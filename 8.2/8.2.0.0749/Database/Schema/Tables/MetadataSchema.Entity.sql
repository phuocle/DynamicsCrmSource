CREATE TABLE [MetadataSchema].[Entity]
(
[EntityId] [uniqueidentifier] NOT NULL ROWGUIDCOL,
[Name] [nvarchar] (64) COLLATE Latin1_General_CI_AI NULL,
[ObjectTypeCode] [int] NULL CONSTRAINT [Set_To_Zero7] DEFAULT ((0)),
[PhysicalName] [nvarchar] (64) COLLATE Latin1_General_CI_AI NULL,
[LogicalName] [nvarchar] (64) COLLATE Latin1_General_CI_AI NULL,
[CollectionName] [nvarchar] (64) COLLATE Latin1_General_CI_AI NULL,
[BaseTableName] [nvarchar] (64) COLLATE Latin1_General_CI_AI NULL,
[LogicalCollectionName] [nvarchar] (64) COLLATE Latin1_General_CI_AI NULL,
[IsIntersect] [bit] NOT NULL,
[IsSecurityIntersect] [bit] NOT NULL,
[IsLookupTable] [bit] NOT NULL,
[EventMask] [int] NOT NULL,
[IsLogicalEntity] [bit] NULL CONSTRAINT [Set_To_Zero8] DEFAULT ((0)),
[IsCustomizable] [bit] NULL CONSTRAINT [Set_To_Zero9] DEFAULT ((0)),
[IsCollaboration] [bit] NULL CONSTRAINT [Set_To_Zero10] DEFAULT ((0)),
[IsActivity] [bit] NULL CONSTRAINT [Set_To_Zero11] DEFAULT ((0)),
[AddressTableName] [nvarchar] (64) COLLATE Latin1_General_CI_AI NULL,
[IsMappable] [bit] NULL CONSTRAINT [Set_To_Zero12] DEFAULT ((0)),
[OwnershipTypeMask] [int] NOT NULL CONSTRAINT [Set_To_Zero13] DEFAULT ((0)),
[IsAudited] [bit] NOT NULL CONSTRAINT [Set_To_Zero14] DEFAULT ((0)),
[UsesFullnameConventionRules] [bit] NOT NULL CONSTRAINT [Set_To_Zero15] DEFAULT ((0)),
[IsParented] [bit] NOT NULL CONSTRAINT [Set_To_Zero16] DEFAULT ((0)),
[EntityMask] [int] NULL CONSTRAINT [Set_To_Zero17] DEFAULT ((0)),
[IsReplicated] [bit] NOT NULL CONSTRAINT [Set_To_Zero_2B_Repl_0] DEFAULT ((0)),
[IsReplicationUserFiltered] [bit] NOT NULL CONSTRAINT [Set_To_Zero_2B_Repl_2] DEFAULT ((0)),
[IsChildEntity] [bit] NOT NULL CONSTRAINT [Set_To_Zero_ChildEntity] DEFAULT ((0)),
[IsCustomEntity] [bit] NOT NULL CONSTRAINT [DF__Entity__IsCustom__24A84BF8] DEFAULT ((0)),
[IsActivityParty] [bit] NOT NULL CONSTRAINT [Set_To_Zero_ActivityParty] DEFAULT ((0)),
[IsValidForAdvancedFind] [bit] NOT NULL CONSTRAINT [Set_To_Zero_Entity_IsValidForAdvancedFind] DEFAULT ((0)),
[ExtensionTableName] [nvarchar] (64) COLLATE Latin1_General_CI_AI NULL,
[VersionNumber] [timestamp] NOT NULL,
[ReportViewName] [nvarchar] (64) COLLATE Latin1_General_CI_AI NULL,
[IsRequiredOffline] [bit] NOT NULL CONSTRAINT [DF__Entity__IsRequir__2784B8A3] DEFAULT ((0)),
[IsRenameable] [bit] NOT NULL CONSTRAINT [DF__Entity__IsRename__2878DCDC] DEFAULT ((0)),
[EntityClassName] [nvarchar] (255) COLLATE Latin1_General_CI_AI NOT NULL CONSTRAINT [DF__Entity__EntityCl__0035E158] DEFAULT (''),
[ServiceClassName] [nvarchar] (255) COLLATE Latin1_General_CI_AI NOT NULL CONSTRAINT [DF__Entity__ServiceC__012A0591] DEFAULT (''),
[EntityAssembly] [nvarchar] (255) COLLATE Latin1_General_CI_AI NOT NULL CONSTRAINT [DF__Entity__EntityAs__021E29CA] DEFAULT (''),
[ServiceAssembly] [nvarchar] (255) COLLATE Latin1_General_CI_AI NOT NULL CONSTRAINT [DF__Entity__ServiceA__03124E03] DEFAULT (''),
[EntityRowId] [uniqueidentifier] NOT NULL CONSTRAINT [DF__Entity__EntityRo__0406723C] DEFAULT (newid()),
[IsDuplicateCheckSupported] [bit] NOT NULL CONSTRAINT [DF__Entity__IsDuplic__3C4ACB5F] DEFAULT ((0)),
[IsImportable] [bit] NOT NULL CONSTRAINT [DF__Entity__IsImport__3D3EEF98] DEFAULT ((0)),
[IsShareableAcrossOrgs] [bit] NOT NULL CONSTRAINT [DF__Entity__IsSharea__3E3313D1] DEFAULT ((0)),
[IsPublishable] [bit] NOT NULL CONSTRAINT [DF__Entity__IsPublis__401B5C43] DEFAULT ((0)),
[OriginalLocalizedName] [nvarchar] (100) COLLATE Latin1_General_CI_AI NULL,
[OriginalLocalizedCollectionName] [nvarchar] (100) COLLATE Latin1_General_CI_AI NULL,
[CanTriggerWorkflow] [bit] NOT NULL CONSTRAINT [DF__Entity__CanTrigg__410F807C] DEFAULT ((0)),
[WorkflowSupport] [int] NOT NULL CONSTRAINT [DF__Entity__Workflow__4203A4B5] DEFAULT ((0)),
[CanBeChildInCustomRelationship] [bit] NOT NULL CONSTRAINT [DF__Entity__CanBeChi__59DB2E46] DEFAULT ((0)),
[CanBeInCustomEntityAssociation] [bit] NOT NULL CONSTRAINT [DF__Entity__CanBeInC__5ACF527F] DEFAULT ((0)),
[CanBeInCustomReflexiveRelationship] [bit] NOT NULL CONSTRAINT [DF__Entity__CanBeInC__5BC376B8] DEFAULT ((0)),
[IsMailMergeEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsMailMe__5CB79AF1] DEFAULT ((0)),
[RecurrenceTypeMask] [int] NOT NULL CONSTRAINT [DF__Entity__Recurren__64048255] DEFAULT ((0)),
[RecurrenceBaseEntityId] [uniqueidentifier] NULL,
[IsDocumentManagementEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsDocume__64F8A68E] DEFAULT ((0)),
[MobileAccessLevelMask] [int] NOT NULL CONSTRAINT [DF__Entity__MobileAc__65ECCAC7] DEFAULT ((0)),
[IsVisibleInMobile] [bit] NOT NULL CONSTRAINT [DF__Entity__IsVisibl__66E0EF00] DEFAULT ((0)),
[IsMultipleQueueEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsMultip__67D51339] DEFAULT ((0)),
[AutoRouteToOwnerQueue] [bit] NOT NULL CONSTRAINT [DF__Entity__AutoRout__68C93772] DEFAULT ((0)),
[IsAuditEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsAuditE__69BD5BAB] DEFAULT ((0)),
[IsConnectionsEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsConnec__6AB17FE4] DEFAULT ((0)),
[IsReadingPaneEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsReadin__6BA5A41D] DEFAULT ((1)),
[IsMapiGridEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsMapiGr__6C99C856] DEFAULT ((1)),
[IsEnabledForCharts] [bit] NOT NULL CONSTRAINT [DF__Entity__IsEnable__6D8DEC8F] DEFAULT ((1)),
[IconLargeName] [nvarchar] (512) COLLATE Latin1_General_CI_AI NULL,
[IconMediumName] [nvarchar] (512) COLLATE Latin1_General_CI_AI NULL,
[IconSmallName] [nvarchar] (512) COLLATE Latin1_General_CI_AI NULL,
[NextCustomAttributeColumnNumber] [int] NOT NULL CONSTRAINT [DF__Entity__NextCust__6E8210C8] DEFAULT ((1)),
[ActivityTypeMask] [int] NOT NULL CONSTRAINT [DF__Entity__Activity__6F763501] DEFAULT ((0)),
[IsSolutionAware] [bit] NOT NULL CONSTRAINT [DF__Entity__IsSoluti__0194E53C] DEFAULT ((0)),
[SolutionId] [uniqueidentifier] NOT NULL CONSTRAINT [DF__Entity__Solution__02890975] DEFAULT ('fd140aad-4df4-11dd-bd17-0019b9312238'),
[SupportingSolutionId] [uniqueidentifier] NOT NULL CONSTRAINT [DF__Entity__Supporti__037D2DAE] DEFAULT ('00000000-0000-0000-0000-000000000000'),
[ComponentState] [tinyint] NOT NULL CONSTRAINT [DF__Entity__Componen__047151E7] DEFAULT ((0)),
[OverwriteTime] [datetime] NOT NULL CONSTRAINT [DF__Entity__Overwrit__05657620] DEFAULT ((0)),
[InheritsFrom] [uniqueidentifier] NULL,
[IsInheritedFrom] [bit] NOT NULL CONSTRAINT [DF__Entity__IsInheri__3CB5AB0A] DEFAULT ((0)),
[CanBeSecured] [bit] NOT NULL CONSTRAINT [DF_Entity_CanBeSecured] DEFAULT ((0)),
[CanModifyConnectionSettings] [bit] NOT NULL CONSTRAINT [DF_Entity_CanModifyConnectionSettings] DEFAULT ((1)),
[CanModifyDuplicateDetectionSettings] [bit] NOT NULL CONSTRAINT [DF_Entity_CanModifyDuplicateDetectionSettings] DEFAULT ((1)),
[CanModifyMailMergeSettings] [bit] NOT NULL CONSTRAINT [DF_Entity_CanModifyMailMergeSettings] DEFAULT ((1)),
[CanModifyQueueSettings] [bit] NOT NULL CONSTRAINT [DF_Entity_CanModifyQueueSettings] DEFAULT ((1)),
[CanCreateAttributes] [bit] NOT NULL CONSTRAINT [DF_Entity_CanCreateAttributes] DEFAULT ((1)),
[CanBeRelatedEntityInRelationship] [bit] NOT NULL CONSTRAINT [DF_Entity_CanBeRelatedEntityInRelationship] DEFAULT ((1)),
[CanBePrimaryEntityInRelationship] [bit] NOT NULL CONSTRAINT [DF_Entity_CanBePrimaryEntityInRelationship] DEFAULT ((1)),
[CanBeInManyToMany] [bit] NOT NULL CONSTRAINT [DF_Entity_CanBeInManyToMany] DEFAULT ((1)),
[CanCreateForms] [bit] NOT NULL CONSTRAINT [DF_Entity_CanCreateForms] DEFAULT ((1)),
[CanCreateCharts] [bit] NOT NULL CONSTRAINT [DF_Entity_CanCreateCharts] DEFAULT ((1)),
[CanCreateViews] [bit] NOT NULL CONSTRAINT [DF_Entity_CanCreateViews] DEFAULT ((1)),
[CanModifyAuditSettings] [bit] NOT NULL CONSTRAINT [DF_Entity_CanModifyAuditSettings] DEFAULT ((1)),
[CanModifyMobileVisibility] [bit] NOT NULL CONSTRAINT [DF_Entity_CanModifyMobileVisibility] DEFAULT ((0)),
[ParentComponentType] [int] NULL,
[ParentControllingAttributeName] [nvarchar] (100) COLLATE Latin1_General_CI_AI NULL,
[IsManaged] [bit] NOT NULL CONSTRAINT [DF__Entity__IsManage__69885181] DEFAULT ((0)),
[CanModifyAdditionalSettings] [bit] NOT NULL CONSTRAINT [DF_Entity_CanModifyAdditionalSettings] DEFAULT ((1)),
[IsAIRUpdated] [bit] NOT NULL CONSTRAINT [DF__Entity__IsAIRUpd__4D6C0117] DEFAULT ((0)),
[IsQuickCreateEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsQuickC__4E602550] DEFAULT ((0)),
[IntroducedVersion] [nvarchar] (48) COLLATE Latin1_General_CI_AI NULL,
[AutoCreateAccessTeams] [bit] NOT NULL CONSTRAINT [DF__Entity__AutoCrea__4F544989] DEFAULT ((0)),
[IsBusinessProcessEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsBusine__50486DC2] DEFAULT ((0)),
[HasIdsTable] [bit] NOT NULL CONSTRAINT [DF__Entity__HasIdsTa__513C91FB] DEFAULT ((0)),
[IsReadOnlyInMobileClient] [bit] NOT NULL CONSTRAINT [DF__Entity__IsReadOn__5230B634] DEFAULT ((0)),
[IsVisibleInMobileClient] [bit] NOT NULL CONSTRAINT [DF__Entity__IsVisibl__5324DA6D] DEFAULT ((0)),
[CanModifyMobileClientVisibility] [bit] NOT NULL CONSTRAINT [DF_Entity_CanModifyMobileClientVisibility] DEFAULT ((1)),
[CanModifyMobileClientReadOnly] [bit] NOT NULL CONSTRAINT [DF_Entity_CanModifyMobileClientReadOnly] DEFAULT ((1)),
[IsEnabledForTrace] [bit] NOT NULL CONSTRAINT [DF__Entity__IsEnable__59D1D7FC] DEFAULT ((0)),
[CanChangeHierarchicalRelationship] [bit] NOT NULL CONSTRAINT [DF_Entity_CanChangeHierarchicalRelationship] DEFAULT ((0)),
[EntityHelpUrl] [nvarchar] (1024) COLLATE Latin1_General_CI_AI NULL,
[EntityHelpUrlEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__EntityHe__008C7DC1] DEFAULT ((0)),
[IsHSMEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsHSMEna__06455717] DEFAULT ((0)),
[UsesBusinessDataLabelTable] [bit] NOT NULL CONSTRAINT [DF__Entity__UsesBusi__07397B50] DEFAULT ((0)),
[IsStateModelAware] [bit] NOT NULL CONSTRAINT [DF__Entity__IsStateM__0B0A0C34] DEFAULT ((0)),
[EnforceStateTransitions] [bit] NOT NULL CONSTRAINT [DF__Entity__EnforceS__0BFE306D] DEFAULT ((0)),
[ChangeTrackingEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__ChangeTr__55C2E6A4] DEFAULT ((0)),
[CanChangeTrackingBeEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__CanChang__56B70ADD] DEFAULT ((0)),
[CanEnableSyncToExternalSearchIndex] [bit] NOT NULL CONSTRAINT [DF__Entity__CanEnabl__59937788] DEFAULT ((0)),
[SyncToExternalSearchIndex] [bit] NOT NULL CONSTRAINT [DF__Entity__SyncToEx__5A879BC1] DEFAULT ((0)),
[EntityClass] [int] NOT NULL CONSTRAINT [DF__Entity__EntityCl__5B7BBFFA] DEFAULT ((0)),
[EntityColor] [nvarchar] (7) COLLATE Latin1_General_CI_AI NULL,
[EntitySetName] [nvarchar] (64) COLLATE Latin1_General_CI_AI NULL,
[IsInteractionCentricEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsIntera__762FB636] DEFAULT ((0)),
[IsOneNoteIntegrationEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsOneNot__7817FEA8] DEFAULT ((0)),
[IsPrivate] [bit] NOT NULL CONSTRAINT [DF__Entity__IsPrivat__790C22E1] DEFAULT ((0)),
[IsOfflineInMobileClient] [bit] NOT NULL CONSTRAINT [DF__Entity__IsOfflin__01A168E2] DEFAULT ((0)),
[CanModifyMobileClientOffline] [bit] NOT NULL CONSTRAINT [DF_Entity_CanModifyMobileClientOffline] DEFAULT ((1)),
[DaysSinceRecordLastModified] [int] NOT NULL CONSTRAINT [DF__Entity__DaysSinc__0389B154] DEFAULT ((0)),
[IsEnabledForExternalChannels] [bit] NOT NULL CONSTRAINT [DF__Entity__IsEnable__047DD58D] DEFAULT ((0)),
[CanExternalChannelsBeEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__CanExter__0571F9C6] DEFAULT ((1)),
[IsOptimisticConcurrencyRequired] [bit] NOT NULL CONSTRAINT [DF__Entity__IsOptimi__06661DFF] DEFAULT ((0)),
[IsOptimisticConcurrencyEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsOptimi__075A4238] DEFAULT ((0)),
[CanOptimisticConcurrencyBeEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__CanOptim__084E6671] DEFAULT ((0)),
[CanOptimisticConcurrencyBeRequired] [bit] NOT NULL CONSTRAINT [DF__Entity__CanOptim__09428AAA] DEFAULT ((0)),
[IsKnowledgeManagementEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsKnowle__0C1EF755] DEFAULT ((0)),
[IsBPFEntity] [bit] NOT NULL CONSTRAINT [DF__Entity__IsBPFEnt__7E50C642] DEFAULT ((0)),
[IsDocumentRecommendationsEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsDocume__7F44EA7B] DEFAULT ((0)),
[IsSLAEnabled] [bit] NOT NULL CONSTRAINT [DF__Entity__IsSLAEna__00390EB4] DEFAULT ((0)),
[MobileOfflineFilters] [nvarchar] (4000) COLLATE Latin1_General_CI_AI NOT NULL CONSTRAINT [DF__Entity__MobileOf__012D32ED] DEFAULT ('')
) ON [PRIMARY]
GO
ALTER TABLE [MetadataSchema].[Entity] ADD CONSTRAINT [XPKEntity] PRIMARY KEY CLUSTERED  ([EntityId], [SolutionId], [ComponentState], [OverwriteTime]) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [ndx_entity_fegetformxml] ON [MetadataSchema].[Entity] ([EntityId], [OverwriteTime], [ComponentState]) INCLUDE ([LogicalName], [ObjectTypeCode]) ON [PRIMARY]
GO
CREATE UNIQUE NONCLUSTERED INDEX [ndx_Entity_RowId] ON [MetadataSchema].[Entity] ([EntityRowId], [EntityId]) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [ndx_entity_logicalname] ON [MetadataSchema].[Entity] ([LogicalName]) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [ndx_entity_name] ON [MetadataSchema].[Entity] ([Name]) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [ndx_entity_physicalname] ON [MetadataSchema].[Entity] ([PhysicalName]) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [ndx_Entity_SolutionId] ON [MetadataSchema].[Entity] ([SolutionId], [OverwriteTime]) INCLUDE ([EntityId], [VersionNumber]) ON [PRIMARY]
GO
