Type.registerNamespace('Mscrm');

Mscrm.ControlLayout = function() {}
Mscrm.ControlLayout.prototype = {
    full: 0, 
    compact: 1, 
    headerTile: 2, 
    processConfiguration: 3, 
    flyOutDialog: 4
}
Mscrm.ControlLayout.registerEnum('Mscrm.ControlLayout', false);


Mscrm.PicklistType = function() {}
Mscrm.PicklistType.prototype = {
    radio: 0, 
    list: 1
}
Mscrm.PicklistType.registerEnum('Mscrm.PicklistType', false);


Mscrm.EnumOptionJsonWrapper = function() {}


Mscrm.StatusOptionJsonWrapper = function() {}


Mscrm.LeadFlyOutJsonWrapper = function() {}


Mscrm.OpportunityFlyOutJsonWrapper = function() {}


Mscrm.AccountFlyOutJsonWrapper = function() {}


Mscrm.ContactFlyOutJsonWrapper = function() {}


Mscrm.IQuickFormBehavior = function() {}
Mscrm.IQuickFormBehavior.registerInterface('Mscrm.IQuickFormBehavior');


Mscrm.IFormDataEntity = function() {}
Mscrm.IFormDataEntity.registerInterface('Mscrm.IFormDataEntity');


Mscrm.IDuplicateDetectionService = function() {}
Mscrm.IDuplicateDetectionService.registerInterface('Mscrm.IDuplicateDetectionService');


Mscrm.ILinkControl = function() {}
Mscrm.ILinkControl.registerInterface('Mscrm.ILinkControl');


Mscrm.InitType = function() {}
Mscrm.InitType.prototype = {
    instant: 0, 
    lazy: 1
}
Mscrm.InitType.registerEnum('Mscrm.InitType', false);


Mscrm.SerializationMode = function() {}
Mscrm.SerializationMode.prototype = {
    onlyNonNullValues: 0, 
    onlyDirtyValues: 1, 
    everything: 2
}
Mscrm.SerializationMode.registerEnum('Mscrm.SerializationMode', false);


Mscrm.TelemetryConstants = function() {
}


Mscrm.StateChangeEvents = function() {
}


Mscrm.ProcessControlDataWrapper = function(view) {
    Mscrm.ProcessControlDataWrapper.initializeBase(this);
    this.$k_1 = view;
}
Mscrm.ProcessControlDataWrapper.prototype = {
    $k_1: null,
    
    getActiveProcess: function() {
        return this.$k_1.getActiveProcess();
    },
    
    getProcessInstances: function(callback) {
        this.$k_1.getProcessInstances(callback);
    },
    
    setActiveProcess: function(processId, callback) {
        this.$k_1.setActiveProcess(processId, callback);
    },
    
    setActiveProcessInstance: function(processInstanceId, callback) {
        this.$k_1.setActiveProcessInstance(processInstanceId, callback);
    },
    
    getEnabledProcesses: function(callback) {
        this.$k_1.getEnabledProcesses(callback);
    },
    
    switchProcess: function() {
        this.$k_1.switchProcess();
    },
    
    abandonProcess: function() {
        this.$k_1.abandonProcess();
    },
    
    isLastStage: function() {
        return this.$k_1.isLastStage();
    },
    
    getStatus: function() {
        return this.$k_1.getStatus();
    },
    
    getInstanceName: function() {
        return this.$k_1.getInstanceName();
    },
    
    getInstanceId: function() {
        return this.$k_1.getInstanceId();
    },
    
    setStatus: function(newStatus, callback) {
        this.$k_1.setStatus(newStatus, callback);
    },
    
    canSetActiveStage: function() {
        return this.$k_1.canSetActiveStage();
    },
    
    reactivateProcess: function() {
        this.$k_1.reactivateProcess();
    },
    
    completeProcess: function() {
        this.$k_1.completeProcess();
    },
    
    getActiveStage: function() {
        return this.$k_1.getActiveStage();
    },
    
    getActivePath: function() {
        return this.$k_1.getActivePath();
    },
    
    setActiveStage: function(stageId, callback) {
        this.$k_1.setActiveStage(stageId, callback);
    },
    
    moveNext: function(callback) {
        this.$k_1.moveNext(callback);
    },
    
    movePrevious: function(callback) {
        this.$k_1.movePrevious(callback);
    },
    
    getSelectedStage: function() {
        return this.$k_1.getSelectedStage();
    },
    
    addOnStageChange: function(handler) {
        this.$k_1.addOnStageChange(handler);
    },
    
    removeOnStageChange: function(handler) {
        this.$k_1.removeOnStageChange(handler);
    },
    
    addOnStageSelected: function(handler) {
        this.$k_1.addOnStageSelected(handler);
    },
    
    removeOnStageSelected: function(handler) {
        this.$k_1.removeOnStageSelected(handler);
    },
    
    addOnProcessStatusChange: function(handler) {
        this.$k_1.addOnProcessStatusChange(handler);
    },
    
    removeOnProcessStatusChange: function(handler) {
        this.$k_1.removeOnProcessStatusChange(handler);
    }
}


Mscrm.ProcessControlUIWrapper = function(pcView) {
    Mscrm.ProcessControlUIWrapper.initializeBase(this);
    this.$1G_1 = pcView;
}
Mscrm.ProcessControlUIWrapper.prototype = {
    $1G_1: null,
    
    getId: function() {
        return this.$1G_1.getId();
    },
    
    getVisible: function() {
        return this.$1G_1.getVisible();
    },
    
    getDisplayState: function() {
        return this.$1G_1.getDisplayState();
    },
    
    setDisplayState: function(state) {
        this.$1G_1.setDisplayState(state);
    },
    
    setVisible: function(showProcessControl) {
        this.$1G_1.setVisible(showProcessControl);
    },
    
    reflow: function(updateUI, parentStage, nextStage) {
        this.$1G_1.reflow(updateUI, parentStage, nextStage);
    }
}


Mscrm.InlineRelatedEntityLookupType = function() {
}


Mscrm.CompositeLinkControl = function() {
}


Mscrm.AttributeFormat = function() {
}


Mscrm.AttributeBehavior = function() {
}


Mscrm.SourceType = function() {
}


Mscrm.SourceTypeMask = function() {
}


Mscrm.HtmlAttributeNames = function() {
}


Mscrm.EditEvents = function() {
}


Mscrm.CssClassNames = function() {
}


Mscrm.HtmlElementNames = function() {
}


Mscrm.ElementTemplate = function() {
}


Mscrm.SaveResponse = function($p0, $p1) {
    this.$85_0 = $p0;
    this.$Am_0 = $p1;
}
Mscrm.SaveResponse.prototype = {
    $Am_0: null,
    $85_0: 0,
    $10_0: null,
    $B6_0: null,
    
    get_message: function() {
        return this.$Am_0;
    },
    
    get_code: function() {
        return this.$85_0;
    },
    
    get_recordId: function() {
        return this.$10_0;
    },
    
    set_recordId: function(value) {
        this.$10_0 = value;
        return value;
    },
    
    get_recordName: function() {
        return this.$B6_0;
    },
    
    set_recordName: function(value) {
        this.$B6_0 = value;
        return value;
    },
    
    get_success: function() {
        switch (this.$85_0) {
            case 2:
            case 3:
            case 4:
            case 0:
            case 7:
            case 9:
                return false;
            case 6:
            case 1:
            case 10:
            case 8:
            default:
                return true;
        }
    }
}


Mscrm.SaveResponseCode = function() {
}


Mscrm.LookupItemData = function(name, value) {
    this.name = name;
    this.value = value;
}
Mscrm.LookupItemData.prototype = {
    name: null,
    value: null,
    
    get_name: function() {
        return this.name;
    },
    
    get_value: function() {
        return this.value;
    }
}


Mscrm.LocalStorageNamespace = function(namespaceName) {
    this.$Cy_0 = new Mscrm.TurboForm.Common.CrmLocalStorageProxy();
    if (IsNullOrEmptyString(namespaceName)) {
        throw Error.argumentNull('namespaceName');
    }
    this.$CX_0 = namespaceName;
}
Mscrm.LocalStorageNamespace.prototype = {
    $CX_0: null,
    
    $Dq_0: function($p0) {
        return this.$CX_0 + '/' + $p0;
    },
    
    get_item: function(key) {
        return this.$Cy_0.getItem(this.$Dq_0(key));
    },
    
    set_item: function(key, value) {
        this.$Cy_0.setItem(this.$Dq_0(key), value);
        return value;
    }
}


Mscrm.PartyLookupItemData = function() {
}
Mscrm.PartyLookupItemData.prototype = {
    otypename: null,
    oid: null,
    value: null,
    otype: null,
    activitypartyid: null,
    category: 0,
    isprocessenabled: null,
    processid: null,
    processtimestamp: null
}


Mscrm.ResolvedPartyData = function() {
}
Mscrm.ResolvedPartyData.prototype = {
    existing: false,
    id: null,
    type: null,
    name: null
}


Mscrm.ServiceNames = function() {
}


Mscrm.DeferredInitializationManager = function($p0, $p1) {
    this.$$d_$Jj_1 = Function.createDelegate(this, this.$Jj_1);
    this.$$d_$Jn_1 = Function.createDelegate(this, this.$Jn_1);
    this.$$d_$J0_1 = Function.createDelegate(this, this.$J0_1);
    this.$$d_$KR_1 = Function.createDelegate(this, this.$KR_1);
    this.$5v_1 = {};
    this.$9k_1 = {};
    Mscrm.DeferredInitializationManager.initializeBase(this);
    if (Mscrm.InternalUtilities.JSTypes.isNull($p0)) {
        throw Error.argumentNull('scope');
    }
    if (Mscrm.InternalUtilities.JSTypes.isNull($p1)) {
        throw Error.argumentNull('container');
    }
    this.$4R_1 = $p1;
    this.$7y_1 = new Mscrm.Caching.LocalStorageCache('DeferredInitializationVisibility/' + $p0);
}
Mscrm.DeferredInitializationManager.$9Q = function($p0) {
    return $p0.getBoundingClientRect();
}
Mscrm.DeferredInitializationManager.prototype = {
    $4R_1: null,
    $7y_1: null,
    $4I_1: 0,
    $5q_1: 0,
    $4S_1: false,
    
    updateUsageStatistics: function() {
        var $v_0 = Mscrm.DeferredInitializationManager.$9Q(this.$4R_1);
        var $$dict_3 = this.$9k_1;
        for (var $$key_4 in $$dict_3) {
            var $v_1 = { key: $$key_4, value: $$dict_3[$$key_4] };
            var $v_2 = Mscrm.DeferredInitializationManager.$9Q($v_1.value);
            if ($v_2.top > $v_0.bottom || !$v_2.top) {
                this.$7y_1.set_item($v_1.key, 'false');
            }
            else {
                this.$7y_1.set_item($v_1.key, null);
            }
        }
        this.$A3_1();
    },
    
    deferredInit: function($p0, $p1, $p2, $p3) {
        if (Mscrm.InternalUtilities.JSTypes.isNull($p1)) {
            throw Error.argumentNull('elementToInitialize');
        }
        if (Mscrm.InternalUtilities.JSTypes.isNull($p2)) {
            throw Error.argumentNull('initializer');
        }
        if (Mscrm.InternalUtilities.JSTypes.isNull($p1.id)) {
            throw Error.argument('elementToInitialize', 'Element must have a unique ID');
        }
        if ((($p1.id) in this.$5v_1)) {
            throw Error.invalidOperation('Deferred initialization was already set up for ' + $p1.id);
        }
        this.$9k_1[$p1.id] = $p1;
        $tempVar = $($p1).parents('.ms-crm-InlineTab-Read')[0];
        var $v_0 = $tempVar != undefined ? $tempVar.getAttribute('name') : undefined;
        if ((this.$7y_1.get_item($p1.id) !== 'false' && this.$IV_1($p1, $p0, $v_0)) || this.$IW_1($p1) || this.$IS_1($p1.id)) {
            Xrm.Internal.trace.logT(Mscrm.DeferredInitializationManager, 'init of {0} was not deferred', $p1.id);
            if (Mscrm.InternalUtilities.JSTypes.isNull($p3)) {
                $p3 = $p2;
            }
            $p3($p1);
            return false;
        }
        if (!this.$4I_1 && this.$4S_1) {
            this.$DN_1();
        }
        this.addDeferredElement($p1, $p2);
        Xrm.Internal.trace.logT(Mscrm.DeferredInitializationManager, 'deferred init of {0}', $p1.id);
        return true;
    },
    
    $IV_1: function($p0, $p1, $p2) {
        var $v_0 = $p1.UIDescriptor.Tabs;
        for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
            if ($v_0[$v_1].Name === $p2) {
                return $v_0[$v_1].Expanded;
            }
        }
        return false;
    },
    
    $IW_1: function($p0) {
        if ($p0.style.display === 'none' && $p0.parentNode) {
            var $v_0 = 'crmCCDataSet_' + $p0.id;
            var $v_1 = $p0.parentNode.querySelector('[id$=\'' + $v_0 + '\']');
            if ($v_1) {
                return true;
            }
        }
        return false;
    },
    
    addDeferredElement: function($p0, $p1) {
        this.$4I_1++;
        var $v_0 = new Mscrm.DeferredInitializationEntry();
        $v_0.action = $p1;
        $v_0.element = $p0;
        this.$5v_1[$p0.id] = $v_0;
    },
    
    startTracking: function() {
        if (this.$4S_1) {
            return;
        }
        if (this.$4I_1 > 0) {
            this.$DN_1();
        }
        this.$4S_1 = true;
    },
    
    stopTracking: function() {
        if (!this.$4S_1) {
            Xrm.Internal.trace.warningT(Mscrm.DeferredInitializationManager, 'duplicate call to StopTracking');
            return;
        }
        if (this.$4I_1 > 0) {
            this.$Df_1();
        }
        window.clearTimeout(this.$5q_1);
        this.$4S_1 = false;
    },
    
    $J0_1: function($p0) {
        this.$A3_1();
    },
    
    $Jn_1: function($p0) {
        this.$A3_1();
    },
    
    $Jj_1: function($p0) {
        this.$A3_1();
    },
    
    $A3_1: function() {
        window.clearTimeout(this.$5q_1);
        this.$5q_1 = window.setTimeout(this.$$d_$KR_1, 50);
    },
    
    $KR_1: function() {
        var $v_0 = Mscrm.DeferredInitializationManager.$9Q(this.$4R_1);
        var $$dict_4 = this.$5v_1;
        for (var $$key_5 in $$dict_4) {
            var $v_1 = { key: $$key_5, value: $$dict_4[$$key_5] };
            var $v_2 = $v_1.value;
            var $v_3 = Mscrm.DeferredInitializationManager.$9Q($v_2.element);
            if ($v_3.top <= $v_0.bottom && $v_3.top) {
                delete this.$5v_1[$v_1.key];
                Xrm.Internal.trace.logT(Mscrm.DeferredInitializationManager, 'initiating deferred initialization of {0}', $v_1.key);
                $v_2.action($v_2.element);
                this.$4I_1--;
            }
        }
        if (!this.$4I_1) {
            this.$Df_1();
        }
    },
    
    $DN_1: function() {
        addHandlerToDomElement(this.$4R_1, 'scroll', this.$$d_$J0_1);
        addHandlerToWindow('resize', this.$$d_$Jn_1);
        var $$t_4 = this;
        Xrm.Page.ui.getTabs().forEach(function($p1_0, $p1_1) {
            return $p1_0.addTabStateChange($$t_4.$$d_$Jj_1);
        });
    },
    
    $Df_1: function() {
        var $$t_4 = this;
        Xrm.Page.ui.getTabs().forEach(function($p1_0, $p1_1) {
            return $p1_0.removeTabStateChange($$t_4.$$d_$Jj_1);
        });
        removeHandlerFromDomElement(this.$4R_1, 'scroll', this.$$d_$J0_1);
        removeHandlerFromWindow('resize', this.$$d_$Jn_1);
        window.clearTimeout(this.$5q_1);
    },
    
    internalDispose: function() {
        if (this.$4S_1) {
            this.stopTracking();
        }
        window.clearTimeout(this.$5q_1);
        this.$4R_1 = null;
        this.$5v_1 = null;
        this.$9k_1 = null;
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    $IS_1: function($p0) {
        var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
        if (!Mscrm.InternalUtilities._Script.isNullOrUndefined($v_0) && !Mscrm.InternalUtilities._Script.isNullOrUndefined($v_0.ControlDescriptor) && $v_0.ControlDescriptor.containsKey($p0)) {
            var $v_1 = $v_0.ControlDescriptor.get_item($p0).Parameters;
            for (var $v_2 = 0; $v_2 < $v_1.length; $v_2++) {
                var $v_3 = $v_1[$v_2];
                if ($v_3.Key === 'ChartGridMode' && $v_3.Value === 'Chart') {
                    return true;
                }
            }
        }
        return false;
    }
}


Mscrm.DeferredInitializationEntry = function() {
}
Mscrm.DeferredInitializationEntry.prototype = {
    action: null,
    element: null
}


Mscrm.FormatEventArgs = function(command, commandValue) {
    Mscrm.FormatEventArgs.initializeBase(this);
    this.$AL_1 = command;
    this.$AM_1 = commandValue;
}
Mscrm.FormatEventArgs.prototype = {
    $AL_1: null,
    $AM_1: null,
    $8N_1: false,
    
    get_command: function() {
        return this.$AL_1;
    },
    
    get_commandValue: function() {
        return this.$AM_1;
    },
    
    get_isHandled: function() {
        return this.$8N_1;
    },
    
    set_isHandled: function(value) {
        this.$8N_1 = value;
        return value;
    }
}


Mscrm.HtmlBarControl = function(element) {
    this.$$d_$F1_2 = Function.createDelegate(this, this.$F1_2);
    this.$$d_$JC_2 = Function.createDelegate(this, this.$JC_2);
    this.$$d_$I5_2 = Function.createDelegate(this, this.$I5_2);
    this.$$d_$I6_2 = Function.createDelegate(this, this.$I6_2);
    this.$$d_$I7_2 = Function.createDelegate(this, this.$I7_2);
    this.$BQ_2 = [ [ '#ffffcc', '#ffff99', '#ffff66', '#ffff33', '#ffff00', '#cccc00', '#999900', '#666600', '#333300' ], [ '#ffccff', '#ff99ff', '#ff66ff', '#ff33ff', '#ff00ff', '#cc00cc', '#990099', '#660066', '#330033' ], [ '#ccffff', '#99ffff', '#66ffff', '#33ffff', '#00ffff', '#00cccc', '#009999', '#006666', '#003333' ], [ '#ffcccc', '#ff9999', '#ff6666', '#ff3333', '#ff0000', '#cc0000', '#990000', '#660000', '#330000' ], [ '#ccffcc', '#99ff99', '#66ff66', '#33ff33', '#00ff00', '#00cc00', '#009900', '#006600', '#003300' ], [ '#ccccff', '#9999ff', '#6666ff', '#3333ff', '#0000ff', '#0000cc', '#000099', '#000066', '#000033' ], [ '#ffffff', '#cccccc', '#999999', '#666666', '#333333', '#ffcc00', '#ff9900', '#ff6600', '#ff3300' ], [ '#000000', '#ccff00', '#99ff00', '#66ff00', '#33ff00', '#00ccff', '#0099ff', '#0066ff', '#0033ff' ] ];
    Mscrm.HtmlBarControl.initializeBase(this, [ element ]);
}
Mscrm.HtmlBarControl.prototype = {
    $3J_2: null,
    $1b_2: null,
    $7Z_2: null,
    $51_2: null,
    $52_2: null,
    $4b_2: null,
    $1k_2: null,
    $p_2: null,
    $37_2: null,
    $57_2: false,
    $6X_2: 0,
    
    get_$3W_2: function() {
        if (!IsNull(this.$37_2)) {
            return this.$37_2;
        }
        var $v_0 = window.document.getElementById('descriptionIFrame');
        if (IsNull($v_0)) {
            $v_0 = window.document.getElementById('WREditorIFrame');
        }
        if (!IsNull($v_0)) {
            this.$37_2 = $v_0.contentWindow.document.body;
        }
        else {
            this.$37_2 = window.document.getElementById('ContentEditor');
            if (IsNull(this.$37_2)) {
                this.$37_2 = window.document.getElementById('TemplateEditor');
            }
        }
        return this.$37_2;
    },
    
    add_formatChange: function(value) {
        this.get_events().addHandler('HtmlBarOnSaveEvent', value);
    },
    
    remove_formatChange: function(value) {
        this.get_events().removeHandler('HtmlBarOnSaveEvent', value);
    },
    
    $7G_2: null,
    
    get_targetFrameId: function() {
        return this.$7G_2;
    },
    
    set_targetFrameId: function(value) {
        this.$7G_2 = value;
        return value;
    },
    
    initialize: function() {
        Sys.Component.prototype.initialize.call(this);
        var $v_0 = [];
        $v_0[0] = this.get_element();
        var $v_1 = null;
        do {
            $v_1 = $v_0.pop();
            var $$t_3 = this;
            XUI.Html.DomUtils.ForEachChild($v_1, function($p1_0) {
                if ($p1_0.nodeType === 1) {
                    if ($p1_0.nodeName.toUpperCase() !== 'TEXTAREA') {
                        $$t_3.$Iq_2($p1_0);
                    }
                    if (XUI.Html.DomUtils.HasChildElements($p1_0)) {
                        $v_0.push($p1_0);
                    }
                }
                return false;
            });
        } while ($v_0.length > 0);
        $v_0 = null;
        Mscrm.CrmDebug.assert(!IsNull(window.LOCID_HTMLBAR_DEFAULTFONTS), 'LOCID_HTMLBAR_DEFAULTFONTS must exist!');
        this.$7Z_2 = (window.LOCID_HTMLBAR_DEFAULTFONTS).split(',');
        addHandlerToDomElement(this.get_element(), 'mouseover', this.$$d_$I7_2);
        addHandlerToDomElement(this.get_element(), 'mouseout', this.$$d_$I6_2);
        addHandlerToDomElement(this.get_element(), 'mousedown', this.$$d_$I5_2);
        this.$6X_2 = window.document.body.clientWidth;
        addHandlerToWindow('resize', this.$$d_$JC_2);
        window.setTimeout(this.$$d_$F1_2, 2);
    },
    
    dispose: function() {
        removeHandlerFromDomElement(this.get_element(), 'mouseover', this.$$d_$I7_2);
        removeHandlerFromDomElement(this.get_element(), 'mouseout', this.$$d_$I6_2);
        removeHandlerFromDomElement(this.get_element(), 'mousedown', this.$$d_$I5_2);
        removeHandlerFromWindow('resize', this.$$d_$JC_2);
        $clearHandlers(this.get_element());
        var $v_0 = this.get_events().getHandler('HtmlBarOnSaveEvent');
        if (!IsNull($v_0)) {
            this.remove_formatChange($v_0);
        }
        if (this.$51_2) {
            this.$51_2.dispose();
        }
        if (this.$52_2) {
            this.$52_2.dispose();
        }
        if (this.$4b_2) {
            this.$4b_2.dispose();
        }
        if (!IsNull(this.$1k_2)) {
            window.parent.$removeHandler(window.parent.document.body, 'mousedown', this.$1k_2);
            if (!IsNull(this.$p_2)) {
                removeHandlerFromDomElement(this.$p_2, 'mousedown', this.$1k_2);
            }
        }
        Sys.Component.prototype.dispose.call(this);
    },
    
    htmlExecute: function(commandToExecute, commandValue) {
        if (!IsNull(window.self.saveEditorSelection)) {
            window.self.saveEditorSelection();
        }
        var $v_0 = window.document;
        if (!isNullOrEmptyString(this.$7G_2)) {
            var $v_5 = $get(this.$7G_2);
            $v_0 = $v_5.contentWindow.document;
        }
        var $v_1;
        try {
            $v_1 = $v_0.activeElement;
        }
        catch ($$e_5) {
            $v_1 = $v_0.body;
        }
        Mscrm.CrmDebug.assert(!IsNull($v_1), 'Document.ActiveElement must exist.');
        var $v_2 = $v_1.getAttribute('applyformat');
        if (!IsNull($v_2) && !Mscrm.Utilities.parseBoolean($v_2)) {
            return;
        }
        if (IsNull(commandValue)) {
            commandValue = null;
        }
        var $v_3 = new Mscrm.FormatEventArgs(commandToExecute, commandValue);
        this.$K4_2($v_3);
        if ($v_3.$8N_1) {
            return;
        }
        var $v_4 = false;
        if (!IsNull(window.self.crmExecuteCommand)) {
            $v_4 = window.self.crmExecuteCommand(commandToExecute, commandValue);
        }
        if (!$v_4) {
            this.executeCommandAndHandleAlignmentIssue($v_0, commandToExecute, false, commandValue);
        }
        if (commandToExecute === 'insertUnorderedList' || commandToExecute === 'insertOrderedList' || commandToExecute === 'indent' || commandToExecute === 'outdent') {
            this.$Fk_2();
        }
    },
    
    $Fk_2: function() {
        Mscrm.CrmDebug.assert(!IsNull(this.get_$3W_2()), 'ContentEditor must exist.');
        if (IsNull(this.get_$3W_2())) {
            return;
        }
        var $v_0 = Mscrm.CrmUri.create(window.location.search);
        var $v_1 = this.get_$3W_2().getElementsByTagName('UL');
        var $v_2 = this.get_$3W_2().getElementsByTagName('OL');
        for (var $v_3 = 0; $v_3 < $v_1.length; $v_3++) {
            var $v_4 = $v_1[$v_3];
            if (isNullOrEmptyString($v_4.className)) {
                if (($v_0.get_query()['etc'] == "127")) {
                    $v_4.className = 'Articlesedit_article_div_secEdit RTE_list_style_position';
                }
                else {
                    $v_4.className = 'RTE_list_style_position';
                }
            }
        }
        for (var $v_5 = 0; $v_5 < $v_2.length; $v_5++) {
            var $v_6 = $v_2[$v_5];
            if (isNullOrEmptyString($v_6.className)) {
                $v_6.className = 'RTE_list_style_position';
            }
        }
    },
    
    $Gy_2: function() {
        Mscrm.CrmDebug.assert(!IsNull(this.get_$3W_2()), 'ContentEditor must exist.');
        if (IsNull(this.get_$3W_2())) {
            return;
        }
        var $v_0 = this.get_$3W_2().getElementsByTagName('UL');
        var $v_1 = this.get_$3W_2().getElementsByTagName('OL');
        var $v_2 = [];
        for (var $v_4 = 0; $v_4 < $v_0.length; $v_4++) {
            $v_2[$v_2.length] = $v_0[$v_4];
        }
        for (var $v_5 = 0; $v_5 < $v_1.length; $v_5++) {
            $v_2[$v_2.length] = $v_1[$v_5];
        }
        var $v_3 = new RegExp('\\S');
        for (var $v_6 = 0; $v_6 < $v_2.length; $v_6++) {
            var $v_7 = $v_2[$v_6];
            if (!$v_3.test($v_7.innerHTML)) {
                $v_7.style.display = 'none';
            }
            else {
                $v_7.style.display = '';
                var $$t_B = this;
                XUI.Html.DomUtils.ForEachChild($v_7, function($p1_0) {
                    var $v_8 = XUI.Html.DomUtils.GetFirstChild($p1_0);
                    if (IsNull($v_8) || IsNull($v_8.tagName)) {
                        return false;
                    }
                    do {
                        var $v_9 = $v_8.getAttribute('align');
                        if (!(isNullOrEmptyString($v_9) || !($v_9 === 'center' || $v_9 === 'left' || $v_9 === 'right'))) {
                            $p1_0.parentNode.style.textAlign = $v_9;
                            $v_8.removeAttribute('align');
                            return false;
                        }
                        $v_8 = XUI.Html.DomUtils.GetFirstChild($v_8);
                        if (IsNull($v_8) || IsNull($v_8.tagName)) {
                            break;
                        }
                        if ('DIV' === $v_8.tagName.toUpperCase()) {
                            $v_8.style.display = 'inline';
                        }
                    } while (true);
                    return false;
                });
            }
        }
    },
    
    $4r_2: null,
    
    get_editableControl: function() {
        return this.$4r_2;
    },
    
    set_editableControl: function(value) {
        this.$4r_2 = value;
        return value;
    },
    
    executeCommandAndHandleAlignmentIssue: function(targetDocument, command, displayUserInterface, commandValue) {
        switch (command) {
            case 'justifyLeft':
            case 'justifyCenter':
            case 'justifyRight':
            case 'insertUnorderedList':
            case 'insertOrderedList':
                try {
                    targetDocument.execCommand(command, displayUserInterface, commandValue);
                }
                catch ($v_0) {
                    var $v_1 = $v_0.result;
                    if ($v_1 === 2147500037) {
                        if (!IsNull(this.$4r_2)) {
                            var $v_2 = targetDocument.createElement('DIV');
                            this.$4r_2.insertBefore($v_2, XUI.Html.DomUtils.GetFirstChild(this.$4r_2));
                            targetDocument.execCommand(command, displayUserInterface, commandValue);
                            $v_2.parentNode.removeChild($v_2);
                        }
                    }
                    else {
                        throw $v_0;
                    }
                }
                if (Mscrm.Utilities.isIE()) {
                    this.$Gy_2();
                }
                break;
            default:
                targetDocument.execCommand(command, displayUserInterface, commandValue);
                break;
        }
    },
    
    handlePopupClick: function(commandName, sourceElement) {
        var $v_0 = null;
        while ((!IsNull(sourceElement)) && (sourceElement.tagName.toUpperCase() !== 'TD')) {
            sourceElement = sourceElement.parentNode;
        }
        switch (commandName) {
            case 'fontname':
                $v_0 = sourceElement.style.fontFamily;
                break;
            case 'fontsize':
                $v_0 = sourceElement.getAttribute('val');
                break;
            case 'ForeColor':
                $v_0 = sourceElement.getAttribute('data-color');
                break;
        }
        this.htmlExecute(commandName, $v_0);
        this.$9m_2(this.$3J_2);
        if (!IsNull(this.$1b_2)) {
            this.$1b_2.hide();
            this.$1b_2 = null;
        }
    },
    
    $K4_2: function($p0) {
        var $v_0 = this.get_events().getHandler('HtmlBarOnSaveEvent');
        if (!IsNull($v_0)) {
            $v_0(this, $p0);
        }
    },
    
    $Co_2: function($p0) {
        while ((!IsNull($p0)) && ($p0.tagName.toUpperCase() !== 'TD')) {
            if ($p0.tagName.toUpperCase() === 'BODY') {
                $p0 = null;
                break;
            }
            $p0 = $p0.parentNode;
        }
        if (IsNull($p0)) {
            return null;
        }
        if ($p0.className.indexOf('htmlBtn') >= 0) {
            return $p0;
        }
        return null;
    },
    
    $9m_2: function($p0) {
        if (!IsNull($p0)) {
            $p0.style.border = '1px solid transparent';
            $p0.style.backgroundColor = '';
        }
        if (!IsNull(this.$1k_2)) {
            if (window.parent !== window.self) {
                window.parent.$removeHandler(window.parent.document.body, 'mousedown', this.$1k_2);
            }
            if (window.top !== window.self) {
                window.top.$removeHandler(window.top.document.body, 'mousedown', this.$1k_2);
            }
            if (!IsNull(this.$p_2)) {
                removeHandlerFromDomElement(this.$p_2, 'mousedown', this.$1k_2);
            }
            this.$1k_2 = null;
        }
    },
    
    $I7_2: function($p0) {
        var $v_0 = this.$Co_2($p0.target);
        if (!IsNull($v_0)) {
            $v_0.style.border = '1px solid #F1C43F';
            $v_0.style.backgroundColor = 'FDEEB3';
            if (!IsNull(this.$3J_2) && ((this.$3J_2.getAttribute('dropdown')) === 'true') && $v_0 !== this.$3J_2) {
                if (!IsNull(this.$1b_2)) {
                    this.$1b_2.hide();
                    this.$1b_2 = null;
                }
                this.$9m_2(this.$3J_2);
            }
            this.$3J_2 = $v_0;
        }
    },
    
    $I6_2: function($p0) {
        var $v_0 = this.$Co_2($p0.target);
        if (!IsNull($v_0)) {
            var $v_1 = $v_0.getAttribute('dropdown');
            if ($v_1 !== 'true' || IsNull(this.$1b_2)) {
                this.$9m_2($v_0);
                this.$3J_2 = null;
            }
        }
    },
    
    $CK_2: function($p0) {
        var $v_0 = this.$1b_2;
        if (!IsNull(this.$1b_2)) {
            $v_0.show();
            var $v_1 = this;
            var $$t_5 = this;
            this.$1k_2 = function($p1_0) {
                $v_1.$9m_2($p0);
            };
            if (window.parent !== window.self) {
                window.parent.$addHandler(window.parent.document.body, 'mousedown', this.$1k_2);
            }
            if (window.top !== window.self) {
                window.top.$addHandler(window.top.document.body, 'mousedown', this.$1k_2);
            }
            if (IsNull(this.$p_2)) {
                var $v_2 = ($get('descriptionIFrame'));
                if (!IsNull($v_2)) {
                    this.$p_2 = $v_2.contentWindow.document.body;
                }
            }
            if (!IsNull(this.$p_2)) {
                addHandlerToDomElement(this.$p_2, 'mousedown', this.$1k_2);
            }
        }
    },
    
    $7W_2: function($p0, $p1, $p2, $p3, $p4, $p5) {
        var $v_0 = $p5.createElement('div');
        $p0.appendChild($v_0);
        $v_0.style.position = 'relative';
        $v_0.style.width = '0px';
        $v_0.style.height = '0px';
        var $v_1 = $p5.createElement('div');
        $v_0.appendChild($v_1);
        $v_1.style.border = '1px solid #999999';
        var $v_2 = Mscrm.Dialog.createDialog($v_1);
        if (!IsNull($v_2)) {
            $v_2.set_isModal(false);
            $v_2.set_top(5);
            $v_2.set_left((window.LOCID_UI_DIR === 'RTL') ? $p0.offsetWidth : 0);
            $v_2.set_shiftHorizontal(false);
            $v_2.set_minHeight($p3);
            $v_2.set_isLoading(false);
            $v_2.set_enableShadow(false);
            $v_2.set_body($p1);
            $v_2.set_width($p2);
            $v_2.set_dialogId(this.get_element().id + $p4);
            $v_2.set_neverGrabFocus(true);
        }
        if (Mscrm.Utilities.isIosDevice()) {
            $v_0.style.zIndex = ($v_2.get_zIndex() + 3);
        }
        return $v_2;
    },
    
    $Io_2: function($p0, $p1) {
        if (IsNull(this.$51_2)) {
            var $v_0 = (Mscrm.Utilities.get_isLeftToRight()) ? 'left' : 'right';
            var $v_1 = String.format('<table unselectable=\'on\' class=\'htmlBarUnselectable\' style=\'position:relative;font-size:14px;text-align:{0};width:140px;height:160px;border: 0px;cursor:pointer;\' cellpadding=\'3\' cellspacing=\'0\'>', $v_0);
            for (var $v_5 = 0; $v_5 < this.$7Z_2.length; ++$v_5) {
                $v_1 += String.format('<tr unselectable=\'on\' class=\'htmlBarUnselectable\'><td class=\'htmlFontCell htmlBarUnselectable\' unselectable=\'on\' style=\'font-family:{0}\'><a class=\'htmlAnchorStyle\' selectEnable=\'true\' onclick=\'return false;\' href=\'javascript:onclick();\' target=\'_self\'>{1}</a></td></tr>', CrmEncodeDecode.CrmHtmlAttributeEncode(this.$7Z_2[$v_5]), CrmEncodeDecode.CrmHtmlEncode(this.$7Z_2[$v_5]));
            }
            $v_1 += '</table>';
            var $v_2 = $p0.createElement('div');
            $v_2.innerHTML = $v_1;
            var $v_3 = XUI.Html.DomUtils.GetFirstChild($v_2);
            var $v_4 = this;
            var $$t_9 = this;
            addHandlerToDomElement($v_3, 'click', function($p1_0) {
                $v_4.handlePopupClick('fontname', $p1_0.target);
            });
            this.$51_2 = this.$7W_2($p1, $v_3, 140, 160, 'fontName', $p0);
        }
        this.$1b_2 = this.$51_2;
    },
    
    $Ip_2: function($p0, $p1) {
        if (IsNull(this.$52_2)) {
            var $v_0 = (Mscrm.Utilities.get_isLeftToRight()) ? 'left' : 'right';
            var $v_1 = String.format('<table unselectable=\'on\' class=\'htmlBarUnselectable\' style=\'position:relative;font-size:14px;text-align:{0};width:120px;height:170px;border: 0px;cursor:pointer;\' cellpadding=\'3\' cellspacing=\'0\'>', $v_0);
            var $v_2 = 0;
            for (var $v_9 = 0; $v_9 < 6; $v_9++) {
                $v_2 = $v_9 + $v_9 + 8;
                var $v_A = String.format(LOCID_HTMLBAR_FONT_SIZE, $v_2);
                $v_1 += String.format('<tr unselectable=\'on\' class=\'htmlBarUnselectable\'><td unselectable=\'on\' class=\'htmlFontCell htmlBarUnselectable\' style=\'font-family:verdana;font-size:{0}\' val=\'{1}\'><a class=\'htmlAnchorStyle\' selectEnable=\'true\' onclick=\'return false;\' href=\'javascript:onclick();\' target=\'_self\'>{2}</a></td></tr>', $v_2 + 'pt', $v_9 + 1, $v_A);
            }
            $v_1 += '</table>';
            var $v_3 = $p0.createElement('div');
            $p0.body.appendChild($v_3);
            $v_3.style.fontSize = '' + $v_2 + 'pt';
            $v_3.style.position = 'absolute';
            $v_3.style.left = '-1000';
            $v_3.style.top = '-1000';
            $v_3.innerHTML = String.format(LOCID_HTMLBAR_FONT_SIZE, $v_2);
            var $v_4 = $v_3.clientWidth;
            $p0.body.removeChild($v_3);
            $v_3 = null;
            var $v_5 = ($v_4 < 90) ? 120 : $v_4 + 30;
            var $v_6 = $p0.createElement('div');
            $v_6.innerHTML = $v_1;
            var $v_7 = XUI.Html.DomUtils.GetFirstChild($v_6);
            var $v_8 = this;
            var $$t_E = this;
            addHandlerToDomElement($v_7, 'click', function($p1_0) {
                $v_8.handlePopupClick('fontsize', $p1_0.target);
            });
            this.$52_2 = this.$7W_2($p1, $v_7, $v_5, 170, 'fontSize', $p0);
        }
        this.$1b_2 = this.$52_2;
    },
    
    $In_2: function($p0, $p1) {
        if (IsNull(this.$4b_2)) {
            var $v_0 = '<table unselectable=\'on\' class=\'htmlBarUnselectable\' style=\'font-size:14px;width:150px;height:141px;border: 0px;cursor:pointer;border-collapse:collapse;\' cellpadding=\'0\' cellspacing=\'0\'>';
            for (var $v_4 = 0; $v_4 < this.$BQ_2.length; $v_4++) {
                $v_0 += '<tr unselectable=\'on\' class=\'htmlBarUnselectable\'>';
                var $v_5 = this.$BQ_2[$v_4];
                for (var $v_6 = 0; $v_6 < $v_5.length; $v_6++) {
                    $v_0 += String.format('<td unselectable=\'on\' class=\'htmlBarUnselectable\' style=\'background-color:{0}\' data-color=\'{0}\'><a class=\'htmlAnchorStyle\' selectEnable=\'true\' onclick=\'return false;\' href=\'javascript:onclick();\' target=\'_self\'>&nbsp;</a></td>', $v_5[$v_6]);
                }
                $v_0 += '</tr>';
            }
            $v_0 += '</table>';
            var $v_1 = $p0.createElement('div');
            $v_1.innerHTML = $v_0;
            var $v_2 = XUI.Html.DomUtils.GetFirstChild($v_1);
            var $v_3 = this;
            var $$t_A = this;
            addHandlerToDomElement($v_2, 'click', function($p1_0) {
                $v_3.handlePopupClick('ForeColor', $p1_0.target);
            });
            this.$4b_2 = this.$7W_2($p1, $v_2, 150, 141, 'foreColor', $p0);
        }
        this.$1b_2 = this.$4b_2;
    },
    
    $I5_2: function($p0) {
        var $v_0 = this.$Co_2($p0.target);
        $p0.stopPropagation();
        if (!IsNull($v_0) && ($v_0.getAttribute('dropdown')) === 'true') {
            var $v_1 = this.get_element().ownerDocument;
            switch ($v_0.getAttribute('command')) {
                case 'fontName':
                    this.$Io_2($v_1, $v_0);
                    this.$CK_2($v_0);
                    break;
                case 'fontSize':
                    this.$Ip_2($v_1, $v_0);
                    this.$CK_2($v_0);
                    break;
                case 'foreColor':
                    this.$In_2($v_1, $v_0);
                    this.$CK_2($v_0);
                    break;
            }
        }
    },
    
    $Iq_2: function($p0) {
        $p0.setAttribute('unselectable', 'on');
        Sys.UI.DomElement.addCssClass($p0, 'htmlBarUnselectable');
    },
    
    $JC_2: function($p0) {
        var $v_0 = window.document.body.clientWidth;
        var $v_1 = 5;
        if ($v_0 >= this.$6X_2 - $v_1 && $v_0 < this.$6X_2 + $v_1) {
            return;
        }
        this.$6X_2 = $v_0;
        this.$F1_2();
    },
    
    $F1_2: function() {
        if (!IsNull(this.get_element())) {
            var $v_0 = this.$HT_2();
            var $v_1 = Mscrm.Utilities.getChildElementsByClassName(this.get_element(), 'htmlBtnHideable', false);
            if (!this.$57_2 && this.get_element().offsetWidth < ($v_0 + 25)) {
                for (var $v_2 = 0; $v_2 < $v_1.length; $v_2++) {
                    ($v_1[$v_2]).style.display = 'none';
                }
                this.$57_2 = true;
            }
            else if (this.$57_2 && this.get_element().offsetWidth >= $v_0) {
                var $v_3 = this.get_element().offsetWidth - $v_0;
                this.$57_2 = false;
                for (var $v_4 = 0; $v_4 < $v_1.length && $v_3 > 0; $v_4++) {
                    ($v_1[$v_4]).style.display = 'inline';
                    $v_3 -= ($v_1[$v_4]).offsetWidth;
                    if ($v_3 < 0) {
                        ($v_1[$v_4]).style.display = 'none';
                        this.$57_2 = true;
                    }
                }
            }
        }
    },
    
    $HT_2: function() {
        var $v_0 = 0;
        if (IsNull(this.get_element())) {
            return $v_0;
        }
        var $v_1 = this.get_element().getElementsByTagName('TD');
        for (var $v_2 = 0; $v_2 < $v_1.length; $v_2++) {
            var $v_3 = $v_1[$v_2];
            if (!IsNull($v_3.getAttribute('ignoreforresize')) && $v_3.getAttribute('ignoreforresize')) {
                continue;
            }
            $v_0 += $v_3.offsetWidth;
        }
        return $v_0;
    }
}


Type.registerNamespace('Mscrm.TurboForm.Control');

Mscrm.TurboForm.Control.ErrorCode = function() {}
Mscrm.TurboForm.Control.ErrorCode.prototype = {
    serviceIsBusy: -1, 
    none: 0, 
    exceedsMaxLength: 1, 
    greaterThanMaxValue: 2, 
    lessThanMinValue: 3, 
    exceedsNumberRange: 4, 
    exceedsFloatRange: 5, 
    exceedsPrecision: 6, 
    invalidType: 7, 
    invalidNumber: 8, 
    emptyControlTitle: 9, 
    valueIsRequired: 10, 
    invalidEmail: 11, 
    invalidDuration: 12, 
    saveCanceled: 13, 
    entityNotDirty: 14, 
    emptyLookupObjectCollection: 15, 
    lookupInputNotArray: 16, 
    lookupExceedsPermissibleItems: 17, 
    lookupInvalidType: 18, 
    lookupEntityTypeMissing: 19, 
    lookupUnknownItem: 20, 
    lookupAmbiguousItem: 21, 
    emptyCurrencyLookup: 22, 
    invalidCurrency: 23, 
    badTypeDuration: 24
}
Mscrm.TurboForm.Control.ErrorCode.registerEnum('Mscrm.TurboForm.Control.ErrorCode', false);


Mscrm.TurboForm.Control.FormStateMasks = function() {}
Mscrm.TurboForm.Control.FormStateMasks.prototype = {
    none: 0, 
    loaded: 1, 
    saving: 2, 
    error: 4, 
    locked: 8, 
    dirty: 16
}
Mscrm.TurboForm.Control.FormStateMasks.registerEnum('Mscrm.TurboForm.Control.FormStateMasks', true);


Mscrm.TurboForm.Control.IDisposable = function() {}
Mscrm.TurboForm.Control.IDisposable.registerInterface('Mscrm.TurboForm.Control.IDisposable');


Mscrm.TurboForm.Control.IView = function() {}
Mscrm.TurboForm.Control.IView.registerInterface('Mscrm.TurboForm.Control.IView');


Mscrm.TurboForm.Control.PropertyKey = function() {}
Mscrm.TurboForm.Control.PropertyKey.prototype = {
    displayState: 0, 
    visible: 1, 
    label: 2, 
    focus: 3, 
    disabled: 4, 
    requiredLevel: 5, 
    value: 6, 
    format: 7, 
    maxLength: 8, 
    minValue: 9, 
    maxValue: 10, 
    initialValue: 11, 
    optionSet: 12, 
    userPrivilege: 13, 
    pageLoaded: 14, 
    notificationMessage: 15, 
    formTitle: 16, 
    source: 17, 
    silverlightData: 18, 
    formState: 19, 
    typeIcon: 20, 
    searchRecords: 21, 
    resolvedItems: 22, 
    currencySymbol: 23, 
    currencyPrecision: 24, 
    uriImage: 25, 
    sourceType: 26, 
    formId: 27, 
    headerImageUrl: 28, 
    safeValue: 29, 
    securitySettingForEmail: 30, 
    isUnsafe: 31, 
    lookupStyle: 32, 
    sourceTypeMask: 33, 
    rollupAssociatedDateFieldName: 34, 
    rollupInvalid: 35, 
    warningEnabled: 36, 
    emptyValuePlaceholder: 37, 
    rollupAssociatedStateFieldName: 38, 
    processControlItems: 39, 
    notificationLevel: 40
}
Mscrm.TurboForm.Control.PropertyKey.registerEnum('Mscrm.TurboForm.Control.PropertyKey', false);


Mscrm.TurboForm.Control.IPageManager = function() {}
Mscrm.TurboForm.Control.IPageManager.registerInterface('Mscrm.TurboForm.Control.IPageManager');


Mscrm.TurboForm.Control.ActivityFeedsStateForEntity = function() {
}
Mscrm.TurboForm.Control.ActivityFeedsStateForEntity.prototype = {
    IsConfigured: false,
    IsWallEnabled: false,
    IsFollowed: false,
    IsFollowedInYammer: false
}


Mscrm.TurboForm.Control.EventHandlerDescriptor = function() {
}
Mscrm.TurboForm.Control.EventHandlerDescriptor.prototype = {
    EventName: null,
    FunctionName: null,
    LibraryName: null,
    Parameters: null,
    PassExecutionContext: false,
    AttributeName: null,
    ControlId: null
}


Mscrm.TurboForm.Control.ControlDescriptorBase = function() {
}
Mscrm.TurboForm.Control.ControlDescriptorBase.prototype = {
    Name: null,
    Id: null,
    Label: null,
    ShowLabel: true,
    Visible: true
}


Mscrm.TurboForm.Control.UIPageDescriptor = function() {
    Mscrm.TurboForm.Control.UIPageDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.UIPageDescriptor.prototype = {
    Tabs: null,
    HiddenFields: null,
    Header: null,
    Footer: null,
    InlineEditGridRow: null,
    InlineQuickForms: null,
    EventHandlers: null,
    LinkControlSections: null,
    FormType: 0
}


Mscrm.TurboForm.Control.UITabDescriptor = function() {
    Mscrm.TurboForm.Control.UITabDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.UITabDescriptor.prototype = {
    Sections: null,
    EventHandlers: null,
    Expanded: false
}


Mscrm.TurboForm.Control.UISectionDescriptor = function() {
    Mscrm.TurboForm.Control.UISectionDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.UISectionDescriptor.prototype = {
    Controls: null
}


Mscrm.TurboForm.Control.UIControlDescriptor = function() {
    Mscrm.TurboForm.Control.UIControlDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.UIControlDescriptor.prototype = {
    ClassId: null,
    Parameters: null,
    Disabled: false,
    ControlLayout: 0
}


Mscrm.TurboForm.Control.UIFlyoutDescriptor = function() {
    Mscrm.TurboForm.Control.UIFlyoutDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.UIFlyoutDescriptor.prototype = {
    Title: null,
    EventHandlers: null,
    ButtonCollection: null,
    Section: null
}


Mscrm.TurboForm.Control.DataBoundUIControlDescriptor = function() {
    Mscrm.TurboForm.Control.DataBoundUIControlDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.DataBoundUIControlDescriptor.prototype = {
    DataFieldName: null
}


Mscrm.TurboForm.Control.PageDescriptor = function() {
}
Mscrm.TurboForm.Control.PageDescriptor.prototype = {
    FormDescriptor: null,
    PrimaryFormId: null
}


Mscrm.TurboForm.Control.UIFormDescriptor = function() {
}
Mscrm.TurboForm.Control.UIFormDescriptor.prototype = {
    UIDescriptor: null,
    Metadata: null,
    SubGrids: null,
    FormId: null
}


Mscrm.TurboForm.Control.EntityDescriptor = function() {
}
Mscrm.TurboForm.Control.EntityDescriptor.prototype = {
    LogicalName: null,
    Code: 0,
    EntitySetName: null,
    PrimaryKeyName: null,
    Attributes: null
}


Mscrm.TurboForm.Control.AttributeDescriptor = function() {
}
Mscrm.TurboForm.Control.AttributeDescriptor.prototype = {
    Name: null,
    Type: null,
    AttributeMetadata: null
}


Mscrm.TurboForm.Control.AttributeMetadataDescriptor = function() {
}
Mscrm.TurboForm.Control.AttributeMetadataDescriptor.prototype = {
    ValidForCreate: false,
    ValidForRead: false,
    ValidForUpdate: false,
    RequiredLevel: null,
    SourceType: 0,
    SourceTypeMask: 0,
    RollupAssociatedDateFieldName: null,
    RollupAssociatedStateFieldName: null,
    RollupInvalid: false,
    IsSecured: false
}


Mscrm.TurboForm.Control.HiddenAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.HiddenAttributeMetadataDescriptor.initializeBase(this);
}


Mscrm.TurboForm.Control.StringAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.StringAttributeMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.StringAttributeMetadataDescriptor.prototype = {
    MaxLength: 0,
    Format: null
}


Mscrm.TurboForm.Control.DateTimeAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.DateTimeAttributeMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.DateTimeAttributeMetadataDescriptor.prototype = {
    Format: null,
    Behavior: 0
}


Mscrm.TurboForm.Control.DecimalAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.DecimalAttributeMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.DecimalAttributeMetadataDescriptor.prototype = {
    MinValue: 0,
    MaxValue: 0,
    Precision: 0
}


Mscrm.TurboForm.Control.FloatAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.FloatAttributeMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.FloatAttributeMetadataDescriptor.prototype = {
    MinValue: 0,
    MaxValue: 0,
    Precision: 0
}


Mscrm.TurboForm.Control.IntegerAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.IntegerAttributeMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.IntegerAttributeMetadataDescriptor.prototype = {
    MinValue: 0,
    MaxValue: 0,
    Format: null
}


Mscrm.TurboForm.Control.MoneyAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.MoneyAttributeMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.MoneyAttributeMetadataDescriptor.prototype = {
    MinValue: 0,
    MaxValue: 0,
    Precision: 0
}


Mscrm.TurboForm.Control.PicklistAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.PicklistAttributeMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.PicklistAttributeMetadataDescriptor.prototype = {
    DefaultValue: 0,
    OptionSetId: null,
    PicklistOptions: null,
    Format: null
}


Mscrm.TurboForm.Control.StatusOptionAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.StatusOptionAttributeMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.StatusOptionAttributeMetadataDescriptor.prototype = {
    StatusOptions: null,
    EnforceStateTransitions: false,
    StateTransitions: null
}


Mscrm.TurboForm.Control.PicklistOptionDescriptor = function() {
}
Mscrm.TurboForm.Control.PicklistOptionDescriptor.prototype = {
    Value: 0,
    DisplayOrder: 0,
    Label: null
}


Mscrm.TurboForm.Control.LookupTypeNameDescriptor = function() {
}
Mscrm.TurboForm.Control.LookupTypeNameDescriptor.prototype = {
    EntityName: null,
    EntityID: 0,
    EntityTypeId: 0,
    DisplayName: null,
    TypeIconPath: null
}


Mscrm.TurboForm.Control.LookupAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.LookupAttributeMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.LookupAttributeMetadataDescriptor.prototype = {
    LookupStyle: null,
    LookupTypes: null,
    CreatePermissionDictionary: null,
    LookupTypeNames: null,
    SubjectLookupData: null,
    IsPartyListControl: false
}


Mscrm.TurboForm.Control.BooleanAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.BooleanAttributeMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.BooleanAttributeMetadataDescriptor.prototype = {
    DefaultValue: false,
    Options: null
}


Mscrm.TurboForm.Control.UniqueIdentifierAttributeMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.UniqueIdentifierAttributeMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.UniqueIdentifierAttributeMetadataDescriptor.prototype = {
    Format: null
}


Mscrm.TurboForm.Control.InlineEditSubGridRowMetadataDescriptor = function() {
}
Mscrm.TurboForm.Control.InlineEditSubGridRowMetadataDescriptor.prototype = {
    Id: null,
    RowMetadata: null
}


Mscrm.TurboForm.Control.MemoMetadataDescriptor = function() {
    Mscrm.TurboForm.Control.MemoMetadataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.MemoMetadataDescriptor.prototype = {
    SafeValue: null,
    SecuritySettingForEmail: 0,
    IsUnsafe: 0
}


Mscrm.TurboForm.Control.WrpcTokenDescriptor = function() {
}
Mscrm.TurboForm.Control.WrpcTokenDescriptor.prototype = {
    Url: null,
    Token: null,
    Timestamp: null
}


Mscrm.TurboForm.Control.ControlBuilder = function() {
    this.$D6_0 = {};
    this.$D4_0 = {};
}
Mscrm.TurboForm.Control.ControlBuilder.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.ControlBuilder.$7)) {
        Mscrm.TurboForm.Control.ControlBuilder.$7 = new Mscrm.TurboForm.Control.ControlBuilder();
    }
    return Mscrm.TurboForm.Control.ControlBuilder.$7;
}
Mscrm.TurboForm.Control.ControlBuilder.prototype = {
    
    registerViewModelBuilder: function(classId, builderFunction) {
        this.$D6_0[classId.toString()] = builderFunction;
    },
    
    registerViewBuilder: function(classId, builderFunction, readOnly) {
        if (IsNull(readOnly)) {
            readOnly = false;
        }
        this.$D4_0[this.$ED_0(readOnly, classId)] = builderFunction;
    },
    
    $ED_0: function($p0, $p1) {
        return String.format('{0}_{1}', $p0, $p1.toString());
    },
    
    buildViewModel: function(descriptor, parentSection, parentFormUI) {
        var $v_0 = this.$D6_0[descriptor.ClassId.toString()];
        var $v_1;
        if (!IsNull($v_0)) {
            $v_1 = $v_0(descriptor, parentSection, parentFormUI);
        }
        else {
            $v_1 = new Mscrm.TurboForm.Control.StubControlViewModel(descriptor, parentSection, parentFormUI);
        }
        return $v_1;
    },
    
    buildView: function(descriptor, readOnly) {
        var $v_0 = this.$D4_0[this.$ED_0(readOnly, descriptor.ClassId)];
        var $v_1;
        if (!IsNull($v_0)) {
            $v_1 = $v_0(descriptor);
        }
        else {
            $v_1 = new Mscrm.TurboForm.Control.StubControlView(descriptor);
        }
        return $v_1;
    }
}


Mscrm.TurboForm.Control.StubControlViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.StubControlViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
    Xrm.Internal.trace.warningT(Mscrm.TurboForm.Control.StubControlViewModel, 'Created {0}', this.getKey());
}
Mscrm.TurboForm.Control.StubControlViewModel.prototype = {
    
    getControlType: function() {
        return 'standard';
    }
}


Mscrm.TurboForm.Control.StubControlView = function(descriptor) {
    Mscrm.TurboForm.Control.StubControlView.initializeBase(this, [ descriptor ]);
    Xrm.Internal.trace.warningT(Mscrm.TurboForm.Control.StubControlView, 'Created {0}', this.getKey());
}
Mscrm.TurboForm.Control.StubControlView.prototype = {
    
    update: function(propertyBag) {
        Xrm.Internal.trace.logT(Mscrm.TurboForm.Control.StubControlView, 'Update {0}', this.getKey());
    },
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.bindInternal.call(this);
        Xrm.Internal.trace.logT(Mscrm.TurboForm.Control.StubControlView, 'Bind {0}', this.getKey());
    },
    
    unbindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.unbindInternal.call(this);
        Xrm.Internal.trace.logT(Mscrm.TurboForm.Control.StubControlView, 'Unbind {0}', this.getKey());
    }
}


Mscrm.TurboForm.Control.DataAttributeBuilder = function() {
    this.$BG_0 = {};
}
Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.DataAttributeBuilder.$7)) {
        Mscrm.TurboForm.Control.DataAttributeBuilder.$7 = new Mscrm.TurboForm.Control.DataAttributeBuilder();
    }
    return Mscrm.TurboForm.Control.DataAttributeBuilder.$7;
}
Mscrm.TurboForm.Control.DataAttributeBuilder.prototype = {
    
    registerAttributeBuilder: function(name, builderFunction) {
        this.$BG_0[name] = builderFunction;
    },
    
    buildAttribute: function(descriptor, parentEntity) {
        var $v_0 = this.$BG_0[descriptor.Type];
        if (IsNull($v_0)) {
            return new Mscrm.TurboForm.Control.StubDataAttribute(descriptor, parentEntity);
        }
        return $v_0(descriptor, parentEntity);
    }
}


Mscrm.TurboForm.Control.StubDataAttribute = function(descriptor, parentEntity) {
    Mscrm.TurboForm.Control.StubDataAttribute.initializeBase(this, [ descriptor, parentEntity ]);
}
Mscrm.TurboForm.Control.StubDataAttribute.prototype = {
    
    getAttributeType: function() {
        return 'unkown';
    },
    
    bindDataInternal: function(data) {
        var $v_0 = data['value'];
        this.setValueInternal($v_0);
    }
}


Mscrm.TurboForm.Control.DataEntityBuilder = function() {
}
Mscrm.TurboForm.Control.DataEntityBuilder.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.DataEntityBuilder.$7)) {
        Mscrm.TurboForm.Control.DataEntityBuilder.$7 = new Mscrm.TurboForm.Control.DataEntityBuilder();
    }
    return Mscrm.TurboForm.Control.DataEntityBuilder.$7;
}
Mscrm.TurboForm.Control.DataEntityBuilder.prototype = {
    
    buildDataEntity: function(descriptor, parent) {
        var $v_0 = new Mscrm.TurboForm.Control.Data.DataEntity(descriptor, parent);
        var $v_1 = $v_0.getAttributes();
        for (var $v_2 = 0; $v_2 < descriptor.Attributes.length; $v_2++) {
            var $v_3 = Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().buildAttribute(descriptor.Attributes[$v_2], $v_0);
            $v_1.add($v_3);
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.PageBuilder = function() {
}
Mscrm.TurboForm.Control.PageBuilder.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.PageBuilder.$7)) {
        Mscrm.TurboForm.Control.PageBuilder.$7 = new Mscrm.TurboForm.Control.PageBuilder();
    }
    return Mscrm.TurboForm.Control.PageBuilder.$7;
}
Mscrm.TurboForm.Control.PageBuilder.$7R = function($p0, $p1, $p2) {
    for (var $v_0 = 0; $v_0 < $p0.length; $v_0++) {
        var $v_1 = Mscrm.TurboForm.Control.ControlBuilder.get_instance().buildViewModel($p0[$v_0], null, $p2);
        $p1.add($v_1);
    }
}
Mscrm.TurboForm.Control.PageBuilder.$7Q = function($p0, $p1, $p2) {
    for (var $v_0 = 0; $v_0 < $p0.length; $v_0++) {
        var $v_1 = Mscrm.TurboForm.Control.ControlBuilder.get_instance().buildView($p0[$v_0], $p2);
        if (!IsNull($v_1)) {
            $p1.addChildView($v_1);
        }
    }
}
Mscrm.TurboForm.Control.PageBuilder.$GK = function($p0, $p1, $p2) {
    var $v_0 = $p0.LinkControlSections;
    $p2.$3K_4 = new Array($p0.LinkControlSections.length);
    for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
        $p2.$3K_4[$v_1] = new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel))();
        Mscrm.TurboForm.Control.PageBuilder.$7R($v_0[$v_1].Section.Controls, $p2.$3K_4[$v_1], $p1);
    }
}
Mscrm.TurboForm.Control.PageBuilder.prototype = {
    
    buildPageViewModel: function(descriptor, parentFormUI) {
        var $v_0 = new Mscrm.TurboForm.Control.ViewModel.FormViewModel(descriptor, parentFormUI.$8_1);
        for (var $v_1 = 0; $v_1 < descriptor.Tabs.length; $v_1++) {
            var $v_2 = Mscrm.TurboForm.Control.TabBuilder.get_instance().buildViewModel(descriptor.Tabs[$v_1], parentFormUI);
            $v_0.addChildViewModel($v_2);
        }
        $v_0.$55_4 = new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel))();
        $v_0.$53_4 = new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel))();
        $v_0.$5a_4 = new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel))();
        Mscrm.TurboForm.Control.PageBuilder.$7R(descriptor.Header, $v_0.$55_4, parentFormUI);
        Mscrm.TurboForm.Control.PageBuilder.$7R(descriptor.Footer, $v_0.$53_4, parentFormUI);
        if (!IsNull(descriptor.InlineEditGridRow)) {
            Mscrm.TurboForm.Control.PageBuilder.$7R(descriptor.InlineEditGridRow, $v_0.$5a_4, parentFormUI);
        }
        $v_0.$5A_4 = new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel))();
        if (!IsNull(descriptor.InlineQuickForms)) {
            Mscrm.TurboForm.Control.PageBuilder.$7R(descriptor.InlineQuickForms, $v_0.$5A_4, parentFormUI);
        }
        if (!IsNull(descriptor.LinkControlSections)) {
            Mscrm.TurboForm.Control.PageBuilder.$GK(descriptor, parentFormUI, $v_0);
        }
        return $v_0;
    },
    
    buildPageView: function(descriptor, isPrimaryForm, quickFormUniqueId) {
        var $v_0 = (isPrimaryForm) ? new Mscrm.TurboForm.Control.View.PageView(descriptor) : new Mscrm.TurboForm.Control.View.FormView(descriptor);
        for (var $v_1 = 0; $v_1 < descriptor.Tabs.length; $v_1++) {
            var $v_2 = Mscrm.TurboForm.Control.TabBuilder.get_instance().buildView(descriptor.Tabs[$v_1], quickFormUniqueId);
            $v_0.addChildView($v_2);
        }
        Mscrm.TurboForm.Control.PageBuilder.$7Q(descriptor.Header, $v_0, false);
        Mscrm.TurboForm.Control.PageBuilder.$7Q(descriptor.Footer, $v_0, true);
        if (!IsNull(descriptor.InlineEditGridRow)) {
            Mscrm.TurboForm.Control.PageBuilder.$7Q(descriptor.InlineEditGridRow, $v_0, false);
        }
        if (!IsNull(descriptor.InlineQuickForms)) {
            Mscrm.TurboForm.Control.PageBuilder.$7Q(descriptor.InlineQuickForms, $v_0, false);
        }
        if (!IsNull(descriptor.LinkControlSections)) {
            this.$GA_0(descriptor.LinkControlSections, $v_0);
        }
        return $v_0;
    },
    
    $GA_0: function($p0, $p1) {
        for (var $$arr_2 = $p0, $$len_3 = $$arr_2.length, $$idx_4 = 0; $$idx_4 < $$len_3; ++$$idx_4) {
            var $v_0 = $$arr_2[$$idx_4];
            var $v_1 = $v_0.Id.toString().indexOf('compositionLinkControl');
            if ($v_1 > -1) {
                var $v_2 = new Mscrm.TurboForm.Control.UIControlDescriptor();
                $v_2.ClassId = Mscrm.TurboForm.Common.FormControlClassId.linkControl;
                $v_2.Id = $v_0.Id.toString();
                $v_2.Disabled = false;
                var $v_3 = Mscrm.TurboForm.Control.ControlBuilder.get_instance().buildView($v_2, false);
                if (!IsNull($v_3)) {
                    $p1.addChildView($v_3);
                }
            }
            Mscrm.TurboForm.Control.PageBuilder.$7Q($v_0.Section.Controls, $p1, false);
        }
    }
}


Mscrm.TurboForm.Control.SectionBuilder = function() {
}
Mscrm.TurboForm.Control.SectionBuilder.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.SectionBuilder.$7)) {
        Mscrm.TurboForm.Control.SectionBuilder.$7 = new Mscrm.TurboForm.Control.SectionBuilder();
    }
    return Mscrm.TurboForm.Control.SectionBuilder.$7;
}
Mscrm.TurboForm.Control.SectionBuilder.prototype = {
    
    buildViewModel: function(descriptor, parentTab, parentFormUI) {
        var $v_0 = new Mscrm.TurboForm.Control.ViewModel.SectionViewModel(descriptor, parentTab, parentFormUI);
        for (var $v_1 = 0; $v_1 < descriptor.Controls.length; $v_1++) {
            var $v_2 = Mscrm.TurboForm.Control.ControlBuilder.get_instance().buildViewModel(descriptor.Controls[$v_1], $v_0, parentFormUI);
            $v_0.addChildViewModel($v_2);
        }
        return $v_0;
    },
    
    buildView: function(descriptor) {
        var $v_0 = new Mscrm.TurboForm.Control.View.SectionView(descriptor);
        for (var $v_1 = 0; $v_1 < descriptor.Controls.length; $v_1++) {
            var $v_2 = Mscrm.TurboForm.Control.ControlBuilder.get_instance().buildView(descriptor.Controls[$v_1], false);
            if (!IsNull($v_2)) {
                $v_0.addChildView($v_2);
            }
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.TabBuilder = function() {
}
Mscrm.TurboForm.Control.TabBuilder.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.TabBuilder.$7)) {
        Mscrm.TurboForm.Control.TabBuilder.$7 = new Mscrm.TurboForm.Control.TabBuilder();
    }
    return Mscrm.TurboForm.Control.TabBuilder.$7;
}
Mscrm.TurboForm.Control.TabBuilder.prototype = {
    
    buildViewModel: function(descriptor, parentFormUI) {
        var $v_0 = new Mscrm.TurboForm.Control.ViewModel.TabViewModel(descriptor, parentFormUI);
        for (var $v_1 = 0; $v_1 < descriptor.Sections.length; $v_1++) {
            var $v_2 = Mscrm.TurboForm.Control.SectionBuilder.get_instance().buildViewModel(descriptor.Sections[$v_1], $v_0, parentFormUI);
            $v_0.addChildViewModel($v_2);
        }
        return $v_0;
    },
    
    buildView: function(descriptor, quickFormUniqueId) {
        var $v_0 = new Mscrm.TurboForm.Control.View.TabView(descriptor, quickFormUniqueId);
        for (var $v_1 = 0; $v_1 < descriptor.Sections.length; $v_1++) {
            var $v_2 = Mscrm.TurboForm.Control.SectionBuilder.get_instance().buildView(descriptor.Sections[$v_1]);
            $v_0.addChildView($v_2);
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.CommandBarManager = function() {
    this.$C3_1 = new Mscrm.MetricsStopwatch('Initialize Command Bar');
    this.$3M_1 = [];
    Mscrm.TurboForm.Control.CommandBarManager.initializeBase(this);
}
Mscrm.TurboForm.Control.CommandBarManager.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.CommandBarManager.$7) || Mscrm.TurboForm.Control.CommandBarManager.$7.isDisposed) {
        Mscrm.TurboForm.Control.CommandBarManager.$7 = new Mscrm.TurboForm.Control.CommandBarManager();
    }
    return Mscrm.TurboForm.Control.CommandBarManager.$7;
}
Mscrm.TurboForm.Control.CommandBarManager.prototype = {
    $2m_1: null,
    $44_1: 0,
    $6p_1: false,
    
    get_formRibbonLayoutUrl: function() {
        return this.$2m_1;
    },
    
    set_formRibbonLayoutUrl: function(value) {
        this.$2m_1 = value;
        return value;
    },
    
    get_pendingNonFormCommandBarRequests: function() {
        return this.$44_1;
    },
    
    get_isFormCommandBarLoaded: function() {
        return this.$6p_1;
    },
    
    addNonFormRibbonLayoutUrl: function(nonFormRibbonLayoutUrl) {
        if (IsNull(this.$3M_1)) {
            return;
        }
        this.$3M_1[this.$3M_1.length] = nonFormRibbonLayoutUrl;
    },
    
    initializeCommandBar: function() {
        this.$C3_1.start();
        var $v_0 = new Mscrm.MetricsStopwatch('Form RibbonLayout Request - Async');
        $v_0.start();
        if (!IsNull(this.$2m_1)) {
            var $v_1 = window.top.RibbonUrlLayoutCache;
            if (!_Script.isNullOrUndefined($v_1) && !_Script.isNullOrUndefined(($v_1)[this.$2m_1.toString()])) {
                var $v_2 = ($v_1)[this.$2m_1.toString()];
                eval($v_2);
                var $v_3 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1;
                if (!IsNull($v_3) && !IsNullOrEmptyString($v_3.commandBarData)) {
                    eval($v_3.commandBarData);
                }
                this.$6p_1 = true;
            }
            else {
                var $v_4 = {};
                var $$t_7 = this;
                requestPage(this.$2m_1.toString(), function($p1_0) {
                    eval($p1_0);
                    var $v_5 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1;
                    if (!IsNull($v_5) && !IsNullOrEmptyString($v_5.commandBarData)) {
                        eval($v_5.commandBarData);
                    }
                    $$t_7.$6p_1 = true;
                    $v_4[$$t_7.$2m_1.toString()] = $p1_0;
                    window.top.RibbonLayoutUrlCache = $v_4;
                }, true);
            }
        }
        $v_0.stop();
        Mscrm.TurboForm.Control.PageBootstrapper.hasPageLoaded = true;
        this.$C3_1.stop();
        this.requestNonFormLayoutUrls();
    },
    
    requestNonFormLayoutUrls: function() {
        if (this.$3M_1.length) {
            var $v_0 = new Mscrm.MetricsStopwatch('Non-Form RibbonLayout Request - Async');
            $v_0.start();
            for (var $v_1 = 0; $v_1 < this.$3M_1.length; $v_1++) {
                var $$t_3 = this;
                requestPage(this.$3M_1[$v_1].toString(), function($p1_0) {
                    $$t_3.$Dk_1($p1_0);
                }, true);
            }
            this.$44_1 = this.$3M_1.length;
            $v_0.stop();
        }
    },
    
    $Dk_1: function($p0) {
        if (!this.$6p_1) {
            if (!Mscrm.TurboForm.Control.CommandBarManager.$4T) {
                setPerformanceMarkerTimestamp('Waiting for Form Ribbon Layout Response to evaluate Subgrid Ribbon Layouts Start Time');
                Mscrm.TurboForm.Control.CommandBarManager.$4T = Xrm.Internal.startMetricsStopwatch('Waiting for Form Ribbon Layout Response to evaluate Subgrid Ribbon Layouts');
                Mscrm.TurboForm.Control.CommandBarManager.$4T.start();
            }
            var $$t_1 = this;
            window.setTimeout(function() {
                $$t_1.$Dk_1($p0);
            }, 15);
            return;
        }
        if (Mscrm.TurboForm.Control.CommandBarManager.$4T) {
            Mscrm.TurboForm.Control.CommandBarManager.$4T.stop();
            setPerformanceMarkerTimestamp('Waiting for Form Ribbon Layout Response to evaluate Subgrid Ribbon Layouts End Time');
            Mscrm.TurboForm.Control.CommandBarManager.$4T = null;
        }
        eval($p0);
        this.$44_1 = this.$44_1 - 1;
        if (!this.$44_1) {
            Mscrm.TurboForm.Control.PageBootstrapper.hasPageLoaded = true;
            Mscrm.Performance.PerformanceMarkerManager.get_instance().addMarker('PageLoadedWithRibbonData', 1);
        }
    }
}


Mscrm.TurboForm.Control.CommandExecutionEventArgs = function(command, entityData, newFormData, saveMode) {
    Mscrm.TurboForm.Control.CommandExecutionEventArgs.initializeBase(this);
    this.$BR_1 = command;
    this.$7c_1 = entityData;
    this.$64_1 = newFormData;
    if (!IsNull(newFormData)) {
        this.$LO_1(newFormData);
    }
    this.$Cm_1 = saveMode;
}
Mscrm.TurboForm.Control.CommandExecutionEventArgs.prototype = {
    $BR_1: 0,
    $7c_1: null,
    $64_1: null,
    $Cm_1: null,
    
    get_command: function() {
        return this.$BR_1;
    },
    
    get_entityData: function() {
        return this.$7c_1;
    },
    
    get_newFormData: function() {
        return this.$64_1;
    },
    
    get_saveMode: function() {
        return this.$Cm_1;
    },
    
    $LO_1: function($p0) {
        var $v_0 = $p0;
        var $v_1 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.formData;
        if (!IsNull($v_0) && !IsNull($v_1)) {
            var $$dict_5 = $v_0;
            for (var $$key_6 in $$dict_5) {
                var $v_2 = { key: $$key_6, value: $$dict_5[$$key_6] };
                var $v_3 = $v_2.key;
                if (!IsNull($v_1[$v_3])) {
                    $v_1[$v_3] = $v_2.value;
                }
            }
        }
    }
}


Mscrm.TurboForm.Control.CommandService = function() {
    this.$$d_$KT_1 = Function.createDelegate(this, this.$KT_1);
    this.$4g_1 = Mscrm.TurboForm.Control.CommandService.get_$9E();
    this.$2h_1 = {};
    this.$4H_1 = new Sys.EventHandlerList();
    Mscrm.TurboForm.Control.CommandService.initializeBase(this);
}
Mscrm.TurboForm.Control.CommandService.get_performDuplicateCheck = function() {
    return Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().$5Q_1;
}
Mscrm.TurboForm.Control.CommandService.set_performDuplicateCheck = function(value) {
    Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().$5Q_1 = value;
    return value;
}
Mscrm.TurboForm.Control.CommandService.get_infraCallForBookOrReschedule = function() {
    return Mscrm.TurboForm.Control.CommandService.$8K;
}
Mscrm.TurboForm.Control.CommandService.set_infraCallForBookOrReschedule = function(value) {
    Mscrm.TurboForm.Control.CommandService.$8K = value;
    return value;
}
Mscrm.TurboForm.Control.CommandService.get_$9E = function() {
    var $v_0 = 30;
    try {
        $v_0 = _autoSaveInterval;
    }
    catch ($$e_1) {
    }
    return $v_0;
}
Mscrm.TurboForm.Control.CommandService.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.CommandService.$7) || Mscrm.TurboForm.Control.CommandService.$7.isDisposed) {
        Mscrm.TurboForm.Control.CommandService.$7 = new Mscrm.TurboForm.Control.CommandService();
    }
    return Mscrm.TurboForm.Control.CommandService.$7;
}
Mscrm.TurboForm.Control.CommandService.get_processControlClientApiUserHandler = function() {
    return Mscrm.TurboForm.Control.CommandService.$2S;
}
Mscrm.TurboForm.Control.CommandService.set_processControlClientApiUserHandler = function(value) {
    Mscrm.TurboForm.Control.CommandService.$2S = value;
    return value;
}
Mscrm.TurboForm.Control.CommandService.$IR = function() {
    if (Mscrm.TurboForm.Control.CommandService.$2S) {
        if (Mscrm.TurboForm.Control.CommandService.$2S.get_setActiveStageInvoked()) {
            Mscrm.TurboForm.Control.CommandService.$2S.invokeSetActiveStageClientApiUserHandler();
        }
        else if (Mscrm.TurboForm.Control.CommandService.$2S.get_moveNextInvoked()) {
            Mscrm.TurboForm.Control.CommandService.$2S.invokeMoveNextClientApiUserHandler();
        }
        else if (Mscrm.TurboForm.Control.CommandService.$2S.get_movePreviousInvoked()) {
            Mscrm.TurboForm.Control.CommandService.$2S.invokeMovePreviousClientApiUserHandler();
        }
    }
}
Mscrm.TurboForm.Control.CommandService.recalculateRecord = function(dataEntity, formId) {
    var $v_0 = jQueryApi.jQueryDeferredFactory.Deferred(Mscrm.TurboForm.Control.EntityDataDescriptor, Mscrm.ErrorInformation);
    var $v_1 = Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString();
    if (!IsNullOrEmptyString(dataEntity.getId())) {
        $v_1 = dataEntity.getId();
    }
    var $v_2 = String.format('<Input><id>{0}</id><name>{1}</name><formId>{2}</formId><dataxml>{3}</dataxml></Input>', CrmEncodeDecode.CrmXmlEncode($v_1), CrmEncodeDecode.CrmXmlEncode(dataEntity.getEntityName()), CrmEncodeDecode.CrmXmlEncode(formId), CrmEncodeDecode.CrmXmlEncode(dataEntity.getDataXml()));
    Mscrm.TurboForm.Control.CommandService.get_instance().executeCommand(66, $v_2, false).then(function($p1_0) {
        var $v_3 = JSON.parse($p1_0.ReturnValue.toString());
        if (Mscrm.TurboForm.Control.CommandService.get_instance().checkResponseForErrors($v_3)) {
            var $v_4 = $v_3['_error'];
            $v_0.reject($v_4);
        }
        else {
            var $v_5 = JSON.parse($p1_0.ReturnValue.toString());
            Mscrm.TurboForm.Control.CommandService.get_instance().get_$c_1().bindData($v_5, 3);
            $v_0.resolve($v_5);
        }
    }, function($p1_0) {
        $v_0.reject($p1_0);
        Mscrm.TurboForm.Control.CommandService.get_instance().$2L_1 = false;
    });
    return $v_0;
}
Mscrm.TurboForm.Control.CommandService.$GW = function($p0) {
    var $v_0 = '';
    for (var $v_1 = 0; $v_1 < $p0.$2R_1.length; $v_1++) {
        var $v_2 = $p0.$2R_1[$v_1];
        $v_0 += String.format('<association><relationshipname>{0}</relationshipname><sourceentityid>{1}</sourceentityid><sourceentitylogicalname>{2}</sourceentitylogicalname><relationshiproleordinal>{3}</relationshiproleordinal></association>', CrmEncodeDecode.CrmXmlEncode($v_2.get_relationshipName()), CrmEncodeDecode.CrmXmlEncode($v_2.get_sourceEntityId()), CrmEncodeDecode.CrmXmlEncode($v_2.get_sourceEntityLogicalName()), CrmEncodeDecode.CrmXmlEncode($v_2.get_isReverse().toString()));
    }
    return $v_0;
}
Mscrm.TurboForm.Control.CommandService.$Kz = function($p0, $p1) {
    var $v_0 = getEntityReference($p1);
    if (!Mscrm.InternalUtilities.JSTypes.isNull($p0) && !Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        if ($p0.$1j_1 !== $v_0.TypeName) {
            $p0.set_recordName($v_0.TypeName);
        }
    }
}
Mscrm.TurboForm.Control.CommandService.$Ky = function($p0, $p1) {
    var $v_0 = getEntityReference($p1);
    if (!Mscrm.InternalUtilities.JSTypes.isNull($p0) && !Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        if ($p0.get_isNew() || $v_0.Id !== $p0.$w_1) {
            $p0.set_recordId($v_0.Id);
        }
    }
    return false;
}
Mscrm.TurboForm.Control.CommandService.activate = function(newStateCode, succeedCallback, errorCallback) {
    var $v_0 = Mscrm.TurboForm.Control.CommandService.get_instance().get_$c_1();
    var $v_1 = $v_0.$K_1.$8_1.$z_1;
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        if (Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(newStateCode)) {
            newStateCode = 'Active';
        }
        var $v_2 = '';
        $v_2 = String.format('<Input><id>{0}</id><name>{1}</name><formId>{2}</formId><newStateCode>{3}</newStateCode><dataxml>{4}</dataxml></Input>', CrmEncodeDecode.CrmXmlEncode($v_0.$w_1), CrmEncodeDecode.CrmXmlEncode($v_0.getEntityName()), CrmEncodeDecode.CrmXmlEncode($v_1.toString()), CrmEncodeDecode.CrmXmlEncode(newStateCode), $v_2);
        Mscrm.TurboForm.Control.CommandService.get_instance().executeCommand(6, $v_2).then(Mscrm.TurboForm.Control.CommandService.$3h(succeedCallback), Mscrm.TurboForm.Control.CommandService.$3a(errorCallback));
    }
}
Mscrm.TurboForm.Control.CommandService.deactivate = function(newStateCode, newStatusCode, recordId, entityLogicalName, formData, doNotRetrieve, formId, succeedCallback, errorCallback) {
    var $v_0 = Mscrm.TurboForm.Control.CommandService.get_instance().get_$c_1();
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        Mscrm.TurboForm.Control.CommandService.$7.executeCommand(5, formData).then(function($p1_0) {
            Mscrm.TurboForm.Control.CommandService.deactivateWithReference(newStateCode, newStatusCode, recordId, entityLogicalName, formData, doNotRetrieve, formId, succeedCallback, errorCallback);
        }, function($p1_0) {
            return;
        });
    }
}
Mscrm.TurboForm.Control.CommandService.deactivateWithReference = function(newStateCode, newStatusCode, recordId, entityLogicalName, formData, doNotRetrieve, formId, succeedCallback, errorCallback) {
    if (Mscrm.InternalUtilities.JSTypes.isNull(newStatusCode)) {
        newStatusCode = -1;
    }
    if (Mscrm.InternalUtilities.JSTypes.isNull(formData)) {
        formData = '';
    }
    if (Mscrm.InternalUtilities.JSTypes.isNull(formId)) {
        formId = '{00000000-0000-0000-0000-000000000000}';
    }
    formData = String.format('<Input><id>{0}</id><name>{1}</name><formId>{2}</formId><newStateCode>{3}</newStateCode><newStatusCode>{4}</newStatusCode><donotretrieve>{5}</donotretrieve><dataxml>{6}</dataxml></Input>', CrmEncodeDecode.CrmXmlEncode(recordId), CrmEncodeDecode.CrmXmlEncode(entityLogicalName), CrmEncodeDecode.CrmXmlEncode(formId), CrmEncodeDecode.CrmXmlEncode(newStateCode), CrmEncodeDecode.CrmXmlEncode(newStatusCode.toString()), CrmEncodeDecode.CrmXmlEncode(doNotRetrieve.toString()), CrmEncodeDecode.CrmXmlEncode(formData));
    Mscrm.TurboForm.Control.CommandService.get_instance().executeCommand(5, formData, false).then(Mscrm.TurboForm.Control.CommandService.$3h(succeedCallback), Mscrm.TurboForm.Control.CommandService.$3a(errorCallback));
}
Mscrm.TurboForm.Control.CommandService.promptDataLossOnCloseInTurbo = function() {
    return Mscrm.TurboForm.Control.CommandService.get_instance().$Ca_1();
}
Mscrm.TurboForm.Control.CommandService.$HP = function($p0) {
    var $v_0 = null;
    if (!IsNullOrEmptyString($p0.Title)) {
        $v_0 = $p0.Title;
    }
    else {
        if ($p0.Code === '0x80040265') {
            $v_0 = $p0.Description;
        }
        if (Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString($v_0)) {
            $v_0 = $p0.DisplayText;
        }
    }
    return $v_0;
}
Mscrm.TurboForm.Control.CommandService.$3a = function($p0) {
    return function($p1_0) {
        $p0($p1_0);
    };
}
Mscrm.TurboForm.Control.CommandService.$3h = function($p0) {
    return function($p1_0) {
        $p0(JSON.parse($p1_0.ReturnValue.toString()));
        Mscrm.TurboForm.Control.CommandService.get_instance().$3Q_1 = true;
        Mscrm.TurboForm.Control.CommandService.get_instance().refreshGrid();
    };
}
Mscrm.TurboForm.Control.CommandService.createConnection = function(targetId, targetEntityName, roleId, succeedCallback, errorCallback) {
    Mscrm.CrmDebug.assert(!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(targetId), 'Empty targetId parameter when creating a connection');
    Mscrm.CrmDebug.assert(!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(targetEntityName), 'Empty targetEntityName parameter when creating a connection');
    Mscrm.CrmDebug.assert(!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(roleId), 'Empty roleId parameter when creating a connection');
    var $v_0 = Mscrm.TurboForm.Control.CommandService.get_instance().get_$c_1();
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        var $v_1 = String.format('<Input>\r\n\t\t\t\t\t\t<id>{0}</id>\r\n\t\t\t\t\t\t<name>{1}</name>\r\n\t\t\t\t\t\t<targetid>{2}</targetid>\r\n\t\t\t\t\t\t<targetentityname>{3}</targetentityname>\r\n\t\t\t\t\t\t<roleid>{4}</roleid>\r\n\t\t\t\t\t</Input>', CrmEncodeDecode.CrmXmlEncode($v_0.$w_1), CrmEncodeDecode.CrmXmlEncode($v_0.getEntityName()), CrmEncodeDecode.CrmXmlEncode(targetId), CrmEncodeDecode.CrmXmlEncode(targetEntityName), CrmEncodeDecode.CrmXmlEncode(roleId));
        Mscrm.TurboForm.Control.CommandService.get_instance().executeCommand(207, $v_1, false).then(Mscrm.TurboForm.Control.CommandService.$3h(succeedCallback), Mscrm.TurboForm.Control.CommandService.$3a(errorCallback));
    }
}
Mscrm.TurboForm.Control.CommandService.createProduct = function(isCreateNew, entityTypeCode, productId, entityName, productName, pricePerUnit, quantity, discountAmount, recordId, sequenceNumber, succeedCallback, errorCallback) {
    var $v_0 = Mscrm.TurboForm.Control.CommandService.get_instance().get_$c_1();
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        var $v_1 = String.format('<Input>\r\n\t\t\t\t\t\t<id>{0}</id>\r\n\t\t\t\t\t\t<etc>{1}</etc>\r\n\t\t\t\t\t\t<productid>{2}</productid>\r\n\t\t\t\t\t\t<name>{3}</name>\r\n\t\t\t\t\t\t<productname>{4}</productname>\r\n\t\t\t\t\t\t<priceperunit>{5}</priceperunit>\r\n\t\t\t\t\t\t<quantity>{6}</quantity>\r\n\t\t\t\t\t\t<recordid>{7}</recordid>\r\n\t\t\t\t\t\t<manualdiscountamount>{8}</manualdiscountamount>\r\n\t\t\t\t\t\t<iscreatenew>{9}</iscreatenew>\r\n\t\t\t\t\t\t<sequencenumber>{10}</sequencenumber>\r\n\t\t\t\t\t</Input>', CrmEncodeDecode.CrmXmlEncode($v_0.$w_1), CrmEncodeDecode.CrmXmlEncode(entityTypeCode.toString()), CrmEncodeDecode.CrmXmlEncode(productId), CrmEncodeDecode.CrmXmlEncode(entityName), CrmEncodeDecode.CrmXmlEncode(productName), CrmEncodeDecode.CrmXmlEncode(pricePerUnit.toString()), CrmEncodeDecode.CrmXmlEncode(quantity.toString()), CrmEncodeDecode.CrmXmlEncode(recordId), CrmEncodeDecode.CrmXmlEncode(discountAmount.toString()), CrmEncodeDecode.CrmXmlEncode(isCreateNew.toString()), CrmEncodeDecode.CrmXmlEncode(sequenceNumber.toString()));
        Mscrm.TurboForm.Control.CommandService.get_instance().executeCommand(230, $v_1, true, false, false).then(Mscrm.TurboForm.Control.CommandService.$3h(succeedCallback), Mscrm.TurboForm.Control.CommandService.$3a(errorCallback));
    }
}
Mscrm.TurboForm.Control.CommandService.createEntitlementChannel = function(isCreateNew, entityTypeCode, entityName, channel, totalTerms, recordId, succeedCallback, errorCallback) {
    var $v_0 = Mscrm.TurboForm.Control.CommandService.get_instance().get_$c_1();
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        var $v_1 = String.format('<Input>\r\n\t\t\t\t\t\t<id>{0}</id>\r\n\t\t\t\t\t\t<etc>{1}</etc>\r\n\t\t\t\t\t\t<name>{2}</name>\r\n\t\t\t\t\t\t<channel>{3}</channel>\r\n\t\t\t\t\t\t<totalterms>{4}</totalterms>\r\n\t\t\t\t\t\t<recordid>{5}</recordid>\r\n\t\t\t\t\t\t<iscreatenew>{6}</iscreatenew>\r\n\t\t\t\t\t</Input>', CrmEncodeDecode.CrmXmlEncode($v_0.$w_1), CrmEncodeDecode.CrmXmlEncode(entityTypeCode.toString()), CrmEncodeDecode.CrmXmlEncode(entityName), CrmEncodeDecode.CrmXmlEncode(channel), CrmEncodeDecode.CrmXmlEncode(totalTerms.toString()), CrmEncodeDecode.CrmXmlEncode(recordId), CrmEncodeDecode.CrmXmlEncode(isCreateNew.toString()));
        Mscrm.TurboForm.Control.CommandService.get_instance().executeCommand(231, $v_1, false, false, false).then(Mscrm.TurboForm.Control.CommandService.$3h(succeedCallback), Mscrm.TurboForm.Control.CommandService.$3a(errorCallback));
    }
}
Mscrm.TurboForm.Control.CommandService.createDynamicPropertyOptionSetItem = function(entityName, optionName, optionValue, optionDescription, recordId, succeedCallback, errorCallback) {
    var $v_0 = Mscrm.TurboForm.Control.CommandService.get_instance().get_$c_1();
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        var $v_1 = String.format('<Input>\r\n\t\t\t\t\t\t<parentid>{0}</parentid>\r\n\t\t\t\t\t\t<dynamicpropertyoptionname>{1}</dynamicpropertyoptionname>\r\n\t\t\t\t\t\t<dynamicpropertyoptionvalue>{2}</dynamicpropertyoptionvalue>\r\n\t\t\t\t\t\t<recordid>{3}</recordid>\r\n\t\t\t\t\t\t<name>{4}</name>\r\n\t\t\t\t\t\t<dynamicpropertyoptiondescription>{5}</dynamicpropertyoptiondescription>\r\n\t\t\t\t\t</Input>', CrmEncodeDecode.CrmXmlEncode($v_0.$w_1), CrmEncodeDecode.CrmXmlEncode(optionName), CrmEncodeDecode.CrmXmlEncode(optionValue.toString()), CrmEncodeDecode.CrmXmlEncode(recordId), CrmEncodeDecode.CrmXmlEncode(entityName), CrmEncodeDecode.CrmXmlEncode(optionDescription));
        Mscrm.TurboForm.Control.CommandService.get_instance().executeCommand(233, $v_1, false, false, false).then(Mscrm.TurboForm.Control.CommandService.$3h(succeedCallback), Mscrm.TurboForm.Control.CommandService.$3a(errorCallback));
    }
}
Mscrm.TurboForm.Control.CommandService.updateSequenceNo = function(recordId, formId, entityLogicalName, sequenceNumber, succeedCallback, errorCallback) {
    var $v_0 = Mscrm.TurboForm.Control.CommandService.get_instance().get_$c_1();
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        var $v_1 = String.format('<Input><id>{0}</id>\r\n\t\t\t\t\t\t<name>{1}</name>\r\n\t\t\t\t\t\t<formId>{2}</formId>\r\n\t\t\t\t\t\t<sequencenumber>{3}</sequencenumber>\r\n\t\t\t\t\t</Input>', CrmEncodeDecode.CrmXmlEncode(recordId.toString()), CrmEncodeDecode.CrmXmlEncode(entityLogicalName), CrmEncodeDecode.CrmXmlEncode(formId.toString()), CrmEncodeDecode.CrmXmlEncode(sequenceNumber.toString()));
        Mscrm.TurboForm.Control.CommandService.get_instance().executeCommand(270, $v_1, false).then(Mscrm.TurboForm.Control.CommandService.$3h(succeedCallback), Mscrm.TurboForm.Control.CommandService.$3a(errorCallback));
    }
}
Mscrm.TurboForm.Control.CommandService.createCategory = function(title, recordId, sequenceNumber, succeedCallback, errorCallback) {
    var $v_0 = Mscrm.TurboForm.Control.CommandService.get_instance().get_$c_1();
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        var $v_1 = String.format('<Input>\r\n\t\t\t\t\t\t<parentcategoryid>{0}</parentcategoryid>\r\n\t\t\t\t\t\t<title>{1}</title>\r\n\t\t\t\t\t\t<recordid>{2}</recordid>\r\n\t\t\t\t\t\t<sequencenumber>{3}</sequencenumber>\r\n\t\t\t\t\t\t<name>{4}</name>\r\n\t\t\t\t\t</Input>', CrmEncodeDecode.CrmXmlEncode($v_0.$w_1), CrmEncodeDecode.CrmXmlEncode(title), CrmEncodeDecode.CrmXmlEncode(recordId), CrmEncodeDecode.CrmXmlEncode(sequenceNumber.toString()), CrmEncodeDecode.CrmXmlEncode('category'));
        Mscrm.TurboForm.Control.CommandService.get_instance().executeCommand(271, $v_1, false).then(Mscrm.TurboForm.Control.CommandService.$3h(succeedCallback), Mscrm.TurboForm.Control.CommandService.$3a(errorCallback));
    }
}
Mscrm.TurboForm.Control.CommandService.prototype = {
    $3Q_1: false,
    $34_1: false,
    $32_1: null,
    $2L_1: false,
    $3j_1: 0,
    
    get_primaryEntityChange: function() {
        return this.$3Q_1;
    },
    
    set_primaryEntityChange: function(value) {
        this.$3Q_1 = value;
        return value;
    },
    
    get_$Jp_1: function() {
        return GetGlobalVariable('AUTO_SAVE_ENABLED');
    },
    
    get_appointmentCloseCallback: function() {
        return this.$32_1;
    },
    
    set_appointmentCloseCallback: function(value) {
        this.$32_1 = value;
        return value;
    },
    
    $6U_1: 0,
    
    get_isAutoSave: function() {
        return this.$2L_1;
    },
    
    set_isAutoSave: function(value) {
        this.$2L_1 = value;
        return value;
    },
    
    get_busy: function() {
        return this.$3j_1 > 0;
    },
    
    set_busy: function(value) {
        if (value) {
            this.$3j_1 = this.$3j_1 + 1;
        }
        else if (this.$3j_1 > 0) {
            this.$3j_1 = this.$3j_1 - 1;
        }
        return value;
    },
    
    autoSave: function() {
        var $v_0 = true;
        if (!Mscrm.InternalUtilities._Script.isNullOrUndefined(window._isSyncErrorStatusUpdated)) {
            $v_0 = window._isSyncErrorStatusUpdated;
        }
        var $v_1 = Xrm.Page.data.entity.getEntityName();
        if (Mscrm.InternalUtilities.JSTypes.isNull(this.get_$c_1()) || this.get_$c_1().get_isNew() || this.$34_1 || $v_1 === 'appointment' || $v_1 === 'recurringappointmentmaster' || !$v_0) {
            return;
        }
        this.$2L_1 = true;
        this.get_$c_1().save(null, true);
    },
    
    handleAutoSaveInvalid: function() {
        this.$2L_1 = false;
    },
    
    get_$c_1: function() {
        if (Mscrm.InternalUtilities.JSTypes.isNull(Mscrm.TurboForm.Control.PageManager.get_instance().$L_1)) {
            return null;
        }
        return Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.getPageData().getEntity();
    },
    
    get_blockAutoSave: function() {
        return this.$34_1;
    },
    
    set_blockAutoSave: function(value) {
        this.$34_1 = value;
        return value;
    },
    
    get_currentAutoSaveInterval: function() {
        if (IsNull(this.$4g_1)) {
            this.$4g_1 = Mscrm.TurboForm.Control.CommandService.get_$9E();
        }
        return this.$4g_1;
    },
    
    addBeforeCommandExecutionHandler: function(command, handler) {
        this.$4H_1.addHandler(String.format('BeforeCommandExecutionEventFormat_{0}', command.toString()), handler);
    },
    
    removeBeforeCommandExecutionHandler: function(command, handler) {
        this.$4H_1.removeHandler(String.format('BeforeCommandExecutionEventFormat_{0}', command.toString()), handler);
    },
    
    addAfterCommandExecutionHandler: function(command, handler) {
        this.$4H_1.addHandler(String.format('AfterCommandExecutionEventFormat_{0}', command.toString()), handler);
    },
    
    removeAfterCommandExecutionHandler: function(command, handler) {
        this.$4H_1.removeHandler(String.format('AfterCommandExecutionEventFormat_{0}', command.toString()), handler);
    },
    
    $BO_1: function() {
        var $v_0 = $find('crmNotifications');
        var $v_1 = $v_0;
        if (!Mscrm.InternalUtilities.JSTypes.isNull($v_1)) {
            var $v_2 = $v_1.GetNotifications();
            while ($v_2.length) {
                var $v_3 = $v_2[0].Id;
                Xrm.Page.ui.clearFormNotification($v_3);
                $v_2 = $v_1.GetNotifications();
            }
        }
    },
    
    refresh: function(dataEntity) {
        var $v_0 = dataEntity.$K_1.$8_1 !== Mscrm.TurboForm.Control.PageManager.get_instance().$L_1;
        if (!$v_0) {
            this.$BO_1();
        }
        var $v_1 = jQueryApi.jQueryDeferredFactory.Deferred(Mscrm.TurboForm.Control.EntityDataDescriptor, Mscrm.ErrorInformation);
        var $v_2 = dataEntity.$K_1.$8_1.$z_1;
        this.$Eb_1(208, dataEntity);
        var $v_3 = Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString();
        if (!IsNullOrEmptyString(dataEntity.getId())) {
            $v_3 = dataEntity.getId();
        }
        if (!Microsoft.Crm.Client.Core.Framework.Guid.isNullOrEmpty($v_3) && !IsNullOrEmptyString(dataEntity.getEntityName()) && !Microsoft.Crm.Client.Core.Framework.Guid.isNullOrEmpty($v_2.toString())) {
            var $v_4 = String.format('<Input><id>{0}</id><name>{1}</name><formId>{2}</formId></Input>', CrmEncodeDecode.CrmXmlEncode($v_3), CrmEncodeDecode.CrmXmlEncode(dataEntity.getEntityName()), CrmEncodeDecode.CrmXmlEncode($v_2.toString()));
            var $v_5 = 208;
            var $v_6 = {};
            $v_6['command'] = $v_5;
            var $$t_B = this, $$t_C = this;
            this.executeCommand(208, $v_4, false, $v_0).then(function($p1_0) {
                var $v_7 = JSON.parse($p1_0.ReturnValue.toString());
                $v_1.resolve($v_7);
                $$t_B.$CR_1(208, dataEntity, $v_7, '');
            }, function($p1_0) {
                $v_1.reject($p1_0);
            });
        }
        return $v_1;
    },
    
    inlineFormRefresh: function(entityName, entityId, formId) {
        this.$BO_1();
        var $v_0 = jQueryApi.jQueryDeferredFactory.Deferred(Mscrm.TurboForm.Control.EntityDataDescriptor, Mscrm.ErrorInformation);
        var $v_1 = Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString();
        if (!IsNullOrEmptyString(entityId)) {
            $v_1 = entityId;
        }
        var $v_2 = String.format('<Input><id>{0}</id><name>{1}</name><formId>{2}</formId></Input>', CrmEncodeDecode.CrmXmlEncode($v_1), CrmEncodeDecode.CrmXmlEncode(entityName), CrmEncodeDecode.CrmXmlEncode(formId.toString()));
        var $v_3 = 208;
        var $v_4 = {};
        $v_4['command'] = $v_3;
        var $$t_B = this, $$t_C = this;
        this.executeCommand(208, $v_2).then(function($p1_0) {
            var $v_5 = JSON.parse($p1_0.ReturnValue.toString());
            $v_0.resolve($v_5);
            $$t_B.$CR_1(1, $$t_B.get_$c_1(), $v_5, '');
            if (!Mscrm.InternalUtilities.JSTypes.isNull($$t_B.$32_1)) {
                $$t_B.$32_1(JSON.parse($p1_0.ReturnValue.toString()));
            }
        }, function($p1_0) {
            $v_0.reject($p1_0);
        });
        return $v_0;
    },
    
    save: function(dataEntity, sync, saveMode) {
        Mscrm.TurboForm.Control.DuplicateDetectionService.$6K = saveMode;
        var $v_0 = jQueryApi.jQueryDeferredFactory.Deferred(Mscrm.TurboForm.Control.EntityDataDescriptor, Mscrm.ErrorInformation);
        var $v_1 = dataEntity.$K_1.$8_1.$z_1;
        var $$dict_6 = this.$2h_1;
        for (var $$key_7 in $$dict_6) {
            var $v_5 = { key: $$key_7, value: $$dict_6[$$key_7] };
            if (Number.isInstanceOfType($v_5.value) && ($v_5.value) > 0) {
                return $v_0.reject(Mscrm.ErrorInformation.createErrorInfo(Mscrm.TurboForm.Control.ErrorCode.toString(-1), null, null));
            }
        }
        this.$Eb_1(1, dataEntity);
        var $v_2 = Mscrm.TurboForm.Control.CommandService.$GW(dataEntity);
        var $v_3 = Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString();
        if (!IsNullOrEmptyString(dataEntity.getId())) {
            $v_3 = dataEntity.getId();
        }
        this.$Ke_1();
        var $v_4 = String.format('<Input><id>{0}</id><name>{1}</name><formId>{2}</formId><dataxml>{3}</dataxml><performduplicatecheck>{4}</performduplicatecheck><associations>{5}</associations></Input>', CrmEncodeDecode.CrmXmlEncode($v_3), CrmEncodeDecode.CrmXmlEncode(dataEntity.getEntityName()), CrmEncodeDecode.CrmXmlEncode($v_1.toString()), CrmEncodeDecode.CrmXmlEncode(dataEntity.getDataXml()), CrmEncodeDecode.CrmXmlEncode(Mscrm.TurboForm.Control.CommandService.get_performDuplicateCheck().toString()), $v_2);
        dataEntity.setAttributesLastSavedValue();
        var $$t_H = this, $$t_I = this;
        this.executeCommand(1, $v_4, sync).then(function($p1_0) {
            var $v_6 = $$t_H.get_$c_1().get_isNew();
            var $v_7 = JSON.parse($p1_0.ReturnValue.toString());
            Mscrm.TurboForm.Control.CommandService.get_instance().get_$c_1().setId($v_7._entity.Id);
            Mscrm.TurboForm.Control.CommandService.$7.get_$c_1().set_recordName($v_7._entity.Name);
            $v_0.resolve($v_7);
            $$t_H.$CR_1(1, dataEntity, $v_7, saveMode);
            if ($v_6 && !isGlobalQuickCreate()) {
                var $v_8 = $find('crmPageManager');
                var $v_9 = {};
                $v_9['updateQueryString'] = String.format('id={0}', dataEntity.$w_1);
                $v_8.raiseEvent(43, $v_9);
            }
            Mscrm.Utilities.refreshParentLookup($v_7._entity, $v_6);
            $$t_H.$3Q_1 = true;
            $$t_H.refreshGridInternal(Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.etc, $v_7._entity.Name, $v_7._entity.Id);
            Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().executeHandler('Mscrm.BusinessRulesScript.ReInitialize', '', null);
            dataEntity.clearPendingAssociations();
            $$t_H.$2L_1 = false;
            if (!Mscrm.InternalUtilities.JSTypes.isNull($$t_H.$32_1)) {
                $$t_H.$32_1(JSON.parse($p1_0.ReturnValue.toString()));
            }
        }, function($p1_0) {
            Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.removeState(2);
            $v_0.reject($p1_0);
            $$t_I.$2L_1 = false;
        });
        return $v_0;
    },
    
    $Ke_1: function() {
        if (window.parent.APP_SOLUTION_ID) {
            var $v_0 = window.parent.APP_SOLUTION_ID.toString();
            if ($v_0) {
                var $v_1 = $get('crmFormSubmit');
                if ($v_1) {
                    if (!$get('appSolutionId')) {
                        var $v_2 = document.createElement('input');
                        $v_2.id = 'appSolutionId';
                        $v_2.setAttribute('value', $v_0);
                        $v_2.setAttribute('type', 'hidden');
                        $v_1.appendChild($v_2);
                    }
                }
            }
        }
    },
    
    quickFormSave: function(targetDataEntity, saveAsCompleted) {
        var $v_0 = jQueryApi.jQueryDeferredFactory.Deferred(Mscrm.TurboForm.Control.EntityDataDescriptor, Mscrm.ErrorInformation);
        var $$dict_4 = this.$2h_1;
        for (var $$key_5 in $$dict_4) {
            var $v_7 = { key: $$key_5, value: $$dict_4[$$key_5] };
            if (Number.isInstanceOfType($v_7.value) && ($v_7.value) > 0) {
                return $v_0.reject(Mscrm.ErrorInformation.createErrorInfo(Mscrm.TurboForm.Control.ErrorCode.toString(-1), null, null));
            }
        }
        var $v_1 = Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString();
        if (!IsNullOrEmptyString(targetDataEntity.getId())) {
            $v_1 = targetDataEntity.getId().toString();
        }
        var $v_2 = '';
        var $v_3 = false;
        if (!this.get_$c_1().get_isNew()) {
            $v_2 = String.format('<association><relationshipname>{0}</relationshipname><sourceentityid>{1}</sourceentityid><sourceentitylogicalname>{2}</sourceentitylogicalname><relationshiproleordinal>{3}</relationshiproleordinal></association>', CrmEncodeDecode.CrmXmlEncode(targetDataEntity.$K_1.$5T_1), CrmEncodeDecode.CrmXmlEncode(this.get_$c_1().$w_1), CrmEncodeDecode.CrmXmlEncode(this.get_$c_1().getEntityName()), CrmEncodeDecode.CrmXmlEncode(targetDataEntity.$K_1.$5U_1));
        }
        else {
            $v_3 = true;
        }
        var $v_4 = targetDataEntity.getDataXml();
        if (!IsNull(targetDataEntity.$4f_1) && targetDataEntity.$4f_1.getKey() === 'quickCreateActivity4212controlId') {
            var $v_8 = $v_4.indexOf('</task>');
            $v_4 = $v_4.substring(0, $v_8) + String.format('<regardingobjectid type=\'{0}\'>{1}</regardingobjectid>', Mscrm.TurboForm.Control.PageBootstrapper.$3.etc, Xrm.Page.data.entity.getId().toString().replace('{', '').replace('}', '').toLowerCase()) + $v_4.substring($v_8, $v_4.length);
        }
        var $v_5 = String.format('<Input><id>{0}</id><name>{1}</name><formId>{2}</formId><dataxml>{3}</dataxml><performduplicatecheck>{4}</performduplicatecheck><associations>{5}</associations></Input>', CrmEncodeDecode.CrmXmlEncode($v_1), CrmEncodeDecode.CrmXmlEncode(targetDataEntity.getEntityName()), CrmEncodeDecode.CrmXmlEncode(targetDataEntity.$K_1.$8_1.$z_1.toString()), CrmEncodeDecode.CrmXmlEncode($v_4), CrmEncodeDecode.CrmXmlEncode(Mscrm.TurboForm.Control.CommandService.get_performDuplicateCheck().toString()), $v_2);
        var $v_6 = (saveAsCompleted) ? 58 : 1;
        var $$t_H = this, $$t_I = this;
        this.executeCommand($v_6, $v_5).then(function($p1_0) {
            var $v_9 = JSON.parse($p1_0.ReturnValue.toString());
            $v_0.resolve($v_9);
            var $v_A = JSON.parse($p1_0.ReturnValue.toString());
            Mscrm.TurboForm.Control.CommandService.$Ky(targetDataEntity, $v_A);
            Mscrm.TurboForm.Control.CommandService.$Kz(targetDataEntity, $v_A);
            if ($v_3) {
                Array.add($$t_H.get_$c_1().$2R_1, new Mscrm.Association(targetDataEntity.$K_1.$5T_1, targetDataEntity.$K_1.$5U_1, targetDataEntity.$w_1, targetDataEntity.$1j_1));
            }
        }, function($p1_0) {
            $v_0.reject($p1_0);
        });
        return $v_0;
    },
    
    handleSaveForScheduledEntities: function(entityName, saveOptions, saveMode, createRecordId, deferredParameter) {
        var $v_0 = false;
        if (Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(Xrm.Page.data.entity.getId())) {
            $v_0 = true;
        }
        if (!Mscrm.TurboForm.Control.DuplicateDetectionService.isMobileRefresh() && (entityName === 'appointment' || entityName === 'recurringappointmentmaster' || entityName === 'serviceappointment')) {
            var $v_1 = IsNull(saveOptions) || IsNull(saveOptions.useSchedulingEngine) || saveOptions.useSchedulingEngine;
            this.$BO_1();
            var $v_2 = entityName === 'recurringappointmentmaster' && !Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(window._appointId);
            if (Xrm.Page.context.client.getClientState() === 'Online' && $v_1 && window.IS_ALLOW_SCHEDULE) {
                if (saveMode === 2) {
                    var $v_5 = jQueryApi.jQueryDeferredFactory.Deferred(Mscrm.TurboForm.Control.EntityDataDescriptor, Mscrm.ErrorInformation);
                    var $$t_F = this;
                    this.$32_1 = function($p1_0) {
                        $v_5.resolve(null);
                        return false;
                    };
                    var $$t_G = this;
                    $v_5.then(function() {
                        closeWindowScript();
                    }, null);
                }
                var $$t_H = this;
                var $v_3 = function($p1_0) {
                    if ($v_2) {
                        var $v_6 = $find('crmPageManager');
                        var $v_7 = {};
                        $v_7['isCheckPoint'] = false;
                        $v_7['handleClosingPoppedOutPage'] = true;
                        $v_6.raiseEvent(43, $v_7);
                        if (saveMode === 2) {
                            closeWindowScript();
                        }
                    }
                    Mscrm.Utilities.updateSyncErrorStatus();
                    deferredParameter.resolve();
                    if ($p1_0) {
                        Mscrm.Utilities.refreshParentLookup($p1_0['_entity'], $v_0);
                    }
                    return true;
                };
                var $v_4 = null;
                if (entityName !== 'recurringappointmentmaster') {
                    var $$t_I = this;
                    $v_4 = function() {
                        deferredParameter.reject();
                        return true;
                    };
                }
                Mscrm.CommandBarActions.bookOrRescheduleWithCallback(Mscrm.TurboForm.Control.CommandService.$8K, true, $v_3, $v_4, createRecordId);
                return true;
            }
        }
        return false;
    },
    
    executeCommand: function(command, commandXml, sync, bypassCommandCount, showErrorDialog) {
        if (IsNull(sync)) {
            sync = false;
        }
        if (IsNull(bypassCommandCount)) {
            bypassCommandCount = false;
        }
        if (IsNull(showErrorDialog)) {
            showErrorDialog = true;
        }
        var $v_0 = {};
        $v_0['command'] = command;
        var $v_1 = (IsNull(this.$2h_1[command.toString()])) ? 0 : this.$2h_1[command.toString()];
        if (!$v_1 || bypassCommandCount) {
            this.set_busy(true);
            if (!bypassCommandCount) {
                this.$2h_1[command.toString()] = ++$v_1;
            }
            var $$t_9 = this;
            return this.$Gp_1(command, commandXml, sync, $v_0, showErrorDialog, bypassCommandCount).always(function() {
                $$t_9.set_busy(false);
                if (!bypassCommandCount) {
                    var $v_2 = (IsNull($$t_9.$2h_1[command.toString()])) ? 1 : $$t_9.$2h_1[command.toString()];
                    $$t_9.$2h_1[command.toString()] = --$v_2;
                }
            });
        }
        else {
            var $v_3 = jQueryApi.jQueryDeferredFactory.Deferred(RemoteCommandResult, Mscrm.ErrorInformation);
            return $v_3.reject(Mscrm.ErrorInformation.createErrorInfo(Mscrm.TurboForm.Control.ErrorCode.toString(-1), null, null));
        }
    },
    
    $Gp_1: function($p0, $p1, $p2, $p3, $p4, $p5) {
        var $v_0 = jQueryApi.jQueryDeferredFactory.Deferred(RemoteCommandResult, Mscrm.ErrorInformation);
        var $v_1 = new RemoteCommand('InlineEditWebService', 'Execute');
        $v_1.SetParameter('command', $p0);
        $v_1.SetParameter('commandXml', $p1);
        $v_1.SetParameter('encodeValues', false);
        $v_1.ErrorHandler = this.$HO_1($v_0);
        $v_1.Reference = $p3;
        var $v_2 = this.$Hk_1($v_0, $p4, $p5);
        if ($p2) {
            try {
                var $v_3 = $v_1.Execute();
                this.executeSuccessHandler($v_2, $v_3, $v_1);
                this.$3Q_1 = true;
            }
            finally {
            }
        }
        else {
            Mscrm.Performance.PerformanceMarkerManager.get_instance().addMarker('ServiceRoundTrip');
            $v_1.Execute($v_2);
        }
        return $v_0.promise();
    },
    
    executeSuccessHandler: function(handler, result, remoteCommand) {
        handler(result, remoteCommand);
    },
    
    $Hk_1: function($p0, $p1, $p2) {
        var $$t_9 = this;
        return function($p1_0, $p1_1) {
            if (!$p1_0.Success || $$t_9.isDisposed) {
                return;
            }
            var $v_0 = JSON.parse($p1_0.ReturnValue.toString());
            if ($p1_0.RemoteCommand) {
                if ($$t_9.checkResponseForErrors($v_0, $p1, $p2)) {
                    var $v_1 = $v_0['_error'];
                    var $v_2 = $v_1.Code;
                    if (Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString($v_1.Code) || !$v_1.ErrorCode) {
                        $v_2 = '0x80040216';
                    }
                    if ('0x80042F09' === $v_1.Code) {
                        $v_1.Description = $v_1.DisplayText;
                    }
                    var $v_3 = Mscrm.ErrorInformation.createErrorInfoWithDisplayText($v_2, $v_1.Description, $v_1.DisplayText, $v_1.SerializedException);
                    $p0.reject($v_3);
                    return;
                }
            }
            $p0.resolve($p1_0);
            Mscrm.TurboForm.Control.CommandService.$IR();
        };
    },
    
    $HO_1: function($p0) {
        var $$t_4 = this;
        return function($p1_0, $p1_1) {
            if ($$t_4.isDisposed) {
                return;
            }
            var $v_0 = null;
            if (!IsNull($p1_1)) {
                $v_0 = Mscrm.ErrorInformation.createFromDoc($p1_1);
                openErrorDlg($v_0.get_code(), $v_0.get_description(), $v_0, 0, 0);
            }
            $p0.reject($v_0);
        };
    },
    
    $Eb_1: function($p0, $p1) {
        if ($p1.$K_1.$8_1 !== Mscrm.TurboForm.Control.PageManager.get_instance().$L_1) {
            return;
        }
        var $v_0 = this.$4H_1.getHandler(String.format('BeforeCommandExecutionEventFormat_{0}', $p0.toString()));
        if (!IsNull($v_0)) {
            var $v_1 = new Mscrm.TurboForm.Control.CommandExecutionEventArgs($p0, $p1, null, '');
            $v_0($v_1);
        }
    },
    
    $CR_1: function($p0, $p1, $p2, $p3) {
        if ($p1.$K_1.$8_1 !== Mscrm.TurboForm.Control.PageManager.get_instance().$L_1) {
            return;
        }
        var $v_0 = this.$4H_1.getHandler(String.format('AfterCommandExecutionEventFormat_{0}', $p0.toString()));
        if (!IsNull($v_0)) {
            var $v_1 = new Mscrm.TurboForm.Control.CommandExecutionEventArgs($p0, $p1, $p2, $p3);
            $v_0($v_1);
        }
    },
    
    checkState: function() {
        if (Mscrm.InternalUtilities.JSTypes.isNull(this.get_$c_1()) || Mscrm.InternalUtilities.JSTypes.isNull(Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.formData)) {
            this.$6U_1 = 0;
            return;
        }
        if (this.get_$c_1().get_isNew()) {
            return;
        }
        this.$6U_1++;
        if (this.$6U_1 > this.get_currentAutoSaveInterval() && !this.get_busy()) {
            this.$6U_1 = 0;
            if (this.get_$Jp_1()) {
                Mscrm.TurboForm.Control.CommandService.get_instance().autoSave();
            }
        }
        else {
            if (!this.get_busy()) {
                if (this.get_$c_1().getIsDirty()) {
                    Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.addState(16);
                }
                else {
                    Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.removeState(16);
                }
            }
        }
    },
    
    $KT_1: function($p0) {
        try {
            if (!this.isDisposed) {
                if (!Mscrm.TurboForm.Control.PageManager.get_instance().get_isForceNavigationAwaySet()) {
                    var $v_0 = this.$Ca_1();
                    if ($v_0) {
                        if (!Mscrm.InternalUtilities.JSTypes.isNull($p0)) {
                            $p0.rawEvent.returnValue = Xrm.Internal.getResourceString('LOCID_FORMS_SAVE_CONFIRM_TITLE');
                        }
                    }
                }
            }
        }
        catch ($$e_2) {
        }
    },
    
    $Ca_1: function() {
        var $v_0 = false;
        if (Mscrm.InternalUtilities.JSTypes.isNull(Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.formData) || !Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.layoutReady) {
            return false;
        }
        if (!Mscrm.TurboForm.Control.PageManager.get_instance().get_isForceNavigationAwaySet()) {
            if (!this.get_$c_1().get_isNew()) {
                if (this.get_$c_1().getIsDirty()) {
                    if (!window.AUTO_SAVE_ENABLED) {
                        $v_0 = true;
                    }
                    else {
                        var $v_1 = this.get_$c_1().saveInternal('saveandclose', true, true, false);
                        if ($v_1.state() === 'rejected') {
                            $v_0 = true;
                        }
                    }
                }
            }
            else if (this.get_$c_1().getIsDirty()) {
                $v_0 = true;
            }
            if (Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.getPageUI() && !$v_0) {
                var $v_2 = Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.getPageUI().$46_1;
                for (var $v_3 = 0; $v_3 < $v_2.getLength(); $v_3++) {
                    var $v_4 = $v_2.getByIndex($v_3);
                    if ($v_4.$N_4) {
                        if ($v_4.$N_4.getPageData().getEntity().getIsDirty() && this.$Id_1($v_4)) {
                            $v_0 = true;
                            break;
                        }
                    }
                }
            }
        }
        return $v_0;
    },
    
    $Id_1: function($p0) {
        var $v_0 = ($p0.$Q_2);
        if (!IsNull($v_0)) {
            var $v_1 = this.get_$c_1().getAttributes().getByName($v_0.DataFieldName);
            return !IsNull($v_1) && !IsNull($v_1.getValue()) && !IsNullOrEmptyString($v_1.getValue().toString());
        }
        return true;
    },
    
    incrementAutoSaveInterval: function() {
        if (this.get_currentAutoSaveInterval() < Mscrm.TurboForm.Control.CommandService.get_$9E() * 20) {
            this.$4g_1 = this.$4g_1 + Mscrm.TurboForm.Control.CommandService.get_$9E();
        }
    },
    
    checkResponseForErrors: function(errorData, showErrorDialog, isSubForm) {
        if (IsNull(showErrorDialog)) {
            showErrorDialog = true;
        }
        if (this.$2L_1) {
            this.incrementAutoSaveInterval();
        }
        if (Mscrm.InternalUtilities.JSTypes.isNull(errorData)) {
            this.setFooterErrorNotification(window.LOCID_GENERIC_MESSAGE);
            return true;
        }
        if (!Mscrm.InternalUtilities.JSTypes.isNull(errorData['_error'])) {
            var $v_0 = errorData['_error'];
            if (isSubForm && $v_0.Code === '0x80048306') {
                showErrorDialog = false;
            }
            if (this.$2L_1) {
                if ($v_0.Code === '0x80040333') {
                    var $v_1 = null;
                    var $v_2 = null;
                    var $v_3 = window.LOCID_NOTIF_RESOLVE_DUPLICATE;
                    var $v_4 = window.LOCID_NOTIF_SAVEANYWAY;
                    var $v_5 = GetGlobalVariable('LOCID_UI_DIR');
                    if ($v_5 === 'RTL') {
                        $v_1 = 'margin-right:30px;';
                        $v_2 = 'margin-right:10px;';
                    }
                    else {
                        $v_1 = 'margin-left:30px;';
                        $v_2 = 'margin-left:10px;';
                    }
                    this.$34_1 = true;
                    Mscrm.CrmDebug.assert(!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString($v_0.SerializedEntity));
                    var $v_6 = Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().generateHelperLink('launchCrmDuplicateDetectionDialogButton', Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().callbackToLaunchResolveDuplicateDialog($v_0.SerializedEntity), $v_3, $v_1);
                    var $v_7 = Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().generateHelperLink('ignoreCrmDuplicateDetectionDialogButton', Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().callbackToIgnoreResolveDuplicate(), $v_4, $v_2);
                    var $v_8 = $v_0.DisplayText + $v_6 + $v_7;
                    Xrm.Page.ui.setFormHtmlNotification($v_8, 'ERROR', Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().$4q_1);
                    return true;
                }
                else if (this.$L7_1($v_0.Code)) {
                    var $v_9 = Mscrm.ErrorInformation.createErrorInfo($v_0.Code, $v_0.Description, $v_0.SerializedException);
                    openErrorDlg($v_9.get_code(), $v_9.get_description(), $v_9, 0, 0);
                    return true;
                }
                else {
                    this.setFooterErrorNotification(Mscrm.TurboForm.Control.CommandService.$HP($v_0));
                    return true;
                }
            }
            else if ($v_0.Code === '0x80040333') {
                Mscrm.CrmDebug.assert(!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString($v_0.SerializedEntity));
                this.LaunchResolveDuplicateDialog($v_0.SerializedEntity);
                return true;
            }
            else {
                var $v_A = $v_0.Code;
                if (IsNullOrEmptyString($v_A)) {
                    $v_A = '0x80040216';
                }
                var $v_B = Mscrm.ErrorInformation.createErrorInfo($v_A, $v_0.Description, $v_0.SerializedException);
                if (showErrorDialog) {
                    openErrorDlg($v_B.get_code(), $v_B.get_description(), $v_B, 0, 0);
                }
                return true;
            }
        }
        else {
            return false;
        }
    },
    
    $L7_1: function($p0) {
        var $v_0 = [ '0x80042F09', '0x80048015', '0x80060600', '0x80043B06', '0x80040507', '0x8004E100' ];
        for (var $$arr_2 = $v_0, $$len_3 = $$arr_2.length, $$idx_4 = 0; $$idx_4 < $$len_3; ++$$idx_4) {
            var $v_1 = $$arr_2[$$idx_4];
            if ($v_1 === $p0) {
                return true;
            }
        }
        return false;
    },
    
    setFooterErrorNotification: function(errorMessage) {
        Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.addErrorState(errorMessage);
    },
    
    refreshGrid: function() {
        var $v_0 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.etc;
        var $v_1 = Xrm.Page.data.entity.getPrimaryAttributeValue();
        var $v_2 = Xrm.Page.data.entity.getId();
        this.refreshGridInternal($v_0, $v_1, $v_2);
    },
    
    refreshGridInternal: function(etc, primaryFieldValue, id) {
        if (!this.$3Q_1) {
            return;
        }
        try {
            if (window.IS_OUTLOOK_CLIENT) {
                this.$K8_1(Number.parseInvariant(etc), id);
            }
            var $v_0 = window.top.document.getElementById('crmContentPanel');
            var $v_1 = $v_0.attributes.getNamedItem('currentGridId');
            var $v_2 = null;
            if (!Mscrm.InternalUtilities.JSTypes.isNull($v_1) && $v_1.specified && !window.IS_OUTLOOK_CLIENT) {
                $v_2 = window.top.document.getElementById($v_1.value);
                if (!Mscrm.InternalUtilities.JSTypes.isNull($v_2)) {
                    var $v_3 = ($v_2.contentWindow.location.pathname.toLowerCase().endsWith('/homepage.aspx')) ? $v_2.contentWindow : $v_2.contentWindow.parent;
                    if (!Mscrm.InternalUtilities.JSTypes.isNull(window[primaryFieldValue])) {
                        $v_3.auto(etc, primaryFieldValue, id);
                    }
                    else {
                        $v_3.auto(etc);
                    }
                }
            }
            else if (!Mscrm.InternalUtilities.JSTypes.isNull(window.top.opener)) {
                window.top.opener.gridrefreshsource = 'child';
                if (!Mscrm.InternalUtilities.JSTypes.isNull(window[primaryFieldValue]) || !Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(primaryFieldValue)) {
                    window.top.opener.auto(etc, primaryFieldValue, id);;
                }
                else if (!window.IS_OUTLOOK_CLIENT) {
                    window.top.opener.auto(etc);;
                }
            }
        }
        catch ($$e_7) {
        }
    },
    
    $K8_1: function($p0, $p1) {
        var $v_0 = getOutlookHostedWindow();
        $v_0.notifyItemChanged($p0, $p1);
    },
    
    LaunchResolveDuplicateDialog: function(duplicateEntityXml) {
        var $v_0 = {};
        var $v_1 = Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().buildXml(this.get_$c_1());
        Mscrm.CrmDebug.assert(!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(duplicateEntityXml));
        var $v_2 = Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().diffAndMergeXml($v_1, duplicateEntityXml);
        $v_0['xml'] = $v_2;
        var $v_3 = Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().generateResolveDuplicateDialogLink(this.get_$c_1());
        var $v_4 = new Xrm.DialogOptions();
        $v_4.height = 600;
        $v_4.width = 700;
        var $v_5 = Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().callbackForUserActionOnDialog();
        if (isOutlookHostedWindow()) {
            var $$t_7 = this;
            window.setTimeout(function() {
                Xrm.Internal.openDialog($v_3, $v_4, $v_0, null, $v_5);
            }, 0);
        }
        else {
            Xrm.Internal.openDialog($v_3, $v_4, $v_0, null, $v_5);
        }
    },
    
    IgnoreResolveDuplicate: function() {
        Mscrm.TurboForm.Control.CommandService.get_instance().ResolveDuplicateAndTriggerSave();
    },
    
    SaveRecordAsDuplicate: function(response) {
        if (response === 'Save') {
            Mscrm.TurboForm.Control.CommandService.get_instance().ResolveDuplicateAndTriggerSave();
        }
    },
    
    ResolveDuplicateAndTriggerSave: function() {
        Mscrm.TurboForm.Control.CommandService.set_performDuplicateCheck(false);
        this.$34_1 = true;
        var $$t_2 = this, $$t_3 = this;
        this.get_$c_1().saveInternal(Mscrm.TurboForm.Control.DuplicateDetectionService.$6K, false).then(function($p1_0) {
            Xrm.Page.ui.clearFormNotification(Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance().$4q_1);
        }, function($p1_0) {
        });
        this.$34_1 = false;
    }
}


Mscrm.TurboForm.Control.CustomScriptCall = function(functionName, parameters) {
    Mscrm.TurboForm.Control.CustomScriptCall.initializeBase(this);
    this.$8G_1 = functionName;
    this.$8f_1 = parameters;
}
Mscrm.TurboForm.Control.CustomScriptCall.prototype = {
    $8G_1: null,
    $8f_1: null,
    
    get_functionName: function() {
        return this.$8G_1;
    },
    
    get_parameters: function() {
        return this.$8f_1;
    }
}


Mscrm.TurboForm.Control.CustomScriptsManager = function() {
    this.$$d_$JW_1 = Function.createDelegate(this, this.$JW_1);
    this.$5u_1 = [];
    this.$7o_1 = new Sys.EventHandlerList();
    this.$2O_1 = [];
    Mscrm.TurboForm.Control.CustomScriptsManager.initializeBase(this);
    if (IsNull(Mscrm.TurboForm.Control.CustomScriptsManager.frameElement)) {
        Mscrm.TurboForm.Control.CustomScriptsManager.frameElement = document.createElement('iframe');
        Mscrm.TurboForm.Control.CustomScriptsManager.frameElement.id = 'customScriptsFrame';
        Mscrm.TurboForm.Control.CustomScriptsManager.frameElement.tabIndex = -1;
        document.body.appendChild(Mscrm.TurboForm.Control.CustomScriptsManager.frameElement);
    }
    this.$8T_1 = this.$$d_$JW_1;
    addHandlerToDomElement(Mscrm.TurboForm.Control.CustomScriptsManager.frameElement, 'load', this.$8T_1);
    var $v_0 = Mscrm.CrmUri.create('/form/ClientApiWrapper.aspx');
    $v_0.set_useVersionStamp(true);
    Mscrm.TurboForm.Control.CustomScriptsManager.frameElement.contentWindow.location.replace($v_0.toString());
    this.$CT_1 = GetGlobalVariable('OOBWebResources');
    Array.add(this.$2O_1, Mscrm.CrmUri.create('/_static/_common/scripts/CommandBarActions.js').toString());
    Array.add(this.$2O_1, Mscrm.CrmUri.create('/_common/global.ashx').toString());
    Array.add(this.$2O_1, Mscrm.CrmUri.create('/_static/_controls/pagehandler/EntityPageHandler.js').toString());
    Array.add(this.$2O_1, Mscrm.CrmUri.create('/_static/_common/scripts/crmInternalUtility.js').toString());
    Array.add(this.$2O_1, Mscrm.CrmUri.create('/_static/_common/scripts/BusinessRulesExecution.js').toString());
}
Mscrm.TurboForm.Control.CustomScriptsManager.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.CustomScriptsManager.$7) || Mscrm.TurboForm.Control.CustomScriptsManager.$7.isDisposed) {
        Mscrm.TurboForm.Control.CustomScriptsManager.$7 = new Mscrm.TurboForm.Control.CustomScriptsManager();
    }
    return Mscrm.TurboForm.Control.CustomScriptsManager.$7;
}
Mscrm.TurboForm.Control.CustomScriptsManager.handleCustomScriptException = function(exc) {
    var $v_0 = Mscrm.TurboForm.Control.CustomScriptsManager.isExceptionFromOOBWebResource(exc, Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().$CT_1);
    if ($v_0) {
        catchError(exc.message, window.location.href, 0, true);
    }
    else {
        var $v_1 = Mscrm.TurboForm.Control.CustomScriptsManager.getScriptErrorMessage(exc);
        if (!IsNull(exc.stack)) {
            var $v_3 = exc.stack.split('\n');
            if (!IsNull($v_3[0]) && !IsNull($v_3[1])) {
                var $v_4 = $v_3[0];
                var $v_5 = $v_3[1];
                $v_1 = $v_4.trim() + ' ' + $v_5.trim();
            }
        }
        var $v_2 = Mscrm.ErrorInformation.createExtendedErrorInfo('0x8063111B', null, exc.stack, [ $v_1 ]);
        openErrorDlg('0x8063111B', null, $v_2, 0, 0);
    }
}
Mscrm.TurboForm.Control.CustomScriptsManager.isExceptionFromOOBWebResource = function(exc, oobWebResources) {
    var $v_0 = false;
    var $v_1 = exc.stack.toLowerCase();
    for (var $v_2 = 0; $v_2 < oobWebResources.length; $v_2++) {
        var $v_3 = (oobWebResources[$v_2]).toLowerCase();
        if ($v_1.indexOf($v_3) >= 0) {
            $v_0 = true;
            break;
        }
    }
    return $v_0;
}
Mscrm.TurboForm.Control.CustomScriptsManager.getScriptErrorMessage = function(exc) {
    var $v_0 = '';
    if (!IsNull(exc) && !IsNull(exc.stack)) {
        var $v_1 = exc.stack.split('\n');
        if (!IsNull($v_1[0]) && !IsNull($v_1[1])) {
            var $v_2 = $v_1[0];
            var $v_3 = $v_1[1];
            $v_0 = $v_2.trim() + ' ' + $v_3.trim();
        }
    }
    return $v_0;
}
Mscrm.TurboForm.Control.CustomScriptsManager.processMessage = function(message) {
    switch (message) {
        case 'TurboFormPostOnloadTimestamp':
            setPerformanceMarkerTimestamp('TurboFormPostOnloadTimestamp');
            Mscrm.Performance.PerformanceMarkerManager.get_instance().addMarker('TurboFormPostOnloadTimestamp', 1);
            var $v_0 = Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().$7o_1.getHandler(String.format('MessageEventFormat_{0}', message));
            if (!IsNull($v_0)) {
                $v_0();
                window.pageLoadedCheckForNavigateApi = true;
                if (!IsNull(window.parent) && !IsNull(window.parent.parent)) {
                    window.parent.pageLoadedCheckForNavigateApi = true;
                    window.parent.parent.pageLoadedCheckForNavigateApi = true;
                }
            }
            break;
        case 'ScriptsAreLoaded':
            if (Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().$5E_1) {
                Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().$5E_1 = false;
            }
            var $v_1 = Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().$7o_1.getHandler(String.format('ScriptsAreLoaded', message));
            if (!IsNull($v_1)) {
                $v_1();
            }
            break;
    }
}
Mscrm.TurboForm.Control.CustomScriptsManager.$GY = function($p0, $p1, $p2, $p3) {
    var $v_0 = [];
    $v_0[$v_0.length] = $p0;
    $v_0[$v_0.length] = $p1;
    $v_0[$v_0.length] = $p2;
    $v_0[$v_0.length] = $p3;
    return new Mscrm.TurboForm.Control.CustomScriptCall('ExecuteHandler', $v_0);
}
Mscrm.TurboForm.Control.CustomScriptsManager.prototype = {
    $CT_1: null,
    $7i_1: false,
    $8T_1: null,
    $5E_1: false,
    
    get_isLoaded: function() {
        return this.$7i_1;
    },
    
    get_isLoadingScripts: function() {
        return this.$5E_1;
    },
    
    $JW_1: function($p0) {
        Mscrm.Performance.PerformanceMarkerManager.get_instance().addMarker('Custom Script Frame Loaded', 1);
        setPerformanceMarkerTimestamp('Script Frame OnLoad Start Marker');
        var $v_0 = Xrm.Internal.startMetricsStopwatch('Script Frame OnLoad');
        $v_0.start();
        removeHandlerFromDomElement(Mscrm.TurboForm.Control.CustomScriptsManager.frameElement, 'load', this.$8T_1);
        this.$7i_1 = true;
        this.$Cj_1();
        $v_0.stop();
    },
    
    shouldIsolate: function(scriptPath) {
        if (IsNull(scriptPath)) {
            return true;
        }
        var $v_0 = scriptPath.indexOf('?');
        scriptPath = ($v_0 >= 0) ? scriptPath.substring(0, $v_0) : scriptPath;
        return !Mscrm.TurboForm.Control.CustomScriptsManager.$CO[scriptPath.toLowerCase()];
    },
    
    addMessageHandler: function(messageId, handler) {
        this.$7o_1.addHandler(String.format('MessageEventFormat_{0}', messageId), handler);
    },
    
    removeMessageHandler: function(messageId, handler) {
        this.$7o_1.removeHandler(String.format('MessageEventFormat_{0}', messageId), handler);
    },
    
    loadWebResource: function(uri, async) {
        if (!this.isDisposed && !IsNull(uri)) {
            for (var $v_2 = 0; $v_2 < this.$2O_1.length; $v_2++) {
                var $v_3 = this.$2O_1[$v_2];
                if ($v_3.toLowerCase() === uri.toString().toLowerCase()) {
                    return;
                }
            }
            this.$2O_1[this.$2O_1.length] = uri.toString();
            if (IsNull(async)) {
                async = true;
            }
            Xrm.Internal.trace.logT(Mscrm.TurboForm.Control.CustomScriptsManager, 'loading {0} into custom scripts frame', uri.toString());
            var $v_0 = [];
            $v_0[$v_0.length] = uri.toString();
            $v_0[$v_0.length] = async;
            var $v_1 = new Mscrm.TurboForm.Control.CustomScriptCall('AppendScriptTag', $v_0);
            Array.enqueue(this.$5u_1, $v_1);
            if (!this.$5E_1) {
                this.$5E_1 = true;
                this.executeHandler('SendMessageToPageManager', '\'ScriptsAreLoaded\'', null);
            }
            this.$Cj_1();
        }
    },
    
    executeHandler: function(functionName, functionParameters, context, executeIfAvailableOnly) {
        executeIfAvailableOnly = (IsNull(executeIfAvailableOnly)) ? false : executeIfAvailableOnly;
        if (!this.isDisposed && !IsNull(functionName)) {
            var $v_0 = Mscrm.TurboForm.Control.CustomScriptsManager.$GY(functionName, functionParameters, context, executeIfAvailableOnly);
            Array.enqueue(this.$5u_1, $v_0);
            this.$Cj_1();
        }
    },
    
    executeHandlerIfAvailable: function(functionName, functionParameters, context) {
        this.executeHandler(functionName, functionParameters, context, true);
    },
    
    executeHandlerByDescriptor: function(handlerDescriptor, context) {
        if (IsNull(handlerDescriptor)) {
            throw Error.argumentNull('handlerDescriptor');
        }
        if (IsNull(handlerDescriptor.FunctionName)) {
            throw Error.argumentNull('handlerDescriptor.FunctionName');
        }
        if (this.isDisposed) {
            Xrm.Internal.trace.warningT(Mscrm.TurboForm.Control.CustomScriptsManager, 'attempt to execute {0} after dispose', handlerDescriptor.FunctionName);
            return;
        }
        if (Mscrm.TurboForm.Control.CustomScriptsManager.$CO[('$webresource:' + handlerDescriptor.LibraryName).toLowerCase()]) {
            if (IsNull(context)) {
                eval(String.format('{0}({1})', handlerDescriptor.FunctionName, handlerDescriptor.Parameters));
            }
            else {
                var $v_0 = (IsNullOrEmptyString(handlerDescriptor.Parameters)) ? 'context' : 'context, ' + handlerDescriptor.Parameters;
                var $v_1 = '(function (context) { ' + handlerDescriptor.FunctionName + '(' + $v_0 + ');\r\n\t\t\t\t\t\t})';
                var $v_2 = eval($v_1);
                $v_2.apply(context);
            }
        }
        else {
            this.executeHandler(handlerDescriptor.FunctionName, handlerDescriptor.Parameters, context);
        }
    },
    
    getHandler: function(handlerDescriptor) {
        var $$t_3 = this;
        return function($p1_0) {
            var $v_0 = (handlerDescriptor.PassExecutionContext) ? $p1_0 : null;
            $$t_3.executeHandlerByDescriptor(handlerDescriptor, $v_0);
        };
    },
    
    internalDispose: function() {
        $clearHandlers(Mscrm.TurboForm.Control.CustomScriptsManager.frameElement);
        Mscrm.TurboForm.Control.CustomScriptsManager.frameElement.contentWindow.location.replace('about:blank');
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    $Cj_1: function() {
        if (!IsNull(this.$5u_1) && this.$7i_1) {
            setLoadingText(Xrm.Internal.getResourceString('LOCID_PAGE_LOADING_EXECUTE_ON_LOAD'));
            while (this.$5u_1.length > 0) {
                var $v_0 = Array.dequeue(this.$5u_1);
                Mscrm.TurboForm.Control.CustomScriptsManager.frameElement.contentWindow[$v_0.$8G_1]($v_0.$8f_1);
            }
        }
    }
}


Mscrm.TurboForm.Control.DependencyObject = function() {
    this.$Cd_1 = {};
    Mscrm.TurboForm.Control.DependencyObject.initializeBase(this);
}
Mscrm.TurboForm.Control.DependencyObject.prototype = {
    
    getPropertyValue: function(property) {
        if (this.isPropertyReadable(property.$1D_0)) {
            return this.getPropertyValueInternal(property);
        }
        return property.$1n_0;
    },
    
    getPropertyValueInternal: function(property) {
        var $v_0 = this.$Cd_1[property.get_$FQ_0()];
        if (!IsNull($v_0)) {
            return $v_0;
        }
        return property.$1n_0;
    },
    
    setPropertyValue: function(property, newValue) {
        if (this.isPropertyWritable(property.$1D_0)) {
            this.setPropertyValueInternal(property, newValue, false);
        }
    },
    
    setPropertyValueWithoutChangeRaised: function(property, newValue) {
        if (this.isPropertyWritable(property.$1D_0)) {
            this.setPropertyValueInternal(property, newValue, false, false);
        }
    },
    
    setPropertyValueInternal: function(property, newValue, forceSet, isRaiseChangeNeeded) {
        if (IsNull(isRaiseChangeNeeded)) {
            isRaiseChangeNeeded = true;
        }
        var $v_0 = this.getPropertyValue(property);
        if ($v_0 !== newValue || property.$93_0 || forceSet) {
            this.$Cd_1[property.get_$FQ_0()] = newValue;
            if ((this.isPropertyReadable(property.$1D_0) || this.isPropertyWritable(property.$1D_0)) && isRaiseChangeNeeded) {
                var $v_1 = new Mscrm.TurboForm.Control.DependencyPropertyChangeEventArgs(this, property, $v_0, newValue);
                property.raisePropertyChanged($v_1);
            }
        }
    },
    
    isPropertyReadable: function(propertyKey) {
        return true;
    },
    
    isPropertyWritable: function(propertyKey) {
        return true;
    }
}


Mscrm.TurboForm.Control.DependencyProperty = function(key, propertyType, ownerType, defaultValue, alwaysNotify) {
    this.$1D_0 = key;
    this.$Cc_0 = propertyType;
    this.$9u_0 = ownerType;
    this.$1n_0 = defaultValue;
    this.$93_0 = (IsNull(alwaysNotify)) ? false : alwaysNotify;
}
Mscrm.TurboForm.Control.DependencyProperty.prototype = {
    $1D_0: 0,
    $Cc_0: null,
    $9u_0: null,
    $1n_0: null,
    $93_0: false,
    
    get_key: function() {
        return this.$1D_0;
    },
    
    get_propertyType: function() {
        return this.$Cc_0;
    },
    
    get_ownerType: function() {
        return this.$9u_0;
    },
    
    get_defaultValue: function() {
        return this.$1n_0;
    },
    
    get_alwaysNotify: function() {
        return this.$93_0;
    },
    
    get_$FQ_0: function() {
        return this.$9u_0.getName() + '_' + this.$1D_0;
    },
    
    raisePropertyChanged: function(args) {
    },
    
    raisePropertyChanging: function(args) {
    }
}


Mscrm.TurboForm.Control.DependencyPropertyChangeEventArgs = function(instance, property, oldValue, newValue) {
    this.$7_0 = instance;
    this.$7r_0 = property;
    this.$66_0 = oldValue;
    this.$7q_0 = newValue;
}
Mscrm.TurboForm.Control.DependencyPropertyChangeEventArgs.prototype = {
    $7_0: null,
    $7r_0: null,
    $66_0: null,
    $7q_0: null,
    
    get_instance: function() {
        return this.$7_0;
    },
    
    get_property: function() {
        return this.$7r_0;
    },
    
    get_oldValue: function() {
        return this.$66_0;
    },
    
    get_newValue: function() {
        return this.$7q_0;
    }
}


Mscrm.TurboForm.Control.DisposableBase = function() {
    this.$BV_0 = -1;
    this.$Ce_0 = -1;
    this.$BV_0 = Mscrm.TurboForm.Control.DisposalManager.registerDisposable(this);
    this.$Ce_0 = Mscrm.TurboForm.Control.DisposalManager.registerDisposablePurgeList(this);
}
Mscrm.TurboForm.Control.DisposableBase.prototype = {
    isDisposed: false,
    
    get_isDisposed: function() {
        return this.isDisposed;
    },
    
    dispose: function() {
        if (!this.isDisposed) {
            this.isDisposed = true;
            this.internalDispose();
            Mscrm.TurboForm.Control.DisposalManager.unregisterDisposable(this.$BV_0);
        }
    },
    
    purge: function() {
        Mscrm.TurboForm.Control.DisposalManager.purgeObject(this);
        Mscrm.TurboForm.Control.DisposalManager.unregisterDisposablePurgeList(this.$Ce_0);
    },
    
    internalDispose: function() {
    }
}


Mscrm.TurboForm.Control.DisposalManager = function() {
}
Mscrm.TurboForm.Control.DisposalManager.registerDisposable = function($p0) {
    var $v_0 = Mscrm.TurboForm.Control.DisposalManager.$3X.length;
    Mscrm.TurboForm.Control.DisposalManager.$3X[$v_0] = $p0;
    return $v_0;
}
Mscrm.TurboForm.Control.DisposalManager.registerDisposablePurgeList = function($p0) {
    var $v_0 = Mscrm.TurboForm.Control.DisposalManager.$3f.length;
    Mscrm.TurboForm.Control.DisposalManager.$3f[$v_0] = $p0;
    return $v_0;
}
Mscrm.TurboForm.Control.DisposalManager.unregisterDisposable = function($p0) {
    Mscrm.TurboForm.Control.DisposalManager.$3X[$p0] = null;
}
Mscrm.TurboForm.Control.DisposalManager.unregisterDisposablePurgeList = function($p0) {
    Mscrm.TurboForm.Control.DisposalManager.$3f[$p0] = null;
}
Mscrm.TurboForm.Control.DisposalManager.disposeAndPurgeAllObjects = function($p0) {
    Mscrm.TurboForm.Control.DisposalManager.disposeAllObjects($p0);
    for (var $v_0 = 0; $v_0 < Mscrm.TurboForm.Control.DisposalManager.$3f.length; $v_0++) {
        if (!IsNull(Mscrm.TurboForm.Control.DisposalManager.$3f[$v_0])) {
            (Mscrm.TurboForm.Control.DisposalManager.$3f[$v_0]).purge();
        }
    }
    Mscrm.TurboForm.Control.DisposalManager.$3f = [];
}
Mscrm.TurboForm.Control.DisposalManager.disposeAllObjects = function($p0) {
    Mscrm.TurboForm.Control.DisposalManager.clearSetTimeoutAndInternalQueue(Mscrm.TurboForm.Control.DisposalManager.$CG, Mscrm.TurboForm.Control.DisposalManager.$9g);
    for (var $v_0 = Mscrm.TurboForm.Control.DisposalManager.$3X.length - 1; $v_0 >= 0; $v_0--) {
        if (!IsNull(Mscrm.TurboForm.Control.DisposalManager.$3X[$v_0])) {
            try {
                (Mscrm.TurboForm.Control.DisposalManager.$3X[$v_0]).dispose();
            }
            catch ($v_1) {
                Xrm.Internal.trace.error('DisposalManager', 'Exception disposing object: {0}', $v_1.toString());
            }
        }
    }
    
    				Sys.Application._createdComponents = [];
    				Sys.Application.dispose();;
    if (!IsNull(Mscrm.TurboForm.Control.PageBootstrapper.$3)) {
        var $v_2 = Xrm.Internal.startMetricsStopwatch('InitializePageState - ClearEventHandlers');
        $v_2.start();
        Mscrm.TurboForm.Control.DisposalManager.clearHandlers($p0);
        $v_2.stop();
    }
    
    				Sys.Application = new Sys._Application;
    Mscrm.TurboForm.Control.DisposalManager.$3X = [];
}
Mscrm.TurboForm.Control.DisposalManager.$HQ = function() {
    var $v_0 = window.closureEvents;
    if (IsNull($v_0)) {
        return null;
    }
    var $v_1 = {};
    for (var $v_2 = 0; $v_2 < $v_0.length; $v_2 += 1) {
        var $v_3 = $v_0[$v_2];
        if ($v_3 && $v_3.length > 0) {
            $v_1[$v_2.toString()] = $v_3;
        }
    }
    return $v_1;
}
Mscrm.TurboForm.Control.DisposalManager.clearHandlers = function($p0) {
    if (IsNull(window)) {
        return;
    }
    var $v_0 = Mscrm.TurboForm.Control.DisposalManager.$HQ();
    if (!IsNull($v_0)) {
        var $$dict_D = $v_0;
        for (var $$key_E in $$dict_D) {
            var $v_2 = { key: $$key_E, value: $$dict_D[$$key_E] };
            try {
                var $v_3 = $v_2.value;
                var $v_4 = $v_3.length;
                for (var $v_5 = $v_4 - 1; $v_5 >= 0; $v_5--) {
                    var $v_6 = $v_3[$v_5];
                    var $v_7 = $v_6.targetObj;
                    var $v_8 = $v_6.eventName;
                    var $v_9 = $v_6.isEventAttachedByAddHandler;
                    if ($v_9) {
                        var $v_A = $v_6.eventHandler;
                        var $v_B = $v_7._events;
                        if (!IsNull($v_B)) {
                            $removeHandler($v_7, $v_8, $v_A);
                        }
                    }
                    else {
                        $P_CRM($v_6.targetObj).unbind($v_8);
                    }
                }
            }
            catch ($$e_C) {
            }
        }
    }
    window.globalId = 1;window.closureEvents = [];window.uniqueId = undefined;window.document.uniqueId=undefined;;
    var $v_1 = $get($p0);
    Mscrm.TurboForm.Control.DisposalManager.$Dc(document.body, $v_1);
    window._events = {load:[],beforeunload:[],unload:[]};
}
Mscrm.TurboForm.Control.DisposalManager.$Dc = function($p0, $p1) {
    if (IsNull($p0)) {
        return;
    }
    $p0.uniqueId = undefined;
    $p0._events = undefined;
    if ($p0 === $p1) {
        return;
    }
    for (var $v_0 = 0; $v_0 < $p0.children.length; $v_0++) {
        Mscrm.TurboForm.Control.DisposalManager.$Dc($p0.children[$v_0], $p1);
    }
}
Mscrm.TurboForm.Control.DisposalManager.clearExistingLayoutClientVariables = function() {
    var $v_0 = window.layoutWindowObjects;
    if (!IsNull($v_0)) {
        var $v_1 = '';
        for (var $v_2 = 0; $v_2 < $v_0.length; $v_2++) {
            $v_1 += 'window.' + $v_0[$v_2].Key + ' = null;';
        }
        eval($v_1);
    }
    window.layoutWindowObjects = [];
}
Mscrm.TurboForm.Control.DisposalManager.clearExistingDataClientVariables = function() {
    var $v_0 = window.dataWindowObjects;
    if (!IsNull($v_0)) {
        var $v_1 = '';
        for (var $v_2 = 0; $v_2 < $v_0.length; $v_2++) {
            $v_1 += 'window.' + $v_0[$v_2].Key + ' = null;';
        }
        eval($v_1);
    }
    window.dataWindowObjects = [];
}
Mscrm.TurboForm.Control.DisposalManager.purgeObject = function($p0) {
    
    						for (var prop in $p0) {
    								$p0[prop] = null;
    						}
    						$p0.isDisposed = true;
    						$p0.get_isDisposed = function() { return true; };
    						$p0.dispose = function () {};;
}
Mscrm.TurboForm.Control.DisposalManager.clearSetTimeoutAndInternalQueue = function($p0, $p1) {
    var $v_0 = window.setTimeout(function() {
    }, 0);
    for (var $v_2 = $v_0; $v_2 >= $p0 && $v_2 >= 0; $v_2--) {
        window.clearTimeout($v_2);
    }
    var $v_1 = window.setInterval(function() {
    }, 0);
    for (var $v_3 = $v_1; $v_3 >= $p1 && $v_3 >= 0; $v_3--) {
        window.clearInterval($v_3);
    }
}
Mscrm.TurboForm.Control.DisposalManager.setLastFormLoadTimeoutIntervalJobId = function() {
    Mscrm.TurboForm.Control.DisposalManager.$CG = window.setTimeout(function() {
    }, 0);
    Mscrm.TurboForm.Control.DisposalManager.$9g = window.setInterval(function() {
    }, 0);
    window.clearInterval(Mscrm.TurboForm.Control.DisposalManager.$9g);
}


Mscrm.TurboForm.Control.FormState = function() {
    Mscrm.TurboForm.Control.FormState.initializeBase(this);
}
Mscrm.TurboForm.Control.FormState.fromFormStateMask = function(stateMask, errorMessage) {
    var $v_0 = new Mscrm.TurboForm.Control.FormState();
    $v_0.$9Y_1 = (stateMask & 16) === 16;
    $v_0.$9d_1 = (stateMask & 2) === 2;
    $v_0.$9R_1 = (stateMask & 4) === 4;
    $v_0.$7j_1 = (stateMask & 8) === 8;
    $v_0.$8D_1 = errorMessage;
    return $v_0;
}
Mscrm.TurboForm.Control.FormState.prototype = {
    $9Y_1: false,
    $9d_1: false,
    $9R_1: false,
    $7j_1: false,
    $8D_1: null,
    
    get_isDirty: function() {
        return this.$9Y_1;
    },
    
    get_isSaving: function() {
        return this.$9d_1;
    },
    
    get_hasError: function() {
        return this.$9R_1;
    },
    
    get_isLocked: function() {
        return this.$7j_1;
    },
    
    get_errorMessage: function() {
        return this.$8D_1;
    }
}


function IsNull(value) {
    return (typeof value === 'undefined' || value == null);
}
function IsNullOrEmptyString(value) {
    return IsNull(value) || !value.length;
}
function GetGlobalVariable(key) {
    return (eval('window.' + key));
}
function isSafari() {
    if (((navigator.userAgent.toLowerCase().indexOf('safari'))) !== -1 && ((navigator.userAgent.toLowerCase().indexOf('chrome'))) === -1) {
        return true;
    }
    return false;
}
function isFirefox() {
    if ((navigator.userAgent.toLowerCase().indexOf('firefox')) !== -1) {
        return true;
    }
    return false;
}
function isChrome() {
    if ((navigator.userAgent.toLowerCase().indexOf('chrome')) > -1) {
        return true;
    }
    return false;
}
function suffixValue() {
    var $v_0 = '_label';
    return $v_0;
}
function setGlobalVariable(attributeName, value) {
    window[attributeName] = value;
}
function setPerformanceMarkerTimestamp(markerName) {
    window[markerName] = (new Date()).getTime();
}
function GetHashValue(key) {
    var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.pageHash;
    return $E8(key, $v_0);
}
function $E8($p0, $p1) {
    if (IsNullOrEmptyString($p1) || $p1 === '#') {
        return null;
    }
    var $v_0 = $Bq($p0, $p1);
    if (IsNull($v_0)) {
        var $v_1 = $Bq('extraqs', $p1);
        if (!IsNullOrEmptyString($v_1)) {
            $v_0 = $Bq($p0, $v_1);
        }
    }
    return $v_0;
}
function isGlobalQuickCreate() {
    return GetGlobalVariable('_globalQuickCreate');
}
function GetAllHashValues() {
    return GetAllHashValuesInternal(Mscrm.TurboForm.Control.PageBootstrapper.pageHash);
}
function $Bq($p0, $p1) {
    if (IsNull($p0) || IsNull($p1)) {
        return null;
    }
    var $v_0 = GetAllHashValuesInternal($p1);
    if ((($p0) in $v_0)) {
        return $v_0[$p0];
    }
    return null;
}
function GetAllHashValuesInternal($p0) {
    var $v_0 = {};
    if (IsNull($p0)) {
        return $v_0;
    }
    if ($p0.startsWith('#') || $p0.startsWith('?')) {
        $p0 = $p0.substr(1);
    }
    var $v_1 = $p0.split('&');
    for (var $v_2 = 0; $v_2 < $v_1.length; $v_2++) {
        var $v_3 = $v_1[$v_2].split('=');
        $v_0[$v_3[0]] = CrmEncodeDecode.CrmUrlDecode($v_3[1]);
    }
    return $v_0;
}
function GetQueryParameterValue(key) {
    var $v_0 = window.location.href;
    if ($v_0.indexOf('?') > 0) {
        $v_0 = $v_0.split('?')[1];
        var $v_1 = Mscrm.TurboForm.Control.PageBootstrapper.$E7(window.location);
        if (!IsNullOrEmptyString($v_1)) {
            $v_0 = $v_0.split('#')[0];
            var $v_2 = $v_0.split('&');
            for (var $v_3 = 0; $v_3 < $v_2.length; $v_3++) {
                var $v_4 = $v_2[$v_3].split('=');
                if ($v_4[0] === key) {
                    return $v_4[1];
                }
            }
        }
    }
    return null;
}
function requestPage(requestUrl, successCallback, asynchronous, headers) {
    Mscrm.Utilities.requestPage(requestUrl, successCallback, asynchronous, headers);
}
function debugFail(errorMessage) {
    if (confirm(String.format('Assert failed:\n{0}\n\nBreak into debugger?', errorMessage))) {
        debugger;
    }
}
function BuildMultiGridXmlFromDom(gridIds, objectId, entityTypeCode, calledFromPaging, isTurboFormContext) {
    var $v_0 = new Sys.StringBuilder();
    $v_0.append('<gridMultiRequest>');
    for (var $$arr_6 = gridIds, $$len_7 = $$arr_6.length, $$idx_8 = 0; $$idx_8 < $$len_7; ++$$idx_8) {
        var $v_1 = $$arr_6[$$idx_8];
        var $v_2 = $get($v_1);
        if (!$v_2) {
            continue;
        }
        $v_0.append('<gridRequest id=\"' + $v_1 + '\">');
        buildGridXmlFromDom($v_0, $v_1, objectId, entityTypeCode, calledFromPaging, isTurboFormContext);
        $v_0.append('</gridRequest>');
    }
    $v_0.append('</gridMultiRequest>');
    return $v_0.toString();
}
function BuildGridXmlFromDom(gridId, objectId, entityTypeCode, calledFromPaging, isTurboFormContext) {
    var $v_0 = $get(gridId);
    if ($v_0) {
        var $v_1 = new Sys.StringBuilder();
        buildGridXmlFromDom($v_1, gridId, objectId, entityTypeCode, calledFromPaging, isTurboFormContext);
        return $v_1.toString();
    }
    return null;
}
function buildGridXmlFromDom(s, gridId, objectId, entityTypeCode, calledFromPaging, isTurboFormContext) {
    var $v_0 = $get(gridId);
    if ($v_0) {
        if (IsNull(calledFromPaging)) {
            calledFromPaging = false;
        }
        s.append('<grid>');
        XUI.Html.DomUtils.ForEachChild($get('divGridProps', $v_0), function($p1_0) {
            var $v_3 = $p1_0.getAttribute('value');
            if (IsNullOrEmptyString($v_3)) {
                s.append('<' + CrmEncodeDecode.CrmXmlEncode($p1_0.id) + '/>');
            }
            else {
                s.append('<' + CrmEncodeDecode.CrmXmlEncode($p1_0.id) + '>' + CrmEncodeDecode.CrmXmlEncode($v_3) + '</' + CrmEncodeDecode.CrmXmlEncode($p1_0.id) + '>');
            }
            return false;
        });
        if (IsNull(calledFromPaging) || !calledFromPaging) {
            s.append('<refreshCalledFromRefreshButton>1</refreshCalledFromRefreshButton>');
        }
        s.append('<returntotalrecordcount>True</returntotalrecordcount>');
        s.append('<getParameters>');
        var $v_1 = $EB('GridType', $v_0);
        var $v_2 = $EB('fetchXmlForFilters', $v_0);
        if (!IsNull($v_1) && ($v_1 === 'SubGrid') && IsNull($v_2)) {
            s.append('getFetchXmlForFilters');
        }
        s.append('</getParameters>');
        s.append('<parameters>');
        XUI.Html.DomUtils.ForEachChild($get('divGridParams', $v_0), function($p1_0) {
            var $v_4 = $p1_0.getAttribute('value');
            if ($v_4 && !$v_4.length) {
                s.append('<' + CrmEncodeDecode.CrmXmlEncode($p1_0.id) + '/>');
            }
            else if ($p1_0.id !== 'RenderAsync' && $p1_0.id !== 'LoadOnDemand') {
                s.append('<' + CrmEncodeDecode.CrmXmlEncode($p1_0.id) + '>' + CrmEncodeDecode.CrmXmlEncode($v_4) + '</' + CrmEncodeDecode.CrmXmlEncode($p1_0.id) + '>');
            }
            return false;
        });
        s.append('<RenderAsync>0</RenderAsync>');
        s.append('<oId>' + CrmEncodeDecode.CrmXmlEncode(objectId.toString()) + '</oId>');
        s.append('<oType>' + CrmEncodeDecode.CrmXmlEncode(entityTypeCode) + '</oType>');
        if (isTurboFormContext) {
            s.append('<isTurboForm>1</isTurboForm>');
        }
        else {
            s.append('<isTurboForm>0</isTurboForm>');
        }
        s.append($He(entityTypeCode));
        s.append($HM(entityTypeCode));
        s.append('</parameters>');
        s.append($G9(gridId));
        s.append('</grid>');
    }
}
function $He($p0) {
    var $v_0 = '';
    if ($p0 === '1024' || $p0 === '1025') {
        var $v_1 = Xrm.Page.context.getQueryStringParameters();
        if (!IsNull($v_1['revise'])) {
            $v_0 = '<revise>' + CrmEncodeDecode.CrmXmlEncode($v_1['revise']) + '</revise>';
        }
    }
    return $v_0;
}
function $HM($p0) {
    var $v_0 = '';
    if ($p0 === '1048') {
        var $v_1 = Xrm.Page.context.getQueryStringParameters();
        if (!IsNull($v_1['_canDelete'])) {
            $v_0 = '<canDeleteDynamicProperty>' + Boolean.parse($v_1['_canDelete'].toString()) + '</canDeleteDynamicProperty>';
        }
    }
    return $v_0;
}
function $G9($p0) {
    var $v_0 = '';
    var $v_1 = 0;
    var $v_2 = $p0 + '_gridBar';
    var $v_3 = $p0 + '_gridBarCols';
    $v_0 += '<columns>';
    var $v_4 = $get($v_2);
    var $v_5 = $get($v_3);
    if ($v_4) {
        var $v_6 = ($v_4.rows[0]).cells;
        var $v_7 = $v_6.length;
        for ($v_1 = 0; $v_1 < $v_7; $v_1++) {
            var $v_8 = $v_6[$v_1];
            if ($v_8.getAttribute('field')) {
                $v_0 += '<column width=';
                if ($v_8.getAttribute('isHidden')) {
                    $v_0 += '\"0\" isHidden=\"true\"';
                }
                else {
                    var $v_9 = 0;
                    if (!$v_9) {
                        var $v_A = XUI.Html.DomUtils.GetChildElementAt($v_5, $v_1).getAttribute('width');
                        if (!IsNullOrEmptyString($v_A)) {
                            $v_9 = parseInt($v_A, 10);
                        }
                    }
                    $v_0 += '\"' + $v_9 + '\" isHidden=\"false\"';
                }
                if ($v_8.getAttribute('metadataDisabled')) {
                    $v_0 += ' isMetadataBound=\"false\"';
                }
                else {
                    $v_0 += ' isMetadataBound=\"true\"';
                }
                if ($v_8.className === 'ms-crm-List-Sortable') {
                    $v_0 += ' isSortable=\"true\"';
                }
                else {
                    $v_0 += ' isSortable=\"false\"';
                }
                $v_0 += ' label=\"' + CrmEncodeDecode.CrmXmlAttributeEncode($v_8.getAttribute('displayLabel')) + '\"';
                $v_0 += ' fieldname=\"' + CrmEncodeDecode.CrmXmlAttributeEncode($v_8.getAttribute('fieldname')) + '\"';
                $v_0 += ' entityname=\"' + CrmEncodeDecode.CrmXmlAttributeEncode($v_8.getAttribute('entityname')) + '\"';
                if ($v_8.getAttribute('renderertype')) {
                    $v_0 += ' renderertype=\"' + CrmEncodeDecode.CrmXmlAttributeEncode($v_8.getAttribute('renderertype')) + '\"';
                }
                if (GetGlobalVariable('IS_GRID_WITH_IMAGE')) {
                    if ($v_8.getAttribute('imageproviderwebresource')) {
                        $v_0 += ' imageproviderwebresource=\"' + CrmEncodeDecode.CrmXmlAttributeEncode($v_8.getAttribute('imageproviderwebresource')) + '\"';
                    }
                    if ($v_8.getAttribute('imageproviderfunctionname')) {
                        $v_0 += ' imageproviderfunctionname=\"' + CrmEncodeDecode.CrmXmlAttributeEncode($v_8.getAttribute('imageproviderfunctionname')) + '\"';
                    }
                }
                if ($v_8.getAttribute('relationshipname')) {
                    $v_0 += ' relationshipname=\"' + CrmEncodeDecode.CrmXmlAttributeEncode($v_8.getAttribute('relationshipname')) + '\"';
                }
                $v_0 += '>' + CrmEncodeDecode.CrmXmlEncode($v_8.getAttribute('field')) + '</column>';
            }
        }
    }
    $v_0 += '</columns>';
    return $v_0;
}
function $EB($p0, $p1) {
    var $v_0 = $get('divGridParams', $p1);
    var $v_1 = null;
    if (!IsNull($v_0)) {
        var $v_2 = $get($p0, $v_0);
        if (!IsNull($v_2)) {
            $v_1 = $v_2.getAttribute('value');
        }
    }
    return $v_1;
}
function IsArray(value) {
    return !!value && ((Array.isInstanceOfType(value)) || (typeof(value.splice)) === 'function');
}
function isRightToLeft() {
    if (GetGlobalVariable('LOCID_UI_DIR') === 'RTL') {
        return true;
    }
    else {
        return false;
    }
}
function isControlDisabled(controlId) {
    if (!IsNull(controlId)) {
        var $v_0 = Xrm.Page.ui.controls.get(controlId);
        if (!IsNull($v_0)) {
            return $v_0.getDisabled();
        }
    }
    return false;
}
function getEntityReference(jsonData) {
    Mscrm.CrmDebug.assert(!IsNull(jsonData), 'jsonData was null : FormUtilities.GetEntityReference()');
    Mscrm.CrmDebug.assert((('_entity') in jsonData) && !IsNull(jsonData['_entity']), 'jsonData doesn\'t contain entry for _entity EntityReference.');
    var $v_0 = jsonData['_entity'];
    var $v_1 = $GQ($v_0);
    $v_1.Name = CrmEncodeDecode.CrmHtmlDecode($v_0.Name);
    $v_1.TypeDisplayName = CrmEncodeDecode.CrmHtmlDecode($v_0.TypeDisplayName);
    return $v_1;
}
function $GQ($p0) {
    var $v_0 = new Mscrm.EntityReference();
    $v_0.Id = $p0.Id;
    $v_0.Name = $p0.Name;
    $v_0.TypeCode = $p0.TypeCode;
    $v_0.TypeName = $p0.TypeName;
    $v_0.TypeDisplayName = $p0.TypeDisplayName;
    return $v_0;
}
function getCurrentEntityReference() {
    var $v_0 = new Mscrm.EntityReference();
    var $v_1 = Xrm.Page.data.getEntity().getEntityReference();
    $v_0.Id = getCurrentEntityId();
    $v_0.Name = $v_1.name;
    $v_0.TypeName = $v_1.entityType;
    return $v_0;
}
function getLinkedDataObject(element) {
    if (!IsNull(element)) {
        var $v_0 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.formData;
        do {
            if (!IsNull(element.attributes.getNamedItem('data-uniqueid'))) {
                $v_0 = $v_0['quickFormData_' + element.getAttribute('data-uniqueid')];
                break;
            }
            element = element.parentNode;
        } while (!IsNull(element.parentNode));
        return $v_0;
    }
    return null;
}
function getLinkedRecordId(elementId) {
    var $v_0 = $get(elementId + '_span');
    if (!IsNull($v_0)) {
        var $v_2 = $v_0.attributes.getNamedItem('formdataentityid');
        if (!IsNull($v_2) && $v_2.value.toLowerCase() === 'primaryentity') {
            return Xrm.Page.data.entity.getId();
        }
    }
    var $v_1 = getLinkedDataObject($v_0);
    if (!IsNull($v_1)) {
        var $v_3 = $v_1['_entity'];
        if (!IsNull($v_3) && !IsNullOrEmptyString($v_3.Id)) {
            return $v_3.Id;
        }
    }
    return Xrm.Page.data.entity.getId();
}
function tryCommitActiveControl(keepFocus) {
    var $v_0 = Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.getPageUI();
    if (IsNull($v_0)) {
        return;
    }
    var $v_1 = $v_0.getCurrentControl();
    if (IsNull($v_1)) {
        return;
    }
    var $v_2 = $v_1.$G_2.getControlViewById($v_1.getKey());
    if ($v_2.get_mode() === 1) {
        if (Mscrm.TurboForm.Control.View.EmailBodyEditElement.isInstanceOfType($v_2.$T_4)) {
            var $v_3 = $v_2.$T_4;
            $v_3.commitEmailBodyValue();
        }
        $v_2.updateUI(keepFocus);
    }
}
function createFormForGridRow(dataDescriptor, uiDescriptors, gridId) {
    var $v_0 = new Mscrm.TurboForm.Control.UIFormDescriptor();
    $v_0.FormId = Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString();
    $v_0.Metadata = getSubGridRowMetadataDescriptor(gridId).RowMetadata;
    $v_0.UIDescriptor = new Mscrm.TurboForm.Control.UIPageDescriptor();
    $v_0.UIDescriptor.InlineEditGridRow = uiDescriptors;
    $v_0.UIDescriptor.Header = new Array(0);
    $v_0.UIDescriptor.Footer = new Array(0);
    $v_0.UIDescriptor.Tabs = new Array(0);
    var $v_1 = new Mscrm.TurboForm.Control.Form();
    $v_1.initialize($v_0, new Microsoft.Crm.Client.Core.Framework.Guid(dataDescriptor._entity.Id));
    $v_1.bindUI();
    $v_1.bindData(dataDescriptor);
    $v_1.executeOnLoad();
    Mscrm.TurboForm.Control.PageManager.get_instance().finishUIUpdate();
    return $v_1;
}
function getSubGridRowMetadataDescriptor(gridId) {
    var $v_0 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.InlineEditSubGrids[gridId];
    return $v_0;
}
function getAttributeValue(form, attributeName) {
    var $v_0 = form.getPageData().getEntity().getAttributes().getByName(attributeName);
    if (!IsNull($v_0)) {
        var $v_1 = $v_0.getValue();
        if (!IsNull($v_1)) {
            switch ($v_0.getAttributeType()) {
                case 'decimal':
                    if (isNaN(parseFloat($v_1.toString()))) {
                        return null;
                    }
                    break;
                case 'integer':
                    var $v_2 = $v_0.getControls().getByIndex(0);
                    if ((isNaN(parseInt($v_1.toString()))) || $v_2.hasErrorNotification()) {
                        return null;
                    }
                    break;
                default:
                    break;
            }
            return $v_1;
        }
    }
    return null;
}
function setAttributeValue(form, attributeName, value) {
    setAttributeValueCheckForValueChange(form, attributeName, value, false);
}
function setAttributeValueCheckForValueChange(form, attributeName, value, checkForValueChange) {
    if (IsNull(form)) {
        return;
    }
    var $v_0 = form.getPageData().getEntity().getAttributes().getByName(attributeName);
    if (!IsNull($v_0) && (!checkForValueChange || ($v_0.$1x_2 !== value))) {
        $v_0.setValue(value, null);
    }
}
function getDecodedValue(value, replaceBR) {
    if (!IsNull(value)) {
        var $v_0 = value['value'];
        if (!IsNull($v_0)) {
            var $v_1 = CrmEncodeDecode.CrmHtmlDecode($v_0);
            if (replaceBR) {
                $v_1 = $v_1.split('<br>').join('\r');
            }
            return CrmEncodeDecode.CrmHtmlDecode($v_1);
        }
    }
    return null;
}
function removeCarriageReturnsOnNewLines(input) {
    var $v_0 = null;
    if (input) {
        $v_0 = input.replace(new RegExp('\r\n', 'g'), '\n');
        $v_0 = $v_0.replace(new RegExp('\r', 'g'), '\n');
    }
    return $v_0;
}
function normalizeNewLineForTextArea(line) {
    if (!isNullOrEmptyString(line)) {
        line = line.split('\r\n').join('\r');
        line = line.split('\n').join('\r');
    }
    return line;
}
function addHandlerToDomElement(element, eventName, handler) {
    if (!IsNullOrEmptyString(eventName) && eventName !== 'focus') {
        $addHandler(element, eventName, handler);
    }
    else if (!IsNullOrEmptyString(eventName) && eventName === 'focus') {
        if (handler) {
            var $v_0 = function($p1_0) {
                var $v_1 = $p1_0.originalEvent;
                if (!IsNull($v_1)) {
                    var $v_2 = new Sys.UI.DomEvent($v_1);
                    handler($v_2);
                }
            };
            track(element, 'focus', $v_0, false);
            $P_CRM(element).bind('focus', $v_0);
        }
    }
}
function addHandlerToWindow(eventName, handler) {
    $addHandler(window, eventName, handler);
}
function removeHandlerFromDomElement(element, eventName, handler) {
    if (!IsNullOrEmptyString(eventName) && eventName !== 'focus') {
        if (hasDomElementContainTheHandlersCollection(element)) {
            if ($Hz(element, eventName)) {
                $removeHandler(element, eventName, handler);
            }
        }
    }
    else if (!IsNullOrEmptyString(eventName) && eventName === 'focus') {
        if (handler) {
            $P_CRM(element).unbind('focus');
        }
    }
}
function $Hz($p0, $p1) {
    var $v_0 = false;
    if (!IsNull($p0)) {
        $v_0 = !IsNull($p0._events[$p1]);
    }
    return $v_0;
}
function hasDomElementContainTheHandlersCollection(element) {
    var $v_0 = false;
    if (!IsNull(element)) {
        $v_0 = !IsNull(element._events);
    }
    return $v_0;
}
function removeHandlerFromWindow(eventName, handler) {
    $removeHandler(window, eventName, handler);
}
function constructExecutionContext(eventSource, depth, eventArgs, context, formContext) {
    if (IsNull(eventSource)) {
        eventSource = Xrm.Page.ui;
    }
    if (IsNull(depth)) {
        depth = 0;
    }
    if (IsNull(formContext)) {
        formContext = Xrm.Page;
    }
    var $v_0 = new Xrm.ExecutionContext(eventSource, Xrm.Page.context, depth, eventArgs, context, formContext);
    return $v_0;
}
function $v() {
    if (Mscrm.TurboForm.Control.DialogBootstrapper.GetHashValue('DialogName')) {
        return true;
    }
    return false;
}
function getCurrentEntityId() {
    var $v_0 = Xrm.Page.data.entity.getId();
    if (Microsoft.Crm.Client.Core.Framework.Guid.isNullOrEmpty($v_0)) {
        return null;
    }
    return $v_0;
}
function isTransactionCurrencyLookup(attributeName, formId) {
    var $v_0 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.entityMetadata;
    if (((formId) in $v_0)) {
        var $v_1 = $v_0[formId];
        var $v_2 = $v_1[attributeName];
        return $v_2['IsTransactionCurrencyLookup'];
    }
    return false;
}
function saveCanceledErrorCodeAsString() {
    var $v_0 = 13;
    return $v_0.toString();
}
function setLoadingText(text) {
    var $v_0 = $get('loadingtext');
    if (!IsNull($v_0)) {
        XUI.Html.SetText($v_0, text);
    }
}
function setUnusedRowsVisibility(labelContainerElement, controlAndLabelParentContainer, visible) {
    var $v_0 = parseInt(labelContainerElement.attr('rowspan'), 10);
    var $v_1 = (visible) ? '' : 'none';
    var $v_2 = controlAndLabelParentContainer;
    while (!isNaN($v_0) && $v_0 > 1 && !IsNull($v_2)) {
        $v_2 = $v_2.next();
        $v_0--;
        if (!visible && !isElementAllChildrenHidden($v_2)) {
            continue;
        }
        $v_2.css('display', $v_1);
    }
}
function isElementAllChildrenHidden(parentElement) {
    return !parentElement.children(':not(:hidden)').length;
}
function getTab(element) {
    var $v_0 = element;
    while (!IsNull($v_0)) {
        if ($P_CRM($v_0).hasClass('ms-crm-InlineTabBody-Read')) {
            break;
        }
        $v_0 = $v_0.parentNode;
    }
    return $v_0;
}


Mscrm.TurboForm.Control.ParameterKeys = function() {
}


Mscrm.TurboForm.Control.PropertyBag = function() {
    this.$Cb_0 = {};
    this.$CF_0 = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(Boolean))();
}
Mscrm.TurboForm.Control.PropertyBag.prototype = {
    
    addPropertyData: function(key, value) {
        this.$Cb_0[Mscrm.TurboForm.Control.PropertyKey.toString(key)] = value;
        this.$CF_0.set_item(Mscrm.TurboForm.Control.PropertyKey.toString(key), true);
    },
    
    hasPropertyData: function(key) {
        return this.$CF_0.get_item(Mscrm.TurboForm.Control.PropertyKey.toString(key));
    },
    
    getPropertyData: function(key) {
        return this.$Cb_0[Mscrm.TurboForm.Control.PropertyKey.toString(key)];
    }
}


Mscrm.TurboForm.Control.ResourceManager = function() {
    this.$x_1 = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(String))();
    Mscrm.TurboForm.Control.ResourceManager.initializeBase(this);
}
Mscrm.TurboForm.Control.ResourceManager.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.ResourceManager.$7) || Mscrm.TurboForm.Control.ResourceManager.$7.isDisposed) {
        Mscrm.TurboForm.Control.ResourceManager.$7 = new Mscrm.TurboForm.Control.ResourceManager();
        Mscrm.TurboForm.Control.ResourceManager.$7.$Js_1();
    }
    return Mscrm.TurboForm.Control.ResourceManager.$7;
}
Mscrm.TurboForm.Control.ResourceManager.prototype = {
    
    getString: function(resourceId) {
        var parameters = [];
        for (var $$pai_4 = 1; $$pai_4 < arguments.length; ++$$pai_4) {
            parameters[$$pai_4 - 1] = arguments[$$pai_4];
        }
        if (IsNullOrEmptyString(resourceId)) {
            return '';
        }
        var $v_0 = _resourceStrings;
        var $v_1 = $v_0.get_item(resourceId);
        if (IsNullOrEmptyString($v_1)) {
            return '';
        }
        if (parameters && parameters.length > 0) {
            $v_1 = String.format.apply(null, [ $v_1 ].concat(parameters));
        }
        return $v_1;
    },
    
    getErrorMessage: function(errorCode) {
        return Xrm.Internal.getErrorMessage(errorCode);
    },
    
    getLocalizedString: function(resourceId) {
        var parameters = [];
        for (var $$pai_3 = 1; $$pai_3 < arguments.length; ++$$pai_3) {
            parameters[$$pai_3 - 1] = arguments[$$pai_3];
        }
        var $v_0 = this.$x_1.get_item(resourceId);
        if (!IsNullOrEmptyString($v_0)) {
            return String.format.apply(null, [ this.$x_1.get_item(resourceId) ].concat(parameters));
        }
        else {
            return resourceId;
        }
    },
    
    getLocalizedErrorMessage: function(code) {
        var parameters = [];
        for (var $$pai_2 = 1; $$pai_2 < arguments.length; ++$$pai_2) {
            parameters[$$pai_2 - 1] = arguments[$$pai_2];
        }
        return this.getLocalizedString.apply(this, [ Mscrm.TurboForm.Control.ErrorCode.toString(code) ].concat(parameters));
    },
    
    $Js_1: function() {
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(1), window.LOCID_DEVERROR_TOO_LONG);
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(2), 'The value you have entered exceeds the acceptable max value of {0}');
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(4), window.LOCID_NUMBER_RANGE_MASK);
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(5), window.LOCID_FLOAT_RANGE_MASK);
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(3), 'The value you have entered is less than the min value of {0}');
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(6), window.LOCID_PRECISION_RANGE_MESSAGE);
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(8), window.LOCID_DEVERROR_BADDATATYPE_INT);
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(9), window.LOCID_IEC_SELECTTOENTER);
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(10), window.LOCID_FORM_PROIVE_VALUE_MASK);
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(11), window.LOCID_ENTER_VALID_EMAIL);
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(12), window.LOCID_VALID_DURATION);
        this.$x_1.set_item('SavingInformation', window.LOCID_SAVING);
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(15), 'Empty lookup obeject collection');
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(16), 'Value is not an array');
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(17), 'Cannot add multiple items to a Lookup of style single');
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(18), 'LOOKUP CONTROL ERROR: Cannot add item of typename={0} to the lookup control');
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(19), 'Entity type not defined');
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(20), window.LOCID_INLINELOOKUP_NOMATCH);
        this.$x_1.set_item(Mscrm.TurboForm.Control.ErrorCode.toString(21), window.LOCID_LU_LOOKUPAMBIGUOUSTOOLTIP);
        this.$x_1.set_item('TestLocalizedString', '');
    }
}


Mscrm.TurboForm.Control.TypedDictionary$1 = function(items) {
    if (!IsNull(items)) {
        this.$1X_0 = items;
    }
    else {
        this.$1X_0 = {};
    }
}
Mscrm.TurboForm.Control.TypedDictionary$1.$$ = function(T) {
    var $$cn = 'TypedDictionary$1' + '$' + T.getName().replace(/\./g, '_');
    if (!Mscrm.TurboForm.Control[$$cn]) {
        var $$ccr = Mscrm.TurboForm.Control[$$cn] = function() {
            (this.$$gta = this.$$gta || {})['Mscrm.TurboForm.Control.TypedDictionary$1'] = {'T': T};
            var $v_0 = [];
            for (var $v_1 = 0; $v_1 < arguments.length; ++$v_1) {
                $v_0[$v_1] = arguments[$v_1];
            }
            Mscrm.TurboForm.Control.TypedDictionary$1.apply(this, $v_0);
        };
        $$ccr.registerClass('Mscrm.TurboForm.Control.' + $$cn);
        var $$dict_5 = Mscrm.TurboForm.Control.TypedDictionary$1.prototype;
        for (var $$key_6 in $$dict_5) {
            var $$entry_7 = { key: $$key_6, value: $$dict_5[$$key_6] };
            if ('constructor' !== $$entry_7.key) {
                $$ccr.prototype[$$entry_7.key] = $$entry_7.value;
            }
        }
    }
    return Mscrm.TurboForm.Control[$$cn];
}
Mscrm.TurboForm.Control.TypedDictionary$1.prototype = {
    $1X_0: null,
    
    get_item: function(index) {
        return this.$1X_0[index];
    },
    
    set_item: function(index, value) {
        this.$1X_0[index] = value;
        return value;
    },
    
    remove: function(index) {
        delete this.$1X_0[index];
    },
    
    clear: function() {
        this.$1X_0 = {};
    },
    
    contains: function(item) {
        var $$dict_2 = this.$1X_0;
        for (var $$key_3 in $$dict_2) {
            var $v_0 = { key: $$key_3, value: $$dict_2[$$key_3] };
            if ($v_0.value === item) {
                return true;
            }
        }
        return false;
    },
    
    getKeys: function() {
        var $v_0 = new Array(0);
        var $$dict_2 = this.$1X_0;
        for (var $$key_3 in $$dict_2) {
            var $v_1 = { key: $$key_3, value: $$dict_2[$$key_3] };
            $v_0[$v_0.length] = $v_1.key;
        }
        return $v_0;
    },
    
    containsKey: function(key) {
        var $$dict_2 = this.$1X_0;
        for (var $$key_3 in $$dict_2) {
            var $v_0 = { key: $$key_3, value: $$dict_2[$$key_3] };
            if ($v_0.key === key) {
                return true;
            }
        }
        return false;
    },
    
    indexOf: function(item) {
        var $$dict_2 = this.$1X_0;
        for (var $$key_3 in $$dict_2) {
            var $v_0 = { key: $$key_3, value: $$dict_2[$$key_3] };
            if ($v_0.value === item) {
                return $v_0.key;
            }
        }
        return null;
    },
    
    count: function() {
        var $v_0 = 0;
        var $$dict_2 = this.$1X_0;
        for (var $$key_3 in $$dict_2) {
            var $v_1 = { key: $$key_3, value: $$dict_2[$$key_3] };
            $v_0++;
        }
        return $v_0;
    },
    
    toArray: function() {
        var $v_0 = new Array(this.count());
        var $v_1 = 0;
        var $$dict_3 = this.$1X_0;
        for (var $$key_4 in $$dict_3) {
            var $v_2 = { key: $$key_4, value: $$dict_3[$$key_4] };
            $v_0[$v_1] = $v_2.value;
            $v_1++;
        }
        return $v_0;
    },
    
    toDictionary: function() {
        return this.$1X_0;
    }
}


Mscrm.TurboForm.Control.ValidationEventArgs = function(value) {
    this.$u_0 = value;
}
Mscrm.TurboForm.Control.ValidationEventArgs.prototype = {
    $u_0: null,
    
    get_value: function() {
        return this.$u_0;
    }
}


Mscrm.TurboForm.Control.ValidationResult = function(isValid, errorType, errorMessage, preventAlert) {
    this.$1B_0 = isValid;
    this.$4J_0 = errorType;
    this.$1o_0 = errorMessage;
    this.$9z_0 = preventAlert;
}
Mscrm.TurboForm.Control.ValidationResult.setIsSaveCanceled = function(isSaveCanceled) {
    Mscrm.TurboForm.Control.ValidationResult.$Ae = isSaveCanceled;
}
Mscrm.TurboForm.Control.ValidationResult.getIsSaveCanceled = function() {
    return Mscrm.TurboForm.Control.ValidationResult.$Ae;
}
Mscrm.TurboForm.Control.ValidationResult.prototype = {
    $1B_0: false,
    $4J_0: 0,
    $1o_0: null,
    $9z_0: false,
    
    get_isValid: function() {
        return this.$1B_0;
    },
    
    get_errorType: function() {
        return this.$4J_0;
    },
    
    get_errorMessage: function() {
        return this.$1o_0;
    },
    
    get_preventAlert: function() {
        return this.$9z_0;
    }
}


Mscrm.TurboForm.Control.DataRequest = function() {
    Mscrm.TurboForm.Control.DataRequest.initializeBase(this);
}
Mscrm.TurboForm.Control.DataRequest.prototype = {
    $1R_1: null,
    $36_1: null,
    $3u_1: false,
    $5C_1: false,
    $B2_1: null,
    
    get_request: function() {
        return this.$1R_1;
    },
    
    set_request: function(value) {
        this.$1R_1 = value;
        return value;
    },
    
    get_callback: function() {
        return this.$36_1;
    },
    
    set_callback: function(value) {
        this.$36_1 = value;
        return value;
    },
    
    get_isDataProcessed: function() {
        return this.$3u_1;
    },
    
    set_isDataProcessed: function(value) {
        this.$3u_1 = value;
        return value;
    },
    
    get_isBatchRequested: function() {
        return this.$5C_1;
    },
    
    set_isBatchRequested: function(value) {
        this.$5C_1 = value;
        return value;
    },
    
    get_responseText: function() {
        if (!this.$5C_1) {
            return this.$1R_1.responseText;
        }
        else {
            return this.$B2_1;
        }
    },
    
    set_responseText: function(value) {
        if (this.$5C_1) {
            this.$B2_1 = value;
        }
        return value;
    }
}


Mscrm.TurboForm.Control.DataManager = function() {
    this.$$d_$FP_1 = Function.createDelegate(this, this.$FP_1);
    this.$1m_1 = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(Mscrm.TurboForm.Control.DataRequest))();
    Mscrm.TurboForm.Control.DataManager.initializeBase(this);
}
Mscrm.TurboForm.Control.DataManager.prototype = {
    $8A_1: false,
    $CI_1: false,
    $8y_1: 0,
    $AU_1: false,
    
    get_dataRequests: function() {
        return this.$1m_1;
    },
    
    registerControlToDataSource: function(controlId, dataBindCallback) {
        var $v_0 = this.$Br_1(controlId);
        if ($v_0.$36_1) {
            return false;
        }
        $v_0.$36_1 = dataBindCallback;
        return true;
    },
    
    bindSubGridData: function() {
        this.$8A_1 = true;
        var $v_0 = this.$1m_1.getKeys();
        for (var $$arr_1 = $v_0, $$len_2 = $$arr_1.length, $$idx_3 = 0; $$idx_3 < $$len_2; ++$$idx_3) {
            var $v_1 = $$arr_1[$$idx_3];
            this.$BZ_1($v_1);
        }
    },
    
    requestMultiSubGridData: function(subGridIds, recordId, entityTypeCode) {
        var $v_0 = Mscrm.CrmUri.create('/AppWebServices/AppGridWebService.ashx?operation=RefreshMulti');
        var $v_1 = new XMLHttpRequest();
        for (var $$arr_5 = subGridIds, $$len_6 = $$arr_5.length, $$idx_7 = 0; $$idx_7 < $$len_6; ++$$idx_7) {
            var $v_2 = $$arr_5[$$idx_7];
            var $v_3 = $get($v_2);
            if (!$v_3) {
                continue;
            }
            var $v_4 = this.$Br_1($v_2);
            if ($v_4.$1R_1) {
                continue;
            }
            $v_4.$1R_1 = $v_1;
            $v_4.$5C_1 = true;
        }
        $v_1.open('POST', $v_0.toString(), true);
        var $$t_G = this;
        $v_1.onreadystatechange = function() {
            if ($v_1.readyState !== 4) {
                return;
            }
            else {
                if (!$$t_G.$1m_1) {
                    return;
                }
                $v_1.onreadystatechange = null;
                var $v_5 = XUI.Xml.LoadXml($v_1.responseText);
                var $v_6 = $v_5.getElementsByTagName('gridResponse');
                for (var $v_7 = 0; $v_7 < $v_6.length; $v_7++) {
                    var $v_8 = $v_6[$v_7].attributes.getNamedItem('id').nodeValue;
                    if (!$$t_G.$1m_1.containsKey($v_8)) {
                        continue;
                    }
                    var $v_9 = $$t_G.$1m_1.get_item($v_8);
                    if (!($v_9.$1R_1 === $v_1)) {
                        continue;
                    }
                    if ($v_6[$v_7].firstChild) {
                        $v_9.set_responseText(XUI.Xml.XMLSerializer.serializeToString($v_6[$v_7].firstChild));
                    }
                    if ($$t_G.$8A_1 && !IsNull($v_9.$36_1) && !$v_9.$3u_1) {
                        $$t_G.$BZ_1($v_8);
                    }
                }
            }
        };
        $v_1.send(BuildMultiGridXmlFromDom(subGridIds, recordId, entityTypeCode, false, true));
    },
    
    requestSubGridData: function(subGridId, recordId, entityTypeCode) {
        var $v_0 = Mscrm.CrmUri.create('/AppWebServices/AppGridWebService.ashx?operation=Refresh');
        var $v_1 = new XMLHttpRequest();
        var $v_2 = this.$Br_1(subGridId);
        if ($v_2.$1R_1) {
            return;
        }
        $v_1.open('POST', $v_0.toString(), true);
        var $$t_6 = this;
        $v_1.onreadystatechange = function() {
            if ($v_1.readyState !== 4) {
                return;
            }
            else {
                if ($$t_6.$8A_1 && !IsNull($v_2.$36_1) && !$v_2.$3u_1) {
                    $$t_6.$BZ_1(subGridId);
                }
            }
            $v_1.onreadystatechange = null;
        };
        $v_1.send(BuildGridXmlFromDom(subGridId, recordId, entityTypeCode, false, true));
        $v_2.$1R_1 = $v_1;
    },
    
    $Br_1: function($p0) {
        if (this.$1m_1.containsKey($p0)) {
            return this.$1m_1.get_item($p0);
        }
        var $v_0 = new Mscrm.TurboForm.Control.DataRequest();
        this.$1m_1.set_item($p0, $v_0);
        return $v_0;
    },
    
    $BZ_1: function($p0) {
        var $v_0 = this.$1m_1.get_item($p0);
        if ($v_0.$1R_1 && $v_0.$1R_1.readyState === 4) {
            $v_0.$3u_1 = true;
            if ($v_0.$1R_1.status === 200) {
                var $v_1 = new Mscrm.MetricsStopwatch('Bind Subgrid_' + $p0);
                $v_1.start();
                $v_0.$36_1($v_0.get_responseText());
                $v_1.stop();
            }
            if ($v_0.$1R_1.status !== 200) {
            }
            this.$Il_1();
        }
    },
    
    $Il_1: function() {
        if (this.$CI_1) {
            return;
        }
        var $v_0 = this.$1m_1.getKeys();
        for (var $$arr_1 = $v_0, $$len_2 = $$arr_1.length, $$idx_3 = 0; $$idx_3 < $$len_2; ++$$idx_3) {
            var $v_2 = $$arr_1[$$idx_3];
            var $v_3 = this.$1m_1.get_item($v_2);
            if ($v_3.$1R_1 && !$v_3.$3u_1) {
                return;
            }
        }
        if (!_Script.isNullOrUndefined(Mscrm.TurboForm.Control.PageBootstrapper.$2f)) {
            Mscrm.TurboForm.Control.PageBootstrapper.$2f.updateUsageStatistics();
        }
        setPerformanceMarkerTimestamp('AllSubgridsLoaded');
        Mscrm.Performance.PerformanceMarkerManager.get_instance().addMarker('AllSubgridsLoaded', 1);
        this.$CI_1 = true;
        var $v_1 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
        if (!IsNull($v_1) && $v_1.formType !== 7) {
            this.$Ju_1();
            this.$FP_1();
        }
    },
    
    $Ju_1: function() {
        var $v_0 = window.top.StartInPageNavigationTimestamp;
        var $v_1 = window.top.InnerIFrameSrcChangeTimestamp;
        if (!($v_0 > 0) || ($v_1 - $v_0 > 1000)) {
            $v_0 = $v_1;
        }
        this.$8y_1 = $v_0;
        var $v_2 = window.self.ActionHubControlInitializedTimestamp;
        this.$AU_1 = !IsNull($v_2) && $v_2 > this.$8y_1;
    },
    
    $L5_1: function() {
        if (!this.$AU_1) {
            return true;
        }
        else {
            var $v_0 = window.self.ActionCardsLoadFinishTimestamp;
            if (!IsNull($v_0) && $v_0 > this.$8y_1) {
                return true;
            }
        }
        return false;
    },
    
    $FP_1: function() {
        if (this.$L5_1()) {
            Mscrm.MetricsCollector.collectAndReportClientMetrics(2);
        }
        else {
            window.setTimeout(this.$$d_$FP_1, 200);
        }
    }
}


Mscrm.TurboForm.Control.DefaultFormCache = function() {
    this.$BN_0 = new Mscrm.Caching.LocalStorageCache('EntityDefaultForm');
}
Mscrm.TurboForm.Control.DefaultFormCache.get_instance = function() {
    return Mscrm.TurboForm.Control.DefaultFormCache.$7;
}
Mscrm.TurboForm.Control.DefaultFormCache.prototype = {
    
    get_item: function(entityTypeName) {
        var $v_0 = this.$BN_0.get_item(entityTypeName);
        return (Microsoft.Crm.Client.Core.Framework.Guid.isNullOrEmpty($v_0)) ? null : new Microsoft.Crm.Client.Core.Framework.Guid($v_0);
    },
    
    set_item: function(entityTypeName, value) {
        var $v_0 = (IsNull(value)) ? '' : value.toString();
        this.$BN_0.set_item(entityTypeName, $v_0);
        return value;
    }
}


Mscrm.TurboForm.Control.FormDataDescriptor = function() {
    Mscrm.TurboForm.Control.FormDataDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.FormDataDescriptor.prototype = {
    _formId: null,
    _closeButtonToolTip: null,
    _editButtonToolTip: null,
    _readFormTitle: null,
    _readOnlyFormTitle: null,
    _flyoutlayoutUrl: null,
    _formlayoutUrl: null,
    _processControlDataKey: null,
    _unProcessedAttributes: null,
    ActivityFeedsState: null
}


Mscrm.TurboForm.Control.EntityDataDescriptor = function() {
}
Mscrm.TurboForm.Control.EntityDataDescriptor.prototype = {
    _entity: null,
    entityPermissions: null,
    _formstate: null,
    _disabledcontrols: null,
    _notifications: null
}


Mscrm.TurboForm.Control.EntityRecordInformation = function() {
}
Mscrm.TurboForm.Control.EntityRecordInformation.prototype = {
    Id: null,
    TypeCode: null,
    TypeName: null,
    TypeDisplayName: null,
    Name: null
}


Mscrm.TurboForm.Control.FormDataResponse = function() {
}
Mscrm.TurboForm.Control.FormDataResponse.prototype = {
    commandBarData: null,
    formData: null,
    tokenData: null,
    businessRulesVersion: null,
    formVersion: 0,
    mappedXmlString: null,
    entityDisplayName: null,
    _error: null,
    isCustomImagePresentInDatabase: false,
    clientVariables: null
}


Mscrm.TurboForm.Control.DialogBootstrapper = function() {
}
Mscrm.TurboForm.Control.DialogBootstrapper.loadDialog = function(containerId) {
    Mscrm.TurboForm.Control.PageBootstrapper.$EU();
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Load Dialog');
    $v_0.start();
    Mscrm.TurboForm.Control.DialogBootstrapper.$IE(containerId);
    Xrm.Internal.trace.log('DialogBootstrapper', 'loading dialog');
    var $v_1 = Xrm.Internal.startMetricsStopwatch('Initialize Custom Scripts Manager');
    $v_1.start();
    var $v_2 = Mscrm.TurboForm.Control.CustomScriptsManager.get_instance();
    $v_1.stop();
    var $v_3 = Mscrm.TurboForm.Control.DialogBootstrapper.$HJ();
    var $v_4 = [];
    Mscrm.TurboForm.Control.PageBootstrapper.$92($v_4, 'x-crm-original', Mscrm.TurboForm.Control.DialogBootstrapper.$1y.opened);
    Mscrm.TurboForm.Control.DialogBootstrapper.$KL($v_3.toString(), $v_4);
    setPerfMarkerTimestamp('HideLoadingScreenTimestamp');
    Sys.Application.initialize();;
    $v_0.stop();
}
Mscrm.TurboForm.Control.DialogBootstrapper.$IE = function($p0) {
    Mscrm.TurboForm.Control.DialogBootstrapper.$1y = new Mscrm.TurboForm.Control.PageState();
    Mscrm.TurboForm.Control.DialogBootstrapper.$1y.containerId = $p0;
    Mscrm.TurboForm.Control.DialogBootstrapper.$1y.formType = 0;
    var $v_0 = Mscrm.TurboForm.Control.DialogBootstrapper.GetHashValue('_CreateFromId');
    Mscrm.TurboForm.Control.DialogBootstrapper.$1y.createFromId = (IsNullOrEmptyString($v_0)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : new Microsoft.Crm.Client.Core.Framework.Guid($v_0);
    Mscrm.TurboForm.Control.DialogBootstrapper.$1y.createFromType = Mscrm.TurboForm.Control.DialogBootstrapper.GetHashValue('_CreateFromType');
    Mscrm.TurboForm.Control.DialogBootstrapper.$1y.descriptors = null;
    Mscrm.TurboForm.Control.DialogBootstrapper.$1y.opened = 'other';
    Mscrm.TurboForm.Control.PageManager.get_instance().$D_1 = Mscrm.TurboForm.Control.DialogBootstrapper.$1y;
}
Mscrm.TurboForm.Control.DialogBootstrapper.$HJ = function() {
    var $v_0 = Mscrm.TurboForm.Control.DialogBootstrapper.GetHashValue('DialogName');
    var $v_1 = Mscrm.TurboForm.Control.DialogBootstrapper.GetHashValue('_CreateFromId');
    var $v_2 = (IsNullOrEmptyString(window.METADATA_TIMESTAMP)) ? '' : window.METADATA_TIMESTAMP;
    var $v_3 = (IsNullOrEmptyString(window.THEME_UPDATE_TIMESTAMP)) ? '' : window.THEME_UPDATE_TIMESTAMP;
    var $v_4 = window.USER_LANGUAGE_CODE;
    var $v_5 = Mscrm.CrmUri.create(String.format('/Dialog/Dialog.aspx?DialogName={0}&_CreateFromId={1}&_CreateFromType={2}&tstamp={3}&updateTimeStamp={4}&user-lcid={5}', CrmEncodeDecode.CrmUrlEncode($v_0), CrmEncodeDecode.CrmUrlEncode($v_1), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.DialogBootstrapper.$1y.createFromType), CrmEncodeDecode.CrmUrlEncode($v_2), CrmEncodeDecode.CrmUrlEncode($v_3), CrmEncodeDecode.CrmUrlEncode($v_4)));
    return $v_5;
}
Mscrm.TurboForm.Control.DialogBootstrapper.$KL = function($p0, $p1) {
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Request Dialog Layout');
    $v_0.start();
    requestPage($p0, function($p1_0) {
        $v_0.stop();
        var $v_1 = Xrm.Internal.startMetricsStopwatch('Parse Dialog Layout Response Json');
        $v_1.start();
        var $v_2 = Mscrm.TurboForm.Control.PageBootstrapper.$9v($p1_0);
        $v_1.stop();
        if ($v_2) {
            var $v_3 = Xrm.Internal.startMetricsStopwatch('Process Dialog Layout');
            $v_3.start();
            Mscrm.TurboForm.Control.DialogBootstrapper.$Jx($p0, $v_2);
            $v_3.stop();
        }
    }, false, $p1);
}
Mscrm.TurboForm.Control.DialogBootstrapper.$Jx = function($p0, $p1) {
    var $v_0 = $p1._error;
    if (!IsNull($v_0)) {
        var $v_1 = Mscrm.ErrorInformation.createErrorInfo($v_0.Code, $v_0.DisplayText, $v_0.SerializedException);
        openErrorDlg($v_0.Code, $v_0.DisplayText, $v_1, 0, 0);
        return;
    }
    else {
        for (var $$arr_4 = $p1.Descriptor.FormDescriptor, $$len_5 = $$arr_4.length, $$idx_6 = 0; $$idx_6 < $$len_5; ++$$idx_6) {
            var $v_9 = $$arr_4[$$idx_6];
            Mscrm.TurboForm.Control.PageBootstrapper.$EY($v_9);
        }
        var $v_2 = Mscrm.TurboForm.Control.DialogBootstrapper.$1y;
        $v_2.descriptors = $p1.Descriptor.FormDescriptor;
        $v_2.primaryFormId = new Microsoft.Crm.Client.Core.Framework.Guid($p1.Descriptor.PrimaryFormId);
        var $v_3 = $p1.header;
        $v_2.applicationInitDeferredStatements = $p1.header.ApplicationInitDeferredStatements;
        $v_2.sfaTabsInitDeferredStatements = $p1.header.SFATabsInitDeferredStatements;
        var $v_4 = Xrm.Internal.startMetricsStopwatch('Inject Layout Includes to Page');
        $v_4.start();
        Sys.Application.beginCreateComponents();
        eval($v_3.TurboApplicationInitStatements);
        Sys.Application.endCreateComponents();
        Mscrm.TurboForm.Control.PageBootstrapper.$EM($v_3.StyleIncludes);
        Mscrm.TurboForm.Control.PageBootstrapper.$EG($v_3.TurboScriptIncludes);
        Mscrm.TurboForm.Control.DisposalManager.clearExistingDataClientVariables();
        Mscrm.TurboForm.Control.DialogBootstrapper.$IM($v_3.ClientVariables);
        $v_4.stop();
        Mscrm.TurboForm.Control.PageBootstrapper.$CH.$Ey_0('DialogBootstrapper', 'Render Dialog Layout', 'dialogJQueryTemplate', $p0, $v_2, $v_3);
        var $v_5 = Xrm.Internal.startMetricsStopwatch('Initialize Application Components');
        $v_5.start();
        Sys.Application.beginCreateComponents();
        eval(createPageManager);
        eval(createEventManager);
        Sys.Application.endCreateComponents();
        $v_5.stop();
        if ($v_2.formType !== 7) {
            Mscrm.TurboForm.Control.DialogBootstrapper.$KM($v_2);
        }
        var $v_6 = Xrm.Internal.startMetricsStopwatch('Initialize Xrm Controls and Data');
        $v_6.start();
        Mscrm.TurboForm.Control.PageManager.get_instance().initialize();
        $v_6.stop();
        var $v_7 = Xrm.Internal.startMetricsStopwatch('Bind Xrm to HTML');
        $v_7.start();
        Mscrm.TurboForm.Control.PageManager.get_instance().bindUI();
        $v_7.stop();
        Mscrm.TurboForm.Control.PageManager.get_instance().initializeProcessControl($v_2);
        $v_2.layoutReady = true;
        Xrm.XrmPerformance.measureTime('OnLayoutReady handlers', function() {
            return Mscrm.TurboForm.Control.PageBootstrapper.$7d('OnLayoutReadyEvent');
        });
        Mscrm.TurboForm.Control.PageManager.get_instance().bindEmptyData($v_2);
        Sys.Application.beginCreateComponents();
        var $v_8 = $v_3.ApplicationInitStatements.split('\r\n');
        for (var $$arr_F = $v_8, $$len_G = $$arr_F.length, $$idx_H = 0; $$idx_H < $$len_G; ++$$idx_H) {
            var $v_A = $$arr_F[$$idx_H];
            if ($v_A.indexOf('CompositeControl') > -1 && $v_A.indexOf('CompositeControlResizeControl') === -1) {
                Mscrm.TurboForm.Control.PageManager.get_instance().$2c_1.registerInitDeferredStatement($v_A);
            }
            else if ($v_A.indexOf('GridSpanControl') > -1) {
                eval($v_A);
            }
        }
        Sys.Application.endCreateComponents();
    }
}
Mscrm.TurboForm.Control.DialogBootstrapper.$KM = function($p0) {
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Request Subgrids Data');
    $v_0.start();
    if (!_Script.isNullOrUndefined(getDialogArguments()['entityTypeCode'])) {
        $p0.etc = (getDialogArguments()['entityTypeCode']).toString();
    }
    if (!_Script.isNullOrUndefined(getDialogArguments()['entityId'])) {
        $p0.recordId = new Microsoft.Crm.Client.Core.Framework.Guid((getDialogArguments()['entityId']).toString());
    }
    Mscrm.TurboForm.Control.PageManager.get_instance().$2c_1.requestSubGridData($p0);
    $v_0.stop();
}
Mscrm.TurboForm.Control.DialogBootstrapper.$IM = function($p0) {
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Variable Includes');
    $v_0.start();
    var $v_1 = '';
    window.windowObjects = $p0;
    for (var $v_2 = 0; $v_2 < $p0.length; $v_2++) {
        if (!($p0[$v_2].Key.startsWith('USER_') && !_Script.isNullOrUndefined(eval('window.' + $p0[$v_2].Key)))) {
            $v_1 += 'window.' + $p0[$v_2].Key + ' = ' + $p0[$v_2].Value + ';';
        }
    }
    eval($v_1);
    $v_0.stop();
}
Mscrm.TurboForm.Control.DialogBootstrapper.GetHashValue = function(key) {
    var $v_0 = Mscrm.TurboForm.Control.DialogBootstrapper.$Eo;
    return $E8(key, $v_0);
}


Mscrm.TurboForm.Control.DuplicateDetectionService = function() {
    Mscrm.TurboForm.Control.DuplicateDetectionService.initializeBase(this);
    this.$4q_1 = 'MSCRM_DuplicateDetection_Notification';
    this.$5Q_1 = this.get_$IY_1();
}
Mscrm.TurboForm.Control.DuplicateDetectionService.get_saveMode = function() {
    return Mscrm.TurboForm.Control.DuplicateDetectionService.$6K;
}
Mscrm.TurboForm.Control.DuplicateDetectionService.set_saveMode = function(value) {
    Mscrm.TurboForm.Control.DuplicateDetectionService.$6K = value;
    return value;
}
Mscrm.TurboForm.Control.DuplicateDetectionService.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.DuplicateDetectionService.$7) || Mscrm.TurboForm.Control.DuplicateDetectionService.$7.isDisposed) {
        Mscrm.TurboForm.Control.DuplicateDetectionService.$7 = new Mscrm.TurboForm.Control.DuplicateDetectionService();
    }
    return Mscrm.TurboForm.Control.DuplicateDetectionService.$7;
}
Mscrm.TurboForm.Control.DuplicateDetectionService.isMobileRefresh = function() {
    return window.IsMobileRefresh;
}
Mscrm.TurboForm.Control.DuplicateDetectionService.prototype = {
    $4q_1: null,
    $5Q_1: true,
    $6V_1: null,
    
    get_duplicateDetectionNotificationId: function() {
        return this.$4q_1;
    },
    
    set_duplicateDetectionNotificationId: function(value) {
        this.$4q_1 = value;
        return value;
    },
    
    get_helperLinkFormat: function() {
        return '<a class=\'ms-crm-DuplicateDetectionLink\' href=\'#\' style=\'{0}\' id=\'{1}\' onclick=\'{2}\' title=\'{4}\' tabIndex=\'{5}\'><span id=\'{3}\'>{6}</span></a>';
    },
    
    get_tabIndexOfLink: function() {
        return 1000;
    },
    
    get_performDuplicateCheck: function() {
        return this.$5Q_1;
    },
    
    set_performDuplicateCheck: function(value) {
        this.$5Q_1 = value;
        return value;
    },
    
    get_$IY_1: function() {
        return window.IsDuplicateDetectionEnabled && window.IsDuplicateDetectionEnabledForOnlineCreateUpdate;
    },
    
    get_crmEncodeDecodeProxy: function() {
        if (IsNull(this.$6V_1)) {
            this.$6V_1 = new Mscrm.Proxies.CrmEncodeDecodeProxy();
        }
        return this.$6V_1;
    },
    
    set_crmEncodeDecodeProxy: function(value) {
        this.$6V_1 = value;
        return value;
    },
    
    buildXml: function(entity) {
        return entity.serialize(0);
    },
    
    diffAndMergeXml: function(formXml, duplicateEntityXml) {
        var $v_0 = XUI.Xml.LoadXml(formXml);
        var $v_1 = XUI.Xml.LoadXml(duplicateEntityXml);
        var $v_2 = $v_0.documentElement;
        var $v_3 = $v_1.documentElement;
        var $$t_E = this;
        XUI.Xml.DomUtils.ForEachChild($v_3, function($p1_0) {
            var $v_4 = $p1_0;
            var $v_5 = null;
            if (!IsNull($v_4)) {
                $v_5 = $v_4.cloneNode(true);
            }
            if (!IsNull($v_5)) {
                var $v_6 = XUI.Xml.SelectSingleNode($v_2, $v_5.nodeName, null);
                var $v_7 = $v_5.attributes.getNamedItem('name');
                if ((!IsNull($v_7)) && (isNullOrEmptyString(XUI.Xml.GetText($v_7)))) {
                    if (IsNull($v_6)) {
                        var $v_8 = $$t_E.getLabelFromClientApi($v_5.nodeName, XUI.Xml.GetText($v_5));
                        if (!isNullOrEmptyString($v_8)) {
                            XUI.Xml.SetText($v_7, $v_8);
                        }
                        $v_0.documentElement.appendChild($v_5);
                    }
                    else {
                        var $v_9 = $v_6.attributes.getNamedItem('name');
                        if ((XUI.Xml.GetText($v_5) === XUI.Xml.GetText($v_6)) && (!IsNull($v_9)) && !isNullOrEmptyString(XUI.Xml.GetText($v_9))) {
                            XUI.Xml.SetText($v_7, XUI.Xml.GetText($v_9));
                        }
                        else {
                            var $v_A = $$t_E.getLabelFromClientApi($v_5.nodeName, XUI.Xml.GetText($v_5));
                            if (!isNullOrEmptyString($v_A)) {
                                XUI.Xml.SetText($v_7, $v_A);
                            }
                        }
                        $v_0.documentElement.replaceChild($v_5, $v_6);
                    }
                }
                else {
                    if (IsNull($v_6)) {
                        $v_0.documentElement.appendChild($v_5);
                    }
                }
            }
            return false;
        });
        return XUI.Xml.XMLSerializer.serializeToString($v_0);
    },
    
    getLabelFromClientApi: function(attributeName, attributeValue) {
        var $v_0 = Xrm.Page.getAttribute(attributeName);
        var $v_1 = '';
        if (!IsNull($v_0)) {
            var $v_2 = $v_0.getAttributeType();
            if (!isNullOrEmptyString($v_2)) {
                switch ($v_2) {
                    case 'optionset':
                        $v_1 = ($v_0).getOption(attributeValue).text;
                        break;
                    case 'lookup':
                        var $v_3 = $v_0.getValue();
                        if (!IsNull($v_3)) {
                            $v_1 = ($v_3)[0].name;
                        }
                        break;
                }
            }
        }
        return $v_1;
    },
    
    generateResolveDuplicateDialogLink: function(entity) {
        var $v_0 = '/Tools/DuplicateDetection/ViewDuplicates/ViewDuplicatesOnline.aspx?source=1&dType=1';
        if (!entity.get_isNew() && !IsNull(entity.get_recordId())) {
            var $v_1 = '&oid=' + this.get_crmEncodeDecodeProxy().crmUrlEncode(entity.get_recordId());
            $v_0 += $v_1;
        }
        return $v_0;
    },
    
    generateHelperLink: function(id, onClickHandler, label, inlineStyle) {
        var $v_0 = id + 'Text';
        if (IsNull(inlineStyle)) {
            inlineStyle = '';
        }
        if (IsNull(label)) {
            label = '';
        }
        return String.format(this.get_helperLinkFormat(), this.get_crmEncodeDecodeProxy().crmHtmlAttributeEncode(inlineStyle), this.get_crmEncodeDecodeProxy().crmHtmlAttributeEncode(id), this.get_crmEncodeDecodeProxy().crmHtmlAttributeEncode(onClickHandler), this.get_crmEncodeDecodeProxy().crmHtmlAttributeEncode($v_0), this.get_crmEncodeDecodeProxy().crmHtmlAttributeEncode(label), this.get_tabIndexOfLink(), this.get_crmEncodeDecodeProxy().crmHtmlEncode(label));
    },
    
    callbackToLaunchResolveDuplicateDialog: function(entityXml) {
        return String.format('Mscrm.TurboForm.Control.CommandService.get_instance().LaunchResolveDuplicateDialog(\'{0}\')', entityXml);
    },
    
    callbackToIgnoreResolveDuplicate: function() {
        return 'Mscrm.TurboForm.Control.CommandService.get_instance().IgnoreResolveDuplicate();';
    },
    
    callbackForUserActionOnDialog: function() {
        return Mscrm.TurboForm.Control.CommandService.get_instance().SaveRecordAsDuplicate;
    }
}


Mscrm.TurboForm.Control.Form = function() {
    this.$$d_$Fq_1 = Function.createDelegate(this, this.$Fq_1);
    this.$$d_handlePostOnLoad = Function.createDelegate(this, this.handlePostOnLoad);
    this.$$d_$Ea_1 = Function.createDelegate(this, this.$Ea_1);
    this.$$d_$Iw_1 = Function.createDelegate(this, this.$Iw_1);
    this.$D8_1 = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(String))();
    this.$33_1 = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(Array))();
    this.$4o_1 = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(Mscrm.TurboForm.Control.PropertyBag))();
    this.$3b_1 = new Sys.EventHandlerList();
    Mscrm.TurboForm.Control.Form.initializeBase(this);
    this.data = new Mscrm.TurboForm.Control.FormData(this);
    this.ui = new Mscrm.TurboForm.Control.FormUI(this);
    this.context = Xrm.Page.context;
    Mscrm.TurboForm.Control.CommandService.get_instance().addBeforeCommandExecutionHandler(1, this.$$d_$Iw_1);
    Mscrm.TurboForm.Control.CommandService.get_instance().addAfterCommandExecutionHandler(1, this.$$d_$Ea_1);
    this.$3r_1 = 0;
    Mscrm.TurboForm.Control.PageManager.get_instance().registerForm(this);
}
Mscrm.TurboForm.Control.Form.RecalculateColumnWidth = function() {
    var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
    if (!IsNull($v_0) && $v_0.formType === 1) {
        if (!window.ColWidthDict) {
            window.ColWidthDict = {};
        }
        var $v_1 = Mscrm.Utilities.getChildElementsByClassName(document.body, 'ms-crm-FormSection-Container', false);
        for (var $v_2 = 0; $v_2 < $v_1.length; $v_2++) {
            Mscrm.TurboForm.Control.Form.$K2($v_1[$v_2]);
        }
    }
}
Mscrm.TurboForm.Control.Form.$K2 = function($p0) {
    if (!$p0) {
        return;
    }
    var $v_0 = Mscrm.TurboForm.Control.Form.$Hg($p0);
    if (!$v_0) {
        return;
    }
    var $v_1 = Mscrm.TurboForm.Control.Form.$HD($p0);
    if (!$v_1 || $v_1.length < 1) {
        return;
    }
    var $v_2 = $v_0 / (2 * $v_1.length);
    var $v_3 = Mscrm.Utilities.getChildElementsByClassName($p0, 'ms-crm-FormSection', false);
    if (!$v_3 || $v_3.length < 1) {
        return;
    }
    var $v_4 = $v_3[0];
    if (!$v_4) {
        return;
    }
    var $v_5 = $v_4.id;
    for (var $v_6 = 0; $v_6 < $v_1.length; $v_6++) {
        var $v_7 = $v_1[$v_6];
        if (!$v_7) {
            return;
        }
        var $v_8 = $v_7.width;
        if (!$v_6 && !(($v_5) in window.ColWidthDict)) {
            window.ColWidthDict[$v_5] = $v_8;
        }
        if ($v_2 < window.ColWidthDict[$v_5]) {
            $v_7.width = $v_2;
        }
        else {
            $v_7.width = window.ColWidthDict[$v_5];
        }
    }
}
Mscrm.TurboForm.Control.Form.$Hg = function($p0) {
    return $p0.offsetWidth;
}
Mscrm.TurboForm.Control.Form.$HD = function($p0) {
    var $v_0 = $p0.getElementsByTagName('colgroup');
    if (!$v_0 || $v_0.length < 1) {
        return null;
    }
    var $v_1 = $v_0[0];
    if (!$v_1) {
        return null;
    }
    var $v_2 = $v_1.getElementsByTagName('col');
    var $v_3 = new Array(0);
    for (var $v_4 = 0; $v_4 < $v_2.length; $v_4++) {
        var $v_5 = $v_2[$v_4];
        if (Mscrm.TurboForm.Control.Form.$Ib($v_5)) {
            $v_3.push($v_5);
        }
    }
    return $v_3;
}
Mscrm.TurboForm.Control.Form.$Ib = function($p0) {
    return (!!$p0) && (!!$p0.style) && ($p0.style.display !== 'none' && $p0.style.display !== 'hidden') && ($p0.width !== '');
}
Mscrm.TurboForm.Control.Form.prototype = {
    context: null,
    data: null,
    ui: null,
    $z_1: null,
    $3r_1: 0,
    $AT_1: null,
    $2H_1: '',
    $n_1: '',
    $Af_1: false,
    
    add_formStateChange: function(value) {
        this.$3b_1.addHandler('FormStateEventChangeId', value);
    },
    
    remove_formStateChange: function(value) {
        this.$3b_1.removeHandler('FormStateEventChangeId', value);
    },
    
    set_$FN_1: function($p0) {
        this.$3r_1 = $p0;
        var $v_0 = this.$3b_1.getHandler('FormStateEventChangeId');
        if (!IsNull($v_0)) {
            $v_0(this.get_state());
        }
        return $p0;
    },
    
    get_state: function() {
        return Mscrm.TurboForm.Control.FormState.fromFormStateMask(this.$3r_1, this.$AT_1);
    },
    
    $74_1: null,
    
    get_pidRequestManager: function() {
        if (!this.$74_1) {
            this.$74_1 = Mscrm.TurboForm.Common.ProcessIdRequestManager.get_instance();
        }
        return this.$74_1;
    },
    
    set_pidRequestManager: function(value) {
        this.$74_1 = value;
        return value;
    },
    
    get_prefixKey: function() {
        return this.$2H_1;
    },
    
    set_prefixKey: function(value) {
        this.$2H_1 = value;
        return value;
    },
    
    get_uniqueId: function() {
        return this.$n_1;
    },
    
    set_uniqueId: function(value) {
        this.$n_1 = value;
        return value;
    },
    
    getPageUI: function() {
        return this.ui;
    },
    
    getPageData: function() {
        return this.data;
    },
    
    getAttribute: function(name) {
        if (!Mscrm.InternalUtilities.JSTypes.isNull(this.data) && !Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(name)) {
            return this.data.getEntity().getAttributes().get(name);
        }
        return null;
    },
    
    getControl: function(id) {
        if (!Mscrm.InternalUtilities.JSTypes.isNull(this.ui) && !Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(id)) {
            return this.ui.getControls().get(id);
        }
        return null;
    },
    
    get_formId: function() {
        return this.$z_1;
    },
    
    initialize: function(formDescriptor, recordId) {
        this.$z_1 = new Microsoft.Crm.Client.Core.Framework.Guid(formDescriptor.FormId.toString());
        this.$Ec_1();
        this.ui.initializeControls(formDescriptor, this.$n_1);
        this.data.initializeData(formDescriptor.Metadata, recordId);
        if (Mscrm.TurboForm.Control.PageManager.get_instance().$L_1 === this) {
            Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().addMessageHandler('TurboFormPostOnloadTimestamp', this.$$d_handlePostOnLoad);
        }
    },
    
    bindUI: function() {
        this.$Af_1 = true;
        this.ui.bindUI();
        if (this.$4o_1.toArray().length > 0) {
            Mscrm.TurboForm.Control.PageManager.get_instance().startUIUpdate();
        }
    },
    
    bindEmptyData: function() {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('Bind Empty Data for dialog: ' + this.$z_1.toString());
        $v_0.start();
        Mscrm.TurboForm.Control.PageManager.get_instance().startUIUpdate();
        this.data.bindEmptyData(1);
        this.enableValidation();
        $v_0.stop();
    },
    
    bindData: function(formData) {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('Bind Form Data for form: ' + this.$z_1.toString());
        $v_0.start();
        this.ui.set_formTitle(formData._readOnlyFormTitle);
        Mscrm.TurboForm.Control.PageManager.get_instance().startUIUpdate();
        this.data.bindData(formData, 1);
        this.enableValidation();
        $v_0.stop();
    },
    
    enableValidation: function() {
        var $$t_3 = this;
        this.ui.addBeforeOnLoad(function($p1_0) {
            $$t_3.data.getEntity().getAttributes().forEach(function($p2_0, $p2_1) {
                $p2_0.enableValidation();
            });
        });
    },
    
    executeOnLoad: function() {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('Execute OnLoad for form: ' + this.$z_1.toString());
        $v_0.start();
        this.ui.executeOnLoad();
        $v_0.stop();
    },
    
    flushVisibilityChanges: function() {
        if (this.$Af_1) {
            var $v_0 = this.$4o_1;
            this.$4o_1 = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(Mscrm.TurboForm.Control.PropertyBag))();
            this.ui.updateUI($v_0);
        }
    },
    
    registerViewModel: function(viewModel) {
        if (Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel.isInstanceOfType(viewModel)) {
            var $v_0 = viewModel;
            var $v_1 = $v_0.getKey();
            var $v_2 = $v_0.getAttributeName();
            this.$D8_1.set_item($v_1, $v_2);
            if ($v_2 && IsNull(this.$33_1.get_item($v_2))) {
                var $v_4 = {};
                $v_4['id'] = $v_2;
                var $v_5 = $get($v_2);
                Mscrm.Utilities.registerControlForXrmUI($v_5, $v_4);
            }
            if (IsNull(this.$33_1.get_item($v_2))) {
                this.$33_1.set_item($v_2, new Array(0));
            }
            var $v_3 = this.$33_1.get_item($v_2);
            $v_3[$v_3.length] = $v_1;
        }
    },
    
    registerDataAttribute: function(attribute) {
        var $v_0 = this.$33_1.get_item(attribute.getKey());
        if (!IsNull($v_0)) {
            var $v_1 = attribute.getControls();
            for (var $v_2 = 0; $v_2 < $v_0.length; $v_2++) {
                var $v_3 = this.ui.getControlById($v_0[$v_2]);
                $v_1.add($v_3);
                var $v_4 = this.ui.getControlViewById($v_0[$v_2]);
                $v_4.$4_2 = attribute;
            }
        }
    },
    
    registerVisibleDataPropertyChanged: function(dataAttributeName, propertyKey, newValue) {
        var $v_0 = this.$33_1.get_item(dataAttributeName);
        if (!IsNull($v_0)) {
            for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
                this.registerVisiblePropertyChanged($v_0[$v_1], propertyKey, newValue);
            }
        }
    },
    
    registerVisiblePropertyChanged: function(controlId, propertyKey, newValue) {
        Mscrm.TurboForm.Control.PageManager.get_instance().startUIUpdate();
        var $v_0 = this.$4o_1.get_item(controlId);
        if (IsNull($v_0)) {
            $v_0 = new Mscrm.TurboForm.Control.PropertyBag();
            this.$4o_1.set_item(controlId, $v_0);
        }
        $v_0.addPropertyData(propertyKey, newValue);
    },
    
    internalDispose: function() {
        var $v_0 = this.$33_1.getKeys();
        for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
            Mscrm.Utilities.removeControlFromXrmUI($v_0[$v_1]);
        }
        Mscrm.TurboForm.Control.CommandService.get_instance().removeBeforeCommandExecutionHandler(1, this.$$d_$Iw_1);
        Mscrm.TurboForm.Control.CommandService.get_instance().removeAfterCommandExecutionHandler(1, this.$$d_$Ea_1);
        Mscrm.TurboForm.Control.PageManager.get_instance().unregisterForm(this);
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    $Ec_1: function() {
        Mscrm.TurboForm.Control.PageManager.get_instance().startUIUpdate(false);
    },
    
    handlePostOnLoad: function() {
        if (Mscrm.FeatureControl.get_Current().isFeatureEnabled(Mscrm.FeatureNames.BackStackForTurboForm) && Mscrm.TurboForm.Control.PageManager.get_instance().$L_1 === this && this.$LK_1()) {
            return;
        }
        var $v_0 = Xrm.Internal.startMetricsStopwatch('Handle Post OnLoad');
        $v_0.start();
        if (Mscrm.TurboForm.Control.PageManager.get_instance().$L_1 === this) {
            this.get_pidRequestManager().clearRecords();
            Mscrm.TurboForm.Control.PageManager.get_instance().handlePostOnLoad();
            var $v_1 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
            if (!IsNull($v_1) && $v_1.formType !== 7 && !$v_1.recordId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) {
                Mscrm.TurboForm.Control.PageBootstrapper.requestSubGridData();
            }
            this.get_pidRequestManager().requestPidPtsWithLookupService();
            setAttributeInWindow('FormEntityLogicalName', (this.data.getEntity()) ? this.data.getEntity().getEntityName() || '' : '');
            setAttributeInWindow('FormEntityTypeCode', (this.data.getEntity() && !Mscrm.InternalUtilities.JSTypes.isNull(this.data.getEntity().getEntityTypeCode())) ? this.data.getEntity().getEntityTypeCode().toString() : '');
            if (!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(window.CUSTOM_ETC_LIST) && JSON.parse(window.CUSTOM_ETC_LIST).indexOf(this.data.getEntity().getEntityTypeCode()) > -1) {
                setAttributeInWindow('IsCustomEntity', 'true');
            }
            else {
                setAttributeInWindow('IsCustomEntity', 'false');
            }
            if (!IsNull(window.turboHeaderScriptIncludes)) {
                if (this.scriptIncludesSearch(window.turboHeaderScriptIncludes, '/_static/cs/articlesearchribbon/articlesearchribbon.js')) {
                    Mscrm.CrmHeader.setScriptFileForTurboForm(Mscrm.CrmUri.create('/_static/CS/ArticleSearchRibbon/ArticleSearchRibbon.js'));
                }
            }
            Mscrm.TurboForm.Control.PageManager.get_instance().loadActionHubIframe();
            window.setTimeout(this.$$d_$Fq_1, 15);
        }
        else {
            Mscrm.TurboForm.Control.PageManager.get_instance().finishUIUpdate();
        }
        window.ColWidthDict = {};
        Mscrm.TurboForm.Control.Form.RecalculateColumnWidth();
        $v_0.stop();
    },
    
    $LK_1: function() {
        var $v_0 = Xrm.Page.context.getQueryStringParameters();
        var $v_1 = (('navLinkId') in $v_0) && (('navArea') in $v_0);
        if ($v_1) {
            var $v_2 = $v_0['navLinkId'].toString();
            var $v_3 = $v_0['navArea'].toString();
            var $v_4 = $get($v_2);
            if (!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString($v_3) && !Mscrm.InternalUtilities.JSTypes.isNull($v_4)) {
                Mscrm.TurboForm.Control.PageManager.get_instance().finishUIUpdate();
                Mscrm.Details.loadArea($v_4, $v_3);;
                return true;
            }
        }
        return false;
    },
    
    scriptIncludesSearch: function(scriptIncludes, filepath) {
        var $v_0 = {};
        for (var $v_1 = 0; $v_1 < scriptIncludes.length; $v_1++) {
            var $v_2 = scriptIncludes[$v_1].Key.toLowerCase();
            $v_0[$v_2.substring(0, $v_2.indexOf('?'))] = true;
        }
        return ((filepath) in $v_0);
    },
    
    $Fq_1: function() {
        if (!Mscrm.TurboForm.Control.CommandBarManager.get_instance().$44_1) {
            Mscrm.TurboForm.Control.PageManager.get_instance().bindSubGridData();
            Mscrm.TurboForm.Control.PageManager.get_instance().raiseGlobalPageLoadedEvent();
            Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.getPageUI().refreshNavBar();
            if (isGlobalQuickCreate()) {
                setPerformanceMarkerTimestamp('GlobalQuickCreateLoadFinishTimestamp');
                Mscrm.MetricsCollector.collectAndReportClientMetrics(2);
            }
        }
        else {
            window.setTimeout(this.$$d_$Fq_1, 15);
        }
    },
    
    $Iw_1: function($p0) {
        var $v_0 = $p0.$7c_1;
        if ($v_0.$K_1.$8_1 === this) {
            this.addState(2);
        }
    },
    
    $Ea_1: function($p0) {
        var $v_0 = $p0.$7c_1;
        if ($v_0.$K_1.$8_1 === this) {
            this.removeState(2);
        }
        if (isGlobalQuickCreate()) {
            Mscrm.GlobalQuickCreate.GlobalQuickCreateBehavior.executeCallbacksAssociatedWithGlobalQuickCreate('savesuccess', $p0.$64_1._entity);
        }
        Mscrm.Utilities.addEntityToRecent($p0.$64_1._entity);
    },
    
    addState: function(stateToAdd) {
        this.set_$FN_1(this.$3r_1 | stateToAdd);
    },
    
    removeState: function(stateToRemove) {
        if ((this.$3r_1 & stateToRemove) === stateToRemove) {
            this.set_$FN_1(this.$3r_1 ^ stateToRemove);
        }
    },
    
    addErrorState: function(errorMessage) {
        this.$AT_1 = errorMessage;
        this.addState(4);
    }
}


Mscrm.TurboForm.Control.FormData = function(parent) {
    this.$3b_1 = new Mscrm.ClientApiEventHandlerList(new Sys.EventHandlerList());
    Mscrm.TurboForm.Control.FormData.initializeBase(this);
    this.$8_1 = parent;
}
Mscrm.TurboForm.Control.FormData.prototype = {
    entity: null,
    $8_1: null,
    $1i_1: false,
    $5T_1: null,
    $5U_1: null,
    $54_1: 0,
    
    get_parentForm: function() {
        return this.$8_1;
    },
    
    get_isEntityDataDisabled: function() {
        return this.$1i_1;
    },
    
    get_formType: function() {
        return this.$54_1;
    },
    
    get_relationshipName: function() {
        return this.$5T_1;
    },
    
    set_relationshipName: function(value) {
        this.$5T_1 = value;
        return value;
    },
    
    get_relationshipRoleOrdinal: function() {
        return this.$5U_1;
    },
    
    set_relationshipRoleOrdinal: function(value) {
        this.$5U_1 = value;
        return value;
    },
    
    get_formDataEntity: function() {
        return $find('PrimaryEntity');
    },
    
    initializeData: function(metadata, recordId) {
        this.entity = Mscrm.TurboForm.Control.DataEntityBuilder.get_instance().buildDataEntity(metadata, this);
        recordId = (IsNull(recordId)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : recordId;
        this.entity.setId(recordId.toString());
        var $v_0 = this.entity.getAttributes();
        for (var $v_1 = 0; $v_1 < $v_0.getLength(); $v_1++) {
            this.$8_1.registerDataAttribute($v_0.getByIndex($v_1));
        }
    },
    
    addOnLoad: function(handler) {
        this.$3b_1.addHandler('onload', handler, false);
    },
    
    bindEmptyData: function(loadState) {
        this.entity.bindEmptyData();
        this.invokeDataOnLoadHandlers(loadState);
    },
    
    bindData: function(data, loadState) {
        var $v_0 = data;
        if (!IsNull($v_0) && (('_extraParams') in $v_0)) {
            var $v_1 = $v_0['_extraParams'];
            if (!IsNull($v_1) && (('processinstanceid') in $v_1) && !IsNull(Mscrm.TurboForm.Control.PageManager.get_instance().$3R_1) && this.$Ic_1()) {
                var $v_2 = $v_1['processinstanceid'];
                Mscrm.TurboForm.Control.PageManager.get_instance().$3R_1.get_viewModel().set_processInstanceId($v_2);
            }
        }
        this.$1i_1 = !IsNull($v_0) && (('_entitydisabled') in $v_0) && $v_0['_entitydisabled'] === '1';
        if (this.$1i_1) {
            $v_0['_entitydisabled'] = '1';
            this.$8_1.addState(8);
        }
        else {
            this.$8_1.removeState(8);
        }
        this.$LR_1(data);
        if (IsNull(data._formstate)) {
            data._formstate = Xrm.FormType.toString(0);
        }
        this.$54_1 = Number.parseInvariant(data._formstate);
        this.entity.bindData(data, loadState);
        if (loadState === 1) {
            this.$8_1.getPageUI().setFocusOnFirstVisibleTab();
        }
        this.$Jr_1(data);
        this.invokeDataOnLoadHandlers(loadState);
    },
    
    $Ic_1: function() {
        return this.$54_1 !== Number.parseInvariant(Xrm.FormType.toString(0)) && this.$8_1 === Mscrm.TurboForm.Control.PageManager.get_instance().$L_1;
    },
    
    $LR_1: function($p0) {
        var $v_0 = $p0;
        if (this.$8_1 === Mscrm.TurboForm.Control.PageManager.get_instance().$L_1 && !IsNull(this.get_formDataEntity()) && !IsNull($v_0)) {
            if (this.get_formDataEntity().get_recordId() !== $p0._entity.Id) {
                this.get_formDataEntity().set_recordId($p0._entity.Id);
            }
            this.get_formDataEntity().set_typeName($p0._entity.TypeName);
            if ((('_formstate') in $v_0)) {
                this.get_formDataEntity().set_formState($v_0['_formstate']);
            }
            var $v_1 = $get('crmFormSubmitId');
            if (!IsNull($v_1)) {
                $v_1.value = this.entity.$w_1;
            }
        }
    },
    
    $Jr_1: function($p0) {
        if (this.$8_1 === Mscrm.TurboForm.Control.PageManager.get_instance().$L_1) {
            this.$8_1.getPageUI().setFormNotifications($p0._notifications, 'Server');
        }
    },
    
    invokeDataOnLoadHandlers: function(loadState) {
        var $v_0 = this.$3b_1.getHandler('onload');
        var $v_1 = new Mscrm.TurboForm.Control.Data.DataLoadEventArgs(loadState);
        if ($v_0) {
            $v_0(this.entity.$Bu_1(), $v_1);
        }
    },
    
    blockAutoSave: function(autoSave) {
        Mscrm.TurboForm.Control.CommandService.get_instance().$34_1 = autoSave;
    },
    
    setDataId: function(recordId) {
        recordId = (IsNull(recordId)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : recordId;
        this.entity.setId(recordId.toString());
    },
    
    getEntity: function() {
        return this.entity;
    },
    
    getIsValid: function() {
        var $v_0 = this.entity.validateAttributes(true);
        return $v_0.$1B_0;
    },
    
    refresh: function(save) {
        var $v_0 = jQueryApi.jQueryDeferredFactory.Deferred(Xrm.SaveSuccessResponse, Xrm.SaveErrorResponse);
        var $v_1 = false;
        $v_1 = this.entity.getIsDirty();
        if ($v_1 && save) {
            var $$t_7 = this, $$t_8 = this;
            this.$Cl_1().then(function($p1_0) {
                $v_0.resolve($p1_0);
            }, function($p1_0) {
                if (!IsNull($p1_0) && $p1_0.errorCode.toString() === saveCanceledErrorCodeAsString()) {
                    $$t_8.refreshWithoutSave().then(function($p2_0) {
                        $v_0.resolve($p2_0);
                    }, function($p2_0) {
                        $v_0.reject($p2_0);
                    });
                }
                else {
                    $v_0.reject($p1_0);
                }
            });
        }
        else {
            return this.refreshWithoutSave();
        }
        return $v_0.promise();
    },
    
    refreshAppointment: function(appointmentId) {
        var $v_0 = this.entity.getEntityName();
        return this.performRefresh($v_0, appointmentId);
    },
    
    removeOnLoad: function(handler) {
        this.$3b_1.removeHandler('onload', handler);
    },
    
    performRefresh: function(entityName, entityId) {
        var $v_0 = jQueryApi.jQueryDeferredFactory.Deferred(Xrm.SaveSuccessResponse, Xrm.SaveErrorResponse);
        var $v_1 = this.entity.$K_1.$8_1.$z_1;
        var $v_2 = Mscrm.TurboForm.Control.CommandService.get_instance().inlineFormRefresh(entityName, entityId, $v_1);
        var $$t_8 = this, $$t_9 = this;
        $v_2.then(function($p1_0) {
            if (!IsNull($p1_0._entity.TypeCode) && $p1_0._entity.TypeCode.toString() !== '1024' && $$t_8.$8_1 === Mscrm.TurboForm.Control.PageManager.get_instance().$L_1) {
                $$t_8.$8_1.getPageUI().set_formTitle($p1_0._entity.Name);
            }
            $$t_8.bindData($p1_0, 3);
            if (!isGlobalQuickCreate()) {
                $$t_8.$8_1.getPageUI().refreshNavBar();
                reloadRibbon();
                Mscrm.Utilities.showHideHierarchyButton(Mscrm.Utilities.parseBoolean($p1_0._entity.isRecordHierarchyEnabled));
            }
            $v_0.resolve();
        }, function($p1_0) {
            var $v_3 = new Xrm.SaveErrorResponse($p1_0.get_errorCode(), $p1_0.get_description(), $p1_0.get_serializedException());
            $v_0.reject($v_3);
        });
        return $v_0.promise();
    },
    
    save: function(saveOptions) {
        var $v_0 = jQueryApi.jQueryDeferredFactory.Deferred(Xrm.SaveSuccessResponse, Xrm.SaveErrorResponse);
        var $$t_4 = this, $$t_5 = this;
        this.$Cl_1(saveOptions).then(function($p1_0) {
            $v_0.resolve($p1_0);
        }, function($p1_0) {
            if (IsNull($p1_0) || $p1_0.errorCode.toString() !== saveCanceledErrorCodeAsString()) {
                $v_0.reject($p1_0);
            }
        });
        return $v_0.promise();
    },
    
    $Cl_1: function($p0) {
        var $v_0 = jQueryApi.jQueryDeferredFactory.Deferred(Xrm.SaveSuccessResponse, Xrm.SaveErrorResponse);
        var $v_1 = this.entity.saveInternal(null, false, false, true, $p0);
        var $$t_6 = this, $$t_7 = this;
        $v_1.then(function($p1_0) {
            $v_0.resolve();
        }, function($p1_0) {
            var $v_2 = null;
            if (!IsNull($p1_0)) {
                $v_2 = new Xrm.SaveErrorResponse($p1_0.get_errorCode(), $p1_0.get_description(), $p1_0.get_serializedException());
            }
            $v_0.reject($v_2);
        });
        return $v_0.promise();
    },
    
    setFormDirty: function(isDirty) {
        Mscrm.ReadFormUtilities.set_forceNavigationAway(!isDirty);
    },
    
    refreshWithoutSave: function(hideDirtyPrompt) {
        var $v_0 = jQueryApi.jQueryDeferredFactory.Deferred(Xrm.SaveSuccessResponse, Xrm.SaveErrorResponse);
        if (!hideDirtyPrompt) {
            var $v_2 = this.entity.getIsDirty();
            var $v_3 = Mscrm.TurboForm.Control.PageManager.get_instance().get_isForceNavigationAwaySet();
            if (!$v_3 && $v_2) {
                if (!confirm(window.LOCID_FORMS_SAVE_CONFIRM_TITLE)) {
                    var $v_4 = Mscrm.ErrorInformation.createErrorInfoWithDisplayText('0x80060912', window.LOCID_REFRESH_CANCELED, window.LOCID_REFRESH_CANCELED, null);
                    var $v_5 = new Xrm.SaveErrorResponse($v_4.get_errorCode(), $v_4.get_displaytext(), $v_4.get_displaytext());
                    $v_0.reject($v_5);
                    return $v_0;
                }
            }
        }
        this.$LN_1();
        this.entity.setAttributesLastSavedValue();
        var $v_1 = Mscrm.TurboForm.Control.CommandService.get_instance().refresh(this.entity);
        var $$t_A = this, $$t_B = this;
        $v_1.then(function($p1_0) {
            if ($$t_A.$54_1 !== ((IsNull($p1_0._formstate)) ? Number.parseInvariant(Xrm.FormType.toString(0)) : Number.parseInvariant($p1_0._formstate)) && $$t_A.$8_1 === Mscrm.TurboForm.Control.PageManager.get_instance().$L_1) {
                Mscrm.TurboForm.Control.CommandService.get_instance().$3Q_1 = true;
                Mscrm.TurboForm.Control.CommandService.get_instance().refreshGrid();
            }
            $$t_A.bindData($p1_0, 3);
            if ($$t_A.$8_1 === Mscrm.TurboForm.Control.PageManager.get_instance().$L_1) {
                Mscrm.TurboForm.Control.PageBootstrapper.setEntityPermission($p1_0.entityPermissions);
                reloadRibbon();
            }
            $v_0.resolve();
        }, function($p1_0) {
            var $v_6 = new Xrm.SaveErrorResponse($p1_0.get_errorCode(), $p1_0.get_description(), $p1_0.get_serializedException());
            $v_0.reject($v_6);
        });
        return $v_0.promise();
    },
    
    $LN_1: function() {
        if (IsNullOrEmptyString(this.entity.getId()) || this.entity.getId() === Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString())) {
            var $v_0 = this.entity.getEntityName();
            switch ($v_0) {
                case 'recurringappointmentmaster':
                case 'appointment':
                    var $v_1 = Xrm.Page.getAttribute('activityid');
                    if (!IsNull($v_1)) {
                        this.entity.setId($v_1.getValue().toString());
                    }
                    break;
                case 'dynamicproperty':
                    var $v_2 = Xrm.Page.getAttribute('dynamicpropertyid');
                    if (!IsNull($v_2)) {
                        this.entity.setId($v_2.getValue().toString());
                    }
                    break;
            }
        }
    }
}


Mscrm.TurboForm.Control.FormSelection = function() {
    Mscrm.TurboForm.Control.FormSelection.initializeBase(this);
}
Mscrm.TurboForm.Control.FormSelection.prototype = {
    $3s_1: null,
    
    get_formUISelector: function() {
        return this.$3s_1;
    },
    
    initializeFormSelector: function() {
        this.$3s_1 = $create(Mscrm.FormUIFormSelector, null, null, null, null);
    },
    
    initializeItems: function() {
        if (!IsNull(this.$3s_1.get_formSelector())) {
            return;
        }
        var $v_0 = $find('header_crmFormSelector');
        if (IsNull($v_0)) {
            return;
        }
        this.$3s_1.set_formSelector($v_0);
        var $v_1 = $v_0.get_formIds();
        if ($v_1) {
            var $v_2 = $v_0.get_formTitles();
            for (var $v_3 = 0; $v_3 < $v_1.length; $v_3++) {
                this.$3s_1.get_items().add(new Mscrm.FormSelectorItemWrapper(new Mscrm.FormUIRuleForm($v_1[$v_3], $v_2[$v_3])));
            }
        }
    }
}


Mscrm.TurboForm.Control.FormUI = function(parent) {
    this.controls = new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel))();
    this.tabs = new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.TabViewModel))();
    this._navigation = new Mscrm.TurboForm.Control.PageNavigation();
    this._formSelection = new Mscrm.TurboForm.Control.FormSelection();
    this.$AB_1 = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel))();
    this.$D5_1 = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(Mscrm.TurboForm.Control.IView))();
    this.$46_1 = new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel))();
    Mscrm.TurboForm.Control.FormUI.initializeBase(this);
    this.$8_1 = parent;
}
Mscrm.TurboForm.Control.FormUI.prototype = {
    $16_1: null,
    formView: null,
    $6f_1: null,
    $8_1: null,
    
    get_viewMap: function() {
        return this.$D5_1;
    },
    
    set_viewMap: function(value) {
        this.$D5_1 = value;
        return value;
    },
    
    $B_1: null,
    
    get_xrmWrapper: function() {
        return this.$B_1;
    },
    
    set_xrmWrapper: function(value) {
        this.$B_1 = value;
        return value;
    },
    
    get_formTitle: function() {
        return this.$6f_1;
    },
    
    set_formTitle: function(value) {
        if (!(IsNullOrEmptyString(value)) && value !== this.$6f_1) {
            this.$6f_1 = value;
            this.$16_1.setFormTitle(value);
        }
        return value;
    },
    
    get_parentForm: function() {
        return this.$8_1;
    },
    
    get_pageViewModel: function() {
        return this.$16_1;
    },
    
    get_quickFormControls: function() {
        return this.$46_1;
    },
    
    set_quickFormControls: function(value) {
        this.$46_1 = value;
        return value;
    },
    
    initializeControls: function(formDescriptor, quickFormUniqueId) {
        var $v_0 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.primaryFormId.equals(new Microsoft.Crm.Client.Core.Framework.Guid(formDescriptor.FormId));
        var $v_1 = Xrm.Internal.startMetricsStopwatch('Build Page View Model');
        $v_1.start();
        this.$16_1 = Mscrm.TurboForm.Control.PageBuilder.get_instance().buildPageViewModel(formDescriptor.UIDescriptor, this);
        $v_1.stop();
        $v_1 = Xrm.Internal.startMetricsStopwatch('Build Page Views');
        $v_1.start();
        this.formView = Mscrm.TurboForm.Control.PageBuilder.get_instance().buildPageView(formDescriptor.UIDescriptor, $v_0, quickFormUniqueId);
        $v_1.stop();
        this.$KC_1();
        this.$Ew_1(this.formView);
        this.tabs = this.$16_1.getTabs();
        if (!isGlobalQuickCreate() && !$v()) {
            this._navigation.initialize();
            this._formSelection.initializeFormSelector();
            var $$t_5 = this;
            this.addOnLoadInternal(function($p1_0) {
                $$t_5._formSelection.initializeItems();
            });
        }
    },
    
    $A1_1: function($p0) {
        this.$AB_1.set_item($p0.getKey(), $p0);
        this.controls.add($p0);
        this.$8_1.registerViewModel($p0);
    },
    
    registerView: function(view) {
        this.get_viewMap().set_item(view.getKey(), view);
        (view).$6_2 = this.getControlById(view.getKey());
    },
    
    bindUI: function() {
        var $v_0 = this.$AB_1.toDictionary();
        var $$dict_3 = $v_0;
        for (var $$key_4 in $$dict_3) {
            var $v_2 = { key: $$key_4, value: $$dict_3[$$key_4] };
            var $v_3 = $v_2.value;
            if (!$v_3.$6Z_2) {
                $v_3.initialize();
            }
        }
        var $v_1 = this.get_viewMap().toDictionary();
        var $$dict_9 = $v_1;
        for (var $$key_A in $$dict_9) {
            var $v_4 = { key: $$key_A, value: $$dict_9[$$key_A] };
            var $v_5 = $v_4.value;
            try {
                $v_5.bind();
            }
            catch ($v_6) {
                Mscrm.CrmDebug.fail(String.format('Exception encountered binding {0}: {1}', $v_5.getKey(), $v_6.message));
                catchError($v_6.message, window.location.href, 0, true);
            }
        }
    },
    
    updateUI: function(dirtyVisiblePropertyData) {
        var $v_0 = dirtyVisiblePropertyData.getKeys();
        for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
            var $v_2 = $v_0[$v_1];
            if (IsNull(this.get_viewMap().get_item($v_2))) {
            }
            else {
                try {
                    this.get_viewMap().get_item($v_2).update(dirtyVisiblePropertyData.get_item($v_2));
                }
                catch ($v_3) {
                    Mscrm.CrmDebug.fail(String.format('Exception encountered updating UI element {0}: {1}', $v_2, $v_3.message));
                    catchError($v_3.message, window.location.href, 0, true);
                }
            }
        }
    },
    
    $EE_1: function() {
        return $get('tdAreas');
    },
    
    executeOnLoad: function() {
        this.$16_1.onLoad();
    },
    
    addBeforeOnLoad: function(handler) {
        this.$16_1.addBeforeOnLoad(handler);
    },
    
    removeBeforeOnLoad: function(handler) {
        this.$16_1.removeBeforeOnLoad(handler);
    },
    
    addOnLoadInternal: function(handler) {
        this.$16_1.addOnLoadInternal(handler);
    },
    
    removeOnLoadInternal: function(handler) {
        this.$16_1.removeOnLoadInternal(handler);
    },
    
    getViewPortHeight: function() {
        var $v_0 = this.$EE_1();
        return (IsNull($v_0)) ? 0 : $v_0.clientHeight;
    },
    
    getViewPortWidth: function() {
        var $v_0 = this.$EE_1();
        return (IsNull($v_0)) ? 0 : $v_0.clientWidth;
    },
    
    get_formNotificationsList: function() {
        return $find('crmNotifications');
    },
    
    setFormNotification: function(message, notificationLevel, uniqueId) {
        var $v_0 = this.get_formNotificationsList();
        if (IsNull($v_0)) {
            return false;
        }
        return $v_0.setFormNotification(message, notificationLevel, uniqueId);
    },
    
    setFormNotifications: function(notifications, source) {
        var $v_0 = this.get_formNotificationsList();
        if (!IsNull($v_0)) {
            $v_0.SetNotifications(notifications, source);
        }
    },
    
    setFormHtmlNotification: function(htmlText, notificationLevel, uniqueId) {
        var $v_0 = this.get_formNotificationsList();
        if (IsNull($v_0)) {
            return false;
        }
        return $v_0.setFormHtmlNotification(htmlText, notificationLevel, uniqueId);
    },
    
    clearFormNotification: function(uniqueId) {
        var $v_0 = this.get_formNotificationsList();
        if (IsNull($v_0)) {
            return false;
        }
        return $v_0.clearFormNotification(uniqueId);
    },
    
    close: function() {
        if (!$v()) {
            var $v_0 = Mscrm.TurboForm.Control.CommandService.get_instance().$Ca_1();
            if ($v_0) {
                if (!confirm(window.LOCID_FORMS_SAVE_CONFIRM_TITLE)) {
                    return;
                }
            }
        }
        closeWindowScript();
    },
    
    getCurrentControl: function() {
        if (!IsNull(Mscrm.TurboForm.Control.View.EditableControlView.$23) && !Mscrm.TurboForm.Control.View.EditableControlView.$23.isDisposed) {
            if (Mscrm.TurboForm.Control.View.EditableControlView.$23.$6_2.$G_2.$8_1 === Mscrm.TurboForm.Control.PageManager.get_instance().$L_1) {
                return Mscrm.TurboForm.Control.View.EditableControlView.$23.$6_2;
            }
        }
        return null;
    },
    
    getFormSelector: function() {
        return this._formSelection.$3s_1;
    },
    
    getNavigation: function() {
        return this._navigation;
    },
    
    getFormType: function() {
        return this.$8_1.getPageData().$54_1;
    },
    
    refreshRibbon: function() {
        refreshRibbon();
    },
    
    getControls: function() {
        return this.controls;
    },
    
    getControlById: function(controlId) {
        return this.$AB_1.get_item(controlId);
    },
    
    getControlViewById: function(controlId) {
        return this.get_viewMap().get_item(controlId);
    },
    
    getTabs: function() {
        return this.tabs;
    },
    
    setFocusOnFirstVisibleTab: function() {
        for (var $v_0 = 0; $v_0 < this.tabs.getLength(); $v_0++) {
            var $v_1 = this.tabs.get($v_0);
            if ($v_1.getVisible()) {
                $v_1.setFocus();
                return;
            }
        }
    },
    
    getFirstVisibleControlInTree: function(controlCollection) {
        var $v_0 = controlCollection.getAll();
        for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
            var $v_2 = $v_0[$v_1];
            if (Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.isInstanceOfType($v_2)) {
                var $v_3 = $v_2;
                if ($v_3.getIsVisibleInTree()) {
                    return $v_2;
                }
            }
        }
        return null;
    },
    
    getFirstRequiredControlInTree: function(controlCollection) {
        var $v_0 = controlCollection.getAll();
        for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
            var $v_2 = $v_0[$v_1];
            if (Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel.isInstanceOfType($v_2) && !(Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.isInstanceOfType($v_2))) {
                var $v_3 = $v_2;
                if (!IsNull($v_3.getParent()) && $v_3.getIsVisibleInTree() && ($v_3.getAttribute().getRequiredLevel() === 'required' || $v_3.getAttribute().getRequiredLevel() === 'systemrequired')) {
                    return $v_2;
                }
            }
        }
        return null;
    },
    
    refreshNavBar: function() {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('Refresh NavBar');
        $v_0.start();
        if (!IsNull(this._navigation.$4d_1)) {
            this._navigation.$4d_1.raiseEventWithCheck(89, this._navigation.$4d_1.cacheData());
        }
        $v_0.stop();
    },
    
    $KC_1: function() {
        this.$A1_1(this.$16_1);
        var $v_0 = this.$16_1.getTabs();
        for (var $v_1 = 0; $v_1 < $v_0.getLength(); $v_1++) {
            var $v_2 = $v_0.getByIndex($v_1);
            this.$KD_1($v_2);
        }
        this.$6A_1(this.$16_1.$55_4);
        this.$6A_1(this.$16_1.$53_4);
        this.$6A_1(this.$16_1.$5a_4);
        this.$6A_1(this.$16_1.$5A_4);
        if (!IsNull(this.$16_1.$3K_4)) {
            for (var $$arr_3 = this.$16_1.$3K_4, $$len_4 = $$arr_3.length, $$idx_5 = 0; $$idx_5 < $$len_4; ++$$idx_5) {
                var $v_3 = $$arr_3[$$idx_5];
                this.$6A_1($v_3);
            }
        }
    },
    
    $KD_1: function($p0) {
        this.$A1_1($p0);
        var $v_0 = $p0.getSections();
        for (var $v_1 = 0; $v_1 < $v_0.getLength(); $v_1++) {
            var $v_2 = $v_0.getByIndex($v_1);
            this.$A1_1($v_2);
            var $v_3 = $v_2.getChildViewModels();
            this.$6A_1($v_3);
        }
    },
    
    $6A_1: function($p0) {
        for (var $v_0 = 0; $v_0 < $p0.getLength(); $v_0++) {
            var $v_1 = $p0.getByIndex($v_0);
            this.$A1_1($v_1);
        }
    },
    
    $Ew_1: function($p0) {
        this.registerView($p0);
        for (var $v_0 = 0; $v_0 < $p0.$7U_3.getLength(); $v_0++) {
            var $v_1 = $p0.$7U_3.getByIndex($v_0);
            if (Mscrm.TurboForm.Control.View.ContainerView.isInstanceOfType($v_1)) {
                this.$Ew_1($v_1);
            }
            else {
                this.registerView($v_1);
            }
        }
    }
}


Mscrm.TurboForm.Control.PageBootstrapper = function() {
}
Mscrm.TurboForm.Control.PageBootstrapper.get_pageState = function() {
    return Mscrm.TurboForm.Control.PageBootstrapper.$3;
}
Mscrm.TurboForm.Control.PageBootstrapper.set_pageState = function(value) {
    Mscrm.TurboForm.Control.PageBootstrapper.$3 = value;
    return value;
}
Mscrm.TurboForm.Control.PageBootstrapper.get_$EO = function() {
    return Mscrm.TurboForm.Control.PageBootstrapper.$3.recordId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty());
}
Mscrm.TurboForm.Control.PageBootstrapper.$E7 = function($p0) {
    if (!$p0) {
        throw Error.argumentNull('location');
    }
    var $v_0 = $p0.href.split('#');
    return ($v_0.length > 1) ? $v_0[1] : '';
}
Mscrm.TurboForm.Control.PageBootstrapper.loadForm = function(containerId, showGlobalQuickCreate) {
    try {
        if (showGlobalQuickCreate) {
            Mscrm.Performance.PerformanceMarkerManager.get_instance().clearAllMarkers();
        }
        if (Mscrm.InternalUtilities.JSTypes.isNull(window.top.TurboFormLoadStartTime)) {
            Mscrm.TurboForm.Control.PageBootstrapper.$Ij(containerId, showGlobalQuickCreate);
        }
    }
    catch ($v_0) {
        window.top.TurboFormLoadStartTime = null;
        Xrm.Internal.trace.warning('Turbo Form PageBootstrapper', 'LoadForm attempt threw an exception : {0}', $v_0.toString());
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$Ij = function($p0, $p1) {
    window.top.TurboFormLoadStartTime = new Date().getTime();
    if (isChrome()) {
        var $v_9 = window.parent.TurboFormCloseScenario;
        if (!Mscrm.InternalUtilities.JSTypes.isNull($v_9) && $v_9 === 'true') {
            var $v_A = window.parent.TurboFormCloseScenarioIframeLocationReplace;
            if (!Mscrm.InternalUtilities.JSTypes.isNull($v_A) && $v_A === 'true') {
                window.parent.TurboFormCloseScenario = 'false';
                window.parent.TurboFormCloseScenarioIframeLocationReplace = 'false';
            }
            else {
                return;
            }
        }
    }
    Mscrm.TurboForm.Control.PageBootstrapper.$EU();
    setPerformanceMarkerTimestamp('Load Form Start Time');
    Mscrm.TurboForm.Control.PageBootstrapper.$9j = Xrm.Internal.startMetricsStopwatch('Load Form');
    Mscrm.TurboForm.Control.PageBootstrapper.$9j.start();
    Mscrm.MetricsReporting.generateFormLoadId();
    var $v_0 = (new Date().getTime());
    var $v_1 = (window.self.IsCustomEntity === 'true') ? '' : window.self.FormEntityLogicalName;
    var $v_2 = window.self.FormEntityTypeCode;
    var $v_3 = window.self.IsActualColdLoad;
    var $v_4 = window.self.IsColdLoad;
    var $v_5 = {};
    $v_5['Browser'] = Mscrm.CrmBrowser.get_currentBrowser().get_name();
    $v_5['BrowserVersion'] = Mscrm.CrmBrowser.get_currentBrowser().get_version();
    $v_5['EntityLogicalName'] = $v_1;
    $v_5['EntityTypeCode'] = $v_2;
    $v_5['FormLoadId'] = window.self.FormLoadId;
    $v_5['IsActualColdLoad'] = ($v_3) ? 1 : (($v_4) ? 2 : 0);
    $v_5['IsColdLoad'] = window.self.IsColdLoad;
    $v_5['TFLoadStartTime'] = $v_0;
    Mscrm.MetricsReporting.instance().addMetric('TurboFormLoadStart', $v_5);
    Mscrm.TurboForm.Control.PageBootstrapper.unloadForm($p0);
    if ($p1) {
        Mscrm.TurboForm.Control.PageBootstrapper.hasPageLoaded = true;
    }
    Mscrm.TurboForm.Control.DisposalManager.setLastFormLoadTimeoutIntervalJobId();
    var $v_6 = ($p1) ? 7 : 1;
    Mscrm.TurboForm.Control.PageBootstrapper.$IL($v_6);
    Mscrm.TurboForm.Control.PageBootstrapper.$EK($p0, $v_6);
    var $v_7 = window.parent.turboFormDataRequested;
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_7) && $v_7) {
        Mscrm.TurboForm.Control.PageBootstrapper.$9X = true;
        window.parent.self.turboFormDataRequested = false;
    }
    else {
        Mscrm.TurboForm.Control.PageBootstrapper.$F0();
    }
    Xrm.Internal.trace.log('PageBootstrapper', 'loading entity turbo form (etc is {0})...', Mscrm.TurboForm.Control.PageBootstrapper.$3.etc);
    Xrm.XrmPerformance.measureTime('OnLoadStarted handlers', function() {
        return Mscrm.TurboForm.Control.PageBootstrapper.$7d('OnLoadStarted');
    });
    var $v_8 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
    Mscrm.TurboForm.Control.PageBootstrapper.$7l = String.format('{0}{1}_{2}_{3}_{4}_{5}', '', $v_8.etc, $v_8.navigationFormId, $v_8.processId, window.ORG_UNIQUE_NAME, 'layoutPreFetchRequest');
    Mscrm.TurboForm.Control.PageBootstrapper.$Db();
}
Mscrm.TurboForm.Control.PageBootstrapper.$Db = function() {
    if (Mscrm.TurboForm.Control.PageBootstrapper.$Lk()) {
        window.setTimeout(Mscrm.TurboForm.Control.PageBootstrapper.$Db, Mscrm.TurboForm.Control.PageBootstrapper.$D0);
        return;
    }
    var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.getLayoutUri();
    var $v_1 = [];
    Mscrm.TurboForm.Control.PageBootstrapper.$92($v_1, 'x-crm-original', Mscrm.TurboForm.Control.PageBootstrapper.$3.opened);
    var $v_2 = window.top.LayoutUrlToParsedJson;
    if (!Mscrm.InternalUtilities._Script.isNullOrUndefined($v_2) && !Mscrm.InternalUtilities._Script.isNullOrUndefined(($v_2)[$v_0.toString()])) {
        var $v_5 = Mscrm.TurboForm.Control.PageBootstrapper.$9v(($v_2)[$v_0.toString()].toString());
        Mscrm.TurboForm.Control.PageBootstrapper.$Es($v_0.toString(), $v_1, $v_5);
    }
    else {
        window.top.LayoutUrlToParsedJson = {};
        Mscrm.TurboForm.Control.PageBootstrapper.$Ez($v_0.toString(), $v_1);
    }
    setPerfMarkerTimestamp('HideLoadingScreenTimestamp');
    
    			if (Sys.Application.get_isInitialized())
    			{
    				Sys.Application.raiseLoad();
    			}
    			else
    			{
    				Sys.Application.initialize();
    			};
    var $v_3 = {};
    $v_3['entityname'] = Mscrm.TurboForm.Control.PageBootstrapper.$3.entityName;
    if (Mscrm.TurboForm.Control.PageBootstrapper.get_$EO()) {
        $v_3['formType'] = 'Create';
    }
    else {
        $v_3['formType'] = 'Edit';
    }
    XrmUI.Manager.XrmUIPage = new Mscrm.XrmUIPageWrapper('Form', $v_3);
    Mscrm.TurboForm.Control.PageBootstrapper.$9j.stop();
    setPerformanceMarkerTimestamp('Load Form End Time');
    var $v_4 = '';
    if ($v_3['formType'] === 'Edit') {
        $v_4 = 'EditForm';
    }
    else if (Mscrm.TurboForm.Control.PageBootstrapper.$3.formType === 7) {
        $v_4 = 'QuickCreate';
    }
    window.self.FormTypeForTelemetry = $v_4;
}
Mscrm.TurboForm.Control.PageBootstrapper.$Lk = function() {
    if (Mscrm.InternalUtilities.JSTypes.isNull(Mscrm.TurboForm.Control.PageBootstrapper.$7l)) {
        return false;
    }
    var $v_0 = Mscrm.CrmLocalStorage.getItem(Mscrm.TurboForm.Control.PageBootstrapper.$7l);
    if ($v_0 === 'layoutPreFetchRequestSent' && Mscrm.TurboForm.Control.PageBootstrapper.$AE < Mscrm.TurboForm.Control.PageBootstrapper.$EW) {
        Mscrm.TurboForm.Control.PageBootstrapper.$AE += Mscrm.TurboForm.Control.PageBootstrapper.$D0;
        return true;
    }
    Mscrm.TurboForm.Control.PageBootstrapper.$AE = 0;
    Mscrm.TurboForm.Control.PageBootstrapper.$7l = null;
    return false;
}
Mscrm.TurboForm.Control.PageBootstrapper.add_onLoadStarted = function(value) {
    Mscrm.TurboForm.Control.PageBootstrapper.$2b.addHandler('OnLoadStarted', value);
}
Mscrm.TurboForm.Control.PageBootstrapper.remove_onLoadStarted = function(value) {
    Mscrm.TurboForm.Control.PageBootstrapper.$2b.removeHandler('OnLoadStarted', value);
}
Mscrm.TurboForm.Control.PageBootstrapper.add_onLayoutReady = function(value) {
    Mscrm.TurboForm.Control.PageBootstrapper.$2b.addHandler('OnLayoutReady', value);
}
Mscrm.TurboForm.Control.PageBootstrapper.remove_onLayoutReady = function(value) {
    Mscrm.TurboForm.Control.PageBootstrapper.$2b.removeHandler('OnLayoutReady', value);
}
Mscrm.TurboForm.Control.PageBootstrapper.add_onDataBound = function(value) {
    Mscrm.TurboForm.Control.PageBootstrapper.$2b.addHandler('OnDataBound', value);
}
Mscrm.TurboForm.Control.PageBootstrapper.remove_onDataBound = function(value) {
    Mscrm.TurboForm.Control.PageBootstrapper.$2b.removeHandler('OnDataBound', value);
}
Mscrm.TurboForm.Control.PageBootstrapper.add_onBeforeUnload = function(value) {
    Mscrm.TurboForm.Control.PageBootstrapper.$2b.addHandler('OnBeforeUnload', value);
}
Mscrm.TurboForm.Control.PageBootstrapper.remove_onBeforeUnload = function(value) {
    Mscrm.TurboForm.Control.PageBootstrapper.$2b.removeHandler('OnBeforeUnload', value);
}
Mscrm.TurboForm.Control.PageBootstrapper.$HG = function() {
    var $v_0 = (Mscrm.TurboForm.Control.PageBootstrapper.$3.navigationFormId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) ? '' : Mscrm.TurboForm.Control.PageBootstrapper.$3.navigationFormId.toString();
    if (IsNullOrEmptyString($v_0)) {
        var $v_6 = Mscrm.TurboForm.Common.LayoutUrlCache.get_instance().getUrl(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc, Microsoft.Crm.Client.Core.Framework.Guid.get_empty(), Mscrm.TurboForm.Control.PageBootstrapper.$3.processId, Mscrm.TurboForm.Control.PageBootstrapper.$3.formType);
        if (!IsNull($v_6) && !IsNull($v_6.get_query()['formid'])) {
            $v_0 = $v_6.get_query()['formid'].toString();
        }
    }
    var $v_1 = (Mscrm.TurboForm.Control.PageBootstrapper.$3.createFromId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) ? '' : Mscrm.TurboForm.Control.PageBootstrapper.$3.createFromId.toString();
    var $v_2 = (!Mscrm.TurboForm.Control.PageBootstrapper.$3.createFromType) ? '' : Mscrm.TurboForm.Control.PageBootstrapper.$3.createFromType;
    var $v_3;
    if (Mscrm.TurboForm.Control.PageBootstrapper.$3.formType === 7) {
        $v_3 = Mscrm.CrmUri.create(String.format('/form/Data.aspx?etc={0}&formid={1}&showglobalquickcreate=true&_CreateFromId={2}&_CreateFromType={3}', CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc), CrmEncodeDecode.CrmUrlEncode($v_0), CrmEncodeDecode.CrmUrlEncode($v_1), CrmEncodeDecode.CrmUrlEncode($v_2)));
        Mscrm.TurboForm.Control.PageBootstrapper.$Fe($v_3);
        Mscrm.TurboForm.Control.PageBootstrapper.$DC($v_3);
    }
    else if (!IsNullOrEmptyString(Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState.parentLookupControlId)) {
        var $v_7 = (Mscrm.TurboForm.Control.PageBootstrapper.$3.recordId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) ? '' : Mscrm.TurboForm.Control.PageBootstrapper.$3.recordId.toString();
        $v_3 = Mscrm.CrmUri.create(String.format('/form/Data.aspx?etc={0}&_CreateFromId={1}&_CreateFromType={2}&_searchText={3}&pId={4}&pName={5}&pType={6}&parentLookupControlId={7}&oid={8}&create={9}', CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc), CrmEncodeDecode.CrmUrlEncode($v_1), CrmEncodeDecode.CrmUrlEncode($v_2), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState.searchText), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState.regardingId.toString()), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState.regardingName), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState.regardingType.toString()), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState.parentLookupControlId), CrmEncodeDecode.CrmUrlEncode($v_7), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.get_$EO().toString())));
    }
    else if (Mscrm.TurboForm.Control.PageBootstrapper.$3.recordId === Microsoft.Crm.Client.Core.Framework.Guid.get_empty() && Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyId !== Microsoft.Crm.Client.Core.Framework.Guid.get_empty()) {
        $v_3 = Mscrm.CrmUri.create(String.format('/form/Data.aspx?etc={0}&_CreateFromId={1}&_CreateFromType={2}&pId={3}&pType={4}&partyid={5}&partytype={6}&formid={7}', CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc), CrmEncodeDecode.CrmUrlEncode($v_1), CrmEncodeDecode.CrmUrlEncode($v_2), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingId.toString()), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingType.toString()), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyId.toString()), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyType.toString()), CrmEncodeDecode.CrmUrlEncode($v_0)));
        var $v_8 = Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingId;
        if ((!$v_8 || $v_8 === Microsoft.Crm.Client.Core.Framework.Guid.get_empty()) && !IsNullOrEmptyString(GetHashValue('pId'))) {
            $v_8 = new Microsoft.Crm.Client.Core.Framework.Guid(GetHashValue('pId'));
        }
        var $v_9 = Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingType.toString();
        if ((IsNullOrEmptyString($v_9) || $v_9 === '0') && !IsNullOrEmptyString(GetHashValue('pType'))) {
            $v_9 = GetHashValue('pType');
        }
        if ((!$v_8 || $v_8 === Microsoft.Crm.Client.Core.Framework.Guid.get_empty()) || IsNullOrEmptyString($v_9)) {
            var $v_A = Mscrm.CrmUri.create(String.format('?etc={0}&formid={1}&partyid={2}&partytype={3}', CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc), CrmEncodeDecode.CrmUrlEncode($v_0), Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyId.toString(), Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyType.toString()));
            $v_3.get_query()['extraqs'] = $v_A.get_queryString();
        }
        else {
            var $v_B = Mscrm.CrmUri.create(String.format('?etc={0}&formid={1}&partyid={2}&partytype={3}&pId={4}&pType={5}', CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc), CrmEncodeDecode.CrmUrlEncode($v_0), Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyId.toString(), Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyType.toString(), $v_8.toString(), $v_9));
            $v_3.get_query()['extraqs'] = $v_B.get_queryString();
        }
    }
    else if (Mscrm.TurboForm.Control.PageBootstrapper.$3.recordId === Microsoft.Crm.Client.Core.Framework.Guid.get_empty() && Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingId !== Microsoft.Crm.Client.Core.Framework.Guid.get_empty()) {
        $v_3 = Mscrm.CrmUri.create(String.format('/form/Data.aspx?etc={0}&_CreateFromId={1}&_CreateFromType={2}&pId={3}&pType={4}&formid={5}', CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc), CrmEncodeDecode.CrmUrlEncode($v_1), CrmEncodeDecode.CrmUrlEncode($v_2), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingId.toString()), CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingType.toString()), CrmEncodeDecode.CrmUrlEncode($v_0)));
        var $v_C = Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyId;
        if ((!$v_C || $v_C === Microsoft.Crm.Client.Core.Framework.Guid.get_empty()) && !IsNullOrEmptyString(GetHashValue('partyid'))) {
            $v_C = new Microsoft.Crm.Client.Core.Framework.Guid(GetHashValue('partyid'));
        }
        var $v_D = Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyType.toString();
        if ((IsNullOrEmptyString($v_D) || $v_D === '0') && !IsNullOrEmptyString(GetHashValue('partytype'))) {
            $v_D = GetHashValue('partytype');
        }
        if ((!$v_C || $v_C === Microsoft.Crm.Client.Core.Framework.Guid.get_empty()) || IsNullOrEmptyString($v_D)) {
            var $v_E = Mscrm.CrmUri.create(String.format('?etc={0}&formid={1}&pId={2}&pType={3}', CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc), CrmEncodeDecode.CrmUrlEncode($v_0), Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingId.toString(), Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingType.toString()));
            $v_3.get_query()['extraqs'] = $v_E.get_queryString();
        }
        else {
            var $v_F = Mscrm.CrmUri.create(String.format('?etc={0}&formid={1}&pId={2}&pType={3}&partyid={4}&partytype={5}', CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc), CrmEncodeDecode.CrmUrlEncode($v_0), Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingId.toString(), Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingType.toString(), $v_C.toString(), $v_D));
            $v_3.get_query()['extraqs'] = $v_F.get_queryString();
        }
    }
    else {
        var $v_G = (Mscrm.TurboForm.Control.PageBootstrapper.$3.recordId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) ? '' : Mscrm.TurboForm.Control.PageBootstrapper.$3.recordId.toString();
        var $v_H = (Mscrm.TurboForm.Control.PageBootstrapper.$3.isCrossEntityCreate || Mscrm.TurboForm.Control.PageBootstrapper.$3.isCrossEntityNavigate) ? Mscrm.TurboForm.Control.PageBootstrapper.$3.processId.toString() : '';
        $v_3 = Mscrm.CrmUri.create(String.format('/form/Data.aspx?etc={0}&formid={1}&oid={2}&process={3}&_CreateFromId={4}&_CreateFromType={5}', CrmEncodeDecode.CrmUrlEncode(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc), CrmEncodeDecode.CrmUrlEncode($v_0), CrmEncodeDecode.CrmUrlEncode($v_G), CrmEncodeDecode.CrmUrlEncode($v_H), CrmEncodeDecode.CrmUrlEncode($v_1), CrmEncodeDecode.CrmUrlEncode($v_2)));
        Mscrm.TurboForm.Control.PageBootstrapper.$DC($v_3);
    }
    var $v_4 = $v_3.get_query()['extraqs'];
    var $v_5 = Mscrm.CrmUri.create($v_4);
    var $$dict_J = $v_5.get_query();
    for (var $$key_K in $$dict_J) {
        var $v_I = { key: $$key_K, value: $$dict_J[$$key_K] };
        if (!(($v_I.key) in $v_3.get_query())) {
            $v_3.get_query()[$v_I.key] = $v_I.value;
        }
    }
    $v_3.set_includeContextInPath(true);
    return $v_3;
}
Mscrm.TurboForm.Control.PageBootstrapper.$DC = function($p0) {
    var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.pageHash;
    if (IsNullOrEmptyString($v_0) || $v_0 === '#' || !$p0) {
        return;
    }
    var $v_1 = GetHashValue('extraqs');
    if ($v_1) {
        var $v_4 = Mscrm.CrmUri.create($v_1);
        $v_4.get_query()['process'] = (IsNullOrEmptyString($p0.get_query()['process'])) ? '' : $p0.get_query()['process'];
        $p0.get_query()['extraqs'] = $v_4.get_queryString();
    }
    var $v_2 = GetHashValue('template');
    if ($v_2) {
        if ($v_1) {
            var $v_5 = Mscrm.CrmUri.create($v_1);
            $v_5.get_query()['template'] = $v_2;
            $p0.get_query()['extraqs'] = $v_5.get_queryString();
        }
        else {
            $p0.get_query()['template'] = $v_2;
        }
    }
    var $v_3 = GetAllHashValues();
    var $$dict_8 = $v_3;
    for (var $$key_9 in $$dict_8) {
        var $v_6 = { key: $$key_9, value: $$dict_8[$$key_9] };
        if (!(($v_6.key) in $p0.get_query())) {
            $p0.get_query()[$v_6.key] = $v_6.value;
        }
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$Fe = function($p0) {
    if ($p0) {
        var $v_0 = GetHashValue('formts');
        if ($v_0) {
            $p0.get_query()['formts'] = $v_0;
        }
        var $v_1 = GetHashValue('userts');
        if ($v_1) {
            $p0.get_query()['userts'] = $v_1;
        }
        var $v_2 = GetHashValue('mdts');
        if ($v_2) {
            $p0.get_query()['mdts'] = $v_2;
        }
        var $v_3 = GetHashValue('orgts');
        if ($v_3) {
            $p0.get_query()['orgts'] = $v_3;
        }
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.getLayoutUri = function() {
    var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
    var $v_1 = Mscrm.TurboForm.Common.LayoutUrlCache.get_instance().getUrl($v_0.etc, $v_0.navigationFormId, $v_0.processId, $v_0.formType);
    if (!$v_1) {
        var $v_2 = Mscrm.TurboForm.Control.PageBootstrapper.getCurrentFormId();
        var $v_3 = ($v_0.processId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) ? '' : $v_0.processId.toString();
        if ($v_0.formType === 7) {
            $v_1 = Mscrm.CrmUri.create(String.format('/_forms/read/layout.aspx?etc={0}&formid={1}&isPreview=False&isTurboForm=true&formts={2}&hash={2}&showglobalquickcreate=true&hideCommandBar=true&highcontrast={3}', CrmEncodeDecode.CrmUrlEncode($v_0.etc), CrmEncodeDecode.CrmUrlEncode($v_2), new Date().getTime(), CrmEncodeDecode.CrmUrlEncode(Mscrm.Utilities.isHighContrastEnabled().toString())));
        }
        else {
            $v_1 = Mscrm.CrmUri.create(String.format('/_forms/read/layout.aspx?etc={0}&formid={1}&isPreview=False&isTurboForm=true&formts={2}&hash={2}&process={3}&processts={4}&highcontrast={5}', CrmEncodeDecode.CrmUrlEncode($v_0.etc), CrmEncodeDecode.CrmUrlEncode($v_2), new Date().getTime(), CrmEncodeDecode.CrmUrlEncode($v_3), CrmEncodeDecode.CrmUrlEncode($v_0.processTimestamp.toString()), CrmEncodeDecode.CrmUrlEncode(Mscrm.Utilities.isHighContrastEnabled().toString())));
        }
    }
    $v_1.set_includeContextInPath(true);
    return $v_1;
}
Mscrm.TurboForm.Control.PageBootstrapper.getCurrentFormId = function() {
    var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
    return ($v_0.navigationFormId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) ? '' : $v_0.navigationFormId.toString();
}
Mscrm.TurboForm.Control.PageBootstrapper.getPageState = function() {
    return Mscrm.TurboForm.Control.PageBootstrapper.$3;
}
Mscrm.TurboForm.Control.PageBootstrapper.$EK = function($p0, $p1) {
    Mscrm.TurboForm.Control.PageBootstrapper.$3 = new Mscrm.TurboForm.Control.PageState();
    Mscrm.TurboForm.Control.PageBootstrapper.$3.formData = null;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.commandBarData = null;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.layoutReady = false;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.etc = GetHashValue('etc');
    Mscrm.TurboForm.Control.PageBootstrapper.$3.entityName = Xrm.Internal.getEntityName(Number.parseInvariant(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc));
    var $v_0 = GetHashValue('formid');
    Mscrm.TurboForm.Control.PageBootstrapper.$3.navigationFormId = (IsNullOrEmptyString($v_0)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : new Microsoft.Crm.Client.Core.Framework.Guid($v_0);
    Mscrm.TurboForm.Control.PageBootstrapper.$3.primaryFormId = Mscrm.TurboForm.Control.PageBootstrapper.$3.navigationFormId;
    var $v_1 = GetHashValue('id');
    Mscrm.TurboForm.Control.PageBootstrapper.$3.recordId = (IsNullOrEmptyString($v_1)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : new Microsoft.Crm.Client.Core.Framework.Guid($v_1);
    Mscrm.TurboForm.Control.PageBootstrapper.$3.containerId = $p0;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.formType = $p1;
    var $v_2 = GetHashValue('_CreateFromId');
    Mscrm.TurboForm.Control.PageBootstrapper.$3.createFromId = (IsNullOrEmptyString($v_2)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : new Microsoft.Crm.Client.Core.Framework.Guid($v_2);
    Mscrm.TurboForm.Control.PageBootstrapper.$3.createFromType = GetHashValue('_CreateFromType');
    Mscrm.TurboForm.Control.PageBootstrapper.$3.descriptors = null;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState = new Mscrm.TurboForm.Control.RegardingLookupState();
    Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState = new Mscrm.TurboForm.Control.ActivityPartyState();
    Mscrm.TurboForm.Control.PageBootstrapper.$3.ControlDescriptor = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(Mscrm.TurboForm.Control.UIControlDescriptor))();
    Mscrm.TurboForm.Control.ProcessControlBootstrapper.initializeProcessState(Mscrm.TurboForm.Control.PageBootstrapper.$3);
    if ($p1 !== 7) {
        Mscrm.TurboForm.Control.PageBootstrapper.$IJ();
        Mscrm.TurboForm.Control.PageBootstrapper.$I9();
    }
    var $v_3 = GetHashValue('opened');
    if (!IsNullOrEmptyString($v_3) && $v_3 !== 'grid' && $v_3 !== 'lookup') {
        $v_3 = 'other';
    }
    Mscrm.TurboForm.Control.PageBootstrapper.$3.opened = $v_3;
    Mscrm.TurboForm.Control.PageManager.get_instance().$D_1 = Mscrm.TurboForm.Control.PageBootstrapper.$3;
}
Mscrm.TurboForm.Control.PageBootstrapper.$IJ = function() {
    var $v_0 = GetHashValue('parentLookupControlId');
    if (!IsNullOrEmptyString($v_0)) {
        var $v_1 = GetHashValue('pId');
        Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState.regardingId = (IsNullOrEmptyString($v_1)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : new Microsoft.Crm.Client.Core.Framework.Guid($v_1);
        var $v_2 = GetHashValue('pType');
        Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState.regardingType = (IsNullOrEmptyString($v_2)) ? 0 : parseInt($v_2);
        Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState.regardingName = GetHashValue('pName');
        Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState.parentLookupControlId = $v_0;
        Mscrm.TurboForm.Control.PageBootstrapper.$3.RegardingLookupState.searchText = GetHashValue('_searchText');
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$I9 = function() {
    Mscrm.TurboForm.Control.PageBootstrapper.$IA();
    if (!IsNullOrEmptyString(GetHashValue('regardingobjectid'))) {
        Mscrm.TurboForm.Control.PageBootstrapper.$IB();
    }
    else if (!IsNullOrEmptyString(GetHashValue('pId'))) {
        Mscrm.TurboForm.Control.PageBootstrapper.$IC();
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$IA = function() {
    var $v_0 = GetHashValue('partyid');
    if (!IsNullOrEmptyString($v_0)) {
        var $v_1 = GetHashValue('pId');
        Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingId = (IsNullOrEmptyString($v_1)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : new Microsoft.Crm.Client.Core.Framework.Guid($v_1);
        var $v_2 = GetHashValue('pType');
        if (!IsNullOrEmptyString($v_2) && isNaN(parseInt($v_2))) {
            $v_2 = Xrm.Internal.getEntityCode($v_2).toString();
        }
        Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingType = (IsNullOrEmptyString($v_2)) ? 0 : parseInt($v_2);
        Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingName = GetHashValue('pName');
        Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyId = (IsNullOrEmptyString($v_0)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : new Microsoft.Crm.Client.Core.Framework.Guid($v_0);
        Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyName = GetHashValue('partyname');
        var $v_3 = GetHashValue('partytype');
        Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.partyType = (IsNullOrEmptyString($v_3)) ? 0 : parseInt($v_3);
        Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingId = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
        Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingName = '';
        Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingType = 0;
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$IC = function() {
    var $v_0 = GetHashValue('pId');
    Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingId = new Microsoft.Crm.Client.Core.Framework.Guid($v_0);
    var $v_1 = GetHashValue('pType');
    if (!IsNullOrEmptyString($v_1) && isNaN(parseInt($v_1))) {
        $v_1 = Xrm.Internal.getEntityCode($v_1).toString();
    }
    Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingType = (IsNullOrEmptyString($v_1)) ? 0 : parseInt($v_1);
    Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingName = GetHashValue('pName');
}
Mscrm.TurboForm.Control.PageBootstrapper.$IB = function() {
    var $v_0 = GetHashValue('regardingobjectid');
    Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingId = new Microsoft.Crm.Client.Core.Framework.Guid($v_0);
    var $v_1 = GetHashValue('regardingobjecttypecode');
    if (!IsNullOrEmptyString($v_1) && isNaN(parseInt($v_1))) {
        $v_1 = Xrm.Internal.getEntityCode($v_1).toString();
    }
    Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingType = (IsNullOrEmptyString($v_1)) ? 0 : parseInt($v_1);
    Mscrm.TurboForm.Control.PageBootstrapper.$3.ActivityPartyState.regardingName = GetHashValue('regardingobjectidname');
}
Mscrm.TurboForm.Control.PageBootstrapper.unloadForm = function(containerId) {
    var $v_0 = GetHashValue('etc');
    if (!Mscrm.TurboForm.Control.PageBootstrapper.hasPageLoaded && $v_0 !== '-1') {
        return;
    }
    Xrm.XrmPerformance.measureTime('InitializePageState - OnBeforeUnload', function() {
        return Mscrm.TurboForm.Control.PageBootstrapper.$7d('OnBeforeUnload');
    });
    var $v_1 = Xrm.Internal.startMetricsStopwatch('InitializePageState - Dispose All Objects');
    $v_1.start();
    if (!Mscrm.InternalUtilities.JSTypes.isNull(Mscrm.TurboForm.Control.PageBootstrapper.$2f)) {
        Mscrm.TurboForm.Control.PageBootstrapper.$2f.dispose();
        Mscrm.TurboForm.Control.PageBootstrapper.$2f = null;
    }
    Mscrm.TurboForm.Control.PageBootstrapper.hasPageLoaded = false;
    Xrm.Internal.clearOnXrmReadyEventHandlers();
    if (Mscrm.TurboForm.Control.PageBootstrapper.$2a) {
        Mscrm.TurboForm.Control.PageBootstrapper.$Dg();
    }
    Mscrm.TurboForm.Control.DisposalManager.disposeAndPurgeAllObjects(containerId);
    Mscrm.TurboForm.Control.PageBootstrapper.$Gj();
    $v_1.stop();
    if (!IsNull(Mscrm.TurboForm.Control.PageBootstrapper.$3)) {
        Mscrm.TurboForm.Control.PageBootstrapper.$3 = null;
        promptAndReportScriptErrors();
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$EU = function() {
    Mscrm.Performance.PerformanceMarkerManager.get_instance().addMarker('Turbo Form Load Start', 1);
    Mscrm.Performance.PerformanceMarkerManager.get_instance().clearAllMarkersCreatedBefore(window.top.ContentPanelLoadContentTime);
}
Mscrm.TurboForm.Control.PageBootstrapper.$IL = function($p0) {
    if (Mscrm.TurboForm.Control.PageBootstrapper.$2a) {
        Xrm.Internal.trace.warning('Turbo Form PageBootstrapper', 'Service directory was not disposed properly');
        Mscrm.TurboForm.Control.PageBootstrapper.$Dg();
    }
    switch ($p0) {
        case 6:
        case 7:
            Mscrm.TurboForm.Control.PageBootstrapper.$2a = new Xrm.XrmServiceDirectory();
            break;
        default:
            var $v_0 = Mscrm.PageManager.getParentWindowXrmInternal();
            if (!$v_0 || !$v_0.getServiceDirectory()) {
                Mscrm.TurboForm.Control.PageBootstrapper.$2a = new Xrm.XrmServiceDirectory();
            }
            else {
                Mscrm.TurboForm.Control.PageBootstrapper.$2a = new Xrm.ScopedServiceDirectory($v_0.getServiceDirectory());
            }
            break;
    }
    Xrm.Internal.setServiceDirectory(Mscrm.TurboForm.Control.PageBootstrapper.$2a);
}
Mscrm.TurboForm.Control.PageBootstrapper.$Dg = function() {
    Mscrm.TurboForm.Control.PageBootstrapper.$2a.dispose();
    if (Xrm.Internal.getServiceDirectory() !== Mscrm.TurboForm.Control.PageBootstrapper.$2a) {
        Xrm.Internal.trace.warning('Turbo Form PageBootstrapper', 'Someone replaced service directory');
    }
    else {
        Xrm.Internal.setServiceDirectory(null);
    }
    Mscrm.TurboForm.Control.PageBootstrapper.$2a = null;
}
Mscrm.TurboForm.Control.PageBootstrapper.$Gj = function() {
    
    				Mscrm.Details.currentArea = null;;
}
Mscrm.TurboForm.Control.PageBootstrapper.$Ez = function($p0, $p1) {
    setPerformanceMarkerTimestamp('Request Form Layout Start Time');
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Request Form Layout');
    $v_0.start();
    setLoadingText(Xrm.Internal.getResourceString('LOCID_PAGE_LOADING_REQUEST_DATA'));
    requestPage($p0, function($p1_0) {
        $v_0.stop();
        setPerformanceMarkerTimestamp('Request Form Layout End Time');
        var $v_1 = Xrm.Internal.startMetricsStopwatch('Parse Form Layout Response Json');
        $v_1.start();
        var $v_2 = Mscrm.TurboForm.Control.PageBootstrapper.$9v($p1_0);
        $v_1.stop();
        Mscrm.TurboForm.Control.PageBootstrapper.$Es($p0, $p1, $v_2);
        var $v_3 = window.top.LayoutUrlToParsedJson;
        $v_3[$p0] = $p1_0;
        window.top.LayoutUrlToParsedJson = $v_3;
    }, false, $p1);
}
Mscrm.TurboForm.Control.PageBootstrapper.$Es = function($p0, $p1, $p2) {
    if ($p2) {
        var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.$Gt($p1);
        var $v_1 = Mscrm.TurboForm.Control.PageBootstrapper.$Gs($p1);
        setPerformanceMarkerTimestamp('Process Form Layout Start Time');
        var $v_2 = Xrm.Internal.startMetricsStopwatch('Process Form Layout');
        $v_2.start();
        Mscrm.TurboForm.Control.PageBootstrapper.$K1($p0, $p2, $v_0, $v_1);
        $v_2.stop();
        setPerformanceMarkerTimestamp('Process Form Layout End Time');
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$K1 = function($p0, $p1, $p2, $p3) {
    var $v_0 = $p1._error;
    if (!IsNull($v_0)) {
        var $v_1 = Mscrm.ErrorInformation.createErrorInfo($v_0.Code, $v_0.DisplayText, $v_0.SerializedException);
        var $v_2 = Mscrm.Utilities.createCallbackFunctionObject('errorDialogCallback', Mscrm.TurboForm.Control.PageBootstrapper, null, false);
        openErrorDlg($v_0.Code, $v_0.DisplayText, $v_1, 0, 0, $v_2);
        return;
    }
    else {
        for (var $$arr_7 = $p1.Descriptor.FormDescriptor, $$len_8 = $$arr_7.length, $$idx_9 = 0; $$idx_9 < $$len_8; ++$$idx_9) {
            var $v_8 = $$arr_7[$$idx_9];
            Mscrm.TurboForm.Control.PageBootstrapper.$EY($v_8);
        }
        var $v_3 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
        $v_3.descriptors = $p1.Descriptor.FormDescriptor;
        $v_3.ProcessControlRule = $p1.processControlRule;
        $v_3.primaryFormId = new Microsoft.Crm.Client.Core.Framework.Guid($p1.Descriptor.PrimaryFormId);
        $v_3.entityMetadata = Mscrm.TurboForm.Control.PageBootstrapper.$Jy($p1.entityMetadata);
        $v_3.InlineEditSubGrids = Mscrm.TurboForm.Control.PageBootstrapper.$Jz($p1.InlineEditSubGrids);
        var $v_4 = $p1.header;
        $v_3.applicationInitDeferredStatements = $p1.header.ApplicationInitDeferredStatements;
        $v_3.sfaTabsInitDeferredStatements = $p1.header.SFATabsInitDeferredStatements;
        $v_3.caseSFATabsInitDeferredStatements = $p1.header.CaseSFATabsInitDeferredStatements;
        var $v_5 = Xrm.Internal.startMetricsStopwatch('Inject Layout Includes to Page');
        $v_5.start();
        Sys.Application.beginCreateComponents();
        eval($v_4.TurboApplicationInitStatements);
        Sys.Application.endCreateComponents();
        Xrm.Internal.trace.log('PageBootstrapper', 'Application Components created');
        Mscrm.TurboForm.Control.PageBootstrapper.$EM($v_4.StyleIncludes);
        Mscrm.TurboForm.Control.DisposalManager.clearExistingDataClientVariables();
        Mscrm.TurboForm.Control.DisposalManager.clearExistingLayoutClientVariables();
        Mscrm.TurboForm.Control.PageBootstrapper.$IO($v_4.ClientVariables);
        var $v_6 = Mscrm.TurboForm.Control.CustomScriptsManager.get_instance();
        Mscrm.TurboForm.Control.PageBootstrapper.$EG($v_4.TurboScriptIncludes);
        window.turboHeaderScriptIncludes = $v_4.ScriptIncludes;
        $v_5.stop();
        Mscrm.TurboForm.Control.PageBootstrapper.$CH.$Ey_0('PageBootstrapper', 'Render Form Layout', 'rootJQueryTemplate', $p0, $v_3, $v_4);
        var $v_7 = Xrm.Internal.startMetricsStopwatch('Initialize Application Components');
        $v_7.start();
        Sys.Application.beginCreateComponents();
        eval(createFormControlLite);
        eval(createPageManager);
        eval(createEventManager);
        eval(SubGridCommandBarData);
        Sys.Application.endCreateComponents();
        Xrm.Internal.trace.log('PageBootstrapper', 'Layout Components initialized');
        $v_7.stop();
        Mscrm.TurboForm.Control.PageBootstrapper.$ID($v_3);
        window.setTimeout(function() {
            return Mscrm.TurboForm.Control.PageBootstrapper.$II($v_3, $p2, $p3);
        }, 0);
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$II = function($p0, $p1, $p2) {
    setPerformanceMarkerTimestamp('Initialize Xrm Controls and Data Start Time');
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Initialize Xrm Controls and Data');
    $v_0.start();
    Mscrm.TurboForm.Control.PageManager.get_instance().initialize();
    $v_0.stop();
    setPerformanceMarkerTimestamp('Initialize Xrm Controls and Data End Time');
    setPerformanceMarkerTimestamp('Bind Xrm to HTML Start Time');
    var $v_1 = Xrm.Internal.startMetricsStopwatch('Bind Xrm to HTML');
    $v_1.start();
    Mscrm.TurboForm.Control.PageManager.get_instance().bindUI();
    $v_1.stop();
    setPerformanceMarkerTimestamp('Bind Xrm to HTML End Time');
    Mscrm.TurboForm.Control.PageManager.get_instance().initializeProcessControl($p0);
    $p0.layoutReady = true;
    Xrm.XrmPerformance.measureTime('OnLayoutReady handlers', function() {
        return Mscrm.TurboForm.Control.PageBootstrapper.$7d('OnLayoutReady');
    });
    Mscrm.TurboForm.Control.PageBootstrapper.$2f.startTracking();
    Mscrm.Performance.PerformanceMarkerManager.get_instance().addMarker('Page Ready for Data Bind', 1);
    Mscrm.TurboForm.Control.PageBootstrapper.$Fo($p1, $p2);
}
Mscrm.TurboForm.Control.PageBootstrapper.requestSubGridData = function() {
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Request Subgrids Data');
    $v_0.start();
    var $v_1 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
    Mscrm.TurboForm.Control.PageManager.get_instance().$2c_1.requestSubGridData($v_1);
    $v_0.stop();
}
Mscrm.TurboForm.Control.PageBootstrapper.$It = function($p0) {
    for (var $v_0 = 0; $v_0 < $p0.length; $v_0++) {
        if ($p0[$v_0].Key === 'PassParametersToSilverlightControl' && $p0[$v_0].Value.toLowerCase() === 'true') {
            return true;
        }
    }
    return false;
}
Mscrm.TurboForm.Control.PageBootstrapper.$KJ = function($p0, $p1, $p2) {
    if (!Mscrm.TurboForm.Control.PageBootstrapper.$It($p1)) {
        return $p2;
    }
    var $v_0 = (Microsoft.Crm.Client.Core.Framework.Guid.isNullOrEmpty($p0.recordId.toString())) ? '' : $p0.recordId.toString();
    var $v_1 = Xrm.Page.context.getQueryStringParameters()['etc'];
    var $v_2 = $p0.entityName;
    var $v_3 = new RegExp('id={{:~getData\\(#data,\'_entity\',\'Id\'\\)}},type={{:~getData\\(#data,\'_entity\',\'TypeCode\'\\)}},typename={{:~getData\\(#data,\'_entity\',\'TypeName\'\\)}}', 'g');
    $p2 = $p2.replace($v_3, 'id=' + $v_0 + ',type=' + $v_1 + ',typename=' + $v_2);
    return $p2;
}
Mscrm.TurboForm.Control.PageBootstrapper.$ID = function($p0) {
    var $v_0 = $get('tdAreas');
    Mscrm.TurboForm.Control.PageBootstrapper.$2f = new Mscrm.DeferredInitializationManager('Forms/' + $p0.primaryFormId, $v_0);
}
Mscrm.TurboForm.Control.PageBootstrapper.$7d = function($p0) {
    var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.$2b.getHandler($p0);
    if (!IsNull($v_0)) {
        $v_0(Mscrm.TurboForm.Control.PageBootstrapper, Sys.EventArgs.Empty);
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$EY = function($p0) {
    var $v_0 = null;
    if (!Mscrm.InternalUtilities._Script.isNullOrUndefined(Mscrm.TurboForm.Control.PageBootstrapper.getPageState())) {
        $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
    }
    for (var $v_1 = 0; $v_1 < $p0.UIDescriptor.Header.length; $v_1++) {
        var $v_2 = $p0.UIDescriptor.Header[$v_1];
        $v_2.ClassId = new Microsoft.Crm.Client.Core.Framework.Guid($v_2.ClassId.toString());
    }
    for (var $v_3 = 0; $v_3 < $p0.UIDescriptor.Footer.length; $v_3++) {
        var $v_4 = $p0.UIDescriptor.Footer[$v_3];
        $v_4.ClassId = new Microsoft.Crm.Client.Core.Framework.Guid($v_4.ClassId.toString());
    }
    if (!IsNull($p0.UIDescriptor.InlineQuickForms)) {
        for (var $v_5 = 0; $v_5 < $p0.UIDescriptor.InlineQuickForms.length; $v_5++) {
            var $v_6 = $p0.UIDescriptor.InlineQuickForms[$v_5];
            $v_6.ClassId = new Microsoft.Crm.Client.Core.Framework.Guid($v_6.ClassId.toString());
        }
    }
    for (var $v_7 = 0; $v_7 < $p0.UIDescriptor.Tabs.length; $v_7++) {
        var $v_8 = $p0.UIDescriptor.Tabs[$v_7];
        for (var $v_9 = 0; $v_9 < $v_8.Sections.length; $v_9++) {
            var $v_A = $v_8.Sections[$v_9];
            for (var $v_B = 0; $v_B < $v_A.Controls.length; $v_B++) {
                var $v_C = $v_A.Controls[$v_B];
                $v_C.ClassId = new Microsoft.Crm.Client.Core.Framework.Guid($v_C.ClassId.toString());
                if (!Mscrm.InternalUtilities._Script.isNullOrUndefined($v_0) && !Mscrm.InternalUtilities._Script.isNullOrUndefined($v_0.ControlDescriptor)) {
                    $v_0.ControlDescriptor.set_item($v_C.Id, $v_C);
                }
            }
        }
    }
    if (!Mscrm.InternalUtilities.JSTypes.isNull($p0.UIDescriptor.LinkControlSections)) {
        for (var $$arr_E = $p0.UIDescriptor.LinkControlSections, $$len_F = $$arr_E.length, $$idx_G = 0; $$idx_G < $$len_F; ++$$idx_G) {
            var $v_D = $$arr_E[$$idx_G];
            for (var $v_E = 0; $v_E < $v_D.Section.Controls.length; $v_E++) {
                var $v_F = $v_D.Section.Controls[$v_E];
                $v_F.ClassId = new Microsoft.Crm.Client.Core.Framework.Guid($v_F.ClassId.toString());
            }
        }
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$IO = function($p0) {
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Layout Variable Includes');
    $v_0.start();
    var $v_1 = '';
    window.layoutWindowObjects = $p0;
    window._IsRefreshForm = '1';
    var $v_2 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
    if ($v_2.formType === 7) {
        $v_1 = 'window._globalQuickCreate = true;';
    }
    else if (!$v_2.recordId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) {
        $v_1 = 'window._id = \"' + $v_2.recordId + '\";';
    }
    var $v_3 = GetHashValue('activitytypecode');
    var $v_4 = -1;
    if (!IsNull($v_3)) {
        $v_4 = Number.parseInvariant($v_3);
        if (isNaN($v_4)) {
            $v_4 = -1;
        }
    }
    $v_1 += 'window._activityTypeCode=' + $v_4 + ';';
    for (var $v_5 = 0; $v_5 < $p0.length; $v_5++) {
        $v_1 += 'window.' + $p0[$v_5].Key + ' = ' + $p0[$v_5].Value + ';';
    }
    eval($v_1);
    $v_0.stop();
}
Mscrm.TurboForm.Control.PageBootstrapper.$IN = function($p0) {
    if (!Mscrm.InternalUtilities.JSTypes.isNull($p0)) {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('Data Variable Includes');
        $v_0.start();
        var $v_1 = '';
        window.dataWindowObjects = $p0;
        for (var $v_2 = 0; $v_2 < $p0.length; $v_2++) {
            $v_1 += 'window.' + $p0[$v_2].Key + ' = ' + $p0[$v_2].Value + ';';
        }
        eval($v_1);
        $v_0.stop();
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$EG = function($p0) {
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Script Includes');
    $v_0.start();
    for (var $v_1 = 0; $v_1 < $p0.length; $v_1++) {
        var $v_2 = $p0[$v_1].Key.toLowerCase();
        if ($v_2.indexOf('/_controls/ribbon/ribbonlayout.js.aspx') >= 0) {
            if ($v_2.indexOf('econtext=form') > 0) {
                Mscrm.TurboForm.Control.CommandBarManager.get_instance().$2m_1 = Mscrm.CrmUri.create($p0[$v_1].Key);
            }
            else {
                Mscrm.TurboForm.Control.CommandBarManager.get_instance().addNonFormRibbonLayoutUrl(Mscrm.CrmUri.create($p0[$v_1].Key));
            }
        }
        else if (Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().shouldIsolate($v_2)) {
            Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().loadWebResource(Mscrm.CrmUri.create($p0[$v_1].Key));
        }
        else {
            Xrm.Internal.trace.log('PageBootstrapper', 'loading {0} into main context', $p0[$v_1].Key);
            Mscrm.CrmHeader.setScriptFile(Mscrm.CrmUri.create($p0[$v_1].Key));
        }
    }
    $v_0.stop();
}
Mscrm.TurboForm.Control.PageBootstrapper.$EM = function($p0) {
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Style Includes');
    $v_0.start();
    for (var $v_1 = 0; $v_1 < $p0.length; $v_1++) {
        Mscrm.CrmHeader.setStyleSheet(Mscrm.CrmUri.create($p0[$v_1]));
    }
    $v_0.stop();
}
Mscrm.TurboForm.Control.PageBootstrapper.$Jy = function($p0) {
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Process Entity Metadata');
    $v_0.start();
    var $v_1 = {};
    for (var $v_2 = 0; $v_2 < $p0.length; $v_2++) {
        var $v_3 = $p0[$v_2];
        var $v_4 = $v_3.FormId;
        var $v_5 = $v_3.Attributes;
        var $v_6 = $v_3.UnboundControls;
        var $v_7 = {};
        for (var $v_8 = 0; $v_8 < $v_5.length; $v_8++) {
            $v_7[$v_5[$v_8].LogicalName] = $v_5[$v_8];
        }
        if ($v_6) {
            for (var $v_9 = 0; $v_9 < $v_6.length; $v_9++) {
                $v_7[$v_6[$v_9].LogicalName] = $v_6[$v_9];
            }
        }
        $v_1[$v_4] = $v_7;
    }
    $v_0.stop();
    return $v_1;
}
Mscrm.TurboForm.Control.PageBootstrapper.$Jz = function($p0) {
    if (IsNull($p0)) {
        return null;
    }
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Process inline edit subgrids');
    $v_0.start();
    var $v_1 = {};
    for (var $v_2 = 0; $v_2 < $p0.length; $v_2++) {
        var $v_3 = $p0[$v_2];
        $v_1[$v_3.Id] = $v_3;
    }
    $v_0.stop();
    return $v_1;
}
Mscrm.TurboForm.Control.PageBootstrapper.$Fo = function($p0, $p1) {
    if (!Mscrm.TurboForm.Control.PageBootstrapper.$6E) {
        setPerformanceMarkerTimestamp('Waiting for data ready before BindData Start Time');
        Mscrm.TurboForm.Control.PageBootstrapper.$6E = Xrm.Internal.startMetricsStopwatch('Waiting for data ready before BindData');
        Mscrm.TurboForm.Control.PageBootstrapper.$6E.start();
    }
    var $v_0 = null;
    if (IsNull($p1) || !$p1 || IsNull(Mscrm.TurboForm.Control.PageBootstrapper.$3.formDataResponseAfterParse)) {
        $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.$Hl();
        if (IsNull($v_0)) {
            setLoadingText(Xrm.Internal.getResourceString('LOCID_PAGE_LOADING_REQUEST_DATA'));
            window.setTimeout(function() {
                return Mscrm.TurboForm.Control.PageBootstrapper.$Fo($p0);
            }, 15);
            return;
        }
        var $v_1 = $v_0._error;
        if (!IsNull($v_1)) {
            var $v_2 = Mscrm.ErrorInformation.createErrorInfo($v_1.Code, $v_1.DisplayText, $v_1.SerializedException);
            Mscrm.TurboForm.Control.PageBootstrapper.$Hr($v_2.get_code());
            var $v_3 = Mscrm.Utilities.createCallbackFunctionObject('errorDialogCallback', Mscrm.TurboForm.Control.PageBootstrapper, null, false);
            openErrorDlg($v_1.Code, $v_1.DisplayText, $v_2, 0, 0, $v_3);
            Mscrm.TurboForm.Control.PageBootstrapper.hasPageLoaded = true;
            return;
        }
        else {
            Mscrm.TurboForm.Control.PageBootstrapper.$3.formDataResponseAfterParse = $v_0;
        }
    }
    else {
        $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.$3.formDataResponseAfterParse;
    }
    setLoadingText(Xrm.Internal.getResourceString('LOCID_PAGE_LOADING_PROCESSING_DATA'));
    $v_0.formData._formId = new Microsoft.Crm.Client.Core.Framework.Guid($v_0.formData._formId.toString());
    Mscrm.TurboForm.Control.PageBootstrapper.$3.formData = $v_0.formData;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.commandBarData = $v_0.commandBarData;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.wrpcTokenData = $v_0.tokenData;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.businessRulesVersion = $v_0.businessRulesVersion;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.FormVersion = $v_0.formVersion;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.attributeMappingXml = $v_0.mappedXmlString;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.entityDisplayName = $v_0.entityDisplayName;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.isCustomImagePresentInDatabase = $v_0.isCustomImagePresentInDatabase;
    Mscrm.TurboForm.Control.PageBootstrapper.$9X = false;
    Mscrm.TurboForm.Control.PageBootstrapper.$6E.stop();
    setPerformanceMarkerTimestamp('Waiting for data ready before BindData End Time');
    Mscrm.TurboForm.Control.PageBootstrapper.$6E = null;
    if (!Mscrm.TurboForm.Control.PageBootstrapper.$6F) {
        Mscrm.TurboForm.Control.PageBootstrapper.$6F = Xrm.Internal.startMetricsStopwatch('Waiting for layout ready before BindData');
        Mscrm.TurboForm.Control.PageBootstrapper.$6F.start();
    }
    if (Mscrm.TurboForm.Control.PageBootstrapper.$3.formData && Mscrm.TurboForm.Control.PageBootstrapper.$3.layoutReady) {
        Mscrm.TurboForm.Control.PageBootstrapper.$6F.stop();
        Mscrm.TurboForm.Control.PageBootstrapper.$6F = null;
        Mscrm.Performance.PerformanceMarkerManager.get_instance().addMarker('Data Ready', 1);
        setPerformanceMarkerTimestamp('Bind Data and Create Controls Start Time');
        var $v_4 = Xrm.Internal.startMetricsStopwatch('Bind Data and Create Controls');
        $v_4.start();
        var $v_5 = Xrm.Internal.startMetricsStopwatch('Process Cached Layout');
        $v_5.start();
        var $v_6 = Mscrm.TurboForm.Common.LayoutUrlCache.get_instance().getUrl(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc, Mscrm.TurboForm.Control.PageBootstrapper.$3.navigationFormId, Mscrm.TurboForm.Control.PageBootstrapper.$3.processId, Mscrm.TurboForm.Control.PageBootstrapper.$3.formType);
        var $v_7 = Mscrm.CrmUri.create(Mscrm.TurboForm.Control.PageBootstrapper.$3.formData._formlayoutUrl);
        var $v_8 = Mscrm.TurboForm.Control.PageBootstrapper.$3.navigationFormId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty());
        var $v_9 = !$v_6;
        window.self.IsColdLoad = $v_9;
        var $v_A = !Mscrm.TurboForm.Control.PageBootstrapper.$3.navigationFormId.equals(Mscrm.TurboForm.Control.PageBootstrapper.$3.formData._formId);
        if ($v_A) {
            Mscrm.TurboForm.Control.PageBootstrapper.$3.navigationFormId = Mscrm.TurboForm.Control.PageBootstrapper.$3.formData._formId;
            Mscrm.TurboForm.Control.PageBootstrapper.$3.primaryFormId = Mscrm.TurboForm.Control.PageBootstrapper.$3.formData._formId;
        }
        Mscrm.TurboForm.Control.PageBootstrapper.$LM();
        var $v_B = Mscrm.TurboForm.Control.PageBootstrapper.$3.processId;
        var $v_C = !Mscrm.TurboForm.Control.ProcessControlBootstrapper.bindProcessId(Mscrm.TurboForm.Control.PageBootstrapper.$3);
        if (!$v_B.equals(Mscrm.TurboForm.Control.PageBootstrapper.$3.processId)) {
            Mscrm.TurboForm.Common.LayoutUrlCache.get_instance().addUrl(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc, Microsoft.Crm.Client.Core.Framework.Guid.get_empty(), $v_B, Mscrm.TurboForm.Control.PageBootstrapper.$3.formType, $v_7);
        }
        Mscrm.TurboForm.Common.LayoutUrlCache.get_instance().addUrl(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc, Microsoft.Crm.Client.Core.Framework.Guid.get_empty(), Mscrm.TurboForm.Control.PageBootstrapper.$3.processId, Mscrm.TurboForm.Control.PageBootstrapper.$3.formType, $v_7);
        Mscrm.TurboForm.Common.LayoutUrlCache.get_instance().addUrl(Mscrm.TurboForm.Control.PageBootstrapper.$3.etc, Mscrm.TurboForm.Control.PageBootstrapper.$3.navigationFormId, Mscrm.TurboForm.Control.PageBootstrapper.$3.processId, Mscrm.TurboForm.Control.PageBootstrapper.$3.formType, $v_7);
        if ($v_9 && ($v_8 || !$v_A) && !$v_C) {
            var $v_J = [];
            Mscrm.TurboForm.Control.PageBootstrapper.$92($v_J, 'x-crm-duplicate', $p0);
            requestPage($v_7.toString(), function() {
            }, true, $v_J);
        }
        else {
            var $v_K = $v_9 || $v_6.toString() !== $v_7.toString();
            if ($v_K) {
                Mscrm.TurboForm.Control.PageBootstrapper.$F3($p0, $v_7);
                return;
            }
        }
        $v_5.stop();
        Mscrm.TurboForm.Control.DisposalManager.clearExistingDataClientVariables();
        Mscrm.TurboForm.Control.PageBootstrapper.$IN($v_0.clientVariables);
        Sys.Application.initialize();
        var $v_D = Xrm.Internal.startMetricsStopwatch('Load PBL Webresource');
        $v_D.start();
        var $v_E = Mscrm.CrmUri.create('/_forms/formscript.js.aspx');
        $v_E.get_query()['formname'] = 'crmform';
        $v_E.get_query()['airenabled'] = true;
        $v_E.get_query()['businessrulesversion'] = Mscrm.TurboForm.Control.PageBootstrapper.$3.businessRulesVersion;
        $v_E.get_query()['formid'] = Mscrm.TurboForm.Control.PageBootstrapper.$3.navigationFormId;
        $v_E.get_query()['fver'] = Mscrm.TurboForm.Control.PageBootstrapper.$3.FormVersion;
        Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().loadWebResource($v_E);
        Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().executeHandler('Mscrm.BusinessRulesScript.Initialize', '', null);
        $v_D.stop();
        var $v_F = Xrm.Internal.startMetricsStopwatch('Create Common Controls');
        $v_F.start();
        Mscrm.TurboForm.Control.PageBootstrapper.$GX();
        $v_F.stop();
        Mscrm.TurboForm.Control.PageManager.get_instance().bindData(Mscrm.TurboForm.Control.PageBootstrapper.$3);
        Xrm.XrmPerformance.measureTime('OnDataBound handler', function() {
            return Mscrm.TurboForm.Control.PageBootstrapper.$7d('OnDataBound');
        });
        var $v_G = Xrm.Internal.startMetricsStopwatch('Create Quick Form');
        $v_G.start();
        if (Mscrm.TurboForm.Control.PageBootstrapper.$3.formType === 7) {
            Mscrm.GlobalQuickCreate.GlobalQuickCreateBehavior.showGlobalQuickCreate();
            Mscrm.GlobalQuickCreate.GlobalQuickCreateBehavior.showGlobalQuickCreateContainer(window.frameElement.id, true);
        }
        $v_G.stop();
        var $v_H = Xrm.Internal.startMetricsStopwatch('Create Record Set Control');
        $v_H.start();
        Mscrm.TurboForm.Control.PageBootstrapper.$Gc();
        $v_H.stop();
        var $v_I = Xrm.Internal.startMetricsStopwatch('Add Item to MRU');
        $v_I.start();
        Mscrm.Utilities.addEntityToRecent(Mscrm.TurboForm.Control.PageBootstrapper.$3.formData._entity);
        $v_I.stop();
        Mscrm.Utilities.showHideHierarchyButton(Mscrm.TurboForm.Control.PageBootstrapper.$3.get_isFormHierarchyEnabled());
        Mscrm.TurboForm.Control.PageBootstrapper.setEntityPermission($v_0.formData.entityPermissions);
        $v_4.stop();
        setPerformanceMarkerTimestamp('Bind Data and Create Controls End Time');
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$Hr = function($p0) {
    if ((($p0) in Mscrm.TurboForm.Control.PageBootstrapper.$Bc)) {
        var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.$Bc[$p0];
        $v_0();
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$HS = function() {
    var $v_0 = {};
    $v_0['0x80040217'] = Mscrm.TurboForm.Control.PageBootstrapper.$If;
    return $v_0;
}
Mscrm.TurboForm.Control.PageBootstrapper.$If = function() {
    var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.$3.recordId.toString();
    if (Microsoft.Crm.Client.Core.Framework.Guid.isNullOrEmpty($v_0)) {
        return;
    }
    var $v_1 = $find('crmPageManager');
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_1)) {
        var $v_2 = {};
        $v_2['objectIds'] = [ '{' + $v_0 + '}' ];
        $v_1.raiseEvent(103, $v_2);
    }
    $v_1 = null;
}
Mscrm.TurboForm.Control.PageBootstrapper.setEntityPermission = function(entityPermissions) {
    var $v_0 = $find('crmForm');
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        $v_0._entityPermissions = entityPermissions;
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.errorDialogCallback = function() {
    var $v_0 = $find('crmPageManager');
    if (window.IS_OUTLOOK_CLIENT) {
        $v_0.raiseEvent(23, null);
    }
    else {
        $v_0.raiseEvent(16, null);
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$LM = function() {
    var $v_0 = GetHashValue('formid');
    if (Microsoft.Crm.Client.Core.Framework.Guid.isNullOrEmpty($v_0)) {
        Mscrm.TurboForm.Control.DefaultFormCache.$7.set_item(Mscrm.TurboForm.Control.PageBootstrapper.$3.entityName, Mscrm.TurboForm.Control.PageBootstrapper.$3.primaryFormId);
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$F3 = function($p0, $p1) {
    try {
        var $v_1 = -1;
        if (!Mscrm.InternalUtilities._Script.isNullOrUndefined(Mscrm.TurboForm.Control.CustomScriptsManager.frameElement.contentWindow.pendingScriptLoadCounts)) {
            $v_1 = Mscrm.TurboForm.Control.CustomScriptsManager.frameElement.contentWindow.pendingScriptLoadCounts;
        }
        if (!Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().$7i_1 || ($v_1)) {
            window.setTimeout(function() {
                return Mscrm.TurboForm.Control.PageBootstrapper.$F3($p0, $p1);
            }, 0);
            return;
        }
    }
    catch ($v_2) {
        Xrm.Internal.trace.warning('Turbo Form PageBootstrapper', 'Waiting for previous clientapiwrapper.aspx failed with exception : {0} ', $v_2.toString());
    }
    Mscrm.TurboForm.Control.PageBootstrapper.$Gi();
    Mscrm.TurboForm.Control.PageManager.get_instance().$D_1 = Mscrm.TurboForm.Control.PageBootstrapper.$3;
    Mscrm.TurboForm.Control.PageBootstrapper.$3.layoutReady = false;
    Mscrm.TurboForm.Control.DisposalManager.setLastFormLoadTimeoutIntervalJobId();
    var $v_0 = [];
    Mscrm.TurboForm.Control.PageBootstrapper.$92($v_0, 'x-crm-mismatch', $p0);
    Mscrm.TurboForm.Control.PageBootstrapper.$Ez($p1.toString(), $v_0);
}
Mscrm.TurboForm.Control.PageBootstrapper.$Gi = function() {
    try {
        Mscrm.TurboForm.Control.DisposalManager.disposeAllObjects(Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.containerId);
    }
    catch ($v_0) {
    }
}
Mscrm.TurboForm.Control.PageBootstrapper.$Hl = function() {
    var $v_0;
    if (Mscrm.TurboForm.Control.PageBootstrapper.$9X) {
        $v_0 = window.top.turboFormData;
        window.top.turboFormData=null;
    }
    else {
        $v_0 = window.turboFormData;
        window.turboFormData=null;
    }
    return $v_0;
}
Mscrm.TurboForm.Control.PageBootstrapper.$GX = function() {
    Sys.Application.beginCreateComponents();
    var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
    var $v_1 = $v_0.applicationInitDeferredStatements.split('\r\n');
    var $v_2 = '';
    var $v_3 = '';
    var $v_4 = '';
    for (var $$arr_5 = $v_1, $$len_6 = $$arr_5.length, $$idx_7 = 0; $$idx_7 < $$len_6; ++$$idx_7) {
        var $v_5 = $$arr_5[$$idx_7];
        if ($v_5.indexOf('NotificationList') > -1) {
            $v_2 = $v_5;
        }
        else if ($v_5.indexOf('FormControl') > -1) {
            $v_3 = $v_5;
        }
        else if ($v_5.indexOf('FormSelector') > -1) {
            $v_4 = $v_5;
            eval($v_4);
        }
        else if ($v_5.indexOf('CompositeControl') > -1 && $v_5.indexOf('CompositeControlResizeControl') === -1) {
            Mscrm.TurboForm.Control.PageManager.get_instance().$2c_1.registerInitDeferredStatement($v_5);
        }
        else if ($v_5.indexOf('GridSpanControl') > -1) {
            eval($v_5);
        }
    }
    eval($v_2);
    eval($v_3);
    Sys.Application.endCreateComponents();
}
Mscrm.TurboForm.Control.PageBootstrapper.$Gc = function() {
    Sys.Application.beginCreateComponents();
    var $v_0 = Mscrm.TurboForm.Control.PageBootstrapper.getPageState();
    var $v_1 = $v_0.applicationInitDeferredStatements.split('\r\n');
    var $v_2 = '';
    for (var $$arr_3 = $v_1, $$len_4 = $$arr_3.length, $$idx_5 = 0; $$idx_5 < $$len_4; ++$$idx_5) {
        var $v_3 = $$arr_3[$$idx_5];
        if ($v_3.indexOf('RecordSetControl') > -1) {
            $v_2 = $v_3;
        }
    }
    eval($v_2);
    Sys.Application.endCreateComponents();
}
Mscrm.TurboForm.Control.PageBootstrapper.$9v = function($p0) {
    if ($p0.startsWith('while(1);')) {
        $p0 = $p0.substr(9);
    }
    try {
        return JSON.parse($p0);
    }
    catch ($v_0) {
    }
    return null;
}
Mscrm.TurboForm.Control.PageBootstrapper.$92 = function($p0, $p1, $p2) {
    var $v_0 = new (Microsoft.Crm.Client.Core.Framework.KeyValuePair$2.$$(String, String))($p1, $p2);
    Array.add($p0, $v_0);
}
Mscrm.TurboForm.Control.PageBootstrapper.$Gt = function($p0) {
    var $v_0 = 'other';
    Array.forEach($p0, function($p1_0) {
        var $v_1 = ($p1_0).get_value();
        if ($v_1 === 'grid' || $v_1 === 'lookup' || $v_1 === 'other') {
            $v_0 = $v_1;
        }
    });
    return $v_0;
}
Mscrm.TurboForm.Control.PageBootstrapper.$Gs = function($p0) {
    var $v_0 = false;
    Array.forEach($p0, function($p1_0) {
        var $v_1 = ($p1_0).get_key();
        if ($v_1 === 'x-crm-mismatch') {
            $v_0 = true;
        }
    });
    return $v_0;
}
Mscrm.TurboForm.Control.PageBootstrapper.requestTurboFormData = function(turboFormUri) {
    if (!IsNull(turboFormUri) && turboFormUri.toString().indexOf('#') > 0) {
        Mscrm.TurboForm.Control.PageBootstrapper.pageHash = turboFormUri.toString().split('#')[1];
    }
    turboFormUri.set_includeContextInPath(true);
    var $v_0 = GetHashValue('etc');
    if (IsNullOrEmptyString($v_0) || parseInt($v_0) < 1) {
        Xrm.Internal.trace.warning('TF PageBootstrapper', 'data URI does not contain entity type code');
        return;
    }
    var $v_1 = GetHashValue('showglobalquickcreate');
    var $v_2 = !(IsNullOrEmptyString($v_1) || $v_1 === 'false');
    var $v_3 = ($v_2) ? 7 : 1;
    Mscrm.TurboForm.Control.PageBootstrapper.$EK('', $v_3);
    Mscrm.TurboForm.Control.PageBootstrapper.$F0();
}
Mscrm.TurboForm.Control.PageBootstrapper.$F0 = function() {
    setPerformanceMarkerTimestamp('Page response received time');
    setPerformanceMarkerTimestamp('Data Request Start Time');
    var $v_0 = Xrm.Internal.startMetricsStopwatch('Send Form Data Request');
    $v_0.start();
    window.turboFormData = null;
    var $v_1 = Mscrm.TurboForm.Control.PageBootstrapper.$HG();
    if (window.fetch) {
        var $v_2 = new Object();
        $v_2.credentials = 'same-origin';
        fetch($v_1.toString(), $v_2).then(function($p1_0) {
            var $v_4 = $p1_0;
            $v_4.json().then(function($p2_0) {
                if ($v_4.ok) {
                    Mscrm.TurboForm.Control.PageBootstrapper.$F9($p2_0);
                }
                else {
                    Xrm.Internal.trace.error('PageBootstrapper', 'Unable to retrieve URL [Request Failed] - {0}: {1} {2}', $v_4.status, $v_1, $v_4.statusText);
                }
            }, function($p2_0) {
                return Xrm.Internal.trace.error('PageBootstrapper', 'Failure parsing data JSON: {0}', $p2_0.message);
            });
        }, function($p1_0) {
            return Mscrm.CrmDebug.fail(String.format('Unable to retrieve URL {0}: {1}', $v_1, $p1_0.message));
        });
    }
    else {
        var $v_5 = function($p1_0) {
            var $v_6 = Mscrm.TurboForm.Control.PageBootstrapper.$9v($p1_0);
            Mscrm.TurboForm.Control.PageBootstrapper.$F9($v_6);
        };
        requestPage($v_1.toString(), $v_5, true);
    }
    $v_0.stop();
    setPerformanceMarkerTimestamp('Data Request End Time');
}
Mscrm.TurboForm.Control.PageBootstrapper.$F9 = function($p0) {
    window.turboFormData=$p0;
    var $v_0 = window.frameElement;
    if (!Mscrm.InternalUtilities.JSTypes.isNull($v_0)) {
        window.top.turboFormData=$p0;
    }
}


Mscrm.TurboForm.Control.PageManager = function() {
    this.$$d_finishUIUpdate = Function.createDelegate(this, this.finishUIUpdate);
    this.$2J_1 = [];
    this.$BP_1 = new Mscrm.LocalStorageNamespace('Config/Client');
    Mscrm.TurboForm.Control.PageManager.initializeBase(this);
    this.dataManager = new Mscrm.TurboForm.Control.DataManager();
    this.$2c_1 = new Mscrm.TurboForm.Control.SubGridInitManager();
}
Mscrm.TurboForm.Control.PageManager.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.PageManager.$7) || Mscrm.TurboForm.Control.PageManager.$7.isDisposed) {
        Mscrm.TurboForm.Control.PageManager.$7 = new Mscrm.TurboForm.Control.PageManager();
    }
    return Mscrm.TurboForm.Control.PageManager.$7;
}
Mscrm.TurboForm.Control.PageManager.getQuickFormViewModel = function(uniqueId, forceInitialize) {
    if (IsNull(forceInitialize)) {
        forceInitialize = true;
    }
    var $v_0 = Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.getPageUI().$46_1;
    var $v_1 = null;
    for (var $v_2 = 0; $v_2 < $v_0.getLength(); $v_2++) {
        var $v_3 = $v_0.getByIndex($v_2);
        if (Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.isInstanceOfType($v_3)) {
            var $v_4 = $v_3;
            if (uniqueId === $v_4.$n_4 || uniqueId === $v_4.get_formDataEntityId()) {
                if (forceInitialize && !$v_4.$6I_4) {
                    Mscrm.TurboForm.Control.PageManager.get_instance().startUIUpdate();
                    $v_4.initialize();
                    Mscrm.TurboForm.Control.PageManager.get_instance().finishUIUpdate();
                }
                $v_1 = $v_4;
                break;
            }
        }
    }
    return $v_1;
}
Mscrm.TurboForm.Control.PageManager.$KK = function() {
    try {
        var $v_0 = (Mscrm.TurboForm.Control.PageManager.get_instance()) ? Mscrm.TurboForm.Control.PageManager.get_instance().$D_1 : null;
        if ($v_0) {
            window.top.DialogLoadFinishTimeStamp = (new Date()).getTime();
            window.top.DialogFormId = $v_0.primaryFormId.toString();
            var $v_1 = $v_0.descriptors;
            if ($v_1 && $v_1.length > 0) {
                var $v_2 = $v_1[0];
                var $v_3 = $v_2.UIDescriptor;
                var $v_4 = ($v_3.Tabs && $v_3.Tabs.length > 1) ? true : false;
                var $v_5 = ($v_3) ? JSON.stringify($v_3.EventHandlers) : '';
                window.top.IsMultiPageDialog = $v_4;
                window.top.EventHandlersJson = $v_5;
            }
            Mscrm.MetricsCollector.collectAndReportClientMetrics(8);
        }
    }
    catch ($v_6) {
        Mscrm.Utilities.reportScriptErrorInTelemetryCode('ReportDialogLoadFinish', $v_6, false);
    }
}
Mscrm.TurboForm.Control.PageManager.$GN = function() {
    Mscrm.TurboForm.Control.CommandService.get_instance().checkState();
}
Mscrm.TurboForm.Control.PageManager.prototype = {
    dataManager: null,
    $2c_1: null,
    $94_1: false,
    $D_1: null,
    $L_1: null,
    $AJ_1: 0,
    $7K_1: 0,
    $AN_1: false,
    
    get_pageState: function() {
        return this.$D_1;
    },
    
    set_pageState: function(value) {
        this.$D_1 = value;
        return value;
    },
    
    get_isForceNavigationAwaySet: function() {
        return Mscrm.ReadFormUtilities.get_forceNavigationAway();
    },
    
    $1l_1: null,
    $3R_1: null,
    
    get_processControlView: function() {
        return this.$3R_1;
    },
    
    get_primaryForm: function() {
        return this.$L_1;
    },
    
    get_activityFeedsState: function() {
        return (this.$D_1.formData) ? this.$D_1.formData.ActivityFeedsState : null;
    },
    
    get_dataManager: function() {
        return this.dataManager;
    },
    
    get_clientConfiguration: function() {
        return this.$BP_1;
    },
    
    get_subGridInitManager: function() {
        return this.$2c_1;
    },
    
    get_currentEventManager: function() {
        return $find('__Page_crmEventManager');
    },
    
    get_parentEventManager: function() {
        try {
            return window.parent.Sys.Application.findComponent('crmEventManager');
        }
        catch ($v_0) {
        }
        return null;
    },
    
    initialize: function(pageState) {
        if (!IsNull(pageState)) {
            this.$D_1 = pageState;
        }
        this.$Ec_1();
        this.$L_1 = new Mscrm.TurboForm.Control.Form();
        this.$L_1.initialize(this.getFormDescriptor(this.$D_1.primaryFormId), this.$D_1.recordId);
        Xrm.Page.data = new Mscrm.FormControls.ClientApi.XrmTurboFormData(this.$L_1.getPageData());
        Xrm.Page.ui = new Mscrm.FormControls.ClientApi.XrmTurboFormUI(this.$L_1.getPageUI());
        if (!isOutlookHostedWindow()) {
            addHandlerToWindow('beforeunload', Mscrm.TurboForm.Control.CommandService.get_instance().$$d_$KT_1);
        }
        var $$t_1 = this;
        this.$AJ_1 = window.setInterval(function() {
            Mscrm.TurboForm.Control.PageManager.$GN();
        }, 1000);
    },
    
    bindUI: function() {
        this.$L_1.bindUI();
    },
    
    bindEmptyData: function(pageState) {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('Bind Data');
        $v_0.start();
        this.$D_1 = pageState;
        this.$L_1.bindEmptyData();
        this.$L_1.executeOnLoad();
        $v_0.stop();
    },
    
    bindData: function(pageState) {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('Bind Data');
        $v_0.start();
        this.$D_1 = pageState;
        if (pageState.formType !== 7) {
            this.$Gb_1();
        }
        this.$L_1.bindData(pageState.formData);
        window.top.document.title = pageState.formData._readFormTitle;
        var $v_1 = {};
        window.self._aWrpcTokens = $v_1;
        for (var $v_3 = 0; $v_3 < pageState.wrpcTokenData.length; $v_3++) {
            var $v_4 = pageState.wrpcTokenData[$v_3];
            $v_1[$v_4.Url] = $v_4;
        }
        var $v_2 = Xrm.Internal.startMetricsStopwatch('Bind FormData to Process Control');
        $v_2.start();
        this.$Ik_1();
        this.$Jt_1();
        this.$Gr_1();
        $v_2.stop();
        if (pageState.formType !== 7) {
            Mscrm.TurboForm.Control.CommandBarManager.get_instance().initializeCommandBar();
        }
        Xrm.Internal.executeOnXrmReadyEventHandlers();
        this.$L_1.executeOnLoad();
        $v_0.stop();
    },
    
    getFormDescriptor: function(formId) {
        if (!IsNull(this.$D_1)) {
            for (var $$arr_1 = this.$D_1.descriptors, $$len_2 = $$arr_1.length, $$idx_3 = 0; $$idx_3 < $$len_2; ++$$idx_3) {
                var $v_0 = $$arr_1[$$idx_3];
                var $v_1 = new Microsoft.Crm.Client.Core.Framework.Guid($v_0.FormId.toString());
                if ($v_1.equals(formId)) {
                    return $v_0;
                }
            }
        }
        return null;
    },
    
    getFormHtml: function(templateKey) {
        if (!IsNull(this.$D_1.templates)) {
            for (var $$arr_1 = this.$D_1.templates, $$len_2 = $$arr_1.length, $$idx_3 = 0; $$idx_3 < $$len_2; ++$$idx_3) {
                var $v_0 = $$arr_1[$$idx_3];
                if (!IsNull($v_0) && $v_0.Key === templateKey) {
                    return $v_0.Value;
                }
            }
        }
        return '';
    },
    
    raiseGlobalPageLoadedEvent: function() {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('Fire Global PageLoaded Event');
        $v_0.start();
        var $v_1 = {};
        $v_1['sourceUri'] = Mscrm.CrmUri.create(window.location.href);
        var $v_2 = $find('crmPageManager');
        $v_2.raiseEvent(9, $v_1);
        $v_0.stop();
    },
    
    registerForm: function(form) {
        for (var $v_0 = 0; $v_0 < this.$2J_1.length; $v_0++) {
            if (this.$2J_1[$v_0] === form) {
                return;
            }
        }
        this.$2J_1[this.$2J_1.length] = form;
    },
    
    unregisterForm: function(form) {
        for (var $v_0 = 0; $v_0 < this.$2J_1.length; $v_0++) {
            if (this.$2J_1[$v_0] === form) {
                this.$2J_1[$v_0] = null;
            }
        }
    },
    
    internalDispose: function() {
        window.clearInterval(this.$AJ_1);
        if (!isOutlookHostedWindow()) {
            removeHandlerFromWindow('beforeunload', Mscrm.TurboForm.Control.CommandService.get_instance().$$d_$KT_1);
        }
        if (!Mscrm.InternalUtilities.JSTypes.isNull(this.$1l_1)) {
            this.$1l_1.dispose();
            this.$1l_1 = null;
        }
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    $Ec_1: function() {
        this.startUIUpdate(false);
    },
    
    startUIUpdate: function(autoPublish) {
        if (this.$94_1) {
            return;
        }
        if (IsNull(autoPublish)) {
            autoPublish = true;
        }
        if (autoPublish) {
            window.setTimeout(this.$$d_finishUIUpdate, 15);
        }
        this.$94_1 = true;
    },
    
    finishUIUpdate: function() {
        this.$7K_1++;
        var $v_0 = null;
        if (!this.$AN_1) {
            setPerformanceMarkerTimestamp(String.format('UI Update {0} Start Time', this.$7K_1));
            $v_0 = Xrm.Internal.startMetricsStopwatch(String.format('UI Update {0}', this.$7K_1));
            $v_0.start();
        }
        this.$94_1 = false;
        for (var $v_1 = 0; $v_1 < this.$2J_1.length; $v_1++) {
            var $v_2 = this.$2J_1[$v_1];
            if (!IsNull($v_2)) {
                $v_2.flushVisibilityChanges();
            }
        }
        if ($v_0) {
            $v_0.stop();
            setPerformanceMarkerTimestamp(String.format('UI Update {0} End Time', this.$7K_1));
        }
        window.top.TurboFormLoadStartTime = null;
    },
    
    handlePostOnLoad: function() {
        Mscrm.Performance.PerformanceMarkerManager.get_instance().addMarker('MDDEnd', 1);
        try {
            var $v_0 = Xrm.Internal.startMetricsStopwatch('Post OnLoad UI Update');
            $v_0.start();
            this.finishUIUpdate();
            $v_0.stop();
        }
        finally {
            this.$J1_1();
            this.updateFormDirtyState();
            if ($v()) {
                Mscrm.TurboForm.Control.PageManager.$KK();
            }
            try {
                if (isOutlookHostedWindow()) {
                    getOutlookHostedWindow().handlePostOnLoad();
                }
            }
            catch ($$e_1) {
            }
        }
    },
    
    bindSubGridData: function() {
        if (this.$D_1.formType !== 7) {
            Mscrm.TurboForm.Control.PageManager.get_instance().$2c_1.executeInitDeferredStatements();
            if (this.$D_1.recordId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) {
                Mscrm.TurboForm.Control.PageManager.get_instance().$2c_1.initializeSubGrids();
            }
            this.dataManager.bindSubGridData();
        }
    },
    
    loadActionHubIframe: function() {
        if (!window.IS_ACTIONHUB_ENABLED) {
            return;
        }
        if (window.location.href.toLowerCase().indexOf('dialogpage.aspx') !== -1) {
            return;
        }
        var $v_0 = $get('iFrmActionCards');
        if (!IsNull($v_0)) {
            if ($v_0.getAttribute('src') && ($v_0.getAttribute('src').toString() === 'about:blank')) {
                $v_0.setAttribute('src', Mscrm.TurboForm.Control.PageManager.$BE);
            }
            else {
                $v_0.setAttribute('src', 'about:blank');
                $v_0.setAttribute('data-src', Mscrm.TurboForm.Control.PageManager.$BE);
            }
        }
        var $v_1 = Mscrm.CrmUri.create('/_controls/actionhubcontrol/actionhubcontroltemplate.aspx');
        var $v_2 = {};
        $v_2['wallContentPageUrl'] = $v_1.toString();
        $v_2['masterComponentId'] = 'notescontrol';
        crmCreate(Mscrm.ActionHubControl.ActionHubControl, $v_2, null, null, $get('actionhubcontrol_notescontrol_container'));
    },
    
    get_sfaTabsInitDeferredStatements: function() {
        return this.$D_1.sfaTabsInitDeferredStatements;
    },
    
    get_caseSFATabsInitDeferredStatements: function() {
        return this.$D_1.caseSFATabsInitDeferredStatements;
    },
    
    $J1_1: function() {
        this.$AN_1 = true;
        setPerformanceMarkerTimestamp('ControlsInitializationCompleteTimestamp');
        Mscrm.Performance.PerformanceMarkerManager.get_instance().addMarker('ControlsInitializationCompleteTimestamp', 1);
        window.self.ControlsInitializationCompleteTimezoneOffset = new Date().getTimezoneOffset();
    },
    
    $Gb_1: function() {
        var $v_0 = '';
        if (!Mscrm.InternalUtilities.JSTypes.isNull(this.$D_1.recordId) && this.$D_1.recordId !== Microsoft.Crm.Client.Core.Framework.Guid.get_empty()) {
            $v_0 = '{' + this.$D_1.recordId.toString().toUpperCase() + '}';
        }
        var $v_1 = { id: 'PrimaryEntity', recordId: $v_0, typeName: this.$D_1.entityName, relationshipName: '' };
        Mscrm.CrmUIComponent.crmCreate(Mscrm.FormDataEntity, $v_1, null, null, null);
    },
    
    initializeProcessControl: function(pageState) {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('InitializeProcessControl');
        $v_0.start();
        var $v_1 = null;
        if (typeof(ProcessControl) !== 'undefined' && !IsNull(pageState.ProcessControlRule)) {
            this.$1l_1 = new ProcessControl.Services.ProcessControlInitializer(true);
            $v_1 = this.$1l_1.processLayout(pageState.ProcessControlRule, pageState.entityMetadata);
        }
        this.$EL_1($v_1);
        $v_0.stop();
    },
    
    $Ik_1: function() {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('LoadProcessControl');
        $v_0.start();
        if (this.$1l_1) {
            if (this.$By_1()) {
                this.$D_1.formData._processControlDataKey._processStages = this.$D_1.ProcessControlRule._processStages;
                this.$D_1.formData._processControlDataKey._processControlStrings = this.$D_1.ProcessControlRule._processControlStrings;
                this.$D_1.formData._processControlDataKey._warningCode = this.$D_1.ProcessControlRule._warningCode;
                this.$D_1.formData._processControlDataKey._warning = this.$D_1.ProcessControlRule._warning;
                this.$3R_1 = this.$1l_1.initialize(this.$D_1.formData);
                if (!Mscrm.InternalUtilities.JSTypes.isNull(this.$3R_1)) {
                    this.$1l_1.render();
                }
            }
            else {
                this.$EL_1(null);
            }
        }
        $v_0.stop();
    },
    
    $Jt_1: function() {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('ProcessControl.PostInitialize');
        $v_0.start();
        if (this.$1l_1 && this.$By_1()) {
            this.$1l_1.postInitialize(this.$D_1.entityMetadata);
        }
        $v_0.stop();
    },
    
    $Gr_1: function() {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('FinalizeProcessControl');
        $v_0.start();
        if (this.$1l_1 && this.$By_1()) {
            this.$1l_1.completeInitialization();
        }
        $v_0.stop();
    },
    
    $EL_1: function($p0) {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('ProcessControl.InitializePageObjects');
        $v_0.start();
        if ($p0) {
            Xrm.Page.ui.process = new Mscrm.ProcessControlUIWrapper($p0);
            Xrm.Page.data.process = new Mscrm.ProcessControlDataWrapper($p0);
        }
        else {
            if (!Mscrm.InternalUtilities.JSTypes.isNull(Mscrm.NullProcessControlData)) {
                Xrm.Page.data.process = new Mscrm.NullProcessControlData();
            }
        }
        $v_0.stop();
    },
    
    $By_1: function() {
        if (Mscrm.InternalUtilities.JSTypes.isNull(this.$D_1.formData._processControlDataKey) || (!Microsoft.Crm.Client.Core.Framework.Guid.get_empty().equals(this.$D_1.recordId) && (Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(this.$D_1.formData._processControlDataKey._globalNavigationData.businessProcessInstanceId) || Microsoft.Crm.Client.Core.Framework.Guid.get_empty().equals(this.$D_1.formData._processControlDataKey._globalNavigationData.businessProcessInstanceId))) || Mscrm.InternalUtilities.JSTypes.isNull(this.$D_1.ProcessControlRule) || Mscrm.InternalUtilities.JSTypes.isNull(this.$D_1.ProcessControlRule._processStages)) {
            return false;
        }
        return true;
    },
    
    getGlobalQuickCreateTimestampDictionary: function(elementId) {
        var $v_0 = null;
        var $v_1 = String.format('globalqctimestamps_{0}', elementId);
        if (!IsNull(this.$D_1.formData)) {
            $v_0 = this.$D_1.formData[$v_1];
        }
        return $v_0;
    },
    
    updateFormDirtyState: function() {
        var $v_0 = this.$L_1.getPageData().getEntity();
        if (!IsNull($v_0) && $v_0.get_isNew()) {
            Xrm.Page.data.setFormDirty(false);
        }
    }
}


Mscrm.TurboForm.Control.PageNavigation = function() {
    Mscrm.TurboForm.Control.PageNavigation.initializeBase(this);
}
Mscrm.TurboForm.Control.PageNavigation.prototype = {
    $8R_1: null,
    $4d_1: null,
    
    get_formNavControl: function() {
        return this.$4d_1;
    },
    
    initialize: function() {
        try {
            this.$4d_1 = eval(navBarData);
        }
        catch ($$e_0) {
        }
        var $v_0 = {};
        $v_0['formNavControl'] = 'crmNavBar';
        var $v_1 = $create(Mscrm.FormUINavigationBar, null, null, $v_0, null);
        this.$8R_1 = $v_1.get_items();
    },
    
    get_items: function() {
        return this.$8R_1;
    }
}


Mscrm.TurboForm.Control.PageState = function() {
    this.navigationFormId = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
    this.primaryFormId = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
    this.recordId = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
    this.processId = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
    this.createFromId = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
}
Mscrm.TurboForm.Control.PageState.prototype = {
    formData: null,
    layoutReady: false,
    formDataResponseAfterParse: null,
    etc: null,
    entityName: null,
    containerId: null,
    processTimestamp: 0,
    isCrossEntityCreate: false,
    isCrossEntityNavigate: false,
    businessRulesVersion: '',
    descriptors: null,
    commandBarData: null,
    wrpcTokenData: null,
    entityMetadata: null,
    formType: 0,
    createFromType: null,
    applicationInitDeferredStatements: null,
    sfaTabsInitDeferredStatements: null,
    caseSFATabsInitDeferredStatements: null,
    opened: null,
    ProcessControlRule: null,
    FormVersion: 0,
    templates: null,
    InlineEditSubGrids: null,
    RegardingLookupState: null,
    ActivityPartyState: null,
    attributeMappingXml: null,
    entityDisplayName: null,
    
    get_isFormHierarchyEnabled: function() {
        if (IsNull(this.formData)) {
            return false;
        }
        else {
            return Mscrm.Utilities.parseBoolean(this.formData._entity.isRecordHierarchyEnabled);
        }
    },
    
    isCustomImagePresentInDatabase: false,
    ControlDescriptor: null
}


Mscrm.TurboForm.Control.ProcessControlBootstrapper = function() {
}
Mscrm.TurboForm.Control.ProcessControlBootstrapper.initializeProcessState = function($p0) {
    var $v_0 = GetHashValue('process');
    var $v_1 = GetHashValue('isCrossEntityNavigate');
    $p0.isCrossEntityNavigate = (IsNullOrEmptyString($v_1)) ? false : Boolean.parse($v_1.toLowerCase());
    $p0.processId = (IsNullOrEmptyString($v_0)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : new Microsoft.Crm.Client.Core.Framework.Guid($v_0);
    var $v_2 = GetHashValue('processts');
    $p0.processTimestamp = (IsNullOrEmptyString($v_2)) ? 0 : parseInt($v_2);
    $p0.isCrossEntityCreate = $p0.recordId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty()) && !$p0.processId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty());
    if ($p0.formType !== 7) {
        var $v_3 = Xrm.Internal.startMetricsStopwatch('Update ProcessId From Local Storage');
        $v_3.start();
        Mscrm.TurboForm.Control.ProcessControlBootstrapper.$LS($p0);
        $v_3.stop();
    }
}
Mscrm.TurboForm.Control.ProcessControlBootstrapper.$LS = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheKey();
    $v_0.set_entityLogicalName($p0.entityName);
    $v_0.set_recordId(null);
    if (!$p0.recordId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) {
        $v_0.set_recordId($p0.recordId.toString());
    }
    var $v_1 = Mscrm.TurboForm.Common.BusinessProcessClientCache.get_instance().retrieve($v_0);
    if (!$v_1) {
        $v_0.set_recordId(null);
        $v_1 = Mscrm.TurboForm.Common.BusinessProcessClientCache.get_instance().retrieve($v_0);
    }
    if ($v_1) {
        if ($p0.processId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) {
            $p0.processId = new Microsoft.Crm.Client.Core.Framework.Guid($v_1.get_processId());
            $p0.processTimestamp = parseInt($v_1.get_processTimestamp());
        }
        else if ($p0.processId.equals(new Microsoft.Crm.Client.Core.Framework.Guid($v_1.get_processId()))) {
            var $v_2 = parseInt($v_1.get_processTimestamp());
            $p0.processTimestamp = Math.max($p0.processTimestamp, $v_2);
        }
    }
}
Mscrm.TurboForm.Control.ProcessControlBootstrapper.bindProcessId = function($p0) {
    var $v_0 = Mscrm.CrmUri.create($p0.formData._formlayoutUrl);
    var $v_1 = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
    if (!Mscrm.InternalUtilities.JSTypes.isNull($p0.ProcessControlRule) && !Mscrm.InternalUtilities.JSTypes.isNull($p0.ProcessControlRule._processId)) {
        $v_1 = new Microsoft.Crm.Client.Core.Framework.Guid($p0.ProcessControlRule._processId);
    }
    var $v_2 = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
    if (!Mscrm.InternalUtilities.JSTypes.isNull($p0.formData._processControlDataKey) && !Mscrm.InternalUtilities.JSTypes.isNull($p0.formData._processControlDataKey._processId)) {
        $v_2 = new Microsoft.Crm.Client.Core.Framework.Guid($p0.formData._processControlDataKey._processId);
    }
    if (!$p0.isCrossEntityCreate) {
        Mscrm.TurboForm.Control.ProcessControlBootstrapper.$KV($p0, $v_0);
    }
    $p0.processId = $v_2;
    return $v_1.equals($v_2);
}
Mscrm.TurboForm.Control.ProcessControlBootstrapper.$KV = function($p0, $p1) {
    var $v_0 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheKey();
    $v_0.$8C_0 = $p0.entityName;
    $v_0.$10_0 = null;
    if (!$p0.recordId.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) {
        $v_0.$10_0 = $p0.recordId.toString();
    }
    var $v_1 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheValue();
    $v_1.$8h_0 = $p0.processId.toString();
    var $v_2 = $p1.get_query()['processts'];
    $v_1.$8i_0 = (Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString($v_2)) ? '0' : $v_2;
    Mscrm.TurboForm.Common.BusinessProcessClientCache.get_instance().update($v_0, $v_1);
}


Mscrm.TurboForm.Control.RegardingLookupState = function() {
    this.regardingId = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
    Mscrm.TurboForm.Control.RegardingLookupState.initializeBase(this);
}
Mscrm.TurboForm.Control.RegardingLookupState.prototype = {
    regardingType: 0,
    regardingName: null,
    parentLookupControlId: null,
    searchText: null
}


Mscrm.TurboForm.Control.ActivityPartyState = function() {
    this.partyId = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
    this.regardingId = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
    Mscrm.TurboForm.Control.ActivityPartyState.initializeBase(this);
}
Mscrm.TurboForm.Control.ActivityPartyState.prototype = {
    partyType: 0,
    partyName: null,
    regardingType: 0,
    regardingName: null
}


Mscrm.TurboForm.Control.SubGridInitManager = function() {
    this.$5Z_1 = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(Function))();
    this.$8L_1 = new Array(0);
    Mscrm.TurboForm.Control.SubGridInitManager.initializeBase(this);
}
Mscrm.TurboForm.Control.SubGridInitManager.prototype = {
    
    registerSubGrid: function(subGridId, call) {
        if (isNullOrEmptyString(subGridId) || IsNull(call)) {
            return;
        }
        this.$5Z_1.set_item(subGridId, call);
    },
    
    initializeSubGrids: function() {
        if (!this.$5Z_1.count()) {
            return;
        }
        var $v_0 = this.$5Z_1.getKeys();
        for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
            var $v_2 = this.$5Z_1.get_item($v_0[$v_1]);
            $v_2();
        }
    },
    
    executeInitDeferredStatements: function() {
        for (var $$arr_0 = this.$8L_1, $$len_1 = $$arr_0.length, $$idx_2 = 0; $$idx_2 < $$len_1; ++$$idx_2) {
            var $v_0 = $$arr_0[$$idx_2];
            eval($v_0);
        }
        this.$8L_1 = new Array(0);
    },
    
    registerInitDeferredStatement: function(statement) {
        this.$8L_1.push(statement);
    },
    
    requestSubGridData: function(pageState) {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('Request SubGrid Data');
        $v_0.start();
        var $v_1 = Mscrm.TurboForm.Control.PageManager.get_instance().getFormDescriptor(pageState.primaryFormId);
        var $v_2 = $v_1.SubGrids;
        var $v_3 = false;
        var $v_4 = Mscrm.TurboForm.Control.PageManager.get_instance().$BP_1.get_item('Grids/DisableLazyLoad');
        if (isNullOrEmptyString($v_4)) {
            $v_3 = Xrm.Internal.isFeatureEnabled('FCB.LazyLoadSubgrids');
        }
        else {
            $v_3 = $v_4 === 'false';
        }
        if (!$v_3) {
            Xrm.Internal.trace.warningT(Mscrm.TurboForm.Control.SubGridInitManager, 'grid lazy loading is disabled');
        }
        Mscrm.MetricsReporting.instance().addMetric('Perf.Client.SubGrid.LazyLoadState', { enabled: $v_3 });
        if (!$v_3) {
            Xrm.Internal.trace.logT(Mscrm.TurboForm.Control.SubGridInitManager, 'PageBootstrapper', 'starting data for all grids');
            Mscrm.TurboForm.Control.PageManager.get_instance().dataManager.requestMultiSubGridData($v_2, pageState.recordId, pageState.etc);
        }
        else {
            for (var $$arr_6 = $v_2, $$len_7 = $$arr_6.length, $$idx_8 = 0; $$idx_8 < $$len_7; ++$$idx_8) {
                var $v_5 = $$arr_6[$$idx_8];
                var $v_6 = $get($v_5);
                Mscrm.MetricsReporting.instance().addMetric('Perf.Client.SubGrid.Discovered', { grid: $v_5, entity: pageState.entityName, form: pageState.primaryFormId.toString() });
                if ($v_3 && !IsNull($v_6)) {
                    var $$t_F = this, $$t_G = this;
                    Mscrm.TurboForm.Control.PageBootstrapper.$2f.deferredInit($v_1, $v_6, function($p1_0) {
                        return $$t_F.$EI_1(pageState, $p1_0.id, 1, $v_3);
                    }, function($p1_0) {
                        return $$t_G.$EI_1(pageState, $p1_0.id, 0, $v_3);
                    });
                }
            }
        }
        $v_0.stop();
    },
    
    $EI_1: function($p0, $p1, $p2, $p3) {
        Xrm.Internal.trace.logT(Mscrm.TurboForm.Control.SubGridInitManager, 'Instant = {0} init of subgrid {1}', !$p2, $p1);
        Mscrm.MetricsReporting.instance().addMetric('Perf.Client.SubGrid.Init', { grid: $p1, instantly: !$p2, entity: $p0.entityName, form: $p0.primaryFormId.toString() });
        if ($p3) {
            Xrm.Internal.trace.logT(Mscrm.TurboForm.Control.SubGridInitManager, 'PageBootstrapper', 'starting data for grid {0}...', $p1);
            Mscrm.TurboForm.Control.PageManager.get_instance().dataManager.requestSubGridData($p1, $p0.recordId, $p0.etc);
        }
    },
    
    internalDispose: function() {
        this.$5Z_1.clear();
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    }
}


Type.registerNamespace('Mscrm.TurboForm.Common');

Mscrm.TurboForm.Common.IBusinessProcessClientCache = function() {}
Mscrm.TurboForm.Common.IBusinessProcessClientCache.registerInterface('Mscrm.TurboForm.Common.IBusinessProcessClientCache');


Mscrm.TurboForm.Common.IBusinessProcessClientCacheData = function() {}
Mscrm.TurboForm.Common.IBusinessProcessClientCacheData.registerInterface('Mscrm.TurboForm.Common.IBusinessProcessClientCacheData');


Mscrm.TurboForm.Common.IBusinessProcessClientCacheDataSerializer = function() {}
Mscrm.TurboForm.Common.IBusinessProcessClientCacheDataSerializer.registerInterface('Mscrm.TurboForm.Common.IBusinessProcessClientCacheDataSerializer');


Mscrm.TurboForm.Common.IBusinessProcessClientCacheKey = function() {}
Mscrm.TurboForm.Common.IBusinessProcessClientCacheKey.registerInterface('Mscrm.TurboForm.Common.IBusinessProcessClientCacheKey');


Mscrm.TurboForm.Common.IBusinessProcessClientCacheValue = function() {}
Mscrm.TurboForm.Common.IBusinessProcessClientCacheValue.registerInterface('Mscrm.TurboForm.Common.IBusinessProcessClientCacheValue');


Mscrm.TurboForm.Common.IDomUtilityProxy = function() {}
Mscrm.TurboForm.Common.IDomUtilityProxy.registerInterface('Mscrm.TurboForm.Common.IDomUtilityProxy');


Mscrm.TurboForm.Common.IProcessIdRequestManager = function() {}
Mscrm.TurboForm.Common.IProcessIdRequestManager.registerInterface('Mscrm.TurboForm.Common.IProcessIdRequestManager');


Mscrm.TurboForm.Common.ICrmLocalStorageProxy = function() {}
Mscrm.TurboForm.Common.ICrmLocalStorageProxy.registerInterface('Mscrm.TurboForm.Common.ICrmLocalStorageProxy');


Mscrm.TurboForm.Common.FormControlClassIdString = function() {
}


Mscrm.TurboForm.Common.FormControlClassId = function() {
}


Mscrm.TurboForm.Common.BusinessProcessClientCache = function() {
}
Mscrm.TurboForm.Common.BusinessProcessClientCache.get_instance = function() {
    return Mscrm.TurboForm.Common.BusinessProcessClientCache.$22 || (Mscrm.TurboForm.Common.BusinessProcessClientCache.$22 = new Mscrm.TurboForm.Common.BusinessProcessClientCache());
}
Mscrm.TurboForm.Common.BusinessProcessClientCache.set_instance = function(value) {
    Mscrm.TurboForm.Common.BusinessProcessClientCache.$22 = value;
    return value;
}
Mscrm.TurboForm.Common.BusinessProcessClientCache.prototype = {
    $35_0: null,
    
    $EJ_0: function() {
        if (!this.$35_0) {
            var $v_0 = this.get_crmLocalStorageProxy().getItem('Microsoft.Crm.BusinessProcessClientCache');
            if (!IsNullOrEmptyString($v_0)) {
                this.$35_0 = this.get_cacheDataSerializer().deserialize($v_0);
            }
            if (IsNull(this.$35_0)) {
                this.$35_0 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheData();
            }
        }
    },
    
    retrieve: function(key) {
        this.$EJ_0();
        return this.$35_0.retrieve(key);
    },
    
    update: function(key, value) {
        this.$EJ_0();
        this.$35_0.update(key, value);
        var $v_0 = this.get_cacheDataSerializer().serialize(this.$35_0);
        try {
            this.get_crmLocalStorageProxy().setItem('Microsoft.Crm.BusinessProcessClientCache', $v_0);
        }
        catch ($$e_3) {
            this.get_crmLocalStorageProxy().clear();
            this.get_crmLocalStorageProxy().setItem('Microsoft.Crm.BusinessProcessClientCache', $v_0);
        }
    },
    
    $38_0: null,
    
    get_crmLocalStorageProxy: function() {
        return this.$38_0 || (this.$38_0 = new Mscrm.TurboForm.Common.CrmLocalStorageProxy());
    },
    
    set_crmLocalStorageProxy: function(value) {
        this.$38_0 = value;
        return value;
    },
    
    $80_0: null,
    
    get_cacheDataSerializer: function() {
        return this.$80_0 || (this.$80_0 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheDataSerializer());
    },
    
    set_cacheDataSerializer: function(value) {
        this.$80_0 = value;
        return value;
    }
}


Mscrm.TurboForm.Common.BusinessProcessClientCacheData = function() {
}
Mscrm.TurboForm.Common.BusinessProcessClientCacheData.prototype = {
    $8j_0: null,
    
    $FU_0: function($p0, $p1) {
        var $v_0 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheKey();
        $v_0.set_entityLogicalName($p0.get_entityLogicalName());
        $v_0.set_recordId('MRU');
        var $v_1 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheValue();
        $v_1.set_processId($p1.processId);
        $v_1.set_processTimestamp($p1.processTimestamp);
        this.update($v_0, $v_1);
    },
    
    get_recordsByEntityLogicalNameAndRecordId: function() {
        return this.$8j_0 || (this.$8j_0 = {});
    },
    
    set_recordsByEntityLogicalNameAndRecordId: function(value) {
        this.$8j_0 = value;
        return value;
    },
    
    retrieve: function(key) {
        var $v_0 = null;
        if (!key) {
            return null;
        }
        var $v_1 = Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(key.get_entityLogicalName());
        var $v_2 = ((key.get_entityLogicalName()) in this.get_recordsByEntityLogicalNameAndRecordId());
        if (!$v_1 && $v_2) {
            var $v_3 = this.get_recordsByEntityLogicalNameAndRecordId()[key.get_entityLogicalName()];
            var $v_4 = Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(key.get_recordId());
            var $v_5 = ((key.get_recordId()) in $v_3);
            var $v_6 = (('CREATE') in $v_3);
            var $v_7;
            if (!$v_4 && $v_5) {
                $v_7 = $v_3[key.get_recordId()];
                this.$FU_0(key, $v_7);
            }
            else if ($v_4 && $v_6) {
                $v_7 = $v_3['CREATE'];
                this.$FU_0(key, $v_7);
            }
            else {
                $v_7 = $v_3['MRU'];
            }
            if (!$v_7) {
                return null;
            }
            $v_0 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheValue();
            $v_0.set_processId($v_7.processId);
            $v_0.set_processTimestamp($v_7.processTimestamp);
        }
        return $v_0;
    },
    
    update: function(key, value) {
        var $v_0 = _Script.isNullOrUndefined(key);
        if ($v_0) {
            return;
        }
        var $v_1 = Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(key.get_entityLogicalName());
        if ($v_1) {
            return;
        }
        var $v_2 = _Script.isNullOrUndefined(value);
        if ($v_2) {
            return;
        }
        var $v_3 = Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(value.get_processId());
        var $v_4 = Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(value.get_processTimestamp());
        if ($v_3 || $v_4) {
            return;
        }
        var $v_5 = Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(key.get_recordId());
        var $v_6 = 'CREATE';
        if (!$v_5) {
            $v_6 = key.get_recordId();
        }
        var $v_7 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheJsonData();
        $v_7.processId = value.get_processId();
        $v_7.processTimestamp = value.get_processTimestamp();
        var $v_8 = ((key.get_entityLogicalName()) in this.get_recordsByEntityLogicalNameAndRecordId());
        var $v_9;
        if (!$v_8) {
            $v_9 = {};
            this.get_recordsByEntityLogicalNameAndRecordId()[key.get_entityLogicalName()] = $v_9;
        }
        $v_9 = this.get_recordsByEntityLogicalNameAndRecordId()[key.get_entityLogicalName()];
        $v_9[$v_6] = $v_7;
    }
}


Mscrm.TurboForm.Common.BusinessProcessClientCacheDataSerializer = function() {
}
Mscrm.TurboForm.Common.BusinessProcessClientCacheDataSerializer.prototype = {
    
    deserialize: function(cacheDataValue) {
        var $v_0 = Sys.Serialization.JavaScriptSerializer.deserialize(cacheDataValue);
        var $v_1 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheData();
        $v_1.set_recordsByEntityLogicalNameAndRecordId($v_0);
        return $v_1;
    },
    
    serialize: function(cacheData) {
        return Sys.Serialization.JavaScriptSerializer.serialize(cacheData.get_recordsByEntityLogicalNameAndRecordId());
    }
}


Mscrm.TurboForm.Common.BusinessProcessClientCacheKey = function() {
}
Mscrm.TurboForm.Common.BusinessProcessClientCacheKey.prototype = {
    $8C_0: null,
    
    get_entityLogicalName: function() {
        return this.$8C_0;
    },
    
    set_entityLogicalName: function(value) {
        this.$8C_0 = value;
        return value;
    },
    
    $10_0: null,
    
    get_recordId: function() {
        return this.$10_0;
    },
    
    set_recordId: function(value) {
        this.$10_0 = value;
        return value;
    }
}


Mscrm.TurboForm.Common.BusinessProcessClientCacheValue = function() {
}
Mscrm.TurboForm.Common.BusinessProcessClientCacheValue.prototype = {
    $8h_0: null,
    
    get_processId: function() {
        return this.$8h_0;
    },
    
    set_processId: function(value) {
        this.$8h_0 = value;
        return value;
    },
    
    $8i_0: null,
    
    get_processTimestamp: function() {
        return this.$8i_0;
    },
    
    set_processTimestamp: function(value) {
        this.$8i_0 = value;
        return value;
    }
}


Mscrm.TurboForm.Common.CrmLocalStorageProxy = function() {
}
Mscrm.TurboForm.Common.CrmLocalStorageProxy.prototype = {
    
    getItem: function(key) {
        return Mscrm.CrmLocalStorage.getItem(key);
    },
    
    setItem: function(key, value) {
        Mscrm.CrmLocalStorage.setItem(key, value);
    },
    
    clear: function() {
        Mscrm.CrmLocalStorage.clear();
    }
}


Mscrm.TurboForm.Common.FilterRelationshipData = function(name, id, type, dependantAttributeName) {
    this.$1j_0 = name;
    this.$3t_0 = id;
    this.$5i_0 = type;
    this.$4n_0 = dependantAttributeName;
}
Mscrm.TurboForm.Common.FilterRelationshipData.prototype = {
    $4n_0: null,
    $1j_0: null,
    $3t_0: null,
    $5i_0: null,
    
    get_dependantAttributeName: function() {
        return this.$4n_0;
    },
    
    set_dependantAttributeName: function(value) {
        this.$4n_0 = value;
        return value;
    },
    
    get_name: function() {
        return this.$1j_0;
    },
    
    set_name: function(value) {
        this.$1j_0 = value;
        return value;
    },
    
    get_id: function() {
        return this.$3t_0;
    },
    
    set_id: function(value) {
        this.$3t_0 = value;
        return value;
    },
    
    get_relationshipType: function() {
        return this.$5i_0;
    },
    
    set_relationshipType: function(value) {
        this.$5i_0 = value;
        return value;
    }
}


Mscrm.TurboForm.Common.BusinessProcessClientCacheJsonData = function() {
}
Mscrm.TurboForm.Common.BusinessProcessClientCacheJsonData.prototype = {
    processId: null,
    processTimestamp: null
}


Mscrm.TurboForm.Common.DomUtilityProxy = function() {
}
Mscrm.TurboForm.Common.DomUtilityProxy.prototype = {
    
    getChildElementsByClassName: function(parent, className, onlyGetFirst) {
        var $v_0 = Mscrm.Utilities.getChildElementsByClassName(parent.get_element(), className, onlyGetFirst);
        var $v_1 = new Array($v_0.length);
        for (var $v_2 = 0; $v_2 < $v_0.length; $v_2++) {
            var $v_3 = new Mscrm.Proxies.DomElementProxy();
            $v_3.set_element($v_0[$v_2]);
            $v_1[$v_2] = $v_3;
        }
        return $v_1;
    }
}


Mscrm.TurboForm.Common.ProcessIdRequestManager = function() {
    this.$$d_$Jw_0 = Function.createDelegate(this, this.$Jw_0);
}
Mscrm.TurboForm.Common.ProcessIdRequestManager.get_instance = function() {
    return Mscrm.TurboForm.Common.ProcessIdRequestManager.$22 || (Mscrm.TurboForm.Common.ProcessIdRequestManager.$22 = new Mscrm.TurboForm.Common.ProcessIdRequestManager());
}
Mscrm.TurboForm.Common.ProcessIdRequestManager.prototype = {
    $5S_0: null,
    $4v_0: null,
    $7z_0: null,
    
    get_businessProcessClientCacheInstance: function() {
        return this.$7z_0 || (this.$7z_0 = Mscrm.TurboForm.Common.BusinessProcessClientCache.get_instance());
    },
    
    set_businessProcessClientCacheInstance: function(value) {
        this.$7z_0 = value;
        return value;
    },
    
    $86_0: null,
    
    get_domUtilityProxy: function() {
        return this.$86_0 || (this.$86_0 = new Mscrm.TurboForm.Common.DomUtilityProxy());
    },
    
    set_domUtilityProxy: function(value) {
        this.$86_0 = value;
        return value;
    },
    
    clearRecords: function() {
        this.$5S_0 = {};
        this.$4v_0 = {};
    },
    
    addRecord: function(recordId, entityType) {
        var $v_0 = Mscrm.Utilities.tryParseGuid(recordId);
        if (this.$5S_0) {
            if (!(($v_0) in this.$5S_0)) {
                this.$5S_0[$v_0] = $v_0;
            }
        }
        if (this.$4v_0) {
            if (!((entityType.toString()) in this.$4v_0)) {
                this.$4v_0[entityType.toString()] = entityType;
            }
        }
    },
    
    processSubGridHtml: function(gridDataArea) {
        var $v_0 = this.get_domUtilityProxy().getChildElementsByClassName(gridDataArea, 'gridLui', false);
        if ($v_0.length > 0 && !IsNull($v_0[0].getAttribute('otype'))) {
            var $v_1 = Number.parseInvariant($v_0[0].getAttribute('otype'));
            for (var $v_2 = 0; $v_2 < $v_0.length; $v_2++) {
                var $v_3 = $v_0[$v_2].getAttribute('isprocessenabled');
                var $v_4 = $v_0[$v_2].getAttribute('processid');
                var $v_5 = $v_0[$v_2].getAttribute('processts');
                if (!isNullOrEmptyString($v_3) && $v_3.toString().toLowerCase() === 'true' && isNullOrEmptyString($v_4) && isNullOrEmptyString($v_5)) {
                    this.addRecord($v_0[$v_2].getAttribute('oid'), $v_1);
                }
            }
        }
    },
    
    requestPidPtsWithLookupService: function() {
        var $v_0 = [];
        var $$dict_2 = this.$4v_0;
        for (var $$key_3 in $$dict_2) {
            var $v_4 = { key: $$key_3, value: $$dict_2[$$key_3] };
            Array.add($v_0, $v_4.value);
        }
        $v_0.type = 'int';
        var $v_1 = [];
        var $$dict_6 = this.$5S_0;
        for (var $$key_7 in $$dict_6) {
            var $v_5 = { key: $$key_7, value: $$dict_6[$$key_7] };
            Array.add($v_1, $v_5.value);
        }
        $v_1.type = 'string';
        if (!$v_0.length || !$v_1.length) {
            return;
        }
        var $v_2 = [];
        var $v_3 = [];
        $v_2.type = 'string';
        $v_3.type = 'int';
        this.get_retrieveItemCommand().setParameter('typesArray', $v_0);
        this.get_retrieveItemCommand().setParameter('guidValues', $v_1);
        this.get_retrieveItemCommand().setParameter('lookupValues', $v_2);
        this.get_retrieveItemCommand().setParameter('positions', $v_3);
        this.get_retrieveItemCommand().setParameter('additionalParameters', '');
        this.get_retrieveItemCommand().execute(this.$$d_$Jw_0);
    },
    
    processLookupControlItems: function(items) {
        if (IsNull(items)) {
            return;
        }
        for (var $v_0 = 0; $v_0 < items.length; $v_0++) {
            var $v_1 = items[$v_0];
            var $v_2 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheKey();
            $v_2.set_entityLogicalName($v_1.entityType);
            $v_2.set_recordId(Mscrm.Utilities.tryParseGuid($v_1.id));
            var $v_3 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheValue();
            if (!IsNull($v_1.keyValues)) {
                var $v_4 = $v_1.keyValues;
                if (!(Object.isInstanceOfType($v_1.keyValues))) {
                    $v_4 = Sys.Serialization.JavaScriptSerializer.deserialize($v_1.keyValues.toString());
                }
                var $v_5 = ($v_4['processid']);
                var $v_6 = ($v_4['processts']);
                var $v_7 = !IsNull($v_5) && !IsNull($v_6);
                if ($v_7 && !isNullOrEmptyString($v_5.value) && !isNullOrEmptyString($v_6.value)) {
                    $v_3.set_processId(Mscrm.Utilities.tryParseGuid($v_5.value));
                    $v_3.set_processTimestamp($v_6.value);
                    this.get_businessProcessClientCacheInstance().update($v_2, $v_3);
                }
            }
            else if (!isNullOrEmptyString($v_1.processId) && !isNullOrEmptyString($v_1.processTimestamp)) {
                $v_3.set_processId(Mscrm.Utilities.tryParseGuid($v_1.processId));
                $v_3.set_processTimestamp($v_1.processTimestamp);
                this.get_businessProcessClientCacheInstance().update($v_2, $v_3);
            }
        }
    },
    
    $5V_0: null,
    
    get_retrieveItemCommand: function() {
        if (IsNull(this.$5V_0)) {
            this.$5V_0 = new Mscrm.Proxies.RemoteCommandProxy();
            var $v_0 = new RemoteCommand('LookupService', 'RetrieveItem');
            this.$5V_0.set_element($v_0);
        }
        return this.$5V_0;
    },
    
    set_retrieveItemCommand: function(value) {
        this.$5V_0 = value;
        return value;
    },
    
    $Jw_0: function($p0, $p1) {
        if ($p0.get_success() && typeof($p0.get_returnValue()) === 'string') {
            var $v_0 = XUI.Xml.LoadXml($p0.get_returnValue());
            var $v_1 = XUI.Xml.SelectNodes($v_0.documentElement, '/items/records/record', null);
            var $v_2 = $v_1.length;
            for (var $v_3 = 0; $v_3 < $v_2; $v_3++) {
                var $v_4 = XUI.Xml.GetText($v_1[$v_3].attributes.getNamedItem('oid'));
                var $v_5 = XUI.Xml.GetText($v_1[$v_3].attributes.getNamedItem('otypename'));
                var $v_6 = null;
                var $v_7 = null;
                var $$t_D = this;
                XUI.Xml.DomUtils.ForEachChild($v_1[$v_3], function($p1_0) {
                    if ($p1_0.nodeName === 'processid') {
                        $v_6 = XUI.Xml.GetText($p1_0);
                    }
                    else if ($p1_0.nodeName === 'processts') {
                        $v_7 = XUI.Xml.GetText($p1_0);
                    }
                    return false;
                });
                if ($v_6 && $v_7 && $v_5 && $v_4) {
                    var $v_8 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheKey();
                    $v_8.set_entityLogicalName($v_5);
                    $v_8.set_recordId(Mscrm.Utilities.tryParseGuid($v_4));
                    var $v_9 = new Mscrm.TurboForm.Common.BusinessProcessClientCacheValue();
                    $v_9.set_processId(Mscrm.Utilities.tryParseGuid($v_6));
                    $v_9.set_processTimestamp($v_7);
                    this.get_businessProcessClientCacheInstance().update($v_8, $v_9);
                }
            }
        }
    }
}


Mscrm.TurboForm.Common.LayoutUrlCache = function() {
}
Mscrm.TurboForm.Common.LayoutUrlCache.get_instance = function() {
    if (!Mscrm.TurboForm.Common.LayoutUrlCache.$22) {
        Mscrm.TurboForm.Common.LayoutUrlCache.$22 = new Mscrm.TurboForm.Common.LayoutUrlCache();
    }
    return Mscrm.TurboForm.Common.LayoutUrlCache.$22;
}
Mscrm.TurboForm.Common.LayoutUrlCache.prototype = {
    $38_0: null,
    
    get_crmLocalStorageProxy: function() {
        return this.$38_0 || (this.$38_0 = new Mscrm.TurboForm.Common.CrmLocalStorageProxy());
    },
    
    set_crmLocalStorageProxy: function(value) {
        this.$38_0 = value;
        return value;
    },
    
    addUrl: function(entityTypeCode, formId, processId, formType, layoutUri) {
        if (IsNull(formId) || IsNull(processId)) {
            return;
        }
        if ((!layoutUri.get_query()['etc']) || ((layoutUri.get_query()['etc']) && (layoutUri.get_query()['etc'].toString() === entityTypeCode))) {
            var $v_0 = this.$DS_0(entityTypeCode, formId, processId, formType);
            this.get_crmLocalStorageProxy().setItem($v_0, layoutUri.toString());
        }
    },
    
    getUrl: function(entityTypeCode, formId, processId, formType) {
        if (IsNull(formId) || IsNull(processId)) {
            return null;
        }
        var $v_0 = this.$DS_0(entityTypeCode, formId, processId, formType);
        var $v_1 = this.get_crmLocalStorageProxy().getItem($v_0);
        if (!isNullOrEmptyString($v_1)) {
            return Mscrm.CrmUri.create($v_1);
        }
        return null;
    },
    
    $DS_0: function($p0, $p1, $p2, $p3) {
        return String.format('{0}{1}_{2}_{3}_{4}', ($p3 === 7) ? 'QuickCreate_' : '', $p0, $p1.toString(), $p2.toString(), window.ORG_UNIQUE_NAME);
    }
}


Type.registerNamespace('Mscrm.SharedObjects');

Mscrm.SharedObjects.FormLayoutResponse = function() {
}
Mscrm.SharedObjects.FormLayoutResponse.prototype = {
    Descriptor: null,
    entityMetadata: null,
    InlineEditSubGrids: null,
    header: null,
    processControlRule: null,
    webResources: null,
    _error: null
}


Mscrm.SharedObjects.LayoutErrorInformation = function() {
}
Mscrm.SharedObjects.LayoutErrorInformation.prototype = {
    RedirectToEdit: false,
    ErrorCode: null,
    DisplayText: null
}


Mscrm.SharedObjects.DialogLayoutResponse = function() {
}
Mscrm.SharedObjects.DialogLayoutResponse.prototype = {
    Descriptor: null,
    header: null,
    _error: null
}


Type.registerNamespace('Microsoft.Crm.Application.SharedObjects.Ribbon');

Microsoft.Crm.Application.SharedObjects.Ribbon.RuleType = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.RuleType.prototype = {
    none: 0, 
    entity: 1, 
    orBlock: 2, 
    value: 3, 
    javaScript: 4, 
    selectionCount: 5, 
    entityPrivilege: 6, 
    formState: 7, 
    clientType: 8, 
    organizationSetting: 9, 
    outlookClientType: 10, 
    sku: 11, 
    page: 12, 
    miscellaneousPrivilege: 13, 
    entityProperty: 15, 
    offlineAccessState: 16, 
    outlookVersion: 17, 
    outlookRenderType: 18, 
    outlookItemTracking: 19, 
    relationshipType: 20, 
    formEntityContext: 21, 
    referencingAttributeRequired: 22, 
    crmOutlookClientVersion: 23, 
    optionSet: 24, 
    formType: 25, 
    commandClientType: 26, 
    hideForTabletExperience: 27, 
    hideIfNetBreezeNotAvailable: 28, 
    hideIfServiceMetadataAvailable: 29, 
    hideIfSharepointS2SConfigurationEnabled: 30, 
    deviceType: 31, 
    hideIfExportToExcelNotEnabled: 32, 
    hideIfDisabledForMobile: 33, 
    hideIfHybridSSSNotEnabled: 34, 
    featureControlRuleType: 35, 
    hideIfTestExchangeServerNotEnabled: 36, 
    hideIfDelveNotAvailable: 37, 
    hideIfSSSTroubleshootingNotEnabled: 38, 
    hideIfCurrentUserIsNotSystemAdministrator: 39, 
    isExportToExcelOnlineEnabled: 40, 
    hideIfReverseHybridSSSNotEnabled: 41, 
    hideIfPowerBITileNotAvailable: 42, 
    hideIfEmailSignatureNotEnabled: 43, 
    hideIfProcessActive: 44, 
    hideIfProcessInactive: 45, 
    hideIfProcessUnificationIsDisabled: 46, 
    hideIfO365UserDoesNotHaveExchangeSubscriptions: 47, 
    hideIfEmailIsApprovedByAdmin: 48, 
    hideIfUserIsNotTenantAdmin: 49, 
    hideIfEmailIsApprovedByAdminBasedOnESP: 50, 
    hideIfProductRecommendationsNotEnabled: 51
}
Microsoft.Crm.Application.SharedObjects.Ribbon.RuleType.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.RuleType', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.FormState = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.FormState.prototype = {
    none: 0, 
    create: 1, 
    existing: 2, 
    readOnly: 3, 
    disabled: 4, 
    bulkEdit: 6, 
    merge: 7, 
    print: 8, 
    followUp: 9
}
Microsoft.Crm.Application.SharedObjects.Ribbon.FormState.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.FormState', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.FormType = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.FormType.prototype = {
    none: 0, 
    main: 1, 
    preview: 2, 
    appointmentBook: 3, 
    dashboard: 4, 
    undefined: 5, 
    quick: 6, 
    quickCreate: 7, 
    card: 11, 
    mainInteractionCentric: 12, 
    powerBIDashboard: 103
}
Microsoft.Crm.Application.SharedObjects.Ribbon.FormType.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.FormType', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.CrmClientType = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.CrmClientType.prototype = {
    none: 0, 
    web: 1, 
    outlook: 2
}
Microsoft.Crm.Application.SharedObjects.Ribbon.CrmClientType.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.CrmClientType', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.CrmOutlookClientType = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.CrmOutlookClientType.prototype = {
    none: 0, 
    crmForOutlook: 1, 
    crmForOutlookOfflineAccess: 2
}
Microsoft.Crm.Application.SharedObjects.Ribbon.CrmOutlookClientType.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.CrmOutlookClientType', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.OutlookRenderType = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.OutlookRenderType.prototype = {
    none: 0, 
    web: 1, 
    outlook: 2
}
Microsoft.Crm.Application.SharedObjects.Ribbon.OutlookRenderType.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.OutlookRenderType', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.OutlookVersion = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.OutlookVersion.prototype = {
    none: 0, 
    version2003: 1, 
    version2007: 2, 
    version2010: 3
}
Microsoft.Crm.Application.SharedObjects.Ribbon.OutlookVersion.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.OutlookVersion', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.CrmOfflineAccessState = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.CrmOfflineAccessState.prototype = {
    none: 0, 
    online: 1, 
    offline: 2
}
Microsoft.Crm.Application.SharedObjects.Ribbon.CrmOfflineAccessState.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.CrmOfflineAccessState', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.SkuTypes = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.SkuTypes.prototype = {
    none: 0, 
    onPremise: 1, 
    online: 2, 
    spla: 4, 
    all: 7
}
Microsoft.Crm.Application.SharedObjects.Ribbon.SkuTypes.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.SkuTypes', true);


Microsoft.Crm.Application.SharedObjects.Ribbon.RibbonParameterType = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.RibbonParameterType.prototype = {
    none: 0, 
    primaryEntityTypeCode: 1, 
    primaryEntityTypeName: 2, 
    primaryItemIds: 3, 
    firstPrimaryItemId: 4, 
    primaryControl: 5, 
    primaryControlId: 6, 
    selectedEntityTypeCode: 7, 
    selectedEntityTypeName: 8, 
    selectedItemIds: 9, 
    firstSelectedItemId: 10, 
    selectedItemCount: 11, 
    selectedControl: 12, 
    selectedControlId: 13, 
    orgName: 14, 
    orgLcid: 15, 
    userLcid: 16, 
    commandProperties: 17, 
    staticBool: 18, 
    staticDecimal: 19, 
    staticInt: 20, 
    staticString: 21, 
    selectedControlSelectedItemCount: 22, 
    selectedControlSelectedItemIds: 23, 
    selectedControlSelectedItemReferences: 24, 
    selectedControlAllItemCount: 25, 
    selectedControlAllItemIds: 26, 
    selectedControlAllItemReferences: 27, 
    selectedControlUnselectedItemCount: 28, 
    selectedControlUnselectedItemIds: 29, 
    selectedControlUnselectedItemReferences: 30
}
Microsoft.Crm.Application.SharedObjects.Ribbon.RibbonParameterType.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.RibbonParameterType', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.PrivilegeDepth = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.PrivilegeDepth.prototype = {
    none: -1, 
    basic: 0, 
    local: 1, 
    deep: 2, 
    global: 3
}
Microsoft.Crm.Application.SharedObjects.Ribbon.PrivilegeDepth.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.PrivilegeDepth', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.PrivilegeTypes = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.PrivilegeTypes.prototype = {
    none: 0, 
    create: 1, 
    read: 2, 
    write: 4, 
    deletePrivilege: 8, 
    assign: 16, 
    share: 32, 
    append: 64, 
    appendTo: 128
}
Microsoft.Crm.Application.SharedObjects.Ribbon.PrivilegeTypes.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.PrivilegeTypes', true);


Microsoft.Crm.Application.SharedObjects.Ribbon.WindowMode = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.WindowMode.prototype = {
    regular: 0, 
    modalDialog: 1, 
    modelessDialog: 2
}
Microsoft.Crm.Application.SharedObjects.Ribbon.WindowMode.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.WindowMode', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.RibbonActionType = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.RibbonActionType.prototype = {
    none: 0, 
    url: 1, 
    javaScript: 2, 
    javaScriptFunction: 3, 
    outlookCommand: 4
}
Microsoft.Crm.Application.SharedObjects.Ribbon.RibbonActionType.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.RibbonActionType', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.EntityProperty = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.EntityProperty.prototype = {
    none: 0, 
    mailMergeEnabled: 1, 
    worksWithQueue: 2, 
    duplicateDetectionEnabled: 3, 
    hasStateCode: 4, 
    gridFiltersEnabled: 5, 
    isConnectionsEnabled: 6, 
    hasActivities: 7, 
    isActivity: 8, 
    hasNotes: 9, 
    isCustomizable: 10, 
    isActivityParty: 11, 
    hasEmailAddresses: 12, 
    isChildEntity: 13, 
    isImportable: 14, 
    isEnabledForCharts: 15, 
    isBusinessProcessEnabled: 16, 
    hasFeedback: 17
}
Microsoft.Crm.Application.SharedObjects.Ribbon.EntityProperty.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.EntityProperty', false);


Microsoft.Crm.Application.SharedObjects.Ribbon.OrganizationSetting = function() {}
Microsoft.Crm.Application.SharedObjects.Ribbon.OrganizationSetting.prototype = {
    none: 0, 
    isSharepointEnabled: 1, 
    isSOPIntegrationEnabled: 2, 
    isFiscalCalendarDefined: 3
}
Microsoft.Crm.Application.SharedObjects.Ribbon.OrganizationSetting.registerEnum('Microsoft.Crm.Application.SharedObjects.Ribbon.OrganizationSetting', false);


Type.registerNamespace('Mscrm.FormControls.ClientApi');

Mscrm.FormControls.ClientApi.XrmTurboFormEntity = function(dataEntity) {
    Mscrm.FormControls.ClientApi.XrmTurboFormEntity.initializeBase(this);
    this.$1N_1 = dataEntity;
    dataEntity.$B_1 = this;
    this.attributes = new Xrm.XrmEntityAttributes();
    var $v_0 = dataEntity.getAttributes();
    var $$t_5 = this;
    $v_0.forEach(function($p1_0, $p1_1) {
        var $v_1 = Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeFactory.createInstance($p1_0);
        if ($v_1) {
            $$t_5.attributes.add($v_1);
        }
    });
}
Mscrm.FormControls.ClientApi.XrmTurboFormEntity.prototype = {
    $1N_1: null,
    
    addOnSave: function(handler, system) {
        this.$1N_1.addOnSave(handler);
    },
    
    getDataXml: function() {
        return this.$1N_1.getDataXml();
    },
    
    getEntityName: function() {
        return this.$1N_1.getEntityName();
    },
    
    getEntitySetName: function() {
        return this.$1N_1.getEntitySetName();
    },
    
    getRowVersion: function() {
        return this.$1N_1.getRowVersion();
    },
    
    getId: function() {
        return this.$1N_1.getId();
    },
    
    setRecordId: function(createRecordId) {
        this.$1N_1.setRecordId(createRecordId);
    },
    
    getPrimaryAttributeValue: function() {
        return this.$1N_1.getPrimaryAttributeValue();
    },
    
    getIsDirty: function() {
        return this.$1N_1.getIsDirty();
    },
    
    isInHierarchy: function() {
        return this.$1N_1.isInHierarchy();
    },
    
    removeOnSave: function(handler) {
        this.$1N_1.removeOnSave(handler);
    },
    
    save: function(action) {
        this.$1N_1.save(action);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeBoolean = function(dataAttribute) {
    Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeBoolean.initializeBase(this);
    this.$2_3 = dataAttribute;
    dataAttribute.$B_2 = this;
    this.controls = new Xrm.XrmControls();
    var $v_0 = dataAttribute.getControls();
    var $$t_5 = this;
    $v_0.forEach(function($p1_0, $p1_1) {
        var $v_1 = Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($p1_0);
        if ($v_1) {
            $$t_5.controls.add($v_1);
        }
    });
}
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeBoolean.prototype = {
    $2_3: null,
    
    getInitialValue: function() {
        return this.$2_3.getInitialValue();
    },
    
    getOption: function(value) {
        if (String.isInstanceOfType(value)) {
            value = parseInt(value, 10);
            if (isNaN(value)) {
                return null;
            }
        }
        return this.$2_3.getOption(value);
    },
    
    getOptions: function() {
        return this.$2_3.getOptions();
    },
    
    getSelectedOption: function() {
        return this.$2_3.getSelectedOption();
    },
    
    getText: function() {
        return this.$2_3.getText();
    },
    
    addOnChange: function(handler) {
        this.$2_3.addOnChange(handler);
    },
    
    fireOnChange: function() {
        this.$2_3.fireOnChange();
    },
    
    getAttributeType: function() {
        return this.$2_3.getAttributeType();
    },
    
    getFormat: function() {
        return this.$2_3.getFormat();
    },
    
    getIsDirty: function() {
        return this.$2_3.getIsDirty();
    },
    
    getIsValid: function() {
        return this.$2_3.getIsValid();
    },
    
    getName: function() {
        return this.$2_3.getName();
    },
    
    getKey: function() {
        return this.$2_3.getKey();
    },
    
    getParent: function() {
        return this.$2_3.getParent().$B_1;
    },
    
    getRequiredLevel: function() {
        return this.$2_3.getRequiredLevel();
    },
    
    getSubmitMode: function() {
        return this.$2_3.getSubmitMode();
    },
    
    getUserPrivilege: function() {
        return this.$2_3.getUserPrivilege();
    },
    
    getValue: function() {
        var $v_0 = this.$2_3.getValue();
        if (!IsNull($v_0)) {
            return Mscrm.Utilities.parseBoolean($v_0.toString());
        }
        return null;
    },
    
    removeOnChange: function(handler) {
        this.$2_3.removeOnChange(handler);
    },
    
    resetInitialValue: function(value) {
        this.$2_3.resetInitialValue(value);
    },
    
    setRequiredLevel: function(requiredLevel) {
        this.$2_3.setRequiredLevel(requiredLevel, true);
    },
    
    setSubmitMode: function(mode) {
        this.$2_3.setSubmitMode(mode);
    },
    
    setValue: function(value) {
        this.$2_3.setValue(value, null);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeDateTime = function(dataAttribute) {
    Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeDateTime.initializeBase(this);
    this.$2_2 = dataAttribute;
    dataAttribute.$B_2 = this;
    this.controls = new Xrm.XrmControls();
    var $v_0 = dataAttribute.getControls();
    var $$t_5 = this;
    $v_0.forEach(function($p1_0, $p1_1) {
        var $v_1 = Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($p1_0);
        if ($v_1) {
            $$t_5.controls.add($v_1);
        }
    });
}
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeDateTime.prototype = {
    $2_2: null,
    
    getUtcValue: function() {
        return this.$2_2.getUtcValue();
    },
    
    setUtcValue: function(dateTime) {
        this.$2_2.setUtcValue(dateTime);
    },
    
    addOnChange: function(handler) {
        this.$2_2.addOnChange(handler);
    },
    
    fireOnChange: function() {
        this.$2_2.fireOnChange();
    },
    
    getAttributeType: function() {
        return this.$2_2.getAttributeType();
    },
    
    getFormat: function() {
        return this.$2_2.getFormat();
    },
    
    getIsDirty: function() {
        return this.$2_2.getIsDirty();
    },
    
    getIsValid: function() {
        return this.$2_2.getIsValid();
    },
    
    getName: function() {
        return this.$2_2.getName();
    },
    
    getKey: function() {
        return this.$2_2.getKey();
    },
    
    getParent: function() {
        return this.$2_2.getParent().$B_1;
    },
    
    getRequiredLevel: function() {
        return this.$2_2.getRequiredLevel();
    },
    
    getSubmitMode: function() {
        return this.$2_2.getSubmitMode();
    },
    
    getUserPrivilege: function() {
        return this.$2_2.getUserPrivilege();
    },
    
    getValue: function() {
        var $v_0 = this.$2_2.getValue();
        return (!$v_0) ? null : new Date($v_0.getTime());
    },
    
    removeOnChange: function(handler) {
        this.$2_2.removeOnChange(handler);
    },
    
    resetInitialValue: function(value) {
        this.$2_2.resetInitialValue(value);
    },
    
    setRequiredLevel: function(requiredLevel) {
        this.$2_2.setRequiredLevel(requiredLevel, true);
    },
    
    setSubmitMode: function(mode) {
        this.$2_2.setSubmitMode(mode);
    },
    
    setValue: function(value) {
        this.$2_2.setValue(value, null);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeFactory = function() {
}
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeFactory.createInstance = function(dataAttribute) {
    if (!IsNull(dataAttribute.$B_2)) {
        return dataAttribute.$B_2;
    }
    switch (dataAttribute.getAttributeType()) {
        case 'boolean':
            return new Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeBoolean(dataAttribute);
        case 'datetime':
            return new Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeDateTime(dataAttribute);
        case 'lookup':
            return new Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeLookup(dataAttribute);
        case 'optionset':
            return new Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeOptionSet(dataAttribute);
        case 'memo':
        case 'string':
            return new Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeString(dataAttribute);
        case 'decimal':
        case 'double':
        case 'integer':
        case 'money':
            return new Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeNumber(dataAttribute);
        case 'uniqueidentifier':
            return new Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeUniqueIdentifier(dataAttribute);
        case 'Hidden':
            return new Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeHidden(dataAttribute);
        default:
            return null;
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeHidden = function(dataAttribute) {
    Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeHidden.initializeBase(this);
    this.$2_1 = dataAttribute;
}
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeHidden.prototype = {
    $2_1: null,
    
    addOnChange: function(handler) {
        this.$2_1.addOnChange(handler);
    },
    
    fireOnChange: function() {
        this.$2_1.fireOnChange();
    },
    
    getAttributeType: function() {
        return this.$2_1.getAttributeType();
    },
    
    getFormat: function() {
        return this.$2_1.getFormat();
    },
    
    getIsDirty: function() {
        return this.$2_1.getIsDirty();
    },
    
    getIsValid: function() {
        return this.$2_1.getIsValid();
    },
    
    getName: function() {
        return this.$2_1.getName();
    },
    
    getKey: function() {
        return this.$2_1.getKey();
    },
    
    getParent: function() {
        return new Mscrm.FormControls.ClientApi.XrmTurboFormEntity(this.$2_1.getParent());
    },
    
    getRequiredLevel: function() {
        return this.$2_1.getRequiredLevel();
    },
    
    getSubmitMode: function() {
        return this.$2_1.getSubmitMode();
    },
    
    getUserPrivilege: function() {
        return this.$2_1.getUserPrivilege();
    },
    
    getValue: function() {
        return this.$2_1.getValue();
    },
    
    removeOnChange: function(handler) {
        this.$2_1.removeOnChange(handler);
    },
    
    resetInitialValue: function(value) {
        this.$2_1.resetInitialValue(value);
    },
    
    setRequiredLevel: function(requiredLevel) {
        this.$2_1.setRequiredLevel(requiredLevel);
    },
    
    setSubmitMode: function(mode) {
        this.$2_1.setSubmitMode(mode);
    },
    
    setValue: function(value) {
        this.$2_1.setValue(value, null);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeLookup = function(dataAttribute) {
    Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeLookup.initializeBase(this);
    this.$2_2 = dataAttribute;
    dataAttribute.$B_2 = this;
    this.controls = new Xrm.XrmControls();
    var $v_0 = dataAttribute.getControls();
    var $$t_5 = this;
    $v_0.forEach(function($p1_0, $p1_1) {
        var $v_1 = Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($p1_0);
        if ($v_1) {
            $$t_5.controls.add($v_1);
        }
    });
}
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeLookup.prototype = {
    $2_2: null,
    
    getIsPartyList: function() {
        return this.$2_2.getIsPartyList();
    },
    
    setLookupTypes: function(LookupTypeNames, hideTypes) {
        return this.$2_2.setLookupTypes(LookupTypeNames, hideTypes);
    },
    
    getLookupTypes: function() {
        var $v_0 = this.$2_2.getSupportedLookupTypes();
        if (!$v_0) {
            return null;
        }
        var $v_1 = new Array($v_0.length);
        for (var $v_2 = 0; $v_2 < $v_0.length; $v_2++) {
            $v_1[$v_2] = Xrm.Internal.getEntityName($v_0[$v_2]);
        }
        return $v_1;
    },
    
    addOnChange: function(handler) {
        this.$2_2.addOnChange(handler);
    },
    
    fireOnChange: function() {
        this.$2_2.fireOnChange();
    },
    
    getAttributeType: function() {
        return this.$2_2.getAttributeType();
    },
    
    getFormat: function() {
        return this.$2_2.getFormat();
    },
    
    getIsDirty: function() {
        return this.$2_2.getIsDirty();
    },
    
    getIsValid: function() {
        return this.$2_2.getIsValid();
    },
    
    getName: function() {
        return this.$2_2.getName();
    },
    
    getKey: function() {
        return this.$2_2.getKey();
    },
    
    getParent: function() {
        return this.$2_2.getParent().$B_1;
    },
    
    getRequiredLevel: function() {
        return this.$2_2.getRequiredLevel();
    },
    
    getSubmitMode: function() {
        return this.$2_2.getSubmitMode();
    },
    
    getUserPrivilege: function() {
        return this.$2_2.getUserPrivilege();
    },
    
    getValue: function() {
        return this.$2_2.getValue();
    },
    
    removeOnChange: function(handler) {
        this.$2_2.removeOnChange(handler);
    },
    
    resetInitialValue: function(value) {
        this.$2_2.resetInitialValue(value);
    },
    
    setRequiredLevel: function(requiredLevel) {
        this.$2_2.setRequiredLevel(requiredLevel, true);
    },
    
    setSubmitMode: function(mode) {
        this.$2_2.setSubmitMode(mode);
    },
    
    setValue: function(value) {
        this.$2_2.setValue(value, null);
    },
    
    getLookupDataAttribute: function() {
        return this.$2_2;
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeNumber = function(dataAttribute) {
    Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeNumber.initializeBase(this);
    this.$2_2 = dataAttribute;
    dataAttribute.$B_2 = this;
    this.controls = new Xrm.XrmControls();
    var $v_0 = dataAttribute.getControls();
    var $$t_5 = this;
    $v_0.forEach(function($p1_0, $p1_1) {
        var $v_1 = Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($p1_0);
        if ($v_1) {
            $$t_5.controls.add($v_1);
        }
    });
}
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeNumber.prototype = {
    $2_2: null,
    
    getMax: function() {
        return this.$2_2.getMax();
    },
    
    getMin: function() {
        return this.$2_2.getMin();
    },
    
    getPrecision: function() {
        return this.$2_2.getPrecision();
    },
    
    setPrecision: function(precision) {
        this.$2_2.setPrecision(precision);
    },
    
    addOnChange: function(handler) {
        this.$2_2.addOnChange(handler);
    },
    
    fireOnChange: function() {
        this.$2_2.fireOnChange();
    },
    
    getAttributeType: function() {
        return this.$2_2.getAttributeType();
    },
    
    getFormat: function() {
        return this.$2_2.getFormat();
    },
    
    getIsDirty: function() {
        return this.$2_2.getIsDirty();
    },
    
    getIsValid: function() {
        return this.$2_2.getIsValid();
    },
    
    getName: function() {
        return this.$2_2.getName();
    },
    
    getKey: function() {
        return this.$2_2.getKey();
    },
    
    getParent: function() {
        return this.$2_2.getParent().$B_1;
    },
    
    getRequiredLevel: function() {
        return this.$2_2.getRequiredLevel();
    },
    
    getSubmitMode: function() {
        return this.$2_2.getSubmitMode();
    },
    
    getUserPrivilege: function() {
        return this.$2_2.getUserPrivilege();
    },
    
    getValue: function() {
        var $v_0 = this.$2_2.getValue();
        if (!Mscrm.InternalUtilities.JSTypes.isNull($v_0) && !isNaN($v_0)) {
            return $v_0;
        }
        else {
            return null;
        }
    },
    
    removeOnChange: function(handler) {
        this.$2_2.removeOnChange(handler);
    },
    
    resetInitialValue: function(value) {
        this.$2_2.resetInitialValue(value);
    },
    
    setRequiredLevel: function(requiredLevel) {
        this.$2_2.setRequiredLevel(requiredLevel, true);
    },
    
    setSubmitMode: function(mode) {
        this.$2_2.setSubmitMode(mode);
    },
    
    setValue: function(value) {
        this.$2_2.setValue(value, null);
    },
    
    setCurrencySymbol: function(symbol) {
        if (this.$2_2.getAttributeType() === 'money') {
            this.$2_2.setCurrencySymbol(symbol);
        }
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeOptionSet = function(dataAttribute) {
    Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeOptionSet.initializeBase(this);
    this.$2_3 = dataAttribute;
    dataAttribute.$B_2 = this;
    this.controls = new Xrm.XrmControls();
    var $v_0 = dataAttribute.getControls();
    var $$t_5 = this;
    $v_0.forEach(function($p1_0, $p1_1) {
        var $v_1 = Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($p1_0);
        if ($v_1) {
            $$t_5.controls.add($v_1);
        }
    });
}
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeOptionSet.prototype = {
    $2_3: null,
    
    getInitialValue: function() {
        return this.$2_3.getInitialValue();
    },
    
    getOption: function(value) {
        if (String.isInstanceOfType(value)) {
            value = parseInt(value, 10);
            if (isNaN(value)) {
                return null;
            }
        }
        return this.$2_3.getOption(value);
    },
    
    getOptions: function() {
        return this.$2_3.getOptions();
    },
    
    getSelectedOption: function() {
        return this.$2_3.getSelectedOption();
    },
    
    getText: function() {
        return this.$2_3.getText();
    },
    
    getInvariantText: function() {
        return this.$2_3.getInvariantText();
    },
    
    addOption: function(optionSetItem, placement) {
        this.$2_3.addOption(optionSetItem, placement);
    },
    
    removeOption: function(value) {
        this.$2_3.removeOption(value);
    },
    
    clearOptions: function() {
        this.$2_3.clearOptions();
    },
    
    addOnChange: function(handler) {
        this.$2_3.addOnChange(handler);
    },
    
    fireOnChange: function() {
        this.$2_3.fireOnChange();
    },
    
    getAttributeType: function() {
        return this.$2_3.getAttributeType();
    },
    
    getFormat: function() {
        return this.$2_3.getFormat();
    },
    
    getIsDirty: function() {
        return this.$2_3.getIsDirty();
    },
    
    getIsValid: function() {
        return this.$2_3.getIsValid();
    },
    
    getName: function() {
        return this.$2_3.getName();
    },
    
    getKey: function() {
        return this.$2_3.getKey();
    },
    
    getParent: function() {
        return this.$2_3.getParent().$B_1;
    },
    
    getRequiredLevel: function() {
        return this.$2_3.getRequiredLevel();
    },
    
    getSubmitMode: function() {
        return this.$2_3.getSubmitMode();
    },
    
    getUserPrivilege: function() {
        return this.$2_3.getUserPrivilege();
    },
    
    getValue: function() {
        if (this.$2_3.getAttributeType() === 'boolean') {
            switch (this.$2_3.getValue()) {
                case 1:
                    return true;
                case 0:
                    return false;
            }
        }
        return this.$2_3.getValue();
    },
    
    removeOnChange: function(handler) {
        this.$2_3.removeOnChange(handler);
    },
    
    resetInitialValue: function(value) {
        this.$2_3.resetInitialValue(value);
    },
    
    setRequiredLevel: function(requiredLevel) {
        this.$2_3.setRequiredLevel(requiredLevel, true);
    },
    
    setSubmitMode: function(mode) {
        this.$2_3.setSubmitMode(mode);
    },
    
    setValue: function(value) {
        this.$2_3.setValue(value, null);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeString = function(dataAttribute) {
    Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeString.initializeBase(this);
    this.$2_2 = dataAttribute;
    dataAttribute.$B_2 = this;
    this.controls = new Xrm.XrmControls();
    var $v_0 = dataAttribute.getControls();
    var $$t_5 = this;
    $v_0.forEach(function($p1_0, $p1_1) {
        var $v_1 = Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($p1_0);
        if ($v_1) {
            $$t_5.controls.add($v_1);
        }
    });
}
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeString.prototype = {
    $2_2: null,
    
    getMaxLength: function() {
        return this.$2_2.getMaxLength();
    },
    
    addOnChange: function(handler) {
        this.$2_2.addOnChange(handler);
    },
    
    fireOnChange: function() {
        this.$2_2.fireOnChange();
    },
    
    getAttributeType: function() {
        return this.$2_2.getAttributeType();
    },
    
    getFormat: function() {
        return this.$2_2.getFormat();
    },
    
    getIsDirty: function() {
        return this.$2_2.getIsDirty();
    },
    
    getIsValid: function() {
        return this.$2_2.getIsValid();
    },
    
    getName: function() {
        return this.$2_2.getName();
    },
    
    getKey: function() {
        return this.$2_2.getKey();
    },
    
    getParent: function() {
        return this.$2_2.getParent().$B_1;
    },
    
    getRequiredLevel: function() {
        return this.$2_2.getRequiredLevel();
    },
    
    getSubmitMode: function() {
        return this.$2_2.getSubmitMode();
    },
    
    getUserPrivilege: function() {
        return this.$2_2.getUserPrivilege();
    },
    
    getValue: function() {
        return this.$2_2.getValue();
    },
    
    removeOnChange: function(handler) {
        this.$2_2.removeOnChange(handler);
    },
    
    resetInitialValue: function(value) {
        this.$2_2.resetInitialValue(value);
    },
    
    setRequiredLevel: function(requiredLevel) {
        this.$2_2.setRequiredLevel(requiredLevel, true);
    },
    
    setSubmitMode: function(mode) {
        this.$2_2.setSubmitMode(mode);
    },
    
    setValue: function(value) {
        this.$2_2.setValue(value, null);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeUniqueIdentifier = function(dataAttribute) {
    Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeUniqueIdentifier.initializeBase(this);
    this.$2_1 = dataAttribute;
    dataAttribute.$B_2 = this;
    this.controls = new Xrm.XrmControls();
    var $v_0 = dataAttribute.getControls();
    var $$t_5 = this;
    $v_0.forEach(function($p1_0, $p1_1) {
        var $v_1 = Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($p1_0);
        if ($v_1) {
            $$t_5.controls.add($v_1);
        }
    });
}
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeUniqueIdentifier.prototype = {
    $2_1: null,
    
    addOnChange: function(handler) {
        this.$2_1.addOnChange(handler);
    },
    
    fireOnChange: function() {
        this.$2_1.fireOnChange();
    },
    
    getAttributeType: function() {
        return this.$2_1.getAttributeType();
    },
    
    getFormat: function() {
        return this.$2_1.getFormat();
    },
    
    getIsDirty: function() {
        return this.$2_1.getIsDirty();
    },
    
    getIsValid: function() {
        return this.$2_1.getIsValid();
    },
    
    getName: function() {
        return this.$2_1.getName();
    },
    
    getKey: function() {
        return this.$2_1.getKey();
    },
    
    getParent: function() {
        return this.$2_1.getParent().$B_1;
    },
    
    getRequiredLevel: function() {
        return this.$2_1.getRequiredLevel();
    },
    
    getSubmitMode: function() {
        return this.$2_1.getSubmitMode();
    },
    
    getUserPrivilege: function() {
        return this.$2_1.getUserPrivilege();
    },
    
    getValue: function() {
        return this.$2_1.getValue();
    },
    
    removeOnChange: function(handler) {
        this.$2_1.removeOnChange(handler);
    },
    
    resetInitialValue: function(value) {
        this.$2_1.resetInitialValue(value);
    },
    
    setRequiredLevel: function(requiredLevel) {
        this.$2_1.setRequiredLevel(requiredLevel, true);
    },
    
    setSubmitMode: function(mode) {
        this.$2_1.setSubmitMode(mode);
    },
    
    setValue: function(value) {
        this.$2_1.setValue(value, null);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlDateTime = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlDateTime.initializeBase(this);
    this.$0_4 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlDateTime.prototype = {
    $0_4: null,
    
    getShowTime: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetShowTime');
        return this.$0_4.getShowTime();
    },
    
    setShowTime: function(showTime) {
        this.$0_4.setShowTime(showTime);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetShowTime');
    },
    
    setIsAllDay: function(isAllDay) {
        this.$0_4.$2p_5 = isAllDay;
    },
    
    getIsAllDay: function() {
        return this.$0_4.$2p_5;
    },
    
    getAttribute: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetAttribute');
        return this.$0_4.getAttribute().$B_2;
    },
    
    getDisabled: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetDisabled');
        return this.$0_4.getDisabled();
    },
    
    setDisabled: function(isDisabled) {
        this.$0_4.setDisabled(isDisabled);
    },
    
    clearNotification: function(uniqueId) {
        return this.$0_4.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$0_4.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$0_4.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$0_4.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$0_4.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$0_4.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$0_4.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_4.getLabel(true);
    },
    
    getName: function() {
        return this.$0_4.getName();
    },
    
    getVisible: function() {
        return this.$0_4.getVisible();
    },
    
    setLabel: function(label) {
        this.$0_4.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$0_4.setVisible(visible);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetVisible');
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailEngagementActions = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailEngagementActions.initializeBase(this);
    this.$1P_3 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailEngagementActions.prototype = {
    $1P_3: null,
    
    clearNotification: function(uniqueId) {
        return this.$1P_3.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$1P_3.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$1P_3.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$1P_3.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$1P_3.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$1P_3.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$1P_3.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$1P_3.getLabel();
    },
    
    getName: function() {
        return this.$1P_3.getKey();
    },
    
    getVisible: function() {
        return this.$1P_3.getVisible();
    },
    
    setLabel: function(label) {
        this.$1P_3.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$1P_3.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory = function() {
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance = function(viewModel) {
    if (!IsNull(viewModel.$B_2)) {
        return viewModel.$B_2;
    }
    if (Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.isInstanceOfType(viewModel)) {
        var $v_0 = viewModel.$Q_2;
        switch ('{' + $v_0.ClassId.toString().toUpperCase() + '}') {
            case '{5B773807-9FB2-42DB-97C3-7A91EFF8ADFF}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlDateTime(viewModel);
            case '{FD2A7985-3187-444E-908D-6624B21F69C0}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlFrame(viewModel);
            case '{270BD3DB-D9AF-4782-9025-509E298DEC0A}':
            case '{F3015350-44A2-4AA0-97B5-00166532B5E9}':
            case '{CBFB742C-14E7-4A17-96BB-1A13F7F64AA2}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlLookup(viewModel);
            case '{3EF39988-22BB-4F0B-BBBE-64B5A3748AEE}':
            case '{671A9387-CA5A-4D1E-8AB7-06E39DDCF6B5}':
            case '{7C624A0B-F59E-493D-9583-638D34759266}':
            case '{5D68B988-0661-4DB2-BC3E-17598AD3BE6C}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlOptionSet(viewModel);
            case '{080677DB-86EC-4544-AC42-F927E74B491F}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlSilverlight(viewModel);
            case '{E7A81278-8635-4D9E-8D4D-59480B391C5B}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlSubGrid(viewModel);
            case '{9FDF5F91-88B1-47F4-AD53-C11EFC01A01D}':
            case '{587CDF98-C1D5-4BDE-8473-14A0BC7644A7}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlWebResource(viewModel);
            case '{E616A57F-20E0-4534-8662-A101B5DDF4E0}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlSearchWidget(viewModel);
            case '{26E9760F-7454-40DE-BB07-F6DCCCB82040}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailRecipientActivity(viewModel);
            case '{F454228D-1D25-4319-E12F-D27968BC0234}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailEngagementActions(viewModel);
            case '{06E9F7AF-1F54-4681-8EEC-1E21A1CEB465}':
            case '{C3EFE0C3-0EC6-42BE-8349-CBD9079DFD8E}':
            case '{C6D124CA-7EDA-4A60-AEA9-7FB8D318B68F}':
            case '{533B9E00-756B-4312-95A0-DC888637AC78}':
            case '{0D2C745A-E5A8-4C8F-BA63-C6D3BB604660}':
            case '{E0DECE4B-6FC8-4A8F-A065-082708572369}':
            case '{67FAC785-CD58-4F9F-ABB3-4B7DDC6ED5ED}':
            case '{5546E6CD-394C-4BEE-94A8-4425E17EF6C6}':
            case '{B0C6723A-8503-4FD7-BB28-C8A06AC933C2}':
            case '{AA987274-CE4E-4271-A803-66164311A958}':
            case '{6F3FB987-393B-4D2D-859F-9D0F0349B6AD}':
            case '{2305E33A-BAD3-4022-9E15-1856CF218333}':
            case '{1479835F-F852-4679-B864-C6892A2844C9}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormDataControl(viewModel);
            case '{4273EDBD-AC1D-40D3-9FB2-095C621B552D}':
            case '{1E1FC551-F7A8-43AF-AC34-A8DC35C7B6D4}':
            case '{ADA2203E-B4CD-49BE-9DDF-234642B43B52}':
            case '{71716B6C-711E-476C-8AB8-5D11542BFB47}':
            case '{8C10015A-B339-4982-9474-A95FE05631A5}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlAutoLookup(viewModel);
            case '{9C5CA0A1-AB4D-4781-BE7E-8DFBE867B87E}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlTimer(viewModel);
            case '{C8BFBBEF-6851-4401-A0CC-7450062FE085}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormControlACI(viewModel);
            case '{86B9E25E-695E-4FEF-AC69-F05CFA96739C}':
            case '{06375649-C143-495E-A496-C962E5B4488E}':
            case '{3F4E2A56-F102-4B4D-AB9C-F1574CA5BFDA}':
            case '{A62B6FA9-169E-406C-B1AA-EAB828CB6026}':
            case '{5F986642-5961-4D9F-AB5E-643D71E231E9}':
            case '{163B90A6-EB64-49D2-9DF8-3C84A4F0A0F8}':
            case '{4168A05C-D857-46AF-8457-5BB47EB04EA1}':
            case '{B634828E-C390-444A-AFE6-E07315D9D970}':
            case '{3246F906-1F71-45F7-B11F-D7BE0F9D04C9}':
            case '{821ACF1A-7E46-4A0C-965D-FE14A57D78C7}':
            case '{62B0DF79-0464-470F-8AF7-4483CFEA0C7D}':
            case '{91DC0675-C8B9-4421-B1E0-261CEBF02BAC}':
            case '{A28F441B-916C-4865-87FD-0C5D53BD59C9}':
            case '{F02EF977-2564-4B9A-B2F0-DF083D8A019B}':
            case '{6636847D-B74D-4994-B55A-A6FAF97ECEA2}':
            case '{69AF7DCA-2E3B-4EE7-9201-0DA731DD2413}':
            case '{5C5600E0-1D6E-4205-A272-BE80DA87FD42}':
            case '{DFDF1CDE-837B-4AC9-98CF-AC74361FD89D}':
            case '{DB1284EF-9FFC-4E99-B382-0CC082FE2364}':
            case '{F4C16ECA-CA81-4E39-9448-834B8378721E}':
            case '{C72511AB-84E5-4FB7-A543-25B4FC01E83E}':
            case '{F93A31B2-99AC-4084-8EC2-D4027C31369A}':
            case '{6896F004-B17A-4202-861E-8B7EA2080E0B}':
                return null;
            case '{00AD73DA-BD4D-49C6-88A8-2F4F4CAD4A20}':
            case '{39354E4A-5015-4D74-8031-EA9EB73A1322}':
                return new Mscrm.FormControls.ClientApi.XrmTurboFormDataControl(viewModel);
            default:
                throw Error.argumentOutOfRange('FormControlClassId', $v_0.ClassId.toString(), 'Cannot create an instance of the Client API control.');
        }
    }
    if (Mscrm.TurboForm.Control.ViewModel.TabViewModel.isInstanceOfType(viewModel)) {
        return new Mscrm.FormControls.ClientApi.XrmTurboFormControlTab(viewModel);
    }
    if (Mscrm.TurboForm.Control.ViewModel.SectionViewModel.isInstanceOfType(viewModel)) {
        return new Mscrm.FormControls.ClientApi.XrmTurboFormControlSection(viewModel);
    }
    return null;
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlFormSelector = function(formSelector) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlFormSelector.initializeBase(this);
    this.$BU_1 = formSelector.get_currentForm();
    this.items = formSelector.get_items();
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlFormSelector.prototype = {
    $BU_1: null,
    
    getCurrentItem: function() {
        return this.$BU_1;
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlFrame = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlFrame.initializeBase(this);
    this.$0_4 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlFrame.prototype = {
    $0_4: null,
    
    getInitialUrl: function() {
        return this.$0_4.getInitialUrl();
    },
    
    getSrc: function() {
        return this.$0_4.getSrc();
    },
    
    getObject: function() {
        return this.$0_4.getObject();
    },
    
    setSrc: function(source) {
        this.$0_4.setSrc(source);
    },
    
    clearNotification: function(uniqueId) {
        return this.$0_4.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$0_4.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$0_4.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$0_4.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$0_4.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$0_4.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$0_4.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_4.getLabel(true);
    },
    
    getName: function() {
        return this.$0_4.getName();
    },
    
    getVisible: function() {
        return this.$0_4.getVisible();
    },
    
    setLabel: function(label) {
        this.$0_4.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$0_4.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControl = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControl.initializeBase(this);
    this.$0_2 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControl.prototype = {
    $0_2: null,
    
    clearNotification: function(uniqueId) {
        return this.$0_2.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$0_2.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$0_2.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$0_2.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$0_2.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$0_2.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$0_2.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_2.getLabel(true);
    },
    
    getName: function() {
        return this.$0_2.getName();
    },
    
    getVisible: function() {
        return this.$0_2.getVisible();
    },
    
    setLabel: function(label) {
        this.$0_2.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$0_2.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlLookup = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlLookup.initializeBase(this);
    this.$0_4 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlLookup.prototype = {
    $0_4: null,
    
    addCustomView: function(viewId, entityLogicalName, viewDisplayName, fetchXml, layoutXml, isDefault) {
        this.$0_4.addCustomView(viewId, entityLogicalName, viewDisplayName, fetchXml, layoutXml, isDefault);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('AddCustomView');
    },
    
    addCustomFilter: function(fetchXmlFilter, entityType) {
        this.$0_4.addCustomFilter(fetchXmlFilter, entityType);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('AddCustomFilter');
    },
    
    allowUserToDisableRelationshipFilter: function(allowFilterOff) {
        this.$0_4.$Fl_5(allowFilterOff);
    },
    
    getDefaultView: function() {
        return this.$0_4.getDefaultView();
    },
    
    setDefaultView: function(defaultViewId) {
        this.$0_4.setDefaultView(defaultViewId);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetDefaultView');
    },
    
    addPreSearch: function(handler) {
        this.$0_4.addPreSearch(handler);
    },
    
    removePreSearch: function(handler) {
        this.$0_4.removePreSearch(handler);
    },
    
    setParameter: function(name, value) {
        this.$0_4.setParameter(name, value);
    },
    
    getAttribute: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetAttribute');
        return this.$0_4.getAttribute().$B_2;
    },
    
    getDisabled: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetDisabled');
        return this.$0_4.getDisabled();
    },
    
    setDisabled: function(isDisabled) {
        this.$0_4.setDisabled(isDisabled);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetDisabled');
    },
    
    clearNotification: function(uniqueId) {
        return this.$0_4.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$0_4.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$0_4.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$0_4.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$0_4.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$0_4.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$0_4.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_4.getLabel(true);
    },
    
    getName: function() {
        return this.$0_4.getName();
    },
    
    getVisible: function() {
        return this.$0_4.getVisible();
    },
    
    setLabel: function(label) {
        this.$0_4.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$0_4.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlAutoLookup = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlAutoLookup.initializeBase(this);
    this.$0_4 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlAutoLookup.prototype = {
    $0_4: null,
    
    showAutoComplete: function(result) {
        this.$0_4.showAutoComplete(result);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('ShowAutoComplete');
    },
    
    hideAutoComplete: function() {
        this.$0_4.hideAutoComplete();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('HideAutoComplete');
    },
    
    getValue: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('getValue');
        return this.$0_4.getValue();
    },
    
    addOnKeyPress: function(handler) {
        this.$0_4.addOnKeyPress(handler);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('AddOnKeyPress');
    },
    
    removeOnKeyPress: function(handler) {
        this.$0_4.removeOnKeyPress(handler);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('RemoveOnKeyPress');
    },
    
    fireOnKeyPress: function(arg) {
        this.$0_4.fireOnKeyPress(arg);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('FireOnKeyPress');
    },
    
    getAttribute: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetAttribute');
        return this.$0_4.getAttribute().$B_2;
    },
    
    getDisabled: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetDisabled');
        return this.$0_4.getDisabled();
    },
    
    setDisabled: function(isDisabled) {
        this.$0_4.setDisabled(isDisabled);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetDisabled');
    },
    
    clearNotification: function(uniqueId) {
        return this.$0_4.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$0_4.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$0_4.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$0_4.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$0_4.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$0_4.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$0_4.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_4.getLabel(true);
    },
    
    getName: function() {
        return this.$0_4.getName();
    },
    
    getVisible: function() {
        return this.$0_4.getVisible();
    },
    
    setLabel: function(label) {
        this.$0_4.setLabel(label);
    },
    
    setVisible: function(visible) {
        this.$0_4.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlOptionSet = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlOptionSet.initializeBase(this);
    this.$0_4 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlOptionSet.prototype = {
    $0_4: null,
    
    addOption: function(optionSetItem, placement) {
        this.$0_4.addUIOption(optionSetItem, placement);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('AddOption');
    },
    
    clearOptions: function() {
        this.$0_4.clearUIOptions();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('ClearOptions');
    },
    
    removeOption: function(value) {
        this.$0_4.removeUIOption(value);
    },
    
    getOptions: function() {
        return this.$0_4.getUIOptions();
    },
    
    getAttribute: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetAttribute');
        return this.$0_4.getAttribute().$B_2;
    },
    
    getDisabled: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetDisabled');
        return this.$0_4.getDisabled();
    },
    
    setDisabled: function(isDisabled) {
        this.$0_4.setDisabled(isDisabled);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetDisabled');
    },
    
    clearNotification: function(uniqueId) {
        return this.$0_4.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$0_4.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$0_4.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$0_4.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$0_4.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$0_4.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$0_4.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_4.getLabel(true);
    },
    
    getName: function() {
        return this.$0_4.getName();
    },
    
    getVisible: function() {
        return this.$0_4.getVisible();
    },
    
    setLabel: function(label) {
        this.$0_4.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$0_4.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlRoutedSubGrid = function(gridControl, dataSetControl) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlRoutedSubGrid.initializeBase(this);
    this.$1r_2 = gridControl;
    this.$1c_2 = dataSetControl;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlRoutedSubGrid.findCurrentGridControl = function(gridControl, dataSetControl) {
    if (Xrm.Internal.isFeatureEnabled('FCB.DataSetControl') && !_Script.isNullOrUndefined(dataSetControl) && dataSetControl.get_isActive()) {
        return dataSetControl;
    }
    return gridControl;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlRoutedSubGrid.prototype = {
    $1r_2: null,
    $1c_2: null,
    
    get_currentGridControl: function() {
        return Mscrm.FormControls.ClientApi.XrmTurboFormControlRoutedSubGrid.findCurrentGridControl(this.$1r_2, this.$1c_2).getGrid();
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormProcessControlUI = function(processControlUi) {
    Mscrm.FormControls.ClientApi.XrmTurboFormProcessControlUI.initializeBase(this);
    this.$1G_1 = processControlUi;
}
Mscrm.FormControls.ClientApi.XrmTurboFormProcessControlUI.prototype = {
    $1G_1: null,
    
    getId: function() {
        return this.$1G_1.getId();
    },
    
    getVisible: function() {
        return this.$1G_1.getVisible();
    },
    
    getDisplayState: function() {
        return this.$1G_1.getDisplayState();
    },
    
    setDisplayState: function(state) {
        this.$1G_1.setDisplayState(state);
    },
    
    setVisible: function(showProcessControl) {
        this.$1G_1.setVisible(showProcessControl);
    },
    
    reflow: function(updateUI, parentStage, nextStage) {
        this.$1G_1.reflow(updateUI, parentStage, nextStage);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlSection = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlSection.initializeBase(this);
    this.$0_2 = viewModel;
    viewModel.$B_2 = this;
    this.controls = new Xrm.XrmControls();
    this.$AC_2 = this.$0_2.getVisible();
    var $v_0 = viewModel.getChildViewModels();
    var $$t_5 = this;
    $v_0.forEach(function($p1_0, $p1_1) {
        var $v_1 = Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($p1_0);
        if ($v_1) {
            $$t_5.controls.add($v_1);
        }
    });
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlSection.prototype = {
    $0_2: null,
    $AC_2: false,
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        return this.$0_2.getParent().$B_2;
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_2.getLabel();
    },
    
    getName: function() {
        return this.$0_2.getName();
    },
    
    getVisible: function() {
        return this.$AC_2;
    },
    
    setLabel: function(label) {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
        this.$0_2.setLabel(label);
    },
    
    setVisible: function(visible) {
        this.$AC_2 = visible;
        this.$IP_2(visible);
    },
    
    $IP_2: function($p0) {
        var $v_0 = this.getParent();
        var $v_1 = $p0 && (IsNull($v_0) || $v_0.getVisible());
        this.$0_2.setVisible($v_1);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlSilverlight = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlSilverlight.initializeBase(this);
    this.$0_4 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlSilverlight.prototype = {
    $0_4: null,
    
    getData: function() {
        return this.$0_4.getData();
    },
    
    setData: function(data) {
        this.$0_4.setData(data);
    },
    
    getSrc: function() {
        return this.$0_4.getSrc();
    },
    
    getObject: function() {
        return this.$0_4.getObject();
    },
    
    setSrc: function(source) {
        this.$0_4.setSrc(source);
    },
    
    clearNotification: function(uniqueId) {
        return this.$0_4.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$0_4.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$0_4.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$0_4.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$0_4.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$0_4.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$0_4.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_4.getLabel(true);
    },
    
    getName: function() {
        return this.$0_4.getName();
    },
    
    getVisible: function() {
        return this.$0_4.getVisible();
    },
    
    setLabel: function(label) {
        this.$0_4.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$0_4.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlSubGrid = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlSubGrid.initializeBase(this);
    this.$0_3 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlSubGrid.prototype = {
    $0_3: null,
    
    addRecord: function() {
        this.$0_3.addRecord();
    },
    
    exportToExcel: function() {
        this.$0_3.exportToExcel();
    },
    
    openAssociatedGrid: function() {
        this.$0_3.openAssociatedGrid();
    },
    
    refresh: function() {
        this.$0_3.refresh();
    },
    
    getRelationshipName: function() {
        return this.$0_3.get_turboGridControl().getRelationshipName();
    },
    
    getRelationshipAttributeName: function() {
        return this.$0_3.get_turboGridControl().getRelationshipAttributeName();
    },
    
    getRelationshipRoleOrdinal: function() {
        return this.$0_3.get_turboGridControl().getRelationshipRoleOrdinal();
    },
    
    getRelationshipType: function() {
        return this.$0_3.get_turboGridControl().getRelationshipType();
    },
    
    clearNotification: function(uniqueId) {
        return this.$0_3.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$0_3.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$0_3.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$0_3.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$0_3.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$0_3.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$0_3.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_3.getLabel(true);
    },
    
    getName: function() {
        return this.$0_3.getKey();
    },
    
    getVisible: function() {
        return this.$0_3.getVisible();
    },
    
    setLabel: function(label) {
        this.$0_3.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$0_3.setVisible(visible);
    },
    
    removeOnLoad: function(handler) {
        this.$0_3.get_turboGridControl().removeOnLoad(handler);
    },
    
    getGrid: function() {
        if (Xrm.Internal.isFeatureEnabled('FCB.DataSetControl') && !_Script.isNullOrUndefined(this.$0_3.$1c_4)) {
            return new Mscrm.FormControls.ClientApi.XrmTurboFormControlRoutedSubGrid(this.$0_3.get_turboGridControl(), this.$0_3.$1c_4);
        }
        return this.$0_3.get_turboGridControl().getGrid();
    },
    
    getChart: function() {
        return this.$0_3.get_currentGridControl().getChart();
    },
    
    getRelationship: function() {
        return this.$0_3.get_turboGridControl().getRelationship();
    },
    
    getViewSelector: function() {
        return this.$0_3.get_currentGridControl().getViewSelector();
    },
    
    addOnLoad: function(handler) {
        this.$0_3.get_turboGridControl().addOnLoad(handler);
    },
    
    getEntityName: function() {
        return this.$0_3.get_currentGridControl().getEntityName();
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlTab = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlTab.initializeBase(this);
    this.$0_2 = viewModel;
    viewModel.$B_2 = this;
    this.sections = new Xrm.XrmTabSections();
    var $v_0 = viewModel.getSections();
    var $$t_4 = this;
    $v_0.forEach(function($p1_0, $p1_1) {
        $$t_4.sections.add(Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($p1_0));
    });
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlTab.prototype = {
    $0_2: null,
    
    getLabelVisible: function() {
        return this.$0_2.getLabelVisible();
    },
    
    addTabStateChange: function(handler) {
        this.$0_2.addTabStateChange(handler);
    },
    
    setIsSubGrid: function(issubgrid) {
        this.$0_2.setIsSubGrid(issubgrid);
    },
    
    getDisplayState: function() {
        return this.$0_2.getDisplayState();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        return this.$0_2.getParent().$B_1;
    },
    
    removeTabStateChange: function(handler) {
        this.$0_2.removeTabStateChange(handler);
    },
    
    setDisplayState: function(state) {
        this.$0_2.setDisplayState(state);
    },
    
    setFocus: function() {
        this.$0_2.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_2.getLabel(true);
    },
    
    getName: function() {
        return this.$0_2.getName();
    },
    
    getVisible: function() {
        return this.$0_2.getVisible();
    },
    
    setLabel: function(label) {
        this.$0_2.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$0_2.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlWebResource = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlWebResource.initializeBase(this);
    this.$0_3 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlWebResource.prototype = {
    $0_3: null,
    
    getSrc: function() {
        this.$28_3();
        return this.$0_3.getSrc();
    },
    
    getObject: function() {
        this.$28_3();
        return this.$0_3.getObject();
    },
    
    setSrc: function(source) {
        this.$28_3();
        this.$0_3.setSrc(source);
    },
    
    clearNotification: function(uniqueId) {
        this.$28_3();
        return this.$0_3.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$0_3.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$0_3.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$0_3.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        this.$28_3();
        return this.$0_3.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        this.$28_3();
        var $v_0 = this.$0_3.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$28_3();
        this.$0_3.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        this.$28_3();
        return this.$0_3.getLabel(true);
    },
    
    getName: function() {
        return this.$0_3.getName();
    },
    
    getVisible: function() {
        this.$28_3();
        var $v_0 = window.document.getElementById(this.$0_3.getName() + '_d');
        if (!IsNull($v_0)) {
            var $v_1 = $v_0.style.display;
            if ($v_1.toLowerCase() === 'none') {
                return false;
            }
            else {
                return true;
            }
        }
        return false;
    },
    
    setLabel: function(label) {
        this.$28_3();
        this.$0_3.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$28_3();
        this.$0_3.setVisible(visible);
    },
    
    $28_3: function() {
        if (!this.$0_3.$30_5) {
            this.$0_3.delayedLoadHandler(null);
        }
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlQuickForm = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlQuickForm.initializeBase(this);
    this.$0_3 = viewModel;
    viewModel.$B_2 = this;
    this.data = new Mscrm.FormControls.ClientApi.XrmTurboFormData(viewModel.$N_4.getPageData());
    this.ui = new Mscrm.FormControls.ClientApi.XrmTurboFormUI(viewModel.$N_4.getPageUI());
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlQuickForm.prototype = {
    $0_3: null,
    
    isLoaded: function() {
        return this.$0_3.$4U_4;
    },
    
    refresh: function() {
        this.$0_3.refreshQuickFormData();
    },
    
    clearNotification: function(uniqueId) {
        return false;
    },
    
    clearNotifications: function() {
        return false;
    },
    
    setNotification: function(message, uniqueId) {
        return false;
    },
    
    addNotification: function(notification) {
        return false;
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$0_3.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$0_3.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_3.getLabel(true);
    },
    
    getName: function() {
        return this.$0_3.getName();
    },
    
    getKey: function() {
        return this.$0_3.getKey();
    },
    
    getVisible: function() {
        return true;
    },
    
    setLabel: function(label) {
        this.$0_3.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
    },
    
    dispose: function() {
        this.ui.dispose();
        Xrm.XrmControl.prototype.dispose.call(this);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlTimer = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlTimer.initializeBase(this);
    this.$0_3 = viewModel;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlTimer.prototype = {
    $0_3: null,
    
    refresh: function() {
        this.$0_3.refresh();
    },
    
    clearNotification: function(uniqueId) {
        return false;
    },
    
    clearNotifications: function() {
        return false;
    },
    
    setNotification: function(message, uniqueId) {
        return false;
    },
    
    addNotification: function(notification) {
        return false;
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$0_3.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$0_3.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
        this.$0_3.setFocus();
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_3.getLabel(true);
    },
    
    getName: function() {
        return this.$0_3.getName();
    },
    
    getVisible: function() {
        return this.$0_3.getVisible();
    },
    
    setLabel: function(label) {
        this.$0_3.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$0_3.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlACI = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlACI.initializeBase(this);
    this.$0_3 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlACI.prototype = {
    $0_3: null,
    
    loadWidget: function() {
        this.$0_3.loadWidget();
    },
    
    setParameter: function(key, value) {
        this.$0_3.setParameter(key, value);
    },
    
    clearNotification: function(uniqueId) {
        return this.$0_3.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$0_3.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$0_3.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$0_3.addNotification(notification);
    },
    
    getControlType: function() {
        return this.$0_3.getControlType();
    },
    
    getParent: function() {
        var $v_0 = this.$0_3.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$0_3.setFocus();
    },
    
    getLabel: function() {
        return this.$0_3.getLabel(true);
    },
    
    getName: function() {
        return this.$0_3.getName();
    },
    
    getVisible: function() {
        var $v_0 = window.document.getElementById(this.$0_3.getName() + '_d');
        if (!IsNull($v_0)) {
            var $v_1 = $v_0.style.display;
            if ($v_1.toLowerCase() === 'none') {
                return false;
            }
            else {
                return true;
            }
        }
        return false;
    },
    
    setLabel: function(label) {
        this.$0_3.setLabel(label);
    },
    
    setVisible: function(visible) {
        this.$0_3.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormDataControl = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormDataControl.initializeBase(this);
    this.$0_3 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormDataControl.prototype = {
    $0_3: null,
    
    getAttribute: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetAttribute');
        return this.$0_3.getAttribute().$B_2;
    },
    
    getDisabled: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetDisabled');
        return this.$0_3.getDisabled();
    },
    
    setDisabled: function(isDisabled) {
        this.$0_3.setDisabled(isDisabled);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetDisabled');
    },
    
    clearNotification: function(uniqueId) {
        return this.$0_3.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$0_3.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$0_3.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$0_3.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$0_3.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$0_3.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$0_3.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$0_3.getLabel(true);
    },
    
    getName: function() {
        return this.$0_3.getName();
    },
    
    getVisible: function() {
        return this.$0_3.getVisible();
    },
    
    setLabel: function(label) {
        this.$0_3.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$0_3.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlSearchWidget = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlSearchWidget.initializeBase(this);
    this.$m_3 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlSearchWidget.prototype = {
    $m_3: null,
    
    isKnowledgeInCrm: function() {
        return this.$m_3.isKnowledgeInCrm();
    },
    
    addOnResultOpened: function(handler) {
        this.$m_3.addOnResultOpened(handler);
    },
    
    addOnSelection: function(handler) {
        this.$m_3.addOnSelection(handler);
    },
    
    clearSearch: function() {
        this.$m_3.clearSearch();
    },
    
    getSearchQuery: function() {
        return this.getSearchQuery();
    },
    
    getSelectedResults: function() {
        return this.$m_3.getSelectedResults();
    },
    
    removeOnResultOpened: function(handler) {
        this.$m_3.removeOnResultOpened(handler);
    },
    
    removeOnSelection: function(handler) {
        this.$m_3.removeOnSelection(handler);
    },
    
    setSearchQuery: function(value) {
        return this.$m_3.setSearchQuery(value);
    },
    
    clearNotification: function(uniqueId) {
        return this.$m_3.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$m_3.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$m_3.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$m_3.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$m_3.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$m_3.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
        this.$m_3.setFocus();
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$m_3.getLabel();
    },
    
    getName: function() {
        return this.$m_3.getName();
    },
    
    getVisible: function() {
        return this.$m_3.getVisible();
    },
    
    setLabel: function(label) {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
        this.$m_3.setLabel(label);
    },
    
    setVisible: function(visible) {
        this.$m_3.setVisible(visible);
    },
    
    openSearchResult: function(resultNumber, mode) {
        return this.$m_3.openSearchResult(resultNumber, mode);
    },
    
    getTotalResultCount: function() {
        return this.$m_3.getTotalResultCount();
    },
    
    addOnPostSearch: function(handler) {
        this.$m_3.addOnPostSearch(handler);
    },
    
    removeOnPostSearch: function(handler) {
        this.$m_3.removeOnPostSearch(handler);
    },
    
    addOnPreSearch: function(handler) {
        this.$m_3.addOnPreSearch(handler);
    },
    
    removeOnPreSearch: function(handler) {
        this.$m_3.removeOnPreSearch(handler);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailRecipientActivity = function(viewModel) {
    Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailRecipientActivity.initializeBase(this);
    this.$1Q_3 = viewModel;
    viewModel.$B_2 = this;
}
Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailRecipientActivity.prototype = {
    $1Q_3: null,
    
    clearNotification: function(uniqueId) {
        return this.$1Q_3.clearNotification(uniqueId);
    },
    
    clearNotifications: function() {
        return this.$1Q_3.clearAllNotification();
    },
    
    setNotification: function(message, uniqueId) {
        return this.$1Q_3.setNotification(message, uniqueId);
    },
    
    addNotification: function(notification) {
        return this.$1Q_3.addNotification(notification);
    },
    
    getControlType: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetControlType');
        return this.$1Q_3.getControlType();
    },
    
    getParent: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetParent');
        var $v_0 = this.$1Q_3.getParent();
        return (IsNull($v_0)) ? null : $v_0.$B_2;
    },
    
    setFocus: function() {
        this.$1Q_3.setFocus();
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetFocus');
    },
    
    getLabel: function() {
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('GetLabel');
        return this.$1Q_3.getLabel();
    },
    
    getName: function() {
        return this.$1Q_3.getKey();
    },
    
    getVisible: function() {
        return this.$1Q_3.getVisible();
    },
    
    setLabel: function(label) {
        this.$1Q_3.setLabel(label);
        Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog('SetLabel');
    },
    
    setVisible: function(visible) {
        this.$1Q_3.setVisible(visible);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormNavigation = function(pageNavigation) {
    Mscrm.FormControls.ClientApi.XrmTurboFormNavigation.initializeBase(this);
    this.items = pageNavigation.$8R_1;
}


Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper = function() {
}
Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.addTelemetryLog = function(apiName) {
}


Mscrm.FormControls.ClientApi.XrmTurboFormData = function(formData) {
    Mscrm.FormControls.ClientApi.XrmTurboFormData.initializeBase(this);
    this.$1C_1 = formData;
    this.entity = new Mscrm.FormControls.ClientApi.XrmTurboFormEntity(formData.getEntity());
}
Mscrm.FormControls.ClientApi.XrmTurboFormData.prototype = {
    $1C_1: null,
    
    get_turboFormData: function() {
        return this.$1C_1;
    },
    
    addOnLoad: function(handler) {
        if (!IsNull(this.$1C_1) && !this.$1C_1.isDisposed) {
            this.$1C_1.addOnLoad(handler);
        }
    },
    
    blockAutoSave: function(autoSave) {
        this.$1C_1.blockAutoSave(autoSave);
    },
    
    getIsValid: function() {
        return this.$1C_1.getIsValid();
    },
    
    refresh: function(save) {
        return this.$1C_1.refresh(save);
    },
    
    refreshAppointment: function(appointmentId) {
        return this.$1C_1.refreshAppointment(appointmentId);
    },
    
    removeOnLoad: function(handler) {
        if (!IsNull(this.$1C_1) && !this.$1C_1.isDisposed) {
            this.$1C_1.removeOnLoad(handler);
        }
    },
    
    save: function(saveOptions) {
        return this.$1C_1.save(saveOptions);
    },
    
    setFormDirty: function(isDirty) {
        this.$1C_1.setFormDirty(isDirty);
    }
}


Mscrm.FormControls.ClientApi.XrmTurboFormUI = function(formUI) {
    Mscrm.FormControls.ClientApi.XrmTurboFormUI.initializeBase(this);
    this.$1g_1 = formUI;
    formUI.$B_1 = this;
    if (!isGlobalQuickCreate() && !$v()) {
        var $$t_A = this;
        formUI.addOnLoadInternal(function($p1_0) {
            $$t_A.formSelector = new Mscrm.FormControls.ClientApi.XrmTurboFormControlFormSelector(formUI.getFormSelector());
        });
    }
    this.navigation = new Mscrm.FormControls.ClientApi.XrmTurboFormNavigation(formUI.getNavigation());
    this.controls = new Xrm.XrmControls();
    this.tabs = new Xrm.XrmTabs();
    this.quickForms = new Xrm.XrmQuickForms();
    var $v_0 = formUI.getControls();
    var $$t_B = this;
    $v_0.forEach(function($p1_0, $p1_1) {
        if (Mscrm.TurboForm.Control.ViewModel.TabViewModel.isInstanceOfType($p1_0) || Mscrm.TurboForm.Control.ViewModel.SectionViewModel.isInstanceOfType($p1_0)) {
            return;
        }
        var $v_2 = Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($p1_0);
        if ($v_2) {
            $$t_B.controls.add($v_2);
        }
    });
    var $v_1 = formUI.getTabs();
    var $$t_C = this;
    $v_1.forEach(function($p1_0, $p1_1) {
        var $v_3 = Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($p1_0);
        if ($v_3) {
            $$t_C.tabs.add($v_3);
        }
    });
}
Mscrm.FormControls.ClientApi.XrmTurboFormUI.prototype = {
    $1g_1: null,
    
    get_formTitle: function() {
        return this.$1g_1.$6f_1;
    },
    
    set_formTitle: function(value) {
        this.$1g_1.set_formTitle(value);
        return value;
    },
    
    clearFormNotification: function(uniqueId) {
        return this.$1g_1.clearFormNotification(uniqueId);
    },
    
    close: function() {
        this.$1g_1.close();
    },
    
    getCurrentControl: function() {
        var $v_0 = this.$1g_1.getCurrentControl();
        if (!IsNull($v_0)) {
            return Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance($v_0);
        }
        return null;
    },
    
    getFormType: function() {
        return this.$1g_1.getFormType();
    },
    
    getViewPortHeight: function() {
        return this.$1g_1.getViewPortHeight();
    },
    
    getViewPortWidth: function() {
        return this.$1g_1.getViewPortWidth();
    },
    
    refreshRibbon: function() {
        this.$1g_1.refreshRibbon();
    },
    
    setFormNotification: function(message, notificationLevel, uniqueId) {
        return this.$1g_1.setFormNotification(message, notificationLevel, uniqueId);
    },
    
    setFormHtmlNotification: function(htmlText, notificationLevel, uniqueId) {
        return this.$1g_1.setFormHtmlNotification(htmlText, notificationLevel, uniqueId);
    }
}


Type.registerNamespace('Mscrm.TurboForm.Control.Data');

Mscrm.TurboForm.Control.Data.NumberType = function() {}
Mscrm.TurboForm.Control.Data.NumberType.prototype = {
    decimal: 0, 
    float: 1, 
    integer: 2, 
    money: 3
}
Mscrm.TurboForm.Control.Data.NumberType.registerEnum('Mscrm.TurboForm.Control.Data.NumberType', false);


Mscrm.TurboForm.Control.Data.BooleanDataAttribute = function(descriptor, parentEntity) {
    Mscrm.TurboForm.Control.Data.BooleanDataAttribute.initializeBase(this, [ descriptor, parentEntity ]);
    var $v_0 = descriptor.AttributeMetadata;
    var $v_1 = new Array(0);
    for (var $v_2 = 0; $v_2 < $v_0.Options.length; $v_2++) {
        var $v_3 = $v_0.Options[$v_2];
        var $v_4 = new Xrm.OptionSetItem($v_3.Value, $v_3.Label);
        $v_1[$v_1.length] = $v_4;
    }
    this.setOptionsInternal($v_1);
    if (!IsNull($v_0.DefaultValue)) {
        this.setValueInternal($v_0.DefaultValue);
        this.resetInitialValue($v_0.DefaultValue);
    }
}
Mscrm.TurboForm.Control.Data.BooleanDataAttribute.$$cctor = function() {
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('BooleanAttributeMetadata', Mscrm.TurboForm.Control.Data.BooleanDataAttribute.$Fr);
}
Mscrm.TurboForm.Control.Data.BooleanDataAttribute.$Fr = function($p0, $p1) {
    var $v_0 = new Mscrm.TurboForm.Control.Data.BooleanDataAttribute($p0, $p1);
    return $v_0;
}
Mscrm.TurboForm.Control.Data.BooleanDataAttribute.prototype = {
    
    getAttributeType: function() {
        return 'boolean';
    }
}


Mscrm.TurboForm.Control.Data.DataAttributeBase = function(descriptor, parentEntity) {
    this.$$d_$Lg_2 = Function.createDelegate(this, this.$Lg_2);
    this.controls = new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel))();
    this.$7x_2 = new Array(0);
    Mscrm.TurboForm.Control.Data.DataAttributeBase.initializeBase(this);
    this.$6Q_2 = descriptor.AttributeMetadata;
    this.$CN_2 = descriptor.Name;
    this.$8g_2 = parentEntity;
    var $v_0 = new Xrm.FormDataAttributePrivilege(0);
    $v_0.canCreate = descriptor.AttributeMetadata.ValidForCreate;
    $v_0.canUpdate = descriptor.AttributeMetadata.ValidForUpdate;
    $v_0.canRead = descriptor.AttributeMetadata.ValidForRead;
    this.$FH_2($v_0);
    this.setSourceType(descriptor.AttributeMetadata.SourceType);
    this.setRequiredLevel(descriptor.AttributeMetadata.RequiredLevel);
    this.addValidator(this.$$d_$Lg_2);
    this.setSourceTypeMask(descriptor.AttributeMetadata.SourceTypeMask);
    this.setRollupAssociatedDateFieldName(descriptor.AttributeMetadata.RollupAssociatedDateFieldName);
    this.setRollupAssociatedStateFieldName(descriptor.AttributeMetadata.RollupAssociatedStateFieldName);
    this.setRollupInvalid(descriptor.AttributeMetadata.RollupInvalid);
    this.$6s_2 = descriptor.AttributeMetadata.IsSecured;
}
Mscrm.TurboForm.Control.Data.DataAttributeBase.prototype = {
    $6Q_2: null,
    $1x_2: null,
    $CN_2: null,
    $8g_2: null,
    $6s_2: false,
    $99_2: null,
    $3U_2: null,
    $Cz_2: 'dirty',
    $AQ_2: true,
    $47_2: 0,
    $77_2: null,
    $4V_2: null,
    
    get_lastSaveCallValue: function() {
        return this.$4V_2;
    },
    
    set_lastSaveCallValue: function(value) {
        this.$4V_2 = value;
        return value;
    },
    
    get_isDirtyAfterLastSaveCall: function() {
        if (this.getParent().$K_1.$8_1 === Mscrm.TurboForm.Control.PageManager.get_instance().$L_1 && this.getParent().$2e_1 === 2) {
            return !this.isEqual(this.$4V_2, this.getValue());
        }
        return false;
    },
    
    get_attributeMetadata: function() {
        return this.$6Q_2;
    },
    
    $B_2: null,
    
    get_xrmWrapper: function() {
        return this.$B_2;
    },
    
    set_xrmWrapper: function(value) {
        this.$B_2 = value;
        return value;
    },
    
    get_initialValue: function() {
        return this.$1x_2;
    },
    
    set_initialValue: function(value) {
        this.$1x_2 = value;
        return value;
    },
    
    get_isSecuritySet: function() {
        return this.$6s_2;
    },
    
    set_isSecuritySet: function(value) {
        this.$6s_2 = value;
        return value;
    },
    
    resetInitialValue: function(value) {
        var $v_0 = this.processValue(value);
        this.$1x_2 = $v_0;
    },
    
    resetValue: function(value) {
        var $v_0 = this.getValue();
        var $v_1 = this.processValue(value);
        var $v_2 = this.validate($v_1);
        if (IsNull($v_2) || !$v_2.$1B_0) {
            return;
        }
        if (!this.isEqual($v_0, $v_1)) {
            this.setValueInternal(value, null, false);
        }
        this.$1x_2 = $v_1;
    },
    
    enableValidation: function() {
        this.$AQ_2 = false;
    },
    
    bindData: function(data) {
        var $v_0 = this.getUserPrivilege();
        if (!IsNull(data['securedupdate']) && data['securedupdate'].toString() === '1') {
            $v_0.canUpdate = false;
        }
        if (!IsNull(data['securedcreate']) && data['securedcreate'].toString() === '1') {
            $v_0.canCreate = false;
        }
        if (!IsNull(data['securedread']) && data['securedread'].toString() === '1') {
            $v_0.canRead = false;
        }
        this.$FH_2($v_0);
        if (!this.get_isDirtyAfterLastSaveCall()) {
            var $v_1 = this.getPropertyValueInternal(Mscrm.TurboForm.Control.Data.DataAttributeBase.$2F);
            this.bindDataInternal(data);
            var $v_2 = this.getPropertyValueInternal(Mscrm.TurboForm.Control.Data.DataAttributeBase.$2F);
            if ((this.getParent().$2e_1 === 2) || (this.getParent().$2e_1 === 3)) {
                if (!this.isEqual($v_1, $v_2)) {
                    this.fireOnChange();
                    this.fireOnChangeInternal();
                }
            }
            this.$1x_2 = this.getPropertyValueInternal(Mscrm.TurboForm.Control.Data.DataAttributeBase.$2F);
            this.$4V_2 = this.$1x_2;
        }
    },
    
    bindDataInternal: function(data) {
    },
    
    getControls: function() {
        return this.controls;
    },
    
    getName: function() {
        return this.$CN_2;
    },
    
    getKey: function() {
        return this.getName();
    },
    
    getIsDirty: function() {
        return !this.isEqual(this.$1x_2, this.getValueInternal());
    },
    
    $Fm_2: function() {
        if (!this.controls.getLength()) {
            return false;
        }
        for (var $v_0 = 0; $v_0 < this.controls.getLength(); $v_0++) {
            if (!(this.controls.getByIndex($v_0)).getDisabled()) {
                return false;
            }
        }
        return true;
    },
    
    getIsValid: function() {
        var $v_0 = true;
        var $v_1 = this.validate();
        if (!IsNull($v_1)) {
            $v_0 = $v_1.$1B_0;
            if (!$v_0) {
                return false;
            }
            for (var $v_2 = 0; $v_2 < this.controls.getLength(); $v_2++) {
                var $v_3 = this.controls.getByIndex($v_2);
                if ($v_3.hasErrorNotification()) {
                    return false;
                }
            }
        }
        return $v_0;
    },
    
    getParent: function() {
        return this.$8g_2;
    },
    
    getUserPrivilege: function() {
        var $v_0 = this.getPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$D1);
        var $v_1 = new Xrm.FormDataAttributePrivilege(0);
        $v_1.canCreate = $v_0.canCreate;
        $v_1.canRead = $v_0.canRead;
        $v_1.canUpdate = $v_0.canUpdate;
        return $v_1;
    },
    
    $FH_2: function($p0) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$D1, $p0);
    },
    
    addOnChange: function(handler, isInternal) {
        isInternal = (IsNull(isInternal)) ? false : isInternal;
        var $v_0 = (isInternal) ? 'ChangeInternal' : 'Change';
        this.get_$4G_2().addHandler($v_0, handler, false);
    },
    
    removeOnChange: function(handler, isInternal) {
        isInternal = (IsNull(isInternal)) ? false : isInternal;
        var $v_0 = (isInternal) ? 'ChangeInternal' : 'Change';
        this.get_$4G_2().removeHandler($v_0, handler);
    },
    
    addSourceSpecificOnChange: function(handler, sourceControlId) {
        this.get_$4G_2().addHandler('Change' + sourceControlId, handler, false);
    },
    
    removeSourceSpecificOnChange: function(handler, sourceControlId) {
        this.get_$4G_2().removeHandler('Change' + sourceControlId, handler);
    },
    
    get_$4G_2: function() {
        if (!this.$99_2) {
            this.$99_2 = new Mscrm.ClientApiEventHandlerList(new Sys.EventHandlerList());
        }
        return this.$99_2;
    },
    
    fireOnChange: function() {
        var $v_0 = this.get_$4G_2().getHandler('Change');
        if ($v_0) {
            $v_0(this.getWrapper(), null);
        }
    },
    
    fireSourceSpecificOnChange: function(sourceControlId) {
        var $v_0 = this.get_$4G_2().getHandler('Change' + sourceControlId);
        if ($v_0) {
            $v_0(this.getWrapper(), null);
        }
    },
    
    fireOnChangeInternal: function() {
        var $v_0 = this.get_$4G_2().getHandler('ChangeInternal');
        if ($v_0) {
            $v_0(this.getWrapper(), null);
        }
    },
    
    getWrapper: function() {
        if (!this.$3U_2) {
            this.$3U_2 = this.getWrapperInternal();
        }
        return this.$3U_2;
    },
    
    getWrapperInternal: function() {
        return Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeFactory.createInstance(this);
    },
    
    getSubmitMode: function() {
        return this.$Cz_2;
    },
    
    setSubmitMode: function(mode) {
        switch (mode) {
            case 'always':
            case 'dirty':
            case 'never':
                this.$Cz_2 = mode;
                break;
            default:
                break;
        }
    },
    
    getRequiredLevel: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$A2);
    },
    
    setRequiredLevel: function(requiredLevel, clearValidationIfRequiredLevelNone) {
        switch (requiredLevel) {
            case 'recommended':
            case 'required':
            case 'none':
                this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$A2, requiredLevel);
                break;
            case 'systemrequired':
                this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$A2, 'required');
                break;
            default:
                break;
        }
        if (requiredLevel === 'none' && clearValidationIfRequiredLevelNone) {
            var $v_0 = this.controls.getLength();
            for (var $v_1 = 0; $v_1 < $v_0; $v_1++) {
                var $v_2 = this.controls.getByIndex($v_1);
                $v_2.clearNotification('ControlValidationFailedKey');
            }
        }
    },
    
    getValue: function() {
        if (this.isPropertyReadable(Mscrm.TurboForm.Control.Data.DataAttributeBase.$2F.$1D_0) || this.getIsDirty()) {
            return this.getValueInternal();
        }
        return Mscrm.TurboForm.Control.Data.DataAttributeBase.$2F.$1n_0;
    },
    
    getValueInternal: function() {
        return this.getPropertyValueInternal(Mscrm.TurboForm.Control.Data.DataAttributeBase.$2F);
    },
    
    setValue: function(value, sourceControlId, forceSet, skipFireOnChange) {
        if (IsNull(sourceControlId) || this.isPropertyWritable(Mscrm.TurboForm.Control.Data.DataAttributeBase.$2F.$1D_0)) {
            this.setValueInternal(value, sourceControlId, forceSet, skipFireOnChange);
        }
    },
    
    setValueInternal: function(value, sourceControlId, forceSet, skipFireOnChange) {
        var $v_0 = this.processValue(value);
        var $v_1 = this.getValue();
        if (IsNull($v_1) && !IsNullOrEmptyString(sourceControlId) && sourceControlId === 'description') {
            $v_1 = '<br><div id=\"signature\"></div>';
        }
        var $v_2 = (!IsNull(forceSet) && forceSet);
        var $v_3 = !IsNull(skipFireOnChange) && skipFireOnChange;
        if (!IsNullOrEmptyString(sourceControlId)) {
            var $v_5 = this.controls.getByName(sourceControlId);
            if (!IsNull($v_5) && this.isPropertyReadable(Mscrm.TurboForm.Control.Data.DataAttributeBase.$2F.$1D_0)) {
                var $v_6 = new Mscrm.TurboForm.Control.PropertyBag();
                $v_6.addPropertyData(Mscrm.TurboForm.Control.Data.DataAttributeBase.$2F.$1D_0, $v_0);
                $v_5.$G_2.getControlViewById(sourceControlId).update($v_6);
            }
        }
        var $v_4 = this.validate($v_0);
        if ($v_4.$1B_0 || $v_4.$4J_0 === 10 || $v_4.$4J_0 === 22 || this.isMultiLookupControl()) {
            this.setPropertyValueInternal(Mscrm.TurboForm.Control.Data.DataAttributeBase.$2F, $v_0, forceSet);
            var $v_7 = this.controls.getLength();
            for (var $v_8 = 0; $v_8 < $v_7; $v_8++) {
                var $v_9 = this.controls.getByIndex($v_8);
                if (!IsNull(sourceControlId) && ($v_9.getKey() === sourceControlId || $v_9.getFormattedKey() === sourceControlId) && !this.isEqual($v_1, $v_0)) {
                    if (!$v_3) {
                        this.fireOnChange();
                        this.fireSourceSpecificOnChange(sourceControlId);
                    }
                    if (!$v()) {
                        Xrm.Page.data.setFormDirty(true);
                    }
                }
                $v_9.clearNotification('ControlValidationFailedKey');
            }
            if (!this.isEqual($v_1, $v_0)) {
                this.fireOnChangeInternal();
            }
        }
        if (!$v_4.$1B_0 && !IsNull($v_4.$1o_0)) {
            if (!IsNullOrEmptyString(sourceControlId)) {
                var $v_A = this.controls.getByName(sourceControlId);
                if (!IsNull($v_A)) {
                    $v_A.setNotification($v_4.$1o_0, 'ControlValidationFailedKey');
                }
            }
            else {
                var $v_B = $v_4.$9z_0 || $v_2;
                if (!$v_B) {
                    Xrm.Utility.alertDialog($v_4.$1o_0, null);
                }
                var $v_C = this.getParent().$K_1.$8_1.getPageUI().getFirstVisibleControlInTree(this.getControls());
                if (!IsNull($v_C) && Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel.isInstanceOfType($v_C)) {
                    ($v_C).setFocus();
                }
            }
        }
    },
    
    getFormat: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$7f);
    },
    
    setFormat: function(format) {
        if (IsNullOrEmptyString(format)) {
            this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$7f, format);
            return;
        }
        switch (format) {
            case 'date':
            case 'datetime':
            case 'duration':
            case 'email':
            case 'language':
            case 'none':
            case 'phone':
            case 'text':
            case 'textarea':
            case 'tickersymbol':
            case 'timezone':
            case 'url':
                this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$7f, format);
                break;
            default:
                this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$7f, null);
                break;
        }
    },
    
    setSourceType: function(sourceType) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$Cx, sourceType);
    },
    
    getSourceType: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$Cx);
    },
    
    setSourceTypeMask: function(sourceTypeMask) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$Cw, sourceTypeMask);
    },
    
    get_rollupAssociatedDateFieldValue: function() {
        return this.$77_2;
    },
    
    set_rollupAssociatedDateFieldValue: function(value) {
        this.$77_2 = value;
        return value;
    },
    
    get_rollupAssociatedStateFieldValue: function() {
        return this.$47_2;
    },
    
    set_rollupAssociatedStateFieldValue: function(value) {
        this.$47_2 = value;
        return value;
    },
    
    getSourceTypeMask: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$Cw);
    },
    
    setRollupAssociatedDateFieldName: function(rollupAssociatedDateFieldName) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$Cg, rollupAssociatedDateFieldName);
    },
    
    getRollupAssociatedDateFieldName: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$Cg);
    },
    
    setRollupAssociatedStateFieldName: function(rollupAssociatedStateFieldName) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$Ch, rollupAssociatedStateFieldName);
    },
    
    getRollupAssociatedStateFieldName: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$Ch);
    },
    
    setRollupInvalid: function(invalid) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$Ci, invalid);
    },
    
    getIsRollupInvalid: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$Ci);
    },
    
    getWarningEnabled: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$D7);
    },
    
    setWarningEnabled: function(isEnabled) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.DataAttributeBase.$D7, isEnabled);
    },
    
    processValue: function(value) {
        if (String.isInstanceOfType(value)) {
            if (IsNullOrEmptyString(value.toString()) || (!this.getUserPrivilege().canRead && value.toString() === '*******')) {
                value = null;
            }
        }
        return (IsNull(value)) ? null : value;
    },
    
    isEqual: function(value1, value2) {
        return value1 === value2;
    },
    
    addValidator: function(validator) {
        this.$7x_2[this.$7x_2.length] = validator;
    },
    
    isPropertyReadable: function(propertyKey) {
        if (propertyKey === 6) {
            return this.getUserPrivilege().canRead;
        }
        return true;
    },
    
    get_hasValue: function() {
        return !IsNull(this.getValue()) && !IsNullOrEmptyString(this.getValue().toString());
    },
    
    isPropertyWritable: function(propertyKey) {
        if (propertyKey === 6) {
            if (Xrm.Page.ui.getFormType() === 2) {
                return this.getUserPrivilege().canUpdate;
            }
            else if (Xrm.Page.ui.getFormType() === 1) {
                return this.getUserPrivilege().canCreate;
            }
        }
        return true;
    },
    
    validate: function(value) {
        if (!this.$AQ_2) {
            if (!arguments.length) {
                value = this.getValueInternal();
            }
            var $v_0 = new Mscrm.TurboForm.Control.ValidationEventArgs(value);
            for (var $v_1 = 0; $v_1 < this.$7x_2.length; $v_1++) {
                var $v_2 = this.$7x_2[$v_1]($v_0);
                if (!$v_2.$1B_0) {
                    return $v_2;
                }
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    hasDataToSerialize: function(mode) {
        var $v_0 = this.getSubmitMode();
        switch ($v_0) {
            case 'always':
                return this.getIsDirty();
            case 'never':
                return false;
            case 'dirty':
                switch (mode) {
                    case 0:
                        return this.get_hasValue();
                    case 1:
                        return this.getIsDirty() && !this.$Fm_2();
                    default:
                        break;
                }
                break;
            default:
                break;
        }
        return false;
    },
    
    $HH_2: function() {
        var $v_0 = (this.$8g_2.get_isNew()) ? 0 : 1;
        if (this.getSubmitMode() === 'never' || (this.getSubmitMode() === 'dirty' && !this.getIsDirty() && !this.hasDataToSerialize($v_0))) {
            return '';
        }
        return this.getDataXmlInternal();
    },
    
    getDataXmlInternal: function() {
        var $v_0 = CrmEncodeDecode.CrmXmlEncode(this.getKey());
        var $v_1 = (IsNull(this.getValueInternal())) ? '' : CrmEncodeDecode.CrmXmlEncode(this.getValueInternal().toString());
        var $v_2 = new Sys.StringBuilder();
        $v_2.append('<');
        $v_2.append($v_0);
        $v_2.append('>');
        $v_2.append($v_1);
        $v_2.append('</');
        $v_2.append($v_0);
        $v_2.append('>');
        return $v_2.toString();
    },
    
    $Lg_2: function($p0) {
        var $v_0 = $p0.$u_0;
        var $v_1 = this.getRequiredLevel();
        var $v_2 = Xrm.Page.getControl(this.getName());
        if (($v_1 === 'required' || $v_1 === 'systemrequired') && (!$v() || $v_2.getVisible())) {
            if (IsNull($v_0) || IsNullOrEmptyString($v_0.toString())) {
                var $v_3 = (IsNull(this.controls.getByName(this.getKey()))) ? null : this.controls.getByName(this.getKey()).getLabel(true);
                if (IsNullOrEmptyString($v_3)) {
                    var $v_5 = (this.controls.getLength() > 0) ? this.controls.getByIndex(0) : null;
                    if (!IsNull($v_5)) {
                        var $v_6 = $v_5.$Q_2.Id;
                        if ($v_6.indexOf('compositionLinkControl') > -1 && this.getName() !== 'compositionLinkControl') {
                            $v_3 = $v_5.getLabel(true);
                        }
                    }
                }
                var $v_4 = [ (IsNullOrEmptyString($v_3)) ? this.getKey() : $v_3 ];
                var $$t_8;
                return new Mscrm.TurboForm.Control.ValidationResult(false, 10, ($$t_8 = Mscrm.TurboForm.Control.ResourceManager.get_instance()).getLocalizedErrorMessage.apply($$t_8, [ 10 ].concat($v_4)), true);
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    isMultiLookupControl: function() {
        return false;
    }
}


Mscrm.TurboForm.Control.Data.DataEntity = function(metadata, parent) {
    this.$2R_1 = [];
    this.attributes = new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.Data.DataAttributeBase))();
    Mscrm.TurboForm.Control.Data.DataEntity.initializeBase(this);
    this.$K_1 = parent;
    this.$4P_1 = metadata.LogicalName;
    this.$BX_1 = metadata.EntitySetName;
    this.$69_1 = metadata.PrimaryKeyName;
    this.$BY_1 = metadata.Code;
}
Mscrm.TurboForm.Control.Data.DataEntity.prototype = {
    $3U_1: null,
    $4P_1: null,
    $BY_1: 0,
    $BX_1: null,
    $D3_1: null,
    $69_1: null,
    $w_1: null,
    $5t_1: null,
    $1j_1: null,
    $K_1: null,
    $4f_1: null,
    $7t_1: false,
    $4M_1: false,
    $3D_1: null,
    
    get_$29_1: function() {
        if (!this.$3D_1) {
            this.$3D_1 = new Mscrm.ClientApiEventHandlerList(new Sys.EventHandlerList());
        }
        return this.$3D_1;
    },
    
    $B_1: null,
    
    get_xrmWrapper: function() {
        return this.$B_1;
    },
    
    set_xrmWrapper: function(value) {
        this.$B_1 = value;
        return value;
    },
    
    $2e_1: 0,
    
    get_dataLoadState: function() {
        return this.$2e_1;
    },
    
    set_dataLoadState: function(value) {
        this.$2e_1 = value;
        return value;
    },
    
    get_parentFormData: function() {
        return this.$K_1;
    },
    
    get_controlViewModelInstance: function() {
        return this.$4f_1;
    },
    
    set_controlViewModelInstance: function(value) {
        this.$4f_1 = value;
        return value;
    },
    
    get_pendingAssociations: function() {
        return this.$2R_1;
    },
    
    set_pendingAssociations: function(value) {
        this.$2R_1 = value;
        return value;
    },
    
    clearPendingAssociations: function() {
        if (this.$2R_1.length > 0) {
            for (var $v_0 = 0; $v_0 < this.$2R_1.length; $v_0++) {
                this.$2R_1[$v_0] = null;
            }
            Array.clear(this.$2R_1);
        }
    },
    
    setAttributesLastSavedValue: function() {
        for (var $v_0 = 0; $v_0 < this.attributes.getLength(); $v_0++) {
            var $v_1 = this.attributes.getByIndex($v_0);
            $v_1.$4V_2 = $v_1.getValue();
        }
    },
    
    bindData: function(data, loadState) {
        this.setId(data._entity.Id);
        this.set_recordName(data._entity.Name);
        this.$L0_1(data._entity.RowVersion);
        var $v_0 = this.$K_1.$1i_1;
        var $v_1 = !this.$K_1.$1i_1;
        this.$2e_1 = loadState;
        var $v_2 = this.$Bn_1();
        for (var $v_3 = 0; $v_3 < this.attributes.getLength(); $v_3++) {
            var $v_4 = this.attributes.getByIndex($v_3);
            if (!IsNull($v_2) && $v_2 === $v_4.getName()) {
                continue;
            }
            var $v_5 = data[$v_4.getKey()];
            var $v_6 = $v_4;
            if ($v_5) {
                $v_6.bindData($v_5);
                if ($v_6.getSourceType() === 2) {
                    var $v_8 = $v_6.getRollupAssociatedDateFieldName();
                    var $v_9 = data[$v_8];
                    if ($v_9) {
                        $v_6.$77_2 = $v_9['value'];
                    }
                    var $v_A = $v_6.getRollupAssociatedStateFieldName();
                    var $v_B = data[$v_A];
                    if ($v_B) {
                        $v_6.$47_2 = parseInt($v_B['value']);
                    }
                    else {
                        $v_6.$47_2 = 0;
                    }
                    var $v_C = $v_6.getSourceType();
                    $v_6.setSourceType(0);
                    $v_6.setSourceType($v_C);
                }
            }
            else {
                if (!$v_6.get_isDirtyAfterLastSaveCall()) {
                    $v_6.setValue(null, null, true);
                    $v_6.resetInitialValue(null);
                }
            }
            var $v_7 = $v_4.getControls().getLength();
            for (var $v_D = 0; $v_D < $v_7; $v_D++) {
                var $v_E = $v_4.getControls().getByIndex($v_D);
                if ($v_4.getName() === 'statecode') {
                    $v_E.$3L_2 = false;
                    $v_E.setSoftDisabled(true);
                }
                else {
                    $v_E.$3L_2 = $v_1;
                    $v_E.setSoftDisabled($v_0);
                }
            }
        }
        this.$2e_1 = 0;
        if (!IsNull(data._disabledcontrols)) {
            var $v_F = new (Microsoft.Crm.Client.Core.Framework.List$1.$$(String))();
            var $v_G = this.$K_1.$8_1.getAttribute('statecode');
            if (!IsNull($v_G)) {
                var $v_H = $v_G.getControls();
                for (var $v_I = 0; $v_I < $v_H.getLength(); $v_I++) {
                    $v_F.add($v_H.getByIndex($v_I).getKey());
                }
            }
            var $$dict_O = data._disabledcontrols;
            for (var $$key_P in $$dict_O) {
                var $v_J = { key: $$key_P, value: $$dict_O[$$key_P] };
                var $v_K = this.$K_1.$8_1.getPageUI().getControlById($v_J.key);
                if ($v_K && Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel.isInstanceOfType($v_K) && !(3 === loadState && Array.contains(Mscrm.TurboForm.Control.Data.DataEntity.$Dd, ($v_K).getAttributeName()))) {
                    var $v_L = $v_K;
                    $v_L.$3L_2 = !$v_F.contains($v_K.getKey());
                    $v_L.setSoftDisabled(true);
                }
            }
        }
        if (this.get_isNew()) {
            var $v_M = this.$K_1.$8_1;
            var $v_N = $v_M.getPageUI().getFirstRequiredControlInTree(this.$K_1.$8_1.getPageUI().getControls());
            if (Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel.isInstanceOfType($v_N)) {
                ($v_N).setFocus();
            }
        }
    },
    
    $L0_1: function($p0) {
        this.$D3_1 = (!IsNull($p0)) ? $p0 : '';
    },
    
    $Bn_1: function() {
        var $v_0 = null;
        var $v_1 = true;
        if (this.$4M_1) {
            var $v_2 = Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.getPageUI().getCurrentControl();
            if (!IsNull($v_2)) {
                var $v_3 = $v_2.$G_2.getControlViewById($v_2.getKey());
                if (!IsNull($v_3)) {
                    if (this.getEntityTypeCode().toString() === '4202' && $v_3.$4_2.getAttributeType() === 'memo') {
                        $v_1 = ($v_3.$T_4).emailBodyHasFocus();
                    }
                    if ($v_1 && $v_3.$h_4.style.display === 'block') {
                        $v_0 = $v_2.getAttributeName();
                    }
                }
            }
        }
        return $v_0;
    },
    
    bindEmptyData: function() {
        this.setId(Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString());
        for (var $v_0 = 0; $v_0 < this.attributes.getLength(); $v_0++) {
            var $v_1 = this.attributes.getByIndex($v_0);
            if ($v_1.getAttributeType() === 'Hidden') {
                continue;
            }
            if (_Script.isNullOrUndefined($v_1.getControls().getByIndex(0))) {
                continue;
            }
            var $v_2 = ($v_1.getControls().getByIndex(0).$Q_2).ClassId;
            if ($v_2.equals(Mscrm.TurboForm.Common.FormControlClassId.buttonControl) || $v_2.equals(Mscrm.TurboForm.Common.FormControlClassId.labelControl)) {
                continue;
            }
            $v_1.$47_2 = 0;
            if (!$v_1.get_isDirtyAfterLastSaveCall() && IsNull($v_1.getValue())) {
                $v_1.setValue(null, null, true);
                $v_1.resetInitialValue(null);
            }
        }
        this.$2e_1 = 0;
        if (this.get_isNew()) {
            var $v_3 = this.$K_1.$8_1;
            var $v_4 = $v_3.getPageUI().getFirstRequiredControlInTree(this.$K_1.$8_1.getPageUI().getControls());
            if (Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel.isInstanceOfType($v_4)) {
                ($v_4).setFocus();
            }
        }
    },
    
    getAttributes: function() {
        return this.attributes;
    },
    
    getDataXml: function() {
        var $v_0 = CrmEncodeDecode.CrmXmlEncode(this.$4P_1);
        var $v_1 = this.$Bn_1();
        var $v_2 = false;
        var $v_3 = new Sys.StringBuilder();
        for (var $v_5 = 0; $v_5 < this.attributes.getLength(); $v_5++) {
            var $v_6 = this.attributes.getByIndex($v_5);
            var $v_7 = $v_6.$HH_2();
            $v_3.append($v_7);
            if ($v_6.getName() === this.$69_1 && !isNullOrEmptyString($v_7)) {
                $v_2 = true;
            }
        }
        var $v_4 = $v_3.toString();
        if (this.get_isNew() && Mscrm.TurboForm.Control.PageManager.get_instance().$L_1 === this.$K_1.$8_1) {
            $v_4 = this.$Fh_1($v_4);
        }
        if (!IsNull(this.$5t_1) && this.get_isNew() && !$v_2) {
            $v_4 += this.$Hd_1();
        }
        return String.format('<{0}>{1}</{0}>', $v_0, $v_4);
    },
    
    $Hd_1: function() {
        var $v_0 = new Sys.StringBuilder();
        $v_0.append('<');
        $v_0.append(CrmEncodeDecode.CrmXmlEncode(this.$69_1));
        $v_0.append('>');
        $v_0.append(CrmEncodeDecode.CrmXmlEncode(this.$5t_1));
        $v_0.append('</');
        $v_0.append(CrmEncodeDecode.CrmXmlEncode(this.$69_1));
        $v_0.append('>');
        return $v_0.toString();
    },
    
    $Fh_1: function($p0) {
        var $v_0 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.attributeMappingXml;
        var $v_1 = XUI.Xml.LoadXml('<mapped>' + $v_0 + '</mapped>');
        var $v_2 = !XUI.Xml.DomUtils.HasChildElements($v_1.documentElement);
        if ($p0.length > 0 && !$v_2) {
            var $v_3 = XUI.Xml.LoadXml('<changes>' + $p0 + '</changes>');
            var $v_4 = XUI.Xml.SelectNodes($v_3.documentElement, '*', null);
            for (var $v_5 = 0, $v_6 = $v_4.length; $v_5 < $v_6; $v_5++) {
                var $v_7 = $v_4[$v_5];
                if ($v_7.nodeType === 1) {
                    var $v_8 = XUI.Xml.SelectNodes(XUI.Xml.DomUtils.GetFirstChild($v_1), $v_7.nodeName, null);
                    if (!IsNull($v_8) && $v_8.length > 0) {
                        XUI.Xml.DomUtils.GetFirstChild($v_1).removeChild($v_8[0]);
                    }
                }
            }
        }
        $v_0 = '';
        $v_2 = !XUI.Xml.DomUtils.HasChildElements($v_1.documentElement);
        if (!$v_2) {
            $v_0 = XUI.Xml.XMLSerializer.serializeToString($v_1).replace('<mapped>', '');
            $v_0 = $v_0.replace('</mapped>', '');
        }
        return $p0 + $v_0;
    },
    
    get_isNew: function() {
        if (isNullOrEmptyString(this.$w_1)) {
            return true;
        }
        else {
            return false;
        }
    },
    
    get_recordId: function() {
        return this.$w_1;
    },
    
    set_recordId: function(value) {
        this.setId(value);
        return value;
    },
    
    get_recordName: function() {
        return this.$1j_1;
    },
    
    set_recordName: function(value) {
        if (value !== this.$1j_1) {
            this.$1j_1 = value;
            this.$Gv_1();
        }
        return value;
    },
    
    serialize: function(mode) {
        return this.getDataXml();
    },
    
    getEntityName: function() {
        return this.$4P_1;
    },
    
    getEntityTypeCode: function() {
        return this.$BY_1;
    },
    
    getEntitySetName: function() {
        return this.$BX_1;
    },
    
    getRowVersion: function() {
        return this.$D3_1;
    },
    
    getId: function() {
        return this.$w_1;
    },
    
    setRecordId: function(createRecordId) {
        this.$5t_1 = createRecordId;
        var $v_0 = this.attributes.getByName(this.$69_1);
        if (!IsNull($v_0) && !IsNull($v_0.getValue())) {
            $v_0.setValue(this.$5t_1, null);
        }
    },
    
    setId: function(entityId) {
        entityId = (IsNullOrEmptyString(entityId)) ? entityId : Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(entityId);
        if (entityId === this.$w_1) {
            return;
        }
        if (IsNullOrEmptyString(entityId)) {
            Xrm.Internal.trace.warningT(Mscrm.TurboForm.Control.Data.DataEntity, 'new guid is empty');
        }
        Xrm.Internal.trace.logT(Mscrm.TurboForm.Control.Data.DataEntity, 'ID change from {0} to {1}', this.$w_1, entityId);
        this.$w_1 = entityId;
        this.$Gu_1();
    },
    
    getIsDirty: function() {
        for (var $v_0 = 0; $v_0 < this.attributes.getLength(); $v_0++) {
            var $v_1 = this.attributes.getByIndex($v_0);
            if ($v_1.getIsDirty() && $v_1.getSubmitMode() !== 'never') {
                return true;
            }
        }
        return false;
    },
    
    $Gu_1: function() {
        var $v_0 = this.get_$29_1().getHandler('OnRecordIdChanged');
        if ($v_0) {
            $v_0(this, null);
        }
    },
    
    $Gv_1: function() {
        var $v_0 = this.get_$29_1().getHandler('OnRecordNameChanged');
        if ($v_0) {
            $v_0(this, null);
        }
    },
    
    getPrimaryAttributeValue: function() {
        return this.$1j_1;
    },
    
    isInHierarchy: function() {
        return Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.get_isFormHierarchyEnabled();
    },
    
    addOnSave: function(handler) {
        if (handler) {
            this.get_$29_1().addHandler('OnSave', handler, false);
        }
    },
    
    removeOnSave: function(handler) {
        if (handler) {
            this.get_$29_1().removeHandler('OnSave', handler);
        }
    },
    
    addOnRecordIdChanged: function(handler, system) {
        this.get_$29_1().addHandler('OnRecordIdChanged', handler, system);
    },
    
    removeOnRecordIdChanged: function(handler) {
        this.get_$29_1().removeHandler('OnRecordIdChanged', handler);
    },
    
    addOnRecordNameChanged: function(handler, system) {
        this.get_$29_1().addHandler('OnRecordNameChanged', handler, system);
    },
    
    removeOnRecordNameChanged: function(handler) {
        this.get_$29_1().removeHandler('OnRecordNameChanged', handler);
    },
    
    save: function(action, isAutoSave) {
        this.saveInternal(action, isAutoSave);
    },
    
    saveInternal: function(action, isAutoSave, sync, shouldPromptOnDataLoss, saveOptions, saveAsCompleted) {
        var $v_0 = jQueryApi.jQueryDeferredFactory.Deferred(Mscrm.TurboForm.Control.EntityDataDescriptor, Mscrm.ErrorInformation);
        if (this.$7t_1) {
            $v_0.reject(Mscrm.ErrorInformation.createErrorInfo((-1).toString(), Mscrm.TurboForm.Control.ErrorCode.toString(-1), null));
            return $v_0.promise();
        }
        this.$7t_1 = true;
        if (!isAutoSave) {
            tryCommitActiveControl(true);
        }
        var $v_1 = this.$Gf_1(action, isAutoSave);
        sync = (IsNull(sync)) ? false : sync;
        sync = (IsNullOrEmptyString(action)) ? sync : true;
        shouldPromptOnDataLoss = (IsNull(shouldPromptOnDataLoss)) ? true : shouldPromptOnDataLoss;
        var $v_2 = new Mscrm.TurboForm.Control.Data.EntitySaveEventArgs($v_1);
        if (IsNull(isAutoSave)) {
            isAutoSave = false;
        }
        var $v_3 = this.get_isNew();
        this.$4M_1 = isAutoSave;
        var $v_4 = this.$Lj_1(isAutoSave, $v_2);
        if ($v_4.$1B_0) {
            var $v_5 = false;
            try {
                $v_5 = Mscrm.TurboForm.Control.CommandService.get_instance().handleSaveForScheduledEntities(Xrm.Page.data.entity.getEntityName(), saveOptions, $v_1, this.$5t_1, $v_0);
            }
            catch ($v_8) {
                Xrm.Internal.trace.error('DataEntity ', 'Exception in method : HandleSaveForScheduledEntities -  {0}', $v_8.message);
            }
            if ($v_5) {
                this.$7t_1 = false;
                return $v_0.promise();
            }
            var $$t_I = this;
            var $v_6 = function($p1_0) {
                if (action !== 'saveandclose' || isAutoSave) {
                    $$t_I.$KW_1($p1_0, $v_3);
                }
                else {
                    Xrm.Page.data.setFormDirty(false);
                }
                Mscrm.Utilities.updateSyncErrorStatus();
                $v_0.resolve($p1_0);
                $$t_I.$Bv_1(action, $v_2, isAutoSave, shouldPromptOnDataLoss);
                $$t_I.$4M_1 = false;
                $$t_I.$KA_1($p1_0._entity.TypeCode);
            };
            var $$t_J = this;
            var $v_7 = function($p1_0) {
                if (isGlobalQuickCreate()) {
                    var $v_9 = new Xrm.SaveErrorResponse($p1_0.get_errorCode(), $p1_0.get_description(), $p1_0.get_serializedException());
                    Mscrm.GlobalQuickCreate.GlobalQuickCreateBehavior.executeCallbacksAssociatedWithGlobalQuickCreate('savefailure', $v_9);
                }
                $$t_J.$4M_1 = false;
                $v_0.reject($p1_0);
            };
            this.$K_1.$8_1.removeState(16);
            if (this.$K_1.$8_1 === Mscrm.TurboForm.Control.PageManager.get_instance().$L_1) {
                Mscrm.TurboForm.Control.CommandService.get_instance().save(this, sync, action).then($v_6, $v_7);
            }
            else {
                Mscrm.TurboForm.Control.CommandService.get_instance().quickFormSave(this, saveAsCompleted).then($v_6, $v_7);
            }
        }
        else {
            if (isAutoSave) {
                Mscrm.TurboForm.Control.CommandService.get_instance().handleAutoSaveInvalid();
            }
            if ($v_4.$4J_0 === 14) {
                $v_0.resolve();
                this.$Bv_1(action, $v_2, isAutoSave, shouldPromptOnDataLoss);
            }
            else if ($v_4.$4J_0 === 13) {
                Mscrm.TurboForm.Control.ValidationResult.setIsSaveCanceled(true);
                $v_0.reject(Mscrm.ErrorInformation.createErrorInfo(saveCanceledErrorCodeAsString(), '', ''));
                this.$Bv_1(action, $v_2, isAutoSave, shouldPromptOnDataLoss);
            }
            else {
                $v_0.reject();
            }
            this.$4M_1 = false;
        }
        this.$7t_1 = false;
        return $v_0.promise();
    },
    
    $KA_1: function($p0) {
        if (!this.get_isNew()) {
            if (this.getEntityName() === 'incident' || Mscrm.EntityPropUtil.isSLAEnabled($p0)) {
                this.$K9_1();
            }
        }
    },
    
    $K9_1: function() {
        var $v_0 = this.$K_1.$8_1.getPageUI().$46_1;
        if ($v_0) {
            for (var $v_1 = 0; $v_1 < $v_0.getLength(); $v_1++) {
                var $v_2 = $v_0.getByIndex($v_1);
                if (Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.isInstanceOfType($v_2)) {
                    var $v_3 = $v_2;
                    if (!isNullOrEmptyString($v_3.get_formDataEntityId()) && $v_3.get_entityName() === 'slakpiinstance') {
                        $v_3.refreshQuickFormData();
                    }
                }
            }
        }
    },
    
    $KW_1: function($p0, $p1) {
        this.$K_1.bindData($p0, 2);
        if (this.$K_1.$8_1 === Mscrm.TurboForm.Control.PageManager.get_instance().$L_1) {
            if ($p1 && !isGlobalQuickCreate()) {
                Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.recordId = new Microsoft.Crm.Client.Core.Framework.Guid(this.$w_1);
                this.$K_1.$8_1.getPageUI().$16_1.fireOnLoad();
            }
            window.top.document.title = String.format('{0}: {1}', Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.entityDisplayName, $p0._entity.Name);
            if (!IsNull($p0._entity.TypeCode) && $p0._entity.TypeCode.toString() !== '1024') {
                this.$K_1.$8_1.getPageUI().set_formTitle($p0._entity.Name);
            }
            if (!isGlobalQuickCreate()) {
                this.$K_1.$8_1.getPageUI().refreshNavBar();
                reloadRibbon();
                Mscrm.Utilities.showHideHierarchyButton(Mscrm.Utilities.parseBoolean($p0._entity.isRecordHierarchyEnabled));
            }
        }
    },
    
    $Gf_1: function($p0, $p1) {
        var $v_0 = 1;
        if (Xrm.Page.context.saveMode !== -1) {
            $v_0 = Xrm.Page.context.saveMode;
            Xrm.Page.context.saveMode = -1;
        }
        else if ($p0 === 'saveandclose' || (isGlobalQuickCreate() && $p0 === 'saveandnew')) {
            $v_0 = 2;
        }
        else if ($p0 === 'saveandnew') {
            $v_0 = 59;
        }
        else if ($p1) {
            $v_0 = 70;
        }
        return $v_0;
    },
    
    $Bv_1: function($p0, $p1, $p2, $p3) {
        switch ($p0) {
            case 'saveandclose':
                if ($p1.isDefaultPrevented() && !$p2) {
                    closeWindowScript();
                }
                else {
                    if ($p3) {
                        Xrm.Page.ui.close();
                    }
                    else {
                        Xrm.Internal.trace.log('DataEntity', 'Circular chain detected: Xrm.Page.Ui.Close -> promptDataLossOnClose -> saveInternal -> save -> HandleFollowupAction -> Xrm.Page.Ui.Close');
                    }
                }
                break;
            case 'saveandnew':
                var $v_0 = {};
                $v_0['formid'] = null;
                if ((this.$4P_1 === 'opportunityproduct' || this.$4P_1 === 'salesorderdetail') && IsNull($v_0['_CreateFromId']) && IsNull($v_0['_CreateFromType'])) {
                    var $v_1 = GetHashValue('_CreateFromId');
                    var $v_2 = GetHashValue('_CreateFromType');
                    if (!isNullOrEmptyString($v_1) && !isNullOrEmptyString($v_2)) {
                        $v_0['_CreateFromId'] = $v_1;
                        $v_0['_CreateFromType'] = $v_2;
                    }
                }
                Xrm.Utility.openEntityForm(this.$4P_1, null, $v_0, null);
                break;
        }
    },
    
    $Lj_1: function($p0, $p1) {
        var $v_0 = !$p0;
        var $v_1 = this.validateAttributes($v_0);
        if (!$v_1.$1B_0) {
            return $v_1;
        }
        if (!$p0) {
            $v_1 = this.$Dn_1($v_0, $p1);
            if (!$v_1.$1B_0) {
                return $v_1;
            }
        }
        if (!this.get_isNew() && !this.getIsDirty()) {
            return new Mscrm.TurboForm.Control.ValidationResult(false, 14);
        }
        if ($p0) {
            $v_1 = this.$Dn_1($v_0, $p1);
            if (!$v_1.$1B_0) {
                return $v_1;
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    validateAttributes: function(focus) {
        var $v_0 = null;
        var $v_1 = {};
        var $v_2 = {};
        var $v_3 = this.$K_1.$8_1;
        $v_3.removeState(4);
        var $v_4 = null;
        var $v_5 = Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.getPageUI().getCurrentControl();
        if (!IsNull($v_5)) {
            $v_4 = $v_5.getAttribute();
            var $v_7 = this.$Bn_1();
            if (!this.$4M_1 || IsNull($v_7)) {
                if (Mscrm.CrmBrowser.get_currentBrowser().get_isMobileSafari()) {
                    Mscrm.TurboForm.Control.View.EditableControlView.$23.$T_4.blur();
                }
                var $v_8 = this.$LV_1($v_4, focus);
                if (!IsNull($v_8) && !$v_8.$1B_0) {
                    return $v_8;
                }
            }
        }
        for (var $v_9 = 0; $v_9 < this.attributes.getLength(); $v_9++) {
            var $v_A = '';
            var $v_B = this.attributes.getByIndex($v_9);
            var $$t_F, $$t_G;
            var $v_C = (($$t_G = this.$LW_1($v_B, ($$t_F = {'val': $v_A}))), $v_A = $$t_F.val, $$t_G);
            if (!IsNull($v_C) && !$v_C.$1B_0) {
                $v_1[$v_B.getName()] = $v_C;
                $v_2[$v_B.getName()] = $v_A;
            }
        }
        var $$t_H, $$t_I;
        var $v_6 = (($$t_I = this.$Ho_1($v_1, ($$t_H = {'val': $v_0}))), $v_0 = $$t_H.val, $$t_I);
        if ($v_6) {
            var $v_D = $v_2[$v_0.getName()].toString();
            this.$Kf_1($v_6, $v_0, $v_D, focus);
            return $v_6;
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $Ho_1: function($p0, $p1) {
        var $v_0 = this.$K_1.$8_1;
        for (var $v_1 = 0; $v_1 < $v_0.getPageUI().getControls().getLength(); $v_1++) {
            var $v_2 = $v_0.getPageUI().getControls().getByIndex($v_1);
            if (Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel.isInstanceOfType($v_2)) {
                var $v_3 = $v_2;
                if (!_Script.isNullOrUndefined($v_3.getAttributeName())) {
                    var $v_4 = $v_3.getAttribute();
                    if ((($v_4.getName()) in $p0)) {
                        $p1.val = $v_4;
                        return $p0[$v_4.getName()];
                    }
                }
            }
        }
        return null;
    },
    
    $Kf_1: function($p0, $p1, $p2, $p3) {
        var $v_0 = this.$K_1.$8_1;
        $v_0.addErrorState($p0.$1o_0);
        if ($p3) {
            var $v_1 = $v_0.getPageUI().getFirstVisibleControlInTree($p1.getControls());
            if (Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.isInstanceOfType($v_1)) {
                ($v_1).setFocus();
                if (!isNullOrEmptyString($p2)) {
                    ($v_1).setNotification($p0.$1o_0, $p2);
                }
                else {
                    ($v_1).setNotification($p0.$1o_0, 'ControlValidationFailedKey');
                }
            }
            else {
                if ($p1.getControls().getLength() > 0) {
                    var $v_2 = $p1.getControls().getByIndex(0).$Q_2.Id;
                    if ($v_2.indexOf('compositionLinkControl') > -1) {
                        var $v_3 = $v_2.indexOf('compositionLinkControl');
                        var $v_4 = $v_2.substring(0, $v_3 - 1);
                        var $v_5 = $get($v_4);
                        if (!IsNull($v_5)) {
                            $v_5.focus();
                            $v_5.click();
                        }
                    }
                }
            }
        }
    },
    
    $LW_1: function($p0, $p1) {
        var $v_0 = null;
        if (!IsNull($p0) && $p0.getSubmitMode() !== 'never') {
            var $v_1 = $p0.getControls().getLength();
            var $v_2 = false;
            for (var $v_3 = 0; $v_3 < $v_1; $v_3++) {
                var $v_4 = $p0.getControls().getByIndex($v_3);
                if ($v_4.hasErrorNotification()) {
                    $v_0 = new Mscrm.TurboForm.Control.ValidationResult(false, 0, $v_4.getNotification());
                    $p1.val = $v_4.$2r_3;
                    break;
                }
                if (!$v_4.getDisabled()) {
                    $v_2 = true;
                }
            }
            if ($v_2 && IsNull($v_0)) {
                if ((this.get_isNew() && $p0.getUserPrivilege().canCreate) || (!this.get_isNew() && $p0.getUserPrivilege().canUpdate)) {
                    $v_0 = $p0.validate();
                }
            }
            if (!IsNull($v_0) && !$v_0.$1B_0) {
                return $v_0;
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $LV_1: function($p0, $p1) {
        var $v_0 = this.$K_1.$8_1;
        var $v_1 = null;
        if (!IsNull($p0) && $p0.getSubmitMode() !== 'never') {
            var $v_2 = $p0.getControls().getLength();
            var $v_3 = false;
            var $v_4 = '';
            for (var $v_5 = 0; $v_5 < $v_2; $v_5++) {
                var $v_6 = $p0.getControls().getByIndex($v_5);
                if ($v_6.hasErrorNotification()) {
                    $v_1 = new Mscrm.TurboForm.Control.ValidationResult(false, 0, $v_6.getNotification());
                    $v_4 = $v_6.$2r_3;
                    break;
                }
                if (!$v_6.getDisabled()) {
                    $v_3 = true;
                }
            }
            if ($v_3 && IsNull($v_1)) {
                if ((this.get_isNew() && $p0.getUserPrivilege().canCreate) || (!this.get_isNew() && $p0.getUserPrivilege().canUpdate)) {
                    $v_1 = $p0.validate();
                }
            }
            if (!IsNull($v_1) && !$v_1.$1B_0) {
                $v_0.addErrorState($v_1.$1o_0);
                if ($p1) {
                    var $v_7 = $v_0.getPageUI().getFirstVisibleControlInTree($p0.getControls());
                    if (Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.isInstanceOfType($v_7)) {
                        ($v_7).setFocus();
                        if (!isNullOrEmptyString($v_4)) {
                            ($v_7).setNotification($v_1.$1o_0, $v_4);
                        }
                        else {
                            ($v_7).setNotification($v_1.$1o_0, 'ControlValidationFailedKey');
                        }
                    }
                    else {
                        if ($p0.getControls().getLength() > 0) {
                            var $v_8 = $p0.getControls().getByIndex(0).$Q_2.Id;
                            if ($v_8.indexOf('compositionLinkControl') > -1) {
                                var $v_9 = $v_8.indexOf('compositionLinkControl');
                                var $v_A = $v_8.substring(0, $v_9 - 1);
                                var $v_B = $get($v_A);
                                if (!IsNull($v_B)) {
                                    $v_B.focus();
                                    $v_B.click();
                                }
                            }
                        }
                    }
                }
                return $v_1;
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $Dn_1: function($p0, $p1) {
        var $v_0 = this.get_$29_1().getHandler('OnSave');
        if ($v_0) {
            var $v_1 = Xrm.Page.data.entity.getEntityName();
            if ($v_1 === 'recurringappointmentmaster' && !isNullOrEmptyString(window._appointId)) {
                return new Mscrm.TurboForm.Control.ValidationResult(true);
            }
            $p1.$6q_2 = true;
            $v_0(this.$Bu_1(), $p1);
            if (!IsNull($p1) && $p1.isDefaultPrevented()) {
                return new Mscrm.TurboForm.Control.ValidationResult(false, 13);
            }
            return this.validateAttributes($p0);
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $Bu_1: function() {
        if (!this.$3U_1) {
            this.$3U_1 = new Mscrm.TurboForm.Control.Data.EntityWrapper(this);
        }
        return this.$3U_1;
    }
}


Mscrm.TurboForm.Control.Data.DateTimeDataAttribute = function(descriptor, parentEntity) {
    this.$$d_$FZ_3 = Function.createDelegate(this, this.$FZ_3);
    Mscrm.TurboForm.Control.Data.DateTimeDataAttribute.initializeBase(this, [ descriptor, parentEntity ]);
    var $v_0 = descriptor.AttributeMetadata;
    this.$6z_3 = new Date(1753, 0, 1);
    this.$BJ_3 = $v_0.Behavior;
    this.setFormat($v_0.Format);
    this.addValidator(this.$$d_$FZ_3);
}
Mscrm.TurboForm.Control.Data.DateTimeDataAttribute.$$cctor = function() {
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('DateTimeAttributeMetadata', Mscrm.TurboForm.Control.Data.DateTimeDataAttribute.$Ft);
}
Mscrm.TurboForm.Control.Data.DateTimeDataAttribute.$Ft = function($p0, $p1) {
    var $v_0 = new Mscrm.TurboForm.Control.Data.DateTimeDataAttribute($p0, $p1);
    return $v_0;
}
Mscrm.TurboForm.Control.Data.DateTimeDataAttribute.prototype = {
    $6z_3: null,
    $7J_3: null,
    
    get_tooltip: function() {
        return this.$7J_3;
    },
    
    set_tooltip: function(value) {
        this.$7J_3 = value;
        return value;
    },
    
    $BJ_3: 0,
    $8O_3: false,
    $3C_3: null,
    
    get_errorValue: function() {
        return this.$3C_3;
    },
    
    set_errorValue: function(value) {
        this.$3C_3 = value;
        return value;
    },
    
    getDataXmlInternal: function() {
        var $v_0 = this.getValueInternal();
        if (!IsNull($v_0)) {
            $v_0 = new Date($v_0.getFullYear(), $v_0.getMonth(), $v_0.getDate(), $v_0.getHours(), $v_0.getMinutes());
        }
        var $v_1 = CrmEncodeDecode.CrmXmlEncode(this.getKey());
        var $v_2 = (IsNull($v_0)) ? '' : CrmEncodeDecode.CrmXmlEncode($v_0.format('s'));
        var $v_3 = new Sys.StringBuilder();
        $v_3.append('<');
        $v_3.append($v_1);
        $v_3.append('>');
        $v_3.append($v_2);
        $v_3.append('</');
        $v_3.append($v_1);
        $v_3.append('>');
        return $v_3.toString();
    },
    
    bindDataInternal: function(data) {
        var $v_0 = data['raw'];
        var $v_1 = null;
        try {
            $v_1 = ParseUtcDate($v_0);
            if ((('timezone') in data)) {
                var $v_2 = $v_1.toString();
                this.$7J_3 = $v_2.substring(0, $v_2.indexOf('GMT')) + data['timezone'];
            }
        }
        catch ($$e_4) {
            $v_1 = null;
        }
        this.setValueInternal($v_1);
    },
    
    getAttributeType: function() {
        return 'datetime';
    },
    
    getUtcValue: function() {
        var $v_0 = this.getValue();
        if (!IsNull($v_0)) {
            var $v_1 = GetGlobalVariable('USER_TIMEZONE_OFFSET') * 60000;
            var $v_2 = $v_0.getTimezoneOffset() * 60000;
            return new Date($v_0.getTime() - $v_1 - $v_2);
        }
        return $v_0;
    },
    
    setUtcValue: function(dateTime) {
        if (IsNull(dateTime)) {
            this.setValue(dateTime, null);
            return;
        }
        var $v_0 = dateTime;
        var $v_1 = GetGlobalVariable('USER_TIMEZONE_OFFSET') * 60000;
        var $v_2 = dateTime.getTimezoneOffset() * 60000;
        switch (this.$BJ_3) {
            case 2:
            case 3:
                $v_0 = new Date(dateTime.getTime() + $v_2);
                break;
            case 1:
                $v_0 = new Date(dateTime.getTime() + $v_2 + $v_1);
                break;
            default:
                $v_0 = new Date(dateTime.getTime());
                break;
        }
        this.setValue($v_0, null);
    },
    
    setMin: function(value) {
        this.$6z_3 = value;
        if (!IsNull(value)) {
            this.$8O_3 = true;
        }
        else {
            this.$8O_3 = false;
        }
    },
    
    $FZ_3: function($p0) {
        if (this.$8O_3 && !IsNull($p0.$u_0)) {
            var $v_0 = $p0.$u_0;
            if ($v_0 < this.$6z_3) {
                var $v_1 = [ this.$6z_3.toString() ];
                var $$t_3;
                return new Mscrm.TurboForm.Control.ValidationResult(false, 3, ($$t_3 = Mscrm.TurboForm.Control.ResourceManager.get_instance()).getLocalizedErrorMessage.apply($$t_3, [ 3 ].concat($v_1)));
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    processValue: function(value) {
        var $v_0 = Mscrm.TurboForm.Control.Data.DataAttributeBase.prototype.processValue.call(this, value);
        var $v_1 = null;
        this.$3C_3 = null;
        if (!IsNull($v_0)) {
            if (Date.isInstanceOfType($v_0) || (!isNaN($v_0) && typeof($v_0) === 'object')) {
                $v_1 = new Date(($v_0).getTime());
            }
            else if (typeof($v_0) === 'number') {
                $v_1 = new Date($v_0);
            }
            else {
                Mscrm.CrmDebug.fail('Value is not a valid Date');
            }
        }
        return $v_1;
    },
    
    isEqual: function(value1, value2) {
        var $v_0 = value1;
        var $v_1 = value2;
        if (IsNull($v_0) && IsNull($v_1)) {
            return true;
        }
        if (IsNull($v_0) || IsNull($v_1)) {
            return false;
        }
        return $v_0.getTime() === $v_1.getTime();
    }
}


Mscrm.TurboForm.Control.Data.HiddenDataAttribute = function(descriptor, parentEntity) {
    Mscrm.TurboForm.Control.Data.HiddenDataAttribute.initializeBase(this, [ descriptor, parentEntity ]);
    var $v_0 = getDialogArguments()[descriptor.Name];
    this.setValueInternal($v_0);
}
Mscrm.TurboForm.Control.Data.HiddenDataAttribute.$$cctor = function() {
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('HiddenAttributeMetadata', Mscrm.TurboForm.Control.Data.HiddenDataAttribute.$G5);
}
Mscrm.TurboForm.Control.Data.HiddenDataAttribute.$G5 = function($p0, $p1) {
    var $v_0 = new Mscrm.TurboForm.Control.Data.HiddenDataAttribute($p0, $p1);
    return $v_0;
}
Mscrm.TurboForm.Control.Data.HiddenDataAttribute.prototype = {
    
    getAttributeType: function() {
        return 'Hidden';
    }
}


Mscrm.TurboForm.Control.Data.DurationDataAttribute = function(descriptor, type, parentEntity) {
    this.$$d_$LY_4 = Function.createDelegate(this, this.$LY_4);
    Mscrm.TurboForm.Control.Data.DurationDataAttribute.initializeBase(this, [ descriptor, type, parentEntity ]);
    if (this.getFormat() === 'duration') {
        this.addValidator(this.$$d_$LY_4);
    }
}
Mscrm.TurboForm.Control.Data.DurationDataAttribute.prototype = {
    $6o_4: false,
    
    get_isCalledByClientApi: function() {
        return this.$6o_4;
    },
    
    set_isCalledByClientApi: function(value) {
        this.$6o_4 = value;
        return value;
    },
    
    setValue: function(value, sourceControlId, forceSet, skipFireOnChange) {
        this.$6o_4 = IsNull(sourceControlId);
        var $v_0 = null;
        if (!isNullOrEmptyString(value)) {
            $v_0 = Mscrm.TurboForm.Control.View.DurationFormatter.get_instance().convertFormattedStringToObject(value.toString());
            if (isNaN($v_0)) {
                Mscrm.TurboForm.Control.Data.DataAttributeBase.prototype.setValue.call(this, value, sourceControlId, forceSet, skipFireOnChange);
                return;
            }
        }
        Mscrm.TurboForm.Control.Data.DataAttributeBase.prototype.setValue.call(this, $v_0, sourceControlId, forceSet, skipFireOnChange);
    },
    
    $LY_4: function($p0) {
        if ($p0.$u_0) {
            var $v_0 = Mscrm.NumberUtility.locStringToInt($p0.$u_0.toString());
            if (isNaN($v_0)) {
                return this.createFailValidationResult();
            }
            else {
                var $v_1 = Object.getType($p0.$u_0);
                if ($v_1 !== Number) {
                    return this.createFailValidationResult();
                }
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    createFailValidationResult: function() {
        var $v_0 = Mscrm.NumberUtility.addFormatting(this.getMin(), this.getPrecision());
        var $v_1 = Mscrm.NumberUtility.addFormatting(this.getMax(), this.getPrecision());
        return (this.$6o_4) ? new Mscrm.TurboForm.Control.ValidationResult(false, 24, String.format(window.LOCID_DURATION_BADTYPE, $v_0, $v_1)) : new Mscrm.TurboForm.Control.ValidationResult(false, 12, Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(12));
    }
}


Mscrm.TurboForm.Control.Data.LookupStyles = function() {
}


Mscrm.TurboForm.Control.Data.LookupDataAttribute = function(descriptor, parentEntity) {
    this.$$d_$LX_3 = Function.createDelegate(this, this.$LX_3);
    this.$$d_$La_3 = Function.createDelegate(this, this.$La_3);
    Mscrm.TurboForm.Control.Data.LookupDataAttribute.initializeBase(this, [ descriptor, parentEntity ]);
    var $v_0 = descriptor.AttributeMetadata;
    this.$Kw_3($v_0.LookupStyle);
    this.$6x_3 = $v_0.LookupTypes;
    this.$1u_3 = $v_0.LookupTypeNames;
    this.$8z_3 = this.$6x_3;
    this.$BB_3 = this.$1u_3;
    this.$7F_3 = $v_0.SubjectLookupData;
    this.$AO_3 = $v_0.CreatePermissionDictionary;
    this.$5F_3 = $v_0.IsPartyListControl;
    this.addValidator(this.$$d_$La_3);
    if (this.getSingleLookupTypeId() === 9105) {
        this.addValidator(this.$$d_$LX_3);
    }
}
Mscrm.TurboForm.Control.Data.LookupDataAttribute.$$cctor = function() {
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('LookupAttributeMetadata', Mscrm.TurboForm.Control.Data.LookupDataAttribute.$GB);
}
Mscrm.TurboForm.Control.Data.LookupDataAttribute.$GB = function($p0, $p1) {
    var $v_0 = new Mscrm.TurboForm.Control.Data.LookupDataAttribute($p0, $p1);
    return $v_0;
}
Mscrm.TurboForm.Control.Data.LookupDataAttribute.prototype = {
    $AO_3: null,
    $6x_3: null,
    $7F_3: null,
    $1u_3: null,
    $5F_3: false,
    $8z_3: null,
    $BB_3: null,
    
    get_isPartyListControl: function() {
        return this.$5F_3;
    },
    
    set_isPartyListControl: function(value) {
        this.$5F_3 = value;
        return value;
    },
    
    get_subjectLookupData: function() {
        return this.$7F_3;
    },
    
    set_subjectLookupData: function(value) {
        this.$7F_3 = value;
        return value;
    },
    
    getLookupStyle: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.LookupDataAttribute.$CJ);
    },
    
    $Kw_3: function($p0) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.LookupDataAttribute.$CJ, $p0);
    },
    
    bindDataInternal: function(data) {
        var $v_0 = data['items'];
        var $v_1 = new Array(0);
        if (IsNull($v_0)) {
            var $v_2 = data['otypename'];
            var $v_3 = data['oid'];
            var $v_4 = data['value'];
            var $v_5 = data['otype'];
            var $v_6 = data['img'];
            var $v_7 = data['isprocessenabled'];
            var $v_8 = data['processid'];
            var $v_9 = data['processts'];
            if (!IsNullOrEmptyString($v_2) && !IsNullOrEmptyString($v_3)) {
                var $v_A = new LookupControlItem();
                $v_A.entityType = $v_2;
                $v_A.id = $v_3;
                $v_A.name = (IsNullOrEmptyString($v_4)) ? window.LOCID_INLINELOOKUP_NONAME : $v_4;
                $v_A.type = $v_5;
                $v_A.isProcessEnabled = $v_7;
                $v_A.processId = $v_8;
                $v_A.processTimestamp = $v_9;
                $v_1[$v_1.length] = $v_A;
                if (!IsNull($v_6) && this.$1u_3.length > 1) {
                    this.setTypeIcon($v_6);
                }
            }
        }
        else {
            for (var $v_B = 0; $v_B < $v_0.length; $v_B += 1) {
                var $v_C = $v_0[$v_B];
                if (!IsNull($v_C)) {
                    if (!IsNull($v_C.otypename) && !IsNull($v_C.oid)) {
                        var $v_D = new LookupControlItem();
                        $v_D.entityType = $v_C.otypename;
                        $v_D.id = $v_C.oid;
                        $v_D.name = (IsNullOrEmptyString($v_C.value)) ? window.LOCID_INLINELOOKUP_NONAME : $v_C.value;
                        $v_D.type = $v_C.otype;
                        $v_D.activityPartyId = $v_C.activitypartyid;
                        $v_D.category = $v_C.category;
                        $v_D.isProcessEnabled = $v_C.isprocessenabled;
                        $v_D.processId = $v_C.processid;
                        $v_D.processTimestamp = $v_C.processtimestamp;
                        $v_1[$v_1.length] = $v_D;
                    }
                }
            }
        }
        if ($v_1.length > 0) {
            this.setValueInternal($v_1);
        }
    },
    
    processValue: function(value) {
        if (!IsNull(value) && IsArray(value)) {
            var $v_0 = value;
            for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
                if (IsNullOrEmptyString($v_0[$v_1].entityType) && !IsNull($v_0[$v_1].type) && !IsNullOrEmptyString($v_0[$v_1].type.toString())) {
                    $v_0[$v_1].entityType = Xrm.Internal.getEntityName(Number.parseInvariant($v_0[$v_1].type.toString()));
                }
                else if ((IsNull($v_0[$v_1].type) || IsNullOrEmptyString($v_0[$v_1].type.toString())) && !IsNull($v_0[$v_1].entityType) && !IsNullOrEmptyString($v_0[$v_1].entityType.toString())) {
                    var $v_2 = Xrm.Internal.getEntityCode($v_0[$v_1].entityType);
                    if ($v_2 > 0) {
                        $v_0[$v_1].type = Xrm.Internal.getEntityCode($v_0[$v_1].entityType).toString();
                    }
                }
            }
        }
        return Mscrm.TurboForm.Control.Data.DataAttributeBase.prototype.processValue.call(this, value);
    },
    
    getAttributeType: function() {
        return 'lookup';
    },
    
    getIsPartyList: function() {
        return this.getLookupStyle() === 'multi';
    },
    
    getSupportedLookupTypes: function() {
        return this.$6x_3;
    },
    
    getCreatePermissionsDictionary: function() {
        return this.$AO_3;
    },
    
    $La_3: function($p0) {
        var $v_0 = $p0.$u_0;
        if (IsNull($v_0)) {
            return new Mscrm.TurboForm.Control.ValidationResult(true);
        }
        if (!IsArray($v_0)) {
            return new Mscrm.TurboForm.Control.ValidationResult(false, 16, Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(16));
        }
        if (this.getLookupStyle() === 'single' && $v_0.length > 1) {
            return new Mscrm.TurboForm.Control.ValidationResult(false, 17, Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(17));
        }
        for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
            var $v_2 = $v_0[$v_1];
            switch ($v_2.category) {
                case 1:
                    return new Mscrm.TurboForm.Control.ValidationResult(false, 21, Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(21));
                case 2:
                    return new Mscrm.TurboForm.Control.ValidationResult(false, 20, Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(20));
            }
            var $v_3 = (!IsNull($v_2.entityType)) ? $v_2.entityType : $v_2.typename;
            if (!IsNullOrEmptyString($v_3)) {
                var $v_4 = false;
                for (var $$arr_6 = this.$1u_3, $$len_7 = $$arr_6.length, $$idx_8 = 0; $$idx_8 < $$len_7; ++$$idx_8) {
                    var $v_5 = $$arr_6[$$idx_8];
                    if ((!IsNull($v_5.EntityName) && $v_3.toLowerCase() === $v_5.EntityName.toLowerCase()) || (!IsNull($v_5.EntityTypeId) && $v_5.EntityTypeId === parseInt($v_2.type))) {
                        if (this.$1u_3.length > 1) {
                            if (this.getLookupStyle() === 'single') {
                                this.setTypeIcon($v_5.TypeIconPath);
                            }
                            if (IsNullOrEmptyString($v_2.type) || IsNullOrEmptyString($v_2.typename)) {
                                $v_2.type = $v_5.EntityID.toString();
                                $v_2.typename = $v_5.EntityName;
                            }
                        }
                        $v_4 = true;
                        break;
                    }
                }
                if (!$v_4 && !this.$Gl_3($v_2)) {
                    return new Mscrm.TurboForm.Control.ValidationResult(false, 18, String.format(Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(18), $v_3));
                }
            }
            else if ($v_2.type === '9206') {
                $v_2.category = 3;
            }
            else {
                return new Mscrm.TurboForm.Control.ValidationResult(false, 19, String.format(Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(19)));
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $Gl_3: function($p0) {
        if (this.getParent()) {
            var $v_0 = this.getParent().getEntityTypeCode();
            if ($v_0 !== 4201 && $v_0 !== 4202) {
                return false;
            }
            var $v_1;
            try {
                $v_1 = Number.parseInvariant($p0.type);
            }
            catch ($$e_3) {
                return false;
            }
            if ($v_0 === 4201) {
                return this.getName() === 'organizer' && ($v_1 === 2 || $v_1 === 1 || $v_1 === 4);
            }
            else if ($v_0 === 4202) {
                if (this.getName() === 'from' && this.getParent().getAttributes() && this.getParent().getAttributes().getByName('statuscode') && (this.getParent().getAttributes().getByName('statuscode').getValue()) === 4) {
                    var $v_2 = Xrm.Internal.getLookupTypes(Xrm.Page.getAttribute('to'));
                    for (var $$arr_5 = $v_2, $$len_6 = $$arr_5.length, $$idx_7 = 0; $$idx_7 < $$len_6; ++$$idx_7) {
                        var $v_3 = $$arr_5[$$idx_7];
                        if ($p0.entityType === $v_3) {
                            return true;
                        }
                    }
                }
            }
        }
        return false;
    },
    
    $LX_3: function($p0) {
        var $v_0 = $p0.$u_0;
        if (!IsNull(Xrm.Page.ui.formSelector) && !IsNull(Xrm.Page.ui.formSelector.getCurrentItem())) {
            var $v_1 = Xrm.Page.ui.formSelector.getCurrentItem().getId();
            if (IsNull($v_0) && this.$IU_3() && isTransactionCurrencyLookup(this.getName(), $v_1) && this.$IT_3()) {
                return new Mscrm.TurboForm.Control.ValidationResult(false, 22, window.LOCID_CURRENCY_CANNOT_BE_NULL);
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $IT_3: function() {
        for (var $v_0 = 0; $v_0 < this.getControls().getLength(); $v_0++) {
            if (this.getControls().getByIndex($v_0).getIsVisibleInTree()) {
                return true;
            }
        }
        return false;
    },
    
    $IU_3: function() {
        var $v_0 = this.getParent().getAttributes();
        for (var $v_1 = 0; $v_1 < $v_0.getLength(); $v_1++) {
            var $v_2 = $v_0.getByIndex($v_1);
            if ($v_2.getAttributeType() === 'money') {
                if (!IsNull($v_2.getValue()) && Object.getType($v_2.getValue()) === Number && !isNaN($v_2.getValue())) {
                    return true;
                }
            }
        }
        return false;
    },
    
    getTypeIcon: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.LookupDataAttribute.$A9);
    },
    
    setTypeIcon: function(source) {
        if (!IsNullOrEmptyString(source)) {
            this.setPropertyValue(Mscrm.TurboForm.Control.Data.LookupDataAttribute.$A9, source);
        }
        else {
            this.setPropertyValue(Mscrm.TurboForm.Control.Data.LookupDataAttribute.$A9, '');
        }
    },
    
    getSingleLookupTypeId: function() {
        if (!IsNull(this.$1u_3)) {
            if (this.$1u_3.length === 1) {
                return this.$1u_3[0].EntityTypeId;
            }
        }
        return 0;
    },
    
    supportsMultipleTypes: function() {
        return !IsNull(this.$1u_3) && this.$1u_3.length > 1;
    },
    
    getDataXmlInternal: function() {
        var $v_0 = CrmEncodeDecode.CrmXmlEncode(this.getKey());
        var $v_1 = (this.getValueInternal());
        var $v_2 = new Sys.StringBuilder();
        if (!IsNull($v_1) && $v_1.length > 0) {
            if (this.getLookupStyle() === 'single' && !this.$5F_3) {
                for (var $$arr_3 = $v_1, $$len_4 = $$arr_3.length, $$idx_5 = 0; $$idx_5 < $$len_4; ++$$idx_5) {
                    var $v_3 = $$arr_3[$$idx_5];
                    $v_2.append('<');
                    $v_2.append($v_0);
                    var $v_4 = this.$E5_3($v_3);
                    if ($v_4 > 0) {
                        $v_2.append(' type=\"');
                        $v_2.append(CrmEncodeDecode.CrmXmlAttributeEncode($v_4.toString()));
                        $v_2.append('\"');
                    }
                    $v_2.append(' name=\"');
                    $v_2.append(CrmEncodeDecode.CrmXmlAttributeEncode($v_3.name));
                    $v_2.append('\">');
                    $v_2.append(CrmEncodeDecode.CrmXmlEncode($v_3.id));
                    $v_2.append('</');
                    $v_2.append($v_0);
                    $v_2.append('>');
                }
            }
            else {
                $v_2.append('<');
                $v_2.append($v_0);
                $v_2.append('>');
                for (var $$arr_8 = $v_1, $$len_9 = $$arr_8.length, $$idx_A = 0; $$idx_A < $$len_9; ++$$idx_A) {
                    var $v_5 = $$arr_8[$$idx_A];
                    if ($v_5.category !== 3 || $v_5.type !== '9206') {
                        $v_2.append('<activityparty>');
                        $v_2.append('<');
                        $v_2.append('partyid');
                        var $v_6 = this.$E5_3($v_5);
                        if ($v_6 > 0) {
                            $v_2.append(' type=\"');
                            $v_2.append(CrmEncodeDecode.CrmXmlAttributeEncode($v_6.toString()));
                            $v_2.append('\"');
                        }
                        $v_2.append(' name=\"');
                        $v_2.append(CrmEncodeDecode.CrmXmlAttributeEncode($v_5.name));
                        $v_2.append('\">');
                        $v_2.append(CrmEncodeDecode.CrmXmlEncode($v_5.id));
                        $v_2.append('</');
                        $v_2.append('partyid');
                        $v_2.append('>');
                        if (!IsNullOrEmptyString($v_5.activityPartyId)) {
                            $v_2.append('<activitypartyid>');
                            $v_2.append(CrmEncodeDecode.CrmXmlEncode($v_5.activityPartyId));
                            $v_2.append('</activitypartyid>');
                        }
                        $v_2.append('</');
                        $v_2.append('activityparty');
                        $v_2.append('>');
                    }
                    else {
                        $v_2.append('<activityparty>');
                        $v_2.append('<addressused>');
                        $v_2.append(CrmEncodeDecode.CrmXmlEncode($v_5.name));
                        $v_2.append('</addressused>');
                        $v_2.append('</activityparty>');
                    }
                }
                $v_2.append('</');
                $v_2.append($v_0);
                $v_2.append('>');
            }
        }
        else {
            $v_2.append('<');
            $v_2.append($v_0);
            $v_2.append('>');
            $v_2.append('');
            $v_2.append('</');
            $v_2.append($v_0);
            $v_2.append('>');
        }
        return $v_2.toString();
    },
    
    $E5_3: function($p0) {
        if (!IsNull($p0) && !IsNullOrEmptyString($p0.type)) {
            var $v_0 = parseInt($p0.type, 10);
            if (!isNaN($v_0)) {
                return $v_0;
            }
        }
        if (!IsNull($p0) && !IsNullOrEmptyString($p0.entityType)) {
            return Xrm.Internal.getEntityCode($p0.entityType);
        }
        if (!IsNull($p0) && !IsNullOrEmptyString($p0.typename)) {
            return Xrm.Internal.getEntityCode($p0.typename);
        }
        return -1;
    },
    
    isEqual: function(value1, value2) {
        var $v_0 = value1;
        var $v_1 = value2;
        if (IsNull($v_0) && IsNull($v_1)) {
            return true;
        }
        if (IsNull($v_0) && IsArray($v_1)) {
            if ($v_1.length > 0) {
                for (var $v_2 = 0; $v_2 < $v_1.length; $v_2++) {
                    if (!(IsNullOrEmptyString($v_1[$v_2].entityType) && IsNullOrEmptyString($v_1[$v_2].id) && $v_1[$v_2].name === '*******')) {
                        return false;
                    }
                }
                return true;
            }
        }
        if (IsNull($v_0) || IsNull($v_1)) {
            return false;
        }
        if (!IsArray($v_0) || !IsArray($v_1)) {
            return false;
        }
        if ($v_0.length !== $v_1.length) {
            return false;
        }
        for (var $v_3 = 0; $v_3 < $v_0.length; $v_3++) {
            var $v_4 = Mscrm.Utilities.tryParseGuid($v_0[$v_3].id);
            var $v_5 = Mscrm.Utilities.tryParseGuid($v_1[$v_3].id);
            if (isNullOrEmptyString($v_4)) {
                $v_4 = $v_0[$v_3].id;
            }
            if (isNullOrEmptyString($v_5)) {
                $v_5 = $v_1[$v_3].id;
            }
            if ($v_4 !== $v_5 || $v_0[$v_3].entityType !== $v_1[$v_3].entityType || isNullOrEmptyString($v_4) || isNullOrEmptyString($v_5)) {
                return false;
            }
        }
        return true;
    },
    
    setLookupTypes: function(lookupTypeNames, hideTypes) {
        if (!lookupTypeNames || !lookupTypeNames.length) {
            return false;
        }
        if (this.$8z_3.length === 1) {
            return false;
        }
        var $v_0 = new (Microsoft.Crm.Client.Core.Framework.List$1.$$(Number))();
        var $v_1 = new (Microsoft.Crm.Client.Core.Framework.List$1.$$(Number))();
        $v_1.addRange(this.$8z_3);
        var $v_2 = this.getValue();
        for (var $v_5 = 0; $v_5 < lookupTypeNames.length; $v_5++) {
            var $v_6 = Xrm.Internal.getEntityCode(lookupTypeNames[$v_5]);
            if ($v_6 === -1) {
                return false;
            }
            if ($v_0.contains($v_6)) {
                return false;
            }
            if (!$v_1.contains($v_6)) {
                return false;
            }
            $v_0.add($v_6);
        }
        var $v_3;
        if (hideTypes) {
            $v_3 = new (Microsoft.Crm.Client.Core.Framework.List$1.$$(Number))();
            for (var $v_7 = 0; $v_7 < $v_1.get_Items().length; $v_7++) {
                var $v_8 = $v_1.get_Items()[$v_7];
                if (!$v_0.contains($v_8)) {
                    $v_3.add($v_8);
                }
            }
        }
        else {
            $v_3 = $v_0;
        }
        if ($v_2) {
            for (var $$arr_A = $v_2, $$len_B = $$arr_A.length, $$idx_C = 0; $$idx_C < $$len_B; ++$$idx_C) {
                var $v_9 = $$arr_A[$$idx_C];
                if (!$v_3.contains(parseInt($v_9.type))) {
                    return false;
                }
            }
        }
        var $v_4 = new (Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.TurboForm.Control.LookupTypeNameDescriptor))();
        for (var $$arr_F = $v_3.toArray(), $$len_G = $$arr_F.length, $$idx_H = 0; $$idx_H < $$len_G; ++$$idx_H) {
            var $v_A = $$arr_F[$$idx_H];
            var $v_B = this.$HZ_3(this.$BB_3, $v_A);
            if ($v_B) {
                $v_4.add($v_B);
            }
        }
        this.$6x_3 = $v_3.toArray();
        this.$1u_3 = $v_4.toArray();
        return true;
    },
    
    $HZ_3: function($p0, $p1) {
        for (var $$arr_2 = $p0, $$len_3 = $$arr_2.length, $$idx_4 = 0; $$idx_4 < $$len_3; ++$$idx_4) {
            var $v_0 = $$arr_2[$$idx_4];
            if ($p1 === $v_0.EntityTypeId) {
                return $v_0;
            }
        }
        return null;
    },
    
    isMultiLookupControl: function() {
        return this.getIsPartyList();
    }
}


Mscrm.TurboForm.Control.Data.NumberAttributeDescriptor = function() {
    Mscrm.TurboForm.Control.Data.NumberAttributeDescriptor.initializeBase(this);
}
Mscrm.TurboForm.Control.Data.NumberAttributeDescriptor.prototype = {
    MinValue: 0,
    MaxValue: 0,
    Precision: 0
}


Mscrm.TurboForm.Control.Data.NumberDataAttribute = function(descriptor, type, parentEntity) {
    this.$$d_$Le_3 = Function.createDelegate(this, this.$Le_3);
    this.$$d_$Lf_3 = Function.createDelegate(this, this.$Lf_3);
    this.$$d_$Lb_3 = Function.createDelegate(this, this.$Lb_3);
    this.$$d_$FZ_3 = Function.createDelegate(this, this.$FZ_3);
    this.$$d_$Ld_3 = Function.createDelegate(this, this.$Ld_3);
    Mscrm.TurboForm.Control.Data.NumberDataAttribute.initializeBase(this, [ descriptor, parentEntity ]);
    var $v_0 = descriptor.AttributeMetadata;
    this.$7p_3 = $v_0.MinValue;
    this.$7n_3 = $v_0.MaxValue;
    this.setPrecision((IsNull($v_0.Precision)) ? 0 : $v_0.Precision);
    this.$2d_3 = type;
    if (this.$2d_3 === 2) {
        this.setFormat((descriptor.AttributeMetadata).Format);
    }
    if (this.$2d_3 === 3) {
        this.addValidator(this.$$d_$Ld_3);
    }
    this.addValidator(this.$$d_$FZ_3);
    this.addValidator(this.$$d_$Lb_3);
    this.addValidator(this.$$d_$Lf_3);
    if (this.getFormat() !== 'language' && this.getFormat() !== 'timezone' && this.getFormat() !== 'duration') {
        this.addValidator(this.$$d_$Le_3);
    }
}
Mscrm.TurboForm.Control.Data.NumberDataAttribute.$$cctor = function() {
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('DecimalAttributeMetadata', Mscrm.TurboForm.Control.Data.NumberDataAttribute.$Fu);
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('IntegerAttributeMetadata', Mscrm.TurboForm.Control.Data.NumberDataAttribute.$G6);
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('FloatAttributeMetadata', Mscrm.TurboForm.Control.Data.NumberDataAttribute.$G4);
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('MoneyAttributeMetadata', Mscrm.TurboForm.Control.Data.NumberDataAttribute.$GD);
}
Mscrm.TurboForm.Control.Data.NumberDataAttribute.$Fu = function($p0, $p1) {
    return new Mscrm.TurboForm.Control.Data.NumberDataAttribute($p0, 0, $p1);
}
Mscrm.TurboForm.Control.Data.NumberDataAttribute.$G6 = function($p0, $p1) {
    var $v_0 = $p0.AttributeMetadata;
    if (!IsNull($v_0.Format) && $v_0.Format === 'duration') {
        return new Mscrm.TurboForm.Control.Data.DurationDataAttribute($p0, 2, $p1);
    }
    return new Mscrm.TurboForm.Control.Data.NumberDataAttribute($p0, 2, $p1);
}
Mscrm.TurboForm.Control.Data.NumberDataAttribute.$G4 = function($p0, $p1) {
    return new Mscrm.TurboForm.Control.Data.NumberDataAttribute($p0, 1, $p1);
}
Mscrm.TurboForm.Control.Data.NumberDataAttribute.$GD = function($p0, $p1) {
    return new Mscrm.TurboForm.Control.Data.NumberDataAttribute($p0, 3, $p1);
}
Mscrm.TurboForm.Control.Data.NumberDataAttribute.prototype = {
    $7p_3: null,
    $7n_3: null,
    $2d_3: 0,
    
    bindDataInternal: function(data) {
        var $v_0 = data['raw'];
        if (!IsNull($v_0)) {
            switch (this.$2d_3) {
                case 3:
                    this.setCurrencySymbol(data['symbol']);
                    this.setPrecision(data['precision']);
                    $v_0 = parseFloat($v_0.toString());
                    break;
                case 0:
                case 1:
                    $v_0 = parseFloat($v_0.toString());
                    break;
                case 2:
                    $v_0 = parseInt($v_0.toString());
                    break;
            }
        }
        else if (this.$2d_3 === 3 && !IsNull(data['symbol']) && !IsNull(data['precision'])) {
            var $v_1 = data['symbol'];
            var $v_2 = data['precision'];
            if (isNullOrEmptyString($v_1)) {
                $v_1 = this.$HE_3();
            }
            if ($v_2.toString() === '-1') {
                $v_2 = this.$Hb_3();
            }
            this.setCurrencySymbol($v_1);
            this.setPrecision($v_2);
        }
        this.setValueInternal($v_0);
    },
    
    getAttributeType: function() {
        switch (this.$2d_3) {
            case 3:
                return 'money';
            case 0:
                return 'decimal';
            case 1:
                return 'double';
            case 2:
            default:
                return 'integer';
        }
    },
    
    getMin: function() {
        return this.$7p_3;
    },
    
    getMax: function() {
        return this.$7n_3;
    },
    
    get_currencySymbol: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.NumberDataAttribute.$AP);
    },
    
    setCurrencySymbol: function(currencySymbol) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.NumberDataAttribute.$AP, currencySymbol);
    },
    
    getPrecision: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.NumberDataAttribute.$B4);
    },
    
    setPrecision: function(precision) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.NumberDataAttribute.$B4, precision);
    },
    
    processValue: function(value) {
        var $v_0 = Mscrm.TurboForm.Control.Data.DataAttributeBase.prototype.processValue.call(this, value);
        if (!IsNull($v_0)) {
            if (Object.getType($v_0) === String) {
                switch (this.$2d_3) {
                    case 2:
                        $v_0 = Mscrm.NumberUtility.locStringToInt($v_0);
                        break;
                    case 1:
                    case 0:
                    case 3:
                        $v_0 = Mscrm.NumberUtility.locStringToFloat($v_0);
                        break;
                }
            }
            if (Object.getType($v_0) === Number && !isNaN($v_0)) {
                var $v_1 = 1;
                var $v_2 = this.getPrecision();
                if (!IsNull($v_2) && $v_2 >= 0) {
                    for (var $v_4 = 0; $v_4 < $v_2; $v_4++) {
                        $v_1 *= 10;
                    }
                    var $v_3 = ($v_0 * $v_1);
                    $v_3 = parseFloat($v_3.toFixed($v_2));
                    $v_0 = Math.round($v_3) / $v_1;
                }
                value = $v_0;
            }
        }
        else {
            value = $v_0;
        }
        return value;
    },
    
    $FZ_3: function($p0) {
        if (!IsNull($p0.$u_0)) {
            var $v_0 = $p0.$u_0;
            if ($v_0 < this.$7p_3) {
                return this.createFailValidationResult();
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $Lb_3: function($p0) {
        if (!IsNull($p0.$u_0)) {
            var $v_0 = $p0.$u_0;
            if ($v_0 > this.$7n_3) {
                return this.createFailValidationResult();
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $Lf_3: function($p0) {
        var $v_0 = $p0.$u_0;
        if (!IsNull($v_0)) {
            var $v_1 = $v_0.toString().split('.');
            if (!IsNull($v_1[1]) && $v_1[1].length > this.getPrecision()) {
                return this.createFailValidationResult();
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $Le_3: function($p0) {
        if ($p0.$u_0) {
            var $v_0 = Object.getType($p0.$u_0);
            switch (this.$2d_3) {
                case 2:
                    if ($v_0 !== Number) {
                        return this.createFailValidationResult();
                    }
                    break;
                case 1:
                    if ($v_0 !== Number) {
                        return this.createFailValidationResult();
                    }
                    break;
                case 0:
                case 3:
                    if ($v_0 !== Number) {
                        return this.createFailValidationResult();
                    }
                    break;
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $Ld_3: function($p0) {
        var $v_0 = $p0.$u_0;
        if (!IsNull($v_0) && $v_0 > 0 && IsNullOrEmptyString(this.get_currencySymbol())) {
            return new Mscrm.TurboForm.Control.ValidationResult(false, 23, window.LOCID_CURRENCY_NOT_SPECIFIED);
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    createFailValidationResult: function() {
        var $v_0;
        var $v_1;
        var $v_2;
        var $v_3;
        var $v_4;
        if (this.$2d_3 === 2) {
            $v_0 = 4;
            $v_3 = 0;
        }
        else {
            $v_0 = 5;
            $v_3 = this.getPrecision();
        }
        $v_1 = Mscrm.NumberUtility.addFormatting(this.$7p_3, $v_3);
        $v_2 = Mscrm.NumberUtility.addFormatting(this.$7n_3, $v_3);
        $v_4 = Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage($v_0, $v_1, $v_2);
        return new Mscrm.TurboForm.Control.ValidationResult(false, $v_0, $v_4);
    },
    
    $Hb_3: function() {
        var $v_0 = -1;
        try {
            return window.__cultureInfo.numberFormat.CurrencyDecimalDigits;
        }
        catch ($$e_1) {
        }
        return $v_0;
    },
    
    $HE_3: function() {
        var $v_0 = '';
        try {
            $v_0 = window.__cultureInfo.numberFormat.CurrencySymbol;
        }
        catch ($$e_1) {
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.Data.PicklistDataAttribute = function(descriptor, parentEntity) {
    Mscrm.TurboForm.Control.Data.PicklistDataAttribute.initializeBase(this, [ descriptor, parentEntity ]);
    var $v_0 = descriptor.AttributeMetadata;
    this.$1n_4 = $v_0.DefaultValue;
    this.setFormat($v_0.Format);
    this.set_hasEmptyOption(this.$1n_4 === -1 && $v_0.RequiredLevel === 'none');
    var $v_1 = new Array(0);
    for (var $v_2 = 0; $v_2 < $v_0.PicklistOptions.length; $v_2++) {
        var $v_3 = $v_0.PicklistOptions[$v_2];
        var $v_4 = new Xrm.OptionSetItem($v_3.Value, $v_3.Label);
        $v_1[$v_1.length] = $v_4;
    }
    this.$FF_4($v_1);
    if (!IsNull(this.$1n_4)) {
        this.$9U_4 = true;
        this.resetInitialValue(this.$1n_4);
        this.setValueInternal(this.$1n_4);
    }
    if (descriptor.Type === 'BooleanAttributeMetadata') {
        this.$45_4 = 'boolean';
    }
    else if (descriptor.Type === 'StateAttributeMetadata') {
        this.setSubmitMode('never');
        this.$45_4 = 'optionset';
    }
    else {
        this.$45_4 = 'optionset';
    }
}
Mscrm.TurboForm.Control.Data.PicklistDataAttribute.$$cctor = function() {
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('PicklistAttributeMetadata', Mscrm.TurboForm.Control.Data.PicklistDataAttribute.$DW);
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('StateAttributeMetadata', Mscrm.TurboForm.Control.Data.PicklistDataAttribute.$DW);
}
Mscrm.TurboForm.Control.Data.PicklistDataAttribute.$DW = function($p0, $p1) {
    var $v_0 = new Mscrm.TurboForm.Control.Data.PicklistDataAttribute($p0, $p1);
    return $v_0;
}
Mscrm.TurboForm.Control.Data.PicklistDataAttribute.prototype = {
    $1n_4: 0,
    $9U_4: false,
    $5D_4: false,
    
    get_emptyOptionSelected: function() {
        return this.$5D_4;
    },
    
    set_emptyOptionSelected: function(value) {
        this.$5D_4 = value;
        return value;
    },
    
    $6l_4: null,
    $45_4: null,
    $AF_4: false,
    
    get_hasEmptyOption: function() {
        return this.$AF_4;
    },
    
    set_hasEmptyOption: function(value) {
        this.$AF_4 = value;
        return value;
    },
    
    get_languageInvariantText: function() {
        return this.$6l_4;
    },
    
    set_languageInvariantText: function(value) {
        this.$6l_4 = value;
        return value;
    },
    
    get_picklistAttributeType: function() {
        return this.$45_4;
    },
    
    set_picklistAttributeType: function(value) {
        this.$45_4 = value;
        return value;
    },
    
    setRequiredLevel: function(requiredLevel, clearValidationIfRequiredLevelNone) {
        Mscrm.TurboForm.Control.Data.DataAttributeBase.prototype.setRequiredLevel.call(this, requiredLevel, clearValidationIfRequiredLevelNone);
        this.set_hasEmptyOption(this.$1n_4 === -1 && this.getRequiredLevel() === 'none');
        var $v_0 = new Array(0);
        if (!IsNull(this.getOptions())) {
            for (var $$arr_3 = this.getOptions(), $$len_4 = $$arr_3.length, $$idx_5 = 0; $$idx_5 < $$len_4; ++$$idx_5) {
                var $v_1 = $$arr_3[$$idx_5];
                if ($v_1.value !== -1) {
                    Array.insert($v_0, $v_0.length, $v_1);
                }
            }
        }
        this.setOptions($v_0);
    },
    
    bindDataInternal: function(data) {
        Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase.prototype.bindDataInternal.call(this, data);
        this.$6l_4 = data['invariant'];
    },
    
    processValue: function(value) {
        var $v_0 = Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase.prototype.processValue.call(this, value);
        if (IsNull($v_0)) {
            if (!this.$9U_4) {
                this.$5D_4 = true;
            }
            else {
                this.$9U_4 = false;
            }
        }
        else {
            this.$5D_4 = false;
        }
        return $v_0;
    },
    
    isValueValid: function(optionSetItem) {
        return !(this.get_hasEmptyOption() && optionSetItem.text === '' && optionSetItem.value === -1);
    },
    
    getAttributeType: function() {
        return this.$45_4;
    },
    
    setOptions: function(options) {
        this.$FF_4(options);
    },
    
    $FF_4: function($p0) {
        if (this.get_hasEmptyOption()) {
            var $v_0 = new Xrm.OptionSetItem(-1, '');
            Array.insert($p0, $p0.length, $v_0);
        }
        this.setOptionsInternal($p0);
    },
    
    getInvariantText: function() {
        return this.$6l_4;
    },
    
    addOption: function(option, placement) {
        var $v_0 = Array.clone(this.getOptions());
        if (!IsNull(placement)) {
            Array.insert($v_0, placement, option);
        }
        else {
            Array.add($v_0, option);
        }
        this.setOptions($v_0);
    },
    
    removeOption: function(value) {
        var $v_0 = Array.clone(this.getOptions());
        for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
            if ($v_0[$v_1].value === value) {
                Array.removeAt($v_0, $v_1);
                this.setOptions($v_0);
                break;
            }
        }
    },
    
    clearOptions: function() {
        this.setOptions(new Array(0));
    }
}


Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase = function(descriptor, parentEntity) {
    Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase.initializeBase(this, [ descriptor, parentEntity ]);
}
Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase.prototype = {
    
    bindDataInternal: function(data) {
        var $v_0 = data['raw'];
        var $v_1 = IsNull($v_0);
        this.setValueInternal($v_0, null, $v_1);
    },
    
    getInitialValue: function() {
        return this.$1x_2;
    },
    
    $6J_3: false,
    
    get_overrideControlOptionSet: function() {
        return this.$6J_3;
    },
    
    set_overrideControlOptionSet: function(value) {
        this.$6J_3 = value;
        return value;
    },
    
    getOptions: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase.$CV);
    },
    
    setOptions: function(options) {
        this.setOptionsInternal(options);
    },
    
    getOption: function(value) {
        var $v_0 = value;
        value = this.processValue($v_0);
        if (!IsNull(value)) {
            var $v_1 = this.getOptions();
            for (var $v_2 = 0; $v_2 < $v_1.length; $v_2++) {
                if ($v_1[$v_2].value === value) {
                    return $v_1[$v_2];
                }
            }
        }
        return null;
    },
    
    getSelectedOption: function() {
        return this.getOption(this.getValue());
    },
    
    getText: function() {
        var $v_0 = this.getSelectedOption();
        if (!IsNull($v_0)) {
            return $v_0.text;
        }
        return null;
    },
    
    processValue: function(value) {
        var $v_0 = Mscrm.TurboForm.Control.Data.DataAttributeBase.prototype.processValue.call(this, value);
        if (!IsNull($v_0)) {
            if (Object.getType($v_0) === Boolean) {
                $v_0 = ($v_0) ? 1 : 0;
            }
            else if (Object.getType($v_0) === String) {
                var $v_4 = parseInt($v_0, 10);
                if (isNaN($v_4)) {
                }
                else {
                    $v_0 = $v_4;
                }
            }
            var $v_1 = false;
            var $v_2 = this.getOptions();
            var $v_3 = $v_2.length;
            for (var $v_5 = 0; $v_5 < $v_3; $v_5++) {
                if ($v_2[$v_5].value === $v_0) {
                    $v_1 = this.isValueValid($v_2[$v_5]);
                    break;
                }
            }
            if (!$v_1) {
                $v_0 = null;
            }
        }
        return $v_0;
    },
    
    isValueValid: function(optionSetItem) {
        return true;
    },
    
    setOptionsInternal: function(options) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase.$CV, options);
    }
}


Mscrm.TurboForm.Control.Data.StatusOptionDataAttribute = function(descriptor, parentEntity) {
    this.$$d_$J3_5 = Function.createDelegate(this, this.$J3_5);
    Mscrm.TurboForm.Control.Data.StatusOptionDataAttribute.initializeBase(this, [ descriptor, parentEntity ]);
    parentEntity.$K_1.addOnLoad(this.$$d_$J3_5);
    this.$6J_3 = true;
}
Mscrm.TurboForm.Control.Data.StatusOptionDataAttribute.$$cctor = function() {
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('StatusAttributeMetadata', Mscrm.TurboForm.Control.Data.StatusOptionDataAttribute.$GG);
}
Mscrm.TurboForm.Control.Data.StatusOptionDataAttribute.$GG = function($p0, $p1) {
    var $v_0 = new Mscrm.TurboForm.Control.Data.StatusOptionDataAttribute($p0, $p1);
    return $v_0;
}
Mscrm.TurboForm.Control.Data.StatusOptionDataAttribute.prototype = {
    
    get_hasEmptyOption: function() {
        return false;
    },
    
    set_hasEmptyOption: function(value) {
        return value;
    },
    
    $CZ_5: null,
    $A0_5: null,
    
    internalDispose: function() {
        this.getParent().$K_1.removeOnLoad(this.$$d_$J3_5);
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    processValue: function(value) {
        if (String.isInstanceOfType(value)) {
            if (IsNullOrEmptyString(value.toString()) || (!this.getUserPrivilege().canRead && value.toString() === '*******')) {
                value = null;
            }
        }
        var $v_0 = (IsNull(value)) ? null : value;
        if (!IsNull($v_0)) {
            if (Object.getType($v_0) === String) {
                var $v_4 = parseInt($v_0, 10);
                if (isNaN($v_4)) {
                }
                else {
                    $v_0 = $v_4;
                }
            }
            var $v_1 = false;
            var $v_2 = this.$6Q_2;
            var $v_3 = $v_2.PicklistOptions;
            for (var $v_5 = 0; $v_5 < $v_3.length; $v_5++) {
                if ($v_3[$v_5].Value === $v_0) {
                    $v_1 = true;
                    break;
                }
            }
            if (!$v_1) {
                $v_0 = null;
            }
        }
        return $v_0;
    },
    
    $J3_5: function($p0) {
        this.$L3_5();
    },
    
    $Hi_5: function($p0, $p1) {
        var $v_0 = new Array($p0.length);
        var $v_1 = 0;
        for (var $v_2 = 0; $v_2 < $p1.length; $v_2++) {
            var $v_3 = $p1[$v_2];
            for (var $v_4 = 0; $v_4 < $p0.length; $v_4++) {
                if ($p0[$v_4] === $v_3.Value) {
                    if ($v_1 < $p0.length) {
                        $v_0[$v_1] = $v_3.Value;
                        $v_1++;
                        break;
                    }
                }
            }
        }
        return $v_0;
    },
    
    $L3_5: function() {
        var $v_0 = new Array(0);
        var $v_1 = new Array(0);
        var $v_2 = this.$6Q_2;
        var $v_3 = this.getValue();
        var $v_4 = this.$HI_5();
        var $v_5 = null;
        var $v_6;
        if (Xrm.Page.data.entity.getEntityName() === this.getParent().getEntityName()) {
            var $v_8 = Xrm.Page.getAttribute('statecode');
            if (!IsNull($v_8)) {
                $v_5 = $v_8.getValue();
                $v_6 = true;
            }
            else {
                $v_6 = false;
            }
        }
        else {
            var $v_9 = this.getParent().getAttributes().getByName('statecode');
            if ($v_9) {
                $v_5 = $v_9.getValue();
                $v_6 = true;
            }
            else {
                $v_6 = false;
                for (var $$arr_9 = $v_2.StatusOptions, $$len_A = $$arr_9.length, $$idx_B = 0; $$idx_B < $$len_A; ++$$idx_B) {
                    var $v_A = $$arr_9[$$idx_B];
                    var $v_B = $v_A.Key;
                    if (!Array.contains($v_4, $v_B)) {
                        Array.add($v_4, $v_B);
                    }
                }
            }
        }
        if (!IsNull($v_5) && $v_6) {
            if (this.$CZ_5 === $v_5 && (!$v_2.EnforceStateTransitions || this.$A0_5 === $v_3)) {
                this.$A0_5 = $v_3;
                this.$DH_5($v_0, $v_3, $v_2);
                return;
            }
            this.$CZ_5 = $v_5;
            this.$A0_5 = $v_3;
            if (!Array.contains($v_4, $v_5)) {
                Array.add($v_4, $v_5);
            }
        }
        for (var $v_C = 0; $v_C < $v_4.length; ++$v_C) {
            for (var $$arr_F = $v_2.StatusOptions, $$len_G = $$arr_F.length, $$idx_H = 0; $$idx_H < $$len_G; ++$$idx_H) {
                var $v_D = $$arr_F[$$idx_H];
                var $v_E = $v_D.Key;
                var $v_F = this.$Hi_5($v_D.Value, $v_2.PicklistOptions);
                if ($v_E === $v_4[$v_C]) {
                    Array.addRange($v_1, $v_F);
                }
            }
        }
        var $v_7 = null;
        for (var $$arr_M = $v_2.StateTransitions, $$len_N = $$arr_M.length, $$idx_O = 0; $$idx_O < $$len_N; ++$$idx_O) {
            var $v_G = $$arr_M[$$idx_O];
            if ($v_G.Key === $v_3) {
                $v_7 = $v_G.Value;
                break;
            }
        }
        for (var $v_H = 0; $v_H < $v_1.length; $v_H++) {
            for (var $v_I = 0; $v_I < $v_2.PicklistOptions.length; $v_I++) {
                var $v_J = $v_2.PicklistOptions[$v_I];
                if ($v_1[$v_H] === $v_J.Value) {
                    var $v_K = new Xrm.OptionSetItem($v_J.Value, $v_J.Label);
                    if ($v_2.EnforceStateTransitions) {
                        var $v_L = false;
                        for (var $v_M = 0; $v_M < $v_7.length; $v_M++) {
                            if ($v_7[$v_M] === $v_J.Value) {
                                $v_L = true;
                                break;
                            }
                        }
                        if ($v_L || (!IsNull($v_3) && $v_J.Value === $v_3)) {
                            $v_0[$v_0.length] = $v_K;
                        }
                    }
                    else {
                        $v_0[$v_0.length] = $v_K;
                    }
                    break;
                }
            }
        }
        this.setOptions($v_0);
        this.$DH_5($v_0, $v_3, $v_2);
    },
    
    $DH_5: function($p0, $p1, $p2) {
        var $v_0 = Xrm.Page.ui.quickForms;
        var $v_1 = null;
        var $v_2 = null;
        if (!IsNull($v_0) && $v_0.getLength() > 0) {
            if (!this.getParent().$K_1.$8_1.$z_1) {
                return;
            }
            $v_1 = this.getParent().$K_1.$8_1.$z_1;
            var $v_3 = $p1;
            var $$t_E = this;
            $v_0.forEach(function($p1_0, $p1_1) {
                var $v_4 = $p1_0.data;
                if ($v_4.$1C_1.$8_1.$z_1) {
                    $v_2 = $v_4.$1C_1.$8_1.$z_1;
                    if ($v_1 === $v_2) {
                        for (var $v_5 = 0; $v_5 < $p2.PicklistOptions.length; $v_5++) {
                            var $v_6 = $p2.PicklistOptions[$v_5];
                            if ($v_6) {
                                var $v_7 = $v_6.Value;
                                if ($v_7 === $v_3) {
                                    var $v_8 = new Xrm.OptionSetItem($v_7, $v_6.Label);
                                    $p0[$p0.length] = $v_8;
                                    break;
                                }
                            }
                        }
                    }
                }
            });
            if (!IsNull($p0) && $p0.length > 0) {
                this.setOptions($p0);
            }
        }
    },
    
    $HI_5: function() {
        var $v_0 = new Array(0);
        var $v_1 = Xrm.Page.data.getEntity().getEntityName();
        if ('appointment' === $v_1 || 'recurringappointmentmaster' === $v_1) {
            $v_0 = [ 0, 3 ];
        }
        else {
            $v_0 = [ 0 ];
            var $v_2 = Xrm.Page.getAttribute('statecode');
            if (!IsNull($v_2)) {
                var $v_3 = $v_2.getOptions();
                if ($v_3.length) {
                    $v_0[0] = $v_3[0].value;
                }
            }
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.Data.StringDataAttribute = function(descriptor, parentEntity) {
    this.$$d_$LZ_3 = Function.createDelegate(this, this.$LZ_3);
    this.$$d_$Lc_3 = Function.createDelegate(this, this.$Lc_3);
    this.$$d_$Lh_3 = Function.createDelegate(this, this.$Lh_3);
    Mscrm.TurboForm.Control.Data.StringDataAttribute.initializeBase(this, [ descriptor, parentEntity ]);
    var $v_0 = descriptor.AttributeMetadata;
    this.$Kx_3($v_0.MaxLength);
    this.setFormat($v_0.Format);
    this.addValidator(this.$$d_$Lh_3);
    this.addValidator(this.$$d_$Lc_3);
    if ($v_0.Format === 'email') {
        this.addValidator(this.$$d_$LZ_3);
    }
}
Mscrm.TurboForm.Control.Data.StringDataAttribute.$$cctor = function() {
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('StringAttributeMetadata', Mscrm.TurboForm.Control.Data.StringDataAttribute.$GH);
}
Mscrm.TurboForm.Control.Data.StringDataAttribute.$GH = function($p0, $p1) {
    var $v_0 = new Mscrm.TurboForm.Control.Data.StringDataAttribute($p0, $p1);
    return $v_0;
}
Mscrm.TurboForm.Control.Data.StringDataAttribute.prototype = {
    
    bindDataInternal: function(data) {
        var $v_0 = getDecodedValue(data, true);
        if (IsNullOrEmptyString($v_0)) {
            this.setValueInternal($v_0, null, true);
        }
        else {
            this.setValueInternal($v_0);
        }
    },
    
    isEqual: function(value1, value2) {
        var $v_0 = removeCarriageReturnsOnNewLines(value1);
        var $v_1 = removeCarriageReturnsOnNewLines(value2);
        return $v_0 === $v_1;
    },
    
    getAttributeType: function() {
        return 'string';
    },
    
    getMaxLength: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.StringDataAttribute.$CM);
    },
    
    $Kx_3: function($p0) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.StringDataAttribute.$CM, $p0);
    },
    
    $Lc_3: function($p0) {
        var $v_0 = $p0.$u_0;
        if (!IsNull($v_0)) {
            if ($v_0.length > this.getMaxLength()) {
                var $v_1 = [ this.getMaxLength().toString() ];
                var $$t_3;
                return new Mscrm.TurboForm.Control.ValidationResult(false, 1, ($$t_3 = Mscrm.TurboForm.Control.ResourceManager.get_instance()).getLocalizedErrorMessage.apply($$t_3, [ 1 ].concat($v_1)));
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $Lh_3: function($p0) {
        var $v_0 = $p0.$u_0;
        if (!IsNull($v_0) && Object.getType($v_0) !== String) {
            return new Mscrm.TurboForm.Control.ValidationResult(false, 7, Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(7));
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    },
    
    $LZ_3: function($p0) {
        var $v_0 = $p0.$u_0;
        var $v_1 = '^[^@\\s\\\"<>)(\\[\\]:;,]+@[^@\\s\\\"<>)(\\[\\]:;,]+$';
        var $v_2 = new RegExp($v_1);
        if (!IsNull($v_0)) {
            if (!$v_2.test($v_0)) {
                return new Mscrm.TurboForm.Control.ValidationResult(false, 11, Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(11));
            }
        }
        return new Mscrm.TurboForm.Control.ValidationResult(true);
    }
}


Mscrm.TurboForm.Control.Data.MemoDataAttribute = function(descriptor, parentEntity) {
    Mscrm.TurboForm.Control.Data.MemoDataAttribute.initializeBase(this, [ descriptor, parentEntity ]);
}
Mscrm.TurboForm.Control.Data.MemoDataAttribute.$$cctor = function() {
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('MemoAttributeMetadata', Mscrm.TurboForm.Control.Data.MemoDataAttribute.$GC);
}
Mscrm.TurboForm.Control.Data.MemoDataAttribute.$GC = function($p0, $p1) {
    var $v_0 = new Mscrm.TurboForm.Control.Data.MemoDataAttribute($p0, $p1);
    return $v_0;
}
Mscrm.TurboForm.Control.Data.MemoDataAttribute.prototype = {
    
    bindDataInternal: function(data) {
        var $v_0 = '';
        if (!IsNull(data['SecuritySettingForEmail'])) {
            $v_0 = getDecodedValue(data, false);
        }
        else {
            $v_0 = getDecodedValue(data, true);
        }
        var $v_1 = data['safeValue'];
        var $v_2 = data['isUnsafe'];
        var $v_3 = data['SecuritySettingForEmail'];
        this.setValueInternal($v_0);
        this.$L1_4($v_1);
        this.$Kv_4($v_2);
        this.$L2_4($v_3);
    },
    
    getAttributeType: function() {
        return 'memo';
    },
    
    getSafeValue: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.MemoDataAttribute.$Ck);
    },
    
    $L1_4: function($p0) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.MemoDataAttribute.$Ck, $p0);
    },
    
    getIsUnsafe: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.MemoDataAttribute.$CC);
    },
    
    $Kv_4: function($p0) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.MemoDataAttribute.$CC, $p0);
    },
    
    getSecuritySettingForEmail: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.Data.MemoDataAttribute.$Cn);
    },
    
    $L2_4: function($p0) {
        this.setPropertyValue(Mscrm.TurboForm.Control.Data.MemoDataAttribute.$Cn, $p0);
    },
    
    isEqual: function(value1, value2) {
        var $v_0 = removeCarriageReturnsOnNewLines(value1);
        var $v_1 = removeCarriageReturnsOnNewLines(value2);
        return ($v_0 === $v_1 || (!IsNull($v_0) && !IsNull($v_1) && CrmEncodeDecode.CrmHtmlDecode($v_0) === CrmEncodeDecode.CrmHtmlDecode($v_1)));
    }
}


Mscrm.TurboForm.Control.Data.UniqueIdentifierDataAttribute = function(descriptor, parentEntity) {
    Mscrm.TurboForm.Control.Data.UniqueIdentifierDataAttribute.initializeBase(this, [ descriptor, parentEntity ]);
    var $v_0 = descriptor.AttributeMetadata;
    this.setFormat($v_0.Format);
}
Mscrm.TurboForm.Control.Data.UniqueIdentifierDataAttribute.$$cctor = function() {
    Mscrm.TurboForm.Control.DataAttributeBuilder.get_instance().registerAttributeBuilder('UniqueIdentifierAttributeMetadata', Mscrm.TurboForm.Control.Data.UniqueIdentifierDataAttribute.buildUniqueIdentifierAttribute);
}
Mscrm.TurboForm.Control.Data.UniqueIdentifierDataAttribute.buildUniqueIdentifierAttribute = function(descriptor, parentEntity) {
    var $v_0 = new Mscrm.TurboForm.Control.Data.UniqueIdentifierDataAttribute(descriptor, parentEntity);
    return $v_0;
}
Mscrm.TurboForm.Control.Data.UniqueIdentifierDataAttribute.prototype = {
    
    bindDataInternal: function(data) {
        var $v_0 = data['value'];
        this.setValueInternal($v_0);
    },
    
    getAttributeType: function() {
        return 'uniqueidentifier';
    }
}


Mscrm.TurboForm.Control.Data.VisibleDataProperty = function(key, propertyType, ownerType, defaultValue, alwaysNotify) {
    Mscrm.TurboForm.Control.Data.VisibleDataProperty.initializeBase(this, [ key, propertyType, ownerType, defaultValue, alwaysNotify ]);
}
Mscrm.TurboForm.Control.Data.VisibleDataProperty.prototype = {
    
    get_$FQ_0: function() {
        return 'Data_' + this.$1D_0;
    },
    
    raisePropertyChanged: function(args) {
        var $v_0 = args.$7_0;
        var $v_1 = ($v_0.getParent()).$K_1.$8_1;
        $v_1.registerVisibleDataPropertyChanged($v_0.getKey(), args.$7r_0.$1D_0, args.$7q_0);
    }
}


Mscrm.TurboForm.Control.Data.DataLoadEventArgs = function(loadState) {
    Mscrm.TurboForm.Control.Data.DataLoadEventArgs.initializeBase(this, [ 0 ]);
    this.$Ak_3 = loadState;
}
Mscrm.TurboForm.Control.Data.DataLoadEventArgs.prototype = {
    $Ak_3: 0,
    
    getDataLoadState: function() {
        return this.$Ak_3;
    }
}


Mscrm.TurboForm.Control.Data.EntitySaveEventArgs = function(mode) {
    Mscrm.TurboForm.Control.Data.EntitySaveEventArgs.initializeBase(this);
    this.$An_2 = mode;
    this.$6q_2 = false;
}
Mscrm.TurboForm.Control.Data.EntitySaveEventArgs.prototype = {
    $An_2: 0,
    $AH_2: false,
    $6q_2: false,
    
    getSaveMode: function() {
        return this.$An_2;
    },
    
    get_isCalledFromSubmitCrmForm: function() {
        return this.$AH_2;
    },
    
    set_isCalledFromSubmitCrmForm: function(value) {
        this.$AH_2 = value;
        return value;
    },
    
    get_isHandlerAttached: function() {
        return this.$6q_2;
    },
    
    set_isHandlerAttached: function(value) {
        this.$6q_2 = value;
        return value;
    }
}


Mscrm.TurboForm.Control.Data.FormCloseEventArgs = function() {
    Mscrm.TurboForm.Control.Data.FormCloseEventArgs.initializeBase(this);
}


Mscrm.TurboForm.Control.Data.FormEventArgs = function() {
    Mscrm.TurboForm.Control.Data.FormEventArgs.initializeBase(this);
}
Mscrm.TurboForm.Control.Data.FormEventArgs.prototype = {
    $AZ_1: false,
    
    isDefaultPrevented: function() {
        return this.$AZ_1;
    },
    
    preventDefault: function() {
        this.$AZ_1 = true;
    }
}


Mscrm.TurboForm.Control.Data.EntityWrapper = function($p0) {
    this.$1e_0 = $p0;
    this.$BH_0 = $p0.getAttributes();
}
Mscrm.TurboForm.Control.Data.EntityWrapper.prototype = {
    $BH_0: null,
    $1e_0: null,
    
    getAttributes: function() {
        return this.$BH_0;
    },
    
    addOnSave: function(handler) {
        this.$1e_0.addOnSave(handler);
    },
    
    getIsDirty: function() {
        return this.$1e_0.getIsDirty();
    },
    
    getDataXml: function() {
        var $v_0 = (this.$1e_0.get_isNew()) ? 0 : 1;
        return this.$1e_0.serialize($v_0);
    },
    
    getId: function() {
        return this.$1e_0.$w_1;
    },
    
    getClientId: function() {
        return this.$1e_0.getId();
    },
    
    getEntityName: function() {
        return this.$1e_0.getEntityName();
    },
    
    getPrimaryAttributeValue: function() {
        return this.$1e_0.getPrimaryAttributeValue();
    },
    
    isInHierarchy: function() {
        return this.$1e_0.isInHierarchy();
    },
    
    removeOnSave: function(handler) {
        this.$1e_0.removeOnSave(handler);
    },
    
    save: function(action) {
        this.$1e_0.save(action);
    }
}


Type.registerNamespace('Mscrm.InlineEdit');

Type.registerNamespace('Mscrm.TurboForm.Control.ViewModel');

Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotification = function(level, message, uniqueId, priority) {
    Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotification.initializeBase(this);
    this.messages = [ message ];
    this.uniqueId = uniqueId;
    this.notificationLevel = level;
    this.priority = priority;
    this.$6G_1 = new Array(0);
}
Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotification.prototype = {
    $6G_1: null,
    
    get_actions: function() {
        return this.$6G_1;
    },
    
    set_actions: function(value) {
        this.$6G_1 = value;
        return value;
    },
    
    dismiss: function() {
    },
    
    addActionCollection: function(actionCollection) {
        Array.add(this.$6G_1, actionCollection);
    }
}


Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotificationProvider = function() {
    this.$2y_0 = new Array(0);
}
Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotificationProvider.prototype = {
    $2y_0: null,
    
    getNotifications: function(filter) {
        var $v_0 = new (Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.BusinessRuleNotificationBase))();
        for (var $$arr_2 = this.$2y_0, $$len_3 = $$arr_2.length, $$idx_4 = 0; $$idx_4 < $$len_3; ++$$idx_4) {
            var $v_1 = $$arr_2[$$idx_4];
            if (_Script.isNullOrUndefined(filter) || filter($v_1)) {
                $v_0.add($v_1);
            }
        }
        return $v_0.get_Items();
    },
    
    clearNotifications: function() {
        Array.clear(this.$2y_0);
        return true;
    },
    
    clearNotification: function(uniqueId) {
        if (_Script.isNullOrUndefined(uniqueId)) {
            return false;
        }
        for (var $v_0 = 0; $v_0 < this.$2y_0.length; ++$v_0) {
            if (this.$2y_0[$v_0].uniqueId === uniqueId) {
                Array.removeAt(this.$2y_0, $v_0);
                return true;
            }
        }
        return false;
    },
    
    addNotification: function(notification) {
        if (!notification || _Script.isNullOrUndefined(notification.messages) || _Script.isNullOrUndefined(notification.messages[0]) || Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(notification.messages[0])) {
            return false;
        }
        for (var $$arr_1 = this.$2y_0, $$len_2 = $$arr_1.length, $$idx_3 = 0; $$idx_3 < $$len_2; ++$$idx_3) {
            var $v_0 = $$arr_1[$$idx_3];
            if ($v_0.uniqueId === notification.uniqueId) {
                return false;
            }
        }
        Array.add(this.$2y_0, notification);
        return true;
    }
}


Mscrm.TurboForm.Control.ViewModel.ACIViewModel = function(descriptor, parent, formUI) {
    this.$BD_6 = {};
    Mscrm.TurboForm.Control.ViewModel.ACIViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
}
Mscrm.TurboForm.Control.ViewModel.ACIViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.aciControl, Mscrm.TurboForm.Control.ViewModel.ACIViewModel.$DR);
}
Mscrm.TurboForm.Control.ViewModel.ACIViewModel.$DR = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.ACIViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.ACIViewModel.prototype = {
    
    initialize: function() {
        Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.prototype.initialize.call(this);
        var $v_0 = window.APP_URL;
        var $v_1 = window.ORG_ID;
        if (!IsNullOrEmptyString($v_1)) {
            $v_1 = $v_1.replace('{', '').replace('}', '').replace(new RegExp('-', 'g'), '').toLowerCase();
        }
        this.setParameter('filterKey', 'crmrecordid');
        this.setParameter('filterValue', Xrm.Page.data.entity.getId().toString().replace('{', '').replace('}', '').toLowerCase());
        this.setParameter('appUrl', $v_0.toString());
        this.setParameter('ViewName', this.GetParameterValue('ViewName').toString() + $v_1);
        this.loadWidget();
    },
    
    getControlType: function() {
        return 'acicontrol';
    },
    
    setParameter: function(key, value) {
        this.$BD_6[key] = value;
    },
    
    loadWidget: function() {
        var $v_0 = Mscrm.CrmUri.create(this.get_currentUrlString());
        var $$dict_2 = this.$BD_6;
        for (var $$key_3 in $$dict_2) {
            var $v_1 = { key: $$key_3, value: $$dict_2[$$key_3] };
            if ($v_1.key.toString() === 'appUrl') {
                if (IsNull($v_1.value) || IsNullOrEmptyString($v_1.value.toString())) {
                    return;
                }
                $v_0.set_host($v_1.value.toString());
                continue;
            }
            $v_0.get_query()[$v_1.key.toLowerCase().toString()] = $v_1.value;
        }
        this.setSrc($v_0.toString());
    },
    
    getViewIdFromViewName: function(viewName) {
    },
    
    getInitialUrl: function() {
        return this.$6k_5;
    },
    
    delayedLoadHandler: function(context) {
        Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.prototype.delayedLoadHandler.call(this, context);
        this.loadWidget();
    }
}


Mscrm.TurboForm.Control.ViewModel.ContainerViewModel$1 = function(descriptor, collection, formUI) {
    Mscrm.TurboForm.Control.ViewModel.ContainerViewModel$1.$$(this.$$gta['Mscrm.TurboForm.Control.ViewModel.ContainerViewModel$1']['T']).initializeBase(this, [ descriptor, formUI ]);
    this.$9A_3 = collection;
    this.$6D_3 = new (Mscrm.TurboForm.Control.TypedDictionary$1.$$(Boolean))();
}
Mscrm.TurboForm.Control.ViewModel.ContainerViewModel$1.$$ = function(T) {
    var $$cn = 'ContainerViewModel$1' + '$' + T.getName().replace(/\./g, '_');
    if (!Mscrm.TurboForm.Control.ViewModel[$$cn]) {
        var $$ccr = Mscrm.TurboForm.Control.ViewModel[$$cn] = function() {
            (this.$$gta = this.$$gta || {})['Mscrm.TurboForm.Control.ViewModel.ContainerViewModel$1'] = {'T': T};
            var $v_0 = [];
            for (var $v_1 = 0; $v_1 < arguments.length; ++$v_1) {
                $v_0[$v_1] = arguments[$v_1];
            }
            Mscrm.TurboForm.Control.ViewModel.ContainerViewModel$1.apply(this, $v_0);
        };
        $$ccr.registerClass('Mscrm.TurboForm.Control.ViewModel.' + $$cn, Mscrm.TurboForm.Control.ViewModel.FormElementViewModel);
        var $$dict_5 = Mscrm.TurboForm.Control.ViewModel.ContainerViewModel$1.prototype;
        for (var $$key_6 in $$dict_5) {
            var $$entry_7 = { key: $$key_6, value: $$dict_5[$$key_6] };
            if ('constructor' !== $$entry_7.key) {
                $$ccr.prototype[$$entry_7.key] = $$entry_7.value;
            }
        }
    }
    return Mscrm.TurboForm.Control.ViewModel[$$cn];
}
Mscrm.TurboForm.Control.ViewModel.ContainerViewModel$1.prototype = {
    $9A_3: null,
    $9T_3: false,
    $6D_3: null,
    
    get_hideIfNoChildrenVisible: function() {
        return this.$9T_3;
    },
    
    set_hideIfNoChildrenVisible: function(value) {
        this.$9T_3 = value;
        return value;
    },
    
    getChildViewModels: function() {
        return this.$9A_3;
    },
    
    addChildViewModel: function(child) {
        this.$9A_3.add(child);
    },
    
    updateVisibleChildren: function(controlName, childVisible) {
        if (childVisible) {
            this.$6D_3.set_item(controlName, childVisible);
        }
        else if (this.$6D_3.containsKey(controlName)) {
            this.$6D_3.remove(controlName);
        }
    },
    
    updateContainerVisibility: function() {
        if (this.$9T_3) {
            this.setVisible(this.$6D_3.count() > 0);
        }
    }
}


Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.initializeBase(this, [ descriptor, formUI ]);
    this.$8E_3 = $find('__Page_crmEventManager');
    var $v_0 = descriptor;
    this.$t_3 = parent;
    this.$24_3 = new Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotificationProvider();
    this.$8e_3 = $v_0.Parameters;
    this.setSoftDisabled($v_0.Disabled);
    if (!IsNull(this.$t_3)) {
        this.$t_3.updateVisibleChildren(this.getKey(), descriptor.Visible);
    }
}
Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.prototype = {
    $t_3: null,
    $8E_3: null,
    $2r_3: null,
    $Aj_3: null,
    $8e_3: null,
    $3H_3: false,
    $24_3: null,
    $3l_3: 'alwaysedit',
    
    get_controlMode: function() {
        return this.$3l_3;
    },
    
    set_controlMode: function(value) {
        this.$3l_3 = value;
        return value;
    },
    
    get_lastSetNotificationId: function() {
        return this.$2r_3;
    },
    
    get_isHardDisabledSet: function() {
        return this.$3H_3;
    },
    
    set_isHardDisabledSet: function(value) {
        this.$3H_3 = value;
        return value;
    },
    
    get_notifications: function() {
        return this.$24_3;
    },
    
    set_notifications: function(value) {
        this.$24_3 = value;
        return value;
    },
    
    GetParameterValue: function(parameterName) {
        if (!IsNull(this.$8e_3)) {
            for (var $$arr_1 = this.$8e_3, $$len_2 = $$arr_1.length, $$idx_3 = 0; $$idx_3 < $$len_2; ++$$idx_3) {
                var $v_0 = $$arr_1[$$idx_3];
                if (!IsNull($v_0) && $v_0.Key === parameterName) {
                    return $v_0.Value;
                }
            }
        }
        return '';
    },
    
    getDisabled: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$9F);
    },
    
    setDisabled: function(isDisabled) {
        this.$3H_3 = true;
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$9F, isDisabled);
    },
    
    setSoftDisabled: function(isDisabled) {
        if (this.$3H_3 && isDisabled && !this.getDisabled() && this.$G_2.$8_1.getPageData().$1i_1) {
            this.$3H_3 = false;
        }
        if (!this.$3H_3) {
            this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$9F, isDisabled);
        }
    },
    
    getNotification: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$9l);
    },
    
    setNotification: function(message, uniqueId, notificationLevel) {
        var $v_0 = new Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotification(notificationLevel, message, uniqueId);
        return this.addNotification($v_0);
    },
    
    clearNotification: function(uniqueId) {
        if (!IsNull(uniqueId)) {
            var $v_0 = this.$24_3.clearNotification(uniqueId);
            this.trySetNotificationAndLevel();
            return $v_0;
        }
        return this.clearAllNotification();
    },
    
    clearAllNotification: function() {
        if (!this.$24_3.clearNotifications()) {
            return false;
        }
        this.$EN_3();
        return true;
    },
    
    $EN_3: function() {
        this.$2r_3 = null;
        this.$Aj_3 = null;
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$9l, '');
    },
    
    addNotification: function(notification) {
        if (IsNull(notification)) {
            return false;
        }
        if (this.getVisible()) {
            if (!notification.messages || notification.messages.length <= 0) {
                return false;
            }
            if (Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(notification.notificationLevel)) {
                notification.notificationLevel = 'ERROR';
            }
            if (!this.$24_3.addNotification(notification)) {
                return false;
            }
            this.trySetNotificationAndLevel();
            return true;
        }
        return false;
    },
    
    trySetNotificationAndLevel: function() {
        var $v_0 = this.$24_3.getNotifications(null);
        if (_Script.isNullOrUndefined($v_0) || $v_0.length < 1) {
            this.$EN_3();
            return;
        }
        var $v_1 = this.$2r_3;
        var $v_2 = null;
        for (var $$arr_3 = $v_0, $$len_4 = $$arr_3.length, $$idx_5 = 0; $$idx_5 < $$len_4; ++$$idx_5) {
            var $v_3 = $$arr_3[$$idx_5];
            var $v_4 = (isNullOrEmptyString($v_3.notificationLevel)) ? 'ERROR' : $v_3.notificationLevel;
            if ($v_4 !== 'ERROR' && this.hasErrorNotification()) {
                continue;
            }
            $v_2 = $v_3;
            if (!IsNull($v_3.uniqueId)) {
                this.$2r_3 = $v_3.uniqueId;
            }
            else {
                this.$2r_3 = 'DefaultNotificationId';
            }
            this.$Aj_3 = $v_4;
        }
        if (!_Script.isNullOrUndefined($v_2)) {
            this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$9l, $v_2.messages[0]);
            this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$EZ, $v_2.notificationLevel);
        }
    },
    
    hasNotification: function() {
        if (!IsNull(this.$2r_3) && !_Script.isNullOrUndefined(this.$24_3)) {
            return true;
        }
        return false;
    },
    
    hasErrorNotification: function() {
        var $$t_1 = this;
        if (this.hasNotification() && this.$24_3.getNotifications(function($p1_0) {
            return $p1_0.notificationLevel === 'ERROR';
        }).length > 0) {
            return true;
        }
        return false;
    },
    
    setFocus: function() {
        this.setVisible(true);
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$7e, true);
    },
    
    blur: function() {
        this.setVisible(true);
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$7e, false);
    },
    
    getParent: function() {
        return this.$t_3;
    },
    
    setVisible: function(visible) {
        if (visible) {
            if (!IsNull(this.$t_3)) {
                this.$t_3.setVisible(visible);
            }
        }
        if (this.getVisible() !== visible) {
            if (!IsNull(this.$t_3)) {
                this.$t_3.updateVisibleChildren(this.getKey(), visible);
                if (visible || this.$t_3.getVisible()) {
                    this.$t_3.updateContainerVisibility();
                }
            }
        }
        Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.prototype.setVisible.call(this, visible);
    },
    
    getIsVisibleInTree: function() {
        return this.getVisible() && (IsNull(this.$t_3) || this.$t_3.getIsVisibleInTree());
    },
    
    get_eventManager: function() {
        return this.$8E_3;
    }
}


Mscrm.TurboForm.Control.ViewModel.InlineEditControlMode = function() {
}


Mscrm.TurboForm.Control.ViewModel.DateTimeViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.DateTimeViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
}
Mscrm.TurboForm.Control.ViewModel.DateTimeViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.dateTimeControl, Mscrm.TurboForm.Control.ViewModel.DateTimeViewModel.$DT);
}
Mscrm.TurboForm.Control.ViewModel.DateTimeViewModel.$DT = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.DateTimeViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.DateTimeViewModel.prototype = {
    $2p_5: false,
    $BA_5: true,
    
    get_isAllDayEvent: function() {
        return this.$2p_5;
    },
    
    set_isAllDayEvent: function(value) {
        this.$2p_5 = value;
        return value;
    },
    
    setShowTime: function(showTime) {
        var $v_0 = this.getAttribute();
        if ($v_0.getFormat() === 'datetime' || $v_0.getFormat() === 'DateTime') {
            var $v_1 = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(7, String, Mscrm.TurboForm.Control.ViewModel.DateTimeViewModel, null);
            if (showTime) {
                this.setPropertyValue($v_1, 'datetime');
            }
            else {
                this.setPropertyValue($v_1, 'date');
            }
            this.$BA_5 = showTime;
        }
    },
    
    getShowTime: function() {
        var $v_0 = this.getAttribute();
        if ($v_0.getFormat() === 'datetime' || $v_0.getFormat() === 'DateTime') {
            return this.$BA_5;
        }
        return false;
    },
    
    getControlType: function() {
        return 'standard';
    }
}


Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
    var $v_0 = descriptor;
    this.$2i_4 = ($v()) ? $v_0.Id : $v_0.DataFieldName;
    this.$Kh_4();
}
Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel.prototype = {
    $2i_4: null,
    
    get_controlModeContainerId: function() {
        return String.format('{0}_i', this.getAttributeName());
    },
    
    $Kh_4: function() {
        var $v_0 = $get(this.get_controlModeContainerId());
        if (!IsNull($v_0)) {
            var $v_1 = $v_0.getAttribute('controlmode');
            if (!IsNull($v_1)) {
                this.$3l_3 = $v_1;
            }
        }
    },
    
    getAttributeName: function() {
        return this.$2i_4;
    },
    
    getAttribute: function() {
        return this.$G_2.$8_1.getPageData().getEntity().getAttributes().get(this.$2i_4);
    },
    
    getName: function() {
        return this.getKey();
    }
}


Mscrm.TurboForm.Control.ViewModel.EmailEngagementActionsControlViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.EmailEngagementActionsControlViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
}
Mscrm.TurboForm.Control.ViewModel.EmailEngagementActionsControlViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailEngagementActionsControl, Mscrm.TurboForm.Control.ViewModel.EmailEngagementActionsControlViewModel.$Fz);
}
Mscrm.TurboForm.Control.ViewModel.EmailEngagementActionsControlViewModel.$Fz = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.EmailEngagementActionsControlViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.EmailEngagementActionsControlViewModel.prototype = {
    $4s_4: null,
    $88_4: null,
    $s_4: null,
    
    get_eraEmailEngagementActions: function() {
        if (IsNull(this.$4s_4)) {
            this.initializeEmailEngagementActionsControl();
        }
        return this.$4s_4;
    },
    
    set_eraEmailEngagementActions: function(value) {
        this.$4s_4 = value;
        return value;
    },
    
    get_emailEngagementActionsElement: function() {
        return this.$88_4;
    },
    
    set_emailEngagementActionsElement: function(value) {
        this.$88_4 = value;
        return value;
    },
    
    getControlType: function() {
        return 'emailengagementactionscontrol';
    },
    
    initializeEmailEngagementActionsControl: function() {
        if (!IsNull(this.$4s_4)) {
            return;
        }
        var $v_0 = this.getKey();
        var $v_1 = String.format('{0}', $v_0);
        var $v_2 = $get($v_0);
        this.$4s_4 = Mscrm.CrmUIComponent.crmCreate(Mscrm.EmailEngagementActions, this.$s_4, null, null, $get($v_1));
    }
}


Mscrm.TurboForm.Control.ViewModel.FormElementViewModel = function(descriptor, formUI) {
    Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.initializeBase(this);
    this.$G_2 = formUI;
    this.$w_2 = descriptor.Id;
    this.$Q_2 = descriptor;
    this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.$9f, descriptor.Label);
    this.$B9_2 = descriptor.ShowLabel;
    if (Mscrm.TurboForm.Control.ViewModel.TabViewModel.isInstanceOfType(this) || Mscrm.TurboForm.Control.ViewModel.SectionViewModel.isInstanceOfType(this) || Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.isInstanceOfType(this)) {
        this.setPropertyValueWithoutChangeRaised(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.$AD, descriptor.Visible);
    }
}
Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.prototype = {
    $w_2: null,
    $Q_2: null,
    $G_2: null,
    $3L_2: true,
    $6Z_2: false,
    $B9_2: true,
    $B_2: null,
    
    get_xrmWrapper: function() {
        return this.$B_2;
    },
    
    set_xrmWrapper: function(value) {
        this.$B_2 = value;
        return value;
    },
    
    get_lockWhenDisabled: function() {
        return this.$3L_2;
    },
    
    set_lockWhenDisabled: function(value) {
        this.$3L_2 = value;
        return value;
    },
    
    get_delayInitialization: function() {
        return this.$6Z_2;
    },
    
    set_delayInitialization: function(value) {
        this.$6Z_2 = value;
        return value;
    },
    
    initialize: function() {
    },
    
    getName: function() {
        return this.$Q_2.Name;
    },
    
    get_parentFormUI: function() {
        return this.$G_2;
    },
    
    getKey: function() {
        return this.$w_2;
    },
    
    getFormattedKey: function() {
        var $v_0 = this.$G_2.$8_1.$2H_1;
        return $v_0 + this.getKey();
    },
    
    getLabelInternal: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.$9f);
    },
    
    getLabel: function(isClientApiCall) {
        return (this.$B9_2 || isClientApiCall) ? this.getLabelInternal() : '';
    },
    
    setLabel: function(label) {
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.$9f, label);
    },
    
    getVisible: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.$AD);
    },
    
    setVisible: function(visible) {
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.$AD, visible);
    },
    
    getEmptyValuePlaceholderText: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.$BW);
    },
    
    setEmptyValuePlaceholderText: function(emptyValuePlaceholder) {
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.$BW, emptyValuePlaceholder);
    },
    
    getIsVisibleInTree: function() {
        return this.getVisible();
    }
}


Mscrm.TurboForm.Control.ViewModel.FormViewModel = function(descriptor, form) {
    this.$$d_$Eg_4 = Function.createDelegate(this, this.$Eg_4);
    this.$3p_4 = new Mscrm.ClientApiEventHandlerList(new Sys.EventHandlerList());
    Mscrm.TurboForm.Control.ViewModel.FormViewModel.initializeBase(this, [ descriptor, new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.TabViewModel))(), form.getPageUI() ]);
    this.$1f_4 = form;
    this.$1A_4 = descriptor.EventHandlers;
    this.$1f_4.add_formStateChange(this.$$d_$Eg_4);
    this.$Eg_4(this.$1f_4.get_state());
}
Mscrm.TurboForm.Control.ViewModel.FormViewModel.prototype = {
    $1A_4: null,
    $55_4: null,
    $53_4: null,
    $5a_4: null,
    $5A_4: null,
    $3K_4: null,
    $1f_4: null,
    
    get_headerControls: function() {
        return this.$55_4;
    },
    
    set_headerControls: function(value) {
        this.$55_4 = value;
        return value;
    },
    
    get_footerControls: function() {
        return this.$53_4;
    },
    
    set_footerControls: function(value) {
        this.$53_4 = value;
        return value;
    },
    
    get_subGridRowControls: function() {
        return this.$5a_4;
    },
    
    set_subGridRowControls: function(value) {
        this.$5a_4 = value;
        return value;
    },
    
    get_inlineQuickForms: function() {
        return this.$5A_4;
    },
    
    set_inlineQuickForms: function(value) {
        this.$5A_4 = value;
        return value;
    },
    
    get_linkControlSectionControls: function() {
        return this.$3K_4;
    },
    
    set_linkControlSectionControls: function(value) {
        this.$3K_4 = value;
        return value;
    },
    
    addOnLoadInternal: function(handler) {
        this.$3p_4.addHandler('onloadinternal', handler, false);
    },
    
    removeOnLoadInternal: function(handler) {
        this.$3p_4.removeHandler('onloadinternal', handler);
    },
    
    addBeforeOnLoad: function(handler) {
        this.$3p_4.addHandler('beforeonload', handler, false);
    },
    
    removeBeforeOnLoad: function(handler) {
        this.$3p_4.removeHandler('beforeonload', handler);
    },
    
    onLoad: function() {
        if (!$v()) {
            this.$Kq_4('');
        }
        if (!IsNull(this.$1A_4)) {
            for (var $v_1 = 0; $v_1 < this.$1A_4.length; $v_1++) {
                var $v_2 = this.$1A_4[$v_1];
                if (($v_2.EventName.toLowerCase() === 'onchange' || $v_2.EventName.toLowerCase() === 'onafterselect') && !IsNullOrEmptyString($v_2.AttributeName)) {
                    if (!this.$EP_4($v_2)) {
                        var $v_3 = this.$1f_4.getPageData().getEntity().getAttributes().getByName($v_2.AttributeName);
                        if ($v()) {
                            Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().loadWebResource(Mscrm.CrmUri.create($v_2.LibraryName), false);
                        }
                        if (!IsNull($v_3)) {
                            if (!IsNullOrEmptyString($v_2.ControlId)) {
                                $v_3.addSourceSpecificOnChange(Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().getHandler($v_2), $v_2.ControlId);
                            }
                            else {
                                $v_3.addOnChange(Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().getHandler($v_2));
                            }
                        }
                    }
                }
                if ($v_2.EventName.toLowerCase() === 'setadditionalparams' && !IsNullOrEmptyString($v_2.AttributeName)) {
                    var $v_4 = this.$1f_4.getPageData().getEntity().getAttributes().getByName($v_2.AttributeName);
                    var $$t_D = this;
                    $v_4.getControls().forEach(function($p1_0, $p1_1) {
                        var $v_5 = $p1_0;
                        if (!IsNull($v_5)) {
                            $v_5.addPreSearch(Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().getHandler($v_2));
                        }
                    });
                }
                if ($v_2.EventName.toLowerCase() === 'onsave') {
                    if (!this.$EP_4($v_2)) {
                        var $v_6 = this.$1f_4.getPageData().getEntity();
                        $v_6.addOnSave(Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().getHandler($v_2));
                    }
                }
                if ($v_2.EventName.toLowerCase() === 'onclick' && $v()) {
                    var $v_7 = Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().getHandler($v_2);
                    var $v_8 = window.eventHandlers;
                    if (!$v_8) {
                        $v_8 = {};
                    }
                    $v_8[$v_2.AttributeName + 'callback'] = $v_7;
                    window.eventHandlers = $v_8;
                    Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().loadWebResource(Mscrm.CrmUri.create($v_2.LibraryName), false);
                }
                if ($v_2.EventName.toLowerCase() === 'onreadystatecomplete') {
                    var $v_9 = this.$G_2.getControlById($v_2.ControlId);
                    $v_9.addOnReadyStateComplete(Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().getHandler($v_2));
                }
            }
        }
        var $v_0 = this.$3p_4.getHandler('beforeonload');
        if (!IsNull($v_0)) {
            var $v_A = new Sys.EventArgs();
            $v_0(this, $v_A);
        }
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.FormViewModel.$ET, true);
        this.fireOnLoad();
        this.fireOnLoadInternal();
        if (Mscrm.TurboForm.Control.PageManager.get_instance().$L_1 === this.$1f_4) {
            Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().executeHandler('SendMessageToPageManager', '\'TurboFormPostOnloadTimestamp\'', null);
            Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().executeHandler('FireDataLoad', null, null);
        }
        else {
            this.$1f_4.handlePostOnLoad();
        }
    },
    
    fireOnLoad: function() {
        var $v_0 = 0;
        if (Mscrm.TurboForm.Control.PageManager.get_instance().$L_1 === this.$1f_4) {
            Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().executeHandler('CreateTurboFormPreOnLoadPerfMarker', '', constructExecutionContext(null, $v_0, null, null, null));
        }
        if (!IsNull(this.$1A_4)) {
            for (var $v_1 = 0; $v_1 < this.$1A_4.length; $v_1++) {
                var $v_2 = this.$1A_4[$v_1];
                if ($v_2.EventName.toLowerCase() === 'onload') {
                    if ($v()) {
                        Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().loadWebResource(Mscrm.CrmUri.create($v_2.LibraryName), false);
                    }
                    var $v_3 = ($v_2.PassExecutionContext) ? constructExecutionContext(null, $v_0++, null, null, null) : null;
                    Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().executeHandlerByDescriptor($v_2, $v_3);
                }
            }
        }
    },
    
    fireOnLoadInternal: function() {
        var $v_0 = this.$3p_4.getHandler('onloadinternal');
        if (!IsNull($v_0)) {
            var $v_1 = new Sys.EventArgs();
            $v_0(this, $v_1);
        }
    },
    
    getTabs: function() {
        return this.getChildViewModels();
    },
    
    setFormTitle: function(title) {
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.FormViewModel.$FO, title);
    },
    
    $Kq_4: function($p0) {
        if (IsNullOrEmptyString($p0)) {
            var $v_0 = this.$1f_4.getPageData().getEntity().getEntityName();
            if ($v_0 === 'product') {
                $p0 = window.CDNURL + '/_imgs/image_placeholder.png';
            }
            else {
                $p0 = window.CDNURL + '/_imgs/contactphoto.png';
            }
        }
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.FormViewModel.$EH, $p0);
    },
    
    internalDispose: function() {
        if (!this.$1f_4.isDisposed) {
            this.$1f_4.remove_formStateChange(this.$$d_$Eg_4);
        }
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    $Eg_4: function($p0) {
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.FormViewModel.$Dp, $p0);
    },
    
    $EP_4: function($p0) {
        return (Xrm.Internal.isFeatureEnabled('FCB.EditableGridControlJsEvents') && !IsNullOrEmptyString($p0.ControlId) && !IsNull(this.$G_2.getControlById($p0.ControlId)) && Object.getType(this.$G_2.getControlById($p0.ControlId)).getName() === Mscrm.TurboForm.Control.ViewModel.SubGridViewModel.getName());
    }
}


Mscrm.TurboForm.Control.ViewModel.IFrameViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.IFrameViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
}
Mscrm.TurboForm.Control.ViewModel.IFrameViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.frameControl, Mscrm.TurboForm.Control.ViewModel.IFrameViewModel.$DU);
}
Mscrm.TurboForm.Control.ViewModel.IFrameViewModel.$DU = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.IFrameViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.IFrameViewModel.prototype = {
    
    getControlType: function() {
        return 'iframe';
    },
    
    getInitialUrl: function() {
        return this.$6k_5;
    }
}


Mscrm.TurboForm.Control.ViewModel.KMControlViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.KMControlViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
    this.$s_4 = {};
    for (var $$arr_3 = descriptor.Parameters, $$len_4 = $$arr_3.length, $$idx_5 = 0; $$idx_5 < $$len_4; ++$$idx_5) {
        var $v_0 = $$arr_3[$$idx_5];
        if (!IsNull($v_0)) {
            switch ($v_0.Key) {
                case 'ActionList':
                    var $v_1 = $v_0.Value;
                    $v_0.Key = 'actionList';
                    this.$s_4[$v_0.Key] = $v_1;
                    break;
                case 'FilterResults':
                    var $v_2 = $v_0.Value;
                    $v_0.Key = 'filterResults';
                    this.$s_4[$v_0.Key] = $v_2;
                    break;
                case 'AllowChangingFiltersOnUI':
                    var $v_3 = $v_0.Value;
                    $v_0.Key = 'allowChangingFiltersOnUI';
                    this.$s_4[$v_0.Key] = $v_3;
                    break;
                case 'SearchForAutoSuggestionsUsing':
                    var $v_4 = $v_0.Value;
                    $v_0.Key = 'searchForAutoSuggestionsUsing';
                    this.$s_4[$v_0.Key] = $v_4;
                    break;
                case 'EnableRating':
                    var $v_5 = $v_0.Value;
                    $v_0.Key = 'enableRating';
                    this.$s_4[$v_0.Key] = $v_5;
                    break;
                case 'ShowRatingUsing':
                    var $v_6 = $v_0.Value;
                    $v_0.Key = 'showRatingUsing';
                    this.$s_4[$v_0.Key] = $v_6;
                    break;
                case 'AutoSuggestionSource':
                    var $v_7 = $v_0.Value;
                    $v_0.Key = 'autoSuggestionSource';
                    this.$s_4[$v_0.Key] = $v_7;
                    break;
                case 'ShowLanguageFilter':
                    var $v_8 = $v_0.Value;
                    $v_0.Key = 'showLanguageFilter';
                    this.$s_4[$v_0.Key] = $v_8;
                    break;
                case 'ShowDepartmentFilter':
                    var $v_9 = $v_0.Value;
                    $v_0.Key = 'showDepartmentFilter';
                    this.$s_4[$v_0.Key] = $v_9;
                    break;
                case 'EnableAutoSuggestions':
                    var $v_A = $v_0.Value;
                    $v_0.Key = 'enableAutoSuggestions';
                    this.$s_4[$v_0.Key] = $v_A;
                    break;
                case 'NumberOfResults':
                    var $v_B = $v_0.Value;
                    $v_0.Key = 'numberOfResults';
                    this.$s_4[$v_0.Key] = $v_B;
                    break;
                case 'ShowContextualActions':
                    var $v_C = $v_0.Value;
                    $v_0.Key = 'showContextualActions';
                    this.$s_4[$v_0.Key] = $v_C;
                    break;
                case 'SelectDefaultLanguage':
                    var $v_D = $v_0.Value;
                    $v_0.Key = 'selectDefaultLanguage';
                    this.$s_4[$v_0.Key] = $v_D;
                    break;
                case 'SelectPrimaryCustomer':
                    var $v_E = $v_0.Value;
                    $v_0.Key = 'selectPrimaryCustomer';
                    this.$s_4[$v_0.Key] = $v_E;
                    break;
                default:
                    if ($v_0.Value === 'True' || $v_0.Value === 'False') {
                        this.$s_4[$v_0.Key] = Boolean.parse($v_0.Value);
                    }
                    else {
                        this.$s_4[$v_0.Key] = $v_0.Value;
                    }
                    break;
            }
        }
    }
}
Mscrm.TurboForm.Control.ViewModel.KMControlViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.searchWidget, Mscrm.TurboForm.Control.ViewModel.KMControlViewModel.$G8);
}
Mscrm.TurboForm.Control.ViewModel.KMControlViewModel.$G8 = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.KMControlViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.KMControlViewModel.prototype = {
    $48_4: null,
    $6t_4: null,
    $s_4: null,
    
    get_kmSearchWidget: function() {
        if (IsNull(this.$48_4)) {
            this.initializeKMSearchWidget();
        }
        return this.$48_4;
    },
    
    set_kmSearchWidget: function(value) {
        this.$48_4 = value;
        return value;
    },
    
    get_kmElement: function() {
        return this.$6t_4;
    },
    
    set_kmElement: function(value) {
        this.$6t_4 = value;
        return value;
    },
    
    getControlType: function() {
        return 'searchwidget';
    },
    
    initializeKMSearchWidget: function() {
        if (!IsNull(this.$48_4)) {
            return;
        }
        var $v_0 = this.getKey();
        var $v_1 = String.format('{0}_container', $v_0);
        var $v_2 = $get($v_0);
        this.$12_4($v_2, 'isKMEnabled');
        this.$12_4($v_2, 'blockResult');
        this.$12_4($v_2, 'canCreateEmail');
        this.$12_4($v_2, 'departmentId');
        this.$12_4($v_2, 'havePrivilegeForDisassociate');
        this.$12_4($v_2, 'havePrivilegeForAssociate');
        this.$12_4($v_2, 'intersectTableName');
        this.$12_4($v_2, 'isControlReadOnly');
        this.$12_4($v_2, 'isHostedInTabbedControl');
        this.$12_4($v_2, 'isUsdContext');
        this.$12_4($v_2, 'referencedEntityColumnName');
        this.$12_4($v_2, 'relationShipName');
        this.$12_4($v_2, 'isParatureConfigured');
        this.$12_4($v_2, 'useNativeCrm');
        this.$12_4($v_2, 'useExternalPortal');
        this.$12_4($v_2, 'enableAutoSuggestions');
        this.$12_4($v_2, 'enableRating');
        this.$12_4($v_2, 'publicLinkPrefix');
        this.$12_4($v_2, 'selectDefaultLanguage');
        this.$12_4($v_2, 'selectPrimaryCustomer');
        this.$48_4 = Mscrm.CrmUIComponent.crmCreate(Mscrm.SearchWidget, this.$s_4, null, null, $get($v_1));
    },
    
    $12_4: function($p0, $p1) {
        if (!IsNull($p0) && !IsNullOrEmptyString($p1)) {
            var $v_0 = $p0.getAttribute($p1);
            if (!IsNull($v_0)) {
                if ($v_0.toString() === 'True' || $v_0.toString() === 'False') {
                    this.$s_4[$p1] = Boolean.parse($v_0.toString());
                }
                else {
                    this.$s_4[$p1] = $v_0.toString();
                }
            }
            else {
                this.$s_4[$p1] = '';
            }
        }
    },
    
    isKnowledgeInCrm: function() {
        if (IsNull(this.$48_4)) {
            this.initializeKMSearchWidget();
        }
        return this.$s_4['useNativeCrm'];
    },
    
    addOnResultOpened: function(handler) {
        this.get_kmSearchWidget().add_OnResultOpened(handler);
    },
    
    addOnSelection: function(handler) {
        this.get_kmSearchWidget().add_OnSelection(handler);
    },
    
    clearSearch: function() {
        this.get_kmSearchWidget().setSearchString('');
    },
    
    getSearchQuery: function() {
        var $v_0 = $get(this.$6t_4.id + '_searchTextBox');
        return $v_0.value;
    },
    
    getSelectedResults: function() {
        return this.get_kmSearchWidget().getSelectedResults();
    },
    
    removeOnResultOpened: function(handler) {
        this.get_kmSearchWidget().remove_OnResultOpened(handler);
    },
    
    removeOnSelection: function(handler) {
        this.get_kmSearchWidget().remove_OnSelection(handler);
    },
    
    addOnPostSearch: function(handler) {
        this.get_kmSearchWidget().add_OnPostSearch(handler);
    },
    
    removeOnPostSearch: function(handler) {
        this.get_kmSearchWidget().remove_OnPostSearch(handler);
    },
    
    addOnPreSearch: function(handler) {
        this.get_kmSearchWidget().add_OnPostSearch(handler);
    },
    
    removeOnPreSearch: function(handler) {
        this.get_kmSearchWidget().remove_OnPostSearch(handler);
    },
    
    setSearchQuery: function(value) {
        return this.get_kmSearchWidget().setSearchQuery(value);
    },
    
    setSearchString: function(value) {
        this.get_kmSearchWidget().setSearchString(value);
    },
    
    openSearchResult: function(resultNumber, mode) {
        return this.get_kmSearchWidget().openSearchResult(resultNumber, mode);
    },
    
    getTotalResultCount: function() {
        return 0;
    }
}


Mscrm.TurboForm.Control.ViewModel.EmailRecipientActivityControlViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.EmailRecipientActivityControlViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
}
Mscrm.TurboForm.Control.ViewModel.EmailRecipientActivityControlViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailRecipientActivityControl, Mscrm.TurboForm.Control.ViewModel.EmailRecipientActivityControlViewModel.$G1);
}
Mscrm.TurboForm.Control.ViewModel.EmailRecipientActivityControlViewModel.$G1 = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.EmailRecipientActivityControlViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.EmailRecipientActivityControlViewModel.prototype = {
    $4t_4: null,
    $89_4: null,
    $s_4: null,
    
    get_emailRecipientActivity: function() {
        if (IsNull(this.$4t_4)) {
            this.initializeEmailRecipientActivityControl();
        }
        return this.$4t_4;
    },
    
    set_emailRecipientActivity: function(value) {
        this.$4t_4 = value;
        return value;
    },
    
    get_emailRecipientActivityElement: function() {
        return this.$89_4;
    },
    
    set_emailRecipientActivityElement: function(value) {
        this.$89_4 = value;
        return value;
    },
    
    getControlType: function() {
        return 'emailrecipientactivitycontrol';
    },
    
    initializeEmailRecipientActivityControl: function() {
        if (!IsNull(this.$4t_4)) {
            return;
        }
        var $v_0 = this.getKey();
        var $v_1 = String.format('{0}', $v_0);
        var $v_2 = $get($v_0);
        this.$4t_4 = Mscrm.CrmUIComponent.crmCreate(Mscrm.EmailRecipientActivity, this.$s_4, null, null, $get($v_1));
    }
}


Mscrm.TurboForm.Control.ViewModel.LinkControlViewModel = function(controlDescriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.LinkControlViewModel.initializeBase(this, [ controlDescriptor, parent, formUI ]);
}
Mscrm.TurboForm.Control.ViewModel.LinkControlViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.linkControl, Mscrm.TurboForm.Control.ViewModel.LinkControlViewModel.buildLinkControl);
}
Mscrm.TurboForm.Control.ViewModel.LinkControlViewModel.buildLinkControl = function(descriptor, parentSection, formUI) {
    return new Mscrm.TurboForm.Control.ViewModel.LinkControlViewModel(descriptor, parentSection, formUI);
}
Mscrm.TurboForm.Control.ViewModel.LinkControlViewModel.prototype = {
    
    getControlType: function() {
        return 'standard';
    }
}


Mscrm.TurboForm.Control.ViewModel.LookupViewModel = function(descriptor, parent, formUI, sipIdCache) {
    this.$$d_$Jh_5 = Function.createDelegate(this, this.$Jh_5);
    this.$$d_$L9_5 = Function.createDelegate(this, this.$L9_5);
    this.$4F_5 = new RegExp('^[^@\\s\\\"<>)(\\[\\]:;,]+@[^@\\s\\\"<>)(\\[\\]:;,]+$');
    this.$3w_5 = {};
    this.$3n_5 = {};
    this.$4i_5 = [];
    this.$4h_5 = [];
    this.$9y_5 = new Mscrm.Proxies.PresenceHelperProxy();
    Mscrm.TurboForm.Control.ViewModel.LookupViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
    if (IsNull(sipIdCache)) {
        throw Error.argumentNull('sipIdCache');
    }
    this.sipIdCache = sipIdCache;
    this.$3A_5 = this.GetParameterValue('DefaultViewId');
    if (this.getKey() === 'regardingobjectid' && IsNullOrEmptyString(this.GetParameterValue('defaulttype'))) {
        this.$4l_5 = null;
    }
    else {
        this.$4l_5 = this.GetParameterValue('defaulttype');
    }
    if (descriptor.Id === 'header_process_relatedcases') {
        this.$8w_5 = true;
        this.$59_5 = Xrm.Internal.getResourceString('LOCID_INLINELOOKUP_CASES_HEADER');
    }
}
Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.lookupControl, Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$BL);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.partyListControl, Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$BL);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.regardingControl, Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$BL);
}
Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$BL = function($p0, $p1, $p2) {
    var $v_0 = $p1;
    if (!IsNull($p0.Parameters)) {
        for (var $$arr_4 = $p0.Parameters, $$len_5 = $$arr_4.length, $$idx_6 = 0; $$idx_6 < $$len_5; ++$$idx_6) {
            var $v_1 = $$arr_4[$$idx_6];
            if (!IsNull($v_1) && $v_1.Key === 'defaulttype') {
                if (Number.parseInvariant($v_1.Value) === 9105) {
                    return new Mscrm.TurboForm.Control.ViewModel.TransactionCurrencyViewModel($p0, $v_0, $p2, Mscrm.Caching.LocalCaches.sipIDs);
                }
            }
        }
    }
    return new Mscrm.TurboForm.Control.ViewModel.LookupViewModel($p0, $v_0, $p2, Mscrm.Caching.LocalCaches.sipIDs);
}
Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$E0 = function($p0, $p1) {
    return String.format('{0}/{1}', $p0, $p1.toLowerCase());
}
Mscrm.TurboForm.Control.ViewModel.LookupViewModel.prototype = {
    sipIdCache: null,
    $3A_5: null,
    $4l_5: null,
    $2U_5: null,
    $10_5: null,
    $7D_5: 0,
    $2G_5: null,
    $8w_5: false,
    $59_5: '',
    $4X_5: true,
    
    get_allowFilterOff: function() {
        return this.$4X_5;
    },
    
    set_allowFilterOff: function(value) {
        this.$4X_5 = value;
        return value;
    },
    
    get_failedLookUpSearchStrings: function() {
        return this.$3n_5;
    },
    
    set_failedLookUpSearchStrings: function(value) {
        this.$3n_5 = value;
        return value;
    },
    
    get_customViews: function() {
        return new (Microsoft.Crm.Client.Core.Framework.List$1.$$(CustomView))(this.$2G_5);
    },
    
    get_customFilterTypes: function() {
        return this.$4i_5;
    },
    
    get_customFilters: function() {
        return this.$4h_5;
    },
    
    get_searchRecordsProperty: function() {
        return Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$5X;
    },
    
    get_resolvedItemsProperty: function() {
        return Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$B8;
    },
    
    get_processControlItemsProperty: function() {
        return Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$B5;
    },
    
    get_controlModeContainerId: function() {
        return String.format('{0}_lookupTable', this.getAttributeName());
    },
    
    $9x_5: null,
    
    setSearchRecords: function(searchRecords) {
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$5X, searchRecords);
    },
    
    get_searchRecords: function() {
        return this.getPropertyValue(this.get_searchRecordsProperty());
    },
    
    setResolvedItems: function(resolvedItems) {
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$B8, resolvedItems);
    },
    
    presenceUriState: function(state) {
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$Er, state);
    },
    
    setProcessControlItems: function(processControlItems) {
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$B5, processControlItems);
    },
    
    get_defaultType: function() {
        return (IsNullOrEmptyString(this.$4l_5)) ? null : parseInt(this.$4l_5);
    },
    
    set_defaultType: function(value) {
        this.$4l_5 = (!IsNull(value)) ? value.toString() : null;
        return value;
    },
    
    get_sipId: function() {
        return this.$2U_5;
    },
    
    set_sipId: function(value) {
        this.$2U_5 = value;
        return value;
    },
    
    get_recordId: function() {
        return this.$10_5;
    },
    
    set_recordId: function(value) {
        this.$10_5 = value;
        return value;
    },
    
    get_state: function() {
        return this.$7D_5;
    },
    
    set_state: function(value) {
        this.$7D_5 = value;
        return value;
    },
    
    $3i_5: false,
    
    get_isInlineLookup: function() {
        return this.$3i_5;
    },
    
    set_isInlineLookup: function(value) {
        this.$3i_5 = value;
        return value;
    },
    
    get_showInlineLookupHeader: function() {
        return this.$8w_5;
    },
    
    get_inlineLookupHeaderText: function() {
        return this.$59_5;
    },
    
    set_inlineLookupHeaderText: function(value) {
        this.$59_5 = value;
        return value;
    },
    
    $Fl_5: function($p0) {
        this.$4X_5 = $p0;
        this.setParameter('AllowFilterOff', $p0.toString());
    },
    
    getControlType: function() {
        return 'lookup';
    },
    
    addCustomView: function(viewGuid, entityName, viewDisplayName, fetchXml, layoutXml, isDefault) {
        var $v_0 = 0;
        var $v_1 = window.top.EntityNameCodeMap;
        try {
            if (!entityName) {
                return;
            }
            if (_Script.isNullOrUndefined($v_1)) {
                $v_1 = {};
                window.top.EntityNameCodeMap = $v_1;
            }
            if (_Script.isNullOrUndefined($v_1[entityName])) {
                var $v_4 = new RemoteCommand('LookupService', 'RetrieveTypeCode');
                $v_4.SetParameter('entityName', entityName);
                var $v_5 = $v_4.Execute();
                if ($v_5.Success && typeof($v_5.ReturnValue) === 'number') {
                    $v_1[entityName] = $v_5.ReturnValue;
                }
                else {
                    return;
                }
            }
            $v_0 = $v_1[entityName];
        }
        catch ($v_6) {
            return;
        }
        if (!Mscrm.InternalUtilities.JSTypes.isNull(viewGuid)) {
            viewGuid = viewGuid.toUpperCase();
        }
        if (isDefault) {
            if (this.get_defaultType() !== $v_0) {
                this.set_defaultType($v_0);
            }
            this.$3A_5 = viewGuid;
        }
        if (Mscrm.InternalUtilities.JSTypes.isNull(this.$2G_5)) {
            this.$2G_5 = new Array(0);
        }
        var $v_2 = null;
        var $v_3 = this.$2G_5.length;
        for (var $v_7 = 0; $v_7 < $v_3; $v_7++) {
            if (this.$2G_5[$v_7].id === viewGuid) {
                $v_2 = this.$2G_5[$v_7];
                break;
            }
        }
        if (!Mscrm.InternalUtilities.JSTypes.isNull($v_2)) {
            $v_2.recordType = $v_0;
            $v_2.name = viewDisplayName;
            $v_2.fetchXml = fetchXml;
            $v_2.layoutXml = layoutXml;
        }
        else {
            $v_2 = new CustomView(viewGuid, $v_0, viewDisplayName, fetchXml, layoutXml);
            Array.add(this.$2G_5, $v_2);
        }
    },
    
    addCustomFilter: function(fetchXmlFilter, entityType) {
        if (IsNull(entityType)) {
            entityType = '';
        }
        Array.add(this.$4i_5, entityType);
        Array.add(this.$4h_5, CrmEncodeDecode.CrmUrlEncode(fetchXmlFilter));
    },
    
    getDefaultView: function() {
        return this.$3A_5;
    },
    
    setDefaultView: function(viewGuid) {
        this.$3A_5 = viewGuid;
    },
    
    addPreSearch: function(handler) {
        this.get_$CY_5().addHandler('PreSearch', handler, false);
    },
    
    removePreSearch: function(handler) {
        this.get_$CY_5().removeHandler('PreSearch', handler);
    },
    
    get_$CY_5: function() {
        if (!this.$9x_5) {
            this.$9x_5 = new Mscrm.ClientApiEventHandlerList(new Sys.EventHandlerList());
        }
        return this.$9x_5;
    },
    
    issueDuplicatesSearch: function() {
        var $v_0 = Xrm.Page.data.entity.getId();
        if ($v()) {
            $v_0 = Xrm.Page.getAttribute('entityId').getValue();
        }
        var $v_1 = null;
        var $v_2 = (this.getAttribute()).getSingleLookupTypeId();
        $v_1 = new RemoteCommand('LookupService', 'RetrieveDuplicates');
        $v_1.SetParameter('leadId', $v_0);
        $v_1.SetParameter('lookupType', $v_2);
        $v_1.SetParameter('defaultViewId', this.$3A_5);
        $v_1.Execute(this.$$d_$L9_5);
    },
    
    bind: function() {
    },
    
    $L9_5: function($p0, $p1) {
        this.$De_5($p0);
    },
    
    $Do_5: function() {
        this.$4h_5 = [];
        this.$4i_5 = [];
        var $v_0 = this.get_$CY_5().getHandler('PreSearch');
        if (!IsNull($v_0)) {
            $v_0(this, Sys.EventArgs.Empty);
        }
    },
    
    issueLookupSearch: function(searchValue, webMethodName, filterRelationshipData, resolveEmailAddress) {
        this.$Do_5();
        var $v_0 = (this.getAttribute()).getSupportedLookupTypes();
        var $v_1 = [];
        var $v_2 = [];
        $v_1.type = 'string';
        $v_2.type = 'int';
        var $v_3 = '';
        if (!isNullOrEmptyString(filterRelationshipData.$3t_0)) {
            this.setParameter('filterrelationship', 'true');
            this.setParameter('relationshipid', filterRelationshipData.$1j_0);
            this.setParameter('oId', filterRelationshipData.$3t_0);
            this.setParameter('oType', filterRelationshipData.$5i_0);
            this.setParameter('rDependAttr', filterRelationshipData.$4n_0);
        }
        else {
            this.removeParameter('filterrelationship');
            this.removeParameter('relationshipid');
            this.removeParameter('oId');
            this.removeParameter('oType');
            this.removeParameter('rDependAttr');
        }
        $v_3 += '&IsInlineLookup=' + CrmEncodeDecode.CrmUrlEncode(this.$3i_5.toString());
        this.setParameter('customFilter', this.$4h_5.join('='));
        this.setParameter('customFilterTypes', this.$4i_5.join(','));
        var $$dict_9 = this.$3w_5;
        for (var $$key_A in $$dict_9) {
            var $v_C = { key: $$key_A, value: $$dict_9[$$key_A] };
            $v_3 += '&' + CrmEncodeDecode.CrmUrlEncode($v_C.key) + '=' + CrmEncodeDecode.CrmUrlEncode($v_C.value.toString());
        }
        var $v_4 = new RemoteCommand('LookupService', webMethodName);
        $v_0.type = 'int';
        $v_4.SetParameter('typesArray', $v_0);
        $v_4.SetParameter('bindingColumns', '');
        $v_4.SetParameter('additionalParameters', $v_3);
        $v_4.SetParameter('positions', $v_2);
        $v_4.SetParameter('resolveEmailAddress', resolveEmailAddress);
        $v_4.SetParameter('sortResults', true);
        var $v_5 = (this.getAttribute()).getLookupStyle();
        if ($v_5 === 'multi') {
            var $v_D = searchValue.split(';');
            var $v_E = $v_D.length;
            for (var $v_F = 0, $v_G = 0; $v_F < $v_E; $v_F++) {
                var $v_H = $v_D[$v_F].trim();
                if (!IsNull($v_H)) {
                    Array.add($v_1, $v_H);
                    Array.add($v_2, $v_G++);
                }
            }
        }
        else {
            Array.add($v_1, searchValue);
            Array.add($v_2, 0);
        }
        $v_4.SetParameter('lookupValues', $v_1);
        $v_4.SetParameter('positions', $v_2);
        if (this.getAttributeName() === 'businesshoursid') {
            $v_3 += '&serviceCalendarType=1';
        }
        var $v_6 = ($v_5 === 'multi' && !this.$3i_5);
        var $v_7 = !($v_5 === 'subject' || $v_6);
        var $v_8 = this.$3A_5;
        var $v_9 = this.$2G_5;
        var $v_A = null;
        if (!IsNull($v_9)) {
            var $v_I = $v_9.length;
            for (var $v_J = 0; $v_J < $v_I; $v_J++) {
                if ($v_9[$v_J].id === $v_8) {
                    $v_A = $v_9[$v_J];
                    break;
                }
            }
        }
        if ($v_0.length !== 1 && (this.$3i_5 || $v_7)) {
            $v_4.SetParameter('defaultViewId', '');
        }
        else {
            $v_4.SetParameter('defaultViewId', $v_8);
        }
        if (!IsNull($v_A)) {
            $v_4.SetParameter('defaultViewId', '{00000000-0000-0000-0000-000000000000}');
            $v_4.SetParameter('defaultViewType', $v_A.recordType);
            $v_4.SetParameter('defaultViewFetchXml', $v_A.fetchXml);
            $v_4.SetParameter('defaultViewLayoutXml', $v_A.layoutXml);
        }
        var $v_B = $v_4.Execute();
        if (webMethodName === 'RetrieveInlineSearchResults') {
            this.$De_5($v_B);
        }
        if (webMethodName === 'RetrieveItem') {
            this.$Fn_5($v_B, $v_1);
            searchValue = (Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(searchValue)) ? 'Lookup_Null_Or_Empty_Search_Text' : searchValue;
            if (!$v_B.Success) {
                this.$3n_5[searchValue] = true;
            }
            else if (((searchValue) in this.$3n_5)) {
                delete this.$3n_5[searchValue];
            }
        }
    },
    
    excludeAndCloneMultiLookupItems: function(lookupItemId) {
        var $v_0 = new Array(0);
        var $v_1 = this.getAttribute().getValue();
        if (!IsNull($v_1)) {
            for (var $v_2 = 0; $v_2 < $v_1.length; $v_2++) {
                if ($v_1[$v_2].id !== lookupItemId && $v_1[$v_2].name !== lookupItemId && $v_1[$v_2].category !== 2) {
                    var $v_3 = new LookupControlItem();
                    $v_3.id = $v_1[$v_2].id;
                    $v_3.type = $v_1[$v_2].type;
                    $v_3.entityType = $v_1[$v_2].entityType;
                    $v_3.name = $v_1[$v_2].name;
                    $v_3.data = $v_1[$v_2].data;
                    $v_3.activityPartyId = $v_1[$v_2].activityPartyId;
                    $v_3.category = $v_1[$v_2].category;
                    $v_0[$v_0.length] = $v_3;
                }
            }
        }
        return $v_0;
    },
    
    filterItemsForCategory: function(lookupObjectsToBeFilter, category) {
        var $v_0 = new Array(0);
        if (!IsNull(lookupObjectsToBeFilter)) {
            for (var $v_1 = 0; $v_1 < lookupObjectsToBeFilter.length; $v_1++) {
                if (lookupObjectsToBeFilter[$v_1].category !== category) {
                    $v_0[$v_0.length] = lookupObjectsToBeFilter[$v_1];
                }
            }
        }
        return $v_0;
    },
    
    lookupControlItemExists: function(item) {
        var $v_0 = this.getAttribute().getValue();
        if (!IsNull($v_0)) {
            for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
                if ($v_0[$v_1].id === item.id) {
                    return true;
                }
            }
        }
        return false;
    },
    
    $Fn_5: function($p0, $p1) {
        if ($p0.Success && typeof($p0.ReturnValue) === 'string') {
            var $v_0 = XUI.Xml.LoadXml($p0.ReturnValue);
            var $v_1 = XUI.Xml.SelectNodes($v_0.documentElement, '/items/records', null);
            var $v_2 = $v_1.length;
            var $v_3 = 0;
            var $v_4 = [];
            for (var $v_5 = 0; $v_5 < $v_2; $v_5++) {
                var $v_6 = new LookupControlItem();
                $v_6.values = [];
                $v_6.keyValues = {};
                $v_6.data = '';
                var $v_7 = XUI.Xml.SelectNodes($v_1[$v_5], 'record', null);
                if ($v_7.length === 1) {
                    var $v_8 = $v_7[0];
                    $v_6.id = XUI.Xml.GetText($v_8.attributes.getNamedItem('oid'));
                    $v_6.name = XUI.Xml.GetText($v_8.attributes.getNamedItem('oname'));
                    $v_6.type = XUI.Xml.GetText($v_8.attributes.getNamedItem('otype'));
                    $v_6.entityType = XUI.Xml.GetText($v_8.attributes.getNamedItem('otypename'));
                    for (var $$arr_B = $v_8.childNodes, $$len_C = $$arr_B.length, $$idx_D = 0; $$idx_D < $$len_C; ++$$idx_D) {
                        var $v_9 = $$arr_B[$$idx_D];
                        var $v_A = $v_9.nodeName;
                        var $v_B = XUI.Xml.GetText($v_9);
                        Array.add($v_6.values, new Mscrm.LookupItemData($v_A, $v_B));
                        $v_6.keyValues[$v_A] = new Mscrm.LookupItemData($v_A, $v_B);
                    }
                }
                else if ($v_7.length > 1) {
                    $v_6.id = new Date().getTime() + $v_5.toString();
                    $v_6.name = $p1[$v_5];
                    $v_6.type = '0';
                    $v_6.category = 1;
                    $v_6.ambiguousRecordsXml = XUI.Xml.XMLSerializer.serializeToString($v_1[$v_5]);
                }
                else {
                    $v_6.id = new Date().getTime().toString();
                    $v_6.name = $p1[$v_5];
                    $v_6.category = 2;
                    $v_6.type = $v_3.toString();
                    if ((this.$4F_5.test($p1[$v_5]))) {
                        $v_6.category = 3;
                        $v_6.type = '9206';
                    }
                }
                Array.add($v_4, $v_6);
            }
            this.setResolvedItems($v_4);
        }
    },
    
    $De_5: function($p0) {
        var $v_0 = [];
        if (!IsNull($p0) && $p0.Success && typeof($p0.ReturnValue) === 'string') {
            var $v_1 = XUI.Xml.LoadXml($p0.ReturnValue);
            var $v_2 = {};
            var $v_3 = {};
            var $v_4 = XUI.Xml.SelectNodes($v_1.documentElement, '/SearchResults/Layout/Entity', null);
            if (!IsNull($v_4)) {
                var $v_8 = $v_4.length;
                for (var $v_9 = 0; $v_9 < $v_8; $v_9++) {
                    var $v_A = [];
                    var $v_B = XUI.Xml.GetText($v_4[$v_9].attributes.getNamedItem('otc'));
                    var $v_C = {};
                    var $v_D = XUI.Xml.SelectSingleNode($v_4[$v_9], 'Columns', null);
                    var $v_E = $v_D.firstChild;
                    if (!IsNull($v_E)) {
                        Array.add($v_A, $v_E);
                        var $v_F = $v_E.nodeName;
                        var $v_G = Number.parseInvariant(XUI.Xml.GetText($v_E.attributes.getNamedItem('width')));
                        $v_C[$v_F] = $v_G;
                        var $v_H = $v_E.nextSibling;
                        if (!IsNull($v_H)) {
                            Array.add($v_A, $v_H);
                            var $v_I = $v_H.nodeName;
                            var $v_J = Number.parseInvariant(XUI.Xml.GetText($v_H.attributes.getNamedItem('width')));
                            $v_C[$v_I] = $v_J;
                        }
                    }
                    $v_2[$v_B] = $v_C;
                    $v_3[$v_B] = $v_A;
                }
            }
            var $v_5 = (this.getAttribute()).getParent().getId();
            var $v_6 = XUI.Xml.SelectNodes($v_1.documentElement, '/SearchResults/items/records', null);
            var $v_7 = $v_6.length;
            for (var $v_K = 0; $v_K < $v_7; $v_K++) {
                var $v_L = XUI.Xml.SelectNodes($v_6[$v_K], 'record', null);
                for (var $v_M = 0; $v_M < $v_L.length; $v_M++) {
                    var $v_N = $v_L[$v_M];
                    var $v_O = new Mscrm.SearchRecord();
                    $v_O.set_resultColumns([]);
                    var $v_P = XUI.Xml.GetText($v_N.attributes.getNamedItem('otype'));
                    $v_O.set_entityTypeCode(Number.parseInvariant($v_P));
                    $v_O.set_title(new Mscrm.SearchRecordColumn());
                    $v_O.get_title().set_value(XUI.Xml.GetText($v_N.attributes.getNamedItem('oname')));
                    $v_O.set_objectId(XUI.Xml.GetText($v_N.attributes.getNamedItem('oid')));
                    if (!IsNullOrEmptyString($v_5) && $v_O.get_objectId() === $v_5) {
                        continue;
                    }
                    $v_O.set_entityLogicalName(XUI.Xml.GetText($v_N.attributes.getNamedItem('otypename')));
                    var $v_Q = $v_2[$v_P];
                    if (!IsNull($v_Q)) {
                        var $v_R = ($v_3[$v_P])[0];
                        this.$DB_5($v_R, $v_N, $v_Q, $v_O);
                        var $v_S = ($v_3[$v_P])[1];
                        this.$DB_5($v_S, $v_N, $v_Q, $v_O);
                    }
                    this.$Fd_5($v_N, $v_O);
                    Array.add($v_0, $v_O);
                }
            }
        }
        this.setSearchRecords($v_0);
    },
    
    $DB_5: function($p0, $p1, $p2, $p3) {
        if (!IsNull($p0)) {
            var $v_0 = new Mscrm.SearchRecordColumn();
            var $v_1 = '';
            var $v_2 = XUI.Xml.SelectSingleNode($p1, $p0.nodeName, null);
            if (!IsNull($v_2)) {
                $v_1 = XUI.Xml.GetText($v_2);
                if (IsNull($v_1)) {
                    $v_1 = '';
                }
            }
            $v_0.set_columnName($p0.nodeName);
            $v_0.set_value($v_1);
            $v_0.set_columnWidth($p2[$p0.nodeName]);
            Array.add($p3.get_resultColumns(), $v_0);
        }
    },
    
    $Fd_5: function($p0, $p1) {
        $p1.set_hiddenColumns([]);
        for (var $$arr_2 = $p0.childNodes, $$len_3 = $$arr_2.length, $$idx_4 = 0; $$idx_4 < $$len_3; ++$$idx_4) {
            var $v_0 = $$arr_2[$$idx_4];
            var $v_1 = $v_0.nodeName;
            var $v_2 = XUI.Xml.GetText($v_0);
            var $v_3 = new Mscrm.SearchRecordColumn();
            $v_3.set_columnName($v_1);
            $v_3.set_value($v_2);
            Array.add($p1.get_hiddenColumns(), $v_3);
        }
    },
    
    querySipInfo: function(entityId, entityTypeCodeId) {
        if (IsNullOrEmptyString(entityId)) {
            throw Error.argumentNull('entityId');
        }
        this.$10_5 = entityId;
        var $v_0 = Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$E0(entityTypeCodeId, entityId);
        var $v_1 = this.sipIdCache.get_item($v_0);
        if (!IsNull($v_1)) {
            Xrm.Internal.trace.logT(Mscrm.TurboForm.Control.ViewModel.LookupViewModel, 'using cached SIP ID for {0}', $v_0);
            if ($v_1.length > 0) {
                this.$FV_5($v_1);
            }
        }
        else {
            Xrm.Internal.trace.logT(Mscrm.TurboForm.Control.ViewModel.LookupViewModel, 'SIP ID cache miss for {0}', $v_0);
            this.$K3_5(entityId, entityTypeCodeId);
        }
    },
    
    $K3_5: function($p0, $p1) {
        var $v_0 = new Mscrm.Proxies.RemoteCommandProxy();
        var $v_1 = new RemoteCommand('PresenceService', 'QuerySipInfo');
        $v_0.set_element($v_1);
        var $v_2 = new Sys.StringBuilder();
        var $v_3 = this.$9y_5.addSipRequest($p0, $p1);
        $v_2.append($v_3);
        $v_2 = new Sys.StringBuilder('<grid>' + $v_2 + '</grid>');
        $v_0.setParameter('entityListXml', $v_2.toString());
        var $$t_9 = this;
        var $v_4 = function($p1_0, $p1_1) {
            $$t_9.$Ji_5($p0, $p1, $p1_0, $p1_1);
        };
        $v_0.execute($v_4);
    },
    
    $Ji_5: function($p0, $p1, $p2, $p3) {
        if (this.isDisposed || !$p2.get_success()) {
            return;
        }
        var $v_0 = Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$E0($p1, $p0);
        var $v_1 = this.$9y_5.createPresenceInfoArray($p2);
        if (!$v_1.length) {
            this.sipIdCache.set_item($v_0, '');
            return;
        }
        var $v_2 = this.$Hh_5($v_1);
        this.sipIdCache.set_item($v_0, $v_2);
        if (!IsNullOrEmptyString($v_2)) {
            this.$FV_5($v_2);
        }
    },
    
    $FV_5: function($p0) {
        this.$2U_5 = $p0;
        var $v_0 = Mscrm.Presence.PresenceControlFactory.get_instance();
        if (!IsNull($v_0)) {
            var $v_1 = $v_0.getStatus(this.$2U_5, this.$10_5);
            this.$7D_5 = $v_1.get_status();
            $v_0.add_onPresenceStatusChange(this.$$d_$Jh_5);
        }
    },
    
    $Hh_5: function($p0) {
        for (var $$arr_1 = $p0, $$len_2 = $$arr_1.length, $$idx_3 = 0; $$idx_3 < $$len_2; ++$$idx_3) {
            var $v_0 = $$arr_1[$$idx_3];
            if (this.$10_5 !== $v_0.get_recordId()) {
                continue;
            }
            return $v_0.get_sipId();
        }
        return null;
    },
    
    $LQ_5: function($p0) {
        var $v_0 = this.$9y_5.getPresenceUri($p0.get_status());
        this.presenceUriState($v_0.toString());
    },
    
    $Jh_5: function($p0, $p1) {
        if (IsNull($p0) || IsNull($p1) || $p1.get_sipId() !== this.$2U_5) {
            return;
        }
        this.$LQ_5($p1.get_status());
    },
    
    setParameter: function(name, value) {
        this.$3w_5[name] = value;
    },
    
    removeParameter: function(name) {
        if (((name) in this.$3w_5)) {
            delete this.$3w_5[name];
        }
    },
    
    $LU_5: function($p0) {
        if (!$p0.defaultType) {
            return null;
        }
        var $v_0 = parseInt($p0.defaultType);
        var $v_1 = Xrm.Internal.getEntityName($v_0);
        var $v_2 = false;
        for (var $$arr_4 = $p0.lookupTypes, $$len_5 = $$arr_4.length, $$idx_6 = 0; $$idx_6 < $$len_5; ++$$idx_6) {
            var $v_3 = $$arr_4[$$idx_6];
            if ($v_3 === $v_1) {
                $v_2 = true;
                break;
            }
        }
        if (!$v_2) {
            return null;
        }
        return $p0.defaultType;
    },
    
    openLookupMoreDialog: function(viewIds, disableViewPicker, filterRelationshipData, lookupObjectsCallback, searchText, disableQuickFind, lookupField) {
        this.$3w_5 = {};
        this.$Do_5();
        var $v_0 = new Xrm.LookupOptions();
        var $v_1 = (this.getAttribute()).getSupportedLookupTypes();
        var $v_2 = new Array($v_1.length);
        for (var $v_3 = 0; $v_3 < $v_1.length; $v_3++) {
            $v_2[$v_3] = Xrm.Internal.getEntityName($v_1[$v_3]);
        }
        if (!$v()) {
            this.setParameter('currentid', Xrm.Page.data.entity.getId());
            this.setParameter('currentObjectType', Xrm.Internal.getEntityCode(Xrm.Page.data.entity.getEntityName()).toString());
        }
        $v_0.lookupStyle = (this.getAttribute()).getLookupStyle();
        $v_0.lookupTypes = $v_2;
        $v_0.defaultViewId = this.$3A_5;
        $v_0.additionalParams = this.getParametersForLookupMoreDialog(this.$3w_5);
        $v_0.customViews = this.$2G_5;
        $v_0.searchText = searchText;
        $v_0.defaultType = (IsNull(this.get_defaultType())) ? null : this.get_defaultType().toString();
        $v_0.defaultType = this.$LU_5($v_0);
        $v_0.disableQuickFind = disableQuickFind;
        for (var $$arr_B = $v_1, $$len_C = $$arr_B.length, $$idx_D = 0; $$idx_D < $$len_C; ++$$idx_D) {
            var $v_4 = $$arr_B[$$idx_D];
            if (($v_4 !== 4200) && ($v_4 !== 4003) && ($v_4 !== 99) && ($v_4 !== 1049) && ($v_4 !== 9935) && ($v_4 !== 9942) && ($v_4 !== 9750)) {
                $v_0.showNew = true;
                break;
            }
        }
        $v_0.viewIds = (!isNullOrEmptyString(viewIds)) ? viewIds.split(',') : null;
        $v_0.disableViewPicker = disableViewPicker;
        $v_0.filterRelationshipId = filterRelationshipData.$3t_0;
        $v_0.filterRelationshipName = filterRelationshipData.$1j_0;
        $v_0.filterRelationshipType = filterRelationshipData.$5i_0;
        $v_0.filterRelationshipDependantAttribute = filterRelationshipData.$4n_0;
        $v_0.allowFilterOff = this.$4X_5;
        $v_0.customFilters = this.$4h_5;
        $v_0.customFilterTypes = this.$4i_5;
        Xrm.Internal.lookupObjects($v_0, lookupObjectsCallback, lookupField);
    },
    
    getParametersForLookupMoreDialog: function(lookupParameters) {
        var $v_0 = {};
        var $$dict_3 = lookupParameters;
        for (var $$key_4 in $$dict_3) {
            var $v_1 = { key: $$key_4, value: $$dict_3[$$key_4] };
            if ($v_1.key !== 'customFilter' && $v_1.key !== 'customFilterTypes') {
                $v_0[$v_1.key] = $v_1.value;
            }
        }
        return $v_0;
    },
    
    setCategoryForUnknownEmailItem: function(controlMode, lookupControlItem, allowUnresolvedPartiesOnEmailSend) {
        var $v_0 = (parseInt(lookupControlItem.type, 10) === 9206);
        if ($v_0) {
            if (controlMode === 'deactivated' || allowUnresolvedPartiesOnEmailSend) {
                lookupControlItem.category = 3;
            }
            else {
                lookupControlItem.category = 2;
            }
        }
    },
    
    requestPidPts: function(idList, lookupTypeList) {
        for (var $v_0 = 0; $v_0 < idList.length; $v_0++) {
            Mscrm.TurboForm.Common.ProcessIdRequestManager.get_instance().addRecord(idList[$v_0], lookupTypeList[$v_0]);
        }
    }
}


Mscrm.TurboForm.Control.ViewModel.MapControlViewModel = function(descriptor, parent, formUI) {
    this.$$d_$Eq_4 = Function.createDelegate(this, this.$Eq_4);
    Mscrm.TurboForm.Control.ViewModel.MapControlViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
    this.$DG_4();
}
Mscrm.TurboForm.Control.ViewModel.MapControlViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.mapsControl, Mscrm.TurboForm.Control.ViewModel.MapControlViewModel.$DV);
}
Mscrm.TurboForm.Control.ViewModel.MapControlViewModel.$DV = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.MapControlViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.MapControlViewModel.prototype = {
    
    initializeAndRefreshBingMapControl: function() {
        var $v_0 = Xrm.Internal.startMetricsStopwatch('InitializeBingMapControl');
        $v_0.start();
        if (this.$K6_4()) {
            RefreshBingMap(Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.formData);
        }
        $v_0.stop();
    },
    
    $K6_4: function() {
        var $v_0 = window.self.RefreshBingMap;
        if (IsNull($v_0)) {
            return false;
        }
        return true;
    },
    
    $GO_4: function() {
        var $v_0 = window.self.clearMap;
        if (!IsNull($v_0)) {
            clearMap();
        }
    },
    
    internalDispose: function() {
        this.$GO_4();
        this.$Ex_4();
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    getControlType: function() {
        return 'standard';
    },
    
    $DG_4: function() {
        Mscrm.TurboForm.Control.CommandService.get_instance().addAfterCommandExecutionHandler(1, this.$$d_$Eq_4);
    },
    
    $Ex_4: function() {
        Mscrm.TurboForm.Control.CommandService.get_instance().removeAfterCommandExecutionHandler(1, this.$$d_$Eq_4);
    },
    
    $Eq_4: function($p0) {
        this.initializeAndRefreshBingMapControl();
    }
}


Mscrm.TurboForm.Control.ViewModel.TransactionCurrencyViewModel = function(descriptor, parent, formUI, sipIdCache) {
    this.$$d_$Jk_6 = Function.createDelegate(this, this.$Jk_6);
    Mscrm.TurboForm.Control.ViewModel.TransactionCurrencyViewModel.initializeBase(this, [ descriptor, parent, formUI, sipIdCache ]);
}
Mscrm.TurboForm.Control.ViewModel.TransactionCurrencyViewModel.prototype = {
    
    bind: function() {
        var $v_0 = this.$$d_$Jk_6;
        var $v_1 = this.getAttribute();
        if (!IsNull(this.$G_2.$8_1) && !IsNull(this.$G_2.$8_1.$z_1)) {
            var $v_2 = this.$G_2.$8_1.$z_1.toString();
            if (isTransactionCurrencyLookup(this.getAttributeName(), $v_2)) {
                $v_1.addOnChange($v_0, true);
            }
        }
    },
    
    $Jk_6: function($p0) {
        var $v_0 = '';
        var $v_1 = -1;
        var $v_2 = this.getAttribute().getValue();
        if (!IsNull($v_2) && $v_2.length > 0) {
            var $v_3 = $v_2[0];
            if (!IsNull($v_3.keyValues)) {
                var $v_4 = $v_3.keyValues;
                var $v_5 = $v_3.keyValues;
                if (typeof($v_5) === 'string') {
                    $v_4 = Sys.Serialization.JavaScriptSerializer.deserialize($v_5);
                }
                if ((('currencysymbol') in $v_4)) {
                    $v_0 = ($v_4['currencysymbol']).value.toString();
                }
                if ((('currencyprecision') in $v_4)) {
                    $v_1 = Number.parseInvariant(($v_4['currencyprecision']).value.toString());
                }
            }
            if (!IsNullOrEmptyString($v_0) && $v_1 > -1) {
                this.$FR_6($v_0, $v_1);
            }
        }
        else {
            this.$FR_6($v_0, 0);
        }
    },
    
    $FR_6: function($p0, $p1) {
        for (var $v_0 = 0; $v_0 < this.$G_2.getControls().getLength(); $v_0++) {
            var $v_1 = this.$G_2.getControls().getByIndex($v_0);
            if (Mscrm.TurboForm.Control.ViewModel.MoneyViewModel.isInstanceOfType($v_1)) {
                var $v_2 = $v_1;
                $v_2.setCurrency($p0, $p1);
            }
        }
    }
}


Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
}
Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.picklistControl, Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel.$7P);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.picklistStatusControl, Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel.$7P);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.timeZonePicklistControl, Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel.$7P);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.languagePicker, Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel.$7P);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.picklistStatusControl, Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel.$7P);
}
Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel.$7P = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel.prototype = {
    $6P_5: null,
    
    get_$1T_5: function() {
        if (IsNull(this.$6P_5)) {
            var $v_0 = this.$G_2.getControlViewById(this.getKey());
            if (!IsNull($v_0)) {
                this.$6P_5 = $v_0.$T_4;
            }
        }
        return this.$6P_5;
    },
    
    getControlType: function() {
        return 'optionset';
    },
    
    internalDispose: function() {
        this.$6P_5 = null;
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    getOptions: function() {
        var $v_0 = (this.getAttribute()).getOptions();
        return Array.clone($v_0);
    },
    
    getUIOptions: function() {
        return (!IsNull(this.get_$1T_5())) ? this.get_$1T_5().getOptions() : null;
    },
    
    addOption: function(option, placement) {
        var $v_0 = this.getOptions();
        if (!IsNull(placement)) {
            Array.insert($v_0, placement, option);
        }
        else {
            Array.add($v_0, option);
        }
        (this.getAttribute()).setOptions($v_0);
    },
    
    addUIOption: function(option, placement) {
        if (!IsNull(this.get_$1T_5())) {
            this.get_$1T_5().addOption(option, placement);
            if (this.getAttributeName() === 'statuscode') {
                this.get_$1T_5().addStatusUIOptionHelper(option, placement);
            }
        }
    },
    
    removeOption: function(value) {
        var $v_0 = this.getOptions();
        for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
            if ($v_0[$v_1].value === value) {
                Array.removeAt($v_0, $v_1);
                (this.getAttribute()).setOptions($v_0);
                break;
            }
        }
    },
    
    removeUIOption: function(value) {
        if (!IsNull(this.get_$1T_5())) {
            this.get_$1T_5().removeOptionWithDuplicates(value);
            if (this.getAttributeName() === 'statuscode') {
                this.get_$1T_5().removeStatusUIOptionHelper(value);
            }
        }
    },
    
    clearOptions: function() {
        var $v_0 = this.getAttribute();
        var $v_1 = new Array(0);
        if ($v_0.getAttributeType() === 'optionset') {
            var $v_2 = $v_0;
            if ($v_2.get_hasEmptyOption()) {
                Array.insert($v_1, 0, new Xrm.OptionSetItem(-1, ''));
            }
        }
        $v_0.setOptions($v_1);
    },
    
    clearUIOptions: function() {
        if (!IsNull(this.get_$1T_5())) {
            this.get_$1T_5().clearOptions(true);
        }
        var $v_0 = false;
        if (this.getAttribute().getAttributeType() === 'optionset') {
            var $v_1 = this.getAttribute();
            if ($v_1.get_hasEmptyOption()) {
                this.get_$1T_5().addOption(new Xrm.OptionSetItem(-1, ''), 0);
                $v_0 = true;
            }
        }
        if (!IsNull(this.get_$1T_5()) && this.getAttributeName() === 'statuscode') {
            this.get_$1T_5().clearStatusUIOptionHelper();
            if ($v_0) {
                this.get_$1T_5().addStatusUIOptionHelper(new Xrm.OptionSetItem(-1, ''), 0);
            }
        }
    }
}


Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel = function(descriptor, parent, formUI) {
    this.$$d_$J2_4 = Function.createDelegate(this, this.$J2_4);
    this.$4u_4 = new (Microsoft.Crm.Client.Core.Framework.TypedDictionary$1.$$(Microsoft.Crm.Client.Core.Framework.Guid))();
    this.$10_4 = Microsoft.Crm.Client.Core.Framework.Guid.get_empty();
    this.$3m_4 = new Sys.EventHandlerList();
    Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
    var $v_0 = descriptor;
    this.$2i_4 = $v_0.DataFieldName;
    this.$3l_3 = this.GetParameterValue('ControlMode');
    var $v_1 = this.GetParameterValue('QuickForms');
    if (!IsNullOrEmptyString($v_1)) {
        this.$90_4 = true;
        var $v_2 = XUI.Xml.LoadXml($v_1);
        var $v_3 = XUI.Xml.SelectNodes($v_2.documentElement, '/QuickFormIds/QuickFormId', null);
        for (var $$arr_7 = $v_3, $$len_8 = $$arr_7.length, $$idx_9 = 0; $$idx_9 < $$len_8; ++$$idx_9) {
            var $v_4 = $$arr_7[$$idx_9];
            if (!IsNull($v_4)) {
                this.$4u_4.set_item(XUI.Xml.GetText($v_4.attributes.getNamedItem('entityname')), new Microsoft.Crm.Client.Core.Framework.Guid(XUI.Xml.GetText($v_4)));
            }
        }
    }
    else {
        var $v_5 = this.GetParameterValue('QuickFormRelationshipName');
        this.$4u_4.set_item($v_5, new Microsoft.Crm.Client.Core.Framework.Guid(this.GetParameterValue('FormId')));
        this.$n_4 = this.GetParameterValue('UniqueId');
    }
    if (this.getKey() === 'quickCreateActivity4212controlId' || this.getKey() === 'quickCreateActivity4210controlId') {
        var $v_6 = GetHashValue('activitytypecode');
        var $v_7 = String.format('quickCreateActivity{0}controlId', $v_6);
        this.$6Z_2 = this.getKey() !== $v_7;
    }
    this.$G_2.$46_1.add(this);
}
Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.quickFormControl, Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.$95);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.quickFormCollectionControl, Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.$95);
}
Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.$95 = function($p0, $p1, $p2) {
    var $v_0 = new Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel($p0, $p1, $p2);
    return $v_0;
}
Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.prototype = {
    $2i_4: null,
    $N_4: null,
    $75_4: null,
    $8P_4: true,
    $90_4: false,
    $n_4: null,
    $4j_4: null,
    $8v_4: false,
    $6I_4: false,
    
    get_isInitialized: function() {
        return this.$6I_4;
    },
    
    set_isInitialized: function(value) {
        this.$6I_4 = value;
        return value;
    },
    
    get_quickForm: function() {
        return this.$N_4;
    },
    
    $4U_4: false,
    
    get_isDataBindingComplete: function() {
        return this.$4U_4;
    },
    
    set_isDataBindingComplete: function(value) {
        this.$4U_4 = value;
        return value;
    },
    
    get_quickFormKey: function() {
        if (this.$90_4) {
            return String.format('{0}_', this.$n_4);
        }
        else {
            return String.format('{0}_', this.getKey());
        }
    },
    
    get_formDataEntityId: function() {
        var $v_0 = '{0}{1}_form_data_id';
        var $v_1 = this.get_formId().toString().replace(new RegExp('-', 'g'), '_');
        var $v_2 = String.format($v_0, this.get_quickFormKey(), $v_1);
        return GetGlobalVariable($v_2);
    },
    
    get_uniqueId: function() {
        return this.$n_4;
    },
    
    initialize: function() {
        if (!IsNull(this.$2i_4)) {
            var $v_0 = this.$G_2.$8_1.getPageData().getEntity().getAttributes().get(this.$2i_4);
            $v_0.addOnChange(this.$$d_$J2_4, true);
            this.$G_2.addOnLoadInternal(this.$$d_$J2_4);
        }
        if (this.$4u_4.count() === 1) {
            this.set_formId(this.$4u_4.toArray()[0]);
        }
        Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.prototype.initialize.call(this);
        this.$6I_4 = true;
    },
    
    getControlType: function() {
        return 'quickform';
    },
    
    get_formId: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.$Bd);
    },
    
    set_formId: function(value) {
        value = (IsNull(value)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : value;
        var $v_0 = this.get_formId();
        if ($v_0 !== value) {
            this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.$Bd, value);
            this.$J8_4();
        }
        return value;
    },
    
    set_$K5_4: function($p0) {
        this.$75_4 = $p0;
        var $v_0 = new Microsoft.Crm.Client.Core.Framework.Guid(this.$75_4.Id);
        if (!this.$10_4.equals($v_0)) {
            this.$10_4 = $v_0;
            if (!this.$10_4.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())) {
                this.refreshQuickFormData();
            }
        }
        return $p0;
    },
    
    bindQuickForm: function() {
        this.$N_4.bindUI();
        this.$8P_4 = true;
        this.refreshQuickFormData();
    },
    
    refreshQuickFormData: function() {
        if (this.$8P_4) {
            var $v_0 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.formData;
            var $v_1 = false;
            if (!IsNullOrEmptyString(this.$4j_4) && !IsNull($v_0[this.$4j_4])) {
                if (($v_0[this.$4j_4])['_entity'] !== this.$75_4) {
                    $v_1 = true;
                }
                ($v_0[this.$4j_4])['_entity'] = this.$75_4;
            }
            this.$N_4.getPageData().setDataId(this.$10_4);
            var $v_2 = this.$n_4.replace(new RegExp('-', 'g'), '_');
            var $v_3 = $v_0[String.format('quickFormData_{0}', $v_2)];
            if (IsNull($v_3) && this.$N_4.$n_1 !== $v_2 && !$v_1) {
                var $v_4 = this.$N_4.$n_1.replace(new RegExp('-', 'g'), '_');
                var $v_5 = $v_0[String.format('quickFormData_{0}', $v_4)];
                if (!IsNull($v_5) && $v_5._entity.Id === this.$10_4.toString()) {
                    $v_2 = $v_4;
                    $v_3 = $v_5;
                }
            }
            if (!IsNull($v_3)) {
                var $v_6 = (IsNullOrEmptyString($v_3._entity.Id)) ? Microsoft.Crm.Client.Core.Framework.Guid.get_empty() : new Microsoft.Crm.Client.Core.Framework.Guid($v_3._entity.Id);
                if (this.$10_4.equals($v_6)) {
                    this.$N_4.bindData($v_3);
                    this.$Bx_4();
                }
                else {
                    this.$Eu_4();
                }
            }
            else {
                this.$Eu_4();
            }
            for (var $v_7 = 0; $v_7 < this.$N_4.getPageUI().getControls().getLength(); $v_7++) {
                var $v_8 = this.$N_4.getPageUI().getControls().getByIndex($v_7);
                if (Object.getType($v_8) === Mscrm.TurboForm.Control.ViewModel.SubGridViewModel) {
                    var $v_9 = $v_8;
                    var $v_A = {};
                    $v_A['innerGridId'] = this.$N_4.$2H_1 + $v_9.getKey();
                    $v_A['hostedOnQuickFormId'] = this.getKey();
                    $v_A['quickFormSubgridId'] = $v_9.getKey();
                    Mscrm.CrmUIComponent.crmCreate(Mscrm.GridSpanControl, $v_A, null, null, $get(this.$N_4.$2H_1 + $v_9.getKey() + '_span'));
                    $v_9.initializeTurboGridControl(this.$N_4.$2H_1 + $v_9.getKey());
                    $v_9.refresh();
                }
            }
        }
    },
    
    $Eu_4: function() {
        if (!this.$C6_4()) {
            var $$t_0 = this;
            this.$N_4.getPageData().refreshWithoutSave(true).done(function() {
                $$t_0.$Bx_4();
            });
        }
        else {
            var $$t_1 = this;
            this.$N_4.getPageData().refresh(false).done(function() {
                $$t_1.$Bx_4();
            });
        }
    },
    
    $Bx_4: function() {
        this.$Gq_4();
        if (!this.$C6_4()) {
            var $v_0 = this.$N_4.getPageData().getEntity().getAttributes();
            var $$t_6 = this;
            $v_0.forEach(function($p1_0, $p1_1) {
                $p1_0.getControls().forEach(function($p2_0, $p2_1) {
                    $p2_0.$3L_2 = false;
                    var $v_1 = $p2_0;
                    $v_1.setDisabled(true);
                });
            });
        }
    },
    
    $C6_4: function() {
        return this.GetParameterValue('ControlMode') === 'Create';
    },
    
    $Gq_4: function() {
        if (this.$8v_4) {
            this.$N_4.executeOnLoad();
            this.$8v_4 = false;
            this.$4U_4 = true;
            this.$Gd_4();
        }
    },
    
    $J2_4: function($p0) {
        var $v_0 = this.$G_2.$8_1.getPageData().getEntity().getAttributes().get(this.$2i_4);
        var $v_1 = $v_0.getValue();
        if (!IsNull($v_1) && $v_1.length === 1) {
            var $v_2 = this.$4u_4.get_item($v_1[0].entityType);
            if (IsNull($v_2)) {
                this.set_formId(Microsoft.Crm.Client.Core.Framework.Guid.get_empty());
            }
            else {
                this.set_formId($v_2);
                var $v_3 = new Mscrm.EntityReference();
                $v_3.Id = $v_1[0].id;
                $v_3.Name = $v_1[0].entityType;
                $v_3.TypeCode = Number.parseInvariant($v_1[0].type);
                this.set_$K5_4($v_3);
            }
        }
        else {
            this.set_formId(Microsoft.Crm.Client.Core.Framework.Guid.get_empty());
        }
    },
    
    $J8_4: function() {
        if (!IsNull(this.$N_4)) {
            this.$Gk_4();
            this.disposeXrmQuickViewControl();
        }
        if (this.get_formId() !== Microsoft.Crm.Client.Core.Framework.Guid.get_empty()) {
            this.$8P_4 = false;
            this.$8v_4 = true;
            this.$N_4 = new Mscrm.TurboForm.Control.Form();
            this.$N_4.getPageData().$5T_1 = this.GetParameterValue('QuickFormRelationshipName');
            this.$N_4.getPageData().$5U_1 = this.GetParameterValue('QuickFormRelationshipRoleOrdinal');
            var $v_0 = Mscrm.TurboForm.Control.PageManager.get_instance().getFormDescriptor(this.get_formId());
            if (this.$90_4) {
                this.$n_4 = String.format('{0}_{0}_{1}', this.getKey(), $v_0.Metadata.LogicalName);
            }
            this.$4j_4 = String.format('quickFormData_{0}_quickform_{1}', this.getKey().toLowerCase(), $v_0.Metadata.LogicalName);
            this.$N_4.$2H_1 = this.get_quickFormKey();
            this.$N_4.$n_1 = String.format('{0}_quickform_{1}', this.getKey().toLowerCase(), $v_0.Metadata.LogicalName);
            this.$N_4.initialize($v_0, null);
            this.registerXrmQuickViewControl();
            this.$4U_4 = false;
        }
    },
    
    $Gk_4: function() {
        try {
            var $v_0 = this.$N_4.getPageUI();
            var $v_1 = $v_0.getControls();
            var $$t_A = this;
            $v_1.forEach(function($p1_0, $p1_1) {
                var $v_4 = $v_0.getControlViewById($p1_0.getKey());
                $v_4.dispose();
                $p1_0.dispose();
            });
            var $v_2 = this.$N_4.getPageData();
            var $v_3 = $v_2.getEntity().getAttributes();
            var $$t_B = this;
            $v_3.forEach(function($p1_0, $p1_1) {
                $p1_0.dispose();
            });
            $v_0.dispose();
            $v_2.getEntity().dispose();
            $v_2.dispose();
            this.$N_4.dispose();
        }
        catch ($v_5) {
            Mscrm.CrmDebug.fail(String.format('Error disposing of quickform {0}: {1}', this.getKey(), $v_5.message));
        }
    },
    
    add_successEvent: function(value) {
        this.$3m_4.addHandler('SuccessEvent', value);
    },
    
    remove_successEvent: function(value) {
        this.$3m_4.removeHandler('SuccessEvent', value);
    },
    
    add_failureEvent: function(value) {
        this.$3m_4.addHandler('FailureEvent', value);
    },
    
    remove_failureEvent: function(value) {
        this.$3m_4.removeHandler('FailureEvent', value);
    },
    
    save: function() {
        return this.$Cl_4(false);
    },
    
    saveAsCompleted: function() {
        return this.$Cl_4(true);
    },
    
    $Cl_4: function($p0) {
        if (IsNull(this.$N_4)) {
            return new Mscrm.SaveResponse(0, null);
        }
        var $v_0 = this.$N_4.getPageData().getEntity();
        var $v_1 = $v_0.validateAttributes(false);
        if (!$v_1.$1B_0) {
            return new Mscrm.SaveResponse(3, $v_1.$1o_0);
        }
        if (!$v_0.get_isNew() && !$v_0.getIsDirty()) {
            return new Mscrm.SaveResponse(1, null);
        }
        $v_0.$4f_1 = this;
        var $$t_7 = this, $$t_8 = this;
        $v_0.saveInternal(null, false, false, false, null, $p0).then(function($p1_0) {
            var $v_2 = $$t_7.$3m_4.getHandler('SuccessEvent');
            if ($v_2) {
                $v_2($$t_7, new Mscrm.InlineEdit.QuickFormRefreshedEventsArgs($$t_7.$n_4, $p1_0, 1));
            }
            if ($$t_7.GetParameterValue('ControlMode') === 'Create') {
                $$t_7.clear();
            }
        }, function($p1_0) {
            var $v_3 = $$t_8.$3m_4.getHandler('FailureEvent');
            if ($v_3) {
                $v_3($$t_8, new Mscrm.InlineEdit.QuickFormRefreshedEventsArgs($$t_8.$n_4, $p1_0, 1));
            }
        });
        return new Mscrm.SaveResponse(6, null);
    },
    
    getEntityAttribute: function(attributeName) {
        return (!IsNull(this.$N_4)) ? this.$N_4.getAttribute(attributeName) : null;
    },
    
    get_entityName: function() {
        return this.$N_4.getPageData().getEntity().getEntityName();
    },
    
    disableWarningsOnAllControls: function() {
        if (this.$3l_3 === 'Create' && !IsNull(this.$N_4)) {
            var $v_0 = this.$N_4.getPageData().getEntity().getAttributes();
            if (!IsNull($v_0)) {
                var $$t_3 = this;
                $v_0.forEach(function($p1_0, $p1_1) {
                    if (!IsNull($p1_0)) {
                        $p1_0.setWarningEnabled(false);
                    }
                });
            }
        }
    },
    
    setDefaultEmptyValuePlaceholderText: function(attributeName, text) {
        var $v_0 = this.$N_4.getAttribute(attributeName);
        if (IsNull($v_0)) {
            return;
        }
        var $$t_5 = this;
        $v_0.getControls().forEach(function($p1_0, $p1_1) {
            if (IsNull($p1_0)) {
                return;
            }
            $p1_0.setEmptyValuePlaceholderText(text);
        });
    },
    
    setEditMode: function(attributeName) {
        var $v_0 = this.$N_4.getAttribute(attributeName).getControls().getByIndex(0);
        if (!IsNull($v_0)) {
            $v_0.setFocus();
        }
    },
    
    clear: function() {
        var $v_0 = this.get_formId();
        Mscrm.TurboForm.Control.PageManager.get_instance().startUIUpdate(false);
        this.set_formId(Microsoft.Crm.Client.Core.Framework.Guid.get_empty());
        Mscrm.TurboForm.Control.PageManager.get_instance().finishUIUpdate();
        this.set_formId($v_0);
    },
    
    resetAttributeValue: function(attributeName, value) {
        var $v_0 = this.$N_4.getAttribute(attributeName);
        $v_0.resetValue(value);
    },
    
    addOnRecordNameChanged: function(handler) {
        this.$N_4.getPageData().getEntity().addOnRecordNameChanged(handler, false);
    },
    
    removeOnRecordNameChanged: function(handler) {
        this.$N_4.getPageData().getEntity().removeOnRecordNameChanged(handler);
    },
    
    addOnRecordIdChanged: function(handler) {
        this.$N_4.getPageData().getEntity().addOnRecordIdChanged(handler, false);
    },
    
    removeOnRecordIdChanged: function(handler) {
        this.$N_4.getPageData().getEntity().removeOnRecordIdChanged(handler);
    },
    
    addOnDataChanged: function(handler) {
        this.$N_4.getPageData().addOnLoad(handler);
    },
    
    removeOnDataChanged: function(handler) {
        this.$N_4.getPageData().removeOnLoad(handler);
    },
    
    resetLayoutOnBoundControls: function(attributeName) {
    },
    
    clearValidation: function(attribute) {
        var $v_0 = attribute;
        var $v_1 = $v_0.getControls();
        var $$t_6 = this;
        $v_1.forEach(function($p1_0, $p1_1) {
            var $v_2 = $p1_0;
            $v_2.clearAllNotification();
        });
    },
    
    getName: function() {
        return this.getKey();
    },
    
    $Gd_4: function() {
        if (this.$C6_4()) {
            return;
        }
        this.$Ge_4();
    },
    
    $Ge_4: function() {
        var $v_0 = this.getEntityAttribute(this.$Hc_4('data-relatedentity-primaryfieldname'));
        if (IsNull($v_0)) {
            return;
        }
        var $$t_C = this;
        $v_0.getControls().forEach(function($p1_0, $p1_1) {
            var $v_1 = $p1_0;
            if (!IsNull($v_1)) {
                var $v_2 = $P_CRM('#' + ($v_1).getFormattedKey());
                if (!IsNull($v_2)) {
                    var $v_3 = $v_2.children();
                    if (!IsNull($v_3)) {
                        var $v_4 = $v_3.first();
                        if (!IsNull($v_4)) {
                            $v_4.addClass('ms-crm-CustomerCard-Name');
                            var $v_5 = $v_4.children();
                            if (!IsNull($v_5)) {
                                var $v_7 = $v_5.first();
                                var $v_8 = $v_7.children();
                                if (!IsNull($v_7) && !IsNull($v_8)) {
                                    $v_7.empty();
                                    $v_7.append($$t_C.$HC_4($v_0));
                                    $v_7.append($v_8);
                                }
                            }
                            var $v_6 = $v_4.parents('table').first();
                            if (!IsNull($v_6)) {
                                var $v_9 = $v_6.find('td').first();
                                $v_9.css('padding-left', '0px');
                                $v_9.css('padding-right', '0px');
                                $v_9.css('padding-top', '0px');
                            }
                        }
                    }
                }
            }
        });
    },
    
    $HC_4: function($p0) {
        var $v_0 = $P_CRM('<a></a>');
        $v_0.attr('href', '#');
        $v_0.addClass('ms-crm-gridurl');
        $v_0.addClass('ms-CustomerCard-Name-Anchor');
        if (!IsNull($p0.getValue())) {
            $v_0.text($p0.getValue().toString());
        }
        var $$t_3 = this;
        $v_0.click(function($p1_0) {
            Xrm.Utility.openEntityForm($$t_3.get_entityName(), $$t_3.$10_4.toString());
            $p1_0.stopPropagation();
            $p1_0.preventDefault();
        });
        return $v_0;
    },
    
    $Hc_4: function($p0) {
        var $v_0 = String.format('[data-formid=\"{0}\"]', this.get_formId().toString());
        var $v_1 = document.querySelectorAll($v_0)[0];
        if (!IsNull($v_1)) {
            var $v_2 = $v_1.getAttribute($p0);
            if (!IsNull($v_2)) {
                return $v_2;
            }
        }
        return null;
    },
    
    registerXrmQuickViewControl: function() {
        var $v_0 = new Mscrm.FormControls.ClientApi.XrmTurboFormControlQuickForm(this);
        var $v_1 = Xrm.Page.ui.quickForms;
        var $v_2 = $v_1.getByName(this.getName());
        if (IsNull($v_2)) {
            $v_1.add($v_0);
        }
    },
    
    disposeXrmQuickViewControl: function() {
        var $v_0 = Xrm.Page.ui;
        var $v_1 = $v_0.quickForms;
        var $v_2 = $v_1.getByName(this.getName());
        if (!IsNull($v_2)) {
            $v_1.remove($v_2);
            $v_2.dispose();
        }
    }
}


Mscrm.TurboForm.Control.ViewModel.SectionViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.SectionViewModel.initializeBase(this, [ descriptor, new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel))(), formUI ]);
    this.$t_4 = parent;
    this.set_hideIfNoChildrenVisible(true);
}
Mscrm.TurboForm.Control.ViewModel.SectionViewModel.prototype = {
    $t_4: null,
    $3D_4: null,
    
    get_$29_4: function() {
        if (!this.$3D_4) {
            this.$3D_4 = new Mscrm.ClientApiEventHandlerList(new Sys.EventHandlerList());
        }
        return this.$3D_4;
    },
    
    getParent: function() {
        return this.$t_4;
    },
    
    getIsVisibleInTree: function() {
        return this.getVisible() && (IsNull(this.$t_4) || this.$t_4.getVisible());
    },
    
    setVisible: function(visible) {
        Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.prototype.setVisible.call(this, visible);
        if (visible) {
            this.expandParentTab();
            this.$Gw_4();
        }
        else {
            this.$GS_4();
        }
    },
    
    addOnSectionVisibilityChanged: function(handler, system) {
        this.get_$29_4().addHandler('OnSectionVisible', handler, system);
    },
    
    $Gw_4: function() {
        var $v_0 = this.get_$29_4().getHandler('OnSectionVisible');
        if ($v_0) {
            $v_0(this, null);
        }
    },
    
    expandParentTab: function() {
        if (!IsNull(this.$t_4) && 'collapsed' === this.$t_4.getDisplayState()) {
            this.$t_4.setDisplayState('expanded');
        }
    },
    
    $GS_4: function() {
        if (!IsNull(this.$t_4) && 'expanded' === this.$t_4.getDisplayState() && !this.$t_4.isTabAnyChildVisible()) {
            this.$t_4.setDisplayState('collapsed');
        }
    }
}


Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
}
Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.checkBoxControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.textBoxControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.tickerControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailAddressControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.urlControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.decimalControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.integerControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.floatControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.textAreaControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.radioControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.phoneNumberControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailBodyControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.labelControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.buttonControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.editFilterControl, Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M);
}
Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$1M = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.prototype = {
    
    getControlType: function() {
        return 'standard';
    }
}


Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
}
Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.textBoxControl, Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.$7O);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.tickerControl, Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.$7O);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailAddressControl, Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.$7O);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.urlControl, Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.$7O);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.phoneNumberControl, Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.$7O);
}
Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.$7O = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.prototype = {
    $C5_5: '',
    $9h_5: null,
    $9i_5: null,
    $9r_5: null,
    $9p_5: null,
    
    get_$9s_5: function() {
        if (!this.$9r_5) {
            this.$9r_5 = new Mscrm.ClientApiEventHandlerList(new Sys.EventHandlerList());
        }
        return this.$9r_5;
    },
    
    get_$9q_5: function() {
        if (!this.$9p_5) {
            this.$9p_5 = new Mscrm.ClientApiEventHandlerList(new Sys.EventHandlerList());
        }
        return this.$9p_5;
    },
    
    get_searchRecordsProperty: function() {
        return Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.$5X;
    },
    
    showAutoComplete: function(result) {
        if (!IsNull(result)) {
            var $v_0 = result.results;
            var $v_1 = result.commands;
            var $v_2 = new (Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.Results))();
            for (var $v_5 = 0; $v_5 < $v_0.length; $v_5++) {
                var $v_6 = new Mscrm.Results();
                $v_6.set_id($v_0[$v_5].id);
                $v_6.set_fields($v_0[$v_5].fields);
                $v_6.set_icon($v_0[$v_5].icon);
                $v_2.add($v_6);
            }
            var $v_3 = new Mscrm.Commands();
            if ($v_1) {
                $v_3.set_id($v_1.id);
                $v_3.set_label($v_1.label);
                $v_3.set_action($v_1.action);
                $v_3.set_icon($v_1.icon);
            }
            var $v_4 = new Mscrm.AutoLookupSearchRecord();
            $v_4.set_results($v_2);
            $v_4.set_commands($v_3);
            this.setSearchRecords($v_4);
        }
    },
    
    hideAutoComplete: function() {
        Mscrm.Utilities.hideInlineMenu();
    },
    
    getValue: function() {
        return this.$C5_5;
    },
    
    fireOnKeyPress: function(arg) {
        var $v_0 = this.get_$9s_5().getHandler('keyPress');
        if (!IsNull($v_0)) {
            $v_0(this, arg);
        }
    },
    
    addOnKeyPress: function(handler) {
        if (!IsNull(this.$9i_5)) {
            this.get_$9s_5().removeHandler('keyPress', this.$9i_5);
        }
        this.get_$9s_5().addHandler('keyPress', handler, false);
        this.$9i_5 = handler;
    },
    
    removeOnKeyPress: function(handler) {
        this.get_$9s_5().removeHandler('keyPress', handler);
    },
    
    addOnClick: function(handler) {
        if (!IsNull(this.$9h_5)) {
            this.get_$9q_5().removeHandler('click', this.$9h_5);
        }
        this.get_$9q_5().addHandler('click', handler, false);
        this.$9h_5 = handler;
    },
    
    fireOnClick: function() {
        var $v_0 = this.get_$9q_5().getHandler('click');
        if (!IsNull($v_0)) {
            $v_0(this, Sys.EventArgs.Empty);
        }
    },
    
    removeOnClick: function(handler) {
        this.get_$9q_5().removeHandler('click', handler);
    },
    
    getLookupOnKeyPress: function(arg) {
        this.$C5_5 = arg;
        this.fireOnKeyPress(Sys.EventArgs.Empty);
    },
    
    setSearchRecords: function(searchRecords) {
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.$5X, searchRecords);
    },
    
    get_searchRecords: function() {
        return this.getPropertyValue(this.get_searchRecordsProperty());
    },
    
    getControlType: function() {
        return 'standard';
    }
}


Mscrm.TurboForm.Control.ViewModel.MoneyViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.MoneyViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
}
Mscrm.TurboForm.Control.ViewModel.MoneyViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.moneyControl, Mscrm.TurboForm.Control.ViewModel.MoneyViewModel.$GE);
}
Mscrm.TurboForm.Control.ViewModel.MoneyViewModel.$GE = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.MoneyViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.MoneyViewModel.prototype = {
    
    setCurrency: function(currencySymbol, precision) {
        (this.getAttribute()).setCurrencySymbol(currencySymbol);
        (this.getAttribute()).setPrecision(precision);
    }
}


Mscrm.TurboForm.Control.ViewModel.SubGridViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.SubGridViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
    var $v_0 = this.$G_2.$8_1.$2H_1;
    this.$2g_4 = (IsNullOrEmptyString($v_0)) ? descriptor.Id : $v_0 + descriptor.Id;
    var $$t_H = this;
    var $v_1 = function() {
        var $v_3 = $get($$t_H.$2g_4 + '_divDataArea');
        if ($v_3) {
            $$t_H.initializeTurboGridControl($$t_H.$2g_4);
        }
    };
    Mscrm.TurboForm.Control.PageManager.get_instance().$2c_1.registerSubGrid(this.$2g_4, $v_1);
    var $$t_I = this;
    var $v_2 = function($p1_0) {
        var $v_4 = $get($$t_I.$2g_4 + '_divDataArea');
        if ($v_4) {
            var $v_5 = XUI.Xml.LoadXml($p1_0);
            $$t_I.get_turboGridControl().setDivGridParameters($v_5);
            var $v_6 = $find($$t_I.getKey() + '_visualizationCompositeControl');
            if (!IsNull($v_6)) {
                var $v_B = $v_6.getVisualizationPaneParameter('paneSize');
                if (!IsNull($v_B) && $v_B !== '4') {
                    $v_6.pageLoadHandler();
                }
            }
            var $v_7 = $$t_I.get_turboGridControl();
            if ($v_7.getEntityName().toLowerCase() === 'activitymimeattachment') {
                $v_7.refresh();
            }
            $v_7.setGridData(XUI.Xml.GetText(XUI.Xml.SelectSingleNode($v_5, 'gridXml/gridHtml', null)), true);
            var $v_8 = new Mscrm.Proxies.DomElementProxy();
            $v_8.set_element($v_4);
            Mscrm.TurboForm.Common.ProcessIdRequestManager.get_instance().processSubGridHtml($v_8);
            $$t_I.get_turboGridControl().autoExpandGridControlRows();
            var $v_9 = $get($$t_I.$2g_4);
            var $v_A = (!$$t_I.$G_2.$8_1.getPageData().get_formDataEntity()) ? '' : $$t_I.$G_2.$8_1.getPageData().get_formDataEntity().get_recordId();
            Mscrm.GridControl.setElementParameter($v_9, 'oId', $v_A);
            Mscrm.GridControl.setElementParameter($v_9, 'oType', GetHashValue('etc'));
            $$t_I.get_turboGridControl().initializeForTurboForm();
            $$t_I.get_turboGridControl().fireOnLoadHandler();
            $$t_I.get_turboGridControl().setHeightForHiddenTabGridSpan();
        }
    };
    Mscrm.TurboForm.Control.PageManager.get_instance().dataManager.registerControlToDataSource(this.$2g_4, $v_2);
    if (parent) {
        var $$t_J = this;
        this.$B7_4 = function($p1_0) {
            window.setTimeout(function() {
                if ($$t_J.get_turboGridControl()) {
                    $$t_J.get_turboGridControl().refreshLiteSubGrid();
                }
            }, 100);
        };
        parent.addOnSectionVisibilityChanged(this.$B7_4, false);
    }
}
Mscrm.TurboForm.Control.ViewModel.SubGridViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.gridControl, Mscrm.TurboForm.Control.ViewModel.SubGridViewModel.$GI);
}
Mscrm.TurboForm.Control.ViewModel.SubGridViewModel.$GI = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.SubGridViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.SubGridViewModel.prototype = {
    $1r_4: null,
    $1c_4: null,
    $2s_4: null,
    $B7_4: null,
    $2g_4: '',
    
    get_turboGridControl: function() {
        if (IsNull(this.$1r_4)) {
            this.initializeTurboGridControl(this.getKey());
        }
        return this.$1r_4;
    },
    
    set_turboGridControl: function(value) {
        this.$1r_4 = value;
        return value;
    },
    
    get_dataSetControl: function() {
        return this.$1c_4;
    },
    
    set_dataSetControl: function(value) {
        this.$1c_4 = value;
        return value;
    },
    
    get_currentGridControl: function() {
        return Mscrm.FormControls.ClientApi.XrmTurboFormControlRoutedSubGrid.findCurrentGridControl(this.$1r_4, this.$1c_4);
    },
    
    addRecord: function() {
        if (this.get_turboGridControl().getVisible()) {
            this.get_turboGridControl().addRecord();
        }
    },
    
    $DE_4: function() {
        var $$t_1 = this;
        this.$2s_4 = function($p1_0) {
            $$t_1.get_turboGridControl().refreshLiteSubGrid();
        };
        this.$G_2.$8_1.getPageData().getEntity().addOnRecordIdChanged(this.$2s_4, false);
    },
    
    exportToExcel: function() {
        this.get_currentGridControl().exportToExcel();
    },
    
    openAssociatedGrid: function() {
        this.get_turboGridControl().openAssociatedGrid();
    },
    
    setFocus: function() {
        this.get_turboGridControl().setFocus();
    },
    
    setLabel: function(label) {
        Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.prototype.setLabel.call(this, label);
        this.get_turboGridControl().setLabel(label);
    },
    
    getVisible: function() {
        return this.get_turboGridControl().getVisible();
    },
    
    setVisible: function(visible) {
        this.get_turboGridControl().setVisible(visible);
    },
    
    refresh: function() {
        this.get_currentGridControl().refresh();
    },
    
    getControlType: function() {
        return 'subgrid';
    },
    
    initializeTurboGridControl: function(name) {
        var $v_0 = $find(name);
        if ($v_0) {
            return;
        }
        var $v_1 = [];
        Array.add($v_1, 42);
        Array.add($v_1, 4);
        Array.add($v_1, 50);
        Array.add($v_1, 95);
        Array.add($v_1, 38);
        Array.add($v_1, 9);
        Array.add($v_1, 87);
        var $v_2 = {};
        $v_2['subscribedEvents'] = $v_1;
        var $v_3 = Mscrm.CrmUIComponent.crmCreate(Mscrm.TurboGridControl, $v_2, null, null, $get(name));
        $v_3.eventManager = this.$8E_3;
        this.$1r_4 = $v_3;
        this.$5s_4(name + '_quickFindContainer', Mscrm.QuickFindControl);
        this.$5s_4(name + '_findCriteria', Mscrm.HintText);
        this.$5s_4(name + '_findCriteriaImg', Mscrm.GlowingImage);
        this.$5s_4(name + '_clearCriteriaImg', Mscrm.GlowingImage);
        var $v_4 = $find(name + '_visualizationCompositeControl');
        if (!IsNull($v_4)) {
            var $v_6 = $v_4.getVisualizationPaneParameter('paneSize');
            if (!IsNull($v_6) && $v_6 !== '4') {
                this.$5s_4(name + '_paneControl', Mscrm.VisualizationPane);
            }
        }
        else {
            this.$5s_4(name + '_paneControl', Mscrm.VisualizationPane);
        }
        var $v_5 = String.format('{0}_SavedNewQuerySelector', name);
        eval(window.self[$v_5]);
        this.$DE_4();
        if (Xrm.Internal.isFeatureEnabled('FCB.DataSetControl')) {
            var $v_7 = $get('crmCCDataSet_' + name);
            if ($v_7) {
                Array.add($v_1, 14);
                Array.add($v_1, 20);
                Array.add($v_1, 122);
                Array.add($v_1, 46);
                Array.add($v_1, 90);
                var $v_8 = Mscrm.CrmUIComponent.crmCreate(Mscrm.DataSetControl, $v_2, null, null, $v_7);
                this.$1c_4 = $v_8;
            }
        }
    },
    
    $5s_4: function($p0, $p1) {
        var $v_0 = $get($p0);
        if (!IsNull($v_0)) {
            Mscrm.CrmUIComponent.crmCreate($p1, null, null, null, $v_0);
        }
    },
    
    internalDispose: function() {
        if (this.$1r_4) {
            this.$1r_4.dispose();
            this.$1r_4 = null;
        }
        Mscrm.TurboForm.Control.PageManager.get_instance().dataManager.$1m_1.remove(this.$2g_4);
        if (this.$1c_4) {
            this.$1c_4.dispose();
            this.$1c_4 = null;
        }
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    }
}


Mscrm.TurboForm.Control.ViewModel.TabViewModel = function(descriptor, formUI) {
    Mscrm.TurboForm.Control.ViewModel.TabViewModel.initializeBase(this, [ descriptor, new (Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.ViewModel.SectionViewModel))(), formUI ]);
    var $v_0 = descriptor;
    this.sections = this.getChildViewModels();
    this.$CA_4 = $v_0.ShowLabel;
    this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.TabViewModel.$9G, ($v_0.Expanded) ? 'expanded' : 'collapsed');
    this.$1A_4 = new Mscrm.ClientApiEventHandlerList(new Sys.EventHandlerList());
    if (!IsNull($v_0.EventHandlers)) {
        for (var $v_1 = 0; $v_1 < $v_0.EventHandlers.length && $v_0.EventHandlers[$v_1].EventName.toLowerCase() === 'tabstatechange'; $v_1++) {
            this.$1A_4.addHandler('TabStateChange', Mscrm.TurboForm.Control.CustomScriptsManager.get_instance().getHandler($v_0.EventHandlers[$v_1]), false);
        }
    }
}
Mscrm.TurboForm.Control.ViewModel.TabViewModel.prototype = {
    $CA_4: false,
    issubgrid: false,
    $1A_4: null,
    sections: null,
    
    addTabStateChange: function(handler) {
        this.$1A_4.addHandler('TabStateChange', handler, false);
    },
    
    setIsSubGrid: function(_issubgrid) {
        this.issubgrid = _issubgrid;
    },
    
    removeTabStateChange: function(handler) {
        this.$1A_4.removeHandler('TabStateChange', handler);
    },
    
    getDisplayState: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.ViewModel.TabViewModel.$9G);
    },
    
    setDisplayState: function(state) {
        var $v_0 = this.getDisplayState();
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.TabViewModel.$9G, state);
        if ($v_0 !== state) {
            this.executeTabStateChange();
        }
    },
    
    setFocus: function() {
        this.setVisible(true);
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.TabViewModel.$7e, true);
    },
    
    getLabelVisible: function() {
        return this.$CA_4;
    },
    
    getParent: function() {
        return this.$G_2;
    },
    
    getSections: function() {
        return this.sections;
    },
    
    executeTabStateChange: function() {
        var $v_0 = this.$1A_4.getHandler('TabStateChange');
        if ($v_0) {
            $v_0(this, null);
        }
    },
    
    isTabAnyChildVisible: function() {
        for (var $v_0 = 0; $v_0 < this.sections.getLength(); $v_0++) {
            var $v_1 = this.sections.get($v_0);
            if (!IsNull($v_1) && ($v_1).getVisible()) {
                return true;
            }
        }
        return false;
    }
}


Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel = function(descriptor, parent, formUI) {
    this.$$d_$Eq_4 = Function.createDelegate(this, this.$Eq_4);
    Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
    this.$IK_4(descriptor.Parameters);
}
Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.timerControl, Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel.$DY);
}
Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel.$DY = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel.prototype = {
    $3E_4: null,
    $5c_4: null,
    $5d_4: null,
    $4y_4: null,
    $4z_4: null,
    $5k_4: null,
    $5l_4: null,
    $4Z_4: null,
    $4a_4: null,
    $5O_4: null,
    $5P_4: null,
    $2j_4: null,
    $5b_4: null,
    $4x_4: null,
    $5j_4: null,
    $4Y_4: null,
    $5N_4: null,
    $3o_4: null,
    $50_4: null,
    $7I_4: 0,
    $3T_4: 0,
    $5Y_4: 0,
    $2q_4: false,
    $4E_4: false,
    $AS_4: null,
    $4D_4: null,
    $1H_4: null,
    $3N_4: null,
    $2s_4: null,
    
    get_isQuickViewForm: function() {
        return Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel.$3v;
    },
    
    set_isQuickViewForm: function(value) {
        Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel.$3v = value;
        return value;
    },
    
    get_timerElement: function() {
        return this.$4D_4;
    },
    
    set_timerElement: function(value) {
        this.$4D_4 = value;
        return value;
    },
    
    get_oldViewObject: function() {
        return this.$3N_4;
    },
    
    set_oldViewObject: function(value) {
        this.$3N_4 = value;
        return value;
    },
    
    get_failureDateTime: function() {
        return this.$50_4;
    },
    
    set_failureDateTime: function(value) {
        this.$50_4 = value;
        return value;
    },
    
    get_failureDateTimeUtcString: function() {
        return this.$2j_4;
    },
    
    set_failureDateTimeUtcString: function(value) {
        this.$2j_4 = value;
        return value;
    },
    
    get_failureTimeField: function() {
        return this.$3E_4;
    },
    
    set_failureTimeField: function(value) {
        this.$3E_4 = value;
        return value;
    },
    
    get_successConditionName: function() {
        return this.$5c_4;
    },
    
    set_successConditionName: function(value) {
        this.$5c_4 = value;
        return value;
    },
    
    get_failureConditionValue: function() {
        return this.$4z_4;
    },
    
    set_failureConditionValue: function(value) {
        this.$4z_4 = value;
        return value;
    },
    
    get_failureConditionName: function() {
        return this.$4y_4;
    },
    
    set_failureConditionName: function(value) {
        this.$4y_4 = value;
        return value;
    },
    
    get_successConditionValue: function() {
        return this.$5d_4;
    },
    
    set_successConditionValue: function(value) {
        this.$5d_4 = value;
        return value;
    },
    
    get_warningConditionName: function() {
        return this.$5k_4;
    },
    
    set_warningConditionName: function(value) {
        this.$5k_4 = value;
        return value;
    },
    
    get_warningConditionValue: function() {
        return this.$5l_4;
    },
    
    set_warningConditionValue: function(value) {
        this.$5l_4 = value;
        return value;
    },
    
    get_cancelConditionName: function() {
        return this.$4Z_4;
    },
    
    set_cancelConditionName: function(value) {
        this.$4Z_4 = value;
        return value;
    },
    
    get_cancelConditionValue: function() {
        return this.$4a_4;
    },
    
    set_cancelConditionValue: function(value) {
        this.$4a_4 = value;
        return value;
    },
    
    get_timeDifferenceInSeconds: function() {
        return this.$3T_4;
    },
    
    set_timeDifferenceInSeconds: function(value) {
        this.$3T_4 = value;
        return value;
    },
    
    get_serverOffset: function() {
        return this.$5Y_4;
    },
    
    set_serverOffset: function(value) {
        this.$5Y_4 = value;
        return value;
    },
    
    get_pauseConditionName: function() {
        return this.$5O_4;
    },
    
    set_pauseConditionName: function(value) {
        this.$5O_4 = value;
        return value;
    },
    
    get_pauseConditionValue: function() {
        return this.$5P_4;
    },
    
    set_pauseConditionValue: function(value) {
        this.$5P_4 = value;
        return value;
    },
    
    get_timeRemainingInMilliseconds: function() {
        return this.$7I_4;
    },
    
    set_timeRemainingInMilliseconds: function(value) {
        this.$7I_4 = value;
        return value;
    },
    
    get_formDataEntityId: function() {
        return this.$AS_4;
    },
    
    set_formDataEntityId: function(value) {
        this.$AS_4 = value;
        return value;
    },
    
    $IK_4: function($p0) {
        for (var $$arr_1 = $p0, $$len_2 = $$arr_1.length, $$idx_3 = 0; $$idx_3 < $$len_2; ++$$idx_3) {
            var $v_0 = $$arr_1[$$idx_3];
            if (!IsNull($v_0)) {
                switch ($v_0.Key) {
                    case 'SuccessConditionName':
                        if (!IsNullOrEmptyString($v_0.Value)) {
                            this.$5c_4 = $v_0.Value;
                        }
                        break;
                    case 'SuccessConditionValue':
                        if (!IsNullOrEmptyString($v_0.Value)) {
                            this.$5d_4 = $v_0.Value;
                        }
                        break;
                    case 'FailureConditionName':
                        if (!IsNullOrEmptyString($v_0.Value)) {
                            this.$4y_4 = $v_0.Value;
                        }
                        break;
                    case 'FailureConditionValue':
                        if (!IsNullOrEmptyString($v_0.Value)) {
                            this.$4z_4 = $v_0.Value;
                        }
                        break;
                    case 'FailureTimeField':
                        if (!IsNullOrEmptyString($v_0.Value)) {
                            this.$3E_4 = $v_0.Value;
                        }
                        break;
                    case 'WarningConditionName':
                        if (!IsNullOrEmptyString($v_0.Value)) {
                            this.$5k_4 = $v_0.Value;
                        }
                        break;
                    case 'WarningConditionValue':
                        if (!IsNullOrEmptyString($v_0.Value)) {
                            this.$5l_4 = $v_0.Value;
                        }
                        break;
                    case 'CancelConditionName':
                        if (!IsNullOrEmptyString($v_0.Value)) {
                            this.$4Z_4 = $v_0.Value;
                        }
                        break;
                    case 'CancelConditionValue':
                        if (!IsNullOrEmptyString($v_0.Value)) {
                            this.$4a_4 = $v_0.Value;
                        }
                        break;
                    case 'PauseConditionName':
                        if (!IsNullOrEmptyString($v_0.Value)) {
                            this.$5O_4 = $v_0.Value;
                        }
                        break;
                    case 'PauseConditionValue':
                        if (!IsNullOrEmptyString($v_0.Value)) {
                            this.$5P_4 = $v_0.Value;
                        }
                        break;
                    default:
                        break;
                }
            }
        }
    },
    
    initializeTimerControl: function() {
        this.$GT_4();
    },
    
    $GT_4: function() {
        var $v_0 = window._timeDifferenceInSeconds;
        var $v_1 = window._severOffset;
        var $v_2 = window._serverUtcTimesXml;
        var $v_3 = window._targetRecordId;
        var $v_4 = this.$G_2.$8_1.getPageData().getEntity().getId();
        if (IsNull($v_0) || IsNull($v_1) || IsNull($v_2) || $v_3 !== $v_4) {
            var $v_5 = new RemoteCommand('DateTimeService', 'GetCurrentServerDateTimeInUtc');
            $v_5.SetParameter('entityName', this.$G_2.$8_1.getPageData().getEntity().getEntityName());
            $v_5.SetParameter('entityId', $v_4);
            var $v_6 = $v_5.Execute();
            if ($v_6.Success && $v_6.ReturnValue) {
                var $v_7 = 'Times';
                var $v_8 = XUI.Xml.LoadXml($v_6.ReturnValue);
                var $v_9 = XUI.Xml.SelectSingleNode($v_8, $v_7, null);
                if ($v_9) {
                    var $v_A = this.$5z_4($v_9, 'ServerTime');
                    this.$5Y_4 = Number.parseInvariant(this.$5z_4($v_9, 'Offset').toString());
                    var $v_B = new Date();
                    var $v_C = new Date($v_A);
                    if ($v_C.toString() === 'NaN') {
                        $v_A = this.$5z_4($v_9, 'ServerTimeForIE8');
                        $v_C = new Date($v_A);
                    }
                    this.$3T_4 = Math.floor((Date.parse($v_B.toUTCString()) - Date.parse($v_C.toUTCString())) / 1000);
                    this.$2j_4 = this.$5z_4($v_9, this.$3E_4);
                }
            }
            setGlobalVariable('_timeDifferenceInSeconds', this.$3T_4.toString());
            setGlobalVariable('_severOffset', this.$5Y_4.toString());
            setGlobalVariable('_serverUtcTimesXml', $v_6.ReturnValue);
            setGlobalVariable('_targetRecordId', $v_4);
        }
        else {
            this.$3T_4 = Number.parseInvariant($v_0.toString());
            this.$5Y_4 = Number.parseInvariant($v_1.toString());
            var $v_D = 'Times';
            var $v_E = XUI.Xml.LoadXml($v_2.toString());
            var $v_F = XUI.Xml.SelectSingleNode($v_E, $v_D, null);
            if ($v_F) {
                this.$2j_4 = this.$5z_4($v_F, this.$3E_4);
            }
        }
        this.$FS_4();
        this.$Fc_4();
        this.$FM_4();
    },
    
    $5z_4: function($p0, $p1) {
        var $v_0 = null;
        if (!IsNull($p0)) {
            if ($p0.attributes.getNamedItem($p1)) {
                $v_0 = $p0.attributes.getNamedItem($p1).nodeValue;
            }
        }
        return $v_0;
    },
    
    $FM_4: function() {
        var $v_0 = this.$HF_4();
        $v_0.render();
    },
    
    $Fc_4: function() {
        this.$5m_4(this.$3o_4);
        this.$5m_4(this.$5b_4);
        this.$5m_4(this.$4x_4);
        this.$5m_4(this.$4Y_4);
        this.$5m_4(this.$5j_4);
        this.$5m_4(this.$5N_4);
        if (Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.$z_1 === this.$G_2.$8_1.$z_1) {
            this.$DG_4();
        }
        else {
            this.$DE_4();
        }
    },
    
    $DG_4: function() {
        Mscrm.TurboForm.Control.CommandService.get_instance().addAfterCommandExecutionHandler(1, this.$$d_$Eq_4);
    },
    
    $Ex_4: function() {
        Mscrm.TurboForm.Control.CommandService.get_instance().removeAfterCommandExecutionHandler(1, this.$$d_$Eq_4);
    },
    
    $Eq_4: function($p0) {
        this.$Cf_4();
        this.refresh();
    },
    
    $DE_4: function() {
        var $$t_1 = this;
        this.$2s_4 = function($p1_0) {
            $$t_1.$Cf_4();
            $$t_1.refresh();
        };
        this.$G_2.$8_1.getPageData().getEntity().addOnRecordIdChanged(this.$2s_4, false);
    },
    
    $5m_4: function($p0) {
        if (!IsNull($p0)) {
            var $$t_2 = this;
            $p0.addOnChange(function($p1_0) {
                if (Mscrm.TurboForm.Control.PageManager.get_instance().$L_1.$z_1 !== $$t_2.$G_2.$8_1.$z_1 && $p0 === $$t_2.$3o_4) {
                    $$t_2.$Cf_4();
                }
                $$t_2.refresh();
            });
        }
    },
    
    $Da_4: function($p0) {
        if (!$p0) {
            this.$2q_4 = true;
        }
        else {
            this.$2q_4 = false;
        }
    },
    
    $7T_4: function($p0, $p1) {
        if (!isNullOrEmptyString($p0) && !this.$2q_4) {
            var $v_0 = this.$G_2.$8_1.getPageData().getEntity().getAttributes().getByName($p0);
            $p1.val = $v_0;
            this.$Da_4($p1.val);
            if (!this.$2q_4) {
                var $v_1 = ($p1.val.getUserPrivilege());
                if (!$v_1.canRead) {
                    this.$4E_4 = false;
                }
            }
        }
        return !this.$2q_4 && this.$4E_4;
    },
    
    $Cf_4: function() {
        var $v_0 = new RemoteCommand('DateTimeService', 'RetrieveDateTimeAttributesInUtc');
        $v_0.SetParameter('entityName', this.$G_2.$8_1.getPageData().getEntity().getEntityName());
        $v_0.SetParameter('entityId', this.$G_2.$8_1.getPageData().getEntity().getId());
        var $v_1 = $v_0.Execute();
        if ($v_1.Success && $v_1.ReturnValue) {
            var $v_2 = 'AttributeUtcTimes';
            var $v_3 = XUI.Xml.LoadXml($v_1.ReturnValue);
            var $v_4 = XUI.Xml.SelectSingleNode($v_3, $v_2, null);
            if ($v_4) {
                this.$2j_4 = this.$5z_4($v_4, this.$3E_4);
            }
        }
    },
    
    $GM_4: function() {
        if ((Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.formType === 6)) {
            this.set_isQuickViewForm(true);
        }
        var $v_0 = this.$G_2.$8_1.getPageData().getEntity().getAttributes().getByName(this.$3E_4);
        this.$3o_4 = $v_0;
        this.$Da_4(this.$3o_4);
        if (!this.$2q_4) {
            var $v_1 = this.$3o_4.getUserPrivilege();
            if (!$v_1.canRead) {
                this.$4E_4 = false;
            }
        }
        return !this.$2q_4 && this.$4E_4;
    },
    
    $FS_4: function() {
        this.$4E_4 = true;
        var $$t_0, $$t_1, $$t_2, $$t_3, $$t_4, $$t_5, $$t_6, $$t_7, $$t_8, $$t_9;
        if ((($$t_1 = this.$7T_4(this.$5c_4, ($$t_0 = {'val': this.$5b_4}))), this.$5b_4 = $$t_0.val, $$t_1) && (($$t_3 = this.$7T_4(this.$5k_4, ($$t_2 = {'val': this.$5j_4}))), this.$5j_4 = $$t_2.val, $$t_3) && (($$t_5 = this.$7T_4(this.$4y_4, ($$t_4 = {'val': this.$4x_4}))), this.$4x_4 = $$t_4.val, $$t_5) && (($$t_7 = this.$7T_4(this.$4Z_4, ($$t_6 = {'val': this.$4Y_4}))), this.$4Y_4 = $$t_6.val, $$t_7) && (($$t_9 = this.$7T_4(this.$5O_4, ($$t_8 = {'val': this.$5N_4}))), this.$5N_4 = $$t_8.val, $$t_9) && this.$GM_4()) {
            this.$50_4 = this.$3o_4.getValue();
            if (!IsNull(this.$50_4) && !isNullOrEmptyString(this.$G_2.$8_1.getPageData().getEntity().getId())) {
                this.$LT_4();
            }
        }
    },
    
    $LT_4: function() {
        var $v_0 = new Date();
        $v_0.setMinutes($v_0.getMinutes() + $v_0.getTimezoneOffset());
        var $v_1 = $v_0.toUTCString();
        this.$7I_4 = Date.parse(this.$2j_4) - Date.parse($v_1) + (this.$3T_4 * 1000);
    },
    
    $7g_4: function($p0) {
        return $p0.getValue().toString();
    },
    
    $HF_4: function() {
        if (!this.$4E_4) {
            this.$1H_4 = new Mscrm.TurboForm.Control.View.InlineTimerControlNoPrivilegeView(this);
        }
        else if ((IsNull(this.$50_4) || isNullOrEmptyString(this.$2j_4)) || this.$2q_4) {
            this.$1H_4 = new Mscrm.TurboForm.Control.View.InlineTimerControlNotSetView(this);
        }
        else if (!isNullOrEmptyString(this.$4y_4) && !isNullOrEmptyString(this.$4z_4) && !IsNull(this.$4x_4.getValue()) && this.$4z_4 === this.$7g_4(this.$4x_4)) {
            this.$1H_4 = new Mscrm.TurboForm.Control.View.InlineTimerControlFailureView(this);
        }
        else if (!isNullOrEmptyString(this.$4Z_4) && !isNullOrEmptyString(this.$4a_4) && !IsNull(this.$4Y_4.getValue()) && this.$4a_4 === this.$7g_4(this.$4Y_4)) {
            this.$1H_4 = new Mscrm.TurboForm.Control.View.InlineTimerControlCanceledView(this);
        }
        else if (!isNullOrEmptyString(this.$5c_4) && !isNullOrEmptyString(this.$5d_4) && !IsNull(this.$5b_4.getValue()) && this.$5d_4 === this.$7g_4(this.$5b_4)) {
            this.$1H_4 = new Mscrm.TurboForm.Control.View.InlineTimerControlSuccessView(this);
        }
        else if (!isNullOrEmptyString(this.$5O_4) && !isNullOrEmptyString(this.$5P_4) && !IsNull(this.$5N_4.getValue()) && this.$5P_4 === this.$7g_4(this.$5N_4)) {
            this.$1H_4 = new Mscrm.TurboForm.Control.View.InlineTimerControlPausedView(this);
        }
        else if (this.$7I_4 > 0) {
            if (!isNullOrEmptyString(this.$5k_4) && !isNullOrEmptyString(this.$5l_4) && !IsNull(this.$5j_4.getValue()) && this.$5l_4 === this.$7g_4(this.$5j_4)) {
                this.$1H_4 = new Mscrm.TurboForm.Control.View.InlineTimerControlWarningView(this);
            }
            else {
                this.$1H_4 = new Mscrm.TurboForm.Control.View.InlineTimerControlInProgressView(this);
            }
        }
        else {
            this.$1H_4 = new Mscrm.TurboForm.Control.View.InlineTimerControlViolatedView(this);
        }
        return this.$1H_4;
    },
    
    refresh: function() {
        if (!IsNull(this.$1H_4)) {
            var $v_0 = Xrm.Page.ui;
            if (!IsNull($v_0.controls)) {
                $v_0.controls.remove(this.$1H_4);
            }
            this.$1H_4.dispose();
            this.$1H_4 = null;
        }
        if (!IsNull(this.$3N_4)) {
            this.$3N_4.dispose();
            this.$3N_4 = null;
        }
        this.$FS_4();
        this.$FM_4();
    },
    
    getControlType: function() {
        return 'timercontrol';
    },
    
    getName: function() {
        return this.getKey();
    },
    
    internalDispose: function() {
        if (!this.$G_2.isDisposed && !IsNull(this.$G_2.$8_1) && !this.$G_2.$8_1.isDisposed && !IsNull(this.$G_2.$8_1.getPageData().getEntity()) && !IsNull(this.$2s_4)) {
            this.$G_2.$8_1.getPageData().getEntity().removeOnRecordIdChanged(this.$2s_4);
        }
        setGlobalVariable('_timeDifferenceInSeconds', null);
        setGlobalVariable('_severOffset', null);
        setGlobalVariable('_serverUtcTimesXml', null);
        setGlobalVariable('_targetRecordId', null);
        this.$2s_4 = null;
        this.$Ex_4();
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    }
}


Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty = function(key, propertyType, ownerType, defaultValue, alwaysNotify) {
    Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty.initializeBase(this, [ key, propertyType, ownerType, defaultValue, alwaysNotify ]);
}
Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty.prototype = {
    
    get_$FQ_0: function() {
        return 'Control_' + this.$1D_0;
    },
    
    raisePropertyChanged: function(args) {
        var $v_0 = args.$7_0;
        $v_0.$G_2.$8_1.registerVisiblePropertyChanged($v_0.getKey(), args.$7r_0.$1D_0, args.$7q_0);
    }
}


Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel = function(descriptor, parent, formUI) {
    this.$$d_onLoadHandler = Function.createDelegate(this, this.onLoadHandler);
    this.$$d_$J4_5 = Function.createDelegate(this, this.$J4_5);
    this.$$d_delayedLoadHandler = Function.createDelegate(this, this.delayedLoadHandler);
    Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
    this.$27_5 = null;
    var $v_0 = this.getParent();
    if ($v_0) {
        this.$27_5 = $v_0.getParent();
    }
}
Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.webResourceHtmlControl, Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.$5o);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.webResourceImageControl, Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.$5o);
}
Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.$5o = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.$EX = function($p0) {
    $p0.get_query()['id'] = Xrm.Page.data.entity.getId();
    var $v_0 = Xrm.Page.data.entity.getEntityName();
    $p0.get_query()['typename'] = $v_0;
    $p0.get_query()['type'] = Xrm.Internal.getEntityCode($v_0).toString();
    $p0.get_query()['orgname'] = Xrm.Page.context.getOrgUniqueName();
    $p0.get_query()['OrgLCID'] = Xrm.Page.context.getOrgLcid();
    $p0.get_query()['UserLCID'] = Xrm.Page.context.getUserLcid();
}
Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.prototype = {
    $73_5: null,
    $2N_5: null,
    $6k_5: null,
    $4m_5: null,
    $27_5: null,
    $8F_5: 0,
    
    get_initialUrl: function() {
        return this.$6k_5;
    },
    
    $30_5: false,
    
    get_initialized: function() {
        return this.$30_5;
    },
    
    set_initialized: function(value) {
        this.$30_5 = value;
        return value;
    },
    
    $6L_5: false,
    
    get_sourceChangedAfterInitialized: function() {
        return this.$6L_5;
    },
    
    set_sourceChangedAfterInitialized: function(value) {
        this.$6L_5 = value;
        return value;
    },
    
    $6M_5: false,
    
    get_sourceChangedBeforeInitialized: function() {
        return this.$6M_5;
    },
    
    set_sourceChangedBeforeInitialized: function(value) {
        this.$6M_5 = value;
        return value;
    },
    
    get_currentUrlString: function() {
        var $v_0;
        if (!this.$30_5 && !this.$6M_5) {
            $v_0 = this.GetParameterValue('Url');
        }
        else {
            $v_0 = this.getSrc();
        }
        return $v_0;
    },
    
    initialize: function() {
        if (!IsNull(this.$27_5) && (this.$27_5.getDisplayState() !== 'expanded')) {
            this.$4m_5 = this.$$d_delayedLoadHandler;
            this.$27_5.addTabStateChange(this.$4m_5);
        }
        else {
            this.doInitialize();
        }
        this.$8F_5 = 0;
    },
    
    doInitialize: function() {
        Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.prototype.initialize.call(this);
        this.$FX_5();
        Xrm.Page.data.addOnLoad(this.$$d_$J4_5);
        addHandlerToDomElement(this.getObject(), 'load', this.$$d_onLoadHandler);
        this.$2N_5 = $P_CRM('#' + this.getKey() + '_d');
        this.$30_5 = true;
    },
    
    get_labelContainerElement: function() {
        return this.$2N_5;
    },
    
    set_labelContainerElement: function(value) {
        this.$2N_5 = value;
        return value;
    },
    
    addOnReadyStateComplete: function(handler) {
        this.get_$CS_5().addHandler('OnReadyStateCompleteEvent', handler, false);
    },
    
    removeOnReadyStateComplete: function(handler) {
        this.get_$CS_5().removeHandler('OnReadyStateCompleteEvent', handler);
    },
    
    get_$CS_5: function() {
        if (!this.$73_5) {
            this.$73_5 = new Mscrm.ClientApiEventHandlerList(new Sys.EventHandlerList());
        }
        return this.$73_5;
    },
    
    $FX_5: function() {
        var $v_0 = this.$GJ_5();
        if (!this.$30_5) {
            this.$6k_5 = this.GetParameterValue('Url');
        }
        if ($v_0 !== this.getSrc()) {
            this.setSrc($v_0);
        }
    },
    
    $J4_5: function($p0) {
        this.$FX_5();
        this.$8F_5++;
    },
    
    $GJ_5: function() {
        var $v_0 = this.get_currentUrlString();
        var $v_1 = this.GetParameterValue('PassParameters') === 'true';
        return this.$Hp_5($v_0, $v_1);
    },
    
    $Hp_5: function($p0, $p1) {
        if (IsNull($p0)) {
            $p0 = '';
        }
        if (!$p1 || this.$6L_5) {
            return Mscrm.CrmUri.create($p0).toString();
        }
        var $v_0 = $p0.indexOf('?');
        if ($v_0 === -1) {
            var $v_1 = Mscrm.CrmUri.create($p0);
            Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.$EX($v_1);
            return $v_1.toString();
        }
        else {
            var $v_2 = $p0.substr($v_0);
            var $v_3 = Mscrm.CrmUri.create($v_2);
            Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.$EX($v_3);
            var $v_4 = $p0.substr(0, $v_0);
            var $v_5 = Mscrm.CrmUri.create($v_4);
            $v_5.appendToQuery($v_3.get_queryString());
            return $v_5.toString();
        }
    },
    
    getControlType: function() {
        return 'webresource';
    },
    
    getSrc: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.$Cv);
    },
    
    setSrc: function(source) {
        if (this.$30_5) {
            this.$6L_5 = true;
        }
        else {
            this.$6M_5 = true;
        }
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.$Cv, source);
    },
    
    setVisible: function(visible) {
        Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.prototype.setVisible.call(this, visible);
        var $v_0 = this.$2N_5.parents('table').last();
        if (!IsNull($v_0)) {
            $v_0.css('table-layout', 'auto');
        }
        var $v_1 = $get(this.getKey() + '_c');
        if (!IsNull($v_1)) {
            $v_1.style.display = (visible) ? '' : 'none';
        }
        if (visible) {
            this.$2N_5.show();
            this.get_$BS_5().show();
            this.get_$9C_5().show();
        }
        else {
            this.$2N_5.hide();
            if (isElementAllChildrenHidden(this.get_$BS_5())) {
                this.get_$BS_5().hide();
            }
            if (isElementAllChildrenHidden(this.get_$9C_5())) {
                this.get_$9C_5().hide();
            }
        }
        setUnusedRowsVisibility(this.$2N_5, this.get_$9C_5(), visible);
    },
    
    getObject: function() {
        return $get(this.getKey());
    },
    
    getName: function() {
        return this.getKey();
    },
    
    internalDispose: function() {
        Xrm.Page.data.removeOnLoad(this.$$d_$J4_5);
        var $v_0 = this.getObject();
        removeHandlerFromDomElement($v_0, 'load', this.$$d_onLoadHandler);
        if (!IsNull(this.$27_5)) {
            this.$27_5.removeTabStateChange(this.$4m_5);
            this.$27_5 = null;
        }
        this.$4m_5 = null;
        this.$73_5 = null;
        $v_0.onload=null;
        if ($v_0.tagName.toUpperCase() === 'IFRAME') {
            ($v_0).contentWindow.location.replace(Mscrm.CrmUri.create('/_static/blank.htm').toString());
        }
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    delayedLoadHandler: function(context) {
        this.doInitialize();
        this.$Dm_5();
        if (!IsNull(this.$27_5)) {
            this.$27_5.removeTabStateChange(this.$4m_5);
        }
    },
    
    onLoadHandler: function(evt) {
        if (this.$8F_5 < 2) {
            return;
        }
        this.$Dm_5();
    },
    
    $Dm_5: function() {
        var $v_0 = this.get_$CS_5().getHandler('OnReadyStateCompleteEvent');
        if (!IsNull($v_0)) {
            $v_0(this.$Bu_5(), Sys.EventArgs.Empty);
        }
    },
    
    $Bu_5: function() {
        return Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.createInstance(this);
    },
    
    $6T_5: null,
    
    get_$BS_5: function() {
        if (IsNull(this.$6T_5) || !this.$6T_5.length) {
            this.$6T_5 = this.$2N_5.parents('td').first();
        }
        return this.$6T_5;
    },
    
    $6S_5: null,
    
    get_$9C_5: function() {
        if (IsNull(this.$6S_5) || !this.$6S_5.length) {
            this.$6S_5 = this.$2N_5.parents('tr').first();
        }
        return this.$6S_5;
    }
}


Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
    var $v_0 = this.GetParameterValue('Data');
    this.setData($v_0);
}
Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.webResourceSilverlightControl, Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel.$5o);
}
Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel.$5o = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel.prototype = {
    
    getControlType: function() {
        return 'webresource';
    },
    
    getData: function() {
        return this.getPropertyValue(Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel.$C4);
    },
    
    setData: function(initParams) {
        this.setPropertyValue(Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel.$C4, initParams);
    }
}


Mscrm.TurboForm.Control.ViewModel.SocialInsightControlViewModel = function(descriptor, parent, formUI) {
    Mscrm.TurboForm.Control.ViewModel.SocialInsightControlViewModel.initializeBase(this, [ descriptor, parent, formUI ]);
}
Mscrm.TurboForm.Control.ViewModel.SocialInsightControlViewModel.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewModelBuilder(Mscrm.TurboForm.Common.FormControlClassId.socialInsightControl, Mscrm.TurboForm.Control.ViewModel.SocialInsightControlViewModel.$DX);
}
Mscrm.TurboForm.Control.ViewModel.SocialInsightControlViewModel.$DX = function($p0, $p1, $p2) {
    return new Mscrm.TurboForm.Control.ViewModel.SocialInsightControlViewModel($p0, $p1, $p2);
}
Mscrm.TurboForm.Control.ViewModel.SocialInsightControlViewModel.prototype = {
    
    initializeSocialInsightControl: function() {
        var $v_0 = $get(this.getKey());
        var $v_1 = window.FormType;
        var $v_2 = new Mscrm.SocialInsights.Runtime.Controls.SocialInsightControl($v_0);
        $v_2.set_FormId(this.$G_2.$8_1.$z_1.toString());
        $v_2.set_FormType($v_1);
        $v_2.set_ControlId(this.getKey());
        $v_2.initialize();
    },
    
    getControlType: function() {
        return 'standard';
    },
    
    internalDispose: function() {
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    }
}


Type.registerNamespace('Mscrm.TurboForm.Control.View');

Mscrm.TurboForm.Control.View.IFormatter = function() {}
Mscrm.TurboForm.Control.View.IFormatter.registerInterface('Mscrm.TurboForm.Control.View.IFormatter');


Mscrm.TurboForm.Control.View.DisplayMode = function() {}
Mscrm.TurboForm.Control.View.DisplayMode.prototype = {
    read: 0, 
    edit: 1, 
    editHint: 2
}
Mscrm.TurboForm.Control.View.DisplayMode.registerEnum('Mscrm.TurboForm.Control.View.DisplayMode', false);


Mscrm.TurboForm.Control.View.LinkControlFlyOutType = function() {}
Mscrm.TurboForm.Control.View.LinkControlFlyOutType.prototype = {
    standard: 0, 
    composite: 1, 
    notDefined: 2
}
Mscrm.TurboForm.Control.View.LinkControlFlyOutType.registerEnum('Mscrm.TurboForm.Control.View.LinkControlFlyOutType', false);


Mscrm.TurboForm.Control.View.SecuritySettingTypeForEmail = function() {}
Mscrm.TurboForm.Control.View.SecuritySettingTypeForEmail.prototype = {
    none: 0, 
    warningMessageAndOptionToOpen: 1, 
    warningMessageAndNoOptionToOpen: 2, 
    noWarningMessageAndNoOptionToOpen: 3
}
Mscrm.TurboForm.Control.View.SecuritySettingTypeForEmail.registerEnum('Mscrm.TurboForm.Control.View.SecuritySettingTypeForEmail', false);


Mscrm.TurboForm.Control.View.EmailState = function() {}
Mscrm.TurboForm.Control.View.EmailState.prototype = {
    open: 0, 
    completed: 1, 
    canceled: 2
}
Mscrm.TurboForm.Control.View.EmailState.registerEnum('Mscrm.TurboForm.Control.View.EmailState', false);


Mscrm.TurboForm.Control.View.IControlLayout = function() {}
Mscrm.TurboForm.Control.View.IControlLayout.registerInterface('Mscrm.TurboForm.Control.View.IControlLayout');


Mscrm.TurboForm.Control.View.CheckBoxEditableControlView = function(descriptor) {
    Mscrm.TurboForm.Control.View.CheckBoxEditableControlView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.CheckBoxEditableControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.checkBoxControl, Mscrm.TurboForm.Control.View.CheckBoxEditableControlView.$Fs, false);
}
Mscrm.TurboForm.Control.View.CheckBoxEditableControlView.$Fs = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.CheckBoxEditableControlView($p0);
    $v_0.$T_4 = new Mscrm.TurboForm.Control.View.CheckBoxEditElement($v_0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    return $v_0;
}
Mscrm.TurboForm.Control.View.CheckBoxEditableControlView.prototype = {
    
    onMouseOverHandler: function(evt) {
    },
    
    onFocusHandler: function(evt) {
        if (!this.get_isDisabled()) {
            Sys.UI.DomElement.addCssClass(this.$h_4, 'ms-crm-Inline-EditHintState');
            this.setTabbedAttributeLogicalName();
        }
    },
    
    onBlurHandler: function(evt) {
        if (!this.get_isDisabled()) {
            Sys.UI.DomElement.removeCssClass(this.$h_4, 'ms-crm-Inline-EditHintState');
        }
    },
    
    onMouseOutHandler: function(evt) {
    },
    
    get_mode: function() {
        return Mscrm.TurboForm.Control.View.EditableControlView.prototype.get_mode.call(this);
    },
    
    set_mode: function(value) {
        if (value === 1) {
            Mscrm.TurboForm.Control.View.EditableControlView.prototype.set_mode.call(this, value);
        }
        return value;
    },
    
    onDisplayModeChanged: function() {
    },
    
    onKeyDownHandler: function(evt) {
        if (evt.keyCode === 13) {
            if (!this.get_isDisabled()) {
                this.onEditModeEnterKeyDown(evt);
            }
        }
    },
    
    setDisabled: function(isDisabled) {
        if (this.get_isDisabled() !== isDisabled) {
            Mscrm.TurboForm.Control.View.EditableControlView.prototype.setDisabled.call(this, isDisabled);
            if (!IsNull(XUI.Html.DomUtils.GetFirstChild(this.$h_4))) {
                XUI.Html.DomUtils.GetFirstChild(this.$h_4).disabled = this.get_isDisabled();
            }
        }
    },
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.EditableControlView.prototype.bindInternal.call(this);
        this.$a_3.style.display = 'none';
        this.set_mode(1);
    }
}


Mscrm.TurboForm.Control.View.ContainerView = function(descriptor) {
    this.$7U_3 = new Mscrm.TurboForm.Control.View.ContainerView.IViews();
    Mscrm.TurboForm.Control.View.ContainerView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.ContainerView.prototype = {
    
    get_childViews: function() {
        return this.$7U_3;
    },
    
    addChildView: function(child) {
        this.$7U_3.add(child);
    }
}


Mscrm.TurboForm.Control.View.ContainerView.IViews = function() {
    Mscrm.TurboForm.Control.View.ContainerView.IViews.initializeBase(this);
}


Mscrm.TurboForm.Control.View.ControlViewBase = function(descriptor) {
    Mscrm.TurboForm.Control.View.ControlViewBase.initializeBase(this);
    this.name = descriptor.Id;
}
Mscrm.TurboForm.Control.View.ControlViewBase.prototype = {
    name: null,
    $7h_2: false,
    $6_2: null,
    $4_2: null,
    
    getName: function() {
        return this.name;
    },
    
    getKey: function() {
        return this.getName();
    },
    
    get_associatedViewModel: function() {
        return this.$6_2;
    },
    
    set_associatedViewModel: function(value) {
        this.$6_2 = value;
        return value;
    },
    
    get_associatedDataAttribute: function() {
        return this.$4_2;
    },
    
    set_associatedDataAttribute: function(value) {
        this.$4_2 = value;
        return value;
    },
    
    bind: function() {
        if (this.$7h_2) {
            throw Error.invalidOperation('Control is already bound to DOM');
        }
        this.bindInternal();
        this.$7h_2 = true;
    },
    
    bindInternal: function() {
    },
    
    unbind: function() {
        if (this.$7h_2) {
            this.unbindInternal();
        }
        else {
            Xrm.Internal.trace.warningT(Mscrm.TurboForm.Control.View.ControlViewBase, 'double unbind from DOM');
        }
        this.$7h_2 = false;
    },
    
    unbindInternal: function() {
    },
    
    internalDispose: function() {
        this.unbind();
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    }
}


Mscrm.TurboForm.Control.View.DateFormatter = function() {
}
Mscrm.TurboForm.Control.View.DateFormatter.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.View.DateFormatter.$7)) {
        Mscrm.TurboForm.Control.View.DateFormatter.$7 = new Mscrm.TurboForm.Control.View.DateFormatter();
    }
    return Mscrm.TurboForm.Control.View.DateFormatter.$7;
}
Mscrm.TurboForm.Control.View.DateFormatter.prototype = {
    
    formatValue: function(value, parameters) {
        var $v_0 = window.USER_DATE_FORMATSTRING;
        return Mscrm.DateTimeUtility.formatDate(value, $v_0);
    },
    
    convertFormattedStringToObject: function(value) {
        return Mscrm.DateTimeUtility.parseDate(value, true);
    }
}


Mscrm.TurboForm.Control.View.DecimalFormatter = function() {
}
Mscrm.TurboForm.Control.View.DecimalFormatter.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.View.DecimalFormatter.$7)) {
        Mscrm.TurboForm.Control.View.DecimalFormatter.$7 = new Mscrm.TurboForm.Control.View.DecimalFormatter();
    }
    return Mscrm.TurboForm.Control.View.DecimalFormatter.$7;
}
Mscrm.TurboForm.Control.View.DecimalFormatter.prototype = {
    
    formatValue: function(value, parameters) {
        if (IsNull(value)) {
            return null;
        }
        var $v_0 = 0;
        if (!IsNull(parameters) && !IsNull(parameters['precision'])) {
            $v_0 = parameters['precision'];
        }
        var $v_1 = Mscrm.NumberUtility.locStringToFloat(value.toString());
        var $v_2;
        if (isNaN($v_1)) {
            $v_2 = value.toString();
        }
        else {
            $v_2 = Mscrm.NumberUtility.addFormatting(parseFloat(value.toString()), $v_0, false);
        }
        return $v_2;
    },
    
    convertFormattedStringToObject: function(value) {
        return Mscrm.NumberUtility.locStringToFloat(value);
    }
}


Mscrm.TurboForm.Control.View.DefaultFormatter = function() {
}
Mscrm.TurboForm.Control.View.DefaultFormatter.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.View.DefaultFormatter.$7)) {
        Mscrm.TurboForm.Control.View.DefaultFormatter.$7 = new Mscrm.TurboForm.Control.View.DefaultFormatter();
    }
    return Mscrm.TurboForm.Control.View.DefaultFormatter.$7;
}
Mscrm.TurboForm.Control.View.DefaultFormatter.prototype = {
    
    formatValue: function(value, parameters) {
        if (IsNull(value)) {
            return '';
        }
        return value.toString();
    },
    
    convertFormattedStringToObject: function(value) {
        return value;
    }
}


Mscrm.TurboForm.Control.View.DurationFormatter = function() {
}
Mscrm.TurboForm.Control.View.DurationFormatter.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.View.DurationFormatter.$7)) {
        Mscrm.TurboForm.Control.View.DurationFormatter.$7 = new Mscrm.TurboForm.Control.View.DurationFormatter();
    }
    return Mscrm.TurboForm.Control.View.DurationFormatter.$7;
}
Mscrm.TurboForm.Control.View.DurationFormatter.prototype = {
    
    formatValue: function(value, parameters) {
        var $v_0 = null;
        var $v_1 = 1E-08;
        var $v_2 = value;
        if (!isNaN($v_2)) {
            if ($v_2 < 60) {
                var $v_3 = String.format('{0:N0}', $v_2);
                if (IsNull($v_3) || !$v_3.length) {
                    return null;
                }
                if ($v_2 === 1) {
                    $v_0 = String.format(GetGlobalVariable('LOCID_ONE_MINUTE_MASK').toString(), $v_3);
                }
                else {
                    $v_0 = String.format(GetGlobalVariable('LOCID_N_MINUTES_MASK').toString(), $v_3);
                }
            }
            else if ($v_2 >= 60 && $v_2 < 1440) {
                var $v_4 = $v_2 / 60;
                var $v_5 = String.format('{0:N2}', $v_4);
                if (Math.abs($v_4 % 1) <= $v_1 || Math.abs(($v_4 % 1) - 1) <= $v_1) {
                    $v_5 = String.format('{0:N0}', $v_4);
                }
                if (IsNull($v_5) || !$v_5.length) {
                    return null;
                }
                if ($v_4 === 1) {
                    $v_0 = String.format(GetGlobalVariable('LOCID_ONE_HOUR_MASK').toString(), $v_5);
                }
                else {
                    $v_0 = String.format(GetGlobalVariable('LOCID_N_HOURS_MASK').toString(), $v_5);
                }
            }
            else if ($v_2 >= 1440) {
                var $v_6 = $v_2 / 60;
                var $v_7 = $v_6 / 24;
                var $v_8 = String.format('{0:N2}', $v_7);
                if (Math.abs($v_7 % 1) <= $v_1 || Math.abs(($v_7 % 1) - 1) <= $v_1) {
                    $v_8 = String.format('{0:N0}', $v_7);
                }
                if (IsNull($v_8) || !$v_8.length) {
                    return null;
                }
                if ($v_7 === 1) {
                    $v_0 = String.format(GetGlobalVariable('LOCID_ONE_DAY_MASK').toString(), $v_8);
                }
                else {
                    $v_0 = String.format(GetGlobalVariable('LOCID_N_DAYS_MASK').toString(), $v_8);
                }
            }
        }
        else {
            $v_0 = value.toLocaleString();
        }
        return $v_0;
    },
    
    convertFormattedStringToObject: function(value) {
        var $v_0 = Number.NaN;
        if (IsNull(value)) {
            $v_0 = Number.NaN;
        }
        var $v_1 = value.trim();
        var $v_2 = new RegExp('^' + GetGlobalVariable('LOCID_SINGULAR_MINUTE').toString() + '\\s|\\s' + GetGlobalVariable('LOCID_SINGULAR_MINUTE').toString() + '$|^' + GetGlobalVariable('LOCID_PLURAL_MINUTE').toString() + '\\s|\\s' + GetGlobalVariable('LOCID_PLURAL_MINUTE').toString() + '$');
        var $v_3 = new RegExp('^' + GetGlobalVariable('LOCID_SINGULAR_HOUR').toString() + '\\s|\\s' + GetGlobalVariable('LOCID_SINGULAR_HOUR').toString() + '$|^' + GetGlobalVariable('LOCID_PLURAL_HOUR').toString() + '\\s|\\s' + GetGlobalVariable('LOCID_PLURAL_HOUR').toString() + '$');
        var $v_4 = new RegExp('^' + GetGlobalVariable('LOCID_SINGULAR_DAY').toString() + '\\s|\\s' + GetGlobalVariable('LOCID_SINGULAR_DAY').toString() + '$|^' + GetGlobalVariable('LOCID_PLURAL_DAY').toString() + '\\s|\\s' + GetGlobalVariable('LOCID_PLURAL_DAY').toString() + '$');
        var $v_5 = 0;
        if ($v_2.test($v_1)) {
            $v_1 = $v_1.replace($v_2, '');
            $v_5 = 0;
        }
        else if ($v_3.test($v_1)) {
            $v_1 = $v_1.replace($v_3, '');
            $v_5 = 1;
        }
        else if ($v_4.test($v_1)) {
            $v_1 = $v_1.replace($v_4, '');
            $v_5 = 2;
        }
        else {
            $v_5 = 0;
        }
        $v_1 = $v_1.trim();
        var $v_6 = 0;
        try {
            $v_6 = Number.parseInvariant($v_1);
        }
        catch ($$e_8) {
            $v_0 = Number.NaN;
        }
        switch ($v_5) {
            case 0:
                $v_0 = Math.round($v_6);
                break;
            case 1:
                $v_0 = Math.round($v_6 * 60);
                break;
            case 2:
                $v_0 = Math.round($v_6 * 1440);
                break;
            default:
                $v_0 = Number.NaN;
                break;
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.View.MoneyFormatter = function() {
}
Mscrm.TurboForm.Control.View.MoneyFormatter.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.View.MoneyFormatter.$7)) {
        Mscrm.TurboForm.Control.View.MoneyFormatter.$7 = new Mscrm.TurboForm.Control.View.MoneyFormatter();
    }
    return Mscrm.TurboForm.Control.View.MoneyFormatter.$7;
}
Mscrm.TurboForm.Control.View.MoneyFormatter.prototype = {
    
    formatValue: function(value, parameters) {
        if (IsNull(value)) {
            return null;
        }
        var $v_0 = 0;
        if (!IsNull(parameters) && !IsNull(parameters['precision'])) {
            $v_0 = parameters['precision'];
        }
        var $v_1 = null;
        if (!IsNull(parameters) && !IsNull(parameters['symbol'])) {
            $v_1 = CrmEncodeDecode.CrmHtmlDecode(parameters['symbol']);
        }
        var $v_2 = Mscrm.NumberUtility.locStringToFloat(value.toString());
        var $v_3 = (isNullOrEmptyString($v_1)) ? '' : $v_1;
        var $v_4;
        if (isNaN($v_2)) {
            $v_4 = value.toString();
        }
        else {
            $v_4 = Mscrm.NumberUtility.addFormatting(parseFloat(value.toString()), $v_0, false);
        }
        if (window.SYMBOLPOISTION_CURRENCY) {
            return $v_3 + $v_4;
        }
        else {
            return $v_4 + $v_3;
        }
    },
    
    convertFormattedStringToObject: function(value) {
        var $v_0 = Mscrm.NumberUtility.locStringToFloat(value);
        if (isNaN($v_0)) {
            return value;
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.View.NumberFormatter = function() {
}
Mscrm.TurboForm.Control.View.NumberFormatter.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.View.NumberFormatter.$7)) {
        Mscrm.TurboForm.Control.View.NumberFormatter.$7 = new Mscrm.TurboForm.Control.View.NumberFormatter();
    }
    return Mscrm.TurboForm.Control.View.NumberFormatter.$7;
}
Mscrm.TurboForm.Control.View.NumberFormatter.prototype = {
    
    formatValue: function(value, parameters) {
        if (IsNull(value)) {
            return null;
        }
        var $v_0 = Mscrm.NumberUtility.locStringToInt(value.toString());
        return (isNaN($v_0)) ? value.toString() : Mscrm.NumberUtility.addFormatting($v_0, 0, false);
    },
    
    convertFormattedStringToObject: function(value) {
        return Mscrm.NumberUtility.locStringToInt(value);
    }
}


Mscrm.TurboForm.Control.View.TimeFormatter = function() {
}
Mscrm.TurboForm.Control.View.TimeFormatter.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.View.TimeFormatter.$7)) {
        Mscrm.TurboForm.Control.View.TimeFormatter.$7 = new Mscrm.TurboForm.Control.View.TimeFormatter();
    }
    return Mscrm.TurboForm.Control.View.TimeFormatter.$7;
}
Mscrm.TurboForm.Control.View.TimeFormatter.prototype = {
    
    formatValue: function(value, parameters) {
        return timeToString(value, 0);
    },
    
    convertFormattedStringToObject: function(value) {
        return parseTime(value, 0);
    }
}


Mscrm.TurboForm.Control.View.TextAreaFormatter = function() {
}
Mscrm.TurboForm.Control.View.TextAreaFormatter.get_instance = function() {
    if (IsNull(Mscrm.TurboForm.Control.View.TextAreaFormatter.$7)) {
        Mscrm.TurboForm.Control.View.TextAreaFormatter.$7 = new Mscrm.TurboForm.Control.View.TextAreaFormatter();
    }
    return Mscrm.TurboForm.Control.View.TextAreaFormatter.$7;
}
Mscrm.TurboForm.Control.View.TextAreaFormatter.prototype = {
    
    formatValue: function(value, parameters) {
        var $v_0 = normalizeNewLineForTextArea(value);
        $v_0 = this.$KI_0($v_0);
        return $v_0;
    },
    
    convertFormattedStringToObject: function(value) {
        return value;
    },
    
    $KI_0: function($p0) {
        if (!isNullOrEmptyString($p0)) {
            $p0 = CrmEncodeDecode.CrmHtmlEncode($p0).split('&#13;').join('<br>');
        }
        return $p0;
    }
}


Mscrm.TurboForm.Control.View.ACIView = function(descriptor) {
    Mscrm.TurboForm.Control.View.ACIView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.ACIView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.aciControl, Mscrm.TurboForm.Control.View.ACIView.$DR);
}
Mscrm.TurboForm.Control.View.ACIView.$DR = function($p0) {
    return new Mscrm.TurboForm.Control.View.ACIView($p0);
}
Mscrm.TurboForm.Control.View.ACIView.prototype = {
    $2n_3: null,
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.bindInternal.call(this);
        this.$2n_3 = $get(this.getKey());
    },
    
    unbindInternal: function() {
        this.$2n_3 = null;
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(17)) {
            var $v_0 = (IsNull(propertyBag.getPropertyData(17))) ? '' : propertyBag.getPropertyData(17);
            this.$2n_3.contentWindow.location.replace($v_0);
        }
    }
}


Mscrm.TurboForm.Control.View.EditableControlView = function(descriptor) {
    this.$$d_onKeyDownHandler = Function.createDelegate(this, this.onKeyDownHandler);
    this.$$d_onBlurHandler = Function.createDelegate(this, this.onBlurHandler);
    this.$$d_onFocusHandler = Function.createDelegate(this, this.onFocusHandler);
    this.$$d_$JR_4 = Function.createDelegate(this, this.$JR_4);
    this.$$d_$Iz_4 = Function.createDelegate(this, this.$Iz_4);
    this.$$d_$Jc_4 = Function.createDelegate(this, this.$Jc_4);
    this.$$d_$Jd_4 = Function.createDelegate(this, this.$Jd_4);
    this.$$d_onMouseOutHandler = Function.createDelegate(this, this.onMouseOutHandler);
    this.$$d_onMouseOverHandler = Function.createDelegate(this, this.onMouseOverHandler);
    this.$$d_onRootClick = Function.createDelegate(this, this.onRootClick);
    Mscrm.TurboForm.Control.View.EditableControlView.initializeBase(this, [ descriptor ]);
    this.$A4_4 = this.$$d_onRootClick;
    this.$3z_4 = this.$$d_onMouseOverHandler;
    this.$3y_4 = this.$$d_onMouseOutHandler;
    this.$Ap_4 = this.$$d_$Jd_4;
    this.$Ao_4 = this.$$d_$Jc_4;
    this.$AK_4 = this.$$d_$Iz_4;
    this.$Ag_4 = this.$$d_$JR_4;
    this.$3F_4 = this.$$d_onFocusHandler;
    this.$X_4 = this.$$d_onBlurHandler;
    this.$5H_4 = this.$$d_onKeyDownHandler;
}
Mscrm.TurboForm.Control.View.EditableControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.View.ReadControlView.registerViewBuilders(Mscrm.TurboForm.Control.View.EditableControlView.$Fv, false);
}
Mscrm.TurboForm.Control.View.EditableControlView.get_lastFocusedControlView = function() {
    return Mscrm.TurboForm.Control.View.EditableControlView.$23;
}
Mscrm.TurboForm.Control.View.EditableControlView.set_lastFocusedControlView = function(value) {
    Mscrm.TurboForm.Control.View.EditableControlView.$23 = value;
    return value;
}
Mscrm.TurboForm.Control.View.EditableControlView.$Fv = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.EditableControlView($p0);
    $v_0.$T_4 = Mscrm.TurboForm.Control.View.EditableControlView.buildEditElement($p0, $v_0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    $v_0.$2t_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildRollupValueElement($v_0);
    return $v_0;
}
Mscrm.TurboForm.Control.View.EditableControlView.buildEditElement = function(descriptor, controlView) {
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.dateTimeControl)) {
        return new Mscrm.TurboForm.Control.View.DateTimeEditElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.radioControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.accessPrivilegeControl)) {
        return new Mscrm.TurboForm.Control.View.ToggleEditElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.picklistControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.languagePicker) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.picklistStatusControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.timeZonePicklistControl)) {
        return new Mscrm.TurboForm.Control.View.PicklistEditElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.durationControl)) {
        return new Mscrm.TurboForm.Control.View.DurationEditElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.lookupControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.partyListControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.regardingControl)) {
        var $v_0 = Mscrm.TurboForm.Control.View.EditableControlView.GetParameterValue('lookupstyle', descriptor.Parameters);
        var $v_1 = Mscrm.TurboForm.Control.View.EditableControlView.GetParameterValue('UnboundLookupStyle', descriptor.Parameters);
        var $v_2 = Mscrm.TurboForm.Control.View.EditableControlView.GetParameterValue('ShowAsBreadcrumbControl', descriptor.Parameters);
        if ($v_0 === 'subject' || $v_1 === 'subject') {
            return new Mscrm.TurboForm.Control.View.SubjectLookupEditElement(controlView);
        }
        else if ($v_2 === 'true') {
            return new Mscrm.TurboForm.Control.View.BreadcrumbLookupEditElement(controlView);
        }
        else {
            return new Mscrm.TurboForm.Control.View.LookupEditElement(controlView);
        }
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.moneyControl)) {
        return new Mscrm.TurboForm.Control.View.MoneyEditElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.textAreaControl)) {
        return new Mscrm.TurboForm.Control.View.TextAreaEditElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.editFilterControl)) {
        return new Mscrm.TurboForm.Control.View.EditFilterEditElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.tickerControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.urlControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.phoneNumberControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.emailAddressControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.textBoxControl)) {
        return new Mscrm.TurboForm.Control.View.AutoLookupEditElement(controlView);
    }
    return new Mscrm.TurboForm.Control.View.TextBoxEditElement(controlView);
}
Mscrm.TurboForm.Control.View.EditableControlView.GetParameterValue = function(parameterName, parameterNameValuePair) {
    if (!IsNull(parameterNameValuePair)) {
        for (var $$arr_2 = parameterNameValuePair, $$len_3 = $$arr_2.length, $$idx_4 = 0; $$idx_4 < $$len_3; ++$$idx_4) {
            var $v_0 = $$arr_2[$$idx_4];
            if (!IsNull($v_0) && $v_0.Key === parameterName) {
                return $v_0.Value;
            }
        }
    }
    return '';
}
Mscrm.TurboForm.Control.View.EditableControlView.$Kr = function($p0, $p1) {
    if (!IsNull($p0)) {
        if (isFirefox()) {
             $p0.textContent = $p1;
        }
        else {
            $p0.innerText = $p1;
        }
    }
}
Mscrm.TurboForm.Control.View.EditableControlView.prototype = {
    $T_4: null,
    $h_4: null,
    $A4_4: null,
    $3z_4: null,
    $3y_4: null,
    $Ap_4: null,
    $Ao_4: null,
    $AK_4: null,
    $Ag_4: null,
    $3F_4: null,
    $X_4: null,
    $5H_4: null,
    $i_4: null,
    $2X_4: null,
    $65_4: null,
    $1Y_4: null,
    $4w_4: null,
    
    get_errorMessageFlyOut: function() {
        if (!this.$4w_4) {
            this.$4w_4 = new Mscrm.NotificationFlyout($P_CRM(this.$i_4), $P_CRM(this.$2X_4), $P_CRM(this.$I_3));
        }
        return this.$4w_4;
    },
    
    $62_4: null,
    $W_4: null,
    $2Y_4: null,
    $2x_4: null,
    $7b_4: 0,
    $1I_4: false,
    $5I_4: 0,
    $Ai_4: 0,
    $E_4: null,
    
    get_isDisabled: function() {
        if (IsNull(this.$1I_4)) {
            return false;
        }
        return this.$1I_4;
    },
    
    set_isDisabled: function(value) {
        this.$1I_4 = value;
        return value;
    },
    
    get_lastKeyPressTime: function() {
        return this.$5I_4;
    },
    
    set_lastKeyPressTime: function(value) {
        this.$5I_4 = value;
        return value;
    },
    
    get_editElement: function() {
        return this.$T_4;
    },
    
    set_editElement: function(value) {
        this.$T_4 = value;
        return value;
    },
    
    get_editableContainer: function() {
        return this.$h_4;
    },
    
    set_editableContainer: function(value) {
        this.$h_4 = value;
        return value;
    },
    
    get_mouseOverHandler: function() {
        return this.$3z_4;
    },
    
    set_mouseOverHandler: function(value) {
        this.$3z_4 = value;
        return value;
    },
    
    get_mouseOutHandler: function() {
        return this.$3y_4;
    },
    
    set_mouseOutHandler: function(value) {
        this.$3y_4 = value;
        return value;
    },
    
    get_focusHandler: function() {
        return this.$3F_4;
    },
    
    set_focusHandler: function(value) {
        this.$3F_4 = value;
        return value;
    },
    
    get_blurHandler: function() {
        return this.$X_4;
    },
    
    set_blurHandler: function(value) {
        this.$X_4 = value;
        return value;
    },
    
    get_controlValue: function() {
        return this.$E_4;
    },
    
    set_controlValue: function(value) {
        this.$E_4 = value;
        return value;
    },
    
    get_isCompositeControl: function() {
        if (this.$H_3) {
            return (!IsNull(XUI.Html.DomUtils.GetFirstChild(this.$H_3).getAttribute('compositionlinkcontrolid')));
        }
        else {
            return false;
        }
    },
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ReadControlView.prototype.bindInternal.call(this);
        if (!this.$I_3) {
            return;
        }
        this.$h_4 = XUI.Html.DomUtils.GetChildElementAt(this.$I_3, 1);
        this.$T_4.bind(this.$h_4);
        this.set_controlValue(XUI.Html.DomUtils.GetChildElementAt(this.$a_3, 0));
        if ($v()) {
            this.$62_4 = $get(String.format('{0}_c', this.getKey()));
        }
        else {
            this.$62_4 = $get(String.format('{0}_cl_span', this.getKey()));
        }
        this.$W_4 = $get(String.format('{0}_requiredImage', CrmEncodeDecode.CrmHtmlAttributeEncode(this.getKey())));
        this.$2Y_4 = $get(String.format('{0}_fieldChangeIndicatorImage', CrmEncodeDecode.CrmHtmlAttributeEncode(this.getKey())));
        if (!IsNull(this.$W_4)) {
            this.$W_4.style.position = 'relative';
            XUI.Html.SetFloat(this.$W_4, 'left');
            this.$W_4.style.zIndex = 2;
        }
        this.$i_4 = $get(String.format('{0}_warnSpan', CrmEncodeDecode.CrmHtmlAttributeEncode(this.getKey())));
        this.$2X_4 = $get(String.format('{0}_err', CrmEncodeDecode.CrmHtmlAttributeEncode(this.getKey())));
        if (this.$20_3) {
            this.$20_3.applyEditLayout(this);
        }
        if (!this.get_isCompositeControl()) {
            addHandlerToDomElement(this.$H_3, 'click', this.$A4_4);
            addHandlerToDomElement(this.$H_3, 'keydown', this.$5H_4);
        }
        if (!IsNull(XUI.Html.DomUtils.GetFirstChild(this.$H_3))) {
            addHandlerToDomElement(XUI.Html.DomUtils.GetFirstChild(this.$H_3), 'focus', this.$3F_4);
            addHandlerToDomElement(XUI.Html.DomUtils.GetFirstChild(this.$H_3), 'blur', this.$X_4);
        }
        if (!IsNull(XUI.Html.DomUtils.GetChildElementAt(this.$H_3, 1))) {
            addHandlerToDomElement(XUI.Html.DomUtils.GetChildElementAt(this.$H_3, 1), 'focus', this.$3F_4);
            addHandlerToDomElement(XUI.Html.DomUtils.GetChildElementAt(this.$H_3, 1), 'blur', this.$X_4);
        }
        addHandlerToDomElement(this.$H_3, 'mouseover', this.$3z_4);
        addHandlerToDomElement(this.$H_3, 'mouseout', this.$3y_4);
        if (!Mscrm.InternalUtilities.JSTypes.isNull(this.$1J_3)) {
            addHandlerToDomElement(this.$1J_3, 'click', this.$A4_4);
            addHandlerToDomElement(this.$1J_3, 'mouseover', this.$3z_4);
            addHandlerToDomElement(this.$1J_3, 'mouseout', this.$3y_4);
        }
        if (!Mscrm.InternalUtilities.JSTypes.isNull(this.$i_4)) {
            addHandlerToDomElement(this.$i_4, 'mouseover', this.$Ap_4);
            addHandlerToDomElement(this.$i_4, 'mouseout', this.$Ao_4);
            addHandlerToDomElement(this.$i_4, 'click', this.$AK_4);
            addHandlerToDomElement(this.$i_4, 'keydown', this.$Ag_4);
        }
        if (this.get_isCompositeControl()) {
            (this.$6_2).setDisabled(false);
        }
    },
    
    unbindInternal: function() {
        Mscrm.TurboForm.Control.View.ReadControlView.prototype.unbindInternal.call(this);
        $clearHandlers(this.$i_4);
        this.$T_4.unbind();
        this.$h_4 = null;
        this.$i_4 = null;
        this.$2X_4 = null;
        this.$4w_4 = null;
        this.$65_4 = null;
        this.$W_4 = null;
        this.$62_4 = null;
        if (!IsNull(XUI.Html.DomUtils.GetFirstChild(this.$H_3))) {
            $P_CRM(XUI.Html.DomUtils.GetFirstChild(this.$H_3)).unbind('focus');
            removeHandlerFromDomElement(XUI.Html.DomUtils.GetFirstChild(this.$H_3), 'blur', this.$X_4);
        }
        if (!IsNull(XUI.Html.DomUtils.GetChildElementAt(this.$H_3, 1))) {
            removeHandlerFromDomElement(XUI.Html.DomUtils.GetChildElementAt(this.$H_3, 1), 'blur', this.$X_4);
            removeHandlerFromDomElement(XUI.Html.DomUtils.GetChildElementAt(this.$H_3, 1), 'focus', this.$3F_4);
        }
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.ReadControlView.prototype.update.call(this, propertyBag);
        if (!this.get_controlValue()) {
            return;
        }
        var $v_0 = this.$4_2.getUserPrivilege();
        if (this.$4_2.$6s_2) {
            var $v_2 = $get(String.format('{0}_cl', this.getKey()));
            if (IsNull(this.$2x_4) && !IsNull($v_2) && IsNull($v_2.querySelector('img.ms-crm-Header-Permission-key'))) {
                this.$2x_4 = document.createElement('img');
                this.$2x_4.className = 'ms-crm-Header-Permission-key';
                this.$2x_4.setAttribute('src', Mscrm.CrmUri.create(window.CDNURL + '/_imgs/permission_key.png').toString());
                this.$2x_4.setAttribute('alt', 'Secured');
                this.$2x_4.setAttribute('style', 'vertical-align: bottom; white-space: nowrap;');
                this.$2x_4.id = String.format('{0}_KeyImage', CrmEncodeDecode.CrmHtmlAttributeEncode(this.getKey()));
                $v_2.insertBefore(this.$2x_4, XUI.Html.DomUtils.GetFirstChild($v_2));
            }
            if (!$v_0.canRead) {
                this.$P_3.displaySecuredValue();
            }
        }
        var $v_1 = (this.$6_2).getDisabled();
        if (!this.get_isCompositeControl() && ((this.$4_2.getParent().get_isNew() && !$v_0.canCreate) || (!this.$4_2.getParent().get_isNew() && !$v_0.canUpdate))) {
            $v_1 = true;
        }
        this.setDisabled($v_1);
        if (propertyBag.hasPropertyData(26)) {
            var $v_3 = propertyBag.getPropertyData(26);
            switch ($v_3) {
                case 0:
                    break;
                case 1:
                case 2:
                    this.setDisabled(true);
                    break;
            }
        }
        if (propertyBag.hasPropertyData(15)) {
            this.$65_4 = propertyBag.getPropertyData(15);
            if (propertyBag.hasPropertyData(40)) {
                this.$1Y_4 = propertyBag.getPropertyData(40);
                if (this.$1Y_4 !== 'RECOMMENDATION' && this.$i_4.className !== 'ms-crm-Inline-WarningIcon') {
                    this.$i_4.firstChild.removeAttribute('ms-crm-ImageStrip-inlineedit_alert');
                    this.$i_4.firstChild.setAttribute('class', 'ms-crm-ImageStrip-inlineedit_warning');
                    this.$i_4.setAttribute('tabindex', -1);
                    Sys.UI.DomElement.addCssClass(this.$i_4, 'ms-crm-Inline-WarningIcon');
                    Sys.UI.DomElement.removeCssClass(this.$i_4, 'ms-crm-Inline-RecommendationIcon');
                }
                else if (this.$1Y_4 === 'RECOMMENDATION') {
                    this.$i_4.firstChild.removeAttribute('ms-crm-ImageStrip-inlineedit_warning');
                    this.$i_4.firstChild.setAttribute('class', 'ms-crm-ImageStrip-inlineedit_alert');
                    this.$i_4.setAttribute('tabindex', this.$h_4.parentNode.tabIndex - 5);
                    if (this.$i_4.className !== 'ms-crm-Inline-RecommendationIcon') {
                        Sys.UI.DomElement.addCssClass(this.$i_4, 'ms-crm-Inline-RecommendationIcon');
                        Sys.UI.DomElement.removeCssClass(this.$i_4, 'ms-crm-Inline-WarningIcon');
                    }
                }
            }
            if (IsNullOrEmptyString(this.$65_4)) {
                this.$I1_4();
            }
            else if (this.$4_2.getWarningEnabled()) {
                this.$i_4.setAttribute('role', 'alert');
                this.$i_4.setAttribute('aria-live', 'assertive');
                this.$i_4.setAttribute('aria-atomic', 'true');
                this.$i_4.style.display = 'block';
                if (!IsNull(this.$a_3)) {
                    Sys.UI.DomElement.addCssClass(this.$a_3, 'ms-crm-Inline-HasError');
                }
                if (!IsNull(this.$h_4)) {
                    Sys.UI.DomElement.addCssClass(this.$h_4, 'ms-crm-Inline-HasError');
                    this.$Kd_4(this.$h_4, this.$65_4);
                }
                this.$Kl_4();
            }
        }
        if (propertyBag.hasPropertyData(5)) {
            var $v_4 = propertyBag.getPropertyData(5);
            if (IsNull($v_4) || $v_4 === 'none') {
                this.clearRequiredLevel();
            }
            else if ($v_4 === 'required' || $v_4 === 'systemrequired' || $v_4 === 'recommended') {
                this.setRequiredLevel($v_4);
            }
        }
        if (propertyBag.hasPropertyData(3)) {
            this.focusUpdate(propertyBag);
        }
        this.$T_4.update(propertyBag);
        if (propertyBag.hasPropertyData(6)) {
            var $v_5 = propertyBag.getPropertyData(6);
            var $v_6 = $P_CRM(this.$I_3);
            $v_6.trigger('attribute-changed', [ this.$T_4.getPerceivedEditElementValue($v_5) ]);
        }
        if (!Mscrm.InternalUtilities._Script.isNullOrUndefined(this.$2Y_4) && (Xrm.Internal.isFieldChangeIndicatorEnabled() && this.$4_2.getIsDirty())) {
            this.$2Y_4.style.visibility = 'visible';
            $P_CRM(this.$2Y_4).parent().find('.ms-crm-Inline-Value').addClass('ms-crm-fieldchangeIndicator-spacer');
            $P_CRM(this.$2Y_4).parent().find('.ms-crm-Inline-Edit').addClass('ms-crm-fieldchangeIndicator-spacer');
        }
        else if (!Mscrm.InternalUtilities._Script.isNullOrUndefined(this.$2Y_4)) {
            this.$2Y_4.style.visibility = 'hidden';
            $P_CRM(this.$2Y_4).parent().find('.ms-crm-Inline-Value').removeClass('ms-crm-fieldchangeIndicator-spacer');
            $P_CRM(this.$2Y_4).parent().find('.ms-crm-Inline-Edit').removeClass('ms-crm-fieldchangeIndicator-spacer');
        }
        if (propertyBag.hasPropertyData(37)) {
            this.set_emptyValuePlaceholder(propertyBag.getPropertyData(37));
            if (!IsNull(this.get_emptyValuePlaceholder()) && !IsNullOrEmptyString(this.get_emptyValuePlaceholder().toString()) && IsNull(this.$4_2.getValue())) {
                this.get_controlValue().innerHTML = String.format('{0}<div class=\"ms-crm-Inline-GradientMask\"></div>', CrmEncodeDecode.CrmHtmlEncode(this.get_emptyValuePlaceholder()));
            }
        }
        if (propertyBag.hasPropertyData(36)) {
            var $v_7 = propertyBag.getPropertyData(36);
            if ($v_7) {
                this.$i_4.style.display = 'block';
            }
            else {
                this.$i_4.style.display = 'none';
            }
        }
    },
    
    focusUpdate: function(propertyBag) {
        var $v_0 = propertyBag.getPropertyData(3);
        if (!IsNull($v_0) && $v_0) {
            if (!IsNull(this.$1I_4) && this.$1I_4) {
                this.set_mode(2);
            }
            else {
                this.set_mode(1);
            }
        }
        else if (!IsNull($v_0) && !$v_0) {
            this.set_mode(0);
            this.$T_4.blur();
        }
    },
    
    $I1_4: function() {
        this.$i_4.style.display = 'none';
        if (!IsNull(this.$a_3)) {
            Sys.UI.DomElement.removeCssClass(this.$a_3, 'ms-crm-Inline-HasError');
        }
        if (!IsNull(this.$h_4)) {
            Sys.UI.DomElement.removeCssClass(this.$h_4, 'ms-crm-Inline-HasError');
        }
        this.hideNotificationMessage();
    },
    
    setRequiredLevel: function(requiredLevel) {
        if (Mscrm.InternalUtilities.JSTypes.isNull(this.$62_4) || this.$ER_4()) {
            return;
        }
        if (IsNull(this.$W_4)) {
            this.$W_4 = document.createElement('img');
            this.$W_4.id = String.format('{0}_requiredImage', CrmEncodeDecode.CrmHtmlAttributeEncode(this.getKey()));
            if (requiredLevel === 'required' || requiredLevel === 'systemrequired') {
                this.$W_4.className = 'ms-crm-ImageStrip-frm_required ms-crm-Inline-RequiredLevel';
                this.$W_4.setAttribute('src', Mscrm.CrmUri.create(window.CDNURL + '/_imgs/frm_required.gif').toString());
                this.$W_4.setAttribute('alt', 'Required');
            }
            else if (requiredLevel === 'recommended') {
                this.$W_4.className = 'ms-crm-ImageStrip-frm_recommended ms-crm-Inline-RequiredLevel';
                this.$W_4.setAttribute('src', Mscrm.CrmUri.create('/_imgs/frm_recommended.gif').toString());
                this.$W_4.setAttribute('alt', 'Recommended');
            }
            this.$W_4.style.position = 'relative';
            XUI.Html.SetFloat(this.$W_4, 'left');
            this.$W_4.style.zIndex = 2;
            this.$62_4.appendChild(this.$W_4);
        }
        else {
            switch (requiredLevel) {
                case 'required':
                    this.$W_4.className = 'ms-crm-ImageStrip-frm_required ms-crm-Inline-RequiredLevel';
                    this.$W_4.style.display = 'block';
                    this.$W_4.setAttribute('src', Mscrm.CrmUri.create('/_imgs/frm_required.gif').toString());
                    this.$W_4.setAttribute('alt', 'Required');
                    break;
                case 'recommended':
                    this.$W_4.className = 'ms-crm-ImageStrip-frm_recommended ms-crm-Inline-RequiredLevel';
                    this.$W_4.style.display = 'block';
                    this.$W_4.setAttribute('src', Mscrm.CrmUri.create('/_imgs/frm_recommended.gif').toString());
                    this.$W_4.setAttribute('alt', 'Recommended');
                    break;
            }
        }
    },
    
    clearRequiredLevel: function() {
        if (!IsNull(this.$W_4) && !this.$ER_4()) {
            this.$W_4.style.display = 'none';
            this.$W_4.removeAttribute('alt');
        }
    },
    
    $ER_4: function() {
        if (!IsNull(this.$W_4) && !IsNullOrEmptyString(this.$W_4.className)) {
            return this.$W_4.className.indexOf('processControlRequired') >= 0;
        }
        return false;
    },
    
    $Kl_4: function() {
        if (IsNull(this.$2X_4)) {
            this.$2X_4 = document.createElement('div');
            Sys.UI.DomElement.addCssClass(this.$2X_4, 'ms-crm-Inline-Validation');
            this.$I_3.appendChild(this.$2X_4);
            this.get_errorMessageFlyOut().hideNotifications(false);
        }
    },
    
    $Kd_4: function($p0, $p1) {
        var $v_0 = String.format('{0}_w', CrmEncodeDecode.CrmHtmlAttributeEncode(this.getKey()));
        var $v_1 = $get($v_0);
        if (IsNull($v_1)) {
            $v_1 = document.createElement('span');
            $v_1.setAttribute('id', $v_0);
            $v_1.setAttribute('role', 'tooltip');
            $v_1.style.display = 'none';
            $p0.appendChild($v_1);
        }
        Mscrm.TurboForm.Control.View.EditableControlView.$Kr($v_1, $p1);
    },
    
    hideNotificationMessage: function() {
        if (!IsNull(this.$2X_4)) {
            this.get_errorMessageFlyOut().hideNotifications(false);
            this.$4w_4.dispose();
        }
    },
    
    showNotificationMessage: function() {
        if (!IsNull(this.$2X_4)) {
            var $v_0 = null;
            if (Mscrm.InternalUtilities._String.isNullOrWhiteSpace(this.$1Y_4)) {
                this.$1Y_4 = 'ERROR';
                var $v_1 = new Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotification(this.$1Y_4, this.$65_4);
                $v_0 = new Array(1);
                $v_0[0] = $v_1;
            }
            else {
                var $$t_3 = this;
                $v_0 = (this.$6_2).$24_3.getNotifications(function($p1_0) {
                    return $p1_0.notificationLevel === $$t_3.$1Y_4;
                });
            }
            if (!IsNull($v_0)) {
                this.get_errorMessageFlyOut().showNotifications($v_0);
            }
        }
    },
    
    get_mode: function() {
        return this.$7b_4;
    },
    
    set_mode: function(value) {
        if (this.$7b_4 !== value) {
            if (this.$1I_4 && value === 1) {
                return value;
            }
            else {
                this.$7b_4 = value;
                this.onDisplayModeChanged();
            }
        }
        return value;
    },
    
    changeDisplayModeWithoutFiringChangeEvent: function(mode) {
        this.$7b_4 = mode;
    },
    
    setAlertWarningImage: function(isAlert) {
        var $v_0 = XUI.Html.DomUtils.GetChildElementAt(this.$i_4, 0);
        if (isAlert) {
            if (Sys.UI.DomElement.containsCssClass($v_0, 'ms-crm-ImageStrip-inlineedit_warning')) {
                Sys.UI.DomElement.removeCssClass($v_0, 'ms-crm-ImageStrip-inlineedit_warning');
                Sys.UI.DomElement.addCssClass($v_0, 'ms-crm-ImageStrip-inlineedit_alert');
            }
        }
        else {
            if (Sys.UI.DomElement.containsCssClass($v_0, 'ms-crm-ImageStrip-inlineedit_alert')) {
                Sys.UI.DomElement.removeCssClass($v_0, 'ms-crm-ImageStrip-inlineedit_alert');
                Sys.UI.DomElement.addCssClass($v_0, 'ms-crm-ImageStrip-inlineedit_warning');
            }
        }
    },
    
    setDisabled: function(isDisabled) {
        if ((this.$6_2).$3H_3) {
            this.$1I_4 = isDisabled;
        }
        else {
            this.$1I_4 = isDisabled;
        }
        Mscrm.TurboForm.Control.View.ReadControlView.prototype.setDisabled.call(this, this.$1I_4);
        if (this.$1I_4) {
            this.set_mode(0);
        }
    },
    
    onDisplayModeChanged: function() {
        this.$Ai_4 = (new Date()).getTime();
        switch (this.get_mode()) {
            case 1:
                Sys.UI.DomElement.removeCssClass(this.$a_3, 'ms-crm-Inline-EditHintState');
                this.$a_3.style.display = 'none';
                this.$h_4.style.display = 'block';
                this.$T_4.enterEditMode();
                $P_CRM(this.$h_4).trigger('state-edit');
                Mscrm.TurboForm.Control.View.EditableControlView.$23 = this;
                if ((this.$6_2).hasNotification() && (this.$1Y_4 !== 'RECOMMENDATION')) {
                    this.showNotificationMessage();
                }
                break;
            case 0:
                this.$h_4.style.display = 'none';
                this.onDisplayModeChangedToRead();
                break;
            case 2:
                Mscrm.TurboForm.Control.View.EditableControlView.$23 = this;
                Sys.UI.DomElement.addCssClass(this.$a_3, 'ms-crm-Inline-EditHintState');
                this.hideNotificationMessage();
                break;
        }
    },
    
    onDisplayModeChangedToRead: function() {
        Sys.UI.DomElement.removeCssClass(this.$a_3, 'ms-crm-Inline-EditHintState');
        this.$a_3.style.display = 'block';
        $P_CRM(this.$h_4).trigger('state-read');
        if (this.$1Y_4 !== 'RECOMMENDATION') {
            this.hideNotificationMessage();
        }
    },
    
    onRootClick: function(domEvent) {
        if (Mscrm.Utilities.isIE()) {
            if (domEvent.target.nodeName.toLocaleLowerCase() === 'label') {
                domEvent.preventDefault();
            }
        }
        var $v_0 = domEvent.target.className === 'ms-crm-Inline-RecommendationApply' || domEvent.target.className === 'ms-crm-Inline-RecommendationDismiss';
        this.set_mode(($v_0) ? 2 : 1);
    },
    
    onFocusHandler: function(evt) {
        if (this.$T_4.$4N_1) {
            this.$T_4.$4N_1 = false;
            this.set_mode(2);
            return;
        }
        var $v_0 = (new Date()).getTime() - this.$Ai_4;
        if ($v_0 < 50) {
            return;
        }
        if ((Mscrm.TabTypeHelper.isTabPressed() || this.isQuickCreateAndParentWindowTabPressed()) && (!Mscrm.TabTypeHelper.get_isTabCommit() || (Mscrm.TabTypeHelper.get_isTabCommit() && this.$1I_4)) || this.get_isCompositeControl()) {
            this.set_mode(2);
            return;
        }
        else if ((Mscrm.TabTypeHelper.get_tabbedAttributeLogicalName() !== this.getKey() || this.isQuickCreateAndParentWindowTabPressed()) && !this.$1I_4) {
            this.set_mode(1);
            this.setTabbedAttributeLogicalName();
        }
        else {
            this.set_mode(2);
        }
        if (!IsNull(this.$4_2.getUserPrivilege()) && !this.$4_2.getUserPrivilege().canRead) {
            this.$P_3.displaySecuredValue();
        }
    },
    
    onBlurHandler: function(evt) {
        if (this.get_mode() === 2) {
            this.set_mode(0);
        }
        if (!IsNull(this.$4_2.getUserPrivilege()) && !this.$4_2.getUserPrivilege().canRead) {
            this.$P_3.displaySecuredValue();
        }
    },
    
    onKeyDownHandler: function(evt) {
        this.$5I_4 = (new Date()).getTime();
        if (evt.keyCode === 9) {
            if (this.get_mode() === 1) {
                Mscrm.TabTypeHelper.set_isTabCommit(true);
                Mscrm.TabTypeHelper.set_tabbedAttributeLogicalName(this.getKey());
                if (((this.getKey() === 'customerLookup') || (this.getKey() === 'subject_id'))) {
                    if (!(Mscrm.Utilities.isIE())) {
                        this.revertFocusBackToValueContainer();
                    }
                }
                else {
                    if (this.$4_2.getKey().toLowerCase() !== 'datetime') {
                        this.revertFocusBackToValueContainer();
                    }
                }
            }
            this.changeToReadModeOnTabOut();
        }
        else if (evt.keyCode === 13) {
            if (this.get_mode() === 2 && !this.$1I_4) {
                this.set_mode(1);
            }
            else if (this.get_mode() === 1) {
                this.onEditModeEnterKeyDown(evt);
            }
        }
        else if (evt.keyCode === 27) {
            if (this.get_mode() === 1) {
                this.onEditModeEscKeyDown(evt);
            }
        }
        if (evt.ctrlKey) {
            if (evt.keyCode === 13) {
                this.$T_4.onControlEnter(evt);
            }
        }
    },
    
    changeToReadModeOnTabOut: function() {
        this.set_mode(0);
    },
    
    onMouseOverHandler: function(evt) {
        if ((!this.$4_2.getParent().$K_1.$1i_1) && ((new Date()).getTime() - this.$5I_4) > 300) {
            Sys.UI.DomElement.addCssClass(this.$a_3, 'ms-crm-Inline-EditHintState');
        }
    },
    
    onMouseOutHandler: function(evt) {
        Sys.UI.DomElement.removeCssClass(this.$a_3, 'ms-crm-Inline-EditHintState');
    },
    
    $Jd_4: function($p0) {
        if (this.$1Y_4 !== 'RECOMMENDATION') {
            this.showNotificationMessage();
        }
    },
    
    $Jc_4: function($p0) {
        if (this.$1Y_4 !== 'RECOMMENDATION') {
            this.hideNotificationMessage();
        }
    },
    
    $Iz_4: function($p0) {
        if (this.$1Y_4 === 'RECOMMENDATION') {
            this.set_mode(0);
            this.showNotificationMessage();
            $p0.stopPropagation();
        }
    },
    
    $JR_4: function($p0) {
        if (this.$1Y_4 === 'RECOMMENDATION') {
            if ($p0.keyCode === 13) {
                this.showNotificationMessage();
                $p0.stopPropagation();
            }
        }
    },
    
    onEditModeEnterKeyDown: function(evt) {
        this.$T_4.onEditModeEnterKeyDown();
    },
    
    onEditModeEscKeyDown: function(keyEvent) {
        this.$T_4.onEditModeEscKeyDown(keyEvent);
    },
    
    revertFocusBackToValueContainer: function() {
        if (!IsNull(XUI.Html.DomUtils.GetFirstChild(this.$H_3))) {
            $P_CRM(XUI.Html.DomUtils.GetFirstChild(this.$H_3)).focus();
        }
    },
    
    isQuickCreateAndParentWindowTabPressed: function() {
        return isGlobalQuickCreate() && Mscrm.TabTypeHelper.isParentWindowTabPressed();
    },
    
    setTabbedAttributeLogicalName: function() {
        if (Mscrm.TabTypeHelper.isTabPressed() || this.isQuickCreateAndParentWindowTabPressed()) {
            Mscrm.TabTypeHelper.set_tabbedAttributeLogicalName(this.getKey());
        }
    },
    
    updateUI: function(keepFocus) {
        var $v_0 = this.$6_2;
        Mscrm.TurboForm.Control.PageManager.get_instance().startUIUpdate();
        this.$T_4.set_hasBlurCompleted(false);
        $v_0.blur();
        if (!IsNull(this.$T_4)) {
            this.$T_4.commitUpdatedValue(this);
        }
        var $v_1 = 0;
        var $$t_3 = this;
        $v_1 = window.setInterval(function() {
            if ($$t_3.$T_4.get_hasBlurCompleted()) {
                window.clearInterval($v_1);
                Mscrm.TurboForm.Control.PageManager.get_instance().finishUIUpdate();
                if (keepFocus && !$v_0.getDisabled()) {
                    $v_0.setFocus();
                }
            }
        }, 10);
    }
}


Mscrm.TurboForm.Control.View.EmailEditableControlView = function(descriptor) {
    this.$$d_$Kk_5 = Function.createDelegate(this, this.$Kk_5);
    Mscrm.TurboForm.Control.View.EmailEditableControlView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.EmailEditableControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailBodyControl, Mscrm.TurboForm.Control.View.EmailEditableControlView.$Fx);
}
Mscrm.TurboForm.Control.View.EmailEditableControlView.$Fx = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.EmailEditableControlView($p0);
    $v_0.$T_4 = Mscrm.TurboForm.Control.View.EmailEditableControlView.$Fy($v_0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    return $v_0;
}
Mscrm.TurboForm.Control.View.EmailEditableControlView.$Fy = function($p0) {
    return new Mscrm.TurboForm.Control.View.EmailBodyEditElement($p0);
}
Mscrm.TurboForm.Control.View.EmailEditableControlView.prototype = {
    $CL_5: 84,
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.EditableControlView.prototype.bindInternal.call(this);
        this.$6_2.$G_2.addOnLoadInternal(this.$$d_$Kk_5);
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.EditableControlView.prototype.update.call(this, propertyBag);
        this.$I_3.title = window.LOCID_EMAIL_BODY_TOOLTIP;
        this.$H_3.title = window.LOCID_EMAIL_BODY_TOOLTIP;
        this.$P_3.update(propertyBag);
    },
    
    $Kk_5: function($p0) {
        var $v_0 = (this.$4_2.getParent()).getAttributes().get('statecode');
        if (!IsNull($v_0)) {
            var $v_1 = parseInt($v_0.getValue().toString());
            if ($v_1 === 0) {
                this.set_mode(1);
            }
        }
    },
    
    onFocusHandler: function(evt) {
    },
    
    changeToReadModeOnTabOut: function() {
    },
    
    onRootClick: function(domEvent) {
    },
    
    focusUpdate: function(propertyBag) {
    },
    
    onDisplayModeChangedToRead: function() {
        Mscrm.TurboForm.Control.View.EditableControlView.prototype.onDisplayModeChangedToRead.call(this);
        this.$a_3.style.display = 'inline';
        if (document.querySelector('[id$=\'email_descriptionIFrame\']')) {
            var $v_0 = document.querySelector('[id$=\'email_descriptionIFrame\']');
            var $v_1 = $v_0.parentNode.offsetHeight;
            if ((Mscrm.Utilities.isEdge() || Mscrm.Utilities.isIE() || Mscrm.Utilities.isFirefox()) && $v_1 > this.$CL_5) {
                $v_0.style.height = this.$CL_5 + 'px';
            }
            else {
                $v_0.style.height = $v_1 + 'px';
            }
            var $v_2 = '#' + $v_0.className + ' ' + 'ms-crm-Inline-GradientMask';
            $P_CRM($v_2).remove();
        }
    },
    
    onMouseOverHandler: function(evt) {
    }
}


Mscrm.TurboForm.Control.View.BreadcrumbLookupEditElement = function(controlView) {
    Mscrm.TurboForm.Control.View.BreadcrumbLookupEditElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.BreadcrumbLookupEditElement.prototype = {
    $F_3: null,
    
    bind: function(container) {
        Mscrm.TurboForm.Control.View.LookupEditElement.prototype.bind.call(this, container);
        this.$F_3 = container;
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.LookupEditElement.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(6)) {
            if (!this.$1_1.$4_2.getParent().get_isNew()) {
                var $v_0 = new Mscrm.BreadCrumbUIRenderer();
                $v_0.renderBreadCrumbControl(this.$F_3);
            }
        }
    }
}


Mscrm.TurboForm.Control.View.CheckBoxEditElement = function(controlView) {
    this.$$d_$3e_2 = Function.createDelegate(this, this.$3e_2);
    Mscrm.TurboForm.Control.View.CheckBoxEditElement.initializeBase(this, [ controlView ]);
    this.$5K_2 = this.$$d_$3e_2;
}
Mscrm.TurboForm.Control.View.CheckBoxEditElement.prototype = {
    $7S_2: null,
    $5K_2: null,
    
    $3e_2: function($p0) {
        var $v_0 = this.getRawReadValue(((this.get_checkBoxElement()).checked) ? '1' : '0');
        if ($v()) {
            $v_0 = Mscrm.Utilities.parseInt(this.get_checkBoxElement().value);
            (this.get_checkBoxElement()).checked = !!$v_0;
        }
        this.$1_1.$4_2.setValue($v_0, this.$1_1.getKey());
    },
    
    bind: function(container) {
        if ($v()) {
            container.style.display = 'block';
        }
        else {
            container.style.display = 'inline-block';
        }
        this.$7S_2 = XUI.Html.DomUtils.GetChildElementAt(container, 0);
        addHandlerToDomElement(this.get_checkBoxElement(), 'change', this.$5K_2);
    },
    
    get_checkBoxElement: function() {
        if (!this.$7S_2) {
            this.$7S_2 = $get(String.format('{0}_i', this.$1_1.getKey()));
        }
        return this.$7S_2;
    },
    
    unbind: function() {
        $clearHandlers(this.get_checkBoxElement());
    },
    
    enterEditMode: function() {
        this.get_checkBoxElement().focus();
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(6)) {
            this.$2E_2(propertyBag.getPropertyData(6));
        }
    },
    
    $2E_2: function($p0) {
        $p0 = (IsNull($p0)) ? '' : $p0;
        this.get_checkBoxElement().value = $p0.toString();
        (this.get_checkBoxElement()).checked = Mscrm.Utilities.parseBoolean($p0);
    },
    
    onEditModeEnterKeyDown: function() {
        this.get_checkBoxElement().click();
    }
}


Mscrm.TurboForm.Control.View.DateTimeEditElement = function(controlView) {
    this.$$d_$JJ_2 = Function.createDelegate(this, this.$JJ_2);
    this.$$d_$JK_2 = Function.createDelegate(this, this.$JK_2);
    this.$$d_$JM_2 = Function.createDelegate(this, this.$JM_2);
    this.$$d_$EF_2 = Function.createDelegate(this, this.$EF_2);
    this.$$d_$Em_2 = Function.createDelegate(this, this.$Em_2);
    this.$$d_$Iu_2 = Function.createDelegate(this, this.$Iu_2);
    this.$$d_$Ir_2 = Function.createDelegate(this, this.$Ir_2);
    this.$$d_onBlur = Function.createDelegate(this, this.onBlur);
    this.$$d_$Hu_2 = Function.createDelegate(this, this.$Hu_2);
    this.$$d_$Is_2 = Function.createDelegate(this, this.$Is_2);
    this.$$d_$Ek_2 = Function.createDelegate(this, this.$Ek_2);
    this.$$d_$Iy_2 = Function.createDelegate(this, this.$Iy_2);
    this.$$d_$3e_2 = Function.createDelegate(this, this.$3e_2);
    Mscrm.TurboForm.Control.View.DateTimeEditElement.initializeBase(this, [ controlView ]);
    this.$2M_2 = true;
    this.$1h_2 = true;
    this.$AG_2 = true;
    this.$8U_2 = true;
    this.$1U_1 = Mscrm.TurboForm.Control.View.DateFormatter.get_instance();
    this.$5K_2 = this.$$d_$3e_2;
    this.$Aq_2 = this.$$d_$Iy_2;
    this.$2Q_2 = this.$$d_$Ek_2;
}
Mscrm.TurboForm.Control.View.DateTimeEditElement.optimizeTimeForMobile = function(dialog) {
    var $v_0 = 302;
    var $v_1 = 402;
    var $v_2 = 44;
    var $v_3 = dialog.get_container();
    var $v_4 = ($P_CRM(window).width() / 2) - $v_0 / 2;
    var $v_5 = ($P_CRM(window).height() / 2) - $v_1 / 2;
    if ($v_5 < $v_2) {
        $v_5 = $v_2;
    }
    $v_4 = ($v_4 < 0) ? 0 : $v_4;
    $v_5 = ($v_5 < 0) ? 0 : $v_5;
    $v_3.style.position = 'absolute';
    $v_3.style.top = $v_5.toString() + 'px';
    $v_3.style.left = $v_4.toString() + 'px';
    $v_3.style.height = '400px';
    $v_3.style.width = '300px';
    var $v_6 = XUI.Html.DomUtils.GetFirstChild($v_3);
    $v_6.style.height = '400px';
    $v_6.style.width = '300px';
    if ($P_CRM('body').hasClass('androidStatic')) {
        $v_5 = $P_CRM(window).scrollTop();
        $v_3.style.top = $v_5.toString() + 'px';
        $P_CRM('body div.ms-crm-Floating-Div').height($P_CRM('#crmForm').height() + $v_2);
    }
}
Mscrm.TurboForm.Control.View.DateTimeEditElement.prototype = {
    $6Y_2: null,
    $7H_2: null,
    $82_2: null,
    $1O_2: null,
    $f_2: null,
    $6R_2: null,
    $AG_2: false,
    $5K_2: null,
    $8U_2: false,
    $Aq_2: null,
    $1h_2: false,
    $2M_2: false,
    $2Q_2: null,
    $5R_2: 121,
    $6O_2: false,
    $5M_2: false,
    $39_2: '',
    $7C_2: false,
    $o_2: null,
    $S_2: null,
    $49_2: null,
    $A_2: null,
    $R_2: null,
    $3G_2: null,
    $6b_2: null,
    
    get_dateInput: function() {
        if (!this.$6Y_2) {
            var $v_0 = String.format('{0}_iDateInput', this.$1_1.getKey());
            this.$6Y_2 = $get($v_0);
        }
        return this.$6Y_2;
    },
    
    get_$1Z_2: function() {
        return this.$S_2.getElementsByTagName('tr');
    },
    
    get_$En_2: function() {
        return this.get_$1Z_2().length;
    },
    
    get_$Cq_2: function() {
        return this.$49_2.getElementsByTagName('tr');
    },
    
    get_$5r_2: function() {
        var $v_0 = this.get_$Cq_2()[0];
        var $v_1 = XUI.Html.DomUtils.GetFirstChild($v_0.getElementsByTagName('td')[1]);
        return this.$A_2.clientWidth + $v_1.clientWidth;
    },
    
    get_timeInput: function() {
        if (!this.$7H_2) {
            var $v_0 = String.format('{0}_iTimeInput', this.$1_1.getKey());
            this.$7H_2 = $get($v_0);
        }
        return this.$7H_2;
    },
    
    get_isDateValid: function() {
        return this.$1h_2;
    },
    
    $Ek_2: function($p0) {
        if (this.isDisposed || IsNull($p0)) {
            return;
        }
        if (!IsNull(this.$9Z_2($p0)) && !this.$9Z_2($p0)) {
            this.$7C_2 = false;
            Mscrm.TabTypeHelper.disableTabTyping();
            this.confirm();
            this.$1_1.set_mode(0);
            $p0.stopPropagation();
        }
    },
    
    $3e_2: function($p0) {
        this.$Jq_2();
        this.$A6_2();
        if (this.$1h_2 && this.$2M_2 && !IsNull(this.get_timeInput()) && !this.get_timeInput().disabled) {
            this.get_timeInput().focus();
        }
        else {
            this.$1_1.set_mode(1);
            this.$1_1.$I_3.focus();
        }
        $p0.stopPropagation();
    },
    
    blur: function() {
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.blur.call(this);
        this.get_dateInput().blur();
        if (this.get_timeInput()) {
            this.get_timeInput().blur();
        }
    },
    
    $A6_2: function() {
        if (this.$1h_2 && this.$2M_2) {
            (this.$1_1.$4_2).$3C_3 = null;
            this.$1_1.$4_2.setValue(this.$o_2, this.$1_1.getKey());
            this.$o_2 = this.$1_1.$4_2.getValue();
        }
        else {
            this.$Bw_2();
            if (this.$1_1.$4_2.getUserPrivilege().canRead) {
                if (this.$11_1 === 'datetime' && !IsNull(this.get_timeInput()) && !isNullOrEmptyString(this.get_dateInput().value) && !isNullOrEmptyString(this.get_timeInput().value)) {
                    var $v_0 = this.get_dateInput().value + ' ' + this.get_timeInput().value;
                    (this.$1_1.$4_2).$3C_3 = $v_0;
                    this.$1_1.$P_3.setValue($v_0);
                }
                else {
                    (this.$1_1.$4_2).$3C_3 = this.get_dateInput().value;
                    this.$1_1.$P_3.setValue(this.get_dateInput().value);
                }
            }
        }
    },
    
    $Iy_2: function($p0) {
        this.get_dateInput().focus();
        var $v_0 = this.getRawReadValue(this.get_dateInput().value);
        if (IsNull($v_0)) {
            $v_0 = Mscrm.DateTimeUtility.localDateTimeNow();
        }
        var $v_1 = window.USER_DATE_FORMATSTRING;
        var $v_2 = window.USER_DATE_SEPARATOR;
        var $v_3 = window.ORG_DATE_START_DAY;
        InitCalendar($v_1, $v_2, $v_3, null, null);
        LaunchCalendar(this.$82_2, this.get_dateInput(), $v_0, 1, false, null, null, window.HILITE_DAY, $v_0, false);
        $p0.stopPropagation();
    },
    
    onBlur: function(eventObject) {
        if (this.$6O_2) {
            this.$El_2();
            if (this.$A_2.value !== this.$A_2.getAttribute('oldDisplayValue')) {
                this.$Li_2(eventObject);
            }
            this.$A6_2();
        }
    },
    
    $JM_2: function($p0) {
        var $v_0 = this.$f_2.getAttribute('allowValueEdit');
        if (!IsNull($v_0) && $v_0.toUpperCase() === 'TRUE') {
            this.$S_2.style.MozUserSelect = '';
        }
        else {
            this.$S_2.style.MozUserSelect = 'none';
            $p0.preventDefault();
        }
    },
    
    $JK_2: function($p0) {
        var $v_0 = this.$49_2.parentNode;
        var $v_1 = $v_0.getAttribute('allowValueEdit');
        if (!$v_1) {
            this.$A_2.style.backgroundColor = '#abc0e7';
        }
    },
    
    $JJ_2: function($p0) {
        Sys.UI.DomElement.removeCssClass(this.$A_2, 'ms-crm-select-date');
        this.$A_2.style.backgroundColor = this.$39_2;
    },
    
    $Ir_2: function($p0) {
        this.$7C_2 = true;
    },
    
    $Is_2: function($p0) {
        if (!this.$7C_2) {
            return;
        }
        this.$FE_2();
        if (this.$A_2.disabled || (this.$6O_2 && $p0.target.tagName.toUpperCase() === 'INPUT')) {
            return;
        }
        this.$A_2.focus();
        if (this.$5M_2) {
            this.$R_2.hide();
        }
        else {
            this.$FK_2();
        }
    },
    
    $Li_2: function($p0) {
        this.$A_2.setAttribute('returnValue', this.$A_2.value || '');
        this.$A_2.setAttribute('oldDisplayValue', this.$A_2.value);
        var $v_0 = this.$Bt_2(this.$A_2.getAttribute('returnValue'));
        this.$A_2.setAttribute('rowNum', $v_0);
    },
    
    $LG_2: function($p0) {
        if (this.$5M_2) {
            this.$A_2.focus();
            this.$9S_2();
        }
    },
    
    $Iu_2: function($p0) {
        var $v_0 = $p0.target.parentNode;
        if ($v_0.tagName.toUpperCase() === 'TR') {
            var $v_1 = this.$A_2.getAttribute('rowNum');
            this.$2z_2($v_0, this.get_$1Z_2()[$v_1], false);
            this.$A_2.setAttribute('rowNum', $v_0.rowIndex);
        }
    },
    
    $Em_2: function($p0) {
        $p0.preventDefault();
    },
    
    $EF_2: function($p0) {
        var $v_0 = $p0.target.parentNode;
        var $v_1 = $v_0.rowIndex;
        if ($v_1 >= 0) {
            this.$A_2.setAttribute('rowNum', $v_1);
            this.$FI_2(this.$A_2.getAttribute('rowNum'));
            this.$9S_2();
            this.$1_1.set_mode(0);
        }
    },
    
    $Hu_2: function($p0) {
        this.$FE_2();
        var $v_0 = $p0.keyCode;
        if ($v_0 === 9) {
            this.$LG_2($p0);
            return;
        }
        switch ($v_0) {
            case 38:
            case 40:
            case 13:
                this.$C2_2();
                if (!this.$5M_2) {
                    this.$Cr_2();
                }
                if ($v_0 !== 13 && $p0.altKey) {
                    if (this.$R_2.get_isVisible()) {
                        this.$9S_2();
                    }
                    else {
                        this.$FK_2();
                    }
                    return;
                }
                break;
            default:
                return;
        }
        var $v_1 = false;
        if (this.$6O_2) {
            if (this.$A_2.value !== this.$A_2.getAttribute('oldDisplayValue')) {
                var $v_2 = this.$HK_2(this.$A_2.value);
                this.$A_2.setAttribute('rowNum', $v_2);
                this.$A_2.setAttribute('returnValue', this.$A_2.value);
                $v_1 = true;
                var $v_3 = this.$A_2.getAttribute('oldDisplayValue');
                this.$A_2.value = (IsNull($v_3)) ? '' : $v_3;
                if (!this.$A_2.disabled && !this.$IZ_2(this.$A_2)) {
                    try {
                        this.$A_2.focus();
                    }
                    catch ($$e_5) {
                    }
                }
            }
        }
        switch ($v_0) {
            case 38:
                this.$EC_2(true);
                break;
            case 40:
                this.$EC_2(false);
                break;
            case 13:
                this.$9S_2();
                this.$A6_2();
                if ($v_1) {
                    XUI.Html.DispatchDomEvent(this.$A_2, XUI.Html.CreateDomEvent('change'));
                }
                break;
        }
        $p0.preventDefault();
    },
    
    confirm: function() {
        this.$El_2();
        this.$A6_2();
        this.$AA_2();
    },
    
    bind: function(container) {
        this.$1O_2 = container;
        var $v_0 = String.format('{0}_iTime', this.$1_1.getKey());
        this.$f_2 = container.ownerDocument.getElementById($v_0);
        var $v_1 = String.format('{0}_iimg', this.$1_1.getKey());
        this.$6R_2 = container.ownerDocument.getElementById($v_1);
        var $v_2 = String.format('{0}_iCalContainer', this.$1_1.getKey());
        this.$82_2 = container.ownerDocument.getElementById($v_2);
        addHandlerToDomElement(this.get_dateInput(), 'change', this.$5K_2);
        addHandlerToDomElement(this.$6R_2, 'click', this.$Aq_2);
        if (!IsNull(this.get_timeInput())) {
            addHandlerToDomElement(this.$f_2, 'mouseup', this.$$d_$Is_2);
            addHandlerToDomElement(this.$f_2, 'keydown', this.$$d_$Hu_2);
            addHandlerToDomElement(this.$f_2, 'blur', this.$$d_onBlur);
            addHandlerToDomElement(this.$f_2, 'mousedown', this.$$d_$Ir_2);
            addHandlerToDomElement(this.$f_2, 'change', this.$$d_onBlur);
            var $v_3 = false;
            this.$6O_2 = Mscrm.Utilities.parseBoolean(this.$f_2.getAttribute('allowValueEdit').toString());
            try {
                var $v_4 = this.$f_2.parentNode.parentNode.parentNode.parentNode.parentNode;
                if ($v_4.className === 'ms-crm-DateTime') {
                    var $v_5 = $v_4.getAttribute('initialDisableInit');
                    if (!IsNull($v_5) && ($v_5).toLowerCase() === 'true') {
                        $v_3 = true;
                    }
                }
            }
            catch ($$e_7) {
            }
            this.$39_2 = CrmEncodeDecode.CrmHtmlAttributeEncode(this.$f_2.getAttribute('defaultbgcolor'));
            if (IsNull(this.$39_2)) {
                this.$39_2 = '';
            }
            this.$6b_2 = CrmEncodeDecode.CrmHtmlAttributeEncode(this.$f_2.getAttribute('dropdownfontsize'));
            if (IsNull(this.$6b_2)) {
                this.$6b_2 = '11';
            }
            if ($v_3) {
                return;
            }
            this.$Jv_2();
            if (this.$f_2.disabled) {
                this.$5w_2(true);
            }
            if (!IsNull(this.$f_2.getAttribute('setdisabled'))) {
                this.$5w_2(true);
            }
        }
    },
    
    unbind: function() {
        try {
            this.$AA_2();
            ResetVars();
            if (!IsNull(this.$f_2)) {
                $clearHandlers(this.$f_2);
            }
            $clearHandlers(this.$6R_2);
            $clearHandlers(this.get_dateInput());
            if (!IsNull(this.$A_2)) {
                $clearHandlers(this.$A_2);
                this.$A_2 = null;
            }
            if (!IsNull(this.$3G_2)) {
                $clearHandlers(this.$3G_2);
                this.$3G_2 = null;
            }
            if (!IsNull(this.$S_2)) {
                $clearHandlers(this.$S_2);
                this.$S_2 = null;
            }
            if (!IsNull(this.$49_2)) {
                $clearHandlers(this.$49_2);
                this.$49_2 = null;
            }
            if (!IsNull(this.$R_2)) {
                var $v_0 = this.$R_2.get_container();
                this.$R_2.dispose();
                this.$R_2 = null;
                $v_0.parentNode.removeChild($v_0);
            }
        }
        catch ($$e_1) {
        }
        this.$7H_2 = null;
        this.$6Y_2 = null;
        this.$82_2 = null;
        this.$6R_2 = null;
        this.$f_2 = null;
        this.$1O_2 = null;
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.update.call(this, propertyBag);
        var $v_0 = propertyBag.getPropertyData(6);
        if (propertyBag.hasPropertyData(6)) {
            this.$2E_2($v_0);
        }
    },
    
    enterEditMode: function() {
        this.get_dateInput().focus();
        (this.get_dateInput()).select();
        this.$o_2 = this.$1_1.$4_2.getValue();
        if (!IsNull(this.get_timeInput())) {
            if (IsNullOrEmptyString(this.get_dateInput().value)) {
                this.$5w_2(true);
            }
            else if (this.$1h_2) {
                this.$f_2.setAttribute('value', this.get_timeInput().value);
                this.$FW_2();
                this.$5w_2(false);
            }
        }
        this.$DQ_2();
        this.$LB_2();
    },
    
    $7W_2: function($p0, $p1, $p2, $p3, $p4, $p5, $p6) {
        var $v_0 = this.$E1_2($p5);
        var $v_1 = $p5.createElement('div');
        $v_1.className = 'ms-crm-InlineSelectContainer';
        $v_0.appendChild($v_1);
        var $v_2 = $p5.createElement('div');
        $v_2.style.overflowX = 'hidden';
        $v_2.style.overflowY = 'auto';
        $v_2.style.width = '100%';
        $v_2.style.backgroundColor = '#FFF';
        $v_2.style.direction = $p6;
        $v_2.appendChild($p1);
        var $v_3 = Mscrm.Dialog.createDialog($v_1);
        $v_3.set_isModal(false);
        $v_1.style.border = '1px solid #000';
        this.$9w_2($v_3, $p0, $p5);
        $v_3.set_shiftVertical(true);
        $v_3.set_shiftHorizontal(false);
        $v_3.set_minHeight(-1);
        $v_3.set_maxHeight(-1);
        $v_3.set_isLoading(false);
        $v_3.set_enableShadow(false);
        $v_3.set_body($v_2);
        $v_3.set_height($p3);
        $v_3.set_width($p2);
        $v_3.set_dialogId(this.$f_2.id + $p4);
        $v_3.set_neverGrabFocus(true);
        return $v_3;
    },
    
    $9w_2: function($p0, $p1, $p2) {
        var $v_0 = this.$E1_2($p2);
        var $v_1 = XUI.Html.DomUtils.GetFirstChild($p1);
        var $v_2 = Mscrm.Utilities.getXYPos($v_1, !Mscrm.Utilities.get_isLeftToRight(), $v_0);
        var $v_3 = $v_2['x'];
        var $v_4 = $v_2['y'];
        $p0.set_top($v_4 + $v_1.offsetHeight);
        if (!Mscrm.Utilities.get_isLeftToRight()) {
            $v_3 += $v_1.offsetWidth;
        }
        $p0.set_left($v_3);
    },
    
    $C2_2: function() {
        if (this.$S_2.getAttribute('Cached') === 'true') {
            this.$Ep_2();
            return;
        }
        this.$S_2 = this.$S_2.cloneNode(true);
        this.$S_2.setAttribute('Cached', 'true');
        var $v_0 = this.get_$1Z_2().length;
        if ($v_0 <= 6) {
            this.$5R_2 = ($v_0 * 17) + 2;
        }
        var $v_1 = '';
        if (!Mscrm.Utilities.get_isLeftToRight()) {
            $v_1 = 'rtl';
        }
        var $v_2 = this.$f_2.ownerDocument.createElement('COLGROUP');
        var $v_3 = this.$f_2.ownerDocument.createElement('COL');
        $v_3.style.fontSize = this.$6b_2 + 'px';
        $v_3.className = 'select_htc_col';
        $v_2.appendChild($v_3);
        var $v_4 = XUI.Html.DomUtils.GetFirstChild(this.$S_2);
        this.$S_2.insertBefore($v_2, $v_4);
        this.$S_2.style.width = '100%';
        this.$R_2 = this.$7W_2(this.$f_2, this.$S_2, this.get_$5r_2(), this.$5R_2, 'selectPopup', this.$f_2.ownerDocument, $v_1);
        var $$t_5;
        ($$t_5 = this.$R_2).set_containerClassName($$t_5.get_containerClassName() + ' ms-crm-TouchScroll');
        addHandlerToDomElement(this.$S_2, 'mouseover', this.$$d_$Iu_2);
        addHandlerToDomElement(this.$S_2, 'selectstart', this.$$d_$Em_2);
        this.$S_2.style.MozUserSelect = 'none';
        addHandlerToDomElement(this.$S_2, 'mousedown', this.$$d_$Em_2);
        addHandlerToDomElement(this.$S_2, 'click', this.$$d_$EF_2);
    },
    
    $FK_2: function() {
        var $v_0 = this.$Bt_2(this.$A_2.getAttribute('returnValue'));
        this.$A_2.setAttribute('rowNum', $v_0);
        this.$C2_2();
        this.$Cr_2();
        this.$S_2.style.display = '';
        this.$9w_2(this.$R_2, this.$f_2, this.$f_2.ownerDocument);
        if (!window.isMobileClient) {
            var $$t_2 = this;
            this.$R_2.show(function($p1_0) {
                $$t_2.$KY_2($v_0);
            });
        }
        else {
            this.$R_2.show(Mscrm.TurboForm.Control.View.DateTimeEditElement.optimizeTimeForMobile);
        }
    },
    
    $KY_2: function($p0) {
        if ($p0 <= 0) {
            return;
        }
        if (this.$R_2.get_dialogId()) {
            var $v_0 = $get(this.$R_2.get_dialogId());
            if (!IsNull($v_0)) {
                var $v_1 = this.$HL_2($v_0);
                if (!IsNull($v_1)) {
                    var $v_2 = $P_CRM('#' + $v_0.id + ' .ms-crm-inlineSelectRow').get(0);
                    if (!IsNull($v_2)) {
                        var $v_3 = $v_2.clientHeight;
                        $v_1.scrollTop = $p0 * $v_3;
                    }
                }
            }
        }
    },
    
    $HL_2: function($p0) {
        var $v_0 = '#' + $p0.id + ' tbody';
        return $P_CRM($v_0).first().parents('div').first().get(0);
    },
    
    $9S_2: function() {
        this.$5M_2 = false;
        try {
            this.$R_2.hide();
            this.$A_2.focus();
            XUI.Html.DispatchDomEvent(this.$A_2, XUI.Html.CreateDomEvent('change'));
            var $v_0 = this.$A_2.getAttribute('rowNum');
            if (this.$60_2($v_0)) {
                this.$2z_2(this.$A_2, this.get_$1Z_2()[$v_0], false);
            }
        }
        catch ($$e_1) {
        }
    },
    
    $FE_2: function() {
        this.$5M_2 = !IsNull(this.$R_2) && this.$R_2.get_isVisible();
        this.$7C_2 = true;
    },
    
    $Ep_2: function() {
        if (IsNull(this.$R_2) || this.$R_2.get_width() === this.get_$5r_2()) {
            return;
        }
        this.$R_2.set_width(this.get_$5r_2());
        this.$R_2.refresh();
    },
    
    $9Z_2: function($p0) {
        var $v_0 = $p0.target;
        if (!IsNull($v_0)) {
            var $v_1 = this.isElementInHeader($v_0, this.$1O_2);
            if ($p0.type === 'focusin' && !($p0.target.tagName.toLowerCase() === 'textarea' || $p0.target.tagName.toLowerCase() === 'input' || $p0.target.tagName.toLowerCase() === 'select')) {
                return true;
            }
            if (!$v_1) {
                var $v_2 = XUI.Html.DomUtils.GetFirstChild(this.$1O_2).id;
                var $v_3 = 'Dialog_' + $v_2 + 'CalContainer' + 'DateInput' + '_miniCal';
                var $v_4 = 'Dialog_' + $v_2 + 'Time' + 'selectPopup';
                var $v_5 = 'ms-crm-MiniCal';
                $v_1 = this.getParents($v_0, '#' + $v_3).length > 0 || this.getParents($v_0, '#' + $v_4).length > 0 || $v_0.id === this.$1_1.getKey() || this.getParents($v_0, '#' + this.$1_1.getKey()).length > 0 || this.getParents($v_0, '.' + $v_5).length > 0;
            }
            return $v_1;
        }
        return true;
    },
    
    $5w_2: function($p0) {
        var $v_0 = this.get_$Cq_2()[0];
        var $v_1 = $v_0.getElementsByTagName('td')[1];
        var $v_2 = XUI.Html.DomUtils.GetFirstChild($v_1);
        if ($p0) {
            this.$A_2.style.borderColor = '#cccccc';
            this.$A_2.className = 'ms-crm-SelectBox ms-crm-ReadOnly';
            $v_2.style.cursor = 'default';
        }
        else {
            this.$A_2.style.borderColor = '';
            this.$A_2.className = 'ms-crm-SelectBox';
            $v_2.style.cursor = 'pointer';
        }
        this.$Gg_2($v_2, $p0);
        this.$A_2.disabled = $p0;
        $v_0.disabled = $p0;
        this.$f_2.disabled = $p0;
    },
    
    $Gg_2: function($p0, $p1) {
        if (IsNull($p0)) {
            return;
        }
        Mscrm.ImageStrip.changeImage($p0, ($p1) ? '/_imgs/inlineedit/time_icon_disabled.png' : '/_imgs/inlineedit/time_icon.png');
        $p0.disabled = $p1;
    },
    
    $AA_2: function() {
        if (window.IsMobileRefresh) {
            removeHandlerFromDomElement(document.body, 'click', this.$2Q_2);
        }
        else {
            removeHandlerFromDomElement(document.body, 'click', this.$2Q_2);
            removeHandlerFromDomElement(document.body, 'focusin', this.$$d_$Ek_2);
            var $v_0 = document.querySelectorAll('iframe');
            for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
                removeHandlerFromDomElement($v_0[$v_1], 'focus', this.$$d_$Ek_2);
            }
        }
    },
    
    $2E_2: function($p0) {
        if (!IsNull($p0)) {
            if (Date.isInstanceOfType($p0)) {
                this.get_dateInput().value = Mscrm.TurboForm.Control.View.DateFormatter.get_instance().formatValue($p0, null);
                if (!IsNull(this.get_timeInput())) {
                    this.get_timeInput().value = Mscrm.TurboForm.Control.View.TimeFormatter.get_instance().formatValue($p0, null);
                }
            }
        }
        else {
            this.get_dateInput().value = '';
            if (!IsNull(this.get_timeInput())) {
                this.get_timeInput().value = '';
            }
        }
    },
    
    $DQ_2: function() {
        if (window.IsMobileRefresh) {
            removeHandlerFromDomElement(document.body, 'click', this.$2Q_2);
            addHandlerToDomElement(document.body, 'click', this.$$d_$Ek_2);
        }
        else {
            addHandlerToDomElement(document.body, 'click', this.$$d_$Ek_2);
            addHandlerToDomElement(document.body, 'focusin', this.$$d_$Ek_2);
            var $v_0 = document.querySelectorAll('iframe');
            for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
                addHandlerToDomElement($v_0[$v_1], 'focus', this.$$d_$Ek_2);
            }
        }
    },
    
    $Jv_2: function() {
        this.$49_2 = XUI.Html.DomUtils.GetChildElementAt(this.$f_2, 0);
        this.$S_2 = XUI.Html.DomUtils.GetChildElementAt(this.$f_2, 1);
        var $v_0 = this.get_$Cq_2()[0];
        this.$A_2 = XUI.Html.DomUtils.GetFirstChild($v_0.getElementsByTagName('td')[0]);
        addHandlerToDomElement(this.$A_2, 'selectstart', this.$$d_$JM_2);
        addHandlerToDomElement(this.$A_2, 'mousedown', this.$$d_$JM_2);
        addHandlerToDomElement(this.$A_2, 'focus', this.$$d_$JK_2);
        addHandlerToDomElement(this.$A_2, 'blur', this.$$d_$JJ_2);
        this.$FW_2();
        addHandlerToDomElement(this.$A_2, 'blur', this.$$d_onBlur);
        var $v_1 = GetGlobalVariable('LOCID_SELECTBOX_BUTTON_ALT');
        var $v_2 = this.$f_2.getAttribute('ButtonTitle');
        if (!IsNull($v_2)) {
            $v_1 = $v_2;
        }
        this.$3G_2 = XUI.Html.DomUtils.GetFirstChild($v_0.getElementsByTagName('td')[1]);
        this.$3G_2.alt = $v_1;
        this.$3G_2.title = this.$3G_2.alt;
        if (!IsNull(this.$S_2.getAttribute('bCached'))) {
            this.$S_2.removeAttribute('bCached');
        }
    },
    
    $FW_2: function() {
        var $v_0 = this.$f_2.getAttribute('value');
        this.$A_2.setAttribute('lastValue', $v_0);
        this.$A_2.setAttribute('returnValue', $v_0);
        var $v_1 = this.$Ha_2($v_0);
        if (this.$60_2($v_1)) {
            this.$A_2.value = this.$E3_2($v_1);
            this.$A_2.setAttribute('returnValue', this.getValue($v_1));
        }
        else {
            this.$A_2.value = $v_0;
            this.$A_2.setAttribute('returnValue', $v_0);
        }
        this.$A_2.setAttribute('defaultValue', this.$A_2.getAttribute('returnValue'));
        this.$A_2.setAttribute('oldDisplayValue', this.$A_2.value);
        this.$A_2.setAttribute('rowNum', this.$Bt_2(this.$A_2.value));
    },
    
    $HK_2: function($p0) {
        if (!IsNull($p0) && !$p0.length) {
            return -1;
        }
        var $v_0 = this.get_$En_2();
        for (var $v_1 = 0; $v_1 < $v_0; $v_1++) {
            if (this.$E3_2($v_1) === $p0) {
                return $v_1;
            }
        }
        return -2;
    },
    
    $Bt_2: function($p0) {
        if (!IsNull($p0) && !$p0.length) {
            return -1;
        }
        var $v_0 = this.get_$En_2();
        for (var $v_1 = 0; $v_1 < $v_0; $v_1++) {
            if (this.getValue($v_1) === $p0) {
                return $v_1;
            }
        }
        return -2;
    },
    
    $E3_2: function($p0) {
        var $v_0 = this.get_$1Z_2();
        if ($p0 < 0 || $p0 >= $v_0.length) {
            return null;
        }
        var $v_1 = (($v_0[$p0])).getElementsByTagName('td')[0];
        return XUI.Html.GetText($v_1);
    },
    
    $Ha_2: function($p0) {
        var $v_0 = 0;
        var $v_1 = this.get_$1Z_2().length;
        while ($v_0 < $v_1) {
            if (this.getValue($v_0) === $p0) {
                break;
            }
            $v_0++;
        }
        if ($v_0 >= $v_1) {
            $v_0 = (!$p0.length) ? -1 : -2;
        }
        return $v_0;
    },
    
    getValue: function(rowNumber) {
        var $v_0 = this.get_$1Z_2();
        if (rowNumber < 0 || rowNumber >= $v_0.length) {
            return null;
        }
        var $v_1 = $v_0[rowNumber];
        return $v_1.getElementsByTagName('td')[0].getAttribute('val');
    },
    
    $E1_2: function($p0) {
        var $v_0 = $p0.getElementById('contentDiv');
        if (IsNull($v_0)) {
            $v_0 = $p0.body;
        }
        return $v_0;
    },
    
    $Cr_2: function() {
        var $v_0 = this.get_$1Z_2();
        var $v_1 = $v_0.length;
        for (var $v_3 = 0; $v_3 < $v_1; $v_3++) {
            this.$2z_2(null, $v_0[$v_3], false);
        }
        var $v_2 = parseInt(this.$A_2.getAttribute('rowNum'));
        if (this.$60_2($v_2)) {
            this.$2z_2($v_0[$v_2], null, false);
        }
    },
    
    $FI_2: function($p0) {
        var $v_0 = this.get_$1Z_2()[$p0];
        var $v_1 = $v_0.getElementsByTagName('td')[0];
        this.$A_2.setAttribute('lastValue', this.$A_2.getAttribute('returnValue'));
        this.$A_2.value = XUI.Html.GetText($v_1);
        this.$A_2.setAttribute('oldDisplayValue', this.$A_2.value);
        this.$A_2.setAttribute('returnValue', $v_1.getAttribute('val'));
        this.$A_2.setAttribute('rowNum', $p0);
    },
    
    $60_2: function($p0) {
        return !IsNull($p0) && $p0 !== -1 && $p0 !== -2;
    },
    
    $2z_2: function($p0, $p1, $p2) {
        if ($p2) {
            $p0.scrollIntoView();
        }
        if ($p0 !== $p1) {
            if (!IsNull($p0)) {
                Sys.UI.DomElement.addCssClass($p0, 'ms-crm-select-date');
            }
            if (!IsNull($p1)) {
                Sys.UI.DomElement.removeCssClass($p1, 'ms-crm-select-date');
                $p1.style.backgroundColor = this.$39_2;
            }
        }
    },
    
    $EC_2: function($p0) {
        var $v_0 = -1;
        var $v_1 = 0;
        var $v_2 = -1;
        var $v_3 = parseInt(this.$A_2.getAttribute('rowNum'));
        if (this.$60_2($v_3)) {
            $v_0 = $v_3 - 1;
            $v_1 = $v_3 + 1;
        }
        else {
            $v_0 = 0;
            $v_1 = 1;
        }
        var $v_4 = this.get_$1Z_2().length;
        if ($v_0 < 0) {
            $v_0 = 0;
            $v_1 = ($v_4 > 1) ? 1 : 0;
        }
        else if ($v_1 >= $v_4) {
            $v_1 = $v_4 - 1;
            $v_0 = ($v_4 > 1) ? $v_1 - 1 : $v_1;
        }
        if ($p0) {
            $v_2 = $v_0;
        }
        else {
            $v_2 = $v_1;
        }
        if ($v_2 === this.$A_2.getAttribute('rowNum')) {
            return;
        }
        var $v_5;
        var $v_6 = this.get_$1Z_2();
        var $v_7 = this.$A_2.getAttribute('rowNum');
        if (this.$60_2($v_7)) {
            $v_5 = $v_6[$v_7];
        }
        else {
            $v_5 = null;
        }
        var $v_8 = $v_6[$v_2];
        this.$2z_2($v_8, $v_5, true);
        this.$FI_2($v_2);
    },
    
    $IZ_2: function($p0) {
        if (IsNull($p0)) {
            return true;
        }
        while (!IsNull($p0) && !IsNull($p0.tagName) && $p0.tagName.toLowerCase() !== 'body') {
            if (XUI.Html.GetComputedStyle($p0, 'display') === 'none' || XUI.Html.GetComputedStyle($p0, 'visibility') === 'hidden') {
                return true;
            }
            $p0 = $p0.parentNode;
        }
        return false;
    },
    
    $LB_2: function() {
        var $v_0 = Mscrm.Utilities.getChildElementsByClassName(this.$1O_2, 'ms-crm-InlineDateTime-TimeCell', true);
        if (!IsNull($v_0) && $v_0.length > 0) {
            switch (this.$11_1) {
                case 'date':
                    ($v_0[0]).style.display = 'none';
                    break;
                case 'datetime':
                    ($v_0[0]).style.display = 'table-cell';
                    break;
            }
        }
    },
    
    $IX_2: function($p0, $p1) {
        var $v_0 = this.$9c_2($p0);
        var $v_1 = this.$9c_2($p1);
        if ($v_0 && $v_1) {
            return true;
        }
        if (($v_0 && !$v_1) || (!$v_0 && $v_1) || $p0.getFullYear() !== $p1.getFullYear() || $p0.getMonth() !== $p1.getMonth() || $p0.getDate() !== $p1.getDate()) {
            return false;
        }
        return true;
    },
    
    $9c_2: function($p0) {
        return isNaN($p0) || IsNull($p0);
    },
    
    $Ie_2: function($p0, $p1) {
        if (IsNull($p0) && IsNull($p1)) {
            return true;
        }
        if ((IsNull($p0) && !IsNull($p1)) || (!IsNull($p0) && IsNull($p1)) || $p0.getHours() !== $p1.getHours() || $p0.getMinutes() !== $p1.getMinutes() || $p0.getSeconds() !== $p1.getSeconds() || $p0.getMilliseconds() !== $p1.getMilliseconds()) {
            return false;
        }
        return true;
    },
    
    $Jq_2: function() {
        if (this.get_dateInput().disabled) {
            return;
        }
        var $v_0 = this.get_dateInput().value.trim();
        if (!IsNull(this.$o_2)) {
            var $v_1 = ((this.$1_1.$6_2).$2p_5) ? Mscrm.DateTimeUtility.formatDate(decrementDayAcrossTimeZones(this.$o_2)) : Mscrm.DateTimeUtility.formatDate(this.$o_2);
            if ($v_1 === $v_0) {
                this.$1h_2 = true;
                return;
            }
        }
        if (!$v_0.length) {
            if (this.$AG_2) {
                this.$1h_2 = true;
                if (!IsNull(this.$o_2)) {
                    if (!IsNull(this.get_timeInput())) {
                        this.$Cs_2(null);
                        this.$5w_2(true);
                    }
                    this.$A7_2(null);
                }
            }
            else {
                var $v_2 = new Xrm.AlertDialogStrings();
                $v_2.text = Xrm.Internal.getResourceString('LOCID_DTM_BLANK_DATE_ERROR');
                Xrm.Dialog.openAlertDialog($v_2, null, null);
                this.$FA_2(this.$o_2);
            }
        }
        else {
            var $v_3 = Mscrm.DateTimeUtility.parseDate($v_0, this.$8U_2);
            if (!IsNull($v_3)) {
                this.$1h_2 = true;
                $v_3 = this.$DI_2($v_3);
                if (!this.$IX_2($v_3, this.$o_2) || (this.$1_1.$6_2).$2p_5) {
                    var $v_4 = IsNull(this.$o_2);
                    this.$Ks_2($v_3);
                    this.$FA_2(this.$o_2);
                    if (IsNull(this.get_timeInput())) {
                        Mscrm.CrmDebug.assert(this.$11_1 === 'date', 'ERROR: Somehow both _dateControl and _timeControl are null');
                        this.$Ku_2();
                    }
                    else if ($v_4) {
                        this.$5w_2(false);
                        $v_3.setHours(8);
                        this.$Cs_2($v_3);
                    }
                }
            }
            else {
                this.$1h_2 = false;
                this.$Hs_2();
            }
        }
    },
    
    $Hs_2: function() {
        this.$Bw_2();
    },
    
    $Ht_2: function() {
        this.$2M_2 = false;
        this.$Bw_2();
    },
    
    $Bw_2: function() {
        var $v_0 = null;
        var $v_1 = window.USER_DATE_FORMATTED_FORMATSTRING;
        if (Xrm.Page.context.getUserLcid() === 1026) {
            $v_1 = $v_1.replace('\'\u0433.\'', ' \u0433.');
        }
        var $v_2 = String.format(Xrm.Internal.getResourceString('LOCID_ALERT_ENTER_VALID_DATE'), $v_1);
        if (!this.$1h_2 && !this.$2M_2) {
            $v_0 = $v_2;
        }
        else {
            $v_0 = (this.$1h_2) ? String.format(Xrm.Internal.getResourceString('LOCID_DTM_BLANK_TIME_ERROR'), window.USER_DATE_FORMATTED_FORMATSTRING) : $v_2;
        }
        (this.$1_1.$6_2).setNotification($v_0, 'ControlValidationFailedKey');
    },
    
    $Ks_2: function($p0) {
        if ((this.$1_1.$6_2).$2p_5) {
            $p0 = incrementDayAcrossTimeZones($p0);
        }
        if (IsNull(this.$o_2)) {
            this.$A7_2($p0);
        }
        else {
            this.$A7_2(new Date($p0.getFullYear(), $p0.getMonth(), $p0.getDate(), this.$o_2.getHours(), this.$o_2.getMinutes(), this.$o_2.getSeconds(), this.$o_2.getMilliseconds()));
        }
    },
    
    $FA_2: function($p0) {
        if (IsNull(this.get_dateInput())) {
            return;
        }
        if (!this.$9c_2($p0)) {
            this.get_dateInput().value = Mscrm.DateTimeUtility.formatDate((!(this.$1_1.$6_2).$2p_5) ? $p0 : decrementDayAcrossTimeZones($p0));
        }
        else {
            this.get_dateInput().value = '';
        }
    },
    
    parseTimeInput: function() {
        if (IsNull(this.get_timeInput()) || this.get_timeInput().disabled) {
            return;
        }
        var $v_0 = parseTime(this.get_timeInput().value, 0);
        this.$2M_2 = !isNaN($v_0.getTime());
        if (this.$2M_2 && !this.$Ie_2($v_0, this.$o_2)) {
            this.$Kt_2($v_0);
        }
    },
    
    $El_2: function() {
        if (IsNull(this.get_timeInput()) || this.get_timeInput().disabled) {
            return;
        }
        var $v_0 = this.get_timeInput().value.trim();
        var $v_1 = parseTime($v_0, 0);
        if (isNaN($v_1.getTime())) {
            if (!this.$8U_2) {
                var $v_2 = new Xrm.AlertDialogStrings();
                $v_2.text = Xrm.Internal.getResourceString('LOCID_DTM_BLANK_TIME_ERROR');
                Xrm.Dialog.openAlertDialog($v_2, null, null);
            }
            this.$Ht_2();
        }
        else {
            this.parseTimeInput();
            this.$2M_2 = true;
        }
    },
    
    $Kt_2: function($p0) {
        this.$FC_2($p0.getHours(), $p0.getMinutes(), $p0.getSeconds(), $p0.getMilliseconds());
    },
    
    $DI_2: function($p0) {
        var $v_0 = $p0.getHours();
        var $v_1 = new Date($p0.getFullYear(), $p0.getMonth(), $p0.getDate(), $p0.getHours(), $p0.getMinutes(), $p0.getSeconds());
        if (!$v_0) {
            return $p0;
        }
        if ($v_0 > 12 && $v_0 <= 23) {
            $v_1.setDate($v_1.getDate() + 1);
        }
        var $v_2;
        var $v_3, $v_4, $v_5 = 0;
        for ($v_3 = 0; $v_3 < 3; $v_3++) {
            switch ($v_3) {
                case 0:
                    $v_5 = 25;
                    break;
                case 1:
                case 2:
                    $v_5 = 61;
                    break;
            }
            for ($v_4 = 0; $v_4 < $v_5; $v_4++) {
                $v_2 = new Date($v_1.getFullYear(), $v_1.getMonth(), $v_1.getDate(), (!$v_3) ? $v_1.getHours() - 1 : $v_1.getHours(), ($v_3 === 1) ? $v_1.getMinutes() - 1 : $v_1.getMinutes(), ($v_3 === 2) ? $v_1.getSeconds() - 1 : $v_1.getSeconds());
                if ($v_2.getDate() === $v_1.getDate()) {
                    $v_1 = $v_2;
                }
                else {
                    $v_4 = $v_5;
                }
            }
        }
        return $v_1;
    },
    
    $Ku_2: function() {
        this.$FC_2(0, 0, 0, 0);
    },
    
    $A7_2: function($p0) {
        this.$o_2 = $p0;
    },
    
    $FC_2: function($p0, $p1, $p2, $p3) {
        if (!IsNull(this.$o_2)) {
            this.$A7_2(new Date(this.$o_2.getFullYear(), this.$o_2.getMonth(), this.$o_2.getDate(), $p0, $p1, $p2, $p3));
            if (!$p0 && !$p1 && !$p2 && !$p3) {
                this.$o_2 = this.$DI_2(this.$o_2);
            }
            if ($p0 !== this.$o_2.getHours() || $p1 !== this.$o_2.getMinutes()) {
                this.$Cs_2(this.$o_2);
            }
        }
    },
    
    $Cs_2: function($p0) {
        if (IsNull(this.get_timeInput())) {
            return;
        }
        this.$2M_2 = true;
        if (this.$9c_2($p0)) {
            this.get_timeInput().value = '';
        }
        else {
            var $v_0 = timeToString($p0, 0);
            this.get_timeInput().value = $v_0;
        }
    }
}


Mscrm.TurboForm.Control.View.EditFilterEditElement = function(controlView) {
    this.$$d_$Km_2 = Function.createDelegate(this, this.$Km_2);
    this.$$d_showEditFilterDialog = Function.createDelegate(this, this.showEditFilterDialog);
    Mscrm.TurboForm.Control.View.EditFilterEditElement.initializeBase(this, [ controlView ]);
    this.$9o_2 = this.$$d_showEditFilterDialog;
}
Mscrm.TurboForm.Control.View.EditFilterEditElement.prototype = {
    $9o_2: null,
    $g_2: null,
    
    get_controlInput: function() {
        if (!this.$g_2) {
            this.$g_2 = $get(String.format('{0}_i', this.$1_1.getKey()));
        }
        return this.$g_2;
    },
    
    bind: function(container) {
        addHandlerToDomElement(this.get_controlInput(), 'click', this.$9o_2);
    },
    
    unbind: function() {
        removeHandlerFromDomElement(this.get_controlInput(), 'click', this.$9o_2);
    },
    
    getEntityName: function() {
        var $v_0 = '';
        var $v_1 = GetGlobalVariable('EntityFieldControlId');
        if (!IsNullOrEmptyString($v_1)) {
            if (!IsNull(Xrm.Page.getAttribute($v_1).getValue())) {
                $v_0 = Xrm.Page.getAttribute($v_1).getValue();
            }
        }
        if (IsNullOrEmptyString($v_0)) {
            $v_0 = GetGlobalVariable('DefaultEntityName');
        }
        return $v_0;
    },
    
    showEditFilterDialog: function(eventObject) {
        var $v_0 = this.getEntityName();
        if (IsNullOrEmptyString($v_0)) {
            var $v_6 = new Xrm.AlertDialogStrings();
            $v_6.text = GetGlobalVariable('EditFilterErrorNoEntity');
            Xrm.Dialog.openAlertDialog($v_6, new Xrm.DialogOptions(), null);
            return;
        }
        var $v_1 = Mscrm.CrmUri.create('/_controls/EditFilterControl/SyncFilterPage.aspx');
        var $v_2 = '';
        if (!IsNull(this.$1_1.$4_2.getValue())) {
            $v_2 = this.$1_1.$4_2.getValue().toString();
        }
        $v_1.get_query()['entityName'] = $v_0;
        $v_1.get_query()['requiredFields'] = GetGlobalVariable('EditFilterRequiredFields');
        var $v_3 = {};
        var $v_4 = new Xrm.DialogOptions();
        $v_4.height = 600;
        $v_4.width = 700;
        var $v_5 = this.$$d_$Km_2;
        Xrm.Internal.openDialog($v_1.toString(), $v_4, $v_2, null, $v_5);
    },
    
    $Km_2: function($p0) {
        var $v_0 = $p0.toString();
        if (!IsNullOrEmptyString($v_0)) {
            this.$1_1.$4_2.setValue($v_0, this.$1_1.getKey());
        }
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.update.call(this, propertyBag);
    },
    
    enterEditMode: function() {
        this.$g_2.focus();
    }
}


Mscrm.TurboForm.Control.View.EmailBodyEditElement = function(controlView) {
    this.$$d_$Fg_2 = Function.createDelegate(this, this.$Fg_2);
    this.$$d_$I4_2 = Function.createDelegate(this, this.$I4_2);
    this.$$d_$J6_2 = Function.createDelegate(this, this.$J6_2);
    this.$$d_$Eh_2 = Function.createDelegate(this, this.$Eh_2);
    this.$$d_$JV_2 = Function.createDelegate(this, this.$JV_2);
    this.$$d_$Ed_2 = Function.createDelegate(this, this.$Ed_2);
    this.$$d_$67_2 = Function.createDelegate(this, this.$67_2);
    Mscrm.TurboForm.Control.View.EmailBodyEditElement.initializeBase(this, [ controlView ]);
    this.$1_2 = controlView;
    this.$25_2 = this.$$d_$67_2;
    this.$3O_2 = this.$$d_$Ed_2;
    this.$8a_2 = this.$$d_$JV_2;
    this.$8S_2 = this.$$d_$Eh_2;
    this.$8b_2 = this.$$d_$J6_2;
}
Mscrm.TurboForm.Control.View.EmailBodyEditElement.prototype = {
    $g_2: null,
    $13_2: null,
    $1_2: null,
    $25_2: null,
    $3O_2: null,
    $8a_2: null,
    $8S_2: null,
    $8b_2: null,
    $2Z_2: '<br><div></div>',
    $9e_2: false,
    $2v_2: null,
    $3Z_2: null,
    $3Y_2: null,
    $9a_2: false,
    
    get_controlInput: function() {
        if (!this.$g_2) {
            this.$g_2 = this.$13_2.children[0].querySelector('[id$=\'descriptionEditIFrame\']');
        }
        return this.$g_2;
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(29)) {
            this.$2E_2(propertyBag.getPropertyData(29));
        }
        else if (propertyBag.hasPropertyData(6) && propertyBag.getPropertyData(6)) {
            if (!this.$3Z_2 || CrmEncodeDecode.CrmHtmlDecode(propertyBag.getPropertyData(6).toString()) !== CrmEncodeDecode.CrmHtmlDecode(this.$3Z_2.toString())) {
                this.$2E_2(propertyBag.getPropertyData(6));
            }
        }
        if (propertyBag.hasPropertyData(6)) {
            this.$3Z_2 = propertyBag.getPropertyData(6);
        }
        if (propertyBag.hasPropertyData(31)) {
            this.$2v_2 = propertyBag.getPropertyData(31);
        }
        if (propertyBag.hasPropertyData(30)) {
            this.$3Y_2 = propertyBag.getPropertyData(30);
        }
        this.showUnsafeScriptWarning();
    },
    
    $2E_2: function($p0) {
        var $v_0 = (IsNull($p0)) ? '<br><div></div>' : $p0.toString();
        if (this.$2Z_2 !== $v_0) {
            this.$2Z_2 = $v_0;
            if (!IsNull(this.$p_2.document.body)) {
                this.$p_2.document.body.innerHTML = $v_0;
            }
        }
    },
    
    bind: function(container) {
        this.$13_2 = container;
        addHandlerToDomElement(this.get_controlInput(), 'blur', this.$25_2);
        addHandlerToDomElement(this.get_controlInput(), 'focus', this.$3O_2);
        this.$Z_2 = this.$13_2.children[0].querySelector('[id$=\'descriptionEditIFrame\']');
        this.$Z_2.tabIndex = this.$13_2.parentNode.tabIndex;
        this.$p_2 = this.$Z_2.contentWindow;
        Mscrm.TurboForm.Control.View.EmailBodyValueElement.setUrl(this.$Z_2);
        this.$BF_2(this.$$d_$I4_2);
        this.$BF_2(this.$8a_2);
        this.$BF_2(this.$$d_$Fg_2);
        $addHandler(this.$p_2, 'focus', this.$3O_2);
        $addHandler(this.$p_2, 'blur', this.$25_2);
        $addHandler(this.$p_2, 'paste', this.$8b_2);
    },
    
    $BF_2: function($p0) {
        if (this.$Z_2.contentWindow.document.readyState === 'complete' && (Mscrm.Utilities.isEdge() || Mscrm.Utilities.isIE())) {
            $p0(null);
        }
        else {
            addHandlerToDomElement(this.$Z_2, 'load', $p0);
        }
    },
    
    $Fg_2: function($p0) {
        addHandlerToDomElement(this.$p_2.document.body, 'keydown', this.$8S_2);
    },
    
    unbind: function() {
        $clearHandlers(this.get_controlInput());
        removeHandlerFromDomElement(this.get_controlInput(), 'focus', this.$3O_2);
        removeHandlerFromDomElement(this.$Z_2, 'load', this.$8a_2);
        removeHandlerFromDomElement(this.$Z_2, 'load', this.$$d_$I4_2);
        removeHandlerFromDomElement(this.$Z_2, 'load', this.$$d_$Fg_2);
        removeHandlerFromDomElement(this.$p_2.document.body, 'keydown', this.$8S_2);
        $removeHandler(this.$Z_2.contentWindow, 'focus', this.$3O_2);
        $removeHandler(this.$Z_2.contentWindow, 'paste', this.$8b_2);
        this.$g_2 = null;
    },
    
    $67_2: function($p0) {
        this.$9a_2 = false;
        this.commitEmailBodyValue();
    },
    
    commitEmailBodyValue: function() {
        this.$2Z_2 = this.$Z_2.contentWindow.document.body.innerHTML;
        this.$1_1.$4_2.setValue(this.$Z_2.contentWindow.document.body.innerHTML, this.$1_1.getKey());
    },
    
    $Ed_2: function($p0) {
        this.$9a_2 = true;
        Mscrm.TurboForm.Control.View.EditableControlView.$23 = this.$1_2;
    },
    
    $JV_2: function($p0) {
        this.$F8_2();
    },
    
    enterEditMode: function() {
    },
    
    $I4_2: function($p0) {
        var $v_0 = document.querySelector('[id$=\'descriptionEditIFrame\']').id;
        var $v_1 = { targetFrameId: $v_0 };
        Mscrm.CrmUIComponent.crmCreate(Mscrm.HtmlBarControl, $v_1, null, null, $get('HTMLBAR', this.$13_2.children[0]));
    },
    
    $F8_2: function() {
        this.$p_2.document.body.setAttribute('contentEditable', true);
        this.$p_2.document.body.setAttribute('defaultvalue', this.$p_2.document.body.innerHTML);
        this.$p_2.document.body.setAttribute('onfocusout', 'parent.setEmailRange()');
        addHandlerToDomElement(this.$p_2.document.body, 'blur', this.$25_2);
        if (!Mscrm.Utilities.get_isLeftToRight()) {
            this.$p_2.document.body.style.direction = (GetGlobalVariable('LOCID_UI_DIR')).toLowerCase();
        }
        if (!Mscrm.Utilities.isIE()) {
            this.$p_2.document.body.style.wordWrap = 'break-word';
        }
        Mscrm.InternalUtilities.Utilities.set_iFrameEmailRange(null);
    },
    
    $Eh_2: function($p0) {
        var $v_0 = this.$K0_2($p0.keyCode);
        this.$JO_2($p0, $v_0);
    },
    
    $J6_2: function($p0) {
        if (Mscrm.Utilities.isIE()) {
            this.$Gx_2();
        }
    },
    
    $Gx_2: function() {
        this.$2Z_2 = (this.$Z_2 && this.$Z_2.contentWindow) ? this.$Z_2.contentWindow.document.body.innerHTML : null;
        if (!Mscrm.InternalUtilities._String.isNullOrEmpty(this.$2Z_2) && this.$2Z_2 === '<p><br></p>') {
            this.$2Z_2 = this.$2Z_2.replace('<p><br></p>', '');
            this.$Z_2.contentWindow.document.body.innerHTML = this.$2Z_2;
        }
    },
    
    $JO_2: function($p0, $p1) {
        var $v_0 = String.fromCharCode($p1).toUpperCase();
        if ($v_0 !== 'T' && $v_0 !== 'A' && $v_0 !== 'S') {
            return;
        }
        if ($v_0 === 'S' && $p0.ctrlKey && $p0.altKey) {
            return;
        }
        if ($v_0 === 'S' && ($p0.ctrlKey || $p0.altKey) && this.$Z_2) {
            this.$1_1.$4_2.setValue(this.$Z_2.contentWindow.document.body.innerHTML, this.$1_1.getKey());
            document.activeElement.blur();
            Xrm.Page.data.entity.save();
            $p0.rawEvent.keyCode = 0;
            $p0.rawEvent.returnValue = false;
            $p0.preventDefault();
            $p0.stopPropagation();
            return;
        }
        if (!$p0.ctrlKey && $p0.shiftKey && $p0.altKey) {
            switch ($v_0) {
                case 'T':
                    $p0.preventDefault();
                    $p0.stopPropagation();
                    ApplyTemplate();;
                    break;
                case 'A':
                    $p0.preventDefault();
                    $p0.stopPropagation();
                    InsertKBArticle();;
                    break;
                case 'S':
                    $p0.preventDefault();
                    $p0.stopPropagation();
                    InsertSignature();;
                    break;
            }
        }
    },
    
    $K0_2: function($p0) {
        if (!Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d) {
            Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d = {};
            Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[219] = 91;
            Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[221] = 93;
            Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[51] = 35;
            Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[186] = 59;
            Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[187] = 61;
            Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[188] = 44;
            Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[189] = 45;
            Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[190] = 46;
            Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[191] = 47;
            Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[222] = 39;
        }
        if (Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[$p0]) {
            return Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d[$p0];
        }
        return $p0;
    },
    
    onEditElementClick: function(eventObject) {
        this.$Z_2.blur();
    },
    
    $Z_2: null,
    
    get_emailBodyIFrame: function() {
        return this.$Z_2;
    },
    
    set_emailBodyIFrame: function(value) {
        this.$Z_2 = value;
        return value;
    },
    
    $p_2: null,
    
    get_emailBody: function() {
        return this.$p_2;
    },
    
    set_emailBody: function(value) {
        this.$p_2 = value;
        return value;
    },
    
    showUnsafeScriptWarning: function() {
        var $v_0 = CrmEncodeDecode.CrmUrlDecode(this.$Z_2.getAttribute('url'));
        var $v_1 = Xrm.Page.data.entity.getEntityName();
        var $v_2 = Xrm.Page.data.entity.getId().toString();
        var $v_3 = this.$E4_2();
        if (!IsNull(this.$3Z_2) && !IsNull(this.$2v_2) && this.$2v_2 === '1' && $v_3 !== 3) {
            this.$9e_2 = true;
            $get('tdEditBlockMsg', this.$13_2).style.display = 'block';
            if ($v_3 === 1) {
                $get('WarningWithOpen', this.$13_2).style.display = 'block';
            }
            else {
                $get('WarningWithoutOpen', this.$13_2).style.display = 'block';
            }
            var $v_4 = false;
            var $v_5 = 'followup';
            if (-1 !== $v_0.indexOf($v_5)) {
                $v_4 = ($v_0.substr($v_0.indexOf('followup') + $v_5.length, $v_0.indexOf('followup') + $v_5.length + 1) === '1') ? true : false;
            }
            if (!$v_4 && $v_1 === 'email' && !isNullOrEmptyString($v_2) && $v_3 === 1) {
                var $v_6 = $get(this.$1_1.getKey()).getAttribute('wrpcToken').toString();
                var $v_7 = $get('ActualMsg', this.$13_2);
                $v_7.style.display = 'block';
                $v_7.setAttribute('onclick', 'unblock(\'' + $v_2 + '\',\'' + $v_6 + '\');');
            }
        }
        else if ((this.$2v_2 === '0') && (this.$9e_2)) {
            this.$9e_2 = false;
            $get('tdEditBlockMsg', this.$13_2).style.display = 'none';
            $get('WarningWithOpen', this.$13_2).style.display = 'none';
            $get('WarningWithoutOpen', this.$13_2).style.display = 'none';
        }
    },
    
    $E4_2: function() {
        var $v_0 = 1;
        if (!IsNull(this.$3Y_2)) {
            var $v_1 = parseInt(this.$3Y_2);
            $v_1 = ($v_1 > 3 || $v_1 < 1) ? 1 : $v_1;
            $v_0 = $v_1;
        }
        return $v_0;
    },
    
    commitUpdatedValue: function(view) {
        var $v_0 = view.$T_4;
        $v_0.commitEmailBodyValue();
    },
    
    emailBodyHasFocus: function() {
        return this.$9a_2;
    }
}


Mscrm.TurboForm.Control.View.DurationEditElement = function(controlView) {
    this.$$d_$EF_2 = Function.createDelegate(this, this.$EF_2);
    this.$$d_$Em_2 = Function.createDelegate(this, this.$Em_2);
    this.$$d_$Jg_2 = Function.createDelegate(this, this.$Jg_2);
    this.$$d_$Ek_2 = Function.createDelegate(this, this.$Ek_2);
    this.$$d_$JL_2 = Function.createDelegate(this, this.$JL_2);
    this.$$d_$67_2 = Function.createDelegate(this, this.$67_2);
    this.$$d_$JE_2 = Function.createDelegate(this, this.$JE_2);
    Mscrm.TurboForm.Control.View.DurationEditElement.initializeBase(this, [ controlView ]);
    this.$At_2 = this.$$d_$JE_2;
    this.$25_2 = this.$$d_$67_2;
    this.$Ay_2 = this.$$d_$JL_2;
    this.$2Q_2 = this.$$d_$Ek_2;
    this.$8c_2 = this.$$d_$Jg_2;
}
Mscrm.TurboForm.Control.View.DurationEditElement.optimizeTimeForMobile = function(dialog) {
    var $v_0 = 302;
    var $v_1 = 402;
    var $v_2 = 44;
    var $v_3 = dialog.get_container();
    var $v_4 = ($P_CRM(window).width() / 2) - $v_0 / 2;
    var $v_5 = ($P_CRM(window).height() / 2) - $v_1 / 2;
    if ($v_5 < $v_2) {
        $v_5 = $v_2;
    }
    $v_4 = ($v_4 < 0) ? 0 : $v_4;
    $v_5 = ($v_5 < 0) ? 0 : $v_5;
    $v_3.style.position = 'absolute';
    $v_3.style.top = $v_5.toString() + 'px';
    $v_3.style.left = $v_4.toString() + 'px';
    $v_3.style.height = '400px';
    $v_3.style.width = '300px';
    var $v_6 = XUI.Html.DomUtils.GetFirstChild($v_3);
    $v_6.style.height = '400px';
    $v_6.style.width = '300px';
    if ($P_CRM('body').hasClass('androidStatic')) {
        $v_5 = $P_CRM(window).scrollTop();
        $v_3.style.top = $v_5.toString() + 'px';
        $P_CRM('body div.ms-crm-Floating-Div').height($P_CRM('#crmForm').height() + $v_2);
    }
}
Mscrm.TurboForm.Control.View.DurationEditElement.prototype = {
    $7B_2: null,
    $5B_2: null,
    $1O_2: null,
    $25_2: null,
    $6c_2: null,
    $e_2: null,
    $S_2: null,
    $R_2: null,
    $5R_2: 121,
    $39_2: '',
    $At_2: null,
    $Ay_2: null,
    $2Q_2: null,
    $8c_2: null,
    
    get_selectElementBox: function() {
        if (!this.$7B_2) {
            this.$7B_2 = $get(String.format('{0}_i', this.$1_1.getKey()));
        }
        return this.$7B_2;
    },
    
    get_inputElementBox: function() {
        if (!this.$5B_2) {
            this.$5B_2 = $get(String.format('{0}_iSelectInput', this.$1_1.getKey()));
        }
        return this.$5B_2;
    },
    
    bind: function(container) {
        this.$1O_2 = container;
        this.$6c_2 = $get(String.format('{0}_img', this.$1_1.getKey()));
        this.$e_2 = $get(String.format('{0}_p', this.$1_1.getKey()));
        this.$S_2 = XUI.Html.DomUtils.GetFirstChild(this.$e_2);
        addHandlerToDomElement(this.$6c_2, 'click', this.$At_2);
        addHandlerToDomElement(this.get_inputElementBox(), 'blur', this.$25_2);
        addHandlerToDomElement(this.get_inputElementBox(), 'keydown', this.$Ay_2);
        addHandlerToDomElement(this.$1_1.$I_3, 'keydown', this.$8c_2);
    },
    
    unbind: function() {
        this.$AA_2();
        if (!IsNull(this.$R_2)) {
            var $v_0 = this.$R_2.get_container();
            this.$R_2.dispose();
            $v_0.parentNode.removeChild($v_0);
        }
        removeHandlerFromDomElement(this.$1_1.$I_3, 'keydown', this.$8c_2);
        $clearHandlers(this.get_selectElementBox());
        $clearHandlers(this.$6c_2);
        $clearHandlers(this.$e_2);
        $clearHandlers(this.$1O_2);
        $clearHandlers(this.get_inputElementBox());
        this.$6c_2 = null;
        this.$e_2 = null;
        this.$7B_2 = null;
        this.$1O_2 = null;
        this.$5B_2 = null;
        this.$R_2 = null;
    },
    
    $2E_2: function($p0) {
        $p0 = (IsNull($p0)) ? '' : $p0;
        var $v_0 = this.formatReadValue($p0);
        this.get_selectElementBox().value = $p0.toString();
        this.get_selectElementBox().setAttribute('defaultvalue', $p0);
        this.get_inputElementBox().value = $v_0;
        this.$Ka_2($v_0);
    },
    
    $Ka_2: function($p0) {
        var $v_0 = this.getRawReadValue($p0);
        if (this.$e_2) {
            if (!IsNull($v_0) && !isNaN($v_0)) {
                var $v_1 = this.$e_2.getElementsByTagName('tr');
                var $v_2 = parseInt($v_0);
                var $v_3 = 0;
                for (; $v_3 < $v_1.length; $v_3++) {
                    var $v_4 = this.getRawReadValue($v_1[$v_3].getAttribute('value').toString());
                    if ($v_4 === $v_0) {
                        this.$e_2.setAttribute('selectedIndex', $v_3);
                        this.$e_2.setAttribute('customIndexPosition', -1);
                        return;
                    }
                    else if ($v_2 < parseInt($v_4)) {
                        this.$e_2.setAttribute('customIndexPosition', $v_3);
                        break;
                    }
                }
                if ($v_3 === $v_1.length) {
                    this.$e_2.setAttribute('customIndexPosition', $v_1.length);
                }
                this.$e_2.setAttribute('selectedIndex', -2);
            }
            else {
                this.$e_2.setAttribute('selectedIndex', -1);
                this.$e_2.setAttribute('customIndexPosition', 0);
            }
        }
    },
    
    enterEditMode: function() {
        Sys.UI.DomElement.removeCssClass(this.$1O_2, 'ms-crm-Inline-HideByZeroHeight');
        this.$e_2.style.display = 'none';
        this.$5B_2.focus();
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.update.call(this, propertyBag);
        if (this.$11_1 === 'duration') {
            this.$1U_1 = Mscrm.TurboForm.Control.View.DurationFormatter.get_instance();
        }
        var $v_0 = propertyBag.getPropertyData(6);
        if (propertyBag.hasPropertyData(6)) {
            this.$2E_2($v_0);
        }
    },
    
    $3e_2: function($p0) {
        this.$1_1.$4_2.setValue(this.get_inputElementBox().value, this.$1_1.getKey());
        Sys.UI.DomElement.addCssClass(this.$1O_2, 'ms-crm-Inline-HideByZeroHeight');
        this.$1_1.set_mode(0);
        $p0.stopPropagation();
    },
    
    $JL_2: function($p0) {
        var $v_0 = Mscrm.Utilities.parseInt(this.$e_2.getAttribute('selectedIndex').toString());
        var $v_1 = $v_0 === -1 || $v_0 === -2;
        if ($v_1) {
            $v_0 = Mscrm.Utilities.parseInt(this.$e_2.getAttribute('customIndexPosition').toString());
        }
        var $v_2 = this.$e_2.getElementsByTagName('tr');
        switch ($p0.keyCode) {
            case 38:
                if ($v_0 >= 1) {
                    $v_0--;
                    this.$7w_2($v_2[$v_0]);
                }
                else if (!$v_0) {
                    this.$FT_2();
                }
                break;
            case 40:
                if ($v_0 < $v_2.length - 1 || ($v_0 === $v_2.length - 1 && $v_1)) {
                    if (!$v_1) {
                        $v_0++;
                    }
                    this.$7w_2($v_2[$v_0]);
                }
                break;
            case 13:
            case 27:
                this.$1_1.$4_2.setValue(this.get_inputElementBox().value, this.$1_1.getKey());
                Sys.UI.DomElement.addCssClass(this.$1O_2, 'ms-crm-Inline-HideByZeroHeight');
                this.$1_1.set_mode(0);
                this.$1_1.revertFocusBackToValueContainer();
                $p0.stopPropagation();
                break;
            default:
                break;
        }
    },
    
    $67_2: function($p0) {
        if (Mscrm.Utilities.isFirefox()) {
            var $$t_1 = this;
            window.setTimeout(function() {
                $$t_1.$9H_2($p0);
            }, 0);
        }
        else {
            this.$9H_2($p0);
        }
    },
    
    $9H_2: function($p0) {
        if (((this.$e_2 !== document.activeElement) && !($p0.target === this.get_inputElementBox() && this.$1_1.get_mode() === 1)) || Mscrm.TabTypeHelper.isTabPressed()) {
            this.$1_1.set_mode(0);
            this.$1_1.$4_2.setValue(this.get_inputElementBox().value, this.$1_1.getKey());
        }
        else if ($p0.target === this.get_inputElementBox() && this.$1_1.get_mode() === 1) {
            this.$DQ_2();
        }
    },
    
    $Ek_2: function($p0) {
        if (IsNull($p0)) {
            return;
        }
        if (!IsNull(this.$9Z_2($p0)) && !this.$9Z_2($p0)) {
            this.$3e_2($p0);
            this.$AA_2();
            $p0.stopPropagation();
        }
    },
    
    $9Z_2: function($p0) {
        var $v_0 = $p0.target;
        if (!IsNull($v_0)) {
            var $v_1 = this.isElementInHeader($v_0, this.$1O_2);
            if ($p0.type === 'focusin' && !($p0.target.tagName.toLowerCase() === 'textarea' || $p0.target.tagName.toLowerCase() === 'input' || $p0.target.tagName.toLowerCase() === 'select')) {
                return true;
            }
            else {
                return $v_1;
            }
        }
        return true;
    },
    
    $DQ_2: function() {
        if (window.IsMobileRefresh) {
            removeHandlerFromDomElement(document.body, 'click', this.$2Q_2);
            addHandlerToDomElement(document.body, 'click', this.$$d_$Ek_2);
        }
        else {
            addHandlerToDomElement(document.body, 'click', this.$$d_$Ek_2);
            addHandlerToDomElement(document.body, 'focusin', this.$$d_$Ek_2);
            var $v_0 = document.querySelectorAll('iframe');
            for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
                addHandlerToDomElement($v_0[$v_1], 'focus', this.$$d_$Ek_2);
            }
        }
    },
    
    $AA_2: function() {
        if (window.IsMobileRefresh) {
            removeHandlerFromDomElement(document.body, 'click', this.$2Q_2);
        }
        else {
            removeHandlerFromDomElement(document.body, 'click', this.$2Q_2);
            removeHandlerFromDomElement(document.body, 'focusin', this.$$d_$Ek_2);
            var $v_0 = document.querySelectorAll('iframe');
            for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
                removeHandlerFromDomElement($v_0[$v_1], 'focus', this.$$d_$Ek_2);
            }
        }
    },
    
    blur: function() {
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.blur.call(this);
        this.get_inputElementBox().blur();
    },
    
    $JE_2: function($p0) {
        this.$C2_2();
        if (this.$R_2.get_isVisible()) {
            this.$R_2.hide();
        }
        else {
            if (!window.isMobileClient) {
                this.$R_2.show();
                this.$Cr_2();
            }
            else {
                this.$R_2.show(Mscrm.TurboForm.Control.View.DurationEditElement.optimizeTimeForMobile);
            }
        }
        $p0.stopPropagation();
    },
    
    $C2_2: function() {
        if (this.$S_2.getAttribute('Cached') === 'true') {
            this.$Ep_2();
            this.$9w_2(this.$R_2, this.$e_2.parentNode, this.$e_2.ownerDocument);
            return;
        }
        this.$S_2 = this.$S_2.cloneNode(true);
        this.$S_2.setAttribute('Cached', 'true');
        var $v_0 = this.get_$1Z_2().length;
        if ($v_0 <= 6) {
            this.$5R_2 = ($v_0 * 17) + 2;
        }
        var $v_1 = '';
        if (!Mscrm.Utilities.get_isLeftToRight()) {
            $v_1 = 'rtl';
        }
        this.$S_2.style.width = '100%';
        this.$R_2 = this.$7W_2(this.$e_2.parentNode, this.$S_2, this.get_$5r_2(), this.$5R_2, 'selectPopup', this.$e_2.ownerDocument, $v_1);
        addHandlerToDomElement(this.$S_2, 'selectstart', this.$$d_$Em_2);
        this.$S_2.style.MozUserSelect = 'none';
        addHandlerToDomElement(this.$S_2, 'mousedown', this.$$d_$Em_2);
        addHandlerToDomElement(this.$S_2, 'click', this.$$d_$EF_2);
    },
    
    $E2_2: function($p0) {
        var $v_0 = $p0.getElementById('contentDiv');
        if (IsNull($v_0)) {
            $v_0 = $p0.body;
        }
        return $v_0;
    },
    
    $7W_2: function($p0, $p1, $p2, $p3, $p4, $p5, $p6) {
        var $v_0 = this.$E2_2($p5);
        var $v_1 = $p5.createElement('div');
        $v_1.className = 'ms-crm-InlineSelectContainer';
        $v_0.appendChild($v_1);
        var $v_2 = $p5.createElement('div');
        $v_2.style.overflowX = 'hidden';
        $v_2.style.overflowY = 'auto';
        $v_2.style.width = '100%';
        $v_2.style.backgroundColor = '#FFF';
        $v_2.style.direction = $p6;
        $v_2.appendChild($p1);
        var $v_3 = Mscrm.Dialog.createDialog($v_1);
        $v_3.set_isModal(false);
        $v_1.style.border = '1px solid #000';
        this.$9w_2($v_3, $p0, $p5);
        $v_3.set_shiftVertical(true);
        $v_3.set_shiftHorizontal(false);
        $v_3.set_minHeight(-1);
        $v_3.set_maxHeight(-1);
        $v_3.set_isLoading(false);
        $v_3.set_enableShadow(false);
        $v_3.set_body($v_2);
        $v_3.set_height($p3);
        $v_3.set_width($p2);
        $v_3.set_dialogId($p0.id + $p4);
        $v_3.set_neverGrabFocus(true);
        return $v_3;
    },
    
    $Ep_2: function() {
        if (IsNull(this.$R_2) || this.$R_2.get_width() === this.get_$5r_2()) {
            return;
        }
        this.$R_2.set_width(this.get_$5r_2());
        this.$R_2.refresh();
    },
    
    $9w_2: function($p0, $p1, $p2) {
        var $v_0 = this.$E2_2($p2);
        var $v_1 = XUI.Html.DomUtils.GetFirstChild($p1);
        var $v_2 = Mscrm.Utilities.getXYPos($v_1, !Mscrm.Utilities.get_isLeftToRight(), $v_0);
        var $v_3 = $v_2['x'];
        var $v_4 = $v_2['y'];
        $p0.set_top($v_4 + $v_1.offsetHeight);
        if (!Mscrm.Utilities.get_isLeftToRight()) {
            $v_3 += $v_1.offsetWidth;
        }
        $p0.set_left($v_3);
    },
    
    $Em_2: function($p0) {
        $p0.preventDefault();
    },
    
    $EF_2: function($p0) {
        var $v_0 = $p0.target.parentNode;
        if ($v_0.tagName.toUpperCase() === 'TR') {
            this.$7w_2($v_0);
            this.$3e_2($p0);
            this.$R_2.hide();
        }
    },
    
    $7w_2: function($p0) {
        this.$e_2.setAttribute('selectedIndex', $p0.getAttribute('index'));
        this.get_inputElementBox().value = $p0.getAttribute('value');
    },
    
    $FT_2: function() {
        this.$e_2.setAttribute('selectedIndex', -1);
        this.$e_2.setAttribute('customIndexPosition', 0);
        this.get_inputElementBox().value = '';
    },
    
    $Jg_2: function($p0) {
        if ($p0.target === this.get_inputElementBox()) {
            return;
        }
        if (this.$1_1.get_mode() === 1) {
            var $v_0 = parseInt(this.$e_2.getAttribute('selectedIndex'));
            var $v_1 = $v_0 === -1 || $v_0 === -2;
            if ($v_1) {
                $v_0 = Mscrm.Utilities.parseInt(this.$e_2.getAttribute('customIndexPosition').toString());
            }
            var $v_2 = this.get_$1Z_2();
            var $v_3 = ($v_0 < $v_2.length) ? $v_2[$v_0] : null;
            var $v_4 = null;
            var $v_5 = $p0.keyCode;
            switch ($v_5) {
                case 38:
                    if ($v_0 > 0) {
                        $v_4 = $v_2[$v_0 - 1];
                        this.$2z_2($v_4, $v_3, true);
                        this.$7w_2($v_4);
                    }
                    else if (!$v_0) {
                        this.$FT_2();
                    }
                    break;
                case 40:
                    if ($v_0 < $v_2.length - 1 || ($v_0 === $v_2.length - 1 && $v_1)) {
                        var $v_6 = ($v_1) ? $v_0 : $v_0 + 1;
                        $v_3 = ($v_1) ? null : $v_3;
                        $v_4 = $v_2[$v_6];
                        this.$2z_2($v_4, $v_3, true);
                        this.$7w_2($v_4);
                    }
                    break;
                case 13:
                case 27:
                case 9:
                    if (!IsNull(this.$R_2)) {
                        this.$R_2.hide();
                    }
                    this.$3e_2($p0);
                    break;
            }
            if ($v_5 !== 9) {
                $p0.preventDefault();
            }
            else {
                Mscrm.TabTypeHelper.set_isTabCommit(true);
            }
        }
    },
    
    get_$1Z_2: function() {
        return this.$S_2.getElementsByTagName('tr');
    },
    
    get_$5r_2: function() {
        return XUI.Html.DomUtils.GetFirstChild(this.$e_2.parentNode).clientWidth;
    },
    
    $2z_2: function($p0, $p1, $p2) {
        if ($p2 && !IsNull($p0)) {
            $p0.scrollIntoView();
        }
        if ($p0 !== $p1) {
            if (!IsNull($p0)) {
                Sys.UI.DomElement.addCssClass($p0, 'ms-crm-select-date');
            }
            if (!IsNull($p1)) {
                Sys.UI.DomElement.removeCssClass($p1, 'ms-crm-select-date');
                $p1.style.backgroundColor = this.$39_2;
            }
        }
    },
    
    $Cr_2: function() {
        var $v_0 = this.get_$1Z_2();
        var $v_1 = $v_0.length;
        for (var $v_3 = 0; $v_3 < $v_1; $v_3++) {
            this.$2z_2(null, $v_0[$v_3], false);
        }
        var $v_2 = parseInt(this.$e_2.getAttribute('selectedIndex'));
        if (this.$60_2($v_2)) {
            this.$2z_2($v_0[$v_2], null, false);
        }
    },
    
    $60_2: function($p0) {
        return !IsNull($p0) && $p0 !== -1 && $p0 !== -2;
    }
}


Mscrm.TurboForm.Control.View.EditElementBase = function(controlView) {
    Mscrm.TurboForm.Control.View.EditElementBase.initializeBase(this);
    this.$1_1 = controlView;
    this.$Ki_1();
    this.$11_1 = 'none';
}
Mscrm.TurboForm.Control.View.EditElementBase.prototype = {
    $1_1: null,
    $1U_1: null,
    $4N_1: false,
    $11_1: null,
    
    get_isEditModeEnterOrEscKeyDown: function() {
        return this.$4N_1;
    },
    
    set_isEditModeEnterOrEscKeyDown: function(value) {
        this.$4N_1 = value;
        return value;
    },
    
    get_controlView: function() {
        return this.$1_1;
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(7)) {
            this.$11_1 = propertyBag.getPropertyData(7);
        }
    },
    
    blur: function() {
    },
    
    get_formatter: function() {
        return this.$1U_1;
    },
    
    set_formatter: function(value) {
        this.$1U_1 = value;
        return value;
    },
    
    get_format: function() {
        return this.$11_1;
    },
    
    set_format: function(value) {
        this.$11_1 = value;
        return value;
    },
    
    getRawReadValue: function(rawValue) {
        if (IsNull(rawValue)) {
            return null;
        }
        return this.$1U_1.convertFormattedStringToObject(rawValue);
    },
    
    formatReadValue: function(rawValue) {
        if (IsNull(rawValue)) {
            rawValue = '--';
        }
        var $v_0 = {};
        if (!IsNull(this.$1_1.$4_2)) {
            var $v_1 = this.$1_1.$4_2.getAttributeType();
            switch ($v_1) {
                case 'memo':
                case 'string':
                    return rawValue.toString();
                case 'money':
                case 'decimal':
                case 'double':
                    $v_0['precision'] = (this.$1_1.$4_2).getPrecision();
                    break;
            }
        }
        return this.$1U_1.formatValue(rawValue, $v_0);
    },
    
    getPerceivedEditElementValue: function(value) {
        return (IsNull(value)) ? '' : value.toString();
    },
    
    onEditModeEnterKeyDown: function() {
        this.$1_1.set_mode(0);
        this.$4N_1 = true;
        this.$1_1.revertFocusBackToValueContainer();
    },
    
    onEditModeEscKeyDown: function(keyEvent) {
        this.$1_1.set_mode(0);
        this.$4N_1 = true;
        this.$1_1.revertFocusBackToValueContainer();
    },
    
    onControlEnter: function(keyEvent) {
    },
    
    $Ki_1: function() {
        if (this.$1_1.$Q_3) {
            if (this.$1_1.$Q_3.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.decimalControl) || this.$1_1.$Q_3.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.floatControl)) {
                this.$1U_1 = Mscrm.TurboForm.Control.View.DecimalFormatter.get_instance();
            }
            else if (this.$1_1.$Q_3.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.integerControl)) {
                this.$1U_1 = Mscrm.TurboForm.Control.View.NumberFormatter.get_instance();
            }
            else if (this.$1_1.$Q_3.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.moneyControl)) {
                this.$1U_1 = Mscrm.TurboForm.Control.View.MoneyFormatter.get_instance();
            }
            else {
                this.$1U_1 = Mscrm.TurboForm.Control.View.DefaultFormatter.get_instance();
            }
        }
    },
    
    isElementInHeader: function(targetElement, editContainer) {
        var $v_0 = this.getParents(editContainer, '.ms-crm-HeaderTileElement');
        if (targetElement === $v_0[0]) {
            return true;
        }
        var $v_1 = String.format('.{0}', 'ms-crm-HeaderTileElement');
        var $v_2 = this.getParents(targetElement, $v_1);
        return $v_2.length > 0 && $v_2[0] === $v_0[0];
    },
    
    getParents: function(element, selector) {
        return $P_CRM(element).parents(selector).get();
    },
    
    commitUpdatedValue: function(view) {
    },
    
    $AV_1: true,
    
    get_hasBlurCompleted: function() {
        return this.$AV_1;
    },
    
    set_hasBlurCompleted: function(value) {
        this.$AV_1 = value;
        return value;
    }
}


Mscrm.TurboForm.Control.View.LookupEditElement = function(controlView) {
    this.$$d_performActionAfterKBSearch = Function.createDelegate(this, this.performActionAfterKBSearch);
    this.$$d_handleLookupObjects = Function.createDelegate(this, this.handleLookupObjects);
    this.$$d_$Ii_2 = Function.createDelegate(this, this.$Ii_2);
    this.$$d_$Hx_2 = Function.createDelegate(this, this.$Hx_2);
    this.$$d_showLookupDialog = Function.createDelegate(this, this.showLookupDialog);
    this.$$d_$Cp_2 = Function.createDelegate(this, this.$Cp_2);
    this.$$d_resolveLookup = Function.createDelegate(this, this.resolveLookup);
    this.$$d_$JY_2 = Function.createDelegate(this, this.$JY_2);
    this.$$d_$JZ_2 = Function.createDelegate(this, this.$JZ_2);
    this.$$d_$Ig_2 = Function.createDelegate(this, this.$Ig_2);
    this.$$d_$9t_2 = Function.createDelegate(this, this.$9t_2);
    this.$$d_$KZ_2 = Function.createDelegate(this, this.$KZ_2);
    this.$$d_$Je_2 = Function.createDelegate(this, this.$Je_2);
    this.$$d_$68_2 = Function.createDelegate(this, this.$68_2);
    this.$$d_$JN_2 = Function.createDelegate(this, this.$JN_2);
    this.$$d_onControlKeyDownHandler = Function.createDelegate(this, this.onControlKeyDownHandler);
    this.$$d_onMouseOutHandler = Function.createDelegate(this, this.onMouseOutHandler);
    this.$$d_$JX_2 = Function.createDelegate(this, this.$JX_2);
    this.$$d_$JG_2 = Function.createDelegate(this, this.$JG_2);
    this.$$d_$JD_2 = Function.createDelegate(this, this.$JD_2);
    this.$$d_onImageMouseOverHandler = Function.createDelegate(this, this.onImageMouseOverHandler);
    this.$$d_onImageMouseOutHandler = Function.createDelegate(this, this.onImageMouseOutHandler);
    this.$$d_$JH_2 = Function.createDelegate(this, this.$JH_2);
    this.$$d_$67_2 = Function.createDelegate(this, this.$67_2);
    this.$$d_$JU_2 = Function.createDelegate(this, this.$JU_2);
    this.$$d_$JS_2 = Function.createDelegate(this, this.$JS_2);
    this.$4F_2 = new RegExp('^[^@\\s\\\"<>)(\\[\\]:;,]+@[^@\\s\\\"<>)(\\[\\]:;,]+$');
    this.$l_2 = -1;
    this.$r_2 = [];
    this.$8m_2 = [];
    Mscrm.TurboForm.Control.View.LookupEditElement.initializeBase(this, [ controlView ]);
    this.$8Y_2 = this.$$d_$JS_2;
    this.$8Z_2 = this.$$d_$JU_2;
    this.$X_2 = this.$$d_$67_2;
    this.$Av_2 = this.$$d_$JH_2;
    this.$Aw_2 = this.$$d_onImageMouseOutHandler;
    this.$Ax_2 = this.$$d_onImageMouseOverHandler;
    this.$Ar_2 = this.$$d_$JD_2;
    this.$Au_2 = this.$$d_$JG_2;
    this.$As_2 = this.$$d_$JX_2;
    this.$41_2 = this.$$d_onMouseOutHandler;
    this.$8V_2 = this.$$d_onControlKeyDownHandler;
    this.$8W_2 = this.$$d_$JN_2;
    this.$26_2 = this.$$d_$68_2;
}
Mscrm.TurboForm.Control.View.LookupEditElement.prototype = {
    $1t_2: false,
    $C_2: null,
    $V_2: null,
    $M_2: null,
    $9_2: null,
    $q_2: null,
    $U_2: null,
    $E_2: null,
    $8Y_2: null,
    $8Z_2: null,
    $X_2: null,
    $Av_2: null,
    $Ax_2: null,
    $Aw_2: null,
    $Ar_2: null,
    $Au_2: null,
    $As_2: null,
    $8V_2: null,
    $26_2: null,
    $F_2: null,
    $79_2: null,
    $3x_2: null,
    $41_2: null,
    $8W_2: null,
    $J_2: null,
    $6W_2: null,
    $2K_2: false,
    $8I_2: false,
    $7X_2: null,
    
    get_hasBlurCompleted: function() {
        return (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) || Mscrm.TurboForm.Control.View.EditElementBase.prototype.get_hasBlurCompleted.call(this);
    },
    
    set_hasBlurCompleted: function(value) {
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.set_hasBlurCompleted.call(this, value);
        return value;
    },
    
    get_filterRelationshipId: function() {
        var $v_0 = this.$F_2.parentNode.getAttribute('RelationshipId');
        return (IsNull($v_0)) ? null : $v_0;
    },
    
    set_filterRelationshipId: function(value) {
        this.$F_2.parentNode.setAttribute('RelationshipId', value);
        return value;
    },
    
    get_allowUnresolvedPartiesOnEmailSend: function() {
        var $v_0 = this.$F_2.parentNode.getAttribute('allowUnresolvedPartiesOnEmailSend');
        return !IsNull($v_0) && Mscrm.Utilities.parseBoolean($v_0.toString());
    },
    
    get_resolveEmailAddress: function() {
        var $v_0 = this.$F_2.parentNode.getAttribute('resolveemailaddress');
        return IsNull($v_0) || Mscrm.Utilities.parseBoolean($v_0.toString());
    },
    
    $8H_2: null,
    $O_2: false,
    
    get_lookupSearchIcon: function() {
        return this.$U_2;
    },
    
    set_lookupSearchIcon: function(value) {
        this.$U_2 = value;
        return value;
    },
    
    get_editElement: function() {
        try {
            if (this.isTouchClientDialog()) {
                return null;
            }
            if (this.$O_2) {
                return this.$J_2;
            }
            return this.$M_2;
        }
        catch ($$e_0) {
            return null;
        }
    },
    
    bind: function(container) {
        this.$F_2 = container;
        var $v_0 = String.format('{0}_ledit', this.$1_1.getKey());
        this.$M_2 = container.ownerDocument.getElementById($v_0);
        var $v_1 = String.format('{0}_lookupDiv', this.$1_1.getKey());
        this.$9_2 = container.ownerDocument.getElementById($v_1);
        var $v_2 = String.format('{0}_lookupEditSpan', this.$1_1.getKey());
        this.$q_2 = container.ownerDocument.getElementById($v_2);
        var $v_3 = String.format('{0}_i', this.$1_1.getKey());
        this.$U_2 = container.ownerDocument.getElementById($v_3);
        var $v_4 = String.format('{0}_lookupTable', this.$1_1.getKey());
        this.$79_2 = container.ownerDocument.getElementById($v_4);
        var $v_5 = String.format('{0}_lookupSearch', this.$1_1.getKey());
        this.$3x_2 = container.ownerDocument.getElementById($v_5);
        var $v_6 = String.format('{0}_lookupValue', this.$1_1.getKey());
        this.$E_2 = container.ownerDocument.getElementById($v_6);
        addHandlerToDomElement(this.$M_2, 'keypress', this.$8Y_2);
        addHandlerToDomElement(this.$M_2, 'keyup', this.$8Z_2);
        addHandlerToDomElement(this.$M_2, 'mouseout', this.$41_2);
        addHandlerToDomElement(this.$M_2, 'blur', this.$X_2);
        addHandlerToDomElement(this.$U_2, 'keyup', this.$Av_2);
        addHandlerToDomElement(this.$U_2, 'mouseover', this.$Ax_2);
        addHandlerToDomElement(this.$U_2, 'mouseout', this.$Aw_2);
        addHandlerToDomElement(this.$U_2, 'blur', this.$Ar_2);
        addHandlerToDomElement(this.$U_2, 'focus', this.$Au_2);
        addHandlerToDomElement(this.$3x_2, 'click', this.$As_2);
        addHandlerToDomElement(this.$9_2, 'keydown', this.$8V_2);
        addHandlerToDomElement(this.$M_2, 'keydown', this.$8W_2);
        (this.$1_1.$6_2).$3i_5 = (IsNull($get(this.$1_1.getKey()).getAttribute('isInline'))) ? false : $get(this.$1_1.getKey()).getAttribute('isInline');
        if (!IsNull($get(this.$1_1.getKey()))) {
            var $v_7 = $get(this.$1_1.getKey()).getAttribute('allowfilteroff');
            if (!IsNullOrEmptyString($v_7)) {
                (this.$1_1.$6_2).$4X_5 = $v_7 === '1';
            }
        }
        this.$O_2 = (this.$1_1.$4_2).getIsPartyList();
        if (!this.$O_2) {
            addHandlerToDomElement(this.$9_2, 'blur', this.$X_2);
            addHandlerToDomElement(this.$9_2, 'click', this.$26_2);
            addHandlerToDomElement(this.$E_2, 'click', this.$26_2);
        }
        (this.$1_1.$6_2).bind();
        this.$2E_2(null);
    },
    
    unbind: function() {
        $clearHandlers(this.$79_2);
        $clearHandlers(this.$M_2);
        $clearHandlers(this.$U_2);
        $clearHandlers(this.$3x_2);
        $clearHandlers(this.$9_2);
        if (!IsNull(this.$J_2)) {
            $clearHandlers(this.$J_2);
        }
        if (!IsNull(this.$E_2)) {
            $clearHandlers(this.$E_2);
        }
        if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
            this.$C_2.hide();
            this.$C_2.clear();
        }
        this.$M_2 = null;
        this.$9_2 = null;
        this.$q_2 = null;
        this.$F_2 = null;
        this.$3x_2 = null;
        this.$U_2 = null;
        this.$79_2 = null;
        this.$E_2 = null;
        this.$J_2 = null;
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(21)) {
            this.$r_2 = propertyBag.getPropertyData(21);
            this.$Cu_2();
        }
        if (propertyBag.hasPropertyData(22)) {
            this.$8m_2 = propertyBag.getPropertyData(22);
            this.$Hw_2();
        }
        if (propertyBag.hasPropertyData(6)) {
            var $v_0 = propertyBag.getPropertyData(6);
            var $v_1 = $v_0;
            this.$2E_2($v_1);
            Mscrm.TurboForm.Common.ProcessIdRequestManager.get_instance().processLookupControlItems($v_1);
        }
    },
    
    $LL_2: function() {
        var $v_0 = document.querySelector('label[for=' + this.$1_1.getKey() + '_ledit]');
        if (!IsNull($v_0)) {
            var $v_1 = $get(String.format('{0}_c', this.$1_1.getKey()));
            var $v_2 = $get(String.format('{0}_requiredImage', this.$1_1.getKey()));
            var $v_3 = this.$1_1.$Q_3.Label;
            var $v_4 = (!IsNull($v_1)) ? $v_1.title : '';
            var $v_5 = (!IsNull($v_2)) ? ($v_2).alt : '';
            XUI.Html.SetText($v_0, String.format('{0} {1} {2}', $v_3, $v_4, $v_5));
        }
    },
    
    $2E_2: function($p0) {
        if (this.$O_2) {
            if (!IsNull(this.$J_2)) {
                $clearHandlers(this.$J_2);
            }
            var $v_0 = XUI.Html.DomUtils.GetFirstChild(this.$9_2);
            var $$t_K = this;
            XUI.Xml.DomUtils.ForEachChild($v_0, function($p1_0) {
                $clearHandlers($p1_0);
                return false;
            });
            $v_0.innerHTML = '';
            var $v_1 = '';
            if (!IsNull($p0)) {
                for (var $$arr_4 = $p0, $$len_5 = $$arr_4.length, $$idx_6 = 0; $$idx_6 < $$len_5; ++$$idx_6) {
                    var $v_4 = $$arr_4[$$idx_6];
                    if (IsNullOrEmptyString($v_4.name)) {
                        $v_4.name = window.LOCID_INLINELOOKUP_NONAME;
                    }
                    var $v_5 = CrmEncodeDecode.CrmHtmlDecode(CrmEncodeDecode.CrmHtmlDecode($v_4.name));
                    if (IsNull($v_4.category) && $v_4.type === '9206') {
                        $v_4.category = 3;
                    }
                    if ($v_4.category === 2 || (!this.get_allowUnresolvedPartiesOnEmailSend() && $v_4.category === 3) || (!this.$O_2 && $v_4.category === 1)) {
                        $v_1 += $v_5;
                        continue;
                    }
                    var $v_6 = document.createElement('li');
                    $v_6.id = 'LookupItem';
                    $v_6.style.whiteSpace = 'nowrap';
                    $v_6.style.marginBottom = '3px';
                    $v_6.style.marginLeft = '3px';
                    $v_6.style.marginRight = '3px';
                    $v_6.style.backgroundColor = 'rgb(204, 227, 244)';
                    XUI.Html.SetFloat($v_6, (Mscrm.Utilities.get_isLeftToRight()) ? 'left' : 'right');
                    var $v_7 = document.createElement('span');
                    $v_7.id = 'lookupItem';
                    $v_7.setAttribute('contenteditable', 'false');
                    $v_7.setAttribute('oid', $v_4.id);
                    $v_7.setAttribute('title', $v_5);
                    $v_7.setAttribute('otype', $v_4.type);
                    $v_7.setAttribute('otypename', $v_4.entityType);
                    $v_7.setAttribute('category', $v_4.category);
                    $v_7.tabIndex = 0;
                    var $v_8 = document.createElement('span');
                    $v_8.setAttribute('contenteditable', 'false');
                    $v_8.setAttribute('unselectable', 'on');
                    $v_8.setAttribute('wrapper', 'true');
                    var $v_9 = document.createElement('span');
                    XUI.Html.SetText($v_9, $v_5);
                    $v_9.setAttribute('wrapper', 'true');
                    Sys.UI.DomElement.addCssClass($v_9, 'ms-crm-LookupItem-Name');
                    $v_8.appendChild($v_9);
                    var $v_A = document.createElement('a');
                    $v_A.setAttribute('contenteditable', 'false');
                    $v_A.setAttribute('tabindex', '-1');
                    $v_A.setAttribute('onclick', 'return false;');
                    $v_A.setAttribute('href', 'javascript:onclick()');
                    $v_A.setAttribute('target', '_self');
                    $v_A.setAttribute('title', $v_5);
                    Sys.UI.DomElement.addCssClass($v_A, 'atLink');
                    $v_8.appendChild($v_A);
                    $v_7.appendChild($v_8);
                    var $v_B = document.createElement('span');
                    $v_B.setAttribute('wrapper', 'true');
                    Sys.UI.DomElement.addCssClass($v_B, 'ms-crm-LookupItem-Seperator');
                    XUI.Html.SetText($v_B, ';');
                    $v_7.appendChild($v_B);
                    $v_6.appendChild($v_7);
                    var $v_C = document.createElement('span');
                    $v_C.className = 'ms-crm-LookupItem-Seperator';
                    $v_C.setAttribute('wrapper', 'true');
                    $v_6.appendChild($v_C);
                    $v_0.appendChild($v_6);
                    this.$Fp_2($v_7);
                }
                var $v_3 = this.$1_1.$a_3.children.length;
                for (var $v_D = 0; $v_D < $v_3; $v_D++) {
                    if (this.$1_1.$a_3.children[$v_D].id === 'LookupItem') {
                        addHandlerToDomElement(this.$1_1.$a_3.children[$v_D], 'click', this.$$d_$Je_2);
                    }
                }
            }
            var $v_2 = document.createElement('li');
            XUI.Html.SetFloat($v_2, (Mscrm.Utilities.get_isLeftToRight()) ? 'left' : 'right');
            $v_2.style.whiteSpace = 'nowrap';
            $v_2.id = 'LookupItem';
            this.$J_2 = document.createElement('input');
            this.$J_2.id = String.format('{0}_ledit_multi', this.$1_1.getName());
            this.$J_2.style.border = '0px';
            this.$J_2.style.display = 'block';
            $v_2.appendChild(this.$J_2);
            this.$J_2.value = $v_1;
            $v_0.appendChild($v_2);
            this.resizeAndShowHideMultiLookupInputElement();
            this.$J_2.focus();
            this.$BK_2();
        }
        else {
            if (!IsNull($p0) && $p0.length > 0) {
                if (this.$1_1.get_mode() === 1) {
                    this.$1_1.set_mode(0);
                }
                if (IsNullOrEmptyString($p0[0].name)) {
                    $p0[0].name = window.LOCID_INLINELOOKUP_NONAME;
                }
                if (IsNull($p0[0].category) && $p0[0].type === '9206') {
                    $p0[0].category = 3;
                }
                var $v_E = XUI.Html.DomUtils.GetFirstChild(this.$q_2);
                XUI.Html.SetText(this.$q_2, CrmEncodeDecode.CrmHtmlDecode(CrmEncodeDecode.CrmHtmlDecode($p0[0].name)));
                if (!IsNull($v_E) && !IsNull($v_E.tagName) && $v_E.tagName.toLowerCase() === 'img') {
                    this.$q_2.insertBefore($v_E, XUI.Html.DomUtils.GetFirstChild(this.$q_2));
                }
                this.$q_2.setAttribute('otype', $p0[0].type);
                this.$9_2.title = $p0[0].name;
            }
            else {
                XUI.Html.SetText(this.$q_2, '');
                this.$9_2.title = '';
                this.$LL_2();
            }
        }
        if (!IsNull($p0) && $p0.length > 0) {
            this.$LP_2($p0);
        }
    },
    
    $BK_2: function() {
        if (!IsNull(this.$J_2)) {
            addHandlerToDomElement(this.$J_2, 'keyup', this.$8Z_2);
            addHandlerToDomElement(this.$J_2, 'keypress', this.$8Y_2);
            addHandlerToDomElement(this.$J_2, 'keydown', this.$8W_2);
            addHandlerToDomElement(this.$J_2, 'blur', this.$X_2);
        }
    },
    
    $Fp_2: function($p0) {
        if (!IsNull($p0)) {
            addHandlerToDomElement($p0, 'click', this.$$d_$KZ_2);
            addHandlerToDomElement($p0, 'dblclick', this.$$d_$9t_2);
            addHandlerToDomElement($p0, 'keydown', this.$$d_$Ig_2);
            addHandlerToDomElement($p0, 'mouseover', this.$$d_$JZ_2);
            addHandlerToDomElement($p0, 'mouseout', this.$$d_$JY_2);
        }
    },
    
    enterEditMode: function() {
        this.$8I_2 = false;
        this.$2K_2 = false;
        this.$7X_2 = this.$1_1.$4_2.getValue();
        if (!this.$O_2) {
            if (!IsNullOrEmptyString(XUI.Html.GetText(this.$q_2))) {
                Sys.UI.DomElement.removeCssClass(this.$9_2, 'ms-crm-Hidden-NoBehavior');
                this.$M_2.style.display = 'none';
                this.$9_2.style.display = 'block';
                this.$9_2.style.backgroundColor = '#abc0e7';
                this.$9_2.style.width = '100%';
                this.$9_2.focus();
                var $v_0 = this.$1_1.$4_2.getValue();
                if (IsNull($v_0) || ($v_0.length > 0 && $v_0[0].name !== XUI.Html.GetText(this.$q_2).trim())) {
                    XUI.Html.SetText(this.$q_2, XUI.Html.GetText(this.$q_2).trim());
                    this.$2K_2 = true;
                    this.$3x_2.click();
                }
                else {
                    this.$M_2.value = XUI.Html.GetText(this.$q_2).trim();
                }
            }
            else {
                this.$9_2.style.display = 'none';
                this.$9_2.style.backgroundColor = '';
                this.$M_2.style.display = 'block';
                this.$M_2.value = '';
                this.$M_2.focus();
            }
        }
        else {
            this.resizeAndShowHideMultiLookupInputElement();
            this.$9_2.style.display = 'block';
            this.$M_2.style.display = 'none';
            this.$9_2.style.width = '100%';
            if (!IsNull(this.$J_2)) {
                this.$J_2.focus();
                if (!IsNullOrEmptyString(this.$J_2.value)) {
                    var $v_1 = (this.$1_1.$6_2).$3n_5;
                    if (!IsNull($v_1) && !((this.$J_2.value) in $v_1)) {
                        this.$3x_2.click();
                    }
                }
            }
        }
        if (!IsNull(this.$U_2)) {
            this.$U_2.setAttribute('title', window.LOCID_INLINELOOKUP_SELECT_VALUE);
        }
    },
    
    $JS_2: function($p0) {
        switch ($p0.keyCode) {
            case 13:
                $p0.preventDefault();
                $p0.stopPropagation();
                break;
            case 11:
            case 75:
                if ($p0.ctrlKey) {
                    $p0.preventDefault();
                }
                break;
            default:
                if (this.$O_2) {
                    $p0.stopPropagation();
                }
                break;
        }
    },
    
    $JU_2: function($p0) {
        switch ($p0.keyCode) {
            case 13:
            case 27:
            case 127:
            case 38:
            case 40:
            case 9:
            case 16:
            case 17:
            case 18:
                $p0.stopPropagation();
                $p0.preventDefault();
                break;
            default:
                if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
                    if (this.$l_2 !== -1) {
                        var $v_0 = this.$C_2.get_menuItems()[this.$l_2];
                        if (!IsNull($v_0)) {
                            $v_0.displayRestStyle();
                        }
                    }
                    this.$l_2 = -1;
                }
                if (this.$O_2) {
                    $p0.stopPropagation();
                }
                break;
        }
    },
    
    $67_2: function($p0) {
        if (Mscrm.Utilities.isIE() || Mscrm.Utilities.isEdge()) {
            var $$t_1 = this;
            window.setTimeout(function() {
                $$t_1.$9H_2($p0);
            }, 0);
        }
        else {
            this.$9H_2($p0);
        }
    },
    
    $9H_2: function($p0) {
        if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
            return;
        }
        if (!this.$O_2 && !this.$2K_2 && $p0.target === this.$9_2) {
            this.$1_1.set_mode(0);
            return;
        }
        window.setTimeout(this.$$d_resolveLookup, 15);
        this.$1_1.set_mode(0);
    },
    
    $KO_2: function() {
        if (!IsNull(this.$U_2)) {
            this.$U_2.setAttribute('src', window.CDNURL + '/_imgs/btn_lookup_resolving.gif');
        }
    },
    
    $JH_2: function($p0) {
        switch ($p0.keyCode) {
            case 8:
                $p0.preventDefault();
                $p0.stopPropagation();
                break;
            case 13:
                $p0.preventDefault();
                $p0.stopPropagation();
                break;
            case 85:
                if ($p0.ctrlKey) {
                    $p0.stopPropagation();
                }
                break;
        }
    },
    
    onImageMouseOverHandler: function(domEvent) {
        removeHandlerFromDomElement(this.$M_2, 'blur', this.$X_2);
        if (!this.$O_2) {
            removeHandlerFromDomElement(this.$9_2, 'blur', this.$X_2);
        }
        else {
            removeHandlerFromDomElement(this.$J_2, 'blur', this.$X_2);
        }
        if (!IsNull(this.$U_2)) {
            this.$U_2.setAttribute('src', window.CDNURL + '/_imgs/search_hover.gif');
        }
    },
    
    onImageMouseOutHandler: function(domEvent) {
        addHandlerToDomElement(this.$M_2, 'blur', this.$X_2);
        if (!this.$O_2) {
            addHandlerToDomElement(this.$9_2, 'blur', this.$X_2);
        }
        else {
            addHandlerToDomElement(this.$J_2, 'blur', this.$X_2);
        }
        if (!IsNull(this.$U_2)) {
            this.$U_2.setAttribute('src', window.CDNURL + '/_imgs/search_normal.gif');
        }
    },
    
    $JG_2: function($p0) {
        if (!IsNull(this.$9_2)) {
            this.$9_2.style.backgroundColor = '#abc0e7';
            this.$9_2.focus();
        }
    },
    
    $JD_2: function($p0) {
        if (!IsNull(this.$9_2)) {
            this.$9_2.style.backgroundColor = '';
            this.$1_1.set_mode(0);
        }
    },
    
    onControlEnter: function(keyEvent) {
        this.$68_2(keyEvent);
    },
    
    $JX_2: function($p0) {
        if (IsNull(this.$F_2.getAttribute('lookuptypes')) || !(parseInt(this.$F_2.getAttribute('lookuptypes').toString()) === 127)) {
            if (!IsNull(this.$F_2.parentNode.getAttribute('isDeDupLookup')) && this.$F_2.parentNode.getAttribute('isDeDupLookup').toString() === '1' && !IsNullOrEmptyString(this.$HY_2())) {
                this.$L8_2();
            }
            else {
                this.showSearchResults();
            }
        }
        else {
            if (this.$2K_2) {
                this.$Cu_2();
            }
            else {
                this.KBArticleLookup();
            }
        }
    },
    
    $HY_2: function() {
        return (Xrm.Page.data.entity.getEntityName() === 'lead') ? Xrm.Page.data.entity.getId() : null;
    },
    
    $L8_2: function() {
        (this.$1_1.$6_2).issueDuplicatesSearch();
    },
    
    showSearchResults: function() {
        this.$KO_2();
        (this.$1_1.$6_2).issueLookupSearch(this.$3d_2(), 'RetrieveInlineSearchResults', this.$Bp_2(), this.get_resolveEmailAddress());
    },
    
    $3d_2: function() {
        var $v_0 = '';
        if (!this.$O_2) {
            if (!IsNull(this.$M_2) && !IsNullOrEmptyString(this.$M_2.value)) {
                $v_0 = (this.$M_2.value === window.LOCID_INLINELOOKUP_NONAME) ? '' : this.$M_2.value;
            }
            else if (this.$2K_2 && !IsNull(this.$q_2) && !IsNullOrEmptyString(XUI.Html.GetText(this.$q_2))) {
                $v_0 = (XUI.Html.GetText(this.$q_2) === window.LOCID_INLINELOOKUP_NONAME) ? '' : XUI.Html.GetText(this.$q_2);
            }
        }
        else if (!IsNull(this.$J_2) && !IsNullOrEmptyString(this.$J_2.value)) {
            $v_0 = this.$J_2.value;
        }
        return $v_0;
    },
    
    $2B_2: function() {
        if (!IsNull(this.$C_2)) {
            this.$C_2.clear();
            this.$C_2.hide();
            this.$l_2 = -1;
        }
    },
    
    $Cu_2: function() {
        var $v_0 = {};
        if (!IsNull(this.$C_2)) {
            this.$2B_2();
        }
        $v_0['onClickCallback'] = this.$$d_$Cp_2;
        $v_0['inlineMenuId'] = this.$1_1.getKey() + '_IMenu';
        $v_0['enableShowMore'] = true;
        $v_0['showMoreCallback'] = this.$$d_showLookupDialog;
        this.$1t_2 = false;
        $v_0['itemHeight'] = 35;
        $v_0['maxHeight'] = 284;
        var $v_1 = this.$EA_2();
        var $v_2 = {};
        $v_2 = Mscrm.Utilities.getILMenuDimension(this.$79_2, this.$r_2.length > 7, $v_1);
        var $v_3 = $v_2['valid'];
        if ($v_3) {
            $v_0['top'] = $v_2['top'];
            $v_0['left'] = $v_2['left'];
            $v_0['width'] = $v_2['width'];
            $v_0['inlineMenu'] = this.$C_2;
            if (this.$O_2) {
                $v_0['focusElementOnHide'] = this.$J_2;
                $v_0['focusElementOnShow'] = this.$J_2;
            }
            else {
                if (this.$M_2.style.display === 'none') {
                    $v_0['focusElementOnHide'] = this.$9_2;
                    $v_0['focusElementOnShow'] = this.$9_2;
                }
                else {
                    $v_0['focusElementOnHide'] = this.$M_2;
                    $v_0['focusElementOnShow'] = this.$M_2;
                }
            }
            $v_0['inlineMenuFooterDOM'] = this.$DD_2();
            $v_0['inlineMenuHeaderDOM'] = this.$Ff_2();
            this.$C0_2();
            this.$C_2 = Mscrm.Utilities.showInlineMenu(this.$r_2, $v_0);
        }
        else {
            this.$C0_2();
        }
    },
    
    showLookupDialog: function(item) {
        if (isOutlookHostedWindow()) {
            removeHandlerFromDomElement(this.$M_2, 'blur', this.$X_2);
            removeHandlerFromDomElement(this.$9_2, 'blur', this.$X_2);
        }
        this.$2B_2();
        this.Lookup(true, false);
    },
    
    $Hw_2: function() {
        if (this.$8m_2.length > 0) {
            var $v_0;
            if (this.$O_2) {
                $v_0 = (this.$1_1.$6_2).excludeAndCloneMultiLookupItems('');
            }
            else {
                $v_0 = new Array(0);
            }
            for (var $$arr_1 = this.$8m_2, $$len_2 = $$arr_1.length, $$idx_3 = 0; $$idx_3 < $$len_2; ++$$idx_3) {
                var $v_1 = $$arr_1[$$idx_3];
                if ($v_1.category === 3 && !this.get_allowUnresolvedPartiesOnEmailSend()) {
                    $v_1.category = 2;
                }
                else if (($v_1.category === 1 || $v_1.category === 2 || $v_1.category === 3) && this.$4F_2.test($v_1.name) && this.get_allowUnresolvedPartiesOnEmailSend()) {
                    this.$Hm_2($v_1);
                    var $v_2 = (this.$1_1.$6_2).$3l_3;
                    (this.$1_1.$6_2).setCategoryForUnknownEmailItem($v_2, $v_1, this.get_allowUnresolvedPartiesOnEmailSend());
                }
                if ($v_1.category === 2) {
                    this.$1_1.setAlertWarningImage(false);
                    var $v_3 = Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(20);
                    (this.$1_1.$6_2).setNotification($v_3, 'ControlValidationFailedKey');
                    if (!IsNull(this.$E_2)) {
                        XUI.Html.SetText(this.$E_2, $v_1.name);
                        this.$E_2.title = $v_1.name;
                        this.$E_2.style.color = '#FF0000';
                        XUI.Html.SetText(this.$q_2, $v_1.name);
                        this.$9_2.title = $v_1.name;
                    }
                    $v_0[$v_0.length] = $v_1;
                }
                else if ($v_1.category === 1) {
                    this.$1_1.setAlertWarningImage(true);
                    var $v_4 = Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(21);
                    (this.$1_1.$6_2).setNotification($v_4, 'ControlValidationFailedKey');
                    if (!IsNull(this.$E_2)) {
                        XUI.Html.SetText(this.$E_2, $v_1.name);
                        this.$E_2.title = $v_1.name;
                        XUI.Html.SetText(this.$q_2, $v_1.name);
                        this.$9_2.title = $v_1.name;
                    }
                    $v_0[$v_0.length] = $v_1;
                }
                else if ($v_1.category === 3) {
                    if (!IsNull(this.$E_2)) {
                        XUI.Html.SetText(this.$E_2, $v_1.name);
                        this.$E_2.title = $v_1.name;
                        XUI.Html.SetText(this.$q_2, $v_1.name);
                        this.$9_2.title = $v_1.name;
                    }
                    $v_0[$v_0.length] = $v_1;
                }
                else {
                    if (!this.$O_2 || !(this.$1_1.$6_2).lookupControlItemExists($v_1)) {
                        var $v_5 = ($v_1.keyValues['processid']);
                        var $v_6 = ($v_1.keyValues['processts']);
                        var $v_7 = !IsNull($v_5) && !IsNull($v_6);
                        if ($v_7) {
                            $v_1.processId = $v_5.value;
                            $v_1.processTimestamp = $v_6.value;
                        }
                        $v_0[$v_0.length] = $v_1;
                    }
                    if (!this.$O_2) {
                        XUI.Html.SetText(this.$q_2, $v_1.name);
                        this.$9_2.title = $v_1.name;
                    }
                }
                if (($v_1.category === 1 || $v_1.category === 2) && !this.$O_2 && (this.$1_1.$4_2).supportsMultipleTypes()) {
                    (this.$1_1.$4_2).setTypeIcon('/_imgs/ico_16_systementity.gif');
                }
            }
            this.$1_1.$4_2.setValue($v_0, this.$1_1.getKey());
            this.$7X_2 = $v_0;
            this.$2E_2($v_0);
        }
        if (!this.$O_2) {
            this.$1_1.set_mode(0);
        }
    },
    
    onMouseOutHandler: function(domEvent) {
        this.$C0_2();
    },
    
    $C0_2: function() {
        if (!IsNull(this.$U_2)) {
            this.$U_2.setAttribute('src', window.CDNURL + '/_imgs/search_normal.gif');
        }
    },
    
    $EA_2: function() {
        var $v_0;
        var $v_1 = (this.$r_2.length > 6) ? 6 : this.$r_2.length;
        if (!$v_1) {
            $v_1++;
        }
        $v_0 = 37 * $v_1 + 24;
        $v_0 += (this.$r_2.length > 6) ? 37 : 24;
        return $v_0;
    },
    
    $Cp_2: function($p0) {
        var $v_0 = this.$r_2[$p0.get_reference()];
        if (!IsNull($v_0)) {
            var $v_1 = new LookupControlItem();
            $v_1.id = $v_0.get_objectId();
            $v_1.type = $v_0.get_entityTypeCode().toString();
            $v_1.entityType = $v_0.get_entityLogicalName();
            $v_1.name = (IsNullOrEmptyString($v_0.get_title().get_value())) ? window.LOCID_INLINELOOKUP_NONAME : $v_0.get_title().get_value();
            $v_1.data = '';
            $v_1.keyValues = {};
            for (var $v_3 = 0; $v_3 < $v_0.get_hiddenColumns().length; $v_3++) {
                var $v_4 = $v_0.get_hiddenColumns()[$v_3];
                $v_1.keyValues[$v_4.get_columnName()] = new Mscrm.LookupItemData($v_4.get_columnName(), $v_4.get_value());
                if ($v_4.get_columnName() === 'processid') {
                    $v_1.processId = $v_4.get_value();
                }
                if ($v_4.get_columnName() === 'processts') {
                    $v_1.processTimestamp = $v_4.get_value();
                }
            }
            var $v_2;
            if (this.$O_2) {
                $v_2 = (this.$1_1.$6_2).excludeAndCloneMultiLookupItems('');
                this.$J_2.value = '';
            }
            else {
                $v_2 = new Array(0);
            }
            if (!this.$O_2 || !(this.$1_1.$6_2).lookupControlItemExists($v_1)) {
                $v_2[$v_2.length] = $v_1;
            }
            this.$1_1.$4_2.setValue($v_2, this.$1_1.getKey(), true);
            this.$7X_2 = $v_2;
            if (!this.$O_2) {
                this.$2K_2 = false;
                this.$1_1.setAlertWarningImage(false);
                (this.$1_1.$6_2).clearNotification('ControlValidationFailedKey');
                XUI.Html.SetText(this.$q_2, $v_2[0].name);
                this.$9_2.title = $v_2[0].name;
                this.$M_2.value = '';
                if (this.$9_2.style.display === 'block' || this.$M_2.style.display === 'block') {
                    this.$9_2.blur();
                    this.$M_2.blur();
                }
                this.onEditModeEnterKeyDown();
            }
        }
    },
    
    $Ff_2: function() {
        var $v_0 = document.createElement('DIV');
        if ((this.$1_1.$6_2).$8w_5 && !isNullOrEmptyString((this.$1_1.$6_2).$59_5)) {
            Sys.UI.DomElement.addCssClass($v_0, 'ms-crm-IL-Header');
            XUI.Html.SetText($v_0, (this.$1_1.$6_2).$59_5);
            if (!this.$r_2.length) {
                $v_0.style.display = 'none';
            }
        }
        return $v_0;
    },
    
    $DD_2: function() {
        var $v_0 = $get(this.$1_1.getKey());
        if (!IsNull($v_0)) {
            var $v_1 = $v_0.getAttribute('entityDisplayName');
            var $v_2 = ($v_0.getAttribute('entityLogicalName'));
            var $v_3 = $v_0.getAttribute('openFullForm');
            var $v_4 = false;
            var $v_5 = ($v_0.getAttribute('isInlineNewEnabled') === '1') && !!$v_2.length;
            if (!IsNull($v_2)) {
                var $v_8 = (this.$1_1.$4_2).getCreatePermissionsDictionary();
                if (!IsNullOrEmptyString($v_8)) {
                    var $v_9 = $v_8.split(',');
                    for (var $v_A = 0; $v_A < $v_9.length; $v_A++) {
                        if ($v_9[$v_A].split(':')[0].toUpperCase() === $v_2.toUpperCase()) {
                            $v_4 = Mscrm.Utilities.parseBoolean($v_9[$v_A].split(':')[1]);
                        }
                    }
                }
            }
            var $v_6 = document.createElement('DIV');
            Sys.UI.DomElement.addCssClass($v_6, 'ms-crm-IL-Footer');
            var $v_7 = document.createElement('DIV');
            if (this.$r_2.length > 0) {
                var $v_B = GetGlobalVariable('LOCID_INLINELOOKUP_RESULTS');
                if (this.$r_2.length === 1) {
                    $v_B = GetGlobalVariable('LOCID_INLINELOOKUP_RESULT');
                }
                var $v_C = String.format(GetGlobalVariable('LOCID_INLINELOOKUP_RFORMAT'), this.$r_2.length.toString(), $v_B);
                XUI.Html.SetText($v_7, $v_C);
                $v_7.setAttribute('aria-label', $v_C);
            }
            $v_7.tabIndex = 0;
            Sys.UI.DomElement.addCssClass($v_7, 'ms-crm-InlineLookup-FooterSection-TopResults');
            $v_6.appendChild($v_7);
            if (!$v() && $v_5 && $v_4 && Mscrm.GlobalQuickCreate.QuickCreateStack.get_globalInstance().canAddItems()) {
                var $v_D = document.createElement('DIV');
                Sys.UI.DomElement.addCssClass($v_D, 'ms-crm-InlineLookup-FooterSection-AddNew');
                $v_6.appendChild($v_D);
                this.$V_2 = document.createElement('A');
                $v_D.appendChild(this.$V_2);
                this.$V_2.href = 'javascript:void(0);';
                this.$V_2.title = String.format(GetGlobalVariable('LOCID_INLINELOOKUP_NEW_RECORD'), $v_1);
                this.$V_2.tabIndex = 0;
                Sys.UI.DomElement.addCssClass(this.$V_2, 'ms-crm-InlineLookup-FooterSection-AddAnchor');
                if ($v_3 === '1') {
                    var $$t_I = this;
                    addHandlerToDomElement(this.$V_2, 'click', function($p1_0) {
                        if (!IsNull($$t_I.$C_2) && $$t_I.$C_2.get_isVisible()) {
                            $$t_I.$C_2.set_focusElementOnHide(null);
                            $$t_I.$C_2.updateDialogFocusElementOnHide(null);
                            $$t_I.$2B_2();
                        }
                        if (Mscrm.Utilities.isIE10() && !isOutlookHostedWindow()) {
                            removeHandlerFromWindow('beforeunload', Mscrm.TurboForm.Control.CommandService.get_instance().$$d_$KT_1);
                            window.setTimeout(function() {
                                $$t_I.$F4_2($v_2);
                                addHandlerToWindow('beforeunload', Mscrm.TurboForm.Control.CommandService.get_instance().$$d_$KT_1);
                            }, 0);
                        }
                        else {
                            $$t_I.$F4_2($v_2);
                        }
                    });
                }
                else {
                    var $v_F = String.format('{0}_lookup_quickcreate', this.$1_1.getKey());
                    var $v_G = (this.$F_2.style.zIndex + 990);
                    if (IsNull(this.$8H_2)) {
                        this.$8H_2 = new Mscrm.GlobalQuickCreate.LookupGlobalQuickCreateCallbacks($v_F, $v_G, this.$$d_$Hx_2);
                    }
                    addHandlerToDomElement(this.$V_2, 'click', this.$$d_$Ii_2);
                }
                var $v_E = document.createElement('IMG');
                $v_E.src = '/_imgs/add_10.png';
                Sys.UI.DomElement.addCssClass($v_E, 'ms-crm-InlineLookup-FooterSection-AddImage');
                this.$V_2.appendChild($v_E);
                this.$V_2.innerHTML += CrmEncodeDecode.CrmHtmlEncode(GetGlobalVariable('LOCID_INLINELOOKUP_NEW'));
            }
            return $v_6;
        }
        return null;
    },
    
    $Hq_2: function($p0, $p1) {
        $p0.preventDefault();
        this.$C_2.hide();
        var $v_0 = this.get_editElement();
        if (!IsNull($v_0)) {
            $v_0.value = '';
        }
        if (!IsNull($p1) && !IsNull(this.$V_2)) {
            $removeHandler(this.$V_2, 'click', $p1);
        }
    },
    
    $Ii_2: function($p0) {
        var $v_0 = this.$3d_2();
        this.$Hq_2($p0, this.$$d_$Ii_2);
        var $v_1 = Mscrm.TurboForm.Control.PageManager.get_instance().getGlobalQuickCreateTimestampDictionary(this.$1_1.getKey());
        Mscrm.GlobalQuickCreate.GlobalQuickCreateBehavior.launchGlobalQuickCreate(this.$8H_2, this.$F_2.parentNode.getAttribute('entityDisplayName'), parseInt(this.$F_2.parentNode.getAttribute('entityTypeCode')), $v_1, Xrm.Page.data.entity.getId(), Xrm.Internal.getEntityCode(Xrm.Page.data.entity.getEntityName()), $v_0);
    },
    
    isTouchClientDialog: function() {
        if (!IsNull(this.$F_2)) {
            var $v_0 = Mscrm.CrmUri.create(this.$F_2.ownerDocument.URL);
            var $v_1 = $v_0.get_query()['dType'];
            return (!IsNull($v_1) && $v_1 === '2');
        }
        return false;
    },
    
    onControlKeyDownHandler: function(domEvent) {
        if (!this.$O_2) {
            removeHandlerFromDomElement(this.$9_2, 'blur', this.$X_2);
        }
        switch (domEvent.keyCode) {
            case 27:
                if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
                    this.$2B_2();
                }
                else {
                    this.$1_1.set_mode(0);
                }
                domEvent.stopPropagation();
                domEvent.preventDefault();
                return;
            case 38:
                if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
                    this.$2B_2();
                    domEvent.stopPropagation();
                    domEvent.preventDefault();
                    return;
                }
                break;
            case 32:
            case 13:
                if (this.$1t_2) {
                    this.$1t_2 = false;
                    this.$V_2.click();
                    domEvent.preventDefault();
                    domEvent.stopPropagation();
                    return;
                }
                this.showSearchResults();
                domEvent.stopPropagation();
                domEvent.preventDefault();
                return;
            case 40:
                if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
                    if (this.lookupDownKeyEdit(domEvent)) {
                        domEvent.stopPropagation();
                        domEvent.preventDefault();
                        return;
                    }
                    if (this.$Im_2(domEvent, this.$9_2)) {
                        return;
                    }
                }
                return;
            case 83:
                if (domEvent.ctrlKey || domEvent.altKey) {
                    domEvent.preventDefault();
                    return;
                }
                break;
            case 85:
                if (domEvent.ctrlKey) {
                    if (Sys.UI.DomElement.containsCssClass(this.$9_2, 'ms-crm-Lookup-Item')) {
                        this.$9_2.click();
                        domEvent.stopPropagation();
                        domEvent.preventDefault();
                        return;
                    }
                }
                break;
            case 17:
                addHandlerToDomElement(this.$9_2, 'blur', this.$X_2);
                return;
            case 67:
                if (domEvent.ctrlKey) {
                    addHandlerToDomElement(this.$9_2, 'blur', this.$X_2);
                    this.$GV_2(this.$q_2.title);
                    this.$1_1.set_mode(1);
                    domEvent.preventDefault();
                    return;
                }
                break;
            case 8:
            case 127:
                XUI.Html.SetText(this.$q_2, '');
                this.$1_1.setAlertWarningImage(false);
                (this.$1_1.$6_2).clearNotification('ControlValidationFailedKey');
                break;
            case 9:
                if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
                    if (this.$l_2 !== -1) {
                        this.$CQ_2(domEvent.shiftKey);
                        domEvent.stopPropagation();
                        domEvent.preventDefault();
                        return;
                    }
                    else {
                        this.$2B_2();
                        if (this.$2K_2) {
                            this.resolveLookup();
                        }
                    }
                }
                else {
                    if (this.$2K_2) {
                        this.resolveLookup();
                    }
                }
                return;
            case 16:
                return;
        }
        if (!this.$O_2) {
            this.$M_2.value = '';
            XUI.Html.SetText(this.$q_2, '');
            XUI.Html.SetText(this.$E_2, '');
        }
        this.$F8_2();
    },
    
    $GV_2: function($p0) {
        var $v_0 = document.createElement('input');
        $v_0.value = $p0;
        document.body.appendChild($v_0);
        var $v_1 = $P_CRM($v_0);
        $v_1.select();
        document.execCommand('copy');
        $v_1.remove();
    },
    
    $F8_2: function() {
        if (!this.$O_2) {
            $clearHandlers(this.$9_2);
        }
        else {
            removeHandlerFromDomElement(this.$J_2, 'blur', this.$X_2);
        }
        if (!IsNull(this.$M_2) && !IsNull(this.$9_2)) {
            if (!this.$O_2) {
                this.$M_2.disabled = false;
                this.$M_2.className = 'ms-crm-InlineInput ms-crm-InlineLookupEdit';
                this.$M_2.style.display = 'block';
                Sys.UI.DomElement.addCssClass(this.$9_2, 'ms-crm-Hidden-NoBehavior');
                try {
                    this.$M_2.focus();
                }
                catch ($$e_0) {
                }
                this.$9_2.style.width = '0px';
            }
            else {
                this.$J_2.disabled = false;
                this.$J_2.className = 'ms-crm-InlineInput ms-crm-InlineLookupEdit';
                this.$9_2.style.display = 'block';
                try {
                    this.$J_2.focus();
                }
                catch ($$e_1) {
                }
            }
        }
        if (!this.$O_2) {
            var $$t_2 = this;
            window.setTimeout(function() {
                addHandlerToDomElement($$t_2.$9_2, 'blur', $$t_2.$X_2);
                addHandlerToDomElement($$t_2.$9_2, 'keydown', $$t_2.$8V_2);
                addHandlerToDomElement($$t_2.$9_2, 'click', $$t_2.$26_2);
            }, 15);
        }
        else {
            addHandlerToDomElement(this.$J_2, 'blur', this.$X_2);
        }
    },
    
    $68_2: function($p0) {
        var $v_0 = this.$1_1.$4_2.getValue();
        if (!IsNull($v_0) && $v_0.length === 1) {
            var $v_1 = $v_0[0].id;
            var $v_2 = (!IsNullOrEmptyString($v_0[0].entityType)) ? $v_0[0].entityType : $v_0[0].typename;
            if ($v_0[0].category === 3) {
                this.$F2_2($p0, $v_0[0].name);
                return;
            }
            if (!IsNullOrEmptyString($v_2) && !IsNullOrEmptyString($v_1)) {
                var $v_3 = null;
                var $v_4 = isNullOrEmptyString($v_0[0].processId);
                var $v_5 = isNullOrEmptyString($v_0[0].processTimestamp);
                if (!isNullOrEmptyString($v_2) && !isNullOrEmptyString($v_1) && !$v_4 && !$v_5) {
                    $v_3 = {};
                    $v_3['processid'] = $v_0[0].processId;
                    $v_3['processts'] = $v_0[0].processTimestamp;
                }
                Xrm.Utility.openEntityForm($v_2, $v_1, $v_3);
            }
        }
    },
    
    $Im_2: function($p0, $p1) {
        if ($p0.altKey) {
            if (Sys.UI.DomElement.containsCssClass($p1, 'ms-crm-Lookup-Ambiguous')) {
                $p1.click();
                $p0.preventDefault();
                return true;
            }
        }
        return false;
    },
    
    lookupDownKeyEdit: function(eventObject) {
        if (this.$CP_2(true, eventObject.altKey && !eventObject.ctrlKey && !eventObject.shiftKey)) {
            eventObject.stopPropagation();
            eventObject.preventDefault();
            return true;
        }
        return false;
    },
    
    $CP_2: function($p0, $p1) {
        if (!IsNull(this.$V_2) && Sys.UI.DomElement.containsCssClass(this.$V_2, 'ms-crm-InlineLookup-FooterSection-AddAnchor-Selected')) {
            Sys.UI.DomElement.removeCssClass(this.$V_2, 'ms-crm-InlineLookup-FooterSection-AddAnchor-Selected');
            this.$1t_2 = false;
            if ($p0) {
                this.$l_2 = -1;
            }
            else {
                this.$l_2 = this.$C_2.get_menuItems().length;
            }
        }
        if ($p0) {
            this.selectNextLookupItem();
        }
        else {
            if ($p1) {
                this.selectPreviousLookupItem();
            }
        }
        return true;
    },
    
    selectPreviousLookupItem: function() {
        return this.$F5_2(false);
    },
    
    selectNextLookupItem: function() {
        return this.$F5_2(true);
    },
    
    $F5_2: function($p0) {
        var $v_0 = Mscrm.Utilities.selectMenuItemOnNavigation($p0, this.$C_2, this.$l_2, 'InlineLookupmenu');
        this.$l_2 = $v_0['itemindex'];
        if (IsNull($v_0['itemtitle'])) {
            return '';
        }
        else {
            return $v_0['itemtitle'].toString();
        }
    },
    
    $CQ_2: function($p0) {
        var $v_0 = -1;
        var $v_1 = null;
        if (this.$l_2 > -1) {
            var $v_2 = this.$C_2.get_menuItems()[this.$l_2];
            if (!IsNull($v_2)) {
                $v_2.displayRestStyle();
            }
        }
        if (this.$l_2 === this.$C_2.get_menuItems().length - 1 && !$p0 && !IsNull(this.$V_2) && !this.$1t_2) {
            Sys.UI.DomElement.addCssClass(this.$V_2, 'ms-crm-InlineLookup-FooterSection-AddAnchor-Selected');
            this.$1t_2 = true;
            return;
        }
        if (!this.$l_2 && $p0 && !IsNull(this.$V_2) && !this.$1t_2) {
            Sys.UI.DomElement.addCssClass(this.$V_2, 'ms-crm-InlineLookup-FooterSection-AddAnchor-Selected');
            this.$1t_2 = true;
            return;
        }
        if (!IsNull(this.$V_2) && Sys.UI.DomElement.containsCssClass(this.$V_2, 'ms-crm-InlineLookup-FooterSection-AddAnchor-Selected')) {
            Sys.UI.DomElement.removeCssClass(this.$V_2, 'ms-crm-InlineLookup-FooterSection-AddAnchor-Selected');
            this.$1t_2 = false;
            if ($p0) {
                this.$l_2 = this.$C_2.get_menuItems().length;
            }
            else {
                this.$l_2 = -1;
            }
        }
        if ($p0) {
            if (!this.$l_2) {
                $v_0 = this.$C_2.get_menuItems().length - 1;
            }
            else if (this.$l_2 >= 0 && this.$l_2 <= this.$C_2.get_menuItems().length - 1) {
                $v_0 = 0;
            }
            else {
                $v_0 = this.$l_2 - 1;
            }
        }
        else {
            if (this.$l_2 === this.$C_2.get_menuItems().length - 1) {
                $v_0 = 0;
            }
            else if (this.$l_2 >= 0 && this.$l_2 < this.$C_2.get_menuItems().length - 1) {
                $v_0 = this.$C_2.get_menuItems().length - 1;
            }
            else {
                $v_0 = this.$l_2 + 1;
            }
        }
        this.$l_2 = $v_0;
        if ($v_0 !== -1) {
            $v_1 = (this.$C_2.get_menuItems()[$v_0]);
            $v_1.displayHoverStyle();
            $v_1.itemContents.scrollIntoView(false);
            if (($v_1).isNotFound) {
                this.$CQ_2($p0);
                return;
            }
        }
    },
    
    $JN_2: function($p0) {
        switch ($p0.keyCode) {
            case 38:
                if (this.$CP_2(false, false)) {
                    $p0.stopPropagation();
                    $p0.preventDefault();
                    return;
                }
                break;
            case 40:
                if (this.lookupDownKeyEdit($p0)) {
                    return;
                }
                if (this.$O_2) {
                    $p0.stopPropagation();
                }
                break;
            case 27:
                if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
                    removeHandlerFromDomElement(this.$M_2, 'blur', this.$X_2);
                    removeHandlerFromDomElement(this.$9_2, 'blur', this.$X_2);
                    this.$2B_2();
                    this.$M_2.focus();
                    var $$t_1 = this;
                    window.setTimeout(function() {
                        addHandlerToDomElement($$t_1.$M_2, 'blur', $$t_1.$X_2);
                        addHandlerToDomElement($$t_1.$9_2, 'blur', $$t_1.$X_2);
                    }, 15);
                }
                else {
                    this.$M_2.value = '';
                    if (this.$2K_2) {
                        this.$1_1.$4_2.setValue(null, this.$1_1.getKey());
                    }
                    else {
                        this.$1_1.$4_2.setValue(this.$7X_2, this.$1_1.getKey());
                    }
                    this.$1_1.set_mode(0);
                }
                $p0.stopPropagation();
                $p0.preventDefault();
                return;
            case 13:
                $p0.stopPropagation();
                $p0.preventDefault();
                if (!(IsNull(this.$F_2.getAttribute('lookuptypes')))) {
                    if (parseInt(this.$F_2.getAttribute('lookuptypes').toString()) === 127) {
                        this.KBArticleLookup();
                    }
                    else {
                        if (this.$1t_2) {
                            this.$1t_2 = false;
                            this.$V_2.click();
                            $p0.stopPropagation();
                            $p0.preventDefault();
                            return;
                        }
                        if (!IsNull(this.$C_2) && this.$C_2.get_isVisible() && this.$l_2 !== -1) {
                            this.$Cp_2(this.$C_2.get_menuItems()[this.$l_2]);
                            $p0.stopPropagation();
                            $p0.preventDefault();
                            return;
                        }
                        else {
                            this.showSearchResults();
                        }
                    }
                }
                return;
            case 127:
                if (this.$O_2) {
                    $p0.stopPropagation();
                }
                break;
            case 75:
                if ($p0.ctrlKey) {
                    this.resolveAndExitEdit();
                    $p0.stopPropagation();
                    $p0.preventDefault();
                }
                break;
            case 9:
                if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
                    if (this.$l_2 !== -1) {
                        this.$CQ_2($p0.shiftKey);
                        $p0.stopPropagation();
                        $p0.preventDefault();
                        return;
                    }
                    else {
                        this.$2B_2();
                        this.resolveLookup();
                    }
                }
                else {
                    this.resolveLookup();
                }
                if (!this.$O_2 && this.$M_2.tabIndex >= 0) {
                    if (!$p0.shiftKey) {
                        this.$9_2.focus();
                        return;
                    }
                }
                break;
            case 83:
                if ($p0.ctrlKey) {
                    if ($p0.altKey) {
                        return;
                    }
                    this.resolveAndExitEdit();
                }
                break;
            case 37:
            case 8:
                this.$Hv_2($p0);
                break;
            default:
                if (this.$O_2) {
                    $p0.stopPropagation();
                }
                break;
        }
    },
    
    $Hv_2: function($p0) {
        if (this.$O_2) {
            if (!IsNull(this.$J_2) && IsNullOrEmptyString(this.$J_2.value)) {
                var $v_0 = $p0.target;
                var $v_1 = $v_0.parentNode;
                if (8 === $p0.keyCode) {
                    var $v_2 = $v_1.parentNode;
                    var $v_3 = XUI.Html.DomUtils.GetPrevSibling($v_1);
                    if (!IsNull($v_3)) {
                        var $v_4 = CrmEncodeDecode.CrmHtmlDecode($v_3.children[0].getAttribute('oid'));
                        if ($v_4 === Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()) {
                            $v_4 = CrmEncodeDecode.CrmHtmlDecode($v_3.children[0].getAttribute('title'));
                        }
                        $v_2.removeChild($v_3);
                        var $v_5 = (this.$1_1.$6_2).excludeAndCloneMultiLookupItems($v_4);
                        var $v_6 = ($v_5.length > 0) ? $v_5 : null;
                        this.$1_1.$4_2.setValue($v_6, this.$1_1.getKey());
                        this.resizeAndShowHideMultiLookupInputElement();
                    }
                }
                else if (37 === $p0.keyCode) {
                    var $v_7 = XUI.Html.DomUtils.GetPrevSibling($v_1);
                    if (!IsNull($v_7)) {
                        var $v_8 = XUI.Html.DomUtils.GetFirstChild($v_7);
                        if (!IsNull($v_8)) {
                            $v_8.click();
                            $v_8.focus();
                            $p0.preventDefault();
                        }
                    }
                }
                $p0.stopPropagation();
            }
        }
    },
    
    resizeAndShowHideMultiLookupInputElement: function() {
        if (IsNull(this.$J_2)) {
            return;
        }
        if (!IsNull(this.$Hn_2())) {
            this.$J_2.style.display = 'none';
        }
        else {
            var $v_0 = this.$J_2.parentNode;
            var $v_1 = $v_0.parentNode;
            var $v_2 = 0;
            if (!IsNull(XUI.Html.DomUtils.GetPrevSibling($v_0))) {
                if (Mscrm.Utilities.get_isLeftToRight()) {
                    $v_2 = $v_1.offsetWidth - XUI.Html.DomUtils.GetPrevSibling($v_0).offsetLeft - XUI.Html.DomUtils.GetPrevSibling($v_0).offsetWidth;
                }
                else {
                    $v_2 = XUI.Html.DomUtils.GetPrevSibling($v_0).offsetLeft - $v_1.offsetLeft;
                }
            }
            var $v_3 = $v_2 - 3;
            this.$J_2.style.display = 'block';
            this.$J_2.style.width = (($v_3 < 50) ? $v_1.offsetWidth : $v_3) + 'px';
            if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
                this.$2B_2();
            }
        }
    },
    
    $Hn_2: function() {
        if (IsNull(this.$J_2)) {
            return null;
        }
        var $v_0 = this.$J_2;
        var $v_1 = $v_0.parentNode;
        var $v_2 = XUI.Html.DomUtils.GetPrevSibling($v_1);
        if (!IsNull($v_2)) {
            var $v_3 = XUI.Html.DomUtils.GetFirstChild($v_2);
            if (!IsNull($v_3)) {
                if (this.$Ia_2($v_3)) {
                    return $v_3;
                }
            }
        }
        return null;
    },
    
    $Ia_2: function($p0) {
        var $v_0 = 0;
        if (!IsNull($p0.getAttribute('category'))) {
            $v_0 = parseInt($p0.getAttribute('category').toString());
        }
        if ($v_0 === 2 || ($v_0 === 1 && !this.$O_2)) {
            return true;
        }
        return false;
    },
    
    resolveAndExitEdit: function() {
        if (!IsNull(this.$M_2)) {
            this.resolveLookup();
            this.$1_1.set_mode(0);
        }
    },
    
    resolveLookup: function() {
        if (this.get_autoResolve() && this.hasUnresolvedText()) {
            this.Lookup(true, true);
            this.$8I_2 = true;
            if (!this.$O_2) {
                this.$M_2.value = '';
                XUI.Html.SetText(this.$q_2, '');
            }
        }
        else if (!this.hasUnresolvedText() && !this.$8I_2) {
            if (this.$O_2) {
                var $v_0 = (this.$1_1.$6_2).excludeAndCloneMultiLookupItems('');
                if (!this.get_allowUnresolvedPartiesOnEmailSend()) {
                    $v_0 = (this.$1_1.$6_2).filterItemsForCategory($v_0, 3);
                }
                this.$1_1.$4_2.setValue($v_0, this.$1_1.getName(), true);
            }
            else if (IsNullOrEmptyString(XUI.Html.GetText(this.$E_2)) || XUI.Html.GetText(this.$E_2) === this.$1_1.$P_3.$1E_1) {
                this.$1_1.$4_2.setValue(null, this.$1_1.getName(), true);
            }
        }
        this.set_hasBlurCompleted(true);
    },
    
    get_autoResolve: function() {
        return true;
    },
    
    hasUnresolvedText: function() {
        var $v_0 = false;
        if (!this.$O_2) {
            $v_0 = !IsNullOrEmptyString(this.$3d_2()) && this.$3d_2().trim().length > 0;
        }
        else {
            $v_0 = !IsNull(this.$J_2) && this.$J_2.value.trim().length > 0;
        }
        return $v_0;
    },
    
    $Hm_2: function($p0) {
        $p0.values = [];
        $p0.keyValues = {};
        $p0.id = Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString();
        if (this.get_resolveEmailAddress() && (this.$4F_2.test($p0.name) || this.isValidEmailWithQuotedString($p0.name))) {
            $p0.category = 3;
            $p0.type = '9206';
            $p0.data = $p0.name;
        }
    },
    
    isValidEmailWithQuotedString: function(emailAddress) {
        var $v_0 = emailAddress.indexOf('\"');
        var $v_1 = emailAddress.indexOf('\"@', 1);
        if (!$v_0 && $v_1 !== -1 && $v_1 > 1) {
            var $v_2 = emailAddress.substring(1, $v_1);
            var $v_3 = emailAddress.replace('\"' + $v_2 + '\"', 'abc');
            var $v_4 = new RegExp('[\\\\\"]');
            if (($v_2.search($v_4) === -1) && this.$4F_2.test($v_3)) {
                return true;
            }
        }
        return false;
    },
    
    Lookup: function(ignoreOnClick, noDialog) {
        if (ignoreOnClick) {
            if (noDialog) {
                this.$HV_2();
                return;
            }
            else {
                if (!IsNull(this.$F_2.getAttribute('lookuptypes')) && (parseInt(this.$F_2.getAttribute('lookuptypes').toString()) === 127)) {
                    this.KBArticleLookup();
                }
                else {
                    var $v_0 = this.$F_2.parentNode.getAttribute('availableViewIds');
                    $v_0 = (!isNullOrEmptyString($v_0)) ? $v_0 : null;
                    var $v_1 = this.$F_2.parentNode.getAttribute('disableViewPicker');
                    var $v_2 = (!isNullOrEmptyString($v_1) && $v_1 === '1') ? true : false;
                    var $v_3 = this.$F_2.parentNode.getAttribute('disableQuickFind');
                    $v_3 = (!isNullOrEmptyString($v_3)) ? $v_3 : null;
                    var $v_4 = this.$3d_2();
                    var $v_5 = this.$Bp_2();
                    (this.$1_1.$6_2).openLookupMoreDialog($v_0, $v_2, $v_5, this.$$d_handleLookupObjects, $v_4, $v_3, this.$9_2);
                }
            }
        }
    },
    
    handleLookupObjects: function(lookupItems) {
        var $v_0 = new Array(0);
        for (var $$arr_2 = lookupItems, $$len_3 = $$arr_2.length, $$idx_4 = 0; $$idx_4 < $$len_3; ++$$idx_4) {
            var $v_1 = $$arr_2[$$idx_4];
            var $v_2 = new LookupControlItem();
            var $v_3 = $v_1;
            $v_2.id = $v_3.id;
            $v_2.type = $v_3.type;
            $v_2.entityType = $v_3.typename;
            $v_2.name = $v_3.name;
            $v_2.data = '';
            $v_2.keyValues = $v_3.keyValues;
            if (!isNullOrEmptyString($v_2.name) && $v_2.name.indexOf(String.fromCharCode(160)) >= 0) {
                var $v_4 = $v_2.name.split(String.fromCharCode(160));
                $v_2.name = $v_4.join(String.fromCharCode(32));
            }
            $v_0[$v_0.length] = $v_2;
        }
        this.$1_1.$4_2.setValue($v_0, this.$1_1.getName());
        this.$1_1.set_mode(0);
        Sys.UI.DomElement.removeCssClass(this.$9_2, 'ms-crm-Hidden-NoBehavior');
        this.onEditModeEnterKeyDown();
    },
    
    KBArticleLookup: function() {
        var $v_0 = Mscrm.CrmUri.create('/CS/dialogs/KBSearch.aspx');
        $v_0.get_query()['isLookup'] = true;
        var $v_1 = new Xrm.DialogOptions();
        $v_1.height = 500;
        $v_1.width = 700;
        var $v_2 = this.$$d_performActionAfterKBSearch;
        Xrm.Internal.openDialog($v_0.toString(), $v_1, [], null, $v_2);
    },
    
    performActionAfterKBSearch: function(result) {
        if (IsNull(result)) {
            return;
        }
        var $v_0 = this.$1_1.$4_2;
        var $v_1 = this.$1_1.getName();
        var $v_2 = 'kbarticle';
        var $v_3 = ((result)['items']);
        var $v_4 = new Array($v_3.length);
        for (var $$arr_6 = $v_3, $$len_7 = $$arr_6.length, $$idx_8 = 0; $$idx_8 < $$len_7; ++$$idx_8) {
            var $v_5 = $$arr_6[$$idx_8];
            var $v_6 = new LookupControlItem();
            $v_6.id = $v_5.id;
            $v_6.type = $v_5.type;
            $v_6.entityType = $v_2;
            $v_6.name = $v_5.name;
            $v_6.data = '';
            $v_4[0] = $v_6;
        }
        $v_0.setValue($v_4, $v_1);
        this.$1_1.set_mode(0);
        Sys.UI.DomElement.removeCssClass(this.$9_2, 'ms-crm-Hidden-NoBehavior');
    },
    
    $HV_2: function() {
        var $v_0 = this.$3d_2();
        (this.$1_1.$6_2).issueLookupSearch($v_0, 'RetrieveItem', this.$Bp_2(), this.get_resolveEmailAddress());
    },
    
    $Hx_2: function($p0) {
        var $v_0 = $p0;
        if (!IsNull($v_0)) {
            this.$2B_2();
            var $v_1 = new LookupControlItem();
            $v_1.id = $v_0.Id;
            $v_1.type = $v_0.TypeCode.toString();
            $v_1.entityType = $v_0.TypeName;
            $v_1.name = $v_0.Name;
            $v_1.data = '';
            var $v_2;
            if (this.$O_2) {
                $v_2 = (this.$1_1.$6_2).excludeAndCloneMultiLookupItems('');
            }
            else {
                $v_2 = new Array(0);
            }
            $v_2[$v_2.length] = $v_1;
            this.$1_1.$4_2.setValue($v_2, this.$1_1.getKey());
            this.$1_1.set_mode(0);
            Sys.UI.DomElement.removeCssClass(this.$9_2, 'ms-crm-Hidden-NoBehavior');
        }
    },
    
    $Bp_2: function() {
        var $v_0 = this.get_filterRelationshipId();
        var $v_1 = '';
        var $v_2 = '';
        var $v_3 = this.$F_2.parentNode.getAttribute('DependantAttributeName');
        var $v_4 = this.$F_2.parentNode.getAttribute('DependantAttributeType');
        if (!isNullOrEmptyString($v_0)) {
            if (!isNullOrEmptyString($v_3) && !isNullOrEmptyString($v_4)) {
                var $v_5 = $v_3.split('.');
                if ($v_5.length > 1) {
                    if ($v_5[0] !== this.$1_1.$4_2.getParent().getEntityName()) {
                        $v_1 = this.$1_1.$4_2.getParent().getId();
                        $v_2 = Xrm.Internal.getEntityCode(this.$1_1.$4_2.getParent().getEntityName()).toString();
                    }
                    else {
                        var $v_6 = Xrm.Page.getAttribute($v_5[1]);
                        if (!IsNull($v_6)) {
                            if ($v_6.getAttributeType() === 'lookup' && !IsNull($v_6.getValue()) && ($v_6.getValue()).length > 0) {
                                var $v_7 = $v_5[1] + '_lookupValue';
                                var $v_8 = $get($v_7);
                                if (IsNull($v_8)) {
                                    $v_7 = 'header_' + $v_7;
                                    $v_8 = $get($v_7);
                                }
                                if (IsNull($v_8)) {
                                    $v_7 = 'footer_' + $v_7;
                                    $v_8 = $get($v_7);
                                }
                                if ((!IsNull($v_8)) && ($v_8.innerText !== '--' && $v_8.innerText !== '')) {
                                    var $v_9 = $v_6.getValue();
                                    if (!IsNull($v_9) && !IsNull($v_9[0]) && $v_9[0].type === $v_4) {
                                        $v_1 = $v_9[0].id;
                                        $v_2 = $v_9[0].type;
                                    }
                                }
                            }
                            else {
                                $v_2 = $v_4;
                                $v_1 = $v_6.getValue();
                            }
                        }
                    }
                }
                if (IsNull($v_1) || IsNull($v_2) || IsNull($v_3) || !$v_1.length || !$v_2.length || !$v_3.length) {
                    $v_1 = '';
                    $v_2 = '';
                    $v_0 = '';
                    $v_3 = '';
                }
            }
            else {
                Mscrm.CrmDebug.fail('LOOKUP CONTROL ERROR: Relationship filter was specified but the dependant field was not.');
            }
        }
        return new Mscrm.TurboForm.Common.FilterRelationshipData($v_0, $v_1, $v_2, $v_3);
    },
    
    $Je_2: function($p0) {
        if ($p0.ctrlKey || (this.$1_1.$6_2).getDisabled()) {
            this.$9t_2($p0);
        }
    },
    
    $9t_2: function($p0) {
        var $v_0 = ($p0.target.id === 'lookupItem') ? $p0.target : $p0.rawEvent.currentTarget;
        var $v_1 = '';
        var $v_2 = '';
        var $v_3 = 0;
        if (!IsNull($v_0) && !IsNullOrEmptyString($v_0.getAttribute('category'))) {
            $v_3 = parseInt($v_0.getAttribute('category').toString());
            if ($v_3 === 2 || ($v_3 === 1 && !this.$O_2) || $v_3 === 5) {
                return;
            }
            if ($v_3 === 3 || ($v_3 === 1 && this.$4F_2.test($v_0.title))) {
                this.$F2_2($p0, $v_0.title);
                return;
            }
            $v_2 = (!IsNullOrEmptyString($v_0.getAttribute('oid'))) ? CrmEncodeDecode.CrmHtmlDecode($v_0.getAttribute('oid')) : '';
            $v_1 = (!IsNullOrEmptyString($v_0.getAttribute('otypename'))) ? CrmEncodeDecode.CrmHtmlDecode($v_0.getAttribute('otypename')) : '';
            if (!IsNullOrEmptyString($v_2) && !IsNullOrEmptyString($v_1)) {
                Xrm.Utility.openEntityForm($v_1, $v_2);
            }
            $p0.stopPropagation();
            $p0.preventDefault();
        }
    },
    
    $F2_2: function($p0, $p1) {
        var $v_0 = Mscrm.CrmUri.create('/_controls/partylist/resolve.aspx?address=' + CrmEncodeDecode.CrmUrlEncode($p1));
        var $v_1 = [ $p1 ];
        if (isOutlookHostedWindow()) {
            var $v_2 = Mscrm.Utilities.createCallbackFunctionObject('resolveUnknownPartyCallback', this, $v_1, false);
            var $v_3 = new Mscrm.CrmDialog($v_0, null, 450, 450, null);
            $v_3.setCallbackReference($v_2);
            $v_3.show();
        }
        else {
            var $v_4 = Mscrm.Utilities.createCallbackFunctionObject('resolveUnknownPartyCallback', this, $v_1);
            openStdDlgWithCallback($v_0, null, 450, 450, $v_4);
        }
        $p0.stopPropagation();
    },
    
    resolveUnknownPartyCallback: function(lookupObject, partyName) {
        if (!IsNull(lookupObject) && !IsNullOrEmptyString(lookupObject.type) && parseInt(lookupObject.type) !== Number.NaN) {
            var $v_0 = new LookupControlItem();
            $v_0.type = lookupObject.type;
            $v_0.name = lookupObject.name;
            $v_0.id = lookupObject.id;
            var $v_1 = this.$1_1.$4_2.getValue();
            if (!IsNull($v_1)) {
                for (var $v_3 = 0; $v_3 < $v_1.length; $v_3++) {
                    if ($v_1[$v_3].name === partyName) {
                        if (!IsNullOrEmptyString($v_1[$v_3].activityPartyId)) {
                            $v_0.activityPartyId = $v_1[$v_3].activityPartyId;
                        }
                        break;
                    }
                }
            }
            var $v_2 = (this.$1_1.$6_2).excludeAndCloneMultiLookupItems(partyName);
            $v_2[$v_2.length] = $v_0;
            this.$1_1.$4_2.setValue(($v_2.length > 0) ? $v_2 : null, this.$1_1.getKey());
            if ((this.$1_1.$6_2).getDisabled()) {
                this.$1_1.$4_2.setSubmitMode('always');
            }
        }
    },
    
    $KZ_2: function($p0) {
        $clearHandlers(this.$J_2);
        var $v_0 = ($p0.target.id === 'lookupItem') ? $p0.target : $p0.rawEvent.currentTarget;
        if ($p0.ctrlKey || (-1 !== $v_0.className.indexOf('ms-crm-selected-Lookup-Item'))) {
            this.$9t_2($p0);
            $p0.stopPropagation();
        }
        if (!IsNull(this.$6W_2) && Sys.UI.DomElement.containsCssClass(this.$6W_2, 'ms-crm-selected-Lookup-Item')) {
            Sys.UI.DomElement.removeCssClass(this.$6W_2, 'ms-crm-selected-Lookup-Item');
        }
        this.$6W_2 = $v_0;
        this.$I3_2($v_0);
        this.$2B_2();
        var $$t_2 = this;
        window.setTimeout(function() {
            $$t_2.$BK_2();
        }, 15);
    },
    
    $I3_2: function($p0) {
        if (!Sys.UI.DomElement.containsCssClass($p0, 'ms-crm-selected-Lookup-Item')) {
            Sys.UI.DomElement.addCssClass($p0, 'ms-crm-selected-Lookup-Item');
        }
        else {
            Sys.UI.DomElement.removeCssClass($p0, 'ms-crm-selected-Lookup-Item');
        }
    },
    
    $JZ_2: function($p0) {
        $clearHandlers(this.$J_2);
    },
    
    $JY_2: function($p0) {
        this.$BK_2();
    },
    
    $Ig_2: function($p0) {
        var $v_0 = ($p0.target.id === 'lookupItem') ? $p0.target : $p0.rawEvent.currentTarget;
        var $v_1 = $v_0.parentNode;
        switch ($p0.keyCode) {
            case 38:
                if (this.$CP_2(false, false)) {
                    return;
                }
                $p0.stopPropagation();
                break;
            case 40:
                if (this.lookupDownKeyEdit($p0)) {
                    return;
                }
                $p0.stopPropagation();
                break;
            case 39:
                if (Sys.UI.DomElement.containsCssClass($v_0, 'ms-crm-selected-Lookup-Item')) {
                    Sys.UI.DomElement.removeCssClass($v_0, 'ms-crm-selected-Lookup-Item');
                }
                var $v_2 = XUI.Html.DomUtils.GetNextSibling($v_1);
                if (!IsNull($v_2)) {
                    var $v_7 = XUI.Html.DomUtils.GetFirstChild($v_2);
                    if (!IsNull($v_7)) {
                        this.$7V_2($v_7);
                    }
                }
                $p0.stopPropagation();
                break;
            case 37:
                if (Sys.UI.DomElement.containsCssClass($v_0, 'ms-crm-selected-Lookup-Item')) {
                    Sys.UI.DomElement.removeCssClass($v_0, 'ms-crm-selected-Lookup-Item');
                }
                var $v_3 = XUI.Html.DomUtils.GetPrevSibling($v_1);
                if (!IsNull($v_3)) {
                    var $v_8 = XUI.Html.DomUtils.GetFirstChild($v_3);
                    if (!IsNull($v_8)) {
                        this.$7V_2($v_8);
                    }
                }
                else {
                    this.$J_2.focus();
                }
                $p0.stopPropagation();
                break;
            case 127:
                $v_2 = XUI.Html.DomUtils.GetNextSibling($v_1);
                var $v_4 = $v_1.parentNode;
                var $v_5 = CrmEncodeDecode.CrmHtmlDecode($v_1.children[0].getAttribute('oid'));
                $v_4.removeChild($v_1);
                var $v_6 = (this.$1_1.$6_2).excludeAndCloneMultiLookupItems($v_5);
                this.$1_1.$4_2.setValue(($v_6.length > 0) ? $v_6 : null, this.$1_1.getKey());
                this.resizeAndShowHideMultiLookupInputElement();
                if (!IsNull($v_2)) {
                    var $v_9 = XUI.Html.DomUtils.GetFirstChild($v_2);
                    if (!IsNull($v_9) && $v_9.tagName.toLowerCase() === 'input') {
                        this.$J_2.focus();
                    }
                    else if (!IsNull($v_9)) {
                        this.$7V_2($v_9);
                    }
                }
                $p0.stopPropagation();
                break;
            case 8:
                $v_4 = $v_1.parentNode;
                $v_3 = XUI.Html.DomUtils.GetPrevSibling($v_1);
                if (!IsNull($v_3)) {
                    var $v_A = XUI.Html.DomUtils.GetFirstChild($v_3);
                    if (!IsNull($v_A)) {
                        this.$7V_2($v_A);
                    }
                }
                else {
                    $v_2 = XUI.Html.DomUtils.GetNextSibling($v_1);
                    if (!IsNull($v_2)) {
                        var $v_B = XUI.Html.DomUtils.GetFirstChild($v_2);
                        if (!IsNull($v_B)) {
                            this.$7V_2($v_B);
                        }
                    }
                }
                $v_5 = CrmEncodeDecode.CrmHtmlDecode($v_1.children[0].getAttribute('oid'));
                $v_4.removeChild($v_1);
                $v_6 = (this.$1_1.$6_2).excludeAndCloneMultiLookupItems($v_5);
                this.$1_1.$4_2.setValue(($v_6.length > 0) ? $v_6 : null, this.$1_1.getKey());
                this.resizeAndShowHideMultiLookupInputElement();
                $p0.stopPropagation();
                $p0.preventDefault();
                break;
            case 13:
                if ($p0.ctrlKey || (-1 !== $v_0.className.indexOf('ms-crm-selected-Lookup-Item'))) {
                    this.$9t_2($p0);
                }
                $p0.stopPropagation();
                break;
            case 9:
                break;
            default:
                $p0.stopPropagation();
                break;
        }
    },
    
    $7V_2: function($p0) {
        if (!IsNull($p0)) {
            $p0.click();
            $p0.focus();
        }
    },
    
    $LP_2: function($p0) {
        var $v_0 = [];
        var $v_1 = [];
        for (var $v_2 = 0; $v_2 < $p0.length; $v_2++) {
            var $v_3 = $p0[$v_2].id;
            var $v_4 = $p0[$v_2].type;
            var $v_5 = !isNullOrEmptyString($p0[$v_2].isProcessEnabled) && ($p0[$v_2].isProcessEnabled.toLowerCase() === 'true');
            var $v_6 = isNullOrEmptyString($p0[$v_2].processId);
            var $v_7 = isNullOrEmptyString($p0[$v_2].processTimestamp);
            if (!isNullOrEmptyString($v_4) && !isNullOrEmptyString($v_3) && ($v_6 || $v_7) && $v_5) {
                Array.add($v_1, $v_4);
                Array.add($v_0, $v_3);
            }
        }
        if ($v_0.length > 0 && $v_1.length > 0) {
            (this.$1_1.$6_2).requestPidPts($v_0, $v_1);
        }
    },
    
    $F4_2: function($p0) {
        Mscrm.Utilities.selectAddButton($p0, (this.$1_1.$6_2).getName(), Xrm.Page.data.entity.getId(), Xrm.Internal.getEntityCode(Xrm.Page.data.entity.getEntityName()), this.$3d_2());
    }
}


Mscrm.TurboForm.Control.View.MoneyEditElement = function(controlView) {
    Mscrm.TurboForm.Control.View.MoneyEditElement.initializeBase(this, [ controlView ]);
    this.$1U_1 = Mscrm.TurboForm.Control.View.MoneyFormatter.get_instance();
}
Mscrm.TurboForm.Control.View.MoneyEditElement.prototype = {
    
    onEditModeEnterKeyDown: function() {
    }
}


Mscrm.TurboForm.Control.View.PicklistEditElement = function(controlView) {
    this.$$d_$3e_2 = Function.createDelegate(this, this.$3e_2);
    this.$$d_onKeyDownHandler = Function.createDelegate(this, this.onKeyDownHandler);
    this.$$d_$67_2 = Function.createDelegate(this, this.$67_2);
    this.$$d_$68_2 = Function.createDelegate(this, this.$68_2);
    this.$3V_2 = -1;
    this.$7N_2 = -1;
    this.$BI_2 = -1;
    Mscrm.TurboForm.Control.View.PicklistEditElement.initializeBase(this, [ controlView ]);
    this.$26_2 = this.$$d_$68_2;
    this.$25_2 = this.$$d_$67_2;
    this.$5H_2 = this.$$d_onKeyDownHandler;
    this.$AI_2 = this.$$d_$3e_2;
    this.$2D_2 = [];
    this.$9b_2 = true;
}
Mscrm.TurboForm.Control.View.PicklistEditElement.prototype = {
    $1z_2: null,
    $13_2: null,
    $26_2: null,
    $25_2: null,
    $5H_2: null,
    $AI_2: null,
    $9b_2: false,
    $2D_2: null,
    
    get_minOptionsToShow: function() {
        return this.$63_2;
    },
    
    set_minOptionsToShow: function(value) {
        this.$63_2 = value;
        return value;
    },
    
    $63_2: 0,
    
    bind: function(container) {
        this.$13_2 = container;
        if (!Mscrm.CrmBrowser.get_currentBrowser().get_isAndroid()) {
            addHandlerToDomElement(this.get_selectBoxElement(), 'click', this.$26_2);
        }
        addHandlerToDomElement(this.get_selectBoxElement(), 'blur', this.$25_2);
        addHandlerToDomElement(this.get_selectBoxElement(), 'keydown', this.$5H_2);
        addHandlerToDomElement(this.get_selectBoxElement(), 'change', this.$AI_2);
    },
    
    get_selectBoxElement: function() {
        if (!this.$1z_2) {
            this.$1z_2 = $get(String.format('{0}_i', this.$1_1.getKey()));
        }
        return this.$1z_2;
    },
    
    unbind: function() {
        $clearHandlers(this.get_selectBoxElement());
    },
    
    blur: function() {
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.blur.call(this);
        this.$1z_2.blur();
    },
    
    update: function(propertyBag) {
        var $v_0 = this.$1_1.$4_2;
        if (propertyBag.hasPropertyData(12) && $v_0.$6J_3) {
            var $v_2 = propertyBag.getPropertyData(12);
            if (!$v_2.length) {
                this.get_selectBoxElement().innerHTML = '';
            }
            else {
                var $v_3 = new Sys.StringBuilder();
                var $v_4;
                var $v_5 = '';
                for (var $v_6 = 0; $v_6 < $v_2.length; $v_6++) {
                    $v_4 = $v_2[$v_6];
                    if ($v_4.value !== -1) {
                        $v_3.append('<option title=\"' + CrmEncodeDecode.CrmHtmlAttributeEncode($v_4.text) + '\" value=\"' + CrmEncodeDecode.CrmHtmlAttributeEncode($v_4.value.toString()) + '\">' + CrmEncodeDecode.CrmHtmlEncode($v_4.text) + '</option>');
                    }
                    else {
                        $v_5 = '<option title=\"' + CrmEncodeDecode.CrmHtmlAttributeEncode($v_4.text) + '\" value=\"' + CrmEncodeDecode.CrmHtmlAttributeEncode($v_4.value.toString()) + '\">' + CrmEncodeDecode.CrmHtmlEncode($v_4.text) + '</option>';
                    }
                }
                this.get_selectBoxElement().innerHTML = $v_5 + $v_3.toString();
            }
            if (this.$9b_2) {
                this.$9b_2 = false;
                for (var $v_7 = 0; $v_7 < this.$2D_2.length; $v_7++) {
                    var $v_8 = this.$2D_2[$v_7];
                    if ($v_8.$4Q_0 === 'add') {
                        this.addOption($v_8.$CU_0, $v_8.$CW_0);
                    }
                    else if ($v_8.$4Q_0 === 'remove') {
                        this.removeOptionWithDuplicates($v_8.$u_0);
                    }
                    else if ($v_8.$4Q_0 === 'clear') {
                        this.clearOptions();
                    }
                }
                this.$2D_2 = [];
            }
        }
        if (propertyBag.hasPropertyData(5)) {
            var $v_9 = this.containsEmptyOption();
            if ($v_0.getAttributeType() === 'optionset' && ($v_0).get_hasEmptyOption()) {
                if (!$v_9) {
                    this.addOption(new Xrm.OptionSetItem(-1, ''), 0);
                }
            }
            else {
                if ($v_9) {
                    this.removeOptionWithDuplicates(-1);
                }
            }
        }
        var $v_1 = propertyBag.getPropertyData(6);
        if (propertyBag.hasPropertyData(6)) {
            this.$2E_2($v_1);
        }
    },
    
    addOption: function(optionItem, placement) {
        if (IsNull(placement)) {
            placement = this.get_selectBoxElement().options.length;
        }
        else if (placement < 0) {
            placement = 0;
        }
        var $v_0 = document.createElement('option');
        $v_0.title = optionItem.text;
        $v_0.value = optionItem.value.toString();
        $v_0.text = optionItem.text;
        if (placement >= this.get_selectBoxElement().options.length) {
            this.get_selectBoxElement().appendChild($v_0);
        }
        else {
            this.get_selectBoxElement().insertBefore($v_0, this.get_selectBoxElement().options[placement]);
        }
    },
    
    addStatusUIOptionHelper: function(optionItem, placement) {
        var $v_0 = new Mscrm.TurboForm.Control.View.PicklistEditElement.StatusOperationItem();
        $v_0.$4Q_0 = 'add';
        $v_0.$CU_0 = optionItem;
        $v_0.$CW_0 = placement;
        this.$2D_2[this.$2D_2.length] = $v_0;
    },
    
    removeOptionWithDuplicates: function(value) {
        var $v_0 = this.get_selectBoxElement().options.length;
        while ($v_0-- > 0) {
            var $v_1 = XUI.Html.DomUtils.GetChildElementAt(this.get_selectBoxElement(), $v_0);
            var $v_2 = (value === -1 && !$v_1.value.length);
            if ($v_1.value === value.toString() || $v_2) {
                this.get_selectBoxElement().removeChild($v_1);
            }
        }
    },
    
    removeStatusUIOptionHelper: function(value) {
        var $v_0 = new Mscrm.TurboForm.Control.View.PicklistEditElement.StatusOperationItem();
        $v_0.$4Q_0 = 'remove';
        $v_0.$u_0 = value;
        this.$2D_2[this.$2D_2.length] = $v_0;
    },
    
    containsEmptyOption: function() {
        var $v_0 = this.get_selectBoxElement().options.length;
        while ($v_0-- > 0) {
            var $v_1 = XUI.Html.DomUtils.GetChildElementAt(this.get_selectBoxElement(), $v_0);
            if ($v_1.value === '-1' || !$v_1.value.length) {
                return true;
            }
        }
        return false;
    },
    
    clearOptions: function(skipFireOnChange) {
        this.get_selectBoxElement().innerHTML = '';
        this.$1_1.$4_2.setValue(null, this.$1_1.getKey(), true, skipFireOnChange);
    },
    
    clearStatusUIOptionHelper: function() {
        var $v_0 = new Mscrm.TurboForm.Control.View.PicklistEditElement.StatusOperationItem();
        $v_0.$4Q_0 = 'clear';
        this.$2D_2[this.$2D_2.length] = $v_0;
    },
    
    getOptions: function() {
        var $v_0 = [];
        var $$t_3 = this;
        XUI.Html.DomUtils.ForEachChild(this.get_selectBoxElement(), function($p1_0) {
            var $v_1 = $p1_0;
            Array.add($v_0, new Xrm.OptionSetItem(parseInt($v_1.value), $v_1.text));
            return false;
        });
        return $v_0;
    },
    
    getSizeAttribute: function() {
        var $v_0 = this.getOptions().length;
        $v_0 = Math.max($v_0, this.get_selectBoxElement().options.length);
        $v_0 = Math.max($v_0, 2);
        $v_0 = Math.min($v_0, 10);
        return $v_0;
    },
    
    $Fj_2: function() {
        if (!Mscrm.CrmBrowser.get_currentBrowser().get_isMobileSafari() && !Mscrm.CrmBrowser.get_currentBrowser().get_isAndroid()) {
            var $v_0 = this.getSizeAttribute();
            this.get_selectBoxElement().setAttribute('size', $v_0.toString());
            Sys.UI.DomElement.addCssClass(this.get_selectBoxElement(), 'ms-crm-Inline-OptionSet-AutoOpen');
            Sys.UI.DomElement.addCssClass(this.$13_2, 'noScroll');
            var $v_1 = 0;
            if (this.$63_2 > 0) {
                var $v_3 = 17 * $v_0;
                var $v_4 = ((this.$63_2 > $v_0) ? $v_0 : this.$63_2) * 17;
                this.$9P_2(false, false);
                if ($v_3 > this.$3V_2) {
                    $v_1 = (this.$3V_2 < $v_4) ? $v_4 : this.$3V_2;
                }
                if ($P_CRM.browser.mozilla && this.$3V_2 < $v_4) {
                    $v_1 = $v_1 - 34;
                }
                if ($v_1 > 0) {
                    this.get_selectBoxElement().style.height = $v_1.toString() + 'px';
                }
                return;
            }
            var $v_2 = ($v_0 >= 6) ? 102 : 17 * $v_0;
            this.$9P_2(true, false);
            if ($v_2 < this.$7N_2) {
                $v_1 = $v_2;
            }
            else if (this.$7N_2 > 51) {
                $v_1 = this.$7N_2;
            }
            else {
                this.$9P_2(true, true);
                if ($v_2 - 17 < this.$BI_2) {
                    var $v_5 = $v_2 - 17;
                    var $v_6 = '-' + $v_5 + 'px';
                    this.get_selectBoxElement().style.position = 'relative';
                    this.get_selectBoxElement().style.zIndex = 1;
                    this.get_selectBoxElement().style.top = $v_6;
                    $v_1 = $v_2;
                }
                else {
                    this.$9P_2(false, false);
                    if ($v_2 > this.$3V_2) {
                        $v_1 = this.$3V_2;
                    }
                    else {
                        $v_1 = $v_2;
                    }
                }
            }
            if ($v_1 > 0) {
                var $v_7 = 36;
                if ($v_1 < $v_7) {
                    $v_1 = $v_7;
                }
                this.get_selectBoxElement().style.height = $v_1.toString() + 'px';
            }
        }
    },
    
    $9P_2: function($p0, $p1) {
        var $v_0 = 'table';
        if ($p0) {
            $v_0 = 'ms-crm-InlineTabBody-Read';
        }
        var $v_1 = ($p0) ? $P_CRM(this.$HR_2($v_0)) : $P_CRM(this.$E6_2($v_0));
        var $v_2 = $P_CRM(this.$E6_2('tr'));
        if (!IsNull($v_2) && !IsNull($v_1)) {
            var $v_3 = $v_2.offset();
            var $v_4 = $v_1.offset();
            if (!IsNull($v_3) && !IsNull($v_4)) {
                var $v_5 = $v_3.top;
                var $v_6 = $v_4.top;
                if ($p0) {
                    var $v_7 = $v_2.outerHeight(true) - $v_2.height();
                    if ($p1) {
                        this.$BI_2 = $v_5 - $v_6 - $v_7 - 2;
                    }
                    else {
                        this.$7N_2 = $v_1.height() - ($v_5 - $v_6) - $v_7 - 15;
                    }
                }
                else {
                    this.$3V_2 = $v_1.height() - ($v_5 - $v_6) - 2;
                }
            }
        }
    },
    
    $2E_2: function($p0) {
        var $v_0 = this.$1_1.$4_2;
        if (IsNull($p0)) {
            if ($v_0.getAttributeType() === 'optionset' && ($v_0).$5D_4) {
                this.get_selectBoxElement().value = '-1';
            }
            else {
                this.get_selectBoxElement().value = '';
            }
        }
        else {
            this.get_selectBoxElement().value = $p0.toString();
        }
    },
    
    enterEditMode: function() {
        this.$Fj_2();
        Sys.UI.DomElement.removeCssClass(this.$13_2, 'ms-crm-Inline-HideByZeroHeight');
        if (Mscrm.Utilities.isIE()) {
            var $$t_0 = this;
            window.setTimeout(function() {
                $$t_0.get_selectBoxElement().focus();
            }, 0);
        }
        else {
            this.get_selectBoxElement().focus();
        }
    },
    
    getPerceivedEditElementValue: function(value) {
        var $v_0 = Mscrm.TurboForm.Control.View.EditElementBase.prototype.getPerceivedEditElementValue.call(this, value);
        var $v_1 = parseInt($v_0);
        return ($v_1 < 0) ? '' : $v_0;
    },
    
    $68_2: function($p0) {
        this.$1_1.revertFocusBackToValueContainer();
        Sys.UI.DomElement.addCssClass(this.$13_2, 'ms-crm-Inline-HideByZeroHeight');
        this.$1_1.changeDisplayModeWithoutFiringChangeEvent(0);
        this.$1_1.onDisplayModeChangedToRead();
        $p0.stopPropagation();
    },
    
    updateDataAttributeValue: function() {
        if (this.get_selectBoxElement().selectedIndex >= 0 || this.$1_1.$4_2.getRequiredLevel() !== 'none') {
            this.$1_1.$4_2.setValue(this.get_selectBoxElement().value, this.$1_1.getKey(), true);
        }
    },
    
    $67_2: function($p0) {
        if (Mscrm.Utilities.isIE()) {
            var $$t_1 = this;
            window.setTimeout(function() {
                $$t_1.$Dl_2($p0);
            }, 0);
        }
        else {
            this.$Dl_2($p0);
        }
    },
    
    $Dl_2: function($p0) {
        this.$1_1.set_mode(0);
    },
    
    $3e_2: function($p0) {
        this.updateDataAttributeValue();
    },
    
    onKeyDownHandler: function(keyEvent) {
        if (keyEvent.keyCode === 38 || keyEvent.keyCode === 40) {
            keyEvent.stopPropagation();
        }
        else if (keyEvent.keyCode === 13) {
            this.updateDataAttributeValue();
            this.$1_1.revertFocusBackToValueContainer();
            this.$13_2.className = this.$13_2.className + ' ' + 'ms-crm-Inline-HideByZeroHeight';
            this.$1_1.changeDisplayModeWithoutFiringChangeEvent(0);
            this.$1_1.onDisplayModeChangedToRead();
            keyEvent.stopPropagation();
        }
        if (keyEvent.keyCode === 40) {
            if (this.get_selectBoxElement().selectedIndex === -1 && this.getOptions().length > 0) {
                keyEvent.preventDefault();
                this.get_selectBoxElement().selectedIndex = 0;
            }
        }
        if (keyEvent.keyCode === 38) {
            if (this.get_selectBoxElement().selectedIndex === 1) {
                this.get_selectBoxElement().selectedIndex = 0;
            }
        }
    },
    
    $HR_2: function($p0) {
        var $v_0 = this.get_selectBoxElement().parentNode;
        while ($v_0) {
            if (!IsNull($v_0.className) && Sys.UI.DomElement.containsCssClass($v_0, $p0)) {
                break;
            }
            var $v_1 = $v_0;
            $v_0 = $v_1.parentNode;
        }
        return $v_0;
    },
    
    $E6_2: function($p0) {
        var $v_0 = this.get_selectBoxElement().parentNode;
        while ($v_0) {
            if ((!IsNull($v_0.tagName) && $v_0.tagName.toUpperCase() === $p0.toUpperCase())) {
                break;
            }
            var $v_1 = $v_0;
            $v_0 = $v_1.parentNode;
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.View.PicklistEditElement.StatusOperationItem = function() {
}
Mscrm.TurboForm.Control.View.PicklistEditElement.StatusOperationItem.prototype = {
    $4Q_0: null,
    $CU_0: null,
    $CW_0: 0,
    $u_0: 0
}


Mscrm.TurboForm.Control.View.SubjectLookupEditElement = function(controlView) {
    this.$$d_$KN_3 = Function.createDelegate(this, this.$KN_3);
    this.$$d_$LJ_3 = Function.createDelegate(this, this.$LJ_3);
    this.$j_3 = new Mscrm.InlineFlyOutDialog();
    Mscrm.TurboForm.Control.View.SubjectLookupEditElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.SubjectLookupEditElement.prototype = {
    $F_3: null,
    $M_3: null,
    $9_3: null,
    $1L_3: null,
    $4A_3: false,
    $76_3: null,
    $2C_3: null,
    
    bind: function(container) {
        Mscrm.TurboForm.Control.View.LookupEditElement.prototype.bind.call(this, container);
        this.$F_3 = container;
        var $v_0 = String.format('{0}_ledit', this.$1_1.getKey());
        this.$M_3 = container.ownerDocument.getElementById($v_0);
        var $v_1 = String.format('{0}_lookupDiv', this.$1_1.getKey());
        this.$9_3 = container.ownerDocument.getElementById($v_1);
        this.$7u_3();
    },
    
    unbind: function() {
        if (!IsNull(this.$76_3)) {
            removeHandlerFromWindow('resize', this.$76_3);
        }
        if (!IsNull(this.$j_3) && !IsNull(this.$j_3.dialogChrome())) {
            this.$j_3.dialogChrome().unbind('keydown', this.$$d_$LJ_3);
        }
        if (!IsNull(this.$j_3)) {
            this.$j_3.dispose();
        }
        this.$F_3 = null;
        this.$1L_3 = null;
        this.$M_3 = null;
        this.$9_3 = null;
        Mscrm.TurboForm.Control.View.LookupEditElement.prototype.unbind.call(this);
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.LookupEditElement.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(6)) {
            this.closeTreeDialog();
            this.$1_1.set_mode(0);
        }
        if (propertyBag.hasPropertyData(15)) {
            this.closeTreeDialog();
        }
        if (propertyBag.hasPropertyData(32)) {
            this.$2C_3 = propertyBag.getPropertyData(32);
            if (!IsNullOrEmptyString(this.$2C_3) && this.$2C_3 === 'subject') {
                this.$7u_3();
            }
        }
    },
    
    showSearchResults: function() {
        var $v_0 = this.$Hj_3();
        if (!IsNull($v_0)) {
            var $v_1 = JSON.parse($v_0);
            this.$LE_3(this.$1_1.getName(), $v_1);
        }
        else {
            this.Lookup(true, false);
        }
    },
    
    enterEditMode: function() {
        Sys.UI.DomElement.removeCssClass(this.$9_3, 'ms-crm-Hidden-NoBehavior');
        this.$M_3.style.display = 'none';
        this.$9_3.style.display = 'block';
        this.$9_3.style.backgroundColor = '#abc0e7';
        this.$9_3.style.width = '100%';
        this.$9_3.focus();
    },
    
    onControlKeyDownHandler: function(domEvent) {
        switch (domEvent.keyCode) {
            case 27:
            case 38:
            case 32:
            case 13:
            case 40:
            case 9:
                Mscrm.TurboForm.Control.View.LookupEditElement.prototype.onControlKeyDownHandler.call(this, domEvent);
                break;
            case 83:
                if (domEvent.ctrlKey || domEvent.altKey) {
                    domEvent.preventDefault();
                    return;
                }
                break;
            case 85:
                if (domEvent.ctrlKey) {
                    if (Sys.UI.DomElement.containsCssClass(this.$9_3, 'ms-crm-Lookup-Item')) {
                        this.$9_3.click();
                        domEvent.stopPropagation();
                        domEvent.preventDefault();
                        return;
                    }
                }
                break;
            case 67:
                if (domEvent.ctrlKey) {
                    domEvent.preventDefault();
                    return;
                }
                break;
            case 8:
            case 127:
                this.$1_1.$4_2.setValue(null, this.$1_1.getKey(), true);
                break;
            default:
                domEvent.stopPropagation();
                domEvent.preventDefault();
                break;
        }
    },
    
    $LE_3: function($p0, $p1) {
        var $v_0 = $P_CRM($get($p0 + '_lookupTable'));
        var $v_1 = $get($p0 + '_lookupTable');
        var $v_2 = ($v_0.width() > 210) ? ($v_0.width() - 1) : 210;
        this.$j_3.get_options().set_dialogClass('subjecttree-Dialog');
        this.$j_3.get_options().set_closeOnEscape(false);
        this.$j_3.get_options().set_modal(true);
        this.$j_3.get_options().set_hideWithClickOnOverlay(true);
        this.$j_3.get_options().set_showTitlePane(false);
        this.$j_3.get_options().set_showButtonPane(false);
        this.$j_3.get_options().set_showCloseButton(false);
        this.$j_3.get_options().set_draggable(false);
        this.$j_3.get_options().set_focusOnFirstTabbable(true);
        this.$j_3.get_options().set_applyAnchorClassChange(false);
        this.$j_3.get_options().set_height(0);
        this.$j_3.get_options().set_minHeight(20);
        this.$j_3.get_options().set_width($v_2);
        this.$j_3.set_position('bottom');
        this.$j_3.set_dialogLeft(0);
        this.$j_3.set_dialogTop(0);
        this.$j_3.set_shouldDisposeContent(false);
        if (!this.$4A_3) {
            if (IsNull(this.$1L_3)) {
                var $v_A = document.createElement('div');
                $v_A.setAttribute('id', $p0 + '_treediv');
                $v_A.setAttribute('style', 'overflow:auto');
                $v_A.setAttribute('style', 'max-height:250px');
                $v_1.appendChild($v_A);
            }
            this.$1L_3 = $P_CRM($get($p0 + '_treediv'));
            this.$1L_3.html('');
            this.$1L_3.append(GetGlobalVariable('LOCID_JSTREE_LOADING'));
            this.$j_3.setContent(this.$1L_3);
            var $v_3 = this.$F_3;
            var $v_4 = $v_3.ownerDocument;
            var $v_5 = $v_4.body.clientHeight;
            var $v_6 = Mscrm.Utilities.getXYPos($v_4.documentElement, !Mscrm.Utilities.get_isLeftToRight());
            var $v_7 = $v_0.offset();
            var $v_8 = $v_7.top + $v_0.outerHeight(false);
            var $v_9 = ($v_5 - $v_6['y']) - $v_8 - 2;
            if ($v_9 < 250) {
                $v_9 = $v_9 - 22;
                this.$1L_3.css('max-height', $v_9.toString() + 'px');
            }
        }
        this.$j_3.show($v_0);
        if (!this.$4A_3) {
            if (Mscrm.Utilities.compareGuids($p1.data[0].metadata.subjectid, Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString())) {
                this.$1L_3.html('');
                this.$1L_3.append('<table><tr><td>&nbsp;</td></tr></table>');
            }
            else {
                subjectJstree(this.$1L_3,$p1,this.$1_1.$4_2.getKey());
                this.$4A_3 = true;
            }
        }
        else {
            this.$1L_3.jstree("enable_hotkeys");
        }
        this.$j_3.dialogChrome().focus();
        this.$j_3.dialogChrome().bind('keydown', this.$$d_$LJ_3);
        if (this.$4A_3) {
            this.$1L_3.jstree("dehover_node");
            this.$1L_3.jstree("close_all", -1);
            this.$4A_3 = false;
        }
        this.$76_3 = this.$$d_$KN_3;
        addHandlerToWindow('resize', this.$76_3);
    },
    
    $Hj_3: function() {
        return (this.$1_1.$4_2).$7F_3;
    },
    
    $LJ_3: function($p0) {
        if ($p0.which === 27) {
            $p0.preventDefault();
            $p0.stopPropagation();
            this.closeTreeDialog();
        }
    },
    
    $KN_3: function($p0) {
        this.closeTreeDialog();
    },
    
    closeTreeDialog: function() {
        if (this.$4A_3) {
            this.$1L_3.jstree("disable_hotkeys");
        }
        if (this.$j_3.get_visible()) {
            this.$j_3.hide();
            this.$1_1.revertFocusBackToValueContainer();
        }
    },
    
    onImageMouseOverHandler: function(domEvent) {
        Mscrm.TurboForm.Control.View.LookupEditElement.prototype.onImageMouseOverHandler.call(this, domEvent);
        this.$7u_3();
    },
    
    onImageMouseOutHandler: function(domEvent) {
        Mscrm.TurboForm.Control.View.LookupEditElement.prototype.onImageMouseOverHandler.call(this, domEvent);
        this.$7u_3();
    },
    
    onMouseOutHandler: function(domEvent) {
        this.$7u_3();
    },
    
    $7u_3: function() {
        if (!IsNull(this.$U_2)) {
            this.$U_2.setAttribute('src', window.CDNURL + '/_imgs/dropdown_refresh.png');
            this.$U_2.style.height = '20px';
        }
    }
}


Mscrm.TurboForm.Control.View.TextAreaEditElement = function(controlView) {
    Mscrm.TurboForm.Control.View.TextAreaEditElement.initializeBase(this, [ controlView ]);
    this.$1U_1 = Mscrm.TurboForm.Control.View.TextAreaFormatter.get_instance();
    this.$11_1 = 'textarea';
}
Mscrm.TurboForm.Control.View.TextAreaEditElement.prototype = {
    
    enterEditMode: function() {
        var $v_0 = this.get_controlInput().value;
        this.get_controlInput().value = this.$1U_1.convertFormattedStringToObject($v_0);
        this.get_controlInput().focus();
    },
    
    onEditModeEnterKeyDown: function() {
    }
}


Mscrm.TurboForm.Control.View.TextBoxEditElement = function(controlView) {
    this.$$d_$67_2 = Function.createDelegate(this, this.$67_2);
    this.$$d_$3e_2 = Function.createDelegate(this, this.$3e_2);
    Mscrm.TurboForm.Control.View.TextBoxEditElement.initializeBase(this, [ controlView ]);
    this.$5p_2 = this.$$d_$3e_2;
    this.$5n_2 = this.$$d_$67_2;
}
Mscrm.TurboForm.Control.View.TextBoxEditElement.prototype = {
    $g_2: null,
    $5p_2: null,
    $5n_2: null,
    $9n_2: false,
    $66_2: '',
    
    get_controlInput: function() {
        if (!this.$g_2) {
            this.$g_2 = $get(String.format('{0}_i', this.$1_1.getKey()));
        }
        return this.$g_2;
    },
    
    get_value: function() {
        return this.get_controlInput().value;
    },
    
    set_value: function(value) {
        value = (IsNull(value)) ? '' : this.formatReadValue(value);
        this.get_controlInput().value = value;
        return value;
    },
    
    bind: function(container) {
        addHandlerToDomElement(this.get_controlInput(), 'change', this.$5p_2);
        addHandlerToDomElement(this.get_controlInput(), 'blur', this.$5n_2);
    },
    
    unbind: function() {
        $clearHandlers(this.get_controlInput());
        this.$g_2 = null;
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(6)) {
            this.set_value(propertyBag.getPropertyData(6));
        }
    },
    
    commitUpdatedValue: function(view) {
        if (!IsNull(this.$1_1) && !IsNull(this.$1_1.$4_2) && Mscrm.TurboForm.Control.Data.MemoDataAttribute.isInstanceOfType(this.$1_1.$4_2)) {
            this.$6C_2();
        }
    },
    
    blur: function() {
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.blur.call(this);
        this.$g_2.blur();
        if (Mscrm.CrmBrowser.get_currentBrowser().get_isMobileSafari()) {
            this.$6C_2();
        }
    },
    
    enterEditMode: function() {
        this.$66_2 = this.get_controlInput().value;
        this.get_controlInput().focus();
        (this.get_controlInput()).select();
    },
    
    $3e_2: function($p0) {
        var $v_0 = this.$7v_2(this.$g_2.value);
        this.$1_1.$4_2.setValue($v_0, this.$1_1.getKey());
        this.$9n_2 = true;
    },
    
    $67_2: function($p0) {
        this.$6C_2();
    },
    
    $6C_2: function() {
        var $v_0 = this.$7v_2(this.$g_2.value);
        this.$1_1.set_mode(0);
        if (!this.$9n_2) {
            this.$1_1.$4_2.setValue($v_0, this.$1_1.getKey());
        }
        else {
            this.$9n_2 = false;
        }
    },
    
    onEditModeEscKeyDown: function(keyEvent) {
        keyEvent.stopPropagation();
        var $v_0 = this.$1_1.$4_2.getValue();
        if (this.$1_1.$4_2.getAttributeType() === 'money') {
            this.get_controlInput().value = this.$66_2;
        }
        else if ((Mscrm.CrmBrowser.get_currentBrowser().get_agent() === 1 || Mscrm.CrmBrowser.get_currentBrowser().get_agent() === 6) && !$v_0) {
            this.get_controlInput().value = '';
        }
        else {
            this.get_controlInput().value = $v_0;
        }
        this.$1_1.$4_2.setValue(this.get_controlInput().value, this.$1_1.getKey(), true);
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.onEditModeEscKeyDown.call(this, keyEvent);
    },
    
    $7v_2: function($p0) {
        var $v_0 = $p0;
        if (!IsNullOrEmptyString($p0) && IsNullOrEmptyString($p0.trim())) {
            $v_0 = '';
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.View.AutoLookupEditElement = function(controlView) {
    this.$$d_$Cp_2 = Function.createDelegate(this, this.$Cp_2);
    this.$$d_$Eh_2 = Function.createDelegate(this, this.$Eh_2);
    this.$$d_$JT_2 = Function.createDelegate(this, this.$JT_2);
    this.$$d_$67_2 = Function.createDelegate(this, this.$67_2);
    this.$$d_$3e_2 = Function.createDelegate(this, this.$3e_2);
    this.$r_2 = new Mscrm.AutoLookupSearchRecord();
    Mscrm.TurboForm.Control.View.AutoLookupEditElement.initializeBase(this, [ controlView ]);
    this.$5p_2 = this.$$d_$3e_2;
    this.$5n_2 = this.$$d_$67_2;
    this.$CE_2 = this.$$d_$JT_2;
    this.$CD_2 = this.$$d_$Eh_2;
}
Mscrm.TurboForm.Control.View.AutoLookupEditElement.prototype = {
    $C_2: null,
    $AY_2: null,
    $V_2: null,
    $6B_2: null,
    $CD_2: null,
    $g_2: null,
    $CE_2: null,
    $5p_2: null,
    $5n_2: null,
    $61_2: false,
    
    get_controlInput: function() {
        if (!this.$g_2) {
            this.$g_2 = $get(String.format('{0}_i', this.$1_1.getKey()));
        }
        return this.$g_2;
    },
    
    get_value: function() {
        return this.get_controlInput().value;
    },
    
    set_value: function(value) {
        value = (IsNull(value)) ? '' : this.formatReadValue(value);
        this.get_controlInput().value = value;
        return value;
    },
    
    bind: function(container) {
        var $v_0 = String.format('{0}_i', this.$1_1.getKey());
        this.$6B_2 = container.ownerDocument.getElementById($v_0);
        addHandlerToDomElement(this.get_controlInput(), 'change', this.$5p_2);
        addHandlerToDomElement(this.get_controlInput(), 'blur', this.$5n_2);
        addHandlerToDomElement(this.get_controlInput(), 'keypress', this.$CE_2);
        addHandlerToDomElement(this.$6B_2, 'keydown', this.$CD_2);
    },
    
    unbind: function() {
        $clearHandlers(this.$6B_2);
        $clearHandlers(this.get_controlInput());
        this.$g_2 = null;
        this.$6B_2 = null;
    },
    
    commitUpdatedValue: function(view) {
        this.$6C_2();
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(6)) {
            this.set_value(propertyBag.getPropertyData(6));
        }
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(21)) {
            this.$r_2 = propertyBag.getPropertyData(21);
            this.$Cu_2();
        }
    },
    
    blur: function() {
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.blur.call(this);
        this.$g_2.blur();
        if (Mscrm.CrmBrowser.get_currentBrowser().get_isMobileSafari()) {
            this.$6C_2();
        }
    },
    
    enterEditMode: function() {
        this.$61_2 = false;
        this.get_controlInput().focus();
        (this.get_controlInput()).select();
    },
    
    $Cu_2: function() {
        var $v_0 = {};
        if (!IsNull(this.$C_2)) {
            this.hideInlineMenu();
        }
        $v_0['onClickCallback'] = this.$$d_$Cp_2;
        $v_0['inlineMenuId'] = this.$1_1.getKey() + '_IMenu';
        $v_0['itemHeight'] = 35;
        $v_0['maxHeight'] = 284;
        var $v_1 = this.$EA_2();
        var $v_2 = {};
        $v_2 = Mscrm.Utilities.getIALMenuDimension(this.$6B_2, this.$r_2.get_results().get_Count() > 7, $v_1);
        var $v_3 = $v_2['valid'];
        if ($v_3) {
            $v_0['top'] = $v_2['top'];
            $v_0['left'] = $v_2['left'];
            $v_0['width'] = $v_2['width'];
            $v_0['inlineMenu'] = this.$C_2;
            $v_0['focusElementOnHide'] = this.$g_2;
            $v_0['focusElementOnShow'] = this.$g_2;
            $v_0['inlineMenuFooterDOM'] = this.$DD_2();
            this.$C_2 = Mscrm.Utilities.showAutoCompleteMenu(this.$r_2, $v_0);
        }
    },
    
    hideInlineMenu: function() {
        if (!IsNull(this.$C_2)) {
            this.$C_2.clear();
            this.$C_2.hide();
        }
    },
    
    $EA_2: function() {
        var $v_0;
        var $v_1 = (this.$r_2.get_results().get_Count() > 6) ? 6 : this.$r_2.get_results().get_Count();
        if (!$v_1) {
            $v_1++;
        }
        $v_0 = 37 * $v_1 + 24;
        $v_0 += (this.$r_2.get_results().get_Count() > 6) ? 37 : 24;
        return $v_0;
    },
    
    $Cp_2: function($p0) {
        this.$AY_2 = this.$r_2.get_results().get_item($p0.get_reference());
        var $v_0 = this.$AY_2.get_fields()[0].toString();
        this.$1_1.$4_2.setValue($v_0, this.$1_1.getKey());
        this.onEditModeEnterKeyDown();
    },
    
    $DD_2: function() {
        var $v_0 = $get(this.$1_1.getKey());
        if (!IsNull($v_0)) {
            var $v_1 = $v_0.getAttribute('id');
            var $v_2 = $v_0.getAttribute('openFullForm');
            var $v_3 = document.createElement('DIV');
            Sys.UI.DomElement.addCssClass($v_3, 'ms-crm-IL-Footer');
            var $v_4 = document.createElement('DIV');
            if (this.$r_2.get_results().get_Count() > 0) {
                var $v_5 = GetGlobalVariable('LOCID_INLINELOOKUP_RESULTS');
                if (this.$r_2.get_results().get_Count() === 1) {
                    $v_5 = GetGlobalVariable('LOCID_INLINELOOKUP_RESULT');
                }
                var $v_6 = String.format(GetGlobalVariable('LOCID_INLINELOOKUP_RFORMAT'), this.$r_2.get_results().get_Count().toString(), $v_5);
                XUI.Html.SetText($v_4, $v_6);
                $v_4.setAttribute('aria-label', $v_6);
            }
            $v_4.tabIndex = 0;
            Sys.UI.DomElement.addCssClass($v_4, 'ms-crm-InlineLookup-FooterSection-TopResults');
            $v_3.appendChild($v_4);
            if (!$v()) {
                var $v_7 = document.createElement('DIV');
                Sys.UI.DomElement.addCssClass($v_7, 'ms-crm-InlineLookup-FooterSection-AddNew');
                $v_3.appendChild($v_7);
                this.$V_2 = document.createElement('A');
                $v_7.appendChild(this.$V_2);
                this.$V_2.href = 'javascript:void(0);';
                this.$V_2.title = String.format(GetGlobalVariable('LOCID_INLINELOOKUP_NEW_RECORD'), $v_1);
                this.$V_2.tabIndex = 0;
                Sys.UI.DomElement.addCssClass(this.$V_2, 'ms-crm-InlineLookup-FooterSection-AddAnchor');
                (this.$1_1.$6_2).addOnClick(this.$r_2.get_commands().get_action());
                var $$t_A = this;
                addHandlerToDomElement(this.$V_2, 'click', function($p1_0) {
                    if (!IsNull($$t_A.$C_2) && $$t_A.$C_2.get_isVisible()) {
                        $$t_A.$C_2.set_focusElementOnHide(null);
                        $$t_A.$C_2.updateDialogFocusElementOnHide(null);
                        $$t_A.hideInlineMenu();
                    }
                    ($$t_A.$1_1.$6_2).fireOnClick();
                });
                if (this.$r_2.get_commands().get_icon()) {
                    var $v_8 = document.createElement('IMG');
                    $v_8.src = this.$r_2.get_commands().get_icon();
                    Sys.UI.DomElement.addCssClass($v_8, 'ms-crm-InlineLookup-FooterSection-AddImage');
                    this.$V_2.appendChild($v_8);
                }
                this.$V_2.innerHTML += this.$r_2.get_commands().get_label();
            }
            return $v_3;
        }
        return null;
    },
    
    $Eh_2: function($p0) {
        switch ($p0.keyCode) {
            case 27:
            case 9:
                if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
                    this.$C_2.set_focusElementOnHide(null);
                    this.$C_2.updateDialogFocusElementOnHide(null);
                    this.hideInlineMenu();
                }
                break;
            case 8:
            case 127:
                var $v_0 = this.$g_2.value;
                var $v_1 = $p0.target.selectionStart;
                var $v_2 = $p0.target.selectionEnd;
                if ($v_1 === $v_2) {
                    if (8 === $p0.keyCode) {
                        $v_1 = $v_1 - 1;
                    }
                    else {
                        $v_2 = $v_2 + 1;
                    }
                }
                if ($v_0.length > 0) {
                    $v_0 = this.$KH_2($v_0, $v_1, $v_2);
                }
                (this.$1_1.$6_2).getLookupOnKeyPress($v_0);
                break;
            case 40:
                if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
                    Mscrm.Utilities.selectMenuItemOnNavigation(true, this.$C_2, -1, 'InlineLookupmenu');
                    this.$1_1.set_mode(2);
                    $p0.stopPropagation();
                    $p0.preventDefault();
                }
                break;
            case 13:
                if (!IsNull(this.$C_2) && this.$C_2.get_isVisible()) {
                    $p0.stopPropagation();
                    $p0.preventDefault();
                }
                break;
        }
    },
    
    $3e_2: function($p0) {
        if (!this.$61_2) {
            var $v_0 = this.$7v_2(this.$g_2.value);
            this.$1_1.$4_2.setValue($v_0, this.$1_1.getKey());
            this.$61_2 = true;
        }
    },
    
    $JT_2: function($p0) {
        var $v_0 = this.$3d_2($p0);
        (this.$1_1.$6_2).getLookupOnKeyPress($v_0);
    },
    
    $3d_2: function($p0) {
        var $v_0 = this.$g_2.value;
        var $v_1 = null;
        var $v_2 = $p0.charCode;
        var $v_3 = $p0.target.selectionStart;
        var $v_4 = $p0.target.selectionEnd;
        if (Mscrm.Utilities.isFirefox() && (($v_2 >= 35 && $v_2 <= 40) || $v_2 === 32)) {
            $v_1 = $p0.rawEvent.key;
        }
        else {
            $v_1 = $v_2.toString();
        }
        switch ($v_1) {
            case 'End':
            case 'Home':
            case 'ArrowLeft':
            case 'ArrowUp':
            case 'ArrowRight':
            case 'ArrowDown':
            case ' ':
            case 'Left':
            case 'Up':
            case 'Right':
            case 'Down':
                break;
            default:
                var $v_5 = String.fromCharCode($v_2);
                if (IsNullOrEmptyString($v_0) && !IsNullOrEmptyString($v_5)) {
                    $v_0 = $v_5;
                }
                else if (!IsNullOrEmptyString($v_5)) {
                    $v_0 = this.$IQ_2($v_0, $v_5, $v_3, $v_4);
                }
                break;
        }
        return this.$7v_2($v_0);
    },
    
    $IQ_2: function($p0, $p1, $p2, $p3) {
        var $v_0 = $p0.substr(0, $p2);
        var $v_1 = $p0.substr($p3, $p0.length);
        $p0 = $v_0 + $p1 + $v_1;
        return $p0;
    },
    
    $KH_2: function($p0, $p1, $p2) {
        var $v_0 = $p0.substr(0, $p1);
        var $v_1 = $p0.substr($p2, $p0.length);
        $p0 = $v_0 + $v_1;
        return $p0;
    },
    
    $67_2: function($p0) {
        this.$6C_2();
    },
    
    $6C_2: function() {
        if (!this.$61_2) {
            var $v_0 = this.$7v_2(this.$g_2.value);
            this.$1_1.$4_2.setValue($v_0, this.$1_1.getKey());
            this.$61_2 = true;
        }
        this.$1_1.set_mode(0);
    },
    
    onEditModeEscKeyDown: function(keyEvent) {
        keyEvent.stopPropagation();
        var $v_0 = this.$1_1.$4_2.getValue();
        this.get_controlInput().value = $v_0;
        this.$1_1.$4_2.setValue(this.get_controlInput().value, this.$1_1.getKey(), true);
        Mscrm.TurboForm.Control.View.EditElementBase.prototype.onEditModeEscKeyDown.call(this, keyEvent);
    },
    
    $7v_2: function($p0) {
        var $v_0 = $p0;
        if (!IsNullOrEmptyString($p0)) {
            $v_0 = $p0.trim();
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.View.ToggleEditElement = function(controlView) {
    Mscrm.TurboForm.Control.View.ToggleEditElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.ToggleEditElement.prototype = {
    $1z_2: null,
    
    bind: function(container) {
        this.$1z_2 = XUI.Html.DomUtils.GetChildElementAt(container, 0);
    },
    
    unbind: function() {
        this.$1z_2 = null;
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(6)) {
            this.$2E_2(propertyBag.getPropertyData(6));
        }
    },
    
    $2E_2: function($p0) {
        if (!IsNull($p0)) {
            this.$1z_2.value = $p0.toString();
        }
    },
    
    enterEditMode: function() {
        if (this.$1_1.get_mode() === 1) {
            var $v_0 = this.$1z_2.value;
            for (var $v_1 = 0; $v_1 < this.$1z_2.options.length; $v_1++) {
                var $v_2 = this.$1z_2.options[$v_1];
                if ($v_2.value !== $v_0) {
                    var $v_3 = $v_2.value;
                    this.$2E_2($v_3);
                    this.$1_1.$4_2.setValue($v_3, this.$1_1.getKey());
                    break;
                }
            }
        }
        this.$1_1.set_mode(0);
        this.$1_1.set_mode(2);
    },
    
    getPerceivedEditElementValue: function(value) {
        var $v_0 = Mscrm.TurboForm.Control.View.EditElementBase.prototype.getPerceivedEditElementValue.call(this, value);
        return ($v_0 === '0') ? '' : $v_0;
    }
}


Mscrm.TurboForm.Control.View.EditFilterControlView = function(descriptor) {
    Mscrm.TurboForm.Control.View.EditFilterControlView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.EditFilterControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.editFilterControl, Mscrm.TurboForm.Control.View.EditFilterControlView.$Fw, false);
}
Mscrm.TurboForm.Control.View.EditFilterControlView.$Fw = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.EditFilterControlView($p0);
    $v_0.$T_4 = new Mscrm.TurboForm.Control.View.EditFilterEditElement($v_0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    return $v_0;
}
Mscrm.TurboForm.Control.View.EditFilterControlView.prototype = {
    
    onMouseOverHandler: function(evt) {
    },
    
    onFocusHandler: function(evt) {
        if (!this.get_isDisabled()) {
            Sys.UI.DomElement.addCssClass(this.$h_4, 'ms-crm-Inline-EditHintState');
            this.setTabbedAttributeLogicalName();
            (this.$P_3).onFocusHandler(evt);
        }
    },
    
    onBlurHandler: function(evt) {
        if (!this.get_isDisabled()) {
            Sys.UI.DomElement.removeCssClass(this.$h_4, 'ms-crm-Inline-EditHintState');
            (this.$P_3).onBlurHandler(evt);
        }
    },
    
    onMouseOutHandler: function(evt) {
    },
    
    get_mode: function() {
        return Mscrm.TurboForm.Control.View.EditableControlView.prototype.get_mode.call(this);
    },
    
    set_mode: function(value) {
        if (value === 1) {
            Mscrm.TurboForm.Control.View.EditableControlView.prototype.set_mode.call(this, value);
        }
        return value;
    },
    
    onDisplayModeChanged: function() {
    },
    
    onKeyDownHandler: function(evt) {
        if (evt.keyCode === 13) {
            if (!this.get_isDisabled()) {
                this.onEditModeEnterKeyDown(evt);
                (this.$T_4).showEditFilterDialog(evt);
            }
        }
    },
    
    setDisabled: function(isDisabled) {
        if (this.get_isDisabled() !== isDisabled) {
            this.$1I_4 = isDisabled;
            if (!IsNull(XUI.Html.DomUtils.GetFirstChild(this.$h_4))) {
                XUI.Html.DomUtils.GetFirstChild(this.$h_4).disabled = this.get_isDisabled();
            }
        }
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.EditableControlView.prototype.update.call(this, propertyBag);
        var $v_0 = GetGlobalVariable('EditFilterTitle');
        if (!IsNullOrEmptyString($v_0)) {
            this.$I_3.title = $v_0;
            this.$H_3.title = $v_0;
        }
    }
}


Mscrm.TurboForm.Control.View.EmailEngagementActionsControlView = function(descriptor) {
    Mscrm.TurboForm.Control.View.EmailEngagementActionsControlView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.EmailEngagementActionsControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailEngagementActionsControl, Mscrm.TurboForm.Control.View.EmailEngagementActionsControlView.$G0);
}
Mscrm.TurboForm.Control.View.EmailEngagementActionsControlView.$G0 = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.EmailEngagementActionsControlView($p0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    return $v_0;
}


Mscrm.TurboForm.Control.View.FooterView = function() {
    this.$$d_$KU_1 = Function.createDelegate(this, this.$KU_1);
    this.$$d_$KS_1 = Function.createDelegate(this, this.$KS_1);
    Mscrm.TurboForm.Control.View.FooterView.initializeBase(this);
    this.$8r_1 = this.$$d_$KS_1;
    this.$8s_1 = this.$$d_$KU_1;
}
Mscrm.TurboForm.Control.View.FooterView.prototype = {
    $AR_1: null,
    $2T_1: null,
    $5h_1: null,
    $8r_1: null,
    $8s_1: null,
    $DA_1: 0,
    $7E_1: null,
    
    get_elementId: function() {
        if (!this.$7E_1) {
            var $v_0 = document.querySelector('#refreshFormFooterContainer div.ms-crm-Read-Message');
            if (!IsNull($v_0)) {
                this.$7E_1 = $v_0.id;
            }
            else {
                this.$7E_1 = 'footer_statuscontrol';
            }
        }
        return this.$7E_1;
    },
    
    bind: function() {
        this.$AR_1 = $get('formFootersContainer');
        this.$2T_1 = $get('save' + this.get_elementId());
        this.$5h_1 = $get('title' + this.get_elementId());
        var $v_0 = $get(this.get_elementId() + '_d');
        if (!IsNull($v_0)) {
            if (isRightToLeft()) {
                $v_0.style.position = 'left';
            }
            else {
                $v_0.style.position = 'right';
            }
        }
        if (!IsNull(this.$2T_1)) {
            addHandlerToDomElement(this.$2T_1, 'click', this.$8r_1);
            addHandlerToDomElement(this.$2T_1.parentNode, 'keydown', this.$8s_1);
        }
    },
    
    unbind: function() {
        removeHandlerFromDomElement(this.$2T_1, 'click', this.$8r_1);
        removeHandlerFromDomElement(this.$2T_1.parentNode, 'keydown', this.$8s_1);
        this.$AR_1 = null;
        this.$2T_1 = null;
        this.$5h_1 = null;
        this.$DA_1 = 0;
    },
    
    update: function(propertyBag) {
        if (!$v() && propertyBag.hasPropertyData(19)) {
            this.$GU_1(propertyBag.getPropertyData(19));
        }
    },
    
    $KS_1: function($p0) {
        Xrm.Page.data.entity.save();
    },
    
    $KU_1: function($p0) {
        switch ($p0.keyCode) {
            case 13:
                Xrm.Page.data.entity.save();
                break;
        }
    },
    
    $BT_1: 0,
    
    $GU_1: function($p0) {
        var $v_0 = '';
        var $v_1 = '/_imgs/inlineedit/save.png';
        if ($p0.$7j_1) {
            $v_0 = GetGlobalVariable('LOCID_READONLY');
            $v_1 = '/_imgs/inlineedit/locked.png';
        }
        else if ($p0.$9R_1) {
            $v_0 = $p0.$8D_1;
            $v_1 = '/_imgs/inlineedit/savehover.png';
        }
        else if ($p0.$9Y_1) {
            $v_0 = GetGlobalVariable('LOCID_UNSAVEDCHANGES');
            $v_1 = '/_imgs/inlineedit/savehover.png';
            this.$BT_1++;
        }
        else if ($p0.$9d_1) {
            $v_0 = GetGlobalVariable('LOCID_SAVING');
            $v_1 = '/_imgs/inlineedit/saveanimation.gif';
            this.$BT_1 = 0;
        }
        this.$Ko_1($v_0, Mscrm.CrmUri.create($v_1));
    },
    
    $Ko_1: function($p0, $p1) {
        this.$2T_1.setAttribute('src', $p1.toString());
        this.$2T_1.setAttribute('alt', CrmEncodeDecode.CrmHtmlEncode($p0));
        if ($p0 === GetGlobalVariable('LOCID_UNSAVEDCHANGES')) {
            if (this.$5h_1.innerHTML !== $p0) {
                this.$5h_1.innerHTML = CrmEncodeDecode.CrmHtmlEncode($p0);
            }
        }
        else {
            this.$5h_1.innerHTML = CrmEncodeDecode.CrmHtmlEncode($p0);
        }
    }
}


Mscrm.TurboForm.Control.View.FormView = function(descriptor) {
    Mscrm.TurboForm.Control.View.FormView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.FormView.processKeyCode = function(value) {
    if (!Mscrm.TurboForm.Control.View.FormView.$d) {
        Mscrm.TurboForm.Control.View.FormView.$d = {};
        Mscrm.TurboForm.Control.View.FormView.$d[219] = 91;
        Mscrm.TurboForm.Control.View.FormView.$d[221] = 93;
        Mscrm.TurboForm.Control.View.FormView.$d[51] = 35;
        Mscrm.TurboForm.Control.View.FormView.$d[186] = 59;
        Mscrm.TurboForm.Control.View.FormView.$d[187] = 61;
        Mscrm.TurboForm.Control.View.FormView.$d[188] = 44;
        Mscrm.TurboForm.Control.View.FormView.$d[189] = 45;
        Mscrm.TurboForm.Control.View.FormView.$d[190] = 46;
        Mscrm.TurboForm.Control.View.FormView.$d[191] = 47;
        Mscrm.TurboForm.Control.View.FormView.$d[222] = 39;
    }
    if (Mscrm.TurboForm.Control.View.FormView.$d[value]) {
        return Mscrm.TurboForm.Control.View.FormView.$d[value];
    }
    return value;
}
Mscrm.TurboForm.Control.View.FormView.prototype = {
    
    update: function(propertyBag) {
    }
}


Mscrm.TurboForm.Control.View.HeaderView = function() {
    this.$$d_imageUploadCallback = Function.createDelegate(this, this.imageUploadCallback);
    this.$$d_$J9_1 = Function.createDelegate(this, this.$J9_1);
    this.$$d_$Ee_1 = Function.createDelegate(this, this.$Ee_1);
    this.$$d_$JA_1 = Function.createDelegate(this, this.$JA_1);
    this.$$d_$Ef_1 = Function.createDelegate(this, this.$Ef_1);
    Mscrm.TurboForm.Control.View.HeaderView.initializeBase(this);
}
Mscrm.TurboForm.Control.View.HeaderView.get_$I0 = function() {
    if ($v()) {
        return 'tdDialogHeader';
    }
    return 'formHeaderContainer';
}
Mscrm.TurboForm.Control.View.HeaderView.prototype = {
    $3q_1: null,
    $AW_1: null,
    $8J_1: null,
    $6i_1: null,
    $6h_1: null,
    $AX_1: null,
    $6g_1: null,
    
    bind: function() {
        this.$AW_1 = $get(Mscrm.TurboForm.Control.View.HeaderView.get_$I0());
        this.$8J_1 = $get('FormTitle');
        this.$6g_1 = $get('form_pic_image');
        this.$6i_1 = $get('HeaderTilesWrapperLayoutElement');
        if (!IsNull(this.$6i_1)) {
            this.$6h_1 = XUI.Html.DomUtils.GetFirstChild(this.$6i_1);
            if (!IsNull(this.$6h_1)) {
                this.$AX_1 = this.$6h_1.children;
            }
        }
        this.$IH_1();
    },
    
    unbind: function() {
        this.$AW_1 = null;
        this.$8J_1 = null;
        this.$6g_1 = null;
        this.$6i_1 = null;
        this.$6h_1 = null;
        this.$AX_1 = null;
        this.$KE_1();
        this.$KF_1();
        if (!IsNull(this.$3q_1)) {
            this.$3q_1.dispose();
        }
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(16)) {
            var $v_0 = propertyBag.getPropertyData(16);
            if (!IsNullOrEmptyString($v_0)) {
                this.loadFormTitle($v_0);
            }
        }
        if (propertyBag.hasPropertyData(28)) {
            var $v_1 = propertyBag.getPropertyData(28);
            if (Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.isCustomImagePresentInDatabase) {
                var $v_2 = Mscrm.CrmUri.create('/image/download.aspx');
                $v_2.get_query()['entity'] = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.entityName.toLowerCase();
                $v_2.get_query()['attribute'] = 'entityimage';
                $v_2.get_query()['id'] = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.recordId.toString();
                $v_2.get_query()['timestamp'] = (new Date()).getTime().toString();
                $v_1 = $v_2.toString();
            }
            if (!IsNullOrEmptyString($v_1)) {
                this.loadHeaderImage($v_1);
            }
        }
    },
    
    $IH_1: function() {
        var $v_0 = $get('FormSecNavigationControl-Icon');
        if (!IsNull($v_0)) {
            addHandlerToDomElement($v_0, 'click', this.$$d_$Ef_1);
            addHandlerToDomElement($v_0, 'keydown', this.$$d_$JA_1);
        }
    },
    
    $JA_1: function($p0) {
        if ($p0.keyCode === 13) {
            this.$Ef_1($p0);
        }
    },
    
    $Ef_1: function($p0) {
        setPerfMarkerTimestamp('FormSectionFlyoutLoadStartTime');
        if (IsNull(this.$3q_1) && !IsNull(Mscrm.FormSectionNavigationFlyOut)) {
            this.$3q_1 = (Mscrm.CrmUIComponent.crmCreate(Mscrm.FormSectionNavigationFlyOut, null, null, null, $get('FormSecNavigationControl-Icon')));
        }
        if (!IsNull(this.$3q_1)) {
            this.$3q_1.launch();
        }
        $p0.stopPropagation();
        setPerfMarkerTimestamp('FormSectionFlyoutLoadEndTime');
    },
    
    resize: function() {
        this.$JB_1();
    },
    
    $JB_1: function() {
        Mscrm.Utilities.setRefreshFormLayout();
    },
    
    loadFormTitle: function(title) {
        var $v_0 = CrmEncodeDecode.CrmHtmlAttributeEncode(title);
        var $v_1 = CrmEncodeDecode.CrmHtmlEncode(title);
        $v_1 = Mscrm.InternalUtilities._String.replaceAll($v_1, ' ', '&nbsp;');
        this.$8J_1.innerHTML = String.format('<h1 class=\"ms-crm-TextAutoEllipsis\" title=\"{0}\">{1}</h1>', $v_0, $v_1);
    },
    
    loadHeaderImage: function(imageSource) {
        if (!IsNull(this.$6g_1)) {
            this.$6g_1.src = imageSource;
            this.$IG_1();
        }
    },
    
    $IG_1: function() {
        var $v_0 = $get('form_pic_image_link');
        if (!IsNull($v_0)) {
            addHandlerToDomElement($v_0, 'click', this.$$d_$Ee_1);
            addHandlerToDomElement($v_0, 'keydown', this.$$d_$J9_1);
        }
    },
    
    $KE_1: function() {
        var $v_0 = $get('form_pic_image_link');
        if (!IsNull($v_0)) {
            removeHandlerFromDomElement($v_0, 'click', this.$$d_$Ee_1);
            removeHandlerFromDomElement($v_0, 'keydown', this.$$d_$J9_1);
        }
    },
    
    $KF_1: function() {
        var $v_0 = $get('FormSecNavigationControl-Icon');
        if (!IsNull($v_0)) {
            removeHandlerFromDomElement($v_0, 'click', this.$$d_$Ef_1);
            removeHandlerFromDomElement($v_0, 'keydown', this.$$d_$JA_1);
        }
    },
    
    $J9_1: function($p0) {
        if ($p0.keyCode === 13) {
            this.$Ee_1($p0);
        }
    },
    
    $Ee_1: function($p0) {
        if (!window.IS_LIVE && Mscrm.Utilities.isIosDevice()) {
            return;
        }
        if (this.isEntitySaved()) {
            var $v_0 = Mscrm.CrmUri.create('/_grid/cmds/dlg_imageupload.aspx');
            $v_0.get_query()['entityId'] = Xrm.Page.data.entity.getId();
            $v_0.get_query()['entityName'] = Xrm.Page.data.entity.getEntityName();
            $v_0.get_query()['attributeName'] = 'entityimage';
            var $v_1 = new Xrm.DialogOptions();
            $v_1.height = 390;
            $v_1.width = 456;
            var $v_2 = this.$$d_imageUploadCallback;
            Xrm.Internal.openDialog($v_0.toString(), $v_1, null, null, $v_2);
        }
    },
    
    imageUploadCallback: function(imageSource) {
        if (!IsNullOrEmptyString(imageSource)) {
            ($get('form_pic_image')).src = imageSource;
        }
    },
    
    isEntitySaved: function() {
        if (!IsNullOrEmptyString(Xrm.Page.data.entity.getId())) {
            return true;
        }
        return false;
    }
}


Mscrm.TurboForm.Control.View.DialogSize = function() {
}


Mscrm.TurboForm.Control.View.IFrameView = function(descriptor) {
    Mscrm.TurboForm.Control.View.IFrameView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.IFrameView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.frameControl, Mscrm.TurboForm.Control.View.IFrameView.$DU);
}
Mscrm.TurboForm.Control.View.IFrameView.$DU = function($p0) {
    return new Mscrm.TurboForm.Control.View.IFrameView($p0);
}
Mscrm.TurboForm.Control.View.IFrameView.prototype = {
    $2n_3: null,
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.bindInternal.call(this);
        this.$2n_3 = $get(this.getKey());
    },
    
    unbindInternal: function() {
        this.$2n_3 = null;
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(17)) {
            var $v_0 = (IsNull(propertyBag.getPropertyData(17))) ? '' : propertyBag.getPropertyData(17);
            this.$2n_3.contentWindow.location.replace($v_0);
            this.$2n_3.setAttribute('url', $v_0);
        }
    }
}


Mscrm.TurboForm.Control.View.LinkControlElement = function() {
    Mscrm.TurboForm.Control.View.LinkControlElement.initializeBase(this);
}
Mscrm.TurboForm.Control.View.LinkControlElement.prototype = {
    $4e_1: null,
    
    get_controlElement: function() {
        return this.$4e_1;
    },
    
    set_controlElement: function(value) {
        this.$4e_1 = value;
        return value;
    },
    
    bind: function(element) {
        this.$4e_1 = element;
    },
    
    unbind: function() {
        $clearHandlers(this.$4e_1);
        this.$4e_1 = null;
    }
}


Mscrm.TurboForm.Control.View.LinkControlView = function(descriptor) {
    this.$$d_$GR_3 = Function.createDelegate(this, this.$GR_3);
    this.$$d_$Iv_3 = Function.createDelegate(this, this.$Iv_3);
    this.$$d_$Ea_3 = Function.createDelegate(this, this.$Ea_3);
    this.$$d_$Jf_3 = Function.createDelegate(this, this.$Jf_3);
    this.$$d_$Gz_3 = Function.createDelegate(this, this.$Gz_3);
    this.$$d_$Ih_3 = Function.createDelegate(this, this.$Ih_3);
    this.$$d_$Jo_3 = Function.createDelegate(this, this.$Jo_3);
    Mscrm.TurboForm.Control.View.LinkControlView.initializeBase(this, [ descriptor ]);
    this.$6w_3 = new Mscrm.TurboForm.Control.View.LinkControlElement();
    this.$9D_3 = descriptor;
    this.$43_3 = this.$$d_$Jo_3;
    this.$Y_3 = new Mscrm.InlineFlyOutDialog();
    this.$Y_3.get_options().set_showCloseButton(false);
    this.$Y_3.get_options().set_showButtonPane(true);
    this.$Y_3.get_options().set_applyAnchorClassChange(false);
    this.$Y_3.get_options().set_isInDelayMode(true);
    this.$Y_3.set_shouldDisposeContent(false);
}
Mscrm.TurboForm.Control.View.LinkControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.linkControl, Mscrm.TurboForm.Control.View.LinkControlView.$G3, false);
}
Mscrm.TurboForm.Control.View.LinkControlView.$G3 = function($p0) {
    return new Mscrm.TurboForm.Control.View.LinkControlView($p0);
}
Mscrm.TurboForm.Control.View.LinkControlView.prototype = {
    $5J_3: null,
    $2l_3: null,
    $I_3: null,
    $3S_3: null,
    $9I_3: null,
    $9D_3: null,
    $2I_3: 2,
    $Bb_3: null,
    $Ba_3: null,
    $4O_3: null,
    $9J_3: null,
    $9W_3: null,
    $A8_3: null,
    $15_3: null,
    $8M_3: null,
    $4c_3: null,
    $8x_3: false,
    $6m_3: false,
    $Ab_3: false,
    $Ac_3: false,
    $Aa_3: true,
    $7L_3: false,
    $8Q_3: false,
    $97_3: null,
    $1A_3: null,
    $31_3: null,
    $Y_3: null,
    $91_3: null,
    $43_3: null,
    $6r_3: false,
    $1i_3: false,
    $70_3: null,
    $6w_3: null,
    
    get_linkControl: function() {
        return this.$6w_3;
    },
    
    set_linkControl: function(value) {
        this.$6w_3 = value;
        return value;
    },
    
    get_iElement: function() {
        return $get(this.getKey());
    },
    
    get_flyOutDialog: function() {
        return this.$Y_3;
    },
    
    get_fieldName: function() {
        return this.$15_3;
    },
    
    set_fieldName: function(value) {
        this.$15_3 = value;
        return value;
    },
    
    get_isEligibleForMarkComplete: function() {
        return this.$Aa_3;
    },
    
    set_isEligibleForMarkComplete: function(value) {
        this.$Aa_3 = value;
        return value;
    },
    
    get_onAssociatedStepCheck: function() {
        return this.$70_3;
    },
    
    set_onAssociatedStepCheck: function(value) {
        this.$70_3 = value;
        return value;
    },
    
    get_isAssociatedStepCompleted: function() {
        if (!IsNull(this.$70_3)) {
            this.$6m_3 = this.$70_3();
            this.$FD_3();
        }
        return this.$6m_3;
    },
    
    set_isAssociatedStepCompleted: function(value) {
        this.$6m_3 = value;
        this.$FD_3();
        return value;
    },
    
    get_showProgressIndicator: function() {
        return this.$8x_3;
    },
    
    set_showProgressIndicator: function(value) {
        this.$8x_3 = value;
        var $v_0 = $get('processingDialog');
        if (!IsNull($v_0)) {
            if (this.$8x_3) {
                $v_0.style.display = 'block';
            }
            else {
                $v_0.style.display = 'none';
            }
        }
        return value;
    },
    
    get_completedLabel: function() {
        return this.$4c_3;
    },
    
    set_completedLabel: function(value) {
        this.$4c_3 = value;
        return value;
    },
    
    get_initialLabel: function() {
        return this.$8M_3;
    },
    
    get_$C8_3: function() {
        return this.$15_3 === 'header_process_CaseResearch_LinkControl';
    },
    
    get_$C7_3: function() {
        return this.$15_3 === 'header_process_IncidentResolution_LinkControl';
    },
    
    get_$CB_3: function() {
        return this.$15_3 === 'CaseResearch_LinkControl';
    },
    
    get_$C9_3: function() {
        return !IsNull($get('header_process_CaseResearch_LinkControl'));
    },
    
    get_flyoutType: function() {
        if (this.$2I_3 === 2) {
            if (this.get_flyoutDescriptor().Id.indexOf('compositionLinkControl') > -1) {
                this.$2I_3 = 1;
            }
            else {
                this.$2I_3 = 0;
            }
        }
        return this.$2I_3;
    },
    
    get_flyoutDescriptor: function() {
        if (IsNull(this.$9I_3)) {
            for (var $$arr_0 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.descriptors[0].UIDescriptor.LinkControlSections, $$len_1 = $$arr_0.length, $$idx_2 = 0; $$idx_2 < $$len_1; ++$$idx_2) {
                var $v_0 = $$arr_0[$$idx_2];
                if ($v_0.Id === this.$9D_3.Id || $v_0.Id === 'header_process_' + this.$9D_3.Id) {
                    this.$9I_3 = $v_0;
                    break;
                }
            }
        }
        return this.$9I_3;
    },
    
    get_title: function() {
        if (isNullOrEmptyString(this.$A8_3)) {
            if (!IsNull(this.get_flyoutDescriptor()) && !IsNull(this.get_flyoutDescriptor().Title)) {
                this.$A8_3 = this.get_flyoutDescriptor().Title.toString();
            }
        }
        return this.$A8_3;
    },
    
    get_buttonCollection: function() {
        if (IsNull(this.$97_3)) {
            if (!IsNull(this.get_flyoutDescriptor())) {
                this.$97_3 = this.get_flyoutDescriptor().ButtonCollection;
            }
        }
        return this.$97_3;
    },
    
    get_eventHandlers: function() {
        if (IsNull(this.$1A_3)) {
            if (!IsNull(this.get_flyoutDescriptor())) {
                this.$1A_3 = this.get_flyoutDescriptor().EventHandlers;
            }
        }
        return this.$1A_3;
    },
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.bindInternal.call(this);
        if (this.get_flyoutType() === 1) {
            var $v_0 = this.getKey().indexOf('compositionLinkControl');
            this.$15_3 = this.getKey().substring(0, $v_0 - 1);
        }
        else {
            this.$15_3 = this.getKey();
        }
        this.$I_3 = $get(this.$15_3);
        if (this.get_$C8_3() || (this.get_$CB_3() && !this.get_$C9_3())) {
            this.$3S_3 = $get('RelatedSolutionGrid_addImageButton');
        }
        if (this.$15_3.indexOf('header_process_CaseResearch_LinkControl_') > -1) {
            this.$2l_3 = $get(this.$15_3.substring(0, this.$15_3.lastIndexOf('_')) + '_flyoutContent');
            this.$5J_3 = $get(this.$15_3.substring(0, this.$15_3.lastIndexOf('_')) + '_flyoutLoadingArea');
        }
        else {
            this.$2l_3 = $get(this.getKey() + '_flyoutContent');
            this.$5J_3 = $get(this.getKey() + '_flyoutLoadingArea');
        }
        this.$6w_3.bind(this.$I_3);
        if (!IsNull(this.$I_3)) {
            addHandlerToDomElement(this.$I_3, 'click', this.$43_3);
            addHandlerToDomElement(this.$I_3, 'keydown', this.$$d_$Ih_3);
            addHandlerToDomElement(this.$I_3, 'keypress', this.$$d_$Ih_3);
            if (this.get_flyoutType() === 1) {
                addHandlerToDomElement(this.$I_3, 'focus', this.$$d_$Gz_3);
            }
        }
        if (this.get_$C7_3() || this.$15_3 === 'ProductSuggestions_LinkControl') {
            this.initializeFlyoutPostBinding();
        }
        else if (this.$15_3 === 'DynamicPropertiesList_LinkControl') {
            if (IsNull(this.$2w_3(this.get_eventHandlers(), 'flyout-initialize'))) {
                Array.add(this.get_eventHandlers(), new Mscrm.NameValuePair('flyout-initialize', 'Mscrm.DynamicPropertiesListFlyOut.generateDynamicPropertiesListFlyOut'));
            }
            this.initializeFlyoutPostBinding();
        }
        this.$7M_3(false);
        if (!IsNull(this.$3S_3)) {
            if ((this.get_$C8_3() || (this.get_$CB_3() && !this.get_$C9_3()))) {
                addHandlerToDomElement(this.$3S_3, 'click', this.$43_3);
                addHandlerToDomElement(this.$3S_3, 'keydown', this.$$d_$Ih_3);
                addHandlerToDomElement(this.$I_3, 'keypress', this.$$d_$Ih_3);
            }
        }
        if (this.get_$C7_3()) {
            this.$4c_3 = window.LOCID_CASE_CLOSED;
        }
        this.$DO_3(true);
    },
    
    $DO_3: function($p0) {
        if ($p0) {
            Mscrm.TurboForm.Control.PageBootstrapper.add_onDataBound(this.$$d_$Jf_3);
        }
        else {
            Mscrm.TurboForm.Control.PageBootstrapper.remove_onDataBound(this.$$d_$Jf_3);
        }
    },
    
    $Jf_3: function($p0, $p1) {
        this.$IF_3();
        this.$DP_3(true);
    },
    
    $IF_3: function() {
        this.$6r_3 = !this.$98_3();
        if (Mscrm.Utilities.isTurboForm() && !this.$6r_3) {
            var $v_0 = Mscrm.TurboForm.Control.PageManager.get_instance().$D_1;
            if (!IsNull($v_0) && !IsNull($v_0.formData)) {
                this.$Dj_3($v_0.formData, true);
            }
        }
    },
    
    $EV_3: function($p0) {
        if (this.get_$C7_3()) {
            var $v_0 = $P_CRM(this.get_iElement());
            var $v_1 = $v_0.parents('.processStep');
            if (!$p0) {
                $v_1.addClass('emptyValue');
            }
            else {
                $v_1.removeClass('emptyValue');
            }
            this.set_isAssociatedStepCompleted($p0);
        }
    },
    
    $DP_3: function($p0) {
        if (Mscrm.Utilities.isTurboForm()) {
            if ($p0) {
                Mscrm.TurboForm.Control.CommandService.get_instance().addAfterCommandExecutionHandler(1, this.$$d_$Ea_3);
                Mscrm.TurboForm.Control.CommandService.get_instance().addAfterCommandExecutionHandler(208, this.$$d_$Iv_3);
            }
            else {
                Mscrm.TurboForm.Control.CommandService.get_instance().removeAfterCommandExecutionHandler(1, this.$$d_$Ea_3);
                Mscrm.TurboForm.Control.CommandService.get_instance().removeAfterCommandExecutionHandler(208, this.$$d_$Iv_3);
            }
        }
    },
    
    $Ea_3: function($p0) {
        if (this.$6r_3) {
            this.$7M_3(false);
            this.$6r_3 = false;
        }
    },
    
    $Iv_3: function($p0) {
        var $v_0 = $p0.$64_1;
        if (!IsNull($v_0)) {
            this.$Dj_3($v_0, false);
        }
    },
    
    $Dj_3: function($p0, $p1) {
        var $v_0 = $p0;
        this.$1i_3 = !IsNull($v_0) && (('_entitydisabled') in $v_0) && $v_0['_entitydisabled'] === '1';
        if (this.$1i_3) {
            this.$EV_3(true);
            this.$7M_3(true);
        }
        else {
            if (!$p1) {
                this.$EV_3(false);
                this.$7M_3(false);
            }
        }
    },
    
    $I8_3: function() {
        if (!IsNullOrEmptyString(this.$9W_3) && this.$98_3()) {
            this.$5x_3(this.$9W_3);
        }
        if (this.get_flyoutType() === 1) {
            if (!window.UseTabletExperience) {
                addHandlerToWindow('resize', this.$$d_$GR_3);
            }
            var $$t_0 = this;
            this.$Y_3.bind('flyout-overlayclicked', function() {
                $$t_0.$5x_3($$t_0.$9J_3);
            });
        }
    },
    
    $Kn_3: function() {
        if (this.$2l_3) {
            if (!IsNullOrEmptyString(this.get_title())) {
                this.$Y_3.get_options().set_title(this.get_title());
                this.$Y_3.get_options().set_showTitlePane(true);
            }
            this.$Y_3.set_buttonsInitialTabIndex((this.$2l_3.getAttribute('flyoutTabIndex')) ? parseInt(this.$2l_3.getAttribute('flyoutTabIndex').toString()) : 0);
            var $v_0 = this.$2w_3(this.get_buttonCollection(), 'confirm');
            if (!IsNull($v_0)) {
                this.$Y_3.setButtonTooltip(1, $v_0.toString());
            }
            var $v_1 = this.$2w_3(this.get_buttonCollection(), 'cancel');
            if (!IsNull($v_1)) {
                this.$Y_3.setButtonTooltip(2, $v_1.toString());
            }
            this.$Go_3();
            this.$Kg_3();
        }
    },
    
    unbindInternal: function() {
        if (!IsNull(this.$I_3)) {
            if (null !== this.$Y_3) {
                this.$Y_3.dispose();
            }
            removeHandlerFromDomElement(this.$I_3, 'click', this.$43_3);
            this.$43_3 = null;
            removeHandlerFromDomElement(this.$I_3, 'keydown', this.$$d_$Ih_3);
            removeHandlerFromDomElement(this.$I_3, 'keypress', this.$$d_$Ih_3);
            if (this.$2I_3 === 1) {
                removeHandlerFromDomElement(this.$I_3, 'focus', this.$$d_$Gz_3);
                if (!window.UseTabletExperience) {
                    removeHandlerFromWindow('resize', this.$$d_$GR_3);
                }
            }
        }
        if (!IsNull(this.$3S_3)) {
            if ((this.get_$C8_3() || (this.get_$CB_3() && !this.get_$C9_3()))) {
                removeHandlerFromDomElement(this.$3S_3, 'click', this.$43_3);
                removeHandlerFromDomElement(this.$3S_3, 'keydown', this.$$d_$Ih_3);
                removeHandlerFromDomElement(this.$I_3, 'keypress', this.$$d_$Ih_3);
            }
        }
        if (!IsNull(this.$5J_3)) {
            this.$5J_3 = null;
        }
        if (!IsNull(this.$2l_3)) {
            this.$2l_3 = null;
        }
        this.$DO_3(false);
        this.$DP_3(false);
    },
    
    $Jo_3: function($p0) {
        if (!this.get_$EQ_3()) {
            this.initializeFlyoutPostBinding();
        }
        if (IsNull(this.$4O_3)) {
            this.openFlyOut($p0);
        }
        else {
            var $v_0 = eval(this.$4O_3);
            $v_0(null);
        }
    },
    
    $DF_3: function($p0) {
        if (this.get_flyoutType() === 1 && !IsNull(this.$31_3)) {
            var $v_0 = this.$31_3.get(0);
            if (!IsNull($v_0)) {
                var $v_1 = XUI.Html.DomUtils.GetFirstChild($v_0);
                if (!IsNull($v_1)) {
                    var $v_2 = XUI.Html.DomUtils.GetFirstChild($v_1);
                    if ($p0) {
                        Sys.UI.DomElement.addCssClass($v_1, 'ms-crm-Input-Container');
                        if (!IsNull($v_2)) {
                            if (XUI.Html.GetText($v_2) === '--') {
                                XUI.Html.SetText($v_2, ' ');
                                this.$8Q_3 = true;
                            }
                            else {
                                this.$8Q_3 = false;
                            }
                        }
                    }
                    else {
                        if (this.$Y_3.get_hideFlyOutOnConfirmClick()) {
                            Sys.UI.DomElement.removeCssClass($v_1, 'ms-crm-Input-Container');
                        }
                        if (!IsNull($v_2)) {
                            if (this.$8Q_3) {
                                XUI.Html.SetText($v_2, '--');
                            }
                        }
                    }
                }
            }
        }
    },
    
    $2w_3: function($p0, $p1) {
        var $v_0 = null;
        if (!IsNull($p0)) {
            for (var $$arr_3 = $p0, $$len_4 = $$arr_3.length, $$idx_5 = 0; $$idx_5 < $$len_4; ++$$idx_5) {
                var $v_1 = $$arr_3[$$idx_5];
                if ($v_1.Key === $p1) {
                    $v_0 = $v_1.Value.toString();
                    break;
                }
            }
        }
        return $v_0;
    },
    
    get_$EQ_3: function() {
        return this.$Ab_3 && this.$Ac_3;
    },
    
    openFlyOut: function(domEvent, anchorPoint) {
        var $v_0 = false;
        if (this.get_flyoutType() === 1) {
            var $v_1 = Xrm.Page.getControl(this.$15_3);
            if (!IsNull($v_1)) {
                $v_0 = $v_1.getDisabled();
            }
        }
        if (!$v_0) {
            setPerfMarkerTimestamp('StartOpenFlyOutTimestamp');
            if (!this.get_$EQ_3()) {
                this.initializeFlyoutPostBinding();
            }
            if (!IsNull(domEvent) || !IsNull(anchorPoint)) {
                if ((this.get_flyoutType() !== 1 || this.$1i_3) && !this.$98_3()) {
                    return;
                }
                this.$5x_3(this.$Bb_3);
                this.openFlyOutWithAnchor(anchorPoint);
            }
        }
    },
    
    $98_3: function() {
        if (this.$1i_3) {
            return false;
        }
        var $v_0 = Xrm.Page.data.entity.getId();
        return ((!IsNullOrEmptyString($v_0)) && (!Mscrm.Utilities.compareGuids($v_0, Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString())) || this.$2I_3 === 1 || this.$15_3 === 'DynamicPropertiesList_LinkControl' || this.$15_3 === 'ProductSuggestions_LinkControl');
    },
    
    $5x_3: function($p0) {
        if (!IsNull($p0)) {
            var $v_0 = eval($p0);
            $v_0(this);
            if (this.$7L_3) {
                this.$DF_3(false);
            }
        }
    },
    
    initializeFlyoutPostBinding: function() {
        switch (this.$2I_3) {
            case 1:
                this.$Y_3.set_position('right');
                this.$Y_3.set_isCompositeFlyOut(true);
                break;
            default:
                this.$Y_3.set_position('bottom');
                this.$Y_3.set_isCompositeFlyOut(false);
                break;
        }
        this.$L4_3(this.$2l_3);
        this.$Y_3.setContent($P_CRM(this.$5J_3));
        this.$31_3 = $P_CRM(this.$I_3);
        this.$8M_3 = this.$31_3.text();
        this.$Ac_3 = true;
        if (this.$2I_3 === 1) {
            var $v_0 = this.$Y_3.dialogChrome();
            $v_0.addClass('composite-callout');
            $v_0.addClass('composite-border-callout');
            $v_0.prepend('<b class=\"composite-notch\"></b>');
            $v_0.prepend('<b class=\"composite-border-notch composite-notch\"></b>');
        }
        this.$7M_3(false);
        this.$Ab_3 = true;
        this.$Kn_3();
        this.$I8_3();
    },
    
    $7M_3: function($p0) {
        if (!this.$98_3() || $p0) {
            Sys.UI.DomElement.addCssClass(this.$I_3, 'linkControlDisabled');
        }
        else {
            if (Sys.UI.DomElement.containsCssClass(this.$I_3, 'linkControlDisabled')) {
                Sys.UI.DomElement.removeCssClass(this.$I_3, 'linkControlDisabled');
            }
        }
    },
    
    $GR_3: function($p0) {
        if (!IsNull(this.$Y_3) && this.$Y_3.get_visible()) {
            this.$Y_3.hide();
            this.$5x_3(this.$9J_3);
        }
    },
    
    $Gz_3: function($p0) {
        if (IsNull(this.$4O_3) && !this.$7L_3) {
            this.openFlyOut($p0);
        }
        $p0.preventDefault();
        $p0.stopPropagation();
    },
    
    $Ih_3: function($p0) {
        switch ($p0.keyCode) {
            case 13:
                if (IsNull(this.$4O_3)) {
                    this.openFlyOut($p0);
                }
                else {
                    var $v_0 = eval(this.$4O_3);
                    $v_0();
                }
                $p0.preventDefault();
                $p0.stopPropagation();
                break;
            default:
                break;
        }
    },
    
    $Go_3: function() {
        this.$Bb_3 = this.$2w_3(this.get_eventHandlers(), 'flyout-opening');
        this.$Ba_3 = this.$2w_3(this.get_eventHandlers(), 'flyout-opened');
        this.$9J_3 = this.$2w_3(this.get_eventHandlers(), 'flyout-confirming');
        this.$4O_3 = this.$2w_3(this.get_eventHandlers(), 'onclick');
        this.$9W_3 = this.$2w_3(this.get_eventHandlers(), 'flyout-initialize');
    },
    
    $L4_3: function($p0) {
        var $v_0 = null;
        var $v_1 = $p0.getAttribute('flyoutviewportdomid');
        if (!IsNull($v_1)) {
            $v_0 = $P_CRM('#' + $v_1.toString());
        }
        else {
            $v_0 = $P_CRM('#processControlContainer');
            if (0 === $v_0.length) {
                $v_0 = $P_CRM('#HeaderTilesWrapperLayoutElement');
            }
            if (0 === $v_0.length) {
                $v_0 = $P_CRM('#crmFormHeaderTop');
            }
        }
        Mscrm.CrmDebug.assert(!IsNull($v_0) && !!$v_0.length, 'Viewport for Flyout cannot be null');
        this.$91_3 = $v_0;
        this.$Y_3.set_viewport($v_0);
    },
    
    $Kg_3: function() {
        this.$A5_3('flyout-confirming');
        this.$A5_3('flyout-confirmed');
        this.$A5_3('flyout-canceling');
        this.$A5_3('flyout-canceled');
    },
    
    openFlyOutWithAnchor: function(anchorPoint) {
        if (!IsNull(anchorPoint)) {
            this.$Y_3.show(anchorPoint, this.$91_3);
        }
        else {
            this.$Y_3.show(this.$31_3, this.$91_3);
        }
        this.$5x_3(this.$Ba_3);
        if (this.$2I_3 === 1) {
            this.$GL_3();
            this.$DF_3(true);
        }
        this.$7L_3 = true;
        this.set_showProgressIndicator(false);
        setPerfMarkerTimestamp('FinishOpenFlyOutTimestamp');
    },
    
    $GL_3: function() {
        var $v_0 = this.$Y_3.dialogChrome().find('.composite-notch');
        if (this.$Y_3.get_overflow()) {
            $v_0.addClass('flyout-overflow');
        }
        else {
            $v_0.removeClass('flyout-overflow');
        }
    },
    
    get_wasFlyOutOpened: function() {
        return this.$7L_3;
    },
    
    $A5_3: function($p0) {
        var $v_0 = this.$2w_3(this.get_eventHandlers(), $p0);
        if (!IsNull($v_0)) {
            var $v_1 = $v_0.toString();
            var $$t_4 = this;
            this.$Y_3.bind($p0, function($p1_0) {
                $$t_4.$5x_3($v_1);
            });
        }
    },
    
    $FD_3: function() {
        if (isNullOrEmptyString(this.$4c_3)) {
            return;
        }
        if (this.$6m_3) {
            this.$31_3.text(this.$4c_3);
        }
        else {
            this.$31_3.text(this.$8M_3);
        }
    },
    
    subscribeToEvent: function(eventCode, eventHandler) {
        if (!IsNull(eventHandler)) {
        }
    },
    
    update: function(propertyBag) {
    }
}


Mscrm.TurboForm.Control.View.MapControlView = function($p0) {
    Mscrm.TurboForm.Control.View.MapControlView.initializeBase(this, [ $p0 ]);
}
Mscrm.TurboForm.Control.View.MapControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.mapsControl, Mscrm.TurboForm.Control.View.MapControlView.$DV);
}
Mscrm.TurboForm.Control.View.MapControlView.$DV = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.MapControlView($p0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    return $v_0;
}
Mscrm.TurboForm.Control.View.MapControlView.prototype = {
    
    bindInternal: function() {
        if (($get(this.getKey()))) {
            Mscrm.TurboForm.Control.View.ReadControlView.prototype.bindInternal.call(this);
        }
    },
    
    unbindInternal: function() {
        if (($get(this.getKey()))) {
            Mscrm.TurboForm.Control.View.ReadControlView.prototype.unbindInternal.call(this);
        }
    }
}


Mscrm.TurboForm.Control.View.PageView = function(descriptor) {
    this.$$d_$JQ_5 = Function.createDelegate(this, this.$JQ_5);
    Mscrm.TurboForm.Control.View.PageView.initializeBase(this, [ descriptor ]);
    if (!isGlobalQuickCreate()) {
        this.$56_5 = new Mscrm.TurboForm.Control.View.HeaderView();
        this.$6e_5 = new Mscrm.TurboForm.Control.View.FooterView();
    }
}
Mscrm.TurboForm.Control.View.PageView.get_$H0 = function() {
    if ($v()) {
        return 'dialogContainer';
    }
    else {
        return 'formContainer';
    }
}
Mscrm.TurboForm.Control.View.PageView.get_processControlContainerId = function() {
    return 'processControlContainer';
}
Mscrm.TurboForm.Control.View.PageView.prototype = {
    $8d_5: null,
    $B3_5: null,
    $21_5: null,
    $56_5: null,
    $6e_5: null,
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.bindInternal.call(this);
        if (!isGlobalQuickCreate()) {
            this.$56_5.bind();
            this.$6e_5.bind();
        }
        this.$8d_5 = $get('tdAreas');
        this.$B3_5 = $get(Mscrm.TurboForm.Control.PageManager.get_instance().$D_1.containerId);
        this.$21_5 = $get(Mscrm.TurboForm.Control.View.PageView.get_$H0());
        if (isGlobalQuickCreate() && Mscrm.Utilities.isFirefox()) {
            this.$8d_5.tabIndex = -1;
        }
        addHandlerToWindow('keydown', this.$$d_$JQ_5);
    },
    
    unbindInternal: function() {
        if (!isGlobalQuickCreate()) {
            this.$56_5.unbind();
            this.$6e_5.unbind();
        }
        this.$8d_5 = null;
        removeHandlerFromWindow('keydown', this.$$d_$JQ_5);
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.unbindInternal.call(this);
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(14)) {
            var $v_0 = propertyBag.getPropertyData(14);
            if ($v_0) {
                this.$B3_5.style.display = 'block';
                if (!isGlobalQuickCreate()) {
                    this.$56_5.resize();
                }
                if (!IsNull(Mscrm.TurboForm.Control.PageManager.get_instance().$3R_1)) {
                    Mscrm.TurboForm.Control.PageManager.get_instance().$3R_1.resize();
                }
                else {
                    if (!IsNull(Xrm.Page.ui.process)) {
                        Xrm.Page.ui.process.setVisible(false);
                    }
                }
                this.$I2_5();
            }
        }
        if (propertyBag.hasPropertyData(19)) {
            var $v_1 = propertyBag.getPropertyData(19);
            if ($v_1.$7j_1) {
                Sys.UI.DomElement.addCssClass(this.$21_5, 'entity-disabled');
            }
            else {
                Sys.UI.DomElement.removeCssClass(this.$21_5, 'entity-disabled');
            }
        }
        if (!isGlobalQuickCreate()) {
            this.$56_5.update(propertyBag);
            this.$6e_5.update(propertyBag);
        }
    },
    
    $JQ_5: function($p0) {
        var $v_0 = String.fromCharCode(Mscrm.TurboForm.Control.View.FormView.processKeyCode($p0.keyCode)).toUpperCase();
        if ($p0.shiftKey && $p0.altKey && $v_0 === 'S') {
            return;
        }
        if ($p0.ctrlKey && $p0.shiftKey && $v_0 === 'S') {
            Xrm.Page.data.entity.save('saveandnew');
            $p0.stopPropagation();
            $p0.preventDefault();
        }
        else if ($p0.ctrlKey && !$p0.altKey) {
            switch ($v_0) {
                case 'S':
                    Xrm.Page.data.entity.save();
                    $p0.rawEvent.keyCode = 0;
                    $p0.rawEvent.returnValue = false;
                    $p0.stopPropagation();
                    $p0.preventDefault();
                    break;
                case 'D':
                    Mscrm.CommandBarActions.deletePrimaryRecord(Xrm.Page.data.entity.getId(),Xrm.Page.data.entity.getEntityName());;
                    $p0.stopPropagation();
                    $p0.preventDefault();
                    break;
            }
        }
        else if ($p0.altKey && !$p0.ctrlKey && $v_0 === 'S') {
            Xrm.Page.data.entity.save('saveandclose');
            $p0.stopPropagation();
            $p0.preventDefault();
        }
    },
    
    $I2_5: function() {
        var $v_0 = $get('containerLoadingProgress');
        if (!IsNull($v_0)) {
            $v_0.style.display = 'none';
            setLoadingText(Xrm.Internal.getResourceString('LOCID_PAGE_LOADING'));
        }
    }
}


Mscrm.TurboForm.Control.View.QuickFormView = function(descriptor) {
    Mscrm.TurboForm.Control.View.QuickFormView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.QuickFormView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.quickFormControl, Mscrm.TurboForm.Control.View.QuickFormView.$95);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.quickFormCollectionControl, Mscrm.TurboForm.Control.View.QuickFormView.$95);
}
Mscrm.TurboForm.Control.View.QuickFormView.$95 = function($p0) {
    return new Mscrm.TurboForm.Control.View.QuickFormView($p0);
}
Mscrm.TurboForm.Control.View.QuickFormView.prototype = {
    $21_3: null,
    
    get_containerId: function() {
        var $v_0 = '{0}{1}_template_name';
        var $v_1 = this.$6_2;
        var $v_2 = $v_1.get_formId().toString().replace(new RegExp('-', 'g'), '_');
        var $v_3 = String.format($v_0, $v_1.get_quickFormKey(), $v_2);
        return GetGlobalVariable($v_3);
    },
    
    get_formContainer: function() {
        if (IsNull(this.$21_3)) {
            this.$21_3 = $get(this.get_containerId());
        }
        return this.$21_3;
    },
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.bindInternal.call(this);
    },
    
    unbindInternal: function() {
        if (!IsNull(this.$21_3)) {
            this.$21_3.innerHTML = '';
            this.$21_3 = null;
        }
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(27)) {
            var $v_0 = propertyBag.getPropertyData(27);
            if (!IsNull($v_0) && $v_0 !== Microsoft.Crm.Client.Core.Framework.Guid.get_empty()) {
                var $v_1 = Mscrm.TurboForm.Control.PageManager.get_instance().getFormHtml(this.get_containerId());
                if (!IsNull(this.get_formContainer())) {
                    this.get_formContainer().innerHTML = $v_1;
                    if (this.get_formContainer().children.length > 0) {
                        this.get_formContainer().children[0].style.display = 'block';
                    }
                    (this.$6_2).bindQuickForm();
                }
            }
            else {
                if (!IsNull(this.get_formContainer())) {
                    this.get_formContainer().innerHTML = '';
                }
            }
        }
    }
}


Mscrm.TurboForm.Control.View.RadioControlView = function($p0) {
    Mscrm.TurboForm.Control.View.RadioControlView.initializeBase(this, [ $p0 ]);
}
Mscrm.TurboForm.Control.View.RadioControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.radioControl, Mscrm.TurboForm.Control.View.RadioControlView.$GF);
}
Mscrm.TurboForm.Control.View.RadioControlView.$GF = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.RadioControlView($p0);
    $v_0.$T_4 = new Mscrm.TurboForm.Control.View.ToggleEditElement($v_0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    return $v_0;
}
Mscrm.TurboForm.Control.View.RadioControlView.prototype = {
    
    onBlurHandler: function($p0) {
        if (!this.get_isDisabled() || this.get_mode() === 2) {
            this.set_mode(0);
        }
    },
    
    onFocusHandler: function($p0) {
        if (!this.get_isDisabled()) {
            this.setTabbedAttributeLogicalName();
        }
        this.set_mode(2);
    },
    
    focusUpdate: function($p0) {
        var $v_0 = $p0.getPropertyData(3);
        if (!IsNull($v_0) && $v_0) {
            this.set_mode(2);
        }
        else if (!IsNull($v_0) && !$v_0) {
            this.set_mode(0);
            this.$T_4.blur();
        }
    },
    
    onKeyDownHandler: function($p0) {
        if ($p0.keyCode === 13) {
            if (!this.get_isDisabled()) {
                var $v_0 = $p0.target.className === 'ms-crm-Inline-RecommendationApply' || $p0.target.className === 'ms-crm-Inline-RecommendationDismiss';
                this.set_mode(($v_0) ? 2 : 1);
            }
        }
    }
}


Mscrm.TurboForm.Control.View.DateTimeControlView = function($p0) {
    Mscrm.TurboForm.Control.View.DateTimeControlView.initializeBase(this, [ $p0 ]);
}
Mscrm.TurboForm.Control.View.DateTimeControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.dateTimeControl, Mscrm.TurboForm.Control.View.DateTimeControlView.$DT);
}
Mscrm.TurboForm.Control.View.DateTimeControlView.$DT = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.DateTimeControlView($p0);
    $v_0.$T_4 = new Mscrm.TurboForm.Control.View.DateTimeEditElement($v_0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    $v_0.$2t_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildRollupValueElement($v_0);
    return $v_0;
}
Mscrm.TurboForm.Control.View.DateTimeControlView.prototype = {
    isTabFromDateControl: false,
    
    onKeyDownHandler: function($p0) {
        this.$5I_4 = (new Date()).getTime();
        var $v_0 = String.format('{0}_iTimeInput', XUI.Html.DomUtils.GetFirstChild(this.$H_3).id);
        var $v_1 = $get($v_0);
        var $v_2 = String.format('{0}_iDateInput', XUI.Html.DomUtils.GetFirstChild(this.$H_3).id);
        var $v_3 = $get($v_2);
        var $v_4 = this.$4_2.getFormat();
        this.isTabFromDateControl = false;
        if (($v_4 === 'datetime' || $v_4 === 'DateTime') && $p0.keyCode === 9 && $v_1 && !$v_1.disabled && this.get_mode() === 1) {
            addHandlerToDomElement($v_1, '_focusHandler', this.$$d_onFocusHandler);
            Mscrm.TabTypeHelper.set_isTabCommit(true);
            Mscrm.TabTypeHelper.set_tabbedAttributeLogicalName(this.getKey());
            if ($p0.target.id === $v_0) {
                if ($p0.shiftKey) {
                    addHandlerToDomElement($v_3, '_focusHandler', this.$$d_onFocusHandler);
                }
                else {
                    (this.$T_4).confirm();
                    this.revertFocusBackToValueContainer();
                    this.changeToReadModeOnTabOut();
                }
            }
            if ($p0.shiftKey && $p0.target.id === $v_2) {
                (this.$T_4).confirm();
                this.revertFocusBackToValueContainer();
                this.changeToReadModeOnTabOut();
            }
        }
        else {
            if ($p0.keyCode === 9) {
                this.isTabFromDateControl = true;
            }
            Mscrm.TurboForm.Control.View.EditableControlView.prototype.onKeyDownHandler.call(this, $p0);
        }
    },
    
    changeToReadModeOnTabOut: function() {
        var $v_0 = String.format('{0}_iTimeInput', XUI.Html.DomUtils.GetFirstChild(this.$H_3).id);
        var $v_1 = $get($v_0);
        var $v_2 = String.format('{0}_iDateInput', XUI.Html.DomUtils.GetFirstChild(this.$H_3).id);
        var $v_3 = $get($v_2);
        if (this.isTabFromDateControl && !IsNull($v_1) && (this.$T_4).$1h_2 && ($v_3).value !== '') {
            this.isTabFromDateControl = false;
            $v_3.focus();
        }
        else {
            this.set_mode(0);
        }
    }
}


Mscrm.TurboForm.Control.View.ReadControlView = function(descriptor) {
    Mscrm.TurboForm.Control.View.ReadControlView.initializeBase(this, [ descriptor ]);
    this.$Q_3 = descriptor;
}
Mscrm.TurboForm.Control.View.ReadControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.View.ReadControlView.registerViewBuilders(Mscrm.TurboForm.Control.View.ReadControlView.$BM, true);
}
Mscrm.TurboForm.Control.View.ReadControlView.registerViewBuilders = function(builderFunction, isReadOnly) {
    if (isReadOnly) {
        Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.checkBoxControl, builderFunction, isReadOnly);
    }
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.dateTimeControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.decimalControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.durationControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.editFilterControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailAddressControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailBodyControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.floatControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.integerControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.languagePicker, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.lookupControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.partyListControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.moneyControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.phoneNumberControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.picklistControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.picklistStatusControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.radioControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.regardingControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.socialInsightControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.picklistStatusControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.textAreaControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.textBoxControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.tickerControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.timerControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.timeZonePicklistControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.urlControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.mapsControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.searchWidget, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailRecipientActivityControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailEngagementActionsControl, builderFunction, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.labelControl, Mscrm.TurboForm.Control.View.ReadControlView.$BM, isReadOnly);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.buttonControl, Mscrm.TurboForm.Control.View.ReadControlView.$BM, isReadOnly);
}
Mscrm.TurboForm.Control.View.ReadControlView.$BM = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.ReadControlView($p0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($v_0.$Q_3, $v_0);
    $v_0.$2t_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildRollupValueElement($v_0);
    return $v_0;
}
Mscrm.TurboForm.Control.View.ReadControlView.buildRollupValueElement = function(controlView) {
    var $v_0 = new Mscrm.TurboForm.Control.View.RollupValueElement(controlView);
    $v_0.$14_1 = controlView.$P_3.$14_1;
    return $v_0;
}
Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement = function(descriptor, controlView) {
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.dateTimeControl)) {
        return new Mscrm.TurboForm.Control.View.DateTimeValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.picklistControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.picklistStatusControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.radioControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.languagePicker) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.timeZonePicklistControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.picklistStatusControl)) {
        return new Mscrm.TurboForm.Control.View.PicklistValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.durationControl)) {
        return new Mscrm.TurboForm.Control.View.DurationValueElement(controlView);
    }
    var $v_0 = Mscrm.TurboForm.Control.View.ReadControlView.getParameterValueList('ShowAsBreadcrumbControl', descriptor.Parameters);
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.lookupControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.partyListControl) || descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.regardingControl)) {
        if ($v_0 === 'true') {
            return new Mscrm.TurboForm.Control.View.BreadcrumbValueElement(controlView);
        }
        else {
            return new Mscrm.TurboForm.Control.View.LookupValueElement(controlView);
        }
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.tickerControl)) {
        return new Mscrm.TurboForm.Control.View.TickerValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.emailAddressControl)) {
        return new Mscrm.TurboForm.Control.View.EmailAddressValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.urlControl)) {
        return new Mscrm.TurboForm.Control.View.LinkValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.phoneNumberControl)) {
        return new Mscrm.TurboForm.Control.View.PhoneValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.textAreaControl)) {
        return new Mscrm.TurboForm.Control.View.TextAreaValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.emailBodyControl)) {
        return new Mscrm.TurboForm.Control.View.EmailBodyValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.checkBoxControl)) {
        return new Mscrm.TurboForm.Control.View.CheckBoxValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.moneyControl)) {
        return new Mscrm.TurboForm.Control.View.MoneyValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.timerControl)) {
        return new Mscrm.TurboForm.Control.View.TimerValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.mapsControl)) {
        return new Mscrm.TurboForm.Control.View.MapValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.socialInsightControl)) {
        return new Mscrm.TurboForm.Control.View.SocialInsightValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.searchWidget)) {
        return new Mscrm.TurboForm.Control.View.KMValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.emailRecipientActivityControl)) {
        return new Mscrm.TurboForm.Control.View.EmailRecipientActivityValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.emailEngagementActionsControl)) {
        return new Mscrm.TurboForm.Control.View.EmailEngagementActionsValueElement(controlView);
    }
    if (descriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.editFilterControl)) {
        return new Mscrm.TurboForm.Control.View.EditFilterValueElement(controlView);
    }
    return new Mscrm.TurboForm.Control.View.SimpleValueElement(controlView);
}
Mscrm.TurboForm.Control.View.ReadControlView.getParameterValueList = function(parameterName, parameterNameValuePair) {
    if (!IsNull(parameterNameValuePair)) {
        for (var $$arr_2 = parameterNameValuePair, $$len_3 = $$arr_2.length, $$idx_4 = 0; $$idx_4 < $$len_3; ++$$idx_4) {
            var $v_0 = $$arr_2[$$idx_4];
            if (!IsNull($v_0) && $v_0.Key === parameterName) {
                return $v_0.Value;
            }
        }
    }
    return '';
}
Mscrm.TurboForm.Control.View.ReadControlView.prototype = {
    $P_3: null,
    $2t_3: null,
    $1J_3: null,
    $3k_3: null,
    $H_3: null,
    $a_3: null,
    $I_3: null,
    $20_3: null,
    $8n_3: null,
    $Q_3: null,
    $7m_3: null,
    
    get_valueElement: function() {
        return this.$P_3;
    },
    
    set_valueElement: function(value) {
        this.$P_3 = value;
        return value;
    },
    
    get_rollupValueElement: function() {
        return this.$2t_3;
    },
    
    set_rollupValueElement: function(value) {
        this.$2t_3 = value;
        return value;
    },
    
    get_controlLayout: function() {
        return this.$20_3;
    },
    
    set_controlLayout: function(value) {
        this.$20_3 = value;
        return value;
    },
    
    get_rollupControlLayout: function() {
        if (IsNull(this.$8n_3)) {
            this.$8n_3 = new Mscrm.TurboForm.Control.View.RollupLayout();
        }
        return this.$8n_3;
    },
    
    get_controlDescriptor: function() {
        return this.$Q_3;
    },
    
    set_controlDescriptor: function(value) {
        this.$Q_3 = value;
        return value;
    },
    
    getName: function() {
        var $v_0 = this.$6_2;
        var $v_1 = (IsNull($v_0)) ? '' : $v_0.$G_2.$8_1.$2H_1;
        return $v_1 + this.name;
    },
    
    get_labelCell: function() {
        return this.$1J_3;
    },
    
    set_labelCell: function(value) {
        this.$1J_3 = value;
        return value;
    },
    
    get_valueCell: function() {
        return this.$H_3;
    },
    
    set_valueCell: function(value) {
        this.$H_3 = value;
        return value;
    },
    
    get_valueContainer: function() {
        return this.$a_3;
    },
    
    set_valueContainer: function(value) {
        this.$a_3 = value;
        return value;
    },
    
    get_inlineContainer: function() {
        return this.$I_3;
    },
    
    set_inlineContainer: function(value) {
        this.$I_3 = value;
        return value;
    },
    
    get_emptyValuePlaceholder: function() {
        return this.$P_3.$1E_1;
    },
    
    set_emptyValuePlaceholder: function(value) {
        this.$P_3.$1E_1 = value;
        return value;
    },
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.bindInternal.call(this);
        if (!$get(this.getKey())) {
            return;
        }
        this.$I_3 = $get(this.getKey());
        if (this.$Q_3.ClassId.toString().toLowerCase() === Mscrm.TurboForm.Common.FormControlClassId.buttonControl.toString().toLowerCase() && $v()) {
            this.$I_3.className = 'ms-crm-RefreshDialog-Button';
        }
        this.$1J_3 = $get(String.format('{0}_c', this.getKey()));
        this.$3k_3 = $get(String.format('{0}_cl', this.getKey()));
        this.$H_3 = $get(String.format('{0}_d', this.getKey()));
        this.$a_3 = XUI.Html.DomUtils.GetChildElementAt(this.$I_3, 0);
        this.$7m_3 = $get(String.format('{0}_lock', this.getKey()));
        if ((this.$Q_3.ClassId.toString() !== Mscrm.TurboForm.Common.FormControlClassId.buttonControl.toString() && (this.$Q_3.ClassId.toString() !== Mscrm.TurboForm.Common.FormControlClassId.emailEngagementActionsControl.toString()) && this.$Q_3.ClassId.toString() !== Mscrm.TurboForm.Common.FormControlClassId.emailRecipientActivityControl.toString())) {
            if (Mscrm.Utilities.isFirefox()) {
                Sys.UI.DomElement.addCssClass(this.$I_3, 'ms-crm-Inline-Chrome');
            }
            else {
                Sys.UI.DomElement.addCssClass(this.$I_3, 'ms-crm-Inline-Chrome nvarchar');
            }
        }
        this.$20_3 = Mscrm.TurboForm.Control.View.ControlLayoutFactory.createControlLayout(this.$Q_3);
        if (this.$20_3) {
            this.$20_3.applyReadLayout(this);
        }
        if (this.$a_3) {
            this.$P_3.bind(this.$a_3);
        }
        if (!IsNull(this.$4_2) && this.$4_2.getSourceType() === 2) {
            this.$2t_3.bind(this.$a_3);
        }
    },
    
    unbindInternal: function() {
        if (!Mscrm.InternalUtilities.JSTypes.isNull(this.$1J_3)) {
            $clearHandlers(this.$1J_3);
        }
        $clearHandlers(this.$H_3);
        this.$P_3.unbind();
        if (!IsNull(this.$4_2) && this.$4_2.getSourceType() === 2) {
            this.$2t_3.unbind();
        }
        if (!Mscrm.InternalUtilities.JSTypes.isNull(this.$20_3)) {
            (this.$20_3).dispose();
            this.$20_3 = null;
        }
        this.$3k_3 = null;
        this.$a_3 = null;
        this.$I_3 = null;
        this.$7m_3 = null;
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(2)) {
            this.setLabel(propertyBag.getPropertyData(2));
        }
        else if (this.name.indexOf('compositionLinkControl') > -1 && this.$4_2.getName() !== 'compositionLinkControl') {
            if (!Mscrm.InternalUtilities.JSTypes.isNull(this.$3k_3)) {
                var $v_0 = XUI.Html.GetText(this.$3k_3);
                this.$6_2.setLabel($v_0);
                this.$Q_3.Label = $v_0;
            }
        }
        if (propertyBag.hasPropertyData(1)) {
            this.setVisible(propertyBag.getPropertyData(1));
        }
        if (propertyBag.hasPropertyData(4) && this.$Q_3.ClassId.toString() === Mscrm.TurboForm.Common.FormControlClassId.buttonControl.toString()) {
            this.$Kj_3(propertyBag.getPropertyData(4));
        }
        if (propertyBag.hasPropertyData(26) && propertyBag.getPropertyData(26) === 2) {
            this.$P_3.update(propertyBag);
            this.get_rollupControlLayout().applyReadLayout(this);
        }
        else if (IsNull(this.$4_2) || this.$4_2.getSourceType() !== 2) {
            this.$P_3.update(propertyBag);
        }
        if (propertyBag.hasPropertyData(6) && !(!IsNull(this.$4_2) && this.$4_2.getSourceType() === 2) && !(Mscrm.TurboForm.Control.ViewModel.LookupViewModel.isInstanceOfType(this.$6_2))) {
            var $v_1 = this.$P_3.processValue(propertyBag.getPropertyData(6));
            var $v_2 = this.$4_2.getAttributeType();
            var $v_3 = this.$P_3.formatReadValue($v_1);
            if ($v_2 === 'decimal' || $v_2 === 'float' || $v_2 === 'money') {
                $v_1 = $v_3;
            }
            var $v_4 = ($v_3 === '--') ? Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedString(Mscrm.TurboForm.Control.ErrorCode.toString(9)) : $v_1;
            if ($v_2 === 'datetime') {
                var $v_5 = (this.$4_2).$7J_3;
                this.$H_3.title = ($v_5) ? $v_5 : $v_4;
            }
            else if ($v_2 === 'boolean' && !this.$4_2.getUserPrivilege().canRead) {
                this.$H_3.title = '*******';
            }
            else {
                this.$H_3.title = $v_4;
            }
        }
        if (propertyBag.hasPropertyData(4)) {
            this.setDisabled(propertyBag.getPropertyData(4));
        }
    },
    
    $Kj_3: function($p0) {
        if ($p0) {
            this.$I_3.setAttribute('disabled', 'disabled');
        }
        else {
            this.$I_3.removeAttribute('disabled');
        }
    },
    
    setLabel: function(label) {
        if (!Mscrm.InternalUtilities.JSTypes.isNull(this.$3k_3)) {
            label = (IsNull(label)) ? '' : label;
            XUI.Html.SetText(this.$3k_3, label);
            if (!Mscrm.InternalUtilities.JSTypes.isNull(this.$1J_3) && Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(this.$1J_3.title)) {
                this.$1J_3.title = label;
            }
        }
        else if (this.$Q_3.ClassId.toString() === Mscrm.TurboForm.Common.FormControlClassId.labelControl.toString()) {
            XUI.Html.SetText(this.$I_3, label);
            if (this.$I_3.id.toString() === 'title_id') {
                this.$I_3.title = label;
            }
        }
        else if (this.$Q_3.ClassId.toString() === Mscrm.TurboForm.Common.FormControlClassId.buttonControl.toString()) {
            XUI.Html.SetText(this.$I_3, label);
        }
    },
    
    setDisabled: function(isDisabled) {
        if (!this.$a_3) {
            return;
        }
        if (this.$Q_3.ClassId.toString() === Mscrm.TurboForm.Common.FormControlClassId.buttonControl.toString()) {
            return;
        }
        if (isDisabled) {
            if (this.$6_2.$3L_2) {
                this.$7m_3.style.display = 'block';
                if (Sys.UI.DomElement.containsCssClass(this.$a_3, 'ms-crm-HeaderTile')) {
                    Sys.UI.DomElement.addCssClass(this.$a_3, 'ms-crm-Inline-Locked ms-crm-Inline-EmptyValue');
                }
                Sys.UI.DomElement.addCssClass(this.$a_3, 'ms-crm-Inline-Locked');
            }
        }
        else {
            this.$7m_3.style.display = 'none';
            Sys.UI.DomElement.removeCssClass(this.$a_3, 'ms-crm-Inline-Locked');
        }
    },
    
    setVisible: function(isVisible) {
        isVisible = IsNull(isVisible) || isVisible;
        var $v_0 = ((isVisible) ? '' : 'none');
        if (this.$Q_3.Id.startsWith('header_')) {
            $v_0 = (isVisible) ? 'block' : 'none';
            this.$H_3.parentNode.style.display = $v_0;
        }
        else {
            $v_0 = ((isVisible) ? '' : 'none');
            if (!Mscrm.InternalUtilities.JSTypes.isNull(this.$1J_3)) {
                this.$1J_3.style.display = $v_0;
            }
            if (this.$Q_3.ClassId.toString() === Mscrm.TurboForm.Common.FormControlClassId.buttonControl.toString()) {
                this.$I_3.style.display = $v_0;
                return;
            }
            else {
                this.$H_3.style.display = $v_0;
            }
        }
        if (this.$H_3.parentNode.tagName.toLowerCase() === 'tr') {
            var $v_1 = this.$H_3.parentNode;
            if (isVisible) {
                $v_1.style.display = 'table-row';
            }
            else {
                var $v_2 = false;
                for (var $v_3 = 0; $v_3 < $v_1.childNodes.length; $v_3++) {
                    if ($v_1.childNodes[$v_3].style.display !== 'none') {
                        $v_2 = true;
                    }
                }
                if (!$v_2) {
                    $v_1.style.display = 'none';
                }
            }
        }
        if (this.$H_3.parentNode.tagName.toLowerCase() === 'td') {
            var $v_4 = this.$H_3.parentNode;
            this.$FJ_3(isVisible, $v_4);
            var $v_5 = $v_4.parentNode;
            this.$FJ_3(isVisible, $v_5);
        }
    },
    
    $FJ_3: function($p0, $p1) {
        if ($p0) {
            $p1.style.display = '';
        }
        else {
            for (var $v_0 = 0; $v_0 < $p1.childNodes.length; $v_0++) {
                var $v_1 = ((!$p1.childNodes[$v_0].id.indexOf('footer_')) ? true : false);
                if ($p1.childNodes[$v_0].style.display !== 'none' || $v_1) {
                    return;
                }
            }
            $p1.style.display = 'none';
        }
    }
}


Mscrm.TurboForm.Control.View.SocialInsightControlView = function($p0) {
    Mscrm.TurboForm.Control.View.SocialInsightControlView.initializeBase(this, [ $p0 ]);
}
Mscrm.TurboForm.Control.View.SocialInsightControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.socialInsightControl, Mscrm.TurboForm.Control.View.SocialInsightControlView.$DX);
}
Mscrm.TurboForm.Control.View.SocialInsightControlView.$DX = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.SocialInsightControlView($p0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    return $v_0;
}


Mscrm.TurboForm.Control.View.SectionView = function(descriptor) {
    Mscrm.TurboForm.Control.View.SectionView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.SectionView.prototype = {
    $8u_4: null,
    $8t_4: null,
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.bindInternal.call(this);
        this.$8u_4 = $get(this.getKey());
        this.$8t_4 = $get(String.format('{0}_section_h3', this.getKey()));
    },
    
    unbindInternal: function() {
        this.$8u_4 = null;
        this.$8t_4 = null;
    },
    
    update: function(propertyBag) {
        var $v_0 = propertyBag.getPropertyData(2);
        if (!IsNull($v_0)) {
            XUI.Html.SetText(this.$8t_4, $v_0);
        }
        var $v_1 = propertyBag.getPropertyData(1);
        if (propertyBag.hasPropertyData(1)) {
            this.$8u_4.style.display = (($v_1) ? '' : 'none');
        }
    }
}


Mscrm.TurboForm.Control.View.KMControlView = function(descriptor) {
    Mscrm.TurboForm.Control.View.KMControlView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.KMControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.searchWidget, Mscrm.TurboForm.Control.View.KMControlView.$G7);
}
Mscrm.TurboForm.Control.View.KMControlView.$G7 = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.KMControlView($p0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    return $v_0;
}


Mscrm.TurboForm.Control.View.EmailRecipientActivityControlView = function(descriptor) {
    Mscrm.TurboForm.Control.View.EmailRecipientActivityControlView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.EmailRecipientActivityControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailRecipientActivityControl, Mscrm.TurboForm.Control.View.EmailRecipientActivityControlView.$G2);
}
Mscrm.TurboForm.Control.View.EmailRecipientActivityControlView.$G2 = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.EmailRecipientActivityControlView($p0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    return $v_0;
}


Mscrm.TurboForm.Control.View.TabView = function(descriptor, uniqueId) {
    this.$$d_$JP_4 = Function.createDelegate(this, this.$JP_4);
    this.$$d_$68_4 = Function.createDelegate(this, this.$68_4);
    Mscrm.TurboForm.Control.View.TabView.initializeBase(this, [ descriptor ]);
    this.$5f_4 = descriptor.Name;
    this.$n_4 = uniqueId;
}
Mscrm.TurboForm.Control.View.TabView.prototype = {
    $71_4: null,
    $72_4: null,
    $5g_4: null,
    $1S_4: null,
    $4B_4: null,
    $4C_4: null,
    $5e_4: null,
    $5f_4: null,
    $n_4: null,
    
    get_uniqueId: function() {
        return this.$n_4;
    },
    
    set_uniqueId: function(value) {
        this.$n_4 = value;
        return value;
    },
    
    get_showGlobalQuickCreate: function() {
        return GetGlobalVariable('_globalQuickCreate');
    },
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.bindInternal.call(this);
        this.$5g_4 = $get(this.getKey());
        this.$4B_4 = $get(String.format('{0}_content', (this.$n_4) ? this.$n_4 : this.$5f_4));
        this.$1S_4 = $get(String.format('{0}_header_h2', (this.$n_4) ? this.$n_4 : this.$5f_4));
        this.$4C_4 = $get(String.format('{0}_headerText_anchor', (this.$n_4) ? this.$n_4 : this.$5f_4));
        this.$5e_4 = $get(String.format('{0}_header_image_div', (this.$n_4) ? this.$n_4 : this.$5f_4));
        var $v_0 = this.$6_2;
        if ($v_0) {
            var $v_1 = (($v_0.$G_2.formView.$6_2).$Q_2).FormType;
            if ($v_1 === 6) {
                if (!this.$4B_4) {
                    var $v_2 = (($v_0.$Q_2).Sections) ? $get(($v_0.$Q_2).Sections[0].Id.toString()) : null;
                    this.$5g_4 = getTab($v_2);
                }
                else {
                    this.$5g_4 = this.$4B_4.parentNode;
                }
            }
        }
        if (!IsNull(this.$1S_4) || !IsNull(this.$5e_4)) {
            this.$71_4 = this.$$d_$68_4;
            this.$72_4 = this.$$d_$JP_4;
            if (!IsNull(this.$1S_4)) {
                addHandlerToDomElement(this.$1S_4, 'click', this.$71_4);
                addHandlerToDomElement(this.$1S_4.parentNode, 'keydown', this.$72_4);
            }
            if (!IsNull(this.$5e_4)) {
                addHandlerToDomElement(this.$5e_4, 'click', this.$71_4);
                addHandlerToDomElement(this.$5e_4, 'keydown', this.$72_4);
            }
        }
    },
    
    unbindInternal: function() {
        if (!IsNull(this.$1S_4)) {
            removeHandlerFromDomElement(this.$1S_4, 'click', this.$71_4);
            removeHandlerFromDomElement(this.$1S_4.parentNode, 'keydown', this.$72_4);
            this.$1S_4 = null;
        }
        this.$5g_4 = null;
        this.$4B_4 = null;
    },
    
    update: function(propertyBag) {
        var $v_0 = propertyBag.getPropertyData(2);
        if (!IsNull($v_0) && !IsNull(this.$1S_4)) {
            XUI.Html.SetText(this.$1S_4, $v_0);
        }
        var $v_1 = propertyBag.getPropertyData(1);
        if (!IsNull($v_1)) {
            this.$5g_4.style.display = (($v_1) ? 'block' : 'none');
        }
        var $v_2 = propertyBag.getPropertyData(0);
        if (this.$4B_4 && !IsNull($v_2)) {
            var $v_4 = ($v_2 === 'collapsed') ? 'none' : 'inline-block';
            this.$4B_4.style.display = $v_4;
            if (this.$4C_4) {
                var $v_5 = $get(String.format('{0}_Expander', this.$4C_4.getAttribute('name')));
                var $v_6 = ($v_2 === 'collapsed') ? $v_5.getAttribute('data-collapse-src') : $v_5.getAttribute('data-expand-src');
                var $v_7 = ($v_2 === 'collapsed') ? $v_5.getAttribute('data-expand-alt') : $v_5.getAttribute('data-collapse-alt');
                var $v_8 = ($v_2 === 'collapsed') ? $v_5.getAttribute('data-collapse-class') : $v_5.getAttribute('data-expand-class');
                $v_5.setAttribute('class', $v_8.toString());
                $v_5.setAttribute('src', $v_6.toString());
                $v_5.setAttribute('alt', $v_7.toString());
                $v_5.setAttribute('title', $v_7.toString());
                this.$4C_4.setAttribute('title', $v_7.toString());
            }
        }
        var $v_3 = propertyBag.getPropertyData(3);
        if (!IsNull($v_3) && $v_3 && !IsNull(this.$1S_4)) {
            this.$1S_4.scrollIntoView(true);
            if (!IsNull(this.$4C_4)) {
                this.$4C_4.focus();
            }
        }
        if ($v_2 === 'expanded') {
            var $v_9 = this.$6_2;
            if (!IsNull($v_9) && $v_9.issubgrid) {
                $v_9.executeTabStateChange();
            }
        }
    },
    
    $68_4: function($p0) {
        var $v_0 = this.$6_2;
        var $v_1 = ($v_0.getDisplayState() === 'expanded') ? 'collapsed' : 'expanded';
        $v_0.setDisplayState($v_1);
    },
    
    $JP_4: function($p0) {
        if ($p0.keyCode === 13) {
            this.$68_4($p0);
        }
    }
}


Mscrm.TurboForm.Control.View.TimerControlView = function($p0) {
    Mscrm.TurboForm.Control.View.TimerControlView.initializeBase(this, [ $p0 ]);
}
Mscrm.TurboForm.Control.View.TimerControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.timerControl, Mscrm.TurboForm.Control.View.TimerControlView.$DY);
}
Mscrm.TurboForm.Control.View.TimerControlView.$DY = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.TimerControlView($p0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    return $v_0;
}


Mscrm.TurboForm.Control.View.BreadcrumbValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.BreadcrumbValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.BreadcrumbValueElement.prototype = {
    $F_3: null,
    
    bind: function(container) {
        Mscrm.TurboForm.Control.View.LookupValueElement.prototype.bind.call(this, container);
        this.$F_3 = container;
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.LookupValueElement.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(6)) {
            if (!this.$5_1.$4_2.getParent().get_isNew()) {
                var $v_0 = new Mscrm.BreadCrumbUIRenderer();
                $v_0.renderBreadCrumbControl(this.$F_3);
            }
        }
    }
}


Mscrm.TurboForm.Control.View.CheckBoxValueElement = function(controlView) {
    this.$7s_2 = '<div class=\"ms-crm-div-NotVisible\">{1}' + ((isSafari() || isFirefox()) ? '' : ' {0}') + '</div>{0}<div class=\"ms-crm-Inline-GradientMask\"></div>';
    Mscrm.TurboForm.Control.View.CheckBoxValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.CheckBoxValueElement.prototype = {
    $84_2: null,
    $83_2: null,
    
    get_checkBoxControlValueElement: function() {
        return this.$84_2;
    },
    
    set_checkBoxControlValueElement: function(value) {
        this.$84_2 = value;
        return value;
    },
    
    bind: function(container) {
        this.$84_2 = XUI.Html.DomUtils.GetChildElementAt(container, 0);
        if (!IsNull(XUI.Html.DomUtils.GetNextSibling(container))) {
            XUI.Html.DomUtils.GetNextSibling(container).style.display = 'none';
            this.$83_2 = XUI.Html.DomUtils.GetChildElementAt(XUI.Html.DomUtils.GetNextSibling(container), 0);
        }
    },
    
    unbind: function() {
        this.set_checkBoxControlValueElement(null);
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.ValueElementBase.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(6)) {
            var $v_0 = this.processValue(propertyBag.getPropertyData(6));
            this.setValue($v_0);
        }
    },
    
    processValue: function(rawValue) {
        if (IsNull(rawValue)) {
            rawValue = (this.$83_2).value;
        }
        return this.$83_2.getAttribute(String.format('option_{0}', rawValue));
    },
    
    setValue: function(value) {
        var $v_0 = this.get_checkBoxControlValueElement().id.toString().trim();
        var $v_1 = $v_0.replace(suffixValue(), '');
        this.get_checkBoxControlValueElement().innerHTML = String.format(this.$7s_2, CrmEncodeDecode.CrmHtmlEncode(this.formatReadValue(value)), $v_1);
    }
}


Mscrm.TurboForm.Control.View.DateTimeValueElement = function(controlView) {
    this.readDateTimeValueFormat = ((isChrome()) ? '<div class=' + CrmEncodeDecode.CrmHtmlAttributeEncode('ms-crm-div-NotVisible ms-crm-div-NotSelectable') + '>' : '<div class=\"ms-crm-div-NotVisible\">') + '{1}' + ((isSafari() || isFirefox()) ? '' : ' {0}') + '</div>{2}<div class=\"ms-crm-Inline-GradientMask\"></div>';
    Mscrm.TurboForm.Control.View.DateTimeValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.DateTimeValueElement.formatDisplayValue = function(rawValue, format, separator, showTimeValue) {
    if (!IsNull(rawValue)) {
        var $v_0 = rawValue.toString();
        if (!IsNullOrEmptyString($v_0)) {
            if (!isNaN(Date.parse($v_0))) {
                var $v_1 = new Date($v_0);
                if (!IsNull($v_1)) {
                    var $v_2 = Mscrm.DateTimeUtility.formatDate($v_1);
                    switch (format) {
                        case 'datetime':
                            if (IsNull(showTimeValue) || showTimeValue) {
                                var $v_3 = timeToString($v_1, 0);
                                return String.format('{0}{2}{1}', $v_2, $v_3, separator);
                            }
                            else {
                                return $v_2;
                            }
                        case 'date':
                            return $v_2;
                        default:
                            Mscrm.CrmDebug.fail(String.format('Unsupported format for DateTime attribute type: {0}', format));
                            return $v_2;
                    }
                }
            }
            else {
                return $v_0;
            }
        }
    }
    return Mscrm.TurboForm.Control.View.DateTimeValueElement.$1E;
}
Mscrm.TurboForm.Control.View.DateTimeValueElement.prototype = {
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.SimpleValueElement.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(7)) {
            var $v_0 = this.$5_1.$4_2.getValue();
            this.setValue($v_0);
        }
    },
    
    setValue: function(value) {
        this.$Kp_3();
        var $v_0 = '<span class=\"ms-crm-Inline-DateTimeSpacer\"></span>';
        if (!IsNullOrEmptyString((this.$5_1.$4_2).$3C_3)) {
            this.get_controlValue().innerHTML = CrmEncodeDecode.CrmHtmlEncode(value.toString());
        }
        else {
            var $v_1 = this.get_controlValue().id.toString().trim();
            var $v_2 = $v_1.replace(suffixValue(), '');
            this.get_controlValue().innerHTML = String.format(this.readDateTimeValueFormat, value, CrmEncodeDecode.CrmHtmlEncode($v_2), Mscrm.TurboForm.Control.View.DateTimeValueElement.formatDisplayValue(value, this.$11_1, $v_0, true));
        }
    },
    
    $Kp_3: function() {
        if (this.$11_1 === 'none') {
            var $v_0 = this.$5_1.$Q_3.Parameters;
            for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
                if ($v_0[$v_1].Key === 'DateTimeFormat') {
                    this.set_format($v_0[$v_1].Value);
                    break;
                }
            }
        }
    },
    
    formatReadValue: function(rawValue) {
        return Mscrm.TurboForm.Control.View.DateTimeValueElement.formatDisplayValue(rawValue, this.$11_1, ' ');
    }
}


Mscrm.TurboForm.Control.View.EditFilterValueElement = function(controlView) {
    this.$$d_$JI_2 = Function.createDelegate(this, this.$JI_2);
    this.$$d_$Ei_2 = Function.createDelegate(this, this.$Ei_2);
    this.$$d_$Ej_2 = Function.createDelegate(this, this.$Ej_2);
    this.$$d_onFocusHandler = Function.createDelegate(this, this.onFocusHandler);
    Mscrm.TurboForm.Control.View.EditFilterValueElement.initializeBase(this, [ controlView ]);
    this.$3O_2 = this.$$d_onFocusHandler;
    this.$42_2 = this.$$d_$Ej_2;
    this.$41_2 = this.$$d_$Ei_2;
    this.$8X_2 = this.$$d_$JI_2;
}
Mscrm.TurboForm.Control.View.EditFilterValueElement.prototype = {
    $87_2: null,
    $D9_2: null,
    $2k_2: null,
    $3B_2: null,
    $41_2: null,
    $8X_2: null,
    $42_2: null,
    $3O_2: null,
    $F_2: null,
    
    get_editFilterControlValueElement: function() {
        return this.$87_2;
    },
    
    set_editFilterControlValueElement: function(value) {
        this.$D9_2 = value;
        return value;
    },
    
    bind: function(container) {
        this.$F_2 = container;
        this.$87_2 = XUI.Html.DomUtils.GetChildElementAt(container, 0);
        this.$87_2.style.display = 'none';
        var $v_0 = String.format('{0}_i', this.$5_1.getKey());
        this.$2k_2 = container.ownerDocument.getElementById($v_0);
        var $v_1 = String.format('{0}_valueSpan', this.$5_1.getKey());
        this.$3B_2 = container.ownerDocument.getElementById($v_1);
        addHandlerToDomElement(this.$3B_2.parentNode.parentNode, 'mouseover', this.$42_2);
        addHandlerToDomElement(this.$3B_2.parentNode.parentNode, 'mouseout', this.$41_2);
        addHandlerToDomElement(this.$2k_2, 'mouseover', this.$8X_2);
    },
    
    unbind: function() {
        this.set_editFilterControlValueElement(null);
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.ValueElementBase.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(6)) {
            this.setValue(propertyBag.getPropertyData(6));
        }
    },
    
    processValue: function(rawValue) {
        return (IsNull(rawValue)) ? '' : rawValue.toString();
    },
    
    setValue: function(value) {
        this.get_editFilterControlValueElement().innerHTML = String.format('{0}<div class=\"ms-crm-Inline-GradientMask\"></div>', CrmEncodeDecode.CrmHtmlEncode(this.formatReadValue(value)));
        var $v_0 = this.formatReadValue(value);
        if (!IsNullOrEmptyString($v_0) && $v_0 !== '--') {
            $P_CRM(this.$3B_2).text(GetGlobalVariable('EditFilterFilterExits'));
        }
        else {
            $P_CRM(this.$3B_2).text('--');
        }
    },
    
    onFocusHandler: function(evt) {
        this.$42_2(evt);
        this.$8X_2(evt);
    },
    
    onBlurHandler: function(evt) {
        this.$41_2(evt);
    },
    
    $Ej_2: function($p0) {
        this.$2k_2.parentNode.style.display = 'block';
        Sys.UI.DomElement.addCssClass(this.$3B_2.parentNode.parentNode, 'ms-crm-Inline-EditHintState');
        Sys.UI.DomElement.addCssClass(this.$2k_2, 'ms-crm-ImageStrip-grid_filter');
    },
    
    $JI_2: function($p0) {
        Sys.UI.DomElement.removeCssClass(this.$2k_2, 'ms-crm-ImageStrip-grid_filter');
        Sys.UI.DomElement.addCssClass(this.$2k_2, 'ms-crm-ImageStrip-grid_filter_hover');
    },
    
    $Ei_2: function($p0) {
        this.$2k_2.parentNode.style.display = 'none';
        Sys.UI.DomElement.removeCssClass(this.$3B_2.parentNode.parentNode, 'ms-crm-Inline-EditHintState');
        Sys.UI.DomElement.removeCssClass(this.$2k_2, 'ms-crm-ImageStrip-grid_filter_hover');
    }
}


Mscrm.TurboForm.Control.View.EmailAddressValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.EmailAddressValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.EmailAddressValueElement.prototype = {
    
    onClickHandler: function(domEvent) {
        if (!IsNull(domEvent.target) && domEvent.target.nodeName.toUpperCase() === 'A') {
            var $v_0 = this.$5_1.$4_2.getValue();
            this.launch($v_0);
            domEvent.stopPropagation();
            domEvent.preventDefault();
        }
    },
    
    launch: function(link) {
        if (!IsNull(link)) {
            var $v_0 = new RegExp('^[0-9a-zA-Z._-]+@[0-9a-zA-Z._-]+\\.[a-zA-Z]{2,5}$');
            if ($v_0.test(link)) {
                Mscrm.Shortcuts.openEmailForm(link, '', '');
            }
        }
    }
}


Mscrm.TurboForm.Control.View.EmailEngagementActionsValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.EmailEngagementActionsValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.EmailEngagementActionsValueElement.prototype = {
    
    bind: function(container) {
        (this.$5_1.$6_2).$88_4 = container;
        var $$t_2 = this;
        this.$5_1.$6_2.$G_2.addOnLoadInternal((function($p1_0) {
            ($$t_2.$5_1.$6_2).initializeEmailEngagementActionsControl();
        }));
    },
    
    unbind: function() {
    }
}


Mscrm.TurboForm.Control.View.KMValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.KMValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.KMValueElement.prototype = {
    
    bind: function(container) {
        (this.$5_1.$6_2).$6t_4 = container;
        var $$t_2 = this;
        this.$5_1.$6_2.$G_2.addOnLoadInternal((function($p1_0) {
            ($$t_2.$5_1.$6_2).initializeKMSearchWidget();
        }));
    },
    
    unbind: function() {
    }
}


Mscrm.TurboForm.Control.View.EmailRecipientActivityValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.EmailRecipientActivityValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.EmailRecipientActivityValueElement.prototype = {
    
    bind: function(container) {
        (this.$5_1.$6_2).$89_4 = container;
        var $$t_2 = this;
        this.$5_1.$6_2.$G_2.addOnLoadInternal((function($p1_0) {
            ($$t_2.$5_1.$6_2).initializeEmailRecipientActivityControl();
        }));
    },
    
    unbind: function() {
    }
}


Mscrm.TurboForm.Control.View.LinkValueElement = function(controlView) {
    this.$$d_onClickHandler = Function.createDelegate(this, this.onClickHandler);
    this.$7s_2 = '<div class=\"ms-crm-div-NotVisible\">{1}' + ((isSafari() || isFirefox()) ? '' : ' {0}') + '</div>{0}<div class=\"ms-crm-Inline-GradientMask\"></div>';
    this.$DL_2 = ((isChrome()) ? '<div class=' + CrmEncodeDecode.CrmHtmlAttributeEncode('ms-crm-div-NotVisible ms-crm-div-NotSelectable') + '>' : '<div class=\"ms-crm-div-NotVisible\">') + '{1}' + ((isSafari()) ? '' : ' {0}') + '</div><a class=\"ms-crm-gridurl\" href=\"#\">{0}</a><div class=\"ms-crm-Inline-GradientMask\"></div>';
    Mscrm.TurboForm.Control.View.LinkValueElement.initializeBase(this, [ controlView ]);
    this.$9B_2 = this.$$d_onClickHandler;
}
Mscrm.TurboForm.Control.View.LinkValueElement.prototype = {
    $D2_2: null,
    $7a_2: 'https://',
    
    get_valueSpan: function() {
        return this.$D2_2;
    },
    
    set_valueSpan: function(value) {
        this.$D2_2 = value;
        return value;
    },
    
    getAnchorFormatHtml: function(value) {
        var $v_0 = this.get_valueSpan().id.toString().trim();
        var $v_1 = $v_0.replace(suffixValue(), '');
        return String.format(this.$DL_2, CrmEncodeDecode.CrmHtmlEncode(value), CrmEncodeDecode.CrmHtmlEncode($v_1));
    },
    
    $9B_2: null,
    
    bind: function(container) {
        this.set_valueSpan(XUI.Html.DomUtils.GetChildElementAt(container, 0));
        if (Mscrm.Utilities.isIosDevice()) {
            addHandlerToDomElement(this.get_valueSpan(), 'touchstart', this.$9B_2);
        }
        else {
            addHandlerToDomElement(this.get_valueSpan(), 'click', this.$9B_2);
        }
    },
    
    unbind: function() {
        $clearHandlers(this.get_valueSpan());
        this.set_valueSpan(null);
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.ValueElementBase.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(6)) {
            this.setValue(propertyBag.getPropertyData(6));
        }
    },
    
    displaySecuredValue: function() {
        var $v_0 = this.get_valueSpan().id.toString().trim();
        var $v_1 = $v_0.replace(suffixValue(), '');
        this.get_valueSpan().innerHTML = String.format(this.$7s_2, CrmEncodeDecode.CrmHtmlEncode('*******'), $v_1);
    },
    
    setValue: function(value) {
        if (IsNull(value) || IsNullOrEmptyString(value.toString())) {
            var $v_0 = this.get_valueSpan().id.toString().trim();
            var $v_1 = $v_0.replace(suffixValue(), '');
            this.get_valueSpan().innerHTML = String.format(this.$7s_2, CrmEncodeDecode.CrmHtmlEncode(this.$1E_1), CrmEncodeDecode.CrmHtmlEncode($v_1));
        }
        else {
            var $v_2 = this.formatReadValue(value);
            this.get_valueSpan().innerHTML = this.getAnchorFormatHtml($v_2);
            if (isGlobalQuickCreate()) {
                XUI.Html.DomUtils.GetFirstChild(this.get_valueSpan()).tabIndex = -1;
            }
        }
    },
    
    onClickHandler: function(domEvent) {
        if (!IsNull(domEvent.target) && domEvent.target.nodeName.toUpperCase() === 'A') {
            var $v_0 = this.$5_1.$4_2.getValue();
            this.launch($v_0);
            domEvent.stopPropagation();
            domEvent.preventDefault();
        }
    },
    
    formatReadValue: function(rawValue) {
        var $v_0 = {};
        if (IsNull(rawValue) || IsNullOrEmptyString(rawValue.toString())) {
            return this.$1E_1;
        }
        if (!IsNull(this.$5_1.$4_2)) {
            var $v_1 = this.$5_1.$4_2.getFormat();
            if ($v_1 === 'url') {
                var $v_2 = rawValue.toString().trim();
                if (1 !== validateUrlProtocol($v_2)) {
                    var $v_3 = (this.$5_1.$4_2).getMaxLength();
                    $v_2 = this.$7a_2 + $v_2.substring(0, $v_3 - this.$7a_2.length);
                    var $v_4 = (this.$5_1.$4_2).$1x_2;
                    if (IsNull($v_4) || $v_4.toString() !== rawValue.toString()) {
                        this.$5_1.$4_2.setValue($v_2, null);
                    }
                }
                return $v_2;
            }
        }
        return this.$14_1.formatValue(rawValue, $v_0);
    },
    
    launch: function(link) {
        link = link.toString().trim();
        if (1 !== validateUrlProtocol(link)) {
            var $v_0 = (this.$5_1.$4_2).getMaxLength();
            link = this.$7a_2 + link.substring(0, $v_0 - this.$7a_2.length);
        }
        if (!IsNull(link)) {
            var $v_1 = Mscrm.CrmUri.createForOrganization(link, null);
            $v_1.set_checkParamsNoEqual(true);
            safeWindowOpen($v_1, '', 'height=' + window.screen.availHeight * 0.75 + ',width=' + window.screen.availWidth * 0.75 + ',scrollbars=1,resizable=1,status=1,toolbar=1,menubar=1,location=1', false, true);
        }
    }
}


Mscrm.TurboForm.Control.View.LookupValueElement = function(controlView) {
    this.$$d_$Ja_2 = Function.createDelegate(this, this.$Ja_2);
    this.$$d_$68_2 = Function.createDelegate(this, this.$68_2);
    this.$$d_$JF_2 = Function.createDelegate(this, this.$JF_2);
    this.$$d_$Jb_2 = Function.createDelegate(this, this.$Jb_2);
    this.$$d_$Ei_2 = Function.createDelegate(this, this.$Ei_2);
    this.$$d_$Ej_2 = Function.createDelegate(this, this.$Ej_2);
    this.$1F_2 = new Mscrm.Proxies.DomElementProxy();
    Mscrm.TurboForm.Control.View.LookupValueElement.initializeBase(this, [ controlView ]);
    this.$42_2 = this.$$d_$Ej_2;
    this.$B1_2 = this.$$d_$Ei_2;
    this.$B0_2 = this.$$d_$Jb_2;
    this.$40_2 = this.$$d_$JF_2;
    this.$26_2 = this.$$d_$68_2;
    this.$Az_2 = this.$$d_$Ja_2;
}
Mscrm.TurboForm.Control.View.LookupValueElement.prototype = {
    $6d_2: null,
    $8B_2: null,
    $E_2: null,
    $F_2: null,
    $42_2: null,
    $B1_2: null,
    $B0_2: null,
    $40_2: null,
    $26_2: null,
    $Az_2: null,
    $9_2: null,
    $U_2: null,
    $2P_2: null,
    $O_2: false,
    $2C_2: null,
    $7Y_2: null,
    
    get_isTouchSkinEnabled: function() {
        return false;
    },
    
    bind: function(container) {
        this.$F_2 = container;
        var $v_0 = String.format('{0}_lookupValue', this.$5_1.getKey());
        var $v_1 = String.format('{0}_lookupEditSpan', this.$5_1.getKey());
        this.$9_2 = container.ownerDocument.getElementById($v_1);
        this.$E_2 = container.ownerDocument.getElementById($v_0);
        var $v_2 = String.format('{0}_lookupSearchIcon', this.$5_1.getKey());
        var $v_3 = String.format('{0}_lookupSearchIconDiv', this.$5_1.getKey());
        this.$U_2 = container.ownerDocument.getElementById($v_2);
        this.$2P_2 = container.ownerDocument.getElementById($v_3);
        addHandlerToDomElement(this.$F_2, 'mouseover', this.$42_2);
        addHandlerToDomElement(this.$F_2, 'mouseout', this.$B1_2);
        addHandlerToDomElement(this.$F_2, 'click', this.$B0_2);
        addHandlerToDomElement(this.$U_2, 'mousedown', this.$Az_2);
        if ((this.$5_1.$6_2).getDisabled() && !(Mscrm.TurboForm.Control.View.EditableControlView.isInstanceOfType(this.$5_1)) && !IsNull(this.$5_1.$6_2.$Q_2) && !IsNull(this.$5_1.$6_2.$Q_2.Id) && (this.$5_1.$6_2).$Q_2.Id.startsWith('footer_')) {
            addHandlerToDomElement(this.$F_2, 'click', this.$26_2);
        }
        this.$O_2 = (this.$5_1.$4_2).getIsPartyList();
        if (this.$5_1.$Q_3.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.partyListControl)) {
            (this.$5_1.$4_2).$5F_3 = true;
        }
        this.setValue(null);
    },
    
    unbind: function() {
        $clearHandlers(this.$F_2);
        if (!IsNull(this.$E_2)) {
            $clearHandlers(this.$E_2);
        }
        if (this.$1F_2 && this.$1F_2.get_element() && Mscrm.Utilities.isIE()) {
            $clearHandlers(this.$1F_2.get_element());
        }
        if (!IsNull(this.$U_2)) {
            $clearHandlers(this.$U_2);
        }
        this.$E_2 = null;
        this.$F_2 = null;
        this.$9_2 = null;
        this.$U_2 = null;
        this.$2P_2 = null;
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.ValueElementBase.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(6)) {
            this.$7Y_2 = propertyBag.getPropertyData(6);
            if (!IsNull(this.$7Y_2)) {
                this.setValue(this.$7Y_2);
            }
            else {
                this.setValue(null);
            }
        }
        if (propertyBag.hasPropertyData(22)) {
            var $v_0 = propertyBag.getPropertyData(22);
            if ($v_0.length > 0) {
                var $v_1 = $v_0[0];
                if ($v_1.category === 2 || $v_1.category === 1) {
                    if (!this.$O_2) {
                        this.setValue(null);
                    }
                    else {
                        var $v_2 = (this.$5_1.$6_2).excludeAndCloneMultiLookupItems('');
                        $v_2[$v_2.length] = $v_1;
                        this.setValue($v_2);
                    }
                    return;
                }
                if (!this.$O_2) {
                    this.setValue($v_0);
                }
                else {
                    var $v_3 = (this.$5_1.$6_2).excludeAndCloneMultiLookupItems('');
                    if (!(this.$5_1.$6_2).lookupControlItemExists($v_1)) {
                        $v_3[$v_3.length] = $v_1;
                    }
                    this.setValue($v_3);
                }
            }
        }
        if (!IsNullOrEmptyString(this.$7Y_2)) {
            if (propertyBag.hasPropertyData(20)) {
                this.$FB_2(propertyBag.getPropertyData(20));
            }
            if (propertyBag.hasPropertyData(25)) {
                this.$FB_2(propertyBag.getPropertyData(25));
            }
        }
        if (propertyBag.hasPropertyData(32)) {
            this.$2C_2 = propertyBag.getPropertyData(32);
            if (!IsNullOrEmptyString(this.$2C_2) && this.$2C_2 === 'subject') {
                if (!IsNull(this.$U_2)) {
                    this.$U_2.style.display = 'none';
                }
            }
        }
    },
    
    displaySecuredValue: function() {
        if (!this.$O_2) {
            XUI.Html.SetText(this.$E_2, '*******');
        }
        else {
            XUI.Html.SetText(XUI.Html.DomUtils.GetFirstChild(this.$F_2), '*******');
        }
    },
    
    $Ja_2: function($p0) {
        var $$t_3 = this;
        window.setTimeout(function() {
            var $v_0 = String.format('{0}_lookupSearch', $$t_3.$5_1.getKey());
            var $v_1 = $$t_3.$F_2.ownerDocument.getElementById($v_0);
            if (!IsNull($v_1)) {
                $v_1.click();
            }
        }, 100);
    },
    
    setValue: function(value) {
        var $v_0 = value;
        var $v_1 = Mscrm.Utilities.getChildElementsByClassName(this.$F_2, 'ms-crm-div-NotVisible', true);
        var $v_2 = null;
        if (!IsNull($v_1)) {
            $v_2 = $v_1[0];
        }
        if (!this.$O_2) {
            if (!IsNull(this.$E_2)) {
                this.$E_2.style.color = '';
                if (!IsNull($v_0) && $v_0.length > 0) {
                    if (IsNullOrEmptyString($v_0[0].name)) {
                        $v_0[0].name = window.LOCID_INLINELOOKUP_NONAME;
                    }
                    var $v_3 = CrmEncodeDecode.CrmHtmlDecode(CrmEncodeDecode.CrmHtmlDecode($v_0[0].name));
                    (this.$5_1.$6_2).clearNotification('ControlValidationFailedKey');
                    XUI.Html.SetText(this.$E_2, $v_3);
                    this.$E_2.className = 'ms-crm-Lookup-Item';
                    if (isGlobalQuickCreate()) {
                        this.$E_2.tabIndex = -1;
                    }
                    else {
                        this.$E_2.tabIndex = 0;
                    }
                    this.$E_2.title = $v_3;
                    XUI.Html.SetText(this.$9_2, $v_3);
                    if (!IsNull($v_2)) {
                        XUI.Html.SetText($v_2, String.format('{0} {1}', this.$5_1.$Q_3.Label, $v_3));
                    }
                    this.$9_2.title = $v_3;
                    Sys.UI.DomElement.removeCssClass(this.$9_2, 'ms-crm-Hidden-NoBehavior');
                    if ($v_0[0].category === 2) {
                        (this.$5_1.$6_2).setNotification(Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(20), 'ControlValidationFailedKey');
                        this.$E_2.style.color = '#FF0000';
                    }
                    else if ($v_0[0].category === 1) {
                        (this.$5_1.$6_2).setNotification(Mscrm.TurboForm.Control.ResourceManager.get_instance().getLocalizedErrorMessage(21), 'ControlValidationFailedKey');
                    }
                    this.$8B_2 = $v_0[0].id;
                    this.$6d_2 = (!IsNullOrEmptyString($v_0[0].entityType)) ? $v_0[0].entityType : $v_0[0].typename;
                    if (Mscrm.Utilities.isIE() && window._bPresenceEnabled && !IsNullOrEmptyString(this.$6d_2)) {
                        (this.$5_1.$6_2).querySipInfo(this.$8B_2, Xrm.Internal.getEntityCode(this.$6d_2));
                    }
                }
                else {
                    XUI.Html.SetText(this.$E_2, this.$1E_1);
                    if (!IsNull($v_2)) {
                        XUI.Html.SetText($v_2, String.format('{0} {1}', this.$5_1.$Q_3.Label, this.$1E_1));
                    }
                    this.$E_2.className = 'ms-crm-Inline-EmptyValue ms-crm-Inline-Lookup';
                    this.$E_2.title = '';
                    XUI.Html.SetText(this.$9_2, '');
                    this.$9_2.title = '';
                    this.$8B_2 = '';
                    this.$6d_2 = '';
                }
            }
        }
        else {
            this.$Ga_2($v_0);
        }
    },
    
    $68_2: function($p0) {
        var $v_0 = this.$5_1.$4_2.getValue();
        if (!IsNull($v_0) && $v_0.length === 1) {
            var $v_1 = $v_0[0].id;
            var $v_2 = $v_0[0].entityType;
            if (!IsNullOrEmptyString($v_2) && !IsNullOrEmptyString($v_1)) {
                var $v_3 = null;
                var $v_4 = isNullOrEmptyString($v_0[0].processId);
                var $v_5 = isNullOrEmptyString($v_0[0].processTimestamp);
                if (!isNullOrEmptyString($v_2) && !isNullOrEmptyString($v_1) && !$v_4 && !$v_5) {
                    $v_3 = {};
                    $v_3['processid'] = $v_0[0].processId;
                    $v_3['processts'] = $v_0[0].processTimestamp;
                }
                Xrm.Utility.openEntityForm($v_2, $v_1, $v_3);
            }
        }
    },
    
    processValue: function(rawValue) {
        if (IsNull(rawValue)) {
            return '';
        }
        var $v_0 = (IsArray(rawValue)) ? (rawValue)[0] : rawValue;
        return (!IsNull($v_0)) ? $v_0.name : '';
    },
    
    $Ga_2: function($p0) {
        Sys.UI.DomElement.removeCssClass(this.$F_2, 'ms-crm-Inline-EmptyValue ms-crm-Inline-Lookup');
        var $v_0 = new Array(0);
        var $$t_L = this;
        XUI.Html.DomUtils.ForEachChild(this.$F_2, function($p1_0) {
            if ($p1_0.id === 'LookupItem' || $p1_0.id === 'EmptyLookupItem') {
                $v_0[$v_0.length] = $p1_0;
                return false;
            }
            else {
                return false;
            }
        });
        for (var $$arr_3 = $v_0, $$len_4 = $$arr_3.length, $$idx_5 = 0; $$idx_5 < $$len_4; ++$$idx_5) {
            var $v_1 = $$arr_3[$$idx_5];
            $clearHandlers($v_1);
            this.$F_2.removeChild($v_1);
        }
        if (!IsNull($p0) && $p0.length > 0) {
            var $v_2 = $p0.length;
            for (var $$arr_8 = $p0, $$len_9 = $$arr_8.length, $$idx_A = 0; $$idx_A < $$len_9; ++$$idx_A) {
                var $v_3 = $$arr_8[$$idx_A];
                if (IsNullOrEmptyString($v_3.name)) {
                    $v_3.name = window.LOCID_INLINELOOKUP_NONAME;
                }
                var $v_4 = document.createElement('span');
                var $v_5 = false;
                if (IsNull($v_3.category) && $v_3.type === '9206') {
                    $v_3.category = 3;
                }
                if (!IsNull($v_3.category)) {
                    $v_5 = $v_3.category === 3 || $v_3.category === 2 || $v_3.category === 1;
                }
                var $v_6 = '';
                var $v_7;
                if ($v_5) {
                    if ($v_3.category !== 1 || this.$O_2) {
                        $v_6 = 'display: inline-block; text-decoration:none; color:#FF0000;';
                    }
                    $v_4.className = 'ms-crm-Lookup-Item';
                    $v_4.setAttribute('resolved', 'false');
                }
                else {
                    $v_6 = 'display: inline-block;';
                    $v_4.className = 'ms-crm-Lookup-Item';
                    $v_4.setAttribute('role', 'link');
                    $v_4.setAttribute('resolved', 'true');
                }
                $v_4.id = 'LookupItem';
                $v_2--;
                $v_7 = CrmEncodeDecode.CrmHtmlAttributeEncode($v_3.entityType);
                $v_4.setAttribute('otypename', $v_7);
                $v_7 = CrmEncodeDecode.CrmHtmlAttributeEncode($v_3.type);
                $v_4.setAttribute('otype', $v_7);
                $v_7 = CrmEncodeDecode.CrmHtmlAttributeEncode($v_3.id);
                $v_4.setAttribute('oid', $v_7);
                $v_4.setAttribute('category', $v_3.category);
                $v_4.setAttribute('style', $v_6);
                $v_4.title = $v_3.name;
                $v_4.tabIndex = -1;
                $v_4.setAttribute('contenteditable', false);
                if ($v_2) {
                    XUI.Html.SetText($v_4, $v_3.name + ';');
                }
                else {
                    XUI.Html.SetText($v_4, $v_3.name);
                }
                this.$F_2.insertBefore($v_4, this.$2P_2.parentNode);
                var $v_8 = this.$2P_2.parentNode.parentNode;
                if ($v_8) {
                    var $v_9 = $v_8.getElementsByTagName('span');
                    if ($v_9) {
                        for (var $v_A = 0; $v_A < $v_9.length; $v_A++) {
                            var $v_B = $v_9[$v_A].getAttribute('id');
                            if ($v_B && $v_B.toString() === 'EmptyLookupItem') {
                                $v_9[$v_A].innerHTML = '';
                                break;
                            }
                        }
                    }
                }
            }
        }
        else {
            var $v_C = document.createElement('span');
            $v_C.id = 'EmptyLookupItem';
            XUI.Html.SetText($v_C, this.$1E_1);
            this.$F_2.insertBefore($v_C, this.$2P_2.parentNode);
            Sys.UI.DomElement.addCssClass(this.$F_2, 'ms-crm-Inline-EmptyValue ms-crm-Inline-Lookup');
        }
    },
    
    $FB_2: function($p0) {
        if (!IsNull(this.$E_2)) {
            if (!IsNullOrEmptyString($p0)) {
                var $v_0 = XUI.Html.GetText(this.$E_2);
                if (!IsNullOrEmptyString($v_0) && $v_0 !== this.$1E_1) {
                    if (Mscrm.Utilities.isIE()) {
                        if (this.$1F_2 && this.$1F_2.get_element()) {
                            $clearHandlers(this.$1F_2.get_element());
                        }
                        this.$E_2.innerHTML = String.format('<img alt=\" \" class=\"ms-crm-Lookup-Item\" id=\"{2}\" src=\"{0}\"/> {1}', CrmEncodeDecode.CrmHtmlAttributeEncode($p0), CrmEncodeDecode.CrmHtmlAttributeEncode(XUI.Html.GetText(this.$E_2)), CrmEncodeDecode.CrmHtmlAttributeEncode(this.$5_1.getKey() + '_lookupPresenceIcon'));
                        this.$9_2.innerHTML = String.format('<img alt=\" \" class=\"ms-crm-Lookup-Item\" id=\"{2}\" src=\"{0}\"/> {1}', CrmEncodeDecode.CrmHtmlAttributeEncode($p0), CrmEncodeDecode.CrmHtmlAttributeEncode(XUI.Html.GetText(this.$9_2)), CrmEncodeDecode.CrmHtmlAttributeEncode(this.$5_1.getKey() + '_lookupPresenceIcon'));
                        var $v_1 = this.$5_1.getKey() + '_lookupPresenceIcon';
                        this.$1F_2.set_element($get($v_1));
                        if ((this.$5_1.$6_2).$2U_5) {
                            this.$1F_2.setAttribute('sipuri', CrmEncodeDecode.CrmHtmlAttributeEncode((this.$5_1.$6_2).$2U_5));
                            this.$1F_2.setAttribute('state', (this.$5_1.$6_2).$7D_5);
                        }
                        this.$40_2 = this.$$d_$JF_2;
                        addHandlerToDomElement(this.$1F_2.get_element(), 'mouseover', this.$40_2);
                        addHandlerToDomElement(this.$1F_2.get_element(), 'mouseout', this.$40_2);
                        addHandlerToDomElement(this.$1F_2.get_element(), 'focus', this.$40_2);
                        addHandlerToDomElement(this.$1F_2.get_element(), 'blur', this.$40_2);
                    }
                    else {
                        this.$E_2.innerHTML = String.format('<img alt=\" \" class=\"ms-crm-Lookup-Item\" id=\"{2}\" src=\"{0}\"/> {1}', CrmEncodeDecode.CrmHtmlAttributeEncode($p0), CrmEncodeDecode.CrmHtmlAttributeEncode(XUI.Html.GetText(this.$E_2)));
                        this.$9_2.innerHTML = String.format('<img alt=\" \" class=\"ms-crm-Lookup-Item\" id=\"{2}\" src=\"{0}\"/> {1}', CrmEncodeDecode.CrmHtmlAttributeEncode($p0), CrmEncodeDecode.CrmHtmlAttributeEncode(XUI.Html.GetText(this.$9_2)));
                    }
                }
            }
        }
    },
    
    $Ej_2: function($p0) {
        if (!IsNull(this.$U_2)) {
            this.$2C_2 = (this.$5_1.$4_2).getLookupStyle();
            if (!IsNullOrEmptyString(this.$2C_2) && this.$2C_2 === 'subject') {
                this.$2P_2.style.display = 'none';
            }
            else if (!(this.$5_1.$6_2).getDisabled()) {
                this.$2P_2.style.display = 'block';
            }
        }
    },
    
    $Jb_2: function($p0) {
        if (!IsNull(this.$U_2)) {
            this.$2P_2.style.display = 'none';
        }
    },
    
    $Ei_2: function($p0) {
        if (!IsNull(this.$U_2)) {
            this.$2P_2.style.display = 'none';
        }
    },
    
    $JF_2: function($p0) {
        switch ($p0.type.toLowerCase()) {
            case 'mouseover':
                this.showContactCard(0, this.$1F_2);
                break;
            case 'focus':
                this.showContactCard(1, this.$1F_2);
                break;
            case 'mouseout':
            case 'blur':
                this.hideContactCard();
                break;
        }
    },
    
    showContactCard: function(inputType, presenceIcon) {
        if ((this.$5_1.$6_2).$2U_5) {
            var $v_0 = new Mscrm.Proxies.PresenceHelperProxy();
            var $v_1 = $v_0.getImageLocation(presenceIcon);
            var $v_2 = Mscrm.Presence.PresenceControlFactory.get_instance();
            if ($v_2) {
                $v_2.showContactCard((this.$5_1.$6_2).$2U_5, inputType, $v_1.get_locationX(), $v_1.get_locationY());
            }
        }
    },
    
    hideContactCard: function() {
        var $v_0 = Mscrm.Presence.PresenceControlFactory.get_instance();
        if (!IsNull($v_0)) {
            $v_0.hideContactCard();
        }
    }
}


Mscrm.TurboForm.Control.View.MapValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.MapValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.MapValueElement.prototype = {
    
    bind: function(container) {
        var $$t_2 = this;
        this.$5_1.$6_2.$G_2.addOnLoadInternal((function($p1_0) {
            ($$t_2.$5_1.$6_2).initializeAndRefreshBingMapControl();
        }));
    },
    
    unbind: function() {
    }
}


Mscrm.TurboForm.Control.View.MoneyValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.MoneyValueElement.initializeBase(this, [ controlView ]);
    this.$14_1 = Mscrm.TurboForm.Control.View.MoneyFormatter.get_instance();
}
Mscrm.TurboForm.Control.View.MoneyValueElement.prototype = {
    
    setValue: function(value) {
        var $v_0 = this.$Hf_3(value);
        if (this.get_controlValue().parentNode && XUI.Html.DomUtils.GetNextSibling(this.get_controlValue().parentNode)) {
            XUI.Html.DomUtils.GetFirstChild(XUI.Html.DomUtils.GetFirstChild(XUI.Html.DomUtils.GetFirstChild(XUI.Html.DomUtils.GetFirstChild(XUI.Html.DomUtils.GetFirstChild(XUI.Html.DomUtils.GetNextSibling(this.get_controlValue().parentNode)))))).innerHTML = CrmEncodeDecode.CrmHtmlDecode((this.$5_1.$4_2).get_currencySymbol());
        }
        var $v_1 = this.get_controlValue().id.toString().trim();
        var $v_2 = $v_1.replace(suffixValue(), '');
        $v_2 = CrmEncodeDecode.CrmHtmlEncode($v_2);
        if (!IsNull($v_0) && Object.getType($v_0) === Number && !isNaN($v_0)) {
            this.get_controlValue().innerHTML = String.format(this.readValueFormat, CrmEncodeDecode.CrmHtmlEncode(this.formatReadValue(value)), $v_2);
        }
        else if (!IsNull(value)) {
            this.get_controlValue().innerHTML = String.format(this.readValueFormat, CrmEncodeDecode.CrmHtmlEncode(this.formatReadValue(value)), $v_2);
        }
    },
    
    displaySecuredValue: function() {
        this.get_controlValue().innerHTML = String.format(this.readValueFormat, CrmEncodeDecode.CrmHtmlEncode('*******'));
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.SimpleValueElement.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(23) || propertyBag.hasPropertyData(24)) {
            this.setValue(this.$5_1.$4_2.getValue());
        }
    },
    
    $Hf_3: function($p0) {
        if (IsNull($p0)) {
            return null;
        }
        return this.$14_1.convertFormattedStringToObject($p0);
    }
}


Mscrm.TurboForm.Control.View.PhoneValueElement = function(controlView) {
    this.$DM_3 = ((isChrome()) ? '<div class=' + CrmEncodeDecode.CrmHtmlAttributeEncode('ms-crm-div-NotVisible ms-crm-div-NotSelectable') + '>' : '<div class=\"ms-crm-div-NotVisible\">') + '{2}' + ((isSafari()) ? '' : ' {0}') + '</div><a class=\"ms-crm-gridurl\" href=\"#\" title=\"{1}\">{0}</a><div class=\"ms-crm-Inline-GradientMask\"></div>';
    Mscrm.TurboForm.Control.View.PhoneValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.PhoneValueElement.prototype = {
    
    getAnchorFormatHtml: function(value) {
        var $v_0 = '';
        if (!IsNullOrEmptyString(value)) {
            $v_0 = CrmEncodeDecode.CrmHtmlAttributeEncode(window.PHONE_NUMBER_TOOLTIP_INLINE);
        }
        var $v_1 = this.get_valueSpan().id.toString().trim();
        var $v_2 = $v_1.replace(suffixValue(), '');
        return String.format(this.$DM_3, CrmEncodeDecode.CrmHtmlEncode(value), $v_0, $v_2);
    },
    
    onClickHandler: function(domEvent) {
        if (!IsNull(domEvent.target) && domEvent.target.nodeName.toUpperCase() === 'A') {
            var $v_0 = this.$5_1.$4_2.getValue();
            this.launch($v_0);
            domEvent.stopPropagation();
            domEvent.preventDefault();
        }
    },
    
    launch: function(link) {
        Mscrm.ReadFormUtilities.openPhoneClient(link);
    }
}


Mscrm.TurboForm.Control.View.PicklistValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.PicklistValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.PicklistValueElement.prototype = {
    $1a_3: null,
    
    getOptions: function() {
        return this.$1a_3;
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(12)) {
            var $v_0 = propertyBag.getPropertyData(12);
            this.$1a_3 = $v_0;
        }
        Mscrm.TurboForm.Control.View.SimpleValueElement.prototype.update.call(this, propertyBag);
    },
    
    processValue: function(rawValue) {
        var $v_0;
        if (!IsNull(rawValue)) {
            $v_0 = rawValue.toString();
            var $v_1 = parseInt($v_0);
            if (!IsNull(this.$1a_3)) {
                for (var $v_2 = 0; $v_2 < this.$1a_3.length; $v_2++) {
                    if (this.$1a_3[$v_2].value === $v_1) {
                        $v_0 = this.$1a_3[$v_2].text;
                        break;
                    }
                }
            }
        }
        else {
            $v_0 = Mscrm.TurboForm.Control.View.ValueElementBase.prototype.processValue.call(this, rawValue);
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.View.RollupValueElement = function($p0) {
    this.$$d_$J5_3 = Function.createDelegate(this, this.$J5_3);
    this.$$d_$Jl_3 = Function.createDelegate(this, this.$Jl_3);
    this.$$d_$Ed_3 = Function.createDelegate(this, this.$Ed_3);
    this.$$d_$Jm_3 = Function.createDelegate(this, this.$Jm_3);
    Mscrm.TurboForm.Control.View.RollupValueElement.initializeBase(this, [ $p0 ]);
    this.$78_3 = false;
    this.$3I_3 = false;
    this.$H_3 = $get(String.format('{0}_d', $p0.getKey()));
}
Mscrm.TurboForm.Control.View.RollupValueElement.prototype = {
    $F_3: null,
    $H_3: null,
    $2V_3: null,
    $6v_3: null,
    $8p_3: 0,
    $78_3: false,
    $3I_3: false,
    $8l_3: null,
    $8q_3: null,
    $5W_3: null,
    $8o_3: null,
    $5L_3: null,
    $4W_3: null,
    
    get_valueCell: function() {
        return this.$H_3;
    },
    
    set_valueCell: function($p0) {
        this.$H_3 = $p0;
        return $p0;
    },
    
    get_isTabletToolTipVisible: function() {
        return this.$3I_3;
    },
    
    set_isTabletToolTipVisible: function($p0) {
        this.$3I_3 = $p0;
        return $p0;
    },
    
    get_$KQ_3: function() {
        if (IsNull(this.$5W_3)) {
            this.$5W_3 = document.createElement('div');
            Sys.UI.DomElement.addCssClass(this.$5W_3, 'ms-crm-Inline-Validation');
            this.$Bo_3().appendChild(this.$5W_3);
        }
        return this.$5W_3;
    },
    
    get_$Fa_3: function() {
        if (!IsNull(this.$F_3)) {
            var $v_0 = XUI.Html.DomUtils.GetFirstChild(this.$F_3);
            return $v_0;
        }
        return null;
    },
    
    get_rollupToolTipFlyout: function() {
        if (IsNull(this.$8q_3)) {
            this.$8q_3 = new Mscrm.ErrorFlyout($P_CRM(this.get_$Fa_3()), $P_CRM(this.get_$KQ_3()), $P_CRM(this.$Bo_3()));
        }
        return this.$8q_3;
    },
    
    get_refreshIconLink: function() {
        if (!this.$8l_3) {
            var $v_0 = $get(this.$5_1.getKey());
            this.$8l_3 = $v_0.getElementsByTagName('a')[0];
        }
        return this.$8l_3;
    },
    
    set_$DK_3: function($p0) {
        this.$4W_3 = $p0;
        if (!IsNull(this.$4W_3)) {
            if (this.$4W_3.className === 'ms-crm-ImageStrip-inlineedit_warning') {
                this.$4W_3.className = 'ms-crm-ImageStrip-inlineedit_alert';
            }
        }
        return $p0;
    },
    
    $Bz_3: function($p0) {
        if (!IsNull(this.$4W_3) && $p0) {
        }
    },
    
    $L6_3: function() {
        this.$2V_3 = window.INVALID_FIELD_DEFINITION_ERROR;
        this.$FL_3(this.$2V_3);
    },
    
    $FL_3: function($p0) {
        (this.$5_1.$6_2).setNotification($p0, String.format('{0}_i', this.$5_1.getKey()), 'WARNING');
    },
    
    get_$ES_3: function() {
        if (!this.$6v_3) {
            this.$6v_3 = this.$5_1.$4_2.$77_2;
        }
        return this.$6v_3;
    },
    
    get_$3g_3: function() {
        if (!this.$78_3) {
            this.$8p_3 = parseInt(this.$5_1.$4_2.$47_2);
            this.$78_3 = true;
        }
        return this.$8p_3;
    },
    
    set_$3g_3: function($p0) {
        this.$8p_3 = $p0;
        this.$78_3 = true;
        return $p0;
    },
    
    $Bo_3: function() {
        return $get('formBodyContainer');
    },
    
    displayWarningMessage: function() {
        switch (this.get_$3g_3()) {
            case 2:
                this.$2V_3 = window.ROLLUP_OVERFLOW_ERROR;
                break;
            case 3:
                this.$2V_3 = window.ROLLUP_OTHER_ERROR;
                break;
            case 4:
                this.$2V_3 = window.ROLLUP_DEFINITION_CHANGED_ERROR;
                break;
            case 5:
                this.$2V_3 = window.ROLLUP_RETRY_LIMIT_ERROR;
                break;
            case 7:
                this.$2V_3 = window.ROLLUP_CURRENCYFIELDMISSING;
                break;
        }
        if (this.$5_1.$4_2.getSourceTypeMask() === 32 || this.$5_1.$4_2.getIsRollupInvalid()) {
            this.$L6_3();
            this.$Bz_3(false);
        }
        else if (!this.get_$3g_3() || this.get_$3g_3() === 1) {
            this.$Bz_3(true);
        }
        else {
            this.$FL_3(this.$2V_3);
            this.$Bz_3(false);
        }
    },
    
    get_$KP_3: function() {
        if (IsNull(this.$8o_3)) {
            this.$8o_3 = new Mscrm.RollupErrorFlyout($P_CRM(this.$Bo_3()));
        }
        return this.$8o_3;
    },
    
    $FY_3: function($p0) {
        XUI.Html.SetText(this.get_$Fa_3(), $p0);
        this.$5_1.get_rollupControlLayout().applyReadLayout(this.$5_1);
    },
    
    calculateRollupCallBack: function($p0, $p1, $p2, $p3) {
        if (IsNull($p2)) {
            throw Error.argumentUndefined('lasUpdatedTime', 'The last updated time is undefined after a force recalculation of a rollup field');
        }
        this.set_$3g_3($p3);
        this.displayWarningMessage();
        if (!(this.get_$3g_3() === 1 || !this.get_$3g_3())) {
            this.get_$KP_3().show(this.$2V_3);
        }
        if (IsNull($p0) || this.get_$3g_3() !== 1) {
            $p0 = this.$1E_1;
            $p1 = null;
        }
        else {
            if (this.$5_1.$4_2.getAttributeType() === 'datetime') {
                $p1 = ParseUtcDate($p1);
                $p0 = Mscrm.TurboForm.Control.View.DateTimeValueElement.formatDisplayValue($p1, this.$5_1.$4_2.getFormat(), ' ');
            }
            if (this.$5_1.$4_2.getFormat() === 'duration') {
                $p0 = Mscrm.NumberUtility.formatDuration(parseInt($p0.toString()));
            }
        }
        var $v_0 = $p0;
        if (this.$5_1.$4_2.getAttributeType() === 'datetime') {
            $v_0 = $p1;
        }
        if (this.$5_1.$4_2.getAttributeType() === 'money' && !isNullOrEmptyString((this.$5_1.$4_2).get_currencySymbol())) {
            $v_0 = $p0.replace((this.$5_1.$4_2).get_currencySymbol(), '');
        }
        this.$5_1.$4_2.setValue($v_0, null);
        this.$5_1.$4_2.fireOnChange();
        this.$FY_3($p0);
        $p2 = ParseUtcDate($p2);
        this.$6v_3 = Mscrm.TurboForm.Control.View.DateTimeValueElement.formatDisplayValue($p2, 'datetime', ' ', true);
        this.$FG_3($p0);
        if (Xrm.Page.context.client.getClient() === 'Outlook') {
            getOutlookHostedWindow().refreshGrid();
            return;
        }
    },
    
    bind: function($p0) {
        this.$F_3 = $p0;
        var $v_0 = $get(String.format('{0}_warnSpan', this.$5_1.getKey()));
        if (!IsNull($v_0)) {
            this.set_$DK_3($v_0.getElementsByTagName('img')[0]);
        }
        addHandlerToDomElement(this.$F_3, 'click', this.$$d_$Jm_3);
        if (IsNull(this.$H_3)) {
            this.$H_3 = $get(String.format('{0}_d', this.$5_1.getKey()));
        }
        if (!IsNull(this.$H_3) && !IsNull(XUI.Html.DomUtils.GetFirstChild(this.$H_3))) {
            addHandlerToDomElement(XUI.Html.DomUtils.GetFirstChild(this.$H_3), 'focus', this.$$d_$Ed_3);
            addHandlerToDomElement(XUI.Html.DomUtils.GetFirstChild(this.$H_3), 'blur', this.$$d_$Jl_3);
            addHandlerToDomElement(XUI.Html.DomUtils.GetFirstChild(this.$H_3), 'keydown', this.$$d_$J5_3);
        }
        var $$t_4 = this;
        this.$5L_3 = function($p1_0) {
            $$t_4.displayWarningMessage();
            $$t_4.setDefaultFormatter();
            var $v_1 = $$t_4.$5_1.$4_2.getValue();
            switch ($$t_4.$5_1.$4_2.getFormat()) {
                case 'duration':
                    if (!IsNull($v_1)) {
                        $v_1 = Mscrm.NumberUtility.formatDuration(parseInt($v_1.toString()));
                    }
                    else {
                        $v_1 = $$t_4.formatReadValue($v_1);
                    }
                    break;
                case 'datetime':
                case 'date':
                    $v_1 = Mscrm.TurboForm.Control.View.DateTimeValueElement.formatDisplayValue($v_1, $$t_4.$5_1.$4_2.getFormat(), ' ', true);
                    break;
                default:
                    $v_1 = $$t_4.formatReadValue($v_1);
                    break;
            }
            $$t_4.$FG_3($v_1);
            $$t_4.$FY_3($v_1);
        };
        this.$5_1.$6_2.$G_2.$8_1.getPageData().getEntity().addOnRecordIdChanged(this.$5L_3, false);
        this.$5_1.$6_2.$G_2.addOnLoadInternal(this.$5L_3);
    },
    
    $FG_3: function($p0) {
        if (!IsNull(this.$H_3)) {
            this.$H_3.title = this.$Bs_3($p0);
        }
        this.$5_1.$I_3.title = this.$Bs_3($p0);
    },
    
    unbind: function() {
        $clearHandlers(this.$F_3);
        if (!IsNull(this.$H_3) && !IsNull(XUI.Html.DomUtils.GetFirstChild(this.$H_3))) {
            $clearHandlers(XUI.Html.DomUtils.GetFirstChild(this.$H_3));
        }
        this.$5_1.$6_2.$G_2.$8_1.getPageData().getEntity().removeOnRecordIdChanged(this.$5L_3);
        this.$5L_3 = null;
        this.$F_3 = null;
        this.$H_3 = null;
        this.set_$DK_3(null);
    },
    
    $Jm_3: function($p0) {
        this.$Et_3($p0, this.$5_1);
        if (window.UseTabletExperience) {
            this.$LF_3($p0);
        }
        $p0.preventDefault();
    },
    
    $Jl_3: function($p0) {
        if (!IsNull(this.get_refreshIconLink())) {
            Sys.UI.DomElement.removeCssClass(this.get_refreshIconLink(), 'hover');
        }
        if (window.UseTabletExperience) {
            this.get_rollupToolTipFlyout().hideError();
        }
    },
    
    $J5_3: function($p0) {
        if ($p0.keyCode === 13) {
            this.$Et_3($p0, this.$5_1);
        }
    },
    
    $Ed_3: function($p0) {
        if (Mscrm.TabTypeHelper.isTabPressed() && !IsNull(this.get_refreshIconLink()) && !Mscrm.InternalUtilities.Utilities.isHighContrastEnabled()) {
            Sys.UI.DomElement.addCssClass(this.get_refreshIconLink(), 'hover');
        }
    },
    
    $Et_3: function($p0, $p1) {
        var $v_0 = (!$p1.$4_2.getParent()) ? null : $p1.$4_2.getParent().getId();
        if (!IsNullOrEmptyString($v_0) && !IsNull(this.get_refreshIconLink()) && Sys.UI.DomElement.containsCssClass(this.get_refreshIconLink(), 'rolluprefreshPostsLink') && ($p0.target.id === 'refreshIcon' || $p0.keyCode === 13) && this.$5_1.$4_2.getSourceTypeMask() !== 32) {
            var $v_1 = this.get_refreshIconLink().getElementsByTagName('img')[0];
            this.$LD_3($v_1);
            var $v_2 = new RemoteCommand('RollupFieldsWebService', 'CalculateRollupField');
            $v_2.SetParameter('recordId', $v_0);
            $v_2.SetParameter('entityLogicalName', Xrm.Page.data.getEntity().getEntityName());
            $v_2.SetParameter('attributeLogicalName', $p1.$4_2.getName());
            var $$t_9 = this;
            var $v_3 = function($p1_0, $p1_1) {
                $$t_9.$LC_3($v_1);
                if ($p1_0.Success) {
                    var $v_4 = $p1_0.ReturnValue;
                    $$t_9.calculateRollupCallBack($v_4.RollupValue, $v_4.RollupValueRaw, $v_4.LastUpdatedTime, $v_4.State);
                }
            };
            $v_2.Execute($v_3);
        }
    },
    
    $LF_3: function($p0) {
        if ($p0.target.id === 'refreshIcon') {
            this.get_rollupToolTipFlyout().hideError();
            this.$3I_3 = false;
        }
        else {
            this.$3I_3 = !this.$3I_3;
            if (this.$3I_3) {
                this.$Gh_3();
            }
            else {
                this.get_rollupToolTipFlyout().hideError();
            }
        }
    },
    
    $Gh_3: function() {
        var $v_0 = this.$5_1.$4_2;
        var $v_1 = (IsNull($v_0)) ? null : $v_0.getValue().toString();
        var $v_2 = {};
        $v_2['value'] = $v_0.$1x_2;
        $v_1 = (isNullOrEmptyString($v_1)) ? getDecodedValue($v_2, false) : $v_1;
        this.get_rollupToolTipFlyout().showError(this.$Bs_3($v_1));
    },
    
    $Bs_3: function($p0) {
        switch (this.get_$3g_3()) {
            case 0:
                return window.LOCID_ROLLUPFIELD_NOT_CACULATED;
            case 1:
                return String.format(window.LOCID_ROLLUPFIELD_LAST_UPDATED_TEMPLATE, $p0, this.get_$ES_3());
            default:
                return String.format(window.LOCID_ROLLUP_LAST_UPDATED_ONLY, this.get_$ES_3());
        }
    },
    
    $LD_3: function($p0) {
        $p0.setAttribute('src', '/_imgs/inlineedit/saveanimation.gif');
        Sys.UI.DomElement.addCssClass(this.get_refreshIconLink(), 'rolluprefreshPostsLinkSpinningWheel');
        Sys.UI.DomElement.removeCssClass($p0, 'ms-crm-ImageStrip-rollup_refresh');
        Sys.UI.DomElement.removeCssClass(this.get_refreshIconLink(), 'rolluprefreshPostsLink');
    },
    
    $LC_3: function($p0) {
        if (Mscrm.InternalUtilities.Utilities.isHighContrastEnabled()) {
            $p0.setAttribute('src', '/_imgs/sfa/refresh_high_contrast_16.png');
        }
        else {
            $p0.setAttribute('src', '/_imgs/imagestrips/transparent_spacer.gif');
            Sys.UI.DomElement.addCssClass($p0, 'ms-crm-ImageStrip-rollup_refresh');
        }
        Sys.UI.DomElement.removeCssClass(this.get_refreshIconLink(), 'rolluprefreshPostsLinkSpinningWheel');
        Sys.UI.DomElement.addCssClass(this.get_refreshIconLink(), 'rolluprefreshPostsLink');
    }
}


Mscrm.TurboForm.Control.View.DurationValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.DurationValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.DurationValueElement.prototype = {
    $1a_3: null,
    
    getOptions: function() {
        return this.$1a_3;
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(12)) {
            var $v_0 = propertyBag.getPropertyData(12);
            this.$1a_3 = $v_0;
        }
        Mscrm.TurboForm.Control.View.SimpleValueElement.prototype.update.call(this, propertyBag);
    },
    
    processValue: function(rawValue) {
        var $v_0 = rawValue;
        var $v_1 = this.formatReadValue($v_0);
        if (!IsNull(rawValue)) {
            var $v_2 = parseInt($v_1);
            if (!IsNull(this.$1a_3)) {
                for (var $v_3 = 0; $v_3 < this.$1a_3.length; $v_3++) {
                    if (this.$1a_3[$v_3].value === $v_2) {
                        $v_1 = this.$1a_3[$v_3].text;
                        break;
                    }
                }
            }
        }
        else {
            $v_1 = Mscrm.TurboForm.Control.View.ValueElementBase.prototype.processValue.call(this, rawValue);
        }
        return $v_1;
    },
    
    setValue: function(value) {
        var $v_0 = this.get_controlValue().id.toString().trim();
        var $v_1 = $v_0.replace(suffixValue(), '');
        this.get_controlValue().innerHTML = String.format(this.readValueFormat, CrmEncodeDecode.CrmHtmlEncode(this.formatReadValue(value)), CrmEncodeDecode.CrmHtmlEncode($v_1));
    }
}


Mscrm.TurboForm.Control.View.EmailBodyValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.EmailBodyValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.EmailBodyValueElement.setUrl = function(iframeElement) {
    var $v_0 = Xrm.Page.data.entity.getEntityName();
    var $v_1 = Xrm.Page.data.entity.getId().toString();
    if (iframeElement.id.endsWith('email_descriptionIFrame')) {
        var $v_4 = $get(iframeElement.id.replace('email_descriptionIFrame', 'lookup_field'));
        if (!IsNull($v_4)) {
            var $v_5 = Xrm.Page.getAttribute($v_4.getAttribute('data-attributeName'));
            if (!IsNull($v_5)) {
                var $v_6 = $v_5.getValue();
                if ($v_6[0]) {
                    $v_0 = $v_6[0].entityType;
                    $v_1 = $v_6[0].id;
                }
            }
        }
    }
    var $v_2 = CrmEncodeDecode.CrmUrlDecode(iframeElement.getAttribute('url'));
    var $v_3 = new Sys.StringBuilder($v_2);
    if (-1 === $v_3.toString().indexOf('id=')) {
        if (-1 !== $v_3.toString().indexOf('?')) {
            $v_3.append('&id=');
        }
        else {
            $v_3.append('?id=');
        }
        $v_3.append($v_1);
        $v_3.append('&entityType=');
        $v_3.append($v_0);
    }
    iframeElement.setAttribute('url', $v_3.toString());
}
Mscrm.TurboForm.Control.View.EmailBodyValueElement.prototype = {
    $Al_3: null,
    $3Z_3: null,
    $Di_3: null,
    $2v_3: null,
    $3Y_3: null,
    $C1_3: null,
    $E_3: null,
    
    get_controlValue: function() {
        return this.$E_3;
    },
    
    set_controlValue: function(value) {
        this.$E_3 = value;
        return value;
    },
    
    $Z_3: null,
    
    get_emailBodyIFrame: function() {
        return this.$Z_3;
    },
    
    set_emailBodyIFrame: function(value) {
        this.$Z_3 = value;
        return value;
    },
    
    bind: function(container) {
        this.$Z_3 = document.querySelector('[id$=\'descriptionIFrame\']');
        this.$Z_3.tabIndex = -1;
        if (container.children.length === 1) {
            this.$E_3 = container.children[0];
        }
        else {
            this.$E_3 = container.children[1];
        }
        var $v_0 = this.$E_3.getElementsByTagName('iframe');
        if ($v_0.length > 0) {
            this.$C1_3 = this.$E_3.querySelector('[id$=\'descriptionHtmlBar\']');
            this.$C1_3.style.display = 'none';
            Mscrm.TurboForm.Control.View.EmailBodyValueElement.setUrl($v_0[0]);
            container.style.display = 'inline';
            this.$E_3.style.display = 'inline';
            ($v_0[0]).src = $v_0[0].getAttribute('url').toString();
        }
    },
    
    unbind: function() {
        this.set_controlValue(null);
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(6)) {
            this.$3Z_3 = propertyBag.getPropertyData(6);
        }
        if (propertyBag.hasPropertyData(29)) {
            this.$Di_3 = propertyBag.getPropertyData(29);
        }
        if (propertyBag.hasPropertyData(31)) {
            this.$2v_3 = propertyBag.getPropertyData(31);
        }
        if (propertyBag.hasPropertyData(30)) {
            this.$3Y_3 = propertyBag.getPropertyData(30);
        }
        this.showUnsafeScriptWarning();
        if (!Mscrm.Utilities.isIE()) {
            if (!IsNull(this.$Z_3.contentWindow.document.body)) {
                this.$Z_3.contentWindow.document.body.style.wordWrap = 'break-word';
            }
        }
    },
    
    get_mainElement: function() {
        return this.$Al_3;
    },
    
    set_mainElement: function(value) {
        this.$Al_3 = value;
        return value;
    },
    
    showUnsafeScriptWarning: function() {
        var $v_0 = CrmEncodeDecode.CrmUrlDecode(this.$Z_3.getAttribute('url'));
        var $v_1 = Xrm.Page.data.entity.getEntityName();
        var $v_2 = Xrm.Page.data.entity.getId().toString();
        var $v_3 = this.$E4_3();
        if (!IsNull(this.$3Z_3) && !IsNull(this.$2v_3) && this.$2v_3 === '1' && $v_3 !== 3) {
            $get('tdBlockMsg', this.$E_3).style.display = 'block';
            if ($v_3 === 1) {
                $get('WarningWithOpen', this.$E_3).style.display = 'block';
            }
            else {
                $get('WarningWithoutOpen', this.$E_3).style.display = 'block';
            }
            var $v_4 = false;
            var $v_5 = 'followup';
            if (-1 !== $v_0.indexOf($v_5)) {
                $v_4 = ($v_0.substr($v_0.indexOf('followup') + $v_5.length, $v_0.indexOf('followup') + $v_5.length + 1) === '1') ? true : false;
            }
            if (!$v_4 && $v_1 === 'email' && !isNullOrEmptyString($v_2) && $v_3 === 1) {
                var $v_6 = $get(this.$5_1.getKey()).getAttribute('wrpcToken').toString();
                var $v_7 = $get('ActualMsg', this.$E_3);
                $v_7.style.display = 'block';
                $v_7.setAttribute('onclick', 'unblock(\'' + $v_2 + '\',\'' + $v_6 + '\');');
            }
        }
    },
    
    $E4_3: function() {
        var $v_0 = 1;
        if (!IsNull(this.$3Y_3)) {
            var $v_1 = parseInt(this.$3Y_3);
            $v_1 = ($v_1 > 3 || $v_1 < 1) ? 1 : $v_1;
            $v_0 = $v_1;
        }
        return $v_0;
    }
}


Mscrm.TurboForm.Control.View.SimpleValueElement = function(controlView) {
    this.readValueFormat = ((isChrome()) ? '<div class=' + CrmEncodeDecode.CrmHtmlAttributeEncode('ms-crm-div-NotVisible ms-crm-div-NotSelectable') + '>' : '<div class=\"ms-crm-div-NotVisible\">') + '{1}' + ((isSafari() || isFirefox()) ? '' : ' {0}') + '</div>{0}<div class=\"ms-crm-Inline-GradientMask\"></div>';
    Mscrm.TurboForm.Control.View.SimpleValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.SimpleValueElement.prototype = {
    $E_2: null,
    
    get_controlValue: function() {
        return this.$E_2;
    },
    
    set_controlValue: function(value) {
        this.$E_2 = value;
        return value;
    },
    
    bind: function(container) {
        this.$E_2 = XUI.Html.DomUtils.GetChildElementAt(container, 0);
    },
    
    unbind: function() {
        this.set_controlValue(null);
    },
    
    update: function(propertyBag) {
        Mscrm.TurboForm.Control.View.ValueElementBase.prototype.update.call(this, propertyBag);
        if (propertyBag.hasPropertyData(6)) {
            var $v_0 = this.processValue(propertyBag.getPropertyData(6));
            this.setValue($v_0);
        }
    },
    
    displaySecuredValue: function() {
        this.get_controlValue().innerHTML = CrmEncodeDecode.CrmHtmlEncode('*******');
    },
    
    setValue: function(value) {
        this.setDefaultFormatter();
        var $v_0 = this.formatReadValue(value);
        if (!IsNull(this.$5_1.$4_2)) {
            var $v_3 = this.$5_1.$4_2.getAttributeType();
            if (!IsNull(value) && !IsNullOrEmptyString($v_3)) {
                switch ($v_3) {
                    case 'decimal':
                    case 'double':
                    case 'integer':
                        if (isNaN(value)) {
                            $v_0 = value.toString();
                        }
                        break;
                }
            }
        }
        var $v_1 = this.get_controlValue().id.toString().trim();
        var $v_2 = $v_1.replace(suffixValue(), '');
        this.get_controlValue().innerHTML = String.format(this.readValueFormat, CrmEncodeDecode.CrmHtmlEncode($v_0), CrmEncodeDecode.CrmHtmlEncode($v_2));
    },
    
    setDefaultFormatter: function() {
        if (!IsNull(this.$5_1.$4_2)) {
            var $v_0 = this.$5_1.$4_2.getAttributeType();
            if (!IsNullOrEmptyString($v_0)) {
                if ($v_0 === 'decimal' || $v_0 === 'double') {
                    this.$14_1 = Mscrm.TurboForm.Control.View.DecimalFormatter.get_instance();
                }
                else if ($v_0 === 'integer') {
                    this.$14_1 = Mscrm.TurboForm.Control.View.NumberFormatter.get_instance();
                }
                else if ($v_0 === 'money') {
                    this.$14_1 = Mscrm.TurboForm.Control.View.MoneyFormatter.get_instance();
                }
            }
        }
    }
}


Mscrm.TurboForm.Control.View.SocialInsightValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.SocialInsightValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.SocialInsightValueElement.prototype = {
    
    bind: function(container) {
        var $$t_2 = this;
        this.$5_1.$6_2.$G_2.addOnLoadInternal((function($p1_0) {
            ($$t_2.$5_1.$6_2).initializeSocialInsightControl();
        }));
    },
    
    unbind: function() {
    }
}


Mscrm.TurboForm.Control.View.TextAreaValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.TextAreaValueElement.initializeBase(this, [ controlView ]);
    this.$14_1 = Mscrm.TurboForm.Control.View.TextAreaFormatter.get_instance();
}
Mscrm.TurboForm.Control.View.TextAreaValueElement.prototype = {
    
    bind: function(container) {
        Mscrm.TurboForm.Control.View.SimpleValueElement.prototype.bind.call(this, container);
        this.get_controlValue().style.display = 'block';
        this.get_controlValue().style.whiteSpace = 'normal';
        this.get_controlValue().style.wordWrap = 'break-word';
    },
    
    setValue: function(value) {
        var $v_0 = CrmEncodeDecode.CrmHtmlEncode(value.toString());
        var $v_1 = '<div class=\"ms-crm-div-NotVisible\">{1}' + ((isSafari() || isFirefox()) ? '' : $v_0) + '</div>{0}';
        if (isChrome()) {
            $v_1 = '<div class=' + CrmEncodeDecode.CrmHtmlAttributeEncode('ms-crm-div-NotVisible ms-crm-div-NotSelectable') + '>{1}' + $v_0 + '</div>{0}';
        }
        var $v_2 = this.get_controlValue().id.toString().trim();
        var $v_3 = $v_2.replace(suffixValue(), '');
        this.get_controlValue().innerHTML = String.format($v_1, this.formatReadValue(value), CrmEncodeDecode.CrmHtmlEncode($v_3));
        this.get_controlValue().title = value;
    }
}


Mscrm.TurboForm.Control.View.TickerValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.TickerValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.TickerValueElement.prototype = {
    
    onClickHandler: function(domEvent) {
        if (!IsNull(domEvent.target) && domEvent.target.nodeName.toUpperCase() === 'A') {
            var $v_0 = this.$5_1.$4_2.getValue();
            this.launch($v_0);
            domEvent.stopPropagation();
            domEvent.preventDefault();
        }
    },
    
    launch: function(link) {
        if (!IsNull(link)) {
            var $v_0 = 'http://go.microsoft.com/fwlink?linkid=8506&clcid={1}&Symbol={0}&q={0}';
            var $v_1 = String.format($v_0, CrmEncodeDecode.CrmHtmlAttributeEncode(link), Xrm.Page.context.getUserLcid());
            window.open($v_1);
        }
    }
}


Mscrm.TurboForm.Control.View.InlineTimerControlCanceledView = function(timerControl) {
    Mscrm.TurboForm.Control.View.InlineTimerControlCanceledView.initializeBase(this, [ timerControl ]);
    this.$1w_0 = Xrm.Internal.getResourceString('LOCID_CANCEL_TOOLTIP');
}
Mscrm.TurboForm.Control.View.InlineTimerControlCanceledView.prototype = {
    
    render: function() {
        Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.prototype.render.call(this);
        this.updateTimerRow(Xrm.Internal.getResourceString('LOCID_TIMER_CANCELED'));
    }
}


Mscrm.TurboForm.Control.View.InlineTimerControlFailureView = function(timerControl) {
    Mscrm.TurboForm.Control.View.InlineTimerControlFailureView.initializeBase(this, [ timerControl ]);
    this.$1w_0 = Xrm.Internal.getResourceString('LOCID_FAIL_TOOLTIP');
    this.$2u_0 = 'TimerControlTimerRow-Failed';
}
Mscrm.TurboForm.Control.View.InlineTimerControlFailureView.prototype = {
    
    render: function() {
        this.$1s_0 = '/_imgs/timercontrol/timer_expired_16.png';
        Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.prototype.render.call(this);
        this.updateTimerRow(Xrm.Internal.getResourceString('LOCID_TIMER_FAILED'));
    }
}


Mscrm.TurboForm.Control.View.InlineTimerControlInProgressView = function(timerControl) {
    Mscrm.TurboForm.Control.View.InlineTimerControlInProgressView.initializeBase(this, [ timerControl ]);
    this.$5G_0 = false;
    this.$1w_0 = Xrm.Internal.getResourceString('LOCID_INPROG_TOOLTIP');
    this.$2o_0 = Xrm.Internal.getResourceString('LOCID_INPROG_IMG_ALTTEXT');
}
Mscrm.TurboForm.Control.View.InlineTimerControlInProgressView.prototype = {
    
    render: function() {
        Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.prototype.render.call(this);
        this.populateFields();
        this.tick();
    },
    
    tick: function() {
        if (IsNull(this.tick)) {
            return;
        }
        if (this.$5G_0) {
            this.$1v_0.$4D_4.innerHTML = '';
            this.$1v_0.$3N_4 = new Mscrm.TurboForm.Control.View.InlineTimerControlViolatedView(this.$1v_0);
            this.$1v_0.$3N_4.render();
        }
        else {
            this.updateTimerRow('');
            Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.prototype.tick.call(this);
        }
    }
}


Mscrm.TurboForm.Control.View.InlineTimerControlNoPrivilegeView = function(timerControl) {
    Mscrm.TurboForm.Control.View.InlineTimerControlNoPrivilegeView.initializeBase(this, [ timerControl ]);
    this.$1w_0 = Xrm.Internal.getResourceString('LOCID_NOPRIVILEGE_TOOLTIP');
}
Mscrm.TurboForm.Control.View.InlineTimerControlNoPrivilegeView.prototype = {
    
    render: function() {
        this.$1s_0 = '/_imgs/permission_key.png';
        Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.prototype.render.call(this);
        this.updateTimerRow(Xrm.Internal.getResourceString('LOCID_TIMER_NOPRIVILEGE'));
    }
}


Mscrm.TurboForm.Control.View.InlineTimerControlNotSetView = function(timerControl) {
    Mscrm.TurboForm.Control.View.InlineTimerControlNotSetView.initializeBase(this, [ timerControl ]);
    this.$1w_0 = Xrm.Internal.getResourceString('LOCID_NOTSET_TOOLTIP');
}
Mscrm.TurboForm.Control.View.InlineTimerControlNotSetView.prototype = {
    
    render: function() {
        Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.prototype.render.call(this);
        this.updateTimerRow(Xrm.Internal.getResourceString('LOCID_TIMER_NOTSET'));
    }
}


Mscrm.TurboForm.Control.View.InlineTimerControlPausedView = function(timerControl) {
    Mscrm.TurboForm.Control.View.InlineTimerControlPausedView.initializeBase(this, [ timerControl ]);
    this.$1w_0 = Xrm.Internal.getResourceString('LOCID_PAUSED_TOOLTIP');
    this.$2o_0 = Xrm.Internal.getResourceString('LOCID_PAUSED_IMG_ALTTEXT');
}
Mscrm.TurboForm.Control.View.InlineTimerControlPausedView.prototype = {
    
    render: function() {
        this.$1s_0 = '/_imgs/timercontrol/pause_16.png';
        Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.prototype.render.call(this);
        this.updateTimerRow(Xrm.Internal.getResourceString('LOCID_TIMER_PAUSED'));
    }
}


Mscrm.TurboForm.Control.View.InlineTimerControlSuccessView = function(timerControl) {
    Mscrm.TurboForm.Control.View.InlineTimerControlSuccessView.initializeBase(this, [ timerControl ]);
    this.$1w_0 = Xrm.Internal.getResourceString('LOCID_SUCC_TOOLTIP');
    this.$2u_0 = 'TimerControlTimerRow-Succeeded';
}
Mscrm.TurboForm.Control.View.InlineTimerControlSuccessView.prototype = {
    
    render: function() {
        this.$1s_0 = '/_imgs/timercontrol/timer_success_16.png';
        Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.prototype.render.call(this);
        this.updateTimerRow(Xrm.Internal.getResourceString('LOCID_TIMER_SUCCEEDED'));
    }
}


Mscrm.TurboForm.Control.View.InlineTimerControlViewBase = function(timerControl) {
    this.$$d_tick = Function.createDelegate(this, this.tick);
    this.$1v_0 = timerControl;
    this.$3v_0 = timerControl.get_isQuickViewForm();
    this.$1q_0 = this.$1v_0.$4D_4;
    this.$6u_0 = Xrm.Internal.getResourceString('LOCID_LABEL_TOOLTIP');
    this.$1s_0 = window.CDNURL + '/_imgs/imagestrips/transparent_spacer.gif';
    this.$2o_0 = '';
}
Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.prototype = {
    $1v_0: null,
    $1q_0: null,
    $Ah_0: null,
    $BC_0: null,
    $4k_0: 0,
    $6j_0: 0,
    $6y_0: 0,
    $7A_0: 0,
    $1s_0: null,
    $2o_0: null,
    $6u_0: null,
    $1w_0: null,
    $2u_0: null,
    $6a_0: false,
    $4p_0: true,
    $5G_0: false,
    $3v_0: false,
    
    get_timerControl: function() {
        return this.$1v_0;
    },
    
    set_timerControl: function(value) {
        this.$1v_0 = value;
        return value;
    },
    
    get_element: function() {
        return this.$1q_0;
    },
    
    set_element: function(value) {
        this.$1q_0 = value;
        return value;
    },
    
    get_labelRow: function() {
        return this.$Ah_0;
    },
    
    set_labelRow: function(value) {
        this.$Ah_0 = value;
        return value;
    },
    
    get_timerRow: function() {
        return this.$BC_0;
    },
    
    set_timerRow: function(value) {
        this.$BC_0 = value;
        return value;
    },
    
    get_days: function() {
        return this.$4k_0;
    },
    
    set_days: function(value) {
        this.$4k_0 = value;
        return value;
    },
    
    get_hours: function() {
        return this.$6j_0;
    },
    
    set_hours: function(value) {
        this.$6j_0 = value;
        return value;
    },
    
    get_minutes: function() {
        return this.$6y_0;
    },
    
    set_minutes: function(value) {
        this.$6y_0 = value;
        return value;
    },
    
    get_seconds: function() {
        return this.$7A_0;
    },
    
    set_seconds: function(value) {
        this.$7A_0 = value;
        return value;
    },
    
    get_imagePath: function() {
        return this.$1s_0;
    },
    
    set_imagePath: function(value) {
        this.$1s_0 = value;
        return value;
    },
    
    get_imageAltText: function() {
        return this.$2o_0;
    },
    
    set_imageAltText: function(value) {
        this.$2o_0 = value;
        return value;
    },
    
    get_timerTextClassName: function() {
        return this.$2u_0;
    },
    
    set_timerTextClassName: function(value) {
        this.$2u_0 = value;
        return value;
    },
    
    get_labelTooltip: function() {
        return this.$6u_0;
    },
    
    set_labelTooltip: function(value) {
        this.$6u_0 = value;
        return value;
    },
    
    get_timerTooltip: function() {
        return this.$1w_0;
    },
    
    set_timerTooltip: function(value) {
        this.$1w_0 = value;
        return value;
    },
    
    get_isQuickViewForm: function() {
        return this.$3v_0;
    },
    
    set_isQuickViewForm: function(value) {
        this.$3v_0 = value;
        return value;
    },
    
    get_disposed: function() {
        return this.$6a_0;
    },
    
    set_disposed: function(value) {
        this.$6a_0 = value;
        return value;
    },
    
    get_disabled: function() {
        return this.$4p_0;
    },
    
    set_disabled: function(value) {
        this.$4p_0 = value;
        return value;
    },
    
    get_isViolated: function() {
        return this.$5G_0;
    },
    
    set_isViolated: function(value) {
        this.$5G_0 = value;
        return value;
    },
    
    render: function() {
        this.setInnerHtml();
    },
    
    updateTimeDifferenceInSeconds: function() {
        var $v_0 = new Date();
        $v_0.setMinutes($v_0.getMinutes() + $v_0.getTimezoneOffset());
        var $v_1 = $v_0.toUTCString();
        var $v_2 = Math.floor((Date.parse(this.$1v_0.$2j_4) - Date.parse($v_1)) / 1000) + this.$1v_0.$3T_4;
        if ($v_2 <= 0) {
            this.$5G_0 = true;
        }
        return Math.abs($v_2);
    },
    
    populateFields: function() {
        var $v_0 = this.updateTimeDifferenceInSeconds();
        this.$4k_0 = Math.floor($v_0 / 86400);
        $v_0 = $v_0 % 86400;
        this.$6j_0 = Math.floor($v_0 / 3600);
        $v_0 = $v_0 % 3600;
        this.$6y_0 = Math.floor($v_0 / 60);
        $v_0 = $v_0 % 60;
        this.$7A_0 = Math.floor($v_0);
    },
    
    $9O_0: function($p0, $p1, $p2) {
        var $v_0 = '<abbr title=\'{0}\'>{1}</abbr>';
        var $v_1 = String.format($v_0, $p1, CrmEncodeDecode.CrmHtmlEncode($p0));
        return String.format(Xrm.Internal.getResourceString('LOCID_TIMER_GEN_PATTERN'), $p2, $v_1);
    },
    
    getTimeString: function() {
        this.populateFields();
        var $v_0 = new Sys.StringBuilder();
        var $v_1 = this.$9O_0(Xrm.Internal.getResourceString('LOCID_TIMER_SECONDS'), Xrm.Internal.getResourceString('LOCID_TIMER_SECONDS_FULL'), this.$7A_0.toString());
        var $v_2 = this.$9O_0(Xrm.Internal.getResourceString('LOCID_TIMER_MINUTES'), Xrm.Internal.getResourceString('LOCID_TIMER_MINUTES_FULL'), this.$6y_0.toString());
        var $v_3 = this.$9O_0(Xrm.Internal.getResourceString('LOCID_TIMER_HOURS'), Xrm.Internal.getResourceString('LOCID_TIMER_HOURS_FULL'), this.$6j_0.toString());
        var $v_4 = String.format(Xrm.Internal.getResourceString('LOCID_TIMER_HMS'), $v_3, $v_2, $v_1);
        if (!this.$4k_0) {
            $v_0.append($v_4);
        }
        else {
            var $v_5 = this.$9O_0(Xrm.Internal.getResourceString('LOCID_TIMER_DAYS'), Xrm.Internal.getResourceString('LOCID_TIMER_DAYS_FULL'), this.$4k_0.toString());
            $v_0.append(String.format(Xrm.Internal.getResourceString('LOCID_TIMER_TIMEFULL'), $v_5, $v_4));
        }
        return $v_0.toString();
    },
    
    updateTimerRow: function(status) {
        var $v_0 = XUI.Html.DomUtils.GetChildElementAt(this.$1q_0, 1);
        if (!isNullOrEmptyString(status)) {
            $v_0.parentNode.setAttribute('aria-live', 'polite');
            $v_0.innerHTML = status;
        }
        else {
            $v_0.parentNode.setAttribute('role', 'timer');
            $v_0.innerHTML = this.getTimeString();
        }
    },
    
    setInnerHtml: function() {
        if (!isNullOrEmptyString(this.$1q_0.innerHTML)) {
            this.$1q_0.innerHTML = '';
        }
        var $v_0 = document.createElement('span');
        $v_0.className = 'ms-crm-InlineTimerControl-Icon';
        if (!isNullOrEmptyString(this.$1s_0)) {
            var $v_3 = Mscrm.ImageStrip.getImage(Mscrm.CrmUri.create(this.$1s_0));
            $v_3.setAttribute('alt', this.$2o_0);
            $v_0.appendChild($v_3);
        }
        else {
            $v_0.innerHTML = ' ';
        }
        var $v_1 = document.createElement('span');
        $v_1.innerHTML = '';
        $v_1.className = 'TimerControlTimerRow ms-crm-InlineTimerControl-Time';
        if (!isNullOrEmptyString(this.$2u_0)) {
            Sys.UI.DomElement.addCssClass($v_1, this.$2u_0);
        }
        this.$1q_0.appendChild($v_0);
        this.$1q_0.appendChild($v_1);
        Sys.UI.DomElement.addCssClass(this.$1q_0.parentNode.parentNode, 'ms-crm-InlineTimerControl');
        this.$1q_0.parentNode.parentNode.setAttribute('title', this.$1w_0);
        var $v_2 = XUI.Html.DomUtils.GetPrevSibling(this.$1q_0.parentNode.parentNode);
        Sys.UI.DomElement.addCssClass($v_2, 'ms-crm-InlineTimerControl TimerControlLabel');
        $v_2.setAttribute('title', String.format(this.$6u_0, XUI.Html.GetText($v_2)));
        $v_2.setAttribute('aria-label', XUI.Html.GetText($v_2));
    },
    
    tick: function() {
        window.setTimeout(this.$$d_tick, 1000);
    },
    
    dispose: function() {
        if (this.$6a_0) {
            return;
        }
        this.$6a_0 = true;
        this.$1v_0.$4D_4.innerHTML = '';
        Mscrm.Utilities.destroyObject(this);
    }
}


Mscrm.TurboForm.Control.View.InlineTimerControlViolatedView = function(timerControl) {
    Mscrm.TurboForm.Control.View.InlineTimerControlViolatedView.initializeBase(this, [ timerControl ]);
    this.$1w_0 = Xrm.Internal.getResourceString('LOCID_VIOL_TOOLTIP');
    this.$2o_0 = Xrm.Internal.getResourceString('LOCID_VIOL_IMG_ALTTEXT');
    this.$2u_0 = 'TimerControlTimerRow-Expired';
}
Mscrm.TurboForm.Control.View.InlineTimerControlViolatedView.prototype = {
    
    render: function() {
        this.$1s_0 = '/_imgs/timercontrol/timer_expired_16.png';
        Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.prototype.render.call(this);
        this.populateFields();
        this.tick();
    },
    
    tick: function() {
        if (IsNull(this.tick)) {
            return;
        }
        this.updateTimerRow('');
        Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.prototype.tick.call(this);
    }
}


Mscrm.TurboForm.Control.View.InlineTimerControlWarningView = function(timerControl) {
    Mscrm.TurboForm.Control.View.InlineTimerControlWarningView.initializeBase(this, [ timerControl ]);
    this.$2o_0 = Xrm.Internal.getResourceString('LOCID_WARN_IMG_ALTTEXT');
    this.$2u_0 = 'TimerControlTimerRow-Warning';
}
Mscrm.TurboForm.Control.View.InlineTimerControlWarningView.prototype = {
    
    render: function() {
        this.$1s_0 = '/_imgs/timercontrol/timer_nearing_expiration_16.png';
        Mscrm.TurboForm.Control.View.InlineTimerControlInProgressView.prototype.render.call(this);
        this.updateTimerRow('');
    }
}


Mscrm.TurboForm.Control.View.TimerValueElement = function(controlView) {
    Mscrm.TurboForm.Control.View.TimerValueElement.initializeBase(this, [ controlView ]);
}
Mscrm.TurboForm.Control.View.TimerValueElement.prototype = {
    
    bind: function(container) {
        (this.$5_1.$6_2).$4D_4 = container;
        var $$t_2 = this;
        this.$5_1.$6_2.$G_2.addOnLoadInternal((function($p1_0) {
            ($$t_2.$5_1.$6_2).initializeTimerControl();
            $$t_2.$KB_2();
        }));
    },
    
    $KB_2: function() {
        (this.$5_1.$6_2).refresh();
    },
    
    unbind: function() {
    }
}


Mscrm.TurboForm.Control.View.ValueElementBase = function(controlView) {
    Mscrm.TurboForm.Control.View.ValueElementBase.initializeBase(this);
    this.set_format('none');
    this.$5_1 = controlView;
}
Mscrm.TurboForm.Control.View.ValueElementBase.prototype = {
    $1E_1: '--',
    $14_1: null,
    $11_1: null,
    $5_1: null,
    
    get_controlView: function() {
        return this.$5_1;
    },
    
    get_emptyValuePlaceholder: function() {
        return this.$1E_1;
    },
    
    set_emptyValuePlaceholder: function(value) {
        this.$1E_1 = value;
        return value;
    },
    
    get_format: function() {
        return this.$11_1;
    },
    
    set_format: function(value) {
        switch (value) {
            case 'duration':
                this.$14_1 = Mscrm.TurboForm.Control.View.DurationFormatter.get_instance();
                this.$11_1 = 'duration';
                break;
            case 'datetime':
                this.$14_1 = Mscrm.TurboForm.Control.View.DateFormatter.get_instance();
                this.$11_1 = 'datetime';
                break;
            case 'date':
                this.$14_1 = Mscrm.TurboForm.Control.View.DateFormatter.get_instance();
                this.$11_1 = 'date';
                break;
            case 'phone':
                this.$14_1 = Mscrm.TurboForm.Control.View.DefaultFormatter.get_instance();
                this.$11_1 = 'phone';
                break;
            case 'textarea':
                this.$14_1 = Mscrm.TurboForm.Control.View.TextAreaFormatter.get_instance();
                this.$11_1 = 'textarea';
                break;
            case 'none':
            default:
                this.$14_1 = Mscrm.TurboForm.Control.View.DefaultFormatter.get_instance();
                this.$11_1 = 'none';
                break;
        }
        return value;
    },
    
    get_formatter: function() {
        return this.$14_1;
    },
    
    set_formatter: function(value) {
        this.$14_1 = value;
        return value;
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(7)) {
            this.set_format(propertyBag.getPropertyData(7));
        }
    },
    
    displaySecuredValue: function() {
    },
    
    setValue: function(value) {
    },
    
    formatReadValue: function(rawValue) {
        if (IsNull(rawValue) || IsNullOrEmptyString(rawValue.toString())) {
            return this.$1E_1;
        }
        var $v_0 = {};
        if (!IsNull(this.$5_1.$4_2)) {
            var $v_1 = this.$5_1.$4_2.getAttributeType();
            if ($v_1 === 'decimal' || $v_1 === 'double' || $v_1 === 'money') {
                $v_0['precision'] = (this.$5_1.$4_2).getPrecision();
            }
            if ($v_1 === 'money') {
                $v_0['symbol'] = (this.$5_1.$4_2).get_currencySymbol();
            }
        }
        return this.$14_1.formatValue(rawValue, $v_0);
    },
    
    processValue: function(rawValue) {
        return (IsNull(rawValue)) ? '' : rawValue.toString();
    }
}


Mscrm.TurboForm.Control.View.ControlLayoutFactory = function() {
}
Mscrm.TurboForm.Control.View.ControlLayoutFactory.createControlLayout = function(controlDescriptor) {
    var $v_0 = null;
    var $v_1 = controlDescriptor.ControlLayout;
    switch ($v_1) {
        case 1:
            if (controlDescriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.textAreaControl)) {
                $v_0 = new Mscrm.TurboForm.Control.View.ProcessControlTextAreaLayout();
            }
            else if (controlDescriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.picklistControl) || controlDescriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.picklistStatusControl) || controlDescriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.timeZonePicklistControl) || controlDescriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.languagePicker)) {
                $v_0 = new Mscrm.TurboForm.Control.View.ProcessControlOptionSetLayout();
            }
            else {
                $v_0 = new Mscrm.TurboForm.Control.View.ProcessControlLayout();
            }
            break;
        case 2:
            $v_0 = Mscrm.TurboForm.Control.View.ControlLayoutFactory.$GZ(controlDescriptor.ClassId);
            break;
        case 0:
        default:
            if (controlDescriptor.ClassId.equals(Mscrm.TurboForm.Common.FormControlClassId.textAreaControl)) {
                $v_0 = new Mscrm.TurboForm.Control.View.TextAreaLayout();
            }
            break;
    }
    return $v_0;
}
Mscrm.TurboForm.Control.View.ControlLayoutFactory.$GZ = function($p0) {
    switch ('{' + $p0.toString().toUpperCase() + '}') {
        case '{3EF39988-22BB-4F0B-BBBE-64B5A3748AEE}':
        case '{5D68B988-0661-4DB2-BC3E-17598AD3BE6C}':
        case '{7C624A0B-F59E-493D-9583-638D34759266}':
        case '{671A9387-CA5A-4D1E-8AB7-06E39DDCF6B5}':
            return new Mscrm.TurboForm.Control.View.HeaderTileOptionSetLayout();
        case '{B0C6723A-8503-4FD7-BB28-C8A06AC933C2}':
            return new Mscrm.TurboForm.Control.View.HeaderCheckBoxControlLayout();
        default:
            return new Mscrm.TurboForm.Control.View.HeaderTileLayout();
    }
}


Mscrm.TurboForm.Control.View.HeaderCheckBoxControlLayout = function() {
    Mscrm.TurboForm.Control.View.HeaderCheckBoxControlLayout.initializeBase(this);
}
Mscrm.TurboForm.Control.View.HeaderCheckBoxControlLayout.prototype = {
    
    applyEditLayout: function(editableControlView) {
        var $$t_3 = this;
        editableControlView.$3F_4 = function($p1_0) {
        };
        var $$t_4 = this;
        editableControlView.$X_4 = function($p1_0) {
        };
    }
}


Mscrm.TurboForm.Control.View.HeaderTileLayout = function() {
    Mscrm.TurboForm.Control.View.HeaderTileLayout.initializeBase(this);
}
Mscrm.TurboForm.Control.View.HeaderTileLayout.prototype = {
    
    applyReadLayout: function(readControlView) {
        if (readControlView.$I_3.children[0]) {
            Sys.UI.DomElement.addCssClass(readControlView.$I_3.children[0], 'ms-crm-HeaderTile');
        }
    },
    
    applyEditLayout: function(editableControlView) {
        Sys.UI.DomElement.addCssClass(editableControlView.$h_4, 'ms-crm-HeaderTile');
        var $$t_5 = this;
        editableControlView.$3z_4 = function($p1_0) {
            var $v_0 = $$t_5.$E9_1(editableControlView.$I_3);
            if (!IsNull($v_0)) {
                Sys.UI.DomElement.addCssClass($v_0, 'ms-crm-Inline-EditHintState');
            }
        };
        var $$t_6 = this;
        editableControlView.$3y_4 = function($p1_0) {
            var $v_1 = $$t_6.$E9_1(editableControlView.$I_3);
            if (!IsNull($v_1)) {
                Sys.UI.DomElement.removeCssClass($v_1, 'ms-crm-Inline-EditHintState');
            }
        };
    },
    
    $E9_1: function($p0) {
        var $v_0 = $p0.id + '_d';
        var $v_1 = $get($v_0);
        if (Mscrm.InternalUtilities.JSTypes.isNull($v_1)) {
            return null;
        }
        return $v_1.parentNode;
    }
}


Mscrm.TurboForm.Control.View.HeaderTileOptionSetLayout = function() {
    this.$$d_$KG_2 = Function.createDelegate(this, this.$KG_2);
    this.$$d_$Fi_2 = Function.createDelegate(this, this.$Fi_2);
    Mscrm.TurboForm.Control.View.HeaderTileOptionSetLayout.initializeBase(this);
}
Mscrm.TurboForm.Control.View.HeaderTileOptionSetLayout.prototype = {
    $1p_2: null,
    $1d_2: null,
    
    internalDispose: function() {
        if (this.$1p_2) {
            this.$1p_2.unbind('state-edit', this.$$d_$Fi_2);
            this.$1p_2.unbind('state-read', this.$$d_$KG_2);
            this.$1p_2 = null;
        }
        this.$1d_2 = null;
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    applyEditLayout: function(editableControlView) {
        Mscrm.TurboForm.Control.View.HeaderTileLayout.prototype.applyEditLayout.call(this, editableControlView);
        if (!window.UseTabletExperience) {
            this.$1d_2 = $P_CRM(editableControlView.$I_3).parents('div');
            this.$1p_2 = $P_CRM(editableControlView.$h_4);
            this.$1p_2.bind('state-edit', this.$$d_$Fi_2);
            this.$1p_2.bind('state-read', this.$$d_$KG_2);
        }
    },
    
    $Fi_2: function($p0) {
        this.$1d_2.addClass('noScroll');
    },
    
    $KG_2: function($p0) {
        this.$1d_2.removeClass('noScroll');
    }
}


Mscrm.TurboForm.Control.View.ProcessControlLayout = function() {
    Mscrm.TurboForm.Control.View.ProcessControlLayout.initializeBase(this);
}
Mscrm.TurboForm.Control.View.ProcessControlLayout.prototype = {
    
    applyReadLayout: function(readControlView) {
        var $v_0 = '--';
        $v_0 = window.LOCID_IEC_CLICKTOENTER;
        readControlView.set_emptyValuePlaceholder($v_0);
    },
    
    applyEditLayout: function(editableControlView) {
    }
}


Mscrm.TurboForm.Control.View.ProcessControlOptionSetLayout = function() {
    Mscrm.TurboForm.Control.View.ProcessControlOptionSetLayout.initializeBase(this);
}
Mscrm.TurboForm.Control.View.ProcessControlOptionSetLayout.prototype = {
    $1p_2: null,
    $1d_2: null,
    
    internalDispose: function() {
        if (this.$1p_2) {
            this.$1p_2 = null;
        }
        this.$1d_2 = null;
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    applyEditLayout: function(editableControlView) {
        Mscrm.TurboForm.Control.View.ProcessControlLayout.prototype.applyEditLayout.call(this, editableControlView);
        if (!window.UseTabletExperience) {
            this.$1d_2 = $P_CRM(editableControlView.$I_3).parents('div');
            this.$1p_2 = $P_CRM(editableControlView.$h_4);
        }
    }
}


Mscrm.TurboForm.Control.View.ProcessControlTextAreaLayout = function() {
    this.$$d_$Ix_2 = Function.createDelegate(this, this.$Ix_2);
    this.$$d_$J7_2 = Function.createDelegate(this, this.$J7_2);
    Mscrm.TurboForm.Control.View.ProcessControlTextAreaLayout.initializeBase(this);
}
Mscrm.TurboForm.Control.View.ProcessControlTextAreaLayout.prototype = {
    $58_2: false,
    $17_2: null,
    $3P_2: null,
    $1d_2: null,
    $19_2: null,
    
    get_$Dh_2: function() {
        if (!this.$1d_2) {
            Mscrm.CrmDebug.assert(!!this.$17_2, '_containerElement should be initialized in Initialize() method.');
            this.$1d_2 = this.$17_2.parents('div');
        }
        return this.$1d_2;
    },
    
    $9V_2: function($p0) {
        if (!this.$58_2) {
            this.$17_2 = $P_CRM($p0.$I_3);
            this.$3P_2 = this.$17_2.parent();
            this.$58_2 = true;
        }
    },
    
    internalDispose: function() {
        if (this.$19_2) {
            this.$19_2.unbind();
            this.$19_2 = null;
        }
        this.$17_2 = null;
        this.$3P_2 = null;
        this.$1d_2 = null;
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    applyReadLayout: function(readControlView) {
        Mscrm.TurboForm.Control.View.ProcessControlLayout.prototype.applyReadLayout.call(this, readControlView);
        this.$9V_2(readControlView);
        this.$3P_2.addClass('inlineTextAreaContainer');
    },
    
    applyEditLayout: function(editableControlView) {
        Mscrm.TurboForm.Control.View.ProcessControlLayout.prototype.applyEditLayout.call(this, editableControlView);
        this.$9V_2(editableControlView);
        this.$19_2 = $P_CRM(editableControlView.$h_4).find('textarea');
        this.$19_2.focus(this.$$d_$J7_2);
        this.$19_2.blur(this.$$d_$Ix_2);
    },
    
    $J7_2: function($p0) {
        if ($P_CRM($p0.target).is(':focus')) {
            return;
        }
        this.get_$Dh_2().addClass('noScroll');
        this.$3P_2.addClass('inEdit');
        this.$3P_2.trigger('stepControlWiden', [ 100 ]);
        this.$17_2.addClass('inEdit');
    },
    
    $Ix_2: function($p0) {
        this.$17_2.removeClass('inEdit');
        this.$3P_2.trigger('stepControlNarrow');
        this.$3P_2.removeClass('inEdit');
        this.get_$Dh_2().removeClass('noScroll');
    }
}


Mscrm.TurboForm.Control.View.TextAreaLayout = function() {
    this.$$d_$LI_1 = Function.createDelegate(this, this.$LI_1);
    this.$$d_$LH_1 = Function.createDelegate(this, this.$LH_1);
    this.$$d_$Fb_1 = Function.createDelegate(this, this.$Fb_1);
    Mscrm.TurboForm.Control.View.TextAreaLayout.initializeBase(this);
}
Mscrm.TurboForm.Control.View.TextAreaLayout.prototype = {
    $58_1: false,
    $17_1: null,
    $P_1: null,
    $1K_1: null,
    $19_1: null,
    $4p_1: false,
    $6n_1: false,
    $Ad_1: false,
    
    $9V_1: function($p0) {
        if (!this.$58_1) {
            this.$17_1 = $P_CRM($p0.$I_3);
            this.$P_1 = $P_CRM($p0.$a_3);
            this.$1K_1 = this.$17_1.parents(String.format('.{0}', 'ms-crm-Field-Data-Print')).first();
            var $v_0 = this.$17_1.parents(String.format('.{0}', 'ms-crm-InlineTabContainer-Read'));
            var $v_1 = $v_0.attr('isquickform');
            this.$Ad_1 = !isNullOrEmptyString($v_1) && $v_1.toUpperCase() === 'TRUE';
            this.$4p_1 = $p0.$Q_3.Disabled;
            if (!IsNull(this.$1K_1) && this.$1K_1.length > 0) {
                var $v_2 = this.$17_1.attr('hasCompositeData');
                var $v_3 = !isNullOrEmptyString($v_2) && $v_2.toUpperCase() === 'TRUE';
                var $v_4 = this.$1K_1.attr('isautoexpanding');
                this.$6n_1 = $v_3 || (!isNullOrEmptyString($v_4) && $v_4.toUpperCase() === 'TRUE');
                if (!this.$6n_1) {
                    var $v_5 = $P_CRM(String.format('.{0}', 'ms-crm-Inline-GradientMask'), this.$P_1);
                    if (!IsNull($v_5) && $v_5.length === 1) {
                        $v_5.hide();
                    }
                }
            }
            this.$58_1 = true;
        }
    },
    
    internalDispose: function() {
        if (this.$19_1) {
            this.$19_1.unbind();
            this.$19_1 = null;
        }
        $P_CRM(window).unbind('resize', this.$$d_$Fb_1);
        this.$17_1 = null;
        this.$P_1 = null;
        this.$1K_1 = null;
        Mscrm.TurboForm.Control.DisposableBase.prototype.internalDispose.call(this);
    },
    
    applyReadLayout: function(readControlView) {
        this.$9V_1(readControlView);
        if (this.$1K_1.length === 1) {
            var $v_0 = this.$1K_1.attr('data-height');
            if (!isNullOrEmptyString($v_0)) {
                this.$1K_1.css('height', 'auto');
                this.$17_1.css('height', 'auto').css('overflow', '');
                if (!this.$6n_1 && !this.$Ad_1) {
                    this.$P_1.css('max-height', $v_0 + 'px');
                    this.$P_1.css('overflow', 'auto');
                }
                else {
                    this.$P_1.css('min-height', $v_0 + 'px');
                }
            }
        }
        else if ($v()) {
            this.$17_1.height('auto').css('overflow', '');
            this.$P_1.css('min-height', '50px');
        }
    },
    
    applyEditLayout: function(editableControlView) {
        this.$9V_1(editableControlView);
        this.$19_1 = $P_CRM(editableControlView.$h_4).find('textarea');
        if (this.$1K_1.length === 1) {
            var $v_0 = this.$1K_1.attr('data-height');
            if (!isNullOrEmptyString($v_0)) {
                this.$19_1.css('min-height', $v_0 + 'px').css('overflow', 'auto');
            }
        }
        this.$19_1.focus(this.$$d_$LH_1);
        this.$19_1.blur(this.$$d_$LI_1);
        $P_CRM(window).bind('resize', this.$$d_$Fb_1);
    },
    
    $LH_1: function($p0) {
        var $v_0 = (window.UseTabletExperience) ? 240 : this.$P_1.height();
        this.$19_1.css('height', $v_0 + 'px');
        this.$DJ_1();
    },
    
    $LI_1: function($p0) {
        if (this.$6n_1) {
            this.$19_1.css('height', 'auto');
        }
    },
    
    $Fb_1: function($p0) {
        this.$DJ_1();
    },
    
    $DJ_1: function() {
        var $v_0;
        if (this.get_$Hy_1()) {
            $v_0 = (this.$4p_1) ? 12 : 35;
        }
        else {
            if ($v()) {
                $v_0 = 135;
            }
            else {
                $v_0 = 35;
            }
        }
        this.$19_1.css('width', this.$17_1.width() - $v_0 + 'px');
    },
    
    get_$Hy_1: function() {
        if (IsNull(this.$1K_1)) {
            var $v_0 = this.$17_1;
            this.$1K_1 = $v_0.parents('.ms-crm-Inline-DynamicGutter');
        }
        return !IsNull(this.$1K_1) && this.$1K_1.length > 0;
    }
}


Mscrm.TurboForm.Control.View.RollupLayout = function() {
    Mscrm.TurboForm.Control.View.RollupLayout.initializeBase(this);
}
Mscrm.TurboForm.Control.View.RollupLayout.prototype = {
    $8k_1: null,
    $81_1: null,
    
    get_$Gn_1: function() {
        if (Mscrm.InternalUtilities.Utilities.isHighContrastEnabled()) {
            return '/_imgs/sfa/refresh_high_contrast_16.png';
        }
        else {
            return '/_imgs/sfa/rollup_refresh.png';
        }
    },
    
    $K7_1: function($p0, $p1) {
        var $v_0 = Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create($p0));
        return String.format($p1, CrmEncodeDecode.CrmHtmlAttributeEncode($v_0.source), CrmEncodeDecode.CrmHtmlAttributeEncode($v_0.cssClass + ' ' + 'rollup refreshImage refresh'), CrmEncodeDecode.CrmHtmlAttributeEncode(window.LOCID_ROLLUP_CALCULATE_TOOLTIP));
    },
    
    get_$Gm_1: function() {
        return this.$K7_1(this.get_$Gn_1(), '<div class=\"rollup recalculate\"><a class=\"rolluprefreshPostsLink\" href=\"#\" onClick=\"return false;\"><img src=\"{0}\" class=\"{1}\" title=\"{2}\" id=\"refreshIcon\"/></a></div>');
    },
    
    applyReadLayout: function(readControlView) {
        var $v_0 = $P_CRM(readControlView.$a_3);
        var $v_1 = $v_0.children('span');
        var $v_2 = $v_0.children('label');
        $v_2.detach();
        var $v_3 = true;
        var $v_4 = (!readControlView.$4_2.getParent()) ? null : readControlView.$4_2.getParent().getId();
        var $v_5 = readControlView.getKey();
        if (!$v_5.startsWith('header')) {
            $v_0.addClass('rollup Inline-value-alignment');
            if (((Xrm.Page.context.client.getClient() === 'Outlook') && (Xrm.Page.context.client.getClientState() === 'Offline')) || (!IsNull(readControlView.$4_2.getParent()) && !IsNull(readControlView.$4_2.getParent().$K_1) && readControlView.$4_2.getParent().$K_1.$8_1 !== Mscrm.TurboForm.Control.PageManager.get_instance().$L_1) || (!readControlView.$4_2.getUserPrivilege().canRead) || readControlView.$4_2.getSourceTypeMask() === 32 || readControlView.$4_2.getIsRollupInvalid() || IsNullOrEmptyString($v_4)) {
                $v_3 = false;
            }
        }
        if (window.LOCID_UI_DIR === 'RTL' && (readControlView.$4_2.getAttributeType() === 'money' || $v_5.startsWith('header'))) {
            $v_1.first().append(this.get_$DZ_1());
            $v_1.first().append($v_2);
        }
        else {
            $v_1.first().prepend(this.get_$DZ_1());
            $v_1.first().append($v_2);
        }
        if ($v_3) {
            if (window.LOCID_UI_DIR === 'RTL' && !$v_5.startsWith('header')) {
                $v_1.first().prepend(this.get_$Ev_1());
            }
            else {
                $v_1.first().append(this.get_$Ev_1());
            }
        }
        if (this.get_$LA_1()) {
        }
        Mscrm.CrmHeader.setScriptFile(Mscrm.CrmUri.create('/_static/_controls/datetime/time.js'));
    },
    
    applyEditLayout: function(editableControlView) {
    },
    
    get_$Ev_1: function() {
        if (IsNull(this.$8k_1)) {
            this.$8k_1 = $P_CRM(this.get_$Gm_1());
        }
        return this.$8k_1;
    },
    
    get_$DZ_1: function() {
        if (IsNull(this.$81_1)) {
            this.$81_1 = $P_CRM('<div style=\"display:inline;\"><img src=\"/_imgs/sfa/recalculate_16.png\" id=\"calculator\" alt=\"\" class=\"calculateImage\"></div>');
        }
        return this.$81_1;
    },
    
    get_$LA_1: function() {
        if (!Mscrm.InternalUtilities.Utilities.isHighContrastEnabled() && !window.IsMobileRefresh) {
            return true;
        }
        return false;
    }
}


Mscrm.TurboForm.Control.View.UrlEditableControlView = function(descriptor) {
    Mscrm.TurboForm.Control.View.UrlEditableControlView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.UrlEditableControlView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.urlControl, Mscrm.TurboForm.Control.View.UrlEditableControlView.$96, false);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.emailAddressControl, Mscrm.TurboForm.Control.View.UrlEditableControlView.$96, false);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.phoneNumberControl, Mscrm.TurboForm.Control.View.UrlEditableControlView.$96, false);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.tickerControl, Mscrm.TurboForm.Control.View.UrlEditableControlView.$96, false);
}
Mscrm.TurboForm.Control.View.UrlEditableControlView.$96 = function($p0) {
    var $v_0 = new Mscrm.TurboForm.Control.View.UrlEditableControlView($p0);
    $v_0.$T_4 = Mscrm.TurboForm.Control.View.EditableControlView.buildEditElement($p0, $v_0);
    $v_0.$P_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildValueElement($p0, $v_0);
    $v_0.$2t_3 = Mscrm.TurboForm.Control.View.ReadControlView.buildRollupValueElement($v_0);
    return $v_0;
}
Mscrm.TurboForm.Control.View.UrlEditableControlView.prototype = {
    
    onEditModeEnterKeyDown: function(evt) {
        if (evt.ctrlKey) {
            (this.$P_3).launch((this.$T_4).get_value());
            evt.stopPropagation();
            evt.preventDefault();
        }
        else {
            Mscrm.TurboForm.Control.View.EditableControlView.prototype.onEditModeEnterKeyDown.call(this, evt);
        }
    }
}


Mscrm.TurboForm.Control.View.WebResourceView = function(descriptor) {
    this.$$d_$Fb_3 = Function.createDelegate(this, this.$Fb_3);
    Mscrm.TurboForm.Control.View.WebResourceView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.WebResourceView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.webResourceImageControl, Mscrm.TurboForm.Control.View.WebResourceView.$5o);
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.webResourceHtmlControl, Mscrm.TurboForm.Control.View.WebResourceView.$5o);
}
Mscrm.TurboForm.Control.View.WebResourceView.$5o = function($p0) {
    return new Mscrm.TurboForm.Control.View.WebResourceView($p0);
}
Mscrm.TurboForm.Control.View.WebResourceView.prototype = {
    $2W_3: null,
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.bindInternal.call(this);
        this.$2W_3 = $get(this.getKey());
        $P_CRM(window).bind('resize', this.$$d_$Fb_3);
    },
    
    unbindInternal: function() {
        this.$2W_3 = null;
        $P_CRM(window).unbind('resize', this.$$d_$Fb_3);
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(17)) {
            var $v_0 = (IsNull(propertyBag.getPropertyData(17))) ? '' : propertyBag.getPropertyData(17);
            if (this.$2W_3.tagName.toUpperCase() === 'IFRAME') {
                (this.$2W_3).contentWindow.location.replace($v_0);
            }
            else {
                this.$2W_3.setAttribute('src', $v_0);
            }
            this.$2W_3.style.visibility = 'visible';
            this.$Ct_3(this.$2W_3);
        }
        else if (propertyBag.hasPropertyData(1)) {
            this.$Ct_3(this.$2W_3);
        }
    },
    
    $Fb_3: function($p0) {
        this.$Ct_3(this.$2W_3);
    },
    
    $Ct_3: function($p0) {
        var $v_0 = $p0.parentNode;
        var $v_1 = $v_0.clientWidth;
        var $v_2 = $v_0.clientHeight;
        if (!$v_1 || !$v_2) {
            var $v_3 = $v_0.parentNode;
            if ((!$v_3.clientWidth || !$v_3.clientHeight) && $v_3.tagName.toUpperCase() === 'TD') {
                if ($p0.tagName.toUpperCase() === 'IFRAME') {
                    $p0.style.height = $v_3.style.height;
                }
                $v_3.style.height = 'auto';
                $v_3.style.width = 'auto';
            }
            $v_1 = $v_3.clientWidth;
            $v_2 = $v_3.clientHeight;
        }
        if ($p0.tagName.toUpperCase() === 'IFRAME' && $v_2 > 0 && $v_1 > 0) {
            $p0.style.height = $v_2.toString() + 'px';
            $p0.style.width = $v_1.toString() + 'px';
        }
        else if ($p0.tagName.toUpperCase() !== 'IFRAME') {
            Mscrm.Utilities.processImageWebResource($p0);
        }
    }
}


Mscrm.TurboForm.Control.View.WebResourceSilverlightView = function(descriptor) {
    Mscrm.TurboForm.Control.View.WebResourceSilverlightView.initializeBase(this, [ descriptor ]);
}
Mscrm.TurboForm.Control.View.WebResourceSilverlightView.$$cctor = function() {
    Mscrm.TurboForm.Control.ControlBuilder.get_instance().registerViewBuilder(Mscrm.TurboForm.Common.FormControlClassId.webResourceSilverlightControl, Mscrm.TurboForm.Control.View.WebResourceSilverlightView.$5o);
}
Mscrm.TurboForm.Control.View.WebResourceSilverlightView.$5o = function($p0) {
    return new Mscrm.TurboForm.Control.View.WebResourceSilverlightView($p0);
}
Mscrm.TurboForm.Control.View.WebResourceSilverlightView.prototype = {
    $18_3: null,
    
    bindInternal: function() {
        Mscrm.TurboForm.Control.View.ControlViewBase.prototype.bindInternal.call(this);
        this.$18_3 = $get(String.format('{0}_object', this.getKey()));
    },
    
    unbindInternal: function() {
        this.$18_3 = null;
    },
    
    update: function(propertyBag) {
        if (propertyBag.hasPropertyData(17) && !IsNull(this.$18_3)) {
            var $v_0 = (IsNull(propertyBag.getPropertyData(17))) ? '' : propertyBag.getPropertyData(17);
            this.$18_3.setAttribute('Source', $v_0);
            if (!IsNull(this.$18_3.parentNode)) {
                this.$18_3.parentNode.style.visibility = 'visible';
                if (Mscrm.Utilities.isFirefox()) {
                    this.$18_3.style.height = this.$18_3.parentNode.clientHeight.toString() + 'px';
                    this.$18_3.style.width = this.$18_3.parentNode.clientWidth.toString() + 'px';
                }
                Mscrm.Utilities.setSilverlightControlSize(this.$18_3, $get(this.getKey()), false);
            }
        }
        if (propertyBag.hasPropertyData(18) && !IsNull(this.$18_3)) {
            var $v_1 = propertyBag.getPropertyData(18);
            this.setSilverlightData($v_1);
        }
        if (propertyBag.hasPropertyData(1) && !IsNull(this.$18_3)) {
            Mscrm.Utilities.setSilverlightControlSize(this.$18_3, $get(this.getKey()), false);
        }
    },
    
    setSilverlightData: function(data) {
        var $v_0 = this.$HU_3();
        if (!IsNullOrEmptyString($v_0)) {
            var $v_1 = false;
            var $v_2 = $v_0.split(',');
            for (var $v_3 = 0; $v_3 < $v_2.length; $v_3++) {
                if ($v_2[$v_3].startsWith('data=')) {
                    $v_1 = true;
                    if (IsNull(data)) {
                        Array.removeAt($v_2, $v_3);
                    }
                    else {
                        $v_2[$v_3] = 'data=' + data;
                    }
                    break;
                }
            }
            if ($v_1) {
                $v_0 = $v_2.join(',');
            }
            else if (!IsNull(data)) {
                $v_0 = $v_0 + ',' + 'data=' + data;
            }
        }
        else if (!IsNull(data)) {
            $v_0 = 'data=' + data;
        }
        this.$18_3.setAttribute('initParams', $v_0);
    },
    
    $HU_3: function() {
        var $v_0 = this.$18_3.getAttribute('initParams');
        if (IsNullOrEmptyString($v_0)) {
            $v_0 = this.$HN_3('initParams');
        }
        return $v_0;
    },
    
    $HN_3: function($p0) {
        var $v_0 = null;
        var $$t_4 = this;
        var $v_1 = function($p1_0) {
            if ($p0 === $p1_0.getAttribute('name')) {
                $v_0 = $p1_0.getAttribute('value');
                return true;
            }
            return false;
        };
        XUI.Html.DomUtils.ForEachChild(this.$18_3, $v_1);
        return $v_0;
    }
}


Type.registerNamespace('Mscrm.TurboForm.Views');

Mscrm.TurboForm.Views.LayoutFragmentCache = function() {
    this.$Be_0 = {};
}
Mscrm.TurboForm.Views.LayoutFragmentCache.prototype = {
    
    get_item: function($p0) {
        if (IsNull($p0)) {
            throw Error.argumentNull('key');
        }
        return this.$Be_0[$p0];
    },
    
    set_item: function($p0, $p1) {
        if (IsNull($p0)) {
            throw Error.argumentNull('key');
        }
        this.$Be_0[$p0] = $p1;
        return $p1;
    }
}


Mscrm.TurboForm.Views.LayoutFragmentCacheValue = function() {
}
Mscrm.TurboForm.Views.LayoutFragmentCacheValue.prototype = {
    $6H_0: null,
    
    get_fragment: function() {
        return this.$6H_0;
    },
    
    set_fragment: function($p0) {
        this.$6H_0 = $p0;
        return $p0;
    },
    
    $6N_0: null,
    
    get_version: function() {
        return this.$6N_0;
    },
    
    set_version: function($p0) {
        this.$6N_0 = $p0;
        return $p0;
    }
}


Mscrm.TurboForm.Views.LayoutRenderer = function() {
    this.$7k_0 = new Mscrm.TurboForm.Views.LayoutFragmentCache();
}
Mscrm.TurboForm.Views.LayoutRenderer.$GP = function($p0) {
    var $v_0 = Xrm.XrmPerformance.measureTime('Clear Layout', function() {
        $p0.innerHTML = '';
    });
}
Mscrm.TurboForm.Views.LayoutRenderer.$H1 = function($p0) {
    var $v_0 = document.createDocumentFragment();
    var $v_1 = document.createElement('div');
    $v_1.innerHTML = $p0;
    while ($v_1.hasChildNodes()) {
        var $v_2 = $v_1.removeChild($v_1.firstChild);
        $v_0.appendChild($v_2);
    }
    return $v_0;
}
Mscrm.TurboForm.Views.LayoutRenderer.$HX = function($p0, $p1, $p2) {
    var $v_0 = $p0.JQueryTemplates;
    for (var $v_1 = 0; $v_1 < $v_0.length; $v_1++) {
        var $v_2 = $v_0[$v_1];
        if ($v_2.Key === $p1) {
            return Mscrm.TurboForm.Control.PageBootstrapper.$KJ($p2, $p0.ClientVariables, $v_2.Value);
        }
    }
    Xrm.Internal.trace.errorT(Mscrm.TurboForm.Views.LayoutRenderer, 'Can not find layout template {0}', $p1);
    return 'TODO: Handle layout template not found.';
}
Mscrm.TurboForm.Views.LayoutRenderer.prototype = {
    
    renderLayout: function($p0, $p1, $p2, $p3) {
        if (IsNull($p0)) {
            throw Error.argumentNull('container');
        }
        if (IsNull($p1)) {
            throw Error.argumentNull('layoutUrl');
        }
        var $v_0 = this.$HW_0($p1, $p2);
        if (IsNull($v_0)) {
            $p0.innerHTML = $p3;
            this.$KX_0($p1, $p2, $p3);
        }
        else {
            Mscrm.TurboForm.Views.LayoutRenderer.$GP($p0);
            var $v_1 = $v_0.cloneNode(true);
            $p0.appendChild($v_1);
        }
    },
    
    $Ey_0: function($p0, $p1, $p2, $p3, $p4, $p5) {
        if (IsNull($p2)) {
            throw Error.argumentNull('templateName');
        }
        if (IsNull($p3)) {
            throw Error.argumentNull('layoutUrl');
        }
        if (IsNull($p4)) {
            throw Error.argumentNull('pageState');
        }
        if (IsNull($p5)) {
            throw Error.argumentNull('pageHeader');
        }
        var $$t_8 = this;
        Xrm.XrmPerformance.measureTime($p1, function() {
            $p4.templates = $p5.JQueryTemplates;
            var $v_0 = Mscrm.TurboForm.Views.LayoutRenderer.$HX($p5, $p2, $p4);
            var $v_1 = $get($p4.containerId);
            if (IsNull($v_1)) {
                Xrm.Internal.trace.warning($p0, 'Can not find page container \'{0}\'', $p4.containerId);
                return;
            }
            $$t_8.renderLayout($v_1, $p3, $p5.TokenTimestamp, $v_0);
        });
    },
    
    $KX_0: function($p0, $p1, $p2) {
        var $v_0 = this.$7k_0.get_item($p0);
        var $$t_6 = this;
        window.setTimeout(function() {
            var $v_1 = $$t_6.$7k_0.get_item($p0);
            if (!IsNull($v_1) && $v_1 !== $v_0) {
                return;
            }
            Xrm.Internal.trace.logT(Mscrm.TurboForm.Views.LayoutRenderer, 'Updating layout fragment cache to {0} for {1}', $p1, $p0);
            var $v_2 = new Mscrm.TurboForm.Views.LayoutFragmentCacheValue();
            $v_2.$6H_0 = Mscrm.TurboForm.Views.LayoutRenderer.$H1($p2);
            $v_2.$6N_0 = $p1;
            $$t_6.$7k_0.set_item($p0, $v_2);
        }, 4000);
    },
    
    $HW_0: function($p0, $p1) {
        var $v_0 = this.$7k_0.get_item($p0);
        if (IsNull($v_0) || $p1 !== $v_0.$6N_0) {
            Xrm.Internal.trace.logT(Mscrm.TurboForm.Views.LayoutRenderer, 'CACHE MISS: Fragment Layout Cache for {0}', $p0);
            return null;
        }
        else {
            Xrm.Internal.trace.logT(Mscrm.TurboForm.Views.LayoutRenderer, 'CACHE HIT: Fragment Layout Cache for {0}', $p0);
        }
        return $v_0.$6H_0;
    }
}


Mscrm.EnumOptionJsonWrapper.registerClass('Mscrm.EnumOptionJsonWrapper');
Mscrm.StatusOptionJsonWrapper.registerClass('Mscrm.StatusOptionJsonWrapper');
Mscrm.LeadFlyOutJsonWrapper.registerClass('Mscrm.LeadFlyOutJsonWrapper');
Mscrm.OpportunityFlyOutJsonWrapper.registerClass('Mscrm.OpportunityFlyOutJsonWrapper');
Mscrm.AccountFlyOutJsonWrapper.registerClass('Mscrm.AccountFlyOutJsonWrapper');
Mscrm.ContactFlyOutJsonWrapper.registerClass('Mscrm.ContactFlyOutJsonWrapper');
Mscrm.TelemetryConstants.registerClass('Mscrm.TelemetryConstants');
Mscrm.StateChangeEvents.registerClass('Mscrm.StateChangeEvents');
Mscrm.ProcessControlDataWrapper.registerClass('Mscrm.ProcessControlDataWrapper', Xrm.XrmProcessControlData);
Mscrm.ProcessControlUIWrapper.registerClass('Mscrm.ProcessControlUIWrapper', Xrm.XrmProcessControlUI);
Mscrm.InlineRelatedEntityLookupType.registerClass('Mscrm.InlineRelatedEntityLookupType');
Mscrm.CompositeLinkControl.registerClass('Mscrm.CompositeLinkControl');
Mscrm.AttributeFormat.registerClass('Mscrm.AttributeFormat');
Mscrm.AttributeBehavior.registerClass('Mscrm.AttributeBehavior');
Mscrm.SourceType.registerClass('Mscrm.SourceType');
Mscrm.SourceTypeMask.registerClass('Mscrm.SourceTypeMask');
Mscrm.HtmlAttributeNames.registerClass('Mscrm.HtmlAttributeNames');
Mscrm.EditEvents.registerClass('Mscrm.EditEvents');
Mscrm.CssClassNames.registerClass('Mscrm.CssClassNames');
Mscrm.HtmlElementNames.registerClass('Mscrm.HtmlElementNames');
Mscrm.ElementTemplate.registerClass('Mscrm.ElementTemplate');
Mscrm.SaveResponse.registerClass('Mscrm.SaveResponse');
Mscrm.SaveResponseCode.registerClass('Mscrm.SaveResponseCode');
Mscrm.LookupItemData.registerClass('Mscrm.LookupItemData');
Mscrm.LocalStorageNamespace.registerClass('Mscrm.LocalStorageNamespace', null, Mscrm.Caching.IStringCache, Mscrm.Caching.IKeyValueCache$2.$$(String, String));
Mscrm.PartyLookupItemData.registerClass('Mscrm.PartyLookupItemData');
Mscrm.ResolvedPartyData.registerClass('Mscrm.ResolvedPartyData');
Mscrm.ServiceNames.registerClass('Mscrm.ServiceNames');
Mscrm.TurboForm.Control.DisposableBase.registerClass('Mscrm.TurboForm.Control.DisposableBase', null, Mscrm.TurboForm.Control.IDisposable);
Mscrm.DeferredInitializationManager.registerClass('Mscrm.DeferredInitializationManager', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.DeferredInitializationEntry.registerClass('Mscrm.DeferredInitializationEntry');
Mscrm.FormatEventArgs.registerClass('Mscrm.FormatEventArgs', Sys.EventArgs);
Mscrm.HtmlBarControl.registerClass('Mscrm.HtmlBarControl', Sys.UI.Control);
Mscrm.TurboForm.Control.ActivityFeedsStateForEntity.registerClass('Mscrm.TurboForm.Control.ActivityFeedsStateForEntity');
Mscrm.TurboForm.Control.EventHandlerDescriptor.registerClass('Mscrm.TurboForm.Control.EventHandlerDescriptor');
Mscrm.TurboForm.Control.ControlDescriptorBase.registerClass('Mscrm.TurboForm.Control.ControlDescriptorBase');
Mscrm.TurboForm.Control.UIPageDescriptor.registerClass('Mscrm.TurboForm.Control.UIPageDescriptor', Mscrm.TurboForm.Control.ControlDescriptorBase);
Mscrm.TurboForm.Control.UITabDescriptor.registerClass('Mscrm.TurboForm.Control.UITabDescriptor', Mscrm.TurboForm.Control.ControlDescriptorBase);
Mscrm.TurboForm.Control.UISectionDescriptor.registerClass('Mscrm.TurboForm.Control.UISectionDescriptor', Mscrm.TurboForm.Control.ControlDescriptorBase);
Mscrm.TurboForm.Control.UIControlDescriptor.registerClass('Mscrm.TurboForm.Control.UIControlDescriptor', Mscrm.TurboForm.Control.ControlDescriptorBase);
Mscrm.TurboForm.Control.UIFlyoutDescriptor.registerClass('Mscrm.TurboForm.Control.UIFlyoutDescriptor', Mscrm.TurboForm.Control.UIControlDescriptor);
Mscrm.TurboForm.Control.DataBoundUIControlDescriptor.registerClass('Mscrm.TurboForm.Control.DataBoundUIControlDescriptor', Mscrm.TurboForm.Control.UIControlDescriptor);
Mscrm.TurboForm.Control.PageDescriptor.registerClass('Mscrm.TurboForm.Control.PageDescriptor');
Mscrm.TurboForm.Control.UIFormDescriptor.registerClass('Mscrm.TurboForm.Control.UIFormDescriptor');
Mscrm.TurboForm.Control.EntityDescriptor.registerClass('Mscrm.TurboForm.Control.EntityDescriptor');
Mscrm.TurboForm.Control.AttributeDescriptor.registerClass('Mscrm.TurboForm.Control.AttributeDescriptor');
Mscrm.TurboForm.Control.AttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.AttributeMetadataDescriptor');
Mscrm.TurboForm.Control.HiddenAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.HiddenAttributeMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.StringAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.StringAttributeMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.DateTimeAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.DateTimeAttributeMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.DecimalAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.DecimalAttributeMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.FloatAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.FloatAttributeMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.IntegerAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.IntegerAttributeMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.MoneyAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.MoneyAttributeMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.PicklistAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.PicklistAttributeMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.StatusOptionAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.StatusOptionAttributeMetadataDescriptor', Mscrm.TurboForm.Control.PicklistAttributeMetadataDescriptor);
Mscrm.TurboForm.Control.PicklistOptionDescriptor.registerClass('Mscrm.TurboForm.Control.PicklistOptionDescriptor');
Mscrm.TurboForm.Control.LookupTypeNameDescriptor.registerClass('Mscrm.TurboForm.Control.LookupTypeNameDescriptor');
Mscrm.TurboForm.Control.LookupAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.LookupAttributeMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.BooleanAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.BooleanAttributeMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.UniqueIdentifierAttributeMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.UniqueIdentifierAttributeMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.InlineEditSubGridRowMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.InlineEditSubGridRowMetadataDescriptor');
Mscrm.TurboForm.Control.MemoMetadataDescriptor.registerClass('Mscrm.TurboForm.Control.MemoMetadataDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.WrpcTokenDescriptor.registerClass('Mscrm.TurboForm.Control.WrpcTokenDescriptor');
Mscrm.TurboForm.Control.ControlBuilder.registerClass('Mscrm.TurboForm.Control.ControlBuilder');
Mscrm.TurboForm.Control.DependencyObject.registerClass('Mscrm.TurboForm.Control.DependencyObject', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.FormElementViewModel', Mscrm.TurboForm.Control.DependencyObject, Xrm.IXrmCollectionItem);
Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.registerClass('Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase', Mscrm.TurboForm.Control.ViewModel.FormElementViewModel);
Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel', Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase);
Mscrm.TurboForm.Control.StubControlViewModel.registerClass('Mscrm.TurboForm.Control.StubControlViewModel', Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel);
Mscrm.TurboForm.Control.View.ControlViewBase.registerClass('Mscrm.TurboForm.Control.View.ControlViewBase', Mscrm.TurboForm.Control.DependencyObject, Mscrm.TurboForm.Control.IView, Xrm.IXrmCollectionItem, Mscrm.TurboForm.Control.IDisposable);
Mscrm.TurboForm.Control.StubControlView.registerClass('Mscrm.TurboForm.Control.StubControlView', Mscrm.TurboForm.Control.View.ControlViewBase);
Mscrm.TurboForm.Control.DataAttributeBuilder.registerClass('Mscrm.TurboForm.Control.DataAttributeBuilder');
Mscrm.TurboForm.Control.Data.DataAttributeBase.registerClass('Mscrm.TurboForm.Control.Data.DataAttributeBase', Mscrm.TurboForm.Control.DependencyObject, Xrm.IXrmCollectionItem);
Mscrm.TurboForm.Control.StubDataAttribute.registerClass('Mscrm.TurboForm.Control.StubDataAttribute', Mscrm.TurboForm.Control.Data.DataAttributeBase);
Mscrm.TurboForm.Control.DataEntityBuilder.registerClass('Mscrm.TurboForm.Control.DataEntityBuilder');
Mscrm.TurboForm.Control.PageBuilder.registerClass('Mscrm.TurboForm.Control.PageBuilder');
Mscrm.TurboForm.Control.SectionBuilder.registerClass('Mscrm.TurboForm.Control.SectionBuilder');
Mscrm.TurboForm.Control.TabBuilder.registerClass('Mscrm.TurboForm.Control.TabBuilder');
Mscrm.TurboForm.Control.CommandBarManager.registerClass('Mscrm.TurboForm.Control.CommandBarManager', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.CommandExecutionEventArgs.registerClass('Mscrm.TurboForm.Control.CommandExecutionEventArgs', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.CommandService.registerClass('Mscrm.TurboForm.Control.CommandService', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.CustomScriptCall.registerClass('Mscrm.TurboForm.Control.CustomScriptCall', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.CustomScriptsManager.registerClass('Mscrm.TurboForm.Control.CustomScriptsManager', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.DependencyProperty.registerClass('Mscrm.TurboForm.Control.DependencyProperty');
Mscrm.TurboForm.Control.DependencyPropertyChangeEventArgs.registerClass('Mscrm.TurboForm.Control.DependencyPropertyChangeEventArgs');
Mscrm.TurboForm.Control.DisposalManager.registerClass('Mscrm.TurboForm.Control.DisposalManager');
Mscrm.TurboForm.Control.FormState.registerClass('Mscrm.TurboForm.Control.FormState', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.ParameterKeys.registerClass('Mscrm.TurboForm.Control.ParameterKeys');
Mscrm.TurboForm.Control.PropertyBag.registerClass('Mscrm.TurboForm.Control.PropertyBag');
Mscrm.TurboForm.Control.ResourceManager.registerClass('Mscrm.TurboForm.Control.ResourceManager', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.ValidationEventArgs.registerClass('Mscrm.TurboForm.Control.ValidationEventArgs');
Mscrm.TurboForm.Control.ValidationResult.registerClass('Mscrm.TurboForm.Control.ValidationResult');
Mscrm.TurboForm.Control.DataRequest.registerClass('Mscrm.TurboForm.Control.DataRequest', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.DataManager.registerClass('Mscrm.TurboForm.Control.DataManager', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.DefaultFormCache.registerClass('Mscrm.TurboForm.Control.DefaultFormCache');
Mscrm.TurboForm.Control.EntityDataDescriptor.registerClass('Mscrm.TurboForm.Control.EntityDataDescriptor');
Mscrm.TurboForm.Control.FormDataDescriptor.registerClass('Mscrm.TurboForm.Control.FormDataDescriptor', Mscrm.TurboForm.Control.EntityDataDescriptor);
Mscrm.TurboForm.Control.EntityRecordInformation.registerClass('Mscrm.TurboForm.Control.EntityRecordInformation');
Mscrm.TurboForm.Control.FormDataResponse.registerClass('Mscrm.TurboForm.Control.FormDataResponse');
Mscrm.TurboForm.Control.DialogBootstrapper.registerClass('Mscrm.TurboForm.Control.DialogBootstrapper');
Mscrm.TurboForm.Control.DuplicateDetectionService.registerClass('Mscrm.TurboForm.Control.DuplicateDetectionService', Mscrm.TurboForm.Control.DisposableBase, Mscrm.IDuplicateDetectionService);
Mscrm.TurboForm.Control.Form.registerClass('Mscrm.TurboForm.Control.Form', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.FormData.registerClass('Mscrm.TurboForm.Control.FormData', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.FormSelection.registerClass('Mscrm.TurboForm.Control.FormSelection', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.FormUI.registerClass('Mscrm.TurboForm.Control.FormUI', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.PageBootstrapper.registerClass('Mscrm.TurboForm.Control.PageBootstrapper');
Mscrm.TurboForm.Control.PageManager.registerClass('Mscrm.TurboForm.Control.PageManager', Mscrm.TurboForm.Control.DisposableBase, Mscrm.TurboForm.Control.IPageManager);
Mscrm.TurboForm.Control.PageNavigation.registerClass('Mscrm.TurboForm.Control.PageNavigation', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.PageState.registerClass('Mscrm.TurboForm.Control.PageState');
Mscrm.TurboForm.Control.ProcessControlBootstrapper.registerClass('Mscrm.TurboForm.Control.ProcessControlBootstrapper');
Mscrm.TurboForm.Control.RegardingLookupState.registerClass('Mscrm.TurboForm.Control.RegardingLookupState', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.ActivityPartyState.registerClass('Mscrm.TurboForm.Control.ActivityPartyState', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.SubGridInitManager.registerClass('Mscrm.TurboForm.Control.SubGridInitManager', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Common.FormControlClassIdString.registerClass('Mscrm.TurboForm.Common.FormControlClassIdString');
Mscrm.TurboForm.Common.FormControlClassId.registerClass('Mscrm.TurboForm.Common.FormControlClassId');
Mscrm.TurboForm.Common.BusinessProcessClientCache.registerClass('Mscrm.TurboForm.Common.BusinessProcessClientCache', null, Mscrm.TurboForm.Common.IBusinessProcessClientCache);
Mscrm.TurboForm.Common.BusinessProcessClientCacheData.registerClass('Mscrm.TurboForm.Common.BusinessProcessClientCacheData', null, Mscrm.TurboForm.Common.IBusinessProcessClientCacheData);
Mscrm.TurboForm.Common.BusinessProcessClientCacheDataSerializer.registerClass('Mscrm.TurboForm.Common.BusinessProcessClientCacheDataSerializer', null, Mscrm.TurboForm.Common.IBusinessProcessClientCacheDataSerializer);
Mscrm.TurboForm.Common.BusinessProcessClientCacheKey.registerClass('Mscrm.TurboForm.Common.BusinessProcessClientCacheKey', null, Mscrm.TurboForm.Common.IBusinessProcessClientCacheKey);
Mscrm.TurboForm.Common.BusinessProcessClientCacheValue.registerClass('Mscrm.TurboForm.Common.BusinessProcessClientCacheValue', null, Mscrm.TurboForm.Common.IBusinessProcessClientCacheValue);
Mscrm.TurboForm.Common.CrmLocalStorageProxy.registerClass('Mscrm.TurboForm.Common.CrmLocalStorageProxy', null, Mscrm.TurboForm.Common.ICrmLocalStorageProxy);
Mscrm.TurboForm.Common.FilterRelationshipData.registerClass('Mscrm.TurboForm.Common.FilterRelationshipData');
Mscrm.TurboForm.Common.BusinessProcessClientCacheJsonData.registerClass('Mscrm.TurboForm.Common.BusinessProcessClientCacheJsonData');
Mscrm.TurboForm.Common.DomUtilityProxy.registerClass('Mscrm.TurboForm.Common.DomUtilityProxy', null, Mscrm.TurboForm.Common.IDomUtilityProxy);
Mscrm.TurboForm.Common.ProcessIdRequestManager.registerClass('Mscrm.TurboForm.Common.ProcessIdRequestManager', null, Mscrm.TurboForm.Common.IProcessIdRequestManager);
Mscrm.TurboForm.Common.LayoutUrlCache.registerClass('Mscrm.TurboForm.Common.LayoutUrlCache');
Mscrm.SharedObjects.FormLayoutResponse.registerClass('Mscrm.SharedObjects.FormLayoutResponse');
Mscrm.SharedObjects.LayoutErrorInformation.registerClass('Mscrm.SharedObjects.LayoutErrorInformation');
Mscrm.SharedObjects.DialogLayoutResponse.registerClass('Mscrm.SharedObjects.DialogLayoutResponse');
Mscrm.FormControls.ClientApi.XrmTurboFormEntity.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormEntity', Xrm.XrmEntity);
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeBoolean.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeBoolean', Xrm.XrmEntityAttributeBoolean);
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeDateTime.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeDateTime', Xrm.XrmEntityAttributeDateTime);
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeFactory.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeFactory');
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeHidden.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeHidden', Xrm.XrmEntityAttribute);
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeLookup.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeLookup', Xrm.XrmEntityAttributeLookup);
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeNumber.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeNumber', Xrm.XrmEntityAttributeNumber);
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeOptionSet.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeOptionSet', Xrm.XrmEntityAttributeOptionSet);
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeString.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeString', Xrm.XrmEntityAttributeString);
Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeUniqueIdentifier.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormEntityAttributeUniqueIdentifier', Xrm.XrmEntityAttribute);
Mscrm.FormControls.ClientApi.XrmTurboFormControlDateTime.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlDateTime', Xrm.XrmControlDateTime);
Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailEngagementActions.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailEngagementActions', Xrm.XrmControlEmailEngagementActionsControl);
Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlFactory');
Mscrm.FormControls.ClientApi.XrmTurboFormControlFormSelector.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlFormSelector', Xrm.XrmControlFormSelector);
Mscrm.FormControls.ClientApi.XrmTurboFormControlFrame.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlFrame', Xrm.XrmControlIFrame);
Mscrm.FormControls.ClientApi.XrmTurboFormControl.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControl', Xrm.XrmControl);
Mscrm.FormControls.ClientApi.XrmTurboFormControlLookup.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlLookup', Xrm.XrmControlLookup);
Mscrm.FormControls.ClientApi.XrmTurboFormControlAutoLookup.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlAutoLookup', Xrm.XrmControlAutoLookup);
Mscrm.FormControls.ClientApi.XrmTurboFormControlOptionSet.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlOptionSet', Xrm.XrmControlOptionSet);
Mscrm.FormControls.ClientApi.XrmTurboFormControlRoutedSubGrid.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlRoutedSubGrid', Xrm.XrmControlRoutedGrid);
Mscrm.FormControls.ClientApi.XrmTurboFormProcessControlUI.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormProcessControlUI', Xrm.XrmProcessControlUI);
Mscrm.FormControls.ClientApi.XrmTurboFormControlSection.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlSection', Xrm.XrmTabSection);
Mscrm.FormControls.ClientApi.XrmTurboFormControlSilverlight.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlSilverlight', Xrm.XrmControlSilverlight);
Mscrm.FormControls.ClientApi.XrmTurboFormControlSubGrid.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlSubGrid', Xrm.XrmControlSubGrid);
Mscrm.FormControls.ClientApi.XrmTurboFormControlTab.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlTab', Xrm.XrmTab);
Mscrm.FormControls.ClientApi.XrmTurboFormControlWebResource.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlWebResource', Xrm.XrmControlWebResource);
Mscrm.FormControls.ClientApi.XrmTurboFormControlQuickForm.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlQuickForm', Xrm.XrmControlQuickForm);
Mscrm.FormControls.ClientApi.XrmTurboFormControlTimer.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlTimer', Xrm.XrmControlTimer);
Mscrm.FormControls.ClientApi.XrmTurboFormControlACI.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlACI', Xrm.XrmControlACI);
Mscrm.FormControls.ClientApi.XrmTurboFormDataControl.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormDataControl', Xrm.XrmDataControl);
Mscrm.FormControls.ClientApi.XrmTurboFormControlSearchWidget.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlSearchWidget', Xrm.XrmControlSearchWidget);
Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailRecipientActivity.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormControlEmailRecipientActivity', Xrm.XrmControlEmailRecipientActivity);
Mscrm.FormControls.ClientApi.XrmTurboFormNavigation.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormNavigation', Xrm.XrmNavigation);
Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormMetricsReportingHelper');
Mscrm.FormControls.ClientApi.XrmTurboFormData.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormData', Xrm.XrmFormData);
Mscrm.FormControls.ClientApi.XrmTurboFormUI.registerClass('Mscrm.FormControls.ClientApi.XrmTurboFormUI', Xrm.XrmFormUI);
Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase.registerClass('Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase', Mscrm.TurboForm.Control.Data.DataAttributeBase);
Mscrm.TurboForm.Control.Data.BooleanDataAttribute.registerClass('Mscrm.TurboForm.Control.Data.BooleanDataAttribute', Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase);
Mscrm.TurboForm.Control.Data.DataEntity.registerClass('Mscrm.TurboForm.Control.Data.DataEntity', Mscrm.TurboForm.Control.DisposableBase, Mscrm.IFormDataEntity);
Mscrm.TurboForm.Control.Data.DateTimeDataAttribute.registerClass('Mscrm.TurboForm.Control.Data.DateTimeDataAttribute', Mscrm.TurboForm.Control.Data.DataAttributeBase);
Mscrm.TurboForm.Control.Data.HiddenDataAttribute.registerClass('Mscrm.TurboForm.Control.Data.HiddenDataAttribute', Mscrm.TurboForm.Control.Data.DataAttributeBase);
Mscrm.TurboForm.Control.Data.NumberDataAttribute.registerClass('Mscrm.TurboForm.Control.Data.NumberDataAttribute', Mscrm.TurboForm.Control.Data.DataAttributeBase);
Mscrm.TurboForm.Control.Data.DurationDataAttribute.registerClass('Mscrm.TurboForm.Control.Data.DurationDataAttribute', Mscrm.TurboForm.Control.Data.NumberDataAttribute);
Mscrm.TurboForm.Control.Data.LookupStyles.registerClass('Mscrm.TurboForm.Control.Data.LookupStyles');
Mscrm.TurboForm.Control.Data.LookupDataAttribute.registerClass('Mscrm.TurboForm.Control.Data.LookupDataAttribute', Mscrm.TurboForm.Control.Data.DataAttributeBase);
Mscrm.TurboForm.Control.Data.NumberAttributeDescriptor.registerClass('Mscrm.TurboForm.Control.Data.NumberAttributeDescriptor', Mscrm.TurboForm.Control.AttributeMetadataDescriptor);
Mscrm.TurboForm.Control.Data.PicklistDataAttribute.registerClass('Mscrm.TurboForm.Control.Data.PicklistDataAttribute', Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase);
Mscrm.TurboForm.Control.Data.StatusOptionDataAttribute.registerClass('Mscrm.TurboForm.Control.Data.StatusOptionDataAttribute', Mscrm.TurboForm.Control.Data.PicklistDataAttribute);
Mscrm.TurboForm.Control.Data.StringDataAttribute.registerClass('Mscrm.TurboForm.Control.Data.StringDataAttribute', Mscrm.TurboForm.Control.Data.DataAttributeBase);
Mscrm.TurboForm.Control.Data.MemoDataAttribute.registerClass('Mscrm.TurboForm.Control.Data.MemoDataAttribute', Mscrm.TurboForm.Control.Data.StringDataAttribute);
Mscrm.TurboForm.Control.Data.UniqueIdentifierDataAttribute.registerClass('Mscrm.TurboForm.Control.Data.UniqueIdentifierDataAttribute', Mscrm.TurboForm.Control.Data.DataAttributeBase);
Mscrm.TurboForm.Control.Data.VisibleDataProperty.registerClass('Mscrm.TurboForm.Control.Data.VisibleDataProperty', Mscrm.TurboForm.Control.DependencyProperty);
Mscrm.TurboForm.Control.Data.FormEventArgs.registerClass('Mscrm.TurboForm.Control.Data.FormEventArgs', Sys.EventArgs);
Mscrm.TurboForm.Control.Data.EntitySaveEventArgs.registerClass('Mscrm.TurboForm.Control.Data.EntitySaveEventArgs', Mscrm.TurboForm.Control.Data.FormEventArgs);
Mscrm.TurboForm.Control.Data.DataLoadEventArgs.registerClass('Mscrm.TurboForm.Control.Data.DataLoadEventArgs', Mscrm.TurboForm.Control.Data.EntitySaveEventArgs);
Mscrm.TurboForm.Control.Data.FormCloseEventArgs.registerClass('Mscrm.TurboForm.Control.Data.FormCloseEventArgs', Mscrm.TurboForm.Control.Data.FormEventArgs);
Mscrm.TurboForm.Control.Data.EntityWrapper.registerClass('Mscrm.TurboForm.Control.Data.EntityWrapper');
Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotification.registerClass('Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotification', Xrm.BusinessRuleNotificationBase);
Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotificationProvider.registerClass('Mscrm.TurboForm.Control.ViewModel.BusinessRuleNotificationProvider', null, Xrm.IBusinessRuleNotificationProvider);
Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel', Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel);
Mscrm.TurboForm.Control.ViewModel.ACIViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.ACIViewModel', Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel);
Mscrm.TurboForm.Control.ViewModel.InlineEditControlMode.registerClass('Mscrm.TurboForm.Control.ViewModel.InlineEditControlMode');
Mscrm.TurboForm.Control.ViewModel.DateTimeViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.DateTimeViewModel', Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel);
Mscrm.TurboForm.Control.ViewModel.EmailEngagementActionsControlViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.EmailEngagementActionsControlViewModel', Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase);
Mscrm.TurboForm.Control.ViewModel.SectionViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.SectionViewModel', Mscrm.TurboForm.Control.ViewModel.ContainerViewModel$1.$$(Mscrm.TurboForm.Control.ViewModel.FormElementViewModel));
Mscrm.TurboForm.Control.ViewModel.TabViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.TabViewModel', Mscrm.TurboForm.Control.ViewModel.ContainerViewModel$1.$$(Mscrm.TurboForm.Control.ViewModel.SectionViewModel));
Mscrm.TurboForm.Control.ViewModel.FormViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.FormViewModel', Mscrm.TurboForm.Control.ViewModel.ContainerViewModel$1.$$(Mscrm.TurboForm.Control.ViewModel.TabViewModel));
Mscrm.TurboForm.Control.ViewModel.IFrameViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.IFrameViewModel', Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel);
Mscrm.TurboForm.Control.ViewModel.KMControlViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.KMControlViewModel', Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase);
Mscrm.TurboForm.Control.ViewModel.EmailRecipientActivityControlViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.EmailRecipientActivityControlViewModel', Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase);
Mscrm.TurboForm.Control.ViewModel.LinkControlViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.LinkControlViewModel', Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase);
Mscrm.TurboForm.Control.ViewModel.LookupViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.LookupViewModel', Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel);
Mscrm.TurboForm.Control.ViewModel.MapControlViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.MapControlViewModel', Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase);
Mscrm.TurboForm.Control.ViewModel.TransactionCurrencyViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.TransactionCurrencyViewModel', Mscrm.TurboForm.Control.ViewModel.LookupViewModel);
Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel', Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel);
Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel', Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase, Mscrm.IQuickFormBehavior);
Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel', Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel);
Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel', Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel);
Mscrm.TurboForm.Control.ViewModel.MoneyViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.MoneyViewModel', Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel);
Mscrm.TurboForm.Control.ViewModel.SubGridViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.SubGridViewModel', Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase);
Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel', Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase);
Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty.registerClass('Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty', Mscrm.TurboForm.Control.DependencyProperty);
Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel', Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel);
Mscrm.TurboForm.Control.ViewModel.SocialInsightControlViewModel.registerClass('Mscrm.TurboForm.Control.ViewModel.SocialInsightControlViewModel', Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase);
Mscrm.TurboForm.Control.View.ReadControlView.registerClass('Mscrm.TurboForm.Control.View.ReadControlView', Mscrm.TurboForm.Control.View.ControlViewBase);
Mscrm.TurboForm.Control.View.EditableControlView.registerClass('Mscrm.TurboForm.Control.View.EditableControlView', Mscrm.TurboForm.Control.View.ReadControlView);
Mscrm.TurboForm.Control.View.CheckBoxEditableControlView.registerClass('Mscrm.TurboForm.Control.View.CheckBoxEditableControlView', Mscrm.TurboForm.Control.View.EditableControlView);
Mscrm.TurboForm.Control.View.ContainerView.registerClass('Mscrm.TurboForm.Control.View.ContainerView', Mscrm.TurboForm.Control.View.ControlViewBase);
Mscrm.TurboForm.Control.View.ContainerView.IViews.registerClass('Mscrm.TurboForm.Control.View.ContainerView.IViews', Xrm.XrmCollection$1.$$(Mscrm.TurboForm.Control.IView));
Mscrm.TurboForm.Control.View.DateFormatter.registerClass('Mscrm.TurboForm.Control.View.DateFormatter', null, Mscrm.TurboForm.Control.View.IFormatter);
Mscrm.TurboForm.Control.View.DecimalFormatter.registerClass('Mscrm.TurboForm.Control.View.DecimalFormatter', null, Mscrm.TurboForm.Control.View.IFormatter);
Mscrm.TurboForm.Control.View.DefaultFormatter.registerClass('Mscrm.TurboForm.Control.View.DefaultFormatter', null, Mscrm.TurboForm.Control.View.IFormatter);
Mscrm.TurboForm.Control.View.DurationFormatter.registerClass('Mscrm.TurboForm.Control.View.DurationFormatter', null, Mscrm.TurboForm.Control.View.IFormatter);
Mscrm.TurboForm.Control.View.MoneyFormatter.registerClass('Mscrm.TurboForm.Control.View.MoneyFormatter', null, Mscrm.TurboForm.Control.View.IFormatter);
Mscrm.TurboForm.Control.View.NumberFormatter.registerClass('Mscrm.TurboForm.Control.View.NumberFormatter', null, Mscrm.TurboForm.Control.View.IFormatter);
Mscrm.TurboForm.Control.View.TimeFormatter.registerClass('Mscrm.TurboForm.Control.View.TimeFormatter', null, Mscrm.TurboForm.Control.View.IFormatter);
Mscrm.TurboForm.Control.View.TextAreaFormatter.registerClass('Mscrm.TurboForm.Control.View.TextAreaFormatter', null, Mscrm.TurboForm.Control.View.IFormatter);
Mscrm.TurboForm.Control.View.ACIView.registerClass('Mscrm.TurboForm.Control.View.ACIView', Mscrm.TurboForm.Control.View.ControlViewBase);
Mscrm.TurboForm.Control.View.EmailEditableControlView.registerClass('Mscrm.TurboForm.Control.View.EmailEditableControlView', Mscrm.TurboForm.Control.View.EditableControlView);
Mscrm.TurboForm.Control.View.EditElementBase.registerClass('Mscrm.TurboForm.Control.View.EditElementBase', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.View.LookupEditElement.registerClass('Mscrm.TurboForm.Control.View.LookupEditElement', Mscrm.TurboForm.Control.View.EditElementBase);
Mscrm.TurboForm.Control.View.BreadcrumbLookupEditElement.registerClass('Mscrm.TurboForm.Control.View.BreadcrumbLookupEditElement', Mscrm.TurboForm.Control.View.LookupEditElement);
Mscrm.TurboForm.Control.View.CheckBoxEditElement.registerClass('Mscrm.TurboForm.Control.View.CheckBoxEditElement', Mscrm.TurboForm.Control.View.EditElementBase);
Mscrm.TurboForm.Control.View.DateTimeEditElement.registerClass('Mscrm.TurboForm.Control.View.DateTimeEditElement', Mscrm.TurboForm.Control.View.EditElementBase);
Mscrm.TurboForm.Control.View.EditFilterEditElement.registerClass('Mscrm.TurboForm.Control.View.EditFilterEditElement', Mscrm.TurboForm.Control.View.EditElementBase);
Mscrm.TurboForm.Control.View.EmailBodyEditElement.registerClass('Mscrm.TurboForm.Control.View.EmailBodyEditElement', Mscrm.TurboForm.Control.View.EditElementBase);
Mscrm.TurboForm.Control.View.DurationEditElement.registerClass('Mscrm.TurboForm.Control.View.DurationEditElement', Mscrm.TurboForm.Control.View.EditElementBase);
Mscrm.TurboForm.Control.View.TextBoxEditElement.registerClass('Mscrm.TurboForm.Control.View.TextBoxEditElement', Mscrm.TurboForm.Control.View.EditElementBase);
Mscrm.TurboForm.Control.View.MoneyEditElement.registerClass('Mscrm.TurboForm.Control.View.MoneyEditElement', Mscrm.TurboForm.Control.View.TextBoxEditElement);
Mscrm.TurboForm.Control.View.PicklistEditElement.registerClass('Mscrm.TurboForm.Control.View.PicklistEditElement', Mscrm.TurboForm.Control.View.EditElementBase);
Mscrm.TurboForm.Control.View.PicklistEditElement.StatusOperationItem.registerClass('Mscrm.TurboForm.Control.View.PicklistEditElement.StatusOperationItem');
Mscrm.TurboForm.Control.View.SubjectLookupEditElement.registerClass('Mscrm.TurboForm.Control.View.SubjectLookupEditElement', Mscrm.TurboForm.Control.View.LookupEditElement);
Mscrm.TurboForm.Control.View.TextAreaEditElement.registerClass('Mscrm.TurboForm.Control.View.TextAreaEditElement', Mscrm.TurboForm.Control.View.TextBoxEditElement);
Mscrm.TurboForm.Control.View.AutoLookupEditElement.registerClass('Mscrm.TurboForm.Control.View.AutoLookupEditElement', Mscrm.TurboForm.Control.View.EditElementBase);
Mscrm.TurboForm.Control.View.ToggleEditElement.registerClass('Mscrm.TurboForm.Control.View.ToggleEditElement', Mscrm.TurboForm.Control.View.EditElementBase);
Mscrm.TurboForm.Control.View.EditFilterControlView.registerClass('Mscrm.TurboForm.Control.View.EditFilterControlView', Mscrm.TurboForm.Control.View.EditableControlView);
Mscrm.TurboForm.Control.View.EmailEngagementActionsControlView.registerClass('Mscrm.TurboForm.Control.View.EmailEngagementActionsControlView', Mscrm.TurboForm.Control.View.ReadControlView);
Mscrm.TurboForm.Control.View.FooterView.registerClass('Mscrm.TurboForm.Control.View.FooterView', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.View.FormView.registerClass('Mscrm.TurboForm.Control.View.FormView', Mscrm.TurboForm.Control.View.ContainerView);
Mscrm.TurboForm.Control.View.HeaderView.registerClass('Mscrm.TurboForm.Control.View.HeaderView', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.View.DialogSize.registerClass('Mscrm.TurboForm.Control.View.DialogSize');
Mscrm.TurboForm.Control.View.IFrameView.registerClass('Mscrm.TurboForm.Control.View.IFrameView', Mscrm.TurboForm.Control.View.ControlViewBase);
Mscrm.TurboForm.Control.View.LinkControlElement.registerClass('Mscrm.TurboForm.Control.View.LinkControlElement', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.View.LinkControlView.registerClass('Mscrm.TurboForm.Control.View.LinkControlView', Mscrm.TurboForm.Control.View.ControlViewBase, Mscrm.ILinkControl);
Mscrm.TurboForm.Control.View.MapControlView.registerClass('Mscrm.TurboForm.Control.View.MapControlView', Mscrm.TurboForm.Control.View.ReadControlView);
Mscrm.TurboForm.Control.View.PageView.registerClass('Mscrm.TurboForm.Control.View.PageView', Mscrm.TurboForm.Control.View.FormView);
Mscrm.TurboForm.Control.View.QuickFormView.registerClass('Mscrm.TurboForm.Control.View.QuickFormView', Mscrm.TurboForm.Control.View.ControlViewBase);
Mscrm.TurboForm.Control.View.RadioControlView.registerClass('Mscrm.TurboForm.Control.View.RadioControlView', Mscrm.TurboForm.Control.View.EditableControlView);
Mscrm.TurboForm.Control.View.DateTimeControlView.registerClass('Mscrm.TurboForm.Control.View.DateTimeControlView', Mscrm.TurboForm.Control.View.EditableControlView);
Mscrm.TurboForm.Control.View.SocialInsightControlView.registerClass('Mscrm.TurboForm.Control.View.SocialInsightControlView', Mscrm.TurboForm.Control.View.ReadControlView);
Mscrm.TurboForm.Control.View.SectionView.registerClass('Mscrm.TurboForm.Control.View.SectionView', Mscrm.TurboForm.Control.View.ContainerView);
Mscrm.TurboForm.Control.View.KMControlView.registerClass('Mscrm.TurboForm.Control.View.KMControlView', Mscrm.TurboForm.Control.View.ReadControlView);
Mscrm.TurboForm.Control.View.EmailRecipientActivityControlView.registerClass('Mscrm.TurboForm.Control.View.EmailRecipientActivityControlView', Mscrm.TurboForm.Control.View.ReadControlView);
Mscrm.TurboForm.Control.View.TabView.registerClass('Mscrm.TurboForm.Control.View.TabView', Mscrm.TurboForm.Control.View.ContainerView);
Mscrm.TurboForm.Control.View.TimerControlView.registerClass('Mscrm.TurboForm.Control.View.TimerControlView', Mscrm.TurboForm.Control.View.ReadControlView);
Mscrm.TurboForm.Control.View.ValueElementBase.registerClass('Mscrm.TurboForm.Control.View.ValueElementBase', Mscrm.TurboForm.Control.DisposableBase);
Mscrm.TurboForm.Control.View.LookupValueElement.registerClass('Mscrm.TurboForm.Control.View.LookupValueElement', Mscrm.TurboForm.Control.View.ValueElementBase);
Mscrm.TurboForm.Control.View.BreadcrumbValueElement.registerClass('Mscrm.TurboForm.Control.View.BreadcrumbValueElement', Mscrm.TurboForm.Control.View.LookupValueElement);
Mscrm.TurboForm.Control.View.CheckBoxValueElement.registerClass('Mscrm.TurboForm.Control.View.CheckBoxValueElement', Mscrm.TurboForm.Control.View.ValueElementBase);
Mscrm.TurboForm.Control.View.SimpleValueElement.registerClass('Mscrm.TurboForm.Control.View.SimpleValueElement', Mscrm.TurboForm.Control.View.ValueElementBase);
Mscrm.TurboForm.Control.View.DateTimeValueElement.registerClass('Mscrm.TurboForm.Control.View.DateTimeValueElement', Mscrm.TurboForm.Control.View.SimpleValueElement);
Mscrm.TurboForm.Control.View.EditFilterValueElement.registerClass('Mscrm.TurboForm.Control.View.EditFilterValueElement', Mscrm.TurboForm.Control.View.ValueElementBase);
Mscrm.TurboForm.Control.View.LinkValueElement.registerClass('Mscrm.TurboForm.Control.View.LinkValueElement', Mscrm.TurboForm.Control.View.ValueElementBase);
Mscrm.TurboForm.Control.View.EmailAddressValueElement.registerClass('Mscrm.TurboForm.Control.View.EmailAddressValueElement', Mscrm.TurboForm.Control.View.LinkValueElement);
Mscrm.TurboForm.Control.View.EmailEngagementActionsValueElement.registerClass('Mscrm.TurboForm.Control.View.EmailEngagementActionsValueElement', Mscrm.TurboForm.Control.View.ValueElementBase);
Mscrm.TurboForm.Control.View.KMValueElement.registerClass('Mscrm.TurboForm.Control.View.KMValueElement', Mscrm.TurboForm.Control.View.ValueElementBase);
Mscrm.TurboForm.Control.View.EmailRecipientActivityValueElement.registerClass('Mscrm.TurboForm.Control.View.EmailRecipientActivityValueElement', Mscrm.TurboForm.Control.View.ValueElementBase);
Mscrm.TurboForm.Control.View.MapValueElement.registerClass('Mscrm.TurboForm.Control.View.MapValueElement', Mscrm.TurboForm.Control.View.ValueElementBase);
Mscrm.TurboForm.Control.View.MoneyValueElement.registerClass('Mscrm.TurboForm.Control.View.MoneyValueElement', Mscrm.TurboForm.Control.View.SimpleValueElement);
Mscrm.TurboForm.Control.View.PhoneValueElement.registerClass('Mscrm.TurboForm.Control.View.PhoneValueElement', Mscrm.TurboForm.Control.View.LinkValueElement);
Mscrm.TurboForm.Control.View.PicklistValueElement.registerClass('Mscrm.TurboForm.Control.View.PicklistValueElement', Mscrm.TurboForm.Control.View.SimpleValueElement);
Mscrm.TurboForm.Control.View.RollupValueElement.registerClass('Mscrm.TurboForm.Control.View.RollupValueElement', Mscrm.TurboForm.Control.View.SimpleValueElement);
Mscrm.TurboForm.Control.View.DurationValueElement.registerClass('Mscrm.TurboForm.Control.View.DurationValueElement', Mscrm.TurboForm.Control.View.SimpleValueElement);
Mscrm.TurboForm.Control.View.EmailBodyValueElement.registerClass('Mscrm.TurboForm.Control.View.EmailBodyValueElement', Mscrm.TurboForm.Control.View.SimpleValueElement);
Mscrm.TurboForm.Control.View.SocialInsightValueElement.registerClass('Mscrm.TurboForm.Control.View.SocialInsightValueElement', Mscrm.TurboForm.Control.View.ValueElementBase);
Mscrm.TurboForm.Control.View.TextAreaValueElement.registerClass('Mscrm.TurboForm.Control.View.TextAreaValueElement', Mscrm.TurboForm.Control.View.SimpleValueElement);
Mscrm.TurboForm.Control.View.TickerValueElement.registerClass('Mscrm.TurboForm.Control.View.TickerValueElement', Mscrm.TurboForm.Control.View.LinkValueElement);
Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.registerClass('Mscrm.TurboForm.Control.View.InlineTimerControlViewBase', null, Sys.IDisposable);
Mscrm.TurboForm.Control.View.InlineTimerControlCanceledView.registerClass('Mscrm.TurboForm.Control.View.InlineTimerControlCanceledView', Mscrm.TurboForm.Control.View.InlineTimerControlViewBase);
Mscrm.TurboForm.Control.View.InlineTimerControlFailureView.registerClass('Mscrm.TurboForm.Control.View.InlineTimerControlFailureView', Mscrm.TurboForm.Control.View.InlineTimerControlViewBase);
Mscrm.TurboForm.Control.View.InlineTimerControlInProgressView.registerClass('Mscrm.TurboForm.Control.View.InlineTimerControlInProgressView', Mscrm.TurboForm.Control.View.InlineTimerControlViewBase);
Mscrm.TurboForm.Control.View.InlineTimerControlNoPrivilegeView.registerClass('Mscrm.TurboForm.Control.View.InlineTimerControlNoPrivilegeView', Mscrm.TurboForm.Control.View.InlineTimerControlViewBase);
Mscrm.TurboForm.Control.View.InlineTimerControlNotSetView.registerClass('Mscrm.TurboForm.Control.View.InlineTimerControlNotSetView', Mscrm.TurboForm.Control.View.InlineTimerControlViewBase);
Mscrm.TurboForm.Control.View.InlineTimerControlPausedView.registerClass('Mscrm.TurboForm.Control.View.InlineTimerControlPausedView', Mscrm.TurboForm.Control.View.InlineTimerControlViewBase);
Mscrm.TurboForm.Control.View.InlineTimerControlSuccessView.registerClass('Mscrm.TurboForm.Control.View.InlineTimerControlSuccessView', Mscrm.TurboForm.Control.View.InlineTimerControlViewBase);
Mscrm.TurboForm.Control.View.InlineTimerControlViolatedView.registerClass('Mscrm.TurboForm.Control.View.InlineTimerControlViolatedView', Mscrm.TurboForm.Control.View.InlineTimerControlViewBase);
Mscrm.TurboForm.Control.View.InlineTimerControlWarningView.registerClass('Mscrm.TurboForm.Control.View.InlineTimerControlWarningView', Mscrm.TurboForm.Control.View.InlineTimerControlInProgressView);
Mscrm.TurboForm.Control.View.TimerValueElement.registerClass('Mscrm.TurboForm.Control.View.TimerValueElement', Mscrm.TurboForm.Control.View.ValueElementBase);
Mscrm.TurboForm.Control.View.ControlLayoutFactory.registerClass('Mscrm.TurboForm.Control.View.ControlLayoutFactory');
Mscrm.TurboForm.Control.View.HeaderTileLayout.registerClass('Mscrm.TurboForm.Control.View.HeaderTileLayout', Mscrm.TurboForm.Control.DisposableBase, Mscrm.TurboForm.Control.View.IControlLayout);
Mscrm.TurboForm.Control.View.HeaderCheckBoxControlLayout.registerClass('Mscrm.TurboForm.Control.View.HeaderCheckBoxControlLayout', Mscrm.TurboForm.Control.View.HeaderTileLayout);
Mscrm.TurboForm.Control.View.HeaderTileOptionSetLayout.registerClass('Mscrm.TurboForm.Control.View.HeaderTileOptionSetLayout', Mscrm.TurboForm.Control.View.HeaderTileLayout);
Mscrm.TurboForm.Control.View.ProcessControlLayout.registerClass('Mscrm.TurboForm.Control.View.ProcessControlLayout', Mscrm.TurboForm.Control.DisposableBase, Mscrm.TurboForm.Control.View.IControlLayout);
Mscrm.TurboForm.Control.View.ProcessControlOptionSetLayout.registerClass('Mscrm.TurboForm.Control.View.ProcessControlOptionSetLayout', Mscrm.TurboForm.Control.View.ProcessControlLayout);
Mscrm.TurboForm.Control.View.ProcessControlTextAreaLayout.registerClass('Mscrm.TurboForm.Control.View.ProcessControlTextAreaLayout', Mscrm.TurboForm.Control.View.ProcessControlLayout);
Mscrm.TurboForm.Control.View.TextAreaLayout.registerClass('Mscrm.TurboForm.Control.View.TextAreaLayout', Mscrm.TurboForm.Control.DisposableBase, Mscrm.TurboForm.Control.View.IControlLayout);
Mscrm.TurboForm.Control.View.RollupLayout.registerClass('Mscrm.TurboForm.Control.View.RollupLayout', Mscrm.TurboForm.Control.DisposableBase, Mscrm.TurboForm.Control.View.IControlLayout);
Mscrm.TurboForm.Control.View.UrlEditableControlView.registerClass('Mscrm.TurboForm.Control.View.UrlEditableControlView', Mscrm.TurboForm.Control.View.EditableControlView);
Mscrm.TurboForm.Control.View.WebResourceView.registerClass('Mscrm.TurboForm.Control.View.WebResourceView', Mscrm.TurboForm.Control.View.ControlViewBase);
Mscrm.TurboForm.Control.View.WebResourceSilverlightView.registerClass('Mscrm.TurboForm.Control.View.WebResourceSilverlightView', Mscrm.TurboForm.Control.View.ControlViewBase);
Mscrm.TurboForm.Views.LayoutFragmentCache.registerClass('Mscrm.TurboForm.Views.LayoutFragmentCache', null, Mscrm.Caching.IKeyValueCache$2.$$(String, Mscrm.TurboForm.Views.LayoutFragmentCacheValue));
Mscrm.TurboForm.Views.LayoutFragmentCacheValue.registerClass('Mscrm.TurboForm.Views.LayoutFragmentCacheValue');
Mscrm.TurboForm.Views.LayoutRenderer.registerClass('Mscrm.TurboForm.Views.LayoutRenderer');
Mscrm.TelemetryConstants.LayoutOriginal = 'LayoutOriginalRequests';
Mscrm.TelemetryConstants.LayoutDuplicate = 'LayoutDuplicateRequests';
Mscrm.TelemetryConstants.LayoutMismatch = 'LayoutMismatchRequests';
Mscrm.TelemetryConstants.LayoutOther = 'LayoutsOtherRequests';
Mscrm.TelemetryConstants.Data = 'DataRequests';
Mscrm.TelemetryConstants.ProcessMiss = 'ProcessMisses';
Mscrm.TelemetryConstants.ProcessStale = 'ProcessStales';
Mscrm.TelemetryConstants.CategoryName = 'CRM Forms';
Mscrm.TelemetryConstants.OpenedHeader = 'x-crm-opened';
Mscrm.TelemetryConstants.ProcessHeader = 'x-crm-pid';
Mscrm.TelemetryConstants.ProcessTimestampHeader = 'x-crm-pts';
Mscrm.TelemetryConstants.OriginalHeader = 'x-crm-original';
Mscrm.TelemetryConstants.DuplicateHeader = 'x-crm-duplicate';
Mscrm.TelemetryConstants.MismatchHeader = 'x-crm-mismatch';
Mscrm.TelemetryConstants.Grid = 'grid';
Mscrm.TelemetryConstants.Lookup = 'lookup';
Mscrm.TelemetryConstants.Other = 'other';
Mscrm.StateChangeEvents.discard = 'state-discard';
Mscrm.StateChangeEvents.commit = 'state-commit';
Mscrm.StateChangeEvents.validated = 'state-validated';
Mscrm.StateChangeEvents.read = 'state-read';
Mscrm.StateChangeEvents.editHint = 'state-edithint';
Mscrm.StateChangeEvents.edit = 'state-edit';
Mscrm.InlineRelatedEntityLookupType.relatedCasesLookup = 'relatedcaseslookup';
Mscrm.CompositeLinkControl.compositeControl = 'compositionLinkControl';
Mscrm.AttributeFormat.date = 'date';
Mscrm.AttributeFormat.datetime = 'datetime';
Mscrm.AttributeFormat.duration = 'duration';
Mscrm.AttributeFormat.email = 'email';
Mscrm.AttributeFormat.emailBody = 'emailbody';
Mscrm.AttributeFormat.language = 'language';
Mscrm.AttributeFormat.none = 'none';
Mscrm.AttributeFormat.text = 'text';
Mscrm.AttributeFormat.tickersymbol = 'tickersymbol';
Mscrm.AttributeFormat.timezone = 'timezone';
Mscrm.AttributeFormat.url = 'url';
Mscrm.AttributeFormat.phone = 'phone';
Mscrm.AttributeFormat.textarea = 'textarea';
Mscrm.AttributeBehavior.none = 0;
Mscrm.AttributeBehavior.dynamic = 1;
Mscrm.AttributeBehavior.dateOnly = 2;
Mscrm.AttributeBehavior.staticTimeZoneInvariant = 3;
Mscrm.SourceType.persistent = 0;
Mscrm.SourceType.calculated = 1;
Mscrm.SourceType.rollup = 2;
Mscrm.SourceTypeMask.undefined = 0;
Mscrm.SourceTypeMask.simple = 1;
Mscrm.SourceTypeMask.related = 2;
Mscrm.SourceTypeMask.logical = 4;
Mscrm.SourceTypeMask.calculated = 8;
Mscrm.SourceTypeMask.rollup = 16;
Mscrm.SourceTypeMask.invalid = 32;
Mscrm.HtmlAttributeNames.altText = 'alt';
Mscrm.HtmlAttributeNames.attributeLogicalName = 'attrName';
Mscrm.HtmlAttributeNames.defaultSelected = 'defaultSelected';
Mscrm.HtmlAttributeNames.defaultValue = 'defaultValue';
Mscrm.HtmlAttributeNames.id = 'id';
Mscrm.HtmlAttributeNames.nameAttribute = 'name';
Mscrm.HtmlAttributeNames.maxLength = 'maxLength';
Mscrm.HtmlAttributeNames.privilegeMask = 'attrPriv';
Mscrm.HtmlAttributeNames.requiredLevel = 'req';
Mscrm.HtmlAttributeNames.tabIndex = 'tabindex';
Mscrm.HtmlAttributeNames.type = 'type';
Mscrm.HtmlAttributeNames.min = 'min';
Mscrm.HtmlAttributeNames.max = 'max';
Mscrm.HtmlAttributeNames.accuracy = 'acc';
Mscrm.HtmlAttributeNames.dataType = 'dt';
Mscrm.HtmlAttributeNames.href = 'href';
Mscrm.HtmlAttributeNames.format = 'format';
Mscrm.HtmlAttributeNames.dir = 'dir';
Mscrm.HtmlAttributeNames.ariaDescribedBy = 'aria-describedby';
Mscrm.HtmlAttributeNames.ariaLabeledBy = 'aria-labelledby';
Mscrm.HtmlAttributeNames.ariaInvalid = 'aria-invalid';
Mscrm.HtmlAttributeNames.role = 'role';
Mscrm.HtmlAttributeNames.title = 'title';
Mscrm.EditEvents.attributeChanged = 'attribute-changed';
Mscrm.CssClassNames.dynamicGutter = 'ms-crm-Inline-DynamicGutter';
Mscrm.CssClassNames.processStepLabelMask = 'processStepLabelMask';
Mscrm.CssClassNames.processStep = 'processStep';
Mscrm.CssClassNames.completedProcessStep = 'completedStep';
Mscrm.CssClassNames.processStepLabel = 'processStepLabel';
Mscrm.CssClassNames.inlineNumber = 'ms-crm-Inline-Number';
Mscrm.CssClassNames.inlineCheckBox = 'ms-crm-Inline-CheckBox';
Mscrm.CssClassNames.inlineRequiredLevel = 'ms-crm-Inline-RequiredLevel';
Mscrm.CssClassNames.inlineRecommendedLevel = 'ms-crm-Inline-RecommendedLevel';
Mscrm.CssClassNames.gradientMask = 'ms-crm-Inline-GradientMask';
Mscrm.CssClassNames.editIcon = 'ms-crm-Inline-EditIcon';
Mscrm.CssClassNames.inlineEditLabel = 'ms-crm-InlineEditLabel';
Mscrm.CssClassNames.inlineEditLabelText = 'ms-crm-InlineEditLabelText';
Mscrm.CssClassNames.editing = 'inEdit';
Mscrm.CssClassNames.noScroll = 'noScroll';
Mscrm.CssClassNames.inlineTextAreaContainer = 'inlineTextAreaContainer';
Mscrm.CssClassNames.inlineTabContainer = 'ms-crm-InlineTabContainer-Read';
Mscrm.CssClassNames.inlineOptionSet = 'ms-crm-Inline-OptionSet';
Mscrm.CssClassNames.inlineOptionSetAutoOpen = 'ms-crm-Inline-OptionSet-AutoOpen';
Mscrm.CssClassNames.inlineCurrency = 'ms-crm-Inline-Currency';
Mscrm.CssClassNames.inlineLookup = 'ms-crm-Inline-Lookup';
Mscrm.CssClassNames.lockedMode = 'ms-crm-Inline-Locked';
Mscrm.CssClassNames.hasError = 'ms-crm-Inline-HasError';
Mscrm.CssClassNames.headerTileLabel = 'ms-crm-HeaderTileLabel';
Mscrm.CssClassNames.headerTile = 'ms-crm-HeaderTile';
Mscrm.CssClassNames.headerTileElement = 'ms-crm-HeaderTileElement';
Mscrm.CssClassNames.formBreadCrumb = 'ms-crm-Form-Breadcrumb';
Mscrm.CssClassNames.absolutePosition = 'ms-crm-absolutePosition';
Mscrm.CssClassNames.formTitleData = 'ms-crm-Form-Title-Data';
Mscrm.CssClassNames.formTitleLabel = 'ms-crm-Form-Title-Label';
Mscrm.CssClassNames.fieldDataPrint = 'ms-crm-Field-Data-Print';
Mscrm.CssClassNames.floatLeadingEdge = 'ms-crm-float-leadingedge';
Mscrm.CssClassNames.crmHidden = 'ms-crm-Hidden';
Mscrm.CssClassNames.hiddenNoBehavior = 'ms-crm-Hidden-NoBehavior';
Mscrm.CssClassNames.selectBox = 'ms-crm-SelectBox';
Mscrm.CssClassNames.emptyValue = 'ms-crm-Inline-EmptyValue';
Mscrm.CssClassNames.chromeElement = 'ms-crm-Inline-Chrome';
Mscrm.CssClassNames.valueElement = 'ms-crm-Inline-Value';
Mscrm.CssClassNames.editElement = 'ms-crm-Inline-Edit';
Mscrm.CssClassNames.valueElementEmailBody = 'ms-crm-Inline-Value-email-body';
Mscrm.CssClassNames.editElementEmailBody = 'ms-crm-Inline-Edit-email-body';
Mscrm.CssClassNames.valueElementEmailBodyBorder = 'ms-crm-Inline-Value-email-border';
Mscrm.CssClassNames.hyperLink = 'ms-crm-Email-Address';
Mscrm.CssClassNames.crmInput = 'ms-crm-Input';
Mscrm.CssClassNames.inlineInput = 'ms-crm-InlineInput';
Mscrm.CssClassNames.inlineInputColor = 'ms-crm-InputColor';
Mscrm.CssClassNames.gridUrlLink = 'ms-crm-gridurl';
Mscrm.CssClassNames.validationElement = 'ms-crm-Inline-Validation';
Mscrm.CssClassNames.recommendationElement = 'ms-crm-Inline-Recommendation';
Mscrm.CssClassNames.warningIcon = 'ms-crm-Inline-WarningIcon';
Mscrm.CssClassNames.recommendationIcon = 'ms-crm-Inline-RecommendationIcon';
Mscrm.CssClassNames.recommendationApplyButton = 'ms-crm-Inline-RecommendationApply';
Mscrm.CssClassNames.recommendationIconDismissButton = 'ms-crm-Inline-RecommendationDismiss';
Mscrm.CssClassNames.lockIcon = 'ms-crm-Inline-LockIcon';
Mscrm.CssClassNames.editHintState = 'ms-crm-Inline-EditHintState';
Mscrm.CssClassNames.editState = 'ms-crm-Inline-EditState';
Mscrm.CssClassNames.flyOutDialog = 'ui-flyout-dialog';
Mscrm.CssClassNames.errorArrowIcon = 'ms-crm-Inline-ErrorArrowIcon';
Mscrm.CssClassNames.dateTime = 'ms-crm-DateTime';
Mscrm.CssClassNames.duration = 'ms-crm-Duration';
Mscrm.CssClassNames.money = 'ms-crm-Money';
Mscrm.CssClassNames.moneySymbolRefresh = 'ms-crm-CurrencySymbol-Refresh';
Mscrm.CssClassNames.moneyTableRefresh = 'ms-crm-CurrencyTable-Refresh';
Mscrm.CssClassNames.inlineDateTime = 'ms-crm-InlineDateTime';
Mscrm.CssClassNames.inlineDateTimeIconCell = 'ms-crm-InlineDateTime-IconCell';
Mscrm.CssClassNames.inlineDateTimeHiddenCell = 'ms-crm-InlineDateTime-HiddenCell';
Mscrm.CssClassNames.inlineDateTimeIcon = 'ms-crm-InlineDateTime-Icon';
Mscrm.CssClassNames.inlineDateTimeTimeCell = 'ms-crm-InlineDateTime-TimeCell';
Mscrm.CssClassNames.inlineDuration = 'ms-crm-InlineDuration';
Mscrm.CssClassNames.inlineDurationInputTable = 'ms-crm-InlineDuration-InputTable';
Mscrm.CssClassNames.inlineDurationIcon = 'ms-crm-InlineDuration-Icon';
Mscrm.CssClassNames.inlineDurationIconCell = 'ms-crm-InlineDuration-IconCell';
Mscrm.CssClassNames.inlineLabelIconSpan = 'ms-crm-label-icon';
Mscrm.CssClassNames.inputContainer = 'ms-crm-Input-Container';
Mscrm.CssClassNames.inputDateTimeContainer = 'ms-crm-DateTime-Container';
Mscrm.CssClassNames.inputDateTimeContainerInput = 'ms-crm-DateTime-Container-Input';
Mscrm.CssClassNames.selectInputContainer = 'ms-crm-Select-Input-Container';
Mscrm.CssClassNames.editableSelectButtonOff = 'select_htc_img_selectOff';
Mscrm.CssClassNames.inlineLookupValueLink = 'ms-crm-Lookup-Item';
Mscrm.CssClassNames.flyoutSelectButton = 'li-selectedflyoutbutton';
Mscrm.CssClassNames.hideByZeroHeight = 'ms-crm-Inline-HideByZeroHeight';
Mscrm.CssClassNames.hideByZeroHeightIE7 = 'ms-crm-Inline-HideByZeroHeight-Ie7';
Mscrm.CssClassNames.formCommonDummy = 'ms-crm-Form-Common-Dummy';
Mscrm.CssClassNames.toggleClickState = 'ms-crm-Inline-toggleclickState';
Mscrm.CssClassNames.phoneNumberControl = 'ms-crm-Phone';
Mscrm.CssClassNames.inlineEditableSelect = 'ms-crm-inlineEditableSelect';
Mscrm.CssClassNames.customerCardName = 'ms-crm-CustomerCard-Name';
Mscrm.CssClassNames.customerCardNameAnchor = 'ms-CustomerCard-Name-Anchor';
Mscrm.CssClassNames.inlineMultiplePicklist = 'ms-crm-InlineMultiPicklist';
Mscrm.CssClassNames.inlineMultiplePicklistCheckBox = 'ms-crm-InlineMultiPicklist-Checkbox';
Mscrm.CssClassNames.selectedMultipleCheckBoxItem = 'ms-crm-selectedmultiboxitem';
Mscrm.CssClassNames.imageStripRollupRefresh = 'ms-crm-ImageStrip-rollup_refresh';
Mscrm.CssClassNames.rollupRefreshPostsLinkSpinningWheel = 'rolluprefreshPostsLinkSpinningWheel';
Mscrm.CssClassNames.rollupRefreshPostsLink = 'rolluprefreshPostsLink';
Mscrm.HtmlElementNames.div = 'div';
Mscrm.HtmlElementNames.listItem = 'li';
Mscrm.HtmlElementNames.unorderedList = 'ul';
Mscrm.HtmlElementNames.orderedList = 'ol';
Mscrm.HtmlElementNames.select = 'select';
Mscrm.HtmlElementNames.option = 'option';
Mscrm.HtmlElementNames.input = 'input';
Mscrm.HtmlElementNames.image = 'img';
Mscrm.HtmlElementNames.span = 'span';
Mscrm.HtmlElementNames.noBR = 'nobr';
Mscrm.HtmlElementNames.textArea = 'textarea';
Mscrm.HtmlElementNames.anchor = 'a';
Mscrm.HtmlElementNames.label = 'label';
Mscrm.HtmlElementNames.table = 'table';
Mscrm.HtmlElementNames.tableColumn = 'col';
Mscrm.HtmlElementNames.tableColumnGroup = 'colgroup';
Mscrm.HtmlElementNames.tableRow = 'tr';
Mscrm.HtmlElementNames.tableCell = 'td';
Mscrm.ElementTemplate.div = '<div></div>';
Mscrm.ElementTemplate.lineBreak = '<br />';
Mscrm.ElementTemplate.listItem = '<li></li>';
Mscrm.ElementTemplate.select = '<select></select>';
Mscrm.ElementTemplate.option = '<option></option>';
Mscrm.ElementTemplate.input = '<input></input>';
Mscrm.ElementTemplate.image = '<img></img>';
Mscrm.ElementTemplate.span = '<span></span>';
Mscrm.ElementTemplate.noBR = '<nobr></nobr>';
Mscrm.ElementTemplate.textArea = '<textarea></textarea>';
Mscrm.ElementTemplate.anchor = '<a></a>';
Mscrm.ElementTemplate.label = '<label></label>';
Mscrm.ElementTemplate.tableNoSpacingPadding = '<table cellspacing=\"0\" cellpadding=\"0\"></table>';
Mscrm.ElementTemplate.tableColumn = '<col></col>';
Mscrm.ElementTemplate.tableColumnGroup = '<colgroup></colgroup>';
Mscrm.ElementTemplate.tableRow = '<tr></tr>';
Mscrm.ElementTemplate.tableCell = '<td></td>';
Mscrm.ElementTemplate.button = '<button type=\"button\"></button>';
Mscrm.SaveResponseCode.formNotFound = 0;
Mscrm.SaveResponseCode.formNotDirty = 1;
Mscrm.SaveResponseCode.preValidationFailed = 2;
Mscrm.SaveResponseCode.validationFailed = 3;
Mscrm.SaveResponseCode.formSerializationFailed = 4;
Mscrm.SaveResponseCode.validationSuccessful = 5;
Mscrm.SaveResponseCode.saveSuccessfullyInitiated = 6;
Mscrm.SaveResponseCode.saveFailed = 7;
Mscrm.SaveResponseCode.saveSucceeded = 8;
Mscrm.SaveResponseCode.saveCanceled = 9;
Mscrm.SaveResponseCode.saveSpecial = 10;
Mscrm.ServiceNames.retrieveItem = 'RetrieveItem';
Mscrm.ServiceNames.retrieveInlineSearchResults = 'RetrieveInlineSearchResults';
Mscrm.TurboForm.Control.ControlBuilder.$7 = null;
Mscrm.TurboForm.Control.DataAttributeBuilder.$7 = null;
Mscrm.TurboForm.Control.DataEntityBuilder.$7 = null;
Mscrm.TurboForm.Control.PageBuilder.$7 = null;
Mscrm.TurboForm.Control.SectionBuilder.$7 = null;
Mscrm.TurboForm.Control.TabBuilder.$7 = null;
Mscrm.TurboForm.Control.CommandBarManager.$7 = null;
Mscrm.TurboForm.Control.CommandBarManager.$4T = null;
Mscrm.TurboForm.Control.CommandService.referenceKeyForCommand = 'command';
Mscrm.TurboForm.Control.CommandService.$8K = false;
Mscrm.TurboForm.Control.CommandService.$2S = null;
Mscrm.TurboForm.Control.CommandService.errorKey = '_error';
Mscrm.TurboForm.Control.CommandService.$7 = null;
Mscrm.TurboForm.Control.CustomScriptsManager.scriptsHaveLoaded = 'ScriptsAreLoaded';
Mscrm.TurboForm.Control.CustomScriptsManager.$CO = { '$webresource:msdyn_/activityfeeds.form.js': true, '$webresource:msdyn_/activityfeeds.services.js': true, '$webresource:msdyn_/activityfeeds.ui.js': true, '$webresource:msdyn_/crmsoapserviceproxy.js': true, '$webresource:msdyn_/filters.command.js': true, '$webresource:msdyn_/follow.command.js': true, '$webresource:msdyn_/wall.service.js': true, '$webresource:msdyn_/scripts/platformscriptloader.js': true, '$webresource:msdyn_/installedlocales.js': true };
Mscrm.TurboForm.Control.CustomScriptsManager.frameElement = null;
Mscrm.TurboForm.Control.CustomScriptsManager.$7 = null;
Mscrm.TurboForm.Control.DisposalManager.$3X = [];
Mscrm.TurboForm.Control.DisposalManager.$3f = [];
Mscrm.TurboForm.Control.DisposalManager.$CG = 0;
Mscrm.TurboForm.Control.DisposalManager.$9g = 0;
Mscrm.TurboForm.Control.ParameterKeys.url = 'Url';
Mscrm.TurboForm.Control.ParameterKeys.data = 'Data';
Mscrm.TurboForm.Control.ParameterKeys.defaultViewId = 'defaultviewid';
Mscrm.TurboForm.Control.ParameterKeys.defaultType = 'defaulttype';
Mscrm.TurboForm.Control.ParameterKeys.lookupStyle = 'lookupstyle';
Mscrm.TurboForm.Control.ParameterKeys.unboundLookupStyle = 'UnboundLookupStyle';
Mscrm.TurboForm.Control.ParameterKeys.lookupSearchViewId = 'DefaultViewId';
Mscrm.TurboForm.Control.ParameterKeys.showBreadcrumbControlKey = 'ShowAsBreadcrumbControl';
Mscrm.TurboForm.Control.ResourceManager.$7 = null;
Mscrm.TurboForm.Control.ValidationResult.$Ae = false;
Mscrm.TurboForm.Control.DefaultFormCache.$7 = new Mscrm.TurboForm.Control.DefaultFormCache();
Mscrm.TurboForm.Control.DialogBootstrapper.$1y = null;
Mscrm.TurboForm.Control.DialogBootstrapper.$Eo = window.location.hash;
Mscrm.TurboForm.Control.DuplicateDetectionService.$7 = null;
this.$6K = null;
this.$3 = null;
Mscrm.TurboForm.Control.PageBootstrapper.$6E = null;
Mscrm.TurboForm.Control.PageBootstrapper.$6F = null;
Mscrm.TurboForm.Control.PageBootstrapper.$2a = null;
Mscrm.TurboForm.Control.PageBootstrapper.$2b = new Sys.EventHandlerList();
Mscrm.TurboForm.Control.PageBootstrapper.$9X = false;
Mscrm.TurboForm.Control.PageBootstrapper.$9j = null;
Mscrm.TurboForm.Control.PageBootstrapper.$AE = 0;
Mscrm.TurboForm.Control.PageBootstrapper.$7l = null;
Mscrm.TurboForm.Control.PageBootstrapper.$D0 = 30;
Mscrm.TurboForm.Control.PageBootstrapper.$EW = 450;
Mscrm.TurboForm.Control.PageBootstrapper.$CH = new Mscrm.TurboForm.Views.LayoutRenderer();
Mscrm.TurboForm.Control.PageBootstrapper.$Bc = Mscrm.TurboForm.Control.PageBootstrapper.$HS();
Mscrm.TurboForm.Control.PageBootstrapper.hasPageLoaded = false;
Mscrm.TurboForm.Control.PageBootstrapper.pageHash = Mscrm.TurboForm.Control.PageBootstrapper.$E7(window.self.location);
this.$2f = null;
Mscrm.TurboForm.Control.PageManager.$BE = Mscrm.CrmUri.create('/_controls/actionhubcontrol/actionhubcontrolPersonalWall.aspx?iscarouselview=true&isDashboard=false&pagemode=iframe').toString();
Mscrm.TurboForm.Control.PageManager.$7 = null;
Mscrm.TurboForm.Common.FormControlClassIdString.textBoxControl = '{4273EDBD-AC1D-40D3-9FB2-095C621B552D}';
Mscrm.TurboForm.Common.FormControlClassIdString.tickerControl = '{1E1FC551-F7A8-43AF-AC34-A8DC35C7B6D4}';
Mscrm.TurboForm.Common.FormControlClassIdString.urlControl = '{71716B6C-711E-476C-8AB8-5D11542BFB47}';
Mscrm.TurboForm.Common.FormControlClassIdString.phoneNumberControl = '{8C10015A-B339-4982-9474-A95FE05631A5}';
Mscrm.TurboForm.Common.FormControlClassIdString.emailAddressControl = '{ADA2203E-B4CD-49BE-9DDF-234642B43B52}';
Mscrm.TurboForm.Common.FormControlClassIdString.radioControl = '{67FAC785-CD58-4F9F-ABB3-4B7DDC6ED5ED}';
Mscrm.TurboForm.Common.FormControlClassIdString.lookupControl = '{270BD3DB-D9AF-4782-9025-509E298DEC0A}';
Mscrm.TurboForm.Common.FormControlClassIdString.dateTimeControl = '{5B773807-9FB2-42DB-97C3-7A91EFF8ADFF}';
Mscrm.TurboForm.Common.FormControlClassIdString.integerControl = '{C6D124CA-7EDA-4A60-AEA9-7FB8D318B68F}';
Mscrm.TurboForm.Common.FormControlClassIdString.moneyControl = '{533B9E00-756B-4312-95A0-DC888637AC78}';
Mscrm.TurboForm.Common.FormControlClassIdString.floatControl = '{0D2C745A-E5A8-4C8F-BA63-C6D3BB604660}';
Mscrm.TurboForm.Common.FormControlClassIdString.decimalControl = '{C3EFE0C3-0EC6-42BE-8349-CBD9079DFD8E}';
Mscrm.TurboForm.Common.FormControlClassIdString.textAreaControl = '{E0DECE4B-6FC8-4A8F-A065-082708572369}';
Mscrm.TurboForm.Common.FormControlClassIdString.picklistControl = '{3EF39988-22BB-4F0B-BBBE-64B5A3748AEE}';
Mscrm.TurboForm.Common.FormControlClassIdString.hiddenInputControl = '{5546E6CD-394C-4BEE-94A8-4425E17EF6C6}';
Mscrm.TurboForm.Common.FormControlClassIdString.gridControl = '{E7A81278-8635-4D9E-8D4D-59480B391C5B}';
Mscrm.TurboForm.Common.FormControlClassIdString.checkBoxControl = '{B0C6723A-8503-4FD7-BB28-C8A06AC933C2}';
Mscrm.TurboForm.Common.FormControlClassIdString.frameControl = '{FD2A7985-3187-444E-908D-6624B21F69C0}';
Mscrm.TurboForm.Common.FormControlClassIdString.socialInsightControl = '{86B9E25E-695E-4FEF-AC69-F05CFA96739C}';
Mscrm.TurboForm.Common.FormControlClassIdString.orgInsightsControl = '{76B9E25E-695E-4FEF-AC69-F05CFA96739C}';
Mscrm.TurboForm.Common.FormControlClassIdString.durationControl = '{AA987274-CE4E-4271-A803-66164311A958}';
Mscrm.TurboForm.Common.FormControlClassIdString.regardingControl = '{F3015350-44A2-4AA0-97B5-00166532B5E9}';
Mscrm.TurboForm.Common.FormControlClassIdString.partyListControl = '{CBFB742C-14E7-4A17-96BB-1A13F7F64AA2}';
Mscrm.TurboForm.Common.FormControlClassIdString.notesControl = '{06375649-C143-495E-A496-C962E5B4488E}';
Mscrm.TurboForm.Common.FormControlClassIdString.timeZonePicklistControl = '{7C624A0B-F59E-493D-9583-638D34759266}';
Mscrm.TurboForm.Common.FormControlClassIdString.languagePicker = '{671A9387-CA5A-4D1E-8AB7-06E39DDCF6B5}';
Mscrm.TurboForm.Common.FormControlClassIdString.accessTeamEntityPicker = '{3F4E2A56-F102-4B4D-AB9C-F1574CA5BFDA}';
Mscrm.TurboForm.Common.FormControlClassIdString.kbViewerControl = '{A62B6FA9-169E-406C-B1AA-EAB828CB6026}';
Mscrm.TurboForm.Common.FormControlClassIdString.picklistStatusControl = '{5D68B988-0661-4DB2-BC3E-17598AD3BE6C}';
Mscrm.TurboForm.Common.FormControlClassIdString.emailBodyControl = '{6F3FB987-393B-4D2D-859F-9D0F0349B6AD}';
Mscrm.TurboForm.Common.FormControlClassIdString.picklistLookupControl = '{2305E33A-BAD3-4022-9E15-1856CF218333}';
Mscrm.TurboForm.Common.FormControlClassIdString.relationshipRolePicklist = '{5F986642-5961-4D9F-AB5E-643D71E231E9}';
Mscrm.TurboForm.Common.FormControlClassIdString.relatedInformationControl = '{163B90A6-EB64-49D2-9DF8-3C84A4F0A0F8}';
Mscrm.TurboForm.Common.FormControlClassIdString.coverPagePicklistControl = '{4168A05C-D857-46AF-8457-5BB47EB04EA1}';
Mscrm.TurboForm.Common.FormControlClassIdString.mailMergeLanguagePicker = '{B634828E-C390-444A-AFE6-E07315D9D970}';
Mscrm.TurboForm.Common.FormControlClassIdString.connectionControl = '{3246F906-1F71-45F7-B11F-D7BE0F9D04C9}';
Mscrm.TurboForm.Common.FormControlClassIdString.connectionRoleObjectTypeListControl = '{821ACF1A-7E46-4A0C-965D-FE14A57D78C7}';
Mscrm.TurboForm.Common.FormControlClassIdString.mapsControl = '{62B0DF79-0464-470F-8AF7-4483CFEA0C7D}';
Mscrm.TurboForm.Common.FormControlClassIdString.mapLinkControl = '{91DC0675-C8B9-4421-B1E0-261CEBF02BAC}';
Mscrm.TurboForm.Common.FormControlClassIdString.webResourceHtmlControl = '{9FDF5F91-88B1-47F4-AD53-C11EFC01A01D}';
Mscrm.TurboForm.Common.FormControlClassIdString.webResourceImageControl = '{587CDF98-C1D5-4BDE-8473-14A0BC7644A7}';
Mscrm.TurboForm.Common.FormControlClassIdString.webResourceSilverlightControl = '{080677DB-86EC-4544-AC42-F927E74B491F}';
Mscrm.TurboForm.Common.FormControlClassIdString.reportControl = '{A28F441B-916C-4865-87FD-0C5D53BD59C9}';
Mscrm.TurboForm.Common.FormControlClassIdString.articleContentControl = '{F02EF977-2564-4B9A-B2F0-DF083D8A019B}';
Mscrm.TurboForm.Common.FormControlClassIdString.processControl = '{06E9F7AF-1F54-4681-8EEC-1E21A1CEB465}';
Mscrm.TurboForm.Common.FormControlClassIdString.activitiesWallControl = '{6636847D-B74D-4994-B55A-A6FAF97ECEA2}';
Mscrm.TurboForm.Common.FormControlClassIdString.quickFormControl = '{69AF7DCA-2E3B-4EE7-9201-0DA731DD2413}';
Mscrm.TurboForm.Common.FormControlClassIdString.quickFormCollectionControl = '{5C5600E0-1D6E-4205-A272-BE80DA87FD42}';
Mscrm.TurboForm.Common.FormControlClassIdString.linkControl = '{DFDF1CDE-837B-4AC9-98CF-AC74361FD89D}';
Mscrm.TurboForm.Common.FormControlClassIdString.compositionLinkControl = '{DB1284EF-9FFC-4E99-B382-0CC082FE2364}';
Mscrm.TurboForm.Common.FormControlClassIdString.errorStatusControl = '{F4C16ECA-CA81-4E39-9448-834B8378721E}';
Mscrm.TurboForm.Common.FormControlClassIdString.activitiesContainerControl = '{C72511AB-84E5-4FB7-A543-25B4FC01E83E}';
Mscrm.TurboForm.Common.FormControlClassIdString.accessPrivilegeControl = '{F93A31B2-99AC-4084-8EC2-D4027C31369A}';
Mscrm.TurboForm.Common.FormControlClassIdString.timerControl = '{9C5CA0A1-AB4D-4781-BE7E-8DFBE867B87E}';
Mscrm.TurboForm.Common.FormControlClassIdString.dynamicPropertyListControl = '{6896F004-B17A-4202-861E-8B7EA2080E0B}';
Mscrm.TurboForm.Common.FormControlClassIdString.buttonControl = '{00AD73DA-BD4D-49C6-88A8-2F4F4CAD4A20}';
Mscrm.TurboForm.Common.FormControlClassIdString.searchWidget = '{E616A57F-20E0-4534-8662-A101B5DDF4E0}';
Mscrm.TurboForm.Common.FormControlClassIdString.emailRecipientActivityControl = '{26E9760F-7454-40DE-BB07-F6DCCCB82040}';
Mscrm.TurboForm.Common.FormControlClassIdString.labelControl = '{39354E4A-5015-4D74-8031-EA9EB73A1322}';
Mscrm.TurboForm.Common.FormControlClassIdString.customControl = '{F9A8A302-114E-466A-B582-6771B2AE0D92}';
Mscrm.TurboForm.Common.FormControlClassIdString.editFilterControl = '{1479835F-F852-4679-B864-C6892A2844C9}';
Mscrm.TurboForm.Common.FormControlClassIdString.richEditorControl = '{F94DB24F-263D-44A7-B38E-A35E9854812B}';
Mscrm.TurboForm.Common.FormControlClassIdString.powerBIControl = '{8C54228C-1B25-4909-A12A-F2B968BB0D62}';
Mscrm.TurboForm.Common.FormControlClassIdString.emailEngagementActionsControl = '{F454228D-1D25-4319-E12F-D27968BC0234}';
Mscrm.TurboForm.Common.FormControlClassIdString.aciControl = '{C8BFBBEF-6851-4401-A0CC-7450062FE085}';
Mscrm.TurboForm.Common.FormControlClassId.textBoxControl = new Microsoft.Crm.Client.Core.Framework.Guid('{4273EDBD-AC1D-40D3-9FB2-095C621B552D}');
Mscrm.TurboForm.Common.FormControlClassId.tickerControl = new Microsoft.Crm.Client.Core.Framework.Guid('{1E1FC551-F7A8-43AF-AC34-A8DC35C7B6D4}');
Mscrm.TurboForm.Common.FormControlClassId.urlControl = new Microsoft.Crm.Client.Core.Framework.Guid('{71716B6C-711E-476C-8AB8-5D11542BFB47}');
Mscrm.TurboForm.Common.FormControlClassId.phoneNumberControl = new Microsoft.Crm.Client.Core.Framework.Guid('{8C10015A-B339-4982-9474-A95FE05631A5}');
Mscrm.TurboForm.Common.FormControlClassId.emailAddressControl = new Microsoft.Crm.Client.Core.Framework.Guid('{ADA2203E-B4CD-49BE-9DDF-234642B43B52}');
Mscrm.TurboForm.Common.FormControlClassId.radioControl = new Microsoft.Crm.Client.Core.Framework.Guid('{67FAC785-CD58-4F9F-ABB3-4B7DDC6ED5ED}');
Mscrm.TurboForm.Common.FormControlClassId.lookupControl = new Microsoft.Crm.Client.Core.Framework.Guid('{270BD3DB-D9AF-4782-9025-509E298DEC0A}');
Mscrm.TurboForm.Common.FormControlClassId.dateTimeControl = new Microsoft.Crm.Client.Core.Framework.Guid('{5B773807-9FB2-42DB-97C3-7A91EFF8ADFF}');
Mscrm.TurboForm.Common.FormControlClassId.integerControl = new Microsoft.Crm.Client.Core.Framework.Guid('{C6D124CA-7EDA-4A60-AEA9-7FB8D318B68F}');
Mscrm.TurboForm.Common.FormControlClassId.moneyControl = new Microsoft.Crm.Client.Core.Framework.Guid('{533B9E00-756B-4312-95A0-DC888637AC78}');
Mscrm.TurboForm.Common.FormControlClassId.floatControl = new Microsoft.Crm.Client.Core.Framework.Guid('{0D2C745A-E5A8-4C8F-BA63-C6D3BB604660}');
Mscrm.TurboForm.Common.FormControlClassId.decimalControl = new Microsoft.Crm.Client.Core.Framework.Guid('{C3EFE0C3-0EC6-42BE-8349-CBD9079DFD8E}');
Mscrm.TurboForm.Common.FormControlClassId.textAreaControl = new Microsoft.Crm.Client.Core.Framework.Guid('{E0DECE4B-6FC8-4A8F-A065-082708572369}');
Mscrm.TurboForm.Common.FormControlClassId.picklistControl = new Microsoft.Crm.Client.Core.Framework.Guid('{3EF39988-22BB-4F0B-BBBE-64B5A3748AEE}');
Mscrm.TurboForm.Common.FormControlClassId.hiddenInputControl = new Microsoft.Crm.Client.Core.Framework.Guid('{5546E6CD-394C-4BEE-94A8-4425E17EF6C6}');
Mscrm.TurboForm.Common.FormControlClassId.gridControl = new Microsoft.Crm.Client.Core.Framework.Guid('{E7A81278-8635-4D9E-8D4D-59480B391C5B}');
Mscrm.TurboForm.Common.FormControlClassId.checkBoxControl = new Microsoft.Crm.Client.Core.Framework.Guid('{B0C6723A-8503-4FD7-BB28-C8A06AC933C2}');
Mscrm.TurboForm.Common.FormControlClassId.frameControl = new Microsoft.Crm.Client.Core.Framework.Guid('{FD2A7985-3187-444E-908D-6624B21F69C0}');
Mscrm.TurboForm.Common.FormControlClassId.socialInsightControl = new Microsoft.Crm.Client.Core.Framework.Guid('{86B9E25E-695E-4FEF-AC69-F05CFA96739C}');
Mscrm.TurboForm.Common.FormControlClassId.orgInsightsControl = new Microsoft.Crm.Client.Core.Framework.Guid('{76B9E25E-695E-4FEF-AC69-F05CFA96739C}');
Mscrm.TurboForm.Common.FormControlClassId.durationControl = new Microsoft.Crm.Client.Core.Framework.Guid('{AA987274-CE4E-4271-A803-66164311A958}');
Mscrm.TurboForm.Common.FormControlClassId.regardingControl = new Microsoft.Crm.Client.Core.Framework.Guid('{F3015350-44A2-4AA0-97B5-00166532B5E9}');
Mscrm.TurboForm.Common.FormControlClassId.partyListControl = new Microsoft.Crm.Client.Core.Framework.Guid('{CBFB742C-14E7-4A17-96BB-1A13F7F64AA2}');
Mscrm.TurboForm.Common.FormControlClassId.notesControl = new Microsoft.Crm.Client.Core.Framework.Guid('{06375649-C143-495E-A496-C962E5B4488E}');
Mscrm.TurboForm.Common.FormControlClassId.timeZonePicklistControl = new Microsoft.Crm.Client.Core.Framework.Guid('{7C624A0B-F59E-493D-9583-638D34759266}');
Mscrm.TurboForm.Common.FormControlClassId.languagePicker = new Microsoft.Crm.Client.Core.Framework.Guid('{671A9387-CA5A-4D1E-8AB7-06E39DDCF6B5}');
Mscrm.TurboForm.Common.FormControlClassId.kbViewerControl = new Microsoft.Crm.Client.Core.Framework.Guid('{A62B6FA9-169E-406C-B1AA-EAB828CB6026}');
Mscrm.TurboForm.Common.FormControlClassId.picklistStatusControl = new Microsoft.Crm.Client.Core.Framework.Guid('{5D68B988-0661-4DB2-BC3E-17598AD3BE6C}');
Mscrm.TurboForm.Common.FormControlClassId.emailBodyControl = new Microsoft.Crm.Client.Core.Framework.Guid('{6F3FB987-393B-4D2D-859F-9D0F0349B6AD}');
Mscrm.TurboForm.Common.FormControlClassId.picklistLookupControl = new Microsoft.Crm.Client.Core.Framework.Guid('{2305E33A-BAD3-4022-9E15-1856CF218333}');
Mscrm.TurboForm.Common.FormControlClassId.relationshipRolePicklist = new Microsoft.Crm.Client.Core.Framework.Guid('{5F986642-5961-4D9F-AB5E-643D71E231E9}');
Mscrm.TurboForm.Common.FormControlClassId.relatedInformationControl = new Microsoft.Crm.Client.Core.Framework.Guid('{163B90A6-EB64-49D2-9DF8-3C84A4F0A0F8}');
Mscrm.TurboForm.Common.FormControlClassId.coverPagePicklistControl = new Microsoft.Crm.Client.Core.Framework.Guid('{4168A05C-D857-46AF-8457-5BB47EB04EA1}');
Mscrm.TurboForm.Common.FormControlClassId.mailMergeLanguagePicker = new Microsoft.Crm.Client.Core.Framework.Guid('{B634828E-C390-444A-AFE6-E07315D9D970}');
Mscrm.TurboForm.Common.FormControlClassId.connectionControl = new Microsoft.Crm.Client.Core.Framework.Guid('{3246F906-1F71-45F7-B11F-D7BE0F9D04C9}');
Mscrm.TurboForm.Common.FormControlClassId.connectionRoleObjectTypeListControl = new Microsoft.Crm.Client.Core.Framework.Guid('{821ACF1A-7E46-4A0C-965D-FE14A57D78C7}');
Mscrm.TurboForm.Common.FormControlClassId.mapsControl = new Microsoft.Crm.Client.Core.Framework.Guid('{62B0DF79-0464-470F-8AF7-4483CFEA0C7D}');
Mscrm.TurboForm.Common.FormControlClassId.mapLinkControl = new Microsoft.Crm.Client.Core.Framework.Guid('{91DC0675-C8B9-4421-B1E0-261CEBF02BAC}');
Mscrm.TurboForm.Common.FormControlClassId.webResourceHtmlControl = new Microsoft.Crm.Client.Core.Framework.Guid('{9FDF5F91-88B1-47F4-AD53-C11EFC01A01D}');
Mscrm.TurboForm.Common.FormControlClassId.webResourceImageControl = new Microsoft.Crm.Client.Core.Framework.Guid('{587CDF98-C1D5-4BDE-8473-14A0BC7644A7}');
Mscrm.TurboForm.Common.FormControlClassId.webResourceSilverlightControl = new Microsoft.Crm.Client.Core.Framework.Guid('{080677DB-86EC-4544-AC42-F927E74B491F}');
Mscrm.TurboForm.Common.FormControlClassId.reportControl = new Microsoft.Crm.Client.Core.Framework.Guid('{A28F441B-916C-4865-87FD-0C5D53BD59C9}');
Mscrm.TurboForm.Common.FormControlClassId.articleContentControl = new Microsoft.Crm.Client.Core.Framework.Guid('{F02EF977-2564-4B9A-B2F0-DF083D8A019B}');
Mscrm.TurboForm.Common.FormControlClassId.processControl = new Microsoft.Crm.Client.Core.Framework.Guid('{06E9F7AF-1F54-4681-8EEC-1E21A1CEB465}');
Mscrm.TurboForm.Common.FormControlClassId.activitiesWallControl = new Microsoft.Crm.Client.Core.Framework.Guid('{6636847D-B74D-4994-B55A-A6FAF97ECEA2}');
Mscrm.TurboForm.Common.FormControlClassId.quickFormControl = new Microsoft.Crm.Client.Core.Framework.Guid('{69AF7DCA-2E3B-4EE7-9201-0DA731DD2413}');
Mscrm.TurboForm.Common.FormControlClassId.quickFormCollectionControl = new Microsoft.Crm.Client.Core.Framework.Guid('{5C5600E0-1D6E-4205-A272-BE80DA87FD42}');
Mscrm.TurboForm.Common.FormControlClassId.linkControl = new Microsoft.Crm.Client.Core.Framework.Guid('{DFDF1CDE-837B-4AC9-98CF-AC74361FD89D}');
Mscrm.TurboForm.Common.FormControlClassId.compositionLinkControl = new Microsoft.Crm.Client.Core.Framework.Guid('{DB1284EF-9FFC-4E99-B382-0CC082FE2364}');
Mscrm.TurboForm.Common.FormControlClassId.errorStatusControl = new Microsoft.Crm.Client.Core.Framework.Guid('{F4C16ECA-CA81-4E39-9448-834B8378721E}');
Mscrm.TurboForm.Common.FormControlClassId.activitiesContainerControl = new Microsoft.Crm.Client.Core.Framework.Guid('{C72511AB-84E5-4FB7-A543-25B4FC01E83E}');
Mscrm.TurboForm.Common.FormControlClassId.accessTeamEntityPickerControl = new Microsoft.Crm.Client.Core.Framework.Guid('{3F4E2A56-F102-4B4D-AB9C-F1574CA5BFDA}');
Mscrm.TurboForm.Common.FormControlClassId.accessPrivilegeControl = new Microsoft.Crm.Client.Core.Framework.Guid('{F93A31B2-99AC-4084-8EC2-D4027C31369A}');
Mscrm.TurboForm.Common.FormControlClassId.timerControl = new Microsoft.Crm.Client.Core.Framework.Guid('{9C5CA0A1-AB4D-4781-BE7E-8DFBE867B87E}');
Mscrm.TurboForm.Common.FormControlClassId.dynamicPropertyListControl = new Microsoft.Crm.Client.Core.Framework.Guid('{6896F004-B17A-4202-861E-8B7EA2080E0B}');
Mscrm.TurboForm.Common.FormControlClassId.buttonControl = new Microsoft.Crm.Client.Core.Framework.Guid('{00AD73DA-BD4D-49C6-88A8-2F4F4CAD4A20}');
Mscrm.TurboForm.Common.FormControlClassId.searchWidget = new Microsoft.Crm.Client.Core.Framework.Guid('{E616A57F-20E0-4534-8662-A101B5DDF4E0}');
Mscrm.TurboForm.Common.FormControlClassId.emailRecipientActivityControl = new Microsoft.Crm.Client.Core.Framework.Guid('{26E9760F-7454-40DE-BB07-F6DCCCB82040}');
Mscrm.TurboForm.Common.FormControlClassId.labelControl = new Microsoft.Crm.Client.Core.Framework.Guid('{39354E4A-5015-4D74-8031-EA9EB73A1322}');
Mscrm.TurboForm.Common.FormControlClassId.customControl = new Microsoft.Crm.Client.Core.Framework.Guid('{F9A8A302-114E-466A-B582-6771B2AE0D92}');
Mscrm.TurboForm.Common.FormControlClassId.editFilterControl = new Microsoft.Crm.Client.Core.Framework.Guid('{1479835F-F852-4679-B864-C6892A2844C9}');
Mscrm.TurboForm.Common.FormControlClassId.richEditorControl = new Microsoft.Crm.Client.Core.Framework.Guid('{F94DB24F-263D-44A7-B38E-A35E9854812B}');
Mscrm.TurboForm.Common.FormControlClassId.powerBIControl = new Microsoft.Crm.Client.Core.Framework.Guid('{8C54228C-1B25-4909-A12A-F2B968BB0D62}');
Mscrm.TurboForm.Common.FormControlClassId.emailEngagementActionsControl = new Microsoft.Crm.Client.Core.Framework.Guid('{F454228D-1D25-4319-E12F-D27968BC0234}');
Mscrm.TurboForm.Common.FormControlClassId.aciControl = new Microsoft.Crm.Client.Core.Framework.Guid('{C8BFBBEF-6851-4401-A0CC-7450062FE085}');
Mscrm.TurboForm.Common.BusinessProcessClientCache.businessProcessClientCacheLocalStorageKey = 'Microsoft.Crm.BusinessProcessClientCache';
Mscrm.TurboForm.Common.BusinessProcessClientCache.$22 = null;
Mscrm.TurboForm.Common.BusinessProcessClientCacheData.createRecordIdKey = 'CREATE';
Mscrm.TurboForm.Common.BusinessProcessClientCacheData.mruRecordIdKey = 'MRU';
Mscrm.TurboForm.Common.ProcessIdRequestManager.$22 = null;
Mscrm.TurboForm.Common.LayoutUrlCache.$22 = null;
Mscrm.TurboForm.Control.Data.BooleanDataAttribute.$$cctor();
Mscrm.TurboForm.Control.Data.DataAttributeBase.hiddenValueMask = '*******';
Mscrm.TurboForm.Control.Data.DataAttributeBase.$D1 = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(13, Xrm.FormDataAttributePrivilege, Mscrm.TurboForm.Control.Data.DataAttributeBase, null);
Mscrm.TurboForm.Control.Data.DataAttributeBase.$A2 = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(5, String, Mscrm.TurboForm.Control.Data.DataAttributeBase, 'none');
Mscrm.TurboForm.Control.Data.DataAttributeBase.$2F = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(6, Object, Mscrm.TurboForm.Control.Data.DataAttributeBase, null, true);
Mscrm.TurboForm.Control.Data.DataAttributeBase.$7f = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(7, String, Mscrm.TurboForm.Control.Data.DataAttributeBase, null);
Mscrm.TurboForm.Control.Data.DataAttributeBase.$Cx = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(26, Number, Mscrm.TurboForm.Control.Data.DataAttributeBase, 0);
Mscrm.TurboForm.Control.Data.DataAttributeBase.$Cw = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(33, Number, Mscrm.TurboForm.Control.Data.DataAttributeBase, 1);
Mscrm.TurboForm.Control.Data.DataAttributeBase.$Ci = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(35, Boolean, Mscrm.TurboForm.Control.Data.DataAttributeBase, false);
Mscrm.TurboForm.Control.Data.DataAttributeBase.$Cg = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(34, String, Mscrm.TurboForm.Control.Data.DataAttributeBase, '');
Mscrm.TurboForm.Control.Data.DataAttributeBase.$Ch = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(38, Number, Mscrm.TurboForm.Control.Data.DataAttributeBase, 0);
Mscrm.TurboForm.Control.Data.DataAttributeBase.$D7 = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(36, Boolean, Mscrm.TurboForm.Control.Data.DataAttributeBase, true);
Mscrm.TurboForm.Control.Data.DataEntity.$Dd = [ 'fullname', 'address1_composite', 'yomifullname', 'address2_composite', 'address3_composite', 'billto_composite', 'shipto_composite' ];
Mscrm.TurboForm.Control.Data.DateTimeDataAttribute.$$cctor();
Mscrm.TurboForm.Control.Data.HiddenDataAttribute.$$cctor();
Mscrm.TurboForm.Control.Data.LookupStyles.single = 'single';
Mscrm.TurboForm.Control.Data.LookupStyles.multiple = 'multi';
Mscrm.TurboForm.Control.Data.LookupStyles.subject = 'subject';
Mscrm.TurboForm.Control.Data.LookupDataAttribute.$CJ = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(12, String, Mscrm.TurboForm.Control.Data.LookupDataAttribute, '');
Mscrm.TurboForm.Control.Data.LookupDataAttribute.$A9 = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(20, String, Mscrm.TurboForm.Control.Data.LookupDataAttribute, 'none', true);
Mscrm.TurboForm.Control.Data.LookupDataAttribute.$$cctor();
Mscrm.TurboForm.Control.Data.NumberDataAttribute.$AP = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(23, String, Mscrm.TurboForm.Control.Data.NumberDataAttribute, '');
Mscrm.TurboForm.Control.Data.NumberDataAttribute.$B4 = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(24, Number, Mscrm.TurboForm.Control.Data.NumberDataAttribute, '');
Mscrm.TurboForm.Control.Data.NumberDataAttribute.$$cctor();
Mscrm.TurboForm.Control.Data.PicklistDataAttribute.$$cctor();
Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase.$CV = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(12, Array, Mscrm.TurboForm.Control.Data.PicklistDataAttributeBase, null);
Mscrm.TurboForm.Control.Data.StatusOptionDataAttribute.$$cctor();
Mscrm.TurboForm.Control.Data.StringDataAttribute.$CM = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(8, Number, Mscrm.TurboForm.Control.Data.StringDataAttribute, false);
Mscrm.TurboForm.Control.Data.StringDataAttribute.$$cctor();
Mscrm.TurboForm.Control.Data.MemoDataAttribute.$Ck = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(29, String, Mscrm.TurboForm.Control.Data.MemoDataAttribute, false);
Mscrm.TurboForm.Control.Data.MemoDataAttribute.$CC = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(31, Number, Mscrm.TurboForm.Control.Data.MemoDataAttribute, false);
Mscrm.TurboForm.Control.Data.MemoDataAttribute.$Cn = new Mscrm.TurboForm.Control.Data.VisibleDataProperty(30, Number, Mscrm.TurboForm.Control.Data.MemoDataAttribute, false);
Mscrm.TurboForm.Control.Data.MemoDataAttribute.$$cctor();
Mscrm.TurboForm.Control.Data.UniqueIdentifierDataAttribute.$$cctor();
Mscrm.TurboForm.Control.ViewModel.ACIViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$9l = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(15, String, Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel, '', true);
Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$EZ = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(40, String, Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel, '', true);
Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$7e = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(3, Boolean, Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase, false, true);
Mscrm.TurboForm.Control.ViewModel.ControlViewModelBase.$9F = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(4, Boolean, Mscrm.TurboForm.Control.ViewModel.EditableControlViewModel, false);
Mscrm.TurboForm.Control.ViewModel.InlineEditControlMode.alwaysEdit = 'alwaysedit';
Mscrm.TurboForm.Control.ViewModel.InlineEditControlMode.deactivated = 'deactivated';
Mscrm.TurboForm.Control.ViewModel.InlineEditControlMode.locked = 'locked';
Mscrm.TurboForm.Control.ViewModel.InlineEditControlMode.normal = 'normal';
Mscrm.TurboForm.Control.ViewModel.DateTimeViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.EmailEngagementActionsControlViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.$9f = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(2, String, Mscrm.TurboForm.Control.ViewModel.FormElementViewModel, '');
Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.$AD = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(1, Boolean, Mscrm.TurboForm.Control.ViewModel.FormElementViewModel, true, true);
Mscrm.TurboForm.Control.ViewModel.FormElementViewModel.$BW = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(37, String, Mscrm.TurboForm.Control.ViewModel.FormElementViewModel, window.LOCID_IEC_CLICKTOENTER, true);
Mscrm.TurboForm.Control.ViewModel.FormViewModel.$ET = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(14, Boolean, Mscrm.TurboForm.Control.ViewModel.FormViewModel, false);
Mscrm.TurboForm.Control.ViewModel.FormViewModel.$FO = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(16, Boolean, Mscrm.TurboForm.Control.ViewModel.FormViewModel, false);
Mscrm.TurboForm.Control.ViewModel.FormViewModel.$Dp = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(19, Mscrm.TurboForm.Control.FormState, Mscrm.TurboForm.Control.ViewModel.FormViewModel, 0, true);
Mscrm.TurboForm.Control.ViewModel.FormViewModel.$EH = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(28, String, Mscrm.TurboForm.Control.ViewModel.FormViewModel, '');
Mscrm.TurboForm.Control.ViewModel.IFrameViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.KMControlViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.EmailRecipientActivityControlViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.LinkControlViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$5X = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(21, Array, Mscrm.TurboForm.Control.ViewModel.LookupViewModel, '');
Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$B8 = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(22, Array, Mscrm.TurboForm.Control.ViewModel.LookupViewModel, '');
Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$B5 = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(39, Array, Mscrm.TurboForm.Control.ViewModel.LookupViewModel, null);
Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$Er = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(25, String, Mscrm.TurboForm.Control.ViewModel.LookupViewModel, '');
Mscrm.TurboForm.Control.ViewModel.LookupViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.MapControlViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.OptionSetViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.create = 'Create';
Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.createTaskKey = 'quickCreateActivity4212controlId';
Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.$Bd = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(27, Microsoft.Crm.Client.Core.Framework.Guid, Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel, Microsoft.Crm.Client.Core.Framework.Guid.get_empty());
Mscrm.TurboForm.Control.ViewModel.QuickFormViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.StandardControlViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.$5X = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(21, Mscrm.AutoLookupSearchRecord, Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel, '');
Mscrm.TurboForm.Control.ViewModel.AutoLookupControlViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.MoneyViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.SubGridViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.TabViewModel.$9G = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(0, String, Mscrm.TurboForm.Control.ViewModel.TabViewModel, 'expanded', true);
Mscrm.TurboForm.Control.ViewModel.TabViewModel.$7e = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(3, Boolean, Mscrm.TurboForm.Control.ViewModel.TabViewModel, false, true);
Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel.$3v = false;
Mscrm.TurboForm.Control.ViewModel.TimerControlViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.passParametersKey = 'PassParameters';
Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.onReadyStateCompleteEventName = 'OnReadyStateCompleteEvent';
Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.formDataReloadCounterTwo = 2;
Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.$Cv = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(17, String, Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel, '');
Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel.$C4 = new Mscrm.TurboForm.Control.ViewModel.VisibleControlProperty(18, String, Mscrm.TurboForm.Control.ViewModel.WebResourceViewModel, '');
Mscrm.TurboForm.Control.ViewModel.WebResourceSilverlightViewModel.$$cctor();
Mscrm.TurboForm.Control.ViewModel.SocialInsightControlViewModel.$$cctor();
Mscrm.TurboForm.Control.View.CheckBoxEditableControlView.$$cctor();
Mscrm.TurboForm.Control.View.DateFormatter.$7 = null;
Mscrm.TurboForm.Control.View.DecimalFormatter.$7 = null;
Mscrm.TurboForm.Control.View.DefaultFormatter.$7 = null;
Mscrm.TurboForm.Control.View.DurationFormatter.$7 = null;
Mscrm.TurboForm.Control.View.MoneyFormatter.$7 = null;
Mscrm.TurboForm.Control.View.NumberFormatter.$7 = null;
Mscrm.TurboForm.Control.View.TimeFormatter.$7 = null;
Mscrm.TurboForm.Control.View.TextAreaFormatter.$7 = null;
Mscrm.TurboForm.Control.View.ACIView.$$cctor();
Mscrm.TurboForm.Control.View.EditableControlView.attributeChanged = 'attribute-changed';
Mscrm.TurboForm.Control.View.EditableControlView.alertImageClass = 'ms-crm-ImageStrip-inlineedit_alert';
Mscrm.TurboForm.Control.View.EditableControlView.warningImageClass = 'ms-crm-ImageStrip-inlineedit_warning';
Mscrm.TurboForm.Control.View.EditableControlView.fieldLevelSecurityImageClass = 'ms-crm-Header-Permission-key';
Mscrm.TurboForm.Control.View.EditableControlView.$23 = null;
Mscrm.TurboForm.Control.View.EditableControlView.$$cctor();
Mscrm.TurboForm.Control.View.EmailEditableControlView.$$cctor();
Mscrm.TurboForm.Control.View.EmailBodyEditElement.$d = null;
Mscrm.TurboForm.Control.View.EmailBodyEditElement.defaultDescriptionValue = '<br><div id=\"signature\"></div>';
Mscrm.TurboForm.Control.View.LookupEditElement.unresolvedLookupItemClass = 'ms-crm-Inline-MultiLookupItem-Unresolved';
Mscrm.TurboForm.Control.View.SubjectLookupEditElement.subjectLookupStyle = 'subject';
Mscrm.TurboForm.Control.View.EditFilterControlView.$$cctor();
Mscrm.TurboForm.Control.View.EmailEngagementActionsControlView.$$cctor();
Mscrm.TurboForm.Control.View.FormView.$d = null;
Mscrm.TurboForm.Control.View.DialogSize.imageUploadControlHeight = 390;
Mscrm.TurboForm.Control.View.DialogSize.imageUploadControlWidth = 456;
Mscrm.TurboForm.Control.View.IFrameView.$$cctor();
Mscrm.TurboForm.Control.View.LinkControlView.$$cctor();
Mscrm.TurboForm.Control.View.MapControlView.$$cctor();
Mscrm.TurboForm.Control.View.QuickFormView.$$cctor();
Mscrm.TurboForm.Control.View.RadioControlView.$$cctor();
Mscrm.TurboForm.Control.View.DateTimeControlView.$$cctor();
Mscrm.TurboForm.Control.View.ReadControlView.$$cctor();
Mscrm.TurboForm.Control.View.SocialInsightControlView.$$cctor();
Mscrm.TurboForm.Control.View.KMControlView.$$cctor();
Mscrm.TurboForm.Control.View.EmailRecipientActivityControlView.$$cctor();
Mscrm.TurboForm.Control.View.TimerControlView.$$cctor();
Mscrm.TurboForm.Control.View.DateTimeValueElement.$1E = '--';
Mscrm.TurboForm.Control.View.LookupValueElement.resolvedStyle = 'display: inline-block;';
Mscrm.TurboForm.Control.View.LookupValueElement.unresolvedStyle = 'display: inline-block; text-decoration:none; color:#FF0000;';
Mscrm.TurboForm.Control.View.LookupValueElement.subjectLookupStyle = 'subject';
Mscrm.TurboForm.Control.View.InlineTimerControlFailureView.failureImagePath = '/_imgs/timercontrol/timer_expired_16.png';
Mscrm.TurboForm.Control.View.InlineTimerControlNoPrivilegeView.noPrivilegeImagePath = '/_imgs/permission_key.png';
Mscrm.TurboForm.Control.View.InlineTimerControlPausedView.pausedImagePath = '/_imgs/timercontrol/pause_16.png';
Mscrm.TurboForm.Control.View.InlineTimerControlSuccessView.succeededImagePath = '/_imgs/timercontrol/timer_success_16.png';
Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.dayLowerLimit = 0;
Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.hoursLowerLimit = 0;
Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.minutesLowerLimit = 0;
Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.secondsLowerLimit = 0;
Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.hoursUpperLimit = 23;
Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.minutesUpperLimit = 59;
Mscrm.TurboForm.Control.View.InlineTimerControlViewBase.secondsUpperLimit = 59;
Mscrm.TurboForm.Control.View.InlineTimerControlViolatedView.violatedImagePath = '/_imgs/timercontrol/timer_expired_16.png';
Mscrm.TurboForm.Control.View.InlineTimerControlWarningView.warningImagePath = '/_imgs/timercontrol/timer_nearing_expiration_16.png';
Mscrm.TurboForm.Control.View.UrlEditableControlView.$$cctor();
Mscrm.TurboForm.Control.View.WebResourceView.$$cctor();
Mscrm.TurboForm.Control.View.WebResourceSilverlightView.$$cctor();
//@ sourceMappingURL=.srcmap
