Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$Hp=function(){};Microsoft.Crm.Client.Core.ViewModels.$Hp.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Hp");Microsoft.Crm.Client.Core.ViewModels.$Ho=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ho.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ho");Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.prototype={task:0,email:1,appointment:2,phoneCall:3,incidentResolution:4,note:5,systemPost:6,userPost:7,socialActivity:8,customActivity:9,incident:10,account:11};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.prototype={open:0,completed:1,canceled:2,scheduled:3};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.prototype={high:0,normal:1,low:2};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.prototype={incoming:0,outgoing:1};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel=function(n){var r,t,i;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.initializeBase(this,[n]);this.$Ru={};r=Microsoft.Crm.Client.Core.Framework.$1u.$c("IsUSD");!$0.$1(r)&&Boolean.isInstanceOfType(r)&&(this.$fI=r);t=this;this.$1Xt=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){t.$5k.$Cb===t.$5k.$mp?t.$5k.$1ws(!1):t.$3Du(!1)},1004);i=this;this.$1Xs=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){i.$5k.$Cb+1===i.$5k.get_$1dn()?i.$5k.$1ws(!0):i.$3Du(!0)},1004)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.prototype={$1Xt:null,$1Xs:null,get_ListNavigationRecordCount:function(){if($0.$1(this.$5k))return"";var n=this.$5k.$Cb+1;return n.toString()+"/"+this.$5k.$198.toString()},$3Dt:function(n){n?this.set_NextNavigationIndex(this.$5k.$Cb+1):this.set_NextNavigationIndex(this.$5k.$Cb-1);for(var t=this.$5k.$2MO(this.$Qy),i=!0;!t;){if(!this.$Qy||this.$Qy===this.$5k.$198-1){i=!1;break}n?this.set_NextNavigationIndex(this.$Qy+1):this.set_NextNavigationIndex(this.$Qy-1);t=this.$5k.$2MO(this.$Qy)}return i?!0:(Microsoft.Crm.Client.Core.ViewModels.$Z.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_0x8004020e"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_0x80042300"),0),!1)},$3Du:function(n){var i,t,u,f,r;this.$3Dt(n)&&(this.$5k.$uE=!0,i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T(),t=this.get_CurrentListNavigationDataContext().get_$1K(),Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(t)&&(u=t,f=u.$M.$N,f.LogicalName!=="queueitem"&&(i.$Q.$T.EntityReference=null)),r=new Microsoft.Crm.Client.Core.Commands.$B7(i),r.execute(),r.dispose(),t=this.get_CurrentListNavigationDataContext().get_$1K(),Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(t)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$L7().$1ZP(t),Microsoft.Crm.Client.Core.ViewModels.$p.$1i1(t)))},get_NavigateToPrevious:function(){return this.$1Xt},set_NavigateToPrevious:function(n){return this.$1Xt=n,n},get_NavigateToNext:function(){return this.$1Xs},set_NavigateToNext:function(n){return this.$1Xs=n,n},$Ru:null,$Xe:null,$qZ:null,$2Hf:function(n,t){if($0.$1(this.$qZ)){var i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveDashboardSelector",null,!0,[1,2]),r=this;i.OnSuccess=function(n){if(!$0.$1(n)&&!$0.$1(n.$EJ)){var i=n.$EJ.Controls;r.$1eU(i);t()}};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",n,i)}else t()},$1eU:function(n){var r,t,s,h,w,f,c,l,b,e,a;for(this.$Ru={},this.$qZ=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$6w)),r=0;r<n[0].Children.length;r++){var u=n[0].Children[r],v=u.Id,i=u.LabelText;switch(i){case"Service Desk Dashboard":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionCentric_ServiceDeskDashboard");break;case"Knowledge Manager":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionCentric_KnowledgeManagerDashboard");break;case"My Knowledge Dashboard":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionCentric_MyKnowledgeDashboard")}var o=this.$2DR(u.CommandParameters.Descriptors,"Properties"),y=!1,p=u.CommandParameters.IsDefault;if(o){t=null;s=o;for(h in s)w={key:h,value:s[h]},f=w.value,f&&f.Name==="PrimaryEntity"&&(t=f.Value,this.$Ru[t]||(this.$Ru[t]=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$6w))));c=o;for(l in c)if(b={key:l,value:c[l]},e=b.value,e&&e.Name==="DashboardCategory"){a=e.Value.toString().split("_");a.length>1&&a[1]==="1"&&t&&(y=!0,this.$Ru[t].add(new Microsoft.Crm.Client.Core.ViewModels.$6w(v,i,t,p)));y||this.$qZ.add(new Microsoft.Crm.Client.Core.ViewModels.$6w(v,i,t,p));break}}}},$2DR:function(n,t){var r,u,i,f;if(!n)return null;if(n[t])return n[t];r=n;for(u in r)if((i={key:u,value:r[u]},i.key!=="__proto__"&&i.value&&(i.value.toString().toLowerCase()==="[object object]"||!(i.value.toString().indexOf(t)<0)))&&(f=this.$2DR(i.value,t),f))return f;return null},$35r:function(n){var i=n.$17l[0],t;for(Xrm.Utility.create(i,null,null,null,null,null),t=0;t<n.$17l.length;t++)n.$17l[t]=null;n=null},$2dg:function(n){if($0.$1(this.$6J)&&(this.$6J=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4x))),!this.$6J.contains(n)){if(this.$6J.add(n),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){var t=n;t=$.extend(!0,{},n);this.get_$Nb().add(t)}this.$12v=null;n.set_$Og(!0);this.$2Db()}},clearSelectedViewModels:function(){var t=!1,n;if(!$0.$1(this.$6J)){for(n=0;n<this.$6J.get_Count();n++)this.$6J.get_$I(n).$2i2(),t=!0;this.$6J.clear()}t&&this.$1ne()},GetRootTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?1e3:-3e4},$3Mm:function(n){var t,i;if(!$0.$1(this.$6J)&&(this.$6J.contains(n)||this.get_$Nb().contains(n))){if(this.$6J.remove(n),!this.$6J.contains(n))for(t=0;t<this.$6J.get_Count();t++)if(this.$6J.get_Items()[t].get_Id()===n.get_Id()){this.$6J.remove(this.$6J.get_Items()[t]);break}if(this.get_$Nb().remove(n),!this.get_$Nb().contains(n))for(i=0;i<this.get_$Nb().get_Count();i++)if(this.get_$Nb().get_Items()[i].get_Id()===n.get_Id()){this.get_$Nb().remove(this.get_$Nb().get_Items()[i]);break}this.$12v=null;this.$2sA()}},$31w:function(n){var t,i;return Microsoft.Crm.Client.Core.ViewModels.$82.isInstanceOfType(n)?(t=n,$0.$1(t))?null:(i={},i.name=t.$17Z,i.id=t.$17Y,i.type=t.$17a,i):null},isNavBarOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$57.getParamStatus("navbar")},isBackButtonOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$57.getParamStatus("backbtn")},$1v2:function(n){this.get_CanGoBack()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype.$1v2.call(this,n):this.$1VC.$uW.execute()}};Microsoft.Crm.Client.Core.ViewModels.$9W=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_HandleFilterChangeCompletedEvent=Function.createDelegate(this,this.HandleFilterChangeCompletedEvent);this.$1r={};Microsoft.Crm.Client.Core.ViewModels.$9W.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$9W.prototype={$2D:!1,$1Fm:null,$Lo:null,get_AppliedFilterExpression:function(){return this.$Lo},set_AppliedFilterExpression:function(n){return this.$Lo=n,n},$Rj:null,$PU:null,get_AttributeMetadataActionProvider:function(){return this.$PU},set_AttributeMetadataActionProvider:function(n){return this.$PU=n,n},get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return this.$2D=n,this.$8("MetadataFetched"),n},get_IsMultipleEntityGraphSupported:function(){return this.$83().get_IsMultipleEntityGraphSupported()},$2IO:function(n){var i=0,t,r,u;if(!$0.$1(n)&&!$0.$1(n.get_$5S()))for(t=0;t<n.get_$5S().get_Count();t++)if(n.get_$5S().get_$I(t).get_$23().get_Count()>0){r=n.get_$5S().get_$I(t).get_$23().get_$I(0).get_$Pt();u=this.$1r[r][1];switch(u){case 20:case 11:case 0:case 12:case 13:case 1:case 6:case 10:case 9:case 14:i+=n.get_$5S().get_$I(t).get_$23().get_Count();break;case 5:case 4:case 3:case 2:i+=1}}return i},get_AppliedFiltersCount:function(){var n,t,i,r,u;if(this.$83().get_IsMultipleEntityGraphSupported()){if(n=0,!$0.$1(this.$Rj)){t=this.$Rj;for(i in t)r={key:i,value:t[i]},$0.$1(r.value)||(u=r.value,n+=this.$2IO(u))}return n}return this.$2IO(this.$Lo)},$18:function(){if(!this.$1y){var n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("AppliedFilters_Initialize",0,this.get_ViewModelId());$0.$1(n)||n.addParameter(this.$G);this.$1Fm=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_AttributeMetadataRetrieve");Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$83().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_HandleFilterChangeCompletedEvent)}},$GX:function(){this.$1r=null;this.$83().$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_HandleFilterChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},HandleFilterChangeCompletedEvent:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_HandleFilterChangeCompletedEvent"),y,r,f,p,b,k,o,i,s,h,c,l,u,a,it,ut;if(t.start(),this.$83().get_IsMultipleEntityGraphSupported()){k=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$NO)?"":n.$NO.toString(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(k);this.$Rj={};var d=this.$83().$Er,g={},nt=0,tt=d;for(o in tt)i={key:o,value:tt[o]},this.$Rj[i.key]=d[i.key].$8W(),s=this.$Rj[i.key].$CW.toArray(),g[i.key]=s,nt+=s.length;if(!nt){this.$8("CurrentAppliedFilters");return}h=g;for(c in h)if(l={key:c,value:h[c]},u=l.value,u.length>0){a=new Array(u.length);it=0;for(var rt=u,et=rt.length,v=0;v<et;++v)ut=rt[v],a[it++]=ut.get_$OJ();this.$P7(a,l.key)}t.stop();t.addParameter(this.get_ViewModelId())}else{if(y=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$Gr)?"":n.$Gr.$7J(),n.$h),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(y),this.$Lo=this.$83().$Lu.$8W(),r=this.$Lo.get_$5S().toArray(),!r.length){this.$8("CurrentAppliedFilters");return}f=new Array(r.length);p=0;for(var w=r,ft=w.length,e=0;e<ft;++e)b=w[e],f[p++]=b.get_$OJ();t.stop();t.addParameter(this.get_ViewModelId());this.$P7(f,this.$83().$8U)}this.$8("CurrentAppliedFilters")},removedAppliedFilters:function(n){this.$Lo.$N5(n);var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(n,1,0,this.$Lo);this.$83().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,t);this.$8("CurrentAppliedFilters")},removedAppliedFiltersWithEntity:function(n,t){this.$Rj[n].$N5(t);var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(t,1,0,null);i.$Kq=this.$Rj;this.$83().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,i);this.$8("CurrentAppliedFilters")},removedAllAppliedFilters:function(){var n;this.$83().get_IsMultipleEntityGraphSupported()?(this.$Rj=null,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,null),n.$Kq=this.$Rj):(this.$Lo=null,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,this.$Lo));this.$83().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,n);this.$8("CurrentAppliedFilters")},TruncatedGlobalFilterScreenReaderText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TruncatedGlobalFilter_ScreenReader_Label"),this.get_AppliedFiltersCount())},$2Hm:function(n,t,i,r){var u=new Array(2),f,e;switch(t){case 20:case 11:case 0:case 12:case 13:u[0]=String.format("{0} {1}/{2}",r,n.get_$23().get_Count().toString(),this.$1r[i][2]);u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_OptionSet"),r,n.get_$23().get_Count().toString(),this.$1r[i][2]);break;case 2:n.get_$23().get_$I(0).get_$Jr()||n.get_$23().get_$I(1).get_$Jr()?(f=new Date(Date.parse(n.get_$23().get_$I(0).get_$2O())),e=new Date(Date.parse(n.get_$23().get_$I(1).get_$2O())),u[0]=String.format("{0} {1}-{2}",r,f.format("d"),e.format("d")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_DateTimeRange"),r,f.format("d"),e.format("d"))):(u[0]=String.format("{0} {1}",r,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ChartAttributeValueMissing")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_DateTimeRange_NoneSelected"),r));break;case 5:case 4:case 3:n.get_$23().get_$I(0).get_$Jr()&&n.get_$23().get_$I(0).get_$Jr()!=="null"?n.get_$23().get_$I(0)&&!n.get_$23().get_$I(1)?(u[0]=String.format("{0} {1}",r,n.get_$23().get_$I(0).get_$2O()),u[1]=String.format("{0} {1}",r,n.get_$23().get_$I(0).get_$2O())):(u[0]=String.format("{0} {1}-{2}",r,n.get_$23().get_$I(0).get_$2O(),n.get_$23().get_$I(1).get_$2O()),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_Range"),r,n.get_$23().get_$I(0).get_$2O(),n.get_$23().get_$I(1).get_$2O())):(u[0]=String.format("{0} {1}",r,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ChartAttributeValueMissing")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_Range_NoneSelected"),r));break;case 1:case 6:case 10:case 9:case 14:case 15:u[0]=String.format("{0} {1}",r,n.get_$23().get_Count());u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_LookUp"),r,n.get_$23().get_Count())}return u},GenerateAppliedFilters:function(){var e=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_GeneratingAppliedFilters"),n,r,i,v,s,h,c,u,o,f,t,y,l,a;if(e.start(),n={},this.$83().get_IsMultipleEntityGraphSupported()){if(!$0.$1(this.$Rj)){h=this.$Rj;for(c in h)if(u={key:c,value:h[c]},!$0.$1(u.value))for(o=u.value,f=0;f<o.get_$5S().get_Count();f++)if(o.get_$5S().get_$I(f).get_$23().get_Count()>0){if(t=o.get_$5S().get_$I(f).get_$23().get_$I(0).get_$Pt(),!this.$1r[t])continue;y=this.$1r[t][1];n[t]={};l=this.$1r[t][0];u.key!==this.$83().$8U&&(l+=" ("+u.key+")");a=this.$2Hm(o.get_$5S().get_$I(f),y,t,l);n[t].displaytext=a[0];n[t].screenreadabletext=a[1];n[t].entityname=u.key}return e.stop(),e.addParameter(this.get_ViewModelId()),n}return null}if(!$0.$1(this.$Lo)){for(r=0;r<this.$Lo.get_$5S().get_Count();r++)if(this.$Lo.get_$5S().get_$I(r).get_$23().get_Count()>0){if(i=this.$Lo.get_$5S().get_$I(r).get_$23().get_$I(0).get_$Pt(),!this.$1r[i])continue;v=this.$1r[i][1];n[i]={};s=this.$2Hm(this.$Lo.get_$5S().get_$I(r),v,i,this.$1r[i][0]);n[i].displaytext=s[0];n[i].screenreadabletext=s[1]}return e.stop(),e.addParameter(this.get_ViewModelId()),n}return null},$P7:function(n,t){var i,r;this.set_IsLoading(!0);i={};i.EntityType=t;i.Attributes=n;i.OnSuccess=this.$$d_$4e;r=this.$PU.$DG(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(r);this.$1Fm.start()},$4e:function(n){var i,t;this.$1Fm.stop();this.$1Fm.addParameter(this.get_ViewModelId());i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_AttributeMetadataCaching");i.start();this.$2D=!1;for(var u=n,f=u.length,r=0;r<f;++r){t=u[r];switch(t.get_$5R()){case 20:case 11:case 0:case 13:case 12:this.$1r[t.get_$1n()]=[t.get_$9t(),t.get_$5R(),Microsoft.Crm.Client.Core.Framework.$1I.$m(t.get_$BS().$2f).toString()];break;default:this.$1r[t.get_$1n()]=[t.get_$9t(),t.get_$5R()]}}i.stop();i.addParameter(this.get_ViewModelId());this.$8("CurrentAppliedFilters");this.$Im("AppliedFilters_LoadedFilters")},$83:function(){return this.$2},get_TabSpaceReserved:function(){return 50},AppliedFilterScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_Label"),n)}};Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel=function(){this.$$d_$2eB=Function.createDelegate(this,this.$2eB);this.$$d_$1YY=Function.createDelegate(this,this.$1YY);this.$$d_$1UN=Function.createDelegate(this,this.$1UN);this.$$d_DefinitionUpdated=Function.createDelegate(this,this.DefinitionUpdated);Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.prototype={$1AX:null,$cf:null,$1Km:null,$1Vl:!1,get_$zb:function(){return this.$Pa?"SubGridAssociated:"+this.$J:Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.get_$zb.call(this)},get_ColumnsForGrid:function(){var n;if(this.$1AX=Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.get_ColumnsForGrid.call(this),!$0.$1(this.$1AX))for(var i=this.$1AX,r=i.length,t=0;t<r;++t)n=i[t],"name"in n&&"hidden"in n&&Array.contains(this.$307(),n.name.toString().toLowerCase())&&(n.hidden=!0);return this.$1AX},$307:function(){switch(this.$J.toLowerCase()){case"activitypointer":return["scheduledstart","community","instancetypecode"];case"incident":return["prioritycode","caseorigincode","customerid"];case"contact":return["parentcustomerid","emailaddress1"];case"socialprofile":return[];default:return[]}},get_AssociatedGridFlyoutViewModel:function(){if(!$0.$1(this.$1Km)){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",this.$1Km),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",$0.$1(this.$Gp)?this.get_DefinitionId():this.$J)],null,null);this.$cf=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,this.get_ModelContext(),this.$3V,this.$2);this.$cf.add_$1GK(this.$$d_DefinitionUpdated)}return this.$cf},DefinitionUpdated:function(n){var t=n,i=t.$9a[t.$J4];this.OnDefinitionUpdated(i)},$k8:null,get_SystemViewData:function(){return this.$k8},set_SystemViewData:function(n){return this.$k8=n,n},$bi:null,$bu:!1,get_IsAssociatedGridActive:function(){return this.$bu},set_IsAssociatedGridActive:function(n){return this.$bu=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$18.call(this),this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$YN().$A7(Microsoft.Crm.Client.Core.Framework.$3h,this.$$d_$1YY),this.$bu=!1,this.$bi=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p,this.add_$2eA(this.$$d_$2eB))},$2eB:function(){this.SetCommandBarContext()},$1eI:function(n){return n.val=this.$J,!0},$3WD:function(){return!1},$3WF:function(){return!1},$3WE:function(){return!1},get_$39S:function(){return!1},get_$394:function(){return!1},$4e:function(n){this.$bu&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$4e.call(this,n)},$5O:function(n){this.$bu&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$5O.call(this,n)},$2VJ:function(n){var t,r,u,i;return this.$Et?(t=n.$6d.get_$I("fetchXml").Data,t=Microsoft.Crm.Client.Core.ViewModels.$2D.$1oC(t,this.$GD),r=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Dj(t),$0.$1(r)&&!Microsoft.Crm.Client.Core.ViewModels.$2D.$1FB(this.$GD))?(this.$18Q=!0,n):(u=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(t),i=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Tv(t),$0.$1(i)||(this.$14r=i.toString()),this.$2W0(),u):n},$277:function(n){this.$cf.ItemSelected(n)},$1YY:function(n){var i,u,f;if(!n.get_$LJ()&&this.$bu){if(!$0.$1(this.$2.$F)&&"InteractionCentricFormBody"in this.$2.$F){var t=null,e=this.$2.$F.InteractionCentricFormBody,r=e.$F;for(i in r){u={key:i,value:r[i]};t=u.value;break}!$0.$1(t)&&"HeaderGroup"in this.$2.$F&&"InteractionCentricFormTabNavigator"in this.$2.$F.HeaderGroup.$F&&(f=this.$2.$F.HeaderGroup.$F.InteractionCentricFormTabNavigator,f.set_CurrentSelectedValue(t.get_Name()))}this.$bi.$zQ();this.$bi.forceRuleEvaluation()}},$3Xd:function(){if(!$0.$1(this.$2.$F)&&"HeaderGroup"in this.$2.$F&&"InteractionCentricFormTabNavigator"in this.$2.$F.HeaderGroup.$F){var n=this.$2.$F.HeaderGroup.$F.InteractionCentricFormTabNavigator;n.$Sg!=="AssociatedGrid0"&&n.set_CurrentSelectedValue("AssociatedGrid0")}},$1UN:function(n){n.$Y1==="AssociatedGrid0"?(this.$3Xd(),this.$bu=!0,this.SetCommandBarContext(),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$1nh(this.$2)):(this.$bu=!1,this.$bi.$zQ(),this.$bi.forceRuleEvaluation())},$3Kh:function(){if(!$0.$1(this.$k8)&&!$0.$1(this.$k8.$F)){var n={},t=this.$k8.$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")].$F;n[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")]=t;this.$1Km=n;this.$8("AssociatedGridSelectViewDataReceived")}},SetCommandBarContext:function(){if(!this.$1Vl){this.$1Vl=!0;this.$bi.$zQ();var n=this,t=this;this.$bi.$152(this.get_$zb(),this).then(function(t){var f,o,e,r,u,i,s;if(t)for(f=!1,o=n.$bi.$Ez,e=0;e<o.get_Count()&&!f;++e)if(r=o.getItem(e),n.$2ez(r),!$0.$1(r)&&"ChangeListViewButton"in r.$F){for(u=r.findActiveChildViewModels(),i=0;i<u.length&&!f;i++)u[i].$12==="ChangeListViewButton"&&(n.$k8=u[i],Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()&&(s=u[i].$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")],n.$1ZS(s.$F,!1)),f=!0);n.$3Kh()}n.$1Vl=!1},function(){})}},$2ez:function(n){var t=n.$1nb([".AddExistingStandard"]),i;t&&t.length>0&&(i=t[0],i.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenAssociateForm"))))},$GX:function(){this.$k8=null;$0.$1(this.$cf)||(this.$cf.remove_$1GK(this.$$d_DefinitionUpdated),this.$cf.dispose(),this.$cf=null);this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$YN().$Am(Microsoft.Crm.Client.Core.Framework.$3h,this.$$d_$1YY);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.prototype={$Xc:null,get_CardFormAttributes:function(){return this.$Xc},set_CardFormAttributes:function(n){return this.$Xc=n,n},$jK:null,get_CardDetails:function(){return this.$jK},set_CardDetails:function(n){return this.$jK=n,n},$jM:null,get_CardHeader:function(){return this.$jM},set_CardHeader:function(n){return this.$jM=n,n},$jL:null,get_CardFooter:function(){return this.$jL},set_CardFooter:function(n){return this.$jL=n,n},$Rn:null,get_ColorStrip:function(){return this.$Rn},set_ColorStrip:function(n){return this.$Rn=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this),this.$jK=this.$Xc.CardDetails,this.$jM=this.$Xc.CardHeader,this.$jL=this.$Xc.CardFooter,this.$Rn=this.$Xc.ColorStrip[0])},$GX:function(){this.$Xc=null;this.$jK=null;this.$jM=null;this.$jL=null;this.$Rn=null;Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Cq=function(){Microsoft.Crm.Client.Core.ViewModels.$Cq.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Cq.prototype={handleCollapsibleToggleButtonClick:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("VisualFilterCollapseButtonClicked",0,this.get_ViewModelId());var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m(this.$G);this.$83().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m,n)},$83:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.$UM=function(){Microsoft.Crm.Client.Core.ViewModels.$UM.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$UM.prototype={$6L:null,$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.getData())},get_ComboBoxViewModel:function(){return $0.$1(this.$6L)&&(this.$6L=new Microsoft.Crm.Client.Core.ViewModels.$9i),this.$6L},getData:function(){},$1fT:null,get_ComboBoxClass:function(){return this.$1fT},set_ComboBoxClass:function(n){return this.$1fT=n,n},$1hB:null,get_SelectElementDataId:function(){return this.$1hB},set_SelectElementDataId:function(n){return this.$1hB=n,n},$1hZ:null,get_WrapperClass:function(){return this.$1hZ},set_WrapperClass:function(n){return this.$1hZ=n,n}};Microsoft.Crm.Client.Core.ViewModels.$D2=function(){this.$$d_$2n4=Function.createDelegate(this,this.$2n4);Microsoft.Crm.Client.Core.ViewModels.$D2.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$D2.prototype={$2Ia:function(n){return n.$J1},$323:function(n){return n.$2b},SelectedItemName:function(){if(!this.$9a)return"";var n=this.$9a[this.$2.$h];return n?n.$J1:""},get_SelectedItemID:function(){if(!this.$9a)return"";var n=this.$9a[this.$2.$h];return n?n.$2b:""},getData:function(){this.$1cS();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Hf(this,this.$$d_$2n4)},ItemSelected:function(n){var i,t;if(!IsNull(this.$9a)){if(this.get_SelectedItemID()===n)return;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("DashboardPickerDashboardChanged",0,this.get_ViewModelId());i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();i.$Xe=this.$9a[n];t=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(this.$2);t.$1t=i.$Xe.$2b;t.$Mx=37;t.execute();t.dispose()}},$2n4:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),r=this.$2.$h,e,t,u,i,f;if(n.$Xe&&(r=n.$Xe.$2b),e=Microsoft.Crm.Client.Core.ViewModels.$6w.$2DS(n.$qZ,r),IsNull(n.$qZ)||e?t=n.$qZ:(n.$Xe||(n.$Xe=Microsoft.Crm.Client.Core.ViewModels.$6w.$2rq(n.$Ru,r)),t=n.$Ru[n.$Xe.$7i]),!IsNull(t)&&t.get_Count()>0){for(this.$Gq={},u={},i=0;i<t.get_Count();i++)f=t.get_$I(i),u[f.$2b]=f;this.$Gq[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")]=u;this.$1cS();n.$Xe=null;this.$8("dataRecieved")}},$GX:function(){this.$Gq=null;Microsoft.Crm.Client.Core.ViewModels.$Uu.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$D3=function(){Microsoft.Crm.Client.Core.ViewModels.$D3.initializeBase(this);this.$xQ="dateRangeFilterOpen"};Microsoft.Crm.Client.Core.ViewModels.$D3.prototype={SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$D5.prototype.SetDates.call(this,n,t);this.$3L7()},$3L7:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$EF),t;n.$9r(this.$EF,"on-or-after",this.$iP.format("s")).$9r(this.$EF,"on-or-before",this.$eN.format("s"));t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$EF,2,0,n,!0);this.$2.$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,t)}};Microsoft.Crm.Client.Core.ViewModels.$D5=function(){var t;this.$$d_$12z=Function.createDelegate(this,this.$12z);this.$2AM=new Microsoft.Crm.Client.Core.ViewModels.Converters.$L1;Microsoft.Crm.Client.Core.ViewModels.$D5.initializeBase(this);var n=(new Date).getFullYear(),i=n-100,r=n+100;this.$Ml=new Date("01/01/"+i);this.$13C=new Date("12/31/"+r);this.$1Mm=!1;t=Sys.CultureInfo.CurrentCulture.dateTimeFormat;this.$Y2=t.ShortestDayNames;this.$1Mu=!1;this.$xQ=""};Microsoft.Crm.Client.Core.ViewModels.$D5.prototype={$1O2:"",$EF:"createdon",$2Ob:null,$2OM:null,$1dL:null,$1R0:null,$Ml:null,$13C:null,$iP:null,$eN:null,$Y2:null,get_ShortestDayNames:function(){return this.$Y2},set_ShortestDayNames:function(n){return this.$Y2=n,n},DayName:function(n){return this.$Y2[n]},SetAttributeDisplayName:function(){var n,t;if(this.$1O2===""){if(n=[],n[0]=this.$EF,t=this.$2.$8U,!t)throw Error.create(String.format("SetAttributeDisplayName() has failed in DateRangeViewModel, entityName is null."));this.$P7(t,n)}},$P7:function(n,t){var i={},r,u;i.EntityType=n;i.Attributes=t;i.OnSuccess=this.$$d_$12z;r=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));u=r.$DG(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(u)},$12z:function(n){if(!$0.$1(n)&&n.length){var t=n[0];this.set_AttributeDisplayName(t.$1S)}},DateConverter:function(n){return this.$2AM.$I6(n,0)},GetLabel:function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6(n)},$ya:null,get_TimeFrame:function(){return this.$ya},set_TimeFrame:function(n){return this.$ya=n,n},$1Mu:!1,get_TimeFrameInitialized:function(){return this.$1Mu},set_TimeFrameInitialized:function(n){return this.$1Mu=n,n},get_AttributeLogicalName:function(){return this.$EF},set_AttributeLogicalName:function(n){return this.$EF=n,n},get_AttributeDisplayName:function(){return this.$1O2},set_AttributeDisplayName:function(n){return this.$1O2=n,this.$8("FilterBy"),n},get_DateTextForMinDate:function(){return this.DateConverter(this.$Ml)},set_DateTextForMinDate:function(n){return this.$2Ob=n,n},get_MinDate:function(){return this.$Ml},set_MinDate:function(n){return this.$Ml=n,n},get_DateTextForMaxDate:function(){return this.DateConverter(this.$13C)},set_DateTextForMaxDate:function(n){return this.$2OM=n,n},get_MaxDate:function(){return this.$13C},set_MaxDate:function(n){return this.$13C=n,n},get_StartDateText:function(){return this.$by?"":this.DateConverter(this.$iP)},set_StartDateText:function(n){return this.$1dL=n,Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$by=!0:(this.$by=!1,this.$iP=new Date(n)),this.$8("StartDate"),n},get_StartDate:function(){return this.$iP},set_StartDate:function(n){return this.$iP=n,n},get_EndDateText:function(){return this.$bw?"":this.DateConverter(this.$eN)},set_EndDateText:function(n){return this.$1R0=n,Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$bw=!0:(this.$bw=!1,this.$eN=new Date(n)),this.$8("EndDate"),n},get_DateRangeText:function(){return this.get_StartDateText()||this.get_EndDateText()?this.get_StartDateText()+"-"+this.get_EndDateText():Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ChartAttributeValueMissing")},get_EndDate:function(){return this.$eN},set_EndDate:function(n){return this.$eN=n,n},$xQ:null,get_DataId:function(){return this.$xQ},set_DataId:function(n){return this.$xQ=n,n},$1Mm:!1,get_ShowNoRange:function(){return this.$1Mm},set_ShowNoRange:function(n){return this.$1Mm=n,n},$by:!1,get_IsStartDateNull:function(){return this.$by},set_IsStartDateNull:function(n){return this.$by=n,n},$bw:!1,get_IsEndDateNull:function(){return this.$bw},set_IsEndDateNull:function(n){return this.$bw=n,n},SetDates:function(n,t){Microsoft.Crm.Client.Core.Framework.$3.$9(n)||Microsoft.Crm.Client.Core.Framework.$3.$9(t)?(this.$1dL=null,this.$1R0=null,this.$by=!0,this.$bw=!0):(this.$1dL=n,this.$iP=new Date(n),this.$1R0=t,this.$eN=new Date(t))}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("EmailAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel)};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2gf=function(n){switch(n){case 1:case 8:case 5:return!0;case 2:case 3:case 4:case 6:case 7:return!1;default:return!1}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2ge=function(n){switch(n){case 0:case 3:return!0;case 1:case 2:return!1;default:return!1}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2BT=function(n,t){return t==="4201"?Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2ge(n):t==="4202"?Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2gf(n):!1};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.prototype={$jZ:null,get_FileName:function(){return this.$jZ},set_FileName:function(n){return this.$jZ=n,n},$Ui:null,get_FileSize:function(){return this.$Ui},set_FileSize:function(n){return this.$Ui=n,n},$yC:null,get_ObjectId:function(){return this.$yC},set_ObjectId:function(n){return this.$yC=n,n},$qa:null,$x7:null,get_AttachmentId:function(){return this.$x7},set_AttachmentId:function(n){return this.$x7=n,n},get_PopupWindowTimeout:function(){return 100},$xt:!1,$18:function(){this.$1y||(this.$2.$J==="appointment"?(this.$qa="4201",this.$xt=!1):this.$2.$J==="email"?(this.$qa="4202",this.$xt=!0):(this.$qa="",this.$xt=!0),$0.$1(this.$2)||$0.$1(this.$2.get_$1K())||(this.$yC=this.$2.get_$1K().get_Id()),Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this))},GetAttachmentItemUri:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();return String.format("{0}/activities/attachment/edit.aspx?_CreateFromId=%7b{1}%7d&_CreateFromType={2}&id={3}&ish=true",n.context.getClientUrl(),this.$yC,this.$qa,this.ToStringAttachmentId())},ToStringAttachmentId:function(){return $0.$1(this.$x7)?"":this.$x7.toString()},Refresh:function(){var n=this.$2.$7X("EmailAttachmentsSubGrid");Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(n)&&!$0.$1(n.refreshCommand)&&n.refreshCommand.get_CanExecute()&&n.refreshCommand.execute()},GetWindowOptions:function(n,t,i,r){return String.format("width={0}, height={1}, top={2}, left={3}, menubar=no, toolbar=no",n,t,i,r)},GetPopupWidth:function(){return 584},GetPopupHeight:function(){return 213},$34a:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),t=-1;return $0.$1(n)||(this.$xt&&!$0.$1(n.getAttribute("statuscode"))?t=n.getAttribute("statuscode").getValue():this.$xt||$0.$1(n.getAttribute("statecode"))||(t=n.getAttribute("statecode").getValue())),t},EnableAttachmentHandling:function(){var n=this.$34a();return Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2BT(n,this.$qa)},$GX:function(){this.$jZ=null;this.$Ui=null;this.$yC=null;this.$qa=null;this.$x7=null;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Lf=function(n,t,i,r,u,f,e,o,s){this.$pv=n;this.$1gu=t;this.$1h7=i;this.$1LA=r;this.$1MN=u;this.$1Mf=f;this.$1MO=e;this.$1Mh=o;this.$pu=s};Microsoft.Crm.Client.Core.ViewModels.$Lf.prototype={$pv:null,$1gu:null,$1h7:null,$1MN:null,$1Mf:null,$1LA:null,$1MO:null,$1Mh:null,$pu:null};Microsoft.Crm.Client.Core.ViewModels.$AN=function(){this.$$d_$3C3=Function.createDelegate(this,this.$3C3);this.$$d_$3C9=Function.createDelegate(this,this.$3C9);this.$$d_$3C1=Function.createDelegate(this,this.$3C1);this.$$d_$12z=Function.createDelegate(this,this.$12z);this.$$d_processQueueItemViewFetchXml=Function.createDelegate(this,this.processQueueItemViewFetchXml);this.$$d_$3C2=Function.createDelegate(this,this.$3C2);this.$$d_processQueueSavedQueryFetchXml=Function.createDelegate(this,this.processQueueSavedQueryFetchXml);this.$$d_$3Lc=Function.createDelegate(this,this.$3Lc);this.$$d_OnFilterChangeCompletedEvent=Function.createDelegate(this,this.OnFilterChangeCompletedEvent);this.$tk={};this.$1O5=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.$AN.initializeBase(this);this.$PP="savedquery";this.$bY="savedqueryvisualization"};Microsoft.Crm.Client.Core.ViewModels.$AN.prototype={$1Jv:null,$23U:"",$fb:!1,$12F:"",$KH:null,$19l:!1,$1Y7:0,$SR:null,$Xj:!1,get_ViewNameText:function(){return this.$23U},set_ViewNameText:function(n){this.$23U=n;var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j(this.$G,n);return this.$5o().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j,t),n},get_ChartConfigObject:function(){return this.$Pb_7&&(this.$Pb_7=!1,this.set_IsLoading(!0),this.$Km()),this.$V9},get_$k:function(){return!0},get_IsFilterApplied:function(){return this.$fb},set_IsFilterApplied:function(n){return this.$fb=n,n},$190:null,get_Streams:function(){return this.$190},set_Streams:function(n){return this.$190=n,n},$17h:null,$1gx:null,$Lw:null,get_QueueItemViewId:function(){return this.$Lw},set_QueueItemViewId:function(n){return this.$Lw=n,n},$Xw:null,get_QueueId:function(){return this.$Xw},set_QueueId:function(n){return this.$Xw=n,n},$xz:null,get_IsSavedQueryOnQueues:function(){return this.$xz},set_IsSavedQueryOnQueues:function(n){return this.$xz=n,n},$18b:null,$xe:null,$Pb_7:!1,$1gC:!1,$qI:null,$bo:null,$1Ko:null,get_$vH:function(){return this.$5o()?this.$5o().$8U:""},get_AreZeroValueBaseSetAttributeFieldsSet:function(){return this.$Pb_7?!0:this.$19l},set_AreZeroValueBaseSetAttributeFieldsSet:function(n){return this.$19l=n,n},$18:function(){if(!this.$1y){var n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("VisualFilters_Initialize",0,this.get_ViewModelId());$0.$1(n)||n.addParameter(this.$G);this.$SR=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilters_ChartDataRetrieve");this.set_ChartSeriesClickCommand(null);this.set_AllowPointSelect(!1);this.set_IsFirstChart(!1);this.set_EnableDrilldown(!1);this.$xe=null;this.$3TI();Microsoft.Crm.Client.Core.ViewModels.$2Y.prototype.$18.call(this);this.$5o().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_OnFilterChangeCompletedEvent);this.$Xj=!1;this.$Pb_7=!1;this.$5o().$9L.$A7(Function,this.$$d_$3Lc)}},$3Lc:function(){this.$Km();this.$SR.start()},$3TI:function(){var n;if($0.$1(this.$190)||this.$5o().$ds!=="2"){this.$1Qh();return}if(n=this.$190.split("|"),n.length<4){this.$1Qh();return}var r=n[0],t=n[1],u=n[2],i=n[3];switch(r){case"0":this.$Xw=t;this.$xz="false";this.$Lw=i;break;case"2":this.$Xw=t;this.$xz="true";this.$Lw=i;break;case"1":this.$1Qh();break;default:this.$1Qh()}},$1Qh:function(){this.$Lw=null;this.$Xw=null},$1t1:function(){return!$0.$1(this.$Lw)&&!$0.$1(this.$Xw)?!0:!1},$Km:function(){if(!$0.$1(this.$AG)){var n=this;this.$2Nn().done(function(){n.$1t1()?n.$2JP():Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.prototype.$Km.call(n)})}},$2Nn:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("FilterGraphVM.GetDependencies"),i;return t.start(),Microsoft.Crm.Client.Core.Framework.$1g.$1q1("resources/styles/ishCssDependenciesPostLoad.css",null),i=this,Microsoft.Crm.Client.Core.Framework.$1g.$11m(["scripts/Microsoft.Crm.Client.Core.Messages.js","scripts/ishOssDependenciesPostLoad.js"],0,null).always(function(){n.resolve();t.stop()}),n.promise()},$2JP:function(){var n,t;this.$xz==="true"?(this.$qI={},this.$qI.savedqueryid=this.$Xw,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null),n.OnSuccess=this.$$d_processQueueSavedQueryFetchXml,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)):(t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,"QueueFilterExpression"),t.$9r("queueid","eq",this.$Xw),this.$18b=t,this.$2EL())},processQueueSavedQueryFetchXml:function(n){var i=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n.toString()),r=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(i).$O("fetch").get_$7Y().toString(),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FilterGraphFetchXmlWithCallback",null);t.OnFailure=this.$$d_$3C2;t.QueryValue=r;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t)},$3C3:function(n){for(var u,i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,"QueueFilterExpression"),r=n.get_entities(),f=r.length,t=0;t<f;++t)u=r[t],i.$9r("queueid","eq",u.$N.Id.toString());this.$18b=i;this.$2EL()},$3C2:function(){throw Error.create("FilterGraphViewModel: Queue FetchXml execution failed.");},$2EL:function(){this.$1gx=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l("queueitem").$4S;this.$qI={};this.$qI.savedqueryid=this.$Lw;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null);n.OnSuccess=this.$$d_processQueueItemViewFetchXml;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},processQueueItemViewFetchXml:function(n){var r=this.$2ta(),u=Microsoft.Crm.Client.Core.Storage.Common.$2b.$13F(n,r),t,i;this.$17h=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(u);t=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForFilterGraph",null));i=t.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(i)},$3C1:function(n){var e,o;if(!n.get_entities().length){this.$xe=this.$2tg();Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.prototype.$Km.call(this);return}for(var r="",u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.get_$vH()).$4S,t="<fetch version='1.0' output-format='xml-platform' mapping='logical'>\r\n\t\t\t\t\t\t\t\t<entity name='"+this.get_$vH()+"'>\r\n\t\t\t\t\t\t\t\t<attribute name='"+u+"' />\r\n\t\t\t\t\t\t\t\t<filter type = 'or'>",f=n.get_entities(),s=f.length,i=0;i<s;++i)e=f[i],o=e.getValue("objectid"),r+="<condition attribute='"+u+"' operator='eq' value='"+o.Id.toString()+"' />";t+=r;t+="<\/filter><\/entity><\/fetch>";this.$xe=t;Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.prototype.$Km.call(this)},$3C9:function(){throw Error.create("FilterGraphViewModel: QueueItem FetchXml execution failed.");},$2ta:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"EntityTypeQueueFilterExpression"),t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"EntityTypeFilterExpression");return t.$9r("objecttypecode","eq",Xrm.Internal.getEntityCode(this.get_$vH()).toString()),n.$6b(t),n.$6b(this.$18b),n.$7J()},$2tg:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.get_$vH()).$4S;return"<fetch version='1.0' output-format='xml-platform' mapping='logical'>\r\n\t\t\t\t\t\t\t\t<entity name='"+this.get_$vH()+"'>\r\n\t\t\t\t\t\t\t\t<attribute name='"+n+"' />\r\n\t\t\t\t\t\t\t\t<filter type = 'or'>\r\n\t\t\t\t\t\t\t\t<condition attribute='"+n+"' operator='eq' value='"+Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()+"' />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t<\/fetch>"},$3Sw:function(n){var t,i,u,r,f;if(this.$KH)if(t=this.$KH.$pu,this.$fb){for(i=0;i<t.get_Count();i++)if(u=n.$FE(t.get_$I(i)),!$0.$1(u))return;this.$fb=!1;this.$8("IsFilterApplied")}else for(r=0;r<t.get_Count();r++)f=n.$FE(t.get_$I(r)),$0.$1(f)||this.$8("IsFilterApplied")},$3Sx:function(n){var t,i,e,u,o,r,s,f,h;if(this.$KH)if(t=this.$KH.$pu,this.$fb){if(!$0.$1(n))for(i=0;i<t.get_Count();i++)if(e=this.$1Tb(t.get_$I(i)),u=n[e],!$0.$1(u)&&(o=u.$FE(t.get_$I(i)),!$0.$1(o)))return;this.$fb=!1;this.$8("IsFilterApplied")}else if(!$0.$1(n))for(r=0;r<t.get_Count();r++)s=this.$1Tb(t.get_$I(r)),f=n[s],$0.$1(f)||(h=f.$FE(t.get_$I(r)),$0.$1(h)||this.$8("IsFilterApplied"))},FilterGraphRenderCompleted:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x("FilterGraph");this.$5o().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x,n)},OnFilterChangeCompletedEvent:function(n){var t,i,r;if(this.$1Y7++,this.$1gC=n.$Uc.$1Vs,this.$5o().get_IsMultipleEntityGraphSupported()){this.$tk={};t=n.$NO;for(i in t)r={key:i,value:t[i]},this.$tk[r.key]=n.$NO[r.key].$7J();this.$3Sx(this.$5o().$Er)}else this.$12F=n.$Gr.$7J(),this.$3Sw(this.$5o().$Lu);if(!this.$Xj){this.$Pb_7=!0;return}this.$1Y7>=5&&this.$1Lh?this.$38g():(this.$Km(),this.$SR.start())},$38g:function(){this.$1Lh=!1;this.$1Y7=0;this.set_$23p(null)},$22i:function(){$0.$1(this.$D9)||(this.$SR.stop(),this.$SR.addParameter(this.get_ViewModelId()),this.$SR.addParameter(this.$G),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY(this.$Xj?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId()),this.$Xj||(this.$Im("RenderedInitialData"),this.$Xj=!0),Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.prototype.$22i.call(this),this.$1Jv=this.$6Y.Text,this.$6Y.Text="",this.$1o3(),this.$2av(),this.$8("ChartConfigObject"))},$2av:function(){for(var l,r,u,a,n,f,e,t,o,y,h={},c=this.$KH.$pv.get_entities(),p=c.length,i=0;i<p;++i){l=c[i];r=l.fields;for(u in r)a={key:u,value:r[u]},this.$2pk(a.value,h)}n=null;f=h;for(e in f)if(t={key:e,value:f[e]},o=t.value.toArray(),this.$P7(t.key,o),!n)for(var v=o,w=v.length,s=0;s<w;++s)if(y=v[s],y===this.$KH.$pu.get_$I(0)){n=t.key;break}this.$5o().get_IsMultipleEntityGraphSupported()||this.$P7(n?n:this.$5o().$8U,this.$KH.$pu.toArray())},$2pk:function(n,t){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A.isInstanceOfType(n)){var r=n,u=r.$EF,i=r.$S;i in t||(t[i]=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)));t[i].add(u);this.$5o().get_IsMultipleEntityGraphSupported()||(this.$bo||(this.$bo={}),this.$bo[u]=i)}},$P7:function(n,t){var i={},r,u;i.EntityType=n;i.Attributes=t;i.OnSuccess=this.$$d_$12z;r=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));u=r.$DG(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(u)},$12z:function(n){var i;if(this.$D9.$JJ!==1)for(var r=n,u=r.length,t=0;t<u;++t)if(i=r[t],i.get_$nS()&&!Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.$zI(i.get_$1a())){this.$1E0(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_NoReadPrivilege"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_NoPermission_Message"));break}},$1E0:function(n,t){var i=new Microsoft.Crm.Client.Core.Models.Chart.$IV;i.$6Y=new Microsoft.Crm.Client.Core.Models.$JG;i.$bD="";i.$JJ=1;i.$Dm=new Microsoft.Crm.Client.Core.Framework.$O4;i.$Dm.$eW=n;i.$Dm.$Yf=t;this.set_$zn(i);this.$8("ChartConfigObject")},get_TitleText:function(){return this.$2D?"":this.$1Jv},set_TitleText:function(n){return this.$1Jv=n,n},set_$23p:function(n){return this.$KH=n,this.$Km(),this.$SR.start(),n},$1Lh:!1,get_GetNullPoint:function(){return null},$398:function(n){return Microsoft.Crm.Client.Core.Models.$7q.isInstanceOfType(n)||Microsoft.Crm.Client.Core.Models.$8p.isInstanceOfType(n)||Microsoft.Crm.Client.Core.Models.$8q.isInstanceOfType(n)?!0:!1},$293:function(n,t,i,r){this.$5o().get_IsMultipleEntityGraphSupported()&&i!==this.$5o().$8U?i+="__alias":i=null;Microsoft.Crm.Client.Core.Models.$8o.isInstanceOfType(t)&&this.$2kD(n,t,i,r);Microsoft.Crm.Client.Core.Models.$7q.isInstanceOfType(t)&&this.$2kA(n,t,i);Microsoft.Crm.Client.Core.Models.$8p.isInstanceOfType(t)&&this.$2kB(n,t,i);Microsoft.Crm.Client.Core.Models.$8q.isInstanceOfType(t)&&this.$2kC(n,t,i)},$2kD:function(n,t,i,r){t.Value?n.$9r(t.FieldName,"eq",t.Value.toString(),i,r):n.$9r(t.FieldName,"null",null,i)},$2kA:function(n,t,i){t.MinDate?n.$9r(t.FieldName,"on-or-after",t.MinDate.toJSON().substring(0,10),i):n.$9r(t.FieldName,"null",null,i);t.MaxDate?n.$9r(t.FieldName,"on-or-before",t.MaxDate.toJSON().substring(0,10),i):n.$9r(t.FieldName,"null",null,i)},$2kB:function(n,t,i){var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));r.add(t.Period.toString());r.add(t.Year.toString());n.$9r(t.FieldName,t.FiscalType,r,i)},$2kC:function(n,t,i){n.$9r(t.FieldName,t.FiscalType,t.Year.toString(),i)},$3Su:function(n){this.$KH=n},$1Tb:function(n){var h,i,r,u,f,e,o;if(!$0.$1(n)){if(!this.$bo){this.$bo={};for(var s=this.$KH.$pv.get_entities(),l=s.length,t=0;t<l;++t){h=s[t];i=h.fields;for(r in i)if(u={key:r,value:i[r]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A.isInstanceOfType(u.value)){var c=u.value,a=c.$EF,v=c.$S;this.$bo[a]=v}}}if(n in this.$bo)return this.$bo[n];if(!$0.$1(this.$1Ko)){f=this.$1Ko;for(e in f)if(o={key:e,value:f[e]},n in o.value)return o.key}return this.$5o().$8U}return null},$2fn:function(n,t){var s=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilters_BuilderFilterExpressionForSelectedPoint"),e,u,o,i,f,r;if(s.start(),!$0.$1(n)&&n.length>0){for(this.set_IsLoading(!0),this.$fb=!0,e=null,u=null,this.$5o().get_IsMultipleEntityGraphSupported()?u={}:e=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"FilterGraph"),this.$1O5.clear(),i=0;i<n.length;i++)f=this.$398(n[i])?new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,n[i].FieldName):new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,n[i].FieldName),this.$1O5.add(n[i].FieldName),this.$5o().get_IsMultipleEntityGraphSupported()?(r=this.$1Tb(n[i].FieldName),$0.$1(r)&&(r=this.$5o().$8U),this.$293(f,n[i],r,t),r in u||(u[r]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"FilterGraph")),u[r].$6b(f)):(this.$293(f,n[i],this.$5o().$8U,t),e.$6b(f));this.$5o().get_IsMultipleEntityGraphSupported()?(o=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r("FilterGraph",0,0,null),o.$Kq=u):o=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r("FilterGraph",0,0,e);this.$5o().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,o);this.$10p("IsFilterApplied","IsLoading")}s.stop();s.addParameter(this.get_ViewModelId())},HandleSeriesPointClick:function(n){this.$fb||this.$2fn(n.Aggregators)},$3KC:function(n){for(var u,t,h,i,e,o,l=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n),a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(l).$O("fetch/entity"),s=a.$5p("link-entity"),r=0;r<s.get_$m();r++)if(u=s.get_$I(r),t=u.$1T("name"),!Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&!(t in this.$5o().$js)){h=Microsoft.Crm.Client.Core.Storage.Common.$2b.$1qP();i="";for(var c=h,v=c.length,f=0;f<v;++f)e=c[f],o=u.$1T(e),$0.$1(o)||(i+=String.format(' {0}="{1}"',e,o));i+=' alias="'+t+'__alias" ';this.$5o().$js[t]="<link-entity "+i+"/>"}},$GX:function(){this.$5o().$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_OnFilterChangeCompletedEvent);this.$KH=null;this.$12F=null;this.$1O5=null;this.$17h=null;this.$18b=null;this.$qI=null;this.$5o().$9L.$Am(Function,this.$$d_$3Lc);$0.$1(this.$No)||(this.$No.$6D(),this.set_CrmChartBuilder(null));this.set_PrimaryModelName(null);this.$D9=null;this.$tk=null;Microsoft.Crm.Client.Core.ViewModels.$2Y.prototype.$GX.call(this)},get_TabSpaceReserved:function(){return 100},$5o:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel=function(){this.$$d_$36B=Function.createDelegate(this,this.$36B);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.prototype={$hk:null,$oz:null,$18:function(){this.$1y||Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$9M,this.$$d_$36B)},$36B:function(n){this.$hk=n.$1h2;this.$hk&&this.$8("SaveButtonDataReceived")},$308:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$2A;return t.set_Label(n.$1D),t.set_Parameters(n.$T),t.set_ImageName(n.$fK),t.set_ImageType(n.$fL),t.$J8=n.$J8,t.set_TargetViewModel(n.get_TargetViewModel()),t.$Dl=n.$Dl,t.set_Command(n.$82),t.set_Enabled(!0),t.set_Visible(!0),t.set_ActionCommandCanExecute(!0),t},$2BC:function(){if(!$0.$1(this.$oz)){for(var n=0;n<this.$oz.get_Count();++n)this.$oz.get_$I(n).dispose(),this.$oz.set_$I(n,null);this.$oz.clear();this.$oz=null}},getSaveButtonViewModel:function(){var i,n,u,f;if(this.$hk){i=this.$hk;n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$2A));for(var r=i,e=r.length,t=0;t<e;++t)u=r[t],f=this.$308(u),n.add(f);return this.$2BC(),this.$oz=n,n.toArray()}return null},get_SaveButtonData:function(){return this.$hk},$GX:function(){var i;if(this.$hk){for(var t=this.$hk,r=t.length,n=0;n<r;++n)i=t[n],i.dispose();this.$hk=null}this.$2BC();this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$9M,this.$$d_$36B);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$D4=function(){this.get_AttributeDisplayName=this.get_$3cp;this.set_AttributeDisplayName=this.set_$3cp;this.get_SelectedFilterExpression=this.get_$3cs;this.set_SelectedFilterExpression=this.set_$3cs;this.get_SelectedFilterCount=this.get_$XG;this.get_IsExpanded=this.get_$3cv;this.set_IsExpanded=this.set_$3cv;this.$35i=this.handleExpandOrCollapseIconClick;this.get_Active=this.get_$kK;this.set_Active=this.set_$kK;Microsoft.Crm.Client.Core.ViewModels.$D4.initializeBase(this);this.$Eq=!0};Microsoft.Crm.Client.Core.ViewModels.$D4.prototype={$G5:null,get_$3cp:function(){return this.$G5},set_$3cp:function(n){return this.$G5=n,n},$3L:null,get_$3cs:function(){return this.$3L},set_$3cs:function(n){return this.$3L=n,n},$G9:!1,get_$3cv:function(){return this.$G9},set_$3cv:function(n){return this.$G9=n,n},$Eq:!1,get_$kK:function(){return this.$Eq},set_$kK:function(n){return this.$Eq=n,n},get_$XG:function(){return $0.$1(this.$3L)?0:1},$2a8:function(n){if(this.$3L=n,$0.$1(this.$3L))this.set_StartDateText(null),this.set_EndDateText(null);else{var t=this.$3L.get_$23();this.set_StartDateText(t.get_$I(0).get_$Jr()==="null"?null:t.get_$I(0).get_$2O());this.set_EndDateText(t.get_$I(1).get_$Jr()==="null"?null:t.get_$I(1).get_$2O())}},UpdateFilterExpression:function(n){$0.$1(n)||$0.$1(n.Start)||$0.$1(n.End)?this.$3L=null:(this.$3L=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$EF),this.$3L.$9r(this.$EF,"on-or-after",n.Start),this.$3L.$9r(this.$EF,"on-or-before",n.End));this.$2.$6F(this).$1KA(this.$3L,this.$EF)},handleExpandOrCollapseIconClick:function(n){this.$G9=n;this.$2.$6F(this).$1aP()},$3X3:function(){this.$G9=!!this.get_$XG()},SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$D5.prototype.SetDates.call(this,n,t);var i={};i.Start=n;i.End=t;this.UpdateFilterExpression(i)},getScreenReadableText:function(){return this.get_$XG()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_DateTimeRange"),this.$G5,this.get_StartDateText(),this.get_EndDateText()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_DateTimeRange_NoneSelected"),this.$G5)}};Microsoft.Crm.Client.Core.ViewModels.$Dc=function(){this.get_AttributeLogicalName=this.get_$3cm;this.set_AttributeLogicalName=this.set_$3cm;this.get_AttributeDisplayName=this.get_$3cp;this.set_AttributeDisplayName=this.set_$3cp;this.get_SelectedFilterExpression=this.get_$3cs;this.set_SelectedFilterExpression=this.set_$3cs;this.get_SelectedFilterCount=this.get_$XG;this.get_IsExpanded=this.get_$3cv;this.set_IsExpanded=this.set_$3cv;this.$35i=this.handleExpandOrCollapseIconClick;Microsoft.Crm.Client.Core.ViewModels.$Dc.initializeBase(this);this.$Eq=!0};Microsoft.Crm.Client.Core.ViewModels.$Dc.prototype={$C5:null,get_$3cm:function(){return this.$C5},set_$3cm:function(n){return this.$C5=n,n},$G5:null,get_$3cp:function(){return this.$G5},set_$3cp:function(n){return this.$G5=n,n},$3L:null,get_$3cs:function(){return this.$3L},set_$3cs:function(n){return this.$3L=n,n},$G9:!1,get_$3cv:function(){return this.$G9},set_$3cv:function(n){return this.$G9=n,n},$Eq:!1,get_Active:function(){return this.$Eq},set_Active:function(n){return this.$Eq=n,n},$PW:null,get_EntityReferences:function(){return this.$PW},set_EntityReferences:function(n){return this.$PW=n,n},removeEntityReferenceForGuid:function(n){delete this.$PW[n];this.$3L.$oq(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$7P(this.$C5,"eq",n));this.$8("RemovedEntity");this.$2.$6F(this).$1KA(this.$3L,this.$C5)},getGuidAtIndex:function(n){return!$0.$1(this.$3L)&&!$0.$1(this.$3L.get_$23().get_Items()[n].get_$2O())?this.$3L.get_$23().get_Items()[n].get_$2O().toString():null},getSelectedFilterName:function(n){return $0.$1(this.$PW[n])?null:this.$PW[n].toString()},get_$XG:function(){return $0.$1(this.$3L)?0:this.$3L.get_$23().get_Count()},$2a8:function(n){this.updateEntityReferences(n);this.$3L=n;var i=this.$C5+"_edit",r=this.$F[i],t=r.$Ef;$0.$1(t)||t.$2a8(n)},updateEntityReferences:function(n){if($0.$1(this.$PW)&&(this.$PW={}),!$0.$1(n))for(var t=0;t<n.get_$23().get_Count();t++)$0.$1(n.get_$23().get_$I(t).get_$2O())||(this.$PW[n.get_$23().get_$I(t).get_$2O().toString()]=n.get_$23().get_$I(t).get_$1kL())},updateFilterExpression:function(n){var t=n.add;t?($0.$1(this.$3L)&&(this.$3L=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,this.$C5),this.$PW={}),this.$3L.$9r(this.$C5,"eq",n.guid.toString(),"",n.entityReference.toString()),this.$PW[n.guid.toString()]=n.entityReference.toString()):$0.$1(this.$3L)||(this.$3L.$oq(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$7P(this.$C5,"eq",n.guid.toString())),delete this.$PW[n.guid.toString()],this.$3L.get_$23().get_Count()||(this.$3L=null,this.$PW=null));this.$2.$6F(this).$1KA(this.$3L,this.$C5)},handleExpandOrCollapseIconClick:function(n){var i,t;this.$G9=n;i=this.$C5+"_edit";this.$2.$6F(this).$1aP();t=this.$F[i];t.$1Vm||(t.$1Vm=!0,t.$18())},$3X3:function(){this.$G9=!!this.get_$XG()},getScreenReadableText:function(){return this.get_$XG()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_LookUp"),this.$G5,this.get_$XG().toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_LookUp_NoneSelected"),this.$G5)}};Microsoft.Crm.Client.Core.ViewModels.$Dd=function(){Microsoft.Crm.Client.Core.ViewModels.$Dd.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Dd.prototype={$1Vm:!1,$1XK:function(n){var i,t,r;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.prototype.$1XK.call(this,n);i=n;t={};t.guid=i.Id;t.add=!0;t.entityReference=i.Name;r=this.$2.$6F(this).$3L;Microsoft.Crm.Client.Core.ViewModels.$7V.$1sK(i.Id.toString(),r)||this.$2.$6F(this).updateFilterExpression(t)},buildChildViewModelDescriptors:function(n){var t,i;this.$2fs(n);t={};$0.$1(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i={input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0)],t)};this.$9i==="multi"&&(i.partyList=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("GlobalFilterPartyListViewModel","PartyList","partyList",this.$H0,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("NavigationEnabled",this.$Qu)],null,null),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&(this.$1J6=!0,this.$1J2=!1));this.$r3(i)},$18:function(){!this.$1y&&this.$1Vm&&Microsoft.Crm.Client.Core.ViewModels.$E3.prototype.$18.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$7V=function(){Microsoft.Crm.Client.Core.ViewModels.$7V.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$7V.$1sK=function(n,t){if(!$0.$1(t)&&!$0.$1(t.get_$23()))for(var i=0;i<t.get_$23().get_Count();i++)if(t.get_$23().get_$I(i).get_$2O()===n)return!0;return!1};Microsoft.Crm.Client.Core.ViewModels.$7V.prototype={$hS:function(n,t){var r,u,f,i;Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.prototype.$hS.call(this,n,t);r=this.$U3;u=r.$2.$6F(r);$0.$1(u.$3L)||(f=n.$WL,i={},i.guid=f.get_identifier(),i.add=!1,i.entityReference=f.Name,u.updateFilterExpression(i))},$2a8:function(n){var r,t,i,u;if(!$0.$1(this.$5W))for(r=this.$5W.get_Count(),t=0;t<r;t++)i=this.$5W.get_$I(0),u=i.$WL,Microsoft.Crm.Client.Core.ViewModels.$7V.$1sK(u.get_identifier(),n)||i.$lT.execute()},$3Hv:function(){}};Microsoft.Crm.Client.Core.ViewModels.$De=function(){this.$$d_$12z=Function.createDelegate(this,this.$12z);this.$$d_$2KK=Function.createDelegate(this,this.$2KK);Microsoft.Crm.Client.Core.ViewModels.$De.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$De.prototype={$GE:null,get_SelectedFilter:function(){return this.$GE},set_SelectedFilter:function(n){return this.$GE=n,n},$Iz:null,get_AppliedFilter:function(){return this.$Iz},set_AppliedFilter:function(n){return this.$Iz=n,n},$jd:!1,get_IsApplyButtonEnabled:function(){return this.$jd},set_IsApplyButtonEnabled:function(n){return this.$jd=n,n},get_SelectedFilterCount:function(){var t=0,i=this.$F,n,r;for(n in i)r={key:n,value:i[n]},t+=r.value.get_SelectedFilterCount();return t},get_IsClearButtonEnabled:function(){return $0.$1(this.$GE)||$0.$1(this.$GE.get_$5S())?!1:this.$GE.get_$5S().get_Count()?!0:!1},get_IsExpandAll:function(){var t=this.$F,n,i;for(n in t)if(i={key:n,value:t[n]},!i.value.get_IsExpanded())return!0;return!1},$PU:null,get_AttributeMetadataActionProvider:function(){return this.$PU},set_AttributeMetadataActionProvider:function(n){return this.$PU=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("GlobalFilter_Initialize",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$3Wf(),this.$1eR(),this.$5o().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_$2KK))},$GX:function(){this.$GE=null;this.$Iz=null;this.$5o().$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_$2KK);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$3Wf:function(){var t=new Array(0),i=this.$F,n,r;for(n in i)r={key:n,value:i[n]},t.push(r.value.get_AttributeLogicalName());this.$P7(t,this.$5o().$8U)},$P7:function(n,t){var i,r;n.length&&(i={},i.EntityType=t,i.Attributes=n,i.OnSuccess=this.$$d_$12z,r=this.$PU.$DG(i),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(r))},$12z:function(n){for(var t,r=n,u=r.length,i=0;i<u;++i)t=r[i],t.get_$nS()&&!Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.$zI(t.get_$1a())&&this.$F[t.get_$9t()].set_Active(!1);this.$8("ChildProperties")},$2KK:function(n){var t,i;this.$5o().get_IsMultipleEntityGraphSupported()?(i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$NO)?"":n.$NO.toString(),n.$h),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i),this.$Iz=$0.$1(this.$5o().$Er[this.$5o().$8U])?null:this.$5o().$Er[this.$5o().$8U].$8W()):(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$Gr)?"":n.$Gr.$7J(),n.$h),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t),this.$Iz=this.$5o().$Lu.$8W());this.$GE=$0.$1(this.$Iz)?null:this.$Iz.$8W();this.$1eR();this.$8("FilterExpression")},handleIsExpandAllButtonClick:function(){var r=this.get_IsExpandAll(),t=this.$F,n,i;for(n in t)i={key:n,value:t[n]},i.value.$35i(r);this.$8("IsExpandAll")},handleCancelClick:function(){this.$GE=$0.$1(this.$Iz)?null:this.$Iz.$8W();this.$1eR();this.set_Visible(!0);this.$jd=!1},handleApplyClick:function(){var n,t;this.$jd&&(this.$Iz=$0.$1(this.$GE)?null:this.$GE.$8W(),this.set_Visible(!0),this.$jd=!1,this.$5o().get_IsMultipleEntityGraphSupported()?(t={},t[this.$5o().$8U]=this.$Iz,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,null),n.$Kq=t):n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,this.$Iz),this.$5o().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,n))},handleClearClick:function(){this.get_IsClearButtonEnabled()&&(this.$GE=null,this.$1eR(),this.$jd=!0)},$1KA:function(n,t){$0.$1(this.$GE)&&(this.$GE=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,this.$5o().$8U));$0.$1(this.$GE.get_$5S())||$0.$1(this.$GE.$FE(t))||this.$GE.$N5(t);this.$GE.$6b(n);this.$jd=!0;this.$8("FilterExpression")},updateIsExpandedPropertyOfChildren:function(){var t=this.$F,n,i,r;for(n in t)i={key:n,value:t[n]},r=i.value,r.$3X3()},$1aP:function(){this.$8("IsExpandAll")},$1eR:function(){var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GlobalFilter_UpdateChildFilterViewModels"),t,i;n.start();t=this.$F;for(i in t){var u={key:i,value:t[i]},r=u.value,f=$0.$1(this.$GE)?null:this.$GE.$FE(r.get_AttributeLogicalName());r.$2a8(f)}this.$8("ChildProperties");this.$Im("GlobalFilter_ChildrenUpdateReflected");n.stop();n.addParameter(this.get_ViewModelId())},$5o:function(){return this.$2},get_TabSpaceReserved:function(){return 100},get_AppliedFilterCount:function(){return $0.$1(this.$Iz)||$0.$1(this.$Iz.get_$5S())?0:this.$Iz.get_$5S().get_Count()},GlobalFilterScreenReaderText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("GlobalFilter_ScreenReader_Label"),this.get_AppliedFilterCount())}};Microsoft.Crm.Client.Core.ViewModels.$Eh=function(){Microsoft.Crm.Client.Core.ViewModels.$Eh.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Eh.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("OptionSetFilterItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$Eh)};Microsoft.Crm.Client.Core.ViewModels.$Eh.prototype={$18J:null,get_LogicalName:function(){return this.$18J},set_LogicalName:function(n){return this.$18J=n,n},$4g:null,get_DisplayName:function(){return this.$4g},set_DisplayName:function(n){return this.$4g=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Ei=function(){this.get_AttributeLogicalName=this.get_$3cm;this.set_AttributeLogicalName=this.set_$3cm;this.get_AttributeDisplayName=this.get_$3cp;this.set_AttributeDisplayName=this.set_$3cp;this.get_SelectedFilterExpression=this.get_$3cs;this.set_SelectedFilterExpression=this.set_$3cs;this.get_SelectedFilterCount=this.get_$XG;this.get_IsExpanded=this.get_$3cv;this.set_IsExpanded=this.set_$3cv;this.$35i=this.handleExpandOrCollapseIconClick;this.get_Active=this.get_$kK;this.set_Active=this.set_$kK;Microsoft.Crm.Client.Core.ViewModels.$Ei.initializeBase(this);this.$Eq=!0};Microsoft.Crm.Client.Core.ViewModels.$Ei.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("OptionSetFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$Ei)};Microsoft.Crm.Client.Core.ViewModels.$Ei.prototype={$C5:null,get_$3cm:function(){return this.$C5},set_$3cm:function(n){return this.$C5=n,n},$G5:null,get_$3cp:function(){return this.$G5},set_$3cp:function(n){return this.$G5=n,n},$3L:null,get_$3cs:function(){return this.$3L},set_$3cs:function(n){return this.$3L=n,n},$G9:!1,get_$3cv:function(){return this.$G9},set_$3cv:function(n){return this.$G9=n,n},$18S:0,get_OptionSetValuesCount:function(){return this.$18S},set_OptionSetValuesCount:function(n){return this.$18S=n,n},$Eq:!1,get_$kK:function(){return this.$Eq},set_$kK:function(n){return this.$Eq=n,n},get_IsSelectAll:function(){return this.get_$XG()!==this.$18S},get_$XG:function(){return $0.$1(this.$3L)?0:this.$3L.get_$23().get_Count()},$2a8:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("OptionSetFilter_UpdateFilterProperties"),i,r,f,u;t.start();this.$3L=n;i=this.$F;for(r in i)f={key:r,value:i[r]},u=f.value,u.set_Data(this.$1sK(u.$18J));t.stop();t.addParameter(this.get_ViewModelId())},updateFilterExpression:function(n){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("OptionSetFilter_UpdateFilterExpression"),r,t,u,f,e,o;if(i.start(),r=n.Value,t=n.Name,!$0.$1(r)&&r)if($0.$1(this.$3L)&&(this.$3L=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,this.$C5)),$0.$1(t)){this.$3L=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,this.$C5);u=this.$F;for(f in u)e={key:f,value:u[f]},o=e.value,this.$3L.$9r(this.$C5,"eq",o.$18J)}else this.$3L.$9r(this.$C5,"eq",t);else $0.$1(t)?this.$3L=null:(this.$3L.$oq(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$7P(this.$C5,"eq",t)),this.$3L.get_$23().get_Count()||(this.$3L=null));this.$2.$6F(this).$1KA(this.$3L,this.$C5);i.stop();i.addParameter(this.get_ViewModelId())},handleSelectAllButtonClick:function(){var i=this.$F,t,r,n;for(t in i)r={key:t,value:i[t]},r.value.set_Data(this.get_IsSelectAll());n={};n.Name=null;n.Value=this.get_IsSelectAll();this.updateFilterExpression(n)},handleExpandOrCollapseIconClick:function(n){this.$G9=n;this.$2.$6F(this).$1aP()},$3X3:function(){this.$G9=!!this.get_$XG()},$1sK:function(n){if(!$0.$1(this.$3L)&&!$0.$1(this.$3L.get_$23()))for(var t=0;t<this.$3L.get_$23().get_Count();t++)if(this.$3L.get_$23().get_$I(t).get_$2O()===n)return!0;return!1},getScreenReadableText:function(){return this.get_$XG()>0?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_OptionSet"),this.$G5,this.get_$XG().toString(),this.$18S.toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_OptionSet_NoneSelected"),this.$G5)}};Microsoft.Crm.Client.Core.ViewModels.$F7=function(){this.get_AttributeLogicalName=this.get_$3cm;this.set_AttributeLogicalName=this.set_$3cm;this.get_AttributeDisplayName=this.get_$3cp;this.set_AttributeDisplayName=this.set_$3cp;this.get_SelectedFilterExpression=this.get_$3cs;this.set_SelectedFilterExpression=this.set_$3cs;this.get_SelectedFilterCount=this.get_$XG;this.get_IsExpanded=this.get_$3cv;this.set_IsExpanded=this.set_$3cv;this.$35i=this.handleExpandOrCollapseIconClick;Microsoft.Crm.Client.Core.ViewModels.$F7.initializeBase(this);this.$Eq=!0};Microsoft.Crm.Client.Core.ViewModels.$F7.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("SliderFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$F7)};Microsoft.Crm.Client.Core.ViewModels.$F7.prototype={$C5:null,get_$3cm:function(){return this.$C5},set_$3cm:function(n){return this.$C5=n,n},$G5:null,get_$3cp:function(){return this.$G5},set_$3cp:function(n){return this.$G5=n,n},$3L:null,get_$3cs:function(){return this.$3L},set_$3cs:function(n){return this.$3L=n,n},$G9:!1,get_$3cv:function(){return this.$G9},set_$3cv:function(n){return this.$G9=n,n},$Eq:!1,get_Active:function(){return this.$Eq},set_Active:function(n){return this.$Eq=n,n},get_$XG:function(){return $0.$1(this.$3L)?0:1},handleExpandOrCollapseIconClick:function(n){this.$G9=n;this.$2.$6F(this).$1aP()},$3X3:function(){this.$G9=!!this.get_$XG()},$2a8:function(n){this.$3L=n;this.set_SelectedMinimum(!$0.$1(this.$3L)&&!$0.$1(this.$3L.get_$23().get_$I(0))?this.$3L.get_$23().get_$I(0).get_$2O():this.$KL);this.set_SelectedMaximum(!$0.$1(this.$3L)&&!$0.$1(this.$3L.get_$23().get_$I(1))?this.$3L.get_$23().get_$I(1).get_$2O():this.$J2);$0.$1(this.$3L)&&(this.$qE=!0)},updateFilterExpression:function(){if(this.$ST){if($0.$1(this.$3L))return;this.$3L=null}else this.$3L=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$C5),this.$3L.$9r(this.$C5,"ge",this.$P9.toString()),this.$3L.$9r(this.$C5,"le",this.$K2.toString());this.$2.$6F(this).$1KA(this.$3L,this.$C5)},onDataChange:function(){this.updateFilterExpression(null)},getScreenReadableText:function(){return this.get_$XG()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_Range"),this.$G5,this.$P9.toString(),this.$K2.toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_Range_NoneSelected"),this.$G5)}};Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel=function(){this.$$d_onSelectedItemPropertyChanged=Function.createDelegate(this,this.onSelectedItemPropertyChanged);Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.prototype={$Ud:null,get_CommandButtonViewModels:function(){return this.$Ud},set_CommandButtonViewModels:function(n){return this.$Ud=n,n},$3JW:function(){this.getData()},$17j:!1,get_EnableSaveState:function(){return this.$17j},set_EnableSaveState:function(n){return this.$17j=n,n},getData:function(){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V)),r=this.$Ud,n,u,t;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Microsoft.Crm.Client.Core.ViewModels.$Cs(t.$12,t.$1D));this.get_ComboBoxViewModel().set_ItemsList(i.toArray());this.get_ComboBoxViewModel().AddPropertyChangedListener("SelectedItem",this.$$d_onSelectedItemPropertyChanged)},$GX:function(){var n,t,i,r;if(!$0.$1(this.$Ud)){n=this.$Ud;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$Ud=null}this.get_ComboBoxViewModel().RemovePropertyChangedListener("SelectedItem",this.$$d_onSelectedItemPropertyChanged);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)},$34K:function(n){for(var i,r=this.get_ComboBoxViewModel().get_ItemsList(),u=r.length,t=0;t<u;++t)if(i=r[t],i.get_ValueString()===n)return i;return null},onSelectedItemPropertyChanged:function(){this.$Cg("OnItemSelected");this.$3Q3()},$3Q3:function(){var t,n,u,i,r;this.$17j&&(t=this.get_ComboBoxViewModel().$51,IsNull(t)||IsNull(this.$Ud[t])||(n=this.$Ud[t],!$0.$1(n.$29)&&n.$29.get_CanExecute()&&n.$29.execute(),u=n.get_TargetViewModel().get_$2R(),i=this.$34K(t),i&&(r=n.$T.MetadataSubType,$0.$1(r)||r===3||r===2||Microsoft.Crm.Client.Core.ViewModels.$p.$1zs(i.get_ValueString(),i.get_Label(),u))))},add_OnItemSelected:function(n){this.$2I("OnItemSelected",n)},remove_OnItemSelected:function(n){this.$4N("OnItemSelected",n)},$Cg:function(n){var t=this.$5j(n);$0.$1(t)||t(this,new Sys.EventArgs)}};Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.prototype={getData:function(){this.$1cS()},$2Ia:function(n){return n.$1D},$323:function(n){return n.$12},get_HasChildFlyouts:function(){var n,t,i;if(!$0.$1(this.$9a)){n=this.$9a;for(t in n)if(i={key:t,value:n[t]},Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(i.value))return!0;return!1}return!1},$1fP:0,get_ClientWidth:function(){return this.$1fP},set_ClientWidth:function(n){return this.$1fP=n,n},add_$2Pp:function(n){$0.$1(this.$2)||this.$2.$2I("DropdownSelectedItemUpdated",n)},remove_$2Pp:function(n){$0.$1(this.$2)||this.$2.$4N("DropdownSelectedItemUpdated",n)},$1IX:null,SelectedItemName:function(){var n,t,i;if($0.$1(this.$9a))return"";if(n=this.$J4 in this.$9a?this.$9a[this.$J4]:this.$9a[Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$J4).toString()],!$0.$1(n)){if(Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(n))return t=n,t.$1D;if(Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(n))return i=n,$0.$1(this.$1IX)&&(this.$1IX=i.SelectedItemName()),this.$1IX}return""},FireDropdownSelectedItemUpdatedEvent:function(){this.$2sC("DropdownSelectedItemUpdated")},ItemSelected:function(n,t){var c,e,r,i,f,l,u,o,s,h;if(!IsNull(this.$9a)){if(c=this.$9a[this.$J4],e=c,!$0.$1(e)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(e))if($0.$1(t)||this.$px!==t){if(this.$px===n)return}else return;if(this.$J4===n&&$0.$1(t))return;if(this.$J4=n,$0.$1(t)||(this.$px=t),this.$Cg("OnItemSelected"),r=this.$9a[this.$J4],!$0.$1(r)&&Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(r))i=r,!$0.$1(i.$29)&&i.$29.get_CanExecute()&&i.$29.execute(),$0.$1(i.get_TargetViewModel())?Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1018,"TargetViewModel is undefined in commandButton"):(f=i.$T.MetadataSubType,$0.$1(f)||f===3||f===2||(l=i.get_TargetViewModel().get_$2R(),Microsoft.Crm.Client.Core.ViewModels.$p.$1zs(i.$12,i.$1D,l))),this.$8("dataRecieved");else if(u=r,!$0.$1(u)&&!$0.$1(t)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(u)){o=this.$9a;for(s in o)h={key:s,value:o[s]},h.key===this.$J4?(u.ItemSelected(t),this.$1IX=u.SelectedItemName()):h.value.ItemSelected(null)}}},$GX:function(){var o=this.$Gq,r,t,n,s,u,f,e,i;for(r in o){if(t={key:r,value:o[r]},n=t.value,!$0.$1(n)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(n))s=n,s.$GX();else if(!$0.$1(n)&&Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(n))n.dispose();else if(!$0.$1(n)&&Object.isInstanceOfType(n)){u=t.value;f=u;for(e in f)i={key:e,value:f[e]},Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(i.value)&&i.value.dispose(),delete u[i.key]}delete this.$Gq[t.key]}this.$Gq=null;Microsoft.Crm.Client.Core.ViewModels.$Uu.prototype.$GX.call(this)},$2sC:function(n){if(!$0.$1(this.$2)){var t=this.$2.$5j(n);$0.$1(t)||t(this,new Sys.EventArgs)}}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel=function(){this.$$d_ChildDefinitionUpdated=Function.createDelegate(this,this.ChildDefinitionUpdated);this.$$d_$3HU=Function.createDelegate(this,this.$3HU);this.$$d_FilterUpdated=Function.createDelegate(this,this.FilterUpdated);this.$$d_$35S=Function.createDelegate(this,this.$35S);this.$$d_DropdownItemUpdated=Function.createDelegate(this,this.DropdownItemUpdated);this.$$d_DefinitionUpdated=Function.createDelegate(this,this.DefinitionUpdated);this.$$d_$1UN=Function.createDelegate(this,this.$1UN);this.$$d_$2KV=Function.createDelegate(this,this.$2KV);this.$$d_$36G=Function.createDelegate(this,this.$36G);this.$$d_$2oZ=Function.createDelegate(this,this.$2oZ);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.initializeBase(this);this.$122=!0};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.prototype={$K3:null,$EV:null,$DQ:null,$16V:!1,$17A:null,$tw:!1,isSubgridInForm:function(){return this.$tw},get_QueuePickerViewModel:function(){return $0.$1(this.$DQ)&&(this.$DQ=new Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel(this)),this.$DQ},get_QueuePickerDropDown:function(){return this.get_QueuePickerViewModel().get_QueuePickerDropDown()},get_$2f5:function(){return this.get_$1bw()},$T0:null,get_$zb:function(){return $0.$1(this.$fy)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$fy)?this.$8K?"HomePageGrid:"+this.$J:Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.get_$zb.call(this):this.$fy},$xa:!1,get_EnableClickOnEntityDashboardIcon:function(){return this.$xa},set_EnableClickOnEntityDashboardIcon:function(n){return this.$xa=n,n},get_IsActivityGrid:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$J);return!$0.$1(n)&&n.get_$8p()?!0:!1},get_TooltipString:function(){return Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionCentricGrid.EntityDashboardTooltip"),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$J).$8O)},$18:function(){this.$8K?this.$1y||(this.$1s3(),this.$xa=!1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Hf(this,this.$$d_$2oZ),this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$9N,this.$$d_$36G)):this.$1Eh?(this.$1s3(),this.$1rs()):this.$384();var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Od("ServiceDeskGridLoadEvent");n.addEventParameter("DialogGrid",this.$1Eh);n.addEventParameter("EntityGrid",this.$8K);n.addEventParameter("EntityName",this.$J||"");Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(n)},$384:function(){$0.$1(this.$2)||$0.$1(this.$2.$2)||this.set_$4K(this.$2.$2);var n=this.$2.$13,t=null;t=this.$xu||$0.$1(n)||$0.$1(n.ui)?"SessionTabContainer0":n.ui.tabs.getAll()[0].getName();this.$16V||(this.$xu?this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$6i,this.$$d_$2KV):this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN),this.$16V=!0);this.$tw=this.$tw||this.$Up===t;this.$tw&&!this.$1y&&(this.$1s3(),this.$1rs())},$1s3:function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$18.call(this)},$2KV:function(n){this.$Up===n.$Y1&&(this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$6i,this.$$d_$2KV),this.$16V=!1,this.$tw=!0,this.$1y||this.$18())},$1UN:function(n){this.$Up===n.$Y1&&(this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN),this.$16V=!1,this.$tw=!0,this.$1y||this.$18())},$Iy:null,$ME:null,$1Rp:null,$Pl:null,$1H6:0,$1rs:function(){this.$Sn&&$0.$1(this.$ME)&&($0.$1(this.$Gp)||(this.$Iy={},this.$37K(),this.$1H6=0),this.$2D7(this.$J))},$37K:function(){var n,t,i,r;if(this.$Pl=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),$0.$1(this.$Gp))this.$Pl.add(this.$J);else{n=this.$Gp;for(t in n)i={key:t,value:n[t]},r=i.key,this.$Pl.add(r)}},$3Ny:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p;n.$zQ();n.set_PrimaryModelName(this.$J);n.$152("HomePageGrid:"+this.$J,this)},$2oZ:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();n.$Ru&&n.$Ru[this.$J]&&n.$Ru[this.$J].get_Count()>0&&(this.$xa=!0,this.$8("EntityDashboardDataReceived"))},OpenEntityDashboard:function(){var r,t;if(this.$xa){var u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),i=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(this.$2),n=u.$Ru[this.$J.toLowerCase()];if(!$0.$1(n)&&n.get_Count()){for(r=0,t=0;t<n.get_Count();t++)if(n.get_$I(t).$1gA){r=t;break}u.$Xe=n.get_$I(r);i.$1t=n.get_$I(r).$2b;i.$Mx=37;i.execute();i.dispose()}}},$36G:function(n){var t,i,r;$0.$1(this.$Gp)&&this.$8K?(t=!1,$0.$1(this.$K3)&&(t=!0),this.$K3=n.$Gq,this.$K3&&(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()&&(i=this.$K3[0].$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")].$F,$0.$1(this.$Ut)?this.$1ZS(i,!1):(r=i[this.$Ut],$0.$1(r)||r.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AdvancedFindSearchResultsViewName")))),$0.$1(this.$EV)||(this.$EV.$Gq=this.$25H(),this.$EV.$1cS()),t&&this.$8("SelectViewDataReceived"))):this.$1rs()},IsSelectViewDataReceived:function(){return!$0.$1(this.$K3)},$2Xc:function(n){$0.$1(this.$EV)||(this.$EV.$Gq=n);this.$8("SelectViewDataReceived")},$25H:function(){var n,t,i;return $0.$1(this.$K3)?null:(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()&&!$0.$1(this.$ME)&&$0.$1(this.$Ut)&&this.$1ZS(this.$ME[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")],!1),!$0.$1(this.$Gp)&&this.$J in this.$Gp?this.$ME:this.$8K?(n={},$0.$1(this.$K3[0]))?n:(t=this.$K3[0].$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")].$F,n[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")]=t,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")in this.$K3[0].$F&&(i=this.$K3[0].$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")].$F,n[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")]=i),n):this.$ME)},$31g:function(){if($0.$1(this.$1Rp)){var n={};n.All=this.$dW("All",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_All"));n.Overdue=this.$dW("Overdue",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Overdue"));n.Today=this.$dW("Today",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Today"));n.Tomorrow=this.$dW("Tomorrow",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Tomorrow"));n["NextXDays;7"]=this.$dW("NextXDays;7",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Next7Days"));n["NextXDays;30"]=this.$dW("NextXDays;30",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Next30Days"));n["NextXDays;90"]=this.$dW("NextXDays;90",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Next90Days"));n["NextXMonths;6"]=this.$dW("NextXMonths;6",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Next6Months"));n["NextXMonths;12"]=this.$dW("NextXMonths;12",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Next12Months"));this.$1Rp=n}return this.$1Rp},get_DueLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.View_Label_ViewByDate")},get_$1bw:function(){return this.get_QueuePickerViewModel().$1hA},$dW:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.$2A;return i.set_$1a(n),i.set_Label(t),i},get_GridFlyoutViewModel:function(){var n;if($0.$1(this.$EV)){var t=this.$25H(),i=this.$2pi(t),r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",$0.$1(this.$Gp)?i:this.$J)],null,null);this.$EV=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(r,this.get_ModelContext(),this.$3V,this.$2);this.$EV.get_HasChildFlyouts()&&(this.$EV.$px=this.get_DefinitionId());n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){var t,i;if(n.$8K&&!$0.$1(n.$EV.$9a)&&!$0.$1(n.$EV.$J4)){for(t=n.$EV.$9a[n.$EV.$J4];!$0.$1(t)&&!Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(t);)if(i=t,!$0.$1(i)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(i))t=i.$9a[i.$J4];else break;!$0.$1(t)&&Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(t)&&n.$2e1(t)}},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$Sj,"ICGridVM.GridFlyoutViewModel.AddToMru.AddDefaultView");this.$EV.add_$1GK(this.$$d_DefinitionUpdated);this.get_GridFlyoutViewModel().add_$2Pp(this.$$d_DropdownItemUpdated)}return this.$EV},$2pi:function(n){var i=this.get_DefinitionId(),f,r,u,e,t;if(this.get_DefinitionId()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()&&Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")in n){f=n[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")];r=f;for(u in r)if(e={key:u,value:r[u]},t=e.value,!$0.$1(t.$T)&&!$0.$1(t.$T.IsDefault)){var s=t.$T.IsDefault,o=t.$T.MetadataSubType,h=!$0.$1(o)&&o===3;if(s&&!h&&!$0.$1(t.$T.ViewId)){i=t.$T.ViewId;this.$16===2?(this.$17A=i,this.add_$130(this.$$d_$35S)):!$0.$1(t.$29)&&t.$29.get_CanExecute()&&t.$29.execute();break}}}return i},$35S:function(){if(this.remove_$130(this.$$d_$35S),!$0.$1(this.$17A)&&!$0.$1(this.get_GridFlyoutViewModel())&&!$0.$1(this.get_GridFlyoutViewModel().$9a)&&this.$17A in this.get_GridFlyoutViewModel().$9a){var n=this.get_GridFlyoutViewModel().$9a[this.$17A];!$0.$1(n.$29)&&n.$29.get_CanExecute()&&n.$29.execute()}this.$17A=null},$2e1:function(n){var t=n,i;$0.$1(t.get_TargetViewModel())?Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1018,"TargetViewModel is undefined in commandButton"):(i=t.get_TargetViewModel().get_$2R(),Microsoft.Crm.Client.Core.ViewModels.$p.$1zs(t.$12,t.$1D,i))},DefinitionUpdated:function(n){var t=n,i=t.$9a[t.$J4];this.OnDefinitionUpdated(i)},DropdownItemUpdated:function(){var n=this.get_FilterFlyoutViewModel(),t;$0.$1(n)||$0.$1(n.get_ComboBoxViewModel())||(t=n.get_ComboBoxViewModel().$51,this.OnFilterUpdated(t))},ChildDefinitionUpdated:function(n){var t=n,i=t.$9a[t.$J4];this.OnDefinitionUpdated(i)},get_FilterFlyoutViewModel:function(){if($0.$1(this.$T0)){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("DropdownForGridViewModel","ComboBoxWrapper","ComboBoxWrapper",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CommandButtonViewModels",this.$31g()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ComboBoxClass","gridViewDropDown"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("WrapperClass","filterViewDropDownWrapper")],null,null);this.$T0=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,null);this.$T0.$17j=!1;this.$T0.add_OnItemSelected(this.$$d_FilterUpdated);this.$T0.get_ComboBoxViewModel().set_SelectedItem("All")}return this.$T0},FilterUpdated:function(n){var t=n,i=t.get_ComboBoxViewModel().$51;this.OnFilterUpdated(i)},get_SelectViewData:function(){return this.$K3},$2D7:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveViewSelector","HomePageGrid:"+n,!1),i;t.OnSuccess=this.$$d_$3HU;t.OnFailure=this.$$d_$5O;i=new Microsoft.Crm.Client.Core.ViewModels.$M(this,t);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(i.$4Z())},$3HU:function(n){var b=n,i={},r=new Microsoft.Crm.Client.Core.ViewModels.$Ct,l,a,v,t,y,f,e,o,p,u,s,h,c,w;if(this.$cu(r,this,b.$EJ.Controls),l=r.$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")],i[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")]=this.$2IM(l.$F),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")in r.$F&&(a=r.$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")],i[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")]=this.$2IM(a.$F)),!$0.$1(this.$Gp)&&this.$8K)if(v=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",this.get_DefinitionId())],null,null),t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(v,null),t.set_PrimaryModelName(this.$J),y=this.$Gp[this.$J],t.set_$1a(this.$J),t.set_Label(this.$J!=="activitypointer"?y.DisplayName:Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ViewSelectorAllActivities")),t.add_$1GK(this.$$d_ChildDefinitionUpdated),this.$Iy[this.$J]=t,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()&&this.$1ZS(t.$9a,!0),this.$1H6++,this.$1H6===this.$Pl.get_Count()){f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$5M));e=this.$Iy;for(o in e)p={key:o,value:e[o]},f.add(p.value);u={};u.Entities=this.$Iy;this.$K3=f.toArray();this.$ME=u;this.set_PrimaryModelName("activitypointer");this.$3Ny();this.$2Xc(u)}else this.set_PrimaryModelName(this.$Pl.get_$I(this.$1H6)),this.$2D7(this.$J);else{s=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$5M));h=this.$Iy;for(c in h)w={key:c,value:h[c]},s.add(w.value);this.$K3=s.toArray();this.$ME=i;this.$2Xc(i)}},$2VJ:function(n){var t=n.$6d.get_$I("fetchXml").Data,i=null,e,o,r,s,f,c;if(this.$Et){if(t=Microsoft.Crm.Client.Core.ViewModels.$2D.$1oC(t,this.$GD),e=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Dj(t),$0.$1(e)&&!Microsoft.Crm.Client.Core.ViewModels.$2D.$1FB(this.$GD))return this.$18Q=!0,n;if(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$J),o.get_$8p()&&this.$8K&&this.get_DefinitionId()===this.$Pd[this.$J]&&!$0.$1(this.$XZ)){r=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2o.$ma(t);s=r.$G8;for(var h=this.$XZ.toArray(),l=h.length,u=0;u<l;++u)f=h[u],$0.$1(f)||s.add(f);t=r.$mb()}else this.$J!=="queueitem"||$0.$1(this.$DQ)||(t=this.$8K?this.$1o6(t,this.get_$1bw()):this.$1o6(t,"436e2293-da8f-4ef9-a1e6-fff25a5beb22"));i=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(t);c=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Tv(t);$0.$1(this.$14r)&&!$0.$1(c)&&(this.$14r=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Tv(t).toString());this.$2W0()}else{if($0.$1(this.get_$1bw())&&(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Pe)||!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Pe)&&!this.$17i))return n;t=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Pe)?this.$1o6(t,this.get_$1bw()):this.$2ty(t);i=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(t)}return i},$2ty:function(n){var i=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2o.$ma(n),o=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(this.$Pe)),t=o.$O("link-entity"),s=o.$O("condition"),f,u,h,e,c;if($0.$1(t))$0.$1(s)?Microsoft.Crm.Client.Core.Framework.$B.$65("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, incorrect filter condition XML was passed."):(Microsoft.Crm.Client.Core.Framework.$B.$C("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, generating merged fetchXML using passed in filter condition."),c=this.$2Io(i,!0),Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$7P.$2RW(s,c));else{Microsoft.Crm.Client.Core.Framework.$B.$C("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, generating merged fetchXML using passed in link-entity filter condition.");var l=$0.$1(t.$1T("link-type"))?null:t.$1T("link-type").toString(),a=$0.$1(t.$1T("alias"))?null:t.$1T("alias").toString(),r=new Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$8A(t.$1T("name").toString(),t.$1T("from").toString(),t.$1T("to").toString(),l,a);for(Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2o.$1j2(r,t),f=null,u=0;u<i.$NP.get_Count();u++)if(r.$3AQ(i.$NP.get_$I(u))){f=i.$NP.get_$I(u);break}if($0.$1(f))i.$NP.add(r);else for(h=this.$2Io(f,!1),e=0;e<r.$G8.get_Count();e++)h.$6b(r.$G8.get_$I(e))}return i.$mb()},$2Io:function(n,t){for(var r=null,i=0;i<n.get_$m3().get_Count();i++)if(!n.get_$m3().get_$I(i).get_$sl()&&(n.get_$m3().get_$I(i).get_$23().get_Count()>0&&t||n.get_$m3().get_$I(i).get_$5S().get_Count()>0&&!t)){r=n.get_$m3().get_$I(i);break}return $0.$1(r)&&(r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,n.get_$5l()+n.get_$m3().get_Count().toString()),n.get_$m3().add(r)),r},$1o6:function(n,t){var s="",a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n.toString()),v=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(a).$O("fetch"),i=v.$O("entity"),y=i.$1T("name").toString(),r,c,e,o,u,l;if(y==="queue")return n;var p=i.$O("link-entity")?i.$O("link-entity").get_$7Y().toString():"",w=i.$O("order")?i.$O("order").get_$7Y().toString():"",f=i.$5p("filter"),h="";if(!$0.$1(f))for(r=0;r<f.get_$m();r++)c=f.get_$I(r),h+=c.get_$7Y();for(e=i.$5p("attribute"),o="",u=0;u<e.get_$m();u++)o+=e.get_$I(u).get_$7Y();return l="<\/entity><\/fetch>",s=t.toLowerCase()==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'><filter type='and'><condition attribute='queueviewtype' operator='eq' value='1' /><\/filter><\/link-entity><link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='inner'><attribute name='systemuserid' /><filter><condition attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString()+"' /><\/filter><\/link-entity>":t.toLowerCase()==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'><filter type='and'><condition attribute='queueviewtype' operator='eq' value='0' /><\/filter><\/link-entity>":t.toLowerCase()==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='outer'> <attribute name='systemuserid'/> <\/link-entity> <link-entity name='queue' from='queueid' to='queueid' alias='qq' link-type='outer'> <attribute name='queueviewtype'/> <\/link-entity> <filter operator='and'> <filter type ='or'> <condition entityname='qq' attribute='queueviewtype' operator='eq' value='0' /> <condition entityname='qm' attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString()+"' /> <\/filter> <\/filter>":"<filter type='and'><condition attribute='queueid' operator='eq' uitype='queue' value='{"+t+"}' /><\/filter>","<fetch distinct='false' mapping='logical'><entity name='queueitem'>"+o+p+w+h+s+l},$2IM:function(n){var i,u,r,t;if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$m1)||(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i.addRange(this.$m1.split(",")),!i.get_Count()))return n;for(u={},r=0;r<i.get_Count();r++)t=i.get_$I(r),t=new Microsoft.Crm.Client.Core.Framework.Guid(t).toString(),t in n&&(u[t]=n[t]);return u},$cu:function(n,t,i){for(var r,o,e,h,u,f,c=i,l=c.length,s=0;s<l;++s){r=c[s];o=r.LabelText||"";switch(r.ControlType){case"Button":$0.$1(r.CommandParameters)&&(r.CommandParameters={});r.CommandParameters.TargetViewModel=this;e="";switch(r.CommandType){case"ControlCommand":r.CommandParameters.CommandPropertyName=r.Command;e="ControlCommand";break;case"System":e=r.Command;break;case"WebResource":e="WebResourceCommand"}h=t.get_$2R();($0.$1(h)||Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(t))&&t.get_$CK()&&(h=t.get_$CK().$J);u=new Microsoft.Crm.Client.Core.ViewModels.$2A;u.set_$1a(r.Id);u.set_Label(o);u.set_Visible(!0);u.set_Parameters(r.CommandParameters);u.set_ImageName(r.ImageId);u.set_ImageType(r.ImageType);u.$J8=r.AvailableOffline;u.set_TargetViewModel(t);u.$Dl=null;u.set_Command(e);n.$8V(u.$12,u);break;case"Group":Microsoft.Crm.Client.Core.ViewModels.$2Z.isInstanceOfType(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(o)?(f=new Microsoft.Crm.Client.Core.ViewModels.$9k,f.set_Label(o),f.set_$1a(this.$1RR(r.Id)),this.$cu(f,t,r.Children),n.$8V(f.$12,f)):this.$cu(n,t,r.Children)}}},$277:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$J);t.get_$8p()&&this.$8K?(this.$EV.ItemSelected(this.$J,n),this.$EV.$8("dataRecieved"),this.$T0.get_ComboBoxViewModel().set_SelectedItem("All")):this.$EV.ItemSelected(n);this.$J!=="queueitem"||$0.$1(this.$DQ)||this.$DQ.get_QueuePickerDropDown().get_ComboBoxViewModel().set_SelectedItem("436e2293-da8f-4ef9-a1e6-fff25a5beb22")},$1RR:function(n){if($0.$1(n))return null;var t=n.split("|");return t[t.length-1]},$GX:function(){var u=this.$ME,n,t,i,e;for(n in u)t={key:n,value:u[n]},Microsoft.Crm.Client.Core.ViewModels.$Ct.isInstanceOfType(t.value)&&(i=t.value,$0.$1(i)||i.dispose());if(!$0.$1(this.$K3)){for(var f=this.$K3,o=f.length,r=0;r<o;++r)e=f[r],e.dispose();this.$K3=null}$0.$1(this.$EV)||(this.$EV.remove_$1GK(this.$$d_DefinitionUpdated),this.get_GridFlyoutViewModel().remove_$2Pp(this.$$d_DropdownItemUpdated),this.$EV.dispose(),this.$EV=null);$0.$1(this.$T0)||(this.$T0.remove_OnItemSelected(this.$$d_FilterUpdated),this.$T0.dispose(),this.$T0=null);$0.$1(this.$DQ)||(this.$DQ.dispose(),this.$DQ=null);this.$16V&&(this.$xu?this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$6i,this.$$d_$2KV):this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN));this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$9N,this.$$d_$36G);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel=function(n){this.$$d_QueueUpdated=Function.createDelegate(this,this.QueueUpdated);Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.initializeBase(this);this.$W6=n};Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.prototype={$DQ:null,$1a4:!1,$W6:null,$Us:null,$1hA:null,get_QueuePickerDropDown:function(){if(($0.$1(this.$DQ)||$0.$1(this.$DQ.$Ud))&&!this.$1a4){this.$1a4=!0;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("DropdownForGridViewModel","ComboBoxWrapper","ComboBoxWrapper",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CommandButtonViewModels",this.$3L3()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ComboBoxClass","queuePickerDropDown")],null,null);this.$DQ=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,null);this.$DQ.add_OnItemSelected(this.$$d_QueueUpdated);this.$DQ.get_ComboBoxViewModel().set_SelectedItem("436e2293-da8f-4ef9-a1e6-fff25a5beb22");this.$DQ.get_ComboBoxViewModel().$k4=!0}return this.$DQ},$3L3:function(){return $0.$1(this.$Us)&&this.$2rL(),this.$Us},$2rL:function(){var t={},n,i,r;t.userId=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString();t.includePublic=!0;n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveUserQueues",t);i=this;n.OnSuccess=function(n){i.$33d(n)};r=this;n.OnFailure=function(n){r.$5O(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,n)},QueueUpdated:function(n){var t=n;this.$1hA=t.get_ComboBoxViewModel().$51;$0.$1(this.$W6)||(this.$W6.$O4=null,this.$W6.$2W=null,$0.$1(this.$W6.$2u)||(this.$W6.$S8=!0),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()&&this.$W6.get_DefinitionId()===this.$W6.$Ut&&(this.$W6.$Et=!0),this.$W6.$X6())},$33d:function(n){var t=0,c=n.entityCollection,l=c.get_entities(),o,s,i,r,u,f;this.$Us={};for(var h=l,a=h.length,e=0;e<a;++e)o=h[e],s=o.$N.Id.toString(),$0.$1(s)||(i=new Microsoft.Crm.Client.Core.ViewModels.$2A,i.set_$1a(s),i.set_Label(o.getValue("name")),this.$Us[t.toString()]=i,t++);r=new Microsoft.Crm.Client.Core.ViewModels.$2A;r.set_$1a("5850FC36-8596-45fe-B607-FE81D0C453FD");r.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_All"));this.$Us[t.toString()]=r;t++;u=new Microsoft.Crm.Client.Core.ViewModels.$2A;u.set_$1a("e611d950-6bab-477c-a5a3-7e9a447b326d");u.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_Public"));this.$Us[t.toString()]=u;t++;f=new Microsoft.Crm.Client.Core.ViewModels.$2A;f.set_$1a("436e2293-da8f-4ef9-a1e6-fff25a5beb22");f.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_Private"));this.$Us[t.toString()]=f;t++;this.$DQ.get_ComboBoxViewModel().$k4=!1;this.$DQ.$Ud=this.$Us;this.$DQ.$3JW();this.$1a4=!1},$5O:function(n){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(n)},$GX:function(){var n,t,i,r;$0.$1(this.$DQ)||(this.$DQ.remove_OnItemSelected(this.$$d_QueueUpdated),this.$DQ.dispose(),this.$DQ=null);n=this.$Us;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$Us=null;Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$AT=function(){this.$$d_$34i=Function.createDelegate(this,this.$34i);this.$iU=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Models.$JJ));Microsoft.Crm.Client.Core.ViewModels.$AT.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;Microsoft.Crm.Client.Core.ViewModels.$AT.initializeBase(this);this.$PY=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$JJ));this.set_PageSize(2147483647)};Microsoft.Crm.Client.Core.ViewModels.$AT.prototype={$s7:null,$n7:null,$21f:!1,$NV:null,$vM:!1,get_ActionProvider:function(){return this.$NV},set_ActionProvider:function(n){return this.$NV=n,n},$2A:"",$7f:null,$1Wg:0,get_Data:function(){return this.$2A},set_Data:function(n){return this.$2A!==n&&(this.$2A=n,$0.$1(n)?this.set_Text(""):this.set_Text(this.$2A.Name),this.$8("Data")),n},get_ProcessRequirementSatisfied:function(){return!$0.$1(this.$7f)&&this.$7f!==""},$PY:null,get_FirstLevelSubjects:function(){return this.$PY},set_FirstLevelSubjects:function(n){return this.$PY=n,n},get_Text:function(){return this.$7f},set_Text:function(n){return this.$7f!==n&&(this.$7f=n,this.$8("Text")),n},get_ItemIndex:function(){return this.$1Wg},set_ItemIndex:function(n){return this.$1Wg!==n&&(this.$1Wg=n),n},$Gs:!1,get_IsLoading:function(){return this.$Gs},set_IsLoading:function(n){return this.$Gs=n,n},get_DefaultLookupViewActionProvider:function(){return this.$s7},set_DefaultLookupViewActionProvider:function(n){return this.$s7=n,n},get_InitialLookupViewActionProvider:function(){return this.$n7},set_InitialLookupViewActionProvider:function(n){return this.$n7=n,n},$1hI:0,get_SubjectTextboxMaxLength:function(){return this.$1hI},set_SubjectTextboxMaxLength:function(n){return this.$1hI=n,n},$18:function(){this.$1y||(this.$Gs=!0,Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this))},FetchData:function(){this.$21f||(this.getSubjectData(),this.$3CB())},SetValue:function(n){var t=this.$iU.get_$I(n);$0.$1(t)||this.set_Data(new Xrm.Objects.EntityReference("subject",new Microsoft.Crm.Client.Core.Framework.Guid(t.$2b),t.$4r))},ToggleState:function(n){var t=this.$iU.get_$I(n);$0.$1(t)||(t.$7K=t.$7K?0:1)},getSubjectData:function(){this.$Gs=!0;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForSubject",null);n.OnSuccess=this.$$d_$34i;n.QueryValue="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<entity name='subject'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='subjectid' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='title'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='parentsubject'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<order attribute='createdon' descending='false' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/fetch>";this.set_DefinitionId(n.QueryValue.toString());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},$34i:function(n){var t=n.get_$Bt().$22N(),i;if(this.$PY.clear(),!$0.$1(t)&&t.length>0){for(i=0;i<t.length;i++){var f=t[i].GetValue("subjectid").toString(),s=t[i].GetValue("title"),e=t[i].GetValue("parentsubject"),o=e?e.Id.toString():null,r=o?this.$iU.get_$I(o):null,u=new Microsoft.Crm.Client.Core.Models.$JJ(f,s,r);$0.$1(r)?this.$PY.add(u):r.$jN.add(u);this.$iU.set_$I(f,u)}this.$2YR(this.$PY);this.$Gs=!1;this.$8("SubjectsLoaded")}this.$21f=!0},$2YR:function(n){var i=this,t;for(n.sort(function(n,t){var i=n,r=t,u=i.$4r,f=r.$4r;return u.localeCompare(f)}),t=0;t<n.get_Items().length;t++)this.$2YR(n.get_$I(t).$jN)},$3CB:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76("subject",null)},get_ProcessRequired:function(){return this.$vM},set_ProcessRequired:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Converters.$LC,i=t.$I6(n,null);return this.$vM=i,n},parentNodeScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("HierarchicalSubject_ParentNode_ScreenReader_Text"),n)},selectedNodeScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("HierarchicalSubject_SelectedNode_ScreenReader_Text"),n)}};Microsoft.Crm.Client.Core.ViewModels.$Ej=function(){this.get_$WK=this.get_IsValid;this.set_$104=this.set_DataBindingValidatorResult;this.set_$Om=this.set_ManualValidatorResult;this.set_$14y=this.set_RecommendationNotification;Microsoft.Crm.Client.Core.ViewModels.$Ej.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$UC=this.get_RequiredLevel;this.set_$UC=this.set_RequiredLevel;Microsoft.Crm.Client.Core.ViewModels.$Ej.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ej.prototype={add_$2Ux:function(n){this.$2I("RevalidateEvent",n)},remove_$2Ux:function(n){this.$4N("RevalidateEvent",n)},get_IsValid:function(){return($0.$1(this.$AH)||this.$AH.$5w)&&($0.$1(this.$9j)||this.$9j.$5w)},get_ErrorMessage:function(){return $0.$1(this.$9j)?$0.$1(this.$AH)?"":this.$AH.$5C:this.$9j.$5C},get_ErrorMessageLevel:function(){return $0.$1(this.$9j)?$0.$1(this.$AH)?"":this.$AH.$ls:this.$9j.$ls},$AH:null,get_DataBindingValidatorResult:function(){return this.$AH},set_DataBindingValidatorResult:function(n){if(this.$AH!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$AH=n;this.$8("DataBindingValidatorResult");t!==this.get_IsValid()&&this.$8("IsValid");r!==this.get_ErrorMessageLevel()&&this.$8("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$8("ErrorMessage")}return n},$9j:null,get_ManualValidatorResult:function(){return this.$9j},set_ManualValidatorResult:function(n){if(this.$9j!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$9j=n;this.$8("ManualValidatorResult");t!==this.get_IsValid()&&this.$8("IsValid");r!==this.get_ErrorMessageLevel()&&this.$8("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$8("ErrorMessage")}return n},$98:null,get_AcceptanceTextMessage:function(){return $0.$1(this.$98)||$0.$1(this.$98.actions)||this.$98.actions.length<1?"":this.$98.actions[0].message},get_AcceptanceActions:function(){return $0.$1(this.$98)||$0.$1(this.$98.actions)||this.$98.actions.length<1?null:this.$98.actions[0].actions[0]},get_RecommendationNotification:function(){return this.$98},set_RecommendationNotification:function(n){return this.$98!==n&&(this.$98=n,this.$8("RecommendationNotification")),n},$9m:0,get_RequiredLevel:function(){return this.$9m},set_RequiredLevel:function(n){return this.$9m!==n&&(this.$9m=n,this.$1Ru("RequiredLevel","Required","Recommended")),n},get_Required:function(){return this.$9m===1||this.$9m===2},get_Recommended:function(){return this.$9m===3},$2sB:function(){var n=this.$5j("RevalidateEvent");n&&n()}};Microsoft.Crm.Client.Core.ViewModels.$Dh=function(){this.$$d_$33u=Function.createDelegate(this,this.$33u);this.$$d_LoadViewFailure=Function.createDelegate(this,this.LoadViewFailure);this.$$d_LoadViewSuccess=Function.createDelegate(this,this.LoadViewSuccess);Microsoft.Crm.Client.Core.ViewModels.$Dh.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Dh.prototype={$TQ:null,$6u:null,$ll:null,$Iy:null,$wx:null,$p4:null,$1bt:"1",$hx:null,$hy:null,$VW:null,$lk:!1,$1HI:null,$1HH:null,$FV:!1,get_ShouldShowOnlyGrid:function(){return this.$FV},set_ShouldShowOnlyGrid:function(n){return this.$FV=n,n},$18:function(){var f,e,o,s,t,r,i,u,n;if(!this.$1y&&(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this),this.$6u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$ll=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$VW={},this.$GA=this.$2.$6O.isMultiSelect,this.$Gt=this.$2.$6O.lookupStyle,this.$FV=$0.$1(this.$2.$6O.shouldShowOnlyGrid)?!1:this.$2.$6O.shouldShowOnlyGrid,f=this.$2.$6O.disableQuickFind,this.$jV=$0.$1(f)?!1:f,!this.$FV))if(this.$cE=$0.$1(this.$2.$6O.selectedViewIds)?"":this.$2.$6O.selectedViewIds,e=this.$2.$6O.disableViewPicker,this.$bn=$0.$1(e)?!1:e,this.$1L5=$0.$1(this.$2.$6O.DefaultViewId)?"":this.$2.$6O.DefaultViewId,this.$lk=!0,this.$17J=this.$2.$6O.allowfilteroff,this.$Pe=this.$2.$6O.relationshipfiltercondition,this.$1HI="",this.$1HH="",o=this.$2.$6O.filterreferencingattributename,Microsoft.Crm.Client.Core.Framework.$3.$9(o)||(s=o.split("."),this.$1HI=s[0],this.$1HH=s[1]),this.$Gt==="single")t=this.$2.$6O.optionset,this.$6u.add(t),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(t),this.$ll.add(r.$1S.toString()),this.$VW[t]=r.$1S.toString(),this.$VW[r.$1S.toString()]=t,this.set_SelectedEntity(t);else if(this.$Gt==="multi"){for(i=this.$2.$6O.logicalNames,u=this.$2.$6O.displayNames,n=0;n<i.get_Count();n++)this.$6u.add(i.get_$I(n).toString()),this.$ll.add(u.get_$I(n).toString()),this.$VW[u.get_$I(n).toString()]=i.get_$I(n).toString(),this.$VW[i.get_$I(n).toString()]=u.get_$I(n).toString();this.$ll.sort();this.set_SelectedEntity(this.GetEntityLogicalName(this.$ll.get_$I(0)));this.$1J0=!1}},$cE:null,$jV:!1,$bn:!1,get_DisableViewPicker:function(){return this.$bn},set_DisableViewPicker:function(n){return this.$bn=n,n},$qe:null,$GA:!1,get_IsMultiSelect:function(){return this.$GA},set_IsMultiSelect:function(n){return this.$GA=n,n},$Gt:null,get_LookupStyle:function(){return this.$Gt},set_LookupStyle:function(n){return this.$Gt=n,n},$17J:!1,get_AllowFilterOff:function(){return this.$17J},set_AllowFilterOff:function(n){return this.$17J=n,n},get_HasRelationshipFilterCondition:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Pe)},$1L5:null,get_EnableRelationshipFilter:function(){return this.$lk},set_EnableRelationshipFilter:function(n){return this.$lk!==n&&(this.$lk=n,this.$TQ.$17i=this.$lk,this.$TQ.$2W=null,this.$lk&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AS(),this.$TQ.$X6(),this.$8("EnableRelationshipFilter")),n},get_RelationshipFilterText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Field_Label_UseRelationshipFilter"),this.get_$3Ly())},$Pe:null,get_RelationshipFilterCondition:function(){return this.$Pe},set_RelationshipFilterCondition:function(n){return this.$Pe=n,n},get_$3Ly:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(this.$1HI,this.$1HH),t;return $0.$1(n)?(this.$17J&&(t=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$1HI,[this.$1HH]),Microsoft.Crm.Client.Core.Framework.$G.$b("","LookupRelationshipFilter")).done(function(){t.$8("RelationshipLogicalName")})),""):n.$1S},get_Views:function(){return this.$Iy},set_Views:function(n){return this.$Iy=n,n},get_ItemViewModels:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1TN()},get_ItemViewModelDisplayNames:function(){for(var u,t,f,e=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1TN(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=e,o=r.length,n=0;n<o;++n)u=r[n],t=u.get_ModelContext(),$0.$1(t)||(f=t.get_$Qt().Name,i.add(f));return i.toArray()},FetchViewsForEntity:function(n){var i=n?this.get_UserViewsXml():this.get_SystemViewsXml(),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);t.OnSuccess=this.$$d_LoadViewSuccess;t.OnFailure=this.$$d_LoadViewFailure;t.QueryValue=i;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t)},get_SystemViewsXml:function(){return"<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='savedquery'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='savedqueryid'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='returnedtypecode'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='fetchxml'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='returnedtypecode' operator='eq' value='"+this.$1bt+"' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='statecode' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queryapi' operator='eq' value='' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queryapi' operator='null' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='64' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t<\/fetch>"},get_UserViewsXml:function(){return"<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='userquery'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='userqueryid' alias='savedqueryid'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='returnedtypecode'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='fetchxml'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='returnedtypecode' operator='eq' value='"+this.$1bt+"' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='statecode' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='64' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t<\/fetch>"},LoadViewSuccess:function(n){var s=n,u,t,i,r,o;s.get_EntityCollection().$1o.$S==="savedquery"&&(this.FetchViewsForEntity(!0),this.$Iy=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$wx=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.Guid)));u=!1;t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.Framework.$3.$9(this.$cE)?u=!0:t.addRange(this.$cE.split(","));for(var c=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$1L5),f="",l=n.get_$Bt().$22N(),h=l,a=h.length,e=0;e<a;++e)if(i=h[e],!$0.$1(i.GetValue("fetchxml"))&&(r=i.GetValue("savedqueryid"),o=String.format("{{{0}}}",r.toString()),(u||t.contains(o.toUpperCase())||t.contains(o.toLowerCase()))&&(this.$Iy.add(i.GetValue("name")),this.$wx.add(r),c.toString().toLowerCase()===r.toString().toLowerCase()&&(f=i.GetValue("name")),t.get_Count()>0&&this.$wx.get_Count()===t.get_Count())))break;Microsoft.Crm.Client.Core.Framework.$3.$9(f)?this.set_SelectedView(this.$Iy.get_Count()>0?this.$Iy.get_$I(0):""):this.set_SelectedView(f);s.get_EntityCollection().$1o.$S==="userquery"&&this.$8("Visible")},LoadViewFailure:function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,"Failed: "+n)},get_Entities:function(){return this.$6u},set_Entities:function(n){return this.$6u=n,n},get_EntitiesDisplayName:function(){return this.$ll},set_EntitiesDisplayName:function(n){return this.$ll=n,n},GetEntityLogicalName:function(n){return this.$VW[n]},get_SelectedEntity:function(){return this.$p4},set_SelectedEntity:function(n){if(this.$p4!==n){this.$p4=n;var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$p4);this.$1bt=t.$7u.toString();this.FetchViewsForEntity()}return n},GetSelectedEntityDisplayName:function(){return this.$VW[this.$p4]},get_SelectedView:function(){return $0.$1(this.$hx)&&(!$0.$1(this.$Iy)&&this.$Iy.get_Count()>0?(this.$hx=this.$Iy.get_$I(0),this.$hy=this.$wx.get_$I(0).toString(),this.$20l()):(this.$hx="",this.$hy=null)),this.$hx},set_SelectedView:function(n){return this.$hx===n||$0.$1(n)&&$0.$1(this.$hx)||(this.$hx=n,this.$hy=this.$wx.get_$I(this.$Iy.indexOf(this.$hx)).toString(),this.$20l()),n},get_SelectedViewId:function(){if($0.$1(this.$hy))var n=this.get_SelectedView();return this.$hy},set_SelectedViewId:function(n){return this.$hy!==n&&(this.$hy=n),n},DeleteItem:function(n){var t=this.$TQ.$m4(this.get_ItemViewModels()[n].$5g);t===-1?this.get_ItemViewModels()[n].set_$Og(!1):this.$TQ.$1R.get_$I(t).set_IsSelected(!1);this.$8("Visible")},$33u:function(n){for(var i,u=n.get_$Bt().$22N(),r=u,f=r.length,t=0;t<f;++t)i=r[t],this.$Iy.add(i.GetValue("name")),this.$wx.add(i.GetValue("savedqueryid"));this.$8("Visible")},$2iv:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridViewModel","InteractionCentricGridView","InteractionCentricGridViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridFormContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PageSize",7),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PreviousGridId",this.$qe),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DefinitionId",this.$hy),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$GA),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PrimaryModelName",this.$p4),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("EnableRelationshipFilter",this.$lk),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("RelationshipFilterCondition",this.$Pe),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("GetDefinitionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveListMetadata",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("PersonalizationActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalization",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("ActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForGrid",null))],{ListItemTabIndex:-1},[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridControlHeaderViewModel","InteractionCentricGridControlHeaderView","GridHeaderViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("PersonalizationActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalization",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowSearch",!this.$jV)],{},null)],"")},$2iw:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridViewModel","InteractionCentricGridView","InteractionCentricGridViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridFormContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PageSize",10),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PreviousGridId",this.$qe),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$GA),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShouldShowOnlyGrid",!0)],{ListItemTabIndex:-1},null,"")},$20l:function(){$0.$1(this.$TQ)||(this.$qe="grid_"+this.get_InteractionCentricGridViewModel().get_ViewModelId(),this.$TQ.dispose(),this.$TQ=null);var n=null;n=this.$FV?this.$2iw():this.$2iv();this.$TQ=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,this.get_ModelContext(),this.$3V,this.$2);this.$FV||(this.get_InteractionCentricGridViewModel().get_GridHeaderViewModel().get_FilterBarViewModel().$jb=this.get_InteractionCentricGridViewModel().$2JG(this.$p4));this.$8("Visible")},get_InteractionCentricGridViewModel:function(){return $0.$1(this.$TQ)&&this.$20l(),this.$TQ},SelectedItemScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ScreenReaderText_RemoveButton"),n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel=function(n){this.$$d_$1wJ=Function.createDelegate(this,this.$1wJ);this.$$d_$1wI=Function.createDelegate(this,this.$1wI);this.$$d_$3Fu=Function.createDelegate(this,this.$3Fu);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.resolveInheritance();this.get_AttributeMetadata=this.get_$1O4;this.set_AttributeMetadata=this.set_$1O4;this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_LaunchedWithUnsavedChanges=this.get_$1tn;this.set_LaunchedWithUnsavedChanges=this.set_$1tn;this.get_$2f3=this.get_AttributeFieldNames;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.prototype={$Fb:null,$Of:!1,$1JA:!1,$1bf:null,$15R:null,$Nx:null,$15M:null,$b0:null,$zf:null,$F8:0,get_$2sP:function(){return this.$F8},get_CreateRecordActionProvider:function(){return this.$Nx},set_CreateRecordActionProvider:function(n){return this.$Nx=n,n},get_RetrieveFilteredProcessesActionProvider:function(){return this.$15M},set_RetrieveFilteredProcessesActionProvider:function(n){return this.$15M=n,n},get_SetEntityReferenceActionProvider:function(){return this.$b0},set_SetEntityReferenceActionProvider:function(n){return this.$b0=n,n},get_BoundField:function(){return this.$Fb},set_BoundField:function(n){return this.$Fb=n,n},get_AttributeFieldNames:function(){return this.$54},set_AttributeFieldNames:function(n){return n===this.$54?n:(this.$54=n,this.$8("AttributeFieldNames"),n)},get_IsSaving:function(){return this.$Of},set_IsSaving:function(n){return this.$Of!==n&&(this.$Of=n,this.$8("IsSaving")),n},$18i:null,get_RetrieveProcessActionProvider:function(){return this.$18i},set_RetrieveProcessActionProvider:function(n){return this.$18i=n,n},add_PreNavigation:function(n){this.$2I("PreNavigation",n)},remove_PreNavigation:function(n){this.$4N("PreNavigation",n)},$2go:function(n){return n},$1eI:function(){return!1},$3WD:function(){return!1},$3WE:function(){return!1},$3WF:function(){return!1},get_$39S:function(){return!1},get_$394:function(){return this.$7s===1},$1wI:function(){this.$16T()},$1wJ:function(n){var i,t;this.$3w||(i=n[0],i&&this.get_ModelContext().SetValue("processid",i),t=n[1],t&&(this.get_ModelContext().SetValue("stageid",t),this.get_ModelContext().SetValue("traversedpath",t.toString())),this.$16T())},$2Uf:function(){var n,t,i,r;return this.$15R=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$64,Microsoft.Crm.Client.Core.Framework.$4),n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFilteredProcesses",null),t=this,n.OnSuccess=function(n){if(Microsoft.Crm.Client.Core.ViewModels.$64.isInstanceOfType(n))t.$15R.resolve(n);else{t.$15R.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("RetrieveFilteredProcesses failed - response is unexpected."));return}},i=this,n.OnFailure=function(n){i.$15R.reject(Microsoft.Crm.Client.Core.Framework.$4.$i(n.$E))},this.$15M=new Microsoft.Crm.Client.Core.ViewModels.$M(this,n),$0.$1(this.$15M)||(r=this.$15M.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(r)),this.$15R.promise()},$2XF:function(n){if($0.$1(this.$Q.$AZ)||$0.$1(this.$Q.$AZ.get_ModelContext())||$0.$1(this.$Fb))this.set_ModelContext(n);else if(!$0.$1(this.$b0)&&!$0.$1(this.$Q.$AZ.get_ModelContext().get_Id())){this.set_ModelContext(n);var t=this.$b0.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t)}this.$Cg("OnLoadModelCompleted")},$l3:function(){var n=this;Microsoft.Crm.Client.Core.Models.$O.$I7(this.$J,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$54)).then(function(t){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n.$J);n.$2XF(t);i.$tm&&n.$2Uf().then(function(n){for(var f,i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=n.$EJ.Controls,u=e,o=u.length,r=0;r<o;++r)f=u[r],i.add(f.CommandParameters.ProcessControlId.toString());i.get_Count()>0&&t.SetValue("processid",new Microsoft.Crm.Client.Core.Framework.Guid(i.get_$I(0)),null,null)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"RetrieveProcessForUser Failed for Business Process Control in Interaction Centric Create Form with error : {0}",n.$E)})},null)},$29Q:function(){var n,t,i,r;if(!$0.$1(this.$Q.$T)&&"InitializationParameters"in this.$Q.$T){if(n=this.$Q.$T.InitializationParameters,"RelationshipAttribute"in n&&n.RelationshipAttribute.length>0){t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(this.$54);for(var f=n.RelationshipAttribute,e=f.length,u=0;u<e;++u)i=f[u],$0.$1(i)||t.contains(i)||t.add(i);this.set_AttributeFieldNames(t.toArray())}r=this;Microsoft.Crm.Client.Core.Models.$O.$th(this.$J,n,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$54)).then(function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(r.$J);r.$2XF(n);t.$tm&&r.$2Uf().then(function(t){for(var f,i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=t.$EJ.Controls,u=e,o=u.length,r=0;r<o;++r)f=u[r],i.add(f.CommandParameters.ProcessControlId.toString());i.get_Count()>0&&n.SetValue("processid",new Microsoft.Crm.Client.Core.Framework.Guid(i.get_$I(0)),null,null)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"RetrieveProcessForUser Failed for Business Process Control in Interaction Centric Create Form with error : {0}",n.$E)})},null)}else this.$l3()},$1Uu:function(n){switch(n){case 2:this.$29Q();break;default:this.$l3()}},$18:function(){if(this.$1JA=!0,this.$F8=0,this.$7s===1){if(!$0.$1(this.$54))if($0.$1(this.$Q.$T))this.$l3();else{var t=this.$Q.$T.InitializeFrom,n=null;$0.$1(this.$Q.$T.InitializationParameters)||(n=this.$Q.$T.InitializationParameters,$0.$1(n.InitializeFrom)||(t=n.InitializeFrom));$0.$1(n)||$0.$1(n.BoundField)?$0.$1(this.$Q.$T.BoundField)||(this.$Fb=this.$Q.$T.BoundField):this.$Fb=n.BoundField;$0.$1(this.get_ModelContext())&&this.$1Uu(t,n)}Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$18.call(this)}else Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$18.call(this),this.add_$If(this.$$d_$3Fu)},$3Fu:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$J),t;!$0.$1(n)&&n.$FG&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p.forceRuleEvaluation(),this.remove_$If(this.$$d_$3Fu));$0.$1(this.get_ModelContext())||(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8y(this.get_ModelContext()),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1RG().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8y,t))},$28m:function(){Microsoft.Crm.Client.Core.ViewModels.$57.isCreateFormViaUrl()?(this.$1bf="SaveAndClose",this.$F8=3):(this.$1bf="Save",this.$F8=1);this.$EL()},$2jg:function(){this.$F8=3;this.$EL()},$2jf:function(n){this.$F8=6;this.$zf=n;this.$EL()},$EL:function(){var n,t;if(!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x&&!this.$Of){if(!this.$Co){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Form_Component_Error"));this.$Of=!1;return}n=this.$5j("PreNavigation");n&&n(this,null);$0.$1(this.$18i)?this.$16T():(t=this.$18i.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t));this.set_IsSaving(!0)}},$16T:function(){if(!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x&&!$0.$1(this.$Nx)){var n=this.$Nx.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)}},$w4:function(n){$0.$1(this.get_ModelContext())||$0.$1(this.get_ModelContext().get_Id())||this.get_ModelContext().get_Id()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()||Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$w4.call(this,n)},$1vW:function(n,t){this.$1JA=!1;this.$1UA(n,t)},$1vU:function(n){this.set_IsSaving(!1);$0.$1(this.$zf)||this.$zf.resolve(!1);switch(n.$z){case-2147220685:this.$RS=!0;this.$EL();break;default:this.$R0(n)}},$VB:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1DG(this.$12);$0.$1(n)||n(this)},$GX:function(){this.remove_$If(this.$$d_$3Fu);Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$GX.call(this)},$1UA:function(n,t){var r,i;if($0.$1(n)&&$0.$1(t)&&this.set_IsSaving(!1),r=null,$0.$1(n)||$0.$1(t)||(r=this.$5j("RecordSaved")),!$0.$1(t))switch(this.$F8){case 1:this.$VB();break;case 3:Microsoft.Crm.Client.Core.ViewModels.$57.isCreateFormViaUrl()&&this.$1bf==="SaveAndClose"&&window.close();i=new Microsoft.Crm.Client.Core.Commands.$33(this,40);i.$1B={};i.$J=this.$J;i.$1B.SourceId=t.get_$57();i.$1k1=!0;i.execute();i.dispose();break;case 6:$0.$1(this.$zf)||this.$zf.resolve(!0)}$0.$1(r)||r(new Microsoft.Crm.Client.Core.ViewModels.$QF(n,t))},$2QM:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object);return this.$7s===1&&!$0.$1(this.$1JA)&&!this.$1JA?(t.resolve(!0),t.promise()):Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$2QM.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel=function(){this.$$d_$1UN=Function.createDelegate(this,this.$1UN);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.prototype={$1la:"CurrentSelectedTabName",$xP:null,get_CurrentSelectedTabName:function(){return this.$xP},set_CurrentSelectedTabName:function(n){return this.$xP=n,n},get_GetIsCurrentSelectedTabPropertyName:function(){return"IsCurrentSelectedTab"},$18:function(){var n,t,i,f,r,u,e,o;if(!this.$1y){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN);n=null;t=this.$F;for(i in t){f={key:i,value:t[i]};n=f.value;break}if(n){if(this.$xP=n.get_Name(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("AssociatedGridURLAddressability")&&!$0.$1(this.$2.$jU)){r=this.$F;for(u in r)if(e={key:u,value:r[u]},o=e.value,o.get_Name()===this.$2.$jU){this.$xP=this.$2.$jU;this.$2.$jU=null;break}}this.$8(this.$1la)}}},$GX:function(){this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$1UN:function(n){this.$xP=n.$Y1;this.$8(this.$1la)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel=function(){this.$Ia=[];this.$HA=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.initializeBase(this);this.$xw=!0;this.$xo=!0};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.$3Ce=function(n){var u,t,e,v,y,i,r,b;if(n.lastButtonClicked==="add_id"){u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1TN();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AS();var f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem)),k=n.records,c=Xrm.Page.getAttribute(k),l={};if(n.isInlineOrAssociateFormLookup){if(t=n.context,!$0.$1(t)){e=new Microsoft.Crm.Client.Core.ViewModels.$M(t,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AssociateRecordsForInteractionCentric",null));t.$Qx=!1;for(var a=u,d=a.length,o=0;o<d;++o)v=a[o],y=v.get_ModelContext().get_$57(),t.$Io=y,$0.$1(t.$Io)||$0.$1(e)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(e.$4Z())}}else{if(n.isMultiSelect&&(i=c.getValue(),!$0.$1(i)))for(r=0;r<i.length;r++)f.add(i[r]),$0.$1(i[r].id)||(l[i[r].id.toLowerCase()]=!0);for(var p=u,g=p.length,s=0;s<g;++s){var w=p[s],h=w.get_ModelContext().get_$57(),nt="{"+h.get_$57().toLowerCase()+"}";$0.$1(l[nt])&&(b=new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(h.get_$Eb(),h.get_$57(),w.get_ModelContext().get_$Qt().Name.toString()),f.add(b))}Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$12h=!1;c.setValue(f.toArray())}}else Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AS();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Vt(!1)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.prototype={$1M0:null,get_LookupForField:function(){return this.$1M0},set_LookupForField:function(n){return this.$1M0=n,n},$GA:!1,get_IsMultiSelect:function(){return this.$GA},set_IsMultiSelect:function(n){return this.$GA=n,n},get_InteractionCentricLookupMaxCount:function(){return 10},get_RecordsCountText:function(){return this.$1R.get_Count()<10?this.$1R.get_Count()===1?this.$1R.get_Count().toString()+" "+Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Dialog_ChangeParent_Type_Record"):this.$1R.get_Count().toString()+" "+Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Tools.FormEditor.Dialogs.subgrid.aspx.RecordsLabel"):"10+ "+Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Tools.FormEditor.Dialogs.subgrid.aspx.RecordsLabel")},get_MoreThanOneMatchText:function(){return this.get_$AN().get_shouldAutoResolve()&&!this.$2D&&this.$Ia.length>1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("LookupAmbiguousTooltip"):null},$1gX:null,get_$AN:function(){return this.$1gX},set_$AN:function(n){return this.$1gX=n,n},$D4:null,get_EntitiesMetadataViewModel:function(){return this.$D4},set_EntitiesMetadataViewModel:function(n){return this.$D4=n,n},$xo:!1,get_HideLookupMoreRecords:function(){return this.$xo},set_HideLookupMoreRecords:function(n){return this.$xo=n,n},$18B:!1,get_IsInlineOrAssociateFormLookup:function(){return this.$18B},set_IsInlineOrAssociateFormLookup:function(n){return this.$18B=n,n},$Qc:!1,$Wp:null,get_$V:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V()},$c3:null,get_ParentLookupViewModel:function(){return this.$c3},set_ParentLookupViewModel:function(n){return this.$c3=n,n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$9C.prototype.$18.call(this);this.$kJ=!1;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AS()},$1uC:function(n){var r,i,t;if(this.$Gt==="single")this.$Ia=n;else if(this.$Gt==="multi"){if(this.$HA.add(this.$J),this.$Ia.length)for(r=this.$Ia.length,i=0;i<=n.length-1&&this.$Ia.length<=this.get_PageSize();r++,i++)this.$Ia[r]=n[i];else this.$Ia=n;if(this.$D4){if(this.$Ia.length<this.get_PageSize())for(t=0;t<this.$D4.$6u.get_Count();t++)if(!this.$HA.contains(this.$D4.$6u.get_$I(t).get_$1n())){this.$D4.set_SelectedItem(t.toString());break}}else this.$D4||this.$HA.clear()}this.get_$AN().get_shouldAutoResolve()&&!this.$2D&&this.$3SQ(this.$Ia.length)},$3SQ:function(n){var t=this.get_$AN(),i,r;t.$18F=!1;n===1?(t.$1XK(this.$Ia[0]),t.$18F=!0):(i=n?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("LookupAmbiguousTooltip"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InlineEditControls.InlineLookup.NoRecords"),r=n?"Error_ISHLookupAutoResolve_MoreThanOneRecords":"Error_ISHLookupAutoResolve_ZeroRecords",t.$2o4(i,r));t.$y0=!0},AddUnresolvedEmail:function(){if(this.get_$AN()&&this.get_$AN().get_$F1()&&this.get_$AN().$1tK(this.get_$AN().get_$F1().trim())){var n=this.get_$AN().get_$F1().trim(),i={addressused:n},r=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,i,{addressused:14},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));this.$3Ai(this.get_$AN().get_Data(),n)||(t.$4P.add("addressused"),this.get_$AN().$2dX(t))}},$3Ai:function(n,t){for(var f,r,u=n.get_entities(),e=u.length,i=0;i<e;++i)if(f=u[i],r=f.getValue("addressused"),r&&r.toString()===t)return!0;return!1},$5O:function(n){if(n.$z===-2147220960&&this.$Gt!=="single"&&this.$D4){this.$HA.add(this.$J);for(var t=0;t<this.$D4.$6u.get_Count();t++)if(!this.$HA.contains(this.$D4.$6u.get_$I(t).get_$1n())){this.$D4.set_SelectedItem(t.toString());return}this.$Qc&&this.$8("NewItemDescriptorAndModel");this.set_IsLoading(!1);this.set_HasMoreRecords(!1);this.$Qc=!1;this.$8("RecordCount")}else Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$5O.call(this,n)},$4e:function(n){var r,i,t;if($0.$1(this.$Dx))this.$Wp=n;else{if(r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("StopMarkerForLookupSearch",1,null),this.$Gt!=="single"){this.$3Bf(n);return}for(this.$2u.get_$B5().$79(),this.$Mc=0,i=n.get_$Bt().$22N(),t=0;t<i.length;t++)this.$Mc<this.get_PageSize()?(this.$Mc++,this.$1i6(i[t])):n.get_$Bt().$DR(i[t]);this.$Qc&&this.$8("NewItemDescriptorAndModel");this.set_IsLoading(!1);this.set_HasMoreRecords(!n.get_$WG());this.$Qc=!1;this.$8("RecordCount")}},openLookupDialog:function(){var u=new Xrm.DialogOptions,n,i,r,t;if(u.width=485,n={},n.isMultiSelect=this.$GA,n.records=this.$1M0,n.disableQuickFind=this.get_$AN().$jV,n.disableViewPicker=this.get_$AN().$bn,n.relationshipfiltercondition=this.get_$AN().get_$1aX(),n.allowfilteroff=this.get_$AN().$19e,n.filterreferencingattributename=this.get_$AN().$10o,this.$Gt==="single")n.optionset=this.$J,n.lookupStyle="single",n.selectedViewIds=this.get_$AN().$cE,n.DefaultViewId=this.get_$AN().$IB;else if(this.$Gt==="multi"){for(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),t=0;t<this.$D4.$6u.get_Count();t++)Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$D4.$6u.get_$I(t).get_$1n(),1)&&(i.add(this.$D4.$6u.get_$I(t).get_$1n()),r.add(this.$D4.$6u.get_$I(t).get_$9t()));if(!i.get_Count()){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(this.get_$7I().$2IC(-2147220960),this.get_$7I().$5M(-2147220960));return}n.logicalNames=i;n.displayNames=r;n.lookupStyle="multi"}Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Vt(!0);this.$18B&&(n.context=this.$2,n.isMultiSelect=!0);n.isInlineOrAssociateFormLookup=this.$18B;Xrm.Dialog.openDialog("Lookup",u,n,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.$3Ce,null)},screenReaderTextForInteractionCentricLookupList:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionCentricLookupListCount_ScreenReader_Label"),n)},$3Bf:function(n){var i,t;for(this.$Mc||this.$2u.get_$B5().$79(),i=n.get_$Bt().$22N(),t=0;t<i.length;t++)this.$Mc<this.get_PageSize()?(this.$Mc++,this.$1i6(i[t])):n.get_$Bt().$DR(i[t]);this.$Qc&&this.$8("NewItemDescriptorAndModel");(this.$HA.get_Count()===this.$D4.$6u.get_Count()-1||this.$Mc>=10)&&this.set_IsLoading(!1);this.set_HasMoreRecords(!n.get_$WG());this.$Qc=!1;this.$8("RecordCount")},$1u9:function(){$0.$1(this.get_$AN())||this.get_$AN().get_shouldAutoResolve()?$0.$1(this.$FQ)||$0.$1(this.$J)?this.set_IsLoading(!1):(this.$Gt==="multi"&&this.$HA&&(!this.$HA.get_Count()||this.$HA.get_Count()===this.$D4.$6u.get_Count())&&(this.$HA.get_Count()===this.$D4.$6u.get_Count()&&this.$HA.clear(),this.$Ia.length=0,$0.$1(this.$2u)||this.$2u.get_$B5().$79()),Microsoft.Crm.Client.Core.ViewModels.$9C.prototype.$1u9.call(this)):(this.$Gt==="multi"&&this.$HA&&(!this.$HA.get_Count()||this.$HA.get_Count()===this.$D4.$6u.get_Count())&&($0.$1(this.$FQ)||$0.$1(this.$J)||(this.$HA.get_Count()===this.$D4.$6u.get_Count()&&this.$HA.clear(),this.$Ia.length=0,$0.$1(this.$2u)||this.$2u.get_$B5().$79())),Microsoft.Crm.Client.Core.ViewModels.$9C.prototype.$1u9.call(this))},$1wX:function(){this.get_CurrentItemIndex()>=0&&this.get_$AN().$1XK(this.$Ia[this.get_CurrentItemIndex()])},$32C:function(n){this.$Dx=n;this.set_ListItemViewDescriptor(Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(this.$Dx));this.$Qc=!0;$0.$1(this.$Wp)||(this.$4e(this.$Wp),this.$Wp.dispose(),this.$Wp=null)},$GX:function(){$0.$1(this.get_$AN())||this.set_$AN(null);$0.$1(this.$D4)||(this.$D4.dispose(),this.$D4=null);this.$c3=null;this.$HA=null;this.$Ia=null;Microsoft.Crm.Client.Core.ViewModels.$9C.prototype.$GX.call(this)},ShowNewButtonOnlyIfInteractionCentricEnabled:function(){var n,t;if(!$0.$1(this.$c3)&&!$0.$1(this.$c3.$9h)&&!$0.$1(this.$c3.$9h.$29)){if(!$0.$1(this.get_$AN())&&!$0.$1(this.get_$AN().$18A)&&this.get_$AN().$18A)return!1;if(n=this.$c3.$9h.$29.$J,!$0.$1(n)&&(t=this.get_$V().$l(n),!$0.$1(t)))return t.$Du}return!0},IsVisibleInMobileClientOrICEnabled:function(){var t=this.$J,n=this.get_$V().$l(t);return $0.$1(n)?!1:n.$Oj||n.$Du},SetPageSizeAndHideMoreRecords:function(){this.$2.$o!==12&&this.$2.$o!==37&&this.IsVisibleInMobileClientOrICEnabled()?(this.set_PageSize(10),this.$xo=!1):(this.set_PageSize(2147483647),this.$xo=!0)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1NK=function(n){var i={partyid:n},r=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,i,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return t.$4P.add("partyid"),t};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1hs=function(n){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1NK(n)],!1,1,!1)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.prototype={$Qu:!1,$1cl:!1,$12j:!1,$9i:"multi",$12W:!0,get_$Kd:function(){var n,t;return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())&&this.$9i==="single"&&(n=this.get_Data(),!$0.$1(n)&&n.get_count()>0&&(t=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$me(n.get_$I(0)),Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(t)))?t:null},set_$Kd:function(n){return n!==this.get_$Kd()&&this.set_Data($0.$1(n)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty():Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1hs(n)),n},get_IsMultiSourceLookup:function(){return this.$12W},set_IsMultiSourceLookup:function(n){return this.$12W=n,n},get_NavigationEnabled:function(){return this.$Qu},set_NavigationEnabled:function(n){return this.$Qu=n,n},get_ShouldAutoResolveEmail:function(){return this.$1cl},set_ShouldAutoResolveEmail:function(n){return this.$1cl=n,n},get_LookupStyle:function(){return this.$9i},set_LookupStyle:function(n){return this.$9i=n,n},showOrHideResultsList:function(){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2&&($0.$1(this.$Ef)||$0.$1(this.$De)||(this.$Ef.$5W.get_Count()<=0?this.$RO(!0):this.$RO(!1)))},$1XK:function(n){this.$9i==="multi"?($0.$1(n)||this.$Ef.$V4(n),this.get_interactionCentricLookupAutoResolve()||this.$RO(!1)):Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$1XK.call(this,n);this.get_interactionCentricLookupAutoResolve()&&(this.$1jo(),this.clearError(),this.get_shouldAutoResolve()&&this.$De.get_RecordCount()===1&&(this.$RO(!1),this.set_HasFocus(!1)))},$RO:function(n){(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2||this.get_shouldAutoResolve()&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===3)&&($0.$1(this.$Ef)||$0.$1(this.$De)||(this.$Ef.set_HidePartyList(n),this.$De.set_HideLookupResultsList(!n)))},updateInputValue:function(){this.get_interactionCentricLookupAutoResolve()&&!$0.$1(this.$6U)&&this.$6U.set_Value(this.$y4);this.$9i==="single"&&Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.updateInputValue.call(this)},$1vt:function(n,t){this.$9i==="multi"?(this.$De.set_SearchValue($0.$1(this.get_$F1())?"":this.get_$F1()),this.$RO(!0)):Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1vt.call(this,n,t)},$1vX:function(n,t){this.$9i==="single"&&Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1vX.call(this,n,t)},$Os:function(n,t){this.$9i==="multi"?this.$1H7():Microsoft.Crm.Client.Core.ViewModels.$E3.prototype.$Os.call(this,n,t);this.$12j&&this.$RO(!0);this.$12j=!0},$2QO:function(n){this.$Qx=!0;$0.$1(this.get_ModelContext())?this.$1XK(n.$CO):(this.get_ModelContext().$1cX(),this.$1XK(n.$CO),this.get_ModelContext().$1aa());this.$Qx=!1;this.$1Ow()},$2fs:function(n){Microsoft.Crm.Client.Core.ViewModels.$E3.prototype.buildChildViewModelDescriptors.call(this,n)},buildChildViewModelDescriptors:function(n){var t,i;this.$GA=this.$9i==="single"?!1:!0;Microsoft.Crm.Client.Core.ViewModels.$E3.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$1(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i={input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0)],t)};this.$9i==="multi"&&(i.partylist=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("InteractionCentricPartyListViewModel","InteractionCentricPartyList","partyList",this.$H0,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("NavigationEnabled",this.$Qu)],null,null));this.$r3(i)},$2dX:function(n){this.$9i==="multi"&&($0.$1(n)||this.$Ef.$2dW(n),this.$1jo(),this.$RO(!1))},$1vs:function(n,t){this.get_HasFocus()||this.$9i!=="multi"?this.$9i==="single"&&Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$1vs.call(this,n,t):this.$1cl&&!$0.$1(this.$Dr)&&this.$De.AddUnresolvedEmail()},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$E3.prototype.$8V.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.isInstanceOfType(t)&&(this.$Ef=t,this.$Ef.$U3=this)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$Or)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.prototype={$U3:null,$GX:function(){this.RemovePropertyChangedListener("Data",this.$$d_$Or);this.$U3=null;Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.prototype.$GX.call(this)},$3Hv:function(n){if(n.$YJ){var t=new Microsoft.Crm.Client.Core.Commands.$33(n,40);t.$1B={EntityReference:n.$WL};t.$1V=null;t.$J=n.$WL.get_$Eb();t.execute();t.dispose()}}};Microsoft.Crm.Client.Core.ViewModels.$Uu=function(){Microsoft.Crm.Client.Core.ViewModels.$Uu.initializeBase(this);this.set_StartIndex(1e3)};Microsoft.Crm.Client.Core.ViewModels.$Uu.prototype={$9a:null,get_DataList:function(){return this.$9a},set_DataList:function(n){return this.$9a=n,n},$Gq:null,get_Data:function(){return this.$Gq},set_Data:function(n){return this.$Gq=n,n},$jS:null,get_DataNames:function(){return this.$jS},set_DataNames:function(n){return this.$jS=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$9a={},this.$jS={},this.set_ItemIDs(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))),this.$jk=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.getData())},$jk:null,get_ItemNames:function(){return this.$jk},set_ItemNames:function(n){return this.$jk=n,n},$2Ia:function(){return null},$323:function(){return null},$1gO:null,get_ItemIDs:function(){return this.$1gO},set_ItemIDs:function(n){return this.$1gO=n,n},$1cS:function(){var s=this.$Gq,r,f,n,e,t,i,o;for(r in s){var h={key:r,value:s[r]},u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),c=h.value;for(f in c)n={key:f,value:c[f]},e=this.$9a[n.key],($0.$1(e)||$0.$1(e.$29))&&(this.$9a[n.key]=n.value,t=!1,Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(n.value)?(i=n.value,!$0.$1(i.$T)&&"MetadataSubType"in i.$T?(o=i.$T.MetadataSubType,t=!$0.$1(o)&&o!==3):t=!0):t=!0,t&&(this.get_ItemIDs().add(this.$323(n.value)),this.$jk.add(this.$2Ia(n.value)),u.add(this.$2Ia(n.value))));u.get_Count()>0&&(this.$jS[h.key]=u)}},$J4:null,get_SelectedItemID:function(){return this.$J4},set_SelectedItemID:function(n){return this.$J4=n,n},$px:null,get_ChildSelectedItemID:function(){return this.$px},set_ChildSelectedItemID:function(n){return this.$px=n,n},SelectedItemName:function(){return null},getData:function(){},ItemSelected:function(){},add_$1GK:function(n){this.$2I("OnItemSelected",n)},remove_$1GK:function(n){this.$4N("OnItemSelected",n)},$Cg:function(n){var t=this.$5j(n);$0.$1(t)||t(this,new Sys.EventArgs)},$GX:function(){var f=this.$9a,n,t,i,r,e,u;for(n in f)t={key:n,value:f[n]},Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(t.value)&&t.value.dispose();if(this.$9a=null,!$0.$1(this.$jS)){i=this.$jS;for(r in i)e={key:r,value:i[r]},u=e.value,u.clear(),u=null;this.$jS=null}$0.$1(this.get_ItemIDs())||(this.get_ItemIDs().clear(),this.set_ItemIDs(null));$0.$1(this.$jk)||(this.$jk.clear(),this.$jk=null);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$E6=function(){Microsoft.Crm.Client.Core.ViewModels.$E6.initializeBase(this);this.$xQ="InteractionWallDateRangeFilter"};Microsoft.Crm.Client.Core.ViewModels.$E6.prototype={$BG:null,get_ParentViewModel:function(){return this.$BG},set_ParentViewModel:function(n){return this.$BG=n,n},$GX:function(){this.$BG=null;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$D5.prototype.SetDates.call(this,n,t);this.$3Ss();this.$BG.$2x="DateRangeFilterApplied";this.$BG.refreshData();this.$BG.$2x=""},$34x:function(){var n={};return this.$by?n.IsStartDateNull="true":(n.StartDate=this.$iP.toUTCString(),n.StartDateString=this.get_StartDateText()),this.$bw?n.IsEndDateNull="true":(n.EndDate=this.$eN.toUTCString(),n.EndDateString=this.get_EndDateText()),n},$3Ss:function(){var t=this.$34x(),n;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("InteractionWallDateRangeApplied",0,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SetFilterExpression",2002,t,"DateRangeFilterApplied");n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"InteractionWall.DateRangeFilterExpression");this.$by||this.$bw||n.$9r("modifiedon","on-or-after",this.$iP.format("s")).$9r("modifiedon","on-or-before",this.$eN.format("s"));this.$BG.$Xi=n}};Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.prototype={$1Bs:null,get_EntityLogicalName:function(){return this.$1Bs},get_EntityDisplayName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$87.$BD).$1S},get_$3Nz:function(){return this.$87.$cA},get_$21W:function(){return this.$87.$yQ},$17k:null,get_EntityId:function(){return this.$17k},set_EntityId:function(n){return this.$17k=n,n},get_ActivityType:function(){return this.$87.$NT},get_State:function(){return this.$87.$Xy},get_Priority:function(){return this.$87.$qm},get_ResultDirection:function(){return this.$87.$yJ},get_Subject:function(){return this.$87.$4r},get_CreatedBy:function(){return this.$87.$xL},get_Description:function(){return this.$87.$Rp},$bs:null,get_ImageViewModel:function(){return this.$bs},set_ImageViewModel:function(n){return this.$bs=n,n},get_TimeStamp:function(){var n=this.$87.$Y5,i=n.localeFormat("d")+" "+n.localeFormat("T"),r=Microsoft.Crm.Client.Core.Framework.$1X.get_$1vG(),u=new Microsoft.Crm.Client.Core.Framework.$1X(n.getFullYear(),n.getMonth(),n.getDate()),f=new Microsoft.Crm.Client.Core.Framework.$Nr(u,r),t=f.get_$3Vq();return t<=1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("LabelForToday"):t>1&&t<=2?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("LabelForYesterday"):i},get_StartDate:function(){var n=this.$87.$1Mq,t=null;return n&&(t=n.localeFormat("d")+" "+n.localeFormat("t")),t},get_EndDate:function(){var n=this.$87.$1LC,t=null;return n&&(t=n.localeFormat("d")+" "+n.localeFormat("t")),t},get_AttachedFiles:function(){return this.$87.$1Kn},get_IsInteractionCentricEnabled:function(){return this.$87.$jf},get_TargetEntityString:function(){return this.$87.$24G},get_TargetEntityLogicalName:function(){return this.$87.$24F},get_IsTargetEntityInteractionCentricEnabled:function(){return this.$87.$244},get_StringPartWallForPost:function(){return this.$87.$1gj},$87:null,get_ResultItem:function(){return this.$87},set_ResultItem:function(n){return this.$87=n,n},$BG:null,get_ParentViewModel:function(){return this.$BG},set_ParentViewModel:function(n){return this.$BG=n,n},$GB:null,get_QuickActionViewModel:function(){return this.$GB},set_QuickActionViewModel:function(n){return this.$GB=n,n},$2x:null,$18:function(){Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this);this.$bs=new Microsoft.Crm.Client.Core.ViewModels.$80;this.$87.$jc?this.$bs.set_Data(this.$87.$jc):this.$bs.set_Data("/_imgs/NavBar/EmptyUserImage.png");var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QuickActionViewModel","QuickActionInteractionWall","QuickActionInteractionWall"+this.$87.$cA,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TargetViewModelContext",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Entity",this.$87.$BD),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context","grid"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context",this.$87.$BD==="email"?"form":"grid")],null,null);this.$GB=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,this.get_ModelContext(),this.$3V,this.$2);this.$GB.$2d2(this.$87.$cA,this.$87.$BD)},$GX:function(){$0.$1(this.$bs)||(this.$bs.dispose(),this.$bs=null);$0.$1(this.$GB)||(this.$GB.dispose(),this.$GB=null);this.$BG=null;this.$87=null;Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$GX.call(this)},navigateToUserRecord:function(){this.$2x="SystemUserNavigation";this.$1Xu("systemuser",this.$87.$y6);this.$2x=""},navigateToTargetEntityItemRecord:function(n,t){(this.$2x="SystemPostLinkedEntityNavigation",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("NavigateToTargetEntityItemRecord",2003,{RecordObjectTypeCode:n,EntityId:n},this.$2x),this.$3Sp(n),this.$17k=t,Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1Bs))||(this.$1Xu(this.$1Bs,new Microsoft.Crm.Client.Core.Framework.Guid(this.$17k)),this.$2x="")},navigateToItemRecord:function(){this.$2x="RecordNavigation";Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("NavigateToItemRecord",2003,{RecordObjectTypeCode:Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.toString(this.$87.$NT),EntityId:this.$87.$cA},this.$2x);var n=this.getEntityLogicalName();Microsoft.Crm.Client.Core.Framework.$3.$9(n)||(this.$1Xu(n,this.$87.$cA),this.$2x="")},screenReaderTextForInteractionWallItem:function(n,t,i){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionWallItem_ScreenReader_Label"),n,t,i)},getEntityLogicalName:function(){switch(this.$87.$NT){case 0:case 1:case 2:case 3:case 5:case 8:case 9:case 6:case 10:case 11:return this.$87.$BD;default:return""}},$1Xu:function(n,t){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("NavigateToTargetEntityItemRecord",2003,{RecordLogicalName:n,EntityId:t.toString()},this.$2x);var r=new Xrm.Objects.EntityReference(n,t),u={EntityReference:r},i=new Microsoft.Crm.Client.Core.Commands.$33(null,40);try{i.$J=n;i.$1B=u;i.execute();this.$BG.$jg=!0}finally{i.dispose()}},IsEntityInteractionCentricEnabled:function(n){return this.$2IW().contains(n)},$2IW:function(){for(var t,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$OW(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=0;n<i.length;n++)t=i[n],t.$Du&&r.add(t.$7u.toString());return r},$3Sp:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$Bq(n);this.$1Bs=t.$d},getResultId:function(){return this.$87.$cA.toString()}};Microsoft.Crm.Client.Core.ViewModels.$Li=function(){this.$1Ia=0};Microsoft.Crm.Client.Core.ViewModels.$Li.prototype={$1Ia:0,get_$1tS:function(){return this.$1Ia>0},$1KT:function(){this.$1Ia++},$2YD:function(){this.get_$1tS()&&this.$1Ia--}};Microsoft.Crm.Client.Core.ViewModels.$Ug=function(){Microsoft.Crm.Client.Core.ViewModels.$Ug.resolveInheritance();this.$6D=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$Ug.initializeBase(this);this.$lx=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$Ug.prototype={$Kg:null,$lx:null,$1bB:function(n,t,i,r,u,f,e){var s,c,h,o,l;return this.$Kg=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$95,Microsoft.Crm.Client.Core.Framework.$4),s=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,"activitypointer"),Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(c=["subject","description"],s=Microsoft.Crm.Client.Core.ViewModels.$6F.$29r("activitypointer",c,u.replace("*","%"))),h=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"activitypointer"),h.$9r("activitytypecode","in",this.$31v()),o=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"activitypointer"),o.$6b(h),o.$6b(Microsoft.Crm.Client.Core.ViewModels.$6F.$29n("activitypointer",0,"regardingobjectid",t)),o.$6b(s),o.$6b(f),this.set_DefinitionId(this.get_ViewModelId()),this.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s('<fetch mapping="logical"><entity name="activitypointer"><attribute name="activityid" /><attribute name="activitytypecode" /><attribute name="subject" /><attribute name="prioritycode" /><attribute name="description" /><attribute name="scheduledstart" /><attribute name="scheduledend" /><attribute name="createdby" /><attribute name="modifiedby" /><attribute name="modifiedon" /><attribute name="statecode" /><attribute name="statuscode" /><order attribute="modifiedon" descending="true" />'+o.$7J()+'<link-entity name="phonecall" from="activityid" to="activityid" alias="phonecalljoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><link-entity name="socialactivity" from="activityid" to="activityid" alias="socialactivityjoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><link-entity name="email" from="activityid" to="activityid" alias="emailjoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><\/entity><\/fetch>'),this.$1s.$FP(),this.$1s.$32=i,this.$1s.$BT=r,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveData",2004,{FetchXml:this.$2W.$6d.get_$I(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$r.toString(1)).Data,PageSize:i,PageNumber:r},"DataLoad"),!$0.$1(e)&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(e)&&this.set_$4K(e),l=this.$lx.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(l),this.$Kg},$4e:function(n){var s,r,i,l,o;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("LoadDataSuccess",2004,{ModelCount:n.get_$Bt().get_Count()},"DataLoad");s=n.get_$Bt().$22N();r=new Microsoft.Crm.Client.Core.ViewModels.$95;for(var h=s,a=h.length,e=0;e<a;++e){i=h[e];Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C("LoadDataSuccess",2004,i.$M.getObjectData(),"DataLoad");var v=i.GetValue("activityid"),c=i.GetValue("description"),u=-1,f=-1,t=new Microsoft.Crm.Client.Core.ViewModels.$Lk(v);t.$BD=i.$M.$3F.LogicalName;t.$4r=i.GetValue("subject");t.$Rp=Microsoft.Crm.Client.Core.Framework.$3.$9(c)?"":c;switch(t.$BD.toLowerCase()){case"appointment":t.$NT=2;f=i.GetValue("prioritycode").$1i;t.$1Mq=Microsoft.Crm.Client.Core.Framework.$3.$9(i.GetValue("scheduledstart"))?new Date:Microsoft.Crm.Client.Core.ViewModels.$2B.$1ZD(i.$M.$4Y.scheduledstart);t.$1LC=Microsoft.Crm.Client.Core.Framework.$3.$9(i.GetValue("scheduledend"))?new Date:Microsoft.Crm.Client.Core.ViewModels.$2B.$1ZD(i.$M.$4Y.scheduledend);break;case"email":t.$NT=1;f=i.GetValue("prioritycode").$1i;u=i.GetValue("emailjoin.directioncode").$1i;t.$yQ=i.GetValue("statuscode").$1i.toString();break;case"phonecall":t.$NT=3;u=i.GetValue("phonecalljoin.directioncode").$1i;break;case"socialactivity":t.$NT=8;u=i.GetValue("socialactivityjoin.directioncode").$1i;break;case"task":t.$NT=0;f=i.GetValue("prioritycode").$1i;break;case"incidentresolution":t.$NT=4;break;default:t.$NT=9}l=i.GetValue("statecode").$1i;switch(l){case 0:t.$Xy=0;break;case 1:t.$Xy=1;break;case 2:t.$Xy=2;break;case 3:t.$Xy=3;break;default:t.$Xy=1}switch(u){case 0:t.$yJ=0;break;case 1:t.$yJ=1;break;default:t.$yJ=0}switch(f){case 0:t.$qm=2;break;case 1:t.$qm=1;break;case 2:t.$qm=0;break;default:t.$qm=1}t.$Y5=Microsoft.Crm.Client.Core.ViewModels.$2B.$1ZD(i.$M.$4Y.modifiedon);t.$xL=i.GetValue("createdby").Name;o=i.GetValue("modifiedby");t.$1M4=o.Name;t.$y6=o.Id;try{t.$jf=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(i.$M.$EU().activitytypecode).$Du?!0:!1}catch(y){t.$jf=!1}r.$nA(t)}r.$Uo=!n.get_$WG();this.$Kg.resolve(r)},$5O:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("LoadDataFailure",2004,{Error:n.$1C()},"DataLoad");this.$Kg.reject(n)},$31v:function(){for(var n,r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$OW(),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number)),i=0;i<r.length;i++)n=r[i],n.$Du&&n.get_$8p()&&t.add(n.$7u);return t.add(4206),t}};Microsoft.Crm.Client.Core.ViewModels.$6F=function(){};Microsoft.Crm.Client.Core.ViewModels.$6F.$29r=function(n,t,i){var r=null,e;r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,n);for(var f=t,o=f.length,u=0;u<o;++u)e=f[u],r.$9r(e.toString(),"like","%"+i+"%");return r};Microsoft.Crm.Client.Core.ViewModels.$6F.$29n=function(n,t,i,r){var u=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(t,n);return u.$9r(i,"eq",r),u};Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile.prototype={$jZ:null,get_fileName:function(){return this.$jZ},set_fileName:function(n){return this.$jZ=n,n},$1LJ:null,get_filePath:function(){return this.$1LJ},set_filePath:function(n){return this.$1LJ=n,n},$Ui:0,get_fileSize:function(){return this.$Ui},set_fileSize:function(n){return this.$Ui=n,n},get_fileSizeFormattedString:function(){var n,t;return this.$Ui<1024?this.$Ui.toString()+" bytes":(n=Math.round(this.$Ui/1024),n<1024)?n.toString()+" KB":(t=Math.round(n/1024),t.toString()+" MB")}};Microsoft.Crm.Client.Core.ViewModels.$Lk=function(n){this.$1Kn=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile));this.$cA=n};Microsoft.Crm.Client.Core.ViewModels.$Lk.prototype={$cA:null,$NT:0,$Xy:0,$yQ:null,$qm:0,$yJ:0,$4r:null,$Rp:null,$Y5:null,$xL:null,$jc:null,$1M4:null,$1Mq:null,$1LC:null,$y6:null,$1Kn:null,$BD:null,$jf:!1,$24G:null,$1gj:null,$24F:null,$244:!1,toString:function(){var n="";return n+="ResultId:"+this.$cA.toString()+";",n+="ResultType:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.toString(this.$NT)+";",n+="ResultState:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.toString(this.$Xy)+";",n+="ResultPriority:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.toString(this.$qm)+";",n+="ResultDirection:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.toString(this.$yJ)+";",n+="Title:"+this.$4r+";",n+="TimeStamp:"+this.$Y5.toUTCString()+";",n+="CreatedBy:"+this.$xL+";",n+="ModifiedBy:"+this.$1M4+";",$0.$1(this.$y6)||(n+="ModifiedById:"+this.$y6.toString()+";"),n+="EntityLogicalName:"+this.$BD+";",n+("IsInteractionCentricEnabled:"+this.$jf.toString())}};Microsoft.Crm.Client.Core.ViewModels.$95=function(){this.$hW=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Lk))};Microsoft.Crm.Client.Core.ViewModels.$95.prototype={$hW:null,get_$m:function(){return this.$hW.get_Count()},$Uo:!1,get_$I:function(n){return this.$hW.get_$I(n)},set_$I:function(n,t){return this.$hW.set_$I(n,t),t},$nA:function(n){for(var t=0;this.get_$m()>0&&this.$hW.get_$I(t).$Y5>n.$Y5;)if(t++,t===this.$hW.get_Count())break;this.$hW.insert(t,n)},$38H:function(n){for(var t=0;t<n.get_$m();t++)this.$nA(n.get_$I(t))},$79:function(){this.$hW.clear()}};Microsoft.Crm.Client.Core.ViewModels.$3P=function(){};Microsoft.Crm.Client.Core.ViewModels.$3P.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$3P.$1HO={};Microsoft.Crm.Client.Core.ViewModels.$3P.$3Lo()};Microsoft.Crm.Client.Core.ViewModels.$3P.$3Lo=function(){Microsoft.Crm.Client.Core.ViewModels.$3P.$1yJ("InteractionWallSource_Note",function(){return new Microsoft.Crm.Client.Core.ViewModels.$Uf});Microsoft.Crm.Client.Core.ViewModels.$3P.$1yJ("InteractionWallSource_Post",function(){return new Microsoft.Crm.Client.Core.ViewModels.$2i});Microsoft.Crm.Client.Core.ViewModels.$3P.$1yJ("InteractionWallSource_Activity",function(){return new Microsoft.Crm.Client.Core.ViewModels.$Ug})};Microsoft.Crm.Client.Core.ViewModels.$3P.$1yJ=function(n,t){n in Microsoft.Crm.Client.Core.ViewModels.$3P.$1HO||(Microsoft.Crm.Client.Core.ViewModels.$3P.$1HO[n]=t)};Microsoft.Crm.Client.Core.ViewModels.$3P.$3P9=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$3P.$1HO[n];return t()};Microsoft.Crm.Client.Core.ViewModels.$Uf=function(){Microsoft.Crm.Client.Core.ViewModels.$Uf.resolveInheritance();this.$6D=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$Uf.initializeBase(this);this.$lx=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$Uf.prototype={$Kg:null,$lx:null,$1bB:function(n,t,i,r,u,f,e){var s,h,o,c;return this.$Kg=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$95,Microsoft.Crm.Client.Core.Framework.$4),s=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,"activitypointer"),Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(h=["subject","notetext"],s=Microsoft.Crm.Client.Core.ViewModels.$6F.$29r("annotation",h,u.replace("*","%"))),o=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"annotation"),o.$6b(Microsoft.Crm.Client.Core.ViewModels.$6F.$29n("annotation",0,"objectid",t)),o.$6b(s),o.$6b(f),this.set_DefinitionId(this.get_ViewModelId()),this.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s('<fetch mapping="logical"><entity name="annotation"><attribute name="annotationid" /><attribute name="subject" /><attribute name="notetext" /><attribute name="filename" /><attribute name="filesize" /><attribute name="isdocument" /><attribute name="createdby" /><attribute name="modifiedby" /><attribute name="modifiedon" /><order attribute="modifiedon" descending="true" /><link-entity name="systemuser" from="systemuserid" to="createdby" alias="userimagejoin"><attribute name="entityimage_url" /><\/link-entity>'+o.$7J()+"<\/entity><\/fetch>"),this.$1s.$FP(),this.$1s.$32=i,this.$1s.$BT=r,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveData",2005,{FetchXml:this.$2W.$6d.get_$I(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$r.toString(1)).Data,PageSize:i,PageNumber:r},"DataLoad"),!$0.$1(e)&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(e)&&this.set_$4K(e),c=this.$lx.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(c),this.$Kg},$4e:function(n){var o,u,t,e,r;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("LoadDataSuccess",2005,{ModelCount:n.get_$Bt().get_Count()},"DataLoad");o=n.get_$Bt().$22N();u=new Microsoft.Crm.Client.Core.ViewModels.$95;for(var s=o,c=s.length,f=0;f<c;++f){t=s[f];Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C("LoadDataSuccess",2005,t.$M.getObjectData(),"DataLoad");var h=t.GetValue("annotationid"),l=t.GetValue("subject"),a=t.GetValue("notetext"),i=new Microsoft.Crm.Client.Core.ViewModels.$Lk(h);i.$BD=t.$M.$3F.LogicalName;i.$NT=5;i.$Xy=1;i.$4r=l;i.$Rp=a;i.$Y5=Microsoft.Crm.Client.Core.ViewModels.$2B.$1ZD(t.$M.$4Y.modifiedon);i.$xL=t.GetValue("createdby").Name;i.$jc=t.GetValue("userimagejoin.entityimage_url");e=t.GetValue("modifiedby");i.$1M4=e.Name;i.$y6=e.Id;i.$jf=!1;t.GetValue("isdocument").$1i===1&&(r=new Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile,r.$jZ=t.GetValue("filename"),r.$Ui=Number.parseLocale(t.GetValue("filesize")),r.$1LJ="javascript:window.open('"+(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Q.usepathbasedurls?"/"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$uy():"")+"/nga/engagementhubdownload.aspx?AttachmentType=5&IsNotesTabAttachment=1&AttachmentId="+h+"');void(0);",i.$1Kn.add(r));u.$nA(i)}u.$Uo=!n.get_$WG();this.$Kg.resolve(u)},$5O:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("LoadDataFailure",2005,{Error:n.$1C()},"DataLoad");this.$Kg.reject(n)}};Microsoft.Crm.Client.Core.ViewModels.$2i=function(){Microsoft.Crm.Client.Core.ViewModels.$2i.resolveInheritance();this.$6D=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$2i.initializeBase(this);this.$lx=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$2i.prototype={$Lc:null,$Kg:null,$lx:null,$2pm:function(n,t,i){var r=n.get_$5S();r.get_Items()[0].get_$23()?(t.val=new Date(r.get_Items()[0].get_$23().get_Items()[0].get_$2O().toString()),i.val=new Date(r.get_Items()[0].get_$23().get_Items()[1].get_$2O().toString())):(t.val=new Date("0001-01-01T00:00:00Z"),i.val=new Date("3000-12-31T23:59:59Z"))},$1bB:function(n,t,i,r,u,f){var e,o,v,a;this.$Kg=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$95,Microsoft.Crm.Client.Core.Framework.$4);this.$Lc=u;var s,h,c,l;return this.$2pm(f,c={val:s},l={val:h}),s=c.val,h=l.val,e={},e["entityReference"]=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),e["pageSize"]=i,e["pageNumber"]=r,e["commentsPerPost"]=2,e["startDate"]=s,e["endDate"]=h,e["type"]=1,e["source"]=1,$0.$1(Microsoft.Crm.Client.Core.ViewModels.$2i.$tc)&&(Microsoft.Crm.Client.Core.ViewModels.$2i.$tc={}),Microsoft.Crm.Client.Core.ViewModels.$2i.$mx.toString()in Microsoft.Crm.Client.Core.ViewModels.$2i.$tc||(Microsoft.Crm.Client.Core.ViewModels.$2i.$tc[Microsoft.Crm.Client.Core.ViewModels.$2i.$mx.toString()]=this,Microsoft.Crm.Client.Core.ViewModels.$2i.$mx++),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveData",2006,e,"DataLoad"),o=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveRecordWallRequest",e),v=this,o.OnSuccess=function(n){Microsoft.Crm.Client.Core.ViewModels.$2i.$mx--;Microsoft.Crm.Client.Core.ViewModels.$2i.$mx<0;Microsoft.Crm.Client.Core.ViewModels.$2i.$tc[Microsoft.Crm.Client.Core.ViewModels.$2i.$mx.toString()].$Fw(n);delete Microsoft.Crm.Client.Core.ViewModels.$2i.$tc[Microsoft.Crm.Client.Core.ViewModels.$2i.$mx.toString()]},a=this,o.OnFailure=function(n){a.$9B(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,o),this.$Kg},$Fw:function(n){var u,i;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveSuccess",2006,{ModelCount:n.entityCollection.get_count()},"DataLoad");for(var e=new Microsoft.Crm.Client.Core.ViewModels.$95,o=!0,l=n.entityCollection,a=l.get_entities(),s=a,v=s.length,r=0;r<v;++r)if(u=s[r],Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C("LoadDataSuccess",2005,u.getObjectData(),"DataLoad"),i=u.fields,"text"in i){var h=i.text,f=i.regardingobjectid,y=f.Id,t=new Microsoft.Crm.Client.Core.ViewModels.$Lk(y);t.$BD=Xrm.Internal.getEntityName(i.regardingobjectid.TypeCode);t.$4r=f.Name;t.$Rp=h;t.$1gj=Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_InteractionWallEvent_OnWallPost"),"`~<"+t.$4r+">~`");t.$Y5=new Date(Date.parse(i.modifiedon));t.$xL=i.createdby.Name;t.$jc=i["userimagejoin.entityimage_url"];t.$NT=i.source.$1i===1?6:7;t.$Xy=1;o=this.$12M(f.TypeCode.toString());t.$jf=o;var p=this.$3IZ(h),w=Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_InteractionWallEvent_OnWallPost"),t.$4r),c=!0;this.$Lc&&(c=t.$4r.toLowerCase().indexOf(this.$Lc.toLowerCase())!==-1||p.toLowerCase().indexOf(this.$Lc.toLowerCase())!==-1||w.toLowerCase().indexOf(this.$Lc.toLowerCase())!==-1);c&&e.$nA(t)}this.$Kg.resolve(e)},$3IZ:function(n){var t,e,o;if(!n)return null;var u=new RegExp('\\@\\[[0-9]*,[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12},".+?"\\]',"g"),f=n.split(u),i=n.match(u),r="";for(r=f[0],t=0;t<i.length;t++)i[t]=i[t].substring(2,i[t].length-2),e=i[t].split(new RegExp(",")),o=e[2].replace(new RegExp('"',"g"),""),r+=o,r+=f[t+1];return r},$9B:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("RetrieveFailure",2006,{Error:n.$1C()},"DataLoad");this.$Kg.reject(n)},$12M:function(n){var t=this.$2IW();return t.contains(n)},$2IW:function(){for(var t,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$OW(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=0;n<i.length;n++)t=i[n],t.$Du&&r.add(t.$7u.toString());return r},$5O:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("LoadDataFailure",2006,{Error:n.$1C()},"DataLoad");this.$Kg.reject(n)}};Microsoft.Crm.Client.Core.ViewModels.$82=function(){this.$$d_$1zk=Function.createDelegate(this,this.$1zk);Microsoft.Crm.Client.Core.ViewModels.$82.initializeBase(this);this.$Rx=null};Microsoft.Crm.Client.Core.ViewModels.$82.prototype={$dl:0,$32:0,$Qo:!1,$PC:null,$r1:null,$70:null,$Rx:null,get_InteractionWallEventViewModels:function(){return this.$Rx},set_InteractionWallEventViewModels:function(n){return this.$Rx=n,n},$Uv:null,get_ResultCollection:function(){return this.$Uv},set_ResultCollection:function(n){return this.$Uv=n,n},$17Z:null,get_customerName:function(){return this.$17Z},set_customerName:function(n){return this.$17Z=n,n},$17a:null,get_customerType:function(){return this.$17a},set_customerType:function(n){return this.$17a=n,n},$17Y:null,get_customerId:function(){return this.$17Y},set_customerId:function(n){return this.$17Y=n,n},$2x:null,$18y:null,get_SourceList:function(){return this.$18y},set_SourceList:function(n){return this.$18y=n,n},get_ActiveSource:function(){return this.$r1},set_ActiveSource:function(n){var t=!0;return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$2x)&&(t=!1,this.$2x="SourceFilterPerformed"),this.$r1=n,this.$dl=0,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SetActiveSource",2002,{ActiveSource:n},this.$2x),this.refreshData(),t||(this.$2x=""),n},$6n:null,get_RegardingObject:function(){return this.$6n},set_RegardingObject:function(n){return this.$6n=n,n},$Uo:!1,get_MoreRecords:function(){return this.$Uo},set_MoreRecords:function(n){return this.$Uo=n,n},get_SearchActive:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$70)},$Xi:null,get_FilteredDateExpression:function(){return this.$Xi},set_FilteredDateExpression:function(n){return this.$Xi=n,n},$jT:null,get_DateRangeViewModel:function(){return this.$jT},set_DateRangeViewModel:function(n){return this.$jT=n,n},$qK:!1,get_IsDataLoading:function(){return this.$qK},set_IsDataLoading:function(n){return this.$qK=n,n},$jg:!1,get_IsNavigated:function(){return this.$jg},set_IsNavigated:function(n){return this.$jg=n,n},get_AllText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_InteractionWall_AllText")},SetSearchText:function(n,t){this.$2x="SearchPerformed";this.$70=n;t&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("InteractionWallSearchText",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SetSearchText",2002,{text:n},this.$2x),this.$dl=0,this.refreshData());this.$2x=""},loadMoreResults:function(){this.$2x="LoadMoreResults";var n={};n.oldPageNumber=this.$dl;this.$dl++;n.newPageNumber=this.$dl;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("LoadMoreResults",2002,n,this.$2x);n=null;this.$1bB();this.$2x=""},$18:function(){this.$2x="Initialize";this.$Qo=!1;this.$pY=!0;Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$18.call(this);this.$Rx=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel));this.$jT=this.$2tU();this.$Uv=new Microsoft.Crm.Client.Core.ViewModels.$95;this.$PC=new Microsoft.Crm.Client.Core.ViewModels.$Li;this.$Xi=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"InteractionWall.DateRangeFilterExpression");this.$dl=0;this.$32=10;this.$r1=this.get_AllText();this.$Uo=!1;this.set_HasError(!0);this.$2&&this.$2.get_ModelContext()&&this.$2XY();this.$2.add_$If(this.$$d_$1zk);this.$2x=""},$GX:function(){this.$2x="Dispose";this.$2BB();this.$Rx=null;this.$jT.dispose();this.$Uv.$79();this.$Xi.$79();this.$jT=null;this.$Uv=null;this.$Xi=null;this.$18y=null;this.$PC=null;this.$6n=null;this.$2.remove_$If(this.$$d_$1zk);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$GX.call(this);this.$2x=""},$2BB:function(){var n,t;if(!$0.$1(this.$Rx)){for(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("DisposeDataSources",2002,{EventCount:this.$Rx.get_Count()},this.$2x),n=0;n<this.$Rx.get_Count();++n)t=this.$Rx.get_$I(n),t.dispose();this.$Rx.clear()}},$1zk:function(){this.$2x="FormRootModelLoad";Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RootOnLoadModelCompleted",2002,null,this.$2x);this.$2XY();this.$2x=""},$2XY:function(){var n,t;if(this.$2.$7s===1){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("SetRegardingObject",2002,{message:"Form is not in Edit Mode. Skipping regarding object and relationship setup"},this.$2x);return}n={};n.oldId=this.$6n;this.$6n=this.$2.get_ModelContext().$M.$N;n.newId=this.$6n;this.$7n="objectid";n.oldRelationship=this.$5y;this.$5y=this.$6n.LogicalName+"_activitypointers";n.newRelationship=this.$5y;this.$5h=0;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SetRegardingObject",2002,n,this.$2x);n=null;this.$Qo=!0;t=this.$2.get_ModelContext().$M.fields.customerid;$0.$1(t)||(this.$17Z=t.Name,this.$17Y=t.Id.toString(),this.$17a=t.LogicalName);this.refreshData()},$2tU:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionWallDateRangeViewModel","DateRangeControl","DateRangeControl",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsStartDateNull",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsEndDateNull",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowNoRange",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentViewModel",this)],null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,this.get_ModelContext(),this.$3V,this.$2)},$2oK:function(n,t){var i;return Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("DynamicInteractionWallEventGenerator",2002,{ResultIndex:t},this.$2x),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C("DynamicInteractionWallEventGenerator",2002,{ResultItem:n.toString()},this.$2x),i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionWallEventViewModel","InteractionWallEvent","InteractionWallEvent",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ResultItem",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentViewModel",this)],null,null),Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(i,this.get_ModelContext(),this.$3V,this.$2)},resetAllFilters:function(n){this.$2x="ClearFilter";this.$Xi.$79();this.$Xi.set_$OJ("InteractionWall.DateRangeFilterExpression");this.$jT.set_StartDateText("");this.$jT.set_EndDateText("");n&&this.set_ActiveSource(this.get_AllText());this.$2x=""},$2Sx:function(){this.$2x="InteractionWallExternalRefresh";this.refreshData();this.$2x=""},refreshData:function(){var n,t;this.$jg&&(this.$2x="NavigateBackReload");this.$Uv.$79();this.$2.get_ModelContext()&&(n=this.$2.get_ModelContext().$M,n&&(t=n.$N,this.$6n!==t&&(this.$6n=t)));this.$1bB();this.$jg&&(this.$2x="",this.$jg=!1)},screenReaderTextForInteractionWallSearchContainer:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionWall_Screenreader_DynamicSearchText"),n)},$1bB:function(){var i;if(this.$qK){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("RetrieveData",2002,{Message:"Data is alreday loading. Skipping load attempt"},this.$2x);return}if(this.$Uo=!1,this.$qK=!0,this.$r1===this.get_AllText()){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveData",2002,{Message:"Setting up data promises for all sources"},this.$2x);for(var t=this.$18y,r=t.length,n=0;n<r;++n)i=t[n],this.$2Xn(i)}else Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveData",2002,{Message:"Setting up data promise for "+this.$r1},this.$2x),this.$2Xn(this.$r1);this.$8("DataLoadCompleted")},$2Xn:function(n){var u=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,"InteractionWall"),i,t,r;u.$6b(this.$Xi);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SetUpDataPromises",2002,{dataSource:n},this.$2x);i=Microsoft.Crm.Client.Core.ViewModels.$3P.$3P9(n);this.$6n?(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C("SetUpDataPromises",2002,{dataSource:n,LogicalName:this.$6n.LogicalName,RegardingObjectIdentifier:this.$6n.get_identifier(),PageSize:this.get_PageSize(),PageNumber:this.$dl,SearchText:this.$70,AdditionalFilter:u.$7J()},this.$2x),t=this,r=this,i.$1bB(this.$6n.LogicalName,this.$6n.get_identifier(),this.$32,this.$dl,this.$70,u,this.$2).done(function(r){t.$2x=n+"SourceLoadSuccess";t.$Uv.$38H(r);t.$Uo=t.$Uo||r.$Uo;t.$2YE(i);t.$2x=""}).fail(function(){r.$2x=n+"SourceLoadFailure";r.$2YE(i);r.$2x=""}),this.$PC.$1KT()):(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("SetUpDataPromises",2002,{Message:"Regarding Object not set. Clearing loading flag to allow further loads."},this.$2x),this.$qK=!1)},$2YE:function(n){if(this.$PC.$2YD(),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SignalSemaphore",2002,{Message:"Semaphore successfully signalled"},this.$2x),!this.$PC.get_$1tS()){var t=this.$2x;this.$2x="ConstructItems";this.$2it();this.$2x=t}n.$6D()},$2it:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("InteractionWallDataUpdated",0,this.get_ViewModelId());this.$2BB();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("ConstructItems",2002,{ResultCollectionCount:this.$Uv.get_$m()},this.$2x);for(var n=0;n<this.$Uv.get_$m();n++)this.$Rx.add(this.$2oK(this.$Uv.get_$I(n),n));this.$qK=!1;this.$8("DataLoadCompleted")},$X6:function(){this.$2x=this.$Qo?"WallQuickCreate":"PageRefresh";this.refreshData();this.$2x=""}};Microsoft.Crm.Client.Core.ViewModels.$Ar=function(){Microsoft.Crm.Client.Core.ViewModels.$Ar.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ar.prototype={$ZV:null,$9h:null,get_InteractionCentricLookupMaxCount:function(){return 10},get_InteractionCentricLookupListViewModel:function(){return this.$ZV},get_LookupNewButtonViewModel:function(){return this.$9h},get_NewButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Lookup_New_Text")},$ay:function(n){var i,r,u,t;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$ay.call(this,n);i=n;for(r in i)u={key:r,value:i[r]},t=u.value,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.isInstanceOfType(t)?(this.$ZV=t,this.$ZV.$c3=this):Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(t)&&(this.$9h=t)},$GX:function(){$0.$1(this.$ZV)||(this.$ZV.dispose(),this.$ZV=null);$0.$1(this.$9h)||(this.$9h.dispose(),this.$9h=null);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$E1=function(){this.$$d_$2QO=Function.createDelegate(this,this.$2QO);Microsoft.Crm.Client.Core.ViewModels.$E1.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$E1.prototype={$Dr:null,$Ef:null,$1ru:null,$6U:null,$9i_9:"single",$212:!1,$y4:null,get_LastTypedValue:function(){return this.$y4},set_LastTypedValue:function(n){return this.$y4=n,n},$1M7:!1,get_NewButtonVisibility:function(){return this.$1M7},set_NewButtonVisibility:function(n){return this.$1M7=n,n},$yA:null,get_NewButtonEntityLogicalName:function(){return this.$yA},set_NewButtonEntityLogicalName:function(n){return this.$yA=n,n},$cE:null,get_SelectedViewIds:function(){return this.$cE},set_SelectedViewIds:function(n){return this.$cE=n,n},$jV:!1,get_DisableQuickFind:function(){return this.$jV},set_DisableQuickFind:function(n){return this.$jV=n,n},$18F:!1,get_IsResolveSuccessful:function(){return this.$18F},set_IsResolveSuccessful:function(n){return this.$18F=n,n},$bn:!1,get_DisableViewPicker:function(){return this.$bn},set_DisableViewPicker:function(n){return this.$bn=n,n},$y0:!1,get_IsSearchComplete:function(){return this.$y0},set_IsSearchComplete:function(n){return this.$y0=n,n},get_LookupStyle:function(){return this.$9i_9},set_LookupStyle:function(n){return this.$9i_9=n,n},get_InteractionCentricPartyListViewModel:function(){return this.$Ef},$GA:!1,get_IsMultiSelect:function(){return this.$GA},set_IsMultiSelect:function(n){return this.$GA=n,n},$De:null,get_InteractionCentricInlineLookupListViewModel:function(){return this.$Dr},get_$F1:function(){return!$0.$1(this.$6U)&&!$0.$1(this.$6U.$8F)?this.$6U.$8F.toString():null},get_LookupInputViewModel:function(){return this.$6U},set_LookupInputViewModel:function(n){return this.$6U=n,$0.$1(this.$6U)||(this.updateInputValue(),this.$6U.set_ImeMode(this.$Ma),this.$6U.set_MaxLength(200)),n},get_InteractionCentricInlineLookUpListDescriptor:function(){return this.$1ru},get_SearchValue:function(){return $0.$1(this.$De.$FQ)?"":this.$De.$FQ},get_interactionCentricLookupAutoResolve:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("InteractionCentricLookupAutoResolve")},get_shouldAutoResolve:function(){return this.get_interactionCentricLookupAutoResolve()?this.$212:!1},$1vs:function(){if(!$0.$1(this.$6U)&&!this.get_HasFocus()&&this.get_CurrentDataName()!==this.get_$F1()){var n=this.get_$F1();this.set_$Kd(null);this.$6U.set_Value(n)}},$1jo:function(){$0.$1(this.$6U)||(this.get_interactionCentricLookupAutoResolve()?this.$6U.$2X8(""):this.$6U.set_Value(""),this.$6U.fireRefreshFromContextEvent())},updateInputValue:function(){if(!$0.$1(this.$6U)){if(this.get_interactionCentricLookupAutoResolve()){var n=this.get_CurrentDataName();Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$6U.set_Value(this.$y4):this.$6U.set_Value(n)}else this.$6U.set_Value(this.get_CurrentDataName());this.$6U.fireRefreshFromContextEvent()}},buildChildViewModelDescriptors:function(n){var t,i,r,u;$0.$1(this.$Dr)||(this.$Dr.dispose(),this.$Dr=null);t={};$0.$1(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);t.OverlayMode=2;i=!1;$0.$1(n.Properties.ShowLabel)||(i=n.Properties.ShowLabel);r={IsSaveAndEditButtonHidden:!0,shouldOpenQuickCreate:!0};u={inlinelookup:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricInlineLookupListViewModel","InteractionCentricInlineLookupList","inlinelookup",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricLookupListViewModel","InteractionCentricLookupList","interactionCentricList",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("ActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("LookupByName",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("LookupForField",this.getFieldNameFromDescriptorName(this.$G)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$GA),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsInlineOrAssociateFormLookup",this.$12R)],{ScrollDirection:"Horizontal"}),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("Button","Button","newInteractionCentricButton",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Command","CreateCommand"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1VH()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Visible",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1VH()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Parameters",{externalParameters:r})],null)]),input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","interactionCentricInput",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Label",this.$1D),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowLabel",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("OverlayText","")],t)};this.$r3(u);this.get_shouldAutoResolve()&&(this.$y0=!0)},$r3:function(n){var f=n,r,i,t,u;for(r in f)i={key:r,value:f[r]},t=i.value,$0.$1(this.$F[t.Name])&&(u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(t,this.get_$1K(),this.$3V,this.$2),this.$8V(u.get_Name(),u)),i.key==="inlinelookup"?this.$1ru=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(t):i.key==="input"&&(this.$1Fe=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(t))},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$4L.isInstanceOfType(t)?this.set_LookupInputViewModel(t):Microsoft.Crm.Client.Core.ViewModels.$Ar.isInstanceOfType(t)&&(this.$Dr=t,this.$De=this.$Dr.$ZV,this.$De.$xw=!0,this.$De.set_$AN(this),this.$De.$Gt=this.$9i_9,this.$22t(),this.$1eV(),this.$Dr.$9h.$29.$P=this.$$d_$2QO)},$1KB:function(n){$0.$1(n)||(this.$Ix=n.$2W,this.$NI=n.$Ta,this.set_LookupModelName(n.$BK),this.$1eV())},$1XK:function(n){this.get_shouldAutoResolve()&&this.clearError();Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1XK.call(this,n)},$2o4:function(n,t){var i=this;i.set_$Om(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,n,t))},clearError:function(){var n=this;n.set_$Om(null)},$1eV:function(){$0.$1(this.$De)||$0.$1(this.$NI)||$0.$1(this.$Ix)||$0.$1(this.$Ad)||this.$De.$20p(this.$Ad,this.$Ix,this.$NI)},$22t:function(){if(!$0.$1(this.$Dr)&&!$0.$1(this.$Dr.$9h)&&!$0.$1(this.$Dr.$9h.$29)){var n=this.$Ad;$0.$1(this.$yA)||this.$yA===""||(n=this.$yA);this.$Dr.$9h.$29.set_PrimaryModelName(n);this.$Dr.$9h.$29.get_CanExecute()&&Microsoft.Crm.Client.Core.ViewModels.$n.$IT(n)&&this.$1M7?(this.$Dr.$9h.set_Visible(!0),Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||$0.$1(this.get_ModelContext())||(this.$Dr.$9h.$29.$My=this.get_ModelContext().get_$Qt(),this.$Dr.$9h.$29.$FO=this.$FO)):this.$Dr.$9h.set_Visible(!1)}},$2QO:function(n){this.$Qx=!0;$0.$1(this.get_ModelContext())?this.set_$Kd(n.$CO):(this.get_ModelContext().$1cX(),this.set_$Kd(n.$CO),this.get_ModelContext().$1aa());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?$0.$1(this.$Dr)||$0.$1(this.$Dr.$ZV)||this.$Dr.$ZV.$X6():this.$1Ow();this.$Br("OnNewRecordSaved",n.$1Xh)},$GX:function(){$0.$1(this.$Dr)||(this.$Dr.dispose(),this.$Dr=null);Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$GX.call(this)},search:function(n){(this.$212=n,$0.$1(this.$De))||(this.$3Ws(),this.$De.$Mc=0,this.$De.$HA.clear(),this.$De.set_SearchValue($0.$1(this.get_$F1())?"":this.get_$F1()),this.get_shouldAutoResolve()&&(this.$y0=!1),this.get_interactionCentricLookupAutoResolve()&&(this.clearError(),this.$y4=this.$De.$FQ),this.set_ShowLookupBar(!0))},shouldPerformSearch:function(){return this.get_shouldAutoResolve()&&this.$De.$FQ===""&&$0.$1(this.get_$F1())?!1:$0.$1(this.$De.$FQ)||$0.$1(this.get_$F1())?!0:this.$De.$FQ!==this.get_$F1()},$3Ws:function(){this.$1N1=this.get_$F1()&&this.$1tK(this.get_$F1().trim())?this.get_$F1().trim():null},$1tK:function(n){if(!n||n==="")return!1;var t=new Microsoft.Crm.Client.Core.Models.Validation.EmailAddressValidator(!1,!0),i=t.$7h(n,!1,!1);return i.$5w},$1N1:null};Microsoft.Crm.Client.Core.ViewModels.$E3=function(){this.$$d_$Os=Function.createDelegate(this,this.$Os);Microsoft.Crm.Client.Core.ViewModels.$E3.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$E3.prototype={$Kk:null,$Zs:null,$H0:null,$Te:null,get_EntitiesMetadataViewModel:function(){return this.$Kk},get_LookupViewActionProvider:function(){return this.$Zs},set_LookupViewActionProvider:function(n){return this.$Zs=n,n},get_BindingField:function(){return this.$H0},set_BindingField:function(n){return this.$H0=n,n},get_MetadataQueryDescriptor:function(){return this.$Te},set_MetadataQueryDescriptor:function(n){return this.$Te=n,n},$2at:function(){return!0},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$18.call(this);this.$9i_9="multi"},$GX:function(){$0.$1(this.$Kk)||(this.$Kk.RemovePropertyChangedListener("SelectedItem",this.$$d_$Os),this.$Kk.dispose(),this.$Kk=null);this.$Te=null;Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$GX.call(this)},$1Zg:function(n,t){$0.$1(n)||($0.$1(this.$Kk)||this.setEntityModelName(n.$BK))&&Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1Zg.call(this,n,t)},$1vy:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1vy.call(this,n,t);this.setEntityModelName(this.$Ad)},$Os:function(){this.$1H7()},search:function(n){var t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("StartMarkerForLookupSearch",1,null);this.$Kk.set_SelectedItem("0");Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.search.call(this,n);this.$De.$D4=this.$Kk},$1H7:function(){var n=this.$Kk.get_Data(),t,i;Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2n.isInstanceOfType(n)&&(this.set_LookupModelName(n.$d),$0.$1(this.$VQ)?(i=this.$Zs.$DG(0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(i)):n.$d===this.$VQ.$BK?this.$1KB(this.$VQ):(t=this.$Zs.$DG(2),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t)))},setEntityModelName:function(n){if(this.$Kk){var t=this.$Kk.$1mS(n);if(t>=0)return this.$Kk.$2LS(t.toString()),!0}return!1},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$8V.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.$8v.isInstanceOfType(t)&&(this.$Kk=t,this.$Kk.AddPropertyChangedListener("SelectedItem",this.$$d_$Os),$0.$1(this.$Ad)||(this.$Kk.$127=this.$Ad))},buildChildViewModelDescriptors:function(n){var t,i,r;this.$Ix=null;this.$NI=null;Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$1(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i=$0.$1(this.$Te)?new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveTargetEntityMetadata",{entityLogicalName:this.$J,targetAttribute:this.$H0}):this.$Te;r={combobox:Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("EntityMetadataOptionSetViewModel","ComboBox","comboBoxControl",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("MetadataActionProvider","ActionProvider",i)],t,null)};this.$r3(r)}};Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel=function(){this.$$d_$35k=Function.createDelegate(this,this.$35k);Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.prototype={$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.prototype.$18.call(this),this.$5o().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x,this.$$d_$35k))},$35k:function(){this.$8("RenderMultiplePie")},$GX:function(){this.$5o().$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x,this.$$d_$35k);Microsoft.Crm.Client.Core.ViewModels.$AN.prototype.$GX.call(this)},$1hE:0,get_singlePieWidth:function(){return this.$1hE},set_singlePieWidth:function(n){return this.$1hE=n,n},$1gs:0,get_pieInnerSize:function(){return this.$1gs},set_pieInnerSize:function(n){return this.$1gs=n,n}};Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.prototype={$1KR:0,$16R:null,get_DashboardCategory:function(){return this.$2IV().$ds},get_StreamViewModels:function(){if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("ViewSwitched",0,this.get_ViewModelId()),$0.$1(this.$16R)){this.$16R=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel));for(var n=0;!$0.$1(this.$F["QueuePanelViewModel"+n]);)this.$16R.add(this.$F["QueuePanelViewModel"+n]),n++}return this.$16R.toArray()},get_ViewType:function(){return this.$1KR},set_ViewType:function(n){return this.$1KR=n,this.$8("DataChanged"),n},set_ShowAsTiles:function(n){return this.$1KR=n?1:0,this.$8("DataChanged"),n},get_SwitcherPanelViewModel:function(){return this.$F.ButtonStrip},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$8("DataChanged"))},$X6:function(){for(var i,t=this.get_StreamViewModels(),r=t.length,n=0;n<r;++n)i=t[n],i.$X6()},$2IV:function(){return this.$2},$GX:function(){var i;if(this.get_StreamViewModels()){for(var t=this.get_StreamViewModels(),r=t.length,n=0;n<r;++n)i=t[n],i.dispose();this.$16R=null}Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.prototype={$Qn:!1,$BG:null,get_parentViewModel:function(){return this.$BG},set_parentViewModel:function(n){return this.$BG=n,n},get_PreviousSelectionCount:function(){return this.$BG.$1xV},get_DashboardCategory:function(){return this.$BG.get_DashboardCategory()},get_ItemSelectionCounter:function(){return this.$BG.$1Tw()},set_ItemSelectionCounter:function(n){return this.$BG.$2Xb(n),n},get_IsSelected:function(){return this.$Qn},set_IsSelected:function(n){var t=this.$BG.$1Tw()>0?this.$BG.$1Tw():0;return this.$BG.$1xV=t,n?(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("QuickActionCheckboxSelected",0,this.get_ViewModelId()),t++):t--,t>-1&&this.$BG.$2Xb(t),this.$Qn=n,this.$8("QueueItemStatusChanged"),n},get_IsCtrlPressed:function(){return Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1sN},set_IsCtrlPressed:function(n){return Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1sN=n,n},$c4:null,get_ParentQueuePanelViewModel:function(){return this.$c4},set_ParentQueuePanelViewModel:function(n){return this.$c4=n,n},$183:null,get_ID:function(){return this.$183},set_ID:function(n){return this.$183=n,n},$Rn:null,get_ColorStrip:function(){return this.$Rn},set_ColorStrip:function(n){return this.$Rn=n,n},$17S:null,get_ColorStripDisplayName:function(){return this.$17S},set_ColorStripDisplayName:function(n){return this.$17S=n,n},$17R:null,get_ColorStripAttributeValue:function(){return this.$17R},set_ColorStripAttributeValue:function(n){return this.$17R=n,n},$1Lb:null,get_HeaderItems:function(){return this.$1Lb},set_HeaderItems:function(n){return this.$1Lb=n,n},$xV:null,get_DetailItems:function(){return this.$xV},set_DetailItems:function(n){return this.$xV=n,n},$1LP:null,get_FooterItems:function(){return this.$1LP},set_FooterItems:function(n){return this.$1LP=n,n},$17I:null,get_ActivityItemNames:function(){return this.$17I},set_ActivityItemNames:function(n){return this.$17I=n,n},$BD:null,get_EntityLogicalName:function(){return this.$BD},set_EntityLogicalName:function(n){return this.$BD=n,n},$1fz:0,get_HtmlDetailIndex:function(){return this.$1fz},set_HtmlDetailIndex:function(n){return this.$1fz=n,n},$195:0,get_TitleIndex:function(){return this.$195},set_TitleIndex:function(n){return this.$195=n,n},GetQueueItemGuid:function(){return this.$183},get_ColorTooltip:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$17S)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$17R)?"":this.$17S+" : "+this.$17R},$3Fk:function(){return},screenReaderTextForQueueItem:function(n){var t=this.$BD==="incident"?"case":this.$BD;return n?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueueItemsCondensedView_ScreenReader_ItemInfo"),t,this.$xV[this.$195]):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueueItems_ScreenReader_ItemInfo"),t,this.$xV[this.$195])},screenReaderTextWithSelectionCount:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueueItems_ScreenReader_NRecordSelection"),this.$BG.$1Tw())},isEntityInteractionCentricEnabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?!1:t.$Du},navigateToRecord:function(){var t=this.$BD,i=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(this.$5g)),u,r,f,n;this.$BD==="activitypointer"?(t=this.$17I[0],i=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(this.$5g))):this.$BD==="queueitem"&&(u=this,r=u.get_ModelContext().GetValue("objectid"),Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(r)&&(i=r,t=i.LogicalName));this.$c4.$Hy=this;f=new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext(this.$c4.$1R,this.$c4.get_CurrentItemIndex(),this.$c4.$KS.get_$I(1),this.$c4,!0);n=new Microsoft.Crm.Client.Core.Commands.$33(null,40);try{n.$J=t;n.$1B={ListNavigationContext:f};n.$1B.EntityReference=i;n.execute()}finally{n.dispose()}},$GX:function(){this.$BG=null;this.$183=null;this.$Rn=null;this.$1Lb=null;this.$1LP=null;this.$xV=null;this.$17I=null;this.$c4=null;Microsoft.Crm.Client.Core.ViewModels.$43.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel=function(){this.$$d_$33e=Function.createDelegate(this,this.$33e);this.$$d_getQueueItemViewSuccess=Function.createDelegate(this,this.getQueueItemViewSuccess);this.$$d_$311=Function.createDelegate(this,this.$311);this.$$d_$3Gb=Function.createDelegate(this,this.$3Gb);this.$$d_$1wD=Function.createDelegate(this,this.$1wD);this.$$d_$33f=Function.createDelegate(this,this.$33f);this.$$d_$34f=Function.createDelegate(this,this.$34f);this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$34e=Function.createDelegate(this,this.$34e);this.$$d_handleStreamError=Function.createDelegate(this,this.handleStreamError);this.$$d_processFetchXml=Function.createDelegate(this,this.processFetchXml);this.$$d_$2KK=Function.createDelegate(this,this.$2KK);this.$1r={};this.$16E=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$RB={};this.$KS=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$16F={};this.$1JE={};this.$1im={};this.$16D=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$14p=new Array(0);this.$10W=new Array(0);Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.prototype={$5k:null,$PC:null,$nI:!1,$ff:!1,$1sz:!1,$w:null,$12k:!0,$1Vf:!1,$XH:null,$NV:null,$dm:null,$S:null,$VX:null,$cj:null,$1Ol:null,$SQ:null,$KW:null,$d5:null,$VD:null,$1kA:null,$SJ:null,$1tq:null,$RA:0,$207:0,$1xV:0,$10k:null,$2L:null,$14n:null,$OX:!1,$1Vo:!1,$IY:"Initialize",get_AttributeMetadataActionProvider:function(){return this.$cj},set_AttributeMetadataActionProvider:function(n){return this.$cj=n,n},get_SelectedSortBy:function(){return this.$16F[this.$XH]},set_SelectedSortBy:function(n){return this.$XH===this.$1JE[n]?n:(this.$XH=this.$1JE[n],this.$8("IsLoading"),n)},$Rz:!1,get_LoadTriggeredByPagingEvent:function(){return this.$Rz},set_LoadTriggeredByPagingEvent:function(n){return this.$Rz=n,n},$qf:null,get_QueueItemIdArray:function(){return this.$qf},set_QueueItemIdArray:function(n){return this.$qf=n,n},$y1:!1,get_ItemLimitExceeded:function(){return this.$y1},set_ItemLimitExceeded:function(n){return this.$y1=n,n},$GF:null,get_TypeOfStream:function(){return this.$GF},set_TypeOfStream:function(n){return this.$GF=n,n},$Lx:null,get_StreamId:function(){return this.$Lx},set_StreamId:function(n){return this.$Lx=n,n},$KO:null,get_StreamName:function(){return this.$KO},set_StreamName:function(n){return this.$KO=n,n},$AD:null,get_EntityTypeCode:function(){return this.$AD},set_EntityTypeCode:function(n){return this.$AD=n,n},get_CurrentSavedQueryId:function(){return this.$dm},set_CurrentSavedQueryId:function(n){return this.$dm=n,n},get_EntityLogicalName:function(){return this.$S},set_EntityLogicalName:function(n){return this.$S=n,this.$GB.set_Entity(this.$S),n},get_IsEditMode:function(){return this.$1Vf},set_IsEditMode:function(n){return this.$1Vf!==n&&(this.$1Vf=n,this.$8("IsEditMode")),n},get_QueueItemCount:function(){return this.$RA},get_ActionProvider:function(){return this.$NV},set_ActionProvider:function(n){return this.$NV=n,n},get_SortableAttributes:function(){return this.$16D},$1M8:null,get_NumberOfMembers:function(){return this.$1M8},set_NumberOfMembers:function(n){return this.$1M8=n,n},get_QueueItemViewModels:function(){return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("QueueContentAsked",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("QueueShown",0,this.get_ViewModelId()),this.$RB},set_QueueItemViewModels:function(n){return this.$RB=n,n},get_ParentViewModel:function(){return this.$2.$6F(this)},get_IsSortedInDescending:function(){return this.$12k},set_IsSortedInDescending:function(n){return this.$12k!==n&&(this.$12k=n,this.$GB.$1PA(),this.$8("IsLoading")),n},get_DashboardCategory:function(){return this.$83().$ds},get_AllCardAttributes:function(){return this.$KS},set_AllCardAttributes:function(n){return this.$KS=n,n},get_EntityPluralName:function(){return this.$2L.$8O},$GB:null,get_quickActionViewModel:function(){return this.$GB},set_quickActionViewModel:function(n){return this.$GB=n,n},get_MoreNextPage:function(){return this.$1s.$BT<this.$1s.$Jg},$ye:!1,get_UserPrivilege:function(){return this.$ye},set_UserPrivilege:function(n){return this.$ye=n,n},$qJ:!1,get_IsCardFormDefined:function(){return this.$qJ},set_IsCardFormDefined:function(n){return this.$qJ=n,n},$Lw:null,get_QueueItemViewId:function(){return this.$Lw},set_QueueItemViewId:function(n){return this.$Lw=n,n},$18M:null,get_MultiSelectInfo:function(){return this.$18M},set_MultiSelectInfo:function(n){return this.$18M=n,n},$1Lm:!1,get_IsErrorOccured:function(){return this.$1Lm},set_IsErrorOccured:function(n){return this.$1Lm=n,n},$18:function(){if(!this.$1y){this.$14n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("QueuePanel_QueueDataRetrieve");Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this);this.$qJ=!0;this.$83().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_$2KK);this.$qf=new Array(0);this.$1R.$79();this.$PC=new Microsoft.Crm.Client.Core.ViewModels.$Li;this.$PC.$1KT();this.$34d();this.$cj=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));this.$Rz=!1;this.$1s.$32=20;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QuickActionViewModel","QuickActionQueueContainer","QuickActionQueueContainer"+this.$Lx,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TargetViewModelContext",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Entity",this.$S),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context","grid")],null,null);this.$GB=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,this.get_ModelContext(),this.$3V,this.$2);this.$ye=!0;this.$18M=new Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo}},$1Dr:function(){if($0.$1(this.$XH))return"";return"<order attribute='"+this.$XH+"' descending='"+this.$12k+"' />"},$2TF:function(){this.$PC.$2YD();this.$PC.get_$1tS()||(this.$PC.$1KT(),this.$34g())},$34g:function(){var t,n;this.$IY="QueuePanelViewModel.GetStreamsData";this.$Rz||(this.$1s.$BT=0);this.$GF==="0"||this.$GF==="2"?(this.$2L=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$Bq(Number.parseInvariant(this.$AD)),$0.$1(this.$2L)?(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SZ("QueuePanelViewModel.GetStreamsData","Entity metadata cannot be null","",this.$S),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t),Microsoft.Crm.Client.Core.Framework.Utils.$D.$52(this.$2L,"EntityMetadata")):(this.set_EntityLogicalName(this.$2L.$d),this.$ye=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$S,1),this.$VX=this.$2L.$4S,this.$2I2())):(this.$dm=this.$Lx,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null),n.OnSuccess=this.$$d_processFetchXml,n.OnFailure=this.$$d_handleStreamError,this.set_IsLoading(!0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n))},handleStreamError:function(){this.$1GG()},$1GG:function(){this.$1Lm=!0;this.set_IsLoading(!1)},processFetchXml:function(n){var t,i;this.$IY="QueuePanelViewModel.ProcessFetchXml";t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n.toString());this.$10k=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(t).$O("fetch");this.set_EntityLogicalName(this.$10k.$O("entity").$1T("name").toString());this.$2L=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$S);$0.$1(this.$2L)?(this.set_IsLoading(!1),i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SZ("QueuePanelViewModel.ProcessFetchXml","Entity metadata cannot be null","",this.$S),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i),Microsoft.Crm.Client.Core.Framework.Utils.$D.$52(this.$2L,"EntityMetadata")):(this.$VX=this.$2L.$4S,this.$ye=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$S,1));this.$2I2()},$34d:function(){this.$IY="QueuePanelViewModel.GetStreamAttributes";var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);n.OnSuccess=this.$$d_$34e;n.OnFailure=this.$$d_$5O;this.$GF==="0"?(this.$PC.$1KT(),n.QueryValue="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='queue'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='numberofmembers'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='queueviewtype'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$Lx+"' /><\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t  <\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/fetch>",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)):this.$GF==="1"?(this.$dm=this.$Lx,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSavedQueryDetailsFromSavedQueryId",null),n.OnSuccess=this.$$d_$34f,this.set_IsLoading(!0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)):this.$GF==="2"&&(this.$PC.$1KT(),this.$Lx.toLowerCase()==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?this.$KO=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_All"):this.$Lx.toLowerCase()==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?this.$KO=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_Public"):this.$Lx.toLowerCase()==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()&&(this.$KO=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_Private")),this.$2JR())},$2JR:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSavedQueryDetailsFromSavedQueryId",null);this.$dm=this.$Lw;n.OnSuccess=this.$$d_$33f;n.OnFailure=this.$$d_handleStreamError;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},$34e:function(n){var t=n.get_$Bt().$22N(),i;if($0.$1(t)||!t.length){this.$1GG();return}this.$KO=t[0].GetValue("name");this.$1M8=t[0].GetValue("numberofmembers");i=t[0].GetValue("queueviewtype");this.$1sz=i.$1i===1?!0:!1;this.$2JR()},$34f:function(n){var t=n;this.$KO=t.$1S},$33f:function(n){var t=n;this.$KO=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ICDashboard_Streams_label"),this.$KO,t.$1S);this.$2TF()},$329:function(n,t){var i="",r="",u;return i+="<link-entity ",n.$1T("name")&&(r=n.$1T("name"),i+=" name='"+r+"' ",t.add(r)),n.$1T("from")&&(i+=" from='"+n.$1T("from")+"' "),n.$1T("to")&&(i+=" to='"+n.$1T("to")+"' "),n.$1T("visible")&&(i+=" visible='"+n.$1T("visible")+"' "),n.$1T("link-type")&&(i+=" link-type='"+n.$1T("link-type")+"' "),u=this.$2IN(r),$0.$1(u)||Microsoft.Crm.Client.Core.Framework.$3.$9(u.$7J())||(i+=" alias='"+r+"__alias' "),i+=">",i+=Microsoft.Crm.Client.Core.Framework.Utils.$6Z.$1Ti(n),i+" <\/link-entity>"},$2kn:function(n){var p=n.$O("entity"),ht="",ct="",lt="",at="",i='<filter type ="and">',r="<\/filter>",vt=p.$O("filter")?p.$O("filter").get_$7Y().toString():"",w,o,k,d,g,t,nt,tt,it,f,c,rt,pt,ut,e,l,ft,a,v,y,et,ot,wt,st;n.$1T("version")&&(ht=" version='"+n.$1T("version")+"' ");n.$1T("output-format")&&(ct=" output-format='"+n.$1T("output-format")+"' ");n.$1T("mapping")&&(lt=" mapping='"+n.$1T("mapping")+"' ");n.$1T("distinct")&&(at=" distinct='"+n.$1T("distinct")+"' ");w=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$S);w&&w.$v0===8&&(this.$SJ=this.$SJ.replace("<attribute name='ownerid' />",""));var u=n.$O("entity").$1T("name"),b=p.$5p("link-entity"),s="",h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));for(o=0;o<b.get_$m();o++)s+=this.$83().get_IsMultipleEntityGraphSupported()?this.$329(b.get_$I(o),h):b.get_$I(o).get_$7Y();if(u===this.$83().$8U){k=this.$83().$js;for(d in k)g={key:d,value:k[d]},h.contains(g.key)||(s+=g.value)}if(u==="queueitem"&&(s+=this.$1iY("5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase())),t=vt,this.$83().get_IsMultipleEntityGraphSupported()){if(u===this.$83().$8U){if(nt=this.$83().$FT,!$0.$1(nt)){tt=nt;for(it in tt){var bt={key:it,value:tt[it]},kt=bt.value,yt=kt.$7J();Microsoft.Crm.Client.Core.Framework.$3.$9(yt)||(t+=i+yt+r)}t=i+t+r}}else if(f=this.$83().$FT,!$0.$1(f)){for(c=0;c<h.get_Count();c++)rt=h.get_$I(c),rt in f&&(pt=f[rt],ut=pt.$7J(),Microsoft.Crm.Client.Core.Framework.$3.$9(ut)||(t+=i+ut+r));if(u in f){if(e=f[u],$0.$1(e.get_$23())){for(ft=e.get_$5S(),a=0;a<ft.get_Count();a++)if(v=ft.get_$I(a),!$0.$1(v.get_$23()))for(y=0;y<v.get_$23().get_Count();y++)v.get_$23().get_$I(y).set_$Ay("")}else for(l=0;l<e.get_$23().get_Count();l++)e.get_$23().get_$I(l).set_$Ay("");et=e.$7J();Microsoft.Crm.Client.Core.Framework.$3.$9(et)||(t+=i+et+r)}ot=this.$83().$J0;this.$83().$8U in ot&&this.$1Vo&&(wt=ot[this.$83().$8U],st=wt.$7J(),Microsoft.Crm.Client.Core.Framework.$3.$9(st)||(t+=i+st+r));t=i+t+r}}else t=i+vt+this.$FE()+r;return"<fetch"+ht+ct+lt+at+"><entity name='"+u+"'>"+this.$SJ+s+this.$1Dr()+t+"<\/entity><\/fetch>"},$2KK:function(n){if(!$0.$1(n.$Gr)){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$Gr)?"":n.$Gr.$7J(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)}this.$GB.$1PA();this.$2TF()},$X6:function(){this.$GB.$1PA();this.$Rz=!1;this.retrieveData()},$3Gb:function(n,t){var i;if(t.get_$BA()!==1){i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SZ("QueuePanelViewModel.OnQueueRecordsChanged",String.format("OnQueueRecordsChanged has failed in QueuePanelViewModel, EventArgs.RetrieveState not Successful.EventArgs.RetrieveState is { 0 }",Microsoft.Crm.Client.Core.Storage.DataApi.$2T.toString(t.get_$BA())),"",this.$S);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i);throw Error.create(String.format("OnQueueRecordsChanged has failed in QueuePanelViewModel, EventArgs.RetrieveState not Successful. EventArgs.RetrieveState is {0}",Microsoft.Crm.Client.Core.Storage.DataApi.$2T.toString(t.get_$BA())));}this.$sG();var r=Microsoft.Crm.Client.Core.Models.$1D.$B(t.get_$dt()),u=this.get_ParentViewModel();this.$G==="QueuePanelViewModel0"&&u.$G.endsWith("0")&&Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("RenderedFirstQueueWithData",1,this.$2.get_ViewModelId());this.$4e(r);this.$8("IsLoading")},$cg:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(this.$2W,this.get_DefinitionId());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$AS(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,n.get_$4z(),this.$$d_$1wD,this.$$d_$3Gb)},$sG:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(this.$2W,this.get_DefinitionId());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$1aj(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,n.get_$4z(),this.$$d_$1wD,this.$$d_$3Gb)},$1wD:function(){},$2m1:function(n,t,i,r,u,f,e,o,s,h,c){var l=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QueueItemViewModel","QueueItem",n,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ID",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("RecordId",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStrip",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStripDisplayName",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStripAttributeValue",r),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HeaderItems",u),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DetailItems",f),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FooterItems",e),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("EntityLogicalName",s),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentQueuePanelViewModel",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ActivityItemNames",o),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HtmlDetailIndex",h),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TitleIndex",c)],null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(l,this.get_ModelContext(),this.$3V,this.$2)},$Rs:null,get_DefinitionId:function(){return this.$Rs},set_DefinitionId:function(n){return this.$Rs=n,n},getTotalRecordsCount:function(){return this.$RA},$1TU:function(){var n,t;this.$IY="QueuePanelViewModel.GetData";n=0;$0.$1(this.$NV)||$0.$1(this.$1o)?this.set_IsLoading(!1):((this.$GF==="2"||this.$GF==="0")&&(n=this.$1s.$BT,this.$1s.$BT=0),this.set_DefinitionId(this.$1o.toString()),this.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(this.$1o),this.set_IsLoading(!0),this.$cg(),t=this.$NV.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t),(this.$GF==="2"||this.$GF==="0")&&(this.$1s.$BT=n),this.$14n.start())},$4e:function(n){var l,nt,h,u,p,e,w,b,o,k,s,d,i,g,f;this.$14n.stop();this.$14n.addParameter(this.get_ViewModelId());Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY(this.$OX?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId());this.$OX||(this.$Im("RenderedInitialData"),this.$OX=!0);this.$GF==="1"&&(l=n,this.$RA=l.get_EntityCollection().$A8,this.$y1=l.get_EntityCollection().$K9,this.$1s.$Jg=Math.floor(this.$RA/this.$1s.$32));nt=n.get_$Bt().$22N();this.$Rz||(this.$qf=new Array(0),this.$2Sa(),this.$RB={},this.$1R.$79());for(var tt=nt,ft=tt.length,a=0;a<ft;++a){var t=tt[a],r=t.GetValue(this.$VX),it="#3F94E9",v="",y="";for(this.$VD&&(y=this.$tR(this.$VD,t.GetValue(this.$VD)),it=this.$2rG(y)),h=new Array(0),u=0;u<this.$SQ.length;u++)if(p=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(this.$S,this.$SQ[u]),$0.$1(p)||p.$2K!==10)h.push(this.$tR(this.$SQ[u],t.GetValue(this.$SQ[u])));else if(!$0.$1(t)&&(e=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(t.$2IK(this.$SQ[u])),!$0.$1(e)&&!$0.$1(e.get_entities()))){for(w=e.get_entities().length,b="",o=0;o<w;o++)k=e.get_entities()[o],k.$N.LogicalName==="activityparty"&&(s=k.fields.partyid,$0.$1(s)||$0.$1(s.Name)||(b+=o===w-1?s.Name:s.Name+" ;"));h.push(b)}d=new Array(0);this.$2L.$7u===4200?(d.push(t.get_$Gv()),v=t.get_$Gv()):v=this.$S;var c=new Array(0),rt=-1,ut=-1;for(i=0;i<this.$KW.length;i++)this.$KW[i]==="description"&&this.$S==="email"&&t.GetValue(this.$KW[i])?(c.push(t.GetValue(this.$KW[i]).toString()),rt=c.length-1):this.$tR(this.$KW[i],t.GetValue(this.$KW[i]))&&(this.$KW[i]==="title"&&(ut=i),c.push(this.$tR(this.$KW[i],t.GetValue(this.$KW[i]))));for(g=new Array(0),f=0;f<this.$d5.length;f++)this.$tR(this.$d5[f],t.GetValue(this.$d5[f]))&&g.push(this.$tR(this.$KW[f],t.GetValue(this.$d5[f])));r.toString()in this.$RB||(this.$RB[r.toString()]=this.$2m1(r.toString(),it,this.$1kA,y,h,c,g,d,v,rt,ut),this.$qf.push(r.toString()),this.$RB[r.toString()].set_ModelContext(t),this.$1R.$2i(this.$RB[r.toString()]),this.$RB[r.toString()].$BG=this,this.$RB[r.toString()].set_IsSelected(!1))}this.$nI?!$0.$1(this.$5k)&&this.$ff&&(this.$5k.$2ac(),this.$nI=!1,this.$ff=!1):this.$nI=this.$ff?!0:!1;this.set_IsLoading(!1);n.dispose()},$5O:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Od("ServiceHubStreamsLoadDataFailureEvent");t.addEventParameter("LocalContext",this.$IY);t.addEventParameter("ErrorMessage",n.$E);t.addEventParameter("Exception",$0.$1(n.$xh)?null:n.$xh.message);t.addEventParameter("StreamName",this.$KO);t.addEventParameter("StreamId",this.$Lx);t.addEventParameter("TypeOfStream",this.$GF);t.addEventParameter("Query",this.$1o);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$5O.call(this,n)},$P7:function(){this.$IY="QueuePanelViewModel.RetrieveAtrributeMetadata";var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$S),Microsoft.Crm.Client.Core.Framework.$G.$b(this.$Lx,this.$KO)).then(function(t){var e,r,i,u;n.$16E.clear();n.$16D.clear();e=t.$22N();r=new Array(0);for(var o=e,s=o.length,f=0;f<s;++f)i=o[f],u=!0,Array.indexOf(n.$SQ,i.get_$1n())>=0&&r.push(i),i.get_$1n()===n.$VD&&(n.$1kA=i.get_$9t(),r.push(i)),i.get_$nS()&&(u=Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.$zI(i.get_$1a())),i.get_$2Mv()&&u&&n.$2cQ(i),i.get_$1n()==="modifiedon"&&n.$2dx("modifiedon",i.get_$9t(),0),i.get_$1n()===n.$83().$Lq&&(n.$1Vo=!0),u||(n.$1im[i.get_$1n()]=i);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$H1(n.$S,!1,new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M))(r));$0.$1(n.$XH)&&(n.$XH=n.$16E.get_$I(0));n.$Rz=!1;n.retrieveData()},function(n){t.set_IsLoading(!1);var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SZ("QueuePanelViewModel.RetrieveAtrributeMetadata",n.$E,"",t.$S);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i);Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Multiple Attribute Metadata failed in Queue Panel View Model with error : {0}",n.$E)})},retrieveData:function(){if(this.$Rz||(this.$1s.$BT=0),this.$GF==="1"){if(!this.$10k){this.$1GG();return}var n=this.$2kn(this.$10k);this.$1o=n;this.$1TU()}else this.$GF==="2"?this.$Lw!=="0"?this.$2JQ():this.$2zX():this.$Lw!=="0"?this.$2JQ():(this.$1o="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\t \r\n\t\t\t\t\t\t\t\t<entity name='"+this.$S+"'>"+this.$SJ+this.$1Dr()+"<link-entity name='queueitem' from='objectid' to='"+this.$VX+"'>\r\n\t\t\t\t\t\t\t\t\t<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$Lx+"' />\r\n\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t<\/link-entity>"+this.$FE()+"<\/entity><\/fetch>",this.$1TU())},handleQueueItemSelectedEvent:function(n,t,i){this.$GB.handleQueueItemSelection(n,t,i);this.$8("QuickActionCommandBarEnabled")},$83:function(){return this.$2},get_TabSpaceReserved:function(){return 50},$2I2:function(){if(this.$IY="QueuePanelViewModel.GetEntityCardAttributes",this.$2L.$7u===4200)this.createCardInstanceForActivity(),this.set_IsLoading(!1);else{var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCardConfigurationAction",null);n.OnSuccess=this.$$d_$311;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)}},createCardInstanceForActivity:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel,t,i,r;this.$1Ol=n.$Xc;t=new Array(3);t[0]="activitytypecode";t[1]="prioritycode";t[2]="scheduledend";n.$jM=t;i=new Array(3);i[0]="subject";i[1]="description";i[2]="regardingobjectid";n.$jK=i;r=new Array(2);r[0]="ownerid";r[1]="createdon";n.$jL=r;n.$Rn="statuscode";this.$SQ=n.$jM;this.$KW=n.$jK;this.$d5=n.$jL;this.$VD=n.$Rn;this.$KS=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$SJ="<attribute name='"+this.$VX+"' />";this.$r2(this.$KS,this.$SQ);this.$r2(this.$KS,this.$KW);this.$r2(this.$KS,this.$d5);this.$GF==="1"&&this.$2HT(this.$KS,this.$S,this.$VD);this.$qJ=!0;n.dispose()},$2HT:function(n,t,i){this.$24o(n,i);$0.$1(i)||(this.$SJ+="<attribute name='"+i+"' />");this.$P7(n,t)},$r2:function(n,t){for(var i=0;i<t.length;i++)this.$24o(n,t[i]),$0.$1(t[i])||(this.$SJ+="<attribute name='"+t[i]+"' />")},$311:function(n){if($0.$1(n))this.$qJ=!1,this.$2L.$7u===4200&&this.createCardInstanceForActivity(),this.set_IsLoading(!1);else{this.$qJ=!0;var t=n;this.$1Ol=t.$Xc;this.$SQ=t.$jM;this.$KW=t.$jK;this.$d5=t.$jL;this.$VD=t.$Rn;this.$KS=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$SJ="<attribute name='"+this.$VX+"' />";this.$r2(this.$KS,this.$SQ);this.$r2(this.$KS,this.$KW);this.$r2(this.$KS,this.$d5);this.$S==="queueitem"&&this.$r2(this.$KS,["objectid"]);this.$2HT(this.$KS,this.$S,this.$VD);t.dispose()}},$FE:function(){var n=this.$83(),t=null;return n.$8U===this.$S?t=n.get_IsMultipleEntityGraphSupported()?n.$FT[n.$8U]:n.$Pc:this.$1Vo&&(t=n.get_IsMultipleEntityGraphSupported()?n.$J0[n.$8U]:n.$Rr),$0.$1(t)?"":t.$7J()},$2IN:function(n){if(n in this.$83().$FT){var t=this.$83().$FT[n];if(!$0.$1(t))return t}return null},$24o:function(n,t){Microsoft.Crm.Client.Core.Framework.$3.$9(t)||n.contains(t)||n.add(t)},$tR:function(n,t){if(n in this.$1im)return"*****";if($0.$1(t))return"";if(Xrm.Objects.EntityReference.isInstanceOfType(t))return t.Name;if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(t))return t.$1D;if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A.isInstanceOfType(t))return this.$tR(n,t.$Fp);var i="",r,u;return u=Microsoft.Crm.Client.Core.Framework.Utils.$6u.$2jC(t.toString(),r={val:i}),i=r.val,u,i},$2rG:function(n){var f,t,o,i,r,e,u;if($0.$1(n))return"#3F94E9";try{if(f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(this.$S,this.$VD),t=f.$5d,$0.$1(t))return"#3F94E9";o=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O));i=t.$Tw;for(r in i)if(e={key:r,value:i[r]},u=e.value,u.$1D===n)return u.$KZ}catch(s){}return"#3F94E9"},loadMoreData:function(){this.$1s.$BT++;this.$Rz=!0;this.retrieveData()},$1ws:function(n,t){this.$5k=n;this.$ff=!0;t?this.loadMoreData():(this.$1s.$BT--,this.$Rz=!0,this.retrieveData())},$2cQ:function(n){var i=n.get_$1n(),t=n.get_$9t();Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&(t=i);this.$2dx(i,t)},$2dx:function(n,t,i){$0.$1(i)?(this.$16E.add(n),this.$16D.add(t)):(this.$16E.insert(i,n),this.$16D.insert(i,t));this.$16F[n]=t;this.$1JE[t]=n},editModeApplySettings:function(){this.$GB.$1PA();this.$Rz=!1;this.retrieveData()},$2zX:function(){var t={},n,i,r;t.userId=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString();t.includePublic=!0;n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveUserQueues",t);i=this;n.OnSuccess=function(n){i.$2zY(n)};r=this;n.OnFailure=function(n){r.$5O(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,n)},$2zY:function(n){var r,u,e,i;this.$14p=new Array(0);r=n.entityCollection;u=r.get_entities();for(var f=u,o=f.length,t=0;t<o;++t)e=f[t],i=e.$N.Id.toString(),$0.$1(i)||this.$14p.push(i);this.$1o="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\t \r\n\t\t\t\t\t\t\t\t<entity name='"+this.$S+"'>"+this.$SJ+this.$1Dr()+"<link-entity name='queueitem' from='objectid' to='"+this.$VX+"'>\r\n\t\t\t\t\t\t\t\t\t<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t\t<filter type='or'>"+this.$32c()+"<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t<\/link-entity>"+this.$FE()+"<\/entity><\/fetch>";this.$1TU()},$32c:function(){for(var t="<filter type='or'><condition attribute='queueid' operator='in'>",i=!1,n=0;n<this.$14p.length;n++)$0.$1(this.$14p[n])||(t+="<value>{"+this.$14p[n]+"}<\/value>",i=!0);return t+="<\/condition><\/filter>",i?t:""},isQuickActionBarEnabled:function(){return this.$GB.$I0.get_Count()>0?!0:!1},$2JI:function(){var n="";return this.$2L&&(n=this.$RA===1?this.$2L.$1S:this.get_EntityPluralName()),n},screenReaderTextForTilesContainer:function(n,t){var i=this.$2L?this.get_EntityPluralName():null;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TilesContainer_ScreenReader_Label"),t,"tiles",i,this.$83().$Lq,n)},screenReaderTextForTileHeader:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TileHeader_ScreenReader_Label"),this.$KO,"queue",this.$RA,this.$2JI())},screenReaderTextForTilePopup:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TilePopup_ScreenReader_Label"),this.$KO,"queue",this.$RA,this.$2JI(),this.$XH)},$2JQ:function(){this.$dm=this.$Lw;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null);n.OnSuccess=this.$$d_getQueueItemViewSuccess;n.OnFailure=this.$$d_handleStreamError;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},getQueueItemViewSuccess:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n.toString()),i=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(t).$O("fetch");this.$2pX(i)},$1iY:function(n){return n==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='inner'>\r\n\t\t\t\t\t\t\t\t\t\t<attribute name='systemuserid' />\r\n\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<condition attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString()+"' />\r\n\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>":n==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t<condition attribute='queueviewtype' operator='eq' value='0'/>\r\n\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t<\/link-entity>":n==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='outer'> <attribute name='systemuserid'/> <\/link-entity> <link-entity name='queue' from='queueid' to='queueid' alias='qq' link-type='outer'> <attribute name='queueviewtype'/> <\/link-entity> <filter operator='and'> <filter type ='or'> <condition entityname='qq' attribute='queueviewtype' operator='eq' value='0' /> <condition entityname='qm' attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString()+"' /> <\/filter> <\/filter>":""},$2pX:function(n){var i=null,r=n.$O("entity"),v=r.$O("filter"),s="",h="",c="",l="",u=r.$O("filter")?Microsoft.Crm.Client.Core.Framework.Utils.$6Z.$1Ti(v):"",e,o,a,t;this.$GF==="0"?u+="<condition attribute='objecttypecode' operator='eq' value='"+this.$AD+"' />\r\n\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$Lx+"' />":this.$GF==="2"&&(u+="<filter type='and'><condition attribute='objecttypecode' operator='eq' value='"+this.$AD+"' /><\/filter>");var y="<filter type='and'>"+u+"<\/filter>",p=r.$O("link-entity"),f=this.$2iu(p);this.$1sz&&(f+=this.$1iY("436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()));this.$GF==="2"&&(f+=this.$1iY(this.$Lx.toLowerCase()));e="";this.$83().get_IsMultipleEntityGraphSupported()&&(o=this.$2IN(this.$1tq),o&&(e="<filter type='and'>"+o.$7J()+"<\/filter>"));a=this.$1Dr();n.$1T("version")&&(s=" version='"+n.$1T("version")+"' ");n.$1T("output-format")&&(h=" output-format='"+n.$1T("output-format")+"' ");n.$1T("mapping")&&(c=" mapping='"+n.$1T("mapping")+"' ");l=" distinct='true' ";i="<fetch"+s+h+c+l+"><entity name='queueitem'><attribute name='objectid' />"+y+f+e+a+"<\/entity><\/fetch>";t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);t.OnSuccess=this.$$d_$33e;t.OnFailure=this.$$d_$5O;t.QueryValue=i;this.set_DefinitionId(i);this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t)},$2iu:function(n){var i;if($0.$1(n))return"<link-entity name='"+this.$S+"' from='"+this.$VX+"' to='objectid' link-type='inner'>"+this.$FE()+"<\/link-entity>";var r="",u="",f="",e="",t="";return n.$1T("name")&&(t=n.$1T("name"),u=" name='"+t+"' "),r=" alias='"+t+"__alias' ",n.$1T("from")&&(f=" from='"+n.$1T("from")+"' "),n.$1T("to")&&(e=" to='"+n.$1T("to")+"' "),this.$83().$8U!==this.$S&&(this.$1tq=t),i=Microsoft.Crm.Client.Core.Framework.Utils.$6Z.$1Ti(n),i+=this.$FE(),"<link-entity "+r+u+f+e+">"+i+"<\/link-entity >"},$33e:function(n){var e=n.get_$Bt().$22N(),f,i,r;this.$10W=new Array(0);for(var u=e,o=u.length,t=0;t<o;++t)f=u[t],i=f.GetValue("objectid"),$0.$1(i.Id.toString())||this.$10W.push(i.Id.toString());this.$10W.length?(r=n,this.$RA=r.get_EntityCollection().$A8,this.$y1=r.get_EntityCollection().$K9,this.$1s.$Jg=Math.floor(this.$RA/this.$1s.$32),this.$1o="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\r\n\t\t\t\t\t\t\t\t\t<entity name='"+this.$S+"'>"+this.$SJ+this.$1Dr()+"<filter type='or'>"+this.$314()+"<\/filter>"+this.$FE()+"<\/entity><\/fetch>"):(this.$1o=null,this.$qf=new Array(0),this.$RA=0,this.$8("IsLoading"));this.$1TU();n.dispose()},$314:function(){for(var t="",n=0;n<this.$10W.length;n++)t+="<condition attribute='"+this.$VX+"' operator='eq' value='"+this.$10W[n]+"' />";return t},screenReaderTextForItemCount:function(){var n=this.$y1?this.$RA.toString()+" +":this.$RA.toString(),t=this.$S==="incident"?"case":this.$S;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueuePanels_ScreenReader_ItemCount"),this.$KO,n,t,this.$16F[this.$XH])},screenReaderTextForSortIcon:function(){var n=this.$12k?" descending ":" ascending ";return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueuePanels_ScreenReader_SortIcon"),this.$16F[this.$XH],n)},screenReaderTextForStreamName:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueuePanels_ScreenReader_StreamName"),this.$KO)},screenReaderTextForMenuButton:function(){var n=this.$S==="incident"?"case":this.$S;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueuePanels_ScreenReader_MenuButton"),n)},$2Sa:function(){var n,t,i,r;if(this.$RB){n=this.$RB;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$RB=null}},$1Tw:function(){return this.$207},$2Xb:function(n){this.$207=n},$GX:function(){$0.$1(this.$5k)||(this.$5k.dispose(),this.$5k=null);this.$1r=null;this.$w=null;this.$16E=null;this.$NV=null;this.$dm=null;this.$S=null;this.$VX=null;this.$cj=null;this.$1Ol=null;this.$SQ=null;this.$KW=null;this.$VD=null;this.$KS=null;this.$SJ=null;this.$10k=null;this.$2L=null;this.$16F=null;this.$1JE=null;this.$16D=null;this.$14n=null;this.$18M=null;this.$1R.dispose();this.$sG();this.$2Sa();this.$GB.dispose();Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Bk=function(){Microsoft.Crm.Client.Core.ViewModels.$Bk.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bk.prototype={$82:null,$X:null,$T:null,get_Command:function(){return this.$82},set_Command:function(n){return this.$82=n,this.$22w(),n},get_TargetViewModel:function(){return this.$X?this.$X:this},set_TargetViewModel:function(n){return this.$X=n,this.$22w(),n},get_Parameters:function(){return this.$T},set_Parameters:function(n){return this.$T=n,this.$22w(),n},$22w:function(){$0.$1(this.$82)||($0.$1(this.$T)&&(this.$T={}),this.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$82,null,this.$T))));this.$8("QuickActionButtonUpdated")},HandleOnClick:function(){var f="ExecutingQuickAction::"+this.$82+"::"+this.$1D,n,t,r,u,i;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c(f,0,this.get_ViewModelId());$0.$1(this.$2)||(n=this.get_TargetViewModel(),$0.$1(n)||(n.$55==="email"?(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(n.$FW)&&(t=this.$2.$13,$0.$1(t.$U0)&&(t.$U0={}),r=n.$FW,t.$U0.InteractionWallViewModel=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T8("InteractionWallViewModel",r.$BG),t.$U0.IsInteractionWallQuickAction=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T8("IsInteractionWallQuickAction","true")),u=this.$T.CommandId,u==="Mscrm.Form.email.Send"?this.$36H():($0.$1(this.$2.$Q)||$0.$1(this.$2.$Q.$T)?$0.$1(this.$2.$Q.$AZ)||(i=this.$2.$Q.$AZ,$0.$1(i.$Q)||$0.$1(i.$Q.$T)||(i.$Q.$T.OverriddenEntityId=n.$I0.get_$I(0).Id,i.$Q.$T.OverriddenEntityName=n.$55)):(this.$2.$Q.$T.OverriddenEntityName=n.$55,this.$2.$Q.$T.OverriddenEntityId=n.$I0.get_$I(0).Id),this.$29.execute())):this.$29.execute()))},$1ZR:function(n,t,i){for(var r,o,e=t.$M.fields[i],u=[],f=0;f<e.get_entities().length;f++)r=e.get_entities()[f].fields.partyid,o=$0.$1(r)?new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem("","",""):new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(r.LogicalName,r.Id.toString(),r.Name),u.push(o);n.$U0[i]=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T8(i,u);u=null},$36H:function(){var i=this.get_TargetViewModel(),r=i.$FW,t=r.get_$3Nz(),u=new Xrm.Objects.EntityReference("email",t),f=Microsoft.Crm.Client.Core.Framework.$G.$b("QuickActionButtonViewModel","QuickActionButtonViewModel"),n=this,e=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(u,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["to","from","cc","bcc"]),Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),f).then(function(i){var r=Microsoft.Crm.Client.Core.Models.$O.$B(i),u,f;$0.$1(n.$2.$Q.$T)?$0.$1(n.$2.$Q.$AZ)||(u=n.$2.$Q.$AZ,$0.$1(u.$Q)||$0.$1(u.$Q.$T)||(u.$Q.$T.OverriddenEntityId=t.toString(),u.$Q.$T.OverriddenEntityName="email")):(n.$2.$Q.$T.OverriddenEntityId=t.toString(),n.$2.$Q.$T.OverriddenEntityName="email");f=n.$2.$13;n.$1ZR(f,r,"bcc");n.$1ZR(f,r,"from");n.$1ZR(f,r,"to");n.$1ZR(f,r,"cc");n.$29.execute();r.$6D()},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Failed for Send Email QuickAction in Interaction Wall with error : {0}",n.$E)})}};Microsoft.Crm.Client.Core.ViewModels.$8N=function(n){this.$28B=["Mscrm.HomepageGrid.incident.Resolve","Mscrm.AssignSelectedRecord","Mscrm.DeleteSelectedRecord","Mscrm.HomepageGrid.incident.Cancel","Mscrm.HomepageGrid.incident.DoNotDecrementEntitlementTerms","Mscrm.HomepageGrid.incident.RunRoutingRule","Mscrm.AddSelectedToQueue","Mscrm.HomepageGrid.incident.MergeRecords","Mscrm.HomepageGrid.incident.AssociateParentChildCase"];this.$284=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$287=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$28E=["Mscrm.HomepageGrid.queueitem.Route","Mscrm.HomepageGrid.queueitem.Pick","Mscrm.HomepageGrid.queueitem.Release","Mscrm.HomepageGrid.queueitem.RemoveLeo"];this.$28C=["Mscrm.DeleteSelectedRecord"];this.$28D=[];this.$286=["Mscrm.CloseActivity","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SaveAsCompleted","Mscrm.SaveAsCancelled","Mscrm.SetRegardingForSelected","Mscrm.ConvertToCase"];this.$285=["Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SaveAsCompleted","Mscrm.SaveAsCancelled","Mscrm.SetRegardingForSelected"];this.$28A=["Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SetRegardingForSelected"];this.$289=["Mscrm.Form.email.Send","Mscrm.Form.email.ReplyAll","Mscrm.Form.email.Reply","Mscrm.Form.email.Forward","Mscrm.Form.email.AttachFile","Mscrm.AssignPrimaryRecord","Mscrm.DeletePrimaryRecord","Mscrm.Form.ConvertToCase"];this.$28F=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$288=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$Jc={};this.$Jc.incident=this.$28B;this.$Jc.account=this.$284;this.$Jc.contact=this.$287;this.$Jc.knowledgearticle=this.$28C;this.$Jc.knowledgebaserecord=this.$28D;this.$Jc.activitypointer=this.$1DB(n);this.$Jc.socialprofile=this.$28F;this.$Jc.queueitem=this.$28E;this.$Jc.appointment=this.$1DB(n);this.$Jc.phonecall=this.$1DB(n);this.$Jc.task=this.$1DB(n);this.$Jc.email=this.$28A;this.$Jc.socialactivity=this.$1DB(n);this.$Jc.customentity=this.$288;this.$1SD={};this.$1SD.email=this.$289};Microsoft.Crm.Client.Core.ViewModels.$8N.$3OR=function(n){switch(n){case"Mscrm.CloseActivity":return"Mscrm.Form.CloseActivity";case"Mscrm.DeleteSelectedRecord":return"Mscrm.DeletePrimaryRecord";case"Mscrm.AddSelectedToQueue":return"Mscrm.AddPrimaryToQueue";case"Mscrm.AssignSelectedRecord":return"Mscrm.AssignPrimaryRecord";case"Mscrm.ConvertToCase":return"Mscrm.Form.ConvertToCase";case"Mscrm.SaveAsCompleted":return"Mscrm.SavePrimaryActivityAsComplete";default:return n}};Microsoft.Crm.Client.Core.ViewModels.$8N.$1yz=function(n,t,i,r,u){var e=new Microsoft.Crm.Client.Core.ViewModels.$8N(u),f;if($0.$1(n)||$0.$1(t))return null;switch(t){case"grid":f=e.$Jc;break;case"form":f=e.$1SD;break;default:f=null}return n in f?new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f[n]):i?r?new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f.activitypointer):new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f.customentity):null};Microsoft.Crm.Client.Core.ViewModels.$8N.prototype={$Jc:null,$1SD:null,$1DB:function(n){return n?this.$286:this.$285}};Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper=function(n){Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.prototype={$1fG:null,refresh:function(){this.$1fG.$X6()},getCellValue:function(){return null}};Microsoft.Crm.Client.Core.ViewModels.$Bl=function(){this.$$d_$3Em=Function.createDelegate(this,this.$3Em);this.$$d_$3Eo=Function.createDelegate(this,this.$3Eo);this.$$d_$3En=Function.createDelegate(this,this.$3En);this.$$d_$3FP=Function.createDelegate(this,this.$3FP);this.$hH=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk));this.$X1=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk));this.$X0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk));this.$hI=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk));Microsoft.Crm.Client.Core.ViewModels.$Bl.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Bl.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bl.prototype={$55:null,$Q7:null,$14q:null,$17F:null,$1a3:!1,$1s0:!1,$FG:!1,$nE:!1,$I0:null,$FW:null,get_TargetViewModelContext:function(){return this.$FW},set_TargetViewModelContext:function(n){return this.$FW=n,n},$q0:null,$xG:null,$17K:null,$q1:null,get_Context:function(){return this.$q1},set_Context:function(n){return this.$q1=n,n},get_Entity:function(){return this.$55},set_Entity:function(n){return this.$55=n,this.set_PrimaryModelName(this.$55),this.$1y&&this.$2Nm(),n},get_queueContainerQuickActionPopup:function(){return this.$1a3},set_queueContainerQuickActionPopup:function(n){return this.$1a3=n,this.$8("QueueContainerQuickActionPopup"),n},get_interactionWallQuickActionPopup:function(){return this.$1s0},set_interactionWallQuickActionPopup:function(n){return this.$1s0=n,this.$8("InteractionWallQuickActionPopup"),n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$8k.prototype.$18.call(this);this.$I0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.EntityReference));this.$17F=new Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel;this.$17K=new Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper(this.$17F);this.$17K.$1fG=this;$0.$1(this.$55)||this.$2Nm()},$1eI:function(n){return n.val=this.$Q7,!0},$3WD:function(n){if(!$0.$1(this.$FW)){var t=this.$FW.get_State();return n.val=t,!0}return!1},$3WE:function(n){if(!$0.$1(this.$FW)){var t=this.$FW.get_State();return n.val=Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.toString(t),!0}return!1},$3WF:function(n){return $0.$1(this.$FW)?!1:(n.val=this.$FW.get_$21W(),!0)},get_$39S:function(){return!0},get_$394:function(){return!1},get_$2oa:function(){return[this.$55]},get_$2ob:function(){return this.$$d_$3FP},$GX:function(){var n,t,i,r;this.$I0=null;this.$FW=null;this.$q0=null;this.$xG=null;this.$17K=null;$0.$1(this.$17F)||(this.$17F.dispose(),this.$17F=null);this.$lZ(n={val:this.$hH});this.$hH=n.val;this.$lZ(t={val:this.$X0});this.$X0=t.val;this.$lZ(i={val:this.$hI});this.$hI=i.val;this.$lZ(r={val:this.$X1});this.$X1=r.val;this.$hH=null;this.$X0=null;this.$hI=null;this.$X1=null;this.$14q=null;Microsoft.Crm.Client.Core.ViewModels.$8k.prototype.$GX.call(this)},$lZ:function(n){if(!$0.$1(n.val)){for(var t=0;t<n.val.get_Count();++t)$0.$1(n.val.get_$I(t))||(n.val.get_$I(t).dispose(),n.val.set_$I(t,null));n.val.clear()}},$2Nm:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleEntityMetadataAction",null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},$3FP:function(n){this.$FG=n[0].$FG;this.$nE=n[0].get_$8p();this.$3Sd();this.$3C4()},$3Sd:function(){this.$Q7=this.$nE&&this.$55!=="email"?"activitypointer":this.$55},$3C4:function(){(this.$14q=Microsoft.Crm.Client.Core.ViewModels.$8N.$1yz(this.$55,this.$q1,this.$FG,this.$nE,Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$FW)),this.$14q)&&this.$1yz(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$FW))},$3En:function(n){this.$q0=n;this.$2m2();this.$2m3()},$3Eo:function(n){this.$xG=n;this.$1yz(!1)},$1yz:function(n){var i=this.$30D(n),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet",i);t.OnSuccess=this.$$d_$3En;t.OnSuccess=n?this.$$d_$3Eo:this.$$d_$3En;t.OnFailure=this.$$d_$3Em;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t)},$3Em:function(){throw Error.create("QuickActionViewModel: Command Set Retrieval Failed");},$2m2:function(){var n;this.$lZ(n={val:this.$hH});this.$hH=n.val;this.$2NH(this.$q0.$EJ.Controls);this.$8("QuickActionButtonCreated")},$2NH:function(n){for(var t,r,u,f=n,e=f.length,i=0;i<e;++i){t=f[i];switch(t.ControlType){case"Button":r=t.Command.split("|");u=r[r.length-1];this.$14q&&this.$14q.contains(u)&&this.$2dV(t,u);break;case"Group":case"Tab":case"FlyoutAnchor":this.$2NH(t.Children)}}},$2dV:function(n,t){var u=this.$q0.$EJ.Commands,r=u[this.$Q7][t],i=new Microsoft.Crm.Client.Core.ViewModels.$Bk;$0.$1(r)||(n.CommandParameters.entityLogicalName=this.$Q7,n.CommandParameters.CommandId=t,n.CommandParameters.RibbonActionHandler=r.Actions,n.CommandParameters.TargetViewModel=this,i.set_Command("WebResourceCommand"),i.set_Parameters(n.CommandParameters),i.set_Label(n.LabelText),i.set_TargetViewModel(this),i.set_$4K(this.$2),i.set_$1a(n.Id),this.$hH.contains(i)||this.$hH.add(i))},$2m3:function(){var i,r,u,n;this.$lZ(i={val:this.$X1});this.$X1=i.val;this.$lZ(r={val:this.$X0});this.$X0=r.val;this.$lZ(u={val:this.$hI});this.$hI=u.val;for(var f=this.$hH.toArray(),e=f.length,t=0;t<e;++t)n=f[t],Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$FW)?this.$373(n):this.$q1==="form"?this.$X1.add(n):this.$2Rp(n)},$2Rp:function(n){var f=n.$T.CommandId,e=this.$q0.$EJ.Commands,r=e[this.$Q7][f],t,i,u;if(!$0.$1(r)){if(t=r.EnableRules,!t.length||Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$FW)){this.$X1.add(n);return}if(i=this.$34L(t),!$0.$1(i)){u=this.$2pE(i);switch(u){case 0:this.$X1.add(n);break;case 1:this.$X0.add(n);break;case 2:this.$hI.add(n)}}}},$373:function(n){var t=n.$T.CommandId,o=Microsoft.Crm.Client.Core.ViewModels.$8N.$3OR(t),s=this.$xG.$EJ.Commands,r=s[this.$Q7][o],h=this.$xG.$EJ.Rules[this.$Q7],c=this.$xG.$EJ.DisplayRules[this.$Q7],e,w;if(!$0.$1(r)){var l=r.EnableRules,a=r.DisplayRules,u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),f=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.ViewModels.$96),v=this,i=l.map(function(n){return f.$1RE(h[n],v)}),y=this,p=a.map(function(n){return f.$1RE(c[n],y)});i=i.concat.apply(i,p);e=this;w=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(i){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Quick Actions : Evaluated [{1}] rules for command [{0}]",t,i.length);var r=i.reduce(function(n,t){return!!(n&t)},!0);r&&e.$2Rp(n);Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Quick Actions : Evaluation of {2} rules for command [{0}] succeeded with result: {1}")',t,r,i.length);u.resolve(r)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Quick Actions : Evaluation of rules for command [{0}] failed with message: {1}")',t,n.$E);u.reject(n)})}},$34L:function(n){for(var f,e,r,u=n,s=u.length,t=0;t<s;++t){f=u[t];e=this.$q0.$EJ.Rules[this.$Q7][f];for(var o=e.Rules,h=o.length,i=0;i<h;++i)if(r=o[i],r.RuleType===5)return r}return null},$2pE:function(n){var t=n;return t.Minimum===1&&t.Maximum===1?0:t.Minimum===1&&t.Maximum===-1?1:t.Minimum===2&&t.Maximum===-1?2:3},$30D:function(n){return this.$q1==="form"||n?"Form:"+this.$Q7:this.$q1==="grid"?"HomePageGridItem:"+this.$Q7:null},getQuickActionButtonViewModels:function(){var n,t;return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("QuickActionsShown",0,this.get_ViewModelId()),this.$I0&&this.$I0.get_Count()?this.$I0.get_Count()===1?(n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk)),n.addRange(this.$X1.toArray()),n.addRange(this.$X0.toArray()),n.toArray()):(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk)),t.addRange(this.$X0.toArray()),t.addRange(this.$hI.toArray()),t.toArray()):null},getQuickActionButtonViewModelCount:function(){return this.$I0&&this.$I0.get_Count()?this.$I0.get_Count()===1?this.$X1.get_Count()+this.$X0.get_Count():this.$X0.get_Count()+this.$hI.get_Count():0},handleQueueItemSelection:function(n,t,i){var e=n,r,f;if(t)r=new Mscrm.EntityReference,r.Id=e.toString(),r.TypeCode=Xrm.Internal.getEntityCode(i),this.$I0.add(r);else for(var o=this.$I0.toArray(),s=o.length,u=0;u<s;++u)f=o[u],f.Id===e.toString()&&this.$I0.remove(f);this.$1a3=!1;this.$10p("SelectionCountChanged","QueueContainerQuickActionPopup")},$2d2:function(n,t){var r=n,i=new Mscrm.EntityReference;i.Id=r.toString();i.TypeCode=Xrm.Internal.getEntityCode(t);this.$I0.add(i)},$1PA:function(){this.$I0.clear();this.$8("SelectionCountChanged")},$X6:function(){var t,n;Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.isInstanceOfType(this.$FW)?(t=this.$FW.get_ParentViewModel(),t.$X6(),t.$2IV().$9L.raiseEvent(Function,null)):Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$FW)&&(n=this.$FW.$BG,n.$2x="InteractionWallQuickActionRefresh",n.refreshData(),n.$2x="")}};Microsoft.Crm.Client.Core.ViewModels.$Ev=function(){Microsoft.Crm.Client.Core.ViewModels.$Ev.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ev.prototype={RefreshData:function(){this.$5o().refreshWithoutScriptReload()},$5o:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.prototype={$2ON:30,get_MaximumLengthOfTag:function(){return this.$2ON},$3KM:function(){var n=this;this.$1Br.sort(function(n,t){var i=n,r=t,u=Number.parseInvariant(i.$10V),f=Number.parseInvariant(r.$10V);return f!==u?f-u:i.$4F.localeCompare(r.$4F)})}};Microsoft.Crm.Client.Core.ViewModels.$FR=function(){this.$$d_HandleViewNameSet=Function.createDelegate(this,this.HandleViewNameSet);Microsoft.Crm.Client.Core.ViewModels.$FR.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$FR.prototype={$Pk:null,get_ViewName:function(){return this.$Pk},set_ViewName:function(n){return this.$Pk=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j,this.$$d_HandleViewNameSet))},HandleViewNameSet:function(n){this.$Pk=n.$Pk;this.$Pk&&(this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j,this.$$d_HandleViewNameSet),this.$8("ViewNameSet"))},$GX:function(){this.$Pk=null;this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j,this.$$d_HandleViewNameSet);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel=function(){this.$1Br=[];this.$wB=[];Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.prototype={$as:null,$Vi:null,$4r:null,get_Title:function(){return this.$4r},set_Title:function(n){return this.$4r=n,n},get_Data:function(){return this.$Pb&&(this.$Pb=!1,this.set_IsLoading(!0),this.$Km()),this.$1Br},get_SelectedElements:function(){return this.$wB},set_SelectedElements:function(n){return this.$wB=n,n},$2oB:function(n){var t=n.$1Na[0];if(Microsoft.Crm.Client.Core.Models.$8o.isInstanceOfType(t)){if(this.$Vi.get_$23().get_Count()===2){var u=t,i=Number.parseInvariant(u.Value.toString()),f=Number.parseInvariant(this.$Vi.get_$23().get_$I(0).get_$2O().toString()),e=Number.parseInvariant(this.$Vi.get_$23().get_$I(1).get_$2O().toString());return i>=f&&i<=e}}else if(Microsoft.Crm.Client.Core.Models.$7q.isInstanceOfType(t)&&this.$Vi.get_$23().get_Count()===2){var r=t,o=new Date(Date.parse(this.$Vi.get_$23().get_$I(0).get_$2O().toString())),s=new Date(Date.parse(this.$Vi.get_$23().get_$I(1).get_$2O().toString()));return r.MinDate>=o&&r.MaxDate<=s}return!!Number.parseInvariant(n.$10V)},get_SelectedIdsDictionary:function(){var n,t,r,i;if($0.$1(this.$as)){if(n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilter_GetSelectedIdsDictionary"),n.start(),this.$as={},this.$ja)for(t=0;t<this.get_Data().length;t++)this.$2oB(this.get_Data()[t])&&(this.$as[this.get_Data()[t].$4F]=!0);else for(r=this.$wB,i=0;i<r.length;++i)this.$as[r[i]]=!0;n.stop();n.addParameter(this.get_ViewModelId());n.addParameter(this.$G)}return this.$as},set_SelectedIdsDictionary:function(n){return this.$as=n,n},$ja:!1,get_FilterEventHadRangeQuery:function(){return this.$ja},set_FilterEventHadRangeQuery:function(n){return this.$ja=n,n},$1Ll:!1,get_IsError:function(){return this.$1Ll},set_IsError:function(n){return this.$1Ll=n,n},$bq:null,get_ErrorTitle:function(){return this.$bq},set_ErrorTitle:function(n){return this.$bq=n,n},$Pb:!1,get_LazyLoad:function(){return this.$Pb},set_LazyLoad:function(n){return this.$Pb=n,n},$Ug:null,get_ErrorMessage:function(){return this.$Ug},set_ErrorMessage:function(n){return this.$Ug=n,n},GetElementPrimaryId:function(n){var t=n[0];return $0.$1(t)?"":t.Value},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$AN.prototype.$18.call(this),this.$Pb=!1,this.$ja=!1,this.$as=null,this.$Vi=null)},$Km:function(){if(!$0.$1(this.$AG)){var n=this;this.$2Nn().done(function(){if(n.$1t1())n.$2JP();else{n.set_IsLoading(!0);var t=n.$AG.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t)}n.$SR.start()})}},$3KM:function(){},$22i:function(){var i,t,n;if(this.$SR.stop(),this.$SR.addParameter(this.get_ViewModelId()),this.$SR.addParameter(this.$G),$0.$1(this.$D9)){this.set_IsLoading(!1);return}for(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY(this.$Xj?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId()),this.$Xj||(this.$Im("RenderedInitialData"),this.$Xj=!0),this.$1Br=[],i=!$0.$1(this.$D9.$KG)&&this.$D9.$KG.length>0?this.$D9.$KG[0].Values:[],t=!$0.$1(this.$D9.$DW)&&this.$D9.$DW.length>0?this.$D9.$DW[0].DataPoints:[],n=0;n<i.length;++n){var r=i[n],u=t[n].Value.toString(),f=t[n].Aggregators;this.$1Br[n]=new Microsoft.Crm.Client.Core.Models.EntityCountForAttributeValue(r,u,t[n].FormattedValue.toString(),f)}this.$3KM();this.$2D?this.set_IsLoading(!1):this.$8("Data");this.$2av()},HandleApplyFilter:function(n,t){this.$5o()&&this.$2fn(n,t)},OnFilterChangeCompletedEvent:function(n){var h,c,e,o,u,i,f,t,r,s;if(this.$5o().get_IsMultipleEntityGraphSupported()){c=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$Gr)?"":n.$NO.toString(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(c);this.$tk={};e=n.$NO;for(o in e)u={key:o,value:e[o]},$0.$1(n.$NO[u.key])||(this.$tk[u.key]=n.$NO[u.key].$7J())}else h=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$Gr)?"":n.$Gr.$7J(),n.$h),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(h),this.$12F=n.$Gr.$7J();if(this.$KH){for(i=this.$KH.$pu,f=!1,t=0;t<i.get_Count();t++)r=null,this.$5o().get_IsMultipleEntityGraphSupported()?(s=this.$1Tb(i.get_$I(t)),$0.$1(n.$NO[s])||(r=n.$NO[s].$FE(i.get_$I(t)))):r=n.$Gr.$FE(i.get_$I(t)),$0.$1(r)||(f||(f=!0,this.$wB=[],this.$as=null),this.$35Z(r));f||(this.$wB=[],this.$as=null,this.$ja=!1,this.$Vi=null)}if(!this.$Xj){this.$Pb=!0;return}this.$Km()},$35Z:function(n){if(!$0.$1(n)&&n.get_$23().get_Count()>0)if(n.get_$23().get_$I(0).get_$Jr()!=="eq")this.$ja=!0,this.$Vi=n.$8W();else{this.$ja=!1;this.$Vi=null;for(var t=0;t<n.get_$23().get_Count();t++)this.$wB.push(n.get_$23().get_$I(t).get_$2O())}},$1E0:function(n,t){this.$1Ll=!0;this.$bq=n;this.$Ug=t;this.$8("Data")},VisualFilterHeaderScreenReaderLabel:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("VisualFilterHeader_ScreenReader_Label"),n,this.$4r)},PrimaryEntityDisplayName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.get_$vH()).$1S},PrimaryEntityPluralName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.get_$vH()).$8O}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls");Microsoft.Crm.Client.Core.ViewModels.Controls.$6E=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.$zI=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$SI.get_$I(n.toString());return $0.$1(t)?!1:t.$Nm};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cu=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cu.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cu.prototype={$1BJ:null,$H0:"",get_DataField:function(){return this.$1BJ},set_DataField:function(n){return this.$1BJ=n,this.SetupData(),n},get_SpecifyFieldErrorTitle:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ReferencePanel_QuickView_SpecifyField"),this.get_BindingField())},get_BindingField:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$H0)?null:$0.$1(Xrm.Page.getControl(this.$H0))?this.$H0:Xrm.Page.getControl(this.$H0).getLabel()},set_BindingField:function(n){return this.$H0=n,n},$yO:!1,get_ShouldShowSpecifyFieldError:function(){return this.$yO},set_ShouldShowSpecifyFieldError:function(n){return this.$yO=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.SetupData())},SetupData:function(){var t,i,e,o,r,u,f,s,n;if($0.$1(this.$1BJ)){t=this.$F;for(i in t)e={key:i,value:t[i]},o=e.value,o.set_Rerender(!1);this.$yO=!0;this.$8("Render");return}r=this.$1BJ;this.$yO=!0;u=this.$F;for(f in u)s={key:f,value:u[f]},n=s.value,n.get_Name()===r.LogicalName?(this.$yO=!1,n.set_RecordId(r),n.set_Rerender(!0),n.set_SetActionable(!0),n.$X6()):n.set_Rerender(!1);this.$8("Render")},$GX:function(){var i=this.$F,n,r,t;for(n in i)r={key:n,value:i[n]},t=r.value,t&&this.$1Qk(t);this.set_DataField(null);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel=function(){this.$$d_$13j=Function.createDelegate(this,this.$13j);this.$$d_$Hg=Function.createDelegate(this,this.$Hg);this.$$d_HandleFilterChangeInitiatedEvent=Function.createDelegate(this,this.HandleFilterChangeInitiatedEvent);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.initializeBase(this,[37]);this.$1Em=!1;this.$8U="incident";this.$Pc=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident");this.$Rr=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident");this.$Lu=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident");this.set_DashboardCategory("1_0");this.$9L=new Microsoft.Crm.Client.Core.Framework.$DR;this.get_IsMultipleEntityGraphSupported()&&(this.$FT={},this.$FT.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident"),this.$J0={},this.$J0.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident"),this.$Er={},this.$Er.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident"),this.$js={})};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT=function(n,t,i,r){for(var u,e=t.toArray(),o=e.length,f=0;f<o;++f)u=e[f],i&&n.$N5(u.get_$OJ()),r?n.$6b(u.$8W()):n.$6b(u)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.prototype={$1BL:!0,$9L:null,get_EventHandler:function(){return this.$9L},set_EventHandler:function(n){return this.$9L=n,n},$1Em:!1,$ds:null,get_IsMultipleEntityGraphSupported:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("InteractionCentricMultiEntityChartsFeature")},$Lq:null,get_FilterByAttributeName:function(){return this.$Lq},set_FilterByAttributeName:function(n){return this.$Lq=n,n},$1LL:null,get_FilterByAttributeId:function(){return this.$1LL},set_FilterByAttributeId:function(n){return this.$1LL=n,n},$1Lo:!1,get_IsFilterByAttributeSecured:function(){return this.$1Lo},set_IsFilterByAttributeSecured:function(n){return this.$1Lo=n,n},get_DashboardCategory:function(){return this.$ds},set_DashboardCategory:function(n){if(!$0.$1(n)){var t=n.split("_");t.length>1&&(this.$1Em=t[1]==="1"?!0:!1);this.$ds=t[0]}return n},$8U:null,get_PrimaryEntity:function(){return this.$8U},set_PrimaryEntity:function(n){return this.$8U=n,n},$Rr:null,get_DateRangeFilter:function(){return this.$Rr},set_DateRangeFilter:function(n){return this.$Rr=n,n},$Lu:null,get_PrimaryEntityFilterExludingDateRange:function(){return this.$Lu},set_PrimaryEntityFilterExludingDateRange:function(n){return this.$Lu=n,n},$Pc:null,get_PrimaryEntityFilter:function(){return this.$Pc},set_PrimaryEntityFilter:function(n){return this.$Pc=n,n},$J0:null,$Er:null,$FT:null,$js:null,$18:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C(this.$1Db("Initialize"),2001,{PrimaryEntity:this.$8U,DashboardCategory:this.$ds,FilterByAttributeName:this.$Lq,IsEntityDashboard:this.$1Em},"FirstLoad");this.$1y||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("InteractionCentricDashboard_Initialize",1,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$18.call(this),this.$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_HandleFilterChangeInitiatedEvent));this.$3Y7();$0.$1(this.$2)||(this.$2.$Xz&&this.$Hg(null,null),this.$2.add_$Ts(this.$$d_$Hg),this.$2.add_$o9(this.$$d_$13j))},$1Db:function(n){return"InteractionCentricDashboardViewModel-"+this.$12+" ("+n+")"},$3Y7:function(){var i,n,t;this.$1Lo&&this.$1BL&&(Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.$zI(this.$1LL)||(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E(this.$1Db("ValidateFilterByAttribute"),2001,{Warning:"(ValidateFilterByAttribute) User doesn't have read access to attribute "+this.$Lq},"NoReadLevelAccessOnAttribute"),this.$1BL=!1,i=this,Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_ServiceDesk_AccessDenied_DateRange"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_ServiceDesk_AccessDenied_DateRange"),function(){}),n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$Lq),n.$9r(this.$Lq,"on-or-after","2015-01-01T00:00:00"),n.$9r(this.$Lq,"on-or-before","2014-01-01T00:00:00"),this.get_IsMultipleEntityGraphSupported()?(this.$J0[this.$8U].$N5(this.$Lq),this.$J0[this.$8U].$6b(n),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$Lq,2,0,null),t.$Kq=this.$J0):(this.$Rr.$N5(this.$Lq),this.$Rr.$6b(n),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$Lq,2,0,this.$Rr)),this.$2.$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,t)))},$Hg:function(){var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.$3Bu();window.localStorage.setItem("isMarsISHDashboard","true")},-9,"JobLoadMarsScripts")},$13j:function(){},$3Bu:function(){var r=Xrm.Page.context.getClientUrl(),t="/WebResources/msdyn_LoadGuidedHelpMoCA.js",i=$get("CustomScriptsIFrame"),u=i.contentDocument.getElementById(r+t),n;$0.$1(u)&&(n=i.contentDocument.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("id",t),n.setAttribute("src",r+t),i.contentDocument.body.appendChild(n))},$2O3:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C(this.$1Db("HandleFilterChangeInitiatedEvent"),2001,{SourceId:n.$h,Filtertype:n.$HD,FilterEventType:n.$m2,FilterExpression:$0.$1(n.$6v)?"":n.$6v.$7J()},"FilterChangeInitiated")},HandleFilterChangeInitiatedEvent:function(n){var r,i,u,t,f,e;if(this.get_IsMultipleEntityGraphSupported())this.$35j(n);else{if(this.$2O3(n),r="",i="",n.$m2){if(n.$m2===1){f=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterRemoved");f.start();r="FilterChangeInitiatedEvent.FilterRemoved";switch(n.$HD){case 1:this.$Lu.$79();i="Aggregated";break;case 0:this.$Pc.$N5(n.$h);i="Individual"}f.stop();f.addParameter(this.get_ViewModelId())}}else{u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterChanged");u.start();r="FilterChangeInitiatedEvent.FilterChanged";t=n.$6v;switch(n.$HD){case 2:this.$1BL&&(i="Global",this.$Rr.$N5(t.get_$OJ()),this.$Rr.$6b(t));break;case 1:this.$Lu=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$8U);i="Aggregated";$0.$1(t)||Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Lu,t.get_$5S(),!1,!0);break;case 0:$0.$1(t)||(i="Individual",t.get_$5S().get_Count()?Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Lu,t.get_$5S(),!0,!0):(this.$Lu.$N5(t.get_$OJ()),this.$Lu.$6b(t.$8W())))}u.stop();u.addParameter(this.get_ViewModelId())}e=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,i,r,$0.$1(n.$6v)?"":n.$6v.$7J(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(e);this.$2Sf(n)}},$35j:function(n){var o,i,s,r,l,a,u,h,v,y,e,p,w,b,t,f,c,k,d,g,nt,tt,it,rt;if(this.$2O3(n),o="",i="",n.$m2){if(n.$m2===1){c=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterRemoved");c.start();o="FilterChangeInitiatedEvent.FilterRemoved";switch(n.$HD){case 1:i="Aggregated";k=this.$Er;for(d in k)g={key:d,value:k[d]},$0.$1(this.$Er[g.key])||this.$Er[g.key].$79();break;case 0:i="Individual";nt=this.$FT;for(tt in nt)it={key:tt,value:nt[tt]},$0.$1(this.$FT[it.key])||this.$FT[it.key].$N5(n.$h)}c.stop();c.addParameter(this.get_ViewModelId())}}else{s=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterChanged");s.start();o="FilterChangeInitiatedEvent.FilterChanged";$0.$1(n.$6v)||($0.$1(n.$Kq)&&(n.$Kq={}),n.$Kq[this.$8U]=n.$6v);r=n.$Kq;switch(n.$HD){case 2:if(i="Global",this.$1BL){$0.$1(this.$J0)&&(this.$J0={});l=r;for(a in l)u={key:a,value:l[a]},$0.$1(this.$J0[u.key])&&(this.$J0[u.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,u.key)),h=r[u.key],$0.$1(h)||(this.$J0[u.key].$N5(h.get_$OJ()),this.$J0[u.key].$6b(h))}break;case 1:i="Aggregated";$0.$1(n.$Kq)&&(this.$Er={});this.$Er[this.$8U]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$8U);v=r;for(y in v)e={key:y,value:v[y]},this.$Er[e.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,e.key),p=r[e.key],$0.$1(p)||Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Er[e.key],p.get_$5S(),!1,!0);break;case 0:i="Individual";w=r;for(b in w)t={key:b,value:w[b]},f=r[t.key],$0.$1(f)||(t.key in this.$Er||(this.$Er[t.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,t.key)),f.get_$5S().get_Count()?Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Er[t.key],f.get_$5S(),!0,!0):(this.$Er[t.key].$N5(f.get_$OJ()),this.$Er[t.key].$6b(f.$8W())))}s.stop();s.addParameter(this.get_ViewModelId())}rt=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,i,o,$0.$1(n.$Kq)?"":n.$Kq.toString(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(rt);this.$2Sf(n)},$2Sf:function(n){var r,u,f,i,e,o,t,s;if(this.get_IsMultipleEntityGraphSupported()){this.$FT={};u=this.$J0;for(f in u)i={key:f,value:u[f]},this.$FT[i.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,i.key),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$FT[i.key],this.$J0[i.key].$CW,!1,!1);e=this.$Er;for(o in e)t={key:o,value:e[o]},t.key in this.$FT||(this.$FT[t.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,t.key)),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$FT[t.key],this.$Er[t.key].$CW,!1,!1);s=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S(this.$G,null,n,this.$FT);this.$2O2(s);this.$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,s)}else this.$Pc=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$8U),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Pc,this.$Rr.get_$5S(),!1,!1),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Pc,this.$Lu.get_$5S(),!1,!1),r=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S(this.$G,this.$Pc,n,null),this.$2O2(r),this.$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,r)},$2O2:function(n){if(!$0.$1(n.$Gr)){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",n.$Gr.toString(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)}Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C(this.$1Db("RaiseFilterChangeCompletedEvent"),2001,{SourceId:n.$h,FilterExpression:$0.$1(n.$Gr)?"":n.$Gr.$7J()},"FilterChangeCompleted")},refreshWithoutScriptReload:function(){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.refreshWithoutScriptReload.call(this);var n,t;this.get_IsMultipleEntityGraphSupported()?(n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,null),n.$Kq=this.$FT,t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S(this.$G,null,n,this.$FT)):(n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,this.$Pc),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S(this.$G,this.$Pc,n,null));this.$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,t)},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C(this.$1Db("InternalDispose"),2001,{PrimaryEntity:this.$8U,DashboardCategory:this.$ds,FilterByAttributeName:this.$Lq,IsEntityDashboard:this.$1Em},"DashboardDisposed");this.$8U=null;this.$Pc=null;this.$Rr=null;this.$Lu=null;this.set_DashboardCategory(null);this.$J0=null;this.$FT=null;this.$js=null;this.$Er=null;this.$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_HandleFilterChangeInitiatedEvent);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cr=function(){this.$$d_$36C=Function.createDelegate(this,this.$36C);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cr.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cr.prototype={$1cp:!1,$2Y0:"ShouldScroll",$1Me:0,get_ScrollTopValueToSet:function(){return this.$1Me},set_ScrollTopValueToSet:function(n){return this.$1Me=n,n},$1Md:0,get_ScrollLeftValueToSet:function(){return this.$1Md},set_ScrollLeftValueToSet:function(n){return this.$1Md=n,n},get_ShouldScroll:function(){return this.$1cp},set_ShouldScroll:function(n){return this.$1cp!==n&&(this.$1cp=n,n&&this.$8(this.$2Y0)),n},$1fL:0,get_BootstrapColumns:function(){return this.$1fL},set_BootstrapColumns:function(n){return this.$1fL=n,n},$1fW:!1,get_ContainsTiles:function(){return this.$1fW},set_ContainsTiles:function(n){return this.$1fW=n,n},$1fX:!1,get_ContainsVisualFilter:function(){return this.$1fX},set_ContainsVisualFilter:function(n){return this.$1fX=n,n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD.prototype.$18.call(this);this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8U,this.$$d_$36C)},$36C:function(n){n.$1fR===this.$G&&(this.set_ShouldScroll(!0),this.$1Me=n.$1h5,this.$1Md=n.$1h4)},$GX:function(){this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8U,this.$$d_$36C);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Df=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Df.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Df.prototype={$1h1:0,get_RowSpan:function(){return this.$1h1},set_RowSpan:function(n){return this.$1h1=n,n},$1fQ:0,get_ColSpan:function(){return this.$1fQ},set_ColSpan:function(n){return this.$1fQ=n,n},$xx:!1,get_IsQuickViewForm:function(){return this.$xx},set_IsQuickViewForm:function(n){return this.$xx=n,n},$1fN:0,get_CellHeight:function(){return this.$1fN},set_CellHeight:function(n){return this.$1fN=n,n},$1gI:!1,get_IsQueueContainer:function(){return this.$1gI},set_IsQueueContainer:function(n){return this.$1gI=n,n},$1gE:!1,get_IsInteractionWallGridCell:function(){return this.$1gE},set_IsInteractionWallGridCell:function(n){return this.$1gE=n,n},$1gM:!1,get_IsVisualFilterSection:function(){return this.$1gM},set_IsVisualFilterSection:function(n){return this.$1gM=n,n},$1g7:!1,get_IsBlankGridCell:function(){return this.$1g7},set_IsBlankGridCell:function(n){return this.$1g7=n,n},$1fa:null,get_ControlName:function(){return this.$1fa},set_ControlName:function(n){return this.$1fa=n,n},$1hO:null,get_TierType:function(){return this.$1hO},set_TierType:function(n){return this.$1hO=n,n},$1g6:!1,get_IsAutoHeight:function(){return this.$1g6},set_IsAutoHeight:function(n){return this.$1g6=n,n},get_AdditionalCSSClassNamePropertyName:function(){return"AdditionalCSSClassName"}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD=function(){this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent=Function.createDelegate(this,this.HandleVisualFilterCollapsibleChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD.prototype={$10L:!1,$pw:!1,get_CheckIfCollapsed:function(){return this.$pw},set_CheckIfCollapsed:function(n){return this.$pw=n,n},$xD:!1,get_Collapsible:function(){return this.$xD},set_Collapsible:function(n){return this.$xD=n,n},$17V:!1,get_ContainsQueueContainerTier1:function(){return this.$17V},set_ContainsQueueContainerTier1:function(n){return this.$17V=n,n},$1fV:!1,get_ContainsHeader:function(){return this.$1fV},set_ContainsHeader:function(n){return this.$1fV=n,n},get_DisplayLabel:function(){return this.$10L},set_DisplayLabel:function(n){return this.$10L=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),(this.$xD||this.$17V)&&(this.$pw=!0,this.$83().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m,this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent)))},$GX:function(){(this.$xD||this.$17V)&&this.$83().$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m,this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$83:function(){return this.$2},HandleVisualFilterCollapsibleChangeCompletedEvent:function(){if(this.$pw=!this.$pw,this.$8("CheckIfCollapsed"),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$CH()&&!this.$pw&&this.$xD){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("VisualFilterCollapseButtonClickAcknowledged",0,this.get_ViewModelId());var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("VisualFiltersShown")},-13,"TabLayoutViewModel.HandleVisualFilterCollapsible")}},get_TabSpaceReserved:function(){return 10},RefreshData:function(){this.$83().refreshWithoutScriptReload()},IsTier1Dashboard:function(){return this.$83().$ds==="1"}};Type.registerNamespace("Microsoft.Crm.Client.Core.Commands");Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenEmailAttachmentPopupCommand",Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$10)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$10=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(n)&&(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh=n.refreshCommand),new Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2Tk=function(n){delete n.$Q.$T.OverriddenEntityId;delete n.$Q.$T.OverriddenEntityName};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$25c=function(n){return!$0.$1(n)&&!$0.$1(n.$Q)&&!$0.$1(n.$Q.$T)&&"OverriddenEntityName"in n.$Q.$T&&"OverriddenEntityId"in n.$Q.$T?!0:!1};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.prototype={$1Kb:0,$31:function(){var s=null,f=null,i=null,h=-1,u=!0,o=!0,n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),c=!1,r,t,e,l,w,b,k;if($0.$1(n)||$0.$1(n.ui)||$0.$1(n.ui.$2)||(r=n.ui.$2,t=r,Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$25c(t)?(f=t.$Q.$T.OverriddenEntityId,t.$Q.$T.OverriddenEntityName==="email"&&(i="4202",u=!0),Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2Tk(t),o=!1,c=!0):$0.$1(t.$Q)||$0.$1(t.$Q.$AZ)||(e=t.$Q.$AZ,Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$25c(e)?(f=e.$Q.$T.OverriddenEntityId,e.$Q.$T.OverriddenEntityName==="email"&&(i="4202",u=!0),Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2Tk(e),o=!1):o=!0),!o||$0.$1(r)||$0.$1(r.get_$1K())||(f=r.get_$1K().get_Id(),r.get_$2R()==="appointment"?(i="4201",u=!1):r.get_$2R()==="email"&&(i="4202",u=!0))),$0.$1(n)||(u&&!$0.$1(n.getAttribute("statuscode"))?h=n.getAttribute("statuscode").getValue():u||$0.$1(n.getAttribute("statecode"))||(h=n.getAttribute("statecode").getValue())),l=Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2BT(h,i),$0.$1(f)||$0.$1(i)||(s=String.format("{0}/activities/attachment/edit.aspx?pId=%7b{1}%7d&pType={2}&ish=true",n.context.getClientUrl(),f,i)),!$0.$1(s)&&(l||c)){var a=0,v=0,y=584,p=213;v=(window.screen.width-y)/2;a=(window.screen.height-p)/2;w=window.open(s,"_blank",String.format("width={0}, height={1}, top={2}, left={3}, menubar=no, toolbar=no",y,p,a,v));c||(b=this,k=function(){!$0.$1(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh)&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh.get_CanExecute()&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh.execute()});this.$27d();this.$3Dc(w)}},$3Dc:function(n){var t=this;this.$1Kb=Microsoft.Crm.Client.Core.Framework.$2F.$3L5(this.$NE,"EmailAttachmentTimer",function(){n.closed&&(t.$27d(),!$0.$1(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh)&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh.get_CanExecute()&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh.execute())},100)},$27d:function(){this.$1Kb&&(this.$1Kb=Microsoft.Crm.Client.Core.Framework.$2F.$2ga(this.$1Kb))}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Commands");Microsoft.Crm.Client.Core.ViewModels.Commands.$BB=function(n){this.$$d_$1wX=Function.createDelegate(this,this.$1wX);Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.initializeBase(this);this.$1G0=n};Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("LookupFieldClickCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.$10=function(n,t){var u=!$0.$1(n)&&Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.isInstanceOfType(n),f=!$0.$1(t),i,r;return!u||!f?null:(i=n,r=new Microsoft.Crm.Client.Core.ViewModels.Commands.$BB(i),new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(r.$$d_$1wX,163))};Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.prototype={$1G0:null,$1wX:function(){for(var i=this.$1G0,n=this.$1G0,r,t;n;){if(Microsoft.Crm.Client.Core.ViewModels.$Bp.isInstanceOfType(n))break;n=n.$2.$6F(n)}r=n.$F.HorizontalTabs;t={};t.uniqueid=i.get_$3LS();t.title=i.get_Text();r.openQuickviewForm(i.get_Data().LogicalName,t)},$GX:function(){this.$1G0=null;Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.prototype={individual:0,aggregated:1,global:2};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.registerEnum("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z",!1);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S.initializeBase(this,[n]);this.$Gr=t;this.$Uc=i;$0.$1(r)||(this.$NO=r)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S.prototype={$Gr:null,$NO:null,$Uc:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r.initializeBase(this,[n]);this.$HD=t;this.$m2=i;this.$6v=r;this.$1Vs=$0.$1(u)?!1:u};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r.prototype={$6v:null,$Kq:null,$HD:0,$m2:0,$1Vs:!1,get_FilterExpression:function(){return this.$6v},get_FilterExpressionByEntity:function(){return this.$Kq},set_FilterExpressionByEntity:function(n){return this.$Kq=n,n},get_FilterEventType:function(){return this.$m2},get_Filtertype:function(){return this.$HD},get_IsGlobalDateRangeFilter:function(){return this.$1Vs}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6=function(n){this.$h=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6.prototype={$h:null,get_SourceId:function(){return this.$h},set_SourceId:function(n){return this.$h=n,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j=function(n,t){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j.initializeBase(this,[n]);this.$Pk=t};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j.prototype={$Pk:null};Type.registerNamespace("Microsoft.Crm.Client.Core.ICViewModels");Microsoft.Crm.Client.Core.ICViewModels.$SU=function(){Microsoft.Crm.Client.Core.ICViewModels.$SU.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$SU.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$4j.$Ao=new Microsoft.Crm.Client.Core.ICViewModels.$SU};Microsoft.Crm.Client.Core.ICViewModels.$SU.prototype={$28r:function(n){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel(n):Microsoft.Crm.Client.Core.ViewModels.$RA.prototype.$28r.call(this,n)}};Microsoft.Crm.Client.Core.ICViewModels.$PB=function(){Microsoft.Crm.Client.Core.ICViewModels.$PB.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$PB.$$cctor=function(){Microsoft.Crm.Client.Core.Commands.$3n.$Ao=new Microsoft.Crm.Client.Core.ICViewModels.$PB};Microsoft.Crm.Client.Core.ICViewModels.$PB.prototype={$1mj:function(n,t,i,r,u){var s,v,h,y,c,l,a,w;if(Microsoft.Crm.Client.Core.ViewModels.$Bl.isInstanceOfType(r)){var e=null,f=null,o=null;if(o=r,s=o.$I0,s.get_Count())f=s.get_$I(0),e=Xrm.Internal.getEntityName(f.TypeCode);else return null;switch(n.ParameterType){case 18:case 19:case 20:case 21:return n.Value;case 14:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$Ju;case 15:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$Bu;case 16:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$Ab;case 1:return f.TypeCode;case 2:return Xrm.Internal.getEntityName(f.TypeCode);case 3:return[f.Id];case 4:return f.Id;case 7:return e?Xrm.Internal.getEntityCode(e):null;case 8:return e?e:null;case 11:case 22:return f?1:0;case 25:return 0;case 28:return 0;case 9:case 23:case 29:case 26:case 24:case 30:case 27:if(v=!0,(n.ParameterType===9||n.ParameterType===23||n.ParameterType===29||n.ParameterType===26)&&(v=!1),h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),y=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.EntityReference)),o&&(n.ParameterType===9||n.ParameterType===23||n.ParameterType===24)&&f)for(var b=s.toArray(),k=b.length,p=0;p<k;++p)c=b[p],h.add(c.Id),l=new Mscrm.EntityReference,l.Id=c.Id,l.TypeCode=c.TypeCode,y.add(l);return t===1?Microsoft.Crm.Client.Core.Commands.$3n.$28Y(h):v?y.toArray():h.toArray();case 10:return f?(a=new Mscrm.EntityReference,a.Id=f.Id,a.TypeCode=f.TypeCode,a):null;case 5:case 12:return o.$17K;case 6:case 13:return null;case 17:return Microsoft.Crm.Client.Core.ViewModels.$Bk.isInstanceOfType(u)?(w={},w.SourceControlId=u.$T.CommandId,w):null;case 0:default:return null}}else return Microsoft.Crm.Client.Core.Commands.$3n.prototype.$1mj.call(this,n,t,i,r,u)}};Microsoft.Crm.Client.Core.ICViewModels.$P7=function(){Microsoft.Crm.Client.Core.ICViewModels.$P7.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$P7.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$4D.$Ao=new Microsoft.Crm.Client.Core.ICViewModels.$P7};Microsoft.Crm.Client.Core.ICViewModels.$P7.prototype={$1Yr:function(n,t,i,r,u,f){if(!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||"shouldOpenQuickCreate"in i&&n!=="email")Microsoft.Crm.Client.Core.ViewModels.$4D.prototype.$1Yr.call(this,n,t,i,r,u,f);else{var e=new Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand(null,n,40,t);!$0.$1(i)&&"RefreshContext"in i&&Microsoft.Crm.Client.Core.ViewModels.$82.isInstanceOfType(i.RefreshContext)&&(i.RefreshContext.$jg=!0);e.$A1=i;e.$My=f;$0.$1(r)||(e.$P=r);$0.$1(u)||(e.$1M=u);e.execute();e.dispose()}},$2VM:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.isInstanceOfType(t)){var i=t;switch(n){case"saveandclose":i.$28m();break;default:i.$2jg()}}else Microsoft.Crm.Client.Core.ViewModels.$4D.prototype.$2VM.call(this,n,t)},$3Wj:function(n,t){(Microsoft.Crm.Client.Core.ViewModels.$82.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel.isInstanceOfType(n))&&(t.shouldOpenQuickCreate=!0)}};Microsoft.Crm.Client.Core.ICViewModels.$P9=function(){Microsoft.Crm.Client.Core.ICViewModels.$P9.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$P9.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$5q.$Ao=new Microsoft.Crm.Client.Core.ICViewModels.$P9};Microsoft.Crm.Client.Core.ICViewModels.$P9.prototype={$2KI:function(n,t,i,r,u,f){var e,o,s,h;if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.isInstanceOfType(r)){if(e=r,e.$7s===1)return o=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),e.$2jf(o),s=this,h=this,o.then(function(o){o?(e.$7s=0,Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1ms(n,t,i,r,u,f)):f.resolve(!1)},function(){f.resolve(!1)}),!1;if(e.$7s===2||!e.$7s)return!0}return Microsoft.Crm.Client.Core.ViewModels.$5q.prototype.$2KI.call(this,n,t,i,r,u,f)}};Microsoft.Crm.Client.Core.ICViewModels.$PC=function(){Microsoft.Crm.Client.Core.ICViewModels.$PC.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$PC.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$5t.$Ao=new Microsoft.Crm.Client.Core.ICViewModels.$PC};Microsoft.Crm.Client.Core.ICViewModels.$PC.prototype={$29W:function(n,t,i,r){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){var f=r,u=f.get_$AN();return new Microsoft.Crm.Client.Core.Storage.DataApi.$3O(n,t,i,u.$1tK(u.$1N1))}return Microsoft.Crm.Client.Core.ViewModels.$5t.prototype.$29W.call(this,n,t,i,r)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq=function(){this.$9z=new Microsoft.Crm.Client.Core.ViewModels.$80;this.$nX={};this.$12p={};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("InteractionCentricCommunicationCardViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq.prototype={$lf:null,$It:"",$K6:"",$K7:"",$RW:"",$RX:"",$oS:null,$KU:null,$KV:null,$2Bm:null,$NV:null,get_ActionProvider:function(){return this.$NV},set_ActionProvider:function(n){return this.$NV=n,n},$Pf:!1,get_SetActionable:function(){return this.$Pf},set_SetActionable:function(n){return this.$Pf=n,n},$qk:!1,get_Rerender:function(){return this.$qk},set_Rerender:function(n){return this.$qk=n,n},$v7:function(n,t,i,r){var u,f;return Xrm.Objects.EntityReference.isInstanceOfType(n.GetValue(i))?(f=n.GetValue(i),u=f.Name||t,this.$nX[r]=f.Id.toString(),this.$12p[r]=f.LogicalName):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(n.GetValue(i))?(u=n.GetValue(i).$1D,u=u||t):(u=n.GetValue(i),u=u||t),u},$17s:null,get_FieldNamesList:function(){return this.$17s},set_FieldNamesList:function(n){return this.$17s=n,n},$1Kp:null,get_AttributesToFetch:function(){return this.$1Kp},set_AttributesToFetch:function(n){return this.$1Kp=n,n},$7i:null,get_EntityName:function(){return this.$7i},set_EntityName:function(n){return this.$7i=n,n},$EA:null,get_RecordId:function(){return this.$EA},set_RecordId:function(n){return this.$EA=n,n},get_Text1:function(){return this.$It},set_Text1:function(n){return this.$It!==n&&(this.$It=n),n},get_Text2:function(){return this.$K6},set_Text2:function(n){return this.$K6!==n&&(this.$K6=n),n},get_Text3:function(){return this.$K7},set_Text3:function(n){return this.$K7!==n&&(this.$K7=n),n},get_Text4:function(){return this.$RW},set_Text4:function(n){return this.$RW!==n&&(this.$RW=n),n},get_Text5:function(){return this.$RX},set_Text5:function(n){return this.$RX!==n&&(this.$RX=n),n},get_EmailAddress:function(){return this.$lf},set_EmailAddress:function(n){return this.$lf!==n&&(this.$lf=n),n},get_PhoneNumber:function(){return this.$oS},set_PhoneNumber:function(n){return this.$oS!==n&&(this.$oS=n),n},IsLink:function(n){return $0.$1(this.$12p[n])?!1:!0},get_ImageViewModel:function(){return this.$9z},set_ImageViewModel:function(n){return this.$9z!==n&&($0.$1(this.$9z)||(this.$9z.dispose(),this.$9z=null),this.$9z=n),n},get_Button1ViewModel:function(){return this.$KU},set_Button1ViewModel:function(n){return this.$KU!==n&&($0.$1(this.$KU)||(this.$KU.dispose(),this.$KU=null),this.$KU=n),n},get_Button2ViewModel:function(){return this.$KV},set_Button2ViewModel:function(n){return this.$KV!==n&&($0.$1(this.$KV)||(this.$KV.dispose(),this.$KV=null),this.$KV=n),n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this),this.$Pf=!0,this.fetchData())},fetchData:function(){var n;try{if(!$0.$1(this.$NV)&&!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.$7i)&&!$0.$1(this.$EA)){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$7i),i=t.$4S,r="<fetch mapping='logical' version='1.0'><entity name='"+this.$7i+"'>"+this.$1Kp+"<filter><condition attribute='"+i+"' operator='eq' value='"+this.$EA.Id.toString()+"' /><\/filter><\/entity><\/fetch>";this.$1o=r;this.set_DefinitionId(this.get_ViewModelId());this.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(this.$1o);n=this.$NV.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)}}catch(u){this.$2Bm=u.stack.toString()}},$4e:function(n){for(var r,u,s,f,t=this.$17s,h=n.get_$Bt().$22N(),i,o=h,c=o.length,e=0;e<c;++e)if(r=o[e],Microsoft.Crm.Client.Core.Framework.$3.$1O(t[3])||(i=this.$v7(r,"",t[3],"Text1"),this.set_Text1(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$1O(t[4])||(i=this.$v7(r,"",t[4],"Text2"),this.set_Text2(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$1O(t[5])||(i=this.$v7(r,"",t[5],"Text3"),this.set_Text3(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$1O(t[6])||(i=this.$v7(r,"",t[6],"Text4"),this.set_Text4(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$1O(t[7])||(i=this.$v7(r,"",t[7],"Text5"),this.set_Text5(i.toString())),this.$9z.set_Data(Microsoft.Crm.Client.Core.Framework.$3.$1O(r.GetValue(t[0]))?"/_imgs/NavBar/EmptyUserImage.png":r.GetValue(t[0])),this.set_EmailAddress(r.GetValue(t[1])),u=t[2].split(","),u.length>1){for(f=0;f<u.length;f++)if(s=u[f],i=r.GetValue(s),i&&!Microsoft.Crm.Client.Core.Framework.$3.$1O(i.toString())){this.set_PhoneNumber(i.toString());break}}else this.set_PhoneNumber(r.GetValue(t[2]));this.$24h();this.$Pf&&(this.$Pf=!1);this.$8("DataChanged")},$24h:function(){var t=new Microsoft.Crm.Client.Core.ViewModels.$2A,h=this.$lf,f={},i,u,l,o,r,s;f.protocol="mailto:";f.target=h;f.CommandName="TileButton1";t.set_Parameters(f);t.$J8=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V();t.set_Command("UrlLauncherCommand");t.set_ImageType("Symbol");t.set_ImageName("NewEmail");Microsoft.Crm.Client.Core.Framework.$3.$1O(h)&&(t.$29.set_CanExecute(!1),t.set_Enabled(!1));this.set_Button1ViewModel(t);var n=new Microsoft.Crm.Client.Core.ViewModels.$2A,c=this.$oS,e={};e.target=c;e.CommandName="TileButton2";n.set_Parameters(e);n.$J8=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V();n.set_Command("SkypeUrlLauncherCommand");n.set_ImageType("Symbol");n.set_ImageName("NewPhoneCall");i=n.$29;Microsoft.Crm.Client.Core.Framework.$3.$1O(c)&&(n.$29.set_CanExecute(!1),n.set_Enabled(!1));$0.$1(this.$EA)||(u=this.$EA,l=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$SZ(u.get_$Eb(),u.get_$57(),this.$EA.Name),i.$16l=l,o=this.$2,Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(o)?(r=o.get_ModelContext(),s=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(r.get_ModelName()),$0.$1(r)||$0.$1(s)||(i.$In=r.get_Id(),i.$ok=r.GetValue(s.$5e),i.$ae=r.get_ModelName())):(i.$In=u.get_$57(),i.$ok=this.$EA.Name,i.$ae=u.get_$Eb()));this.set_Button2ViewModel(n)},navigateToRecord:function(n){if(this.IsLink(n)){var i=new Xrm.Objects.EntityReference(this.$12p[n].toString(),new Microsoft.Crm.Client.Core.Framework.Guid(this.$nX[n].toString())),r={EntityReference:i},t=new Microsoft.Crm.Client.Core.Commands.$33(null,40);try{t.$J=this.$12p[n].toString();t.$1B=r;t.execute()}finally{t.dispose()}}else return},$GX:function(){$0.$1(this.$KU)||(this.$KU.dispose(),this.set_Button1ViewModel(null));$0.$1(this.$KV)||(this.$KV.dispose(),this.set_Button2ViewModel(null));$0.$1(this.$9z)||(this.$9z.dispose(),this.set_ImageViewModel(null));this.$EA=null;this.$17s=null;this.$12p=null;this.$nX=null;Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$GX.call(this)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1c("RichEntityContentViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$3PI)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$3PI=function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.prototype={$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel);Microsoft.Crm.Client.Core.ViewModels.$9W.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9W",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C);Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel",Microsoft.Crm.Client.Core.ViewModels.$5M);Microsoft.Crm.Client.Core.ViewModels.$Cq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cq",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$UM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$UM",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$Uu.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Uu",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck);Microsoft.Crm.Client.Core.ViewModels.$D2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D2",Microsoft.Crm.Client.Core.ViewModels.$Uu);Microsoft.Crm.Client.Core.ViewModels.$D5.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D5",Microsoft.Crm.Client.Core.ViewModels.$Uk);Microsoft.Crm.Client.Core.ViewModels.$D3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D3",Microsoft.Crm.Client.Core.ViewModels.$D5);Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.$Lf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lf");Microsoft.Crm.Client.Core.ViewModels.$AN.registerClass("Microsoft.Crm.Client.Core.ViewModels.$AN",Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.$D4.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D4",Microsoft.Crm.Client.Core.ViewModels.$D5,Microsoft.Crm.Client.Core.ViewModels.$Hp);Microsoft.Crm.Client.Core.ViewModels.$Dc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dc",Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel,Microsoft.Crm.Client.Core.ViewModels.$Hp);Microsoft.Crm.Client.Core.ViewModels.$E1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E1",Microsoft.Crm.Client.Core.ViewModels.$7a);Microsoft.Crm.Client.Core.ViewModels.$E3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E3",Microsoft.Crm.Client.Core.ViewModels.$E1);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$E3);Microsoft.Crm.Client.Core.ViewModels.$Dd.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dd",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel",Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel);Microsoft.Crm.Client.Core.ViewModels.$7V.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7V",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel);Microsoft.Crm.Client.Core.ViewModels.$De.registerClass("Microsoft.Crm.Client.Core.ViewModels.$De",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.$Eh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Eh",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$Ei.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ei",Microsoft.Crm.Client.Core.ViewModels.$Uk,Microsoft.Crm.Client.Core.ViewModels.$Hp);Microsoft.Crm.Client.Core.ViewModels.$F7.registerClass("Microsoft.Crm.Client.Core.ViewModels.$F7",Microsoft.Crm.Client.Core.ViewModels.$Et,Microsoft.Crm.Client.Core.ViewModels.$Hp);Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel",Microsoft.Crm.Client.Core.ViewModels.$UM);Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel",Microsoft.Crm.Client.Core.ViewModels.$Uu);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel);Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$Ej.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ej",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$3Y,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Core.ViewModels.$83);Microsoft.Crm.Client.Core.ViewModels.$AT.registerClass("Microsoft.Crm.Client.Core.ViewModels.$AT",Microsoft.Crm.Client.Core.ViewModels.$Ej,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Core.ViewModels.$ED,Microsoft.Crm.Client.Core.ViewModels.$4x);Microsoft.Crm.Client.Core.ViewModels.$Dh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dh",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel,Microsoft.Crm.Client.Core.ViewModels.$7W,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Core.ViewModels.$92,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ac);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.$9C);Microsoft.Crm.Client.Core.ViewModels.$E6.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E6",Microsoft.Crm.Client.Core.ViewModels.$D5);Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel",Microsoft.Crm.Client.Core.ViewModels.$5M);Microsoft.Crm.Client.Core.ViewModels.$Li.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Li");Microsoft.Crm.Client.Core.ViewModels.$Ug.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ug",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$Ho);Microsoft.Crm.Client.Core.ViewModels.$6F.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6F");Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile");Microsoft.Crm.Client.Core.ViewModels.$Lk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lk");Microsoft.Crm.Client.Core.ViewModels.$95.registerClass("Microsoft.Crm.Client.Core.ViewModels.$95");Microsoft.Crm.Client.Core.ViewModels.$3P.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3P");Microsoft.Crm.Client.Core.ViewModels.$Uf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Uf",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$Ho);Microsoft.Crm.Client.Core.ViewModels.$2i.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2i",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$Ho);Microsoft.Crm.Client.Core.ViewModels.$82.registerClass("Microsoft.Crm.Client.Core.ViewModels.$82",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ft);Microsoft.Crm.Client.Core.ViewModels.$Ar.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ar",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$AN);Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel",Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel);Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$43);Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.$Bk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bk",Microsoft.Crm.Client.Core.ViewModels.$8k);Microsoft.Crm.Client.Core.ViewModels.$8N.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8N");Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper",Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper);Microsoft.Crm.Client.Core.ViewModels.$Bl.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bl",Microsoft.Crm.Client.Core.ViewModels.$8k,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Dt,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.$Ev.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ev",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel);Microsoft.Crm.Client.Core.ViewModels.$FR.registerClass("Microsoft.Crm.Client.Core.ViewModels.$FR",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$6E");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cu.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cu",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel",Microsoft.Crm.Client.Core.ViewModels.RootViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cr.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cr",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Df.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Df",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck);Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$BB",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6);Microsoft.Crm.Client.Core.ICViewModels.$SU.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$SU",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ICViewModels.$PB.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$PB",Microsoft.Crm.Client.Core.Commands.$3n);Microsoft.Crm.Client.Core.ICViewModels.$P7.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$P7",Microsoft.Crm.Client.Core.ViewModels.$4D);Microsoft.Crm.Client.Core.ICViewModels.$P9.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$P9",Microsoft.Crm.Client.Core.ViewModels.$5q);Microsoft.Crm.Client.Core.ICViewModels.$PC.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$PC",Microsoft.Crm.Client.Core.ViewModels.$5t);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$Hf);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel",Microsoft.Crm.Client.Core.ViewModels.$US);Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentsListRefreshPropertyName="AttachmentsRefresh";Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentPopupWindowWidth=584;Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentPopupWindowHeight=213;Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Eh.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Ei.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$F7.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$3P.$1HO=null;Microsoft.Crm.Client.Core.ViewModels.$3P.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$2i.$tc=null;Microsoft.Crm.Client.Core.ViewModels.$2i.$mx=0;Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1sN=!1;Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh=null;Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$SU.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$PB.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$P7.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$P9.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$PC.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.ICViewModels.js.srcmap
