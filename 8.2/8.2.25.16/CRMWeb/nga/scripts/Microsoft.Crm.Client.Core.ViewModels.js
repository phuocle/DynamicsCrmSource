Type.registerNamespace("Mscrm");Mscrm.EntityReference=function(){};Mscrm.CrmUri=function(n){if(IsNull(n)||!n.startsWith("/"),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Q.usepathbasedurls){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$LS;n="/"+t+n}this.$3Ih(n);this.$1SK=n};Mscrm.CrmUri.create=function(n){return new Mscrm.CrmUri(n)};Mscrm.CrmUri.prototype={$1SK:null,$1F:null,$1o:null,$1a1:null,$st:null,$1jd:!1,get_query:function(){return this.$1a1||(this.$1a1=this.$2fj(this.$1o)),this.$1a1},$3Ih:function(n){var u;this.$1F=n;this.$1o="";this.$st="";var i=this.$1F.indexOf("?"),t=this.$1F.indexOf("#"),r=-1;i!==-1&&(u=t>i?t:this.$1F.length,this.$1o=this.$1F.substr(i,u-i),r=i);t!==-1&&(this.$st=CrmEncodeDecode.CrmUrlDecode(this.$1F.substr(t+1)),(r===-1||t<r)&&(r=t),i>t&&(this.$1o=""));r!==-1&&(this.$1F=this.$1F.substr(0,r))},$2fj:function(n){var u={},t,r,i,f,e,o;if(!n||!n.length)return u;for(t=1;t<n.length;)r=n.indexOf("&",t),r===-1&&(r=n.length),i=n.indexOf("=",t),i>r&&(i=-1),i!==-1&&i<r?(f=n.substr(t,i-t),e=n.substr(i+1,r-i-1),u[CrmEncodeDecode.CrmUrlDecode(f)]=CrmEncodeDecode.CrmUrlDecode(e)):this.$1jd&&i===-1&&(o=n.substr(t,r-t),u[CrmEncodeDecode.CrmUrlDecode(o)]=null),t=r+1;return u},toString:function(){return this.$1jB(),this.$1SK},$1jB:function(){this.$3XH();var n=new Sys.StringBuilder;n.append(this.$1F);n.append(this.$1o);this.$st.length>0&&(n.append("#"),n.append(this.$st));this.$1SK=n.toString()},$3XH:function(){var r=this.get_query(),n=new Sys.StringBuilder,i=[],e=0,o=r,u,s,f,t;for(u in o)s={key:u,value:o[u]},i[e++]=s.key;for(i.sort(),f=!0,t=0;t<e;t++)f?(f=!1,n.append("?")):n.append("&"),n.append(CrmEncodeDecode.CrmUrlEncode(i[t])),this.$1jd&&IsNull(r[i[t]])||(n.append("="),n.append(CrmEncodeDecode.CrmUrlEncode(r[i[t]])));this.$1o=n.toString()}};Type.registerNamespace("Xrm");Xrm.KBSearchResult=function(){};Xrm.AlertDialogStrings=function(){};Xrm.ConfirmDialogStrings=function(){};Xrm.XrmEntityRelationship=function(){};Xrm.ChartPaneMode=function(){};Xrm.ChartPaneMode.prototype={collapsed:0,defaultMode:1,expanded:2,resizeMode:3,none:4};Xrm.ChartPaneMode.registerEnum("Xrm.ChartPaneMode",!1);Xrm.$2G=function(){};Xrm.$2G.prototype={active:1,finished:2,aborted:3};Xrm.$2G.registerEnum("Xrm.$2G",!1);Xrm.EntityRelationshipRoleType=function(){};Xrm.EntityRelationshipRoleType.prototype={none:-1,referencing:1,associationEntity:2};Xrm.EntityRelationshipRoleType.registerEnum("Xrm.EntityRelationshipRoleType",!1);Xrm.EntityRelationshipType=function(){};Xrm.EntityRelationshipType.prototype={none:-1,oneToMany:0,manyToMany:1};Xrm.EntityRelationshipType.registerEnum("Xrm.EntityRelationshipType",!1);Xrm.FormDataAttributePrivileges=function(){};Xrm.FormDataAttributePrivileges.prototype={none:0,create:1,read:2,update:4};Xrm.FormDataAttributePrivileges.registerEnum("Xrm.FormDataAttributePrivileges",!0);Xrm.FormType=function(){};Xrm.FormType.prototype={undefined:0,create:1,update:2,readOnly:3,disabled:4,quickCreate:5,bulkEdit:6,readOptimized:11,dialog:12};Xrm.FormType.registerEnum("Xrm.FormType",!1);Xrm.ProcessResponse=function(){};Xrm.ProcessResponse.prototype={success:0,invalid:1,unreachable:2,noPermission:3,deactivated:4,branch:5,stageGate:6,beginning:7,end:8,complete:9,crossEntity:10,dirtyForm:11};Xrm.ProcessResponse.registerEnum("Xrm.ProcessResponse",!1);Xrm.ProcessState=function(){};Xrm.ProcessState.prototype={complete:0,incomplete:1};Xrm.ProcessState.registerEnum("Xrm.ProcessState",!1);Xrm.ProcessStatus=function(){};Xrm.ProcessStatus.prototype={inactive:0,active:1};Xrm.ProcessStatus.registerEnum("Xrm.ProcessStatus",!1);Xrm.StepType=function(){};Xrm.StepType.prototype={field:0,action:1};Xrm.StepType.registerEnum("Xrm.StepType",!1);Xrm.FormDataAttributePrivilege=function(n){this.canCreate=!!(n&1);this.canRead=!!(n&2);this.canUpdate=!!(n&4)};Xrm.LookupOptions=function(){};Xrm.OptionSetItem=function(n,t){this.value=n;this.text=t};Xrm.SaveOptions=function(){this.useSchedulingEngine=!0};Xrm.XrmPanelUtilityWrapper=function(){Xrm.XrmPanelUtilityWrapper.initializeBase(this)};Xrm.XrmPanelUtilityWrapper.prototype={loadPanel:function(){throw Error.notImplemented("This is for use only in web client.");}};Xrm.XrmTimerControl=function(){Xrm.XrmTimerControl.initializeBase(this)};Xrm.NotificationLevels=function(){};Xrm.JavaScriptConsoleTraceListener=function(n){this.$21i=n};Xrm.JavaScriptConsoleTraceListener.initialize=function(n){var t,r,i;Xrm.JavaScriptConsoleTraceListener.$D||(t=window.console,t&&t.log&&t.error&&(r=!!t.warn,Xrm.JavaScriptConsoleTraceListener.$D=new Xrm.JavaScriptConsoleTraceListener(r)));try{i=document.cookie;Xrm.JavaScriptConsoleTraceListener.$D&&i&&i.indexOf("CrmEnableConsoleTrace=1")>=0&&n.addListener(Xrm.JavaScriptConsoleTraceListener.$D)}catch(u){}};Xrm.JavaScriptConsoleTraceListener.get_instance=function(){return Xrm.JavaScriptConsoleTraceListener.$D};Xrm.JavaScriptConsoleTraceListener.prototype={$21i:!1,log:function(n){for(var r,i=[],t=1;t<arguments.length;++t)i[t-1]=arguments[t];r=String.format.apply(null,[n].concat(i));console.log("%s",r)},warning:function(n){for(var i,r=[],t=1;t<arguments.length;++t)r[t-1]=arguments[t];i=String.format.apply(null,[n].concat(r));this.$21i?console.warn("%s",i):console.log("WARNING %s",i)},error:function(n){for(var r,i=[],t=1;t<arguments.length;++t)i[t-1]=arguments[t];r=String.format.apply(null,[n].concat(i));console.error("%s",r)}};Xrm.ScopedServiceDirectory=function(n){if(this.$p7=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object))),$0.$1(n))throw Error.argumentNull("parentDirectory");this.$1Gd=n};Xrm.ScopedServiceDirectory.prototype={$1Gd:null,$TP:null,$3w:!1,register:function(n,t){var i,r;if(this.$3w)throw Error.invalidOperation("Object Disposed");if($0.$1(t))throw Error.argumentNull("implementation");if(i=Xrm.XrmServiceDirectory.getKey(n),!$0.$1(this.$p7.get_$I(i))&&this.$p7.get_$I(i).contains(t)){r=String.format("Service {0} already has an implementation in this scope",i);throw Error.invalidOperation(r);}this.$1Gd.register(n,t);$0.$1(this.$p7.get_$I(i))?(this.$TP=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),this.$TP.add(t),this.$p7.set_$I(i,this.$TP)):(this.$TP=this.$p7.get_$I(i),this.$TP.add(t));Xrm.Internal.trace.logT(Xrm.ScopedServiceDirectory,"Registered implementation for service {1} of type {0}",Object.getType(t).getName(),i)},unregister:function(n,t){var i,r,u,f;if($0.$1(t))throw Error.argumentNull("implementation");if(i=Xrm.XrmServiceDirectory.getKey(n),r=this.$p7.get_$I(i),$0.$1(r)){u=String.format("Service {0} is not registered with this instance",i);throw Error.invalidOperation(u);}if(!r.contains(t)){f=String.format("This implementation is not registered for service {0}",i);throw Error.invalidOperation(f);}this.$1Gd.unregister(n,t);r.remove(t);r.get_Count()||this.$p7.$DR(i);Xrm.Internal.trace.logT(Xrm.ScopedServiceDirectory,"Unregistered implementation for service {1} of type {0}",Object.getType(t).getName(),i)},find:function(n){if(this.$3w)throw Error.invalidOperation("Object Disposed");return this.$1Gd.find(n)},dispose:function(){this.$3w=!0}};Xrm.StringBuilderTraceListener=function(n,t,i){if(!n)throw Error.argumentNull("log");if(!t)throw Error.argumentNull("warning");if(!i)throw Error.argumentNull("error");this.$1Fc=n;this.$1KW=t;this.$CA=i};Xrm.StringBuilderTraceListener.create=function(){var n=new Sys.StringBuilder,t=new Sys.StringBuilder,i=new Sys.StringBuilder;return new Xrm.StringBuilderTraceListener(n,t,i)};Xrm.StringBuilderTraceListener.prototype={$1Fc:null,$1KW:null,$CA:null,log:function(n){for(var r,i=[],t=1;t<arguments.length;++t)i[t-1]=arguments[t];r=String.format.apply(null,[n].concat(i));this.$1Fc.appendLine(r)},warning:function(n){for(var r,i=[],t=1;t<arguments.length;++t)i[t-1]=arguments[t];r=String.format.apply(null,[n].concat(i));this.$1KW.appendLine(r)},error:function(n){for(var r,i=[],t=1;t<arguments.length;++t)i[t-1]=arguments[t];r=String.format.apply(null,[n].concat(i));this.$CA.appendLine(r)},clear:function(){this.$1Fc.clear();this.$1KW.clear();this.$CA.clear()},get_logBuilder:function(){return this.$1Fc},get_warningBuilder:function(){return this.$1KW},get_errorBuilder:function(){return this.$CA}};Xrm.XrmSdkMessages=function(){};Xrm.XrmSdkMessages.prototype={$1JD:null,$s:"ClientAPI",get_$q:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()?this.$1JD||(this.$1JD=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$2O(n.context.getClientUrl(),Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D,new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$NX)):this.$1JD||(this.$1JD=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$2O(n.context.getClientUrl()))},addDynamicProperty:function(n,t){var i=new Xrm.Gen.AddDynamicPropertyRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},addItemCampaign:function(n,t,i){var r=new Xrm.Gen.AddItemCampaignRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},addItemCampaignActivity:function(n,t,i){var r=new Xrm.Gen.AddItemCampaignActivityRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},addItem:function(n,t,i){var r=new Xrm.Sdk.AddItemRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},addRecurrence:function(n,t){var i=new Xrm.Gen.AddRecurrenceRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},applyRecordCreationAndUpdateRule:function(n){var t=new Xrm.Gen.ApplyRecordCreationAndUpdateRuleRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},assign:function(n,t,i,r){var f=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),e=new Xrm.Objects.EntityReference(i,new Microsoft.Crm.Client.Core.Framework.Guid(r)),u=new Xrm.Gen.AssignRequest(f,e);return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},assignMultiple:function(n,t,i){for(var f,u=new Array(n.length),r=0;r<n.length;r++)u[r]=new Xrm.Gen.AssignRequest(new Xrm.Objects.EntityReference(n[r].LogicalName,n[r].Id),new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(i)));return f=new Xrm.Gen.ExecuteMultipleRequest(u,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$q().$2F(f)},assignAllRecords:function(n,t,i,r){var u=new Xrm.Gen.AssignAllRecordsTeamRequest(n,t,i,r);return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},associate:function(n,t,i){var u=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(t),r;return n.LogicalName===i[0].LogicalName&&(u.$Eg=0),r=new Xrm.Gen.AssociateRequest(n,u,i),this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},book:function(n){var t=new Xrm.Gen.BookRequest(n,!0,!0);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},calculateActualOpportunityValue:function(n){var t=new Xrm.Sdk.CalculateActualValueOpportunityRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},cancelSalesOrder:function(n,t){var i=new Xrm.Gen.CancelSalesOrderRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},cloneContract:function(n,t){var i=new Xrm.Gen.CloneContractRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},cloneProduct:function(n){var t=new Xrm.Gen.CloneProductRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},cloneMobileOfflineProfile:function(n){var t=new Xrm.Gen.CloneMobileOfflineProfileRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},createKnowledgeArticleVersion:function(n,t){var i=new Xrm.Gen.CreateKnowledgeArticleVersionRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},createKnowledgeArticleTranslation:function(n,t,i){var r=new Xrm.Gen.CreateKnowledgeArticleTranslationRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},publishKnowledgeArticle:function(n,t,i,r){var u=new Xrm.Gen.PublishKnowledgeArticleRequest(n,t,i,r);return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},closeIncident:function(n,t){var i=new Xrm.Gen.CloseIncidentRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},closeQuote:function(n,t){var i=new Xrm.Gen.CloseQuoteRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},convertActivity:function(n,t,i,r,u){var f=new Xrm.Gen.ConvertActivityRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t,i,r,u);return this.get_$q().$2F(f,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,f.name))},convertCampaignResponse:function(n,t,i,r,u,f){var e=new Xrm.Gen.ConvertCampaignResponseRequest(n,t,i,r,u,f);return this.get_$q().$2F(e,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,e.name))},convertProductToKit:function(n){var t=new Xrm.Gen.ConvertProductToKitRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},convertKitToProduct:function(n){var t=new Xrm.Gen.ConvertKitToProductRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},convertSalesOrderToInvoice:function(n,t){var i=new Xrm.Gen.ConvertSalesOrderToInvoiceRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},copyCampaign:function(n,t){var i=new Xrm.Gen.CopyCampaignRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},copyCampaignResponse:function(n){var t=new Xrm.Gen.CopyCampaignResponseRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},create:function(n){var t=new Xrm.Gen.CreateRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},createAndAssociate:function(n,t,i,r){var u=new Xrm.Gen.CreateAndAssociateRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t,i,r);return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},associateKnowledgeArticle:function(n,t,i,r){var u=new Xrm.Sdk.AssociateKnowledgeArticleRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t,i,new Microsoft.Crm.Client.Core.Framework.Guid(r));return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},disassociateKnowledgeArticle:function(n,t,i,r){var u=new Xrm.Sdk.DisassociateKnowledgeArticleRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t,i,new Microsoft.Crm.Client.Core.Framework.Guid(r));return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},createEntityFrom:function(n,t,i){var r=new Xrm.Gen.InitializeFromRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},createOrder:function(n,t){var i=new Xrm.Gen.ConvertQuoteToSalesOrderRequest(n,t);return i.processInstanceId=this.$1zV(),this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},createProducts:function(n,t){var i=new Xrm.Gen.CreateProductsRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},deleteEntity:function(n,t){var r=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),i=new Xrm.Gen.DeleteRequest(r);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},deleteEntityMultiple:function(n,t){for(var u,r=new Array(t.length),i=0;i<t.length;i++)r[i]=new Xrm.Gen.DeleteRequest(new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t[i])));return u=new Xrm.Gen.ExecuteMultipleRequest(r,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$q().$2F(u)},disassociate:function(n,t,i){var r=new Xrm.Gen.DisassociateRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},execute:function(n){return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},followEmailAttachment:function(n){var t=new Xrm.Gen.FollowEmailAttachmentRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},getTrackingTokenEmail:function(n){var t=new Xrm.Gen.GetTrackingTokenEmailRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},getDefaultPriceLevel:function(n,t){var i=new Xrm.Gen.GetDefaultPriceLevelRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},getInvoiceProductsFromOpportunity:function(n,t){var i=new Xrm.Gen.GetInvoiceProductsFromOpportunityRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),new Microsoft.Crm.Client.Core.Framework.Guid(t));return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},getValidStatusTransition:function(n,t){var i=new Xrm.Gen.GetValidStatusTransitionRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},canUserSendEmail:function(){var n=new Xrm.Gen.CanUserSendEmailRequest;return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},inviteUser:function(n){var t=new Xrm.Gen.InviteUserRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},isPartnerSolutionInstalled:function(n){var t=new Xrm.Gen.IsPartnerSolutionInstalledRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},lockInvoicePricing:function(n){var t=new Xrm.Gen.LockInvoicePricingRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},loseOpportunity:function(n,t){var i=new Xrm.Gen.LoseOpportunityRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},modifyAccess:function(n,t){var i=new Xrm.Sdk.ModifyAccessRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},executeQuickFind:function(n,t,i){var r=new Xrm.Sdk.ExecuteQuickFindRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},newDocument:function(n,t,i,r){var u=new Xrm.Gen.NewDocumentRequest(n,t,i,r);return u.fileName=n,u.regardingObjectId=t,u.regardingObjectTypeCode=i,u.locationId=r,this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},overrideDynamicProperty:function(n,t){var i=new Xrm.Gen.OverrideDynamicPropertyRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},overwriteDynamicProperty:function(n,t){var i=new Xrm.Gen.OverwriteDynamicPropertyRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},overrideDynamicProperties:function(n,t){for(var u,r=new Array(t.get_entities().length),i=0;i<t.get_entities().length;i++)"regardingobjectid"in t.get_entities()[i].fields&&n.Id.equals(t.get_entities()[i].fields.regardingobjectid.Id)?"statecode"in t.get_entities()[i].fields&&t.get_entities()[i].fields.statecode==="0"?(t.get_entities()[i].$4P.add("basedynamicpropertyid"),r[i]=new Xrm.Gen.CreateRequest(t.get_entities()[i])):r[i]=new Xrm.Gen.UpdateRequest(t.get_entities()[i]):(t.get_entities()[i].setValue("regardingobjectid",n),t.get_entities()[i].$4P.add("basedynamicpropertyid"),r[i]=new Xrm.Gen.CreateRequest(t.get_entities()[i]));return u=new Xrm.Gen.ExecuteMultipleRequest(r,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$q().$2F(u)},publishProductHierarchy:function(n){var t=new Xrm.Gen.PublishProductHierarchyRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},populateCard:function(n){var t=new Xrm.Gen.PopulateCardRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},qualifyLead:function(n,t,i,r,u,f,e,o,s){var c=this.$1zV(),h=new Xrm.Gen.QualifyLeadRequest(n,t,i,r,u,f,e,o,s,c);return this.get_$q().$2F(h,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,h.name))},removeDynamicProperty:function(n,t){var i=new Xrm.Gen.RemoveDynamicPropertyRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},renewContract:function(n,t,i){var r=new Xrm.Gen.RenewContractRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},renewEntitlement:function(n,t){var i=new Xrm.Gen.RenewEntitlementRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},reschedule:function(n){var t=new Xrm.Gen.RescheduleRequest(n,!0,!0);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},retrieve:function(n,t,i){var u=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),f=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(i),r=new Xrm.Gen.RetrieveRequest(u,f,null,!1);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},retrieveAttributeList:function(n){var t=new Xrm.Gen.RetrieveAttributeListRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},retrieveCardData:function(n,t){var i=new Xrm.Gen.RetrieveCardDataRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},shouldDisplaySLALimitNotification:function(n){var t=new Xrm.Gen.ShouldDisplaySLALimitNotificationRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},retrieveAncestors:function(n,t,i){var u=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),f=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(i),r=new Xrm.Sdk.RetrieveAncestorsRequest(u,f);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},retrieveProductProperties:function(n){var t=new Xrm.Gen.RetrieveProductPropertiesRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},deleteOpenInstances:function(n,t,i){var r=new Xrm.Gen.DeleteOpenInstancesRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},retrieveEntityDynamicPropertyDefinitions:function(n,t){var i=new Xrm.Gen.RetrieveEntityDynamicPropertyDefinitionsRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},retrieveFilteredProcesses:function(n){var t=new Xrm.Gen.RetrieveFilteredProcessesRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},revertProduct:function(n){var t=new Xrm.Gen.RevertProductRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},retrieveMultiple:function(n){var t=new Xrm.Gen.RetrieveMultipleRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},retrieveUnpublishedMultiple:function(n){var t=new Xrm.Gen.RetrieveUnpublishedMultipleRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},revokeAccess:function(n,t){var i=new Xrm.Gen.RevokeAccessRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},sendFax:function(n,t){var i=new Xrm.Gen.SendFaxRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},sendEmail:function(n,t){var i=new Xrm.Gen.SendEmailRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},cancelContract:function(n,t,i){var r=new Xrm.Gen.CancelContractRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},setState:function(n,t,i,r){var f=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),u=new Xrm.Gen.SetStateRequest(f,i,r,!0);return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},setStateMultiple:function(n,t,i){for(var f,u=new Array(n.length),r=0;r<n.length;r++)u[r]=new Xrm.Gen.SetStateRequest(new Xrm.Objects.EntityReference(n[r].LogicalName,n[r].Id),t,i,!0);return f=new Xrm.Gen.ExecuteMultipleRequest(u,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$q().$2F(f)},unlockInvoicePricing:function(n){var t=new Xrm.Gen.UnlockInvoicePricingRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},update:function(n,t){var i=new Xrm.Gen.UpdateRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},updateMultiple:function(n){for(var r,i=new Array(n.length),t=0;t<n.length;t++)i[t]=new Xrm.Gen.UpdateRequest(n[t]);return r=new Xrm.Gen.ExecuteMultipleRequest(i,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$q().$2F(r)},updateProductProperties:function(n){var t=new Xrm.Gen.UpdateProductPropertiesRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},whoAmI:function(){var n=new Xrm.Gen.WhoAmIRequest;return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},winOpportunity:function(n,t){var i=new Xrm.Gen.WinOpportunityRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},checkoutFiles:function(n){var t=new Xrm.Gen.CheckoutDocumentRequest(n);return t.entity=n,this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},checkInFiles:function(n,t,i){var r=new Xrm.Gen.CheckInDocumentRequest(n,t,i);return r.entity=n,r.checkInComments=t,r.retainCheckout=i,this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},deleteDocument:function(n){var t=new Xrm.Gen.DeleteDocumentRequest(n);return t.entities=n,this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},discardCheckoutFiles:function(n){var t=new Xrm.Gen.DiscardDocumentCheckoutRequest(n);return t.entity=n,this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},editDocumentProperties:function(n){var t=new Xrm.Gen.EditDocumentPropertiesRequest(n);return t.entity=n,this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},createFolder:function(n,t,i,r,u){var f=new Xrm.Gen.CreateFolderRequest(n,t,i);return f.siteType=r,f.validateFolder=u,this.get_$q().$2F(f,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,f.name))},retrievePersonalSiteUrl:function(){var n=new Xrm.Gen.RetrievePersonalSiteUrlRequest;return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},searchDocument:function(n,t,i){var r=new Xrm.Gen.SearchDocumentRequest(n,t,i);return r.regardingObjectType=n,r.regardingObjectId=t,r.documentId=i,this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},addOrEditLocation:function(n,t,i,r,u,f,e,o,s,h){var c=new Xrm.Gen.AddOrEditLocationRequest(n,t,i,r,u,f,e,o,s,h);return c.locationName=n,c.absUrl=t,c.regardingObjectId=i,c.relativePath=r,c.regardingObjType=u,c.parentType=f,c.parentId=e,c.isAddOrEditMode=o,c.isCreateFolder=s,c.documentId=h,this.get_$q().$2F(c,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,c.name))},fetchSiteUrl:function(n,t,i){var r=new Xrm.Gen.FetchSiteUrlRequest(n,t,i);return r.documentId=n,this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},createDocumentLibraries:function(n,t){var i=new Xrm.Gen.CreateDocumentLibrariesRequest(n,t);return i.documentLibraryNames=n,i.url=t,this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},updateDocumentManagementSettings:function(n,t,i,r,u){var f=new Xrm.Gen.UpdateDocumentManagementSettingsRequest(n,t,i,r,u);return f.siteCollection=n,f.folderStructureEntity=t,f.entityDocMgmtXml=i,f.validateStatus=r,f.validateStatusReason=u,this.get_$q().$2F(f,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,f.name))},validateUrl:function(n){var t=new Xrm.Gen.ValidateUrlRequest(n);return t.sharePointUrls=n,this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},migrateToS2S:function(n){var t=new Xrm.Gen.MigrateToS2SRequest(n);return t.siteUrl=n,this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},updateGlobalSharePointSettings:function(n,t,i){var r=new Xrm.Gen.UpdateGlobalSharePointSettingsRequest(n,t,i);return r.sharePointRealm=n,r.isSharePointOnline=t,r.useAuthorizationServer=i,this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},retrieveSharePointGlobalSettings:function(){var n=new Xrm.Gen.RetrieveSharePointGlobalSettingsRequest;return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},upgradeToS2S:function(){var n=new Xrm.Gen.UpgradeToS2SRequest;return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},retrieveSharedPrincipalsAndAccess:function(n){var t=new Xrm.Gen.RetrieveSharedPrincipalsAndAccessRequest(n);return t.target=n,this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},retrievePrincipalAccess:function(n,t){var i=new Xrm.Gen.RetrievePrincipalAccessRequest(n,t);return i.target=n,i.principal=t,this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},exportToExcelOnline:function(n,t,i,r,u){var f=new Xrm.Gen.ExportToExcelOnlineRequest(n,t,i,r,u);return f.view=n,f.fetchXml=t,f.layoutXml=i,f.queryApi=r,f.queryParameters=u,this.get_$q().$2F(f,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,f.name))},exportTemplateToExcelOnline:function(n,t,i,r){var u=new Xrm.Gen.ExportTemplateToExcelOnlineRequest(n,t,i,r);return u.template=n,u.fetchXml=t,u.queryApi=i,u.queryParameters=r,this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},exportTemplateToWord:function(n,t){var i=new Xrm.Gen.ExportTemplateToWordRequest(n,t);return i.entityTypeCode=n,i.selectedEntities=t,this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},exportWordDocument:function(n,t,i){var r=new Xrm.Gen.ExportWordDocumentRequest(n,t,i);return r.entityTypeCode=n,r.selectedTemplate=t,r.selectedRecords=i,this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},setWordTemplate:function(n,t){var i=new Xrm.Gen.SetWordTemplateRequest(n,t);return i.target=n,i.selectedTemplate=t,this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},retrieveDocumentTemplates:function(n,t){var i=new Xrm.Gen.RetrieveDocumentTemplatesRequest(n,t);return i.entityTypeCode=n,i.documentType=t,this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},renderTemplate:function(n,t,i,r){var u=new Xrm.Gen.RenderTemplateRequest(n,t,i,r);return u.template=n,u.fetchXml=t,u.queryApi=i,u.queryParameters=r,this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},renderTemplateFromView:function(n,t){var i=new Xrm.Gen.RenderTemplateFromViewRequest(n,t);return i.template=n,i.view=t,this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},exportToExcel:function(n,t,i,r,u){var f=new Xrm.Gen.ExportToExcelRequest(n,t,i,r,u);return f.view=n,f.fetchXml=t,f.layoutXml=i,f.queryApi=r,f.queryParameters=u,this.get_$q().$2F(f,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,f.name))},getActualDate:function(n){var t=new Xrm.Gen.GetActualDateRequest(n);return t.date=n,this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},fulfillSalesOrder:function(n,t){var i=new Xrm.Gen.FulfillSalesOrderRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},fullTextSearchKnowledgeArticle:function(n,t,i,r,u){var f=new Xrm.Gen.FullTextSearchKnowledgeArticleRequest(n,t,i,r,u);return this.get_$q().$2F(f,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,f.name))},incrementKnowledgeArticleViewCount:function(n,t,i,r){var u=new Xrm.Gen.IncrementKnowledgeArticleViewCountRequest(n,t,i,r);return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},retrieveKeyPhrasesForKnowledgeSearch:function(n){var t=new Xrm.Sdk.RetrieveKeyPhrasesForKnowledgeSearchRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},retrieveKeyPhrasesForSimilaritySearch:function(n){var t=new Xrm.Gen.RetrieveKeyPhrasesForSimilaritySearchRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},getQuantityDecimal:function(n,t,i){var r=new Xrm.Gen.GetQuantityDecimalRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},canCloseOpportunity:function(n,t,i){var r=new Xrm.Gen.CanCloseOpportunityRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},instantiateTemplate:function(n,t,i){var r=new Xrm.Gen.InstantiateTemplateRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},getSalesOrderProductsFromOpportunity:function(n,t){var i=new Xrm.Gen.GetSalesOrderProductsFromOpportunityRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},retrieveTenantInfo:function(){var n=new Xrm.Gen.RetrieveTenantInfoRequest;return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},toggleGuidedHelp:function(n){var t=new Xrm.Gen.ToggleGuidedHelpRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},generateInvoiceFromOpportunity:function(n,t){var i=new Xrm.Gen.GenerateInvoiceFromOpportunityRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},generateQuoteFromOpportunity:function(n,t){var i=new Xrm.Gen.GenerateQuoteFromOpportunityRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},generateSalesOrderFromOpportunity:function(n,t){var i=new Xrm.Gen.GenerateSalesOrderFromOpportunityRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},lockSalesOrderPricing:function(n){var t=new Xrm.Gen.LockSalesOrderPricingRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},unlockSalesOrderPricing:function(n){var t=new Xrm.Gen.UnlockSalesOrderPricingRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},reviseQuote:function(n,t){var i=new Xrm.Gen.ReviseQuoteRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},getProductsForQuote:function(n,t){var i=new Xrm.Gen.GetQuoteProductsFromOpportunityRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},setDevErrors:function(n,t,i){var r=new Xrm.Gen.SetDevErrorsRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},copyDynamicListToStatic:function(n){var t=new Xrm.Gen.CopyDynamicListToStaticRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},setBusinessEquipment:function(n,t){var i=new Xrm.Gen.SetBusinessEquipmentRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},setParentBusinessUnit:function(n,t){var i=new Xrm.Gen.SetParentBusinessUnitRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},pickFromQueue:function(n,t,i){var r=new Xrm.Gen.PickFromQueueRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},pickMultipleFromQueue:function(n,t,i){for(var f,u=new Array(n.length),r=0;r<n.length;r++)u[r]=new Xrm.Gen.PickFromQueueRequest(n[r].Id,t,i);return f=new Xrm.Gen.ExecuteMultipleRequest(u,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$q().$2F(f)},removeMultipleFromQueue:function(n){for(var r,i=new Array(n.length),t=0;t<n.length;t++)i[t]=new Xrm.Gen.RemoveFromQueueRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n[t]));return r=new Xrm.Gen.ExecuteMultipleRequest(i,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$q().$2F(r)},releaseMultipleToQueue:function(n){for(var r,i=new Array(n.length),t=0;t<n.length;t++)i[t]=new Xrm.Gen.ReleaseToQueueRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n[t]));return r=new Xrm.Gen.ExecuteMultipleRequest(i,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$q().$2F(r)},addMultipleToQueue:function(n,t,i,r){for(var e,f=new Array(n.length),u=0;u<n.length;u++)f[u]=new Xrm.Sdk.AddToQueueRequest(n[u],t,i,r);return e=new Xrm.Gen.ExecuteMultipleRequest(f,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$q().$2F(e)},executeWorkFlowMultiple:function(n,t,i){for(var f,u=new Array(n.length),r=0;r<n.length;r++)u[r]=new Xrm.Gen.ExecuteWorkflowRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n[r]),t,i);return f=new Xrm.Gen.ExecuteMultipleRequest(u,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$q().$2F(f)},routeTo:function(n,t){var i=new Xrm.Gen.RouteToRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},setParentTeam:function(n,t){var i=new Xrm.Gen.SetParentTeamRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},setBusinessSystemUser:function(n,t,i){var r=new Xrm.Gen.SetBusinessSystemUserRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},removeFromQueue:function(n){var t=new Xrm.Gen.RemoveFromQueueRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},releaseToQueue:function(n){var t=new Xrm.Gen.ReleaseToQueueRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},addToQueue:function(n,t,i,r){var u=new Xrm.Sdk.AddToQueueRequest(n,t,i,r);return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},bulkDeleteImportedRecords:function(n,t,i,r,u,f,e,o,s,h){var c=new Xrm.Gen.BulkDeleteImportedRecordsRequest(n,t,i,r,u,f,e,o,s,h);return this.get_$q().$2F(c,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,c.name))},flushMetadataCache:function(){var n=new Xrm.Gen.FlushMetadataCacheRequest;return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},executeWorkflow:function(n,t,i){var r=new Xrm.Gen.ExecuteWorkflowRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},retrieveDefaultStatusForState:function(n,t){var i=new Xrm.Gen.RetrieveDefaultStatusForStateRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},retrieveUserDefaultCurrency:function(){var n=new Xrm.Gen.RetrieveUserDefaultCurrencyRequest;return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},publishAllXml:function(){var n=new Xrm.Gen.PublishAllXmlRequest;return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},publishTheme:function(n){var t=new Xrm.Gen.PublishThemeRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},trackEmail:function(n,t){var i=new Xrm.Gen.TrackEmailRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},executeDataPerformanceAction:function(n,t){var i=new Xrm.Gen.ExecuteDataPerformanceActionRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},calculateTotalTimeIncident:function(n){var t=new Xrm.Gen.CalculateTotalTimeIncidentRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},publishXml:function(n){var t=new Xrm.Gen.PublishXmlRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},winQuote:function(n,t){var i=new Xrm.Gen.WinQuoteRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},winQuoteAndCreateOrder:function(n,t,i,r,u,f){var e=new Xrm.Gen.ConvertQuoteToSalesOrderRequest(n,t);return e.quoteCloseDate=i,e.quoteCloseStatus=r,e.quoteCloseSubject=u,e.quoteCloseDescription=f,e.processInstanceId=this.$1zV(),this.get_$q().$2F(e,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,e.name))},getEntitiesForAzureML:function(n){var t=new Xrm.Gen.GetEntitiesForAzureMLRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},getFieldListForAzureML:function(n,t){var i=new Xrm.Gen.GetFieldListForAzureMLRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},getRelationshipsForAzureML:function(n,t){var i=new Xrm.Gen.GetRelationshipsForAzureMLRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},populateRecommendationCache:function(n,t){var i=new Xrm.Gen.PopulateRecommendationCacheRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},populateRecommendationCacheForRecord:function(n){var t=new Xrm.Gen.PopulateRecommendationCacheForRecordRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},retrieveRecommendationsCount:function(n,t){var i=new Xrm.Gen.RetrieveRecommendationsCountRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},retrieveRecommendationLineItemMetadata:function(n){var t=new Xrm.Gen.RetrieveRecommendationLineItemMetadataRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},retrieveRecommendationLineItemProducts:function(n,t){var i=new Xrm.Gen.RetrieveRecommendationLineItemProductsRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},retrieveItemIdsForRecord:function(n){var t=new Xrm.Gen.RetrieveItemIdsForRecordRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},intersectRecordsWithQueueAndAggregate:function(n,t,i,r){var u=new Xrm.Gen.IntersectRecordsWithQueueAndAggregateRequest(n,t,i,r);return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},getDataForTopicWordCloud:function(n){var t=new Xrm.Gen.GetDataForTopicWordCloudRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},merge:function(n,t,i,r){var u=new Xrm.Gen.MergeRequest(n,t,i,r);return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},updateDelveActionStatus:function(n,t,i){var r=new Xrm.Gen.UpdateDelveActionStatusRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},createEmailReplyDraft:function(n,t){var i=new Xrm.Gen.CreateEmailReplyDraftRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},getSimilarRecords:function(n,t,i){var r=new Xrm.Gen.GetSimilarRecordsRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},$1zV:function(){if($0.$1(Xrm.Page.data)||$0.$1(Xrm.Page.data.process)||$0.$1(Xrm.Page.data.process.getActiveProcess())||Microsoft.Crm.Client.Core.Framework.$3.$1O(Xrm.Page.data.process.getActiveProcess().getInstanceId()))return null;var n=new Microsoft.Crm.Client.Core.Framework.Guid(Xrm.Page.data.process.getActiveProcess().getInstanceId());return new Xrm.Objects.EntityReference("businessprocessflowinstance",n)},copySharePointDocuments:function(n,t,i,r){var u=new Xrm.Gen.CopySharePointDocumentsRequest(n,t,i,r);return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},bestTimeToEmail:function(n){var t=new Xrm.Gen.BestTimeToEmailRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},setActionCardState:function(n,t,i){var r=new Xrm.Gen.SetActionCardStateRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},snoozeActionCard:function(n){var t=new Xrm.Gen.SnoozeActionCardRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},getRIProvisioningStatus:function(){var n=new Xrm.Gen.GetRIProvisioningStatusRequest;return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},getRITenantEndpointUrl:function(){var n=new Xrm.Gen.GetRITenantEndpointUrlRequest;return this.get_$q().$2F(n,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,n.name))},startRIProvisioning:function(n,t){var i=new Xrm.Gen.StartRIProvisioningRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},updateRITenantInfo:function(n,t){var i=new Xrm.Gen.UpdateRITenantInfoRequest(n,t);return this.get_$q().$2F(i,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,i.name))},unfollowEmailAttachment:function(n){var t=new Xrm.Gen.UnfollowEmailAttachmentRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))},getEmailTrackingPixelUrl:function(n,t,i){var r=new Xrm.Gen.GetEmailTrackingPixelUrlRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},setFeatureStatus:function(n,t,i){var r=new Xrm.Gen.SetFeatureStatusRequest(n,t,i);return this.get_$q().$2F(r,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,r.name))},getEmailLinkTrackingUrls:function(n,t,i,r){var u=new Xrm.Gen.GetEmailLinkTrackingUrlsRequest(n,t,i,r);return this.get_$q().$2F(u,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,u.name))},logExternalResultsClicked:function(n){var t=new Xrm.Gen.LogExternalResultsClickedRequest(n);return this.get_$q().$2F(t,Microsoft.Crm.Client.Core.Framework.$G.$b(this.$s,t.name))}};Xrm.XrmServiceDirectory=function(){this.$XJ=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)))};Xrm.XrmServiceDirectory.getKey=function(n){return n.getName()};Xrm.XrmServiceDirectory.prototype={$TP:null,$3w:!1,register:function(n,t){var i,r;if(this.$3w)throw Error.invalidOperation("Object Disposed");if($0.$1(t))throw Error.argumentNull("implementation");if(i=Xrm.XrmServiceDirectory.getKey(n),!$0.$1(this.$XJ.get_$I(i))&&this.$XJ.get_$I(i).contains(t)){r=String.format("Service {0} already has an implementation",i);throw Error.invalidOperation(r);}$0.$1(this.$XJ.get_$I(i))?(this.$TP=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),this.$TP.add(t),this.$XJ.set_$I(i,this.$TP)):(this.$TP=this.$XJ.get_$I(i),this.$TP.add(t));Xrm.Internal.trace.logT(Xrm.XrmServiceDirectory,"Registered implementation for service {1} of type {0}",Object.getType(t).getName(),i)},unregister:function(n,t){var i,r,u;if($0.$1(t))throw Error.argumentNull("implementation");if(i=Xrm.XrmServiceDirectory.getKey(n),this.$3w){Xrm.Internal.trace.logT(Xrm.XrmServiceDirectory,"Unregistering implementation for service {1} of type {0} after dispose",Object.getType(t).getName(),i);return}if(r=this.$XJ.get_$I(i),!r.contains(t)){u=String.format("This implementation is not registered for service {0}",i);throw Error.invalidOperation(u);}r.remove(t);r.get_Count()||this.$XJ.$DR(i);Xrm.Internal.trace.logT(Xrm.XrmServiceDirectory,"Unregistered implementation for service {1} of type {0}",Object.getType(t).getName(),i)},find:function(n){var r,t,i;if(this.$3w)throw Error.invalidOperation("Object Disposed");return(r=Xrm.XrmServiceDirectory.getKey(n),t=this.$XJ.get_$I(r),$0.$1(t))?null:(i=t.get_$I(t.get_Count()-1),$0.$1(i)?null:i)},dispose:function(){var t,n;if(!this.$3w){for(t=this.$XJ.get_$3B8(),n=0;n<t.length;n++)Xrm.Internal.trace.warningT(Xrm.XrmServiceDirectory,"Service {0} was not unregistered prior to disposal",t[n]),this.$XJ.$DR(t[n]);this.$3w=!0}}};Xrm.XrmTrace=function(){this.$Ji=new Array(0)};Xrm.XrmTrace.formatMessage=function(n,t){for(var u,f,r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];return u=String.format.apply(null,[t].concat(r)),f=String.format("{0}: {1}",n,u),f};Xrm.XrmTrace.checkInput=function(n,t){if(!n)throw Error.argumentNull("componentName");if(!t)throw Error.argumentNull("format");};Xrm.XrmTrace.prototype={addListener:function(n){if(!n)throw Error.argumentNull("listener");for(var t=0;t<this.$Ji.length;t++)if(this.$Ji[t]===n){this.logT(Xrm.XrmTrace,"listener {0} already exists",Object.getType(n).getName());return}this.$Ji[this.$Ji.length]=n;this.logT(Xrm.XrmTrace,"added listener {0}",Object.getType(n).getName())},log:function(n,t){for(var f,r,u=[],i=2;i<arguments.length;++i)u[i-2]=arguments[i];if(Xrm.XrmTrace.checkInput(n,t),this.$Ji.length)for(f=Xrm.XrmTrace.formatMessage.apply(null,[n,t].concat(u)),r=0;r<this.$Ji.length;r++)this.$Ji[r].log("{0}",f)},logT:function(n,t){for(var u,r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];if(!t)throw Error.argumentNull("format");this.$Ji.length&&(u=n.getName(),this.log.apply(this,[u,t].concat(r)))},warningT:function(n,t){for(var u,r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];if(!t)throw Error.argumentNull("format");this.$Ji.length&&(u=n.getName(),this.warning.apply(this,[u,t].concat(r)))},warning:function(n,t){for(var f,r,u=[],i=2;i<arguments.length;++i)u[i-2]=arguments[i];if(Xrm.XrmTrace.checkInput(n,t),this.$Ji.length)for(f=Xrm.XrmTrace.formatMessage.apply(null,[n,t].concat(u)),r=0;r<this.$Ji.length;r++)this.$Ji[r].warning("{0}",f)},errorT:function(n,t){for(var u,r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];if(!t)throw Error.argumentNull("format");this.$Ji.length&&(u=n.getName(),this.error.apply(this,[u,t].concat(r)))},error:function(n,t){for(var f,r,u=[],i=2;i<arguments.length;++i)u[i-2]=arguments[i];if(Xrm.XrmTrace.checkInput(n,t),this.$Ji.length)for(f=Xrm.XrmTrace.formatMessage.apply(null,[n,t].concat(u)),r=0;r<this.$Ji.length;r++)this.$Ji[r].error("{0}",f)}};Xrm.XrmEntityAttribute=function(){};Xrm.XrmEntityAttribute.prototype={controls:null,getControls:function(){return null}};Xrm.XrmEntityAttributeBoolean=function(){Xrm.XrmEntityAttributeBoolean.initializeBase(this)};Xrm.XrmEntityAttributeDateTime=function(){Xrm.XrmEntityAttributeDateTime.initializeBase(this)};Xrm.XrmEntityAttributeLookup=function(){Xrm.XrmEntityAttributeLookup.initializeBase(this)};Xrm.XrmEntityAttributeNumber=function(){Xrm.XrmEntityAttributeNumber.initializeBase(this)};Xrm.XrmEntityAttributeOptionSet=function(){Xrm.XrmEntityAttributeOptionSet.initializeBase(this)};Xrm.XrmEntityAttributeOptionSetBase=function(){Xrm.XrmEntityAttributeOptionSetBase.initializeBase(this)};Xrm.XrmEntityAttributeString=function(){Xrm.XrmEntityAttributeString.initializeBase(this)};Xrm.XrmBusinessProcessFlow=function(){};Xrm.OfflineErrorResponse=function(n,t,i){Xrm.OfflineErrorResponse.initializeBase(this,[n,t,i])};Xrm.XrmProcessStage=function(){};Xrm.XrmProcessStage.prototype={getKey:function(){return this.getName()}};Xrm.XrmProcessStep=function(){};Xrm.XrmProcessStep.prototype={getKey:function(){return this.getName()}};Xrm.XrmEntity=function(){this.relatedEntities=new Xrm.XrmRelatedEntities};Xrm.XrmEntity.prototype={attributes:null,getAttributes:function(){return this.attributes},getEntityReference:function(){var n=new Xrm.LookupObject;return n.entityType=this.getEntityName(),n.id=this.getId(),n.name=this.getPrimaryAttributeValue(),n},getKey:function(){return this.getId()},getRelatedEntities:function(){return this.relatedEntities}};Xrm.XrmProcessControlData=function(){};Xrm.$Mu=function(){};Xrm.Offline=function(){};Xrm.Offline.prototype={setInstance:function(n){Xrm.Offline.$D=n},isOfflineEnabled:function(n){return Xrm.Offline.$D.$TS(n)},retrieveRecord:function(n,t,i){return Xrm.Offline.$D.$3P1(n,t,i)},createRecord:function(n,t){return Xrm.Offline.$D.$EL(n,t)},updateRecord:function(n,t,i){return Xrm.Offline.$D.$bR(n,t,i)},deleteRecord:function(n,t){return Xrm.Offline.$D.$2nc(n,t)},retrieveMultipleRecords:function(n,t,i){return Xrm.Offline.$D.$3Ol(n,t,i)}};Xrm.FormNotificationOptions=function(){};Xrm.FormNotificationOptions.prototype={message:null,notificationLevel:null,uniqueId:null,priority:0,action:null,actionText:null,hideOnOffline:!1,onClickTelemetryName:null};Xrm.XrmTab=function(){Xrm.XrmTab.initializeBase(this)};Xrm.XrmTab.prototype={sections:null,getSections:function(){return this.sections}};Xrm.$PZ=function(){Xrm.$PZ.initializeBase(this)};Xrm.$Pa=function(){Xrm.$Pa.initializeBase(this)};Xrm.XrmTabSection=function(){Xrm.XrmTabSection.initializeBase(this)};Xrm.XrmTabSection.prototype={controls:null,getControls:function(){return this.controls}};Xrm.XrmControlACI=function(){Xrm.XrmControlACI.initializeBase(this)};Xrm.XrmChart=function(){};Xrm.XrmControl=function(){Xrm.XrmControl.initializeBase(this)};Xrm.XrmControl.prototype={$6D:function(){}};Xrm.XrmControlBase=function(){};Xrm.XrmControlBase.prototype={getKey:function(){return this.getName()}};Xrm.XrmControlButton=function(){Xrm.XrmControlButton.initializeBase(this)};Xrm.XrmControlDateTime=function(){Xrm.XrmControlDateTime.initializeBase(this)};Xrm.XrmControlFormSelector=function(){};Xrm.XrmControlFormSelector.prototype={items:null,getItems:function(){return this.items}};Xrm.XrmControlGrid=function(){};Xrm.XrmControlIFrame=function(){Xrm.XrmControlIFrame.initializeBase(this)};Xrm.XrmControlLookup=function(){Xrm.XrmControlLookup.initializeBase(this)};Xrm.XrmControlOptionSet=function(){Xrm.XrmControlOptionSet.initializeBase(this)};Xrm.XrmControlSearchWidget=function(){Xrm.XrmControlSearchWidget.initializeBase(this)};Xrm.XrmControlSilverlight=function(){Xrm.XrmControlSilverlight.initializeBase(this)};Xrm.XrmControlSubGrid=function(){Xrm.XrmControlSubGrid.initializeBase(this)};Xrm.XrmControlText=function(){Xrm.XrmControlText.initializeBase(this)};Xrm.XrmControlWebResource=function(){Xrm.XrmControlWebResource.initializeBase(this)};Xrm.XrmControlQuickForm=function(){Xrm.XrmControlQuickForm.initializeBase(this)};Xrm.XrmControlQuickForm.prototype={ui:null,data:null,getControl:function(n){return Mscrm.InternalUtilities.JSTypes.isNull(this.ui)?null:this.ui.controls.get(n)}};Xrm.XrmDataControl=function(){Xrm.XrmDataControl.initializeBase(this)};Xrm.XrmGridData=function(){};Xrm.XrmGridData.prototype={entity:null,getEntity:function(){return this.entity}};Xrm.XrmGridFilter=function(){};Xrm.XrmGridRow=function(){};Xrm.XrmGridRow.prototype={data:null,getData:function(){return this.data}};Xrm.XrmNavigation=function(){};Xrm.XrmNavigation.prototype={items:null};Xrm.XrmProcessControlUI=function(){};Xrm.XrmTaskProcess=function(){};Xrm.XrmViewSelector=function(){};Xrm.XrmFormData=function(){};Xrm.XrmFormData.prototype={entity:null,process:null,getEntity:function(){return this.entity},getProcess:function(){return this.process},getIsDirty:function(){var i;if(this.entity.getIsDirty())return!0;for(var t=this.entity.relatedEntities.getAll(),r=t.length,n=0;n<r;++n)if(i=t[n],i.getIsDirty())return!0;return!1}};Xrm.XrmFormUI=function(){this.dispose=this.$6D};Xrm.XrmFormUI.prototype={controls:null,formSelector:null,navigation:null,process:null,tabNavigators:null,tabNavigatorGroup:null,tabs:null,quickForms:null,taskProcess:null,getControls:function(){return this.controls},getTabs:function(){return this.tabs},getQuickForms:function(){return this.quickForms},$6D:function(){this.controls=null;this.tabs=null;this.process=null;this.formSelector=null;this.navigation=null}};Xrm.XrmDialog=function(){};Xrm.XrmInternal=function(){this.messages=Xrm.Internal.messages;this.trace=Xrm.Internal.trace};Xrm.XrmInternal.$2KJ=function(n){return IsNull(n.$6k)?"UnknownError":n.$6k.$6e.toString()};Xrm.XrmInternal.prototype={getServiceDirectory:function(){return Xrm.XrmInternal.$1xq},setServiceDirectory:function(n){Xrm.XrmInternal.$1xq=n},getAvailableClients:function(){return["Mobile","Outlook","Web","UnifiedServiceDesk"]},getAvailableFormFactors:function(){return[0,1,2,3]},getMaxSuggestionsCount:function(){var n=MscrmComponents.DeferredPromiseFactory(Number,String);return n.resolve(10),n.promise()},getUserLicensesUsed:function(){return this.$1qq("UserLicensesUsed")},getIsPaid:function(){return this.$1qq("IsPaid")},getOrgType:function(){return this.$1qq("OrgType")},$1qq:function(n){var t=MscrmComponents.DeferredPromiseFactory(String,String),i=this;return Xrm.Internal.messages.retrieveTenantInfo().done(function(i){var f=i.tenantInfo,o=f.indexOf(n),e=null,u,r;if(o>-1){for(u=f.split('"'),r=0;r<u.length;r++)if(u[r]===n){e=u[r+2];break}t.resolve(e)}}),t.promise()},getTenantProperties:function(){var n=MscrmComponents.DeferredPromiseFactory(String,String),t=this,i=this;return Xrm.Internal.messages.retrieveTenantInfo().then(function(t){var i=t.tenantInfo;n.resolve(i)},function(t){var i=Xrm.XrmInternal.$2KJ(t);n.reject(i)}),n.promise()},setGuidedHelpProperties:function(n){var t=MscrmComponents.DeferredPromiseFactory(String,String),i=this,r=this;return Xrm.Internal.messages.toggleGuidedHelp(n).then(function(){t.resolve("true")},function(n){var i=Xrm.XrmInternal.$2KJ(n);t.reject(i)}),t.promise()}};Xrm.XrmCollectionDictionary$1=function(){this.$30={};Xrm.XrmCollectionDictionary$1.$$(this.$$gta["Xrm.XrmCollectionDictionary$1"].T).initializeBase(this)};Xrm.XrmCollectionDictionary$1.$$=function(n){var t="XrmCollectionDictionary$1$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!Xrm[t]){r=Xrm[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Xrm.XrmCollectionDictionary$1"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Xrm.XrmCollectionDictionary$1.apply(this,i)};r.registerClass("Xrm."+t,Xrm.XrmCollectionBase$1.$$(n));u=Xrm.XrmCollectionDictionary$1.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return Xrm[t]};Xrm.XrmCollectionDictionary$1.prototype={dispose:function(){var t=this.$30,n,i;for(n in t)i={key:n,value:t[n]},delete this.$30[i.key]},forEach:function(n){var f=0,i=this.$30,t,r,u;for(t in i)r={key:t,value:i[t]},u=r.value,n(u,f++)},add:function(n,t){this.$30[n]=t},getFirst:function(n){var f=0,r=this.$30,t,u,i;for(t in r)if(u={key:t,value:r[t]},i=u.value,n(i,f++))return i;return this.$$gta["Xrm.XrmCollectionDictionary$1"].T===Number||Type.isEnum(this.$$gta["Xrm.XrmCollectionDictionary$1"].T)?0:this.$$gta["Xrm.XrmCollectionDictionary$1"].T===Boolean?!1:null},getLength:function(){var t=0,i=this.$30,n,r;for(n in i)r={key:n,value:i[n]},t++;return t},remove:function(n){var r=this.$30,t,i;for(t in r)if(i={key:t,value:r[t]},i.value===n){delete this.$30[i.key];return}},getAll:function(){var t=[],i=this.$30,n,r;for(n in i)r={key:n,value:i[n]},Array.add(t,r.value);return t},getByName:function(n){return this.$30[n]},getByIndex:function(n){var u=0,i=this.$30,t,r;for(t in i)if(r={key:t,value:i[t]},u++===n)return r.value;return this.$$gta["Xrm.XrmCollectionDictionary$1"].T===Number||Type.isEnum(this.$$gta["Xrm.XrmCollectionDictionary$1"].T)?0:this.$$gta["Xrm.XrmCollectionDictionary$1"].T===Boolean?!1:null},getByFilter:function(n){var e=0,r=[],u=this.$30,t,f,i;for(t in u)f={key:t,value:u[t]},i=f.value,n(i,e++)&&Array.add(r,i);return r}};Xrm.XrmControls=function(n){Xrm.XrmControls.initializeBase(this,[n])};Xrm.XrmEntityAttributes=function(n){Xrm.XrmEntityAttributes.initializeBase(this,[n])};Xrm.XrmEntities=function(n){Xrm.XrmEntities.initializeBase(this,[n])};Xrm.XrmFormSelectorItems=function(n){Xrm.XrmFormSelectorItems.initializeBase(this,[n])};Xrm.XrmGridRows=function(n){Xrm.XrmGridRows.initializeBase(this,[n])};Xrm.XrmNavigationItems=function(n){Xrm.XrmNavigationItems.initializeBase(this,[n])};Xrm.XrmRelatedEntities=function(){Xrm.XrmRelatedEntities.initializeBase(this)};Xrm.XrmTabs=function(n){Xrm.XrmTabs.initializeBase(this,[n])};Xrm.XrmTabNavigators=function(n){Xrm.XrmTabNavigators.initializeBase(this,[n])};Xrm.XrmTabSections=function(n){Xrm.XrmTabSections.initializeBase(this,[n])};Xrm.XrmQuickForms=function(n){Xrm.XrmQuickForms.initializeBase(this,[n])};Xrm.AttributeFormat=function(){};Xrm.AttributeType=function(){};Xrm.ClientName=function(){};Xrm.ClientState=function(){};Xrm.ClientStates=function(){};Xrm.ControlType=function(){};Xrm.FormSaveAction=function(){};Xrm.LookupStyle=function(){};Xrm.NotificationLevel=function(){};Xrm.RequiredLevel=function(){};Xrm.SubmitMode=function(){};Xrm.TabDisplayState=function(){};Xrm.MetricsStopwatch=function(){};Xrm.MetricsStopwatch.prototype={$Hl:null,get_properties:function(){return this.$Hl},set_properties:function(n){return this.$Hl=n,n}};Xrm.XrmFormSelectorItem=function(){};Xrm.XrmFormSelectorItem.prototype={getKey:function(){return this.getId()}};Xrm.XrmNavigationItem=function(){};Xrm.XrmNavigationItem.prototype={getKey:function(){return this.getId()}};Xrm.Dialog=function(){};Xrm.Dialog.setInstance=function(n){Xrm.Dialog.$D=n};Xrm.Dialog.openAlertDialog=function(n,t,i){Xrm.Dialog.$D.openAlertDialog(n,t,i)};Xrm.Dialog.openConfirmDialog=function(n,t,i,r){Xrm.Dialog.$D.openConfirmDialog(n,t,i,r)};Xrm.Dialog.openDialog=function(n,t,i,r,u){Xrm.Dialog.$D.openDialog(n,t,i,r,u)};Xrm.Internal=function(){};Xrm.Internal.$$cctor=function(){Xrm.JavaScriptConsoleTraceListener.initialize(Xrm.Internal.trace);Xrm.Internal.$14C=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object))};Xrm.Internal.get_$1Yp=function(){return Xrm.Internal.$14C||(Xrm.Internal.$14C=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object))),Xrm.Internal.$14C};Xrm.Internal.getServiceDirectory=function(){return Xrm.Internal.$D.getServiceDirectory()};Xrm.Internal.setServiceDirectory=function(n){Xrm.Internal.$D.setServiceDirectory(n)};Xrm.Internal.setInstance=function(n){Xrm.Internal.$D=n};Xrm.Internal.addOnXrmReady=function(n){Xrm.Internal.get_$1Yp().add(n)};Xrm.Internal.associateObjects=function(n,t,i,r,u,f,e,o){Xrm.Internal.$D.associateObjects(n,t,i,r,u,f,e,o)};Xrm.Internal.clearOnXrmReadyEventHandlers=function(){Xrm.Internal.$D.clearOnXrmReadyEventHandlers()};Xrm.Internal.executeOnXrmReadyEventHandlers=function(){Xrm.Internal.$D.executeOnXrmReadyEventHandlers()};Xrm.Internal.refreshRibbon=function(){Xrm.Internal.$D.refreshRibbon()};Xrm.Internal.executeRibbonCommand=function(n){Xrm.Internal.$D.executeRibbonCommand(n)};Xrm.Internal.openDialog=function(n,t,i,r,u){Xrm.Internal.$D.openDialog(n,t,i,r,u)};Xrm.Internal.isClaimsEnabled=function(){return Xrm.Internal.$D.isClaimsEnabled()};Xrm.Internal.isDialogLoaded=function(){return Xrm.Internal.$D.isDialogLoaded()};Xrm.Internal.formatDate=function(n){return Xrm.Internal.$D.formatDate(n)};Xrm.Internal.getResourceString=function(n,t){return Xrm.Internal.$D.getResourceString(n,t)};Xrm.Internal.isEnabledForInteractionCentric=function(){return Xrm.Internal.$D.isEnabledForInteractionCentric()};Xrm.Internal.setIsGridDialogContext=function(n){Xrm.Internal.$D.setIsGridDialogContext(n)};Xrm.Internal.getSelectedEntityRecords=function(){return Xrm.Internal.$D.getSelectedEntityRecords()};Xrm.Internal.savePreSelectedViewModelIds=function(){return Xrm.Internal.$D.savePreSelectedViewModelIds()};Xrm.Internal.clearSelectedViewModels=function(){Xrm.Internal.$D.clearSelectedViewModels()};Xrm.Internal.getStringKeyList=function(n,t){return Xrm.Internal.$D.getStringKeyList(n,t)};Xrm.Internal.getTenantProperties=function(){return Xrm.Internal.$D.getTenantProperties()};Xrm.Internal.getUserLicensesUsed=function(){return Xrm.Internal.$D.getUserLicensesUsed()};Xrm.Internal.getIsPaid=function(){return Xrm.Internal.$D.getIsPaid()};Xrm.Internal.getOrgType=function(){return Xrm.Internal.$D.getOrgType()};Xrm.Internal.setGuidedHelpProperties=function(n){return Xrm.Internal.$D.setGuidedHelpProperties(n)};Xrm.Internal.getAllowedStatusTransitions=function(n,t){return Xrm.Internal.$D.getAllowedStatusTransitions(n,t)};Xrm.Internal.getAvailableClients=function(){return Xrm.Internal.$D.getAvailableClients()};Xrm.Internal.getAvailableFormFactors=function(){return Xrm.Internal.$D.getAvailableFormFactors()};Xrm.Internal.getDisabledAttributes=function(n){return Xrm.Internal.$D.getDisabledAttributes(n)};Xrm.Internal.getEntityCode=function(n){return Xrm.Internal.$D.getEntityCode(n)};Xrm.Internal.getLocalStorageItem=function(n){return Xrm.Internal.$D.getLocalStorageItem(n)};Xrm.Internal.getLocatorServiceSetting=function(n){return Xrm.Internal.$D.getLocatorServiceSetting(n)};Xrm.Internal.getMaxSuggestionsCount=function(){return Xrm.Internal.$D.getMaxSuggestionsCount()};Xrm.Internal.removeLocalStorageItem=function(n){Xrm.Internal.$D.removeLocalStorageItem(n)};Xrm.Internal.getEntityName=function(n){return Xrm.Internal.$D.getEntityName(n)};Xrm.Internal.getEntityDisplayName=function(n){return Xrm.Internal.$D.getEntityDisplayName(n)};Xrm.Internal.getEntitySetName=function(n){return Xrm.Internal.$D.getEntitySetName(n)};Xrm.Internal.getEntityLocalizedSetName=function(n){return Xrm.Internal.$D.getEntityLocalizedSetName(n)};Xrm.Internal.getStateFromNumber=function(n,t){return Xrm.Internal.$D.getStateFromNumber(n,t)};Xrm.Internal.getUserLocation=function(){return Xrm.Internal.$D.getUserLocation()};Xrm.Internal.isDocumentManagementEnabledAccount=function(n){return Xrm.Internal.$D.isDocumentManagementEnabledAccount(n)};Xrm.Internal.isFeatureEnabled=function(n){return Xrm.Internal.$D.isFeatureEnabled(n)};Xrm.Internal.areFeaturesEnabled=function(n){return Xrm.Internal.$D.areFeaturesEnabled(n)};Xrm.Internal.isGuidedHelpEnabledForUser=function(){return Xrm.Internal.$D.isGuidedHelpEnabledForUser()};Xrm.Internal.isMaxNoOfReadOnlyUsersReached=function(){return Xrm.Internal.$D.isMaxNoOfReadOnlyUsersReached()};Xrm.Internal.isModalDialogSupported=function(){return Xrm.Internal.$D.isModalDialogSupported()};Xrm.Internal.isIosDevice=function(){return Xrm.Internal.$D.isIosDevice()};Xrm.Internal.isTurboForm=function(){return Xrm.Internal.$D.isTurboForm()};Xrm.Internal.getStatusOptionsFromStateCode=function(n,t){return Xrm.Internal.$D.getStatusOptionsFromStateCode(n,t)};Xrm.Internal.getStatusMetadataFromStateCode=function(n,t){return Xrm.Internal.$D.getStatusMetadataFromStateCode(n,t)};Xrm.Internal.getStateCodeFromStatusOption=function(n,t){return Xrm.Internal.$D.getStateCodeFromStatusOption(n,t)};Xrm.Internal.getPageNavigationInfo=function(){return Xrm.Internal.$D.getPageNavigationInfo()};Xrm.Internal.navigateToPage=function(n){Xrm.Internal.$D.navigateToPage(n)};Xrm.Internal.setPerfMarkerTimestamp=function(n){Xrm.Internal.$D.setPerfMarkerTimestamp(n)};Xrm.Internal.spOpenInNativeClient=function(n){Xrm.Internal.$D.spOpenInNativeClient(n)};Xrm.Internal.parseDate=function(n){return Xrm.Internal.$D.parseDate(n)};Xrm.Internal.raiseRecordsDeletedEvent=function(n){Xrm.Internal.$D.raiseRecordsDeletedEvent(n)};Xrm.Internal.refresh=function(){Xrm.Internal.$D.refresh()};Xrm.Internal.refreshParentGrid=function(n,t,i){Xrm.Internal.$D.refreshParentGrid(n,t,i)};Xrm.Internal.getErrorMessage=function(n){return Xrm.Internal.$D.getErrorMessage(n)};Xrm.Internal.reportToWatson=function(n,t,i,r,u,f,e){Xrm.Internal.$D.reportToWatson(n,t,i,r,u,f,e)};Xrm.Internal.openUrl=function(n,t){Xrm.Internal.$D.openUrl(n,t)};Xrm.Internal.lookupObjects=function(n,t,i){Xrm.Internal.$D.lookupObjects(n,t,i)};Xrm.Internal.openErrorDialog=function(n,t,i,r){Xrm.Internal.$D.openErrorDialog(n,t,i,r)};Xrm.Internal.doAction=function(n,t,i,r){Xrm.Internal.$D.doAction(n,t,i,r)};Xrm.Internal.setComposeAddress=function(n,t,i,r,u,f,e,o){Xrm.Internal.$D.setComposeAddress(n,t,i,r,u,f,e,o)};Xrm.Internal.setFormEntityName=function(n){Xrm.Internal.$D.setFormEntityName(n)};Xrm.Internal.refreshFormNav=function(){Xrm.Internal.$D.refreshFormNav()};Xrm.Internal.setFormActionableNotification=function(n){return Xrm.Internal.$D.setFormActionableNotification(n)};Xrm.Internal.setLocalStorageItem=function(n,t){Xrm.Internal.$D.setLocalStorageItem(n,t)};Xrm.Internal.generateDocumentTemplateFlyout=function(n,t,i,r){Xrm.Internal.$D.generateDocumentTemplateFlyout(n,t,i,r)};Xrm.Internal.generateWordTemplateFlyout=function(n,t,i,r,u){Xrm.Internal.$D.generateWordTemplateFlyout(n,t,i,r,u)};Xrm.Internal.getOrganizationSetting=function(n){return Xrm.Internal.$D.getOrganizationSetting(n)};Xrm.Internal.removeOnXrmReady=function(n){Xrm.Internal.get_$1Yp().remove(n)};Xrm.Internal.retrieveADUserProperties=function(n){return Xrm.Internal.$D.retrieveADUserProperties(n)};Xrm.Internal.canOverridePriceEngine=function(n){return Xrm.Internal.$D.canOverridePriceEngine(n)};Xrm.Internal.copyTextToClipboard=function(n){Xrm.Internal.$D.copyTextToClipboard(n)};Xrm.Internal.isFieldChangeIndicatorEnabled=function(){return Xrm.Internal.$D.isFieldChangeIndicatorEnabled()};Xrm.Internal.enableFieldChangeIndicator=function(){Xrm.Internal.$D.enableFieldChangeIndicator()};Xrm.Internal.disableFieldChangeIndicator=function(){Xrm.Internal.$D.disableFieldChangeIndicator()};Xrm.Internal.insertCustomScript=function(n){Xrm.Internal.$D.insertCustomScript(n)};Xrm.Internal.getPageContext=function(){return Xrm.Internal.$D.getPageContext()};Xrm.Internal.generateReportMenuXml=function(n,t,i,r,u){Xrm.Internal.$D.generateReportMenuXml(n,t,i,r,u)};Xrm.Internal.preventBrowseBack=function(){Xrm.Internal.$D.preventBrowseBack()};Xrm.Internal.goBack=function(){Xrm.Internal.$D.goBack()};Xrm.Internal.startMetricsStopwatch=function(n){return Xrm.Internal.$D.startMetricsStopwatch(n)};Xrm.Internal.progress=function(n,t,i,r){Xrm.Internal.$D.progress(n,t,i,r)};Xrm.Internal.canApproveOrPublishKnowledgeArticle=function(n){return Xrm.Internal.$D.canApproveOrPublishKnowledgeArticle(n)};Xrm.Internal.isKnowledgemanagementEnabled=function(n){return Xrm.Internal.$D.isKnowledgemanagementEnabled(n)};Xrm.Internal.relationshipAddOnChange=function(n,t,i){Xrm.Internal.$D.relationshipAddOnChange(n,t,i)};Xrm.Internal.isCurrentKMParature=function(){return Xrm.Internal.$D.isCurrentKMParature()};Xrm.Internal.getHomePageGridSelectedRecordIds=function(){return Xrm.Internal.$D.getHomePageGridSelectedRecordIds()};Xrm.Internal.postAppMessageBar=function(n,t,i,r,u,f){Xrm.Internal.$D.postAppMessageBar(n,t,i,r,u,f)};Xrm.Internal.getHomePageGridSelectedRecordsCount=function(){return Xrm.Internal.$D.getHomePageGridSelectedRecordsCount()};Xrm.Internal.filterLookupTypes=function(n,t,i){return Xrm.Internal.$D.filterLookupTypes(n,t,i)};Xrm.Internal.getLookupTypes=function(n){return Xrm.Internal.$D.getLookupTypes(n)};Xrm.Internal.recalculateRecord=function(){Xrm.Internal.$D.recalculateRecord()};Xrm.Internal.addMetric=function(n,t){Xrm.Internal.$D.addMetric(n,t)};Xrm.Page=function(){};Xrm.Page.getControl=function(n){return Mscrm.InternalUtilities.JSTypes.isNull(Xrm.Page.ui)?null:Xrm.Page.ui.controls.get(n)};Xrm.Page.getAttribute=function(n){return Mscrm.InternalUtilities.JSTypes.isNull(Xrm.Page.data)?null:Xrm.Page.data.entity.attributes.get(n)};Xrm.Mobile=function(){};Xrm.$81=function(){};Xrm.$81.getValidStatusTransition=function(n,t,i,r){var f=MscrmComponents.DeferredPromiseFactory(Number,Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x),u=1,o,s,e,h;if((i===1||i===2)&&(r===1||r===2))u=4,f.resolve(u);else{if(Xrm.Utility.areStateTransitionsEnforced("incident")){for(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c("incident","statuscode"),s=o.$5d.$2f[t.toString()].$Pq,e=0;e<s.length;e++)if(h=o.$5d.$2f[s[e].toString()],h.$16===r){u=3;break}u!==3&&f.resolve(u)}else u=3;Xrm.$81.$38o(new Microsoft.Crm.Client.Core.Framework.Guid(n),1).then(function(n){u=n?2:3;f.resolve(u)},function(){u=4;f.resolve(u)})}return f.promise()};Xrm.$81.$38o=function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x),r,f,e;if(Microsoft.Crm.Client.Core.Storage.Common.$1N.$Bs("incident")){var o=Microsoft.Crm.Client.Core.Framework.$3.$MN(' select  activitypointer0.VersionNumber as "versionnumber" , activitypointer0.ActivityId as "activityid" from Activitypointer as "activitypointer0" where ((activitypointer0.[RegardingObjectId!Id] = \'{0}\' COLLATE NOCASE and ((activitypointer0.StateCode = {1} or  activitypointer0.StateCode = {2})))) ',n,0,3),u=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(null);u.$Ep(2,o);r=new Microsoft.Crm.Client.Core.Storage.DataApi.$v(u,"activitypointer_ActivityId");r.$S="activitypointer";f=function(n){(t===2||t===1)&&($0.$1(n)?i.resolve(!1):i.resolve(n.get_count()>0))};e=function(){i.resolve(!1)};Xrm.Utility.retrieveEntityCollection(r,f,e)}return i.promise()};Xrm.$OH=function(n,t,i,r,u,f,e,o){var c;Xrm.$OH.initializeBase(this);this.$12=n;this.$1rx=t;this.$G=r;this.$1ya=e;this.$pL=new(Xrm.XrmCollection$1.$$(Xrm.XrmProcessStage));this.$1ry=i;this.$C0=f;for(var h=o.get_Items(),l=h.length,s=0;s<l;++s)c=h[s],this.$pL.add(c)};Xrm.$OH.prototype={$12:null,$1rx:null,$G:null,$1ya:!1,$C0:0,$1ry:null,$pL:null,getId:function(){return this.$12},getInstanceId:function(){return this.$1rx},getName:function(){return this.$G},isRendered:function(){return this.$1ya},getStages:function(){return this.$pL},getState:function(){return null},getStatus:function(){return Xrm.$2G.toString(this.$C0)},getInstanceName:function(){return this.$1ry}};Xrm.$OE=function(n,t,i,r,u,f){var s;Xrm.$OE.initializeBase(this);this.$12=n;this.$G=t;this.$3A=i;this.$55=r;this.$C0=Xrm.ProcessStatus.toString(u);this.$1dR=new(Xrm.XrmCollection$1.$$(Xrm.XrmProcessStep));for(var o=f.get_Items(),h=o.length,e=0;e<h;++e)s=o[e],this.$1dR.add(s)};Xrm.$OE.prototype={$12:null,$G:null,$55:null,$C0:null,$3A:null,$1dR:null,getId:function(){return this.$12},getName:function(){return this.$G},getEntityName:function(){return this.$55},getStatus:function(){return this.$C0},getCategory:function(){return this.$3A},getSteps:function(){return this.$1dR}};Xrm.$OD=function(n,t,i,r){Xrm.$OD.initializeBase(this);this.$G=n;this.$2K=Xrm.StepType.toString(i);this.$1yh=r;this.$4F=t};Xrm.$OD.prototype={$G:null,$2K:null,$1yh:!1,$4F:null,getName:function(){return this.$G},getAttribute:function(){return this.$4F},getStepType:function(){return this.$2K},isRequired:function(){return this.$1yh}};Xrm.XrmChartWrapper=function(n){Xrm.XrmChartWrapper.initializeBase(this);this.$22=n};Xrm.XrmChartWrapper.prototype={$22:null,getPaneMode:function(){var n=this.$22.$2.$6F(this.$22);return Microsoft.Crm.Client.Core.ViewModels.$Ad.isInstanceOfType(n)?2:4}};Xrm.XrmControlFormSelectorWrapper=function(){Xrm.XrmControlFormSelectorWrapper.initializeBase(this)};Xrm.XrmControlFormSelectorWrapper.prototype={$2E5:null,getCurrentItem:function(){return this.$2E5}};Xrm.XrmInternalWrapper=function(){this.$$d_$2pW=Function.createDelegate(this,this.$2pW);Xrm.XrmInternalWrapper.initializeBase(this)};Xrm.XrmInternalWrapper.get_$f=function(){return Microsoft.Crm.Client.Core.Framework.$G.$b("","Xrm.Internal")};Xrm.XrmInternalWrapper.get_$39t=function(){if($0.$1(Xrm.XrmInternalWrapper.$1dd)){var t=!1,r=new Microsoft.Crm.Client.Core.ViewModels.$QH,i=".",n=r.getServerDatabaseVersion().toString().split(i);n.length>=2&&(t=parseFloat(n[0]+i+n[1])>=parseFloat("7.1"));Xrm.XrmInternalWrapper.$1dd=t}return Xrm.XrmInternalWrapper.$1dd};Xrm.XrmInternalWrapper.displayError=function(n,t,i,r,u){var s;if(!Xrm.XrmInternalWrapper.$3Y3(i)){var e="",o="",f="";$0.$1(t)||(e=$0.$1(t.$Vg)?"window":t.$Vg,o=$0.$1(t.$1E3)?"web resource":Microsoft.Crm.Client.Core.Framework.$3r.toString(t.$1E3),f+=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_With_Field_Client_Side_Event_Field")+" "+e+"\n\n",f+=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_With_Field_Client_Side_Event_Event")+" "+o+"\n\n");$0.$1(r)||r===""||(f+=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_With_Field_Client_Side_Event_Method")+" "+r+"\n\n");$0.$1(i)||i===""||(f+=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_With_Field_Client_Side_Event_Source")+" "+i+"\n\n");s=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_With_Field_Client_Side_Event_Error")+" "+n+"\n\n";f+=s+u;Microsoft.Crm.Client.Core.ViewModels.$Z.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_With_Field_Client_Side_Event"),f,2);Microsoft.Crm.Client.Core.Framework.Trace.logError(1016,"Mscrm.Script Errors: "+f)}};Xrm.XrmInternalWrapper.$3Y3=function(n){for(var r,u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$up.toArray(),i=u,f=i.length,t=0;t<f;++t)if(r=i[t],r.toLowerCase()===n.toLowerCase())return!0;return!1};Xrm.XrmInternalWrapper.logVerbose=function(n){Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(166,n)};Xrm.XrmInternalWrapper.prototype={$1Vn:!1,$uV:null,addOnXrmReady:function(){},associateListObjects:function(){},postAppMessageBar:function(){},associateObjects:function(){},canOverridePriceEngine:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$Ek;switch(n){case"opportunity":return t.$2j0("0fe2f754-3531-4670-8a8d-b3d7eb49321e");case"invoice":case"invoicedetail":return t.$2j0("748f74bf-055c-4fd3-835f-a9ecb7449315");case"quote":case"quotedetail":return t.$2j0("45c781da-db3e-439b-9efe-d1b5484b832f");case"salesorder":case"salesorderdetail":return t.$2j0("0186f903-2b6a-4230-9838-0b64080a7568");default:return!1}},clearOnXrmReadyEventHandlers:function(){Xrm.Internal.$14C=null},copyTextToClipboard:function(){},isFieldChangeIndicatorEnabled:function(){return this.$1Vn},enableFieldChangeIndicator:function(){this.$1Vn=!0},disableFieldChangeIndicator:function(){this.$1Vn=!1},executeOnXrmReadyEventHandlers:function(){for(var n=0;n<Xrm.Internal.get_$1Yp().get_Count();n++)Xrm.Internal.get_$1Yp().get_$I(n).call()},isEnabledForInteractionCentric:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Uk},setIsGridDialogContext:function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Df=n},getSelectedEntityRecords:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),r,t,i,u;if(!$0.$1(n.$6J)&&!$0.$1(n.$6J.get_Items())){for(r=new Array(n.$6J.get_Items().length),t=0;t<n.$6J.get_Items().length;t++)i=n.$6J.get_Items()[t],$0.$1(i)||$0.$1(i.get_ModelContext())||(u=i.get_ModelContext(),r[t]=u.$M);return r}return null},refreshRibbon:function(){$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())||$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1AY())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p.forceRuleEvaluation()},savePreSelectedViewModelIds:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),t;if($0.$1(n.$6J))return!1;for(t=0;t<n.$6J.get_Count();t++)n.get_PreSelectedViewModelIds().add(n.$6J.get_$I(t).get_ModelContext().get_Id());return n.$6J.get_Count()>0},clearSelectedViewModels:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();n.clearSelectedViewModels()},executeRibbonCommand:function(n){try{if(!$0.$1(n)){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p;t.commandExecute(n)}}catch(i){this.trace.error("ExecuteRibbonCommand","Unhandled exception while executing Command {0}: {1}"+n,i)}},getAvailableClients:function(){return["Mobile"]},getAvailableFormFactors:function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?[1]:[3,2]},navigateToPage:function(n){var i,t;"Mobile"in n&&(i=n.Mobile,Microsoft.Crm.Client.Application.App.StartPage.get_onNativeBridgeAppLink()(i),t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T(),"callback"in n&&(this.$uV=n.callback,t.$tp?(this.$uV(),this.$uV=null):t.AddPropertyChangedListener("IsFullyLoaded",this.$$d_$2pW)))},$2pW:function(){$0.$1(this.$uV)||(this.$uV(),this.$uV=null)},preventBrowseBack:function(){},goBack:function(){if(this.isEnabledForInteractionCentric()){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();!$0.$1(n.$Gz)&&n.get_CanGoBack()&&n.$Gz.get_CanExecute()&&n.$Gz.execute()}},getEntityDisplayName:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?null:t.$1S},getUserLocation:function(){var n=MscrmComponents.DeferredPromiseFactory(Array,String),t={},i,r;return t.maximumAge=0,navigator.geolocation&&(i=this,r=this,navigator.geolocation.getCurrentPosition(function(t){var i=new Array(2);i[0]=t.coords.latitude;i[1]=t.coords.longitude;n.resolve(i)},function(t){n.reject(t.message)},t)),n.promise()},isDocumentManagementEnabledAccount:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?!1:t.$1Ej},isFeatureEnabled:function(n){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName(n)},areFeaturesEnabled:function(n){for(var u,t=!0,r=n,f=r.length,i=0;i<f;++i)if(u=r[i],t=t&&this.isFeatureEnabled(u),!t)return!1;return!0},isMaxNoOfReadOnlyUsersReached:function(){return!1},isModalDialogSupported:function(){return!1},isTurboForm:function(){return!1},isIosDevice:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()},getEntityName:function(n){var u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$Bq(n),t,i,r;if(!$0.$1(u))return u.$d;t=Xrm.XrmInternalWrapper.$1RB;for(i in t)if(r={key:i,value:t[i]},r.value===n)return r.key;return null},getDisabledAttributes:function(){return new Array(0)},getEntityCode:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?n in Xrm.XrmInternalWrapper.$1RB?Xrm.XrmInternalWrapper.$1RB[n]:-1:t.$7u},formatDate:function(n,t){var i=Xrm.DateTimeUtility.$m9(n,t);return $0.$1(i)&&Microsoft.Crm.Client.Core.ViewModels.$Z.$169("Error_Cannot_Get_Real_Date",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Cannot_Get_Real_Date"),2),i},getLocalStorageItem:function(){return null},getLocatorServiceSetting:function(n){switch(n){case"MaxChildIncidentNumber":return this.getMaxChildIncidentNumber();case"MaxIncidentMergeNumber":return this.getMaxIncidentMergeNumber();default:return null}},getResourceString:function(n){var i,t;if($0.$1(n))return null;if(i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6(n),i!==n)return i;if(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$15E)for(var u=Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$15E,f=u.length,r=0;r<f;++r)if(t=u[r],t.ResourceName===n){if(t.Type===2)return Microsoft.Crm.Client.Core.Framework.Common.$2.$6(t.ResourceValue);switch(t.ResourceName){case"ORG_TIMEZONE_OFFSET_STRING":return String.format('"{0}"',Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$Iv());default:return t.ResourceValue}}return n},openDialog:function(n,t,i,r,u){var f=new Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand;f.$1Qf=n;f.$6O=i;f.$G4=t.width;f.$IR=t.height;f.$fv=t.left;f.$Eo=t.top;f.$1rV=r;f.$1jL=u;f.execute();f.dispose()},isClaimsEnabled:function(){return!0},isDialogLoaded:function(){return Microsoft.Crm.Client.Core.Models.$6b.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$C8)&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$16===2},getErrorMessage:function(n){return $0.$1(n)?null:Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(n)},parseDate:function(n){return Xrm.DateTimeUtility.parseDate(n)},formatActivitiesSentOrOpenedAsReadableString:function(n,t,i,r,u,f){return Xrm.DateTimeUtility.formatActivitiesSentOrOpenedAsReadableString(n,t,i,r,u,f)},refresh:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();$0.$1(n)||n.$X6()},refreshParentGrid:function(){return},raiseRecordsDeletedEvent:function(){return},removeLocalStorageItem:function(){},removeOnXrmReady:function(){},reportToWatson:function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2Vg().$1E0(n,t,i)},openUrl:function(n,t){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$20?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$Ou(n):t.openInNewWindow&&window.open(n)},openErrorDialog:function(n,t,i,r){var v,f,e,u,o;if(Xrm.XrmInternalWrapper.get_$39t()){var h=Microsoft.Crm.Client.Core.Framework.Common.$2.$2IC(n),c=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Button_Label_DownloadLog"),l=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Button_Label_OK"),a=Microsoft.Crm.Client.Core.Framework.$4.$mC(n),s=Microsoft.Crm.Client.Core.Framework.Common.$2.$11Y(a);switch(n){case-2147088287:case-2147220891:s=t}v=this;Microsoft.Crm.Client.Core.ViewModels.$1V.$169(h,s,2,function(){var n=new Xrm.AlertDialogStrings;n.text=i;Xrm.Dialog.openAlertDialog(n,null,null)},null,c,l,null,r.$Pm,r.$CT)}else f="0x"+(n<0?4294967295+n+1:n).toString(16).toUpperCase(),e=Mscrm.CrmUri.create("/_common/error/dlg_error.aspx"),e.get_query().hresult=$0.$28(f)?"":f.toString(),u=new Xrm.DialogOptions,u.height=260,u.width=550,o={},o.errMessage=t,Xrm.Internal.openDialog(e.toString(),u,o,null,null)},getStatusOptionsFromStateCode:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Array,Object);if($0.$1(n)||$0.$1(t))return i.resolve(null),i.promise();var r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n,["statuscode"]),Xrm.XrmInternalWrapper.get_$f()).then(function(n){var r,u,e,o,f;if(n.get_$3ZH()===1)if(r=n.get_$I(0),$0.$1(r.get_$BS())||$0.$1(r.get_$BS().$2f))i.resolve(null);else{u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number));e=r.get_$BS().$2f;for(o in e)f={key:o,value:e[o]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(f.value)&&f.value.$16===t&&u.add(f.value.$1i);u.get_Count()>0?i.resolve(u.toArray()):i.resolve(null)}else i.resolve(null)},function(){i.resolve(null)}),i.promise()},getStatusMetadataFromStateCode:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Array,Object);if($0.$1(n)||$0.$1(t))return i.resolve(null),i.promise();var r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n,["statuscode"]),Xrm.XrmInternalWrapper.get_$f()).then(function(n){var r,u,e,o,f;if(n.get_$3ZH()===1)if(r=n.get_$I(0),$0.$1(r.get_$BS())||$0.$1(r.get_$BS().$2f))i.resolve(null);else{u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O));e=r.get_$BS().$2f;for(o in e)f={key:o,value:e[o]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(f.value)&&f.value.$16===t&&u.add(f.value);u.get_Count()>0?i.resolve(u.toArray()):i.resolve(null)}else i.resolve(null)},function(){i.resolve(null)}),i.promise()},getStateCodeFromStatusOption:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Number,Object);if($0.$1(n)||$0.$1(t))return i.resolve(-1),i.promise();var r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n,["statuscode"]),Xrm.XrmInternalWrapper.get_$f()).then(function(n){var r,f,e,u;if(n.get_$3ZH()===1)if(r=n.get_$I(0),$0.$1(r.get_$BS())||$0.$1(r.get_$BS().$2f))i.resolve(-1);else{f=r.get_$BS().$2f;for(e in f)u={key:e,value:f[e]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(u.value)&&u.value.$1i===t?i.resolve(u.value.$16):i.resolve(-1)}else i.resolve(-1)},function(){i.resolve(-1)}),i.promise()},progress:function(n,t,i,r){($0.$1(t)||t<0)&&(t=0);$0.$1(i)?i=100:t>i&&(t=i);($0.$1(r)||r<0)&&(r=0);r>i&&(r=i);r>t&&(r=t);var u=t!==i;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T().$1d0(u,Microsoft.Crm.Client.Core.Framework.$3.$9(n)?"":n)},doAction:function(){},insertCustomScript:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5();t.$1ZL.$2sE(n)},getPageContext:function(){return Microsoft.Crm.Client.Core.Framework.$1u.$c("Xrm")},generateReportMenuXml:function(){},getMaxIncidentMergeNumber:function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$1XV:0},getMaxChildIncidentNumber:function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$1XS:0},getMaxSuggestionsCount:function(){var n=MscrmComponents.DeferredPromiseFactory(Number,String),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(46,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25(),"recommendationmodel",1),null),i=this,r=this;return t.then(function(t){if(!$0.$28(t)&&t.get_$3ZH()>0&&!$0.$28(t.get_$I(0))){var i=t.get_$I(0).get_$5c();$0.$1(i)||$0.$1(i.MaxRecommendations)?n.resolve(10):n.resolve(i.MaxRecommendations)}else n.resolve(10)},function(){n.resolve(10)}),n.promise()},getPageNavigationInfo:function(){var t={},n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top(),i,r;return $0.$1(n)&&(n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T()),i=Microsoft.Crm.Client.Core.ViewModels.$1R.$2Eb(n,!1),Microsoft.Crm.Client.Core.Framework.$3.$9(i)||(t.Web=i),r=Microsoft.Crm.Client.Core.ViewModels.$1R.$2ES(n),Microsoft.Crm.Client.Core.Framework.$3.$9(r)||(t.Mobile="&"+r),t},generateDocumentTemplateFlyout:function(){},getOrganizationSetting:function(n){switch(n){case"delveUrl":return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$1lz;case"kmUseExternalPortal":return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$1Wk.toString();case"kmExternalPortalUrl":return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$1Wj;case"isParature":return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$12a.toString();default:return null}},generateWordTemplateFlyout:function(){},lookupObjects:function(){},setComposeAddress:function(){},startMetricsStopwatch:function(){return null},setFormEntityName:function(){},refreshFormNav:function(){},setFormActionableNotification:function(n){var t,e,o,i,s;if(!n)return!1;var r=Microsoft.Crm.Client.Core.Framework.$3.$9(n.notificationLevel)?null:n.notificationLevel.toUpperCase(),u=null,f=0;return r&&r in Xrm.XrmInternalWrapper.$1vB&&(f=Xrm.XrmInternalWrapper.$1vB[r]),n.actionText&&(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Function)),e=this,u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$HY))([new Microsoft.Crm.Client.Core.ViewModels.$ET(n.actionText,function(){for(var n=0;n<t.get_Count();n+=1)t.get_$I(n)()})]),n.action&&t.add(n.action),Microsoft.Crm.Client.Core.Framework.$3.$1O(n.onClickTelemetryName)||(o=this,t.add(function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj(n.onClickTelemetryName))}))),n.hideOnOffline&&(i=null,s=this,i=function(){Xrm.Page.ui.clearFormNotification(n.uniqueId);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",i)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",i)),Microsoft.Crm.Client.Core.ViewModels.$1K.$163(n.message,f,n.uniqueId,u,n.priority)},retrieveADUserProperties:function(){return null},setLocalStorageItem:function(){},setPerfMarkerTimestamp:function(){},spOpenInNativeClient:function(){},getStateFromNumber:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Object,Object);if($0.$1(n))return i.resolve(null),i.promise();var r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n,["statecode"]),Xrm.XrmInternalWrapper.get_$f()).then(function(n){var f=null,u,e,o,r;if(n.get_$3ZH()===1&&(u=n.get_$I(0),!$0.$1(u.get_$BS())&&!$0.$1(u.get_$BS().$2f))){f={};e=u.get_$BS().$2f;for(o in e)r={key:o,value:e[o]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(r.value)&&Array.contains(t,r.value.$1i)&&(f[r.value.$1i.toString()]=r.value.$1D)}i.resolve(f)},function(){i.resolve(null)}),i.promise()},isGuidedHelpEnabledForUser:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$12O},isKnowledgemanagementEnabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?!1:t.$1Vy},isCurrentKMParature:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$12a},getStringKeyList:function(n){for(var u,r,i={},t=0;t<n.length;t++){if($0.$1(n[t]))return null;if(i[n[t]]="",u=Microsoft.Crm.Client.Core.Framework.Common.$2.$6(n[t]),u!==n[t])i[n[t]]=u;else if(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$15E)for(var e=Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$15E,o=e.length,f=0;f<o;++f)if(r=e[f],r.ResourceName===n[t])if(r.Type===2)i[n[t]]=Microsoft.Crm.Client.Core.Framework.Common.$2.$6(r.ResourceValue);else switch(r.ResourceName){case"ORG_TIMEZONE_OFFSET_STRING":i[n[t]]=String.format('"{0}"',Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$Iv());break;default:i[n[t]]=r.ResourceValue}}return i},getEntitySetName:function(){return null},getEntityLocalizedSetName:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?null:t.$8O},getAllowedStatusTransitions:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Array,Array),r=null;if($0.$1(n)||$0.$1(t))return i.resolve(r),i.promise();var u=this,f=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n,["statuscode"]),Xrm.XrmInternalWrapper.get_$f()).then(function(n){var u,e,o,f;if(n.get_$3ZH()===1&&(u=n.get_$I(0),!$0.$1(u.get_$BS())&&!$0.$1(u.get_$BS().$2f))){e=u.get_$BS().$2f;for(o in e)if(f={key:o,value:e[o]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(f.value)&&f.value.$1i===t){r=f.value.$Pq;break}}i.resolve(r)},function(){i.resolve(r)}),i.promise()},canApproveOrPublishKnowledgeArticle:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$Ek;return n?t.$2j0("bdf910f7-0c80-4e7b-8ac2-12e75790319f"):t.$2j0("7c538e3d-8e82-4f73-922e-471472954c52")},relationshipAddOnChange:function(n,t,i){var r=n+":"+t;Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$19W(r,i)},getHomePageGridSelectedRecordIds:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),i,t,r;if(!$0.$1(n.$6J)&&!$0.$1(n.$6J.get_Items())){for(i=new Array(n.$6J.get_Items().length),t=0;t<n.$6J.get_Items().length;t++)r=n.$6J.get_Items()[t],i[t]=r.$5g;return i}return null},getHomePageGridSelectedRecordsCount:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();return!$0.$1(n.$6J)&&!$0.$1(n.$6J.get_Items())?n.$6J.get_Items().length:0},recalculateRecord:function(){},filterLookupTypes:function(){return!1},getLookupTypes:function(){return null},addMetric:function(){}};Xrm.XrmInternalWrapper.$3ba=function(){};Xrm.XrmInternalWrapper.$3ba.prototype={MaxRecommendations:0};Xrm.DateTimeUtility=function(){};Xrm.DateTimeUtility.$34Q=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$DB;return n.ShortDatePattern.toString().replace(new RegExp("/","g"),n.DateSeparator.toString())};Xrm.DateTimeUtility.$34R=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$DB;return n.ShortTimePattern.toString().replace(new RegExp(":","g"),n.TimeSeparator.toString())};Xrm.DateTimeUtility.fullWidthToHalfWidth=function(n){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(n))for(var t=0;t<Xrm.DateTimeUtility.$1ny.length;t++)n=n.replace(new RegExp(Xrm.DateTimeUtility.$1ny[t],"g"),Xrm.DateTimeUtility.$2KC[t]);return n};Xrm.DateTimeUtility.getShortDatePattern=function(n){return n.dateTimeFormat.ShortDatePattern};Xrm.DateTimeUtility.parseLocale=function(n,t,i){return t===Sys.CultureInfo.CurrentCulture?Date.parseLocale(n,i):Date._parse?Date._parse(n,t,[null,i]):null};Xrm.DateTimeUtility.parseDate=function(n){var r,o,f,s,e,h,c;if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))return null;var i=Xrm.DateTimeUtility.fullWidthToHalfWidth(n),u=Sys.CultureInfo.CurrentCulture,t=Xrm.DateTimeUtility.parseLocale(i,u,"d");return $0.$1(t)&&(r=Xrm.DateTimeUtility.getShortDatePattern(u),r.indexOf("g")>-1&&(o=r.replace(new RegExp("\\s*g+\\s*"),""),t=Xrm.DateTimeUtility.parseLocale(i,u,o)),f=new RegExp("y{4}"),$0.$1(t)&&f.test(r)&&(s=r.replace(f,"yy"),t=Xrm.DateTimeUtility.parseLocale(i,u,s)),e=null,$0.$1(t)&&!$0.$1(e)&&(h=new RegExp("^[0-9]"),c=new RegExp("[0-9]{4}"),h.test(i)&&c.test(i)&&(t=Xrm.DateTimeUtility.parseLocale(i,e,"d")))),t};Xrm.DateTimeUtility.$m9=function(n,t){var i,r,f,u,e;if($0.$1(n)||(i=n.localeFormat($0.$1(t)?Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern:t),$0.$1(i)||Microsoft.Crm.Client.Core.Framework.$3.$9(i)))return null;if(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$3Ad()&&(r=n.localeFormat("yyyy"),i.indexOf(r)>-1)){for(f=r.length-2,u=0;u<f&&r.charAt(u)==="0";)u++;u>0&&(e=r.substr(u),i=i.replace(r,e))}return i};Xrm.DateTimeUtility.getTimeInUserPrefTimeZone=function(n){var t=new Date(n.getTime());return t.setMinutes(n.getMinutes()+n.getTimezoneOffset()+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$K8+Microsoft.Crm.Client.Core.Framework.$m.$1TW(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$En())),t};Xrm.DateTimeUtility.formatActivitiesSentOrOpenedAsReadableString=function(n,t,i,r,u,f){var e=Xrm.DateTimeUtility.getTimeInUserPrefTimeZone(n),c=Xrm.DateTimeUtility.getTimeInUserPrefTimeZone(new Date),h=e.localeFormat(Xrm.DateTimeUtility.$34R()),a=e.localeFormat(Xrm.DateTimeUtility.$34Q()),l=(c-e)/1e3,o=Math.floor(l/3600),v=new Date(e.getTime()),y=new Date(c.getTime()),s=Xrm.DateTimeUtility.getDiffDays(v,y),p=c.getFullYear()-e.getFullYear();return l<3600?String.format(t):o>=1&&o<=4?o===1?String.format(i,o):String.format(r,o):s&&s!==1?s>=2&&s<=6?e.localeFormat("ddd")+" "+h:p?a:e.localeFormat("m")+" "+h:s?String.format(f,h):String.format(u,h)};Xrm.DateTimeUtility.getDiffDays=function(n,t){return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),Math.abs((n-t)/864e5)};Xrm.DateTimeUtility.getShortDateTimeFormat=function(n){var t=Xrm.DateTimeUtility.getTimeInUserPrefTimeZone(n),i=t.localeFormat(Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortTimePattern.toString()),r=t.localeFormat(Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern.toString());return String.format("{0} {1}",r,i)};Xrm.XrmControlGridWrapper=function(n){Xrm.XrmControlGridWrapper.initializeBase(this);this.$22=n};Xrm.XrmControlGridWrapper.prototype={$22:null,getFilter:function(){return new Xrm.$Ot(this.$22)},getTotalRecordCount:function(){return $0.$1(this.$22)?-1:this.$22.get_RecordCount()},getRows:function(){for(var i,r,t=new Xrm.XrmGridRows,n=0;n<this.$22.$2u.get_$Bt().get_Count();n++)i=this.$22.$2u.get_$Bt().get_$I(n),r=new Xrm.$Os(i,this.$22,!1),t.add(r);return t},getSelectedRows:function(){var i=new Xrm.XrmGridRows,t,n,f,e,r,u,o,s,h,c,l;if(!$0.$1(this.$22)&&Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$22)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents")))n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$tP(this.$22.$2,this.$22),$0.$1(n)||$0.$1(n.$3P)||$0.$1(n.$3P.$14)||$0.$1(n.$3P.$14.$DV)||$0.$1(n.$3P.$14.$DV.getSelectedRecord())||(f=n.$3P.$14.$DV.getSelectedRecord(),i.add(new Xrm.$Os(f.$1V,this.$22,!0)));else if(!$0.$1(this.$22)&&this.$22.$ts)for(e=this.getTotalRecordCount(),r=0;r<e;r++)u=this.$22.$1R.getItem(r),(s=this.tryGetValidRecordRow(u,o={val:t}),t=o.val,s)&&u.get_IsSelected()&&i.add(t);else h=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Ws(),(l=this.tryGetValidRecordRow(h,c={val:t}),t=c.val,l)&&i.add(t);return i},tryGetValidRecordRow:function(n,t){if(!$0.$1(n)&&this.$22.$1R.$1Aj(n)&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(n.get_ModelContext())){var i=n.get_ModelContext();return t.val=new Xrm.$Os(i,this.$22,!1),!0}return t.val=null,!1},addOnRecordSelect:function(){},removeOnRecordSelect:function(){},fireOnRecordSelect:function(){}};Xrm.$Cc=function(){this.context=new Microsoft.Crm.Client.Core.ViewModels.$QH;Xrm.$Cc.initializeBase(this)};Xrm.$Cc.prototype={data:null,$U0:null,ui:null,grid:null,getAttribute:function(n){if(!$0.$1(this.$U0)&&n in this.$U0){var t=this.$U0[n];return delete this.$U0[n],t}return this.data.entity.attributes.get(n)},getControl:function(n){return this.ui.controls.get(n)},$GX:function(){$0.$1(this.data)||this.data.$6D();$0.$1(this.ui)||this.ui.$6D();$0.$1(this.$U0)||(this.$U0=null);this.grid=null},blockAutoSave:function(){}};Xrm.XrmUtilityWrapper=function(){Xrm.XrmUtilityWrapper.initializeBase(this)};Xrm.XrmUtilityWrapper.$1wa=function(n,t,i,r,u,f,e){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(r.shouldOpenQuickCreate=!0),$0.$1(i))Xrm.XrmUtilityWrapper.$29c(n,r,u,f,e,t);else switch(i.$5h){case 0:Xrm.XrmUtilityWrapper.$3Hr(n,t,i,r,u,f,e);break;case 1:Xrm.XrmUtilityWrapper.$2jd(n,t,i,r,u,f,e)}};Xrm.XrmUtilityWrapper.$29G=function(n,t,i,r,u,f,e,o){var s=n.$6k;$0.$1(s)||s.$6e!==-2147217919&&s.$6e!==-2147220969?Xrm.XrmUtilityWrapper.$kI(n,e):Xrm.XrmUtilityWrapper.$1wa(t,i,r,u,f,e,o)};Xrm.XrmUtilityWrapper.$3Hr=function(n,t,i,r,u,f,e){$0.$1(i)||(r.RelationshipAttribute=[i.$CX]);Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(r.shouldOpenQuickCreate=!0);Xrm.XrmUtilityWrapper.openEntityFormInternal(n,null,r,function(r){var h=r.$CO.get_$57(),o={},s;o.parentReference=t;o.childReference=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(h));o.relationshipAttributeName=i.$CX;o.newRecordSelected=!0;s=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AssociateOneToMany",o);s.OnSuccess=function(){Xrm.XrmUtilityWrapper.$1da(e,u,r)};s.OnFailure=function(n){Xrm.XrmUtilityWrapper.$2bc(n,f)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,s)},function(n){Xrm.XrmUtilityWrapper.$kI(n,f)},t)};Xrm.XrmUtilityWrapper.$2jd=function(n,t,i,r,u,f,e){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(r.shouldOpenQuickCreate=!0);Xrm.XrmUtilityWrapper.openEntityFormInternal(n,null,r,function(r){var o=r.$CO.get_$57(),s=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(o));Xrm.XrmUtilityWrapper.$25n(t,s,i,function(){Xrm.XrmUtilityWrapper.$1da(e,u,r)},function(n){Xrm.XrmUtilityWrapper.$kI(n,f)})},function(n){Xrm.XrmUtilityWrapper.$kI(n,f)},t)};Xrm.XrmUtilityWrapper.$29c=function(n,t,i,r,u,f){Xrm.XrmUtilityWrapper.openEntityFormInternal(n,null,t,function(n){Xrm.XrmUtilityWrapper.$1da(u,i,n)},function(n){Xrm.XrmUtilityWrapper.$kI(n,r)},f)};Xrm.XrmUtilityWrapper.$1da=function(n,t,i){$0.$1(t)?$0.$1(n)||n.refresh():t(i)};Xrm.XrmUtilityWrapper.retrieveOptionSetMetadata=function(n,t,i,r){var f={},u;f.entityLogicalName=n;f.targetAttribute=t;u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveTargetEntityMetadata",f);u.OnSuccess=function(n){var t=n;i(t)};u.OnFailure=function(n){var t=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x(null,"",n.$E);r(t)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,u)};Xrm.XrmUtilityWrapper.$2ja=function(n,t,i,r,u){Xrm.XrmUtilityWrapper.retrieveOptionSetMetadata(n,"regardingobjectid",function(f){for(var e,s,y,a,o,p=f,v=0;v<p.get_Count();v++)if(p.get_$I(v).get_$1n()===t.LogicalName){i.regardingobjectid=t.get_identifier();i.regardingobjectidname=t.Name;i.regardingobjectidtarget=t.LogicalName;break}e=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();n==="phonecall"&&$0.$1(i.from)&&(i.from=Xrm.XrmUtilityWrapper.$SZ("systemuser",e.context.getUserId(),e.context.getUserName()));switch(t.LogicalName){case"incident":if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&!$0.$1(i.RefreshContext)&&(s=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$31w(i.RefreshContext),!$0.$1(s))){var h=s.name,c=s.id,l=s.type;switch(n){case"phonecall":case"email":i.to=Xrm.XrmUtilityWrapper.$SZ(l,c,h);break;case"appointment":i.requiredattendees=Xrm.XrmUtilityWrapper.$SZ(l,c,h);break;default:Xrm.XrmUtilityWrapper.$397(n)&&($0.$1(c)||$0.$1(h)||$0.$1(l)||(i.partyid=c,i.partyname=h,i.partytype=l))}}break;case"account":case"contact":case"lead":switch(n){case"phonecall":e.data&&(y=e.getAttribute("telephone1"),y&&$0.$1(i.phonenumber)&&(i.phonenumber=y.getValue()));i.to=Xrm.XrmUtilityWrapper.$SZ(t.LogicalName,t.get_identifier(),t.Name);break;case"appointment":i.requiredattendees=Xrm.XrmUtilityWrapper.$SZ(t.LogicalName,t.get_identifier(),t.Name);break;case"email":i.to=Xrm.XrmUtilityWrapper.$SZ(t.LogicalName,t.get_identifier(),t.Name)}break;case"opportunity":n==="phonecall"&&(a=e.getAttribute("parentcontactid"),o=a.getValue(),IsNull(o)&&(a=e.getAttribute("parentaccountid"),o=a.getValue()),IsNull(o)||(i.to=Xrm.XrmUtilityWrapper.$SZ(o[0].entityType,o[0].id,o[0].name)))}Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(i.shouldOpenQuickCreate=!0);Xrm.XrmUtilityWrapper.openEntityFormInternal(n,null,i,r,u,t)},function(n){Xrm.XrmUtilityWrapper.$kI(n,u)})};Xrm.XrmUtilityWrapper.$397=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?!1:t.get_$8p()&&t.$FG};Xrm.XrmUtilityWrapper.$2a9=function(n){if(!$0.$1(n.customerid)){var t=n.customeridtype;switch(t){case"account":n.parentaccountid=n.customerid;n.parentaccountidname=n.customeridname;n.parentaccountidtype=t;break;case"contact":n.parentcontactid=n.customerid;n.parentcontactidname=n.customeridname;n.parentcontactidtype=t}}};Xrm.XrmUtilityWrapper.$1iA=function(n){if($0.$1(n.ownerid)&&$0.$1(n.owneridname)&&$0.$1(n.owneridtype)){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();n.ownerid=t.context.getUserId();n.owneridname=t.context.getUserName();n.owneridtype="systemuser"}return n};Xrm.XrmUtilityWrapper.$SZ=function(n,t,i){var u=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t),i),f={partyid:u},e=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(e,f,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return r.$4P.add("partyid"),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([r],!1,1,!1)};Xrm.XrmUtilityWrapper.$kI=function(n,t){var r,u,i;$0.$1(t)?(r=n.$6k,$0.$1(r)||(u=r.$6e,i=n.get_message(),i.length||(i=Xrm.Internal.getErrorMessage(u)),Xrm.XrmUtilityWrapper.$1E0(u,i,n))):t(n)};Xrm.XrmUtilityWrapper.$2bc=function(n,t){if($0.$1(t)){var i=n.$z,r=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x.$1Ce(n);Xrm.XrmUtilityWrapper.$1E0(i,n.$E,r)}else t(Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x.$1Ce(n))};Xrm.XrmUtilityWrapper.$1E0=function(n,t,i){var e="0x"+(n<0?4294967295+n+1:n).toString(16).toUpperCase(),u,f,r,o,s;if(e.startsWith("0x8004E1"))switch(e){case"0x8004E108":case"0x8004E121":case"0x8004E117":case"0x8004E123":case"0x8004E122":case"0x8004E113":t=Xrm.Internal.getErrorMessage(n);break;default:t=Xrm.Internal.getErrorMessage(-2147163904)}u=Microsoft.Crm.Client.Core.Framework.Common.$2.$2IC(n);f=!1;$0.$1(i)||(r=i.$6k,$0.$1(r)||(o=r.$Pm,s=r.$CT,f=!0,Microsoft.Crm.Client.Core.ViewModels.$Z.$1d7(u,t,2,null,null,null,null,!1,o,s)));f||Microsoft.Crm.Client.Core.ViewModels.$Z.$169(u,t,2)};Xrm.XrmUtilityWrapper.$25n=function(n,t,i,r,u){var f,e;i.$ux===2&&(f=n,n=t,t=f);e=[t];Xrm.Internal.messages.associate(n,i.$G,e).then(r,u)};Xrm.XrmUtilityWrapper.$2aZ=function(n,t){var r,i;Xrm.Internal.disableFieldChangeIndicator();r={};r.entityId=n;i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateSyncErrorRecord",r);i.OnSuccess=t;i.OnFailure=function(n){var i=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x.$1Ce(n),t=n.$NM;$0.$1(t)||Object.getType(t)!==Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1s||(i.$6k=t)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,i)};Xrm.XrmUtilityWrapper.openEntityFormInternal=function(n,t,i,r,u,f){var o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n),s,h,e,c,l,a;return $0.$1(o)||!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&!o.$Oj||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&!o.$Du?(Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093995)),!0):(s=i,$0.$1(t)?(h=null,$0.$1(i)||(delete i.formid,h={InitializationParameters:i,InitializeFrom:2}),Microsoft.Crm.Client.Core.ViewModels.$4D.$Ao.$1Yr(n,h,s,r,u,f)):(e=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?new Microsoft.Crm.Client.Core.Commands.$33(null,40):new Microsoft.Crm.Client.Core.Commands.$33(null,2),e.$J=n,c={EntityReference:new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t))},e.$1B=c,e.$A1=s,l=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),{},{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),a=Microsoft.Crm.Client.Core.Models.$O.$B(l),e.$1V=a,e.execute(),e.dispose()),!0)};Xrm.XrmUtilityWrapper.$2m5=function(n,t,i,r,u,f){var e="quoteid";Xrm.Internal.messages.generateQuoteFromOpportunity(n.Id,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([e])).then(function(n){var t=n.entity,i;t.hasValue(e)&&(i=t.getValue(e).toString(),Xrm.Utility.openEntityForm("quote",i,null,null))},function(e){Xrm.XrmUtilityWrapper.$29G(e,"quote",n,i,t,r,u,f)})};Xrm.XrmUtilityWrapper.prototype={beginSecureSessionForResource:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Date,Xrm.BeginSecureSessionResponseCode),u;return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("AuthenticatedMashups")?(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$1WX()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V())?(u=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Di.beginSecureSessionForResource(n,t,i,function(n,t){n?r.reject(n):r.resolve(new Date(t))}),r.promise()):r.reject(5):r.reject(6)},create:function(n,t,i,r,u,f){var l,h,c,e,a,o,v,s,y,p,w,b;if(!$0.$1(n)){if(l=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),h=null,$0.$1(i)||(h=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelationshipReference(i.name,i.attributeName,i.ordinal,i.relationshipType)),n==="opportunityproduct"){if(c=l.getAttribute("pricelevelid"),!$0.$1(c)&&!c.getUserPrivilege().canRead){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC("",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.SFA.pricelevel.noread.aspx_155"));return}if($0.$1(c)||$0.$1(c.getValue())){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC("",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.SFA.quotes.edit.aspx_155"));return}}$0.$1(r)&&(r={});r=Xrm.XrmUtilityWrapper.$1iA(r);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()||n!=="opportunity"||Xrm.XrmUtilityWrapper.$2a9(r);e=null;$0.$1(u)||(a=this,e=function(n){return u(n)});o=null;$0.$1(f)||(v=this,o=function(n){var t=Microsoft.Crm.Client.Core.Framework.$4.$mC(n.$6k.$6e);f(new Xrm.SaveErrorResponse(t.$z,t.$E,t.$E))});s=l.grid;$0.$1(t)?Xrm.XrmUtilityWrapper.$29c(n,r,e,o,s,t):Xrm.Utility.isActivityType(n)?(y=this,p=this,Xrm.XrmUtilityWrapper.$2ja(n,t,r,function(n){Xrm.XrmUtilityWrapper.$1da(s,e,n)},function(n){Xrm.XrmUtilityWrapper.$kI(n,o)})):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?t.LogicalName==="opportunity"&&n==="quote"?Xrm.XrmUtilityWrapper.$2m5(t,r,h,e,o,s):(w=this,b=this,Xrm.Internal.messages.createEntityFrom(t,n,0).then(function(i){for(var u,c,v,f=i.entity,a=f.get_fieldNames(),y=a.length,l=0;l<y;++l){if(u=a[l],f.$1Z[u]===9||f.$1Z[u]===1||f.$1Z[u]===6){c=f.getValue(u);$0.$1(c)||(v=c.getObjectData(),$0.$1(v)||(r[u+"type"]=c.LogicalName,r[u]=c.get_identifier(),r[u+"name"]=c.Name,r[u+"createattribute"]=!0));continue}r[u]=f.getValue(u)}Xrm.XrmUtilityWrapper.$1wa(n,t,h,r,e,o,s)},function(i){Xrm.XrmUtilityWrapper.$29G(i,n,t,h,r,e,o,s)})):(i&&(r[i.attributeName+"type"]=t.LogicalName,r[i.attributeName]=t.get_identifier(),r[i.attributeName+"name"]=l.data.entity.getPrimaryAttributeValue(),r[i.attributeName+"createattribute"]=!0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()||n!=="opportunity"||Xrm.XrmUtilityWrapper.$2a9(r),Xrm.XrmUtilityWrapper.$1wa(n,t,h,r,e,o,s))}},openEntityForm:function(n,t,i,r){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k())if(!$0.$1(r)&&r.openInNewWindow){var u=this.$2tq(n,t);window.open(u,"_blank","height=750; width=700")}else $0.$1(i)&&(i={},i=Xrm.XrmUtilityWrapper.$1iA(i)),Xrm.XrmUtilityWrapper.openEntityFormInternal(n,t,i,null,null,null);else Xrm.XrmUtilityWrapper.openEntityFormInternal(n,t,i,null,null,null)},$2tq:function(n,t){var i,r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();return i=$0.$1(t)?"{0}/nga/engagementhub.aspx?org={1}&pagetype=create&etn={2}":"{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricform&etn={2}&id={3}",Microsoft.Crm.Client.Core.Framework.$3.$MN(i,r.context.getClientUrlForInteractioncentricDashboard(),r.context.getOrgUniqueName(),n,t)},openQuickCreate:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Xrm.SaveSuccessResponse,Xrm.SaveErrorResponse),u;if(Microsoft.Crm.Client.Core.Framework.$3.$9(n)||$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n)))return r.reject(new Xrm.SaveErrorResponse(-2147088112,Xrm.Internal.getErrorMessage(-2147088112),"OpenQuickCreate failed because an invalid entity name was passed")),r.promise();if(n==="activitypointer"||n==="resource")return u=String.format(Xrm.Internal.getErrorMessage(-2147088111),Xrm.Internal.getEntityDisplayName(n)),r.reject(new Xrm.SaveErrorResponse(-2147088111,u,"OpenQuickCreate failed because entity doesn't have a quick create form")),r.promise();var s=this,e=function(t){var i=new Xrm.LookupObject,u;i.entityType=n;i.id=t.$CO.get_$57();i.name=t.$CO.get_$9t();u=new Xrm.SaveSuccessResponse;u.savedEntityReference=i;r.resolve(u)},h=this,o=function(n){r.reject(n)},f=null;return $0.$1(t)||(f=new Xrm.Objects.EntityReference(t.entityType,Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.id))),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&($0.$1(i)&&(i={}),i.shouldOpenQuickCreate=!0),Xrm.Utility.create(n,f,null,i,e,o),r.promise()},openTaskFlow:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Object,Xrm.ErrorResponse),u;if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))return r.reject(new Xrm.ErrorResponse(-2146088111,Xrm.Internal.getErrorMessage(-2146088111),"OpenTaskFlow failed because an invalid task based flow name was passed")),r.promise();if($0.$1(t)||!t.length||(u=t.pop(),$0.$1(u)))return r.reject(new Xrm.ErrorResponse(-2146088111,Xrm.Internal.getErrorMessage(-2146088111),"Invalid entity context")),r.promise();var o=u.name,f=new Microsoft.Crm.Client.Core.Framework.Guid(u.id),e=new Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand(o,n,f,i,new Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel);return $0.$1(f)?e.$2R9():e.$1we(f),r.resolve({}),r.promise()},invokeProcessAction:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Xrm.ProcessActionSuccessResponse,Xrm.ErrorResponse),u,r,f,e;return Microsoft.Crm.Client.Core.Framework.$3.$9(n)?(i.reject(new Xrm.ErrorResponse(-2146088111,Xrm.Internal.getErrorMessage(-2146088111),"InvokeAction failed because an invalid action name was passed")),i.promise()):(IsNull(t)&&(t={}),u={ProcessActionName:n},r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveProcessActionRecord",u),r.QueryValue=u,f=this,r.OnSuccess=function(r){var s=r,u=s.metadata,e,h,o;IsNull(u)?(e=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessAction.ClientAPI.MetadataMissing"),h=new Xrm.ErrorResponse(500,e,e),i.reject(h)):(o={},"ReturnType"in u&&!IsNull(u.ReturnType)&&(o=s[u.ReturnType.Name.toString()].Parameters),f.$38k(n,u,t,o,i))},e=this,r.OnFailure=function(n){var t=new Xrm.ErrorResponse(n.$z,n.$E,n.$E);i.reject(t)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,r),i.promise())},$38k:function(n,t,i,r,u){var h=new Xrm.ProcessActionSuccessResponse,p=Xrm.Page.context.getClientUrl(),c=Xrm.Page.context.getVersion().split("."),o=p+"/api/data/v"+c[0]+"."+c[1]+"/",e="Target",l="IsBound",s,a,v,f,y;if("Parameters"in t&&!IsNull(t.Parameters)&&this.$2sj(i,t.Parameters),e in i&&!IsNull(i[e])&&(s=i[e],l in t&&t[l])){if(!("id"in s))throw Error.argumentNull(String.format("{0}.{1}",e,"id"));a=CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.Framework.Guid.removeBrackets(s.id.toString()));v=CrmEncodeDecode.CrmUrlEncode(t.PrimaryEntityLogicalCollectionName.toString());o+=String.format("{0}({1})/{2}.",v,a,"Microsoft.Dynamics.CRM");delete i[e]}o+=n;f=new XMLHttpRequest;f.open("POST",o,!0);f.setRequestHeader("content-type","application/json; charset=utf-8");f.setRequestHeader("cache-control","no-cache");y=this;f.onreadystatechange=function(){if(f.readyState===4)if(f.status===200||f.status===204)f.onreadystatechange=null,Microsoft.Crm.Client.Core.Framework.$3.$9(f.responseText)||(h.$1Z4=y.$2ss(JSON.parse(f.responseText),r)),u.resolve(h);else{var n=new Xrm.ErrorResponse(f.status,f.responseText,f.responseText);u.reject(n)}};f.send(JSON.stringify(i))},$2sj:function(n,t){var l=String.format("{0}.crmbaseentity","Microsoft.Dynamics.CRM"),o=t,f,i,s,r,e,u;for(f in o)if(i={key:f,value:o[f]},s=t[i.key].Type.toString(),s===l&&i.key.trim().toLowerCase()!=="target"&&i.key in n&&!IsNull(n[i.key])){if(r=n[i.key],e=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessAction_ClientAPI.EntityReferenceFieldMissing"),!("id"in r))throw Error.argumentNull(String.format(e,"Id",i.key));if(!("entityType"in r))throw Error.argumentNull(String.format(e,"Type",i.key));var a=Microsoft.Crm.Client.Core.Framework.Guid.removeBrackets(r.id.toString()),h=r.entityType,c=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(h.toString());$0.$1(c)||(u={},u[c.$4S]=a,u["@odata.type"]=String.format("{0}.{1}","Microsoft.Dynamics.CRM",h),n[i.key]=u)}},$2ss:function(n,t){var c=t,e,i,r,l,o,s,u,h,f;for(e in c)if(i={key:e,value:c[e]},r=i.value,"Type"in r&&!IsNull(r.Type)){l=r.Type.toString();switch(l){case"DateTime":i.key in n&&!IsNull(n[i.key])&&(n[i.key]=new Date(n[i.key].toString()));break;case"EntityReference":o=n;for(s in o)if(u={key:s,value:o[s]},u.key!=="@odata.context"&&(h=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$Qb(u.key),!$0.$1(h))){f={};f.entityType=h.$d;f.id=u.value;n=f;break}}}return n},isActivityType:function(n){if(n==="activitypointer")return!0;var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?!1:t.get_$8p()},openWebResource:function(n,t,i,r){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){if($0.$1(n))throw Error.create("webResourceName must not be null.");var u=String.format("resizable=1,status=1,scrollbars=1,width={0},height={1},left=0,top=0",i,r),f=this.$2uC(n,t);return window.open(f,"_blank",u)}return null},$2uC:function(n,t){var r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),i=String.format("{0}/WebResources/{1}",r.context.getClientUrl(),CrmEncodeDecode.CrmUrlEncode(n));return $0.$1(t)||(i=String.format("{0}?Data={1}",i,CrmEncodeDecode.CrmUrlEncode(t))),i},alertDialog:function(n,t){var i=null,r;$0.$1(t)||(r=this,i=function(){return t()});Microsoft.Crm.Client.Core.ViewModels.$Z.$169("",n,0,i)},confirmDialog:function(n,t,i){var r=null,u=null,f,e;$0.$1(t)||(f=this,r=function(){return t()});$0.$1(i)||(e=this,u=function(){return i()});Microsoft.Crm.Client.Core.ViewModels.$1V.$169("",n,0,r,u)},areStateTransitionsEnforced:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?!1:t.$1WU&&t.$1R1},isEntityOfflineSyncEnabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Je()?this.isAppOfflineSyncEnabled()&&n in Microsoft.Crm.Client.Core.Offline.$l.get_$6N().get_$7v().$LL&&!Microsoft.Crm.Client.Core.Offline.$l.get_$6N().$1En(n):!1;return t&&this.isActivityType(n)?"activitypointer"in Microsoft.Crm.Client.Core.Offline.$l.get_$6N().get_$7v().$LL:t},isEntityOfflineDisabled:function(n){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Je()?this.isAppOfflineSyncEnabled()&&Microsoft.Crm.Client.Core.Offline.$l.get_$6N().$1En(n):!1},isOfflineDataStoreAvailable:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$6V().get_$3H()},isMocaOfflineFeatureEnabled:function(){return!Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$TS()||!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Je()||$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$LA)?!1:Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$LA},isAppOfflineSyncEnabled:function(){return $0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Jp())?!1:Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().get_$IU()},isMocaOffline:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();return n.context.client.getClientState()!=="Online"&&n.context.client.getClient()==="Mobile"&&this.isMocaOfflineFeatureEnabled()},showHierarchyPage:function(){return},deleteRecord:function(n,t){var u=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x),f,i,r,e,o;return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()||Xrm.Utility.isEntityOfflineSyncEnabled(n)?(i={},i.entityName=n,i.entityId=t,r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("DeleteRecord",i),e=this,r.OnSuccess=function(n){var i=n,t=new Xrm.Sdk.Response;t.name=i.LogicalName;u.resolve(t)},o=this,r.OnFailure=function(n){var i=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x.$mC(n.$z),t=n.$NM;$0.$1(t)||Object.getType(t)!==Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1s||(i.$6k=t);u.reject(i)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,r)):(f=new Xrm.AlertDialogStrings,f.text=Xrm.Internal.getResourceString("Error_Message_Generic_Mobile_Client_Offline"),Xrm.Internal.progress("",100,100,0),Xrm.Dialog.openAlertDialog(f,null,null)),u.promise()},executeNonCudCommand:function(n,t,i,r,u){var f={},e,o,s;f["CommandName"]=n;f["EntityName"]=t;f["NonCudRequest"]=i;e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("NonCud",f);o=this;e.OnSuccess=function(n){var t=n;r(t)};s=this;e.OnFailure=function(n){var t=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x(null,"",n.$E);u(t)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,e)},retrieveEntityRecord:function(n,t,i,r){var f={},u,e,o;f["Identifier"]=n;f["ColumnSet"]=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(t);u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEntityRecord",f);e=this;u.OnSuccess=function(n){i(n)};o=this;u.OnFailure=function(n){var t=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x(null,"",n.$E);r(t)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,u)},retrieveEntityCollection:function(n,t,i){var u={},r,f,e;u["KeyQuery"]=n;r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEntityCollection",u);f=this;r.OnSuccess=function(n){t(n)};e=this;r.OnFailure=function(n){var t=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x(null,"",n.$E);i(t)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,r)},getCurrentPosition:function(){var n=MscrmComponents.DeferredPromiseFactory(Position,Object),t,i,r,u;return $0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u())||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u().get_$2MB()?n.reject(null):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u().get_$1m3()?(t={},t.code=0,t.message=Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(-2147094021),n.reject(t)):Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?(i=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u().$rS(function(){if(navigator.geolocation){var t={};t.maximumAge=0;navigator.geolocation.getCurrentPosition(function(t){n.resolve(t)},function(t){t.message=Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(-2147094020);n.reject(t)},t)}else n.reject(null)})):(r=this,u=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$SY.getCurrentPosition(function(t){var i=JSON.parse(t);n.resolve(i)},function(t){var i={};i.code=t;i.message=Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(-2147094020);n.reject(i)},"GeolocationCode",new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions)),n.promise()},getBarcodeValue:function(){var n=MscrmComponents.DeferredPromiseFactory(String,String),t;return $0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u())||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u().get_$1Eg()?n.reject(null):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u().get_$fY()?(t=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u().$rS(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$SY.scanBarcode(function(t){n.resolve(t)},function(t){t!==1?n.reject(Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(-2147094019)):n.reject(null)},"ScanBarCode",new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions)})):n.reject(Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(-2147094021)),n.promise()},getDefaultTransactionCurrency:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$tJ();return new Xrm.Objects.EntityReference("transactioncurrency",n.$9Y,n.$H4)},retrieveDefaultStatusForState:function(n,t){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(n,"statecode");return i.$5d.$2f[t.toString()].$e4},getEntityUrl:function(){return null},getValidStatusTransition:function(n,t,i,r,u){if(n!=="incident")throw Error.notImplemented();return Xrm.$81.getValidStatusTransition(t,i,r,u)},openDialog:function(n,t,i,r,u){Xrm.Internal.openDialog(n,t,i,r,u)},isOptimisticConcurrencyEnabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?!1:t.$tu},openRecord:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x),u,f,e;return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?("action"in i&&(i.action.toString()!=="update"||$0.$1(i._isSyncErrorRetryRequest)||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$pN=i._isSyncErrorRetryRequest.toString()),delete i.action),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(i.shouldOpenQuickCreate=!0),i=Xrm.XrmUtilityWrapper.$1iA(i),f=this,e=this,Xrm.XrmUtilityWrapper.openEntityFormInternal(n,t,i,function(){Xrm.XrmUtilityWrapper.$2aZ(i._isSyncErrorRetryRequest.toString(),function(){var t=new Xrm.Sdk.Response;t.name=n;r.resolve(t)})},function(n){r.reject(n)},null)):(u=new Xrm.AlertDialogStrings,u.text=Xrm.Internal.getResourceString("Error_Message_Generic_Mobile_Client_Offline"),Xrm.Dialog.openAlertDialog(u,null,null)),r.promise()},isVisibleInMobileClient:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?!1:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()&&t.$Oj},isDocumentRecommendationsEnabledForEntity:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?!1:t.$1Ek}};Xrm.XrmDialogWrapper=function(){Xrm.XrmDialogWrapper.initializeBase(this)};Xrm.XrmDialogWrapper.prototype={openAlertDialog:function(n,t,i){n=$0.$1(n)?new Xrm.AlertDialogStrings:n;var u=this,r=function(){i()};Microsoft.Crm.Client.Core.ViewModels.$Z.$169("",n.text,0,$0.$1(i)?null:r,n.confirmButtonLabel,null,null,!1)},openConfirmDialog:function(n,t,i,r){n=$0.$1(n)?new Xrm.ConfirmDialogStrings:n;var e=this,u=function(){i()},o=this,f=function(){r()};Microsoft.Crm.Client.Core.ViewModels.$1V.$169(n.title,n.text,0,$0.$1(i)?null:u,$0.$1(r)?null:f,n.confirmButtonLabel,n.cancelButtonLabel,n.subtitle)},openDialog:function(n,t,i,r,u){var o=this,e=function(n,t){r(n,t)},f=new Microsoft.Crm.Client.Core.Commands.OpenDialogCommand(n,t,i,$0.$1(r)?null:e,u);f.execute();f.dispose()}};Xrm.XrmViewSelectorWrapper=function(n){Xrm.XrmViewSelectorWrapper.initializeBase(this);this.$Zl=n};Xrm.XrmViewSelectorWrapper.prototype={$Zl:null,setCurrentView:function(n){$0.$1(n)||$0.$1(this.$Zl)||this.$Zl.set_DefinitionId(n.id)},getCurrentView:function(){var n=new Xrm.LookupObject;return $0.$1(this.$Zl)||(n.entityType=this.$Zl.$Aq===2?"userquery":"savedquery",n.id=this.$Zl.get_DefinitionId(),n.name=this.$Zl.$G),n},isVisible:function(){return $0.$1(this.$Zl)?!1:this.$Zl.$Sn}};Xrm.$Oq=function(n,t,i){Xrm.$Oq.initializeBase(this);this.$67=n;this.$22=t;this.entity=i&&Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(t)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))?new Microsoft.Crm.Client.Core.ViewModels.$RJ(this.$67,this.$22):new Xrm.$Ou(this.$67,this.$22)};Xrm.$Oq.prototype={$67:null,$22:null};Xrm.$Or=function(n,t,i){Xrm.$Or.initializeBase(this);this.$67=n;this.$66=t;this.$CX=i};Xrm.$Or.prototype={$66:null,$67:null,$CX:null,getName:function(){return this.$CX},getParent:function(){return $0.$1(this.$66)?null:this.$66},getValue:function(){return this.$67.GetValue(this.$CX)},getKey:function(){return this.$CX},addOnChange:function(){},fireOnChange:function(){},getAttributeType:function(){return null},getFormat:function(){return null},getIsDirty:function(){return!1},getIsValid:function(){return!1},getRequiredLevel:function(){return null},getSubmitMode:function(){return null},getUserPrivilege:function(){return null},removeOnChange:function(){},resetInitialValue:function(){},setRequiredLevel:function(){},setSubmitMode:function(){},setValue:function(){}};Xrm.$Ou=function(n,t){var i,r,e,u,s;if(Xrm.$Ou.initializeBase(this),this.$67=n,this.$22=t,this.attributes=new Xrm.XrmEntityAttributes,Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(t)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents")))for(i=this.$22,r=0;r<i.$EE.length;r++)e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(i.$J,i.$EE[r].name),$0.$1(e)||this.attributes.add(new Xrm.$Or(this.$67,this,i.$EE[r].name));else if(u=this.$22.$pz_5,u)for(var o=u,h=o.length,f=0;f<h;++f)s=o[f],this.attributes.add(new Xrm.$Or(this.$67,this,s))};Xrm.$Ou.prototype={$67:null,$22:null,getEntityName:function(){return $0.$1(this.$67)?"":this.$67.$M.$N.TypeDisplayName},getId:function(){return $0.$1(this.$67)?"":Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(this.$67.$M.$N.Id.toString())},getPrimaryAttributeValue:function(){if(!$0.$1(this.$67)){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$67.$M.$N.LogicalName);if(!$0.$1(n))return this.$67.$M.getValue(n.$5e).toString()}return""},setRecordId:function(){},addOnSave:function(){},getDataXml:function(){return null},getIsDirty:function(){return!1},isInHierarchy:function(){return!1},removeOnSave:function(){},save:function(){}};Xrm.$Ot=function(n){Xrm.$Ot.initializeBase(this);this.$22=n};Xrm.$Ot.prototype={$22:null,canEnableFilters:function(){return!1},isFilterEnabled:function(){return!1}};Xrm.$Os=function(n,t,i){Xrm.$Os.initializeBase(this);this.$67=n;this.$22=t;this.data=new Xrm.$Oq(this.$67,this.$22,i)};Xrm.$Os.prototype={$67:null,$22:null,getKey:function(){return Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(this.$67.get_$1a())}};Type.registerNamespace("Mscrm.InternalUtilities");Mscrm.InternalUtilities.GridUtilities=function(){};Mscrm.InternalUtilities.GridUtilities.executeStandardAction=function(n,t,i,r,u,f){var o,l,e,a,s,y,p,v,h,c;if(Mscrm.InternalUtilities.JSTypes.isNull(t)||!t.length){Mscrm.InternalUtilities._Script.alert(Xrm.Internal.getResourceString("Error_Message_Action_NoItemSelected"));return}if(o=n.get_query().requestType,(o==="merge"||o==="associatechild")&&Xrm.Internal.isEnabledForInteractionCentric()){for(l=new Xrm.DialogOptions,e={},e.isMultiSelect=!1,e.shouldShowOnlyGrid=!0,e.entityName="incident",e.primaryAttribute="incidentid",e.isAssociate=!1,o==="associatechild"&&(e.isAssociate=!0),a=new Array(t.length),s=0;s<t.length;s++)a[s]=t[s].Id;e.recordIds=a;y=["title","customerid","prioritycode","createdon","statecode"];e.columnNames=y;p=[Xrm.Internal.getResourceString("InteractionCentric_Case_CaseTitle"),Xrm.Internal.getResourceString("InteractionCentric_Case_Customer"),Xrm.Internal.getResourceString("InteractionCentric_Case_Priority"),Xrm.Internal.getResourceString("InteractionCentric_Case_CreatedOn")];e.columnLabels=p;Xrm.Internal.setIsGridDialogContext(!0);o==="merge"?Xrm.Dialog.openDialog("MergeCase",l,e,u,null):Xrm.Dialog.openDialog("AssociateCase",l,e,u,null)}else{if(Mscrm.InternalUtilities.JSTypes.isNull(i)&&(i=400),Mscrm.InternalUtilities.JSTypes.isNull(r)&&(r=200),Mscrm.InternalUtilities.JSTypes.isNull(f)){for(v=new Array(t.length),h=0;h<t.length;h++)v[h]=t[h].Id;f=v}c=new Xrm.DialogOptions;c.height=r;c.width=i;Xrm.Internal.openDialog(n.toString(),c,f,null,u)}};Mscrm.InternalUtilities.GridUtilities.createCallbackFunctionFactory=function(n,t){return function(i){return t.unshift(i),n.apply(null,t)}};Mscrm.InternalUtilities.GridUtilities.generateStandardActionUri=function(n,t,i){var r=Mscrm.CrmUri.create(String.format("/_grid/cmds/dlg_{0}.aspx",CrmEncodeDecode.CrmUrlEncode(n)));return r.get_query().iObjType=t,r.get_query().iTotal=i,r};Mscrm.InternalUtilities.ClientApiUtility=function(){};Mscrm.InternalUtilities.ClientApiUtility.operationFailedCallback=function(n){var t=n.errorCode,i=n.message,r=n.debugMessage;Mscrm.InternalUtilities.ClientApiUtility.handleError(t,i,r)};Mscrm.InternalUtilities.ClientApiUtility.actionCompleteCallback=function(){};Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback=function(n){var t=n.$6k,i;Mscrm.InternalUtilities.JSTypes.isNull(t)||(i=t.$6e,Mscrm.InternalUtilities.ClientApiUtility.handleError(i,n.get_message(),t.get_responseOuterXml(),t))};Mscrm.InternalUtilities.ClientApiUtility.handleError=function(n,t,i,r){var f="0x"+(n<0?4294967295+n+1:n).toString(16).toUpperCase(),u;if(f.startsWith("0x8004E1"))switch(f){case"0x8004E108":case"0x8004E121":case"0x8004E117":case"0x8004E123":case"0x8004E122":case"0x8004E113":t=Xrm.Internal.getErrorMessage(n);break;default:t=Xrm.Internal.getErrorMessage(-2147163904)}else switch(n){case-2147220891:case-2147204303:case-2146955251:case-2146955249:case-2146955250:case-2147157627:case-2147087968:case-2147088287:case-2147087986:break;default:u=Xrm.Internal.getErrorMessage(n);Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(u)||(t=u)}Xrm.Internal.openErrorDialog(n,t,i,r)};Mscrm.InternalUtilities._Script=function(){};Mscrm.InternalUtilities._Script.isNullOrUndefined=function(n){return null===n||n===undefined};Mscrm.InternalUtilities._Script.alert=function(n){Microsoft.Crm.Client.Core.ViewModels.$Z.$169("",n,0)};Mscrm.InternalUtilities._Script.confirm=function(n){return Microsoft.Crm.Client.Core.ViewModels.$1V.$169("",n,0),!1};Mscrm.InternalUtilities._Script.eval=function(n){return eval(n)};Mscrm.InternalUtilities._Script.prompt=function(){return""};Type.registerNamespace("Microsoft.Crm.Client.Core.Models");Microsoft.Crm.Client.Core.Models.$6s=function(){this.$1QD=new Array(0)};Microsoft.Crm.Client.Core.Models.$6s.$1lr=function(n,t){return new Date(n,t,0).getDate()};Microsoft.Crm.Client.Core.Models.$6s.prototype={$106:0,$1lp:0,$lL:0,$YU:0,$YT:null,$1QL:4,$dv:null,$lI:null,$2cM:function(n,t,i){if(i>=0&&i<5)this.$2cg(n,t,i);else if(i===5)this.$2cd(n,t);else if(i===6)this.$2ce(n,t);else{var r=new Microsoft.Crm.Client.Core.Models.$8o;r.FieldName=n;r.Value=t?Object.getType(t)===Xrm.Objects.EntityReference?t.Id.toString():Object.getType(t)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O?t.$1i.toString():t.toString():null;this.$1QD[this.$1QD.length]=r}},$2cd:function(n,t){if(this.$dv)throw Error.create("only one Fiscal period aggregator is supported");else{if(!t)return;this.$dv=new Microsoft.Crm.Client.Core.Models.$8p;this.$dv.FiscalType="in-fiscal-period-and-year";this.$dv.FieldName=n;var i=t.split("-");this.$dv.Year=Number.parseInvariant(i[0]);this.$dv.Period=Number.parseInvariant(i[1])}},$2ce:function(n,t){if(this.$lI)throw Error.create("only one Fiscal year aggregator is supported");else this.$lI=new Microsoft.Crm.Client.Core.Models.$8q,this.$lI.FiscalType="in-fiscal-year",this.$lI.FieldName=n,this.$lI.Year=t},$2cg:function(n,t,i){if(this.$YT){if(this.$YT!==n)throw Error.create("only one DateTime aggregator is supported");}else this.$YT=n;switch(i){case 0:this.$106=t;break;case 1:this.$1lp=t;break;case 2:this.$lL=t;break;case 3:this.$lL=3*t;break;case 4:this.$YU=t;break;default:throw Error.create("not supported");}this.$1QL=Math.min(i,this.$1QL)},$30b:function(n,t){var i=new Date(t,0,1+(n-1)*7),r=i;return r.setDate(i.getDate()-i.getDay()),r},$30W:function(){var r,t,n,i;if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&this.$YT==="scheduledend"&&!this.$YU)return r=new Microsoft.Crm.Client.Core.Models.$7q,r.FieldName=this.$YT,r;if(this.$YT&&!this.$YU)return t=new Microsoft.Crm.Client.Core.Models.$8o,t.FieldName=this.$YT,t.Value=null,t;if(!this.$YT||!this.$YU)return null;n=new Microsoft.Crm.Client.Core.Models.$7q;n.FieldName=this.$YT;this.$106=this.$106?this.$106:Microsoft.Crm.Client.Core.Models.$6s.$1lr(this.$YU,this.$lL);this.$lL=this.$lL?this.$lL:12;n.MaxDate=new Date(this.$YU,this.$lL-1,this.$106);switch(this.$1QL){case 0:n.MaxDate.setDate(n.MaxDate.getDate()+(n.MaxDate.getTimezoneOffset()<0?1:0));n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth(),n.MaxDate.getDate());break;case 1:i=this.$30b(this.$1lp+1,this.$YU);i.setDate(i.getDate()-1);n.MaxDate=i;n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth(),n.MaxDate.getDate()-6);n.MaxDate.getTimezoneOffset()<0&&(n.MaxDate.setDate(n.MaxDate.getDate()+1),n.MinDate.setDate(n.MinDate.getDate()+1));break;case 2:n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth()-1,Microsoft.Crm.Client.Core.Models.$6s.$1lr(this.$YU,n.MaxDate.getMonth())+1);n.MaxDate.getTimezoneOffset()<0&&(n.MaxDate.setDate(n.MaxDate.getDate()+1),n.MinDate.setDate(n.MinDate.getDate()+1));break;case 3:n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth()-3,Microsoft.Crm.Client.Core.Models.$6s.$1lr(this.$YU,n.MaxDate.getMonth()-2)+1);n.MaxDate.getTimezoneOffset()<0&&(n.MaxDate.setDate(n.MaxDate.getDate()+1),n.MinDate.setDate(n.MinDate.getDate()+1));break;case 4:n.MaxDate.setDate(n.MaxDate.getDate()+(n.MaxDate.getTimezoneOffset()<0?1:0));n.MinDate=new Date(n.MaxDate.getFullYear()-1,n.MaxDate.getMonth(),n.MaxDate.getDate()+1);break;default:throw Error.create("not supported");}return n},$2zH:function(){var n=this.$1QD,t=this.$30W();return t&&(n=n.concat(t)),this.$dv&&(n=n.concat(this.$dv)),this.$lI&&(n=n.concat(this.$lI)),n}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$HS=function(){};Microsoft.Crm.Client.Core.ViewModels.$HS.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$HS");Microsoft.Crm.Client.Core.ViewModels.$5z=function(){};Microsoft.Crm.Client.Core.ViewModels.$5z.prototype={LinkArticle:0,UnlinkArticle:1,CopyLink:2,EmailArticle:3,EmailArticleContent:5};Microsoft.Crm.Client.Core.ViewModels.$5z.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$5z",!1);Microsoft.Crm.Client.Core.ViewModels.$He=function(){};Microsoft.Crm.Client.Core.ViewModels.$He.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$He");Microsoft.Crm.Client.Core.ViewModels.$Hd=function(){};Microsoft.Crm.Client.Core.ViewModels.$Hd.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Hd");Microsoft.Crm.Client.Core.ViewModels.$Hc=function(){};Microsoft.Crm.Client.Core.ViewModels.$Hc.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Hc");Microsoft.Crm.Client.Core.ViewModels.$HH=function(){};Microsoft.Crm.Client.Core.ViewModels.$HH.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$HH");Microsoft.Crm.Client.Core.ViewModels.$S=function(){};Microsoft.Crm.Client.Core.ViewModels.$S.prototype={editForm:0,grid:1,createForm:2,homePage:3,offlineCreateForm:4,sortGrid:5,offlineInitialSync:6,offlineIncrementalSync:7,icDashboardCsrOne:8,icDashboardCsrTwo:9,icForm:10,icNavBar:11,icCaseForm:12,offlineSearchForm:13,offlineUpdateForm:14,offlineDeleteForm:15,offlineRetrieveForm:16,upSync:17,taskBasedFlow:18,chartDrilldown:19,searchForm:20,gridRefresh:21,listRefresh:22,createRecord:23,updateRecord:24,documentRecommendationsDialogOpen:25};Microsoft.Crm.Client.Core.ViewModels.$S.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$S",!1);Microsoft.Crm.Client.Core.ViewModels.$4Z=function(){};Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype={dateRangeApply:0,openFilterPanel:1,applyPiePriorityHigh:2,clickQueuePanelItem:3,switchTilesView:4,switchPanelsView:5,globalFilterApplyPriority:6,dashboardPicker:7,clickTileViewItem:8,backFromEntityForm:9,openQuickActionsQueuePanel:10};Microsoft.Crm.Client.Core.ViewModels.$4Z.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$4Z",!1);Microsoft.Crm.Client.Core.ViewModels.$4n=function(){};Microsoft.Crm.Client.Core.ViewModels.$4n.prototype={openCaseEntityGrid:0,openCaseEntityRecordFromGrid:1,clickMruButton:2,clickQuickCreateButton:3,openQuickCreateForm:4,saveQuickCreateFormAccount:5,saveQuickCreateFormTask:6,openRecordsFromMru:7,clickAssociativeButton:8,openAssociativeViewItem:9};Microsoft.Crm.Client.Core.ViewModels.$4n.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$4n",!1);Microsoft.Crm.Client.Core.ViewModels.$4F=function(){};Microsoft.Crm.Client.Core.ViewModels.$4F.prototype={openAccountEntityGrid:0,openAccountEntityDashboard:1,openAccountEntityRecordFromGrid:2,openAccountEntityRecordFromDashboard:3,openCaseEntityGrid:4,openCaseEntityDashboard:5,openCaseEntityRecordFromGrid:6,openCaseEntityRecordFromDashboard:7,openContactEntityGrid:8,openContactEntityDashboard:9,openContactEntityRecordFromGrid:10,openContactEntityRecordFromDashboard:11};Microsoft.Crm.Client.Core.ViewModels.$4F.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$4F",!1);Microsoft.Crm.Client.Core.ViewModels.$3Z=function(){};Microsoft.Crm.Client.Core.ViewModels.$3Z.prototype={createCaseFromQuickCreateForm:0,openCreateChildFormCommandBar:1,saveCreateChildFormCommandBar:2,accountFormReferencePanelOpenOpportunitiesTab:3,accountFormReferencePanelOpenEntitlementsTab:4,caseFormReferencePanelOpenEntitlementsTab:5,contactFormReferencePanelOpenOpportunitiesTab:6,contactFormReferencePanelOpenEntitlementsTab:7,interactionWallAddTask:8,interactionWallApplyDateRangeFilter:9,interactionWallSearchText:10,interactionWallSearchFilteredText:11,businessProcessNextStage:12,resolveCaseCascadeCommandBar:13,resolveCaseNoCascadeCaseGrid:14,cancelCaseCascadeCaseGrid:15};Microsoft.Crm.Client.Core.ViewModels.$3Z.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$3Z",!1);Microsoft.Crm.Client.Core.ViewModels.$Di=function(){};Microsoft.Crm.Client.Core.ViewModels.$Di.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Di");Microsoft.Crm.Client.Core.ViewModels.$Dl=function(){};Microsoft.Crm.Client.Core.ViewModels.$Dl.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Dl");Microsoft.Crm.Client.Core.ViewModels.$Ah=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ah.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ah");Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowArgument=function(n,t,i){this.Name=n;this.Direction=t;this.DefaultValue=i};Microsoft.Crm.Client.Core.ViewModels.$EJ=function(){Microsoft.Crm.Client.Core.ViewModels.$EJ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EJ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("KbSearchResultFooter",Microsoft.Crm.Client.Core.ViewModels.$EJ)};Microsoft.Crm.Client.Core.ViewModels.$EJ.prototype={$Eu:null,get_KbSearchControl:function(){return this.$Eu},set_KbSearchControl:function(n){return this.$Eu=n,n}};Microsoft.Crm.Client.Core.ViewModels.$EL=function(){Microsoft.Crm.Client.Core.ViewModels.$EL.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EL.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("KbSearchResult",Microsoft.Crm.Client.Core.ViewModels.$EL)};Microsoft.Crm.Client.Core.ViewModels.$EL.prototype={Article:null,$Eu:null,get_KbSearchControl:function(){return this.$Eu},set_KbSearchControl:function(n){return this.$Eu=n,n},$2eP:function(){$0.$1(this.Article)||(this.Article.$c8="",$0.$1(this.$Eu))||!$0.$1(this.$Eu.$xc)&&this.$Eu.$xc&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Eu.$k5)&&this.$Eu.$k5 in this.Article.$xk&&(this.Article.$c8=this.Article.$xk[this.$Eu.$k5].toString())},IsAssociated:function(){return Microsoft.Crm.Client.Core.ViewModels.$y.$1VM(this.Article,this.$Eu)},get_AlreadyAssociatedText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchKMArticles.AlreadyAssociated"),Microsoft.Crm.Client.Core.ViewModels.$y.$1DI())},get_SearchResultActionsDropdownViewModel:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.PropertyDescriptor)),t,i;return n.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("KbSearchControl",this.$Eu)),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("SearchResultActionsDropdownViewModel","ActionMenu","ActionMenu",n.toArray(),null,null),i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(t,this.get_ModelContext(),this.$3V,this.$2),i},get_kbSearchResultLegendsViewModel:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("KbSearchResultLegendsViewModel","KbSearchResultLegends","KbSearchResultLegends",null,null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,this.get_ModelContext(),this.$3V,this.$2)},get_AssociatedText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchKMArticles.Associated"),Microsoft.Crm.Client.Core.ViewModels.$y.$1DI())}};Microsoft.Crm.Client.Core.ViewModels.$4D=function(){};Microsoft.Crm.Client.Core.ViewModels.$4D.$$cctor=function(){$0.$1(Microsoft.Crm.Client.Core.ViewModels.$4D.$Ao)&&(Microsoft.Crm.Client.Core.ViewModels.$4D.$Ao=new Microsoft.Crm.Client.Core.ViewModels.$4D)};Microsoft.Crm.Client.Core.ViewModels.$4D.$30g=function(n){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?n.$dS:n.$ky};Microsoft.Crm.Client.Core.ViewModels.$4D.prototype={$1Yr:function(n,t,i,r,u,f){var e=new Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand(null,n,5,t);e.$A1=i;e.$My=f;$0.$1(r)||(e.$P=r);$0.$1(u)||(e.$1M=u);e.execute();e.dispose()},$2VM:function(n,t){var i;switch(n){case"saveandnew":i=t.$kw;break;case"saveandclose":i=t.$dR;break;default:i=Microsoft.Crm.Client.Core.ViewModels.$4D.$30g(t)}i.execute()},$3Wj:function(){}};Microsoft.Crm.Client.Core.ViewModels.$5q=function(){};Microsoft.Crm.Client.Core.ViewModels.$5q.$$cctor=function(){$0.$1(Microsoft.Crm.Client.Core.ViewModels.$5q.$Ao)&&(Microsoft.Crm.Client.Core.ViewModels.$5q.$Ao=new Microsoft.Crm.Client.Core.ViewModels.$5q)};Microsoft.Crm.Client.Core.ViewModels.$5q.prototype={$2KI:function(){return!0}};Microsoft.Crm.Client.Core.ViewModels.$Cz=function(n,t,i,r){this.$1qJ=this.getFocus;this.$20j=this.setHasFocus;this.$ak=this.resetInitial;Microsoft.Crm.Client.Core.ViewModels.$Cz.initializeBase(this);this.$7M=t;this.$DA=n;this.$66=r;this.$2=n.$2;this.$Cs=new Microsoft.Crm.Client.Core.ViewModels.$LV};Microsoft.Crm.Client.Core.ViewModels.$Cz.prototype={$7M:null,$DA:null,$B1:null,$66:null,$2:null,$Cs:null,get_$9u:function(){return $0.$1(this.$B1)?null:this.$B1.$17},get_$1aD:function(){return $0.$1(this.$B1)?null:this.$B1.$2l},$7L:function(n,t){$0.$1(this.$B1)||this.$B1.$7L(n,t)},get_$U7:function(){if($0.$1(this.$DA)){if(!$0.$1(this.$B1))return this.$B1.get_$U7()}else return this.$DA.$1qg();return null},$2cq:function(n){this.$B1=n},resetInitial:function(){this.$DA.$UD();this.$B1.resetInitial();this.$DA.$14.$Cl().$ak();this.$DA.$14.$8("PropertiesUpdated")},$1ps:function(n){return!$0.$1(this.$2)&&!$0.$1(this.$2.$13)&&!$0.$1(this.$2.$13.data)?this.$2.$13.data.entity.attributes.get(n):null},getAttribute:function(){return this.$1ps(this.get_$U7())},getAttributes:function(){return this.$B1.getAttributes()},getControlType:function(){return this.$B1.getControlType()},getDisabled:function(){return!this.$DA.get_Enabled()},getLabel:function(){return this.$DA.$1D},getName:function(){return this.$DA.$G},getKey:function(){return this.$7M},getParent:function(){return this.$66},getVisible:function(){return this.$DA.$1z},setDisabled:function(n){this.$DA.set_Enabled(!n);this.$B1.setDisabled(n)},validateControl:function(n){var t,i,u,o,f,s;if($0.$1(n))return!1;t=null;for(var e=this.$Cs.getNotifications(null),h=e.length,r=0;r<h;++r){if(i=e[r],i.notificationLevel!=="ERROR"){t=i;continue}if(i.messages.length)return u=i.messages[0],o=u?u.toString():new String,n.set_$Om(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,o,i.uniqueId,"ERROR")),n.set_$14y(null),!1}return $0.$1(t)?n.set_$Om(null):(f=t.messages[0],s=f?f.toString():new String,n.set_$Om(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!0,null,s,t.uniqueId,"RECOMMENDATION")),n.set_$14y(t)),!0},setFocus:function(){var n,t;this.$2.$13.ui.removeCurrentControlFocus();Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()&&(n=this.getParent(),$0.$1(n)||(t=n.getParent(),$0.$1(t)||t.setFocus()));this.setHasFocus(!0)},setLabel:function(n){this.$DA.set_Label(n);this.$B1.setLabel(n)},setVisible:function(n){this.$DA.set_Visible(n);this.$B1.setVisible(n)},setNotification:function(n,t){if(Microsoft.Crm.Client.Core.Framework.$3.$1O(n))return!1;var i=new Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification("ERROR",n,t);return this.addNotification(i)},addNotification:function(n){return $0.$1(n)||!this.$DA||!Microsoft.Crm.Client.Core.ViewModels.$3Y.isInstanceOfType(this.$DA)?!1:(this.$Cs.addNotification(n),this.validateControl(this.$DA),!0)},clearNotification:function(n){return!this.$DA||!Microsoft.Crm.Client.Core.ViewModels.$3Y.isInstanceOfType(this.$DA)?!1:this.$Cs.clearNotification(n)?(this.validateControl(this.$DA),!0):!1},clearNotifications:function(){return!this.$DA||!Microsoft.Crm.Client.Core.ViewModels.$3Y.isInstanceOfType(this.$DA)?!1:this.$Cs.clearNotifications()?(this.validateControl(this.$DA),!0):!1},getFocus:function(){return this.$DA.$6T},setHasFocus:function(n){this.$DA.set_HasFocus(n);this.$B1.setHasFocus(n)},addCustomView:function(n,t,i,r,u,f){this.$B1.addCustomView(n,t,i,r,u,f)},getDefaultView:function(){return this.$B1.getDefaultView()},setDefaultView:function(n){this.$B1.setDefaultView(n)},addCustomFilter:function(n,t){this.$B1.addCustomFilter(n,t)},addPreSearch:function(n){this.$B1.addPreSearch(n)},removePreSearch:function(n){this.$B1.removePreSearch(n)},addOption:function(n,t){this.$B1.addOption(n,t)},getOptions:function(){return this.$B1.getOptions()},clearOptions:function(){this.$B1.clearOptions()},removeOption:function(n){this.$B1.removeOption(n)},getShowTime:function(){return this.$B1.getShowTime()},setShowTime:function(n){this.$B1.setShowTime(n)}};Microsoft.Crm.Client.Core.ViewModels.$D1=function(n,t,i,r,u){this.$1qJ=this.getFocus;this.$20j=this.setHasFocus;this.$ak=this.resetInitial;Microsoft.Crm.Client.Core.ViewModels.$D1.initializeBase(this);this.$O0=n.$VG;this.$7M=i;this.$7L(n,t);this.$66=u;this.$2=n.$2;this.$Cs=new Microsoft.Crm.Client.Core.ViewModels.$LV};Microsoft.Crm.Client.Core.ViewModels.$D1.prototype={$7M:null,$2l:null,$17:null,$66:null,$2:null,$O0:0,$Cs:null,get_$U7:function(){return $0.$1(this.$B4())?null:this.$B4().$1qg()},get_$9u:function(){return this.$17},get_$1aD:function(){return this.$2l},$7L:function(n,t){t?(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.isInstanceOfType(n)&&n.$VG===2&&(this.$2l=n),this.$17=n):this.$2l=n},resetInitial:function(){$0.$1(this.$2l)||this.$2l.$UD();$0.$1(this.$17)||this.$17.$UD();this.$B4().$14.$Cl().$ak();this.$B4().$14.$8("PropertiesUpdated")},$B4:function(){var n=this.$17;return this.$O0&&this.$O0!==2||$0.$1(this.$2l)||(n=this.$2l),n},$1ps:function(n){return!$0.$1(this.$2)&&!$0.$1(this.$2.$13)&&!$0.$1(this.$2.$13.data)?this.$2.$13.data.entity.attributes.get(n):null},getAttribute:function(){return this.$1ps(this.$B4().$1qg())},getAttributes:function(){for(var r,u=this.$B4().$14.$2zq(),t=new Array(0),i=u,f=i.length,n=0;n<f;++n)r=i[n],t.push(this.$1ps(r));return t},getControlType:function(){return"customcontrol:"+this.$B4().$Ka},getDisabled:function(){return!$0.$1(this.$2l)&&this.$2l.get_Enabled()?!1:!0},getLabel:function(){return $0.$1(this.$17)?this.$2l.$1D:this.$17.$1D},getName:function(){return $0.$1(this.$B4())?"":this.$B4().$G},getKey:function(){return this.$7M},getParent:function(){return this.$66},getVisible:function(){return!$0.$1(this.$17)&&this.$17.$1z||!$0.$1(this.$2l)&&this.$2l.$1z?!0:!1},setDisabled:function(n){$0.$1(this.$17)||this.$17.set_Enabled(!n);$0.$1(this.$2l)||this.$2l.set_Enabled(!n)},validateControl:function(n){var t,i,u,o,f,s;if($0.$1(n))return!1;t=null;for(var e=this.$Cs.getNotifications(null),h=e.length,r=0;r<h;++r){if(i=e[r],i.notificationLevel!=="ERROR"){t=i;continue}if(i.messages.length)return u=i.messages[0],o=u?u.toString():new String,n.set_$Om(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,o,i.uniqueId,"ERROR")),n.set_$14y(null),!1}return $0.$1(t)?n.set_$Om(null):(f=t.messages[0],s=f?f.toString():new String,n.set_$Om(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!0,null,s,t.uniqueId,"RECOMMENDATION")),n.set_$14y(t)),!0},setFocus:function(){var n,t;this.$2.$13.ui.removeCurrentControlFocus();Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()&&(n=this.getParent(),$0.$1(n)||(t=n.getParent(),$0.$1(t)||t.setFocus()));this.setHasFocus(!0)},setLabel:function(n){$0.$1(this.$17)||this.$17.set_Label(n);$0.$1(this.$2l)||this.$2l.set_Label(n)},setVisible:function(n){$0.$1(this.$17)||this.$17.set_Visible(n);$0.$1(this.$2l)||this.$2l.set_Visible(n)},setNotification:function(n,t){if(Microsoft.Crm.Client.Core.Framework.$3.$1O(n))return!1;var i=new Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification("ERROR",n,t);return this.addNotification(i)},addNotification:function(n){return $0.$1(n)||!this.$17||!Microsoft.Crm.Client.Core.ViewModels.$3Y.isInstanceOfType(this.$17)?!1:(this.$Cs.addNotification(n),this.validateControl(this.$17),!0)},clearNotification:function(n){return!this.$17||!Microsoft.Crm.Client.Core.ViewModels.$3Y.isInstanceOfType(this.$17)?!1:Microsoft.Crm.Client.Core.Framework.$3.$1O(n)?this.clearNotifications():this.$Cs.clearNotification(n)?(this.validateControl(this.$17),!0):!1},clearNotifications:function(){return!this.$17||!Microsoft.Crm.Client.Core.ViewModels.$3Y.isInstanceOfType(this.$17)?!1:this.$Cs.clearNotifications()?(this.validateControl(this.$17),!0):!1},getFocus:function(){return!$0.$1(this.$17)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$17)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2l)?this.$17.get_HasFocus()||this.$2l.get_HasFocus():!$0.$1(this.$17)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$17)?this.$17.get_HasFocus():Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2l)?this.$2l.get_HasFocus():!1},setHasFocus:function(n){!$0.$1(this.$17)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$17)&&this.$17.set_HasFocus(n);Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2l)&&this.$2l.set_HasFocus(n)},addCustomView:function(n,t,i,r,u,f){if(this.$B4().$14.$Cl().$Cc.toLowerCase().startsWith("lookup")&&!this.$O0){var e=new Microsoft.Crm.Client.Core.Framework.Guid(n),o=new Microsoft.Crm.Client.Core.Models.$8D(e,Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(r),u,t);this.$17.$dq[e.toString()]=o;f&&this.$17.$1Io(e)}},getDefaultView:function(){if(!this.$B4().$14.$Cl().$Cc.toLowerCase().startsWith("lookup"))return"";if(!this.$O0){var n=this.$17.$IB;return n===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?null:Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(n)}return null},setDefaultView:function(n){this.$B4().$14.$Cl().$Cc.toLowerCase().startsWith("lookup")&&(this.$O0||this.$17.$1Io(new Microsoft.Crm.Client.Core.Framework.Guid(n)))},addCustomFilter:function(n,t){this.$B4().$14.$Cl().$Cc.toLowerCase().startsWith("lookup")&&(this.$O0||this.$17.$24k(n,t))},addPreSearch:function(n){var t,r,i,u;this.$B4().$14.$Cl().$Cc.toLowerCase().startsWith("lookup")&&(this.$O0||(t=new Microsoft.Crm.Client.Core.Models.Constants.$Jo,t.method=n,t.passExecutionContext=!0,r=this.$17.$Ws,$0.$1(r)?(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$Jo))([t]),i=new Microsoft.Crm.Client.Core.Models.$JM(u,null),i.details=new Microsoft.Crm.Client.Core.Models.$JI(4,this.get_$U7())):(i=this.$1PG(r),i.handlers.add(t)),this.$17.set_$1Gw(i)))},removePreSearch:function(n){var t,i,r;if(this.$B4().$14.$Cl().$Cc.toLowerCase().startsWith("lookup")&&!this.$O0&&(t=this.$17.$Ws,!$0.$1(t)&&!$0.$1(t.handlers)))for(i=0;i<t.handlers.get_Count();i++)if(t.handlers.get_$I(i).method===n){r=this.$1PG(t);r.handlers.remove(r.handlers.get_$I(i));this.$17.set_$1Gw(r);break}},$1PG:function(n){var t=new Microsoft.Crm.Client.Core.Models.$JM(n.handlers,n.eventArgs,n.$1BS,n.$1BT,n.scriptsToLoad,n.details,n.srcName);return t.$Tf=n.$Tf,t.$Tg=n.$Tg,t},$11h:function(){var t=this.getAttribute(),n;return!$0.$1(t)&&(n=t.$mX(),!$0.$1(n.$2V))?n.$2V.$Mw:null},addOption:function(n,t){if(this.$B4().$14.$Cl().$Cc.toLowerCase()==="optionset"){if(!this.$O0){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)){var i=this.$11h();$0.$1(i)||i.$19X(n.text,n.value)}this.$17.$19X(new Microsoft.Crm.Client.Core.ViewModels.$Cs(n.value.toString(),n.text),t)}this.$B4().$14.$Cl().$19X(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O(n.text,n.value,-1,-1,null,null,null),t);this.$B4().$14.$8("PropertiesUpdated")}},getOptions:function(){return null},clearOptions:function(){if(this.$B4().$14.$Cl().$Cc.toLowerCase()==="optionset"){if(!this.$O0){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)){var n=this.$11h();$0.$1(n)||n.$1AT()}this.$17.$1AT()}this.$B4().$14.$Cl().$1AT();this.$B4().$14.$8("PropertiesUpdated")}},removeOption:function(n){if(this.$B4().$14.$Cl().$Cc.toLowerCase()==="optionset"){if(!this.$O0){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)){var t=this.$11h();$0.$1(t)||t.$1HZ(n)}this.$17.$1HZ(n)}this.$B4().$14.$Cl().$1HZ(n);this.$B4().$14.$8("PropertiesUpdated")}},getShowTime:function(){return this.$B4().$14.$Cl().$Cc.toLowerCase().startsWith("dateandtime")?this.$B4().$14.$Cl().$34S():!1},setShowTime:function(n){this.$B4().$14.$Cl().$Cc.toLowerCase().startsWith("dateandtime")&&(this.$O0||this.$17.set_ShowTime(n),this.$B4().$14.$Cl().$3TS(n),this.$B4().$14.$8("PropertiesUpdated"))}};Microsoft.Crm.Client.Core.ViewModels.$U8=function(n,t,i,r,u){this.$$d_$3NX=Function.createDelegate(this,this.$3NX);Microsoft.Crm.Client.Core.ViewModels.$U8.initializeBase(this,[n,t,i,r,u]);this.$15A=!0};Microsoft.Crm.Client.Core.ViewModels.$U8.prototype={$15A:!1,$Q8:null,get_$JE:function(){return $0.$1(this.$Q8)&&(this.$Q8=this.get_$14U().$F[this.$1AL],this.$Q8.AddPropertyChangedListener("ChildComponent",this.$$d_$3NX)),this.$Q8},get_$HP:function(){var n,t;return(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!$0.$1(this.get_$JE().$FY)&&this.get_$JE().$FY.TypeName==="CustomControlHostView"&&!$0.$1(this.get_$JE().$3P.$14)&&!$0.$1(this.get_$JE().$3P.$14.$DV)?(n=this.get_$JE().$3P.$14.$DV,new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(n.$y)):(this.$15A&&($0.$1(this.get_$JE().$FY)?this.$GW=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(null):this.get_$JE().$FY.TypeName==="CustomControlHostView"?$0.$1(this.get_$JE().$3P.$14)?this.$GW=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(null):(this.$GW=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(null),t=this.get_$JE().$3P.$14.GetPrimaryDataSet(),this.$GW=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(t.$y),this.$15A=!1):(this.$GW=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(this.get_$JE().$3P),this.$15A=!1)),this.$GW)},addOnLoad:function(n){$0.$1(this.get_$JE().$FY)||this.get_$HP().addOnLoad(n)},removeOnLoad:function(n){$0.$1(this.get_$JE().$FY)||this.get_$HP().removeOnLoad(n)},$3NX:function(){this.$15A=!0},getControlType:function(){return!$0.$1(this.get_$JE().$FY)&&this.get_$JE().$FY.TypeName==="CustomControlHostView"?"customsubgrid:"+this.$B4().$Ka:"subgrid"},$B4:function(){return!$0.$1(this.get_$JE().$FY)&&this.get_$JE().$FY.TypeName==="CustomControlHostView"?this.get_$JE().$3P:null},$6D:function(){$0.$1(this.$Q8)||this.$Q8.RemovePropertyChangedListener("ChildComponent",this.$$d_$3NX)}};Microsoft.Crm.Client.Core.ViewModels.$RI=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$RI.initializeBase(this);this.$22=n;this.$66=t;this.$2G=i;var u=i.split(":");this.$d=u[2];this.$2V=r;this.controls=new Xrm.XrmControls;$0.$1(this.get_$I9())||this.get_$I9().isHidden||this.controls.add(new Microsoft.Crm.Client.Core.ViewModels.$TV(this.$22,this))};Microsoft.Crm.Client.Core.ViewModels.$RI.prototype={$22:null,$66:null,$d:null,$2V:null,$2G:null,$JH:null,$lE:null,$lD:null,get_$7A:function(){if($0.$1(this.$JH)){var n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$tP(this.$22.$2,this.$22);$0.$1(n)||$0.$1(n.$3P)||(this.$JH=n.$3P)}return this.$JH},get_$Au:function(){if($0.$1(this.$lE)&&!$0.$1(this.get_$7A())&&!$0.$1(this.get_$7A().$14)&&!$0.$1(this.get_$7A().$14.$DV)&&!$0.$1(this.get_$7A().$14.$DV.getSelectedRecord())){var n=this.get_$7A().$14.$DV;this.$lE=n.getSelectedRecord()}return this.$lE},get_$I9:function(){var i,t;if($0.$1(this.$lD)&&!$0.$1(this.get_$7A())&&!$0.$1(this.get_$7A().$14)&&!$0.$1(this.get_$7A().$14.$DV)&&!$0.$1(this.get_$7A().$14.$DV.$y)){i=this.get_$7A().$14.$DV;for(var r=i.$y.$EE,u=r.length,n=0;n<u;++n)if(t=r[n],t.name===this.getName()){this.$lD=t;break}}return this.$lD},addOnChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$19W(this.$2G,n)},fireOnChange:function(){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1ba(null,this.$2G)},getAttributeType:function(){return $0.$1(this.$2V)?"unknown":Xrm.Objects.AttributeType.toString(this.$2V.get_$rF()).toLowerCase()},getFormat:function(){return!$0.$1(this.$2V)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$2V.get_$MN())?this.$2V.get_$MN().toLowerCase():null},getIsDirty:function(){var n=!1;return $0.$1(this.get_$Au())||(n=this.get_$Au().isDirty()),n},getIsValid:function(){return!0},getName:function(){return this.$d},getKey:function(){return this.getName()},getParent:function(){return this.$66},getRequiredLevel:function(){var n="none",t;if(!$0.$1(this.get_$Au())){t=this.get_$Au().$3OO(this.getName());switch(t){case 0:n="none";break;case 3:n="recommended";break;case 2:n="required"}}return n},getSubmitMode:function(){if(!$0.$1(this.get_$Au())){var n=this.get_$Au().$1V;if(n.$bC.$2j0(this.getName()))return n.$bC.get_$I(this.getName())}return this.$2V.get_$1tN()?"dirty":"never"},getUserPrivilege:function(){if(!$0.$1(this.get_$Au())){var n=this.get_$Au().$1V.$M;return new Xrm.FormDataAttributePrivilege(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1DF(this.$2V.$1r,n))}return null},getValue:function(){var n,t,i,r;if(!$0.$1(this.get_$Au())&&!$0.$1(this.get_$I9())){if(n=null,this.get_$I9().dataType.toLowerCase()==="twooptions")switch(this.get_$Au().getValue(this.getName())){case 1:n=!0;break;case 0:n=!1}else this.get_$I9().dataType.toLowerCase()==="lookup.partylist"||(this.get_$I9().dataType.toLowerCase()==="lookup.simple"||this.get_$I9().dataType.toLowerCase()==="lookup.customer"||this.get_$I9().dataType.toLowerCase()==="lookup.owner"||this.get_$I9().dataType.toLowerCase()==="lookup.regarding"?(t=this.get_$Au().getValue(this.getName()),$0.$1(t)||(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem)),r=new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(t.LogicalName,t.get_identifier(),t.Name),i.add(r),n=i.toArray())):n=this.get_$Au().getValue(this.getName()));return n}return null},removeOnChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$1yV(this.$2G,n)},resetInitialValue:function(){},setRequiredLevel:function(n){if(!$0.$1(this.get_$Au())){var t;switch(n){case"none":t=0;break;case"recommended":t=3;break;case"required":t=2;break;default:return}this.get_$Au().setFieldRequiredLevel(this.getName(),t)}},setSubmitMode:function(n){var i,t;if((n==="always"||n==="never"||n==="dirty")&&!$0.$1(this.get_$Au())){if(i=this.get_$Au().$1V,i.$bC.set_$I(this.getName(),n),t=i.get_$1jU(),n==="never"&&t.contains(this.getName())){t.remove(this.getName());return}n!=="always"||t.contains(this.getName())||t.add(this.getName())}},setValue:function(n){var t;if(!$0.$1(this.get_$Au())&&!$0.$1(this.get_$I9()))if(this.get_$I9().dataType.toLowerCase()==="twooptions")this.get_$Au().setValue(this.getName(),n?1:0);else if(this.get_$I9().dataType.toLowerCase()!=="lookup.partylist")if(this.get_$I9().dataType.toLowerCase()==="lookup.simple"||this.get_$I9().dataType.toLowerCase()==="lookup.customer"||this.get_$I9().dataType.toLowerCase()==="lookup.owner"||this.get_$I9().dataType.toLowerCase()==="lookup.regarding")if($0.$1(n))this.get_$Au().setValue(this.getName(),null);else if(t=n,t.length){var i=t[0],r=new Microsoft.Crm.Client.Core.Framework.Guid(i.id),u=new Xrm.Objects.EntityReference(i.entityType,r,i.name);this.get_$Au().setValue(this.getName(),u)}else this.get_$Au().setValue(this.getName(),null);else this.get_$Au().setValue(this.getName(),n)}};Microsoft.Crm.Client.Core.ViewModels.$Ta=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Ta.initializeBase(this);this.$Y=new Microsoft.Crm.Client.Core.ViewModels.$RI(n,t,i,r);this.$2V=r;this.controls=this.$Y.controls};Microsoft.Crm.Client.Core.ViewModels.$Ta.prototype={$Y:null,$2V:null,getInitialValue:function(){return 0},getOption:function(n){if($0.$28(n))return null;if(!$0.$1(this.$2V)){var t=this.$2V.$Mw.$2f.get_$I(n.toString());if(!$0.$1(t))return new Xrm.OptionSetItem(t.get_$2O(),t.get_$DL())}return null},getOptions:function(){var n,u,t;if(!$0.$1(this.$2V)){var f=this.$2V.$Mw.$2f.$1e4(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.OptionSetItem)),r=f;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Xrm.OptionSetItem(t.get_$2O(),t.get_$DL()));return i.toArray()}return null},getSelectedOption:function(){return $0.$1(this.getValue())?null:this.getOption(this.getValue()?1:0)},getText:function(){var n=this.getSelectedOption();return $0.$1(n)?"":n.text},addOnChange:function(n){this.$Y.addOnChange(n)},fireOnChange:function(){this.$Y.fireOnChange()},getAttributeType:function(){return this.$Y.getAttributeType()},getFormat:function(){return this.$Y.getFormat()},getIsDirty:function(){return this.$Y.getIsDirty()},getIsValid:function(){return this.$Y.getIsValid()},getName:function(){return this.$Y.getName()},getKey:function(){return this.$Y.getKey()},getParent:function(){return this.$Y.getParent()},getRequiredLevel:function(){return this.$Y.getRequiredLevel()},getSubmitMode:function(){return this.$Y.getSubmitMode()},getUserPrivilege:function(){return this.$Y.getUserPrivilege()},getValue:function(){return this.$Y.getValue()},removeOnChange:function(n){this.$Y.removeOnChange(n)},resetInitialValue:function(n){this.$Y.resetInitialValue(n)},setRequiredLevel:function(n){this.$Y.setRequiredLevel(n)},setSubmitMode:function(n){this.$Y.setSubmitMode(n)},setValue:function(n){this.$Y.setValue(n)}};Microsoft.Crm.Client.Core.ViewModels.$Tb=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Tb.initializeBase(this);this.$Y=new Microsoft.Crm.Client.Core.ViewModels.$RI(n,t,i,r);this.$2V=r;this.controls=this.$Y.controls};Microsoft.Crm.Client.Core.ViewModels.$Tb.prototype={$Y:null,$2V:null,getInitialValue:function(){return 0},getOption:function(n){if($0.$28(n))return null;if(!$0.$1(this.$2V)){var t=this.$2V.$Mw.$2f.get_$I(n.toString());if(!$0.$1(t))return new Xrm.OptionSetItem(t.get_$2O(),t.get_$DL())}return null},getOptions:function(){var n,u,t;if(!$0.$1(this.$2V)){var f=this.$2V.$Mw.$2f.$1e4(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.OptionSetItem)),r=f;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Xrm.OptionSetItem(t.get_$2O(),t.get_$DL()));return i.toArray()}return null},getSelectedOption:function(){return $0.$1(this.getValue())?null:this.getOption(this.getValue())},getText:function(){var n=this.getSelectedOption();return $0.$1(n)?"":n.text},getInvariantText:function(){return""},addOption:function(){},removeOption:function(){},clearOptions:function(){},addOnChange:function(n){this.$Y.addOnChange(n)},fireOnChange:function(){this.$Y.fireOnChange()},getAttributeType:function(){return this.$Y.getAttributeType()},getFormat:function(){return this.$Y.getFormat()},getIsDirty:function(){return this.$Y.getIsDirty()},getIsValid:function(){return this.$Y.getIsValid()},getName:function(){return this.$Y.getName()},getKey:function(){return this.$Y.getKey()},getParent:function(){return this.$Y.getParent()},getRequiredLevel:function(){return this.$Y.getRequiredLevel()},getSubmitMode:function(){return this.$Y.getSubmitMode()},getUserPrivilege:function(){return this.$Y.getUserPrivilege()},getValue:function(){return this.$Y.getValue()},removeOnChange:function(n){this.$Y.removeOnChange(n)},resetInitialValue:function(n){this.$Y.resetInitialValue(n)},setRequiredLevel:function(n){this.$Y.setRequiredLevel(n)},setSubmitMode:function(n){this.$Y.setSubmitMode(n)},setValue:function(n){this.$Y.setValue(n)}};Microsoft.Crm.Client.Core.ViewModels.$SW=function(n,t,i,r){this.$Rh=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$Iv();this.$Fa=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$En();Microsoft.Crm.Client.Core.ViewModels.$SW.initializeBase(this);this.$Y=new Microsoft.Crm.Client.Core.ViewModels.$RI(n,t,i,r);this.$2V=r;this.controls=this.$Y.controls};Microsoft.Crm.Client.Core.ViewModels.$SW.prototype={$Y:null,$2V:null,getUtcValue:function(){var n=this.getValue();return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$Fr(n)&&(n=Microsoft.Crm.Client.Core.Framework.$m.$Q9(n,this.$Rh,this.$2V.$1r.$Bc,this.$Fa)),n},setUtcValue:function(n){Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$Fr(n)&&(n=Microsoft.Crm.Client.Core.Framework.$m.$H2(n,this.$Rh,this.$2V.$1r.$Bc,this.$Fa));this.setValue(n)},addOnChange:function(n){this.$Y.addOnChange(n)},fireOnChange:function(){this.$Y.fireOnChange()},getAttributeType:function(){return this.$Y.getAttributeType()},getFormat:function(){return this.$Y.getFormat()},getIsDirty:function(){return this.$Y.getIsDirty()},getIsValid:function(){return this.$Y.getIsValid()},getName:function(){return this.$Y.getName()},getKey:function(){return this.$Y.getKey()},getParent:function(){return this.$Y.getParent()},getRequiredLevel:function(){return this.$Y.getRequiredLevel()},getSubmitMode:function(){return this.$Y.getSubmitMode()},getUserPrivilege:function(){return this.$Y.getUserPrivilege()},getValue:function(){var n=this.$Y.getValue();return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$Fr(n)&&(n=Microsoft.Crm.Client.Core.Framework.$m.$H2(n,this.$Rh,this.$2V.$1r.$Bc,this.$Fa)),n},removeOnChange:function(n){this.$Y.removeOnChange(n)},resetInitialValue:function(n){this.$Y.resetInitialValue(n)},setRequiredLevel:function(n){this.$Y.setRequiredLevel(n)},setSubmitMode:function(n){this.$Y.setSubmitMode(n)},setValue:function(n){if($0.$1(n))this.$Y.setValue(n);else{var t=n;Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$Fr(t)&&(t=Microsoft.Crm.Client.Core.Framework.$m.$Q9(t,this.$Rh,this.$2V.$1r.$Bc,this.$Fa));this.$Y.setValue(t)}}};Microsoft.Crm.Client.Core.ViewModels.$RJ=function(n,t){var u,s,i,f,o,r,e;if(this.dispose=this.$6D,Microsoft.Crm.Client.Core.ViewModels.$RJ.initializeBase(this),this.$67=n,this.$22=t,this.attributes=new Xrm.XrmEntityAttributes,u=this,!$0.$1(this.get_$7A())&&!$0.$1(this.get_$7A().$14)&&!$0.$1(this.get_$7A().$14.$DV)&&(s=this.get_$7A().$14.$DV,i=s.$y,!$0.$1(i)))for(this.$1Q=i.$J,f=0;f<i.$EE.length;f++)if(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(this.$1Q,i.$EE[f].name),!$0.$1(o)){r=new Microsoft.Crm.Client.Core.Models.$Jh(o);e=(this.get_$7A().$2.$o===13?"crmGrid":this.get_$7A().$G)+":"+this.$1Q+":"+i.$EE[f].name;switch(r.get_$rF()){case 2:u.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$SW(this.$22,this,e,r));break;case 11:case 12:case 13:u.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Tb(this.$22,this,e,r));break;case 0:u.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Ta(this.$22,this,e,r));break;default:u.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$RI(this.$22,this,e,r))}}};Microsoft.Crm.Client.Core.ViewModels.$RJ.prototype={$3w:!1,$67:null,$22:null,$JH:null,$1Q:null,get_$7A:function(){if($0.$1(this.$JH)){var n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$tP(this.$22.$2,this.$22);$0.$1(n)||$0.$1(n.$3P)||(this.$JH=n.$3P)}return this.$JH},addOnSave:function(){},getDataXml:function(){return null},getEntityName:function(){return this.$1Q},getId:function(){if(!$0.$1(this.get_$7A())&&!$0.$1(this.get_$7A().$14)&&!$0.$1(this.get_$7A().$14.$DV)){var t=this.get_$7A().$14.$DV,n=t.getSelectedRecord();if(!$0.$1(n))return n.getRecordId()}return""},setRecordId:function(){},getPrimaryAttributeValue:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.getEntityName()),n;return!$0.$1(t)&&(n=this.attributes.getByName(t.$5e),n)?n.getValue():""},getIsDirty:function(){var t=!1,i,n;return $0.$1(this.get_$7A())||$0.$1(this.get_$7A().$14)||$0.$1(this.get_$7A().$14.$DV)||(i=this.get_$7A().$14.$DV,n=i.getSelectedRecord(),$0.$1(n)||(t=n.isDirty())),t},isInHierarchy:function(){return!1},removeOnSave:function(){},save:function(){},$6D:function(){this.$3w||(this.$3w=!0,this.$67=null,this.$22=null,this.$JH=null,this.attributes=null)}};Microsoft.Crm.Client.Core.ViewModels.$Tc=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$Tc.initializeBase(this);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TU(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$Tc.prototype={$W:null,get_$U7:function(){return this.$W.$Il},get_$9u:function(){return this.$W.$17},get_$1aD:function(){return this.$W.$2l},$7L:function(n,t){this.$W.$7L(n,t)},$ak:function(){this.$W.resetInitial()},getDisabled:function(){return this.$W.getDisabled()},setDisabled:function(n){this.$W.setDisabled(n)},getState:function(){return this.$W.$2l.$EB},refresh:function(){this.get_$1aD().$X6()},addNotification:function(n){return this.$W.addNotification(n)},setNotification:function(n,t){return this.$W.setNotification(n,t)},clearNotification:function(n){return this.$W.clearNotification(n)},clearNotifications:function(){return this.$W.clearNotifications()},getControlType:function(){return"timercontrol"},getParent:function(){return this.$W.getParent()},setFocus:function(){this.$W.setFocus()},getLabel:function(){return this.$W.getLabel()},getName:function(){return this.$W.getName()},getVisible:function(){return this.$W.getVisible()},setLabel:function(n){this.$W.setLabel(n)},setVisible:function(n){this.$W.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$RG=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$RG.initializeBase(this);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TU(n,!1,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$RG.prototype={$W:null,getId:function(){return this.$W.getName()},getLabel:function(){return this.$W.getLabel()},getVisible:function(){return this.$W.getVisible()},setFocus:function(){this.$W.setFocus()},setLabel:function(n){this.$W.setLabel(n)},setVisible:function(n){this.$W.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$RH=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$RH.initializeBase(this);this.items=new Xrm.XrmNavigationItems;this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TU(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$RH.prototype={$W:null};Microsoft.Crm.Client.Core.ViewModels.$Lb=function(n,t){this.$S=n;this.$35=t};Microsoft.Crm.Client.Core.ViewModels.$Lb.prototype={$S:null,$35:null,$7h:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),t,i,r;return $0.$1(this.$S)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$S)?(t=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7004,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["entityType"])),n.reject(new Xrm.OfflineErrorResponse(-7004,t,"")),n.promise()):(i=this,r=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$TG(this.$S,this.$35).then(function(t){var e,u,f,r,o;if($0.$1(t))e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7011,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([i.$S])),n.reject(new Xrm.OfflineErrorResponse(-7011,e,""));else{u=t;for(f in u)if(r={key:f,value:u[f]},!Microsoft.Crm.Client.Core.Offline.$1F.$1VO(r.value)&&r.value!==10){o=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7013,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([r.key]));n.reject(new Xrm.OfflineErrorResponse(-7013,o,""));return}n.resolve(!0)}},function(t){var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7012,null);n.reject(new Xrm.OfflineErrorResponse(-7012,i,t.$E))}),n.promise())}};Microsoft.Crm.Client.Core.ViewModels.$La=function(n,t,i){this.$9l=n;this.$S=t;this.$aN=i};Microsoft.Crm.Client.Core.ViewModels.$La.prototype={$9l:null,$S:null,$aN:0,$7h:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),u,f,e,o,i,r,t,s,h,c,l,a,v,y;if(Xrm.Utility.isMocaOfflineFeatureEnabled())if(Xrm.Utility.isAppOfflineSyncEnabled())if(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r())e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7002,null),n.reject(new Xrm.OfflineErrorResponse(-7002,e,""));else if(Xrm.Utility.isOfflineDataStoreAvailable()){i=this.$9l;for(r in i){t={key:r,value:i[r]};switch(t.key){case"attributes":case"entityType":if($0.$1(t.value)||!t.value.toString().length)return s=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7004,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.key])),n.reject(new Xrm.OfflineErrorResponse(-7004,s,"")),n.promise();break;case"id":if($0.$1(t.value)||!t.value.toString().length||Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.value.toString())===Microsoft.Crm.Client.Core.Framework.Guid.get_empty())return h=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7006,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.value.toString()])),n.reject(new Xrm.OfflineErrorResponse(-7006,h,"")),n.promise();break;case"maxPageSize":if(isNaN(parseInt(t.value.toString())))return c=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7007,null),n.reject(new Xrm.OfflineErrorResponse(-7007,c,"")),n.promise();if(l=Number.parseInvariant(t.value.toString()),l<0)return a=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7008,null),n.reject(new Xrm.OfflineErrorResponse(-7008,a,"")),n.promise();break;case"options":if(!t.value.$RD.startsWith("?"))return v=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7009,null),n.reject(new Xrm.OfflineErrorResponse(-7009,v,"")),n.promise();break;default:return y=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7005,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.key])),n.reject(new Xrm.OfflineErrorResponse(-7005,y,"")),n.promise()}}n.resolve(!0)}else o=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7003,null),n.reject(new Xrm.OfflineErrorResponse(-7003,o,""));else f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7001,null),n.reject(new Xrm.OfflineErrorResponse(-7001,f,""));else u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7e3,null),n.reject(new Xrm.OfflineErrorResponse(-7e3,u,""));return n.promise()}};Microsoft.Crm.Client.Core.ViewModels.$Ld=function(n,t){this.$S=n;this.$aN=t};Microsoft.Crm.Client.Core.ViewModels.$Ld.prototype={$S:null,$aN:0,$7h:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i,t,r;return $0.$1(this.$S)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$S)?(i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7004,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["entityType"])),n.reject(new Xrm.OfflineErrorResponse(-7004,i,"")),n.promise()):(t=this,r=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$S,null).then(function(i){var r,u,f,e,o;$0.$1(i)?(o=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7017,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.$S])),n.reject(new Xrm.OfflineErrorResponse(-7017,o,""))):t.$S in Microsoft.Crm.Client.Core.Offline.$l.get_$6N().get_$7v().$LL?Microsoft.Crm.Client.Core.Offline.$l.get_$6N().$Bs(t.$S)?i.$1Ew&&i.$1EZ&&t.$aN!==1?(f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7034,null),n.reject(new Xrm.OfflineErrorResponse(-7034,f,""))):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(t.$S,t.$aN)?n.resolve(!0):(e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7010,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([Microsoft.Crm.Client.Core.Framework.$52.toString(t.$aN)])),n.reject(new Xrm.OfflineErrorResponse(-7010,e,""))):(u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7016,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.$S])),n.reject(new Xrm.OfflineErrorResponse(-7016,u,""))):(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7015,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.$S])),n.reject(new Xrm.OfflineErrorResponse(-7015,r,"")))},function(){var t=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7014,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([r.$S]));n.reject(new Xrm.OfflineErrorResponse(-7014,t,""))}),n.promise())}};Microsoft.Crm.Client.Core.ViewModels.$Lc=function(n,t,i){this.$aN=n;this.$S=t;this.$Tm=i};Microsoft.Crm.Client.Core.ViewModels.$Lc.prototype={$aN:0,$S:null,$kh:!0,$1rA:!1,$Tm:null,$7h:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),f,n,r,u,i,e,o;if($0.$1(this.$S)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$S))f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7004,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["entityType"])),t.reject(new Xrm.OfflineErrorResponse(-7004,f,""));else if($0.$1(this.$Tm)||$0.$1(this.$Tm.$RD)||!this.$Tm.$RD.length)t.resolve(!0);else{n=[];r=this.$Tm.get_$P3();for(u in r){i={key:u,value:r[u]};switch(i.key){case"$select":Array.add(n,this.$3YE());break;case"$expand":Array.add(n,this.$3Y4());break;case"$top":Array.add(n,this.$3YG());break;case"$orderby":Array.add(n,this.$3YC());break;case"$filter":Array.add(n,this.$3Y8());break;case"fetchXml":Array.add(n,this.$3Y5());break;default:Array.add(n,this.$3YD(i.key,i.value))}}e=this;o=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n).then(function(){t.resolve(!0)},function(n){t.reject(n)})}return t.promise()},$3YE:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),t,i,r;if(this.$tv(n,"$select")){this.$kh=!1;t=null;try{t=this.$Tm.get_$XF()}catch(u){return i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$select"])),n.reject(new Xrm.OfflineErrorResponse(-7020,i,u.message)),n.promise()}if($0.$1(t)||$0.$1(t.get_$Pu())||!t.get_$Pu().length)r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7019,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$select"])),n.reject(new Xrm.OfflineErrorResponse(-7019,r,""));else{var f=new Microsoft.Crm.Client.Core.ViewModels.$Lb(this.$S,t.get_$Pu()),e=this,o=this;f.$7h().then(function(){n.resolve(!0)},function(t){n.reject(t)})}}return n.promise()},$3Y4:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i,t,f,e,s,u,h;if(this.$tv(n,"$expand")){i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$kh=!1;t=null;try{t=this.$Tm.get_$1C6()}catch(c){return f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$expand"])),n.reject(new Xrm.OfflineErrorResponse(-7020,f,c.message)),n.promise()}if($0.$1(t)||!t.get_$1C7().length)e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7019,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$expand"])),n.reject(new Xrm.OfflineErrorResponse(-7019,e,""));else{for(var o=t.get_$1C7(),l=o.length,r=0;r<l;++r)s=o[r],i.add(s.$Tk);u=this;h=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(52,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25(),this.$S,1),null).then(function(t){var e,f,l,s,h;if(t.get_$3ZH()>0){e=t.get_$I(0).get_$5c();for(var o=i.get_Items(),c=o.length,r=0;r<c;++r)if(f=o[r],!(f in e)){l=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));s=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7022,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([f,u.$S]));n.reject(new Xrm.OfflineErrorResponse(-7022,s,""));return}n.resolve(!0)}else h=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7021,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([u.$S])),n.reject(new Xrm.OfflineErrorResponse(-7021,h,""))},function(t){var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7021,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([h.$S]));n.reject(new Xrm.OfflineErrorResponse(-7021,i,t.$E))})}}return n.promise()},$3YG:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),t,i,r;if(this.$tv(n,"$top")){this.$kh=!1;try{t=this.$Tm.get_$4T()}catch(u){return i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$top"])),n.reject(new Xrm.OfflineErrorResponse(-7020,i,u.message)),n.promise()}t>0?n.resolve(!0):(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7023,null),n.reject(new Xrm.OfflineErrorResponse(-7023,r,"")))}return n.promise()},$3YC:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i,t,u,f,o;if(this.$tv(n,"$orderby")){i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$kh=!1;t=null;try{t=this.$Tm.get_$1Yw()}catch(s){return u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$orderby"])),n.reject(new Xrm.OfflineErrorResponse(-7020,u,s.message)),n.promise()}if($0.$1(t)||!t.get_$1Yx().length)f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7019,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$orderby"])),n.reject(new Xrm.OfflineErrorResponse(-7019,f,""));else{for(var e=t.get_$1Yx(),h=e.length,r=0;r<h;++r)o=e[r],i.add(o.$CX);var c=new Microsoft.Crm.Client.Core.ViewModels.$Lb(this.$S,i.toArray()),l=this,a=this;c.$7h().then(function(){n.resolve(!0)},function(t){n.reject(t)})}}return n.promise()},$3Y8:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),t,i,r,f,e;if(this.$tv(n,"$filter")){t=null;this.$kh=!1;try{t=this.$Tm.get_$Yp()}catch(u){return i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$filter"])),n.reject(new Xrm.OfflineErrorResponse(-7020,i,u.message)),n.promise()}$0.$1(t)||$0.$1(t.$6v)?(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7019,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$filter"])),n.reject(new Xrm.OfflineErrorResponse(-7019,r,""))):(f=this,e=this,this.$2as(t.$6v).then(function(t){if(t)n.resolve(!0);else{var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$filter"]));n.reject(new Xrm.OfflineErrorResponse(-7020,i,""))}},function(t){var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$filter"]));n.reject(new Xrm.OfflineErrorResponse(-7020,i,t.$E))}))}return n.promise()},$3Y5:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i,r,t,u,f,e,o;if(this.$kh){if(this.$tv(n,"fetchXml")){this.$1rA=!0;r=this.$Tm.get_$1G();try{t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(r);$0.$1(t)?(u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7025,null),n.reject(new Xrm.OfflineErrorResponse(-7025,u,""))):(f=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(t).$O("fetch"),$0.$1(f)?(e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7025,null),n.reject(new Xrm.OfflineErrorResponse(-7025,e,""))):n.resolve(!0))}catch(s){return o=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7025,null),n.reject(new Xrm.OfflineErrorResponse(-7025,o,s.message)),n.promise()}}}else i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7026,null),n.reject(new Xrm.OfflineErrorResponse(-7026,i,""));return n.promise()},$3YD:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),r,u;if(this.$tv(i,n)){this.$kh=!1;r="";switch(n){case"$skiptoken":$0.$1(t)||isNaN(parseInt(t.toString()))||parseInt(t.toString())<=0?(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7028,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$skiptoken"])),i.reject(new Xrm.OfflineErrorResponse(-7028,r,""))):i.resolve(!0);break;case"$getOnlyRelatedEntity":u=null;$0.$1(t)||(u=Boolean.parse(t.toString()));$0.$1(u)?(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7028,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$getOnlyRelatedEntity"])),i.reject(new Xrm.OfflineErrorResponse(-7028,r,""))):i.resolve(!0);break;default:r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7027,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([n]));i.reject(new Xrm.OfflineErrorResponse(-7027,r,""))}}return i.promise()},$2as:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),i,e,u,s;if($0.$1(n))t.resolve(!0);else{if(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),!$0.$1(n.$AC)&&!$0.$1(n.$AC.get_Items()))for(var f=n.$AC.get_Items(),o=f.length,r=0;r<o;++r)e=f[r],i.add(e.$bg);u=this;s=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$TG(this.$S,i.toArray()).then(function(i){var r,e,c;if(!$0.$1(n.$AC)&&!$0.$1(n.$AC.get_Items()))for(var s=n.$AC.get_Items(),l=s.length,f=0;f<l;++f){r=s[f];try{u.$38t(r.$bg,i[r.$bg],r.$NS)}catch(a){t.reject(Microsoft.Crm.Client.Core.Framework.$4.$i(a.message));return}}if($0.$1(n.$CW)||$0.$1(n.$CW.get_Items()))t.resolve(!0);else{if(!n.$CW.get_Items().length){t.resolve(!0);return}e=[];for(var h=n.$CW.get_Items(),v=h.length,o=0;o<v;++o)c=h[o],Array.add(e,u.$2as(c));Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e).then(function(n){for(var f,i=!0,u=n,e=u.length,r=0;r<e;++r)f=u[r],i=i&&f;t.resolve(i)},function(n){t.reject(n)})}},function(n){t.reject(n)})}return t.promise()},$tv:function(n,t){var i=!0,r,u;switch(t){case"$select":case"$expand":case"$getOnlyRelatedEntity":i=!0;break;case"$top":case"$orderby":case"$filter":case"fetchXml":case"$skiptoken":i=this.$aN===4}return i?this.$1rA&&(u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7026,null),n.reject(new Xrm.OfflineErrorResponse(-7026,u,"")),i=!1):(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7028,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t])),n.reject(new Xrm.OfflineErrorResponse(-7028,r,""))),i},$38t:function(n,t,i){switch(t){case-1:case 23:case 19:case 10:throw Error.create(String.format("Attribute {0} is not supported in filter query option.",n));default:return this.$38s(n,t,i)}},$38s:function(n,t,i){switch(t){case 0:case 1:case 20:case 6:case 7:case 9:case 11:case 12:case 13:case 14:case 15:if(i===Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$J.$GN||i===Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$J.$He)return!0;throw Error.create(String.format("Operator {0} is not supported with attribute {1} in filter query option.",i,n));default:return!0}}};Microsoft.Crm.Client.Core.ViewModels.$LN=function(n){this.$9l=n;this.$1Iu();this.$1HQ()};Microsoft.Crm.Client.Core.ViewModels.$LN.prototype={$S:null,$35:null,$Ba:null,$9l:null,$7h:function(){for(var u,e,o,n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i=[],r=this.$Ba.get_Items(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$7h());return e=this,o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(){n.resolve(!0)},function(t){n.reject(t)}),n.promise()},$1Iu:function(){this.$S=this.$9l.entityType;this.$35=this.$9l.attributes},$1HQ:function(){this.$Ba=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$HS));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$La(this.$9l,this.$S,0));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$Ld(this.$S,0));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$Lb(this.$S,this.$35))}};Microsoft.Crm.Client.Core.ViewModels.$LM=function(n){this.$9l=n;this.$1Iu();this.$1HQ()};Microsoft.Crm.Client.Core.ViewModels.$LM.prototype={$12:null,$S:null,$Ba:null,$9l:null,$7h:function(){for(var u,e,o,n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i=[],r=this.$Ba.get_Items(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$7h());return e=this,o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(){n.resolve()},function(t){n.reject(t)}),n.promise()},$1Iu:function(){this.$12=this.$9l.id;this.$S=this.$9l.entityType},$1HQ:function(){this.$Ba=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$HS));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$La(this.$9l,this.$S,3));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$Ld(this.$S,3))}};Microsoft.Crm.Client.Core.ViewModels.$5a=function(){};Microsoft.Crm.Client.Core.ViewModels.$5a.$1Dn=function(n,t){switch(n){case 0:return new Microsoft.Crm.Client.Core.ViewModels.$LN(t);case 1:return new Microsoft.Crm.Client.Core.ViewModels.$LJ(t);case 2:return new Microsoft.Crm.Client.Core.ViewModels.$LM(t);case 3:return new Microsoft.Crm.Client.Core.ViewModels.$LL(t);case 4:return new Microsoft.Crm.Client.Core.ViewModels.$LO(t);default:return null}};Microsoft.Crm.Client.Core.ViewModels.$LO=function(n){this.$9l=n;this.$1Iu();this.$1HQ()};Microsoft.Crm.Client.Core.ViewModels.$LO.prototype={$S:null,$2f:null,$Ba:null,$9l:null,$7h:function(){for(var u,e,o,n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i=[],r=this.$Ba.get_Items(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$7h());return e=this,o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(){n.resolve()},function(t){n.reject(t)}),n.promise()},$1Iu:function(){this.$S=this.$9l.entityType;this.$2f=this.$9l.options;($0.$1(this.$2f)||$0.$1(this.$2f.$RD)||!this.$2f.$RD.length)&&delete this.$9l.options;$0.$1(this.$9l.maxPageSize)&&delete this.$9l.maxPageSize},$1HQ:function(){this.$Ba=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$HS));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$La(this.$9l,this.$S,1));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$Ld(this.$S,1));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$Lc(4,this.$S,this.$2f))}};Microsoft.Crm.Client.Core.ViewModels.$LL=function(n){this.$9l=n;this.$1Iu();this.$1HQ()};Microsoft.Crm.Client.Core.ViewModels.$LL.prototype={$12:null,$S:null,$2f:null,$Ba:null,$9l:null,$7h:function(){for(var u,e,o,n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i=[],r=this.$Ba.get_Items(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$7h());return e=this,o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(){n.resolve()},function(t){n.reject(t)}),n.promise()},$1Iu:function(){this.$12=this.$9l.id;this.$S=this.$9l.entityType;this.$2f=this.$9l.options;($0.$1(this.$2f)||$0.$1(this.$2f.$RD)||!this.$2f.$RD.length)&&delete this.$9l.options},$1HQ:function(){this.$Ba=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$HS));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$La(this.$9l,this.$S,1));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$Ld(this.$S,1));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$Lc(3,this.$S,this.$2f))}};Microsoft.Crm.Client.Core.ViewModels.$LJ=function(n){this.$9l=n;this.$1Iu();this.$1HQ()};Microsoft.Crm.Client.Core.ViewModels.$LJ.prototype={$12:null,$S:null,$35:null,$Ba:null,$9l:null,$7h:function(){for(var u,e,o,n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i=[],r=this.$Ba.get_Items(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$7h());return e=this,o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(){n.resolve()},function(t){n.reject(t)}),n.promise()},$1Iu:function(){this.$12=this.$9l.id;this.$S=this.$9l.entityType;this.$35=this.$9l.attributes},$1HQ:function(){this.$Ba=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$HS));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$La(this.$9l,this.$S,2));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$Ld(this.$S,2));this.$Ba.add(new Microsoft.Crm.Client.Core.ViewModels.$Lb(this.$S,this.$35))}};Microsoft.Crm.Client.Core.ViewModels.$U7=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$U7.initializeBase(this,[n,t,i,r,u]);this.$7L(n,!0);this.$7L(n,!1)};Microsoft.Crm.Client.Core.ViewModels.$U7.prototype={getControlType:function(){return"RichEditor"}};Microsoft.Crm.Client.Core.ViewModels.$Te=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$Te.initializeBase(this);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TU(n,t,i,r,u);this.$W.$7L(n,!0);this.$W.$7L(n,!1)};Microsoft.Crm.Client.Core.ViewModels.$Te.prototype={$W:null,get_$U7:function(){return this.$W.$Il},get_$9u:function(){return this.$W.$17},get_$1aD:function(){return this.$W.$2l},$7L:function(n,t){this.$W.$7L(n,t)},$ak:function(){this.$W.resetInitial()},getAttribute:function(){return this.$W.getAttribute()},getDisabled:function(){return this.$W.getDisabled()},setDisabled:function(n){this.$W.setDisabled(n)},getParent:function(){return this.$W.getParent()},setNotification:function(n,t){return this.$W.setNotification(n,t)},addNotification:function(n){return this.$W.addNotification(n)},clearNotification:function(n){return this.$W.clearNotification(n)},clearNotifications:function(){return this.$W.clearNotifications()},setFocus:function(){this.$W.setFocus()},getControlType:function(){return"GridCell"},getLabel:function(){return this.$W.getLabel()},getName:function(){return this.$W.getName()},getVisible:function(){return this.$W.getVisible()},setLabel:function(n){this.$W.setLabel(n)},setVisible:function(n){this.$W.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$UA=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$UA.initializeBase(this);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TU(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$UA.prototype={$W:null,addOnKeyPress:function(n){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&n&&this.get_$9u().AddOnKeyPress(n)},fireOnKeyPress:function(n){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&this.get_$9u().FireOnKeyPress(n)},removeOnKeyPress:function(n){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&n&&this.get_$9u().RemoveOnKeyPress(n)},getValue:function(){return this.get_$9u().GetValue()},get_$U7:function(){return this.$W.$Il},get_$9u:function(){return this.$W.$17},get_$1aD:function(){return this.$W.$2l},$7L:function(n,t){this.$W.$7L(n,t)},$ak:function(){this.$W.resetInitial()},getAttribute:function(){return this.$W.getAttribute()},getDisabled:function(){return this.$W.getDisabled()},setDisabled:function(n){this.$W.setDisabled(n)},clearNotification:function(n){return this.$W.clearNotification(n)},clearNotifications:function(){return this.$W.clearNotifications()},getControlType:function(){return this.$W.getControlType()},getParent:function(){return this.$W.getParent()},setNotification:function(n,t){return this.$W.setNotification(n,t)},addNotification:function(n){return this.$W.addNotification(n)},setFocus:function(){this.$W.setFocus()},getLabel:function(){return this.$W.getLabel()},getName:function(){return this.$W.getName()},getVisible:function(){return this.$W.getVisible()},setLabel:function(n){this.$W.setLabel(n)},setVisible:function(n){this.$W.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$Td=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$Td.initializeBase(this);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TU(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$Td.prototype={$W:null,get_$U7:function(){return this.$W.$Il},get_$9u:function(){return this.$W.$17},get_$1aD:function(){return this.$W.$2l},$7L:function(n,t){this.$W.$7L(n,t)},$ak:function(){this.$W.resetInitial()},getControlType:function(){return"kbsearch"},setSearchQuery:function(n){try{var t;return!$0.$1(this.$W.$2l)&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$84.isInstanceOfType(this.$W.$2l)&&(t=this.$W.$2l,t.$2XZ(n)),!$0.$1(this.$W.$17)&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$84.isInstanceOfType(this.$W.$17)&&(t=this.$W.$17,t.$2XZ(n)),1}catch(i){return 0}},getSearchQuery:function(){var n="";return!$0.$1(this.$W.$2l)&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$84.isInstanceOfType(this.$W.$2l)&&(n=this.$W.$2l.get_$3QD()),n},isKnowledgeInCrm:function(){var n=!0,t=this.get_$U8();return $0.$1(t)||(n=t.get_$3AA()),!n},get_$U8:function(){return!$0.$1(this.$W.$2l)&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$84.isInstanceOfType(this.$W.$2l)?this.$W.$2l:null},getSelectedResults:function(){var t=null,n=this.get_$U8();return $0.$1(n)||$0.$1(n.get_$209())||(t=n.get_$209()),t},getTotalResultCount:function(){var n=0,t=this.get_$U8();return $0.$1(t)||(n=t.$2Jv()),n},openSearchResult:function(n,t){var i=0,r=this.get_$U8();return $0.$1(r)||(i=r.$1Yu(n,t)),i},addOnPostSearch:function(n){var t=this.get_$U8();$0.$1(t)||t.$24w(n)},addOnPreSearch:function(n){var t=this.get_$U8();$0.$1(t)||t.$24x(n)},addOnResultOpened:function(n){var t=this.get_$U8();$0.$1(t)||t.$24y(n)},addOnSelection:function(n){var t=this.get_$U8();$0.$1(t)||t.$24z(n)},removeOnPostSearch:function(n){var t=this.get_$U8();$0.$1(t)||t.$2Tg(n)},removeOnPreSearch:function(n){var t=this.get_$U8();$0.$1(t)||t.$2Th(n)},removeOnResultOpened:function(n){var t=this.get_$U8();$0.$1(t)||t.$2Ti(n)},removeOnSelection:function(n){var t=this.get_$U8();$0.$1(t)||t.$2Tj(n)},clearNotification:function(n){return this.$W.clearNotification(n)},getParent:function(){return this.$W.getParent()},setFocus:function(){this.$W.setFocus()},setNotification:function(n,t){return this.$W.setNotification(n,t)},addNotification:function(n){return this.$W.addNotification(n)},clearNotifications:function(){return this.$W.clearNotifications()},getLabel:function(){return this.$W.getLabel()},getName:function(){return this.$W.getName()},getVisible:function(){return this.$W.getVisible()},setLabel:function(n){this.$W.setLabel(n)},setVisible:function(n){this.$W.setVisible(n)},clearSearch:function(){return}};Microsoft.Crm.Client.Core.ViewModels.$LI=function(){};Microsoft.Crm.Client.Core.ViewModels.$LI.prototype={$1Hm:null,$33j:function(n){if(Mscrm.InternalUtilities._String.isNullOrEmpty(n.$1MR))return"";var t=Microsoft.Crm.Client.Core.Framework.$3.$MN("<attribute name='{0}' />",n.$1MR);return"<fetch mapping='logical' returntotalrecordcount='true' page='{0}' count='{1}'><entity name='knowledgearticle'><attribute name='knowledgearticleid' /><attribute name='articlepublicnumber' /><attribute name='title' /><attribute name='description' /><attribute name='content' /><attribute name='knowledgearticleviews' /><attribute name='createdon' /><attribute name='modifiedon' /><attribute name='statecode' /><attribute name='statuscode' /><attribute name='expirationdate' /><attribute name='languagelocaleid' /><attribute name='majorversionnumber' /><attribute name='minorversionnumber' /><attribute name='islatestversion' /><attribute name='rating' />{2}{3}{4}<\/entity><\/fetch>".indexOf(t)>=0?"":t},$34E:function(n){if(Mscrm.InternalUtilities._String.isNullOrEmpty(n.$yE))return"";var t=n.$bv?"true":"false";return Microsoft.Crm.Client.Core.Framework.$3.$MN("<order attribute='{0}' descending='{1}' />",n.$yE,t)},$31f:function(n){return Mscrm.InternalUtilities._String.isNullOrEmpty(n.$1Lx)?"":String.format("<filter><condition attribute='languagelocaleid' operator='eq' value='{0}'/><\/filter>",CrmEncodeDecode.CrmHtmlEncode(n.$1Lx))},$34Z:function(n){return Mscrm.InternalUtilities._String.isNullOrEmpty(n.$1LK)?3:Number.parseInvariant(n.$1LK)},$2zW:function(n){var i=Mscrm.InternalUtilities._String.format("<fetch mapping='logical' returntotalrecordcount='true' page='{0}' count='{1}'><entity name='knowledgearticle'><attribute name='knowledgearticleid' /><attribute name='articlepublicnumber' /><attribute name='title' /><attribute name='description' /><attribute name='content' /><attribute name='knowledgearticleviews' /><attribute name='createdon' /><attribute name='modifiedon' /><attribute name='statecode' /><attribute name='statuscode' /><attribute name='expirationdate' /><attribute name='languagelocaleid' /><attribute name='majorversionnumber' /><attribute name='minorversionnumber' /><attribute name='islatestversion' /><attribute name='rating' />{2}{3}{4}<\/entity><\/fetch>",n.$1gp,n.$Xt,this.$33j(n),this.$31f(n),this.$34E(n));this.$1Hm=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$Bs,Microsoft.Crm.Client.Core.ViewModels.$Bs);var r=this.$34Z(n),t=this,u=this;return Xrm.Internal.messages.fullTextSearchKnowledgeArticle(n.$1h6,!0,!1,r,i).then(function(i){var r=t.$2nk(n,i);t.$1Hm.resolve(r)},function(n){u.$2oh(n)}),this.$1Hm},$2nk:function(n,t){var u=t,i=new Microsoft.Crm.Client.Core.ViewModels.$Bs,r;return u&&u.entityCollection&&(r=u.entityCollection,i.$1hR=r.$A8,i.$24D=r.get_count(),i.$Xt=n.$Xt,i.$1gc=r.$Bw,i.$1gK=!0,i.$1Kj=this.$2jA(r)),i},$2oh:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$Bs;t.$1gK=!1;t.$Ug=n.get_localizedMessage();this.$1Hm.reject(t)},$2jA:function(n){for(var u,f=new(Microsoft.Crm.Client.Core.Framework.$C0.$$(Microsoft.Crm.Client.Core.ViewModels.$97)),r=0;n.get_count()>r;r++){var t=n.get_$I(r),i=new Microsoft.Crm.Client.Core.ViewModels.$97,e=new(Microsoft.Crm.Client.Core.Framework.$C1.$$(Microsoft.Crm.Client.Core.ViewModels.$97));i.$be=t.getValue("articlepublicnumber").toString();i.$KI=t.getValue("knowledgearticleid").toString();i.$4r=t.getValue("title").toString();i.$c8="";i.$1L7=t.getValue("description")?t.getValue("description").toString():"";i.$Rp=t.getValue("content")?t.getValue("content").toString():"";i.$y3=new Date(t.getValue("modifiedon").toString());i.$jR=new Date(t.getValue("createdon").toString());u=t.getFieldObjectData("statecode").value;i.$1Mr=u;i.$c7=u===3;i.$kC=t.getValue("knowledgearticleviews")?t.getValue("knowledgearticleviews"):0;t.getValue("expirationdate")&&(i.$17n=new Date(t.getValue("expirationdate").toString()));i.$xk=t.$4Y;e.set_$dt(i);f.$2i(e)}return f}};Microsoft.Crm.Client.Core.ViewModels.$LK=function(n){this.$1F4=n};Microsoft.Crm.Client.Core.ViewModels.$LK.prototype={$1F4:!1,get_$1iQ:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6(this.$1F4?"SearchWidget.Mobile.Filters.AllDraftArticles":"SearchWidget.Filters.AllDraftArticles")},get_$1Nh:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6(this.$1F4?"SearchWidget.Mobile.Filters.AllPublishedArticles":"SearchWidget.Filters.AllPublishedArticles")},get_$1iN:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6(this.$1F4?"SearchWidget.Mobile.Filters.AllApprovedArticles":"SearchWidget.Filters.AllApprovedArticles")},get_$2bf:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchKMArticles.ActionsPopupTitle")},get_$2TG:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SearchWidget.Filters.Relevance")},get_$2PB:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SearchWidget.Filters.NumberOfViews")},get_$2NQ:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SearchWidget.Filters.LastModifiedDate.NewestFirst")},get_$2NR:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SearchWidget.Filters.LastModifiedDate.OldestFirst")},get_$3BA:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SearchWidget.Enabled.ErrorCause")+" "+Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SearchWidget.Enabled.ErrorAction")},get_$3IT:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchMode.Parature.ErrorMessage")},get_$8R:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SearchWidget.Parature.InternalServer.500.C5000")},get_LocalizedAtlCopyLinkText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchKMArticles.CopyArticleIconAltText")},get_LocalizedToolTipCopyLinkText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchKMArticles.CopyArticleIconToolTip")},get_TextAnalyticsConfigureError:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_0x80061691")}};Microsoft.Crm.Client.Core.ViewModels.$97=function(){Microsoft.Crm.Client.Core.ViewModels.$97.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$97.prototype={$kC:0,get_timesViewed:function(){return this.$kC},set_timesViewed:function(n){return this.$kC=n,n},$4r:null,get_title:function(){return this.$4r},set_title:function(n){return this.$4r=n,n},$Rp:null,get_content:function(){return this.$Rp},set_content:function(n){return this.$Rp=n,n},$1MQ:null,get_publicUrl:function(){return this.$1MQ},set_publicUrl:function(n){return this.$1MQ=n,n},$c7:!1,get_published:function(){return this.$c7},set_published:function(n){return this.$c7=n,n},$be:null,get_articleId:function(){return this.$be},set_articleId:function(n){return this.$be=n,n},$KI:null,get_articleUId:function(){return this.$KI},set_articleUId:function(n){return this.$KI=n,n},$17n:null,get_expiredDate:function(){return this.$17n},set_expiredDate:function(n){return this.$17n=n,n},$1L7:null,get_description:function(){return this.$1L7},set_description:function(n){return this.$1L7=n,n},$c8:null,get_rating:function(){return this.$c8},set_rating:function(n){return this.$c8=n,n},$1Mr:0,get_stateCode:function(){return this.$1Mr},set_stateCode:function(n){return this.$1Mr=n,n},$yQ:0,get_statusCode:function(){return this.$yQ},set_statusCode:function(n){return this.$yQ=n,n},$1gv:null,get_publicNumber:function(){return this.$1gv},set_publicNumber:function(n){return this.$1gv=n,n},$xk:null,get_formattedValues:function(){return this.$xk},set_formattedValues:function(n){return this.$xk=n,n}};Microsoft.Crm.Client.Core.ViewModels.$98=function(){};Microsoft.Crm.Client.Core.ViewModels.$98.$$cctor=function(){Microsoft.Crm.Client.Core.Framework.$49.$2TB(Microsoft.Crm.Client.Core.ViewModels.$97,"KbSearchStrategy",function(){return new Microsoft.Crm.Client.Core.ViewModels.$98})};Microsoft.Crm.Client.Core.ViewModels.$98.prototype={$1IT:null,$18L:!1,$30V:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$LI,t=this,r=this;i.$2zW(n).done(function(n){t.$18L=n.$1gc;var i=new(Microsoft.Crm.Client.Core.Framework.$8V.$$(Microsoft.Crm.Client.Core.ViewModels.$97));n.$1Kj&&i.$2i(n.$1Kj);i.set_$3bl(n.$1hR);t.$1IT.resolve(i)}).fail(function(){var n=Microsoft.Crm.Client.Core.Framework.$4.$i(new Microsoft.Crm.Client.Core.ViewModels.$LK(!1).get_$8R());r.$1IT.reject(n)})},$28S:function(n,t,i){var r=new Microsoft.Crm.Client.Core.ViewModels.$LP;return r.$1h6=n.$Gx._searchoption_.toString(),r.$Xt=t,r.$1gp=i,r.$bv=!n.$Gx.isdescending||!n.$Gx.isdescending?!1:!0,"orderby"in n.$Gx&&(r.$yE=n.$Gx.orderby.toString()),"filter"in n.$Gx&&(r.$1LK=n.$Gx.filter.toString()),"language"in n.$Gx&&(r.$1Lx=n.$Gx.language.toString()),"showRatingUsing"in n.$Gx&&(r.$1MR=n.$Gx.showRatingUsing.toString()),r},$hq:function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$98.$q3=i;this.$1IT=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$8V.$$(Microsoft.Crm.Client.Core.ViewModels.$97),Microsoft.Crm.Client.Core.Framework.$4);var r=this.$28S(n,t,i);return this.$30V(r),this.$1IT}};Microsoft.Crm.Client.Core.ViewModels.$LP=function(){};Microsoft.Crm.Client.Core.ViewModels.$LP.prototype={$1gp:0,$Xt:0,$1h6:null,$yE:null,$1Lx:null,$bv:!1,$1LK:null,$1MR:null};Microsoft.Crm.Client.Core.ViewModels.$Bs=function(){};Microsoft.Crm.Client.Core.ViewModels.$Bs.prototype={$1gc:!1,$1Kj:null,$1hR:0,$24D:0,$Xt:0,$1gK:!1,$Ug:null};Microsoft.Crm.Client.Core.ViewModels.$LT=function(n,t){this.get_isAssociated=this.get_$1VM;this.get_answer=this.get_$3ad;this.get_articleId=this.get_$3af;this.get_articleUid=this.get_$3ah;this.get_createdOn=this.get_$3aj;this.get_expiredDate=this.get_$3al;this.get_href=this.get_$3an;this.get_lastModifiedOn=this.get_$3ap;this.get_publicUrl=this.get_$3ar;this.get_published=this.get_$3at;this.get_question=this.get_$3av;this.get_rating=this.get_$3ax;this.get_searchBlurb=this.get_$3az;this.get_serviceDeskUri=this.get_$3b1;this.get_timesViewed=this.get_$3b3;this.$LC=n;this.$hs=t};Microsoft.Crm.Client.Core.ViewModels.$LT.prototype={$LC:null,$hs:null,get_$1VM:function(){return Microsoft.Crm.Client.Core.ViewModels.$y.$1VM(this.$LC,this.$hs)},get_$3ad:function(){return this.$LC.$Rp},get_$3af:function(){return this.$LC.$be},get_$3ah:function(){return this.$LC.$KI},get_$3aj:function(){return this.$LC.$jR},get_$3al:function(){return this.$LC.$17n},get_$3an:function(){return""},get_$3ap:function(){return this.$LC.$y3},get_$3ar:function(){return this.$LC.$1MQ},get_$3at:function(){return this.$LC.$c7},get_$3av:function(){return this.$LC.$4r},get_$3ax:function(){return 42},get_$3az:function(){return this.$hs.get_SearchText()},get_$3b1:function(){return""},get_$3b3:function(){return this.$LC.$kC}};Microsoft.Crm.Client.Core.ViewModels.$LU=function(){};Microsoft.Crm.Client.Core.ViewModels.$LU.prototype={$jR:null,get_createdOn:function(){return this.$jR},set_createdOn:function(n){return this.$jR=n,n},$y3:null,get_lastModifiedOn:function(){return this.$y3},set_lastModifiedOn:function(n){return this.$y3=n,n}};Microsoft.Crm.Client.Core.ViewModels.$RA=function(){Microsoft.Crm.Client.Core.ViewModels.$RA.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$RA.$$cctor=function(){$0.$1(Microsoft.Crm.Client.Core.ViewModels.$4j.$Ao)||(Microsoft.Crm.Client.Core.ViewModels.$4j.$Ao=new Microsoft.Crm.Client.Core.ViewModels.$RA)};Microsoft.Crm.Client.Core.ViewModels.$RA.prototype={$28r:function(n){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()?new Microsoft.Crm.Client.Core.ViewModels.$50(n):Microsoft.Crm.Client.Core.ViewModels.$4j.prototype.$28r.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.$A7=function(){var i,t,r,n;for(this.$$d_$Os=Function.createDelegate(this,this.$Os),this.set_$1QI=this.set_Date,Microsoft.Crm.Client.Core.ViewModels.$A7.initializeBase(this),this.$ST=!1,this.$2NL="yyyy/MM/dd",this.$g2=Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern,this.$1Fb=Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortTimePattern,i=Sys.CultureInfo.CurrentCulture.dateTimeFormat.DateSeparator,this.$g2=this.$g2.replace("/",i),this.$g2=this.$g2.replace("/",i),this.$Ke=new Date,this.$Ue="",this.$1Mv=this.$Ke.localeFormat(this.$g2),t=Sys.CultureInfo.CurrentCulture.dateTimeFormat,this.$Y2=t.ShortestDayNames,this.$17c=t.DayNames,r=t.AbbreviatedMonthNames,this.$y7=new Array(12),n=0;n<12;n++)this.$y7[n]=r[n];this.$Lz=""};Microsoft.Crm.Client.Core.ViewModels.$A7.prototype={$Ke:null,$2NL:null,$g2:null,$1Fb:null,$ST:!1,$M3:!1,$1VJ:!1,$16N:null,$Y2:null,get_ShortestDayNames:function(){return this.$Y2},set_ShortestDayNames:function(n){return this.$Y2=n,n},$17c:null,get_DayNames:function(){return this.$17c},set_DayNames:function(n){return this.$17c=n,n},$y7:null,get_MonthNames:function(){return this.$y7},set_MonthNames:function(n){return this.$y7=n,n},$1Mv:null,get_TodayDateString:function(){return this.$1Mv},set_TodayDateString:function(n){return this.$1Mv=n,n},$Ue:null,get_DateValueInString:function(){return this.$Ue},set_DateValueInString:function(n){return this.$Ue=n,n},$1Kh:null,get_AllDayAdjustedDate:function(){return this.$1Kh},set_AllDayAdjustedDate:function(n){return this.$1Kh=n,n},$18W:null,get_PreviousDateValueInString:function(){return this.$18W},set_PreviousDateValueInString:function(n){return this.$18W=n,n},$17b:null,get_DateTimeValueInString:function(){return this.$17b},set_DateTimeValueInString:function(n){return this.$17b=n,n},$Lz:null,get_TimeValueInString:function(){return this.$Lz},set_TimeValueInString:function(n){return this.$Lz=n,n},$Bc:0,get_Behavior:function(){return this.$Bc},set_Behavior:function(n){return this.$Bc!==n&&(this.$Bc=n,this.$8("Behavior")),n},$3A2:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$D.$1Gg(n.toString());return!$0.$1(n)&&!isNaN(t)},get_Data:function(){return Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.get_Data.call(this)},set_Data:function(n){var t=n;return!$0.$1(n)&&this.$3A2(n)&&(n=""),String.isInstanceOfType(n)&&(t=new Date(n)),Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.set_Data.call(this,t),n},get_Date:function(){var n=null;return this.$Fr(this.get_Data())&&(n=Microsoft.Crm.Client.Core.Framework.$m.$H2(this.get_Data(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$Iv(),this.get_Behavior(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$En())),n},set_Date:function(n){return this.$Fr(n)&&(n=Microsoft.Crm.Client.Core.Framework.$m.$Q9(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$Iv(),this.get_Behavior(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$En())),this.set_Data(n),n},$ya:null,get_TimeFrame:function(){return this.$ya},set_TimeFrame:function(n){return this.$ya=n,n},$1Lr:!1,get_IsPickerClicked:function(){return this.$1Lr},set_IsPickerClicked:function(n){return this.$1Lr=n,n},$18:function(){this.$1y||(this.$16N={},Microsoft.Crm.Client.Core.ViewModels.$Ey.prototype.$18.call(this),this.$1eU())},get_ShowTime:function(){return this.$BN==="datetime"||this.$BN==="time"},set_ShowTime:function(n){if(this.set_Format(n?"datetime":"date"),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){var t=this.$G.split("_"),i=this.get_ModelContext();i.$3Sj(t[0],this.$BN==="datetime"?"dateandtime":"dateonly")}return n},get_AllDayDisplay:function(){return this.$M3},set_AllDayDisplay:function(n){var t,i;return this.$M3===n||$0.$1(this.get_Data())||(this.$1VJ=!0,this.$M3=n,t=this.$G.split("_"),!$0.$1(t)&&t.length>0&&(i=this.get_ModelContext(),i.$2X0(t[0],this.$M3))),n},$Fr:function(n){return Date.isInstanceOfType(n)||Object.prototype.toString.call(n)==="[object Date]"},$GX:function(){$0.$1(this.$RY)||(this.$RY.RemovePropertyChangedListener("SelectedItem",this.$$d_$Os),this.$RY.dispose(),this.$RY=null);this.$16N=null;this.$Y2=null;this.$17c=null;this.$y7=null;Microsoft.Crm.Client.Core.ViewModels.$Ey.prototype.$GX.call(this)},$1eU:function(){for(var t,i=new Array(24),r=0,u=this.$2u9(),f=u.length,n=0;n<f;++n)t=u[n],i[r]=new Microsoft.Crm.Client.Core.ViewModels.$Cs(t,t),r++;this.get_DatetimeListComboBox().set_ItemsList(i);this.get_DatetimeListComboBox().AddPropertyChangedListener("SelectedItem",this.$$d_$Os)},$Os:function(){var t,i,n,r,u,f;IsNull(this.$RY.$51)||(this.$Lz=this.$RY.$51,t=0,i=0,$0.$1(this.$Ke)&&(this.$Ke=new Date),this.$Ke.setHours(0),this.$Ke.setMinutes(0),t=this.$Ke.getTimezoneOffset(),n=this.$Ke,r=0,$0.$1(this.$Ue)||this.$BN!=="datetime"||(r=this.$2Jt(this.$Lz)),n.setTime(n.getTime()+r),i=n.getTimezoneOffset(),i-t&&(u=(i-t)*6e4,n.setTime(n.getTime()+u)),this.$17b=n.toString(),this.$Ke=new Date(n.getTime()),isNaN(n.getDate())?this.set_Data(null):(f=Microsoft.Crm.Client.Core.Framework.$m.$Q9(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$Iv(),this.get_Behavior(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$En()),this.set_Data(f)),this.$1Lr=!1)},get_ClearFilter:function(){return this.$ST},set_ClearFilter:function(n){return this.$ST=n,n&&this.clearFilterValues(),n},get_DatetimeListComboBox:function(){return $0.$1(this.$RY)&&(this.$RY=new Microsoft.Crm.Client.Core.ViewModels.$9i),this.$RY},$RY:null,get_DateTimeObject:function(){return this.$Ke},set_DateTimeObject:function(n){var t,i,r;return this.$Ke=n,!this.$1VJ&&this.$M3&&this.$Ke.setHours(this.$Ke.getHours()+24),$0.$1(n)||isNaN(n.getDate())?(this.$Ue="",this.$Lz="",this.set_Data(null)):(t=this.$Ke,this.$Ue=t.localeFormat(this.$g2),this.$M3&&(i=new Date(this.$Ue),i.setHours(i.getHours()-24),this.$1Kh=i.localeFormat(this.$g2)),this.$Ue!==this.$18W?(this.$RY.$51===""&&this.$Lz===""?(this.$Lz=t.localeFormat(this.$1Fb),this.$16N[this.$Lz]=t.format("h:mm tt")):this.$Lz=this.$RY.$51,t.setHours(0),t.setMinutes(0),this.$M3||t.setTime(this.$2Jt(this.$Lz)+t.getTime())):this.$Lz=t.localeFormat(this.$1Fb),this.$18W=this.$Ue,this.$17b=t.toString(),r=Microsoft.Crm.Client.Core.Framework.$m.$Q9(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$Iv(),this.get_Behavior(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$En()),this.set_Data(new Date(r.getTime()))),this.$RY.set_SelectedItem(this.$Lz),this.$M3&&(this.$1VJ=!1),this.$8("DateValueSet"),n},$2Jt:function(n){var u=new Date("23 Feb, 1991 "+this.$16N[n]),f=u.localeFormat("H:mm"),t=new Array(2),i=0,r=0;return t=f.trim().split(":"),i=parseInt(t[0]),r=parseInt(t[1]),(i*60+r)*6e4},$BN:null,get_Format:function(){return this.$BN},set_Format:function(n){return this.$BN!==n&&(this.$BN=n,this.$8("Format")),n},$1Jr:null,get_timeFormat:function(){return $0.$1(this.$1Jr)&&(this.$1Jr="12"),this.$1Jr},set_timeFormat:function(n){if(n!=="12"&&n!=="24")throw Error.argumentNull("TimeFormat invalid for control DateTime - TimeFormat can only be 12 or 24");else this.$1Jr=n;return n},clearFilterValues:function(){this.$Ue="";this.$Lz="";this.$Ke=new Date;this.set_Data(null);this.$8("DateValueSet")},$2u9:function(){for(var t,u=0,f=new Array(24),i,r,n=0;n<24;n++)for(t=0;t<60;t+=15)i=new Date(0,0,0,n,t,0),r=i.localeFormat(this.$1Fb),this.$16N[r]=i.format("h:mm tt"),f[u]=r,u++;return f}};Microsoft.Crm.Client.Core.ViewModels.$AC=function(){this.$$d_$Os=Function.createDelegate(this,this.$Os);Microsoft.Crm.Client.Core.ViewModels.$AC.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$AC.prototype={$1Qr:null,$1bs:null,$n9:null,$Yb:null,$10P:null,get_DurationItemList:function(){return this.$10P},get_DurationListComboBox:function(){return $0.$1(this.$Yb)&&(this.$Yb=new Microsoft.Crm.Client.Core.ViewModels.$9i),this.$Yb},get_InitialText:function(){return this.$n9},set_InitialText:function(n){if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))this.$n9=this.$10P[2].get_Label();else{var t=parseInt(n);this.$n9=this.$2Ds(t);this.$8("InitialTextSet")}return n},get_DurationValue:function(){return this.$1Qr},set_DurationValue:function(n){if(n){var t=Number.parseLocale(n);this.$1Qr=this.$2Ds(t);this.$8("DurationValueSet")}else this.$1Qr="";return n},get_SelectedDuration:function(){return this.$1bs},set_SelectedDuration:function(n){var t=n;return this.$1bs=this.$2si(t).toString(),this.$8("SelectedDurationSet"),n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$1eU())},$GX:function(){$0.$1(this.$Yb)||(this.$Yb.RemovePropertyChangedListener("SelectedItem",this.$$d_$Os),this.$Yb.dispose(),this.$Yb=null);this.$10P=null;Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)},$Os:function(){IsNull(this.$Yb.$51)||this.set_DurationValue(this.$Yb.$51)},$2Ds:function(n){var r=null,e=1e-8,t=n,u,i,o;if(isNaN(t))r=n.toLocaleString();else if(t<60){if(u=String.localeFormat("{0:N0}",t),$0.$28(u)||!u.length)return null;r=t===1?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Minute").toString(),u):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Minutes").toString(),u)}else if(t>=60&&t<1440)i=t/60,o=String.localeFormat("{0:N2}",i),(Math.abs(i%1)<=e||Math.abs(i%1-1)<=e)&&(o=String.localeFormat("{0:N0}",i)),r=i===1?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hour").toString(),o):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),o);else if(t>=1440){var h=t/60,f=h/24,s=String.localeFormat("{0:N2}",f);(Math.abs(f%1)<=e||Math.abs(f%1-1)<=e)&&(s=String.localeFormat("{0:N0}",f));r=f===1?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Day").toString(),s):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Days"),s)}return r},$2si:function(n){var t,i;return Microsoft.Crm.Client.Core.Framework.$3.$9(n)?0:(t=n.toString().split(" ")[1],i=Number.parseLocale(n.toString().split(" ")[0]),t===String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"").trim()||t===String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hour").toString(),"").trim()?i*60:t===String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Day").toString(),"").trim()||t===String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Days").toString(),"").trim()?i*1440:i)},$2kW:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Minute").toString(),"1")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Minutes").toString(),"15")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Minutes").toString(),"30")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Minutes").toString(),"45")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hour").toString(),"1")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"1.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"2")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"2.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"3")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"3.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"4")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"4.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"5.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"6")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"6.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"7")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"7.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Hours").toString(),"8")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Day").toString(),"1")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Days").toString(),"2")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppDurationControl_Days").toString(),"3")),n},$1eU:function(){for(var t=this.$2kW(),i=new Array(t.get_Count()),n=0;n<t.get_Count();n++)i[n]=new Microsoft.Crm.Client.Core.ViewModels.$Cs(n.toLocaleString(),t.get_$I(n));this.get_DurationListComboBox().set_ItemsList(i);this.get_DurationListComboBox().AddPropertyChangedListener("SelectedItem",this.$$d_$Os);this.$10P=i},listItemScreenReaderText:function(n,t,i){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DurationControl_ListItem_ScreenReader_Text"),n,t,i)},selectedItemScreenReaderText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DurationControl_SelectedItem_ScreenReader_Text"),this.$1bs)},onFocusScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DurationControl_OnFocus_ScreenReader_Text"),n,this.$10P.length)}};Microsoft.Crm.Client.Core.ViewModels.$3B=function(){this.$1bj=-1};Microsoft.Crm.Client.Core.ViewModels.$3B.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Core.ViewModels.$3B.$D)&&(Microsoft.Crm.Client.Core.ViewModels.$3B.$D=new Microsoft.Crm.Client.Core.ViewModels.$3B),Microsoft.Crm.Client.Core.ViewModels.$3B.$D};Microsoft.Crm.Client.Core.ViewModels.$3B.prototype={$1RU:0,$19G:0,get_$3AX:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()},$15D:function(n){this.$19G!==1&&this.$2Yu(n)},$2Va:function(){this.$26p();var n=this;this.$3Q4(function(){if(n.$19G===1){n.$2Va();return}n.$2Yu(!1)},"MailAppRecipientsShadowResolution",1e4)},$2Yu:function(n){var t=this.$343(n),r=this,i;t.add_$RQ(function(){r.$1RU=0;r.$25B()});i=this;t.add_$OG(function(){i.$1RU++;i.$25B()});this.$2fD();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$SB.$2d(t)},$2fD:function(){this.$26p();this.$19G=1},$25B:function(){this.$19G=0;this.get_$3AX()&&this.$1RU<5&&this.$2Va()},$343:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$M(null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("ResolveRecipients",{resolveFromScratch:n}));return t.$4Z()},$3Q4:function(n,t,i){var r=this;this.$1bj=window.setTimeout(function(){Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n()},0,t)},i)},$26p:function(){this.$1bj!==-1&&window.clearTimeout(this.$1bj)}};Microsoft.Crm.Client.Core.ViewModels.$TY=function(n,t,i){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.$TY.initializeBase(this);this.set_$2e(this.$$d_$31);this.$hs=n;this.$1CV=i;this.$HD=t};Microsoft.Crm.Client.Core.ViewModels.$TY.prototype={$hs:null,$1CV:null,$HD:0,$31:function(){switch(this.$HD){case 0:this.$hs.get_ArticleFilterViewModel().set_SelectedItem(this.$1CV);break;case 1:this.$hs.get_SortFilterViewModel().set_SelectedItem(this.$1CV);break;case 2:this.$hs.get_ArticleLanguageFilterViewModel().set_SelectedItem(this.$1CV)}}};Microsoft.Crm.Client.Core.ViewModels.$LS=function(){};Microsoft.Crm.Client.Core.ViewModels.$LS.prototype={$y2:null,get_KbSearchFilterCommand:function(){return this.$y2},set_KbSearchFilterCommand:function(n){return this.$y2=n,n},$J1:null,get_Label:function(){return this.$J1},set_Label:function(n){return this.$J1=n,n},$53:null,get_Value:function(){return this.$53},set_Value:function(n){return this.$53=n,n},$xr:!1,get_IsActive:function(){return this.$xr},set_IsActive:function(n){return this.$xr=n,n},$1hD:!1,get_ShowChildren:function(){return this.$1hD},set_ShowChildren:function(n){return this.$1hD=n,n},$1X1:null,get_$1tw:function(){return $0.$1(this.$1X1)&&(this.$1X1=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$LS))),this.$1X1},get_Children:function(){return this.get_$1tw().toArray()},get_HasChildren:function(){return this.get_$1tw().get_Count()>0},$2i:function(n){this.get_$1tw().add(n)}};Microsoft.Crm.Client.Core.ViewModels.$UP=function(n){Microsoft.Crm.Client.Core.ViewModels.$UP.initializeBase(this);this.$8L=n};Microsoft.Crm.Client.Core.ViewModels.$UP.prototype={$8L:null,$1bU:null,$1fd:null,get_CurrentFilterItemOpened:function(){return this.$1fd},set_CurrentFilterItemOpened:function(n){return this.$1fd=n,n},get_RootKbSearchFilterItem:function(){return $0.$1(this.$1bU)&&(this.$1bU=this.$2fo()),this.$1bU},$2fo:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$LS,t,o,s,u,i,h,c,f,r,l,e;if(n.$53="root",this.$8L.$1Ki){for(t=new Microsoft.Crm.Client.Core.ViewModels.$LS,o=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SearchWidget.Mobile.Filters.FilterBy"),t.$53=o,t.$J1=o,s=this.$3BN(),u=0;u<s.get_Count();u++)t.$2i(s.get_Items()[u]);n.$2i(t)}for(i=new Microsoft.Crm.Client.Core.ViewModels.$LS,h=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SearchWidget.Mobile.Filters.SortBy"),i.$53=h,i.$J1=h,c=this.$3BP(),f=0;f<c.get_Count();f++)i.$2i(c.get_Items()[f]);if(n.$2i(i),this.$8L.$yP){for(r=new Microsoft.Crm.Client.Core.ViewModels.$LS,r.$53=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.Filter.Label.Language"),r.$J1=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.Filter.Label.Language"),l=this.$3BO(),e=0;e<l.get_Count();e++)r.$2i(l.get_Items()[e]);n.$2i(r)}return n},$3BN:function(){for(var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$LS)),f=this.$8L.get_ArticleFilterViewModel().$51,u=this.$8L.get_ArticleFilterViewModel().$sT,e=u.length,i=0;i<e;++i){var t=u[i],o=new Microsoft.Crm.Client.Core.ViewModels.$TY(this.$8L,0,t),n=new Microsoft.Crm.Client.Core.ViewModels.$LS;n.$y2=o;n.$53=t;n.$J1=t;f===t&&(n.$xr=!0);r.add(n)}return r},$3BP:function(){for(var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$LS)),f=this.$8L.get_SortFilterViewModel().$51,u=this.$8L.get_SortFilterViewModel().$FI,e=u.length,i=0;i<e;++i){var t=u[i],o=new Microsoft.Crm.Client.Core.ViewModels.$TY(this.$8L,1,t),n=new Microsoft.Crm.Client.Core.ViewModels.$LS;n.$y2=o;n.$53=t;n.$J1=t;f===t&&(n.$xr=!0);r.add(n)}return r},$3BO:function(){for(var u,n,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$LS)),i=this.$8L.get_ArticleLanguageFilterViewModel().$FI,f=this.$8L.get_ArticleLanguageFilterViewModel().$GY,e=this.$8L.get_ArticleLanguageFilterViewModel().$51,t=0;t<i.length;t++)u=new Microsoft.Crm.Client.Core.ViewModels.$TY(this.$8L,2,i[t]),n=new Microsoft.Crm.Client.Core.ViewModels.$LS,n.$y2=u,n.$53=i[t],n.$J1=f[t],e===n.$53&&(n.$xr=!0),r.add(n);return r}};Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel=function(){this.$$d_$28M=Function.createDelegate(this,this.$28M);this.$$d_$3LB=Function.createDelegate(this,this.$3LB);this.$$d_$365=Function.createDelegate(this,this.$365);this.$$d_$2iq=Function.createDelegate(this,this.$2iq);Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1c("RichEditorViewModel",Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.$3PH)};Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.$3PH=function(){return new Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel};Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.prototype={$1y1:!1,$1ct:!0,$1Wa:!1,$1Uc:!1,$1cZ:!1,$1QF:!1,$1cP:!1,$1cQ:!1,$1e6:'[{"name": "Font", "items": ["Font", "FontSize"]},{"name": "Effects", "items": ["Bold", "Italic", "Underline", "Strike"]},{"name": "Color", "items": ["TextColor", "BGColor"]},{"name": "Indentation", "items": ["NumberedList", "BulletedList", "Indent", "Outdent"]},{"name": "Paste", "items": ["PasteText", "PasteFromWord"]},{"name": "Additional", "items": ["Table", "Image", "Link", "Unlink"]},{"name": "Source", "items": ["Source"]}]',$1RN:'[{"name": "Font", "items": ["Styles", "Format", "Font", "FontSize"]},{"name": "Effects", "items": ["Bold", "Italic", "Underline", "Strike"]},{"name": "Color", "items": ["TextColor", "BGColor"]},{"name": "Alignment", "items": ["JustifyLeft", "JustifyCenter", "JustifyRight"]},{"name": "Indentation", "items": ["NumberedList", "BulletedList", "Indent", "Outdent"]},{"name": "Paste", "items": ["PasteText", "PasteFromWord"]},{"name": "Additional", "items": ["Table", "Image", "Link", "Unlink", "Anchor"]},{"name": "Source", "items": ["EmbedMedia", "CreateDiv", "Source"]}]',$1UY:"[]",$178:null,$Bu:"en-us",$1Rm:"en-us",$1P3:"",$fr:"",$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);Microsoft.Crm.Client.Core.Framework.$1g.$3BV();this.$178=new Microsoft.Crm.Client.Core.Commands.$BR(this.$$d_$2iq,105);this.$2.AddPropertyChangedListener("IsLocked",this.$$d_$365);this.$LP()},$LP:function(){Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$LP.call(this);$0.$1(this.get_ModelContext())||this.get_ModelContext().add_$9k(this.$$d_$3LB)},$GX:function(){$0.$1(this.$178)||(this.$178.dispose(),this.$178=null);this.$2.RemovePropertyChangedListener("IsLocked",this.$$d_$365);$0.$1(this.get_ModelContext())||this.get_ModelContext().remove_$9k(this.$$d_$3LB);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)},$3LB:function(){this.$8("RecordUpdate")},$2iq:function(){var n=new Xrm.ConfirmDialogStrings;n.text=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("EmailMessageBody_Confirm_View_Harmful_Content");n.confirmButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_OK_Text");n.cancelButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Cancel_Text");Xrm.Dialog.openConfirmDialog(n,null,this.$$d_$28M,null)},$365:function(){this.$8("ReadOnly")},$28M:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),i=n.ui.$2,r=i.get_$1K().get_Id(),u=String.format("{0}/_controls/emailbody/msgBody.aspx?id={1}&entityType=email",n.context.getClientUrl(),r),t=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand(null,u);try{t.execute()}finally{t.dispose()}},get_Data:function(){return Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.get_Data.call(this)},set_Data:function(n){return this.$1cP||!n?n:(this.$1cP=!0,Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.set_Data.call(this,n),this.get_SettingData()||this.set_DataSet(!0),this.$1cZ=!1,this.$1cP=!1,n)},get_Enabled:function(){return Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.get_Enabled.call(this)},set_Enabled:function(n){return this.$1cQ?n:(this.$1cQ=!0,Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.set_Enabled.call(this,n),this.$8("ReadOnly"),this.$1cQ=!1,n)},get_ReadOnly:function(){return this.$nU(this.$1y1)||!this.$nU(this.get_Enabled())||this.$nU(this.$2.get_IsLocked())},set_ReadOnly:function(n){return this.$1y1=n,this.$8("ReadOnly"),n},get_ShowDialogs:function(){return this.$nU(this.$1ct)},set_ShowDialogs:function(n){return this.$1ct!==n&&(this.$1ct=n,this.$8("ShowDialogs")),n},get_IsViewExpandable:function(){return this.$nU(this.$1Wa)},set_IsViewExpandable:function(n){return this.$1Wa!==n&&(this.$1Wa=n,this.$8("IsViewExpandable")),n},get_HideToolbar:function(){return this.$nU(this.$1Uc)},set_HideToolbar:function(n){return this.$1Uc!==n&&(this.$1Uc=n,this.$8("HideToolbar")),n},get_SettingData:function(){return this.$nU(this.$1cZ)},set_SettingData:function(n){return this.$1cZ=n,n},get_DataSet:function(){return this.$nU(this.$1QF)},set_DataSet:function(n){return this.$1QF=n,this.$1QF&&this.$8("ClientApi_Data"),n},get_ToolbarJSON:function(){return this.$1e6},set_ToolbarJSON:function(n){return this.$1e6!==n&&(this.$1e6=n,this.$8("ToolbarJSON")),n},get_ExpandedToolbarJSON:function(){return this.get_IsViewExpandable()?this.$1RN:"[]"},set_ExpandedToolbarJSON:function(n){return this.$1RN!==n&&(this.$1RN=n,this.$8("ExpandedToolbarJSON")),n},get_HiddenToolbarJSON:function(){return this.$1UY},set_HiddenToolbarJSON:function(n){return this.$1UY!==n&&(this.$1UY=n,this.$8("HiddenToolbarJSON")),n},get_LanguageCode:function(){return this.$Bu},set_LanguageCode:function(n){return this.$Bu!==n&&(this.$Bu=n,this.$8("LanguageCode")),n},get_FallbackLanguageCode:function(){return this.$1Rm},set_FallbackLanguageCode:function(n){return this.$1Rm!==n&&(this.$1Rm=n,this.$8("FallbackLanguageCode")),n},get_ClassName:function(){return this.$1P3},set_ClassName:function(n){return this.$1P3!==n&&(this.$1P3=n,this.$8("ClassName")),n},get_LabelValue:function(){return this.$fr},set_LabelValue:function(n){return this.$fr!==n&&(this.$fr=n,this.$8("LabelValue")),n},$nU:function(n){return n.toString().toLowerCase()==="true"},get_MaliciousContentMessage:function(){return Xrm.Internal.getResourceString("Email_BadContent_Warning")},get_OpenMaliciousContentMessage:function(){return Xrm.Internal.getResourceString("Email_BadContent_Unblock_Command")},get_ViewFullContentCommand:function(){return this.$178}};Microsoft.Crm.Client.Core.ViewModels.$Bp=function(){this.$$d_$2KV=Function.createDelegate(this,this.$2KV);this.$$d_$35n=Function.createDelegate(this,this.$35n);Microsoft.Crm.Client.Core.ViewModels.$Bp.initializeBase(this);this.set_ActiveContainer("StaticTabs")};Microsoft.Crm.Client.Core.ViewModels.$Bp.prototype={$1ho:null,$2Sd:null,get_ActiveContainer:function(){return this.$1ho},set_ActiveContainer:function(n){return this.$1ho=n,this.$8("ActiveContainer"),n},$1gy:null,get_QuickViewModelsList:function(){return this.$1gy},set_QuickViewModelsList:function(n){return this.$1gy=n,n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$9B,this.$$d_$35n);this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$6i,this.$$d_$2KV);var n=this;this.$2.add_$If(function(){n.$3MV()})},$2KV:function(n){if(n.$1fq==="IFrameViewModel")this.onChildTabClicked(n.$Y1,!0)},$GX:function(){this.$2Sd=null;this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$9B,this.$$d_$35n);this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$6i,this.$$d_$2KV);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$3MV:function(){var n=this.$F.HorizontalTabs,e=this.$F.StaticTabs,t,u,f,i,o,r;if(n.$Bd.get_Count()){t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));u=n.$F;for(f in u)i={key:f,value:u[f]},o=i.value,n.removeChildStack(i.key),t.add(i.key),o.dispose();for(r=0;r<t.get_Count();r++)delete n.$F[t.get_$I(r)];n.$Bd.clear();n.set_ActiveChild(null);n.$kl.clear();this.set_ActiveContainer("StaticTabs");e.set_ActiveChild(e.$Bd.get_$I(0))}},$35n:function(n){var t=this.$F.HorizontalTabs;t.openQuickviewForm(n.$BD,n.$qb)},onChildTabCloseButtonClicked:function(n){var t=this.$F.HorizontalTabs,i=this.$F.StaticTabs;n.startsWith("HorizontalTab")&&(t.removeChild(n),t.removeChildStack(n),t.$Y7&&t.setPrevActive(),t.$Bd.toArray().length||(i.set_ActiveChild(i.$3Vp()),this.set_ActiveContainer("StaticTabs")))},onChildTabClicked:function(n,t){var i,r,s,f,v,u,h,e,c,l,a,o;if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("ReferencePanelTabClicked",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("ReferencePanelTabUpdated",0,this.get_ViewModelId()),i=this.$F.HorizontalTabs,r=this.$F.StaticTabs,n.startsWith("SessionTabContainer"))for(this.set_ActiveContainer("StaticTabs"),s=r.$Bd,r.$F[n].RefreshLists(),i.set_ActiveChild(null),r.$F[n].set_TabData(null),f=0;f<s.get_Count();f++)s.get_$I(f)===n&&(r.set_ActiveChild(n),r.pushChild(n),t||(v=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$6i(n,"ReferencePanelViewModel"),this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$6i,v)));else if(n.startsWith("HorizontalTab")){if(!i.$Bd.toArray().length)return;for(u=i.$Bd,h=!1,e=0;e<u.get_Count();e++)if(u.get_$I(e)===n){h=!0;break}if(!h)return;r.set_ActiveChild(null);this.set_ActiveContainer("HorizontalTabs");i.$F[n].RefreshLists();c=i.$F[n].$F;for(l in c)a={key:l,value:c[l]},Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.isInstanceOfType(a.value)&&(a.value.$Pf=!0);for(o=0;o<u.get_Count();o++)u.get_$I(o)===n&&(i.set_ActiveChild(n),i.pushChild(n))}}};Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo=function(){};Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo.prototype={$1gF:!1,get_IsMultiSelectUsingControlKey:function(){return this.$1gF},set_IsMultiSelectUsingControlKey:function(n){return this.$1gF=n,n},$1gG:!1,get_IsMultiSelectUsingShiftKey:function(){return this.$1gG},set_IsMultiSelectUsingShiftKey:function(n){return this.$1gG=n,n},$1fj:0,get_Direction:function(){return this.$1fj},set_Direction:function(n){return this.$1fj=n,n}};Microsoft.Crm.Client.Core.ViewModels.$7X=function(){this.$$d_$12z=Function.createDelegate(this,this.$12z);this.$$d_$3LA=Function.createDelegate(this,this.$3LA);this.$$d_$1ux=Function.createDelegate(this,this.$1ux);this.$$d_$1zk=Function.createDelegate(this,this.$1zk);this.$Cv=-1;Microsoft.Crm.Client.Core.ViewModels.$7X.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$7X.$zI=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$SI.get_$I(n.toString());return $0.$1(t)?!1:t.$Nm};Microsoft.Crm.Client.Core.ViewModels.$7X.prototype={$1Jq:0,$1Js:0,$1CB:null,$1Q:null,$5g:null,$1Jt:!1,$1JU:null,$1CA:null,$1KX:null,$1AD:null,$1Gk:null,$JD:null,$1n1:null,$1tT:!1,$1se:!1,$1tQ:!1,$EB:null,get_TimerState:function(){return this.$EB},set_TimerState:function(n){return this.$EB=n,n},$Uw:null,get_SuccessConditionName:function(){return this.$Uw},set_SuccessConditionName:function(n){return this.$Uw=n,n},$191:null,get_SuccessConditionValue:function(){return this.$191},set_SuccessConditionValue:function(n){return this.$191=n,n},$Uh:null,get_FailureConditionName:function(){return this.$Uh},set_FailureConditionName:function(n){return this.$Uh=n,n},$17p:null,get_FailureConditionValue:function(){return this.$17p},set_FailureConditionValue:function(n){return this.$17p=n,n},get_TimeDifferenceInSeconds:function(){return this.$1Jq},set_TimeDifferenceInSeconds:function(n){return this.$1Jq=n,n},$Xg:null,get_FailureTimeField:function(){return this.$Xg},set_FailureTimeField:function(n){return this.$Xg=n,n},$V0:null,get_WarningConditionName:function(){return this.$V0},set_WarningConditionName:function(n){return this.$V0=n,n},$19D:null,get_WarningConditionValue:function(){return this.$19D},set_WarningConditionValue:function(n){return this.$19D=n,n},$Ub:null,get_CancelConditionName:function(){return this.$Ub},set_CancelConditionName:function(n){return this.$Ub=n,n},$17P:null,get_CancelConditionValue:function(){return this.$17P},set_CancelConditionValue:function(n){return this.$17P=n,n},$Uq:null,get_PauseConditionName:function(){return this.$Uq},set_PauseConditionName:function(n){return this.$Uq=n,n},$18T:null,get_PauseConditionValue:function(){return this.$18T},set_PauseConditionValue:function(n){return this.$18T=n,n},get_FailureDateTime:function(){return this.$1n1},set_FailureDateTime:function(n){return this.$1n1=n,n},$1fZ:null,get_ControlId:function(){return this.$1fZ},set_ControlId:function(n){return this.$1fZ=n,n},get_TimeRemainingInMilliseconds:function(){return this.$1Js},set_TimeRemainingInMilliseconds:function(n){return this.$1Js=n,n},$PU:null,get_AttributeMetadataActionProvider:function(){return this.$PU},set_AttributeMetadataActionProvider:function(n){return this.$PU=n,n},get_ControlLabelValue:function(){return this.$1D},set_ControlLabelValue:function(n){return this.set_Label(n),n},$17d:null,get_Days:function(){return this.$17d},set_Days:function(n){return this.$17d=n,n},$180:null,get_Hours:function(){return this.$180},set_Hours:function(n){return this.$180=n,n},$18K:null,get_Minutes:function(){return this.$18K},set_Minutes:function(n){return this.$18K=n,n},$18n:null,get_Seconds:function(){return this.$18n},set_Seconds:function(n){return this.$18n=n,n},$jj:!1,get_IsTimerInitialized:function(){return this.$jj},set_IsTimerInitialized:function(n){return this.$jj=n,n},$18:function(){this.$1y||Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$17d="";this.$180="";this.$18K="";this.$18n="";this.$1Jt=!0;this.$jj=!1;this.$2.$2.$7s===1&&(this.$EB=Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.toString(1));this.$2.add_$If(this.$$d_$1zk)},$1zk:function(){var n,t;$0.$1(this.$2)||$0.$1(this.$2.$2)||$0.$1(this.$2.$2.get_ModelContext())||(this.$2.$2.get_ModelContext().remove_$6x(this.$$d_$1ux),this.$2.$2.get_ModelContext().add_$6x(this.$$d_$1ux),this.$2.$2.get_ModelContext().remove_$9k(this.$$d_$3LA),this.$2.$2.get_ModelContext().add_$9k(this.$$d_$3LA),this.$1Q=this.$2.get_ModelContext().get_$57().LogicalName.toString(),this.$5g=this.$2.get_ModelContext().get_$57().get_key().toString(),this.$2iZ(),n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Od("ServiceDeskLogGetServerTimeParameterEvent"),n.addEventParameter("EntityName",this.$1Q),n.addEventParameter("RecordId",this.$5g),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(n),t={},t.EntityName=this.$1Q,t.RecordId=this.$5g,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("GetServerTimeParameter",2008,t,"OnModelContextChange"),this.$1qk())},$1ux:function(n,t){var i,r;this.$2.$2.$7s!==1&&(i=!1,t===this.$Uw&&(this.$1JU=this.$2.$2.get_ModelContext().GetValue(t).getValue("value").toString(),i=!0),t===this.$Uh&&(this.$1CA=this.$2.$2.get_ModelContext().GetValue(t).getValue("value").toString(),i=!0),t===this.$Ub&&(this.$1AD=this.$2.$2.get_ModelContext().GetValue(t).getValue("value").toString(),i=!0),t===this.$Uq&&(this.$1Gk=this.$2.$2.get_ModelContext().GetValue(t).getValue("value").toString(),i=!0),t===this.$V0&&(this.$1KX=this.$2.$2.get_ModelContext().GetValue(t).getValue("value").toString(),i=!0),t===this.$Xg&&(r=new Date(this.$2.$2.get_ModelContext().GetValue(t).toString()),this.$1CB=r.toUTCString(),i=!0),i&&this.$1DJ())},$2iZ:function(){var n,i;if(this.$JD=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$JD.contains(this.$Uw)||$0.$1(this.$Uw)||this.$JD.add(this.$Uw),this.$JD.contains(this.$Uh)||$0.$1(this.$Uh)||this.$JD.add(this.$Uh),this.$JD.contains(this.$Xg)||$0.$1(this.$Xg)||this.$JD.add(this.$Xg),this.$JD.contains(this.$V0)||$0.$1(this.$V0)||this.$JD.add(this.$V0),this.$JD.contains(this.$Uq)||$0.$1(this.$Uq)||this.$JD.add(this.$Uq),this.$JD.contains(this.$Ub)||$0.$1(this.$Ub)||this.$JD.add(this.$Ub),n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$Fn(this.$1Q,this.$JD.toArray()),$0.$1(n)||!n.length)this.$P7(this.$JD.toArray(),this.$1Q);else for(var r=n,u=r.length,t=0;t<u;++t)if(i=r[t],i.$Dv&&!Microsoft.Crm.Client.Core.ViewModels.$7X.$zI(i.$12)){this.$1Jt=!1;break}},$P7:function(n,t){var i,r;n.length&&(i={},i.EntityType=t,i.Attributes=n,i.OnSuccess=this.$$d_$12z,this.$PU=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null)),r=this.$PU.$DG(i),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(r))},$12z:function(n){for(var i,r=n,u=r.length,t=0;t<u;++t)if(i=r[t],i.get_$nS()&&!Microsoft.Crm.Client.Core.ViewModels.$7X.$zI(i.get_$1a())){this.$1Jt=!1;break}},$1qk:function(){var t={},n,i,r;t.entityName=this.$1Q;t.entityId=this.$5g;n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("GetCurrentServerDateTimeInUtcRequest",t);i=this;n.OnSuccess=function(n){i.$Fw(n)};r=this;n.OnFailure=function(n){r.$9B(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,n)},$Fw:function(n){var u=Sys.Net.XMLDOM(n.serverDateTime),t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(u).$O("Times");if(t){var i=t.$1T("ServerTime").toString(),f=new Date,r=new Date(i);r.toString()==="NaN"&&(i=t.$1T("ServerTimeForIE8").toString(),r=new Date(i));this.$1Jq=Math.floor((Date.parse(f.toUTCString())-Date.parse(r.toUTCString()))/1e3);$0.$1(t.$1T(this.$Xg))||(this.$1CB=t.$1T(this.$Xg).toString());this.$34u()}},$9B:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Od("ServiceDeskServerTimeFailedEvent");t.addEventParameter("ErrorStatus",n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$65("getCurrentServerTimeFailed",2008,{ErrorStatus:n.toString()},"getCurrentServerTime Failed")},$34u:function(){var n=this;Xrm.Internal.messages.retrieve(this.$1Q,this.$5g,this.$JD.toArray()).then(function(t){if(!IsNull(t)){var i=t.entity;$0.$1(n.$Uw)||$0.$1(i.getValue(n.$Uw))||(n.$1JU=i.getValue(n.$Uw).getValue("value").toString());$0.$1(n.$Uh)||$0.$1(i.getValue(n.$Uh))||(n.$1CA=i.getValue(n.$Uh).getValue("value").toString());$0.$1(n.$V0)||$0.$1(i.getValue(n.$V0))||(n.$1KX=i.getValue(n.$V0).getValue("value").toString());$0.$1(n.$Uq)||$0.$1(i.getValue(n.$Uq))||(n.$1Gk=i.getValue(n.$Uq).getValue("value").toString());$0.$1(n.$Ub)||$0.$1(i.getValue(n.$Ub))||(n.$1AD=i.getValue(n.$Ub).getValue("value").toString());n.$jj=!0;n.$1DJ()}},null)},$2aa:function(){var n=new Date,t;return n.setMinutes(n.getMinutes()+n.getTimezoneOffset()),t=n.toUTCString(),this.$1Js=Date.parse(this.$1CB)-Date.parse(t)+this.$1Jq*1e3,this.$1Js},$1DJ:function(){var n,t,i;this.$1Jt?$0.$1(this.$Xg)||$0.$1(this.$1CB)?(this.$EB=Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.toString(1),this.$8("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("TimerState",2008,{TimerState:this.$EB},"")):$0.$1(this.$Uh)||$0.$1(this.$17p)||$0.$1(this.$1CA)||this.$17p!==this.$1CA?$0.$1(this.$Ub)||$0.$1(this.$17P)||$0.$1(this.$1AD)||this.$17P!==this.$1AD?$0.$1(this.$Uw)||$0.$1(this.$191)||$0.$1(this.$1JU)||this.$191!==this.$1JU?$0.$1(this.$Uq)||$0.$1(this.$18T)||$0.$1(this.$1Gk)||this.$18T!==this.$1Gk?this.$2aa()>0?$0.$1(this.$V0)||$0.$1(this.$19D)||$0.$1(this.$1KX)||this.$19D!==this.$1KX?(this.$EB=Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.toString(2),this.$1se||(this.$1se=!0,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("TimerState",2008,{TimerState:this.$EB},"")),this.$1xJ(),this.$8("ViewChanged"),t=this,this.$Cv=window.setTimeout(function(){t.$1DJ()},1e3)):(this.$EB=Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.toString(3),this.$1tT||(this.$1tT=!0,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("TimerState",2008,{TimerState:this.$EB},"")),this.$1xJ(),this.$8("ViewChanged"),n=this,this.$Cv=window.setTimeout(function(){n.$1DJ()},1e3)):(this.$EB=Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.toString(4),this.$1tQ||(this.$1tQ=!0,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("TimerState",2008,{TimerState:this.$EB},"")),this.$1xJ(),this.$8("ViewChanged"),i=this,this.$Cv=window.setTimeout(function(){i.$1DJ()},1e3)):(this.$EB=Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.toString(8),this.$8("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("TimerState",2008,{TimerState:this.$EB},"")):(this.$EB=Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.toString(5),this.$8("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("TimerState",2008,{TimerState:this.$EB},"")):(this.$EB=Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.toString(7),this.$8("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("TimerState",2008,{TimerState:this.$EB},"")):(this.$EB=Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.toString(6),this.$8("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("TimerState",2008,{TimerState:this.$EB},"")):(this.$EB=Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.toString(0),this.$8("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("TimerState",2008,{TimerState:this.$EB},""))},$1xJ:function(){var n=Math.abs(this.$2aa())/1e3,u=Math.floor(n/86400),t,i,r;this.$17d=u.toString();n=n%86400;t=Math.floor(n/3600);this.$180=t.toString();n=n%3600;i=Math.floor(n/60);this.$18K=i.toString();n=n%60;r=Math.floor(n);this.$18n=r.toString()},$3LA:function(){this.$jj&&this.$1qk()},$X6:function(){this.$jj&&this.$1qk()},$GX:function(){window.clearTimeout(this.$Cv);this.$Cv=-1;this.$jj=!1;$0.$1(this.$2)||this.$2.remove_$If(this.$$d_$1zk);$0.$1(this.$2)||$0.$1(this.$2.$2)||$0.$1(this.$2.$2.get_ModelContext())||(this.$2.$2.get_ModelContext().remove_$6x(this.$$d_$1ux),this.$2.$2.get_ModelContext().remove_$9k(this.$$d_$3LA));Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$7X.$1W=function(){};Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.prototype={noPrivilege:0,notSet:1,inProgress:2,nearingViolation:3,violated:4,successful:5,unsuccessful:6,canceled:7,paused:8};Microsoft.Crm.Client.Core.ViewModels.$7X.$1W.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$7X.$1W",!1);Microsoft.Crm.Client.Core.ViewModels.$Cv=function(){Microsoft.Crm.Client.Core.ViewModels.$Cv.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Cv.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("ContentPaneViewModel",Microsoft.Crm.Client.Core.ViewModels.$Cv)};Microsoft.Crm.Client.Core.ViewModels.$LQ=function(n,t,i){this.$Ls=n;this.$J1=i;this.$53=t};Microsoft.Crm.Client.Core.ViewModels.$LQ.prototype={$Ls:null,get_Key:function(){return this.$Ls},set_Key:function(n){return this.$Ls=n,n},$J1:null,get_Label:function(){return this.$J1},set_Label:function(n){return this.$J1=n,n},$53:null,get_Value:function(){return this.$53},set_Value:function(n){return this.$53=n,n},$182:null,get_IconSymbol:function(){return this.$182},set_IconSymbol:function(n){return this.$182=n,n},$181:null,get_IconClassName:function(){return this.$181},set_IconClassName:function(n){return this.$181=n,n},$cK:null,get_Tooltip:function(){return this.$cK},set_Tooltip:function(n){return this.$cK=n,n},$jO:null,get_ClassName:function(){return this.$jO},set_ClassName:function(n){return this.$jO=n,n}};Microsoft.Crm.Client.Core.ViewModels.$DQ=function(){this.$2NU=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$LQ));Microsoft.Crm.Client.Core.ViewModels.$DQ.initializeBase(this);this.$jo=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$LQ))};Microsoft.Crm.Client.Core.ViewModels.$DQ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("EntitySearchResultLegendsViewModel",Microsoft.Crm.Client.Core.ViewModels.$DQ)};Microsoft.Crm.Client.Core.ViewModels.$DQ.prototype={$jo:null,get_LegendList:function(){return this.$jo},set_LegendList:function(n){return this.$jo=n,n},get_LegendsCount:function(){return this.$2NU.get_Count()}};Microsoft.Crm.Client.Core.ViewModels.$V8=function(){Microsoft.Crm.Client.Core.ViewModels.$V8.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$V8.prototype={$sT:null,get_entityFilters:function(){return this.$sT},set_entityFilters:function(n){return this.$sT=n,n}};Microsoft.Crm.Client.Core.ViewModels.$VH=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$VH.initializeBase(this);this.$Me=t;this.$1if=[t.get_$1iQ(),t.get_$1Nh(),t.get_$1iN()];this.$sT=this.$1if;this.$1cT(n)};Microsoft.Crm.Client.Core.ViewModels.$VH.prototype={$1if:null,$Me:null,get_$3QH:function(){return this.$51===this.$Me.get_$1iQ()?"0":this.$51===this.$Me.get_$1iN()?"1":this.$51===this.$Me.get_$1Nh()?"3":""},$1cT:function(n){this.set_ItemValues(this.$sT);this.set_ItemLabels(this.$sT);this.set_SelectedItem(this.$30L(n))},$30L:function(n){switch(n){case"2":return this.$Me.get_$1iQ();case"3":return this.$Me.get_$1Nh();case"6":return this.$Me.get_$1iN();default:return this.$Me.get_$1Nh()}}};Microsoft.Crm.Client.Core.ViewModels.$VD=function(n,t){this.$Zi={};Microsoft.Crm.Client.Core.ViewModels.$VD.initializeBase(this);this.$2aG(n,t)};Microsoft.Crm.Client.Core.ViewModels.$VD.prototype={$1bu:null,$yl:null,$109:null,$2aG:function(n,t){$0.$1(t)||(this.$yl=t.$1gT);this.$Y0=n;this.$37L()},$37L:function(){var n;if(!$0.$1(this.$yl)){for(n=0;n<this.$yl.get_count();n++){var t=this.$yl.get_$I(n),i=t.fields.name.toString(),r=t.fields.languagelocaleid.toString();this.$Zi[r]=i}this.$3Sl(this.$yl)}this.$1cT()},get_$1IW:function(){return this.$51},get_SelectedLanguageFilterName:function(){return this.$1bu},set_SelectedLanguageFilterName:function(n){return this.$1bu!==n&&n in this.$Zi&&(this.$1bu=this.$Zi[n].toString()),n},$Y0:null,$1cT:function(){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),u=this.$Zi,n,t;for(n in u)t={key:n,value:u[n]},i.add(t.key),r.add(t.value.toString());this.set_ItemValues(i.toArray());this.set_ItemLabels(r.toArray());this.set_SelectedItem(this.$30K());this.set_SelectedLanguageFilterName(this.$51)},$30K:function(){return this.$Y0&&this.$Y0.toString()in this.$Zi?this.$Y0.toString():this.$109&&this.$109 in this.$Zi?this.$109:this.$FI.length>1?this.$FI[1]:this.$FI[0]},$3Sl:function(n){for(var i,r,u=Xrm.Page.context.getUserLcid().toString(),t=0;t<n.get_count();t++)if(i=n.get_$I(t),r=i.fields.localeid.toString(),u===r){this.$109=i.fields.languagelocaleid.toString();return}}};Microsoft.Crm.Client.Core.ViewModels.$y=function(){};Microsoft.Crm.Client.Core.ViewModels.$y.$1t5=function(n,t){return IsNull(t.$kW)?!1:n in t.$kW};Microsoft.Crm.Client.Core.ViewModels.$y.$30U=function(n){var t=null,i=Xrm.Page.getAttribute(n);return(IsNull(i)||(t=i.getValue()),!IsNull(t)&&!IsNull(t[0]))?t[0]:null};Microsoft.Crm.Client.Core.ViewModels.$y.$SZ=function(n,t,i){var u=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t),i),f={partyid:u},e=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(e,f,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return r.$4P.add("partyid"),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([r],!1,1,!1)};Microsoft.Crm.Client.Core.ViewModels.$y.$2R0=function(n,t,i){var e=Microsoft.Crm.Client.Core.ViewModels.$y.GetArticleExternalLink(n),o=i.$2b===5?n.$Rp:String.format('<a href="{0}">{1}<\/a>',CrmEncodeDecode.CrmHtmlEncode(e),CrmEncodeDecode.CrmHtmlEncode(n.$4r)),f=Xrm.Page.data.entity,r={},u;r.description=o;r.subject=n.$4r;r.regardingobjectid=f.getId();r.regardingobjectidtarget=f.getEntityName();r.regardingobjectidname=f.getPrimaryAttributeValue();IsNull(t)||(u=Microsoft.Crm.Client.Core.ViewModels.$y.$30U(t),IsNull(u)||(r.to=Microsoft.Crm.Client.Core.ViewModels.$y.$SZ(u.entityType,u.id,u.name)));Xrm.Utility.openEntityForm("email",null,r)};Microsoft.Crm.Client.Core.ViewModels.$y.$1Do=function(){return[new Microsoft.Crm.Client.Core.ViewModels.$LR(0,"KMControl.SearchKMArticles.LinkArticleButtonText","KMControl.SearchKMArticles.AssociateArticleIconAltText"),new Microsoft.Crm.Client.Core.ViewModels.$LR(1,"KMControl.SearchKMArticles.UnLinkArticleButtonText","KMControl.SearchKMArticles.DisassociateArticleIconAltText"),new Microsoft.Crm.Client.Core.ViewModels.$LR(3,"KMControl.SearchKMArticles.EmailLinkArticleButtonText","KMControl.SearchKMArticles.EmailArticleIconAltText"),new Microsoft.Crm.Client.Core.ViewModels.$LR(2,"KMControl.SearchKMArticles.CopyArticleIconAltText","KMControl.SearchKMArticles.CopyArticleIconToolTip"),new Microsoft.Crm.Client.Core.ViewModels.$LR(5,"KMControl.SearchKMArticles.EmailArticleContentButtonText","KMControl.SearchKMArticles.EmailArticleContentIconAltText")]};Microsoft.Crm.Client.Core.ViewModels.$y.$2hK=function(n,t){var r,f,e;if(n.$18w==="ShowAll")return!0;if(IsNull(n.$17H))return!1;r=n.$17H.split(",");for(var u=r,o=u.length,i=0;i<o;++i)if(f=u[i],e=Number.parseInvariant(f),e===t)return!0;return!1};Microsoft.Crm.Client.Core.ViewModels.$y.$36u=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K(),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V(),i=r.$l(Xrm.Page.data.entity.getEntityName()),t;return IsNull(i)?!1:(t=r.$l("knowledgearticle"),n.$36p(i,8)&&n.$36p(i,2)&&n.$36p(t,1)&&n.$36p(t,7)&&n.$36p(t,2))};Microsoft.Crm.Client.Core.ViewModels.$y.$1VI=function(n,t,i){if(i.$2.$7s===1&&n.$2b!==2||!Microsoft.Crm.Client.Core.ViewModels.$y.$2hK(i,n.$2b))return!1;var r=Microsoft.Crm.Client.Core.ViewModels.$y.$1t5(t.$KI,i),u=Microsoft.Crm.Client.Core.ViewModels.$y.$36u();switch(n.$2b){case 3:case 5:return n.$2b===3&&!Microsoft.Crm.Client.Core.ViewModels.$y.get_GetKmUseExternalPortal()?!1:r?t.$c7&&Microsoft.Crm.Client.Core.ViewModels.$y.$26z(i.$Es):t.$c7&&u&&Microsoft.Crm.Client.Core.ViewModels.$y.$26z(i.$Es);case 0:return!r&&u;case 1:return r&&u;case 2:return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$IS&&t.$c7&&Microsoft.Crm.Client.Core.ViewModels.$y.get_GetKmUseExternalPortal();default:return!1}};Microsoft.Crm.Client.Core.ViewModels.$y.$26z=function(n){if(n)return!1;var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K(),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V(),r=i.$l("knowledgearticle"),u=i.$l("email");return t.$36p(u,1)&&t.$36p(r,2)};Microsoft.Crm.Client.Core.ViewModels.$y.$1DI=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V(),t=n.$l(Xrm.Page.data.entity.getEntityName());return t.$1S};Microsoft.Crm.Client.Core.ViewModels.$y.$1VM=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.$y.$1t5(n.$KI,t)};Microsoft.Crm.Client.Core.ViewModels.$y.$25m=function(n,t){return Xrm.Internal.messages.associateKnowledgeArticle(Xrm.Page.data.entity.getId(),Xrm.Internal.getEntityCode(Xrm.Page.data.entity.getEntityName()),t,n.$KI)};Microsoft.Crm.Client.Core.ViewModels.$y.$2nw=function(n,t){return Xrm.Internal.messages.disassociateKnowledgeArticle(Xrm.Page.data.entity.getId(),Xrm.Internal.getEntityCode(Xrm.Page.data.entity.getEntityName()),t,n.$KI)};Microsoft.Crm.Client.Core.ViewModels.$y.$2oL=function(n,t,i,r){var f=null,u;return Microsoft.Crm.Client.Core.ViewModels.$y.$1t5(n.$KI,i)?(u=new Xrm.ConfirmDialogStrings,u.title=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_0x80060861"),u.text=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchKMArticles.ErrorAssociated"),Microsoft.Crm.Client.Core.ViewModels.$y.$1DI()),u.confirmButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Button_Label_OK"),u.cancelButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Button_Label_Cancel"),Xrm.Dialog.openConfirmDialog(u,null,function(){Microsoft.Crm.Client.Core.ViewModels.$y.$2R0(n,i.$18r,r)},function(){})):f=Microsoft.Crm.Client.Core.ViewModels.$y.$25m(n,i.$Hz).always(function(){Microsoft.Crm.Client.Core.ViewModels.$y.$2NW(n,i);Microsoft.Crm.Client.Core.ViewModels.$y.$2R0(n,i.$18r,r)}),f};Microsoft.Crm.Client.Core.ViewModels.$y.$1pq=function(n){var t=null;return t=n.get_ParentEntityLogicalName()==="incident"?String.format("<fetch mapping='logical'>\r\n\t\t\t\t\t\t<entity name='knowledgearticleincident'>\r\n\t\t\t\t\t\t\t<attribute name='knowledgearticleid' />\r\n\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t<condition attribute='incidentid' operator='eq' value='{0}' />\r\n\t\t\t\t\t\t\t\t<condition attribute='statecode' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t<\/fetch>",n.get_ParentEntityId()):String.format("<fetch mapping='logical'>\r\n\t\t\t\t\t\t<entity name='knowledgearticle'>\r\n\t\t\t\t\t\t\t<attribute name='articlepublicnumber' />\r\n\t\t\t\t\t\t\t<link-entity name='{0}' to='knowledgearticleid' from='knowledgearticleid' intersect='true' link-type='inner' alias='b'>\r\n\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t<condition attribute='{1}' operator='eq' value='{2}' />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t<\/fetch>",CrmEncodeDecode.CrmXmlEncode(n.$1Lf),CrmEncodeDecode.CrmXmlEncode(n.$1MT),n.get_ParentEntityId()),Xrm.Internal.messages.retrieveMultiple(t).then(function(t){var i=t;n.set_$2ew(Microsoft.Crm.Client.Core.ViewModels.$y.$3Nx(i))},Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)};Microsoft.Crm.Client.Core.ViewModels.$y.$2NW=function(n,t){n.$KI in t.$kW||(t.$kW[n.$KI]=null)};Microsoft.Crm.Client.Core.ViewModels.$y.$3WK=function(n,t){n.$KI in t.$kW&&delete t.$kW[n.$KI]};Microsoft.Crm.Client.Core.ViewModels.$y.$3Nx=function(n){var i={},t,r;if(!IsNull(n)&&!IsNull(n.entityCollection))for(t=0;t<n.entityCollection.get_count();t++)r=n.entityCollection.get_$I(t),i[Microsoft.Crm.Client.Core.ViewModels.$y.$2zV(r)]=0;return i};Microsoft.Crm.Client.Core.ViewModels.$y.$31Z=function(n,t){var i="";return $0.$1(n.$1Z[t])||$0.$1(n.getValue(t))||(i=n.$1Z[t]===6||n.$1Z[t]===1||n.$1Z[t]===9?n.getValue(t).Name.toString():n.getValue(t).toString()),i};Microsoft.Crm.Client.Core.ViewModels.$y.$2zV=function(n){var t="knowledgearticleid",i="";return $0.$1(n.$1Z[t])||$0.$1(n.getValue(t))||(i=n.$1Z[t]===6?n.getValue(t).Id.toString():n.getValue(t).toString()),i};Microsoft.Crm.Client.Core.ViewModels.$y.CopyLinkToClipboard=function(n){if(Microsoft.Crm.Client.Core.ViewModels.$y.get_GetKmUseExternalPortal()){var t=Microsoft.Crm.Client.Core.ViewModels.$y.GetArticleExternalLink(n);n.$c7&&window.clipboardData.setData("Text",t)}};Microsoft.Crm.Client.Core.ViewModels.$y.GetArticleExternalLink=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$y.get_GetKmExternalPortalUrl();return t.replace("{kbnum}",n.$be)};Microsoft.Crm.Client.Core.ViewModels.$y.get_GetKmUseExternalPortal=function(){return Xrm.Internal.getOrganizationSetting("kmUseExternalPortal").toLowerCase()==="true"};Microsoft.Crm.Client.Core.ViewModels.$y.get_GetKmExternalPortalUrl=function(){return Xrm.Internal.getOrganizationSetting("kmExternalPortalUrl")};Microsoft.Crm.Client.Core.ViewModels.$y.$2KD=function(n,t,i){var r=null;switch(n.$2b){case 5:case 3:r=Microsoft.Crm.Client.Core.ViewModels.$y.$2oL(t.Article,i.$Hz,i,n);break;case 0:r=Microsoft.Crm.Client.Core.ViewModels.$y.$25m(t.Article,i.$Hz).done(function(){Microsoft.Crm.Client.Core.ViewModels.$y.$2NW(t.Article,i)});break;case 1:r=Microsoft.Crm.Client.Core.ViewModels.$y.$2nw(t.Article,i.$Hz).done(function(){Microsoft.Crm.Client.Core.ViewModels.$y.$3WK(t.Article,i)});break;case 2:Microsoft.Crm.Client.Core.ViewModels.$y.CopyLinkToClipboard(t.Article)}return IsNull(r)?null:r.fail(Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)};Microsoft.Crm.Client.Core.ViewModels.$7Z=function(){this.$$d_$2f6=Function.createDelegate(this,this.$2f6);this.$$d_$LQ=Function.createDelegate(this,this.$LQ);this.$$d_$3H1=Function.createDelegate(this,this.$3H1);this.$$d_$Os=Function.createDelegate(this,this.$Os);Microsoft.Crm.Client.Core.ViewModels.$7Z.resolveInheritance();this.get_$3QD=this.get_SearchText;this.get_$3AA=this.get_IsParatureConfigured;Microsoft.Crm.Client.Core.ViewModels.$7Z.initializeBase(this);this.$Es=!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k();this.$qr=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$EL));this.$Xn=new Microsoft.Crm.Client.Core.ViewModels.$LK(this.$Es)};Microsoft.Crm.Client.Core.ViewModels.$7Z.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("KbSearchControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$7Z)};Microsoft.Crm.Client.Core.ViewModels.$7Z.prototype={$1WR:!0,$cd:null,$ce:null,$iF:null,$kW:null,$UG:null,$nK:!1,set_$2ew:function(n){return this.$kW=n,this.$8("AssociatedArticles"),n},$Xn:null,get_KbSearchConstants:function(){return this.$Xn},set_KbSearchConstants:function(n){return this.$Xn=n,n},$qr:null,get_SearchResults:function(){return this.$qr},set_SearchResults:function(n){return this.$qr=n,n},$18w:null,get_ShowContextualActions:function(){return this.$18w},set_ShowContextualActions:function(n){return this.$18w=n,n},$17H:null,get_ActionList:function(){return this.$17H},set_ActionList:function(n){return this.$17H=n,n},$1LN:null,get_FilterResults:function(){return this.$1LN},set_FilterResults:function(n){return this.$1LN=n,n},$1gT:null,get_IsSearchMode:function(){return this.$Es?this.$1WR:this.$bx||this.$1WR},set_IsSearchMode:function(n){return!this.$Es&&this.$bx?n:(this.$1WR=n,this.$8("SearchMode"),n)},$1Ki:!1,get_AllowChangingFiltersOnUI:function(){return this.$1Ki},set_AllowChangingFiltersOnUI:function(n){return this.$1Ki=n,n},$18r:null,get_SelectPrimaryCustomer:function(){return this.$18r},set_SelectPrimaryCustomer:function(n){return this.$18r=n,n},$1fM:!1,get_CanCreateEmail:function(){return this.$1fM},set_CanCreateEmail:function(n){return this.$1fM=n,n},$1g9:!1,get_IsControlReadOnly:function(){return this.$1g9},set_IsControlReadOnly:function(n){return this.$1g9=n,n},get_IsKnowledgeMangementEnabled:function(){return Xrm.Internal.isKnowledgemanagementEnabled(this.get_ParentEntityLogicalName())},get_IsKMConfigured:function(){return Xrm.Page.context.isKnowledgeManagementConfigured()},$1gL:!1,get_IsUsdContext:function(){return this.$1gL},set_IsUsdContext:function(n){return this.$1gL=n,n},get_IsParatureConfigured:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$12a},get_IsTextAnalyticsDisabled:function(){return this.$x8==="1"&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$Bu!==1033},$189:!1,get_IsHostedInTabbedControl:function(){return this.$189},set_IsHostedInTabbedControl:function(n){return this.$189=n,n},$bx:!1,get_IsHostedInReferencePanel:function(){return this.$bx},set_IsHostedInReferencePanel:function(n){return this.$bx=n,n},$1ga:null,get_MasterComponentId:function(){return this.$1ga},set_MasterComponentId:function(n){return this.$1ga=n,n},$17o:null,get_ExternalServiceUrl:function(){return this.$17o},set_ExternalServiceUrl:function(n){return this.$17o=n,n},$18V:null,get_PortalDomain:function(){return this.$18V},set_PortalDomain:function(n){return this.$18V=n,n},$18a:null,get_PublicLinkPrefix:function(){return this.$18a},set_PublicLinkPrefix:function(n){return this.$18a=n,n},$17g:null,get_DepartmentId:function(){return this.$17g},set_DepartmentId:function(n){return this.$17g=n,n},$yP:!1,get_ShowLanguageFilter:function(){return this.$yP},set_ShowLanguageFilter:function(n){return this.$yP=n,n},$Y0:null,get_SelectDefaultLanguage:function(){return this.$Y0},set_SelectDefaultLanguage:function(n){return this.$Y0=n,n},$18x:!1,get_ShowDepartmentFilter:function(){return this.$18x},set_ShowDepartmentFilter:function(n){return this.$18x=n,n},$yR:0,get_tabIndex:function(){return this.$yR},set_tabIndex:function(n){return this.$yR=n,n},get_$2rF:function(){return this.$Es&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?(this.$Rv=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_0x80154B4F"),!1):!0},$u7:null,get_KbSearchResultsList:function(){return this.$u7},set_KbSearchResultsList:function(n){return this.$u7=n,this.$8("KbSearchResultsList"),n},SearchResult:function(n){var t=null;return this.$u7&&this.$u7.get_Count()>=n&&(t=this.$u7.get_$I(n),t.$Eu=this),t},get_ArticleFilterViewModel:function(){return $0.$1(this.$cd)&&(this.$cd=new Microsoft.Crm.Client.Core.ViewModels.$VH(this.$1LN,this.$Xn),this.$cd.AddPropertyChangedListener("SelectedItem",this.$$d_$Os)),this.$cd},get_ArticleLanguageFilterViewModel:function(){return $0.$1(this.$ce)&&(this.$ce=new Microsoft.Crm.Client.Core.ViewModels.$VD(this.$Y0,this),this.$ce.AddPropertyChangedListener("SelectedItem",this.$$d_$3H1)),this.$ce},get_SortFilterViewModel:function(){return $0.$1(this.$iF)&&(this.$iF=new Microsoft.Crm.Client.Core.ViewModels.$VC(this.$Xn),this.$iF.AddPropertyChangedListener("SelectedItem",this.$$d_$Os)),this.$iF},get_SelectedSearchResult:function(){return this.$UG},set_SelectedSearchResult:function(n){return n!==this.$UG&&(this.$UG=n,this.$2Df()),n},$18q:null,get_SelectedSearchResultViewModel:function(){return this.$18q},set_SelectedSearchResultViewModel:function(n){return this.$18q=n,n},$19n:null,get_ArticleEntityDisplayName:function(){if($0.$1(this.$19n)){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l("knowledgearticle");this.$19n=$0.$1(n)?"knowledgearticle":n.$1S}return this.$19n},$Os:function(){this.executeAction()},$3H1:function(){this.get_ArticleLanguageFilterViewModel().set_SelectedLanguageFilterName(this.get_ArticleLanguageFilterViewModel().$51);this.executeAction()},$LQ:function(){this.$nK=!0;this.$28X()},$18:function(){this.$nK=!0;Microsoft.Crm.Client.Core.ViewModels.$UO.prototype.$18.call(this);this.$1Lu=!0;this.set_SearchText("");this.$28X();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$LQ)},$28X:function(){if(this.get_$2rF())if(this.$Es&&this.$37J(),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.$2C8()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$15N,"KbSearchControl.GetActiveLanguages")}else this.$2C8();else this.$nK=!1},$2C8:function(){var n=this;this.getActiveLanguages().done(function(){n.$2iY();n.$nK=!1})},$2iY:function(){if(this.get_ArticleLanguageFilterViewModel().$2aG(this.$Y0,this),$0.$1(this.get_ModelContext())){var n=this;this.AddPropertyChangedListener("ModelContext",function(){return n.$1rZ(!0)})}else this.$1rZ(!0)},$37J:function(){var n=null,t=this;n=function(){Microsoft.Crm.Client.Core.ViewModels.$y.$1pq(t);t.RemovePropertyChangedListener("ModelContext",n)};$0.$1(this.get_ModelContext())?this.AddPropertyChangedListener("ModelContext",n):Microsoft.Crm.Client.Core.ViewModels.$y.$1pq(this)},$2f6:function(n,t){t===this.$18l&&this.$1rZ(!1)},$X6:function(){this.$Es&&this.$nK||(this.executeAction(),Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$X6.call(this))},$2XZ:function(n){this.set_SearchText(n);this.executeAction()},get_$209:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$LT));return n.$2i(new Microsoft.Crm.Client.Core.ViewModels.$LT(this.$UG,this)),n},$2Jv:function(){return this.$qq},$1Yu:function(n,t){if($0.$1(t)&&(t="Inline"),n<1||n>this.$qq||"PopOut"!==t&&"Inline"!==t)return-1;try{var r=n-1,i=this.SearchResult(r);return this.set_SelectedSearchResult(i.Article),this.$18q=i,"Inline"===t?this.$3I3(this.$UG):"PopOut"===t&&this.$3I4(this.$UG),1}catch(u){return 0}},$3I3:function(){this.IncrementKnowledgeArticleViewCount();this.$bx?this.ArticleClick():this.set_IsSearchMode(!1)},$3I4:function(){},$1rZ:function(n){var t;if(this.$1LB&&this.$279()&&this.get_ParentEntityRecord())if(t="",this.$x8==="1"){var i=new Xrm.Objects.EntityReference(this.get_ParentEntityLogicalName(),this.get_ParentEntityRecord().$N.Id),r=this,u=this;Xrm.Internal.messages.retrieveKeyPhrasesForKnowledgeSearch(i).then(function(i){var u=i,f;if(!IsNull(u.keyPhrases)&&u.keyPhrases.length>0)for(t=u.keyPhrases[0],f=1;f<u.keyPhrases.length;f++)t+=" "+u.keyPhrases[f];r.$2V2(t,n)},function(n){u.$Rv=n.get_message()})}else t=Microsoft.Crm.Client.Core.ViewModels.$y.$31Z(this.get_ParentEntityRecord(),this.$18l),this.$2V2(t,n)},$2V2:function(n,t){IsNull(n)||(n=n.replace(new RegExp("\n","g")," "));Microsoft.Crm.Client.Core.Framework.$3.$9(n)||(this.set_SearchText(n),this.executeAction());t&&this.$x8!=="1"&&(this.$2.get_ModelContext().remove_$6x(this.$$d_$2f6),this.$2.get_ModelContext().add_$6x(this.$$d_$2f6))},executeAction:function(){this.$Es&&this.$nK||Microsoft.Crm.Client.Core.ViewModels.$y.$1pq(this);Microsoft.Crm.Client.Core.ViewModels.$UO.prototype.executeAction.call(this)},$28U:function(){var n=new Microsoft.Crm.Client.Core.Framework.$Nz;return n.$Gx={},n.$Gx._searchoption_=this.get_SearchText(),n.$Gx.filter=this.get_ArticleFilterViewModel().get_$3QH(),n.$Gx.orderby=this.get_SortFilterViewModel().get_$3QJ(),n.$Gx.isdescending=this.get_SortFilterViewModel().$bv,n.$Gx.language=this.get_ArticleLanguageFilterViewModel().get_$1IW(),this.$xc&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$k5)&&(n.$Gx.showRatingUsing=this.$k5),n},createKbSearchResultContentPaneViewModel:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.PropertyDescriptor)),t;return n.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("KbSearchControl",this)),n.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMobileClient",this.$Es)),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("KbSearchResultContentPaneViewModel","KbSearchResultContentPane","KbSearchResultContentPane",n.toArray(),null,null),Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(t,this.get_ModelContext(),this.$3V,this.$2)},$3JE:function(n,t){var u;this.set_IsLoading(!0);u=Microsoft.Crm.Client.Core.Framework.$49.$2Un(Microsoft.Crm.Client.Core.ViewModels.$97,"KbSearchStrategy");t?this.$q3=1:this.$q3++;this.$Rv="";this.$2Dd();var i=this,f=this,r=this;u.$hq(n,this.$1MA,this.$q3).done(function(n){var f,e,u,o,r;if(t&&i.$qr.clear(),IsNull(n.get_$3bo().get_Items()[0]))i.$18m=0,i.$qq=0;else{for(f=n.get_$3bo().get_Items()[0].get_$m(),e=n.get_$3bo().get_Items()[0].get_$3bq(),i.$18m=f,u=0;u<f;u++)o=e.get_Items()[u],r=new Microsoft.Crm.Client.Core.ViewModels.$EL,r.Article=o.get_$dt(),r.$Eu=i,r.$2eP(),i.$qr.add(r);i.$qq=n.get_$3bl();i.$u7=i.$qr}i.set_IsLoading(!1)}).fail(function(n){f.set_IsLoading(!1);f.$Rv=n.$E}).always(function(){r.$8(r.get_$3O0());r.$2Dc()})},$279:function(){if(this.$Rv="",this.get_IsKnowledgeMangementEnabled()){if(this.get_IsParatureConfigured())return this.$Rv=this.$Xn.get_$3IT(),!1;if(this.get_IsTextAnalyticsDisabled())return this.$Rv=this.$Xn.get_TextAnalyticsConfigureError(),!1}else return this.$Rv=this.$Xn.get_$3BA(),!1;return!0},$3JG:function(n){this.$279()&&this.$3JE(n,!0)},IncrementKnowledgeArticleViewCount:function(){var n=new Xrm.Objects.EntityReference("knowledgearticle",new Microsoft.Crm.Client.Core.Framework.Guid(this.$UG.$KI)),t=new Date,i=this;Xrm.Internal.messages.incrementKnowledgeArticleViewCount(n,t,1,1).then(Mscrm.InternalUtilities.ClientApiUtility.actionCompleteCallback,function(n){i.$Rv=n.get_message()});this.$UG.$kC++},ArticleClick:function(){var t=this.$2.$6F(this),i=t.$2.$6F(t),r=i.$2.$6F(i),u=r.$F.HorizontalTabs,n={};n.KbSearchResultContentPaneViewModel=this.createKbSearchResultContentPaneViewModel();n.SelectedSearchResult=this.$18q;n.ArticleEntityDisplayName=this.get_ArticleEntityDisplayName();n.ShowContextualActions=this.$18w;n.IsHostedInReferencePanel=this.$bx;u.AddHorizontalTab(this.$UG.$KI,1,n)},get_KbSearchResultFooterViewModel:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.PropertyDescriptor)),t,i;return n.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("KbSearchControl",this)),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("KbSearchResultFooter","KbSearchResultFooter","KbSearchResultFooter",n.toArray(),null,null),i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(t,this.get_ModelContext(),this.$3V,this.$2),i},get_FilterMenuFlyOutMetadata:function(){if(!this.$nK){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3Q.$$(String,Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor))),t=new Microsoft.Crm.Client.Core.ViewModels.$5B,i=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("KbSearchFilter","KbSearchFilter",null,null),r=new Microsoft.Crm.Client.Core.ViewModels.$UP(this);n.add(new(Microsoft.Crm.Client.Core.Framework.$3Q.$$(String,Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor))("KbSearchFilter",i));t.$8V("KbSearchFilter",r);var u=[new(Microsoft.Crm.Client.Core.Framework.$3Q.$$(String,Object))("Enabled",!0),new(Microsoft.Crm.Client.Core.Framework.$3Q.$$(String,Object))("Visible",!0)],f=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("Group","FilterMenu",n.toArray(),u);return[t,f]}return null},getActiveLanguages:function(){var n=this;return Xrm.Internal.messages.retrieveMultiple("<fetch mapping='logical'><entity name='languagelocale'><attribute name='name'/><attribute name='localeid'/><attribute name='languagelocaleid'/><filter><condition attribute='statecode' operator='eq' value='0'/><\/filter><order attribute='name' descending='false' /><\/entity><\/fetch>").then(function(t){var i=t;IsNull(i)||IsNull(i.entityCollection)||(n.$1gT=i.entityCollection)},Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)},FireResultOpenedPropertyChanged:function(){this.$8("ResultOpened")},$2Dd:function(){this.$8("PreSearch")},$2Dc:function(){this.$8("PostSearch")},$2Df:function(){this.$8("Selection")},$24w:function(n){this.AddPropertyChangedListener("PostSearch",n)},$24x:function(n){this.AddPropertyChangedListener("PreSearch",n)},$24y:function(n){this.AddPropertyChangedListener("ResultOpened",n)},$24z:function(n){this.AddPropertyChangedListener("Selection",n)},$2Tg:function(n){this.RemovePropertyChangedListener("PostSearch",n)},$2Th:function(n){this.RemovePropertyChangedListener("PreSearch",n)},$2Ti:function(n){this.RemovePropertyChangedListener("ResultOpened",n)},$2Tj:function(n){this.RemovePropertyChangedListener("Selection",n)},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$LQ);this.$2.get_ModelContext().remove_$6x(this.$$d_$2f6);$0.$1(this.$cd)||(this.$cd.RemovePropertyChangedListener("SelectedItem",this.$$d_$Os),this.$cd.dispose(),this.$cd=null);$0.$1(this.$ce)||(this.$ce.RemovePropertyChangedListener("SelectedItem",this.$$d_$3H1),this.$ce.dispose(),this.$ce=null);$0.$1(this.$iF)||(this.$iF.RemovePropertyChangedListener("SelectedItem",this.$$d_$Os),this.$iF.dispose(),this.$iF=null);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$LR=function(n,t,i){this.$2b=n;this.$1d=Microsoft.Crm.Client.Core.ViewModels.$5z.toString(n);this.$196=t;this.$197=i};Microsoft.Crm.Client.Core.ViewModels.$LR.prototype={$2b:0,get_Id:function(){return this.$2b},set_Id:function(n){return this.$2b=n,n},$1d:null,get_Name:function(){return this.$1d},set_Name:function(n){return this.$1d=n,n},$196:null,get_TitleResourceName:function(){return this.$196},set_TitleResourceName:function(n){return this.$196=n,n},$197:null,get_TooltipResourceName:function(){return this.$197},set_TooltipResourceName:function(n){return this.$197=n,n},get_Title:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6(this.$196)},get_Tooltip:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6(this.$197),Xrm.Page.data.entity.getEntityName())}};Microsoft.Crm.Client.Core.ViewModels.$EI=function(){Microsoft.Crm.Client.Core.ViewModels.$EI.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EI.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("KbSearchResultContentPaneViewModel",Microsoft.Crm.Client.Core.ViewModels.$EI)};Microsoft.Crm.Client.Core.ViewModels.$EI.prototype={IsAssociated:function(n){return Microsoft.Crm.Client.Core.ViewModels.$y.$1VM(n,this.$Eu)},get_AlreadyAssociatedText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchKMArticles.AlreadyAssociated"),Microsoft.Crm.Client.Core.ViewModels.$y.$1DI())},get_AssociatedText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchKMArticles.Associated"),Microsoft.Crm.Client.Core.ViewModels.$y.$1DI())},$Eu:null,get_KbSearchControl:function(){return this.$Eu},set_KbSearchControl:function(n){return this.$Eu=n,n},$Es:!1,get_IsMobileClient:function(){return this.$Es},set_IsMobileClient:function(n){return this.$Es=n,n},get_SearchResultActions:function(){return Microsoft.Crm.Client.Core.ViewModels.$y.$1Do()},IsActionAllowed:function(n,t){return Microsoft.Crm.Client.Core.ViewModels.$y.$1VI(n,t.Article,this.$Eu)},HandleAction:function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.$y.$2KD(n,t,this.$Eu),r;IsNull(i)||(r=this,i.done(function(){r.$8("CurrentKbSearchResult")}))},get_kbSearchResultLegendsViewModel:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.PropertyDescriptor)),t;return n.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMobileClient",this.$Es)),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("KbSearchResultLegendsViewModel","KbSearchResultLegends","KbSearchResultLegends",n.toArray(),null,null),Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(t,this.get_ModelContext(),this.$3V,this.$2)}};Microsoft.Crm.Client.Core.ViewModels.$EK=function(){Microsoft.Crm.Client.Core.ViewModels.$EK.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EK.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("KbSearchResultLegendsViewModel",Microsoft.Crm.Client.Core.ViewModels.$EK)};Microsoft.Crm.Client.Core.ViewModels.$EK.prototype={$LC:null,$Es:!1,get_IsMobileClient:function(){return this.$Es},set_IsMobileClient:function(n){return this.$Es=n,n},get_KbSearchResult:function(){return this.$LC},set_KbSearchResult:function(n){if(!$0.$1(n)){this.$jo.clear();var i=(new Microsoft.Crm.Client.Core.ViewModels.Converters.$L1).$I6(n.$y3,null),t=new Microsoft.Crm.Client.Core.ViewModels.$LQ("LastModifiedDateLegend",i,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchKMArticles.LastModifiedDateLabel"));t.$cK=this.$1qr(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchKMArticles.LastModifiedDateIconToolTip"),i);this.$jo.add(t);this.$Es||(t=new Microsoft.Crm.Client.Core.ViewModels.$LQ("NumberOfViewsLegend",n.$kC.toString(),new String),t.$cK=this.$1qr(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("KMControl.SearchKMArticles.NumberOfViewsToolTip"),n.$kC.toString()),t.$jO="mscrm-timesViewedSpan",t.$182="NumberOfViews",t.$181="mscrm-timesViewedIcon",this.$jo.add(t),Microsoft.Crm.Client.Core.Framework.$3.$9(n.$c8)||(t=new Microsoft.Crm.Client.Core.ViewModels.$LQ("RatingLegend",n.$c8,new String),t.$cK=this.$1qr(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ReferencePanelSearch_Rating_Tooltip"),n.$c8.toString()),t.$jO="mscrm-ratingSpan",t.$182="RatingFull",t.$181="mscrm-ratingIcon",this.$jo.add(t)))}return this.$LC=n,n},$1qr:function(n,t){var i="{0} {1}";return Microsoft.Crm.Client.Core.Framework.$7G.$1tJ()?String.format(i,t,n):String.format(i,n,t)}};Microsoft.Crm.Client.Core.ViewModels.$UO=function(){Microsoft.Crm.Client.Core.ViewModels.$UO.initializeBase(this);this.$q3=1};Microsoft.Crm.Client.Core.ViewModels.$UO.prototype={$2D:!1,$1IR:null,get_$3O0:function(){return"ResultsRetrieved"},$Es:!1,get_IsMobileClient:function(){return this.$Es},set_IsMobileClient:function(n){return this.$Es=n,n},$Hz:null,get_RelationshipName:function(){return this.$Hz},set_RelationshipName:function(n){return this.$Hz=n,n},$1Lf:null,get_IntersectTableName:function(){return this.$1Lf},set_IntersectTableName:function(n){return this.$1Lf=n,n},$1MT:null,get_ReferencedEntityColumnName:function(){return this.$1MT},set_ReferencedEntityColumnName:function(n){return this.$1MT=n,n},$1Lu:!1,get_IsSearchBoxVisible:function(){return this.$1Lu},set_IsSearchBoxVisible:function(n){return this.$1Lu=n,n},$Rv:null,get_ErrorString:function(){return this.$Rv},set_ErrorString:function(n){return this.$Rv=n,n},$18m:0,get_searchResultCountInCurrentPage:function(){return this.$18m},set_searchResultCountInCurrentPage:function(n){return this.$18m=n,n},$18L:!1,get_moreResults:function(){return this.$18L},set_moreResults:function(n){return this.$18L=n,n},$qq:0,get_searchResultCount:function(){return this.$qq},set_searchResultCount:function(n){return this.$qq=n,n},$1MA:0,get_NumberOfResults:function(){return this.$1MA},set_NumberOfResults:function(n){return this.$1MA=n,n},$18l:null,get_SearchForAutoSuggestionsUsing:function(){return this.$18l},set_SearchForAutoSuggestionsUsing:function(n){return this.$18l=n,n},$x8:null,get_AutoSuggestionSource:function(){return this.$x8},set_AutoSuggestionSource:function(n){return this.$x8=n,n},$k5:null,get_ShowRatingUsing:function(){return this.$k5},set_ShowRatingUsing:function(n){return this.$k5=n,n},$xc:!1,get_EnableRating:function(){return this.$xc},set_EnableRating:function(n){return this.$xc=n,n},$1hW:null,get_WallContentPageUrl:function(){return this.$1hW},set_WallContentPageUrl:function(n){return this.$1hW=n,n},$1LB:!1,get_EnableAutoSuggestions:function(){return this.$1LB},set_EnableAutoSuggestions:function(n){return this.$1LB=n,n},$1fK:!1,get_blockResult:function(){return this.$1fK},set_blockResult:function(n){return this.$1fK=n,n},get_SearchText:function(){return this.get_searchBoxContainerViewModel().$70},set_SearchText:function(n){return this.get_searchBoxContainerViewModel().$70===n?n:(this.get_searchBoxContainerViewModel().set_SearchText(n),n)},get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return this.$2D===n?n:(this.$2D=n,this.$8("IsLoading"),n)},get_ParentEntityRecord:function(){return!$0.$1(this.$2)&&!$0.$1(this.$2.get_ModelContext())?this.$2.get_ModelContext().$M:null},get_ParentEntityLogicalName:function(){return $0.$1(this.get_ParentEntityRecord())?"":this.get_ParentEntityRecord().$N.LogicalName},get_ParentEntityId:function(){return $0.$1(this.get_ParentEntityRecord())?null:this.get_ParentEntityRecord().$N.Id},get_ParentEntityDisplayName:function(){return $0.$1(this.get_ParentEntityRecord())?"":this.get_ParentEntityRecord().$N.Name},get_ParentEntityTypeCode:function(){return $0.$1(this.get_ParentEntityRecord())?-1:this.get_ParentEntityRecord().$N.TypeCode},get_searchBoxContainerViewModel:function(){return $0.$1(this.$1IR)&&(this.$1IR=this.$2mI()),this.$1IR},set_searchBoxContainerViewModel:function(n){return this.$1IR=n,n},$q3:0,$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this)},loadMoreResults:function(){var n=this.$28U();this.$3JE(n,!1)},executeAction:function(){if(!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_SearchText())){var n=this.$28U();this.$3JG(n)}},$2mI:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.PropertyDescriptor)),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("SearchBoxContainerViewModel","SearchBoxContainer","SearchBoxContainer",n.toArray(),null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(t,this.get_ModelContext(),this.$3V,this.$2)}};Microsoft.Crm.Client.Core.ViewModels.$Ez=function(){Microsoft.Crm.Client.Core.ViewModels.$Ez.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ez.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("SearchBoxContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$Ez)};Microsoft.Crm.Client.Core.ViewModels.$Ez.prototype={$70:null,get_SearchText:function(){return this.$70},set_SearchText:function(n){return this.$70===n?n:(this.$70=n,this.$8("SearchText"),n)}};Microsoft.Crm.Client.Core.ViewModels.$F0=function(){this.$1bn={};Microsoft.Crm.Client.Core.ViewModels.$F0.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$F0.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("SearchResultActionsDropdownViewModel",Microsoft.Crm.Client.Core.ViewModels.$F0)};Microsoft.Crm.Client.Core.ViewModels.$F0.prototype={IsAssociated:function(n){return Microsoft.Crm.Client.Core.ViewModels.$y.$1VM(n,this.$fp)},$be:null,get_ArticleId:function(){return this.$be},set_ArticleId:function(n){return this.$be=n,n},$fp:null,get_KbSearchControl:function(){return this.$fp},set_KbSearchControl:function(n){return this.$fp=n,n},get_Title:function(){return this.$fp.$Xn.get_$2bf()},GetFirstAction:function(n){for(var i,u=Microsoft.Crm.Client.Core.ViewModels.$y.$1Do(),r=u,f=r.length,t=0;t<f;++t)if(i=r[t],Microsoft.Crm.Client.Core.ViewModels.$y.$1VI(i,n,this.$fp))return i;return null},CountAllowedActions:function(n){for(var u,i=0,f=Microsoft.Crm.Client.Core.ViewModels.$y.$1Do(),r=f,e=r.length,t=0;t<e;++t)u=r[t],Microsoft.Crm.Client.Core.ViewModels.$y.$1VI(u,n.Article,this.$fp)&&i++;return i},GetTooltip:function(n){for(var i,u=Microsoft.Crm.Client.Core.ViewModels.$y.$1Do(),r=u,f=r.length,t=0;t<f;++t)if(i=r[t],i.$1d===n)return i.get_Tooltip();return""},$18:function(){var t,r,n;Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);t=Microsoft.Crm.Client.Core.ViewModels.$y.$1Do();this.set_ItemsList(new Array(t.length));r=0;for(var u=t,f=u.length,i=0;i<f;++i)n=u[i],this.$1bn[n.$1d]=n,this.get_ItemsList()[r++]=new Microsoft.Crm.Client.Core.ViewModels.$Cs(n.$1d,n.get_Title())},IsActionAllowed:function(n,t){var i=this.$1bn[n];return Microsoft.Crm.Client.Core.ViewModels.$y.$1VI(i,t,this.$fp)},HandleAction:function(n,t){var r=this.$1bn[n],i=Microsoft.Crm.Client.Core.ViewModels.$y.$2KD(r,t,this.$fp),u;IsNull(i)||(u=this,i.done(function(){t.$8("ActionHandled")}))}};Microsoft.Crm.Client.Core.ViewModels.$VC=function(n){Microsoft.Crm.Client.Core.ViewModels.$VC.initializeBase(this);this.$Me=n;this.$1JF=[n.get_$2TG(),n.get_$2PB(),n.get_$2NQ(),n.get_$2NR()];this.$1cT()};Microsoft.Crm.Client.Core.ViewModels.$VC.prototype={$1JF:null,$Me:null,$bv:!1,get_isDescending:function(){return this.$bv},set_isDescending:function(n){return this.$bv=n,n},get_$3QJ:function(){return(this.$bv=!0,this.$51===this.$Me.get_$2TG())?"":this.$51===this.$Me.get_$2PB()?"knowledgearticleviews":this.$51===this.$Me.get_$2NQ()?"modifiedon":this.$51===this.$Me.get_$2NR()?(this.$bv=!1,"modifiedon"):""},$1cT:function(){this.set_ItemLabels(this.$1JF);this.set_ItemValues(this.$1JF);this.set_SelectedItem(this.$1JF[0])}};Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel.initializeBase(this);this.$Bd=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$ni=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number));this.$M0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$kV={};this.$kl=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.View.ViewDescriptor))};Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel.prototype={$Bd:null,$M0:null,$ni:null,$kl:null,$Y7:null,$1Wu:!1,$ld:null,$2ZD:null,$22F:null,$1OL:null,$1OK:null,$1OM:null,$1OJ:null,$1dk:null,$1CZ:35,$kV:null,$qD:0,get_FixedTabHeight:function(){return this.$qD},set_FixedTabHeight:function(n){return this.$qD=n,n},$17v:0,$1g8:!1,get_IsCloseButtonVisible:function(){return this.$1g8},set_IsCloseButtonVisible:function(n){return this.$1g8=n,n},$1fY:0,get_ContentDataSource:function(){return this.$1fY},set_ContentDataSource:function(n){return this.$1fY=n,n},$1Mw:null,get_ToolTip:function(){return this.$1Mw},set_ToolTip:function(n){return this.$1Mw=n,n},$1g0:null,get_IconUrl:function(){return this.$1g0},set_IconUrl:function(n){return this.$1g0=n,n},get_TabData:function(){return this.$1dk},set_TabData:function(n){return this.$1dk=n,this.$8("DataAvailable"),n},$Pg:null,get_TabOrientation:function(){return this.$Pg},set_TabOrientation:function(n){return this.$Pg=n,n},get_ChildrenList:function(){return this.$Bd},get_ActiveChild:function(){return this.$Y7},set_ActiveChild:function(n){return this.$Y7!==n&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("TabContainerChildActivated",0,this.get_ViewModelId()),this.$Y7=n,this.$8("ActiveChild")),n},get_MetaDataIdentifier:function(){return this.$ni},get_ChildTabViewDescriptors:function(){return this.$kl},get_ArticleMap:function(){return this.$kV},set_ArticleMap:function(n){return this.$kV=n,n},removeChild:function(n){if(this.$Bd.indexOf(n)!==-1){var t=this.$Bd.indexOf(n);this.$kl.removeAt(t);this.$Bd.remove(n);this.$ni.removeAt(t);this.$M0.remove(n);n in this.$kV&&delete this.$kV[n];n in this.$F&&delete this.$F[n];this.$8("ChildrenList")}},pushChild:function(n){this.$M0.contains(n)&&(this.$M0.remove(n),this.$M0.insert(0,n))},textColor:function(){return this.$22F},borderRight:function(){return this.$1OL},borderLeft:function(){return this.$1OK},borderTop:function(){return this.$1OM},borderBottom:function(){return this.$1OJ},removeChildStack:function(n){this.$M0.contains(n)&&this.$M0.remove(n)},setPrevActive:function(){this.$Bd.get_Count()>0&&(this.$Y7=this.$M0.get_$I(0),this.$8("ActiveChild"))},dragStart:function(n){this.$ld=n;this.$Y7!==n&&(this.$Y7=n,this.pushChild(n),this.$8("ActiveChild"))},tabWidthSecondPass:function(n,t,i,r){if(t)return this.$17v;if(!this.$Pg||this.$Pg.localeCompare("left")&&this.$Pg.localeCompare("right")){var u=i;return u<=5?(n-r*(i-1))/5:(n-r*(i-1))/u}return this.$17v},tabHeightSecondPass:function(n,t,i,r){if(t)return this.$qD;if(this.$Pg.localeCompare("top")&&this.$Pg.localeCompare("bottom")){var u=i;return u<=1?(n-r*(i-1))/1:(n-r*(i-1))/u}return this.$qD},RefreshLists:function(){this.$X6()},$3Vp:function(){return this.$M0.get_$I(0)},drop:function(n){var t=this.$Bd.indexOf(n),i=this.$Bd.indexOf(this.$ld),r=this.$ni.get_$I(i);this.$Y7!==this.$ld&&(this.$Y7=this.$ld,this.pushChild(this.$ld));this.$Bd.remove(this.$ld);this.$ni.removeAt(i);this.$Bd.insert(t,this.$ld);this.$ni.insert(t,r);this.$8("ChildrenList")},checkTabClose:function(){var n=this.$Bd.get_Count();return n>1?!0:this.$1Wu},getFullUrl:function(n){return n.startsWith("/")?n:Mscrm.CrmUri.create("/WebResources/"+n).toString()},addChild:function(n,t){var i,r;if(this.$Bd.get_Count()===10){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TabControl_AddTab"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TabControl_MaxTabs"));return}i=String.format("{0}_{1}",n,t.uniqueid);this.$Pg=String.format("{0}",t.orientation);this.$2ZD=String.format("{0}",t.tab_color);this.$1Wu=String.format("{0}",t.last_tab_close).localeCompare("false")?!0:!1;this.set_Height(String.format("{0}",t.height));this.$22F=String.format("{0}",t.tab_textcolor);this.$1OL=String.format("{0}",t.border_right);this.$1OJ=String.format("{0}",t.border_bottom);this.$1OK=String.format("{0}",t.border_left);this.$1OM=String.format("{0}",t.border_top);this.$Bd.add(i);this.$M0.insert(0,i);r=this.$Bd.indexOf(i);this.set_ActiveChild(i);this.$8("ChildrenList")},AddHorizontalTab:function(n,t,i){var e=!1,r=String.format("HorizontalTab_{0}",n),u,f,o;this.$Bd.contains(r)||(this.$Bd.add(r),e=!0);this.set_ActiveChild(r);this.$2.$6F(this).$F.StaticTabs.set_ActiveChild(null);this.$2.$6F(this).set_ActiveContainer("HorizontalTabs");e&&(this.$kV[r]=n,u=null,f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("MultiSessionTabContainerViewModel","SessionTabContainer","SessionTabContainer"+r,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TabOrientation","top"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ContentDataSource",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsCloseButtonVisible",!0)],null,null),u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(f,this.get_ModelContext(),this.$3V,this.$2),this.$8V(r,u),o=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(f),this.$kl.add(o),this.$F[r].$1OL="0px",this.$F[r].$1OJ="0px",this.$F[r].$1OK="0px",this.$F[r].$1OM="0px",this.$F[r].set_$4K(this.$2),this.$M0.insert(0,r));switch(t){case 1:this.PrepareCrmArticle(r,i)}this.$8("ChildrenList")},openQuickviewForm:function(n,t){var o={},i=String.format("{0}_{1}","HorizontalTab",t.uniqueid),u,f,e;if(this.set_ActiveChild(i),this.$2.$6F(this).$F.StaticTabs.set_ActiveChild(null),this.$2.$6F(this).set_ActiveContainer("HorizontalTabs"),this.$Bd.contains(i)){this.$F[i].RefreshLists();this.pushChild(i);return}var r=null,h=this.$2.$6F(this),c=h.get_QuickViewModelsList()[n],s=this.$2tG(i,c),l=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(s);this.$kl.add(l);r=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(s,this.get_ModelContext(),this.$3V,this.$2);u=r.$F;for(f in u)e={key:f,value:u[f]},r=this.$2aT(r),r.$F[e.key].$EA=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t.uniqueid.toString())),r.$F[e.key].$qk=!0;this.$8V(i,r);this.$Bd.add(i);this.$M0.insert(0,i);o.Title=t.title.toString();r.set_TabData(o);this.$8("ChildrenList")},$2aT:function(n){var r=n.$F,i,t;for(i in r){if(t={key:i,value:r[i]},Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.isInstanceOfType(n.$F[t.key])){n.$F[t.key].set_$4K(this.$2);n.$F[t.key].set_Command("LookupFieldClickCommand");n.$F[t.key].$18u=!0;continue}n.$F[t.key]=this.$2aT(n.$F[t.key])}return n.set_$4K(this.$2),n},$2tG:function(n,t){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("MultiSessionTabContainerViewModel","SessionTabContainer","SessionTabContainer"+n,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TabOrientation","top"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ContentDataSource",2),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsCloseButtonVisible",!0)],null,[t])},PrepareCrmArticle:function(n,t){var r=this.$F[n],i=t.SelectedSearchResult.Article.$4r;t.Title=i;this.$1Mw=i;r.set_TabData(t)},$18:function(){var n,t,i;Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$Pg.localeCompare("top")&&this.$Pg.localeCompare("bottom")||(this.$17v=this.$1CZ,this.$qD=this.$1CZ-5);this.$Pg.localeCompare("left")&&this.$Pg.localeCompare("right")||(this.$qD=this.$1CZ,this.$17v=this.$1CZ);n=this.$F;for(t in n)i={key:t,value:n[t]},this.$Bd.add(i.key),this.$M0.add(i.key)},$GX:function(){this.$Bd=null;this.$M0=null;this.$ni=null;this.$kV=null;this.$kl=null;this.$1dk=null;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Et=function(){Microsoft.Crm.Client.Core.ViewModels.$Et.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Et.initializeBase(this);this.$jl=0;this.set_ClearFilter(!0)};Microsoft.Crm.Client.Core.ViewModels.$Et.prototype={$P9:null,$K2:null,$ST:!1,$q4:null,get_DecimalPrecision:function(){return this.$q4},set_DecimalPrecision:function(n){return this.$q4=n,n},$jl:null,get_LastCharCode:function(){return this.$jl},set_LastCharCode:function(n){return this.$jl=n,n},$KL:null,get_MinRange:function(){return this.$KL},set_MinRange:function(n){return this.$KL=n,n},$J2:null,get_MaxRange:function(){return this.$J2},set_MaxRange:function(n){return this.$J2=n,n},$qE:!1,get_GlobalClearFilter:function(){return this.$qE},set_GlobalClearFilter:function(n){return this.$qE=n,n},get_ClearFilter:function(){return this.$ST},set_ClearFilter:function(n){return this.$ST=n,this.$8("ClearSliderValues"),n},get_SelectedMaximum:function(){return this.$K2},set_SelectedMaximum:function(n){return this.$K2=n?n:0,n},get_SelectedMinimum:function(){return this.$P9},set_SelectedMinimum:function(n){return this.$P9=n?n:0,n},get_LabelAll:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_All")},clearRange:function(){this.set_ClearFilter(!0);this.set_SelectedMinimum(this.$KL);this.set_SelectedMaximum(this.$J2)},limitSliderValues:function(){this.$P9>this.$K2&&this.set_SelectedMinimum(this.$K2);this.$K2>this.$J2&&this.set_SelectedMaximum(this.$J2);this.$P9<this.$KL&&this.set_SelectedMinimum(this.$KL)},onDataChange:function(){}};Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel=function(){this.$$d_$3El=Function.createDelegate(this,this.$3El);Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel.prototype={$Vj:null,$Q4:null,$6L:null,$1sl:!1,$sQ:null,$Se:null,get_CurrentItems:function(){return this.$Se},set_CurrentItems:function(n){return this.$Se===n?n:(this.$Se=n,this.$8("ItemsChanged"),n)},get_Items:function(){return $0.$1(this.$Vj)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Vj)?this.$Se:this.$2eQ(this.$Se)},get_CloseButtonTitle:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("GlobalFilter_Cancel")},get_ComboBoxTitle:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QuickCreateNote.ChooseEntityLabel")},get_SavingText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SavingInformation")+"..."},get_FilterText:function(){return this.$Vj},set_FilterText:function(n){return this.$Vj===n?n:(this.$Vj=n,this.ChangeEntityList(),n)},get_CloseCommand:function(){return this.$Q4},set_CloseCommand:function(n){return this.$Q4!==n&&($0.$1(this.$Q4)||(this.$Q4.dispose(),this.$Q4=null),this.$Q4=n,this.ChangeEntityList()),n},get_ComboBoxViewModel:function(){return this.$6L},set_ComboBoxViewModel:function(n){return this.$6L!==n&&($0.$1(this.$6L)||(this.$6L.dispose(),this.$6L=null),this.$6L=n),n},get_IsModelInitialized:function(){return this.$1sl},ChangeEntityList:function(){this.$sQ.get_Count()&&(this.$6L.$51==="favorites"||this.$6L.$51==="recent"?this.$2Nu():this.$3Bj())},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$sQ=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2n)),this.set_CurrentItems(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem))),this.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Instructions_Notes_NewNote")),this.set_CloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(this.$$d_Close,1013)),this.$37R(),this.$2Nu(),this.$1sl=!0,this.set_FilterText(""))},$37R:function(){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V)),i,n;if(t.add(new Microsoft.Crm.Client.Core.ViewModels.$Cs("favorites",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QuickCreateNote.ChooseEntityLabel.FavoritesTitle"))),t.add(new Microsoft.Crm.Client.Core.ViewModels.$Cs("recent",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QuickCreateNote.ChooseEntityLabel.RecentTitle"))),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$OW(),!$0.$1(i)&&i.length>0)for(var u=i,f=u.length,r=0;r<f;++r)n=u[r],n.$ZQ&&n.$Oj&&(this.$sQ.add(n),t.add(new Microsoft.Crm.Client.Core.ViewModels.$Cs(n.$12.toString(),n.$1S)));this.set_ComboBoxViewModel(new Microsoft.Crm.Client.Core.ViewModels.$9i);this.$6L.$18();this.$6L.set_ItemsList(t.toArray());this.$6L.SetSelectedItemWithoutFirePropertyChange("favorites");this.$6L.AddPropertyChangedListener("SelectedItem",this.$$d_$3El)},$3El:function(n,t){t==="SelectedItem"&&this.ChangeEntityList()},$2Nu:function(){var r,t,n,i;if(this.$Se.clear(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ().$J3,$0.$1(r)){this.$8("ItemsChanged");return}if(t=null,this.$6L.$51==="favorites"?t=this.$2DM(r.$QM):this.$6L.$51==="recent"&&(t=this.$2DM(r.$X4)),$0.$1(t)||!t.get_Count()){this.$8("ItemsChanged");return}for(n=null,i=0;i<t.get_Count();i++)n=new Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem,n.set_PrimaryModelName("annotation"),n.$18(),n.set_ModelContext(t.get_$I(i).$PX.get_ModelContext()),n.$4g=t.get_$I(i).get_Title(),n.set_Description(""),n.$17Q=this.$Q4,this.$Se.add(n);this.$8("ItemsChanged")},$3Bj:function(){for(var t=null,n=0;n<this.$sQ.get_Count();n++)if(this.$sQ.get_$I(n).$12.toString()===this.$6L.$51){t=this.$sQ.get_$I(n);break}if($0.$1(t)){this.$Se.clear();this.$8("ItemsChanged");return}this.$Se.clear();this.$8("ItemsChanged");this.$3Bh(t)},$3Bh:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleEntityForNoteAction",this.$2lT(n)),r=this,u,i;t.OnSuccess=function(t){r.$3FQ(t,n)};u=this;t.OnFailure=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;t.$GL=0;t.$Bv=2;t.set_IsHtmlEncodingRequired(!0);t.$Fu=n.$4r;t.set_Message(n.$E);t.Show()};i=new Microsoft.Crm.Client.Core.ViewModels.$M(this,t).$tN(null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(i)},$2lT:function(n){var i=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Vj)||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?"":Microsoft.Crm.Client.Core.Framework.$3.$MN("<filter type='and'><condition attribute='{0}' operator='like' value='%{1}%' /><\/filter>",n.$5e,this.$Vj),r=String.format("<fetch mapping='logical' version='1.0'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<entity name='{0}'><attribute name='{1}'/><attribute name='{2}'/><order attribute='{3}' descending='false'/>{4}<\/entity><\/fetch>",n.$d,n.$4S,n.$5e,n.$5e,i),u=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(r),t=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(u,"QuickCreateNoteViewModel");return t.$3R=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([n.$4S]),t.$Mp=!0,t.set_$7m(1),t.$32=100,t},$2DM:function(n){for(var i,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo)),t=0;t<n.get_Count();t++)(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$Bq(n.get_$I(t).get_EntityTypeCode()),$0.$1(i)||!i.$ZQ||n.get_$I(t).get_Type())||(n.get_$I(t).set_PrimaryModelName(i.$d),r.add(n.get_$I(t)));return r},$3FQ:function(n,t){var r,i;if(this.$Se.clear(),$0.$1(n)||!n.get_count()){this.$8("ItemsChanged");return}for(r=0;r<n.get_count();r++)i=new Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem,i.set_PrimaryModelName("annotation"),i.$18(),i.$20i(t,n.get_entities()[r]),i.set_ModelContext(Microsoft.Crm.Client.Core.Models.$O.$B(n.get_$I(r))),i.$17Q=this.$Q4,this.$Se.add(i);this.$8("ItemsChanged")},$2eQ:function(n){var u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem)),t;if($0.$1(n)||!n.get_Count())return u;if($0.$1(this.$Vj)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Vj))return n;for(t=0;t<n.get_Count();t++){var i="",r="",f=this.$Vj.toLowerCase();$0.$1(n.get_$I(t).$4g)||(i=n.get_$I(t).$4g);$0.$1(n.get_$I(t).$sF)||(r=n.get_$I(t).$sF);i=i.toLowerCase();r=r.toLowerCase();(i.indexOf(f)!==-1||r.indexOf(f)!==-1)&&u.add(n.get_$I(t))}return u},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.$GX.call(this);this.$Q4&&(this.$Q4.dispose(),this.set_CloseCommand(null));this.$6L&&(this.$6L.dispose(),this.set_ComboBoxViewModel(null))}};Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem=function(){Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem.prototype={$sF:null,$4g:null,get_DisplayName:function(){return this.$4g},set_DisplayName:function(n){return this.$4g=n,n},get_Description:function(){return this.$sF},set_Description:function(n){return this.$sF===n?n:(this.$sF=n,n)},$17Q:null,get_CloseParentForm:function(){return this.$17Q},set_CloseParentForm:function(n){return this.$17Q=n,n},$20i:function(n,t){if($0.$1(n)||$0.$1(t)){this.$4g="";this.set_Description("");return}this.$4g=t.getValue(n.$5e);this.$sF=""}};Microsoft.Crm.Client.Core.ViewModels.$9C=function(){this.$$d_$1uC=Function.createDelegate(this,this.$1uC);this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$32C=Function.createDelegate(this,this.$32C);this.$$d_$1u9=Function.createDelegate(this,this.$1u9);this.$$d_$3GZ=Function.createDelegate(this,this.$3GZ);this.$$d_$1wX=Function.createDelegate(this,this.$1wX);this.$$d_$2QC=Function.createDelegate(this,this.$2QC);this.$$d_$2QB=Function.createDelegate(this,this.$2QB);this.$Ia_6=[];this.$14Y=-1;Microsoft.Crm.Client.Core.ViewModels.$9C.initializeBase(this);this.$xw=!1};Microsoft.Crm.Client.Core.ViewModels.$9C.prototype={$1tB:!1,$FQ:null,$Tc:null,$1Ub:!1,$1UQ:!1,$11w:!1,$Qc_6:!1,$1FN:null,$Wp_6:null,$qg:null,get_$2ah:function(){return!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()&&(!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe())},$Gt:null,get_LookupStyle:function(){return this.$Gt},set_LookupStyle:function(n){return this.$Gt=n,n},get_$2n1:function(){return this.get_$AN()?this.get_$AN().$O2:[]},get_HasNewPreSearchHandler:function(){return this.$11w},set_HasNewPreSearchHandler:function(n){return this.$11w=n,n},get_HideLookupResultsList:function(){return this.$1Ub},set_HideLookupResultsList:function(n){return this.$1Ub!==n&&(this.$1Ub=n,this.$8("HideLookupResultsList")),n},get_$2n2:function(){return this.get_$AN()?this.get_$AN().$O3:[]},get_SearchValue:function(){return this.$FQ},set_SearchValue:function(n){return this.$FQ!==n&&(this.$FQ=n,this.$1X8()),n},get_$AN:function(){return this.$Tc},set_$AN:function(n){return this.$Tc!==n&&($0.$1(this.$Tc)||(this.$Tc.RemovePropertyChangedListener("HasFocus",this.$$d_$2QB),this.$Tc.RemovePropertyChangedListener("PreSearchHandler",this.$$d_$2QC)),this.$Tc=n,$0.$1(this.$Tc)||(this.$Tc.AddPropertyChangedListener("HasFocus",this.$$d_$2QB),this.$Tc.AddPropertyChangedListener("PreSearchHandler",this.$$d_$2QC),this.$2QB(this.$Tc,"HasFocus"),this.$2QC(this.$Tc,"PreSearchHandler"))),n},$xw:!1,get_IsInteractionCentricLookup:function(){return this.$xw},set_IsInteractionCentricLookup:function(n){return this.$xw=n,n},get_HasMoreRecords:function(){return this.$1UQ},set_HasMoreRecords:function(n){return this.$1UQ!==n&&(this.$1UQ=n,this.$8("HasMoreRecords")),n},get_ListItemViewDescriptor:function(){return this.$1FN},set_ListItemViewDescriptor:function(n){return this.$1FN!==n&&(this.$1FN=n,this.$8("ListItemViewDescriptor")),n},$18:function(){this.$1y||($0.$1(this.$Ih)&&this.set_OpenItemCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(this.$$d_$1wX,1011)),this.$1sS=!0);this.get_$2ah()&&(this.$qg={});Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this);this.AddPropertyChangedListener("PrimaryModelName",this.$$d_$3GZ);this.$Gt="single"},$1rk:function(){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1rk.call(this);this.$6a.set_$p5(!1)},$zm:function(n){return $0.$1(this.$6a)&&this.$1rk(),Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$zm.call(this,n)},$20p:function(n,t,i){this.set_PrimaryModelName(n);this.$Dx=null;this.set_ListItemViewDescriptor(null);this.$2fq(n,t,i)},$1uC:function(n){this.$Ia_6=n},$1wX:function(){this.get_CurrentItemIndex()>=0&&this.get_$AN().$1XK(this.$Ia_6[this.get_CurrentItemIndex()])},$1u9:function(){this.$14Y=-1;$0.$1(this.$FQ)||$0.$1(this.$J)||Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1u9.call(this)},$4e:function(n){$0.$1(this.$Dx)?this.$Wp_6=n:(this.$Qc_6&&this.$8("NewItemDescriptorAndModel"),this.$2u.get_$B5().$79(),this.$Mc=n.get_$Bt().get_Count(),this.$24q(n),this.set_IsLoading(!1),this.set_HasMoreRecords(!n.get_$WG()),this.$11w=!1,this.$Qc_6=!1,this.$8("RecordCount"))},AddUnresolvedEmail:function(){},get_IsEntityAvailable:function(){return Microsoft.Crm.Client.Core.ViewModels.$n.$IT(this.get_$AN().$Ad)},get_NoRecordsText:function(){return this.get_IsEntityAvailable()?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Lookup_No_Records_Text"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MO_MobileOfflineLookup_Description")},get_SearchResultsText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Lookup_SearchResults")},get_MoreRecordsText:function(){return Microsoft.Crm.Client.Core.Framework.$3.$MN("({0})",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TouchLookupMatchesBar_RefineQuery"))},$32C:function(n){this.$Dx=n;this.set_ListItemViewDescriptor(Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(this.$Dx));this.$Qc_6=!0;$0.$1(this.$Wp_6)||(this.$4e(this.$Wp_6),this.$Wp_6=null)},$2TI:function(){this.$1u9()},$GX:function(){$0.$1(this.get_$AN())||(this.get_$AN().RemovePropertyChangedListener("HasFocus",this.$$d_$2QB),this.get_$AN().RemovePropertyChangedListener("PreSearchHandler",this.$$d_$2QC));this.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$3GZ);$0.$1(this.$qg)||(this.$qg=null);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$GX.call(this)},$3GZ:function(){this.$1X8()},$2QC:function(){this.$11w=!0;this.$1X8()},$2QB:function(){(this.$11w||this.$Qc_6)&&this.$1X8()},$1X8:function(){this.get_$AN().get_HasFocus()&&(this.$14Y!==-1&&(window.clearTimeout(this.$14Y),this.$14Y=-1),$0.$1(this.$FQ)?$0.$1(this.$2u)||this.$2u.$1P9():this.$14Y=window.setTimeout(this.$$d_$1u9,500))},$2fq:function(n,t,i){var r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("GetLookupListItemDescriptor",{EntityName:n,ViewQuery:t,ViewLayout:i});Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,r)}};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel=function(n,t){this.$$d_$V8=Function.createDelegate(this,this.$V8);this.$Pz=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Cancel_Text");Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel.initializeBase(this);this.set_IsArchivedProcessCommand(!0);this.$1Nr=n;this.$DZ=t;this.$SN=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(this.$$d_$V8,26)};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel.prototype={$1Nr:null,$DZ:null,$JB:null,$SN:null,$kU:null,$nF:!1,get_SwitchProcessListViewModel:function(){return this.$DZ},set_SwitchProcessListViewModel:function(n){return this.$DZ=n,n},$Nq:function(){this.$1Nr.$Nq(this)},get_IsArchivedProcessCommand:function(){return this.$nF},set_IsArchivedProcessCommand:function(n){return this.$nF=n,this.$8("IsArchivedProcessCommand"),n},get_ButtonText:function(){return this.$nF?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.ArchiveSwitcher.Archived"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.Back")},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$Ut.prototype.$18.call(this);this.$DZ.set_Root(this);this.$DZ.set_$1lR(this.get_ModelContext().get_ModelName());this.$DZ.set_$1lU(this.get_ModelContext().get_Id());this.$DZ.$18();this.$3Tg()},$14F:function(){this.$1Nr.$14F(this)},$SU:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Nq(this);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.$20&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.changeState("PopupPresent",!1)},$V8:function(){this.$SU();$0.$1(this.$JB)||this.$JB()},get_Title:function(){return this.$nF?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.Switcher.Title"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.ArchiveSwitcher.Title")},get_SubTitle:function(){return this.$nF?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.Switcher.Subtitle"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.ArchiveSwitcher.Subtitle")},get_CancelButtonText:function(){return this.$Pz},set_CancelButtonText:function(n){return this.$Pz=n,n},get_CancelCommand:function(){return this.$SN},get_ArchivedCommand:function(){return this.$kU},set_ArchivedCommand:function(n){return $0.$1(this.$kU)||this.$kU.dispose(),this.$kU=n,n},$3Tg:function(){this.$2fJ()},$2fJ:function(){var t=this,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("BindArchivedProcessCommand","BindArchivedProcessCommand",{TargetViewModel:this.$DZ,SuccesCallback:function(){}});this.set_ArchivedCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,n))},$GX:function(){$0.$1(this.$kU)||(this.$kU.dispose(),this.$kU=null);$0.$1(this.$SN)||(this.$SN.dispose(),this.$SN=null);Microsoft.Crm.Client.Core.ViewModels.$Ut.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R(Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.getName(),Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.prototype={get_NewProcessLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.NewProcess")},get_ByLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.By")},get_GetStatusCode:function(){var t=this.get_ModelContext(),n=t.GetValue("StatusCodeName");return n==="Aborted"?n=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.ArchiveSwitcher.Aborted"):n==="Finished"&&(n=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.Finished")),n}};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel=function(){this.get_$1df=this.get_SwitchProcessCollection;this.set_$1df=this.set_SwitchProcessCollection;Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel.resolveInheritance();this.get_$2R6=this.get_OpenItemCommand;this.set_$3Dz=this.set_NavigationTarget;this.get_$3QI=this.get_SelectedItem;this.get_componentType=this.get_$2ic;this.get_definitionId=this.get_DefinitionId;this.set_definitionId=this.set_DefinitionId;this.get_sourceId=this.get_SourceId;this.set_sourceId=this.set_SourceId;this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$2b8=this.get_Visible;this.get_childViewModels=this.get_ChildViewModels;this.get_$2oG=this.get_Dragging;this.get_$1Np=this.get_applicationMetadataType;this.get_$2nN=this.get_DefinitionId;this.set_$3Ub=this.set_SourceId;this.get_$3YS=this.get_ViewModelId;Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel.prototype={$1lQ:null,$1lT:null,$21k:null,$23P:null,get_$1lR:function(){return this.$1lQ},set_$1lR:function(n){return this.$1lQ=n,n},get_$1lU:function(){return this.$1lT},set_$1lU:function(n){return this.$1lT=n,n},get_SwitchProcessCollection:function(){return this.$21k},set_SwitchProcessCollection:function(n){return this.$21k=n,n},get_ViewDescriptor:function(){return this.$23P},$18:function(){if(!this.$1y){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor(Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.getName(),"SwitchProcessListItem","SwitchProcessListItemViewModel",null,null,null),t=[n],i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Root",this.$2),r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShortPressCommandName",Microsoft.Crm.Client.Core.Commands.$8b.getName()),u=[r,i],f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ListItem","ListItem","ListItemViewModel",u,null,t);this.$Dx=f;var e=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("SwitchProcessListItem","SwitchProcessListItemViewModel",null,null),o=new(Microsoft.Crm.Client.Core.Framework.$3Q.$$(String,Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor))("SwitchProcessListItemView",e),s=[o],h=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("ListItem","ListItemViewModel",s,null),c=new(Microsoft.Crm.Client.Core.Framework.$3Q.$$(String,Object))("ListItemDescriptor",h),l=[c];this.$23P=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("SwitchProcessList","",null,l)}Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this)},$3Nf:function(){this.$1s.$FP()},$2fO:function(){return!1}};Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel.prototype={updateFieldsVisibility:function(n){Microsoft.Crm.Client.Core.ViewModels.MailApp.$5X.$1rL(n.$F)},openListItemInWeb:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenListItemInWebCommand"),i;t.InitializationParameters.TraceComponent=1011;t.InitializationParameters.SelectionState=this.$6a;t.InitializationParameters.ListItemViewModel=n;i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(n,t);i.execute()}};Microsoft.Crm.Client.Core.ViewModels.$ST=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$ST.initializeBase(this,[n,t,!1])};Microsoft.Crm.Client.Core.ViewModels.$ST.prototype={$31:function(n){switch(this.$C1){case 0:case 3:this.$1Vz?this.$34(n):this.$1xP(n);break;case 2:var t=this;this.$KF(function(){t.$5I(".commandBarSection button.button[data-id='incident|NoRelationship|HomePageGrid|Mscrm.HomepageGrid.incident.Cancel']");t.$KF(function(){t.$34(function(){t.$5I("div.control_value[data-fieldname ='ok_id_readonly'] > button.SimpleButton");t.$34(n)})})});break;default:this.$34(n)}}};Microsoft.Crm.Client.Core.ViewModels.$Qq=function(){Microsoft.Crm.Client.Core.ViewModels.$Qq.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Qq.prototype={$31:function(n){var i=$(".InteractionCentricGridNavigtableField")[0],t;i.click();t=this;this.$KF(function(){t.$34(n)})}};Microsoft.Crm.Client.Core.ViewModels.$Qr=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$Qr.initializeBase(this);this.$C1=n;this.$1Vz=t;this.$1Om=i;this.$1Kv="CascadeResolveCase"};Microsoft.Crm.Client.Core.ViewModels.$Qr.prototype={$1Kv:null,$1P0:0,$C1:0,$1Vz:!1,$1Om:!1,$31:function(n){var t,i;switch(this.$C1){case 0:case 3:this.$1Vz?this.$34(n):this.$1xP(n);break;case 2:this.$1Om?(t="incident|NoRelationship|Form|Mscrm.Form.incident.Resolve",this.$2U5(t,n)):(i="incident|NoRelationship|HomePageGrid|Mscrm.HomepageGrid.incident.Resolve",this.$2U5(i,n));break;default:this.$34(n)}},$1xP:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$RN,t=this;i.$2F().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$R3(0,null);i.$2F().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$R3(2,t.$1Kv);i.$2F().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$Qz("Service","Cases");i.$2F().done(function(){t.$2YN(n,0)})})})})},$2YN:function(n,t){var i,r,f;if(t===3)this.$1wW(n);else if(i=".ui-state-default[title='Sort by Created On'] .ui-jqgrid-sortable",r=$(i),r.length>0){var e=r[0],o=$(i+" .ui-grid-ico-sort[sort='asc']"),s=o[0],u=s.style.display;$0.$1(u)||u==="none"?(e.click(),f=this,this.$34(function(){f.$2YN(n,t+1)})):this.$1wW(n)}else this.$1wW(n)},$1wW:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$Qq,t=this;i.$2F().done(function(){t.$KF(function(){t.$1P0=0;t.$29e(n)})})},$29e:function(n){var t,r,i;this.$1P0===5?this.$1Om?this.$34(n):(t=this,this.$34(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$RO;i.$2F().done(function(){t.$KF(function(){t.$9I(".ui-jqgrid-btable .jqgrow .cbox:first");t.$KF(n,2e3)})})})):(r=new Microsoft.Crm.Client.Core.ViewModels.$Qf(3),i=this,r.$2F().done(function(){var t=new Microsoft.Crm.Client.Core.ViewModels.$Qf(2);t.$2F().done(function(){i.$KF(function(){i.$1P0+=1;i.$29e(n)})})}))},$2U5:function(n,t){var i=this;this.$KF(function(){i.$5I(".commandBarSection button.button[data-id='"+n+"']");i.$KF(function(){i.$34(function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$Qo(3,null);n.$2F().done(function(){i.$KF(function(){i.$34(t)},2e3)})})},2e3)})}};Microsoft.Crm.Client.Core.ViewModels.$Qo=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Qo.initializeBase(this);this.$1np=n;this.$G=t};Microsoft.Crm.Client.Core.ViewModels.$Qo.prototype={$1np:0,$G:null,$31:function(n){switch(this.$1np){case 0:this.$2rY(n);break;case 1:this.$2rb(n);break;case 2:this.$2ra(n);break;case 3:this.$2rc(n);break;default:this.$34(n)}},$2rY:function(n){var i=this.$1Tp("task-"),t=this;this.$34(function(){t.$16s("div.editControlContainer > div.input-container > div.textboxContainer > input.textbox",i);t.$KF(function(){t.$1ju(n)})})},$1ju:function(n){this.$9I("div.quickCreateForm-body");var t=this;this.$KF(function(){t.$5I("button.icQuickCreateForm_actionButton[data-id ='createandclose']");t.$34(n)})},$2rb:function(n){var i=this.$1Tp("case-"),t;this.$5I(".icQuickCreateFullForm div.section_vertical > div.requiredField > div.control_value[data-fieldname='customerid_readonly']");t=this;this.$34(function(){t.$5I("div.InlineLookupSearch > button.InlineLookupInputSearchImage");t.$34(function(){t.$5I(".InlineLookupList .scrollRegion .listItem:first");t.$KF(function(){t.$5I(".icQuickCreateFullForm div.section_vertical > div.requiredField > div.control_value[data-fieldname='title_readonly']");t.$KF(function(){t.$16s(".icQuickCreateFullForm div.editControlContainer > div.input-container > div.textboxContainer > input.textbox",i);t.$KF(function(){t.$1ju(n)})})})})})},$2ra:function(n){var i=this.$1Tp("account-"),t;this.$5I("div.section_vertical > div.requiredField > div.control_value[data-fieldname='name_readonly']");t=this;this.$KF(function(){t.$16s("div.editControlContainer > div.input-container > div.textboxContainer > input.textbox",i);t.$KF(function(){t.$1ju(n)})})},$2rc:function(n){var i=this.$1Tp("resolution-"),t;this.$5I("div.control_value[data-fieldname ='resolution_id_readonly']");t=this;this.$KF(function(){t.$16s("div.input-container > div.textboxContainer > input.textbox",i);t.$KF(function(){t.$5I("div.control_value[data-fieldname ='billabletime_id_readonly']");t.$KF(function(){t.$5I("button.durationDropdownImage");t.$KF(function(){t.$9I(".durationTable .durationRow:first [value='0']");t.$KF(function(){t.$5I("div.control_value[data-fieldname ='remarks_id_readonly']");t.$KF(function(){t.$5I("div.control_value[data-fieldname ='ok_id_readonly'] > button.SimpleButton");t.$34(n)})})})})})})},$1Tp:function(n){var t=this.$G;return Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&(t=n+$3y.$14v(0,2147483647).toString()),t}};Microsoft.Crm.Client.Core.ViewModels.$Qp=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Qp.initializeBase(this);this.$C1=n;this.$zJ=t};Microsoft.Crm.Client.Core.ViewModels.$Qp.prototype={$C1:0,$zJ:null,$31:function(n){switch(this.$C1){case 0:this.$2jj(n);break;case 1:this.$2R3(n);break;case 4:this.$2nS(n);break;case 2:this.$2KA(n,!1);break;case 3:this.$2KA(n,!0)}},$2jj:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$R3(0,null),t=this;i.$2F().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$R3(2,t.$zJ);i.$2F().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$R5(!1);i.$2F().done(function(){var i=$("span.recentRecords > div.recentViewRecordContent > li.mruItem")[0];i.click();t.$34(function(){t.$2R3(n)})})})})},$2nS:function(n){this.$5I("div.button-container > span.More-symbol");var t=this;this.$KF(function(){t.$5I(".commandBarSection button.button[data-id='incident|NoRelationship|Form|Mscrm.Form.incident.Delete']");t.$KF(function(){var i=$("button.messageDialog_OK_Button")[1];React.addons.TestUtils.Simulate.shortPress(i);t.$34(n)})})},$2KA:function(n,t){var i=".flyoutNextClass:contains('Next')";t&&(i=".flyoutPrevClass");this.$9I(".flyoutFooterClass "+i);this.$34(n)},$2R3:function(n){this.$9I("div.stageNameContent[id='processStage_15322a8f-67b8-47fb-8763-13a28686c29d']");this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qk=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Qk.initializeBase(this);this.$C1=n;this.$1Rq=t};Microsoft.Crm.Client.Core.ViewModels.$Qk.prototype={$C1:0,$1Rq:!1,$31:function(n){var i,t,r,u;switch(this.$C1){case 0:i=new Microsoft.Crm.Client.Core.ViewModels.$Q2("0","0");t=this;i.$2F().done(function(){if(t.$1Rq){var i=new Microsoft.Crm.Client.Core.ViewModels.$Qe(1);i.$2F().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$Qe(2);i.$2F().done(function(){t.$1e5(n)})})}else t.$1e5(n)});break;case 1:case 4:this.$1Rq?(r=new Microsoft.Crm.Client.Core.ViewModels.$Qe(1),u=this,r.$2F().done(function(){u.$1e5(n)})):this.$1e5(n);break;case 2:this.$2Vo(n,"task");break;case 3:this.$2Vo(n,"")}},$2Vo:function(n,t){var r=".mscrm-InteractionWallSearchContainer input.mscrm-InteractionWallSearchBar",i;this.$16s(r,t);i=this;this.$KF(function(){i.$3Vy(r,"Enter");i.$34(function(){i.$9I(".mscrm-interactionWallHeader button.mscrm-InteractionWallRefreshButton");i.$KF(n)})})},$1e5:function(n){this.$5I(".mscrm-interactionWallHeader button.mscrm-InteractionWallSearch");this.$KF(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qe=function(n){Microsoft.Crm.Client.Core.ViewModels.$Qe.initializeBase(this);this.$C1=n};Microsoft.Crm.Client.Core.ViewModels.$Qe.prototype={$C1:0,$31:function(n){switch(this.$C1){case 0:var t=new Microsoft.Crm.Client.Core.ViewModels.$Q2("0","0"),i=this;t.$2F().done(function(){i.$2ZW(n)});break;case 1:case 4:this.$2ZW(n);break;case 2:this.$25W(n,"This Week");break;case 3:this.$25W(n,"Last Week")}},$25W:function(n,t){this.$9I(".mscrm-InteractionWallContainer .mscrm-InteractionWallSourceFilterContainer .daterangepicker-pullright");var i=this;this.$KF(function(){i.$9I(".ranges [data-id='InteractionWallDateRangeFilter_"+t+"']");i.$34(function(){i.$9I(".mscrm-interactionWallHeader button.mscrm-InteractionWallRefreshButton");i.$KF(n)})})},$2ZW:function(n){this.$5I(".mscrm-interactionWallHeader button.mscrm-InteractionWallFilter");this.$KF(n)}};Microsoft.Crm.Client.Core.ViewModels.$SJ=function(n){Microsoft.Crm.Client.Core.ViewModels.$SJ.initializeBase(this);this.$C1=n};Microsoft.Crm.Client.Core.ViewModels.$SJ.prototype={$C1:0,$31:function(n){switch(this.$C1){case 2:this.$2mX(n);break;case 3:this.$2Sx(n);break;default:this.$34(n)}},$2mX:function(n){var i="task"+$3y.$14v(0,2147483647).toString(),t;this.$5I(".mscrm-interactionWallHeader button.flyoutTopMenuButton[title='New Record']");t=this;this.$KF(function(){t.$5I(".mscrm-interactionWallHeader button.flyout-menuItem[data-id='task']");t.$34(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$Qo(0,"");i.$2F().done(function(){t.$34(n)})})})},$2Sx:function(n){this.$9I(".mscrm-interactionWallHeader button.mscrm-InteractionWallRefreshButton");this.$KF(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qf=function(n){Microsoft.Crm.Client.Core.ViewModels.$Qf.initializeBase(this);this.$C1=n};Microsoft.Crm.Client.Core.ViewModels.$Qf.prototype={$C1:0,$31:function(n){switch(this.$C1){case 0:var t=new Microsoft.Crm.Client.Core.ViewModels.$SV(0),i=this;t.$2F().done(function(){i.$2Qz(n)});break;case 4:this.$5I("button.icQuickCreateForm_closeButton");this.$34(n);break;case 2:this.$2rZ(n);break;case 3:this.$2Qz(n);break;default:this.$34(n)}},$2Qz:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$SV(2),i=this;t.$2F().done(function(){i.$34(n)})},$2rZ:function(n){var t="childCaseName"+$3y.$14v(0,2147483647).toString(),i=new Microsoft.Crm.Client.Core.ViewModels.$R3(2,t),r=this;i.$2F().done(function(){r.$34(n)})}};Microsoft.Crm.Client.Core.ViewModels.$SV=function(n){Microsoft.Crm.Client.Core.ViewModels.$SV.initializeBase(this,[n,!1,!1]);this.$1Kv="AAATestCreateChildCase"};Microsoft.Crm.Client.Core.ViewModels.$SV.prototype={$31:function(n){switch(this.$C1){case 0:this.$1xP(n);break;case 2:this.$3Hm(n);break;case 3:this.$5I("button.icQuickCreateForm_closeButton");this.$34(n);break;default:this.$34(n)}},$29e:function(n){this.$34(n)},$3Hm:function(n){this.$5I("button.button[data-id='incident|NoRelationship|Form|Mscrm.Form.incident.CreateChildcase']");this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qi=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$Qi.initializeBase(this);this.$1sw=n;this.$14Q=t;this.$14R=i};Microsoft.Crm.Client.Core.ViewModels.$Qi.prototype={$1sw:!1,$14Q:null,$14R:null,$31:function(n){var i,t;this.$1sw?(this.$9I("span.Refresh-symbol"),this.$34(n)):(i="queuePanel-"+this.$14Q+"queuePanelItem-"+this.$14R,this.$5I(".quickActionCheckBoxContainer .checkbox[data-id = '"+i+"']"),t=this,this.$KF(function(){t.$9I(".quickActionNormalButton:contains('Resolve')");t.$KF(function(){t.$5I("button.messageDialog_Cancel_Button:last");t.$KF(function(){var i=$("div.control_value[data-fieldname ='cancel_id_readonly'] > button.SimpleButton");i.length>0&&t.$5I("div.control_value[data-fieldname ='cancel_id_readonly'] > button.SimpleButton");t.$KF(function(){t.$34(n)})})})}))}};Microsoft.Crm.Client.Core.ViewModels.$Qj=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Qj.initializeBase(this);this.$eO=n;this.$eP=t;this.$21s=i;this.$12b=r};Microsoft.Crm.Client.Core.ViewModels.$Qj.prototype={$eO:null,$eP:null,$12b:!1,$21s:null,$31:function(n){if(this.$12b){var t=new Microsoft.Crm.Client.Core.ViewModels.$Qz(this.$eO,this.$eP),i=this;t.$2F().done(function(){var t=new Microsoft.Crm.Client.Core.ViewModels.$Qq;t.$2F().done(function(){i.$34(n)})})}else this.$2i9(n)},$2i9:function(n){this.$9I("div.tab[title='"+this.$21s+"']");this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qg=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$Qg.initializeBase(this);this.$eO=n;this.$eP=t;this.$12b=i};Microsoft.Crm.Client.Core.ViewModels.$Qg.prototype={$eO:null,$eP:null,$12b:!1,$31:function(n){if(this.$12b){var t=new Microsoft.Crm.Client.Core.ViewModels.$Qz(this.$eO,this.$eP),i=this;t.$2F().done(function(){i.$27g(n)})}else this.$27g(n)},$27g:function(n){this.$9I("div.entityDashboardIcon");this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$R0=function(){Microsoft.Crm.Client.Core.ViewModels.$R0.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$R0.prototype={$31:function(n){this.$9I("div.tileViewHeader:first");this.$KF(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qy=function(n){Microsoft.Crm.Client.Core.ViewModels.$Qy.initializeBase(this);this.$1li=n};Microsoft.Crm.Client.Core.ViewModels.$Qy.prototype={$1li:null,$31:function(n){this.$9I(".dashboardPicker[data-id='filterDashboards'] .Expanded-symbol");var t=this;this.$KF(function(){t.$9I(".dashboardPicker[data-id='filterDashboards'] .interactionCentricPopup .interactionCentricPopupItem:contains('"+t.$1li+"')");t.$34(n)})}};Microsoft.Crm.Client.Core.ViewModels.$Qz=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Qz.initializeBase(this);this.$eO=n;this.$eP=t};Microsoft.Crm.Client.Core.ViewModels.$Qz.prototype={$eO:null,$eP:null,$31:function(n){this.$5I("button.navBarSiteMapButton");var t=this;this.$KF(function(){t.$9I("div.navBarAreaTileContainer[data-id='"+t.$eO+"']");t.$KF(function(){var i=$("div.navBarSubAreaContainer[data-id='"+t.$eP+"']")[0];i.click();t.$34(n)})})}};Microsoft.Crm.Client.Core.ViewModels.$R4=function(n){Microsoft.Crm.Client.Core.ViewModels.$R4.initializeBase(this);this.$1wV=n};Microsoft.Crm.Client.Core.ViewModels.$R4.prototype={$1wV:!1,$31:function(n){if(this.$9I("div.ICNavbarAssociatedView-AssociatedViewContainer > div.navBarSiteMapDropDownButton"),this.$1wV){var t=this;this.$KF(function(){t.$9I("span.ICNavbarAssociatedView-Item");t.$34(n)})}else this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$R5=function(n){Microsoft.Crm.Client.Core.ViewModels.$R5.initializeBase(this);this.$1wb=n};Microsoft.Crm.Client.Core.ViewModels.$R5.prototype={$1wb:!1,$31:function(n){var i=$("span.navBarMru [data-id ='navBarMruButton']")[0],t;i.click();this.$1wb?(t=this,this.$KF(function(){var i=$("li.mruItem")[0];i.click();t.$34(n)})):this.$KF(n,1e3)}};Microsoft.Crm.Client.Core.ViewModels.$R2=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$R2.initializeBase(this);this.$lo=n;this.$1k2=t};Microsoft.Crm.Client.Core.ViewModels.$R2.prototype={$lo:null,$1k2:!1,$31:function(n){if(this.$1k2)this.$5I("button.icQuickCreateForm_closeButton"),this.$9I("span.navBarQuickCreate [data-id = 'navBarQuickCreateButton']"),this.$34(n);else if(this.$9I("span.navBarQuickCreate [data-id = 'navBarQuickCreateButton']"),this.$lo){var t=this;this.$KF(function(){t.$9I("div.quickCreateListItems[data-id='"+t.$lo+"']");t.$34(n)})}else this.$KF(n,1e3)}};Microsoft.Crm.Client.Core.ViewModels.$R3=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$R3.initializeBase(this);this.$C1=n;this.$zJ=t};Microsoft.Crm.Client.Core.ViewModels.$R3.prototype={$C1:0,$zJ:null,$31:function(n){var t,i,r;switch(this.$C1){case 0:this.$2St(n);break;case 4:this.$5I("button.icQuickCreateForm_closeButton");t=this;this.$34(function(){t.$9I("span.navBarQuickCreate [data-id = 'navBarQuickCreateButton']");t.$34(n)});break;case 2:i=new Microsoft.Crm.Client.Core.ViewModels.$Qo(1,this.$zJ);r=this;i.$2F().done(function(){r.$34(n)});break;case 3:this.$2St(n);break;default:this.$34(n)}},$2St:function(n){this.$9I("div.refreshButtonDiv");var t=this;this.$34(function(){var t=new Microsoft.Crm.Client.Core.ViewModels.$R2("Case",!1);t.$2F().done(function(){n()})})}};Microsoft.Crm.Client.Core.ViewModels.$Qx=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Qx.initializeBase(this);this.$C1=n;this.$lo=t};Microsoft.Crm.Client.Core.ViewModels.$Qx.prototype={$C1:0,$lo:null,$31:function(n){switch(this.$C1){case 2:this.$9I("span.navBarQuickCreate [data-id = 'navBarQuickCreateButton']");var t=this;this.$KF(function(){t.$9I("div.quickCreateListItems[data-id='"+t.$lo+"']");t.$KF(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$Qo(t.$31m(),"");i.$2F().done(function(){t.$34(n)})})});break;default:this.$34(n)}},$31m:function(){var n=1;switch(this.$lo){case"Account":n=2;break;case"Task":n=0}return n}};Microsoft.Crm.Client.Core.ViewModels.$Qt=function(){this.$$d_$2Sq=Function.createDelegate(this,this.$2Sq);Microsoft.Crm.Client.Core.ViewModels.$Qt.initializeBase(this);this.$1gf=!0};Microsoft.Crm.Client.Core.ViewModels.$Qt.prototype={$31:function(n){var t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$1c4(function(i,r){r.$AM&&t.$KF(n)});this.$27H("#offline");this.$2Sq()},$27H:function(n){for(;;)if($(n).length>0)return!0},$2Sq:function(){if(!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()){this.$5I("#offline");var n=this;this.$KF(function(){n.$27H("#reconnect");n.$5I("#reconnect");n.$KF(n.$$d_$2Sq,5e3)})}}};Microsoft.Crm.Client.Core.ViewModels.$Qu=function(n){this.$2AI=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3;Microsoft.Crm.Client.Core.ViewModels.$Qu.initializeBase(this);this.$1u0=n};Microsoft.Crm.Client.Core.ViewModels.$Qu.prototype={$1u0:null,$31:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$Qt,t=this;window.setTimeout(function(){t.$2mB().done(function(){i.$2F().done(function(){t.$KF(n)})})},2e3)},$2mB:function(){var u=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),i=1,f,n,e,o,s;switch(this.$1u0.toLowerCase()){case"basic load":i=20;break;case"medium load":i=60;break;case"maximum load":i=100}for(f=[],n=0;n<i;n++){var r=null,t={};switch(n%3){case 0:r=new Xrm.Objects.EntityReference("account",Microsoft.Crm.Client.Core.Framework.Guid.get_empty());t.name="Offline perftest account_"+n;break;case 1:r=new Xrm.Objects.EntityReference("opportunity",Microsoft.Crm.Client.Core.Framework.Guid.get_empty());t.name="Offline perftest opportunity_"+n;break;case 2:r=new Xrm.Objects.EntityReference("lead",Microsoft.Crm.Client.Core.Framework.Guid.get_empty());t.lastname="Offline perftest lead_"+n;t.subject="Offline Test lead_"+n}e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,t,{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));Array.add(f,this.$2AI.get_$1p().get_$6V().$B(e,!1,null))}return o=this,s=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(f).then(function(){u.resolve()},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(84,n.toString());u.reject()}),u.promise()}};Microsoft.Crm.Client.Core.ViewModels.$Qv=function(n){Microsoft.Crm.Client.Core.ViewModels.$Qv.initializeBase(this);this.$224=n};Microsoft.Crm.Client.Core.ViewModels.$Qv.prototype={$224:null,$31:function(n){this.$5I("#globalMenuButton");var t=this;this.$KF(function(){t.$5I("#globalMenu button[data-id='"+t.$224.toLowerCase()+"']");t.$3Z4(function(){t.$5I(".globalLookup-bar div.listItem");t.$KF(function(){t.$5I("#TaskBasedFlow button[data-id='cancel']");t.$KF(n)},4e3)},".globalLookup-bar div.listItem")})},$3Z4:function(n,t){this.$3Z3(n,t,!0)},$3Z3:function(n,t,i){var r=0,u=this;r=window.setInterval(function(){var f=$(t)[0],u=!1;i&&f?u=!0:i||f||(u=!0);u&&(window.clearInterval(r),n())},750)}};Microsoft.Crm.Client.Core.ViewModels.$Qw=function(){Microsoft.Crm.Client.Core.ViewModels.$Qw.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Qw.prototype={$31:function(n){var t=this;this.$re("RefreshModernButton",function(){t.$KF(n)})}};Microsoft.Crm.Client.Core.ViewModels.$QD=function(){Microsoft.Crm.Client.Core.ViewModels.$QD.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$QD.prototype={$31:function(n){this.$2Bw("lead","RefreshButton",n)}};Microsoft.Crm.Client.Core.ViewModels.$Qs=function(){Microsoft.Crm.Client.Core.ViewModels.$Qs.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Qs.prototype={$31:function(n){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()){var t=this;this.$2Vj("div[data-panetype='ChartPane']:first",function(){t.$27f(n)})}else this.$27f(n)},$27f:function(n){var t=".rootViewControl_content.conductorContent:last div[data-panetype='ChartPane']:first g path:first";$(t).trigger("mouseover");this.$9I(t);this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qh=function(){Microsoft.Crm.Client.Core.ViewModels.$Qh.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Qh.prototype={$31:function(n){var t=this;this.$re("sharepointdocument|NoRelationship|SubGridAssociated|Mscrm.SubGrid.SharePointDocument.ShowDocumentSuggestions",function(){t.$34(n)})}};Microsoft.Crm.Client.Core.ViewModels.$Qd=function(){Microsoft.Crm.Client.Core.ViewModels.$Qd.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Qd.prototype={$31:function(n){this.$5I("div#CrmDialog div.control_value[data-fieldname='cancel_id_readonly'] button");this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qc=function(n){Microsoft.Crm.Client.Core.ViewModels.$Qc.initializeBase(this);this.$1Q=n};Microsoft.Crm.Client.Core.ViewModels.$Qc.prototype={$1Q:null,$31:function(n){this.$5I("div.crmtile."+this.$1Q);this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$Lo=function(){};Microsoft.Crm.Client.Core.ViewModels.$Lo.prototype={$2mo:function(){return new Microsoft.Crm.Client.Core.ViewModels.$Ln}};Microsoft.Crm.Client.Core.ViewModels.$Ln=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ln.prototype={$7N:function(n,t,i,r){return Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,t,i,r)}};Microsoft.Crm.Client.Core.ViewModels.$F9=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$iU=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Models.$R1));Microsoft.Crm.Client.Core.ViewModels.$F9.initializeBase(this);this.$PY=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$R1));this.$yB=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$JK))};Microsoft.Crm.Client.Core.ViewModels.$F9.prototype={$105:null,$1dX:null,$PY:null,get_FirstLevelSubjects:function(){return this.$PY},set_FirstLevelSubjects:function(n){return this.$PY=n,n},$yB:null,get_NoSubjectItems:function(){return this.$yB},set_NoSubjectItems:function(n){return this.$yB=n,n},$1Mz:null,get_TreeItemDataIdKey:function(){return this.$1Mz},set_TreeItemDataIdKey:function(n){return this.$1Mz=n,n},$1N0:null,get_TreeItemDataNameKey:function(){return this.$1N0},set_TreeItemDataNameKey:function(n){return this.$1N0=n,n},$1hJ:null,get_SubjectTreeTitle:function(){return this.$1hJ},set_SubjectTreeTitle:function(n){return this.$1hJ=n,n},$x4:null,get_AddToEmailCommandName:function(){return this.$x4},set_AddToEmailCommandName:function(n){return this.$x4=n,n},$Gs:!1,get_isLoading:function(){return this.$Gs},set_isLoading:function(n){return this.$Gs=n,n},get_SubjectTreeItemIdForInserting:function(){return this.$1dX},set_SubjectTreeItemIdForInserting:function(n){return this.$1dX!==n&&(this.$1dX=n,this.$8("SubjectTreeItemIdForInserting")),n},$1gk:null,get_OpenedBranches:function(){return this.$1gk},set_OpenedBranches:function(n){return this.$1gk=n,n},$cD:null,get_SelectedItem:function(){return this.$cD},set_SelectedItem:function(n){return this.$cD=n,n},get_ViewInCRMText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_OpenRecord")},get_AddToEmailText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Add_To_Email")},get_DataProvider:function(){return this.$105},set_DataProvider:function(n){return this.$105=n,n},$4e:function(n){this.$2fz(n.$21e.$19.$22N());this.$2rf(n.$4X.$19.$22N());this.$8("FirstLevelSubjects");this.$Gs=!1},$2rf:function(n){var t;if(this.$yB.clear(),!$0.$1(n)&&n.length>0)for(t=0;t<n.length;t++){var i=n[t],r=i.GetValue("subjectid"),u=r?r.Id.toString():null,e=i.GetValue(this.$1N0).toString(),o=i.GetValue(this.$1Mz).toString(),f=new Microsoft.Crm.Client.Core.Models.$JK(o,e,i.get_ModelName());$0.$1(u)?this.$yB.add(f):this.$iU.get_$I(u).$199.add(f)}},viewInCrm:function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenInBrowserCommand","OpenInBrowserCommand",{RecordId:n,RecordType:t}));i.get_CanExecute()&&i.execute()},addSubjectTreeItem:function(n,t){var i,r;$0.$1(this.$x4)||(i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$x4,this.$x4,{RecordId:n,RecordType:t})),i.get_CanExecute()&&(r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppAddSubjectToEmail"),r.addEventParameter("recordType",t),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(r),i.execute()))},StartItemInserting:function(n){this.set_SubjectTreeItemIdForInserting(n)},StopItemInserting:function(){this.set_SubjectTreeItemIdForInserting("")},$2fz:function(n){var t;if(this.$PY.clear(),!$0.$1(n)&&n.length>0)for(t=0;t<n.length;t++){var u=n[t].GetValue("subjectid").toString(),o=n[t].GetValue("title").toString(),f=n[t].GetValue("parentsubject"),e=f?f.Id.toString():null,i=e?this.$iU.get_$I(e):null,r=new Microsoft.Crm.Client.Core.Models.$R1(u,o,i);$0.$1(i)?this.$PY.add(r):i.$jN.add(r);this.$iU.set_$I(u,r)}},$5O:function(n){this.$Gs=!1;this.$R0(n)},$R0:function(n){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(n)},$18:function(){this.$1y||(this.$Gs=!0,Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this));$0.$1(this.$105)||this.$3Ba()},$3Ba:function(){if(!$0.$1(this.$105)){var n=this.$105.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)}},get_$1wv:function(){return"SimpleListPane"},get_$1wt:function(){return this.$J}};Microsoft.Crm.Client.Core.ViewModels.$6w=function(n,t,i,r){this.$2b=n;this.$J1=t;this.$7i=i;this.$1gA=r};Microsoft.Crm.Client.Core.ViewModels.$6w.$2DS=function(n,t){for(var i=0;i<n.get_Count();i++)if(n.get_$I(i).$2b===t)return n.get_$I(i);return null};Microsoft.Crm.Client.Core.ViewModels.$6w.$2rq=function(n,t){var u=n,i,f,r;for(i in u)if(f={key:i,value:u[i]},r=Microsoft.Crm.Client.Core.ViewModels.$6w.$2DS(f.value,t),r)return r;return null};Microsoft.Crm.Client.Core.ViewModels.$6w.prototype={$2b:null,$J1:null,$7i:null,$1gA:!1};Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel=function(){this.$$d_$2Qa=Function.createDelegate(this,this.$2Qa);Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel.prototype={$Io:null,$2K7:null,$1Yn:null,get_RelatedReference:function(){return this.$Io},set_RelatedReference:function(n){return this.$Io=n,n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$Ut.prototype.$18.call(this)},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$8V.call(this,n,t);t.AddPropertyChangedListener("Data",this.$$d_$2Qa);this.$Cg("SetLookupInRoot")},$2Qa:function(n){var t=n;this.$Io=t.get_Data();$0.$1(this.$Io)||$0.$1(this.$1Yn)||this.$1Yn(this.$Io);this.$VB()}};Microsoft.Crm.Client.Core.ViewModels.$50=function(n){this.$$d_$1ym=Function.createDelegate(this,this.$1ym);this.$$d_$24J=Function.createDelegate(this,this.$24J);this.$$d_$1vz=Function.createDelegate(this,this.$1vz);Microsoft.Crm.Client.Core.ViewModels.$50.initializeBase(this,[n]);this.$1Cc=Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.get_$5();this.$2r=new Microsoft.Crm.Client.Core.Models.MailApp.$DK;this.$9X=new Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel(this);this.$UA=new Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel;this.$zY=new Microsoft.Crm.Client.Core.ViewModels.MailApp.$UL;this.$1Qv=new Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel;this.$yk=new Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel;this.$1aR()};Microsoft.Crm.Client.Core.ViewModels.$50.prototype={$yk:null,$9X:null,$1Qv:null,$ol:null,$UA:null,$zY:null,$1Cc:null,$1HE:null,$1at:null,$TU:!1,$1VS:!0,$12i:!1,$1aR:function(){this.$2r.AddPropertyChangedListener("EmailItem",this.$$d_$1vz);this.$9X.AddPropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$nO,this.$$d_$1vz);this.get_CanvasConductor().get_ActiveNavigationStack().add_CollectionChanged(this.$$d_$24J);this.$2r.get_$Ct()===1&&this.get_$RE().add_CollectionChanged(this.$$d_$1ym)},$1ym:function(){this.$2aC()},$yN:0,get_IsSetRegardingDisplayedAsHomepage:function(){return this.$12i},set_IsSetRegardingDisplayedAsHomepage:function(n){return this.$12i!==n&&(this.$12i=n,this.$8(Microsoft.Crm.Client.Core.ViewModels.$50.$2Ms)),n},get_IsCanvasConductorShouldBeDisplayed:function(){return this.$1VS},set_IsCanvasConductorShouldBeDisplayed:function(n){return this.$1VS!==n&&(this.$1VS=n,this.$8(Microsoft.Crm.Client.Core.ViewModels.$50.$2M4)),n},get_IsAppointmentOfficeItemType:function(){return this.$2r.get_$Ct()===1},get_IsSetRegardingOpened:function(){return this.$TU},set_IsSetRegardingOpened:function(n){return this.$TU!==n&&(this.$TU=n,this.$8(Microsoft.Crm.Client.Core.ViewModels.$50.$2Mt)),n},$2r:null,get_RecipientsHeader:function(){return this.$2r.get_$Ct()===1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Attendees_Header"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Recipients_Header")},get_CollapsedRecipientsHeader:function(){return $0.$1(this.$ol)?this.get_RecipientsHeader():Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Details_Header")},get_RegardingRecordCardViewModel:function(){return this.$ol},set_RegardingRecordCardViewModel:function(n){return this.$ol=n,this.$8("RegardingRecordCardViewModel"),n},get_TrackBarViewModel:function(){return this.$9X},get_EmailEngagementCardViewModel:function(){return this.$1Qv},get_$RE:function(){return $0.$1(this.$1at)&&(this.$1at=new(Microsoft.Crm.Client.Core.Framework.$6J.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord))),this.$1at},get_RecipientsTabBarViewModel:function(){return this.$UA},get_ComposeActionsTabBarViewModel:function(){return this.$zY},get_ActionsCanvasConductor:function(){return this.$yk},get_RecipientsEntityDescriptorContainer:function(){return this.$1HE},get_$1Vq:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("EmailEngagement")&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("OfficeMailAppEmailEngagement")&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$bz!==6},$b1:function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype.$b1.call(this,n);this.$2e6()},$1vz:function(){var i;if(!$0.$1(this.$2r.$5V)){var r=this.$9X.$2D,n=this.$2r.$5V.$GC,t=this.$2r.$5V.$Gu;r||Microsoft.Crm.Client.Core.Framework.$3.$9(n)||Microsoft.Crm.Client.Core.Framework.$3.$9(t)||!this.$9X.$16?($0.$1(this.$ol)||this.$ol.dispose(),this.set_RegardingRecordCardViewModel(null)):(i=new Microsoft.Crm.Client.Core.Models.MailApp.$9J(n,t,this.$2r.$5V.$KM),this.set_RegardingRecordCardViewModel(Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel.$7N(i)))}},$24J:function(){var n=!1,t=this;this.get_CanvasConductor().get_ActiveNavigationStack().$ss(function(t){(t.$o===35||t.$o===47)&&(n=!0)});this.set_IsSetRegardingOpened(n);this.$2r.get_$Ct()===1&&this.$2aC()},$2aC:function(){if(this.$TU){this.set_IsCanvasConductorShouldBeDisplayed(!0);return}this.set_IsCanvasConductorShouldBeDisplayed(!!Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.$1po().get_Count())},$3Fp:function(){Microsoft.Crm.Client.Core.ViewModels.$3B.get_$5().$15D(!0)},$1vb:function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$3NO();this.$9X.$1vb();this.retrieveMailBoxItem(!0);this.retrieveEmailContext(!0);this.$2Y("ActionProvider",null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEmailCustomProperties",null));this.$2Y("ActionProvider",null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveIsSentFolder",null));this.$UA.OnEmailContextChanged();Microsoft.Crm.Client.Core.ViewModels.$3B.get_$5().$15D(!0);this.$2hn()},$2hn:function(){this.get_CanvasConductor().get_ActiveNavigationStack().get_Count()>1&&this.get_CanvasConductor().popMany(this.get_CanvasConductor().get_ActiveNavigationStack().get_Count()-1);this.get_PrimaryConductor().get_ActiveNavigationStack().get_Count()>1&&this.get_PrimaryConductor().$3JS(this.get_PrimaryConductor().get_ActiveNavigationStack().get_Count()-1);this.get_DialogConductor().get_ActiveNavigationStack().get_Count()>0&&this.get_DialogConductor().popMany(this.get_DialogConductor().get_ActiveNavigationStack().get_Count())},$3OS:function(){var n=this,t=this;Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$5K.$B().then(function(t){if(n.$1HE=t,n.$3Cd(),!n.$ar.$84("contact",1)&&!n.$ar.$84("lead",1)){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC("Error",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Cant_Check_Email_In_CRM_Without_Priviliges"));return}n.$3Fp()},function(){})},$3Cd:function(){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppUserPrivileges");n.addEventParameter("ReadContact",this.$ar.$84("contact",1));n.addEventParameter("CreateContact",this.$ar.$84("contact",0));n.addEventParameter("ReadLead",this.$ar.$84("lead",1));n.addEventParameter("CreateLead",this.$ar.$84("lead",0));Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(n)},retrieveEmailContext:function(n){$0.$1(n)&&(n=!1);this.$2Y("ActionProvider",this.$9X,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEmailContext",{fromScratch:n}))},retrieveMailBoxItem:function(n){n&&Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().clearProxy();var t=this;Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().$1TX().done(function(n){t.$2r.$Jk.$Dh=n.$Dh;t.$2r.$Jk.$bh=n.$bh;t.$2r.$Jk.$xR=n.$xR;t.$2r.$Jk.$jx=n.$jx})},$3Oc:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20){var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$2Hs(function(t){var i=t.emailAddress;Microsoft.Crm.Client.Core.Framework.$3.$9(i)||(n.$2r.$1M2=i)})}},$2e6:function(){this.$3QO();this.$9X.$18();this.$UA.$18();this.$zY.$18();this.$1Qv.$18();this.$1Cc.$18();this.retrieveMailBoxItem();this.retrieveEmailContext();this.$3Oc();this.$2Y("ActionProvider",null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEmailCustomProperties",null));this.$2Y("ActionProvider",null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveIsSentFolder",null));this.$3OS()},$3QO:function(){this.$yN=0;this.$2r.get_$Ct()===1&&(this.$yN=1)},$uG:function(n,t,i){i&&Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(i)?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype.$uG.call(this,n,t,i):Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$1P8(-1,!0)},collapseActions:function(){this.$yk.set_Visible(!1);this.$zY.set_SelectedIndex(-1)},$GX:function(){this.$2r.RemovePropertyChangedListener("EmailItem",this.$$d_$1vz);this.$9X.RemovePropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$nO,this.$$d_$1vz);this.get_CanvasConductor().get_ActiveNavigationStack().remove_CollectionChanged(this.$$d_$24J);$0.$1(this.$1Cc)||this.$1Cc.dispose();$0.$1(this.$ol)||this.$ol.dispose();this.$2r.get_$Ct()===1&&this.get_$RE().remove_CollectionChanged(this.$$d_$1ym);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$AU=function(){Microsoft.Crm.Client.Core.ViewModels.$AU.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$AU.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("HitHighlightValueLabel",Microsoft.Crm.Client.Core.ViewModels.$AU)};Microsoft.Crm.Client.Core.ViewModels.$AU.prototype={processHitHighlight:function(n,t,i,r){var o=r[n],s=CrmEncodeDecode.CrmHtmlEncode("{crmhit}"),h=CrmEncodeDecode.CrmHtmlEncode("{/crmhit}"),c=i,e,f,u;if(o&&t in o){for(c="",e=o[t],i="",f=0;f<e.length;f++){for(u=CrmEncodeDecode.CrmHtmlEncode(e[f]);u.indexOf(s)>=0;)u=u.replace(s,"<em>");while(u.indexOf(h)>=0)u=u.replace(h,"<\/em>");i+=u;f<e.length-1&&(i+=".....")}return i}return c}};Microsoft.Crm.Client.Core.ViewModels.$DU=function(){Microsoft.Crm.Client.Core.ViewModels.$DU.initializeBase(this);this.$1GT=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Feedback_Link"))};Microsoft.Crm.Client.Core.ViewModels.$DU.prototype={$1GT:null,get_OpenFeedbackCommand:function(){return this.$1GT},$GX:function(){this.$1GT.dispose();this.$1GT=null}};Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1=function(){this.$15g=-1;Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.$$(this.$$gta["Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1"].TBarItem).initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.$$=function(n){var i="TabBarViewModel$1$"+n.getName().replace(/\./g,"_"),t,u,f,r;if(!Microsoft.Crm.Client.Core.ViewModels[i]){t=Microsoft.Crm.Client.Core.ViewModels[i]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1"]={TBarItem:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.apply(this,i)};t.registerClass("Microsoft.Crm.Client.Core.ViewModels."+i,Microsoft.Crm.Client.Core.ViewModels.$5M);u=Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.prototype;for(f in u)r={key:f,value:u[f]},"constructor"!==r.key&&(t.prototype[r.key]=r.value);t.$2ZE="TabItems";t.$2Vs="SelectedIndex"}return Microsoft.Crm.Client.Core.ViewModels[i]};Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.prototype={get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$wa:null,TabItemClick:function(n){this.$15g!==n&&(this.set_SelectedIndex(n),this.$3HH(this.get_SelectedTabItem()))},$3HH:function(){},get_TabItems:function(){return this.$wa},set_TabItems:function(n){return this.$wa=n,this.$8("TabItems"),n},OnEmailContextChanged:function(){this.$wa=null},get_SelectedTabItem:function(){return!$0.$1(this.$wa)&&!$0.$1(this.$wa[this.$15g])?this.$wa[this.$15g]:null},get_SelectedIndex:function(){return this.$15g},set_SelectedIndex:function(n){return this.$15g=n,this.$8("SelectedIndex"),n}};Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel=function(n){this.$$d_$2b5=Function.createDelegate(this,this.$2b5);this.$$d_$24J=Function.createDelegate(this,this.$24J);this.$$d_$2oM=Function.createDelegate(this,this.$2oM);this.$$d_$3Ns=Function.createDelegate(this,this.$3Ns);this.$$d_$1vz=Function.createDelegate(this,this.$1vz);this.get_NextTabIndex=this.get_$3ch;this.set_NextTabIndex=this.set_$3ch;this.get_StartIndex=this.get_$1dM;this.set_StartIndex=this.set_$1dM;this.get_TabSpaceReserved=this.get_$21u;Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.initializeBase(this);this.$Fs=n;this.set_$1dM(950);this.$qy=new Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$3bK};Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.prototype={$Fs:null,$qy:null,$16:0,$1Y6:null,$1ZK:null,$aM:null,$2D:!0,$L9:!1,$QD:null,$fj:!0,$1Eb:!0,$F5:null,$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this),$0.$1(this.$aM)&&(this.$Fs.$1Ro.isFeatureEnabled(Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.$2BO)&&!this.$Fs.$1b.$2M.$YW?(this.$aM=new Microsoft.Crm.Client.Core.Commands.$33(this,47),this.$2Tt(!0)):(this.$aM=new Microsoft.Crm.Client.Core.Commands.$33(this,35),this.$2Tt(!1))),this.$1aR())},$1aR:function(){this.get_$2g().AddPropertyChangedListener("EmailItem",this.$$d_$1vz);this.$Fs.$yN===1&&(this.get_$2g().AddPropertyChangedListener("ResolveRecipientsStatus",this.$$d_$3Ns),this.get_$2g().AddPropertyChangedListener("EmailContextActionStatus",this.$$d_$2oM),this.$Fs.get_CanvasConductor().get_ActiveNavigationStack().add_CollectionChanged(this.$$d_$24J))},$2oM:function(){switch(this.get_$2g().$1Qu){case 1:this.$qy.$187=!0;break;case 3:case 2:this.$qy.$187=!1;this.$2KE()}},$3Ns:function(){switch(this.get_$2g().$1Hk){case 1:this.$qy.$18E=!0;break;case 3:case 2:this.$qy.$18E=!1;this.$2KE()}},$39V:function(n){var t=n.$yI.PatternEndDate;return Microsoft.Crm.Client.Core.Framework.$3.$9(t)?!0:new Date(t).getTime()>(new Date).getTime()?!0:!1},handleUntrack:function(){if(Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppTrackBarUntrackClicked")),this.get_OfficeItemType()===1){var n=this.get_$2g().$5V;Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&Microsoft.Crm.Client.Core.Framework.$3.$9(n.$8T)?this.untrack(!1):n.$NJ&&n.$NJ!==2?n.$NJ===3&&(this.$39V(n)?this.showUntrackPromptDialog("MoCA_OWA_Delete_Reccurence_Future_Appointment_Activity_Prompt"):this.untrack(!1)):$0.$1(n.$qp)||n.$qp.getTime()<(new Date).getTime()?this.untrack(!1):this.showUntrackPromptDialog()}else this.get_$2g().$5V.$Rq?this.$3UN():Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()?this.untrack(!1):this.showUntrackPromptDialog()},showUntrackPromptDialog:function(n){var t,i,r;this.get_$2g().get_$Ct()!==1?(t=Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.$2kT(2),t.$zG=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Deny_Delete_Email_Activity")):(t=Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.$2kT(2,"Button_Label_Delete","MoCA_OWA_Untrack"),t.$zG=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Untrack"));Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.get_$2g().get_$Ct()?t.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Delete_Appointment_Activity_Prompt")):t.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Delete_Email_Activity_Prompt")):t.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6(n));t.$13a=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Confirm_Delete_Email_Activity");t.$27r=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Button_Label_Close");i=this;t.$JB=function(){i.untrack(!1)};r=this;t.$Dy=function(){r.untrack(!0)};t.Show()},$3UN:function(){var t=Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.$2kT(1),n;t.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Unfollow_Email_Prompt"));n=this;t.$Dy=function(){n.get_$2g().$qM?n.showUntrackPromptDialog():n.untrack(!1)};t.Show()},get_$2g:function(){return this.$Fs.$2r},get_SetRegardingLinkText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MenuItem_Label_SetRegarding")},$3FJ:function(n){switch(n){case 4:case 2:case 1:this.$2Xk();break;case 5:this.$2T1();break;case 3:default:this.$3KR()}},$2Xi:function(){this.$fj=!1;this.set_IsError(!0);this.set_IsLoading(!1);this.get_$2g().set_$1Bn(2)},$2Xk:function(){this.$bp=this.get_$2Zc();this.$2Xi()},$2Xj:function(n){this.$2Xi();this.showNotification(Microsoft.Crm.Client.Core.Framework.Common.$2.$6(n),1,!0)},$3KR:function(){$0.$1(this.$QD)?this.$bp=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Retrieve_EWS_Failure_Short"):1===this.$QD.$7K?this.$bp=this.get_$2Zc():(3===this.$QD.$7K||4===this.$QD.$7K)&&(this.$bp=this.get_$3WN());this.set_IsError(!0);this.set_IsLoading(!1)},onEmailContextActionSuccess:function(n){var t,i,r;if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$1sR()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("SSSCustomProperty")){this.$2Xk();return}if($0.$1(this.get_$2g().$5V)||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMobilePhone()&&n.$7K===2&&!Microsoft.Crm.Client.Core.Framework.$3.$1O(n.$KM)&&this.showNotification(Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Track_Regarding"),n.$KM),0),this.$QD=n,this.get_$2g().set_$1mN(this.$QD),this.get_$2g().get_$Ct()||Microsoft.Crm.Client.Core.Framework.$3.$9(n.$qO)||n.$qO.indexOf("IPM.Schedule")===-1||(t="MoCA_OWA_Notification_Meeting_Invite_Response",n.$qO==="IPM.Schedule.Meeting.Request"&&(t="MoCA_OWA_Notification_Meeting_Invite_Request"),this.$2Xj(t)),this.get_$2g().get_$Ct()===1){if(n.$NJ===1)if(this.get_IsTracked())this.$1Eb=!1;else{this.$2Xj("MoCA_OWA_Notification_Appointment_Occurence");return}$0.$1(this.get_$2g().$5V.$xN)||this.get_$2g().$5V.$xN!==4214||(this.$1Eb=!1)}var u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$io&&this.get_$2g().$5V.$1sI(this.get_$2g().$kE),f=this.get_$2g().$5V.$7K===1&&!u&&!!this.get_$2g().$5V.$cG&&this.get_$2g().$5V.$cG.$2iT(Microsoft.Crm.Client.Core.Framework.$1X.get_$172())<0,e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$io&&!this.get_$2g().$5V.$1sI(this.get_$2g().$kE)&&this.get_$2g().$5V.$Xd===2;if(f||e){if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_$2g().$5V.$8T)){this.$2XV();return}i=this;r=this;this.$321().then(function(){i.get_$2g().$5V.$7K=2},function(){r.$2XV()})}this.set_IsError(!1);this.get_$2g().set_$1Bn(3)},$31I:function(){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Framework.$4),i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"SyncMappingFilterExpression"),f,e;i.$9r("exchangeentryid","eq",this.get_$2g().$5V.$2b);var r="<fetch mapping='logical' version='1.0'>\r\n\t\t\t\t\t\t\t\t\t<entity name='exchangesyncidmapping'>\r\n\t\t\t\t\t\t\t\t\t\t<attribute name='isdeletedinexchange' />\r\n\t\t\t\t\t\t\t\t\t\t<attribute name='isunlinkedincrm' />\r\n\t\t\t\t\t\t\t\t\t\t<attribute name='lastsyncerror' />\r\n\t\t\t\t\t\t\t\t\t\t<attribute name='lastsyncerrorcode' />\r\n\t\t\t\t\t\t\t\t\t\t<attribute name='lastsyncerroroccurredon' />"+i.$7J()+"<\/entity>\r\n\t\t\t\t\t\t\t\t<\/fetch>",u=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(r),n=new Microsoft.Crm.Client.Core.Storage.DataApi.$v(u,"InteractionCentricWorkflow");return n.$3R=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["isdeletedinexchange","isunlinkedincrm","lastsyncerror","lastsyncerrorcode","lastsyncerroroccurredon"]),n.$Mp=!0,n.set_$7m(1),n.$32=20,f=this,e=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(n,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$ft()),Microsoft.Crm.Client.Core.Framework.$G.$b(this.$G,this.$G)).then(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise()},$2XV:function(){var n=this,t=this;this.$31I().then(function(t){for(var r=new Array(t.get_entities().length),i=0;i<t.get_entities().length;i++)r[i]=new Microsoft.Crm.Client.Core.Framework.$AE(t.get_entities()[i].fields.lastsyncerrorcode,t.get_entities()[i].fields.lastsyncerror.toString());n.$F5=Microsoft.Crm.Client.Core.Framework.$4.$JT(r);n.$16B()},function(n){t.$F5=n;t.$16B()});this.get_$2g().$5V.$7K=5;this.$bp=this.get_$2mu();this.$fj=!0;this.set_IsError(!0);this.set_IsLoading(!1);this.get_$2g().set_$1Bn(2)},$16B:function(){var n,t;this.$F5&&this.$F5.$E9&&this.$F5.$E9.length>0&&(n=new Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel,n.$Bv=2,n.$pm=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(this.$$d_$2b5,160),t=this,n.$Dy=function(){var n=t.$F5.$E9[0].$Xf.indexOf("    at"),i=t.$F5.$E9[0].$Xf.substr(0,n),r=t.$F5.$E9[0].$Xf.substr(n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().reportEventImmediate(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$OP(160,1,"","",i,r,""))},n.Show())},$2b5:function(){var n=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web__common_error_scriptErrorDetails_aspx_Title"),t="<br>"+Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web__common_error_scriptErrorDetails_aspx_FirstLineOfReport")+"<br>"+this.$2sk();Microsoft.Crm.Client.Core.ViewModels.$Z.$2Y4(n,t,0,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Mobile_error_scriptError_aspx_BtnBack").replace(new RegExp("&","g"),""),!1)},$2sk:function(){for(var i,n="",r=this.$F5.$E9,u=r.length,t=0;t<u;++t)i=r[t],Microsoft.Crm.Client.Core.Framework.$3.$9(n)&&(n+="<br>"),n+=String.format("{0}<br><br>{1}",i.$Xf,i.$18z);return n},$1vz:function(){var n=this.get_$2g().$5V;$0.$1(n)?this.set_State(0):(this.$6n=new Microsoft.Crm.Client.Core.Models.MailApp.$9J(n.$GC,n.$Gu,n.$KM),this.set_State(this.$34y(n)),this.$Fs.$2r.get_$Ct()!==1&&this.set_IsLoading(!1))},$34y:function(n){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$io?this.$2zy(n):n.$7K},$2zy:function(n){return this.get_$2g().$5V.$1sI(this.get_$2g().$kE)?n.$7K===2?2:1:$0.$1(this.get_$2g().$5V.$Xd)?n.$7K:0},$321:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Framework.$4),t="email",i,r,u;return this.get_$2g().$5V.$Lr==="appointment"&&(t=this.get_$2g().$5V.$NJ===3?"recurringappointmentmaster":"appointment"),i=Microsoft.Crm.Client.Core.Framework.$G.$b(this.$G,this.$G),Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_$2g().$5V.$8T)?n.reject():(r=this,u=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(this.get_$2g().$5V.$8T)),new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["activityid"]),Microsoft.Crm.Client.Core.ViewModels.$u.get_$1XX(),i).then(function(t){n.resolve(t)},function(t){n.reject(t)})),n.promise()},changeMailItemState:function(n,t,i,r){if($0.$1(this.$QD)){this.showNotification(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Retrieve_EWS_Failure_Short"),1,!1,!1);return}this.set_IsLoading(!0);t=$0.$1(t)?"":t;i=$0.$1(i)?"":i;r=$0.$1(r)?"":r;this.$16===2&&n===1&&(n=2);var u=this.get_$2g().$5V.$8W();u.$7K=n;u.$KM=r;u.$GC=i;u.$Gu=t;this.$Fs.$2Y("ActionProvider",this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateEmailContext",u))},openRegardingSearchPage:function(){$0.$1(this.$aM)||this.$aM.execute()},untrack:function(n){this.$3NF(n);n?this.get_CanDeleteActivity()?(this.changeMailItemState(4),this.showNotification(this.get_$2mt(),1)):(this.set_IsError(!0),this.$bp=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_0x80040220")):this.changeMailItemState(3)},changeRegarding:function(){$0.$1(this.$aM)||(this.$aM.execute(),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppTrackBarSetRegardingClicked")))},retryLastFailedAction:function(){this.set_IsLoading(!0);$0.$1(this.$QD)?this.$Fs.retrieveEmailContext():(this.$QD.$cG=Microsoft.Crm.Client.Core.Framework.$1X.get_$172().$1i8(20),this.$QD.$7K===5&&(this.$QD.$7K=1),this.$Fs.$2Y("ActionProvider",this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateEmailContext",this.$QD)))},openRegardedEntity:function(){var n=null,t;try{t={};t.RecordId=this.get_$2g().$5V.$GC;t.RecordType=this.get_$2g().$5V.$Gu;n=new Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(null,"OpenInBrowserCommand",t));n.execute()}finally{$0.$1(n)||n.dispose()}},openDynamicsHelpPage:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$1R.generateLinkToDynamicsCRMHelpPage(-2147881479);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$20?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$Ou(n):window.open(n)},$1vb:function(){this.set_IsLoading(!0);this.$fj=!0;this.set_IsError(!1);this.set_PermanentNotification(null);this.set_Notification(null)},showNotification:function(n,t,i,r){var f=$0.$1(i)?!1:i,u=$0.$1(r)?!0:r;f?this.set_PermanentNotification(new Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel(n,t,!0,u)):this.set_Notification(new Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel(n,t,!1,u))},get_Notification:function(){return this.$1Y6},set_Notification:function(n){return this.$1Y6!==n&&(this.$1Y6=n,this.$8("Notification")),n},get_PermanentNotification:function(){return this.$1ZK},set_PermanentNotification:function(n){return this.$1ZK!==n&&(this.$1ZK=n,this.$8("PermanentNotification")),n},get_State:function(){return this.$16},set_State:function(n){return this.$16!==n&&(this.$16=n,this.$8(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$1dP)),n},get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return this.$2D!==n&&(this.$2D=n,this.$8(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$nO),this.$2D||Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("TrackBarLoad",1)),n},get_IsUntrackingInProgress:function(){return this.$16===3||this.$16===4},get_IsError:function(){return this.$L9},set_IsError:function(n){return this.$L9!==n&&(this.$L9=n,this.$8("IsError")),n},get_IsTrackingAvailable:function(){return this.$fj},get_IsChangeRegardingAvailable:function(){return this.$1Eb},get_IsTracked:function(){return!$0.$1(this.get_$2g().$5V)&&!(!this.$16||this.$16===3||this.$16===4)},get_IsRegardingButtonVisible:function(){return!$0.$1(this.$6n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$6n.$1d)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$6n.$80)&&(this.$16===2||this.$16===1)},get_IsRetryButtonVisible:function(){return this.$L9&&this.$fj},get_IsTrackWithoutSettingRegardingEnabled:function(){return!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$1GZ},get_CanDeleteActivity:function(){return this.$Fs.$ar.$84("activitypointer",3)},get_OfficeItemType:function(){return this.get_$2g().get_$Ct()},$bp:null,get_ErrorMessageText:function(){return this.$bp},set_ErrorMessageText:function(n){return this.$bp=n,n},get_$2Zc:function(){return this.get_$2g().get_$Ct()?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Track_Appointment_Failure_Short"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Track_EWS_Failure_Short")},get_$3WN:function(){return this.get_$2g().get_$Ct()?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Untrack_Appointment_Failure_Short"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Untrack_EWS_Failure_Short")},get_$2mt:function(){return this.get_$2g().get_$Ct()?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Notification_Appointment_Untrack_Delete"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Notification_Untrack_Delete")},get_$2mu:function(){var n=this.get_$2g().get_$Ct()?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MA_MenuItem_Appointment").toLocaleLowerCase():Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MailApp_Module_Email").toLocaleLowerCase();return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_App_Pending_Tracked_Failed"),n)},get_MessageText:function(){if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMobilePhone()&&!$0.$1(this.get_$2g().$Jk.$Dh))return this.get_$2g().$Jk.$Dh;switch(this.$16){case 0:var n="";return this.$Fs.$TU&&(n=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Tracking_Email")),n;case 1:return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$6n.$1d)?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Pending_Track"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Pending_Track_Regarding");case 2:return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$6n.$1d)?this.get_$2g().get_$Ct()?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Appointment_Is_Tracked"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Is_Tracked"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Is_Tracked_Regarding");case 3:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Pending_Untrack");case 4:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Pending_Untrack_and_Delete_Short");default:return""}},$6n:null,get_RegardingObjectName:function(){return this.$6n?this.$6n.$1d:null},get_TrackButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Track")},get_UntrackButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Untrack")},get_ChangeButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Change")},get_RetryButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Retry")},get_HelpButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Help")},$GX:function(){$0.$1(this.$aM)||this.$aM.dispose();this.get_$2g().RemovePropertyChangedListener("EmailItem",this.$$d_$1vz);this.$Fs.$yN===1&&(this.get_$2g().RemovePropertyChangedListener("ResolveRecipientsStatus",this.$$d_$3Ns),this.get_$2g().RemovePropertyChangedListener("EmailContextActionStatus",this.$$d_$2oM),this.$Fs.get_CanvasConductor().get_ActiveNavigationStack().remove_CollectionChanged(this.$$d_$24J));Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$GX.call(this)},onChangeFlyOutButtonClick:function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppTrackBarChangeClicked"))},$3NF:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppActivityUntrack");t.addEventParameter("IsActivityWillBeDeleted",n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)},$2Tt:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppRecordSelectedSearchType");t.addEventParameter("IsRelevanceSearchEnabled",n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)},$1Mj:!1,$2KE:function(){this.$qy.get_$2e9()&&this.$2T1()},$2T1:function(){var n=this.$Fs.$2r.$cF;if(!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&!$0.$1(n)){var t=n.$9b.toLowerCase(),r=this,i=Microsoft.Crm.Client.Core.Framework.$5y.$Yp(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,this.$Fs.get_$RE().$22N(),function(n){return n.$N.LogicalName==="systemuser"&&n.getValue("mailappemailaddress").toLowerCase()===t});i.length>0&&(this.$fj=!1,this.showNotification(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Meeting_Organized_By_User_Tracking_Unavailable"),1,!0))}this.$2aD();this.$Fs.$12i&&!this.$Fs.$TU&&(this.$Fs.set_IsCanvasConductorShouldBeDisplayed(!0),this.openRegardingSearchPage(),this.$1Mj=!0);this.set_IsLoading(!1)},$2aD:function(){var n=Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.$1po().get_Count();this.$Fs.set_IsSetRegardingDisplayedAsHomepage(!n&&this.$fj&&this.$16!==2&&this.$16!==1)},$24J:function(){this.$1Mj=!1},get_$3ch:function(){return this.get_$1dM()+this.get_$21u()},set_$3ch:function(n){return n},$S9:0,get_$1dM:function(){return this.$S9},set_$1dM:function(n){return this.$S9=n,n},get_$21u:function(){return 10}};Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$3bK=function(){this.$18E=!0;this.$187=!0};Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$3bK.prototype={$18E:!1,$187:!1,get_$2e9:function(){return!this.$18E&&!this.$187}};Microsoft.Crm.Client.Core.ViewModels.$Lm=function(){};Microsoft.Crm.Client.Core.ViewModels.$Lm.prototype={$17m:!1,$1gf:!1,$2F:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t,i;return this.$1gf||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()||Microsoft.Crm.Client.Core.ViewModels.$5c.$1GC?this.$Fh(n):(t=new Microsoft.Crm.Client.Core.ViewModels.$Qt,i=this,t.$2F().done(function(){i.$Fh(n)})),n.promise()},$Fh:function(n){var t=this;this.$31(function(){t.$17m?n.reject():n.resolve(null)})},$5I:function(n){var t=$(n)[0];React.addons.TestUtils.Simulate.shortPress(t)},$9I:function(n){$(n).click()},$2Zj:function(n){var t=$(n)[0];React.addons.TestUtils.Simulate.longPress(t)},$16s:function(n,t){var i=$(n)[0];React.addons.TestUtils.Simulate.change(i,{target:{value:t}})},$3Vy:function(n,t){var i=$(n)[0];React.addons.TestUtils.Simulate.keyUp(i,{key:t})},$re:function(n,t){$(".appBarShell[data-open='1']").length||this.$9I("#appBarSwitch");var i=this;this.$KF(function(){i.$5I(".appBar button[data-id='"+n+"']");i.$KF(t)})},$KF:function(n,t){$0.$1(t)&&(t=750);window.setTimeout(n,t)},$34:function(n){var i=-1,t=null,o=this,r=function(){t=Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){window.clearTimeout(i);var t=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===1&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1Ex||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1sB)?5e3:1500;window.setTimeout(n,t)},-15,"PerformanceAutomationAction")},u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ(),f,e;u?(f=this,u.$2XS(function(){f.$17m||r()})):r();e=this;i=window.setTimeout(function(){e.$17m=!0;t&&t.$V8();n()},2e4)},$2Vj:function(n,t){var i=$(".rootViewControl_content.conductorContent:last "+n),r=$(".rootViewControl_content.conductorContent:last .panoramaContainer");r.scrollLeft(i[0].offsetLeft);this.$KF(t,2e3)},$2Bw:function(n,t,i){var r,u;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()?(r=this,this.$2Vj("div[data-panename='"+n+"']",function(){r.$re(t,function(){r.$KF(i)})})):(this.$2Zj(".rootViewControl_content.conductorContent:last div[data-panename='"+n+"'] .listViewName"),u=this,this.$KF(function(){u.$re(t,function(){u.$KF(i)})},2e3))}};Microsoft.Crm.Client.Core.ViewModels.$RO=function(){Microsoft.Crm.Client.Core.ViewModels.$RO.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$RO.prototype={$31:function(n){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_ActiveNavigationStack().get_Count(),t;if(i===1){n();return}this.$9I("button[data-id='back']");t=this;this.$KF(function(){t.$34(n)})}};Microsoft.Crm.Client.Core.ViewModels.$RN=function(){Microsoft.Crm.Client.Core.ViewModels.$RN.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$RN.prototype={$31:function(n){this.$2Zl(n)},$2Zl:function(n){var r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_ActiveNavigationStack().get_Count(),t,i;if(r===1){n();return}t=new Microsoft.Crm.Client.Core.ViewModels.$RO;i=this;t.$2F().always(function(){i.$2Zl(n)})}};Microsoft.Crm.Client.Core.ViewModels.$RQ=function(n){Microsoft.Crm.Client.Core.ViewModels.$RQ.initializeBase(this);this.$zB=n};Microsoft.Crm.Client.Core.ViewModels.$RQ.prototype={$zB:null,$31:function(n){this.$5I(".quickCreateForm_actionDivContainer button[data-id='"+this.$zB+"']");this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$RP=function(n){Microsoft.Crm.Client.Core.ViewModels.$RP.initializeBase(this);this.$1Q=n};Microsoft.Crm.Client.Core.ViewModels.$RP.prototype={$1Q:null,$31:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$R8,r=new Microsoft.Crm.Client.Core.ViewModels.$RC(this.$1Q),t=this;i.$2F().done(function(){t.$KF(function(){r.$2F().done(function(){t.$KF(function(){t.$34(n)})})})})}};Microsoft.Crm.Client.Core.ViewModels.$6M=function(){this.$$d_$3Fg=Function.createDelegate(this,this.$3Fg);Microsoft.Crm.Client.Core.ViewModels.$6M.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$6M.prototype={$1Y8:15,$1Uk:null,$CN:null,$Jx:null,$1FP:null,get_$R7:function(){return $0.$1(this.$Jx)&&(this.$Jx=norsyncPlugin.init("OfflineDataSource")),this.$Jx},$31:function(n){this.$1Uk=n;var t=this,i=this;this.$2me().then(function(n){n?($(window).bind("offlineSyncComplete",t.$$d_$3Fg),t.$1rl()):t.$21p(String.format("Pre-requite step to create {0} records failed in PerformanceAutomationIncrementalMDSyncAction",Microsoft.Crm.Client.Core.ViewModels.$6M.$1NA))},function(){i.$21p(String.format("Pre-requite step to create {0} records failed in PerformanceAutomationIncrementalMDSyncAction",Microsoft.Crm.Client.Core.ViewModels.$6M.$1NA))});Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("OfflineSync",0,"IncrementalSync")},$3Fg:function(){if(!$0.$1(this.$1FP)){this.$37q();var n=this,t=this;this.$3O1().then(function(t){t?(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(167,"IncrementalMDSync Sucessfully Synced"),$(window).unbind("offlineSyncComplete",n.$$d_$3Fg),n.$1Uk()):n.$2Uq()},function(){t.$2Uq()})}},$2Uq:function(){this.$1Y8>0?(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(167,String.format("OfflineIncrementalSync Failed {0} Retries left",this.$1Y8)),this.$1Y8--,this.$1rl()):this.$21p("OfflineIncrementalSync Failed to Sync all Records")},$21p:function(n){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("IncrementalSyncFailure");Microsoft.Crm.Client.Core.Framework.Trace.logInfo(1031,n);this.$1Uk()},$37q:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K();this.$Jx=norsyncPlugin.init(n.$4m.$93.toString())},$3O1:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),t=this,i=this;return this.get_$R7().transaction(function(i){var r=[];r[r.length]=t.$1FP.toString();i.executeSql("SELECT 1 from account where accountid = ? COLLATE NOCASE",r,function(t,i){$0.$1(i.rows)||!i.rows.length?(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(167,"OfflineIncrementalSync Last Record Not Synced"),n.resolve(!1)):(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(167,"OfflineIncrementalSync Last Record Synced"),n.resolve(!0))},function(){n.resolve(!1)})},function(t,i){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(167,"OfflineIncrementalSync Transaction Create Failure");n.reject(Microsoft.Crm.Client.Core.Framework.$4.$i(i))},null),n.promise()},$2me:function(){for(var f,h,n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),t=[],i=0;i<Microsoft.Crm.Client.Core.ViewModels.$6M.$1NA;i++){var r=Microsoft.Crm.Client.Core.Framework.Guid.newGuid(),e=r.toString()+i.toString(),o=new Xrm.Objects.EntityReference("account",r,e),s=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(o,{},{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),u=new Xrm.Gen.CreateRequest(s,!0);$0.$1(u)||(t[t.length]=u)}return this.$1FP=null,this.$CN=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$2O(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$Ld()),f=this,h=this,this.$CN.$2F(new Xrm.Gen.ExecuteMultipleRequest(t,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),null).then(function(t){var i=t,r,u;!$0.$1(i)&&!$0.$1(i.responses)&&i.responses.length>0?(r=i.responses[i.responses.length-1],u=r.$Ap,f.$1FP=u.id,n.resolve(!0)):n.resolve(!1)},function(t){n.reject(Microsoft.Crm.Client.Core.Framework.$4.$i(t.get_message()))}),n.promise()}};Microsoft.Crm.Client.Core.ViewModels.$Sp=function(){this.$$d_$3HD=Function.createDelegate(this,this.$3HD);Microsoft.Crm.Client.Core.ViewModels.$Sp.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Sp.prototype={$1dg:null,$31:function(n){this.$1dg=n;$(window).bind("offlineSyncComplete",this.$$d_$3HD);var i=this,t=this;this.$2na().then(function(){i.$1rl()},function(){$(window).unbind("offlineSyncComplete",t.$$d_$3HD);t.$1dg()});Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("OfflineSync",0,"InitialSync")},$3HD:function(){$(window).unbind("offlineSyncComplete",this.$$d_$3HD);this.$1dg()}};Microsoft.Crm.Client.Core.ViewModels.$RK=function(n){Microsoft.Crm.Client.Core.ViewModels.$RK.initializeBase(this);this.$70=n};Microsoft.Crm.Client.Core.ViewModels.$RK.prototype={$70:null,$31:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$RM,t;this.$16s("#activeRootView .searchboxiconcontainer input",this.$70);t=this;this.$KF(function(){t.$5I("#activeRootView .searchButton");t.$KF(function(){i.$2F().done(function(){t.$34(n)})},5e3)})}};Microsoft.Crm.Client.Core.ViewModels.$RM=function(){Microsoft.Crm.Client.Core.ViewModels.$RM.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$RM.prototype={$31:function(n){this.$5I("#activeRootView .SimpleListView div:first");var t=this;this.$KF(function(){t.$34(n)},5e3)}};Microsoft.Crm.Client.Core.ViewModels.$RL=function(n){Microsoft.Crm.Client.Core.ViewModels.$RL.initializeBase(this);this.$1Q=n};Microsoft.Crm.Client.Core.ViewModels.$RL.prototype={$1Q:null,$31:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$R9(this.$1Q),i=new Microsoft.Crm.Client.Core.ViewModels.$Q1,r=new Microsoft.Crm.Client.Core.ViewModels.$RQ("createandclose"),u=this;t.$2F().done(function(){i.$2F().done(function(){r.$2F().done(function(){n()})})})}};Microsoft.Crm.Client.Core.ViewModels.$RC=function(n){Microsoft.Crm.Client.Core.ViewModels.$RC.initializeBase(this);this.$zB=n+"|NoRelationship|Form|Mscrm.Form."+n+".Delete"};Microsoft.Crm.Client.Core.ViewModels.$RC.prototype={$zB:null,$31:function(n){var t=this;this.$KF(function(){t.$re(t.$zB,function(){t.$KF(function(){t.$5I(".messageDialog_OK_Button.button:not('#ConfirmDialogYes')");t.$KF(function(){t.$34(n)},8e3)})})},5e3)}};Microsoft.Crm.Client.Core.ViewModels.$R7=function(n){Microsoft.Crm.Client.Core.ViewModels.$R7.initializeBase(this);this.$1Q=n};Microsoft.Crm.Client.Core.ViewModels.$R7.prototype={$1Q:null,$31:function(n){this.$5I("button[data-id='sitemap']");var t=this;this.$KF(function(){t.$5I("#siteMapMenu button[id='sitemap-button-"+t.$1Q+"']");t.$34(n)})}};Microsoft.Crm.Client.Core.ViewModels.$R6=function(){Microsoft.Crm.Client.Core.ViewModels.$R6.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$R6.prototype={$31:function(n){this.$5I("#headerBar button[data-id='home']");this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$R9=function(n){Microsoft.Crm.Client.Core.ViewModels.$R9.initializeBase(this);this.$1Q=n};Microsoft.Crm.Client.Core.ViewModels.$R9.prototype={$1Q:null,$31:function(n){var t=this;this.$re("CreateFlyoutButton",function(){t.$5I(".appBar .popupContent button[data-id='"+t.$1Q+"']");t.$34(n)})}};Microsoft.Crm.Client.Core.ViewModels.$R8=function(){Microsoft.Crm.Client.Core.ViewModels.$R8.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$R8.prototype={$31:function(n){var t=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()?".rootViewControl_content.conductorContent:last .SimpleListView .listItem:first":".rootViewControl_content.conductorContent:last .TabularView tr:first td:first",i;$(t).length>0?(this.$5I(t),i=this,this.$KF(function(){i.$34(n)})):(this.$17m=!0,n())}};Microsoft.Crm.Client.Core.ViewModels.$Pz=function(){Microsoft.Crm.Client.Core.ViewModels.$Pz.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Pz.prototype={$31:function(n){var i=$(".rootViewControl_content.conductorContent:last div[data-panetype='TilePane'] .crmtile:not(.placeholderTile)"),t;if(i.length>0){n();return}t=this;this.$3JQ(function(){t.$3JK(n)})},$3JQ:function(n){var t=this;this.$1xD("contact",function(){t.$2gx(function(){t.$1xD("opportunity",function(){t.$1xD("account",n)})})})},$3JK:function(n){var t=this;this.$2Rk("activitypointer",function(){t.$2Rk("lead",n)})},$1xD:function(n,t){var r=new Microsoft.Crm.Client.Core.ViewModels.$R7(n),u=new Microsoft.Crm.Client.Core.ViewModels.$R8,f=new Microsoft.Crm.Client.Core.ViewModels.$RN,i=this;r.$2F().done(function(){u.$2F().done(function(){i.$re("DashboardPinButton",function(){i.$34(function(){f.$2F().done(function(){t()})})})})})},$2Rk:function(n,t){this.$2Bw(n,"DashboardPinButton",t)},$2gx:function(n){this.$2Zj(".rootViewControl_content.conductorContent:last div[data-panetype='TilePane'] .crmtile[data-name='contact']");var t=this;this.$KF(function(){t.$5I(".appBar button[data-id='ResizeButton']");t.$KF(n)},2e3)}};Microsoft.Crm.Client.Core.ViewModels.$Py=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Py.initializeBase(this);this.$70=n;this.$1Q=t};Microsoft.Crm.Client.Core.ViewModels.$Py.prototype={$1Q:null,$70:null,$31:function(n){if($0.$1(this.$1Q))this.$R1(n);else{var t=new Microsoft.Crm.Client.Core.ViewModels.$R7(this.$1Q),i=this;t.$2F().done(function(){i.$R1(n)})}},$R1:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$RK(this.$70),t;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()?this.$5I(".navigationBar button[data-id='searchImage']"):this.$5I("#activeRootView button[data-id='searchImage']");t=this;this.$KF(function(){i.$2F().done(function(){t.$34(n)})},1500)}};Microsoft.Crm.Client.Core.ViewModels.$Q1=function(){Microsoft.Crm.Client.Core.ViewModels.$Q1.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Q1.prototype={$31:function(n){var i=$(".fieldsSectionView .requiredField:not([data-fieldname='ownerid'])"),t,r;$0.$1(i)||(t=[],r=this,i.each(function(n,i){Array.add(t,i)}),this.$20i(t,n))},$20i:function(n,t){if(n.length>0){var u=n[0],f="Test"+Math.random().toString(),r=u.getAttribute("data-fieldname").toString(),i=this;this.$KF(function(){i.$5I("div[data-fieldname='"+r+"_readonly']");i.$KF(function(){$("div[data-fieldname='"+r+"_edit']").find("input").val(f);$("div[data-fieldname='"+r+"_edit']").find("input").blur();i.$KF(function(){Array.remove(n,u);i.$20i(n,t)})})})}else this.$34(t)}};Microsoft.Crm.Client.Core.ViewModels.$Q0=function(n){Microsoft.Crm.Client.Core.ViewModels.$Q0.initializeBase(this);this.$1Q=n};Microsoft.Crm.Client.Core.ViewModels.$Q0.prototype={$1Q:null,$31:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$R7(this.$1Q),r=new Microsoft.Crm.Client.Core.ViewModels.$R6,t=this;r.$2F().done(function(){t.$KF(function(){i.$2F().done(function(){t.$KF(function(){t.$9I(".rootViewControl_content.conductorContent:last .table_header tr[data-id='TableHeader']:first th:first");t.$KF(function(){t.$34(n)})})})})})}};Microsoft.Crm.Client.Core.ViewModels.$Pv=function(){Microsoft.Crm.Client.Core.ViewModels.$Pv.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Pv.prototype={$1rl:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Jp().$1K8()},$2na:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K(),i=this,r=this;return Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$fW.$1js(t.$4m.$93.toString(),t).then(function(){n.resolve()},function(t){n.reject(t)}),n.promise()},$31:function(){}};Microsoft.Crm.Client.Core.ViewModels.$Ll=function(n,t,i,r,u){this.$$d_$3PU=Function.createDelegate(this,this.$3PU);this.$1bY=-1;this.$pT=n;this.$Md=t;this.$ap=i;this.$X5=r;this.$1Zo=u};Microsoft.Crm.Client.Core.ViewModels.$Ll.prototype={$pT:null,$Md:0,$ap:!1,$X5:!1,$1Zo:null,$YO:null,$zt:0,$3PS:function(){return this.$YO=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),this.$zt=-1,window.setTimeout(this.$$d_$3PU,0),this.$YO.promise()},$3PU:function(){var n,u,f;if(this.$zt++,this.$zt>=this.$pT.length&&(this.$ap&&(this.$zt=0,this.$1bY++),!this.$ap||this.$1bY>=this.$Md)){this.$YO.resolve(null);return}if(n=this.$pT[this.$zt],!n.$9d){window.setTimeout(this.$$d_$3PU,0);return}$0.$1(this.$1Zo)||this.$1Zo("Executing "+n.$4g+" "+Microsoft.Crm.Client.Core.ViewModels.$S.toString(n.$2x));var t=this.$Md,i=!0,r=!0;this.$ap&&(t=1,i=!1,r=this.$1bY>=0);u=new Microsoft.Crm.Client.Core.ViewModels.$5c(n,t,i,r,this.$X5);f=this;u.$BX().always(function(){window.setTimeout(f.$$d_$3PU,0)})}};Microsoft.Crm.Client.Core.ViewModels.$Pu=function(){Microsoft.Crm.Client.Core.ViewModels.$Pu.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Pu.prototype={$31:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$R8,i=new Microsoft.Crm.Client.Core.ViewModels.$Q1,r=new Microsoft.Crm.Client.Core.ViewModels.$RO,u=this;t.$2F().done(function(){i.$2F().done(function(){r.$2F().done(function(){n()})})})}};Microsoft.Crm.Client.Core.ViewModels.$Px=function(n){Microsoft.Crm.Client.Core.ViewModels.$Px.initializeBase(this);this.$du=n};Microsoft.Crm.Client.Core.ViewModels.$Px.prototype={$du:null,$31:function(n){this.$5I("button.button[data-id='"+this.$du+"']");this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$Pw=function(n){Microsoft.Crm.Client.Core.ViewModels.$Pw.initializeBase(this);this.$6Y=n};Microsoft.Crm.Client.Core.ViewModels.$Pw.prototype={$6Y:null,$31:function(n){this.$9I("span.pieTitle[title='"+this.$6Y+"']");this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$Q2=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Q2.initializeBase(this);this.$14Q=n;this.$14R=t};Microsoft.Crm.Client.Core.ViewModels.$Q2.prototype={$14Q:null,$14R:null,$31:function(n){var t="queuePanel-"+this.$14Q+"queuePanelItem-"+this.$14R,i=$("div.queueItemBody [data-id='"+t+"']")[0];i.click();this.$34(n)}};Microsoft.Crm.Client.Core.ViewModels.$Q6=function(n){Microsoft.Crm.Client.Core.ViewModels.$Q6.initializeBase(this);this.$du=n};Microsoft.Crm.Client.Core.ViewModels.$Q6.prototype={$du:null,$31:function(n){this.$9I("span.radio-button[data-id='"+this.$du+"']");this.$KF(n,1e3)}};Microsoft.Crm.Client.Core.ViewModels.$Q5=function(n){Microsoft.Crm.Client.Core.ViewModels.$Q5.initializeBase(this);this.$du=n};Microsoft.Crm.Client.Core.ViewModels.$Q5.prototype={$du:null,$31:function(n){this.$9I("div.daterangepicker-pullright[data-id='dateRangeFilterOpen']");var t=this;this.$KF(function(){t.$9I(".ranges [data-id='dateRangeFilterOpen_"+t.$du+"']");t.$34(n)})}};Microsoft.Crm.Client.Core.ViewModels.$Q8=function(){Microsoft.Crm.Client.Core.ViewModels.$Q8.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Q8.prototype={$31:function(n){this.$5I("button.visualFilterToggleButton");this.$KF(n,1e3)}};Microsoft.Crm.Client.Core.ViewModels.$Q7=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Q7.initializeBase(this);this.$CX=n;this.$1O8=t};Microsoft.Crm.Client.Core.ViewModels.$Q7.prototype={$CX:null,$1O8:null,$31:function(n){this.$5I("button.globalFilterButton");var t=this;this.$KF(function(){t.$5I("button.toggleButton[data-id='"+t.$CX+"']");t.$KF(function(){t.$2Vw(0,n)})})},$2Vw:function(n,t){if(this.$1O8.length===n)this.$5I("div.globalFilterHeader > span.filterButtons > button.actionButton[data-id='ApplyFilters']"),this.$34(t);else{this.$9I("input.optionsetFilterItemCheckbox[data-id='"+this.$1O8[n]+"']");var i=this;this.$KF(function(){i.$2Vw(n+1,t)})}}};Microsoft.Crm.Client.Core.ViewModels.$o=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$o.initializeBase(this);this.$2x=n;this.set_Enabled(!1);this.$4g=t;this.$AR=i};Microsoft.Crm.Client.Core.ViewModels.$o.$29P=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.$o(n,t.get_$14f(),t.get_$1n())};Microsoft.Crm.Client.Core.ViewModels.$o.$YQ=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.$o(n,t,null)};Microsoft.Crm.Client.Core.ViewModels.$o.$5B=function(n,t,i){return new Microsoft.Crm.Client.Core.ViewModels.$o(n,t,i)};Microsoft.Crm.Client.Core.ViewModels.$o.CreateTestCaseForQA=function(n){if(!$0.$1(n))try{var t=JSON.parse(n),i=t.TestScenario,r=t.EntityPluralName,u=t.EntityLogicalName;return new Microsoft.Crm.Client.Core.ViewModels.$o(i,r,u)}catch(f){}return null};Microsoft.Crm.Client.Core.ViewModels.$o.prototype={$9d:!1,$2x:0,get_Scenario:function(){return this.$2x},set_Scenario:function(n){return this.$2x=n,n},$AR:null,get_Parameter:function(){return this.$AR},set_Parameter:function(n){return this.$AR=n,n},$4g:null,get_DisplayName:function(){return this.$4g},set_DisplayName:function(n){return this.$4g=n,n},get_Enabled:function(){return this.$9d},set_Enabled:function(n){return this.$9d!==n&&(this.$9d=n,this.$8("Enabled")),n}};Microsoft.Crm.Client.Core.ViewModels.$5c=function(n,t,i,r,u){this.$Md=t;this.$7e=n;$0.$1(i)||(this.$1my=i);$0.$1(r)||(this.$215=r);$0.$1(u)||(this.$X5=u)};Microsoft.Crm.Client.Core.ViewModels.$5c.prototype={$7e:null,$1my:!0,$215:!0,$X5:!1,$Md:0,$YO:null,$ah:0,$II:"",$BX:function(){this.$YO=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4);this.$ah=this.$Md;this.$1my&&this.$ah++;var n=this;return this.$6K().done(function(){n.$2Y1(n.$7e.$2x)?n.$2oP().done(function(){n.$1C3()}):n.$1C3()}),this.$YO.promise()},$6K:function(){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),i=new Microsoft.Crm.Client.Core.ViewModels.$RN,n=this;return i.$2F().done(function(){var i,r,u,f,e,o,s,h,c,l,a,v;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1P6();switch(n.$7e.$2x){case 0:case 15:case 16:case 21:case 14:case 24:i=new Microsoft.Crm.Client.Core.ViewModels.$R7(n.$7e.$AR);i.$2F().done(function(){t.resolve(null)});break;case 3:r=new Microsoft.Crm.Client.Core.ViewModels.$Pz;r.$2F().done(function(){t.resolve(null)});break;case 8:u=Number.parseInvariant(n.$7e.$AR);f=n.$33P(u);n.$15U(t,f);break;case 9:e=Number.parseInvariant(n.$7e.$AR);o=n.$33Q(e);n.$15U(t,o);break;case 11:s=Number.parseInvariant(n.$7e.$AR);h=n.$33S(s);n.$15U(t,h);break;case 10:c=Number.parseInvariant(n.$7e.$AR);l=n.$33R(c);n.$15U(t,l);break;case 12:a=Number.parseInvariant(n.$7e.$AR);v=n.$33O(a);n.$15U(t,v);break;case 25:var y=new Microsoft.Crm.Client.Core.ViewModels.$R7(n.$7e.$AR),p=new Microsoft.Crm.Client.Core.ViewModels.$R8,w=new Microsoft.Crm.Client.Core.ViewModels.$Qc("sharepointdocument");y.$2F().done(function(){p.$2F().done(function(){w.$2F().done(function(){t.resolve(null)})})});break;default:t.resolve(null)}}),t.promise()},$2b9:function(n){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1KO(),t;$0.$1(i)?(console.log("Waiting 2s for the Background sync to finish."),t=this,window.setTimeout(function(){t.$2b9(n)},2e3)):n.resolve()},$15U:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),r;this.$2b9(i);r=this;i.done(function(){t?t.$2F().done(function(){n.resolve(null)}):n.resolve(null)})},$33P:function(n){var t=null;switch(n){case 5:t=new Microsoft.Crm.Client.Core.ViewModels.$Q6("TilesView");break;case 2:t=new Microsoft.Crm.Client.Core.ViewModels.$Q8;break;case 9:t=new Microsoft.Crm.Client.Core.ViewModels.$Q2("0","0")}return t},$33Q:function(n){var t=null;switch(n){case 9:t=new Microsoft.Crm.Client.Core.ViewModels.$Q2("0","0");break;case 8:case 0:case 2:case 6:case 3:case 10:t=new Microsoft.Crm.Client.Core.ViewModels.$Qy("Tier 2 Dashboard")}return t},$33S:function(n){var t=null;switch(n){case 1:t=new Microsoft.Crm.Client.Core.ViewModels.$Qz("Service","Cases");break;case 9:case 8:t=new Microsoft.Crm.Client.Core.ViewModels.$Q2("0","0")}return t},$33R:function(n){var t=null;switch(n){case 5:case 6:t=new Microsoft.Crm.Client.Core.ViewModels.$Qz("Service","Cases");break;case 7:t=new Microsoft.Crm.Client.Core.ViewModels.$Qg("Service","Cases",!0);break;case 9:case 10:t=new Microsoft.Crm.Client.Core.ViewModels.$Qz("Service","Contacts");break;case 11:t=new Microsoft.Crm.Client.Core.ViewModels.$Qg("Service","Contacts",!0);break;case 1:case 2:t=new Microsoft.Crm.Client.Core.ViewModels.$Qz("Service","Accounts");break;case 3:t=new Microsoft.Crm.Client.Core.ViewModels.$Qg("Service","Accounts",!0)}return t},$33O:function(n){var t=null,i;switch(n){case 5:t=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Cases","Entitlements",!0);break;case 6:t=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Contacts","Entitlements",!0);break;case 7:t=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Contacts","Recent Opportunities",!0);break;case 3:t=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Accounts","Entitlements",!0);break;case 4:t=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Accounts","Recent Opportunities",!0);break;case 0:t=new Microsoft.Crm.Client.Core.ViewModels.$R3(0,"");break;case 1:t=new Microsoft.Crm.Client.Core.ViewModels.$SV(0);break;case 2:t=new Microsoft.Crm.Client.Core.ViewModels.$Qf(0);break;case 8:t=new Microsoft.Crm.Client.Core.ViewModels.$Q2("0","0");break;case 9:t=new Microsoft.Crm.Client.Core.ViewModels.$Qe(0);break;case 10:case 11:t=new Microsoft.Crm.Client.Core.ViewModels.$Qk(0,n===11);break;case 12:t=new Microsoft.Crm.Client.Core.ViewModels.$Qp(0,"");break;case 13:case 14:i=n===13;t=new Microsoft.Crm.Client.Core.ViewModels.$Qr(0,!1,i);break;case 15:t=new Microsoft.Crm.Client.Core.ViewModels.$ST(0,!1)}return t},$1C3:function(){var f,r,w,n,t,e,o,s,h,c,l,a,v,y,p,i,u;if(!this.$ah){f=this;this.$3JC().done(function(){f.$YO.resolve(null)});return}this.$2Y1(this.$7e.$2x)?(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$r(!1),Microsoft.Crm.Client.Core.ViewModels.$5c.$1GC=!0,r=null,w=this,r=function(){Microsoft.Crm.Client.Core.ViewModels.$5c.$1GC=!1;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().remove_$1c4(r)},Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$1c4(r)):Microsoft.Crm.Client.Core.ViewModels.$5c.$1GC=!1;n=null;t=new Microsoft.Crm.Client.Core.ViewModels.$RO;switch(this.$7e.$2x){case 0:n=new Microsoft.Crm.Client.Core.ViewModels.$R8;break;case 2:n=new Microsoft.Crm.Client.Core.ViewModels.$R9(this.$7e.$AR);t=new Microsoft.Crm.Client.Core.ViewModels.$RQ("close");break;case 1:n=new Microsoft.Crm.Client.Core.ViewModels.$R7(this.$7e.$AR);break;case 3:n=new Microsoft.Crm.Client.Core.ViewModels.$R6;break;case 23:n=new Microsoft.Crm.Client.Core.ViewModels.$RL(this.$7e.$AR);break;case 24:n=new Microsoft.Crm.Client.Core.ViewModels.$Pu;t=null;break;case 5:n=new Microsoft.Crm.Client.Core.ViewModels.$Q0(this.$7e.$AR);break;case 6:n=new Microsoft.Crm.Client.Core.ViewModels.$Sp;break;case 7:n=new Microsoft.Crm.Client.Core.ViewModels.$6M;break;case 8:this.$2Jr(e={val:n},o={val:t});n=e.val;t=o.val;break;case 9:this.$2Jr(s={val:n},h={val:t});n=s.val;t=h.val;break;case 11:this.$34p(c={val:n},l={val:t});n=c.val;t=l.val;break;case 10:this.$34o(a={val:n},v={val:t});n=a.val;t=v.val;break;case 12:this.$34n(y={val:n},p={val:t});n=y.val;t=p.val;break;case 18:n=new Microsoft.Crm.Client.Core.ViewModels.$Qv(this.$7e.$AR);break;case 19:n=new Microsoft.Crm.Client.Core.ViewModels.$Qs;break;case 20:n=new Microsoft.Crm.Client.Core.ViewModels.$Py("Anthony");t=new Microsoft.Crm.Client.Core.ViewModels.$RN;break;case 21:this.$II="GridRefresh_"+this.$7e.$AR;n=new Microsoft.Crm.Client.Core.ViewModels.$Qw;t=null;break;case 22:this.$II="ListRefresh";n=new Microsoft.Crm.Client.Core.ViewModels.$QD;t=null;break;case 4:this.$II="Offline_CreateForm_"+this.$7e.$AR;n=new Microsoft.Crm.Client.Core.ViewModels.$RL(this.$7e.$AR);break;case 15:this.$II="Offline_DeleteForm_"+this.$7e.$AR;n=new Microsoft.Crm.Client.Core.ViewModels.$RP(this.$7e.$AR);t=new Microsoft.Crm.Client.Core.ViewModels.$R7(this.$7e.$AR);break;case 16:this.$II="Offline_RetrieveForm_"+this.$7e.$AR;n=new Microsoft.Crm.Client.Core.ViewModels.$R8;break;case 13:this.$II="Offline_Search_"+this.$7e.$AR;n=new Microsoft.Crm.Client.Core.ViewModels.$Py("Test",this.$7e.$AR);break;case 14:this.$II="Offline_EditForm_"+this.$7e.$AR;n=new Microsoft.Crm.Client.Core.ViewModels.$Pu;t=null;break;case 17:this.$II="Offline_UpSync_"+this.$7e.$4g;n=new Microsoft.Crm.Client.Core.ViewModels.$Qu(this.$7e.$4g);break;case 25:this.$II="DocumentRecommendations_"+this.$7e.$4g;n=new Microsoft.Crm.Client.Core.ViewModels.$Qh;t=new Microsoft.Crm.Client.Core.ViewModels.$Qd;break;default:Microsoft.Crm.Client.Core.Framework.Trace.logError(167,"Unexpected performace test case scenario");this.$YO.resolve(null);return}if($0.$1(n)){Microsoft.Crm.Client.Core.Framework.Trace.logError(167,"Unexpected performace test case action for the given scenario");this.$YO.resolve(null);return}Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1P6();i=this;u=this;n.$2F().then(function(){i.$1zt().done(function(){$0.$1(t)?(i.$ah--,i.$1C3()):t.$2F().done(function(){i.$ah--;i.$1C3()})})},function(){u.$ah=0;u.$1C3()})},$2Jr:function(n,t){var i=Number.parseInvariant(this.$7e.$AR);this.$II=Microsoft.Crm.Client.Core.ViewModels.$S.toString(this.$7e.$2x)+"_"+Microsoft.Crm.Client.Core.ViewModels.$4Z.toString(i);switch(i){case 0:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Q5("This Month");t.val=new Microsoft.Crm.Client.Core.ViewModels.$Q5("Last Week");break;case 1:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Q8;t.val=new Microsoft.Crm.Client.Core.ViewModels.$Q8;break;case 2:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Pw("High");t.val=new Microsoft.Crm.Client.Core.ViewModels.$Px("prioritycode");break;case 3:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Q2("0","0");t.val=new Microsoft.Crm.Client.Core.ViewModels.$RO;break;case 4:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Q6("TilesView");t.val=new Microsoft.Crm.Client.Core.ViewModels.$Q6("PanelsView");break;case 5:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Q6("PanelsView");t.val=new Microsoft.Crm.Client.Core.ViewModels.$Q6("TilesView");break;case 6:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Q7("Priority",["High","Normal"]);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Px("prioritycode");break;case 7:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qy("Tier 2 Dashboard");t.val=new Microsoft.Crm.Client.Core.ViewModels.$RO;break;case 8:n.val=new Microsoft.Crm.Client.Core.ViewModels.$R0;t.val=new Microsoft.Crm.Client.Core.ViewModels.$R0;break;case 9:n.val=new Microsoft.Crm.Client.Core.ViewModels.$RO;t.val=new Microsoft.Crm.Client.Core.ViewModels.$Q2("0","0");break;case 10:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qi(!1,"0","0");t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qi(!0,"0","0")}},$34p:function(n,t){var i=Number.parseInvariant(this.$7e.$AR);this.$II=Microsoft.Crm.Client.Core.ViewModels.$S.toString(this.$7e.$2x)+"_"+Microsoft.Crm.Client.Core.ViewModels.$4n.toString(i);switch(i){case 0:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qz("Service","Cases");t.val=new Microsoft.Crm.Client.Core.ViewModels.$RN;break;case 1:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qq;t.val=new Microsoft.Crm.Client.Core.ViewModels.$RO;break;case 2:n.val=new Microsoft.Crm.Client.Core.ViewModels.$R5(!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$R5(!1);break;case 7:n.val=new Microsoft.Crm.Client.Core.ViewModels.$R5(!0);t.val=new Microsoft.Crm.Client.Core.ViewModels.$RO;break;case 3:n.val=new Microsoft.Crm.Client.Core.ViewModels.$R2(null,!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$R2(null,!1);break;case 4:n.val=new Microsoft.Crm.Client.Core.ViewModels.$R2("Account",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$R2("Account",!0);break;case 5:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qx(2,"Account");t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qx(3,null);break;case 6:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qx(2,"Task");t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qx(3,null);break;case 8:n.val=new Microsoft.Crm.Client.Core.ViewModels.$R4(!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$R4(!1);break;case 9:n.val=new Microsoft.Crm.Client.Core.ViewModels.$R4(!0);t.val=new Microsoft.Crm.Client.Core.ViewModels.$RO}},$34o:function(n,t){var i=Number.parseInvariant(this.$7e.$AR);this.$II=Microsoft.Crm.Client.Core.ViewModels.$S.toString(this.$7e.$2x)+"_"+Microsoft.Crm.Client.Core.ViewModels.$4F.toString(i);t.val=new Microsoft.Crm.Client.Core.ViewModels.$RO;switch(i){case 4:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qz("Service","Cases");t.val=new Microsoft.Crm.Client.Core.ViewModels.$RN;break;case 0:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qz("Service","Accounts");t.val=new Microsoft.Crm.Client.Core.ViewModels.$RN;break;case 8:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qz("Service","Contacts");t.val=new Microsoft.Crm.Client.Core.ViewModels.$RN;break;case 6:case 2:case 10:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qq;break;case 5:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qg("Service","Cases",!1);break;case 1:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qg("Service","Accounts",!1);break;case 9:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qg("Service","Contacts",!1);break;case 7:case 3:case 11:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Q2("0","0")}},$34n:function(n,t){var i=Number.parseInvariant(this.$7e.$AR),r;this.$II=Microsoft.Crm.Client.Core.ViewModels.$S.toString(this.$7e.$2x)+"_"+Microsoft.Crm.Client.Core.ViewModels.$3Z.toString(i);t.val=new Microsoft.Crm.Client.Core.ViewModels.$RO;switch(i){case 5:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Cases","Recent cases and Entitlements",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Cases","Recent Opportunities",!1);break;case 6:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Contacts","Recent Opportunities",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Contacts","Entitlements",!1);break;case 7:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Contacts","Entitlements",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Contacts","Recent Opportunities",!1);break;case 3:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Accounts","Recent Opportunities",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Accounts","Entitlements",!1);break;case 4:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Accounts","Entitlements",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qj("Service","Accounts","Recent Opportunities",!1);break;case 0:n.val=new Microsoft.Crm.Client.Core.ViewModels.$R3(2,"");t.val=new Microsoft.Crm.Client.Core.ViewModels.$R3(3,"");break;case 1:n.val=new Microsoft.Crm.Client.Core.ViewModels.$SV(2);t.val=new Microsoft.Crm.Client.Core.ViewModels.$SV(3);break;case 2:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qf(2);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qf(3);break;case 8:n.val=new Microsoft.Crm.Client.Core.ViewModels.$SJ(2);t.val=new Microsoft.Crm.Client.Core.ViewModels.$SJ(3);break;case 9:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qe(2);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qe(3);break;case 10:case 11:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qk(2,i===11);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qk(3,i===11);break;case 12:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qp(2,"");t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qp(3,"");break;case 13:case 14:r=i===13;n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qr(2,!1,r);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qr(3,this.$ah===1,r);break;case 15:n.val=new Microsoft.Crm.Client.Core.ViewModels.$ST(2,!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$ST(3,this.$ah===1)}},$3JC:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t,i;switch(this.$7e.$2x){case 12:t=Number.parseInvariant(this.$7e.$AR);i=this.$301(t);this.$15U(n,i);break;default:n.resolve(null)}return n.promise()},$301:function(n){var t=null;switch(n){case 0:t=new Microsoft.Crm.Client.Core.ViewModels.$R3(4,"");break;case 2:t=new Microsoft.Crm.Client.Core.ViewModels.$Qf(4);break;case 9:t=new Microsoft.Crm.Client.Core.ViewModels.$Qe(4);break;case 10:case 11:t=new Microsoft.Crm.Client.Core.ViewModels.$Qk(4,n===11);break;case 12:t=new Microsoft.Crm.Client.Core.ViewModels.$Qp(4,"")}return t},$1zt:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t;return this.$X5&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$20?(t=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$1qU(function(i){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("Memory",0,i.toFixed(0));t.$2VQ(n)})):this.$2VQ(n),n.promise()},$2VQ:function(n){var i,u,r,c,e,o,t,a;if(this.$ah>this.$Md||!this.$215)n.resolve(null);else if(i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Qa(),u=new Array(0),i.length){r=i[0].$4w;for(var h=i,v=h.length,f=0;f<v;++f)c=h[f],r=Math.min(r,c.$4w);e="StopMarker";o=[];for(var l=i,y=l.length,s=0;s<y;++s)t=l[s],t.$13H=r,e in t.$Mg&&!$0.$1(t.$Mg[e])||(Array.add(u,t),Array.add(o,Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Tn(t)));a=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(o).always(function(){Microsoft.Crm.Client.Core.ViewModels.$1q.$1zt(u,a.$II).always(function(){n.resolve(null)})})}else n.resolve(null)},$2oP:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t;return Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().get_$IU()?n.resolve():(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Jp().$1K8(),t=this,window.setTimeout(function(){n.resolve()},6e3)),n.promise()},$2Y1:function(n){switch(n){case 15:case 17:case 4:case 14:case 13:case 5:return!0;default:return!1}}};Microsoft.Crm.Client.Core.ViewModels.$Uq=function(){var n,t;this.$$d_$3Lg=Function.createDelegate(this,this.$3Lg);this.$$d_$SU=Function.createDelegate(this,this.$SU);Microsoft.Crm.Client.Core.ViewModels.$Uq.initializeBase(this);n=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$SU,"Close","close");n.set_CanExecute(!0);t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$3Lg,"Refresh","refresh");n.set_CanExecute(!0);this.$G6.$2i(n);this.$G6.$2i(t);this.$G6.$2i(this.$xb)};Microsoft.Crm.Client.Core.ViewModels.$Uq.prototype={$2Jp:function(){return Microsoft.Crm.Client.Core.Framework.$1r.get_$UT()},$3TY:function(n){Microsoft.Crm.Client.Core.Framework.$1r.set_$UT(n)},$1Zk:function(n,t){var r,u,f,i;if(!$0.$1(n)&&!$0.$1(t)){r=0;u=n;for(f in u)i={key:f,value:u[f]},t.ObjectCounts[i.key]=i.value,r+=i.value;t.ObjectCounts["Total Handlers"]=r}},$1xi:function(n,t){var r,u,f,i;if(!$0.$1(n)&&!$0.$1(t)&&(r=n._list,!$0.$1(r))){u=r;for(f in u)(i={key:f,value:u[f]},Microsoft.Crm.Client.Core.Framework.$3.$9(i.key))||(i.key in t||(t[i.key]=0),t[i.key]=t[i.key]+i.value.length)}},$1PJ:function(n,t){var i,r;return $0.$1(t)?null:(i={},this.$1xi(t,i),$0.$1(i)||!Microsoft.Crm.Client.Core.Framework.$1I.$m(i))?null:(r=new Microsoft.Crm.Client.Core.Framework.$O0(n),this.$1Zk(i,r),r)},$1k6:function(){var t=[],n,a,w,b,k,d,gt,ni,g,nt,ri,tt,it,rt,i,s,r,v,u,ut,ft,et,h,f,c,e,ot,st,ht,ct,lt,y,at,vt,yt,ui,fi,l,p,pt,wt,bt,kt,ei,dt;if(!Microsoft.Crm.Client.Core.Framework.$1r.get_$UT())return t;if(n=this.$1PJ("ApplicationShellViewModel -> Event Handlers",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().eventHandlers),$0.$1(n)||Array.add(t,n),n=this.$1PJ("ApplicationShellViewModel -> CommandManagerViewModel -> Custom Event Handlers",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p.eventHandlers),$0.$1(n)||Array.add(t,n),$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1Fh)||(n=this.$1PJ("ApplicationShellViewModel -> MashupManager -> Event Handlers",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1Fh.eventHandlers),$0.$1(n)||Array.add(t,n)),n=this.$1PJ("CustomEventHandlersManager -> Event Handlers",Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().eventHandlers),$0.$1(n)||Array.add(t,n),a=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$vy,!$0.$1(a)){n=new Microsoft.Crm.Client.Core.Framework.$O0("ViewModelFactory");n.ObjectCounts["Total RootViewModels"]=Microsoft.Crm.Client.Core.Framework.$1I.$m(a);w={};b=a;for(k in b)d={key:k,value:b[k]},Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(d.value)&&(gt=d.value,ni=gt.eventHandlers,this.$1xi(ni,w));this.$1Zk(w,n);Array.add(t,n)}if(g=jQuery.cache,!$0.$1(g)){n=new Microsoft.Crm.Client.Core.Framework.$O0("jQuery Events");var ti=0,o={},ii=g;for(nt in ii)if(ri={key:nt,value:ii[nt]},tt=ri.value.events,!$0.$1(tt)){it=tt;for(rt in it)(i={key:rt,value:it[rt]},Microsoft.Crm.Client.Core.Framework.$3.$9(i.key))||(i.key in o||(o[i.key]=0),o[i.key]=o[i.key]+i.value.length);ti++}n.ObjectCounts["Total Objects With Events"]=ti;this.$1Zk(o,n);Array.add(t,n)}if(s=Microsoft.Crm.Client.Core.Framework.Binding.$3a.get_$1iO(),!$0.$1(s)){for(n=new Microsoft.Crm.Client.Core.Framework.$O0("Commands"),n.ObjectCounts.Total=s.length,r={},v=0;v<s.length;v++)(u=Microsoft.Crm.Client.Core.Framework.$BO.$37G(s[v]),Microsoft.Crm.Client.Core.Framework.$3.$9(u))||(u in r||(r[u]=0),r[u]=r[u]+1);ut=r;for(ft in ut)et={key:ft,value:ut[ft]},n.ObjectCounts[et.key]=et.value;Array.add(t,n)}if(h=Microsoft.Crm.Client.Core.Framework.$3d.get_$1iP(),!$0.$1(h)){for(n=new Microsoft.Crm.Client.Core.Framework.$O0("Custom Events -> Active Handlers"),f={},c=0;c<h.length;c++)(e=h[c].get_$2pM(),Microsoft.Crm.Client.Core.Framework.$3.$9(e))||(e in f||(f[e]=0),f[e]=f[e]+h[c].get_$2pL().length);ot=f;for(st in ot)ht={key:st,value:ot[st]},n.ObjectCounts[ht.key]=ht.value;Array.add(t,n)}if(ct=Microsoft.Crm.Client.Core.Models.$1D.get_$1Nj(),$0.$1(ct)||(n=new Microsoft.Crm.Client.Core.Framework.$O0("Record Collection Models"),n.ObjectCounts.Total=ct.length,Array.add(t,n)),lt=Microsoft.Crm.Client.Core.Models.$O.get_$z1(),$0.$1(lt)||(n=new Microsoft.Crm.Client.Core.Framework.$O0("Record Models"),n.ObjectCounts.Total=lt.length,Array.add(t,n)),y=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$Ce,!$0.$1(y)){n=new Microsoft.Crm.Client.Core.Framework.$O0("DataSource Events");n.ObjectCounts["Total Listeners"]=Microsoft.Crm.Client.Core.Framework.$1I.$m(y);at={};vt=y;for(yt in vt)ui={key:yt,value:vt[yt]},fi=ui.value,this.$1xi(fi,at);this.$1Zk(at,n);Array.add(t,n)}if(l=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$OW(),l){for(n=new Microsoft.Crm.Client.Core.Framework.$O0("Entity Metadata Cache"),n.ObjectCounts["Total Entities"]=l.length,p=0;p<l.length;p++)pt=l[p],wt=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2zg(pt.$d),wt>0&&(n.ObjectCounts["Entity '"+pt.$d+"' attributes"]=wt);Array.add(t,n)}return bt=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().get_$2eN(),bt&&(n=new Microsoft.Crm.Client.Core.Framework.$O0("Application Metadata Cache"),n.ObjectCounts["Total Application Metadata Objects"]=bt,Array.add(t,n)),kt=document.getElementsByTagName("iframe"),$0.$1(kt)||(n=new Microsoft.Crm.Client.Core.Framework.$O0("iFrame"),n.ObjectCounts["Total iframes"]=kt.length,Array.add(t,n)),n=new Microsoft.Crm.Client.Core.Framework.$O0("Inline Dialog references"),n.ObjectCounts["AllInlineDialog count"]=Microsoft.Crm.Client.Core.Framework.$1I.$m(Microsoft.Crm.Client.Core.ViewModels.$2C.get_$yz()),Array.add(t,n),ei=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$4M),dt=ei.getDefinitionCallbacks,$0.$1(dt)||(n=new Microsoft.Crm.Client.Core.Framework.$O0("View Manager -> Get Definition Callbacks"),n.ObjectCounts.Total=Microsoft.Crm.Client.Core.Framework.$1I.$m(dt),Array.add(t,n)),t},$3Lg:function(){this.set_OutputMessage("");this.$3JZ()},$3JZ:function(){for(var i,n,u,f,o,t,s,e=this.$1k6(),r=0;r<e.length;r++){i=e[r];this.$1NW(i.Description);n=[];u=i.ObjectCounts;for(f in u)o={key:f,value:u[f]},Array.add(n,o.key);for(n.sort(),t=0;t<n.length;t++)this.$1NW(String.format("\t{0}: {1}",n[t],i.ObjectCounts[n[t]]));this.$1NW("")}Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$20&&(s=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$1qU(function(n){var t=(n/1048576).toFixed(2);s.$1NW("Memory Used: "+t)}))},$1NW:function(n){this.set_OutputMessage(this.$aO+n+"\r\n")},$SU:function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()}};Microsoft.Crm.Client.Core.ViewModels.$Ur=function(){var n,t;this.$$d_$3N0=Function.createDelegate(this,this.$3N0);this.$$d_$3Mz=Function.createDelegate(this,this.$3Mz);this.$$d_$2Sy=Function.createDelegate(this,this.$2Sy);this.$$d_clearLocalStoreReportAndClose=Function.createDelegate(this,this.clearLocalStoreReportAndClose);Microsoft.Crm.Client.Core.ViewModels.$Ur.initializeBase(this);n=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_clearLocalStoreReportAndClose,"Clear and Close","clearAndClose");n.set_CanExecute(!0);t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$2Sy,"Refresh","refresh");t.set_CanExecute(!0);this.$vl=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$3Mz,"Replay Parallel","ReplayLocalStoreParallelCommand");this.$vl.set_CanExecute(!1);this.$vm=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$3N0,"Replay Sequential","ReplayLocalStoreSequentialCommand");this.$vm.set_CanExecute(!1);this.$G6.$2i(n);this.$G6.$2i(t);this.$G6.$2i(this.$vl);this.$G6.$2i(this.$vm);this.$G6.$2i(this.$xb)};Microsoft.Crm.Client.Core.ViewModels.$Ur.prototype={$vm:null,$vl:null,$2Jp:function(){return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$1Ef()},$3TY:function(n){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.set_$1Ef(n)},$3HG:function(){this.$vl.set_CanExecute(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$1Ef());this.$vm.set_CanExecute(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$1Ef())},$2Sy:function(){this.$3Jc()},$3Jc:function(){var t,n;if(this.$27V(),t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Qa(),t)for(var r=t,u=r.length,i=0;i<u;++i)n=r[i],n.$NQ===2&&n.$dt&&this.$2dt(n.toString())},$27V:function(){this.set_OutputMessage("")},$2dt:function(n){this.set_OutputMessage(this.$aO+n+"\r\n")},clearLocalStoreReportAndClose:function(){var i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Qa(),n;if(i)for(var r=i,u=r.length,t=0;t<u;++t)n=r[t],n.$NQ===2&&n.$dt&&(n.$NQ=0);this.$27V();Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()},$3N0:function(){this.replayLocalStore(!0)},$3Mz:function(){this.replayLocalStore(!1)},replayLocalStore:function(n){var i,r,t;if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Ul=!1,this.$vl.set_CanExecute(!1),this.$vm.set_CanExecute(!1),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.LocalStore.$Cp)),r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Qa(),r)for(var e=r,o=e.length,u=0;u<o;++u)t=e[u],t.$NQ===2&&Microsoft.Crm.Client.Core.Storage.LocalStore.$Cp.isInstanceOfType(t.$dt)&&i.add(t.$dt);var s=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$3U(),h=this,c=this,f=this;this.$2Bu(s,i,n).then(function(){},function(n){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC("Failed to replay the local store commands.",n.$E)}).always(function(){f.$vl.set_CanExecute(!0);f.$vm.set_CanExecute(!0);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.get_$3AC()&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Ul=!0);f.$2Sy()})},$2e:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),r,u,f,e,o,s,h,c,l,a,v,y;if($0.$1(t))i.reject();else switch(t.CommandName){case"Retrieve":r=this;u=this;n.$6I(t.Parameters.key,t.StoreName,t.CallingContext).then(function(n){i.resolve(n)},function(n){i.reject(n)});break;case"RetrieveMultipleByQuery":f=this;e=this;n.$RH(t.Parameters.query,t.StoreName,t.CallingContext).then(function(n){i.resolve(n.$Ak)},function(n){i.reject(n)});break;case"Add":o=this;s=this;n.$2i(t.Parameters.key,t.Parameters.data,t.StoreName,t.CallingContext).then(function(n){i.resolve(n)},function(n){i.reject(n)});break;case"AddMultiple":h=this;c=this;n.$I4(t.Parameters.extractKey,t.Parameters.dataSet,t.StoreName,t.CallingContext).then(function(n){i.resolve(n)},function(n){i.reject(n)});break;case"Flush":l=this;a=this;n.$IJ(t.Parameters.key,t.StoreName,t.CallingContext).then(function(n){i.resolve(n)},function(n){i.reject(n)});break;case"FlushAll":v=this;y=this;n.$T2(t.StoreName,t.CallingContext).then(function(n){i.resolve(n)},function(n){i.reject(n)});break;default:throw Error.argument(t.CommandName,"ExecuteCommand: Command is not supported.");}return i.promise()},$2Bu:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),e,u,h,c,f,o,s,l;if(t.get_Count())if(i)f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.LocalStore.$Cp))(Array.clone(t.get_Items())),o=f.get_$I(0),f.removeAt(0),s=this,l=this,this.$2e(n,o).then(function(){s.$2Bu(n,f,i).then(function(){r.resolve()},function(n){r.reject(n)})},function(n){r.reject(n)});else{for(e=[],u=0;u<t.get_Count();u++)Array.add(e,this.$2e(n,t.get_$I(u)));h=this;c=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e).then(function(){r.resolve()},function(n){r.reject(n)})}else r.resolve();return r.promise()}};Microsoft.Crm.Client.Core.ViewModels.$Up=function(){var n,t,i,r,u,f;this.$$d_$2Vv=Function.createDelegate(this,this.$2Vv);this.$$d_$2hs=Function.createDelegate(this,this.$2hs);this.$$d_$3Q2=Function.createDelegate(this,this.$3Q2);this.$$d_$3Q0=Function.createDelegate(this,this.$3Q0);this.$$d_$SU=Function.createDelegate(this,this.$SU);Microsoft.Crm.Client.Core.ViewModels.$Up.initializeBase(this);this.$Ux=new Microsoft.Crm.Client.Core.ViewModels.$Ue;n=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$SU,"Close","close");n.set_CanExecute(!0);t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$3Q0,"Save","save");t.set_CanExecute(!0);i=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$3Q2,"Save SQLite","saveSQLite");i.set_CanExecute(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$BB.get_$2o1());r=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$2hs,"Clear and Close","clearAndClose");r.set_CanExecute(!0);u=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$2Vv,"Select Major Events","selectMajorEvents");u.set_CanExecute(!0);this.$G6.$2i(n);this.$G6.$2i(t);this.$G6.$2i(i);this.$G6.$2i(r);this.$G6.$2i(u);this.$G6.$2i(this.$xb);f=this;this.$Ux.AddPropertyChangedListener("SelectedMarkersMessage",function(){f.set_OutputMessage(f.$Ux.$1IY)})};Microsoft.Crm.Client.Core.ViewModels.$Up.prototype={$Ux:null,get_Timeline:function(){return this.$Ux},set_Timeline:function(n){return this.$Ux=n,n},$1mD:!1,$2Jp:function(){return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$CH()},$3TY:function(n){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.set_$CH(n)},$3Ji:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Object),t;return this.$1jn(),t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Qa(),t?(this.$Ux.$2i4(),this.$Ux.$3Jd()):(n.resolve(),n.promise())},$3Q0:function(){var i=this,n=function(){for(var r,n=new Array(0),u=i.$Ux.$aU,f=u.length,t=0;t<f;++t)r=u[t],r.$BE&&n.push(r.$Un);if(!n.length){Microsoft.Crm.Client.Core.ViewModels.$Z.$169("No markers selected","You must select some markers to be saved.",1);return}Microsoft.Crm.Client.Core.ViewModels.$1q.$1zt(n,null).then(function(n){Microsoft.Crm.Client.Core.ViewModels.$Z.$169("Perf markers saved",n,0)},Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE)},t=this;Microsoft.Crm.Client.Core.ViewModels.$1q.$21U(!1).then(function(i){t.$1mD?n():(Microsoft.Crm.Client.Core.ViewModels.$Z.$169("Collector session started",i,0,n),t.$1mD=!0)},Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE)},$2hs:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1P6();this.$SU()},$SU:function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()},$2Vv:function(){this.$1jn();this.$Ux.$2Vv()},findMarkers:function(n){this.$1jn();n=n.toLowerCase();this.$Ux.$2rk(n)},$1jn:function(){this.set_OutputMessage("")},$3Q2:function(){var r=0,n=null,u=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$BB.$vA,t,i;for(t in u)i={key:t,value:u[t]},n||(n={}),n[i.key]=i.value,r++,r%100||(this.$1XH(n),n=null);n&&(this.$1XH(n),n=null);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$BB.$3Ky();Microsoft.Crm.Client.Core.ViewModels.$Z.$169("SQLite Performance Logging","Saved the SQLite performance data successfully!",0)},$1XH:function(n){var t=Sys.Serialization.JavaScriptSerializer.serialize(n);t&&t.length>0&&Microsoft.Crm.Client.Core.Framework.$2U.$1XH(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$BB.get_$WX(),t)}};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport=function(){};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.get_PerformanceBadgeEnabled=function(){return Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1x7};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2lq=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$kH.get_$2j6()||$(window).bind("PerformanceMarkerWhileSuspended",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$3GU)};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility=function(){var n,t;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2lq();Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$kH.get_$1Ao()?Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$kH.set_$1Ao(!1):(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Ul=!0,Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1XM=!1,n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$m(),n!==Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1tj?(t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$P0(),t.$18U.$3Ji().always(function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$kH.set_$1Ao(!0)}),Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1tj=n):Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$kH.set_$1Ao(!0))};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.EnablePerformanceBadge=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1x7=!0};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.SetCollectorServerUrl=function(n){Microsoft.Crm.Client.Core.ViewModels.$1q.set_$2iM(n)};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.get_$3AC=function(){return Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$kH.get_$1Ao()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$3GU=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1XM||(Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1XM=!0,Microsoft.Crm.Client.Core.ViewModels.$Z.$169("Lost perf markers","Performance markers were dropped because Report UI was open",1))};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1k6=function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$P0();return n.$17x.$1k6()};Microsoft.Crm.Client.Core.ViewModels.$Uo=function(){this.$$d_$3Pd=Function.createDelegate(this,this.$3Pd);this.$$d_$SU=Function.createDelegate(this,this.$SU);Microsoft.Crm.Client.Core.ViewModels.$Uo.initializeBase(this);var n=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$SU,"Close","close");n.set_CanExecute(!0);this.$vz=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$3Pd,"Run","Run");this.$G6.$2i(n);this.$G6.$2i(this.$vz);this.$Md=10};Microsoft.Crm.Client.Core.ViewModels.$Uo.prototype={$vz:null,$pT:null,$Md:0,$ap:!1,$X5:!1,$1aB:!1,$1PX:!1,get_CollectorServerUrl:function(){return Microsoft.Crm.Client.Core.ViewModels.$1q.$ko},get_IterationCount:function(){return this.$Md},set_IterationCount:function(n){return this.$Md!==n&&(this.$Md=n,this.$8("IterationCount")),n},get_RoundRobin:function(){return this.$ap},set_RoundRobin:function(n){return this.$ap!==n&&(this.$ap=n,this.$8("RoundRobin")),n},get_RecordMemory:function(){return this.$X5},set_RecordMemory:function(n){return this.$X5!==n&&(this.$X5=n,this.$8("RecordMemory")),n},get_ReactLogging:function(){return this.$1aB},set_ReactLogging:function(n){return this.$1aB!==n&&(this.$1aB=n,this.$8("ReactLogging")),n},get_ConstantLatency:function(){return this.$1PX},set_ConstantLatency:function(n){return this.$1PX!==n&&(this.$1PX=n,this.$8("ConstantLatency")),n},get_TestCases:function(){return $0.$1(this.$pT)&&(this.$pT=this.$2u8(),this.$vz.set_CanExecute(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_CollectorServerUrl()))),this.$pT},$2u8:function(){var n=new Array(0),h,c,l,i,f,e,v,r,t,w;if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k())this.$2cv(h={val:n}),n=h.val,this.$2cw(c={val:n}),n=c.val,this.$2cx(l={val:n}),n=l.val,this.$2cu(n);else{i={};for(var a=Microsoft.Crm.Client.Core.ViewModels.$3H.$XN.get_Items(),b=a.length,u=0;u<b;++u)f=a[u],"LogicalName"in f&&(i[f.LogicalName]=!0);e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$OW();v=[0,1,2,21,24,23,25];for(var y=v,k=y.length,o=0;o<k;++o){r=y[o];for(var p=e,d=p.length,s=0;s<d;++s)t=p[s],t.$d in i&&(r!==2||this.$2Bi(t))&&(r!==25||t.$1Ek)&&n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$29P(r,t))}n=this.$2tr(n,e,i);n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$YQ(3,"Sales Dashboard"));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$YQ(19,"Chart drilldown"));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$YQ(20,"Search form"));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$YQ(22,"List refresh"));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$YQ(6,"Offline Initial Sync"));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$YQ(7,"Offline Incremental Sync"));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$YQ(17,"Basic Load"));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$YQ(17,"Medium Load"));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$YQ(17,"Maximum Load"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("TaskBasedFlow")&&(n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$YQ(18,"Small TBX")),this.$2dm(w={val:n}),n=w.val)}return n},$2cw:function(n){n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Case Grid From NavBar",4..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Case From Grid",6..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Case Entity Dashboard",5..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Case From Entity Dashboard",7..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Account Grid From NavBar",0..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Account From Grid",2..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Account Entity Dashboard",1..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Account From Entity Dashboard",3..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Contact Grid From NavBar",8..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Contact From Grid",10..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Contact Entity Dashboard",9..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(10,"Open Contact From Entity Dashboard",11..toString()))},$2cu:function(n){n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Save Quick Create Case Form",0..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Open Child Case Form Command Bar",1..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Save Child Case Form Command Bar",2..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Interaction Wall Add Task",8..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Interaction Wall Apply Date Filter",9..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Interaction Wall Search Text",10..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Interaction Wall Search Filtered Text",11..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Case Reference Panel Entitlements",5..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Account Reference Panel Opportunities",3..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Account Reference Panel Entitlements",4..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Contact Reference Panel Opportunities",6..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Contact Reference Panel Entitlements",7..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Business Process Next Stage",12..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Resolve Case Cascade option",13..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Resolve Case No Cascade option",14..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(12,"Cancel Case Cascade option",15..toString()))},$2cx:function(n){n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(11,"Open Case Grid From NavBar",0..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(11,"Open Case From Grid",1..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(11,"Click Associative View Button",8..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(11,"Open Associative View Item",9..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(11,"Click Nav Bar Quick create ",3..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(11,"Open Quick Create Form",4..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(11,"Save Quick Create Form Account",5..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(11,"Save Quick Create Form Task",6..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(11,"Click Nav Bar Mru",2..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(11,"Open Records from Mru",7..toString()))},$2cv:function(n){n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(8,"Open Visual Filters",1..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(8,"Apply Pie Priority High",2..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(8,"Apply Date Range",0..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(8,"Global Filter Apply Priority",6..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(8,"Switch to Tiles View",4..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(8,"Open Quick Actions in Panel",10..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(8,"Entity Form from Queue Panel",3..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(8,"Back From Entity Form",9..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(8,"Switch to Panels View",5..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(9,"Select CSR2 Dashboard",7..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(9,"CSR2 Apply Date Range",0..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(9,"CSR2 Apply Pie Priority High",2..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(9,"CSR2 Global Filter Apply Priority",6..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(9,"CSR2 Open Tile Popup",8..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(9,"Open Quick Actions in Panel",10..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(9,"Entity Form from Queue Panel",3..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(9,"Back From Entity Form",9..toString()))},$2tr:function(n,t,i){var f,r;if(Xrm.Utility.isMocaOfflineFeatureEnabled())for(var o=[4,5,13,14,16,15],h=o.length,u=0;u<h;++u){f=o[u];for(var s=t,c=s.length,e=0;e<c;++e)r=s[e],r.$d in i&&r.$d in Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$4m.$LL&&(f!==4||this.$3A3(r))&&n.push(Microsoft.Crm.Client.Core.ViewModels.$o.$29P(f,r))}return n},$3Pd:function(){var i,n,t;this.$vz.set_CanExecute(!1);this.set_OutputMessage("Running "+this.$Md.toString()+" iterations of selected tests...\n");i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$CH();Microsoft.Crm.Client.Core.Framework.PerformanceMarker.set_$CH(!0);n=this;t=this;Microsoft.Crm.Client.Core.ViewModels.$1q.$21U(!0).then(function(t){n.set_OutputMessage(n.$aO+"Collector session: "+t+"\n");window.setTimeout(function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility();n.$1eY(!0);var t=new Microsoft.Crm.Client.Core.ViewModels.$Ll(n.get_TestCases(),n.$Md,n.$ap,n.$X5,function(t){n.set_OutputMessage(n.$aO+"\t"+t+"\n")});t.$3PS().always(function(){n.set_OutputMessage(n.$aO+"Run complete.");n.$vz.set_CanExecute(!0);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.set_$CH(i);n.$1eY(!1);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()})},1e3)},function(n){t.set_OutputMessage(t.$aO+"Error creating collector session: "+n.$E+"\n");t.$vz.set_CanExecute(!0)})},$SU:function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()},$2Bi:function(n){var t=n.$d,i=t==="activitypointer"||t==="socialactivity"||t==="socialprofile"||t==="queueitem"||t==="syncerror";return!i&&!n.$Ze},$3A3:function(n){return this.$2Bi(n)?!0:!1},$1eY:function(n){var t=window.document.getElementById("perfBadge");$0.$1(t)||(n?$(t).addClass("automationRunning"):$(t).removeClass("automationRunning"))},$2dm:function(n){var f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$36().$AK.$F,u=f,i,r,t;for(i in u)r={key:i,value:u[i]},Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(r.value)&&(t=r.value,t.$1z&&n.val.push(Microsoft.Crm.Client.Core.ViewModels.$o.$5B(18,t.$1D,t.$G)))}};Microsoft.Crm.Client.Core.ViewModels.$Ub=function(){Microsoft.Crm.Client.Core.ViewModels.$Ub.initializeBase(this);this.$18U=new Microsoft.Crm.Client.Core.ViewModels.$Up;this.$1MI=new Microsoft.Crm.Client.Core.ViewModels.$Ur;this.$17x=new Microsoft.Crm.Client.Core.ViewModels.$Uq;this.$1Kq=new Microsoft.Crm.Client.Core.ViewModels.$Uo;this.set_CurrentTab(0);this.set_Enabled(!1)};Microsoft.Crm.Client.Core.ViewModels.$Ub.prototype={$dn:0,$18U:null,get_PerformanceMarkersTab:function(){return this.$18U},set_PerformanceMarkersTab:function(n){return this.$18U=n,n},$1MI:null,get_PerformanceLocalStoreTab:function(){return this.$1MI},set_PerformanceLocalStoreTab:function(n){return this.$1MI=n,n},$17x:null,get_GlobalObjectsCountTab:function(){return this.$17x},set_GlobalObjectsCountTab:function(n){return this.$17x=n,n},$1Kq:null,get_AutomationTab:function(){return this.$1Kq},set_AutomationTab:function(n){return this.$1Kq=n,n},get_CurrentTab:function(){return this.$dn},set_CurrentTab:function(n){return n!==this.$dn&&(this.$dn=n,this.$8("CurrentTab")),n}};Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel.prototype={$1NB:null,get_ActionCommandName:function(){return this.$1NB},set_ActionCommandName:function(n){return this.$1NB=n,n},get_ShowSetRegardingButtonAsActionable:function(){return this.$1NB==="SetRegardingCommand"},updateFieldsVisibility:function(n){Microsoft.Crm.Client.Core.ViewModels.MailApp.$5X.$1rL(n.$F)},getSetRegardingButtonViewModel:function(n){var i,t;return!$0.$1(n.get_ModelContext())&&(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n.get_ModelContext().get_ModelName()),!$0.$1(i)&&i.$W9)?(t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M("SetRegardingButtonViewModel"),t.set_ModelContext(n.get_ModelContext()),t.$18(),t):null},openListItemInWeb:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenListItemInWebCommand"),i;t.InitializationParameters.TraceComponent=1011;t.InitializationParameters.SelectionState=this.$6a;t.InitializationParameters.ListItemViewModel=n;i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(n,t);i.execute()}};Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel=function(){this.$$d_$1UN=Function.createDelegate(this,this.$1UN);Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel.prototype={$1cm:!1,$Sg:"",$1v0:null,get_CurrentSelectedValue:function(){return this.$Sg},set_CurrentSelectedValue:function(n){if(this.$Sg!==n)if(this.$xv){if(this.$xv){n!=="EllipsesComponent"?(this.$Sg=n,this.set_ShouldDisplayPopout(!1)):this.set_ShouldDisplayPopout(!this.$1cm);this.$2XH(this.$Sg);this.$2pa(n);var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e(this.$Sg);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,t)}}else this.$Sg=n,this.$2XH(n);return n},$18:function(){this.$2XI(this.$Sg);this.$xv&&this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN)},$2pa:function(n){var t,i;Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P&&(t=Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$32y(n),t&&t.get_Count()>0&&(i=new Microsoft.Crm.Client.Core.Models.$JM(t,null),i.details=new Microsoft.Crm.Client.Core.Models.$JI(2,n),Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$BX(i)))},$1UN:function(n){this.set_CurrentSelectedValue(n.$Y1)},$2XH:function(n){this.$2XI(n);this.$8("CurrentSelectedValue")},get_ShouldDisplayPopout:function(){return this.$1cm},set_ShouldDisplayPopout:function(n){return this.$1cm=n,this.$8("CurrentSelectedValue"),n},get_NameAttribute:function(){return this.$1v0},set_NameAttribute:function(n){return this.$1v0=n,n},$xv:!1,get_IsInteractionCentricFormTabNavigator:function(){return this.$xv},set_IsInteractionCentricFormTabNavigator:function(n){return this.$xv=n,n},get_GetMaxTabNamesToDisplay:function(){return 5},$2XI:function(){var i=this.$F,t,r,n;for(t in i)r={key:t,value:i[t]},n=r.value,n.$An===this.$Sg?(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("SwitchViewClicked",0,this.get_ViewModelId()),n.set_IsChecked(!0)):n.set_IsChecked(!1)},$GX:function(){this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel.prototype={$1Ec:!1,$An:null,$10L:!0,$6Y:null,$21l:null,get_IsChecked:function(){return this.$1Ec},set_IsChecked:function(n){return this.$1Ec!==n&&(this.$1Ec=n,this.$8("IsChecked")),n},get_Value:function(){return this.$An},set_Value:function(n){return this.$An=n,n},get_Title:function(){return this.$6Y},set_Title:function(n){return this.$6Y=n,n},get_DisplayLabel:function(){return this.$10L},set_DisplayLabel:function(n){return this.$10L=n,n},get_SymbolName:function(){return this.$21l},set_SymbolName:function(n){return this.$21l=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Dx=function(){Microsoft.Crm.Client.Core.ViewModels.$Dx.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Dx.prototype={$1g3:0,get_ImageType:function(){return this.$1g3},set_ImageType:function(n){return this.$1g3=n,n},$1g2:null,get_ImageName:function(){return this.$1g2},set_ImageName:function(n){return this.$1g2=n,n},$1gR:null,get_LabelClassName:function(){return this.$1gR},set_LabelClassName:function(n){return this.$1gR=n,n}};Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel=function(){this.get_AttributeMetadata=this.get_$1O4;this.set_AttributeMetadata=this.set_$1O4;Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.prototype={$54:null,$1r:null,$LZ:null,$Pf:!1,get_SetActionable:function(){return this.$Pf},set_SetActionable:function(n){return this.$Pf=n,n},$1fC:null,get_ActionProvider:function(){return this.$1fC},set_ActionProvider:function(n){return this.$1fC=n,n},$18h:null,get_RetrieveOptions:function(){return this.$18h},set_RetrieveOptions:function(n){return this.$18h=n,n},$EA:null,get_RecordId:function(){return this.$EA},set_RecordId:function(n){return this.$EA=n,n},get_AttributeFieldNames:function(){return this.$54},set_AttributeFieldNames:function(n){return this.$54=n,this.$8("AttributeFieldNames"),n},get_$1O4:function(){return this.$1r},set_$1O4:function(n){return n!==this.$1r&&(this.$1r=n,this.$8("AttributeMetadata")),n},$qk:!1,get_Rerender:function(){return this.$qk},set_Rerender:function(n){return this.$qk=n,n},$160:function(){},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$18.call(this),this.$Pf=!0,this.RefreshQuickViewFormData())},$GX:function(){this.$54=null;this.$1r=null;this.$LZ=null;this.$EA=null;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$GX.call(this)},$2go:function(n,t){return t},RefreshQuickViewFormData:function(){if(!$0.$1(this.$54)){if($0.$1(this.$EA))return;var n=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("QuickViewFormFetchData",null)),t=n.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t)}},$Fw:function(n){var u=Microsoft.Crm.Client.Core.Models.$O.$B(n),t,i,f,r;this.set_ModelContext(u);t=this.$F;for(i in t)f={key:i,value:t[i]},f.value.set_ModelContext(u);this.$Pf&&(this.$8("Rerender"),this.$Pf=!1);r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentric.InteractionCentricQuickViewForm.InitializeListComponentModelForChildren");r.start();this.$2LO(this.$F);r.stop();this.$Cg("OnLoadModelCompleted");this.$X6()},$9B:function(){},$2LO:function(n){var i,r,t;if(!$0.$1(n)){i=n;for(r in i){if(t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(t.value)){t.value.$xx=!0;return}Microsoft.Crm.Client.Core.ViewModels.$2Z.isInstanceOfType(t.value)&&this.$2LO(t.value.$F)}}}};Microsoft.Crm.Client.Core.ViewModels.$7J=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$7J.initializeBase(this);this.$E0=n;this.$66=t;this.$2V=i;this.$2G=r;this.controls=new Xrm.XrmControls;var u=r.split(":");this.$d=u.length===2?u[1]:r};Microsoft.Crm.Client.Core.ViewModels.$7J.$28g=function(n){switch(n){case 2:case 1:return"required";case 3:return"recommended";case 0:return"none";default:return"unknown"}};Microsoft.Crm.Client.Core.ViewModels.$7J.prototype={$d:null,$1P:null,$E0:null,$66:null,$2V:null,$2G:null,$1Q8:-1,get_$9s:function(){if(Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$E0.get_$1K())){var n=this.$E0.get_$1K();this.$1P=n.$1DD(this.$2G)}else this.$1P=this.$E0.get_$1K();return this.$1P},$3Nd:function(){this.$1P=null},$mX:function(){return this},addOnChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$19W(this.$2G,n)},removeOnChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$1yV(this.$2G,n)},getValue:function(){return this.get_$9s().GetValue(this.getName()+Microsoft.Crm.Client.Core.Framework.$b.$6m)},$2M2:function(){return!$0.$1(this.$E0.$120)&&Array.indexOf(this.$E0.$120,this.getName())>=0},setValue:function(n){var t=this.getUserPrivilege(),u=$0.$1(t)?!0:t.canCreate,f=$0.$1(t)?!0:t.canUpdate,r,i;if(Microsoft.Crm.Client.Core.ViewModels.$7W.isInstanceOfType(this.$E0)&&this.$E0.$2go(u,f)||!Microsoft.Crm.Client.Core.ViewModels.$7W.isInstanceOfType(this.$E0)&&t.canUpdate)try{r=Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$12h;Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P&&r&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$2B3(this.$2G);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$12h=!0;this.get_$9s().$1cX();i=this.controls.get(0);$0.$1(i)||$0.$1(i.get_$9u())?this.$2M2()&&this.get_$9s().SetValue(this.getName(),n):this.$38b(n,i);this.get_$9s().$1aa();Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$1mP(this.$2G)}finally{Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$1mP(this.$2G);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$12h=!0}},$38b:function(n,t){var i=this.get_$9s().get_$1jU().contains(this.getName());Microsoft.Crm.Client.Core.ViewModels.$4L.isInstanceOfType(t.get_$9u())?t.get_$9u().set_Value(n):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.isInstanceOfType(t.get_$9u())?t.get_$9u().$3XF(n):t.get_$9u().set_Data(n);this.$E0.get_IsLocked()&&!i&&this.get_$9s().get_$1jU().remove(this.getName())},getRequiredLevel:function(){var n="unknown",t;if(!this.controls.getLength()){if(this.$1Q8!==-1)return Microsoft.Crm.Client.Core.ViewModels.$7J.$28g(this.$1Q8);switch(this.$2V.get_$UC()){case"applicationRequired":case"systemRequired":return"required";case"recommended":return"recommended";case"none":return"none";default:return"unknown"}}return Microsoft.Crm.Client.Core.ViewModels.$83.isInstanceOfType(this.controls.get(0).get_$9u())&&(t=this.controls.get(0).get_$9u().get_$UC(),n=Microsoft.Crm.Client.Core.ViewModels.$7J.$28g(t)),n},getAttributeType:function(){return $0.$1(this.$2V)?"unknown":Xrm.Objects.AttributeType.toString(this.$2V.get_$rF()).toLowerCase()},getKey:function(){return this.getName()},getName:function(){return this.$d},getFormat:function(){return!$0.$1(this.$2V)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$2V.get_$MN())?this.$2V.get_$MN().toLowerCase():null},getIsDirty:function(){return Microsoft.Crm.Client.Core.Models.$z.isInstanceOfType(this.get_$9s())?this.get_$9s().get_$1jU().contains(this.getName()):!1},getIsValid:function(){var n=!0,t=this;return this.controls.forEach(function(t){$0.$1(t)||$0.$1(t.get_$9u())||t.get_$9u().get_$WK()||(n=!1)}),n},fireOnChange:function(){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1ba(null,this.$2G)},getParent:function(){return this.$66},getSubmitMode:function(){return this.$E0.$o===12?null:this.get_$9s().$bC.$2j0(this.getName())?this.get_$9s().$bC.get_$I(this.getName()):this.$66.$1Pc===1&&!this.$2V.get_$1tL()||this.$66.$1Pc===2&&!this.$2V.get_$1tN()?"never":"dirty"},resetInitialValue:function(){},setSubmitMode:function(n){if(this.$E0.$o!==12&&(n==="always"||n==="never"||n==="dirty")){this.get_$9s().$bC.set_$I(this.getName(),n);var t=this.get_$9s().get_$1jU();if(n==="never"&&t.contains(this.getName())){t.remove(this.getName());return}n!=="always"||t.contains(this.getName())||t.add(this.getName())}},setRequiredLevel:function(n){var t,f,i,r,u;switch(n){case"none":t=0;break;case"recommended":t=3;break;case"required":t=2;break;default:return}this.$1Q8=t;f=this;this.controls.forEach(function(n){n.get_$9u().set_$UC(t);Microsoft.Crm.Client.Core.ViewModels.$83.isInstanceOfType(n.get_$1aD())&&n.get_$1aD().set_$UC(t)});i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$66.$2.$J);$0.$1(i)||this.getName()!==i.$5e||(r=this.$E0.$F.HeaderGroup,$0.$1(r)||(u=r.$F.primaryAttribute,$0.$1(u)||u.set_RequiredLevel(t)))},getUserPrivilege:function(){if(this.$E0.$o===12)return null;var n=this.get_$9s().$M;return new Xrm.FormDataAttributePrivilege(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1DF(this.$2V.$1r,n))}};Microsoft.Crm.Client.Core.ViewModels.$Tl=function(n,t,i,r){this.$ak=this.resetInitial;this.$1Iv=this.setVisibleFromParentSection;this.$1qJ=this.getFocus;this.$20j=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$Tl.initializeBase(this);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TQ(n,t,i,r);this.$4h=n};Microsoft.Crm.Client.Core.ViewModels.$Tl.prototype={$W:null,$4h:null,getControlType:function(){return"acicontrol"},setVisibleFromParentSection:function(n){this.$W.$1Iv(n)},getFocus:function(){return this.$W.$1qJ()},setHasFocus:function(n){this.$W.$20j(n)},loadWidget:function(){this.$4h.$3CK()},setParameter:function(n,t){this.$4h.$1Is(n,t)},clearNotification:function(n){return this.$W.clearNotification(n)},clearNotifications:function(){return this.$W.clearNotifications()},getParent:function(){return this.$W.getParent()},setNotification:function(n,t){return this.$W.setNotification(n,t)},addNotification:function(n){return this.$W.addNotification(n)},setFocus:function(){this.$W.setFocus()},getLabel:function(){return this.$W.getLabel()},getName:function(){return this.$W.getName()},getVisible:function(){return this.$W.getVisible()},setLabel:function(n){this.$W.setLabel(n)},setVisible:function(n){this.$W.setVisible(n)},resetInitial:function(){this.$W.$ak()}};Microsoft.Crm.Client.Core.ViewModels.$Cl=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Cl.initializeBase(this);this.$Y=new Microsoft.Crm.Client.Core.ViewModels.$7J(n,t,i,r);this.controls=this.$Y.controls};Microsoft.Crm.Client.Core.ViewModels.$Cl.prototype={$Y:null,$mX:function(){return this.$Y},getInitialValue:function(){return!$0.$1(this.$Y.$2V)&&this.$Y.$2V.get_$1BM()!==-1?this.$Y.$2V.get_$1BM():0},getOption:function(n){if($0.$28(n))return null;if(!$0.$1(this.$Y.$2V)){var t=this.$Y.$2V.$Mw.$2f.get_$I(n.toString());if(!$0.$1(t))return new Xrm.OptionSetItem(t.get_$2O(),t.get_$DL())}return null},getOptions:function(){var n,u,t;if(!$0.$1(this.$Y.$2V)){var f=this.$Y.$2V.$Mw.$2f.$1e4(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.OptionSetItem)),r=f;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Xrm.OptionSetItem(t.get_$2O(),t.get_$DL()));return i.toArray()}return null},getSelectedOption:function(){var n,t;return!$0.$1(this.$Y.get_$9s())&&(n=this.$Y.get_$9s().GetValue(this.getName()),!$0.$1(n))?(t=new Microsoft.Crm.Client.Core.Models.$Jg(n),new Xrm.OptionSetItem(t.get_$2O(),t.get_$DL())):null},getText:function(){if(!$0.$1(this.$Y.get_$9s())){var n=this.$Y.get_$9s().GetValue(this.getName());if(!$0.$1(n))return n.get_Label()}return""},getValue:function(){if(!$0.$1(this.$Y.get_$9s())){var n=this.$Y.get_$9s().GetValue(this.getName());return!$0.$1(n)&&Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(n)?n.$1i===1:n}return null},setValue:function(n){var i,t,r;if($0.$1(n)){this.$Y.setValue(n);return}Boolean.isInstanceOfType(n)&&(i=n?1:0,t=this.$Y.$2V.$Mw.$2f.get_$I(i.toString()),$0.$1(t)||(r=new Microsoft.Crm.Client.Core.ViewModels.$Cs(t.get_$2O().toString(),t.get_$DL()),this.$Y.setValue(r)))},addOnChange:function(n){this.$Y.addOnChange(n)},fireOnChange:function(){this.$Y.fireOnChange()},getAttributeType:function(){return this.$Y.getAttributeType()},getFormat:function(){return this.$Y.getFormat()},getIsDirty:function(){return this.$Y.getIsDirty()},getIsValid:function(){return this.$Y.getIsValid()},getName:function(){return this.$Y.getName()},getKey:function(){return this.$Y.getKey()},getParent:function(){return this.$Y.getParent()},getRequiredLevel:function(){return this.$Y.getRequiredLevel()},getSubmitMode:function(){return this.$Y.getSubmitMode()},getUserPrivilege:function(){return this.$Y.getUserPrivilege()},removeOnChange:function(n){this.$Y.removeOnChange(n)},resetInitialValue:function(n){this.$Y.resetInitialValue(n)},setRequiredLevel:function(n){this.$Y.setRequiredLevel(n)},setSubmitMode:function(n){this.$Y.setSubmitMode(n)}};Microsoft.Crm.Client.Core.ViewModels.$Sr=function(n,t,i,r){this.$Rh=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$Iv();this.$Fa=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$En();Microsoft.Crm.Client.Core.ViewModels.$Sr.initializeBase(this);this.$Y=new Microsoft.Crm.Client.Core.ViewModels.$Sr.$3cV(n,t,i,r);this.controls=this.$Y.controls};Microsoft.Crm.Client.Core.ViewModels.$Sr.prototype={$Y:null,$mX:function(){return this.$Y},getFormat:function(){if(!$0.$1(this.$Y.$2V))switch(this.$Y.$2V.get_$MN()){case"DateAndTime":return"datetime";case"DateOnly":return"date";default:return null}return null},getUtcValue:function(){var n=this.getValue();return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$Fr(n)&&(n=Microsoft.Crm.Client.Core.Framework.$m.$Q9(n,this.$Rh,this.$Y.$2V.$1r.$Bc,this.$Fa)),n},setUtcValue:function(n){Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$Fr(n)&&(n=Microsoft.Crm.Client.Core.Framework.$m.$H2(n,this.$Rh,this.$Y.$2V.$1r.$Bc,this.$Fa));this.setValue(n)},getValue:function(){var n=this.$Y.getValue();return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$Fr(n)&&(n=Microsoft.Crm.Client.Core.Framework.$m.$H2(n,this.$Rh,this.$Y.$2V.$1r.$Bc,this.$Fa)),n},setMin:function(n){var t=this;this.controls.forEach(function(t){Microsoft.Crm.Client.Core.ViewModels.$8s.isInstanceOfType(t.get_$9u())&&(Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$Fr(n)||$0.$1(n))&&t.get_$9u().set_MinDate(n)})},addOnChange:function(n){this.$Y.addOnChange(n)},fireOnChange:function(){this.$Y.fireOnChange()},getAttributeType:function(){return this.$Y.getAttributeType()},getIsDirty:function(){return this.$Y.getIsDirty()},getIsValid:function(){return this.$Y.getIsValid()},getName:function(){return this.$Y.getName()},getKey:function(){return this.$Y.getKey()},getParent:function(){return this.$Y.getParent()},getRequiredLevel:function(){return this.$Y.getRequiredLevel()},getSubmitMode:function(){return this.$Y.getSubmitMode()},getUserPrivilege:function(){return this.$Y.getUserPrivilege()},removeOnChange:function(n){this.$Y.removeOnChange(n)},resetInitialValue:function(n){this.$Y.resetInitialValue(n)},setRequiredLevel:function(n){this.$Y.setRequiredLevel(n)},setSubmitMode:function(n){this.$Y.setSubmitMode(n)},setValue:function(n){this.$Y.setValue(n)}};Microsoft.Crm.Client.Core.ViewModels.$Sr.$3cV=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Sr.$3cV.initializeBase(this,[n,t,i,r])};Microsoft.Crm.Client.Core.ViewModels.$Sr.$3cV.prototype={$38b:function(n,t){(Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$Fr(n)||$0.$1(n))&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Do.isInstanceOfType(t.get_$9u())&&t.get_$9u().set_$1QI(n)}};Microsoft.Crm.Client.Core.ViewModels.ClientApiManager=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$3)&&(Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$3=new Microsoft.Crm.Client.Core.ViewModels.ClientApiManager),Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$3};Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.prototype={$Aj:function(n,t){var i=n.$13;$0.$1(i)&&(n.$13=new Xrm.$Cc);this.$2C4(n)&&(Microsoft.Crm.Client.Core.ViewModels.$2q.$Aj(n,t),Microsoft.Crm.Client.Core.ViewModels.$59.$Aj(n))},$2T7:function(n,t){var u=n.$2,r,f,i;if(!$0.$1(u)){if((Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!t.IsApiRegistered&&Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(n)&&n.$2.$o===13&&n.$2.$to){r=u.$13;$0.$1(r)||($0.$1(r.ui)&&Microsoft.Crm.Client.Core.ViewModels.$59.$Aj(u),$0.$1(r.ui.controls)&&(r.ui.controls=new Xrm.XrmControls),f=new Microsoft.Crm.Client.Core.ViewModels.$U8(n,"crmGrid","","","GridContainer"),$0.$1(f)||r.ui.controls.add(f));return}if(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiCustomControlDescriptor.isInstanceOfType(t.ApiDescriptor)&&t.ApiDescriptor.ParentIsCustomControl){$0.$1(t.ApiDescriptor.ParentName)&&(t.ApiDescriptor.ParentName=u.$6F(n).get_Name());this.$2T8(n,t);return}i=u.$13;$0.$1(i)||($0.$1(i.data)||(t.ApiDescriptor.ControlType===8&&i.data.$2TA(n),t.ApiDescriptor.ControlType===9&&i.data.$1aS(n),i.data.$1yE(t)),i.ui.$3Lk(n,t))}},$3WM:function(n,t){var i,r;$0.$1(n)||(i=n.$13,$0.$1(i)||$0.$1(i.ui)||$0.$1(i.ui.controls)||(r=i.ui.controls.get(t),$0.$1(r)||i.ui.controls.remove(r)))},$2T8:function(n,t){var r=n.$2,i;$0.$1(r)||(i=r.$13,$0.$1(i)||$0.$1(i.ui)||i.ui.$2T8(n,t))},$ak:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();n.ui.$ak()},$2C4:function(n){for(var r,i=Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$27i,u=i.length,t=0;t<u;++t)if(r=i[t],r.isInstanceOfType(n))return!0;return!1}};Microsoft.Crm.Client.Core.ViewModels.$TU=function(n,t,i,r,u){this.$1qJ=this.getFocus;this.$20j=this.setHasFocus;this.$ak=this.resetInitial;Microsoft.Crm.Client.Core.ViewModels.$TU.initializeBase(this);this.$7M=i;this.$Il=r;this.$7L(n,t);this.$66=u;this.$2=n.$2;this.$Cs=new Microsoft.Crm.Client.Core.ViewModels.$LV;$0.$1(u)||$0.$1(u.getParent())||(this.$1x0=u.getParent().getName())};Microsoft.Crm.Client.Core.ViewModels.$TU.prototype={$7M:null,$2l:null,$17:null,$Il:null,$1x0:null,$66:null,$2:null,$Cs:null,get_$U7:function(){return this.$Il},get_$9u:function(){return this.$17},get_$1aD:function(){return this.$2l},$7L:function(n,t){t?this.$17=n:this.$2l=n},resetInitial:function(){!$0.$1(this.$2l)&&Microsoft.Crm.Client.Core.ViewModels.$2r.isInstanceOfType(this.$2l)&&this.$2l.$UD();!$0.$1(this.$17)&&Microsoft.Crm.Client.Core.ViewModels.$2r.isInstanceOfType(this.$17)&&this.$17.$UD()},getAttribute:function(){var r;if(!$0.$1(this.$2)&&!$0.$1(this.$2.$13)&&!$0.$1(this.$2.$13.data)){var n=this.$2.$13.data.entity,i=this.$Il,t=this.$Il.split(":");if(t.length===2&&(r=t[0],i=t[1],n=this.$2.$13.data.entity.relatedEntities.getByName(r)),!$0.$1(n))return n.attributes.get(i)}return null},getControlType:function(){return"standard"},getDisabled:function(){return!$0.$1(this.$2l)&&this.$2l.get_Enabled()?!1:!0},getLabel:function(){return $0.$1(this.$17)?this.$2l.$1D:this.$17.$1D},getName:function(){return this.$7M},getParent:function(){return this.$66},getVisible:function(){return!$0.$1(this.$17)&&this.$17.$1z||!$0.$1(this.$2l)&&this.$2l.$1z?!0:!1},setDisabled:function(n){$0.$1(this.$17)||(this.$17.set_Enabled(!n),this.$17.$1El=!0);$0.$1(this.$2l)||(this.$2l.set_Enabled(!n),this.$2l.$1El=!0)},validateControl:function(n){var t,i,u,o,f,s;if($0.$1(n))return!1;t=null;for(var e=this.$Cs.getNotifications(null),h=e.length,r=0;r<h;++r){if(i=e[r],i.notificationLevel!=="ERROR"){t=i;continue}if(i.messages.length)return u=i.messages[0],o=u?u.toString():new String,n.set_$Om(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,o,i.uniqueId,"ERROR")),n.set_$14y(null),!1}return $0.$1(t)?n.set_$Om(null):(f=t.messages[0],s=f?f.toString():new String,n.set_$Om(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!0,null,s,t.uniqueId,"RECOMMENDATION")),n.set_$14y(t)),!0},setFocus:function(){var n,t;this.$2.$13.ui.removeCurrentControlFocus();Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()&&(n=this.getParent(),$0.$1(n)||(t=n.getParent(),$0.$1(t)||t.setFocus()));this.setHasFocus(!0)},setLabel:function(n){$0.$1(this.$17)||this.$17.set_Label(n);$0.$1(this.$2l)||this.$2l.set_Label(n)},setVisible:function(n){$0.$1(this.$17)||this.$17.set_Visible(n);$0.$1(this.$2l)||this.$2l.set_Visible(n)},setNotification:function(n,t){if(Microsoft.Crm.Client.Core.Framework.$3.$1O(n))return!1;var i=new Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification("ERROR",n,t);return this.addNotification(i)},addNotification:function(n){return $0.$1(n)||!Microsoft.Crm.Client.Core.ViewModels.$3Y.isInstanceOfType(this.$17)?!1:(this.$Cs.addNotification(n),this.validateControl(this.$17),!0)},clearNotification:function(n){return Microsoft.Crm.Client.Core.ViewModels.$3Y.isInstanceOfType(this.$17)?Microsoft.Crm.Client.Core.Framework.$3.$1O(n)?this.clearNotifications():this.$Cs.clearNotification(n)?(this.validateControl(this.$17),!0):!1:!1},clearNotifications:function(){return Microsoft.Crm.Client.Core.ViewModels.$3Y.isInstanceOfType(this.$17)?this.$Cs.clearNotifications()?(this.validateControl(this.$17),!0):!1:!1},getData:function(){return null},setData:function(){},getFocus:function(){return!$0.$1(this.$17)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$17)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2l)?this.$17.get_HasFocus()||this.$2l.get_HasFocus():!$0.$1(this.$17)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$17)?this.$17.get_HasFocus():Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2l)?this.$2l.get_HasFocus():!1},setHasFocus:function(n){if(!$0.$1(this.$17)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$17)){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e(this.$1x0);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,t)}this.$17.set_HasFocus(n)}Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2l)&&this.$2l.set_HasFocus(n)}};Microsoft.Crm.Client.Core.ViewModels.$TV=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$TV.initializeBase(this);this.$22=n;this.$Y=t};Microsoft.Crm.Client.Core.ViewModels.$TV.prototype={$22:null,$Y:null,$JH:null,$lE:null,$lD:null,get_$7A:function(){if($0.$1(this.$JH)){var n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$tP(this.$22.$2,this.$22);$0.$1(n)||$0.$1(n.$3P)||(this.$JH=n.$3P)}return this.$JH},get_$Au:function(){if($0.$1(this.$lE)&&!$0.$1(this.get_$7A())&&!$0.$1(this.get_$7A().$14)&&!$0.$1(this.get_$7A().$14.$DV)&&!$0.$1(this.get_$7A().$14.$DV.getSelectedRecord())){var n=this.get_$7A().$14.$DV;this.$lE=n.getSelectedRecord()}return this.$lE},get_$I9:function(){var i,t;if($0.$1(this.$lD)&&!$0.$1(this.get_$7A())&&!$0.$1(this.get_$7A().$14)&&!$0.$1(this.get_$7A().$14.$DV)&&!$0.$1(this.get_$7A().$14.$DV.$y)){i=this.get_$7A().$14.$DV;for(var r=i.$y.$EE,u=r.length,n=0;n<u;++n)if(t=r[n],t.name===this.$Y.getName()){this.$lD=t;break}}return this.$lD},getLabel:function(){var n="";return $0.$1(this.get_$I9())||(n=this.get_$I9().displayName),n},getName:function(){return this.$Y.getName()},getVisible:function(){return!0},setLabel:function(){},setVisible:function(){},clearNotification:function(){return $0.$1(this.get_$Au())?!1:(this.get_$Au().clearFieldErrorMessage(this.$Y.getName()),!0)},clearNotifications:function(){return this.clearNotification("")},getControlType:function(){return"GridCell"},getParent:function(){return null},setNotification:function(n){return $0.$1(this.get_$Au())?!1:(this.get_$Au().setFieldErrorMessage(this.$Y.getName(),n),!0)},addNotification:function(n){if($0.$1(n)||$0.$1(n.messages)||!n.messages.length)return!1;var t=n.messages[0],i=t?t.toString():new String;return this.setNotification(i,"")},setFocus:function(){},getAttribute:function(){return this.$Y},getDisabled:function(){var n=!0,t;return $0.$1(this.get_$Au())||(t=this.get_$Au().getFieldEditableProperty(this.$Y.getName()),t&&(n=!1)),n},setDisabled:function(n){$0.$1(this.get_$Au())||this.get_$Au().setFieldEditableProperty(this.$Y.getName(),!n)}};Microsoft.Crm.Client.Core.ViewModels.$Lp=function(){};Microsoft.Crm.Client.Core.ViewModels.$Lp.prototype={getExecutionContext:function(n,t,i){var u=null,f=null,r,e,o;if(!$0.$1(n.details)){r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();switch(n.details.$1E3){case 0:t=t>0?t-1:t;u=r.ui;f=r;break;case 1:u=r.data.entity;f=r;break;case 2:e=$0.$1(n.details.$Vg)?null:n.details.$Vg.split(":");$0.$1(e)||e.length!==3?(u=r.getAttribute(n.details.$Vg),f=r):(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!$0.$1(r.getControl(e[0]))?(u=r.getControl(e[0]).getGrid().getSelectedRows().get(0).getData().entity.attributes.get(e[2]),f=r.getControl(e[0]).getGrid().getSelectedRows().get(0)):(u=r.getAttribute(n.details.$Vg),f=r);break;case 13:case 12:o=$0.$1(n.details.$Vg)?null:n.details.$Vg.split(":");$0.$1(o)||o.length!==2||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!$0.$1(r.getControl(o[0]))&&(u=r.getControl(o[0]).getGrid().getSelectedRows().get(0).getData().entity,f=r.getControl(o[0]).getGrid().getSelectedRows().get(0))}}return new Xrm.ExecutionContext(u,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J().context,t,n.eventArgs,i,f)}};Microsoft.Crm.Client.Core.ViewModels.$UJ=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$UJ.initializeBase(this);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TU(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$UJ.prototype={$W:null,get_$U7:function(){return this.$W.$Il},get_$9u:function(){return this.$W.$17},get_$1aD:function(){return this.$W.$2l},$7L:function(n,t){this.$W.$7L(n,t)},$ak:function(){this.$W.resetInitial()},getShowTime:function(){return this.$W.$17.get_ShowTime()},getIsAllDay:function(){return Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$W.$2)?!1:this.$W.$17.$M3},setShowTime:function(n){this.$W.$17.set_ShowTime(n)},setIsAllDay:function(n){Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$W.$2)||this.$W.$17.set_AllDayDisplay(n)},getAttribute:function(){return this.$W.getAttribute()},getDisabled:function(){return this.$W.getDisabled()},setDisabled:function(n){this.$W.setDisabled(n)},clearNotification:function(n){return this.$W.clearNotification(n)},clearNotifications:function(){return this.$W.clearNotifications()},getControlType:function(){return this.$W.getControlType()},getParent:function(){return this.$W.getParent()},setNotification:function(n,t){return this.$W.setNotification(n,t)},addNotification:function(n){return this.$W.addNotification(n)},setFocus:function(){this.$W.setFocus()},getLabel:function(){return this.$W.getLabel()},getName:function(){return this.$W.getName()},getVisible:function(){return this.$W.getVisible()},setLabel:function(n){this.$W.setLabel(n)},setVisible:function(n){this.$W.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$Pp=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Pp.initializeBase(this);this.$8D=n;this.$7M=t};Microsoft.Crm.Client.Core.ViewModels.$Pp.prototype={$8D:null,$7M:null,getLabel:function(){return this.$8D.$1D},getName:function(){return this.$7M},getVisible:function(){return this.$8D.$1z},setVisible:function(n){this.$8D.set_Visible(n)},setLabel:function(n){this.$8D.set_Label(n)}};Microsoft.Crm.Client.Core.ViewModels.$4K=function(n,t){this.$$d_$1w1=Function.createDelegate(this,this.$1w1);this.$$d_$3G5=Function.createDelegate(this,this.$3G5);this.$$d_$3O8=Function.createDelegate(this,this.$3O8);this.$$d_$37y=Function.createDelegate(this,this.$37y);this.$$d_$2UG=Function.createDelegate(this,this.$2UG);this.$la=new Microsoft.Crm.Client.Core.Framework.Common.$PX;this.relatedEntitiesInternal=new Xrm.XrmRelatedEntities;this.dispose=this.$6D;Microsoft.Crm.Client.Core.ViewModels.$4K.initializeBase(this);this.$2=n;this.$1Pc=t;Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(n)||(this.$2.AddPropertyChangedListener("PrimaryModelName",this.$$d_$2UG),this.$2.AddPropertyChangedListener("AttributeFieldNames",this.$$d_$2UG),this.$1uf=new Microsoft.Crm.Client.Core.ViewModels.$M(this.$2,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null)));this.attributes=new Xrm.XrmEntityAttributes;this.$1r={};this.$ve=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiDescriptor));this.$vd={};this.$2.AddPropertyChangedListener("MultipleEntityAttributeFormModelUpdate",this.$$d_$37y)};Microsoft.Crm.Client.Core.ViewModels.$4K.$1be=function(n,t){t.$o===5||t.$o===40&&t.$7s===1?Microsoft.Crm.Client.Core.ViewModels.$4D.$Ao.$2VM(n,t):(t.$o===2||t.$o===40||t.$o===39)&&Microsoft.Crm.Client.Core.ViewModels.$4K.$3Pp(n,t)};Microsoft.Crm.Client.Core.ViewModels.$4K.$3Pp=function(n,t){var i=1,r,u;if(t.$o===39)t.$Iw(i,!0);else{switch(n){case"saveandnew":i=59;break;case"saveandclose":i=2;break;default:r=t.$13;u=r.context.saveMode;$0.$1(u)||u===-1||(i=r.context.saveMode)}t.$Iw(i).done(function(n){if(n)Microsoft.Crm.Client.Core.ViewModels.$4K.$2KL(i,t);else if(i===59||i===2){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Object);t.$dH(r,"Web._forms.styles.FORM.crm.htc_Title");r.done(function(n){n&&Microsoft.Crm.Client.Core.ViewModels.$4K.$2KL(i,t)})}})}};Microsoft.Crm.Client.Core.ViewModels.$4K.$2KL=function(n,t){switch(n){case 59:Xrm.Utility.openEntityForm(t.$J);break;case 2:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rI().execute()}};Microsoft.Crm.Client.Core.ViewModels.$4K.prototype={$3w:!1,$1uf:null,$1Xa:!1,$2:null,$1r:null,$ve:null,$vd:null,$1Pc:0,get_$2of:function(){return this.$2.$J},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(this.$2)?this.$3O7(null,null):this.$2UG(null,null)},$x5:null,addOnSave:function(n){($0.$1(this.$2)||this.$2.$o!==12)&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$1NS(n)},getDataXml:function(){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){var n=this.$2.get_$1K();return Xrm.Soap.EntityRecordSerializer.$3Vj(n.$M,!0)}return null},removeOnSave:function(n){($0.$1(this.$2)||this.$2.$o!==12)&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$1yW(n)},getEntityName:function(){return!$0.$1(this.$2)&&this.$2.$o!==12?this.$2.$J:""},getId:function(){var n,t;if(!$0.$1(this.$2)&&this.$2.$o!==12){if(this.$2.$o===40)if(n=null,$0.$1(this.$2.$Q.$T)){if(!$0.$1(this.$2.$Q.$AZ)&&(t=this.$2.$Q.$AZ,!$0.$1(t.$Q)&&!$0.$1(t.$Q.$T)&&(n=t.$Q.$T.OverriddenEntityId,!$0.$1(n))))return delete t.$Q.$T.OverriddenEntityId,n}else if(n=this.$2.$Q.$T.OverriddenEntityId,!$0.$1(n))return delete this.$2.$Q.$T.OverriddenEntityId,n;return Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(this.$2.get_$1K().get_Id())}return""},setRecordId:function(n){var i,t,r;Microsoft.Crm.Client.Core.Framework.Guid.$9(Xrm.Page.data.entity.getId())&&($0.$1(this.$2)||this.$2.$o===12||(i=this.$2.get_$1K(),$0.$1(i)||(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$2.$J),$0.$1(t)||(r=Xrm.Page.getAttribute(t.$4S),$0.$1(r)||r.setSubmitMode("always"),i.SetValue(t.$4S,new Microsoft.Crm.Client.Core.Framework.Guid(n))))))},getIsDirty:function(){if(Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$2.get_ModelContext())){var n=this.$2.get_ModelContext(),t=n.get_$1K();return t.$FH()}return Microsoft.Crm.Client.Core.Models.$z.isInstanceOfType(this.$2.get_$1K())?this.$2.get_$1K().$FH():!1},isInHierarchy:function(){return!1},save:function(n){Microsoft.Crm.Client.Core.ViewModels.$4K.$1be(n,this.$2)},getPrimaryAttributeValue:function(){if(!$0.$1(this.$2)&&this.$2.$o!==12){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$2.$J);if(!$0.$1(n))return $0.$28(this.$2.get_$1K().GetValue(n.$5e))?"":this.$2.get_$1K().GetValue(n.$5e).toString()}return null},$1yE:function(n){var t=n.ApiDescriptor,u,i,e;if(this.$38v(t.ControlType)&&!t.EditMode)t.FieldName in this.$vd||(this.$vd[t.FieldName]=0,this.$1NP(t.FieldName)||this.$ve.add(t));else if(t.ControlType===14||t.ControlType===25){u=this.$30S(n);for(var f=u,o=f.length,r=0;r<o;++r)i=f[r],i in this.$vd||(this.$vd[i]=0,this.$1NP(i)||(e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiControlDescriptor(t.ControlType,i,t.ControlName,!0),this.$ve.add(e)))}},$30S:function(n){for(var u,t,f,e,h,o,c=n.Properties,i=null,s=c,l=s.length,r=0;r<l;++r)u=s[r],u.Name==="PropertyDefinitions"&&(i=u.Value);if(t=new Array(0),$0.$1(i))return t;f=i;for(e in f)h={key:e,value:f[e]},o=h.value,o.Usage||t.push(o.Value);return t},$3Lq:function(n){$0.$1(n.$54)?n.AddPropertyChangedListener("AttributeFieldNames",this.$$d_$3O8):this.$P7(n.$J,n.$54)},$6D:function(){this.$3w||(this.$3w=!0,$0.$1(this.$2)||(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)||(this.$2.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$2UG),this.$2.RemovePropertyChangedListener("AttributeFieldNames",this.$$d_$2UG)),this.$2=null),this.$la.$6D(),this.attributes=null,this.$1r=null,this.$vd=null,this.$x5=null)},$2UG:function(){var i=this.$2.$J,n,t;if(!$0.$1(i)&&!Microsoft.Crm.Client.Core.Framework.$3.$1O(i)){if(n=null,t=Microsoft.Crm.Client.Core.ViewModels.$7W.isInstanceOfType(this.$2)?this.$2:null,t&&(n=t.get_AttributeFieldNames(),$0.$1(n)))return;this.$2.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$2UG);this.$2.RemovePropertyChangedListener("AttributeFieldNames",this.$$d_$2UG);t?this.$3Z5(t,i,n):this.$P7(this.$2.$J.toLowerCase(),n)}},$3O7:function(){var n=this.$2,t=null,i=this;t=function(){$0.$1(n.get_AttributeMetadata())||(n.rpcl("AttributeMetadata",t),i.$3GF(n.get_AttributeMetadata()))};this.$la.$1bc(n,"AttributeMetadata",t)},$3Z5:function(n,t,i){var r=null,u=this;r=function(){$0.$1(n.get_AttributeMetadata())||(n.rpcl("AttributeMetadata",r),n.get_$2R()===t&&Microsoft.Crm.Client.Core.Framework.$4d.$266(n.get_AttributeFieldNames(),i)&&u.$1w1(n.get_AttributeMetadata()))};r(n,"AttributeMetadata");this.$la.$1bc(n,"AttributeMetadata",r)},$3O8:function(n){this.$1Xa=!1;n.rpcl("AttributeFieldNames",this.$$d_$3O8);var t=n.$54,i=n.$J;this.$2UH(i,t,this.$$d_$3G5)},$P7:function(n,t){this.$2UH(n,t,this.$$d_$1w1)},$2UH:function(n,t,i){var r={EntityType:n,Attributes:t,OnSuccess:i},u=this.$1uf.$DG(r);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(u)},$3GF:function(n){var r,u,i,t,e;if(!this.$3w){r=n;for(u in r){var o={key:u,value:r[u]},f=o.key,s=o.value;for(i=0;i<s.length;i++)t=new Microsoft.Crm.Client.Core.Models.$Jh(s[i]),e=null,e=f==="?primary?"?t.get_$1n():f==="unbound"?"unbound]"+t.get_$1n():f+":"+t.get_$1n(),this.$1r[e]=t}this.$2LD()}},$1w1:function(n){var t,i;if(!this.$3w){for(t=0;t<n.length;t++)i=new Microsoft.Crm.Client.Core.Models.$Jh(n[t]),this.$1r[i.get_$1n()]=i;this.$2LD()}},$2LD:function(){var n,f,t,i,r,u;if(!$0.$1(this.$2)){for(n=0,f=this.$ve.get_Count();n<f;n++)this.$1NP(this.$ve.get_$I(n).FieldName);if(t=this.$2.$120,!$0.$1(t))for(i=0;i<t.length;i++)this.$1NP(t[i]);r=this.$2.$13;$0.$1(r.ui)||$0.$1(r.ui.controls)||(u=this,r.ui.controls.forEach(function(n){var t,i,r,f,e;Microsoft.Crm.Client.Core.ViewModels.$Dl.isInstanceOfType(n)&&(t=n,$0.$1(t.get_$U7())||(r=t.get_$U7().split(":"),r.length===2?(f=r[0],e=r[1],i=u.relatedEntitiesInternal.getByName(f).attributes.getByName(e)):i=u.attributes.get(t.get_$U7()),$0.$1(i)||i.controls.add(n)))}))}this.$ve.clear()},$3G5:function(n){this.$1w1(n);$0.$1(this.$x5)||(this.$x5(n),this.$x5=null);this.$1Xa=!0},$38v:function(n){return n===5||n===6||n===7||n===1||n===15||n===18||n===17},$1NP:function(n){var i,t,u,r;if(this.$3w||(i=this.$1r[n],$0.$1(i)))return!1;t=this;u=n.split(":");u.length===2&&(r=u[0],t=this.relatedEntitiesInternal.getByName(r),$0.$1(t)&&(t=new Microsoft.Crm.Client.Core.ViewModels.$QW(this.$2,r),this.relatedEntitiesInternal.add(r,t)));switch(i.get_$rF()){case 11:case 12:case 13:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Eg(this.$2,this,i,n));break;case 0:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Cl(this.$2,this,i,n));break;case 2:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Sr(this.$2,this,i,n));break;case 8:case 3:case 5:case 4:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$St(this.$2,this,i,n));break;case 14:case 7:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Sl(this.$2,this,i,n));break;case 6:case 9:case 1:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Sn(this.$2,this,i,n));break;case 10:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$TI(this.$2,this,i,n));break;default:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$7J(this.$2,this,i,n))}return!0},$37y:function(){var n,i;if(Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(this.$2)){this.relatedEntities.dispose();this.relatedEntities=new Xrm.XrmRelatedEntities;var r=this.$2,f=r.get_ModelContext(),u=r.get_RelatedAttributeFieldNames();for(n in u){var e={key:n,value:u[n]},t=e.key,o=f.get_$3LT().get_$I(t);$0.$1(o)||(i=this.relatedEntitiesInternal.getByName(t),this.$3Ne(i),this.relatedEntities.add(t,i))}}},$3Ne:function(n){var t,i;if(!$0.$1(n)&&!$0.$1(n.attributes))for(t=0;t<n.attributes.getLength();t++)i=n.attributes.getByIndex(t),!$0.$1(i)&&Microsoft.Crm.Client.Core.ViewModels.$Di.isInstanceOfType(i)&&i.$mX().$3Nd()}};Microsoft.Crm.Client.Core.ViewModels.$TQ=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$TQ.initializeBase(this);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TQ.$3ce(n,t,i,r);n.set_$2bO(n.$1z||n.$1KS)};Microsoft.Crm.Client.Core.ViewModels.$TQ.prototype={$W:null,getLabel:function(){return this.$W.$4h.$1D},$1Iv:function(n){this.$W.$1Iv(n)},$1qJ:function(){return this.$W.getFocus()},$20j:function(n){this.$W.setHasFocus(n)},setVisible:function(n){this.$W.$4h.set_$2bO(this.$W.$1jG(n));this.$W.$XX=n},getSrc:function(){return this.$W.$4h.$Go},setSrc:function(n){this.$W.$4h.$Go!==n||$0.$1(this.getObject())?this.$W.$4h.set_UrlSource(n):this.getObject().setAttribute("src",n)},getObject:function(){return this.$W.$4h.$6P},clearNotification:function(n){return this.$W.clearNotification(n)},getControlType:function(){return this.$W.getControlType()},getParent:function(){return this.$W.getParent()},setNotification:function(n,t){return this.$W.setNotification(n,t)},addNotification:function(n){return this.$W.addNotification(n)},clearNotifications:function(){return this.$W.clearNotifications()},setFocus:function(){this.$W.setFocus()},$ak:function(){this.$W.resetInitial()},getName:function(){return this.$W.getName()},getVisible:function(){return this.$W.getVisible()},setLabel:function(n){this.$W.setLabel(n)}};Microsoft.Crm.Client.Core.ViewModels.$TQ.$3ce=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$TQ.$3ce.initializeBase(this,[n,t,i,r,n.$1z,n.$1KS])};Microsoft.Crm.Client.Core.ViewModels.$TQ.$3ce.prototype={$E0:null,get_$U4:function(){return $0.$1(this.$E0)&&(this.$E0=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?this.$4h:this.$4h.$2.$6F(this.$4h)),this.$E0}};Microsoft.Crm.Client.Core.ViewModels.$U2=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$U2.initializeBase(this);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TQ(n,t,i,r);this.$4h=n};Microsoft.Crm.Client.Core.ViewModels.$U2.prototype={$W:null,$4h:null,getControlType:function(){return"iframe"},$1Iv:function(n){this.$W.$1Iv(n)},$1qJ:function(){return this.$W.$1qJ()},$20j:function(n){this.$W.$20j(n)},getInitialUrl:function(){return this.$4h.$n8},getSrc:function(){return this.$W.getSrc()},getObject:function(){return this.$W.getObject()},setSrc:function(n){this.$W.setSrc(n)},clearNotification:function(n){return this.$W.clearNotification(n)},clearNotifications:function(){return this.$W.clearNotifications()},getParent:function(){return this.$W.getParent()},setNotification:function(n,t){return this.$W.setNotification(n,t)},addNotification:function(n){return this.$W.addNotification(n)},setFocus:function(){this.$W.setFocus()},getLabel:function(){return this.$W.getLabel()},getName:function(){return this.$W.getName()},getVisible:function(){return this.$W.getVisible()},setLabel:function(n){this.$W.setLabel(n)},setVisible:function(n){this.$W.setVisible(n)},$ak:function(){this.$W.$ak()}};Microsoft.Crm.Client.Core.ViewModels.$E4=function(n,t,i,r){this.$1qJ=this.getFocus;this.$20j=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$E4.initializeBase(this);this.$7M=t;this.$4h=n;this.$136=i;this.$135=r;this.$1N3=n.get_Visible()};Microsoft.Crm.Client.Core.ViewModels.$E4.prototype={$136:null,$135:null,$7M:null,$GW:null,$4h:null,$1N3:!1,get_$HP:function(){return $0.$1(this.$GW)&&(this.$GW=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(this.$4h)),this.$GW},getName:function(){return this.$7M},clearNotification:function(){return!1},clearNotifications:function(){return!1},setNotification:function(){return!1},addNotification:function(){return!1},setLabel:function(){},setFocus:function(){this.$4h.set_HasFocus(!0)},setHasFocus:function(n){this.$4h.set_HasFocus(n)},getControlType:function(){return"subgrid"},getLabel:function(){return this.$4h.$1D},getVisible:function(){return this.$1N3},getFocus:function(){return this.$4h.get_HasFocus()},setVisible:function(n){this.$4h.set_Visible(this.$1jG(n));this.$1N3=n},$1jG:function(n){return!!(n&this.getParent().$1Wb())},getParent:function(){var t=null,i=this.$4h.$2.$13.ui.tabs.get(this.$136),n;return $0.$1(i)||(n=i.sections.get(this.$135),$0.$1(n)||(t=n)),t},addRecord:function(){this.get_$HP().addRecord()},openAssociatedGrid:function(){this.get_$HP().openAssociatedGrid()},exportToExcel:function(){},refresh:function(){this.get_$HP().refresh()},getGrid:function(){return this.get_$HP().getGrid()},getChart:function(){return this.get_$HP().getChart()},getRelationship:function(){return this.get_$HP().getRelationship()},getViewSelector:function(){return this.get_$HP().getViewSelector()},addOnLoad:function(n){this.get_$HP().addOnLoad(n)},removeOnLoad:function(n){this.get_$HP().removeOnLoad(n)},getEntityName:function(){return this.get_$HP().getEntityName()}};Microsoft.Crm.Client.Core.ViewModels.$Tn=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$Tn.initializeBase(this,[n,t,i])};Microsoft.Crm.Client.Core.ViewModels.$Tn.prototype={getControlType:function(){return"label"},getLabel:function(){return this.$4h.get_Data()},setLabel:function(n){this.$4h.set_Data(n)}};Microsoft.Crm.Client.Core.ViewModels.$F5=function(n,t,i){this.$1qJ=this.getFocus;this.$20j=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$F5.initializeBase(this);this.$7M=t;this.$4h=n;this.$66=i};Microsoft.Crm.Client.Core.ViewModels.$F5.prototype={$7M:null,$4h:null,$66:null,addOnClick:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$24v(this.$7M,n)},removeOnClick:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$3Mc(this.$7M,n)},getControlType:function(){return"button"},getDisabled:function(){return!this.$4h.get_Enabled()},setDisabled:function(n){this.$4h.set_Enabled(!n)},setFocus:function(){this.$4h.$2.$13.ui.removeCurrentControlFocus();this.setHasFocus(!0)},click:function(){this.getDisabled()||this.$4h.onClick()},clearNotification:function(){return!1},getName:function(){return this.$7M},getParent:function(){return this.$66},setNotification:function(){return!1},addNotification:function(){return!1},clearNotifications:function(){return!1},getLabel:function(){return this.$4h.$1D},getVisible:function(){return this.$4h.$1z},setLabel:function(n){this.$4h.set_Label(n)},setVisible:function(n){this.$4h.set_Visible(n)},getFocus:function(){return!$0.$1(this.$4h)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$4h)?this.$4h.get_HasFocus():!1},setHasFocus:function(n){!$0.$1(this.$4h)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$4h)&&this.$4h.set_HasFocus(n)}};Microsoft.Crm.Client.Core.ViewModels.$TB=function(n,t,i){this.$ak=this.resetInitial;Microsoft.Crm.Client.Core.ViewModels.$TB.initializeBase(this);this.$7M=t;this.$4h=n;this.$66=i};Microsoft.Crm.Client.Core.ViewModels.$TB.prototype={$7M:null,$4h:null,$66:null,resetInitial:function(){this.$4h.$UD()},clearNotification:function(){return!1},clearNotifications:function(){return!1},setNotification:function(){return!1},addNotification:function(){return!1},getName:function(){return this.$7M},getParent:function(){return this.$66},setFocus:function(){},getLabel:function(){return this.$4h.$1D},getVisible:function(){return this.$4h.$1z},setLabel:function(n){this.$4h.set_Label(n)},setVisible:function(n){this.$4h.set_Visible(n)}};Microsoft.Crm.Client.Core.ViewModels.$QQ=function(n){Microsoft.Crm.Client.Core.ViewModels.$QQ.initializeBase(this);this.$4n=n};Microsoft.Crm.Client.Core.ViewModels.$QQ.prototype={$4n:null,getActiveProcess:function(){if(!this.$4n||!this.$4n.get_$R9()||!this.$4n.get_$R9().steps||this.$4n.get_$R9().steps.get_Count()<=0)return null;var n=this.$4n.$LF,t=this.$4n.get_$R9(),i=this.$4n.get_$Cw().toString(),r=this.$4n.$E2,u=this.$4n.$1xj,f=this.$4n.$16,e=this.$4n.$C0;return Microsoft.Crm.Client.Core.ViewModels.$3k.$2g4(n,r,u,t,f,e,!0,i)},getStatus:function(){var n=this.getActiveProcess();return n.getStatus()},getInstanceName:function(){var n=this.getActiveProcess();return n.getInstanceName()},getInstanceId:function(){var n=this.getActiveProcess();return n.getInstanceId()},setStatus:function(n,t){this.$4n.$3TV(n,t)},getActivePath:function(){return this.$4n.$2zD()},completeProcess:function(){this.$4n.$1kI()},getActiveStage:function(){var n=this.$4n.$Dp(this.$4n.get_$4l().get_$6A()),t=this.$4n.$BM(n.id);return Microsoft.Crm.Client.Core.ViewModels.$3k.$vN(n,t,1)},getProcessInstances:function(n){var t=this;this.$4n.$3Ox().done(function(i){var r=t.$4n.$368(i);n(r)})},getEnabledProcesses:function(n){var t=this;this.$4n.$2Uo().done(function(t){for(var r,u={},e=t.$EJ.Controls,f=e,o=f.length,i=0;i<o;++i)r=f[i],u[r.CommandParameters.ProcessControlId.toString().toUpperCase()]=r.LabelText;n(u)})},setActiveProcess:function(n,t){if(this.$4n.$LF!==n){var i=this;this.getEnabledProcesses(function(r){n&&n.toUpperCase()in r?t(Xrm.ProcessResponse.toString(i.$4n.$2Wz(n,""))):t(Xrm.ProcessResponse.toString(1))})}else t(Xrm.ProcessResponse.toString(0))},setActiveProcessInstance:function(n,t){$0.$1(t)||(n&&this.$4n.$E2!==n?t(Xrm.ProcessResponse.toString(this.$4n.$2Wz("",n))):t(Xrm.ProcessResponse.toString(0)))},switchProcess:function(){},abandonProcess:function(){this.$4n.$24I()},isLastStage:function(){return this.$4n.$2MQ()},reactivateProcess:function(){this.$4n.$2Sl()},canSetActiveStage:function(){return this.$4n.$26x()},setActiveStage:function(n,t){this.$4n.$wN(n,t,!1)},moveNext:function(n){this.$4n.$1iJ(n)},movePrevious:function(n){this.$4n.$265(n)},getSelectedStage:function(){var n=this.$4n.$Dp(this.$4n.$CQ),t=this.$4n.$BM(n.id);return Microsoft.Crm.Client.Core.ViewModels.$3k.$vN(n,t,1)},addOnStageChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$2dL(n)},removeOnStageChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$3Mf(n)},addOnStageSelected:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$2dM(n)},removeOnStageSelected:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$3Mg(n)},addOnProcessStatusChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$2dJ(n)},removeOnProcessStatusChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$3Me(n)}};Microsoft.Crm.Client.Core.ViewModels.$QP=function(n){Microsoft.Crm.Client.Core.ViewModels.$QP.initializeBase(this);this.$4n=n};Microsoft.Crm.Client.Core.ViewModels.$QP.prototype={$4n:null,setVisible:function(n){this.$4n.$1gH=!n;this.$4n.set_Visible(n)},getId:function(){return $0.$1(this.$4n.$Hk)?"":this.$4n.$Hk.toString()},getVisible:function(){return this.$4n.$1z},getDisplayState:function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&!$0.$1(this.$4n.$Hk)?this.$4n.$aX?"expanded":"collapsed":"expanded"},reflow:function(n,t,i){this.$4n.$1y9(n,t,i)},setDisplayState:function(n){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&!$0.$1(this.$4n.$Hk)&&(n==="expanded"?this.$4n.set_PopoverVisibility(!0):n==="collapsed"&&this.$4n.set_PopoverVisibility(!1))}};Microsoft.Crm.Client.Core.ViewModels.$3k=function(){};Microsoft.Crm.Client.Core.ViewModels.$3k.$2g4=function(n,t,i,r,u,f,e,o){for(var l,s,h,a,y,v=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.$OE)),c=0;c<r.steps.get_Count();c++)if(l=r.steps.get_$I(c),Microsoft.Crm.Workflow.ObjectModel.$69.isInstanceOfType(l))for(s=l,h=0;h<s.steps.get_Count();h++)a=s.steps.get_$I(h),y=a.id===o?1:0,v.add(Microsoft.Crm.Client.Core.ViewModels.$3k.$vN(a,s,y));return new Xrm.$OH(n,t,i,r.name,u,f,e,v)};Microsoft.Crm.Client.Core.ViewModels.$3k.$vN=function(n,t,i){var u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.$OD)),r,f,e;if(n.steps&&n.steps.get_Count()>0)for(r=0;r<n.steps.get_Count();r++)f=n.steps.get_$I(r),f.description.endsWith("_edit")&&u.add(Microsoft.Crm.Client.Core.ViewModels.$3k.$3Kf(n.steps.get_$I(r),0));return e=new ProcessControl.ClientApi.$MB($0.$28(n.stageCategory)?-1:Number.parseInvariant(n.stageCategory)),new Xrm.$OE(n.id,n.description,e,t.get_EntityLogicalName(),i,u)};Microsoft.Crm.Client.Core.ViewModels.$3k.$3Kf=function(n,t){return new Xrm.$OD(n.name,n.description.substr(0,n.description.lastIndexOf("_")),t,n.isProcessRequired)};Microsoft.Crm.Client.Core.ViewModels.$T6=function(n){Microsoft.Crm.Client.Core.ViewModels.$T6.initializeBase(this);this.$w5=n};Microsoft.Crm.Client.Core.ViewModels.$T6.prototype={$w5:0,$108:!1,getSaveMode:function(){return this.$w5},isDefaultPrevented:function(){return this.$108},preventDefault:function(){this.$108=!0}};Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs=function(n){Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs.initializeBase(this,[0]);this.$1ll=n};Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs.prototype={$1ll:0,getDataLoadState:function(){return this.$1ll}};Microsoft.Crm.Client.Core.ViewModels.$EP=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$EP.initializeBase(this);Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(this.$2q=n,this.$1sf=!0);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$EP.$3cc(n,t,i,r,!0);this.$1AL=u};Microsoft.Crm.Client.Core.ViewModels.$EP.prototype={$W:null,$2q:null,$1sf:!1,$GW:null,$1AL:null,get_$HP:function(){return $0.$1(this.$GW)&&(this.$GW=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(this.get_$14U().$F[this.$1AL]),$0.$1(this.$GW)&&(this.$GW=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(this.get_$14U().$F.GridContainer.$F[this.$1AL]))),this.$GW},get_$14U:function(){return this.$W.$4h},get_$38O:function(){return this.$2q},getControlType:function(){return"subgrid"},getLabel:function(){return this.$1sf?this.get_$38O().$1D:this.get_$14U().$fr},$1Iv:function(n){this.$W.$1Iv(n)},$1qJ:function(){return this.$W.getFocus()},$20j:function(n){this.$W.setHasFocus(n)},addRecord:function(){this.get_$14U().$1z&&this.get_$HP().addRecord()},openAssociatedGrid:function(){this.get_$HP().openAssociatedGrid()},exportToExcel:function(){},refresh:function(){this.get_$14U().$X6()},getGrid:function(){return this.get_$HP().getGrid()},getChart:function(){return this.get_$HP().getChart()},getRelationship:function(){return this.get_$HP().getRelationship()},getViewSelector:function(){return this.get_$HP().getViewSelector()},addOnLoad:function(n){this.get_$HP().addOnLoad(n)},removeOnLoad:function(n){this.get_$HP().removeOnLoad(n)},getEntityName:function(){return this.get_$HP().getEntityName()},getRelationshipName:function(){return this.$GW.getRelationshipName()},getRelationshipAttributeName:function(){return this.$GW.getRelationshipAttributeName()},getRelationshipRoleOrdinal:function(){return this.$GW.getRelationshipRoleOrdinal()},getRelationshipType:function(){return this.$GW.getRelationshipType()},setNotification:function(n,t){return this.$W.setNotification(n,t)},clearNotification:function(n){return this.$W.clearNotification(n)},getParent:function(){return this.$W.getParent()},addNotification:function(n){return this.$W.addNotification(n)},clearNotifications:function(){return this.$W.clearNotifications()},setFocus:function(){this.$W.setFocus()},$ak:function(){this.$W.resetInitial()},getName:function(){return this.$W.getName()},getVisible:function(){return this.$W.getVisible()},setLabel:function(n){this.$W.setLabel(n)},setVisible:function(n){this.$W.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$EP.$3cc=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$EP.$3cc.initializeBase(this,[n,t,i,r,n.$1z,u])};Microsoft.Crm.Client.Core.ViewModels.$EP.$3cc.prototype={get_$U4:function(){return this.$4h}};Microsoft.Crm.Client.Core.ViewModels.$Sn=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Sn.initializeBase(this);this.$Y=new Microsoft.Crm.Client.Core.ViewModels.$7J(n,t,i,r);this.controls=this.$Y.controls};Microsoft.Crm.Client.Core.ViewModels.$Sn.prototype={$Y:null,getAttributeType:function(){return"lookup"},getIsPartyList:function(){return this.$Y.$2V.get_$rF()===10},getValue:function(){var n=this.$Y.get_$9s().GetValue(this.getName()),t;return $0.$1(n)?null:(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem)),t.add(new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(n.LogicalName,n.get_identifier(),n.Name)),t.toArray())},setValue:function(n){var i;if($0.$1(n)){this.$Y.setValue(null);return}if(!$0.$1(n.splice)){if(i=n,!i.length){this.$Y.setValue(null);return}var r=i[0],u=new Microsoft.Crm.Client.Core.Framework.Guid(r.id),t=new Xrm.Objects.EntityReference(r.entityType,u,r.name);this.$2at(t.LogicalName)?this.$Y.setValue(t):t.LogicalName==="subject"&&this.$Y.setValue(t)}},$2at:function(n){var i=this.controls.get(0),t;return $0.$1(i)&&this.$Y.$2M2()?!0:(t=i.get_$9u(),Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Dw.isInstanceOfType(t)&&t.$2at(n))},$mX:function(){return this.$Y},setLookupTypes:function(){return!1},getLookupTypes:function(){return null},addOnChange:function(n){this.$Y.addOnChange(n)},fireOnChange:function(){this.$Y.fireOnChange()},getFormat:function(){return this.$Y.getFormat()},getIsDirty:function(){return this.$Y.getIsDirty()},getIsValid:function(){return this.$Y.getIsValid()},getName:function(){return this.$Y.getName()},getKey:function(){return this.$Y.getKey()},getParent:function(){return this.$Y.getParent()},getRequiredLevel:function(){return this.$Y.getRequiredLevel()},getSubmitMode:function(){return this.$Y.getSubmitMode()},getUserPrivilege:function(){return this.$Y.getUserPrivilege()},removeOnChange:function(n){this.$Y.removeOnChange(n)},resetInitialValue:function(n){this.$Y.resetInitialValue(n)},setRequiredLevel:function(n){this.$Y.setRequiredLevel(n)},setSubmitMode:function(n){this.$Y.setSubmitMode(n)}};Microsoft.Crm.Client.Core.ViewModels.$UG=function(n,t,i,r,u){this.$20j=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$UG.initializeBase(this);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TU(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$UG.prototype={$W:null,get_$U7:function(){return this.$W.$Il},get_$9u:function(){return this.$W.$17},get_$1aD:function(){return this.$W.$2l},$7L:function(n,t){this.$W.$7L(n,t)},$ak:function(){this.$W.resetInitial()},getControlType:function(){return"lookup"},addCustomView:function(n,t,i,r,u,f){var e=Microsoft.Crm.Client.Core.Framework.$3.$9(n)?Microsoft.Crm.Client.Core.Framework.Guid.get_empty():new Microsoft.Crm.Client.Core.Framework.Guid(n),o=new Microsoft.Crm.Client.Core.Models.$8D(e,Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(r),u,t);this.$W.$17.$dq[e.toString()]=o;f&&this.$W.$17.$1Io(e)},getDefaultView:function(){var n=this.$W.$17.$IB;return n===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?"":Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(n)},setDefaultView:function(n){this.$W.$17.$1Io(new Microsoft.Crm.Client.Core.Framework.Guid(n))},addCustomFilter:function(n,t){this.$W.$17.$24k(n,t)},addPreSearch:function(n){var i=new Microsoft.Crm.Client.Core.Models.Constants.$Jo,r,t,u;i.method=n;i.passExecutionContext=!0;r=this.$W.$17.$Ws;$0.$1(r)?(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$Jo))([i]),t=new Microsoft.Crm.Client.Core.Models.$JM(u,null),t.details=new Microsoft.Crm.Client.Core.Models.$JI(4,this.$W.$Il)):(t=this.$1PG(r),t.handlers.add(i));this.$W.$17.set_$1Gw(t)},removePreSearch:function(n){var t=this.$W.$17.$Ws,i,r;if(!$0.$1(t)&&!$0.$1(t.handlers))for(i=0;i<t.handlers.get_Count();i++)if(t.handlers.get_$I(i).method===n){r=this.$1PG(t);r.handlers.remove(r.handlers.get_$I(i));this.$W.$17.set_$1Gw(r);break}},allowUserToDisableRelationshipFilter:function(){return},setParameter:function(){},getAttribute:function(){return this.$W.getAttribute()},getDisabled:function(){return this.$W.getDisabled()},setDisabled:function(n){this.$W.setDisabled(n)},clearNotification:function(n){return this.$W.clearNotification(n)},clearNotifications:function(){return this.$W.clearNotifications()},setNotification:function(n,t){return this.$W.setNotification(n,t)},addNotification:function(n){return this.$W.addNotification(n)},getParent:function(){return this.$W.getParent()},setFocus:function(){this.$W.setFocus();this.$W.setHasFocus(!0)},setHasFocus:function(n){this.$W.setHasFocus(n)},$1qJ:function(){return this.$W.getFocus()},getLabel:function(){return this.$W.getLabel()},getName:function(){return this.$W.getName()},getVisible:function(){return this.$W.getVisible()},setLabel:function(n){this.$W.setLabel(n)},setVisible:function(n){this.$W.setVisible(n)},$1PG:function(n){var t=new Microsoft.Crm.Client.Core.Models.$JM(n.handlers,n.eventArgs,n.$1BS,n.$1BT,n.scriptsToLoad,n.details,n.srcName);return t.$Tf=n.$Tf,t.$Tg=n.$Tg,t}};Microsoft.Crm.Client.Core.ViewModels.$St=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$St.initializeBase(this);this.$Y=new Microsoft.Crm.Client.Core.ViewModels.$7J(n,t,i,r);this.controls=this.$Y.controls};Microsoft.Crm.Client.Core.ViewModels.$St.prototype={$Y:null,$mX:function(){return this.$Y},getAttributeType:function(){if(!$0.$1(this.$Y.$2V)&&this.$Y.$2V.get_$rF()===5&&!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.$Y.$2V.get_$MN()))switch(this.$Y.$2V.get_$MN().toLowerCase()){case"language":case"timezone":return"optionset"}return this.$Y.getAttributeType()},setValue:function(n){if(!$0.$1(n)){var t=n.toString();Number.parseInvariant(t)!==Number.parseLocale(t)&&(n=t.replace(Sys.CultureInfo.InvariantCulture.numberFormat.CurrencyDecimalSeparator,Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalSeparator))}this.$Y.setValue(n)},getMin:function(){var t=this,n=this.controls.getFirst(function(n){return Microsoft.Crm.Client.Core.ViewModels.$6e.isInstanceOfType(n.get_$9u())});return $0.$1(n)?this.$Y.$2V.get_$a2():n.get_$9u().get_$a2()},getMax:function(){var t=this,n=this.controls.getFirst(function(n){return Microsoft.Crm.Client.Core.ViewModels.$6e.isInstanceOfType(n.get_$9u())});return $0.$1(n)?this.$Y.$2V.get_$Zv():n.get_$9u().get_$Zv()},setMax:function(n){var t=this;this.controls.forEach(function(t){Microsoft.Crm.Client.Core.ViewModels.$6e.isInstanceOfType(t.get_$9u())&&t.get_$9u().set_$Zv(n)})},setMin:function(n){var t=this;this.controls.forEach(function(t){Microsoft.Crm.Client.Core.ViewModels.$6e.isInstanceOfType(t.get_$9u())&&t.get_$9u().set_$a2(n)})},setCurrencySymbol:function(){},getPrecision:function(){var t=this,n=this.controls.getFirst(function(n){return Microsoft.Crm.Client.Core.ViewModels.$6e.isInstanceOfType(n.get_$9u())});return $0.$1(n)?0:n.get_$9u().get_$1Gu()},setPrecision:function(n){var t=this;this.controls.forEach(function(t){Microsoft.Crm.Client.Core.ViewModels.$6e.isInstanceOfType(t.get_$9u())&&t.get_$9u().set_$1Gu(n)})},addOnChange:function(n){this.$Y.addOnChange(n)},fireOnChange:function(){this.$Y.fireOnChange()},getFormat:function(){return this.$Y.getFormat()},getIsDirty:function(){return this.$Y.getIsDirty()},getIsValid:function(){return this.$Y.getIsValid()},getName:function(){return this.$Y.getName()},getKey:function(){return this.$Y.getKey()},getParent:function(){return this.$Y.getParent()},getRequiredLevel:function(){return this.$Y.getRequiredLevel()},getSubmitMode:function(){return this.$Y.getSubmitMode()},getUserPrivilege:function(){return this.$Y.getUserPrivilege()},getValue:function(){return this.$Y.getValue()},removeOnChange:function(n){this.$Y.removeOnChange(n)},resetInitialValue:function(n){this.$Y.resetInitialValue(n)},setRequiredLevel:function(n){this.$Y.setRequiredLevel(n)},setSubmitMode:function(n){this.$Y.setSubmitMode(n)}};Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper=function(){Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper.initializeBase(this);this.$A=Microsoft.Crm.Client.Core.Framework.$G.$b(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$Ld(),"OfflineWrapper")};Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper.prototype={$A:null,$TS:function(n){return Microsoft.Crm.Client.Core.Offline.$l.get_$6N().$Bs(n)},$3P1:function(n,t,i){var u,s;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveRecord","RetrieveRecord has started");var r=MscrmComponents.DeferredPromiseFactory(Object,Xrm.OfflineErrorResponse),f=new Microsoft.Crm.Client.Core.Storage.Common.UriParser.$Nh(i),e={id:t,entityType:n,options:f},o=Microsoft.Crm.Client.Core.ViewModels.$5a.$1Dn(3,e);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN(" RetrieveRecord - Parameters: id = {0}, entityType = {1}, options ={2}",t,n,i)),u=this,s=this,o.$7h().then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveRecord validation completed successfully for the entity {0} and the id: {1}",n,t));var e=f.get_$1C6(),i=f.get_$XF();Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(n,u.$A).then(function(o){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveEntityMetadata completed successfully for the entity {0} and the id: {1}",n,t));var s=null;!$0.$1(i)&&i.get_$Pu().length>0&&(s=i.get_$Pu());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n,s),u.$A).then(function(i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveMultipleAttributeMetadata completed successfully for the entity {0} and the id: {1}",n,t));var h=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(2,0),c=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$3K1(o,i.$22N(),$0.$1(s)),l=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$1l2(n,t);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(l,c,h,u.$A).then(function(i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Retrieve completed successfully for the entity {0} and the id: {1}",n,t));u.$33x(i.clone(),e).then(function(i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetRelatedEntities completed Successfully for the entity {0} and the id: {1}",n,t));var u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2jJ(i,f);r.resolve(u)},function(t){var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7032,null);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetRelatedEntities for the entity {0} failed with the error {1}",n,t.message));r.reject(new Xrm.OfflineErrorResponse(-7032,i,t.message))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Retrieve for the entity {0} failed with the error {1}",n,t.$E));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveMultipleAttributeMetadata for the entity {0} failed with the error {1}",n,t.$E));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveEntityMetadata for the entity {0} failed with the error {1}",n,t.$E));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){r.reject(t);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("validation for the entity {0} failed with the error {1}",n,t.message))}),r.promise()},$3Ol:function(n,t,i){var f,s;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveMultipleRecords","RetrieveRecord has started");var u=MscrmComponents.DeferredPromiseFactory(Object,Xrm.OfflineErrorResponse),r=new Microsoft.Crm.Client.Core.Storage.Common.UriParser.$Nh(t),e={entityType:n,options:r,maxPageSize:i},o=Microsoft.Crm.Client.Core.ViewModels.$5a.$1Dn(4,e);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveMultipleRecords",Microsoft.Crm.Client.Core.Framework.$3.$MN(" RetrieveMultipleRecords - Parameters: entityType = {0}, options = {1}, maxPageSize = {2}",n,t,i)),f=this,s=this,o.$7h().then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveMultipleRecords","RetrieveMultiple validation completed successfully");var e=r.get_$1C6(),t;!$0.$1(r)&&!$0.$1(r.get_$1G())&&r.get_$1G().length>0?(t=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$29I(r.get_$1G()),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveMultipleRecords","CreateEntityQueryExpressionFromFetchXml")):(t=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2ke(n,r,i),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveMultipleRecords","CreateEntityQueryExpressionFromODataUri"));Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2Rq(t,!1,f.$A).then(function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2ly(n,Microsoft.Crm.Client.Core.Framework.Guid.newGuid().toString(),f.$A).then(function(t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(t,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(2,0),f.$A).then(function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.RetrieveMultipleRecords","RetrieveMultiple completed successfully");var f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2jI(n,t,r,i);u.resolve(f)},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.RetrieveMultipleRecords",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveMultiple failed with the error {0}",n.$E));u.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(n,""))})},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.RetrieveMultipleRecords",Microsoft.Crm.Client.Core.Framework.$3.$MN("CreateQueryFromEntityQueryExpression failed with the error {0}",n.$E));u.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(n,""))})},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.RetrieveMultipleRecords",Microsoft.Crm.Client.Core.Framework.$3.$MN("PopulateRequiredQueryAttributes failed with the error {0}",n.$E));u.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(n,""))})},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.RetrieveMultipleRecords",Microsoft.Crm.Client.Core.Framework.$3.$MN("Validation failed with the error {0}",n.message));u.reject(n)}),u.promise()},$EL:function(n,t){var u,o;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.CreateRecord","CreateRecord has started");var i=MscrmComponents.DeferredPromiseFactory(Object,Xrm.OfflineErrorResponse),r=new Array(0),e=t;for(u in e)o={key:u,value:e[u]},r.push(o.key);Microsoft.Crm.Client.Core.Framework.$B.$1g("CreateRecord_InputData",2010,Microsoft.Crm.Client.Core.Framework.$3.$MN(" CreateRecord - Parameters: data = {0}, entityType= {1}",JSON.stringify(t),n));var s={entityType:n,attributes:r},h=Microsoft.Crm.Client.Core.ViewModels.$5a.$1Dn(0,s),f=this,c=this;return h.$7h().then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Create Record validation completed successfully for the entity {0}",n));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$TG(n,r).then(function(r){f.$2Dx(n,r,t).then(function(){Microsoft.Crm.Client.Core.Framework.$B.$1g("CreateRecord_FormattedInputData",2010,JSON.stringify(t));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$rq(n,null).then(function(r){var u,e,o;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.CreateRecord","CreateEmptyEntityRecord started");f.$3So(n,t);u=t;for(e in u)o={key:e,value:u[e]},r.setValue(o.key,o.value);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$B(r,!0,f.$A).then(function(t){var r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1ke(t);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Create Record completed successfully for the entity {0}",n));i.resolve(r)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Created failed for the entity {0} with the error {1}",n,t.$E));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("CreateEmptyEntityRecord failed for the entity {0} with the error {1}",n,t.$E));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("FormatInputData failed for the entity {0} with the error {1}",n,t.message));i.reject(t)})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetAttributeTypes failed for the entity {0} with the error {1}",n,t.$E));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Validation failed for the entity {0} with the error {1}",n,t.message));i.reject(t)}),i.promise()},$bR:function(n,t,i){var f,s;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.UpdateRecord","UpdateRecord has started");var r=MscrmComponents.DeferredPromiseFactory(Object,Xrm.OfflineErrorResponse),u=new Array(0),o=i;for(f in o)s={key:f,value:o[f]},u.push(s.key);Microsoft.Crm.Client.Core.Framework.$B.$1g("UpdateRecord_InputData",2010,Microsoft.Crm.Client.Core.Framework.$3.$MN(" UpdateRecord - Parameters: id = {0}, data = {1}, entityType = {2}",t,JSON.stringify(i),n));var h={id:t,entityType:n,attributes:u},c=Microsoft.Crm.Client.Core.ViewModels.$5a.$1Dn(1,h),e=this,l=this;return c.$7h().then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Update Record validation completed successfully for the entity {0} and the id {1}",n,t));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(n,e.$A).then(function(f){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveEntityMetadata for the entity {0} and the id {1}",n,t));var o=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(2,0);i[f.get_$Hj()]=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.toUpperCase());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$TG(n,u).then(function(o){e.$2Dx(n,o,i).then(function(){Microsoft.Crm.Client.Core.Framework.$B.$1g("UpdateRecord_FormattedInputData",2010,JSON.stringify(i));var c=new Xrm.Objects.EntityReference(n,i[f.get_$Hj()]),h={},l=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)),s=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(c,i,o,h,h,l);s.$4P.addRange(u);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7p(s.$3F,s,!0,e.$A).then(function(i){var u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1ke(i);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Update Record completed successfully for the entity {0} and the id {1}",n,t));r.resolve(u)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Update Record failed for the entity {0} with the error {1}",n,t.$E));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("FormatInputData failed for the entity {0} with the error {1}",n,t.message));r.reject(t)})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetAttributeTypes failed for the entity {0} with the error {1}",n,t.$E));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveEntityMetadata failed for the entity {0} with the error {1}",n,t.$E));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("validation failed for the entity {0} with the error {1}",n,t.message));r.reject(t)}),r.promise()},$2nc:function(n,t){var r,e;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.DeleteRecord","DeleteRecord has started");var i=MscrmComponents.DeferredPromiseFactory(Object,Xrm.OfflineErrorResponse),u={id:t,entityType:n},f=Microsoft.Crm.Client.Core.ViewModels.$5a.$1Dn(2,u);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.DeleteRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN(" DeleteRecord - Parameters: id = {0}, entityType = {1}",t,n)),r=this,e=this,f.$7h().then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.DeleteRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Delete Record validation completed successfully for the entity {0} and the id {1}",n,t));var u=new Xrm.Objects.EntityReference(n,Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.toUpperCase()));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.Delete(u,r.$A).then(function(r){var u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1ke(r);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.DeleteRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Delete Record completed successfully for the entity {0} and the id {1}",n,t));i.resolve(u)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.DeleteRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("Delete Record failed for the entity {0} with the error {1}",n,t.$E));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.DeleteRecord",Microsoft.Crm.Client.Core.Framework.$3.$MN("validation failed for the entity {0} with the error {1}",n,t.message));i.reject(t)}),i.promise()},$33x:function(n,t){var i,r,e,s,h;if(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.GetRelatedEntities","GetRelatedEntities has started"),i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Xrm.OfflineErrorResponse),r=[],$0.$1(t)||!t.get_$1C7().length)return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.GetRelatedEntities","Expand Token is null or empty"),i.resolve(n),i.promise();for(var f=t.get_$1C7(),o=f.length,u=0;u<o;++u)e=f[u],Array.add(r,this.$33z(n,e));return s=this,h=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r).then(function(t){for(var u=t,e=u.length,r=0;r<e;++r){var o=u[r],f=o,s=f.$1o.$FO;n.$6H.addRelationship(s,f)}Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.GetRelatedEntities","GetRelatedRecordsUsingExpand completed successfully");i.resolve(n)},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.GetRelatedEntities",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetRelatedEntities failed with error {0}",n.$E));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(n,""))}),i.promise()},$33z:function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.GetRelatedRecordsUsingExpand","GetRelatedRecordsUsingExpand has started");var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Xrm.OfflineErrorResponse),r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(52,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25(),n.$N.LogicalName,1),this.$A).then(function(u){var e,o,s,f,h;if(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveMultipleApplicationMetadata for the entity {0}",n.$N.LogicalName)),u.get_$3ZH()>0){if(e=u.get_$I(0).get_$5c(),o="",t.$Tk in e)Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$MN("Navigation Property Metadata :{0} for entity: {1}",t.$Tk,n.$N.LogicalName)),s=e[t.$Tk],o=s.FetchXml.toString();else{Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetRelatedRecordsUsingExpand: {0} Relationship not found for {1} entity",t.$Tk,n.$N.LogicalName));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(null,Microsoft.Crm.Client.Core.Framework.$3.$MN("GetRelatedRecordsUsingExpand: {0} Relationship not found for {1} entity",t.$Tk,n.$N.LogicalName))).promise();return}f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$29I(o);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$MN("CreateEntityQueryExpressionFromFetchXml for the entity {0}",n.$N.LogicalName));Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2aF(f,n.$N.LogicalName,n);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2dZ(f,t);h=r.$38u(t);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2Rq(f,!h,r.$A).then(function(u){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$MN("PopulateRequiredQueryAttributes for the entity {0}",n.$N.LogicalName));Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2mD(n.$N.LogicalName,u,t.$Tk,r.$A).then(function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$MN("CreateRelatedQueryFromEntityQueryExpression for the entity {0}",n.$N.LogicalName));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(t,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(2,0),r.$A).then(function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveMultiple completed for the Entity {0}",n.$N.LogicalName));i.resolve(t)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveMultiple failed for the Entity {0} with the error {1}",n.$N.LogicalName,t.$E));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$MN("CreateRelatedQueryFromEntityQueryExpression failed for the Entity {0} with the error {1}",n.$N.LogicalName,t.$E));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$MN("PopulateRequiredQueryAttributes failed for the Entity {0} with the error {1}",n.$N.LogicalName,t.$E));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))})}else Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.GetRelatedRecordsUsingExpand","No Navigtaion Property MetaData Found for the Entity"),i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(null,"No Relationship MetaData Found for the Entity"))},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveMultipleApplicationMetadata failed for the Entity {0} with the error {1}",n.$N.LogicalName,t.$E));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT(t,""))}),i.promise()},$38u:function(n){return!$0.$1(n)&&!$0.$1(n.$hz)&&n.$hz.get_$Pu().length>0?!0:!1},$2Dx:function(n,t,i){var u=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),r="",f,e,o,s,h;try{f=t;for(e in f)(o={key:e,value:f[e]},r=o.key,s=i[r],$0.$1(s))||(i[r]=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2sW(n,r,o.value,s));u.resolve(!0)}catch(c){h=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7033,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([r]));u.reject(new Xrm.OfflineErrorResponse(-7033,h,c.message))}return u.promise()},$3So:function(n,t){var u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(n,"transactioncurrencyid"),i,r;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineWrapper.SetDefaultTransactionCurrencyReference",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetAttributeMetadata for the entity {0}",n));$0.$1(u)||"transactioncurrencyid"in t&&!$0.$1(t.transactioncurrencyid)||(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$tJ(),$0.$1(i)||(r=new Xrm.Objects.EntityReference("transactioncurrency",i.$9Y,i.$H4),t.transactioncurrencyid=r))}};Microsoft.Crm.Client.Core.ViewModels.$Eg=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Eg.initializeBase(this);this.$Y=new Microsoft.Crm.Client.Core.ViewModels.$7J(n,t,i,r);this.controls=this.$Y.controls};Microsoft.Crm.Client.Core.ViewModels.$Eg.prototype={$Y:null,$mX:function(){return this.$Y},getAttributeType:function(){return"optionset"},getValue:function(){return!$0.$1(this.$Y.get_$9s())&&!$0.$1(this.$Y.get_$9s().GetValue(this.getName()))?this.$Y.get_$9s().GetValue(this.getName()).$1i:this.$Y.get_$9s().GetValue(this.getName())},setValue:function(n){var t=null,i;$0.$1(n)?t=new Microsoft.Crm.Client.Core.ViewModels.$Cs("-1",""):(i=this.$Y.$2V.$Mw.$2f.get_$I(n.toString()),$0.$1(i)||(t=new Microsoft.Crm.Client.Core.ViewModels.$Cs(i.get_$2O().toString(),i.get_$DL()),this.$Y.setValue(t)));$0.$1(t)||this.$Y.setValue(t)},getInitialValue:function(){return this.controls.get(0).$W.$17.$n9},getOption:function(n){if(IsNull(n))return null;if(!$0.$1(this.$Y.$2V)){var t=this.$Y.$2V.$Mw.$2f.get_$I(n.toString());if(!$0.$1(t))return new Xrm.OptionSetItem(t.get_$2O(),t.get_$DL())}return null},getOptions:function(){var n,u,t;if(!$0.$1(this.$Y.$2V)){var f=this.$Y.$2V.$Mw.$2f.$1e4(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.OptionSetItem)),r=f;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Xrm.OptionSetItem(t.get_$2O(),t.get_$DL()));return i.toArray()}return null},getSelectedOption:function(){var n,t;return!$0.$1(this.$Y.get_$9s())&&(n=this.$Y.get_$9s().GetValue(this.getName()),!$0.$1(n))?(t=new Microsoft.Crm.Client.Core.Models.$Jg(n),new Xrm.OptionSetItem(t.get_$2O(),t.get_$DL())):null},getText:function(){if(!$0.$1(this.$Y.get_$9s())){var n=this.$Y.get_$9s().GetValue(this.getName());if(!$0.$1(n))return n.get_Label()}return""},getInvariantText:function(){var u=this.$Y.$2V.$Mw.$2f.$1e4(),t=u;for(var i in t){var f={key:i,value:t[i]},r=this.$Y.$E0.get_$1K().GetValue(this.$Y.$2G),n=f.value;if(!$0.$1(n)&&!$0.$1(r)&&n.get_$DL()===r.get_Label())return $0.$1(n.get_$2Ls())?"":n.get_$2Ls()}return""},addOption:function(){},removeOption:function(){},clearOptions:function(){},addOnChange:function(n){this.$Y.addOnChange(n)},fireOnChange:function(){this.$Y.fireOnChange()},getFormat:function(){return this.$Y.getFormat()},getIsDirty:function(){return this.$Y.getIsDirty()},getIsValid:function(){return this.$Y.getIsValid()},getName:function(){return this.$Y.getName()},getKey:function(){return this.$Y.getKey()},getParent:function(){return this.$Y.getParent()},getRequiredLevel:function(){return this.$Y.getRequiredLevel()},getSubmitMode:function(){return this.$Y.getSubmitMode()},getUserPrivilege:function(){return this.$Y.getUserPrivilege()},removeOnChange:function(n){this.$Y.removeOnChange(n)},resetInitialValue:function(n){this.$Y.resetInitialValue(n)},setRequiredLevel:function(n){this.$Y.setRequiredLevel(n)},setSubmitMode:function(n){this.$Y.setSubmitMode(n)}};Microsoft.Crm.Client.Core.ViewModels.$UB=function(n,t,i,r,u){this.$20j=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$UB.initializeBase(this);this.$W=new Microsoft.Crm.Client.Core.ViewModels.$TU(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$UB.prototype={$W:null,get_$U7:function(){return this.$W.$Il},get_$9u:function(){return this.$W.$17},get_$1aD:function(){return this.$W.$2l},$7L:function(n,t){this.$W.$7L(n,t)},$ak:function(){this.$W.resetInitial()},getControlType:function(){return"optionset"},addOption:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$W.$2)){var i=this.$11h();$0.$1(i)||i.$19X(n.text,n.value)}this.$W.$17.$19X(new Microsoft.Crm.Client.Core.ViewModels.$Cs(n.value.toString(),n.text),t)},clearOptions:function(){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$W.$2)){var n=this.$11h();$0.$1(n)||n.$1AT()}this.$W.$17.$1AT()},getOptions:function(){return null},removeOption:function(n){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$W.$2)){var t=this.$11h();$0.$1(t)||t.$1HZ(n)}this.$W.$17.$1HZ(n)},getAttribute:function(){return this.$W.getAttribute()},getDisabled:function(){return this.$W.getDisabled()},setDisabled:function(n){this.$W.setDisabled(n)},clearNotification:function(n){return this.$W.clearNotification(n)},clearNotifications:function(){return this.$W.clearNotifications()},setNotification:function(n,t){return this.$W.setNotification(n,t)},addNotification:function(n){return this.$W.addNotification(n)},getParent:function(){return this.$W.getParent()},setFocus:function(){this.$W.setFocus()},setHasFocus:function(n){this.$W.setHasFocus(n)},$1qJ:function(){return this.$W.getFocus()},getLabel:function(){return this.$W.getLabel()},getName:function(){return this.$W.getName()},getVisible:function(){return this.$W.getVisible()},setLabel:function(n){this.$W.setLabel(n)},setVisible:function(n){this.$W.setVisible(n)},$11h:function(){var t=this.getAttribute(),n;return!$0.$1(t)&&(n=t.$mX(),!$0.$1(n.$2V))?n.$2V.$Mw:null}};Microsoft.Crm.Client.Core.ViewModels.$TI=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$TI.initializeBase(this,[n,t,i,r])};Microsoft.Crm.Client.Core.ViewModels.$TI.prototype={getValue:function(){var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem)),f,u=this.$mX().get_$9s().GetValue(this.getName()),t,n,i;if($0.$28(u)||!u.get_count())return null;for(t=0;t<u.get_count();t++)f=this.$mX().get_$9s().GetValue(this.getName()).get_entities()[t],n=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$me(f),Xrm.Objects.EntityReference.isInstanceOfType(n)?(i=n,r.add(new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(i.LogicalName,i.get_key(),i.Name))):String.isInstanceOfType(n)&&r.add(new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem("",null,n));return r.toArray()},setValue:function(n){var t,r,u,f,e,s,o,i,h,c;if($0.$1(n)){this.$mX().get_$9s().SetValue(this.getName(),null);return}if(!$0.$1(n.splice))try{if($0.$1(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P)||Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$2B3(this.getName()),t=n,!t.length){this.$mX().get_$9s().SetValue(this.getName(),null);return}for(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord)),s=new Microsoft.Crm.Client.Core.Models.Validation.EmailAddressValidator(!1,!0),i=0;i<t.length;i++)Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&t[i].type==="-1"&&Microsoft.Crm.Client.Core.Framework.$3.$9(t[i].id)&&t[i].entityType===""&&s.$7h(t[i].name,!1,!1).$5w?(u={addressused:t[i].name},f={addressused:14},o="addressused"):(u={partyid:new Xrm.Objects.EntityReference(t[i].entityType,new Microsoft.Crm.Client.Core.Framework.Guid(t[i].id),t[i].name)},f={partyid:6},o="partyid"),h=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(h,u,f,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),e.$4P.add(o),r.add(e);c=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(r.toArray(),!1,r.get_Count(),!1);this.$mX().get_$9s().SetValue(this.getName(),c)}finally{$0.$1(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P)||Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$1mP(this.getName())}}};Microsoft.Crm.Client.Core.ViewModels.$QW=function(n,t){this.dispose=this.$6D;Microsoft.Crm.Client.Core.ViewModels.$QW.initializeBase(this);this.$2=n;this.$5y=t;var i=n.get_RelationshipList()[t];this.$S=i.TargetEntityTypeName;this.attributes=new Xrm.XrmEntityAttributes};Microsoft.Crm.Client.Core.ViewModels.$QW.prototype={$3w:!1,$2:null,$5y:null,$S:null,addOnSave:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$1NS(n)},getDataXml:function(){return null},removeOnSave:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$1yW(n)},getEntityName:function(){return this.$S},getId:function(){var n=this.$2.get_ModelContext(),t=n.$4k.get_$I(this.$5y);return t.get_$1a()},setRecordId:function(){},getIsDirty:function(){var n=this.$2.get_ModelContext(),t=n.$4k.get_$I(this.$5y);return t.$FH()},isInHierarchy:function(){return!1},save:function(n){Microsoft.Crm.Client.Core.ViewModels.$4K.$1be(n,this.$2)},getPrimaryAttributeValue:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.getEntityName()),n;return!$0.$1(t)&&(n=this.attributes.getByName(t.$5e),n)?n.getValue():null},$6D:function(){this.$3w||(this.$3w=!0,this.$2=null,this.attributes=null)}};Microsoft.Crm.Client.Core.ViewModels.$Sw=function(n,t,i,r,u,f){this.$1qJ=this.getFocus;this.$20j=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$Sw.initializeBase(this);this.$7M=t;this.$4h=n;this.$136=i;this.$135=r;f=$0.$1(f)?n.$1z:f;this.$XX=$0.$1(u)?n.$1z||f:u||f};Microsoft.Crm.Client.Core.ViewModels.$Sw.prototype={$136:null,$135:null,$XX:!1,$7M:null,$4h:null,getName:function(){return this.$7M},getControlType:function(){return null},getLabel:function(){return null},getVisible:function(){return this.$XX},getParent:function(){var t=null,i=this.$4h.$2.$13.ui.tabs.get(this.$136),n;return $0.$1(i)||(n=i.sections.get(this.$135),$0.$1(n)||(t=n)),t},setVisible:function(n){this.$4h.set_Visible(this.$1jG(n));this.$XX=n},$1Iv:function(n){this.$XX&&this.$4h.set_Visible(n)},setFocus:function(){this.$4h.$2.$13.ui.removeCurrentControlFocus();this.setHasFocus(!0)},setLabel:function(){},setNotification:function(){return!1},addNotification:function(){return!1},clearNotification:function(){return!1},clearNotifications:function(){return!1},setHasFocus:function(n){Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.get_$U4())&&this.get_$U4().set_HasFocus(n)},getFocus:function(){return Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.get_$U4())?this.get_$U4().get_HasFocus():!1},resetInitial:function(){!$0.$1(this.$4h)&&Microsoft.Crm.Client.Core.ViewModels.$2r.isInstanceOfType(this.$4h)&&this.$4h.$UD()},$1jG:function(n){var t=n,i=this.getParent();return $0.$1(i)||(t=i.$1Wb()),!!(n&t)}};Microsoft.Crm.Client.Core.ViewModels.$F1=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$F1.initializeBase(this);this.$8D=n;this.$7M=t;this.$66=i;this.controls=new Xrm.XrmControls;this.$XX=n.$1z;this.$15k=null;r.ControlProperties&&"logicalSeparatedChildrensNames"in r.ControlProperties&&(this.$15k=r.ControlProperties.logicalSeparatedChildrensNames)};Microsoft.Crm.Client.Core.ViewModels.$F1.prototype={$8D:null,$7M:null,$15k:null,$66:null,$XX:!1,getParent:function(){return this.$66},$1Wb:function(){return this.$8D.$1z},$ak:function(){this.$8D.$UD()},$iA:function(n){this.$XX&&this.$2Lc(n)},$2Lc:function(n){var r=this.getParent(),u=!!(n&($0.$1(r)||r.getVisible())),e,t;if(this.$8D.set_Visible(u),!$0.$1(this.$15k)&&this.$15k.length>0)for(var f=this.$15k,o=f.length,i=0;i<o;++i)e=f[i],t=this.$8D.$2.$13.ui.controls.get(e),!$0.$1(t)&&Microsoft.Crm.Client.Core.ViewModels.ClientApi.$EE.isInstanceOfType(t)&&t.$1Iv(u)},getLabel:function(){return this.$8D.$1D},getName:function(){return this.$7M},getVisible:function(){return this.$XX},setVisible:function(n){this.$XX=n;this.$2Lc(n)},setLabel:function(n){this.$8D.set_Label(n)}};Microsoft.Crm.Client.Core.ViewModels.$FE=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$FE.initializeBase(this);this.$8D_2=n;this.$7M_2=t;this.$66_2=i;this.sections=new Xrm.XrmTabSections};Microsoft.Crm.Client.Core.ViewModels.$FE.prototype={$66_2:null,$8D_2:null,$1Je:null,$7M_2:null,$ak:function(){var n=this;this.sections.forEach(function(n){n.$ak()});this.$8D_2.$UD()},getParent:function(){return this.$66_2},addTabStateChange:function(n){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$2dN(this.$7M_2,n)},setIsSubGrid:function(){},getDisplayState:function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?(this.$1Je=this.$66_2.tabNavigatorGroup,this.$1Je.getDisplayState(this.$7M_2)):"expanded"},removeTabStateChange:function(n){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$3Mh(this.$7M_2,n)},setDisplayState:function(n){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(this.$1Je=this.$66_2.tabNavigatorGroup,this.$1Je.setDisplayState(n,this.$7M_2))},setFocus:function(){if(!Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$8D_2.$2)){var n=this.$8D_2.$2.$13.ui.$1S6;!$0.$1(n)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(n.$8D_2)&&this.$8D_2.set_HasFocus(!1);Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$8D_2)&&(this.$8D_2.set_HasFocus(!0),this.$8D_2.$2.$13.ui.$1S6=this)}},setVisible:function(n){var t,i;if(!Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$8D_2.$2))for(this.$8D_2.set_Visible(n),t=0;t<this.sections.getLength();t++)i=this.sections.get(t),$0.$1(i)||i.$iA(n)},getLabel:function(){return this.$8D_2.$1D},getName:function(){return this.$7M_2},getVisible:function(){if(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$8D_2.$2)){var n=this.$8D_2.$2.$6F(this.$8D_2);return n.$Ed===this.$8D_2.$2.get_CurrentActivePage().$Ed}return this.$8D_2.$1z},setLabel:function(n){this.$8D_2.set_Label(n)}};Microsoft.Crm.Client.Core.ViewModels.$Sl=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Sl.initializeBase(this);this.$Y=new Microsoft.Crm.Client.Core.ViewModels.$7J(n,t,i,r);this.controls=this.$Y.controls};Microsoft.Crm.Client.Core.ViewModels.$Sl.prototype={$Y:null,$mX:function(){return this.$Y},getMaxLength:function(){return $0.$1(this.$Y.$2V)?0:this.$Y.$2V.get_$1Fk()},setValue:function(n){if($0.$1(n)||String.isInstanceOfType(n))this.$Y.setValue(n);else throw Error.create(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DevError.BadDataType.String"));},addOnChange:function(n){this.$Y.addOnChange(n)},fireOnChange:function(){this.$Y.fireOnChange()},getAttributeType:function(){return this.$Y.getAttributeType()},getFormat:function(){return this.$Y.getFormat()},getIsDirty:function(){return this.$Y.getIsDirty()},getIsValid:function(){return this.$Y.getIsValid()},getName:function(){return this.$Y.getName()},getKey:function(){return this.$Y.getKey()},getParent:function(){return this.$Y.getParent()},getRequiredLevel:function(){return this.$Y.getRequiredLevel()},getSubmitMode:function(){return this.$Y.getSubmitMode()},getUserPrivilege:function(){return this.$Y.getUserPrivilege()},getValue:function(){return this.$Y.getValue()},removeOnChange:function(n){this.$Y.removeOnChange(n)},resetInitialValue:function(n){this.$Y.resetInitialValue(n)},setRequiredLevel:function(n){this.$Y.setRequiredLevel(n)},setSubmitMode:function(n){this.$Y.setSubmitMode(n)}};Microsoft.Crm.Client.Core.ViewModels.$Lq=function(n,t){var i,r,u;this.$l8=n;this.$VJ={};i=t;for(r in i)u={key:r,value:i[r]},this.$VJ[u.key]=u.value;this.$2RL=[];this.$2RK=0;this.$2Uv=[];this.$2Uu=0};Microsoft.Crm.Client.Core.ViewModels.$Lq.prototype={$l8:null,$VJ:null,$2RL:null,$2RK:0,$2Uv:null,$2Uu:0,addEventListener:function(n,t){this.$l8.addEventListener(n,t)},getBoundingBox:function(){var t=this.$l8.getBoundingBox(),n=new XrmUI.$MG,i=this.$l8;return n.pageX=Number.parseInvariant(t.left.toString()),n.pageY=Number.parseInvariant(t.top.toString()),n.height=Number.parseInvariant(t.height.toString()),n.width=Number.parseInvariant(t.width.toString()),n.ctrlObject=i,n},getChildControls:function(){return Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.get_$5().$2HV(this.getKey())},getCtrlType:function(){return this.$VJ.type.toString()},getCtrlObj:function(){return this.$l8},getKey:function(){return"id"in this.$VJ&&!IsNull(this.$VJ.id)?this.$VJ.id.toString():"type"in this.$VJ&&!IsNull(this.$VJ.type)?this.$VJ.type.toString():null},getProperties:function(){return this.$VJ},isVisible:function(){return this.$l8.isVisible()},removeEventListener:function(n){this.$l8.removeEventListener(n)},triggerClick:function(){throw Error.notImplemented();}};Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper=function(){this.getControls=this.$3bM;this.getAllChildControls=this.$3bL};Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.get_$5=function(){return Mscrm.InternalUtilities._Script.isNullOrUndefined(Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$D)&&(Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$D=new Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper,Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$D.$1Am=new XrmUI.XrmUIControls,Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$D.$rc=new XrmUI.XrmUIControls,XrmUI.Manager.ControlsData=Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$D),Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$D};Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.prototype={$1Am:null,$rc:null,registerControl:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.$Lq(n,t);"parentId"in t?this.$rc.add(i):this.$1Am.add(i)},$2HV:function(n){var t=this;return this.$rc.getByFilter(function(t){var i=t.getProperties();return"parentId"in i&&!Mscrm.InternalUtilities._Script.isNullOrUndefined(i.parentId)&&i.parentId.toString()===n})},$3bL:function(){return this.$rc},$3bM:function(){return this.$1Am},unRegisterControl:function(n){var l=this,r=this.$rc.getByFilter(function(t){var u=t.getProperties(),f=n,r,i;for(r in f)if(i={key:r,value:f[r]},!(i.toString()in u)||u[i.toString()]!==n[i.toString()])return!1;return!0}),u,e,s;if(!Mscrm.InternalUtilities._Script.isNullOrUndefined(r)){if("id"in n){u=this.$2HV(n.id.toString());for(var f=u,h=f.length,t=0;t<h;++t)e=f[t],this.$rc.remove(e)}for(var o=r,c=o.length,i=0;i<c;++i)s=o[i],this.$1Am.remove(s)}}};Microsoft.Crm.Client.Core.ViewModels.$U0=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$U0.initializeBase(this,[n,t,i,r])};Microsoft.Crm.Client.Core.ViewModels.$U0.prototype={getControlType:function(){return"webresource"}};Microsoft.Crm.Client.Core.ViewModels.$QH=function(){Microsoft.Crm.Client.Core.ViewModels.$QH.initializeBase(this);this.client=new Microsoft.Crm.Client.Core.ViewModels.$QI};Microsoft.Crm.Client.Core.ViewModels.$QH.prototype={$G3:null,getOrgLcid:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$Bu},getTimeZoneOffsetMinutes:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$K8+Microsoft.Crm.Client.Core.Framework.$m.$1TW(new Date,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$En())},getOrgUniqueName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$LS},getUserId:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString();return $0.$1(n)?n:Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(n)},getUserLcid:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$Ab},getUserRoles:function(){var t,n;if($0.$1(this.$G3)){for(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=0;n<Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$G3.length;n++)t.add(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$G3[n].toString());this.$G3=t.toArray()}return this.$G3},getClientUrl:function(){var n=window.location.href,r=n.indexOf(window.location.pathname),t=n.substring(0,r),i;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Q.usepathbasedurls?(i=this.getOrgUniqueName(),t+"/"+i):t},getClientUrlForInteractioncentricDashboard:function(){var n=window.location.href,t=n.indexOf(window.location.pathname);return n.substring(0,t)},getVersion:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Yv},isCrmOnline:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Q.islive},isOffice365:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Q.isosdporganization},prependOrgName:function(n){return String.format("/{0}{1}",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$Ju,n)},getCurrentTheme:function(){return null},getQueryStringParameters:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();return $0.$1(n)||$0.$1(n.ui)||$0.$1(n.ui.$2)?null:n.ui.$2.$A1},getUserName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$AQ},getIsAutoSaveEnabled:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$fX},getEnableMicrosoftFlowIntegration:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$1Qy},getIsTelemetryEnabled:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$1FI},getServerDatabaseVersion:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$2WA()},isKnowledgeManagementConfigured:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$1Vx}};Microsoft.Crm.Client.Core.ViewModels.$QI=function(){Microsoft.Crm.Client.Core.ViewModels.$QI.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$QI.prototype={getClient:function(){return"Mobile"},getClientState:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()?"Online":"Offline"},getFormFactor:function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?1:Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()?3:2}};Microsoft.Crm.Client.Core.ViewModels.$2q=function(){this.dispose=this.$6D;Microsoft.Crm.Client.Core.ViewModels.$2q.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$2q.$Aj=function(n,t){var i=n.$13,r;$0.$1(i.data)&&(r=new Microsoft.Crm.Client.Core.ViewModels.$4K(n,t),r.$18(),i.data=new Microsoft.Crm.Client.Core.ViewModels.$2q,i.data.entity=r,i.data.$sX=r,i.data.$2=n)};Microsoft.Crm.Client.Core.ViewModels.$2q.prototype={$sX:null,$2:null,$1yE:function(n){$0.$1(this.entity)||this.$sX.$1yE(n)},$2TA:function(n){$0.$1(this.entity)||this.$sX.$3Lq(n)},$1aS:function(n){this.process=new Microsoft.Crm.Client.Core.ViewModels.$QQ(n)},addOnLoad:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$2dI(n)},blockAutoSave:function(){},removeOnLoad:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$3Md(n)},getIsDirty:function(){return Microsoft.Crm.Client.Core.Models.$z.isInstanceOfType(this.$2.get_$1K())?this.$2.get_$1K().$FH():!1},setFormDirty:function(n){Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$2.get_$1K())?this.$2.get_$1K().isDirtySetByClient=n?1:2:Microsoft.Crm.Client.Core.Models.$4B.isInstanceOfType(this.$2.get_$1K())&&(this.$2.get_$1K().isDirtySetByClient=n?1:2)},$6D:function(){$0.$1(this.$sX)||(this.$sX.$6D(),this.$sX=null);$0.$1(this.process)||(this.process=null);this.$2=null},getIsValid:function(){return this.$2.$Co},save:function(){var n,t,f,e,o,i,u,s,r,h,c;return!$0.$1(this.$2)&&this.$2.$o===12?null:(n=null,t=MscrmComponents.DeferredPromiseFactory(Xrm.SaveSuccessResponse,Xrm.SaveErrorResponse),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x)?(f=Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(-2147093991),e="Xrm.Page.Data.Save is prohibited in Preview mode.",t.reject(new Xrm.SaveErrorResponse(-2147093991,f,e)),t.promise()):(this.$2.$o===5?this.$2.get_CanCreate()?(n=this.$2.$Nx.$4Z(),o=this,n.add_$OG(function(n){var i=o.$2.$BQ,r=$0.$1(i.$z)?null:Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(i.$z);t.reject(new Xrm.SaveErrorResponse(i.$z,r,n.$CA.message))})):t.resolve():(this.$2.$o===2||this.$2.$o===40||this.$2.$o===39)&&this.$2.$Co&&(i=1,this.$2.$o===39?(u={},u.SaveMode=i,n=this.$2.$Hd.$DG(u),s=this,n.add_$OG(function(n){var i=s.$2.$BQ,r=$0.$1(i.$z)?null:Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(i.$z);t.reject(new Xrm.SaveErrorResponse(i.$z,r,n.$CA.message))})):(r=this.$2.$13.context.saveMode,$0.$1(r)||r===-1||(i=r,this.$2.$13.context.saveMode=-1),n=this.$2.$Hd.$DG(i),h=this,n.add_$OG(function(n){var i=h.$2.$BQ,r=$0.$1(i.$z)?null:Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(i.$z);t.reject(new Xrm.SaveErrorResponse(i.$z,r,n.$CA.message))}))),$0.$1(n)||(c=this,n.add_$RQ(function(){t.resolve()}),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)),t.promise())},refresh:function(n){if(this.$2.$o===5)return n?this.save():null;if(this.$2.$o===2||this.$2.$o===40||this.$2.$o===39){var t=MscrmComponents.DeferredPromiseFactory(Xrm.SaveSuccessResponse,Xrm.SaveErrorResponse),u=this,i=function(n){t.resolve(n);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1zm(new Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs(3))},f=this,r=function(n){var i=$0.$1(n.$z)?null:Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(n.$z),r=$0.$1(n.$xh)?null:n.$xh.message;t.reject(new Xrm.SaveErrorResponse(n.$z,i,r))};return this.$2.$o===39?this.$2.$vb(!1,!n).then(i,r):this.$2.$vb(!1,!n).then(i,r),t.promise()}return null},refreshAppointment:function(){return null}};Microsoft.Crm.Client.Core.ViewModels.$59=function(){this.$$d_$2bb=Function.createDelegate(this,this.$2bb);this.$$d_$2ba=Function.createDelegate(this,this.$2ba);this.$10l={};Microsoft.Crm.Client.Core.ViewModels.$59.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$59.$Aj=function(n){var t=n.$13;$0.$1(t.ui)&&(t.ui=new Microsoft.Crm.Client.Core.ViewModels.$59,t.ui.$2=n,t.ui.controls=new Xrm.XrmControls,t.ui.tabs=new Xrm.XrmTabs,t.ui.tabNavigators=new Xrm.XrmTabNavigators,t.ui.formSelector=new Xrm.XrmControlFormSelectorWrapper,Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(n)&&(t.ui.taskProcess=new Microsoft.Crm.Client.Core.ViewModels.$QJ(n)))};Microsoft.Crm.Client.Core.ViewModels.$59.prototype={$dn:null,$1S6:null,$F2:null,$2:null,$ak:function(){var t=this,n;this.controls.forEach(function(n){Microsoft.Crm.Client.Core.ViewModels.$F5.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$E4.isInstanceOfType(n)||n.$ak()});n=this;this.tabs.forEach(function(n){n.$ak()})},$3Lk:function(n,t){switch(t.ApiDescriptor.ControlType){case 2:this.$387(n,t);break;case 22:this.$388(n,t);break;case 23:this.$37k(n,t);break;case 24:this.$37l(n,t);break;case 21:this.$389(n,t);break;case 3:this.$380(n,t);break;case 19:this.$383(n,t);break;case 4:case 10:case 11:case 27:case 16:this.$381(n,t);break;case 9:this.$37v(n);break;case 1:case 5:case 6:case 7:case 15:case 18:case 14:case 25:case 17:case 20:this.$37U(n,t);break;case 13:case 12:this.$38C(n,t)}},$2T8:function(n,t){var f=t.ApiDescriptor.ParentName,i=this.controls.getByName(f),u,r;if(!$0.$1(i)&&Microsoft.Crm.Client.Core.ViewModels.$Cz.isInstanceOfType(i))if(u=i,t.ApiDescriptor.ControlType!==14)if(r=u.$B1,$0.$1(r))throw Error.invalidOperation("Cannot register a non-custom control child of this container without first registering the custom control child");else r.$7L(n,t.ApiDescriptor.EditMode);else{r=this.$6i(n,t.ApiDescriptor);u.$2cq(r);return}else($0.$1(i)||!Microsoft.Crm.Client.Core.ViewModels.$D1.isInstanceOfType(i))&&Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,"Parent cannot be found or is not a custom control")},close:function(){Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AW(this.$2):Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)?this.$2.$VB():Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)?this.$2.$3Pi():Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1v2(!1)},getViewPortHeight:function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?this.$2IX().height():0},getViewPortWidth:function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?this.$2IX().width():0},refreshRibbon:function(){$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())||$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1AY())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p.forceRuleEvaluation()},getFormType:function(){return Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)?1:this.$2.$7s===1?1:Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)?12:Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$2.get_ModelContext())&&this.$2.get_ModelContext().get_$Za()?4:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$2.$J,2)?2:3},getCurrentControl:function(){for(var n,r,u=this.controls.get(),i=u,f=i.length,t=0;t<f;++t)if(n=i[t],Microsoft.Crm.Client.Core.ViewModels.$Ah.isInstanceOfType(n)&&(r=n,r.$1qJ()))return n;return null},setFormNotification:function(n,t,i){var r,u;if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2))return!1;if(Microsoft.Crm.Client.Core.Framework.$3.$9(i)&&(i=this.$33i()),r=0,t)switch(t.toUpperCase()){case"INFO":r=1;break;case"WARNING":r=2;break;case"ERROR":r=3;break;case"LOCALSAVE":r=4;break;default:r=0}return u=null,i==="SaveDuplicate"&&(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$HY)),u.$2i(new Microsoft.Crm.Client.Core.ViewModels.$ET("abc",this.$$d_$2ba)),u.$2i(new Microsoft.Crm.Client.Core.ViewModels.$ET("xyz",this.$$d_$2bb))),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?Microsoft.Crm.Client.Core.ViewModels.$1K.$RN(n):Microsoft.Crm.Client.Core.ViewModels.$1K.$163(n,r,i,u,8192)},setFormHtmlNotification:function(){return!1},$2ba:function(){Microsoft.Crm.Client.Core.ViewModels.$1V.$169("Action1","Action1")},$2bb:function(){Microsoft.Crm.Client.Core.ViewModels.$1V.$169("Action2","Action2")},clearFormNotification:function(n){return Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)?!1:Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?Microsoft.Crm.Client.Core.ViewModels.$1K.$2hx():Microsoft.Crm.Client.Core.ViewModels.$1K.$Q3(n)},removeCurrentControlFocus:function(){var n=this.getCurrentControl();$0.$1(n)||Microsoft.Crm.Client.Core.ViewModels.$Ah.isInstanceOfType(n)&&n.$20j(!1)},$6D:function(){if(Xrm.XrmFormUI.prototype.$6D.call(this),this.$2=null,!$0.$1(this.controls)){var n=this;this.controls.forEach(function(n){n.$6D()})}},$2IX:function(){return $(".InteractionCentricFormBody",window.document.body)},$387:function(n,t){var r=t.ApiDescriptor,i;i=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$TM(n,r.ControlName,this):new Microsoft.Crm.Client.Core.ViewModels.$FE(n,r.ControlName,this);this.tabs.add(i);this.$dn=i;this.$F2=null;Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(n)&&n.get_HasFocus()&&(this.$1S6=i)},$388:function(n,t){var i=t.ApiDescriptor,r=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T7(n,i.ControlName,this);this.tabNavigators.add(r)},$389:function(n,t){var r=t.ApiDescriptor,i=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T5(n,this);this.tabNavigatorGroup=i},$37k:function(n,t){this.navigation=new Microsoft.Crm.Client.Core.ViewModels.$RH(n,!1,t.Name,null,null)},$37l:function(n,t){this.navigation&&(this.navigation.items.getByName(t.Name)&&this.navigation.items.remove(this.navigation.items.getByName(t.Name)),this.navigation.items.add(new Microsoft.Crm.Client.Core.ViewModels.$RG(n,!1,t.Name,null,null)))},$380:function(n,t){var r=t.ApiDescriptor,i=new Microsoft.Crm.Client.Core.ViewModels.$F1(n,r.ControlName,this.$dn,t);$0.$1(this.$dn)||this.$dn.sections.add(i);this.$F2=i},$37U:function(n,t){var i=t.ApiDescriptor,u=i.ControlName,r,e,o,f;i.ControlName=i.ControlName+($0.$1(this.$10l[u])?"":this.$10l[u]);i.EditMode?this.$1rg(n,i):(r=this.controls.get(i.ControlName),!$0.$1(r)&&$0.$1(r.get_$1aD())?i.ControlType===14?(e=r.get_$9u(),$0.$1(this.$F2)||this.$F2.controls.remove(r),this.controls.remove(r),o=this.$1rg(n,i),o.$7L(e,!0)):r.$7L(n,i.EditMode):this.$1rg(n,i),this.$10l[u]=u in this.$10l?this.$10l[u]+1:1,$0.$1(Xrm)||$0.$1(Xrm.Page)||$0.$1(Xrm.Page.data)||$0.$1(Xrm.Page.data.entity)||$0.$1(Xrm.Page.data.entity.attributes)||$0.$1(i.FieldName)||(f=Xrm.Page.data.entity.attributes.get(i.FieldName),$0.$1(f)||$0.$1(f.controls)||f.controls.add(r)))},$1rg:function(n,t){var i=this.$6i(n,t);return $0.$1(this.$F2)||this.$F2.controls.add(i),this.controls.add(i),i},$383:function(n,t){var e=t.ApiDescriptor,u="",f="",i,r;$0.$1(t.ControlProperties)||("LogicalTabParent"in t.ControlProperties&&(u=t.ControlProperties.LogicalTabParent),"LogicalSectionParent"in t.ControlProperties&&(f=t.ControlProperties.LogicalSectionParent));i=new Microsoft.Crm.Client.Core.ViewModels.$E4(n,e.ControlName,u,f);$0.$1(i)||(r=i.getParent(),$0.$1(r)||r.controls.add(i),this.controls.add(i))},$6i:function(n,t){switch(t.ControlType){case 5:return new Microsoft.Crm.Client.Core.ViewModels.$UB(n,t.EditMode,t.ControlName,t.FieldName,this.$F2);case 6:return new Microsoft.Crm.Client.Core.ViewModels.$UG(n,t.EditMode,t.ControlName,t.FieldName,this.$F2);case 7:return new Microsoft.Crm.Client.Core.ViewModels.$UJ(n,t.EditMode,t.ControlName,t.FieldName,this.$F2);case 15:return new Microsoft.Crm.Client.Core.ViewModels.$U7(n,t.EditMode,t.ControlName,t.FieldName,this.$F2);case 18:return new Microsoft.Crm.Client.Core.ViewModels.$Te(n,t.EditMode,t.ControlName,t.FieldName,this.$F2);case 14:return new Microsoft.Crm.Client.Core.ViewModels.$D1(n,t.EditMode,t.ControlName,t.FieldName,this.$F2);case 25:return new Microsoft.Crm.Client.Core.ViewModels.$Cz(n,t.ControlName,t.FieldName,this.$F2);case 17:return new Microsoft.Crm.Client.Core.ViewModels.$Td(n,t.EditMode,t.ControlName,t.FieldName,this.$F2);case 20:return new Microsoft.Crm.Client.Core.ViewModels.$Tc(n,t.EditMode,t.ControlName,t.FieldName,this.$F2);case 1:return new Microsoft.Crm.Client.Core.ViewModels.$UA(n,t.EditMode,t.ControlName,t.FieldName,this.$F2);default:return new Microsoft.Crm.Client.Core.ViewModels.$TU(n,t.EditMode,t.ControlName,t.FieldName,this.$F2)}},$381:function(n,t){var e=t.ApiDescriptor,u="",f="",i,r;$0.$1(t.ControlProperties)||("LogicalTabParent"in t.ControlProperties&&(u=t.ControlProperties.LogicalTabParent),"LogicalSectionParent"in t.ControlProperties&&(f=t.ControlProperties.LogicalSectionParent));i=this.$34M(n,e,u,f);$0.$1(i)||(r=i.getParent(),$0.$1(r)||r.controls.add(i),this.controls.add(i))},$34M:function(n,t,i,r){switch(t.ControlType){case 4:return new Microsoft.Crm.Client.Core.ViewModels.$EP(n,t.ControlName,i,r,t.ChildListName);case 10:return new Microsoft.Crm.Client.Core.ViewModels.$U2(n,t.ControlName,i,r);case 27:return new Microsoft.Crm.Client.Core.ViewModels.$Tl(n,t.ControlName,i,r);case 11:return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$Ek.$2j0("4156db68-93e2-4a83-8cbb-5bb344ebaf47")?new Microsoft.Crm.Client.Core.ViewModels.$U0(n,t.ControlName,i,r):null;case 16:return new Microsoft.Crm.Client.Core.ViewModels.$U8(n,t.ControlName,i,r,t.ChildListName);default:return null}},$37v:function(n){this.process=new Microsoft.Crm.Client.Core.ViewModels.$QP(n)},$38C:function(n,t){var r=t.ApiDescriptor,i=this.$35M(n,r);$0.$1(this.$F2)||this.$F2.controls.add(i);this.controls.add(i)},$35M:function(n,t){switch(t.ControlType){case 12:return new Microsoft.Crm.Client.Core.ViewModels.$Tn(n,t.ControlName,this.$F2);case 13:return new Microsoft.Crm.Client.Core.ViewModels.$F5(n,t.ControlName,this.$F2)}return null},$33i:function(){var n=Math.random();return"Random_String_"+n}};Microsoft.Crm.Client.Core.ViewModels.$QJ=function(n){Microsoft.Crm.Client.Core.ViewModels.$QJ.initializeBase(this);this.$16b=n};Microsoft.Crm.Client.Core.ViewModels.$QJ.prototype={$16b:null,getCurrentPageName:function(){return this.$16b.get_CurrentActivePage().$Ed},getDefaultNextPageName:function(){return this.$16b.get_CurrentActivePage().$lQ},movePrevious:function(){this.$16b.back()},moveTo:function(n){this.$16b.open(n)}};Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper=function(n){this.addRecord=this.$2dW;this.$22=n};Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper.prototype={$22:null,$2dW:function(){if(Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$22))if(this.$22.$pY){var n=this.$22.$1Jw;$0.$1(n)||n.set_FlyOutExpanded(!0)}else Microsoft.Crm.Client.Core.Framework.$3.$9(this.$22.$5y)||this.$22.$Nu===14?this.$22.addCommand.execute():this.$22.get_AddExistingCommand().execute()},openAssociatedGrid:function(){Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$22)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$22.$9c)&&this.$22.$aK.execute()},refresh:function(){this.$22.$X6()},getCellValue:function(n,t){for(var u,f,i,r=0;r<this.$22.$2u.get_$B5().get_Count();r++)if(u=this.$22.$2u.get_$B5().get_$I(r),f=u.get_$1a(),t===f&&(i=u.GetValue(n),!$0.$1(i)))return Object.getType(i)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O?i.get_$bV():i.toString();return null},getRelationshipName:function(){var n=this.$22.$5y;return $0.$1(n)?"":n},getRelationshipAttributeName:function(){return this.$22.$7n},getRelationshipRoleOrdinal:function(){return this.$22.$A3},getRelationshipType:function(){return this.$22.$5h},getGrid:function(){return new Xrm.XrmControlGridWrapper(this.$22)},getChart:function(){return new Xrm.XrmChartWrapper(this.$22)},addOnLoad:function(n){var t=new Microsoft.Crm.Client.Core.Models.Constants.$Jo,i,r,u;t.passExecutionContext=!0;t.method=n;i=this.$22.get_$7I().get_$1vx();$0.$1(i)?(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$Jo))([t]),r=new Microsoft.Crm.Client.Core.Models.$JM(u,null),r.details=new Microsoft.Crm.Client.Core.Models.$JI(9,this.$22.$G),this.$22.get_$7I().set_$1vx(r)):i.handlers.add(t)},removeOnLoad:function(n){var t=this.$22.get_$7I().get_$1vx(),i;if(!$0.$1(t)&&!$0.$1(t.handlers))for(i=0;i<t.handlers.get_Count();i++)if(t.handlers.get_$I(i).method===n){t.handlers.remove(t.handlers.get_$I(i));break}},getRelationship:function(){var n=new Xrm.XrmEntityRelationship;return n.name=this.getRelationshipName(),n.attributeName=this.getRelationshipAttributeName(),n.relationshipType=this.getRelationshipType(),n.roleType=this.getRelationshipRoleOrdinal(),n},getViewSelector:function(){return new Xrm.XrmViewSelectorWrapper(this.$22)},getEntityName:function(){return this.$22.$J},exportToExcel:function(){},SetParameter:function(){},addButtonClickHandler:function(){},GetParameter:function(){return null},GetRecordsFromInnerGrid:function(){return null}};Microsoft.Crm.Client.Core.ViewModels.$16=function(){};Microsoft.Crm.Client.Core.ViewModels.$16.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Core.ViewModels.$16.$3)&&(Microsoft.Crm.Client.Core.ViewModels.$16.$3=new Microsoft.Crm.Client.Core.ViewModels.$16),Microsoft.Crm.Client.Core.ViewModels.$16.$3};Microsoft.Crm.Client.Core.ViewModels.$16.$2Bp=function(n,t){var i=null,u,f,r,e,o;if(Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C.isInstanceOfType(t)&&(f=t.$1eI(u={val:i}),i=u.val,f))return i;if(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(t)){if(n===2)return t.get_$2R();if(n===1){if(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(t)){if(r=t.get_$Ox(),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C.isInstanceOfType(t)&&(o=t.$1eI(e={val:i}),i=e.val,o))return i}else r=t.get_$CK().get_$Ox();if(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(r))return r.$J}}else if((n===1||n===2)&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t))return t.get_$2R();return"none"};Microsoft.Crm.Client.Core.ViewModels.$16.$2ot=function(n){return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(n)?n.$J:"none"};Microsoft.Crm.Client.Core.ViewModels.$16.$38q=function(n){if(!$0.$1(n)&&n.length&&n!=="none"){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return!$0.$1(t)&&t.get_$8p()}return!1};Microsoft.Crm.Client.Core.ViewModels.$16.$28d=function(n){var t;switch(n){case 1:t=0;break;case 2:t=1;break;case 4:t=2;break;case 8:t=3;break;case 16:t=7;break;case 32:t=6;break;case 64:t=4;break;case 128:t=5;break;default:t=1}return t};Microsoft.Crm.Client.Core.ViewModels.$16.$28e=function(n){return($0.$1(n)||n===-1)&&(n=0),n};Microsoft.Crm.Client.Core.ViewModels.$16.prototype={get_$f:function(){return Microsoft.Crm.Client.Core.Framework.$G.$b("","RuleEvaluator")},$1RE:function(n,t){return $0.$1(n)||$0.$1(n.Rules)||!n.Rules.length?MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4).resolve(!0):this.$1mk(n.Rules,t)},$5a:function(n,t){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),i=null,u;if($0.$28(n))return r.resolve(!1);switch(n.RuleType){case 8:i=this.$2or(n);break;case 1:i=this.$2ox(n,t);break;case 7:i=this.$2p0(n,t);break;case 4:i=this.$2p2(n,t);break;case 16:i=this.$2p4(n);break;case 2:i=this.$2p6(n,t);break;case 10:i=this.$2p8(n);break;case 19:i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4).resolve(n.DefaultValue);break;case 17:i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4).resolve(!1);break;case 12:i=this.$2pA(n);break;case 6:i=this.$2ov(n,t);break;case 5:i=this.$2pF(n);break;case 11:i=this.$2pG(n);break;case 3:i=this.$2pJ(n,t);break;case 26:i=this.$2os(n);break;case 31:i=this.$2ou(n);break;case 15:i=this.$2ow(n,t);break;case 21:i=this.$2oz(n,t);break;case 9:i=this.$2p7(n);break;case 18:i=this.$2p9(n);break;case 23:i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4).resolve(!1);break;case 13:i=this.$2p3(n);break;case 22:i=this.$2pB(n,t);break;case 20:i=this.$2pC(n,t);break;case 24:i=this.$2p5(n,t);break;case 35:i=this.$2oy(n,t);break;case 25:i=this.$2p1(n,t);break;default:i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4).resolve(!0)}return $0.$28(i)&&(i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4)),u=this,i.done(function(t){$0.$28(t)&&(t=$0.$28(n.DefaultValue)?!0:n.DefaultValue);!$0.$28(n.InvertResult)&&n.InvertResult&&(t=!t);r.resolve(t)}),r.promise()},$1mk:function(n,t){for(var f,i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),u=n.length,r=0;r<n.length;r++)f=this,this.$5a(n[r],t).done(function(n){n?--u||i.resolve(!0):i.resolve(!1)});return i.promise()},$2p6:function(n,t){for(var f,i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),u=n.OrGroups.length,r=0;r<n.OrGroups.length;r++)f=this,this.$1mk(n.OrGroups[r].Rules,t).done(function(n){n?i.resolve(!0):--u||i.resolve(!1)});return i.promise()},$2p2:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluating JavascriptRulePart Function name: {0} - Library: {1}",n.FunctionName,n.Library),Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1ms(n.FunctionName,n.Library,n.Parameters,t,null,i),i.promise()},$2or:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return t.resolve(n.ClientType===1)},$2pF:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),i=0;return $0.$1(n.Minimum)||(i=n.Minimum),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?t.resolve(!0):t.resolve(i<2),t},$2p0:function(n,t){var c=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),r=n.DefaultValue,i,o,s,u,e;switch(n.FormState){case 2:case 4:if(i=-1,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C.isInstanceOfType(t)&&(s=t.$3WD(o={val:i}),i=o.val,s))u=n.FormState===2?0:1,r=u===i||u===1&&i>=u;else{var h=Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(t)?t:t.get_Root(),f=h.get_ModelContext(),l=h.get_$2R();$0.$1(f)||$0.$1(f.$M)||$0.$1(f.$M.getValue("statecode"))?r=!1:Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Xrm.Page.data.entity.getEntityName().toLowerCase()==="email"&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)?r=t.$7s===n.FormState:(e=n.FormState===2?0:1,i=f.$M.getValue("statecode").$1i,i===3&&Microsoft.Crm.Client.Core.ViewModels.$16.$38q(l)&&(i=0),r=e===i||e===1&&i>=e)}break;case 1:r=Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(t)?!0:Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C.isInstanceOfType(t)?t.get_$394():!1;break;case 9:case 3:case 7:case 6:case 0:r=!1}return c.resolve(r)},$2pG:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return t.resolve(!!(n.SkuTypes&2))},$2oz:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),r=null,u,f;return Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C.isInstanceOfType(t)&&(f=t.$1eI(u={val:r}),r=u.val,f)?i.resolve(r===n.EntityLogicalName):Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)?i.resolve(t.$J===n.EntityLogicalName):!$0.$1(t.get_Root())&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t.get_Root())?i.resolve(t.get_Root().$J===n.EntityLogicalName):i.resolve(n.DefaultValue)},$2pJ:function(n,t){var o=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),u,s,h,c,l,f,a,e,i,r;return Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C.isInstanceOfType(t)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(n.Value)&&((u=null,n.Field.toLowerCase()==="statecode"&&(h=t.$3WE(s={val:u}),u=s.val,h))||n.Field.toLowerCase()==="statuscode"&&(l=t.$3WF(c={val:u}),u=c.val,l))?o.resolve(u.toLowerCase()===n.Value.toLowerCase()):(f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)&&(a=t,e=a.get_ModelContext(),!$0.$1(e)&&!$0.$1(e.$M)&&(i=null,$0.$1(f.data)||$0.$1(f.data.entity)?i=e.$M.getValue(n.Field):(r=f.data.entity.attributes.get(n.Field),$0.$1(r)||(Microsoft.Crm.Client.Core.ViewModels.$Eg.isInstanceOfType(r)?(i=r.getInvariantText(),i.toString()!==n.Value&&(i=r.getSelectedOption().text,i.toString()!==n.Value&&(i=r.getSelectedOption().value))):i=Microsoft.Crm.Client.Core.ViewModels.$Cl.isInstanceOfType(r)?r.getValue()?1:0:r.getValue())),!$0.$1(i))))?o.resolve(i.toString()===n.Value):o.resolve(n.DefaultValue)},$2NB:function(n){return Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.isInstanceOfType(n)&&n.$8K},$2ox:function(n,t){var r=n.AppliesTo,e,h,c,l,o,s;(IsNull(r)||!r)&&(r=1);var u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),i=null,f=null;return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C.isInstanceOfType(t)&&t.get_$39S()?f="Form":(this.$2NB(t)||Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(t)&&this.$2NB(t.get_$CK()))&&(f="HomePageGrid"),r===1?Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)&&(i=t.$J):r===2&&(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(t))&&(i=t.$J),e=null,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C.isInstanceOfType(t)&&(c=t.$1eI(h={val:e}),e=h.val,c)&&(i=e),l=IsNull(n.EntityLogicalName)||!n.EntityLogicalName.length||(n.EntityLogicalName==="listmember"?i==="account"||i==="contact"||i==="lead":i===n.EntityLogicalName),o=IsNull(n.EntityContextName)||!n.EntityContextName.length||f===n.EntityContextName,l?u.resolve(o):(n.EntityLogicalName==="activitypointer"&&f==="HomePageGrid"&&(s=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(i),$0.$1(s)?u.resolve(n.DefaultValue):u.resolve(s.get_$8p()&&o)),u.resolve(!1)),u.promise()},$2p3:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),u=n.PrivilegeName,i,r;return u.toLowerCase()==="osdp"?t.resolve(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Q.isosdporganization):(i=new Microsoft.Crm.Client.Core.Framework.Guid(n.PrivilegeId),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Ek.get_$I(i.toString()),$0.$1(r)?t.resolve(!1):n.PrivilegeDepth===-1?t.resolve(!0):t.resolve(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1rG(i,n.PrivilegeDepth))),t.promise()},$2p4:function(n){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),t=n.DefaultValue;return t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?n.OfflineAccessState===1:n.OfflineAccessState===2,i.resolve(t)},$2pB:function(n,t){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),i=t;return Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(i)&&!$0.$1(i.$fi)?r.resolve(i.$fi):r.resolve(n.DefaultValue)},$2pA:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return t.resolve(n.Address===Microsoft.Crm.Client.Core.Framework.$1u.$c("location"))},$2ow:function(n,t){var u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),f=null,i,r;if(f=Microsoft.Crm.Client.Core.Framework.$3.$9(n.EntityLogicalName)?Microsoft.Crm.Client.Core.ViewModels.$16.$2Bp(n.AppliesTo,t):n.EntityLogicalName,f==="none")u.resolve(n.DefaultValue);else if(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(f),$0.$1(i))Microsoft.Crm.Client.Core.Framework.Trace.logError(139,"Unable to retrieve entity metadata for entity [{0}].",f),u.resolve(n.DefaultValue);else{r=n.PropertyValue;switch(n.PropertyName){case 5:r=i.$1WZ;break;case 4:r=i.$OY;break;case 1:r=i.$1W6;break;case 2:r=i.$1VU||i.$d==="activitypointer";break;case 6:r=i.$1VV;break;case 8:r=i.get_$8p()||i.$d==="activitypointer";break;case 10:r=i.$1VW;break;case 11:r=i.$1EZ;break;case 13:r=i.$HT;break;case 14:r=i.$1Vu;break;case 15:r=i.$1Vg}u.resolve(n.PropertyValue===r)}return u},$2p7:function(n){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H,t=!0;switch(n.Setting){case 2:t=i.$nT;break;case 3:t=i.$sp!==new Date(0,0,1)}return r.resolve(t)},$2ov:function(n,t){var u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),i=null,r,f,e;return i=Microsoft.Crm.Client.Core.Framework.$3.$9(n.EntityLogicalName)?Microsoft.Crm.Client.Core.ViewModels.$16.$2Bp(n.AppliesTo,t):n.EntityLogicalName,i==="none"?u.resolve(!1):(r=t.get_Root(),$0.$1(r)||$0.$1(r.get_ModelContext())||n.AppliesTo!==1||i!==r.get_ModelContext().get_ModelName()?(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluating privileges for entity: {0}.  PrivilegeType: {1}. PrivilegeDepth: {2}",i,n.PrivilegeType,n.PrivilegeDepth),e=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$1ss(i,Microsoft.Crm.Client.Core.ViewModels.$16.$28d(n.PrivilegeType),Microsoft.Crm.Client.Core.ViewModels.$16.$28e(n.PrivilegeDepth)),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Privileges for entity: {0}.  PrivilegeType:{1}. PrivilegeDepth: {2}. Evaluated to: {3}",i,n.PrivilegeType,n.PrivilegeDepth,e),u.resolve(e)):(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluating model privileges for entity: {0}.  PrivilegeType: {1}. PrivilegeDepth: {2}. ",i,n.PrivilegeType,n.PrivilegeDepth),f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$2Mc(i,r.get_ModelContext(),Microsoft.Crm.Client.Core.ViewModels.$16.$28d(n.PrivilegeType),Microsoft.Crm.Client.Core.ViewModels.$16.$28e(n.PrivilegeDepth)),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Privileges for entity: {0}.  PrivilegeType: {1}. PrivilegeDepth: {2}. Evaluated to: {3}",i,n.PrivilegeType,n.PrivilegeDepth,f),u.resolve(f))),u},$2p8:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return t.resolve(!n.OutlookClientType)},$2p9:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return t.resolve(n.RenderType===1)},$2os:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return t.resolve(n.ClientType===1)},$2ou:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()?t.resolve(n.Type===1):Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?t.resolve(n.Type===5):t.resolve(n.Type===2)},$2pC:function(n,t){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),i;if($0.$1(n.RelationshipType))return r.resolve(!0);if(i=t,Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(i)||(i=t.get_$CK()),Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(i))if(n.RelationshipType||i.$5h!==-1)if(n.RelationshipType!==1||i.$5h){if(n.RelationshipType===2&&i.$5h===1)return r.resolve(!0)}else return r.resolve(!0);else return r.resolve(!0);return r.resolve(!1)},$2p5:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),r=Microsoft.Crm.Client.Core.ViewModels.$16.$2ot(t),u,f;return r==="none"?i.resolve(n.DefaultValue):(u=this,f=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(r,["statuscode"]),this.get_$f()).then(function(t){var r=0,h=t.get_$I(0).get_$BS(),e=h.$2f,u,o,f,s;for(u in e)if(o={key:u,value:e[u]},f=o.value.getValue(Microsoft.Crm.Client.Core.Framework.$b.$CS),$0.$1(f))continue;else if(s=f,n.StateCode===s&&(r++,r>1))break;i.resolve(r===1)},function(){Microsoft.Crm.Client.Core.Framework.Trace.logError(139,"Unable to retrieve attribute metadata for entity [{0}].",r);i.resolve(n.DefaultValue)})),i},$2oy:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return t.resolve(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabledByFCBName(n.FeatureControlBit)===n.ExpectedValue)},$2p1:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return t.resolve(n.FormType===12&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k())}};Microsoft.Crm.Client.Core.ViewModels.$Cg=function(){this.$$d_$3Eq=Function.createDelegate(this,this.$3Eq);this.$$d_$3Fs=Function.createDelegate(this,this.$3Fs);Microsoft.Crm.Client.Core.ViewModels.$Cg.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Cg.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Cg.prototype={$6T:!1,get_HasFocus:function(){return this.$6T},set_HasFocus:function(n){return this.$6T!==n&&(this.$6T=n,this.$8("HasFocus")),n},$xI:null,get_ConstituentCompositeControls:function(){return this.$xI},set_ConstituentCompositeControls:function(n){return this.$xI=n,n},$17U:null,get_$2SP:function(){return this.$29.$Jy},$21v:null,get_$Gm:function(){return this.$21v},$18:function(){this.$2T2();this.set_ActionCommand(new Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand(this.get_$Gm()));this.AddPropertyChangedListener("Visible",this.$$d_$3Fs);this.AddPropertyChangedListener("UseHiddenMask",this.$$d_$3Fs);$0.$1(this.$2)||this.$2.AddPropertyChangedListener(this.$17U,this.$$d_$3Eq);Microsoft.Crm.Client.Core.ViewModels.$8k.prototype.$18.call(this)},$GX:function(){$0.$1(this.$2)||this.$2.RemovePropertyChangedListener(this.$17U,this.$$d_$3Eq);Microsoft.Crm.Client.Core.ViewModels.$FO.prototype.$GX.call(this)},$3Eq:function(){var n=this.$29;this.$2T2();n.set_$Gm(this.get_$Gm())},$2T2:function(){for(var r,n,i="",t=0;t<this.$xI.length;t++)r=this.$xI[t].split("_").pop(),Microsoft.Crm.Client.Core.Models.Descriptors.$U.$2ao.contains(r)&&(n=this.$2.$7X(this.$xI[t]+"_readonly"),$0.$1(n)||!n.$1z||n.$Rf||$0.$1(n.get_Data())||(i+=n.get_Data().toString()+" "));this.$21v=CrmEncodeDecode.CrmUrlEncode(i)},$Or:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$FO.prototype.$Or.call(this,n,t);this.$2.$8(this.$17U)},$3Fs:function(){this.$2.$8(this.$17U)}};Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel=function(){this.$$d_$3EX=Function.createDelegate(this,this.$3EX);this.$$d_$2Qa=Function.createDelegate(this,this.$2Qa);Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel.prototype={$1Ny:null,$NA:null,$5y:null,$5h:0,$A3:0,$7n:null,$Io:null,$Qx:!1,$1Nx:null,get_AssociateLookupViewModel:function(){return this.$1Nx},set_AssociateLookupViewModel:function(n){return this.$1Nx=n,n},get_RelatedReference:function(){return this.$Io},set_RelatedReference:function(n){return this.$Io=n,n},add_$3LV:function(n){this.$2I("RecordsAssociated",n)},get_ParentId:function(){return this.$Q.$T.ParentId},get_$3NM:function(){return!0},$3EX:function(){this.$tV("RecordsAssociated");this.$VB()},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$8V.call(this,n,t);t.AddPropertyChangedListener("Data",this.$$d_$2Qa);this.$Cg("SetLookupInRoot")},$2Qa:function(n){var t=n;this.$Io=t.get_Data();$0.$1(this.$Io)||$0.$1(this.$1Ny)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(this.$1Ny.$4Z());this.$Qx=t.$Qx}};Microsoft.Crm.Client.Core.ViewModels.$Ed=function(){this.$$d_$3Ek=Function.createDelegate(this,this.$3Ek);Microsoft.Crm.Client.Core.ViewModels.$Ed.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ed.prototype={$8V:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype.$8V.call(this,n,t),this.$1zj())if(n==="notetext_edit")t.AddPropertyChangedListener("Value",this.$$d_$3Ek),this.$22x();else if(n==="AttachmentsControlViewModel"&&Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.isInstanceOfType(t)){var i=t;$0.$1(i.get_AttachmentItemViewModel())||i.get_AttachmentItemViewModel().AddPropertyChangedListener("Title",this.$$d_$3Ek)}},$1HY:function(n){if(this.$1zj())if(n.get_Name()==="notetext_edit")n.rpcl("Value",this.$$d_$3Ek),this.$22x();else if(n.get_Name()==="AttachmentsControlViewModel"&&Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.isInstanceOfType(n)){var t=n;$0.$1(t.get_AttachmentItemViewModel())||t.get_AttachmentItemViewModel().RemovePropertyChangedListener("Title",this.$$d_$3Ek)}Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$1HY.call(this,n)},$GX:function(){var t=this.$F.notetext_edit,n;$0.$1(t)||t.RemovePropertyChangedListener("Value",this.$$d_$3Ek);n=this.$F.AttachmentsControlViewModel;$0.$1(n)||$0.$1(n.get_AttachmentItemViewModel())||n.get_AttachmentItemViewModel().RemovePropertyChangedListener("Title",this.$$d_$3Ek);Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype.$GX.call(this)},$1zj:function(){return!$0.$1(this.$2)&&this.$2.$J==="annotation"},$3Ek:function(){this.$22x()},$22x:function(){var n;if(this.$1zj()){var t=null,i=null,r=this.$F.notetext_edit;$0.$1(r)||(t=r.$8F);n=this.$F.AttachmentsControlViewModel;$0.$1(n)||$0.$1(n.get_AttachmentItemViewModel())||(i=n.get_AttachmentItemViewModel().get_Title());this.$2.set_$1so(!Microsoft.Crm.Client.Core.Framework.$3.$1O(t)||!Microsoft.Crm.Client.Core.Framework.$3.$1O(i))}}};Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel=function(){this.$$d_$1w9=Function.createDelegate(this,this.$1w9);this.$$d_$1zk=Function.createDelegate(this,this.$1zk);this.$$d_$uo=Function.createDelegate(this,this.$uo);this.$kQ=new Array(0);this.$XO=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O("",0,0,-1,null,null,null);Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.$2zM=function(n,t){var i,r;if(!$0.$1(n.$Pq)&&n.$Pq.length>0)return n.$Pq;for(i=0;i<t.length;++i)if(r=t[i],r.$1i===n.$1i)return r.$Pq;return null};Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.prototype={$1HG:null,get_StateCode:function(){return this.$XO},set_StateCode:function(n){return $0.$1(n)||this.$XO===n||(this.$XO=n,this.set_ItemsList(this.$1qI()),this.$Tv&&this.get_ItemsList().length>=1&&(this.$XO.$e4!==-1?this.set_SelectedItem(this.get_ItemsList()[0].get_ValueString()):this.set_SelectedItem(this.get_ItemsList()[0].get_ValueString())),this.$8("StateCode")),n},$1w9:function(n,t,i){this.$Tv||(this.$kQ=n,n=this.$1qI(),Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$1w9.call(this,n,!1,i),n.length>=1&&this.$51===""&&this.set_SelectedItem(n[0].get_ValueString()))},$18:function(){Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$18.call(this);this.$1HG=this.$$d_$uo;!$0.$1(this.$2)&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$2.get_ModelContext())?this.$2.get_ModelContext().add_$9k(this.$1HG):Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&this.$2.add_$If(this.$$d_$1zk)},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$GX.call(this);this.$2.remove_$If(this.$$d_$1zk);!$0.$1(this.$2)&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$2.get_ModelContext())&&this.$2.get_ModelContext().remove_$9k(this.$1HG)},$1zk:function(){this.$2.get_ModelContext().add_$9k(this.$1HG)},$1qI:function(){var e,n,f,t,i,r,u,o;if(!this.$kQ||this.$kQ.length<=0)return new Array(0);if(e=Xrm.Utility.areStateTransitionsEnforced(this.$2.$J),e){if($0.$1(this.get_Data())||!Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(this.get_Data()))throw Error.argument("StatusCode","Status dropdownlist doesn't have a valid currently selected value.");if(n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O)),f=this.get_Data(),n.add(f),t=Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.$2zM(f,this.$kQ),t)for(i=0;i<t.length;i++)for(r=0;r<this.$kQ.length;r++)u=this.$kQ[r],u.$16===this.$XO.$1i&&u.$1i===t[i]&&n.add(u);return n.toArray()}return o=this,$.grep(this.$kQ,function(n){return n.$16===o.$XO.$1i})},$uo:function(){this.set_ItemsList(this.$1qI())}};Microsoft.Crm.Client.Core.ViewModels.$DL=function(){Microsoft.Crm.Client.Core.ViewModels.$DL.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$DL.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DL.prototype={$6T:!1,get_HasFocus:function(){return this.$6T},set_HasFocus:function(n){return this.$6T!==n&&(this.$6T=n,this.$8("HasFocus")),n},get_$2SP:function(){return"mailto:"}};Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel=function(){this.$$d_$Or=Function.createDelegate(this,this.$Or);this.$5W=[];Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$Or)};Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.prototype={$1XT:2,$6T:!1,$1Qj:!1,$1to:!0,$Na:!0,$1JB:!1,$KC:null,get_HasFocus:function(){return this.$6T},set_HasFocus:function(n){return this.$6T!==n&&(this.$6T=n,this.$8("HasFocus")),n},get_TypedText:function(){return $0.$1(this.$KC)?null:this.$KC.get_Text()},set_TypedText:function(n){return $0.$1(this.$KC)||(Array.remove(this.$5W,this.$KC),this.$KC.dispose(),this.$KC=null),Microsoft.Crm.Client.Core.Framework.$3.$9(n)||this.$3AD(n)||(this.$KC=new Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel,this.$KC.set_$4K(this.$2),this.$KC.$18(),this.$KC.set_Name("NavigationButtonViewModel"),this.$KC.set_ModelContext(null),this.$KC.$Na=!1,this.$KC.set_Text(n),Array.add(this.$5W,this.$KC)),this.$8("TypedText"),n},get_ItemViewModels:function(){return this.$5W},set_ItemViewModels:function(n){return this.$5W!==n&&(this.$1Bf(),this.$5W=n,this.$8("ItemViewModels")),n},get_DisplayOverflowIndicator:function(){return this.$1Qj},set_DisplayOverflowIndicator:function(n){return this.$1Qj!==n&&(this.$1Qj=n,this.$8("DisplayOverflowIndicator")),n},get_SingleLineMode:function(){return this.$1JB},set_SingleLineMode:function(n){return this.$1JB!==n&&(this.$1JB=n,this.$1XT=this.$1JB?1:2,this.$8("SingleLineMode")),n},get_AllowNavigate:function(){return this.$Na},set_AllowNavigate:function(n){return this.$Na=n,n},$3AD:function(n){for(var i,t=0;t<this.$5W.length;++t)if(!$0.$1(this.$5W[t])&&Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.isInstanceOfType(this.$5W[t])&&(i=this.$5W[t],i.get_Text()===n))return!0;return!1},$Or:function(){var t,i,n;if($0.$1(this.get_Data()))this.set_ItemViewModels([]);else if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())){for(t=this.get_Data(),i=[],n=0;n<t.get_entities().length&&(n<this.$1XT||!this.$1to);n++)Array.add(i,this.$7N(t.get_entities()[n]));this.set_DisplayOverflowIndicator(t.get_entities().length>this.$1XT&&this.$1to);this.set_ItemViewModels(i)}},$7N:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel,i,r,u;return t.set_$4K(this.$2),t.$18(),t.set_Name("NavigationButtonViewModel"),t.set_ModelContext(this.get_ModelContext()),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?(i=n.getValue("partyid"),$0.$1(i)?t.$Na=!1:(r=i.LogicalName,u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(r),t.$Na=u.$Du?!0:!1)):t.$Na=this.$Na,t.set_Data(Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$me(n)),t},$1Bf:function(){var n=this;Array.forEach(this.$5W,function(n){if(Microsoft.Crm.Client.Core.Framework.$BN.isInstanceOfType(n)){var t=n;t.dispose()}})},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this);$0.$1(this.$KC)||this.$KC.dispose();this.$1Bf()}};Microsoft.Crm.Client.Core.ViewModels.$Cx=function(){this.$$d_$3Gs=Function.createDelegate(this,this.$3Gs);this.$$d_$3LN=Function.createDelegate(this,this.$3LN);Microsoft.Crm.Client.Core.ViewModels.$Cx.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Cx.initializeBase(this);this.$14x=this.$$d_$3LN;Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().add_$Yc(this.$14x)};Microsoft.Crm.Client.Core.ViewModels.$Cx.prototype={$2D:!0,$14x:null,$VV:!1,$OX:!1,get_EnableEdits:function(){return this.$VV},set_EnableEdits:function(n){return this.$VV!==n&&(this.$VV=n,this.$8("EnableEdits"),this.$VV&&this.$Im("RenderedEditReady")),n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);$0.$1(this.$2)||this.$2.AddPropertyChangedListener("LaunchedWithUnsavedChanges",this.$$d_$3Gs)},$GX:function(){Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_ModelContext())&&this.get_ModelContext().remove_$9k(this.$14x);$0.$1(this.$2)||this.$2.RemovePropertyChangedListener("LaunchedWithUnsavedChanges",this.$$d_$3Gs);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().remove_$Yc(this.$14x);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$LP:function(){if(Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$LP.call(this),Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_ModelContext())){var n=this.get_ModelContext();this.$1jH();n.add_$9k(this.$14x)}},get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return n!==this.$2D&&(this.$2D=n,this.$8("IsLoading"),this.$2D||this.$Im("RenderedReadReady")),n},$3Gs:function(){this.$1jH()},$3LN:function(){this.$1jH()},$1jH:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$16;if(!$0.$1(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_ModelContext()))if(this.$OX||(this.$Im("RenderedInitialData"),this.$OX=!0),Microsoft.Crm.Client.Core.ViewModels.$92.isInstanceOfType(this.$2)&&this.$2.get_LaunchedWithUnsavedChanges()){if(n===4||!this.get_ModelContext().$Zn){this.set_EnableEdits(!1);return}}else if((!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()||this.get_ModelContext().$P4)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()||this.get_ModelContext().$Zn)){if(!n||n===1||n===4){this.set_EnableEdits(!1);this.set_IsLoading(!1);return}}else{this.set_EnableEdits(!1);return}this.set_EnableEdits(!0);this.set_IsLoading(!1)}};Microsoft.Crm.Client.Core.ViewModels.$El=function(){Microsoft.Crm.Client.Core.ViewModels.$El.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$El.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$El.prototype={$6T:!1,get_HasFocus:function(){return this.$6T},set_HasFocus:function(n){return this.$6T!==n&&(this.$6T=n,this.$8("HasFocus")),n},$LP:function(){var t,n,u,o;if(Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$LP.call(this),t=this.$29,n=this.$2.get_ModelContext()||this.get_ModelContext(),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)&&(n=this.get_ModelContext()),!$0.$1(n)){var i="",r=n.get_ModelName(),f=n.get_Id(),e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(r);$0.$1(e)||(u=n.GetValue(e.$5e),i=$0.$1(u)?"":u.toString());o=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$SZ(r,f,i);t.$16l=o;t.$In=f;t.$ok=i;t.$ae=r}}};Microsoft.Crm.Client.Core.ViewModels.$EY=function(){this.$$d_$Os=Function.createDelegate(this,this.$Os);Microsoft.Crm.Client.Core.ViewModels.$EY.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EY.prototype={$6L:null,$Zs:null,$H0:null,$Te:null,get_ComboBoxViewModel:function(){return this.$6L},get_LookupViewActionProvider:function(){return this.$Zs},set_LookupViewActionProvider:function(n){return this.$Zs=n,n},get_BindingField:function(){return this.$H0},set_BindingField:function(n){return this.$H0=n,n},get_MetadataQueryDescriptor:function(){return this.$Te},set_MetadataQueryDescriptor:function(n){return this.$Te=n,n},$2at:function(){return!0},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$8V.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.$8v.isInstanceOfType(t)&&(this.$6L=t,this.$6L.AddPropertyChangedListener("SelectedItem",this.$$d_$Os),this.$1H7(),$0.$1(this.$Ad)||(this.$6L.$127=this.$Ad))},$1Zg:function(n,t){$0.$1(n)||($0.$1(this.$6L)||this.setComboBoxToModelName(n.$BK))&&Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1Zg.call(this,n,t)},$1vy:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1vy.call(this,n,t);this.setComboBoxToModelName(this.$Ad)},$Os:function(){var n=this.$6L.get_Data();$0.$1(this.get_$Kd())||this.get_$Kd().get_$Eb()===n.get_$1n()||this.set_$Kd(null);this.$1H7()},$1H7:function(){var n=this.$6L.get_Data(),t,i;Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2n.isInstanceOfType(n)&&(this.set_LookupModelName(n.$d),$0.$1(this.$VQ)?(i=this.$Zs.$DG(0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(i)):n.$d===this.$VQ.$BK?this.$1KB(this.$VQ):(t=this.$Zs.$DG(2),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t)))},setComboBoxToModelName:function(n){if(this.$6L){var t=this.$6L.$1mS(n);if(t>=0)return this.$6L.$2LS(t.toString()),!0}return!1},buildChildViewModelDescriptors:function(n){var t,i,r;Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$1(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i=$0.$1(this.$Te)?new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveTargetEntityMetadata",{entityLogicalName:this.$J,targetAttribute:this.$H0}):this.$Te;r={combobox:Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("EntityMetadataOptionSetViewModel","ComboBox","comboBoxControl",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("MetadataActionProvider","ActionProvider",i)],t,null)};this.$r3(r)}};Microsoft.Crm.Client.Core.ViewModels.$B9=function(){Microsoft.Crm.Client.Core.ViewModels.$B9.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$B9.prototype={$7t:null,$9h:null,get_LookupListViewModel:function(){return this.$7t},get_LookupNewButtonViewModel:function(){return this.$9h},get_NewButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Lookup_New_Text")},$ay:function(n){var i,r,u,t;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$ay.call(this,n);i=n;for(r in i)u={key:r,value:i[r]},t=u.value,Microsoft.Crm.Client.Core.ViewModels.$9C.isInstanceOfType(t)?this.$7t=t:Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(t)&&(this.$9h=t)},$GX:function(){$0.$1(this.$7t)||(this.$7t.dispose(),this.$7t=null);$0.$1(this.$9h)||(this.$9h.dispose(),this.$9h=null);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$7a=function(){this.$$d_$3FE=Function.createDelegate(this,this.$3FE);this.$$d_$2QO=Function.createDelegate(this,this.$2QO);this.$$d_$146=Function.createDelegate(this,this.$146);this.$$d_$3T2=Function.createDelegate(this,this.$3T2);this.$$d_$1vt=Function.createDelegate(this,this.$1vt);this.$$d_$1vs=Function.createDelegate(this,this.$1vs);this.$$d_$1vy=Function.createDelegate(this,this.$1vy);this.$$d_$1vX=Function.createDelegate(this,this.$1vX);this.$$d_$Or=Function.createDelegate(this,this.$Or);this.$dq={};this.$O2=[];this.$O3=[];Microsoft.Crm.Client.Core.ViewModels.$7a.resolveInheritance();this.get_$UC=this.get_RequiredLevel;this.set_$UC=this.set_RequiredLevel;this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$7a.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$Or);this.AddPropertyChangedListener("DataReference",this.$$d_$1vX);this.AddPropertyChangedListener("LookupModelName",this.$$d_$1vy);this.AddPropertyChangedListener("HasFocus",this.$$d_$1vs)};Microsoft.Crm.Client.Core.ViewModels.$7a.get_$39p=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("LookupRelationshipFilters")};Microsoft.Crm.Client.Core.ViewModels.$7a.prototype={$DN:null,$7t:null,$6U_8:null,$IB:null,$VQ:null,$1J6:!1,$1J2:!0,$219:!0,$12R:!1,$1rW:null,$Ix:null,$NI:null,$s7:null,$n7:null,$Ad:null,$1XL:null,$FO:null,$Ws:null,$Qx:!1,$Ma:0,$1Fe:null,$1uO:null,$Np:null,$1XJ:"",$10o:null,$1CR:null,$1CT:null,$1CS:null,$1CU:null,$sE:null,$1QZ:null,$19e:!1,get_ClearValueCommand:function(){return this.$Np},set_ClearValueCommand:function(n){return this.$Np!==n&&($0.$1(this.$Np)||(this.$Np.dispose(),this.$Np=null),this.$Np=n),n},get_FilterReferencingAttributeName:function(){return this.$10o},set_FilterReferencingAttributeName:function(n){return this.$10o=n,n},get_FilterReferencedAttributeName:function(){return this.$1CR},set_FilterReferencedAttributeName:function(n){return this.$1CR=n,n},get_FilterReferencingAttributeName2:function(){return this.$1CT},set_FilterReferencingAttributeName2:function(n){return this.$1CT=n,n},get_FilterReferencedAttributeName2:function(){return this.$1CS},set_FilterReferencedAttributeName2:function(n){return this.$1CS=n,n},get_FilterReferencingEntityKey:function(){return this.$1CU},set_FilterReferencingEntityKey:function(n){return this.$1CU=n,n},get_DependentAttributeName:function(){return this.$sE},set_DependentAttributeName:function(n){return this.$sE=n,n},get_DependentAttributeType:function(){return this.$1QZ},set_DependentAttributeType:function(n){return this.$1QZ=n,n},get_AllowFilterOff:function(){return this.$19e},set_AllowFilterOff:function(n){return this.$19e=n,n},$18D:!1,$18A:!1,get_IsInlineNewDisabled:function(){return this.$18A},set_IsInlineNewDisabled:function(n){return this.$18A=n,n},get_$1aX:function(){var c,t,w;if(!Microsoft.Crm.Client.Core.ViewModels.$7a.get_$39p())return Microsoft.Crm.Client.Core.Framework.$B.$C("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering is not enabled."),"";if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1CR)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$10o)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$sE)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1QZ)){Microsoft.Crm.Client.Core.Framework.$B.$C("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering is enabled.");var h=this.$sE.split("."),e=this.$10o.split("."),o=this.$1CR.split(".");if(h.length===2&&e.length===2&&o.length===2){var n=e[0],r=e[1],u=o[0],f=o[1];if(this.$19e&&$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(n,r))&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n,[r]),Microsoft.Crm.Client.Core.Framework.$G.$b("","LookupRelationshipFilter_PreFetch")),c=h[1],t=this.get_ModelContext().GetValue(c),!$0.$1(t)&&Xrm.Objects.EntityReference.isInstanceOfType(t)&&!$0.$1(t.Id))if($0.$1(this.$1CT)||$0.$1(this.$1CS)){if(this.$Ad!==n&&this.$Ad===u)return this.$18D=!0,w=["<condition attribute='"+this.$1CU+"' operator='eq' value='"+t.Id+"' />"],Microsoft.Crm.Client.Core.Framework.$B.$C("MoCA_ISH_LookupRelationshipFiltering",2009,String.format("Adding link-entity, N:1 relationship exist between {0} and {1}",n,u)),this.$2If(n,r,f,w);if(this.$Ad===n)return this.$18D=!1,Microsoft.Crm.Client.Core.Framework.$B.$C("MoCA_ISH_LookupRelationshipFiltering",2009,String.format("Adding condition, 1:N relationship exist between {0} and {1}",u,n)),"<condition attribute='"+r+"' operator='eq' value='"+t.Id+"' />"}else{this.$18D=!0;var l=this.$1CT.split("."),a=this.$1CS.split("."),b=l[0],v=l[1],y=a[0],s=a[1],i=this.$Ad===y,p="<link-entity name='"+(i?b:n)+"' visible='false' intersect='true' from='"+(i?v:r)+"' to='"+(i?s:f)+"'>",k=["<condition attribute='"+(i?f:s)+"' operator='eq' value='"+t.Id+"' />"];return p+=this.$2If(i?u:y,i?f:s,i?r:v,k),p+"<\/link-entity>"}}}return""},$2If:function(n,t,i,r){var u="<link-entity name='"+n+"' from='"+t+"' to='"+i+"'>",f;if(!$0.$1(r)&&r.length>0){for(u+="<filter type='and'>",f=0;f<r.length;f++)u+=r[f];u+="<\/filter>"}return u+"<\/link-entity>"},get_CloseCommand:function(){var n=this.$2;return n.$Gh},get_$Kd:function(){return Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(this.get_Data())?this.get_Data():null},set_$Kd:function(n){if(this.get_Data()!==n){if(!$0.$1(this.$2)&&Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(this.$2)&&!this.get_$3AJ()){var i=!$0.$1(n)&&Xrm.Objects.EntityReference.isInstanceOfType(n)?n:null,r=this.$2,u=this.getFieldNameFromDescriptorName(this.$G),t=this,f=this;return r.UpdateRelatedEntity(u,i).then(function(i){i&&(t.set_HasFocus(!0),t.set_Data(n),t.$8("DataReference"),n&&t.set_HasFocus(!1))},function(){}),n}this.set_Data(n);this.$8("DataReference")}return n},get_$F1:function(){return!$0.$1(this.$6U_8)&&!$0.$1(this.$6U_8.$8F)?this.$6U_8.$8F.toString():""},get_CurrentDataName:function(){if(!$0.$1(this.get_$Kd())){var n=this.get_$Kd().get_$9t();return $0.$1(n)?"":n.toString()}return""},get_LookupDisplayName:function(){return this.$1XJ},set_LookupDisplayName:function(n){return this.$1XJ!==n&&(this.$1XJ=n,this.$8("LookupDisplayName")),n},get_LookupBarViewModel:function(){return this.$DN},get_LookupInputViewModel:function(){return this.$6U_8},set_LookupInputViewModel:function(n){return this.$6U_8=n,$0.$1(this.$6U_8)||(this.$6U_8.AddPropertyChangedListener("Value",this.$$d_$1vt),$0.$1(this.$7t)||this.$7t.set_SearchValue(this.get_CurrentDataName()),this.updateInputValue(),this.$6U_8.set_ImeMode(this.$Ma)),n},get_LookupInputDescriptor:function(){return this.$1Fe},set_LookupInputDescriptor:function(n){return this.$1Fe=n,n},get_LookupBarDescriptor:function(){return this.$1uO},get_DefaultViewId:function(){return this.$IB},set_DefaultViewId:function(n){return this.$IB=n,n},get_InitialLookupViewActionProvider:function(){return this.$n7},set_InitialLookupViewActionProvider:function(n){return this.$n7=n,n},get_DefaultLookupViewActionProvider:function(){return this.$s7},set_DefaultLookupViewActionProvider:function(n){return this.$s7=n,n},get_LookupModelName:function(){return this.$Ad},set_LookupModelName:function(n){return this.$Ad!==n&&(this.$Ad=n,this.$8("LookupModelName")),n},get_LookupPrimaryNameAttribute:function(){return this.$1XL},set_LookupPrimaryNameAttribute:function(n){return this.$1XL!==n&&(this.$1XL=n,this.$8("LookupPrimaryNameAttribute")),n},get_Relationship:function(){return this.$FO},set_Relationship:function(n){return this.$FO!==n&&(this.$FO=n),n},set_$1Gw:function(n){return this.$Ws!==n&&(this.$Ws=n,this.$8("PreSearchHandler")),n},get_ShowOkButtonInPhone:function(){return this.$1J6},set_ShowOkButtonInPhone:function(n){return this.$1J6=n,n},get_ShowClearButtonInPhone:function(){return this.$1J2},set_ShowClearButtonInPhone:function(n){return this.$1J2=n,n},get_ShowLookupBar:function(){return this.$219},set_ShowLookupBar:function(n){return this.set_HasFocus(!0),this.$219=n,this.$8("ShowLookupBar"),n},get_IsInlineOrAssociateFormLookup:function(){return this.$12R},set_IsInlineOrAssociateFormLookup:function(n){return this.$12R=n,n},get_IsGlobalLookup:function(){return Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel.isInstanceOfType(this.$2)},get_ImeMode:function(){return this.$Ma},set_ImeMode:function(n){return this.$Ma=n,$0.$1(this.$6U_8)||this.$6U_8.set_ImeMode(this.$Ma),n},add_$2XM:function(n){$0.$1(this.$2)||this.$2.$2I("SetLookupInRoot",n)},remove_$2XM:function(n){$0.$1(this.$2)||this.$2.$4N("SetLookupInRoot",n)},add_OfflineMode:function(n){this.$2I("OfflineMode",n)},remove_OfflineMode:function(n){this.$4N("OfflineMode",n)},$2s3:function(){var n=this.$5j("OfflineMode");n&&n()},$18:function(){var t,n,i;Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);$0.$1(this.$6U_8)||this.$6U_8.set_RequiredLevel(this.$9m);t=this.$n7.$DG(0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t);n=this;this.set_ClearValueCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){n.set_Data(null);n.set_HasFocus(!1)},26));this.add_$2XM(this.$$d_$3T2);Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_ModelContext())&&(i=this.get_ModelContext(),i.add_$6x(this.$$d_$146))},$146:function(n,t){if(this.$7t&&!this.$3w&&!this.$fZ&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$sE)){var i=this.$sE.split(".");i.length===2&&i[1]===t&&this.$7t.$2TI()}},$2at:function(n){return this.$Ad===n},$3T2:function(){Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel.isInstanceOfType(this.$2)?(this.$2.$1V3=this,this.$12R=!0):Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel.isInstanceOfType(this.$2)?(this.$2.$1Nx=this,this.$FO=new Xrm.RelationshipReference(this.$2.$5y,this.$2.$7n,this.$2.$A3,this.$2.$5h),this.$12R=!0):Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel.isInstanceOfType(this.$2)&&(this.$2.$2K7=this)},forceModelReload:function(){$0.$1(this.$7t)||this.$7t.$2TI()},buildChildViewModelDescriptors:function(n){var t={},i,r,u;$0.$1(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);t.OverlayMode=2;i=!1;$0.$1(n.Properties.ShowLabel)||(i=n.Properties.ShowLabel);r={IsSaveAndEditButtonHidden:!0};u={bar:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("LookupBarViewModel","LookupBar","bar",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?"InteractionCentricLookupListViewModel":"LookupListViewModel","LookupList","list",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("ActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("LookupByName",null))],{ScrollDirection:"Horizontal"}),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("Button","Button","newbutton",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Command","CreateCommand"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1VH()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Visible",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1VH()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Parameters",{externalParameters:r})],null)]),input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Label",this.$1D),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowLabel",Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2?!1:i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("OverlayText","")],t)};this.$r3(u)},$r3:function(n){var f=n,r,i,t,u;for(r in f)i={key:r,value:f[r]},t=i.value,($0.$1(this.$F[t.Name])||!$0.$1(this.$1CU))&&(u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(t,this.get_$1K()),this.$8V(u.get_Name(),u)),i.key==="bar"?this.$1uO=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(t):i.key==="input"&&(this.$1Fe=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(t))},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$8V.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.$4L.isInstanceOfType(t)?this.set_LookupInputViewModel(t):Microsoft.Crm.Client.Core.ViewModels.$B9.isInstanceOfType(t)&&(this.$DN=t,this.$7t=this.$DN.$7t,this.$7t.set_$AN(this),this.$22t_8(),this.$1eV_8(),this.$DN.$9h.$29.$P=this.$$d_$2QO)},$ay:function(n){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$ay.call(this,n);this.$Or(null,null)},$UD:function(){this.$12C&&(Array.clear(this.$O2),Array.clear(this.$O3),this.set_$1Gw(null),this.$dq={},this.$1Zg(this.$1rW),Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$UD.call(this))},$1Io:function(n){var t,i;this.$IB=n.toString();this.$VQ=null;this.$IB in this.$dq?(t=this.$dq[this.$IB],this.$1Zg(t)):(i=this.$s7.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(i))},$27R:function(){Array.clear(this.$O2);Array.clear(this.$O3)},$24k:function(n,t){$0.$1(t)&&(t="");this.$1iW(n);this.$1iX(t)},$1iX:function(n){Array.add(this.$O3,n)},$1iW:function(n){Array.add(this.$O2,n)},$2QD:function(n){$0.$1(n)||this.$1KB(n)},$1YQ:function(n){this.$1rW=n;var t=$0.$1(this.get_$Kd())||this.get_$Kd().get_$Eb()===n.$BK;this.$1Zg(n,t)},$3FE:function(n){this.$1Zg(n)},$1KB:function(n){$0.$1(n)||(this.$Ix=n.$2W,this.$NI=n.$Ta,this.set_LookupModelName(n.$BK),this.$1eV_8())},$1XK:function(n){this.$Qx=!1;$0.$1(this.$7t)||(this.$7t.$1tB=!0);this.set_$Kd(n);this.set_HasFocus(!1);$0.$1(this.$7t)||(this.$7t.$1tB=!1)},$1Zg:function(n,t){$0.$1(n)||(this.$VQ=n,this.$IB=n.$12.toString(),($0.$1(t)||t)&&this.$1KB(n))},$1vy:function(){this.$22t_8()},$1eV_8:function(){$0.$1(this.$7t)||$0.$1(this.$NI)||$0.$1(this.$Ix)||$0.$1(this.$Ad)||this.$7t.$20p(this.$Ad,this.$Ix,this.$NI)},$22t_8:function(){var n,t,i;$0.$1(this.$DN)||$0.$1(this.$DN.$9h)||$0.$1(this.$DN.$9h.$29)||(this.$DN.$9h.$29.set_PrimaryModelName(this.$Ad),this.$DN.$9h.$29.get_CanExecute()&&Microsoft.Crm.Client.Core.ViewModels.$n.$IT(this.$Ad)?(this.$DN.$9h.set_Visible(!0),Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||$0.$1(this.get_ModelContext())||(n=null,Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(this.$2)?(t=this.$2.$6F(this),Microsoft.Crm.Client.Core.ViewModels.$93.isInstanceOfType(t)&&(i=t.$1qG(this.$G),n=this.get_ModelContext().$1DD(i))):n=this.get_ModelContext(),$0.$1(n)||(this.$DN.$9h.$29.$My=n.get_$Qt(),this.$DN.$9h.$29.$FO=this.$FO))):this.$DN.$9h.set_Visible(!1))},$1jo:function(){$0.$1(this.$6U_8)||(this.$6U_8.set_Value(""),this.$6U_8.fireRefreshFromContextEvent())},$Or:function(){this.$8("DataReference")},$1vX:function(){this.updateInputValue();$0.$1(this.get_$Kd())||this.set_LookupModelName(this.get_$Kd().get_$Eb())},$1vt:function(){$0.$1(this.$7t)||this.get_HasFocus()&&(this.get_CurrentDataName()===this.get_$F1()&&$0.$1(this.$7t.$FQ)||this.$7t.set_SearchValue($0.$1(this.get_$F1())?"":this.get_$F1()))},$1vs:function(){if(!$0.$1(this.$6U_8)&&!this.get_HasFocus()&&this.get_CurrentDataName()!==this.get_$F1()){var n=this.get_$F1();this.set_$Kd(null);this.$6U_8.set_Value(n)}},updateInputValue:function(){$0.$1(this.$6U_8)||(this.$6U_8.set_Value(this.get_CurrentDataName()),this.$6U_8.fireRefreshFromContextEvent())},$2QO:function(n){this.$Qx=!0;$0.$1(this.get_ModelContext())?this.set_$Kd(n.$CO):(this.get_ModelContext().$1cX(),this.set_$Kd(n.$CO),this.get_ModelContext().$1aa());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()||Microsoft.Crm.Client.Core.ViewModels.$n.$L8(this.$Ad)?$0.$1(this.$DN)||$0.$1(this.$DN.$7t)||this.$DN.$7t.$X6():this.$1Ow();this.$Br("OnNewRecordSaved",n.$1Xh)},add_$1w6:function(n){this.$2I("OnNewRecordSaved",n)},remove_$1w6:function(n){this.$4N("OnNewRecordSaved",n)},$1Ow:function(){if(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()&&(this.$2s3(),Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$2.$Q.$AZ))){var n=this.$2.$Q.$AZ;n.set_HideDraftsMessage(!1)}},$GX:function(){this.RemovePropertyChangedListener("Data",this.$$d_$Or);this.RemovePropertyChangedListener("DataReference",this.$$d_$1vX);this.RemovePropertyChangedListener("LookupModelName",this.$$d_$1vy);this.RemovePropertyChangedListener("HasFocus",this.$$d_$1vs);this.remove_$2XM(this.$$d_$3T2);$0.$1(this.$DN)||(this.$DN.dispose(),this.$DN=null);$0.$1(this.$7t)||(this.$7t.dispose(),this.$7t=null);$0.$1(this.$6U_8)||(this.$6U_8.RemovePropertyChangedListener("Value",this.$$d_$1vt),this.$6U_8.dispose(),this.$6U_8=null);$0.$1(this.get_ModelContext())||this.get_ModelContext().remove_$6x(this.$$d_$146);this.set_ClearValueCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel.prototype={$WL:null,$lT:null,$Ih:null,$YJ:!1,get_EntityDisplayName:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$WL.get_$Eb());return $0.$1(n)?"":n.$1S},set_$3Ax:function(n){return this.$WL=n,this.set_Data(this.$WL.get_$9t()),n},get_DeleteItemCommand:function(){return this.$lT},set_DeleteItemCommand:function(n){return this.$lT!==n&&($0.$1(this.$lT)||(this.$lT.dispose(),this.$lT=null),this.$lT=n,this.$8("DeleteItemCommand")),n},get_OpenItemCommand:function(){return this.$Ih},set_OpenItemCommand:function(n){return this.$Ih!==n&&($0.$1(this.$Ih)||(this.$Ih.dispose(),this.$Ih=null),this.$Ih=n,this.$8("OpenItemCommand")),n},get_CanNavigate:function(){return this.$YJ},set_CanNavigate:function(n){return this.$YJ!==n&&(this.$YJ=n,this.$8("CanNavigate")),n},$GX:function(){this.set_OpenItemCommand(null);this.set_DeleteItemCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1NK=function(n){var i={partyid:n},r=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,i,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return t.$4P.add("partyid"),t};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1hs=function(n){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1NK(n)],!1,1,!1)};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.prototype={$Ef:null,$Qu:!1,$12j:!1,$9i:"multi",$12W:!0,get_$Kd:function(){var n,t;return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())&&this.$9i==="single"&&(n=this.get_Data(),!$0.$1(n)&&n.get_count()>0&&(t=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$me(n.get_$I(0)),Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(t)))?t:null},set_$Kd:function(n){return n!==this.get_$Kd()&&this.set_Data($0.$1(n)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty():Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1hs(n)),n},get_IsMultiSourceLookup:function(){return this.$12W},set_IsMultiSourceLookup:function(n){return this.$12W=n,n},get_NavigationEnabled:function(){return this.$Qu},set_NavigationEnabled:function(n){return this.$Qu=n,n},get_LookupStyle:function(){return this.$9i},set_LookupStyle:function(n){return this.$9i=n,n},get_PartyListViewModel:function(){return this.$Ef},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$EY.prototype.$8V.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.isInstanceOfType(t)&&(this.$Ef=t,this.$Ef.$U3_6=this)},showOrHideResultsList:function(){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2&&($0.$1(this.$Ef)||$0.$1(this.$7t)||(this.$Ef.$5W.get_Count()<=0?this.$RO(!0):this.$RO(!1)))},$1XK:function(n){this.$9i==="multi"?($0.$1(n)||this.$Ef.$V4(n),this.$1jo(),this.$RO(!1)):Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1XK.call(this,n)},$RO:function(n){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2&&($0.$1(this.$Ef)||$0.$1(this.$7t)||(this.$Ef.set_HidePartyList(n),this.$7t.set_HideLookupResultsList(!n)))},updateInputValue:function(){this.$9i==="single"&&Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.updateInputValue.call(this)},$1vt:function(n,t){this.$9i==="multi"?(this.$7t.set_SearchValue($0.$1(this.get_$F1())?"":this.get_$F1()),this.$RO(!0)):Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1vt.call(this,n,t)},$1vX:function(n,t){this.$9i==="single"&&Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1vX.call(this,n,t)},$Os:function(n,t){this.$9i==="multi"?(this.$1jo(),this.$1H7()):Microsoft.Crm.Client.Core.ViewModels.$EY.prototype.$Os.call(this,n,t);this.$12j&&this.$RO(!0);this.$12j=!0},$1vs:function(n,t){this.get_HasFocus()||this.$9i!=="multi"?this.$9i==="single"&&Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1vs.call(this,n,t):this.$1jo()},$2QO:function(n){this.$Qx=!0;$0.$1(this.get_ModelContext())?this.$1XK(n.$CO):(this.get_ModelContext().$1cX(),this.$1XK(n.$CO),this.get_ModelContext().$1aa());this.$Qx=!1;this.$1Ow()},buildChildViewModelDescriptors:function(n){var t,i;this.$Ix=null;this.$NI=null;Microsoft.Crm.Client.Core.ViewModels.$EY.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$1(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i={input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0)],t)};this.$9i==="multi"&&(i.partylist=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("PartyList","PartyList","partyList",this.$H0,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("NavigationEnabled",this.$Qu)],null,null),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&(this.$1J6=!0,this.$1J2=!1));this.$r3(i)}};Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel=function(){this.$$d_$Or=Function.createDelegate(this,this.$Or);this.$5W=new Microsoft.Crm.Client.Core.Framework.$9F;this.$4X=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$Or)};Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$3Ay=function(n){return n.$5W};Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$me=function(n){return Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(n.getValue("partyid"))?n.getValue("partyid"):n.getValue("addressused")};Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.prototype={$Qu:!1,$1EF:!1,$NX:null,$P5:null,$U3_6:null,get_ItemViewModels:function(){return this.$5W},set_ItemViewModels:function(n){return this.$5W!==n&&(this.$5W=n,this.$8("ItemViewModels")),n},get_NavigationEnabled:function(){return this.$Qu},set_NavigationEnabled:function(n){return this.$Qu=n,n},get_HidePartyList:function(){return this.$1EF},set_HidePartyList:function(n){return this.$1EF=n,this.$8("HidePartyList"),n},$2dW:function(n){var t=n.$N,i=this.$2Be(t);i||(this.$5W.$2i(this.$7N(n)),this.$4X.add(n),this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$4X.get_entities())))},$V4:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1NK(n),i=this.$2Be(n);Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()?i?!$0.$1(this.$P5)&&n.get_$57()in this.$P5&&(delete this.$P5[n.get_$57()],this.$5W.$2i(this.$7N(t))):($0.$1(this.$NX)&&(this.$NX={}),n.get_$57()in this.$NX||(this.$5W.$2i(this.$7N(t)),this.$NX[n.get_$57()]=t),!$0.$1(this.$U3_6)&&this.$U3_6.$Qx&&this.setDataOnOkClick()):i||(this.$5W.$2i(this.$7N(t)),this.$4X.add(t),this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$4X.get_entities())))},setDataOnOkClick:function(){for(var s,i,r,u,h,f,e,c,n,l,o={},t=0;t<this.$4X.get_count();t++)s=this.$4X.get_$I(t).getValue("partyid"),o[s.get_$57()]=this.$4X.get_$I(t);if(!$0.$1(this.$NX)){i=this.$NX;for(r in i)u={key:r,value:i[r]},u.key in o||(h=u.value,this.$4X.add(h));this.$NX=null}if(!$0.$1(this.$P5)){f=this.$P5;for(e in f)for(c={key:e,value:f[e]},n=0;n<this.$4X.get_count();n++)if(l=this.$4X.get_$I(n).getValue("partyid"),l.get_$57()===c.key){this.$4X.remove(this.$4X.get_$I(n));break}this.$P5=null}this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$4X.get_entities()))},$2IT:function(n){for(var i,r=this.$5W.get_Count(),t=0;t<r;t++)if(i=this.$5W.get_$I(t),i.get_Data()===n.get_Data()&&i.$J===n.$J)return t;return-1},setDataOnCancelClick:function(){var n,t,u,f;if(!$0.$1(this.$NX)){n=this.$NX;for(t in n){var o={key:t,value:n[t]},i=this.$7N(o.value),r=this.$2IT(i);!$0.$1(i)&&r>=0&&(this.$5W.get_$I(r).dispose(),this.$5W.$155(r),i.dispose())}this.$NX=null}if(!$0.$1(this.$P5)){u=this.$P5;for(f in u){var s={key:f,value:u[f]},e=this.$7N(s.value),h=this.$2IT(e);!$0.$1(e)&&h<0&&this.$5W.$2i(e)}this.$P5=null}this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$4X.get_entities()));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Nq(this.$U3_6)},$3Hv:function(n){if(n.$YJ){var t=new Microsoft.Crm.Client.Core.Commands.$33(n,2);t.$1B={EntityReference:n.$WL};t.$1V=null;t.$J=n.$WL.get_$Eb();t.execute();t.dispose()}},$Or:function(){var i;if($0.$1(this.get_Data()))this.$4X=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty(),this.set_Data(this.$4X),this.$1Bf(),this.$5W.$79();else if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())){if(!this.$2n6()){this.$4X=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.get_Data().get_entities());this.$1Bf();this.$5W.$79();for(var t=this.$4X.get_entities(),r=t.length,n=0;n<r;++n)i=t[n],this.$5W.$2i(this.$7N(i))}}else this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$4X.get_entities()))},$7N:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel,i,r,u;return t.set_ModelContext(this.get_ModelContext()),i=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$me(n),Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(i)?t.set_$3Ax(i):t.set_Data(i),r=this,t.set_DeleteItemCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){r.$hS(t,n)},26)),u=this,t.set_OpenItemCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){u.$3Hv(t)},26)),t.set_CanNavigate(this.$Qu&&!$0.$1(t.$WL)),t},$hS:function(n,t){if(n.dispose(),this.$5W.$DR(n),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()!==2)this.$4X.remove(t),this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$4X.get_entities()));else{$0.$1(this.$P5)&&(this.$P5={});var i=t.getValue("partyid");!$0.$1(this.$NX)&&i.get_$57()in this.$NX?delete this.$NX[i.get_$57()]:i.get_$57()in this.$P5||(this.$P5[i.get_$57()]=t);this.$5W.get_Count()<=0&&this.$U3_6.$RO(!0)}},$2n6:function(){var r,n,t,i,u,f;if($0.$1(this.get_Data())||!Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())||(r=this.get_Data(),r.get_entities().length!==this.$4X.get_entities().length))return!1;for(n=0;n<this.$4X.get_count();n++)if(t=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$me(this.$4X.get_entities()[n]),i=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$me(r.get_entities()[n]),Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(t)&&Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(i)){if(u=t.get_$57(),f=i.get_$57(),f!==u)return!1}else if(String.isInstanceOfType(t)&&String.isInstanceOfType(i)){if(t!==i)return!1}else return!1;return!0},$2Be:function(n){for(var i,u,f,r=this.$4X.get_entities(),e=r.length,t=0;t<e;++t)if(i=r[t],u=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$me(i),Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(u)&&(f=i.getValue("partyid").get_$57(),f===n.get_$57()))return!0;return!1},$1Bf:function(){for(var t,n=0;n<this.$5W.get_Count();n++)t=this.$5W.get_$I(n),$0.$1(t)||t.dispose()},$GX:function(){this.$1Bf();this.$5W=null;this.$4X=null;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel=function(){this.$$d_$3Nn=Function.createDelegate(this,this.$3Nn);this.$$d_$X6=Function.createDelegate(this,this.$X6);this.$$d_$3UB=Function.createDelegate(this,this.$3UB);Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("CrmChartDrilldown",Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel)};Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.prototype={refreshCommand:null,resizeHandlesCommand:null,$YL:null,get_ChartControlViewModel:function(){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()){if(!$0.$1(this.$F)&&"DrilldownChartPane"in this.$F&&!$0.$1(this.$F.DrilldownChartPane)&&!$0.$1(this.$F.DrilldownChartPane.$F))return this.$F.DrilldownChartPane.$F.ChartControlViewModel}else if(!$0.$1(this.$F)&&"ChartControlViewModel"in this.$F)return this.$F.ChartControlViewModel;return null},get_ListControlViewModel:function(){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()){if(!$0.$1(this.$F)&&"DrilldownDataPane"in this.$F&&!$0.$1(this.$F.DrilldownDataPane)&&!$0.$1(this.$F.DrilldownDataPane.$F))return this.$F.DrilldownDataPane.$F.ListControlViewModel}else if(!$0.$1(this.$F)&&"ListControlViewModel"in this.$F)return this.$F.ListControlViewModel;return null},get_ViewId:function(){return this.get_ChartControlViewModel().$AA},set_ViewId:function(n){return n!==this.get_ChartControlViewModel().$AA&&(this.get_ChartControlViewModel().$KX.$79(),this.get_ListControlViewModel().$122=!0,this.get_ChartControlViewModel().set_ViewId(n),this.get_ListControlViewModel().$2N="",this.get_ListControlViewModel().set_DefinitionId(n)),n},get_ViewEntityLogicalName:function(){return this.get_ChartControlViewModel().$PP},set_ViewEntityLogicalName:function(n){return this.get_ChartControlViewModel().set_ViewEntityLogicalName(n),n},get_VisualizationId:function(){return this.get_ChartControlViewModel().$KE},set_VisualizationId:function(n){return n!==this.get_ChartControlViewModel().$KE&&(this.get_ChartControlViewModel().set_VisualizationId(n),this.get_ChartControlViewModel().$KX.$79(),this.get_ListControlViewModel().$2N="",this.get_ListControlViewModel().$X6()),n},get_VisualizationEntityLogicalName:function(){return this.get_ChartControlViewModel().$bY},set_VisualizationEntityLogicalName:function(n){return this.get_ChartControlViewModel().set_VisualizationEntityLogicalName(n),n},get_ViewDisplayName:function(){return this.get_ChartControlViewModel().$2.$6F(this).$1D},set_ViewDisplayName:function(n){return this.get_ChartControlViewModel().$2.$6F(this).set_Label(n),this.get_ChartControlViewModel().$2.$6F(this).set_ShowLabel(!0),n},set_$va:function(n){return $0.$1(this.refreshCommand)||(this.refreshCommand.dispose(),this.refreshCommand=null),this.refreshCommand=n,n},set_$1Hi:function(n){return $0.$1(this.resizeHandlesCommand)||(this.resizeHandlesCommand.dispose(),this.resizeHandlesCommand=null),this.resizeHandlesCommand=n,n},get_$1wv:function(){return"DrilldownPane"},get_$1wt:function(){return this.$J},$X6:function(){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$X6.call(this);this.get_ChartControlViewModel().$X6();this.get_ListControlViewModel().$X6()},$3Nn:function(){this.get_ListControlViewModel().resizeHandlesCommand.execute()},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.prototype.$18.call(this),this.$YL=new Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand(this,this.get_ListControlViewModel()),this.get_ListControlViewModel().$122=!0,this.get_ChartControlViewModel().set_AllowPointSelect(!0),this.get_ChartControlViewModel().set_EnableDrilldown(!0),this.get_ChartControlViewModel().set_ChartSeriesClickCommand(this.$YL),"SelectedHighchartPoint"in this.$2.$Q.$T&&(this.get_ChartControlViewModel().set_SelectedHighchartPoint(this.$2.$Q.$T.SelectedHighchartPoint),this.$YL.$Fy=this.get_ChartControlViewModel().$Fy,this.$YL.$1aO=!1,this.$YL.execute(),this.$YL.$1aO=!0,this.$YL.$Fy=null),this.get_ChartControlViewModel().AddPropertyChangedListener("ShowData",this.$$d_$3UB),$0.$1(this.refreshCommand)&&this.set_$va(new Microsoft.Crm.Client.Core.Commands.$BR(this.$$d_$X6,1022)),!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&$0.$1(this.resizeHandlesCommand)&&this.set_$1Hi(new Microsoft.Crm.Client.Core.Commands.$BR(this.$$d_$3Nn,1022)))},$3UB:function(){this.get_ChartControlViewModel().$1J3&&this.updatePaneIndex((Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()?0:1)-this.$EM,!0)},$GX:function(){this.get_ChartControlViewModel()&&this.get_ChartControlViewModel().RemovePropertyChangedListener("ShowData",this.$$d_$3UB);this.$YL.dispose();this.$YL=null;this.set_$1Hi(null);this.set_$va(null);Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.prototype.$GX.call(this)},$Hg:function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();i.$6p.$hO("crmchartdrilldown",this);Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.prototype.$Hg.call(this,n,t)}};Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel=function(){this.$$d_$2QI=Function.createDelegate(this,this.$2QI);this.$$d_$Iw=Function.createDelegate(this,this.$Iw);this.$Cv=-1;Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel.prototype={$Hd:null,get_ModelUpdateActionProvider:function(){return this.$Hd},set_ModelUpdateActionProvider:function(n){return this.$Hd=n,n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$43.prototype.$18.call(this);this.$LP()},$LP:function(){Microsoft.Crm.Client.Core.ViewModels.$43.prototype.$LP.call(this);this.$1BW();this.$1il()},$2QI:function(){!$0.$1(this.get_$1K())&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_$1K())&&this.get_$1K().$GZ===1&&this.$Cv===-1&&(this.$Cv=window.setTimeout(this.$$d_$Iw,500))},$Iw:function(){if((this.$Cv=-1,!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x)&&!$0.$1(this.$Hd)){var n=this.$Hd.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)}},$1il:function(){if(!$0.$1(this.get_$1K())&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_$1K())){var n=this.get_$1K();n.add_$6x(this.$$d_$2QI)}},$1BW:function(){if(!$0.$1(this.get_$1K())&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_$1K())){var n=this.get_$1K();n.remove_$6x(this.$$d_$2QI)}},$GX:function(){this.$1BW();Microsoft.Crm.Client.Core.ViewModels.$43.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$8v=function(){this.$$d_$1uC=Function.createDelegate(this,this.$1uC);Microsoft.Crm.Client.Core.ViewModels.$8v.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$8v.prototype={$6u:null,$127:null,set_$sP:function(n){return this.$6u!==n&&(this.$6u=n,this.$8("Entities")),n},$1uC:function(n){var i=n,r,t,u,f;for(this.set_$sP(i),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V)),t=0;t<i.get_Count();t++)r.add(new Microsoft.Crm.Client.Core.ViewModels.$Cs(t.toString(),i.get_$I(t).get_$9t()));this.$1w9(r.toArray(),!1);u=0;$0.$1(this.$127)||(f=this.$1mS(this.$127),f!==-1&&(u=f));i.get_Count()>0&&($0.$1(this.get_Data())||Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_Data().toString()))&&this.set_SelectedItem(u.toString())},$18:function(){this.$6u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.$1n));Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$18.call(this);this.$1eU()},$1mS:function(n){for(var t=0;t<this.$6u.get_Count();t++)if(this.$6u.get_$I(t).get_$1n()===n)return t;return-1},$331:function(n){return this.$6u.get_$I(n)},$Or:function(){var i,t,n;if(!$0.$1(this.get_Data())&&Microsoft.Crm.Client.Core.Storage.Common.$1n.isInstanceOfType(this.get_Data())){for(i=this.get_Data(),t=-1,n=this.$6u.get_Count()-1;n>0;n--)if(i.get_$1n()===this.$6u.get_$I(n).get_$1n()){t=n;break}t>0&&(this.set_SelectedItem(t.toString()),this.set_SelectedLabel(i.get_$9t()))}}};Microsoft.Crm.Client.Core.ViewModels.$DP=function(){this.$$d_$1uC=Function.createDelegate(this,this.$1uC);this.$1Bx=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3i));Microsoft.Crm.Client.Core.ViewModels.$DP.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DP.prototype={$lm:null,get_EntityFilter:function(){return this.$lm},set_EntityFilter:function(n){return this.$lm=n,n},$1J5:!0,get_ShowEmptyOption:function(){return this.$1J5},set_ShowEmptyOption:function(n){return this.$1J5=n,n},$1uC:function(n){var t;this.$1Bx=n;var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V)),r=!1,u=!$0.$1(this.get_Data());for(t=0;t<n.get_Count();t++)i.add(new Microsoft.Crm.Client.Core.ViewModels.$Cs(t.toString(),n.get_$I(t).get_$9t())),u&&n.get_$I(t).get_$57()===this.get_Data().get_$57()&&(this.set_SelectedItem(t.toString()),this.set_SelectedLabel(n.get_$I(t).get_$9t()),r=!0);r?this.$1w9(i.toArray(),this.$1J5):this.$1w9(i.toArray(),this.$1J5,0)},$331:function(n){return this.$1Bx.get_$I(n)},$Or:function(){var i,t,n;if(!$0.$1(this.get_Data())&&Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(this.get_Data())){for(i=this.get_Data(),t=-1,n=this.$1Bx.get_Count()-1;n>0;n--)if(i.$lq(this.$1Bx.get_$I(n))){t=n;break}t>0&&(this.set_SelectedItem(t.toString()),this.set_SelectedLabel(i.get_$9t()))}}};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel=function(){this.$$d_$363=Function.createDelegate(this,this.$363);this.$$d_$Or=Function.createDelegate(this,this.$Or);this.$9z=new Microsoft.Crm.Client.Core.ViewModels.$80;this.$Nz=new(Microsoft.Crm.Client.Core.Framework.$6J.$$(String));Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1c("CrmTile",Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$2mw)};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$2mw=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel;return n.set_$2ZK(new Microsoft.Crm.Client.Core.Models.$Jk),n.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("TileClick","clicked"))),n};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.prototype={$2D:!1,$IH:null,$C3:null,$AG:null,$BK:"",$Db:1,$RJ:"",$KU:null,$KV:null,$rP:null,$16h:null,$1Jp:null,$1e2:null,$22L:null,$22B:null,get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return this.$2D!==n&&(this.$2D=n,this.$8("IsLoading")),n},get_FieldNames:function(){return this.$IH},set_FieldNames:function(n){return this.$IH!==n&&(this.$IH=n,this.$8("FieldNames")),n},set_$2ZK:function(n){return this.$C3!==n&&(this.$C3=n,this.$9z.set_Data(this.$C3.get_$1Uh()),this.$10q(["LeftCornerText","Text1","Text2","Text3","Text4","Text5","Text6","ImageViewModel"])),n},get_ActionProvider:function(){return this.$AG},set_ActionProvider:function(n){return this.$AG!==n&&(this.$AG=n),n},get_EntityTypeName:function(){return this.$BK},set_EntityTypeName:function(n){return this.$BK!==n&&(this.$BK=n,this.$8("EntityTypeName")),n},get_TileText2FieldName:function(){return this.$16h},get_TileText3FieldName:function(){return this.$1Jp},get_TileText4FieldName:function(){return this.$1e2},get_TileText5FieldName:function(){return this.$22L},get_TileMode:function(){if(Microsoft.Crm.Client.Core.Models.$3U.isInstanceOfType(this.get_ModelContext())){var n=this.get_ModelContext();n.get_$2p().$Db!==this.$Db&&(this.$Db=n.get_$2p().$Db)}return this.$Db},set_TileMode:function(n){var i,t;return this.$Db!==n&&(i=this.$Db,this.$Db=n,Microsoft.Crm.Client.Core.Models.$3U.isInstanceOfType(this.get_ModelContext())&&(t=this.get_ModelContext(),t.get_$2p().$Db=n,t.$3Xf(),this.$2Qq(i)),this.$8("TileMode")),n},get_CssClassNames:function(){return this.$Nz},set_CssClassNames:function(n){return this.$Nz=n,n},get_TargetType:function(){var n=this.get_ModelContext();return n.get_$2p().$AO},get_HideTile:function(){var n=this.get_ModelContext();return n.$1rM},get_TileType:function(){var n=this.get_ModelContext();switch(n.get_$2p().$AO){case 0:return"Form";case 1:return"Grid";case 2:return"Relationship";case 3:return"Lookup";case 4:return"Dashboard";case 5:return"PowerBIFullScreenPage"}return"Unexpected"},get_TargetLogicalName:function(){var n=this.get_ModelContext();return n.get_$2p().$85},get_IsPowerBIDashboard:function(){var n=this.get_ModelContext();return n.get_$2p().$K5.indexOf("IsPowerBIDashboard=true")>=0},get_TargetGuid:function(){var n=this.get_ModelContext();return n.get_$2p().$Al.toString()},get_TargetEntityPrimaryField:function(){var n=this.get_ModelContext();return n.get_$Li()},get_HasCommunicationCardIconBackground:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$1O(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5k.toString(this.get_TileMode()))&&Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5k.toString(this.get_TileMode())==="wide"&&Microsoft.Crm.Client.Core.Models.Tiles.Decorators.$91.isInstanceOfType(this.$C3)},get_LeftCornerText:function(){return this.$C3.get_LeftCornerText()},set_LeftCornerText:function(n){return this.$C3.get_LeftCornerText()!==n&&(this.$C3.set_LeftCornerText(n),this.$8("LeftCornerText")),n},get_RightCornerText:function(){return this.$RJ},set_RightCornerText:function(n){return this.$RJ!==n&&(this.$RJ=n,this.$8("RightCornerText")),n},get_Text1:function(){return this.$C3.get_Text1()},set_Text1:function(n){return this.$C3.get_Text1()!==n&&(this.$C3.set_Text1(n),this.$8("Text1")),n},get_Text2:function(){return this.$C3.get_Text2()},set_Text2:function(n){return this.$C3.get_Text2()!==n&&(this.$C3.set_Text2(n),this.$8("Text2")),n},get_Text3:function(){return this.$C3.get_Text3()},set_Text3:function(n){return this.$C3.get_Text3()!==n&&(this.$C3.set_Text3(n),this.$8("Text3")),n},get_Text4:function(){return this.$C3.get_Text4()},set_Text4:function(n){return this.$C3.get_Text4()!==n&&(this.$C3.set_Text4(n),this.$8("Text4")),n},get_Text5:function(){return this.$C3.get_Text5()},set_Text5:function(n){return this.$C3.get_Text5()!==n&&(this.$C3.set_Text5(n),this.$8("Text5")),n},get_Text6:function(){return this.$C3.get_Text6()},set_Text6:function(n){return this.$C3.get_Text6()!==n&&(this.$C3.set_Text6(n),this.$8("Text6")),n},get_ImageViewModel:function(){return this.$9z},set_ImageViewModel:function(n){return this.$9z!==n&&($0.$1(this.$9z)||(this.$9z.dispose(),this.$9z=null),this.$9z=n,this.$8("ImageViewModel")),n},get_Button1ViewModel:function(){return this.$KU},set_Button1ViewModel:function(n){return this.$KU!==n&&($0.$1(this.$KU)||(this.$KU.dispose(),this.$KU=null),this.$KU=n,this.$8("Button1ViewModel")),n},get_Button2ViewModel:function(){return this.$KV},set_Button2ViewModel:function(n){return this.$KV!==n&&($0.$1(this.$KV)||(this.$KV.dispose(),this.$KV=null),this.$KV=n,this.$8("Button2ViewModel")),n},get_Button3ViewModel:function(){return this.$rP},set_Button3ViewModel:function(n){return this.$rP!==n&&($0.$1(this.$rP)||(this.$rP.dispose(),this.$rP=null),this.$rP=n,this.$8("Button3ViewModel")),n},$1hQ:null,get_$3VI:function(){return this.$22B||(this.$22B=new Microsoft.Crm.Client.Core.Models.Tiles.Factories.$J0)},$18:function(){if(!this.$1y){if(this.AddPropertyChangedListener("Data",this.$$d_$Or),!$0.$1(this.$AG)){var n=this.$AG.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)}this.$Or(null,null);this.$2Qq(this.get_TileMode());Microsoft.Crm.Client.Core.ViewModels.$8k.prototype.$18.call(this)}},$LP:function(){var n,t;Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$LP.call(this);!$0.$1(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$Av.isInstanceOfType(this.get_ModelContext())&&(n=this.get_ModelContext(),this.set_EntityTypeName("tileLoading"),this.set_IsLoading(!0),t=this,n.$1xI().done(function(){var r,u,i;t.$3w||(r=new Microsoft.Crm.Client.Core.Models.Tiles.Factories.$J0,n.set_$1Jg(new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(r.$1Tu(n))),n=t.$2nI(n),t.$1hQ=n,u={forcerefresh:!1,pinnedtilemodel:n},i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("PopulateTileData",u),i.OnSuccess=t.$$d_$363,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",t,i))}))},$363:function(){var i,u,n,f,r;if(!this.$3w&&(i=this.get_$3VI(),u=!$0.$1(i),u)&&(n=this.$1hQ,f=!$0.$1(n),f)){if(this.set_$2ZK(i.$2A0(n)),this.set_EntityTypeName(n.get_$UP()),n.get_$ib())n.get_$ib()===2?(this.set_EntityTypeName(this.$BK+" crmview"),this.set_Enabled(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(n.get_$UP(),1))):n.get_$ib()===1&&this.set_EntityTypeName(this.$BK+" crmview");else{var t=n.get_$UP(),o=new Microsoft.Crm.Client.Core.Models.Tiles.Validators.$In,e=o.$7h(t);e.$5w&&(this.set_RightCornerText(Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}",this.$C3.get_RightCornerText()||"")),this.$24h());t==="contact"||t==="opportunity"||t==="lead"||t==="account"||e.$5w||this.set_EntityTypeName(this.$BK+" noncola")}n.get_$ib()!==4&&n.get_$ib()!==5&&(r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n.get_$UP()),r.get_$8p()?this.set_EntityTypeName(this.$BK+" activity"):r.$FG&&this.set_EntityTypeName(this.$BK+" customEntity"));this.get_IsPowerBIDashboard()&&this.set_EntityTypeName(this.$BK+" PowerBIDashboard");this.$3Jl();this.$2D&&(this.set_IsLoading(!1),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("LoadedInitialData",0,this.get_ViewModelId()),this.$Im("RenderedInitialData"))}},$2nI:function(n){var t=new Microsoft.Crm.Client.Core.Models.Tiles.Validators.$In,i=t.$7h(n.get_$UP()),r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$90.isInstanceOfType(n.get_$2p())||n.get_$2p().$Gi.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty());return i.$5w&&r&&(n=new Microsoft.Crm.Client.Core.Models.Tiles.Decorators.$U9(n)),n},$Or:function(){!$0.$1(this.get_Data())&&Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(this.get_Data())&&this.set_ModelContext(Microsoft.Crm.Client.Core.Models.$3U.$VH(Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),this.get_Data()))},$3Jl:function(){if(this.get_TargetType()){if(this.get_TargetType()===3){var n=this.get_ModelContext();this.$16h=n.get_$2p().$ne}}else switch(this.get_TargetLogicalName()){case"opportunity":this.$16h="customerid";this.$1Jp="estimatedvalue";this.$22L="closeprobability";break;case"lead":this.$16h="fullname";this.$1Jp="companyname";this.$1e2="telephone1";break;case"account":this.$16h="address1_city,address1_stateorprovince";this.$1Jp="primarycontactid";this.$1e2="telephone1";return}},$24h:function(){var o=this.$C3,i,h,y,l,u,p;if(o){var t=new Microsoft.Crm.Client.Core.ViewModels.$2A,a=o.$9b,f={};f.protocol="mailto:";f.target=a;f.CommandName="TileButton1";t.set_Parameters(f);t.$J8=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V();t.set_Command("UrlLauncherCommand");t.set_ImageType("Symbol");t.set_ImageName("Mail");Microsoft.Crm.Client.Core.Framework.$3.$1O(a)&&(t.$29.set_CanExecute(!1),t.set_Enabled(!1));this.set_Button1ViewModel(t);var n=new Microsoft.Crm.Client.Core.ViewModels.$2A,v=o.$jw,s={};if(s.target=v,s.CommandName="TileButton3",n.set_Parameters(s),n.$J8=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V(),n.set_$4K(this.$2),n.set_Command("SkypeUrlLauncherCommand"),n.set_ImageType("Symbol"),n.set_ImageName("Phone"),i=n.$29,h=this.get_ModelContext(),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(h.get_$G1())){var c=h.get_$G1(),r=c.$N,e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(r.get_$Eb());$0.$1(e)||(y=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$SZ(r.get_$Eb(),r.get_$57(),c.getValue(e.$5e).toString()),i.$16l=y);l=this.$2;Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(l)?(u=l.get_ModelContext(),p=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(u.get_ModelName()),i.$In=u.get_Id(),i.$ok=u.GetValue(p.$5e),i.$ae=u.get_ModelName()):$0.$1(e)||(i.$In=r.get_$57(),i.$ok=c.getValue(e.$5e).toString(),i.$ae=r.get_$Eb())}Microsoft.Crm.Client.Core.Framework.$3.$1O(v)&&(n.$29.set_CanExecute(!1),n.set_Enabled(!1));this.set_Button3ViewModel(n)}},$2Qq:function(n){var r,t,i;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&(r="tile",t=this.get_TileMode()?"wide":"square",t=r+t,i=n?"wide":"square",i=r+i,this.$Nz.$DR(i),this.$Nz.$2i(t))},$GX:function(){this.set_Button1ViewModel(null);this.set_Button2ViewModel(null);this.set_Button3ViewModel(null);this.set_ImageViewModel(null);Microsoft.Crm.Client.Core.ViewModels.$8k.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$3HK=Function.createDelegate(this,this.$3HK);this.$$d_$36R=Function.createDelegate(this,this.$36R);this.$$d_$Os=Function.createDelegate(this,this.$Os);this.$pW=new Microsoft.Crm.Client.Core.Framework.$9F;this.$1J8=-1;Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.resolveInheritance();this.get_$2R6=this.get_OpenItemCommand;this.set_$3Dz=this.set_NavigationTarget;this.get_$3QI=this.get_SelectedItem;this.get_componentType=this.get_$2ic;this.get_definitionId=this.get_DefinitionId;this.set_definitionId=this.set_DefinitionId;this.get_sourceId=this.get_SourceId;this.set_sourceId=this.set_SourceId;this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$2b8=this.get_Visible;this.get_childViewModels=this.get_ChildViewModels;this.get_$2oG=this.get_Dragging;this.get_$1Np=this.get_applicationMetadataType;this.get_$2nN=this.get_DefinitionId;this.set_$3Ub=this.set_SourceId;this.get_$3YS=this.get_ViewModelId;Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1c("CrmTileContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$2mv)};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$2mv=function(){return new Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.prototype={$7H:null,$1Go:!0,$5z:null,$1Wf:null,$1BE:0,$1Jn:null,$Mb:!1,$k6:0,get_ItemContextId:function(){return this.$1Wf},set_ItemContextId:function(n){return this.$1Wf=n,n},get_$zb:function(){return"tilecontainer"},get_$aV:function(){return this.$2.$G},get_$14c:function(){return this.$7H},set_$14c:function(n){var t=!$0.$1(this.$7H)&&this.$7H!==n,i,r;return $0.$1(this.$7H)||$0.$1(n)||(i=this.$7H.$5z,r=n.$5z,t=this.$3AZ(r,i)),this.$7H=n,t&&this.$1IP(),n},set_$1dD:function(n){var t=!!n.length||!$0.$1(this.$5z)&&!!this.$5z.length;return this.$5z=n,this.$8("SortOrder"),t&&this.set_$14c(new Microsoft.Crm.Client.Core.Framework.$CG(this.$5z)),n},get_$1wv:function(){return"TilePane"},get_$1wt:function(){return null},$ji:!1,get_IsRelationshipPinnedTiles:function(){return this.$ji},set_IsRelationshipPinnedTiles:function(n){return this.$ji=n,n},get_RenderPlaceholder:function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&this.$2.$Aa&&!this.$1R.get_Count()&&!this.$2D},get_RenderTiles:function(){return this.$1R.get_Count()>0},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&this.set_Visible(this.$2.$Aa||this.$ji),this.$1Jn=this.get_$2Rm(),this.add_$2Vt(this.$$d_$Os),$0.$1(this.deleteCommand)&&this.set_$10B(Microsoft.Crm.Client.Core.ViewModels.Commands.$A9.$B(this)),$0.$1(this.$Ih)&&this.set_OpenItemCommand(Microsoft.Crm.Client.Core.ViewModels.Commands.$BV.$B(this)),this.$pW.add_CollectionChanged(this.$$d_$36R));Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$18.call(this)},$1hl:function(){this.$16||(this.$16=1,$0.$1(this.$U6)||(this.$1Go=!1,this.$1zR()),this.$1u9())},$1rk:function(){this.$6a=new Microsoft.Crm.Client.Core.ViewModels.$LW;this.$6a.set_ListComponentViewModel(this);this.$6a.set_$1Ns(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())},$GX:function(){this.remove_$2Vt(this.$$d_$Os);this.$pW.remove_CollectionChanged(this.$$d_$36R);$0.$1(this.get_SortedItems())||(this.get_SortedItems().clear(),this.set_SortedItems(null));Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$GX.call(this)},$3Bz:function(n){this.$7H=Microsoft.Crm.Client.Core.Framework.$CG.$1A(n.$7H);this.$1Go=!0},$2Ns:function(){this.$1Go=!0},sortStart:function(n){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.sortStart.call(this,n);this.$Rt=!0;this.$k6=n},sortStop:function(n){var i,r,u,f,t;(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.sortStop.call(this,n),i=!$0.$1(this.$5z),i&&this.$5z.length)&&(r=this.$k6>=0&&this.$k6<this.$5z.length,r)&&(u=n>=0&&n<this.$5z.length,u)&&(f=this.$5z[this.$k6],t=this.$5z.slice(0,this.$5z.length),t.splice(this.$k6,1),t.splice(n,0,f),this.set_$1dD(t),this.$Rt=!1,this.$2YO())},get_SortedItems:function(){return $0.$1(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.get_SortedItems.call(this))&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.set_SortedItems.call(this,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$43))),Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.get_SortedItems.call(this)},get_$2Na:function(){return this.$1Wf},changeText:function(){this.$1BE++;this.$1BE=this.$1BE%3;switch(this.$1BE){case 0:this.set_TilePlaceholderCurrentText(this.get_$2Rm());break;case 1:this.set_TilePlaceholderCurrentText(this.get_$3JP());break;case 2:this.set_TilePlaceholderCurrentText(this.get_$3JO())}},get_TilePlaceholderCurrentText:function(){return this.$1Jn},set_TilePlaceholderCurrentText:function(n){return this.$1Jn!==n&&(this.$1Jn=n,this.$8("TilePlaceholderCurrentText")),n},get_$2Rm:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PinnedTilePlaceholderPinHere")},get_$3JP:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PinnedTilePlaceholderSelectRecord")},get_$3JO:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PinnedTilePlaceholderChange")},$X6:function(){this.$Mb=!0;Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$X6.call(this)},$24q:function(n){if(Microsoft.Crm.Client.Core.Models.$6g.isInstanceOfType(n)){var t=n;this.$2u.get_$B5().$SD(this.$3UZ(t));this.$2u!==n&&(t.$1Qb(),t.$ND.clear());this.$Mb=!1}},$zm:function(n){var i=Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$zm.call(this,n),u,f,e,t,r;if(i.$1cr=!1,!$0.$1(i)){u=i.$F;for(f in u)if(e={key:f,value:u[f]},Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.isInstanceOfType(e.value)){for(t=e.value,t.AddPropertyChangedListener("IsLoading",this.$$d_$3HK),r=0;r<t.$Nz.get_Count();r++)i.$1B9.$1Aj(t.$Nz.get_$I(r))||i.$1B9.$2i(t.$Nz.get_$I(r));t.$Nz=i.$1B9;t.$2D&&this.$pW.$2i(t.get_TargetGuid())}}return i},$4e:function(n){if(this.$1Go)Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$4e.call(this,n);else{var t=null,i=this;t=function(){i.remove_$1bN(t);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$4e.call(i,n)};this.add_$1bN(t)}},$1w2:function(n,t){(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1w2.call(this,n,t),this.$fZ)||(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()?this.$Mb&&this.$ji||this.set_Visible(this.$2.$Aa||this.$ji&&this.$1R.get_Count()>0):this.set_Visible((this.$2.$Aa||this.$ji)&&this.$1R.get_Count()>0),this.$2YO())},$1Be:function(n){var r=n.$F,t,i;for(t in r)i={key:t,value:r[t]},Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.isInstanceOfType(i.value)&&this.$pW.$DR(i.value.get_TargetGuid());Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1Be.call(this,n)},$3AZ:function(n,t){var r=!1,i;if($0.$1(t)||n.length!==t.length)r=!0;else for(i=0;i<n.length;i++)if(!n[i].equals(t[i])){r=!0;break}return r},$36R:function(){this.$1J8!==-1&&window.clearTimeout(this.$1J8);var n=this;this.$1J8=window.setTimeout(function(){n.$1J8=-1;n.set_IsLoading(!!n.$pW.get_Count())},500)},$3HK:function(n){var t=n;t.$2D?this.$pW.$2i(t.get_TargetGuid()):(this.$pW.$DR(t.get_TargetGuid()),t.RemovePropertyChangedListener("IsLoading",this.$$d_$3HK))},$Os:function(){this.set_$zr(this.$C9);this.$2aU()},$2aU:function(){this.set_IsScrollLocked(!$0.$1(this.$C9))},$1vw:function(n){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1vw.call(this,n);this.$2aU()},$3UZ:function(n){for(var e,y,t,s,i,h,c,w,a=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$3U)),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$3U)),u={},f=0;f<n.$ND.get_Count();f++)e=n.$ND.get_$I(f),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$90.isInstanceOfType(e.get_$2p())&&(u[f.toString()]=1,r.add(e));if(!$0.$1(this.$7H)&&this.$1Lv)for(var v=this.$7H.$5z,b=v.length,o=0;o<b;++o)for(y=v[o],t=0;t<n.$ND.get_Count();t++)if(!(t.toString()in u)&&(s=n.$ND.get_$I(t),s.get_$2p().$Al.equals(y))){u[t.toString()]=1;a.add(s);break}for(r.addRange(a.toArray()),i=0;i<n.$ND.get_Count();i++)i.toString()in u||r.add(n.$ND.get_$I(i));h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.Guid));c=r.toArray();for(var p=c,k=p.length,l=0;l<k;++l)w=p[l],h.add(w.get_$2p().$Al);return this.set_$1dD(h.toArray()),c},$2YO:function(){var u,f,n,e,t,i,r,o,s;if(this.get_SortedItems().get_Count()>0&&this.get_SortedItems().clear(),u=!$0.$1(this.$1R),u){if(f=!$0.$1(this.$5z),!f||!this.$5z.length){this.get_SortedItems().addRange(this.$1R.$22N());return}for(n=0;n<this.$5z.length;n++)for(e=this.$5z[n],t=0;t<this.$1R.get_Count();t++){if(i=this.$1R.getItem(t),$0.$1(i))return;if(r=i.get_ModelContext(),o=!$0.$1(r)&&Microsoft.Crm.Client.Core.Models.$Av.isInstanceOfType(r),o&&(s=r,s.get_$1do().equals(e))){this.get_SortedItems().add(i);break}}}}};Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel=function(){this.$$d_$3GE=Function.createDelegate(this,this.$3GE);this.$$d_$2f4=Function.createDelegate(this,this.$2f4);this.$$d_$2W9=Function.createDelegate(this,this.$2W9);this.$2MH=this.isFieldEditable;Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.resolveInheritance();this.$1qG=this.getFieldNameFromDescriptorName;Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype={$10Q:null,$eL:null,$1ZZ:null,$uR:null,$Sz:null,get_EditStartedCommand:function(){return this.$10Q},set_EditStartedCommand:function(n){return $0.$1(this.$10Q)||(this.$10Q.dispose(),this.$10Q=null),this.$10Q=n,this.$8("EditStarted"),n},get_EditFinishedCommand:function(){return this.$eL},set_EditFinishedCommand:function(n){return $0.$1(this.$eL)||(this.$eL.dispose(),this.$eL=null),this.$eL=n,this.$8("EditFinished"),n},get_LargerLineHeightForLabels:function(){return Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)},get_$ly:function(){return $0.$1(this.$Sz)&&this.$1o5(),this.$Sz},$18:function(){var t,i,r,u,f,n,e,o;Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$1o5();t=this;this.set_EditStartedCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){t.get_ModelContext()&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(t.get_ModelContext())&&(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t.$2)&&t.$2.get_$134()&&t.$2.get_IsLocked()||t.get_ModelContext().$1cX())},26));i=this;this.set_EditFinishedCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){i.get_ModelContext()&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(i.get_ModelContext())&&i.get_ModelContext().$1aa()},26));r=this.$F;for(u in r)f={key:u,value:r[u]},n=f.value,Microsoft.Crm.Client.Core.ViewModels.$6n.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$3M.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.isInstanceOfType(n)||(e=Microsoft.Crm.Client.Core.ViewModels.$7y.isInstanceOfType(n)?n:null,o=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.isInstanceOfType(n)?n.getPrimaryFieldName():this.getFieldNameFromDescriptorName(f.key),this.initializeFieldAccessRules(o,e));this.$2Yw(this.get_ModelContext());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$2W9);Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)&&this.$2.AddPropertyChangedListener("AttributeMetadata",this.$$d_$2f4);Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(this.$2)&&this.$2.AddPropertyChangedListener("MultipleEntityAttributeFormModelUpdate",this.$$d_$3GE)},$1o5:function(){if($0.$1(this.$Sz)){var n=-1;Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&this.$2.$7s===1?n=0:(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.isInstanceOfType(this.$2))&&(n=2);this.$Sz=new Microsoft.Crm.Client.Core.ViewModels.FieldAccessController(this.$2,this.get_ModelContext(),n)}else this.$Sz.$3X9(this.get_ModelContext())},$8V:function(n,t){var i,r;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$8V.call(this,n,t);this.get_$ly().isFieldAccessAvailable(n)||Microsoft.Crm.Client.Core.ViewModels.$6n.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.$3M.isInstanceOfType(t)||(i=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.isInstanceOfType(t)?t.getPrimaryFieldName():this.getFieldNameFromDescriptorName(n),r=Microsoft.Crm.Client.Core.ViewModels.$7y.isInstanceOfType(t)?t:null,this.initializeFieldAccessRules(i,r))},isFieldEditable:function(n){return this.get_$ly().isFieldEditable(n)},isFieldSecured:function(n){return this.get_$ly().isFieldSecured(n)},isFieldReadable:function(n){return this.get_$ly().isFieldReadable(n)},isFieldAccessAvailable:function(n){return this.get_$ly().isFieldAccessAvailable(n)},initializeFieldAccessRules:function(n,t){return this.$1Zl(n,t)},$1Zl:function(n,t){var r=this.get_$ly().initializeFieldAccessRules(n),i;return(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2))&&(i=this,r.done(function(r){var e,u,f;$0.$1(t)||t.set_$2MI(function(){return!i.isFieldEditable(n)});r.$Dv&&(e=i.$F[n+"_readonly"],$0.$1(e)||e.get_Enabled()===r.$Od||e.set_Enabled(r.$Od),u=i.$F[n+"_edit"],$0.$1(u)||u.$Zd||u.get_Enabled()===r.$Od||u.set_Enabled(r.$Od),f=i.$F[n],$0.$1(f)||f.$Zd||f.get_Enabled()===r.$Od||f.set_Enabled(r.$Od));i.$3AO(n)&&i.get_$ly().$2XG(n,r)})),r},$2W9:function(){this.$8("FieldAccessChanged")},$2f4:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()||this.$8("FieldAccessChanged")},$2Yw:function(n){if(this.$2Zt(this.$1ZZ),!$0.$1(n)){var t=this;this.$uR=function(n,i){var u,f,e,o,r,s,h;if(i==="usersharedattributeprivileges"){u=[];f=t.$F;for(e in f)o={key:e,value:f[e]},r=o.value,Microsoft.Crm.Client.Core.ViewModels.$6n.isInstanceOfType(r)||Microsoft.Crm.Client.Core.ViewModels.$3M.isInstanceOfType(r)||(s=Microsoft.Crm.Client.Core.ViewModels.$7y.isInstanceOfType(r)?r:null,h=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.isInstanceOfType(r)?r.getPrimaryFieldName():t.getFieldNameFromDescriptorName(o.key),Array.add(u,t.initializeFieldAccessRules(h,s)));Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(u).always(function(){t.$8("FieldAccessChanged")})}};n.add_$6x(this.$uR)}this.$1ZZ=n},$2Zt:function(n){$0.$1(n)||$0.$1(this.$uR)||(n.remove_$6x(this.$uR),this.$uR=null)},$LP:function(){var i,r,t,n,u,f;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$LP.call(this);this.$1o5();i=this.$F;for(r in i)t={key:r,value:i[r]},n=t.value,Microsoft.Crm.Client.Core.ViewModels.$6n.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$3M.isInstanceOfType(n)||(u=Microsoft.Crm.Client.Core.ViewModels.$7y.isInstanceOfType(n)?n:null,f=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.isInstanceOfType(n)?this.$31W(n,t.key.toString()):this.getFieldNameFromDescriptorName(t.key),this.$1Zl(f,u));this.$2Yw(this.get_ModelContext())},$31W:function(n,t){return t.lastIndexOf(":")>0?t.substr(0,t.lastIndexOf(":"))+":"+n.getPrimaryFieldName():n.getPrimaryFieldName()},$GX:function(){!$0.$1(this.$eL)&&this.$eL.get_CanExecute()&&this.$eL.execute();this.set_EditStartedCommand(null);this.set_EditFinishedCommand(null);this.$2Zt(this.get_ModelContext());this.$uR=null;this.$1ZZ=null;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$2W9);Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)&&this.$2.RemovePropertyChangedListener("AttributeMetadata",this.$$d_$2f4);Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(this.$2)&&this.$2.RemovePropertyChangedListener("MultipleEntityAttributeFormModelUpdate",this.$$d_$3GE);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$3GE:function(){$0.$1(this.$2.get_ModelContext())||!Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$2.get_ModelContext())||Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this)||Microsoft.Crm.Client.Core.ViewModels.$6n.isInstanceOfType(this)||this.$LP()}};Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel=function(n){this.$$d_$1Yg=Function.createDelegate(this,this.$1Yg);this.$$d_$1va=Function.createDelegate(this,this.$1va);this.$$d_$1wB=Function.createDelegate(this,this.$1wB);this.$$d_$1wE=Function.createDelegate(this,this.$1wE);this.$$d_$2QI=Function.createDelegate(this,this.$2QI);this.$$d_$261=Function.createDelegate(this,this.$261);this.$$d_$3GI=Function.createDelegate(this,this.$3GI);this.$Cv=-1;this.get_AttributeMetadata=this.get_$1O4;this.set_AttributeMetadata=this.set_$1O4;Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_LaunchedWithUnsavedChanges=this.get_$1tn;this.set_LaunchedWithUnsavedChanges=this.set_$1tn;Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.initializeBase(this,[n]);this.$gJ=new Microsoft.Crm.Client.Core.ViewModels.Common.$9Z(this)};Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype={$gJ:null,$Yt:null,$BQ:null,$Hd:null,$1bD:null,$Oz:null,$1G2:!1,$1G1:!1,$54:null,$aT:0,$fu:!1,$1wZ:!1,$vU:!1,$RS:!1,$12X:!1,$Ff:null,$1OC:!1,$1J1:!1,$3I:null,$Mb:!1,get_$FH:function(){return!$0.$1(this.get_ModelContext())&&this.get_ModelContext().$FH()},get_RetrieveEditFormDataXmlActionProvider:function(){return this.$1bD},set_RetrieveEditFormDataXmlActionProvider:function(n){return this.$1bD=n,n},get_ModelUpdateActionProvider:function(){return this.$Hd},set_ModelUpdateActionProvider:function(n){return this.$Hd=n,n},get_AttributeFieldNames:function(){return this.$54},set_AttributeFieldNames:function(n){return this.$54=n,this.$8("AttributeFieldNames"),n},$1r:null,get_$1O4:function(){return this.$1r},set_$1O4:function(n){return n===this.$1r?n:(this.$1r=n,this.$8("AttributeMetadata"),n)},$LZ:null,get_RetrieveOptions:function(){return this.$LZ},set_RetrieveOptions:function(n){return this.$LZ=n,n},get_NavigationBlockedOnSave:function(){return this.$1G1},set_NavigationBlockedOnSave:function(n){return this.$1G1!==n&&(this.$1G1=n,this.$8("NavigationBlockedOnSave")),n},get_$1tn:function(){return this.$fu},set_$1tn:function(n){return this.$fu!==n&&(this.$fu=n,this.$8("LaunchedWithUnsavedChanges")),n},get_$PM:function(){return this.get_$39F()?Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()?!0:this.$RS:!0},add_PreNavigation:function(n){this.$2I("PreNavigation",n)},remove_PreNavigation:function(n){this.$4N("PreNavigation",n)},get_$3NM:function(){return!0},get_$134:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("LockFormOnRefresh")},$2go:function(n,t){return t},$2Pk:function(){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$2Pk.call(this);this.$1J1=!1;this.$1OC&&this.$261()},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$18.call(this),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$LQ),this.AddPropertyChangedListener("NavigationBlockedOnSave",this.$$d_$3GI));this.$LZ=Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm();this.$1wZ&&Microsoft.Crm.Client.Core.ViewModels.$1K.$163(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("EditRootViewModel_OpenedInsteadOfUrlTarget_Notification"),1,"EditRootViewModel_OpenedInsteadOfUrlTarget")},$X6:function(){this.$vb(!0)},refreshWithoutScriptReload:function(){this.$vb(!1)},$vb:function(n,t){var f,r,e,o;if(!this.get_$FH()||t)return this.get_$FH()?(f=MscrmComponents.DeferredPromiseFactory(Boolean,Object),r=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),this.$dH(f,"Web._forms.styles.FORM.crm.htc_Title"),e=this,o=this,f.then(function(t){t?e.$zX(n).then(function(){r.resolve(null)},function(n){r.reject(n)}):r.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147088110))},function(n){r.reject(n)}),r):this.$zX(n);var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),u=this,s=this;return this.$Iw(1).then(function(t){if(t)u.$zX(n).then(function(n){i.resolve(n)},function(n){i.reject(n)});else if(u.get_$FH()){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Object);u.$dH(r,"Web._forms.styles.FORM.crm.htc_Title");r.then(function(t){t?u.$zX(n).then(function(n){i.resolve(n)},function(n){i.reject(n)}):i.resolve(null)},function(n){i.reject(n)})}},function(n){i.reject(n)}),i.promise()},$29q:function(n){return new Xrm.Gen.RetrieveProcessControlDataRequest(n,this.$29J("processid","businessprocessflowinstance"),this.$29J("processinstanceid","businessprocessflowinstance"))},$zX:function(n){var i,f,o,r;this.get_$134()&&(this.$Mb=!0,this.set_IsLocked(this.$cv()));($0.$1(n)||n)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1yk(1);var e=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t=null,u=null;return!$0.$1(this.get_$1K())&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_$1K())&&(t=this.get_$1K()),$0.$1(t)?this.get_$134()&&(this.$Mb=!1,this.set_IsLocked(this.$cv())):(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(t.$GZ=0),i=this,u=function(n,r){var f=r;f.$b5===1&&(t.remove_$9k(u),e.resolve(null),i.get_$134()&&(i.$Mb=!1,i.set_IsLocked(i.$cv())))},t.add_$9k(u)),f=Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$vb.call(this),o=this,f.done(function(){Microsoft.Crm.Client.Core.ViewModels.$1K.$Q3("EditRootViewModel_AutoSave_Error");Microsoft.Crm.Client.Core.ViewModels.$1K.$Q3("EditRootViewModel_OpenedInsteadOfUrlTarget")}),$0.$1(t)?f:(r=this,f.fail(function(n){e.reject(n);t.remove_$9k(u);r.get_$134()&&(r.$Mb=!1,r.set_IsLocked(r.$cv()))}),e)},$1X7:function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1yH(this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1X7.call(this,n,t,i)},$1uy:function(n){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1uy.call(this,n);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$wo(this.get_ViewModelId())},$2QM:function(n){var r,t,u,i,f;if(this.$Oz)return this.$Oz;if(r=this.$5j("PreNavigation"),r&&r(this,null),t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),u=this,t.done(function(){u.$1G2=!1;u.set_NavigationBlockedOnSave(!1)}),Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.isInstanceOfType(n)){if(i=n,!$0.$1(i.$Yh)&&!$0.$1(i.$Yh.InitializationParameters)&&(f=i.$Yh.InitializationParameters,f.IsSaveAndEditButtonHidden))return this.$1J1=!0,t.resolve(!0),t.promise()}else if(Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.isInstanceOfType(n))return this.$1J1=!0,t.resolve(!0),t.promise();return this.$1rK(),this.get_$FH()?Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&this.$7s===1||!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$fX?this.$2ip(n,t):this.$2VT(n,t):t.resolve(!0),t.promise()},$2VT:function(n,t){var r=this.get_$1K(),u,i;if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&this.$7s===1){!this.$Co||this.$12X?(this.$dH(t,"DiscardChanges_Invalid_Message"),this.$12X=!1):Microsoft.Crm.Client.Core.ViewModels.$4K.$1be("saveandclose",this);return}if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x){this.$lX();t.resolve(!0);return}!this.$Co||this.$12X?(this.$dH(t,"DiscardChanges_Invalid_Message"),this.$12X=!1):Microsoft.Crm.Client.Core.ViewModels.$n.$1FE()?r.$1Li?t.resolve(!0):(this.set_NavigationBlockedOnSave(!0),this.$1G2=!0,u=this,i=this,this.$Iw(2).then(function(n){n?t.resolve(!0):u.$dH(t,"Web._forms.styles.FORM.crm.htc_Title")},function(){Microsoft.Crm.Client.Core.ViewModels.$n.$IT(r.$M.$3F.LogicalName)||n.get_$LJ()===2||n.get_$LJ()===4?Microsoft.Crm.Client.Core.ViewModels.$n.$IT(r.$M.$3F.LogicalName)&&n.get_$LJ()!==2&&n.get_$LJ()!==4?i.$28O(t,"DiscardChanges_Invalid_Message",i.$BQ):(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$vf(i.get_ModelContext().get_Id()),t.resolve(!1)):i.$dH(t,"DiscardChanges_Offline_Message")})):this.$dH(t,"DiscardChanges_Offline_Message")},$R0:function(n){var i,t;(this.$BQ=n,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SZ("EditRootViewModel.OnActionFailed",n.toString(),"",this.$J),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i)),n.$z===-2147093999&&this.$1G2)||n.$z!==-2147220685&&(this.$1G2||(this.$aT===70?(t=String.format("{0}: {1}",Microsoft.Crm.Client.Core.Framework.Common.$2.$2IC(n.$z),Microsoft.Crm.Client.Core.Framework.Common.$2.$11Y(n)),Microsoft.Crm.Client.Core.ViewModels.$1K.$163(t,3,"EditRootViewModel_AutoSave_Error"),Microsoft.Crm.Client.Core.ViewModels.$1K.$RN(t)):Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$R0.call(this,n)))},$LP:function(){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$LP.call(this);this.$1BW();this.$3I=this.get_$1K();this.$1il();!$0.$1(this.get_$1K())&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_$1K())&&this.set_IsLocked(this.$cv())},$cv:function(){if(this.get_$134()&&this.$Mb)return!0;var n=this.get_$1K();return n?Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$cv.call(this)||n.get_$Za()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$12Z(n.$M.$3F.LogicalName,n,2):!1},$2QI:function(n,t){var i,u,r;if(!$0.$1(this.get_$1K())&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_$1K())&&(this.get_$1K().$GZ===1&&(this.$w4(t),this.$Cv===-1&&(this.$Cv=window.setTimeout(this.$$d_$261,3e4))),t==="accessrights"&&this.set_IsLocked(this.$cv())),this.get_$FH()){for(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i.add("stageid"),i.add("stageid!Raw"),i.add("stageid!Numeric"),i.add("traversedpath"),i.add("traversedpath!Raw"),i.add("traversedpath!Numeric"),u=!1,r=0;r<i.get_Count();r++)if(t===i.get_$I(r)){u=!0;break}u||Microsoft.Crm.Client.Core.ViewModels.$1K.$RN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("UnSavedChanges_Title"))}else Microsoft.Crm.Client.Core.ViewModels.$1K.$RN("")},$w4:function(n){Microsoft.Crm.Client.Core.ViewModels.$2I.get_$5().$3Po(this.get_ModelContext(),n)},$1E2:function(){this.get_$FH()?this.$Iw(1):Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1E2.call(this)},$160:function(n){var t=this.$LZ;this.$fu&&(this.$LZ=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(this.$LZ.$Ey,0));Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$160.call(this,n);this.$LZ=t},$GX:function(){this.$gJ.$6D();this.$1BW();this.$3I=null;this.RemovePropertyChangedListener("NavigationBlockedOnSave",this.$$d_$3GI);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$LQ);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$GX.call(this)},$1wB:function(){!$0.$1(this.get_$1K())&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_$1K())&&this.set_IsLocked(this.$cv())},$2ip:function(n,t){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x){this.$lX();t.resolve(!0);return}var i=this,r=this;Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ConfirmSave_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ConfirmSave_Message"),1,function(){i.$2VT(n,t)},function(){r.$lX();t.resolve(!0)},Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ConfirmSave_SaveButton"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DiscardChanges_DiscardButton"))},$dH:function(n,t){var i=this,r=this;Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DiscardChanges_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6(t),1,function(){i.$lX();n.resolve(!0)},function(){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$vf(r.get_ModelContext().get_Id());n.resolve(!1)},Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DiscardChanges_DiscardButton"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DiscardChanges_ReturnButton"))},$28O:function(n,t,i){var r=String.format("{0}: {1}",Microsoft.Crm.Client.Core.Framework.Common.$2.$2IC(i.$z),Microsoft.Crm.Client.Core.Framework.Common.$2.$11Y(i)),u=this,f=this;Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DiscardChanges_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6(t)+"\n\n"+r,1,function(){u.$lX();n.resolve(!0)},function(){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$vf(f.get_ModelContext().get_Id());n.resolve(!1)},Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DiscardChanges_DiscardButton"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DiscardChanges_ReturnButton"))},$lX:function(){var n,t;!$0.$1(this.get_$1K())&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_$1K())&&(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1eM(this.$3I.get_Id()),n=this.get_$1K(),n.discardChanges(),this.$27S(),Xrm.Internal.disableFieldChangeIndicator(),t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$pN,$0.$1(t)||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$pN=null),Microsoft.Crm.Client.Core.ViewModels.$1K.$Q3("EditRootViewModel_AutoSave_Error"),Microsoft.Crm.Client.Core.ViewModels.$1K.$Q3("EditRootViewModel_OpenedInsteadOfUrlTarget"))},$1il:function(){if(!$0.$1(this.get_$1K())&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_$1K())){var n=this.get_$1K();n.add_$6x(this.$$d_$2QI);n.add_$9k(this.$$d_$1wE);n.add_$vW(this.$$d_$1wB)}},$1BW:function(){if(!$0.$1(this.$3I)&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$3I)){var n=this.$3I;n.remove_$6x(this.$$d_$2QI);n.remove_$9k(this.$$d_$1wE);n.remove_$vW(this.$$d_$1wB)}},$261:function(){if((this.$o!==40||this.$7s!==1)&&(this.$Cv=-1,!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x)){if(this.$1J1){this.$1OC=!0;return}this.$1OC=!1;this.$Co&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()&&this.get_$FH()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$fX&&this.$Iw(70)}},$1wE:function(n,t){this.get_$FH()?Microsoft.Crm.Client.Core.ViewModels.$1K.$RN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("UnSavedChanges_Title")):Microsoft.Crm.Client.Core.ViewModels.$1K.$RN("");var i=t;i.$b5!==1&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()||i.$ha!==1||this.$vU||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LoadedReadReady",0,this.$12),this.$vU=!0);this.$fu&&(Microsoft.Crm.Client.Core.ViewModels.$2I.get_$5().$3bH(this.get_ModelContext()),this.$Cv=window.setTimeout(this.$$d_$261,3e4),this.get_ModelContext().$sG())},$Iw:function(n){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),f,u,r,t;return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x?(f=Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093991),i.reject(f),i.promise()):(window.clearTimeout(this.$Cv),this.$Cv=-1,n===2&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1eM(this.$3I.get_Id()),this.$1rK(),this.$Co||n===70?$0.$1(this.$Hd)||(u=this.$Hd.$DG(n),this.$Oz=i,this.$aT=n,Microsoft.Crm.Client.Core.ViewModels.$1K.$RN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Navigation_WaitingForSave")+"..."),r=this,u.add_$RQ(function(){r.$Oz=null;r.$aT=0;r.get_$FH()?Microsoft.Crm.Client.Core.ViewModels.$1K.$RN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("UnSavedChanges_Title")):Microsoft.Crm.Client.Core.ViewModels.$1K.$RN("");r.get_$FH()&&r.$aT!==70?i.resolve(!1):(i.resolve(!0),Microsoft.Crm.Client.Core.ViewModels.$1K.$Q3("EditRootViewModel_AutoSave_Error"),Microsoft.Crm.Client.Core.ViewModels.$1K.$Q3("EditRootViewModel_OpenedInsteadOfUrlTarget"),r.$27S())}),t=this,u.add_$OG(function(){var r,n,f,u;Microsoft.Crm.Client.Core.ViewModels.$1K.$RN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("UnSavedChanges_Title"));switch(t.$BQ.$z){case-2147220685:t.$aT!==70?t.$2LY():(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$HY)),r.$2i(new Microsoft.Crm.Client.Core.ViewModels.$ET(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RefreshForm_SaveAnyway"),function(){t.$1rK();t.$1va("Save")})),r.$2i(new Microsoft.Crm.Client.Core.ViewModels.$ET(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RefreshForm_ResolveDuplicate"),function(){t.$2LY()})),Microsoft.Crm.Client.Core.ViewModels.$1K.$163(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ViewDuplicates_Notification_Message"),2,"DuplicateFoundNotification",r,-1),t.$Oz=null,t.$aT=0,i.reject(t.$BQ));break;default:t.$Oz=null;t.$aT=0;n="";$0.$1(t.$BQ)||$0.$1(t.$BQ.$z)||(f=Microsoft.Crm.Client.Core.Framework.Common.$2.$2IC(t.$BQ.$z),u=Microsoft.Crm.Client.Core.Framework.Common.$2.$11Y(t.$BQ),$0.$1(u)||(n=String.format("{0}: {1}",f,u)));Microsoft.Crm.Client.Core.Framework.$3.$9(n)&&(n=Microsoft.Crm.Client.Core.Framework.Common.$2.$6(t.$BQ.$E));Microsoft.Crm.Client.Core.ViewModels.$1K.$RN(n);i.reject(t.$BQ)}}),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(u)):(Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Form_Component_Error")),i.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("Form_Component_Error"))),i.promise())},$2LY:function(){var t=this.$BQ,n;this.$Ff=t.$Ff;n=this.$1bD.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)},$1va:function(n){var t=this.$Oz,r,u,i;switch(n){case"Save":this.$RS=!0;r=this;u=this;this.$Iw(this.$aT).then(function(n){$0.$1(t)||t.resolve(n)},function(n){$0.$1(t)||t.reject(n)});break;case"Cancel":this.$2L0(t);break;default:this.$2L0(t);n.indexOf("OpenRecord")!==-1&&(i=$(n),this.$12X=!0,Xrm.Utility.openEntityForm(i.find("type").text(),i.find("Id").text()))}},$2L0:function(n){this.$Oz=null;this.$aT=0;$0.$1(n)||n.reject(this.$BQ)},$1Yg:function(n){this.$Yt=n;var t="";$0.$1(this.get_ModelContext())||$0.$1(this.get_ModelContext().get_$57())||(t=this.get_ModelContext().get_$57().get_$57());Microsoft.Crm.Client.Core.ViewModels.$7D.$169(this.$Yt,this.$$d_$1va,t)},$3GI:function(){this.$1G1?Microsoft.Crm.Client.Core.ViewModels.$1K.$163(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Navigation_WaitingForSave"),1,"EditRootViewControl_Navigation"):Microsoft.Crm.Client.Core.ViewModels.$1K.$Q3("EditRootViewControl_Navigation")},$27S:function(){$0.$1(this.get_ModelContext())||this.get_ModelContext().$3w||!this.$fu||this.get_ModelContext().$cg();this.set_$1tn(!1);Microsoft.Crm.Client.Core.ViewModels.$2I.get_$5().$3bI(this.get_ModelContext())},$1rK:function(){Microsoft.Crm.Client.Core.ViewModels.$1K.$Q3("DuplicateFoundNotification")},$29J:function(n,t){return!this.$A1||!(n in this.$A1)?new Xrm.Objects.EntityReference(t,Microsoft.Crm.Client.Core.Framework.Guid.get_empty()):new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(this.$A1[n].toString()))}};Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel=function(){this.$$d_$1w9=Function.createDelegate(this,this.$1w9);this.$$d_$3Ps=Function.createDelegate(this,this.$3Ps);this.$$d_$Os_8=Function.createDelegate(this,this.$Os_8);this.$$d_$Or=Function.createDelegate(this,this.$Or);Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype={$Ic:null,$15h:"",$11v_8:!1,$Aw_8:0,$n9:null,$R4_8:null,$14J_8:!1,$1V1_8:null,get_MetadataActionProvider:function(){return this.$Ic},set_MetadataActionProvider:function(n){return this.$Ic!==n&&(this.$Ic=n),n},get_SelectedLabel:function(){return this.$15h},set_SelectedLabel:function(n){return this.$15h=n,this.$8("SelectedLabel"),n},$1w9:function(n,t,i){var u,f,r;if(t&&(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V))(n),u.insert(0,new Microsoft.Crm.Client.Core.ViewModels.$Cs("-1","")),n=u.toArray()),this.$1V1_8=n,!this.$Tv&&!this.$14J_8){if(this.set_$1wf(!0),this.$Aw_8=$0.$1(i)?-1:i,this.$11v_8=t,$0.$1(this.get_ItemsList())||(f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V))(n),f.addRange(this.get_ItemsList()),n=f.toArray()),this.set_ItemsList(n),!$0.$1(this.$R4_8)&&this.$R4_8.get_Count()>0)for(r=0;r<this.$R4_8.get_Count();r++)this.$1yX_8(this.$R4_8.get_$I(r));($0.$1(this.get_Data())||String.isInstanceOfType(this.get_Data())&&Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_Data()))&&this.$Aw_8!==-1&&this.set_SelectedItem(this.$Aw_8.toString());this.$Os_8(null,null)}},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$R4_8=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number));this.AddPropertyChangedListener("Data",this.$$d_$Or);this.AddPropertyChangedListener("SelectedItem",this.$$d_$Os_8);this.$Or(null,null);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().add_$wY(this.$$d_$3Ps)},$UD:function(){this.$12C&&(this.set_ItemsList(new Array(0)),this.set_$1wf(!1),this.$R4_8=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number)),this.$14J_8=!1,this.set_SelectedItem(""),Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$UD.call(this))},$19X:function(n,t){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V))(this.get_ItemsList());$0.$1(t)||t<0||t>i.get_Count()?i.add(n):i.insert(t,n);this.set_ItemsList(i.toArray())},$1HZ:function(n){this.$Tv?this.$1yX_8(n):(this.$R4_8.add(n),$0.$1(this.get_Data())||this.$1eU())},$1AT:function(){this.$14J_8=!0;this.set_ItemsList(new Array(0));this.set_SelectedItem("-1");this.set_SelectedLabel("");this.set_Data(null)},$1eU:function(){if(!this.$Tv&&!$0.$1(this.$Ic)){var n=this.$Ic.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)}},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().remove_$wY(this.$$d_$3Ps)},$Or:function(){if(!$0.$1(this.get_Data())&&Microsoft.Crm.Client.Core.Framework.$5V.isInstanceOfType(this.get_Data())){var n=this.get_Data(),t=Number.parseInvariant(n.get_ValueString());isNaN(t)||(this.set_SelectedItem(t.toString()),this.set_SelectedLabel(n.get_Label()))}},$331:function(n){return new Microsoft.Crm.Client.Core.ViewModels.$Cs(this.$51,this.get_ItemsList()[n].get_Label())},$Os_8:function(){var n,t;if($0.$1(this.get_Data())||!Microsoft.Crm.Client.Core.Framework.$5V.isInstanceOfType(this.get_Data())||this.$51!==this.get_Data().get_ValueString())for(n=0;n<this.get_ItemsList().length;n++)if(this.get_ItemsList()[n].get_ValueString()===this.$51){t=this.$11v_8&&!n?null:this.$331(n);$0.$1(this.get_ModelContext())?this.set_Data(t):(this.get_ModelContext().$1cX(),this.set_Data(t),this.get_ModelContext().$1aa());this.set_SelectedLabel(this.get_ItemsList()[n].get_Label());break}},$1yX_8:function(n){for(var i,r,u=this.get_ItemsList(),f=u.length,t=0;t<f;++t)if(i=u[t],i.get_ValueString()===n.toString()){r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V))(this.get_ItemsList());r.remove(i);this.set_ItemsList(r.toArray());this.$51===n.toString()&&(this.set_SelectedItem("-1"),this.set_SelectedLabel(""),this.set_Data(null));return}},$3Ps:function(){this.$n9=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$51)?null:parseInt(this.$51)}};Microsoft.Crm.Client.Core.ViewModels.$FN=function(){Microsoft.Crm.Client.Core.ViewModels.$FN.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$FN.prototype={$1eU:function(){Microsoft.Crm.Client.Core.ViewModels.$1R.$2Nr(this.$Tv,this.$G,this.get_ModelContext(),this.$$d_$1w9)},$LP:function(){Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$LP.call(this);this.$1eU()}};Microsoft.Crm.Client.Core.ViewModels.$FM=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Core.ViewModels.$FM.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$FM.prototype={$wk:null,$4e:function(n){var i,t;for(this.$wk=n,i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V)),t=0;t<n.get_Count();t++)i.add(new Microsoft.Crm.Client.Core.ViewModels.$Cs(n.get_$I(t).$Iu.toString(),n.get_$I(t).$UW));this.$1w9(i.toArray(),!0)},$18:function(){this.$wk=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.TimeZoneDefinition));Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$18.call(this);this.$1eU()},$331:function(n){return!0&&(n=n-1),n>=0?this.$wk.get_$I(n).$Iu:null},$Or:function(){var i,n,t;if(!$0.$1(this.get_Data())&&Number.isInstanceOfType(this.get_Data())){for(i=this.get_Data(),n=null,t=0;t<this.$wk.get_Count();t++)if(i===this.$wk.get_$I(t).$Iu){n=this.$wk.get_$I(t);break}$0.$1(n)||(this.set_SelectedItem(n.$Iu.toString()),this.set_SelectedLabel(n.$UW))}}};Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel.prototype={get_ProcessRequirementSatisfied:function(){return $0.$1(this.get_Data())?!1:Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(this.get_Data())?!!this.get_Data().$1i:Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.get_ProcessRequirementSatisfied.call(this)}};Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel.prototype={$TY:null,$11v:!1,$Aw:0,$R4:null,$14J:!1,$1V1:null,$1w9:function(n,t,i){var u,f,r;if(t&&(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V))(n),u.insert(0,new Microsoft.Crm.Client.Core.ViewModels.$Cs("-1",Xrm.Internal.getResourceString("PickList_Language_All"))),n=u.toArray()),this.$1V1=n,!this.$Tv&&!this.$14J){if(this.set_$1wf(!0),this.$Aw=$0.$1(i)?-1:i,this.$11v=t,$0.$1(this.get_ItemsList())||(f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V))(n),f.addRange(this.get_ItemsList()),n=f.toArray()),this.set_ItemsList(n),!$0.$1(this.$R4)&&this.$R4.get_Count()>0)for(r=0;r<this.$R4.get_Count();r++)this.$1yX(this.$R4.get_$I(r));$0.$1(this.get_Data())&&(this.set_SelectedItem(this.$Aw.toString()),this.set_HasFocus(!1));this.$Os(null,null)}},$1yX:function(n){for(var i,r,u=this.get_ItemsList(),f=u.length,t=0;t<f;++t)if(i=u[t],i.get_ValueString()===n.toString()){r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V))(this.get_ItemsList());r.remove(i);this.set_ItemsList(r.toArray());this.$51===n.toString()&&(this.set_SelectedItem("-1"),this.set_SelectedLabel(Xrm.Internal.getResourceString("PickList_Language_All")),this.set_Data(null));return}},$Os:function(){var n,t;if($0.$1(this.get_Data())||!Microsoft.Crm.Client.Core.Framework.$5V.isInstanceOfType(this.get_Data())||this.$51!==this.get_Data().get_ValueString())for(n=0;n<this.get_ItemsList().length;n++)if(this.get_ItemsList()[n].get_ValueString()===this.$51){t=this.$11v&&!n?null:this.$331(n);$0.$1(this.get_ModelContext())?this.set_Data(t):(this.get_ModelContext().$1cX(),this.set_Data(t),this.get_ModelContext().$1aa());this.set_SelectedLabel(this.get_ItemsList()[n].get_Label());break}},$18:function(){this.$TY=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number));this.$1eU();Microsoft.Crm.Client.Core.ViewModels.$EM.prototype.$18.call(this)},$331:function(n){return new Microsoft.Crm.Client.Core.ViewModels.$Cs(this.$51,this.get_ItemsList()[n].get_Label())},$1eU:function(){if(!this.$Tv&&!$0.$1(this.$Ic)){var n=this.$Ic.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)}},$LP:function(){Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$LP.call(this);this.$1eU()}};Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel.prototype={$1eU:function(){Microsoft.Crm.Client.Core.ViewModels.$1R.$2Nr(this.$Tv,this.$G,this.get_ModelContext(),this.$$d_$1w9)},$LP:function(){Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$LP.call(this);this.$1eU()}};Microsoft.Crm.Client.Core.ViewModels.$FO=function(){this.$$d_$LQ=Function.createDelegate(this,this.$LQ);this.$$d_$3EQ=Function.createDelegate(this,this.$3EQ);Microsoft.Crm.Client.Core.ViewModels.$FO.initializeBase(this);this.AddPropertyChangedListener("ActionCommand",this.$$d_$3EQ);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$LQ);this.$J8=!1};Microsoft.Crm.Client.Core.ViewModels.$FO.prototype={$LQ:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2A.prototype.$LQ.call(this,n,t);this.$8("CanNavigate")},$3EQ:function(n,t){if(n===this&&t==="ActionCommand"&&(this.set_CanNavigate(this.$1OZ()),Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.isInstanceOfType(this.$29))){var i=this.$29;i.$Jy=this.get_$2SP();i.set_$Gm(this.get_$Gm())}},get_$2SP:function(){return""},get_$Gm:function(){return this.get_Text()},$Or:function(n,t){if(n===this&&t==="Data"){if(!$0.$1(this.$29)){var i=this.$29;i.set_$Gm(this.get_$Gm())}this.$8("Text");Microsoft.Crm.Client.Core.ViewModels.$V6.prototype.$Or.call(this,n,t)}},get_Text:function(){return this.get_Data()},set_Text:function(n){return this.get_Text()!==n&&(this.set_Data(n),this.$8("Text")),n},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$LQ);Microsoft.Crm.Client.Core.ViewModels.$2A.prototype.$GX.call(this)},$1OZ:function(){return!$0.$1(this.$29)&&this.$29.get_CanExecute()&&!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_Data())&&Microsoft.Crm.Client.Core.ViewModels.$V6.prototype.$1OZ.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$1q=function(){};Microsoft.Crm.Client.Core.ViewModels.$1q.set_$2iM=function(n){return Microsoft.Crm.Client.Core.ViewModels.$1q.$ko!==n&&(Microsoft.Crm.Client.Core.ViewModels.$1q.$ko=n,Microsoft.Crm.Client.Core.ViewModels.$1q.$ko.endsWith("/")||(Microsoft.Crm.Client.Core.ViewModels.$1q.$ko+="/"),Microsoft.Crm.Client.Core.ViewModels.$1q.$zU=null),n};Microsoft.Crm.Client.Core.ViewModels.$1q.$21U=function(n){var t=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$4);return $0.$1(Microsoft.Crm.Client.Core.ViewModels.$1q.$ko)?t.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("Collector server URL not specified in main.htm")):$0.$1(Microsoft.Crm.Client.Core.ViewModels.$1q.$zU)||n?Microsoft.Crm.Client.Core.ViewModels.$1q.$3Un().then(function(n){Microsoft.Crm.Client.Core.ViewModels.$1q.$zU=n;t.resolve(n)},function(n){t.reject(Microsoft.Crm.Client.Core.Framework.$4.$3bY(n,"Unable to connect to marker collector server.."))}):t.resolve(Microsoft.Crm.Client.Core.ViewModels.$1q.$zU),t.promise()};Microsoft.Crm.Client.Core.ViewModels.$1q.$1zt=function(n,t){for(var o,s,r,c,u=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$4),i="",f=0,h=n,l=h.length,e=0;e<l;++e)o=h[e],f=Math.max(f,o.$B7.length),i+=o.$2ZV(!0),i+="\n";for(s="Start,Duration,Type,Name",r=1;r<=f;r++)s+=",Parameter"+r.toString();return i=s+"\n"+i,c=Microsoft.Crm.Client.Core.Framework.$3.$9(t)?Microsoft.Crm.Client.Core.ViewModels.$1q.$2u2():t,Microsoft.Crm.Client.Core.ViewModels.$1q.$3Pu(c,i).then(function(n){u.resolve(n)},function(n){u.reject(Microsoft.Crm.Client.Core.Framework.$4.$3bY(n,"Failed to save performance markers to server."))}),u.promise()};Microsoft.Crm.Client.Core.ViewModels.$1q.$3Un=function(){var n=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?"unknown":"browser",t;return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===4?(n=Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$6f.toString(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.get_MailState().get_$1XN()),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.get_MailState().get_$1XN()===2&&(n+=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ZX?"_Chorme":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$nH?"_Firefox":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$IS?"_IE":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ZY?"_Safari":"_Unknown")):Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$EX&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ZX?n="windows":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?n="ios":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U&&(n="android"),t=Microsoft.Crm.Client.Core.Framework.$42.toString(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===1&&(t="tablet"),Microsoft.Crm.Client.Core.ViewModels.$1q.$2W1("startsession",{os:n,formFactor:t,serverVersion:Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$20E(),appVersion:Microsoft.Crm.Client.Core.ViewModels.$1q.$2nm()})};Microsoft.Crm.Client.Core.ViewModels.$1q.$3Pu=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.$1q.$2W1("savemarkers",{session:Microsoft.Crm.Client.Core.ViewModels.$1q.$zU,filename:n,csv:t})};Microsoft.Crm.Client.Core.ViewModels.$1q.$2W1=function(n,t){var r=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$4),i={};return i.url=Microsoft.Crm.Client.Core.ViewModels.$1q.$ko+n+"/",i.type="POST",i.cache=!1,i.contentType="application/json; charset=utf-8",i.data=JSON.stringify(t),i.dataType="text",$.ajax(i).success(function(n){window.setTimeout(function(){r.resolve(n)},0)}).error(function(n,t,i){r.reject(Microsoft.Crm.Client.Core.Framework.$4.$1SG(i))}),r.promise()};Microsoft.Crm.Client.Core.ViewModels.$1q.$2u2=function(){for(var i,n,r,o,s,t=null,e=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Qa(),u="",f=0,h=e.length;f<h;f++)i=e[f],i.$1d==="LoadedFull"?($0.$1(t)||t.$4w<i.$4w)&&(t=i):i.$1d==="OfflineSync"&&(u=i.$B7[0].toString());if(n="UnknownPage",r=null,!$0.$1(t)&&t.$B7.length>=3){o=$1M.$Cu(Microsoft.Crm.Client.Core.Framework.$1,t.$B7[1]);r=t.$B7[2];switch(o){case 2:n="EditForm";break;case 13:n="Grid";break;case 5:n="CreateForm";break;case 1:n="Dashboard";break;case 17:n="ChartDrilldown";break;case 34:n="SenderForm";break;case 35:n="SetRegarding";break;case 36:n="SenderCreateForm";break;case 37:n="InteractionCentricWorkspace";break;case 40:n="InteractionCentricForm";break;case 39:n="TaskBasedFlow"}}return s=n==="UnknownPage"&&$0.$1(r)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(u),s?u:n+($0.$1(r)?"":"_"+r)};Microsoft.Crm.Client.Core.ViewModels.$1q.$2nm=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Application_Version_Format"),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$2S(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$Ar(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$15S(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$1v1()):"Browser"};Microsoft.Crm.Client.Core.ViewModels.$5t=function(){};Microsoft.Crm.Client.Core.ViewModels.$5t.$$cctor=function(){$0.$1(Microsoft.Crm.Client.Core.ViewModels.$5t.$Ao)&&(Microsoft.Crm.Client.Core.ViewModels.$5t.$Ao=new Microsoft.Crm.Client.Core.ViewModels.$5t)};Microsoft.Crm.Client.Core.ViewModels.$5t.prototype={$29W:function(n,t,i){return new Microsoft.Crm.Client.Core.Storage.DataApi.$TC(n,t,i)}};Microsoft.Crm.Client.Core.ViewModels.$2K=function(){};Microsoft.Crm.Client.Core.ViewModels.$2K.$$cctor=function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$2Qw(Microsoft.Crm.Client.Core.ViewModels.$2K.$2Qw)};Microsoft.Crm.Client.Core.ViewModels.$2K.get_$5=function(){return Microsoft.Crm.Client.Core.ViewModels.$2K.$D||(Microsoft.Crm.Client.Core.ViewModels.$2K.$D=new Microsoft.Crm.Client.Core.ViewModels.$2K)};Microsoft.Crm.Client.Core.ViewModels.$2K.$2Qw=function(n){var t=JSON.parse(n);switch(t.name){case"showView":Microsoft.Crm.Client.Core.ViewModels.$2K.get_$5().$1v5(t.parameters.viewName);return;case"showEntityView":Microsoft.Crm.Client.Core.ViewModels.$2K.get_$5().$2Ou(t.parameters.viewName,t.parameters.entityName);return;case"findRecord":Microsoft.Crm.Client.Core.ViewModels.$2K.get_$5().$2DW(t.parameters.recordName);return;case"createRecord":Microsoft.Crm.Client.Core.ViewModels.$2K.get_$5().$29l(t.parameters.entityName,t.parameters.primaryFieldValue);return;case"createPhoneCall":Microsoft.Crm.Client.Core.ViewModels.$2K.get_$5().$zl("phonecall",t.parameters.primaryFieldValue);return;case"createTask":Microsoft.Crm.Client.Core.ViewModels.$2K.get_$5().$zl("task",t.parameters.primaryFieldValue);return;case"createAppointment":Microsoft.Crm.Client.Core.ViewModels.$2K.get_$5().$zl("appointment",t.parameters.primaryFieldValue);return;case"openTasks":Microsoft.Crm.Client.Core.ViewModels.$2K.get_$5().$2RA();return}};Microsoft.Crm.Client.Core.ViewModels.$2K.prototype={$1No:null,get_$kT:function(){return $0.$1(this.$1No)&&(this.$1No=MscrmComponents.DeferredPromiseFactory(Boolean,Boolean)),this.$1No},$2Ou:function(n,t){if(!$0.$1(n)&&!$0.$1(t)){var i=this;this.$1z3(t).done(function(t){i.$3OY(n,t.get_$1n()).then(function(n){i.$1v6(n)},function(){i.$1v4(t.get_$1n())})})}},$1v5:function(n){if(!$0.$1(n)){var t=this,i=this;this.$3OX(n).then(function(n){t.$1v6(n)},function(){i.$3Dq(n)})}},$2DW:function(n){var t=this;this.get_$kT().done(function(){var i=t.$2lm(n);i.execute();i.dispose()})},$29l:function(n,t){if(!$0.$1(n)){var i=this;this.$1z3(n).done(function(n){i.$29h(n,t)})}},$zl:function(n,t){if(!$0.$1(n)){var i=this;this.$2UP(n).done(function(n){i.$29h(n,t)})}},$2RA:function(){var n=this;this.$2UP("task").done(function(t){n.$1v4(t.get_$1n())})},$1v6:function(n){var t=this;this.get_$kT().done(function(){var t=new Microsoft.Crm.Client.Core.Commands.$33(null,13);t.$J=n.$6o;t.$1B={};t.$1B.ListDefinitionId=n.$h;t.execute();t.dispose()})},$2lm:function(n){var t=new Microsoft.Crm.Client.Core.Commands.$33(null,26);return t.$1B={},t.$1B.SearchText=n,t},$29h:function(n,t){if($0.$1(t))Xrm.Utility.openEntityForm(n.get_$1n());else{var i={};(n.get_$1n()==="contact"||n.get_$1n()==="lead"||n.get_$1n()==="systemuser")&&n.get_$Gd()==="fullname"?i.lastname=t:i[n.get_$Gd()]=t;Xrm.Utility.openEntityForm(n.get_$1n(),null,i)}},$1v4:function(n){var t=this;this.$3OF(n).done(function(n){t.$1v6(n)})},$3Dq:function(n){var t=this;this.$1z3(n).done(function(n){t.$1v4(n.get_$1n())})},$1z3:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Framework.$4),r=this,i={QueryType:"RetrieveEntityMetadataByDisplayNameAction",EntityDisplayNameParameter:n,OnSuccessParameter:function(n){t.resolve(n)}};return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,i),t},$2UP:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Framework.$4),r=this,i={QueryType:"RetrieveMultipleEntityMetadataAction",EntityLogicalNamesParameter:[n],OnSuccessParameter:function(n){t.resolve(n[0])}};return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,i),t},$3OF:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V,Microsoft.Crm.Client.Core.Framework.$4),r=this,i={QueryType:"RetrieveDefaultListForEntityAction",EntityLogicalNameParameter:n,OnSuccessParameter:function(n){t.resolve(n)}};return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,i),t},$3OX:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V,Microsoft.Crm.Client.Core.Framework.$4),r=this,u=this,i={QueryType:"RetrieveListByDisplayNameAction",ListDisplayNameParameter:n,OnSuccessParameter:function(n){t.resolve(n)},OnFailureParameter:function(n){t.reject(n)}};return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",new Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel,i),t},$3OY:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V,Microsoft.Crm.Client.Core.Framework.$4),u=this,f=this,r={QueryType:"RetrieveListByDisplayNameAction",ListDisplayNameParameter:n,EntityLogicalNameParameter:t,OnSuccessParameter:function(n){i.resolve(n)},OnFailureParameter:function(n){i.reject(n)}};return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,r),i}};Microsoft.Crm.Client.Core.ViewModels.$2K.$3bJ=function(){};Microsoft.Crm.Client.Core.ViewModels.$2K.$3bJ.prototype={name:null,parameters:null};Microsoft.Crm.Client.Core.ViewModels.$Lg=function(){this.$$d_$3D6=Function.createDelegate(this,this.$3D6);$addHandler(window.self,"message",this.$$d_$3D6)};Microsoft.Crm.Client.Core.ViewModels.$Lg.prototype={$3D6:function(n){var f=n.rawEvent.origin,e=Microsoft.Crm.Client.Core.ViewModels.$29.get_$2Kr(),i,t,r,u;f===e&&(i="",t=Sys.Serialization.JavaScriptSerializer.deserialize(n.rawEvent.data),$0.$1(t)||(i=t.command),i==="closeDialog"?(r=t.id,u=t.params,Microsoft.Crm.Client.Core.ViewModels.$29.$SU(r,u)):Microsoft.Crm.Client.Core.Framework.Trace.logError(81,"Attempting to call unknown method: {0}",i))}};Microsoft.Crm.Client.Core.ViewModels.$Lh=function(n,t){this.$Nr=n;this.$T=t};Microsoft.Crm.Client.Core.ViewModels.$Lh.prototype={$Nr:null,$T:null,get_$2iQ:function(){var n={};return n.command=this.$Nr,n.params=this.$T,n}};Microsoft.Crm.Client.Core.ViewModels.$29=function(){this.$2OV=new Microsoft.Crm.Client.Core.ViewModels.$Lg};Microsoft.Crm.Client.Core.ViewModels.$29.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Core.ViewModels.$29.$1XP)&&(Microsoft.Crm.Client.Core.ViewModels.$29.$1XP=new Microsoft.Crm.Client.Core.ViewModels.$29),Microsoft.Crm.Client.Core.ViewModels.$29.$1XP};Microsoft.Crm.Client.Core.ViewModels.$29.get_$2Kr=function(){var n=window.location.hostname,t=window.location.port,i=window.location.protocol;return Microsoft.Crm.Client.Core.Framework.$3.$9(t)?Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}//{1}",i,n):Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}//{1}:{2}",i,n,t)};Microsoft.Crm.Client.Core.ViewModels.$29.$SU=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2C.$Nq(n,t);Microsoft.Crm.Client.Core.ViewModels.$29.$22S--};Microsoft.Crm.Client.Core.ViewModels.$29.$2jv=function(n,t,i){var r={};return IsNull(i)&&(i=window),r.context=i,r.callback=n,IsNull(t)||(r.parameters=t),r};Microsoft.Crm.Client.Core.ViewModels.$29.$2pV=function(n){var t;if(!IsNull(n)){var u=n.context,f=n.callback,i=n.parameters,r=[];if(!IsNull(i))for(t=0;t<i.length;t++)r[t]=i[t];try{f.apply(u,r)}catch(e){}}};Microsoft.Crm.Client.Core.ViewModels.$29.$3EF=function(){return Microsoft.Crm.Client.Core.ViewModels.$29.$22S++};Microsoft.Crm.Client.Core.ViewModels.$29.$2EV=function(n){var t=window.document.getElementById(n);return IsNull(t)?n:Microsoft.Crm.Client.Core.ViewModels.$29.$2EV(n+"1")};Microsoft.Crm.Client.Core.ViewModels.$29.prototype={$2OV:null,$2kr:function(n,t,i,r,u,f,e,o){var h=Microsoft.Crm.Client.Core.ViewModels.$29.$2EV("InlineDialog"),s={},c,l;s.passedArguments=t;s.callbackFunction=o;s.InlineDialogId=h;c=String.format("{0}{1}user_lcid={2}&client_type={3}",n,n.indexOf("?")>0?"&":"?",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$Ab,"MobileClient");l=new Microsoft.Crm.Client.Core.ViewModels.$2C(h,c,i,r,u,f,Microsoft.Crm.Client.Core.ViewModels.$29.$3EF());l.$169();s.screenHeight=window.innerHeight;s.nativeBridge=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance();window.self.InlineDialogId=h;window.self[h+"_childDialogArguments"]=s;window.self.initFunction=e}};Microsoft.Crm.Client.Core.ViewModels.$2C=function(n,t,i,r,u,f,e){var o,s;this.$$d_$3HX=Function.createDelegate(this,this.$3HX);this.$$d_$3Gn=Function.createDelegate(this,this.$3Gn);($0.$1(f)||isNaN(f))&&(o=$(window).height(),f=(o-r)/2);($0.$1(u)||isNaN(u))&&(s=$(window).width(),u=(s-i)/2);f<0&&(f=0);u<0&&(u=0);this.$1EI=n;this.$235=this.$2ck(t);this.$G4=i;this.$IR=r;this.$fv=u;this.$Eo=f;this.$Qf=null;this.$1fB=e;this.$1f6=this.$$d_$3HX;$(window).bind("resize",this.$$d_$3Gn);n in Microsoft.Crm.Client.Core.ViewModels.$2C.get_$yz()||(Microsoft.Crm.Client.Core.ViewModels.$2C.get_$yz()[n]=this)};Microsoft.Crm.Client.Core.ViewModels.$2C.$Nq=function(n,t){var u=n+"_Background",r=window.document.getElementById(u),i=window.document.getElementById(n);if(IsNull(r)||IsNull(i))return!1;var f=window.self[n+"_childDialogArguments"],e=f.callbackFunction,o=Microsoft.Crm.Client.Core.ViewModels.$29.$2jv(e,[t],i.parentNode);return n in Microsoft.Crm.Client.Core.ViewModels.$2C.get_$yz()&&(Microsoft.Crm.Client.Core.ViewModels.$2C.$2ho(n),delete Microsoft.Crm.Client.Core.ViewModels.$2C.get_$yz()[n]),Microsoft.Crm.Client.Core.ViewModels.$2C.$1AO(r,i),Microsoft.Crm.Client.Core.ViewModels.$29.$2pV(o),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.$20&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.changeState("DialogPresent",!1),!0};Microsoft.Crm.Client.Core.ViewModels.$2C.$1AO=function(n,t){IsNull(n)||($removeHandler(n,"touchstart",Microsoft.Crm.Client.Core.ViewModels.$2C.$1dT),$removeHandler(n,"touchmove",Microsoft.Crm.Client.Core.ViewModels.$2C.$1dT),window.document.body.removeChild(n));IsNull(t)||window.document.body.removeChild(t)};Microsoft.Crm.Client.Core.ViewModels.$2C.$2ho=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$2C.get_$yz()[n];$(window).unbind("resize",t.$$d_$3Gn);t.$1f6=null};Microsoft.Crm.Client.Core.ViewModels.$2C.$2Q5=function(n){var t=n.target,u;$removeHandler(t,"load",Microsoft.Crm.Client.Core.ViewModels.$2C.$2Q5);var i=window.self.InlineDialogId,r=window.self[i+"_childDialogArguments"],f=window.self.initFunction;t.contentWindow.InlineDialogId=i;t.contentWindow.dialogArguments=r;t.contentWindow.isMobileClient=!0;u=new Microsoft.Crm.Client.Core.ViewModels.$Lh(f,r.passedArguments);t.contentWindow.postMessage(Sys.Serialization.JavaScriptSerializer.serialize(u.get_$2iQ()),Microsoft.Crm.Client.Core.ViewModels.$29.get_$2Kr())};Microsoft.Crm.Client.Core.ViewModels.$2C.$1dT=function(n){n.stopPropagation();n.preventDefault()};Microsoft.Crm.Client.Core.ViewModels.$2C.get_$yz=function(){return $0.$1(Microsoft.Crm.Client.Core.ViewModels.$2C.$1Nf)&&(Microsoft.Crm.Client.Core.ViewModels.$2C.$1Nf={}),Microsoft.Crm.Client.Core.ViewModels.$2C.$1Nf};Microsoft.Crm.Client.Core.ViewModels.$2C.prototype={$1EI:null,$235:null,$G4:0,$IR:0,$fv:0,$Eo:0,$1fB:0,$Qf:null,$L5:null,$nd:null,$1f6:null,$1as:0,$3Gn:function(){this.$1as&&Microsoft.Crm.Client.Core.Framework.$2F.$2gb(this.$1as);var n=this;this.$1as=Microsoft.Crm.Client.Core.Framework.$2F.$1a5(1028,"Resize",function(){n.$1f6()},200)},$3HX:function(){var t,i,n;Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$EX?(t=$(window).height(),this.$Eo=(t-this.$IR)/2,i=$(window).width(),this.$fv=(i-this.$G4)/2,this.$Eo<0&&(this.$Eo=0),this.$fv<0&&(this.$fv=0),this.$1Nt(this.$Qf),this.$1Nt(this.$L5)):Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U&&(n=this.$L5.clientHeight-this.$IR,this.$Qf.style.height=this.$L5.clientHeight+"px",n>0&&$(window).scrollTop(window.pageYOffset+n))},$169:function(){IsNull(this.$Qf)&&this.$2lA();$addHandler(this.$L5,"load",Microsoft.Crm.Client.Core.ViewModels.$2C.$2Q5);this.$Qf.className="ms-crm-DialogChrome";this.$Qf.style.position="absolute";Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U&&(this.$Qf.style.overflowY="scroll");this.$1Nt(this.$Qf);this.$L5.style.height=this.$IR+"px";this.$L5.style.width=this.$G4+"px";this.$L5.style.border="0px";this.$L5.setAttribute("src",this.$235);this.$1Nt(this.$nd);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.$20&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.changeState("DialogPresent",!0)},$1Nt:function(n){n.style.height=this.$IR+"px";n.style.width=this.$G4+"px";n.style.top=this.$Eo+"px";n.style.left=this.$fv+"px";n.style.zIndex=this.$1fB},$2jr:function(){var t=this.$1EI+"_Background",n=document.createElement("div");n.id=t;window.document.body.appendChild(n);n.style.position="absolute";n.style.zIndex=this.$1fB-1;n.style.width="100%";n.style.height="100%";n.style.top="0px";n.style.backgroundColor="gray";$(n).css("opacity","0.5");$addHandler(n,"touchstart",Microsoft.Crm.Client.Core.ViewModels.$2C.$1dT);$addHandler(n,"touchmove",Microsoft.Crm.Client.Core.ViewModels.$2C.$1dT)},$2lA:function(){this.$2jr();this.$Qf=document.createElement("div");this.$Qf.id=this.$1EI;window.document.body.appendChild(this.$Qf);this.$2lV();this.$2lB();this.$Qf.appendChild(this.$L5)},$2lB:function(){var n=this.$1EI+"_Iframe";this.$L5=document.createElement("iframe");this.$L5.id=n;this.$L5.setAttribute("name",n);this.$L5.style.borderWidth="1px";this.$L5.style.borderStyle="solid";this.$L5.style.borderColor="#D6D6D6"},$2lV:function(){this.$nd=document.createElement("div");this.$nd.id="DialogLoadingDiv";this.$nd.innerHTML=String.format("<table class='ms-crm-LoadingContainer' style='width:100%;height:100%'>\r\n\t\t\t\t\t<tr class='ms-crm-LoadingContainer'>\r\n\t\t\t\t\t\t<td style='vertical-align: middle' align='center'>\r\n\t\t\t\t\t\t\t<IMG id='DialogLoadingDivImg' alt='' src='/_imgs/AdvFind/progress.gif'>\r\n\t\t\t\t\t\t\t<br>{0}\r\n\t\t\t\t\t\t<\/td>\r\n\t\t\t\t\t<\/tr>\r\n\t\t\t\t<\/table>","");this.$nd.style.position="absolute";this.$nd.style.backgroundColor="white";this.$nd.style.display="none"},$2ck:function(n){return n.indexOf("?")>0?n+"&dType=2":n+"?dType=2"}};Microsoft.Crm.Client.Core.ViewModels.$EM=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Core.ViewModels.$EM.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EM.prototype={$TY_9:null,$4e:function(n,t){var r,i;for(this.$TY_9=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number))(n),this.$TY_9.sort(),this.$TY_9.remove(t),this.$TY_9.insert(0,t),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V)),i=0;i<this.$TY_9.get_Count();i++)r.add(new Microsoft.Crm.Client.Core.ViewModels.$Cs(this.$TY_9.get_$I(i).toString(),Microsoft.Crm.Client.Core.Storage.Formatting.CrmNumericFormatter.$D.$Yr(this.$TY_9.get_$I(i))));this.$1w9(r.toArray(),!0)},$18:function(){this.$TY_9=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number));Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$18.call(this);this.$1eU()},$331:function(n){return!0&&(n=n-1),n>=0?this.$TY_9.get_$I(n):null},$Or:function(){if(!$0.$1(this.get_Data())&&Number.isInstanceOfType(this.get_Data())){var n=this.get_Data();n>=0&&(this.set_SelectedItem(n.toString()),this.set_SelectedLabel(Microsoft.Crm.Client.Core.Storage.Formatting.CrmNumericFormatter.$D.$Yr(n)))}}};Microsoft.Crm.Client.Core.ViewModels.$Le=function(n){var t,i;$0.$1(n)||(t="StopMarker",t in n.$Mg&&(i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$11b(n.$Mg[t]),$0.$1(i)||(n=i)),this.$Un=n)};Microsoft.Crm.Client.Core.ViewModels.$Le.prototype={get_Message:function(){return this.$Un.toString()},$Un:null,get_Marker:function(){return this.$Un},set_Marker:function(n){return this.$Un=n,n},$BE:!1,get_IsSelected:function(){return this.$BE},set_IsSelected:function(n){return this.$BE=n,n},get_StartTime:function(){var t="StartMarker",n;return t in this.$Un.$Mg?(n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$11b(this.$Un.$Mg[t]),n?n.$4w:this.$Un.$4w-50):-1},markerTypeString:function(){return Microsoft.Crm.Client.Core.Framework.$4Y.toString(this.$Un.$NQ)}};Microsoft.Crm.Client.Core.ViewModels.$Ue=function(){this.$aU=new Array(0);Microsoft.Crm.Client.Core.ViewModels.$Ue.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ue.prototype={$2D:!1,$1IY:null,get_PerformanceMarkerAreas:function(){return this.$aU},get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return n!==this.$2D&&(this.$2D=n,this.$8("IsLoading")),n},$Xq:0,get_MinTime:function(){return this.$Xq},set_MinTime:function(n){return this.$Xq=n,n},$jt:0,get_MaxTime:function(){return this.$jt},set_MaxTime:function(n){return this.$jt=n,n},performanceMarkerAreaCount:function(){return this.$aU.length},set_$1bv:function(n){return n!==this.$1IY&&(this.$1IY=n,this.$8("SelectedMarkersMessage")),n},totalTime:function(){return this.$jt>this.$Xq?this.$jt-this.$Xq:0},$2i4:function(){this.$aU=new Array(0)},$3Nj:function(){var n;this.$Xq=Number.MAX_VALUE;this.$jt=Number.MIN_VALUE;for(var i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Qa(),r=i.length,t=0;t<r;++t)n=i[t],n.$4w<this.$Xq&&(this.$Xq=n.$4w),n.$4w>this.$jt&&(this.$jt=n.$4w)},$3Jd:function(){var f=MscrmComponents.DeferredPromiseFactory(Object,Object),e=[],i,n,u,t,s,c;this.$3Nj();this.set_IsLoading(!0);i=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Boolean));for(var o=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Qa(),h=o.length,r=0;r<h;++r)(n=o[r],i.$2j0(n.$1a))||(u="StopMarker",u in n.$Mg&&(t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$11b(n.$Mg[u]),t&&(i.set_$I(t.$1a,!0),t.$13H=this.$Xq,Array.add(e,Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Tn(t)))),n.$13H=this.$Xq,s=new Microsoft.Crm.Client.Core.ViewModels.$Le(n),this.$aU.push(s));return this.set_IsLoading(!1),c=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e).always(function(){f.resolve()}),f.promise()},$2Vv:function(){var i="",t,n;for(this.set_IsLoading(!0),t=0;t<this.$aU.length;t++)n=this.$aU[t],n.$Un.$NQ===1?(i+=n.get_Message()+"\r\n",n.$BE=!0):n.$BE=!1;this.set_IsLoading(!1);this.set_$1bv(i)},$2rk:function(n){var r="",u,t;this.set_IsLoading(!0);u=new RegExp(n,"i");for(var f=this.$aU,e=f.length,i=0;i<e;++i)t=f[i],u.test(t.get_Message())?(r+=t.get_Message()+"\r\n",t.$BE=!0):t.$BE=!1;this.set_IsLoading(!1);this.set_$1bv(r)},updateSelectedMarkersMessage:function(){var t;this.set_$1bv("");for(var i=this.$aU,r=i.length,n=0;n<r;++n)t=i[n],t.$BE&&this.set_$1bv(this.$1IY+t.get_Message()+"\r\n")}};Microsoft.Crm.Client.Core.ViewModels.$Uc=function(){this.$$d_$3Vl=Function.createDelegate(this,this.$3Vl);Microsoft.Crm.Client.Core.ViewModels.$Uc.initializeBase(this);this.$xb=new Microsoft.Crm.Client.Core.ViewModels.Commands.$UD(this.$$d_$3Vl,"","toggleEnabled");this.$2a7();this.$G6=new(Microsoft.Crm.Client.Core.Framework.$6J.$$(Microsoft.Crm.Client.Core.ViewModels.Commands.$UD))};Microsoft.Crm.Client.Core.ViewModels.$Uc.prototype={$aO:null,$xb:null,get_$1tG:function(){return this.$2Jp()},set_$1tG:function(n){return n!==this.$2Jp()&&(this.$3TY(n),this.$2a7(),this.$3HG()),n},get_OutputMessage:function(){return this.$aO},set_OutputMessage:function(n){return n!==this.$aO&&(this.$aO=n,this.$8("OutputMessage")),n},$G6:null,get_Commands:function(){return this.$G6},set_Commands:function(n){return this.$G6=n,n},$2Jp:function(){return!0},$3TY:function(){},$3HG:function(){},$3Vl:function(){this.set_$1tG(!this.get_$1tG())},$2a7:function(){this.$xb.set_Name(this.get_$1tG()?"Disable":"Enable")}};Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.initializeBase(this);this.$Fu=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_About");this.$ur=Xrm.Page.context.isCrmOnline()?new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:",Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1qt("Settings_Privacy_Statement_Link_Online")):new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:",Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1qt("Settings_Privacy_Statement_Link"));this.$14G=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:",Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1qt(this.$328()))};Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$3Oa=function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$2Jj(Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1uR,function(n){$0.$1(n)||(Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1uQ=n[Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1uR[0]])})};Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1qt=function(n){var t=Microsoft.Crm.Client.Core.Framework.Common.$2.$6(n),i=Xrm.Page.context.getUserLcid();return i?t+"&clcid=0x"+i.toString(16):t};Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.prototype={$ur:null,$14G:null,$1XO:null,get_AboutBrandTitle:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Brand_Title")},get_ManagedLabel:function(){return this.$1XO},set_ManagedLabel:function(n){return n!==this.$1XO&&(this.$1XO=n,this.$8("ManagedLabel")),n},get_AppVersionLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_App_Version")},get_AppVersion:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Application_Version_Format"),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$2S(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$Ar(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$15S(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$1v1())},get_ServerVersionLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Server_Version")},get_ServerVersion:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$PD;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Server_Version_Format"),n.$XI,n.$Si)},get_WebAddressLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Web_Address")},get_WebAddress:function(){return window.location.href},get_OrgNameLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Org_Name")},get_OrgName:function(){var n=Microsoft.Crm.Client.Core.Framework.Utils.$1A.$E1(this.get_WebAddress()),t="";return"org"in n&&(t=n.org),t},get_UserName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$AQ},get_UserRoles:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$ao.join(", ")},get_LastSyncTimeLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Last_Sync_Date")},get_LastSyncTime:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1Wt()},get_PrivacyPolicyLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Privacy_Statement")},get_OpenPrivacyPolicyCommand:function(){return this.$ur},get_LicenseTermsLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_License_Terms")},get_OpenLicenseTermsCommand:function(){return this.$14G},$GX:function(){$0.$1(this.$ur)||(this.$ur.dispose(),this.$ur=null);$0.$1(this.$14G)||(this.$14G.dispose(),this.$14G=null);Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.$GX.call(this)},Show:function(){Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.Show.call(this);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$12T()&&this.set_ManagedLabel(Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1uQ)},$328:function(){var n="Settings_License_Terms_Link_Windows";return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2?Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?n="Settings_License_Terms_Link_IPhone":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U?n="Settings_License_Terms_Link_AndroidPhone":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$EX&&(n="Settings_License_Terms_Link_WindowsPhone"):Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===1&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?n="Settings_License_Terms_Link_IPad":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U&&(n="Settings_License_Terms_Link_Android")),n}};Microsoft.Crm.Client.Core.ViewModels.$2I=function(){this.$IZ=Microsoft.Crm.Client.Core.Framework.LocalStorage.$1Z.get_$Gw()};Microsoft.Crm.Client.Core.ViewModels.$2I.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Core.ViewModels.$2I.$D)&&(Microsoft.Crm.Client.Core.ViewModels.$2I.$D=new Microsoft.Crm.Client.Core.ViewModels.$2I),Microsoft.Crm.Client.Core.ViewModels.$2I.$D};Microsoft.Crm.Client.Core.ViewModels.$2I.$1qH=function(n,t){return String.format("{0}_{1}_{2}","MDM",t,n)};Microsoft.Crm.Client.Core.ViewModels.$2I.$1py=function(n){return String.format("{0}_{1}","MDM_changedFields",n)};Microsoft.Crm.Client.Core.ViewModels.$2I.prototype={$IZ:null,$3Po:function(n,t,i){var u,f,r;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x||$0.$1(Microsoft.Crm.Client.Core.Models.$z.$11Z(t))&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(n)&&(u=n,$0.$1(i)&&(i=u.get_$1a()),f=u.$2IK(t),this.$IZ.$pC(Microsoft.Crm.Client.Core.ViewModels.$2I.$1qH(t,i),JSON.stringify(f)),r=this.$1b8(i),new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(r).contains(t)||Array.add(r,t),this.$IZ.$pC(Microsoft.Crm.Client.Core.ViewModels.$2I.$1py(i),JSON.stringify(r)))},$3bH:function(n,t){var i,e,r,f,s,h;if(!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(n)){i=n;$0.$1(t)&&(t=i.get_$1a());e=this.$1b8(t);for(var o=e,c=o.length,u=0;u<c;++u)if(r=o[u],f=this.$IZ.$FF(Microsoft.Crm.Client.Core.ViewModels.$2I.$1qH(r,t)),!$0.$1(f))try{s=JSON.parse(f);h=i.$29M(r,s);i.SetValue(r,h)}catch(l){}}},$3bI:function(n,t){var r,u,e;if(Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(n)){r=n;$0.$1(t)&&(t=r.get_$1a());u=this.$1b8(t);for(var f=u,o=f.length,i=0;i<o;++i)e=f[i],this.$IZ.$hS(Microsoft.Crm.Client.Core.ViewModels.$2I.$1qH(e,t));this.$IZ.$hS(Microsoft.Crm.Client.Core.ViewModels.$2I.$1py(t))}},$ZP:function(n){return this.$1b8(n).length>0},$1b8:function(n){var t=this.$IZ.$FF(Microsoft.Crm.Client.Core.ViewModels.$2I.$1py(n));if(!$0.$1(t))try{return JSON.parse(t)}catch(i){}return[]}};Microsoft.Crm.Client.Core.ViewModels.$1R=function(){};Microsoft.Crm.Client.Core.ViewModels.$1R.$CD=function(n,t,i){var r,u;if($0.$1(i))return n===Number||Type.isEnum(n)?0:n===Boolean?!1:null;for(r=0;r<i.length;r++)if(u=i[r],u.Name===t&&!IsNull(u.Value))return i[r].Value;return n===Number||Type.isEnum(n)?0:n===Boolean?!1:null};Microsoft.Crm.Client.Core.ViewModels.$1R.$6y=function(n){return n.split("_edit")[0]};Microsoft.Crm.Client.Core.ViewModels.$1R.$2Nr=function(n,t,i,r){var u,c,f;if(!n){var e=new Array(0),o=Microsoft.Crm.Client.Core.ViewModels.$1R.$6y(t),l=i.$333(o),s=0,h=l;for(u in h)c={key:u,value:h[u]},e[s]=c.value,s++;f=i.$2Hk(o);r(e,f===-1,f)}};Microsoft.Crm.Client.Core.ViewModels.$1R.generateLinkToCrmEntityRecord=function(n,t){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(t)){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();return Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}/main.aspx?id=%7b{1}%7d&etn={2}&pagetype=entityrecord",i.context.getClientUrl(),n.toUpperCase(),t)}return""};Microsoft.Crm.Client.Core.ViewModels.$1R.$2EP=function(n,t){var r,i,u,s,f,e,o;return Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$5E.isInstanceOfType(n)&&n.get_componentType()===13?(u=n,s=u.get_componentType()===13?n.$BH.Grid:null,s&&(u=s),i=u.get_$2R(),t.val=i,r=u.get_definitionId().toUpperCase(),r!==Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?Microsoft.Crm.Client.Core.Framework.$3.$MN("org={0}&pagetype={1}&etn={2}&id={3}",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$LS,"view",i,r):""):(Microsoft.Crm.Client.Core.ViewModels.$5E.isInstanceOfType(n)&&n.get_componentType()===40||Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(n.get_$CK()))&&(f=n.get_ModelContext(),!$0.$1(f)&&(e=f.$M.$3F,!$0.$1(e)))?(r=e.Id.toString().toUpperCase(),i=e.LogicalName,t.val=i,i==="queueitem"&&(o=f.$M.fields.objectid,$0.$1(o)||(i=o.LogicalName,t.val=i,r=o.Id.toString().toUpperCase())),r===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?Microsoft.Crm.Client.Core.Framework.$3.$MN("org={0}&pagetype={1}&etn={2}",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$LS,"create",i):Microsoft.Crm.Client.Core.Framework.$3.$MN("org={0}&pagetype={1}&etn={2}&id={3}",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$LS,"interactioncentricform",i,r)):""};Microsoft.Crm.Client.Core.ViewModels.$1R.$2ES=function(n){var t,i,r,f,u;return Microsoft.Crm.Client.Core.ViewModels.$5E.isInstanceOfType(n)&&n.get_componentType()===1?String.format("pagetype={0}&id={1}","dashboard",n.get_sourceId()):Microsoft.Crm.Client.Core.ViewModels.$5E.isInstanceOfType(n)&&n.get_componentType()===37?String.format("pagetype={0}&id={1}","interactioncentricdashboard",n.get_sourceId()):Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$5E.isInstanceOfType(n)&&n.get_componentType()===13?(r=n,r.get_componentType()===13&&n.$BH.Grid&&(r=n.$BH.Grid),i=r.get_$2R(),t=r.get_definitionId().toUpperCase(),String.format("pagetype={0}&etn={1}&id={2}","view",i,t)):Microsoft.Crm.Client.Core.ViewModels.$5E.isInstanceOfType(n)&&n.get_componentType()===11?(f=n,i=f.get_$2R(),t=f.get_definitionId().toUpperCase(),String.format("pagetype={0}&etn={1}&id={2}","view",i,t)):(u=n.get_ModelContext(),!$0.$1(u))?(t=u.$M.$3F.Id.toString().toUpperCase(),i=u.$M.$3F.LogicalName,t===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?String.format("pagetype={0}&etn={1}","create",i):Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?String.format("pagetype={0}&etn={1}&id={2}","interactioncentricform",i,t):String.format("pagetype={0}&etn={1}&id={2}","entity",i,t)):""};Microsoft.Crm.Client.Core.ViewModels.$1R.$2Eb=function(n,t){var r,u,i="",o,s,h,f,e,c;if(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(n))o=n,u=n.get_$2R(),r=new Microsoft.Crm.Client.Core.Framework.Guid(o.get_DefinitionId()).toString().toUpperCase(),i=String.format("/main.aspx?viewid=%7b{0}%7d&etn={1}&pagetype=entitylist&viewtype={2}",r,u,o.$Aq===1?1039:4230);else if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)&&n.get_componentType()===1)s=n,h=s.$1FH?1030:1031,i=String.format("/dashboards/dashboard.aspx?dashboardId=%7b{0}%7d&dashboardType={1}",s.$h,h);else if(Microsoft.Crm.Client.Core.ViewModels.$5E.isInstanceOfType(n)&&n.get_componentType()===11)f=n,u=f.get_$2R(),r=f.get_definitionId().toUpperCase(),i=String.format("/main.aspx?viewid=%7b{0}%7d&etn={1}&pagetype=entitylist&viewtype={2}",r,u,f.get_applicationMetadataType()===1?1039:4230);else{if(e=n.get_ModelContext(),$0.$1(e))return i;r=e.$M.$3F.Id.toString().toUpperCase();u=e.$M.$3F.LogicalName;i=String.format("/main.aspx?id=%7b{0}%7d&etn={1}&pagetype=entityrecord",r,u)}return c=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),t?c.context.getClientUrl()+i:i};Microsoft.Crm.Client.Core.ViewModels.$1R.generateLinkToDynamicsCRMHelpPage=function(n){var i="http://go.microsoft.com/fwlink/?LinkID=398563&client=MailApp",t;return i+="&error=Microsoft.Crm.Exception:"+Math.abs(n).toString(16),i+="&sv="+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Yv,t=VERSION_NUMERIC_VALUE,i+="&cv="+String.format("{0}.{1}.{2}.{3}",t.substr(0,1),t.substr(1,1),t.substr(2,4),t.substr(6)),i+("&lcid="+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$12r().toString(16))};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls");Microsoft.Crm.Client.Core.ViewModels.Controls.$Hx=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Hx.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Controls.$Hx");Microsoft.Crm.Client.Core.ViewModels.Controls.$Hv=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Hv.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Controls.$Hv");Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel=function(){this.$$d_$2W9=Function.createDelegate(this,this.$2W9);this.$$d_$2QY=Function.createDelegate(this,this.$2QY);this.$$d_$3Fx=Function.createDelegate(this,this.$3Fx);this.$$d_$3UU=Function.createDelegate(this,this.$3UU);this.$$d_$2YM=Function.createDelegate(this,this.$2YM);this.$N3=-1;this.$151=-1;Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel.initializeBase(this);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LandingPageLoadStart",1);this.$kF=new Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel;this.$S2=new Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$U5;this.$Ry=new Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$Ua;this.$J3=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Eu(this.$$d_$2YM,this.$$d_$3UU);this.$15d()};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel.prototype={$Tu:!0,$wc:"after_meeting",$wd:"update_contact",$20u:!1,$1rp:!1,$Mb:!1,$kF:null,get_UserProfile:function(){return this.$kF},set_UserProfile:function(n){return this.$kF=n,n},$qN:!1,get_IsTaskFlowAvailable:function(){return this.$qN},set_IsTaskFlowAvailable:function(n){return this.$qN=n,n},$18C:!1,get_IsLandingPageActivitiesEnabled:function(){return this.$18C},set_IsLandingPageActivitiesEnabled:function(n){return this.$18C=n,n},$Ry:null,get_LandingPageActivitiesViewModel:function(){return this.$Ry},set_LandingPageActivitiesViewModel:function(n){return this.$Ry=n,n},$J3:null,get_RecentlyViewedItemListViewModel:function(){return this.$J3},set_RecentlyViewedItemListViewModel:function(n){return this.$J3=n,n},$S2:null,get_QuickCommandManager:function(){return this.$S2},set_QuickCommandManager:function(n){return this.$S2=n,n},$1MU:null,get_RefreshTime:function(){return this.$1MU},set_RefreshTime:function(n){return this.$1MU=n,n},get_TaskFlow1Name:function(){return this.$wc},set_TaskFlow1Name:function(n){return this.$wc===n?n:(this.$wc=n,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("LandingPageTaskFlow1Name",{LandingPageTaskFlow1Name:n}),this.$8("TaskFlow1Name"),n)},get_TaskFlow2Name:function(){return this.$wd},set_TaskFlow2Name:function(n){return this.$wd===n?n:(this.$wd=n,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("LandingPageTaskFlow2Name",{LandingPageTaskFlow2Name:n}),this.$8("TaskFlow2Name"),n)},get_OpenOnStart:function(){return this.$Tu},set_OpenOnStart:function(n){return this.$Tu===n?n:(this.$Tu=n,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("LandingPageOpenOnStart",{LandingPageOpenOnStart:n}),n)},ShowOverflowFavoritesSectionError:function(){var n=Microsoft.Crm.Client.Core.Framework.$4.$i("");n.$4r=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("FavoriteItemsSection_LimitError_Text");this.$16B(n)},$18R:null,get_IsRefreshing:function(){return this.$Mb},set_IsRefreshing:function(n){return this.$Mb===n?n:(this.$Mb=n,this.$8("IsRefreshing"),n)},add_ExpandEvent:function(n){this.$2I("Expand",n)},remove_ExpandEvent:function(n){this.$4N("Expand",n)},add_CollapseEvent:function(n){this.$2I("Collapse",n)},remove_CollapseEvent:function(n){this.$4N("Collapse",n)},$2QY:function(){window.clearTimeout(this.$151);this.$151=-1;this.set_IsRefreshing(!1)},expand:function(){var n=this.$5j("Expand");$0.$1(n)||n()},collapse:function(n){var t=this.$5j("Collapse");$0.$1(t)||t(n)},onPostCollapse:function(){this.$J3.onLandingPageCollapse()},get_IsFavoriteLimitReached:function(){return $0.$1(this.$J3.$QM)?!0:this.$J3.$QM.get_Count()<40},$rb:function(){!this.$1rp&&this.$S2.$SX&&this.$J3.$SX&&this.$Ry.$SX&&this.$20u&&(this.$1rp=!0,this.$S2.RemovePropertyChangedListener("ContentHasRendered",this.$$d_$3Fx),this.$J3.RemovePropertyChangedListener("ContentHasRendered",this.$$d_$3Fx),this.$Ry.RemovePropertyChangedListener("ContentHasRendered",this.$$d_$3Fx),this.$18R&&(this.$18R(),this.$18R=null),this.$Tu&&Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LandingPageInitialLoad",1))},$2XS:function(n){this.$J3.$2XS(n)},$3Fx:function(){this.$rb()},RefreshLandingPage:function(n){window.clearTimeout(this.$151);this.$15d();var t=this;this.RefreshLandingPageDeferred().fail(function(i){n&&t.$16B(i)});this.$151=window.setTimeout(this.$$d_$2QY,1e4)},RefreshLandingPageDeferred:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t,i;if(this.set_IsRefreshing(!0),!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r())return t=Microsoft.Crm.Client.Core.Framework.$4.$i(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("LandingPage_Error_On_Manual_Refresh_While_Offline")),n.reject(t),i=this,window.setTimeout(function(){i.set_IsRefreshing(!1)},200),n;var u=this.$kF.$1HJ(),f=this.$Ry.$1HJ(),e=this.$J3.$1HJ(),o=this,s=this,r=this;return Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(u,f,e).then(function(t){o.$3XK();n.resolve(t)},function(t){$0.$1(t)||Microsoft.Crm.Client.Core.Framework.Trace.logError(168,"Refresh Mobile Workspace has failed with an error: {0}",t.$E);var i=Microsoft.Crm.Client.Core.Framework.$4.$i(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("LandingPage_Error_On_Manual_Refresh"));n.reject(i)}).always(function(){window.clearTimeout(r.$151);r.set_IsRefreshing(!1)}),n},$15d:function(){if(!Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$CH()){this.$N3!==-1&&window.clearTimeout(this.$N3);var n=this;this.$N3=window.setTimeout(function(){Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.RefreshLandingPage(!1)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1HD,"LandingPageViewModel.RefreshLandingPage")},9e5)}},$3XK:function(){this.$1MU=(new Date).localeFormat("H:mm:ss");this.$8("RefreshTime")},$3CA:function(){var t=this,n=Microsoft.Crm.Client.Core.Framework.$h.get_$5().$LX("LandingPageOpenOnStart").then(function(n){n&&t.set_OpenOnStart(n.LandingPageOpenOnStart)},this.$$d_$R0);if(!this.$qN)return n;var i=this,r=Microsoft.Crm.Client.Core.Framework.$h.get_$5().$LX("LandingPageTaskFlow1Name").then(function(n){n&&i.set_TaskFlow1Name(n.LandingPageTaskFlow1Name)},this.$$d_$R0),u=this,f=Microsoft.Crm.Client.Core.Framework.$h.get_$5().$LX("LandingPageTaskFlow2Name").then(function(n){n&&u.set_TaskFlow2Name(n.LandingPageTaskFlow2Name)},this.$$d_$R0);return Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(n,r,f)},$18:function(){this.$1y||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$2W9);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this)},$37N:function(){this.set_IsRefreshing(!0);this.$18();this.$S2.AddPropertyChangedListener("ContentHasRendered",this.$$d_$3Fx);this.$J3.AddPropertyChangedListener("ContentHasRendered",this.$$d_$3Fx);this.$Ry.AddPropertyChangedListener("ContentHasRendered",this.$$d_$3Fx);this.$S2.$18();this.$J3.$18();this.$Ry.$18();var n=this;return this.$3CA().always(function(){n.$20u=!0;n.$rb();n.set_IsRefreshing(!1)})},$2U0:function(){this.$S2.$FP()},$GX:function(){this.$S2&&(this.$S2.dispose(),this.$S2=null);this.$J3&&(this.$J3.dispose(),this.$J3=null);this.$Ry&&(this.$Ry.dispose(),this.$Ry=null);this.$kF&&(this.$kF.dispose(),this.$kF=null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$2W9);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)},$2W9:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?this.RefreshLandingPage(!1):this.$Mb&&this.$2QY()},$3UU:function(n){var t=n.slice(0,n.length),i=this;return t.sort(function(n,t){return t.$Hx-n.$Hx}),t.slice(0,15)},$2YM:function(n){var t=n.slice(0,n.length),i=this;return t.sort(function(n,t){var i=n,r=t;return i.$4r.toLowerCase().localeCompare(r.$4r.toLowerCase())}),t.slice(0,40)},$16B:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;t.$GL=0;t.$Bv=2;t.set_IsHtmlEncodingRequired(!0);t.$Fu=n.$4r;t.set_Message(n.$E);t.Show()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$UN=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$UN.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$UN.prototype={$QI:null,$JG:null,$8e:0,$Cf:null,$Az:null,$JP:0,$Qk:!1,get_FacetAttributeDisplayName:function(){return this.$QI},set_FacetAttributeDisplayName:function(n){return this.$QI=n,n},get_Count:function(){return this.$JG},set_Count:function(n){return this.$JG=n,n},get_FacetResultType:function(){return this.$8e},set_FacetResultType:function(n){return this.$8e=n,n},get_FacetAttributeLogicalName:function(){return this.$Az},set_FacetAttributeLogicalName:function(n){return this.$Az=n,n},get_FacetAttributeType:function(){return this.$JP},set_FacetAttributeType:function(n){return this.$JP=n,n},get_IsLocalFacet:function(){return this.$Qk},set_IsLocalFacet:function(n){return this.$Qk=n,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv=function(n,t,i,r,u,f){Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv.initializeBase(this);this.$QI=n;this.$GO=t;this.$Vb=i;this.$8e=r;this.$QJ=u;this.$Az=f};Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("FacetViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$FI)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv.prototype={$QJ:null,$QI:null,$Az:null,$1xU:"",$GO:null,$Vb:0,$1Bq:!0,$Qn:!1,$1cz:null,$19J:!1,$8e:0,get_FacetResultType:function(){return this.$8e},set_FacetResultType:function(n){return this.$8e=n,n},get_ActivityNotesCheckBoxData:function(){return this.$19J},set_ActivityNotesCheckBoxData:function(n){return this.$19J=n,n},get_FacetAttributeDisplayName:function(){return this.$QI},set_FacetAttributeDisplayName:function(n){return this.$QI=n,n},get_FacetAttributeLogicalName:function(){return this.$Az},set_FacetAttributeLogicalName:function(n){return this.$Az=n,n},get_FacetList:function(){return this.$GO},set_FacetList:function(n){return this.$GO=n,n},get_FacetType:function(){return this.$Vb},set_FacetType:function(n){return this.$Vb=n,n},get_IsSelected:function(){return this.$Qn},set_IsSelected:function(n){return this.$Qn!==n&&(this.$Qn=n),n},get_EnableShowMore:function(){return this.$1Bq},set_EnableShowMore:function(n){return this.$1Bq!==n&&(this.$1Bq=n,this.$8("EnableShowMore")),n},get_DefaultFacetsToDisplay:function(){return 4},get_MaxFacetsToDisplay:function(){return 15},get_MaxFacetsToDisplayWithAutoComplete:function(){return 10},get_ShowButtonLabel:function(){return this.$1cz=this.$1Bq?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_ShowMore"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_ShowFewer"),this.$1cz},get_FacetSearchActivitiesAndNotes:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_Search_Activities_Notes")},get_FacetLabelAll:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_All")},FacetSliderOnChange:function(n,t){var i=this.$GO.get_$I(0),e=i.$KL,s=i.$J2,o="",u=i.get_FacetValue(),r="",f;n>e&&(Microsoft.Crm.Client.Core.Framework.$3.$9(u.get_Items()[n].$su)||(o=i.$JP===2?this.$1Tj(new Date(u.get_Items()[n].$su)):u.get_Items()[n].$su,r.indexOf(i.$Cf)<0&&(r=i.$Cf+":"),r+=i.$Az+" ge "+o));t<s&&(Microsoft.Crm.Client.Core.Framework.$3.$9(u.get_Items()[t].$16m)||(r=r!==""?r+" and ":"",o=i.$JP===2?this.$1Tj(new Date(u.get_Items()[t].$16m)):u.get_Items()[t].$16m,r.indexOf(i.$Cf)<0&&(r=i.$Cf+":"),r+=i.$Az+" lt "+o));i.$8e!==4&&t===s-1&&(f="",n===e?f=this.$1Tj(new Date(u.get_Items()[n].$16m)):n<e&&(f=this.$1Tj(new Date(u.get_Items()[n].$su))),f!==""&&(r.indexOf(i.$Cf)<0&&(r+=i.$Cf+":"),r+=i.$Az+" ge "+f));n===e&&t===s-1&&(r="",this.$QJ.$XT(i.$Az));this.$1xU=r;this.$QJ.ExecuteRangeFacetSearchAction(r,this.$1xU,i)},ExecuteSearchAction:function(n,t,i){var u,r;if(t)this.$QJ.$2po(this.$8e,i);else{for(u=null,r=0;r<this.$GO.get_Count();r++)if(this.$GO.get_$I(r).get_FacetValue()===n){u=this.$GO.get_$I(r);break}this.$QJ.ExecuteTextFacetSearchAction(u)}},RecordTypeCheckBoxClickHandler:function(){this.$QJ.$3LW(this.$19J)},$1Tj:function(n){n.setHours(0,0,0,0);n=Microsoft.Crm.Client.Core.Framework.$m.$2Ih(n);var t=n.toJSON();return t.substring(0,t.length-5)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$DT=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$DT.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$DT.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("FacetPaneViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$DT)};Microsoft.Crm.Client.Core.ViewModels.Controls.$DT.prototype={$MK:null,$9o:null,$9n:null,$Da:null,$A2:null,$Sv:null,$tr:!1,$3FB:function(n,t){var l,r,i,e,f,a,u,v,y,h,o,w,c,p,b,s;if(this.$9n=t,n.get_Count()>0&&n.get_Items()[0].$GO.get_Items().length>0){for(this.set_Visible(!0),this.$MK=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv)),e=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv)),f=0;f<n.get_Count();f++)if(i=n.get_$I(f),i.$GO.get_Count()>0)if(l=i.$QI,n.get_$I(f).$Vb)if(this.$tr){if(this.$9o.get_Count()>0)for(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$UN)),b=i.$GO.get_$I(0),s=0;s<this.$9o.get_Count();s++)if(this.$9o.get_$I(s).$Az===b.$Az){r.add(this.$9o.get_$I(s));this.$Sv=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv(l,r,1,this.$9o.get_$I(s).$8e,this);e.add(this.$Sv);break}}else{if(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$UN)),o=i.$GO.get_$I(0),this.$A2=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Ui,this.$A2.set_FacetValue(o.$Su),this.$A2.$Cf=o.$Cf,this.$A2.$Az=o.$Az,this.$A2.$JP=o.$JP,this.$A2.$8e=i.$8e,this.$A2.$Qk=i.$Qk,this.$A2.$q4=0,o.$JP===2)this.$A2.$KL=0,this.$A2.$J2=5,this.$A2.set_SelectedMinimum(0),this.$A2.set_SelectedMaximum(5),h=[this.$A2.get_LabelAll(),this.$A2.get_$2pu(),this.$A2.get_$2ps(),this.$A2.get_$2pt(),this.$A2.get_$2pr(),this.$A2.get_$2pv()],this.$A2.$Qk&&(this.$A2.$J2++,(w=this.$A2).set_SelectedMaximum(w.$K2+1),Array.add(h,this.$A2.get_$2pq()));else for(h=new Array(0),c=i.$GO.get_$I(0).$Su,this.$A2.$KL=0,this.$A2.$J2=c.get_Count()-1,this.$A2.set_SelectedMinimum(0),this.$A2.set_SelectedMaximum(c.get_Count()-1),p=0;p<c.get_Count();p++)Array.add(h,c.get_Items()[p].$su);this.$A2.$1a9=h;r.add(this.$A2);this.$Sv=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv(l,r,1,n.get_$I(f).$8e,this);e.add(this.$Sv);this.$9o.add(this.$A2)}else{for(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$UN)),a=0;a<i.$GO.get_Count();a++){if(u=i.$GO.get_$I(a),v=!1,i.$8e===1&&this.$9n.$cR&&this.$9o&&this.$9o.get_Count()>0){for(y=0;y<this.$9o.get_Count();y++)if(this.$9o.get_$I(y).$Az===u.$Az){v=!0;break}if(!v)continue}if(this.$Da=new Microsoft.Crm.Client.Core.ViewModels.Controls.$FI(this),this.$Da.set_FacetValue(this.$34r(u.$Su)),this.$Da.$JG=u.$JG,this.$Da.$8e=i.$8e,this.$Da.$Qk=i.$Qk,this.$Da.$JP=u.$JP,this.$Da.$Az=u.$Az,this.$Da.$Cf=u.$Cf,this.$Da.$10e=u.$10e,this.$Da.set_$2pp(u.$Va),r.add(this.$Da),v)break}this.$Sv=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv(l,r,0,n.get_$I(f).$8e,this,this.$Da.$Az);this.$Sv.set_IsSelected(this.EnableAllButton(i.$8e));this.$Sv.$19J=this.$9n.$cR;e.add(this.$Sv)}e.get_Count()>0&&(this.set_FacetViewModelList(e),this.$tr=!1)}},get_FacetViewModelList:function(){return this.$MK},set_FacetViewModelList:function(n){return this.$MK!==n&&(this.$MK=n,this.$8("FacetViewModelList")),n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$MK=null;this.$9o=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$UN))},ExecuteTextFacetSearchAction:function(n){var i;this.$Da=null;var r="",t=null;if(n){for(this.$Da=n,i=0;i<this.$MK.get_Count();i++)if(this.$Da.$8e===this.$MK.get_$I(i).$8e){t=this.$MK.get_$I(i);break}var f=this.$Da.$QI,u=this.$Da.$Az,e=this.$Da.$Cf;this.$3Mx(this.$Da);t.$8e===1?this.$9n.$Ko=[u]:t.$8e?t.$8e===2&&this.$26R(this.$Da):r="ownerid eq '"+this.$Da.$Va+"'";r!==""&&(this.$9n.$6v!==""&&(this.$9n.$6v+=" and "),this.$9n.$6v+=r);this.$tr=n.$Qk||!t.$8e;this.$9n.executeAction()}},ExecuteRangeFacetSearchAction:function(n,t,i){var r,f,u;this.$9n.$6v!==""&&this.$9n.$6v.indexOf(i.$Cf)>=0&&i.$Cf!==""&&(n=n.replace(i.$Cf+":",""));r=n;f=i.$Az;t!==""&&this.$XT(i.$Az);r!==""&&this.$9n.$6v!==""&&(this.$9n.$6v+=",");r.indexOf(i.$Cf)<0&&(u=i.$Cf+":",r=u+r);this.$9n.$6v+=r;this.$tr=!0;this.$9n.executeAction()},$2po:function(n,t){var i,r;if(n===1)this.resetProperties();else{for(this.$3MR(t),this.$9n.$OD="",i=0;i<this.$9o.get_Count();i++)r=this.$9o.get_$I(i),r.$8e===2&&this.$26R(r);this.$tr=!0}this.$9n.executeAction()},$3LW:function(n){this.$9n.set_ActivityNotesCheckBoxData(n);this.$9n.executeAction()},$3Mx:function(n){if(this.$9o.get_Count()>0)for(var t=0;t<this.$9o.get_Count();t++)if(this.$9o.get_$I(t).$8e===2&&this.$9o.get_$I(t).$Az===n.$Az){this.$9o.remove(this.$9o.get_$I(t));break}this.$9o.add(n)},$3MR:function(n){var i,t;if(this.$9o.get_Count()>0){for(i=this.$9o,t=0;t<i.get_Count();t++)this.$9o.get_$I(t).$8e===2&&this.$9o.get_$I(t).$Az===n?i.remove(this.$9o.get_$I(t)):this.$9o.get_$I(t).$8e||(this.$XT("ownerid"),i.remove(this.$9o.get_$I(t)));this.$9o=i}},resetProperties:function(){var n,i,t,r;if(this.$MK&&this.$MK.get_Count()>0)for(n=0;n<this.$MK.get_Count();n++)if(this.$MK.get_$I(n).$Vb===1)for(i=this.$MK.get_$I(n).$GO,t=0;t<i.get_Count();t++)r=i.get_$I(t),r.set_ClearFilter(!0);this.$MK=null;this.$9o=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$UN));this.$tr=!1;this.$9n&&(this.$9n.set_ActivityNotesCheckBoxData(!1),this.$9n.$Ko=null,this.$9n.$6v="",this.$9n.$OD="")},EnableAllButton:function(n){if(!$0.$1(this.$9o)&&this.$9o.get_Count()>0)for(var t=0;t<this.$9o.get_Count();t++)if(this.$9o.get_$I(t).$8e===n)return!0;return!1},$GX:function(){$0.$1(this.$Da)||(this.$Da.dispose(),this.$Da=null);$0.$1(this.$Sv)||(this.$Sv.dispose(),this.$Sv=null);$0.$1(this.$A2)||(this.$A2.dispose(),this.$A2=null);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)},$XT:function(n){var t=this.$9n.$6v,r;if(t.indexOf(n)>=0){for(var u=t.split(","),f=u.length,i=0;i<f;++i)if(r=u[i],r.indexOf(n)>=0){t=t.replace(r,"");break}t.indexOf(",,")>=0?t=t.replace(",,",","):t.charAt(t.length-1)===","&&(t=t.substring(0,t.length-1));this.$9n.$6v=t}},$34r:function(n){if($0.$1(n)||Object.getType(n)!==String)return n;var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V(),t=i.$l(n.toString());return t?t.$8O:n},$26R:function(n){var t="";n.$JP===11||n.$JP===13||n.$JP===12?(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$9n.$OD)||this.$9n.$OD.indexOf(n.$Cf)!==-1||(t+=n.$Cf+":"),t+=n.$Az+" eq "+n.$Va):(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$9n.$OD)&&this.$9n.$OD.indexOf(n.$Cf)<0&&(t=n.$Cf+":"),t+=n.$Az+" eq '"+n.$Va+"'");t!==""&&(this.$9n.$OD!==""&&(this.$9n.$OD+=this.$9n.$OD.indexOf(n.$Cf)>-1?" and ":","),this.$9n.$OD+=t)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ui=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Ui.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.Controls.$Ui.initializeBase(this);this.$jl=0};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ui.prototype={$Su:null,$P9:null,$K2:null,$ST:!1,$1a9:null,$q4:null,get_DecimalPrecision:function(){return this.$q4},set_DecimalPrecision:function(n){return this.$q4=n,n},$jl:null,get_LastCharCode:function(){return this.$jl},set_LastCharCode:function(n){return this.$jl=n,n},$KL:null,get_MinRange:function(){return this.$KL},set_MinRange:function(n){return this.$KL=n,n},$J2:null,get_MaxRange:function(){return this.$J2},set_MaxRange:function(n){return this.$J2=n,n},get_RangeSliderValues:function(){return this.$1a9},set_RangeSliderValues:function(n){return this.$1a9=n,n},$qE:!1,get_GlobalClearFilter:function(){return this.$qE},set_GlobalClearFilter:function(n){return this.$qE=n,n},get_ClearFilter:function(){return this.$ST},set_ClearFilter:function(n){return this.$ST!==n&&(this.$ST=n,this.$8("ClearFilter")),n},get_SelectedMaximum:function(){return this.$K2},set_SelectedMaximum:function(n){return this.$K2=n?n:0,n},get_SelectedMinimum:function(){return this.$P9},set_SelectedMinimum:function(n){return this.$P9=n?n:0,n},clearRange:function(){this.set_ClearFilter(!1);this.set_SelectedMinimum(this.$KL);this.set_SelectedMaximum(this.$J2)},limitSliderValues:function(){this.$P9>this.$K2&&this.set_SelectedMinimum(this.$K2);this.$K2>this.$J2&&this.set_SelectedMaximum(this.$J2);this.$P9<this.$KL&&this.set_SelectedMinimum(this.$KL)},onDataChange:function(){},get_FacetValue:function(){return this.$Su},set_FacetValue:function(n){return this.$Su!==n&&(this.$Su=n),n},get_LabelAll:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_All")},get_$2pu:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_RangeSlider_OneYearAgo")},get_$2ps:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_RangeSlider_OneMonthAgo")},get_$2pt:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_RangeSlider_OneWeekAgo")},get_$2pr:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_RangeSlider_OneDayAgo")},get_$2pv:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_RangeSlider_Today")},get_$2pq:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_RangeSlider_AfterToday")}};Microsoft.Crm.Client.Core.ViewModels.Controls.$FI=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.$FI.initializeBase(this);this.$QJ=n};Microsoft.Crm.Client.Core.ViewModels.Controls.$FI.prototype={$QJ:null,$n0:null,$Su:null,$Va:null,$10e:0,set_$2pp:function(n){if(this.$Va!==n){this.$Va=n;var t="";this.$8e&&(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Va)||this.$JP!==6&&this.$JP!==1)||(t=this.$8e?this.$32K(this.$Cf,this.$10e):this.$Cf,Microsoft.Crm.Client.Core.Framework.$3.$9(t)||this.$3PC(this.$Va,t))}return n},get_ImageUrl:function(){return this.$n0},set_ImageUrl:function(n){return this.$n0!==n&&(this.$n0=n,this.$8("ImageUrl")),n},get_TextFacetDefaultImage:function(){return"/_imgs/ContactPhoto.png"},get_FacetValue:function(){return this.$Su},set_FacetValue:function(n){return this.$Su=n,n},executeAction:function(){this.$QJ.ExecuteTextFacetSearchAction(this)},$3PC:function(n,t){var i="entityimage_url",e=[i],r={},u,f;r["Identifier"]=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(n));r["ColumnSet"]=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(e);u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEntityRecord",r);f=this;u.OnSuccess=function(n){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(n)){var t=Microsoft.Crm.Client.Core.Models.$O.$B(n);$0.$1(t.GetValue(i))||f.set_ImageUrl(t.GetValue(i).toString())}};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,u)},$32K:function(n,t){if($0.$1(n))return n;var i="",u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V(),r=u.$Bq(t);return $0.$1(r)||(i=r.$d),i}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo=function(){this.$$d_$3GV=Function.createDelegate(this,this.$3GV);Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("RecentlyViewedItemViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo.prototype={$Hm:null,$1Vi:!1,$1R3:null,$S:null,$1Wc:!1,get_ObjectId:function(){return this.$Hm.$gU},get_DisplayName:function(){var n=Microsoft.Crm.Client.Core.Models.$30.$1TZ(this.get_EntityTypeCode());return n==="systemform"?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SitemapDesigner.DashboardLabel"):this.$Hm.$4g},get_Title:function(){return this.$Hm.$4r},get_IconPath:function(){return this.$Hm.$qG},get_Action:function(){return this.$Hm.$po},get_PinStatus:function(){return this.$Hm.$aW},get_Type:function(){return this.$Hm.$80},get_EntityTypeCode:function(){return this.$Hm.$AD},get_LastAccessed:function(){return this.$Hm.$Hx},get_EntityClassName:function(){if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1R3)){var n=Microsoft.Crm.Client.Core.Models.$30.$1TZ(this.$Hm.$AD);this.$1R3=n==="systemform"?"dashboard":n}return this.$1R3},get_EntityLogicalName:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$S)&&(this.$S=Microsoft.Crm.Client.Core.Models.$30.$1TZ(this.$Hm.$AD)),this.$S},get_IsWaitingToCompleteNavigation:function(){return this.$1Wc},set_IsWaitingToCompleteNavigation:function(n){return this.$1Wc!==n&&(this.$1Wc=n,this.$8("IsWaitingToCompleteNavigation")),n},$PX:null,get_EntityViewModel:function(){return this.$PX},set_EntityViewModel:function(n){return this.$PX=n,n},$kD:null,get_TogglePinStatusCommand:function(){return this.$kD},set_TogglePinStatusCommand:function(n){return this.$kD=n,n},get_IsModelInitialized:function(){return this.$1Vi},set_IsModelInitialized:function(n){return this.$1Vi!==n&&(this.$1Vi=n,this.$8("IsModelInitialized")),n},set_$3LQ:function(n){return this.$Hm&&this.$Hm.RemovePropertyChangedListener("PinStatus",this.$$d_$3GV),this.$Hm=n,$0.$1(n)||this.$Hm.AddPropertyChangedListener("PinStatus",this.$$d_$3GV),n},get_ImageSrc:function(){if($0.$1(this.$PX)||!Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$PX.get_ModelContext()))return null;var n=this.$PX.get_ModelContext().GetValue("entityimage_url");return $0.$1(n)?null:n.toString()},$18:function(){this.$1y||(this.$kD=this.$10("ToggleRecentlyViewedItemPinStatusCommand"),this.set_IsModelInitialized(!1),this.set_IsWaitingToCompleteNavigation(!1),Microsoft.Crm.Client.Core.ViewModels.$43.prototype.$18.call(this))},ExecuteNavigation:function(){var n,t;$0.$1(this.$PX)||(n=this.$PX.get_SelectListItemCommand(),$0.$1(n))||(t=this,n.$1mr().always(function(){t.set_IsWaitingToCompleteNavigation(!1)}))},ShowErrorDialog:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;t.$GL=0;t.$Bv=2;t.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6(n));t.Show()},$3GV:function(){this.$8("PinStatus")},$GX:function(){$0.$1(this.$kD)||(this.$kD.dispose(),this.$kD=null);Microsoft.Crm.Client.Core.ViewModels.$43.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Eu=function(n,t){this.$$d_$2hj=Function.createDelegate(this,this.$2hj);this.$$d_$LQ=Function.createDelegate(this,this.$LQ);this.$$d_$3HY=Function.createDelegate(this,this.$3HY);this.$N2=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo));this.$QM=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo));this.$X4=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo));this.$sR=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh;Microsoft.Crm.Client.Core.ViewModels.Controls.$Eu.initializeBase(this);this.$1ZW=n;this.$1ZX=t;this.$sR.AddPropertyChangedListener("IsWorking",this.$$d_$3HY);Microsoft.Crm.Client.Core.ViewModels.$25.get_$5().AddPropertyChangedListener("IsWorking",this.$$d_$3HY);this.AddPropertyChangedListener("IsLoading",this.$$d_$3HY);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$LQ)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Eu.prototype={$SX:!1,$1ZW:null,$1ZX:null,$1GM:null,get_$2Mi:function(){return this.$2D||this.$sR.$nW||Microsoft.Crm.Client.Core.ViewModels.$25.get_$5().$nW},get_FavoriteItemsSection:function(){return this.$QM},get_RecentItemsSection:function(){return this.$X4},get_HasItems:function(){return this.$QM.get_Count()>0||this.$X4.get_Count()>0},add_LandingPageCollapseEvent:function(n){this.$2I("LandingPageCollapse",n)},remove_LandingPageCollapseEvent:function(n){this.$4N("LandingPageCollapse",n)},set_$1Pb:function(n){return n!==this.$SX&&(this.$SX=n,this.$8("ContentHasRendered")),n},$2XS:function(n){this.get_$2Mi()?this.$1GM=n:n()},UIHasRendered:function(){this.$2D||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LandingPageRecentItems",1),this.set_$1Pb(!0))},onLandingPageCollapse:function(){var n=this.$5j("LandingPageCollapse");$0.$1(n)||n()},$18:function(){if(!this.$1y){var n=this;Microsoft.Crm.Client.Core.ViewModels.$25.get_$5().$2dk(function(t){n.set_IsLoading(!0);n.$2lL(t);n.$8("ChangeItemSet");n.set_IsLoading(!1)});Microsoft.Crm.Client.Core.ViewModels.$25.get_$5().$2SQ()}Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this)},$29U:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo;return t.set_$3LQ(n),t.$18(),t.AddPropertyChangedListener("PinStatus",this.$$d_$2hj),t.AddPropertyChangedListener("ModelContext",this.$$d_$2hj),t},$2hr:function(){for(var t,n=0;n<this.$QM.get_Count();n++)this.$1Be(this.$QM.get_$I(n));for(this.$QM.clear(),t=0;t<this.$X4.get_Count();t++)this.$1Be(this.$X4.get_$I(t));this.$X4.clear()},$2lL:function(n){var t,i,r,u,o,f,s;this.$2hr();this.$sR.$2i1();t=new Array(0);i=new Array(0);for(var h=n,c=h.length,e=0;e<c;++e)(r=h[e],Microsoft.Crm.Client.Core.Framework.$3.$9(r.$4r))||(r.$aW?t.push(r):i.push(r));for($0.$1(this.$1ZW)||(t=this.$1ZW(t)),$0.$1(this.$1ZX)||(i=this.$1ZX(i)),u=0;u<t.length;u++)o=this.$29U(t[u]),this.$sR.$24l(o),this.$QM.add(o);for(f=0;f<i.length;f++)s=this.$29U(i[f]),this.$sR.$24l(s),this.$X4.add(s);this.$sR.$2fU()},$1HJ:function(){return Microsoft.Crm.Client.Core.ViewModels.$25.get_$5().$X6()},$3HY:function(){!this.get_$2Mi()&&this.$1GM&&(this.$1GM(),this.$1GM=null)},$2hj:function(n,t){var i=[];(Array.add(i,"PinStatus"),Array.add(i,"ModelContext"),Array.contains(i,t))&&this.$8("ChangeItemSet")},$1Be:function(n){if(Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo.isInstanceOfType(n)){var t=n;t.RemovePropertyChangedListener("PinStatus",this.$$d_$2hj);t.RemovePropertyChangedListener("ModelContext",this.$$d_$2hj)}Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1Be.call(this,n)},$LQ:function(){for(var t,n=0;n<this.$QM.get_Count();n++)this.$QM.get_$I(n).set_Enabled(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r());for(t=0;t<this.$X4.get_Count();t++)this.$X4.get_$I(t).set_Enabled(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r())},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$LQ);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel=function(){this.$$d_$3H8=Function.createDelegate(this,this.$3H8);this.$$d_$1bg=Function.createDelegate(this,this.$1bg);Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel.initializeBase(this);this.$Dy=this.$$d_$1bg};Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel.prototype={$Oi:!1,get_PaneStackingSettingsHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Settings_DeviceIntegration_Header")},get_PaneStackingEnabledLabelText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_PaneStacking_SwitchText")},get_EnableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Settings_Diagnostics_Label_Enable")},get_DisableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Settings_Diagnostics_Label_Disable")},get_IsStackingEnabled:function(){return this.$Oi},set_IsStackingEnabled:function(n){return this.$Oi===n?n:(this.$Oi=n,this.$8("IsStackingEnabled"),n)},$18:function(){this.$1y||(this.$Oi=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Jv().get_$u1(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Jv().apcl("IsStackingEnabled",this.$$d_$3H8));Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this)},$1bg:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Jv().set_$u1(this.$Oi)},$3H8:function(){this.set_IsStackingEnabled(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Jv().get_$u1())}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh=function(){this.$1Y9=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3aZ));this.$1uK=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Array));this.$kb=new Array(0);this.$1Gt=new Array(0);Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.prototype={$1j8:50,$A0:0,$nW:!1,set_$2ND:function(n){return n!==this.$nW&&(this.$nW=n,this.$8("IsWorking")),n},set_$CM:function(n){return this.$A0=n,this.set_$2ND(this.$A0>0),n},$2i1:function(){this.$kb=new Array(0);this.$1Gt=new Array(0)},$24l:function(n){var i,t;$0.$1(n)||(i=this.$1Y9.get_$I(n.get_ObjectId()),$0.$1(i)?(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3Zw,t.$FN=n,t.$Gm=new Microsoft.Crm.Client.Core.ViewModels.$43,t.$FN.$PX=t.$Gm,this.$2dr(t)):this.$38A(i,n))},$2dr:function(n){for(var i,t,r,e,o,u=n.$FN.get_EntityTypeCode(),f=0;f<this.$kb.length;f++)if(i=this.$kb[f],i.$5R===n.$FN.get_Type()&&i.$10X===u&&i.$IF.length<this.$1j8){i.$IF.push(n);return}(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3aa,t.$IF=new Array(0),t.$10X=u,t.$5R=n.$FN.get_Type(),t.$5c=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$Bq(u),this.$kb.push(t),t.$IF.push(n),$0.$1(t.$5c)||$0.$1(t.$5c.$d))||(r=t.$5c.$d,e=this.$1uK.get_$I(r),$0.$1(e)?(o=this,this.$1Gt.push(this.$3O3(r).done(function(n){t.$19T=n;o.$1uK.set_$I(r,n)}))):t.$19T=e)},$2fU:function(){if(this.$1Gt.length>0){this.set_$CM(this.$A0+1);var t=this.$kb,n=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(this.$1Gt).always(function(){n.set_$CM(n.$A0-1);t===n.$kb&&n.$26O(t)})}else this.$26O(this.$kb)},$26O:function(n){for(var t,h,i,r,f,e,s=n.length,u=new Array(0),o=0;o<s;o++)t=n.pop(),t.$10X===1030?this.$37W(t):t.$5R===1?this.$37f(t):u.push(t);for(h=this,u.sort(function(n,t){return t.$IF.length-n.$IF.length}),i=new Array(0),r=0,f=0;f<u.length;f++)e=u[f],r+e.$IF.length>this.$1j8&&(this.$2LL(i),r=0,i=new Array(0)),i.push(e),r+=e.$IF.length;r&&this.$2LL(i)},$37W:function(n){this.set_$CM(this.$A0+1);var r=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(1,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25(),"Workspace".toUpperCase()),t=this,i=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(r,null).then(function(i){t.$3G4(i,n.$IF);t.set_$CM(t.$A0-1)},function(t){i.$3G3(t,n.$IF);i.set_$CM(i.$A0-1)})},$3G4:function(n,t){for(var i,f,o,u,e,s,r=0;r<t.length;r++){if(i=t[r],$0.$1(n)||!n.get_$3ZH()){this.$29f(i);return}for(f=new Microsoft.Crm.Client.Core.ViewModels.$2r,o=new Microsoft.Crm.Client.Core.Framework.Guid(i.$FN.get_ObjectId()),u=0;u<n.get_$3ZH();u++)if(e=new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$I(u).$h),e.equals(o)){f.set_$1a(e.toString());break}s=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(f,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenDashboardCommand",null,{}));this.$1Ux(i.$FN.get_ModelContext(),s,i)}},$3G3:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],this.$29f(r)},$29f:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$2r,i;t.set_$1a(n.$FN.get_ObjectId());i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(t,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenDashboardCommand",null,{}));this.$1Ux(n.$FN.get_ModelContext(),i,n)},$37f:function(n){for(var t,u,i,r=0;r<n.$IF.length;r++){if(t=n.$IF[r],$0.$1(n.$5c)){t.$FN.set_IsModelInitialized(!0);continue}u={};u.PrimaryModelName=n.$5c.$d;i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(t.$Gm,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenPage",null,u));i.$Mx=13;i.$1B={};i.$1B.ListDefinitionId=t.$FN.get_ObjectId();this.$1Ux(t.$FN.get_ModelContext(),i,t)}},$2LL:function(n){this.set_$CM(this.$A0+1);var t=this,i=this;this.$2UN(n).then(function(i){t.$3Ir(i,n);t.set_$CM(t.$A0-1)},function(){i.set_$CM(i.$A0-1)})},$3O3:function(n){var i=MscrmComponents.DeferredPromiseFactory(Array,Microsoft.Crm.Client.Core.Framework.$4),u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null),t={},f,e,r;return t.EntityType=n,t.Attributes=["entityimage_url"],f=this,t.OnSuccess=function(n){i.resolve(n)},e=this,t.OnFailure=function(){i.resolve(new Array(0))},r=new Microsoft.Crm.Client.Core.ViewModels.$M(null,u).$DG(t),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(r),i.promise()},$2UN:function(n){for(var t,f,i,s,e,r,h,c,l=Microsoft.Crm.Client.Core.Framework.$G.$b("","RecentlyViewedItemCommandBuilder"),o=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.Sdk.Request)),u=0;u<n.length;u++)if(t=n[u],!$0.$1(t.$5c)){for(f="",i=0;i<t.$IF.length;i++)f+="<value>"+new Microsoft.Crm.Client.Core.Framework.Guid(t.$IF[i].$FN.get_ObjectId())+"<\/value>";for(s="<filter><condition attribute='"+t.$5c.$4S+"' operator='in'>"+f+"<\/condition><\/filter>",e="",r=0;r<t.$19T.length;r++)e+="<attribute name = '"+t.$19T[r].get_$1n()+"' />";h="<fetch mapping='logical' version='1.0'> <entity name='"+t.$5c.$d+"'> <attribute name = '"+t.$5c.$5e+"' />"+e+s+" <\/entity> <\/fetch>";o.add(new Xrm.Gen.RetrieveMultipleRequest(h))}return c=new Xrm.Gen.ExecuteMultipleRequest(o.toArray(),new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(c,l)},$3Ir:function(n,t){for(var i,f,u=n,r=0;r<u.responses.length;r++)i=u.responses[r],($0.$1(i.$G7)||$0.$1(i.$G7.get_message()))&&(f=i.$Ap.entityCollection,this.$2k5(f,t[i.$S3]))},$2k5:function(n,t){for(var f,i,r,s,e,o,u=0;u<n.get_count();u++){for(f=n.get_$I(u),i=null,r=0;r<t.$IF.length;r++)if(s=new Microsoft.Crm.Client.Core.Framework.Guid(t.$IF[r].$FN.get_ObjectId()),s.equals(f.$N.Id)){i=t.$IF[r];break}$0.$1(i)||(e=Microsoft.Crm.Client.Core.Models.$O.$B(f),o=new Microsoft.Crm.Client.Core.Commands.$33(i.$Gm,2),o.$1V=e,this.$1Ux(e,o,i))}},$1Ux:function(n,t,i){if(i.$FN.$3w||i.$FN.$fZ)i.$Gm.dispose(),t.dispose(),n!==i.$FN.get_ModelContext()&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(n)&&n.$6D();else if(i.$Gm.set_ModelContext(n),i.$Gm.$18(),i.$Gm.set_SelectListItemCommand(t),i.$FN.set_IsModelInitialized(!0),$0.$1(this.$1Y9.get_$I(i.$FN.get_ObjectId()))){var r=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3aZ;r.$23B=n===i.$FN.get_ModelContext();r.$1mX=i.$Gm;this.$1Y9.set_$I(i.$FN.get_ObjectId(),r)}},$38A:function(n,t){t.$3w||t.$fZ||(t.$PX=n.$1mX,n.$23B&&t.$PX.set_ModelContext(t.get_ModelContext()),t.set_IsModelInitialized(!0))}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3aa=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3aa.prototype={$5R:0,$10X:0,$5c:null,$19T:null,$IF:null};Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3Zw=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3Zw.prototype={$FN:null,$Gm:null};Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3aZ=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3aZ.prototype={$23B:!1,$1mX:null};Microsoft.Crm.Client.Core.ViewModels.Controls.$FH=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$FH.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$FH.prototype={get_$2SP:function(){return"tel:"}};Microsoft.Crm.Client.Core.ViewModels.Controls.$FA=function(){this.$$d_$1w7=Function.createDelegate(this,this.$1w7);Microsoft.Crm.Client.Core.ViewModels.Controls.$FA.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$FA.prototype={$18:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$2PN(this.$$d_$1w7);this.set_Visible(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().get_$IU());Microsoft.Crm.Client.Core.ViewModels.Controls.$F6.prototype.$18.call(this)},$1w7:function(n,t){if(!$0.$1(t)){this.set_Visible(t.$1WE);return}this.set_Visible(!1)},$GX:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().remove_$2PN(this.$$d_$1w7);Microsoft.Crm.Client.Core.ViewModels.Controls.$F6.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.prototype={$D9:null,$AG:null,$AA:null,$PP:null,$KE:null,$bY:null,$No:null,set_$zn:function(n){return this.$D9=n,this.$22i(),n},get_CrmChartBuilder:function(){return this.$No},set_CrmChartBuilder:function(n){return this.$No=n,this.$2la(),n},$2la:function(){$0.$1(this.$No)?(this.set_PrimaryModelName(null),this.set_$zn(null)):(this.set_PrimaryModelName(this.$No.get_$2R()),this.set_$zn(this.$No.$2fZ()))},get_ViewId:function(){return this.$AA},set_ViewId:function(n){return n&&Object.getType(n)===String&&n!==this.$AA&&(this.$AA=n,this.set_SavedQueryId(n),this.$Km()),n},get_ViewEntityLogicalName:function(){return this.$PP},set_ViewEntityLogicalName:function(n){return n&&Object.getType(n)===String&&n!==this.$PP&&(this.$PP=n),n},get_VisualizationId:function(){return this.$KE},set_VisualizationId:function(n){return n&&Object.getType(n)===String&&n!==this.$KE&&(this.$KE=n,this.set_SavedQueryVisualizationId(n),this.$Km()),n},get_VisualizationEntityLogicalName:function(){return this.$bY},set_VisualizationEntityLogicalName:function(n){return n&&Object.getType(n)===String&&n!==this.$bY&&(this.$bY=n),n},get_ActionProvider:function(){return this.$AG},set_ActionProvider:function(n){return this.$AG=n,n},$Km:function(){if(!$0.$1(this.$AG)){var n=this.$AG.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n);this.set_IsLoading(!0)}},$22i:function(){this.set_IsLoading(!1);this.set_Title(this.$D9.$6Y);this.set_XAxes(this.$D9.$KG);this.set_YAxes(this.$D9.$x2);this.set_SeriesList(this.$D9.$DW);this.set_Legend(this.$D9.$LD);this.set_Colors(this.$D9.$EI);this.set_DisplayMode(this.$D9.$JJ);this.set_ErrorInformation(this.$D9.$Dm);this.set_SavedQueryId(this.$AA);this.set_SavedQueryVisualizationId(this.$KE)},$R0:function(n){Microsoft.Crm.Client.Core.Framework.$66.$1WD(n.$z)?this.$1Dy():Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$R0.call(this,n)},$1Dy:function(){var t=new Microsoft.Crm.Client.Core.Framework.$5p(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Offline_Indicator_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_UnavailableOffline")),n=new Microsoft.Crm.Client.Core.Models.Chart.$IV;n.$6Y=new Microsoft.Crm.Client.Core.Models.$JG;n.$JJ=1;n.$Dm=new Microsoft.Crm.Client.Core.Framework.$O4;n.$Dm.$eW=t.get_$wl();n.$Dm.$Yf=t.get_$1BU();this.set_$zn(n)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$9d=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$9d.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$9d.$2jx=function(n,t,i,r){var u=new Microsoft.Crm.Client.Core.ViewModels.Controls.$9d;return u.$EH=r,u.$Ln=n,u.$Q2=i,u.$XY=t,u};Microsoft.Crm.Client.Core.ViewModels.Controls.$9d.prototype={$Ln:null,$XY:null,$EH:null,$JC:null,$kk:0,$GI:null,$EI:null,$Q2:null,$GX:function(){$0.$1(this.$EH)||(this.$EH.$6D(),this.$EH=null);this.$Ln=null;this.$Q2=null;this.$XY=null;this.$JC=null},$2fZ:function(){if(this.$JC=new Microsoft.Crm.Client.Core.Models.Chart.$IV,this.$EH.get_$m()>0){this.$2fX(this.$Ln,this.$XY);try{this.$2fa();this.$2fW()}catch(n){if(Microsoft.Crm.Client.Core.Framework.$5p.$1Ev(n)){var t=Microsoft.Crm.Client.Core.Framework.$5P.$1SG(Microsoft.Crm.Client.Core.Framework.$5p,n,"ChartError");this.$2fk(this.$JC,t)}else throw n;}}else this.$2fg(this.$JC);return this.$JC},get_$2R:function(){return this.$Ln.$6o},$2fg:function(n){var i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_NoData_Message"),t=new Microsoft.Crm.Client.Core.Models.$JG;t.Text=i;t.HorizontalAlignment="center";t.VerticalAlignment="middle";n.$6Y=t;n.$bD=this.$Ln.$1S;n.$JJ=1;n.$Dm=new Microsoft.Crm.Client.Core.Framework.$O4;n.$Dm.$eW=null;n.$Dm.$Yf=i},$2fk:function(n,t){n.$6Y=new Microsoft.Crm.Client.Core.Models.$JG;n.$bD=this.$Ln.$1S;n.$JJ=1;n.$Dm=new Microsoft.Crm.Client.Core.Framework.$O4;n.$Dm.$eW=t.get_$wl();n.$Dm.$Yf=t.get_$1BU()},$2fX:function(n,t){var i=t.$1S;this.$JC.$6Y=new Microsoft.Crm.Client.Core.Models.$JG;this.$JC.$6Y.Text=i;this.$JC.$bD=n.$1S},$2fa:function(){var t=this.$XY.get_$5c().presentationdescription,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Kx(t);this.$GI=n.$GI;this.$JC.$LD=new Microsoft.Crm.Client.Core.Models.$JA;n.$MA.get_Count()>0?(this.$JC.$LD.Floating=!1,this.$JC.$LD.Enabled=n.$MA.get_$I(0).$9d,this.$JC.$LD.HorizontalAlignment=n.$MA.get_$I(0).$19b.toLowerCase(),this.$JC.$LD.VerticalAlignment=n.$MA.get_$I(0).$1Bh.toLowerCase()):this.$JC.$LD.Enabled=!1;this.$EI=n.$1k9},$2fW:function(){this.$kk=this.$2HU();var n=Microsoft.Crm.Client.Core.ViewModels.Controls.$9e.$3EE(this.$kk);n.$18(this.$EH,this.$Q2,this.$GI,this.$JC);this.$JC.$EI=this.$EI;n.$Cu()},$2HU:function(){return this.$Q2.$1sJ?2:this.$Q2.$3A.$4v.$4F.$DC?3:1}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Kv=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Kv.prototype={$kk:null,$KZ:null,$G:null,$1lf:null,$1j6:0,$1j5:null,$1tO:!1,$1D:null,set_$2h3:function(n){return this.$kk=n||"Column",n},set_$1k8:function(n){return this.$KZ=n?String.format("rgb({0})",n.trim()):null,n},set_$2fN:function(n){return this.$1j5=n?String.format("rgb({0})",n.trim()):null,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Kx=function(n){this.$14h=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n);this.$3Y2(this.$14h);this.$GI=this.$3PE();this.$MA=this.$3OV();this.$1k9=this.$3Os()};Microsoft.Crm.Client.Core.ViewModels.Controls.$Kx.prototype={$14h:null,$GI:null,$MA:null,$1k9:null,$3PE:function(){for(var t,n,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Kv)),u=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(this.$14h).$5p("Chart/Series/Series"),i=0;i<u.get_$m();i++)t=u.get_$I(i),n=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Kv,n.set_$2h3(t.$1T("ChartType")),n.set_$1k8(t.$1T("Color")),n.$G=t.$1T("Name"),n.$1lf=t.$1T("CustomProperties"),n.set_$2fN(t.$1T("BorderColor")),n.$1j6=t.$1T("BorderWidth"),n.$1tO=t.$1T("IsValueShownAsLabel")==="True",n.$1D=t.$1T("Label"),r.add(n);return r},$3OV:function(){for(var t,n,r,u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Kz)),f=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(this.$14h).$5p("Chart/Legends/Legend"),i=0;i<f.get_$m();i++)t=f.get_$I(i),n=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Kz,n.$19b=t.$1T("Alignment"),n.$1Bh=t.$1T("Docking"),n.set_$2sU(t.$1T("ForeColor")),r=t.$1T("Enabled"),n.$9d=!r||r,u.add(n);return u},$3Os:function(){var t=[],f=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(this.$14h).$O("Chart"),i=f.$1T("PaletteCustomColors"),u;if(i)for(var r=i.split(";"),e=r.length,n=0;n<e;++n)u=r[n],Array.add(t,String.format("rgb({0})",u.trim()));return t},$3Y2:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(n).$O("Error");if(t)throw new Microsoft.Crm.Client.Core.Framework.$5p(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_Unsupported_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_Unsupported_Message")).$22P();}};Microsoft.Crm.Client.Core.ViewModels.Controls.$OU=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$OU.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$OU.prototype={$Cu:function(){this.$ki&&this.$ki.get_Count()&&(this.$94.$KG=this.$2UJ(),this.$94.$DW=this.$2UK(0),this.$94.$x2=this.$1yy())}};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_executeAction=Function.createDelegate(this,this.executeAction);this.$$d_$LQ=Function.createDelegate(this,this.$LQ);this.$$d_$1u8=Function.createDelegate(this,this.$1u8);this.$FI=new Array(0);this.$GY=new Array(0);this.$W9={};this.$ZQ={};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype={$70:null,$w9:null,$hr:null,$w8:null,$DU:null,$Ko:null,$OD:"",$6v:"",$1RS:null,$QJ:null,$VZ:null,$Ic:null,$1Bv:!1,$TT:!1,$1W9:!1,$cR:!1,$1t6:!1,$1EY:!0,$1IV:null,get_UsePhoneExperience:function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()?!0:!1},get_RelevanceSearchPageSize:function(){return 25},get_MetadataActionProvider:function(){return this.$Ic},set_MetadataActionProvider:function(n){return this.$Ic=n,n},get_SearchText:function(){return this.$70},set_SearchText:function(n){return this.$70===n?n:(this.$70=n,this.$8("SearchText"),n)},get_SearchTextboxText:function(){return this.$1IV},set_SearchTextboxText:function(n){return this.$1IV=n,n},get_FacetPanePanoramaItemViewModel:function(){return $0.$1(this.$1RS)&&(this.$1RS=this.$2.$7X("FacetPane")),this.$1RS},get_FacetPaneViewModel:function(){return $0.$1(this.get_FacetPanePanoramaItemViewModel())||(this.$QJ=this.get_FacetPanePanoramaItemViewModel().$F.FacetPane),this.$QJ},get_IsCameraAvailable:function(){return!$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u().get_$fY()},get_EntityNames:function(){return this.get_ItemValues()},get_FacetEntityNames:function(){return this.$Ko},set_FacetEntityNames:function(n){return this.$Ko=n,n},get_EntityFacetFilterExpression:function(){return this.$OD},set_EntityFacetFilterExpression:function(n){return this.$OD=n,n},get_FilterExpression:function(){return this.$6v},set_FilterExpression:function(n){return this.$6v=n,n},get_ItemLabels:function(){return this.$GY},set_ItemLabels:function(n){return this.$GY=n,n},get_SearchButtonToolTip:function(){return this.$hr},set_SearchButtonToolTip:function(n){return this.$hr!==n&&(this.$hr=n),n},get_ScanBarcodeToolTip:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_ScanBarcode_Tooltip")},get_SearchCommand:function(){return this.$DU},set_SearchCommand:function(n){return this.$DU=n,n},get_ExternalSearchCommand:function(){return this.$VZ},set_ExternalSearchCommand:function(n){return this.$VZ=n,n},get_SearchWithLabel:function(){return this.$w9},set_SearchWithLabel:function(n){return this.$w9=n,n},get_ItemValues:function(){return this.$FI},set_ItemValues:function(n){return this.$FI=n,n},get_EntityMetadataRetrieved:function(){return this.$1Bv},get_IsActivitiesNotesCheckBoxDisabled:function(){return this.$1EY},set_IsActivitiesNotesCheckBoxDisabled:function(n){return this.$1EY===n?n:(this.$1EY=n,this.$8("CheckBoxEnabled"),n)},get_EntityListViewModels:function(){var n,t,i,r;if($0.$1(this.$JL)){this.$JL=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel));n=this.get_PanoramaContainer().$F;for(t in n)i={key:t,value:n[t]},r=i.value,this.$JL.add(r)}return this.$JL},get_IsRelevanceSearchPage:function(){return this.$TT},set_IsRelevanceSearchPage:function(n){return this.$TT=n,n},get_IsActivityNotesCheckBoxVisible:function(){return this.$TT?!0:!1},get_IsRelevanceSearchEnabled:function(){return this.$1t6},get_ActivityNotesCheckBoxData:function(){return this.$cR},set_ActivityNotesCheckBoxData:function(n){return this.$cR!==n&&(this.$cR=n,this.$8("CheckBoxEnabled")),n},get_IsActivitiesNotesCheckBoxChecked:function(){return this.$cR},get_ActivityNotesCheckBoxLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Facet_Search_Activities_Notes")},get_RelevanceSearchLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_RelevanceSearch_With_Label")},get_CategorySearchLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_Label_Meqf_External_Search_Enabled")},$7H:null,get_$aV:function(){return"LastUsedSearch"},get_$14c:function(){return this.$7H},get_$2oa:function(){return this.get_ItemValues()},get_$2ob:function(){return this.$$d_$1u8},get_SearchTypeViewModel:function(){if($0.$1(this.$w8)){this.$w8=new Microsoft.Crm.Client.Core.ViewModels.$9i;this.get_SearchTypeViewModel().set_ItemLabels([this.get_CategorySearchLabel(),this.get_RelevanceSearchLabel()]);this.get_SearchTypeViewModel().set_ItemValues(["CategorizedSearch","RelevanceSearch"]);var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();n.$h==="relevanceSearchPage"?this.get_SearchTypeViewModel().set_SelectedItem("RelevanceSearch"):this.get_SearchTypeViewModel().set_SelectedItem("CategorizedSearch")}return this.$w8},$18:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh.prototype.$18.call(this);var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();!$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K())&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$WF&&(this.$1t6=!0);n.$h==="relevanceSearchPage"?(this.$TT=!0,this.$w9=this.get_RelevanceSearchLabel(),this.$VZ=Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.$10(this,null)):(this.$TT=!1,this.$w9=this.get_CategorySearchLabel(),this.$DU=Microsoft.Crm.Client.Core.Commands.SearchCommand.$10(this,null));this.$hr=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_SearchButton_Tooltip");$0.$1(this.$2.$Q)||$0.$1(this.$2.$Q.$T)||"SearchText"in this.$2.$Q.$T&&this.set_SearchText(this.$2.$Q.$T.SearchText);this.$2gM()},$1IP:function(n){var i={},t;i.value=n;this.$7H=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Kn(i);t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("SavePersonalization"));t.execute();t.dispose()},$Hg:function(n,t){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p.$hO("global",this);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p.$hO($1M.$Rb(Microsoft.Crm.Client.Core.Framework.$1,1).toLowerCase(),this);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$Hg.call(this,n,t)},$2gM:function(){if(!$0.$1(this.get_ItemValues())&&!(this.get_ItemValues().length<1)){var n=this.$Ic.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)}},$LQ:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();n.$h==="relevanceSearchPage"?(this.$VZ.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()),this.set_Enabled(this.$VZ.get_CanExecute())):(this.$DU.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()),this.set_Enabled(this.$DU.get_CanExecute()));this.executeAction()},$36F:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$LQ)},$37w:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$LQ)},$4e:function(n){this.$2a4(n);this.$2YA()},$1u8:function(n){var e={},o,s,r,t,u,f,i;for(this.$1Bv=!0,o=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84("activitypointer",1),s=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84("annotation",1),r=0;r<n.length;r++)t=n[r],(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(t.$d,1)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$23G(t.$d))&&(e[t.$d]=1,this.$W9[t.$d]=t.$W9&&o?"1":"0",this.$ZQ[t.$d]=t.$ZQ&&s?"1":"0");for(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i=0;i<this.get_ItemValues().length;i++)this.get_ItemValues()[i]in e&&(u.add(this.get_ItemValues()[i]),f.add(this.$GY[i]));u.get_Count()!==this.get_ItemValues().length&&(this.set_ItemValues(u.toArray()),this.$GY=f.toArray(),this.$8("ItemsList"));$0.$1(this.$2.$Q)||$0.$1(this.$2.$Q.$T)||"SearchText"in this.$2.$Q.$T&&(this.$70=this.$2.$Q.$T.SearchText,window.setTimeout(this.$$d_executeAction,500))},executeAction:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();n.$h==="relevanceSearchPage"?!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.$70)&&this.$VZ.get_CanExecute()&&(this.$1W9=!0,this.$VZ.execute()):!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.$70)&&this.$DU.get_CanExecute()&&this.$DU.execute()},scanBarcode:function(n){var t=this;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u().$rS(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$SY.scanBarcode(function(i){t.$2fB(i,n)},function(n,i){if(i.toLowerCase()==="access to the camera has been prohibited; please enable it in the settings app to continue."&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS())t.$267(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(-2147094019)+"\r\n"+Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_MoreInformation"),Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(-2147094022)));else if(n!==1){var r=i.toLocaleLowerCase()==="scan is already in progress"?"scan is already in progress":Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(-2147094019);t.$267(r)}},"ScanBarCode",new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions)})},$2fB:function(n,t){this.$70=n;t()},$267:function(n){n.toLocaleLowerCase()!=="scan is already in progress"&&Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC("",n)},raiseEnterButtonPressEvent:function(n){if(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8z("SearchBoxEnterKeyPress"),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();i.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8z,t)}},$X6:function(){this.executeAction();Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$X6.call(this)},$2XE:function(n,t){var f=n.get_entityLogicalName(),e=f+"pane",i=this.get_PanoramaContainer().$F[e],r,u;if(!$0.$1(i)){if(i.$H9=!0,r=n.get_entityLogicalName()+"List",u=i.$F[r],u.$J!==f){i.set_Visible(!1);return}this.$3T0(n,r,u,t);i.set_Visible(!0)}},$3T0:function(n,t,i,r){i.set_Name(this.$WP[t]);try{this.$TT?(i.set_PageSize(this.get_RelevanceSearchPageSize()),this.$1W9&&(i.$FP(),i.$1s.$FP(),this.$1W9=!1),i.hitHighlightInfo=r):(i.$FP(),i.set_PageSize(3));i.set_IsLoading(!0);var u=Microsoft.Crm.Client.Core.Models.$1D.$B(n.get_data());i.$2u||i.$1O0(u);this.$TT||(i.$1s.$Jg=u.get_$H6()-1);i.$4e(u);i.set_IsLoading(!1);i.set_Visible(!0)}catch(f){}i.set_GridEnabled(!1);i.$pY=!1},$2a4:function(n){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("SearchBoxViewModelBase:UpdateDataModel"),t;try{for(this.$20m(),i.start(),t=0;t<n.$4b.get_Count();t++){var r=n.$4b.get_$I(t),u=r.$S,f=u+"pane";f in this.get_PanoramaContainer().$F&&this.$2XE(r,n.$1EH)}Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LoadedSearchFull")}finally{i.stop();i=null}},$2YA:function(){this.set_IsLoading(!1)},$21C:function(){this.set_IsLoading(!0)},resetFacetPaneViewModelProperties:function(){$0.$1(this.get_FacetPanePanoramaItemViewModel())||this.get_FacetPaneViewModel().resetProperties()},$GX:function(){$0.$1(this.$DU)||(this.$DU.dispose(),this.$DU=null);$0.$1(this.$VZ)||(this.$VZ.dispose(),this.$VZ=null);$0.$1(this.$w8)||(this.$w8.dispose(),this.$w8=null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$LQ);Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh.prototype.$GX.call(this)},$3Bz:function(){},$2Ns:function(){}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Kw=function(n,t){this.$4F=n;this.$4v=t;this.$2y=this.$4F.$2y?this.$4F.$2y:this.$4F.$G;this.$4v&&this.$4v.$4F&&this.$4v.$4F.$DC&&(this.$1sP=!0)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Kw.prototype={$4F:null,$4v:null,$1sP:!1,$2y:null,$c:function(n){var t=this.$1sP?this.$30d(n):null;return t&&Object.getType(t)===String||(t=n.$M.getFormattedValue(this.$2y),t&&Object.getType(t)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A&&(t=t.$Fp),t&&Object.getType(t)===Xrm.Objects.EntityReference&&(t=t.Name),t=t||"",Object.getType(t)!==String&&(t=t.toString())),t.length?t:Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Visualization.EmptyAxisLabel")},$2HY:function(n){var i,t;if(!this.$4F||!this.$4F.$55.$Qr||$0.$1(this.$4F.$55.$Qr.$Ew.$AT.get_$I(this.$4F.$G)))return this.$c(n);i=this.$4F.$55.$Qr.$Ew.$AT.get_$I(this.$4F.$G).$2K;switch(i){case 11:case 13:case 12:case 0:return t=n.$M.getValue(this.$2y),t&&Object.getType(t)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A&&(t=t.$Fp),t&&Object.getType(t)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O&&(t=t.$1i),t=t||0,t.toString(2);default:return this.$c(n)}},$30d:function(n){var t=n.GetValue(this.$2y);if($0.$1(t))return"";switch(this.$4F.$DC.$HR){case 0:return this.$35H(n);case 1:return this.$35N(n);case 2:return this.$35K(n);case 3:return this.$35L(n);case 5:return this.$35I(n);case 4:return this.$35O(n);case 6:return this.$35J(n)}return n.GetValue(this.$2y)},get_$23m:function(){return Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1nq(this.$4F)},$35O:function(n){var t=n.GetValue(this.$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$m9(t,-1,-1,-1)},$35K:function(n){var t=n.GetValue(this.$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m),i=n.GetValue(this.$4v.$Bk.get_$I(0).$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$m9(i,t,-1,-1)},$35H:function(n){var t=n.GetValue(this.$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m),i=n.GetValue(this.$4v.$Bk.get_$I(0).$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m),r=n.GetValue(this.$4v.$Bk.get_$I(1).$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$m9(r,i,-1,t)},$35N:function(n){var t=n.GetValue(this.$4v.$Bk.get_$I(0).$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m),i=n.GetValue(this.$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$m9(t,-1,i,-1)},$35J:function(n){var t=n.GetValue(this.$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$2Dv(t,-1)},$35I:function(n){return n.GetValue(this.$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m)},$35L:function(n){var t=n.GetValue(this.$4v.$Bk.get_$I(0).$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m),i=n.GetValue(this.$2y+Microsoft.Crm.Client.Core.Framework.$b.$6m);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$2Dv(t,i)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$7M=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$7M.get_$39a=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("InteractionCentricMultiEntityChartsFeature")};Microsoft.Crm.Client.Core.ViewModels.Controls.$7M.$33k=function(n){return(Microsoft.Crm.Client.Core.Framework.$3.$1O(n.$2y)?n.$G:n.$2y)+Microsoft.Crm.Client.Core.Framework.$b.$6m};Microsoft.Crm.Client.Core.ViewModels.Controls.$7M.prototype={$94:null,$EH:null,$ki:null,$GI:null,$Q2:null,$fc:!1,get_$hB:function(){return this.$Q2.$3A.$4v},$18:function(n,t,i,r){this.$EH=n;this.$Q2=t;this.$ki=this.$Q2.get_$zK();this.$GI=i;this.$94=r;this.$fc=!0},$1yy:function(){var n=new Array(1);return n[0]=new Microsoft.Crm.Client.Core.Models.$JH,n[0].Title=this.$94.$DW&&this.$94.$DW.length===1?this.$94.$DW[0].Title:"",n},$2UJ:function(){var r=new Array(1),i=null,t,n,u;for(this.$ki.get_Count()>0&&(i=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Kw(this.$ki.get_$I(0),this.$Q2.$3A.$4v)),r[0]=new Microsoft.Crm.Client.Core.Models.$JB,t=new Array(this.$EH.get_$m()),n=0;n<this.$EH.get_$m();n++)u=this.$EH.$19.get_$I(n),i?(t[n]=i.$c(u),t[n]==="-1"&&(t[n]=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ChartAttributeValueMissing"))):t[n]=Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1pp();return i&&(r[0].Title=i.get_$23m()),r[0].Values=t,r},$2UK:function(n){for(var f,y,e,r,h,s,c,d,l,g,u=new Array(this.$GI.get_Count()),t=0;t<this.$GI.get_Count();t++){var i=this.$Q2.$3A.$9S.get_$I(t).$Cp.get_$I(0).$LH,a=i.$2y?i.$2y:i.$G,w=this.$GI.get_$I(t).$1tO,v=!1;if($0.$1(this.$GI.get_$I(t).$1D)||this.$GI.get_$I(t).$1D.toLowerCase()!=="#percent"||(v=!0),f=null,y=Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1nq(i),this.$94.$Sm=!0,u[t]=this.$27p(this.$GI.get_$I(t)),i.$ZO&&i.$55&&i.$55.$AL&&i.$55.$AL.length>0)for(f=new Array(i.$55.$AL.length),e=0;e<i.$55.$AL.length;e++)f[e]=i.$55.$AL[e];else this.get_$hB()&&this.get_$hB().$4F&&(f=new Array(0),Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_$hB().$4F.$G)&&Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_$hB().$4F.$2y)||(Microsoft.Crm.Client.Core.ViewModels.Controls.$7M.get_$39a()?f[0]=this.get_$hB().$4F:this.get_$hB().$4F.$55.$oI?this.$94.$Sm=!1:f[0]=this.get_$hB().$4F));var o=new Array(this.$EH.get_$m()),b=a+Microsoft.Crm.Client.Core.Framework.$b.$6m,k=a,p=0;for(r=0;r<this.$EH.get_$m();r++)h=this.$EH.$19.get_$I(r),o[r]=new Microsoft.Crm.Client.Core.Models.$J8,s=h.GetValue(b),o[r].Value=s?s:0,p+=s?s:0,o[r].FormattedValue=h.$M.getFormattedValue(k)||0,this.$25p(o[r],h,f);w?(c=new Microsoft.Crm.Client.Core.Models.$J9,c.Enabled=!0,d=this,c.LabelFormatter=function(){return""+this.point.FormattedValue},u[t].$1QC=c):v&&(l=new Microsoft.Crm.Client.Core.Models.$J9,l.Enabled=!0,g=this,l.LabelFormatter=function(){return""+Highcharts.numberFormat(parseFloat(this.point.FormattedValue)/parseFloat(p.toString())*100)+"%"},u[t].$1QC=l);u[t].DataPoints=o;u[t].Title=this.$GI.get_$I(t).$G||y;u[t].XAxisNumber=n}return u},$27p:function(n){var t=new Microsoft.Crm.Client.Core.Models.$JC;return t.ChartType=n.$kk,t.Color=n.$KZ,t.BorderColor=n.$1j5,t.BorderWidth=n.$1j6,t.CustomProperties=n.$1lf,t},$25p:function(n,t,i){var f,u,r;if(i){for(f=new Microsoft.Crm.Client.Core.Models.$6s,u=0;u<i.length;u++)r=i[u],f.$2cM(r.$G,t.GetValue(Microsoft.Crm.Client.Core.ViewModels.Controls.$7M.$33k(r)),r.$DC?r.$DC.$HR:-1);n.Aggregators=f.$2zH()}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$9e=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$9e.$3EE=function(n){switch(n){case 2:return new Microsoft.Crm.Client.Core.ViewModels.Controls.$Oz;case 3:return new Microsoft.Crm.Client.Core.ViewModels.Controls.$P1;case 1:default:return new Microsoft.Crm.Client.Core.ViewModels.Controls.$OU}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2R=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.get_$3Dd=function(){return Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1Xo||(Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1Xo=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Calendar_Short_Months").split(",")),Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1Xo};Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$m9=function(n,t,i,r){var f=r>=1&&i<1&&t>=1,e=r<1&&i>=1&&t<1,o=r<1&&i<1&&t>=1,s=i<1&&t<1,u;return f?(u=new Date(n,t-1,r),Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$D.$10u(u,0)):e?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Visualization.Year.Week"),i,n):o?String.format("{0} {1}",Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.get_$3Dd()[t-1],n):s?n.toString():""};Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$2Dv=function(n,t){return t>0?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Visualization.Year.Quarter"),t,n):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("FiscalYear_Format_String_NoSpace"),n)};Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1nq=function(n){var f=n.$55.$Qr.$Ew.$AT.get_$I(n.$G),i=$0.$1(f)?null:f.$1S,t,o;if(i||(i=n.$G),t=i,n.$DC?(o=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6z.$2E7(n.$DC.$HR).replace("-","").toUpperCase(),t=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Visualization.AxisTitle.DateGrouping"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Visualization.AxisTitle.DateGrouping."+o.toUpperCase()),i)):n.$ZO&&!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$19a)&&(t=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Visualization.AxisTitle"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Visualization.AxisTitle."+n.$19a.toUpperCase()),i)),f.$2K===8){var e="",r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K(),u=null;f.$nG?u=r.$11o(r.$1H.$rJ):n.$ZO&&(u=r.$11o(r.$9Y));u&&(e=r.$1H.$Sd===1?u.$I8:u.$H5);Microsoft.Crm.Client.Core.Framework.$3.$9(e)||(t=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Visualization.AxisTitle.CurrencySymbol"),t,e))}return t};Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1pp=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Visualization.EmptyAxisLabel")};Microsoft.Crm.Client.Core.ViewModels.Controls.$8u=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$8u.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$8u.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1c("DuplicateRecordsViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$8u.$2oJ)};Microsoft.Crm.Client.Core.ViewModels.Controls.$8u.$2oJ=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.$8u;return n.$NE=165,n};Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel=function(){this.$$d_$3Gy=Function.createDelegate(this,this.$3Gy);this.$$d_$1Yj=Function.createDelegate(this,this.$1Yj);Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel.prototype={$1eD:null,$6j:null,get_TrackWithoutSettingRegardingLabel:function(){return this.$1eD},set_TrackWithoutSettingRegardingLabel:function(n){return this.$1eD=n,n},get_Message:function(){return this.$6j},set_Message:function(n){return this.$6j=n,this.$8("Message"),n},get_EntityListViewModels:function(){var t,i,r,n;if($0.$1(this.$JL)){this.$JL=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel));t=this.get_PanoramaContainer().$F;for(i in t)r={key:i,value:t[i]},n=r.value,"searchSummaryPane"in n.$F||"searchProgressImagePane"in n.$F||"userInfoPane"in n.$F||this.$JL.add(n)}return this.$JL},get_IsTrackWithoutSettingRegardingHasToBeDisplayed:function(){return!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$1GZ},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$18.call(this),this.$w9=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.get_$Ct()===1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Track_Appointment_Regarding"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Track_Email_Regarding"),this.set_SearchButtonToolTip(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Search_More")),this.$1eD=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Track_Only"),this.$2.add_$7l(this.$$d_$1Yj),this.AddPropertyChangedListener("SearchText",this.$$d_$3Gy))},$3Gy:function(){var n=!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.$70),i=this,t;this.$10t(function(t,i){i.get_Visible()!==n&&i.set_Visible(n)});t=this.$2.$7X("MailAppRecentlyViewedItemList");t&&t.set_Visible(!n)},$10t:function(n){var o=$0.$1(this.$JL),t,i,s,r,u,f,e,h;o&&(this.$JL=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel)));t=this.get_PanoramaContainer().$F;for(i in t){s={key:i,value:t[i]};r=s.value;o&&this.$JL.add(r);u=r.$F;for(f in u)e={key:f,value:u[f]},h=e.value,n(e.key,h)}},$1Yj:function(){this.$2.remove_$7l(this.$$d_$1Yj);this.$2XD();var n=this;this.$10t(function(n,t){var i=Microsoft.Crm.Client.Core.Models.$1D.$I7();t.$2u||t.$1O0(i);t.$1s.$Jg=i.get_$H6()-1;t.$4e(i);t.set_IsLoading(!1);t.set_Visible(!1)})},$2XD:function(){this.$20m();var n=this;this.$10t(function(t,i){i.set_Label(n.$WP[t]);i.set_Name(n.$WP[t]);i.set_EnableViewPicker(!1);i.set_IsLoading(!1)})},$21C:function(){var n=this;this.$10t(function(n,t){t.set_Visible(!1)});this.set_Message("");this.set_IsLoading(!0)},$2YA:function(){var n=!1,t=this;this.$10t(function(t,i){i.set_Visible(i.$1R.get_Count()>0);n=n||i.get_Visible()});n||this.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Search_Page_No_Results_Found"));this.set_IsLoading(!1)},$1cw:function(){if(this.$TT)this.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_RelevantSearch_Failed"));else{var n=this;this.$10t(function(n,t){t.set_Visible(!0)})}this.set_IsLoading(!1)},closePage:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rI().execute()},$GX:function(){this.$2.remove_$7l(this.$$d_$1Yj);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$GX.call(this)},$4e:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$4e.call(this,n);this.$3Mu(n)},$3Mu:function(n){for(var t,i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),f=n.$4b.get_Items(),e=f.length,r=0;r<e;++r)t=f[r],t.get_data().get_count()>0?i.add(t.get_entityLogicalName()+"pane"):u.add(t.get_entityLogicalName()+"pane");i.addRange(u.get_Items());this.get_PanoramaContainer().set_ReorderedPanesNames(i.get_Items())}};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel=function(){this.$$d_$26h=Function.createDelegate(this,this.$26h);this.$$d_$26i=Function.createDelegate(this,this.$26i);this.$$d_$28M=Function.createDelegate(this,this.$28M);this.$$d_$2in=Function.createDelegate(this,this.$2in);this.$12w=Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$1Ww();Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1c("RollupViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$3PQ)};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$1Ww=function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Wv)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Wv=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RollupFieldLastUpdatedLabel")),Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Wv};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$3LO=function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1aH)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1aH=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RollupFieldRecalculatingString")),Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1aH};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$3PQ=function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.prototype={$Rf:!1,get_UseHiddenMask:function(){return this.$Rf},set_UseHiddenMask:function(n){return this.$Rf=n,this.$8("UseHiddenMask"),n},$1BY:!1,get_DidRecalculate:function(){return this.$1BY},set_DidRecalculate:function(n){return this.$1BY=n,n},$uA:null,get_LastUpdated:function(){return this.$uA},set_LastUpdated:function(n){return this.$uA!==n&&(this.$uA=n,this.$8("LastUpdated")),n},get_RollupState:function(){return this.$vx},set_RollupState:function(n){return $0.$1(n)||this.$vx===parseInt(n)||(this.$vx=parseInt(n),this.$8("RollupState")),n},get_WarningMessage:function(){if(this.$iG===32||this.$1II)return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InvalidFieldDefinitionError");switch(this.$vx){case 0:case 1:return"";case 2:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RollupOverflowErrorMessage");case 3:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RollupOtherErrorMessage");case 4:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RollupDefinitionChangedError");case 5:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RollupCalculationLimitReached");case 7:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RollupCurrencyFieldMissingErrorMessage");default:return""}},get_LastUpdatedLabel:function(){return this.$12w},set_LastUpdatedLabel:function(n){return this.$12w!==n&&(this.$12w=n,this.$8("LastUpdatedLabel")),n},get_CalculateFieldCommand:function(){return this.$Nj},set_CalculateFieldCommand:function(n){return $0.$1(this.$Nj)||(this.$Nj.dispose(),this.$Nj=null),this.$Nj=n,n},get_ConfirmRecalculateCommand:function(){return this.$zZ},set_ConfirmRecalculateCommand:function(n){return $0.$1(this.$zZ)||(this.$zZ.dispose(),this.$zZ=null),this.$zZ=n,n},get_FieldName:function(){return this.$Kp},set_FieldName:function(n){return this.$Kp=n,n},$Yn:"",get_FieldNameDate:function(){return this.$Yn},set_FieldNameDate:function(n){return this.$Yn=n,n},$Yo:"",get_FieldNameState:function(){return this.$Yo},set_FieldNameState:function(n){return this.$Yo=n,n},get_RollupInvalid:function(){return this.$1II},set_RollupInvalid:function(n){return this.$1II=n,this.$8("RollupState"),n},$3U7:function(){Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_WarningMessage())||Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RollupUnableToRecalculate"),this.get_WarningMessage())},$LP:function(){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$LP.call(this);this.set_CalculateFieldCommand(Microsoft.Crm.Client.Core.Commands.$7i.$10(this,null));this.set_ConfirmRecalculateCommand(new Microsoft.Crm.Client.Core.Commands.$BR(this.$$d_$2in,105))},$2Zo:function(){var t,n;if($0.$1(this.$2)||$0.$1(this.$2.get_AttributeMetadata()))return null;for(t=this.$2.get_AttributeMetadata(),n=0;n<t.length;n++)if(t[n].get_$1n()===this.$Kp)return t[n];return null},$2in:function(){var n=new Xrm.ConfirmDialogStrings;n.title=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RollupFieldRecalculateString");n.text=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("RollupFieldLastUpdatedLabelWithDate"),this.$12w,this.$uA);n.confirmButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_OK_Text");n.cancelButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Cancel_Text");Xrm.Dialog.openConfirmDialog(n,null,this.$$d_$28M,null)},$28M:function(){this.$Nj.execute();this.$1BY=!0},get_IsRecalculateEnabled:function(){var n=!1,t=this.$2Zo();return $0.$1(t)||(n=t.get_$2M3()),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()&&!Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)&&this.$iG!==32&&!this.$1II&&!this.$Rf&&!n},$26i:function(n){n.hasValue(this.$Yn)&&this.get_ModelContext().SetValue(this.$Yn,n.getValue(this.$Yn));n.hasValue(this.$Yo)&&this.get_ModelContext().SetValue(this.$Yo,n.getValue(this.$Yo));n.hasValue(this.$Kp)&&this.get_ModelContext().SetValue(this.$Kp,n.getValue(this.$Kp));this.set_LastUpdatedLabel(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$1Ww());this.$3U7()},$26h:function(n){this.set_LastUpdatedLabel(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$1Ww());this.$R0(n)},$Nj:null,$zZ:null,$Kp:null,$GX:function(){this.set_CalculateFieldCommand(null);this.set_ConfirmRecalculateCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$vx:0,$iG:0,$1II:!1,get_SourceTypeMask:function(){return this.$iG},set_SourceTypeMask:function(n){return this.$iG=n,this.$8("RollupState"),this.$8("SourceTypeMask"),n},tryGetAlertMessage:function(){return this.get_WarningMessage()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$8t=function(){this.$$d_$1GF=Function.createDelegate(this,this.$1GF);this.$$d_$1Yj=Function.createDelegate(this,this.$1Yj);Microsoft.Crm.Client.Core.ViewModels.Controls.$8t.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$8t.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1c("DraftsViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$8t.$2oE)};Microsoft.Crm.Client.Core.ViewModels.Controls.$8t.$2oE=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.$8t;return n.$NE=162,n};Microsoft.Crm.Client.Core.ViewModels.Controls.$8t.prototype={$1Qp:null,$18:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh.prototype.$18.call(this);this.$2.add_$7l(this.$$d_$1Yj)},$Hg:function(n,t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$1Qo(this.$$d_$1GF);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$Hg.call(this,n,t)},$13j:function(n,t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().remove_$1Qo(this.$$d_$1GF);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$13j.call(this,n,t)},$1Yj:function(){this.$2.remove_$7l(this.$$d_$1Yj);this.$2XD();this.$1Qp=this.get_PanoramaContainer().$F.draftsStatusPane},$1GF:function(n,t){var o=!t.$Ki,i,r,s,u,f,e,h,c;if(o){i=this.get_PanoramaContainer().$F;for(r in i)if(s={key:r,value:i[r]},u=s.value,u!==this.$1Qp){f=u.$F;for(e in f)h={key:e,value:f[e]},c=h.value,c.set_Visible(!1)}}this.$1Qp.set_Visible(o)},$2XD:function(){var n,t,i,r,f;this.$20m();n=this.get_PanoramaContainer().$F;for(t in n){var e={key:t,value:n[t]},o=e.value,u=o.$F;for(i in u)r={key:i,value:u[i]},f=r.value,f.set_Label(this.$WP[r.key])}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh.prototype={refreshCommand:null,$1Gb:null,$JL:null,$uC:null,$WP:null,$12x:null,$AG:null,$2D:!1,$NE:0,get_PanoramaContainer:function(){return $0.$1(this.$1Gb)&&(this.$1Gb=this.$2.$7X("PaneContainer"),this.$1Gb.set_Width("100%")),this.$1Gb},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.refreshCommand=new Microsoft.Crm.Client.Core.Commands.$BR(this.$$d_$X6,this.$NE)},$GX:function(){$0.$1(this.refreshCommand)||(this.refreshCommand.dispose(),this.refreshCommand=null);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},get_ActionProvider:function(){return this.$AG},set_ActionProvider:function(n){return this.$AG=n,n},get_ListDisplayNames:function(){return this.$uC},set_ListDisplayNames:function(n){return this.$uC=n,n},get_ListUniqueNames:function(){return this.$12x},set_ListUniqueNames:function(n){return this.$12x=n,n},get_ListUniqueNameToDisplayNames:function(){return this.$WP},set_ListUniqueNameToDisplayNames:function(n){return this.$WP=n,n},get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return this.$2D!==n&&(this.$2D=n,this.$8("IsLoading")),n},$20m:function(){if($0.$1(this.$WP)){this.$WP={};for(var n=0;n<this.$uC.length;n++)this.$WP[this.$12x[n]]=this.$uC[n]}},$1cw:function(){this.set_IsLoading(!1)},$5O:function(){this.$1cw()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$L0=function(n){this.$CN=n};Microsoft.Crm.Client.Core.ViewModels.Controls.$L0.prototype={$CN:null,$1Ur:function(n){this.$1jf();this.$2jy(n)},$1jf:function(){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),u=this.$CN.get_$2hk(),i,f,r,e,n;for(i in u)f={key:i,value:u[i]},r=f.value,r&&t.addRange(Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1al(r).toArray());for(e=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$4M),n=0;n<t.get_Count();n++)e.$1k3(t.get_$I(n));this.$CN.$27W()},$2jy:function(n){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ProxyProcessHelper:CreateChildViewModels:"+n.Name),t,r;i.start();t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(n.TypeName);t.set_Root(this.$CN.get_$4K());Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$3Xi(t,n,this.$CN.get_$3DO());this.$CN.set_$2D6(t);this.$CN.$8V(t.get_Name(),this.$CN.get_$2D6());r=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(n);this.$CN.set_$2j7(r);this.$CN.$3F7();i.stop()},$22j:function(n){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&Microsoft.Crm.Client.Core.ViewModels.Controls.$8M.isInstanceOfType(this.$CN))if(n)this.$X7();else{var i=this.$CN,t=i.$2.$7X("PaneContainer");!$0.$1(t)&&Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.isInstanceOfType(t)&&t.$16x(!0)}},$X7:function(){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&Microsoft.Crm.Client.Core.ViewModels.Controls.$8M.isInstanceOfType(this.$CN)){var t=this.$CN,n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p;$0.$1(n)||(n.$2i0(),n.$3BW(t.get_$zb(),t))}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Un=function(){this.$$d_$3Ef=Function.createDelegate(this,this.$3Ef);Microsoft.Crm.Client.Core.ViewModels.Controls.$Un.initializeBase(this);this.$Op=new Microsoft.Crm.Client.Core.ViewModels.$5B;this.$Op.AddPropertyChangedListener("FlyOutExpanded",this.$$d_$3Ei)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Un.prototype={$Op:null,$1AM:null,get_NavigationViewModel:function(){return this.$Op},get_ChildNavigationViewModels:function(){return this.$1AM},set_ChildNavigationViewModels:function(n){return this.$1AM=n,n},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Ul.prototype.$8V.call(this,n,t);var i=this.$F[n];i.AddPropertyChangedListener("Enabled",this.$$d_$3Ef)},$1HY:function(n){n.rpcl("Enabled",this.$$d_$3Ef);Microsoft.Crm.Client.Core.ViewModels.$Ul.prototype.$1HY.call(this,n)},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this);this.$Op.RemovePropertyChangedListener("FlyOutExpanded",this.$$d_$3Ei);this.$Op.dispose();this.$Op=null},$3Ef:function(){this.$8("ActiveChildViewModels")}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ba=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Ba.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ba.prototype={$GV:null,set_$4l:function(n){return!$0.$1(this.$GV)&&!$0.$1(n)&&this.$GV.get_$6A()===n.get_$6A()?n:(this.$GV=n,this.$8("GlobalPathAndActiveStage"),n)},$1Xv:null,$3E1:function(n,t,i){return n?n===1?(this.$3Sv(t,i),!0):!0:!1},$2aA:function(n){this.$3XB(n.$Cr);this.set_$4l(new Mscrm.ProcessControlShared.ObjectModels.$I8(new Mscrm.ProcessControlShared.ObjectModels.$2X(n.$CU),n.$KP))},$3Sv:function(n,t){var i=new Mscrm.ProcessControlShared.ObjectModels.$JZ;i.$Cr=new Array(0);i.$KP=n;i.$CU=t;this.$2aA(i)},$3XB:function(n){var i;this.$1Xv={};for(var r=n,u=r.length,t=0;t<u;++t)i=r[t],this.$1Xv[i.EntityLogicalName]=new Microsoft.Crm.Client.Core.Framework.Guid(i.Id)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Bb=function(){this.$$d_$25C=Function.createDelegate(this,this.$25C);this.$$d_$1wK=Function.createDelegate(this,this.$1wK);this.get_AttributeMetadata=this.get_$1O4;this.set_AttributeMetadata=this.set_$1O4;Microsoft.Crm.Client.Core.ViewModels.Controls.$Bb.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.Controls.$Bb.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Bb.prototype={get_$BV:function(){return this.$2.$7X("ProcessManager")},$S:null,get_EntityLogicalName:function(){return this.$S},set_EntityLogicalName:function(n){return this.$S=n,n},$54:null,get_AttributeFieldNames:function(){return $0.$1(this.$54)&&(this.$54=new Array(0)),this.$54},set_AttributeFieldNames:function(n){return n===this.$54?n:(this.$54=n,this.$8("AttributeFieldNames"),n)},$1r:null,get_$1O4:function(){return this.$1r},set_$1O4:function(n){return n===this.$1r?n:(this.$1r=n,this.$8("AttributeMetadata"),n)},get_RetrieveOptions:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI():Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm()},$MX:null,get_GetModelActionProvider:function(){return this.$MX},set_GetModelActionProvider:function(n){return this.$MX=this.$2.$o===40&&this.$2.$7s===1?null:n,n},get_ExternalContext:function(){return null},$18:function(){(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$S===this.$J)&&(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.$2)&&this.$2.$fu?this.$1u3():this.$2UO(),this.$2.add_$If(this.$$d_$1wK))},$R0:function(n){Microsoft.Crm.Client.Core.Framework.$66.$1WD(n.$z)||Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$R0.call(this,n)},$2go:function(n,t){return t},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this);$0.$1(this.$2)||this.$2.remove_$If(this.$$d_$1wK)},$2UO:function(){var n,u,t,i,r;if(!$0.$1(this.get_ModelContext())&&(n=this.get_ModelContext(),!$0.$1(n)&&!$0.$1(n.$M)&&!$0.$1(n.$M.$JM)&&(u=this.$2.$13,t=u.data.entity,this.$S===t.get_$2of()))){this.$2LZ();t.$1Xa?this.$25C(null):t.$x5=this.$$d_$25C;return}if(!$0.$1(this.$MX)){if(this.$2LZ(),i=this.$MX.$4Z(),!i)return;r=this;i.add_$8C(function(){r.get_$BV()&&r.$1u3()});Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(i)}},$25C:function(){var n=this.get_ModelContext();$0.$1(n)||$0.$1(n.$M.$JM)||this.$1u3()},$1u3:function(){this.get_$BV().set_$2Ng(!0);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$wo(this.get_$BV().get_ViewModelId())},$1wK:function(){Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.$2)&&this.$2.$fu||this.$2UO();this.get_$BV().$3WT()},$2LZ:function(){var n,i,r,o,t,s,u,e;if(!$0.$1(this.get_$BV())&&!$0.$1(this.get_$BV().get_$7d())&&(n=this.get_$BV().get_$7d(),!$0.$1(n.$N0)&&!$0.$1(n.$N0.ChildViewModels))){i=n.$N0.ChildViewModels;for(r in i)if((o={key:r,value:i[r]},t=o.value,t.TypeName==="ProcessEntity")&&(s=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"EntityLogicalName",t.Properties),s===this.$S&&(u=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(Array,"AttributeFieldNames",t.Properties),!$0.$1(u))))for(var h=u,c=h.length,f=0;f<c;++f)e=h[f],Array.contains(this.get_AttributeFieldNames(),e)||Array.add(this.get_AttributeFieldNames(),e)}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$47=function(){var n,t;this.$$d_$3Fv=Function.createDelegate(this,this.$3Fv);this.$$d_$1GE=Function.createDelegate(this,this.$1GE);this.$$d_$iu=Function.createDelegate(this,this.$iu);Microsoft.Crm.Client.Core.ViewModels.Controls.$47.initializeBase(this);n=this;this.$1H5=function(){n.$8("ProcessDescriptor")};t=this;this.$1Du=function(){t.$8("GlobalActiveStage")};this.$C0=1;this.$pK={};this.$1JH=0};Microsoft.Crm.Client.Core.ViewModels.Controls.$47.$uX=function(n){return!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()&&Xrm.Utility.isMocaOfflineFeatureEnabled()&&Xrm.Utility.isEntityOfflineSyncEnabled(n)};Microsoft.Crm.Client.Core.ViewModels.Controls.$47.prototype={$pK:null,$1JH:0,$1H5:null,$1Du:null,$DK:!1,$1Zw:null,get_$C6:function(){return $0.$1(this.$F)?null:this.$F.ProcessActiveStageManager},get_$1Zx:function(){if($0.$1(this.$1Zw)){var n=this.$2.$7X("ProxyProcessControl");this.$1Zw=new Microsoft.Crm.Client.Core.ViewModels.Controls.$L0(n)}return this.$1Zw},$Jd:!0,$1gH:!1,get_$7d:function(){return $0.$1(this.$F)?null:this.$F.ProcessMetadataManager},get_$AW:function(){var n=this.get_$7d();return $0.$1(n)?null:n.$O5},get_$8B:function(){return this.get_$7d().get_$8B()},set_$8B:function(n){return this.get_$7d().$rN=n,n},get_$R9:function(){return this.get_$7d().$P2},get_$14i:function(){return this.get_$7d().$N0},get_$2SC:function(){return this.get_$7d().$1xk},$CQ:null,get_SelectedStageId:function(){return this.$CQ},set_SelectedStageId:function(n){n=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n).toString();var t=!this.$CQ;return this.$CQ===n?n:(this.$CQ=n,this.$CQ&&!this.$DK&&this.$2s6(this.$Dp(this.$CQ)),this.$8("SelectedStageId"),t||this.get_$1Zx().$X7(),n)},$1PH:null,get_$2iG:function(){return $0.$1(this.$1PH)&&(this.$1PH=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Ky(this)),this.$1PH},$LF:null,set_$2Nl:function(n){return this.$LF=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n).toString(),n},get_$1bz:function(){return this.get_$7d().$34J(this.$CQ)},get_$4l:function(){return this.get_$C6().$GV},set_$4l:function(n){return this.get_$C6().set_$4l(n),n},get_$Cr:function(){return this.get_$C6().$1Xv},get_$Cw:function(){return $0.$1(this.$I5)?this.$Oc:this.$I5},get_$v9:function(){return this.$fU},$5C:null,set_$CB:function(n){return this.$5C=n,this.$8("ErrorMessage"),n},$I5:null,$Qo:!1,set_$2Ng:function(n){return n===this.$Qo?n:(this.$Qo=n,this.$8("LoadComplete"),n)},$aX:!1,get_PopoverVisibility:function(){return this.$aX},set_PopoverVisibility:function(n){return this.$aX!==n&&(this.$aX=n,this.$8("PopoverVisibility"),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||this.$3XT()),n},$3XT:function(){$0.$1(this.$2)||(this.$aX?this.$2.$Nz.$1Aj("panoramaContainerHidden")||this.$2.$Nz.$2i("panoramaContainerHidden"):this.$2.$Nz.$DR("panoramaContainerHidden"))},add_$2QW:function(n){this.$2I("OnReflow",n)},remove_$2QW:function(n){this.$4N("OnReflow",n)},add_$13y:function(n){this.$2I("OnHasMultipleBPFInstancesInOffline",n)},remove_$13y:function(n){this.$4N("OnHasMultipleBPFInstancesInOffline",n)},add_$zS:function(n){this.$2I("ClearProcess",n)},remove_$zS:function(n){this.$4N("ClearProcess",n)},$hE:null,set_ProcessStateChangeCompleted:function(n){return this.$hE=n,n},$Oc:null,get_IntrinsicStageId:function(){return this.$Oc},set_IntrinsicStageId:function(n){return this.$Oc===n?n:(this.$Oc=n,this.$2Xa(),this.$8("IntrinsicStageId"),n)},$fU:null,get_IntrinsicTraversedPath:function(){return this.$fU},set_IntrinsicTraversedPath:function(n){return this.$fU=n,this.$8("IntrinsicTraversedPath"),n},$Hk:null,get_ProcessId:function(){return this.$Hk},set_ProcessId:function(n){return this.$Hk===n?n:(this.$Hk=n,!$0.$1(n)&&($0.$1(this.$LF)||new Microsoft.Crm.Client.Core.Framework.Guid(this.$LF).toString()!==n.toString())&&this.$3Ov(),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&this.$2.$7s===1||Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1yH(this.get_ViewModelId()),this.$8("ProcessId"),n)},$1H4:null,get_ProcessDefinitionActionProvider:function(){return this.$1H4},set_ProcessDefinitionActionProvider:function(n){return this.$1H4=n,n},get_BusinessProcessFlowInstanceState:function(){return this.$16},set_BusinessProcessFlowInstanceState:function(n){return this.$16=n,n},get_BusinessProcessFlowInstanceStatus:function(){return this.$C0},set_BusinessProcessFlowInstanceStatus:function(n){return this.$C0=n,n},$16X:null,$vL:null,$N0:null,$E2:null,$1xj:null,$16:0,$C0:0,$18:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("ProcessManager:Initialize",0,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$2Xa();this.$3TG();!$0.$1(this.$2)&&!$0.$1(this.$2.$A1)&&"PopoverVisibilityAttribute"in this.$2.$A1&&this.set_PopoverVisibility(this.$2.$A1.PopoverVisibilityAttribute);this.$3OA()},$2Uo:function(){if($0.$1(this.$16X)){this.$16X=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$64,Microsoft.Crm.Client.Core.Framework.$4);var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFilteredProcesses",null),t=this;n.OnSuccess=function(n){if(Microsoft.Crm.Client.Core.ViewModels.$64.isInstanceOfType(n))t.$16X.resolve(n);else{t.$16X.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("RetrieveSwitchProcessData failed - response is unexpected."));return}};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)}return this.$16X.promise()},$3Ox:function(){var n,r,t,i;return $0.$1(this.$vL)&&(this.$vL=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),$0.$1(this.get_ModelContext())?this.$vL.resolve({}):(n={},r=new Microsoft.Crm.Client.Core.Framework.Guid(this.get_ModelContext().get_Id()),n.entityLogicalName=this.$J,n.currentEntityId=r.toString(),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleProcessInstances",n),i=this,t.OnSuccess=function(n){if(Object.isInstanceOfType(n))i.$vL.resolve(n);else{i.$vL.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("RetrieveProcessInstances failed - response is unexpected."));return}},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t))),this.$vL.promise()},$368:function(n){var u=null,o=null,r=null,i,t;if(IsNull(n.toString())||("ProcessDefinitions"in n&&(o=n.ProcessDefinitions),"ProcessInstances"in n&&(r=n.ProcessInstances)),r&&r.length>0){u={};for(var e=r,s=e.length,f=0;f<s;++f)i=e[f],t=new Mscrm.ProcessControlShared.ObjectModels.$Jd,t.ProcessInstanceID=i.ProcessInstanceId,t.ProcessDefintionID=i.ProcessDefinitionId,t.ProcessDefintionName=i.ProcessDefinitionName,t.ProcessInstanceName=i.Title,t.StatusCodeName=i.StatusCodeName,t.CreatedOn=i.CreatedOn,u[t.ProcessInstanceID]=t}return u},$1GE:function(n){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ProcessManager:OnDescriptorLoaded:");if(i.start(),this.set_$2Nl(null),this.$3w){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$wo(this.get_ViewModelId());return}if($0.$1(this.$Hk)&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_ModelContext())&&!this.get_ModelContext().$P4&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()){var r=this.get_ModelContext(),t=null,u=this;t=function(){r.remove_$9k(t);u.$2Po(n)};r.add_$9k(t)}else this.$2Po(n);i.stop()},$2Po:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ProcessManager:OnDescriptorLoadedInternal:");if(t.start(),this.$3w){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$wo(this.get_ViewModelId());return}if($0.$1(n.Properties)){$0.$1(this.$Hk)||(this.$2aI(n),this.get_$7d().$1cV(n),this.get_$7d().$2LJ(new ProcessControl.Reflow.$MF(this.get_$C6())),this.$8("ProcessObjectModel"),this.$N0=n);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$wo(this.get_ViewModelId());this.set_SelectedStageId(null);return}this.$N0=n;this.$2X9();t.stop()},$3WT:function(){this.$2a1();this.$2JK()},$35a:function(){this.$1Dz("ClearProcess",this,null)},$3Fv:function(n){throw Error.create("retrieve process control defintion has failed:\n\n"+n.$E);},$2Jx:function(n){return this.get_$7d().$2Jx(n)},$12l:function(n){var i,t,r,u;if($0.$28(this.get_$4l())||Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_$4l().get_$6A()))return!1;for(i=0;i<this.get_$R9().steps.get_Count();i++)if(t=this.get_$R9().steps.get_$I(i),Microsoft.Crm.Workflow.ObjectModel.$69.isInstanceOfType(t))for(r=0;r<t.steps.get_Count();r++){if(u=t.steps.get_$I(r),u.id===this.get_$4l().get_$6A())return!1;if(u.id===n)return this.get_$7d().$1Zj>1&&$0.$1(this.get_$Cr()[t.get_EntityLogicalName()])?!1:!0}return!1},$1tF:function(n){if($0.$28(this.get_$4l())||Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_$4l().get_$6A()))return!0;var t=this.get_$7d().$BM(n);return $0.$1(t)?!0:this.get_ModelContext().get_ModelName()===t.get_EntityLogicalName()?this.$2.get_IsLocked()?!0:!1:$0.$1(this.get_$Cr())||$0.$1(this.get_$Cr()[t.get_EntityLogicalName()])},$1AJ:function(n){return this.get_$7d().$1AJ(n)},$zH:function(n){if(this.$1AJ(n)){var t=this.get_$AW().$Ja(n);return this.get_$2iG().$zH(t)}return!1},$BM:function(n){return this.get_$7d().$BM(n)},$26t:function(n){var r,u,t,i;if(!this.$tZ()||!this.$1AJ(n))return!1;for(r=this.$BM(this.get_$4l().get_$6A()),u=this.$BM(n),t=0;t<this.get_$R9().steps.get_Count();t++)if(i=this.get_$R9().steps.get_$I(t),Microsoft.Crm.Workflow.ObjectModel.$69.isInstanceOfType(i)){if(i===u)return!0;if(i===r)return!1}return!1},$1Of:function(n){return this.$26r()?this.get_$7d().$1Of(n):!1},$26s:function(n){return this.$tZ()?this.$zH(n):!1},$1AF:function(n){return this.$26r()?this.get_$7d().$1AF(n):!1},$2zD:function(){for(var n,e,o,i=null,r=null,u=new(Xrm.XrmCollection$1.$$(Xrm.XrmProcessStage)),f=this.get_$AW().get_$F4(),s=f.length,t=0;t<s;++t)n=f[t],i=this.$Dp(n),e=this.$BM(n),o=!$0.$1(this.get_$4l())&&!$0.$1(this.get_$4l().get_$6A())&&n===this.get_$4l().get_$6A().toString()?1:0,r=Microsoft.Crm.Client.Core.ViewModels.$3k.$vN(i,e,o),u.add(r);return u},$Ja:function(n){return this.get_$7d().$Ja(n)},$3TV:function(n,t){var r=n.toLowerCase(),u,i;Xrm.$2G.toString(this.$C0).toLowerCase()!==n.toLowerCase()&&(u=this,i=function(){},r===Xrm.$2G.toString(1).toLowerCase()?this.$1C5(0,1,this.$1Tz(0,1,t),i):r===Xrm.$2G.toString(3).toLowerCase()?this.$1C5(1,3,this.$1Tz(1,3,t),i):r===Xrm.$2G.toString(2).toLowerCase()&&this.$1C5(1,2,this.$1Tz(1,2,t),i))},$W4:function(n){return this.get_$7d().$W4(n)},$Dp:function(n){var t=this.get_$7d();return $0.$1(t)?null:t.$Dp(n)},$1jQ:function(n,t){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x?!1:!$0.$1(this.get_$7d())&&(this.$LF!==n||!$0.$1(t))},$iu:function(n){$0.$1(this.get_$C6())||this.get_$C6().$2aA(n);this.$3Wa();this.$E2=n.$1OT;this.$1xj=n.$1jC;$0.$1(n.$1OU)||(this.$16=Number.parseInvariant(n.$1OU));$0.$1(n.$1OV)||(this.$C0=Number.parseInvariant(n.$1OV),this.$8("ProcessStatus"))},$GX:function(){this.get_$7d().RemovePropertyChangedListener("ProcessDescriptor",this.$1H5);this.$1H5=null;this.get_$C6().RemovePropertyChangedListener("GlobalPathAndActiveStage",this.$1Du);this.$1Du=null;this.$pK=null;this.$1JH=0;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$LP:function(){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$LP.call(this);this.$2X9()},$1y9:function(n,t,i){var r=this.$5j("OnReflow"),u;r&&(u=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Oy(n,t,i),r(this,u))},$1iJ:function(n){var t=Xrm.ProcessResponse.toString(1),i,r;if(this.$tZ()&&this.$2Mn()&&(r=this.$2gj(i={val:t}),t=i.val,r)){var u=this.$Ja(this.get_$Cw().toString()),f=this.$1iF(n),e=new Mscrm.ProcessControlShared.ObjectModels.$2X(Mscrm.ProcessControlShared.ObjectModels.$2X.$OV(this.get_$AW().get_$F4(),u.stageId));this.$Iw(u,e,"Next",f)}else{$0.$1(n)||n(t);return}},$265:function(n){var t=Xrm.ProcessResponse.toString(1),r,u,i,f;if(this.$tZ()&&this.$2Mn()&&(u=this.$2gk(r={val:t}),t=r.val,u))i=this.$W4(this.get_$Cw().toString()),i&&(f=this,this.$wN(i.id,function(t){n(t)},!1));else{$0.$1(n)||n(t);return}},$wN:function(n,t,i){var u=this.$Dp(n),r,a,f,e,c,s,l,h,v;if($0.$1(u)||!this.$tZ()){$0.$1(t)||t(Xrm.ProcessResponse.toString(1));return}if(r=this.$BM(u.id),$0.$1(r)||Microsoft.Crm.Client.Core.Framework.$3.$9(r.get_EntityLogicalName())||$0.$1(this.$2.get_ModelContext())){$0.$1(t)||t(Xrm.ProcessResponse.toString(1));return}if(a=Mscrm.ProcessControlShared.ObjectModels.$2X.$39Z(this.get_$AW().get_$F4(),n.toLowerCase()),!a){$0.$1(t)||t(Xrm.ProcessResponse.toString(2));return}if(e=new Mscrm.ProcessControlShared.ObjectModels.$2X(Mscrm.ProcessControlShared.ObjectModels.$2X.$OV(this.get_$AW().get_$F4(),u.stageId)),c=this.get_$4l().get_$CU().$39b(u.stageId),c&&(i||!this.$2.get_ModelContext().$FH())){if(s=this.$BM(this.get_$4l().get_$6A()),r.get_EntityLogicalName()===s.get_EntityLogicalName()){f=this.$1iF(t);Microsoft.Crm.Client.Core.ViewModels.Controls.$47.$uX(r.get_EntityLogicalName())&&(l=this.get_$1K().$M.$DI,$0.$1(l)||this.$22g(l,e.get_$Gb(),u.id));this.$Iw(u,e,null,f);return}if($0.$1(this.get_$Cr()[r.get_EntityLogicalName()]))$0.$1(t)||t(Xrm.ProcessResponse.toString(1));else if(h=this.get_$Cr()[r.get_EntityLogicalName()],v=this.get_$Cr()[s.get_EntityLogicalName()],this.$DK=!0,f=this.$1iF(t),Microsoft.Crm.Client.Core.ViewModels.Controls.$47.$uX(r.get_EntityLogicalName()))this.$35z(u,r,s,f,e,h,v);else{var w=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$E2)?"":this.$E2,o=this,y=this,b=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(null,null,{TargetViewModel:this,EntityId:h,EntityLogicalName:r.get_EntityLogicalName(),ProcessControlId:new Microsoft.Crm.Client.Core.Framework.Guid(this.$LF),ProcessInstanceId:w,NewStageId:new Microsoft.Crm.Client.Core.Framework.Guid(u.id),TraversedPath:e.get_$Gb(),SuccesCallback:function(){var n=o.$Dp(o.get_$4l().get_$6A());o.set_$4l(new Mscrm.ProcessControlShared.ObjectModels.$I8(e,u.id));o.$m5(null,n);o.$DK=!1;o.$m6(Xrm.ProcessResponse.toString(0),f);Xrm.Utility.openEntityForm(r.get_EntityLogicalName(),h.toString())},FailureCallback:function(){y.$DK=!1;y.$m6(Xrm.ProcessResponse.toString(1),f)}}),p=new Microsoft.Crm.Client.Core.Commands.$9c(b);p.execute();p.dispose()}}else $0.$1(t)||(c?t(Xrm.ProcessResponse.toString(11)):t(Xrm.ProcessResponse.toString(1)))},$22v:function(n,t){var i=this,r=function(){i.$hE("Failure")};this.$1C5(n,t,this.$1Tz(n,t,this.$hE),r)},$1kI:function(){var f=this.$Dp(this.get_$4l().get_$6A()),r=this.$2,e=this.$fU,t=this.$2.$7X("ProxyProcessControl"),i=null,n,u;!$0.$1(t)&&this.get_$C6().$GV.get_$6A()in t.$b8&&(i=t.$b8[this.get_$C6().$GV.get_$6A()]);!$0.$1(i)&&i.$16L()&&(n=this,u=this,r.$Iw(70).then(function(t){t&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("UpdateProcessStatusToFinish",0,n.get_ViewModelId()),n.$hE=null,n.$22v(1,2),n.get_$1Zx().$X7())},function(){}))},$24I:function(){this.$C0!==3&&this.$22v(1,3)},$26x:function(){var n=this.get_$1bz(),t=null,i,r;return($0.$1(this.get_$4l())||(t=this.$Dp(this.get_$4l().get_$6A())),t===n)?!1:!IsNull(t)&&(i=this.$BM(n.stageId),r=this.$BM(t.stageId),i.get_EntityLogicalName()===r.get_EntityLogicalName())?this.$12l(n.stageId):this.$12l(n.stageId)&&!this.$1tF(n.stageId)},$1Tz:function(n,t,i){var r=this;return function(){r.$16=n;r.$C0=t;r.$8("ProcessStatus");r.get_$1Zx().$X7();i&&i(Xrm.$2G.toString(t));r.$2s4(Xrm.$2G.toString(r.$C0))}},$2MQ:function(){if(this.$1t0()){if($0.$1(this.get_$4l()))return!1;var n=this.$Dp(this.get_$4l().get_$6A());return!(this.$1Of(n.stageId)||this.$1AJ(n.stageId))}return!1},$2Sl:function(){this.$C0!==1&&(this.$hE=null,this.$22v(0,1))},$1C5:function(n,t,i,r){var e=this.$BM(this.get_$4l().get_$6A()),o=Microsoft.Crm.Workflow.Utils.$e.$9A(this.get_ModelContext().get_Id()),u={},f;u.entityid=o.toString();u.entitylogicalname=e.get_EntityLogicalName();u.state=n;u.status=t;u.bpfInstanceId=this.$E2;f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateBusinessProcessFlowState",u);f.OnSuccess=i;f.OnFailure=r;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,f)},$2Wz:function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.Guid(this.get_ModelContext().get_Id());t=Microsoft.Crm.Client.Core.Framework.$3.$9(t)?"":t;var u=this,f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(null,null,{TargetViewModel:this,EntityId:i.toString(),EntityLogicalName:this.$J,ProcessControlId:n,ProcessInstanceId:t,SuccesCallback:function(){Xrm.Utility.openEntityForm(u.$J,i.toString())}}),r=new Microsoft.Crm.Client.Core.Commands.$9c(f);return r.execute(),r.dispose(),0},$m5:function(n,t){var i,o;if(!$0.$1(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P)&&(i=Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$2J0(),i&&i.get_Count()>0)){var r=this.$BM(t.id),u=this.get_$4l().get_$6A()===t.id?1:0,s=Microsoft.Crm.Client.Core.ViewModels.$3k.$vN(t,r,u),f=this.$W4(t.id.toString()),e=null;f&&(e=Microsoft.Crm.Client.Core.ViewModels.$3k.$vN(f,r,u));o=new Microsoft.Crm.Client.Core.ViewModels.Events.$MC(n,s,e,null);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$3Pa(o)}},$2s4:function(n){var i,t;this.get_$C6()&&this.get_$C6().$GV&&(i=this.$Dp(this.get_$4l().get_$6A()),$0.$1(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P)||(t=Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$1qb(),t&&t.get_Count()>0&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$3PZ(n)))},$2s6:function(n){var t;if(!$0.$1(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P)&&(t=Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$2J1(),t&&t.get_Count()>0)){var i=this.$BM(n.id),r=n.id===this.get_$Cw().toString()?1:0,u=Microsoft.Crm.Client.Core.ViewModels.$3k.$vN(n,i,r),f=new Microsoft.Crm.Client.Core.ViewModels.Events.$MC(null,u,null,null);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$3Pb(f)}},$1o9:function(){var n={};return n.PopoverVisibilityAttribute=this.$aX,n},$3Q5:function(){var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){window.setTimeout(function(){$0.$1(n.get_$7d())||n.get_$7d().set_$14i(n.$N0)},0)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1rj,"InitializeProcessControlViewModel")},$22g:function(n,t,i){var e=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$7p,r=n.fields,f,u;r.traversedpath=t;r.processstageid=i;f=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6c(r,3,"businessprocessflowinstance");u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6c));u.add(f);e.$oR(u,null,!1)},$3OA:function(){var n,i,r;if($0.$1(this.$J)||!Microsoft.Crm.Client.Core.ViewModels.Controls.$47.$uX(this.$J)||$0.$1(this.get_ModelContext())||$0.$1(this.get_ModelContext().get_Id()))this.$1xz(!1);else{var f=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$7p,t=new Array(0),e=this.get_ModelContext().get_Id();for(n=1;n<=5;n++)i=String.format("entity{0}id",n),r=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM(i,e,1,0),t.push(r);var o=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IL(t),u=this,s=this;f.$6I("businessprocessflowinstance",o).then(function(n){!$0.$1(n)&&n.rows.length>1?u.ShowRecordMultiBPFInstanceOfflineMessageDialog():u.$1xz(!1)},function(){s.$1xz(!1)})}},$1xz:function(n){var t,i;this.$Jd!==n&&(this.$Jd=n,t=this.$5j("OnHasMultipleBPFInstancesInOffline"),t&&(i=new Microsoft.Crm.Client.Core.ViewModels.Events.$PA(n),t(this,i)))},ShowRecordMultiBPFInstanceOfflineMessageDialog:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;n.$GL=0;n.$Bv=2;n.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Mscrm.Form.MobileOffline.MultiBPFInstances.Message"));n.Show()},$2X9:function(){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ProcessManager:SetDefaultProcessId:"),n;if(t.start(),!$0.$1(this.get_ModelContext())&&!$0.$1(this.$N0)){if(n=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(Microsoft.Crm.Client.Core.Framework.Guid,"ProcessId",this.$N0.Properties).toString(),n===this.$LF||!this.$3Ar(n)){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$wo(this.get_ViewModelId());return}this.get_$7d().$1cV(this.$N0);this.get_$7d().$2LJ(new ProcessControl.Reflow.$MF(this.get_$C6()));$0.$1(this.$Hk)&&(this.set_ProcessId(new Microsoft.Crm.Client.Core.Framework.Guid(n)),this.set_IntrinsicStageId(new Microsoft.Crm.Client.Core.Framework.Guid(this.get_$7d().get_$l9().steps.get_$I(0).id)),this.$2.$Iw(70));this.$2a1();this.$8("ProcessObjectModel");this.$2aI(this.$N0);this.$LF=n;this.$2JK();t.stop()}},$3TG:function(){this.get_$7d().AddPropertyChangedListener("ProcessDescriptor",this.$1H5);this.get_$C6().AddPropertyChangedListener("GlobalPathAndActiveStage",this.$1Du)},$2Xa:function(){var n=this.$Oc;$0.$1(n)||this.set_SelectedStageId(n.toString().toLowerCase())},$3Ov:function(){if(!$0.$1(this.$1H4)){this.set_$2Ng(!1);var n=this.$1H4.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)}},$3Ar:function(n){return $0.$1(this.$Hk)?!0:this.$Hk.toString()===n},$2JK:function(){var i=$0.$1(this.$Oc)?this.$I5.toString():this.$Oc.toString(),t,r,u,n;$0.$1(this.$fU)&&!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&this.set_IntrinsicTraversedPath(Mscrm.ProcessControlShared.ObjectModels.$2X.$OV(this.get_$AW().get_$F4(),i));t=null;t=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?this.get_$v9():this.$fU;r=this.get_$C6().$3E1(this.get_$7d().$1Zj,i,t);r||$0.$1(this.$I5)||(u=new Mscrm.ProcessControlShared.ObjectModels.$2X(this.get_$v9()),this.set_$4l(new Mscrm.ProcessControlShared.ObjectModels.$I8(u,this.$I5.toString())));$0.$1(this.$2.get_ModelContext())||(n=this.$2.get_ModelContext(),$0.$1(n)||$0.$1(n.$M)||$0.$1(n.$M.$DI)||this.$3WG(n.$M.$DI))},$3WG:function(n){var i,t,r;$0.$1(n)||(i=new Microsoft.Crm.Client.Core.Models.ProcessControl.Factories.$Is,t=i.$29R(n,this.get_$8B()),$0.$1(t))||(r=this.$Dp(t.$KP),$0.$28(r))||this.$iu(t)},$26r:function(){if(!this.$tZ())return!1;var n=this.$BM(this.get_$4l().get_$6A());return n.get_EntityLogicalName()===this.get_ModelContext().get_ModelName()},$tZ:function(){if($0.$28(this.get_$4l())||Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_$4l().get_$6A())||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()&&!Xrm.Utility.isMocaOfflineFeatureEnabled()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x)return!1;var n=this.$BM(this.get_$4l().get_$6A());return!$0.$1(n)},$2a1:function(){var f=this.get_$7d().get_$l9(),n,i,r,u,t,e;if($0.$1(f)){this.set_SelectedStageId(null);return}n=this.$2;i=this.$30Q();n.$A1&&"selectedstageid"in n.$A1&&!$0.$1(this.$Dp(n.$A1.selectedstageid.toString()))?this.set_SelectedStageId(n.$A1.selectedstageid.toString()):this.$38n()||$0.$1(i)?(u=new Microsoft.Crm.Client.Core.Framework.Guid(f.steps.get_$I(0).id),t=$0.$1(this.$Oc),t||(e=this.$Dp(this.$Oc.toString()),t=!!(t|$0.$1(e))),t?(this.$I5=u,this.set_SelectedStageId(u.toString())):this.set_SelectedStageId(this.$Oc.toString())):(r=new Microsoft.Crm.Client.Core.Framework.Guid(i),this.set_SelectedStageId(r.toString()),this.$I5=r)},$3Wa:function(){var t,n,i;this.$3w||this.$tZ()&&this.$12l(this.get_$Cw().toString())&&((t=this.$Ja(this.get_$Cw().toString()),$0.$1(t))||(n=this.get_$7d().get_$l9(),i=n.steps.get_$I(n.steps.get_Count()-1),this.$I5=new Microsoft.Crm.Client.Core.Framework.Guid(i.id),this.$8("CalculatedStageId"),this.$8("GlobalActiveStage")))},$Iw:function(n,t,i,r){this.$DK=!0;this.$I5=null;this.set_IntrinsicStageId(new Microsoft.Crm.Client.Core.Framework.Guid(n.id));this.set_IntrinsicTraversedPath(t.get_$Gb());var u=this,f=this;this.$2.$Iw(70).then(function(f){if(f){var e=u.$Dp(u.get_$4l().get_$6A());u.set_$4l(new Mscrm.ProcessControlShared.ObjectModels.$I8(t,n.id));u.$m5(i,e);u.$DK=!1;u.$m6(Xrm.ProcessResponse.toString(0),r);u.get_$1Zx().$X7()}},function(){f.set_IntrinsicStageId(new Microsoft.Crm.Client.Core.Framework.Guid(f.get_$4l().get_$6A()));f.$DK=!1;f.$m6(Xrm.ProcessResponse.toString(1),r)})},$1iF:function(n){var t=this.$1JH.toString();return this.$pK[t]=n,this.$1JH++,t},$m6:function(n,t){if(this.$pK&&t in this.$pK){var i=this.$pK[t];delete this.$pK[t];$0.$1(i)||i(n)}},$2Mn:function(){var n=this.$BM(this.get_$C6().$GV.get_$6A()),t=this.$BM(this.$CQ);return n.get_EntityLogicalName()===t.get_EntityLogicalName()},$38n:function(){if($0.$1(this.get_$Cw()))return!1;var n=this.$BM(this.get_$Cw().toString());return!n||!this.get_$7d()?!1:n.get_EntityLogicalName()===this.get_$7d().get_$l9().get_EntityLogicalName()},$30Q:function(){var r,t,n;if($0.$1(this.get_$v9()))return null;r=this.get_$v9().split(",");t=null;for(var u=r,f=u.length,i=0;i<f;++i){if(n=u[i],n===this.get_$Cw().toString())break;if(this.$BM(n.toString()).get_EntityLogicalName()===this.get_$7d().get_$l9().get_EntityLogicalName()){t=n;continue}}return t},$2gj:function(n){var i;if($0.$1(this.get_$C6())||$0.$1(this.get_$C6().$GV)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_$C6().$GV.get_$6A())||$0.$1(this.$2.get_ModelContext()))return n.val=Xrm.ProcessResponse.toString(1),!1;if(i=this.get_$AW().$Ja(this.get_$C6().$GV.get_$6A()),Microsoft.Crm.Client.Core.Framework.$3.$9(i))return n.val=Xrm.ProcessResponse.toString(8),!1;var u=this.$BM(this.get_$C6().$GV.get_$6A()),f=this.$BM(i),t=this.$2.$7X("ProxyProcessControl"),r=null;return(!$0.$1(t)&&this.get_$C6().$GV.get_$6A()in t.$b8&&(r=t.$b8[this.get_$C6().$GV.get_$6A()]),$0.$1(u)||$0.$1(f)||$0.$1(t)||$0.$1(r))?(n.val=Xrm.ProcessResponse.toString(1),!1):r.$16L()?this.$2.get_ModelContext().$FH()?(n.val=Xrm.ProcessResponse.toString(11),!1):u.get_EntityLogicalName()===f.get_EntityLogicalName()?(n.val=Xrm.ProcessResponse.toString(0),!0):(n.val=Xrm.ProcessResponse.toString(10),!1):(n.val=Xrm.ProcessResponse.toString(6),!1)},$2gk:function(n){var t,i,r;return $0.$1(this.get_$C6())||$0.$1(this.get_$C6().$GV)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_$C6().$GV.get_$6A())||$0.$1(this.$2.get_ModelContext())?(n.val=Xrm.ProcessResponse.toString(1),!1):(t=this.get_$AW().$W4(this.get_$C6().$GV.get_$6A()),Microsoft.Crm.Client.Core.Framework.$3.$9(t))?(n.val=Xrm.ProcessResponse.toString(7),!1):this.$2.get_ModelContext().$FH()?(n.val=Xrm.ProcessResponse.toString(11),!1):(i=this.$BM(this.get_$C6().$GV.get_$6A()),r=this.$BM(t),$0.$1(i)||$0.$1(r)?(n.val=Xrm.ProcessResponse.toString(1),!1):(n.val=Xrm.ProcessResponse.toString(0),!0))},$2aI:function(n){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()||$0.$1(this.get_$7d())||this.get_$7d().set_$14i(n)},$35z:function(n,t,i,r,u,f){if(f.toString()===this.$2.get_ModelContext().get_Id()){if($0.$1(this.$2)||$0.$1(this.$LF))return;if(!this.$1jQ(this.$LF,n.id.toString()))return}var o=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$7p,e=this,s=this;o.$10y().then(function(i){var l=e.get_ModelContext().$M.$DI,h=l.fields,s;h.traversedpath=u.get_$Gb();h.processstageid=n.id.toString().toUpperCase();s={};s.entityid=f.toString();s.entitylogicalname=t.get_EntityLogicalName();s.processid=e.$LF;s.stageid=n.id.toString().toUpperCase();s.traversedpath=u.get_$Gb();var a=new Microsoft.Crm.Client.Core.Offline.Upsync.Entities.$3a(i,"ChangeProcessAndStage",1,JSON.stringify(s)),v=a.$1e4(),c=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6c));c.add(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6c(v,1,"Command"));c.add(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6c(h,3,"businessprocessflowinstance"));o.$oR(c,null,!1).then(function(i){if(i){var o=e.$Dp(e.get_$4l().get_$6A());e.set_$4l(new Mscrm.ProcessControlShared.ObjectModels.$I8(u,n.id));e.$m5(null,o);e.$DK=!1;e.$m6(Xrm.ProcessResponse.toString(0),r);Xrm.Utility.openEntityForm(t.get_EntityLogicalName(),f.toString())}else e.$DK=!1,e.$m6(Xrm.ProcessResponse.toString(1),r)},function(){e.$DK=!1;e.$m6(Xrm.ProcessResponse.toString(1),r)})},function(){s.$DK=!1;s.$m6(Xrm.ProcessResponse.toString(1),r)})},$1t0:function(){return Xrm.Internal.isFeatureEnabled("FCB.ProcessUnification")}};Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager.prototype={$cj:null,get_AttributeMetadataActionProvider:function(){return this.$cj},set_AttributeMetadataActionProvider:function(n){return this.$cj=n,n},$N0:null,set_$14i:function(n){return this.$N0===n?n:(this.$N0=n,this.$8("ProcessDescriptor"),n)},$O5:null,$rN:null,get_$8B:function(){return this.$rN||(this.$rN=new ProcessObjectModel.Visitors.$Ih)},$54:null,get_AttributeFieldNames:function(){return this.$54},set_AttributeFieldNames:function(n){return Microsoft.Crm.Client.Core.Framework.$4d.$2eY(this.$54,n)||(this.$54=n,this.$8("AttributeFieldNames")),n},$P2:null,$1Zj:0,$1xk:0,$21M:null,get_$l9:function(){for(var n,i=this.$P2.steps,t=0;t<i.get_Count();t++)if((n=i.get_$I(t),Microsoft.Crm.Workflow.ObjectModel.$69.isInstanceOfType(n))&&n.get_EntityLogicalName()===this.$J)return n;return null},$1cV:function(n){var t=new Microsoft.Crm.Workflow.ObjectModel.$7H("",0),e=0,o=0,u={},s=n.ChildViewModels,f,h,i,r,c;for(f in s){if(h={key:f,value:s[f]},i=h.value,i.TypeName==="ProcessEntity"){r=this.$29E(t,i);t.steps.$2i(r);o+=r.steps.get_Count();r.get_EntityLogicalName()in u||(u[r.get_EntityLogicalName()]=!0,++e);continue}i.TypeName==="ProcessRelationshipCollection"&&(c=this.$2mE(t,i),t.steps.$2i(c))}t.set_Name(Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"ProcessName",n.Properties)||" ");this.$1Zj=e;this.$1xk=o;this.$P2=t;this.$21M=u},$2LJ:function(n){var i=this.get_$8B().get_$b6()?this.get_$8B().get_$b6()[0]:null,t;this.get_$8B().get_$sP().length?i&&!this.$P2.stepDictionary.$2j0(i.id)&&(this.$rN=new ProcessObjectModel.Visitors.$Ih,this.get_$8B().$PR(this.$P2)):this.get_$8B().$PR(this.$P2);t=new ProcessControl.Reflow.$MA;t.set_$8B(this.get_$8B());t.set_$23h(this.$P2);t.set_$1Q0(this.$J);t.set_$kc(new ProcessControl.Reflow.$ME);this.$O5=new ProcessControl.Reflow.$M1(n,t);this.$O5.$1ra()},$Dp:function(n){if($0.$1(n)||$0.$1(this.$P2))return null;var t=this.get_$8B().get_$b7()[Microsoft.Crm.Workflow.Utils.$e.$9A(n)];return $0.$1(t)?null:t},$2Jx:function(n){var i,t;if(!$0.$1(this.$O5)&&!$0.$1(this.$O5.get_$1eF())&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$O5.get_$1eF().get_$CU()))for(i=this.$O5.get_$1eF().get_$CU().split(","),t=0;t<i.length;t++)if(i[t]===n)return t;return 0},$W4:function(n){var t=this.$O5.$W4(n);return(t in this.get_$8B().get_$b7())?this.get_$8B().get_$b7()[t]:null},$Ja:function(n){var i=null,t=this.$O5.$Ja(n),r;return(t in this.get_$8B().get_$b7())?(r=this.get_$8B().get_$oJ()[t],r.get_EntityLogicalName()===this.$J&&(i=this.get_$8B().get_$b7()[t]),i):null},$1AJ:function(n){var t=this.$BM(n);if($0.$1(t))return!1;var i=!this.$Ja(n),r=t.get_EntityLogicalName()===this.$J,u=this.$O5.$Ja(n);return i&&r&&!Microsoft.Crm.Client.Core.Framework.$3.$9(u)},$1Of:function(n){var t=this.$BM(n),i,r;return $0.$1(t)?!1:(i=this.$Ja(n),r=t.get_EntityLogicalName()===this.$J,!!i&&r)},$1AF:function(n){var i=this.$BM(n),t;return $0.$1(i)?!1:(t=this.$W4(n),!!t)},$BM:function(n){if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))return null;var t=this.get_$8B().get_$oJ()[new Microsoft.Crm.Client.Core.Framework.Guid(n).toString()];return $0.$1(t)?null:t},$34J:function(n){var u=this.$P2,t,i,r,f;if(!$0.$1(u))for(t=0;t<u.steps.get_Count();t++)if(i=u.steps.get_$I(t),Microsoft.Crm.Workflow.ObjectModel.$69.isInstanceOfType(i))for(r=0;r<i.steps.get_Count();r++)if(f=i.steps.get_$I(r),f.id===n)return f;return null},$2cO:function(n){var i=this.$54||[],t;if(!IsNull(n))for(t=0;t<n.length;t++)Array.contains(i,n[t])||Array.add(i,n[t]);this.set_AttributeFieldNames(i)},$29E:function(n,t){var i=new Microsoft.Crm.Workflow.ObjectModel.$69(n,t.Name),e,o,l,u,f,r,s,h,c;i.set_EntityLogicalName(t.Name);i.description=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"EntityDisplayName",t.Properties);i.relationshipName=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"RelationshipName",t.Properties);i.attributeName=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"ReferencingAttributeName",t.Properties);i.set_$Hi(n);i.get_EntityLogicalName()===this.$J&&(this.$2cO(Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(Array,"AttributeFieldNames",t.Properties)),this.$3YA());e=t.ChildViewModels;for(o in e)if(l={key:o,value:e[o]},u=l.value,u.TypeName==="Stage"){if(f=this.$2mQ(n,u),i.$kS(f),r=this.$2rx(u),r&&r.ChildViewModels){s=r.ChildViewModels;for(h in s){var a={key:h,value:s[h]},v=a.value,y=this.$2mS(n,v);f.steps.$2i(y)}}(c=this.$2kE(f,n,u),c&&f.steps.$2i(c),$0.$1(r))||($0.$1(this.get_ModelContext())||this.get_ModelContext().get_ModelName()===i.get_EntityLogicalName()?this.$3W1(r):this.$3W0(r))}return i},$2mE:function(n,t){var i=new Microsoft.Crm.Workflow.ObjectModel.$Ex(n),r,u,e,f,o;i.set_$bZ(n);r=t.ChildViewModels;for(u in r)(e={key:u,value:r[u]},f=e.value,f.TypeName==="ProcessRelatinship")&&(o=this.$2mF(n,f),i.$kS(o));return i},$2mF:function(n,t){var i=new Microsoft.Crm.Workflow.ObjectModel.$Bq(n);return i.set_$bZ(n),i.sourceStageId=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"SorceStageId",t.Properties),i.targetStageId=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"TargetStageId",t.Properties),i.attributeName=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"AttributeName",t.Properties),i.relationshipName=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"RelationshipName",t.Properties),i},$2rx:function(n){var r=n.ChildViewModels,t,u,i;for(t in r)if(u={key:t,value:r[t]},i=u.value,i.TypeName==="ProcessSectionViewModel")return i;return null},$3W0:function(n){var i,r,t;if(!$0.$1(n)&&!$0.$1(n.ChildViewModels)){i=n.ChildViewModels;for(r in i)t={key:r,value:i[r]},(t.key.indexOf("_readonly")!==-1||t.key.indexOf("_edit")!==-1)&&delete n.ChildViewModels[t.key]}},$3W1:function(n){var t,i,r;if(!$0.$1(n)&&!$0.$1(n.ChildViewModels)){t=n.ChildViewModels;for(i in t)r={key:i,value:t[i]},r.key.indexOf("_label")>0&&delete n.ChildViewModels[r.key]}},$2mQ:function(n,t){var e=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"StageDisplayName",t.Properties),i=new Microsoft.Crm.Workflow.ObjectModel.$5w(n,e),f=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"StageId",t.Properties),r,u;return i.id=new Microsoft.Crm.Client.Core.Framework.Guid(f).toString(),i.stageId=new Microsoft.Crm.Client.Core.Framework.Guid(f).toString(),r=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"NextStageId",t.Properties),i.nextStageId=Microsoft.Crm.Client.Core.Framework.$3.$9(r)?"":new Microsoft.Crm.Client.Core.Framework.Guid(r).toString(),u=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"StageCategory",t.Properties),i.stageCategory=Microsoft.Crm.Client.Core.Framework.$3.$9(u)?null:u,i},$2kE:function(n,t,i){var u=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"ConditionJson",i.Properties),r;return Microsoft.Crm.Client.Core.Framework.$3.$9(u)?null:(r=new Microsoft.Crm.Workflow.ObjectModel.$9m(t),r.set_$Hi(n),r.$4M(JSON.parse(u)),r.$2sJ(),r)},$2mS:function(n,t){var r=t.Name,i=new Microsoft.Crm.Workflow.ObjectModel.$So(n,r);return i.isProcessRequired=!!Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"ProcessRequired",t.Properties),i.set_Name(Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"Label",t.Properties)),i},$3YA:function(){if(!$0.$1(this.$2)&&!$0.$1(this.$2.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$2.get_ModelContext())&&!$0.$1(this.$54)){var i={EntityType:this.$J,Attributes:this.$54},t=this.$cj.$DG(i),n=this;t.add_$RQ(function(){$0.$1(n.$2)||$0.$1(n.$2.get_ModelContext())||!Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(n.$2.get_ModelContext())||$0.$1(n.$54)||Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$173(n.$2.get_ModelContext().$M,n.$54)});Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t)}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$9I=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$9I.initializeBase(this);this.$10Y={}};Microsoft.Crm.Client.Core.ViewModels.Controls.$9I.prototype={$1dJ:!1,$10Y:null,get_StageGateCheckResult:function(){return this.$1dJ},set_StageGateCheckResult:function(n){return this.$1dJ=n,this.$8("StageGateCheckResult"),n},$S:null,get_EntityLogicalName:function(){return this.$S},set_EntityLogicalName:function(n){return this.$S=n,n},get_$BV:function(){return this.$2.$7X("ProcessManager")},$16L:function(){var t=!0,i,r,u,n;if(this.$Cn.get_Count()>0)t=!1;else{i=this.$F;for(r in i)u={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.$ED.isInstanceOfType(u.value)&&(n=u.value,n.$vM&&!n.get_ProcessRequirementSatisfied()&&(t=!1,this.$3TU(n)))}return this.set_StageGateCheckResult(t),this.$1dJ},$3TU:function(n){var t,r,u;if(this.get_$BV().set_$CB(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.RequiredStepWarningBar")),Microsoft.Crm.Client.Core.ViewModels.$4L.isInstanceOfType(n)){var i=null,f=n,e=this;i=function(n){n.remove_$1en(i);e.$1jl(n)};f.add_$1en(i)}else t=null,r=this,t=function(i){n.RemovePropertyChangedListener("Data",t);r.$1jl(i)},n.AddPropertyChangedListener("Data",t);Microsoft.Crm.Client.Core.ViewModels.$3Y.isInstanceOfType(n)&&n.set_$Om(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.RequiredStepWarning"),null));this.$27T(n);u=this;this.$10Y[n.get_ViewModelId()]=window.setTimeout(function(){u.$1jl(n)},1e4)},$1jl:function(n){this.get_$BV().set_$CB("");Microsoft.Crm.Client.Core.ViewModels.$3Y.isInstanceOfType(n)&&n.set_$Om(null);this.$27T(n)},$27T:function(n){var t=n.get_ViewModelId();t in this.$10Y&&(window.clearTimeout(this.$10Y[t]),delete this.$10Y[t])},$1Zl:function(n,t){return this.$S!==this.$J&&this.get_$ly().$2XG(n,Microsoft.Crm.Client.Core.Framework.$24.get_$14D()),Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype.$1Zl.call(this,n,t)},isFieldEditable:function(n){return Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype.isFieldEditable.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$C2=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$C2.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$C2.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("SearchSummaryViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$C2)};Microsoft.Crm.Client.Core.ViewModels.Controls.$C2.prototype={$1dc:null,$ud:"",$12d:!1,$JJ:0,$Lb:null,get_SummaryTitle:function(){return this.$1dc},set_SummaryTitle:function(n){return this.$1dc!==n&&(this.$1dc=n),n},get_DisplayMode:function(){return this.$JJ},set_DisplayMode:function(n){return this.$JJ!==n&&(this.$JJ=n,this.$8("DisplayMode")),n},get_IsRelevanceSearch:function(){return this.$12d},set_IsRelevanceSearch:function(n){return this.$12d=n,n},get_SearchResults:function(){return this.$Lb},set_SearchResults:function(n){return this.$Lb!==n&&(this.$Lb=n),n},get_ErrorEntityList:function(){var t,r,i,n;if(this.$ud="",t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$Jj)),$0.$1(this.$Lb)||$0.$1(this.$Lb.$Lb))return t;for(r=this.$Lb.$Lb,i=0;i<r.get_Count();i++)n=r.get_$I(i),n.$6e?t.add(n):n.$1az||(this.$ud+=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$ud)?n.$1S:Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Separator")+" "+n.$1S);return t},get_NoResultsEntity:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$ud)?this.$ud:this.$12d?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_Noresults_Message"):String.localeFormat(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_NoResultsForEntities_Message"),this.$ud)},get_NoResultsFoundText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_NoResultsFound_Message")},get_RelevanceSearchServerErrorText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ExternalSearch_Service_Unavailable")},get_SeparatorText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Separator")},getErrorElementHtml:function(n,t){return String.localeFormat(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_ErrorPlaceHolder_Message"),n,Microsoft.Crm.Client.Core.Framework.Common.$2.$5M(t))}};Microsoft.Crm.Client.Core.ViewModels.Controls.$FP=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$FP.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$FP.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("UserInfoViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$FP)};Microsoft.Crm.Client.Core.ViewModels.Controls.$FP.prototype={$202:null,$203:null,$204:null,get_SearchTipsSectionContentDetails:function(){return this.$202=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_Tips_Section_Content_Details"),this.$202},get_SearchTipsSectionContentMoreDetails:function(){return this.$203=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_Tips_Section_Content_More_Details"),this.$203},get_SearchTipsSectionLabel:function(){return this.$204=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_Tips_Section_Label"),this.$204}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Oz=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Oz.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Oz.prototype={$Cu:function(){var g=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ComparisonChartDataParser:Parse"),c,l,a,y,at,vt,w,f,b,pt,et,o,s,ri,ui,h,wt,i,ot,bt;g.start();try{var r=new Array(0),st={},nt=this.$Q2.$3A,n=nt.$9S.get_$I(0);if(n.$Cp&&n.$Cp.get_Count()>0&&n.$Cp.get_$I(0).$LT&&n.$Cp.get_$I(0).$LT.$4v&&(n.$Cp.get_$I(0).$LT.$4v.$4F&&(r[r.length]=n.$Cp.get_$I(0).$LT.$4v.$4F),n.$Cp.get_$I(0).$LT.$4v.$Bk))for(c=0;c<n.$Cp.get_$I(0).$LT.$4v.$Bk.get_Count();c++)r[r.length]=n.$Cp.get_$I(0).$LT.$4v.$Bk.get_$I(c);l=n.$hu.get_$I(0).$4F;a=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Kw(l,n.$hu.get_$I(0));l&&(r[r.length]=l);var tt=n.$Cp.get_$I(0).$LH,ht=tt.$2y||tt.$G,kt=ht+Microsoft.Crm.Client.Core.Framework.$b.$6m,dt=ht,gt=nt.$4v.$4F,it=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Kw(gt,nt.$4v),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),v={};for(y=0;y<this.$EH.get_$m();y++){var rt=this.$EH.$19.get_$I(y),ct=it.$c(rt),p=a.$c(rt),e;p?e=a.$2HY(rt):(p=Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1pp(),e=p);st[e]=p;u.contains(ct)||u.add(ct);t.contains(e)||t.add(e)}for(var lt=t.get_Items(),ni=lt.length,ut=0;ut<ni;++ut)at=lt[ut],vt=new Array(u.get_Count()),v[at]=vt;for(w=0;w<this.$EH.get_$m();w++){f=this.$EH.$19.get_$I(w);b=a.$2HY(f);b||(b=Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1pp());var k=v[b],ti=it.$c(f),d=u.indexOf(ti);k[d]=new Microsoft.Crm.Client.Core.Models.$J8;k[d].Value=f.GetValue(kt);k[d].FormattedValue=f.$M.getFormattedValue(dt);this.$25p(k[d],f,r)}for(var yt=t.get_Items(),ii=yt.length,ft=0;ft<ii;++ft)for(pt=yt[ft],et=v[pt],o=0;o<u.get_Count();o++)$0.$1(et[o])&&(et[o]=new Microsoft.Crm.Client.Core.Models.$J8);for(s=new Array(1),s[0]=new Microsoft.Crm.Client.Core.Models.$JB,s[0].Title=it.get_$23m(),s[0].Values=u.toArray(),n.$hu.get_$I(0).$EN?(ri=this,t.sort(function(n,t){return n.localeCompare(t)})):(ui=this,t.sort(function(n,t){return t.localeCompare(n)})),h=new Array(t.get_Count()),wt=!!this.$94.$EI&&this.$94.$EI.length>0,i=0;i<t.get_Count();i++)ot=t.get_Items()[i],h[i]=this.$27p(this.$GI.get_$I(0)),h[i].Title=st[ot],h[i].DataPoints=v[ot],wt&&i<Math.floor(t.get_Count()/2)&&(bt=this.$94.$EI[i],this.$94.$EI[i]=this.$94.$EI[(t.get_Count()-i-1)%this.$94.$EI.length],this.$94.$EI[(t.get_Count()-i-1)%this.$94.$EI.length]=bt);this.$94.$KG=s;this.$94.$x2=this.$1yy(tt);this.$94.$DW=h}finally{g.stop();g=null}},$1yy:function(n){var t=new Array(1);return t[0]=new Microsoft.Crm.Client.Core.Models.$JH,t[0].Title=Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1nq(n),t}};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel=function(){this.$$d_$LQ=Function.createDelegate(this,this.$LQ);this.$$d_$1wL=Function.createDelegate(this,this.$1wL);Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1c("PageSearchHeaderViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$3IN)};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$3IN=function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.prototype={$hr:null,$7w:null,get_IsMobileClientOfflineFeatureAvailable:function(){return Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()},get_SearchButtonToolTip:function(){return this.$hr},set_SearchButtonToolTip:function(n){return this.$hr!==n&&(this.$hr=n),n},get_SearchButtonTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?30:-3e4},get_OpenSearchPageCommand:function(){return this.$7w},$2oN:function(){return!1},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.set_SearchButtonToolTip(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_LaunchButton_Tooltip"));Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$1wL(this.$$d_$1wL);this.set_Enabled(Microsoft.Crm.Client.Core.ViewModels.$n.$1FE());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$LQ)},HandleSearchButtonClick:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$1H.$WF&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$2M.$YW===2){var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$hb("LastUsedSearch").then(function(t){var i=t.$7H.value;n.$7w=i==="RelevanceSearch"&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$1H.$WF?new Microsoft.Crm.Client.Core.Commands.$33(n,47):new Microsoft.Crm.Client.Core.Commands.$33(n,26);n.$1yl();n.$1v3()},function(){t.$7w=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$1H.$WF?new Microsoft.Crm.Client.Core.Commands.$33(t,47):new Microsoft.Crm.Client.Core.Commands.$33(t,26);t.$1yl();t.$1v3()})}else this.$7w=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$2M.$YW&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$1H.$WF?new Microsoft.Crm.Client.Core.Commands.$33(this,47):new Microsoft.Crm.Client.Core.Commands.$33(this,26),this.$1yl(),this.$1v3()},$1v3:function(){!$0.$1(this.$7w)&&this.$7w.get_CanExecute()&&this.$7w.execute()},$1yl:function(){$0.$1(this.$7w)||(this.$7w.$1t="searchPage",this.$7w.$1B={},this.$7w.$1B.SearchEntity=Xrm.Utility.isActivityType(this.$2.$J)?"activitypointer":this.$2.$J)},$1wL:function(n){$0.$1(this.$7w)&&(this.$7w=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$2M.$YW?new Microsoft.Crm.Client.Core.Commands.$33(this,26):new Microsoft.Crm.Client.Core.Commands.$33(this,47));this.$7w.$1t="searchPage";this.$7w.$1B={};this.$7w.$1B.SearchEntity=null;this.$7w.$1B.SearchText=n;this.$7w.execute()},$LQ:function(){Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()||(this.set_Enabled(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()),$0.$1(this.$7w)||this.$7w.set_CanExecute(this.get_Enabled()))},$GX:function(){$0.$1(this.$7w)||(this.$7w.dispose(),this.$7w=null);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().remove_$1wL(this.$$d_$1wL);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$LQ);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Kz=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Kz.prototype={$19b:null,$1Bh:null,$1S9:null,$9d:!1,set_$2sU:function(n){return this.$1S9=n?String.format("rgb({0})",n.trim()):null,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.$9t=function(){this.$$d_$X6=Function.createDelegate(this,this.$X6);this.$$d_$7l=Function.createDelegate(this,this.$7l);Microsoft.Crm.Client.Core.ViewModels.Controls.$9t.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$9t.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("CRM_Chart_ChartViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$9t)};Microsoft.Crm.Client.Core.ViewModels.Controls.$9t.prototype={$1U6:null,$1zl:null,$WZ:null,$zN:null,get_GridMetadataId:function(){return this.$1U6},set_GridMetadataId:function(n){return this.$1U6=n,n},$18:function(){(this.$2.$o===17||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$2MW(this.$J))&&this.$1re()},$1re:function(){this.$1zl=this.$$d_$7l;var n=!1;$0.$1(this.refreshCommand)&&(this.refreshCommand=new Microsoft.Crm.Client.Core.Commands.$BR(this.$$d_$X6,1024));$0.$1(this.$2)||$0.$1(this.$2.$Q)||$0.$1(this.$2.$Q.$T)||("ChartViewId"in this.$2.$Q.$T&&(this.$AA=this.$2.$Q.$T.ChartViewId),"ChartVisualizationId"in this.$2.$Q.$T&&(this.$KE=this.$2.$Q.$T.ChartVisualizationId),"ChartViewEntityLogicalName"in this.$2.$Q.$T&&(this.$PP=this.$2.$Q.$T.ChartViewEntityLogicalName),"ChartVisualizationEntityLogicalName"in this.$2.$Q.$T&&(this.$bY=this.$2.$Q.$T.ChartVisualizationEntityLogicalName),"ListDefinitionId"in this.$2.$Q.$T&&(this.$1U6=this.$2.$Q.$T.ListDefinitionId),"SelectedHighchartPoint"in this.$2.$Q.$T&&this.set_SelectedHighchartPoint(this.$2.$Q.$T.SelectedHighchartPoint),n=!0);this.$1y||(this.$2.add_$7l(this.$1zl),this.$Km(),n=!1,Microsoft.Crm.Client.Core.ViewModels.$2Y.prototype.$18.call(this),this.set_ActionCommand(new Microsoft.Crm.Client.Core.Commands.ChartCommand(this)),this.$WZ=new Microsoft.Crm.Client.Core.Commands.ChartCommand(this),this.$zN=new Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand(this,this.$WZ),this.set_ChartSeriesClickCommand(this.$zN));n&&this.$Km()},$X6:function(){this.$Km();Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$X6.call(this)},$7l:function(){var n=this.$2.$6F(this),t;Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(n)&&!Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.isInstanceOfType(this.$2.$6F(n))?(this.$29.set_CanExecute(!0),t=this.$2.$6F(this),t.set_TitleShortPressCommand(this.$29)):this.$29.set_CanExecute(!1);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LoadedInitialUI",0,this.get_ViewModelId())},$22i:function(){if(!$0.$1(this.$D9)){Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.prototype.$22i.call(this);this.set_EnableDrilldown(this.$D9.$Sm);var n=this.$2.$6F(this);Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(n)&&(Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.isInstanceOfType(this.$2.$6F(n))?(n.set_Label(this.$D9.$6Y.Text),this.set_Title(null)):n.set_Label(this.$D9.$bD));Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.isInstanceOfType(n)&&n.set_ViewDisplayName(this.$D9.$bD);this.$1o3();Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LoadedInitialData",0,this.get_ViewModelId());this.$Im("RenderedInitialData")}},get_$zb:function(){return"crmcharts"},$GX:function(){$0.$1(this.$No)||(this.$No.$6D(),this.$No=null);$0.$1(this.refreshCommand)||(this.refreshCommand.dispose(),this.refreshCommand=null);this.$WZ&&this.$WZ.dispose();this.$zN&&this.$zN.dispose();this.$zN=null;this.$WZ=null;this.set_PrimaryModelName(null);this.set_$zn(null);Microsoft.Crm.Client.Core.ViewModels.$2Y.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$P1=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$P1.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$P1.prototype={$Cu:function(){this.$ki&&this.$ki.get_Count()&&(this.$94.$KG=this.$2UJ(),this.$94.$DW=this.$2UK(0),this.$94.$x2=this.$1yy())},$2UJ:function(){var n=new Array(1),u,i,r,t,f;if(this.$EH.get_$m()<1)return n;for(u=this.get_$hB().$4F,n[0]=new Microsoft.Crm.Client.Core.Models.$JB,i=new Array(this.$EH.get_$m()),r=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Kw(u,this.get_$hB()),n[0].Title=r.get_$23m(),t=0;t<this.$EH.get_$m();t++)f=this.$EH.$19.get_$I(t),i[t]=r.$c(f);return n[0].Values=i,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Bc=function(){this.$$d_$3FD=Function.createDelegate(this,this.$3FD);this.$$d_$3HA=Function.createDelegate(this,this.$3HA);this.$$d_$36A=Function.createDelegate(this,this.$36A);this.$$d_$1r5=Function.createDelegate(this,this.$1r5);this.$$d_$35m=Function.createDelegate(this,this.$35m);Microsoft.Crm.Client.Core.ViewModels.Controls.$Bc.initializeBase(this);this.get_IsInteractionCentricEnabled()&&this.set_StartIndex(1001)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Bc.prototype={$3J:null,get_$1v:function(){return $0.$1(this.$3J)&&(this.$3J=this.$2.$7X("ProcessManager")),this.$3J},get_PopoverVisibility:function(){return $0.$1(this.get_$1v())?!1:this.get_$1v().$aX},set_PopoverVisibility:function(n){return $0.$1(this.get_$1v())||this.get_$1v().set_PopoverVisibility(n),n},get_$AW:function(){return this.get_$1v().get_$AW()},add_ReflowEvent:function(n){this.$2I("OnReflow",n)},remove_ReflowEvent:function(n){this.$4N("OnReflow",n)},$1y9:function(n,t,i){var e=this.get_$AW(),r,u,f,o;if(!$0.$1(e)&&!$0.$1(t)&&e.get_$1eF().get_$Zf()){if(r=this.get_$1v().get_$4l(),$0.$1(r))return;t=new Microsoft.Crm.Client.Core.Framework.Guid(t).toString();u=r.get_$CU().get_$Gb();(r.get_$6A()===t||u.indexOf(t)<0||u.indexOf(i)<0)&&this.get_$AW().$3Wn(t,i)}f=this.$5j("OnReflow");$0.$1(f)||(o=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Oy(n,t,i),f(this,o))},get_Process:function(){var n=this.get_$1v();return n.get_$R9()},get_RootIsLocked:function(){return this.$1bT},set_RootIsLocked:function(n){return this.$1bT===n?n:(this.$1bT=n,this.$8("RootIsLocked"),n)},$1dI:0,get_StageCount:function(){var n=this.get_$1v();return this.$1dI!==n.get_$2SC()&&(this.$1dI=n.get_$2SC(),this.$8("StageCount")),this.$1dI},get_CurrentActiveStageIndex:function(){var n=this.get_Data().toString(),t=this.get_$1v();return t.$2Jx(n)},get_SelectedStageId:function(){var n=this.get_$1v();return n.$CQ},set_SelectedStageId:function(n){var t=this.get_$1v();return t.set_SelectedStageId(n),n},get_DefaultPath:function(){return this.get_$AW().get_$F4()},get_DefaultPathHash:function(){return this.get_$AW().get_$lR()},$1bT:!1,get_ActiveLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.InProgressStage")},get_GlobalActiveStageId:function(){var n=this.get_$1v().get_$4l();return $0.$1(n)?"":n.get_$6A()},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.get_$1v().AddPropertyChangedListener("GlobalActiveStage",this.$$d_$35m);this.get_$1v().AddPropertyChangedListener("SelectedStageId",this.$$d_$1r5);this.get_$1v().AddPropertyChangedListener("ProcessStatus",this.$$d_$36A);this.get_$1v().add_$2QW(this.$$d_$3HA);this.get_$AW().add_$1lu(this.$$d_$3FD);this.set_RootIsLocked(this.$2.get_IsLocked());this.$2.AddPropertyChangedListener("IsLocked",this.$$d_$36A)},$36A:function(){this.set_RootIsLocked(this.$2.get_IsLocked()||this.get_$1v().$C0!==1)},$3FD:function(){this.get_$AW().remove_$1lu(this.$$d_$3FD);this.$1y9(!0,null,null)},$3HA:function(n,t){var i=t;$0.$1(i)||this.$1y9(i.$1eb,i.$oL,i.$ub)},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this);this.get_$1v().RemovePropertyChangedListener("GlobalActiveStage",this.$$d_$35m);this.get_$1v().RemovePropertyChangedListener("SelectedStageId",this.$$d_$1r5);this.get_$1v().RemovePropertyChangedListener("ProcessStatus",this.$$d_$36A);this.get_$1v().remove_$2QW(this.$$d_$3HA);$0.$1(this.get_$AW())||this.get_$AW().remove_$1lu(this.$$d_$3FD);this.$2.RemovePropertyChangedListener("IsLocked",this.$$d_$36A)},navigateToEntity:function(n){var i=this.get_$1v(),r=i.get_$Cr()[n],t;return $0.$1(r)?!1:(t=i.$1o9(),t.processid=this.$3J.$Hk.toString(),t.processinstanceid=this.$3J.$E2,t.selectedstageid=this.$3J.$CQ,Xrm.Utility.openEntityForm(n,r.toString(),t),!0)},$35m:function(){this.$8("GlobalActiveStage")},$1r5:function(){this.$8("SelectedStageId")},isCompleted:function(n){return this.get_$1v().$12l(n)&&(!this.isLocked(n)||this.isBusinessProcessAborted())},isLocked:function(n){return this.get_$1v().$1tF(n)},isEntityStep:function(n){return Microsoft.Crm.Workflow.ObjectModel.$69.isInstanceOfType(n)},isSelectedStage:function(n){return n.id===this.get_SelectedStageId()},isActiveStage:function(n){return!$0.$28(this.get_GlobalActiveStageId())&&n.id===this.get_GlobalActiveStageId().toLowerCase()},isInvocationSource:function(){return this.get_$AW().get_$Ns().get_$12G()==="internal"},getStageTooltip:function(n){if(this.get_IsInteractionCentricEnabled()){if($0.$1(this.$2)||$0.$1(this.$2.get_ModelContext()))return"";var t=this.isActiveStage(n)?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.InProgressStage"):this.isCompleted(n.id)?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.CompletedStage"):this.isLocked(n.id)?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.LockedStage"):"",r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$2.get_ModelContext().get_$Qt().LogicalName).$1S,i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Sales.ProcessControl.Entity")+": "+r+", "+Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Sales.ProcessControl.Stage")+": "+n.description;return Microsoft.Crm.Client.Core.Framework.$3.$9(t)||(i+=", "+Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Sales.ProcessControl.Status")+": "+t),i}return""},isBusinessProcessAborted:function(){return this.get_$1v().$C0===3},isBusinessProcessCompleted:function(){return this.get_$1v().$C0===2}};Microsoft.Crm.Client.Core.ViewModels.Controls.$8M=function(){this.$$d_$13y=Function.createDelegate(this,this.$13y);this.$$d_$zS=Function.createDelegate(this,this.$zS);this.$$d_$362=Function.createDelegate(this,this.$362);this.$$d_$2Ka=Function.createDelegate(this,this.$2Ka);this.$$d_$35o=Function.createDelegate(this,this.$35o);this.$$d_$35g=Function.createDelegate(this,this.$35g);this.$$d_$1r5=Function.createDelegate(this,this.$1r5);this.$$d_$2KS=Function.createDelegate(this,this.$2KS);this.$$d_$2Qd=Function.createDelegate(this,this.$2Qd);this.$$d_$36M=Function.createDelegate(this,this.$36M);this.$b8={};this.$16M={};this.get_$2D6=this.get_FetchedViewModel;this.set_$2D6=this.set_FetchedViewModel;this.set_$2j7=this.set_ControlDescriptor;Microsoft.Crm.Client.Core.ViewModels.Controls.$8M.resolveInheritance();this.get_$3DO=this.get_ModelContext;this.get_$2hk=this.get_ChildViewModels;Microsoft.Crm.Client.Core.ViewModels.Controls.$8M.initializeBase(this);this.set_HideChildren(!1)};Microsoft.Crm.Client.Core.ViewModels.Controls.$8M.prototype={$Ge:null,$ku:null,get_ControlDescriptor:function(){return this.$ku},set_ControlDescriptor:function(n){return this.$ku!==n&&(this.$ku=n,this.$8("ControlDescriptor")),n},$Jd:!0,get_HasMultipleBPFInstancesInOffline:function(){return this.$Jd},set_HasMultipleBPFInstancesInOffline:function(n){return this.$Jd!==n&&(this.$Jd=n,this.$8("HasMultipleBPFInstancesInOffline")),n},$Qo:!1,get_LoadComplete:function(){return this.$Qo},set_LoadComplete:function(n){return n===this.$Qo?n:(this.$Qo=n,this.$8("LoadComplete"),this.$Qo&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&(this.$1E8=!0,this.$10x()),n)},$1QW:!1,get_DeletedProcess:function(){return this.$1QW},set_DeletedProcess:function(n){return this.$1QW!==n&&(this.$1QW=n,this.$8("DeletedProcess")),n},get_DeletedProcessMessage:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.Warnings.ProcessMobileUnavailable")},get_DeletedProcessMessageWithoutPlaceholder:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.Warnings.ProcessMobileUnavailable"),null,null)},$u6:null,get_KBArticleLauncherCommand:function(){return this.$u6},set_KBArticleLauncherCommand:function(n){return this.$u6!==n&&($0.$1(this.$u6)||(this.$u6.dispose(),this.$u6=null),this.$u6=n),n},$ee:null,get_FetchedViewModel:function(){return this.$ee},set_FetchedViewModel:function(n){return this.$ee!==n&&(this.$ee=n,this.$8("FetchedViewModel")),n},get_StageAdvanceActionViewModel:function(){var r=null,n=this.$TJ(),t,f,i;if(!$0.$28(this.$b8)&&!$0.$1(n)&&!$0.$1(n.$CQ)&&n.$CQ in this.$b8&&!$0.$28(this.$16M)&&n.$CQ in this.$16M){var e=this.$b8[n.$CQ],o=this.$16M[n.$CQ],u=o.ChildViewModels;for(t in u)if(f={key:t,value:u[t]},i=f.value,i.TypeName==="StageAdvanceAction"){r=e.$F[i.Name];break}}return r},get_PopoverVisibility:function(){var n=this.$TJ();return $0.$1(n)?!1:n.$aX},set_PopoverVisibility:function(n){var t=this.$TJ();return $0.$1(t)||t.set_PopoverVisibility(n),n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.prototype.$18.call(this);this.$Ge=new Microsoft.Crm.Client.Core.ViewModels.Controls.$L0(this);this.set_Visible(!$0.$1(this.get_Data())&&!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_Data().toString()));this.set_KBArticleLauncherCommand(new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:","http://go.microsoft.com/fwlink/?LinkID=316385"));this.AddPropertyChangedListener("Data",this.$$d_$36M);var n=this.$TJ();$0.$1(n)?this.$2.add_$7l(this.$$d_$2Qd):this.$1Uw(n)},$3F7:function(){},$GX:function(){this.$Ge=null;this.set_KBArticleLauncherCommand(null);var n=this.$TJ();$0.$1(n)||(n.RemovePropertyChangedListener("ProcessDescriptor",this.$$d_$2KS),n.RemovePropertyChangedListener("SelectedStageId",this.$$d_$1r5),n.RemovePropertyChangedListener("ErrorMessage",this.$$d_$35g),n.RemovePropertyChangedListener("LoadComplete",this.$$d_$35o),n.RemovePropertyChangedListener("Visible",this.$$d_$2Ka),n.RemovePropertyChangedListener("PopoverVisibility",this.$$d_$362),n.remove_$zS(this.$$d_$zS),n.remove_$13y(this.$$d_$13y),this.$b8=null,this.$16M=null);Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.prototype.$GX.call(this)},get_$zb:function(){return"proxyprocesscontrol"},$13y:function(n,t){var i=t;$0.$1(i)||this.set_HasMultipleBPFInstancesInOffline(i.$Jd)},$2Qd:function(){this.$2.remove_$7l(this.$$d_$2Qd);var n=this.$TJ();this.$1Uw(n)},$Hg:function(n,t){var i=this.$5j("OnActivateEvent");$0.$1(i)||i(this,new Sys.EventArgs);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$Hg.call(this,n,t)},add_OnActivateEvent:function(n){this.$2I("OnActivateEvent",n)},remove_OnActivateEvent:function(n){this.$4N("OnActivateEvent",n)},$1Uw:function(n){$0.$1(n.get_$14i())||(this.$1Oo(n),this.$1cU(n));n.AddPropertyChangedListener("ProcessDescriptor",this.$$d_$2KS);n.AddPropertyChangedListener("SelectedStageId",this.$$d_$1r5);n.AddPropertyChangedListener("ErrorMessage",this.$$d_$35g);n.AddPropertyChangedListener("LoadComplete",this.$$d_$35o);n.AddPropertyChangedListener("Visible",this.$$d_$2Ka);n.AddPropertyChangedListener("PopoverVisibility",this.$$d_$362);n.add_$zS(this.$$d_$zS);n.add_$13y(this.$$d_$13y);this.set_HasMultipleBPFInstancesInOffline(n.$Jd)},$zS:function(){this.$Ge.$1jf()},$TJ:function(){return this.$2.$7X("ProcessManager")},$3XX:function(n){var h,u,f,c,i,r,e,o,l,t,s;if(!$0.$28(this.$ee)&&!$0.$28(n)&&n.Name==="ProcessControl"){h=this.$ee;u=n.ChildViewModels;for(f in u)if(c={key:f,value:u[f]},i=c.value,i.TypeName==="ProcessEntity"){r=h.$F[i.Name];e=i.ChildViewModels;for(o in e)l={key:o,value:e[o]},t=l.value,t.TypeName==="Stage"&&t.Name&&t.Name in r.$F&&(s=r.$F[t.Name].$A6,this.$b8[s]=r.$F[t.Name],this.$16M[s]=t)}}},$36M:function(){var n=this.$TJ();this.$1cU(n)},$1r5:function(n,t){var i=n;i&&t==="SelectedStageId"&&(this.$1cU(i),this.$8("SelectedStage"))},$35g:function(n,t){var i=n;i&&t==="ErrorMessage"&&this.set_ErrorMessage(i.$5C)},$35o:function(n,t){var i=n;i&&t==="LoadComplete"&&this.set_LoadComplete(i.$Qo)},$2KS:function(n,t){var i=n;i&&t==="ProcessDescriptor"&&this.$1Oo(i)},$2Ka:function(n,t){var i=n;i&&t==="Visible"&&this.set_Visible(i.$1z)},$362:function(n,t){var i=n;i&&t==="PopoverVisibility"&&(!this.get_PopoverVisibility()&&i.get_$Cw()&&i.set_SelectedStageId(i.get_$Cw().toString()),this.$Ge.$22j(this.get_PopoverVisibility()),this.$8("PopoverVisibility"))},$1Oo:function(n){this.$1cU(n);var t=n.get_$14i();if($0.$1(t)||$0.$1(t.ChildViewModels)){$0.$1(n.$Hk)?(this.set_Enabled(!1),this.set_Visible(!1)):(this.set_Visible(!0),this.set_DeletedProcess(!0),!$0.$1(this.$2)&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&this.$2.$MQ.$254("Process_Not_Found_Error",this.get_DeletedProcessMessage(),3,-1));return}this.set_Visible(!0);this.set_DeletedProcess(!1);this.$1Ur(t);this.$3XX(t)},$1Ur:function(n){n.PrimaryModelName=this.$J;this.$Ge.$1Ur(n)},$1cU:function(n){var t=n.get_$1bz();$0.$1(t)||this.set_Label(t.get_$2YZ())}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Bh=function(){this.$$d_$13y=Function.createDelegate(this,this.$13y);this.$$d_$zS=Function.createDelegate(this,this.$zS);this.$$d_$2Ka=Function.createDelegate(this,this.$2Ka);this.$$d_$2KS=Function.createDelegate(this,this.$2KS);this.$$d_$2Qd=Function.createDelegate(this,this.$2Qd);this.get_$2D6=this.get_FetchedViewModel;this.set_$2D6=this.set_FetchedViewModel;this.set_$2j7=this.set_ControlDescriptor;Microsoft.Crm.Client.Core.ViewModels.Controls.$Bh.resolveInheritance();this.get_$3DO=this.get_ModelContext;this.get_$2hk=this.get_ChildViewModels;Microsoft.Crm.Client.Core.ViewModels.Controls.$Bh.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Bh.prototype={$Ge:null,$ku:null,$1em:!1,get_ControlDescriptor:function(){return this.$ku},set_ControlDescriptor:function(n){return this.$ku!==n&&(this.$ku=n,this.$8("ControlDescriptor")),n},$Jd:!0,get_HasMultipleBPFInstancesInOffline:function(){return this.$Jd},set_HasMultipleBPFInstancesInOffline:function(n){return this.$Jd!==n&&(this.$Jd=n,this.$8("HasMultipleBPFInstancesInOffline")),n},$ee:null,get_FetchedViewModel:function(){return this.$ee},set_FetchedViewModel:function(n){return this.$ee=n,n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$Ge=new Microsoft.Crm.Client.Core.ViewModels.Controls.$L0(this);this.set_Visible(!$0.$1(this.get_Data())&&!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_Data().toString()));var n=this.get_$BV();$0.$1(n)?this.$2.add_$7l(this.$$d_$2Qd):this.$1Uw(n)},$3F7:function(){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LoadedReadReady",0,this.$12),this.$Im("RenderedReadReady"),this.$1em=!0)},get_HasBusinessProcess:function(){if(!$0.$1(this.$2.get_ModelContext())){var n=this.$2.get_ModelContext();return!$0.$1(n.GetValue("processid"))}return!1},get_IsProcessHiddenByClientApi:function(){return this.$4n?this.$4n.$1gH:!1},IsProcessBasedOnMultipleEntities:function(){var n,t,i,r,u;if(!$0.$1(this.get_$BV())&&(n=this.get_$BV().get_$7d(),!$0.$1(n)&&(t=n.$21M,!$0.$1(t)))){i=t;for(r in i)if(u={key:r,value:i[r]},u.key!==n.$J)return!0}return!1},UIHasRendered:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.UIHasRendered.call(this);Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&this.$1em&&(this.get_$BV().$3Q5(),this.$1em=!1)},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this);this.$Ge=null;var n=this.get_$BV();$0.$1(n)||(n.RemovePropertyChangedListener("ProcessObjectModel",this.$$d_$2KS),n.RemovePropertyChangedListener("Visible",this.$$d_$2Ka),n.remove_$zS(this.$$d_$zS),n.remove_$13y(this.$$d_$13y))},$13y:function(n,t){var i=t;$0.$1(i)||this.set_HasMultipleBPFInstancesInOffline(i.$Jd)},$2Qd:function(){this.$2.remove_$7l(this.$$d_$2Qd);var n=this.get_$BV();this.$1Uw(n)},$1Uw:function(n){$0.$1(n.get_$R9())||this.$1Oo(n);n.AddPropertyChangedListener("ProcessObjectModel",this.$$d_$2KS);n.AddPropertyChangedListener("Visible",this.$$d_$2Ka);n.add_$zS(this.$$d_$zS);n.add_$13y(this.$$d_$13y);this.set_HasMultipleBPFInstancesInOffline(n.$Jd)},$4n:null,get_$BV:function(){return $0.$1(this.$4n)&&(this.$4n=this.$2.$7X("ProcessManager")),this.$4n},$2KS:function(n,t){var i=n;i&&t==="ProcessObjectModel"&&this.$1Oo(i)},$2Ka:function(n,t){var i=n;i&&t==="Visible"&&this.set_Visible(i.$1z)},$1Oo:function(n){if($0.$1(n.get_$R9())||!n.get_$R9().steps.get_Count()){this.set_Enabled(!1);this.set_Visible(!1);return}this.set_Visible(!0);this.$1Ur()},$zS:function(){this.$Ge.$1jf()},$1Ur:function(){var n=this.$2tX();this.$Ge.$1Ur(n)},$2tX:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ProcessHeader","ProcessHeader","ProcessHeader",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ReferencePropertyDescriptor("Data","stageid")],{CssClass:"processHeader"},null,this.$J)}};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel=function(){this.$$d_$3Gz=Function.createDelegate(this,this.$3Gz);this.$$d_$Os=Function.createDelegate(this,this.$Os);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1c("SearchBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$3QA)};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$3QA=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel;return n.$NE=144,n.$DU=Microsoft.Crm.Client.Core.Commands.SearchCommand.$10(n,null),n};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.prototype={$ht:null,$wt:null,$1bo:null,$1d5:!1,$1IU:null,$6L:null,get_EntityNames:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();return n.$h!=="relevanceSearchPage"||this.get_UsePhoneExperience()?$0.$1(this.get_SelectedItem())||Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_SelectedItem())||this.get_SelectedItem()==="NoFilter"?this.get_ItemValues():[this.get_SelectedItem()]:this.$Ko&&this.$Ko.length>0?this.$Ko:this.get_ItemValues()},get_ItemLabels:function(){return this.get_ComboBoxViewModel().$GY},set_ItemLabels:function(n){return this.get_ComboBoxViewModel().set_ItemLabels(n),n},get_ItemValues:function(){return this.get_ComboBoxViewModel().$FI},set_ItemValues:function(n){return this.get_ComboBoxViewModel().set_ItemValues(n),n},get_SelectedItem:function(){return this.get_ComboBoxViewModel().$51},set_SelectedItem:function(n){var u=!1,e,r;if(!$0.$1(n)&&Microsoft.Crm.Client.Core.ViewModels.$n.$IT(n))for(var f=this.get_ItemValues(),s=f.length,t=0;t<s;++t)if(e=f[t],e===n){this.get_ComboBoxViewModel().set_SelectedItem(n);u=!0;break}if(!u&&(this.get_ComboBoxViewModel().set_SelectedItem("NoFilter"),!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()))for(var o=this.get_ItemValues(),h=o.length,i=0;i<h;++i)if(r=o[i],Microsoft.Crm.Client.Core.ViewModels.$n.$L8(r)){this.get_ComboBoxViewModel().set_SelectedItem(r);break}return this.$8("SelectedItem"),n},get_SearchSummaryPaneViewModel:function(){return $0.$1(this.$ht)&&(this.$ht=this.$2.$7X("searchSummaryPane")),this.$ht},get_UserInfoPaneViewModel:function(){return $0.$1(this.$wt)&&(this.$wt=this.$2.$7X("userInfoPane")),this.$wt},get_SearchSummaryViewModel:function(){return $0.$1(this.$1bo)&&(this.$1bo=this.$2.$7X("SearchSummary")),this.$1bo},get_EntityListViewModels:function(){var t,i,r,n;if($0.$1(this.$JL)){this.$JL=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel));t=this.get_PanoramaContainer().$F;for(i in t)r={key:i,value:t[i]},n=r.value,"searchSummaryPane"in n.$F||"searchProgressImagePane"in n.$F||"userInfoPane"in n.$F||"FacetPane"in n.$F||this.$JL.add(n)}return this.$JL},$18:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$18.call(this);this.set_SelectedItem("NoFilter");$0.$1(this.$2.$Q)||$0.$1(this.$2.$Q.$T)||"SearchEntity"in this.$2.$Q.$T&&this.set_SelectedItem(this.$2.$Q.$T.SearchEntity);!$0.$1(this.$2.$A1)&&"LastUsedSearchText"in this.$2.$A1&&!$0.$1(this.$2.$A1.LastUsedSearchText)&&(this.$1IV=this.$2.$A1.LastUsedSearchText.toString());this.get_ComboBoxViewModel().AddPropertyChangedListener("SelectedItem",this.$$d_$Os);this.get_SearchTypeViewModel().AddPropertyChangedListener("SelectedItem",this.$$d_$3Gz);this.AddPropertyChangedListener("SelectedItem",this.$$d_$Os)},$Hg:function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();this.get_SearchTypeViewModel().RemovePropertyChangedListener("SelectedItem",this.$$d_$3Gz);this.$37w();i.$h==="relevanceSearchPage"?this.get_SearchTypeViewModel().set_SelectedItem("RelevanceSearch"):this.get_SearchTypeViewModel().set_SelectedItem("CategorizedSearch");this.get_SearchTypeViewModel().AddPropertyChangedListener("SelectedItem",this.$$d_$3Gz);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$Hg.call(this,n,t)},$Os:function(){this.set_IsActivitiesNotesCheckBoxDisabled(this.get_SelectedItem()==="NoFilter"||this.$W9[this.get_SelectedItem()].toString()==="0"&&this.$ZQ[this.get_SelectedItem()].toString()==="0");this.set_ActivityNotesCheckBoxData(this.$1EY?!1:this.$cR)},$3Gz:function(){this.$36E()},$1u8:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$1u8.call(this,n);$0.$1(this.$2.$Q)||$0.$1(this.$2.$Q.$T)||"SearchEntity"in this.$2.$Q.$T&&this.set_SelectedItem(this.$2.$Q.$T.SearchEntity)},$2YA:function(){this.get_SearchSummaryPaneViewModel().set_Visible(this.$1d5);this.$ht.$H9=!0;this.$TT?($0.$1(this.get_UserInfoPaneViewModel())||(this.get_UserInfoPaneViewModel().set_Visible(!1),this.get_UserInfoPaneViewModel().$H9=!1),$0.$1(this.get_FacetPanePanoramaItemViewModel())||this.get_FacetPanePanoramaItemViewModel().set_Visible(!0),this.get_SearchSummaryViewModel().$12d=!0):this.get_SearchSummaryPaneViewModel().set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Search_Summary_Title"));this.get_SearchSummaryViewModel().set_SearchResults(this.$1IU);this.get_SearchSummaryViewModel().set_DisplayMode(1);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$2YA.call(this)},$1cw:function(){this.get_SearchSummaryPaneViewModel().set_Visible(!0);this.$ht.$H9=!0;this.$TT&&($0.$1(this.get_UserInfoPaneViewModel())||(this.get_UserInfoPaneViewModel().set_Visible(!1),this.get_UserInfoPaneViewModel().$H9=!1),this.get_SearchSummaryViewModel().$12d=!0);this.get_SearchSummaryViewModel().set_SearchResults(this.$1IU);this.get_SearchSummaryViewModel().set_DisplayMode(2);this.get_SearchSummaryPaneViewModel().set_Label("");Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh.prototype.$1cw.call(this)},$21C:function(){this.$36x();this.get_SearchSummaryViewModel().set_DisplayMode(0);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$21C.call(this)},$36E:function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T(),n=null,i;this.get_SearchTypeViewModel().$51==="CategorizedSearch"?t.$h!=="SearchPage"&&(n=new Microsoft.Crm.Client.Core.Commands.$33(t,26)):t.$h!=="relevanceSearchPage"&&(n=new Microsoft.Crm.Client.Core.Commands.$33(t,47));i={};i.LastUsedSearchText=this.$1IV;n.$A1=i;$0.$1(n)||(this.$36F(),n.execute(),n.dispose())},$36x:function(){var t=this.$2.$7X("FormHeader"),n;for($0.$1(t)||t.set_PrimaryModelName(""),this.get_SearchSummaryPaneViewModel().set_Visible(!1),$0.$1(this.get_UserInfoPaneViewModel())||this.get_UserInfoPaneViewModel().set_Visible(!1),this.set_IsLoading(!1),this.get_SearchSummaryViewModel().set_DisplayMode(0),n=0;n<this.get_EntityListViewModels().get_Count();n++)this.get_EntityListViewModels().get_$I(n).set_Visible(!1)},$2a4:function(n){this.$1d5=!1;this.$1IU=new Microsoft.Crm.Client.Core.Models.$Je(0);this.$TT&&this.$3Wx(n);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$2a4.call(this,n)},$3Wx:function(n){$0.$1(this.get_FacetPaneViewModel())||this.get_FacetPaneViewModel().$3FB(n.$1C8,this)},$2XE:function(n,t){var i=n,u,r,f,e;if((i.errorCode||!n.get_data().get_count())&&(this.$1d5=!0),u=i.$S+"List",r=new Microsoft.Crm.Client.Core.Models.$Jj(i.$S,i.errorCode,i.$2A.get_count()),r.$1S=this.$WP[u],this.$1IU.$Lb.add(r),f=n.get_entityLogicalName(),e=f+"pane",!i.$2A.get_entities().length){this.get_PanoramaContainer().$F[e].set_Visible(!1);return}Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$2XE.call(this,n,t)},$GX:function(){$0.$1(this.$ht)||(this.$ht.dispose(),this.$ht=null);$0.$1(this.$wt)||(this.$wt.dispose(),this.$wt=null);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$GX.call(this)},get_ComboBoxViewModel:function(){return $0.$1(this.$6L)&&(this.$6L=new Microsoft.Crm.Client.Core.ViewModels.$VE),this.$6L}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Oy=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.Controls.$Oy.initializeBase(this);this.$1eb=n;this.$oL=t;this.$ub=i};Microsoft.Crm.Client.Core.ViewModels.Controls.$Oy.prototype={$1eb:!1,$oL:null,$ub:null,get_UpdateUI:function(){return this.$1eb},get_ParentStage:function(){return this.$oL},get_NextStage:function(){return this.$ub}};Microsoft.Crm.Client.Core.ViewModels.Controls.$7e=function(){this.$$d_$3Do=Function.createDelegate(this,this.$3Do);this.$$d_$2Qf=Function.createDelegate(this,this.$2Qf);this.$$d_$3FC=Function.createDelegate(this,this.$3FC);this.$$d_$3Ga=Function.createDelegate(this,this.$3Ga);this.$$d_$3FX=Function.createDelegate(this,this.$3FX);Microsoft.Crm.Client.Core.ViewModels.Controls.$7e.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$7e.prototype={$A6:null,get_StageId:function(){return this.$A6},set_StageId:function(n){return this.$A6=n,n},$1F2:!1,get_IsNavigationButtonHidden:function(){return this.$1F2},set_IsNavigationButtonHidden:function(n){return this.$1F2!==n&&(this.$1F2=n,this.$8("IsNavigationButtonHidden")),n},$1JJ:null,get_StageNavigationViewModel:function(){return this.$1JJ||(this.$1JJ=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Un),this.$1JJ},set_StageNavigationViewModel:function(n){return this.$1JJ=n,n},$1WP:!1,get_IsScrollRequired:function(){return this.$1WP},set_IsScrollRequired:function(n){return this.$1WP=n,n},get_FlyOutExpanded:function(){return!$0.$1(this.get_StageNavigationViewModel())&&!$0.$1(this.get_StageNavigationViewModel().$Op)?this.get_StageNavigationViewModel().$Op.$Vm:!1},set_FlyOutExpanded:function(n){return $0.$1(this.get_StageNavigationViewModel())||$0.$1(this.get_StageNavigationViewModel().$Op)||this.get_StageNavigationViewModel().$Op.$Vm!==n&&(this.get_StageNavigationViewModel().$Op.set_FlyOutExpanded(n),n&&(this.set_RetrieveNavigationEntitiesSuccess(!1),this.retrieveNavigationEntities()),this.$8("FlyOutExpanded")),n},get_PopoverVisibility:function(){return $0.$1(this.get_$1v())?!1:this.get_$1v().$aX},$1JI:null,get_StageEntityName:function(){return this.$1JI},set_StageEntityName:function(n){return this.$1JI=n,n},$16K:null,get_StageActionCommand:function(){return this.$16K},set_StageActionCommand:function(n){return $0.$1(this.$16K)||this.$16K.dispose(),this.$16K=n,this.$8("StageActionCommand"),n},$wX:null,get_StagePrevActionCommand:function(){return this.$wX},set_StagePrevActionCommand:function(n){return $0.$1(this.$wX)||this.$wX.dispose(),this.$wX=n,this.$8("StagePrevActionCommand"),n},$1AZ:null,get_CompleteProcessActionCommand:function(){return this.$1AZ},set_CompleteProcessActionCommand:function(n){return $0.$1(this.$1AZ)||this.$1AZ.dispose(),this.$1AZ=n,this.$8("FinishProcessActionCommand"),n},$rh:null,get_ClosedLoopCommand:function(){return this.$rh},set_ClosedLoopCommand:function(n){return $0.$1(this.$rh)||this.$rh.dispose(),this.$rh=n,n},$3J:null,get_$1v:function(){if($0.$1(this.$3J)){if(this.$2.$3w)return null;this.$3J=this.$2.$7X("ProcessManager")}return this.$3J},add_$2YY:function(n){this.$2I("StageGateCheck",n)},remove_$2YY:function(n){this.$4N("StageGateCheck",n)},$21N:!1,$1Oi:!1,get_CanCurrentlyNavigate:function(){return this.$1Oi},set_CanCurrentlyNavigate:function(n){return this.$1Oi===n?n:(this.$1Oi=n,this.$8("CanCurrentlyNavigate"),n)},$1bL:!1,get_RetrieveNavigationEntitiesSuccess:function(){return this.$1bL},set_RetrieveNavigationEntitiesSuccess:function(n){return this.$1bL===n?n:(this.$1bL=n,this.$8("RetrieveNavigationEntitiesSuccess"),n)},$rX:!1,get_CanCurrentlyAdvance:function(){return this.$rX},set_CanCurrentlyAdvance:function(n){return this.$rX===n?n:(this.$rX=n,this.$8("CanCurrentlyAdvance"),n)},$1Og:!1,get_CanCurrentlyBack:function(){return this.$1Og},set_CanCurrentlyBack:function(n){return this.$1Og===n?n:(this.$1Og=n,this.$8("CanCurrentlyBack"),n)},$1H2:!1,get_ProcessCompleted:function(){return this.$1H2},set_ProcessCompleted:function(n){return this.$1H2===n?n:(this.$1H2=n,this.$8("ProcessStatusChange"),n)},get_AbortedActionClass:function(){return this.isBusinessProcessAborted()?" abortedAction disabled":" ".trimEnd()},$1Oh:!1,get_CanCurrentlyCloseLoop:function(){return this.$1Oh},set_CanCurrentlyCloseLoop:function(n){return this.$1Oh===n?n:(this.$1Oh=n,this.$8("CanCurrentlyCloseLoop"),n)},get_CanNavigate:function(){return this.get_$1v().$1AJ(this.$A6)},get_CanCloseLoop:function(){return this.get_$1v().$zH(this.$A6)},$13T:"",$Ge:null,set_$3E5:function(n){return this.$13T===n?n:(this.$13T=n,this.$8("NextStageValue"),n)},get_$2Ss:function(){return this.$2DX(this.$13T)},get_$3La:function(){var n=this.get_$1v().get_$8B().$341(this.$A6,this.$13T);return IsNull(n)?null:n.attributeName},get_NextStageLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.Advance")},get_CompleteProcessLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.Finish")},get_CompletedLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.Finished")},get_RetrievingRecordsText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Sales.ProcessControl.RetrievingRecords")},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$2.get_IsLocked()&&this.set_Visible(!1);this.$3Th();this.get_$1v().AddPropertyChangedListener("GlobalActiveStage",this.$$d_$3FX);this.$1Ad();this.get_$1v().AddPropertyChangedListener("ProcessStatus",this.$$d_$3Ga);this.get_$1v().get_$AW().add_$2AU(this.$$d_$3FC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$2Qf);var n=this.$2.$BH.ProxyProcessControl;$0.$1(n)||(this.$Ge=new Microsoft.Crm.Client.Core.ViewModels.Controls.$L0(n));this.get_IsLeadToOpportunityProcess()&&(this.$1F2=!0)},get_IsLeadToOpportunityProcess:function(){return this.$1JI==="lead"&&this.get_$2Ss()==="opportunity"},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$2Qf);$0.$1(this.get_$1v().get_$AW())||this.get_$1v().get_$AW().remove_$2AU(this.$$d_$3FC);this.get_$1v().RemovePropertyChangedListener("GlobalActiveStage",this.$$d_$3FX);this.get_$1v().RemovePropertyChangedListener("ProcessStatus",this.$$d_$3Ga);this.set_ClosedLoopCommand(null);this.set_StageActionCommand(null);this.set_CompleteProcessActionCommand(null);this.set_StagePrevActionCommand(null);this.$3J=null;this.$Ge=null;Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)},$2Qf:function(){this.$1Ad()},$3FX:function(){this.$1Ad()},$3Ga:function(){this.$8("ProcessStatusChange")},$3FC:function(){this.$1z&&this.$1Ad()},$1Ad:function(){var n=$0.$1(this.get_$1v().get_$Cw())||Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_$1v().get_$Cw().toString());this.set_CanCurrentlyNavigate(!n&&this.get_$1v().$26t(this.$A6));this.set_CanCurrentlyAdvance(!n&&this.get_$1v().$1Of(this.$A6));this.set_CanCurrentlyCloseLoop(!n&&this.get_$1v().$26s(this.$A6));this.set_$3E5(n?"":this.get_$1v().get_$AW().$Ja(this.$A6));this.set_CanCurrentlyBack(!n&&this.get_$1v().$1AF(this.$A6)&&this.get_$1v().$1t0());this.set_ProcessCompleted(!1);Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&!this.get_PopoverVisibility()&&this.get_FlyOutExpanded()&&this.set_FlyOutExpanded(!1)},canShowFinishButton:function(){return!this.$rX&&!this.get_CanNavigate()&&!this.isBusinessProcessCompleted()&&this.get_$1v().$1t0()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()},isBusinessProcessAborted:function(){return this.get_$1v().$C0===3},isBusinessProcessCompleted:function(){return this.get_$1v().$C0===2||this.$1H2},$2gP:function(){return this.isBusinessProcessAborted()?!0:(this.$1Dz("StageGateCheck",this,null),this.$21N)},$3Th:function(){var n={},t,i;n.StageViewModel=this;t=this;n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){t.get_Enabled()&&t.$1iJ()},26);this.set_StageActionCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd(n));i=this;n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){i.get_Enabled()&&i.$1kI()},26);this.set_CompleteProcessActionCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd(n));var r=this,u=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){r.get_Enabled()&&r.$3Dh()},26),f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("BackProcessStageCommand","BackProcessStageCommand",{SuccessCommand:u});this.set_StagePrevActionCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$9b(f));n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(this.$$d_$3Do,26);this.set_ClosedLoopCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd(n))},$1kI:function(){this.isBusinessProcessAborted()||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("FinishButtonClicked",0,this.get_ViewModelId()),Xrm.Page.data.process.completeProcess())},$1iJ:function(){var t,i,u,n,f;if(!this.isBusinessProcessAborted()&&(t=this.get_$1v().$Ja(this.get_$1v().get_$Cw().toString()),t)){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("MoveToNextStageClicked",0,this.get_ViewModelId());this.$3J.$DK=!0;i=this.get_Data();this.get_$1v().$I5=null;this.set_Data(new Microsoft.Crm.Client.Core.Framework.Guid(t.id));var e=this.get_$1v().$2,o=this.get_$1v().$fU,r=new Mscrm.ProcessControlShared.ObjectModels.$2X(Mscrm.ProcessControlShared.ObjectModels.$2X.$OV(this.get_$1v().get_$AW().get_$F4(),t.id));if(this.$20w(r.get_$Gb()),Microsoft.Crm.Client.Core.ViewModels.Controls.$47.$uX(this.get_$1v().get_$7d().get_$l9().get_EntityLogicalName())){if(!this.$3Ao(e.get_$1K())){this.$2SE(i,o);this.set_StageMovedTo(null);return}u=this.get_$1v().get_$1K().$M.$DI;$0.$1(u)||this.$3J.$22g(u,r.get_$Gb(),t.id)}n=this;f=this;e.$Iw(70).then(function(u){u&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("MovedToNextStage",0,n.get_ViewModelId()),n.set_StageMovedTo("Next"),n.get_$1v().set_$4l(new Mscrm.ProcessControlShared.ObjectModels.$I8(r,t.id)),n.$3J.$m5("Next",n.$3J.$Dp(i.toString())),n.$3J.$DK=!1,n.$Ge.$X7())},function(){f.$2SE(i,o);f.set_StageMovedTo(null)})}},$3Dh:function(){var c,i,f,t,e,o,l;if(!this.isBusinessProcessAborted()){var p=this.get_$1v().$2,u=this.get_Data(),n=this.get_$1v().$W4(u.toString());if(n&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("MoveToPreviousStageClicked",0,this.get_ViewModelId()),this.$3J.$DK=!0,this.get_$1v().$I5=null,this.set_Data(new Microsoft.Crm.Client.Core.Framework.Guid(n.id)),c=this.get_$1v().$fU,i=new Mscrm.ProcessControlShared.ObjectModels.$2X(Mscrm.ProcessControlShared.ObjectModels.$2X.$OV(this.get_$1v().get_$AW().get_$F4(),n.id)),this.$20w(i.get_$Gb()),Microsoft.Crm.Client.Core.ViewModels.Controls.$47.$uX(this.get_$1v().get_$7d().get_$l9().get_EntityLogicalName())&&(f=this.get_$1v().get_$1K().$M.$DI,$0.$1(f)||this.$3J.$22g(f,i.get_$Gb(),n.id)),t=this.get_$1v().$BM(n.id),!$0.$1(t)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(t.get_EntityLogicalName())&&!$0.$1(this.$2.get_ModelContext())))if(e=this.get_$1v().get_$7d().get_$l9().get_EntityLogicalName(),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("MovedToPreviousStage",0,this.get_ViewModelId()),t.get_EntityLogicalName()===e)this.set_StageMovedTo("Previous"),this.get_$1v().set_$4l(new Mscrm.ProcessControlShared.ObjectModels.$I8(i,n.id)),this.$3J.$m5("Previous",this.$3J.$Dp(u.toString())),this.$3J.$DK=!1,this.$Ge.$X7();else if(!$0.$1(this.get_$1v().get_$Cr()[t.get_EntityLogicalName()])&&(o=this.get_$1v().get_$Cr()[t.get_EntityLogicalName()],l=this.get_$1v().get_$Cr()[e],!Microsoft.Crm.Client.Core.ViewModels.Controls.$47.$uX(t.get_EntityLogicalName()))){var s=new Mscrm.ProcessControlShared.ObjectModels.$2X(Mscrm.ProcessControlShared.ObjectModels.$2X.$OV(this.get_$1v().get_$AW().get_$F4(),n.stageId)),a=Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_$1v().$E2)?"":this.get_$1v().$E2,r=this,v=this,y=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(null,null,{TargetViewModel:this,EntityId:o,EntityLogicalName:t.get_EntityLogicalName(),ProcessControlId:new Microsoft.Crm.Client.Core.Framework.Guid(this.get_$1v().$LF),ProcessInstanceId:a,NewStageId:new Microsoft.Crm.Client.Core.Framework.Guid(n.id),TraversedPath:s.get_$Gb(),SuccesCallback:function(){r.get_$1v().set_$4l(new Mscrm.ProcessControlShared.ObjectModels.$I8(s,n.id));r.get_$1v().$m5("Previous",r.$3J.$Dp(u.toString()));r.get_$1v().$DK=!1;Xrm.Utility.openEntityForm(t.get_EntityLogicalName(),o.toString())},FailureCallback:function(){v.get_$1v().$DK=!1}}),h=new Microsoft.Crm.Client.Core.Commands.$9c(y);h.execute();h.dispose()}}},$20w:function(n){var t=this.get_$1v().$2;t.get_ModelContext().SetValue("traversedpath",n)},$3Ao:function(n){if(n.get_ModelName().toLowerCase()==="incident"){var t=n.GetValue("statecode");if(!$0.$1(t)&&t.$1i===1)return!1}return!0},$21P:null,get_StageMovedTo:function(){return this.$21P},set_StageMovedTo:function(n){return this.$21P=n,this.$8("StageMovedAction"),n},$3Do:function(){var n=this.$2DX(this.$13T);if(!Microsoft.Crm.Client.Core.Framework.$3.$9(n)){var t=this.get_$1v().get_$Cr()[n],i=this.get_$1v().get_$AW(),r=i.$Ja(this.$A6),u=Mscrm.ProcessControlShared.ObjectModels.$2X.$OV(i.get_$F4(),r),f=Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_$1v().$E2)?"":this.get_$1v().$E2,s=this,e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("ChangeProcessControlCommand","CloseLoopCommand",{TargetViewModel:this,EntityId:t,EntityLogicalName:n,ProcessControlId:new Microsoft.Crm.Client.Core.Framework.Guid(this.get_$1v().$LF),ProcessInstanceId:f,NewStageId:new Microsoft.Crm.Client.Core.Framework.Guid(r),TraversedPath:u,SuccesCallback:function(){Xrm.Utility.openEntityForm(n,t.toString())}}),o=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,e);o.execute();this.$Ge.$X7()}},retrieveNavigationEntities:function(){var i={SourceEntityLogicalName:this.get_ModelContext().get_ModelName(),SourceEntityId:this.get_ModelContext().get_Id()},n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveNavigationEntities",i),t=this;n.OnSuccess=function(n){t.$2Ub(n);t.$Ge.$X7()};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},$2Ub:function(n){var t=new Array(0),f={},u,r,e,i;if(n&&Array.isInstanceOfType(n))for(u=n,r=0;r<u.length;r++)e=u[r].ViewModelDescriptor,i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(e,null),i.$18(),Array.add(t,i),f[i.get_Name()]=i;this.get_StageNavigationViewModel().$1AM=t;this.get_StageNavigationViewModel().$Op.$ay(f);this.set_RetrieveNavigationEntitiesSuccess(!0);($0.$1(t)||!$0.$1(t)&&t.length<=0)&&this.set_IsNavigationButtonHidden(!0);t.length>5&&(this.$1WP=!0)},$2DX:function(n){if($0.$1(n))return null;var t=this.get_$1v().$BM(n);return $0.$1(t)?null:t.get_EntityLogicalName()},$2SE:function(n,t){this.set_Data(n);this.$3J.$DK=!1;this.$20w(t)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$C9=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$C9.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$C9.prototype={$wW:null,get_StageCurrentActionCommand:function(){return this.$wW},set_StageCurrentActionCommand:function(n){return $0.$1(this.$wW)||this.$wW.dispose(),this.$wW=n,this.$8("StageCurrentActionCommand"),n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$7e.prototype.$18.call(this);this.$3Tq();this.$3Tj();this.$1Ad()},$GX:function(){$0.$1(this.$wW)||(this.$wW.dispose(),this.set_StageCurrentActionCommand(null));$0.$1(this.$wX)||(this.$wX.dispose(),this.set_StagePrevActionCommand(null));$0.$1(this.$rh)||(this.$rh.dispose(),this.set_ClosedLoopCommand(null));Microsoft.Crm.Client.Core.ViewModels.Controls.$7e.prototype.$GX.call(this)},$1Ad:function(){var n=$0.$1(this.get_$1v().get_$Cw())||Microsoft.Crm.Client.Core.Framework.$3.$1O(this.get_$1v().get_$Cw().toString());Microsoft.Crm.Client.Core.ViewModels.Controls.$7e.prototype.$1Ad.call(this);this.set_CanCurrentlyBack(!n&&this.get_$1v().$1AF(this.$A6))},$3Tq:function(){var n={},t;n.StageViewModel=this;t=this;n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){t.get_Enabled()&&t.$2e5()},26);this.set_StagePrevActionCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd(n));n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(this.$$d_$3Do,26);this.set_ClosedLoopCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd(n))},$3Tj:function(){var n={},t;n.StageViewModel=this;t=this;n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){t.get_Enabled()&&t.$wN()},26);this.set_StageCurrentActionCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd(n))},$wN:function(){var t=this.get_$1v().get_$1bz(),i,r,u,n,f;this.get_IsStageCompleted()&&t&&(this.$3J.$DK=!0,i=this.get_Data(),this.get_$1v().$I5=null,this.set_Data(new Microsoft.Crm.Client.Core.Framework.Guid(t.id)),r=new Mscrm.ProcessControlShared.ObjectModels.$2X(Mscrm.ProcessControlShared.ObjectModels.$2X.$OV(this.get_$1v().get_$AW().get_$F4(),t.id)),u=this.$2,u.get_ModelContext().SetValue("traversedpath",r.get_$Gb()),n=this,f=this,u.$Iw(70).then(function(u){u&&(n.get_$1v().set_$4l(new Mscrm.ProcessControlShared.ObjectModels.$I8(r,t.id)),n.$3J.$m5(null,n.$3J.$Dp(i.toString())),n.$3J.$DK=!1,n.$Ge.$X7())},function(){f.set_Data(i);f.$3J.$DK=!1}))},$2e5:function(){var t=this.get_$1v().$W4(this.get_$1v().get_$Cw().toString()),r,u,f,n,i;t&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("MoveToPrevStageClicked",0,this.get_ViewModelId()),this.$3J.$DK=!0,r=this.get_Data(),this.get_$1v().$I5=null,this.set_Data(new Microsoft.Crm.Client.Core.Framework.Guid(t.id)),u=new Mscrm.ProcessControlShared.ObjectModels.$2X(Mscrm.ProcessControlShared.ObjectModels.$2X.$OV(this.get_$1v().get_$AW().get_$F4(),t.id)),f=this.$2,f.get_ModelContext().SetValue("traversedpath",u.get_$Gb()),n=this,i=this,f.$Iw(70).then(function(i){i&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("MovedToPrevStage",0,n.get_ViewModelId()),n.set_StageMovedTo("Previous"),n.get_$1v().set_$4l(new Mscrm.ProcessControlShared.ObjectModels.$I8(u,t.id)),n.$3J.$m5("Previous",n.$3J.$Dp(r.toString())),n.$3J.$DK=!1,n.$Ge.$X7())},function(){i.set_StageMovedTo(null);i.set_Data(r);i.$3J.$DK=!1}))},get_IsStageLock:function(){return this.$3J.$1tF(this.$A6)},get_IsStageCompleted:function(){return this.get_$1v().$12l(this.get_$1v().$CQ.toString())}};Microsoft.Crm.Client.Core.ViewModels.Controls.$CA=function(){this.$$d_$3H9=Function.createDelegate(this,this.$3H9);this.$$d_$Or=Function.createDelegate(this,this.$Or);this.$$d_$35X=Function.createDelegate(this,this.$35X);this.$$d_$1r5=Function.createDelegate(this,this.$1r5);Microsoft.Crm.Client.Core.ViewModels.Controls.$CA.initializeBase(this);this.$1F1=!0};Microsoft.Crm.Client.Core.ViewModels.Controls.$CA.prototype={$Ds:!1,$iN:null,$21O:null,get_$Cw:function(){var n=this.$TJ();return $0.$1(n)?this.get_Data():n.get_$Cw()},$1Zn:null,$A6:null,get_StageId:function(){return this.$A6},set_StageId:function(n){return this.$A6=n,n},$168:!1,get_Show:function(){return this.$168},set_Show:function(n){return this.$168!==n&&(this.$168=n,this.$8("Show")),n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);var n=this.$TJ();n.AddPropertyChangedListener("SelectedStageId",this.$$d_$1r5);n.AddPropertyChangedListener("CalculatedStageId",this.$$d_$35X);this.AddPropertyChangedListener("Data",this.$$d_$Or);this.$21O=this.$G;this.$iN=n.$Dp(this.$A6);this.$Ds=this.$1s8();this.$20z();$0.$1(this.get_ModelContext())||this.$20h()},$GX:function(){var t=this.$TJ(),n;$0.$1(t)||t.RemovePropertyChangedListener("SelectedStageId",this.$$d_$1r5);n=this.$1qo();!$0.$1(n)&&Microsoft.Crm.Client.Core.ViewModels.Controls.$7e.isInstanceOfType(n)&&n.remove_$2YY(this.$$d_$3H9);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$8V.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.Controls.$7e.isInstanceOfType(t)?this.$3Tf(t):Microsoft.Crm.Client.Core.ViewModels.Controls.$9I.isInstanceOfType(t)&&this.$3Tr(t)},$3Tf:function(n){n.set_Visible(this.$2Lx());n.add_$2YY(this.$$d_$3H9)},$3H9:function(){var n=this.$1qo();$0.$1(n)||(n.$21N=this.$16L())},$3Tr:function(n){this.$1Zn=n},$16L:function(){return!$0.$1(this.$1Zn)&&this.$1Zn.$16L()},$1r5:function(){this.$20z()},$35X:function(){this.$Ds=this.$1s8();this.$20h()},$Or:function(){this.$20z();this.$Ds=this.$1s8();this.$20h()},$20h:function(){var n=this.$1qo();$0.$1(n)||n.set_Visible(this.$2Lx())},$20z:function(){if($0.$1(this.get_$Cw())){this.set_Show(!1);return}this.set_Show(this.$3AT())},$1s8:function(){return $0.$1(this.$iN)||$0.$1(this.get_$Cw())?!1:this.get_$Cw().toString().toLowerCase()===this.$iN.id},$3AT:function(){var t=this.$TJ(),n=t.get_$1bz();return $0.$1(n)||$0.$1(this.$iN)?!1:this.$iN.id===n.id},$1qo:function(){if($0.$1(this.get_ModelContext()))return null;var n=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$33X(this.get_ModelContext().get_ModelName(),this.$21O);return this.$F[n]},$2Lx:function(){var n=this.$TJ();return $0.$1(n.get_$R9())?!1:!this.$Ds||$0.$1(this.get_$Cw())?!1:!0},$TJ:function(){return this.$2.$7X("ProcessManager")}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ky=function(n){this.$4n=n};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ky.prototype={$zH:function(n){var t,r,u,o,i,e;if($0.$1(n)||(n=new Microsoft.Crm.Client.Core.Framework.Guid(n).toString(),t=this.$4n.get_$8B(),!(n in t.get_$oJ()))||(r=t.get_$oJ()[n],!Array.contains(this.get_$2gd(),r.get_EntityLogicalName())))return!1;u=this.$4n.get_$4l();o=$0.$1(u)?Mscrm.ProcessControlShared.ObjectModels.$2X.$2HS(t.get_$b6(),n):u.get_$CU().get_$Gb();for(var s=o.split(","),h=s.length,f=0;f<h;++f){if(i=s[f],i===n)return!1;if(e=i in t.get_$oJ()?t.get_$oJ()[i]:null,!$0.$1(e)&&r.get_EntityLogicalName()===e.get_EntityLogicalName())return!0}return!1},$4n:null,$1AG:null,get_$2gd:function(){var t,n;if($0.$1(this.$1AG)){this.$1AG=new Array(0);var r=this.$4n.get_$8B(),u=r.get_$2Bc(),i=u;for(t in i)n={key:t,value:i[t]},!$0.$1(n.value)&&n.value.length>1&&Array.add(this.$1AG,n.key)}return this.$1AG}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck.prototype={$1hY:0,get_WidthPercent:function(){return this.$1hY},set_WidthPercent:function(n){return this.$1hY=n,n},$1fy:0,get_HeightPercent:function(){return this.$1fy},set_HeightPercent:function(n){return this.$1fy=n,n}};Type.registerNamespace("Microsoft.Crm.Client.Core.Commands");Microsoft.Crm.Client.Core.Commands.$9R=function(n){var t,i;this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.$9R.initializeBase(this);this.set_$2e(this.$$d_$31);t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$3J=this.$2.$7X("ProcessManager");i=this.$2.get_ModelContext();this.set_CanExecute(this.$1Eo())};Microsoft.Crm.Client.Core.Commands.$9R.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("AbandonProcessCommand",Microsoft.Crm.Client.Core.Commands.$9R.$10)};Microsoft.Crm.Client.Core.Commands.$9R.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.$9R(t)};Microsoft.Crm.Client.Core.Commands.$9R.prototype={$2:null,$3J:null,$31:function(){this.$3J.$24I()},$1Eo:function(){return $0.$1(this.$3J)?!1:!this.$3J.$16}};Microsoft.Crm.Client.Core.Commands.$AO=function(n){var t,i;this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.$AO.initializeBase(this);this.set_$2e(this.$$d_$31);t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$3J=this.$2.$7X("ProcessManager");i=this.$2.get_ModelContext();this.set_CanExecute(this.$1Eo())};Microsoft.Crm.Client.Core.Commands.$AO.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("FinishProcessCommand",Microsoft.Crm.Client.Core.Commands.$AO.$10)};Microsoft.Crm.Client.Core.Commands.$AO.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.$AO(t)};Microsoft.Crm.Client.Core.Commands.$AO.prototype={$2:null,$3J:null,$31:function(){this.$3J.$1kI()},$1Eo:function(){return $0.$1(this.$3J)?!1:!this.$3J.$16&&this.$3J.$2MQ()}};Microsoft.Crm.Client.Core.Commands.$Bn=function(n){var t,i;this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.$Bn.initializeBase(this);this.set_$2e(this.$$d_$31);t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$3J=this.$2.$7X("ProcessManager");i=this.$2.get_ModelContext();this.set_CanExecute(this.$1Eo())};Microsoft.Crm.Client.Core.Commands.$Bn.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ReactivateProcessCommand",Microsoft.Crm.Client.Core.Commands.$Bn.$10)};Microsoft.Crm.Client.Core.Commands.$Bn.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.$Bn(t)};Microsoft.Crm.Client.Core.Commands.$Bn.prototype={$2:null,$3J:null,$31:function(){this.$3J.$2Sl()},$1Eo:function(){return $0.$1(this.$3J)?!1:this.$3J.$16===1}};Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ShowSelectableEntityNoteList",Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.$10)};Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.$10=function(){return new Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand};Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.prototype={$31:function(){$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ().collapse();var n=new Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel;n.$18();n.Show()}};Microsoft.Crm.Client.Core.Commands.SendEmailCommand=function(n){var t,u,i;if(this.$$d_$31=Function.createDelegate(this,this.$31),Microsoft.Crm.Client.Core.Commands.SendEmailCommand.initializeBase(this),this.set_$2e(this.$$d_$31),"TargetViewModel"in n.InitializationParameters&&(this.$X=n.InitializationParameters.TargetViewModel,this.$X&&this.$X.get_ModelContext())){if(t=null,this.$5g=this.$X.get_ModelContext().get_Id(),this.$In=this.$X.get_ModelContext().GetValue("regardingobjectid"),this.$pZ="mailto:",!this.$In)return;if(this.$In.LogicalName==="lead")t=["emailaddress1","ownerid"];else if(this.$In.LogicalName==="account")t=["primarycontactid","ownerid"];else if(this.$In.LogicalName==="contact")t=["emailaddress1","ownerid"];else if(this.$In.LogicalName==="opportunity"||this.$In.LogicalName==="incident")t=["customerid","ownerid"];else return;u=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(t);i={};i.logicalname=this.$In.LogicalName;i.id=new Microsoft.Crm.Client.Core.Framework.Guid(this.$In.Id.toString()).getObjectData();var f=Xrm.Objects.EntityReference.createFromObjectData(i),r=this,e=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(f,u,Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),Microsoft.Crm.Client.Core.Framework.$G.$b("","SendEmailCommand")).then(function(n){var t=null,i,u;if(n.hasField("primarycontactid")?t=n.getValue("primarycontactid"):n.hasField("parentcustomerid")?t=n.getValue("parentcustomerid"):n.hasField("parentaccountid")?t=n.getValue("parentaccountid"):n.hasField("customerid")&&(t=n.getValue("customerid")),n.hasField("emailaddress1"))r.$pZ=r.$pZ+n.getValue("emailaddress1");else{if(!t)return;i=["emailaddress1"];u=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(i);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(t,u,Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),Microsoft.Crm.Client.Core.Framework.$G.$b("","SendEmailCommands")).then(function(n){n&&n.hasField("emailaddress1")&&(Microsoft.Crm.Client.Core.Framework.$3.$9(n.fields.emailaddress1)||(r.$pZ=r.$pZ+n.fields.emailaddress1.toString()))},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"An error retrieving the data. Error message: {0}",n.$E)})}},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"An error retrieving the data. Error message: {0}",n.$E)})}};Microsoft.Crm.Client.Core.Commands.SendEmailCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("SendEmailCommand",Microsoft.Crm.Client.Core.Commands.SendEmailCommand.$10)};Microsoft.Crm.Client.Core.Commands.SendEmailCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.SendEmailCommand(t)};Microsoft.Crm.Client.Core.Commands.SendEmailCommand.prototype={$X:null,$pZ:null,$In:null,$5g:null,$31:function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$20?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$Ou(this.$pZ):window.location.href=this.$pZ}};Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$X=n.InitializationParameters.TargetViewModel};Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("EmailAttendeesCommand",Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.$10)};Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand(t)};Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.prototype={$X:null,$31:function(){var r,u;if(this.$X&&this.$X.get_ModelContext()){var n=this.$X.get_ModelContext().GetValue("regardingobjectid"),f=String.format("logicalName: {0}, entityId: {1}",n.LogicalName,n.Id.toString()),i="{ logicalName: 'meetingData', entityId: '"+n.Id.toString()+"'}",t=[];t.push(Xrm.Internal.messages.retrieveCardData(new Microsoft.Crm.Client.Core.Framework.Guid("CAC83683-0E44-4FDE-8951-A3FFDC702861"),i));r=this;u=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t).then(function(n){var o,t,i,r;if(n.length>0&&n[0].data){var e=Sys.Serialization.JavaScriptSerializer.deserialize(n[0].data),u="",f="";if(!$0.$1(e)&&(o=e.cardRelatedInfo,t=o.attendees,t))for(i=0;i<t.length;i++){var c=t[i],s=c.contextPrimaryInfo,h=s.description,l=s.optional;l?f+=h+";":u+=h+";"}Mscrm.InternalUtilities._String.isNullOrEmpty(u)||(r="mailto:"+u,Mscrm.InternalUtilities._String.isNullOrEmpty(f)||(r+="?cc="+f),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$20?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$Ou(r):window.location.href=r)}},function(){})}},$GX:function(){this.$X=null;Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand=function(n){this.$$d_$1YG=Function.createDelegate(this,this.$1YG);this.$$d_$1YH=Function.createDelegate(this,this.$1YH);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$X=n.InitializationParameters.TargetViewModel};Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("SkypeMeetingCommand",Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.$10)};Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand(t)};Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.prototype={$X:null,$31:function(){var t,n;if(this.$X&&this.$X.get_ModelContext()&&(t=this.$X.get_ModelContext().GetValue("cardtype"),(t==="100"||t==="21")&&(n=this.$X.get_ModelContext().GetValue("description"),!Mscrm.InternalUtilities._String.isNullOrEmpty(n)&&n.indexOf("https://join.microsoft.com/meet")>-1))){var r=new RegExp("http(s)?:\\/\\/(join.microsoft.com\\/meet)\\/(\\w.)+"),u=r.exec(n),i=u[0];Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Mo.$1Ok(i,this.$$d_$1YH,this.$$d_$1YG):Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?window.open(i):window.location.href=i}},$1YG:function(){},$1YH:function(){},$GX:function(){this.$X=null;Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.Commands.PhoneCallCommand=function(n){this.$$d_$1YG=Function.createDelegate(this,this.$1YG);this.$$d_$1YH=Function.createDelegate(this,this.$1YH);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$X=n.InitializationParameters.TargetViewModel};Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("PhoneCallCommand",Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.$10)};Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.PhoneCallCommand(t)};Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.prototype={$X:null,$UV:null,get_$28k:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$e2},$31:function(){if(this.$X&&this.$X.get_ModelContext()){var f=this.$X.get_ModelContext().GetValue("cardtype"),t=this.$X.get_ModelContext().GetValue("data"),n=Sys.Serialization.JavaScriptSerializer.deserialize(t);if(!$0.$1(n)){var i=n.cardRelatedInfo,r=i.Phone,u=new Mscrm.$Nn;this.$UV=u.$1jB(r,this.get_$28k(),"tel");Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$20&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U)?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Mo.$1Ok(this.$UV,this.$$d_$1YH,this.$$d_$1YG):Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?window.open(this.$UV):window.location.href=this.$UV}}},$1YG:function(){},$1YH:function(){},$GX:function(){this.$X=null;Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand.$10=function(n,t){var i=new Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand(t),r=t.InitializationParameters.TargetViewModel,u=r.$BH.powerBIFullScreenComponent;return u?(i.set_CanExecute(r.$1F8||r.$o===50),i.$1dp=i.$34l(u),i):(i.set_CanExecute(!1),null)};Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand.prototype={$1dp:null,$34l:function(n){var t="https://app.powerbi.com/MobileRedirect.html?";return n.$c5===1?(t+="action=OpenDashboard",t+="&dashboardObjectId="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$bT(n.$Xu)):n.$c5?n.$c5===2&&(t+="action=OpenReport",t+="&reportObjectId="+n.$jy):(t+="action=OpenTile",t+="&dashboardObjectId="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$bT(n.$Xu),t+="&tileObjectId="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$bT(n.$c6)),t},$31:function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$20?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$Ou(this.$1dp):window.open(this.$1dp)}};Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand.$10=function(n,t){var i=new Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand(t),u=t.InitializationParameters.TargetViewModel,r=u.$BH.powerBIFullScreenComponent;return r?(i.set_CanExecute(u.$o===50&&!r.$c5&&!Microsoft.Crm.Client.Core.Framework.$3.$9(r.$qd)),i.$vF=r,i):(i.set_CanExecute(!1),null)};Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand.prototype={$vF:null,$31:function(){var t,n;Microsoft.Crm.Client.Core.Framework.$3.$9(this.$vF.$jy)?(t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel,t.$GL=0,t.$Bv=0,t.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TileIsNotPinnedFromReport")),t.Show()):(n=new Microsoft.Crm.Client.Core.Commands.$33(null,50),n.$1B={},n.$1B.externalContextPowerBIUrl=this.$vF.$qd,n.$1B.dashboardId=this.$vF.$Xu,n.$1B.tileId=this.$vF.$c6,n.$1B.reportId=this.$vF.$jy,n.$1B.powerBIComponentType=2,n.execute())}};Microsoft.Crm.Client.Core.Commands.$BU=function(n,t){Microsoft.Crm.Client.Core.Commands.$BU.initializeBase(this,[n,4]);this.$23S=t};Microsoft.Crm.Client.Core.Commands.$BU.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenSwitchProcessDialogCommand",Microsoft.Crm.Client.Core.Commands.$BU.$10)};Microsoft.Crm.Client.Core.Commands.$BU.$10=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$Lo,i=t.$2mo();return new Microsoft.Crm.Client.Core.Commands.$BU(n,i)};Microsoft.Crm.Client.Core.Commands.$BU.prototype={$23S:null,$Tj:function(){this.$3I5()},$2mV:function(){var n=this.$A,t=n.get_TargetViewModel().get_$1K().get_Id(),i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CurrentEntityRecordId",t),r=n.get_TargetViewModel().get_$1K().get_ModelName(),u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CurrentEntityLogicalName",r),f=[u,i],e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor(Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel.getName(),"SwitchProcessDialog","SwitchProcessDialog",f,null);return this.$23S.$7N(e,n.get_TargetViewModel().get_$1K(),null,n.get_TargetViewModel().get_Root())},$3I5:function(){var n=this.$2mV();this.$X=n;Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Tj.call(this)}};Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$2q=n.InitializationParameters.TargetViewModel;this.$2=this.$2q.get_Root()};Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("BindArchivedProcessCommand",Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.$10)};Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand(t)};Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.prototype={$2q:null,$2:null,$9p:null,$31:function(){var n={QueryType:"LoadArchivedProcessListData",TargetViewModel:this.$2q,SuccesCallback:this.$9p};this.$2q.get_Root().set_IsArchivedProcessCommand(!this.$2q.get_Root().$nF);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$2,n)}};Microsoft.Crm.Client.Core.Commands.$8b=function(n,t){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.$8b.initializeBase(this);this.$1jW=t;this.$E0=n.get_Root();this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.$8b.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c(Microsoft.Crm.Client.Core.Commands.$8b.getName(),Microsoft.Crm.Client.Core.Commands.$8b.$10)};Microsoft.Crm.Client.Core.Commands.$8b.$10=function(n){var i=n.get_Root().$2,u=i.$7X("ProcessManager"),f=new Microsoft.Crm.Client.Core.Framework.Guid(i.get_$1K().get_Id()),e=i.$J,t=n.get_ModelContext(),r=t.GetValue("type"),o=r==="definition"?t.get_Id():t.GetValue("ProcessDefinitionId"),s=r==="instance"?t.get_Id():null,h={TargetViewModel:u,EntityId:f,EntityLogicalName:e,ProcessControlId:o,ProcessInstanceId:s,NewStageId:null,TraversedPath:null,SuccesCallback:function(){},FailureCallback:function(){}},c=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("ChangeProcessControlCommand","ChangeProcessControlCommand",h),l=new Microsoft.Crm.Client.Core.Commands.$9c(c);return new Microsoft.Crm.Client.Core.Commands.$8b(n,l)};Microsoft.Crm.Client.Core.Commands.$8b.prototype={$1jW:null,$E0:null,$31:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Nq(this.$E0);this.$1jW.execute()}};Microsoft.Crm.Client.Core.Commands.$9c=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.$9c.initializeBase(this);this.set_$2e(this.$$d_$31);var t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$Fg=n.InitializationParameters.EntityId;this.$S=n.InitializationParameters.EntityLogicalName;"ProcessControlId"in n.InitializationParameters&&(this.$hD=n.InitializationParameters.ProcessControlId);this.$E2="ProcessInstanceId"in n.InitializationParameters?Microsoft.Crm.Client.Core.Framework.$3.$9(n.InitializationParameters.ProcessInstanceId)?"":n.InitializationParameters.ProcessInstanceId:"";this.$gQ=n.InitializationParameters.NewStageId;this.$uY=n.InitializationParameters.TraversedPath;this.$9p=n.InitializationParameters.SuccesCallback;this.$BL=n.InitializationParameters.FailureCallback};Microsoft.Crm.Client.Core.Commands.$9c.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ChangeProcessControlCommand",Microsoft.Crm.Client.Core.Commands.$9c.$10)};Microsoft.Crm.Client.Core.Commands.$9c.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.$9c(t)};Microsoft.Crm.Client.Core.Commands.$9c.prototype={$S:null,$gQ:null,$uY:null,$hD:null,$E2:null,$Fg:null,$BL:null,$2:null,$9p:null,$GX:function(){this.$2=null;this.$9p=null;this.$BL=null;Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)},$31:function(){var n,t,i;if($0.$1(this.$Fg)&&(this.$Fg=new Microsoft.Crm.Client.Core.Framework.Guid(this.$2.get_ModelContext().get_Id())),this.$Fg.toString()===this.$2.get_ModelContext().get_Id()){if($0.$1(this.$2)||$0.$1(this.$hD))return;if(n=this.$2.$7X("ProcessManager"),t=$0.$1(this.$gQ)?null:this.$gQ.toString(),$0.$1(n)&&!$0.$1(this.$hD)&&!n.$1jQ(this.$hD.toString(),t))return}i={QueryType:"ChangeProcess",EntityId:this.$Fg,EntityLogicalName:this.$S,ProcessControlId:this.$hD,ProcessInstanceId:this.$E2,NewStageId:this.$gQ,TraversedPath:this.$uY,SuccesCallback:this.$9p,FailureCallback:this.$BL};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$2,i)}};Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.initializeBase(this);this.set_$2e(this.$$d_$31);"TargetViewModel"in n.InitializationParameters&&(this.$X=n.InitializationParameters.TargetViewModel,this.$1t7=n.InitializationParameters.IsReplyAffirmative,this.$X&&this.$X.get_ModelContext()&&(this.$Zx=this.$X.get_ModelContext().GetValue("messageid"),this.$5g=this.$X.get_ModelContext().get_Id(),this.$1jR=this.$X.get_ModelContext().GetValue("description")))};Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("CreateEmailReplyDraftCommand",Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.$10)};Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand(t)};Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.prototype={$X:null,$Zx:null,$5g:null,$1t7:!1,$1jR:null,$31:function(){var n=this;Xrm.Internal.messages.createEmailReplyDraft(this.$Zx,this.$30s()).then(function(t){if(t){var r=t,i=r.mailWebLink;Microsoft.Crm.Client.Core.Framework.$3.$9(i)||(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$20?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$Ou(i):window.open(i));n.$5g=IsNull(Xrm.Page.data)?"":n.$5g;Microsoft.Crm.Client.Core.Command.DelveActionHubCommandHelper.$2iX(n.$Zx,n.$5g).then(function(){n.$X.get_$CK().$X6();n.$X=null},Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)}},Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)},$30s:function(){var n=this.$1t7?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Ribbon.Tooltip.delveactionhub.YesButton"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Ribbon.Tooltip.delveactionhub.NoButton");return String.format("{0}\n{1}",this.$1jR,n)}};Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand=function(n){this.$$d_$1Yk=Function.createDelegate(this,this.$1Yk);this.$$d_$3GP=Function.createDelegate(this,this.$3GP);this.$$d_$3GQ=Function.createDelegate(this,this.$3GQ);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$X=n.InitializationParameters.TargetViewModel;this.$10M=n.InitializationParameters.DocumentTemplateEntityReference;this.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r())};Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand.prototype={$10M:null,$X:null,$31:function(){var n={QueryType:"OpenDocumentTemplateAction",DocumentTemplateEntityReference:this.$10M,SuccessCallbackParameter:this.$$d_$3GQ,FailureCallbackParameter:this.$$d_$3GP};this.$X.$2.$1d0(!0,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ExportToXlsx_ProgressDialog_Header"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$X,n)},$3GQ:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$2H,i;t.set_$JQ(n);t.set_$Mk("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");t.set_$JR(this.$X.$G+".xlsx");t.set_$wS(t.get_$JQ().length);Microsoft.Crm.Client.Core.Framework.$3.$9(t.get_$JR())||(i=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$VN.$1IM(t,function(n){i.$1Yl(t,n)},this.$$d_$1Yk))},$3GP:function(n){this.$X.$2.$fG();Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(n)},$1Yl:function(n,t){this.$X.$2.$fG();var i=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$1GR(t,n.get_$5l(),n.get_$Mk(),function(n){n&&Microsoft.Crm.Client.Core.ViewModels.$Z.$1cw(-2147094004)})},$1Yk:function(){this.$X.$2.$fG();Microsoft.Crm.Client.Core.ViewModels.$Z.$1cw(-2147094004)}};Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand=function(n){this.$$d_$1Yk=Function.createDelegate(this,this.$1Yk);this.$$d_$3GR=Function.createDelegate(this,this.$3GR);this.$$d_$3GS=Function.createDelegate(this,this.$3GS);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$X=n.InitializationParameters.TargetViewModel;this.$17E=n.InitializationParameters.WordTemplateEntityReference;this.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r())};Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand.prototype={$17E:null,$X:null,$31:function(){var n=this.$X.get_$1K(),t={QueryType:"OpenWordTemplateAction",SelectedRecordId:n.$M.$3F.Id,AssociatedEntityTypeCode:n.$M.$3F.TypeCode,WordTemplateEntityReference:this.$17E,SuccessCallbackParameter:this.$$d_$3GS,FailureCallbackParameter:this.$$d_$3GR};this.$X.$2.$1d0(!0,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ExportToDocx_ProgressDialog_Header"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$X,t)},$3GS:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$2H,i;t.set_$JQ(n);t.set_$Mk("application/vnd.openxmlformats-officedocument.wordprocessingml.document");t.set_$JR(this.$X.$G+".docx");t.set_$wS(t.get_$JQ().length);Microsoft.Crm.Client.Core.Framework.$3.$9(t.get_$JR())||(i=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$VN.$1IM(t,function(n){i.$1Yl(t,n)},this.$$d_$1Yk))},$3GR:function(n){this.$X.$2.$fG();Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(n)},$1Yl:function(n,t){this.$X.$2.$fG();var i=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$1GR(t,n.get_$5l(),n.get_$Mk(),function(n){n&&Microsoft.Crm.Client.Core.ViewModels.$Z.$1cw(-2147094004)})},$1Yk:function(){this.$X.$2.$fG();Microsoft.Crm.Client.Core.ViewModels.$Z.$1cw(-2147094004)}};Microsoft.Crm.Client.Core.Commands.$Bt=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.$Bt.initializeBase(this);this.set_$2e(this.$$d_$31);var t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$VK=n.InitializationParameters.currentEntityId;this.$S=n.InitializationParameters.entityLogicalName;this.$9p=n.InitializationParameters.SuccessCallback;this.$BL=n.InitializationParameters.FailureCallback};Microsoft.Crm.Client.Core.Commands.$Bt.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("RetrieveMulipleProcessInstanceCommand",Microsoft.Crm.Client.Core.Commands.$Bt.$10)};Microsoft.Crm.Client.Core.Commands.$Bt.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.$Bt(t)};Microsoft.Crm.Client.Core.Commands.$Bt.prototype={$S:null,$VK:null,$9p:null,$BL:null,$2:null,$31:function(){var n={QueryType:"RetrieveMultipleProcessInstances",entityLogicalName:this.$S,currentEntityId:this.$VK,SuccessCallback:this.$9p,FailureCallback:this.$BL};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$2,n)},$GX:function(){this.$2=null;this.$9p=null;this.$BL=null;Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ShowDeviceSettingsCommand",Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.$10)};Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.$10=function(){return new Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand};Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.prototype={$31:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel;n.Show()}};Microsoft.Crm.Client.Core.Commands.ChangeControlCommand=function(n){this.$$d_$s8=Function.createDelegate(this,this.$s8);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$P=this.$$d_$s8;this.$1Pa=n.InitializationParameters.ContainerViewModel;this.$wb=n.InitializationParameters.Descriptor;this.$Aq=n.InitializationParameters.ApplicationMetadataType;this.$1Ul=n.InitializationParameters.Index};Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ChangeControlCommand",Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.$10)};Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ChangeControlCommand(t)};Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.prototype={$1Pa:null,$wb:null,$P:null,$Aq:0,$1Ul:0,$s8:function(){return},$31:function(){var n=null,t;(Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(this.$1Pa)&&(n=this.$1Pa),$0.$1(n)||$0.$1(this.$wb)&&n.$FY.TypeName!=="CustomControlHostView"||!$0.$1(this.$wb)&&n.$FY.BindingPath===this.$wb.Name&&n.$FY.TypeName===this.$wb.ControlTypeName&&n.$1kP===this.$1Ul)||(t={},t.descriptor=this.$wb,t.index=this.$1Ul,n.$1wH(t))}};Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand=function(n,t,i,r,u){Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.initializeBase(this,[u,4]);this.$J=n;this.$G2=t;this.$od=i;this.$1ie=r};Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenTaskBasedFlowCommand",Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.$10)};Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.$10=function(n,t){var u=t.InitializationParameters.UniqueName.toString(),i=null,r=null;return $0.$1(t.InitializationParameters.PrimaryRecordId)||(i=t.InitializationParameters.PrimaryRecordId),$0.$1(t.InitializationParameters.Arguments)||(r=t.InitializationParameters.Arguments),new Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand(n.get_$2R(),u,i,r,n)};Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.prototype={$G2:null,$1ie:null,$J:null,$od:null,$Tj:function(){$0.$1(this.$od)?this.$2R9():this.$1we(this.$od)},$1we:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(39)),i;t.set_DefinitionId(this.$G2);t.$1dr=this.$1ie;t.$G2=this.$G2;t.set_PrimaryModelName(this.$J);t.$od=n;t.$18();this.$X=t;i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("opentaskflowcommand");i.addEventParameter("taskflowuniquename",this.$G2);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i);Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Tj.call(this)},$2R9:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GlobalLookupViewModel","GlobalLookup","LookupViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ExternalContext",new Microsoft.Crm.Client.Core.ViewModels.$If(this.$A,null))],null),null),u=this,t,i,r;n.$1Yn=function(n){u.$1we(n.Id)};t=Microsoft.Crm.Client.Core.Models.$2f.$2lW(this.$J,!0);t.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HasFocus",!0));t.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("LookupDisplayName",Xrm.Internal.getEntityDisplayName(this.$J)));i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("RootViewModel","RootView",null,null,null,[Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("LookupViewModel","Lookup",null,null,null,t.toArray(),{LookupBarAttachedToControl:!0},null)]);Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$2aS(n.get_ViewModelId(),i,null);r=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$4M);$0.$1(r)||r.$pi(n.get_ViewModelId(),Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(i));this.$X=n;Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Tj.call(this)}};Microsoft.Crm.Client.Core.Commands.$7i=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.$7i.initializeBase(this);this.set_$2e(this.$$d_$31);this.$X=n};Microsoft.Crm.Client.Core.Commands.$7i.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("CalculateRollupFieldCommand",Microsoft.Crm.Client.Core.Commands.$7i.$10)};Microsoft.Crm.Client.Core.Commands.$7i.$10=function(n){return new Microsoft.Crm.Client.Core.Commands.$7i(n)};Microsoft.Crm.Client.Core.Commands.$7i.prototype={$X:null,$31:function(){this.$X.set_LastUpdatedLabel(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$3LO());this.$X.set_LastUpdated("");Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$X,{QueryType:"CalculateRollupField"})}};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand=function(n){this.$$d_$s8=Function.createDelegate(this,this.$s8);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$P=this.$$d_$s8;this.$X=n.InitializationParameters.TargetViewModel;this.$1t=n.InitializationParameters.ViewId;this.$Aq=n.InitializationParameters.ApplicationMetadataType};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ChangeViewsCommand",Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$10)};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ChangeViewCommand(t)};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.prototype={$X:null,$P:null,$1t:null,$Aq:0,$s8:function(){return},$31:function(){this.$X.set_applicationMetadataType(this.$Aq);this.$X.set_definitionId(this.$1t)}};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand=function(n){this.$$d_$s8=Function.createDelegate(this,this.$s8);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$P=this.$$d_$s8;this.$X=n.InitializationParameters.TargetViewModel;this.$1ja=n.InitializationParameters.ViewId;this.$1jZ=n.InitializationParameters.ViewEntityLogicalName};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ChangeChartCommand",Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$10)};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ChangeChartCommand(t)};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.prototype={$X:null,$P:null,$1ja:null,$1jZ:null,$s8:function(){return},$31:function(){this.$X.set_VisualizationEntityLogicalName(this.$1jZ);this.$X.set_VisualizationId(this.$1ja)}};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand=function(n){this.$$d_$s8=Function.createDelegate(this,this.$s8);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$P=this.$$d_$s8;this.$X=n.InitializationParameters.TargetViewModel;this.$AA=n.InitializationParameters.ViewId;this.$PP=n.InitializationParameters.ViewEntityLogicalName;this.$23Q=n.InitializationParameters.ViewDisplayName};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ChangeChartViewCommand",Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$10)};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand(t)};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.prototype={$X:null,$P:null,$AA:null,$PP:null,$23Q:null,$s8:function(){return},$31:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$9t.isInstanceOfType(this.$X)&&(this.$X.set_ViewEntityLogicalName(this.$PP),this.$X.set_ViewId(this.$AA));Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.isInstanceOfType(this.$X)&&(this.$X.set_ViewEntityLogicalName(this.$PP),this.$X.set_ViewDisplayName(this.$23Q),this.$X.set_ViewId(this.$AA))}};Microsoft.Crm.Client.Core.Commands.$TJ=function(n,t,i){this.$$d_$s8=Function.createDelegate(this,this.$s8);this.$$d_$LQ=Function.createDelegate(this,this.$LQ);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.$TJ.initializeBase(this);this.$T=$0.$1(i)?{}:i;this.$A=$0.$1(this.$T.RefreshContext)?n:this.$T.RefreshContext;this.$77=this.$A.$2;Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$A)&&(this.$rW=this.$A.$rW&&this.$A.$5h!==1&&this.$2gW(t));this.set_$2e(this.$$d_$31);$0.$1(this.$A)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$LQ);this.$J=t};Microsoft.Crm.Client.Core.Commands.$TJ.prototype={$A:null,$77:null,$rW:!0,$J:null,$T:null,get_PrimaryModelName:function(){return this.$J},set_PrimaryModelName:function(n){return this.$J=n,this.set_CanExecute(this.$1A6()),n},get_ExternalParameters:function(){return this.$T},set_ExternalParameters:function(n){return this.$T=n,n},$GX:function(){$0.$1(this.$A)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$LQ);Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)},$1A6:function(){return Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$A)&&!this.$A.$li?!1:$0.$1(this.$J)||!this.$36q()?!1:this.$rW||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()},$LQ:function(){this.set_CanExecute(this.$1A6())},$s8:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()||Microsoft.Crm.Client.Core.ViewModels.$n.$L8(this.$J))this.$A.$X6();else if(Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$A)){var n=this.$A;n.set_HideDraftsMessage(!1)}},$2gW:function(n){return Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()?Xrm.Utility.isEntityOfflineSyncEnabled(n):!0}};Microsoft.Crm.Client.Core.Commands.EmailLinkCommand=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$X=n.InitializationParameters.TargetViewModel;this.set_CanExecute(this.$1A6())};Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.EmailLinkCommand(t)};Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.get_$f=function(){return Microsoft.Crm.Client.Core.Framework.$G.$b("","EmailLinkCommand")};Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.prototype={$X:null,$GX:function(){this.$X=null;Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)},$30v:function(){return Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$X)?"Email a link of selected view":"Email a link of selected record(s)"},$31:function(){var u,c,s,e,o,k,l,a,v,y,p;if(this.$X){var i="",n="",t=this.$30m();if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricEmailLinkCommand");u.start();var b=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),h=b.context.getClientUrlForInteractioncentricDashboard(),f,r="";if(Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(this.$X)&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$X.get_$CK())&&this.$X.get_$CK().$PA>1){for(c=this.$X.get_$CK(),n="",s=c.$S6,e=0;e<s.get_Count();e++)o=s.get_$I(e),k=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(o.$J,Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.get_$f()).done(function(n){var i=n.get_$Gd();t=o.get_$1K().GetValue(i)}),f=Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}/nga/engagementhub.aspx?{1}",h,(a=Microsoft.Crm.Client.Core.ViewModels.$1R.$2EP(o,l={val:r}),r=l.val,a)),n+=Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}\n<{1}>\n",t,f);i=Microsoft.Crm.Client.Core.Framework.$3.$MN("mailto:?to=?subject=&body={0}",CrmEncodeDecode.CrmUrlEncode(n))}else f=Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}/nga/engagementhub.aspx?{1}",h,(y=Microsoft.Crm.Client.Core.ViewModels.$1R.$2EP(this.$X,v={val:r}),r=v.val,y)),n=Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}\n<{1}>\n",t,f),i=t?Microsoft.Crm.Client.Core.Framework.$3.$MN("mailto:?to=&subject={0}&body={1}",CrmEncodeDecode.CrmUrlEncode(t),CrmEncodeDecode.CrmUrlEncode(n)):Microsoft.Crm.Client.Core.Framework.$3.$MN("mailto:?to=?subject=&body={0}",CrmEncodeDecode.CrmUrlEncode(n));if(u.stop(),u.addParameter(this.$X.get_Id()),i.length>2e3){Xrm.Utility.alertDialog(Microsoft.Crm.Client.Core.Framework.$3.$MN(Xrm.Internal.getResourceString("Error_Message_0x80044331"),"2000"),null);return}p=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Sc(Microsoft.Crm.Client.Core.Framework.LocalStorage.$1Z.get_$Gw().$FF("MoCASessionID"),r,this.$30v());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(p);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2RB(i);return}var w=Microsoft.Crm.Client.Core.ViewModels.$1R.$2Eb(this.$X,!0),d=String.format("ms-dynamicsxrm://?{0}",Microsoft.Crm.Client.Core.ViewModels.$1R.$2ES(this.$X)),g=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("EmailLink_WebLinkText"),nt=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U?this.$3E4("{0}\n ({1})\n")+"<br>":"{0}\n ({1})\n";n=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?String.format('<a href="{0}">{1}<\/a> (<a href="{2}">{3}<\/a>)',d,t,w,g):String.format(nt,t,w);i=String.format("mailto:?to=&subject={0}&body={1}",CrmEncodeDecode.CrmUrlEncode(t),CrmEncodeDecode.CrmUrlEncode(n));Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$20?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$Ou(i):window.open(i)}},$30m:function(){var n="",t,i,r;return Microsoft.Crm.Client.Core.ViewModels.$5E.isInstanceOfType(this.$X)&&this.$X.get_componentType()===1?(t=this.$X.get_Root().$F.HeaderGroup,i=t.$F.DashboardName,n=i.get_Data()):Microsoft.Crm.Client.Core.ViewModels.$5E.isInstanceOfType(this.$X)&&this.$X.get_componentType()===11?n=this.$X.get_Name():Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$X)?n=this.$X.get_Name():Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(this.$X)&&this.$X.get_Root()&&this.$X.get_Root().$1t==="relevanceSearchPage"?n=this.$X.get_$1K().GetValue(this.$X.get_Name()):(r=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$X.get_$2R(),Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.get_$f()).done(function(t){var i=t.get_$Gd();n=r.$X.get_$1K().GetValue(i)})),n},$1A6:function(){return $0.$1(this.$X)||this.$X.get_$Dt()?!1:Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$X)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$X.$9c)?!1:!0},$3E4:function(n){return n.replace("\n","<br/>")}};Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand=function(n){this.$$d_$1Yk=Function.createDelegate(this,this.$1Yk);this.$$d_$3FU=Function.createDelegate(this,this.$3FU);this.$$d_$3FV=Function.createDelegate(this,this.$3FV);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$X=n.InitializationParameters.TargetViewModel;this.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r())};Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand(t)};Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand.prototype={$X:null,$31:function(){var n={QueryType:"ExportToExcelAction",SuccessCallbackParameter:this.$$d_$3FV,FailureCallbackParameter:this.$$d_$3FU};this.$X.$2.$1d0(!0,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ExportToXlsx_ProgressDialog_Header"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$X,n)},$3FV:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$2H,i;t.set_$JQ(n);t.set_$Mk("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");t.set_$JR(this.$X.$G+".xlsx");t.set_$wS(t.get_$JQ().length);Microsoft.Crm.Client.Core.Framework.$3.$9(t.get_$JR())||(i=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$VN.$1IM(t,function(n){i.$1Yl(t,n)},this.$$d_$1Yk))},$3FU:function(n){this.$X.$2.$fG();Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(n)},$1Yl:function(n,t){this.$X.$2.$fG();var i=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$1GR(t,n.get_$5l(),n.get_$Mk(),function(n){n&&Microsoft.Crm.Client.Core.ViewModels.$Z.$1cw(-2147094004)})},$1Yk:function(){this.$X.$2.$fG();Microsoft.Crm.Client.Core.ViewModels.$Z.$1cw(-2147094004)}};Microsoft.Crm.Client.Core.Commands.OpenDialogCommand=function(n,t,i,r,u){Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.initializeBase(this,[null,4]);this.$H8=n;this.$VT=t;this.$6O=i;this.$rg=r;this.$Nl=u};Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenDialogCommand",Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.$10)};Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.$10=function(n,t){var i=null,r=null,u=null,f=null,e=null;return $0.$1(t.InitializationParameters.DialogName)||(i=t.InitializationParameters.DialogName),$0.$1(t.InitializationParameters.DialogOptions)||(r=t.InitializationParameters.DialogOptions),$0.$1(t.InitializationParameters.DialogArguments)||(u=t.InitializationParameters.DialogArguments),$0.$1(t.InitializationParameters.CloseCallback)||(e=t.InitializationParameters.CloseCallback),$0.$1(t.InitializationParameters.CallbackParameters)||(f=t.InitializationParameters.CallbackParameters),new Microsoft.Crm.Client.Core.Commands.OpenDialogCommand(i,r,u,e,f)};Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.prototype={$H8:null,$VT:null,$6O:null,$rg:null,$Nl:null,$4u:12,$Tj:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("OpenDialog::"+this.$H8,1);var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(this.$4u)),t=new Xrm.DialogOptions;$0.$1(this.$VT)||(t.height=this.$VT.height,t.left=this.$VT.left,t.top=this.$VT.top,t.width=this.$VT.width);n.set_PrimaryModelName(this.$H8);n.$H8=this.$H8;n.$VT=t;n.$6O=this.$6O;n.$rg=this.$rg;n.$Nl=this.$Nl;n.set_DefinitionId(this.$H8);n.$18();this.$X=n;Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Tj.call(this)}};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ReconfigureCommand",Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$10)};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$10=function(){return new Microsoft.Crm.Client.Core.Commands.ReconfigureCommand};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.prototype={$31:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1eh().$2Sp()}};Microsoft.Crm.Client.Core.Commands.CreateFormCommand=function(n,t,i){this.$$d_$3Ex=Function.createDelegate(this,this.$3Ex);Microsoft.Crm.Client.Core.Commands.CreateFormCommand.initializeBase(this,[n,t,i]);$0.$1(i)||(this.$My=i.ParentReference);var r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(t);r&&(this.$HT=r.$HT,this.$fh=r.$Ze);this.$P=this.$$d_$s8;$0.$1(this.$A)||this.$A.AddPropertyChangedListener("PrimaryModelName",this.$$d_$3Ex)};Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("CreateCommand",Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$10)};Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$10=function(n,t){var u=n.get_$2R(),i,r;return $0.$1(u)&&!$0.$1(t.InitializationParameters.PrimaryModelName)&&(u=t.InitializationParameters.PrimaryModelName),i=t.InitializationParameters.externalParameters,$0.$1(i)&&(i={}),r=new Microsoft.Crm.Client.Core.Commands.CreateFormCommand(n,u,i),r.set_CanExecute(r.$1A6()),r};Microsoft.Crm.Client.Core.Commands.CreateFormCommand.prototype={$HT:!1,$fh:!1,$P:null,$1M:null,$My:null,$FO:null,$R3:null,$1Kt:null,$3Ex:function(){this.set_PrimaryModelName(this.$A.$J)},$GX:function(){$0.$1(this.$A)||this.$A.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$3Ex);$0.$1(this.$R3)||(this.$R3.dispose(),this.$R3=null);Microsoft.Crm.Client.Core.Commands.$TJ.prototype.$GX.call(this)},$31:function(){var r,u,f,e,n,t,o,i,s;if(!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&this.$fh){r=Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093988);Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(r);return}if(!this.$36q()){u=Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147220960);Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(u);return}$0.$1(this.$1Kt)||this.$1Kt();(this.$J!=="annotation"||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k())&&this.$J!=="connection"?(e=!$0.$1(this.$A.$5y),n=null,e?(this.$My=this.$77.get_ModelContext().get_$Qt(),n=new Xrm.RelationshipReference(this.$A.$5y,this.$A.$7n,this.$A.$A3,this.$A.$5h)):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()||(n=this.$FO),t=null,$0.$1(this.$P)||(o=this,t=function(n){o.$P(n)}),i=null,$0.$1(this.$1M)||(s=this,i=function(n){var t=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x.$mC(n.errorCode);s.$1M(t)}),Microsoft.Crm.Client.Core.ViewModels.$4D.$Ao.$3Wj(this.$A,this.$T),Xrm.Utility.create(this.$J,this.$My,n,this.$T,t,i)):($0.$1(this.$R3)||this.$R3.$Nu===this.$A.$Nu||(this.$R3=null),$0.$1(this.$R3)&&(f=this.$A.$Nu,this.$R3=new Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand(this.$A,null,f,{InitializationParameters:this.$T,InitializeFrom:1}),this.$R3.$My=this.$My,$0.$1(this.$A.$zh)||(this.$R3.$h=new Microsoft.Crm.Client.Core.Framework.Guid(this.$A.$zh).toString().toLowerCase()),this.$R3.$P=this.$P),this.$R3.execute())},$1A6:function(){return this.$J==="activitypointer"||this.$J==="socialactivity"||this.$J==="socialprofile"||this.$J==="queueitem"||this.$J==="syncerror"?!1:Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$A)&&this.$A.get_DefinitionId()==="{A5B008AC-07D9-4554-8509-2C05767BFF51}"?!1:this.$HT&&!$0.$1(this.$77)&&this.$77.$o===1?!1:!$0.$1(this.$77)&&(this.$77.$o===26||this.$77.$o===47||this.$77.$o===31||this.$77.$o===32||this.$77.$o===17)?!1:Microsoft.Crm.Client.Core.Commands.$TJ.prototype.$1A6.call(this)},$36q:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$J,0)}};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand=function(n,t,i,r){this.$$d_$3Er=Function.createDelegate(this,this.$3Er);this.$$d_$1wB=Function.createDelegate(this,this.$1wB);this.$$d_$LP=Function.createDelegate(this,this.$LP);Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.initializeBase(this,[n,$0.$1(t)?n.get_$2R():t,r]);this.$5e=i;this.$1aV=this.$A.get_$Ox().$J;this.$P=this.$$d_$s8;this.$1HF=this.$$d_$1wB;this.$A.AddPropertyChangedListener("HeaderTitleField",this.$$d_$3Er)};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenAssociateForm",Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$10)};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$10=function(n,t){var u=n.get_$2R(),r,i;return $0.$1(t.InitializationParameters.TargetModelName)||(u=t.InitializationParameters.TargetModelName),r=null,$0.$1(t.InitializationParameters.PrimaryNameAttribute)||(r=t.InitializationParameters.PrimaryNameAttribute),i=new Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand(n,u,r,t.InitializationParameters.externalParameters),i.set_CanExecute(i.$1A6()),$0.$1(i.$77)||i.$77.$o!==2&&i.$77.$o!==40||(i.$77.AddPropertyChangedListener("ModelContext",i.$$d_$LP),i.$LP(null,null)),i};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.prototype={$1aV:null,$1HF:null,$1V:null,$5e:null,$P:null,$GX:function(){$0.$1(this.$A)||(this.$A.RemovePropertyChangedListener("HeaderTitleField",this.$$d_$3Er),$0.$1(this.$77)||this.$77.$o!==2&&this.$77.$o!==40||(this.$77.RemovePropertyChangedListener("ModelContext",this.$$d_$LP),$0.$1(this.$1V)||this.$1V.remove_$vW(this.$1HF)));Microsoft.Crm.Client.Core.Commands.$TJ.prototype.$GX.call(this)},$1A6:function(){return $0.$1(this.$1aV)?!1:!$0.$1(this.$77)&&(this.$77.$o===2||this.$77.$o===40)&&($0.$1(this.$1V)||this.$1V.get_$Za())?!1:Microsoft.Crm.Client.Core.Commands.$TJ.prototype.$1A6.call(this)},$36q:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$1aV,5),t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$J,1),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$J,4);return n&&t&&i&&this.$A.$li},$3Er:function(){this.$5e=this.$A.$Qd},$LP:function(){$0.$1(this.$1V)||this.$1V.remove_$vW(this.$1HF);this.$1V=this.$77.get_ModelContext();$0.$1(this.$1V)||this.$1V.add_$vW(this.$1HF);this.set_CanExecute(this.$1A6())},$1wB:function(){this.set_CanExecute(this.$1A6())},$31:function(){var n,t,i,r,e,o,u,s;if(Microsoft.Crm.Client.Core.ViewModels.$n.$IT(this.$J))if(this.$J==="opportunityproduct"){var h=this.$A.$2.get_ModelContext().get_$Qt(),f=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelationshipReference(this.$A.$5y,this.$A.$7n,this.$A.$A3,this.$A.$5h),c=this;Xrm.Utility.create(this.$J,h,new Xrm.RelationshipReference(f.$G,f.$CX,f.$ux,f.$5h),null,function(){c.$P()},null)}else n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("AssociateFormViewModel","AssociateForm",null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ExternalContext",new Microsoft.Crm.Client.Core.ViewModels.$If(this.$A,this.$T))],null),this.$A.get_ModelContext()),n.$NA=this.$A.get_ModelContext().get_$Y6(),n.$5y=this.$A.$5y,n.$5h=this.$A.$5h,n.$7n=this.$A.$7n,n.$A3=this.$A.$A3,n.add_$3LV(this.$P),t=null,i=null,this.$J==="activitypointer"&&(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$A)||Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$A)&&this.$A.$2.$h==="gridform"&&!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V())?this.$77.get_IsInteractionCentricEnabled()?(t="InteractionCentricMultipleSourceLookupViewModel",i="InteractionCentricMultipleSourceLookup",r=Microsoft.Crm.Client.Core.Models.$2f.$3Zr(this.$J,!0,this.$5e,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveActivitiesEnabledForMobile",null))):(t="MultipleSourceLookup",i="MultipleSourceLookup",r=Microsoft.Crm.Client.Core.Models.$2f.$3Zr(this.$J,!0,this.$5e,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveActivitiesEnabledForMobile",null))):this.$77.get_IsInteractionCentricEnabled()?(t="InteractionCentricLookupViewModel",i="InteractionCentricLookup",r=Microsoft.Crm.Client.Core.Models.$2f.$2lW(this.$J,!0)):(t="LookupViewModel",i="Lookup",r=Microsoft.Crm.Client.Core.Models.$2f.$2lW(this.$J,!0)),r.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HasFocus",!0)),e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("RootViewModel","RootView",null,null,null,[Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt(t,i,null,null,null,r.toArray(),{LookupBarAttachedToControl:!0},null)]),Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$2aS(n.get_ViewModelId(),e,null),o=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$4M),$0.$1(o)||o.$pi(n.get_ViewModelId(),Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(e));else u={},u[this.$A.$7n+"type"]=this.$A.get_ModelContext().get_$Qt().LogicalName,u[this.$A.$7n]=this.$A.get_ModelContext().get_$Qt().get_identifier(),u[this.$A.$7n+"name"]=this.$A.get_ModelContext().get_$Y6().get_$9t(),u[this.$A.$7n+"createattribute"]=!0,s=this,Xrm.Utility.create(this.$J,null,null,u,function(){s.$P()},null)}};Microsoft.Crm.Client.Core.Commands.SetHomepageCommand=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$X=n.InitializationParameters.TargetViewModel;this.$22h()};Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("SetHomepageCommand",Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.$10)};Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.SetHomepageCommand(t)};Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.prototype={$X:null,$GX:function(){this.$X=null;Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)},$31:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oa=new Microsoft.Crm.Client.Core.Framework.Guid(this.$X.$h);var n=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("SavePersonalization"));n.execute();n.dispose();this.$22h()},$22h:function(){this.set_CanExecute(!(!$0.$1(this.$X)&&this.$X.$h===Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oa.toString()))}};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ShowAboutInformationCommand",Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$10)};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$10=function(){return new Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.prototype={$31:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel;n.Show()}};Microsoft.Crm.Client.Core.Commands.$3n=function(){};Microsoft.Crm.Client.Core.Commands.$3n.$$cctor=function(){$0.$1(Microsoft.Crm.Client.Core.Commands.$3n.$Ao)&&(Microsoft.Crm.Client.Core.Commands.$3n.$Ao=new Microsoft.Crm.Client.Core.Commands.$3n)};Microsoft.Crm.Client.Core.Commands.$3n.$39r=function(n){return n.get_$Hb()==="activitypointer"?n.$M&&n.$M.$3F&&n.$M.$3F.LogicalName?!0:!1:!1};Microsoft.Crm.Client.Core.Commands.$3n.$28Y=function(n){var i,t;if(n){for(i=new Sys.StringBuilder,t=0;t<n.get_Count();t++)t>0&&i.append(","),i.append(n.get_$I(t).toString());return i.toString()}return null};Microsoft.Crm.Client.Core.Commands.$3n.prototype={$1mj:function(n,t,i,r,u){var o=null,e=null,s=null,f=null,p=new Microsoft.Crm.Client.Core.Framework.$9F,d=!!r&&r.get_$2R()==="queueitem",g=!1,a,v,nt,it,tt,w,h,y,rt,c,b,ut,l,k;Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(r)&&(g=r.$1Er);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(r)?(a=r,s=g?a.$C9?a.$C9.get_ModelContext().$M.$3F:null:null,f=s,e=a.$J,o=a.$1R):Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(r)?(v=r,s=v.get_ModelContext().$M.$3F,f=s,e=s.LogicalName,d&&(f=v.get_ModelContext().$M.fields.objectid,e=f.TypeName),Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(v.$3V)&&(nt=v.$3V,o=nt.$1R,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(it=this,o.$ss(function(n){Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(n)&&n.get_IsSelected()&&p.$2i(n)}))),p.get_Count()>1&&this.$2hg(p)&&r.get_$2R()&&(e=r.get_$2R())):r.get_$2R()?e=r.get_$2R():Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(r.get_ModelContext())&&(e=r.get_ModelContext().get_$Hb());switch(n.ParameterType){case 18:case 19:case 20:case 21:return n.Value;case 14:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$Ju;case 15:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$Bu;case 16:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$Ab;case 1:return i?Xrm.Internal.getEntityCode(i.get_$Hb()):null;case 2:return i?Microsoft.Crm.Client.Core.Commands.$3n.$39r(i)?i.$M.$3F.LogicalName:i.get_$Hb():null;case 3:return i?[i.$M.$3F.get_identifier()]:null;case 4:return i?i.$M.$3F.get_identifier():null;case 7:return e?Xrm.Internal.getEntityCode(e):null;case 8:return e?e:null;case 11:case 22:return s?1:0;case 25:return o?o.get_Count():0;case 28:return tt=s?1:0,o?o.get_Count()-tt:0;case 9:case 23:case 29:case 26:case 24:case 30:case 27:return w=!0,(n.ParameterType===9||n.ParameterType===23||n.ParameterType===29||n.ParameterType===26)&&(w=!1),h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),y=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.EntityReference)),r&&(n.ParameterType===9||n.ParameterType===23||n.ParameterType===24?f&&(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?(rt=this,p.$ss(function(n){h.add(n.get_ModelContext().$M.$3F.get_identifier());var t=new Mscrm.EntityReference;t.Id=n.get_ModelContext().$M.$3F.get_identifier();t.TypeCode=n.get_ModelContext().$M.$3F.TypeCode;y.add(t)})):(h.add(f.get_identifier()),c=new Mscrm.EntityReference,c.Id=f.get_identifier(),c.TypeCode=f.TypeCode,c.Name=f.Name,c.TypeName=f.TypeName,y.add(c))):o&&(b=null,n.ParameterType===29&&f&&(b=f.get_identifier()),ut=this,o.$ss(function(n){var u,r,t,i;Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(n)&&(u=n,Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(u.get_ModelContext())&&(r=u.get_ModelContext(),r.$M.$3F.get_identifier()!==b&&(t=d?r.$M.fields.objectid:r.$M.$3F,h.add(t.get_identifier()),i=new Mscrm.EntityReference,i.Id=t.get_identifier(),i.TypeCode=t.TypeCode,i.Name=t.Name,i.TypeName=t.TypeName,y.add(i))))}))),t===1?Microsoft.Crm.Client.Core.Commands.$3n.$28Y(h):w?y.toArray():h.toArray();case 10:return f?(l=new Mscrm.EntityReference,l.Id=f.get_identifier(),l.TypeCode=f.TypeCode,l.Name=f.Name,l.TypeName=f.TypeName,l):null;case 5:case 12:return Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(r)?new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(r):Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(r.get_$CK())?new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(r.get_$CK()):null;case 6:case 13:return null;case 17:return Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(u)?(k={},k.SourceControlId=u.$T.CommandId,k):null;case 0:default:return null}},$2hg:function(n){for(var r,t=0,u=!1,i=0;i<n.get_Count();i++)if(r=n.get_$I(i),t){if(t!==r.get_ModelContext().$M.$3F.TypeCode){u=!0;break}}else t=r.get_ModelContext().$M.$3F.TypeCode;return u}};Microsoft.Crm.Client.Core.Commands.SearchCommand=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.SearchCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$P8=n};Microsoft.Crm.Client.Core.Commands.SearchCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("SearchCommand",Microsoft.Crm.Client.Core.Commands.SearchCommand.$10)};Microsoft.Crm.Client.Core.Commands.SearchCommand.$10=function(n){return new Microsoft.Crm.Client.Core.Commands.SearchCommand(n)};Microsoft.Crm.Client.Core.Commands.SearchCommand.prototype={$P:null,$P8:null,$31:function(){if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("BeforeSearchStart"),!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.$P8.$70)&&this.$P8.$1Bv){var n=this.$P8.$AG.$4Z();this.$P8.$21C();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n);this.$P8.$1IP("CategorizedSearch");$0.$1(this.$P)||this.$P()}}};Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$P8=n};Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ExternalSearchCommand",Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.$10)};Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.$10=function(n){return new Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand(n)};Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.prototype={$P:null,$P8:null,$31:function(){if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("BeforeSearchStart"),!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.$P8.$70)&&this.$P8.$1Bv){var n=this.$P8.$AG.$4Z();this.$P8.$21C();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n);this.$P8.$1IP("RelevanceSearch");$0.$1(this.$P)||this.$P()}}};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand=function(n,t){Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand.initializeBase(this,[n]);this.$WZ=t};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand.prototype={$WZ:null,$31:function(){this.get_CanExecute()&&this.$WZ&&(this.$WZ.$Fy=this.$Fy,this.$WZ.execute())}};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand=function(n,t){Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand.initializeBase(this,[n]);this.$1Dv=t};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand.prototype={$1Dv:null,$1aO:!0,$31:function(){if(this.get_CanExecute()){var n=this.$31e();this.$1Dv.$2N!==n&&(this.$1Dv.$2N=n,this.$1aO&&this.$1Dv.$X6())}}};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand=function(n){Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.initializeBase(this,[n])};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2e8=function(n){return n.Value?String.format('<condition attribute="{0}" operator="eq" value="{1}" />',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$bb(n.FieldName),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$bb(n.Value)):String.format('<condition attribute="{0}" operator="null" />',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$bb(n.FieldName))};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2nF=function(n){return String.format('<condition attribute="{0}" operator="on-or-after" value="{1}" /><condition attribute="{0}" operator="on-or-before" value="{2}" />',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$bb(n.FieldName),Xrm.Soap.CrmDateTimeSerializer.$FR(n.MinDate).substring(0,10),Xrm.Soap.CrmDateTimeSerializer.$FR(n.MaxDate).substring(0,10))};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2n8=function(n){return String.format('<condition attribute="{0}" operator="{1}" ><value>{2}<\/value><value>{3}<\/value><\/condition>',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$bb(n.FieldName),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$bb(n.FiscalType),n.Period,n.Year)};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2n9=function(n){return String.format('<condition attribute="{0}" operator="{1}" value="{2}"><\/condition>',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$bb(n.FieldName),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$bb(n.FiscalType),n.Year)};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2e7=function(n){return Microsoft.Crm.Client.Core.Models.$8o.isInstanceOfType(n)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2e8(n):Microsoft.Crm.Client.Core.Models.$7q.isInstanceOfType(n)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2nF(n):Microsoft.Crm.Client.Core.Models.$8p.isInstanceOfType(n)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2n8(n):Microsoft.Crm.Client.Core.Models.$8q.isInstanceOfType(n)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2n9(n):""};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.prototype={$31e:function(){var i="",n,t;if(!$0.$1(this.get_$s3())&&this.get_$s3().length>0){for(n='<filter type="and">',t=0;t<this.get_$s3().length;t++)n+=Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2e7(this.get_$s3()[t]);n+="<\/filter>";i=n}return i}};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenFloatingDialogCommand",Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$10)};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$10=function(){return new Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.prototype={$1Qf:null,$6O:null,$IR:0,$G4:0,$fv:0,$Eo:0,$1rV:null,$1jL:null,$31:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("OpenFloatingDialog::"+this.$1Qf,1);Microsoft.Crm.Client.Core.ViewModels.$29.get_$5().$2kr(this.$1Qf,this.$6O,this.$G4,this.$IR,this.$fv,this.$Eo,this.$1rV,this.$1jL)}};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand=function(n,t){var i,r;this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.initializeBase(this);i=t.InitializationParameters;this.set_$2e(this.$$d_$31);this.$Be=n;r=i.TargetViewModel;this.$16i=r.$F.PinnedTile;this.get_CanExecute()&&this.$wr()};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ResizeTileCommand",Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$10)};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ResizeTileCommand(n,t)};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.prototype={$Be:null,$16i:null,$wr:function(){this.$16i.get_TileMode()===1?(this.$Be.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_ResizeTileCommand_Smaller_Text")),this.$Be.set_ImageName("ReduceTile")):(this.$Be.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_ResizeTileCommand_Larger_Text")),this.$Be.set_ImageName("ExpandTile"))},$31:function(){this.$16i.get_TileMode()===1?this.$16i.set_TileMode(0):this.$16i.set_TileMode(1);this.$wr()}};Microsoft.Crm.Client.Core.Commands.ChartCommand=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ChartCommand.initializeBase(this);this.$df=n;this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.ChartCommand.prototype={$df:null,$Fy:null,$2J2:function(n,t){var i=new Microsoft.Crm.Client.Core.Commands.$33(this.$df,17);i.$J=n;i.$1t=Microsoft.Crm.Client.Core.Framework.$1.toString(17).toUpperCase();i.$1B={};i.$1B.ListDefinitionId=this.$df.$AA;i.$1B.ChartViewId=this.$df.$AA;i.$1B.ChartViewEntityLogicalName=this.$df.$PP;i.$1B.ChartVisualizationId=this.$df.$KE;i.$1B.ChartVisualizationEntityLogicalName=this.$df.$bY;i.$1B.SelectedHighchartPoint=this.$Fy;t(i)},$31:function(){var n=this.$df.$No.get_$2R(),t=this;this.$2J2(n,function(n){n.execute()})}};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.initializeBase(this);this.set_$2e(this.$$d_$31);"TargetViewModel"in n.InitializationParameters&&(this.$X=n.InitializationParameters.TargetViewModel);this.$5g="RecordId"in n.InitializationParameters?n.InitializationParameters.RecordId:"";this.$ac="RecordType"in n.InitializationParameters?n.InitializationParameters.RecordType:""};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenInBrowserCommand",Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$10)};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.prototype={$X:null,$5g:null,$ac:null,$GX:function(){this.$X=null;Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)},$31:function(){var r,t=null,n=null,f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),u=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMobilePhone(),i=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()&&u,h,e,o,c,s;Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5g)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$ac)||(t=this.$ac,n=(i?String.format("{0}{1}?id=%7b{2}%7d&etn={3}","ms-dynamicsxrm","://",new Microsoft.Crm.Client.Core.Framework.Guid(this.$5g).toString().toUpperCase(),this.$ac):String.format("{0}{1}?id=%7b{2}%7d&etn={3}",f.context.getClientUrl(),this.$2I7(u),new Microsoft.Crm.Client.Core.Framework.Guid(this.$5g).toString().toUpperCase(),this.$ac))+this.$2I6(i,u));$0.$1(this.$X)||(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$X)||Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$X)&&!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&this.$X.get_Root().$o===13?(t=this.$X.get_$2R(),h=new Microsoft.Crm.Client.Core.Framework.Guid(this.$X.get_definitionId()),r=h.toString().toUpperCase(),n=String.format("{0}/main.aspx?viewid=%7b{1}%7d&etn={2}&pagetype=entitylist&viewtype={3}",f.context.getClientUrl(),r,t,this.$X.get_applicationMetadataType()===1?1039:4230)):Microsoft.Crm.Client.Core.ViewModels.$5E.isInstanceOfType(this.$X)&&this.$X.get_componentType()===1?(e=1030,this.$X.$1FH||(e=1031),n=i?String.format("{0}{1}?pagetype=dashboard&id={2}","ms-dynamicsxrm","://",this.$X.get_sourceId()):String.format("{0}/dashboards/dashboard.aspx?dashboardId={1}&dashboardType={2}",f.context.getClientUrl(),this.$X.get_sourceId(),e)):(o=this.$X.get_ModelContext(),r=o.$M.$3F.Id.toString().toUpperCase(),t=o.$M.$3F.LogicalName,n=(i?String.format("{0}{1}?id=%7b{2}%7d&etn={3}","ms-dynamicsxrm","://",r,t):String.format("{0}{1}?id=%7b{2}%7d&etn={3}",f.context.getClientUrl(),this.$2I7(u),r,t))+this.$2I6(i,u)));Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()&&(c={EntityTypeName:t},s=new Microsoft.Crm.Client.Core.Framework.$5o("OpenInBrowser",c),Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$iO(s),Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(s.rid));Microsoft.Crm.Client.Core.Framework.$3.$9(n)||(i?Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$3Hd(n):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$20?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$Ou(n):window.open(n))},$2I7:function(n){return n?"/m/ef.aspx":"/main.aspx"},$2I6:function(n,t){return n?"&pagetype=entity":t?"":"&pagetype=entityrecord"}};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s=function(){};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$2HL=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$12H?"https://go.microsoft.com/fwlink/p/?LinkID=519214":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$fd?"https://go.microsoft.com/fwlink/p/?LinkID=519213":"https://go.microsoft.com/fwlink/p/?LinkID=519212"};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$2bT=function(n,t){Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1j0=(new Date).getTime();window.open(n,"_blank");Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$22M=window.setTimeout(function(){Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1iL=(new Date).getTime();Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1iL-Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1j0-Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1Zv<=Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$262&&window.open(t,"_blank")},Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1Zv)};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$2fS=function(n,t){Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1OI=window.open(n,"_blank");Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$22M=window.setTimeout(function(){Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1OI&&Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1OI.location.href==="about:blank"&&window.open(t,"_blank")},Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1Zv)};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$3B3=function(n){var i="deeplink",f="#"+i,r=$(document).find("body"),e=String.format('<a id="{0}" target="_blank" href="{1}" style="display: none"><\/a>',i,n),t,u;r.append(e);t=r.find(f).first();u=t.get(0);u.click();t.remove()};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$3Hd=function(n){var t=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance();t.get_$39v()?Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$2bT(n,Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$2HL()):t.$ZX||t.$ZY?Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$2fS(n,Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$2HL()):Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$3B3(n)};Microsoft.Crm.Client.Core.Commands.OpenEmailCommand=function(n){if(this.$$d_$31=Function.createDelegate(this,this.$31),Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.initializeBase(this),this.set_$2e(this.$$d_$31),"TargetViewModel"in n.InitializationParameters&&(this.$X=n.InitializationParameters.TargetViewModel,this.$X&&this.$X.get_ModelContext())){if(this.$Zx=this.$X.get_ModelContext().GetValue("messageid"),this.$5g=this.$X.get_ModelContext().get_Id(),this.$X.get_ModelContext().GetValue("data")){var t=JSON.parse(this.$X.get_ModelContext().GetValue("data"));this.$1Ff=t.mailweblink;this.$Zx=t.messageid}this.$1jS=this.$X.get_ModelContext().GetValue("cardtype");this.$M=this.$X.get_ModelContext().GetValue("recordid")}};Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenEmailCommand",Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.$10)};Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.OpenEmailCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.prototype={$X:null,$1Ff:null,$Zx:null,$5g:null,$M:null,$1jS:null,$31:function(){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1Ff))if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$20?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$Ou(this.$1Ff):window.open(this.$1Ff),this.$1jS!=="0")this.$5g=IsNull(Xrm.Page.data)?"":this.$5g;else{var n=Microsoft.Crm.Client.Core.Framework.Guid.$9(this.$M.Id.toString())?"Dashboard":"Form",t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$OZ("4101","DelveActionHubActionClickEvent","","",0,"Success","",0,"OpenEmailForDefaultCardType",n,"","delveactionhub",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),Microsoft.Crm.Client.Core.Framework.Guid.get_empty());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)}}};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand=function(n){this.$$d_$s8=Function.createDelegate(this,this.$s8);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$P=this.$$d_$s8;this.$X=n.InitializationParameters.TargetViewModel;this.$1t=n.InitializationParameters.GridDefinitionId;this.$J=n.InitializationParameters.PrimaryModelName;this.$9c=n.InitializationParameters.ContextFilter};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenRelatedGridCommand",Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$10)};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.prototype={$X:null,$P:null,$1t:null,$J:null,$9c:null,$s8:function(){return},$31:function(){var n=new Microsoft.Crm.Client.Core.Commands.$33(this.$X,13);n.$J=this.$J;n.$1B={};n.$1B.ListDefinitionId=this.$1t;n.$1B.ContextFilter=this.$9c;n.execute();n.dispose()}};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.$A=n};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("SavePersonalization",Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$10)};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$10=function(n){return new Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand(n)};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.prototype={$A:null,$31:function(){var i=null,n=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$4C,t,r,u;if(Microsoft.Crm.Client.Core.ViewModels.$EC.isInstanceOfType(this.$A))t=this.$A,i=t.get_$14c(),n=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$4C(t.get_$aV(),i.$1C());else{Microsoft.Crm.Client.Core.Framework.Trace.logError(1015,"Attempted to save personalization with unrecognized context.");return}r=this;u=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$l7(n).then(function(){Microsoft.Crm.Client.Core.Framework.$B.$1g("SavePersonalizationCommand_OnExecute_CreateUserPersonalization_Success",1015,n.$2G)},function(n){Error.create(String.format("SavePersonalizationCommand has failed in CreateUserPersonalization:\n\n {0}",n.$E))})}};Microsoft.Crm.Client.Core.Commands.WebResourceCommand=function(n,t,i){var r,f;if(this.$$d_$31=Function.createDelegate(this,this.$31),Microsoft.Crm.Client.Core.Commands.WebResourceCommand.initializeBase(this),this.$A=n,this.set_$2e(this.$$d_$31),this.$X=i,this.$1hf=t,r=!1,!$0.$1(t))for(var e=t,o=e.length,u=0;u<o;++u)f=e[u],(f.ActionType===3||f.ActionType===1)&&(r=!0);this.set_CanExecute(r)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("WebResourceCommand",Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$10)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$10=function(n,t){var i=t.InitializationParameters.RibbonActionHandler;return new Microsoft.Crm.Client.Core.Commands.WebResourceCommand(n,i,t.InitializationParameters.TargetViewModel)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw=function(n,t){return $0.$1(n)?$0.$1(t):$0.$1(t)?!1:n.toLowerCase()===t.toLowerCase()};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$2pd=function(n,t,i,r){var u=n.Address,e,f,o,s;for(n.PassParameters&&(u=Microsoft.Crm.Client.Core.Framework.Utils.$1A.$Pp(u,"orgname",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$CL.toString())),u=Microsoft.Crm.Client.Core.Framework.Utils.$1A.$Pp(u,"userlcid",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$Ab.toString())),u=Microsoft.Crm.Client.Core.Framework.Utils.$1A.$Pp(u,"orglcid",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$Bu.toString()))),e=i.get_$1K(),$0.$1(e)&&!$0.$1(i.get_Root())&&(e=i.get_Root().get_$1K()),f=0;f<t.length;f++)o=t[f].ParameterName,s=Microsoft.Crm.Client.Core.Commands.$3n.$Ao.$1mj(t[f],1,e,i,r),!IsNull(o)&&o.length>0&&(u=Microsoft.Crm.Client.Core.Framework.Utils.$1A.$Pp(u,o,CrmEncodeDecode.CrmUrlEncode(s.toString())));Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Prepared [{1}] parameters for url link: [{0}]",n.Address,t.length);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$20?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6t.$Ou(u):window.open(u,(new Date).getTime().toString(),n.WinParameters)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1ms=function(n,t,i,r,u,f){var e=!1,c,o,l,a,v,y,h,b,p,w,s;if(n==="openObj"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_common/global.ashx")?(n="Mscrm.RibbonActions.openObjFromClassic",t="/_static/_common/scripts/SharedRibbonActions.js"):n==="Mscrm.AddActivity.addActivityToFormFromsubgrid"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_common/global.ashx")?(n="Mscrm.GridCommandActions.addActivityToFormFromSubgridFromClassic",t="/_static/_common/scripts/SharedRibbonActions.js"):n==="createNewLineItem"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/SFA/quotes/qoi_script.js")?(n="Mscrm.GridCommandActions.createNewLineItem",t="/_static/_common/scripts/CommandBarActions.js"):n==="Mscrm.GridCommandActions.addNewFromSubGridStandard"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/_common/scripts/CommandBarActions.js")?Xrm.Page.context.client.getClient()==="Mobile"&&(n="Mscrm.GridCommandActions.createNewLineItem",t="/_static/_common/scripts/CommandBarActions.js"):n==="ApplyTemplate"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/_controls/emailbody/emailbody.js")?Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(n="Mscrm.CommandBarActions.insertEmailTemplate",t="/_static/_common/scripts/CommandBarActions.js"):n==="Mscrm.GridRibbonActions.addExistingFromSubGridStandard"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/_common/scripts/RibbonActions.js")?n="Mscrm.GridRibbonActions.addExistingFromSubGrid":n==="Mscrm.RibbonActions.addConnectionFromForm"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/_common/scripts/RibbonActions.js")?n="Mscrm.RibbonActions.addConnectionFromForm":n==="Mscrm.GridCommandActions.mergeRecords"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/_common/scripts/CommandBarActions.js")&&(t="/_static/_common/scripts/CommandBarActions.js"),Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/_common/scripts/RibbonActions.js"))switch(n){case"Mscrm.GridRibbonActions.addNewFromSubGridStandard":case"Mscrm.GridRibbonActions.addExistingFromSubGrid":case"Mscrm.GridRibbonActions.addToQueue":case"Mscrm.GridRibbonActions.assignSelectedRecords":case"Mscrm.GridRibbonActions.canMarkComplete":case"Mscrm.GridRibbonActions.gridDisassociate":case"Mscrm.GridRibbonActions.isBulkSaveAsCancelledValid":case"Mscrm.GridRibbonActions.isBulkSaveAsCompletedValid":case"Mscrm.GridRibbonActions.setRegarding":case"Mscrm.GridRibbonActions.notOnMarketingListOrListUnlocked":case"Mscrm.GridRibbonActions.notOnMarketingListOrListActive":case"Mscrm.GridRibbonActions.deleteRecords":case"Mscrm.GridRibbonActions.isActionCardButtonVisible":case"Mscrm.GridRibbonActions.isRegardingObjectPresent":case"Mscrm.IncidentActions.cancelCase":case"Mscrm.IncidentActions.resolveCase":case"Mscrm.IncidentActions.runRoutingRule":case"Mscrm.RibbonActions.alwaysEnabled":case"Mscrm.RibbonActions.isAutoSaveEnabled":case"Mscrm.RibbonActions.isRefreshForm":case"Mscrm.RibbonActions.showAbandon":case"Mscrm.RibbonActions.showFinish":case"Mscrm.RibbonActions.showReactivate":case"Mscrm.RibbonActions.showSetActiveStage":case"Mscrm.RibbonActions.openNewRecord":case"Mscrm.RibbonActions.saveForm":case"Mscrm.RibbonActions.saveAndCloseForm":case"Mscrm.OpportunityActions.close":case"Mscrm.RibbonActions.notOnMarketingListOrListUnlocked":case"Mscrm.RibbonActions.notOnMarketingListOrListActive":case"Mscrm.RibbonActions.enableAddCaseForContract":case"Mscrm.RibbonActions.enableAddCaseForContractLine":case"Mscrm.RibbonActions.isEntitlementActive":case"Mscrm.RibbonActions.addConnectionFromForm":case"Mscrm.GridRibbonActions.associateChildCase":case"Mscrm.GridRibbonActions.isSkypeUrlPresent":case"Mscrm.GridRibbonActions.isEmailPresentInAttendees":t="/_static/_common/scripts/SharedRibbonActions.js"}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/_forms/form.js"))switch(n){case"changeState":case"assignObject":n="Mscrm.FormAction."+n;t="/_static/_common/scripts/SharedRibbonActions.js"}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/sfa/opps/opps.js"))switch(n){case"complete":case"reactivate":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/sfa/leads/lead.js"))switch(n){case"convertLead":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/activities/activity.js"))switch(n){case"SaveAsCompleted":case"convertToOpportunity":case"interactionCentricConvertToCase":case"convertToCase":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/cs/cases/cases.js"))switch(n){case"cancel":case"resolve":case"runRoutingRuleAndClose":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/activities/email.js"))switch(n){case"send":e=Microsoft.Crm.Client.Core.ViewModels.$5q.$Ao.$2KI(n,t,i,r,u,f);break;case"reply":case"replyall":case"forward":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/sfa/invoice/invoice.js"))switch(n){case"getProductsForInvoice":case"CloseInvoice":case"isInvoicePaid":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/SFA/quotes/quote.js"))switch(n){case"closeQuote":case"acceptQuoteOrCreateOrder":case"activateQuote":case"printQuote":case"reviseActiveOrClosedQuote":case"getProductsForQuote":case"isQuoteActive":case"isQuoteActiveOrWon":case"isQuoteActiveOrClosed":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/sfa/salesorder/salesorder.js"))switch(n){case"reCalculate":case"getProductsForOrder":case"closeOrder":case"fulfillOrder":case"processOrder":case"isSalesorderActive":case"isSalesorderFulfilledOrActive":case"isSalesorderFulfilled":case"isBackOfficeInstalled":case"isSalesorderSubmitted":e=!0}if(c=new Microsoft.Crm.Client.Core.Models.Constants.$Jo(n),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Preparing parameters for function [{0}]",n),o=null,o=r.get_$1K(),$0.$1(o)&&!$0.$1(r.get_Root())&&(o=r.get_Root().get_$1K()),$0.$1(i)||(c.parameterArray=i.map(function(n){return Microsoft.Crm.Client.Core.Commands.$3n.$Ao.$1mj(n,3,o,r,u)}),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Prepared [{1}] parameters for function [{0}]",n,i.length)),l=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$Jo)),l.add(c),t.startsWith("$webresource:")||Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/_common/scripts/CommandBarActions.js")||Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/_common/scripts/SharedRibbonActions.js")||Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/activities/activity.js")||e)a=null,t.startsWith("$webresource:")&&(a=[t.replace("$webresource:","")]),v=null,e&&(v=[t]),y=new Microsoft.Crm.Client.Core.Models.$JM(l,null,a,v,null,new Microsoft.Crm.Client.Core.Models.$JI(3),null),h=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),!$0.$1(r)&&(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.isInstanceOfType(r)||Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.isInstanceOfType(r.get_$CK()))&&(b=Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.isInstanceOfType(r)?r:r.get_$CK(),h.grid=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(b)),y.runCompleteCallback=function(t){!$0.$1(t)&&t.length>0?($0.$1(f)||(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Function name: {0} - Evaluated to {1}",n,t[0]),f.resolve(t[0])),h.grid=null):($0.$1(f)||(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Function name: {0} - Evaluation failed.",n),f.reject()),h.grid=null)},Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Calling handler for function [{0}]",n),Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$BX(y);else if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"MobileApplicationSystemActions.js"))p=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(r,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("System",n)),p.execute(),p.dispose();else if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"MobileApplicationControlActions.js"))w=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(r,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("ControlCommand",n)),w.execute(),w.dispose();else if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Dw(t,"/_static/_forms/addrelated.js"))switch(n){case"locAddObjTo":Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(s=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(r,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenEmailAttachmentPopupCommand")),!$0.$1(s)&&s.get_CanExecute()&&(s.execute(),s.dispose()))}else Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Invalid library name.  Function name: {0} - Library: {1}",n,t),$0.$1(f)||f.resolve(!1)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.prototype={$A:null,$X:null,$1hf:null,$31:function(){for(var n,i,r=this.$1hf,u=r.length,t=0;t<u;++t)n=r[t],n.ActionType===3?(i=n.Attributes,Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(this.$X)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Ws(this.$X),Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1ms(i.FunctionName,i.Library,n.Parameters,this.$X,this.$A,null)):n.ActionType===1&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$2pd(n.Attributes,n.Parameters,this.$X,this.$A)},$GX:function(){Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.initializeBase(this);this.set_$2e(this.$$d_$31);this.set_CanExecute(Xrm.Internal.isFeatureEnabled("FCB.GuidedHelp"))};Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("GuidedHelpSettingsCommand",Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.$10)};Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.$10=function(){return new Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand};Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.prototype={$31:function(){var n=Xrm.Internal.isGuidedHelpEnabledForUser(),t=this;Xrm.Internal.setGuidedHelpProperties(!n).always(function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$1AU(1,Microsoft.Crm.Client.Core.Framework.$4.$i("Settings updated").$TI()):window.location.reload(!0)})}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Commands");Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ShowLandingPageSettingsCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.$10=function(){return new Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.prototype={$31:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel;n.$18();n.Show()}};Microsoft.Crm.Client.Core.ViewModels.Commands.$C7=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.$C7.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.ViewModels.Commands.$C7.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ShowPaneStackingSettingCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$C7.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.$C7.$10=function(){return new Microsoft.Crm.Client.Core.ViewModels.Commands.$C7};Microsoft.Crm.Client.Core.ViewModels.Commands.$C7.prototype={$31:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel;n.$18();n.Show()}};Microsoft.Crm.Client.Core.ViewModels.Commands.$CL=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.$CL.initializeBase(this);this.set_$2e(this.$$d_$31);this.$2q=n};Microsoft.Crm.Client.Core.ViewModels.Commands.$CL.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ToggleRecentlyViewedItemPinStatusCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$CL.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.$CL.$10=function(n){return new Microsoft.Crm.Client.Core.ViewModels.Commands.$CL(n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$CL.prototype={$2q:null,$31:function(){var n=!this.$2q.get_PinStatus();this.$2q.$Hm.set_$1xE(n);this.$2q.$Hm.$Hx=new Date;Microsoft.Crm.Client.Core.ViewModels.$25.get_$5().$1Yd(this.$2q.$Hm)}};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OfflineOptOutCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.$10=function(){return new Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.prototype={$31:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Jp().$2PL()}};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OfflineOptinCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.$10=function(){return new Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.prototype={$31:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Jp().$2PK()}};Microsoft.Crm.Client.Core.ViewModels.Commands.$9b=function(n){var t,r,i;this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.$9b.initializeBase(this);this.set_$2e(this.$$d_$31);t=null;this.$RR=null;n.InitializationParameters.SuccessCommand?this.$RR=n.InitializationParameters.SuccessCommand:(r=n.InitializationParameters.TargetViewModel,i=r.get_Root(),this.$3J=i.$7X("ProcessManager"),t=i.get_ModelContext(),this.$A6=t.GetValue("stageid"),this.set_CanExecute(this.$1Eo()))};Microsoft.Crm.Client.Core.ViewModels.Commands.$9b.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("BackProcessStageCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$9b.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.$9b.$10=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.Commands.$9b(t)};Microsoft.Crm.Client.Core.ViewModels.Commands.$9b.prototype={$3J:null,$A6:null,$RR:null,$GX:function(){$0.$1(this.$RR)||this.$RR.dispose();Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)},$31:function(){if(this.$RR)this.$RR.execute();else{if($0.$1(this.$A6))return;var n=this.$3J.$W4(this.$A6.toString());if(!n)return;this.$3J.$wN(n.stageId,null,!0)}},$1Eo:function(){return $0.$1(this.$3J)?!1:this.$3J.$1AF(this.$A6.toString())&&this.$3J.$CQ===this.$A6.toString()}};Microsoft.Crm.Client.Core.ViewModels.Commands.$A9=function(n){this.$$d_$2Ag=Function.createDelegate(this,this.$2Ag);Microsoft.Crm.Client.Core.ViewModels.Commands.$A9.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Commands.$A9.$B=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$A9(n);return new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(t.$$d_$2Ag,1011)};Microsoft.Crm.Client.Core.ViewModels.Commands.$A9.prototype={$2Ag:function(){var n=this.$30,i=this.$30.$C9.get_$1K(),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.Guid))(n.$5z.slice(0,n.$5z.length));t.remove(i.get_$2p().$Al);n.set_$1dD(t.toArray());Microsoft.Crm.Client.Core.ViewModels.List.Commands.$A8.prototype.$2Ag.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Commands.$BV=function(n){this.$$d_$2F=Function.createDelegate(this,this.$2F);Microsoft.Crm.Client.Core.ViewModels.Commands.$BV.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Commands.$BV.$B=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$BV(n);return new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(t.$$d_$2F,1011)};Microsoft.Crm.Client.Core.ViewModels.Commands.$BV.prototype={$2F:function(){var u=this.$30.$C9,n,c,r,t,e,f,i,a,s,h;if($0.$1(this.$30.$Hy)||(u=this.$30.$Hy,this.$30.$Hy=null),!$0.$1(u))if(n=u.get_ModelContext(),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(n.get_$G1())&&(!n.get_$2p().$AO||n.get_$2p().$AO===3))c=Microsoft.Crm.Client.Core.Models.$O.$B(n.get_$G1()),r=new Microsoft.Crm.Client.Core.Commands.$33(u,2),r.$1V=c,r.$J=n.get_$2p().$85,r.execute(),r.dispose();else if(n.get_$2p().$AO===1||n.get_$2p().$AO===2)t=new Microsoft.Crm.Client.Core.Commands.$33(this.$30,13),t.$J=n.get_$2p().$85,t.$1t=n.get_$2p().$85,e=n.get_$2p().$Al,t.$1B={},t.$1B.ListDefinitionId=e.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())?n.get_$2p().$85:e.toString(),t.$1B.ContextFilter=n.get_$2p().$K5,n.get_$2p().$BW&&(t.$1B.RelationshipExtraCondition=n.get_$2p().$BW),n.get_$2p().$ag&&(t.$1B.RelationshipName=n.get_$2p().$ag),n.get_$2p().$5h>=0&&(t.$1B.RelationshipType=n.get_$2p().$5h),n.get_$2p().$7n&&(t.$1B.ReferencingName=n.get_$2p().$7n),n.get_$2p().$A3>=0&&(t.$1B.RelationshipRoleOrdinal=n.get_$2p().$A3),n.get_$2p().$AO===2&&(t.$1B.ParentEntityViewModel=this.$30.$2),t.execute(),t.dispose();else if(n.get_$2p().$AO===4)f=new Microsoft.Crm.Client.Core.Commands.$33(this.$30,1),f.$1t=n.get_$2p().$Al.toString(),f.execute(),f.dispose();else if(n.get_$2p().$AO===5){i={};for(var l=n.get_$2p().$K5.split("&"),v=l.length,o=0;o<v;++o)a=l[o],s=a.split("="),i[CrmEncodeDecode.CrmUrlDecode(s[0])]=CrmEncodeDecode.CrmUrlDecode(s[1]);$0.$28(i.powerBIComponentType)||(i.powerBIComponentType=Number.parseInvariant(i.powerBIComponentType));h=new Microsoft.Crm.Client.Core.Commands.$33(null,50);h.$1B=i;h.execute()}}};Microsoft.Crm.Client.Core.ViewModels.Commands.$UD=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.Commands.$UD.initializeBase(this,[n,167]);this.set_Name(t);this.$2b=i};Microsoft.Crm.Client.Core.ViewModels.Commands.$UD.prototype={$G:null,get_Name:function(){return this.$G},set_Name:function(n){return this.$G!==n&&(this.$G=n,this.$8("Name")),n},$2b:null,get_Id:function(){return this.$2b},set_Id:function(n){return this.$2b=n,n}};Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd.initializeBase(this);this.set_$2e(this.$$d_$31);this.$UJ=n.StageViewModel;this.$RR=n.SuccessCommand};Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ProcessStageGateCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd.$10=function(n,t){var i=t.InitializationParameters;return new Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd(i)};Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd.prototype={$UJ:null,$RR:null,$31:function(){this.$UJ.$2gP()&&!this.$UJ.isBusinessProcessAborted()&&this.$RR.execute()},$GX:function(){$0.$1(this.$RR)||(this.$RR.dispose(),this.$RR=null);this.$UJ=null;Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Commands.$C5=function(n){var t,i;this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.$C5.initializeBase(this);this.set_$2e(this.$$d_$31);t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$3J=this.$2.$7X("ProcessManager");i=this.$2.get_ModelContext();this.$A6=i.GetValue("stageid");this.set_CanExecute(this.$1Eo())};Microsoft.Crm.Client.Core.ViewModels.Commands.$C5.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("SetActiveStageCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$C5.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.$C5.$10=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.Commands.$C5(t)};Microsoft.Crm.Client.Core.ViewModels.Commands.$C5.prototype={$2:null,$3J:null,$A6:null,$31:function(){$0.$1(this.$A6)||this.$3J.$wN(this.$3J.$CQ,null,!0)},$1Eo:function(){if($0.$1(this.$3J))return!1;var n=this.$3J.$CQ!==this.$3J.get_$4l().get_$6A();return n&&this.$3J.$12l(this.$3J.$CQ)}};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ShowDiagnosticsAndErrorsCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.$10=function(){return new Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.prototype={$31:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel;n.Show()}};Microsoft.Crm.Client.Core.ViewModels.Commands.$9s=function(n){this.$$d_$oA=Function.createDelegate(this,this.$oA);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.$9s.initializeBase(this);this.set_$2e(this.$$d_$31);$0.$1(n.SourceEntityLogicalName)||(this.$wV=n.SourceEntityLogicalName);$0.$1(n.SourceEntityId)||(this.$wU=n.SourceEntityId);$0.$1(n.TargetEntityLogicalName)||(this.$pO=n.TargetEntityLogicalName);$0.$1(n.TargetViewModel)||(this.$X=n.TargetViewModel);$0.$1(n.TargetEntityAttribute)||(this.$21y=n.TargetEntityAttribute)};Microsoft.Crm.Client.Core.ViewModels.Commands.$9s.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("CreateNavigationEntityCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$9s.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.$9s.$10=function(n,t){var i=t.InitializationParameters;return new Microsoft.Crm.Client.Core.ViewModels.Commands.$9s(i)};Microsoft.Crm.Client.Core.ViewModels.Commands.$9s.prototype={$X:null,$wV:null,$wU:null,$pO:null,$21y:null,$31:function(){var n={QueryType:"CreateNavigationEntity",SourceEntityLogicalName:this.$wV,SourceEntityId:this.$wU,TargetEntityLogicalName:this.$pO,TargetEntityAttribute:this.$21y,OnSuccess:this.$$d_$oA};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$X,n)},$oA:function(n){var i={NextEntityId:new Microsoft.Crm.Client.Core.Framework.Guid(n),NextEntityLogicalName:this.$pO,TargetViewModel:this.$X,ActionType:"NavigateToNextEntity"},t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$BL(i);t.execute();t.dispose()}};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.initializeBase(this);this.$2q=n;this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("RequestClose",Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$10=function(n){return new Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand(n)};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.prototype={$2q:null,$31:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1DG(this.$2q.get_Id());$0.$1(n)||n(this.$2q)}};Type.registerNamespace("XrmUI");XrmUI.XrmUIHelper=function(){};XrmUI.XrmUIHelper.prototype={loadScripts:function(n,t){for(var u,f,o=document.getElementsByTagName("head")[0],r=n,e=r.length,i=0;i<e;++i)u=r[i],f=Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5(),f.$1ZL.$2sD(u,t)},getTopZIndex:function(){for(var r,n,u,f=document.body.getElementsByTagName("*"),t=0,i=0;i<f.length;i++)r=window.getComputedStyle(f[i]),r.position!=="static"&&(n=r.zIndex,n!=="auto"&&n&&(u=Number.parseInvariant(n),u>t&&(t=u)));return t},isPageLoaded:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();return n.$tp}};Type.registerNamespace("Xrm.Interfaces");Xrm.Interfaces.IKnowledgeArticle=function(){};Xrm.Interfaces.IKnowledgeArticle.registerInterface("Xrm.Interfaces.IKnowledgeArticle");Xrm.Interfaces.IServiceDirectory=function(){};Xrm.Interfaces.IServiceDirectory.registerInterface("Xrm.Interfaces.IServiceDirectory");Xrm.Interfaces.IXrmGridControl=function(){};Xrm.Interfaces.IXrmGridControl.registerInterface("Xrm.Interfaces.IXrmGridControl");Xrm.Interfaces.IXrmSubGridControl=function(){};Xrm.Interfaces.IXrmSubGridControl.registerInterface("Xrm.Interfaces.IXrmSubGridControl");Xrm.Interfaces.IXrmTrace=function(){};Xrm.Interfaces.IXrmTrace.registerInterface("Xrm.Interfaces.IXrmTrace");Xrm.Interfaces.IXrmTraceListener=function(){};Xrm.Interfaces.IXrmTraceListener.registerInterface("Xrm.Interfaces.IXrmTraceListener");Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.ClientApi");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh.registerInterface("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$EE=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$EE.registerInterface("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$EE");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.prototype={offlineFCBOff:-7e3,userOptedOff:-7001,mobileOfflineFeatureUnavailable:-7002,mobileOfflineDatastoreUnavailable:-7003,mandatoryParameterIsNull:-7004,invalidFieldValue:-7005,invalidIdGuid:-7006,maxPageSizeNotNumber:-7007,maxPageSizeNonPositive:-7008,optionParamStartIncorrect:-7009,operationWithoutPrivilege:-7010,entityAttributeMetadataNotFound:-7011,invalidAttribute:-7012,offlineAttributeNotSupported:-7013,invalidEntityName:-7014,entityNotEnabled:-7015,entityUnavailableMetadataMismatch:-7016,entityMetadataNotFound:-7017,invalidQueryOptionString:-7018,queryOptionIsNull:-7019,queryOptionIsInvalid:-7020,entityNavigationPropertyNotDefined:-7021,entityNavigationPropertyIsInvalid:-7022,topQueryIsInvalid:-7023,orderByDirectionIsInvalid:-7024,fetchXmlIsInvalid:-7025,noQueryOptionsWithFetchXml:-7026,queryOptionNotSupported:-7027,retrieveQueryOptionNotSupported:-7028,recordNotFound:-7029,sqlGenerationError:-7030,sqlExecutionError:-7031,unexpectedError:-7032,invalidValueForAttribute:-7033,entityNotAllowed:-7034};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.registerEnum("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6",!1);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T8=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T8.initializeBase(this,[null,null,null,n]);this.$1O7=t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T8.prototype={$1O7:null,getValue:function(){return this.$1O7},fireOnChange:function(){var n=this.$1O7;$0.$1(n)||n.$2Sx()}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T7=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T7.initializeBase(this);this.$14u=n;this.$7M=t;this.$66=i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T7.prototype={$14u:null,$7M:null,$66:null,getDisplayState:function(){return this.$14u.$1Ec?"expanded":"collapsed"},getLabel:function(){return this.$14u.$1D},getVisible:function(){return this.$14u.$1z},setLabel:function(n){this.$14u.set_Label(n)},setVisible:function(){},setDisplayState:function(){},getName:function(){return this.$7M},getParent:function(){return this.$66}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T5=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T5.initializeBase(this);this.$oi=n;this.$66=t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T5.prototype={$oi:null,$66:null,getDisplayState:function(n){return n===this.$oi.$Sg?"expanded":"collapsed"},getLabel:function(){return this.$oi.$1D},getVisible:function(){return this.$oi.$1z},setLabel:function(n){this.$oi.set_Label(n)},setVisible:function(){},setDisplayState:function(n,t){n==="expanded"&&this.$oi.set_CurrentSelectedValue(t)},getParent:function(){return this.$66},getName:function(){return this.$oi.$Sg}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2ke=function(n,t,i){var r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$DO(n),o,h,c,e;if(!$0.$1(t)){if(!$0.$1(t.get_$XF())&&t.get_$XF().get_$Pu().length>0){o=t.get_$XF().get_$Pu();for(var s=o,a=s.length,u=0;u<a;++u)h=s[u],r.$7P(h,r.$E5)}if($0.$1(t.get_$Yp())||$0.$1(t.get_$Yp().$6v)||(r.$6v=t.get_$Yp().$6v),!$0.$1(t.get_$1Yw())&&t.get_$1Yw().get_$1Yx().length>0){c=t.get_$1Yw().get_$1Yx();for(var l=c,v=l.length,f=0;f<v;++f)e=l[f],r.$2dO(e.$CX,e.get_$39B())}}return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$3TH(r,t,i),r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2ly=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.CreateQueryFromEntityQueryExpression","CreateQueryFromEntityQueryExpression has started");var r=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.DataApi.$v,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$29s(n,i).then(function(i){var u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2m0(i,n.$1Q,t);u.$32=n.$Eo;u.set_$7m(n.$FK);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.CreateQueryFromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$MN("CreateQueryFromEntityQueryExpression completed successfully for entity {0}",n.$1Q));r.resolve(u)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineQueryBuilder.CreateQueryFromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$MN("CreateSqlfromEntityQueryExpression failed for entity {0} with error {1}",n.$1Q,t.$E));r.reject(t)}),r.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2mD=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.CreateRelatedQueryFromEntityQueryExpression","CreateRelatedQueryFromEntityQueryExpression has started");var e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(i),o=new Xrm.Objects.EntityReference(t.$1Q,Microsoft.Crm.Client.Core.Framework.Guid.newGuid()),u=new Microsoft.Crm.Client.Core.Storage.DataApi.$Ew(e,o,""),f=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.DataApi.$Ew,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$29s(t,r).then(function(n){u.$S=t.$1Q;u.$3R=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(new Array(0));u.$9N.$Ep(2,n);u.$32=5e3;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.CreateRelatedQueryFromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$MN("CreateRelatedQueryFromEntityQueryExpression completed successfully for entity {0}",t.$1Q));f.resolve(u)},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineQueryBuilder.CreateRelatedQueryFromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$MN("CreateSqlfromEntityQueryExpression failed for entity {0} with error: {1}",t.$1Q,n.$E));f.reject(n)}),f.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2m0=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.CreateQueryFromSql","Started");var u=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W,r=new Microsoft.Crm.Client.Core.Storage.DataApi.$v(u,i);return r.$S=t,r.$3R=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(new Array(0)),r.$9N.$Ep(2,n),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.CreateQueryFromSql","Completed"),r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$3TH=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.SetQueryPageProperties","Started");var r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2J7(t,i);n.$Eo=r;n.$FK=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2J6(t);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.SetQueryPageProperties","Completed")};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$29s=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.CreateSqlfromEntityQueryExpression","CreateSqlfromEntityQueryExpression has started");var i=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2Sz(n,t).then(function(){var t,r;n.$1ef=!1;t=new Microsoft.Crm.Client.Core.Storage.Common.QueryGenerator.$Rw(new Microsoft.Crm.Client.Core.Offline.Common.QueryGenerator.$QY,n);try{r=t.$1Ty();Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.CreateSqlfromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$MN("CreateSqlfromEntityQueryExpression completed successfully for entity {0}",n.$1Q));i.resolve(r)}catch(u){i.reject(Microsoft.Crm.Client.Core.Framework.$4.$i(Microsoft.Crm.Client.Core.Framework.$3.$MN("Error While Genarating Sql , Exception : {0}",u.toString())));return}},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineQueryBuilder.CreateSqlfromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$MN("RefreshMetadataForEntityQueryExpression failed for entity {0} with the error: {1}",n.$1Q,t.$E));i.reject(t)}),i.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2Sz=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression","RefreshMetadataForEntityQueryExpression has started");var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$l(n.$1Q,t).then(function(){var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2zl(n,r);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetAttributesReferencedInEntityQueryExpression for the entity {0}",n.$1Q));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n.$1Q,r.toArray()),t).then(function(){var u,o;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveMultipleAttributeMetadata completed successfully for {0} and the attributes {1}",n.$1Q,r.toArray().toString()));u=[];for(var e=n.$DM,s=e.length,f=0;f<s;++f)o=e[f],Array.add(u,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2Sz(o,t));Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(u).then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression","RefreshMetadataForEntityQueryExpression completed successfully for Linked Entities");i.resolve(!0)},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$MN("RefreshMetadataForEntityQueryExpression failed for linked entities with error {0}",n.$E));i.reject(n)})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveMultipleAttributeMetadata failed for the entity {0} with the error {1}",n.$1Q,t.$E));i.reject(t)})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetEntityMetadata failed for entity {0} with the error {1}",n.$1Q,t.$E));i.reject(t)}),i.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2zl=function(n,t){for(var s,c,f,e,o=n.$35,a=o.length,i=0;i<a;++i)s=o[i],Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$19R(s.$G,t);for(var h=n.$6W,v=h.length,r=0;r<v;++r)c=h[r],Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$19R(c.$G,t);for(var l=n.$DM,y=l.length,u=0;u<y;++u)f=l[u],$0.$1(f.$1FT)||Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$19R(f.$1FT,t);Object.getType(n)===Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$EN&&(e=n.$1Wz,$0.$1(e)||Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$19R(e,t));Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$24g(n.$6v,t)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$24g=function(n,t){var f,o;if(!$0.$1(n)){if(!$0.$1(n.get_$23()))for(var u=n.get_$23().get_Items(),s=u.length,i=0;i<s;++i)f=u[i],Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$19R(f.get_$Pt(),t);if(!$0.$1(n.get_$5S()))for(var e=n.get_$5S().get_Items(),h=e.length,r=0;r<h;++r)o=e[r],Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$24g(o,t)}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$19R=function(n,t){t.contains(n)||t.add(n)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$l=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.GetEntityMetadata","GetEntityMetadata has started");var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(n,t).then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.GetEntityMetadata",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveEntityMetadata completed successfully for entity {0}",n));i.resolve(!0)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineQueryBuilder.GetEntityMetadata",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveEntityMetadata failed for the entity {0} with error {1}",n,t.$E));i.reject(t)}),i.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$29I=function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.CreateEntityQueryExpressionFromFetchXml","Started");var t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$DO(null),i=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n);return t.$18(Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(i).$O("fetch")),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.CreateEntityQueryExpressionFromFetchXml","Completed"),t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2Rq=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.PopulateRequiredQueryAttributes","PopulateRequiredQueryAttributes has started");var r=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$DO,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(n.$1Q,i).then(function(i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveEntityMetadata completed successfully for entity {0}",n.$1Q));var f=n.$35,u=null;t||(u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2zi(f));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$TG(n.$1Q,u).then(function(t){var f,e,o,s,h;if(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetAttributeTypes completed successfully for entity {0} and its attributeNames {1}",n.$1Q,$0.$1(u)?"":u.toString())),f=new Array(0),$0.$1(u)){e=t;for(o in e)s={key:o,value:e[o]},h=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(n.$1Q,s.key),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetAttributeMetadata for the entity {0}",n.$1Q)),Microsoft.Crm.Client.Core.Offline.Common.QueryGenerator.$78.$1sD(h)&&(f[f.length]=s.key)}else i.get_$Hj()in t||(f[f.length]=i.get_$Hj());Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2cP(n,f);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$MN("PopulateRequiredQueryAttributes completed successfully for the entity {0}",n.$1Q));r.resolve(n)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$MN("GetAttributeTypes failed for the entity {0} with error {1}",n.$1Q,t.$E));r.reject(t)})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$MN("RetrieveEntityMetadata failed for the entity {0} with error {1}",n.$1Q,t.$E));r.reject(t)}),r.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.$2dZ=function(n,t){var o,u;if(!$0.$1(t)&&!$0.$1(t.$hz)&&t.$hz.get_$Pu().length){for(var h=t.$hz,f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),a=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=n.$35,c=e.length,i=0;i<c;++i)o=e[i],f.add(o.$G);for(var s=h.get_$Pu(),l=s.length,r=0;r<l;++r)u=s[r],f.contains(u)||n.$7P(u,n.$E5)}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2jJ=function(n,t){var i={},r,u,e,s,h;if(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$32w(t)){if(r=n.$6H,u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),r.$7S.length>0){e=r.$7S[0];for(var o=e.get_$2O().get_entities(),c=o.length,f=0;f<c;++f)s=o[f],h=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1Pg(s,null),u.add(h)}i.value=u.toArray()}else i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1Pg(n,t);return i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$32w=function(n){return!$0.$1(n)&&!$0.$1(n.get_$P3())&&"$getOnlyRelatedEntity"in n.get_$P3()?Boolean.parse(n.get_$P3().$getOnlyRelatedEntity.toString()):!1};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1Pg=function(n,t){var u={},f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e,o,i,r,s,v,y,c,l,b,k;!$0.$1(t)&&!$0.$1(t.get_$XF())&&t.get_$XF().get_$Pu().length>0&&f.addRange(t.get_$XF().get_$Pu());e=n.fields;for(o in e)(i={key:o,value:e[o]},f.get_Count()>0&&!f.contains(i.key))||(r=n.$1Z[i.key],s=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2sp(n.$N.LogicalName,i.key.toString(),r,i.value),r===6||r===1||r===9?(v="_"+i.key.toString()+"_value",u[v]=s):u[i.key.toString()]=s);y=n.$6H;for(var p=y.$7S,d=p.length,h=0;h<d;++h){c=p[h];l=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object));for(var w=c.get_$2O().get_entities(),g=w.length,a=0;a<g;++a)b=w[a],k=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1Pg(b,null),l.add(k);u[c.get_$4z().$9D]=l.toArray()}return u};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2jI=function(n,t,i,r){for(var f,l,e,o={},c=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),v=t.$Bw,s=t.get_entities(),y=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$3EC(s.length,n.$Eo,n.$FK,i),u=0;u<y;u++){if(f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1Pg(s[u],i),!$0.$1(i)&&!$0.$1(i.get_$1C6())){l=i.get_$1C6().get_$1C7();for(var a=l,p=a.length,h=0;h<p;++h)e=a[h],f[e.$Tk+Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1vI]=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$33y(n.$1Q,s[u].$N.Id.toString(),e.get_$2pf()),f[e.$Tk]={}}c.add(f)}return o.values=c.toArray(),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2dE(o,n,v,i,r),o};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$3EC=function(n,t,i,r){var f=n,u;return!$0.$1(r)&&!$0.$1(r.get_$4T())&&r.get_$4T()>0&&(u=r.get_$4T(),t<u&&u-i*t<0&&(f=u-(i-1)*t)),f};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2dE=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$3NL(i,r,u)&&(n[Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1vI]=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$32j(t,r,u))};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$3NL=function(n,t,i){var r=!1,u;if(n&&(r=!0,u=null,!$0.$1(t)&&!$0.$1(t.get_$4T())&&t.get_$4T()>0)){var f=t.get_$4T(),e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2J6(t),o=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2J7(t,i);e*o>=f&&(r=!1)}return r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$33y=function(n,t,i){var u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n),r={};return r.API=Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}.{1}",Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1jv,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$27l),r.id=t,r.entityType=n,r.options=Microsoft.Crm.Client.Core.Framework.$3.$MN("?$select={0}&{1}&$getOnlyRelatedEntity=true",u.$4S,i),r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$32j=function(n,t,i){var r={};return r.API=Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}.{1}",Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1jv,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$27m),r.entityType=n.$1Q,r.options=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2ix(n,t),r.maxPageSize=i,r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2ix=function(n,t){var o=t.$RD,u=t.get_$P3(),i="",f,e,r;if($0.$1(t.get_$21H()))i+=$0.$1(o)?"?":o,i+=Microsoft.Crm.Client.Core.Framework.$3.$MN("&{0}={1}","$skiptoken",n.$FK+1);else{i+="?";f=u;for(e in f)r={key:e,value:f[e]},r.key==="$skiptoken"&&(u.$skiptoken=n.$FK+1),i+=Microsoft.Crm.Client.Core.Framework.$3.$MN("&{0}={1}",r.key,u[r.key])}return i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2sp=function(n,t,i,r){var f={},u="",o=new Microsoft.Crm.Client.Core.Offline.$t,e;if(f[t]=r,$0.$1(r)||(f=Microsoft.Crm.Client.Core.Offline.$2c.$2IF(t,i,r)),o.$tn(i))e=t+"!id",u=$0.$1(f[e])?null:f[e].toString();else{u=$0.$1(f[t])?null:f[t].toString();switch(i){case 3:case 4:case 8:u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2sf(n,t,u);break;case 0:u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2sX(u);break;case 2:u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2sc(n,t,u)}}return u};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2sc=function(n,t,i){var r,u,f;return Microsoft.Crm.Client.Core.Framework.$3.$9(i)?null:(r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(n,t),$0.$1(r)||(r.$Bc===2?(u=Microsoft.Crm.Client.Core.Storage.Common.DateTimeOperators.$W.$1Ap(i),i=Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}-{1:D2}-{2:D2}",u.getFullYear(),u.getMonth()+1,u.getDate())):r.$Bc===1&&(f=Microsoft.Crm.Client.Core.Storage.Common.DateTimeOperators.$W.$1Ap(i),f=Microsoft.Crm.Client.Core.Storage.Common.DateTimeOperators.$W.$32E(f),i=f.toISOString())),i)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2sX=function(n){return $0.$1(n)?null:n==="1"?"true":"false"};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$2sf=function(n,t,i){var r=i,u,f;return $0.$1(i)||(u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(n,t),f=Number.parseInvariant(i),r=f.toFixed(u.$LV)),r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1ke=function(n){var t={};return t.id=n.get_key(),t.logicalname=n.LogicalName,t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$1l2=function(n,t){var i={};return i.logicalname=n,i.id=new Microsoft.Crm.Client.Core.Framework.Guid(t).getObjectData(),Xrm.Objects.EntityReference.createFromObjectData(i)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2aF=function(n,t,i){for(var r,e,f=n.$DM,o=f.length,u=0;u<o;++u)r=f[u],r.$1Q===t&&(e=r.$6v,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2a3(e,t,i)),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2aF(r,t,i)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2cP=function(n,t){var u;if(!$0.$1(t)&&t.length)for(var r=t,f=r.length,i=0;i<f;++i)u=r[i],n.$7P(u,null)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2zi=function(n){for(var u,t=new Array(0),r=n,f=r.length,i=0;i<f;++i)u=r[i],t[t.length]=u.$G;return t.length>0?t:null};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2a3=function(n,t,i){for(var r,s,e=n.get_$23().get_Items(),h=e.length,u=0;u<h;++u)r=e[u],r.get_$Ay()===t&&(r.set_$2O(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2tK(i.$N.Id.toString())),r.set_$Jr("eq"));for(var o=n.get_$5S().get_Items(),c=o.length,f=0;f<c;++f)s=o[f],Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2a3(s,t,i)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2J7=function(n,t){var i=!$0.$1(t)&&t<Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$1ls?t:Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$1ls;return!$0.$1(n)&&!$0.$1(n.get_$4T())&&n.get_$4T()>0&&i>n.get_$4T()&&(i=n.get_$4T()),i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2J6=function(n){var t=1;return $0.$1(n)||(t=$0.$1(n.get_$21H())?1:Number.parseLocale(n.get_$21H())),t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2tK=function(n){return""+Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}",n)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$3K1=function(n,t,i){for(var u,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=t,o=e.length,f=0;f<o;++f)if(u=e[f],Microsoft.Crm.Client.Core.Offline.Common.QueryGenerator.$78.$1sD(u))r.add(u.$d);else if(!i)throw Error.create(String.format("Attribute {0} not supported in offline",u.$d));return r.contains(n.get_$Hj())||r.add(n.get_$Hj()),new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(r.toArray())};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$3Wm=function(n,t){var i=n;return t.get_$MN()===Microsoft.Crm.Client.Core.Storage.Common.DateTimeOperators.$7r.$2AO&&(i=Microsoft.Crm.Client.Core.Storage.Common.DateTimeOperators.$W.$tI(i)),Microsoft.Crm.Client.Core.Framework.$m.$Q9(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$K8,t.get_$1OH(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$En())};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2sW=function(n,t,i,r){var u=!0,f;try{switch(i){case 5:case 18:isNaN(parseInt(r.toString()))?u=!1:r=parseInt(r.toString());break;case 3:case 4:case 8:isNaN(parseFloat(r.toString()))&&(u=!1);break;case 2:f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(n,t);r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$3Wm(r,f);break;case 0:r.toString().toLowerCase()==="true"||r.toString().toLowerCase()==="false"?r={value:Boolean.parse(r.toString())?"1":"0"}:u=!1;break;case 12:case 13:case 11:isNaN(parseInt(r.toString()))?u=!1:r={value:parseInt(r.toString())};break;case 15:r={rawguid:r.toString()};break;case 6:case 1:case 9:Object===Object.getType(r)&&Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2N7(r)?r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2Dt(r):u=!1;break;case 10:Object.getType(r).getName()==="Array"&&r.length>0?r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2sr(r):u=!1}if(u)i!==10&&(r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.createSingleFieldFromObjectData(r,i));else throw Error.format("invalid value for attribute");}catch(e){throw e;}return r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$GT=function(n,t){var r=null,i="",u=Microsoft.Crm.Client.Core.Framework.$3.$9(t)?$0.$1(n)?"":$0.$1(n.$Xm)?n.$E:n.$Xm.$E:t;if($0.$1(n)||$0.$1(n.$z))i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7032,null),r=new Xrm.OfflineErrorResponse(-7032,i,u);else switch(n.$z){case-2147093944:case-2147093980:case-2147220969:i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7029,null);r=new Xrm.OfflineErrorResponse(-7029,i,u);break;default:i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M(-7032,null);r=new Xrm.OfflineErrorResponse(-7032,i,u)}return r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$C=function(n,t){Microsoft.Crm.Client.Core.Framework.$B.$1E(n,2010,t)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$65=function(n,t){Microsoft.Crm.Client.Core.Framework.$B.$65(n,2010,t)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2Dt=function(n){return{id:{rawguid:n.id.toString()},logicalname:n.logicalname.toString(),name:$3j.$c(Object,n.name)}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2sr=function(n){for(var r=n,t=new Array(0),f=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),u={},e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)),i=0;i<r.length;i++)if(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2N7(r[i]))t[t.length]=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(f,{partyid:Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.createSingleFieldFromObjectData(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2Dt(r[i]),6)},{partyid:6},u,u,e);else throw Error.format("invalid value for attribute");return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(t,!0,t.length,!1,null)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$2N7=function(n){return!$0.$1(n.id)&&!$0.$1(n.logicalname)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$18=function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7e3),"Your organization has not opted in for the Mobile Offline feature.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7001),"You must opt in to the Offline mode to use this feature. ");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7002),"This feature is not available when you are connected to Dynamics 365 server.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7003),"The Offline Data Store is not ready to  perform the operation.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7004),"{0}is a required parameter and cannot be null.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7005),"{0} is an invalid value for the field.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7006),"{0} is an invalid GUID.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7007),"Max Page Size should be a number.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7008),"Max Page Size should be a positive integer.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7009),'Option Parameter should begin with "?".');Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7010),"{0} operation doesnt have privilege to perform the operation.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7011),"Attribute Metadata not found for entity {0}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7012),"Specified attributes are Invalid.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7013),"Attribute {0} is not supported in offline mode.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7014),"Entity {0} is not supported.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7015),"Entity {0} is not enabled.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7016),"Entity {0} is not available due to a mismatch in metadata.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7017),"Entity Metadata not found for entity {0}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7018),"Specified query option string is invalid.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7019),"The value of {0} query option cannot be null.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7020),"Invalid value specified for the {0} query option.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7021),"Specified Navigation Property not found for entity {0}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7022),"Navigation Property {0} is not present for entity {1}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7023),"The value of $top query option must be a non-negative number.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7024),'Invalid direction suffix specified in the $orderby query option. Use the "asc" or "desc" suffix to specify ascending or descending order respectively.');Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7025),"Specified FetchXML is invalid.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7026),"No other query options are supported with the FetchXML option.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7027),"Query option {0} is not supported.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7028),"Retrieve doesnt support query option {0}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7029),"Record not found.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7030),"Error occurred during SQL generation.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7031),"Error occurred while executing SQL.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7032),"An unexpected error occurred.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7033),"Invalid value specified for attribute {0}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(-7034),"Create or update or delete action on Activity Party and Intersect Entity are not allowed.")};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$9U=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$Cq[n]=t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$31A=function(n){return($0.$1(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$Cq)&&(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$Cq={},Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$18()),!$0.$1(n)&&n in Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$Cq)?Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$Cq[n].toString():null};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$5M=function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$31A(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$6.toString(n));return!$0.$1(t)&&t.get_Count()>0?String.format.apply(null,[i].concat(t.toArray())):i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$TM=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$TM.initializeBase(this,[n,t,i]);this.$8D=n;this.$7M=t;this.$66=i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$TM.prototype={$8D:null,$21t:null,$7M:null,$66:null,getLabel:function(){return this.$8D.$1D},setLabel:function(n){this.$21t=this.$66.tabNavigators.getByName(this.$7M);this.$21t.setLabel(n);this.$8D.set_Label(n)},getParent:function(){return this.$66}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp");Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9U=function(n,t){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9U.initializeBase(this);this.set_$2e(this.$$d_$31);this.$2q=n;this.$5g="RecordId"in t.InitializationParameters?t.InitializationParameters.RecordId:"";this.$ac="RecordType"in t.InitializationParameters?t.InitializationParameters.RecordType:"";this.$1X0="ListItemViewModel"in t.InitializationParameters?t.InitializationParameters.ListItemViewModel:null};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9U.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("AddEmailAttachmentCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9U.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9U.$10=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9U(n,t)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9U.prototype={$2q:null,$5g:null,$ac:null,$1X0:null,$24f:function(n,t,i){var r=this,u=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1o1(n,i).then(function(n){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$2cr(n,t,function(n){if(!$0.$1(n)&&n.status){var t=n.message;throw Error.create(String.format("AddFileAttachmentAsync has failed. Error message: \n\n {0}",t));}r.$bB()})},function(n){u.$bB();throw Error.create(String.format("An error generating attachment URL. Error message: \n\n {0}",n.$E));})},$bB:function(){$0.$1(this.$1X0)?this.$2q.StopItemInserting():this.$2q.StopItemInserting(this.$1X0)},$2Yd:function(){this.$2q.StartItemInserting(this.$5g)},$31:function(){var t,i;if(this.$2Yd(),t=this.$5g,i=this.$ac,!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5g)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$ac)){var l=new Xrm.Objects.EntityReference(i,new Microsoft.Crm.Client.Core.Framework.Guid(t)),o=Microsoft.Crm.Client.Core.Framework.$G.$b("","AddEmailAttachmentCommand"),r="",u="",n="",s="filename",f="";switch(i){case"salesliterature":r="salesliteratureitem";u="salesliteratureitem";n="salesliteratureitemid";f="salesliteratureid";break;case"template":r="activitymimeattachment";u="attachment";n="attachmentid";f="objectid"}var h=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(String.format('<fetch returntotalrecordcount=\'true\' mapping="logical" count="10">\t<entity name="{0}">\t\t<attribute name="{1}"/>\t\t<attribute name="filename"/>\t\t<filter type="and">\t\t\t<condition attribute="{2}" operator="eq" value="{3}"/>\t\t<\/filter>\t<\/entity><\/fetch>',r,n,f,t),null),e=this,c=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(h,Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),o).then(function(t){var r=t.get_entities(),i;if(r.length>0)for(i=0;i<r.length;i++){var o=r[i],f=o.getValue(n),c=Object.getType(f)===Xrm.Objects.EntityReference?f.Id.toString():f.toString(),h=o.getValue(s);$0.$1(h)?e.$bB():e.$24f(c,h,u)}else e.$bB()},function(n){c.$bB();throw Error.create(String.format("An error retrieving the data. Error message: \n\n {0}",n.$E));})}}};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("MailAppInsertItemIntoEmailCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.$10=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z(t);return i.$19C=n,i.$EA=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.$1Di(t,"RecordId"),i.$qh=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.$1Di(t,"RecordType"),i.$qh==="template"&&(i.$BF=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.$1Di(t,"ListItemViewModel"),i.$AD=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.$1Di(t,"EntityTypeCode"),i.$GC=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.$1Di(t,"RegardingObjectId")),i};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.$1Di=function(n,t){var i=t in n.InitializationParameters;return n.InitializationParameters[t]};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.prototype={$19C:null,$EA:null,$qh:null,$AD:0,$GC:null,$BF:null,$bB:function(){this.$19C.StopItemInserting(this.$BF)},$2Yd:function(){this.$19C.StartItemInserting(this.$EA)},$2Lg:function(n,t){var r=$0.$1(n)?"":n,i=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$38M(r,function(n){if(!$0.$1(n)&&n.status){var r=n.message;throw Error.create(String.format("InsertToStartOfBodyAsync has failed. Error message: \n\n {0}",r));}Microsoft.Crm.Client.Core.Framework.$3.$1O(t)?i.$bB():i.$2XC(t)})},$2XC:function(n){var t=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$2Hx(function(i){!$0.$1(i)&&Microsoft.Crm.Client.Core.Framework.$3.$1O(i.subject)?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$2XC(n,function(n){if(t.$bB(),!$0.$1(n)&&n.status){var i=n.message;throw Error.create(String.format("SetEmailSubject has failed. Error message: \n\n {0}",i));}}):t.$bB()})},$38I:function(n){var i=this,r=this,t;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1qL(n,this.$GC,this.$AD).then(function(n){if(!$0.$1(n)){var t=n;i.$2Lg(t.$bh,t.$Dh)}},function(n){r.$bB();throw Error.create(String.format("An error retrieving the instantiated email template. Error message: \n\n {0}",n.$E));});t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this.$19C,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("AddEmailAttachmentCommand","AddEmailAttachmentCommand",{RecordId:this.$EA,RecordType:this.$qh,ListItemViewModel:this.$BF}));t.get_CanExecute()&&t.execute()},$31:function(){this.$2Yd();switch(this.$qh){case"template":this.$38I(this.$EA);break;case"knowledgearticle":var t=new Xrm.Objects.EntityReference(this.$qh,new Microsoft.Crm.Client.Core.Framework.Guid(this.$EA)),i=Microsoft.Crm.Client.Core.Framework.$G.$b("","MailAppInsertItemIntoEmailCommand"),n="content",r=this,u=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(t,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([n]),Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),i).then(function(t){var i=t.getValue(n);r.$2Lg(i,null)},function(n){throw Error.create(String.format("An error retrieving the data. Error message: \n\n {0}",n.$E));});break;default:this.$bB();throw Error.invalidOperation(String.format("Entity '{0}' is not supported.",this.$qh));}}};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$C6=function(n){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$C6.initializeBase(this);this.set_$2e(this.$$d_$31);var t=n.InitializationParameters.regardingObject;if(!$0.$1(t)&&Microsoft.Crm.Client.Core.Models.MailApp.$9J.isInstanceOfType(t)){this.$6n=t;return}Microsoft.Crm.Client.Core.Framework.Utils.$D.$52(this.$6n,"Regarding object should be provided.")};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$C6.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("SetRegardingButtonCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$C6.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$C6.$10=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$C6(t)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$C6.prototype={$6n:null,get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$31:function(){this.get_$7G().$9X.changeMailItemState(1,this.$6n.$80,this.$6n.$2b,this.$6n.$1d)}};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$CN=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$CN.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$CN.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("TrackWithoutRegardingObjectCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$CN.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$CN.$10=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$CN(t)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$CN.prototype={get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$31:function(){this.$3NE();this.get_$7G().$9X.changeMailItemState(1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rI().execute()},get_$3AL:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();return n.$h==="relevanceSearchPage"},$3NE:function(){var n=this.get_$3AL()?"Relevance Search Page":"Categorized Search Page";Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.MailApp.$P8(null,n))}};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65=function(){Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("CreateFormAndSetRegardingCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.$10=function(n,t){t.ValueTypeName="CreateCommand";var i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(n,t);return i.$P=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.$2QU,Microsoft.Crm.Client.Core.Framework.$3.$9(i.$J)||i.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(i.$J,0)),i.$1Kt=function(){Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.$3N3(i.$J,i.get_CanExecute())},i};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.$2QU=function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$9X.changeMailItemState(1,n.$CO.get_$Eb(),n.$CO.get_$57(),n.$CO.get_$9t());Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.$3N2(n.$CO.get_$Eb());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rI().execute()};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.$3N3=function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppCreateNewIsChoosenFromSearchPage");i.addEventParameter("EntityTypeName",n);i.addEventParameter("IsCreationAllowed",t);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.$3N2=function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.MailApp.$P8(n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9G=function(){Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9G.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9G.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenListItemInWebCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9G.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9G.$10=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.List.Commands.$5f.$1kl(n,t,Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9G)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9G.prototype={$31:function(){var i=this.$BF.get_ModelContext().get_Id(),r=this.$BF.get_ModelContext().get_ModelName(),n,t;Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$BF.get_ModelContext())&&(n=this.$BF.get_ModelContext(),i=n.$M.$3F.Id.toString(),r=n.$M.$3F.LogicalName);t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this.$BF,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenInBrowserCommand","OpenInBrowserCommand",{RecordId:i,RecordType:r}));t.execute();t.dispose()}};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9O=function(){Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9O.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9O.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("SetRegardingCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9O.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9O.$10=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.List.Commands.$5f.$1kl(n,t,Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9O)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9O.prototype={$31:function(){this.$6a.$fC(this.$BF);var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$BF.get_$2R()),t=this.$BF.get_ModelContext().GetValue(i.$5e),n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();$0.$1(n)||Microsoft.Crm.Client.Core.Framework.$3.$9(n.$h)||n.$h!=="relevanceSearchPage"||(t=this.$BF.get_ModelContext().GetValue(Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonSerializers.$41.$U7));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$9X.changeMailItemState(1,this.$BF.get_ModelContext().get_ModelName(),this.$BF.get_ModelContext().get_Id(),t);this.$3NC(this.$BF.get_ModelContext().get_ModelName());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rI().execute()},$3NC:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.MailApp.$P8(n,"Search Result Record");Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.MailApp");Microsoft.Crm.Client.Core.ViewModels.MailApp.$9X=function(){};Microsoft.Crm.Client.Core.ViewModels.MailApp.$9X.$2jo=function(n,t,i,r,u){var y=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r,c=t[0],p=Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),o,f,e,s,h,l,a,v;return Microsoft.Crm.Client.Core.Framework.$3.$9(n.$8T)||(p=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n.$8T)),o=y.$5V,f=new Microsoft.Crm.Client.Core.ViewModels.MailApp.$9X.$3bS,f.$D7("description",c.$jx,14),f.$D7("instancetypecode",0,11),f.$D7("isalldayevent",!1,0),f.$D7("location",o.$18I,14),f.$D7("scheduledstart",new Date(o.$18k.toString()),2),f.$D7("scheduledend",new Date(o.$qp.toString()),2),f.$D7("subject",c.$Dh,14),e={},o.$xy&&(e=o.$yI,f.$D7("recurrencepatterntype",e.RecurrencePatternType,11),f.$D7("patternendtype",e.PatternEndType,11),f.$D7("interval",e.Interval,5),s=null,$0.$1(e.PatternStartDate)||(s=new Date(e.PatternStartDate.toString())),f.$D7("patternstartdate",s,2),h=null,e.PatternEndType===3&&(h=new Date(e.PatternEndDate.toString())),f.$D7("patternenddate",h,2),f.$D7("isalldayevent",e.IsAllDayEvent,0),f.$D7("isweekdaypattern",e.IsWeekDayPattern,0),f.$D7("isnthmonthly",e.IsNthMonthly,0),f.$D7("isnthyearly",e.IsNthYearly,0),e.RecurrencePatternType===1&&f.$D7("daysofweekmask",e.DaysOfWeekMask,5),(e.RecurrencePatternType===2||e.RecurrencePatternType===3)&&(e.IsRelativeMonthlyRecurrencePattern||e.IsRelativeYearlyRecurrencePattern?(f.$D7("daysofweekmask",e.DaysOfWeekMask,5),f.$D7("instance",e.DayOfWeekIndex,11)):f.$D7("dayofmonth",e.DayOfMonth,5),f.$D7("monthofyear",e.MonthOfYear,11))),l=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(u,!1,u.length,!1),f.$D7("optionalattendees",l,10),a=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(r,!1,r.length,!1),f.$D7("requiredattendees",a,10),v=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(i,!1,r.length,!1),f.$D7("organizer",v,10),Microsoft.Crm.Client.Core.Framework.$3.$9(n.$Gu)||Microsoft.Crm.Client.Core.Framework.$3.$9(n.$GC)||f.$D7("regardingobjectid",new Xrm.Objects.EntityReference(n.$Gu,new Microsoft.Crm.Client.Core.Framework.Guid(n.$GC)),6),f.$3Vv(o.$xy)};Microsoft.Crm.Client.Core.ViewModels.MailApp.$9X.$3bS=function(){this.$61={};this.$1Z={}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$9X.$3bS.prototype={$D7:function(n,t,i){this.$61[n]=t;this.$1Z[n]=i},$3Vv:function(n){var f=new Xrm.Objects.EntityReference(n?"recurringappointmentmaster":"appointment",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(f,this.$61,this.$1Z,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),r=this.$61,t,u;for(t in r)u={key:t,value:r[t]},i.$4P.add(u.key);return i}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$UL=function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.$UL.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.$UL.prototype={$1nn:"Follow",$1nm:"Followed",$2ZL:"ApplyTemplate",$2V8:"SalesLiterature",$2NM:"InsertKbArticle",$Zc:!1,set_$39H:function(n){return this.$Zc!==n&&(this.$Zc=n,this.$3Wy(),this.$8("TabItems")),n},get_$39I:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84("template",1)&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$bz!==6},get_$39g:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84("knowledgearticle",1)&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$bz!==6},get_$3AP:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$3A7("salesliterature",1)},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this),this.$3CC())},$3CC:function(){this.set_TabItems([]);this.get_$39I()&&this.get_TabItems().push(this.$1Px(54,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Compose_Actions_Email_Templates"),this.$2ZL,null));this.get_$3AP()&&this.get_TabItems().push(this.$1Px(55,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Compose_Actions_Sales_Literature"),this.$2V8,"salesliterature"));this.get_$39g()&&this.get_TabItems().push(this.$1Px(55,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Compose_Actions_Knowledge_Articles"),this.$2NM,"knowledgearticle"));this.get_$7G().get_$1Vq()&&this.get_TabItems().push(this.$1Px(53,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Compose_Actions_Follow"),this.$Zc?this.$1nm:this.$1nn,null,this.get_TabItems().length>0?"followTabBarItemLeftSeparator":null))},$1Px:function(n,t,i,r,u){var f=new Microsoft.Crm.Client.Core.Models.MailApp.$Qn(n);return f.set_Text(t),f.set_SymbolClassName(i),$0.$1(r)||(f.$1go=r),Microsoft.Crm.Client.Core.Framework.$3.$9(u)||f.set_ClassName(u),f},$3Wy:function(){for(var n=0;n<this.get_TabItems().length;n++)if(this.get_TabItems()[n].$1ME===53){this.get_TabItems()[n].set_SymbolClassName(this.$Zc?this.$1nm:this.$1nn);break}},$3HH:function(n){this.get_$7G().$yk.$Tj(n.$1ME,n.$1go);this.get_$7G().$yk.set_Visible(!0)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel=function(){this.$$d_$20v=Function.createDelegate(this,this.$20v);this.$$d_$2UM=Function.createDelegate(this,this.$2UM);this.$$d_$2hd=Function.createDelegate(this,this.$2hd);this.$$d_$27E=Function.createDelegate(this,this.$27E);this.$$d_$3FR=Function.createDelegate(this,this.$3FR);this.$$d_$3HN=Function.createDelegate(this,this.$3HN);this.$rw=Microsoft.Crm.Client.Core.Framework.Guid.newGuid();Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.initializeBase(this);this.$1eS=this.$$d_$3HN;this.$o7=this.$$d_$3FR;this.$Hr=new Microsoft.Crm.Client.Core.ViewModels.MailApp.$U6};Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.$D)&&(Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.$D=new Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel),Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.$D};Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.prototype={$16:0,$2D:!1,$1eS:null,$o7:null,$15I:null,$Hr:null,$227:0,$228:0,$1Jj:!1,$18:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Vq()&&(this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.AddPropertyChangedListener("EmailItem",this.$$d_$27E),this.$27E(null,null)))},get_State:function(){return this.$16},set_State:function(n){return this.$16!==n&&(this.$16=n,this.$8("State")),n},get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return this.$2D!==n&&(this.$2D=n,this.$8("Loading")),n},get_RecipientsList:function(){return this.$15I.toArray()},get_StatusMessagesContainer:function(){return this.$Hr},get_IsTracked:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$9X.get_IsTracked()},get_IsEmailItemFollowed:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.$5V.$Rq},get_IsFollowButtonVisible:function(){return!!this.$16},get_IsFollowButtonEnabled:function(){return!this.$2D&&this.$16!==2},get_IsRestricted:function(){return this.$16===1},get_RecipientResolutionStatus:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.$1Hk},get_ComponentType:function(){return 53},get_TitleText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Title")},get_RestrictedRecipientsHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Restricted_Recipients_Title")},get_StatusText:function(){switch(this.$16){case 1:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Status_Restricted");case 2:case 3:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Status_Not_Followed");case 4:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Status_Followed");default:return""}},get_FollowButtonText:function(){switch(this.$16){case 4:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Button_Followed");case 2:case 3:case 1:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Button_Not_Followed");default:return""}},get_RecommendationText:function(){switch(this.$16){case 2:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Recommendation_Text_Not_Tracked");case 1:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Recommendation_Text_Restricted");case 4:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Recommendation_Text_Followed");case 3:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Recommendation_Text_Not_Followed");default:return""}},get_RecommendationLink:function(){switch(this.$16){case 4:case 3:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Recommendation_Link_1");case 2:return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Recommendation_Link_2");default:return""}},get_RecommendationLinkText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Recommendation_Link_Text")},get_FollowErrorText:function(){return this.$16===3?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Error_Will_Be_Followed"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Error_Will_Be_Unfollowed")},$2hd:function(){var n;if(this.get_RecipientResolutionStatus()!==1)if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.RemovePropertyChangedListener("ResolveRecipientsStatus",this.$$d_$2hd),this.get_RecipientResolutionStatus()===3){if(!this.$2hB()){this.$Hr.$ZD("recipient_resolution").set_State(2);this.set_State(1);this.set_IsLoading(!1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$9X.showNotification(this.get_StatusText(),2);this.$1Jj?Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppFollowEmailRetryToFollowAfterRestriction")):(n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppFollowEmailRestricted"),n.addEventParameter("RestrictedRecipientCount",this.$15I.get_Count()),n.addEventParameter("TotalRecipientCount",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$UA.get_TabItems().length),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(n),this.$1Jj=!0);return}this.$Hr.$ZD("recipient_resolution").set_State(3);this.$Hr.$1Nm(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4("adding_following_info",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Status_Adding_Follow_Info"),1));var r={OnSuccess:this.$$d_$2UM,CrmId:this.$rw},t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEmailLinksAction",r),i=this;t.OnFailure=function(n){i.$Hr.$ZD("adding_following_info").set_State(2);i.$o7(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t)}else this.get_RecipientResolutionStatus()===2&&(this.$Hr.$ZD("recipient_resolution").set_State(2),this.$o7(null))},$27E:function(){if(!$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.$5V)){if(this.get_IsTracked())this.set_State(this.get_IsEmailItemFollowed()?4:3);else{if(this.get_IsEmailItemFollowed()){this.$2Zp();return}this.set_State(2)}this.get_IsEmailItemFollowed()&&this.$2D&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$9X.showNotification(this.get_StatusText(),0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$zY.set_$39H(this.get_IsEmailItemFollowed());this.$Hr.$2i(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4("follow_status",this.get_StatusText()));this.set_IsLoading(!1)}},$2hB:function(){var u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$UA.get_TabItems(),r,n;this.$15I=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.MailApp.$9H));for(var i=u,f=i.length,t=0;t<f;++t)r=i[t],n=r.$Ny,$0.$1(n)||(n.$N.LogicalName==="contact"||n.$N.LogicalName==="lead")&&(n.hasValue("followemail")&&n.getValue("followemail").$1i===1||this.$15I.add(Microsoft.Crm.Client.Core.ViewModels.MailApp.$9H.$7N(Microsoft.Crm.Client.Core.Models.$O.$B(n))));return!(this.$15I.get_Count()>0)},HandleFollowButtonClick:function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppFollowEmailButtonClick"));this.$16===4?this.showUnfollowPromptDialog():this.$2sO()},$3FR:function(n){this.set_IsLoading(!1);this.showErrorDialog();var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppFollowEmailActionError");$0.$1(n)?(t.addEventParameter("ErrorCode",2),t.addEventParameter("ErrorMessage","[empty error object has been received]")):(t.addEventParameter("ErrorCode",n.$z),t.addEventParameter("ErrorMessage",n.$E));Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)},$2sO:function(){this.set_IsLoading(!0);this.set_State(3);this.$Hr.$2i(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4("recipient_resolution",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Status_Retrieving_CRM_Data"),1));this.$227=Date.now();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.AddPropertyChangedListener("ResolveRecipientsStatus",this.$$d_$2hd);Microsoft.Crm.Client.Core.ViewModels.$3B.get_$5().$15D(!0)},$2Zp:function(){this.set_IsLoading(!0);this.$Hr.$2i(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4("unfollowing",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Status_Analyzing"),1));var n=this;window.setTimeout(function(){n.$228=Date.now();n.$1ak()},2e3)},$1ak:function(){var t={OnSuccess:this.$1eS,CrmId:this.$rw},n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RemoveTrackingInfoAction",t);n.OnFailure=this.$o7;this.$Hr.$ZD("unfollowing").set_State(3);this.$Hr.$1Nm(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4("removing_following_info",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Status_Removing_Follow_Info"),1));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},$3HN:function(n){var f=n?"adding_following_info":"removing_following_info",i,r,t,u;this.$Hr.$ZD(f).set_State(3);this.$Hr.$1Nm(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4("wrapping_up",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Status_Finishing_Up"),1));i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.$5V.$8W();i.$8T=n?this.$rw.toString():"";i.$Rq=n;r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateEmailContext",i);t=this;r.OnSuccess=function(){var i,r=0,u;n?(i="MailAppFollowEmailFollowSuccess",r=t.$227,t.$1Jj&&(Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppFollowEmailSuccessFollowAfterRestrictions")),t.$1Jj=!1)):(i="MailAppFollowEmailUnfollowSuccess",r=t.$228);u=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj(i);u.addEventParameter("ActionDuration",Date.now()-r);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(u)};u=this;r.OnFailure=function(n){u.$Hr.$ZD("wrapping_up").set_State(2);u.$o7(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,r)},$2UM:function(n){var r={EmailLinks:n,TrackingId:this.$rw,ConversationTrackingId:this.$rw,OnSuccess:this.$$d_$20v},t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEmailFollowTrackingInfoAction",r),i=this;t.OnFailure=function(n){i.$Hr.$ZD("adding_following_info").set_State(2);i.$o7(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t)},$20v:function(n){var r={OnSuccess:this.$1eS,FollowModel:n,CrmId:this.$rw},t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("SetTrackingInfoAction",r),i=this;t.OnFailure=function(n){i.$Hr.$ZD("adding_following_info").set_State(2);i.$o7(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t)},showUnfollowPromptDialog:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel(1,0),t,i;n.$Ie=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Button_Label_Yes");n.$Pz=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Button_Label_No");n.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Unfollow_Prompt_Text"));t=this;n.$Dy=function(){t.$2Zp()};i=this;n.$JB=function(){i.set_State(4)};n.Show()},showErrorDialog:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel(0,0);n.$Ie=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Button_Label_OK");n.$13a="";n.$Fu=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Follow_Error_Header");n.set_Message(this.get_FollowErrorText());n.Show()},tabActivated:function(){this.get_IsTracked()||Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppFollowEmailDisplayTabWithoutTracking"))},ClearState:function(){this.$Hr.$79()},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.RemovePropertyChangedListener("EmailItem",this.$$d_$27E);Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel=function(){this.$$d_$1vz=Function.createDelegate(this,this.$1vz);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel.prototype={get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$1d4:!1,$1GQ:null,$1Hb:null,$12s:null,get_LastActivityLabel:function(){var n=$0.$1(this.$12s)?"":Microsoft.Crm.Client.Core.ViewModels.$2B.getShortDateTimeFormat(this.$12s);return Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_EmailEnagagement_Last_Activity_Label"),n)},get_HeaderLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_EmailEnagagement_Email_Monitoring_Header")},get_ViewInCRMLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_EmailEnagagement_ViewInCRM")},get_OpensLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_EmailEnagagement_Opens_Label")},get_RepliesLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_EmailEnagagement_Replies_Label")},get_ShowSummary:function(){return this.$1d4},set_ShowSummary:function(n){return this.$1d4=n,this.$3N6(),this.$8("ShowSummary"),n},$3N6:function(){this.$1d4&&Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppEmailEngagementCardDisplayedInReadMode"))},get_OpenCount:function(){return $0.$1(this.$1GQ)?"0":this.$1GQ},set_OpenCount:function(n){return this.$1GQ!==n&&(this.$1GQ=n,this.$8("OpenCount")),n},get_ReplyCount:function(){return $0.$1(this.$1Hb)?"0":this.$1Hb},set_ReplyCount:function(n){return this.$1Hb!==n&&(this.$1Hb=n,this.$8("ReplyCount")),n},get_LastActivityDate:function(){return this.$12s},set_LastActivityDate:function(n){return this.$12s!==n&&(this.$12s=n,this.$8("LastActivityDate")),n},$Xa:null,get_ActivityId:function(){return this.$Xa},set_ActivityId:function(n){return this.$Xa=n,n},$Gs:!1,get_IsLoading:function(){return this.$Gs},set_IsLoading:function(n){return this.$Gs=n,n},$3XZ:function(){this.set_ShowSummary(!1);var n=!$0.$1(this.get_$7G().$2r.$5V)&&!$0.$1(this.get_$7G().$2r.$5V.$8T);n&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&this.get_$7G().$2Y("ActionProvider",this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEmailEngagementSummary",null))},$18:function(){this.get_$7G().get_$1Vq()&&(this.$1y||(this.get_$7G().$2r.AddPropertyChangedListener("EmailItem",this.$$d_$1vz),Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this)))},$GX:function(){this.get_$7G().$2r.RemovePropertyChangedListener("EmailItem",this.$$d_$1vz);Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$GX.call(this)},$1vz:function(){this.$3XZ()},viewAllActivitiesLinkClick:function(){var n=null,t;try{t={};t.RecordId=this.$Xa;t.RecordType="email";n=new Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(null,"OpenInBrowserCommand",t));n.execute()}finally{$0.$1(n)||n.dispose();Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppEmailEngagementViewAllActivitiesClick"))}}};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel=function(n,t){Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.initializeBase(this);this.$1M1=n;this.$GL=n===2?1:n;this.$Bv=t;n===2&&(this.$Q4=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(this.$$d_Close,1019))};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.$2kT=function(n,t,i){var r=new Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel(n,0);return r.$Fu=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Confirmation_Prompt_Title"),r.$Ie=Microsoft.Crm.Client.Core.Framework.Common.$2.$6(Microsoft.Crm.Client.Core.Framework.$3.$9(t)?"Button_Label_Yes":t),r.$Pz=Microsoft.Crm.Client.Core.Framework.Common.$2.$6(Microsoft.Crm.Client.Core.Framework.$3.$9(i)?"Button_Label_No":i),r};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.prototype={$Q4:null,$27r:null,$1M1:0,get_MailAppDialogType:function(){return this.$1M1},set_MailAppDialogType:function(n){return this.$1M1=n,n},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u=function(){this.$N3=-1;Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u.initializeBase(this,[Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u.$2YM,Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u.$3UT]);this.$15d()};Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u.PrepareItems=function(n){for(var i,r,u=new Array(0),t=0;t<n.length;t++)i=n[t],r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$Bq(i.$AD),!$0.$1(r)&&r.$W9&&u.push(i);return u};Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u.$2YM=function(n){var t=n.slice(0,n.length);return t.sort(function(n,t){var i=n,r=t;return i.$4r.localeCompare(r.$4r)}),Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u.PrepareItems(t)};Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u.$3UT=function(n){var t=n.slice(0,n.length);return t.sort(function(n,t){return t.$Hx-n.$Hx}),Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u.PrepareItems(t)};Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u.prototype={$1e0:10,$1Oe:!1,$1ZY:null,$1Za:null,get_RecentlyViewedListHeader:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Recently_Used_List_Header")},get_PinnedListHeader:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Pinned_Records_List_Header")},IsSetRegarding:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();if(!$0.$1(t.$2r.$5V)){var r=t.$2r.$5V.$GC,i=t.$2r.$5V.$Gu,u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$9X;if(!Microsoft.Crm.Client.Core.Framework.$3.$1O(i)&&u.$16&&n.get_ModelContext().get_ModelName()===i&&n.get_ModelContext().get_Id()===r)return!0}return!1},SetRegarding:function(n){var t=n.$PX;this.IsSetRegarding(t)||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$9X.changeMailItemState(1,t.get_ModelContext().get_ModelName(),t.get_ModelContext().get_Id(),n.get_Title()),this.$3NA(n.get_PinStatus(),t.get_ModelContext().get_ModelName()));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rI().execute()},onItemToggleClick:function(n){this.recordToggleTelemetryEvent(n.get_PinStatus());var t=n.$kD;!$0.$1(t)&&t.get_CanExecute()&&t.execute()},$36n:function(){var n=$0.$1(this.$1ZY)||$0.$1(this.$1Za),t=this.$2Id(this.$X4),i=this.$2Id(this.$QM);return n||(n=!this.$28G(this.$1ZY,i),n||(n=!this.$28G(this.$1Za,t))),this.$1Za=t,this.$1ZY=i,n},$2Id:function(n){var i={},t,r,u;if($0.$1(n))return i;for(t=0;t<n.get_Count();t++)r=Microsoft.Crm.Client.Core.Models.$30.$1TZ(n.get_$I(t).get_EntityTypeCode()),Microsoft.Crm.Client.Core.Framework.$3.$9(r)||Microsoft.Crm.Client.Core.Framework.$3.$9(n.get_$I(t).get_ObjectId())||(u=String.format("{0}#{1}",r,n.get_$I(t).get_ObjectId()),i[u]=!0);return i},$28G:function(n,t){var i,r,u;if(Microsoft.Crm.Client.Core.Framework.$1I.$m(n)!==Microsoft.Crm.Client.Core.Framework.$1I.$m(t))return!1;i=t;for(r in i)if(u={key:r,value:i[r]},!(u.key in n))return!1;return!0},OpenListItem:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenListItemInWebCommand"),i;t.InitializationParameters.TraceComponent=1011;t.InitializationParameters.SelectionState=this.$6a;t.InitializationParameters.ListItemViewModel=n;i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(n,t);i.get_CanExecute()&&i.execute()},$15d:function(){if(this.$N3!==-1&&window.clearTimeout(this.$N3),!this.$1Oe){var n=this;this.$N3=window.setTimeout(function(){Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){if(--n.$1e0,!n.$1Oe){if(!n.get_Visible()||n.$1e0>0&&!n.$36n()){n.$15d();return}n.$1HJ().always(function(){n.$1e0=10;n.$15d()})}},0,"MailAppRecentlyViewedItemUpdate")},1e3)}},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Eu.prototype.$GX.call(this);this.$1Oe=!0},$3NA:function(n,t){var i=n?"Pinned Record":"MRU Record",r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.MailApp.$P8(t,i);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(r)},recordToggleTelemetryEvent:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppRecordPinnedStatusChanged");t.addEventParameter("WasRecordPinned",!n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$5X=function(){};Microsoft.Crm.Client.Core.ViewModels.MailApp.$5X.$1rL=function(n){var o=n,u,s,i,f,e,h,r,t;for(u in o)if((s={key:u,value:o[u]},i=s.value,!Microsoft.Crm.Client.Core.ViewModels.$5B.isInstanceOfType(i))&&Microsoft.Crm.Client.Core.ViewModels.$2Z.isInstanceOfType(i)){f=i.$F;for(e in f)h={key:e,value:f[e]},r=h.value,Microsoft.Crm.Client.Core.ViewModels.$2r.isInstanceOfType(r)&&(t=r.get_Data(),t=$0.$1(t)?t:t.toString(),Microsoft.Crm.Client.Core.Framework.$3.$1O(t)&&r.set_Visible(!1))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$5X.$2RY=function(n,t){var r,u,f,e,o,i,s;if(Microsoft.Crm.Client.Core.Framework.$3.$9(n.$N.Name)&&(r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n.$N.LogicalName),r&&(n.$N.Name=n.fields[r.$5e])),!$0.$1(t)){u=t.$F;for(f in u)e={key:f,value:u[f]},Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(e.value)&&(o=e.value,i=o.$T,$0.$1(i)&&(i={}),"externalParameters"in i||(i.externalParameters={}),s=i.externalParameters,s.ParentReference=n.$N,o.set_Parameters(i))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel=function(n){this.$$d_$1GN=Function.createDelegate(this,this.$1GN);this.$$d_$3FK=Function.createDelegate(this,this.$3FK);this.$$d_$3FL=Function.createDelegate(this,this.$3FL);this.$$d_$1Yj=Function.createDelegate(this,this.$1Yj);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel.initializeBase(this,[n]);this.AddPropertyChangedListener("Data",this.$$d_$1GN)};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel.prototype={$5C:null,$1cu:!1,$1bS:!1,$193:null,get_TemplateIdForInserting:function(){return this.$193},set_TemplateIdForInserting:function(n){return this.$193=n,n},get_ErrorMessage:function(){return this.$5C},set_ErrorMessage:function(n){return this.$5C!==n&&(this.$5C=n,this.$8("ErrorMessage")),n},get_TemplateRegardingLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_EmailTemplates_Regarding_Combobox_Header")},get_RetryText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Retry")},get_ViewInCRMText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_OpenRecord")},get_AddToEmailText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Add_To_Email")},get_ShowEmailTemplateControls:function(){return this.$1cu},set_ShowEmailTemplateControls:function(n){return this.$1cu!==n&&(this.$1cu=n,this.$8("ShowEmailTemplateControls")),n},get_$sL:function(){return this.$F.TemplatesRegardingObjectComboBox},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$18.call(this),this.$1aR())},$1aR:function(){this.$2.add_$7l(this.$$d_$1Yj)},$1Yj:function(){this.get_$sL().AddPropertyChangedListener("IsLoading",this.$$d_$3FL);this.get_$sL().AddPropertyChangedListener("ItemsList",this.$$d_$3FK);this.$2Y8()},$3FK:function(){this.$2Y8()},$2Y8:function(){var n=!this.get_$sL().get_ItemsList().length,t;this.$1bS&&(n&&(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppNoTemplatesErrorAfterRetry"),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)),this.$1bS=!1);this.set_ErrorMessage(n?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_No_Templates_Regardings"):null)},$3FL:function(){this.set_ShowProgress(this.get_$sL().$2D)},retryButtonClick:function(){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppEmailTemplatesRetryClicked");Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(n);this.get_$sL().$3Li();this.$1bS=!0},StartItemInserting:function(n){this.$193=n},StopItemInserting:function(n){this.$193="";n.$8("IsSelected")},viewInCRMButtonClick:function(){var n=this.get_Data(),t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenInBrowserCommand","OpenInBrowserCommand",{RecordId:n.get_ModelContext().get_Id(),RecordType:n.get_ModelContext().get_ModelName()}));t.get_CanExecute()&&t.execute()},addToEmailButtonClick:function(){this.$2pU("MailAppInsertItemIntoEmailCommand")},get_$1mO:function(){return this.$F.TemplatesRegardingObjectComboBox},$2pU:function(n){var i=this.get_$1mO().get_$1bx(),t,r,u;$0.$1(i)||(t=this.get_Data(),$0.$1(t)||(r=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(n,n,{ListItemViewModel:t,RecordId:t.get_ModelContext().get_Id(),RecordType:t.get_ModelContext().get_ModelName(),EntityTypeCode:this.get_$1mO().$1Tc(i.$80),RegardingObjectId:i.$2b})),r.get_CanExecute()&&(u=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppAddEmailTemplateToEmail"),u.addEventParameter("regardingType",this.get_$1mO().$1Tc(i.$80)),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(u),r.execute())))},$1GN:function(){this.set_ShowEmailTemplateControls(!$0.$1(this.get_Data()))},$GX:function(){this.$2.remove_$7l(this.$$d_$1Yj);this.get_$sL().RemovePropertyChangedListener("IsLoading",this.$$d_$3FL);this.get_$sL().RemovePropertyChangedListener("ItemsList",this.$$d_$3FK);Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel.prototype={onClick:function(){}};Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel.prototype={onClick:function(){this.$3CQ()},$3CQ:function(){var n=null;switch(this.$G){case"BusinessPhoneLabel":n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppRecipientPhoneClick");n.addEventParameter("PhoneType","Business");break;case"MobilePhoneLabel":n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppRecipientPhoneClick");n.addEventParameter("PhoneType","Mobile");break;case"InternalEmailAddressLabel":n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppRecipientEmailClick")}Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(n)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel=function(){this.$$d_$3Dx=Function.createDelegate(this,this.$3Dx);this.$$d_$1ym=Function.createDelegate(this,this.$1ym);Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.$1po=function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r,n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Office.$DJ)),r=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode(),i;if(r||t.$qM||n.add(t.$cF),t.get_$Ct()===1?(n.addRange(t.$Xx),n.addRange(t.$Xr)):(n.addRange(t.$1Mx),n.addRange(t.$1Kw),n.addRange(t.$1Ks)),n=Microsoft.Crm.Client.Core.Framework.$5y.$2BF(Microsoft.Crm.Client.Core.Storage.Office.$DJ,n,function(n,t){return n.$9b.toLowerCase()===t.$9b.toLowerCase()}),!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&n.get_Count()===1)return n;for(i=0;i<n.get_Count();i++)t.$1M2.toLowerCase()===n.get_$I(i).$9b.toLowerCase()&&(n.removeAt(i),i--);return n};Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.prototype={get_ModelContext:function(){return $0.$1(this.get_SelectedTabItem())?null:$0.$1(this.get_SelectedTabItem().$Ny)?Microsoft.Crm.Client.Core.Models.$O.$B(Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel.$2mi(this.get_SelectedTabItem().$4g,this.get_SelectedTabItem().$kO)):Microsoft.Crm.Client.Core.Models.$O.$B(this.get_SelectedTabItem().$Ny)},$18d:!1,$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this),this.get_$7G().get_$RE().add_CollectionChanged(this.$$d_$1ym),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&this.get_$7G().$nq.add_PostNavigation(this.$$d_$3Dx))},$1ym:function(){this.$2QS()},$2QS:function(){for(var f,e,i,o,s=!1,h=this.$335(this.get_$7G().get_$RE().$22N()),c=this.get_SelectedTabItem(),l=Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.$1po(),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.MailApp.$Qm)),a=0,r={},n=0;n<l.get_Count();n++){var v=l.get_$I(n),y=v.$9b.toLowerCase(),u=y in h?h[y]:null;if($0.$1(u)?++a:(f=u.$N.LogicalName,e=r[f],r[f]=e?e+1:1),i=new Microsoft.Crm.Client.Core.Models.MailApp.$Qm(v,u),t.add(i),s)continue;else i.get_$lg()===this.get_$7G().$2r.$xY.SelectedRecipientEmailAddress?(this.set_SelectedIndex(n),s=!0):this.TabItemCanBeInitiallySelected(i)&&(!n||n>0&&!this.TabItemCanBeInitiallySelected(t.get_$I(n-1)))&&this.set_SelectedIndex(n)}this.get_SelectedIndex()===-1&&this.set_SelectedIndex(0);o=$0.$1(this.get_TabItems());this.set_TabItems(t.toArray());o&&(this.$3CZ(t.get_Count()),this.$3Ca(r,a),this.$3CX(this.$32d(this.get_$7G().get_$RE())));this.$3XJ(c);this.$3AH(o,c)&&(this.$18d=!1,this.$1wd())},$32d:function(n){for(var r,u,t={},i=0;i<n.get_Count();++i)r=n.get_$I(i).getValue("mailappemailaddress").toLowerCase(),u=t[r],t[r]=u?u+1:1;return t},$3CX:function(n){var u=n,t,f,i,r;for(t in u)(f={key:t,value:u[t]},i=f.value,i<=1)||(r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppMultirecordRecipient"),r.addEventParameter("RecordCount",i),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(r))},$3Ca:function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppRecipientCountByType");i.addEventParameter("UnknownRecipientCount",t);i.addEventParameter("ContactCount",n.contact);i.addEventParameter("LeadCount",n.lead);i.addEventParameter("CrmUserCount",n.systemuser);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i)},$3CZ:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppRecipientCount");t.addEventParameter("RecipientCount",n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)},$3XJ:function(n){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&this.$2Mo(n)&&this.get_$7G().$TU&&(this.$18d=!0)},$3AH:function(n,t){if(this.get_$7G().$yN===1){if(this.get_$7G().$9X.$2aD(),this.get_$7G().$12i)return!1;if(this.get_$7G().$TU&&this.get_$7G().$9X.$1Mj)return!0}return!this.get_$7G().$TU&&(n||this.$2Mo(t))},$2Mo:function(n){return $0.$1(n)?!$0.$1(this.get_SelectedTabItem()):$0.$1(this.get_SelectedTabItem())?!$0.$1(n):n.get_$lg()!==this.get_SelectedTabItem().get_$lg()},$335:function(n){for(var i={},e=n,l=e.length,f=0;f<l;++f){var o=e[f],r=o.getValue("mailappemailaddress").toLowerCase(),t=o;if(r in i){var u=i[r],s=this.get_$7G().$1HE.$2iV(u,t),h=this.$2Mj(u),c=this.$2Mj(t);!h&&c?i[r]=t:h===c&&(s===1?i[r]=t:s===2&&this.$1EB(u)&&this.$1EB(t)&&this.$3LU(u,t)===1&&(i[r]=t))}else i[r]=t}return i},$1EB:function(n){return n.$N.LogicalName==="contact"||n.$N.LogicalName==="lead"},$3LU:function(n,t){var f=n.$N.LogicalName,e=t.$N.LogicalName,i=n.getValue("ownerid").Id,r=t.getValue("ownerid").Id,u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K;return i.equals(r)?2:u.equals(i)?0:1},$3HH:function(){this.$1wd()},$1wd:function(){this.get_$7G().$TU&&this.get_$7G().$Gz.execute();$0.$1(this.get_SelectedTabItem())||this.$3Q1(this.get_SelectedTabItem().get_$lg());var t=$0.$1(this.get_ModelContext())?"unknownrecipient":this.get_ModelContext().get_$Gv(),i=t==="unknownrecipient"?57:34,n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(i));n.set_DefinitionId(t);n.set_ModelContext(this.get_ModelContext());n.set_PrimaryModelName(this.$J);n.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$If(this));n.$18();this.get_$7G().$2Ty(n)},$3Q1:function(n){($0.$1(this.get_$7G().$2r.$5V)||this.get_$7G().$2r.get_$Ct()!==1||this.get_$7G().$2r.$5V.$NJ!==1)&&(this.get_$7G().$2r.$xY.SelectedRecipientEmailAddress=n,this.get_$7G().$2Y("ActionProvider",this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateSelectedEmail",n)))},TabItemCanBeInitiallySelected:function(n){var t=n.$Ny;return!$0.$1(t)&&t.$N.LogicalName!=="systemuser"||$0.$1(t)?!0:!1},$2Mj:function(n){switch(n.$N.LogicalName){case"systemuser":return n.getValue("isdisabled").$1i?!1:!0;case"contact":return n.getValue("statecode").$1i===1?!1:!0;case"lead":return n.getValue("statecode").$1i===1?!0:!1;default:return!0}},$GX:function(){this.get_$7G().get_$RE().remove_CollectionChanged(this.$$d_$1ym);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&this.get_$7G().$nq.remove_PostNavigation(this.$$d_$3Dx);Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$GX.call(this)},$3Dx:function(){this.$3Ms()},$3Ms:function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&this.$18d&&!this.get_$7G().$TU&&(this.$1wd(),this.$18d=!1)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel.initializeBase(this);this.$7f=n;this.$2K=t;this.$2Rd=Mscrm.InternalUtilities._Script.isNullOrUndefined(i)?!1:i;this.$1hn=Mscrm.InternalUtilities._Script.isNullOrUndefined(r)?!0:r};Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel.prototype={$7f:null,$2K:0,$2Rd:!1,$1hn:!0,get_Type:function(){return this.$2K},set_Type:function(n){return this.$2K!==n&&(this.$2K=n,this.$8("Type")),n},get_Active:function(){return this.$1hn},get_Text:function(){return this.$7f},set_Text:function(n){return this.$7f!==n&&(this.$7f=n,this.$8("Text")),n},toString:function(){return this.$7f}};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel=function(){this.$Lm=new Microsoft.Crm.Client.Core.Framework.$9F;Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel.prototype={get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$1z:!1,get_Visible:function(){return this.$1z},set_Visible:function(n){return!this.$1z===n&&(this.$1z=n,this.get_$7G().$8("ComposeActionsVisibilityChanged")),n},get_ActiveNavigationStack:function(){return this.$Lm},$HN:function(n,t){for(var i,f,r,u=0;u<this.$Lm.get_Count();u++)if(i=this.$Lm.getItem(u),Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.isInstanceOfType(i)){if(f=i,f.get_ComponentType()===n)return f}else if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(i)&&(r=i,r.$o===n))if(Microsoft.Crm.Client.Core.Framework.$3.$9(t)||r.$1t!==t){if(Microsoft.Crm.Client.Core.Framework.$3.$9(t))return r}else return r;return null},$Tj:function(n,t){var i=this.$HN(n,t);$0.$1(i)?(i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(n)),!Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(i)&&i.set_DefinitionId(t),i.$18()):this.$Lm.$DR(i);this.$vP(i)},$vP:function(n){this.$Lm.$2i(n);this.$8(Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel.$2ZX)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel=function(n){Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel.$7N=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(59));return t.set_DefinitionId(n.$80),t.$6n=n,t.$18(),t};Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel.prototype={$22a:!1,$6n:null,get_UnableToLoadItem:function(){return this.$22a},set_UnableToLoadItem:function(n){return this.$22a=n,this.$8("UnableToLoadItem"),n},get_Title:function(){var n=this.$6n.$80,t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return t&&(n=t.$1S),Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_RegardingObject_Card_Title"),n)},get_RegardingObjectDisplayName:function(){return this.$6n.$1d},get_RegardingObjectType:function(){return this.$6n.$80},$ge:function(){var t=new Xrm.Objects.EntityReference(this.$6n.$80,new Microsoft.Crm.Client.Core.Framework.Guid(this.$6n.$2b)),i=Microsoft.Crm.Client.Core.Framework.$G.$b(this.$G,this.$G),n=this,r=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(t,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$54),Microsoft.Crm.Client.Core.ViewModels.$u.get_$1XX(),i).then(function(t){n.set_ModelContext(Microsoft.Crm.Client.Core.Models.$O.$B(t));var i=n.$7X("TopMenu");i&&Microsoft.Crm.Client.Core.ViewModels.$5B.isInstanceOfType(i)&&Microsoft.Crm.Client.Core.ViewModels.MailApp.$5X.$2RY(t,i)},function(){r.set_UnableToLoadItem(!0)})},$1GJ:function(n){this.set_UnableToLoadItem(!0);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1GJ.call(this,n)},openRegardedEntity:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$9X.openRegardedEntity()},updateFieldsVisibility:function(){$0.$1(this.$F)||Microsoft.Crm.Client.Core.ViewModels.MailApp.$5X.$1rL(this.$F)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$U6=function(){this.$VC=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4));Microsoft.Crm.Client.Core.ViewModels.MailApp.$U6.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.$U6.prototype={get_Collection:function(){return this.$VC.toArray()},$1Nm:function(n){if(!$0.$1(this.$ZD(n.$12)))throw Error.argument("Duplicate Id");this.$VC.add(n);this.$8("StatusCollectionChanged")},$2i:function(n){this.$79();this.$VC.add(n);this.$8("StatusCollectionChanged")},$ZD:function(n){for(var t=0;t<this.$VC.get_Count();t++)if(this.$VC.get_Items()[t].$12===n)return this.$VC.get_Items()[t];return null},$79:function(){this.$VC.clear()}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4.initializeBase(this);this.$6j=t;this.set_$1a(n);this.$16=$0.$1(i)?0:i};Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4.prototype={$6j:null,$16:0,get_State:function(){return this.$16},set_State:function(n){return this.$16!==n&&(this.$16=n,this.$8("State")),n},get_Message:function(){return this.$6j},set_Message:function(n){return this.$6j!==n&&(this.$6j=n,this.$8("Message")),n}};Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel=function(n){this.$$d_$3Ee=Function.createDelegate(this,this.$3Ee);this.$$d_$3EU=Function.createDelegate(this,this.$3EU);Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel.$2mi=function(n,t){var i=$0.$1(t)?"":t.$9b,r=i===n?"":n,u=$0.$1(t)?0:t.$18e;return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(new Xrm.Objects.EntityReference("unknownrecipient",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),{DisplayName:r,EmailAddress:i,RecipientType:u},{DisplayName:14,EmailAddress:14,RecipientType:14},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)))};Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel.prototype={$1cs:!1,get_$2o9:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Distribution_List")},get_$3IE:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.get_$Ct()===1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Other_Unknown_Attendee"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Other_Unknown_Recipient")},get_CreateContactRecommendationMessage:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Track_Create_Contact_Recommendation")},get_ShowCreateContactRecommendation:function(){return this.$1cs},set_ShowCreateContactRecommendation:function(n){return this.$1cs!==n&&(this.$1cs=n,this.$8("ShowContactCreateRecommendation")),n},get_TrackBarViewModel:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$9X},get_AddToCrmButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Add_To_CRM")},get_DisplayNameTooltip:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Full_Name_Tooltip")},get_$3WJ:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.get_$Ct()===1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Unknown_Attendee"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Unknown_Recipient")},$5C:null,$1WW:!1,$2D:!1,$1d1:!1,get_ErrorMessage:function(){return this.$5C},set_ErrorMessage:function(n){return this.$5C=n,n},$Rw:null,get_FlyOutViewModel:function(){return this.$Rw},set_FlyOutViewModel:function(n){return this.$Rw=n,n},get_IsSummarySectionVisible:function(){return this.$1WW},set_IsSummarySectionVisible:function(n){return this.$1WW=n,n},get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return this.$2D=n,n},get_ShowRetryButton:function(){return this.$1d1},set_ShowRetryButton:function(n){return this.$1d1=n,n},get_RetryText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Retry")},get_NoRecipientsMessage:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.get_$Ct()===1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_No_Attendees"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_No_Recipients")},get_EmailAddress:function(){return this.get_ModelContext().GetValue("EmailAddress")},get_DisplayName:function(){return this.get_ModelContext().GetValue("DisplayName")},get_IsNameShouldBeDisplayed:function(){var n=this.get_ModelContext().GetValue("RecipientType");return n!==1},retryButtonClick:function(){Microsoft.Crm.Client.Core.ViewModels.$3B.get_$5().$15D(!0);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("RetryButton_Clicked"))},$18:function(){this.$1y||(this.$Aa?this.$2D=!0:$0.$1(this.get_ModelContext())?(this.$5C=this.get_NoRecipientsMessage(),this.$1d1=!0):(this.$1WW=!0,this.$37d(),this.$Rw.AddPropertyChangedListener("FlyOutExpanded",this.$$d_$3EU),this.$27A(),this.get_TrackBarViewModel().AddPropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$1dP,this.$$d_$3Ee)),Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$18.call(this))},$27A:function(){var n=this.get_TrackBarViewModel().get_$2g().$cF.$9b;this.set_ShowCreateContactRecommendation(!$0.$1(this.get_TrackBarViewModel().get_$2g().$5V)&&this.get_EmailAddress()===n&&!this.get_TrackBarViewModel().$16)},$3Ee:function(){this.get_TrackBarViewModel().$16===2||this.get_TrackBarViewModel().$16===1?this.set_ShowCreateContactRecommendation(!1):this.$27A()},$3EU:function(n){n.$Vm&&Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppAddRecipientToCRMClick"))},$37d:function(){this.$Rw=new Microsoft.Crm.Client.Core.ViewModels.$5B;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84("contact",0)&&this.$Rw.$8V("createContact",this.$2Dk("contact"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84("lead",0)&&this.$Rw.$8V("createLead",this.$2Dk("lead"));this.$Rw.set_Visible(this.$Rw.$UX>0);this.$Rw.set_Enabled(this.$Rw.$UX>0)},$2Dk:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel,u,t,r;return i.set_PrimaryModelName(n),i.set_DefinitionId(i.$J),i.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$If(null,{})),u=new Microsoft.Crm.Client.Core.Commands.$33(i,36),t=new Microsoft.Crm.Client.Core.ViewModels.$2A,t.set_Visible(!0),t.set_Enabled(!0),t.set_ActionCommand(u),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n),t.set_Label(r?r.$1S:n),t.set_$1a(n),t},get_HeaderText:function(){var n=this.get_ModelContext().GetValue("RecipientType");switch(n){case 1:return this.get_$2o9();case 0:return this.get_$3IE()}return this.get_$3WJ()},$GX:function(){this.$Rw.RemovePropertyChangedListener("FlyOutExpanded",this.$$d_$3EU);this.get_TrackBarViewModel().RemovePropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$1dP,this.$$d_$3Ee);Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$F3=function(){this.$$d_$2Pq=Function.createDelegate(this,this.$2Pq);Microsoft.Crm.Client.Core.ViewModels.MailApp.$F3.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.$F3.prototype={$1WT:!1,$Ds:!1,$1tR:!1,$MI:null,$pF:!1,get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},get_$2g:function(){return this.get_$7G().$2r},get_EntityReferenceField:function(){return this.$MI},set_EntityReferenceField:function(n){return this.$MI!==n&&(this.$MI=n,this.$22p()),n},get_ShowLabel:function(){return this.$pF},set_ShowLabel:function(n){return this.$pF!==n&&(this.$pF=n,this.$8("ShowLabel")),n},get_Label:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MenuItem_Label_SetRegarding")},get_$39i:function(){return this.get_$7G().$9X.$2D},get_$3Ag:function(){return this.get_$7G().$9X.$fj},get_$38y:function(){return this.get_$7G().$9X.$1Eb},get_IsSetRegarding:function(){return this.$1WT},set_IsSetRegarding:function(n){return this.$1WT!==n&&(this.$1WT=n,this.$8("IsSetRegarding")),n},get_IsActive:function(){return this.$Ds},set_IsActive:function(n){return this.$Ds=n,this.$8("IsActive"),n},get_IsVisible:function(){return this.$1tR},set_IsVisible:function(n){return this.$1tR=n,this.$8("IsVisible"),n},$2Jw:function(){var t,u;if($0.$1(this.get_ModelContext()))return null;if(!$0.$1(this.$MI))return t=this.get_ModelContext().GetValue(this.$MI),this.$2OH(t);if(Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.get_ModelContext())){var i=this.get_ModelContext().$M,r=i.$N,n=this.$2OH(r);return Microsoft.Crm.Client.Core.Framework.$3.$1O(n.$1d)&&(u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(r.LogicalName),n.$1d=i.getValue(u.$5e)),n}return null},$18:function(){this.$1y||(this.get_$7G().$2r.AddPropertyChangedListener("EmailItem",this.$$d_$2Pq),this.get_$7G().$9X.AddPropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$nO,this.$$d_$2Pq),Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this))},$2Pq:function(){this.$22p()},$LP:function(){this.$22p()},$2OH:function(n){return $0.$1(n)?null:new Microsoft.Crm.Client.Core.Models.MailApp.$9J(n.Id.toString(),n.TypeName,n.Name)},$22p:function(){var n=this.$2Jw();if(!this.get_$3Ag()||!this.get_$38y()||$0.$1(n)){this.set_IsVisible(!1);return}this.set_IsVisible(!0);this.$Ds=!this.get_$39i();$0.$1(this.get_$2g().$5V)||this.set_IsSetRegarding(this.get_$2g().$5V.$GC===n.$2b&&this.get_$2g().$5V.$Gu===n.$80&&!!this.get_$7G().$9X.$16)},onClick:function(){var n={regardingObject:this.$2Jw()},t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("SetRegardingButtonCommand","SetRegardingButtonCommand",n),i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,t);i.execute()},$GX:function(){this.get_$7G().$2r.RemovePropertyChangedListener("EmailItem",this.$$d_$2Pq);this.get_$7G().$9X.RemovePropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$nO,this.$$d_$2Pq);Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel=function(){this.$$d_$3H0=Function.createDelegate(this,this.$3H0);this.$$d_$3HM=Function.createDelegate(this,this.$3HM);this.$$d_$1ym=Function.createDelegate(this,this.$1ym);this.$$d_$2Pq=Function.createDelegate(this,this.$2Pq);this.$$d_$1Yj=Function.createDelegate(this,this.$1Yj);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.prototype={$2D:!0,get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return this.$2D!==n&&(this.$2D=n,this.$8("IsLoading")),n},get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},get_$2g:function(){return this.get_$7G().$2r},get_$1Qw:function(){return this.$2.$7X("FilteredEmailTemplatesList")},get_$PN:function(){return this.get_$7G().$9X},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$1aR(),this.$2Nv(),this.$2Vq(),this.$1mB())},$2Nv:function(){this.$2ST(!0,this.$30w());this.$2ST.apply(this,[!1].concat(this.$33o()))},$1aR:function(){this.$2.add_$7l(this.$$d_$1Yj);this.get_$2g().AddPropertyChangedListener("EmailItem",this.$$d_$2Pq);this.get_$7G().get_$RE().add_CollectionChanged(this.$$d_$1ym);this.get_$PN().AddPropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$nO,this.$$d_$3HM);this.AddPropertyChangedListener("SelectedItem",this.$$d_$3H0)},$2Pq:function(){this.$2TJ()},$1ym:function(){this.$2TJ()},$3HM:function(){(this.set_IsLoading(this.get_$PN().$2D),this.get_$PN().$2D!==this.$k4)&&(this.$1mB(),this.$2Do())},$2TJ:function(){var n=this.$51,i,t;this.set_ItemsList(new Array(0));this.$2Nv();i=this;t=this.$FF(function(t){return t.$6n.$2b===n});(Microsoft.Crm.Client.Core.Framework.$3.$9(n)||$0.$1(t))&&this.$2Vq();this.$1mB();this.$2Do()},$2Vq:function(){var i,t,n;if(!this.get_ItemsList().length){this.set_SelectedItem("");return}if(i=this,t=this.$FF(function(n){return n.$1Lk}),t){this.set_SelectedItem(t.$1i);return}if(n=this.$2JU("contact","lead"),n.get_Count()>0){this.set_SelectedItem(n.get_$I(0).$1i);return}n=this.$2JU("systemuser");n.get_Count()>0&&this.set_SelectedItem(n.get_$I(0).$1i)},$2JU:function(){for(var f,t,i,r,u=[],n=0;n<arguments.length;++n)u[n]=arguments[n];for(f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$2BR)),t=0;t<this.get_ItemsList().length;t++)for(i=0;i<u.length;i++)if((r=this.get_ItemsList()[t],!r.$1Lk)&&r.$6n.$80===u[i]){f.add(r);break}return f},$1mB:function(){if(this.get_$PN().$2D){this.$k4=!0;return}this.$k4=this.get_ItemsList().length<2},$2ST:function(n){for(var i,r,f,u=[],t=1;t<arguments.length;++t)u[t-1]=arguments[t];for(i=0;i<u.length;i++)(r=u[i],r)&&(f=this,this.$FF(function(n){return n.$6n.$2b===r.$2b})||this.get_ItemsList().push(new Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$2BR(r,n)))},$30w:function(){var n=this.get_$PN().$6n;return!$0.$1(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$1d)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$80)?n:null},$33o:function(){for(var n,i=new Array(0),r=this.get_$7G().$UA.get_TabItems(),t=0;t<r.length;t++)n=r[t],n.get_$Zf()&&n.$kO.$1gz!==3&&i.push(Microsoft.Crm.Client.Core.Models.MailApp.$9J.$1nv(n.$Ny));return i},$3H0:function(){var n=this.get_$1bx();this.get_$1Qw()&&n&&this.get_$1Qw().set_$10X(this.$1Tc(n.$80))},$1Tc:function(n){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n).$7u},get_$1bx:function(){if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$51))return null;var n=this;return this.$FF(function(t){return t.$6n.$2b===n.$51}).$6n},$1Yj:function(){this.$2.remove_$7l(this.$$d_$1Yj);this.get_$1Qw()&&this.get_$1bx()&&this.get_$1Qw().set_$10X(this.$1Tc(this.get_$1bx().$80))},$FF:function(n){for(var i,t=0;t<this.get_ItemsList().length;t++)if(i=this.get_ItemsList()[t],n(i))return i;return null},$GX:function(){this.$2.remove_$7l(this.$$d_$1Yj);this.get_$2g().RemovePropertyChangedListener("EmailItem",this.$$d_$2Pq);this.get_$7G().get_$RE().remove_CollectionChanged(this.$$d_$1ym);this.get_$PN().RemovePropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$nO,this.$$d_$3HM);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)},$2Do:function(){this.set_ItemsList(this.get_ItemsList())},$3Li:function(){Microsoft.Crm.Client.Core.ViewModels.$3B.get_$5().$15D(!0)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$2BR=function(n,t){Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$2BR.initializeBase(this,[n.$2b,Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Email_Templates_Regarding_Combobox_Label"),Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$2BR.$312(n.$80),n.$1d)]);this.$6n=n;this.$1Lk=t};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$2BR.$312=function(n){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n).$1S};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$2BR.prototype={$6n:null,$1Lk:!1};Microsoft.Crm.Client.Core.ViewModels.MailApp.$9H=function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.$9H.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.$9H.$7N=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M("PopOutLinkLabelViewModel"),i;return(t.set_ModelContext(n),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n.get_$Hb()),i)?(t.set_Data(n.GetValue(i.$5e)),t.$18(),t):null};Microsoft.Crm.Client.Core.ViewModels.MailApp.$9H.prototype={$MI:null,$1d3:!1,get_EntityReferenceField:function(){return this.$MI},set_EntityReferenceField:function(n){return this.$MI!==n&&(this.$MI=n,this.$8("EntityReferenceField")),n},get_ShowSetRegardingButton:function(){return this.$1d3},set_ShowSetRegardingButton:function(n){return this.$1d3!==n&&(this.$1d3=n,this.$8("ShowSetRegardingButton")),n},createSetRegardingButtonViewModel:function(){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$MI)||!$0.$1(this.get_ModelContext())){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M("SetRegardingButtonViewModel");return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$MI)||n.set_EntityReferenceField(this.$MI),$0.$1(this.get_ModelContext())||n.set_ModelContext(this.get_ModelContext()),n.$18(),n}return null},popOutLinkLabelClick:function(n){var t=null,i;try{Microsoft.Crm.Client.Core.Framework.$3.$9(this.$MI)?t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(n,n,{TargetViewModel:this})):(i=this.get_ModelContext().GetValue(this.$MI),t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(n,n,{RecordId:i.Id.toString(),RecordType:i.TypeName})));t.execute()}finally{$0.$1(t)||t.dispose()}}};Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel=function(n){this.$$d_$3GD=Function.createDelegate(this,this.$3GD);Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel.initializeBase(this,[n]);this.$14S=0};Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel.prototype={$14S:0,$2dA:function(){var i=this.$BH,t,n;for(t in i)n={key:t,value:i[t]},(Object.getType(n.value)===Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel||Object.getType(n.value)===Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel)&&(this.$14S+=2,n.value.AddPropertyChangedListener("RecordCount",this.$$d_$3GD))},$3GD:function(n){var t=n;t.set_Visible(!!t.$1R.get_Count());this.$14S--;this.$14S<=0&&this.$36z()},$36z:function(){var n=this.$7X("loading");$0.$1(n)||n.set_Visible(!1);this.$14S=0},$ge:function(n){var i,t,u,r;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$ge.call(this,n);this.$2dA();i=this.$7X("TopMenu");t=this.get_ModelContext().$M;i&&Microsoft.Crm.Client.Core.ViewModels.$5B.isInstanceOfType(i)&&Microsoft.Crm.Client.Core.ViewModels.MailApp.$5X.$2RY(t,i);(t.$N.LogicalName==="contact"||t.$N.LogicalName==="lead")&&(u=t.$N.LogicalName==="contact"?"parentcustomerid":"parentaccountid",$0.$1(t.getValue(u))&&(r=this.$7X("CompanyPane"),!$0.$1(r)&&Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(r)&&r.set_Visible(!1)))},$2Zn:function(n,t){var u,r,i;if(!$0.$1(t))for(u=t.$1R,r=0;r<u.get_Count();r++)if(i=u.getItem(r),!$0.$1(i)&&!$0.$1(i.get_ModelContext())&&i.get_ModelContext().get_Id().toLowerCase()===n.toLowerCase())return i;return null},getActivityParentListTitle:function(n){var i=this.$7X("UpcomingActivities"),u=this.$2Zn(n,i),t,r;if($0.$1(u)){if(t=this.$7X("PastActivities"),r=this.$2Zn(n,t),!$0.$1(r))return t.get_Title()}else return i.get_Title();return null}};Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel=function(n){this.$$d_$3GK=Function.createDelegate(this,this.$3GK);this.$$d_$3Gh=Function.createDelegate(this,this.$3Gh);this.$$d_$3Ed=Function.createDelegate(this,this.$3Ed);Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel.initializeBase(this,[n]);this.set_ShowIcon(!1);var t=this;this.set_RequestCloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(this.$$d_$3Ed,1013,this,"IsCloseButtonEnabled",function(){return t.get_$1Ed()}));this.add_$2Sr(this.$$d_$3Gh)};Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel.prototype={$lG:null,$1FQ:null,$1sc:!1,$3Ed:function(){this.$2OB("Cancel");this.$VB()},set_$2mz:function(n){return $0.$1(this.$lG)||this.$lG.remove_$1w6(this.$$d_$3GK),this.$lG=n,n},get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$1vU:function(n){this.$2KH(n,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Duplicate_Detection_Dialog_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Duplicate_Detection_Dialog_Body"))},$3Gh:function(n){Xrm.XrmUtilityWrapper.$kI(n,null)},$LP:function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.prototype.$LP.call(this);this.$3Jy();this.$1sc||$0.$1(this.get_ModelContext())||(this.$3CO(),this.$1sc=!0)},$3CO:function(){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppAddRecipientToCRMMenuClick");n.addEventParameter("Item",this.get_ModelContext().get_$Hb());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(n)},$2OB:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppRecipientCreateFormAction");t.addEventParameter("Action",n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)},$28m:function(){this.$2OB(this.$12m?"SaveAndViewInCRM":"Save");Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.prototype.$28m.call(this)},$3Jy:function(){var n=this.get_$7G().$UA.get_SelectedTabItem().$kO;$0.$1(this.get_ModelContext())||(this.$3Jx(n),this.$3Jw(n))},$3Jx:function(n){this.get_ModelContext().$M&&"emailaddress1"in this.get_ModelContext().$M.$1Z&&this.get_ModelContext().SetValue("emailaddress1",n.$9b)},$3Jw:function(n){var i=n.$4g,r=null,t=null,s=i.indexOf("@")!==-1?!0:!1,u,f,o,e;Microsoft.Crm.Client.Core.Framework.$3.$9(i)||s?(o=n.$9b,e=o.substring(0,o.indexOf("@")).split("."),e.length===2&&(r=Microsoft.Crm.Client.Core.Framework.$4d.$271(e[0]),t=Microsoft.Crm.Client.Core.Framework.$4d.$271(e[1]))):(u=i.split(","),u.length>1?u.length===2?(t=u[0],r=u[1]):t=i:(f=i.split(" "),t=f[f.length-1],r=f.length>1?f.slice(0,-1).join(" "):null));this.get_ModelContext().SetValue("lastname",t?t.trim():null);this.get_ModelContext().SetValue("firstname",r?r.trim():null)},$1vW:function(n,t){var u={EntityTypeName:t.get_$Eb()},r=new Microsoft.Crm.Client.Core.Framework.$5o("SenderFormCreate",u),i;Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$iO(r);Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(r.rid);Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.prototype.$1vW.call(this,n,t);this.$3JF(n);i=new Microsoft.Crm.Client.Core.Commands.$33(this,34);i.execute();i.dispose()},$3JF:function(n){var r=n.GetValue("parentcustomerid!Id"),t,i;$0.$1(r)||(t=r.toString(),this.$2gn(t)&&this.$3TC(n.get_Id(),t));i=this.$3DP(n);this.get_$7G().get_$RE().$2i(i);this.$3TN(i)},$3TN:function(n){var i=this.get_$7G().$2r.$cF.$9b,t=this.get_$7G().$UA.get_SelectedTabItem();i!==t.get_$lg()||this.get_$7G().$9X.$16||this.get_$7G().$9X.changeMailItemState(1,n.$N.TypeName,n.$N.get_identifier(),t.$4g)},$3DP:function(n){for(var t,f=new Xrm.Objects.EntityReference(n.get_$Gv(),new Microsoft.Crm.Client.Core.Framework.Guid(n.get_Id())),i={},r={},u=0;u<n.get_$Vh().length;u++)t=n.get_$Vh()[u],i[t]=n.GetValue(t),r[t]=14;return Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$7u.$24s(i,r,this.get_$7G().$UA.get_SelectedTabItem().$kO.$9b),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(f,i,r,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)))},$2gn:function(n){return!$0.$1(this.$1FQ)&&n===this.$1FQ.get_Id()&&$0.$1(this.$1FQ.GetValue("primarycontactid"))},$3TC:function(n,t){var f=new Xrm.Objects.EntityReference("contact",new Microsoft.Crm.Client.Core.Framework.Guid(n)),e=new Xrm.Objects.EntityReference("account",new Microsoft.Crm.Client.Core.Framework.Guid(t)),o={primarycontactid:f},i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(e,o,{primarycontactid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),u,r;i.$4P.add("primarycontactid");i.set_clientRetrieveOptions(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(2,1));u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateRecordForQuickEditForm",{});r=new Microsoft.Crm.Client.Core.ViewModels.$VK;r.set_ModelContext(Microsoft.Crm.Client.Core.Models.$O.$B(i));this.get_$7G().$2Y("ActionProvider",r,u)},$GX:function(){$0.$1(this.$lG)||this.$lG.remove_$1w6(this.$$d_$3GK);Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.$GX.call(this)},$ay:function(n){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$ay.call(this,n);this.set_$2mz(this.$2DQ(n));$0.$1(this.$lG)||this.$lG.add_$1w6(this.$$d_$3GK)},$2DQ:function(n){var t,i,r,u;if(!$0.$1(n)){if("parentcustomerid_edit"in n)return n.parentcustomerid_edit;t=n;for(i in t)if(r={key:i,value:t[i]},Microsoft.Crm.Client.Core.ViewModels.$2Z.isInstanceOfType(r.value)&&(u=this.$2DQ(r.value.$F),!$0.$1(u)))return u}return null},$3GK:function(n){$0.$1(n)||(this.$1FQ=n)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel=function(n){Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.initializeBase(this,[n]);this.set_IsSaveAndEditButtonHidden(!0);this.set_IsViewInCRMHidden(!0);this.set_IsSaveAndCloseButtonHidden(!0);this.set_IsCloseButtonHidden(!0)};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ=function(n,t,i){!$0.$1(n.$M)&&t in n.$M.$1Z&&!$0.$1(i)&&n.SetValue(t,i)};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.prototype={$12m:!1,$1tP:!1,get_IsViewInCRMChecked:function(){return this.$12m},set_IsViewInCRMChecked:function(n){return this.$12m=n,this.$8("IsViewInCRMChecked"),n},get_IsViewInCRMHidden:function(){return this.$1tP},set_IsViewInCRMHidden:function(n){return this.$1tP=n,this.$8("IsViewInCRMHidden"),n},$LP:function(){Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$LP.call(this);this.$3Jy()},$1vW:function(n,t){Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.$1vW.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$9X.showNotification(this.$3Ez(n),0)},$1vU:function(n){this.$2KH(n,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Search_Page_Duplicate_Detection_Dialog_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Search_Page_Duplicate_Detection_Dialog_Body"))},$3Ez:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n.get_ModelName());return Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Notification_Record_Created"),t.$1S)},$2KH:function(n,t,i){this.set_IsSaving(!1);switch(n.$z){case-2147220685:var r=this,u=this;Microsoft.Crm.Client.Core.ViewModels.$1V.$169(t,i,1,function(){r.$RS=!0;r.$EL()},function(){},Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Duplicate_Detection_Dialog_Save_Button"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Duplicate_Detection_Dialog_Cancel_Button"));break;default:this.$R0(n)}},$1UA:function(n,t){var i,r,u;$0.$1(t)||(this.$F8===3&&(this.$F8=1,i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenInBrowserCommand","OpenInBrowserCommand",{TargetViewModel:this})),i.execute(),i.dispose()),r={Action:"SetRegardingNewRecordAction"},r.RegardingObjectType=t.get_$Eb(),u=new Microsoft.Crm.Client.Core.Framework.$5o("MailAppAction",r),Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$iO(u),Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(u.rid));Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.$1UA.call(this,n,t)},$28m:function(){this.$F8=this.$12m?3:1;this.$3N9();this.$EL()},$VB:function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppQuickCreateClosed"));Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.$VB.call(this)},$3Jy:function(){var n=this.get_ModelContext(),t=this.$31i(),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),f,r,u;if(!$0.$1(n)&&!n.$3w&&(f=n.get_$1a()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString(),f)){r=null;u=null;$0.$1(t)||(r=t.getValue("parentcustomerid"),u=new Xrm.Objects.EntityReference(t.$N.LogicalName,t.$N.Id,t.getValue("fullname").toString()));switch(n.get_$Hb()){case"account":$0.$1(t)||Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"primarycontactid",u);return;case"opportunity":$0.$1(t)||(Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"parentcontactid",u),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"parentaccountid",r));Microsoft.Crm.Client.Core.Framework.$3.$9(i.$2r.$Jk.$Dh)||Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"name",i.$2r.$Jk.$Dh);break;case"incident":$0.$1(t)||(Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"primarycontactid",u),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"customerid",r));Microsoft.Crm.Client.Core.Framework.$3.$9(i.$2r.$Jk.$Dh)||Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"title",i.$2r.$Jk.$Dh);break;case"lead":$0.$1(t)||(Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"firstname",t.getValue("firstname")),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"lastname",t.getValue("lastname")),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"mobilephone",t.getValue("mobilephone")),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"emailaddress1",t.getValue("emailaddress1")),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"companyname",$0.$1(r)?"":r.Name))}Xrm.Utility.isActivityType(n.get_$Hb())&&(Microsoft.Crm.Client.Core.Framework.$3.$9(i.$2r.$Jk.$Dh)||Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"subject",i.$2r.$Jk.$Dh),Microsoft.Crm.Client.Core.Framework.$3.$9(i.$2r.$Jk.$jx)||Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$PJ(n,"description",i.$2r.$Jk.$jx.trim()))}},$31i:function(){for(var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$UA.get_TabItems(),n=null,t=0,r;$0.$1(n)&&t<i.length;)r=i[t].$Ny,$0.$1(r)||r.$N.LogicalName==="contact"&&(n=i[t]),t++;return $0.$1(n)?null:n.$Ny},$3N9:function(){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppQuickCreateSaveClicked");n.addEventParameter("IsViewInCrmChecked",this.$12m);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(n)},$ge:function(n){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$ge.call(this,n);this.set_IsViewInCRMHidden(!1);this.set_IsSaveAndCloseButtonHidden(!1);this.set_IsCloseButtonHidden(!1)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction=function(n){this.$$d_$22l=Function.createDelegate(this,this.$22l);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.initializeBase(this);this.$1fe=n};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("UpdateEmailCustomProperties",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.$B=function(n,t){var i=t,r="QueryValue"in i?i.QueryValue:null;if(!Object.isInstanceOfType(r))throw Error.argument("'CustomProperties' must be passed within 'QueryValue'.");return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction(r)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.prototype={$1fe:null,$31:function(){return this.$JF(this.$$d_$22l,this.get_$LB()),1},$22l:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20){var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$3Wu(this.$1fe,function(t,i){$0.$1(i)?n.$1Y():n.$21(Microsoft.Crm.Client.Core.Framework.$4.$3bY(null,i.message,i.code))})}else this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction=function(){this.$$d_$3J6=Function.createDelegate(this,this.$3J6);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("SetTrackingInfoAction",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction;return Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$1Ip(i,t),i};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$1Ip=function(n,t){var r=t,i=r.QueryValue;n.$7q=i.OnSuccess;n.$1LO=i.FollowModel;n.$8T=i.CrmId};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.prototype={$7q:null,$1LO:null,$8T:null,$31:function(){return this.$JF(this.$$d_$3J6,this.get_$LB()),1},$3J6:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20){var n=this;Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().$20v(this.$1LO.$xZ,this.$1LO.$xX,this.$8T).then(function(){n.$7q(!0);n.$1Y()},this.$$d_$21)}else this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction=function(){this.$$d_$3OW=Function.createDelegate(this,this.$3OW);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEmailLinksAction",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction;return Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$1Ip(i,t),i};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$1Ip=function(n,t){var r=t,i=r.QueryValue;n.$7q=i.OnSuccess;n.$8T=i.CrmId};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.prototype={$7q:null,$8T:null,$31:function(){return this.$JF(this.$$d_$3OW,this.get_$LB()),1},$3OW:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20){var n=this;Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().$2Hv(this.$8T).then(function(t){($0.$1(t)||$0.$1(t.$1Ly))&&n.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'links' must not be null or undefined."));n.$1Y(t.$1Ly)},this.$$d_$21)}else this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))},$1Y:function(n){$0.$1(this.$7q)||this.$7q(n);Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$1Y.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction=function(){this.$$d_$2UN=Function.createDelegate(this,this.$2UN);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEmailEntities",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.$B=function(){return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.prototype={$31:function(){return this.$JF(this.$$d_$2UN,this.get_$LB()),1},$2UN:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20){var n=this;Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().$2Hz().then(function(t){if($0.$1(t))n.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'entities' must not be empty."));else{var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r;i.set_$2dd(t.$1fE);i.set_$3JI(t.$1gr);n.$1Y()}},this.$$d_$21)}else this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Br=function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Br.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Br.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveIsSentFolder",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Br.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Br.$B=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Br;return n.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1z8,n};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Br.prototype={get_$2g:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r},$7q:null,$31:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20){var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$2Mp(function(t){$0.$1(t)?n.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("Failed to retrieve folder info")):n.$1Y(t)})}else this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available."));return 1},$1Y:function(n){this.get_$2g().$qM=n;$0.$1(this.$7q)||this.$7q();Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$1Y.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase=function(){this.$$d_$21=Function.createDelegate(this,this.$21);this.$$d_$3EO=Function.createDelegate(this,this.$3EO);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase.initializeBase(this);this.$1M_3=this.$$d_$3EO};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase.prototype={$4q:null,$4I:null,get_$PN:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$9X},$1Y:function(){$0.$1(this.$4q)||(Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(this.$4q.rid),this.$4q=null);this.get_$PN().onEmailContextActionSuccess(this.$4I);Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$1Y.call(this)},$21:function(n){$0.$1(this.$4q)||(this.$4q.p.ErrorCode=n.$z,this.$4q.p.ErrorMessage=n.$E,Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(this.$4q.rid),this.$4q=null);Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$21.call(this,n)},$3EO:function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1,n.$E);this.get_$PN().$3FJ(n.$z)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction=function(n){this.$$d_$22l=Function.createDelegate(this,this.$22l);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.initializeBase(this);this.$4I=n};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("UpdateEmailContext",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.$B=function(n,t){var i=t,u=i.QueryValue,r=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction(u);return $0.$1(i.OnFailure)||(r.$1M_3=i.OnFailure),$0.$1(i.OnSuccess)||(r.$P=i.OnSuccess),r};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.prototype={$P:null,get_$2ny:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r.$qM?1:0},$31:function(){this.get_$PN().get_$2g().set_$1Bn(1);return this.$4q=new Microsoft.Crm.Client.Core.Framework.$5o("MailAppAction",{Action:"UpdateEmailContextAction"}),Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$iO(this.$4q),this.$JF(this.$$d_$22l,this.get_$LB()),1},$2YX:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("SSSReliablePromote")},$33v:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Framework.$4),t=this,i=this;return Microsoft.Crm.Client.Core.Models.$O.$I7("email",new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(new Array(0))).then(function(i){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(t.$4I.$GC)){var r=new Xrm.Objects.EntityReference(t.$4I.$Gu,new Microsoft.Crm.Client.Core.Framework.Guid(t.$4I.$GC));i.$M.initializeValue("regardingobjectid",r,1);i.$M.$4P.add("regardingobjectid")}n.resolve(i.$M)},function(){n.reject()}),n.promise()},$2ap:function(){var t=[],n,i;Array.add(t,Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().$1TX());Array.add(t,Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().getAttachmentDetails());n=this;i=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(t){var r=new Array(0),e=new Array(0),o=new Array(0),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r,h,l,a;$0.$1(i.$ju)||r.push(n.$1eN(i.$ju.$9b));for(var s=i.$Xx,v=s.length,u=0;u<v;++u)h=s[u],o.push(n.$1eN(h.$9b));for(var c=i.$Xr,y=c.length,f=0;f<y;++f)l=c[f],e.push(n.$1eN(l.$9b));r.length||r.push(n.$1eN(i.$cF.$9b));a=Microsoft.Crm.Client.Core.ViewModels.MailApp.$9X.$2jo(n.$4I,t,r,o,e);n.$2h8(t,a)},function(){i.$Dc(!1)})},$2h8:function(n,t){var u=n[1],r=($0.$1(u)||!u.$17N.length)&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$1sR()&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode(),f=new Xrm.Gen.PreValidateAppointmentRequest(t),i=this,e=this;this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(f,this.get_$f()),function(n){var u=n;!$0.$1(u.validationResult)&&u.validationResult.$yf?r?i.$28s(t):i.$Dc(!1):u.validationResult.$yc.$xf[0].$z==="ErrorCode.ResourceBusy"?i.showAppointmentConflictDialog(t,r):i.$Dc(!1)},function(){e.$2h9(r,t)})},$2h9:function(n,t){if(n){var i=this,r=this;Xrm.Internal.messages.book(t).then(function(r){var u=r,f;!$0.$1(u.validationResult)&&u.validationResult.$yf?(f=u.validationResult.$Xa,i.$4I.$8T=f.toString(),i.$4I.$7K=2,i.$Dc(!0)):u.validationResult.$yc.$xf[0].$z.equals("ErrorCode.ResourceBusy")?i.showAppointmentConflictDialog(t,n):i.$Dc(!1)},function(){r.$Dc(!1)})}else this.$Dc(!1)},$2h5:function(){if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$4I.$bt))this.$4I.$Lr==="appointment"?this.$2ap():this.$Dc(!1);else{var t=new Xrm.Gen.CheckPromoteEmailRequest(this.$4I.$bt),n=this,i=this;this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(t,this.get_$f()),function(t){var i=t;i.shouldPromote?n.$4I.$Lr==="appointment"?n.$2ap():n.$2ni():(n.$4I.$7K=2,n.$Dc(!1))},function(){i.$Dc(!1)})}},$28s:function(n){var t=this,i=this;Xrm.Internal.messages.create(n).then(function(n){var r=n,i=r.id;$0.$1(i)?t.$Dc(!1):(t.$4I.$8T=i.toString(),t.$4I.$7K=2,t.$4I.$17W=1,t.$Dc(!0))},function(){i.$Dc(!1)})},showAppointmentConflictDialog:function(n,t){var i,u,r,f;i=Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.$2kT(3);i.$Fu=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_App_Appt_Conflict_Dialog_Title");i.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_App_Appt_Conflict_Dialog_Text"));i.$Ie=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_App_Appt_Conflict_Dialog_Keep_Action");i.$13a=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_App_Appt_Conflict_Dialog_Keep_Action");i.$Pz=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_App_Appt_Conflict_Dialog_Cancel_Action");i.$zG=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_App_Appt_Conflict_Dialog_Cancel_Action");i.$1NG=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_App_Appt_Conflict_Dialog_View_Action");i.$1NF=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_App_Appt_Conflict_Dialog_View_Action_Prefix");u=this;i.$JB=function(){u.$21(Microsoft.Crm.Client.Core.Framework.$4.$mC(5))};r=this;i.$Dy=function(){t?r.$28s(n):r.$Dc(!1)};f=this;i.$1NC=function(){var n=window.location.port,r=window.location.hostname,t=window.location.protocol+"//"+r,i;$0.$1(n)||(t+=":"+n);i=t+"/workplace/home_calendar.aspx";window.open(i)};i.Show()},$1eN:function(n){var t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),{addressused:n},{addressused:14},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return t.$4P.addRange(["addressused"]),t},$2ni:function(){var t=[],n,i;Array.add(t,Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().getRecipients());Array.add(t,Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().$1TX());Array.add(t,Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().getAttachmentDetails());Array.add(t,this.$33v());n=this;i=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(t){var r=t[0],l='"'+r.$PZ.$4g+'" '+r.$PZ.$9b,a=n.$1q8(r.$Uy),v=n.$1q8(r.$xB),y=n.$1q8(r.$x9),f=t[1],p=f.$Dh,w=f.$xR,b=f.$bh,e=null,c="",o=t[2],i,s,h;o.$17N.length>0&&(e=o.$17N,c=o.$1fr);i=t[3];i.initializeValue("directioncode",n.get_$2ny(),5);i.markFieldChanged("directioncode");Microsoft.Crm.Client.Core.Framework.$3.$9(n.$4I.$jQ)||(i.initializeValue("conversationindex",n.$2fL($3D.$1QQ(n.$4I.$jQ)),14),i.markFieldChanged("conversationindex"));e&&(i.initializeValue("attachmentids",e,22),i.markFieldChanged("attachmentids"),i.initializeValue("ewsurl",c,14),i.markFieldChanged("ewsurl"),i.initializeValue("attachmenttoken","Attachment_Token_String",14),i.markFieldChanged("attachmenttoken"));s=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();s.$1Q="activitymimeattachment";h=Microsoft.Crm.Client.Core.Framework.Guid.get_empty();Microsoft.Crm.Client.Core.Framework.$3.$9(n.$4I.$8T)||(h=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n.$4I.$8T));var u=new Xrm.Gen.DeliverPromoteEmailRequest(h,n.$4I.$bt,p,l,a,v,y,w,"","",b,s,i),k=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$Ld(),d=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$2O(k),g=d.$1kv(u.name,u.name+"Request",Xrm.Soap.Serializer.$Af(u),"b",u.xmlNamespace);n.$1j(Xrm.Gen.DeliverPromoteEmailResponse,Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().getDeliverPromoteDetails(g),function(t){if(t){var i=t.emailId;n.$4I.$8T=i.toString();n.$4I.$7K=2;n.$3N4();n.$Dc(!0)}else n.$Dc(!1)},function(){n.$Dc(!1)})},function(){i.$Dc(!1)})},$3WL:function(){var n,t,i,r;this.$4I.$7K===4?(n="email",this.$4I.$Lr==="appointment"&&(n=this.$4I.$NJ===3?"recurringappointmentmaster":"appointment"),Microsoft.Crm.Client.Core.Framework.$3.$9(this.$4I.$8T)?(this.$4I.$7K=0,this.$Dc(!0)):(t=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(this.$4I.$8T)),n==="recurringappointmentmaster"?this.$2nb(t):(i=this,r=this,this.$1j(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.Delete(t,this.get_$f()),function(){i.$27U()},function(){r.$Dc(!1)})))):(this.$4I.$7K=0,this.$Dc(!0))},$2nb:function(n){var t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(n,{},{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),i=new Date,r=new Xrm.Gen.DeleteOpenInstancesRequest(t,i,0),u=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$2O(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$Ld()),f=this,e=this;u.$2F(r).then(function(){f.$27U()},function(){e.$Dc(!1)})},$27U:function(){this.$4I.$8T="";this.$4I.$7K=0;this.$Dc(!0)},$1q8:function(n){var r="",i;if(!$0.$1(n)&&n.length>0)for(var u=n,f=u.length,t=0;t<f;++t)i=u[t],r+='"'+i.$4g+'" '+i.$9b+";";return r},$22l:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20){if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$2MS()){this.$Dc(!1);return}this.$2YX()&&this.$4I.$7K===1?this.$2h5():this.$2YX()&&(this.$4I.$7K===3||this.$4I.$7K===4)?this.$3WL():this.$Dc(!1)}else this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))},$Dc:function(n){this.$3N5(n);var t=this;this.$3Wb().done(function(i){var r=i?t.$33c():new Array(0),u=t.$31M(n),f=Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().$2X5(u,r,2,t.$4I.$Lr);f.then(function(n){t.$4q.p.MailItemState=t.$4I.$7K;t.$4q.p.RegardingObjectType=t.$4I.$Gu;t.$1Y();$0.$1(t.$P)||t.$P(n)},t.$$d_$21)})},$33c:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return n.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$273,this.$4I.$NK)).$2H()),n.toArray()},$31M:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return n?t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$1lO,this.$4I.$8T?this.$4I.$8T:"")).$2H()):t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$1Py,1)).$2H()),t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$2A6,this.$4I.$7K)).$2H()),t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$2T5,Microsoft.Crm.Client.Core.Framework.$3.$9(this.$4I.$Gu)?"":Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$4I.$Gu).$7u.toString())).$2H()),t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$2T3,this.$4I.$GC)).$2H()),t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$2T4,this.$4I.$KM)).$2H()),t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$27h,1)).$2H()),t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$2Xt,Microsoft.Crm.Client.Core.Framework.$1X.$2EQ(Microsoft.Crm.Client.Core.Framework.$1X.get_$172().$1i8(20)))).$2H()),this.$4I.$Lr==="appointment"&&(t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$2Yk,this.$2nn(this.$4I.$jn))).$2H()),t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$21W,this.$2no(this.$4I.$jn))).$2H()),t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$2YW,this.$4I.$17W)).$2H())),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$io&&t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$2A4,this.$4I.$Xd)).$2H()),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Vq()&&(t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$2A5,this.$4I.$Rq?1:0)).$2H()),this.$4I.$Rq&&this.$4I.$8T&&t.add(new Microsoft.Crm.Client.Core.Storage.Office.$K5(1,new Microsoft.Crm.Client.Core.Storage.Office.$4v(Microsoft.Crm.Client.Core.Storage.Office.$1b.$1lO,this.$4I.$8T)).$2H())),t.toArray()},$3Wb:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),n;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$io?(n=this,Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().$2IZ().done(function(i){var r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r;$0.$1(i)||(n.$4I.$NK=i);switch(n.$4I.$7K){case 2:n.$4I.$24i(r.$kE);n.$4I.$Xd=1;break;case 1:n.$4I.$24i(r.$kE);n.$4I.$Xd=0;break;case 0:case 3:case 4:n.$4I.$3MP(r.$kE);n.$4I.$Xd=0}t.resolve(!0)})):t.resolve(!1),t.promise()},$2nn:function(n){var t="Open";switch(n){case"Free":case"Tentative":t="Open";break;case"Busy":case"OutOfOffice":t="Scheduled";break;default:t="Open"}return t},$2no:function(n){var t="Free";switch(n){case"Free":t="Free";break;case"Tentative":t="Tentative";break;case"Busy":t="Busy";break;case"OutOfOffice":t="OutOfOffice";break;default:t="Free"}return t},$3N5:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppUpdateEmailContextExecuted");t.addEventParameter("IsStateUpdateBySSSRequried",!n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)},$3N4:function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pj("MailAppReportDeliverPromoteExecuted"))},$2fL:function(n){var r,t,i;if($0.$1(n))return null;for(r="",t=0;t<n.length;++t)i=n.charCodeAt(t).toString(16),r+=i.length===2?i:"0"+i;return r.toUpperCase()}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveSelectedEmailAction=function(){this.$$d_$3Kd=Function.createDelegate(this,this.$3Kd);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveSelectedEmailAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveSelectedEmailAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEmailCustomProperties",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveSelectedEmailAction.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveSelectedEmailAction.$B=function(){return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveSelectedEmailAction};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveSelectedEmailAction.prototype={get_$2g:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2r},$31:function(){return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$34I(this.$$d_$3Kd):this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),1},$3Kd:function(n,t){$0.$1(t)?(this.get_$2g().$xY=new Microsoft.Crm.Client.Core.Models.MailApp.$Jn,this.get_$2g().$xY.SelectedRecipientEmailAddress=n,this.$1Y()):(this.get_$2g().$xY={},this.$21(Microsoft.Crm.Client.Core.Framework.$4.$3bY(null,t.message,t.code)))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateSelectedEmailAction=function(n){this.$$d_$22l=Function.createDelegate(this,this.$22l);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateSelectedEmailAction.initializeBase(this);this.$1fl=n};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateSelectedEmailAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("UpdateSelectedEmail",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateSelectedEmailAction.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateSelectedEmailAction.$B=function(n,t){var i=t,r="QueryValue"in i?i.QueryValue:null;if(!r)throw Error.argument("'Email' must be passed within 'QueryValue'.");return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateSelectedEmailAction(r)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateSelectedEmailAction.prototype={$1fl:null,$31:function(){return this.$JF(this.$$d_$22l,this.get_$LB()),1},$22l:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20){var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$3XV(this.$1fl,function(t,i){$0.$1(i)?n.$1Y():n.$21(Microsoft.Crm.Client.Core.Framework.$4.$3bY(null,i.message,i.code))})}else this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction=function(){this.$$d_$3KP=Function.createDelegate(this,this.$3KP);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEmailContext",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction,u,r;return i.$1Mb=!1,Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor.isInstanceOfType(t)&&!$0.$1(t.QueryValue)&&(u=t,r=u.QueryValue,$0.$1(r.fromScratch)||(i.$1Mb=r.fromScratch)),i};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.prototype={$1Mb:!1,$1bJ:null,$1bQ:null,$31:function(){if(this.get_$PN().get_$2g().set_$1Bn(1),this.$4q=new Microsoft.Crm.Client.Core.Framework.$5o("MailAppAction",{Action:"RetrieveEmailContextAction"}),Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$iO(this.$4q),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20){this.$1bJ=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$4);var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$2Hx(function(t){$0.$1(t)||Microsoft.Crm.Client.Core.Framework.$3.$1O(t.subject)||(n.get_$PN().get_$2g().$Jk.$Dh=t.subject);n.$1bJ.resolve(n.get_$PN().get_$2g().$Jk.$Dh)});this.$1bQ=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$io?Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1zd():MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$4).resolve();Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$30u(this.get_$PN().$L9||this.$1Mb,this.$$d_$3KP)}else this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available."));return 1},$3KP:function(n){var r;if(n.status)r=Microsoft.Crm.Client.Core.Framework.$4.$mC(n.status),r.$E=n.message,this.$21(r);else{var t=n.emailItem,u=t.ItemType==="appointment"?new Microsoft.Crm.Client.Core.Models.MailApp.$Ql(t):new Microsoft.Crm.Client.Core.Models.MailApp.$Jm(t),i=this,f=this;this.$1bQ.then(function(n){Microsoft.Crm.Client.Core.Framework.$3.$9(n)||(i.get_$PN().get_$2g().$kE=n);i.$1bJ.always(function(){i.$oA(u)})},function(n){f.$21(n)})}},$oA:function(n){this.$4I=n;this.$4q.p.MailItemState=this.$4I.$7K;this.$4q.p.RegardingObjectType=this.$4I.$Gu;this.$1Y()}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage");Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel=function(){this.$$d_$3VD=Function.createDelegate(this,this.$3VD);this.$$d_$1bg=Function.createDelegate(this,this.$1bg);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel.initializeBase(this);this.$Dy=this.$$d_$1bg};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel.prototype={$Tu:!1,$XQ:null,$Qj:!1,get_EnableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Settings_Diagnostics_Label_Enable")},get_DisableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Settings_Diagnostics_Label_Disable")},get_OpenOnStart:function(){return this.$Tu},set_OpenOnStart:function(n){return this.$Tu===n?n:(this.$Tu=n,this.$8("OpenOnStart"),n)},get_IsLoaded:function(){return this.$Qj},set_IsLoaded:function(n){return this.$Qj===n?n:(this.$Qj=n,this.$8("IsLoaded"),n)},get_IsTaskFlowSettingsAvailable:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ().$qN},get_LandingPageSettingsHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_LandingPage_Header")},get_OnStartSubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_LandingPage_OpenOnStart")},get_TaskFlow1SubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_LandingPage_TaskFlow1")},get_TaskFlow2SubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_LandingPage_TaskFlow2")},$Ph:null,get_TaskFlow1:function(){return this.$Ph},set_TaskFlow1:function(n){return this.$Ph=n,n},$Pi:null,get_TaskFlow2:function(){return this.$Pi},set_TaskFlow2:function(n){return this.$Pi=n,n},$18:function(){if(!this.$1y){this.set_IsLoaded(!1);var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ();this.set_OpenOnStart(n.$Tu);this.get_IsTaskFlowSettingsAvailable()?(this.$Ph=new Microsoft.Crm.Client.Core.ViewModels.$9i,this.$Ph.set_Label(this.get_TaskFlow1SubHeaderText()),this.$Pi=new Microsoft.Crm.Client.Core.ViewModels.$9i,this.$Pi.set_Label(this.get_TaskFlow2SubHeaderText()),this.$XQ=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(38)),this.$XQ.add_$7l(this.$$d_$3VD),this.$XQ.set_DefinitionId("TaskBasedFlowGlobalMenu"),this.$XQ.$18()):this.set_IsLoaded(!0)}Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this)},$3VD:function(){var r,u,f,t;this.$XQ.remove_$7l(this.$$d_$3VD);var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=this.$XQ.$F;for(r in e)u={key:r,value:e[r]},Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(u.value)&&(f=u.value,i.add(f.$1D),n.add(f.$G));t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ();n.contains(t.$wc)?this.$Ph.set_SelectedItem(t.$wc):n.get_Count()>0&&this.$Ph.set_SelectedItem(n.get_$I(0));n.contains(t.$wd)?this.$Pi.set_SelectedItem(t.$wd):n.get_Count()>0&&this.$Pi.set_SelectedItem(n.get_$I(0));this.$Ph.set_ItemLabels(i.toArray());this.$Ph.set_ItemValues(n.toArray());this.$Pi.set_ItemLabels(i.toArray());this.$Pi.set_ItemValues(n.toArray());this.set_IsLoaded(!0)},$1bg:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ();n.set_OpenOnStart(this.$Tu);this.get_IsTaskFlowSettingsAvailable()&&(n.set_TaskFlow1Name(this.$Ph.$51),n.set_TaskFlow2Name(this.$Pi.$51))},$GX:function(){this.$XQ&&(this.$XQ.remove_$7l(this.$$d_$3VD),this.$XQ.dispose(),this.$XQ=null);this.$Ph&&(this.$Ph.dispose(),this.$Ph=null);this.$Pi&&(this.$Pi.dispose(),this.$Pi=null);Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$V3=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$V3.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$V3.prototype={$Dh:null,get_Subject:function(){return this.$Dh},set_Subject:function(n){return this.$Dh=n,n},$18j:null,get_ScheduledEndString:function(){return this.$18j},set_ScheduledEndString:function(n){return this.$18j=n,n},$k2:null,get_ScheduledEnd:function(){return this.$k2},set_ScheduledEnd:function(n){return this.$k2=n,n},$qo:null,get_ScheduledStart:function(){return this.$qo},set_ScheduledStart:function(n){return this.$qo=n,n},$KM:null,get_RegardingObjectName:function(){return this.$KM},set_RegardingObjectName:function(n){return this.$KM=n,n},$LP:function(){Microsoft.Crm.Client.Core.ViewModels.$43.prototype.$LP.call(this);this.$Dh=this.get_ModelContext().GetValue("subject");this.$qo=new Date(this.get_ModelContext().GetValue("scheduledstart"));this.$18j=this.get_ModelContext().GetValue("scheduledend");this.$k2=new Date(this.$18j);var n=this.get_ModelContext().GetValue("regardingobjectid");this.$KM=$0.$1(n)?"---":n.Name}};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$Ua=function(){this.$$d_$2Nh=Function.createDelegate(this,this.$2Nh);this.$$d_$2Pg=Function.createDelegate(this,this.$2Pg);this.$$d_$3Nu=Function.createDelegate(this,this.$3Nu);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$Ua.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$Ua.prototype={$1HL:null,$SX:!1,get_IsLandingPageActivitiesEnabled:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ().$18C},$Fd:null,get_CardFeedContainerViewModel:function(){return this.$Fd&&this.$Fd.$Qi&&(this.$Fd.dispose(),this.$Fd=null,this.$2LE()),this.$Fd},$yb:null,get_TodayActivities:function(){return this.$yb},set_TodayActivities:function(n){return this.$yb=n,n},$yZ:null,get_ThisWeekActivities:function(){return this.$yZ},set_ThisWeekActivities:function(n){return this.$yZ=n,n},$yF:null,get_OverDueActivities:function(){return this.$yF},set_OverDueActivities:function(n){return this.$yF=n,n},set_$1Pb:function(n){return n!==this.$SX&&(this.$SX=n,this.$8("ContentHasRendered")),n},$18:function(){if(!this.$1y){if(this.get_IsLandingPageActivitiesEnabled()){this.$yb=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$V3));this.$yZ=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$V3));this.$yF=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$V3));var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveLandingPageActivities",null);this.set_ActionProvider(new Microsoft.Crm.Client.Core.ViewModels.$M(this,n))}this.$2LE()}Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this)},UIHasRendered:function(){!this.$2D&&this.get_IsLandingPageActivitiesEnabled()&&this.set_$1Pb(!0)},$1HJ:function(){return this.$1HL=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),this.get_IsLandingPageActivitiesEnabled()?(this.add_$130(this.$$d_$3Nu),this.$X6()):this.$1HL.resolve(!0),this.$Fd&&this.$Fd.$X6(),this.$1HL},$3Nu:function(){this.$1HL.resolve(!0);this.remove_$130(this.$$d_$3Nu)},$2LE:function(){var n,t,i,r;this.$Fd||(n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(13,!0),n.set_IsCustomControlExists(!0),n.$1hF=!0,n.$18(),this.$Fd=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k,this.$Fd.AddPropertyChangedListener("OnInitControl",this.$$d_$2Pg),this.$Fd.set_$4K(n),t={},t.customControlTemplateName="MscrmControls.CardFeedContainer.CardFeedContainer",t.OnSuccess=this.$$d_$2Nh,i=new Microsoft.Crm.Client.Core.ViewModels.$M(this.$Fd,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCustomControlTemplate",t)),r=i.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(r))},$2Nh:function(n){for(var r,s,t,u,h,f,c=n,l=c.descriptor,e=l.Properties,o=null,i=0;i<e.length;i++)if(r=e[i],r.Name==="Resources"){o=r.Value;break}s="{92afd454-0f2e-4397-a1c8-05e37c6ad699}";t={};t.Name="SubGrid";t.Columns=[];t.ViewId=s;t.EnableViewPicker=!1;t.RelationshipName=null;t.RelationshipRoleOrdinal=null;t.TargetEntityType="actioncard";t.ContextFilter=null;t.ExtraCondition=null;t.RelationshipType=-1;t.ReferencingName=null;t.IsHierarchyEnabled=!1;u={};u.SubGrid=t;h=[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsDataSetControl",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("GridEnabled",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ControlMode",2),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ConstructorName","MscrmControls.CardFeedContainer.CardFeedContainer"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DisplayName","CardFeedContainer"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FormFactor",Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ControlType",0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PropertyDefinitions",null),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DataSetDefinitions",u),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Resources",o),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",!0)];f=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("CustomControl","CustomControlHostView","CardFeedContainer",null,null,h,null,null);f.PrimaryModelName="actioncard";Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$3Xi(this.$Fd,f,this.$Fd.get_ModelContext(),!0);this.$Fd.set_IsActive(!0);this.$Fd.requestRender();this.set_$1Pb(!0);this.get_IsLandingPageActivitiesEnabled()||this.set_IsLoading(!1)},$2Pg:function(){this.$Fd.RemovePropertyChangedListener("OnInitControl",this.$$d_$2Pg);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LandingPageCardFeed",1)},$zm:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$V3;return t.set_ModelContext(n),t},$1w2:function(n,t){Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$1w2.call(this,n,t);this.$2rW();this.set_IsLoading(!1)},$2rW:function(){var t,n;this.$yb.clear();this.$yZ.clear();this.$yF.clear();var i=Microsoft.Crm.Client.Core.Framework.$1X.get_$172(),u=i.$tI().$1qW(),f=i.$tI().$V1(1).$1qW(),r=Microsoft.Crm.Client.Core.Framework.$1X.$3bi(i).$1qW();for(t=0;t<this.$1R.get_Count();t++)n=this.$1R.get_$I(t),(n.$qo>=u&&n.$qo<f||n.$k2>=u&&n.$k2<f)&&this.$yb.add(n),(n.$qo>=r||n.$k2>=r)&&this.$yZ.add(n),n.$k2<r&&this.$yF.add(n)},$GX:function(){this.$Fd&&(this.$Fd.dispose(),this.$Fd=null);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel.initializeBase(this);this.set_DefaultImageSrc("/_imgs/ContactPhoto.png");this.set_PrimaryModelName("systemuser");this.set_OpenImageUploadDialogCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenImageUploadDialogCommand")));var n=this;this.$Jq.$1gi=function(){n.$1HJ()};this.$2ab()};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("UserProfileViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel)};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel.prototype={$1Ui:null,$1QU:null,$AQ:null,$Jq:null,$3HQ:function(){var n=this.$5j("UserProfileImageChangedEvent");$0.$1(n)||n()},add_UserProfileImageChangedEvent:function(n){this.$2I("UserProfileImageChangedEvent",n)},remove_UserProfileImageChangedEvent:function(n){this.$4N("UserProfileImageChangedEvent",n)},get_ImageSrc:function(){return this.$1Ui},set_ImageSrc:function(n){return this.$1Ui!==n&&(this.$1Ui=n,this.$3HQ()),n},get_OpenImageUploadDialogCommand:function(){return this.$Jq},set_OpenImageUploadDialogCommand:function(n){return this.$Jq!==n&&($0.$1(this.$Jq)||(this.$Jq.dispose(),this.$Jq=null),this.$Jq=n),n},get_DefaultImageSrc:function(){return this.$1QU},set_DefaultImageSrc:function(n){return this.$1QU!==n&&(this.$1QU=n,this.$8("DefaultImageSrc")),n},get_UserName:function(){return this.$AQ},set_UserName:function(n){return this.$AQ!==n&&(this.$AQ=n,this.$8("UserName")),n},get_CurrentDate:function(){return(new Date).localeFormat("dddd, MMMM dd")},$1HJ:function(){return this.$2ab()},$2ab:function(){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),r="entityimage_url",u="fullname",e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l("systemuser"),o=[e.$4S,r,"entityimage",u],f={},t,n,s;return f["Identifier"]=new Xrm.Objects.EntityReference("systemuser",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$pj()),f["ColumnSet"]=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(o),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEntityRecord",f),n=this,t.OnSuccess=function(t){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(t)){var f=Microsoft.Crm.Client.Core.Models.$O.$B(t);$0.$1(n.get_ModelContext())||n.get_ModelContext().$6D();n.set_ModelContext(f);$0.$1(f.GetValue(r))?n.set_ImageSrc(""):n.set_ImageSrc(f.GetValue(r).toString());n.set_UserName($0.$1(f.GetValue(u))?"":f.GetValue(u).toString());i.resolve(!0)}},s=this,t.OnFailure=function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(168,n.$E);i.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,t),i}};Type.registerNamespace("Microsoft.Crm.Client.Core.Command");Microsoft.Crm.Client.Core.Command.DelveActionHubCommandHelper=function(){};Microsoft.Crm.Client.Core.Command.DelveActionHubCommandHelper.$2iX=function(n,t){return Xrm.Internal.messages.updateDelveActionStatus(n,1,t)};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction=function(){this.$$d_$1ak=Function.createDelegate(this,this.$1ak);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RemoveTrackingInfoAction",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction;return Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$1Ip(i,t),i};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$1Ip=function(n,t){var r=t,i=r.QueryValue;n.$7q=i.OnSuccess;n.$8T=i.CrmId};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.prototype={$7q:null,$8T:null,$31:function(){return this.$JF(this.$$d_$1ak,this.get_$LB()),1},$1ak:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20){var n=this;Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().$1ak(this.$8T).then(function(){n.$7q(!1);n.$1Y()},this.$$d_$21)}else this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors");Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$5K=function(){};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$5K.get_$37=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37()};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$5K.$B=function(){var i={contact:1,lead:0,systemuser:2},n=[],t;return Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76("contact",null)),Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76("lead",null)),Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76("systemuser",null)),t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$DN,Microsoft.Crm.Client.Core.Framework.$4),Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n).then(function(n){var r=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$DN,u,f,e;Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$5K.get_$37().$84("contact",1)&&(u=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$7u("contact",i.contact),u.$7P("contactid",14).$7P("entityimage_url",14).$7P("entityimage",14).$7P("jobtitle",14).$7P("telephone1",14).$7P("mobilephone",14).$7P("parentcustomerid",6).$7P("emailaddress1",6).$7P("lastname",14).$7P("firstname",14).$7P("createdon",14).$7P("statecode",14).$7P("ownerid",14).$7P("followemail",14),r.$2i(u));Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$5K.get_$37().$84("lead",1)&&(f=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$7u("lead",i.lead),f.$7P("leadid",14).$7P("entityimage_url",14).$7P("entityimage",14).$7P("jobtitle",14).$7P("telephone1",14).$7P("mobilephone",14).$7P("companyname",14).$7P("createdon",14).$7P("statecode",14).$7P("ownerid",14).$7P("followemail",14).$7P("parentaccountid",6),r.$2i(f));Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$5K.get_$37().$84("systemuser",1)&&(e=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$7u("systemuser",i.systemuser),e.$7P("systemuserid",14).$7P("entityimage_url",14).$7P("entityimage",14).$7P("title",14).$7P("address1_telephone1",14).$7P("internalemailaddress",14).$7P("mobilephone",14).$7P("createdon",14).$7P("fullname",14).$7P("isdisabled",14),r.$2i(e));r.$3Wq(n);t.resolve(r)},function(){t.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("Metadata request to the CRM server failed with an error."))}),t.promise()};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$7u=function(n,t){this.$2N="";this.$7i=n;this.$cl=new Array(0);this.$14M=t};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$7u.$24s=function(n,t,i){$0.$1(n)||$0.$1(t)||$0.$1(i)||(n.mailappemailaddress=i,t.mailappemailaddress=14)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$7u.prototype={$2N:null,$7i:null,get_$3K9:function(){return this.$7i+"id"},get_$25D:function(){return this.$7i+"alias"},get_$2Dp:function(){return this.get_$25D()+"."+this.get_$3K9()},$cl:null,$14M:0,$7P:function(n,t){return this.$cl.push(new Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$ML(n,t,!1,!1)),this},$2Zf:function(n,t){for(var i,e,r={},u={},f=0;f<this.$cl.length;f++)i=this.$cl[f],e=n.getValue(this.get_$25D()+"."+i.$1d),$0.$1(e)||(r[i.$1d]=e.$Fp,u[i.$1d]=i.$80);return Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$7u.$24s(r,u,n.getValue("emailaddress")),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(t,r,u,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$DN=function(){this.$6d={}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$DN.prototype={$6d:null,$2i:function(n){this.$6d[n.$7i]=n},$sw:function(n){return n in this.$6d?this.$6d[n]:null},$3Wq:function(n){for(var i,r,u=n,f=u.length,t=0;t<f;++t)i=u[t],r=this.$sw(i.$d),$0.$1(r)||r.$7P(i.$5e,14)},$2Zf:function(n){var t=this.$33J(n);return $0.$1(t)?null:this.$sw(t.LogicalName).$2Zf(n,t)},$2iV:function(n,t){var i=n.$N.LogicalName,r=t.$N.LogicalName;return this.$sw(i).$14M===this.$sw(r).$14M?2:this.$sw(i).$14M>this.$sw(r).$14M?0:1},$33J:function(n){var u=this.$6d,i,f,t,r;for(i in u)if(f={key:i,value:u[i]},t=f.value,!$0.$1(n.getValue(t.get_$2Dp()))&&(r=n.getValue(t.get_$2Dp()),!$0.$1(r.$Fp)))return new Xrm.Objects.EntityReference(t.$7i,r.$Fp);return null}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$ML=function(n,t,i,r){this.$1d=n;this.$80=t;this.$yE=i;this.$246=r};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$ML.prototype={$1d:null,$80:0,$yE:!1,$246:!1};Type.registerNamespace("Microsoft.Crm.Client.Core.Models.ProcessControl.Builders");Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Gn=function(){};Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Gn.registerInterface("Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Gn");Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Gm=function(){};Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Gm.registerInterface("Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Gm");Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MI=function(n,t){this.$A=n;this.$1mT=t};Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MI.prototype={$A:null,$1mT:null,$Ar:function(n,t){var u=this.$A.get_ModelContext().get_ModelName()+"_process_"+t,f=n.getValue("name"),i={EntityLogicalName:this.$A.get_ModelContext().get_ModelName(),ProcessControlId:n.$N.Id},r=this.$3OM();return r.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())||(i.EntityId=r),new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(u,"Button","ChangeProcessControlCommand",f,t,"System","ForwardButton","Symbol",i)},$3OM:function(){var n=!$0.$1(this.$A.get_ModelContext())&&!Microsoft.Crm.Client.Core.Framework.Guid.$9(this.$A.get_ModelContext().get_Id());return n?new Microsoft.Crm.Client.Core.Framework.Guid(this.$A.get_ModelContext().get_Id()):this.$1mT.$XF()}};Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MH=function(n){this.$A=n};Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MH.prototype={$A:null,$XF:function(){var n=this.$A.get_ExternalContext(),r=Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),i="EntityReference",e=!$0.$1(n)&&!$0.$1(n.$T)&&i in n.$T&&!$0.$1(n.$T[i]),o=!$0.$1(this.$A.get_ModelContext()),t=null,u,f;return e?t=n.$T[i]:o&&(u=this.$A.get_ModelContext(),t=u.get_$Y6()),f=!!t&&!Microsoft.Crm.Client.Core.Framework.Guid.$9(t.get_identifier()),f&&(r=t.Id),r}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar");Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$U5=function(){this.$$d_$3VF=Function.createDelegate(this,this.$3VF);this.$$d_$3VE=Function.createDelegate(this,this.$3VE);this.$$d_$3HI=Function.createDelegate(this,this.$3HI);this.$$d_$3H6=Function.createDelegate(this,this.$3H6);this.get_$1Np=this.get_applicationMetadataType;this.get_$2ic=this.get_componentType;this.get_$2nN=this.get_definitionId;this.set_$3Ub=this.set_sourceId;Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$U5.resolveInheritance();this.get_$3YS=this.get_ViewModelId;Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$U5.initializeBase(this);this.$MD=new Microsoft.Crm.Client.Core.ViewModels.$Ct;this.set_PrimaryModelName("activitypointer")};Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$U5.prototype={$2D:!0,$SX:!1,$MD:null,$1FZ:null,$1XA:null,$1FW:null,$ic:null,$13O:null,$13P:null,$pP:null,$pQ:null,$14t:null,get_$221:function(){return this.$ic.$F},get_$2N0:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ().$qN},get_CommandSection:function(){return this.$MD},get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return n!==this.$2D&&(this.$2D=n,this.$8("IsLoading")),n},set_$1Pb:function(n){return n!==this.$SX&&(this.$SX=n,this.$8("ContentHasRendered")),n},$FP:function(){this.$1y=!1;this.$18()},$18:function(){var n,t,i;this.$1y||(this.set_IsLoading(!0),this.$14t=this.$2m4(),n=Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$3BR(),this.$3C5()),this.get_$2N0()&&(n=Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(n,this.$3CD())),t=this,i=this,n.then(function(){t.$1yj();t.set_IsLoading(!1)},function(n){i.$R0(n);i.set_IsLoading(!1)}),Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this))},UIHasRendered:function(){this.$2D||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LandingPageQuickCommands",1),this.set_$1Pb(!0))},$1yj:function(){this.$2hu();this.$MD.$8V("newactivity",this.$13O);this.$MD.$8V("newrecord",this.$13P);this.$MD.$8V("newnote",this.$14t);this.get_$2N0()&&($0.$1(this.$pP)||this.$MD.$8V("taskbasedflow1",this.$pP),this.$pP===this.$pQ||$0.$1(this.$pQ)||this.$MD.$8V("taskbasedflow2",this.$pQ))},$3VE:function(){this.$2U2();this.$1yj()},$3VF:function(){this.$2U3();this.$1yj()},$3BR:function(){this.$1FW=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4);var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveListMetadata",null),t=this;return n.OnSuccess=function(n){var o=n.ViewModelDescriptor.ChildViewModels.TopMenu,i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(o,null),r,u,f,e;i.set_Label(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Form_Title_New_With_Entity_Display_Name"),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l("activitypointer").$1S));i.set_ImageName("AddExistingActivity");i.set_ImageType("Symbol");r=i.$F;for(u in r)f={key:u,value:r[u]},e=f.value,e.set_ImageType("CrmSymbol"),e.set_ImageName(f.key+" entity");t.$13O=i;t.$1FW.resolve()},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n),this.$1FW},$2m4:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$2A;return n.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("LandingPage.CommandBar.CreateNoteTitle")),n.set_Visible(!0),n.set_ImageName("NotesEdit"),n.set_ImageType("Symbol"),n.$J8=!0,n.set_Command("ShowSelectableEntityNoteList"),n},$3C5:function(){return this.$1FZ=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$13N().$6X.add_$7l(this.$$d_$3H6),this.$1FZ},$3CD:function(){return this.$1XA=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),this.$ic=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(38)),this.$ic.add_$7l(this.$$d_$3HI),this.$ic.$18(),this.$1XA},$3H6:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$13N().$6X.remove_$7l(this.$$d_$3H6);this.$3C6()},$3HI:function(){this.$ic.remove_$7l(this.$$d_$3HI);var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ();n.AddPropertyChangedListener("TaskFlow1Name",this.$$d_$3VE);n.AddPropertyChangedListener("TaskFlow2Name",this.$$d_$3VF);this.$2U2();this.$2U3();this.$1XA.resolve()},$3C6:function(){var i=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(1,!0),n,t,r;i.$18();n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet","global");t=this;n.OnSuccess=function(n){var i=n.$EJ,r=[i.Controls[1]],u=n.$zc;t.$13P=t.$cu(r,u)[0];t.$1FZ.resolve()};r=this;n.OnFailure=function(n){r.$1FZ.reject(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",i,n)},$2U2:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ().$wc;this.$pP=n in this.get_$221()?this.$29y(n):null},$2U3:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ().$wd;this.$pQ=n in this.get_$221()?this.$29y(n):null},$29y:function(n){var t=this.get_$221()[n];return t.set_ImageName("TaskFlow"),t.set_ImageType("Symbol"),t},$cu:function(n,t){for(var i,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$2r)),f=n,e=f.length,u=0;u<e;++u){i=f[u];switch(i.ControlType){case"Button":r.add(this.$2fV(i,t));break;case"FlyoutAnchor":r.add(this.$2fp(i,t))}}return r.toArray()},$2fV:function(n,t){var u=n.LabelText||"",r,i;$0.$1(n.CommandParameters)&&(n.CommandParameters={});n.CommandParameters.TargetViewModel=t;r="";switch(n.CommandType){case"ControlCommand":n.CommandParameters.CommandPropertyName=n.Command;r="ControlCommand";break;case"System":r=n.Command}return i=new Microsoft.Crm.Client.Core.ViewModels.$2A,i.set_$1a(n.Id),i.set_Label(u),i.set_Visible(!0),i.set_Parameters(n.CommandParameters),i.set_ImageName(n.Id+" entity"),i.set_ImageType("CrmSymbol"),i.$J8=n.AvailableOffline,i.set_TargetViewModel(t),i.$Dl=null,i.set_Command(r),i},$2hu:function(){var n,t,i;if(!$0.$1(this.$MD)&&!$0.$1(this.$MD.$F)){n=this.$MD.$F;for(t in n)i={key:t,value:n[t]},delete this.$MD.$F[i.key]}},$2fp:function(n,t){var o=n.LabelText||"",i=new Microsoft.Crm.Client.Core.ViewModels.$5B,f,u;i.set_Label(o);i.set_ImageName(n.ImageId);i.set_ImageType(n.ImageType);i.set_$1a(n.Id);i.set_Visible(!0);i.set_Enabled(!0);i.set_$283(n.CommandParameters);f=this.$cu(n.Children,t);for(var e=f,s=e.length,r=0;r<s;++r)u=e[r],i.$8V(u.get_ViewModelId(),u);return i},$GX:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ();n.RemovePropertyChangedListener("TaskFlow1Name",this.$$d_$3VE);n.RemovePropertyChangedListener("TaskFlow2Name",this.$$d_$3VF);this.$ic&&(this.$ic.dispose(),this.$ic=null);this.$MD&&(this.$MD.dispose(),this.$MD=null);this.$13P&&(this.$13P.dispose(),this.$13P=null);this.$13O&&(this.$13O.dispose(),this.$13O=null);this.$pP&&(this.$pP.dispose(),this.$pP=null);this.$pQ&&(this.$pQ.dispose(),this.$pQ=null);this.$14t&&(this.$14t.dispose(),this.$14t=null)},$bd:0,get_applicationMetadataType:function(){return this.$bd},set_applicationMetadataType:function(n){return this.$bd=n,n},get_componentType:function(){return 11},$Rs:null,get_definitionId:function(){return this.$Rs},set_definitionId:function(n){return this.$Rs=n,n},$3Bw:function(n){this.$1FW.reject(n)},$ge:function(){},$1GJ:function(){},$cH:null,get_sourceId:function(){return this.$cH},set_sourceId:function(n){return this.$cH=n,n}};Type.registerNamespace("ProcessControl.Reflow");ProcessControl.Reflow.$Gq=function(){};ProcessControl.Reflow.$Gq.registerInterface("ProcessControl.Reflow.$Gq");ProcessControl.Reflow.$Gs=function(){};ProcessControl.Reflow.$Gs.registerInterface("ProcessControl.Reflow.$Gs");ProcessControl.Reflow.$Gr=function(){};ProcessControl.Reflow.$Gr.registerInterface("ProcessControl.Reflow.$Gr");ProcessControl.Reflow.$Gp=function(){};ProcessControl.Reflow.$Gp.registerInterface("ProcessControl.Reflow.$Gp");ProcessControl.Reflow.$Go=function(){};ProcessControl.Reflow.$Go.registerInterface("ProcessControl.Reflow.$Go");ProcessControl.Reflow.$Gt=function(){};ProcessControl.Reflow.$Gt.registerInterface("ProcessControl.Reflow.$Gt");ProcessControl.Reflow.$H5=function(){};ProcessControl.Reflow.$H5.registerInterface("ProcessControl.Reflow.$H5");ProcessControl.Reflow.$HE=function(){};ProcessControl.Reflow.$HE.registerInterface("ProcessControl.Reflow.$HE");ProcessControl.Reflow.$HA=function(){};ProcessControl.Reflow.$HA.registerInterface("ProcessControl.Reflow.$HA");ProcessControl.Reflow.$H9=function(){};ProcessControl.Reflow.$H9.registerInterface("ProcessControl.Reflow.$H9");ProcessControl.Reflow.$H4=function(){};ProcessControl.Reflow.$H4.registerInterface("ProcessControl.Reflow.$H4");ProcessControl.Reflow.$Gx=function(){};ProcessControl.Reflow.$Gx.registerInterface("ProcessControl.Reflow.$Gx");ProcessControl.Reflow.$Gv=function(){};ProcessControl.Reflow.$Gv.registerInterface("ProcessControl.Reflow.$Gv");ProcessControl.Reflow.$Aj=function(){};ProcessControl.Reflow.$Aj.$$=function(n){var t="$Aj$"+n.getName().replace(/\./g,"_"),i;return ProcessControl.Reflow[t]||(i=ProcessControl.Reflow[t]=function(){},i.registerInterface("ProcessControl.Reflow."+t)),ProcessControl.Reflow[t]};ProcessControl.Reflow.$Aj.registerInterface("ProcessControl.Reflow.$Aj");ProcessControl.Reflow.$Gy=function(){};ProcessControl.Reflow.$Gy.registerInterface("ProcessControl.Reflow.$Gy");ProcessControl.Reflow.$H0=function(){};ProcessControl.Reflow.$H0.registerInterface("ProcessControl.Reflow.$H0");ProcessControl.Reflow.$GV=function(){};ProcessControl.Reflow.$GV.registerInterface("ProcessControl.Reflow.$GV");ProcessControl.Reflow.$MK=function(n,t,i){this.$1Uq=i;this.$Q1=t;this.$A=n};ProcessControl.Reflow.$MK.prototype={$zD:function(){if(!this.$A.get_$8B().get_$25b()){this.$5t=this.$1Uq;return}this.$26e();this.$2gI()},get_$F4:function(){return this.$5t},set_$21S:function(n){return this.$b9=n,n},$26e:function(){this.$5t=this.$1Uq},$2gI:function(){this.get_$2P5().set_$21S(this.$b9);this.get_$2P5().$zD()},get_$2P5:function(){return this.$1Y3||(this.$1Y3=new ProcessControl.Reflow.$M7(this.$A,this.$Q1,this.$5t)),this.$1Y3},$1Y3:null,$b9:null,$5t:null,$1Uq:null,$Q1:null,$A:null};ProcessControl.Reflow.$MJ=function(n,t){this.$A=n;this.$5t=t};ProcessControl.Reflow.$MJ.prototype={$zD:function(){this.$A.get_$8B().get_$25b()&&this.$26e()},set_$CU:function(n){return this.$UU=n,n},get_$F4:function(){return this.$5t},get_$3BC:function(){return this.$16q?this.$16q.get_$3BE():null},$26e:function(){this.get_$2Zg().set_$CU(this.$UU.split(","));this.get_$2Zg().$zD()},get_$2Zg:function(){return this.$16q||(this.$16q=new ProcessControl.Reflow.$M8(this.$A,this.$5t)),this.$16q},$5t:null,$16q:null,$UU:null,$A:null};ProcessControl.Reflow.$M7=function(n,t,i){this.$Q1=t;this.$A=n;this.$5t=i};ProcessControl.Reflow.$M7.prototype={$zD:function(){var n=this.get_$2RZ();this.$Q1.set_$2KU(n);n.$1eH(this.$b9)},get_$F4:function(){return this.$5t},set_$21S:function(n){return this.$b9=n,n},get_$2RZ:function(){return this.$oN||(this.$oN=new ProcessControl.Reflow.$M3(this.$A,this.$5t,!0)),this.$oN},$oN:null,$5t:null,$Q1:null,$A:null,$b9:null};ProcessControl.Reflow.$M6=function(n,t,i){this.$5t=i;this.$Q1=t;this.$A=n};ProcessControl.Reflow.$M6.prototype={$zD:function(){var n=this.get_$2RZ();this.$Q1.set_$2KU(n)},get_$F4:function(){return this.$5t},get_$2RZ:function(){return this.$oN||(this.$oN=new ProcessControl.Reflow.$M3(this.$A,this.$5t,!1)),this.$oN},$oN:null,$5t:null,$Q1:null,$A:null};ProcessControl.Reflow.$M9=function(n,t,i){this.$2Yf=-1;this.$5t=t;this.$1dQ=i;this.$A=n};ProcessControl.Reflow.$M9.prototype={$zD:function(){for(var t,r,n=this.get_$21S(),i=0;i<this.$1dQ.length;i++)if(t=this.$1dQ[i],t in this.$A.get_$8B().get_$b7()){if(r=this.$5t.$1Rs(t,!0),r){n=r;continue}this.$5t.$1hz(n,new ProcessControl.Reflow.$PG(t));n=n.get_$Wa()}this.$1th=n},get_$F4:function(){return this.$5t},get_$21S:function(){return this.$b9||(this.$b9=this.$5t.get_$I(0),this.$2Yf=0),this.$b9},get_$3BF:function(){return this.$1th},$1dQ:null,$5t:null,$b9:null,$1th:null,$A:null};ProcessControl.Reflow.$M8=function(n,t){this.$5t=t;this.$A=n};ProcessControl.Reflow.$M8.prototype={$zD:function(){this.get_$2Ym().$zD();this.$5t=this.get_$2Ym().get_$F4()},get_$CU:function(){return this.$UU||(this.$UU=new Array(0)),this.$UU},set_$CU:function(n){return this.$UU=n,n},get_$F4:function(){return this.$5t},get_$3BE:function(){return this.$1JO.get_$3BF()},get_$2Ym:function(){return this.$1JO||(this.$1JO=new ProcessControl.Reflow.$M9(this.$A,this.$5t,this.get_$CU())),this.$1JO},$UU:null,$5t:null,$1JO:null,$A:null};ProcessControl.Reflow.$Pg=function(n){ProcessControl.Reflow.$Pg.initializeBase(this,[n])};ProcessControl.Reflow.$Pg.prototype={$2pT:function(){var n=String.format("bpf_{0}",this.$3Pg(this.$1JK.stageId));this.$A.get_$kc().$2gS(n)},$3Pg:function(n){if(Microsoft.Crm.Workflow.Utils.$e.$9(n))return n;for(n=Microsoft.Crm.Workflow.Utils.$e.$9A(n);n.indexOf("-")>-1;)n=n.replace("-","");return n}};ProcessControl.Reflow.$Pf=function(n){ProcessControl.Reflow.$Pf.initializeBase(this,[n])};ProcessControl.Reflow.$Pf.prototype={$2pT:function(){var i=Microsoft.Crm.Workflow.Utils.$e.$9A(this.$1JK.stageId),r=this.$A.get_$8B().get_$1kO()[i],n,t,u;r&&(n=r.$2rr(),t=null,n&&n.steps.get_Count()>0&&(u=n.steps.get_$I(0),t=u.stageId),this.invokeReflowFunction(i,t))},invokeReflowFunction:function(n,t){ProcessControl.Reflow.$Cb.$2gT(!1,n,t)}};ProcessControl.Reflow.$M5=function(n){this.$A=n};ProcessControl.Reflow.$M5.prototype={set_$3Uj:function(n){return this.$1JK=n,n},$3W9:function(){var n=Microsoft.Crm.Workflow.Utils.$e.$9A(this.$1JK.stageId),t=this.$A.get_$8B().get_$1kO()[n];return Microsoft.Crm.Workflow.Utils.$e.$28(t)?!1:(this.$2pT(),!0)},$1JK:null,$A:null};ProcessControl.Reflow.$M2=function(){};ProcessControl.Reflow.$M2.prototype={$34X:function(n,t){var i=n.get_$8B().get_$oJ()[Microsoft.Crm.Workflow.Utils.$e.$9A(t.stageId)];return n.get_$1Q0()!==i.get_EntityLogicalName()?new ProcessControl.Reflow.$Pf(n):new ProcessControl.Reflow.$Pg(n)}};ProcessControl.Reflow.$M1=function(n,t){this.$24=new Sys.EventHandlerList;this.$A=t;this.$ip=n;this.$37Y()};ProcessControl.Reflow.$M1.prototype={add_$2AU:function(n){this.$24.addHandler("DefauiltPathChanged",n)},remove_$2AU:function(n){this.$24.removeHandler("DefauiltPathChanged",n)},add_$1lu:function(n){this.$24.addHandler("DefauiltPathInitialized",n)},remove_$1lu:function(n){this.$24.removeHandler("DefauiltPathInitialized",n)},$1ra:function(){var n,i,t;if(!this.$ip.get_$Zf()||!this.$A.get_$kc().get_$Zf()){n=this;i=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$ip.get_$2Zh(),this.$A.get_$kc().get_$26Y()).then(function(){n.$1ra()},function(){});return}t=this.$5t.get_$lR();this.$38B();this.$37p(!1);this.$AI("DefauiltPathInitialized");t!==this.$5t.get_$lR()&&this.$AI("DefauiltPathChanged")},$3Wn:function(n,t){var i,r;Microsoft.Crm.Workflow.Utils.$e.$9(n)||(i=null,this.$A.get_$12G()!=="internal"&&(i=this.$5t.get_$lR()),this.get_$1tt().$3J7(new ProcessControl.Reflow.$Ph(n,t)),this.$A.get_$12G()!=="internal"&&(r=this.$5t.get_$lR(),i!==r&&this.$AI("DefauiltPathChanged")))},get_$F4:function(){return this.$5t.get_$F4()},get_$lR:function(){return this.$5t.get_$lR()},$Ja:function(n){var t=this.get_$F4(),i=Array.indexOf(t,Microsoft.Crm.Workflow.Utils.$e.$9A(n));return i!==-1&&i<t.length-1?t[i+1]:null},$W4:function(n){var t=this.get_$F4(),i=Array.indexOf(t,Microsoft.Crm.Workflow.Utils.$e.$9A(n));return i<=0?null:t[i-1]},get_$1tt:function(){return this.$Q1||(this.$Q1=new ProcessControl.Reflow.$M4),this.$Q1},get_$1XC:function(){return this.$1XB||(this.$1XB=new ProcessControl.Reflow.$MJ(this.$A,this.$5t)),this.$1XB},get_$1iK:function(){return this.$1NZ||(this.$1NZ=new ProcessControl.Reflow.$MK(this.$A,this.get_$1tt(),this.$5t)),this.$1NZ},get_$3Pe:function(){return this.$1bb||(this.$1bb=new ProcessControl.Reflow.$M6(this.$A,this.get_$1tt(),this.$5t)),this.$1bb},get_$Ns:function(){return this.$A},get_$1eF:function(){return this.$ip},$AI:function(n){var t=this.$24.getHandler(n);t&&t(this,null)},$37Y:function(){var n,r;this.$5t=new ProcessControl.Reflow.$MD;var u=this.$A.get_$8B().get_$2sH(),t=0,i=u;for(n in i)r={key:n,value:i[n]},this.$5t.set_$I(t,new ProcessControl.Reflow.$PG(r.key)),t++},$38B:function(){if(!this.$ip.get_$Zf()||!this.$A.get_$kc().get_$Zf()){var n=this,t=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$ip.get_$2Zh(),this.$A.get_$kc().get_$26Y()).then(function(){n.$1ra()},function(){});return}this.get_$1XC().set_$CU(this.$ip.get_$CU());this.get_$1XC().$zD();this.$5t=this.get_$1XC().get_$F4()},$37p:function(n){if(this.$ip.get_$Zf()){var t=this.$5t.get_$lR();this.get_$1iK().set_$21S(this.get_$1XC().get_$3BC());this.get_$1iK().$zD();this.$5t=this.get_$1iK().get_$F4();n&&t!==this.$5t.get_$lR()&&this.$AI("DefauiltPathChanged");this.get_$3Pe().$zD()}},$5t:null,$Q1:null,$A:null,$1XB:null,$1NZ:null,$1bb:null,$ip:null};ProcessControl.Reflow.$M4=function(){};ProcessControl.Reflow.$M4.prototype={$3J7:function(n){this.$1UH&&!Microsoft.Crm.Workflow.Utils.$e.$9(n.$oL)&&this.$1UH.$35Y(n.$oL,n.$ub)},set_$2KU:function(n){return this.$1UH=n,n},$1UH:null};ProcessControl.Reflow.$M3=function(n,t,i){this.$5t=t;this.$1jT=i;this.$A=n};ProcessControl.Reflow.$M3.prototype={$35Y:function(n,t){var u=this.$5t.$1Rs(n,!1),i,r;u&&(i=Microsoft.Crm.Workflow.Utils.$e.$9(t)?null:t,r=new ProcessControl.Reflow.$PG(i),this.$5t.$1hz(u,r),i&&this.$1eH(r))},$1eH:function(n){var i,t,r;if(n&&(i=n.get_$2O(),i)&&!this.$3WA(n)){if(t=this.$A.$2Ji(i).nextStageId,!t)return;if(r=this.$5t.$1Rs(t,!0),r){this.$1jT&&this.$1eH(r);return}this.$5t.$1hz(n,new ProcessControl.Reflow.$PG(t));this.triggerSubsequentDefaultPathCalculationInternal(n.get_$Wa())}},triggerSubsequentDefaultPathCalculationInternal:function(n){this.$1eH(n)},get_$2g7:function(){return this.$1OW||(this.$1OW=new ProcessControl.Reflow.$M2),this.$1OW},$3WA:function(n){var r=this.$A.get_$12G(),t,i;try{return(this.$A.set_$12G("internal"),t=this.$A.$2Ji(n.get_$2O()),i=this.get_$2g7().$34X(this.$A,t),i.set_$3Uj(t),!i.$3W9())?!1:n.get_$Wa()?!0:!1}finally{this.$A.set_$12G(r)}},$5t:null,$1jT:!1,$1OW:null,$A:null};ProcessControl.Reflow.$Ph=function(n,t){ProcessControl.Reflow.$Ph.initializeBase(this);this.$ub=t;this.$oL=n};ProcessControl.Reflow.$Ph.prototype={$ub:null,$oL:null};ProcessControl.Reflow.$MA=function(){};ProcessControl.Reflow.$MA.prototype={get_$12G:function(){return this.$1s6},set_$12G:function(n){return this.$1s6=n,n},set_$23h:function(n){return this.$2bM=n,n},get_$1Q0:function(){return this.$1lS},set_$1Q0:function(n){return this.$1lS=n,n},get_$kc:function(){return this.$1jD},set_$kc:function(n){return this.$1jD=n,n},$2Ji:function(n){if(Microsoft.Crm.Workflow.Utils.$e.$9(n))return null;var t=this.$21Q[Microsoft.Crm.Workflow.Utils.$e.$9A(n)];return Microsoft.Crm.Workflow.Utils.$e.$28(t)?null:t},get_$8B:function(){return this.$M6||(this.$M6=new ProcessObjectModel.Visitors.$Ih),this.$M6},set_$8B:function(n){return this.$M6=n,this.$21Q=this.$M6.get_$b7(),n},$1s6:null,$21Q:null,$2bM:null,$1lS:null,$M6:null,$1jD:null};ProcessControl.Reflow.$B5=function(n){this.$An=this.$$gta["ProcessControl.Reflow.$B5"].T===Number||Type.isEnum(this.$$gta["ProcessControl.Reflow.$B5"].T)?0:this.$$gta["ProcessControl.Reflow.$B5"].T===Boolean?!1:null;this.$An=n;this.$1Y0=null};ProcessControl.Reflow.$B5.$$=function(n){var t="$B5$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!ProcessControl.Reflow[t]){r=ProcessControl.Reflow[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["ProcessControl.Reflow.$B5"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];ProcessControl.Reflow.$B5.apply(this,i)};r.registerClass("ProcessControl.Reflow."+t,null,ProcessControl.Reflow.$Aj.$$(n));u=ProcessControl.Reflow.$B5.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return ProcessControl.Reflow[t]};ProcessControl.Reflow.$B5.prototype={get_$Wa:function(){return this.$1Y0},set_$Wa:function(n){return this.$1Y0=n,n},get_$2O:function(){return this.$An},$1Y0:null};ProcessControl.Reflow.$MD=function(){this.$hc=new Array(0);this.$1bV=new Array(0);this.$1Wo=new Date};ProcessControl.Reflow.$MD.prototype={$1Rs:function(n,t){var u,r,i;if(n=Microsoft.Crm.Workflow.Utils.$e.$9A(n),t)return(u=Array.indexOf(this.$1bV,n),u!==-1)?this.$hc[u]:null;for(r=0;r<this.$hc.length;r++){if(i=this.$hc[r],i.get_$2O()===n)return i;while(i.get_$Wa())if(i=i.get_$Wa(),i.get_$2O()===n)return i}return null},get_$I:function(n){return this.$hc[n]},set_$I:function(n,t){return this.$1FR=!1,this.$hc[n]=t,this.$1bV[n]=t.get_$2O(),t},$1hz:function(n,t){if(this.$1Rs(t.get_$2O(),!0)){this.$24e(n,new ProcessControl.Reflow.$PG(null));return}this.$24e(n,t)},get_$F4:function(){return this.$2Bb(),this.$s9},get_$lR:function(){return this.$2Bb(),this.$1Wo.getTime().toString()},$24e:function(n,t){t.set_$2o(this);n.set_$Wa(t);this.$1FR=!1},$2Bb:function(){this.$1FR||(this.$s9=this.$3LL(),this.$1FR=!0,this.$1Wo=new Date)},$3LL:function(){var t,n,i;for(this.$s9=new Array(0),t=0;t<this.$hc.length;t++)for(n=this.$hc[t],Array.add(this.$s9,n.get_$2O());n.get_$Wa();)i=n.get_$Wa(),i.get_$2O()&&Array.add(this.$s9,i.get_$2O()),n=i;return this.$s9},$hc:null,$1FR:!1,$1Wo:null,$s9:null,$1bV:null};ProcessControl.Reflow.$PG=function(n){ProcessControl.Reflow.$PG.initializeBase(this,[Microsoft.Crm.Workflow.Utils.$e.$9A(n)])};ProcessControl.Reflow.$PG.prototype={set_$2o:function(n){return this.$30=n,n},$30:null};ProcessControl.Reflow.$MF=function(n){this.$$d_$3Fa=Function.createDelegate(this,this.$3Fa);this.$3J=n;this.$3J.AddPropertyChangedListener("GlobalPathAndActiveStage",this.$$d_$3Fa);this.$16r=MscrmComponents.DeferredPromiseFactory(String,Object)};ProcessControl.Reflow.$MF.prototype={get_$Zf:function(){return this.$16r.isResolved()},get_$2Zh:function(){return $0.$1(this.$1eE)&&(this.$1eE=this.$16r.promise()),this.$1eE},get_$CU:function(){return this.$UU},$3Fa:function(n,t){if(t==="GlobalPathAndActiveStage"){var i=this.$3J.$GV;this.$16r.isResolved()||$0.$1(i)||$0.$1(i.get_$CU())||Microsoft.Crm.Client.Core.Framework.$3.$9(i.get_$CU().get_$Gb())||(this.$3J.RemovePropertyChangedListener("GlobalPathAndActiveStage",this.$$d_$3Fa),this.$UU=i.get_$CU().get_$Gb(),this.$16r.resolve(this.$UU))}},$3J:null,$16r:null,$1eE:null,$UU:null};ProcessControl.Reflow.$ME=function(){this.$$d_$3Ec=Function.createDelegate(this,this.$3Ec);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().add_$wY(this.$$d_$3Ec);this.$1A4=MscrmComponents.DeferredPromiseFactory(Object,Object)};ProcessControl.Reflow.$ME.prototype={get_$Zf:function(){return this.$1A4.isResolved()},get_$26Y:function(){return this.$1A4.promise()},$2gS:function(n){var i=new Microsoft.Crm.Client.Core.Models.Constants.$Jo(n),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$Jo));t.add(i);Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$BX(new Microsoft.Crm.Client.Core.Models.$JM(t,null))},$3Ec:function(){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().remove_$wY(this.$$d_$3Ec);this.$1A4.resolve(null)},$1A4:null};ProcessControl.Reflow.$Cb=function(){};ProcessControl.Reflow.$Cb.$2gT=function(n,t,i){var r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();r.ui.process.reflow(n,t,i)};Type.registerNamespace("Xrm.Interfaces.Services");Xrm.Interfaces.Services.IMostRecentlyViewedService=function(){};Xrm.Interfaces.Services.IMostRecentlyViewedService.registerInterface("Xrm.Interfaces.Services.IMostRecentlyViewedService");Type.registerNamespace("Xrm.Objects");Xrm.Objects.RecentlyViewedItem=function(){};Xrm.Objects.RecentlyViewedItem.prototype={objectId:null,displayName:null,title:null,iconPath:null,action:null,pinStatus:!1,type:0,entityTypeCode:0,lastAccessed:null,clone:function(){var n=new Xrm.Objects.RecentlyViewedItem;return n.objectId=this.objectId,n.displayName=this.displayName,n.title=this.title,n.iconPath=this.iconPath,n.action=this.action,n.pinStatus=this.pinStatus,n.type=this.type,n.entityTypeCode=this.entityTypeCode,n.lastAccessed=this.lastAccessed,n}};Type.registerNamespace("ProcessControl.ClientApi");ProcessControl.ClientApi.$MB=function(n){this.$An=n};ProcessControl.ClientApi.$MB.prototype={$An:0,getValue:function(){return this.$An===-1?null:this.$An}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Events");Microsoft.Crm.Client.Core.ViewModels.Events.$MC=function(n,t,i,r){this.$1Vb=this.isDefaultPrevented;this.$sH=n;this.$iN=t;this.$1xW=i;this.$C0=r};Microsoft.Crm.Client.Core.ViewModels.Events.$MC.prototype={$sH:null,$iN:null,$1xW:null,$C0:null,$108:!1,getDirection:function(){return this.$sH},getStage:function(){return this.$iN},getPreviousStage:function(){return this.$1xW},getStatus:function(){return this.$C0},isDefaultPrevented:function(){return this.$108},preventDefault:function(){this.$108=!0}};Microsoft.Crm.Client.Core.ViewModels.Events.$PA=function(n){Microsoft.Crm.Client.Core.ViewModels.Events.$PA.initializeBase(this);this.$Jd=n};Microsoft.Crm.Client.Core.ViewModels.Events.$PA.prototype={$Jd:!1};Mscrm.EntityReference.registerClass("Mscrm.EntityReference");Mscrm.CrmUri.registerClass("Mscrm.CrmUri");Xrm.KBSearchResult.registerClass("Xrm.KBSearchResult");Xrm.AlertDialogStrings.registerClass("Xrm.AlertDialogStrings");Xrm.ConfirmDialogStrings.registerClass("Xrm.ConfirmDialogStrings");Xrm.XrmEntityRelationship.registerClass("Xrm.XrmEntityRelationship");Xrm.FormDataAttributePrivilege.registerClass("Xrm.FormDataAttributePrivilege");Xrm.LookupOptions.registerClass("Xrm.LookupOptions");Xrm.OptionSetItem.registerClass("Xrm.OptionSetItem");Xrm.SaveOptions.registerClass("Xrm.SaveOptions");Xrm.XrmPanelUtilityWrapper.registerClass("Xrm.XrmPanelUtilityWrapper",Xrm.$NT);Xrm.XrmControlBase.registerClass("Xrm.XrmControlBase",null,Xrm.IXrmCollectionItem);Xrm.XrmControl.registerClass("Xrm.XrmControl",Xrm.XrmControlBase);Xrm.XrmTimerControl.registerClass("Xrm.XrmTimerControl",Xrm.XrmControl);Xrm.NotificationLevels.registerClass("Xrm.NotificationLevels");Xrm.JavaScriptConsoleTraceListener.registerClass("Xrm.JavaScriptConsoleTraceListener",null,Xrm.Interfaces.IXrmTraceListener);Xrm.ScopedServiceDirectory.registerClass("Xrm.ScopedServiceDirectory",null,Xrm.Interfaces.IServiceDirectory,Sys.IDisposable);Xrm.StringBuilderTraceListener.registerClass("Xrm.StringBuilderTraceListener",null,Xrm.Interfaces.IXrmTraceListener);Xrm.XrmSdkMessages.registerClass("Xrm.XrmSdkMessages");Xrm.XrmServiceDirectory.registerClass("Xrm.XrmServiceDirectory",null,Xrm.Interfaces.IServiceDirectory,Sys.IDisposable);Xrm.XrmTrace.registerClass("Xrm.XrmTrace",null,Xrm.Interfaces.IXrmTrace);Xrm.XrmEntityAttribute.registerClass("Xrm.XrmEntityAttribute",null,Xrm.IXrmCollectionItem);Xrm.XrmEntityAttributeOptionSetBase.registerClass("Xrm.XrmEntityAttributeOptionSetBase",Xrm.XrmEntityAttribute);Xrm.XrmEntityAttributeBoolean.registerClass("Xrm.XrmEntityAttributeBoolean",Xrm.XrmEntityAttributeOptionSetBase);Xrm.XrmEntityAttributeDateTime.registerClass("Xrm.XrmEntityAttributeDateTime",Xrm.XrmEntityAttribute);Xrm.XrmEntityAttributeLookup.registerClass("Xrm.XrmEntityAttributeLookup",Xrm.XrmEntityAttribute);Xrm.XrmEntityAttributeNumber.registerClass("Xrm.XrmEntityAttributeNumber",Xrm.XrmEntityAttribute);Xrm.XrmEntityAttributeOptionSet.registerClass("Xrm.XrmEntityAttributeOptionSet",Xrm.XrmEntityAttributeOptionSetBase);Xrm.XrmEntityAttributeString.registerClass("Xrm.XrmEntityAttributeString",Xrm.XrmEntityAttribute);Xrm.XrmBusinessProcessFlow.registerClass("Xrm.XrmBusinessProcessFlow");Xrm.OfflineErrorResponse.registerClass("Xrm.OfflineErrorResponse",Xrm.ErrorResponse);Xrm.XrmProcessStage.registerClass("Xrm.XrmProcessStage",null,Xrm.IXrmCollectionItem);Xrm.XrmProcessStep.registerClass("Xrm.XrmProcessStep",null,Xrm.IXrmCollectionItem);Xrm.XrmEntity.registerClass("Xrm.XrmEntity",null,Xrm.IXrmCollectionItem);Xrm.XrmProcessControlData.registerClass("Xrm.XrmProcessControlData");Xrm.$Mu.registerClass("Xrm.$Mu");Xrm.Offline.registerClass("Xrm.Offline");Xrm.FormNotificationOptions.registerClass("Xrm.FormNotificationOptions");Xrm.XrmTab.registerClass("Xrm.XrmTab",Xrm.XrmControlBase);Xrm.$PZ.registerClass("Xrm.$PZ",Xrm.XrmControlBase);Xrm.$Pa.registerClass("Xrm.$Pa",Xrm.XrmControlBase);Xrm.XrmTabSection.registerClass("Xrm.XrmTabSection",Xrm.XrmControlBase);Xrm.XrmControlACI.registerClass("Xrm.XrmControlACI",Xrm.XrmControl);Xrm.XrmChart.registerClass("Xrm.XrmChart");Xrm.XrmControlButton.registerClass("Xrm.XrmControlButton",Xrm.XrmControl);Xrm.XrmDataControl.registerClass("Xrm.XrmDataControl",Xrm.XrmControl);Xrm.XrmControlDateTime.registerClass("Xrm.XrmControlDateTime",Xrm.XrmDataControl);Xrm.XrmControlFormSelector.registerClass("Xrm.XrmControlFormSelector");Xrm.XrmControlGrid.registerClass("Xrm.XrmControlGrid");Xrm.XrmControlWebResource.registerClass("Xrm.XrmControlWebResource",Xrm.XrmControl);Xrm.XrmControlIFrame.registerClass("Xrm.XrmControlIFrame",Xrm.XrmControlWebResource);Xrm.XrmControlLookup.registerClass("Xrm.XrmControlLookup",Xrm.XrmDataControl);Xrm.XrmControlOptionSet.registerClass("Xrm.XrmControlOptionSet",Xrm.XrmDataControl);Xrm.XrmControlSearchWidget.registerClass("Xrm.XrmControlSearchWidget",Xrm.XrmControl);Xrm.XrmControlSilverlight.registerClass("Xrm.XrmControlSilverlight",Xrm.XrmControlWebResource);Xrm.XrmControlSubGrid.registerClass("Xrm.XrmControlSubGrid",Xrm.XrmControl,Xrm.Interfaces.IXrmSubGridControl,Xrm.Interfaces.IXrmGridControl);Xrm.XrmControlText.registerClass("Xrm.XrmControlText",Xrm.XrmDataControl);Xrm.XrmControlQuickForm.registerClass("Xrm.XrmControlQuickForm",Xrm.XrmControl);Xrm.XrmGridData.registerClass("Xrm.XrmGridData");Xrm.XrmGridFilter.registerClass("Xrm.XrmGridFilter");Xrm.XrmGridRow.registerClass("Xrm.XrmGridRow",null,Xrm.IXrmCollectionItem);Xrm.XrmNavigation.registerClass("Xrm.XrmNavigation");Xrm.XrmProcessControlUI.registerClass("Xrm.XrmProcessControlUI");Xrm.XrmTaskProcess.registerClass("Xrm.XrmTaskProcess");Xrm.XrmViewSelector.registerClass("Xrm.XrmViewSelector");Xrm.XrmFormData.registerClass("Xrm.XrmFormData");Xrm.XrmFormUI.registerClass("Xrm.XrmFormUI",null,Sys.IDisposable);Xrm.XrmDialog.registerClass("Xrm.XrmDialog");Xrm.XrmInternal.registerClass("Xrm.XrmInternal");Xrm.XrmControls.registerClass("Xrm.XrmControls",Xrm.XrmCollection$1.$$(Xrm.XrmControl));Xrm.XrmEntityAttributes.registerClass("Xrm.XrmEntityAttributes",Xrm.XrmCollection$1.$$(Xrm.XrmEntityAttribute));Xrm.XrmEntities.registerClass("Xrm.XrmEntities",Xrm.XrmCollection$1.$$(Xrm.XrmEntity));Xrm.XrmFormSelectorItem.registerClass("Xrm.XrmFormSelectorItem",null,Xrm.IXrmCollectionItem);Xrm.XrmFormSelectorItems.registerClass("Xrm.XrmFormSelectorItems",Xrm.XrmCollection$1.$$(Xrm.XrmFormSelectorItem));Xrm.XrmGridRows.registerClass("Xrm.XrmGridRows",Xrm.XrmCollection$1.$$(Xrm.XrmGridRow));Xrm.XrmNavigationItem.registerClass("Xrm.XrmNavigationItem",null,Xrm.IXrmCollectionItem);Xrm.XrmNavigationItems.registerClass("Xrm.XrmNavigationItems",Xrm.XrmCollection$1.$$(Xrm.XrmNavigationItem));Xrm.XrmRelatedEntities.registerClass("Xrm.XrmRelatedEntities",Xrm.XrmCollectionDictionary$1.$$(Xrm.XrmEntity));Xrm.XrmTabs.registerClass("Xrm.XrmTabs",Xrm.XrmCollection$1.$$(Xrm.XrmTab));Xrm.XrmTabNavigators.registerClass("Xrm.XrmTabNavigators",Xrm.XrmCollection$1.$$(Xrm.$PZ));Xrm.XrmTabSections.registerClass("Xrm.XrmTabSections",Xrm.XrmCollection$1.$$(Xrm.XrmTabSection));Xrm.XrmQuickForms.registerClass("Xrm.XrmQuickForms",Xrm.XrmCollection$1.$$(Xrm.XrmControlQuickForm));Xrm.AttributeFormat.registerClass("Xrm.AttributeFormat");Xrm.AttributeType.registerClass("Xrm.AttributeType");Xrm.ClientName.registerClass("Xrm.ClientName");Xrm.ClientState.registerClass("Xrm.ClientState");Xrm.ClientStates.registerClass("Xrm.ClientStates");Xrm.ControlType.registerClass("Xrm.ControlType");Xrm.FormSaveAction.registerClass("Xrm.FormSaveAction");Xrm.LookupStyle.registerClass("Xrm.LookupStyle");Xrm.NotificationLevel.registerClass("Xrm.NotificationLevel");Xrm.RequiredLevel.registerClass("Xrm.RequiredLevel");Xrm.SubmitMode.registerClass("Xrm.SubmitMode");Xrm.TabDisplayState.registerClass("Xrm.TabDisplayState");Xrm.MetricsStopwatch.registerClass("Xrm.MetricsStopwatch");Xrm.Dialog.registerClass("Xrm.Dialog");Xrm.Internal.registerClass("Xrm.Internal");Xrm.Page.registerClass("Xrm.Page");Xrm.Mobile.registerClass("Xrm.Mobile");Xrm.$81.registerClass("Xrm.$81");Xrm.$OH.registerClass("Xrm.$OH",Xrm.XrmBusinessProcessFlow);Xrm.$OE.registerClass("Xrm.$OE",Xrm.XrmProcessStage);Xrm.$OD.registerClass("Xrm.$OD",Xrm.XrmProcessStep);Xrm.XrmChartWrapper.registerClass("Xrm.XrmChartWrapper",Xrm.XrmChart);Xrm.XrmControlFormSelectorWrapper.registerClass("Xrm.XrmControlFormSelectorWrapper",Xrm.XrmControlFormSelector);Xrm.XrmInternalWrapper.registerClass("Xrm.XrmInternalWrapper",Xrm.XrmInternal);Xrm.XrmInternalWrapper.$3ba.registerClass("Xrm.XrmInternalWrapper.$3ba");Xrm.DateTimeUtility.registerClass("Xrm.DateTimeUtility");Xrm.XrmControlGridWrapper.registerClass("Xrm.XrmControlGridWrapper",Xrm.XrmControlGrid);Xrm.$Cc.registerClass("Xrm.$Cc",Microsoft.Crm.Client.Core.Framework.$70);Xrm.XrmUtilityWrapper.registerClass("Xrm.XrmUtilityWrapper",Xrm.XrmUtility);Xrm.XrmDialogWrapper.registerClass("Xrm.XrmDialogWrapper",Xrm.XrmDialog);Xrm.XrmViewSelectorWrapper.registerClass("Xrm.XrmViewSelectorWrapper",Xrm.XrmViewSelector);Xrm.$Oq.registerClass("Xrm.$Oq",Xrm.XrmGridData);Xrm.$Or.registerClass("Xrm.$Or",Xrm.XrmEntityAttribute);Xrm.$Ou.registerClass("Xrm.$Ou",Xrm.XrmEntity);Xrm.$Ot.registerClass("Xrm.$Ot",Xrm.XrmGridFilter);Xrm.$Os.registerClass("Xrm.$Os",Xrm.XrmGridRow);Mscrm.InternalUtilities.GridUtilities.registerClass("Mscrm.InternalUtilities.GridUtilities");Mscrm.InternalUtilities.ClientApiUtility.registerClass("Mscrm.InternalUtilities.ClientApiUtility");Mscrm.InternalUtilities._Script.registerClass("Mscrm.InternalUtilities._Script");Microsoft.Crm.Client.Core.Models.$6s.registerClass("Microsoft.Crm.Client.Core.Models.$6s");Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowArgument.registerClass("Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowArgument");Microsoft.Crm.Client.Core.ViewModels.$EJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EJ",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$EL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EL",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$4D.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4D");Microsoft.Crm.Client.Core.ViewModels.$5q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5q");Microsoft.Crm.Client.Core.ViewModels.$Cz.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cz",Xrm.XrmDataControl,Microsoft.Crm.Client.Core.ViewModels.$Ah,Microsoft.Crm.Client.Core.ViewModels.$Dl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh);Microsoft.Crm.Client.Core.ViewModels.$D1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D1",Xrm.XrmDataControl,Microsoft.Crm.Client.Core.ViewModels.$Ah,Microsoft.Crm.Client.Core.ViewModels.$Dl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh);Microsoft.Crm.Client.Core.ViewModels.$EP.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EP",Xrm.XrmControlSubGrid,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$EE,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh,Microsoft.Crm.Client.Core.ViewModels.$Ah);Microsoft.Crm.Client.Core.ViewModels.$U8.registerClass("Microsoft.Crm.Client.Core.ViewModels.$U8",Microsoft.Crm.Client.Core.ViewModels.$EP);Microsoft.Crm.Client.Core.ViewModels.$RI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RI",Xrm.XrmEntityAttribute);Microsoft.Crm.Client.Core.ViewModels.$Ta.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ta",Xrm.XrmEntityAttributeBoolean);Microsoft.Crm.Client.Core.ViewModels.$Tb.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Tb",Xrm.XrmEntityAttributeOptionSet);Microsoft.Crm.Client.Core.ViewModels.$SW.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SW",Xrm.XrmEntityAttributeDateTime);Microsoft.Crm.Client.Core.ViewModels.$RJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RJ",Xrm.XrmEntity,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$Tc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Tc",Xrm.XrmTimerControl,Microsoft.Crm.Client.Core.ViewModels.$Dl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh);Microsoft.Crm.Client.Core.ViewModels.$RG.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RG",Xrm.XrmNavigationItem);Microsoft.Crm.Client.Core.ViewModels.$RH.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RH",Xrm.XrmNavigation);Microsoft.Crm.Client.Core.ViewModels.$Lb.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lb",null,Microsoft.Crm.Client.Core.ViewModels.$HS);Microsoft.Crm.Client.Core.ViewModels.$La.registerClass("Microsoft.Crm.Client.Core.ViewModels.$La",null,Microsoft.Crm.Client.Core.ViewModels.$HS);Microsoft.Crm.Client.Core.ViewModels.$Ld.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ld",null,Microsoft.Crm.Client.Core.ViewModels.$HS);Microsoft.Crm.Client.Core.ViewModels.$Lc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lc",null,Microsoft.Crm.Client.Core.ViewModels.$HS);Microsoft.Crm.Client.Core.ViewModels.$LN.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LN",null,Microsoft.Crm.Client.Core.ViewModels.$HS);Microsoft.Crm.Client.Core.ViewModels.$LM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LM",null,Microsoft.Crm.Client.Core.ViewModels.$HS);Microsoft.Crm.Client.Core.ViewModels.$5a.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5a");Microsoft.Crm.Client.Core.ViewModels.$LO.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LO",null,Microsoft.Crm.Client.Core.ViewModels.$HS);Microsoft.Crm.Client.Core.ViewModels.$LL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LL",null,Microsoft.Crm.Client.Core.ViewModels.$HS);Microsoft.Crm.Client.Core.ViewModels.$LJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LJ",null,Microsoft.Crm.Client.Core.ViewModels.$HS);Microsoft.Crm.Client.Core.ViewModels.$TU.registerClass("Microsoft.Crm.Client.Core.ViewModels.$TU",Xrm.XrmDataControl,Microsoft.Crm.Client.Core.ViewModels.$Ah,Microsoft.Crm.Client.Core.ViewModels.$Dl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh);Microsoft.Crm.Client.Core.ViewModels.$U7.registerClass("Microsoft.Crm.Client.Core.ViewModels.$U7",Microsoft.Crm.Client.Core.ViewModels.$TU);Microsoft.Crm.Client.Core.ViewModels.$Te.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Te",Xrm.XrmDataControl,Microsoft.Crm.Client.Core.ViewModels.$Dl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh);Microsoft.Crm.Client.Core.ViewModels.$UA.registerClass("Microsoft.Crm.Client.Core.ViewModels.$UA",Xrm.XrmControlText,Microsoft.Crm.Client.Core.ViewModels.$Dl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh);Microsoft.Crm.Client.Core.ViewModels.$Td.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Td",Xrm.XrmControlSearchWidget,Microsoft.Crm.Client.Core.ViewModels.$Dl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh);Microsoft.Crm.Client.Core.ViewModels.$LI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LI");Microsoft.Crm.Client.Core.ViewModels.$LK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LK");Microsoft.Crm.Client.Core.ViewModels.$LU.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LU");Microsoft.Crm.Client.Core.ViewModels.$97.registerClass("Microsoft.Crm.Client.Core.ViewModels.$97",Microsoft.Crm.Client.Core.ViewModels.$LU);Microsoft.Crm.Client.Core.ViewModels.$98.registerClass("Microsoft.Crm.Client.Core.ViewModels.$98",null,Microsoft.Crm.Client.Core.Framework.$HQ.$$(Microsoft.Crm.Client.Core.ViewModels.$97));Microsoft.Crm.Client.Core.ViewModels.$LP.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LP");Microsoft.Crm.Client.Core.ViewModels.$Bs.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bs");Microsoft.Crm.Client.Core.ViewModels.$LT.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LT",null,Xrm.Interfaces.IKnowledgeArticle);Microsoft.Crm.Client.Core.ViewModels.$RA.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RA",Microsoft.Crm.Client.Core.ViewModels.$4j);Microsoft.Crm.Client.Core.ViewModels.$A7.registerClass("Microsoft.Crm.Client.Core.ViewModels.$A7",Microsoft.Crm.Client.Core.ViewModels.$Ey,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Do);Microsoft.Crm.Client.Core.ViewModels.$AC.registerClass("Microsoft.Crm.Client.Core.ViewModels.$AC",Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$3B.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3B");Microsoft.Crm.Client.Core.ViewModels.$TY.registerClass("Microsoft.Crm.Client.Core.ViewModels.$TY",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.$LS.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LS");Microsoft.Crm.Client.Core.ViewModels.$UP.registerClass("Microsoft.Crm.Client.Core.ViewModels.$UP",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel",Microsoft.Crm.Client.Core.ViewModels.$Uj);Microsoft.Crm.Client.Core.ViewModels.$Bp.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bp",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo");Microsoft.Crm.Client.Core.ViewModels.$7X.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7X",Microsoft.Crm.Client.Core.ViewModels.$US);Microsoft.Crm.Client.Core.ViewModels.$Cv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cv",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$LQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LQ");Microsoft.Crm.Client.Core.ViewModels.$DQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DQ",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$V8.registerClass("Microsoft.Crm.Client.Core.ViewModels.$V8",Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$VH.registerClass("Microsoft.Crm.Client.Core.ViewModels.$VH",Microsoft.Crm.Client.Core.ViewModels.$V8);Microsoft.Crm.Client.Core.ViewModels.$VD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$VD",Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$y.registerClass("Microsoft.Crm.Client.Core.ViewModels.$y");Microsoft.Crm.Client.Core.ViewModels.$UO.registerClass("Microsoft.Crm.Client.Core.ViewModels.$UO",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$7Z.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7Z",Microsoft.Crm.Client.Core.ViewModels.$UO,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$84);Microsoft.Crm.Client.Core.ViewModels.$LR.registerClass("Microsoft.Crm.Client.Core.ViewModels.$LR");Microsoft.Crm.Client.Core.ViewModels.$EI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EI",Microsoft.Crm.Client.Core.ViewModels.$Cv);Microsoft.Crm.Client.Core.ViewModels.$EK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EK",Microsoft.Crm.Client.Core.ViewModels.$DQ);Microsoft.Crm.Client.Core.ViewModels.$Ez.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ez",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$F0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$F0",Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$VC.registerClass("Microsoft.Crm.Client.Core.ViewModels.$VC",Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.$Et.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Et",Microsoft.Crm.Client.Core.ViewModels.$Uk,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem",Microsoft.Crm.Client.Core.ViewModels.List.$Ud);Microsoft.Crm.Client.Core.ViewModels.$9C.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9C",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.$DG,Microsoft.Crm.Client.Core.ViewModels.$He);Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$Hd,Microsoft.Crm.Client.Core.ViewModels.$HW,Microsoft.Crm.Client.Core.ViewModels.$Ab,Microsoft.Crm.Client.Core.ViewModels.$5E,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Core.ViewModels.$EC,Microsoft.Crm.Client.Core.ViewModels.$3X,Microsoft.Crm.Client.Core.ViewModels.$EH,Microsoft.Crm.Client.Core.ViewModels.$86,Microsoft.Crm.Client.Core.ViewModels.$Aw,Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Dr,Microsoft.Crm.Client.Core.OWAViewModels.Common.$Fo);Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel);Microsoft.Crm.Client.Core.ViewModels.$Lm.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lm");Microsoft.Crm.Client.Core.ViewModels.$Qr.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qr",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$ST.registerClass("Microsoft.Crm.Client.Core.ViewModels.$ST",Microsoft.Crm.Client.Core.ViewModels.$Qr);Microsoft.Crm.Client.Core.ViewModels.$Qq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qq",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qo.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qo",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qp.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qp",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qk",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qe.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qe",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$SJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SJ",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qf",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$SV.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SV",Microsoft.Crm.Client.Core.ViewModels.$Qr);Microsoft.Crm.Client.Core.ViewModels.$Qi.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qi",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qj.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qj",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qg.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qg",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$R0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R0",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qy.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qy",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qz.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qz",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$R4.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R4",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$R5.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R5",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$R2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R2",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$R3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R3",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qx.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qx",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qt.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qt",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qu.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qu",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qv",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qw.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qw",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$QD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$QD",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qs.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qs",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qh",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qd.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qd",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Qc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qc",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Lo.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lo");Microsoft.Crm.Client.Core.ViewModels.$Ln.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ln",null,Microsoft.Crm.Client.Core.ViewModels.$Hc);Microsoft.Crm.Client.Core.ViewModels.$F9.registerClass("Microsoft.Crm.Client.Core.ViewModels.$F9",Microsoft.Crm.Client.Core.ViewModels.$5M,Microsoft.Crm.Client.Core.Framework.$At,Microsoft.Crm.Client.Core.Framework.$EA);Microsoft.Crm.Client.Core.ViewModels.$6w.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6w");Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$DG);Microsoft.Crm.Client.Core.ViewModels.$50.registerClass("Microsoft.Crm.Client.Core.ViewModels.$50",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel);Microsoft.Crm.Client.Core.ViewModels.$AU.registerClass("Microsoft.Crm.Client.Core.ViewModels.$AU",Microsoft.Crm.Client.Core.ViewModels.$3M);Microsoft.Crm.Client.Core.ViewModels.$DU.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DU",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel",Microsoft.Crm.Client.Core.ViewModels.$5M,Microsoft.Crm.Client.Core.ViewModels.$85);Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$3bK.registerClass("Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$3bK");Microsoft.Crm.Client.Core.ViewModels.$RO.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RO",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$RN.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RN",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$RQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RQ",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$RP.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RP",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Pv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Pv",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$6M.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6M",Microsoft.Crm.Client.Core.ViewModels.$Pv);Microsoft.Crm.Client.Core.ViewModels.$Sp.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sp",Microsoft.Crm.Client.Core.ViewModels.$Pv);Microsoft.Crm.Client.Core.ViewModels.$RK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RK",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$RM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RM",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$RL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RL",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$RC.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RC",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$R7.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R7",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$R6.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R6",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$R9.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R9",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$R8.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R8",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Pz.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Pz",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Py.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Py",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Q1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Q1",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Q0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Q0",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Ll.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ll");Microsoft.Crm.Client.Core.ViewModels.$Pu.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Pu",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Px.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Px",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Pw.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Pw",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Q2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Q2",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Q6.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Q6",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Q5.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Q5",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Q8.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Q8",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$Q7.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Q7",Microsoft.Crm.Client.Core.ViewModels.$Lm);Microsoft.Crm.Client.Core.ViewModels.$o.registerClass("Microsoft.Crm.Client.Core.ViewModels.$o",Microsoft.Crm.Client.Core.Framework.$BN);Microsoft.Crm.Client.Core.ViewModels.$5c.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5c");Microsoft.Crm.Client.Core.ViewModels.$Uc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Uc",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.$Uq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Uq",Microsoft.Crm.Client.Core.ViewModels.$Uc);Microsoft.Crm.Client.Core.ViewModels.$Ur.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ur",Microsoft.Crm.Client.Core.ViewModels.$Uc);Microsoft.Crm.Client.Core.ViewModels.$Up.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Up",Microsoft.Crm.Client.Core.ViewModels.$Uc);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.registerClass("Microsoft.Crm.Client.Core.ViewModels.PerformanceReport");Microsoft.Crm.Client.Core.ViewModels.$Uo.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Uo",Microsoft.Crm.Client.Core.ViewModels.$Uc);Microsoft.Crm.Client.Core.ViewModels.$Ub.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ub",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel",Microsoft.Crm.Client.Core.ViewModels.$Uk);Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.$US);Microsoft.Crm.Client.Core.ViewModels.$Dx.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dx",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel",Microsoft.Crm.Client.Core.ViewModels.RootViewModel,Microsoft.Crm.Client.Core.ViewModels.$7W,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Core.ViewModels.$Hf);Microsoft.Crm.Client.Core.ViewModels.$7J.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7J",Xrm.XrmEntityAttribute,Microsoft.Crm.Client.Core.ViewModels.$Di);Microsoft.Crm.Client.Core.ViewModels.$Tl.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Tl",Xrm.XrmControlACI,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$EE,Microsoft.Crm.Client.Core.ViewModels.$Ah);Microsoft.Crm.Client.Core.ViewModels.$Cl.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cl",Xrm.XrmEntityAttributeBoolean,Microsoft.Crm.Client.Core.ViewModels.$Di);Microsoft.Crm.Client.Core.ViewModels.$Sr.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sr",Xrm.XrmEntityAttributeDateTime,Microsoft.Crm.Client.Core.ViewModels.$Di);Microsoft.Crm.Client.Core.ViewModels.$Sr.$3cV.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sr.$3cV",Microsoft.Crm.Client.Core.ViewModels.$7J);Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApiManager",null,Microsoft.Crm.Client.Core.ViewModels.$AX);Microsoft.Crm.Client.Core.ViewModels.$TV.registerClass("Microsoft.Crm.Client.Core.ViewModels.$TV",Xrm.XrmDataControl);Microsoft.Crm.Client.Core.ViewModels.$Lp.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lp");Microsoft.Crm.Client.Core.ViewModels.$UJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$UJ",Xrm.XrmControlDateTime,Microsoft.Crm.Client.Core.ViewModels.$Dl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh);Microsoft.Crm.Client.Core.ViewModels.$Pp.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Pp",Xrm.XrmControlBase);Microsoft.Crm.Client.Core.ViewModels.$4K.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4K",Xrm.XrmEntity,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$TQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$TQ",Xrm.XrmControlWebResource,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$EE,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh,Microsoft.Crm.Client.Core.ViewModels.$Ah);Microsoft.Crm.Client.Core.ViewModels.$Sw.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sw",Xrm.XrmControl,Microsoft.Crm.Client.Core.ViewModels.$Ah);Microsoft.Crm.Client.Core.ViewModels.$TQ.$3ce.registerClass("Microsoft.Crm.Client.Core.ViewModels.$TQ.$3ce",Microsoft.Crm.Client.Core.ViewModels.$Sw);Microsoft.Crm.Client.Core.ViewModels.$U2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$U2",Xrm.XrmControlIFrame,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$EE,Microsoft.Crm.Client.Core.ViewModels.$Ah);Microsoft.Crm.Client.Core.ViewModels.$E4.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E4",Xrm.XrmControlSubGrid,Microsoft.Crm.Client.Core.ViewModels.$Ah);Microsoft.Crm.Client.Core.ViewModels.$TB.registerClass("Microsoft.Crm.Client.Core.ViewModels.$TB",Xrm.XrmControl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh);Microsoft.Crm.Client.Core.ViewModels.$Tn.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Tn",Microsoft.Crm.Client.Core.ViewModels.$TB);Microsoft.Crm.Client.Core.ViewModels.$F5.registerClass("Microsoft.Crm.Client.Core.ViewModels.$F5",Xrm.XrmControlButton,Microsoft.Crm.Client.Core.ViewModels.$Ah);Microsoft.Crm.Client.Core.ViewModels.$QQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$QQ",Xrm.XrmProcessControlData);Microsoft.Crm.Client.Core.ViewModels.$QP.registerClass("Microsoft.Crm.Client.Core.ViewModels.$QP",Xrm.XrmProcessControlUI);Microsoft.Crm.Client.Core.ViewModels.$3k.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3k");Microsoft.Crm.Client.Core.ViewModels.$T6.registerClass("Microsoft.Crm.Client.Core.ViewModels.$T6",Xrm.SaveEventArgs);Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs.registerClass("Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs",Microsoft.Crm.Client.Core.ViewModels.$T6);Microsoft.Crm.Client.Core.ViewModels.$EP.$3cc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EP.$3cc",Microsoft.Crm.Client.Core.ViewModels.$Sw);Microsoft.Crm.Client.Core.ViewModels.$Sn.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sn",Xrm.XrmEntityAttributeLookup,Microsoft.Crm.Client.Core.ViewModels.$Di);Microsoft.Crm.Client.Core.ViewModels.$UG.registerClass("Microsoft.Crm.Client.Core.ViewModels.$UG",Xrm.XrmControlLookup,Microsoft.Crm.Client.Core.ViewModels.$Dl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh,Microsoft.Crm.Client.Core.ViewModels.$Ah);Microsoft.Crm.Client.Core.ViewModels.$St.registerClass("Microsoft.Crm.Client.Core.ViewModels.$St",Xrm.XrmEntityAttributeNumber,Microsoft.Crm.Client.Core.ViewModels.$Di);Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper",Xrm.$Mu);Microsoft.Crm.Client.Core.ViewModels.$Eg.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Eg",Xrm.XrmEntityAttributeOptionSet,Microsoft.Crm.Client.Core.ViewModels.$Di);Microsoft.Crm.Client.Core.ViewModels.$UB.registerClass("Microsoft.Crm.Client.Core.ViewModels.$UB",Xrm.XrmControlOptionSet,Microsoft.Crm.Client.Core.ViewModels.$Dl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh,Microsoft.Crm.Client.Core.ViewModels.$Ah);Microsoft.Crm.Client.Core.ViewModels.$TI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$TI",Microsoft.Crm.Client.Core.ViewModels.$Sn);Microsoft.Crm.Client.Core.ViewModels.$QW.registerClass("Microsoft.Crm.Client.Core.ViewModels.$QW",Xrm.XrmEntity,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$F1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$F1",Xrm.XrmTabSection);Microsoft.Crm.Client.Core.ViewModels.$FE.registerClass("Microsoft.Crm.Client.Core.ViewModels.$FE",Xrm.XrmTab,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Fh);Microsoft.Crm.Client.Core.ViewModels.$Sl.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sl",Xrm.XrmEntityAttributeString,Microsoft.Crm.Client.Core.ViewModels.$Di);Microsoft.Crm.Client.Core.ViewModels.$Lq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lq",null,XrmUI.IXrmUIControl,Xrm.IXrmCollectionItem);Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper",null,XrmUI.IXrmUIControlsData);Microsoft.Crm.Client.Core.ViewModels.$U0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$U0",Microsoft.Crm.Client.Core.ViewModels.$TQ);Microsoft.Crm.Client.Core.ViewModels.$QH.registerClass("Microsoft.Crm.Client.Core.ViewModels.$QH",Xrm.XrmGlobalContext);Microsoft.Crm.Client.Core.ViewModels.$QI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$QI",Xrm.XrmPageContextClient);Microsoft.Crm.Client.Core.ViewModels.$2q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2q",Xrm.XrmFormData,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$59.registerClass("Microsoft.Crm.Client.Core.ViewModels.$59",Xrm.XrmFormUI);Microsoft.Crm.Client.Core.ViewModels.$QJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$QJ",Xrm.XrmTaskProcess);Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper",null,Xrm.Interfaces.IXrmSubGridControl,Xrm.Interfaces.IXrmGridControl);Microsoft.Crm.Client.Core.ViewModels.$16.registerClass("Microsoft.Crm.Client.Core.ViewModels.$16",null,Microsoft.Crm.Client.Core.ViewModels.$96);Microsoft.Crm.Client.Core.ViewModels.$FO.registerClass("Microsoft.Crm.Client.Core.ViewModels.$FO",Microsoft.Crm.Client.Core.ViewModels.$V6);Microsoft.Crm.Client.Core.ViewModels.$Cg.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cg",Microsoft.Crm.Client.Core.ViewModels.$FO,Microsoft.Crm.Client.Core.ViewModels.$3X,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel",Microsoft.Crm.Client.Core.ViewModels.$DG);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck,Microsoft.Crm.Client.Core.ViewModels.$93);Microsoft.Crm.Client.Core.ViewModels.$Ed.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ed",Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel);Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$DL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DL",Microsoft.Crm.Client.Core.ViewModels.$FO,Microsoft.Crm.Client.Core.ViewModels.$3X,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z,Microsoft.Crm.Client.Core.ViewModels.$3X,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.$Cx.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cx",Microsoft.Crm.Client.Core.ViewModels.$2Z,Microsoft.Crm.Client.Core.ViewModels.$EB,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.$El.registerClass("Microsoft.Crm.Client.Core.ViewModels.$El",Microsoft.Crm.Client.Core.ViewModels.$FO,Microsoft.Crm.Client.Core.ViewModels.$3X,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.$7a.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7a",Microsoft.Crm.Client.Core.ViewModels.$Uy,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Dw,Microsoft.Crm.Client.Core.ViewModels.$83,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.$EY.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EY",Microsoft.Crm.Client.Core.ViewModels.$7a);Microsoft.Crm.Client.Core.ViewModels.$B9.registerClass("Microsoft.Crm.Client.Core.ViewModels.$B9",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$EY);Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel",Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel,Microsoft.Crm.Client.Core.ViewModels.$Ad,Microsoft.Crm.Client.Core.Framework.$At);Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$43);Microsoft.Crm.Client.Core.ViewModels.$8v.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8v",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$DP.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DP",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel",Microsoft.Crm.Client.Core.ViewModels.$8k);Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel,Microsoft.Crm.Client.Core.ViewModels.$HW,Microsoft.Crm.Client.Core.ViewModels.$Ab,Microsoft.Crm.Client.Core.ViewModels.$5E,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Core.ViewModels.$EC,Microsoft.Crm.Client.Core.ViewModels.$3X,Microsoft.Crm.Client.Core.ViewModels.$EH,Microsoft.Crm.Client.Core.ViewModels.$86,Microsoft.Crm.Client.Core.ViewModels.$Aw,Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Dr,Microsoft.Crm.Client.Core.OWAViewModels.Common.$Fo,Microsoft.Crm.Client.Core.Framework.$At);Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel",Microsoft.Crm.Client.Core.ViewModels.RootViewModel,Microsoft.Crm.Client.Core.ViewModels.$7W,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Core.ViewModels.$92);Microsoft.Crm.Client.Core.ViewModels.$FN.registerClass("Microsoft.Crm.Client.Core.ViewModels.$FN",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$FM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$FM",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$EM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EM",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$EM);Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$1q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1q");Microsoft.Crm.Client.Core.ViewModels.$5t.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5t");Microsoft.Crm.Client.Core.ViewModels.$2K.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2K");Microsoft.Crm.Client.Core.ViewModels.$2K.$3bJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2K.$3bJ");Microsoft.Crm.Client.Core.ViewModels.$Lg.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lg");Microsoft.Crm.Client.Core.ViewModels.$Lh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lh");Microsoft.Crm.Client.Core.ViewModels.$29.registerClass("Microsoft.Crm.Client.Core.ViewModels.$29");Microsoft.Crm.Client.Core.ViewModels.$2C.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2C");Microsoft.Crm.Client.Core.ViewModels.$Le.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Le");Microsoft.Crm.Client.Core.ViewModels.$Ue.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ue",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.$2I.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2I");Microsoft.Crm.Client.Core.ViewModels.$1R.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1R");Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel",Microsoft.Crm.Client.Core.ViewModels.$2r,Microsoft.Crm.Client.Core.ViewModels.$HU,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.Controls.$UN.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$UN",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv",Microsoft.Crm.Client.Core.ViewModels.$Uk);Microsoft.Crm.Client.Core.ViewModels.Controls.$DT.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$DT",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.Controls.$Ui.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Ui",Microsoft.Crm.Client.Core.ViewModels.Controls.$UN,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.Controls.$FI.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$FI",Microsoft.Crm.Client.Core.ViewModels.Controls.$UN);Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo",Microsoft.Crm.Client.Core.ViewModels.$43);Microsoft.Crm.Client.Core.ViewModels.Controls.$Eu.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Eu",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh",Microsoft.Crm.Client.Core.Framework.$BN);Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3aa.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3aa");Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3Zw.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3Zw");Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3aZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Sh.$3aZ");Microsoft.Crm.Client.Core.ViewModels.Controls.$FH.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$FH",Microsoft.Crm.Client.Core.ViewModels.$FO);Microsoft.Crm.Client.Core.ViewModels.Controls.$FA.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$FA",Microsoft.Crm.Client.Core.ViewModels.Controls.$F6);Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw",Microsoft.Crm.Client.Core.ViewModels.$2Y);Microsoft.Crm.Client.Core.ViewModels.Controls.$9d.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$9d",Microsoft.Crm.Client.Core.Framework.$70);Microsoft.Crm.Client.Core.ViewModels.Controls.$Kv.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Kv");Microsoft.Crm.Client.Core.ViewModels.Controls.$Kx.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Kx");Microsoft.Crm.Client.Core.ViewModels.Controls.$7M.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$7M");Microsoft.Crm.Client.Core.ViewModels.Controls.$OU.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$OU",Microsoft.Crm.Client.Core.ViewModels.Controls.$7M);Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase",Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Dt,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Core.ViewModels.$EC);Microsoft.Crm.Client.Core.ViewModels.Controls.$Kw.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Kw");Microsoft.Crm.Client.Core.ViewModels.Controls.$9e.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$9e");Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$2R");Microsoft.Crm.Client.Core.ViewModels.Controls.$8u.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$8u",Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh);Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase);Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel",Microsoft.Crm.Client.Core.ViewModels.$Uk);Microsoft.Crm.Client.Core.ViewModels.Controls.$8t.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$8t",Microsoft.Crm.Client.Core.ViewModels.Controls.$Uh);Microsoft.Crm.Client.Core.ViewModels.Controls.$L0.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$L0");Microsoft.Crm.Client.Core.ViewModels.Controls.$Un.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Un",Microsoft.Crm.Client.Core.ViewModels.$Ul);Microsoft.Crm.Client.Core.ViewModels.Controls.$Ba.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Ba",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.Controls.$Bb.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Bb",Microsoft.Crm.Client.Core.ViewModels.$2Z,Microsoft.Crm.Client.Core.ViewModels.$7W,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.Controls.$47.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$47",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.Controls.$9I.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$9I",Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.$C2.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$C2",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.Controls.$FP.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$FP",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.Controls.$Oz.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Oz",Microsoft.Crm.Client.Core.ViewModels.Controls.$7M);Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.Controls.$Kz.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Kz");Microsoft.Crm.Client.Core.ViewModels.Controls.$9t.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$9t",Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw,Microsoft.Crm.Client.Core.ViewModels.$Ab);Microsoft.Crm.Client.Core.ViewModels.Controls.$P1.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$P1",Microsoft.Crm.Client.Core.ViewModels.Controls.$7M);Microsoft.Crm.Client.Core.ViewModels.Controls.$Bc.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Bc",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.Controls.$8M.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$8M",Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel,Microsoft.Crm.Client.Core.ViewModels.$Ab,Microsoft.Crm.Client.Core.ViewModels.Controls.$Hx);Microsoft.Crm.Client.Core.ViewModels.Controls.$Bh.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Bh",Microsoft.Crm.Client.Core.ViewModels.$2Z,Microsoft.Crm.Client.Core.ViewModels.Controls.$Hx);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase);Microsoft.Crm.Client.Core.ViewModels.Controls.$Oy.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Oy",Sys.EventArgs);Microsoft.Crm.Client.Core.ViewModels.Controls.$7e.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$7e",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.Controls.$C9.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$C9",Microsoft.Crm.Client.Core.ViewModels.Controls.$7e);Microsoft.Crm.Client.Core.ViewModels.Controls.$CA.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$CA",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.Controls.$Ky.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Ky",null,Microsoft.Crm.Client.Core.ViewModels.Controls.$Hv);Microsoft.Crm.Client.Core.Commands.$9R.registerClass("Microsoft.Crm.Client.Core.Commands.$9R",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.$AO.registerClass("Microsoft.Crm.Client.Core.Commands.$AO",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.$Bn.registerClass("Microsoft.Crm.Client.Core.Commands.$Bn",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.SendEmailCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SendEmailCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.registerClass("Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.registerClass("Microsoft.Crm.Client.Core.Commands.PhoneCallCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.$BU.registerClass("Microsoft.Crm.Client.Core.Commands.$BU",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.registerClass("Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.$8b.registerClass("Microsoft.Crm.Client.Core.Commands.$8b",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.$9c.registerClass("Microsoft.Crm.Client.Core.Commands.$9c",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.$Bt.registerClass("Microsoft.Crm.Client.Core.Commands.$Bt",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChangeControlCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.$7i.registerClass("Microsoft.Crm.Client.Core.Commands.$7i",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChangeViewCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChangeChartCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.$TJ.registerClass("Microsoft.Crm.Client.Core.Commands.$TJ",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.registerClass("Microsoft.Crm.Client.Core.Commands.EmailLinkCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenDialogCommand",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ReconfigureCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.CreateFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CreateFormCommand",Microsoft.Crm.Client.Core.Commands.$TJ);Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand",Microsoft.Crm.Client.Core.Commands.$TJ);Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SetHomepageCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.$3n.registerClass("Microsoft.Crm.Client.Core.Commands.$3n");Microsoft.Crm.Client.Core.Commands.SearchCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SearchCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand",Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand);Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand",Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand);Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand",Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand);Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ResizeTileCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.ChartCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChartCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.registerClass("Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s");Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenEmailCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.WebResourceCommand.registerClass("Microsoft.Crm.Client.Core.Commands.WebResourceCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.registerClass("Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.$C7.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$C7",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.$CL.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$CL",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.$9b.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$9b",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.$A9.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$A9",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$A8);Microsoft.Crm.Client.Core.ViewModels.Commands.$BV.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$BV",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$L8);Microsoft.Crm.Client.Core.ViewModels.Commands.$UD.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$UD",Microsoft.Crm.Client.Core.Framework.Binding.$Ti);Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.$C5.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$C5",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.$9s.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$9s",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);XrmUI.XrmUIHelper.registerClass("XrmUI.XrmUIHelper",null,XrmUI.IXrmUIHelper);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T8.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T8",Microsoft.Crm.Client.Core.ViewModels.$7J);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T7.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T7",Xrm.$PZ);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T5.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T5",Xrm.$Pa);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$28");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$TM.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$TM",Microsoft.Crm.Client.Core.ViewModels.$FE);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9U.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9U",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$C6.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$C6",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$CN.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$CN",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$5f);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9G.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9G",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$5f);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9O.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9O",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$5f);Microsoft.Crm.Client.Core.ViewModels.MailApp.$9X.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$9X");Microsoft.Crm.Client.Core.ViewModels.MailApp.$9X.$3bS.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$9X.$3bS");Microsoft.Crm.Client.Core.ViewModels.MailApp.$UL.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$UL",Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.$$(Microsoft.Crm.Client.Core.Models.MailApp.$Qn));Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel",Microsoft.Crm.Client.Core.ViewModels.$5M);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel",Microsoft.Crm.Client.Core.ViewModels.$5M);Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u",Microsoft.Crm.Client.Core.ViewModels.Controls.$Eu);Microsoft.Crm.Client.Core.ViewModels.MailApp.$5X.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$5X");Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel",Microsoft.Crm.Client.Core.ViewModels.$3M);Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel",Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.$$(Microsoft.Crm.Client.Core.Models.MailApp.$Qm));Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel",Microsoft.Crm.Client.Core.ViewModels.$5M);Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel",Microsoft.Crm.Client.Core.Framework.$BN);Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.$U6.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$U6",Microsoft.Crm.Client.Core.ViewModels.$5M);Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$U4",Microsoft.Crm.Client.Core.ViewModels.$5M);Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.$F3.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$F3",Microsoft.Crm.Client.Core.ViewModels.$5M);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$2BR.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$2BR",Microsoft.Crm.Client.Core.ViewModels.$Cs);Microsoft.Crm.Client.Core.ViewModels.MailApp.$9H.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$9H",Microsoft.Crm.Client.Core.ViewModels.$3M);Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel",Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Br.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Br",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveSelectedEmailAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveSelectedEmailAction",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateSelectedEmailAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateSelectedEmailAction",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase,Microsoft.Crm.Client.Core.Framework.$Ai);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$V3.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$V3",Microsoft.Crm.Client.Core.ViewModels.$43);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$Ua.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$Ua",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.Command.DelveActionHubCommandHelper.registerClass("Microsoft.Crm.Client.Core.Command.DelveActionHubCommandHelper");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$5K.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$5K");Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$7u.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$7u");Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$DN.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$DN");Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$ML.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$ML");Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MI.registerClass("Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MI",null,Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Gn);Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MH.registerClass("Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MH",null,Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Gm);Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$U5.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$U5",Microsoft.Crm.Client.Core.ViewModels.$5M,Microsoft.Crm.Client.Core.OWAViewModels.Common.$Fo);ProcessControl.Reflow.$MK.registerClass("ProcessControl.Reflow.$MK",null,ProcessControl.Reflow.$Gq,ProcessControl.Reflow.$GV);ProcessControl.Reflow.$MJ.registerClass("ProcessControl.Reflow.$MJ",null,ProcessControl.Reflow.$Gs,ProcessControl.Reflow.$GV);ProcessControl.Reflow.$M7.registerClass("ProcessControl.Reflow.$M7",null,ProcessControl.Reflow.$Gr,ProcessControl.Reflow.$GV);ProcessControl.Reflow.$M6.registerClass("ProcessControl.Reflow.$M6",null,ProcessControl.Reflow.$GV);ProcessControl.Reflow.$M9.registerClass("ProcessControl.Reflow.$M9",null,ProcessControl.Reflow.$Gp,ProcessControl.Reflow.$GV);ProcessControl.Reflow.$M8.registerClass("ProcessControl.Reflow.$M8",null,ProcessControl.Reflow.$Go,ProcessControl.Reflow.$GV);ProcessControl.Reflow.$M5.registerClass("ProcessControl.Reflow.$M5",null,ProcessControl.Reflow.$Gt);ProcessControl.Reflow.$Pg.registerClass("ProcessControl.Reflow.$Pg",ProcessControl.Reflow.$M5);ProcessControl.Reflow.$Pf.registerClass("ProcessControl.Reflow.$Pf",ProcessControl.Reflow.$M5);ProcessControl.Reflow.$M2.registerClass("ProcessControl.Reflow.$M2",null,ProcessControl.Reflow.$H5);ProcessControl.Reflow.$M1.registerClass("ProcessControl.Reflow.$M1",null,ProcessControl.Reflow.$HA);ProcessControl.Reflow.$M4.registerClass("ProcessControl.Reflow.$M4",null,ProcessControl.Reflow.$H9);ProcessControl.Reflow.$M3.registerClass("ProcessControl.Reflow.$M3",null,ProcessControl.Reflow.$H4);ProcessControl.Reflow.$Ph.registerClass("ProcessControl.Reflow.$Ph",Sys.EventArgs);ProcessControl.Reflow.$MA.registerClass("ProcessControl.Reflow.$MA",null,ProcessControl.Reflow.$Gx);ProcessControl.Reflow.$MD.registerClass("ProcessControl.Reflow.$MD",null,ProcessControl.Reflow.$Gy);ProcessControl.Reflow.$PG.registerClass("ProcessControl.Reflow.$PG",ProcessControl.Reflow.$B5.$$(String),ProcessControl.Reflow.$H0,ProcessControl.Reflow.$Aj.$$(String));ProcessControl.Reflow.$MF.registerClass("ProcessControl.Reflow.$MF",null,ProcessControl.Reflow.$Gv);ProcessControl.Reflow.$ME.registerClass("ProcessControl.Reflow.$ME",null,ProcessControl.Reflow.$HE);ProcessControl.Reflow.$Cb.registerClass("ProcessControl.Reflow.$Cb");Xrm.Objects.RecentlyViewedItem.registerClass("Xrm.Objects.RecentlyViewedItem");ProcessControl.ClientApi.$MB.registerClass("ProcessControl.ClientApi.$MB");Microsoft.Crm.Client.Core.ViewModels.Events.$MC.registerClass("Microsoft.Crm.Client.Core.ViewModels.Events.$MC",null,Microsoft.Crm.Client.Core.Models.$Gf);Microsoft.Crm.Client.Core.ViewModels.Events.$PA.registerClass("Microsoft.Crm.Client.Core.ViewModels.Events.$PA",Sys.EventArgs);Xrm.NotificationLevels.error="ERROR";Xrm.NotificationLevels.warning="WARNING";Xrm.NotificationLevels.information="INFO";Xrm.JavaScriptConsoleTraceListener.$D=null;Xrm.Offline.$D=null;Xrm.XrmInternal.$1xq=null;Xrm.AttributeFormat.date="date";Xrm.AttributeFormat.dateTime="datetime";Xrm.AttributeFormat.duration="duration";Xrm.AttributeFormat.email="email";Xrm.AttributeFormat.language="language";Xrm.AttributeFormat.none="none";Xrm.AttributeFormat.phone="phone";Xrm.AttributeFormat.text="text";Xrm.AttributeFormat.textArea="textarea";Xrm.AttributeFormat.tickerSymbol="tickersymbol";Xrm.AttributeFormat.timeZone="timezone";Xrm.AttributeFormat.url="url";Xrm.AttributeType.booleanType="boolean";Xrm.AttributeType.dateTimeType="datetime";Xrm.AttributeType.decimalType="decimal";Xrm.AttributeType.doubleType="double";Xrm.AttributeType.integerType="integer";Xrm.AttributeType.lookupType="lookup";Xrm.AttributeType.memoType="memo";Xrm.AttributeType.moneyType="money";Xrm.AttributeType.optionSetType="optionset";Xrm.AttributeType.stringType="string";Xrm.AttributeType.uniqueIdentifierType="uniqueidentifier";Xrm.ClientName.mobile="Mobile";Xrm.ClientName.outlook="Outlook";Xrm.ClientName.web="Web";Xrm.ClientName.unifiedServiceDesk="UnifiedServiceDesk";Xrm.ClientState.online="Online";Xrm.ClientState.offline="Offline";Xrm.ClientStates.online="Online";Xrm.ClientStates.offline="Offline";Xrm.ControlType.button="button";Xrm.ControlType.standard="standard";Xrm.ControlType.iFrame="iframe";Xrm.ControlType.lookup="lookup";Xrm.ControlType.optionSet="optionset";Xrm.ControlType.subGrid="subgrid";Xrm.ControlType.webResource="webresource";Xrm.ControlType.notes="notes";Xrm.ControlType.navBar="navbar";Xrm.ControlType.navBarItem="navbaritem";Xrm.ControlType.timer="timercontrol";Xrm.ControlType.searchWidget="searchwidget";Xrm.ControlType.quickFormControl="quickform";Xrm.ControlType.hidden="hidden";Xrm.ControlType.none="none";Xrm.ControlType.emailRecipientActivityControl="emailrecipientactivitycontrol";Xrm.ControlType.emailEngagementActionsControl="emailengagementactionscontrol";Xrm.ControlType.aciControl="acicontrol";Xrm.FormSaveAction.save="save";Xrm.FormSaveAction.saveAndClose="saveandclose";Xrm.FormSaveAction.saveAndNew="saveandnew";Xrm.LookupStyle.single="single";Xrm.LookupStyle.subject="subject";Xrm.LookupStyle.multi="multi";Xrm.NotificationLevel.error="ERROR";Xrm.NotificationLevel.warning="WARNING";Xrm.NotificationLevel.information="INFO";Xrm.NotificationLevel.localSave="LOCALSAVE";Xrm.NotificationLevel.recommendation="RECOMMENDATION";Xrm.RequiredLevel.none="none";Xrm.RequiredLevel.recommended="recommended";Xrm.RequiredLevel.required="required";Xrm.RequiredLevel.systemRequired="systemrequired";Xrm.SubmitMode.dirty="dirty";Xrm.SubmitMode.always="always";Xrm.SubmitMode.never="never";Xrm.TabDisplayState.expanded="expanded";Xrm.TabDisplayState.collapsed="collapsed";Xrm.Dialog.$D=null;Xrm.Internal.$D=null;Xrm.Internal.$14C=null;Xrm.Internal.messages=new Xrm.XrmSdkMessages;Xrm.Internal.trace=new Xrm.XrmTrace;Xrm.Internal.$$cctor();Xrm.Page.context=null;Xrm.Page.data=null;Xrm.Page.grid=null;Xrm.Page.ui=null;Xrm.Mobile.offline=null;Xrm.XrmInternalWrapper.$1vB={INFO:1,WARNING:2,ERROR:3,LOCALSAVE:4};Xrm.XrmInternalWrapper.$1RB={campaign:4400,bulkoperation:4406};Xrm.XrmInternalWrapper.$1dd=Microsoft.Crm.Client.Core.Framework.$1C.$1A0;Xrm.DateTimeUtility.$1ny=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""];Xrm.DateTimeUtility.$2KC=["a","m","p","A","M","P","'"," ",":",",",",","-","-","-","-",".",".","/","0","1","2","3","4","5","6","7","8","9"];Microsoft.Crm.Client.Core.ViewModels.$EJ.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$EL.$$cctor();this.$Ao=null;Microsoft.Crm.Client.Core.ViewModels.$4D.$$cctor();this.$Ao=null;Microsoft.Crm.Client.Core.ViewModels.$5q.$$cctor();this.$q3=0;Microsoft.Crm.Client.Core.ViewModels.$98.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$RA.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$3B.$D=null;Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Cv.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$DQ.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$7Z.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$EI.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$EK.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Ez.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$F0.$$cctor();Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$50.$2Mt="IsSetRegardingOpened";Microsoft.Crm.Client.Core.ViewModels.$50.$2M4="IsCanvasConductorShouldBeDisplayed";Microsoft.Crm.Client.Core.ViewModels.$50.$2Ms="IsSetRegardingDisplayedAsHomepage";Microsoft.Crm.Client.Core.ViewModels.$AU.$$cctor();Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$nO="IsLoading";Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$1dP="State";Microsoft.Crm.Client.Core.ViewModels.$6M.$1NA=100;Microsoft.Crm.Client.Core.ViewModels.$5c.$1GC=!1;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1x7=!1;this.$kH=null;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1tj=0;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1XM=!1;Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$27i=[Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel,Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel,Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel,Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel];Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$3=null;Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$D=null;Microsoft.Crm.Client.Core.ViewModels.$16.$3=null;Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.$1mA=[6,9,1,10];Microsoft.Crm.Client.Core.ViewModels.$1q.$ko=null;Microsoft.Crm.Client.Core.ViewModels.$1q.$zU=null;this.$Ao=null;Microsoft.Crm.Client.Core.ViewModels.$5t.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$2K.$D=null;Microsoft.Crm.Client.Core.ViewModels.$2K.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$29.$1XP=null;Microsoft.Crm.Client.Core.ViewModels.$29.$22S=15001;Microsoft.Crm.Client.Core.ViewModels.$2C.$1Nf=null;Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1uR=["ManagedLabel"];Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1uQ="";Microsoft.Crm.Client.Core.ViewModels.$2I.$D=null;Microsoft.Crm.Client.Core.ViewModels.Controls.$Uv.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$DT.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$Bo.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.$2BO="ElasticSearch";Microsoft.Crm.Client.Core.ViewModels.Controls.$2R.$1Xo=null;Microsoft.Crm.Client.Core.ViewModels.Controls.$8u.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1aH=null;Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Wv=null;Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$8t.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$C2.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$FP.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$9t.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$$cctor();Microsoft.Crm.Client.Core.Commands.$9R.$$cctor();Microsoft.Crm.Client.Core.Commands.$AO.$$cctor();Microsoft.Crm.Client.Core.Commands.$Bn.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SendEmailCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$BU.$$cctor();Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$8b.$$cctor();Microsoft.Crm.Client.Core.Commands.$9c.$$cctor();Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$Bt.$$cctor();Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$7i.$$cctor();Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$$cctor();this.$Ao=null;Microsoft.Crm.Client.Core.Commands.$3n.$$cctor();Microsoft.Crm.Client.Core.Commands.SearchCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1Zv=200;Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$262=500;Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$22M=0;Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1j0=0;Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1iL=0;Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$5s.$1OI=null;Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$C7.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$CL.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$9b.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$Bd.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$C5.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$9s.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1vI="@odata.nextLink";Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$1jv="Xrm.Mobile.offline";Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$27l="retrieveRecord";Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1d.$27m="retrieveMultipleRecords";Microsoft.Crm.Client.Core.ViewModels.ClientApi.$Q.$1ls=5e3;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$d.$Cq=null;Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9U.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4z.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$C6.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$CN.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$65.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9G.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$9O.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.$D=null;Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel.$2ZX="Top";Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Br.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveSelectedEmailAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateSelectedEmailAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.ViewModels.js.srcmap
