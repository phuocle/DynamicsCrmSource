Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$Db=function(n){this.$$d_$3Lh=Function.createDelegate(this,this.$3Lh);this.$$d_$1FY=Function.createDelegate(this,this.$1FY);this.$$d_$2Nk=Function.createDelegate(this,this.$2Nk);this.$EZ=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;Microsoft.Crm.Client.Core.ViewModels.$Db.initializeBase(this);this.$Wt=n};Microsoft.Crm.Client.Core.ViewModels.$Db.prototype={$Wt:null,$1xS:null,$2lt:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Framework.$4);return n.resolve(new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V))(this.$1xS)),n.promise()},$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$3m,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1z6(this.$Wt),this.$$d_$2Nk,this.$$d_$1FY),1},$3Lh:function(){window.location.reload(!1)},$3UI:function(){this.$EZ.$GL=0;this.$EZ.$Fu=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Mobile_Preview_No_Records_Title");this.$EZ.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Mobile_Preview_No_Records_Message"));this.$EZ.$Bv=0;this.$EZ.$Ie=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Mobile_Preview_No_Records_Refresh_Button");this.$EZ.$Dy=this.$$d_$3Lh;this.$EZ.Show()},$2Nk:function(n){var t,i,r;if(this.$1xS=n.$1aJ,t=n.$1aJ[0],t.$4u===2&&n.$1Kl===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()){this.$3UI();return}i=new Xrm.Objects.EntityReference(t.$6o,new Microsoft.Crm.Client.Core.Framework.Guid(n.$1Kl));r=this.$A_3;r.get_ExternalContext().$T.EntityReference=i;this.$vr(this.$2lt())},$1FY:function(n){this.$21(n)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O=function(){this.$$d_$sc=Function.createDelegate(this,this.$sc);this.$$d_$2QS=Function.createDelegate(this,this.$2QS);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("ResolveRecipients",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$B=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O;return i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hZ,Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$1Ip(i,t),i};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$1Ip=function(n,t){var i,u,r;if(!$0.$1(t)&&(i=t,!$0.$1(i.QueryValue)&&Object.isInstanceOfType(i.QueryValue))){if(u=i.QueryValue,r=u.resolveFromScratch,!$0.$1(r)){n.$ql=r;return}n.$ql=!1}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.prototype={get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},get_$2g:function(){return this.get_$7G().$2r},$4q:null,$Kh:null,$ab:null,$ql:!1,$31:function(){return(this.$2fE(),this.$2Yi(),!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20)?(this.$sc(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),0):(this.$1j(Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonResponses.$7U,this.$3P0(),this.$$d_$2QS,this.$$d_$sc),1)},$2fE:function(){this.get_$7G().$2r.set_$1yp(1)},$2QS:function(n){this.$ab=n;this.$2gN();this.$15D()},$2gN:function(){var n=this.$ql?new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)):this.$3ck(this.get_$2g()),t=this.$3ck(this.$ab);this.$Kh=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$3bT;this.$Kh.$x3=this.$2HJ(n,t);this.$Kh.$18g=this.$2HJ(t,n)},$3ck:function(n){var t=this.$3WQ(n);return t.get_Count()>1&&t.$DR(this.get_$2g().$1M2.toLowerCase()),t},$3Wt:function(){this.get_$2g().$cF=this.$ab.$PZ;this.get_$2g().$1Mx=this.$ab.$Uy;this.get_$2g().$1Kw=this.$ab.$xB;this.get_$2g().$1Ks=this.$ab.$x9;this.get_$2g().$ju=this.$ab.$ju;this.get_$2g().$Xx=this.$ab.$Xx;this.get_$2g().$Xr=this.$ab.$Xr},$15D:function(){if($0.$1(Mscrm.InlinedAppData.senderData))if($0.$9g(Mscrm.InlinedAppData.senderData)){var n=this;this.$2IU().done(function(t){var i=t?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(t).get_entities():null;n.$6B(i);Mscrm.InlinedAppData.senderData=null})}else this.$3Nt();else this.$6B(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(Mscrm.InlinedAppData.senderData).get_entities()),Mscrm.InlinedAppData.senderData=null},$3Nt:function(){if(!this.$Kh.$x3.get_Count()){this.$6B(null);return}var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1yo(this.$Kh.$x3.toArray()).then(function(t){n.$6B(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(t).get_entities())},function(n){t.$sc(Microsoft.Crm.Client.Core.Framework.$4.$3bY(n,"Request to the CRM server failed with an error."))})},$300:function(){for(var n,f,r,u=this.$Kh.$18g,t=this.get_$7G().get_$RE().$22N(),i=0;i<u.get_Count();i++)for(n=t.length-1;n>0;n--)f=this.get_$7G().get_$RE().get_$I(n),r=f.getValue("mailappemailaddress"),$0.$1(r)||r.toLowerCase()!==u.get_$I(i)||Array.removeAt(t,n);return t},$bM:function(n){var i=new Array(0),t;if(!$0.$1(n))for(t=0;t<n.length;t++)Array.add(i,n[t].$9b);return i},$3P0:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonResponses.$7U,Microsoft.Crm.Client.Core.Framework.$4),t,i;return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20||n.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().clearRecipients(),t=this,i=this,Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().getRecipients().then(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise()},$2IU:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t,i;return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20||n.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),t=this,i=this,Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().getInitialSenderData().then(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise()},$sc:function(n){n.$z===-2147093999&&(n.$z=-2147093997);this.get_$7G().$2r.set_$1yp(2);this.$2DZ(n);this.$21(n)},$6B:function(n){if(this.$Kh.get_$2cm()||this.$ql){var t;t=this.$ql?new Array(0):this.$300();$0.$1(n)||Array.addRange(t,this.$3WP(n));this.$3Wt();this.$3UK();this.get_$7G().get_$RE().$7p(t)}this.get_$7G().$2r.set_$1yp(3);this.$2Da(n);this.$1Y()},$3WP:function(n){for(var u,i=new Array(0),r=n,f=r.length,t=0;t<f;++t)u=r[t],i.push(this.get_$7G().$1HE.$2Zf(u));return i},$3UK:function(){if(!this.$ql&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()){var n=this.$33n();Microsoft.Crm.Client.Core.Framework.$3.$9(n)||this.get_$7G().$9X.showNotification(n,0)}},$33n:function(){return this.$Kh.get_$3G1()?this.get_$2g().get_$Ct()!==1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Recipients_Added"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Attendees_Added"):this.$Kh.get_$3G2()?this.get_$2g().get_$Ct()!==1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Recipients_Removed"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Attendees_Removed"):this.$Kh.get_$2cl()?this.get_$2g().get_$Ct()!==1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Recipients_Added_And_Removed"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Attendees_Added_And_Removed"):null},$3WQ:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i;return Microsoft.Crm.Client.Core.Models.MailApp.$DK.isInstanceOfType(n)&&(t=this.$3WO(n)),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonResponses.$7U.isInstanceOfType(n)&&(t=this.$3WR(n)),this.$3Ux(t),i=this,Microsoft.Crm.Client.Core.Framework.$5y.$2BF(String,t,function(n,t){return n===t})},$3WO:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return $0.$1(n.$cF)||t.add(n.$cF.$9b),t.addRange(this.$bM(n.$1Mx)),t.addRange(this.$bM(n.$1Kw)),t.addRange(this.$bM(n.$1Ks)),t.addRange(this.$bM(n.$Xx)),t.addRange(this.$bM(n.$Xr)),t},$3WR:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return $0.$1(n.$PZ)||t.add(n.$PZ.$9b),t.addRange(this.$bM(n.$Uy)),t.addRange(this.$bM(n.$xB)),t.addRange(this.$bM(n.$x9)),t.addRange(this.$bM(n.$Xx)),t.addRange(this.$bM(n.$Xr)),t},$3Ux:function(n){for(var t=0;t<n.get_Count();t++)n.set_$I(t,n.get_$I(t).toLowerCase())},$2HJ:function(n,t){for(var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i=0;i<t.get_Count();i++)n.$1Aj(t.get_$I(i))||r.add(t.get_$I(i));return r},$2Yi:function(){this.$4q=new Microsoft.Crm.Client.Core.Framework.$5o("MailAppAction",{Action:"ResolveRecipientsAction"});Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$iO(this.$4q)},$2Da:function(n){$0.$1(this.$4q)||(this.$4q.p.Resolved=!0,this.$4q.p.ResolvedRecords=n,Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(this.$4q.rid),this.$4q=null)},$2DZ:function(n){$0.$1(this.$4q)||(this.$4q.p.Resolved=!1,this.$4q.p.ErrorCode=n.$z,this.$4q.p.ErrorMessage=n.$E,Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(this.$4q.rid),this.$4q=null)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$3bT=function(){};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$3bT.prototype={$x3:null,$18g:null,get_$1NQ:function(){return!$0.$1(this.$x3)&&this.$x3.get_Count()>0},get_$1ag:function(){return!$0.$1(this.$18g)&&this.$18g.get_Count()>0},get_$3G1:function(){return this.get_$1NQ()&&!this.get_$1ag()},get_$3G2:function(){return!this.get_$1NQ()&&this.get_$1ag()},get_$2cl:function(){return this.get_$1NQ()&&this.get_$1ag()},get_$2cm:function(){return this.get_$1NQ()||this.get_$1ag()}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction=function(n){Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.initializeBase(this);this.$Uf=n};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEmailEngagementSummary",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$B=function(n){return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction(n)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.prototype={$Uf:null,get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$31:function(){if(this.$Uf.$Gs)return this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("Retrieving email engagement summary is in proccess")),0;this.$Uf.$Gs=!0;var i="<fetch returntotalrecordcount='true' mapping=\"logical\" count=\"100\"><entity name='email' > <attribute name='activityid' /><attribute name='opencount' /><attribute name='replycount' /><attribute name='modifiedon' /><attribute name='isemailfollowed' /><attribute name='inreplyto' /><filter type=\"and\"><condition attribute=\"activityid\" operator=\"eq\" value=\""+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$6C(this.get_$7G().$2r.$5V.$8T)+"\"/><\/filter><order attribute='modifiedon' descending='true' /><\/entity><\/fetch>",r=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(i,null),n=this,t=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(r,Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),this.get_$f()).then(function(t){var r,i,u;t&&(r=t.get_entities(),r.length&&(i=r[0],n.$Uf.set_OpenCount(i.getValue("opencount")),n.$Uf.set_ReplyCount(i.getValue("replycount")),n.$Uf.set_LastActivityDate(i.getValue("modifiedon")),n.$Uf.$Xa=i.getValue("activityid").toString(),u=!Microsoft.Crm.Client.Core.Framework.$3.$9(i.getValue("inreplyto")),n.$3TR(u)));n.$Uf.$Gs=!1;n.$1Y()},function(n){t.$Uf.$Gs=!1;t.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("An error retrieving email engagement summary. Error message: \n\n {0}",n.$E))}),1},$3TR:function(n){var t=n&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode(),i=this.get_$7G().$2r.$5V.$Rq,r=i&&this.get_$7G().$2r.$qM;this.$Uf.set_ShowSummary(t||r)}};Type.registerNamespace("Microsoft.Crm.Client.Application.ViewModels");Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction=function(){this.$$d_$1ii=Function.createDelegate(this,this.$1ii);this.$$d_$25o=Function.createDelegate(this,this.$25o);Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("AssociateOneToMany",Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$B)};Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction,r=t;return i.$T=r.QueryValue,i.$9p=r.OnSuccess,i.$BL=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.prototype={$9p:null,$BL:null,$T:null,$31:function(){var i=this.$T.parentReference,r=this.$T.childReference,n=this.$T.relationshipAttributeName,o=this.$T.newRecordSelected,u=Microsoft.Crm.Client.Core.Framework.$G.$b("","AssociateOneToMany"),f,e,t;return $0.$1(n)?(f=Microsoft.Crm.Client.Core.Framework.$4.$1SG(null),this.$1ii(f)):(e=[n],t=this,this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(r,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(e),Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),u),function(f){var c=i.LogicalName==="territory"&&r.LogicalName==="systemuser"&&n==="territoryid",e,s,h;f.hasValue(n)&&!c?(e=f.getValue(n),s=e.Id,s.equals(i.Id)?t.$25o(r):(h=parseInt(o?"0x80631119":"0x80048478",16),t.$1ii(Microsoft.Crm.Client.Core.Framework.$4.$mC(h)))):(f.initializeValue(n,i,6),f.$4P.addRange([n]),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7p(f.$N,f,!0,u).then(t.$$d_$25o,t.$$d_$1ii))},this.$$d_$1ii)),1},$25o:function(n){this.$9p(n);this.$1Y()},$1ii:function(n){this.$BL(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction=function(){this.$$d_$2ex=Function.createDelegate(this,this.$2ex);Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("AssociateRecords",Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$B)};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction,i=n;return t.$A_3=i,t.$P=i.$$d_$3EX,t};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.prototype={$P:null,$Fh:function(n,t,i,r,u,f){var e,o,s,h,c;i?i===1&&(h=this,c=this,Xrm.XrmUtilityWrapper.$25n(n,t,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelationshipReference(u,r,f,i),function(){h.$25l()},function(n){c.$21(Microsoft.Crm.Client.Core.Framework.$4.$2t2(n.$6k.$6e,n.$6k.get_message()))})):(e={},e.parentReference=n,e.childReference=t,e.relationshipAttributeName=r,o=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AssociateOneToMany",e),s=this,o.OnSuccess=function(){s.$25l()},o.OnFailure=this.$$d_$2ex,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,o))},$31:function(){var n=this.$A_3,t=n.$NA,i=n.$Io;return this.$Fh(t,i,n.$5h,n.$7n,n.$5y,n.$A3),1},$25l:function(){$0.$1(this.$P)||this.$P();this.$1Y()},$2ex:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$Bx=function(n,t,i){this.$$d_$2QA=Function.createDelegate(this,this.$2QA);Microsoft.Crm.Client.Application.ViewModels.$Bx.initializeBase(this);this.$5n=n;this.$WU=t;this.$DZ=i;this.$A_3=i;var r=this.$DZ;this.$P=r.$$d_$4e||(r.$$d_$4e=Function.createDelegate(r,r.$4e))};Microsoft.Crm.Client.Application.ViewModels.$Bx.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveSwitchProcessListData",Microsoft.Crm.Client.Application.ViewModels.$Bx.$AU)};Microsoft.Crm.Client.Application.ViewModels.$Bx.$AU=function(n,t){var r=n,i=t.QueryValue,u=i.DataSource,f=i.ModelFactory;return new Microsoft.Crm.Client.Application.ViewModels.$Bx(u,f,r)};Microsoft.Crm.Client.Application.ViewModels.$Bx.prototype={$5n:null,$WU:null,$DZ:null,$31:function(){var n=this.$DZ.get_$1lR(),t=this.$DZ.get_$1lU(),i=this.get_$f(),r=this.$5n.$hY(n,t,i);return this.$1j(Object,r,this.$$d_$2QA,this.$$d_$5O),1},$2QA:function(n){this.$DZ.set_$1df(this.$WU.$29w(n));this.$4e(this.$DZ.get_$1df().get_$2Bd())}};Microsoft.Crm.Client.Application.ViewModels.$B8=function(n){this.$$d_$2QA=Function.createDelegate(this,this.$2QA);Microsoft.Crm.Client.Application.ViewModels.$B8.initializeBase(this);this.$DZ=n;var t=this.$DZ;this.$P=t.$$d_$4e||(t.$$d_$4e=Function.createDelegate(t,t.$4e));this.$A_3=n};Microsoft.Crm.Client.Application.ViewModels.$B8.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("LoadArchivedProcessListData",Microsoft.Crm.Client.Application.ViewModels.$B8.$AU)};Microsoft.Crm.Client.Application.ViewModels.$B8.$AU=function(n,t){var i=t.TargetViewModel;return new Microsoft.Crm.Client.Application.ViewModels.$B8(i)};Microsoft.Crm.Client.Application.ViewModels.$B8.prototype={$DZ:null,$31:function(){var t=this.$DZ.get_$1lR(),i=this.$DZ.get_$1lU(),r=this.get_$f(),n=this.$25Z();return this.$1j(Object,n,this.$$d_$2QA,this.$$d_$5O),1},$2QA:function(){this.$DZ.$3Nf();this.$4e(this.$DZ.get_Root().$nF?this.$DZ.get_$1df().get_$2Bd():this.$DZ.get_$1df().get_$25Z())},$25Z:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4);return n.resolve(),n}};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("ExportToExcelAction",Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$B)};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$B=function(n,t){var r=n,i=new Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction;return i.$P=t.SuccessCallbackParameter,i.$1M_3=t.FailureCallbackParameter,i.$22=r,i};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.prototype={$P:null,$22:null,$31:function(){var n=new Microsoft.Crm.Client.Core.Framework.Guid(this.$22.get_DefinitionId()),t=this.$22.$Aq===1||!this.$22.$Aq?"savedquery":"userquery",i=new Xrm.Objects.EntityReference(t,n);return this.$1j(Xrm.Sdk.Response,this.$2tf(i),this.$$d_$4e,this.$$d_$21),1},$31T:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C("",this.$22.get_ModelContext().get_Id()),t=$.extend(!1,{},this.$22.$2W);return n.$9N=t,n.$K4(this.$22.get_ModelContext().get_Id(),this.$22.$9c,this.$22.$BW,this.$22.$2N,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V()),n.$9N.$A9(1)},$2tf:function(n){var i=this.$22.get_ModelContext()?this.$31T():"",t=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$4),r=Xrm.Internal.messages.exportToExcel(n,i,"","",{}),u=this,f=this;return r.then(function(n){t.resolve(n)},function(n){t.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(n.$6k.$6e))}),t},$4e:function(n){this.$P(n.excelFile);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$2oc=Function.createDelegate(this,this.$2oc);Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("GetLookupListItemDescriptor",Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$B)};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction,f=n,e,r,u;return i.$P=f.$$d_$32C,i.$A_3=f,e=t,r=e.QueryValue,i.$1Q=r.EntityName,u=r.ViewQuery,i.$Ix=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.isInstanceOfType(u)?r.ViewQuery.$A9(1):u,i.$NI=r.ViewLayout,i};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2ph=function(n){return n.indexOf(".")>0?n.split(".")[0]:null};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2TX=function(n){return n.indexOf(".")>0?n.split(".")[1]:n};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.prototype={$P:null,$1Q:null,$NI:null,$Ix:null,$1ex:null,$1O6:null,get_$3YT:function(){return $0.$1(this.$1ex)&&(this.$1ex=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(this.$Ix)),this.$1ex},$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$1Q,this.get_$f()),this.$$d_$2oc,this.$$d_$5O),1},$2oc:function(n){var a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(this.$NI),c=a.getElementsByTagName("cell"),i=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))),e=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),o,t,h,r,s,u,l,f;for(e.add(n.get_$Gd()),i.set_$I(this.$1Q,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([n.get_$Gd()])),o=0;e.get_Count()<3&&o<c.length;o++)if(t=c[o].attributes.getNamedItem("name").nodeValue,t!==n.get_$Gd()){if(h=Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2ph(t),$0.$28(h))i.get_$I(this.$1Q).add(t);else{for(r=null,s=this.get_$3YT().getElementsByTagName("link-entity"),u=0;u<s.length;u++)l=s[u].attributes.getNamedItem("alias").nodeValue,l===h&&(r=s[u].attributes.getNamedItem("name").nodeValue);if($0.$1(r))continue;f=i.get_$I(r);$0.$1(f)&&(f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i.set_$I(r,f));f.add(t)}e.add(t)}this.$1O6=e.toArray();this.$3Bv(i)},$3Bv:function(n){var f=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(String)),e=[],o=n.$1e4(),r,t,u,c;for(r in o){var s={key:r,value:o[r]},h=s.key,i=s.value.get_Items();for(t=0;t<i.length;t++)u=i[t],f.set_$I(u,h),i[t]=Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2TX(u);Array.add(e,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(h,i),this.get_$f()))}c=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e),function(n){for(var r,t,u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M)),e=n,o=e.length,i=0;i<o;++i)for(r=e[i],t=0;t<r.get_$3ZH();t++)u.add(r.get_$I(t));c.$1u8(u,f)},this.$$d_$5O)},$1u8:function(n,t){for(var f,r,e,u=new Array(3),i=0;i<3;i++)f="itemlabel"+i,i<this.$1O6.length?(r=this.$1O6[i],e=this.$2rl(n,t.get_$I(r),r),u[i]=Microsoft.Crm.Client.Core.Models.$2f.$2mA(Xrm.Objects.AttributeType.toString(e.get_$5R()),r,f,!1,!0)):u[i]=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("Label","DefaultValueLabel",f,null,null,null,null,null);this.$P(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ListItem","ListItem","item",null,null,u,null));this.$1Y()},$2rl:function(n,t,i){for(var r,f=Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2TX(i),u=0;u<n.get_Count();u++)if(r=n.get_$I(u),r.get_$eQ()===t&&r.get_$1n()===f)return r;return null},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction=function(){Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("GetMultipleEntityFormDefinition",Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$4Z)};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$4Z=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction;return Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$1EM(t,n),t};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.prototype={$3Bg:function(n,t){var u,f,s;if(n.get_$3ZH()>0){if(this.$O6=n.get_$I(0).get_$5c(),this.$A_3.set_sourceId(n.get_$I(0).$h),!$0.$1(this.get_$Ri())&&!this.$A_3.get_$Dt()){var e=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"PrimaryModelName",this.get_$Ri().Properties),i=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(Array,"PrimaryAttributeFieldNames",this.get_$Ri().Properties),h=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(Object,"RelatedAttributeFieldNames",this.get_$Ri().Properties),c=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(Object,"RelationshipList",this.get_$Ri().Properties),r=[];!$0.$1(e)&&!$0.$1(i)&&i.length>0&&Array.add(r,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(e,i),this.get_$f()));u=h;for(f in u){var o={key:f,value:u[f]},l=o.key,a=c[l],v=a.TargetEntityTypeName;Array.add(r,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(v,o.value),this.get_$f()))}s=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r),function(){s.$1Ab()},this.$1kK(Microsoft.Crm.Client.Core.Framework.$4))}}else Microsoft.Crm.Client.Core.Framework.Trace.logError(1,String.format("Root definition '{0}' not found.",t.toString())),this.$1FY(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147084512))},$2aS:function(n){this.$o===39&&(this.$A_3.$86=n)}};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction=function(){Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("MetadataDownload",Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$B)};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.prototype={$31:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$2QH(this,new Sys.EventArgs),1}};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("OpenDocumentTemplateAction",Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$B)};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$B=function(n,t){var r=n,i=new Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction;return i.$10M=t.DocumentTemplateEntityReference,i.$P=t.SuccessCallbackParameter,i.$1M_3=t.FailureCallbackParameter,i.$22=r,i};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.prototype={$10M:null,$P:null,$22:null,$31:function(){return this.$1j(Xrm.Sdk.Response,this.$2tb(),this.$$d_$4e,this.$$d_$21),1},$2tb:function(){var n=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$4),t=new Microsoft.Crm.Client.Core.Framework.Guid(this.$22.get_DefinitionId()),i=this.$22.$Aq===1||!this.$22.$Aq?"savedquery":"userquery",r=new Xrm.Objects.EntityReference(i,t),u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RenderTemplateFromViewRequest(this.$10M,r),this.get_$f()),f=this,e=this;return u.then(function(t){n.resolve(t)},function(t){n.reject(t)}),n},$4e:function(n){this.$P(n.excelFile);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("OpenWordTemplateAction",Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$B)};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction,r=t;return i.$208=r.SelectedRecordId,i.$1ih=r.AssociatedEntityTypeCode,i.$17E=r.WordTemplateEntityReference,i.$P=r.SuccessCallbackParameter,i.$1M_3=r.FailureCallbackParameter,i};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.prototype={$17E:null,$1ih:0,$208:null,$P:null,$31:function(){return this.$1j(Xrm.Sdk.Response,this.$2uD(),this.$$d_$4e,this.$$d_$21),1},$2uD:function(){var n=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$4),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.ExportWordDocumentRequest(this.$1ih,this.$17E,JSON.stringify([this.$208.toString()])),this.get_$f()),i=this,r=this;return t.then(function(t){n.resolve(t)},function(t){n.reject(t)}),n},$4e:function(n){this.$P(n.wordFile);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDocumentTemplates",Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction,r,u;return i.$A_3=n,i.$1RA=Xrm.Internal.getEntityCode(i.$A_3.get_$2R()),r=t,$0.$1(r.OnSuccess)||(i.$7q=r.OnSuccess),$0.$1(r.OnFailure)||(i.$1M_3=r.OnFailure),$0.$1(r.QueryValue)||(u=r.QueryValue,$0.$1(u.DocumentType)||(i.$xW=u.DocumentType)),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.prototype={$7q:null,$xW:0,$1RA:0,$31:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(44,this.get_$25(),this.$A_3.get_$2R(),0),null),n=this,i=this;return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),t,function(t){n.$7q(n.$2DO(t));n.$1Y()},function(n){i.$21(n)}),1},$2DO:function(n){for(var r,t,u=new Array(0),i=0;i<n.get_$3ZH();i++)r=n.get_$I(i),t=r.get_$5c(),t.templateTypeCode===9940&&t.documentType===this.$xW&&this.$1tM(t.displayConditions)&&Array.add(u,r);return new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V))(u)},$1tM:function(n){var t,c,u,e,o,h;if($0.$1(n)||!n.length)return!1;if(n[0]==="everyone")return!0;t={};c=this;Array.forEach(n,function(n){t[new Microsoft.Crm.Client.Core.Framework.Guid(n).toString()]=!0});u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$G3;for(var f=u,l=f.length,i=0;i<l;++i)if(e=f[i],e.toString()in t)return!0;o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$oK;for(var s=o,a=s.length,r=0;r<a;++r)if(h=s[r],h.toString()in t)return!0;return!1}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3bV=function(){};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3bV.prototype={templateTypeCode:0,documentType:0,displayConditions:null};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$1u4=Function.createDelegate(this,this.$1u4);Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveAncestors",Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction;return t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$15N,t.$P=i.$$d_$1tz,t.$1M_3=i.$$d_$5O,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.prototype={$P:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$A_3.get_$2R(),this.get_$f()),this.$$d_$1u4,this.$$d_$5O),1},$1u4:function(n){var t,r,i;if(this.$A_3.get_$Dt()){this.$1Y();return}t=this.$A_3;r=t.$EW.get_Count()>0?t.$EW.get_$I(t.$EW.get_Count()-1):t.get_$1K().get_Id();t.$1Gz=n.get_$Gd();i=new Array(0);Array.add(i,n.get_$Gd());$0.$1(t.$7n)||Array.add(i,t.$7n);Array.add(i,n.get_$Hj());var f="<filter type='and'><condition attribute='"+n.get_$Hj()+"' operator='above' value='{"+r+"}' /><\/filter>",e=new Microsoft.Crm.Client.Core.Framework.Storage.$9A(new Microsoft.Crm.Client.Core.Framework.Storage.$4U(n.get_$Hj()),r.toString(),0,0),o=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nm(t.$J,i),s=o.$2fi(f,e),u=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(s,r);u.set_$7m(1);u.$32=49;u.$Mp=!0;this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(u,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(1,2),this.get_$f()),this.$$d_$4e,this.$$d_$5O)},$4e:function(n){var r=this.$A_3,i,t;$0.$1(this.$P)||r.$3w?this.$1Y():(i=Microsoft.Crm.Client.Core.Models.$1D.$B(n),t=this,this.$JF(function(){t.$P(i);t.$1Y();t.dispose()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1bH))},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$3Bd=Function.createDelegate(this,this.$3Bd);Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveCustomControlTemplate",Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$2Hi)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$2Hi=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$2kM(n),u=t,r=u.QueryValue;return i.$HB=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveCustomControlTemplateDataAction.RetrieveDefault"),i.$lJ=i.$$d_$3Bd,i.$h=String.format("CustomControlTemplate_{0}",r.customControlTemplateName),i.$1ww=r,i.$P=n.$$d_$2Nh,i.$1M_3=n.$$d_$3BZ,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$2kM=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction;return t.$A_3=n,t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1b9,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.prototype={$P:null,$h:null,$1ww:null,$lJ:null,$HB:null,$31:function(){$0.$1(this.$HB)||this.$HB.start();var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(48,this.get_$25(),"customcontrol",0,!1,this.$h),this.get_$f());return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),n,this.$lJ,this.$$d_$5O),1},$3Bd:function(n){var r,u,t,f,i;if($0.$1(this.$HB)||this.$HB.stop(),r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveCustomControlTemplateDataAction.ParseForDefault"),r.start(),u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor,n.get_$3ZH()>0)for(t=0;t<n.get_$3ZH();t++)if(f=n.get_$I(t),f.$4u===48){u=f.get_$5c();break}i={};i.descriptor=u;i.paramDictionary=this.$1ww;r.stop();this.$P(i);this.$1Y()},$5O:function(n){$0.$1(this.$HB)||this.$HB.stop();this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.initializeBase(this);this.$82="OpenDashboardCommand";this.$kp="_DashboardCommands";this.$1Jb=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_Dashboard_Group_Name");this.$1Gn=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_Dashboard_Group_Name");this.$4u=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?37:1;this.$uO=[0]};Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDashboardSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction;return i.$A_3=n,i.$Kb=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?$1M.$Rb(Microsoft.Crm.Client.Core.Framework.$1,37).toUpperCase():$1M.$Rb(Microsoft.Crm.Client.Core.Framework.$1,n.$o).toUpperCase(),Microsoft.Crm.Client.Application.ViewModels.$6T.$1SF(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDefaultListForEntityAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction,r=t;return i.$P=r.OnSuccessParameter,i.$S=r.EntityLogicalNameParameter,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.prototype={$P:null,$S:null,$31:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(11,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25(),this.$S,0,!0,null,1);return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,this.get_$f()),this.$$d_$4e,this.$$d_$21),1},$4e:function(n){n.get_$3ZH()>0?(this.$P(n.get_$I(0)),this.$1Y()):this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("No default list for entity found."))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEntityMetadataByDisplayNameAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction,r=t;return i.$P=r.OnSuccessParameter,i.$VW=r.EntityDisplayNameParameter,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.prototype={$P:null,$VW:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$1n),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Jz(this.get_$f()),this.$$d_$4e,this.$$d_$21),1},$4e:function(n){for(var t,r=this.$VW.toUpperCase(),u=n.$22N(),f=u.length,i=0;i<f;++i)if(t=u[i],t.get_$9t().toUpperCase()===r||t.get_$14f().toUpperCase()===r){this.$P(t);this.$1Y();return}this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("Entity not found."))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("QuickCreateRetrieveFormDataXml",Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$B);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("EditRootRetrieveFormDataXml",Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$2BN)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction,i=n;return t.$A_3=i,t.$IE=i.get_ModelContext().$M,t.$P=i.$$d_$1Yg,t.$Ff=i.$Ff,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$2BN=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction,i=n;return t.$A_3=i,t.$IE=i.get_ModelContext().$M,t.$P=i.$$d_$1Yg,t.$Ff=i.$Ff,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.prototype={$P:null,$IE:null,$Ff:null,$31:function(){var n,t;return $0.$1(this.$Ff)?this.$2W5():(n=this.$2kV(this.$Ff),$0.$1(n)||(t=Xrm.Soap.EntityRecordSerializer.loadFromCrmSoap(n),$0.$28(t)||this.$3D2(t))),1},$2kV:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n);return t.hasChildNodes()?Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(t).$At().get_$I(0):null},$3D2:function(n){for(var r,t,h,c,u=[],o=[],f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i={},s=n.get_fieldNames(),l=s.length,e=0;e<l;++e)r=s[e],t=n.$1Z[r],t===11||t===12||t===13?u.push(r):(t===6||t===9||t===1)&&o.push(r);i[Xrm.Objects.AttributeType.toString(11)]=u;i[Xrm.Objects.AttributeType.toString(6)]=o;f.addRange(u);f.get_Count()?(c=this,this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n.$3F.LogicalName,f.toArray()),this.get_$f()),function(t){c.$2OQ(t,i,n)},this.$$d_$9B)):(h=new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M)),this.$2OQ(h,i,n))},$2OQ:function(n,t,i){for(var f,e,r,o={},u=0;u<n.get_$3ZH();u++)o[n.get_$I(u).get_$1n()]=n.get_$I(u);f=t;for(e in f)r={key:e,value:f[e]},r.key===Xrm.Objects.AttributeType.toString(11)?i=this.$3D4(r.value,i,o):r.key===Xrm.Objects.AttributeType.toString(6)&&(i=this.$3D3(r.value,i));this.$IE.mergeChanges(i);this.$2W5()},$2W5:function(){var n=Xrm.Soap.EntityRecordSerializer.$3Vj(this.$IE);n.length?this.$Fw(n):this.$9B(Microsoft.Crm.Client.Core.Framework.$4.$i(String.format("Entity form data xml could not be formatted for entityrecord : {0}",this.$IE)))},$3D4:function(n,t,i){for(var f,h,c,e,l=n,a=l.length,s=0;s<a;++s){var u=l[s],o=this.$IE.getValue(u),r=t.getValue(u);if(!$0.$1(r)&&$0.$1(r.$1D))if($0.$1(o)||$0.$1(o.$1D)||o.$1i!==r.$1i){if(f=i[u],!$0.$1(f)&&!$0.$1(f.get_$BS())&&!$0.$1(f.get_$BS().$2f)){h=f.get_$BS().$2f;for(c in h)e={key:c,value:h[c]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(e.value)&&!$0.$1(e.value.$1D)&&e.value.$1i===r.$1i&&(r.$1D=e.value.$1D,t.setValue(u,r))}}else r.$1D=o.$1D,t.setValue(u,r)}return t},$3D3:function(n,t){for(var e=n,o=e.length,u=0;u<o;++u){var f=e[u],r=this.$IE.getValue(f),i=t.getValue(f);$0.$1(r)||$0.$1(r.Name)||$0.$1(i)||!$0.$1(i.Name)||r.Id.equals(i.Id)&&(i.Name=r.Name,t.setValue(f,i))}return t},$Fw:function(n){$0.$1(this.$P)||this.$P(n);this.$1Y()},$9B:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction=function(){Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("DeleteSnapViewEntries",Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$B=function(){return new Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.prototype={$31:function(){var n=this,t=this;return this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$10E("SnapData"),function(){n.$1Y()},function(n){t.$21(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction=function(){this.$$d_$1e1=Function.createDelegate(this,this.$1e1);this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("PopulateTileData",Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction,r,u;return i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1ZT,r=t,$0.$1(r)||(u=r.QueryValue,i.$1no=u.forcerefresh,i.$7Z=u.pinnedtilemodel,i.$Ey=i.$A_3.get_Root().$1t.toLowerCase()===Microsoft.Crm.Client.Core.Framework.$1.toString(1).toLowerCase()?0:1,$0.$1(r.OnSuccess)||(i.$7q=r.OnSuccess)),i};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.prototype={$1no:!1,$7Z:null,$Ey:0,$hn:null,$dz:null,$7q:null,$3FT:function(){return this.$31()},$31:function(){var n=this.$7Z.$2Ud(),t=$0.$1(n)?0:n.length,i,r;return t?t===1?(i=this,this.$1j(Object,n[0],function(){i.$1xO()},this.$$d_$5O)):(r=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),function(){r.$1xO()},this.$$d_$5O)):this.$1xO(),1},$1xO:function(){var n=new Array(0),i,r,u,t,f,e,o;this.$7Z.get_$ib()&&this.$7Z.get_$ib()!==3?this.$7Z.get_$ib()!==1||this.$7Z.get_$1do().equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())||(r=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(11,this.get_$25(),this.$7Z.get_$UP(),1,!1,this.$7Z.get_$1do().toString()),u=this.get_$lK().$5Y(r,this.get_$f()),Array.add(n,u)):(i=!$0.$1(this.$7Z.get_$G1()),(!i||this.$1no)&&this.$3Lj(n));t=$0.$1(n)?0:n.length;t?t===1?(f=this,e=this,this.$1j(Object,n[0],function(n){f.$1e1([n])},function(){e.$2ZP()})):(o=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),this.$$d_$1e1,function(){o.$2ZP()})):this.$1e1(null)},$1e1:function(n){if(!$0.$1(n)){var t=n[0];this.$2RT(t)}this.$4e()},$2ZP:function(){this.get_$lK().get_$r()||!Microsoft.Crm.Client.Core.Storage.Common.$1N.get_$nP()?this.$1BQ(this.$7Z.get_$2p()):(this.$7Z.set_$2Kq(!0),this.$1e1(null))},$2RT:function(n){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(n))this.$7Z.set_$G1(n);else if(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V).isInstanceOfType(n)){var t=n.get_$I(0);$0.$1(t)?this.$1BQ(this.$7Z.get_$2p()):this.$7Z.set_$G1(t)}},$3Lj:function(n){var f=this.$A_3.get_Root().$o===2,r=this.$7Z.get_$UP()===this.$A_3.get_Root().$J,e=Microsoft.Crm.Client.Core.Models.Tiles.Decorators.$Aa.isInstanceOfType(this.$7Z),u=Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$A_3.get_Root().get_ModelContext()),t=this.$A_3.get_Root().get_ModelContext(),i;f?r&&e&&u&&!$0.$1(t.$M)?this.$7Z.set_$G1(t.$M):r||!u||$0.$1(t.$M)||$0.$1(t.$M.$6H)?this.$2Ui(n):(i=t.$M.$6H.getByRelationshipName(this.$7Z.get_$3M0()),!$0.$1(i)&&i.get_count()>0&&this.$7Z.set_$G1(i.get_entities()[0])):this.$2Ui(n)},$2Ui:function(n){var u=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(this.$Ey,2,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$ft()),f=new Xrm.Objects.EntityReference(this.$7Z.get_$UP(),this.$7Z.get_$1do()),e,t,r,i,o,s;if(this.$7Z.get_$3Q6().equals(new Microsoft.Crm.Client.Core.Framework.Guid("{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"))){for(e=new Microsoft.Crm.Client.Core.Models.Tiles.Factories.$J0,t=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(e.$1Tu(this.$7Z)),this.$7Z.set_$1Jg(t),r=!1,i=0;i<t.$3Q.length;i++)if(o=t.$3Q[i],o.toLowerCase()===this.$7Z.get_$Li()){r=!0;break}r||t.$3Q.push(this.$7Z.get_$Li())}this.$7Z.get_$JI()?this.$3WY(f,u):(s=this.get_$lK().$6I(f,this.$7Z.get_$1Jg(),u,this.get_$f()),Array.add(n,s))},$3WY:function(n,t){var i=this;this.get_$2Vc().$1zu(function(){var r=i.get_$lK().$6I(n,i.$7Z.get_$1Jg(),t,i.get_$f());r.then(function(n){i.$2RT(n);$0.$1(i.$7q)||i.$7q(null)},function(n){n.$z===-2147220969&&(i.get_$lK().get_$r()||!Microsoft.Crm.Client.Core.Storage.Common.$1N.get_$nP()?i.$1BQ(i.$7Z.get_$2p()):(i.$7Z.set_$2Kq(!0),i.$7q(null)));$0.$1(i.$1M_3)||i.$1M_3(null)})},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1eQ,"UpdateCachedData")},get_$lK:function(){return this.$dz||(this.$dz=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3)},get_$2Vc:function(){return this.$hn||(this.$hn=new Microsoft.Crm.Client.Core.Models.$Ji)},$1BQ:function(n){var t=this;this.get_$lK().$lU(n).then(function(){t.get_$lK().$XA(n.$Gi,t.get_$f())},this.$$d_$5O)},$4e:function(){$0.$1(this.$7q)||this.$7q(null);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$BZ=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.$BZ.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$BZ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("PopulateSwitchProcessFlyOut",Microsoft.Crm.Client.Application.ViewModels.$BZ.$B)};Microsoft.Crm.Client.Application.ViewModels.$BZ.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$BZ,r;return i.$A_3=n,r=t,$0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.$BZ.prototype={$P:null,$31:function(){if(!$0.$1(this.$A_3)&&!$0.$1(this.$A_3.get_Root())){var n=this.$A_3.get_Root().$7X("ProcessManager");if(!$0.$1(n))return this.$1j(Microsoft.Crm.Client.Core.ViewModels.$64,n.$2Uo(),this.$$d_$4e,this.$$d_$5O),1}return this.$4e(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,null)),0},$4e:function(n){$0.$1(this.$P)||$0.$1(n)||this.$P(n);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveActivityCreateButtons",Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction,r=t;return $0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1yv,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.prototype={$2dw:function(n,t){var f=t.get_$9t(),e=t.get_$1n(),u={},r,i;u.RefreshContext=this.$A_3;r=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$2fd(e,f,"CreateCommand",{PrimaryModelName:t.get_$1n(),externalParameters:u},!0);i=new Microsoft.Crm.Client.Core.Models.Descriptors.ComponentDefinitionDescriptor;i.ViewModelDescriptor=r;i.ViewDescriptor=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(r);n.add(i)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveListByDisplayNameAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction,r=t;return i.$P=r.OnSuccessParameter,i.$1M_3=r.OnFailureParameter,i.$1ts=r.ListDisplayNameParameter,i.$S=r.EntityLogicalNameParameter,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.prototype={$P:null,$1ts:null,$S:null,$31:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(11,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25(),this.$S,0,!1,null,1,this.$1ts.toUpperCase());return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,this.get_$f()),this.$$d_$4e,this.$$d_$21),1},$4e:function(n){n.get_$3ZH()>0?(this.$P(n.get_$I(0)),this.$1Y()):this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("No list with given display name found."))}};Microsoft.Crm.Client.Application.ViewModels.$7E=function(){this.$$d_$2QV=Function.createDelegate(this,this.$2QV);this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.$7E.initializeBase(this);this.$5b=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V()};Microsoft.Crm.Client.Application.ViewModels.$7E.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveSubjectTreeWithData",Microsoft.Crm.Client.Application.ViewModels.$7E.$3PA)};Microsoft.Crm.Client.Application.ViewModels.$7E.$3PA=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$7E,r=t;return Microsoft.Crm.Client.Application.ViewModels.$7E.$1EM(i,n,r),i};Microsoft.Crm.Client.Application.ViewModels.$7E.$2kR=function(n,t){var r=t.QueryValue.toString(),i;n.$1dW=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(r);n.$21g=r;i="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<entity name='subject'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='subjectid' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='title'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='parentsubject'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<order attribute='createdon' descending='false' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/fetch>";n.$1dV=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(i);n.$21d=i};Microsoft.Crm.Client.Application.ViewModels.$7E.$1EM=function(n,t,i){var r=t;n.$A_3=r;n.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zZ;n.$P=r.$$d_$4e;n.$1M_3=r.$$d_$5O;Microsoft.Crm.Client.Application.ViewModels.$7E.$2kR(n,i)};Microsoft.Crm.Client.Application.ViewModels.$7E.prototype={$P:null,$5b:null,$wZ:null,$16S:null,$fE:!1,$1dV:null,$1dW:null,$21d:null,$21g:null,$cB:0,$31:function(){return this.$1mv(),1},$1mv:function(){if($0.$1(this.$1dV)||$0.$1(this.$1dW))this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(0));else{if(this.$A_3.get_$Dt()){this.$1Y();return}this.$2lx();this.$R1()}},$2lx:function(){this.$wZ=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(this.$1dV,this.$21d);this.$16S=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(this.$1dW,this.$21g);var n=$0.$1(this.$A_3.get_$1K())?"":this.$A_3.get_$1K().get_Id();this.$wZ.$K4(n,null,null,null,this.$5b);this.$16S.$K4(n,null,null,null,this.$5b);this.$wZ.$32=this.$16S.$32=100;this.$wZ.$Mp=this.$16S.$Mp=!0},$R1:function(){var n,t,i;this.$wZ.$Ae===1&&!0?(n=1,t=this.$cB):(n=2,t=1);i=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(this.$2fh(n,t)),function(n){n.length<2?i.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093999)):i.$4e(n[0],n[1])},this.$$d_$5O)},$2fh:function(n,t){var i=[],r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(n,t),u=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Framework.$4),f=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Framework.$4);return Array.add(i,u),Array.add(i,f),this.$33(this.$wZ,r,u,null),this.$33(this.$16S,r,f,null),i},$33:function(n,t,i,r){var u=this,f=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(n,t,this.get_$f()).then(function(n){var s,f;if(r){for(var o=n.get_entities(),h=o.length,e=0;e<h;++e)s=o[e],r.add(s);r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(r.get_entities(),n.$Bw,n.$A8,n.$K9,n.$1o,n.$4W)}else r=n;n.$Bw?(f=n.$1o,f.set_$7m(f.$Ae+1),u.$33(f,t,i,r)):i.resolve(r)},function(n){i.reject(n)})},$4e:function(n,t){var r,i;this.$fE=!0;r=this.$A_3;$0.$1(this.$P)||r.$3w?this.$1Y():(i=this,this.$JF(function(){i.$P(i.$2g0(n,t));i.$1Y()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1za))},$2g0:function(n,t){var i=this.$1Pt(n),r=this.$1Pt(t);return i.$un=r.$un=this.$$d_$2QV,new Microsoft.Crm.Client.Core.Models.$Tu(i,r)},$1Pt:function(n){return Microsoft.Crm.Client.Core.Models.$1D.$B(n)},$5O:function(n){if(n.$z===-2147093999){var t=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();this.$4e(t,t)}else this.$21(n)},$2QV:function(n){$0.$1(this.$A_3)||this.$A_3.get_$Dt()||n.$z===-2147093999||(this.$fE&&this.$A_3.$R0(n),Microsoft.Crm.Client.Core.Framework.Trace.logError(1,n.$E))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("RetrieveMultipleEntityAttributeMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$32a)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$32a=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction,r;return i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zL,r=t,i.$1xY=r.PrimaryEntityName,i.$Wu=r.PrimaryAttributeFieldNames,i.$Gf=r.RelatedAttributeFieldNames,i.$LY=r.RelationshipList,i.$P=r.OnSuccess,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.prototype={$P:null,$1xY:null,$Wu:null,$Gf:null,$LY:null,$31:function(){var n={},r,u,o;n["?primary?"]=null;var s=!$0.$1(this.$Wu)&&this.$Wu.length>0,t=[],i=[];s&&(Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$1xY,this.$Wu),this.get_$f())),Array.add(i,"?primary?"));r=this.$Gf;for(u in r){var f={key:u,value:r[u]},e=f.key,h=this.$LY[e].TargetEntityTypeName;Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(h,f.value),this.get_$f()));Array.add(i,e)}return o=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(t){for(var u=0,f=t,s=f.length,r=0;r<s;++r){var h=f[r],e=h.$22N(),c=e[0].get_$eQ();n[i[u].toString()]=e;u++}o.$Fw(n)},this.$$d_$9B),1},$Fw:function(n){$0.$1(this.$P)||this.$P(n);this.$1Y()},$9B:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$Bu=function(){Microsoft.Crm.Client.Application.ViewModels.$Bu.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$Bu.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveMultipleEntityForNoteAction",Microsoft.Crm.Client.Application.ViewModels.$Bu.$B)};Microsoft.Crm.Client.Application.ViewModels.$Bu.$B=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.$Bu,i=t;return $0.$1(i.OnSuccess)||(r.$P=i.OnSuccess),$0.$1(i.OnFailure)||(r.$1M=i.OnFailure),r.$1tx=i.QueryValue,r};Microsoft.Crm.Client.Application.ViewModels.$Bu.prototype={$P:null,$1M:null,$1tx:null,$31:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$ft()),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(this.$1tx,n,Microsoft.Crm.Client.Core.Framework.$G.$b("","RetrieveMultipleEntityForNoteAction")),i=this,r=this;return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,t,function(n){i.$P(n)},function(n){r.$1M(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveMultipleEntityMetadataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction,r,u;return $0.$1(n)?Object.isInstanceOfType(t)&&(u=t,i.$sU=u.EntityLogicalNamesParameter,i.$P=u.OnSuccessParameter):Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Dt.isInstanceOfType(n)&&(r=n,i.$sU=r.get_$2oa(),i.$P=r.get_$2ob(),i.$A_3=r),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.prototype={$P:null,$sU:null,$31:function(){var t,n,i;if(!$0.$1(this.$sU)&&this.$sU.length>0){for(t=[],n=0;n<this.$sU.length;n++)Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$sU[n],this.get_$f()));return i=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(n){i.$4e(n)},this.$$d_$21),1}throw Error.argument("entityLogicalNames","entityLogicalNames is not provided");},$4e:function(n){$0.$1(this.$P)||this.$P(n);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveApplicationSettings",Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction,r=t;return $0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.prototype={$P:null,$31:function(){var u=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("ApplicationSettingsID"),n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),w=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsSignoutCommand","Button","SignOutCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Signout"),n.get_Count()+1,"System","Settings","Symbol",null,!0),f,e,o,s,h,i,c,l,t,r,a,v,y,p;return n.add(w),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$1UU()&&(f=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsReconfigureCommand","Button","ReconfigureCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Reconfigure"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(f)),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$1uU()&&(e=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsDiagnosticsCommand","Button","ShowDiagnosticsAndErrorsCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Diagnostics_ClientExtensions"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(e)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("LandingPage")&&(o=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsLandingPageCommand","Button","ShowLandingPageSettingsCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_LandingPage"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(o)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("PaneStackingOnPhones")&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&(s=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingPaneStackingCommand","Button","ShowPaneStackingSettingCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_PaneStacking_Label"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(s)),!$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u().get_$3U2()&&(h=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("DeviceSettingsCommand","Button","ShowDeviceSettingsCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_DeviceIntegration"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(h)),i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.NavBar.SettingsLearningPath_OptIn_Caption"),c=Xrm.Internal.isGuidedHelpEnabledForUser(),c&&(i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.NavBar.SettingsLearningPath_OptOut_Caption")),l=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("GuidedHelpSettingsCommand","Button","GuidedHelpSettingsCommand",i,n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(l),t={},t.protocol="http:",r=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Help_Link"),r+="&clcid=0x"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$12r().toString(16),t.target=r,a=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsHelpCommand","Button","UrlLauncherCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Help"),n.get_Count()+1,"System","Settings","Symbol",t,!0),n.add(a),v=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsAboutCommand","Button","ShowAboutInformationCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_About"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(v),Microsoft.Crm.Client.Core.ViewModels.$n.$1st()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("MobileClientOffline")&&!Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$1WF()&&(y=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsOfflineCommand","Button","OfflineOptinCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Offline"),n.get_Count()+1,"System","Settings","Symbol",null,!1),n.add(y)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("MobileClientOffline")&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("MobileClientOfflineAutoOptin")&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.$2Mf()&&(p=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsOfflineDisableCommand","Button","OfflineOptOutCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_OfflineOptOut"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(p)),u.Controls=n.toArray(),$0.$1(this.$P)||this.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,u)),this.$1Y(),0}};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$2gQ=Function.createDelegate(this,this.$2gQ);Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("ExecuteQuickFindAction",Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$B)};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction;return t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.prototype={$P:null,$sa:null,$9N:null,$1o:null,$70:null,$XD:null,$31:function(){var t,n;return Microsoft.Crm.Client.Core.Framework.$3.$1O(this.$A_3.$70)||(this.$XD=this.$A_3.get_EntityNames(),t=this.$A_3,this.$70=this.$A_3.$70,n=new Xrm.Sdk.Internal.MobileClientOfflineRequest(new Xrm.Sdk.ExecuteQuickFindRequest(this.$70,null,this.$XD),this.$$d_$2gQ),this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(n,this.get_$f()),this.$$d_$4e,this.$$d_$5O)),1},$4e:function(n){$0.$1(this.$sa)||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("LoadedSearchData"),this.$sa.stop(),this.$sa=null);$0.$1(this.$P)||this.$P(n.result);this.$1Y()},$5O:function(n){$0.$1(this.$sa)||(this.$sa.stop(),this.$sa=null);$0.$1(this.$1M_3)||this.$1M_3(n);this.$21(n)},$2gQ:function(){var t=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$4),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$XD[0],1,!0,null,3),n=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(i,this.get_$f()).then(function(i){var r,h,c;if(i.get_$3ZH()){r=i.get_$I(0);for(var f=i.$22N(),l=f.length,u=0;u<l;++u){var e=f[u],o=e.get_$GK(),s=$0.$1(o)?null:o.$A9(2);if(!$0.$1(s)&&s.toString().match(new RegExp("Quick\\s?Find"))){r=e;break}}n.$9N=r.get_$GK();n.$1o=new Microsoft.Crm.Client.Core.Storage.DataApi.$T0(n.$9N,n.$70,n.$XD);h=n.$1o.$9N.$A9(2);Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()&&Microsoft.Crm.Client.Core.Framework.$3.$1O(h)?(c=[new Xrm.Sdk.QuickFindResult(n.$1o.$XD[0],new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(new Array(0),!1,0,!1,n.$1o),-2147093989)],t.resolve(new Xrm.Sdk.ExecuteQuickFindResponse(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.QuickFindResultCollection.createFromEntities(c)))):Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(n.$1o,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),n.get_$f()).then(function(i){var r=[new Xrm.Sdk.QuickFindResult(n.$1o.$XD[0],i,0)];t.resolve(new Xrm.Sdk.ExecuteQuickFindResponse(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.QuickFindResultCollection.createFromEntities(r)))},function(n){Microsoft.Crm.Client.Core.Framework.$B.$C("DataSource_ExecuteQuickFind_RetrieveMultiple_LocalError",1005,n.$E);t.reject(n)})}else n.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Sdk.ExecuteQuickFindRequest(null,null,n.$XD),n.get_$f()),n.$$d_$4e,n.$$d_$5O)},this.$$d_$5O),t.promise()}};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("ExecuteExternalSearchAction",Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$B)};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$B=function(n){var t=null,i=new Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction;if(Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel.isInstanceOfType(n))if("HeaderGroup"in n.$2.$F)t=n.$2.$F.HeaderGroup.$F.SearchBox,i.$1Z6=n.$1s.$BT;else return null;else t=n;return i.$P=t.$$d_$4e,i.$1M_3=t.$$d_$5O,i.$A_3=t,i};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.prototype={$P:null,$1Z6:0,$32:0,$vT:null,$1R4:null,$1W3:!1,$1Fa:null,$31:function(){var n=this.$A_3;return this.$32=n.get_RelevanceSearchPageSize(),Microsoft.Crm.Client.Core.Framework.$3.$1O(n.$70)||(n.$Ko&&n.$Ko.length===1?(this.$1W3=!0,this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1ze(n.$Ko[0],this.get_$f()),this.$$d_$4e,this.$$d_$5O)):this.$2Jd()),1},$342:function(n,t,i,r,u,f,e,o,s,h,c){var a="",b=this.$1qE(2),k=this.$1qE(6),d=this.$A_3,v,l,p,w,y;if($0.$1(d.get_FacetPaneViewModel())||(a+="&facet=(@search.entityname,"+k+"),(ownerid,"+k+"),(modifiedon,"+b+"),(createdon,"+b+")"),t.length===1&&!$0.$1(s))for(v=0;v<s.length;v++)a+=",("+t[0]+"."+s[v].get_$1n()+","+this.$1qE(s[v].get_$5R())+")";if(l="",a+="&search="+CrmEncodeDecode.CrmUrlEncode(n),t.length>0&&(a+="&searchEntities="+t.join(",")),i){if(p=f[t[0]].toString()==="1",w=e[t[0]].toString()==="1",p)for(y=0;y<c.length;y++)Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(c[y]).get_$8p()&&(a+=","+c[y]);w&&(a+=",annotation");p&&(l+="activities:regardingobjecttypecode eq '"+t[0]+"'");w&&(p&&(l+=","),l+="annotation:objecttypecode eq '"+t[0]+"'")}return $0.$1(h)||h===""||(l!==""&&(l+=" and "),l+=h),$0.$1(o)||o===""||(""!==l&&(l+=","),l+=o),l!==""&&(a+="&$filter="+l),a+="&$top="+Math.min(r,1e3).toString(),0<u&&(a+="&$skip="+Math.min(Math.max(0,u*r),1e5).toString()),a},$1qE:function(n){switch(n){case 2:return"values:"+this.$1DL("year",-1)+"|"+this.$1DL("month",-1)+"|"+this.$1DL("week",-1)+"|"+this.$1DL("day",-1)+"|"+this.$1DL("today",0);case 5:case 8:case 3:return"interval:100";default:return"count:100"}},$1DL:function(n,t){var i=new Date;switch(n){case"year":i.setFullYear(i.getFullYear()+t);break;case"month":i.setMonth(i.getMonth()+t);break;case"week":i.setDate(i.getDate()+t*7);break;case"day":i.setDate(i.getDate()+t)}return i.toJSON()},$4e:function(n){var i,h,t,e,c,o,s,l,r,u,f,p;if(this.$1W3){if(i=this.$A_3,h=$.parseJSON(n.Value),this.$1W3=!1,t="",$0.$1(i.$Ko)||i.$Ko.length!==1||(t=i.$Ko[0]),e=new Array(0),this.$1R4={},!$0.$1(t)){c=h[t];o=c.attributeNames;for(s in o)l={key:s,value:o[s]},r=l.value,Array.add(e,r.logicalName),this.$1R4[r.logicalName]=r.LookUpOTC}u=this;this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),this.$P7(t,e),function(n){$0.$1(n)||(u.$1Fa=n.get_$3ZH()?n.$22N():new Array(0),u.$2Jd())},this.$$d_$5O)}else{var a={},v=this.$A_3,w=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonSerializers.$6B.$2t3(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V(),this.$32,this.$1Z6+1,a,this.$vT),y=new Array(1),b=new Xrm.Sdk.QuickFindResult("multiItem",w,0);y[0]=b;f=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.QuickFindResultCollection(y);p=$0.$1(v.$Ko)?"":v.$Ko[0];f.$1C8=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonSerializers.$6B.$2t4(n,this.$1Fa,p,this.$1R4);f.$1EH=a;$0.$1(this.$P)||this.$P(f);this.$1Y()}},$P7:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Framework.$4),r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n,t),this.get_$f()).then(function(n){i.resolve(n)},function(n){i.reject(n)}),i.promise()},$2Jd:function(){for(var i,u,n=this.$A_3,r=n.$JL.get_Items(),f=r.length,t=0;t<f;++t)if(i=r[t],i.$G==="multiItempane"){this.$vT=i.$F.multiItemList.$vT;break}u=this.$342(n.$70,n.get_EntityNames(),n.$cR,this.$32,this.$1Z6,n.$W9,n.$ZQ,n.$6v,this.$1Fa,n.$OD,n.get_ItemValues());this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1mu(u,this.get_$f()),this.$$d_$4e,this.$$d_$5O)},$5O:function(n){$0.$1(this.$1M_3)||this.$1M_3(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.PingServerAction=function(){this.$$d_$2oC=Function.createDelegate(this,this.$2oC);Microsoft.Crm.Client.Application.ViewModels.PingServerAction.initializeBase(this);this.$1ZN=this.$$d_$2oC};Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("PingServer",Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$B)};Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.PingServerAction;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.PingServerAction.prototype={$1ZN:null,$31:function(){return Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.add_$Tp(this.$1ZN),Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.$1in(),1},$2oC:function(n,t){var i,r;if(Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.remove_$Tp(this.$1ZN),t.$L9)t.$F5.$z===-2147093999?this.$1xB(null):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Di.$19u(0,t.$F5.$TI());else if(Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()&&!$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p())&&!$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$6V())&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$6V().get_$3H())if(Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance()){Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=!1;i=new Date;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("UpSync.Started",1);Microsoft.Crm.Client.Core.Framework.$B.$C("StartPlayback",1004,"Playback Started");r=Xrm.Internal.getResourceString("Msg_Progress_MOCA_Dialog");Xrm.Internal.progress(r,40,100,0);var f=this,e=this,u=this;Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance().$1dO().then(function(n){var r=new Date,u=r-i,f=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ok("MOCADataSyncTransitionTime","","",0,"","",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),"","",u),t;Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(f);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("UpSync.Completed",1);n.$1LE||(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ok("MOCADataSyncSuccess","","",0,Microsoft.Crm.Client.Core.Offline.Upsync.Common.$5d.toString(n.$qu),"",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),(new Date).toString(),"",0),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t));Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=!0},function(n){var r=new Date,u=r-i,t;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("UpSync.Failed",1);t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ok("MOCADataSyncTransitionTime","","",0,"","MOCADataSyncTransitionTime is failed",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),"","",u);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t);n.$E.toLowerCase()!=="no records found"&&Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Error occured while UpSync. Error details -- "+n.$E);Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=!0}).always(function(){Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$cI>0&&(Microsoft.Crm.Client.Core.Framework.$B.$1E("PlaybackErrorCount",1004,"Playback error count: "+Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$cI),u.$3UM(Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$cI,Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$jm));u.$2Ri();window.setTimeout(function(){Xrm.Internal.progress("",0,0,0)},1e3)})}else Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Unable to instantiate playback manager.");else this.$2Ri()},$3UM:function(n,t){if(n>0){var u=this,f=function(){u.$2YB()},e=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Sync_Status_Error_Message"),r="",i=e;$0.$1(t)||(r=Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Last_Save_To_CRM_Server_Text"),t.toString()),i=i+"\n\n"+r);Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Sync_Status_Dialog_Title"),i,0,null,f,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_OK_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Show_Details_Text"))}},$2YB:function(){var n=new Microsoft.Crm.Client.Core.Commands.$33(null,13);n.$J="syncerror";n.$1B={};n.$1B.ListDefinitionId="F1203E8B-6C6A-4210-906E-8428CB1FDE68";n.execute();n.dispose()},$2Ri:function(){var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$vD().then(function(t){var i,r;t?(i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y(Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y.$2Rl,null),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i),n.$1Y()):(r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y(Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y.$1xA,null),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(r),n.$1xB(null))},function(n){var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y(Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y.$1xA,n.$E);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i);t.$1xB(n)})},$1xB:function(n){$0.$1(n)?n=Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093998):n.$z=-2147093998;this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDataSetMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$JS=function(n,t){var f=n,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction,u,r;return i.$A_3=f,u=t,r=u.QueryValue,i.$S=r.entityLogicalName,i.$AA=r.viewId,i.$P=u.OnSuccess,"isLookup"in r&&r.isLookup&&i.$AA===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()&&(i.$1Va=!0),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.prototype={$P:null,$S:null,$AA:null,$1Va:!1,$31:function(){var t=this.$1Va?new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$S,1,!0,null,2):new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$S,1,!1,this.$AA),i=this.$1Va?new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(30,this.get_$25(),this.$S,1,!0,null,2):new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(30,this.get_$25(),this.$S,1,!1,this.$AA),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(t,this.get_$f()),u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(i,this.get_$f()),n=this,f=this;return this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(r,u),function(t){($0.$1(t)||t.length<2)&&n.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147094003));var i=t;n.$35p(i)},function(n){f.$5O(n)}),1},$35p:function(n){this.$P(n);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction=function(n){Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.initializeBase(this);this.$1jX=n};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveFilteredProcesses",Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$B=function(n,t,i){var u=n,e=u.get_Root(),r,f;return i=i||new Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MI(u,new Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MH(e)),r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction(i),r.$A_3=u,r.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1I0,f=t,$0.$1(f.OnSuccess)||(r.$P=f.OnSuccess),r};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.prototype={$1jX:null,$31:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RetrieveFilteredProcessesRequest(this.$A_3.get_$2R()),this.get_$f()),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(15,this.get_$25(),this.$A_3.get_$2R(),1),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(i,this.get_$f()),n=this,u=this;return this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,r),function(t){if(t.length===2&&!$0.$1(t[0])&&t[0].name==="RetrieveFilteredProcesses"&&Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V).isInstanceOfType(t[1])){var i=t[0].processes,r=t[1];n.$2Ue(i,r)}else n.$6q(null)},function(n){var t=n;u.$3Ow(t)}),1},$1SL:function(n){for(var r,i=new Array(0),t=0;t<n.get_count();t++)r=n.get_entities()[t],i[t]=this.$1jX.$Ar(r,t);return i},$1UE:function(){this.$2Ue(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty(),new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V)))},$3Ow:function(n){n.$z===-2147093999?this.$1UE():this.$21(n)},$2Ue:function(n,t){var i,u,f,e,r,o,s;if(!this.$A_3.get_$Dt()){for(i=new Array(0),u=0;u<n.get_count();u++){for(f=n.get_$I(u),e=!1,r=0;r<t.get_$3ZH();r++)if((!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||!this.$3AE(t.get_$I(r)))&&(o=t.get_$I(r).$h.toString(),s=f.$N.Id.toString(),o===s)){e=!0;break}e&&(i[i.length]=f)}var h=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(i,!1,i.length,!1),c=this.$1SL(h),l=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("change_process",c,0),a=new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,l);this.$P(a)}this.$1Y()},$3AE:function(n){var u=n.get_$5c(),o=n.$6o,t,i,f,r,e;if(!$0.$1(u)){t=u.ChildViewModels;for(i in t)if(f={key:i,value:t[i]},r=f.value,r.TypeName==="ProcessEntity"&&(e=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"EntityLogicalName",r.Properties),e!==o))return!0}return!1},$P:null};Microsoft.Crm.Client.Application.ViewModels.$Bv=function(){this.$$d_$3Oj=Function.createDelegate(this,this.$3Oj);this.$$d_$3Ok=Function.createDelegate(this,this.$3Ok);Microsoft.Crm.Client.Application.ViewModels.$Bv.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$Bv.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveMultipleProcessInstances",Microsoft.Crm.Client.Application.ViewModels.$Bv.$B)};Microsoft.Crm.Client.Application.ViewModels.$Bv.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$Bv,r,u;return i.$A_3=n,r=t.QueryValue,"entityLogicalName"in r&&(i.$S=r.entityLogicalName),"currentEntityId"in r&&(i.$VK=r.currentEntityId),u=t,$0.$1(u.OnSuccess)||(i.$P=u.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.$Bv.prototype={$VK:null,$S:null,$P:null,$1M:null,$31:function(){return $0.$1(this.$VK)&&(this.$VK=new Microsoft.Crm.Client.Core.Framework.Guid(this.$A_3.get_ModelContext().get_Id())),this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$hY(this.$S,this.$VK.toString(),this.get_$f()),this.$$d_$3Ok,this.$$d_$3Oj),1},$3Ok:function(n){$0.$1(this.$P)||this.$P(n);this.$1Y()},$3Oj:function(n){$0.$1(this.$1M)||this.$1M();this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$6Q=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.$6Q.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$6Q.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveMultipleRecords",Microsoft.Crm.Client.Application.ViewModels.$6Q.$1qi)};Microsoft.Crm.Client.Application.ViewModels.$6Q.$1qi=function(n,t){var i,u;Microsoft.Crm.Client.Core.Framework.Utils.$D.$22K(Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(n),"Action context is not IMultipleEntityAttributeFormViewModel");i=new Microsoft.Crm.Client.Application.ViewModels.$6Q;u=n;i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hZ;i.$A_3=u;var r=t,f=r.EntityLogicalName,e=r.EntityId;return i.$CO=new Xrm.Objects.EntityReference(f,new Microsoft.Crm.Client.Core.Framework.Guid(e)),i.$3R=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(r.PrimaryAttributeFieldNames),i.$UB=r.RelatedEntitiesQuery,i.$1aU=r.RelatedAttributes,i.$4W=r.RetrieveOptions,i.$P=r.OnSuccess,i};Microsoft.Crm.Client.Application.ViewModels.$6Q.prototype={$P:null,$UB:null,$1aU:null,$31:function(){var n=this.$A_3;return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$an(this.$CO,this.$3R,this.$3R,this.$UB,this.$4W,this.get_$f(),Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n)?n.$29q(this.$CO):null),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){var e=[],i,f,h,t,c;if(n.$6H.$7S)for(var o=n.$6H.$7S,l=o.length,r=0;r<l;++r)if(i=o[r],i.get_$2O()&&i.get_$2O().get_entities())for(var s=i.get_$2O().get_entities(),a=s.length,u=0;u<a;++u)f=s[u],f&&(h=i.get_$4z().$9D in this.$1aU?this.$1aU[i.get_$4z().$9D]:null,Array.add(e,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$173(f,h)));t=this;c=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e),function(){var i=Microsoft.Crm.Client.Core.Models.$BK.$317(n);$0.$1(t.$P)?t.$A_3.UpdateRecordModel(i).done(function(){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&t.$2Ne(t.$A_3);t.$1Y()}):(t.$P(i),t.$1Y())},function(n){c.$5O(n)})},$2Ne:function(n){var i,r,t;if(Microsoft.Crm.Client.Core.Framework.$1I.$m(n.$F)>0){i=n.$F;for(r in i)t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(t.value)?t.value.$1u1():Microsoft.Crm.Client.Core.ViewModels.$2Z.isInstanceOfType(t.value)&&this.$2Ne(t.value)}}};Microsoft.Crm.Client.Application.ViewModels.$6R=function(){Microsoft.Crm.Client.Application.ViewModels.$6R.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$6R.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveNavigationEntities",Microsoft.Crm.Client.Application.ViewModels.$6R.$B)};Microsoft.Crm.Client.Application.ViewModels.$6R.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$6R,r=t;return $0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),Microsoft.Crm.Client.Application.ViewModels.$6R.$38f(i,n),i};Microsoft.Crm.Client.Application.ViewModels.$6R.$38f=function(n,t){n.$A_3=t;n.$VK=t.get_ModelContext().get_Id();n.$150=t.$1JI;n.$vZ=t.get_$2Ss();n.$1aN=t.get_$3La();n.$UJ=t};Microsoft.Crm.Client.Application.ViewModels.$6R.prototype={$P:null,$VK:null,$150:null,$vZ:null,$1aN:null,$UJ:null,$31:function(){if(!$0.$1(this.$150)&&!$0.$1(this.$vZ)){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$15O(this.$VK,this.$150,this.$vZ,this.$1aN,this.get_$f()),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$vZ,this.get_$f()),n=this,r=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,i),function(t){var r=t[0],u=t[1],i=r;i.ShowCreate=i.ShowCreate&&n.$3U1(u);n.$3OI(i)},function(n){r.$3OH(n)})}return 1},$3U1:function(n){return!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(!n.$Oj||n.$Ze)||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&!n.$Du?!1:this.$150==="lead"&&this.$vZ==="opportunity"?!1:this.$150==="quote"&&this.$vZ==="salesorder"?!1:!0},$3OI:function(n){var i=this.$32k(),t;$0.$1(this.$P)||$0.$1(n)||$0.$1(i)||(t=this.$1SL(n,i),n.ShowCreate&&(t[t.length]=this.$2jc(n.EntityLogicalName,i)),this.$P(t));this.$1Y()},$1SL:function(n,t){for(var u,r=new Array(0),i=0;i<n.NavigationEntities.length;i++)u=n.NavigationEntities[i],r[i]=this.$2le(u,i,t);return r},$2le:function(n,t,i){var h=n.PrimaryField,o=n.EntityLogicalName,c=o+"_navigationButton"+t,r={},s,u,e,f;return r.NextEntityId=n.Id,r.NextEntityLogicalName=o,r.TargetViewModel=this.$A_3,r.ActionType="NavigateToNextEntity",r.NewActiveStageId=i.get_$6A(),r.NewTraversedPath=i.get_$CU().get_$Gb(),s=new Microsoft.Crm.Client.Core.ViewModels.Commands.$BL(r),u={},u.StageViewModel=this.$UJ,u.SuccessCommand=s,u.EntityId=new Microsoft.Crm.Client.Core.Framework.Guid(n.Id).toString(),e=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$2fd(c,h,"ProcessStageGateCommand",u),f=new Microsoft.Crm.Client.Core.Models.Descriptors.ComponentDefinitionDescriptor,f.ViewModelDescriptor=e,f.ViewDescriptor=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(e),f},$2jc:function(n,t){var i={},e,r,f,u;return i.RefreshContext=this.$A_3,i.IsSaveAndCloseButtonHidden=!0,i.IsSaveAndEditButtonHidden=!0,i.IsSaveAndProcessNavigateButtonHidden=!1,i.RelationshipAttribute=[this.$1aN],i.ParentReference=this.$A_3.get_$1K().get_$Qt(),i.NewActiveStageId=t.get_$6A(),i.NewTraversedPath=t.get_$CU().get_$Gb(),e=new Microsoft.Crm.Client.Core.Commands.CreateFormCommand(this.$A_3,n,i),r={},r.StageViewModel=this.$UJ,r.SuccessCommand=e,f=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$2fd("process_create_navigation_entity",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.CreateNew"),"ProcessStageGateCommand",r),u=new Microsoft.Crm.Client.Core.Models.Descriptors.ComponentDefinitionDescriptor,u.ViewModelDescriptor=f,u.ViewDescriptor=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(f),u},$32k:function(){var i=this.$UJ.$A6;if($0.$1(this.$UJ.get_$1v()))return null;var n=this.$UJ.get_$1v().get_$AW(),t=n.$Ja(i),r=Mscrm.ProcessControlShared.ObjectModels.$2X.$OV(n.get_$F4(),t);return new Mscrm.ProcessControlShared.ObjectModels.$I8(new Mscrm.ProcessControlShared.ObjectModels.$2X(r),t)},$3OH:function(n){n.$z===-2147093999?(this.$1UE(),this.$1Y()):this.$21(n)},$1UE:function(){this.$P(new Array(0))}};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrievePersonalDocumentTemplates",Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction,r,u;return i.$A_3=n,i.$1RA=Xrm.Internal.getEntityCode(i.$A_3.get_$2R()),r=t,$0.$1(r.OnSuccess)||(i.$7q=r.OnSuccess),$0.$1(r.OnFailure)||(i.$1M_3=r.OnFailure),$0.$1(r.QueryValue)||(u=r.QueryValue,$0.$1(u.DocumentType)||(i.$xW=u.DocumentType)),i};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.prototype={$7q:null,$xW:0,$1RA:0,$31:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(44,this.get_$25(),this.$A_3.get_$2R(),0),null);return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),n,this.$$d_$4e,this.$$d_$21),1},$4e:function(n){this.$7q(this.$2DO(n));this.$1Y()},$2DO:function(n){for(var i,r,u=new Array(0),t=0;t<n.get_$3ZH();t++)i=n.get_$I(t),r=i.get_$5c(),r.templateTypeCode===9941&&r.documentType===this.$xW&&Array.add(u,i);return new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V))(u)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveProvisionedLanguages",Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction,i=n;return t.$P=i.$$d_$4e,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.prototype={$P:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.DataApi.$1j,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$RI(),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){$0.$1(this.$P)||this.$P(n.$1H.$VU,n.$1H.$Bu);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveGlobalCreateEnabledEntities",Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$2fe=function(n,t,i,r){var u=!0;return Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()&&(u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?!0:Xrm.Utility.isEntityOfflineSyncEnabled(r)),new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(n,"Button","CreateCommand",t,i,"System","Add","Symbol",{PrimaryModelName:r},u)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction,r=t;return $0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.prototype={$P:null,$31:function(){for(var n,t,u=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("CreateNewCommandsID"),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),f=Microsoft.Crm.Client.Core.ViewModels.$3H.$XN,r=0;r<f.get_Count();r++)n=f.get_$I(r),t=n.LogicalName,n.IsChildEntity||t==="activitypointer"||t==="syncerror"||i.add(Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$2fe(t,n.DisplayName,i.get_Count()+1,n.LogicalName));return u.Controls=i.toArray(),this.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,u)),0}};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveGlobalMenuData",Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction,i=n;return t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$ou,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.prototype={$31:function(){var o=this.$A_3,f=new Sys.StringBuilder,i=0,e=o.$AK.$F,r,t,n;for(r in e)t={key:r,value:e[r]},Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(t.value)&&(n=t.value,n.set_Visible(!1),n.set_Enabled(!1),!$0.$1(n.$J)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(n.$J,1)&&(f.append("<value>"+t.key+"<\/value>"),i++));if(!i)return 0;var s="<filter type='and'><condition attribute='uniquename' operator='in'>"+f+"<\/condition><condition attribute='statecode' operator='eq' value='1'/><\/filter>",h=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nm("workflow",["uniquename","processroleassignment"]),c=h.$2fi(s),u=new Microsoft.Crm.Client.Core.Storage.DataApi.$v(c,"");return u.$Mp=!0,u.$32=i,this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(u,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$4e,this.$$d_$21),1},$4e:function(n){for(var i=this.$A_3,o=i.$AK.$F,r=n.get_entities(),s=r.length,t=0;t<s;++t){var u=r[t],f=o[u.getValue("uniquename")],h=this.$2Hn(u),e=this.$1tM(h);f.set_Visible(e);f.set_Enabled(e)}i.$8(Microsoft.Crm.Client.Core.ViewModels.$5C.$1U5);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction=function(){this.$$d_$2Pf=Function.createDelegate(this,this.$2Pf);this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$3Be=Function.createDelegate(this,this.$3Be);this.$$d_$3Bc=Function.createDelegate(this,this.$3Bc);Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.initializeBase(this);this.$82="ChangeControlCommand";this.$kp="_ControlCommands";this.$uO=[0];this.$HU=!1};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveControlConfigurations",Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$JS);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDefaultControlConfiguration",Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$2Hi)};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$JS=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$294(n),r;return i.$HB=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.RetrieveForCommands"),i.$lJ=i.$$d_$3Bc,r=t,$0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$2Hi=function(n){var t=Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$294(n);return t.$HB=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.RetrieveDefault"),t.$lJ=t.$$d_$3Be,t.$P=n.$$d_$1wH,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$294=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction,i,r;return t.$A_3=Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(n)?n:n,t.$J=t.$A_3.get_$2R(),t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1b9,i="",r="",$0.$1(t.$A_3.get_Root().$1t)||t.$A_3.get_Root().$1t.toUpperCase()!=="WORKSPACE"?t.$A_3.get_Root().$G==="EntityEditFormRootViewModel"?(i=t.$A_3.get_Root().$J,r=String.format("{0}_{1}",i,t.$A_3.get_Root().$h)):(i=t.$A_3.get_$2R(),r=String.format("{0}_{1}",i,t.$A_3.get_Root().$h)):(i=t.$A_3.get_Root().$1t.toUpperCase(),r=String.format("{0}_{1}","",t.$A_3.get_Root().$h)),t.$Kb=i,t.$h=r,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.prototype={$P:null,$Kb:null,$J:null,$h:null,$82:null,$uO:null,$kp:null,$HU:!1,$lJ:null,$HB:null,$31:function(){var n,t;return $0.$1(this.$HB)||this.$HB.start(),n=this.$A_3.get_Root().$6F(this.$A_3),(!Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(this.$A_3)||this.$A_3.get_RetrieveRequired())&&(Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(this.$A_3)||Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$A_3)||Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(n))&&(!Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(n)||n.get_RetrieveRequired())?(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(42,this.get_$25(),this.$Kb,0,this.$HU,this.$h),this.get_$f()),this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),t,this.$lJ,this.$$d_$5O),1):(this.$lJ(new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V))),0)},$3Bc:function(n){var v,d,o,y,s,f,r,l,e,u,t,g,h,i,p,a,c,w,nt,b,k,tt;if($0.$1(this.$HB)||this.$HB.stop(),v=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.ParseForCommands"),v.start(),d=this.$Kb+this.$kp,o=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet(d),n.get_$3ZH()>0)for(y=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),s=0;s<n.get_$3ZH();s++)if(f=n.get_$I(s),f.$4u===42&&(r=null,l=f.get_$5c(),l.length>0)){for(e={},u=0;u<l.length;u++)if(t=l[u],t.TypeName==="Grid"||t.TypeName==="MultilineList"||t.PrimaryModelName===this.$J){if(g=new RegExp('{"Value":"\\d","Name":"FormFactor"}'),h=JSON.stringify(t.Properties).replace(g,""),h in e){this.$2M8(t.Properties)&&(e[h].CommandParameters.Index=u);continue}if(i={},i.ApplicationMetadataType=n.get_$I(s).get_$1Np(),i.Descriptor=null,!$0.$1(this.$A_3.get_Root())&&$0.$1(r)&&(r=t.TypeName==="Grid"||this.$A_3.get_Root().$G==="GridRootViewModel"?this.$A_3.get_Root().$7X("GridContainer"):Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(this.$A_3)?this.$A_3:Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$A_3)?Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$tP(this.$A_3.get_Root(),this.$A_3):this.$A_3.get_Root().$6F(this.$A_3)),!$0.$1(r)&&Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(r))if(i.ContainerViewModel=r,t.TypeName==="CustomControl"){if(r.$sA===t.Name||$0.$1(r.$sA)){for(i.Descriptor=t,p=t.Properties,a=0;a<p.length;a++)if(c=p[a],c.Name==="DisplayName"){try{i.DisplayName=Microsoft.Crm.Client.Core.Framework.Common.$2.$6(c.Value.toString())}catch(ft){i.DisplayName=$0.$1(c.Value)?t.TypeName:c.Value.toString()}break}i.Index=u;var it=i.DisplayName,rt=f.$h+u.toString(),ut=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(rt,"Button",this.$82,it,y.get_Count(),"System",null,null,i,!0);e[h]=ut}}else(t.TypeName==="Grid"||t.TypeName==="MultilineList"||t.TypeName==="HierarchyList")&&(w=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CustomControl_Default_ListGrid"),i.ViewId=f.$h,i.DisplayName=w,nt=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(f.$h,"Button",this.$82,w,y.get_Count(),"System",null,null,i,!0),e[h]=nt)}b=e;for(k in b)tt={key:k,value:b[k]},Array.add(o.Controls,tt.value)}v.stop();o.Controls.length>0?(o.Controls.sort(this.$$d_$2Pf),this.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,o))):this.$P(null);this.$1Y()},$2j8:function(n){var t=0;switch(n){case"0":t=2;break;case"1":t=1;this.get_$25()===3&&(t=3);break;case"2":t=3}return t},$3Be:function(n){var e,o,s,l,r,h,u,i,t,c,f;if($0.$1(this.$HB)||this.$HB.stop(),e=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.ParseForDefault"),e.start(),o=null,s=-1,n.get_$3ZH()>0)for(l=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),r=0;r<n.get_$3ZH();r++)if(h=n.get_$I(r),h.$4u===42&&(u=h.get_$5c(),u.length>0))for(i=0;i<u.length;i++)t=u[i],t.ControlTypeName==="CustomControlHostView"&&this.$J===t.PrimaryModelName&&Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(this.$A_3)&&(this.$A_3.$sA===t.Name||$0.$1(this.$A_3.$sA))&&(c=t.Properties,this.$2M8(c)&&(o=t,s=i));f={};f.descriptor=o;f.index=s;e.stop();this.$P(f);this.$1Y()},$2M8:function(n){for(var t,i=0;i<n.length;i++)if(t=n[i],!IsNull(t)&&t.Name==="FormFactor")return IsNull(t.Value)||this.$2j8(t.Value)!==this.get_$25()?!1:!0;return!1},$2Pf:function(n,t){return n.LabelText.localeCompare(t.LabelText)},$5O:function(n){$0.$1(this.$HB)||this.$HB.stop();this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$3C=function(){this.$$d_$3Bb=Function.createDelegate(this,this.$3Bb);Microsoft.Crm.Client.Application.ViewModels.$3C.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$3C.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlForSuggestions",Microsoft.Crm.Client.Application.ViewModels.$3C.$1SH)};Microsoft.Crm.Client.Application.ViewModels.$3C.$1SH=function(n){var i=n,r=i.$2,t=new Microsoft.Crm.Client.Application.ViewModels.$3C,u=r.$6O.entityName,f=r.$6O.entityId,e=r.$6O.pricelevelid;return Mscrm.InternalUtilities._Script.isNullOrUndefined(r.$6O.lineItemMetaData)||(t.$qQ=JSON.parse(r.$6O.lineItemMetaData.toString())),t.$185=r.$6O.isCustomLineItemEntity,t.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(i),t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,t.$IX=i.get_DefinitionId(),t.$Ae=i.$1s.$BT+1,$0.$1(e)||(t.$1MM=new Microsoft.Crm.Client.Core.Framework.Guid(e)),$0.$1(u)||$0.$1(f)||(t.$Hv=new Xrm.Objects.EntityReference(u,new Microsoft.Crm.Client.Core.Framework.Guid(f))),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Og("started",u,String.format("Started loading suggestions (triggered by {0})",r.$6O.SuggestionsSource))),t.$185&&(t.$cB=1),t};Microsoft.Crm.Client.Application.ViewModels.$3C.$27u=function(n,t){Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(n.get_Root())&&(n.get_Root().$VB(),Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6(t)))};Microsoft.Crm.Client.Application.ViewModels.$3C.prototype={$Y3:!1,$qP:null,$1MM:null,$Hv:null,$qQ:null,$185:!1,$31:function(){var n=this.$A_3;return(n.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("query.product.cell.productname.suggestions")),n.set_NoRecordsText(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Suggestions_Dlg_No_Suggestions")),n.$1sS=!0,n.set_GridEnabled(!1),n.$H9=!0,n.set_DisableItemLongPress(!0),n.$ts=!0,$0.$1(this.$Hv)||$0.$1(this.$1MM)&&!this.$185)?(Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Og("aborted",this.$Hv?this.$Hv.TypeName:"null",String.format("Form entity (id {0}) metadata not available",this.$Hv?this.$Hv.Id.toString():"null"))),Microsoft.Crm.Client.Application.ViewModels.$3C.$27u(this.$A_3,"Suggestions_Dlg_Error_No_Price_List"),0):(this.$3Jk(),1)},$3Jk:function(){var n=this;this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.PopulateRecommendationCacheForRecordRequest(this.$Hv),this.get_$f()),function(t){n.$Y3=t.showAzureRecommendations;n.$3P2()},this.$$d_$5O)},$3P2:function(){var n=this;this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RetrieveItemIdsForRecordRequest(this.$Hv),this.get_$f()),function(t){if(n.$qP=t.itemIds,$0.$1(n.$qP)||n.$qP.length<=0){Microsoft.Crm.Client.Application.ViewModels.$3C.$27u(n.$A_3,"Suggestions_Dlg_Error_No_Line_Items");n.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Suggestions_Dlg_Error_No_Line_Items")));return}n.$3Oe()},this.$$d_$5O)},$3Oe:function(){var n=this;this.$1kZ(Number,String,Xrm.Internal.getMaxSuggestionsCount(),function(t){n.$3QR(t)},this.$$d_$3Bb)},$3Bb:function(n){this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i(n))},$3QR:function(n){var t=null,r;if(this.$185)t=String.format(Microsoft.Crm.Client.Application.ViewModels.$3C.$2DG,"<value>"+this.$qP.join("<\/value><value>")+"<\/value>",this.$qQ.entityPrimaryKey,this.$qQ.entityName,this.$qQ.itemIdAttributeName,this.$qQ.basketRecordLookupAttributeName,this.$Hv.Id);else{var u=this.$Y3?"recommendationcache":"productsubstitute",f=this.$Y3?"productpricelevelid":"productid",e=this.$Y3?"additionaldatarecordid":"substitutedproductid",o=this.$Y3?"itemid":"productid",s=this.$Y3?"recommendeditemid":"substitutedproductid",h=this.$Y3?'<condition attribute="recommendationtype" operator="eq" value="1" />\r\n\t\t\t\t\t<condition attribute="isrecommendationactive" operator="eq" value="1" />':'<condition attribute="salesrelationshiptype" operator="eq" value="1" />',c=this.$Y3?'<attribute name="recommendationrating" aggregate="max" alias="recommendationrating" />\r\n\t\t\t\t\t<attribute name="recommendeditemid" groupby="true" alias="recommendeditemid" />\r\n\t\t\t\t\t<order alias="recommendationrating" descending="true" />':"",i=new Microsoft.Crm.Client.Application.ViewModels.$3C.$3bU(this.$Hv.LogicalName,this.$qQ);t=String.format(Microsoft.Crm.Client.Application.ViewModels.$3C.$2D8,this.$1MM,u,f,e,c,o,"<value>"+this.$qP.join("<\/value><value>")+"<\/value>",h,s,i.$jq,i.$jp,this.$Hv.Id,i.$jr)}this.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(t);r=this.$A_3;r.$1s.$32=n;Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.prototype.$31.call(this)}};Microsoft.Crm.Client.Application.ViewModels.$3C.$3bU=function(n,t){this.$1fI=n;null!==t?(this.$jq=t.entityName,this.$jr=t.entityPrimaryKey,this.$jp=t.basketRecordLookupAttributeName):this.$18()};Microsoft.Crm.Client.Application.ViewModels.$3C.$3bU.prototype={$1fI:null,$jq:null,$jr:null,$jp:null,$18:function(){switch(this.$1fI){case"opportunity":this.$jq="opportunityproduct";this.$jr="opportunityproductid";this.$jp="opportunityid";break;case"quote":this.$jq="quotedetail";this.$jr="quotedetailid";this.$jp="quoteid";break;case"salesorder":this.$jq="salesorderdetail";this.$jr="salesorderdetailid";this.$jp="salesorderid";break;case"invoice":this.$jq="invoicedetail";this.$jr="invoicedetailid";this.$jp="invoiceid";break;default:this.$jq="";this.$jr="";this.$jp=""}}};Microsoft.Crm.Client.Application.ViewModels.$3C.$3bW=function(){};Microsoft.Crm.Client.Application.ViewModels.$3C.$3bW.prototype={entityName:null,entityPrimaryKey:null,basketRecordLookupAttributeName:null,itemIdAttributeName:null,parentEntityPrimaryAttributeName:null};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveUnboundTargetEntityMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction,r=n,u,f;return i.$P=r.$$d_$1uC,i.$A_3=r,u=t,f=u.QueryValue,i.$16Y=f.targetAttribute,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.prototype={$P:null,$16Y:null,$31:function(){for(var r,u,t=this.$A_3.get_ModelContext().$32O(this.$16Y),i=[],n=0;n<t.length;n++)Array.add(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(t[n],this.get_$f()));return r=this,u=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i),function(n){r.$4e(n)},function(n){u.$5O(n)}),1},$4e:function(n){for(var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),t=0;t<n.length;t++)i.add(n[t]);this.$P(i);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase.prototype={$2Hn:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r,e,i,f;if($0.$1(n)||(r=n.getValue("processroleassignment"),$0.$1(r)))return t.toArray();e=Sys.Net.XMLDOM(r).firstChild;for(var o=e.childNodes,s=o.length,u=0;u<s;++u)i=o[u],f=i.nodeName.toLowerCase(),f==="everyone"?t.add("everyone"):f!=="role"||$0.$1(i.attributes.getNamedItem("Id"))||t.add(i.attributes.getNamedItem("Id").nodeValue);return t.toArray()},$1tM:function(n){var t,c,u,e,o,h;if($0.$1(n)||!n.length)return!1;if(n[0].toLowerCase()==="everyone")return!0;t={};c=this;Array.forEach(n,function(n){try{t[new Microsoft.Crm.Client.Core.Framework.Guid(n).toString()]=!0}catch(i){}});u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$G3;for(var f=u,l=f.length,i=0;i<l;++i)if(e=f[i],e.toString()in t)return!0;o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$oK;for(var s=o,a=s.length,r=0;r<a;++r)if(h=s[r],h.toString()in t)return!0;return!1}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);this.$$d_$Fw=Function.createDelegate(this,this.$Fw);Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("CheckTaskBasedFlowStatus",Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction,i=n;return t.$A_3=i,t.$23g=new Microsoft.Crm.Client.Core.Framework.Guid(i.$12),t.$1eL=i.$G2,t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zb,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.prototype={$23g:null,$1eL:null,$31:function(){var n=new Xrm.Objects.EntityReference("workflow",this.$23g);return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(n,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["statecode","processroleassignment"]),Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$Fw,this.$$d_$9B),1},$Fw:function(n){var t=this.$2Hn(n),i=this.$1tM(t),r=n.getValue("statecode").$1i;r&&i||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$36().$1yT(this.$1eL);this.$1Y()},$9B:function(n){n.$z===-2147220969&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$36().$1yT(this.$1eL);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.$UV=function(){Microsoft.Crm.Client.Application.ViewModels.$UV.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$UV.prototype={$15K:null,$1Y:function(){Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$1Y.call(this);$0.$1(this.$A_3.get_Root())||this.$A_3.get_Root().$2Tn(this)},$21:function(n){Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$21.call(this,n);$0.$1(this.$A_3.get_Root())||this.$A_3.get_Root().$2Tn(this)},$2Qn:function(){Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$2Qn.call(this);$0.$1(this.$A_3.get_Root())||this.$A_3.get_Root().$2dp(this)},get_$4z:function(){return this.$G},get_$2AK:function(){return this.$15K},get_$2sx:function(){return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$D.$OL(this.$15K,1)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveHeaderMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction;return t.$A_3=i,t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1z7,t.$S=i.$J,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.prototype={$P:null,$S:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$S,this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){this.$A_3.set_Label(n.get_$14f());$0.$1(this.$P)||this.$P(n);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveActivitiesEnabledForMobile",Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$JS=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction;return t.$P=n.$$d_$1uC,t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.prototype={$P:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$1n),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Jz(this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$2dw:function(n,t){n.add(t)},$4e:function(n){for(var t,u=n.get_$3ZH(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),i=0;i<u;i++)t=n.get_$I(i),t.get_$8p()&&t.$19L===1&&this.$2dw(r,t);this.$P(r);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveAttachmentContents",Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$sv)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$sv=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction;return t.$A=i,t.$P=i.$$d_$2UE,t.$1M=i.$$d_$3O6,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.prototype={$P:null,$1M:null,$A:null,get_$3LX:function(){return $0.$1(this.$A)?null:this.$A.get_ModelContext().get_$57()},$31:function(){if(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()||Microsoft.Crm.Client.Core.ViewModels.$n.$L8(this.$A.$2.$1t)&&Microsoft.Crm.Client.Core.ViewModels.$n.$L8("annotation")){var n=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["documentbody","mimetype"]);return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(this.get_$3LX(),n,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$4e,this.$$d_$5O),1}return this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093999)),0},$4e:function(n){if($0.$1(n)){var t=Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147220969);this.$5O(t);return}$0.$1(this.$P)||this.$P(Microsoft.Crm.Client.Core.Models.$O.$B(n));this.$1Y()},$5O:function(n){$0.$1(this.$1M)||this.$1M(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.initializeBase(this);this.$82="ChangeChartViewCommand"};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveChartViewSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction;return i.$A_3=n,i.$Kb=i.$A_3.get_$2R(),Microsoft.Crm.Client.Application.ViewModels.$6T.$1SF(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.initializeBase(this);this.$82="ChangeChartCommand";this.$kp="_ChartCommands";this.$1Jb=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_Visualization_Group_Name");this.$1Gn=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_Visualization_Group_Name");this.$4u=23;this.$uO=[0]};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveChartSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction,r=n;return i.$A_3=r,i.$Kb=r.$J,Microsoft.Crm.Client.Application.ViewModels.$6T.$1SF(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.prototype={$3Ac:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$Ek.$2j0("575b9a8f-46da-4fb5-b014-51a689b003f0")},$3Aj:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$Ek.$2j0("d68cb29d-2243-41d1-b5a8-ee24dc885140")}};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction=function(){this.$$d_$2Nq=Function.createDelegate(this,this.$2Nq);this.$$d_$3Bt=Function.createDelegate(this,this.$3Bt);this.$$d_$3Ep=Function.createDelegate(this,this.$3Ep);this.$bW=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$4M);this.$1es=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$75);Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveListMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$1zC)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$1zC=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction,r=t;return $0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$1EM(i,n),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$1EM=function(n,t){var i=t,r,u,f;n.$A_3=t;n.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zD;n.$dG=i.get_$3YS();n.$o=i.get_$2ic();n.$1t=i.get_$2nN();r=i;n.add_$RQ(r.$$d_$ge||(r.$$d_$ge=Function.createDelegate(r,r.$ge)));u=i;n.add_$OG(u.$$d_$1GJ||(u.$$d_$1GJ=Function.createDelegate(u,u.$1GJ)));n.add_$8C(n.$$d_$3Ep);f=i;n.$1M_3=f.$$d_$3Bw||(f.$$d_$3Bw=Function.createDelegate(f,f.$3Bw))};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.prototype={$1t:null,$dG:null,$O6:null,$o:0,$P:null,$23V:!1,get_$Ri:function(){return $0.$1(this.$O6)?null:this.$O6.ViewModelDescriptor},$16y:function(){if(!$0.$1(this.get_$Ri())){this.$1es.$2aS(this.$dG,this.get_$Ri(),null);var n=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(this.get_$Ri());$0.$1(this.$bW)||(this.$bW.$pi(this.$dG,n),this.$23V=!0)}},$31:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$A_3.get_$2R(),1)){var n=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$1t),t=n.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())?new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(this.$o,this.get_$25(),this.$A_3.get_$2R(),1,!0,null,1):new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(this.$o,this.get_$25(),this.$A_3.get_$2R(),this.$A_3.get_$1Np(),!1,n.toString());this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(t,this.get_$f()),this.$$d_$3Bt,this.$$d_$2Nq)}return 1},$3Bt:function(n){if(!n.get_$3ZH()){if($0.$1(this.$1t)){this.$2Nq(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147094003));return}this.$1t=null;this.$31();return}if(this.$O6=n.get_$I(0).get_$5c(),!$0.$1(this.$O6)){if(this.$A_3.get_$Dt()){this.$1Y();return}var t=this.$A_3;t.set_$3Ub(this.$1t);this.$16y();$0.$1(this.$P)||this.$P(this.$O6);this.$1Y()}},$2Nq:function(n){this.get_$CS()!==3&&this.$21(n)},$3Ep:function(){this.$23V||this.$bW.$2B4(this.$dG)}};Microsoft.Crm.Client.Application.ViewModels.$6T=function(){this.$$d_$2Pf=Function.createDelegate(this,this.$2Pf);this.$1Gn=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name");this.$1Jb=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name");this.$uO=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()?[1,3]:[1];Microsoft.Crm.Client.Application.ViewModels.$6T.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$6T.$1SF=function(n,t){var i=t;return $0.$1(i.OnSuccess)||(n.$P=i.OnSuccess),n};Microsoft.Crm.Client.Application.ViewModels.$6T.prototype={$P:null,$Kb:null,$82:null,$4u:16,$kp:"_ViewCommands",$3Ac:function(){return!0},$3Aj:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$Ek.$2j0("f3b782a2-e6d5-4b86-9b7d-33f627fe5c5d")},$358:function(){return!0},$31:function(){for(var i,r,t=[],n=0;n<this.$uO.length;n++)Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(this.$4u,this.get_$25(),this.$Kb,0,!1,null,this.$uO[n]),this.get_$f()));return i=this,r=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(n){i.$4e(n)},function(n){r.$5O(n)}),1},$4e:function(n){var b=this.$Kb+this.$kp,a=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet(b),s=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(this.$1Jb,"Group",null,this.$1Jb,0,null,null,null),h=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(this.$1Gn,"Group",null,this.$1Gn,1,null,null,null),k=this.$3Ac(),d=this.$3Aj(),p=this.$A_3,g=p.$m1,t=null,o,c,i,w,r,f,l,e,v,u,y;if(!$0.$1(g))for(t=p.$m1.toUpperCase().split(","),o=0;o<t.length;o++)t[o]=t[o].replace("{","").replace("}","");if(n.length>0)for(c=0;c<n.length;c++)if(i=n[c],i.get_$3ZH()>0)for(w=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),r=0;r<i.get_$3ZH();r++){if(f=i.get_$I(r),l=!0,t&&t.length>0)for(l=!1,e=0;e<t.length;e++)if(t[e]&&f.$h.toUpperCase()===t[e]){l=!0;t[e]=null;break}l&&(v=f.$1S,u={},u.ViewId=f.$h,u.DisplayName=v,u.ApplicationMetadataType=i.get_$I(r).get_$1Np(),u.MetadataSubType=i.get_$I(r).$Ea,u.Descriptors=i.get_$I(r).get_$GK().$6d,u.IsDefault=i.get_$I(r).$HU,y=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(f.$h,"Button",this.$82,v,w.get_Count(),"System",null,null,u,this.$358(f)),!i.get_$I(r).$WJ&&k?Array.add(s.Children,y):i.get_$I(r).$WJ&&d&&Array.add(h.Children,y))}h.Children.length>0&&(h.Children.sort(this.$$d_$2Pf),Array.add(a.Controls,h));s.Children.length>0&&(s.Children.sort(this.$$d_$2Pf),Array.add(a.Controls,s));this.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,a));this.$1Y()},$2Pf:function(n,t){return n.LabelText.localeCompare(t.LabelText)},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveTimeZoneDefinition",Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction,i=n;return t.$P=i.$$d_$4e,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.prototype={$P:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.DataApi.$1j,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$RI(),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){var i=n.$Q.timezonedefinitionbycode,t;$0.$1(this.$P)||(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.TimeZoneDefinition))(i.$22N()),this.$P(this.$3Ua(t)));this.$1Y()},$5O:function(n){this.$21(n)},$3Ua:function(n){var t=this;return n.sort(function(n,t){var u=n.$Iu,i=n.$YE,f=t.$Iu,r=t.$YE;return i!==r?r-i:u-f}),n}};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.initializeBase(this);this.$82="ChangeViewsCommand"};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveViewSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$JS=function(n,t){var r=n,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction;return i.$A_3=r,i.$Kb=i.$A_3.get_$2R(),Microsoft.Crm.Client.Application.ViewModels.$6T.$1SF(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.prototype={$31:function(){if(!this.$A_3.$Sn){var n=this;return window.setTimeout(function(){var t=n.$Kb+n.$kp;n.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(n.$A_3,new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet(t)));n.$1Y()},0),1}return Microsoft.Crm.Client.Application.ViewModels.$6T.prototype.$31.call(this)},$358:function(n){return Microsoft.Crm.Client.Core.ViewModels.$n.$2NA(n.get_$GK(),n.$6o)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$1u4=Function.createDelegate(this,this.$1u4);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEntityReferences",Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction,r=n,u;return i.$P=r.$$d_$1uC,i.$A_3=r,u=t,i.$S=u.QueryValue,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.prototype={$P:null,$S:null,$eT:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$S,this.get_$f()),this.$$d_$1u4,this.$$d_$5O),1},$1u4:function(n){this.$eT=n.get_$Gd();var i=this.$A_3,r=new Microsoft.Crm.Client.Core.Framework.$1c(this.$eT,!1),u=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nm(this.$S,r),f=u.$2fi(i.$lm),t=new Microsoft.Crm.Client.Core.Storage.DataApi.$TA(f,this.$S,this.$eT,i.$lm);t.set_$7m(1);t.$32=25;this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(t,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$4e,this.$$d_$5O)},$4e:function(n){for(var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3i)),t=0;t<n.get_count();t++)i.add(new Xrm.Objects.EntityReference(n.get_$I(t).$N.LogicalName,n.get_$I(t).$N.Id,n.get_$I(t).getValue(this.$eT)));this.$P(i);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveLookupViewQueryFromId",Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$2E6)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$2E6=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction;return t.set_$Mh(n),t.$P=n.$$d_$3FE,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.prototype={$P:null,get_$Mh:function(){return this.$A_3},set_$Mh:function(n){return this.$A_3=n,n},$31:function(){var t=new Microsoft.Crm.Client.Core.Framework.Guid(this.get_$Mh().$IB),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),null,1,!1,t.toString()),r=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(30,this.get_$25(),null,1,!1,t.toString()),n=this;return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(i,this.get_$f()),function(t){n.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(r,n.get_$f()),function(i){n.get_$Mh().$IB in n.get_$Mh().$dq||n.$Fw(t,i)},n.$$d_$5O)},this.$$d_$5O),1},$Fw:function(n,t){var i,r,u;n.get_$3ZH()>0&&t.get_$3ZH()>0?(i=this.get_$Mh(),r=new Microsoft.Crm.Client.Core.Models.$8D(new Microsoft.Crm.Client.Core.Framework.Guid(i.$IB),n.get_$I(0).get_$GK(),t.get_$I(0).get_$5c(),n.get_$I(0).$6o),this.$P(r)):(u=Microsoft.Crm.Client.Core.Models.$8D.$298(this.get_$Mh().$Ad),this.get_$Mh().$1YQ(u));this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("RetrieveLookupViewQueryFromEntityType",Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$2E6)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$2E6=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction;return i.set_$Mh(n),i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zG,i.$1bR=t,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.prototype={$1bR:0,$JN:null,get_$Mh:function(){return this.$A_3},set_$Mh:function(n){return this.$A_3=n,n},$31:function(){this.$JN=this.get_$Mh().$Ad;var t=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$JN,1,!0,null,2),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(30,this.get_$25(),this.$JN,1,!0,null,2),r=[Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(t,this.get_$f()),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(i,this.get_$f())],n=this;return this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r),function(t){t.length!==2||n.get_$Mh().$IB in n.get_$Mh().$dq?t.length>0&&Microsoft.Crm.Client.Core.Framework.$4.isInstanceOfType(t[0])?n.$5O(t[0]):n.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i("Unknown error in RetrieveLookupViewQueryFromEntityTypeAction")):n.$3Ob(t[0],t[1])},this.$$d_$5O),1},$3Ob:function(n,t){if(n.get_$3ZH()>0&&t.get_$3ZH()>0){var i=new Microsoft.Crm.Client.Core.Models.$8D(new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$I(0).$h),n.get_$I(0).get_$GK(),t.get_$I(0).get_$5c(),this.$JN);this.$1bR?this.get_$Mh().$2QD(i):this.get_$Mh().$1YQ(i);this.$1Y()}else this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i("Lookup definition not found"))},$5O:function(n){var t=Microsoft.Crm.Client.Core.Models.$8D.$298(this.$JN);this.$1bR?this.get_$Mh().$2QD(t):this.get_$Mh().$1YQ(t);$0.$1(this.$1M_3)||this.$1M_3(n);this.$6q(null)}};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrievePersonalization",Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$B=function(n){var u=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction,i,r;return t.$64=Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$VS(u),i=u,t.$P=i.$$d_$3Bz||(i.$$d_$3Bz=Function.createDelegate(i,i.$3Bz)),r=u,t.$1M_3=r.$$d_$2Ns||(r.$$d_$2Ns=Function.createDelegate(r,r.$2Ns)),t.$A_3=u,t};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$VS=function(n){return Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.isInstanceOfType(n)&&!n.$ji?Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zT:Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zS};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.prototype={$P:null,$31:function(){var n=this.$A_3;return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$4C,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$hb(n.get_$aV()),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){if(!$0.$1(this.$P)){var t=Microsoft.Crm.Client.Core.Models.$8g.$B(n.$7H);this.$P(t)}this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction=function(){this.$$d_$2bS=Function.createDelegate(this,this.$2bS);this.$$d_$1FY=Function.createDelegate(this,this.$1FY);this.$bW=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$4M);this.$1es=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$75);Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RootDefinition",Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$34B)};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$34B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction;return Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$1EM(t,n),t};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$1EM=function(n,t){var i=t,r,u;n.$A_3=i;n.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1qj;n.$dG=i.get_ViewModelId();n.$o=i.get_componentType();n.$1t=i.get_definitionId();n.$Aq=i.get_applicationMetadataType();n.$h=i.get_sourceId();r=i;n.add_$RQ(r.$$d_$ge||(r.$$d_$ge=Function.createDelegate(r,r.$ge)));u=i;n.add_$OG(u.$$d_$1GJ||(u.$$d_$1GJ=Function.createDelegate(u,u.$1GJ)))};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.prototype={$1t:null,$h:null,$dG:null,$O6:null,$Aq:1,$o:0,get_$Ri:function(){return $0.$1(this.$O6)?null:this.$O6.ViewModelDescriptor},$16y:function(){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),i,n,r;return $0.$1(this.get_$Ri())||this.$A_3.get_$Dt()?t.resolve():(i=Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$A_3)&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()!==4,n=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(r){var u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RootViewModel:UpdateRoot:UpdateRootViewModel");u.start();n.$1es.$2aS(n.$dG,n.get_$Ri(),null,i?null:r);u.stop();u.addParameter(n.$1t);i&&n.$pi(t)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$16y,"GetRootDefinitionAction.UpdateRoot.UpdateRootViewModel"),i||(r=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){r.$pi(t)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$16y,"GetRootDefinitionAction.UpdateRoot.UpdateView"))),t.promise()},$pi:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RootViewModel:UpdateRoot:UpdateView"),i;t.start();i=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(this.get_$Ri());this.$2aS(i);$0.$1(this.$bW)||this.$bW.$pi(this.$dG,i);t.stop();t.addParameter(this.$1t);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LoadedInteractionReady",1,this.$A_3.get_ViewModelId());n.resolve()},$2aS:function(){},$31:function(){return this.$vr(),1},$vr:function(n){var t=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(this.$o,this.get_$25(),this.$1t,1,!0,this.$h),i;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(t.$12J=!1);n||(n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(t,this.get_$f()));i=this;this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),n,function(n){i.$3Bg(n,t)},this.$$d_$1FY)},$3Bg:function(n,t){var i,r,u;n.get_$3ZH()>0?(this.$O6=n.get_$I(0).get_$5c(),this.$A_3.set_sourceId(n.get_$I(0).$h),$0.$1(this.get_$Ri())||this.$A_3.get_$Dt()||(i=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(Array,"AttributeFieldNames",this.get_$Ri().Properties),$0.$1(i)?this.$1Ab():this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$1t,i),this.get_$f()),this.$1kK(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M)),this.$1kK(Microsoft.Crm.Client.Core.Framework.$4)))):t.$6o==="Workspace".toUpperCase()?(r=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(this.$o,this.get_$25(),this.$1t,1,!0),u=this,this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(r,this.get_$f()),function(n){u.$2rE(n,r)},this.$$d_$1FY)):t.$6o==="Workspace".toUpperCase()?this.$1FY(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147094011)):t.$6o==="InteractionCentricWorkspace".toUpperCase()?Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_ServiceDesk_AccessDenied_DateRange"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_ServiceDesk_AccessDenied_DateRange"),this.$$d_$2bS):(Microsoft.Crm.Client.Core.Framework.Trace.logError(1,String.format("Root definition '{0}' not found.",t.toString())),this.$1FY(Microsoft.Crm.Client.Core.Framework.$4.$mC(0)))},$2rE:function(n){var t,o,i,h,c;if(n.get_$3ZH()>0){var f={},r=new Array(0),u=new Array(0);for(t=0;t<n.get_$3ZH();++t){for(var s=n.get_$I(t).get_$5c().ViewModelDescriptor.Properties,l=s.length,e=0;e<l;++e)if(o=s[e],o.Name==="IsSystemDashboard"){o.Value?Array.add(r,n.get_$I(t).$1S):Array.add(u,n.get_$I(t).$1S);break}f[n.get_$I(t).$1S]=n.get_$I(t)}i=null;r.length>0?(r.sort(),i=f[r[0].toString()]):u.length>0&&(u.sort(),i=f[u[0].toString()]);this.$A_3.set_sourceId(i.$h);this.$O6=i.get_$5c();this.$1Ab()}else h=Microsoft.Crm.Client.Core.Framework.Common.$2.$1E9("MoCA_No_Dashboard_Information_Message")?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_No_Dashboard_Information_Message"):"",c=Microsoft.Crm.Client.Core.Framework.Common.$2.$1E9("PinnedTiles")?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PinnedTiles"):"",this.$O6=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$2lg(this.get_$25()===2,h,c),this.$1Ab()},$2bS:function(){this.dispose()},$1Ab:function(){var n=this;this.$1j(Object,this.$16y(),function(){n.$1Y()},this.$$d_$1FY)},$1kK:function(){var n=this;return function(){n.$1Ab()}},$1FY:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);this.$$d_$Fw=Function.createDelegate(this,this.$Fw);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("AttributeMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$2zh)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$2zh=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction,r;return i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1yw,r=t,i.$BK=r.EntityType,i.$35=r.Attributes,i.$P=r.OnSuccess,i.$1M_3=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.prototype={$P:null,$BK:null,$35:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$BK,this.$35),this.get_$f()),this.$$d_$Fw,this.$$d_$9B),1},$Fw:function(n){n.get_$3ZH()>0?($0.$1(this.$P)||this.$P(n.$22N()),this.$1Y()):this.$9B(Microsoft.Crm.Client.Core.Framework.$4.$i(String.format("No attribute metadata found for entity type : {0}",this.$BK)))},$9B:function(n){$0.$1(this.$1M_3)||this.$1M_3(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction=function(){this.$$d_$3CH=Function.createDelegate(this,this.$3CH);this.$$d_$3HT=Function.createDelegate(this,this.$3HT);this.$$d_$1FX=Function.createDelegate(this,this.$1FX);this.$$d_$3HW=Function.createDelegate(this,this.$3HW);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveChartByIdAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$1nw)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$1nw=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction;return t.$1nx(n),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.prototype={$AA:null,$KE:null,$Ln:null,$XY:null,$As:null,$1nx:function(n){var t=n;this.$A_3=t;this.$AA=new Xrm.Objects.EntityReference(t.$PP,new Microsoft.Crm.Client.Core.Framework.Guid(t.$AA));this.$KE=new Xrm.Objects.EntityReference(t.$bY,new Microsoft.Crm.Client.Core.Framework.Guid(t.$KE));this.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1yx},$1ng:function(n,t){var i=this.$5j("OnLoadDataFailed");i&&i(this,new Microsoft.Crm.Client.Core.Storage.DataApi.$A4(n,t))},$31:function(){if($0.$1(this.$AA))throw Error.create("viewid is required to call retrieve chart data");if($0.$1(this.$KE))throw Error.create("visualizationId is required to call retrieve chart data");return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(23,this.get_$25(),null,1,!1,this.$KE.Id.toString()),this.get_$f()),this.$$d_$3HW,this.$$d_$1FX),1},$3HW:function(n){if(n.get_$3ZH()>0)this.$XY=n.get_$I(0),this.$35C(),this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),null,1,!1,this.$AA.Id.toString()),this.get_$f()),this.$$d_$3HT,this.$$d_$3CH);else{var t=new Microsoft.Crm.Client.Core.Framework.$5p(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_NoReadPrivilege"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_0x80040220"));this.$1Dy(t)}},$3HT:function(n){var t,r,u,f;if(n.get_$3ZH()>0){this.$Ln=n.get_$I(0);t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveChartDataAction.ParserFetchData");t.start();r=this.$XY.get_$5c().datadescription;u=this.$Ln.get_$GK().$A9(1);this.$357();try{this.$As=new Microsoft.Crm.Client.Core.Models.Chart.$IS(r,u);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("InteractionCentricMultiEntityChartsFeature")&&this.$3X6(this.$As.$Bg.$72.get_$1G())}catch(i){if(Microsoft.Crm.Client.Core.Framework.$5p.$1Ev(i))f=Microsoft.Crm.Client.Core.Framework.$5P.$1SG(Microsoft.Crm.Client.Core.Framework.$5p,i,"ChartError"),this.$1Dy(f);else throw i;}t.stop();this.$3Z6()}else this.$1FX(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147084511))},$357:function(){},$3X6:function(){},$35C:function(){},$2By:function(){var r,u,t,i,n,f;if(this.$A_3.get_$Dt()){this.$1Y();return}r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveChartDataAction.ProcessFetchData");r.start();this.$As.$2Xl();u=this.$2ID(this.$As.get_$2b7());t=new Microsoft.Crm.Client.Core.Storage.DataApi.$1P(this.$As.get_$1G());t.$Mp=!0;t.$32=this.$As.$Bg.$72.$Eo;r.stop();i=[];Array.addRange(i,this.$As.$Bg.$2UF());Array.add(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$vt(t,u,this.get_$f()));n=this;f=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i),function(t){for(var r,f,u=null,i=0;i<t.length;i++)$0.$1(t[i])||Object.getType(t[i])!==Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection?(r=t[i].$22N(),f=n.$As.$Bg.$nj[r[0].$S],r.length>0&&!$0.$1(f)&&f.$Ew.$ng(r,!1)):u=t[i];u?n.$JF(function(){n.$2Nd(u)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1Ot):n.$1FX(Microsoft.Crm.Client.Core.Framework.$4.$i("load chart data failure, EntityCollection is not found in results! "))},function(n){f.$2Nb(n)})},$2ID:function(n){var i=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Storage.DataApi.$1P)),t;return n&&(t=new Microsoft.Crm.Client.Core.Storage.DataApi.$1P(n),t.$32=0,t.$Mp=!0,i.set_$I("",t)),i},$3KO:function(n){return n},$2Nd:function(n){if(this.$A_3.get_$Dt())this.$1Y();else if($0.$1(n))this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i(String.format("Retrieve multiple returned null")));else{var r=this.$3KO(n),t=this.$A_3,i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveChartDataAction.BuildChartModel");i.start();$0.$1(t.$No)||(t.$No.$6D(),t.set_CrmChartBuilder(null));t.set_CrmChartBuilder(Microsoft.Crm.Client.Core.ViewModels.Controls.$9d.$2jx(this.$Ln,this.$XY,this.$As.$Bg,Microsoft.Crm.Client.Core.Models.$1D.$B(r)));this.$1Y();i.stop()}},$3Z6:function(){var t=this.$As.$Bg.$3OL(),n,i;t.length?(n=this,i=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(t){n.$As.$Bg.$PI(t);n.$2By()},function(n){i.$1FX(n)})):(this.$As.$Bg.$PI(null),this.$2By())},$1FX:function(n){this.$21(n);this.$2hp();this.$1ng("RetrieveChartDataAction",n.$E)},$2hp:function(){this.$Ln=null;this.$XY=null;this.$As=null},$3CH:function(n){this.$21(n);this.$1ng("RetrieveViewData",n.$E)},$2Nb:function(n){var t,i;n.$z===-2147093999?(t=new Microsoft.Crm.Client.Core.Framework.$5p(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Offline_Indicator_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_UnavailableOffline")),this.$1Dy(t)):n.$z===-2147220960?(i=new Microsoft.Crm.Client.Core.Framework.$5p(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_NoReadPrivilege"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_NoPermission_Message")),this.$1Dy(i)):(this.$21(n),this.$1ng("RetrieveVizData",n.$E))},$1Dy:function(n){if(!$0.$1(this.$A_3)&&!this.$A_3.get_$Dt()){var i=this.$A_3,t=new Microsoft.Crm.Client.Core.Models.Chart.$IV;t.$6Y=new Microsoft.Crm.Client.Core.Models.$JG;t.$bD=this.$Ln?this.$Ln.$1S:"";t.$JJ=1;t.$Dm=new Microsoft.Crm.Client.Core.Framework.$O4;t.$Dm.$eW=n.get_$wl();t.$Dm.$Yf=n.get_$1BU();i.set_$zn(t)}this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveCommandSet",Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction,r;return i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1z0,r=t,i.$Kb=r.QueryValue,$0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),$0.$1(r.OnFailure)||(i.$1M_3=r.OnFailure),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.prototype={$P:null,$Kb:null,$Q6:null,$31:function(){var n=this,t=this;return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(9,this.get_$25(),null,1,!0,this.$Kb),this.get_$f()),function(t){if(t.get_$3ZH()>0){var i=t.get_$I(0).get_$5c();n.$Q6=i}else n.$Q6=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("");n.$4e()},function(n){t.$5O(n)}),1},$4e:function(){var t,n,i;$0.$1(this.$Q6)||$0.$1(this.$P)?this.$1Y():(t=[],this.$24n(t,this.$Q6.Controls),n=this,i=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(){n.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(n.$A_3,n.$Q6));n.$1Y()},function(n){i.$21(n)}))},$5O:function(n){this.$21(n)},$24n:function(n,t){for(var i,u=t,f=u.length,r=0;r<f;++r)i=u[r],i.Children.length>0?this.$24n(n,i.Children):$0.$1(i.CommandParameters)||$0.$1(i.CommandParameters.RetrievalAction)||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$2Dl.contains(i.Id)||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&this.$A_3.$7s===1&&i.Id==="ProcessControlsButton"||Array.add(n,this.$3OP(i))},$3OP:function(n){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor(n.CommandParameters.RetrievalAction,this.$A_3.get_$2R()+n.CommandParameters.ContextSuffix,!1,[1,2]),r=this;return i.OnSuccess=function(i){$0.$1(i)||$0.$1(i.$EJ)||(n.Children=i.$EJ.Controls);t.resolve(null)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$A_3,i),t.promise()}};Microsoft.Crm.Client.Application.ViewModels.$BA=function(){this.$$d_$3GX=Function.createDelegate(this,this.$3GX);this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$1u4=Function.createDelegate(this,this.$1u4);Microsoft.Crm.Client.Application.ViewModels.$BA.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$BA.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("LookupByName",Microsoft.Crm.Client.Application.ViewModels.$BA.$B)};Microsoft.Crm.Client.Application.ViewModels.$BA.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.$BA,i=n;return t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$1wR=i.$$d_$1uC,t.$A_3=i,t.$XE=i.$FQ,t.$S=i.$J,t};Microsoft.Crm.Client.Application.ViewModels.$BA.prototype={$P:null,$1wR:null,$S:null,$XE:null,$eT:null,$31:function(){var n=this.$A_3;return $0.$1(n.get_$AN())?this.$R1():this.$3Pc(),1},$R1:function(){this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$S,this.get_$f()),this.$$d_$1u4,this.$$d_$5O)},$1u4:function(n){var t=this.$A_3,u,r,f,o,i,s,h,e;$0.$1(t.get_$AN())||t.get_$AN().set_LookupDisplayName(n.get_$9t());u=null;$0.$1(t.get_$AN())||$0.$1(t.get_$AN().$Ix)||(u=t.get_$AN().$Ix);r=Array.clone(t.get_$2n1());f=Array.clone(t.get_$2n2());this.$eT=n.get_$Gd();$0.$1(u)&&(o=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nm(this.$S),u=o.$2fi());i=Microsoft.Crm.Client.Core.ViewModels.$5t.$Ao.$29W(u,this.$S,this.$eT,this.$A_3);$0.$1(this.$A_3.get_ModelContext())||this.$S!==this.$A_3.get_ModelContext().get_ModelName()||$0.$1(n)||$0.$1(n.get_$Hj())||(s="<condition attribute='"+n.get_$Hj()+"' operator='ne' value='"+this.$A_3.get_ModelContext().get_Id()+"' />",Array.add(r,s),Array.add(f,this.$S));Microsoft.Crm.Client.Core.Framework.$3.$9(t.get_$AN().get_$1aX())||(t.get_$AN().$18D?i.$3Sy(t.get_$AN().get_$1aX()):Array.add(r,t.get_$AN().get_$1aX()));i.set_$7m(1);i.$32=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K()?Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$hN:25;t.get_$2ah()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?(h=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25(),this.$S,1,!0,null,3),e=this,this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(h,this.get_$f()),function(n){n.$22N().length>0?(i.$2XT(e.$XE,r,f,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V(),!1),e.$3Oy(t,i,n)):e.$2UX(i,r,f)},this.$$d_$5O)):this.$2UX(i,r,f)},$3Oy:function(n,t,i){var o,u;if(this.$S in n.$qg)o=n.$qg[this.$S].$6d.get_$I("fetchXml").Data,u=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2o.$ma(t.get_$1G()),u.$25S(o),this.$2UU(t,u.$mb());else for(var f=i.$22N(),s=f.length,r=0;r<s;++r){var h=f[r],c=new Xrm.Objects.EntityReference("savedquery",new Microsoft.Crm.Client.Core.Framework.Guid(h.$h)),e=this,l=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(c,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["querytype"]),Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),this.get_$f()).then(function(r){var f=Microsoft.Crm.Client.Core.Models.$O.$B(r),s=f.$M.fields.querytype,h=f.$M.fields.savedqueryid.toString(),u;if(s===4){for(u=0,u=0;u<i.get_$3ZH();u++)if(i.get_$I(u).$h===h)break;n.$qg[e.$S]=i.get_$I(u).get_$GK();var c=i.get_$I(u),l=c.get_$GK().$6d.get_$I("fetchXml").Data,o=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2o.$ma(t.get_$1G());o.$25S(l);e.$2UU(t,o.$mb())}},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Failed for RetrieveQuickFindMetadataAndLookupResults in LookupByNameAction with error : {0}",n.$E)})}},$2UU:function(n,t){var e,i,r,u,f;this.$XE===""&&(this.$XE="*");n.set_$1G(Microsoft.Crm.Client.Core.ViewModels.$2D.$1oC(t,this.$XE));e=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Dj(n.get_$1G());$0.$1(e)&&!Microsoft.Crm.Client.Core.ViewModels.$2D.$1FB(this.$XE)?this.$4e(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(new Array(0),!1,0,!1)):(i="",r=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Tv(n.get_$1G()),$0.$1(r)||(i=r.toString()),u=this,f=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(n,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()).done(function(n){u.$4e(n);var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Od("ServiceDeskQuickFindSearchEvent");t.addEventParameter("EntityName",u.$S);t.addEventParameter("ColumnSet",i);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)}).fail(function(n){f.$5O(n);var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Od("ServiceDeskQuickFindSearchFailedEvent");t.addEventParameter("EntityName",f.$S);t.addEventParameter("ColumnSet",i);t.addEventParameter("ErrorStatus",n.$E);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)}))},$4e:function(n){var r=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1Pp(this.$A_3,Microsoft.Crm.Client.Core.Models.$1D.$B(n)),i,t;for(this.$P(r),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3i)),t=0;t<n.get_count();t++)i.add(new Xrm.Objects.EntityReference(n.get_$I(t).$3F.LogicalName,n.get_$I(t).$3F.Id,n.get_$I(t).getValue(this.$eT)));this.$1wR(i.toArray());this.$1Y()},$5O:function(n){this.$21(n)},$2UX:function(n,t,i){n.$2XT(this.$XE,t,i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V(),!0);this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(n,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$4e,this.$$d_$5O)},$3Pc:function(){var n=this.$A_3,t,i;n.get_$AN().$27R();!$0.$1(n.get_$AN().$Ws)&&!$0.$1(n.get_$AN().$Ws.handlers)&&n.get_$AN().$Ws.handlers.get_Count()>0?(t=this.$A_3.get_$AN().$Ws,t.runCompleteCallback=this.$$d_$3GX,i=Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$vK.length,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$BX(t),Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$vK.length>i&&this.$R1()):this.$R1()},$3GX:function(){this.$Wg.get_$WK()&&this.$R1()}};Microsoft.Crm.Client.Application.ViewModels.$3b=function(){Microsoft.Crm.Client.Application.ViewModels.$3b.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.$3b.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("CreateRecord",Microsoft.Crm.Client.Application.ViewModels.$3b.$B)};Microsoft.Crm.Client.Application.ViewModels.$3b.$B=function(n){return Microsoft.Crm.Client.Application.ViewModels.$3b.$1Ax(n)};Microsoft.Crm.Client.Application.ViewModels.$3b.$1Ax=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.$3b,i,r,u;return Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ac.isInstanceOfType(n)&&(i=n,t.$A_3=i,r=i,t.$P=r.$$d_$1vW||(r.$$d_$1vW=Function.createDelegate(r,r.$1vW)),u=i,t.$1M_3=u.$$d_$1vU||(u.$$d_$1vU=Function.createDelegate(u,u.$1vU)),t.set_$PM(i.get_$PM()),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&i.get_$2sP()===1&&(t.$w5=2)),t};Microsoft.Crm.Client.Application.ViewModels.$3b.prototype={$P:null,$1b1:null,$1b0:null,$R1:function(){var t=this.$A_3.get_ModelContext(),n;return!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()&&Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()&&!Microsoft.Crm.Client.Core.ViewModels.$n.$L8(t.$M.$N.LogicalName)?(this.$1bh(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093996)),1):(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("CreateRecordActionInitiated",0,this.$A_3.get_ViewModelId()),n=this,this.$1j(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$B(t.$M,this.get_$PM(),this.get_$f()),function(i){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("CreateRecordActionFinished",0,n.$A_3.get_ViewModelId());n.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(t.$M.$N.LogicalName,n.get_$f()),function(r){var f,u;Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ac.isInstanceOfType(n.$A_3)?(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(n.$A_3.get_$2f3()),u.contains(r.get_$Gd())||u.add(r.get_$Gd()),f=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(u.toArray())):f=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([r.get_$Gd()]);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()?n.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(i,f,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI(),n.get_$f()),function(t){n.$296(t,r.get_$Gd())},n.$$d_$1bh):n.$296(t.$M,r.get_$Gd())},n.$$d_$1bh)},this.$$d_$1bh),1)},$1Y:function(){$0.$1(this.$P)||this.$P(this.$1b1,this.$1b0);Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$1Y.call(this)},$GX:function(){this.$1b1=null;this.$1b0=null;Microsoft.Crm.Client.Core.Framework.$BN.prototype.$GX.call(this)},$296:function(n,t){Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$A_3.get_ModelContext())&&this.$A_3.get_ModelContext().$6D();var i=Microsoft.Crm.Client.Core.Models.$O.$B(n),r=i.$M.$N;this.$A_3.set_ModelContext(i);this.$1b1=i;this.$1b0=new Xrm.Objects.EntityReference(r.LogicalName,r.Id,i.$M.getValue(t));Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.ViewModels.$p.$1i1(i);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction=function(){this.$$d_$2nd=Function.createDelegate(this,this.$2nd);this.$$d_$2ne=Function.createDelegate(this,this.$2ne);Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("DeleteRecord",Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$B)};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction,r=t;return i.$T=r.QueryValue,i.$P=r.OnSuccess,i.$1M=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.prototype={$P:null,$1M:null,$T:null,$31:function(){var n=new Xrm.Objects.EntityReference(this.$T.entityName.toString(),new Microsoft.Crm.Client.Core.Framework.Guid(this.$T.entityId.toString()));return this.$1j(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.Delete(n,this.get_$f()),this.$$d_$2ne,this.$$d_$2nd),1},$2ne:function(n){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.ViewModels.$p.$2Tb(n);this.$P(n);this.$1Y()},$2nd:function(n){this.$1M(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("Customization",Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$1TT)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$1TT=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction;return i.$1t=t,i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1z1,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.prototype={$P:null,$1t:null,$31:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(6,this.get_$25(),null,1,!1,this.$1t),this.get_$f()),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(25,this.get_$25(),null,1,!1,this.$1t),this.get_$f()),n=this,r=this;return this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,i),function(t){var i=null,r=null,u;t[0].get_$3ZH()>0&&!$0.$1(t[0].get_$I(0))&&(String.isInstanceOfType(t[0].get_$I(0).get_$5c())?r=t[0].get_$I(0).get_$5c():i=t[0].get_$I(0).get_$5c());t[1].get_$3ZH()>0&&!$0.$1(t[1].get_$I(0))&&(String.isInstanceOfType(t[1].get_$I(0).get_$5c())?r=t[1].get_$I(0).get_$5c():i=t[1].get_$I(0).get_$5c());u=new Microsoft.Crm.Client.Core.Models.$3F(n.$1t,i,r);$0.$1(n.$P)||n.$P(u);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$Ig(n,u);n.$1Y()},function(n){r.$9B(n)}),1},$9B:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$3Gp(this);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveOptionSetMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction,e=t,r=n,u,f;return i.$P=r.$$d_$1w9,i.$A_3=r,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zO,Microsoft.Crm.Client.Core.ViewModels.$5M.isInstanceOfType(n)&&Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(n.$2)?(u=n.$2.get_ModelContext(),f=e.QueryValue,i.$1Q=u.$1DD(f).get_$Hb(),i.$CX=u.$2HM(f)):(i.$1Q=r.$J,i.$CX=e.QueryValue),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.prototype={$P:null,$1Q:null,$CX:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$1Q,[this.$CX]),this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$BS:function(n){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O)),r=n.$Tw,t,u,f;for(t in r)u={key:t,value:r[t]},f=u.value,i.add(f);return i.toArray()},$4e:function(n){var t,i,r;n.get_$3ZH()===1&&n.get_$I(0).get_$1n()===this.$CX?(t=n.get_$I(0),i=t.get_$BS(),$0.$1(i)?this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i("OptionSet is null on the returned IAttributeMetadata")):(r=this.$BS(i),$0.$1(this.$P)||this.$P(r,!$0.$1(t.get_$1QS()),t.get_$1QS()),this.$1Y())):this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i(String.format("The metadata array does not have requested arribute name {0}",this.$CX)))},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction=function(){this.$$d_$2QV=Function.createDelegate(this,this.$2QV);this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$2Np=Function.createDelegate(this,this.$2Np);this.$$d_$2pY=Function.createDelegate(this,this.$2pY);this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.initializeBase(this);this.$1JV={};this.$cB=2;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||(this.$1JV["00000000-0000-0000-00aa-000010001039"]=this.$$d_$2pY);this.$5b=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V()};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXml",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$Kt);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlForGrid",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2t7);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("QueryId",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2tA);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlWithDates",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rR);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlWithCallback",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rQ);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlForSubject",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2t8);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlWithPlaceholders",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2t8=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$Kt(n,t),r=t;return i.$A_3=n,i.$cB=2,i.$P=function(n){r.OnSuccess(n)},i.$1M_3=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rQ=function(n,t){var u=n,r=t,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction;return i.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(u),i.$P=function(n){r.OnSuccess(n)},i.$1M_3=r.OnFailure,i.$A_3=u,i.$IX=r.QueryValue.toString(),i.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(r.QueryValue.toString()),i.$Ae=u.$1s.$BT+1,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$Kt=function(n,t){var i=n,u=t,r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction,f;return r.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(i),r.$P=i.$$d_$4e,r.$1M_3=i.$$d_$5O,r.$A_3=i,r.$IX=i.get_DefinitionId(),f=Microsoft.Crm.Client.Core.Storage.Common.$1N.$Bs(i.$J),r.$2W=$0.$1(u.QueryValue)?i.$2W:Array.isInstanceOfType(u.QueryValue)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$1Au(u.QueryValue,16,f):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(u.QueryValue.toString()),r.$Ae=i.$1s.$BT+1,r};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2t7=function(n,t){var r=n,f=t,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction,u;return i.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(r),i.$P=r.$$d_$4e,i.$1M_3=r.$$d_$5O,i.$A_3=r,i.$IX=r.get_DefinitionId(),Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(r)&&(i.$IX+=r.get_$2f5()),i.$2W=$0.$1(f.QueryValue)?r.$2W:Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(f.QueryValue.toString()),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(n)&&(u=n,u.$Et&&(i.$IX+=u.get_ViewModelId(),$0.$1(i.$2W)||(i.$2W=u.$2VJ(i.$2W)))),i.$Ae=r.$1s.$BT+1,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2tA=function(){throw Error.notImplemented();};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rR=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$Kt(n,t),r;return i.$IX=i.$IX+Math.random().toString(),r=i.$2W.$A9(1),Microsoft.Crm.Client.Core.Framework.$3.$9(r)||(r=r.replace("{_NOW_}",Microsoft.Crm.Client.Core.Framework.$1X.$2EQ(Microsoft.Crm.Client.Core.Framework.$1X.get_$1vG())),i.$2W.$Ep(1,r)),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rS=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$Kt(n,t),r,u;return i.$IX=i.$IX+Math.random().toString(),r=i.$2W.$A9(1),Microsoft.Crm.Client.Core.Framework.$3.$9(r)||(u=new RegExp("\\{([^\\}]*)\\}","gm"),r=r.replace(u,function(){var t=arguments[1],i=new Microsoft.Crm.Client.Core.Framework.$D6(t,Number,Microsoft.Crm.Client.Core.Framework.$7g);return n.$c(i)}),i.$2W.$Ep(1,r)),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1Pp=function(n,t){return n.$2u||n.$1O0(t),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS=function(n){var t,i;return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n.get_Root())||Object.getType(n).getName().indexOf("QueuePanelViewModel")>-1?(t=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$15N,Object.getType(n).getName().indexOf("QueuePanelViewModel")>-1&&(i=n.get_Root().$6F(n),n.get_Name().endsWith("0")&&($0.$1(i)||i.$G.endsWith("0"))||t--),t):Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zA};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2Ap=function(n){return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n.get_Root())?Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zB:Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1bH};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.prototype={$5b:null,$P:null,$1o:null,$1JV:null,$fE:!1,$2W:null,$IX:null,$Ae:0,$cB:0,get_$2Mh:function(){var n=this.$A_3;return!$0.$1(n.get_DefinitionId())&&n.get_DefinitionId().toLowerCase()in this.$1JV},$31:function(){var r=this.$A_3,i,n,t;return $0.$1(this.$2W)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$2W.$A9(1))?(i=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(r.get_DefinitionId()),n=i.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())?new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$A_3.get_$2R(),1,!0,null,1):new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$A_3.get_$2R(),r.$Aq,!1,i.toString()),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&i.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())&&!$0.$1(this.$A_3)&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$A_3)&&(this.$A_3.$8K||this.$A_3.$Pa)&&(n=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$A_3.get_$2R(),r.$Aq,!1,null,1)),t=this,this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,this.get_$f()),function(i){i.get_$3ZH()||$0.$1(n.$h)?t.$2Np(i):(n.$h=null,n.$HU=!0,t.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,t.get_$f()),t.$$d_$2Np,t.$$d_$5O))},this.$$d_$5O)):this.$26m(this.$2W),1},$2Np:function(n){var t=this.$A_3;n.get_$3ZH()?(this.$2W=n.get_$I(0).get_$GK(),this.$2W=t.$2VJ(this.$2W),this.$26m(this.$2W)):this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147094003))},$26m:function(n){var i,r,u,t,e,f;if(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()&&Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()){i=[];r=Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$7v().$LL;for(u in r)t={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$n.$L8(t.key)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$2MW(t.key)&&(e=null,Array.add(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(t.key,e),null)));f=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i),function(t){for(var r,u=t,e=u.length,i=0;i<e;++i)r=u[i],f.$5b.$H1(r.get_$I(0).get_$eQ(),!0,r);f.$1mv(n)},this.$$d_$5O)}else this.$1mv(n)},$1mv:function(n){var t,i,r;if($0.$1(n))this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(0));else if(Microsoft.Crm.Client.Core.ViewModels.$n.$3Au(this.$2W,this.$A_3.get_$2R())){if(t=this.$A_3,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(t)&&t.$Et||(t.$2W=n),this.$A_3.get_$Dt()){this.$1Y();return}this.$1o=this.$28R(n);this.get_$2Mh()?this.$1JV[t.get_DefinitionId().toLowerCase()]():Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.isInstanceOfType(this.$A_3)?(i=this,r=this,this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(t.$J,this.get_$f()),function(n){i.$1o.$2cW(n.get_$Hj());i.$R1()},function(n){r.$21(n)})):this.$R1()}else this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093989))},$R1:function(){var i,r,u=!0,f=!1,e,n;if(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$A_3)&&(e=this.$A_3,u=e.$1J0),this.$1o.$S==="knowledgearticle"&&(u=!1),this.$1o.$Ae===1&&u?$0.$1(this.$A_3.get_Root())||this.$A_3.get_Root().$o!==1?(i=1,r=this.$cB):(i=0,r=this.$cB):(i=2,r=1),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$A_3)&&(n=this.$A_3,this.$1o.$Lc=n.$Lc,this.$1o.$12c=n.$12c,f=n.$Et,n.$Et&&n.$18Q&&this.$1o.$S!=="knowledgearticle")){n.$18Q=!1;this.$4e(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(new Array(0),!1,0,!1));return}if(this.$1o.$S==="knowledgearticle"&&this.$1o.$12c&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1o.$Lc)&&f){var h=Sys.Net.XMLDOM(this.$1o.get_$1G()),o=h.getElementsByTagName("filter")[1],t=this.$1o.$Lc;if($0.$1(o)||(t=this.$HO(o.childNodes[0],"value"),t=t.substring(0,t.length-1)),this.$1o.$Lc===t){var s=Microsoft.Crm.Client.Core.Framework.$1c.$4s(Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(this.$1o.get_$1G())),c=this.$2rP(this.$1o.$3R,this.$1o.$Ae,this.$1o.$32,s.$3E,s.$4f),l=this;this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.FullTextSearchKnowledgeArticleRequest(this.$1o.$Lc,!0,!0,-1,c),this.get_$f()),function(n){l.$4e(n.entityCollection)},this.$$d_$5O);return}}this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(this.$1o,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(i,r,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$ft()),this.get_$f()),this.$$d_$4e,this.$$d_$5O)},$2pY:function(){var n=this;this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RollupRequest(this.$A_3.get_ModelContext().get_$Y6(),this.$1o.get_$1G(),1),this.get_$f()),function(t){n.$4e(t.entityCollection)},this.$$d_$5O)},$28R:function(n){var t=this.$A_3,i=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(n,this.$IX),e,h,c,f,u,l,r;if(Microsoft.Crm.Client.Core.ViewModels.$EF.isInstanceOfType(t)&&(e=t,i.$2Xe(e.get_$21I(),this.$5b),!$0.$1(i.$w)&&Microsoft.Crm.Client.Core.Framework.$3.$9(e.get_$21I().$3E)&&e.set_$21I(i.$w)),Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(t)){for(h=t,c=new Array(0),f=0;f<h.$EE.length;f++)c[f]=h.$EE[f].name;i.$3Sq(c)}if(!this.get_$2Mh()){if(u=$0.$1(t.get_$1K())?"":t.get_$1K().get_Id(),l="ddb43be7-f7da-4d90-845f-06552a446da0",$0.$1(t.get_DefinitionId())||t.get_DefinitionId().toLowerCase()!==l||t.$J!=="connection"||$0.$1(t.get_$1K())||t.get_$1K().get_ModelName()!=="knowledgearticle"||$0.$1(t.get_$1K().$M)||$0.$1(t.get_$1K().$M.fields)||!("rootarticleid"in t.get_$1K().$M.fields)||(u=t.get_$1K().$M.fields.rootarticleid.get_identifier()),Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(t)&&!$0.$1(t.get_$1K())&&!$0.$1(t.$ks)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(t.$ks)){u="";var o=null,a=t.$ks,s=a.split(".");s.length>1?t.get_$1K().get_ModelName()===s[0]?o=t.get_$1K().GetValue(s[1]):u=t.get_$1K().get_Id():s.length===1&&(o=t.get_$1K().GetValue(a));$0.$1(o)||(u=o.Id.toString())}Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$A_3)?i.$K4(u,t.$9c,t.$2N,t.$BW,this.$5b):Microsoft.Crm.Client.Core.Framework.$3.$9(t.$9c)&&Microsoft.Crm.Client.Core.Framework.$3.$9(t.$BW)&&Microsoft.Crm.Client.Core.Framework.$3.$9(t.$2N)||(Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.isInstanceOfType(t)&&t.$1rN&&(r=t,r.$EW.get_Count()>0&&(u=r.$EW.get_$I(r.$EW.get_Count()-1),r.$1xZ!==r.get_$1K().get_Id()&&(r.$EW.$79(),r.$1xZ=r.get_$1K().get_Id()))),i.$K4(u,t.$9c,t.$2N,t.$BW,this.$5b))}return i.set_$7m(this.$Ae),i.$32=t.$1s.$32,i.$Mp=!0,i},$4e:function(n){var t,i,u,r;this.$15K=$0.$1(n.$4W)?null:n.$4W.$CT;this.$fE=!0;t=this.$A_3;$0.$1(this.$P)||t.$3w?this.$1Y():(i=this.$1Pt(n),i.$un=this.$$d_$2QV,u=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1Pp(t,i),r=this,this.$JF(function(){r.$P(u);r.$1Y()},Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2Ap(this.$A_3)))},$1Pt:function(n){return Microsoft.Crm.Client.Core.Models.$1D.$B(n)},$5O:function(n){if(n.$z===-2147093999){var t=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();t.$1o=this.$1o;this.$4e(t)}else this.$21(n)},$2QV:function(n){$0.$1(this.$A_3)||this.$A_3.get_$Dt()||n.$z===-2147093999||(this.$fE&&this.$A_3.$R0(n),Microsoft.Crm.Client.Core.Framework.Trace.logError(1,n.$E))},$HO:function(n,t){return n.attributes.getNamedItem(t).nodeValue},$2rP:function(n,t,i,r,u){for(var e=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(n.$3Q),o="",f=0;f<e.get_Count();f++)o+=String.format("<attribute name='{0}' />",e.get_$I(f));return String.format("<fetch mapping='logical' returntotalrecordcount='true' page='{0}' count='{1}'><entity name='knowledgearticle'>"+o+"<order descending='{2}' attribute='{3}' /><\/entity><\/fetch>",t,i,u,r)}};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("PinnedTiles",Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction;return t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zU,t.$Ir=i.$2.$1t.toLowerCase()===Microsoft.Crm.Client.Core.Framework.$1.toString(1)?Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString():i.$2.$h,t.$1sm=$0.$1(i.$2u),t};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$1Pp=function(n,t){return $0.$1(n.$2u)&&n.$1O0(t),t};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.prototype={$P:null,$Ir:null,$1sm:!1,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$3G,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$XA(new Microsoft.Crm.Client.Core.Framework.Guid(this.$Ir),this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){var r=this.$A_3,i=Microsoft.Crm.Client.Core.Models.$6g.$B(n),t;Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$1Pp(r,i);!$0.$1(this.$P)&&this.$1sm?(t=this,this.$JF(function(){t.$P(i);t.$2BD(n)},this.get_$LB())):this.$2BD(n)},$2BD:function(n){var i,t,e,o;if(n.$E6.length){var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p)),u=[],f=[];for(i=0;i<n.$E6.length;i++)t=n.$E6[i],t.$85==="Workspace".toUpperCase()||t.$85==="PowerBIFullScreenPage".toUpperCase()||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(t.$85,1)||r.add(t),t.$85==="Workspace".toUpperCase()&&(e=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(1,this.get_$25(),"Workspace".toUpperCase(),0,!0,t.$Al.toString()),Array.add(u,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(e,this.get_$f())),Array.add(f,t));o=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(u),function(n){for(var t=0;t<n.length;t++)$0.$1(n[t].get_$I(0))&&r.add(f[t]);o.$3KA(r)},this.$$d_$5O)}else this.$1Y()},$3KA:function(n){if(n.get_Count()>0){var t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$3G(new Microsoft.Crm.Client.Core.Framework.Guid(this.$Ir),n.toArray()),i=this;this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$lV(t,this.get_$f()),function(){i.$1Y()},this.$$d_$5O)}else this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction=function(){this.$$d_$3Gd=Function.createDelegate(this,this.$3Gd);this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveRecord",Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$sv);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveRecordFromCustomControlDataSet",Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$2t1)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$sv=function(n,t){var f,r,e;Microsoft.Crm.Client.Core.Framework.Utils.$D.$22K(Microsoft.Crm.Client.Core.ViewModels.$7W.isInstanceOfType(n),"Action context is not IAttributeFormViewModel");var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction,u=n,o=n;if(i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hZ,i.$A_3=u,f=t,i.$1yN=f.QueryValue,i.$3R=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(n.get_AttributeFieldNames()),i.$4W=n.get_RetrieveOptions(),r=o.get_ExternalContext(),$0.$1(r)||$0.$1(r.$T)||$0.$1(r.$T.EntityReference))if($0.$1(u.get_$1K()))throw Error.argumentNull("reference","Missing reference for retrieve request.");else e=u.get_ModelContext(),i.$CO=e.get_$Y6();else i.$CO=r.$T.EntityReference;return i};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$2t1=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction,f=n,r=t,e=r.QueryValue,u;if(i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hZ,i.$A_3=f,i.$3R=e.$1fS,i.$4W=e.$1fO,$0.$1(r.OnSuccess)||(i.$P_6=function(n){r.OnSuccess(n)}),$0.$1(r.OnFailure)||(i.$1M_3=r.OnFailure),$0.$1(f.get_$1K()))throw Error.argumentNull("reference","Missing reference for retrieve request.");else u=f.get_ModelContext(),i.$CO=$0.$1(u.$5Z)?u.get_$57():u.get_$Y6();return i};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.prototype={$P_6:null,$CO:null,$1yN:null,$3R:null,$fE:!1,$4W:null,$31:function(){var r=new Array(0),u=this.$1yN,n,t,i;for(n in u)t={key:n,value:u[n]},r.push(new(Microsoft.Crm.Client.Core.Framework.$3Q.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship,String))(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(t.key,0),t.value));return i=this.$A_3,this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$an(this.$CO,this.$3R,this.$3R,r,this.$4W,this.get_$f(),Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(i)?i.$29q(this.$CO):null),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){var t=this.$A_3;this.$fE=!0;$0.$1(n)||this.$A_3.get_$Dt()?t.set_ModelContext(null):(this.$15K=$0.$1(n.$4W)?null:n.$4W.$CT,$0.$1(t.get_ModelContext())||t.get_ModelContext().get_Id()!==n.$3F.get_identifier()?t.set_ModelContext(Microsoft.Crm.Client.Core.Models.$O.$B(n)):t.get_ModelContext().$7p(n),t.get_ModelContext().$um=this.$$d_$3Gd);$0.$1(this.$P_6)||this.$P_6(t.get_ModelContext());this.$1Y()},$5O:function(n){$0.$1(this.$A_3.get_ModelContext())?n.$z=-2147220969:n.$z===-2147093999&&(n.$z=-2147093997);this.$21(n)},$3Gd:function(n){$0.$1(this.$A_3)||this.$A_3.get_$Dt()||Microsoft.Crm.Client.Core.Framework.$66.$1WD(n.$z)||($0.$1(this.$A_3.get_ModelContext())&&(n.$z=-2147220969),this.$fE&&this.$A_3.$R0(n),Microsoft.Crm.Client.Core.Framework.Trace.logError(1,n.$E))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction=function(){this.$$d_$LP=Function.createDelegate(this,this.$LP);this.$$d_$3G9=Function.createDelegate(this,this.$3G9);Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RelationshipPinnedTiles",Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$B=function(n,t){var r=n,i,u;return r.$6a.set_$p5(!1),i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction,u=t,i.$P=r.$$d_$4e,i.$1M_3=r.$$d_$5O,i.$A_3=r,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zX,i.$1aY=u.QueryValue,i.$1KV=!1,i.$13K=i.$$d_$3G9,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$1Pp=function(n,t){return n.$2u||n.$1O0(t),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.prototype={$14z:null,$vY:null,$P:null,$1aY:null,$13K:null,$1KV:!1,$31:function(){if(Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$A_3.get_ModelContext())){if(this.$2Og())return this.$R1(),1;this.$A_3.get_ModelContext().get_Id()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?this.$A_3.apcl("ModelContext",this.$$d_$LP):this.$A_3.get_ModelContext().add_$9k(this.$13K);this.$1KV=!0}else this.$4e(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p)));return 1},$GX:function(){this.$14z=null;this.$vY=null;this.$1KV&&(this.$A_3.rpcl("ModelContext",this.$$d_$LP),this.$A_3.get_ModelContext().remove_$9k(this.$13K),this.$1Y());Microsoft.Crm.Client.Core.Framework.$BN.prototype.$GX.call(this)},$LP:function(){this.$A_3.get_ModelContext().add_$9k(this.$13K)},$3G9:function(){this.$2Og()&&(this.$1KV=!1,this.$A_3.rpcl("ModelContext",this.$$d_$LP),this.$A_3.get_ModelContext().remove_$9k(this.$13K),this.$R1())},$2Og:function(){if(Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$A_3.get_ModelContext())){var n=this.$A_3.get_ModelContext();if(n.$Zn||n.$P4||this.$A_3.get_Root().get_LaunchedWithUnsavedChanges())return!0}return!1},$R1:function(){var n=this;this.$JF(function(){var u=n.$A_3.get_Root().get_ModelContext(),i,r,t,f;for(u&&u.$M&&(n.$vY=u.$M,n.$vY.$6H&&(n.$14z=n.$vY.$6H)),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p)),r=0;r<n.$1aY.length;r++)t=n.$1aY[r],f=t.BindingName,t.IsRelationshipTile?n.$2fw(new Microsoft.Crm.Client.Core.Framework.Guid(n.$A_3.get_Root().$h),i,t):f==="self_referential"&&n.$vY?n.$2fx(new Microsoft.Crm.Client.Core.Framework.Guid(n.$A_3.get_Root().$h),i,t):n.$2fr(new Microsoft.Crm.Client.Core.Framework.Guid(n.$A_3.get_Root().$h),i,t);n.$4e(i)},this.get_$LB())},$4e:function(n){var i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$3G(new Microsoft.Crm.Client.Core.Framework.Guid(this.$A_3.get_Root().$h),n.toArray()),t=Microsoft.Crm.Client.Core.Models.$6g.$B(i),r=this.$A_3;Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$1Pp(r,t);this.$P(t);this.$1Y()},$2fw:function(n,t,i){var u=-1,r,f;$0.$1(i.RelationshipType)||(u=i.RelationshipType);r=-1;$0.$1(i.RelationshipRoleOrdinal)||(r=i.RelationshipRoleOrdinal);f=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p.$1Po(n,i.TargetEntityName,new Microsoft.Crm.Client.Core.Framework.Guid(i.DefinitionId),2,i.ContextFilter,0,i.DisplayName,i.RelationshipName,i.RelationshipExtraCondition,u,i.ReferencingName,r);t.add(f)},$2fx:function(n,t,i){var r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p.$VH(n,this.$vY);r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$Rn(r,i);r.$Db=1;t.add(r)},$2fr:function(n,t,i){var f=i.BindingName,e=this.$14z&&this.$14z.getByRelationshipName(f)?this.$14z.getByRelationshipName(f).get_$I(0):null,u,o,s,r,h;e&&(u=new Microsoft.Crm.Client.Core.Models.Tiles.Validators.$IC,u.set_$3Lw(i),o=u.$7h("CommunicationCardFieldNames"),s=u.$7h("FieldName"),s.$5w&&(h=i.FieldName,o.$5w?(r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p.$VH(n,e),r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$Rn(r,i),r.$Db=1):r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p.$1l5(n,e,h),r.$ag=f,t.add(r)))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$12z=Function.createDelegate(this,this.$12z);Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveTargetEntityMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction,r=t,u,f;return n?(u=n,i.$P=u.$$d_$1uC,i.$A_3=u):(i.$P=r.OnSuccess,i.$1M_3=r.OnFailure),f=r.QueryValue,i.$S=f.entityLogicalName,i.$16Y=f.targetAttribute,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.prototype={$P:null,$S:null,$16Y:null,$31:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$S,[this.$16Y]);return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(n,this.get_$f()),this.$$d_$12z,this.$$d_$5O),1},$12z:function(n){var t=this;this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$1n),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Jz(this.get_$f()),function(i){t.$4e(i,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(n.get_$I(0).get_$NB()))},this.$$d_$5O)},$4e:function(n,t){for(var i,f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),u={},r=0;r<n.get_$3ZH();r++)u[n.get_$I(r).get_$1n()]=n.get_$I(r);for(i=0;i<t.get_Count();i++)t.get_$I(i)in u&&f.add(u[t.get_$I(i)]);this.$P(f);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$6U=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.$6U.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$6U.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveUserContext",Microsoft.Crm.Client.Application.ViewModels.$6U.$B)};Microsoft.Crm.Client.Application.ViewModels.$6U.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.$6U;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.$6U.prototype={$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.DataApi.$1j,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$RI(),this.$$d_$4e,this.$$d_$5O),1},$4e:function(){this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction=function(){this.$$d_$3CI=Function.createDelegate(this,this.$3CI);this.$$d_$36J=Function.createDelegate(this,this.$36J);Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("RetrieveWebResouces",Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$349)};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$349=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction;return i.$W8=t,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zf,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.prototype={$W8:null,$31:function(){var t,n=new Array(0),i,r,u;if(!$0.$1(this.$W8.$Tf))for(i=0;i<this.$W8.$Tf.length;i++)t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(20,this.get_$25(),"webresource",1,!1,this.$W8.$Tf[i]),this.get_$f()),Array.add(n,t);if(!$0.$1(this.$W8.$Tg))for(r=0;r<this.$W8.$Tg.length;r++)t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(29,this.get_$25(),"staticjsfile",1,!1,this.$W8.$Tg[r]),this.get_$f()),Array.add(n,t);switch(n.length){case 0:return this.$1r4(new Array(0)),0;case 1:this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),n[0],this.$$d_$36J,this.$$d_$3CI);break;default:u=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),function(n){return u.$1r4(n)},this.$$d_$3CI)}return 1},$36J:function(n){this.$1r4([n])},$1r4:function(n){for(var t=0;t<n.length;t++)$0.$1(n[t].get_$I(0))||$0.$1(n[t].get_$I(0).get_$5c())||(this.$W8.scriptsToLoad.add(n[t].get_$I(0).get_$5c().toString()),this.$W8.srcName.add(n[t].get_$I(0).$h.toString()));this.$3CJ(this.$W8)},$3CJ:function(n){Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$3Fq(this,n);this.$6q(null)},$3CI:function(n){this.$6q(Error.create(String.format("RetrieveWebResourcesAction has failed with error {0}",n.$E)))}};Microsoft.Crm.Client.Application.ViewModels.$U3=function(n){this.$$d_$1bh=Function.createDelegate(this,this.$1bh);Microsoft.Crm.Client.Application.ViewModels.$U3.initializeBase(this);this.$w5=n};Microsoft.Crm.Client.Application.ViewModels.$U3.prototype={$w5:0,$RS:!1,$1de:!1,get_$PM:function(){return this.$RS||!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_$2oI()},set_$PM:function(n){return this.$RS=n,n},$31:function(){var n=this;return this.$1j(Boolean,this.$2V6(),function(t){t?n.$R1():n.$1Y()},this.$$d_$1bh),1},$1bh:function(n){this.$21(n)},$2V6:function(){if(!$0.$1(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P)&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$tO().get_Count()>0&&(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("EditableGridControlJsEvents")||!this.$1de))return Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$2V6(new Microsoft.Crm.Client.Core.ViewModels.$T6(this.$w5));var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return n.resolve(!0),n.promise()}};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction=function(){Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("ScriptErrorRequest",Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$34C)};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$34C=function(n,t){var r=t,i=new Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction;return i.$A_3=n,i.$1tp=Number.parseInvariant(r.lineNumber.toString()),i.$1nz=r.func.toString(),i.$II=r.fileName.toString(),i.$1yb=r.report.toString(),i.$1yd=Boolean.parse(r.reportToWatson.toString()),i.$1mf=Number.parseInvariant(r.errorReportingPreference.toString()),i.$1iE=Boolean.parse(r.addServerInformation.toString()),i};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.prototype={$1tp:0,$1nz:null,$II:null,$1yb:null,$1yd:!1,$1mf:0,$1iE:!1,$31:function(){var n=this,t=this;return this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Sdk.$No(this.$1tp,this.$1nz,this.$II,this.$1yb,this.$1yd,this.$1mf,this.$1iE),this.get_$f()),function(){n.$1Y()},function(n){t.$21(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);this.$$d_$Fw=Function.createDelegate(this,this.$Fw);Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("SetCreateModelFromRetrievedEntity",Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$B)};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction,i=n;return t.$A_3=i,t.$1V=i.get_ModelContext(),t.$54=i.$54,t.$IE=i.$Q.$AZ.get_ModelContext().$M,t.$P=i.$$d_$2Qi,t};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.prototype={$54:null,$P:null,$IE:null,$1V:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(this.$IE.$N,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$54),Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$Fw,this.$$d_$9B),1},$Fw:function(n){if(!$0.$1(this.$P)){var t=Microsoft.Crm.Client.Core.Models.$O.$B(n);t.$1cX();this.$1V=t;this.$P(this.$1V)}this.$1Y()},$9B:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);this.$$d_$Fw=Function.createDelegate(this,this.$Fw);Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("SetQuickCreateEntityReference",Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$B)};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction,i=n;return t.$A_3=i,t.$1V=i.get_ModelContext(),t.$Fb=i.$Fb,t.$IE=i.$Q.$AZ.get_ModelContext().$M,t.$P=i.$$d_$2Qc,t};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.prototype={$Fb:null,$P:null,$IE:null,$1V:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$IE.$N.LogicalName,this.get_$f()),this.$$d_$Fw,this.$$d_$9B),1},$Fw:function(n){if(!$0.$1(this.$P)){var t=new Xrm.Objects.EntityReference(this.$IE.$N.LogicalName,this.$IE.$N.Id,this.$IE.getValue(n.get_$Gd()));this.$1V.SetValue(this.$Fb,t);this.$P(this.$1V)}this.$1Y()},$9B:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction=function(){Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("SetStateRequest",Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$2kz)};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$2kz=function(n,t){var i=t;return Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$1Ax(n,i.statecode,i.entitylogicalname.toString())};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$1Ax=function(n,t,i){var r=new Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction;return r.$A_3=n,r.$XO=Number.parseInvariant(t.toString()),r.$S=i,r};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.prototype={$XO:0,$S:null,$R1:function(){var n,t,i;if(Microsoft.Crm.Client.Core.ViewModels.$n.$IT(this.$S))if(n=this.$A_3.get_ModelContext(),t=-1,Xrm.Utility.isMocaOffline()){var r=new Xrm.Objects.EntityReference(this.$S,new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$1a())),u=new Xrm.Gen.SetStateRequest(r,this.$XO,t,!0),f=this,e=function(){f.$1Y()};Xrm.Utility.executeNonCudCommand("SetState",this.$S,u,e,Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)}else i=this,this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.SetStateRequest(new Xrm.Objects.EntityReference(this.$S,new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$1a())),this.$XO,t),this.get_$f()),function(){i.$1Y()},this.$$d_$1bh);else this.$1bh(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093999));return 1}};Microsoft.Crm.Client.Application.ViewModels.$5m=function(){Microsoft.Crm.Client.Application.ViewModels.$5m.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$5m.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("UpdateBusinessProcessFlowState",Microsoft.Crm.Client.Application.ViewModels.$5m.$B)};Microsoft.Crm.Client.Application.ViewModels.$5m.$B=function(n,t){var u=t,r=u.QueryValue,i;return Microsoft.Crm.Client.Application.ViewModels.$5m.$2eh(r),i=new Microsoft.Crm.Client.Application.ViewModels.$5m,i.$E2=r.bpfInstanceId,i.$S=r.entitylogicalname,i.$16=r.state,i.$C0=r.status,i.$Fg=r.entityid,$0.$1(u.OnSuccess)||(i.$P=u.OnSuccess),$0.$1(u.OnFailure)||(i.$1M_3=u.OnFailure),i};Microsoft.Crm.Client.Application.ViewModels.$5m.$2eh=function(){};Microsoft.Crm.Client.Application.ViewModels.$5m.prototype={$P:null,$Fg:null,$E2:null,$S:null,$16:0,$C0:0,$31:function(){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$bO(this.$S,this.$Fg,this.$16,this.$C0,this.$E2,this.get_$f()),n=this,t=this;return this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(i),function(t){n.$P&&n.$P(t);n.$1Y()},function(n){t.$1M_3&&t.$1M_3(n);t.$21(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.$4o=function(n){Microsoft.Crm.Client.Application.ViewModels.$4o.initializeBase(this,[n])};Microsoft.Crm.Client.Application.ViewModels.$4o.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("UpdateMultipleRecords",Microsoft.Crm.Client.Application.ViewModels.$4o.$B)};Microsoft.Crm.Client.Application.ViewModels.$4o.$B=function(n,t){var i=t,e=i.SaveMode,u=new Microsoft.Crm.Client.Application.ViewModels.$4o(e),f=n,r;return u.$A_3=f,u.set_$PM(f.get_SuppressDuplicateDetection()),u.$UB=i.RelatedEntitiesQuery,u.$1Yh="OnSuccess"in i?i.OnSuccess:null,r="AdditionalEntityToRetrieve",r in i&&(u.$ys=i[r],r="AdditionalEntityToRetrieveAttributes",u.$1NR=r in i?i[r]:null,r="AdditionalEntityToRetrieveRelationship",u.$24r=r in i?i[r]:null),u};Microsoft.Crm.Client.Application.ViewModels.$4o.prototype={$1Yh:null,$UB:null,$ys:null,$1NR:null,$24r:null,get_$2oe:function(){var n=this.$A_3.get_ModelContext();return n.get_$1K().$M},get_$vg:function(){return this.$UB},$2aO:function(n,t){var i=this.$A_3.get_ModelContext();i.$3NP();Microsoft.Crm.Client.Application.ViewModels.$2m.prototype.$2aO.call(this,n,t)},$2O1:function(n){var t,i;$0.$1(this.$ys)||$0.$1(this.$1NR)||(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.Sdk.Request)),n.name==="Retrieve"?t.add(n):n.name==="ExecuteMultiple"&&t.addRange(n.requests),i=new Xrm.Gen.RetrieveRequest(this.$ys,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$1NR),null,!1,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI()),t.add(i),n=new Xrm.Gen.ExecuteMultipleRequest(t.toArray(),new Xrm.Gen.ExecuteMultipleSettings(!0,!0)));Microsoft.Crm.Client.Application.ViewModels.$2m.prototype.$2O1.call(this,n)},$2TL:function(n){var t,r,f;if(Microsoft.Crm.Client.Application.ViewModels.$2m.prototype.$2TL.call(this,n),!$0.$1(this.$1Yh)){if(t=null,n.name==="ExecuteMultiple"){r=n;for(var u=r.responses,e=u.length,i=0;i<e;++i)if(f=u[i],t=f.$Ap.entity,!$0.$1(t)&&!$0.$1(this.$ys)&&t.$3F.get_identifier()===this.$ys.get_identifier())break}this.$1Yh(t)}}};Microsoft.Crm.Client.Application.ViewModels.$2m=function(n){this.$$d_$3CL=Function.createDelegate(this,this.$3CL);this.$$d_$3M2=Function.createDelegate(this,this.$3M2);Microsoft.Crm.Client.Application.ViewModels.$2m.initializeBase(this,[n])};Microsoft.Crm.Client.Application.ViewModels.$2m.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("UpdateRecord",Microsoft.Crm.Client.Application.ViewModels.$2m.$B);Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("UpdateRecordForQuickEditForm",Microsoft.Crm.Client.Application.ViewModels.$2m.$2kx);Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("UpdateRecordForCustomControl",Microsoft.Crm.Client.Application.ViewModels.$2m.$2ks)};Microsoft.Crm.Client.Application.ViewModels.$2m.$B=function(n,t){return Microsoft.Crm.Client.Application.ViewModels.$2m.$1Ax(n,t)};Microsoft.Crm.Client.Application.ViewModels.$2m.$2kx=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.$2m.$1Ax(n,t),r=n;return i.$P=r.$$d_$3HO,i.set_$PM(Microsoft.Crm.Client.Application.ViewModels.$2m.$2Aq(t,r.get_$PM())),i};Microsoft.Crm.Client.Application.ViewModels.$2m.$2ks=function(n,t){var r=Microsoft.Crm.Client.Application.ViewModels.$2m.$1Ax(n,1),i;return r.$1de=!0,!$0.$1(t)&&Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor.isInstanceOfType(t)&&(i=t,$0.$1(i.OnSuccess)||(r.$P=function(n){i.OnSuccess(n)}),$0.$1(i.OnFailure)||(r.$1M_3=function(n){i.OnFailure(n)})),r};Microsoft.Crm.Client.Application.ViewModels.$2m.$1Ax=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$2m(t),r=n;return i.$A_3=r,Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n)?i.set_$PM(Microsoft.Crm.Client.Application.ViewModels.$2m.$2Aq(t,r.get_$PM())):i.set_$PM(!0),i};Microsoft.Crm.Client.Application.ViewModels.$2m.$2Aq=function(n,t){switch(n){case 5:case 6:case 16:return!0;default:return t}};Microsoft.Crm.Client.Application.ViewModels.$2m.prototype={$P:null,get_$2oe:function(){var n=this.$A_3.get_ModelContext();return n.$M},get_$vg:function(){return null},$R1:function(){var t=this.$A_3.get_ModelContext(),n=this.get_$2oe(),i=this;return this.$1j(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7p(n.$3F,n,this.get_$PM(),this.get_$f()),function(){i.$2aO(t,n)},this.$$d_$1bh),1},$2aO:function(n,t){var r,i;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(Microsoft.Crm.Client.Core.ViewModels.$p.$2Tb(n.get_$Qt()),Microsoft.Crm.Client.Core.ViewModels.$p.$1i1(n),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$L7().$1ZP(n));r=[];this.$2aw(r,t);$0.$1(n.$5Z)||this.$2aw(r,n.$5Z);i=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r),function(r){var u=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Storage.Common.$4w)),e,f,o;i.$24j(r[0],u,t.$N.LogicalName);$0.$1(n.$5Z)||$0.$1(r[1])||i.$24j(r[1],u,n.$5Z.$N.LogicalName);!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()&&Microsoft.Crm.Client.Core.ViewModels.$n.$L8(t.$3F.LogicalName)?i.$3EL(t,u):(e=$0.$1(n.$5Z)?t.$N:t.$3F,f=new Xrm.Gen.RetrieveRequest(e,u.get_$I(e.LogicalName),i.get_$vg(),!1,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI()),$0.$1(n.$5Z)||(f=new Xrm.Gen.ExecuteMultipleRequest([f,new Xrm.Gen.RetrieveRequest(n.$5Z.$N,u.get_$I(n.$5Z.$N.LogicalName),i.get_$vg(),!1,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI())],new Xrm.Gen.ExecuteMultipleSettings(!0,!0))),i.$2O1(f),o=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$pN,$0.$1(o)||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$pN=null,Xrm.XrmUtilityWrapper.$2aZ(o,null)))},this.$$d_$1bh)},$24j:function(n,t,i){var u,f,r,e,o,s;if(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M).isInstanceOfType(n)){for(u=n,f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=0;r<u.get_$3ZH();r++)($0.$1(u.get_$I(r).get_$19s())||u.get_$I(r).get_$1n()==="entityimage_url")&&f.add(u.get_$I(r).get_$1n());t.set_$I(i,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(f.toArray()))}else if(Object.isInstanceOfType(n)){e=n;for(o in e)s={key:o,value:e[o]},t.set_$I(s.key,s.value)}},$2aw:function(n,t){var f=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),i=t.get_directColumnSet(),r,u;Microsoft.Crm.Client.Core.Storage.Common.AllColumns.isInstanceOfType(i)?(r={},r[t.$N.LogicalName]=i,Array.add(n,f.resolve(r))):(u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(t.$N.LogicalName,i.$3Q),this.get_$f()),Array.add(n,u))},$2O1:function(n){this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(n,this.get_$f()),this.$$d_$3M2,this.$$d_$1bh)},$3EL:function(n,t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$1iD(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,n.$3F.get_key(),this.$$d_$3CL);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(n.$3F,t.get_$I(n.$3F.LogicalName),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(2,2),this.get_$f())},$3CL:function(n,t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$1yY(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,t.get_$dt().$3F.get_key(),this.$$d_$3CL);$0.$1(this.$P)||this.$P(t.get_$dt().$3F);this.$1Y()},$3M2:function(n){this.$2TL(n);this.$1Y()},$2TL:function(n){var t,i;if(n.name==="Retrieve")$0.$1(this.$P)||this.$P(n.entity.$N);else if(n.name==="ExecuteMultiple"){t=n;for(var u=t.responses,f=u.length,r=0;r<f;++r){if(i=u[r],t.isFaulted&&!$0.$1(i.$G7)){this.$1bh(Microsoft.Crm.Client.Core.Framework.$4.$mC(i.$G7.$6e));return}t.isFaulted||$0.$1(this.$P)||this.$P(i.$Ap.entity.$N)}}}};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction=function(){this.$$d_$3Xa=Function.createDelegate(this,this.$3Xa);this.$$d_$3Xb=Function.createDelegate(this,this.$3Xb);Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("UpdateSyncErrorRecord",Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$B)};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction,r=t;return i.$T=r.QueryValue,i.$P=r.OnSuccess,i.$1M=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.prototype={$P:null,$1M:null,$T:null,$31:function(){var n="statecode",r=new Array(1),u={},f={},t,i;return r[0]=n,u[n]=12,f[n]=1,t=new Xrm.Objects.EntityReference("syncerror",new Microsoft.Crm.Client.Core.Framework.Guid(this.$T.entityId.toString())),i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(t,f,u,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),i.$4P.addRange(r),this.$1j(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7p(t,i,!1,this.get_$f()),this.$$d_$3Xb,this.$$d_$3Xa),1},$3Xb:function(n){this.$P(n);this.$1Y()},$3Xa:function(n){this.$1M(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction=function(){this.$$d_$3GJ=Function.createDelegate(this,this.$3GJ);this.$$d_$3FM=Function.createDelegate(this,this.$3FM);Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.initializeBase(this);this.$1YK=this.$$d_$3FM;this.$1Ya=this.$$d_$3GJ};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("WaitForEditEnabled",Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$B)};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.prototype={$1YK:null,$1Ya:null,$31:function(){return Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$16===2?(this.$1Y(),0):(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().add_$Yc(this.$1YK),Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().add_$2V0(this.$1Ya),1)},$3FM:function(){this.$2Lk()},$3GJ:function(){this.$2Lk()},$2Lk:function(){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().remove_$Yc(this.$1YK);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().remove_$2V0(this.$1Ya);this.$1Y()}};Type.registerNamespace("Microsoft.Crm.Client.Application.ViewModels.Actions");Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction=function(){this.$$d_$26h=Function.createDelegate(this,this.$26h);this.$$d_$26i=Function.createDelegate(this,this.$26i);Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("CalculateRollupField",Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction,i=n;return t.$P=i.$$d_$26i,t.$1M_3=i.$$d_$26h,t.$A_3=n,t.$5g=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.$A_3.get_ModelContext().get_Id()),t.$S=t.$A_3.get_$2R(),t.$EF=n.$Kp,t};Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.prototype={$5g:null,$S:null,$EF:null,$P:null,$31:function(){var n=new Xrm.Objects.EntityReference(this.$S,this.$5g);return this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.CalculateRollupFieldRequest(n,this.$EF),this.get_$f()),this.$$d_$26i,this.$$d_$26h),1},$26i:function(n){if(!$0.$1(this.$P)&&n.name==="CalculateRollupField"){var t=n.entity;this.$P(t)}this.$1Y()},$26h:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("PopulateDocumentTemplateFlyout",Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction,r;return i.$A_3=n,r=t,$0.$1(r.OnSuccess)||(i.$7q=r.OnSuccess),$0.$1(r.QueryValue)||(r.QueryValue.endsWith("1")?i.$Tn=1:r.QueryValue.endsWith("2")&&(i.$Tn=2)),i.$Q6=i.$Tn===1?new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("documenttemplatesflyout_commands"):new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("wordtemplatesflyout_commands"),i};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.prototype={$sI:null,$7q:null,$Q6:null,$Tn:0,$31:function(){return $0.$1(this.$A_3)?(this.$4e(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,null)),0):(this.$1j(Microsoft.Crm.Client.Core.ViewModels.$64,this.$3OG(),this.$$d_$4e,this.$$d_$5O),1)},$4e:function(n){$0.$1(this.$7q)||$0.$1(n)||this.$7q(n);this.$1Y()},$5O:function(n){this.$21(n)},$3OG:function(){return $0.$1(this.$sI)&&(this.$sI=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$64,Microsoft.Crm.Client.Core.Framework.$4),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$22C&&this.$Tn===1?this.$29A():Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$23f&&this.$Tn===2?this.$29A():this.$sI.resolve(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,this.$Q6)):this.$sI.resolve(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,this.$Q6))),this.$sI.promise()},$29A:function(){if(!this.$A_3.get_$Dt()){var t=this.$3Or(),i=this.$3Ou(),n=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,i).always(function(){n.$sI.resolve(new Microsoft.Crm.Client.Core.ViewModels.$64(n.$A_3,n.$Q6))})}},$3Or:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Boolean),i={},n,r,u;return i.DocumentType=this.$Tn,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveDocumentTemplates",i),r=this,n.OnSuccess=function(n){r.$1SL(n,!1);t.resolve(!0)},u=this,n.OnFailure=function(){t.resolve(!1)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$A_3,n),t.promise()},$3Ou:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Boolean),i={},n,r,u;return i.DocumentType=this.$Tn,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalDocumentTemplates",i),r=this,n.OnSuccess=function(n){r.$1SL(n,!0);t.resolve(!0)},u=this,n.OnFailure=function(){t.resolve(!1)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$A_3,n),t.promise()},$1SL:function(n,t){var f=n.$22N(),k=this,o,e,s,r,i,c;for(f.sort(function(n,t){return n.$1S.localeCompare(t.$1S)}),o=this.$Q6.Controls.length,e=this.$Tn===1?t?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Menu_Label_Group_PersonalDocumentTemplates"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Menu_Label_Group_DocumentTemplates"):t?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Menu_Label_Group_PersonalWordTemplates"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Menu_Label_Group_WordTemplates"),s=t?1:0,r=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(e,"Group",null,e,s,null,null,null),i=0;i<f.length;i++){var h=f[i],l=this.$A_3.get_$2R()+"_template_"+i,a=h.$1S,v=new Microsoft.Crm.Client.Core.Framework.Guid(h.$h),y=t?"personaldocumenttemplate":"documenttemplate",u=new Xrm.Objects.EntityReference(y,v);u.Name=u.LogicalName==="documenttemplate"?"DocumentTemplate":"PersonalDocumentTemplate";c=this.$Tn===1?{DocumentTemplateEntityReference:u}:{WordTemplateEntityReference:u};var p=this.$Tn===1?"OpenDocumentTemplateCommand":"OpenWordTemplateCommand",w=this.$Tn===1?"DocumentTemplates":"WordTemplates",b=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(l,"Button",p,a,o++,"System",w,"Symbol",c);Array.add(r.Children,b)}r.Children.length>0&&Array.add(this.$Q6.Controls,r)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$9r=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("CreateMultipleRecentlyViewedItemsAction",Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.$B=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$9r,i=t;return r.$Qw=i.EntityRecords,!$0.$1(i.onSuccess)&&Function.isInstanceOfType(i.onSuccess)&&(r.$P=i.onSuccess),!$0.$1(i.onFailure)&&Function.isInstanceOfType(i.onFailure)&&(r.$1M_3=i.onFailure),r};Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.prototype={$P:null,$1M:null,$Qw:null,$R1:function(){var n,r,u,f;if(!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()&&Microsoft.Crm.Client.Core.ViewModels.$n.$DJ())return this.$1M(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093996)),1;if($0.$1(this.$Qw)||!this.$Qw.length)return this.$P(null),1;n=[];for(var i=this.$Qw,e=i.length,t=0;t<e;++t)r=i[t],Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$B(r,!1,Microsoft.Crm.Client.Core.Framework.$G.$b("","CreateRecentlyViewedItemListAction")));return u=this,f=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),function(n){u.$P(n)},function(n){f.$1M(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.Actions.$8R=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveLandingPageActivities",Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.Actions.$8R;return t.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(i),t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,t.$IX=i.get_DefinitionId(),t.$2W=Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$26Q(),t.$Ae=i.$1s.$BT+1,t};Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$26Q=function(){var n=Microsoft.Crm.Client.Core.Storage.Common.$1N.$Bs("activitypointer");return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$1Au('<fetch version="1.0" output-format="xml-platform" mapping="logical" distinct="true" returntotalrecordcount="true" no-lock="true"><entity name="activitypointer">\t<attribute name="subject"/>\t<attribute name="scheduledstart"/>\t<attribute name="regardingobjectid"/>\t<attribute name="scheduledend"/>\t<order attribute="scheduledend" descending="false"/>\t<filter type="and">\t\t<condition attribute="statecode" operator="in">\t\t\t<value>0<\/value>\t\t\t<value>3<\/value>\t\t<\/condition>\t\t<condition attribute="isregularactivity" operator="eq" value="1"/><filter type="or">\t\t\t<condition attribute="scheduledstart" operator="today"/>\t\t\t<condition attribute="scheduledend" operator="today"/>\t\t\t<condition attribute="scheduledstart" operator="this-week"/>\t\t\t<condition attribute="scheduledend" operator="this-week"/>\t\t\t<condition attribute="scheduledend" operator="olderthan-x-weeks" value="1"/>\t\t\t<condition attribute="scheduledend" operator="last-week"/>\t\t<\/filter>\t<\/filter>\t<filter type="and">\t\t<filter type="or">\t\t\t<condition attribute="activitytypecode" operator="eq" value="4202"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4210"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4212"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4216"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4201"/>\t\t<\/filter>\t<\/filter><\/entity><\/fetch>',16,n)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6O=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlForDocumentRecommendations",Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2rN)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2rN=function(n){var i=n,r=i.$2,t=new Microsoft.Crm.Client.Application.ViewModels.Actions.$6O,u=r.$6O.entityName,f=r.$6O.entityId;return t.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(i),t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,t.$IX=i.get_DefinitionId(),t.$Ae=i.$1s.$BT+1,$0.$1(u)||$0.$1(f)||(t.$Hv=new Xrm.Objects.EntityReference(u,new Microsoft.Crm.Client.Core.Framework.Guid(f))),r.$6O.SuggestionsSource.toString()==="notification"&&Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Oh("DocRecTooltipClickEvent",Xrm.Page.context.getOrgUniqueName(),Xrm.Page.context.getUserId(),"Document Recommendation Tooltip clicked",0)),t};Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2iH=function(n){Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(n.get_Root())&&(n.get_Root().$VB(),Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC("title","message"))};Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.prototype={$Hv:null,$31:function(){var n=this.$A_3;return(n.$ts=!0,$0.$1(this.$Hv))?(Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2iH(this.$A_3),0):(this.$3St(),Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.prototype.$31.call(this),1)},$3St:function(){this.$A_3.$2N=String.format(Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2DP,this.$Hv.LogicalName,this.$Hv.Id,this.$Hv.TypeCode)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$53=function(){this.$$d_$3OJ=Function.createDelegate(this,this.$3OJ);this.$$d_$3OK=Function.createDelegate(this,this.$3OK);Microsoft.Crm.Client.Application.ViewModels.Actions.$53.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEntityCollection",Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$53;return Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B9=t,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$53.prototype={$9p:null,$BL:null,$31:function(){this.$9p=Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B9.OnSuccess;this.$BL=Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B9.OnFailure;var n=Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B9.QueryValue,t=n.KeyQuery;return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(t,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI(),this.get_$f()),this.$$d_$3OK,this.$$d_$3OJ),1},$3OK:function(n){this.$9p(n)},$3OJ:function(n){this.$BL(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$51=function(){this.$$d_$2P4=Function.createDelegate(this,this.$2P4);this.$$d_$3E7=Function.createDelegate(this,this.$3E7);Microsoft.Crm.Client.Application.ViewModels.Actions.$51.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("NonCud",Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$51;return Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B9=t,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$51.prototype={$9p:null,$BL:null,$31:function(){var n=Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B9.QueryValue,u=n.CommandName.toString(),f=n.EntityName.toString(),t=n.NonCudRequest,i,r;return this.$9p=Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B9.OnSuccess,this.$BL=Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B9.OnFailure,$0.$1(t)?(i=Microsoft.Crm.Client.Core.Framework.$4.$1SG(null),this.$2P4(i)):(r=new Microsoft.Crm.Client.Core.NonCudExecution.ExecutionWrapper.$Mk(u,f,t),this.$1j(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6c),r.$3KH(),this.$$d_$3E7,this.$$d_$2P4)),1},$3E7:function(n){this.$9p(n)},$2P4:function(n){this.$BL(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDraftRecordsAction",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction,r;return t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,r=new Microsoft.Crm.Client.Core.Storage.DataApi.$T1,t.$1o=r,t.$1o.set_$7m(i.$1s.$BT+1),t.$1o.$32=i.get_PageSize(),t.$1o.$S=i.$J,t};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.prototype={$1o:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2UL(this.$1o,this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$1Pt:function(n){return Microsoft.Crm.Client.Core.Models.$AB.$B(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction=function(){this.$$d_$1bF=Function.createDelegate(this,this.$1bF);this.$$d_$15L=Function.createDelegate(this,this.$15L);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEntityRecord",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction;return i.$B9=t,i};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.prototype={$9p:null,$BL:null,$B9:null,$31:function(){this.$9p=this.$B9.OnSuccess;this.$BL=this.$B9.OnFailure;var n=this.$B9.QueryValue,t=n.Identifier,i=n.ColumnSet;return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(t,i,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI(),this.get_$f()),this.$$d_$15L,this.$$d_$1bF),1},$15L:function(n){this.$9p(n);this.$1Y()},$1bF:function(n){this.$BL(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q=function(){this.$$d_$1Pn=Function.createDelegate(this,this.$1Pn);this.$$d_$29u=Function.createDelegate(this,this.$29u);Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("CreateNavigationEntity",Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q,r;return i.$A_3=n,r=t,i.$wV=r.SourceEntityLogicalName,i.$wU=r.SourceEntityId,i.$pO=r.TargetEntityLogicalName,i.$21x=r.TargetEntityAttribute,i.$P=r.OnSuccess,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.prototype={$wV:null,$wU:null,$pO:null,$21x:null,$P:null,$31:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$rt(this.$wV,this.$wU,this.$pO,this.$21x,this.get_$f()).then(this.$$d_$29u,this.$$d_$1Pn),1},$29u:function(n){if(!$0.$1(this.$P)){var t=n;this.$P(t.NavigationEntities[0].Id)}this.$1Y()},$1Pn:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$7L=function(){this.$$d_$2gz=Function.createDelegate(this,this.$2gz);this.$$d_$2h0=Function.createDelegate(this,this.$2h0);Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("ChangeProcess",Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$7L,r=t;return i.$A_3=n,i.$Fg=r.EntityId,i.$S=r.EntityLogicalName,"ProcessControlId"in r&&(i.$hD=r.ProcessControlId),"ProcessInstanceId"in r&&(i.$E2=r.ProcessInstanceId),i.$gQ=r.NewStageId,i.$uY=r.TraversedPath,i.$P=r.SuccesCallback,i.$1M=r.FailureCallback,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.prototype={$Fg:null,$S:null,$hD:null,$E2:null,$gQ:null,$uY:null,$P:null,$1M:null,$31:function(){$0.$1(this.$Fg)&&(this.$Fg=new Microsoft.Crm.Client.Core.Framework.Guid(this.$A_3.get_ModelContext().get_Id()));var n=$0.$1(this.$gQ)?"":this.$gQ.toString(),t=$0.$1(this.$uY)?n:this.$uY;return this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$rZ(this.$Fg.toString(),this.$S,this.$hD.toString(),this.$E2,n,t,this.get_$f()),this.$$d_$2h0,this.$$d_$2gz),1},$2h0:function(){var t,i,n,r;this.$Fg.toString()===this.$A_3.get_ModelContext().get_Id()&&(t=this.$A_3,i=t.$7X("ProcessManager"),i.$35a(),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?(n=new Microsoft.Crm.Client.Core.Commands.$33(null,40),n.$J=this.$S,r={EntityReference:new Xrm.Objects.EntityReference(this.$S,new Microsoft.Crm.Client.Core.Framework.Guid(this.$Fg.toString()))},n.$1B=r,n.execute(),n.dispose()):Xrm.Utility.openEntityForm(t.$J,this.$Fg.toString()));$0.$1(this.$P)||this.$P();this.$1Y()},$2gz:function(n){$0.$1(this.$1M)||this.$1M();this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$7c=function(){this.$$d_$3Dm=Function.createDelegate(this,this.$3Dm);this.$$d_$3Dn=Function.createDelegate(this,this.$3Dn);Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("NavigateToNextEntity",Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$7c,r;return i.$A_3=n,r=t,i.$ua=r.NextEntityLogicalName,i.$uZ=r.NextEntityId,i.$13S=r.NewActiveStageId,i.$13Q=r.NewTraversedPath,i.$m8=r.FollowUpCommand,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.prototype={$13Q:null,$uZ:null,$ua:null,$13S:null,$GX:function(){this.set_$2Dn(null);Microsoft.Crm.Client.Core.Framework.$BN.prototype.$GX.call(this)},$31:function(){var n=this.$A_3.get_ModelContext(),t=new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$57().get_$57()),i=n.get_$Hb(),r=n.GetValue("processid"),u=Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),f=new Xrm.Gen.NavigateToNextEntityRequest(t,i,this.$uZ,this.$ua,this.$13S,this.$13Q,r,u),e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(f,this.get_$f());return this.$1j(Xrm.Sdk.Response,e,this.$$d_$3Dn,this.$$d_$3Dm),1},$3Dm:function(n){this.$21(n)},$3Dn:function(){if($0.$1(this.$m8)){var n=null;Microsoft.Crm.Client.Core.ViewModels.Controls.$7e.isInstanceOfType(this.$A_3)&&!$0.$1(this.$A_3.get_$1v())&&(n=this.$A_3.get_$1v().$1o9());Xrm.Utility.openEntityForm(this.$ua,this.$uZ.toString(),n)}else this.$m8.execute();this.$1Y()},$m8:null,set_$2Dn:function(n){return $0.$1(this.$m8)||(this.$m8.dispose(),this.$m8=null),this.$m8=n,n}};Microsoft.Crm.Client.Application.ViewModels.Actions.$6S=function(){this.$$d_$2Nj=Function.createDelegate(this,this.$2Nj);this.$$d_$1X5=Function.createDelegate(this,this.$1X5);Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveProcessActionRecord",Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$B=function(n,t){var i=t,r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$6S,u;return r.$P=i.OnSuccess,r.$1M_3=i.OnFailure,u=i.QueryValue,Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$1xe=u.ProcessActionName.toString(),r};Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.prototype={$P:null,$31:function(){return this.$Km(),1},$Km:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(45,this.get_$25(),"sdkmessage",1,!1,Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$1xe,0);this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,this.get_$f()),this.$$d_$1X5,this.$$d_$2Nj)},$1X5:function(n){var i=MscrmComponents.DeferredPromiseFactory(Xrm.ProcessActionSuccessResponse,Xrm.ErrorResponse),t=this;this.$JF(function(){var i=n.get_$3ZH()>0?n.get_$I(0).get_$5c():new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor;t.$P(i);t.$1Y()},this.get_$LB())},$2Nj:function(n){var t=MscrmComponents.DeferredPromiseFactory(Xrm.ProcessActionSuccessResponse,Xrm.ErrorResponse),i=new Xrm.ErrorResponse(n.$z,n.$E,n.$E);t.reject(i);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction=function(){this.$$d_$2KW=Function.createDelegate(this,this.$2KW);this.$$d_$367=Function.createDelegate(this,this.$367);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveProcessActiveStage",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$B=function(n){return Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$dZ(n)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$dZ=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction;return t.$A_3=n,t.$Hk=new Microsoft.Crm.Client.Core.Framework.Guid(n.$LF),t.$P=n.$$d_$iu,t};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.prototype={$S:null,get_$BV:function(){return this.$A_3},$Fg:null,$Hk:null,$P:null,$31:function(){var n=this.$A_3,t,i,r,u,f,e;return!$0.$1(n.$2)&&!$0.$1(n.$2.get_ModelContext())&&(t=n.$2.get_ModelContext(),!$0.$1(t)&&!$0.$1(t.$M)&&!$0.$1(t.$M.$DI))?(this.$2KM(t.$M.$DI),0):($0.$1(n.get_ModelContext())?this.$2KW(Microsoft.Crm.Client.Core.Framework.$4.$i("RetrieveProcessActiveStageAction - ViewModel.ModelContext is null.")):(this.$S=n.get_ModelContext().get_ModelName(),this.$Fg=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n.get_ModelContext().get_Id()),Microsoft.Crm.Client.Core.ViewModels.Controls.$47.$uX(this.$S)?(i=new Mscrm.ProcessControlShared.ObjectModels.$Jc,i.EntityLogicalName=this.$S,i.Id=this.$Fg.toString(),this.$3O2(i)):(r=n.$E2,u=null,Microsoft.Crm.Client.Core.Framework.$3.$1O(r)||(u=new Xrm.Objects.EntityReference("businessprocessflowinstance",Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(r))),f=new Xrm.Gen.RetrieveProcessActiveStageRequest(this.$Fg,this.$S,this.$Hk,u),e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(f,this.get_$f()),this.$1j(Xrm.Sdk.Response,e,this.$$d_$367,this.$$d_$2KW))),1)},$rm:function(n){($0.$1(n)||$0.$1(n.$KP))&&(n=this.$29g());this.$P(n);this.$1Y()},$29g:function(){var t=new Mscrm.ProcessControlShared.ObjectModels.$Jc,n;return $0.$1(this.get_$BV().get_ModelContext())||(t.EntityLogicalName=this.get_$BV().get_ModelContext().get_ModelName(),t.Id=this.get_$BV().get_ModelContext().get_Id()),n=new Mscrm.ProcessControlShared.ObjectModels.$JZ,n.$KP=this.get_$BV().get_$Cw().toString(),n.$CU=this.get_$BV().get_$v9(),n.$Cr=[t],n},$367:function(n){var t=n.entity;this.$2KM(t)},$2KM:function(n){if($0.$1(n)){this.$rm(null);return}var r=this.get_$BV().get_$8B(),u=new Microsoft.Crm.Client.Core.Models.ProcessControl.Factories.$Is,t=u.$29R(n,r),i=null;if($0.$1(t)||(i=this.get_$BV().$Dp(t.$KP)),$0.$28(i)){this.$3Co(t);return}this.$rm(t)},$3Co:function(n){var t=this.$29g(),r=this.$2rv(n.$Cr),i;if($0.$1(r)){this.$rm(t);return}i=this;this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(r,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["processid","stageid","traversedpath"]),Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),function(r){if(r.hasValue("processid")&&i.$Hk.equals(r.getValue("processid"))&&r.hasValue("stageid")){var u=r.getValue("stageid").toString(),f=r.getValue("traversedpath"),e=i.get_$BV().$Dp(u);IsNull(e)?(t.$KP=i.get_$BV().get_$Cw().toString(),t.$CU=i.get_$BV().get_$v9()):(t=n,t.$KP=u,t.$CU=f)}i.$rm(t)},this.$$d_$2KW)},$2rv:function(n){if($0.$1(n)||!n.length)return null;var t=n[n.length-1];return new Xrm.Objects.EntityReference(t.EntityLogicalName,new Microsoft.Crm.Client.Core.Framework.Guid(t.Id))},$2KW:function(n){n.$z===-2147093999?this.$1UE():this.$21(n)},$1UE:function(){this.$rm(null)},$3O2:function(n){var t=new Mscrm.ProcessControlShared.ObjectModels.$JZ,u,r,i,f,e;for(t.$KP=this.get_$BV().get_$Cw().toString(),t.$CU=this.get_$BV().get_$v9(),u=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$7p,r=new Array(0),i=1;i<=5;i++)f=String.format("entity{0}id",i),e=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM(f,n.Id,1,0),r.push(e);var s=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IL(r),o=this,h=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(u.$6I("businessprocessflowinstance",s)),function(i){var r=i[0];r.rows.length>0?o.$2ft(t,r):t.$Cr=[n];o.$rm(t)},function(){t.$Cr=[n];h.$rm(t)})},$2ft:function(n,t){var r={},i,f,e,o,u,s;for(n.$Cr=new Array(0),i=t.rows.item(0),("processstageid"in i)&&!$0.$1(i.processstageid)&&(n.$KP=i.processstageid.toString().toLowerCase(),r.processstageid=i.processstageid.toString().toLowerCase()),("traversedpath"in i)&&!$0.$1(i.traversedpath)&&(n.$CU=i.traversedpath.toString(),r.traversedpath=i.traversedpath.toString()),f=1;f<=5;f++)e=String.format("entity{0}id",f),o=String.format("entity{0}objecttypecode",f),e in i&&o in i&&!$0.$1(i[e])&&!$0.$1(i[o])&&(u=new Mscrm.ProcessControlShared.ObjectModels.$Jc,u.Id=i[e].toString(),u.EntityLogicalName=i[o].toString(),r[e]=u.Id,r[o]=u.EntityLogicalName,n.$Cr.push(u));(s="businessprocessflowinstanceid"in i&&!$0.$1(i.businessprocessflowinstanceid),s)&&(r.businessprocessflowinstanceid=i.businessprocessflowinstanceid.toString(),this.$3T7(r))},$3T7:function(n){var i=new Microsoft.Crm.Client.Core.Framework.Guid(n.businessprocessflowinstanceid.toString()),r=new Xrm.Objects.EntityReference("businessprocessflowinstance",i),u=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,n,{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),t=this.get_$BV().$2.get_ModelContext(),f=!$0.$1(t)&&$0.$1(t.$M.$DI);f&&(this.get_$BV().$2.get_ModelContext().$M.$DI=u)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$UU=function(){this.$$d_$2Nj=Function.createDelegate(this,this.$2Nj);this.$$d_$1X5=Function.createDelegate(this,this.$1X5);this.$$d_$3Bs=Function.createDelegate(this,this.$3Bs);this.$$d_$3Bp=Function.createDelegate(this,this.$3Bp);this.$$d_$3Bq=Function.createDelegate(this,this.$3Bq);Microsoft.Crm.Client.Application.ViewModels.Actions.$UU.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$UU.prototype={$P:null,$Wy:null,$S:null,set_$oA:function(n){return this.$P=n,n},$31:function(){return this.$Wy=this.$31z(),$0.$1(this.$Wy)?this.$31Q(this.$S):this.$Km(),1},$1X5:function(n){var t=this;this.$JF(function(){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveProcessControlAction:LoadDefinitionsSuccess"),r,u;i.start();$0.$1(t.$P)||(r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor,u=n.get_$3ZH()>0?n.get_$I(0).get_$5c():r,t.$P(u));t.$1Y();i.stop()},this.get_$LB())},$2Nj:function(n){this.$21(n)},$31z:function(){if(!$0.$1(this.$Wy))return this.$Wy;var n=this.$A_3.get_ModelContext();return $0.$1(n)?null:n.GetValue("processid")},$31Q:function(n){(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===1||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2)&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()&&Xrm.Utility.isMocaOfflineFeatureEnabled()&&Xrm.Utility.isEntityOfflineSyncEnabled(n)?this.$31R(this.$S):this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RetrieveProcessWithFallbackRequest(n,null),this.get_$f()),this.$$d_$3Bq,this.$$d_$3Bp)},$31R:function(n){var r=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$7p,t=new Array(0),i;t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM("primaryentity",n.toLowerCase(),1,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM("category",4,0,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM("statecode",1,0,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM("businessprocesstype",1,0,1,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM("businessprocesstype","",1,6,1));i=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IL(t);this.$1j(Microsoft.Crm.Client.Core.Imported.Norsync.SQLiteResults,r.$6I("Workflow",i),this.$$d_$3Bs,this.$$d_$3Bp)},$3Bs:function(n){this.$Wy=null;!$0.$1(n)&&n.rows.length>0&&!$0.$1(n.rows.item(0))&&this.$3TF(n);this.$Km()},$3TF:function(n){var u,f,i,r,t;for(Microsoft.Crm.Client.Core.Framework.Utils.$D.$1U(n.rows.item(0).workflowid,"entityMetadata"),u=$0.$1(n.rows.item(0).workflowid)?null:Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n.rows.item(0).workflowid.toString()),f=$0.$1(n.rows.item(0).processorder)?2147483647:n.rows.item(0).processorder,i=1;i<n.rows.length;i++)r=2147483647,t=n.rows.item(i),$0.$1(t.processorder)||(r=t.processorder),f>r&&(u=$0.$1(t.workflowid)?null:Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.workflowid.toString()),f=r);this.$Wy=u},$3Bq:function(n){var t=n.entity;t&&t.set_clientRetrieveOptions(Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI());this.$Wy=t?t.getValue("workflowid"):null;this.$Km()},$3Bp:function(n){n.$z===-2147093999?this.$1UE():this.$21(n)},$Km:function(){if($0.$1(this.$Wy)||this.get_$25()===4)this.$1X5(new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V)));else{var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(15,this.get_$25(),null,1,!0,this.$Wy.toString());this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,this.get_$f()),this.$$d_$1X5,this.$$d_$2Nj)}},$1UE:function(){this.$1X5(new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V))(0))}};Microsoft.Crm.Client.Application.ViewModels.Actions.$6l=function(){this.$$d_$1GE=Function.createDelegate(this,this.$1GE);Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveProcessControlFirstStage",Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$B=function(n){return Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$dZ(n)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$dZ=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.$6l;return t.$A_3=n,t.$S=n.$J,t.set_$oA(t.$$d_$1GE),t.$1M_3=n.$$d_$1wI,t.$13n=n.$$d_$1wJ,t};Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.prototype={$13n:null,set_$3FW:function(n){return this.$13n=n,n},$1GE:function(n){var u,e,t,o,i;if(!n){this.$13n(null);return}var s=this.$A_3.get_$2R(),r=null,f=n.ChildViewModels;for(u in f)if((e={key:u,value:f[u]},t=e.value,t.TypeName==="ProcessEntity")&&(o=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"EntityLogicalName",t.Properties),o===s)&&(r=this.$2ru(t),r))break;i=[];Array.add(i,this.$Wy);Array.add(i,r);this.$13n(i)},$2ru:function(n){var t=null,u=n.ChildViewModels,i,f,r;for(i in u)if((f={key:i,value:u[i]},r=f.value,r.TypeName==="Stage")&&(t=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"StageId",r.Properties),t))break;return new Microsoft.Crm.Client.Core.Framework.Guid(t)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveRecentlyViewedItemList",Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$B);(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$1WX()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V())&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$2OZ(Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$2QG)};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$B=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$2p,u;return r.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(i),r.$A_3=i,r.$IX=i.get_DefinitionId(),r.$2W=Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$26Q(),r.$Ae=i.$1s.$BT+1,u=t,r.$P=function(n){i.dispose();i=null;u.OnSuccess(n)},r.$1M_3=function(n){i.dispose();i=null;u.OnFailure(n)},r};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$26Q=function(){var i,t,u,f;if($0.$1(Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj)){i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$OW();Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj='<filter type="or">';Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj+="<condition attribute='recentlyviewedxml' operator='like' value='%etc=\"1030\"%' />";for(var r=i,e=r.length,n=0;n<e;++n)t=r[n],t.$Oj&&(Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj+="<condition attribute='recentlyviewedxml' operator='like' value ='%etc=\""+t.$7u+"\"%' />");Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj+="<\/filter>"}return u=String.format("<fetch mapping='logical' returntotalrecordcount='true'>\r\n\t\t\t\t\t\t\t<entity name='{0}'>\r\n\t\t\t\t\t\t\t<attribute name='recentlyviewedxml'/>\r\n\t\t\t\t\t\t\t<attribute name='objecttypecode'/>\r\n\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute='ownerid' operator='eq' value='{1}' />\r\n\t\t\t\t\t\t\t\t<condition attribute='recentlyviewedxml' operator='neq' value='' />\r\n\t\t\t\t\t\t\t\t<condition attribute='recentlyviewedxml' operator='not-null' />\r\n\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t"+Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj+"\r\n\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t<\/fetch>","userentityuisettings",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K),f=Microsoft.Crm.Client.Core.Storage.Common.$1N.$Bs("userentityuisettings"),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$1Au(u,16,f)};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$2QG=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj=null};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.prototype={$4e:function(n){if(this.$15K=$0.$1(n.$4W)?null:n.$4W.$CT,$0.$1(this.$P)||this.$A_3.get_$Dt())this.$1Y();else{var t=this;this.$JF(function(){var i=t.$1Pt(n);t.$P(i);t.$1Y()},Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2Ap(this.$A_3))}}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveProcessControlDefinition",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$B=function(n){return Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$dZ(n)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$dZ=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction;return t.$A_3=n,t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$15Q,t.$S=n.$J,t.set_$oA(n.$$d_$1GE),t.$1M_3=n.$$d_$3Fv,t};Microsoft.Crm.Client.Application.ViewModels.Actions.$CW=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("UpdateMultipleRecentlyViewedItemsAction",Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.$B=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$CW,i;return r.$1de=!0,i=t,r.$Kl=i.EntityRecords,!$0.$1(i.onSuccess)&&Function.isInstanceOfType(i.onSuccess)&&(r.$P=i.onSuccess),!$0.$1(i.onFailure)&&Function.isInstanceOfType(i.onFailure)&&(r.$1M=i.onFailure),r};Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.prototype={$P:null,$1M:null,$Kl:null,$R1:function(){var n,t,r,u,f;if(!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()&&Microsoft.Crm.Client.Core.ViewModels.$n.$DJ())return n=Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093996),this.$1M(n),this.$21(n),1;if($0.$1(this.$Kl)||!this.$Kl.length)return this.$P(null),this.$1Y(),1;t=[];for(var e=this.$Kl,o=e.length,i=0;i<o;++i)r=e[i],Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7p(r.$3F,r,!1,Microsoft.Crm.Client.Core.Framework.$G.$b("","UpdateMultipleRecentlyViewedItemsAction")));return u=this,f=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(n){u.$P(n);u.$1Y()},function(n){f.$1M(n);f.$21(n)}),1}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Actions");Microsoft.Crm.Client.Core.ViewModels.Actions.$8P=function(){this.$$d_$sc=Function.createDelegate(this,this.$sc);this.$$d_$6B=Function.createDelegate(this,this.$6B);Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEmailFollowTrackingInfoAction",Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$B)};Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$B=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Actions.$8P;return i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hZ,Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$1Ip(i,t),i};Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$1Ip=function(n,t){var r=t,i=r.QueryValue;n.$1My=i.TrackingId;n.$1L4=i.ConversationTrackingId;n.$q5=i.EmailLinks;n.$7q=i.OnSuccess;n.$1M_3=r.OnFailure};Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.prototype={$4q:null,$7q:null,$1My:null,$1L4:null,$q5:null,get_$27o:function(){return"webclient"},$31:function(){return(this.$2Yi(),!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20)?(this.$sc(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),0):(this.$1j(Microsoft.Crm.Client.Core.Models.$AD,this.$2UM(),this.$$d_$6B,this.$$d_$sc),1)},$2pj:function(n){for(var i={},t=0;t<this.$q5.length;t++)i[this.$q5[t]]=n.emailLinkTrackingUrls[t];return i},$2C6:function(n){return n.emailTrackingPixelUrl},$2UM:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Models.$AD,Microsoft.Crm.Client.Core.Framework.$4),i=[],t,r;return i.push(Xrm.Internal.messages.getEmailTrackingPixelUrl(this.$1My,this.$1L4,this.get_$27o())),!$0.$1(this.$q5)&&this.$q5.length>0&&i.push(Xrm.Internal.messages.getEmailLinkTrackingUrls(this.$1My,this.$1L4,this.get_$27o(),this.$q5)),t=this,r=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(i){i.length===1?n.resolve(new Microsoft.Crm.Client.Core.Models.$AD(t.$2C6(i[0]),null)):i.length===2?n.resolve(new Microsoft.Crm.Client.Core.Models.$AD(t.$2C6(i[0]),t.$2pj(i[1]))):n.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093999))},function(t){Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x.isInstanceOfType(t)?n.reject(Microsoft.Crm.Client.Core.Framework.$4.$JT(t.$2IA())):n.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093999))}),n},$sc:function(n){n.$z===-2147093999&&(n.$z=-2147093997);this.$2DZ(n);this.$21(n)},$6B:function(n){this.$7q(n);this.$2Da(n);this.$1Y()},$2Yi:function(){this.$4q=new Microsoft.Crm.Client.Core.Framework.$5o("MailAppAction",{Action:"RetrieveEmailFollowTrackingInfoAction"});Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$iO(this.$4q)},$2Da:function(n){$0.$1(this.$4q)||(this.$4q.p.EmailFollowTrackingInfoRetrieved=!0,this.$4q.p.EmailFollowTrackingPixelUrl=n.$xZ,this.$4q.p.EmailFollowTrackingUrlPairs=n.$xX,Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(this.$4q.rid),this.$4q=null)},$2DZ:function(n){$0.$1(this.$4q)||(this.$4q.p.EmailFollowTrackingInfoRetrieved=!1,this.$4q.p.ErrorCode=n.$z,this.$4q.p.ErrorMessage=n.$E,Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(this.$4q.rid),this.$4q=null)}};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Core.ViewModels.$Db.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Db",Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$3bT.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$3bT");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$UV.registerClass("Microsoft.Crm.Client.Application.ViewModels.$UV",Microsoft.Crm.Client.Core.ViewModels.$UE,Microsoft.Crm.Client.Core.ViewModels.$Hh);Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction",Microsoft.Crm.Client.Application.ViewModels.$UV);Microsoft.Crm.Client.Application.ViewModels.$Bx.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Bx",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.$B8.registerClass("Microsoft.Crm.Client.Application.ViewModels.$B8",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction",Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction);Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3bV.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3bV");Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$6T.registerClass("Microsoft.Crm.Client.Application.ViewModels.$6T",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$6T);Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction",Microsoft.Crm.Client.Application.ViewModels.$UV);Microsoft.Crm.Client.Application.ViewModels.$BZ.registerClass("Microsoft.Crm.Client.Application.ViewModels.$BZ",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction);Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$7E.registerClass("Microsoft.Crm.Client.Application.ViewModels.$7E",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$Bu.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Bu",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.PingServerAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.PingServerAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$Bv.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Bv",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction",Microsoft.Crm.Client.Application.ViewModels.$UV);Microsoft.Crm.Client.Application.ViewModels.$6Q.registerClass("Microsoft.Crm.Client.Application.ViewModels.$6Q",Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction);Microsoft.Crm.Client.Application.ViewModels.$6R.registerClass("Microsoft.Crm.Client.Application.ViewModels.$6R",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase);Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$3C.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3C",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.$3C.$3bU.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3C.$3bU");Microsoft.Crm.Client.Application.ViewModels.$3C.$3bW.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3C.$3bW");Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase);Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$6T);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$6T);Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$6T);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$BA.registerClass("Microsoft.Crm.Client.Application.ViewModels.$BA",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$U3.registerClass("Microsoft.Crm.Client.Application.ViewModels.$U3",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Application.ViewModels.$3b.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3b",Microsoft.Crm.Client.Application.ViewModels.$U3);Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$6U.registerClass("Microsoft.Crm.Client.Application.ViewModels.$6U",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction",Microsoft.Crm.Client.Application.ViewModels.$U3);Microsoft.Crm.Client.Application.ViewModels.$5m.registerClass("Microsoft.Crm.Client.Application.ViewModels.$5m",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$2m.registerClass("Microsoft.Crm.Client.Application.ViewModels.$2m",Microsoft.Crm.Client.Application.ViewModels.$U3);Microsoft.Crm.Client.Application.ViewModels.$4o.registerClass("Microsoft.Crm.Client.Application.ViewModels.$4o",Microsoft.Crm.Client.Application.ViewModels.$2m);Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$9r",Microsoft.Crm.Client.Application.ViewModels.$U3);Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$8R",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$6O",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.$53.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$53",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$51.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$51",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$7L",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$7c",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$6S",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$UU.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$UU",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$6l",Microsoft.Crm.Client.Application.ViewModels.Actions.$UU);Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$2p",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction",Microsoft.Crm.Client.Application.ViewModels.Actions.$UU);Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$CW",Microsoft.Crm.Client.Application.ViewModels.$U3);Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.registerClass("Microsoft.Crm.Client.Core.ViewModels.Actions.$8P",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Bx.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$B8.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$BZ.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$7E.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Bu.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Bv.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$6Q.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$6R.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$3C.$2D8='<fetch mapping="logical" distinct="false" aggregate="true" >\r\n\t\t\t\t<entity name="productpricelevel">\r\n\t\t\t\t\t<attribute name="uomid" groupby="true" alias="uomid" />\r\n\t\t\t\t\t<attribute name = "productpricelevelid" groupby="true" alias="productpricelevelid" />\r\n\t\t\t\t\t<attribute name = "amount" groupby="true" alias="amount" />\r\n\t\t\t\t\t<attribute name = "productid" groupby="true" alias="productid" />\r\n\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t<condition attribute = "pricelevelid" operator="eq" value="{0}" />\r\n\t\t\t\t\t\t<condition entityname = "basketrecord_productdetailentity" attribute="{12}" operator="null" />\r\n\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t<link-entity name = "{1}" to="{2}" from="{3}" link-type="inner">\r\n\t\t\t\t\t\t{4}\r\n\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t<condition attribute = "{5}" operator="in">\r\n\t\t\t\t\t\t\t{6}\r\n\t\t\t\t\t\t\t<\/condition>\r\n\t\t\t\t\t\t\t{7}\r\n\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t<link-entity name = "{9}" from="productid" to="{8}" link-type="outer" alias="basketrecord_productdetailentity" >\r\n\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute = "{10}" operator="eq" value= "{11}" />\r\n\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t<link-entity name = "product" to="{8}" from="productid" link-type="inner">\r\n\t\t\t\t\t\t\t<filter type = "or">\r\n\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute = "statecode" operator="eq" value= "0" />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute = "statecode" operator="eq" value= "3" />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t<\/entity>\r\n\t\t\t<\/fetch>';Microsoft.Crm.Client.Application.ViewModels.$3C.$2DG='<fetch mapping="logical" distinct="false" aggregate="true">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<entity name="recommendationcache">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name="recommendeditemid" groupby="true" alias="recommendeditemid"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name="recommendationrating" aggregate="max" alias="recommendationrating"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type="and" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="itemid" operator="in">{0}<\/condition>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="isrecommendationactive" operator="eq" value="1" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition entityname="productsuggestions_detailentity" attribute="{1}" operator="null" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<order alias="recommendationrating" descending="true" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<link-entity name="product" from="productid" to="recommendeditemid" link-type="inner" alias="a_7d64828b1789436db0d0cf80c2660962">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type="or" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="statecode" operator="eq" value="0" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="statecode" operator="eq" value="3" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<link-entity name="{2}" from="{3}" to="recommendeditemid" link-type="outer" alias="productsuggestions_detailentity" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type="and" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="{4}" operator="eq" value="{5}" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/fetch>';Microsoft.Crm.Client.Application.ViewModels.$3C.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$2Dl=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["DocumentTemplatesFlyout","WordTemplatesFlyout"]);Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$BA.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$3b.$$cctor();Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$6U.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$5m.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$4o.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$2m.$$cctor();Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$22C=!1;Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$23f=!1;Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2DP='<filter type="and">\r\n\t\t\t\t\t<condition attribute="regardingobjectid" operator="eq" uitype="{0}" value="{1}"/>\r\n\t\t\t\t\t<condition attribute="regardingobjecttypecode" operator="eq" value="{2}"/>\r\n\t\t\t\t<\/filter>';Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B9=null;Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B9=null;Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$1xe="";Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj=null;Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Application.ViewModels.js.srcmap
