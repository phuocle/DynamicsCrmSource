Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$Hp=function(){};Microsoft.Crm.Client.Core.ViewModels.$Hp.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Hp");Microsoft.Crm.Client.Core.ViewModels.$Ho=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ho.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ho");Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.prototype={task:0,email:1,appointment:2,phoneCall:3,incidentResolution:4,note:5,systemPost:6,userPost:7,socialActivity:8,customActivity:9,incident:10,account:11};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.prototype={open:0,completed:1,canceled:2,scheduled:3};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.prototype={high:0,normal:1,low:2};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.prototype={incoming:0,outgoing:1};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel=function(n){var r,t,i;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.initializeBase(this,[n]);this.$Ru={};r=Microsoft.Crm.Client.Core.Framework.$1u.$c("IsUSD");!$0.$1(r)&&Boolean.isInstanceOfType(r)&&(this.$fI=r);t=this;this.$1Xt=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){t.$5k.$Cb===t.$5k.$mp?t.$5k.$1ws(!1):t.$3Du(!1)},1004);i=this;this.$1Xs=new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(function(){i.$5k.$Cb+1===i.$5k.get_$1dn()?i.$5k.$1ws(!0):i.$3Du(!0)},1004)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.prototype={$1Xt:null,$1Xs:null,get_ListNavigationRecordCount:function(){if($0.$1(this.$5k))return"";var n=this.$5k.$Cb+1;return n.toString()+"/"+this.$5k.$198.toString()},$3Dt:function(n){n?this.set_NextNavigationIndex(this.$5k.$Cb+1):this.set_NextNavigationIndex(this.$5k.$Cb-1);for(var t=this.$5k.$2MO(this.$Qy),i=!0;!t;){if(!this.$Qy||this.$Qy===this.$5k.$198-1){i=!1;break}n?this.set_NextNavigationIndex(this.$Qy+1):this.set_NextNavigationIndex(this.$Qy-1);t=this.$5k.$2MO(this.$Qy)}return i?!0:(Microsoft.Crm.Client.Core.ViewModels.$Z.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_0x8004020e"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_0x80042300"),0),!1)},$3Du:function(n){var i,t,u,f,r;this.$3Dt(n)&&(this.$5k.$uE=!0,i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T(),t=this.get_CurrentListNavigationDataContext().get_$1K(),Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(t)&&(u=t,f=u.$M.$N,f.LogicalName!=="queueitem"&&(i.$Q.$T.EntityReference=null)),r=new Microsoft.Crm.Client.Core.Commands.$B7(i),r.execute(),r.dispose(),t=this.get_CurrentListNavigationDataContext().get_$1K(),Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(t)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$L7().$1ZP(t),Microsoft.Crm.Client.Core.ViewModels.$p.$1i1(t)))},get_NavigateToPrevious:function(){return this.$1Xt},set_NavigateToPrevious:function(n){return this.$1Xt=n,n},get_NavigateToNext:function(){return this.$1Xs},set_NavigateToNext:function(n){return this.$1Xs=n,n},$Ru:null,$Xe:null,$qZ:null,$2Hf:function(n,t){if($0.$1(this.$qZ)){var i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveDashboardSelector",null,!0,[1,2]),r=this;i.OnSuccess=function(n){if(!$0.$1(n)&&!$0.$1(n.$EJ)){var i=n.$EJ.Controls;r.$1eU(i);t()}};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",n,i)}else t()},$1eU:function(n){var r,t,s,h,w,f,c,l,b,e,a;for(this.$Ru={},this.$qZ=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$6w)),r=0;r<n[0].Children.length;r++){var u=n[0].Children[r],v=u.Id,i=u.LabelText;switch(i){case"Service Desk Dashboard":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionCentric_ServiceDeskDashboard");break;case"Knowledge Manager":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionCentric_KnowledgeManagerDashboard");break;case"My Knowledge Dashboard":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionCentric_MyKnowledgeDashboard")}var o=this.$2DR(u.CommandParameters.Descriptors,"Properties"),y=!1,p=u.CommandParameters.IsDefault;if(o){t=null;s=o;for(h in s)w={key:h,value:s[h]},f=w.value,f&&f.Name==="PrimaryEntity"&&(t=f.Value,this.$Ru[t]||(this.$Ru[t]=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$6w))));c=o;for(l in c)if(b={key:l,value:c[l]},e=b.value,e&&e.Name==="DashboardCategory"){a=e.Value.toString().split("_");a.length>1&&a[1]==="1"&&t&&(y=!0,this.$Ru[t].add(new Microsoft.Crm.Client.Core.ViewModels.$6w(v,i,t,p)));y||this.$qZ.add(new Microsoft.Crm.Client.Core.ViewModels.$6w(v,i,t,p));break}}}},$2DR:function(n,t){var r,u,i,f;if(!n)return null;if(n[t])return n[t];r=n;for(u in r)if((i={key:u,value:r[u]},i.key!=="__proto__"&&i.value&&(i.value.toString().toLowerCase()==="[object object]"||!(i.value.toString().indexOf(t)<0)))&&(f=this.$2DR(i.value,t),f))return f;return null},$35r:function(n){var i=n.$17l[0],t;for(Xrm.Utility.create(i,null,null,null,null,null),t=0;t<n.$17l.length;t++)n.$17l[t]=null;n=null},$2dg:function(n){if($0.$1(this.$6J)&&(this.$6J=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4x))),!this.$6J.contains(n)){if(this.$6J.add(n),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){var t=n;t=$.extend(!0,{},n);this.get_$Nb().add(t)}this.$12v=null;n.set_$Og(!0);this.$2Db()}},clearSelectedViewModels:function(){var t=!1,n;if(!$0.$1(this.$6J)){for(n=0;n<this.$6J.get_Count();n++)this.$6J.get_$I(n).$2i2(),t=!0;this.$6J.clear()}t&&this.$1ne()},GetRootTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?1e3:-3e4},$3Mm:function(n){var t,i;if(!$0.$1(this.$6J)&&(this.$6J.contains(n)||this.get_$Nb().contains(n))){if(this.$6J.remove(n),!this.$6J.contains(n))for(t=0;t<this.$6J.get_Count();t++)if(this.$6J.get_Items()[t].get_Id()===n.get_Id()){this.$6J.remove(this.$6J.get_Items()[t]);break}if(this.get_$Nb().remove(n),!this.get_$Nb().contains(n))for(i=0;i<this.get_$Nb().get_Count();i++)if(this.get_$Nb().get_Items()[i].get_Id()===n.get_Id()){this.get_$Nb().remove(this.get_$Nb().get_Items()[i]);break}this.$12v=null;this.$2sA()}},$31w:function(n){var t,i;return Microsoft.Crm.Client.Core.ViewModels.$82.isInstanceOfType(n)?(t=n,$0.$1(t))?null:(i={},i.name=t.$17Z,i.id=t.$17Y,i.type=t.$17a,i):null},isNavBarOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$57.getParamStatus("navbar")},isBackButtonOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$57.getParamStatus("backbtn")},$1v2:function(n){this.get_CanGoBack()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype.$1v2.call(this,n):this.$1VC.$uW.execute()}};Microsoft.Crm.Client.Core.ViewModels.$9W=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_HandleFilterChangeCompletedEvent=Function.createDelegate(this,this.HandleFilterChangeCompletedEvent);this.$1r={};Microsoft.Crm.Client.Core.ViewModels.$9W.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$9W.prototype={$2D:!1,$1Fm:null,$Lo:null,get_AppliedFilterExpression:function(){return this.$Lo},set_AppliedFilterExpression:function(n){return this.$Lo=n,n},$Rj:null,$PU:null,get_AttributeMetadataActionProvider:function(){return this.$PU},set_AttributeMetadataActionProvider:function(n){return this.$PU=n,n},get_IsLoading:function(){return this.$2D},set_IsLoading:function(n){return this.$2D=n,this.$8("MetadataFetched"),n},get_IsMultipleEntityGraphSupported:function(){return this.$83().get_IsMultipleEntityGraphSupported()},$2IO:function(n){var i=0,t,r,u;if(!$0.$1(n)&&!$0.$1(n.get_$5S()))for(t=0;t<n.get_$5S().get_Count();t++)if(n.get_$5S().get_$I(t).get_$23().get_Count()>0){r=n.get_$5S().get_$I(t).get_$23().get_$I(0).get_$Pt();u=this.$1r[r][1];switch(u){case 20:case 11:case 0:case 12:case 13:case 1:case 6:case 10:case 9:case 14:i+=n.get_$5S().get_$I(t).get_$23().get_Count();break;case 5:case 4:case 3:case 2:i+=1}}return i},get_AppliedFiltersCount:function(){var n,t,i,r,u;if(this.$83().get_IsMultipleEntityGraphSupported()){if(n=0,!$0.$1(this.$Rj)){t=this.$Rj;for(i in t)r={key:i,value:t[i]},$0.$1(r.value)||(u=r.value,n+=this.$2IO(u))}return n}return this.$2IO(this.$Lo)},$18:function(){if(!this.$1y){var n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("AppliedFilters_Initialize",0,this.get_ViewModelId());$0.$1(n)||n.addParameter(this.$G);this.$1Fm=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_AttributeMetadataRetrieve");Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$83().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_HandleFilterChangeCompletedEvent)}},$GX:function(){this.$1r=null;this.$83().$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_HandleFilterChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},HandleFilterChangeCompletedEvent:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_HandleFilterChangeCompletedEvent"),y,r,f,p,b,k,o,i,s,h,c,l,u,a,it,ut;if(t.start(),this.$83().get_IsMultipleEntityGraphSupported()){k=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$NO)?"":n.$NO.toString(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(k);this.$Rj={};var d=this.$83().$Er,g={},nt=0,tt=d;for(o in tt)i={key:o,value:tt[o]},this.$Rj[i.key]=d[i.key].$8W(),s=this.$Rj[i.key].$CW.toArray(),g[i.key]=s,nt+=s.length;if(!nt){this.$8("CurrentAppliedFilters");return}h=g;for(c in h)if(l={key:c,value:h[c]},u=l.value,u.length>0){a=new Array(u.length);it=0;for(var rt=u,et=rt.length,v=0;v<et;++v)ut=rt[v],a[it++]=ut.get_$OJ();this.$P7(a,l.key)}t.stop();t.addParameter(this.get_ViewModelId())}else{if(y=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$Gr)?"":n.$Gr.$7J(),n.$h),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(y),this.$Lo=this.$83().$Lu.$8W(),r=this.$Lo.get_$5S().toArray(),!r.length){this.$8("CurrentAppliedFilters");return}f=new Array(r.length);p=0;for(var w=r,ft=w.length,e=0;e<ft;++e)b=w[e],f[p++]=b.get_$OJ();t.stop();t.addParameter(this.get_ViewModelId());this.$P7(f,this.$83().$8U)}this.$8("CurrentAppliedFilters")},removedAppliedFilters:function(n){this.$Lo.$N5(n);var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(n,1,0,this.$Lo);this.$83().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,t);this.$8("CurrentAppliedFilters")},removedAppliedFiltersWithEntity:function(n,t){this.$Rj[n].$N5(t);var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(t,1,0,null);i.$Kq=this.$Rj;this.$83().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,i);this.$8("CurrentAppliedFilters")},removedAllAppliedFilters:function(){var n;this.$83().get_IsMultipleEntityGraphSupported()?(this.$Rj=null,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,null),n.$Kq=this.$Rj):(this.$Lo=null,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,this.$Lo));this.$83().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,n);this.$8("CurrentAppliedFilters")},TruncatedGlobalFilterScreenReaderText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TruncatedGlobalFilter_ScreenReader_Label"),this.get_AppliedFiltersCount())},$2Hm:function(n,t,i,r){var u=new Array(2),f,e;switch(t){case 20:case 11:case 0:case 12:case 13:u[0]=String.format("{0} {1}/{2}",r,n.get_$23().get_Count().toString(),this.$1r[i][2]);u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_OptionSet"),r,n.get_$23().get_Count().toString(),this.$1r[i][2]);break;case 2:n.get_$23().get_$I(0).get_$Jr()||n.get_$23().get_$I(1).get_$Jr()?(f=new Date(Date.parse(n.get_$23().get_$I(0).get_$2O())),e=new Date(Date.parse(n.get_$23().get_$I(1).get_$2O())),u[0]=String.format("{0} {1}-{2}",r,f.format("d"),e.format("d")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_DateTimeRange"),r,f.format("d"),e.format("d"))):(u[0]=String.format("{0} {1}",r,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ChartAttributeValueMissing")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_DateTimeRange_NoneSelected"),r));break;case 5:case 4:case 3:n.get_$23().get_$I(0).get_$Jr()&&n.get_$23().get_$I(0).get_$Jr()!=="null"?n.get_$23().get_$I(0)&&!n.get_$23().get_$I(1)?(u[0]=String.format("{0} {1}",r,n.get_$23().get_$I(0).get_$2O()),u[1]=String.format("{0} {1}",r,n.get_$23().get_$I(0).get_$2O())):(u[0]=String.format("{0} {1}-{2}",r,n.get_$23().get_$I(0).get_$2O(),n.get_$23().get_$I(1).get_$2O()),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_Range"),r,n.get_$23().get_$I(0).get_$2O(),n.get_$23().get_$I(1).get_$2O())):(u[0]=String.format("{0} {1}",r,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ChartAttributeValueMissing")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_Range_NoneSelected"),r));break;case 1:case 6:case 10:case 9:case 14:case 15:u[0]=String.format("{0} {1}",r,n.get_$23().get_Count());u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_LookUp"),r,n.get_$23().get_Count())}return u},GenerateAppliedFilters:function(){var e=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_GeneratingAppliedFilters"),n,r,i,v,s,h,c,u,o,f,t,y,l,a;if(e.start(),n={},this.$83().get_IsMultipleEntityGraphSupported()){if(!$0.$1(this.$Rj)){h=this.$Rj;for(c in h)if(u={key:c,value:h[c]},!$0.$1(u.value))for(o=u.value,f=0;f<o.get_$5S().get_Count();f++)if(o.get_$5S().get_$I(f).get_$23().get_Count()>0){if(t=o.get_$5S().get_$I(f).get_$23().get_$I(0).get_$Pt(),!this.$1r[t])continue;y=this.$1r[t][1];n[t]={};l=this.$1r[t][0];u.key!==this.$83().$8U&&(l+=" ("+u.key+")");a=this.$2Hm(o.get_$5S().get_$I(f),y,t,l);n[t].displaytext=a[0];n[t].screenreadabletext=a[1];n[t].entityname=u.key}return e.stop(),e.addParameter(this.get_ViewModelId()),n}return null}if(!$0.$1(this.$Lo)){for(r=0;r<this.$Lo.get_$5S().get_Count();r++)if(this.$Lo.get_$5S().get_$I(r).get_$23().get_Count()>0){if(i=this.$Lo.get_$5S().get_$I(r).get_$23().get_$I(0).get_$Pt(),!this.$1r[i])continue;v=this.$1r[i][1];n[i]={};s=this.$2Hm(this.$Lo.get_$5S().get_$I(r),v,i,this.$1r[i][0]);n[i].displaytext=s[0];n[i].screenreadabletext=s[1]}return e.stop(),e.addParameter(this.get_ViewModelId()),n}return null},$P7:function(n,t){var i,r;this.set_IsLoading(!0);i={};i.EntityType=t;i.Attributes=n;i.OnSuccess=this.$$d_$4e;r=this.$PU.$DG(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(r);this.$1Fm.start()},$4e:function(n){var i,t;this.$1Fm.stop();this.$1Fm.addParameter(this.get_ViewModelId());i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_AttributeMetadataCaching");i.start();this.$2D=!1;for(var u=n,f=u.length,r=0;r<f;++r){t=u[r];switch(t.get_$5R()){case 20:case 11:case 0:case 13:case 12:this.$1r[t.get_$1n()]=[t.get_$9t(),t.get_$5R(),Microsoft.Crm.Client.Core.Framework.$1I.$m(t.get_$BS().$2f).toString()];break;default:this.$1r[t.get_$1n()]=[t.get_$9t(),t.get_$5R()]}}i.stop();i.addParameter(this.get_ViewModelId());this.$8("CurrentAppliedFilters");this.$Im("AppliedFilters_LoadedFilters")},$83:function(){return this.$2},get_TabSpaceReserved:function(){return 50},AppliedFilterScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_Label"),n)}};Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel=function(){this.$$d_$2eB=Function.createDelegate(this,this.$2eB);this.$$d_$1YY=Function.createDelegate(this,this.$1YY);this.$$d_$1UN=Function.createDelegate(this,this.$1UN);this.$$d_DefinitionUpdated=Function.createDelegate(this,this.DefinitionUpdated);Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.prototype={$1AX:null,$cf:null,$1Km:null,$1Vl:!1,get_$zb:function(){return this.$Pa?"SubGridAssociated:"+this.$J:Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.get_$zb.call(this)},get_ColumnsForGrid:function(){var n;if(this.$1AX=Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.get_ColumnsForGrid.call(this),!$0.$1(this.$1AX))for(var i=this.$1AX,r=i.length,t=0;t<r;++t)n=i[t],"name"in n&&"hidden"in n&&Array.contains(this.$307(),n.name.toString().toLowerCase())&&(n.hidden=!0);return this.$1AX},$307:function(){switch(this.$J.toLowerCase()){case"activitypointer":return["scheduledstart","community","instancetypecode"];case"incident":return["prioritycode","caseorigincode","customerid"];case"contact":return["parentcustomerid","emailaddress1"];case"socialprofile":return[];default:return[]}},get_AssociatedGridFlyoutViewModel:function(){if(!$0.$1(this.$1Km)){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",this.$1Km),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",$0.$1(this.$Gp)?this.get_DefinitionId():this.$J)],null,null);this.$cf=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,this.get_ModelContext(),this.$3V,this.$2);this.$cf.add_$1GK(this.$$d_DefinitionUpdated)}return this.$cf},DefinitionUpdated:function(n){var t=n,i=t.$9a[t.$J4];this.OnDefinitionUpdated(i)},$k8:null,get_SystemViewData:function(){return this.$k8},set_SystemViewData:function(n){return this.$k8=n,n},$bi:null,$bu:!1,get_IsAssociatedGridActive:function(){return this.$bu},set_IsAssociatedGridActive:function(n){return this.$bu=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$18.call(this),this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$YN().$A7(Microsoft.Crm.Client.Core.Framework.$3h,this.$$d_$1YY),this.$bu=!1,this.$bi=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p,this.add_$2eA(this.$$d_$2eB))},$2eB:function(){this.SetCommandBarContext()},$1eI:function(n){return n.val=this.$J,!0},$3WD:function(){return!1},$3WF:function(){return!1},$3WE:function(){return!1},get_$39S:function(){return!1},get_$394:function(){return!1},$4e:function(n){this.$bu&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$4e.call(this,n)},$5O:function(n){this.$bu&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$5O.call(this,n)},$2VJ:function(n){var t,r,u,i;return this.$Et?(t=n.$6d.get_$I("fetchXml").Data,t=Microsoft.Crm.Client.Core.ViewModels.$2D.$1oC(t,this.$GD),r=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Dj(t),$0.$1(r)&&!Microsoft.Crm.Client.Core.ViewModels.$2D.$1FB(this.$GD))?(this.$18Q=!0,n):(u=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(t),i=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Tv(t),$0.$1(i)||(this.$14r=i.toString()),this.$2W0(),u):n},$277:function(n){this.$cf.ItemSelected(n)},$1YY:function(n){var i,u,f;if(!n.get_$LJ()&&this.$bu){if(!$0.$1(this.$2.$F)&&"InteractionCentricFormBody"in this.$2.$F){var t=null,e=this.$2.$F.InteractionCentricFormBody,r=e.$F;for(i in r){u={key:i,value:r[i]};t=u.value;break}!$0.$1(t)&&"HeaderGroup"in this.$2.$F&&"InteractionCentricFormTabNavigator"in this.$2.$F.HeaderGroup.$F&&(f=this.$2.$F.HeaderGroup.$F.InteractionCentricFormTabNavigator,f.set_CurrentSelectedValue(t.get_Name()))}this.$bi.$zQ();this.$bi.forceRuleEvaluation()}},$3Xd:function(){if(!$0.$1(this.$2.$F)&&"HeaderGroup"in this.$2.$F&&"InteractionCentricFormTabNavigator"in this.$2.$F.HeaderGroup.$F){var n=this.$2.$F.HeaderGroup.$F.InteractionCentricFormTabNavigator;n.$Sg!=="AssociatedGrid0"&&n.set_CurrentSelectedValue("AssociatedGrid0")}},$1UN:function(n){n.$Y1==="AssociatedGrid0"?(this.$3Xd(),this.$bu=!0,this.SetCommandBarContext(),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$1nh(this.$2)):(this.$bu=!1,this.$bi.$zQ(),this.$bi.forceRuleEvaluation())},$3Kh:function(){if(!$0.$1(this.$k8)&&!$0.$1(this.$k8.$F)){var n={},t=this.$k8.$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")].$F;n[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")]=t;this.$1Km=n;this.$8("AssociatedGridSelectViewDataReceived")}},SetCommandBarContext:function(){if(!this.$1Vl){this.$1Vl=!0;this.$bi.$zQ();var n=this,t=this;this.$bi.$152(this.get_$zb(),this).then(function(t){var f,o,e,r,u,i,s;if(t)for(f=!1,o=n.$bi.$Ez,e=0;e<o.get_Count()&&!f;++e)if(r=o.getItem(e),n.$2ez(r),!$0.$1(r)&&"ChangeListViewButton"in r.$F){for(u=r.findActiveChildViewModels(),i=0;i<u.length&&!f;i++)u[i].$12==="ChangeListViewButton"&&(n.$k8=u[i],Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()&&(s=u[i].$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")],n.$1ZS(s.$F,!1)),f=!0);n.$3Kh()}n.$1Vl=!1},function(){})}},$2ez:function(n){var t=n.$1nb([".AddExistingStandard"]),i;t&&t.length>0&&(i=t[0],i.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenAssociateForm"))))},$GX:function(){this.$k8=null;$0.$1(this.$cf)||(this.$cf.remove_$1GK(this.$$d_DefinitionUpdated),this.$cf.dispose(),this.$cf=null);this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$YN().$Am(Microsoft.Crm.Client.Core.Framework.$3h,this.$$d_$1YY);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.prototype={$Xc:null,get_CardFormAttributes:function(){return this.$Xc},set_CardFormAttributes:function(n){return this.$Xc=n,n},$jK:null,get_CardDetails:function(){return this.$jK},set_CardDetails:function(n){return this.$jK=n,n},$jM:null,get_CardHeader:function(){return this.$jM},set_CardHeader:function(n){return this.$jM=n,n},$jL:null,get_CardFooter:function(){return this.$jL},set_CardFooter:function(n){return this.$jL=n,n},$Rn:null,get_ColorStrip:function(){return this.$Rn},set_ColorStrip:function(n){return this.$Rn=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this),this.$jK=this.$Xc.CardDetails,this.$jM=this.$Xc.CardHeader,this.$jL=this.$Xc.CardFooter,this.$Rn=this.$Xc.ColorStrip[0])},$GX:function(){this.$Xc=null;this.$jK=null;this.$jM=null;this.$jL=null;this.$Rn=null;Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Cq=function(){Microsoft.Crm.Client.Core.ViewModels.$Cq.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Cq.prototype={handleCollapsibleToggleButtonClick:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("VisualFilterCollapseButtonClicked",0,this.get_ViewModelId());var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m(this.$G);this.$83().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m,n)},$83:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.$UM=function(){Microsoft.Crm.Client.Core.ViewModels.$UM.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$UM.prototype={$6L:null,$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.getData())},get_ComboBoxViewModel:function(){return $0.$1(this.$6L)&&(this.$6L=new Microsoft.Crm.Client.Core.ViewModels.$9i),this.$6L},getData:function(){},$1fT:null,get_ComboBoxClass:function(){return this.$1fT},set_ComboBoxClass:function(n){return this.$1fT=n,n},$1hB:null,get_SelectElementDataId:function(){return this.$1hB},set_SelectElementDataId:function(n){return this.$1hB=n,n},$1hZ:null,get_WrapperClass:function(){return this.$1hZ},set_WrapperClass:function(n){return this.$1hZ=n,n}};Microsoft.Crm.Client.Core.ViewModels.$D2=function(){this.$$d_$2n4=Function.createDelegate(this,this.$2n4);Microsoft.Crm.Client.Core.ViewModels.$D2.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$D2.prototype={$2Ia:function(n){return n.$J1},$323:function(n){return n.$2b},SelectedItemName:function(){if(!this.$9a)return"";var n=this.$9a[this.$2.$h];return n?n.$J1:""},get_SelectedItemID:function(){if(!this.$9a)return"";var n=this.$9a[this.$2.$h];return n?n.$2b:""},getData:function(){this.$1cS();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Hf(this,this.$$d_$2n4)},ItemSelected:function(n){var i,t;if(!IsNull(this.$9a)){if(this.get_SelectedItemID()===n)return;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("DashboardPickerDashboardChanged",0,this.get_ViewModelId());i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();i.$Xe=this.$9a[n];t=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(this.$2);t.$1t=i.$Xe.$2b;t.$Mx=37;t.execute();t.dispose()}},$2n4:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),r=this.$2.$h,e,t,u,i,f;if(n.$Xe&&(r=n.$Xe.$2b),e=Microsoft.Crm.Client.Core.ViewModels.$6w.$2DS(n.$qZ,r),IsNull(n.$qZ)||e?t=n.$qZ:(n.$Xe||(n.$Xe=Microsoft.Crm.Client.Core.ViewModels.$6w.$2rq(n.$Ru,r)),t=n.$Ru[n.$Xe.$7i]),!IsNull(t)&&t.get_Count()>0){for(this.$Gq={},u={},i=0;i<t.get_Count();i++)f=t.get_$I(i),u[f.$2b]=f;this.$Gq[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")]=u;this.$1cS();n.$Xe=null;this.$8("dataRecieved")}},$GX:function(){this.$Gq=null;Microsoft.Crm.Client.Core.ViewModels.$Uu.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$D3=function(){Microsoft.Crm.Client.Core.ViewModels.$D3.initializeBase(this);this.$xQ="dateRangeFilterOpen"};Microsoft.Crm.Client.Core.ViewModels.$D3.prototype={SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$D5.prototype.SetDates.call(this,n,t);this.$3L7()},$3L7:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$EF),t;n.$9r(this.$EF,"on-or-after",this.$iP.format("s")).$9r(this.$EF,"on-or-before",this.$eN.format("s"));t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$EF,2,0,n,!0);this.$2.$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,t)}};Microsoft.Crm.Client.Core.ViewModels.$D5=function(){var t;this.$$d_$12z=Function.createDelegate(this,this.$12z);this.$2AM=new Microsoft.Crm.Client.Core.ViewModels.Converters.$L1;Microsoft.Crm.Client.Core.ViewModels.$D5.initializeBase(this);var n=(new Date).getFullYear(),i=n-100,r=n+100;this.$Ml=new Date("01/01/"+i);this.$13C=new Date("12/31/"+r);this.$1Mm=!1;t=Sys.CultureInfo.CurrentCulture.dateTimeFormat;this.$Y2=t.ShortestDayNames;this.$1Mu=!1;this.$xQ=""};Microsoft.Crm.Client.Core.ViewModels.$D5.prototype={$1O2:"",$EF:"createdon",$2Ob:null,$2OM:null,$1dL:null,$1R0:null,$Ml:null,$13C:null,$iP:null,$eN:null,$Y2:null,get_ShortestDayNames:function(){return this.$Y2},set_ShortestDayNames:function(n){return this.$Y2=n,n},DayName:function(n){return this.$Y2[n]},SetAttributeDisplayName:function(){var n,t;if(this.$1O2===""){if(n=[],n[0]=this.$EF,t=this.$2.$8U,!t)throw Error.create(String.format("SetAttributeDisplayName() has failed in DateRangeViewModel, entityName is null."));this.$P7(t,n)}},$P7:function(n,t){var i={},r,u;i.EntityType=n;i.Attributes=t;i.OnSuccess=this.$$d_$12z;r=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));u=r.$DG(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(u)},$12z:function(n){if(!$0.$1(n)&&n.length){var t=n[0];this.set_AttributeDisplayName(t.$1S)}},DateConverter:function(n){return this.$2AM.$I6(n,0)},GetLabel:function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6(n)},$ya:null,get_TimeFrame:function(){return this.$ya},set_TimeFrame:function(n){return this.$ya=n,n},$1Mu:!1,get_TimeFrameInitialized:function(){return this.$1Mu},set_TimeFrameInitialized:function(n){return this.$1Mu=n,n},get_AttributeLogicalName:function(){return this.$EF},set_AttributeLogicalName:function(n){return this.$EF=n,n},get_AttributeDisplayName:function(){return this.$1O2},set_AttributeDisplayName:function(n){return this.$1O2=n,this.$8("FilterBy"),n},get_DateTextForMinDate:function(){return this.DateConverter(this.$Ml)},set_DateTextForMinDate:function(n){return this.$2Ob=n,n},get_MinDate:function(){return this.$Ml},set_MinDate:function(n){return this.$Ml=n,n},get_DateTextForMaxDate:function(){return this.DateConverter(this.$13C)},set_DateTextForMaxDate:function(n){return this.$2OM=n,n},get_MaxDate:function(){return this.$13C},set_MaxDate:function(n){return this.$13C=n,n},get_StartDateText:function(){return this.$by?"":this.DateConverter(this.$iP)},set_StartDateText:function(n){return this.$1dL=n,Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$by=!0:(this.$by=!1,this.$iP=new Date(n)),this.$8("StartDate"),n},get_StartDate:function(){return this.$iP},set_StartDate:function(n){return this.$iP=n,n},get_EndDateText:function(){return this.$bw?"":this.DateConverter(this.$eN)},set_EndDateText:function(n){return this.$1R0=n,Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$bw=!0:(this.$bw=!1,this.$eN=new Date(n)),this.$8("EndDate"),n},get_DateRangeText:function(){return this.get_StartDateText()||this.get_EndDateText()?this.get_StartDateText()+"-"+this.get_EndDateText():Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ChartAttributeValueMissing")},get_EndDate:function(){return this.$eN},set_EndDate:function(n){return this.$eN=n,n},$xQ:null,get_DataId:function(){return this.$xQ},set_DataId:function(n){return this.$xQ=n,n},$1Mm:!1,get_ShowNoRange:function(){return this.$1Mm},set_ShowNoRange:function(n){return this.$1Mm=n,n},$by:!1,get_IsStartDateNull:function(){return this.$by},set_IsStartDateNull:function(n){return this.$by=n,n},$bw:!1,get_IsEndDateNull:function(){return this.$bw},set_IsEndDateNull:function(n){return this.$bw=n,n},SetDates:function(n,t){Microsoft.Crm.Client.Core.Framework.$3.$9(n)||Microsoft.Crm.Client.Core.Framework.$3.$9(t)?(this.$1dL=null,this.$1R0=null,this.$by=!0,this.$bw=!0):(this.$1dL=n,this.$iP=new Date(n),this.$1R0=t,this.$eN=new Date(t))}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("EmailAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel)};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2gf=function(n){switch(n){case 1:case 8:case 5:return!0;case 2:case 3:case 4:case 6:case 7:return!1;default:return!1}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2ge=function(n){switch(n){case 0:case 3:return!0;case 1:case 2:return!1;default:return!1}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2BT=function(n,t){return t==="4201"?Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2ge(n):t==="4202"?Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2gf(n):!1};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.prototype={$jZ:null,get_FileName:function(){return this.$jZ},set_FileName:function(n){return this.$jZ=n,n},$Ui:null,get_FileSize:function(){return this.$Ui},set_FileSize:function(n){return this.$Ui=n,n},$yC:null,get_ObjectId:function(){return this.$yC},set_ObjectId:function(n){return this.$yC=n,n},$qa:null,$x7:null,get_AttachmentId:function(){return this.$x7},set_AttachmentId:function(n){return this.$x7=n,n},get_PopupWindowTimeout:function(){return 100},$xt:!1,$18:function(){this.$1y||(this.$2.$J==="appointment"?(this.$qa="4201",this.$xt=!1):this.$2.$J==="email"?(this.$qa="4202",this.$xt=!0):(this.$qa="",this.$xt=!0),$0.$1(this.$2)||$0.$1(this.$2.get_$1K())||(this.$yC=this.$2.get_$1K().get_Id()),Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this))},GetAttachmentItemUri:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J();return String.format("{0}/activities/attachment/edit.aspx?_CreateFromId=%7b{1}%7d&_CreateFromType={2}&id={3}&ish=true",n.context.getClientUrl(),this.$yC,this.$qa,this.ToStringAttachmentId())},ToStringAttachmentId:function(){return $0.$1(this.$x7)?"":this.$x7.toString()},Refresh:function(){var n=this.$2.$7X("EmailAttachmentsSubGrid");Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(n)&&!$0.$1(n.refreshCommand)&&n.refreshCommand.get_CanExecute()&&n.refreshCommand.execute()},GetWindowOptions:function(n,t,i,r){return String.format("width={0}, height={1}, top={2}, left={3}, menubar=no, toolbar=no",n,t,i,r)},GetPopupWidth:function(){return 584},GetPopupHeight:function(){return 213},$34a:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),t=-1;return $0.$1(n)||(this.$xt&&!$0.$1(n.getAttribute("statuscode"))?t=n.getAttribute("statuscode").getValue():this.$xt||$0.$1(n.getAttribute("statecode"))||(t=n.getAttribute("statecode").getValue())),t},EnableAttachmentHandling:function(){var n=this.$34a();return Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2BT(n,this.$qa)},$GX:function(){this.$jZ=null;this.$Ui=null;this.$yC=null;this.$qa=null;this.$x7=null;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Lf=function(n,t,i,r,u,f,e,o,s){this.$pv=n;this.$1gu=t;this.$1h7=i;this.$1LA=r;this.$1MN=u;this.$1Mf=f;this.$1MO=e;this.$1Mh=o;this.$pu=s};Microsoft.Crm.Client.Core.ViewModels.$Lf.prototype={$pv:null,$1gu:null,$1h7:null,$1MN:null,$1Mf:null,$1LA:null,$1MO:null,$1Mh:null,$pu:null};Microsoft.Crm.Client.Core.ViewModels.$AN=function(){this.$$d_$3C3=Function.createDelegate(this,this.$3C3);this.$$d_$3C9=Function.createDelegate(this,this.$3C9);this.$$d_$3C1=Function.createDelegate(this,this.$3C1);this.$$d_$12z=Function.createDelegate(this,this.$12z);this.$$d_processQueueItemViewFetchXml=Function.createDelegate(this,this.processQueueItemViewFetchXml);this.$$d_$3C2=Function.createDelegate(this,this.$3C2);this.$$d_processQueueSavedQueryFetchXml=Function.createDelegate(this,this.processQueueSavedQueryFetchXml);this.$$d_$3Lc=Function.createDelegate(this,this.$3Lc);this.$$d_OnFilterChangeCompletedEvent=Function.createDelegate(this,this.OnFilterChangeCompletedEvent);this.$tk={};this.$1O5=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.$AN.initializeBase(this);this.$PP="savedquery";this.$bY="savedqueryvisualization"};Microsoft.Crm.Client.Core.ViewModels.$AN.prototype={$1Jv:null,$23U:"",$fb:!1,$12F:"",$KH:null,$19l:!1,$1Y7:0,$SR:null,$Xj:!1,get_ViewNameText:function(){return this.$23U},set_ViewNameText:function(n){this.$23U=n;var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j(this.$G,n);return this.$5o().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j,t),n},get_ChartConfigObject:function(){return this.$Pb_7&&(this.$Pb_7=!1,this.set_IsLoading(!0),this.$Km()),this.$V9},get_$k:function(){return!0},get_IsFilterApplied:function(){return this.$fb},set_IsFilterApplied:function(n){return this.$fb=n,n},$190:null,get_Streams:function(){return this.$190},set_Streams:function(n){return this.$190=n,n},$17h:null,$1gx:null,$Lw:null,get_QueueItemViewId:function(){return this.$Lw},set_QueueItemViewId:function(n){return this.$Lw=n,n},$Xw:null,get_QueueId:function(){return this.$Xw},set_QueueId:function(n){return this.$Xw=n,n},$xz:null,get_IsSavedQueryOnQueues:function(){return this.$xz},set_IsSavedQueryOnQueues:function(n){return this.$xz=n,n},$18b:null,$xe:null,$Pb_7:!1,$1gC:!1,$qI:null,$bo:null,$1Ko:null,get_$vH:function(){return this.$5o()?this.$5o().$8U:""},get_AreZeroValueBaseSetAttributeFieldsSet:function(){return this.$Pb_7?!0:this.$19l},set_AreZeroValueBaseSetAttributeFieldsSet:function(n){return this.$19l=n,n},$18:function(){if(!this.$1y){var n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("VisualFilters_Initialize",0,this.get_ViewModelId());$0.$1(n)||n.addParameter(this.$G);this.$SR=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilters_ChartDataRetrieve");this.set_ChartSeriesClickCommand(null);this.set_AllowPointSelect(!1);this.set_IsFirstChart(!1);this.set_EnableDrilldown(!1);this.$xe=null;this.$3TI();Microsoft.Crm.Client.Core.ViewModels.$2Y.prototype.$18.call(this);this.$5o().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_OnFilterChangeCompletedEvent);this.$Xj=!1;this.$Pb_7=!1;this.$5o().$9L.$A7(Function,this.$$d_$3Lc)}},$3Lc:function(){this.$Km();this.$SR.start()},$3TI:function(){var n;if($0.$1(this.$190)||this.$5o().$ds!=="2"){this.$1Qh();return}if(n=this.$190.split("|"),n.length<4){this.$1Qh();return}var r=n[0],t=n[1],u=n[2],i=n[3];switch(r){case"0":this.$Xw=t;this.$xz="false";this.$Lw=i;break;case"2":this.$Xw=t;this.$xz="true";this.$Lw=i;break;case"1":this.$1Qh();break;default:this.$1Qh()}},$1Qh:function(){this.$Lw=null;this.$Xw=null},$1t1:function(){return!$0.$1(this.$Lw)&&!$0.$1(this.$Xw)?!0:!1},$Km:function(){if(!$0.$1(this.$AG)){var n=this;this.$2Nn().done(function(){n.$1t1()?n.$2JP():Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.prototype.$Km.call(n)})}},$2Nn:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("FilterGraphVM.GetDependencies"),i;return t.start(),Microsoft.Crm.Client.Core.Framework.$1g.$1q1("resources/styles/ishCssDependenciesPostLoad.css",null),i=this,Microsoft.Crm.Client.Core.Framework.$1g.$11m(["scripts/Microsoft.Crm.Client.Core.Messages.js","scripts/ishOssDependenciesPostLoad.js"],0,null).always(function(){n.resolve();t.stop()}),n.promise()},$2JP:function(){var n,t;this.$xz==="true"?(this.$qI={},this.$qI.savedqueryid=this.$Xw,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null),n.OnSuccess=this.$$d_processQueueSavedQueryFetchXml,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)):(t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,"QueueFilterExpression"),t.$9r("queueid","eq",this.$Xw),this.$18b=t,this.$2EL())},processQueueSavedQueryFetchXml:function(n){var i=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n.toString()),r=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(i).$O("fetch").get_$7Y().toString(),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FilterGraphFetchXmlWithCallback",null);t.OnFailure=this.$$d_$3C2;t.QueryValue=r;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t)},$3C3:function(n){for(var u,i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,"QueueFilterExpression"),r=n.get_entities(),f=r.length,t=0;t<f;++t)u=r[t],i.$9r("queueid","eq",u.$N.Id.toString());this.$18b=i;this.$2EL()},$3C2:function(){throw Error.create("FilterGraphViewModel: Queue FetchXml execution failed.");},$2EL:function(){this.$1gx=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l("queueitem").$4S;this.$qI={};this.$qI.savedqueryid=this.$Lw;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null);n.OnSuccess=this.$$d_processQueueItemViewFetchXml;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},processQueueItemViewFetchXml:function(n){var r=this.$2ta(),u=Microsoft.Crm.Client.Core.Storage.Common.$2b.$13F(n,r),t,i;this.$17h=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(u);t=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForFilterGraph",null));i=t.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(i)},$3C1:function(n){var e,o;if(!n.get_entities().length){this.$xe=this.$2tg();Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.prototype.$Km.call(this);return}for(var r="",u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.get_$vH()).$4S,t="<fetch version='1.0' output-format='xml-platform' mapping='logical'>\r\n\t\t\t\t\t\t\t\t<entity name='"+this.get_$vH()+"'>\r\n\t\t\t\t\t\t\t\t<attribute name='"+u+"' />\r\n\t\t\t\t\t\t\t\t<filter type = 'or'>",f=n.get_entities(),s=f.length,i=0;i<s;++i)e=f[i],o=e.getValue("objectid"),r+="<condition attribute='"+u+"' operator='eq' value='"+o.Id.toString()+"' />";t+=r;t+="<\/filter><\/entity><\/fetch>";this.$xe=t;Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.prototype.$Km.call(this)},$3C9:function(){throw Error.create("FilterGraphViewModel: QueueItem FetchXml execution failed.");},$2ta:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"EntityTypeQueueFilterExpression"),t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"EntityTypeFilterExpression");return t.$9r("objecttypecode","eq",Xrm.Internal.getEntityCode(this.get_$vH()).toString()),n.$6b(t),n.$6b(this.$18b),n.$7J()},$2tg:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.get_$vH()).$4S;return"<fetch version='1.0' output-format='xml-platform' mapping='logical'>\r\n\t\t\t\t\t\t\t\t<entity name='"+this.get_$vH()+"'>\r\n\t\t\t\t\t\t\t\t<attribute name='"+n+"' />\r\n\t\t\t\t\t\t\t\t<filter type = 'or'>\r\n\t\t\t\t\t\t\t\t<condition attribute='"+n+"' operator='eq' value='"+Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()+"' />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t<\/fetch>"},$3Sw:function(n){var t,i,u,r,f;if(this.$KH)if(t=this.$KH.$pu,this.$fb){for(i=0;i<t.get_Count();i++)if(u=n.$FE(t.get_$I(i)),!$0.$1(u))return;this.$fb=!1;this.$8("IsFilterApplied")}else for(r=0;r<t.get_Count();r++)f=n.$FE(t.get_$I(r)),$0.$1(f)||this.$8("IsFilterApplied")},$3Sx:function(n){var t,i,e,u,o,r,s,f,h;if(this.$KH)if(t=this.$KH.$pu,this.$fb){if(!$0.$1(n))for(i=0;i<t.get_Count();i++)if(e=this.$1Tb(t.get_$I(i)),u=n[e],!$0.$1(u)&&(o=u.$FE(t.get_$I(i)),!$0.$1(o)))return;this.$fb=!1;this.$8("IsFilterApplied")}else if(!$0.$1(n))for(r=0;r<t.get_Count();r++)s=this.$1Tb(t.get_$I(r)),f=n[s],$0.$1(f)||(h=f.$FE(t.get_$I(r)),$0.$1(h)||this.$8("IsFilterApplied"))},FilterGraphRenderCompleted:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x("FilterGraph");this.$5o().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x,n)},OnFilterChangeCompletedEvent:function(n){var t,i,r;if(this.$1Y7++,this.$1gC=n.$Uc.$1Vs,this.$5o().get_IsMultipleEntityGraphSupported()){this.$tk={};t=n.$NO;for(i in t)r={key:i,value:t[i]},this.$tk[r.key]=n.$NO[r.key].$7J();this.$3Sx(this.$5o().$Er)}else this.$12F=n.$Gr.$7J(),this.$3Sw(this.$5o().$Lu);if(!this.$Xj){this.$Pb_7=!0;return}this.$1Y7>=5&&this.$1Lh?this.$38g():(this.$Km(),this.$SR.start())},$38g:function(){this.$1Lh=!1;this.$1Y7=0;this.set_$23p(null)},$22i:function(){$0.$1(this.$D9)||(this.$SR.stop(),this.$SR.addParameter(this.get_ViewModelId()),this.$SR.addParameter(this.$G),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY(this.$Xj?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId()),this.$Xj||(this.$Im("RenderedInitialData"),this.$Xj=!0),Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw.prototype.$22i.call(this),this.$1Jv=this.$6Y.Text,this.$6Y.Text="",this.$1o3(),this.$2av(),this.$8("ChartConfigObject"))},$2av:function(){for(var l,r,u,a,n,f,e,t,o,y,h={},c=this.$KH.$pv.get_entities(),p=c.length,i=0;i<p;++i){l=c[i];r=l.fields;for(u in r)a={key:u,value:r[u]},this.$2pk(a.value,h)}n=null;f=h;for(e in f)if(t={key:e,value:f[e]},o=t.value.toArray(),this.$P7(t.key,o),!n)for(var v=o,w=v.length,s=0;s<w;++s)if(y=v[s],y===this.$KH.$pu.get_$I(0)){n=t.key;break}this.$5o().get_IsMultipleEntityGraphSupported()||this.$P7(n?n:this.$5o().$8U,this.$KH.$pu.toArray())},$2pk:function(n,t){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A.isInstanceOfType(n)){var r=n,u=r.$EF,i=r.$S;i in t||(t[i]=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)));t[i].add(u);this.$5o().get_IsMultipleEntityGraphSupported()||(this.$bo||(this.$bo={}),this.$bo[u]=i)}},$P7:function(n,t){var i={},r,u;i.EntityType=n;i.Attributes=t;i.OnSuccess=this.$$d_$12z;r=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));u=r.$DG(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(u)},$12z:function(n){var i;if(this.$D9.$JJ!==1)for(var r=n,u=r.length,t=0;t<u;++t)if(i=r[t],i.get_$nS()&&!Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.$zI(i.get_$1a())){this.$1E0(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_NoReadPrivilege"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_NoPermission_Message"));break}},$1E0:function(n,t){var i=new Microsoft.Crm.Client.Core.Models.Chart.$IV;i.$6Y=new Microsoft.Crm.Client.Core.Models.$JG;i.$bD="";i.$JJ=1;i.$Dm=new Microsoft.Crm.Client.Core.Framework.$O4;i.$Dm.$eW=n;i.$Dm.$Yf=t;this.set_$zn(i);this.$8("ChartConfigObject")},get_TitleText:function(){return this.$2D?"":this.$1Jv},set_TitleText:function(n){return this.$1Jv=n,n},set_$23p:function(n){return this.$KH=n,this.$Km(),this.$SR.start(),n},$1Lh:!1,get_GetNullPoint:function(){return null},$398:function(n){return Microsoft.Crm.Client.Core.Models.$7q.isInstanceOfType(n)||Microsoft.Crm.Client.Core.Models.$8p.isInstanceOfType(n)||Microsoft.Crm.Client.Core.Models.$8q.isInstanceOfType(n)?!0:!1},$293:function(n,t,i,r){this.$5o().get_IsMultipleEntityGraphSupported()&&i!==this.$5o().$8U?i+="__alias":i=null;Microsoft.Crm.Client.Core.Models.$8o.isInstanceOfType(t)&&this.$2kD(n,t,i,r);Microsoft.Crm.Client.Core.Models.$7q.isInstanceOfType(t)&&this.$2kA(n,t,i);Microsoft.Crm.Client.Core.Models.$8p.isInstanceOfType(t)&&this.$2kB(n,t,i);Microsoft.Crm.Client.Core.Models.$8q.isInstanceOfType(t)&&this.$2kC(n,t,i)},$2kD:function(n,t,i,r){t.Value?n.$9r(t.FieldName,"eq",t.Value.toString(),i,r):n.$9r(t.FieldName,"null",null,i)},$2kA:function(n,t,i){t.MinDate?n.$9r(t.FieldName,"on-or-after",t.MinDate.toJSON().substring(0,10),i):n.$9r(t.FieldName,"null",null,i);t.MaxDate?n.$9r(t.FieldName,"on-or-before",t.MaxDate.toJSON().substring(0,10),i):n.$9r(t.FieldName,"null",null,i)},$2kB:function(n,t,i){var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));r.add(t.Period.toString());r.add(t.Year.toString());n.$9r(t.FieldName,t.FiscalType,r,i)},$2kC:function(n,t,i){n.$9r(t.FieldName,t.FiscalType,t.Year.toString(),i)},$3Su:function(n){this.$KH=n},$1Tb:function(n){var h,i,r,u,f,e,o;if(!$0.$1(n)){if(!this.$bo){this.$bo={};for(var s=this.$KH.$pv.get_entities(),l=s.length,t=0;t<l;++t){h=s[t];i=h.fields;for(r in i)if(u={key:r,value:i[r]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A.isInstanceOfType(u.value)){var c=u.value,a=c.$EF,v=c.$S;this.$bo[a]=v}}}if(n in this.$bo)return this.$bo[n];if(!$0.$1(this.$1Ko)){f=this.$1Ko;for(e in f)if(o={key:e,value:f[e]},n in o.value)return o.key}return this.$5o().$8U}return null},$2fn:function(n,t){var s=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilters_BuilderFilterExpressionForSelectedPoint"),e,u,o,i,f,r;if(s.start(),!$0.$1(n)&&n.length>0){for(this.set_IsLoading(!0),this.$fb=!0,e=null,u=null,this.$5o().get_IsMultipleEntityGraphSupported()?u={}:e=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"FilterGraph"),this.$1O5.clear(),i=0;i<n.length;i++)f=this.$398(n[i])?new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,n[i].FieldName):new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,n[i].FieldName),this.$1O5.add(n[i].FieldName),this.$5o().get_IsMultipleEntityGraphSupported()?(r=this.$1Tb(n[i].FieldName),$0.$1(r)&&(r=this.$5o().$8U),this.$293(f,n[i],r,t),r in u||(u[r]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"FilterGraph")),u[r].$6b(f)):(this.$293(f,n[i],this.$5o().$8U,t),e.$6b(f));this.$5o().get_IsMultipleEntityGraphSupported()?(o=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r("FilterGraph",0,0,null),o.$Kq=u):o=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r("FilterGraph",0,0,e);this.$5o().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,o);this.$10p("IsFilterApplied","IsLoading")}s.stop();s.addParameter(this.get_ViewModelId())},HandleSeriesPointClick:function(n){this.$fb||this.$2fn(n.Aggregators)},$3KC:function(n){for(var u,t,h,i,e,o,l=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n),a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(l).$O("fetch/entity"),s=a.$5p("link-entity"),r=0;r<s.get_$m();r++)if(u=s.get_$I(r),t=u.$1T("name"),!Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&!(t in this.$5o().$js)){h=Microsoft.Crm.Client.Core.Storage.Common.$2b.$1qP();i="";for(var c=h,v=c.length,f=0;f<v;++f)e=c[f],o=u.$1T(e),$0.$1(o)||(i+=String.format(' {0}="{1}"',e,o));i+=' alias="'+t+'__alias" ';this.$5o().$js[t]="<link-entity "+i+"/>"}},$GX:function(){this.$5o().$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_OnFilterChangeCompletedEvent);this.$KH=null;this.$12F=null;this.$1O5=null;this.$17h=null;this.$18b=null;this.$qI=null;this.$5o().$9L.$Am(Function,this.$$d_$3Lc);$0.$1(this.$No)||(this.$No.$6D(),this.set_CrmChartBuilder(null));this.set_PrimaryModelName(null);this.$D9=null;this.$tk=null;Microsoft.Crm.Client.Core.ViewModels.$2Y.prototype.$GX.call(this)},get_TabSpaceReserved:function(){return 100},$5o:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel=function(){this.$$d_$36B=Function.createDelegate(this,this.$36B);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.prototype={$hk:null,$oz:null,$18:function(){this.$1y||Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$9M,this.$$d_$36B)},$36B:function(n){this.$hk=n.$1h2;this.$hk&&this.$8("SaveButtonDataReceived")},$308:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$2A;return t.set_Label(n.$1D),t.set_Parameters(n.$T),t.set_ImageName(n.$fK),t.set_ImageType(n.$fL),t.$J8=n.$J8,t.set_TargetViewModel(n.get_TargetViewModel()),t.$Dl=n.$Dl,t.set_Command(n.$82),t.set_Enabled(!0),t.set_Visible(!0),t.set_ActionCommandCanExecute(!0),t},$2BC:function(){if(!$0.$1(this.$oz)){for(var n=0;n<this.$oz.get_Count();++n)this.$oz.get_$I(n).dispose(),this.$oz.set_$I(n,null);this.$oz.clear();this.$oz=null}},getSaveButtonViewModel:function(){var i,n,u,f;if(this.$hk){i=this.$hk;n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$2A));for(var r=i,e=r.length,t=0;t<e;++t)u=r[t],f=this.$308(u),n.add(f);return this.$2BC(),this.$oz=n,n.toArray()}return null},get_SaveButtonData:function(){return this.$hk},$GX:function(){var i;if(this.$hk){for(var t=this.$hk,r=t.length,n=0;n<r;++n)i=t[n],i.dispose();this.$hk=null}this.$2BC();this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$9M,this.$$d_$36B);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$D4=function(){this.get_AttributeDisplayName=this.get_$3cp;this.set_AttributeDisplayName=this.set_$3cp;this.get_SelectedFilterExpression=this.get_$3cs;this.set_SelectedFilterExpression=this.set_$3cs;this.get_SelectedFilterCount=this.get_$XG;this.get_IsExpanded=this.get_$3cv;this.set_IsExpanded=this.set_$3cv;this.$35i=this.handleExpandOrCollapseIconClick;this.get_Active=this.get_$kK;this.set_Active=this.set_$kK;Microsoft.Crm.Client.Core.ViewModels.$D4.initializeBase(this);this.$Eq=!0};Microsoft.Crm.Client.Core.ViewModels.$D4.prototype={$G5:null,get_$3cp:function(){return this.$G5},set_$3cp:function(n){return this.$G5=n,n},$3L:null,get_$3cs:function(){return this.$3L},set_$3cs:function(n){return this.$3L=n,n},$G9:!1,get_$3cv:function(){return this.$G9},set_$3cv:function(n){return this.$G9=n,n},$Eq:!1,get_$kK:function(){return this.$Eq},set_$kK:function(n){return this.$Eq=n,n},get_$XG:function(){return $0.$1(this.$3L)?0:1},$2a8:function(n){if(this.$3L=n,$0.$1(this.$3L))this.set_StartDateText(null),this.set_EndDateText(null);else{var t=this.$3L.get_$23();this.set_StartDateText(t.get_$I(0).get_$Jr()==="null"?null:t.get_$I(0).get_$2O());this.set_EndDateText(t.get_$I(1).get_$Jr()==="null"?null:t.get_$I(1).get_$2O())}},UpdateFilterExpression:function(n){$0.$1(n)||$0.$1(n.Start)||$0.$1(n.End)?this.$3L=null:(this.$3L=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$EF),this.$3L.$9r(this.$EF,"on-or-after",n.Start),this.$3L.$9r(this.$EF,"on-or-before",n.End));this.$2.$6F(this).$1KA(this.$3L,this.$EF)},handleExpandOrCollapseIconClick:function(n){this.$G9=n;this.$2.$6F(this).$1aP()},$3X3:function(){this.$G9=!!this.get_$XG()},SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$D5.prototype.SetDates.call(this,n,t);var i={};i.Start=n;i.End=t;this.UpdateFilterExpression(i)},getScreenReadableText:function(){return this.get_$XG()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_DateTimeRange"),this.$G5,this.get_StartDateText(),this.get_EndDateText()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_DateTimeRange_NoneSelected"),this.$G5)}};Microsoft.Crm.Client.Core.ViewModels.$Dc=function(){this.get_AttributeLogicalName=this.get_$3cm;this.set_AttributeLogicalName=this.set_$3cm;this.get_AttributeDisplayName=this.get_$3cp;this.set_AttributeDisplayName=this.set_$3cp;this.get_SelectedFilterExpression=this.get_$3cs;this.set_SelectedFilterExpression=this.set_$3cs;this.get_SelectedFilterCount=this.get_$XG;this.get_IsExpanded=this.get_$3cv;this.set_IsExpanded=this.set_$3cv;this.$35i=this.handleExpandOrCollapseIconClick;Microsoft.Crm.Client.Core.ViewModels.$Dc.initializeBase(this);this.$Eq=!0};Microsoft.Crm.Client.Core.ViewModels.$Dc.prototype={$C5:null,get_$3cm:function(){return this.$C5},set_$3cm:function(n){return this.$C5=n,n},$G5:null,get_$3cp:function(){return this.$G5},set_$3cp:function(n){return this.$G5=n,n},$3L:null,get_$3cs:function(){return this.$3L},set_$3cs:function(n){return this.$3L=n,n},$G9:!1,get_$3cv:function(){return this.$G9},set_$3cv:function(n){return this.$G9=n,n},$Eq:!1,get_Active:function(){return this.$Eq},set_Active:function(n){return this.$Eq=n,n},$PW:null,get_EntityReferences:function(){return this.$PW},set_EntityReferences:function(n){return this.$PW=n,n},removeEntityReferenceForGuid:function(n){delete this.$PW[n];this.$3L.$oq(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$7P(this.$C5,"eq",n));this.$8("RemovedEntity");this.$2.$6F(this).$1KA(this.$3L,this.$C5)},getGuidAtIndex:function(n){return!$0.$1(this.$3L)&&!$0.$1(this.$3L.get_$23().get_Items()[n].get_$2O())?this.$3L.get_$23().get_Items()[n].get_$2O().toString():null},getSelectedFilterName:function(n){return $0.$1(this.$PW[n])?null:this.$PW[n].toString()},get_$XG:function(){return $0.$1(this.$3L)?0:this.$3L.get_$23().get_Count()},$2a8:function(n){this.updateEntityReferences(n);this.$3L=n;var i=this.$C5+"_edit",r=this.$F[i],t=r.$Ef;$0.$1(t)||t.$2a8(n)},updateEntityReferences:function(n){if($0.$1(this.$PW)&&(this.$PW={}),!$0.$1(n))for(var t=0;t<n.get_$23().get_Count();t++)$0.$1(n.get_$23().get_$I(t).get_$2O())||(this.$PW[n.get_$23().get_$I(t).get_$2O().toString()]=n.get_$23().get_$I(t).get_$1kL())},updateFilterExpression:function(n){var t=n.add;t?($0.$1(this.$3L)&&(this.$3L=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,this.$C5),this.$PW={}),this.$3L.$9r(this.$C5,"eq",n.guid.toString(),"",n.entityReference.toString()),this.$PW[n.guid.toString()]=n.entityReference.toString()):$0.$1(this.$3L)||(this.$3L.$oq(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$7P(this.$C5,"eq",n.guid.toString())),delete this.$PW[n.guid.toString()],this.$3L.get_$23().get_Count()||(this.$3L=null,this.$PW=null));this.$2.$6F(this).$1KA(this.$3L,this.$C5)},handleExpandOrCollapseIconClick:function(n){var i,t;this.$G9=n;i=this.$C5+"_edit";this.$2.$6F(this).$1aP();t=this.$F[i];t.$1Vm||(t.$1Vm=!0,t.$18())},$3X3:function(){this.$G9=!!this.get_$XG()},getScreenReadableText:function(){return this.get_$XG()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_LookUp"),this.$G5,this.get_$XG().toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_LookUp_NoneSelected"),this.$G5)}};Microsoft.Crm.Client.Core.ViewModels.$Dd=function(){Microsoft.Crm.Client.Core.ViewModels.$Dd.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Dd.prototype={$1Vm:!1,$1XK:function(n){var i,t,r;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.prototype.$1XK.call(this,n);i=n;t={};t.guid=i.Id;t.add=!0;t.entityReference=i.Name;r=this.$2.$6F(this).$3L;Microsoft.Crm.Client.Core.ViewModels.$7V.$1sK(i.Id.toString(),r)||this.$2.$6F(this).updateFilterExpression(t)},buildChildViewModelDescriptors:function(n){var t,i;this.$2fs(n);t={};$0.$1(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i={input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0)],t)};this.$9i==="multi"&&(i.partyList=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("GlobalFilterPartyListViewModel","PartyList","partyList",this.$H0,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("NavigationEnabled",this.$Qu)],null,null),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&(this.$1J6=!0,this.$1J2=!1));this.$r3(i)},$18:function(){!this.$1y&&this.$1Vm&&Microsoft.Crm.Client.Core.ViewModels.$E3.prototype.$18.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$7V=function(){Microsoft.Crm.Client.Core.ViewModels.$7V.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$7V.$1sK=function(n,t){if(!$0.$1(t)&&!$0.$1(t.get_$23()))for(var i=0;i<t.get_$23().get_Count();i++)if(t.get_$23().get_$I(i).get_$2O()===n)return!0;return!1};Microsoft.Crm.Client.Core.ViewModels.$7V.prototype={$hS:function(n,t){var r,u,f,i;Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.prototype.$hS.call(this,n,t);r=this.$U3;u=r.$2.$6F(r);$0.$1(u.$3L)||(f=n.$WL,i={},i.guid=f.get_identifier(),i.add=!1,i.entityReference=f.Name,u.updateFilterExpression(i))},$2a8:function(n){var r,t,i,u;if(!$0.$1(this.$5W))for(r=this.$5W.get_Count(),t=0;t<r;t++)i=this.$5W.get_$I(0),u=i.$WL,Microsoft.Crm.Client.Core.ViewModels.$7V.$1sK(u.get_identifier(),n)||i.$lT.execute()},$3Hv:function(){}};Microsoft.Crm.Client.Core.ViewModels.$De=function(){this.$$d_$12z=Function.createDelegate(this,this.$12z);this.$$d_$2KK=Function.createDelegate(this,this.$2KK);Microsoft.Crm.Client.Core.ViewModels.$De.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$De.prototype={$GE:null,get_SelectedFilter:function(){return this.$GE},set_SelectedFilter:function(n){return this.$GE=n,n},$Iz:null,get_AppliedFilter:function(){return this.$Iz},set_AppliedFilter:function(n){return this.$Iz=n,n},$jd:!1,get_IsApplyButtonEnabled:function(){return this.$jd},set_IsApplyButtonEnabled:function(n){return this.$jd=n,n},get_SelectedFilterCount:function(){var t=0,i=this.$F,n,r;for(n in i)r={key:n,value:i[n]},t+=r.value.get_SelectedFilterCount();return t},get_IsClearButtonEnabled:function(){return $0.$1(this.$GE)||$0.$1(this.$GE.get_$5S())?!1:this.$GE.get_$5S().get_Count()?!0:!1},get_IsExpandAll:function(){var t=this.$F,n,i;for(n in t)if(i={key:n,value:t[n]},!i.value.get_IsExpanded())return!0;return!1},$PU:null,get_AttributeMetadataActionProvider:function(){return this.$PU},set_AttributeMetadataActionProvider:function(n){return this.$PU=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("GlobalFilter_Initialize",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$3Wf(),this.$1eR(),this.$5o().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_$2KK))},$GX:function(){this.$GE=null;this.$Iz=null;this.$5o().$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_$2KK);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$3Wf:function(){var t=new Array(0),i=this.$F,n,r;for(n in i)r={key:n,value:i[n]},t.push(r.value.get_AttributeLogicalName());this.$P7(t,this.$5o().$8U)},$P7:function(n,t){var i,r;n.length&&(i={},i.EntityType=t,i.Attributes=n,i.OnSuccess=this.$$d_$12z,r=this.$PU.$DG(i),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(r))},$12z:function(n){for(var t,r=n,u=r.length,i=0;i<u;++i)t=r[i],t.get_$nS()&&!Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.$zI(t.get_$1a())&&this.$F[t.get_$9t()].set_Active(!1);this.$8("ChildProperties")},$2KK:function(n){var t,i;this.$5o().get_IsMultipleEntityGraphSupported()?(i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$NO)?"":n.$NO.toString(),n.$h),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i),this.$Iz=$0.$1(this.$5o().$Er[this.$5o().$8U])?null:this.$5o().$Er[this.$5o().$8U].$8W()):(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$Gr)?"":n.$Gr.$7J(),n.$h),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t),this.$Iz=this.$5o().$Lu.$8W());this.$GE=$0.$1(this.$Iz)?null:this.$Iz.$8W();this.$1eR();this.$8("FilterExpression")},handleIsExpandAllButtonClick:function(){var r=this.get_IsExpandAll(),t=this.$F,n,i;for(n in t)i={key:n,value:t[n]},i.value.$35i(r);this.$8("IsExpandAll")},handleCancelClick:function(){this.$GE=$0.$1(this.$Iz)?null:this.$Iz.$8W();this.$1eR();this.set_Visible(!0);this.$jd=!1},handleApplyClick:function(){var n,t;this.$jd&&(this.$Iz=$0.$1(this.$GE)?null:this.$GE.$8W(),this.set_Visible(!0),this.$jd=!1,this.$5o().get_IsMultipleEntityGraphSupported()?(t={},t[this.$5o().$8U]=this.$Iz,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,null),n.$Kq=t):n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,this.$Iz),this.$5o().$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,n))},handleClearClick:function(){this.get_IsClearButtonEnabled()&&(this.$GE=null,this.$1eR(),this.$jd=!0)},$1KA:function(n,t){$0.$1(this.$GE)&&(this.$GE=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,this.$5o().$8U));$0.$1(this.$GE.get_$5S())||$0.$1(this.$GE.$FE(t))||this.$GE.$N5(t);this.$GE.$6b(n);this.$jd=!0;this.$8("FilterExpression")},updateIsExpandedPropertyOfChildren:function(){var t=this.$F,n,i,r;for(n in t)i={key:n,value:t[n]},r=i.value,r.$3X3()},$1aP:function(){this.$8("IsExpandAll")},$1eR:function(){var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GlobalFilter_UpdateChildFilterViewModels"),t,i;n.start();t=this.$F;for(i in t){var u={key:i,value:t[i]},r=u.value,f=$0.$1(this.$GE)?null:this.$GE.$FE(r.get_AttributeLogicalName());r.$2a8(f)}this.$8("ChildProperties");this.$Im("GlobalFilter_ChildrenUpdateReflected");n.stop();n.addParameter(this.get_ViewModelId())},$5o:function(){return this.$2},get_TabSpaceReserved:function(){return 100},get_AppliedFilterCount:function(){return $0.$1(this.$Iz)||$0.$1(this.$Iz.get_$5S())?0:this.$Iz.get_$5S().get_Count()},GlobalFilterScreenReaderText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("GlobalFilter_ScreenReader_Label"),this.get_AppliedFilterCount())}};Microsoft.Crm.Client.Core.ViewModels.$Eh=function(){Microsoft.Crm.Client.Core.ViewModels.$Eh.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Eh.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("OptionSetFilterItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$Eh)};Microsoft.Crm.Client.Core.ViewModels.$Eh.prototype={$18J:null,get_LogicalName:function(){return this.$18J},set_LogicalName:function(n){return this.$18J=n,n},$4g:null,get_DisplayName:function(){return this.$4g},set_DisplayName:function(n){return this.$4g=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Ei=function(){this.get_AttributeLogicalName=this.get_$3cm;this.set_AttributeLogicalName=this.set_$3cm;this.get_AttributeDisplayName=this.get_$3cp;this.set_AttributeDisplayName=this.set_$3cp;this.get_SelectedFilterExpression=this.get_$3cs;this.set_SelectedFilterExpression=this.set_$3cs;this.get_SelectedFilterCount=this.get_$XG;this.get_IsExpanded=this.get_$3cv;this.set_IsExpanded=this.set_$3cv;this.$35i=this.handleExpandOrCollapseIconClick;this.get_Active=this.get_$kK;this.set_Active=this.set_$kK;Microsoft.Crm.Client.Core.ViewModels.$Ei.initializeBase(this);this.$Eq=!0};Microsoft.Crm.Client.Core.ViewModels.$Ei.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("OptionSetFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$Ei)};Microsoft.Crm.Client.Core.ViewModels.$Ei.prototype={$C5:null,get_$3cm:function(){return this.$C5},set_$3cm:function(n){return this.$C5=n,n},$G5:null,get_$3cp:function(){return this.$G5},set_$3cp:function(n){return this.$G5=n,n},$3L:null,get_$3cs:function(){return this.$3L},set_$3cs:function(n){return this.$3L=n,n},$G9:!1,get_$3cv:function(){return this.$G9},set_$3cv:function(n){return this.$G9=n,n},$18S:0,get_OptionSetValuesCount:function(){return this.$18S},set_OptionSetValuesCount:function(n){return this.$18S=n,n},$Eq:!1,get_$kK:function(){return this.$Eq},set_$kK:function(n){return this.$Eq=n,n},get_IsSelectAll:function(){return this.get_$XG()!==this.$18S},get_$XG:function(){return $0.$1(this.$3L)?0:this.$3L.get_$23().get_Count()},$2a8:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("OptionSetFilter_UpdateFilterProperties"),i,r,f,u;t.start();this.$3L=n;i=this.$F;for(r in i)f={key:r,value:i[r]},u=f.value,u.set_Data(this.$1sK(u.$18J));t.stop();t.addParameter(this.get_ViewModelId())},updateFilterExpression:function(n){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("OptionSetFilter_UpdateFilterExpression"),r,t,u,f,e,o;if(i.start(),r=n.Value,t=n.Name,!$0.$1(r)&&r)if($0.$1(this.$3L)&&(this.$3L=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,this.$C5)),$0.$1(t)){this.$3L=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,this.$C5);u=this.$F;for(f in u)e={key:f,value:u[f]},o=e.value,this.$3L.$9r(this.$C5,"eq",o.$18J)}else this.$3L.$9r(this.$C5,"eq",t);else $0.$1(t)?this.$3L=null:(this.$3L.$oq(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$7P(this.$C5,"eq",t)),this.$3L.get_$23().get_Count()||(this.$3L=null));this.$2.$6F(this).$1KA(this.$3L,this.$C5);i.stop();i.addParameter(this.get_ViewModelId())},handleSelectAllButtonClick:function(){var i=this.$F,t,r,n;for(t in i)r={key:t,value:i[t]},r.value.set_Data(this.get_IsSelectAll());n={};n.Name=null;n.Value=this.get_IsSelectAll();this.updateFilterExpression(n)},handleExpandOrCollapseIconClick:function(n){this.$G9=n;this.$2.$6F(this).$1aP()},$3X3:function(){this.$G9=!!this.get_$XG()},$1sK:function(n){if(!$0.$1(this.$3L)&&!$0.$1(this.$3L.get_$23()))for(var t=0;t<this.$3L.get_$23().get_Count();t++)if(this.$3L.get_$23().get_$I(t).get_$2O()===n)return!0;return!1},getScreenReadableText:function(){return this.get_$XG()>0?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_OptionSet"),this.$G5,this.get_$XG().toString(),this.$18S.toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_OptionSet_NoneSelected"),this.$G5)}};Microsoft.Crm.Client.Core.ViewModels.$F7=function(){this.get_AttributeLogicalName=this.get_$3cm;this.set_AttributeLogicalName=this.set_$3cm;this.get_AttributeDisplayName=this.get_$3cp;this.set_AttributeDisplayName=this.set_$3cp;this.get_SelectedFilterExpression=this.get_$3cs;this.set_SelectedFilterExpression=this.set_$3cs;this.get_SelectedFilterCount=this.get_$XG;this.get_IsExpanded=this.get_$3cv;this.set_IsExpanded=this.set_$3cv;this.$35i=this.handleExpandOrCollapseIconClick;Microsoft.Crm.Client.Core.ViewModels.$F7.initializeBase(this);this.$Eq=!0};Microsoft.Crm.Client.Core.ViewModels.$F7.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("SliderFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$F7)};Microsoft.Crm.Client.Core.ViewModels.$F7.prototype={$C5:null,get_$3cm:function(){return this.$C5},set_$3cm:function(n){return this.$C5=n,n},$G5:null,get_$3cp:function(){return this.$G5},set_$3cp:function(n){return this.$G5=n,n},$3L:null,get_$3cs:function(){return this.$3L},set_$3cs:function(n){return this.$3L=n,n},$G9:!1,get_$3cv:function(){return this.$G9},set_$3cv:function(n){return this.$G9=n,n},$Eq:!1,get_Active:function(){return this.$Eq},set_Active:function(n){return this.$Eq=n,n},get_$XG:function(){return $0.$1(this.$3L)?0:1},handleExpandOrCollapseIconClick:function(n){this.$G9=n;this.$2.$6F(this).$1aP()},$3X3:function(){this.$G9=!!this.get_$XG()},$2a8:function(n){this.$3L=n;this.set_SelectedMinimum(!$0.$1(this.$3L)&&!$0.$1(this.$3L.get_$23().get_$I(0))?this.$3L.get_$23().get_$I(0).get_$2O():this.$KL);this.set_SelectedMaximum(!$0.$1(this.$3L)&&!$0.$1(this.$3L.get_$23().get_$I(1))?this.$3L.get_$23().get_$I(1).get_$2O():this.$J2);$0.$1(this.$3L)&&(this.$qE=!0)},updateFilterExpression:function(){if(this.$ST){if($0.$1(this.$3L))return;this.$3L=null}else this.$3L=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$C5),this.$3L.$9r(this.$C5,"ge",this.$P9.toString()),this.$3L.$9r(this.$C5,"le",this.$K2.toString());this.$2.$6F(this).$1KA(this.$3L,this.$C5)},onDataChange:function(){this.updateFilterExpression(null)},getScreenReadableText:function(){return this.get_$XG()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_Range"),this.$G5,this.$P9.toString(),this.$K2.toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AppliedFilters_ScreenReader_ParsedData_Range_NoneSelected"),this.$G5)}};Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel=function(){this.$$d_onSelectedItemPropertyChanged=Function.createDelegate(this,this.onSelectedItemPropertyChanged);Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.prototype={$Ud:null,get_CommandButtonViewModels:function(){return this.$Ud},set_CommandButtonViewModels:function(n){return this.$Ud=n,n},$3JW:function(){this.getData()},$17j:!1,get_EnableSaveState:function(){return this.$17j},set_EnableSaveState:function(n){return this.$17j=n,n},getData:function(){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$5V)),r=this.$Ud,n,u,t;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Microsoft.Crm.Client.Core.ViewModels.$Cs(t.$12,t.$1D));this.get_ComboBoxViewModel().set_ItemsList(i.toArray());this.get_ComboBoxViewModel().AddPropertyChangedListener("SelectedItem",this.$$d_onSelectedItemPropertyChanged)},$GX:function(){var n,t,i,r;if(!$0.$1(this.$Ud)){n=this.$Ud;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$Ud=null}this.get_ComboBoxViewModel().RemovePropertyChangedListener("SelectedItem",this.$$d_onSelectedItemPropertyChanged);Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)},$34K:function(n){for(var i,r=this.get_ComboBoxViewModel().get_ItemsList(),u=r.length,t=0;t<u;++t)if(i=r[t],i.get_ValueString()===n)return i;return null},onSelectedItemPropertyChanged:function(){this.$Cg("OnItemSelected");this.$3Q3()},$3Q3:function(){var t,n,u,i,r;this.$17j&&(t=this.get_ComboBoxViewModel().$51,IsNull(t)||IsNull(this.$Ud[t])||(n=this.$Ud[t],!$0.$1(n.$29)&&n.$29.get_CanExecute()&&n.$29.execute(),u=n.get_TargetViewModel().get_$2R(),i=this.$34K(t),i&&(r=n.$T.MetadataSubType,$0.$1(r)||r===3||r===2||Microsoft.Crm.Client.Core.ViewModels.$p.$1zs(i.get_ValueString(),i.get_Label(),u))))},add_OnItemSelected:function(n){this.$2I("OnItemSelected",n)},remove_OnItemSelected:function(n){this.$4N("OnItemSelected",n)},$Cg:function(n){var t=this.$5j(n);$0.$1(t)||t(this,new Sys.EventArgs)}};Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.prototype={getData:function(){this.$1cS()},$2Ia:function(n){return n.$1D},$323:function(n){return n.$12},get_HasChildFlyouts:function(){var n,t,i;if(!$0.$1(this.$9a)){n=this.$9a;for(t in n)if(i={key:t,value:n[t]},Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(i.value))return!0;return!1}return!1},$1fP:0,get_ClientWidth:function(){return this.$1fP},set_ClientWidth:function(n){return this.$1fP=n,n},add_$2Pp:function(n){$0.$1(this.$2)||this.$2.$2I("DropdownSelectedItemUpdated",n)},remove_$2Pp:function(n){$0.$1(this.$2)||this.$2.$4N("DropdownSelectedItemUpdated",n)},$1IX:null,SelectedItemName:function(){var n,t,i;if($0.$1(this.$9a))return"";if(n=this.$J4 in this.$9a?this.$9a[this.$J4]:this.$9a[Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$J4).toString()],!$0.$1(n)){if(Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(n))return t=n,t.$1D;if(Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(n))return i=n,$0.$1(this.$1IX)&&(this.$1IX=i.SelectedItemName()),this.$1IX}return""},FireDropdownSelectedItemUpdatedEvent:function(){this.$2sC("DropdownSelectedItemUpdated")},ItemSelected:function(n,t){var c,e,r,i,f,l,u,o,s,h;if(!IsNull(this.$9a)){if(c=this.$9a[this.$J4],e=c,!$0.$1(e)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(e))if($0.$1(t)||this.$px!==t){if(this.$px===n)return}else return;if(this.$J4===n&&$0.$1(t))return;if(this.$J4=n,$0.$1(t)||(this.$px=t),this.$Cg("OnItemSelected"),r=this.$9a[this.$J4],!$0.$1(r)&&Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(r))i=r,!$0.$1(i.$29)&&i.$29.get_CanExecute()&&i.$29.execute(),$0.$1(i.get_TargetViewModel())?Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1018,"TargetViewModel is undefined in commandButton"):(f=i.$T.MetadataSubType,$0.$1(f)||f===3||f===2||(l=i.get_TargetViewModel().get_$2R(),Microsoft.Crm.Client.Core.ViewModels.$p.$1zs(i.$12,i.$1D,l))),this.$8("dataRecieved");else if(u=r,!$0.$1(u)&&!$0.$1(t)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(u)){o=this.$9a;for(s in o)h={key:s,value:o[s]},h.key===this.$J4?(u.ItemSelected(t),this.$1IX=u.SelectedItemName()):h.value.ItemSelected(null)}}},$GX:function(){var o=this.$Gq,r,t,n,s,u,f,e,i;for(r in o){if(t={key:r,value:o[r]},n=t.value,!$0.$1(n)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(n))s=n,s.$GX();else if(!$0.$1(n)&&Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(n))n.dispose();else if(!$0.$1(n)&&Object.isInstanceOfType(n)){u=t.value;f=u;for(e in f)i={key:e,value:f[e]},Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(i.value)&&i.value.dispose(),delete u[i.key]}delete this.$Gq[t.key]}this.$Gq=null;Microsoft.Crm.Client.Core.ViewModels.$Uu.prototype.$GX.call(this)},$2sC:function(n){if(!$0.$1(this.$2)){var t=this.$2.$5j(n);$0.$1(t)||t(this,new Sys.EventArgs)}}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel=function(){this.$$d_ChildDefinitionUpdated=Function.createDelegate(this,this.ChildDefinitionUpdated);this.$$d_$3HU=Function.createDelegate(this,this.$3HU);this.$$d_FilterUpdated=Function.createDelegate(this,this.FilterUpdated);this.$$d_$35S=Function.createDelegate(this,this.$35S);this.$$d_DropdownItemUpdated=Function.createDelegate(this,this.DropdownItemUpdated);this.$$d_DefinitionUpdated=Function.createDelegate(this,this.DefinitionUpdated);this.$$d_$1UN=Function.createDelegate(this,this.$1UN);this.$$d_$2KV=Function.createDelegate(this,this.$2KV);this.$$d_$36G=Function.createDelegate(this,this.$36G);this.$$d_$2oZ=Function.createDelegate(this,this.$2oZ);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.initializeBase(this);this.$122=!0};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.prototype={$K3:null,$EV:null,$DQ:null,$16V:!1,$17A:null,$tw:!1,isSubgridInForm:function(){return this.$tw},get_QueuePickerViewModel:function(){return $0.$1(this.$DQ)&&(this.$DQ=new Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel(this)),this.$DQ},get_QueuePickerDropDown:function(){return this.get_QueuePickerViewModel().get_QueuePickerDropDown()},get_$2f5:function(){return this.get_$1bw()},$T0:null,get_$zb:function(){return $0.$1(this.$fy)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$fy)?this.$8K?"HomePageGrid:"+this.$J:Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.get_$zb.call(this):this.$fy},$xa:!1,get_EnableClickOnEntityDashboardIcon:function(){return this.$xa},set_EnableClickOnEntityDashboardIcon:function(n){return this.$xa=n,n},get_IsActivityGrid:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$J);return!$0.$1(n)&&n.get_$8p()?!0:!1},get_TooltipString:function(){return Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionCentricGrid.EntityDashboardTooltip"),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$J).$8O)},$18:function(){this.$8K?this.$1y||(this.$1s3(),this.$xa=!1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Hf(this,this.$$d_$2oZ),this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$9N,this.$$d_$36G)):this.$1Eh?(this.$1s3(),this.$1rs()):this.$384();var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Od("ServiceDeskGridLoadEvent");n.addEventParameter("DialogGrid",this.$1Eh);n.addEventParameter("EntityGrid",this.$8K);n.addEventParameter("EntityName",this.$J||"");Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(n)},$384:function(){$0.$1(this.$2)||$0.$1(this.$2.$2)||this.set_$4K(this.$2.$2);var n=this.$2.$13,t=null;t=this.$xu||$0.$1(n)||$0.$1(n.ui)?"SessionTabContainer0":n.ui.tabs.getAll()[0].getName();this.$16V||(this.$xu?this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$6i,this.$$d_$2KV):this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN),this.$16V=!0);this.$tw=this.$tw||this.$Up===t;this.$tw&&!this.$1y&&(this.$1s3(),this.$1rs())},$1s3:function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$18.call(this)},$2KV:function(n){this.$Up===n.$Y1&&(this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$6i,this.$$d_$2KV),this.$16V=!1,this.$tw=!0,this.$1y||this.$18())},$1UN:function(n){this.$Up===n.$Y1&&(this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN),this.$16V=!1,this.$tw=!0,this.$1y||this.$18())},$Iy:null,$ME:null,$1Rp:null,$Pl:null,$1H6:0,$1rs:function(){this.$Sn&&$0.$1(this.$ME)&&($0.$1(this.$Gp)||(this.$Iy={},this.$37K(),this.$1H6=0),this.$2D7(this.$J))},$37K:function(){var n,t,i,r;if(this.$Pl=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),$0.$1(this.$Gp))this.$Pl.add(this.$J);else{n=this.$Gp;for(t in n)i={key:t,value:n[t]},r=i.key,this.$Pl.add(r)}},$3Ny:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p;n.$zQ();n.set_PrimaryModelName(this.$J);n.$152("HomePageGrid:"+this.$J,this)},$2oZ:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();n.$Ru&&n.$Ru[this.$J]&&n.$Ru[this.$J].get_Count()>0&&(this.$xa=!0,this.$8("EntityDashboardDataReceived"))},OpenEntityDashboard:function(){var r,t;if(this.$xa){var u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),i=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(this.$2),n=u.$Ru[this.$J.toLowerCase()];if(!$0.$1(n)&&n.get_Count()){for(r=0,t=0;t<n.get_Count();t++)if(n.get_$I(t).$1gA){r=t;break}u.$Xe=n.get_$I(r);i.$1t=n.get_$I(r).$2b;i.$Mx=37;i.execute();i.dispose()}}},$36G:function(n){var t,i,r;$0.$1(this.$Gp)&&this.$8K?(t=!1,$0.$1(this.$K3)&&(t=!0),this.$K3=n.$Gq,this.$K3&&(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()&&(i=this.$K3[0].$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")].$F,$0.$1(this.$Ut)?this.$1ZS(i,!1):(r=i[this.$Ut],$0.$1(r)||r.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("AdvancedFindSearchResultsViewName")))),$0.$1(this.$EV)||(this.$EV.$Gq=this.$25H(),this.$EV.$1cS()),t&&this.$8("SelectViewDataReceived"))):this.$1rs()},IsSelectViewDataReceived:function(){return!$0.$1(this.$K3)},$2Xc:function(n){$0.$1(this.$EV)||(this.$EV.$Gq=n);this.$8("SelectViewDataReceived")},$25H:function(){var n,t,i;return $0.$1(this.$K3)?null:(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()&&!$0.$1(this.$ME)&&$0.$1(this.$Ut)&&this.$1ZS(this.$ME[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")],!1),!$0.$1(this.$Gp)&&this.$J in this.$Gp?this.$ME:this.$8K?(n={},$0.$1(this.$K3[0]))?n:(t=this.$K3[0].$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")].$F,n[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")]=t,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")in this.$K3[0].$F&&(i=this.$K3[0].$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")].$F,n[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")]=i),n):this.$ME)},$31g:function(){if($0.$1(this.$1Rp)){var n={};n.All=this.$dW("All",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_All"));n.Overdue=this.$dW("Overdue",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Overdue"));n.Today=this.$dW("Today",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Today"));n.Tomorrow=this.$dW("Tomorrow",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Tomorrow"));n["NextXDays;7"]=this.$dW("NextXDays;7",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Next7Days"));n["NextXDays;30"]=this.$dW("NextXDays;30",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Next30Days"));n["NextXDays;90"]=this.$dW("NextXDays;90",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Next90Days"));n["NextXMonths;6"]=this.$dW("NextXMonths;6",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Next6Months"));n["NextXMonths;12"]=this.$dW("NextXMonths;12",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PickList_DateFilter_Next12Months"));this.$1Rp=n}return this.$1Rp},get_DueLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.View_Label_ViewByDate")},get_$1bw:function(){return this.get_QueuePickerViewModel().$1hA},$dW:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.$2A;return i.set_$1a(n),i.set_Label(t),i},get_GridFlyoutViewModel:function(){var n;if($0.$1(this.$EV)){var t=this.$25H(),i=this.$2pi(t),r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",$0.$1(this.$Gp)?i:this.$J)],null,null);this.$EV=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(r,this.get_ModelContext(),this.$3V,this.$2);this.$EV.get_HasChildFlyouts()&&(this.$EV.$px=this.get_DefinitionId());n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){var t,i;if(n.$8K&&!$0.$1(n.$EV.$9a)&&!$0.$1(n.$EV.$J4)){for(t=n.$EV.$9a[n.$EV.$J4];!$0.$1(t)&&!Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(t);)if(i=t,!$0.$1(i)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(i))t=i.$9a[i.$J4];else break;!$0.$1(t)&&Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(t)&&n.$2e1(t)}},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$Sj,"ICGridVM.GridFlyoutViewModel.AddToMru.AddDefaultView");this.$EV.add_$1GK(this.$$d_DefinitionUpdated);this.get_GridFlyoutViewModel().add_$2Pp(this.$$d_DropdownItemUpdated)}return this.$EV},$2pi:function(n){var i=this.get_DefinitionId(),f,r,u,e,t;if(this.get_DefinitionId()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()&&Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")in n){f=n[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")];r=f;for(u in r)if(e={key:u,value:r[u]},t=e.value,!$0.$1(t.$T)&&!$0.$1(t.$T.IsDefault)){var s=t.$T.IsDefault,o=t.$T.MetadataSubType,h=!$0.$1(o)&&o===3;if(s&&!h&&!$0.$1(t.$T.ViewId)){i=t.$T.ViewId;this.$16===2?(this.$17A=i,this.add_$130(this.$$d_$35S)):!$0.$1(t.$29)&&t.$29.get_CanExecute()&&t.$29.execute();break}}}return i},$35S:function(){if(this.remove_$130(this.$$d_$35S),!$0.$1(this.$17A)&&!$0.$1(this.get_GridFlyoutViewModel())&&!$0.$1(this.get_GridFlyoutViewModel().$9a)&&this.$17A in this.get_GridFlyoutViewModel().$9a){var n=this.get_GridFlyoutViewModel().$9a[this.$17A];!$0.$1(n.$29)&&n.$29.get_CanExecute()&&n.$29.execute()}this.$17A=null},$2e1:function(n){var t=n,i;$0.$1(t.get_TargetViewModel())?Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1018,"TargetViewModel is undefined in commandButton"):(i=t.get_TargetViewModel().get_$2R(),Microsoft.Crm.Client.Core.ViewModels.$p.$1zs(t.$12,t.$1D,i))},DefinitionUpdated:function(n){var t=n,i=t.$9a[t.$J4];this.OnDefinitionUpdated(i)},DropdownItemUpdated:function(){var n=this.get_FilterFlyoutViewModel(),t;$0.$1(n)||$0.$1(n.get_ComboBoxViewModel())||(t=n.get_ComboBoxViewModel().$51,this.OnFilterUpdated(t))},ChildDefinitionUpdated:function(n){var t=n,i=t.$9a[t.$J4];this.OnDefinitionUpdated(i)},get_FilterFlyoutViewModel:function(){if($0.$1(this.$T0)){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("DropdownForGridViewModel","ComboBoxWrapper","ComboBoxWrapper",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CommandButtonViewModels",this.$31g()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ComboBoxClass","gridViewDropDown"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("WrapperClass","filterViewDropDownWrapper")],null,null);this.$T0=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,null);this.$T0.$17j=!1;this.$T0.add_OnItemSelected(this.$$d_FilterUpdated);this.$T0.get_ComboBoxViewModel().set_SelectedItem("All")}return this.$T0},FilterUpdated:function(n){var t=n,i=t.get_ComboBoxViewModel().$51;this.OnFilterUpdated(i)},get_SelectViewData:function(){return this.$K3},$2D7:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveViewSelector","HomePageGrid:"+n,!1),i;t.OnSuccess=this.$$d_$3HU;t.OnFailure=this.$$d_$5O;i=new Microsoft.Crm.Client.Core.ViewModels.$M(this,t);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(i.$4Z())},$3HU:function(n){var b=n,i={},r=new Microsoft.Crm.Client.Core.ViewModels.$Ct,l,a,v,t,y,f,e,o,p,u,s,h,c,w;if(this.$cu(r,this,b.$EJ.Controls),l=r.$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")],i[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name")]=this.$2IM(l.$F),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")in r.$F&&(a=r.$F[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")],i[Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name")]=this.$2IM(a.$F)),!$0.$1(this.$Gp)&&this.$8K)if(v=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",this.get_DefinitionId())],null,null),t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(v,null),t.set_PrimaryModelName(this.$J),y=this.$Gp[this.$J],t.set_$1a(this.$J),t.set_Label(this.$J!=="activitypointer"?y.DisplayName:Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ViewSelectorAllActivities")),t.add_$1GK(this.$$d_ChildDefinitionUpdated),this.$Iy[this.$J]=t,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()&&this.$1ZS(t.$9a,!0),this.$1H6++,this.$1H6===this.$Pl.get_Count()){f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$5M));e=this.$Iy;for(o in e)p={key:o,value:e[o]},f.add(p.value);u={};u.Entities=this.$Iy;this.$K3=f.toArray();this.$ME=u;this.set_PrimaryModelName("activitypointer");this.$3Ny();this.$2Xc(u)}else this.set_PrimaryModelName(this.$Pl.get_$I(this.$1H6)),this.$2D7(this.$J);else{s=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$5M));h=this.$Iy;for(c in h)w={key:c,value:h[c]},s.add(w.value);this.$K3=s.toArray();this.$ME=i;this.$2Xc(i)}},$2VJ:function(n){var t=n.$6d.get_$I("fetchXml").Data,i=null,e,o,r,s,f,c;if(this.$Et){if(t=Microsoft.Crm.Client.Core.ViewModels.$2D.$1oC(t,this.$GD),e=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Dj(t),$0.$1(e)&&!Microsoft.Crm.Client.Core.ViewModels.$2D.$1FB(this.$GD))return this.$18Q=!0,n;if(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$J),o.get_$8p()&&this.$8K&&this.get_DefinitionId()===this.$Pd[this.$J]&&!$0.$1(this.$XZ)){r=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2o.$ma(t);s=r.$G8;for(var h=this.$XZ.toArray(),l=h.length,u=0;u<l;++u)f=h[u],$0.$1(f)||s.add(f);t=r.$mb()}else this.$J!=="queueitem"||$0.$1(this.$DQ)||(t=this.$8K?this.$1o6(t,this.get_$1bw()):this.$1o6(t,"436e2293-da8f-4ef9-a1e6-fff25a5beb22"));i=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(t);c=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Tv(t);$0.$1(this.$14r)&&!$0.$1(c)&&(this.$14r=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Tv(t).toString());this.$2W0()}else{if($0.$1(this.get_$1bw())&&(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Pe)||!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Pe)&&!this.$17i))return n;t=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Pe)?this.$1o6(t,this.get_$1bw()):this.$2ty(t);i=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(t)}return i},$2ty:function(n){var i=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2o.$ma(n),o=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(this.$Pe)),t=o.$O("link-entity"),s=o.$O("condition"),f,u,h,e,c;if($0.$1(t))$0.$1(s)?Microsoft.Crm.Client.Core.Framework.$B.$65("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, incorrect filter condition XML was passed."):(Microsoft.Crm.Client.Core.Framework.$B.$C("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, generating merged fetchXML using passed in filter condition."),c=this.$2Io(i,!0),Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$7P.$2RW(s,c));else{Microsoft.Crm.Client.Core.Framework.$B.$C("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, generating merged fetchXML using passed in link-entity filter condition.");var l=$0.$1(t.$1T("link-type"))?null:t.$1T("link-type").toString(),a=$0.$1(t.$1T("alias"))?null:t.$1T("alias").toString(),r=new Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$8A(t.$1T("name").toString(),t.$1T("from").toString(),t.$1T("to").toString(),l,a);for(Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2o.$1j2(r,t),f=null,u=0;u<i.$NP.get_Count();u++)if(r.$3AQ(i.$NP.get_$I(u))){f=i.$NP.get_$I(u);break}if($0.$1(f))i.$NP.add(r);else for(h=this.$2Io(f,!1),e=0;e<r.$G8.get_Count();e++)h.$6b(r.$G8.get_$I(e))}return i.$mb()},$2Io:function(n,t){for(var r=null,i=0;i<n.get_$m3().get_Count();i++)if(!n.get_$m3().get_$I(i).get_$sl()&&(n.get_$m3().get_$I(i).get_$23().get_Count()>0&&t||n.get_$m3().get_$I(i).get_$5S().get_Count()>0&&!t)){r=n.get_$m3().get_$I(i);break}return $0.$1(r)&&(r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,n.get_$5l()+n.get_$m3().get_Count().toString()),n.get_$m3().add(r)),r},$1o6:function(n,t){var s="",a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n.toString()),v=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(a).$O("fetch"),i=v.$O("entity"),y=i.$1T("name").toString(),r,c,e,o,u,l;if(y==="queue")return n;var p=i.$O("link-entity")?i.$O("link-entity").get_$7Y().toString():"",w=i.$O("order")?i.$O("order").get_$7Y().toString():"",f=i.$5p("filter"),h="";if(!$0.$1(f))for(r=0;r<f.get_$m();r++)c=f.get_$I(r),h+=c.get_$7Y();for(e=i.$5p("attribute"),o="",u=0;u<e.get_$m();u++)o+=e.get_$I(u).get_$7Y();return l="<\/entity><\/fetch>",s=t.toLowerCase()==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'><filter type='and'><condition attribute='queueviewtype' operator='eq' value='1' /><\/filter><\/link-entity><link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='inner'><attribute name='systemuserid' /><filter><condition attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString()+"' /><\/filter><\/link-entity>":t.toLowerCase()==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'><filter type='and'><condition attribute='queueviewtype' operator='eq' value='0' /><\/filter><\/link-entity>":t.toLowerCase()==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='outer'> <attribute name='systemuserid'/> <\/link-entity> <link-entity name='queue' from='queueid' to='queueid' alias='qq' link-type='outer'> <attribute name='queueviewtype'/> <\/link-entity> <filter operator='and'> <filter type ='or'> <condition entityname='qq' attribute='queueviewtype' operator='eq' value='0' /> <condition entityname='qm' attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString()+"' /> <\/filter> <\/filter>":"<filter type='and'><condition attribute='queueid' operator='eq' uitype='queue' value='{"+t+"}' /><\/filter>","<fetch distinct='false' mapping='logical'><entity name='queueitem'>"+o+p+w+h+s+l},$2IM:function(n){var i,u,r,t;if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$m1)||(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i.addRange(this.$m1.split(",")),!i.get_Count()))return n;for(u={},r=0;r<i.get_Count();r++)t=i.get_$I(r),t=new Microsoft.Crm.Client.Core.Framework.Guid(t).toString(),t in n&&(u[t]=n[t]);return u},$cu:function(n,t,i){for(var r,o,e,h,u,f,c=i,l=c.length,s=0;s<l;++s){r=c[s];o=r.LabelText||"";switch(r.ControlType){case"Button":$0.$1(r.CommandParameters)&&(r.CommandParameters={});r.CommandParameters.TargetViewModel=this;e="";switch(r.CommandType){case"ControlCommand":r.CommandParameters.CommandPropertyName=r.Command;e="ControlCommand";break;case"System":e=r.Command;break;case"WebResource":e="WebResourceCommand"}h=t.get_$2R();($0.$1(h)||Microsoft.Crm.Client.Core.ViewModels.$43.isInstanceOfType(t))&&t.get_$CK()&&(h=t.get_$CK().$J);u=new Microsoft.Crm.Client.Core.ViewModels.$2A;u.set_$1a(r.Id);u.set_Label(o);u.set_Visible(!0);u.set_Parameters(r.CommandParameters);u.set_ImageName(r.ImageId);u.set_ImageType(r.ImageType);u.$J8=r.AvailableOffline;u.set_TargetViewModel(t);u.$Dl=null;u.set_Command(e);n.$8V(u.$12,u);break;case"Group":Microsoft.Crm.Client.Core.ViewModels.$2Z.isInstanceOfType(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(o)?(f=new Microsoft.Crm.Client.Core.ViewModels.$9k,f.set_Label(o),f.set_$1a(this.$1RR(r.Id)),this.$cu(f,t,r.Children),n.$8V(f.$12,f)):this.$cu(n,t,r.Children)}}},$277:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$J);t.get_$8p()&&this.$8K?(this.$EV.ItemSelected(this.$J,n),this.$EV.$8("dataRecieved"),this.$T0.get_ComboBoxViewModel().set_SelectedItem("All")):this.$EV.ItemSelected(n);this.$J!=="queueitem"||$0.$1(this.$DQ)||this.$DQ.get_QueuePickerDropDown().get_ComboBoxViewModel().set_SelectedItem("436e2293-da8f-4ef9-a1e6-fff25a5beb22")},$1RR:function(n){if($0.$1(n))return null;var t=n.split("|");return t[t.length-1]},$GX:function(){var u=this.$ME,n,t,i,e;for(n in u)t={key:n,value:u[n]},Microsoft.Crm.Client.Core.ViewModels.$Ct.isInstanceOfType(t.value)&&(i=t.value,$0.$1(i)||i.dispose());if(!$0.$1(this.$K3)){for(var f=this.$K3,o=f.length,r=0;r<o;++r)e=f[r],e.dispose();this.$K3=null}$0.$1(this.$EV)||(this.$EV.remove_$1GK(this.$$d_DefinitionUpdated),this.get_GridFlyoutViewModel().remove_$2Pp(this.$$d_DropdownItemUpdated),this.$EV.dispose(),this.$EV=null);$0.$1(this.$T0)||(this.$T0.remove_OnItemSelected(this.$$d_FilterUpdated),this.$T0.dispose(),this.$T0=null);$0.$1(this.$DQ)||(this.$DQ.dispose(),this.$DQ=null);this.$16V&&(this.$xu?this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$6i,this.$$d_$2KV):this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN));this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$9N,this.$$d_$36G);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel=function(n){this.$$d_QueueUpdated=Function.createDelegate(this,this.QueueUpdated);Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.initializeBase(this);this.$W6=n};Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.prototype={$DQ:null,$1a4:!1,$W6:null,$Us:null,$1hA:null,get_QueuePickerDropDown:function(){if(($0.$1(this.$DQ)||$0.$1(this.$DQ.$Ud))&&!this.$1a4){this.$1a4=!0;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("DropdownForGridViewModel","ComboBoxWrapper","ComboBoxWrapper",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CommandButtonViewModels",this.$3L3()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ComboBoxClass","queuePickerDropDown")],null,null);this.$DQ=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,null);this.$DQ.add_OnItemSelected(this.$$d_QueueUpdated);this.$DQ.get_ComboBoxViewModel().set_SelectedItem("436e2293-da8f-4ef9-a1e6-fff25a5beb22");this.$DQ.get_ComboBoxViewModel().$k4=!0}return this.$DQ},$3L3:function(){return $0.$1(this.$Us)&&this.$2rL(),this.$Us},$2rL:function(){var t={},n,i,r;t.userId=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString();t.includePublic=!0;n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveUserQueues",t);i=this;n.OnSuccess=function(n){i.$33d(n)};r=this;n.OnFailure=function(n){r.$5O(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,n)},QueueUpdated:function(n){var t=n;this.$1hA=t.get_ComboBoxViewModel().$51;$0.$1(this.$W6)||(this.$W6.$O4=null,this.$W6.$2W=null,$0.$1(this.$W6.$2u)||(this.$W6.$S8=!0),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()&&this.$W6.get_DefinitionId()===this.$W6.$Ut&&(this.$W6.$Et=!0),this.$W6.$X6())},$33d:function(n){var t=0,c=n.entityCollection,l=c.get_entities(),o,s,i,r,u,f;this.$Us={};for(var h=l,a=h.length,e=0;e<a;++e)o=h[e],s=o.$N.Id.toString(),$0.$1(s)||(i=new Microsoft.Crm.Client.Core.ViewModels.$2A,i.set_$1a(s),i.set_Label(o.getValue("name")),this.$Us[t.toString()]=i,t++);r=new Microsoft.Crm.Client.Core.ViewModels.$2A;r.set_$1a("5850FC36-8596-45fe-B607-FE81D0C453FD");r.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_All"));this.$Us[t.toString()]=r;t++;u=new Microsoft.Crm.Client.Core.ViewModels.$2A;u.set_$1a("e611d950-6bab-477c-a5a3-7e9a447b326d");u.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_Public"));this.$Us[t.toString()]=u;t++;f=new Microsoft.Crm.Client.Core.ViewModels.$2A;f.set_$1a("436e2293-da8f-4ef9-a1e6-fff25a5beb22");f.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_Private"));this.$Us[t.toString()]=f;t++;this.$DQ.get_ComboBoxViewModel().$k4=!1;this.$DQ.$Ud=this.$Us;this.$DQ.$3JW();this.$1a4=!1},$5O:function(n){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(n)},$GX:function(){var n,t,i,r;$0.$1(this.$DQ)||(this.$DQ.remove_OnItemSelected(this.$$d_QueueUpdated),this.$DQ.dispose(),this.$DQ=null);n=this.$Us;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$Us=null;Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$AT=function(){this.$$d_$34i=Function.createDelegate(this,this.$34i);this.$iU=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Models.$JJ));Microsoft.Crm.Client.Core.ViewModels.$AT.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;Microsoft.Crm.Client.Core.ViewModels.$AT.initializeBase(this);this.$PY=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$JJ));this.set_PageSize(2147483647)};Microsoft.Crm.Client.Core.ViewModels.$AT.prototype={$s7:null,$n7:null,$21f:!1,$NV:null,$vM:!1,get_ActionProvider:function(){return this.$NV},set_ActionProvider:function(n){return this.$NV=n,n},$2A:"",$7f:null,$1Wg:0,get_Data:function(){return this.$2A},set_Data:function(n){return this.$2A!==n&&(this.$2A=n,$0.$1(n)?this.set_Text(""):this.set_Text(this.$2A.Name),this.$8("Data")),n},get_ProcessRequirementSatisfied:function(){return!$0.$1(this.$7f)&&this.$7f!==""},$PY:null,get_FirstLevelSubjects:function(){return this.$PY},set_FirstLevelSubjects:function(n){return this.$PY=n,n},get_Text:function(){return this.$7f},set_Text:function(n){return this.$7f!==n&&(this.$7f=n,this.$8("Text")),n},get_ItemIndex:function(){return this.$1Wg},set_ItemIndex:function(n){return this.$1Wg!==n&&(this.$1Wg=n),n},$Gs:!1,get_IsLoading:function(){return this.$Gs},set_IsLoading:function(n){return this.$Gs=n,n},get_DefaultLookupViewActionProvider:function(){return this.$s7},set_DefaultLookupViewActionProvider:function(n){return this.$s7=n,n},get_InitialLookupViewActionProvider:function(){return this.$n7},set_InitialLookupViewActionProvider:function(n){return this.$n7=n,n},$1hI:0,get_SubjectTextboxMaxLength:function(){return this.$1hI},set_SubjectTextboxMaxLength:function(n){return this.$1hI=n,n},$18:function(){this.$1y||(this.$Gs=!0,Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this))},FetchData:function(){this.$21f||(this.getSubjectData(),this.$3CB())},SetValue:function(n){var t=this.$iU.get_$I(n);$0.$1(t)||this.set_Data(new Xrm.Objects.EntityReference("subject",new Microsoft.Crm.Client.Core.Framework.Guid(t.$2b),t.$4r))},ToggleState:function(n){var t=this.$iU.get_$I(n);$0.$1(t)||(t.$7K=t.$7K?0:1)},getSubjectData:function(){this.$Gs=!0;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForSubject",null);n.OnSuccess=this.$$d_$34i;n.QueryValue="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<entity name='subject'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='subjectid' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='title'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='parentsubject'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<order attribute='createdon' descending='false' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/fetch>";this.set_DefinitionId(n.QueryValue.toString());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},$34i:function(n){var t=n.get_$Bt().$22N(),i;if(this.$PY.clear(),!$0.$1(t)&&t.length>0){for(i=0;i<t.length;i++){var f=t[i].GetValue("subjectid").toString(),s=t[i].GetValue("title"),e=t[i].GetValue("parentsubject"),o=e?e.Id.toString():null,r=o?this.$iU.get_$I(o):null,u=new Microsoft.Crm.Client.Core.Models.$JJ(f,s,r);$0.$1(r)?this.$PY.add(u):r.$jN.add(u);this.$iU.set_$I(f,u)}this.$2YR(this.$PY);this.$Gs=!1;this.$8("SubjectsLoaded")}this.$21f=!0},$2YR:function(n){var i=this,t;for(n.sort(function(n,t){var i=n,r=t,u=i.$4r,f=r.$4r;return u.localeCompare(f)}),t=0;t<n.get_Items().length;t++)this.$2YR(n.get_$I(t).$jN)},$3CB:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76("subject",null)},get_ProcessRequired:function(){return this.$vM},set_ProcessRequired:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Converters.$LC,i=t.$I6(n,null);return this.$vM=i,n},parentNodeScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("HierarchicalSubject_ParentNode_ScreenReader_Text"),n)},selectedNodeScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("HierarchicalSubject_SelectedNode_ScreenReader_Text"),n)}};Microsoft.Crm.Client.Core.ViewModels.$Ej=function(){this.get_$WK=this.get_IsValid;this.set_$104=this.set_DataBindingValidatorResult;this.set_$Om=this.set_ManualValidatorResult;this.set_$14y=this.set_RecommendationNotification;Microsoft.Crm.Client.Core.ViewModels.$Ej.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$UC=this.get_RequiredLevel;this.set_$UC=this.set_RequiredLevel;Microsoft.Crm.Client.Core.ViewModels.$Ej.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ej.prototype={add_$2Ux:function(n){this.$2I("RevalidateEvent",n)},remove_$2Ux:function(n){this.$4N("RevalidateEvent",n)},get_IsValid:function(){return($0.$1(this.$AH)||this.$AH.$5w)&&($0.$1(this.$9j)||this.$9j.$5w)},get_ErrorMessage:function(){return $0.$1(this.$9j)?$0.$1(this.$AH)?"":this.$AH.$5C:this.$9j.$5C},get_ErrorMessageLevel:function(){return $0.$1(this.$9j)?$0.$1(this.$AH)?"":this.$AH.$ls:this.$9j.$ls},$AH:null,get_DataBindingValidatorResult:function(){return this.$AH},set_DataBindingValidatorResult:function(n){if(this.$AH!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$AH=n;this.$8("DataBindingValidatorResult");t!==this.get_IsValid()&&this.$8("IsValid");r!==this.get_ErrorMessageLevel()&&this.$8("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$8("ErrorMessage")}return n},$9j:null,get_ManualValidatorResult:function(){return this.$9j},set_ManualValidatorResult:function(n){if(this.$9j!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$9j=n;this.$8("ManualValidatorResult");t!==this.get_IsValid()&&this.$8("IsValid");r!==this.get_ErrorMessageLevel()&&this.$8("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$8("ErrorMessage")}return n},$98:null,get_AcceptanceTextMessage:function(){return $0.$1(this.$98)||$0.$1(this.$98.actions)||this.$98.actions.length<1?"":this.$98.actions[0].message},get_AcceptanceActions:function(){return $0.$1(this.$98)||$0.$1(this.$98.actions)||this.$98.actions.length<1?null:this.$98.actions[0].actions[0]},get_RecommendationNotification:function(){return this.$98},set_RecommendationNotification:function(n){return this.$98!==n&&(this.$98=n,this.$8("RecommendationNotification")),n},$9m:0,get_RequiredLevel:function(){return this.$9m},set_RequiredLevel:function(n){return this.$9m!==n&&(this.$9m=n,this.$1Ru("RequiredLevel","Required","Recommended")),n},get_Required:function(){return this.$9m===1||this.$9m===2},get_Recommended:function(){return this.$9m===3},$2sB:function(){var n=this.$5j("RevalidateEvent");n&&n()}};Microsoft.Crm.Client.Core.ViewModels.$Dh=function(){this.$$d_$33u=Function.createDelegate(this,this.$33u);this.$$d_LoadViewFailure=Function.createDelegate(this,this.LoadViewFailure);this.$$d_LoadViewSuccess=Function.createDelegate(this,this.LoadViewSuccess);Microsoft.Crm.Client.Core.ViewModels.$Dh.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Dh.prototype={$TQ:null,$6u:null,$ll:null,$Iy:null,$wx:null,$p4:null,$1bt:"1",$hx:null,$hy:null,$VW:null,$lk:!1,$1HI:null,$1HH:null,$FV:!1,get_ShouldShowOnlyGrid:function(){return this.$FV},set_ShouldShowOnlyGrid:function(n){return this.$FV=n,n},$18:function(){var f,e,o,s,t,r,i,u,n;if(!this.$1y&&(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this),this.$6u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$ll=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$VW={},this.$GA=this.$2.$6O.isMultiSelect,this.$Gt=this.$2.$6O.lookupStyle,this.$FV=$0.$1(this.$2.$6O.shouldShowOnlyGrid)?!1:this.$2.$6O.shouldShowOnlyGrid,f=this.$2.$6O.disableQuickFind,this.$jV=$0.$1(f)?!1:f,!this.$FV))if(this.$cE=$0.$1(this.$2.$6O.selectedViewIds)?"":this.$2.$6O.selectedViewIds,e=this.$2.$6O.disableViewPicker,this.$bn=$0.$1(e)?!1:e,this.$1L5=$0.$1(this.$2.$6O.DefaultViewId)?"":this.$2.$6O.DefaultViewId,this.$lk=!0,this.$17J=this.$2.$6O.allowfilteroff,this.$Pe=this.$2.$6O.relationshipfiltercondition,this.$1HI="",this.$1HH="",o=this.$2.$6O.filterreferencingattributename,Microsoft.Crm.Client.Core.Framework.$3.$9(o)||(s=o.split("."),this.$1HI=s[0],this.$1HH=s[1]),this.$Gt==="single")t=this.$2.$6O.optionset,this.$6u.add(t),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(t),this.$ll.add(r.$1S.toString()),this.$VW[t]=r.$1S.toString(),this.$VW[r.$1S.toString()]=t,this.set_SelectedEntity(t);else if(this.$Gt==="multi"){for(i=this.$2.$6O.logicalNames,u=this.$2.$6O.displayNames,n=0;n<i.get_Count();n++)this.$6u.add(i.get_$I(n).toString()),this.$ll.add(u.get_$I(n).toString()),this.$VW[u.get_$I(n).toString()]=i.get_$I(n).toString(),this.$VW[i.get_$I(n).toString()]=u.get_$I(n).toString();this.$ll.sort();this.set_SelectedEntity(this.GetEntityLogicalName(this.$ll.get_$I(0)));this.$1J0=!1}},$cE:null,$jV:!1,$bn:!1,get_DisableViewPicker:function(){return this.$bn},set_DisableViewPicker:function(n){return this.$bn=n,n},$qe:null,$GA:!1,get_IsMultiSelect:function(){return this.$GA},set_IsMultiSelect:function(n){return this.$GA=n,n},$Gt:null,get_LookupStyle:function(){return this.$Gt},set_LookupStyle:function(n){return this.$Gt=n,n},$17J:!1,get_AllowFilterOff:function(){return this.$17J},set_AllowFilterOff:function(n){return this.$17J=n,n},get_HasRelationshipFilterCondition:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Pe)},$1L5:null,get_EnableRelationshipFilter:function(){return this.$lk},set_EnableRelationshipFilter:function(n){return this.$lk!==n&&(this.$lk=n,this.$TQ.$17i=this.$lk,this.$TQ.$2W=null,this.$lk&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AS(),this.$TQ.$X6(),this.$8("EnableRelationshipFilter")),n},get_RelationshipFilterText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Field_Label_UseRelationshipFilter"),this.get_$3Ly())},$Pe:null,get_RelationshipFilterCondition:function(){return this.$Pe},set_RelationshipFilterCondition:function(n){return this.$Pe=n,n},get_$3Ly:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(this.$1HI,this.$1HH),t;return $0.$1(n)?(this.$17J&&(t=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$1HI,[this.$1HH]),Microsoft.Crm.Client.Core.Framework.$G.$b("","LookupRelationshipFilter")).done(function(){t.$8("RelationshipLogicalName")})),""):n.$1S},get_Views:function(){return this.$Iy},set_Views:function(n){return this.$Iy=n,n},get_ItemViewModels:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1TN()},get_ItemViewModelDisplayNames:function(){for(var u,t,f,e=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1TN(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=e,o=r.length,n=0;n<o;++n)u=r[n],t=u.get_ModelContext(),$0.$1(t)||(f=t.get_$Qt().Name,i.add(f));return i.toArray()},FetchViewsForEntity:function(n){var i=n?this.get_UserViewsXml():this.get_SystemViewsXml(),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);t.OnSuccess=this.$$d_LoadViewSuccess;t.OnFailure=this.$$d_LoadViewFailure;t.QueryValue=i;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t)},get_SystemViewsXml:function(){return"<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='savedquery'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='savedqueryid'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='returnedtypecode'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='fetchxml'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='returnedtypecode' operator='eq' value='"+this.$1bt+"' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='statecode' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queryapi' operator='eq' value='' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queryapi' operator='null' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='64' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t<\/fetch>"},get_UserViewsXml:function(){return"<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='userquery'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='userqueryid' alias='savedqueryid'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='returnedtypecode'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='fetchxml'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='returnedtypecode' operator='eq' value='"+this.$1bt+"' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='statecode' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='64' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t<\/fetch>"},LoadViewSuccess:function(n){var s=n,u,t,i,r,o;s.get_EntityCollection().$1o.$S==="savedquery"&&(this.FetchViewsForEntity(!0),this.$Iy=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$wx=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.Guid)));u=!1;t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.Framework.$3.$9(this.$cE)?u=!0:t.addRange(this.$cE.split(","));for(var c=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$1L5),f="",l=n.get_$Bt().$22N(),h=l,a=h.length,e=0;e<a;++e)if(i=h[e],!$0.$1(i.GetValue("fetchxml"))&&(r=i.GetValue("savedqueryid"),o=String.format("{{{0}}}",r.toString()),(u||t.contains(o.toUpperCase())||t.contains(o.toLowerCase()))&&(this.$Iy.add(i.GetValue("name")),this.$wx.add(r),c.toString().toLowerCase()===r.toString().toLowerCase()&&(f=i.GetValue("name")),t.get_Count()>0&&this.$wx.get_Count()===t.get_Count())))break;Microsoft.Crm.Client.Core.Framework.$3.$9(f)?this.set_SelectedView(this.$Iy.get_Count()>0?this.$Iy.get_$I(0):""):this.set_SelectedView(f);s.get_EntityCollection().$1o.$S==="userquery"&&this.$8("Visible")},LoadViewFailure:function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,"Failed: "+n)},get_Entities:function(){return this.$6u},set_Entities:function(n){return this.$6u=n,n},get_EntitiesDisplayName:function(){return this.$ll},set_EntitiesDisplayName:function(n){return this.$ll=n,n},GetEntityLogicalName:function(n){return this.$VW[n]},get_SelectedEntity:function(){return this.$p4},set_SelectedEntity:function(n){if(this.$p4!==n){this.$p4=n;var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$p4);this.$1bt=t.$7u.toString();this.FetchViewsForEntity()}return n},GetSelectedEntityDisplayName:function(){return this.$VW[this.$p4]},get_SelectedView:function(){return $0.$1(this.$hx)&&(!$0.$1(this.$Iy)&&this.$Iy.get_Count()>0?(this.$hx=this.$Iy.get_$I(0),this.$hy=this.$wx.get_$I(0).toString(),this.$20l()):(this.$hx="",this.$hy=null)),this.$hx},set_SelectedView:function(n){return this.$hx===n||$0.$1(n)&&$0.$1(this.$hx)||(this.$hx=n,this.$hy=this.$wx.get_$I(this.$Iy.indexOf(this.$hx)).toString(),this.$20l()),n},get_SelectedViewId:function(){if($0.$1(this.$hy))var n=this.get_SelectedView();return this.$hy},set_SelectedViewId:function(n){return this.$hy!==n&&(this.$hy=n),n},DeleteItem:function(n){var t=this.$TQ.$m4(this.get_ItemViewModels()[n].$5g);t===-1?this.get_ItemViewModels()[n].set_$Og(!1):this.$TQ.$1R.get_$I(t).set_IsSelected(!1);this.$8("Visible")},$33u:function(n){for(var i,u=n.get_$Bt().$22N(),r=u,f=r.length,t=0;t<f;++t)i=r[t],this.$Iy.add(i.GetValue("name")),this.$wx.add(i.GetValue("savedqueryid"));this.$8("Visible")},$2iv:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridViewModel","InteractionCentricGridView","InteractionCentricGridViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridFormContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PageSize",7),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PreviousGridId",this.$qe),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DefinitionId",this.$hy),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$GA),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PrimaryModelName",this.$p4),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("EnableRelationshipFilter",this.$lk),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("RelationshipFilterCondition",this.$Pe),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("GetDefinitionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveListMetadata",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("PersonalizationActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalization",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("ActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForGrid",null))],{ListItemTabIndex:-1},[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridControlHeaderViewModel","InteractionCentricGridControlHeaderView","GridHeaderViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("PersonalizationActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalization",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowSearch",!this.$jV)],{},null)],"")},$2iw:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridViewModel","InteractionCentricGridView","InteractionCentricGridViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridFormContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PageSize",10),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PreviousGridId",this.$qe),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$GA),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShouldShowOnlyGrid",!0)],{ListItemTabIndex:-1},null,"")},$20l:function(){$0.$1(this.$TQ)||(this.$qe="grid_"+this.get_InteractionCentricGridViewModel().get_ViewModelId(),this.$TQ.dispose(),this.$TQ=null);var n=null;n=this.$FV?this.$2iw():this.$2iv();this.$TQ=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,this.get_ModelContext(),this.$3V,this.$2);this.$FV||(this.get_InteractionCentricGridViewModel().get_GridHeaderViewModel().get_FilterBarViewModel().$jb=this.get_InteractionCentricGridViewModel().$2JG(this.$p4));this.$8("Visible")},get_InteractionCentricGridViewModel:function(){return $0.$1(this.$TQ)&&this.$20l(),this.$TQ},SelectedItemScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ScreenReaderText_RemoveButton"),n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel=function(n){this.$$d_$1wJ=Function.createDelegate(this,this.$1wJ);this.$$d_$1wI=Function.createDelegate(this,this.$1wI);this.$$d_$3Fu=Function.createDelegate(this,this.$3Fu);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.resolveInheritance();this.get_AttributeMetadata=this.get_$1O4;this.set_AttributeMetadata=this.set_$1O4;this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_LaunchedWithUnsavedChanges=this.get_$1tn;this.set_LaunchedWithUnsavedChanges=this.set_$1tn;this.get_$2f3=this.get_AttributeFieldNames;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.prototype={$Fb:null,$Of:!1,$1JA:!1,$1bf:null,$15R:null,$Nx:null,$15M:null,$b0:null,$zf:null,$F8:0,get_$2sP:function(){return this.$F8},get_CreateRecordActionProvider:function(){return this.$Nx},set_CreateRecordActionProvider:function(n){return this.$Nx=n,n},get_RetrieveFilteredProcessesActionProvider:function(){return this.$15M},set_RetrieveFilteredProcessesActionProvider:function(n){return this.$15M=n,n},get_SetEntityReferenceActionProvider:function(){return this.$b0},set_SetEntityReferenceActionProvider:function(n){return this.$b0=n,n},get_BoundField:function(){return this.$Fb},set_BoundField:function(n){return this.$Fb=n,n},get_AttributeFieldNames:function(){return this.$54},set_AttributeFieldNames:function(n){return n===this.$54?n:(this.$54=n,this.$8("AttributeFieldNames"),n)},get_IsSaving:function(){return this.$Of},set_IsSaving:function(n){return this.$Of!==n&&(this.$Of=n,this.$8("IsSaving")),n},$18i:null,get_RetrieveProcessActionProvider:function(){return this.$18i},set_RetrieveProcessActionProvider:function(n){return this.$18i=n,n},add_PreNavigation:function(n){this.$2I("PreNavigation",n)},remove_PreNavigation:function(n){this.$4N("PreNavigation",n)},$2go:function(n){return n},$1eI:function(){return!1},$3WD:function(){return!1},$3WE:function(){return!1},$3WF:function(){return!1},get_$39S:function(){return!1},get_$394:function(){return this.$7s===1},$1wI:function(){this.$16T()},$1wJ:function(n){var i,t;this.$3w||(i=n[0],i&&this.get_ModelContext().SetValue("processid",i),t=n[1],t&&(this.get_ModelContext().SetValue("stageid",t),this.get_ModelContext().SetValue("traversedpath",t.toString())),this.$16T())},$2Uf:function(){var n,t,i,r;return this.$15R=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$64,Microsoft.Crm.Client.Core.Framework.$4),n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFilteredProcesses",null),t=this,n.OnSuccess=function(n){if(Microsoft.Crm.Client.Core.ViewModels.$64.isInstanceOfType(n))t.$15R.resolve(n);else{t.$15R.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("RetrieveFilteredProcesses failed - response is unexpected."));return}},i=this,n.OnFailure=function(n){i.$15R.reject(Microsoft.Crm.Client.Core.Framework.$4.$i(n.$E))},this.$15M=new Microsoft.Crm.Client.Core.ViewModels.$M(this,n),$0.$1(this.$15M)||(r=this.$15M.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(r)),this.$15R.promise()},$2XF:function(n){if($0.$1(this.$Q.$AZ)||$0.$1(this.$Q.$AZ.get_ModelContext())||$0.$1(this.$Fb))this.set_ModelContext(n);else if(!$0.$1(this.$b0)&&!$0.$1(this.$Q.$AZ.get_ModelContext().get_Id())){this.set_ModelContext(n);var t=this.$b0.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t)}this.$Cg("OnLoadModelCompleted")},$l3:function(){var n=this;Microsoft.Crm.Client.Core.Models.$O.$I7(this.$J,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$54)).then(function(t){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n.$J);n.$2XF(t);i.$tm&&n.$2Uf().then(function(n){for(var f,i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=n.$EJ.Controls,u=e,o=u.length,r=0;r<o;++r)f=u[r],i.add(f.CommandParameters.ProcessControlId.toString());i.get_Count()>0&&t.SetValue("processid",new Microsoft.Crm.Client.Core.Framework.Guid(i.get_$I(0)),null,null)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"RetrieveProcessForUser Failed for Business Process Control in Interaction Centric Create Form with error : {0}",n.$E)})},null)},$29Q:function(){var n,t,i,r;if(!$0.$1(this.$Q.$T)&&"InitializationParameters"in this.$Q.$T){if(n=this.$Q.$T.InitializationParameters,"RelationshipAttribute"in n&&n.RelationshipAttribute.length>0){t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(this.$54);for(var f=n.RelationshipAttribute,e=f.length,u=0;u<e;++u)i=f[u],$0.$1(i)||t.contains(i)||t.add(i);this.set_AttributeFieldNames(t.toArray())}r=this;Microsoft.Crm.Client.Core.Models.$O.$th(this.$J,n,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$54)).then(function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(r.$J);r.$2XF(n);t.$tm&&r.$2Uf().then(function(t){for(var f,i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=t.$EJ.Controls,u=e,o=u.length,r=0;r<o;++r)f=u[r],i.add(f.CommandParameters.ProcessControlId.toString());i.get_Count()>0&&n.SetValue("processid",new Microsoft.Crm.Client.Core.Framework.Guid(i.get_$I(0)),null,null)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"RetrieveProcessForUser Failed for Business Process Control in Interaction Centric Create Form with error : {0}",n.$E)})},null)}else this.$l3()},$1Uu:function(n){switch(n){case 2:this.$29Q();break;default:this.$l3()}},$18:function(){if(this.$1JA=!0,this.$F8=0,this.$7s===1){if(!$0.$1(this.$54))if($0.$1(this.$Q.$T))this.$l3();else{var t=this.$Q.$T.InitializeFrom,n=null;$0.$1(this.$Q.$T.InitializationParameters)||(n=this.$Q.$T.InitializationParameters,$0.$1(n.InitializeFrom)||(t=n.InitializeFrom));$0.$1(n)||$0.$1(n.BoundField)?$0.$1(this.$Q.$T.BoundField)||(this.$Fb=this.$Q.$T.BoundField):this.$Fb=n.BoundField;$0.$1(this.get_ModelContext())&&this.$1Uu(t,n)}Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$18.call(this)}else Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$18.call(this),this.add_$If(this.$$d_$3Fu)},$3Fu:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$J),t;!$0.$1(n)&&n.$FG&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$6p.forceRuleEvaluation(),this.remove_$If(this.$$d_$3Fu));$0.$1(this.get_ModelContext())||(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8y(this.get_ModelContext()),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1RG().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8y,t))},$28m:function(){Microsoft.Crm.Client.Core.ViewModels.$57.isCreateFormViaUrl()?(this.$1bf="SaveAndClose",this.$F8=3):(this.$1bf="Save",this.$F8=1);this.$EL()},$2jg:function(){this.$F8=3;this.$EL()},$2jf:function(n){this.$F8=6;this.$zf=n;this.$EL()},$EL:function(){var n,t;if(!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x&&!this.$Of){if(!this.$Co){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Form_Component_Error"));this.$Of=!1;return}n=this.$5j("PreNavigation");n&&n(this,null);$0.$1(this.$18i)?this.$16T():(t=this.$18i.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t));this.set_IsSaving(!0)}},$16T:function(){if(!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x&&!$0.$1(this.$Nx)){var n=this.$Nx.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)}},$w4:function(n){$0.$1(this.get_ModelContext())||$0.$1(this.get_ModelContext().get_Id())||this.get_ModelContext().get_Id()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()||Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$w4.call(this,n)},$1vW:function(n,t){this.$1JA=!1;this.$1UA(n,t)},$1vU:function(n){this.set_IsSaving(!1);$0.$1(this.$zf)||this.$zf.resolve(!1);switch(n.$z){case-2147220685:this.$RS=!0;this.$EL();break;default:this.$R0(n)}},$VB:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1DG(this.$12);$0.$1(n)||n(this)},$GX:function(){this.remove_$If(this.$$d_$3Fu);Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$GX.call(this)},$1UA:function(n,t){var r,i;if($0.$1(n)&&$0.$1(t)&&this.set_IsSaving(!1),r=null,$0.$1(n)||$0.$1(t)||(r=this.$5j("RecordSaved")),!$0.$1(t))switch(this.$F8){case 1:this.$VB();break;case 3:Microsoft.Crm.Client.Core.ViewModels.$57.isCreateFormViaUrl()&&this.$1bf==="SaveAndClose"&&window.close();i=new Microsoft.Crm.Client.Core.Commands.$33(this,40);i.$1B={};i.$J=this.$J;i.$1B.SourceId=t.get_$57();i.$1k1=!0;i.execute();i.dispose();break;case 6:$0.$1(this.$zf)||this.$zf.resolve(!0)}$0.$1(r)||r(new Microsoft.Crm.Client.Core.ViewModels.$QF(n,t))},$2QM:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object);return this.$7s===1&&!$0.$1(this.$1JA)&&!this.$1JA?(t.resolve(!0),t.promise()):Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$2QM.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel=function(){this.$$d_$1UN=Function.createDelegate(this,this.$1UN);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.prototype={$1la:"CurrentSelectedTabName",$xP:null,get_CurrentSelectedTabName:function(){return this.$xP},set_CurrentSelectedTabName:function(n){return this.$xP=n,n},get_GetIsCurrentSelectedTabPropertyName:function(){return"IsCurrentSelectedTab"},$18:function(){var n,t,i,f,r,u,e,o;if(!this.$1y){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this);this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN);n=null;t=this.$F;for(i in t){f={key:i,value:t[i]};n=f.value;break}if(n){if(this.$xP=n.get_Name(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("AssociatedGridURLAddressability")&&!$0.$1(this.$2.$jU)){r=this.$F;for(u in r)if(e={key:u,value:r[u]},o=e.value,o.get_Name()===this.$2.$jU){this.$xP=this.$2.$jU;this.$2.$jU=null;break}}this.$8(this.$1la)}}},$GX:function(){this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4e,this.$$d_$1UN);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$1UN:function(n){this.$xP=n.$Y1;this.$8(this.$1la)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel=function(){this.$Ia=[];this.$HA=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.initializeBase(this);this.$xw=!0;this.$xo=!0};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.$3Ce=function(n){var u,t,e,v,y,i,r,b;if(n.lastButtonClicked==="add_id"){u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1TN();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AS();var f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem)),k=n.records,c=Xrm.Page.getAttribute(k),l={};if(n.isInlineOrAssociateFormLookup){if(t=n.context,!$0.$1(t)){e=new Microsoft.Crm.Client.Core.ViewModels.$M(t,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AssociateRecordsForInteractionCentric",null));t.$Qx=!1;for(var a=u,d=a.length,o=0;o<d;++o)v=a[o],y=v.get_ModelContext().get_$57(),t.$Io=y,$0.$1(t.$Io)||$0.$1(e)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(e.$4Z())}}else{if(n.isMultiSelect&&(i=c.getValue(),!$0.$1(i)))for(r=0;r<i.length;r++)f.add(i[r]),$0.$1(i[r].id)||(l[i[r].id.toLowerCase()]=!0);for(var p=u,g=p.length,s=0;s<g;++s){var w=p[s],h=w.get_ModelContext().get_$57(),nt="{"+h.get_$57().toLowerCase()+"}";$0.$1(l[nt])&&(b=new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(h.get_$Eb(),h.get_$57(),w.get_ModelContext().get_$Qt().Name.toString()),f.add(b))}Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$12h=!1;c.setValue(f.toArray())}}else Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AS();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Vt(!1)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.prototype={$1M0:null,get_LookupForField:function(){return this.$1M0},set_LookupForField:function(n){return this.$1M0=n,n},$GA:!1,get_IsMultiSelect:function(){return this.$GA},set_IsMultiSelect:function(n){return this.$GA=n,n},get_InteractionCentricLookupMaxCount:function(){return 10},get_RecordsCountText:function(){return this.$1R.get_Count()<10?this.$1R.get_Count()===1?this.$1R.get_Count().toString()+" "+Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Dialog_ChangeParent_Type_Record"):this.$1R.get_Count().toString()+" "+Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Tools.FormEditor.Dialogs.subgrid.aspx.RecordsLabel"):"10+ "+Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.Tools.FormEditor.Dialogs.subgrid.aspx.RecordsLabel")},get_MoreThanOneMatchText:function(){return this.get_$AN().get_shouldAutoResolve()&&!this.$2D&&this.$Ia.length>1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("LookupAmbiguousTooltip"):null},$1gX:null,get_$AN:function(){return this.$1gX},set_$AN:function(n){return this.$1gX=n,n},$D4:null,get_EntitiesMetadataViewModel:function(){return this.$D4},set_EntitiesMetadataViewModel:function(n){return this.$D4=n,n},$xo:!1,get_HideLookupMoreRecords:function(){return this.$xo},set_HideLookupMoreRecords:function(n){return this.$xo=n,n},$18B:!1,get_IsInlineOrAssociateFormLookup:function(){return this.$18B},set_IsInlineOrAssociateFormLookup:function(n){return this.$18B=n,n},$Qc:!1,$Wp:null,get_$V:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V()},$c3:null,get_ParentLookupViewModel:function(){return this.$c3},set_ParentLookupViewModel:function(n){return this.$c3=n,n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$9C.prototype.$18.call(this);this.$kJ=!1;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AS()},$1uC:function(n){var r,i,t;if(this.$Gt==="single")this.$Ia=n;else if(this.$Gt==="multi"){if(this.$HA.add(this.$J),this.$Ia.length)for(r=this.$Ia.length,i=0;i<=n.length-1&&this.$Ia.length<=this.get_PageSize();r++,i++)this.$Ia[r]=n[i];else this.$Ia=n;if(this.$D4){if(this.$Ia.length<this.get_PageSize())for(t=0;t<this.$D4.$6u.get_Count();t++)if(!this.$HA.contains(this.$D4.$6u.get_$I(t).get_$1n())){this.$D4.set_SelectedItem(t.toString());break}}else this.$D4||this.$HA.clear()}this.get_$AN().get_shouldAutoResolve()&&!this.$2D&&this.$3SQ(this.$Ia.length)},$3SQ:function(n){var t=this.get_$AN(),i,r;t.$18F=!1;n===1?(t.$1XK(this.$Ia[0]),t.$18F=!0):(i=n?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("LookupAmbiguousTooltip"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InlineEditControls.InlineLookup.NoRecords"),r=n?"Error_ISHLookupAutoResolve_MoreThanOneRecords":"Error_ISHLookupAutoResolve_ZeroRecords",t.$2o4(i,r));t.$y0=!0},AddUnresolvedEmail:function(){if(this.get_$AN()&&this.get_$AN().get_$F1()&&this.get_$AN().$1tK(this.get_$AN().get_$F1().trim())){var n=this.get_$AN().get_$F1().trim(),i={addressused:n},r=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,i,{addressused:14},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));this.$3Ai(this.get_$AN().get_Data(),n)||(t.$4P.add("addressused"),this.get_$AN().$2dX(t))}},$3Ai:function(n,t){for(var f,r,u=n.get_entities(),e=u.length,i=0;i<e;++i)if(f=u[i],r=f.getValue("addressused"),r&&r.toString()===t)return!0;return!1},$5O:function(n){if(n.$z===-2147220960&&this.$Gt!=="single"&&this.$D4){this.$HA.add(this.$J);for(var t=0;t<this.$D4.$6u.get_Count();t++)if(!this.$HA.contains(this.$D4.$6u.get_$I(t).get_$1n())){this.$D4.set_SelectedItem(t.toString());return}this.$Qc&&this.$8("NewItemDescriptorAndModel");this.set_IsLoading(!1);this.set_HasMoreRecords(!1);this.$Qc=!1;this.$8("RecordCount")}else Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$5O.call(this,n)},$4e:function(n){var r,i,t;if($0.$1(this.$Dx))this.$Wp=n;else{if(r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("StopMarkerForLookupSearch",1,null),this.$Gt!=="single"){this.$3Bf(n);return}for(this.$2u.get_$B5().$79(),this.$Mc=0,i=n.get_$Bt().$22N(),t=0;t<i.length;t++)this.$Mc<this.get_PageSize()?(this.$Mc++,this.$1i6(i[t])):n.get_$Bt().$DR(i[t]);this.$Qc&&this.$8("NewItemDescriptorAndModel");this.set_IsLoading(!1);this.set_HasMoreRecords(!n.get_$WG());this.$Qc=!1;this.$8("RecordCount")}},openLookupDialog:function(){var u=new Xrm.DialogOptions,n,i,r,t;if(u.width=485,n={},n.isMultiSelect=this.$GA,n.records=this.$1M0,n.disableQuickFind=this.get_$AN().$jV,n.disableViewPicker=this.get_$AN().$bn,n.relationshipfiltercondition=this.get_$AN().get_$1aX(),n.allowfilteroff=this.get_$AN().$19e,n.filterreferencingattributename=this.get_$AN().$10o,this.$Gt==="single")n.optionset=this.$J,n.lookupStyle="single",n.selectedViewIds=this.get_$AN().$cE,n.DefaultViewId=this.get_$AN().$IB;else if(this.$Gt==="multi"){for(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),t=0;t<this.$D4.$6u.get_Count();t++)Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$D4.$6u.get_$I(t).get_$1n(),1)&&(i.add(this.$D4.$6u.get_$I(t).get_$1n()),r.add(this.$D4.$6u.get_$I(t).get_$9t()));if(!i.get_Count()){Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(this.get_$7I().$2IC(-2147220960),this.get_$7I().$5M(-2147220960));return}n.logicalNames=i;n.displayNames=r;n.lookupStyle="multi"}Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Vt(!0);this.$18B&&(n.context=this.$2,n.isMultiSelect=!0);n.isInlineOrAssociateFormLookup=this.$18B;Xrm.Dialog.openDialog("Lookup",u,n,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.$3Ce,null)},screenReaderTextForInteractionCentricLookupList:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionCentricLookupListCount_ScreenReader_Label"),n)},$3Bf:function(n){var i,t;for(this.$Mc||this.$2u.get_$B5().$79(),i=n.get_$Bt().$22N(),t=0;t<i.length;t++)this.$Mc<this.get_PageSize()?(this.$Mc++,this.$1i6(i[t])):n.get_$Bt().$DR(i[t]);this.$Qc&&this.$8("NewItemDescriptorAndModel");(this.$HA.get_Count()===this.$D4.$6u.get_Count()-1||this.$Mc>=10)&&this.set_IsLoading(!1);this.set_HasMoreRecords(!n.get_$WG());this.$Qc=!1;this.$8("RecordCount")},$1u9:function(){$0.$1(this.get_$AN())||this.get_$AN().get_shouldAutoResolve()?$0.$1(this.$FQ)||$0.$1(this.$J)?this.set_IsLoading(!1):(this.$Gt==="multi"&&this.$HA&&(!this.$HA.get_Count()||this.$HA.get_Count()===this.$D4.$6u.get_Count())&&(this.$HA.get_Count()===this.$D4.$6u.get_Count()&&this.$HA.clear(),this.$Ia.length=0,$0.$1(this.$2u)||this.$2u.get_$B5().$79()),Microsoft.Crm.Client.Core.ViewModels.$9C.prototype.$1u9.call(this)):(this.$Gt==="multi"&&this.$HA&&(!this.$HA.get_Count()||this.$HA.get_Count()===this.$D4.$6u.get_Count())&&($0.$1(this.$FQ)||$0.$1(this.$J)||(this.$HA.get_Count()===this.$D4.$6u.get_Count()&&this.$HA.clear(),this.$Ia.length=0,$0.$1(this.$2u)||this.$2u.get_$B5().$79())),Microsoft.Crm.Client.Core.ViewModels.$9C.prototype.$1u9.call(this))},$1wX:function(){this.get_CurrentItemIndex()>=0&&this.get_$AN().$1XK(this.$Ia[this.get_CurrentItemIndex()])},$32C:function(n){this.$Dx=n;this.set_ListItemViewDescriptor(Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(this.$Dx));this.$Qc=!0;$0.$1(this.$Wp)||(this.$4e(this.$Wp),this.$Wp.dispose(),this.$Wp=null)},$GX:function(){$0.$1(this.get_$AN())||this.set_$AN(null);$0.$1(this.$D4)||(this.$D4.dispose(),this.$D4=null);this.$c3=null;this.$HA=null;this.$Ia=null;Microsoft.Crm.Client.Core.ViewModels.$9C.prototype.$GX.call(this)},ShowNewButtonOnlyIfInteractionCentricEnabled:function(){var n,t;if(!$0.$1(this.$c3)&&!$0.$1(this.$c3.$9h)&&!$0.$1(this.$c3.$9h.$29)){if(!$0.$1(this.get_$AN())&&!$0.$1(this.get_$AN().$18A)&&this.get_$AN().$18A)return!1;if(n=this.$c3.$9h.$29.$J,!$0.$1(n)&&(t=this.get_$V().$l(n),!$0.$1(t)))return t.$Du}return!0},IsVisibleInMobileClientOrICEnabled:function(){var t=this.$J,n=this.get_$V().$l(t);return $0.$1(n)?!1:n.$Oj||n.$Du},SetPageSizeAndHideMoreRecords:function(){this.$2.$o!==12&&this.$2.$o!==37&&this.IsVisibleInMobileClientOrICEnabled()?(this.set_PageSize(10),this.$xo=!1):(this.set_PageSize(2147483647),this.$xo=!0)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1NK=function(n){var i={partyid:n},r=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,i,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return t.$4P.add("partyid"),t};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1hs=function(n){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1NK(n)],!1,1,!1)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.prototype={$Qu:!1,$1cl:!1,$12j:!1,$9i:"multi",$12W:!0,get_$Kd:function(){var n,t;return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())&&this.$9i==="single"&&(n=this.get_Data(),!$0.$1(n)&&n.get_count()>0&&(t=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$me(n.get_$I(0)),Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(t)))?t:null},set_$Kd:function(n){return n!==this.get_$Kd()&&this.set_Data($0.$1(n)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty():Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1hs(n)),n},get_IsMultiSourceLookup:function(){return this.$12W},set_IsMultiSourceLookup:function(n){return this.$12W=n,n},get_NavigationEnabled:function(){return this.$Qu},set_NavigationEnabled:function(n){return this.$Qu=n,n},get_ShouldAutoResolveEmail:function(){return this.$1cl},set_ShouldAutoResolveEmail:function(n){return this.$1cl=n,n},get_LookupStyle:function(){return this.$9i},set_LookupStyle:function(n){return this.$9i=n,n},showOrHideResultsList:function(){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2&&($0.$1(this.$Ef)||$0.$1(this.$De)||(this.$Ef.$5W.get_Count()<=0?this.$RO(!0):this.$RO(!1)))},$1XK:function(n){this.$9i==="multi"?($0.$1(n)||this.$Ef.$V4(n),this.get_interactionCentricLookupAutoResolve()||this.$RO(!1)):Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$1XK.call(this,n);this.get_interactionCentricLookupAutoResolve()&&(this.$1jo(),this.clearError(),this.get_shouldAutoResolve()&&this.$De.get_RecordCount()===1&&(this.$RO(!1),this.set_HasFocus(!1)))},$RO:function(n){(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2||this.get_shouldAutoResolve()&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===3)&&($0.$1(this.$Ef)||$0.$1(this.$De)||(this.$Ef.set_HidePartyList(n),this.$De.set_HideLookupResultsList(!n)))},updateInputValue:function(){this.get_interactionCentricLookupAutoResolve()&&!$0.$1(this.$6U)&&this.$6U.set_Value(this.$y4);this.$9i==="single"&&Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.updateInputValue.call(this)},$1vt:function(n,t){this.$9i==="multi"?(this.$De.set_SearchValue($0.$1(this.get_$F1())?"":this.get_$F1()),this.$RO(!0)):Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1vt.call(this,n,t)},$1vX:function(n,t){this.$9i==="single"&&Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1vX.call(this,n,t)},$Os:function(n,t){this.$9i==="multi"?this.$1H7():Microsoft.Crm.Client.Core.ViewModels.$E3.prototype.$Os.call(this,n,t);this.$12j&&this.$RO(!0);this.$12j=!0},$2QO:function(n){this.$Qx=!0;$0.$1(this.get_ModelContext())?this.$1XK(n.$CO):(this.get_ModelContext().$1cX(),this.$1XK(n.$CO),this.get_ModelContext().$1aa());this.$Qx=!1;this.$1Ow()},$2fs:function(n){Microsoft.Crm.Client.Core.ViewModels.$E3.prototype.buildChildViewModelDescriptors.call(this,n)},buildChildViewModelDescriptors:function(n){var t,i;this.$GA=this.$9i==="single"?!1:!0;Microsoft.Crm.Client.Core.ViewModels.$E3.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$1(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i={input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0)],t)};this.$9i==="multi"&&(i.partylist=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("InteractionCentricPartyListViewModel","InteractionCentricPartyList","partyList",this.$H0,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("NavigationEnabled",this.$Qu)],null,null));this.$r3(i)},$2dX:function(n){this.$9i==="multi"&&($0.$1(n)||this.$Ef.$2dW(n),this.$1jo(),this.$RO(!1))},$1vs:function(n,t){this.get_HasFocus()||this.$9i!=="multi"?this.$9i==="single"&&Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$1vs.call(this,n,t):this.$1cl&&!$0.$1(this.$Dr)&&this.$De.AddUnresolvedEmail()},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$E3.prototype.$8V.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.isInstanceOfType(t)&&(this.$Ef=t,this.$Ef.$U3=this)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$Or)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.prototype={$U3:null,$GX:function(){this.RemovePropertyChangedListener("Data",this.$$d_$Or);this.$U3=null;Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.prototype.$GX.call(this)},$3Hv:function(n){if(n.$YJ){var t=new Microsoft.Crm.Client.Core.Commands.$33(n,40);t.$1B={EntityReference:n.$WL};t.$1V=null;t.$J=n.$WL.get_$Eb();t.execute();t.dispose()}}};Microsoft.Crm.Client.Core.ViewModels.$Uu=function(){Microsoft.Crm.Client.Core.ViewModels.$Uu.initializeBase(this);this.set_StartIndex(1e3)};Microsoft.Crm.Client.Core.ViewModels.$Uu.prototype={$9a:null,get_DataList:function(){return this.$9a},set_DataList:function(n){return this.$9a=n,n},$Gq:null,get_Data:function(){return this.$Gq},set_Data:function(n){return this.$Gq=n,n},$jS:null,get_DataNames:function(){return this.$jS},set_DataNames:function(n){return this.$jS=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$9a={},this.$jS={},this.set_ItemIDs(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))),this.$jk=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.getData())},$jk:null,get_ItemNames:function(){return this.$jk},set_ItemNames:function(n){return this.$jk=n,n},$2Ia:function(){return null},$323:function(){return null},$1gO:null,get_ItemIDs:function(){return this.$1gO},set_ItemIDs:function(n){return this.$1gO=n,n},$1cS:function(){var s=this.$Gq,r,f,n,e,t,i,o;for(r in s){var h={key:r,value:s[r]},u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),c=h.value;for(f in c)n={key:f,value:c[f]},e=this.$9a[n.key],($0.$1(e)||$0.$1(e.$29))&&(this.$9a[n.key]=n.value,t=!1,Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(n.value)?(i=n.value,!$0.$1(i.$T)&&"MetadataSubType"in i.$T?(o=i.$T.MetadataSubType,t=!$0.$1(o)&&o!==3):t=!0):t=!0,t&&(this.get_ItemIDs().add(this.$323(n.value)),this.$jk.add(this.$2Ia(n.value)),u.add(this.$2Ia(n.value))));u.get_Count()>0&&(this.$jS[h.key]=u)}},$J4:null,get_SelectedItemID:function(){return this.$J4},set_SelectedItemID:function(n){return this.$J4=n,n},$px:null,get_ChildSelectedItemID:function(){return this.$px},set_ChildSelectedItemID:function(n){return this.$px=n,n},SelectedItemName:function(){return null},getData:function(){},ItemSelected:function(){},add_$1GK:function(n){this.$2I("OnItemSelected",n)},remove_$1GK:function(n){this.$4N("OnItemSelected",n)},$Cg:function(n){var t=this.$5j(n);$0.$1(t)||t(this,new Sys.EventArgs)},$GX:function(){var f=this.$9a,n,t,i,r,e,u;for(n in f)t={key:n,value:f[n]},Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(t.value)&&t.value.dispose();if(this.$9a=null,!$0.$1(this.$jS)){i=this.$jS;for(r in i)e={key:r,value:i[r]},u=e.value,u.clear(),u=null;this.$jS=null}$0.$1(this.get_ItemIDs())||(this.get_ItemIDs().clear(),this.set_ItemIDs(null));$0.$1(this.$jk)||(this.$jk.clear(),this.$jk=null);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$E6=function(){Microsoft.Crm.Client.Core.ViewModels.$E6.initializeBase(this);this.$xQ="InteractionWallDateRangeFilter"};Microsoft.Crm.Client.Core.ViewModels.$E6.prototype={$BG:null,get_ParentViewModel:function(){return this.$BG},set_ParentViewModel:function(n){return this.$BG=n,n},$GX:function(){this.$BG=null;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$D5.prototype.SetDates.call(this,n,t);this.$3Ss();this.$BG.$2x="DateRangeFilterApplied";this.$BG.refreshData();this.$BG.$2x=""},$34x:function(){var n={};return this.$by?n.IsStartDateNull="true":(n.StartDate=this.$iP.toUTCString(),n.StartDateString=this.get_StartDateText()),this.$bw?n.IsEndDateNull="true":(n.EndDate=this.$eN.toUTCString(),n.EndDateString=this.get_EndDateText()),n},$3Ss:function(){var t=this.$34x(),n;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("InteractionWallDateRangeApplied",0,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SetFilterExpression",2002,t,"DateRangeFilterApplied");n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"InteractionWall.DateRangeFilterExpression");this.$by||this.$bw||n.$9r("modifiedon","on-or-after",this.$iP.format("s")).$9r("modifiedon","on-or-before",this.$eN.format("s"));this.$BG.$Xi=n}};Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.prototype={$1Bs:null,get_EntityLogicalName:function(){return this.$1Bs},get_EntityDisplayName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$87.$BD).$1S},get_$3Nz:function(){return this.$87.$cA},get_$21W:function(){return this.$87.$yQ},$17k:null,get_EntityId:function(){return this.$17k},set_EntityId:function(n){return this.$17k=n,n},get_ActivityType:function(){return this.$87.$NT},get_State:function(){return this.$87.$Xy},get_Priority:function(){return this.$87.$qm},get_ResultDirection:function(){return this.$87.$yJ},get_Subject:function(){return this.$87.$4r},get_CreatedBy:function(){return this.$87.$xL},get_Description:function(){return this.$87.$Rp},$bs:null,get_ImageViewModel:function(){return this.$bs},set_ImageViewModel:function(n){return this.$bs=n,n},get_TimeStamp:function(){var n=this.$87.$Y5,i=n.localeFormat("d")+" "+n.localeFormat("T"),r=Microsoft.Crm.Client.Core.Framework.$1X.get_$1vG(),u=new Microsoft.Crm.Client.Core.Framework.$1X(n.getFullYear(),n.getMonth(),n.getDate()),f=new Microsoft.Crm.Client.Core.Framework.$Nr(u,r),t=f.get_$3Vq();return t<=1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("LabelForToday"):t>1&&t<=2?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("LabelForYesterday"):i},get_StartDate:function(){var n=this.$87.$1Mq,t=null;return n&&(t=n.localeFormat("d")+" "+n.localeFormat("t")),t},get_EndDate:function(){var n=this.$87.$1LC,t=null;return n&&(t=n.localeFormat("d")+" "+n.localeFormat("t")),t},get_AttachedFiles:function(){return this.$87.$1Kn},get_IsInteractionCentricEnabled:function(){return this.$87.$jf},get_TargetEntityString:function(){return this.$87.$24G},get_TargetEntityLogicalName:function(){return this.$87.$24F},get_IsTargetEntityInteractionCentricEnabled:function(){return this.$87.$244},get_StringPartWallForPost:function(){return this.$87.$1gj},$87:null,get_ResultItem:function(){return this.$87},set_ResultItem:function(n){return this.$87=n,n},$BG:null,get_ParentViewModel:function(){return this.$BG},set_ParentViewModel:function(n){return this.$BG=n,n},$GB:null,get_QuickActionViewModel:function(){return this.$GB},set_QuickActionViewModel:function(n){return this.$GB=n,n},$2x:null,$18:function(){Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$18.call(this);this.$bs=new Microsoft.Crm.Client.Core.ViewModels.$80;this.$87.$jc?this.$bs.set_Data(this.$87.$jc):this.$bs.set_Data("/_imgs/NavBar/EmptyUserImage.png");var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QuickActionViewModel","QuickActionInteractionWall","QuickActionInteractionWall"+this.$87.$cA,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TargetViewModelContext",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Entity",this.$87.$BD),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context","grid"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context",this.$87.$BD==="email"?"form":"grid")],null,null);this.$GB=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,this.get_ModelContext(),this.$3V,this.$2);this.$GB.$2d2(this.$87.$cA,this.$87.$BD)},$GX:function(){$0.$1(this.$bs)||(this.$bs.dispose(),this.$bs=null);$0.$1(this.$GB)||(this.$GB.dispose(),this.$GB=null);this.$BG=null;this.$87=null;Microsoft.Crm.Client.Core.ViewModels.$5M.prototype.$GX.call(this)},navigateToUserRecord:function(){this.$2x="SystemUserNavigation";this.$1Xu("systemuser",this.$87.$y6);this.$2x=""},navigateToTargetEntityItemRecord:function(n,t){(this.$2x="SystemPostLinkedEntityNavigation",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("NavigateToTargetEntityItemRecord",2003,{RecordObjectTypeCode:n,EntityId:n},this.$2x),this.$3Sp(n),this.$17k=t,Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1Bs))||(this.$1Xu(this.$1Bs,new Microsoft.Crm.Client.Core.Framework.Guid(this.$17k)),this.$2x="")},navigateToItemRecord:function(){this.$2x="RecordNavigation";Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("NavigateToItemRecord",2003,{RecordObjectTypeCode:Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.toString(this.$87.$NT),EntityId:this.$87.$cA},this.$2x);var n=this.getEntityLogicalName();Microsoft.Crm.Client.Core.Framework.$3.$9(n)||(this.$1Xu(n,this.$87.$cA),this.$2x="")},screenReaderTextForInteractionWallItem:function(n,t,i){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionWallItem_ScreenReader_Label"),n,t,i)},getEntityLogicalName:function(){switch(this.$87.$NT){case 0:case 1:case 2:case 3:case 5:case 8:case 9:case 6:case 10:case 11:return this.$87.$BD;default:return""}},$1Xu:function(n,t){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("NavigateToTargetEntityItemRecord",2003,{RecordLogicalName:n,EntityId:t.toString()},this.$2x);var r=new Xrm.Objects.EntityReference(n,t),u={EntityReference:r},i=new Microsoft.Crm.Client.Core.Commands.$33(null,40);try{i.$J=n;i.$1B=u;i.execute();this.$BG.$jg=!0}finally{i.dispose()}},IsEntityInteractionCentricEnabled:function(n){return this.$2IW().contains(n)},$2IW:function(){for(var t,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$OW(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=0;n<i.length;n++)t=i[n],t.$Du&&r.add(t.$7u.toString());return r},$3Sp:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$Bq(n);this.$1Bs=t.$d},getResultId:function(){return this.$87.$cA.toString()}};Microsoft.Crm.Client.Core.ViewModels.$Li=function(){this.$1Ia=0};Microsoft.Crm.Client.Core.ViewModels.$Li.prototype={$1Ia:0,get_$1tS:function(){return this.$1Ia>0},$1KT:function(){this.$1Ia++},$2YD:function(){this.get_$1tS()&&this.$1Ia--}};Microsoft.Crm.Client.Core.ViewModels.$Ug=function(){Microsoft.Crm.Client.Core.ViewModels.$Ug.resolveInheritance();this.$6D=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$Ug.initializeBase(this);this.$lx=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$Ug.prototype={$Kg:null,$lx:null,$1bB:function(n,t,i,r,u,f,e){var s,c,h,o,l;return this.$Kg=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$95,Microsoft.Crm.Client.Core.Framework.$4),s=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,"activitypointer"),Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(c=["subject","description"],s=Microsoft.Crm.Client.Core.ViewModels.$6F.$29r("activitypointer",c,u.replace("*","%"))),h=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"activitypointer"),h.$9r("activitytypecode","in",this.$31v()),o=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"activitypointer"),o.$6b(h),o.$6b(Microsoft.Crm.Client.Core.ViewModels.$6F.$29n("activitypointer",0,"regardingobjectid",t)),o.$6b(s),o.$6b(f),this.set_DefinitionId(this.get_ViewModelId()),this.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s('<fetch mapping="logical"><entity name="activitypointer"><attribute name="activityid" /><attribute name="activitytypecode" /><attribute name="subject" /><attribute name="prioritycode" /><attribute name="description" /><attribute name="scheduledstart" /><attribute name="scheduledend" /><attribute name="createdby" /><attribute name="modifiedby" /><attribute name="modifiedon" /><attribute name="statecode" /><attribute name="statuscode" /><order attribute="modifiedon" descending="true" />'+o.$7J()+'<link-entity name="phonecall" from="activityid" to="activityid" alias="phonecalljoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><link-entity name="socialactivity" from="activityid" to="activityid" alias="socialactivityjoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><link-entity name="email" from="activityid" to="activityid" alias="emailjoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><\/entity><\/fetch>'),this.$1s.$FP(),this.$1s.$32=i,this.$1s.$BT=r,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveData",2004,{FetchXml:this.$2W.$6d.get_$I(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$r.toString(1)).Data,PageSize:i,PageNumber:r},"DataLoad"),!$0.$1(e)&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(e)&&this.set_$4K(e),l=this.$lx.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(l),this.$Kg},$4e:function(n){var s,r,i,l,o;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("LoadDataSuccess",2004,{ModelCount:n.get_$Bt().get_Count()},"DataLoad");s=n.get_$Bt().$22N();r=new Microsoft.Crm.Client.Core.ViewModels.$95;for(var h=s,a=h.length,e=0;e<a;++e){i=h[e];Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C("LoadDataSuccess",2004,i.$M.getObjectData(),"DataLoad");var v=i.GetValue("activityid"),c=i.GetValue("description"),u=-1,f=-1,t=new Microsoft.Crm.Client.Core.ViewModels.$Lk(v);t.$BD=i.$M.$3F.LogicalName;t.$4r=i.GetValue("subject");t.$Rp=Microsoft.Crm.Client.Core.Framework.$3.$9(c)?"":c;switch(t.$BD.toLowerCase()){case"appointment":t.$NT=2;f=i.GetValue("prioritycode").$1i;t.$1Mq=Microsoft.Crm.Client.Core.Framework.$3.$9(i.GetValue("scheduledstart"))?new Date:Microsoft.Crm.Client.Core.ViewModels.$2B.$1ZD(i.$M.$4Y.scheduledstart);t.$1LC=Microsoft.Crm.Client.Core.Framework.$3.$9(i.GetValue("scheduledend"))?new Date:Microsoft.Crm.Client.Core.ViewModels.$2B.$1ZD(i.$M.$4Y.scheduledend);break;case"email":t.$NT=1;f=i.GetValue("prioritycode").$1i;u=i.GetValue("emailjoin.directioncode").$1i;t.$yQ=i.GetValue("statuscode").$1i.toString();break;case"phonecall":t.$NT=3;u=i.GetValue("phonecalljoin.directioncode").$1i;break;case"socialactivity":t.$NT=8;u=i.GetValue("socialactivityjoin.directioncode").$1i;break;case"task":t.$NT=0;f=i.GetValue("prioritycode").$1i;break;case"incidentresolution":t.$NT=4;break;default:t.$NT=9}l=i.GetValue("statecode").$1i;switch(l){case 0:t.$Xy=0;break;case 1:t.$Xy=1;break;case 2:t.$Xy=2;break;case 3:t.$Xy=3;break;default:t.$Xy=1}switch(u){case 0:t.$yJ=0;break;case 1:t.$yJ=1;break;default:t.$yJ=0}switch(f){case 0:t.$qm=2;break;case 1:t.$qm=1;break;case 2:t.$qm=0;break;default:t.$qm=1}t.$Y5=Microsoft.Crm.Client.Core.ViewModels.$2B.$1ZD(i.$M.$4Y.modifiedon);t.$xL=i.GetValue("createdby").Name;o=i.GetValue("modifiedby");t.$1M4=o.Name;t.$y6=o.Id;try{t.$jf=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(i.$M.$EU().activitytypecode).$Du?!0:!1}catch(y){t.$jf=!1}r.$nA(t)}r.$Uo=!n.get_$WG();this.$Kg.resolve(r)},$5O:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("LoadDataFailure",2004,{Error:n.$1C()},"DataLoad");this.$Kg.reject(n)},$31v:function(){for(var n,r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$OW(),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number)),i=0;i<r.length;i++)n=r[i],n.$Du&&n.get_$8p()&&t.add(n.$7u);return t.add(4206),t}};Microsoft.Crm.Client.Core.ViewModels.$6F=function(){};Microsoft.Crm.Client.Core.ViewModels.$6F.$29r=function(n,t,i){var r=null,e;r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,n);for(var f=t,o=f.length,u=0;u<o;++u)e=f[u],r.$9r(e.toString(),"like","%"+i+"%");return r};Microsoft.Crm.Client.Core.ViewModels.$6F.$29n=function(n,t,i,r){var u=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(t,n);return u.$9r(i,"eq",r),u};Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile.prototype={$jZ:null,get_fileName:function(){return this.$jZ},set_fileName:function(n){return this.$jZ=n,n},$1LJ:null,get_filePath:function(){return this.$1LJ},set_filePath:function(n){return this.$1LJ=n,n},$Ui:0,get_fileSize:function(){return this.$Ui},set_fileSize:function(n){return this.$Ui=n,n},get_fileSizeFormattedString:function(){var n,t;return this.$Ui<1024?this.$Ui.toString()+" bytes":(n=Math.round(this.$Ui/1024),n<1024)?n.toString()+" KB":(t=Math.round(n/1024),t.toString()+" MB")}};Microsoft.Crm.Client.Core.ViewModels.$Lk=function(n){this.$1Kn=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile));this.$cA=n};Microsoft.Crm.Client.Core.ViewModels.$Lk.prototype={$cA:null,$NT:0,$Xy:0,$yQ:null,$qm:0,$yJ:0,$4r:null,$Rp:null,$Y5:null,$xL:null,$jc:null,$1M4:null,$1Mq:null,$1LC:null,$y6:null,$1Kn:null,$BD:null,$jf:!1,$24G:null,$1gj:null,$24F:null,$244:!1,toString:function(){var n="";return n+="ResultId:"+this.$cA.toString()+";",n+="ResultType:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.toString(this.$NT)+";",n+="ResultState:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.toString(this.$Xy)+";",n+="ResultPriority:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.toString(this.$qm)+";",n+="ResultDirection:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.toString(this.$yJ)+";",n+="Title:"+this.$4r+";",n+="TimeStamp:"+this.$Y5.toUTCString()+";",n+="CreatedBy:"+this.$xL+";",n+="ModifiedBy:"+this.$1M4+";",$0.$1(this.$y6)||(n+="ModifiedById:"+this.$y6.toString()+";"),n+="EntityLogicalName:"+this.$BD+";",n+("IsInteractionCentricEnabled:"+this.$jf.toString())}};Microsoft.Crm.Client.Core.ViewModels.$95=function(){this.$hW=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Lk))};Microsoft.Crm.Client.Core.ViewModels.$95.prototype={$hW:null,get_$m:function(){return this.$hW.get_Count()},$Uo:!1,get_$I:function(n){return this.$hW.get_$I(n)},set_$I:function(n,t){return this.$hW.set_$I(n,t),t},$nA:function(n){for(var t=0;this.get_$m()>0&&this.$hW.get_$I(t).$Y5>n.$Y5;)if(t++,t===this.$hW.get_Count())break;this.$hW.insert(t,n)},$38H:function(n){for(var t=0;t<n.get_$m();t++)this.$nA(n.get_$I(t))},$79:function(){this.$hW.clear()}};Microsoft.Crm.Client.Core.ViewModels.$3P=function(){};Microsoft.Crm.Client.Core.ViewModels.$3P.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$3P.$1HO={};Microsoft.Crm.Client.Core.ViewModels.$3P.$3Lo()};Microsoft.Crm.Client.Core.ViewModels.$3P.$3Lo=function(){Microsoft.Crm.Client.Core.ViewModels.$3P.$1yJ("InteractionWallSource_Note",function(){return new Microsoft.Crm.Client.Core.ViewModels.$Uf});Microsoft.Crm.Client.Core.ViewModels.$3P.$1yJ("InteractionWallSource_Post",function(){return new Microsoft.Crm.Client.Core.ViewModels.$2i});Microsoft.Crm.Client.Core.ViewModels.$3P.$1yJ("InteractionWallSource_Activity",function(){return new Microsoft.Crm.Client.Core.ViewModels.$Ug})};Microsoft.Crm.Client.Core.ViewModels.$3P.$1yJ=function(n,t){n in Microsoft.Crm.Client.Core.ViewModels.$3P.$1HO||(Microsoft.Crm.Client.Core.ViewModels.$3P.$1HO[n]=t)};Microsoft.Crm.Client.Core.ViewModels.$3P.$3P9=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$3P.$1HO[n];return t()};Microsoft.Crm.Client.Core.ViewModels.$Uf=function(){Microsoft.Crm.Client.Core.ViewModels.$Uf.resolveInheritance();this.$6D=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$Uf.initializeBase(this);this.$lx=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$Uf.prototype={$Kg:null,$lx:null,$1bB:function(n,t,i,r,u,f,e){var s,h,o,c;return this.$Kg=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$95,Microsoft.Crm.Client.Core.Framework.$4),s=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,"activitypointer"),Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(h=["subject","notetext"],s=Microsoft.Crm.Client.Core.ViewModels.$6F.$29r("annotation",h,u.replace("*","%"))),o=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"annotation"),o.$6b(Microsoft.Crm.Client.Core.ViewModels.$6F.$29n("annotation",0,"objectid",t)),o.$6b(s),o.$6b(f),this.set_DefinitionId(this.get_ViewModelId()),this.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s('<fetch mapping="logical"><entity name="annotation"><attribute name="annotationid" /><attribute name="subject" /><attribute name="notetext" /><attribute name="filename" /><attribute name="filesize" /><attribute name="isdocument" /><attribute name="createdby" /><attribute name="modifiedby" /><attribute name="modifiedon" /><order attribute="modifiedon" descending="true" /><link-entity name="systemuser" from="systemuserid" to="createdby" alias="userimagejoin"><attribute name="entityimage_url" /><\/link-entity>'+o.$7J()+"<\/entity><\/fetch>"),this.$1s.$FP(),this.$1s.$32=i,this.$1s.$BT=r,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveData",2005,{FetchXml:this.$2W.$6d.get_$I(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$r.toString(1)).Data,PageSize:i,PageNumber:r},"DataLoad"),!$0.$1(e)&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(e)&&this.set_$4K(e),c=this.$lx.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(c),this.$Kg},$4e:function(n){var o,u,t,e,r;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("LoadDataSuccess",2005,{ModelCount:n.get_$Bt().get_Count()},"DataLoad");o=n.get_$Bt().$22N();u=new Microsoft.Crm.Client.Core.ViewModels.$95;for(var s=o,c=s.length,f=0;f<c;++f){t=s[f];Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C("LoadDataSuccess",2005,t.$M.getObjectData(),"DataLoad");var h=t.GetValue("annotationid"),l=t.GetValue("subject"),a=t.GetValue("notetext"),i=new Microsoft.Crm.Client.Core.ViewModels.$Lk(h);i.$BD=t.$M.$3F.LogicalName;i.$NT=5;i.$Xy=1;i.$4r=l;i.$Rp=a;i.$Y5=Microsoft.Crm.Client.Core.ViewModels.$2B.$1ZD(t.$M.$4Y.modifiedon);i.$xL=t.GetValue("createdby").Name;i.$jc=t.GetValue("userimagejoin.entityimage_url");e=t.GetValue("modifiedby");i.$1M4=e.Name;i.$y6=e.Id;i.$jf=!1;t.GetValue("isdocument").$1i===1&&(r=new Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile,r.$jZ=t.GetValue("filename"),r.$Ui=Number.parseLocale(t.GetValue("filesize")),r.$1LJ="javascript:window.open('"+(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Q.usepathbasedurls?"/"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$uy():"")+"/nga/engagementhubdownload.aspx?AttachmentType=5&IsNotesTabAttachment=1&AttachmentId="+h+"');void(0);",i.$1Kn.add(r));u.$nA(i)}u.$Uo=!n.get_$WG();this.$Kg.resolve(u)},$5O:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("LoadDataFailure",2005,{Error:n.$1C()},"DataLoad");this.$Kg.reject(n)}};Microsoft.Crm.Client.Core.ViewModels.$2i=function(){Microsoft.Crm.Client.Core.ViewModels.$2i.resolveInheritance();this.$6D=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$2i.initializeBase(this);this.$lx=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$2i.prototype={$Lc:null,$Kg:null,$lx:null,$2pm:function(n,t,i){var r=n.get_$5S();r.get_Items()[0].get_$23()?(t.val=new Date(r.get_Items()[0].get_$23().get_Items()[0].get_$2O().toString()),i.val=new Date(r.get_Items()[0].get_$23().get_Items()[1].get_$2O().toString())):(t.val=new Date("0001-01-01T00:00:00Z"),i.val=new Date("3000-12-31T23:59:59Z"))},$1bB:function(n,t,i,r,u,f){var e,o,v,a;this.$Kg=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$95,Microsoft.Crm.Client.Core.Framework.$4);this.$Lc=u;var s,h,c,l;return this.$2pm(f,c={val:s},l={val:h}),s=c.val,h=l.val,e={},e["entityReference"]=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),e["pageSize"]=i,e["pageNumber"]=r,e["commentsPerPost"]=2,e["startDate"]=s,e["endDate"]=h,e["type"]=1,e["source"]=1,$0.$1(Microsoft.Crm.Client.Core.ViewModels.$2i.$tc)&&(Microsoft.Crm.Client.Core.ViewModels.$2i.$tc={}),Microsoft.Crm.Client.Core.ViewModels.$2i.$mx.toString()in Microsoft.Crm.Client.Core.ViewModels.$2i.$tc||(Microsoft.Crm.Client.Core.ViewModels.$2i.$tc[Microsoft.Crm.Client.Core.ViewModels.$2i.$mx.toString()]=this,Microsoft.Crm.Client.Core.ViewModels.$2i.$mx++),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveData",2006,e,"DataLoad"),o=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveRecordWallRequest",e),v=this,o.OnSuccess=function(n){Microsoft.Crm.Client.Core.ViewModels.$2i.$mx--;Microsoft.Crm.Client.Core.ViewModels.$2i.$mx<0;Microsoft.Crm.Client.Core.ViewModels.$2i.$tc[Microsoft.Crm.Client.Core.ViewModels.$2i.$mx.toString()].$Fw(n);delete Microsoft.Crm.Client.Core.ViewModels.$2i.$tc[Microsoft.Crm.Client.Core.ViewModels.$2i.$mx.toString()]},a=this,o.OnFailure=function(n){a.$9B(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,o),this.$Kg},$Fw:function(n){var u,i;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveSuccess",2006,{ModelCount:n.entityCollection.get_count()},"DataLoad");for(var e=new Microsoft.Crm.Client.Core.ViewModels.$95,o=!0,l=n.entityCollection,a=l.get_entities(),s=a,v=s.length,r=0;r<v;++r)if(u=s[r],Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C("LoadDataSuccess",2005,u.getObjectData(),"DataLoad"),i=u.fields,"text"in i){var h=i.text,f=i.regardingobjectid,y=f.Id,t=new Microsoft.Crm.Client.Core.ViewModels.$Lk(y);t.$BD=Xrm.Internal.getEntityName(i.regardingobjectid.TypeCode);t.$4r=f.Name;t.$Rp=h;t.$1gj=Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_InteractionWallEvent_OnWallPost"),"`~<"+t.$4r+">~`");t.$Y5=new Date(Date.parse(i.modifiedon));t.$xL=i.createdby.Name;t.$jc=i["userimagejoin.entityimage_url"];t.$NT=i.source.$1i===1?6:7;t.$Xy=1;o=this.$12M(f.TypeCode.toString());t.$jf=o;var p=this.$3IZ(h),w=Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_InteractionWallEvent_OnWallPost"),t.$4r),c=!0;this.$Lc&&(c=t.$4r.toLowerCase().indexOf(this.$Lc.toLowerCase())!==-1||p.toLowerCase().indexOf(this.$Lc.toLowerCase())!==-1||w.toLowerCase().indexOf(this.$Lc.toLowerCase())!==-1);c&&e.$nA(t)}this.$Kg.resolve(e)},$3IZ:function(n){var t,e,o;if(!n)return null;var u=new RegExp('\\@\\[[0-9]*,[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12},".+?"\\]',"g"),f=n.split(u),i=n.match(u),r="";for(r=f[0],t=0;t<i.length;t++)i[t]=i[t].substring(2,i[t].length-2),e=i[t].split(new RegExp(",")),o=e[2].replace(new RegExp('"',"g"),""),r+=o,r+=f[t+1];return r},$9B:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("RetrieveFailure",2006,{Error:n.$1C()},"DataLoad");this.$Kg.reject(n)},$12M:function(n){var t=this.$2IW();return t.contains(n)},$2IW:function(){for(var t,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$OW(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=0;n<i.length;n++)t=i[n],t.$Du&&r.add(t.$7u.toString());return r},$5O:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("LoadDataFailure",2006,{Error:n.$1C()},"DataLoad");this.$Kg.reject(n)}};Microsoft.Crm.Client.Core.ViewModels.$82=function(){this.$$d_$1zk=Function.createDelegate(this,this.$1zk);Microsoft.Crm.Client.Core.ViewModels.$82.initializeBase(this);this.$Rx=null};Microsoft.Crm.Client.Core.ViewModels.$82.prototype={$dl:0,$32:0,$Qo:!1,$PC:null,$r1:null,$70:null,$Rx:null,get_InteractionWallEventViewModels:function(){return this.$Rx},set_InteractionWallEventViewModels:function(n){return this.$Rx=n,n},$Uv:null,get_ResultCollection:function(){return this.$Uv},set_ResultCollection:function(n){return this.$Uv=n,n},$17Z:null,get_customerName:function(){return this.$17Z},set_customerName:function(n){return this.$17Z=n,n},$17a:null,get_customerType:function(){return this.$17a},set_customerType:function(n){return this.$17a=n,n},$17Y:null,get_customerId:function(){return this.$17Y},set_customerId:function(n){return this.$17Y=n,n},$2x:null,$18y:null,get_SourceList:function(){return this.$18y},set_SourceList:function(n){return this.$18y=n,n},get_ActiveSource:function(){return this.$r1},set_ActiveSource:function(n){var t=!0;return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$2x)&&(t=!1,this.$2x="SourceFilterPerformed"),this.$r1=n,this.$dl=0,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SetActiveSource",2002,{ActiveSource:n},this.$2x),this.refreshData(),t||(this.$2x=""),n},$6n:null,get_RegardingObject:function(){return this.$6n},set_RegardingObject:function(n){return this.$6n=n,n},$Uo:!1,get_MoreRecords:function(){return this.$Uo},set_MoreRecords:function(n){return this.$Uo=n,n},get_SearchActive:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$70)},$Xi:null,get_FilteredDateExpression:function(){return this.$Xi},set_FilteredDateExpression:function(n){return this.$Xi=n,n},$jT:null,get_DateRangeViewModel:function(){return this.$jT},set_DateRangeViewModel:function(n){return this.$jT=n,n},$qK:!1,get_IsDataLoading:function(){return this.$qK},set_IsDataLoading:function(n){return this.$qK=n,n},$jg:!1,get_IsNavigated:function(){return this.$jg},set_IsNavigated:function(n){return this.$jg=n,n},get_AllText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_InteractionWall_AllText")},SetSearchText:function(n,t){this.$2x="SearchPerformed";this.$70=n;t&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("InteractionWallSearchText",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SetSearchText",2002,{text:n},this.$2x),this.$dl=0,this.refreshData());this.$2x=""},loadMoreResults:function(){this.$2x="LoadMoreResults";var n={};n.oldPageNumber=this.$dl;this.$dl++;n.newPageNumber=this.$dl;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("LoadMoreResults",2002,n,this.$2x);n=null;this.$1bB();this.$2x=""},$18:function(){this.$2x="Initialize";this.$Qo=!1;this.$pY=!0;Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$18.call(this);this.$Rx=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel));this.$jT=this.$2tU();this.$Uv=new Microsoft.Crm.Client.Core.ViewModels.$95;this.$PC=new Microsoft.Crm.Client.Core.ViewModels.$Li;this.$Xi=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"InteractionWall.DateRangeFilterExpression");this.$dl=0;this.$32=10;this.$r1=this.get_AllText();this.$Uo=!1;this.set_HasError(!0);this.$2&&this.$2.get_ModelContext()&&this.$2XY();this.$2.add_$If(this.$$d_$1zk);this.$2x=""},$GX:function(){this.$2x="Dispose";this.$2BB();this.$Rx=null;this.$jT.dispose();this.$Uv.$79();this.$Xi.$79();this.$jT=null;this.$Uv=null;this.$Xi=null;this.$18y=null;this.$PC=null;this.$6n=null;this.$2.remove_$If(this.$$d_$1zk);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$GX.call(this);this.$2x=""},$2BB:function(){var n,t;if(!$0.$1(this.$Rx)){for(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("DisposeDataSources",2002,{EventCount:this.$Rx.get_Count()},this.$2x),n=0;n<this.$Rx.get_Count();++n)t=this.$Rx.get_$I(n),t.dispose();this.$Rx.clear()}},$1zk:function(){this.$2x="FormRootModelLoad";Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RootOnLoadModelCompleted",2002,null,this.$2x);this.$2XY();this.$2x=""},$2XY:function(){var n,t;if(this.$2.$7s===1){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("SetRegardingObject",2002,{message:"Form is not in Edit Mode. Skipping regarding object and relationship setup"},this.$2x);return}n={};n.oldId=this.$6n;this.$6n=this.$2.get_ModelContext().$M.$N;n.newId=this.$6n;this.$7n="objectid";n.oldRelationship=this.$5y;this.$5y=this.$6n.LogicalName+"_activitypointers";n.newRelationship=this.$5y;this.$5h=0;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SetRegardingObject",2002,n,this.$2x);n=null;this.$Qo=!0;t=this.$2.get_ModelContext().$M.fields.customerid;$0.$1(t)||(this.$17Z=t.Name,this.$17Y=t.Id.toString(),this.$17a=t.LogicalName);this.refreshData()},$2tU:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionWallDateRangeViewModel","DateRangeControl","DateRangeControl",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsStartDateNull",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsEndDateNull",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowNoRange",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentViewModel",this)],null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,this.get_ModelContext(),this.$3V,this.$2)},$2oK:function(n,t){var i;return Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("DynamicInteractionWallEventGenerator",2002,{ResultIndex:t},this.$2x),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C("DynamicInteractionWallEventGenerator",2002,{ResultItem:n.toString()},this.$2x),i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionWallEventViewModel","InteractionWallEvent","InteractionWallEvent",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ResultItem",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentViewModel",this)],null,null),Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(i,this.get_ModelContext(),this.$3V,this.$2)},resetAllFilters:function(n){this.$2x="ClearFilter";this.$Xi.$79();this.$Xi.set_$OJ("InteractionWall.DateRangeFilterExpression");this.$jT.set_StartDateText("");this.$jT.set_EndDateText("");n&&this.set_ActiveSource(this.get_AllText());this.$2x=""},$2Sx:function(){this.$2x="InteractionWallExternalRefresh";this.refreshData();this.$2x=""},refreshData:function(){var n,t;this.$jg&&(this.$2x="NavigateBackReload");this.$Uv.$79();this.$2.get_ModelContext()&&(n=this.$2.get_ModelContext().$M,n&&(t=n.$N,this.$6n!==t&&(this.$6n=t)));this.$1bB();this.$jg&&(this.$2x="",this.$jg=!1)},screenReaderTextForInteractionWallSearchContainer:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("InteractionWall_Screenreader_DynamicSearchText"),n)},$1bB:function(){var i;if(this.$qK){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("RetrieveData",2002,{Message:"Data is alreday loading. Skipping load attempt"},this.$2x);return}if(this.$Uo=!1,this.$qK=!0,this.$r1===this.get_AllText()){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveData",2002,{Message:"Setting up data promises for all sources"},this.$2x);for(var t=this.$18y,r=t.length,n=0;n<r;++n)i=t[n],this.$2Xn(i)}else Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("RetrieveData",2002,{Message:"Setting up data promise for "+this.$r1},this.$2x),this.$2Xn(this.$r1);this.$8("DataLoadCompleted")},$2Xn:function(n){var u=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(1,"InteractionWall"),i,t,r;u.$6b(this.$Xi);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SetUpDataPromises",2002,{dataSource:n},this.$2x);i=Microsoft.Crm.Client.Core.ViewModels.$3P.$3P9(n);this.$6n?(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C("SetUpDataPromises",2002,{dataSource:n,LogicalName:this.$6n.LogicalName,RegardingObjectIdentifier:this.$6n.get_identifier(),PageSize:this.get_PageSize(),PageNumber:this.$dl,SearchText:this.$70,AdditionalFilter:u.$7J()},this.$2x),t=this,r=this,i.$1bB(this.$6n.LogicalName,this.$6n.get_identifier(),this.$32,this.$dl,this.$70,u,this.$2).done(function(r){t.$2x=n+"SourceLoadSuccess";t.$Uv.$38H(r);t.$Uo=t.$Uo||r.$Uo;t.$2YE(i);t.$2x=""}).fail(function(){r.$2x=n+"SourceLoadFailure";r.$2YE(i);r.$2x=""}),this.$PC.$1KT()):(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E("SetUpDataPromises",2002,{Message:"Regarding Object not set. Clearing loading flag to allow further loads."},this.$2x),this.$qK=!1)},$2YE:function(n){if(this.$PC.$2YD(),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("SignalSemaphore",2002,{Message:"Semaphore successfully signalled"},this.$2x),!this.$PC.get_$1tS()){var t=this.$2x;this.$2x="ConstructItems";this.$2it();this.$2x=t}n.$6D()},$2it:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("InteractionWallDataUpdated",0,this.get_ViewModelId());this.$2BB();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1g("ConstructItems",2002,{ResultCollectionCount:this.$Uv.get_$m()},this.$2x);for(var n=0;n<this.$Uv.get_$m();n++)this.$Rx.add(this.$2oK(this.$Uv.get_$I(n),n));this.$qK=!1;this.$8("DataLoadCompleted")},$X6:function(){this.$2x=this.$Qo?"WallQuickCreate":"PageRefresh";this.refreshData();this.$2x=""}};Microsoft.Crm.Client.Core.ViewModels.$Ar=function(){Microsoft.Crm.Client.Core.ViewModels.$Ar.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ar.prototype={$ZV:null,$9h:null,get_InteractionCentricLookupMaxCount:function(){return 10},get_InteractionCentricLookupListViewModel:function(){return this.$ZV},get_LookupNewButtonViewModel:function(){return this.$9h},get_NewButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Lookup_New_Text")},$ay:function(n){var i,r,u,t;Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$ay.call(this,n);i=n;for(r in i)u={key:r,value:i[r]},t=u.value,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.isInstanceOfType(t)?(this.$ZV=t,this.$ZV.$c3=this):Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(t)&&(this.$9h=t)},$GX:function(){$0.$1(this.$ZV)||(this.$ZV.dispose(),this.$ZV=null);$0.$1(this.$9h)||(this.$9h.dispose(),this.$9h=null);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$E1=function(){this.$$d_$2QO=Function.createDelegate(this,this.$2QO);Microsoft.Crm.Client.Core.ViewModels.$E1.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$E1.prototype={$Dr:null,$Ef:null,$1ru:null,$6U:null,$9i_9:"single",$212:!1,$y4:null,get_LastTypedValue:function(){return this.$y4},set_LastTypedValue:function(n){return this.$y4=n,n},$1M7:!1,get_NewButtonVisibility:function(){return this.$1M7},set_NewButtonVisibility:function(n){return this.$1M7=n,n},$yA:null,get_NewButtonEntityLogicalName:function(){return this.$yA},set_NewButtonEntityLogicalName:function(n){return this.$yA=n,n},$cE:null,get_SelectedViewIds:function(){return this.$cE},set_SelectedViewIds:function(n){return this.$cE=n,n},$jV:!1,get_DisableQuickFind:function(){return this.$jV},set_DisableQuickFind:function(n){return this.$jV=n,n},$18F:!1,get_IsResolveSuccessful:function(){return this.$18F},set_IsResolveSuccessful:function(n){return this.$18F=n,n},$bn:!1,get_DisableViewPicker:function(){return this.$bn},set_DisableViewPicker:function(n){return this.$bn=n,n},$y0:!1,get_IsSearchComplete:function(){return this.$y0},set_IsSearchComplete:function(n){return this.$y0=n,n},get_LookupStyle:function(){return this.$9i_9},set_LookupStyle:function(n){return this.$9i_9=n,n},get_InteractionCentricPartyListViewModel:function(){return this.$Ef},$GA:!1,get_IsMultiSelect:function(){return this.$GA},set_IsMultiSelect:function(n){return this.$GA=n,n},$De:null,get_InteractionCentricInlineLookupListViewModel:function(){return this.$Dr},get_$F1:function(){return!$0.$1(this.$6U)&&!$0.$1(this.$6U.$8F)?this.$6U.$8F.toString():null},get_LookupInputViewModel:function(){return this.$6U},set_LookupInputViewModel:function(n){return this.$6U=n,$0.$1(this.$6U)||(this.updateInputValue(),this.$6U.set_ImeMode(this.$Ma),this.$6U.set_MaxLength(200)),n},get_InteractionCentricInlineLookUpListDescriptor:function(){return this.$1ru},get_SearchValue:function(){return $0.$1(this.$De.$FQ)?"":this.$De.$FQ},get_interactionCentricLookupAutoResolve:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("InteractionCentricLookupAutoResolve")},get_shouldAutoResolve:function(){return this.get_interactionCentricLookupAutoResolve()?this.$212:!1},$1vs:function(){if(!$0.$1(this.$6U)&&!this.get_HasFocus()&&this.get_CurrentDataName()!==this.get_$F1()){var n=this.get_$F1();this.set_$Kd(null);this.$6U.set_Value(n)}},$1jo:function(){$0.$1(this.$6U)||(this.get_interactionCentricLookupAutoResolve()?this.$6U.$2X8(""):this.$6U.set_Value(""),this.$6U.fireRefreshFromContextEvent())},updateInputValue:function(){if(!$0.$1(this.$6U)){if(this.get_interactionCentricLookupAutoResolve()){var n=this.get_CurrentDataName();Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$6U.set_Value(this.$y4):this.$6U.set_Value(n)}else this.$6U.set_Value(this.get_CurrentDataName());this.$6U.fireRefreshFromContextEvent()}},buildChildViewModelDescriptors:function(n){var t,i,r,u;$0.$1(this.$Dr)||(this.$Dr.dispose(),this.$Dr=null);t={};$0.$1(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);t.OverlayMode=2;i=!1;$0.$1(n.Properties.ShowLabel)||(i=n.Properties.ShowLabel);r={IsSaveAndEditButtonHidden:!0,shouldOpenQuickCreate:!0};u={inlinelookup:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricInlineLookupListViewModel","InteractionCentricInlineLookupList","inlinelookup",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricLookupListViewModel","InteractionCentricLookupList","interactionCentricList",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("ActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("LookupByName",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("LookupForField",this.getFieldNameFromDescriptorName(this.$G)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$GA),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsInlineOrAssociateFormLookup",this.$12R)],{ScrollDirection:"Horizontal"}),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("Button","Button","newInteractionCentricButton",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Command","CreateCommand"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1VH()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Visible",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1VH()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Parameters",{externalParameters:r})],null)]),input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","interactionCentricInput",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Label",this.$1D),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowLabel",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("OverlayText","")],t)};this.$r3(u);this.get_shouldAutoResolve()&&(this.$y0=!0)},$r3:function(n){var f=n,r,i,t,u;for(r in f)i={key:r,value:f[r]},t=i.value,$0.$1(this.$F[t.Name])&&(u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(t,this.get_$1K(),this.$3V,this.$2),this.$8V(u.get_Name(),u)),i.key==="inlinelookup"?this.$1ru=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(t):i.key==="input"&&(this.$1Fe=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(t))},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$4L.isInstanceOfType(t)?this.set_LookupInputViewModel(t):Microsoft.Crm.Client.Core.ViewModels.$Ar.isInstanceOfType(t)&&(this.$Dr=t,this.$De=this.$Dr.$ZV,this.$De.$xw=!0,this.$De.set_$AN(this),this.$De.$Gt=this.$9i_9,this.$22t(),this.$1eV(),this.$Dr.$9h.$29.$P=this.$$d_$2QO)},$1KB:function(n){$0.$1(n)||(this.$Ix=n.$2W,this.$NI=n.$Ta,this.set_LookupModelName(n.$BK),this.$1eV())},$1XK:function(n){this.get_shouldAutoResolve()&&this.clearError();Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1XK.call(this,n)},$2o4:function(n,t){var i=this;i.set_$Om(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,n,t))},clearError:function(){var n=this;n.set_$Om(null)},$1eV:function(){$0.$1(this.$De)||$0.$1(this.$NI)||$0.$1(this.$Ix)||$0.$1(this.$Ad)||this.$De.$20p(this.$Ad,this.$Ix,this.$NI)},$22t:function(){if(!$0.$1(this.$Dr)&&!$0.$1(this.$Dr.$9h)&&!$0.$1(this.$Dr.$9h.$29)){var n=this.$Ad;$0.$1(this.$yA)||this.$yA===""||(n=this.$yA);this.$Dr.$9h.$29.set_PrimaryModelName(n);this.$Dr.$9h.$29.get_CanExecute()&&Microsoft.Crm.Client.Core.ViewModels.$n.$IT(n)&&this.$1M7?(this.$Dr.$9h.set_Visible(!0),Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||$0.$1(this.get_ModelContext())||(this.$Dr.$9h.$29.$My=this.get_ModelContext().get_$Qt(),this.$Dr.$9h.$29.$FO=this.$FO)):this.$Dr.$9h.set_Visible(!1)}},$2QO:function(n){this.$Qx=!0;$0.$1(this.get_ModelContext())?this.set_$Kd(n.$CO):(this.get_ModelContext().$1cX(),this.set_$Kd(n.$CO),this.get_ModelContext().$1aa());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?$0.$1(this.$Dr)||$0.$1(this.$Dr.$ZV)||this.$Dr.$ZV.$X6():this.$1Ow();this.$Br("OnNewRecordSaved",n.$1Xh)},$GX:function(){$0.$1(this.$Dr)||(this.$Dr.dispose(),this.$Dr=null);Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$GX.call(this)},search:function(n){(this.$212=n,$0.$1(this.$De))||(this.$3Ws(),this.$De.$Mc=0,this.$De.$HA.clear(),this.$De.set_SearchValue($0.$1(this.get_$F1())?"":this.get_$F1()),this.get_shouldAutoResolve()&&(this.$y0=!1),this.get_interactionCentricLookupAutoResolve()&&(this.clearError(),this.$y4=this.$De.$FQ),this.set_ShowLookupBar(!0))},shouldPerformSearch:function(){return this.get_shouldAutoResolve()&&this.$De.$FQ===""&&$0.$1(this.get_$F1())?!1:$0.$1(this.$De.$FQ)||$0.$1(this.get_$F1())?!0:this.$De.$FQ!==this.get_$F1()},$3Ws:function(){this.$1N1=this.get_$F1()&&this.$1tK(this.get_$F1().trim())?this.get_$F1().trim():null},$1tK:function(n){if(!n||n==="")return!1;var t=new Microsoft.Crm.Client.Core.Models.Validation.EmailAddressValidator(!1,!0),i=t.$7h(n,!1,!1);return i.$5w},$1N1:null};Microsoft.Crm.Client.Core.ViewModels.$E3=function(){this.$$d_$Os=Function.createDelegate(this,this.$Os);Microsoft.Crm.Client.Core.ViewModels.$E3.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$E3.prototype={$Kk:null,$Zs:null,$H0:null,$Te:null,get_EntitiesMetadataViewModel:function(){return this.$Kk},get_LookupViewActionProvider:function(){return this.$Zs},set_LookupViewActionProvider:function(n){return this.$Zs=n,n},get_BindingField:function(){return this.$H0},set_BindingField:function(n){return this.$H0=n,n},get_MetadataQueryDescriptor:function(){return this.$Te},set_MetadataQueryDescriptor:function(n){return this.$Te=n,n},$2at:function(){return!0},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$18.call(this);this.$9i_9="multi"},$GX:function(){$0.$1(this.$Kk)||(this.$Kk.RemovePropertyChangedListener("SelectedItem",this.$$d_$Os),this.$Kk.dispose(),this.$Kk=null);this.$Te=null;Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$GX.call(this)},$1Zg:function(n,t){$0.$1(n)||($0.$1(this.$Kk)||this.setEntityModelName(n.$BK))&&Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1Zg.call(this,n,t)},$1vy:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$7a.prototype.$1vy.call(this,n,t);this.setEntityModelName(this.$Ad)},$Os:function(){this.$1H7()},search:function(n){var t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("StartMarkerForLookupSearch",1,null);this.$Kk.set_SelectedItem("0");Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.search.call(this,n);this.$De.$D4=this.$Kk},$1H7:function(){var n=this.$Kk.get_Data(),t,i;Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2n.isInstanceOfType(n)&&(this.set_LookupModelName(n.$d),$0.$1(this.$VQ)?(i=this.$Zs.$DG(0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(i)):n.$d===this.$VQ.$BK?this.$1KB(this.$VQ):(t=this.$Zs.$DG(2),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t)))},setEntityModelName:function(n){if(this.$Kk){var t=this.$Kk.$1mS(n);if(t>=0)return this.$Kk.$2LS(t.toString()),!0}return!1},$8V:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$8V.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.$8v.isInstanceOfType(t)&&(this.$Kk=t,this.$Kk.AddPropertyChangedListener("SelectedItem",this.$$d_$Os),$0.$1(this.$Ad)||(this.$Kk.$127=this.$Ad))},buildChildViewModelDescriptors:function(n){var t,i,r;this.$Ix=null;this.$NI=null;Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$1(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i=$0.$1(this.$Te)?new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveTargetEntityMetadata",{entityLogicalName:this.$J,targetAttribute:this.$H0}):this.$Te;r={combobox:Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("EntityMetadataOptionSetViewModel","ComboBox","comboBoxControl",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("MetadataActionProvider","ActionProvider",i)],t,null)};this.$r3(r)}};Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel=function(){this.$$d_$35k=Function.createDelegate(this,this.$35k);Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.prototype={$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.prototype.$18.call(this),this.$5o().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x,this.$$d_$35k))},$35k:function(){this.$8("RenderMultiplePie")},$GX:function(){this.$5o().$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x,this.$$d_$35k);Microsoft.Crm.Client.Core.ViewModels.$AN.prototype.$GX.call(this)},$1hE:0,get_singlePieWidth:function(){return this.$1hE},set_singlePieWidth:function(n){return this.$1hE=n,n},$1gs:0,get_pieInnerSize:function(){return this.$1gs},set_pieInnerSize:function(n){return this.$1gs=n,n}};Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.prototype={$1KR:0,$16R:null,get_DashboardCategory:function(){return this.$2IV().$ds},get_StreamViewModels:function(){if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("ViewSwitched",0,this.get_ViewModelId()),$0.$1(this.$16R)){this.$16R=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel));for(var n=0;!$0.$1(this.$F["QueuePanelViewModel"+n]);)this.$16R.add(this.$F["QueuePanelViewModel"+n]),n++}return this.$16R.toArray()},get_ViewType:function(){return this.$1KR},set_ViewType:function(n){return this.$1KR=n,this.$8("DataChanged"),n},set_ShowAsTiles:function(n){return this.$1KR=n?1:0,this.$8("DataChanged"),n},get_SwitcherPanelViewModel:function(){return this.$F.ButtonStrip},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$8("DataChanged"))},$X6:function(){for(var i,t=this.get_StreamViewModels(),r=t.length,n=0;n<r;++n)i=t[n],i.$X6()},$2IV:function(){return this.$2},$GX:function(){var i;if(this.get_StreamViewModels()){for(var t=this.get_StreamViewModels(),r=t.length,n=0;n<r;++n)i=t[n],i.dispose();this.$16R=null}Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.prototype={$Qn:!1,$BG:null,get_parentViewModel:function(){return this.$BG},set_parentViewModel:function(n){return this.$BG=n,n},get_PreviousSelectionCount:function(){return this.$BG.$1xV},get_DashboardCategory:function(){return this.$BG.get_DashboardCategory()},get_ItemSelectionCounter:function(){return this.$BG.$1Tw()},set_ItemSelectionCounter:function(n){return this.$BG.$2Xb(n),n},get_IsSelected:function(){return this.$Qn},set_IsSelected:function(n){var t=this.$BG.$1Tw()>0?this.$BG.$1Tw():0;return this.$BG.$1xV=t,n?(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("QuickActionCheckboxSelected",0,this.get_ViewModelId()),t++):t--,t>-1&&this.$BG.$2Xb(t),this.$Qn=n,this.$8("QueueItemStatusChanged"),n},get_IsCtrlPressed:function(){return Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1sN},set_IsCtrlPressed:function(n){return Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1sN=n,n},$c4:null,get_ParentQueuePanelViewModel:function(){return this.$c4},set_ParentQueuePanelViewModel:function(n){return this.$c4=n,n},$183:null,get_ID:function(){return this.$183},set_ID:function(n){return this.$183=n,n},$Rn:null,get_ColorStrip:function(){return this.$Rn},set_ColorStrip:function(n){return this.$Rn=n,n},$17S:null,get_ColorStripDisplayName:function(){return this.$17S},set_ColorStripDisplayName:function(n){return this.$17S=n,n},$17R:null,get_ColorStripAttributeValue:function(){return this.$17R},set_ColorStripAttributeValue:function(n){return this.$17R=n,n},$1Lb:null,get_HeaderItems:function(){return this.$1Lb},set_HeaderItems:function(n){return this.$1Lb=n,n},$xV:null,get_DetailItems:function(){return this.$xV},set_DetailItems:function(n){return this.$xV=n,n},$1LP:null,get_FooterItems:function(){return this.$1LP},set_FooterItems:function(n){return this.$1LP=n,n},$17I:null,get_ActivityItemNames:function(){return this.$17I},set_ActivityItemNames:function(n){return this.$17I=n,n},$BD:null,get_EntityLogicalName:function(){return this.$BD},set_EntityLogicalName:function(n){return this.$BD=n,n},$1fz:0,get_HtmlDetailIndex:function(){return this.$1fz},set_HtmlDetailIndex:function(n){return this.$1fz=n,n},$195:0,get_TitleIndex:function(){return this.$195},set_TitleIndex:function(n){return this.$195=n,n},GetQueueItemGuid:function(){return this.$183},get_ColorTooltip:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$17S)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$17R)?"":this.$17S+" : "+this.$17R},$3Fk:function(){return},screenReaderTextForQueueItem:function(n){var t=this.$BD==="incident"?"case":this.$BD;return n?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueueItemsCondensedView_ScreenReader_ItemInfo"),t,this.$xV[this.$195]):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueueItems_ScreenReader_ItemInfo"),t,this.$xV[this.$195])},screenReaderTextWithSelectionCount:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueueItems_ScreenReader_NRecordSelection"),this.$BG.$1Tw())},isEntityInteractionCentricEnabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return $0.$1(t)?!1:t.$Du},navigateToRecord:function(){var t=this.$BD,i=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(this.$5g)),u,r,f,n;this.$BD==="activitypointer"?(t=this.$17I[0],i=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(this.$5g))):this.$BD==="queueitem"&&(u=this,r=u.get_ModelContext().GetValue("objectid"),Microsoft.Crm.Client.Core.Framework.$3i.isInstanceOfType(r)&&(i=r,t=i.LogicalName));this.$c4.$Hy=this;f=new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext(this.$c4.$1R,this.$c4.get_CurrentItemIndex(),this.$c4.$KS.get_$I(1),this.$c4,!0);n=new Microsoft.Crm.Client.Core.Commands.$33(null,40);try{n.$J=t;n.$1B={ListNavigationContext:f};n.$1B.EntityReference=i;n.execute()}finally{n.dispose()}},$GX:function(){this.$BG=null;this.$183=null;this.$Rn=null;this.$1Lb=null;this.$1LP=null;this.$xV=null;this.$17I=null;this.$c4=null;Microsoft.Crm.Client.Core.ViewModels.$43.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel=function(){this.$$d_$33e=Function.createDelegate(this,this.$33e);this.$$d_getQueueItemViewSuccess=Function.createDelegate(this,this.getQueueItemViewSuccess);this.$$d_$311=Function.createDelegate(this,this.$311);this.$$d_$3Gb=Function.createDelegate(this,this.$3Gb);this.$$d_$1wD=Function.createDelegate(this,this.$1wD);this.$$d_$33f=Function.createDelegate(this,this.$33f);this.$$d_$34f=Function.createDelegate(this,this.$34f);this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$34e=Function.createDelegate(this,this.$34e);this.$$d_handleStreamError=Function.createDelegate(this,this.handleStreamError);this.$$d_processFetchXml=Function.createDelegate(this,this.processFetchXml);this.$$d_$2KK=Function.createDelegate(this,this.$2KK);this.$1r={};this.$16E=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$RB={};this.$KS=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$16F={};this.$1JE={};this.$1im={};this.$16D=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$14p=new Array(0);this.$10W=new Array(0);Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.prototype={$5k:null,$PC:null,$nI:!1,$ff:!1,$1sz:!1,$w:null,$12k:!0,$1Vf:!1,$XH:null,$NV:null,$dm:null,$S:null,$VX:null,$cj:null,$1Ol:null,$SQ:null,$KW:null,$d5:null,$VD:null,$1kA:null,$SJ:null,$1tq:null,$RA:0,$207:0,$1xV:0,$10k:null,$2L:null,$14n:null,$OX:!1,$1Vo:!1,$IY:"Initialize",get_AttributeMetadataActionProvider:function(){return this.$cj},set_AttributeMetadataActionProvider:function(n){return this.$cj=n,n},get_SelectedSortBy:function(){return this.$16F[this.$XH]},set_SelectedSortBy:function(n){return this.$XH===this.$1JE[n]?n:(this.$XH=this.$1JE[n],this.$8("IsLoading"),n)},$Rz:!1,get_LoadTriggeredByPagingEvent:function(){return this.$Rz},set_LoadTriggeredByPagingEvent:function(n){return this.$Rz=n,n},$qf:null,get_QueueItemIdArray:function(){return this.$qf},set_QueueItemIdArray:function(n){return this.$qf=n,n},$y1:!1,get_ItemLimitExceeded:function(){return this.$y1},set_ItemLimitExceeded:function(n){return this.$y1=n,n},$GF:null,get_TypeOfStream:function(){return this.$GF},set_TypeOfStream:function(n){return this.$GF=n,n},$Lx:null,get_StreamId:function(){return this.$Lx},set_StreamId:function(n){return this.$Lx=n,n},$KO:null,get_StreamName:function(){return this.$KO},set_StreamName:function(n){return this.$KO=n,n},$AD:null,get_EntityTypeCode:function(){return this.$AD},set_EntityTypeCode:function(n){return this.$AD=n,n},get_CurrentSavedQueryId:function(){return this.$dm},set_CurrentSavedQueryId:function(n){return this.$dm=n,n},get_EntityLogicalName:function(){return this.$S},set_EntityLogicalName:function(n){return this.$S=n,this.$GB.set_Entity(this.$S),n},get_IsEditMode:function(){return this.$1Vf},set_IsEditMode:function(n){return this.$1Vf!==n&&(this.$1Vf=n,this.$8("IsEditMode")),n},get_QueueItemCount:function(){return this.$RA},get_ActionProvider:function(){return this.$NV},set_ActionProvider:function(n){return this.$NV=n,n},get_SortableAttributes:function(){return this.$16D},$1M8:null,get_NumberOfMembers:function(){return this.$1M8},set_NumberOfMembers:function(n){return this.$1M8=n,n},get_QueueItemViewModels:function(){return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("QueueContentAsked",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("QueueShown",0,this.get_ViewModelId()),this.$RB},set_QueueItemViewModels:function(n){return this.$RB=n,n},get_ParentViewModel:function(){return this.$2.$6F(this)},get_IsSortedInDescending:function(){return this.$12k},set_IsSortedInDescending:function(n){return this.$12k!==n&&(this.$12k=n,this.$GB.$1PA(),this.$8("IsLoading")),n},get_DashboardCategory:function(){return this.$83().$ds},get_AllCardAttributes:function(){return this.$KS},set_AllCardAttributes:function(n){return this.$KS=n,n},get_EntityPluralName:function(){return this.$2L.$8O},$GB:null,get_quickActionViewModel:function(){return this.$GB},set_quickActionViewModel:function(n){return this.$GB=n,n},get_MoreNextPage:function(){return this.$1s.$BT<this.$1s.$Jg},$ye:!1,get_UserPrivilege:function(){return this.$ye},set_UserPrivilege:function(n){return this.$ye=n,n},$qJ:!1,get_IsCardFormDefined:function(){return this.$qJ},set_IsCardFormDefined:function(n){return this.$qJ=n,n},$Lw:null,get_QueueItemViewId:function(){return this.$Lw},set_QueueItemViewId:function(n){return this.$Lw=n,n},$18M:null,get_MultiSelectInfo:function(){return this.$18M},set_MultiSelectInfo:function(n){return this.$18M=n,n},$1Lm:!1,get_IsErrorOccured:function(){return this.$1Lm},set_IsErrorOccured:function(n){return this.$1Lm=n,n},$18:function(){if(!this.$1y){this.$14n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("QueuePanel_QueueDataRetrieve");Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this);this.$qJ=!0;this.$83().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,this.$$d_$2KK);this.$qf=new Array(0);this.$1R.$79();this.$PC=new Microsoft.Crm.Client.Core.ViewModels.$Li;this.$PC.$1KT();this.$34d();this.$cj=new Microsoft.Crm.Client.Core.ViewModels.$M(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));this.$Rz=!1;this.$1s.$32=20;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QuickActionViewModel","QuickActionQueueContainer","QuickActionQueueContainer"+this.$Lx,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TargetViewModelContext",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Entity",this.$S),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context","grid")],null,null);this.$GB=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(n,this.get_ModelContext(),this.$3V,this.$2);this.$ye=!0;this.$18M=new Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo}},$1Dr:function(){if($0.$1(this.$XH))return"";return"<order attribute='"+this.$XH+"' descending='"+this.$12k+"' />"},$2TF:function(){this.$PC.$2YD();this.$PC.get_$1tS()||(this.$PC.$1KT(),this.$34g())},$34g:function(){var t,n;this.$IY="QueuePanelViewModel.GetStreamsData";this.$Rz||(this.$1s.$BT=0);this.$GF==="0"||this.$GF==="2"?(this.$2L=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$Bq(Number.parseInvariant(this.$AD)),$0.$1(this.$2L)?(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SZ("QueuePanelViewModel.GetStreamsData","Entity metadata cannot be null","",this.$S),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t),Microsoft.Crm.Client.Core.Framework.Utils.$D.$52(this.$2L,"EntityMetadata")):(this.set_EntityLogicalName(this.$2L.$d),this.$ye=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$S,1),this.$VX=this.$2L.$4S,this.$2I2())):(this.$dm=this.$Lx,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null),n.OnSuccess=this.$$d_processFetchXml,n.OnFailure=this.$$d_handleStreamError,this.set_IsLoading(!0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n))},handleStreamError:function(){this.$1GG()},$1GG:function(){this.$1Lm=!0;this.set_IsLoading(!1)},processFetchXml:function(n){var t,i;this.$IY="QueuePanelViewModel.ProcessFetchXml";t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n.toString());this.$10k=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(t).$O("fetch");this.set_EntityLogicalName(this.$10k.$O("entity").$1T("name").toString());this.$2L=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$S);$0.$1(this.$2L)?(this.set_IsLoading(!1),i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SZ("QueuePanelViewModel.ProcessFetchXml","Entity metadata cannot be null","",this.$S),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i),Microsoft.Crm.Client.Core.Framework.Utils.$D.$52(this.$2L,"EntityMetadata")):(this.$VX=this.$2L.$4S,this.$ye=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$S,1));this.$2I2()},$34d:function(){this.$IY="QueuePanelViewModel.GetStreamAttributes";var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);n.OnSuccess=this.$$d_$34e;n.OnFailure=this.$$d_$5O;this.$GF==="0"?(this.$PC.$1KT(),n.QueryValue="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='queue'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='numberofmembers'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='queueviewtype'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$Lx+"' /><\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t  <\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/fetch>",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)):this.$GF==="1"?(this.$dm=this.$Lx,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSavedQueryDetailsFromSavedQueryId",null),n.OnSuccess=this.$$d_$34f,this.set_IsLoading(!0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)):this.$GF==="2"&&(this.$PC.$1KT(),this.$Lx.toLowerCase()==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?this.$KO=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_All"):this.$Lx.toLowerCase()==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?this.$KO=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_Public"):this.$Lx.toLowerCase()==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()&&(this.$KO=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Workplace_Queue_Selector_Private")),this.$2JR())},$2JR:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSavedQueryDetailsFromSavedQueryId",null);this.$dm=this.$Lw;n.OnSuccess=this.$$d_$33f;n.OnFailure=this.$$d_handleStreamError;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},$34e:function(n){var t=n.get_$Bt().$22N(),i;if($0.$1(t)||!t.length){this.$1GG();return}this.$KO=t[0].GetValue("name");this.$1M8=t[0].GetValue("numberofmembers");i=t[0].GetValue("queueviewtype");this.$1sz=i.$1i===1?!0:!1;this.$2JR()},$34f:function(n){var t=n;this.$KO=t.$1S},$33f:function(n){var t=n;this.$KO=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ICDashboard_Streams_label"),this.$KO,t.$1S);this.$2TF()},$329:function(n,t){var i="",r="",u;return i+="<link-entity ",n.$1T("name")&&(r=n.$1T("name"),i+=" name='"+r+"' ",t.add(r)),n.$1T("from")&&(i+=" from='"+n.$1T("from")+"' "),n.$1T("to")&&(i+=" to='"+n.$1T("to")+"' "),n.$1T("visible")&&(i+=" visible='"+n.$1T("visible")+"' "),n.$1T("link-type")&&(i+=" link-type='"+n.$1T("link-type")+"' "),u=this.$2IN(r),$0.$1(u)||Microsoft.Crm.Client.Core.Framework.$3.$9(u.$7J())||(i+=" alias='"+r+"__alias' "),i+=">",i+=Microsoft.Crm.Client.Core.Framework.Utils.$6Z.$1Ti(n),i+" <\/link-entity>"},$2kn:function(n){var p=n.$O("entity"),ht="",ct="",lt="",at="",i='<filter type ="and">',r="<\/filter>",vt=p.$O("filter")?p.$O("filter").get_$7Y().toString():"",w,o,k,d,g,t,nt,tt,it,f,c,rt,pt,ut,e,l,ft,a,v,y,et,ot,wt,st;n.$1T("version")&&(ht=" version='"+n.$1T("version")+"' ");n.$1T("output-format")&&(ct=" output-format='"+n.$1T("output-format")+"' ");n.$1T("mapping")&&(lt=" mapping='"+n.$1T("mapping")+"' ");n.$1T("distinct")&&(at=" distinct='"+n.$1T("distinct")+"' ");w=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$S);w&&w.$v0===8&&(this.$SJ=this.$SJ.replace("<attribute name='ownerid' />",""));var u=n.$O("entity").$1T("name"),b=p.$5p("link-entity"),s="",h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));for(o=0;o<b.get_$m();o++)s+=this.$83().get_IsMultipleEntityGraphSupported()?this.$329(b.get_$I(o),h):b.get_$I(o).get_$7Y();if(u===this.$83().$8U){k=this.$83().$js;for(d in k)g={key:d,value:k[d]},h.contains(g.key)||(s+=g.value)}if(u==="queueitem"&&(s+=this.$1iY("5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase())),t=vt,this.$83().get_IsMultipleEntityGraphSupported()){if(u===this.$83().$8U){if(nt=this.$83().$FT,!$0.$1(nt)){tt=nt;for(it in tt){var bt={key:it,value:tt[it]},kt=bt.value,yt=kt.$7J();Microsoft.Crm.Client.Core.Framework.$3.$9(yt)||(t+=i+yt+r)}t=i+t+r}}else if(f=this.$83().$FT,!$0.$1(f)){for(c=0;c<h.get_Count();c++)rt=h.get_$I(c),rt in f&&(pt=f[rt],ut=pt.$7J(),Microsoft.Crm.Client.Core.Framework.$3.$9(ut)||(t+=i+ut+r));if(u in f){if(e=f[u],$0.$1(e.get_$23())){for(ft=e.get_$5S(),a=0;a<ft.get_Count();a++)if(v=ft.get_$I(a),!$0.$1(v.get_$23()))for(y=0;y<v.get_$23().get_Count();y++)v.get_$23().get_$I(y).set_$Ay("")}else for(l=0;l<e.get_$23().get_Count();l++)e.get_$23().get_$I(l).set_$Ay("");et=e.$7J();Microsoft.Crm.Client.Core.Framework.$3.$9(et)||(t+=i+et+r)}ot=this.$83().$J0;this.$83().$8U in ot&&this.$1Vo&&(wt=ot[this.$83().$8U],st=wt.$7J(),Microsoft.Crm.Client.Core.Framework.$3.$9(st)||(t+=i+st+r));t=i+t+r}}else t=i+vt+this.$FE()+r;return"<fetch"+ht+ct+lt+at+"><entity name='"+u+"'>"+this.$SJ+s+this.$1Dr()+t+"<\/entity><\/fetch>"},$2KK:function(n){if(!$0.$1(n.$Gr)){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$Gr)?"":n.$Gr.$7J(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)}this.$GB.$1PA();this.$2TF()},$X6:function(){this.$GB.$1PA();this.$Rz=!1;this.retrieveData()},$3Gb:function(n,t){var i;if(t.get_$BA()!==1){i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SZ("QueuePanelViewModel.OnQueueRecordsChanged",String.format("OnQueueRecordsChanged has failed in QueuePanelViewModel, EventArgs.RetrieveState not Successful.EventArgs.RetrieveState is { 0 }",Microsoft.Crm.Client.Core.Storage.DataApi.$2T.toString(t.get_$BA())),"",this.$S);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i);throw Error.create(String.format("OnQueueRecordsChanged has failed in QueuePanelViewModel, EventArgs.RetrieveState not Successful. EventArgs.RetrieveState is {0}",Microsoft.Crm.Client.Core.Storage.DataApi.$2T.toString(t.get_$BA())));}this.$sG();var r=Microsoft.Crm.Client.Core.Models.$1D.$B(t.get_$dt()),u=this.get_ParentViewModel();this.$G==="QueuePanelViewModel0"&&u.$G.endsWith("0")&&Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("RenderedFirstQueueWithData",1,this.$2.get_ViewModelId());this.$4e(r);this.$8("IsLoading")},$cg:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(this.$2W,this.get_DefinitionId());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$AS(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,n.get_$4z(),this.$$d_$1wD,this.$$d_$3Gb)},$sG:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(this.$2W,this.get_DefinitionId());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$1aj(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,n.get_$4z(),this.$$d_$1wD,this.$$d_$3Gb)},$1wD:function(){},$2m1:function(n,t,i,r,u,f,e,o,s,h,c){var l=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QueueItemViewModel","QueueItem",n,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ID",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("RecordId",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStrip",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStripDisplayName",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStripAttributeValue",r),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HeaderItems",u),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DetailItems",f),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FooterItems",e),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("EntityLogicalName",s),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentQueuePanelViewModel",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ActivityItemNames",o),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HtmlDetailIndex",h),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TitleIndex",c)],null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(l,this.get_ModelContext(),this.$3V,this.$2)},$Rs:null,get_DefinitionId:function(){return this.$Rs},set_DefinitionId:function(n){return this.$Rs=n,n},getTotalRecordsCount:function(){return this.$RA},$1TU:function(){var n,t;this.$IY="QueuePanelViewModel.GetData";n=0;$0.$1(this.$NV)||$0.$1(this.$1o)?this.set_IsLoading(!1):((this.$GF==="2"||this.$GF==="0")&&(n=this.$1s.$BT,this.$1s.$BT=0),this.set_DefinitionId(this.$1o.toString()),this.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(this.$1o),this.set_IsLoading(!0),this.$cg(),t=this.$NV.$4Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t),(this.$GF==="2"||this.$GF==="0")&&(this.$1s.$BT=n),this.$14n.start())},$4e:function(n){var l,nt,h,u,p,e,w,b,o,k,s,d,i,g,f;this.$14n.stop();this.$14n.addParameter(this.get_ViewModelId());Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY(this.$OX?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId());this.$OX||(this.$Im("RenderedInitialData"),this.$OX=!0);this.$GF==="1"&&(l=n,this.$RA=l.get_EntityCollection().$A8,this.$y1=l.get_EntityCollection().$K9,this.$1s.$Jg=Math.floor(this.$RA/this.$1s.$32));nt=n.get_$Bt().$22N();this.$Rz||(this.$qf=new Array(0),this.$2Sa(),this.$RB={},this.$1R.$79());for(var tt=nt,ft=tt.length,a=0;a<ft;++a){var t=tt[a],r=t.GetValue(this.$VX),it="#3F94E9",v="",y="";for(this.$VD&&(y=this.$tR(this.$VD,t.GetValue(this.$VD)),it=this.$2rG(y)),h=new Array(0),u=0;u<this.$SQ.length;u++)if(p=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(this.$S,this.$SQ[u]),$0.$1(p)||p.$2K!==10)h.push(this.$tR(this.$SQ[u],t.GetValue(this.$SQ[u])));else if(!$0.$1(t)&&(e=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(t.$2IK(this.$SQ[u])),!$0.$1(e)&&!$0.$1(e.get_entities()))){for(w=e.get_entities().length,b="",o=0;o<w;o++)k=e.get_entities()[o],k.$N.LogicalName==="activityparty"&&(s=k.fields.partyid,$0.$1(s)||$0.$1(s.Name)||(b+=o===w-1?s.Name:s.Name+" ;"));h.push(b)}d=new Array(0);this.$2L.$7u===4200?(d.push(t.get_$Gv()),v=t.get_$Gv()):v=this.$S;var c=new Array(0),rt=-1,ut=-1;for(i=0;i<this.$KW.length;i++)this.$KW[i]==="description"&&this.$S==="email"&&t.GetValue(this.$KW[i])?(c.push(t.GetValue(this.$KW[i]).toString()),rt=c.length-1):this.$tR(this.$KW[i],t.GetValue(this.$KW[i]))&&(this.$KW[i]==="title"&&(ut=i),c.push(this.$tR(this.$KW[i],t.GetValue(this.$KW[i]))));for(g=new Array(0),f=0;f<this.$d5.length;f++)this.$tR(this.$d5[f],t.GetValue(this.$d5[f]))&&g.push(this.$tR(this.$KW[f],t.GetValue(this.$d5[f])));r.toString()in this.$RB||(this.$RB[r.toString()]=this.$2m1(r.toString(),it,this.$1kA,y,h,c,g,d,v,rt,ut),this.$qf.push(r.toString()),this.$RB[r.toString()].set_ModelContext(t),this.$1R.$2i(this.$RB[r.toString()]),this.$RB[r.toString()].$BG=this,this.$RB[r.toString()].set_IsSelected(!1))}this.$nI?!$0.$1(this.$5k)&&this.$ff&&(this.$5k.$2ac(),this.$nI=!1,this.$ff=!1):this.$nI=this.$ff?!0:!1;this.set_IsLoading(!1);n.dispose()},$5O:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Od("ServiceHubStreamsLoadDataFailureEvent");t.addEventParameter("LocalContext",this.$IY);t.addEventParameter("ErrorMessage",n.$E);t.addEventParameter("Exception",$0.$1(n.$xh)?null:n.$xh.message);t.addEventParameter("StreamName",this.$KO);t.addEventParameter("StreamId",this.$Lx);t.addEventParameter("TypeOfStream",this.$GF);t.addEventParameter("Query",this.$1o);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$5O.call(this,n)},$P7:function(){this.$IY="QueuePanelViewModel.RetrieveAtrributeMetadata";var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$S),Microsoft.Crm.Client.Core.Framework.$G.$b(this.$Lx,this.$KO)).then(function(t){var e,r,i,u;n.$16E.clear();n.$16D.clear();e=t.$22N();r=new Array(0);for(var o=e,s=o.length,f=0;f<s;++f)i=o[f],u=!0,Array.indexOf(n.$SQ,i.get_$1n())>=0&&r.push(i),i.get_$1n()===n.$VD&&(n.$1kA=i.get_$9t(),r.push(i)),i.get_$nS()&&(u=Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.$zI(i.get_$1a())),i.get_$2Mv()&&u&&n.$2cQ(i),i.get_$1n()==="modifiedon"&&n.$2dx("modifiedon",i.get_$9t(),0),i.get_$1n()===n.$83().$Lq&&(n.$1Vo=!0),u||(n.$1im[i.get_$1n()]=i);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$H1(n.$S,!1,new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M))(r));$0.$1(n.$XH)&&(n.$XH=n.$16E.get_$I(0));n.$Rz=!1;n.retrieveData()},function(n){t.set_IsLoading(!1);var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SZ("QueuePanelViewModel.RetrieveAtrributeMetadata",n.$E,"",t.$S);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i);Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Multiple Attribute Metadata failed in Queue Panel View Model with error : {0}",n.$E)})},retrieveData:function(){if(this.$Rz||(this.$1s.$BT=0),this.$GF==="1"){if(!this.$10k){this.$1GG();return}var n=this.$2kn(this.$10k);this.$1o=n;this.$1TU()}else this.$GF==="2"?this.$Lw!=="0"?this.$2JQ():this.$2zX():this.$Lw!=="0"?this.$2JQ():(this.$1o="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\t \r\n\t\t\t\t\t\t\t\t<entity name='"+this.$S+"'>"+this.$SJ+this.$1Dr()+"<link-entity name='queueitem' from='objectid' to='"+this.$VX+"'>\r\n\t\t\t\t\t\t\t\t\t<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$Lx+"' />\r\n\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t<\/link-entity>"+this.$FE()+"<\/entity><\/fetch>",this.$1TU())},handleQueueItemSelectedEvent:function(n,t,i){this.$GB.handleQueueItemSelection(n,t,i);this.$8("QuickActionCommandBarEnabled")},$83:function(){return this.$2},get_TabSpaceReserved:function(){return 50},$2I2:function(){if(this.$IY="QueuePanelViewModel.GetEntityCardAttributes",this.$2L.$7u===4200)this.createCardInstanceForActivity(),this.set_IsLoading(!1);else{var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCardConfigurationAction",null);n.OnSuccess=this.$$d_$311;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)}},createCardInstanceForActivity:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel,t,i,r;this.$1Ol=n.$Xc;t=new Array(3);t[0]="activitytypecode";t[1]="prioritycode";t[2]="scheduledend";n.$jM=t;i=new Array(3);i[0]="subject";i[1]="description";i[2]="regardingobjectid";n.$jK=i;r=new Array(2);r[0]="ownerid";r[1]="createdon";n.$jL=r;n.$Rn="statuscode";this.$SQ=n.$jM;this.$KW=n.$jK;this.$d5=n.$jL;this.$VD=n.$Rn;this.$KS=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$SJ="<attribute name='"+this.$VX+"' />";this.$r2(this.$KS,this.$SQ);this.$r2(this.$KS,this.$KW);this.$r2(this.$KS,this.$d5);this.$GF==="1"&&this.$2HT(this.$KS,this.$S,this.$VD);this.$qJ=!0;n.dispose()},$2HT:function(n,t,i){this.$24o(n,i);$0.$1(i)||(this.$SJ+="<attribute name='"+i+"' />");this.$P7(n,t)},$r2:function(n,t){for(var i=0;i<t.length;i++)this.$24o(n,t[i]),$0.$1(t[i])||(this.$SJ+="<attribute name='"+t[i]+"' />")},$311:function(n){if($0.$1(n))this.$qJ=!1,this.$2L.$7u===4200&&this.createCardInstanceForActivity(),this.set_IsLoading(!1);else{this.$qJ=!0;var t=n;this.$1Ol=t.$Xc;this.$SQ=t.$jM;this.$KW=t.$jK;this.$d5=t.$jL;this.$VD=t.$Rn;this.$KS=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$SJ="<attribute name='"+this.$VX+"' />";this.$r2(this.$KS,this.$SQ);this.$r2(this.$KS,this.$KW);this.$r2(this.$KS,this.$d5);this.$S==="queueitem"&&this.$r2(this.$KS,["objectid"]);this.$2HT(this.$KS,this.$S,this.$VD);t.dispose()}},$FE:function(){var n=this.$83(),t=null;return n.$8U===this.$S?t=n.get_IsMultipleEntityGraphSupported()?n.$FT[n.$8U]:n.$Pc:this.$1Vo&&(t=n.get_IsMultipleEntityGraphSupported()?n.$J0[n.$8U]:n.$Rr),$0.$1(t)?"":t.$7J()},$2IN:function(n){if(n in this.$83().$FT){var t=this.$83().$FT[n];if(!$0.$1(t))return t}return null},$24o:function(n,t){Microsoft.Crm.Client.Core.Framework.$3.$9(t)||n.contains(t)||n.add(t)},$tR:function(n,t){if(n in this.$1im)return"*****";if($0.$1(t))return"";if(Xrm.Objects.EntityReference.isInstanceOfType(t))return t.Name;if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(t))return t.$1D;if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A.isInstanceOfType(t))return this.$tR(n,t.$Fp);var i="",r,u;return u=Microsoft.Crm.Client.Core.Framework.Utils.$6u.$2jC(t.toString(),r={val:i}),i=r.val,u,i},$2rG:function(n){var f,t,o,i,r,e,u;if($0.$1(n))return"#3F94E9";try{if(f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$2c(this.$S,this.$VD),t=f.$5d,$0.$1(t))return"#3F94E9";o=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O));i=t.$Tw;for(r in i)if(e={key:r,value:i[r]},u=e.value,u.$1D===n)return u.$KZ}catch(s){}return"#3F94E9"},loadMoreData:function(){this.$1s.$BT++;this.$Rz=!0;this.retrieveData()},$1ws:function(n,t){this.$5k=n;this.$ff=!0;t?this.loadMoreData():(this.$1s.$BT--,this.$Rz=!0,this.retrieveData())},$2cQ:function(n){var i=n.get_$1n(),t=n.get_$9t();Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&(t=i);this.$2dx(i,t)},$2dx:function(n,t,i){$0.$1(i)?(this.$16E.add(n),this.$16D.add(t)):(this.$16E.insert(i,n),this.$16D.insert(i,t));this.$16F[n]=t;this.$1JE[t]=n},editModeApplySettings:function(){this.$GB.$1PA();this.$Rz=!1;this.retrieveData()},$2zX:function(){var t={},n,i,r;t.userId=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString();t.includePublic=!0;n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveUserQueues",t);i=this;n.OnSuccess=function(n){i.$2zY(n)};r=this;n.OnFailure=function(n){r.$5O(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,n)},$2zY:function(n){var r,u,e,i;this.$14p=new Array(0);r=n.entityCollection;u=r.get_entities();for(var f=u,o=f.length,t=0;t<o;++t)e=f[t],i=e.$N.Id.toString(),$0.$1(i)||this.$14p.push(i);this.$1o="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\t \r\n\t\t\t\t\t\t\t\t<entity name='"+this.$S+"'>"+this.$SJ+this.$1Dr()+"<link-entity name='queueitem' from='objectid' to='"+this.$VX+"'>\r\n\t\t\t\t\t\t\t\t\t<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t\t<filter type='or'>"+this.$32c()+"<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t<\/link-entity>"+this.$FE()+"<\/entity><\/fetch>";this.$1TU()},$32c:function(){for(var t="<filter type='or'><condition attribute='queueid' operator='in'>",i=!1,n=0;n<this.$14p.length;n++)$0.$1(this.$14p[n])||(t+="<value>{"+this.$14p[n]+"}<\/value>",i=!0);return t+="<\/condition><\/filter>",i?t:""},isQuickActionBarEnabled:function(){return this.$GB.$I0.get_Count()>0?!0:!1},$2JI:function(){var n="";return this.$2L&&(n=this.$RA===1?this.$2L.$1S:this.get_EntityPluralName()),n},screenReaderTextForTilesContainer:function(n,t){var i=this.$2L?this.get_EntityPluralName():null;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TilesContainer_ScreenReader_Label"),t,"tiles",i,this.$83().$Lq,n)},screenReaderTextForTileHeader:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TileHeader_ScreenReader_Label"),this.$KO,"queue",this.$RA,this.$2JI())},screenReaderTextForTilePopup:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("TilePopup_ScreenReader_Label"),this.$KO,"queue",this.$RA,this.$2JI(),this.$XH)},$2JQ:function(){this.$dm=this.$Lw;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null);n.OnSuccess=this.$$d_getQueueItemViewSuccess;n.OnFailure=this.$$d_handleStreamError;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},getQueueItemViewSuccess:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n.toString()),i=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(t).$O("fetch");this.$2pX(i)},$1iY:function(n){return n==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='inner'>\r\n\t\t\t\t\t\t\t\t\t\t<attribute name='systemuserid' />\r\n\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<condition attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString()+"' />\r\n\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>":n==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t<condition attribute='queueviewtype' operator='eq' value='0'/>\r\n\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t<\/link-entity>":n==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='outer'> <attribute name='systemuserid'/> <\/link-entity> <link-entity name='queue' from='queueid' to='queueid' alias='qq' link-type='outer'> <attribute name='queueviewtype'/> <\/link-entity> <filter operator='and'> <filter type ='or'> <condition entityname='qq' attribute='queueviewtype' operator='eq' value='0' /> <condition entityname='qm' attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString()+"' /> <\/filter> <\/filter>":""},$2pX:function(n){var i=null,r=n.$O("entity"),v=r.$O("filter"),s="",h="",c="",l="",u=r.$O("filter")?Microsoft.Crm.Client.Core.Framework.Utils.$6Z.$1Ti(v):"",e,o,a,t;this.$GF==="0"?u+="<condition attribute='objecttypecode' operator='eq' value='"+this.$AD+"' />\r\n\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$Lx+"' />":this.$GF==="2"&&(u+="<filter type='and'><condition attribute='objecttypecode' operator='eq' value='"+this.$AD+"' /><\/filter>");var y="<filter type='and'>"+u+"<\/filter>",p=r.$O("link-entity"),f=this.$2iu(p);this.$1sz&&(f+=this.$1iY("436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()));this.$GF==="2"&&(f+=this.$1iY(this.$Lx.toLowerCase()));e="";this.$83().get_IsMultipleEntityGraphSupported()&&(o=this.$2IN(this.$1tq),o&&(e="<filter type='and'>"+o.$7J()+"<\/filter>"));a=this.$1Dr();n.$1T("version")&&(s=" version='"+n.$1T("version")+"' ");n.$1T("output-format")&&(h=" output-format='"+n.$1T("output-format")+"' ");n.$1T("mapping")&&(c=" mapping='"+n.$1T("mapping")+"' ");l=" distinct='true' ";i="<fetch"+s+h+c+l+"><entity name='queueitem'><attribute name='objectid' />"+y+f+e+a+"<\/entity><\/fetch>";t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);t.OnSuccess=this.$$d_$33e;t.OnFailure=this.$$d_$5O;t.QueryValue=i;this.set_DefinitionId(i);this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t)},$2iu:function(n){var i;if($0.$1(n))return"<link-entity name='"+this.$S+"' from='"+this.$VX+"' to='objectid' link-type='inner'>"+this.$FE()+"<\/link-entity>";var r="",u="",f="",e="",t="";return n.$1T("name")&&(t=n.$1T("name"),u=" name='"+t+"' "),r=" alias='"+t+"__alias' ",n.$1T("from")&&(f=" from='"+n.$1T("from")+"' "),n.$1T("to")&&(e=" to='"+n.$1T("to")+"' "),this.$83().$8U!==this.$S&&(this.$1tq=t),i=Microsoft.Crm.Client.Core.Framework.Utils.$6Z.$1Ti(n),i+=this.$FE(),"<link-entity "+r+u+f+e+">"+i+"<\/link-entity >"},$33e:function(n){var e=n.get_$Bt().$22N(),f,i,r;this.$10W=new Array(0);for(var u=e,o=u.length,t=0;t<o;++t)f=u[t],i=f.GetValue("objectid"),$0.$1(i.Id.toString())||this.$10W.push(i.Id.toString());this.$10W.length?(r=n,this.$RA=r.get_EntityCollection().$A8,this.$y1=r.get_EntityCollection().$K9,this.$1s.$Jg=Math.floor(this.$RA/this.$1s.$32),this.$1o="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\r\n\t\t\t\t\t\t\t\t\t<entity name='"+this.$S+"'>"+this.$SJ+this.$1Dr()+"<filter type='or'>"+this.$314()+"<\/filter>"+this.$FE()+"<\/entity><\/fetch>"):(this.$1o=null,this.$qf=new Array(0),this.$RA=0,this.$8("IsLoading"));this.$1TU();n.dispose()},$314:function(){for(var t="",n=0;n<this.$10W.length;n++)t+="<condition attribute='"+this.$VX+"' operator='eq' value='"+this.$10W[n]+"' />";return t},screenReaderTextForItemCount:function(){var n=this.$y1?this.$RA.toString()+" +":this.$RA.toString(),t=this.$S==="incident"?"case":this.$S;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueuePanels_ScreenReader_ItemCount"),this.$KO,n,t,this.$16F[this.$XH])},screenReaderTextForSortIcon:function(){var n=this.$12k?" descending ":" ascending ";return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueuePanels_ScreenReader_SortIcon"),this.$16F[this.$XH],n)},screenReaderTextForStreamName:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueuePanels_ScreenReader_StreamName"),this.$KO)},screenReaderTextForMenuButton:function(){var n=this.$S==="incident"?"case":this.$S;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("QueuePanels_ScreenReader_MenuButton"),n)},$2Sa:function(){var n,t,i,r;if(this.$RB){n=this.$RB;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$RB=null}},$1Tw:function(){return this.$207},$2Xb:function(n){this.$207=n},$GX:function(){$0.$1(this.$5k)||(this.$5k.dispose(),this.$5k=null);this.$1r=null;this.$w=null;this.$16E=null;this.$NV=null;this.$dm=null;this.$S=null;this.$VX=null;this.$cj=null;this.$1Ol=null;this.$SQ=null;this.$KW=null;this.$VD=null;this.$KS=null;this.$SJ=null;this.$10k=null;this.$2L=null;this.$16F=null;this.$1JE=null;this.$16D=null;this.$14n=null;this.$18M=null;this.$1R.dispose();this.$sG();this.$2Sa();this.$GB.dispose();Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Bk=function(){Microsoft.Crm.Client.Core.ViewModels.$Bk.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bk.prototype={$82:null,$X:null,$T:null,get_Command:function(){return this.$82},set_Command:function(n){return this.$82=n,this.$22w(),n},get_TargetViewModel:function(){return this.$X?this.$X:this},set_TargetViewModel:function(n){return this.$X=n,this.$22w(),n},get_Parameters:function(){return this.$T},set_Parameters:function(n){return this.$T=n,this.$22w(),n},$22w:function(){$0.$1(this.$82)||($0.$1(this.$T)&&(this.$T={}),this.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$10(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$82,null,this.$T))));this.$8("QuickActionButtonUpdated")},HandleOnClick:function(){var f="ExecutingQuickAction::"+this.$82+"::"+this.$1D,n,t,r,u,i;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c(f,0,this.get_ViewModelId());$0.$1(this.$2)||(n=this.get_TargetViewModel(),$0.$1(n)||(n.$55==="email"?(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(n.$FW)&&(t=this.$2.$13,$0.$1(t.$U0)&&(t.$U0={}),r=n.$FW,t.$U0.InteractionWallViewModel=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T8("InteractionWallViewModel",r.$BG),t.$U0.IsInteractionWallQuickAction=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T8("IsInteractionWallQuickAction","true")),u=this.$T.CommandId,u==="Mscrm.Form.email.Send"?this.$36H():($0.$1(this.$2.$Q)||$0.$1(this.$2.$Q.$T)?$0.$1(this.$2.$Q.$AZ)||(i=this.$2.$Q.$AZ,$0.$1(i.$Q)||$0.$1(i.$Q.$T)||(i.$Q.$T.OverriddenEntityId=n.$I0.get_$I(0).Id,i.$Q.$T.OverriddenEntityName=n.$55)):(this.$2.$Q.$T.OverriddenEntityName=n.$55,this.$2.$Q.$T.OverriddenEntityId=n.$I0.get_$I(0).Id),this.$29.execute())):this.$29.execute()))},$1ZR:function(n,t,i){for(var r,o,e=t.$M.fields[i],u=[],f=0;f<e.get_entities().length;f++)r=e.get_entities()[f].fields.partyid,o=$0.$1(r)?new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem("","",""):new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(r.LogicalName,r.Id.toString(),r.Name),u.push(o);n.$U0[i]=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$T8(i,u);u=null},$36H:function(){var i=this.get_TargetViewModel(),r=i.$FW,t=r.get_$3Nz(),u=new Xrm.Objects.EntityReference("email",t),f=Microsoft.Crm.Client.Core.Framework.$G.$b("QuickActionButtonViewModel","QuickActionButtonViewModel"),n=this,e=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(u,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["to","from","cc","bcc"]),Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),f).then(function(i){var r=Microsoft.Crm.Client.Core.Models.$O.$B(i),u,f;$0.$1(n.$2.$Q.$T)?$0.$1(n.$2.$Q.$AZ)||(u=n.$2.$Q.$AZ,$0.$1(u.$Q)||$0.$1(u.$Q.$T)||(u.$Q.$T.OverriddenEntityId=t.toString(),u.$Q.$T.OverriddenEntityName="email")):(n.$2.$Q.$T.OverriddenEntityId=t.toString(),n.$2.$Q.$T.OverriddenEntityName="email");f=n.$2.$13;n.$1ZR(f,r,"bcc");n.$1ZR(f,r,"from");n.$1ZR(f,r,"to");n.$1ZR(f,r,"cc");n.$29.execute();r.$6D()},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Failed for Send Email QuickAction in Interaction Wall with error : {0}",n.$E)})}};Microsoft.Crm.Client.Core.ViewModels.$8N=function(n){this.$28B=["Mscrm.HomepageGrid.incident.Resolve","Mscrm.AssignSelectedRecord","Mscrm.DeleteSelectedRecord","Mscrm.HomepageGrid.incident.Cancel","Mscrm.HomepageGrid.incident.DoNotDecrementEntitlementTerms","Mscrm.HomepageGrid.incident.RunRoutingRule","Mscrm.AddSelectedToQueue","Mscrm.HomepageGrid.incident.MergeRecords","Mscrm.HomepageGrid.incident.AssociateParentChildCase"];this.$284=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$287=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$28E=["Mscrm.HomepageGrid.queueitem.Route","Mscrm.HomepageGrid.queueitem.Pick","Mscrm.HomepageGrid.queueitem.Release","Mscrm.HomepageGrid.queueitem.RemoveLeo"];this.$28C=["Mscrm.DeleteSelectedRecord"];this.$28D=[];this.$286=["Mscrm.CloseActivity","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SaveAsCompleted","Mscrm.SaveAsCancelled","Mscrm.SetRegardingForSelected","Mscrm.ConvertToCase"];this.$285=["Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SaveAsCompleted","Mscrm.SaveAsCancelled","Mscrm.SetRegardingForSelected"];this.$28A=["Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SetRegardingForSelected"];this.$289=["Mscrm.Form.email.Send","Mscrm.Form.email.ReplyAll","Mscrm.Form.email.Reply","Mscrm.Form.email.Forward","Mscrm.Form.email.AttachFile","Mscrm.AssignPrimaryRecord","Mscrm.DeletePrimaryRecord","Mscrm.Form.ConvertToCase"];this.$28F=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$288=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$Jc={};this.$Jc.incident=this.$28B;this.$Jc.account=this.$284;this.$Jc.contact=this.$287;this.$Jc.knowledgearticle=this.$28C;this.$Jc.knowledgebaserecord=this.$28D;this.$Jc.activitypointer=this.$1DB(n);this.$Jc.socialprofile=this.$28F;this.$Jc.queueitem=this.$28E;this.$Jc.appointment=this.$1DB(n);this.$Jc.phonecall=this.$1DB(n);this.$Jc.task=this.$1DB(n);this.$Jc.email=this.$28A;this.$Jc.socialactivity=this.$1DB(n);this.$Jc.customentity=this.$288;this.$1SD={};this.$1SD.email=this.$289};Microsoft.Crm.Client.Core.ViewModels.$8N.$3OR=function(n){switch(n){case"Mscrm.CloseActivity":return"Mscrm.Form.CloseActivity";case"Mscrm.DeleteSelectedRecord":return"Mscrm.DeletePrimaryRecord";case"Mscrm.AddSelectedToQueue":return"Mscrm.AddPrimaryToQueue";case"Mscrm.AssignSelectedRecord":return"Mscrm.AssignPrimaryRecord";case"Mscrm.ConvertToCase":return"Mscrm.Form.ConvertToCase";case"Mscrm.SaveAsCompleted":return"Mscrm.SavePrimaryActivityAsComplete";default:return n}};Microsoft.Crm.Client.Core.ViewModels.$8N.$1yz=function(n,t,i,r,u){var e=new Microsoft.Crm.Client.Core.ViewModels.$8N(u),f;if($0.$1(n)||$0.$1(t))return null;switch(t){case"grid":f=e.$Jc;break;case"form":f=e.$1SD;break;default:f=null}return n in f?new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f[n]):i?r?new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f.activitypointer):new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f.customentity):null};Microsoft.Crm.Client.Core.ViewModels.$8N.prototype={$Jc:null,$1SD:null,$1DB:function(n){return n?this.$286:this.$285}};Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper=function(n){Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.prototype={$1fG:null,refresh:function(){this.$1fG.$X6()},getCellValue:function(){return null}};Microsoft.Crm.Client.Core.ViewModels.$Bl=function(){this.$$d_$3Em=Function.createDelegate(this,this.$3Em);this.$$d_$3Eo=Function.createDelegate(this,this.$3Eo);this.$$d_$3En=Function.createDelegate(this,this.$3En);this.$$d_$3FP=Function.createDelegate(this,this.$3FP);this.$hH=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk));this.$X1=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk));this.$X0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk));this.$hI=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk));Microsoft.Crm.Client.Core.ViewModels.$Bl.resolveInheritance();this.get_Id=this.get_$1a;this.set_Id=this.set_$1a;this.get_$Og=this.get_IsSelected;this.set_$Og=this.set_IsSelected;this.get_$2R=this.get_PrimaryModelName;this.set_$2R=this.set_PrimaryModelName;this.get_Root=this.get_$4K;this.set_Root=this.set_$4K;this.get_$Dt=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Bl.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bl.prototype={$55:null,$Q7:null,$14q:null,$17F:null,$1a3:!1,$1s0:!1,$FG:!1,$nE:!1,$I0:null,$FW:null,get_TargetViewModelContext:function(){return this.$FW},set_TargetViewModelContext:function(n){return this.$FW=n,n},$q0:null,$xG:null,$17K:null,$q1:null,get_Context:function(){return this.$q1},set_Context:function(n){return this.$q1=n,n},get_Entity:function(){return this.$55},set_Entity:function(n){return this.$55=n,this.set_PrimaryModelName(this.$55),this.$1y&&this.$2Nm(),n},get_queueContainerQuickActionPopup:function(){return this.$1a3},set_queueContainerQuickActionPopup:function(n){return this.$1a3=n,this.$8("QueueContainerQuickActionPopup"),n},get_interactionWallQuickActionPopup:function(){return this.$1s0},set_interactionWallQuickActionPopup:function(n){return this.$1s0=n,this.$8("InteractionWallQuickActionPopup"),n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.$8k.prototype.$18.call(this);this.$I0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.EntityReference));this.$17F=new Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel;this.$17K=new Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper(this.$17F);this.$17K.$1fG=this;$0.$1(this.$55)||this.$2Nm()},$1eI:function(n){return n.val=this.$Q7,!0},$3WD:function(n){if(!$0.$1(this.$FW)){var t=this.$FW.get_State();return n.val=t,!0}return!1},$3WE:function(n){if(!$0.$1(this.$FW)){var t=this.$FW.get_State();return n.val=Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.toString(t),!0}return!1},$3WF:function(n){return $0.$1(this.$FW)?!1:(n.val=this.$FW.get_$21W(),!0)},get_$39S:function(){return!0},get_$394:function(){return!1},get_$2oa:function(){return[this.$55]},get_$2ob:function(){return this.$$d_$3FP},$GX:function(){var n,t,i,r;this.$I0=null;this.$FW=null;this.$q0=null;this.$xG=null;this.$17K=null;$0.$1(this.$17F)||(this.$17F.dispose(),this.$17F=null);this.$lZ(n={val:this.$hH});this.$hH=n.val;this.$lZ(t={val:this.$X0});this.$X0=t.val;this.$lZ(i={val:this.$hI});this.$hI=i.val;this.$lZ(r={val:this.$X1});this.$X1=r.val;this.$hH=null;this.$X0=null;this.$hI=null;this.$X1=null;this.$14q=null;Microsoft.Crm.Client.Core.ViewModels.$8k.prototype.$GX.call(this)},$lZ:function(n){if(!$0.$1(n.val)){for(var t=0;t<n.val.get_Count();++t)$0.$1(n.val.get_$I(t))||(n.val.get_$I(t).dispose(),n.val.set_$I(t,null));n.val.clear()}},$2Nm:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleEntityMetadataAction",null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,n)},$3FP:function(n){this.$FG=n[0].$FG;this.$nE=n[0].get_$8p();this.$3Sd();this.$3C4()},$3Sd:function(){this.$Q7=this.$nE&&this.$55!=="email"?"activitypointer":this.$55},$3C4:function(){(this.$14q=Microsoft.Crm.Client.Core.ViewModels.$8N.$1yz(this.$55,this.$q1,this.$FG,this.$nE,Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$FW)),this.$14q)&&this.$1yz(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$FW))},$3En:function(n){this.$q0=n;this.$2m2();this.$2m3()},$3Eo:function(n){this.$xG=n;this.$1yz(!1)},$1yz:function(n){var i=this.$30D(n),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet",i);t.OnSuccess=this.$$d_$3En;t.OnSuccess=n?this.$$d_$3Eo:this.$$d_$3En;t.OnFailure=this.$$d_$3Em;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this,t)},$3Em:function(){throw Error.create("QuickActionViewModel: Command Set Retrieval Failed");},$2m2:function(){var n;this.$lZ(n={val:this.$hH});this.$hH=n.val;this.$2NH(this.$q0.$EJ.Controls);this.$8("QuickActionButtonCreated")},$2NH:function(n){for(var t,r,u,f=n,e=f.length,i=0;i<e;++i){t=f[i];switch(t.ControlType){case"Button":r=t.Command.split("|");u=r[r.length-1];this.$14q&&this.$14q.contains(u)&&this.$2dV(t,u);break;case"Group":case"Tab":case"FlyoutAnchor":this.$2NH(t.Children)}}},$2dV:function(n,t){var u=this.$q0.$EJ.Commands,r=u[this.$Q7][t],i=new Microsoft.Crm.Client.Core.ViewModels.$Bk;$0.$1(r)||(n.CommandParameters.entityLogicalName=this.$Q7,n.CommandParameters.CommandId=t,n.CommandParameters.RibbonActionHandler=r.Actions,n.CommandParameters.TargetViewModel=this,i.set_Command("WebResourceCommand"),i.set_Parameters(n.CommandParameters),i.set_Label(n.LabelText),i.set_TargetViewModel(this),i.set_$4K(this.$2),i.set_$1a(n.Id),this.$hH.contains(i)||this.$hH.add(i))},$2m3:function(){var i,r,u,n;this.$lZ(i={val:this.$X1});this.$X1=i.val;this.$lZ(r={val:this.$X0});this.$X0=r.val;this.$lZ(u={val:this.$hI});this.$hI=u.val;for(var f=this.$hH.toArray(),e=f.length,t=0;t<e;++t)n=f[t],Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$FW)?this.$373(n):this.$q1==="form"?this.$X1.add(n):this.$2Rp(n)},$2Rp:function(n){var f=n.$T.CommandId,e=this.$q0.$EJ.Commands,r=e[this.$Q7][f],t,i,u;if(!$0.$1(r)){if(t=r.EnableRules,!t.length||Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$FW)){this.$X1.add(n);return}if(i=this.$34L(t),!$0.$1(i)){u=this.$2pE(i);switch(u){case 0:this.$X1.add(n);break;case 1:this.$X0.add(n);break;case 2:this.$hI.add(n)}}}},$373:function(n){var t=n.$T.CommandId,o=Microsoft.Crm.Client.Core.ViewModels.$8N.$3OR(t),s=this.$xG.$EJ.Commands,r=s[this.$Q7][o],h=this.$xG.$EJ.Rules[this.$Q7],c=this.$xG.$EJ.DisplayRules[this.$Q7],e,w;if(!$0.$1(r)){var l=r.EnableRules,a=r.DisplayRules,u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),f=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.ViewModels.$96),v=this,i=l.map(function(n){return f.$1RE(h[n],v)}),y=this,p=a.map(function(n){return f.$1RE(c[n],y)});i=i.concat.apply(i,p);e=this;w=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(i){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Quick Actions : Evaluated [{1}] rules for command [{0}]",t,i.length);var r=i.reduce(function(n,t){return!!(n&t)},!0);r&&e.$2Rp(n);Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Quick Actions : Evaluation of {2} rules for command [{0}] succeeded with result: {1}")',t,r,i.length);u.resolve(r)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Quick Actions : Evaluation of rules for command [{0}] failed with message: {1}")',t,n.$E);u.reject(n)})}},$34L:function(n){for(var f,e,r,u=n,s=u.length,t=0;t<s;++t){f=u[t];e=this.$q0.$EJ.Rules[this.$Q7][f];for(var o=e.Rules,h=o.length,i=0;i<h;++i)if(r=o[i],r.RuleType===5)return r}return null},$2pE:function(n){var t=n;return t.Minimum===1&&t.Maximum===1?0:t.Minimum===1&&t.Maximum===-1?1:t.Minimum===2&&t.Maximum===-1?2:3},$30D:function(n){return this.$q1==="form"||n?"Form:"+this.$Q7:this.$q1==="grid"?"HomePageGridItem:"+this.$Q7:null},getQuickActionButtonViewModels:function(){var n,t;return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("QuickActionsShown",0,this.get_ViewModelId()),this.$I0&&this.$I0.get_Count()?this.$I0.get_Count()===1?(n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk)),n.addRange(this.$X1.toArray()),n.addRange(this.$X0.toArray()),n.toArray()):(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk)),t.addRange(this.$X0.toArray()),t.addRange(this.$hI.toArray()),t.toArray()):null},getQuickActionButtonViewModelCount:function(){return this.$I0&&this.$I0.get_Count()?this.$I0.get_Count()===1?this.$X1.get_Count()+this.$X0.get_Count():this.$X0.get_Count()+this.$hI.get_Count():0},handleQueueItemSelection:function(n,t,i){var e=n,r,f;if(t)r=new Mscrm.EntityReference,r.Id=e.toString(),r.TypeCode=Xrm.Internal.getEntityCode(i),this.$I0.add(r);else for(var o=this.$I0.toArray(),s=o.length,u=0;u<s;++u)f=o[u],f.Id===e.toString()&&this.$I0.remove(f);this.$1a3=!1;this.$10p("SelectionCountChanged","QueueContainerQuickActionPopup")},$2d2:function(n,t){var r=n,i=new Mscrm.EntityReference;i.Id=r.toString();i.TypeCode=Xrm.Internal.getEntityCode(t);this.$I0.add(i)},$1PA:function(){this.$I0.clear();this.$8("SelectionCountChanged")},$X6:function(){var t,n;Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.isInstanceOfType(this.$FW)?(t=this.$FW.get_ParentViewModel(),t.$X6(),t.$2IV().$9L.raiseEvent(Function,null)):Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$FW)&&(n=this.$FW.$BG,n.$2x="InteractionWallQuickActionRefresh",n.refreshData(),n.$2x="")}};Microsoft.Crm.Client.Core.ViewModels.$Ev=function(){Microsoft.Crm.Client.Core.ViewModels.$Ev.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ev.prototype={RefreshData:function(){this.$5o().refreshWithoutScriptReload()},$5o:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.prototype={$2ON:30,get_MaximumLengthOfTag:function(){return this.$2ON},$3KM:function(){var n=this;this.$1Br.sort(function(n,t){var i=n,r=t,u=Number.parseInvariant(i.$10V),f=Number.parseInvariant(r.$10V);return f!==u?f-u:i.$4F.localeCompare(r.$4F)})}};Microsoft.Crm.Client.Core.ViewModels.$FR=function(){this.$$d_HandleViewNameSet=Function.createDelegate(this,this.HandleViewNameSet);Microsoft.Crm.Client.Core.ViewModels.$FR.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$FR.prototype={$Pk:null,get_ViewName:function(){return this.$Pk},set_ViewName:function(n){return this.$Pk=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j,this.$$d_HandleViewNameSet))},HandleViewNameSet:function(n){this.$Pk=n.$Pk;this.$Pk&&(this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j,this.$$d_HandleViewNameSet),this.$8("ViewNameSet"))},$GX:function(){this.$Pk=null;this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j,this.$$d_HandleViewNameSet);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel=function(){this.$1Br=[];this.$wB=[];Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.prototype={$as:null,$Vi:null,$4r:null,get_Title:function(){return this.$4r},set_Title:function(n){return this.$4r=n,n},get_Data:function(){return this.$Pb&&(this.$Pb=!1,this.set_IsLoading(!0),this.$Km()),this.$1Br},get_SelectedElements:function(){return this.$wB},set_SelectedElements:function(n){return this.$wB=n,n},$2oB:function(n){var t=n.$1Na[0];if(Microsoft.Crm.Client.Core.Models.$8o.isInstanceOfType(t)){if(this.$Vi.get_$23().get_Count()===2){var u=t,i=Number.parseInvariant(u.Value.toString()),f=Number.parseInvariant(this.$Vi.get_$23().get_$I(0).get_$2O().toString()),e=Number.parseInvariant(this.$Vi.get_$23().get_$I(1).get_$2O().toString());return i>=f&&i<=e}}else if(Microsoft.Crm.Client.Core.Models.$7q.isInstanceOfType(t)&&this.$Vi.get_$23().get_Count()===2){var r=t,o=new Date(Date.parse(this.$Vi.get_$23().get_$I(0).get_$2O().toString())),s=new Date(Date.parse(this.$Vi.get_$23().get_$I(1).get_$2O().toString()));return r.MinDate>=o&&r.MaxDate<=s}return!!Number.parseInvariant(n.$10V)},get_SelectedIdsDictionary:function(){var n,t,r,i;if($0.$1(this.$as)){if(n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilter_GetSelectedIdsDictionary"),n.start(),this.$as={},this.$ja)for(t=0;t<this.get_Data().length;t++)this.$2oB(this.get_Data()[t])&&(this.$as[this.get_Data()[t].$4F]=!0);else for(r=this.$wB,i=0;i<r.length;++i)this.$as[r[i]]=!0;n.stop();n.addParameter(this.get_ViewModelId());n.addParameter(this.$G)}return this.$as},set_SelectedIdsDictionary:function(n){return this.$as=n,n},$ja:!1,get_FilterEventHadRangeQuery:function(){return this.$ja},set_FilterEventHadRangeQuery:function(n){return this.$ja=n,n},$1Ll:!1,get_IsError:function(){return this.$1Ll},set_IsError:function(n){return this.$1Ll=n,n},$bq:null,get_ErrorTitle:function(){return this.$bq},set_ErrorTitle:function(n){return this.$bq=n,n},$Pb:!1,get_LazyLoad:function(){return this.$Pb},set_LazyLoad:function(n){return this.$Pb=n,n},$Ug:null,get_ErrorMessage:function(){return this.$Ug},set_ErrorMessage:function(n){return this.$Ug=n,n},GetElementPrimaryId:function(n){var t=n[0];return $0.$1(t)?"":t.Value},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$AN.prototype.$18.call(this),this.$Pb=!1,this.$ja=!1,this.$as=null,this.$Vi=null)},$Km:function(){if(!$0.$1(this.$AG)){var n=this;this.$2Nn().done(function(){if(n.$1t1())n.$2JP();else{n.set_IsLoading(!0);var t=n.$AG.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(t)}n.$SR.start()})}},$3KM:function(){},$22i:function(){var i,t,n;if(this.$SR.stop(),this.$SR.addParameter(this.get_ViewModelId()),this.$SR.addParameter(this.$G),$0.$1(this.$D9)){this.set_IsLoading(!1);return}for(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY(this.$Xj?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId()),this.$Xj||(this.$Im("RenderedInitialData"),this.$Xj=!0),this.$1Br=[],i=!$0.$1(this.$D9.$KG)&&this.$D9.$KG.length>0?this.$D9.$KG[0].Values:[],t=!$0.$1(this.$D9.$DW)&&this.$D9.$DW.length>0?this.$D9.$DW[0].DataPoints:[],n=0;n<i.length;++n){var r=i[n],u=t[n].Value.toString(),f=t[n].Aggregators;this.$1Br[n]=new Microsoft.Crm.Client.Core.Models.EntityCountForAttributeValue(r,u,t[n].FormattedValue.toString(),f)}this.$3KM();this.$2D?this.set_IsLoading(!1):this.$8("Data");this.$2av()},HandleApplyFilter:function(n,t){this.$5o()&&this.$2fn(n,t)},OnFilterChangeCompletedEvent:function(n){var h,c,e,o,u,i,f,t,r,s;if(this.$5o().get_IsMultipleEntityGraphSupported()){c=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$Gr)?"":n.$NO.toString(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(c);this.$tk={};e=n.$NO;for(o in e)u={key:o,value:e[o]},$0.$1(n.$NO[u.key])||(this.$tk[u.key]=n.$NO[u.key].$7J())}else h=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",$0.$1(n.$Gr)?"":n.$Gr.$7J(),n.$h),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(h),this.$12F=n.$Gr.$7J();if(this.$KH){for(i=this.$KH.$pu,f=!1,t=0;t<i.get_Count();t++)r=null,this.$5o().get_IsMultipleEntityGraphSupported()?(s=this.$1Tb(i.get_$I(t)),$0.$1(n.$NO[s])||(r=n.$NO[s].$FE(i.get_$I(t)))):r=n.$Gr.$FE(i.get_$I(t)),$0.$1(r)||(f||(f=!0,this.$wB=[],this.$as=null),this.$35Z(r));f||(this.$wB=[],this.$as=null,this.$ja=!1,this.$Vi=null)}if(!this.$Xj){this.$Pb=!0;return}this.$Km()},$35Z:function(n){if(!$0.$1(n)&&n.get_$23().get_Count()>0)if(n.get_$23().get_$I(0).get_$Jr()!=="eq")this.$ja=!0,this.$Vi=n.$8W();else{this.$ja=!1;this.$Vi=null;for(var t=0;t<n.get_$23().get_Count();t++)this.$wB.push(n.get_$23().get_$I(t).get_$2O())}},$1E0:function(n,t){this.$1Ll=!0;this.$bq=n;this.$Ug=t;this.$8("Data")},VisualFilterHeaderScreenReaderLabel:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("VisualFilterHeader_ScreenReader_Label"),n,this.$4r)},PrimaryEntityDisplayName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.get_$vH()).$1S},PrimaryEntityPluralName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.get_$vH()).$8O}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls");Microsoft.Crm.Client.Core.ViewModels.Controls.$6E=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.$zI=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$SI.get_$I(n.toString());return $0.$1(t)?!1:t.$Nm};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cu=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cu.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cu.prototype={$1BJ:null,$H0:"",get_DataField:function(){return this.$1BJ},set_DataField:function(n){return this.$1BJ=n,this.SetupData(),n},get_SpecifyFieldErrorTitle:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ReferencePanel_QuickView_SpecifyField"),this.get_BindingField())},get_BindingField:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$H0)?null:$0.$1(Xrm.Page.getControl(this.$H0))?this.$H0:Xrm.Page.getControl(this.$H0).getLabel()},set_BindingField:function(n){return this.$H0=n,n},$yO:!1,get_ShouldShowSpecifyFieldError:function(){return this.$yO},set_ShouldShowSpecifyFieldError:function(n){return this.$yO=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),this.SetupData())},SetupData:function(){var t,i,e,o,r,u,f,s,n;if($0.$1(this.$1BJ)){t=this.$F;for(i in t)e={key:i,value:t[i]},o=e.value,o.set_Rerender(!1);this.$yO=!0;this.$8("Render");return}r=this.$1BJ;this.$yO=!0;u=this.$F;for(f in u)s={key:f,value:u[f]},n=s.value,n.get_Name()===r.LogicalName?(this.$yO=!1,n.set_RecordId(r),n.set_Rerender(!0),n.set_SetActionable(!0),n.$X6()):n.set_Rerender(!1);this.$8("Render")},$GX:function(){var i=this.$F,n,r,t;for(n in i)r={key:n,value:i[n]},t=r.value,t&&this.$1Qk(t);this.set_DataField(null);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel=function(){this.$$d_$13j=Function.createDelegate(this,this.$13j);this.$$d_$Hg=Function.createDelegate(this,this.$Hg);this.$$d_HandleFilterChangeInitiatedEvent=Function.createDelegate(this,this.HandleFilterChangeInitiatedEvent);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.initializeBase(this,[37]);this.$1Em=!1;this.$8U="incident";this.$Pc=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident");this.$Rr=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident");this.$Lu=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident");this.set_DashboardCategory("1_0");this.$9L=new Microsoft.Crm.Client.Core.Framework.$DR;this.get_IsMultipleEntityGraphSupported()&&(this.$FT={},this.$FT.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident"),this.$J0={},this.$J0.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident"),this.$Er={},this.$Er.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,"incident"),this.$js={})};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT=function(n,t,i,r){for(var u,e=t.toArray(),o=e.length,f=0;f<o;++f)u=e[f],i&&n.$N5(u.get_$OJ()),r?n.$6b(u.$8W()):n.$6b(u)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.prototype={$1BL:!0,$9L:null,get_EventHandler:function(){return this.$9L},set_EventHandler:function(n){return this.$9L=n,n},$1Em:!1,$ds:null,get_IsMultipleEntityGraphSupported:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("InteractionCentricMultiEntityChartsFeature")},$Lq:null,get_FilterByAttributeName:function(){return this.$Lq},set_FilterByAttributeName:function(n){return this.$Lq=n,n},$1LL:null,get_FilterByAttributeId:function(){return this.$1LL},set_FilterByAttributeId:function(n){return this.$1LL=n,n},$1Lo:!1,get_IsFilterByAttributeSecured:function(){return this.$1Lo},set_IsFilterByAttributeSecured:function(n){return this.$1Lo=n,n},get_DashboardCategory:function(){return this.$ds},set_DashboardCategory:function(n){if(!$0.$1(n)){var t=n.split("_");t.length>1&&(this.$1Em=t[1]==="1"?!0:!1);this.$ds=t[0]}return n},$8U:null,get_PrimaryEntity:function(){return this.$8U},set_PrimaryEntity:function(n){return this.$8U=n,n},$Rr:null,get_DateRangeFilter:function(){return this.$Rr},set_DateRangeFilter:function(n){return this.$Rr=n,n},$Lu:null,get_PrimaryEntityFilterExludingDateRange:function(){return this.$Lu},set_PrimaryEntityFilterExludingDateRange:function(n){return this.$Lu=n,n},$Pc:null,get_PrimaryEntityFilter:function(){return this.$Pc},set_PrimaryEntityFilter:function(n){return this.$Pc=n,n},$J0:null,$Er:null,$FT:null,$js:null,$18:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C(this.$1Db("Initialize"),2001,{PrimaryEntity:this.$8U,DashboardCategory:this.$ds,FilterByAttributeName:this.$Lq,IsEntityDashboard:this.$1Em},"FirstLoad");this.$1y||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("InteractionCentricDashboard_Initialize",1,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$18.call(this),this.$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_HandleFilterChangeInitiatedEvent));this.$3Y7();$0.$1(this.$2)||(this.$2.$Xz&&this.$Hg(null,null),this.$2.add_$Ts(this.$$d_$Hg),this.$2.add_$o9(this.$$d_$13j))},$1Db:function(n){return"InteractionCentricDashboardViewModel-"+this.$12+" ("+n+")"},$3Y7:function(){var i,n,t;this.$1Lo&&this.$1BL&&(Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.$zI(this.$1LL)||(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$1E(this.$1Db("ValidateFilterByAttribute"),2001,{Warning:"(ValidateFilterByAttribute) User doesn't have read access to attribute "+this.$Lq},"NoReadLevelAccessOnAttribute"),this.$1BL=!1,i=this,Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_ServiceDesk_AccessDenied_DateRange"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_ServiceDesk_AccessDenied_DateRange"),function(){}),n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$Lq),n.$9r(this.$Lq,"on-or-after","2015-01-01T00:00:00"),n.$9r(this.$Lq,"on-or-before","2014-01-01T00:00:00"),this.get_IsMultipleEntityGraphSupported()?(this.$J0[this.$8U].$N5(this.$Lq),this.$J0[this.$8U].$6b(n),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$Lq,2,0,null),t.$Kq=this.$J0):(this.$Rr.$N5(this.$Lq),this.$Rr.$6b(n),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$Lq,2,0,this.$Rr)),this.$2.$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,t)))},$Hg:function(){var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.$3Bu();window.localStorage.setItem("isMarsISHDashboard","true")},-9,"JobLoadMarsScripts")},$13j:function(){},$3Bu:function(){var r=Xrm.Page.context.getClientUrl(),t="/WebResources/msdyn_LoadGuidedHelpMoCA.js",i=$get("CustomScriptsIFrame"),u=i.contentDocument.getElementById(r+t),n;$0.$1(u)&&(n=i.contentDocument.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("id",t),n.setAttribute("src",r+t),i.contentDocument.body.appendChild(n))},$2O3:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C(this.$1Db("HandleFilterChangeInitiatedEvent"),2001,{SourceId:n.$h,Filtertype:n.$HD,FilterEventType:n.$m2,FilterExpression:$0.$1(n.$6v)?"":n.$6v.$7J()},"FilterChangeInitiated")},HandleFilterChangeInitiatedEvent:function(n){var r,i,u,t,f,e;if(this.get_IsMultipleEntityGraphSupported())this.$35j(n);else{if(this.$2O3(n),r="",i="",n.$m2){if(n.$m2===1){f=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterRemoved");f.start();r="FilterChangeInitiatedEvent.FilterRemoved";switch(n.$HD){case 1:this.$Lu.$79();i="Aggregated";break;case 0:this.$Pc.$N5(n.$h);i="Individual"}f.stop();f.addParameter(this.get_ViewModelId())}}else{u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterChanged");u.start();r="FilterChangeInitiatedEvent.FilterChanged";t=n.$6v;switch(n.$HD){case 2:this.$1BL&&(i="Global",this.$Rr.$N5(t.get_$OJ()),this.$Rr.$6b(t));break;case 1:this.$Lu=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$8U);i="Aggregated";$0.$1(t)||Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Lu,t.get_$5S(),!1,!0);break;case 0:$0.$1(t)||(i="Individual",t.get_$5S().get_Count()?Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Lu,t.get_$5S(),!0,!0):(this.$Lu.$N5(t.get_$OJ()),this.$Lu.$6b(t.$8W())))}u.stop();u.addParameter(this.get_ViewModelId())}e=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,i,r,$0.$1(n.$6v)?"":n.$6v.$7J(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(e);this.$2Sf(n)}},$35j:function(n){var o,i,s,r,l,a,u,h,v,y,e,p,w,b,t,f,c,k,d,g,nt,tt,it,rt;if(this.$2O3(n),o="",i="",n.$m2){if(n.$m2===1){c=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterRemoved");c.start();o="FilterChangeInitiatedEvent.FilterRemoved";switch(n.$HD){case 1:i="Aggregated";k=this.$Er;for(d in k)g={key:d,value:k[d]},$0.$1(this.$Er[g.key])||this.$Er[g.key].$79();break;case 0:i="Individual";nt=this.$FT;for(tt in nt)it={key:tt,value:nt[tt]},$0.$1(this.$FT[it.key])||this.$FT[it.key].$N5(n.$h)}c.stop();c.addParameter(this.get_ViewModelId())}}else{s=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterChanged");s.start();o="FilterChangeInitiatedEvent.FilterChanged";$0.$1(n.$6v)||($0.$1(n.$Kq)&&(n.$Kq={}),n.$Kq[this.$8U]=n.$6v);r=n.$Kq;switch(n.$HD){case 2:if(i="Global",this.$1BL){$0.$1(this.$J0)&&(this.$J0={});l=r;for(a in l)u={key:a,value:l[a]},$0.$1(this.$J0[u.key])&&(this.$J0[u.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,u.key)),h=r[u.key],$0.$1(h)||(this.$J0[u.key].$N5(h.get_$OJ()),this.$J0[u.key].$6b(h))}break;case 1:i="Aggregated";$0.$1(n.$Kq)&&(this.$Er={});this.$Er[this.$8U]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$8U);v=r;for(y in v)e={key:y,value:v[y]},this.$Er[e.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,e.key),p=r[e.key],$0.$1(p)||Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Er[e.key],p.get_$5S(),!1,!0);break;case 0:i="Individual";w=r;for(b in w)t={key:b,value:w[b]},f=r[t.key],$0.$1(f)||(t.key in this.$Er||(this.$Er[t.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,t.key)),f.get_$5S().get_Count()?Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Er[t.key],f.get_$5S(),!0,!0):(this.$Er[t.key].$N5(f.get_$OJ()),this.$Er[t.key].$6b(f.$8W())))}s.stop();s.addParameter(this.get_ViewModelId())}rt=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,i,o,$0.$1(n.$Kq)?"":n.$Kq.toString(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(rt);this.$2Sf(n)},$2Sf:function(n){var r,u,f,i,e,o,t,s;if(this.get_IsMultipleEntityGraphSupported()){this.$FT={};u=this.$J0;for(f in u)i={key:f,value:u[f]},this.$FT[i.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,i.key),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$FT[i.key],this.$J0[i.key].$CW,!1,!1);e=this.$Er;for(o in e)t={key:o,value:e[o]},t.key in this.$FT||(this.$FT[t.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,t.key)),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$FT[t.key],this.$Er[t.key].$CW,!1,!1);s=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S(this.$G,null,n,this.$FT);this.$2O2(s);this.$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,s)}else this.$Pc=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$5s(0,this.$8U),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Pc,this.$Rr.get_$5S(),!1,!1),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$XT(this.$Pc,this.$Lu.get_$5S(),!1,!1),r=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S(this.$G,this.$Pc,n,null),this.$2O2(r),this.$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,r)},$2O2:function(n){if(!$0.$1(n.$Gr)){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$SY(this.$G,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.toString(n.$Uc.$HD),"FilterChangeCompletedEvent",n.$Gr.toString(),n.$h);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)}Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C(this.$1Db("RaiseFilterChangeCompletedEvent"),2001,{SourceId:n.$h,FilterExpression:$0.$1(n.$Gr)?"":n.$Gr.$7J()},"FilterChangeCompleted")},refreshWithoutScriptReload:function(){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.refreshWithoutScriptReload.call(this);var n,t;this.get_IsMultipleEntityGraphSupported()?(n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,null),n.$Kq=this.$FT,t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S(this.$G,null,n,this.$FT)):(n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$G,1,0,this.$Pc),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S(this.$G,this.$Pc,n,null));this.$9L.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S,t)},$GX:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$f.$C(this.$1Db("InternalDispose"),2001,{PrimaryEntity:this.$8U,DashboardCategory:this.$ds,FilterByAttributeName:this.$Lq,IsEntityDashboard:this.$1Em},"DashboardDisposed");this.$8U=null;this.$Pc=null;this.$Rr=null;this.$Lu=null;this.set_DashboardCategory(null);this.$J0=null;this.$FT=null;this.$js=null;this.$Er=null;this.$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_HandleFilterChangeInitiatedEvent);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cr=function(){this.$$d_$36C=Function.createDelegate(this,this.$36C);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cr.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cr.prototype={$1cp:!1,$2Y0:"ShouldScroll",$1Me:0,get_ScrollTopValueToSet:function(){return this.$1Me},set_ScrollTopValueToSet:function(n){return this.$1Me=n,n},$1Md:0,get_ScrollLeftValueToSet:function(){return this.$1Md},set_ScrollLeftValueToSet:function(n){return this.$1Md=n,n},get_ShouldScroll:function(){return this.$1cp},set_ShouldScroll:function(n){return this.$1cp!==n&&(this.$1cp=n,n&&this.$8(this.$2Y0)),n},$1fL:0,get_BootstrapColumns:function(){return this.$1fL},set_BootstrapColumns:function(n){return this.$1fL=n,n},$1fW:!1,get_ContainsTiles:function(){return this.$1fW},set_ContainsTiles:function(n){return this.$1fW=n,n},$1fX:!1,get_ContainsVisualFilter:function(){return this.$1fX},set_ContainsVisualFilter:function(n){return this.$1fX=n,n},$18:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD.prototype.$18.call(this);this.$2.get_EventHandler().$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8U,this.$$d_$36C)},$36C:function(n){n.$1fR===this.$G&&(this.set_ShouldScroll(!0),this.$1Me=n.$1h5,this.$1Md=n.$1h4)},$GX:function(){this.$2.get_EventHandler().$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8U,this.$$d_$36C);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Df=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Df.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Df.prototype={$1h1:0,get_RowSpan:function(){return this.$1h1},set_RowSpan:function(n){return this.$1h1=n,n},$1fQ:0,get_ColSpan:function(){return this.$1fQ},set_ColSpan:function(n){return this.$1fQ=n,n},$xx:!1,get_IsQuickViewForm:function(){return this.$xx},set_IsQuickViewForm:function(n){return this.$xx=n,n},$1fN:0,get_CellHeight:function(){return this.$1fN},set_CellHeight:function(n){return this.$1fN=n,n},$1gI:!1,get_IsQueueContainer:function(){return this.$1gI},set_IsQueueContainer:function(n){return this.$1gI=n,n},$1gE:!1,get_IsInteractionWallGridCell:function(){return this.$1gE},set_IsInteractionWallGridCell:function(n){return this.$1gE=n,n},$1gM:!1,get_IsVisualFilterSection:function(){return this.$1gM},set_IsVisualFilterSection:function(n){return this.$1gM=n,n},$1g7:!1,get_IsBlankGridCell:function(){return this.$1g7},set_IsBlankGridCell:function(n){return this.$1g7=n,n},$1fa:null,get_ControlName:function(){return this.$1fa},set_ControlName:function(n){return this.$1fa=n,n},$1hO:null,get_TierType:function(){return this.$1hO},set_TierType:function(n){return this.$1hO=n,n},$1g6:!1,get_IsAutoHeight:function(){return this.$1g6},set_IsAutoHeight:function(n){return this.$1g6=n,n},get_AdditionalCSSClassNamePropertyName:function(){return"AdditionalCSSClassName"}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD=function(){this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent=Function.createDelegate(this,this.HandleVisualFilterCollapsibleChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD.prototype={$10L:!1,$pw:!1,get_CheckIfCollapsed:function(){return this.$pw},set_CheckIfCollapsed:function(n){return this.$pw=n,n},$xD:!1,get_Collapsible:function(){return this.$xD},set_Collapsible:function(n){return this.$xD=n,n},$17V:!1,get_ContainsQueueContainerTier1:function(){return this.$17V},set_ContainsQueueContainerTier1:function(n){return this.$17V=n,n},$1fV:!1,get_ContainsHeader:function(){return this.$1fV},set_ContainsHeader:function(n){return this.$1fV=n,n},get_DisplayLabel:function(){return this.$10L},set_DisplayLabel:function(n){return this.$10L=n,n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this),(this.$xD||this.$17V)&&(this.$pw=!0,this.$83().$9L.$A7(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m,this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent)))},$GX:function(){(this.$xD||this.$17V)&&this.$83().$9L.$Am(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m,this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.$2Z.prototype.$GX.call(this)},$83:function(){return this.$2},HandleVisualFilterCollapsibleChangeCompletedEvent:function(){if(this.$pw=!this.$pw,this.$8("CheckIfCollapsed"),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$CH()&&!this.$pw&&this.$xD){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("VisualFilterCollapseButtonClickAcknowledged",0,this.get_ViewModelId());var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("VisualFiltersShown")},-13,"TabLayoutViewModel.HandleVisualFilterCollapsible")}},get_TabSpaceReserved:function(){return 10},RefreshData:function(){this.$83().refreshWithoutScriptReload()},IsTier1Dashboard:function(){return this.$83().$ds==="1"}};Type.registerNamespace("Microsoft.Crm.Client.Core.Commands");Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenEmailAttachmentPopupCommand",Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$10)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$10=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(n)&&(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh=n.refreshCommand),new Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2Tk=function(n){delete n.$Q.$T.OverriddenEntityId;delete n.$Q.$T.OverriddenEntityName};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$25c=function(n){return!$0.$1(n)&&!$0.$1(n.$Q)&&!$0.$1(n.$Q.$T)&&"OverriddenEntityName"in n.$Q.$T&&"OverriddenEntityId"in n.$Q.$T?!0:!1};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.prototype={$1Kb:0,$31:function(){var s=null,f=null,i=null,h=-1,u=!0,o=!0,n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5J(),c=!1,r,t,e,l,w,b,k;if($0.$1(n)||$0.$1(n.ui)||$0.$1(n.ui.$2)||(r=n.ui.$2,t=r,Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$25c(t)?(f=t.$Q.$T.OverriddenEntityId,t.$Q.$T.OverriddenEntityName==="email"&&(i="4202",u=!0),Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2Tk(t),o=!1,c=!0):$0.$1(t.$Q)||$0.$1(t.$Q.$AZ)||(e=t.$Q.$AZ,Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$25c(e)?(f=e.$Q.$T.OverriddenEntityId,e.$Q.$T.OverriddenEntityName==="email"&&(i="4202",u=!0),Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2Tk(e),o=!1):o=!0),!o||$0.$1(r)||$0.$1(r.get_$1K())||(f=r.get_$1K().get_Id(),r.get_$2R()==="appointment"?(i="4201",u=!1):r.get_$2R()==="email"&&(i="4202",u=!0))),$0.$1(n)||(u&&!$0.$1(n.getAttribute("statuscode"))?h=n.getAttribute("statuscode").getValue():u||$0.$1(n.getAttribute("statecode"))||(h=n.getAttribute("statecode").getValue())),l=Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2BT(h,i),$0.$1(f)||$0.$1(i)||(s=String.format("{0}/activities/attachment/edit.aspx?pId=%7b{1}%7d&pType={2}&ish=true",n.context.getClientUrl(),f,i)),!$0.$1(s)&&(l||c)){var a=0,v=0,y=584,p=213;v=(window.screen.width-y)/2;a=(window.screen.height-p)/2;w=window.open(s,"_blank",String.format("width={0}, height={1}, top={2}, left={3}, menubar=no, toolbar=no",y,p,a,v));c||(b=this,k=function(){!$0.$1(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh)&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh.get_CanExecute()&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh.execute()});this.$27d();this.$3Dc(w)}},$3Dc:function(n){var t=this;this.$1Kb=Microsoft.Crm.Client.Core.Framework.$2F.$3L5(this.$NE,"EmailAttachmentTimer",function(){n.closed&&(t.$27d(),!$0.$1(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh)&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh.get_CanExecute()&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh.execute())},100)},$27d:function(){this.$1Kb&&(this.$1Kb=Microsoft.Crm.Client.Core.Framework.$2F.$2ga(this.$1Kb))}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Commands");Microsoft.Crm.Client.Core.ViewModels.Commands.$BB=function(n){this.$$d_$1wX=Function.createDelegate(this,this.$1wX);Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.initializeBase(this);this.$1G0=n};Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("LookupFieldClickCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.$10)};Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.$10=function(n,t){var u=!$0.$1(n)&&Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.isInstanceOfType(n),f=!$0.$1(t),i,r;return!u||!f?null:(i=n,r=new Microsoft.Crm.Client.Core.ViewModels.Commands.$BB(i),new Microsoft.Crm.Client.Core.Framework.Binding.$Ti(r.$$d_$1wX,163))};Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.prototype={$1G0:null,$1wX:function(){for(var i=this.$1G0,n=this.$1G0,r,t;n;){if(Microsoft.Crm.Client.Core.ViewModels.$Bp.isInstanceOfType(n))break;n=n.$2.$6F(n)}r=n.$F.HorizontalTabs;t={};t.uniqueid=i.get_$3LS();t.title=i.get_Text();r.openQuickviewForm(i.get_Data().LogicalName,t)},$GX:function(){this.$1G0=null;Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.prototype={individual:0,aggregated:1,global:2};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z.registerEnum("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1z",!1);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S.initializeBase(this,[n]);this.$Gr=t;this.$Uc=i;$0.$1(r)||(this.$NO=r)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S.prototype={$Gr:null,$NO:null,$Uc:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r.initializeBase(this,[n]);this.$HD=t;this.$m2=i;this.$6v=r;this.$1Vs=$0.$1(u)?!1:u};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r.prototype={$6v:null,$Kq:null,$HD:0,$m2:0,$1Vs:!1,get_FilterExpression:function(){return this.$6v},get_FilterExpressionByEntity:function(){return this.$Kq},set_FilterExpressionByEntity:function(n){return this.$Kq=n,n},get_FilterEventType:function(){return this.$m2},get_Filtertype:function(){return this.$HD},get_IsGlobalDateRangeFilter:function(){return this.$1Vs}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6=function(n){this.$h=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6.prototype={$h:null,get_SourceId:function(){return this.$h},set_SourceId:function(n){return this.$h=n,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j=function(n,t){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j.initializeBase(this,[n]);this.$Pk=t};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j.prototype={$Pk:null};Type.registerNamespace("Microsoft.Crm.Client.Core.ICViewModels");Microsoft.Crm.Client.Core.ICViewModels.$SU=function(){Microsoft.Crm.Client.Core.ICViewModels.$SU.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$SU.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$4j.$Ao=new Microsoft.Crm.Client.Core.ICViewModels.$SU};Microsoft.Crm.Client.Core.ICViewModels.$SU.prototype={$28r:function(n){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel(n):Microsoft.Crm.Client.Core.ViewModels.$RA.prototype.$28r.call(this,n)}};Microsoft.Crm.Client.Core.ICViewModels.$PB=function(){Microsoft.Crm.Client.Core.ICViewModels.$PB.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$PB.$$cctor=function(){Microsoft.Crm.Client.Core.Commands.$3n.$Ao=new Microsoft.Crm.Client.Core.ICViewModels.$PB};Microsoft.Crm.Client.Core.ICViewModels.$PB.prototype={$1mj:function(n,t,i,r,u){var s,v,h,y,c,l,a,w;if(Microsoft.Crm.Client.Core.ViewModels.$Bl.isInstanceOfType(r)){var e=null,f=null,o=null;if(o=r,s=o.$I0,s.get_Count())f=s.get_$I(0),e=Xrm.Internal.getEntityName(f.TypeCode);else return null;switch(n.ParameterType){case 18:case 19:case 20:case 21:return n.Value;case 14:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$Ju;case 15:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$Bu;case 16:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$Ab;case 1:return f.TypeCode;case 2:return Xrm.Internal.getEntityName(f.TypeCode);case 3:return[f.Id];case 4:return f.Id;case 7:return e?Xrm.Internal.getEntityCode(e):null;case 8:return e?e:null;case 11:case 22:return f?1:0;case 25:return 0;case 28:return 0;case 9:case 23:case 29:case 26:case 24:case 30:case 27:if(v=!0,(n.ParameterType===9||n.ParameterType===23||n.ParameterType===29||n.ParameterType===26)&&(v=!1),h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),y=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.EntityReference)),o&&(n.ParameterType===9||n.ParameterType===23||n.ParameterType===24)&&f)for(var b=s.toArray(),k=b.length,p=0;p<k;++p)c=b[p],h.add(c.Id),l=new Mscrm.EntityReference,l.Id=c.Id,l.TypeCode=c.TypeCode,y.add(l);return t===1?Microsoft.Crm.Client.Core.Commands.$3n.$28Y(h):v?y.toArray():h.toArray();case 10:return f?(a=new Mscrm.EntityReference,a.Id=f.Id,a.TypeCode=f.TypeCode,a):null;case 5:case 12:return o.$17K;case 6:case 13:return null;case 17:return Microsoft.Crm.Client.Core.ViewModels.$Bk.isInstanceOfType(u)?(w={},w.SourceControlId=u.$T.CommandId,w):null;case 0:default:return null}}else return Microsoft.Crm.Client.Core.Commands.$3n.prototype.$1mj.call(this,n,t,i,r,u)}};Microsoft.Crm.Client.Core.ICViewModels.$P7=function(){Microsoft.Crm.Client.Core.ICViewModels.$P7.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$P7.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$4D.$Ao=new Microsoft.Crm.Client.Core.ICViewModels.$P7};Microsoft.Crm.Client.Core.ICViewModels.$P7.prototype={$1Yr:function(n,t,i,r,u,f){if(!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||"shouldOpenQuickCreate"in i&&n!=="email")Microsoft.Crm.Client.Core.ViewModels.$4D.prototype.$1Yr.call(this,n,t,i,r,u,f);else{var e=new Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand(null,n,40,t);!$0.$1(i)&&"RefreshContext"in i&&Microsoft.Crm.Client.Core.ViewModels.$82.isInstanceOfType(i.RefreshContext)&&(i.RefreshContext.$jg=!0);e.$A1=i;e.$My=f;$0.$1(r)||(e.$P=r);$0.$1(u)||(e.$1M=u);e.execute();e.dispose()}},$2VM:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.isInstanceOfType(t)){var i=t;switch(n){case"saveandclose":i.$28m();break;default:i.$2jg()}}else Microsoft.Crm.Client.Core.ViewModels.$4D.prototype.$2VM.call(this,n,t)},$3Wj:function(n,t){(Microsoft.Crm.Client.Core.ViewModels.$82.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel.isInstanceOfType(n))&&(t.shouldOpenQuickCreate=!0)}};Microsoft.Crm.Client.Core.ICViewModels.$P9=function(){Microsoft.Crm.Client.Core.ICViewModels.$P9.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$P9.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$5q.$Ao=new Microsoft.Crm.Client.Core.ICViewModels.$P9};Microsoft.Crm.Client.Core.ICViewModels.$P9.prototype={$2KI:function(n,t,i,r,u,f){var e,o,s,h;if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.isInstanceOfType(r)){if(e=r,e.$7s===1)return o=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),e.$2jf(o),s=this,h=this,o.then(function(o){o?(e.$7s=0,Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1ms(n,t,i,r,u,f)):f.resolve(!1)},function(){f.resolve(!1)}),!1;if(e.$7s===2||!e.$7s)return!0}return Microsoft.Crm.Client.Core.ViewModels.$5q.prototype.$2KI.call(this,n,t,i,r,u,f)}};Microsoft.Crm.Client.Core.ICViewModels.$PC=function(){Microsoft.Crm.Client.Core.ICViewModels.$PC.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$PC.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$5t.$Ao=new Microsoft.Crm.Client.Core.ICViewModels.$PC};Microsoft.Crm.Client.Core.ICViewModels.$PC.prototype={$29W:function(n,t,i,r){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){var f=r,u=f.get_$AN();return new Microsoft.Crm.Client.Core.Storage.DataApi.$3O(n,t,i,u.$1tK(u.$1N1))}return Microsoft.Crm.Client.Core.ViewModels.$5t.prototype.$29W.call(this,n,t,i,r)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq=function(){this.$9z=new Microsoft.Crm.Client.Core.ViewModels.$80;this.$nX={};this.$12p={};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("InteractionCentricCommunicationCardViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq.prototype={$lf:null,$It:"",$K6:"",$K7:"",$RW:"",$RX:"",$oS:null,$KU:null,$KV:null,$2Bm:null,$NV:null,get_ActionProvider:function(){return this.$NV},set_ActionProvider:function(n){return this.$NV=n,n},$Pf:!1,get_SetActionable:function(){return this.$Pf},set_SetActionable:function(n){return this.$Pf=n,n},$qk:!1,get_Rerender:function(){return this.$qk},set_Rerender:function(n){return this.$qk=n,n},$v7:function(n,t,i,r){var u,f;return Xrm.Objects.EntityReference.isInstanceOfType(n.GetValue(i))?(f=n.GetValue(i),u=f.Name||t,this.$nX[r]=f.Id.toString(),this.$12p[r]=f.LogicalName):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(n.GetValue(i))?(u=n.GetValue(i).$1D,u=u||t):(u=n.GetValue(i),u=u||t),u},$17s:null,get_FieldNamesList:function(){return this.$17s},set_FieldNamesList:function(n){return this.$17s=n,n},$1Kp:null,get_AttributesToFetch:function(){return this.$1Kp},set_AttributesToFetch:function(n){return this.$1Kp=n,n},$7i:null,get_EntityName:function(){return this.$7i},set_EntityName:function(n){return this.$7i=n,n},$EA:null,get_RecordId:function(){return this.$EA},set_RecordId:function(n){return this.$EA=n,n},get_Text1:function(){return this.$It},set_Text1:function(n){return this.$It!==n&&(this.$It=n),n},get_Text2:function(){return this.$K6},set_Text2:function(n){return this.$K6!==n&&(this.$K6=n),n},get_Text3:function(){return this.$K7},set_Text3:function(n){return this.$K7!==n&&(this.$K7=n),n},get_Text4:function(){return this.$RW},set_Text4:function(n){return this.$RW!==n&&(this.$RW=n),n},get_Text5:function(){return this.$RX},set_Text5:function(n){return this.$RX!==n&&(this.$RX=n),n},get_EmailAddress:function(){return this.$lf},set_EmailAddress:function(n){return this.$lf!==n&&(this.$lf=n),n},get_PhoneNumber:function(){return this.$oS},set_PhoneNumber:function(n){return this.$oS!==n&&(this.$oS=n),n},IsLink:function(n){return $0.$1(this.$12p[n])?!1:!0},get_ImageViewModel:function(){return this.$9z},set_ImageViewModel:function(n){return this.$9z!==n&&($0.$1(this.$9z)||(this.$9z.dispose(),this.$9z=null),this.$9z=n),n},get_Button1ViewModel:function(){return this.$KU},set_Button1ViewModel:function(n){return this.$KU!==n&&($0.$1(this.$KU)||(this.$KU.dispose(),this.$KU=null),this.$KU=n),n},get_Button2ViewModel:function(){return this.$KV},set_Button2ViewModel:function(n){return this.$KV!==n&&($0.$1(this.$KV)||(this.$KV.dispose(),this.$KV=null),this.$KV=n),n},$18:function(){this.$1y||(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$18.call(this),this.$Pf=!0,this.fetchData())},fetchData:function(){var n;try{if(!$0.$1(this.$NV)&&!Microsoft.Crm.Client.Core.Framework.$3.$1O(this.$7i)&&!$0.$1(this.$EA)){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(this.$7i),i=t.$4S,r="<fetch mapping='logical' version='1.0'><entity name='"+this.$7i+"'>"+this.$1Kp+"<filter><condition attribute='"+i+"' operator='eq' value='"+this.$EA.Id.toString()+"' /><\/filter><\/entity><\/fetch>";this.$1o=r;this.set_DefinitionId(this.get_ViewModelId());this.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(this.$1o);n=this.$NV.$4Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(n)}}catch(u){this.$2Bm=u.stack.toString()}},$4e:function(n){for(var r,u,s,f,t=this.$17s,h=n.get_$Bt().$22N(),i,o=h,c=o.length,e=0;e<c;++e)if(r=o[e],Microsoft.Crm.Client.Core.Framework.$3.$1O(t[3])||(i=this.$v7(r,"",t[3],"Text1"),this.set_Text1(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$1O(t[4])||(i=this.$v7(r,"",t[4],"Text2"),this.set_Text2(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$1O(t[5])||(i=this.$v7(r,"",t[5],"Text3"),this.set_Text3(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$1O(t[6])||(i=this.$v7(r,"",t[6],"Text4"),this.set_Text4(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$1O(t[7])||(i=this.$v7(r,"",t[7],"Text5"),this.set_Text5(i.toString())),this.$9z.set_Data(Microsoft.Crm.Client.Core.Framework.$3.$1O(r.GetValue(t[0]))?"/_imgs/NavBar/EmptyUserImage.png":r.GetValue(t[0])),this.set_EmailAddress(r.GetValue(t[1])),u=t[2].split(","),u.length>1){for(f=0;f<u.length;f++)if(s=u[f],i=r.GetValue(s),i&&!Microsoft.Crm.Client.Core.Framework.$3.$1O(i.toString())){this.set_PhoneNumber(i.toString());break}}else this.set_PhoneNumber(r.GetValue(t[2]));this.$24h();this.$Pf&&(this.$Pf=!1);this.$8("DataChanged")},$24h:function(){var t=new Microsoft.Crm.Client.Core.ViewModels.$2A,h=this.$lf,f={},i,u,l,o,r,s;f.protocol="mailto:";f.target=h;f.CommandName="TileButton1";t.set_Parameters(f);t.$J8=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V();t.set_Command("UrlLauncherCommand");t.set_ImageType("Symbol");t.set_ImageName("NewEmail");Microsoft.Crm.Client.Core.Framework.$3.$1O(h)&&(t.$29.set_CanExecute(!1),t.set_Enabled(!1));this.set_Button1ViewModel(t);var n=new Microsoft.Crm.Client.Core.ViewModels.$2A,c=this.$oS,e={};e.target=c;e.CommandName="TileButton2";n.set_Parameters(e);n.$J8=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V();n.set_Command("SkypeUrlLauncherCommand");n.set_ImageType("Symbol");n.set_ImageName("NewPhoneCall");i=n.$29;Microsoft.Crm.Client.Core.Framework.$3.$1O(c)&&(n.$29.set_CanExecute(!1),n.set_Enabled(!1));$0.$1(this.$EA)||(u=this.$EA,l=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$SZ(u.get_$Eb(),u.get_$57(),this.$EA.Name),i.$16l=l,o=this.$2,Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(o)?(r=o.get_ModelContext(),s=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(r.get_ModelName()),$0.$1(r)||$0.$1(s)||(i.$In=r.get_Id(),i.$ok=r.GetValue(s.$5e),i.$ae=r.get_ModelName())):(i.$In=u.get_$57(),i.$ok=this.$EA.Name,i.$ae=u.get_$Eb()));this.set_Button2ViewModel(n)},navigateToRecord:function(n){if(this.IsLink(n)){var i=new Xrm.Objects.EntityReference(this.$12p[n].toString(),new Microsoft.Crm.Client.Core.Framework.Guid(this.$nX[n].toString())),r={EntityReference:i},t=new Microsoft.Crm.Client.Core.Commands.$33(null,40);try{t.$J=this.$12p[n].toString();t.$1B=r;t.execute()}finally{t.dispose()}}else return},$GX:function(){$0.$1(this.$KU)||(this.$KU.dispose(),this.set_Button1ViewModel(null));$0.$1(this.$KV)||(this.$KV.dispose(),this.set_Button2ViewModel(null));$0.$1(this.$9z)||(this.$9z.dispose(),this.set_ImageViewModel(null));this.$EA=null;this.$17s=null;this.$12p=null;this.$nX=null;Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$GX.call(this)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1c("RichEntityContentViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$3PI)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$3PI=function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.prototype={$18:function(){Microsoft.Crm.Client.Core.ViewModels.$2r.prototype.$18.call(this)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel);Microsoft.Crm.Client.Core.ViewModels.$9W.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9W",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C);Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel",Microsoft.Crm.Client.Core.ViewModels.$5M);Microsoft.Crm.Client.Core.ViewModels.$Cq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cq",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$UM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$UM",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$Uu.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Uu",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck);Microsoft.Crm.Client.Core.ViewModels.$D2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D2",Microsoft.Crm.Client.Core.ViewModels.$Uu);Microsoft.Crm.Client.Core.ViewModels.$D5.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D5",Microsoft.Crm.Client.Core.ViewModels.$Uk);Microsoft.Crm.Client.Core.ViewModels.$D3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D3",Microsoft.Crm.Client.Core.ViewModels.$D5);Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.$Lf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lf");Microsoft.Crm.Client.Core.ViewModels.$AN.registerClass("Microsoft.Crm.Client.Core.ViewModels.$AN",Microsoft.Crm.Client.Core.ViewModels.Controls.$Cw);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.$D4.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D4",Microsoft.Crm.Client.Core.ViewModels.$D5,Microsoft.Crm.Client.Core.ViewModels.$Hp);Microsoft.Crm.Client.Core.ViewModels.$Dc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dc",Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel,Microsoft.Crm.Client.Core.ViewModels.$Hp);Microsoft.Crm.Client.Core.ViewModels.$E1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E1",Microsoft.Crm.Client.Core.ViewModels.$7a);Microsoft.Crm.Client.Core.ViewModels.$E3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E3",Microsoft.Crm.Client.Core.ViewModels.$E1);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$E3);Microsoft.Crm.Client.Core.ViewModels.$Dd.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dd",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel",Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel);Microsoft.Crm.Client.Core.ViewModels.$7V.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7V",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel);Microsoft.Crm.Client.Core.ViewModels.$De.registerClass("Microsoft.Crm.Client.Core.ViewModels.$De",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.$Eh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Eh",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$Ei.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ei",Microsoft.Crm.Client.Core.ViewModels.$Uk,Microsoft.Crm.Client.Core.ViewModels.$Hp);Microsoft.Crm.Client.Core.ViewModels.$F7.registerClass("Microsoft.Crm.Client.Core.ViewModels.$F7",Microsoft.Crm.Client.Core.ViewModels.$Et,Microsoft.Crm.Client.Core.ViewModels.$Hp);Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel",Microsoft.Crm.Client.Core.ViewModels.$UM);Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel",Microsoft.Crm.Client.Core.ViewModels.$Uu);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel);Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.$Ej.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ej",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$3Y,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Core.ViewModels.$83);Microsoft.Crm.Client.Core.ViewModels.$AT.registerClass("Microsoft.Crm.Client.Core.ViewModels.$AT",Microsoft.Crm.Client.Core.ViewModels.$Ej,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Core.ViewModels.$ED,Microsoft.Crm.Client.Core.ViewModels.$4x);Microsoft.Crm.Client.Core.ViewModels.$Dh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dh",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel,Microsoft.Crm.Client.Core.ViewModels.$7W,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Core.ViewModels.$92,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ac);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.$9C);Microsoft.Crm.Client.Core.ViewModels.$E6.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E6",Microsoft.Crm.Client.Core.ViewModels.$D5);Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel",Microsoft.Crm.Client.Core.ViewModels.$5M);Microsoft.Crm.Client.Core.ViewModels.$Li.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Li");Microsoft.Crm.Client.Core.ViewModels.$Ug.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ug",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$Ho);Microsoft.Crm.Client.Core.ViewModels.$6F.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6F");Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile");Microsoft.Crm.Client.Core.ViewModels.$Lk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lk");Microsoft.Crm.Client.Core.ViewModels.$95.registerClass("Microsoft.Crm.Client.Core.ViewModels.$95");Microsoft.Crm.Client.Core.ViewModels.$3P.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3P");Microsoft.Crm.Client.Core.ViewModels.$Uf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Uf",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$Ho);Microsoft.Crm.Client.Core.ViewModels.$2i.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2i",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$Ho);Microsoft.Crm.Client.Core.ViewModels.$82.registerClass("Microsoft.Crm.Client.Core.ViewModels.$82",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ft);Microsoft.Crm.Client.Core.ViewModels.$Ar.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ar",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$AN);Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel",Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel);Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$43);Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.$Bk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bk",Microsoft.Crm.Client.Core.ViewModels.$8k);Microsoft.Crm.Client.Core.ViewModels.$8N.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8N");Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper",Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper);Microsoft.Crm.Client.Core.ViewModels.$Bl.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bl",Microsoft.Crm.Client.Core.ViewModels.$8k,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$6C,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Dt,Microsoft.Crm.Client.Core.ViewModels.$4x,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Core.ViewModels.$Ev.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ev",Microsoft.Crm.Client.Core.ViewModels.$2r);Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel);Microsoft.Crm.Client.Core.ViewModels.$FR.registerClass("Microsoft.Crm.Client.Core.ViewModels.$FR",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.Controls.$6E.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$6E");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cu.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cu",Microsoft.Crm.Client.Core.ViewModels.$2Z);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel",Microsoft.Crm.Client.Core.ViewModels.RootViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cr.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cr",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Df.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Df",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck);Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$BB",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8m",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5S",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8x",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8j",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$L6);Microsoft.Crm.Client.Core.ICViewModels.$SU.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$SU",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ICViewModels.$PB.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$PB",Microsoft.Crm.Client.Core.Commands.$3n);Microsoft.Crm.Client.Core.ICViewModels.$P7.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$P7",Microsoft.Crm.Client.Core.ViewModels.$4D);Microsoft.Crm.Client.Core.ICViewModels.$P9.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$P9",Microsoft.Crm.Client.Core.ViewModels.$5q);Microsoft.Crm.Client.Core.ICViewModels.$PC.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$PC",Microsoft.Crm.Client.Core.ViewModels.$5t);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$Hf);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel",Microsoft.Crm.Client.Core.ViewModels.$US);Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentsListRefreshPropertyName="AttachmentsRefresh";Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentPopupWindowWidth=584;Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentPopupWindowHeight=213;Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Eh.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Ei.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$F7.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$3P.$1HO=null;Microsoft.Crm.Client.Core.ViewModels.$3P.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$2i.$tc=null;Microsoft.Crm.Client.Core.ViewModels.$2i.$mx=0;Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1sN=!1;Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$lh=null;Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$BB.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$SU.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$PB.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$P7.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$P9.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$PC.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.ICViewModels.js.srcmap
Type.registerNamespace("Microsoft.Crm.Client.Core.Controls");Microsoft.Crm.Client.Core.Controls.TabPriority=function(){};Microsoft.Crm.Client.Core.Controls.$MT=function(){this.viewManager=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$4M);this.userAgent=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance();this.memoryUsageTracker=Microsoft.Crm.Client.Core.ViewModels.$1Q.get_$5();this.device=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device();this.navigation=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D;this.theming=Microsoft.Crm.Client.Core.ViewModels.Controls.$3J.get_instance();this.applicationShellViewModel=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();this.childControlTypeNameResolver=Microsoft.Crm.Client.Core.ViewModels.$4r.$1Hj;this.getLocalizedString=Microsoft.Crm.Client.Core.Framework.Common.$2.$6;this.getTextBoxTypeString=Microsoft.Crm.Client.Core.ViewModels.$4L.getTextBoxTypeString;this.focusField=Microsoft.Crm.Client.Core.Framework.$1t.$2sN;this.interceptBlurringEvents=Microsoft.Crm.Client.Core.Framework.$1t.$38T;this.scrollBarWidth=Microsoft.Crm.Client.Core.Framework.$1t.get_ScrollBarWidth();this.navigationDispatcher=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D;this.customEventHandlersManager=Microsoft.Crm.Client.Core.ViewModels.$F.get_$5();this.getUrlLauncherCommand=Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$28z;this.isPhone=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V();this.isInteractionCentric=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k();this.isMailApp=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N();this.reactBackHandlerHelper=Microsoft.Crm.Client.Core.Controls.$4a.get_$5();this.isUserCultureRightToLeft=Microsoft.Crm.Client.Core.Framework.$7G.$1tJ();this.isPreview=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x;this.xrmUIControlsWrapper=Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.get_$5();this.getPerformanceStopwatch=Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.$2mT;this.isUsingPointerUp=Microsoft.Crm.Client.Core.Framework.$1t.get_$3Ak();this.schedulerCreateOwnerToken=Microsoft.Crm.Client.Core.Framework.Scheduler.$ru;var n=new Microsoft.Crm.Client.Core.Controls.$MU;this.mapTouchEvents=n.$$d_$3Cr;this.simulateMouseEventForLongPress=n.$$d_$3UP;this.transitionPropertyName=this.$2A8("-moz-transition","-webkit-transition","transition");this.transformPropertyName=this.$2A8("-moz-transform","-webkit-transform","transform")};Microsoft.Crm.Client.Core.Controls.$MT.prototype={mapTouchEvents:null,simulateMouseEventForLongPress:null,transitionPropertyName:null,transformPropertyName:null,getTranslateValue:function(n,t){return this.userAgent.$5U||this.userAgent.$nH?"translate("+n.toString()+"px, "+t.toString()+"px)":"translate3D("+n.toString()+"px, "+t.toString()+"px, 0px)"},get_KeyboardHeight:function(){return Microsoft.Crm.Client.Core.Framework.$1t.get_$3B6()},focusNextMajorComponent:function(n,t){var u=n.closest(".majorComponent"),o,e,h,r,f,i,s,c;if(!u.length&&n[0].parentNode)if(n[0].parentNode.childNodes){if(o=n[0].parentNode.childNodes.length,o>0)for(e=0;e<o;e++)if(h=$(n[0].parentNode.childNodes[e]),u=h.closest(".majorComponent"),u.length>0)break}else u=$(n[0].parentNode).closest(".majorComponent");for(r=$(document.body).find(".majorComponent"),f=r.length,i=0;i<f;i++){if(s=i===f-1?0:i+1,c=i>=1?i-1:f-1,i===f-1){$(r[s]).focus();return}if(r[i]===u[0]){t?$(r[c]).focus():$(r[s]).focus();return}}},$2A8:function(n,t,i){return this.userAgent.$nH?n:this.userAgent.$IS?i:t}};Microsoft.Crm.Client.Core.Controls.$4a=function(){this.$mq=new Array(0)};Microsoft.Crm.Client.Core.Controls.$4a.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Core.Controls.$4a.$D)&&(Microsoft.Crm.Client.Core.Controls.$4a.$D=new Microsoft.Crm.Client.Core.Controls.$4a),Microsoft.Crm.Client.Core.Controls.$4a.$D};Microsoft.Crm.Client.Core.Controls.$4a.prototype={addHandler:function(n){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.$20&&(Array.add(this.$mq,n),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.changeState("ReactFieldPopover",!0),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.updateBackBehavior())},removeHandler:function(n){if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.$20){var t=Array.remove(this.$mq,n);return this.$2a0(),t}return!1},$2pb:function(){var n=this.$14g();this.$2a0();$0.$1(n)||n()},$2a0:function(){this.$mq.length<1&&(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.changeState("ReactFieldPopover",!1),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.updateBackBehavior())},$14g:function(){var n=this.$mq[this.$mq.length-1];return Array.removeAt(this.$mq,this.$mq.length-1),n}};Microsoft.Crm.Client.Core.Controls.$MU=function(){this.$$d_$3Vr=Function.createDelegate(this,this.$3Vr);this.$$d_$3UP=Function.createDelegate(this,this.$3UP);this.$$d_$3Cr=Function.createDelegate(this,this.$3Cr)};Microsoft.Crm.Client.Core.Controls.$MU.prototype={$3Cr:function(n){var t=n;t.unbind("touchstart");t.unbind("touchmove");t.unbind("touchend");t.bind("touchstart",this.$$d_$3Vr);t.bind("touchmove",this.$$d_$3Vr);t.bind("touchend",this.$$d_$3Vr)},$3UO:function(n){var t=!$0.$1(n);return t?this.$3UQ(n):!1},$3UP:function(n){var t=-1,i=-1,r,u,f;return $0.$1(n.changedTouches)?(t=n.clientX,i=n.clientY):(t=n.changedTouches[0].pageX,i=n.changedTouches[0].pageY),r=document.createEvent("MouseEvent"),r.initMouseEvent("mousedown",!0,!0,window.self,1,t,i,t,i,!1,!1,!1,!1,0,null),u=document.createEvent("MouseEvent"),u.initMouseEvent("mousemove",!0,!0,window.self,1,t,i,t,i,!1,!1,!1,!1,0,null),f=this,Microsoft.Crm.Client.Core.Framework.$62.$1Uj(function(){if(n.target.dispatchEvent(r),n.target.dispatchEvent(u),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$IS){var t=$(n.target);t.parents(".scrollRegion").first().css("overflow-y","auto")}}),!0},$3UQ:function(n){var e=!$0.$1(n.originalEvent),r,f,t,i,u,o;return e?(r=n.originalEvent.changedTouches,f=!$0.$1(r)&&r.length>0,!f)?!1:(t=r[0],i="",n.type==="touchstart"?i="mousedown":n.type==="touchmove"?i="mousemove":n.type==="touchend"&&(i="mouseup"),u=document.createEvent("MouseEvent"),u.initMouseEvent(i,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),o=this,Microsoft.Crm.Client.Core.Framework.$62.$1Uj(function(){n.target.dispatchEvent(u)}),!0):!1},$3Vr:function(n){n.preventDefault();return this.$3UO(n)}};Type.registerNamespace("Microsoft.Crm.Client.Core.Views");Microsoft.Crm.Client.Core.Views.ViewManager=function(){this.getDefinitionCallbacks={};this.$6d={}};Microsoft.Crm.Client.Core.Views.ViewManager.prototype={$pi:function(n,t){if(this.$6d[n]=t,n in this.getDefinitionCallbacks){Microsoft.Crm.Client.Core.Framework.$B.$1g("Get view definition callback",128,n);var i=this.getDefinitionCallbacks[n];i(t);delete this.getDefinitionCallbacks[n]}},$1k3:function(n){this.$2B4(n)},requestDefinition:function(n,t){n in this.$6d?(Microsoft.Crm.Client.Core.Framework.$B.$1g("Get view definition in cache",128,n),t(this.$6d[n])):(Microsoft.Crm.Client.Core.Framework.$B.$1g("Get view definition callback requested",128,n),this.getDefinitionCallbacks[n]=t)},removeDescriptor:function(n){n in this.$6d&&delete this.$6d[n]},$2B4:function(n){delete this.$6d[n];delete this.getDefinitionCallbacks[n]}};Microsoft.Crm.Client.Core.Controls.TabPriority.registerClass("Microsoft.Crm.Client.Core.Controls.TabPriority");Microsoft.Crm.Client.Core.Controls.$MT.registerClass("Microsoft.Crm.Client.Core.Controls.$MT");Microsoft.Crm.Client.Core.Controls.$4a.registerClass("Microsoft.Crm.Client.Core.Controls.$4a");Microsoft.Crm.Client.Core.Controls.$MU.registerClass("Microsoft.Crm.Client.Core.Controls.$MU");Microsoft.Crm.Client.Core.Views.ViewManager.registerClass("Microsoft.Crm.Client.Core.Views.ViewManager",null,Microsoft.Crm.Client.Core.Framework.$4M);Microsoft.Crm.Client.Core.Controls.TabPriority.None=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.Default=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.SiteMap=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.SiteMapItem=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.HomepageButton=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.ProcessStageButton=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.PageNavigator=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.PaneTitle=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.PaneContent=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.FormCommandButton=-1;Microsoft.Crm.Client.Core.Controls.$4a.$D=null
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.Controls.js.srcmap
Type.registerNamespace("Microsoft.Crm.Client.Core.Commands");Microsoft.Crm.Client.Core.Commands.PinCommand=function(n,t){this.$$d_$3HL=Function.createDelegate(this,this.$3HL);this.$$d_$wr=Function.createDelegate(this,this.$wr);this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.PinCommand.initializeBase(this);var i=t.InitializationParameters;this.set_$2e(this.$$d_$31);this.$Be=n;this.$X=i.TargetViewModel;this.$Ir=i.StartScreen?"{D04E4181-ED85-4305-A3DC-3DA59C00F25B}":Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString();this.$1Ea="IsBoundToScreen"in i&&i.IsBoundToScreen;this.$1bk=this.$Be.$1D;this.$22h();this.get_CanExecute()&&(this.$wr(),Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$X)&&(this.$142=this.$$d_$wr,this.$X.add_$130(this.$142)))};Microsoft.Crm.Client.Core.Commands.PinCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("PinCommand",Microsoft.Crm.Client.Core.Commands.PinCommand.$10)};Microsoft.Crm.Client.Core.Commands.PinCommand.$1jg=function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$UY.$34H(function(n){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$XA(new Microsoft.Crm.Client.Core.Framework.Guid("{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"),Microsoft.Crm.Client.Core.Commands.PinCommand.get_$f()).done(function(t){for(var h,i,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p)),e=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),o={},s=n,l=s.length,u=0;u<l;++u)h=s[u],o[h]=null;for(var c=t.$E6,a=c.length,f=0;f<a;++f)i=c[f],i.$Al.toString()in o||(r.add(i),e.add(i.$Al.toString()));r.get_Count()>0&&(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$lV(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$3G(new Microsoft.Crm.Client.Core.Framework.Guid("{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"),r.toArray()),Microsoft.Crm.Client.Core.Commands.PinCommand.get_$f()),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$UY.$2hq(e.toArray()))})})};Microsoft.Crm.Client.Core.Commands.PinCommand.get_$f=function(){return Microsoft.Crm.Client.Core.Framework.$G.$b("","PinCommand")};Microsoft.Crm.Client.Core.Commands.PinCommand.$10=function(n,t){return new Microsoft.Crm.Client.Core.Commands.PinCommand(n,t)};Microsoft.Crm.Client.Core.Commands.PinCommand.$2jD=function(n){var i=window.document.createElement("img"),t,r;return i.setAttribute("src",n),t=window.document.createElement("canvas"),t.width=i.getAttribute("width"),t.height=i.getAttribute("height"),t.getContext("2d").drawImage(i,0,0),r=t.toDataURL("image/png"),r.substr(22)};Microsoft.Crm.Client.Core.Commands.PinCommand.prototype={$Be:null,$X:null,$Ir:null,$1Ea:!1,$1bk:null,$142:null,$2G:null,$1dw:null,$3HL:function(n,t){this.$2G===t.$2G&&this.$wr()},$26W:function(){var r=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$Ir),u,h,f,c,i,e,o,s;if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$X.get_$2R())&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$X)&&(u=this.$X,!$0.$1(u.$h)))return Microsoft.Crm.Client.Core.Models.$3U.$B(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p(r,this.$X.get_$2R(),new Microsoft.Crm.Client.Core.Framework.Guid(u.$h),1,u.$9c));if(!$0.$1(this.$X.get_$1K()))return h=this.$X.get_$1K(),Microsoft.Crm.Client.Core.Models.$3U.$VH(r,h.$M);if(this.$X.$o===1&&(f=this.$X,!$0.$1(f.$h)))return c="IsPowerBIDashboard="+f.$1F8.toString(),Microsoft.Crm.Client.Core.Models.$3U.$B(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p(r,"Workspace".toUpperCase(),new Microsoft.Crm.Client.Core.Framework.Guid(f.$h),4,c));if(this.$X.$o===50){var l=this.$X.get_Root(),t=l.$BH.powerBIFullScreenComponent,n={};n.externalContextPowerBIUrl=t.$Uj;n.dashboardId=t.$Xu;n.tileId=t.$c6;n.reportId=t.$jy;n.reportEmbedUrl=t.$qd;n.powerBIComponentType=t.$c5;i="";e=n;for(o in e)s={key:o,value:e[o]},i+=String.format("{0}={1}&",CrmEncodeDecode.CrmUrlEncode(s.key),CrmEncodeDecode.CrmUrlEncode(s.value));return i=i.substring(0,i.length-1),Microsoft.Crm.Client.Core.Models.$3U.$B(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p(r,"PowerBIFullScreenPage".toUpperCase(),Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),5,i))}return Microsoft.Crm.Client.Core.Framework.Trace.logError(1014,"Attempted to pin with unrecognized context."),Error.invalidOperation("Attempted to pin with unrecognized context."),null},$22h:function(){var n,t;this.$1Ea&&this.$Ir!==Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?Error.argument("descriptor","Pin command must have empty ScreenId if it is bound to the pin screen."):!this.$1Ea&&Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Ir)&&Error.argument("descriptor","Pin command must have non-empty ScreenId if not bound to the pin screen.");n=!$0.$1(this.$X);(this.$X.get_$2R()==="opportunityproduct"||this.$X.get_$2R()==="productpricelevel")&&(n=!1);this.$Ir!=="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"||Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$UY.$20||(n=!1);this.$X.get_$Dt()&&(n=!1);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$X)&&(t=this.$X,Microsoft.Crm.Client.Core.Framework.$3.$9(t.$9c)||(n=!1),this.$1Ea&&(n=!1),!Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(t)||t.$f8||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()||(n=!1));this.set_CanExecute(n)},$wr:function(){var t,n,i;this.$3w||(t=this.$26W(),$0.$1(t))||($0.$1(this.$2G)&&(this.$2G=t.get_$2p().get_$4z(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$1iD(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p,this.$2G,this.$$d_$3HL)),this.$Ir==="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$UY.$20&&this.$3VT(1e3),n=this,i=this,t.$27C().then(function(t){if(!$0.$1(n.$Be)){var i=n.$Be.$Hs;t?(n.$Be.set_Label(Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_PinCommand_Unpin_Text"),n.$1bk)),i["data-pinned"]="1",Microsoft.Crm.Client.Core.ViewModels.$8k.isInstanceOfType(n.$Be)&&n.$Be.set_ImageName("Unpin")):(n.$Be.set_Label(Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_PinCommand_Pin_Text"),n.$1bk)),i["data-pinned"]=null,Microsoft.Crm.Client.Core.ViewModels.$8k.isInstanceOfType(n.$Be)&&n.$Be.set_ImageName("Pin"));n.$Be.set_TestabilityAttributes(i)}},function(n){Error.create(String.format("PinCommand has failed in UpdateLabelAndIcon:\n\n {0}",n.$E))}))},$3VT:function(n){var t=new Date;(!this.$1dw||t.getTime()-this.$1dw.getTime()>n)&&(this.$1dw=new Date,Microsoft.Crm.Client.Core.Commands.PinCommand.$1jg())},$31:function(){var t=this.$26W(),n=this,i=this;t.$27C().then(function(i){if(i)n.$Ir==="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$UY.$2nf(t.get_$2p().$Al.toString(),n.$Be.$v4,n.$Be.$v5,Number.parseInvariant(n.$Be.$IR.toString()),Number.parseInvariant(n.$Be.$G4.toString()),function(i){i&&(n.$1BQ(t.get_$2p()),window.document.body.focus())}):n.$1BQ(t.get_$2p());else if(n.$Ir==="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"){var e={forcerefresh:!0,pinnedtilemodel:t},f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("PopulateTileData",e),r,u;Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$u4?(r=window.innerWidth/2-Number.parseInvariant(n.$Be.$G4.toString())/2,u=window.innerHeight/2):(r=n.$Be.$v4,u=n.$Be.$v5);f.OnSuccess=function(){var f=new Microsoft.Crm.Client.Core.Models.Tiles.Factories.$J0,i=f.$2A0(t),e=n.$3W7("CRM "+i.get_LeftCornerText());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$UY.$2mK(t.get_$2p().$Al.toString(),n.$2g1(t.get_$2p()),e,i.get_$KT(),r,u,Number.parseInvariant(n.$Be.$IR.toString()),Number.parseInvariant(n.$Be.$G4.toString()),function(r,u){if(r){n.$2VU(t.get_$2p());var f=Microsoft.Crm.Client.Core.Commands.PinCommand.$2jD(i.get_$1Uh());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$UY.$3QS(t.get_$2p().$Al.toString(),i.get_$3Ug(),i.get_$3Uh(),i.get_$1KZ(),i.get_$3Z9(),f,u.length?"name":"none");Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1AY().collapse()}})};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",n.$X,f)}else n.$2VU(t.get_$2p())},function(n){Error.create(String.format("PinCommand has failed in OnExecute:\n\n {0}",n.$E))})},$3W7:function(n){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$fl&&n.length>15&&(n=n.substr(0,14)+"…"),n},$2VU:function(n){var t=this,i=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$l6(n).then(function(){Microsoft.Crm.Client.Core.Framework.$B.$1g("PinCommand_OnExecute_CreateTile_Success",1014,n.get_$4z());t.$wr();Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$XA(n.$Gi,Microsoft.Crm.Client.Core.Commands.PinCommand.get_$f())},function(n){Error.create(String.format("PinCommand has failed in CreatePinnedTile:\n\n {0}",n.$E))})},$1BQ:function(n){var t=this,i=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$lU(n).then(function(){Microsoft.Crm.Client.Core.Framework.$B.$1g("PinCommand_OnExecute_DeleteTile_Success",1014,n.get_$4z());t.$wr();Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$XA(n.$Gi,Microsoft.Crm.Client.Core.Commands.PinCommand.get_$f())},function(n){Error.create(String.format("PinCommand has failed in DeletePinnedTile:\n\n {0}",n.$E))})},$2g1:function(n){var t;switch(n.$AO){case 1:t="entitylist";break;case 4:t="dashboard";break;default:t="entityrecord"}return Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}={1}&{2}={3}&{4}={5}","navetn",CrmEncodeDecode.CrmUrlEncode(n.$85),"navid",CrmEncodeDecode.CrmUrlEncode(n.$Al.toString()),"navpagetype",CrmEncodeDecode.CrmUrlEncode(t))},$GX:function(){$0.$1(this.$142)||$0.$1(this.$X)||(this.$X.remove_$130(this.$142),this.$142=null);this.$X=null;this.$Be=null;$0.$1(this.$2G)||Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$1yY(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p,this.$2G,this.$$d_$3HL);Microsoft.Crm.Client.Core.Framework.Binding.$3a.prototype.$GX.call(this)}};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand=function(){this.$$d_$31=Function.createDelegate(this,this.$31);Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.initializeBase(this);this.set_$2e(this.$$d_$31)};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ShowPerformanceCommand",Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$10)};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$10=function(){return new Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.prototype={$31:function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()}};Microsoft.Crm.Client.Core.Commands.PinCommand.registerClass("Microsoft.Crm.Client.Core.Commands.PinCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand",Microsoft.Crm.Client.Core.Framework.Binding.$3a);Microsoft.Crm.Client.Core.Commands.PinCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.Views.js.srcmap
Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$Lj=function(n,t){this.$2=n;this.$Wt=t};Microsoft.Crm.Client.Core.ViewModels.$Lj.prototype={$2:null,$Wt:null,$4Z:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$Db(this.$Wt);return Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$1EM(n,this.$2),n},$DG:function(){throw Error.notImplemented();}};Type.registerNamespace("Microsoft.Crm.Client.Application.App");Microsoft.Crm.Client.Application.App.$H3=function(){};Microsoft.Crm.Client.Application.App.$H3.registerInterface("Microsoft.Crm.Client.Application.App.$H3");Microsoft.Crm.Client.Application.App.$MS=function(n){var t,i,r;this.$$d_$3EW=Function.createDelegate(this,this.$3EW);this.$B7={};t=n;for(i in t)r={key:i,value:t[i]},this.$B7[r.key]=r.value};Microsoft.Crm.Client.Application.App.$MS.prototype={$B7:null,$HN:function(){try{if("navpagetype"in this.$B7)return this.$34t();if(this.$CH()){if("error"in this.$B7)return Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093990)),null;if("pagetype"in this.$B7)return this.$2zR()}}catch(n){Microsoft.Crm.Client.Core.Framework.Trace.logException(1004,n,"Encountered exception when creating startup view model from URL")}return null},$CH:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("AppLinking")},$34t:function(){var i=this.$B7.navetn,r=this.$B7.navid,u=this.$B7.navpagetype,n,t;switch(u){case"entitylist":n=13;break;case"dashboard":n=1;break;case"entityrecord":n=2;break;default:return Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093990)),null}return!r||!i?null:(n===2&&i.toLowerCase()==="Workspace".toLowerCase()&&(n=1),t=Microsoft.Crm.Client.Application.App.StartPage.$F0(n,i,r,null,!1,null),$0.$1(t)||(t.$1F6=!0),t)},$2zR:function(){var i=this.$B7.etn,r=this.$B7.id,u=this.$B7.pagetype,t,f,n,e;switch(u){case"view":t=13;break;case"dashboard":t=1;break;case"interactioncentricdashboard":t=37;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&$0.$1(r)&&!$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$e3())&&(r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$e3().toString());break;case"entity":case"create":t=2;break;case"interactioncentricform":t=40;break;default:return Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093990)),null}return this.$3Xz(t,u,r,i)?!Microsoft.Crm.Client.Core.Framework.$3.$9(i)&&!this.$3D7(i)?(Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093990)),null):Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(f=this.$31D(i,u),f)?(Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(null,f),null):(n=Microsoft.Crm.Client.Application.App.StartPage.$F0(t,i,r||Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString(),null,!1,null),n.$A1=this.$B7,e=this.$B7.tabset,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("AssociatedGridURLAddressability")&&!$0.$1(n)&&!$0.$1(e)&&i===n.$J&&(n.$jU="AssociatedGrid0",n.add_$7l(this.$$d_$3EW)),u==="create")?(this.$35b(n),null):n:(Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093990)),null)},$3EW:function(n){var e=this.$B7.tabset,i,u,r,f,t,o;if(!$0.$1(n)&&!$0.$1(e)&&(i=n,i.remove_$7l(this.$$d_$3EW),!$0.$1(i.$F)&&"InteractionCentricRelationships"in i.$F)){for(u=i.$F.InteractionCentricRelationships,u.GenerateAssociatedItems(),r=u.$18N,f=!1,t=0;t<r.length;++t)if(o=$0.$1(r[t].associatedViewData.$Hz)?"":r[t].associatedViewData.$Hz,o.toLowerCase()===e.toLowerCase()){f=!0;r[t].OpenItem();break}f||Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093990))}},$3D7:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);return!!t},$31D:function(n,t){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(n);if(!i)return null;if(t==="create")switch(i.$d){case"socialactivity":case"socialprofile":return String.format(Xrm.Internal.getResourceString("Web.cs.createNotSupported"),i.$1S)}return null},$1Yr:function(n,t){var i=new Microsoft.Crm.Client.Core.Commands.CreateFormCommand(n,n.$J,t);i.execute();i.dispose()},$35b:function(n){var t=CrmEncodeDecode.CrmUrlDecode(this.$B7.data),i=Microsoft.Crm.Client.Core.Framework.Utils.$1A.$3Uy(t);this.$1Yr(n,i)},$3Xz:function(n,t,i,r){return Microsoft.Crm.Client.Core.Framework.$3.$9(i)&&t!=="create"&&(n===2||n===40||n===1||n===37)?!1:Microsoft.Crm.Client.Core.Framework.$3.$9(r)&&(n===2||n===40||n===13||t==="create")?!1:!0}};Microsoft.Crm.Client.Application.App.$Lu=function(){};Microsoft.Crm.Client.Application.App.$Lu.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$kH=new Microsoft.Crm.Client.Application.App.$Lu};Microsoft.Crm.Client.Application.App.$Lu.prototype={$1An:!1,get_$2j6:function(){return!$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$P0())},get_$1Ao:function(){return this.$1An},set_$1Ao:function(n){return this.$1An!==n&&(this.$1An=n,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$P0().set_Enabled(this.$1An)),n}};Microsoft.Crm.Client.Application.App.ShimEmailContextChangedHandler=function(){this.$$d_$3EG=Function.createDelegate(this,this.$3EG)};Microsoft.Crm.Client.Application.App.ShimEmailContextChangedHandler.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Application.App.ShimEmailContextChangedHandler.$D)&&(Microsoft.Crm.Client.Application.App.ShimEmailContextChangedHandler.$D=new Microsoft.Crm.Client.Application.App.ShimEmailContextChangedHandler),Microsoft.Crm.Client.Application.App.ShimEmailContextChangedHandler.$D};Microsoft.Crm.Client.Application.App.ShimEmailContextChangedHandler.prototype={$2NY:function(n){n.add_$1vb(this.$$d_$3EG)},$3EG:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();n.$1vb()}};Microsoft.Crm.Client.Application.App.$3x=function(){Microsoft.Crm.Client.Application.App.$3x.initializeBase(this)};Microsoft.Crm.Client.Application.App.$3x.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Application.App.$3x.$D)&&(Microsoft.Crm.Client.Application.App.$3x.$D=new Microsoft.Crm.Client.Application.App.$3x),Microsoft.Crm.Client.Application.App.$3x.$D};Microsoft.Crm.Client.Application.App.$3x.prototype={add_$1vO:function(n){this.$2I("AppUIInitialized",n)},remove_$1vO:function(n){this.$4N("AppUIInitialized",n)},$Cg:function(n,t){this.$Br(n,t)}};Microsoft.Crm.Client.Application.App.$1v=function(){};Microsoft.Crm.Client.Application.App.$1v.$3Lt=function(n){Microsoft.Crm.Client.Application.App.$1v.$UL.add(n)};Microsoft.Crm.Client.Application.App.$1v.$2aX=function(n){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$jB.$20&&(n.get_$GM()?Microsoft.Crm.Client.Application.App.$1v.$UL.contains(n)||Microsoft.Crm.Client.Application.App.$1v.$UL.add(n):Microsoft.Crm.Client.Application.App.$1v.$UL.remove(n),Microsoft.Crm.Client.Application.App.$1v.$2Ar(),Microsoft.Crm.Client.Application.App.$1v.$9d&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$jB.$2X1(0))};Microsoft.Crm.Client.Application.App.$1v.$3KT=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Application.App.$1v.$385().then(function(){if(Microsoft.Crm.Client.Application.App.$1v.$9d){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$jB.$2zP(function(n){switch(n){case 0:case 5:case 2:Microsoft.Crm.Client.Application.App.$1v.$2KR(t);break;default:Microsoft.Crm.Client.Application.App.$1v.$2KQ(t)}});t.always(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$jB.$2X1(0);n.resolve(null)})}else n.resolve(null)},function(n){Microsoft.Crm.Client.Core.Framework.$B.$1g("ClientQualityManager_ProcessLastShutdownState",1004,"Unable to initialize quality management subscribers: "+n.$E)}),n.promise()};Microsoft.Crm.Client.Application.App.$1v.$385=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t,u;if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$jB.$20){t=[];for(var r=Microsoft.Crm.Client.Application.App.$1v.$UL.toArray(),f=r.length,i=0;i<f;++i)u=r[i],Array.add(t,u.$18());Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t).always(function(){for(var t=0;t<Microsoft.Crm.Client.Application.App.$1v.$UL.get_Count();t++)Microsoft.Crm.Client.Application.App.$1v.$UL.get_$I(t).get_$GM()||(Microsoft.Crm.Client.Application.App.$1v.$UL.removeAt(t),t--);Microsoft.Crm.Client.Application.App.$1v.$2Ar();n.resolve(null)})}else n.resolve(null);return n.promise()};Microsoft.Crm.Client.Application.App.$1v.$2KR=function(n){for(var u,i=[],r=Microsoft.Crm.Client.Application.App.$1v.$UL.toArray(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$2KR());Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).always(function(){n.resolve(null)})};Microsoft.Crm.Client.Application.App.$1v.$2KQ=function(n){for(var u,i=[],r=Microsoft.Crm.Client.Application.App.$1v.$UL.toArray(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$2KQ());Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).always(function(){n.resolve(null)})};Microsoft.Crm.Client.Application.App.$1v.$2Ar=function(){Microsoft.Crm.Client.Application.App.$1v.$9d=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$jB.$20&&Microsoft.Crm.Client.Application.App.$1v.$UL.get_Count()>0};Microsoft.Crm.Client.Application.App.$1o=function(){};Microsoft.Crm.Client.Application.App.$1o.$2h6=function(){var r=window.applicationCache,u=!$0.$1(r),n,t,f,i;if(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"AppCache - AppCache exists : "+u),n=!1,t=document.getElementsByTagName("html"),t&&t.length>0&&(f=t[0],i=f.getAttribute("manifest"),n=!$0.$1(i)&&!Microsoft.Crm.Client.Core.Framework.$3.$1O(i)),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"AppCache - Manifest specified : "+n),u&&n){Microsoft.Crm.Client.Application.App.$1o.$2cN();try{Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"AppCache - Start Update");r.update();window.setTimeout(Microsoft.Crm.Client.Application.App.$1o.$2eH,12e4)}catch(e){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"AppCache - Update threw exception");Microsoft.Crm.Client.Application.App.$17.$pB(Microsoft.Crm.Client.Application.App.$17.$YA,!0)}}else Microsoft.Crm.Client.Application.App.$17.$pB(Microsoft.Crm.Client.Application.App.$17.$YA,!0)};Microsoft.Crm.Client.Application.App.$1o.$2eH=function(){Microsoft.Crm.Client.Application.App.$17.$kn[Microsoft.Crm.Client.Application.App.$17.$YA]||(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"AppCache : No event received since 120 secs. Current Appcache status is : "+window.applicationCache.status),$0.$1(Microsoft.Crm.Client.Application.App.$1o.$1Wm)||Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Last Appcache event was : "+JSON.stringify(Microsoft.Crm.Client.Application.App.$1o.$1Wm)),window.applicationCache.status===1?Microsoft.Crm.Client.Application.App.$17.$pB(Microsoft.Crm.Client.Application.App.$17.$YA,!0):window.applicationCache.status===4?Microsoft.Crm.Client.Application.App.$1o.$2Zx(null):$.get("version.txt","_$123",Microsoft.Crm.Client.Application.App.$1o.$2hH,"text"))};Microsoft.Crm.Client.Application.App.$1o.$2hH=function(n){var t,i;if(!$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K())){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Check for appCache update failed. No previous server versions...");return}var r=new RegExp("\\d*\\.\\d*","g"),u=r.exec(n.toString()),f=r.exec(n.toString());$0.$1(u)||$0.$1(f)||(t=u[0]+"."+f[0],i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Yv,Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Retrieved server versions... Old :"+i+" New:  "+t),t===i?(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Appcache FailSafe: No update detected..."),Microsoft.Crm.Client.Application.App.$17.$pB(Microsoft.Crm.Client.Application.App.$17.$YA,!0)):Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Appcache FailSafe: AppCache update has failed to complete in 120 secs..."))};Microsoft.Crm.Client.Application.App.$1o.$2cN=function(){var n=window.applicationCache;n.onupdateready=Microsoft.Crm.Client.Application.App.$1o.$25R;n.onerror=Microsoft.Crm.Client.Application.App.$1o.$1iU;n.onnoupdate=Microsoft.Crm.Client.Application.App.$1o.$1iU;n.oncached=Microsoft.Crm.Client.Application.App.$1o.$25Q;n.onchecking=Microsoft.Crm.Client.Application.App.$1o.$1Nl;n.onobsolete=Microsoft.Crm.Client.Application.App.$1o.$1Nl;n.ondownloading=Microsoft.Crm.Client.Application.App.$1o.$1Nl};Microsoft.Crm.Client.Application.App.$1o.$2Zx=function(n){var t=window.applicationCache;Microsoft.Crm.Client.Application.App.$1o.$uK(t,n);t.status===4?Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?Microsoft.Crm.Client.Application.App.$17.$3VU(1,Microsoft.Crm.Client.Core.Framework.$4.$i("Appcache updated").$TI(),0):(t.swapCache(),window.location.reload(!0)):Microsoft.Crm.Client.Application.App.$17.$pB(Microsoft.Crm.Client.Application.App.$17.$YA,!0)};Microsoft.Crm.Client.Application.App.$1o.$2eG=function(n){Microsoft.Crm.Client.Application.App.$1o.$uK(window.applicationCache,n);Microsoft.Crm.Client.Application.App.$17.$pB(Microsoft.Crm.Client.Application.App.$17.$YA,!0)};Microsoft.Crm.Client.Application.App.$1o.$2eF=function(n){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,String.format("AppCache - Event : {0} Status : {1} Details : {2}",n.type,"Cached",JSON.stringify(n)));Microsoft.Crm.Client.Application.App.$17.$pB(Microsoft.Crm.Client.Application.App.$17.$YA,!0)};Microsoft.Crm.Client.Application.App.$1o.$2eI=function(n){Microsoft.Crm.Client.Application.App.$1o.$uK(window.applicationCache,n)};Microsoft.Crm.Client.Application.App.$1o.$uK=function(n,t){if(Microsoft.Crm.Client.Application.App.$1o.$1Wm=t,!$0.$1(t)){var i="ApplicationCacheObjectWasNull";if(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Received appcache event..."),!$0.$1(n))switch(n.status){case 2:i="Checking";break;case 3:i="Downloading";break;case 1:i="Idle";break;case 5:i="Obsolete";break;case 0:i="Uncached";break;case 4:i="UpdateReady";break;default:i="Unknown Status"}try{Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,String.format("AppCache - Event : {0} Status : {1} Details : {2}",t.type,i,JSON.stringify(t)))}catch(r){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"LogAppCacheEvent failed")}}};Microsoft.Crm.Client.Application.App.$17=function(){};Microsoft.Crm.Client.Application.App.$17.$37P=function(){var i;Microsoft.Crm.Client.Application.App.$17.$kn={};for(var t=Microsoft.Crm.Client.Application.App.$17.$1jz,r=t.length,n=0;n<r;++n)i=t[n],Microsoft.Crm.Client.Application.App.$17.$kn[i]=!1};Microsoft.Crm.Client.Application.App.$17.$pB=function(n,t){$0.$1(Microsoft.Crm.Client.Application.App.$17.$kn)&&Microsoft.Crm.Client.Application.App.$17.$37P();n in Microsoft.Crm.Client.Application.App.$17.$kn&&(Microsoft.Crm.Client.Application.App.$17.$kn[n]=t,Microsoft.Crm.Client.Core.Framework.Trace.logInfo(1016,"Setting clientStatusFlag : "+n+" to true"));Microsoft.Crm.Client.Application.App.$17.$2h4()};Microsoft.Crm.Client.Application.App.$17.$2h4=function(){for(var i,t=Microsoft.Crm.Client.Application.App.$17.$1jz,r=t.length,n=0;n<r;++n)if(i=t[n],!Microsoft.Crm.Client.Application.App.$17.$kn[i])return;Microsoft.Crm.Client.Core.Framework.Trace.logInfo(1016,"All ClientStatusFlags are true, Ready to send clientReady...");Microsoft.Crm.Client.Application.App.$17.$wi()};Microsoft.Crm.Client.Application.App.$17.$wi=function(){if(!Microsoft.Crm.Client.Application.App.$17.$rf){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1PF(null);Microsoft.Crm.Client.Application.App.$17.$rf=!0;for(var n=0;n<Microsoft.Crm.Client.Application.App.$17.$1AV.length;n++)Microsoft.Crm.Client.Application.App.$17.$1AV[n]();Microsoft.Crm.Client.Application.App.$17.$1AV=new Array(0)}};Microsoft.Crm.Client.Application.App.$17.$3VU=function(n,t,i){i===1?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Di.$19u(n,t):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$1AU(n,t)};Microsoft.Crm.Client.Application.App.$17.$2cY=function(n){Microsoft.Crm.Client.Application.App.$17.$rf?n():Microsoft.Crm.Client.Application.App.$17.$1AV.push(n)};Microsoft.Crm.Client.Application.App.$10=function(){this.$Ve={};this.$2LK=["MobileClientTelemetry","MobileClientOfflineAutoOptin"];this.$2Ry=["MobileClientOffline"];this.isFeatureInitialized=this.$3bQ;this.isFeatureEnabled=this.$1sV;this.isFeatureEnabledByFCBName=this.$3bP};Microsoft.Crm.Client.Application.App.$10.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Application.App.$10.$D)&&(Microsoft.Crm.Client.Application.App.$10.$D=new Microsoft.Crm.Client.Application.App.$10),Microsoft.Crm.Client.Application.App.$10.$D};Microsoft.Crm.Client.Application.App.$10.prototype={$zT:null,$WY:null,$1CL:null,$2Xu:function(n){return!$0.$1(n)&&(!n.get_$3NN()||!$0.$1(this.$WY)&&n.get_$1Xq()in this.$WY&&this.$WY[n.get_$1Xq()])},$18:function(n,t){var r,i;this.$zT=n;this.$WY=t;for(var f=Microsoft.Crm.Client.Application.App.Features.FeatureName.$1iR,e=f.length,u=0;u<e;++u)r=f[u],(!$0.$1(this.$zT)&&r in this.$zT&&this.$zT[r].$An||!$0.$1(this.$WY)&&r in this.$WY)&&(i=null,r in this.$Ve?(i=this.$Ve[r],this.$2Xu(i)&&i.get_$1sy()&&!i.get_$12Q()&&i.set_$CH(!0)):(i=Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$1Aw(r),this.$2Xu(i)&&(i.set_$CH(!0),this.$Ve[r]=i)))},$37a:function(n){var i,t;this.$WY=n;for(var u=this.$2LK,f=u.length,r=0;r<f;++r)i=u[r],t=Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$1Aw(i),!$0.$1(t)&&!$0.$1(this.$WY)&&t.get_$1Xq()in this.$WY&&this.$WY[t.get_$1Xq()]&&(t.set_$CH(!0),this.$Ve[i]=t,this.InitializeFeature(i))},$3Jz:function(){for(var n,i,r=this.$2Ry,u=r.length,t=0;t<u;++t)n=r[t],i=Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$1Aw(n),$0.$1(i)||(this.$Ve[n]=i,this.PreInitializeFeature(n))},$1rb:function(){for(var i,t=Microsoft.Crm.Client.Application.App.Features.FeatureName.$1iR,r=t.length,n=0;n<r;++n)i=t[n],this.InitializeFeature(i);MscrmComponents.RegisterComponentsUnderFeatureControl(this)},GetFeature:function(n){return this.$Ve[n]},InitializeFeature:function(n){var t=this.$Ve[n];$0.$1(t)||!t.get_$CH()||t.get_$12Q()||this.$Ve[n].$18()},PreInitializeFeature:function(n){var t=this.$Ve[n];$0.$1(t)||t.get_$1sy()||this.$Ve[n].$2Rx()},$1sV:function(n){return!$0.$1(n)&&!$0.$1(this.GetFeature(n))&&this.GetFeature(n).get_$CH()},$3bP:function(n){return $0.$1(this.$1CL)&&this.$3JY(),this.$1sV(this.$1CL[n])},$3bQ:function(n){return!$0.$1(this.GetFeature(n))&&this.GetFeature(n).get_$12Q()},$39O:function(n){return!$0.$1(this.GetFeature(n))&&this.GetFeature(n).get_$1sy()},$3JY:function(){var n,t,r,i;this.$1CL={};n=this.$zT;for(t in n)r={key:t,value:n[t]},i=r.value,this.$1CL[i.$1Rn]=i.$sh}};Microsoft.Crm.Client.Application.App.$3q=function(){this.$$d_$3FG=Function.createDelegate(this,this.$3FG);Microsoft.Crm.Client.Application.App.$3q.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Application.App.$3q.initializeBase(this)};Microsoft.Crm.Client.Application.App.$3q.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Application.App.$3q.$D)&&(Microsoft.Crm.Client.Application.App.$3q.$D=new Microsoft.Crm.Client.Application.App.$3q),Microsoft.Crm.Client.Application.App.$3q.$D};Microsoft.Crm.Client.Application.App.$3q.prototype={$d4:!1,$YZ:!1,$oT:!1,$Ob:null,$O8:null,$1Pj:null,$1Pi:!1,$dO:null,set_$2gV:function(n){return this.$d4!==n&&(this.$d4=n,this.$O8.CameraDisabled=this.$d4,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("deviceSettingInformation",this.$O8)),n},get_$1m3:function(){return this.$YZ},set_$1m3:function(n){return this.$YZ!==n&&(this.$YZ=n,this.$O8.DeviceAccessDisabled=this.$YZ,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("deviceSettingInformation",this.$O8)),n},get_$1x9:function(){return this.$oT},set_$1x9:function(n){return this.$oT!==n&&(this.$oT=n,this.$O8.PhotoSaveDisabled=this.$oT,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("deviceSettingInformation",this.$O8)),n},get_$1rR:function(){return this.$Ob},set_$1rR:function(n){return this.$Ob!==n&&(this.$Ob=n,this.$O8.ImageRes=this.$Ob,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("deviceSettingInformation",this.$O8)),n},get_$fY:function(){return this.get_$1Eg()&&!this.$d4},get_$2MD:function(){return this.get_$2MC()&&!this.$YZ},get_$39D:function(){return this.get_$39C()&&!this.$YZ&&!this.$d4},get_$1Eg:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("DeviceIntegration")&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_CameraAvailable()},get_$2MC:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("DeviceIntegration")&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_$3DA()},get_$39C:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("DeviceIntegration")&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_CameraAvailable()},get_$2MB:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("DeviceIntegration")&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_$2uE()},get_$3U2:function(){return this.get_$1Eg()||this.get_$2MC()||this.get_$2MB()},$18:function(){this.$1Pi=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$EX;this.$O8={};var t=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_CameraAvailable(),n=this,i=this;Microsoft.Crm.Client.Core.Framework.$h.get_$5().$LX("deviceSettingInformation").then(function(i){$0.$1(i)?(n.$d4=!t,n.$Ob="DeviceDefault",n.$oT=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$nV||!t,n.$YZ=!0):(n.$d4=i.CameraDisabled||!t,n.$YZ=i.DeviceAccessDisabled,n.$Ob=i.ImageRes,n.$oT=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$nV||i.PhotoSaveDisabled||!t);n.$O8.CameraDisabled=n.$d4;n.$O8.DeviceAccessDisabled=n.$YZ;n.$O8.ImageRes=n.$Ob;n.$O8.PhotoSaveDisabled=n.$oT},function(n){Microsoft.Crm.Client.Core.Framework.$B.$65("DeviceIntegrationManager_Initialize",1004,"Error retrieving Session State DeviceIntegration: "+n.$E)})},$3BX:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_DeviceFeatureAvailable()&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS())){var n=null;document.addEventListener("deviceready",this.$$d_$3FG);this.$1Pj=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("Cordova Init");this.$1Pj.start();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U&&(n=["scripts/android/cordova.js"]);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()&&(n=["scripts/ios/cordova.js"]);Microsoft.Crm.Client.Core.Framework.$1g.$11m(n,0,null)}},$rS:function(n){this.$1Pi?n():($0.$1(this.$dO)&&(this.$dO=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Function))),this.$dO.add(n))},$3FG:function(){if(this.$1Pi=!0,this.$1Pj.stop(),document.removeEventListener("deviceready",this.$$d_$3FG),!$0.$1(this.$dO)){for(var n=0;n<this.$dO.get_Count();n++)$0.$1(this.$dO.get_$I(n))||this.$dO.get_$I(n)();this.$dO.clear()}}};Microsoft.Crm.Client.Application.App.$6Y=function(){};Microsoft.Crm.Client.Application.App.$6Y.$37I=function(){var n=Mscrm.CrmUri.create("/AppWebServices/MetricsReportingService.asmx/Report");Microsoft.Crm.Client.Core.Framework.$1B.get_$5().set_$3AM(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$1H.$1FI);Microsoft.Crm.Client.Core.Framework.$1B.get_$5().set_$3N8(n.toString());Dynamics.Telemetry.constants.InMemoryActivitiesReportingThreshold=1};Microsoft.Crm.Client.Application.App.$6Y.$3CS=function(){var t=Microsoft.Crm.Client.Application.App.$6Y.$319(),n=new Microsoft.Crm.Client.Core.Framework.$5o("ClientShimLoad",t);Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$iO(n);Microsoft.Crm.Client.Application.App.$6Y.$3CP(n);Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(n.rid)};Microsoft.Crm.Client.Application.App.$6Y.$3CP=function(n){var o={"Shim Init":"ShimInit","JavaScript Init":"JsInit","Style Init":"CssInit","RequireJs JavaScript Init":"RequireJsInit","Delayed Assets Init":"DelayedAssetsInit",DataSource_CheckRemoteDataSourceUpdates:"ServerUpdatesCheck",DataSource_SyncAllEntityAndAttributeMetadata:"SyncEntityAttributeMetadata",DataSource_SyncAllApplicationMetadata:"SyncApplicationMetadata"},s={},u=null,y,f,e,r,t,c,l,a,d,g;if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$20&&(u=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$211(),!$0.$1(u)))for(y=u.length,f=0;f<y;f++)e=u[f],r=e.Name,e.StopTime!==-1?o[r]=e[r]:s[r]=r;for(var i=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Framework.$O8)),p=0,w=0,b=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Qa(),nt=b.length,h=0;h<nt;++h)t=b[h],t.$1d==="PageLoadStart"?n.t=t.$4w:t.$1d in o?(c=Math.round(t.$2OJ()),c>0&&(l=o[t.$1d],i.set_$I(l,new Microsoft.Crm.Client.Core.Framework.$O8(l,c,t.get_$1mY(),n,{})))):t.$1d in s?(a=s[t.$1d],i.set_$I(a,new Microsoft.Crm.Client.Core.Framework.$O8(a,null,t.get_$1mY(),n,{}))):t.$1d==="DataSource_SyncEntityAttributeBatch"?p++:t.$1d==="DataSource_SyncApplicationMetadataBatch"&&w++;i.$2j0("SyncEntityAttributeMetadata")&&(i.get_$I("SyncEntityAttributeMetadata").p.Batches=p);i.$2j0("SyncApplicationMetadata")&&(i.get_$I("SyncApplicationMetadata").p.Batches=w);for(var k=i.get_$3B8(),tt=k.length,v=0;v<tt;++v)d=k[v],g=i.get_$I(d),Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$1i3(g)};Microsoft.Crm.Client.Application.App.$6Y.$319=function(){var n={},t,i;return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?(t=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState(),n.Manufacturer=t.get_$1m6(),n.DeviceModel=t.get_$1m7(),n.InstallId=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$1rw(),n.ShimVersion=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Application_Version_Format"),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$2S(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$Ar(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$15S(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$1v1()),n.FormFactor=t.get_$25(),n.UserAgent=window.navigator.userAgent,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20&&(i=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.get_MailState(),n.MailAppHostType=i.get_$3Cj(),n.MailAppHostVersion=i.get_$3Ck(),n.MailAppOWAView=i.get_$3Cl()),n.ServerVersion=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$PD.$XI,n.DBVersion=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$PD.$Si,n.OSTypeVersion=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1qd()):n.PalEnabled=0,n};Microsoft.Crm.Client.Application.App.$55=function(){if(this.$$d_$3Kn=Function.createDelegate(this,this.$3Kn),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$20){var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().AddPropertyChangedListener(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$R.$1xr.$G,function(){n.$2aY()});this.$2aY()}};Microsoft.Crm.Client.Application.App.$55.$TH=function(){return $0.$1(Microsoft.Crm.Client.Application.App.$55.$D)&&(Microsoft.Crm.Client.Application.App.$55.$D=new Microsoft.Crm.Client.Application.App.$55),Microsoft.Crm.Client.Application.App.$55.$D};Microsoft.Crm.Client.Application.App.$55.$18=function(){Microsoft.Crm.Client.Application.App.$55.$TH()};Microsoft.Crm.Client.Application.App.$55.prototype={$1JT:!1,$2aY:function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$3Km()?this.$1JT||(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$1Fo(this.$$d_$3Kn),this.$1JT=!0):this.$1JT&&(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().remove_$1Fo(this.$$d_$3Kn),this.$1JT=!1)},$3Kn:function(n,t){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$3Xc(new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$PN(t.$UO))}};Microsoft.Crm.Client.Application.App.$j=function(){};Microsoft.Crm.Client.Application.App.$j.$1cc=function(){var n,t;if($0.$1(Microsoft.Crm.Client.Application.App.$j.$9J))if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled())Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U?window.setTimeout(function(){Microsoft.Crm.Client.Application.App.$j.$2Ik()},50):Microsoft.Crm.Client.Application.App.$j.$2Ik();else{if(Microsoft.Crm.Client.Application.App.$j.$9J={},Microsoft.Crm.Client.Application.App.$j.$9J.Initializing="Please stay on this screen while we get things ready for you...",Microsoft.Crm.Client.Application.App.$j.$9J.UserEducationTip2="Press anywhere on a field to enter data.",Microsoft.Crm.Client.Application.App.$j.$9J.SyncProgressIndicator="{0}/{1}",Microsoft.Crm.Client.Application.App.$j.$9J.StepProgressIndicator="({0}%)",Microsoft.Crm.Client.Application.App.$j.$9J.SyncProgressIndicatorTextStep1="Getting started",Microsoft.Crm.Client.Application.App.$j.$9J.SyncProgressIndicatorTextStep2="Downloading metadata",Microsoft.Crm.Client.Application.App.$j.$9J.SyncProgressIndicatorTextStep3="Processing metadata",Microsoft.Crm.Client.Application.App.$j.$9J.SyncProgressIndicatorTextStep4="Downloading customizations",Microsoft.Crm.Client.Application.App.$j.$9J.SyncProgressIndicatorTextStep5="Processing customizations",Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2?Microsoft.Crm.Client.Application.App.$j.$9J.UserEducationHeaderTitle_Phone="Tips.":(Microsoft.Crm.Client.Application.App.$j.$9J.UserEducationHeaderTitle="Here are some tips to help you get around",Microsoft.Crm.Client.Application.App.$j.$9J.UserEducationTip1="Swipe up from the bottom edge to see commands related to what you're doing.",Microsoft.Crm.Client.Application.App.$j.$9J.UserEducationTip3="Press and hold to see more options (the same as right-click with a mouse)."),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k())for(Microsoft.Crm.Client.Application.App.$j.$9J.Initializing=Microsoft.Crm.Client.Core.Framework.$1u.$c("_initializing"),Microsoft.Crm.Client.Application.App.$j.$9J.UserEducationHeaderTitle=Microsoft.Crm.Client.Core.Framework.$1u.$c("_userEducationHeader"),n=1;n<=Microsoft.Crm.Client.Application.App.$j.$1uX;n++)t=n.toString(),Microsoft.Crm.Client.Application.App.$j.$9J["SyncProgressIndicatorTextStep"+t]=Microsoft.Crm.Client.Core.Framework.$1u.$c("_syncStep"+t);Microsoft.Crm.Client.Application.App.$j.$1ic(Microsoft.Crm.Client.Application.App.$j.$9J)}else Microsoft.Crm.Client.Application.App.$j.$1ic(Microsoft.Crm.Client.Application.App.$j.$9J);Microsoft.Crm.Client.Application.App.$j.$1BB=0};Microsoft.Crm.Client.Application.App.$j.$2Ik=function(){(!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U||Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$z2()>1)&&Array.addRange(Microsoft.Crm.Client.Application.App.$j.$23C,Microsoft.Crm.Client.Application.App.$j.$2aj);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$2Jj(Microsoft.Crm.Client.Application.App.$j.$23C,function(n){var i,r,t;if(!$0.$1(n)){Microsoft.Crm.Client.Application.App.$j.$9J=n;i=Microsoft.Crm.Client.Application.App.$j.$9J;for(r in i)t={key:r,value:i[r]},t.key===Microsoft.Crm.Client.Application.App.$j.$9J[t.key]&&(Microsoft.Crm.Client.Application.App.$j.$9J[t.key]="");Microsoft.Crm.Client.Application.App.$j.$1ic(Microsoft.Crm.Client.Application.App.$j.$9J)}})};Microsoft.Crm.Client.Application.App.$j.$1ic=function(n){var r=$("#WaitLabel",window.document.body),i=$("#UserEducationTitle",window.document.body),u=$("#HelpTip1",window.document.body),f=$("#HelpTip2",window.document.body),e=$("#HelpTip3",window.document.body),t;$0.$1(n.languageCode)||(t=Microsoft.Crm.Client.Application.App.$2Q.$31j(Microsoft.Crm.Client.Application.App.$j.$9J.languageCode.toString()),$0.$1(t)||(r.css("font-family",t["SegoeUI-Light"]),i.css("font-family",t.SegoeUI),u.css("font-family",t.SegoeUI),f.css("font-family",t.SegoeUI),e.css("font-family",t.SegoeUI)));r.html($1Y.$QE(n.Initializing.toString()));f.html($1Y.$QE(n.UserEducationTip2.toString()));Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2?i.html($1Y.$QE(n.UserEducationHeaderTitle_Phone.toString())):(i.html($1Y.$QE(n.UserEducationHeaderTitle.toString())),u.html($1Y.$QE(n.UserEducationTip1.toString())),e.html($1Y.$QE(n.UserEducationTip3.toString())));Microsoft.Crm.Client.Application.App.$j.$2YC()};Microsoft.Crm.Client.Application.App.$j.$2YC=function(){var n,t;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()||(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&$("#WarmLoadCRMUILoading",window.document.body).css("display","none"),$("#UserEducation",window.document.body).css("display","block"));Microsoft.Crm.Client.Application.App.$j.$ws||(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?Microsoft.Crm.Client.Application.App.$j.$ws="/nga/resources/images/interaction_centric_user_education.png":Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2?($("#HelpTip1",window.document.body).css("display","none"),$(window.document.body).addClass("phone"),Microsoft.Crm.Client.Application.App.$j.$ws="/nga/resources/images/user_education_phone.png"):Microsoft.Crm.Client.Application.App.$j.$ws=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U?"/nga/resources/images/user_education_ios_android.png":"/nga/resources/images/user_education.png");n="userEducationImage";Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(n="interactionCentricUserEducationImage");t=window.document.getElementById(n);t.src=Microsoft.Crm.Client.Application.App.$j.$ws;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().remove_$1Fo(Microsoft.Crm.Client.Application.App.$j.$1mE);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$1Fo(Microsoft.Crm.Client.Application.App.$j.$1mE)};Microsoft.Crm.Client.Application.App.$j.$1EG=function(){$("#UserEducation",window.document.body).css("display","none");var n=window.document.getElementById("userEducationImage");Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().remove_$1Fo(Microsoft.Crm.Client.Application.App.$j.$1mE)};Microsoft.Crm.Client.Application.App.$j.$370=function(){$("#LoadingSection",window.document.body).css("display","none")};Microsoft.Crm.Client.Application.App.$j.$1mE=function(n,t){var i,r;Array.indexOf(Microsoft.Crm.Client.Application.App.$j.$2B6,t.$UO)!==-1&&(i="",t.$1Jy>=0?(r=0,t.$1Zh<t.$1Jy&&(r=Math.floor(t.$1Zh*100/t.$1Jy),!$0.$1(Microsoft.Crm.Client.Application.App.$j.$9J)&&Microsoft.Crm.Client.Application.App.$j.$9J.StepProgressIndicator&&$("#StepProgressIndicator",window.document.body).text(String.format(Microsoft.Crm.Client.Application.App.$j.$9J.StepProgressIndicator.toString(),r)))):(Microsoft.Crm.Client.Application.App.$j.$1BB++,i="SyncProgressIndicatorTextStep"+Microsoft.Crm.Client.Application.App.$j.$1BB.toString(),$0.$1(Microsoft.Crm.Client.Application.App.$j.$9J)||(Microsoft.Crm.Client.Application.App.$j.$9J.SyncProgressIndicator&&$("#SyncProgressIndicator",window.document.body).text(String.format(Microsoft.Crm.Client.Application.App.$j.$9J.SyncProgressIndicator.toString(),Microsoft.Crm.Client.Application.App.$j.$1BB,Microsoft.Crm.Client.Application.App.$j.$1uX)),Microsoft.Crm.Client.Application.App.$j.$9J[i]&&$("#SyncProgressIndicatorText",window.document.body).text(Microsoft.Crm.Client.Application.App.$j.$9J[i].toString())),$("#StepProgressIndicator",window.document.body).empty()))};Microsoft.Crm.Client.Application.App.Automation=function(){};Microsoft.Crm.Client.Application.App.Automation.GetPerformanceMarker=function(n,t){for(var i,u=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Qa(),r=u.length-1;r>=0;r--)if((i=u[r],i.$1d===n)&&($0.$1(t)||i.$1Rw()===t))return i.$4w;return-1};Microsoft.Crm.Client.Application.App.Automation.IsMetadataSyncCompleted=function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1KO()?!0:!1};Microsoft.Crm.Client.Application.App.Automation.ClearAllPerformanceMarkers=function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1P6()};Microsoft.Crm.Client.Application.App.Automation.EnablePerformanceMarkers=function(n){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.set_$CH(n);n&&Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$3T3(-1)};Microsoft.Crm.Client.Application.App.Automation.ClearLocalDatabase=function(){Microsoft.Crm.Client.Application.App.StartPage.UnsetISHSyncCookie();Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().$XS().done(function(){window.location.replace("about:blank")})};Microsoft.Crm.Client.Application.App.Automation.CollectGlobalObjectCounts=function(){return JSON.stringify(Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1k6())};Microsoft.Crm.Client.Application.App.Automation.CollectApplicationMetadataSyncErrors=function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$25U()};Microsoft.Crm.Client.Application.App.Automation.InvalidateAllApplicationMetadata=function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1s5()};Microsoft.Crm.Client.Application.App.Automation.EnableGlobalObjectTracking=function(n){Microsoft.Crm.Client.Core.Framework.$1r.set_$UT(n)};Microsoft.Crm.Client.Application.App.Automation.GetMemoryUsage=function(){return Microsoft.Crm.Client.Application.App.Automation.$1uZ};Microsoft.Crm.Client.Application.App.Automation.RefreshMemoryUsage=function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$20&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$1qU(function(n){Microsoft.Crm.Client.Application.App.Automation.$1uZ=Math.round(n/1024)})};Microsoft.Crm.Client.Application.App.Automation.RetrieveInAppAutomationInformation=function(){return JSON.stringify({InAppAutomationState:Microsoft.Crm.Client.Application.App.Automation.$n2,InAppAutomationMessage:Microsoft.Crm.Client.Application.App.Automation.$n1})};Microsoft.Crm.Client.Application.App.Automation.SetupInAppAutomationCollectorService=function(n){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.SetCollectorServerUrl(n);Microsoft.Crm.Client.Core.ViewModels.$1q.$21U(!0).then(function(n){Microsoft.Crm.Client.Application.App.Automation.$n1="Collector session: "+n+"\n";Microsoft.Crm.Client.Application.App.Automation.$n2=2},function(n){Microsoft.Crm.Client.Application.App.Automation.$n1="Error creating collector session: "+n.$E+"\n";Microsoft.Crm.Client.Application.App.Automation.$n2=0})};Microsoft.Crm.Client.Application.App.Automation.ExecuteInAppAutomationTestCase=function(n,t){var i,r;if(Microsoft.Crm.Client.Application.App.Automation.$n2=3,i=Microsoft.Crm.Client.Core.ViewModels.$o.CreateTestCaseForQA(n),$0.$1(i)){Microsoft.Crm.Client.Application.App.Automation.$n2=0;Microsoft.Crm.Client.Application.App.Automation.$n1="Inapp automation testcase creation failed.";return}Microsoft.Crm.Client.Application.App.Automation.$n1="Executing "+i.$4g+" "+Microsoft.Crm.Client.Core.ViewModels.$S.toString(i.$2x)+"\n";r=new Microsoft.Crm.Client.Core.ViewModels.$5c(i,t);r.$BX().then(function(){Microsoft.Crm.Client.Application.App.Automation.$n2=1;Microsoft.Crm.Client.Application.App.Automation.$n1=i.$4g+" "+Microsoft.Crm.Client.Core.ViewModels.$S.toString(i.$2x)+" Completed with Success\n"},function(){Microsoft.Crm.Client.Application.App.Automation.$n2=0;Microsoft.Crm.Client.Application.App.Automation.$n1=i.$4g+" "+Microsoft.Crm.Client.Core.ViewModels.$S.toString(i.$2x)+" Completed with Exception\n"})};Microsoft.Crm.Client.Application.App.Automation.GoOffline=function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$r(!1)};Microsoft.Crm.Client.Application.App.Automation.ForceOfflineSync=function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$6V().get_$3H()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$6V().$1zw()};Microsoft.Crm.Client.Application.App.$2V=function(){};Microsoft.Crm.Client.Application.App.$2V.$3Js=function(){var n=[new Microsoft.Crm.Client.Application.App.Components.$7n];Microsoft.Crm.Client.Core.Framework.$2V.$3Jt(n)};Microsoft.Crm.Client.Application.App.$2V.$rL=function(){var n=[new Microsoft.Crm.Client.Application.App.Components.$Lv,new Microsoft.Crm.Client.Application.App.Components.$4I];return Microsoft.Crm.Client.Core.Framework.$2V.$rL(n)};Microsoft.Crm.Client.Application.App.ShimBackHandler=function(){this.$$d_$3Dv=Function.createDelegate(this,this.$3Dv)};Microsoft.Crm.Client.Application.App.ShimBackHandler.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Application.App.ShimBackHandler.$D)&&(Microsoft.Crm.Client.Application.App.ShimBackHandler.$D=new Microsoft.Crm.Client.Application.App.ShimBackHandler),Microsoft.Crm.Client.Application.App.ShimBackHandler.$D};Microsoft.Crm.Client.Application.App.ShimBackHandler.prototype={$2NY:function(n){n.add_$3EZ(this.$$d_$3Dv)},$3Dv:function(){this.$2pS()},$2pS:function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),n;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.get_NavigationState().get_$2Sk()?Microsoft.Crm.Client.Core.Controls.$4a.get_$5().$2pb():Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.get_NavigationState().get_$2B1()?Microsoft.Crm.Client.Core.ViewModels.$29.$SU("InlineDialog",null):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.get_NavigationState().get_$2Rs()?(n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top(),Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.isInstanceOfType(n)?n.$V8():Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(n)&&n.$VB()):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.get_NavigationState().get_$2Sb()?Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top().get_$1Ed()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top().$VB():Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_CanvasConductor().get_Top())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_CanvasConductor().get_Top().get_$1Ed()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_CanvasConductor().get_Top().$VB():Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.get_NavigationState().get_$2ZF()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top().$36V():Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_AppBarVisible()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1AY().collapse():Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.get_NavigationState().get_$2YF()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$13N().$6X.set_Visible(!1):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.get_NavigationState().get_$2K8()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$36().$AK.set_Visible(!1):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.get_NavigationState().get_$26v()?(Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top().$VB(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_CanGoBack()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rI().execute()):(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.updateBackBehavior(),Microsoft.Crm.Client.Core.Framework.Trace.logWarning(4,"Shim back button is firing event to server in a situation where it should not be"))}};Microsoft.Crm.Client.Application.App.$13=function(n,t,i,r){if(this.$$d_$2bW=Function.createDelegate(this,this.$2bW),this.$$d_$2bX=Function.createDelegate(this,this.$2bX),Microsoft.Crm.Client.Application.App.$13.initializeBase(this),!n||!t||!i)throw Error.argumentNull("dataSource|authenticationManager|applicationState");this.$5n=n;this.$19t=t;this.$rB=i;r&&(r.add_$3H5(this.$$d_$2bX),r.add_$3Gc(this.$$d_$2bW))};Microsoft.Crm.Client.Application.App.$13.get_$5=function(){if(!Microsoft.Crm.Client.Application.App.$13.$D)throw Error.invalidOperation("UserSecurityManager.Instance cannot be accessed before UserSecurityManager.Initialize is called.");return Microsoft.Crm.Client.Application.App.$13.$D};Microsoft.Crm.Client.Application.App.$13.$18=function(n,t,i,r){Microsoft.Crm.Client.Application.App.$13.$D=new Microsoft.Crm.Client.Application.App.$13(n,t,i,r)};Microsoft.Crm.Client.Application.App.$13.prototype={$5n:null,$19t:null,$rB:null,$XM:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),r,u,f;return this.$rB.get_$1UU()?!this.$5n.$Je()||this.$5n.get_$K().$3K.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())||this.$5n.get_$K().$3K.equals(n)&&this.$5n.get_$K().get_$Jt().equals(t)?i.resolve(!0):this.$5n.get_$K().$Dv||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Hw||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5n.get_$1Wt())?(u=this,f=this,this.$1jt().then(function(){i.resolve(!0)},function(n){i.reject(n)})):this.$3UJ(i):!this.$5n.$Je()||this.$5n.get_$K().$3K.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())||this.$5n.get_$K().$3K.equals(n)?i.resolve(!1):(r=this,this.$5n.$wq(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147094002,this.$5n.get_$K().$AQ)).always(function(){i.reject(r.$5n.get_$K().get_$10b())})),i.promise()},$pG:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),t=this,i=this;return this.$27G(!0).then(function(i){i?n.resolve(!1):t.$27I(!0).then(function(i){i?n.resolve(!1):t.$3QE().then(function(i){n.resolve(i);t.$19t.$21D();Microsoft.Crm.Client.Core.Framework.$B.$C("SignOutUser",4,"User signed out successfully")},function(){n.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093993));t.$16B()})},function(){n.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093993))})},function(t){Microsoft.Crm.Client.Core.Framework.Trace.logError(4,t.$E);n.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093993))}),n.promise()},$2Sp:function(n){var t,i,r;return n=$0.$1(n)?!1:n,t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),n?this.$27e(t):(i=this,r=this,this.$27G(!1).then(function(n){n?t.resolve(!1):i.$27I(!1).then(function(n){n?t.resolve(!1):i.$27e(t)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(4,"CheckForSyncErrorRecords failed with error: "+n.$E);t.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093993));i.$2io()})},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(4,"CheckForDraftRecords failed with error: "+n.$E);t.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093993))})),t.promise()},$2io:function(){var t=this,n=function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1eh().$2Sp(!0)};Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Reconfigure_Dialog_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Reconfigure_Dialog_Message"),1,n,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Continue_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Cancel_Text"))},$27e:function(n){var t=this,i=this;this.$1jt().then(function(){n.resolve(!0);t.$19t.$2So();Microsoft.Crm.Client.Core.Framework.$B.$C("ReconfigureUser",4,"User reconfigured successfully")},function(){Microsoft.Crm.Client.Core.Framework.Trace.logError(4,"ClearUserAndReconfigure is failed");n.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093993));i.$16B()})},$16B:function(){Microsoft.Crm.Client.Core.ViewModels.$Z.$1cw(-2147093993)},$3UJ:function(n){var t=this,i=function(){t.$1jt().then(function(){n.resolve(!0)},function(t){n.reject(t)})},r=this,u=function(){r.$19t.$26q()},f=Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().get_$IU()?"SignOut_Previous_User_Message_MoCAOffline":"SignOut_Previous_User_Message";Microsoft.Crm.Client.Core.ViewModels.$1V.$3UH("",String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6(f),this.$5n.get_$K().$AQ,this.$5n.get_$K().get_$uy()),u,i,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Button_Label_No"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Button_Label_Yes"))},$3QE:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),t,i;return this.$rB.get_$1UU()?(Microsoft.Crm.Client.Core.ViewModels.$2I.get_$5().$IZ.$79(),t=this,i=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$5n.$231(),this.$5n.$1P5()).then(function(){n.resolve(!0)},function(){n.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093993))})):n.resolve(!1),n.promise()},$27G:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);if(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$OA()>0){var u=this,i=function(){var n=new Microsoft.Crm.Client.Core.Commands.$33(null,31);n.execute();n.dispose();t.resolve(!0)},f=this,r=function(){t.resolve(!1)};Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DialogTitle_UnsavedDrafts"),this.$30n(n),1,i,r,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ButtonText_ViewDrafts"),this.$1DN(n))}else t.resolve(!1);return t.promise()},$1DN:function(n){return n?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ButtonText_Signout"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ButtonText_Reconfigure")},$30n:function(n){return this.$rB.get_$1UU()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Drafts_Page_Warning_Message"),this.$1DN(n).toLocaleLowerCase()):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("NoReconfigureSupport_Drafts_Page_Warning_Message")},$1jt:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.get_$5().$IZ.$79();var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),t=this,i=this;return Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$5n.$1P7(),this.$5n.$1P5()).then(function(){n.resolve(!0)},function(t){var i=Microsoft.Crm.Client.Core.Framework.$4.isInstanceOfType(t)?t.$E:JSON.stringify(t);Microsoft.Crm.Client.Core.Framework.Trace.logError(4,"ClearUser failed with error: "+i);n.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093993))}),n.promise()},$27I:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),i,r;return Xrm.Utility.isAppOfflineSyncEnabled()&&Xrm.Utility.isMocaOfflineFeatureEnabled()?(i=this,r=this,this.$2hF(n).then(function(r){if(r)if(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$2Z8()>0){var u=function(){var n=new Microsoft.Crm.Client.Core.Commands.$33(null,13);n.$J="syncerror";n.$1B={};n.$1B.ListDefinitionId="F1203E8B-6C6A-4210-906E-8428CB1FDE68";n.execute();n.dispose();t.resolve(!0)},f=function(){t.resolve(!1)};Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DialogTitle_UnResolvedSyncErrors"),String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Offline_SyncError_Records_Warning_Message"),i.$1DN(n).toLocaleLowerCase()),1,u,f,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ButtonText_ViewSyncErrors"),i.$1DN(n))}else t.resolve(!1);else t.resolve(!0)},function(n){t.reject(n)})):t.resolve(!1),t.promise()},$2hF:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4),i=this,r=this;return Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance().$1rC().then(function(r){if(r){var u=function(){t.resolve(!0)},f=function(){t.resolve(!1)};Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("DialogTitle_UnSyncedRecords"),String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Offline_Records_Warning_Message"),i.$1DN(n).toLocaleLowerCase()),1,u,f)}else t.resolve(!0)},function(n){t.reject(n)}),t.promise()},$2bW:function(){this.$2Sp()},$2bX:function(){this.$pG()}};Microsoft.Crm.Client.Application.App.$2Q=function(){};Microsoft.Crm.Client.Application.App.$2Q.$31j=function(n){if($0.$1(n))return null;switch(n.toLowerCase()){case"ja-jp":case"ja":return Microsoft.Crm.Client.Application.App.$2Q.$tL(1041);case"zh-hans":case"zh-hans-cn":return Microsoft.Crm.Client.Application.App.$2Q.$tL(2052);case"zh-hant":case"zh-hant-tw":return Microsoft.Crm.Client.Application.App.$2Q.$tL(1028);case"hi":return Microsoft.Crm.Client.Application.App.$2Q.$tL(1081);case"ko":return Microsoft.Crm.Client.Application.App.$2Q.$tL(1042);case"th":return Microsoft.Crm.Client.Application.App.$2Q.$tL(1054);default:return null}};Microsoft.Crm.Client.Application.App.$2Q.$tL=function(n){var t={};return t.SegoeUI=Microsoft.Crm.Client.Application.App.$2Q.$1DV(n,"SegoeUI"),t["SegoeUI-Bold"]=Microsoft.Crm.Client.Application.App.$2Q.$1DV(n,"SegoeUI-Bold"),t["SegoeUI-Semibold"]=Microsoft.Crm.Client.Application.App.$2Q.$1DV(n,"SegoeUI-Semibold"),t["SegoeUI-Light"]=Microsoft.Crm.Client.Application.App.$2Q.$1DV(n,"SegoeUI-Light"),t["SegoeUI-Semilight"]=Microsoft.Crm.Client.Application.App.$2Q.$1DV(n,"SegoeUI-Semilight"),t};Microsoft.Crm.Client.Application.App.$2Q.$39G=function(n){return Array.contains(Microsoft.Crm.Client.Application.App.$2Q.$2BM,n.toString())?!0:!1};Microsoft.Crm.Client.Application.App.$2Q.$1DV=function(n,t){if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U){if(Microsoft.Crm.Client.Application.App.$2Q.$39G(n))return n===1042?"initial":"Android CJK";if(n===1081)return"Android Hindi";if(n===1054)return"Android Thai"}switch(n){case 1041:switch(t){case"SegoeUI":case"SegoeUI-Light":case"SegoeUI-Semilight":return"HiraKakuProN-W3, Meiryo UI";case"SegoeUI-Bold":case"SegoeUI-Semibold":return"HiraKakuProN-W6, Meiryo UI";default:return"HiraKakuProN-W3, Meiryo UI"}case 2052:switch(t){case"SegoeUI":case"SegoeUI-Light":case"SegoeUI-Semilight":return"STHeitiSC-Light, Microsoft YaHei UI";case"SegoeUI-Bold":case"SegoeUI-Semibold":return"STHeitiSC-Medium, Microsoft YaHei UI";default:return"STHeitiSC-Light, Microsoft YaHei UI"}case 1028:case 3076:switch(t){case"SegoeUI":case"SegoeUI-Light":case"SegoeUI-Semilight":return"STHeitiTC-Light, Microsoft JhengHei UI";case"SegoeUI-Bold":case"SegoeUI-Semibold":return"STHeitiTC-Medium, Microsoft JhengHei UI";default:return"STHeitiTC-Light, Microsoft JhengHei UI"}case 1081:switch(t){case"SegoeUI":case"SegoeUI-Light":case"SegoeUI-Semilight":return"DevanagariSangamMN, Nirmala UI";case"SegoeUI-Bold":case"SegoeUI-Semibold":return"DevanagariSangamMN-Bold, Nirmala UI";default:return"DevanagariSangamMN, Nirmala UI"}case 1042:switch(t){case"SegoeUI":return"AppleSDGothicNeo-Regular, Malgun Gothic";case"SegoeUI-Light":case"SegoeUI-Semilight":return"AppleSDGothicNeo-Light, Malgun Gothic";case"SegoeUI-Bold":return"AppleSDGothicNeo-Bold, Malgun Gothic";case"SegoeUI-Semibold":return"AppleSDGothicNeo-SemiBold, Malgun Gothic";default:return"AppleSDGothicNeo-Regular, Malgun Gothic"}case 1054:switch(t){case"SegoeUI":case"SegoeUI-Light":case"SegoeUI-Bold":case"SegoeUI-Semibold":case"SegoeUI-Semilight":default:return"Thonburi, Leelawadee UI"}default:if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$nV)switch(t){case"SegoeUI":return"Segoe WP";case"SegoeUI-Light":return"Segoe WP Light";case"SegoeUI-Bold":return"Segoe WP Bold";case"SegoeUI-Semibold":return"Segoe WP Semibold";case"SegoeUI-Semilight":return"Segoe WP Semilight";default:return t}return t}};Microsoft.Crm.Client.Application.App.$6m=function(){};Microsoft.Crm.Client.Application.App.$6m.$33V=function(n){switch(n){case 0:return 1;case 3:return 4;case 1:return 2;case 2:return 3;case 4:return 7;case 5:return 8;case 6:return 6;case 7:return 5;default:throw Error.invalidOperation("OperationType is not recognized without a Model context.");}};Microsoft.Crm.Client.Application.App.$6m.$2zA=function(n){switch(n){case 0:return 32;case 3:return 65536;case 1:return 1;case 2:return 2;case 4:return 4;case 5:return 16;case 6:return 262144;case 7:return 524288;default:throw Error.invalidOperation("Not implemented.");}};Microsoft.Crm.Client.Application.App.$6m.$2zd=function(n){switch(n){case 0:return 1;case 1:return 2;case 2:return 4;default:throw Error.invalidOperation("Not implemented.");}};Microsoft.Crm.Client.Application.App.$6m.prototype={get_$V:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V()},get_$K:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K()},get_$f:function(){return Microsoft.Crm.Client.Core.Framework.$G.$b("","SecurityContext")},$23G:function(n){return $0.$1(n)?!1:Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2n.$23G(n)},$2MW:function(n){if($0.$1(n))return!1;var t=this.get_$V().$l(n);return $0.$1(t)?!1:t.$2Kg(2)},$84:function(n,t){return this.$1ss(n,t,-1)},$3A7:function(n,t){return this.$2Md(n,t,-1,!0)},$1ss:function(n,t,i){return this.$2Md(n,t,i,!1)},$2Md:function(n,t,i,r){var e=Microsoft.Crm.Client.Application.App.$6m.$33V(t),u,f;return $0.$1(n)||$0.$1(e)?!1:(u=this.get_$V().$l(n),f=u,$0.$1(u))?!1:u.$HT&&(f=this.get_$V().$l(u.$gv),$0.$1(f))?!1:r||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&u.$Du||u.$2Kg(e)?this.get_$K().$36p(f,e,i):!1},$12Z:function(n,t,i){return this.$2Mc(n,t,i,-1)},$2Mc:function(n,t,i,r){var u=this.get_$V().$l(n),f=u,e,o;return $0.$1(u)||$0.$1(n)||$0.$1(i)||!Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(t)?!1:(e=t.$M,o=Microsoft.Crm.Client.Application.App.$6m.$2zA(i,e),!Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2n.$1E4(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V())||!t.$M.$FX)?this.$1ss(n,i,r):u.$HT&&(f=this.get_$V().$l(u.$gv),$0.$1(f))?!1:Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&u.$Du||u.$36g(o)?this.get_$K().$1E4(f,e,o,r):!1},$1Te:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$24,Object),u,f;return $0.$1(n)||$0.$1(n.get_$Gv())||Microsoft.Crm.Client.Core.Framework.$3.$9(t)?r.resolve(Microsoft.Crm.Client.Core.Framework.$24.get_$14D()):(u=this,f=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n.get_$Gv(),[t]),this.get_$f()).then(function(t){if(t.get_$3ZH()!==1)r.resolve(Microsoft.Crm.Client.Core.Framework.$24.get_$14D());else{i&&i!==2&&Error.invalidOperation(String.format("Unsupported OperationType {0}. Supported OperationTypes are Create and Update.",i));var f=n.$M,u=t.get_$I(0);r.resolve(new Microsoft.Crm.Client.Core.Framework.$24(u.$Dv,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$tW(u,2,f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$tW(u,Microsoft.Crm.Client.Application.App.$6m.$2zd(i),f)))}},function(){r.resolve(Microsoft.Crm.Client.Core.Framework.$24.get_$2Sn())})),r.promise()}};Microsoft.Crm.Client.Application.App.StartPage=function(){};Microsoft.Crm.Client.Application.App.StartPage.set_$38F=function(n){if($0.$1(Microsoft.Crm.Client.Application.App.StartPage.$1ET))return Microsoft.Crm.Client.Application.App.StartPage.$1ET=n,n;throw Error.invalidOperation("Home Page loaded listener delegate already bound");};Microsoft.Crm.Client.Application.App.StartPage.get_isPreview=function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x};Microsoft.Crm.Client.Application.App.StartPage.set_isPreview=function(n){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x=n,n};Microsoft.Crm.Client.Application.App.StartPage.get_$f=function(){return Microsoft.Crm.Client.Core.Framework.$G.$b("","StartPage")};Microsoft.Crm.Client.Application.App.StartPage.start=function(n){var f,e,o,s,i,t,r,u;try{Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.turnOffUnhandledErrorWarnings();Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("StartPageStart",1);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()||Microsoft.Crm.Client.Application.App.StartPage.$2Xo();f=new Xrm.$Cc;e=window.Xrm;e.Page=f;Xrm.Utility.setInstance(new Xrm.XrmUtilityWrapper);Xrm.Internal.setInstance(new Xrm.XrmInternalWrapper);Xrm.Dialog.setInstance(new Xrm.XrmDialogWrapper);XrmUI.Manager.$Le(new XrmUI.XrmUIHelper);o=new Xrm.XrmServiceDirectory;Xrm.Internal.setServiceDirectory(o);Microsoft.Crm.Client.Application.App.$1o.$2h6();Microsoft.Crm.Client.Application.App.StartPage.$2pI(n);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$21A&&(Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.EnablePerformanceBadge(),Microsoft.Crm.Client.Application.App.Automation.EnablePerformanceMarkers(!0),s=window.location.protocol==="http:"?45678:45679,i=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1k7,Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.SetCollectorServerUrl(Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}//{1}:{2}",window.location.protocol,Microsoft.Crm.Client.Core.Framework.$3.$9(i)?window.location.hostname:i,s)));Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&!$0.$1(Microsoft.Crm.Client.Application.App.StartPage.$7z.pagetype)&&Microsoft.Crm.Client.Application.App.StartPage.$1xM();Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&$(window.document.body).addClass("phone");Microsoft.Crm.Client.Core.Framework.$1E.set_$1lv(0);t=!1;"liveid"in Microsoft.Crm.Client.Application.App.StartPage.$7z&&(t=!0);Microsoft.Crm.Client.Application.App.$10.get_$5().$3Jz();Microsoft.Crm.Client.Application.App.StartPage.$3K2(n,t);Xrm.Mobile.offline=new Xrm.Offline;Xrm.Mobile.offline.setInstance(new Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper);Microsoft.Crm.Client.Core.Framework.$h.get_$5().$R6=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3;window.onerror=Microsoft.Crm.Client.Core.Framework.$31.get_$5().$$d_$3bk;Microsoft.Crm.Client.Application.App.StartPage.$1dj=0;Microsoft.Crm.Client.Application.App.StartPage.$sC=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);r=Microsoft.Crm.Client.Core.Framework.$1u.$c("MetadataGenerationIframeFinished");u=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Hw;u?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$1GL(function(){var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("StartPage.NativeBridge.GetMetadataBundle");n.start();Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$32W(function(t){n.stop();Mscrm.InlinedAppData=t;Microsoft.Crm.Client.Application.App.StartPage.$sC.resolve(!0)})}):($0.$1(r)||r)&&Microsoft.Crm.Client.Application.App.StartPage.$sC.resolve(!0);u?Microsoft.Crm.Client.Application.App.StartPage.$sC.done(function(){Microsoft.Crm.Client.Application.App.StartPage.$2LI(t)}):Microsoft.Crm.Client.Application.App.StartPage.$2LI(t);Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&window.addEventListener("beforeunload",Microsoft.Crm.Client.Application.App.StartPage.$3Eb,!1)}catch(h){Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,h.stack)}};Microsoft.Crm.Client.Application.App.StartPage.$3Eb=function(){var n,t;if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1Ml){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1Ml=!1;return}for(n=0;n<Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_ActiveNavigationStack().get_Count();n++)t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_ActiveNavigationStack().get_$I(n),t&&t.dispose()};Microsoft.Crm.Client.Application.App.StartPage.$2LI=function(n){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$1GL(Microsoft.Crm.Client.Application.App.StartPage.get_$3GH()),Microsoft.Crm.Client.Application.App.$55.$18()):n?Microsoft.Crm.Client.Core.Framework.Trace.logError(97,"Unsupported client server configuration"):Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$18().then(function(){Microsoft.Crm.Client.Application.App.$13.$18(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3,Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38(),null);var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Je()?new Microsoft.Crm.Client.Core.Framework.$Pc(!1,null,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$Jt()):new Microsoft.Crm.Client.Core.Framework.$Pc(!1,null,null,null);Microsoft.Crm.Client.Application.App.StartPage.$1xg(n)},function(n){Microsoft.Crm.Client.Application.App.StartPage.$W7(n)})};Microsoft.Crm.Client.Application.App.StartPage.EnableBackgroundSync=function(n){Microsoft.Crm.Client.Application.App.StartPage.$1sG=n};Microsoft.Crm.Client.Application.App.StartPage.onInlinedAppDataLoaded=function(){var n=Microsoft.Crm.Client.Core.Framework.$1u.$c("MetadataGenerationIframeFinished");!$0.$1(n)&&n&&Microsoft.Crm.Client.Application.App.StartPage.$sC.resolve(!0)};Microsoft.Crm.Client.Application.App.StartPage.$3K2=function(n,t){Microsoft.Crm.Client.Core.Framework.AuthenticationManager.set_defaultInstance(Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$TH(n,t,!0));var i=Microsoft.Crm.Client.Application.App.$10.get_$5().$39O("MobileClientOffline");i&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().set_$6V(new Microsoft.Crm.Client.Core.Offline.$K);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$TH(Microsoft.Crm.Client.Application.App.StartPage.$337());i&&(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O=Microsoft.Crm.Client.Core.Offline.$l.get_$6N());Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.$3Lr(Microsoft.Crm.Client.Application.App.$4i.get_$5());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$3Xu(Microsoft.Crm.Client.Application.App.StartPage.$2Qu)};Microsoft.Crm.Client.Application.App.StartPage.get_$3GH=function(){return function(){var t,n,i;if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Hw&&(Microsoft.Crm.Client.Application.App.StartPage.$32T(Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$$d_InitializeRequestManager),t=Microsoft.Crm.Client.Application.App.ShimEmailContextChangedHandler.get_$5(),t.$2NY(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P)),Microsoft.Crm.Client.Application.App.$10.get_$5().$37a(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$a5()),Microsoft.Crm.Client.Core.Framework.$2U.$3CY(),Microsoft.Crm.Client.Application.App.StartPage.$2Xo()),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_$2S().get_$2b2()===1){n=Microsoft.Crm.Client.Core.Framework.$4.$i("");n.$z=-2147094014;Microsoft.Crm.Client.Application.App.StartPage.$wh(0,n.$TI(),0);return}Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$18().then(function(){Microsoft.Crm.Client.Application.App.$j.$1cc();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.ViewModels.$1Q.get_$5().$18();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()&&Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$3Oa();Microsoft.Crm.Client.Application.App.$13.$18(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3,Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Di);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$18(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Di);Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.add_$Tp(Microsoft.Crm.Client.Application.App.StartPage.$1xl);Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.$1in();Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$2Qb(Microsoft.Crm.Client.Application.App.StartPage.get_$2QL());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$2QQ(Microsoft.Crm.Client.Application.App.StartPage.get_$2QK());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.add_$3Fy(Microsoft.Crm.Client.Application.App.StartPage.get_$3Fz());var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("Delayed Assets Init");n.start();Microsoft.Crm.Client.Core.Framework.$1g.$7().always(function(){n.stop()})},function(n){Microsoft.Crm.Client.Application.App.StartPage.$W7(n)});Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D.$20&&(i=Microsoft.Crm.Client.Application.App.ShimBackHandler.get_$5(),i.$2NY(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$3D))}};Microsoft.Crm.Client.Application.App.StartPage.$32T=function(n){var t=Microsoft.Crm.Client.Core.Framework.LocalStorage.$1Z.get_$Gw().$FF("MoCATelemetryEndPoint");if(!Microsoft.Crm.Client.Core.Framework.$3.$1O(t)){n(t);return}try{Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$34m(function(i){var r=i.endpointUrl;t=$0.$1(r)?"":r;n(t)})}catch(i){n("")}};Microsoft.Crm.Client.Application.App.StartPage.$2Xo=function(){var t=Microsoft.Crm.Client.Core.Framework.$1u.$c("PageLoadStartTime"),f=Microsoft.Crm.Client.Core.Framework.$1u.$c("JsLoadStartTime"),o=Microsoft.Crm.Client.Core.Framework.$1u.$c("JsLoadEndTime"),s=Microsoft.Crm.Client.Core.Framework.$1u.$c("RequireJsLoadStartTime"),e=Microsoft.Crm.Client.Core.Framework.$1u.$c("RequireJsLoadEndTime"),r,u,i,n;if(Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.createRetroactiveStopwatch("Style Init",0,f),Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.createRetroactiveStopwatch("JavaScript Init",f,o),$0.$1(e)||Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.createRetroactiveStopwatch("RequireJs JavaScript Init",s,e),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$20&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$1ci()!==-1?(r=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$1ci()-t,Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NU("PageLoadStart",1,null,r),Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.createRetroactiveStopwatch("Shim Init",r,0)):Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NU("PageLoadStart",1,null,0),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$20&&!$0.$1(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$211()))for(u=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$211(),i=0;i<u.length;i++)n=u[i],n.StopTime===-1?Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NU(n.Name,0,null,n.StartTime-t):Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.createRetroactiveStopwatch(n.Name,n.StartTime-t,n.StopTime-t)};Microsoft.Crm.Client.Application.App.StartPage.get_$2QL=function(){return function(){var n=$("#UserEducation",window.document.body).css("display");Microsoft.Crm.Client.Application.App.StartPage.$eD&&n!=="block"&&(Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.$1ca(),Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.add_$Tp(Microsoft.Crm.Client.Application.App.StartPage.$vq))}};Microsoft.Crm.Client.Application.App.StartPage.$1eG=function(){Microsoft.Crm.Client.Core.Framework.$B.$1E("Start Page",1005,"TriggerMetadataUpdate : calling StartCheckForDataSourceUpdates.");Microsoft.Crm.Client.Application.App.StartPage.$21R(new Microsoft.Crm.Client.Core.Framework.$Pc(!1,null,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$Jt()))};Microsoft.Crm.Client.Application.App.StartPage.$2UC=function(n,t){Microsoft.Crm.Client.Core.Framework.$B.$138("DataSource_Initialize_Start",1004,null);Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.remove_$Tp(Microsoft.Crm.Client.Application.App.StartPage.$vq);Microsoft.Crm.Client.Application.App.StartPage.$eD=!1;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().remove_$1Xb(Microsoft.Crm.Client.Application.App.StartPage.$1eG);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$1Xb(Microsoft.Crm.Client.Application.App.StartPage.$1eG);Microsoft.Crm.Client.Application.App.StartPage.$327().then(function(n){var i=new Date;i.setHours(i.getHours()-24);($0.$1(n)||n<i)&&Microsoft.Crm.Client.Application.App.StartPage.$21R(t)},Microsoft.Crm.Client.Application.App.StartPage.$W7)};Microsoft.Crm.Client.Application.App.StartPage.$21R=function(n){Microsoft.Crm.Client.Application.App.StartPage.$2N8()?Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance().$1rC().then(function(t){Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=t?!1:!0;Microsoft.Crm.Client.Application.App.StartPage.$27F(n)},function(n){Microsoft.Crm.Client.Core.Framework.$B.$1E("Start Page",1004,"StartCheckForDataSourceUpdates:Error: "+n.$E.toString());Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=!1}):(Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=!1,Microsoft.Crm.Client.Application.App.StartPage.$27F(n))};Microsoft.Crm.Client.Application.App.StartPage.$27F=function(n){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$vJ(n.$L9,n.$F5,!1).then(function(n){Microsoft.Crm.Client.Core.Framework.$B.$138("DataSource_Initialize_End",1004,null);Microsoft.Crm.Client.Application.App.StartPage.$3Pt(new Date);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$K(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K());Microsoft.Crm.Client.Application.App.StartPage.$1dO().always(function(){Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=!0;n===2&&Microsoft.Crm.Client.Application.App.StartPage.$1sE()&&(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.set_$1F0(!0),Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.set_$12V(!1));!$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$4m)&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$4m.$93.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())?Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$1EP(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K()).then(function(){Microsoft.Crm.Client.Application.App.StartPage.$2Ru(n)},Microsoft.Crm.Client.Application.App.StartPage.$W7):Microsoft.Crm.Client.Application.App.StartPage.$2Ru(n)})},Microsoft.Crm.Client.Application.App.StartPage.$W7).always(function(){Microsoft.Crm.Client.Application.App.StartPage.$2S5()})};Microsoft.Crm.Client.Application.App.StartPage.$2Ru=function(n){var t,i;n!==2?(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$OA()?(i=function(){var n=new Microsoft.Crm.Client.Core.Commands.$33(null,31);n.execute();n.dispose()},Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_SaveDrafts_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_SaveDrafts_Message"),0,i,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ButtonText_ViewDrafts"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_OK_Text"))):(Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.StartCheckForDataSourceUpdates.ShowMetadataDownloadPrompt"),Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.CheckForDataSourceUpdates.ShowMetadataDownloadPrompt"),t=function(){Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.StartCheckForDataSourceUpdates.MetadataDownloadPrompt_Cancelled");Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.CheckForDataSourceUpdates.MetadataDownloadPrompt_Cancelled");Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$TS()&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.$KD(new Microsoft.Crm.Client.Core.Storage.DataApi.$Rg(9))},Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Title_IC"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Message_IC"),0,Microsoft.Crm.Client.Application.App.StartPage.get_$2a6(),t,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Button_OK_IC"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Button_Cancel_IC")):Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Message"),0,Microsoft.Crm.Client.Application.App.StartPage.get_$2a6(),t,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Button_OK"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Button_Cancel"))),Microsoft.Crm.Client.Application.App.StartPage.$3CW()):Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$TS()&&(Microsoft.Crm.Client.Core.Framework.$B.$1E("Start Page",1005,"StartCheckForDataSourceUpdates: update level came as no refresh. updating md sync progress as sync cancel."),Microsoft.Crm.Client.Core.Framework.$B.$1E("Start Page",1005,"CheckForDataSourceUpdates: update level came as no refresh. updating md sync progress as sync cancel."),Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.$KD(new Microsoft.Crm.Client.Core.Storage.DataApi.$Rg(9)),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$EX&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.$16w())};Microsoft.Crm.Client.Application.App.StartPage.$2S5=function(){Microsoft.Crm.Client.Application.App.StartPage.$1sb?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$2My(!0):Microsoft.Crm.Client.Application.App.StartPage.$u2=!0};Microsoft.Crm.Client.Application.App.StartPage.get_$2QK=function(){return function(){Microsoft.Crm.Client.Application.App.StartPage.$eD=!0;Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$IJ()}};Microsoft.Crm.Client.Application.App.StartPage.get_$3GG=function(){return function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$UY.$20&&Microsoft.Crm.Client.Core.Commands.PinCommand.$1jg()}};Microsoft.Crm.Client.Application.App.StartPage.get_onNativeBridgeAppLink=function(){return function(n){var r=Microsoft.Crm.Client.Core.Framework.Utils.$1A.$E1(window.location.href+n),i=new Microsoft.Crm.Client.Application.App.$MS(r).$HN(),t;$0.$1(i)||(i.$18(),t=new Microsoft.Crm.Client.Core.Commands.NavigationCommand(null,1),t.$X=i,t.execute(),t.dispose())}};Microsoft.Crm.Client.Application.App.StartPage.get_$3Fz=function(){return function(n){var i=Sys.Serialization.JavaScriptSerializer.deserialize(n),t=i,r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().get_$4T();Microsoft.Crm.Client.Core.ViewModels.$1Q.get_$5().$2gp(r,Microsoft.Crm.Client.Core.ViewModels.$3R.$3Cy(t.EventName),t.MemoryUsage)}};Microsoft.Crm.Client.Application.App.StartPage.get_$2a6=function(){return function(){Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.StartCheckForDataSourceUpdates.MetadataDownloadPrompt_Accepted");Microsoft.Crm.Client.Application.App.$j.$1cc();Microsoft.Crm.Client.Application.App.$10.get_$5().$18(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Fj,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$a5());Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&$("#WaitLabel",window.document.body).text(Microsoft.Crm.Client.Application.App.$j.$9J.Initializing.toString());Microsoft.Crm.Client.Application.App.StartPage.$26J(1).then(function(){Microsoft.Crm.Client.Application.App.$10.get_$5().$1rb();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.ViewModels.$1Q.get_$5().$18();Microsoft.Crm.Client.Application.App.StartPage.$2U0();Microsoft.Crm.Client.Application.App.$j.$1EG()},function(n){Microsoft.Crm.Client.Application.App.$j.$1EG();Microsoft.Crm.Client.Application.App.StartPage.$W7(n)}).always(function(){Microsoft.Crm.Client.Application.App.StartPage.$1sE()?Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.get_$5().$1K8():Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$TS()&&($0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$7v())||!Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$7v().$ml)&&(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.set_$1F0(!1),Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.set_$12V(!1))})}};Microsoft.Crm.Client.Application.App.StartPage.$2U0=function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Application.App.StartPage.$1U1().toLowerCase());n.$Aa=!0;n.$h=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oa.toString();n.$18();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Ty(n);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$13N().$FP();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1AY().clearCommandSets();!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("TaskBasedFlow")||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$36().$FP();!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("LandingPage")||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HZ().$2U0()};Microsoft.Crm.Client.Application.App.StartPage.$3Kj=function(n,t){Microsoft.Crm.Client.Core.Framework.$B.$138("DataSource_Initialize_Start",1004,null);Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.remove_$Tp(Microsoft.Crm.Client.Application.App.StartPage.$1xl);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().remove_$1Xb(Microsoft.Crm.Client.Application.App.StartPage.$1eG);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$1Xb(Microsoft.Crm.Client.Application.App.StartPage.$1eG);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&(Microsoft.Crm.Client.Application.App.$17.$pB(Microsoft.Crm.Client.Application.App.$17.$1jy,!0),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U&&Microsoft.Crm.Client.Application.App.$j.$2YC());t.$L9?Microsoft.Crm.Client.Application.App.StartPage.$1xg(t):Microsoft.Crm.Client.Application.App.$13.get_$5().$XM(t.$3K,t.$CL).then(function(){Microsoft.Crm.Client.Application.App.StartPage.$1xg(t)},function(n){Microsoft.Crm.Client.Application.App.StartPage.$W7(n)})};Microsoft.Crm.Client.Application.App.StartPage.$1xg=function(n){if($0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p())||$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$6V())||(Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=!1),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Je()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.equals(n.$3K)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1Wt())&&!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x&&!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()){Microsoft.Crm.Client.Application.App.$10.get_$5().$18(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Fj,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$a5());Microsoft.Crm.Client.Application.App.StartPage.$1Gs().done(function(){Microsoft.Crm.Client.Application.App.StartPage.$21R(n)});return}Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||Microsoft.Crm.Client.Application.App.$j.$1cc();var t=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$21o;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$vJ(n.$L9,n.$F5,t).then(function(n){Microsoft.Crm.Client.Core.Framework.$B.$138("DataSource_Initialize_End",1004,null);Microsoft.Crm.Client.Application.App.StartPage.$1dO().always(function(){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&n!==2&&Microsoft.Crm.Client.Application.App.$j.$1cc();Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=!0;Microsoft.Crm.Client.Application.App.StartPage.$3X8(n)})},function(n){Microsoft.Crm.Client.Application.App.StartPage.$W7(n)}).always(function(){Microsoft.Crm.Client.Application.App.StartPage.$2S5()})};Microsoft.Crm.Client.Application.App.StartPage.$bP=function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Application.App.StartPage.$1dj===1?Microsoft.Crm.Client.Application.App.StartPage.$3Wl(n,t):Microsoft.Crm.Client.Application.App.StartPage.$26J(n).then(function(){Microsoft.Crm.Client.Core.Framework.$B.$138("DataSource_Initialize_End",1004,null);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.ViewModels.$1Q.get_$5().$18();n===1?Microsoft.Crm.Client.Core.Framework.$h.get_$5().$1jq("NavigationStackKey").then(function(){Microsoft.Crm.Client.Application.App.StartPage.$1Gs().always(function(){t.resolve(!0)})},function(n){Microsoft.Crm.Client.Application.App.StartPage.$W7(n);t.reject(n)}):Microsoft.Crm.Client.Application.App.StartPage.$1Gs().always(function(){Microsoft.Crm.Client.Application.App.StartPage.$1sE()&&Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.get_$5().$1K8();t.resolve(!0)});Microsoft.Crm.Client.Application.App.StartPage.$2XJ()},function(n){Microsoft.Crm.Client.Application.App.StartPage.$W7(n);t.reject(n)}),t.promise()};Microsoft.Crm.Client.Application.App.StartPage.$3Wl=function(n,t){n===2?(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$1F3(!1),Microsoft.Crm.Client.Application.App.StartPage.$1Gs().always(function(){t.resolve(!0)})):Microsoft.Crm.Client.Core.Framework.$h.get_$5().$1jq("NavigationStackKey").then(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1P7().then(function(){Microsoft.Crm.Client.Application.App.StartPage.$sC.done(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$37i().then(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$1F3(!0);Microsoft.Crm.Client.Application.App.StartPage.$1Gs().always(function(){t.resolve(!0)});Microsoft.Crm.Client.Application.App.StartPage.$1sG&&Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$bP(0).then(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$1F3(!1);Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"DataSource_Update_Complete_Success");Microsoft.Crm.Client.Application.App.StartPage.$2XJ()},function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$1F3(!0);Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"DataSource_Update_Complete_Failure")})},-13,"ISH_DataSource_Async_Check")},function(n){t.reject(n)})})},function(n){t.reject(n)})},function(n){Microsoft.Crm.Client.Application.App.StartPage.$W7(n);t.reject(n)})};Microsoft.Crm.Client.Application.App.StartPage.$W7=function(n){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){var t=Microsoft.Crm.Client.Core.Framework.$1u.$c("IC_Error_Message_0x"+Microsoft.Crm.Client.Core.Framework.Common.$2.$tM(n.$z)).toString();n.$E==="IC_Error_Message_Generic_Mobile_Client"&&(t=Microsoft.Crm.Client.Core.Framework.$1u.$c(n.$E)+t);n.$z===-2147094015&&Microsoft.Crm.Client.Application.App.$j.$1EG();Microsoft.Crm.Client.Core.ViewModels.$1V.$3UH("",t,null,null,"","");throw Error.invalidOperation(n.$E);}else Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?(n.$z===-2147220960&&(n=Microsoft.Crm.Client.Core.Framework.$4.$Vo(-2147094001)),n.$NN===3?Microsoft.Crm.Client.Core.ViewModels.$Z.$26y(n)?Microsoft.Crm.Client.Application.App.StartPage.$1rr().always(function(){var t=function(){Microsoft.Crm.Client.Application.App.StartPage.$wh(0,Microsoft.Crm.Client.Core.Framework.$4.$Vo(-2147094e3).$TI(),n.$NN)};Microsoft.Crm.Client.Core.ViewModels.$Z.$218(n,t)}):Microsoft.Crm.Client.Application.App.StartPage.$wh(0,Microsoft.Crm.Client.Core.Framework.$4.$Vo(-2147094e3).$TI(),n.$NN):Microsoft.Crm.Client.Application.App.StartPage.$wh(0,n.$TI(),n.$NN)):Microsoft.Crm.Client.Application.App.StartPage.$1rr().always(function(){if(n.$NN===3&&Microsoft.Crm.Client.Core.ViewModels.$Z.$26y(n)?Microsoft.Crm.Client.Core.ViewModels.$Z.$218(n,null):Microsoft.Crm.Client.Core.ViewModels.$Z.$3UE(n),Microsoft.Crm.Client.Core.Framework.$4.isInstanceOfType(n)&&n.$z===-2147094e3)throw Error.invalidOperation(n.$E);})};Microsoft.Crm.Client.Application.App.StartPage.$1Gs=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?Microsoft.Crm.Client.Application.App.$17.$2cY(function(){Microsoft.Crm.Client.Application.App.StartPage.$2Rw(n)}):Microsoft.Crm.Client.Application.App.StartPage.$2Rw(n),n.promise()};Microsoft.Crm.Client.Application.App.StartPage.$2Rw=function(n){Microsoft.Crm.Client.Application.App.StartPage.$1rr().always(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$UY.$20&&(Microsoft.Crm.Client.Core.Commands.PinCommand.$1jg(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$3ER(Microsoft.Crm.Client.Application.App.StartPage.get_$3GG()));Microsoft.Crm.Client.Application.App.StartPage.$1xm&&window.setTimeout(function(){console.profileEnd()},1500);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",Microsoft.Crm.Client.Application.App.$4i.get_$5().$$d_$LQ);var t=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled();t&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$EX||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS())&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$TS()&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.$16w();t&&(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$27k(),Microsoft.Crm.Client.Core.Framework.LocalStorage.$1Z.get_$Gw().$pC("IsAppConfigured","true"));Microsoft.Crm.Client.Application.App.$6Y.$3CS();n.resolve()})};Microsoft.Crm.Client.Application.App.StartPage.$2eS=function(){var f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$12r(),t,i,r,u,e,n;if(Array.contains(Microsoft.Crm.Client.Application.App.$2Q.$2NT,f.toString())||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$nV)for(t=Microsoft.Crm.Client.Application.App.$2Q.$tL(f),i=0;i<document.styleSheets.length;i++)if(r=document.styleSheets[i],!$0.$1(r.rules))for(u=0,e=r.rules.length;u<e;u++)n=r.rules[u],$0.$1(n.style)||($0.$1(n.selectorText)||n.selectorText.indexOf(".scrollerItem .largeLabel")===-1||(n.style.fontSize="28px"),n.style.fontFamily.indexOf("SegoeUI-Semibold")!==-1?(n.style.fontFamily=t["SegoeUI-Semibold"],Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$EX&&(n.style.fontWeight="bold")):n.style.fontFamily.indexOf("SegoeUI-Light")!==-1?n.style.fontFamily=t["SegoeUI-Light"].toString():n.style.fontFamily.indexOf("SegoeUI-Semilight")!==-1?n.style.fontFamily=t["SegoeUI-Semilight"].toString():n.style.fontFamily.indexOf("SegoeUI-Bold")!==-1?(n.style.fontFamily=t["SegoeUI-Bold"].toString(),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$EX&&(n.style.fontWeight="bold")):n.style.fontFamily.indexOf("SegoeUI")!==-1&&(n.style.fontFamily=t.SegoeUI),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U&&!$0.$1(n.style.font)&&(n.style.font.indexOf("SegoeUI-Semibold")!==-1?n.style.font=n.style.font.replace("SegoeUI-Semibold",t["SegoeUI-Semibold"].toString()):n.style.font.indexOf("SegoeUI-Light")!==-1?n.style.font=n.style.font.replace("SegoeUI-Light",t["SegoeUI-Light"].toString()):n.style.font.indexOf("SegoeUI-Bold")!==-1?n.style.font=n.style.font.replace("SegoeUI-Bold",t["SegoeUI-Bold"].toString()):n.style.font.indexOf("SegoeUI")!==-1&&(n.style.font=n.style.font.replace("SegoeUI-Bold",t.SegoeUI.toString()))))};Microsoft.Crm.Client.Application.App.StartPage.$1xM=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricApplicationShellVM.GetDelayedScripts");return t.start(),Microsoft.Crm.Client.Core.Framework.$1g.$1q1("resources/styles/ishCssDependenciesPostLoad.css",null),Microsoft.Crm.Client.Core.Framework.$1g.$11m(["scripts/Microsoft.Crm.Client.Core.Messages.js","scripts/ishOssDependenciesPostLoad.js"],0,null).always(function(){n.resolve();t.stop()}),n.promise()};Microsoft.Crm.Client.Application.App.StartPage.$1rr=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),i=function(){var t=Microsoft.Crm.Client.Application.App.StartPage.$37S();Microsoft.Crm.Client.Application.App.StartPage.$2eS();Microsoft.Crm.Client.Application.App.$j.$1EG();Microsoft.Crm.Client.Application.App.StartPage.$2pH();Microsoft.Crm.Client.Application.App.StartPage.$3Uo(t);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$nL&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().AddPropertyChangedListener(Microsoft.Crm.Client.Core.Framework.$i.$1tb.$G,function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_KeyboardVisible()||window.setTimeout(function(){if(!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_KeyboardVisible()){var n={};n.scrollTop=0;$("html,body").animate(n,150,"swing")}},0)});Xrm.Utility.isMocaOfflineFeatureEnabled()&&Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.get_$5().$1UM(Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$cI,Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$jm);n.resolve()},t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("Delayed Assets Init");return t.start(),Microsoft.Crm.Client.Core.Framework.$1g.$7().always(function(){t.stop();i()}),n.promise()};Microsoft.Crm.Client.Application.App.StartPage.$2pI=function(n){var e=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("EvaluateUrl"),i,r,u,t,f,o;e.start();Microsoft.Crm.Client.Application.App.$2V.$3Js();Microsoft.Crm.Client.Application.App.StartPage.$7z=Microsoft.Crm.Client.Core.Framework.Utils.$1A.$E1(n);i={};r=Microsoft.Crm.Client.Application.App.StartPage.$7z;for(u in r)t={key:u,value:r[u]},i[t.key.toLowerCase()]=t.key.toLowerCase()==="data"?t.value:t.value.toLowerCase();if(Microsoft.Crm.Client.Application.App.StartPage.$7z=i,"profile"in Microsoft.Crm.Client.Application.App.StartPage.$7z&&Microsoft.Crm.Client.Application.App.StartPage.$7z.profile.indexOf("startup")!==-1&&(console.profile("Startup"),Microsoft.Crm.Client.Application.App.StartPage.$1xm=!0),"tracelevel"in Microsoft.Crm.Client.Application.App.StartPage.$7z)try{Microsoft.Crm.Client.Core.Framework.Trace.set_$22U($1M.$Cu(Microsoft.Crm.Client.Core.Framework.$5l,Microsoft.Crm.Client.Application.App.StartPage.$7z.tracelevel))}catch(s){}if("showperf"in Microsoft.Crm.Client.Application.App.StartPage.$7z&&Microsoft.Crm.Client.Application.App.StartPage.$7z.showperf==="true"&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$21A=!0),"collectorurl"in Microsoft.Crm.Client.Application.App.StartPage.$7z&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1k7=Microsoft.Crm.Client.Application.App.StartPage.$7z.collectorurl),"rtl"in Microsoft.Crm.Client.Application.App.StartPage.$7z&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2V1=Microsoft.Crm.Client.Application.App.StartPage.$7z.rtl==="true"),"viewcachethreshold"in Microsoft.Crm.Client.Application.App.StartPage.$7z)try{f=Number.parseInvariant(Microsoft.Crm.Client.Application.App.StartPage.$7z.viewcachethreshold);f>1&&(o=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l(),o.$22H=f)}catch(h){}"phone"in Microsoft.Crm.Client.Application.App.StartPage.$7z&&Microsoft.Crm.Client.Application.App.StartPage.$7z.phone==="true"&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Jw=!0);"syncappmeta"in Microsoft.Crm.Client.Application.App.StartPage.$7z&&Microsoft.Crm.Client.Application.App.StartPage.$7z.syncappmeta==="true"&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$21o=!0);e.stop()};Microsoft.Crm.Client.Application.App.StartPage.$2pH=function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.PaneScrollIndicatorEnabled=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_$3IS(),Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$10A=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_$2nO()):("panoramadelayedrender"in Microsoft.Crm.Client.Application.App.StartPage.$7z&&(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$10A=Microsoft.Crm.Client.Application.App.StartPage.$7z.panoramadelayedrender==="true"),"panescrollindicator"in Microsoft.Crm.Client.Application.App.StartPage.$7z&&(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.PaneScrollIndicatorEnabled=Microsoft.Crm.Client.Application.App.StartPage.$7z.panescrollindicator==="true"),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Jw&&(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.PaneScrollIndicatorEnabled=!0,Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$10A=!0))};Microsoft.Crm.Client.Application.App.StartPage.$337=function(){var n="";if("org"in Microsoft.Crm.Client.Application.App.StartPage.$7z){var r=Microsoft.Crm.Client.Application.App.StartPage.$7z.org,t=window.location.hostname,i=window.location.port,u=Microsoft.Crm.Client.Core.Framework.$3.$9(i)?t:Microsoft.Crm.Client.Core.Framework.$3.$MN("{0}:{1}",t,i);"server"in Microsoft.Crm.Client.Application.App.StartPage.$7z?n=Microsoft.Crm.Client.Application.App.StartPage.$7z.server:(n=window.location.protocol+"//"+u+"/","liveid"in Microsoft.Crm.Client.Application.App.StartPage.$7z||(n+=r))}else throw Error.argument("OrgName","Org name must be specified in url parameters");return n};Microsoft.Crm.Client.Application.App.StartPage.$1am=function(){var t,n;Microsoft.Crm.Client.Application.App.StartPage.$1tC||(Microsoft.Crm.Client.Application.App.StartPage.$1tC=!0,t={},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$P0(new Microsoft.Crm.Client.Core.ViewModels.$Ub),t.dataContext=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),t.clientContext=new Microsoft.Crm.Client.Core.Controls.$MT,$(document.body).empty(),n=document.createElement("div"),n.style.width="100%",n.style.height="100%",document.body.appendChild(n),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()?ReactDOM.render(MscrmComponents.MailAppShell(t),n):Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?ReactDOM.render(InteractionCentricComponents.InteractionCentricShell(t),n):ReactDOM.render(MscrmComponents.ApplicationShell(t),n))};Microsoft.Crm.Client.Application.App.StartPage.$37S=function(){var n=Microsoft.Crm.Client.Application.App.$2V.$rL(),t=new Microsoft.Crm.Client.Core.ViewModels.$58;return Microsoft.Crm.Client.Core.ViewModels.$58.$16C=new Microsoft.Crm.Client.Core.ViewModels.$M(null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("ScriptErrorRequest",null)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$2Vg(t),Microsoft.Crm.Client.Application.App.$10.get_$5().$1rb(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$sB(new Xrm.$Cc),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1h(Microsoft.Crm.Client.Application.App.$10.get_$5()),Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$3HR(),Microsoft.Crm.Client.Application.App.StartPage.$1sb=!0,Microsoft.Crm.Client.Application.App.StartPage.$u2&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$2My(!0),n};Microsoft.Crm.Client.Application.App.StartPage.$3Uo=function(n){var u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("StartCrmUI"),f,r,i,t,e,o;if(u.start(),!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1VK&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U&&(f=new Xrm.AlertDialogStrings,f.text=Xrm.Internal.getResourceString("Error_Message_OS_Not_Supported"),Xrm.Dialog.openAlertDialog(f,null,null)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$2U(n.$DT(Microsoft.Crm.Client.Core.Framework.$AV)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$J7(n.$DT(Microsoft.Crm.Client.Core.ViewModels.$AX)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$37(n.$DT(Microsoft.Crm.Client.Core.Framework.$Ax)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1eh(n.$DT(Microsoft.Crm.Client.Core.Framework.$B2)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$K(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K()),Xrm.Utility.isMocaOfflineFeatureEnabled()&&(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.set_$2MU(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("MobileClientOffline")),Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$18(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3,null),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$Jp(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.get_$5())),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N())o=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(57)),o.$Aa=!0,Microsoft.Crm.Client.Application.App.StartPage.$2Rv(o,u);else{if(r=1,i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$1QT(),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){r=37;i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$e3();var s=$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$pj())?"":Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$pj().toString(),h=$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$Jt())?"":Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$Jt().toString(),c=$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$uy())?"":Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_$uy().toString(),l=$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_LanguageId())?"":Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().get_LanguageId().toString(),a=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Sb(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$2HQ(),s,h,c,l,Microsoft.Crm.Client.Core.Framework.LocalStorage.$1Z.get_$Gw().$FF("MoCASessionID"));Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(a)}t=Microsoft.Crm.Client.Application.App.StartPage.$2l9(r);e=Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$B(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$2d(e);e.add_$8C(function(){t.$h=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oa.toString();var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(r,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25(),t.$1t,1,!1,t.$h.toString()),Microsoft.Crm.Client.Application.App.StartPage.get_$f());n.then(function(n){$0.$1(n.get_$I(0))?(t.$h=i.toString(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oa=i):t.$h=n.get_$I(0).$h;Microsoft.Crm.Client.Application.App.StartPage.$2Rv(t,u)},function(){t.$h=i.toString();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oa=i})})}};Microsoft.Crm.Client.Application.App.StartPage.$2LW=function(n){$0.$1(n)||(n.$18(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$uq(n),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$b1(n),Microsoft.Crm.Client.Application.App.StartPage.$1rn(n))};Microsoft.Crm.Client.Application.App.StartPage.$2Rv=function(n,t){var u,f,i,h,c;if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$r(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$1c4(function(n,t){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$r(t.$AM)}),Xrm.Utility.isMocaOfflineFeatureEnabled()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$3EK(function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$3XD();Microsoft.Crm.Client.Application.App.StartPage.$3T9()}),$(document).keyup(Microsoft.Crm.Client.Application.App.StartPage.$3B9),Microsoft.Crm.Client.Application.App.StartPage.get_isPreview()){Microsoft.Crm.Client.Application.App.StartPage.$1Uv(!0);Microsoft.Crm.Client.Application.App.StartPage.$1EN();var l=sessionStorage.getItem("previewForm_formXml"),e=sessionStorage.getItem("previewForm_formId"),a=sessionStorage.getItem("previewForm_EntityLogicalName"),v=sessionStorage.getItem("previewForm_dashboardName"),o=Number.parseInvariant(sessionStorage.getItem("previewForm_formType")),y=Number.parseInvariant(sessionStorage.getItem("previewForm_etc")),p=Number.parseInvariant(sessionStorage.getItem("previewForm_formAccessType")),s=Microsoft.Crm.Client.Core.Framework.Utils.$1A.$2t0(o),w=new Microsoft.Crm.Client.Core.Framework.Utils.$N7(e,l,o,p,y,v),r=Microsoft.Crm.Client.Application.App.StartPage.$F0(s,a,e,null,!1,null);r.$75=new Microsoft.Crm.Client.Core.ViewModels.$Lj(r,w);s===5?(u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(2)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$uq(u),Microsoft.Crm.Client.Application.App.StartPage.$b1(u),f=new Microsoft.Crm.Client.Core.Commands.CreateFormCommand(r,r.$J,null),f.execute(),f.dispose()):Microsoft.Crm.Client.Application.App.StartPage.$b1(r);Microsoft.Crm.Client.Application.App.StartPage.$1Gr();t.stop()}else(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$1WX()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("LandingPage")?(Microsoft.Crm.Client.Application.App.StartPage.$1Uv(!1),i=new Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$HZ(i),i.$qN=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("TaskBasedFlow"),i.$18C=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("LandingPageActivities"),i.$37N().always(function(){if(i.$Tu)Microsoft.Crm.Client.Application.App.StartPage.$1am(),i.$18R=function(){Microsoft.Crm.Client.Application.App.StartPage.$1EN();var i=new Microsoft.Crm.Client.Application.App.$MS(Microsoft.Crm.Client.Application.App.StartPage.$7z).$HN();Microsoft.Crm.Client.Application.App.StartPage.$20k(i,n,t);Microsoft.Crm.Client.Application.App.StartPage.$1Gr()};else{Microsoft.Crm.Client.Application.App.StartPage.$1EN();var r=new Microsoft.Crm.Client.Application.App.$MS(Microsoft.Crm.Client.Application.App.StartPage.$7z).$HN();Microsoft.Crm.Client.Application.App.StartPage.$20k(r,n,t);Microsoft.Crm.Client.Application.App.StartPage.$1Gr()}})):Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()?(Microsoft.Crm.Client.Application.App.StartPage.$1Uv(!0),Microsoft.Crm.Client.Application.App.StartPage.$1EN(),h=new Microsoft.Crm.Client.Application.App.$MS(Microsoft.Crm.Client.Application.App.StartPage.$7z).$HN(),Microsoft.Crm.Client.Application.App.StartPage.$1u7(h,n,t),Microsoft.Crm.Client.Application.App.StartPage.$1Gr()):(Microsoft.Crm.Client.Application.App.StartPage.$1Uv(!0),Microsoft.Crm.Client.Application.App.StartPage.$1EN(),c=new Microsoft.Crm.Client.Application.App.$MS(Microsoft.Crm.Client.Application.App.StartPage.$7z).$HN(),Microsoft.Crm.Client.Application.App.StartPage.$20k(c,n,t),Microsoft.Crm.Client.Application.App.StartPage.$1Gr());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$3HJ(Microsoft.Crm.Client.Application.App.StartPage.get_onNativeBridgeAppLink());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$2PV(Microsoft.Crm.Client.Application.App.StartPage.get_onNativeBridgeAppLink())};Microsoft.Crm.Client.Application.App.StartPage.$1EN=function(){var n,t;!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("TaskBasedFlow")||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||(n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GlobalTBFMenuViewModel.Initialization"),n.start(),t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.ViewModels.$5C.getName()),t.$18(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$36(t),n.stop())};Microsoft.Crm.Client.Application.App.StartPage.$1Gr=function(){Microsoft.Crm.Client.Application.App.$3q.get_$5().$3BX();Microsoft.Crm.Client.Application.App.$1v.$3KT()};Microsoft.Crm.Client.Application.App.StartPage.$20k=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2JA().then(function(r){try{if(!$0.$1(r)&&r.get_Count()>0){var u=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4);Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?Microsoft.Crm.Client.Application.App.StartPage.$1xM().done(function(){u.resolve()}):u.resolve();u.done(function(){var e=Microsoft.Crm.Client.Core.ViewModels.$2I.get_$5().$ZP(r.get_$I(r.get_Count()-1).$Oo),t,f,u,o;if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&n&&e&&Microsoft.Crm.Client.Application.App.StartPage.$b1(n),t=null,!((n||Microsoft.Crm.Client.Application.App.StartPage.$7z.pagetype==="create")&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()))for(f=0;f<r.get_Count();f++)Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1Xy++,u=r.get_$I(f),t=Microsoft.Crm.Client.Application.App.StartPage.$F0(u.$nr,u.$np,u.$Oo,u.$1B,u.$Aa,t),t.$18(),f===r.get_Count()-1&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)&&(o=t,o.$1wZ=!$0.$1(n)&&e,o.set_$1tn(e)),f===r.get_Count()-1&&($0.$1(n)||e)?(t.$1t.toUpperCase()===Microsoft.Crm.Client.Application.App.StartPage.$1U1().toUpperCase()?(t.$Aa=u.$Aa,Microsoft.Crm.Client.Application.App.StartPage.$b1(t)):(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$uq(t),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$b1(t)),Microsoft.Crm.Client.Application.App.StartPage.$1rn(t)):(t.$1t.toUpperCase()===Microsoft.Crm.Client.Application.App.StartPage.$1U1().toUpperCase()&&(t.$Aa=u.$Aa),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$6l().$vP(t));e||Microsoft.Crm.Client.Application.App.StartPage.$2LW(n);Microsoft.Crm.Client.Application.App.StartPage.$1am();i.stop()})}else Microsoft.Crm.Client.Application.App.StartPage.$7z.pagetype==="create"&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?(Microsoft.Crm.Client.Application.App.StartPage.$2LW(n),Microsoft.Crm.Client.Application.App.StartPage.$1am(),i.stop()):Microsoft.Crm.Client.Application.App.StartPage.$1u7(n,t,i);Xrm.Internal.executeOnXrmReadyEventHandlers();Microsoft.Crm.Client.Application.App.$3x.get_$5().$Cg("AppUIInitialized",null)}catch(f){Microsoft.Crm.Client.Core.Framework.Trace.logException(1004,f,"Encountered exception when restoring nav-stack");Microsoft.Crm.Client.Application.App.StartPage.$b1(t);i.stop()}},function(){Microsoft.Crm.Client.Application.App.StartPage.$1u7(n,t,i)})};Microsoft.Crm.Client.Application.App.StartPage.$1u7=function(n,t,i){var r=$0.$1(n)?t:n;Microsoft.Crm.Client.Application.App.StartPage.$b1(r);Microsoft.Crm.Client.Application.App.StartPage.$1rn(r);Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Application.App.StartPage.$1xM()},-13,"ISH:PostLoadScriptsAndCss");i.stop()};Microsoft.Crm.Client.Application.App.StartPage.$1Uv=function(n){var r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationBarViewModel.Initialization"),i,t;r.start();Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?(i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.ViewModels.$5D.getName()),i.$6X.set_DefinitionId("sitemap"),i.$18(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$L7(i)):(t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.ViewModels.$9E.getName()),t.$6X.set_DefinitionId("sitemap"),t.$1rY=n,t.$18(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$13N(t));r.stop()};Microsoft.Crm.Client.Application.App.StartPage.$1rn=function(n){if(n.$1sQ)Microsoft.Crm.Client.Core.ViewModels.$2K.get_$5().get_$kT().resolve(!0);else{var t=null;t=function(){n.remove_$7l(t);Microsoft.Crm.Client.Core.ViewModels.$2K.get_$5().get_$kT().resolve(!0)};n.add_$7l(t)}};Microsoft.Crm.Client.Application.App.StartPage.$3B9=function(n){var i=n.keyCode,t=new Microsoft.Crm.Client.Core.Framework.$Nt(n);switch(i){case 81:(t.$2mx()||t.$2eE())&&t.$3Tv()&&Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()}};Microsoft.Crm.Client.Application.App.StartPage.$b1=function(n){n.$18();n.AddPropertyChangedListener("IsFullyLoaded",Microsoft.Crm.Client.Application.App.StartPage.$2Q6);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$b1(n);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$uq(n);Microsoft.Crm.Client.Application.App.StartPage.$1am()};Microsoft.Crm.Client.Application.App.StartPage.$2l9=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(n));return t.$Aa=!0,"workspace"in Microsoft.Crm.Client.Application.App.StartPage.$7z&&t.set_DefinitionId(Microsoft.Crm.Client.Application.App.StartPage.$7z.workspace),t};Microsoft.Crm.Client.Application.App.StartPage.$2Q6=function(){$0.$1(Microsoft.Crm.Client.Application.App.StartPage.$1ET)||Microsoft.Crm.Client.Application.App.StartPage.$1ET()};Microsoft.Crm.Client.Application.App.StartPage.$F0=function(n,t,i,r,u,f){var e=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(n)),o,s,h;$0.$1(e.$1t)&&e.set_DefinitionId(t);o={};switch(n){case 13:e.set_PrimaryModelName(t);$0.$1(r)||$0.$1(f)?o.ListDefinitionId=i:(o=r,$0.$1(r.RelationshipName)||(o.ParentEntityViewModel=f));break;case 2:case 40:e.set_PrimaryModelName(t);Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&n===40&&$0.$1(i)?(s=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$6M(Microsoft.Crm.Client.Core.Framework.$1.toString(40)),s.set_PrimaryModelName(t),s.set_DefinitionId(s.$J),s.$7s=1,e=s):(h=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(i)),o.EntityReference=h);break;case 1:case 37:e.$h=i;e.$Aa=u;break;case 17:if($0.$1(r))throw Error.invalidOperation("Cannot build a ChartDrilldownForm without external context parameters.");e.set_PrimaryModelName(t);o=r;e.set_DefinitionId("CHARTDRILLDOWNFORM");break;case 5:e.set_PrimaryModelName(t);break;case 50:o=r}return e.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$If(null,o)),e};Microsoft.Crm.Client.Application.App.StartPage.$327=function(){var n=MscrmComponents.DeferredPromiseFactory(Date,Microsoft.Crm.Client.Core.Framework.$4);return Microsoft.Crm.Client.Core.Framework.$h.get_$5().$LX("LastTimeCheckSourceForUpdatesOnResumeKey").then(function(t){$0.$1(t)?n.resolve(null):n.resolve(new Date(t.utctime))},function(t){n.reject(t)}),n.promise()};Microsoft.Crm.Client.Application.App.StartPage.$3Pt=function(n){var t={};t.utctime=n.toUTCString();Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("LastTimeCheckSourceForUpdatesOnResumeKey",t,!0)};Microsoft.Crm.Client.Application.App.StartPage.$wh=function(n,t,i){Microsoft.Crm.Client.Application.App.$j.$370();i===1?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Di.$19u(n,t):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$1AU(n,t)};Microsoft.Crm.Client.Application.App.StartPage.$1U1=function(){return Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?"InteractionCentricWorkspace".toUpperCase():"Workspace"};Microsoft.Crm.Client.Application.App.StartPage.$1dO=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t;return Microsoft.Crm.Client.Application.App.StartPage.$2N8()?(t=new Date,Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance().$1dO().then(function(i){var u=new Date,f=u-t,e=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ok("MOCADataSyncTransitionTime","","",0,"","",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),"","",f),r;Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(e);i.$1LE||(r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ok("MOCADataSyncSuccess","","",0,Microsoft.Crm.Client.Core.Offline.Upsync.Common.$5d.toString(i.$qu),"",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),(new Date).toString(),"",0),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(r));n.resolve(i)},function(i){var r=new Date,u=r-t,f=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ok("MOCADataSyncTransitionTime","","",0,"","MOCADataSyncTransitionTime is failed",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),"","",u);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(f);i.$E.toLowerCase()!=="no records found"&&Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Error occured while UpSync. Error details -- "+i.$E);n.reject(i)})):(Xrm.Utility.isMocaOfflineFeatureEnabled()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()||Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1004,"Cannot initiate playback in StartPlayback() due to one of these reasons. Either client is not enabled for offline sync; Server is not available; Offline data store does not exist; PlaybackManager is not instantiated."),n.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("Offline feature is not available or we are not online"))),n.promise()};Microsoft.Crm.Client.Application.App.StartPage.$2N8=function(){return Xrm.Utility.isMocaOfflineFeatureEnabled()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()&&!$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p())&&!$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$6V())&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$6V().get_$3H()&&!!Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance()};Microsoft.Crm.Client.Application.App.StartPage.$3X8=function(n){var i,t,r,u;if(Microsoft.Crm.Client.Core.Framework.$B.$138("DataSource_Initialize_End",1004,null),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Je()){if(Microsoft.Crm.Client.Application.App.StartPage.$37t(n),Microsoft.Crm.Client.Application.App.$10.get_$5().$18(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Fj,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$a5()),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&!Microsoft.Crm.Client.Application.App.$10.get_$5().$1sV("InteractionCentricDashboard")){Microsoft.Crm.Client.Application.App.$j.$1EG();Microsoft.Crm.Client.Core.ViewModels.$1V.$3UH("",Microsoft.Crm.Client.Core.Framework.$1u.$c("noPermissionMessage").toString(),null,null,"","");return}Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(i=Microsoft.Crm.Client.Core.Framework.$1u.$c("MetadataInSAMTableInvalid"),Microsoft.Crm.Client.Application.App.$10.get_$5().$1sV("ISHMetadataOnDemand")&&!i?Microsoft.Crm.Client.Application.App.StartPage.$1dj=1:Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$1F3(!1))}n===1?Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$OA()?(u=function(){var n=new Microsoft.Crm.Client.Core.Commands.$33(null,31);n.execute();n.dispose()},Microsoft.Crm.Client.Application.App.StartPage.$bP(2).done(function(){Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_SaveDrafts_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_SaveDrafts_Message"),0,u,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ButtonText_ViewDrafts"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_OK_Text"))})):(Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.UpdateMetadata.ShowMetadataDownloadPrompt"),t=function(){Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.UpdateMetadata.MetadataDownloadPrompt_Accepted");Microsoft.Crm.Client.Application.App.StartPage.$bP(1)},r=function(){Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.UpdateMetadata.MetadataDownloadPrompt_Cancelled");Microsoft.Crm.Client.Application.App.StartPage.$bP(2)},Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Hw||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?t():Microsoft.Crm.Client.Core.ViewModels.$1V.$3UH(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Message"),t,r,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Button_OK"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("New_Metadata_Prompt_Button_Cancel"),"MetadataSync")):Microsoft.Crm.Client.Application.App.StartPage.$bP(n)};Microsoft.Crm.Client.Application.App.StartPage.$26J=function(n){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$bF.$20&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$bF.$3HF();var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$bP(n);return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$bF.$20&&t.then(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$bF.$3HC()},function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$bF.$3HE()}),t};Microsoft.Crm.Client.Application.App.StartPage.$37t=function(n){if(n!==2&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$TS()&&($0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$7v())||JSON.stringify(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$4m.$1C())!==JSON.stringify(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$7v().$1C()))&&(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.set_$7v(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$4m),Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$7v().$ml&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$7v().$93!==Microsoft.Crm.Client.Core.Framework.Guid.get_empty())){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ok("MOCADataSyncAppMetadataAssigned","","",0,"","",Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$7v().$93,(new Date).toString(),Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$7v().$14j,0);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t);Microsoft.Crm.Client.Core.Framework.$B.$C("OfflineProfileAssigned",4,"Profile assigned successfully.")}};Microsoft.Crm.Client.Application.App.StartPage.$1sE=function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$TS()&&Microsoft.Crm.Client.Core.ViewModels.$n.$1st()&&!Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$12V()&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$7v().$ml&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("MobileClientOfflineAutoOptin")&&!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$OA()};Microsoft.Crm.Client.Application.App.StartPage.$3T9=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$aG();n.$Lh!==1||n.$PK?Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.set_$1WF(!1):Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.set_$1WF(!0)};Microsoft.Crm.Client.Application.App.StartPage.$2XJ=function(){var n,u,t,i,e;if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$td){var f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K(),r=f.$3K.toString()+"_"+f.get_$Jt().toString(),o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1KO();for(Microsoft.Crm.Client.Application.App.StartPage.$1cM(r.toLowerCase(),o,100),n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$G3,n.sort(),u="",t=0;t<n.length;t++)u+=n[t].toString();i="rolesHash"+r.toLowerCase();e=Microsoft.Crm.Client.Application.App.StartPage.$31p(u);Microsoft.Crm.Client.Application.App.StartPage.$1cM(i,e.toString(),100);i="lastSyncTime"+r.toLowerCase();Microsoft.Crm.Client.Application.App.StartPage.$1cM(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1KO(),100)}};Microsoft.Crm.Client.Application.App.StartPage.UnsetISHSyncCookie=function(){if(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K(),t=n.$3K.toString()+"_"+n.get_$Jt().toString();Microsoft.Crm.Client.Application.App.StartPage.$1cM(t.toLowerCase(),"",-1)}};Microsoft.Crm.Client.Application.App.StartPage.$1cM=function(n,t,i){var u,r;$0.$1(n)||(u="",IsNull(i)||(r=new Date,r.setTime(r.getTime()+i*31536e6),u="; expires="+r.toUTCString()),document.cookie=n+"="+t+u+"; path=/")};Microsoft.Crm.Client.Application.App.StartPage.$31p=function(n){for(var t=0,r,i=0;i<n.length;i++)r=n.charCodeAt(i),t=(t<<5)-t+r,t=t&t;return t};Microsoft.Crm.Client.Application.App.StartPage.$2Qu=function(){Microsoft.Crm.Client.Application.App.$6Y.$37I()};Microsoft.Crm.Client.Application.App.StartPage.$3CW=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K.toString(),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$Td,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1KO(),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$OA().toString(),u=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ov(n,t,i,r);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(u)};Microsoft.Crm.Client.Application.App.$4i=function(){this.$$d_$LQ=Function.createDelegate(this,this.$LQ)};Microsoft.Crm.Client.Application.App.$4i.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Application.App.$4i.$D)&&(Microsoft.Crm.Client.Application.App.$4i.$D=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()?new Microsoft.Crm.Client.Application.App.$Pe:new Microsoft.Crm.Client.Application.App.$4i),Microsoft.Crm.Client.Application.App.$4i.$D};Microsoft.Crm.Client.Application.App.$4i.prototype={$7h:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t=this,i=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$174().then(function(i){if(i.$Co)t.$2Qv(n,i);else{var r=Microsoft.Crm.Client.Core.Framework.$4.$mC(i.$6e);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$wq(r).always(function(){n.reject(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$10b())})}},function(t){var r=i.$350(t);r.$z===-2147093999?n.reject(r):Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$wq(r).always(function(){n.reject(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$10b())})}),n.promise()},$350:function(n){return n.$z===-2147220955||n.$z===-2147209463||n.$z===-2147209460||n.$z===-2147220692||n.$z===-2147094013||n.$z===-2147093995?Microsoft.Crm.Client.Core.Framework.$4.$3bY(n,null,-2147094013):Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093999)},$2Qv:function(n,t){n.resolve(new Microsoft.Crm.Client.Core.Framework.$FQ(t.$3K,t.$CL))},$LQ:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()){var n=this;this.$7h().fail(function(n){n.$z!==-2147093999&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Di.$19u(0,n.$TI())})}}};Microsoft.Crm.Client.Application.App.$Pe=function(){Microsoft.Crm.Client.Application.App.$Pe.initializeBase(this)};Microsoft.Crm.Client.Application.App.$Pe.prototype={$2Qv:function(n,t){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20){var i=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$2Hs(function(i){var r=i.error,u=i.emailAddress,f,e,o,s;!Microsoft.Crm.Client.Core.Framework.$3.$9(r)||Microsoft.Crm.Client.Core.Framework.$3.$9(u)?n.reject(Microsoft.Crm.Client.Core.Framework.$4.$i(r)):(f=t.$23D.toString().toLowerCase(),e=u.toLowerCase(),f!==e?(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$20&&(o=new Microsoft.Crm.Client.Core.Framework.$7S({errorcode:-2147085807,message:"Email Addresses in CRM and exchange do not match."}),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.$1AU(-1,o)),s=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_0x80061211"),n.reject(Microsoft.Crm.Client.Core.Framework.$4.$i(s))):n.resolve(new Microsoft.Crm.Client.Core.Framework.$FQ(t.$3K,t.$CL)))})}else Microsoft.Crm.Client.Application.App.$4i.prototype.$2Qv.call(this,n,t)}};Type.registerNamespace("Microsoft.Crm.Client.Application.App.Components");Microsoft.Crm.Client.Application.App.Components.$7n=function(){};Microsoft.Crm.Client.Application.App.Components.$7n.$2il=function(n,t){t.$N4(Microsoft.Crm.Client.Application.App.Features.$a).$Ne(Microsoft.Crm.Client.Application.App.Features.$a).$3bf().$3bg(function(){return n})};Microsoft.Crm.Client.Application.App.Components.$7n.$1yK=function(){Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("EditableGridControlPbl",Microsoft.Crm.Client.Application.App.Features.$DI);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("EditableGridControlJsEvents",Microsoft.Crm.Client.Application.App.Features.$DH);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("MobileClientMashup",Microsoft.Crm.Client.Application.App.Features.$7b);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("ExportToExcelMobile",Microsoft.Crm.Client.Application.App.Features.$DS);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("ExcelDocumentTemplate",Microsoft.Crm.Client.Application.App.Features.$DB);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("WordDocumentTemplate",Microsoft.Crm.Client.Application.App.Features.$FT);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("MobileClientTelemetry",Microsoft.Crm.Client.Application.App.Features.$FG);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("CortanaProactiveExperience",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("CustomControlMobile",Microsoft.Crm.Client.Application.App.Features.$D0);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("ISHMetadataOnDemand",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("InteractionCentricDashboard",Microsoft.Crm.Client.Application.App.Features.$6d);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("TaskBasedFlow",Microsoft.Crm.Client.Application.App.Features.$FF);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("ProcessUnification",Microsoft.Crm.Client.Application.App.Features.$Er);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("AppLinking",Microsoft.Crm.Client.Application.App.Features.$Ci);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("MobileClientTheming",Microsoft.Crm.Client.Application.App.Features.$EX);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("GuidedHelp",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("ISHGuidedHelp",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("MarsLegacyClientEnabled",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("AppModuleForOrganization",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("AppModuleMOCAForScaleGroup",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("OfficeMailApp",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("OfficeMailAppMobile",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("OfficeMailAppMetadata",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("OfficeMailAppRestApi",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("SSSCustomProperty",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("ElasticSearch",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("MobileClientOffline",Microsoft.Crm.Client.Application.App.Features.$EW);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("MobileClientOfflineAutoOptin",Microsoft.Crm.Client.Application.App.Features.$EU);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("DocumentRecommendations",Microsoft.Crm.Client.Application.App.Features.$DA);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("InteractionCentricMultiEntityChartsFeature",Microsoft.Crm.Client.Application.App.Features.$E2);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("ProductRecommendations",Microsoft.Crm.Client.Application.App.Features.$Es);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("WebResourceAndIFrameOnISH",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("SSSReliablePromote",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("EnableControlMappings",Microsoft.Crm.Client.Application.App.Features.$DM);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("AssociatedGridURLAddressability",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("LookupRelationshipFilters",Microsoft.Crm.Client.Application.App.Features.$ER);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("AdvancedSimilaritySearch",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("InteractionCentricLookupAutoResolve",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("QuickFindSearchOnISH",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("EmailEngagement",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("OneDriveIntegration",Microsoft.Crm.Client.Application.App.Features.$Ee);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("SharePointS2S",Microsoft.Crm.Client.Application.App.Features.$F4);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("InteractionCentricEmailLink",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("LandingPage",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("PaneStackingOnPhones",Microsoft.Crm.Client.Application.App.Features.$Ek);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("DeviceIntegration",Microsoft.Crm.Client.Application.App.Features.$D7);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("PowerBI",Microsoft.Crm.Client.Application.App.Features.$En);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("LandingPageActivities",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("MobileClientDeviceIntegration",Microsoft.Crm.Client.Application.App.Features.$EV);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("ActionCard",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("NonBaseActionCard",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("AuthenticatedMashups",Microsoft.Crm.Client.Application.App.Features.$Cj);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("OfficeMailAppEmailEngagement",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.get_$5().$58("LockFormOnRefresh",Microsoft.Crm.Client.Application.App.Features.$EQ)};Microsoft.Crm.Client.Application.App.Components.$7n.prototype={$2ig:function(n){Microsoft.Crm.Client.Application.App.Components.$7n.$2il(Microsoft.Crm.Client.Application.App.Features.$a.get_$5(),n);var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5(),r=this,i=function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$156(n)},u=this;t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(37),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel;return n.set_DefinitionId(Microsoft.Crm.Client.Core.Framework.$1.toString(37).toUpperCase()),n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);Microsoft.Crm.Client.Application.App.Components.$7n.$1yK()}};Microsoft.Crm.Client.Application.App.Components.$71=function(){};Microsoft.Crm.Client.Application.App.Components.$71.$3Lv=function(n,t){t.$N4(Microsoft.Crm.Client.Core.ViewModels.$9).$Ne(Microsoft.Crm.Client.Core.ViewModels.$9).$3bf().$3bg(function(){return n});t.$N4(Microsoft.Crm.Client.Core.ViewModels.$9).$Ne(Microsoft.Crm.Client.Core.Framework.$75).$3bf().$3bg(function(){return n})};Microsoft.Crm.Client.Application.App.Components.$71.$3Ll=function(n,t){t.$N4(Microsoft.Crm.Client.Core.ViewModels.$F).$Ne(Microsoft.Crm.Client.Core.ViewModels.$F).$3bf().$3bg(function(){return n})};Microsoft.Crm.Client.Application.App.Components.$71.$1yK=function(n){n.$R("Decimal",Microsoft.Crm.Client.Core.ViewModels.$3M);n.$R("DurationViewModel",Microsoft.Crm.Client.Core.ViewModels.$3M);n.$R("Float",Microsoft.Crm.Client.Core.ViewModels.$3M);n.$R("Picklist",Microsoft.Crm.Client.Core.ViewModels.$3M);n.$R("PicklistStatus",Microsoft.Crm.Client.Core.ViewModels.$3M);n.$R("RadioButton",Microsoft.Crm.Client.Core.ViewModels.$3M);n.$R("Label",Microsoft.Crm.Client.Core.ViewModels.$3M);n.$R("TextArea",Microsoft.Crm.Client.Core.ViewModels.$3M);n.$R("Button",Microsoft.Crm.Client.Core.ViewModels.$2A);n.$R("DropDialogButton",Microsoft.Crm.Client.Core.ViewModels.$2r);n.$R("Link",Microsoft.Crm.Client.Core.ViewModels.$3v);n.$R("Url",Microsoft.Crm.Client.Core.ViewModels.$3v);n.$R("EmailAddress",Microsoft.Crm.Client.Core.ViewModels.$3v);n.$R("Image",Microsoft.Crm.Client.Core.ViewModels.$80);n.$R("Section",Microsoft.Crm.Client.Core.ViewModels.$2Z);n.$R("PanoramaContainer",Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel);n.$R("Pane",Microsoft.Crm.Client.Core.ViewModels.$2Z);n.$R("RootViewModel",Microsoft.Crm.Client.Core.ViewModels.RootViewModel);n.$R("Group",Microsoft.Crm.Client.Core.ViewModels.$2Z);n.$R("MultilineList",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);n.$R("SelectableList",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);n.$R("MultiItemList",Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel);n.$R("DraftList",Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel);n.$R("HierarchyList",Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel);n.$R("GridContainer",Microsoft.Crm.Client.Core.ViewModels.$4l);n.$R("Grid",Microsoft.Crm.Client.Core.ViewModels.GridViewModel);n.$R("ListItem",Microsoft.Crm.Client.Core.ViewModels.$43);n.$R("EmailTemplatesList",Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel);n.$R("Integer",Microsoft.Crm.Client.Core.ViewModels.$Ap);n.$R("Int64",Microsoft.Crm.Client.Core.ViewModels.$Ao);n.$R("Real",Microsoft.Crm.Client.Core.ViewModels.$7d);n.$R("Money",Microsoft.Crm.Client.Core.ViewModels.$7d);n.$R("Decimal",Microsoft.Crm.Client.Core.ViewModels.$7d);n.$R("ComboBox",Microsoft.Crm.Client.Core.ViewModels.$9i);n.$R("DateTimeScroller",Microsoft.Crm.Client.Core.ViewModels.$8s);n.$R("DurationScroller",Microsoft.Crm.Client.Core.ViewModels.$DF);n.$R("FormHeader",Microsoft.Crm.Client.Core.ViewModels.$DW);n.$R("ListComponentFormHeader",Microsoft.Crm.Client.Core.ViewModels.$B6);n.$R("HitHighlightLabel",Microsoft.Crm.Client.Core.ViewModels.$AU);n.$R("SubjectTree",Microsoft.Crm.Client.Core.ViewModels.$F9);n.$R("MailAppMultiLineListViewModel",Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel);n.$R("MailAppRelevantSearchListViewModel",Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel)};Microsoft.Crm.Client.Application.App.Components.$Lv=function(){};Microsoft.Crm.Client.Application.App.Components.$Lv.prototype={$2ig:function(n){var t,i,r,u,f;n.$N4(Microsoft.Crm.Client.Core.Framework.$DR).$3bf();t=this;n.$N4(Microsoft.Crm.Client.Core.Framework.$7I).$Ne(Microsoft.Crm.Client.Core.Framework.$AV).$3bf().$3bg(function(){return new Microsoft.Crm.Client.Core.Framework.$7I});Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$IS?(i=this,n.$N4(Microsoft.Crm.Client.Core.Framework.ClientWatson.$Ds).$Ne(Microsoft.Crm.Client.Core.Framework.ClientWatson.$AY).$3bg(function(){return new Microsoft.Crm.Client.Core.Framework.ClientWatson.$Ds})):(r=this,n.$N4(Microsoft.Crm.Client.Core.Framework.ClientWatson.$37).$Ne(Microsoft.Crm.Client.Core.Framework.ClientWatson.$AY).$3bg(function(){return new Microsoft.Crm.Client.Core.Framework.ClientWatson.$37}));n.$N4(Microsoft.Crm.Client.Core.Views.ViewManager).$Ne(Microsoft.Crm.Client.Core.Framework.$4M).$3bf();u=this;n.$N4(Microsoft.Crm.Client.Application.App.$6m).$Ne(Microsoft.Crm.Client.Core.Framework.$Ax).$3bf().$3bg(function(){return new Microsoft.Crm.Client.Application.App.$6m});f=this;n.$N4(Microsoft.Crm.Client.Application.App.$13).$Ne(Microsoft.Crm.Client.Core.Framework.$B2).$3bf().$3bg(function(){return Microsoft.Crm.Client.Application.App.$13.get_$5()})}};Microsoft.Crm.Client.Application.App.Components.$4I=function(){};Microsoft.Crm.Client.Application.App.Components.$4I.$2im=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5(),i;Microsoft.Crm.Client.Application.App.Components.$71.$3Lv(t,n);Microsoft.Crm.Client.Application.App.Components.$71.$1yK(t);i=function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$156(n)};t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(1),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(1);return n.set_DefinitionId(Microsoft.Crm.Client.Core.Framework.$1.toString(1).toUpperCase()),n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(2),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel(2);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$J7().$Aj(n,2)},i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(13),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(13);return n.set_DefinitionId("gridform"),n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(17),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(17);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(26),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(26);return n.set_DefinitionId("searchPage"),n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(47),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(47);return n.set_DefinitionId("relevanceSearchPage"),n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(34),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel(34);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(57),function(){return new Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel(57)},null,i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(35),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(35);return n.set_DefinitionId("setRegardingPage"),n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(59),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel(59);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(31),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(31);return n.set_DefinitionId("draftsPage"),n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(32),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(32);return n.set_DefinitionId("duplicateRecordsPage"),n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$1c(Microsoft.Crm.Client.Core.Framework.$1.toString(3),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel;return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n});t.$1c(Microsoft.Crm.Client.Core.ViewModels.$9E.getName(),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$9E;return n.$1Af=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("PingServer",null)),n.$1ug=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("MetadataDownload",null)),n});t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(5),function(){var n=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===4?new Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel(5):new Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel(5);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$J7().$Aj(n,1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1Ys(n,2)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2iI(n)});t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(36),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel(5);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$J7().$Aj(n,1)},i);t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(22),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$VK;return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$J7().$Aj(n,2);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1Ys(n,2)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AW(n)});t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(14),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel;return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2R4(n)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Nq(n)});t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(12),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel;return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$J7().$Aj(n,1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1Ys(n,4)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AW(n)});t.$1c(Microsoft.Crm.Client.Core.Framework.$1.toString(10),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(10);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n});t.$CP("AssociateFormViewModel",function(){var n=new Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel;return n.$1Ny=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AssociateRecords",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2R4(n)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Nq(n)});t.$CP("GlobalLookupViewModel",function(){var n=new Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel;return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$14F(n)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Nq(n)});t.$1c(Microsoft.Crm.Client.Core.Framework.$1.toString(41),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(41);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n});t.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(50),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(50);return n.set_DefinitionId("powerBIFullScreenPage"),n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$1c(Microsoft.Crm.Client.Core.Framework.$1.toString(54),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel(54);return n.set_DefinitionId("template"),n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n});t.$1c(Microsoft.Crm.Client.Core.Framework.$1.toString(53),function(){return Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.get_$5()});t.$1c(Microsoft.Crm.Client.Core.Framework.$1.toString(55),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(55);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n});Microsoft.Crm.Client.Application.App.Components.$4I.$2ik(t);Microsoft.Crm.Client.Application.App.Components.$4I.$1yK(t)};Microsoft.Crm.Client.Application.App.Components.$4I.$2ik=function(n){n.$2T6("ActionProvider",Microsoft.Crm.Client.Core.ViewModels.$M)};Microsoft.Crm.Client.Application.App.Components.$4I.$2ii=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$F.get_$5();t.$1BF=new Microsoft.Crm.Client.Core.ViewModels.$M(null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("Customization",null));Microsoft.Crm.Client.Application.App.Components.$71.$3Ll(t,n)};Microsoft.Crm.Client.Application.App.Components.$4I.$2ij=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5(),i;t.$1z9=new Microsoft.Crm.Client.Core.ViewModels.$M(null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveWebResouces",null));t.$1RM=new Microsoft.Crm.Client.Core.ViewModels.$Lp;n.$N4(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel).$Ne(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel).$3bf().$3bg(function(){return t});i=Microsoft.Crm.Client.Core.ViewModels.$16.get_$5();n.$N4(Microsoft.Crm.Client.Core.ViewModels.$16).$Ne(Microsoft.Crm.Client.Core.ViewModels.$96).$3bf().$3bg(function(){return i})};Microsoft.Crm.Client.Application.App.Components.$4I.$2ih=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.get_$5();n.$N4(Microsoft.Crm.Client.Core.ViewModels.ClientApiManager).$Ne(Microsoft.Crm.Client.Core.ViewModels.$AX).$3bf().$3bg(function(){return t});n.$N4(Microsoft.Crm.Client.Core.ViewModels.ClientApiManager).$Ne(Microsoft.Crm.Client.Core.ViewModels.ClientApiManager).$3bf().$3bg(function(){return t})};Microsoft.Crm.Client.Application.App.Components.$4I.$1yK=function(n){n.$R("EditModeSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel);n.$R("NotesEditModeSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.$Ed);n.$R("OptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);n.$R("UnboundOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$FN);n.$R("ToggleViewModel",Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel);n.$R("StatusOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel);n.$R("UnboundStatusOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel);n.$R("EntityReferenceOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$DP);n.$R("LanguageOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$EM);n.$R("UnboundLanguageOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel);n.$R("TimeZoneOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$FM);n.$R("LookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$7a);n.$R("LookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.$9C);n.$R("LookupBarViewModel",Microsoft.Crm.Client.Core.ViewModels.$B9);n.$R("CrmCollapsibleSection",Microsoft.Crm.Client.Core.ViewModels.$2Z);n.$R("EditListItem",Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel);n.$R("CrmFieldsComponent",Microsoft.Crm.Client.Core.ViewModels.$Cx);n.$R("MultipleSourceLookup",Microsoft.Crm.Client.Core.ViewModels.$EY);n.$R("EntityMetadataOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$8v);n.$R("PartyListLookup",Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel);n.$R("PartyList",Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel);n.$R("PartyListItem",Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel);n.$R("PartyListRead",Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel);n.$R("AddressReadOnly",Microsoft.Crm.Client.Core.ViewModels.$Cg);n.$R("PhoneReadOnly",Microsoft.Crm.Client.Core.ViewModels.$El);n.$R("EmailReadOnly",Microsoft.Crm.Client.Core.ViewModels.$DL);n.$R("UriReadOnly",Microsoft.Crm.Client.Core.ViewModels.$FO);n.$R("CrmChartDrilldown",Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel);n.$R("SearchBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel);n.$R("MailAppSearchBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel);n.$R("PageSearchHeaderViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel);n.$R("SearchSummaryViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$C2);n.$R("DraftsViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$8t);n.$R("DuplicateRecordsViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$8u);n.$R("DraftsCommandButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$DD);n.$R("SyncErrorsCommandButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$FA);n.$R("SiteMapCommandButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$F6);n.$R("RollupViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel);n.$R("SimpleButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.$6n);n.$R("MailAppMultiLineListViewModel",Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel);n.$R("MailAppRelevantSearchListViewModel",Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel);n.$R("ControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$2r);n.$R("TelPhoneReadOnly",Microsoft.Crm.Client.Core.ViewModels.Controls.$FH);n.$R("PopOutLinkLabelViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.$9H);n.$R("FeedbackViewModel",Microsoft.Crm.Client.Core.ViewModels.$DU);n.$R("RecentlyViewedItemListViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$Eu);n.$R("MailAppRecentlyViewedItemListViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.$5u);n.$R("LandingPageViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel);n.$R("SetRegardingButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.$F3);n.$R("EmailTemplatesRegardingComboBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel);n.$R("ExternalProtocolLinkLabelViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel);n.$R("RecipientExternalProtocolLinkViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel);n.$R("DateViewModel",Microsoft.Crm.Client.Core.ViewModels.$A7);n.$R("DurationViewModel",Microsoft.Crm.Client.Core.ViewModels.$AC);Microsoft.Crm.Client.Application.App.Components.$4I.$1aS(n)};Microsoft.Crm.Client.Application.App.Components.$4I.$1aS=function(n){n.$R("ProcessSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$9I);n.$R("ProxyProcessHeader",Microsoft.Crm.Client.Core.ViewModels.Controls.$Bh);n.$R("ProcessMetadataManager",Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager);n.$R("ProcessManager",Microsoft.Crm.Client.Core.ViewModels.Controls.$47);n.$R("ProcessActiveStageManager",Microsoft.Crm.Client.Core.ViewModels.Controls.$Ba);n.$R("ProcessHeader",Microsoft.Crm.Client.Core.ViewModels.Controls.$Bc);n.$R("Stage",Microsoft.Crm.Client.Core.ViewModels.Controls.$CA);n.$R("StageAdvanceAction",Microsoft.Crm.Client.Core.ViewModels.Controls.$7e);n.$R("StageNavigationAction",Microsoft.Crm.Client.Core.ViewModels.Controls.$C9);n.$R("ProxyProcessControl",Microsoft.Crm.Client.Core.ViewModels.Controls.$8M);n.$R("ProcessEntity",Microsoft.Crm.Client.Core.ViewModels.Controls.$Bb)};Microsoft.Crm.Client.Application.App.Components.$4I.prototype={$2ig:function(n){Microsoft.Crm.Client.Application.App.Components.$4I.$2im(n);Microsoft.Crm.Client.Application.App.Components.$4I.$2ij(n);Microsoft.Crm.Client.Application.App.Components.$4I.$2ii(n);Microsoft.Crm.Client.Application.App.Components.$4I.$2ih(n)}};Type.registerNamespace("Microsoft.Crm.Client.Application.App.Features");Microsoft.Crm.Client.Application.App.Features.$Ci=function(){Microsoft.Crm.Client.Application.App.Features.$Ci.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Ci.prototype={$X8:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$X8.call(this);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("EmailLinkCommand",Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.$10)}};Microsoft.Crm.Client.Application.App.Features.$Cj=function(){Microsoft.Crm.Client.Application.App.Features.$Cj.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Cj.prototype={get_$3NN:function(){return!0},get_$1Xq:function(){return"AuthenticatedMashups"}};Microsoft.Crm.Client.Application.App.Features.$DA=function(){Microsoft.Crm.Client.Application.App.Features.$DA.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$DB=function(){Microsoft.Crm.Client.Application.App.Features.$DB.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$DB.prototype={$X8:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$X8.call(this);Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$22C=!0;Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenDocumentTemplateCommand",Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand.$10)}};Microsoft.Crm.Client.Application.App.Features.$DH=function(){Microsoft.Crm.Client.Application.App.Features.$DH.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$DI=function(){Microsoft.Crm.Client.Application.App.Features.$DI.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$ER=function(){Microsoft.Crm.Client.Application.App.Features.$ER.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Ek=function(){Microsoft.Crm.Client.Application.App.Features.$Ek.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Ek.prototype={$18:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$18.call(this);Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&(Microsoft.Crm.Client.Application.App.$3x.get_$5().add_$1vO(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X.get_$5().$1YF),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$Jv(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X.get_$5()))}};Microsoft.Crm.Client.Application.App.Features.$EV=function(){Microsoft.Crm.Client.Application.App.Features.$EV.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$EV.prototype={get_$3NN:function(){return!0},get_$1Xq:function(){return"MobileClientDeviceIntegration"}};Microsoft.Crm.Client.Application.App.Features.$En=function(){Microsoft.Crm.Client.Application.App.Features.$En.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$En.prototype={$X8:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$X8.call(this);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenInPowerBICommand",Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand.$10);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenReportInPowerBICommand",Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand.$10);Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("PowerBIViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel);Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$1sx=!0}};Microsoft.Crm.Client.Application.App.Features.$FF=function(){Microsoft.Crm.Client.Application.App.Features.$FF.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$FF.prototype={$X8:function(){var n;Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R(Microsoft.Crm.Client.Core.ViewModels.$5C.getName(),Microsoft.Crm.Client.Core.ViewModels.$5C);n=this;Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$1c(Microsoft.Crm.Client.Core.Framework.$1.toString(38),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(38);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n.set_DefinitionId("TaskBasedFlowGlobalMenu"),n});Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("TaskBasedFlowPageViewModel",Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel);var t=this,i=this,r=this;Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(39),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel;return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("GetMultipleEntityFormDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$J7().$Aj(n,1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1Ys(n,4)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1AW(n)})}};Microsoft.Crm.Client.Application.App.Features.$FT=function(){Microsoft.Crm.Client.Application.App.Features.$FT.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$FT.prototype={$X8:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$X8.call(this);Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$23f=!0;Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("OpenWordTemplateCommand",Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand.$10)}};Microsoft.Crm.Client.Application.App.Features.$D0=function(){Microsoft.Crm.Client.Application.App.Features.$D0.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$D0.prototype={$18:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$18.call(this)},$X8:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$X8.call(this);Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("CustomControl",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k)}};Microsoft.Crm.Client.Application.App.Features.$DM=function(){Microsoft.Crm.Client.Application.App.Features.$DM.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$DM.prototype={$18:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$18.call(this)},$X8:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$X8.call(this);Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("CustomControl",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k)}};Microsoft.Crm.Client.Application.App.Features.$DS=function(){Microsoft.Crm.Client.Application.App.Features.$DS.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$DS.prototype={$X8:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$X8.call(this);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1c("ExportToExcelCommand",Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand.$10)}};Microsoft.Crm.Client.Application.App.Features.$a=function(){this.$1nP={}};Microsoft.Crm.Client.Application.App.Features.$a.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Application.App.Features.$a.$D)&&(Microsoft.Crm.Client.Application.App.Features.$a.$D=new Microsoft.Crm.Client.Application.App.Features.$a),Microsoft.Crm.Client.Application.App.Features.$a.$D};Microsoft.Crm.Client.Application.App.Features.$a.prototype={$1Aw:function(n){var t=this.$1nP[n];return t?new t:(Microsoft.Crm.Client.Core.Framework.$B.$1g("FeatureFactory",1004,String.format("Can not create Feature: '{0}' - Type not found",n)),null)},$58:function(n,t){this.$1nP[n]=t}};Microsoft.Crm.Client.Application.App.Features.FeatureName=function(){};Microsoft.Crm.Client.Application.App.Features.$2v=function(){};Microsoft.Crm.Client.Application.App.Features.$2v.prototype={$fc_0:!1,$tx_0:!1,$HV:!1,$18:function(){this.$X8();this.$fc_0=!0},get_$12Q:function(){return this.$fc_0},$2Rx:function(){this.$tx_0=!0},get_$1sy:function(){return this.$tx_0},get_$CH:function(){return this.$HV},set_$CH:function(n){return this.$HV=n,n},get_$3NN:function(){return!1},get_$1Xq:function(){return""},$X8:function(){}};Microsoft.Crm.Client.Application.App.Features.$7b=function(){Microsoft.Crm.Client.Application.App.Features.$7b.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$7b.prototype={$18:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$18.call(this);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$Ib(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.get_$5())},get_$3NN:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$5U&&!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$36f()},get_$1Xq:function(){return"HasMashupSupport"},$X8:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$X8.call(this);Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("IFrameViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$7z);Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("WebResourceViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel);Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("ACIControlViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$Cd)}};Microsoft.Crm.Client.Application.App.Features.$D7=function(){Microsoft.Crm.Client.Application.App.Features.$D7.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$D7.prototype={$18:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$18.call(this);Microsoft.Crm.Client.Application.App.$3q.get_$5().$18();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$5u(Microsoft.Crm.Client.Application.App.$3q.get_$5())}};Microsoft.Crm.Client.Application.App.Features.$6d=function(){Microsoft.Crm.Client.Application.App.Features.$6d.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$6d.$3Lu=function(n){n.$1c(Microsoft.Crm.Client.Core.ViewModels.$5D.getName(),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$5D;return n.$1Af=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("PingServer",null)),n});n.$1c(Microsoft.Crm.Client.Core.Framework.$1.toString(4),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(4);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n})};Microsoft.Crm.Client.Application.App.Features.$6d.$CP=function(n){var t=function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$156(n)};n.$CP(Microsoft.Crm.Client.Core.Framework.$1.toString(40),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel(40);return n.$75=new Microsoft.Crm.Client.Core.ViewModels.$M(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$J7().$Aj(n,2)},t)};Microsoft.Crm.Client.Application.App.Features.$6d.$1aS=function(n){n.$R("ProcessSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$9I);n.$R("ProxyProcessHeader",Microsoft.Crm.Client.Core.ViewModels.Controls.$Bh);n.$R("ProcessMetadataManager",Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager);n.$R("ProcessManager",Microsoft.Crm.Client.Core.ViewModels.Controls.$47);n.$R("ProcessActiveStageManager",Microsoft.Crm.Client.Core.ViewModels.Controls.$Ba);n.$R("ProcessHeader",Microsoft.Crm.Client.Core.ViewModels.Controls.$Bc);n.$R("Stage",Microsoft.Crm.Client.Core.ViewModels.Controls.$CA);n.$R("StageAdvanceAction",Microsoft.Crm.Client.Core.ViewModels.Controls.$7e);n.$R("StageNavigationAction",Microsoft.Crm.Client.Core.ViewModels.Controls.$C9);n.$R("ProxyProcessControl",Microsoft.Crm.Client.Core.ViewModels.Controls.$8M);n.$R("ProcessEntity",Microsoft.Crm.Client.Core.ViewModels.Controls.$Bb)};Microsoft.Crm.Client.Application.App.Features.$6d.prototype={$X8:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$X8.call(this);var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5();n.$R("InteractionWallViewModel",Microsoft.Crm.Client.Core.ViewModels.$82);n.$R("InteractionWallEventViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel);n.$R("InteractionWallDateRangeViewModel",Microsoft.Crm.Client.Core.ViewModels.$E6);n.$R("MultiplePieChartViewModel",Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel);n.$R("RadioButtonGroupViewModel",Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel);n.$R("RadioButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel);n.$R("ContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2Z);n.$R("InteractionCentricInlineLookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.$Ar);n.$R("InteractionCentricLookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel);n.$R("InteractionCentricLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$E1);n.$R("InteractionCentricMultipleSourceLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$E3);n.$R("AppliedFiltersViewModel",Microsoft.Crm.Client.Core.ViewModels.$9W);n.$R("InteractionCentricDashboardViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel);Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("DateRangeViewModel",Microsoft.Crm.Client.Core.ViewModels.$D5);Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("DateRangeFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$D3);Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("DateRangeGlobalFilterChildViewModel",Microsoft.Crm.Client.Core.ViewModels.$D4);Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$R("TagFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel);n.$R("QueueContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel);n.$R("QueuePanelViewModel",Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel);n.$R("QueueItemViewModel",Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel);n.$R("CardFormViewModel",Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel);n.$R("ImageButtonWrapperViewModel",Microsoft.Crm.Client.Core.ViewModels.$Dx);n.$R("FilterGraphViewModel",Microsoft.Crm.Client.Core.ViewModels.$AN);n.$R("GlobalFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$De);n.$R("ColumnLayoutViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cr);n.$R("GridCellLayoutViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Df);n.$R("TabLayoutViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$FD);n.$R("BaseLayoutViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Ck);n.$R("AppliedFiltersViewModel",Microsoft.Crm.Client.Core.ViewModels.$9W);n.$R("DashboardPickerViewModel",Microsoft.Crm.Client.Core.ViewModels.$D2);n.$R("InteractionCentricApplicationShellViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel);n.$R("HierarchicalSubjectViewModel",Microsoft.Crm.Client.Core.ViewModels.$AT);n.$R("DateViewModel",Microsoft.Crm.Client.Core.ViewModels.$A7);n.$R("DurationViewModel",Microsoft.Crm.Client.Core.ViewModels.$AC);n.$R("RangeSliderViewModel",Microsoft.Crm.Client.Core.ViewModels.$Et);n.$R("GlobalFilterPartyListLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$Dd);n.$R("GlobalFilterEditModeSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.$Dc);n.$R("GlobalFilterPartyListViewModel",Microsoft.Crm.Client.Core.ViewModels.$7V);n.$R("InteractionCentricCommunicationCardViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$Aq);n.$R("NavBarAssociatedViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel);n.$R("MultiSessionTabContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel);n.$R("ReferencePanelViewModel",Microsoft.Crm.Client.Core.ViewModels.$Bp);n.$R("NavBarAreaViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel);n.$R("NavBarGroupViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel);n.$R("NavBarSubAreaViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel);n.$R("NavBarSearchViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel);n.$R("NavBarUserInfoViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel);n.$R("NavBarMruViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel);n.$R("NavBarQuickCreateViewModel",Microsoft.Crm.Client.Core.ViewModels.$Ea);n.$R("NavBarSettingsViewModel",Microsoft.Crm.Client.Core.ViewModels.$Eb);n.$R("RichEditorViewModel",Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel);n.$R("InteractionCentricGridViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel);n.$R("AssociatedGridViewModel",Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel);n.$R("DropdownForGridViewModel",Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel);n.$R("GridFlyoutViewModel",Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel);n.$R("ComponentSwitcherViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cu);n.$R("QuickViewFormViewModel",Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel);n.$R("RefreshControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$Ev);n.$R("CollapseVisualFilterButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.$Cq);n.$R("InteractionCentricFormFooterViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel);n.$R("KbSearchControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$7Z);n.$R("InteractionCentricFormBodyViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel);n.$R("QuickActionViewModel",Microsoft.Crm.Client.Core.ViewModels.$Bl);n.$R("QuickActionButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.$Bk);n.$R("EmailAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel);n.$R("FilterBarViewModel",Microsoft.Crm.Client.Core.ViewModels.$DV);n.$R("ICTimerControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$7X);n.$R("InteractionCentricPartyListViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel);n.$R("InteractionCentricPartyListLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel);n.$R("InteractionCentricLookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel);n.$R("HybridGridControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$Dh);n.$R("ViewIdDisplayViewModel",Microsoft.Crm.Client.Core.ViewModels.$FR);n.$R("InteractionCentricGridControlViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel);n.$R("InteractionCentricGridControlHeaderViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel);n.$R("HierarchicalSubjectViewModel",Microsoft.Crm.Client.Core.ViewModels.$AT);n.$R("PagedListValidateViewModel",Microsoft.Crm.Client.Core.ViewModels.$Ej);Microsoft.Crm.Client.Application.App.Features.$6d.$3Lu(n);Microsoft.Crm.Client.Application.App.Features.$6d.$CP(n);Microsoft.Crm.Client.Application.App.Features.$6d.$1aS(n)}};Microsoft.Crm.Client.Application.App.Features.$Er=function(){Microsoft.Crm.Client.Application.App.Features.$Er.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Er.prototype={$X8:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5(),t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),f=this,i=function(){var r=new Microsoft.Crm.Client.Core.Models.ProcessControl.Factories.$Is,n={};n.DataSource=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3;n.ModelFactory=r;var i=new Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel,u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSwitchProcessListData",n),f=new Microsoft.Crm.Client.Core.ViewModels.$M(i,u);return i.$15z(f),new Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel(t,i)},e=this,r=function(n){var t=n;t.$14F()},o=this,u=function(n){var t=n;t.$Nq()};n.$CP(Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel.getName(),i,r,u);n.$R(Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel.getName(),Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel)}};Microsoft.Crm.Client.Application.App.Features.$FG=function(){this.$$d_$3F2=Function.createDelegate(this,this.$3F2);this.$$d_$3EV=Function.createDelegate(this,this.$3EV);this.$$d_$2Q6=Function.createDelegate(this,this.$2Q6);this.$$d_$2QG=Function.createDelegate(this,this.$2QG);this.$$d_$3NB=Function.createDelegate(this,this.$3NB);this.$$d_$1iI=Function.createDelegate(this,this.$1iI);Microsoft.Crm.Client.Application.App.Features.$FG.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$FG.prototype={get_$3NN:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()},get_$1Xq:function(){return"MobileClientTelemetry"},$X8:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$X8.call(this)},$18:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$18.call(this);Microsoft.Crm.Client.Core.Framework.Trace.$1NX(this.$$d_$1iI);Microsoft.Crm.Client.Core.Framework.$31.get_$5().add_$2Qe(this.$$d_$3NB);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$2OZ(this.$$d_$2QG);Microsoft.Crm.Client.Application.App.StartPage.set_$38F(this.$$d_$2Q6);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.set_$2eJ(this.$$d_$3EV);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().add_$2n0(this.$$d_$3F2)},$3F2:function(n,t){var i=t;Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$OY(i.$G,i.$1mM))},$2QG:function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Oe("Metadata_Sync_Complete"),r;i.$2dl(t.$1uh,t.$1ye);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&(r=Microsoft.Crm.Client.Core.Framework.$42.toString(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()),i.addEventParameter("FormFactor",r));Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i)},$2Q6:function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().reportEventImmediate(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$OJ)},$3EV:function(n,t,i){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Oj(n,t,i))},$1iI:function(n,t,i){if(t<=2){var r=i.get_$100(),u=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$OP(r.$c("s"),r.$c("l"),r.get_$WS(),r.$c("st"),r.$c("em"),r.$c("est"),r.$c("ci"));Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().reportEventImmediate(u)}},$3NB:function(n){var t=n(),r=null,i;try{r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K()}catch(u){Microsoft.Crm.Client.Core.Framework.Trace.logException(1004,u,u.message)}i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Of(t.$QN,t.$T3,t.$Tb,t.$1kC,t.$CB,t.$iM,t.$rO,r);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().reportEventImmediate(i);Microsoft.Crm.Client.Core.ViewModels.$3T.get_$5().$2T9(i.$12)}};Microsoft.Crm.Client.Application.App.Features.$EU=function(){Microsoft.Crm.Client.Application.App.Features.$EU.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$EU.prototype={$fc:!1,get_$3NN:function(){return!0},get_$1Xq:function(){return"MobileClientOfflineAutoOptin"},get_$12Q:function(){return this.$fc},$18:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$18.call(this);this.$fc=!0;(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x)&&(this.$fc=!1)}};Microsoft.Crm.Client.Application.App.Features.$EW=function(){Microsoft.Crm.Client.Application.App.Features.$EW.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$EW.prototype={$tx:!1,get_$3NN:function(){return!0},get_$1Xq:function(){return"MobileClientOffline"},get_$1sy:function(){return this.$tx},$2Rx:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$2Rx.call(this);this.$tx=!0;(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$5N()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.$x)&&(this.$tx=!1)}};Microsoft.Crm.Client.Application.App.Features.$EX=function(){Microsoft.Crm.Client.Application.App.Features.$EX.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$EX.prototype={$18:function(){Microsoft.Crm.Client.Application.App.Features.$2v.prototype.$18.call(this);Microsoft.Crm.Client.Core.ViewModels.Controls.$3J.get_instance().IsEnabled=!0}};Microsoft.Crm.Client.Application.App.Features.$E2=function(){Microsoft.Crm.Client.Application.App.Features.$E2.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$E2.prototype={get_$CH:function(){return Microsoft.Crm.Client.Application.App.Features.$2v.prototype.get_$CH.call(this)&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()},set_$CH:function(n){return Microsoft.Crm.Client.Application.App.Features.$2v.prototype.set_$CH.call(this,n),n}};Microsoft.Crm.Client.Application.App.Features.$Es=function(){Microsoft.Crm.Client.Application.App.Features.$Es.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Ee=function(){Microsoft.Crm.Client.Application.App.Features.$Ee.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$F4=function(){Microsoft.Crm.Client.Application.App.Features.$F4.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$EQ=function(){Microsoft.Crm.Client.Application.App.Features.$EQ.initializeBase(this)};Type.registerNamespace("Microsoft.Crm.Client.Application.App.ClientQualitySubscribers");Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g=function(){Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.initializeBase(this)};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.$$cctor=function(){Microsoft.Crm.Client.Application.App.$1v.$3Lt(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.get_$5())};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.$D)&&(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.$D=new Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g),Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.$D};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.set_$2eJ=function(n){if($0.$1(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.$19i))return Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.$19i=n,n;throw Error.invalidOperation("App crash listener delegate already bound");};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.prototype={$Zt:!1,$dQ:!1,$1uV:!1,$1Pk:!1,get_$1ki:function(){return this.$dQ},set_$1ki:function(n){return n!==this.$dQ&&(this.$dQ=n,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("CrashDetectionEnabled",{CrashDetectionEnabled:this.$dQ}),Microsoft.Crm.Client.Application.App.$1v.$2aX(this)),n},get_$1uW:function(){return this.$Zt},set_$1uW:function(n){return this.$Zt!==n&&(this.$Zt=n,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("MashupsDisabled",{MashupsDisabled:this.$Zt}),this.$AI("MashupEnabledUpdate",null)),n},get_$28l:function(){return this.$1Pk},$2aW:function(){Microsoft.Crm.Client.Application.App.$1v.$2aX(this)},add_$2OK:function(n){this.$2I("MashupEnabledUpdate",n)},remove_$2OK:function(n){this.$4N("MashupEnabledUpdate",n)},$39s:function(){return!this.$Zt},$3Lp:function(){this.$1uV||(this.$1uV=!0,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("MashupEncountered",{MashupEncountered:!0}))},get_$GM:function(){return this.$dQ&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$1uU()},$18:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t,i;return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$1uU()?(t=this,i=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$37T(),this.$37h()).then(function(){n.resolve(null)},function(t){Microsoft.Crm.Client.Core.Framework.$B.$1g("MashupManager_Initialize",1004,"Error initializing MashupManager: "+t.$E);n.reject(t)})):(this.$2aW(),n.resolve()),n.promise()},$2KR:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t,i;return this.$Zt?n.resolve(null):(t=this,i=this,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$LX("MashupEncountered").then(function(i){var r=!$0.$1(i)&&"MashupEncountered"in i&&i.MashupEncountered;r?Microsoft.Crm.Client.Core.Framework.$h.get_$5().$LX("MemoryCrashCount").then(function(i){var u=!$0.$1(i)&&"MemoryCrashCount"in i?i.MemoryCrashCount+1:1,f;$0.$1(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.$19i)||Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.$19i(t.$Zt,r,u);f=function(){Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("MemoryCrashCount",{MemoryCrashCount:u});Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("MashupEncountered",{MashupEncountered:!1});n.resolve(null)};u>=2?(t.$3UA(),f()):(t.$1vT(),f())},function(t){Microsoft.Crm.Client.Core.Framework.$B.$1g("MashupManager_HandlePreviousMemoryCrash",1004,"Error retrieving Session State Memory Crash Count"+t.$E);n.resolve(null)}):(Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("MemoryCrashCount",{MemoryCrashCount:0}),n.resolve(null))},function(t){Microsoft.Crm.Client.Core.Framework.$B.$1g("MashupManager_HandlePreviousMemoryCrash",1004,"Error retrieving Session State Mashup Encountered"+t.$E);n.resolve(null)})),n.promise()},$2KQ:function(){this.$1vT();var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4);return n.resolve(),Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("MemoryCrashCount",{MemoryCrashCount:0}),Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("MashupEncountered",{MashupEncountered:!1}),n.promise()},$37T:function(){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),n=this,i=this;return Microsoft.Crm.Client.Core.Framework.$h.get_$5().$LX("CrashDetectionEnabled").then(function(i){n.$dQ=!$0.$1(i)&&"CrashDetectionEnabled"in i?i.CrashDetectionEnabled:!0;n.$dQ||n.$2aW();t.resolve(null)},function(n){Microsoft.Crm.Client.Core.Framework.$B.$1g("MashupManager_Initialize",1004,"Error retrieving Session State CrashDetectionEnabled: "+n.$E);t.reject(n)}),t.promise()},$37h:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t=this,i=this;return Microsoft.Crm.Client.Core.Framework.$h.get_$5().$LX("MashupsDisabled").then(function(i){t.$Zt=!$0.$1(i)&&"MashupsDisabled"in i?i.MashupsDisabled:!1;n.resolve(null)},function(t){Microsoft.Crm.Client.Core.Framework.$B.$1g("MashupManager_Initialize",1004,"Error retrieving Session State MashupsDisabled: "+t.$E);n.reject(t)}),n.promise()},$3UA:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel,t=this,i=function(){t.$1Pk=!0;t.$1vT()},r=this,u=function(){r.set_$1uW(n.$1Ba);r.set_$1ki(!n.$1Bi);i()};n.$Dy=u;n.$JB=i;n.Show()},$1vT:function(){this.$1Pk=!0;this.$AI("MashupEnabledUpdate",null)},$AI:function(n,t){var i=this.$5j(n);i&&i(this,t)}};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W=function(n,t){this.$$d_$2oR=Function.createDelegate(this,this.$2oR);this.$$d_$2oQ=Function.createDelegate(this,this.$2oQ);this.$$d_$2bV=Function.createDelegate(this,this.$2bV);this.$$d_$2bU=Function.createDelegate(this,this.$2bU);this.$5n=n;t&&(t.add_$3GL(this.$$d_$2bU),t.add_$3GM(this.$$d_$2bV))};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.get_$5=function(){if($0.$1(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$D))throw Error.invalidOperation("OfflineManager.Instance cannot be accessed before OfflineManager.Initialize is called.");return Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$D};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$18=function(n,t){Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$D=$0.$1(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$D)?new Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W(n,t):Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$D};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$2YB=function(){var n=new Microsoft.Crm.Client.Core.Commands.$33(null,13);n.$J="syncerror";n.$1B={};n.$1B.ListDefinitionId="F1203E8B-6C6A-4210-906E-8428CB1FDE68";n.execute();n.dispose()};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.prototype={$5n:null,$1K8:function(){Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().set_$IU(!0);Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().set_$2MV(!1);($0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$aG())||Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$aG().$Lh===1&&!Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$aG().$PK)&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.set_$1WF(!0);Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.$18(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$D.$5n.get_$K());Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$EX&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.$16w();Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$1w7(this,new Microsoft.Crm.Client.Core.Storage.DataApi.$SM(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().get_$IU()));var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ok("MOCADataSyncUserOptedIn","","",0,"","User Opt-in enabled.",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),(new Date).toString(),"",0);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(n);Microsoft.Crm.Client.Core.Framework.$B.$C("UserOptedIn",4,"User Opt-in enabled")},$2PK:function(){Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().get_$IU()?Microsoft.Crm.Client.Core.ViewModels.$Z.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Offline_Information"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Offline_Information_Message"),0):Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$OA()>0?Microsoft.Crm.Client.Core.ViewModels.$Z.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Draft_Records_Warning"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Draft_Records_Message"),1):Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Offline"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Offline_Message"),0,this.$$d_$2oQ,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Settings_Diagnostics_Label_Enable"),null)},$2PL:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().get_$2MV()?Microsoft.Crm.Client.Core.ViewModels.$Z.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_OfflineOptOut_Information"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_OfflineOptOut_Information_Message"),0):Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().get_$IU()&&Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_OfflineOptOut"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_OfflineOptOut_Message"),0,this.$$d_$2oR,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Settings_Diagnostics_Label_Disable"),null):Microsoft.Crm.Client.Core.ViewModels.$Z.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_OfflineOptOut"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Offline_DisableSync_Information_Message"),0)},$2bU:function(){this.$2PK()},$2bV:function(){this.$2PL()},$2oQ:function(){this.$1K8()},$2oR:function(){Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.set_$12V(!0);Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.set_$1F0(!1);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$1w7(this,new Microsoft.Crm.Client.Core.Storage.DataApi.$SM(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().get_$IU()));Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$fW.$2hy(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$D.$5n.get_$K());Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$EX&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.$16w()},$1UM:function(n,t){if(n>0){var e=this,u=function(){Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$2YB()},f=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Sync_Status_Error_Message"),r="",i=f;$0.$1(t)||(r=Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Last_Save_To_CRM_Server_Text"),t.toString()),i=i+"\n\n"+r);Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Sync_Status_Dialog_Title"),i,0,null,u,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_OK_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Show_Details_Text"))}},$2US:function(n){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$6V().$2US(n)},$34b:function(){var n="";if(!$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$aG()))switch(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$aG().$PK){case 1:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_OfflineProfile_Not_Available");break;case 3:n=this.$1WS()?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Metadata_Changed_Text"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Metadata_Changed");break;case 2:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Offline_DB_Not_Available");break;case-1:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Sync_Failure");break;case-2:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Upgrade_Client")}return n},$32u:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$aG()},$1WS:function(){return $0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$fW)||$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$fW.get_$13Y())?!1:Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$fW.get_$13Y().$1WS()},$2I5:function(n){return Xrm.Utility.isEntityOfflineSyncEnabled(n)?1:Xrm.Utility.isEntityOfflineDisabled(n)?2:0},$2Je:function(){return new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["syncerror".toLowerCase()])}};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X=function(){this.$$d_$1vO=Function.createDelegate(this,this.$1vO);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X.initializeBase(this);this.$1YF=this.$$d_$1vO;this.$Oi=!1};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X.get_$5=function(){return $0.$1(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X.$D)&&(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X.$D=new Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X),Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X.$D};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X.prototype={$Oi:!1,$1YF:null,get_$u1:function(){return this.$Oi},set_$u1:function(n){return n!==this.$Oi&&(this.$Oi=n,Microsoft.Crm.Client.Core.Framework.$h.get_$5().$RK("PaneStackingEnabledKey",{PaneStackingEnabledKey:this.$Oi}),this.$8("IsStackingEnabled")),n},$1vO:function(){this.$382();Microsoft.Crm.Client.Application.App.$3x.get_$5().remove_$1vO(this.$1YF)},$382:function(){var n=this,t=this;Microsoft.Crm.Client.Core.Framework.$h.get_$5().$LX("PaneStackingEnabledKey").then(function(t){n.$Oi=!$0.$1(t)&&"PaneStackingEnabledKey"in t?t.PaneStackingEnabledKey:!1},function(n){Microsoft.Crm.Client.Core.Framework.$B.$1g("PaneStackingManager_Initialize",1004,"Error retrieving Session State IsStackingEnabled: "+n.$E)})}};Microsoft.Crm.Client.Core.ViewModels.$Lj.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Lj",null,Microsoft.Crm.Client.Core.ViewModels.$HO);Microsoft.Crm.Client.Application.App.$MS.registerClass("Microsoft.Crm.Client.Application.App.$MS");Microsoft.Crm.Client.Application.App.$Lu.registerClass("Microsoft.Crm.Client.Application.App.$Lu",null,Microsoft.Crm.Client.Core.ViewModels.$HH);Microsoft.Crm.Client.Application.App.ShimEmailContextChangedHandler.registerClass("Microsoft.Crm.Client.Application.App.ShimEmailContextChangedHandler");Microsoft.Crm.Client.Application.App.$3x.registerClass("Microsoft.Crm.Client.Application.App.$3x",Microsoft.Crm.Client.Core.Framework.$BN);Microsoft.Crm.Client.Application.App.$1v.registerClass("Microsoft.Crm.Client.Application.App.$1v");Microsoft.Crm.Client.Application.App.$1o.registerClass("Microsoft.Crm.Client.Application.App.$1o");Microsoft.Crm.Client.Application.App.$17.registerClass("Microsoft.Crm.Client.Application.App.$17");Microsoft.Crm.Client.Application.App.$10.registerClass("Microsoft.Crm.Client.Application.App.$10",null,Microsoft.Crm.Client.Core.Framework.Common.$I2);Microsoft.Crm.Client.Application.App.$3q.registerClass("Microsoft.Crm.Client.Application.App.$3q",Microsoft.Crm.Client.Core.Framework.$BN,Microsoft.Crm.Client.Core.Framework.$HK,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Application.App.$6Y.registerClass("Microsoft.Crm.Client.Application.App.$6Y");Microsoft.Crm.Client.Application.App.$55.registerClass("Microsoft.Crm.Client.Application.App.$55");Microsoft.Crm.Client.Application.App.$j.registerClass("Microsoft.Crm.Client.Application.App.$j");Microsoft.Crm.Client.Application.App.Automation.registerClass("Microsoft.Crm.Client.Application.App.Automation");Microsoft.Crm.Client.Application.App.$2V.registerClass("Microsoft.Crm.Client.Application.App.$2V");Microsoft.Crm.Client.Application.App.ShimBackHandler.registerClass("Microsoft.Crm.Client.Application.App.ShimBackHandler");Microsoft.Crm.Client.Application.App.$13.registerClass("Microsoft.Crm.Client.Application.App.$13",Microsoft.Crm.Client.Core.Framework.$BN,Microsoft.Crm.Client.Core.Framework.$B2);Microsoft.Crm.Client.Application.App.$2Q.registerClass("Microsoft.Crm.Client.Application.App.$2Q");Microsoft.Crm.Client.Application.App.$6m.registerClass("Microsoft.Crm.Client.Application.App.$6m",null,Microsoft.Crm.Client.Core.Framework.$Ax);Microsoft.Crm.Client.Application.App.StartPage.registerClass("Microsoft.Crm.Client.Application.App.StartPage");Microsoft.Crm.Client.Application.App.$4i.registerClass("Microsoft.Crm.Client.Application.App.$4i",null,Microsoft.Crm.Client.Core.Framework.$Hl);Microsoft.Crm.Client.Application.App.$Pe.registerClass("Microsoft.Crm.Client.Application.App.$Pe",Microsoft.Crm.Client.Application.App.$4i);Microsoft.Crm.Client.Application.App.Components.$7n.registerClass("Microsoft.Crm.Client.Application.App.Components.$7n",null,Microsoft.Crm.Client.Core.Framework.$Hk);Microsoft.Crm.Client.Application.App.Components.$71.registerClass("Microsoft.Crm.Client.Application.App.Components.$71");Microsoft.Crm.Client.Application.App.Components.$Lv.registerClass("Microsoft.Crm.Client.Application.App.Components.$Lv",null,Microsoft.Crm.Client.Core.Framework.$Hk);Microsoft.Crm.Client.Application.App.Components.$4I.registerClass("Microsoft.Crm.Client.Application.App.Components.$4I",null,Microsoft.Crm.Client.Core.Framework.$Hk);Microsoft.Crm.Client.Application.App.Features.$2v.registerClass("Microsoft.Crm.Client.Application.App.Features.$2v");Microsoft.Crm.Client.Application.App.Features.$Ci.registerClass("Microsoft.Crm.Client.Application.App.Features.$Ci",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$Cj.registerClass("Microsoft.Crm.Client.Application.App.Features.$Cj",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$DA.registerClass("Microsoft.Crm.Client.Application.App.Features.$DA",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$DB.registerClass("Microsoft.Crm.Client.Application.App.Features.$DB",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$DH.registerClass("Microsoft.Crm.Client.Application.App.Features.$DH",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$DI.registerClass("Microsoft.Crm.Client.Application.App.Features.$DI",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$ER.registerClass("Microsoft.Crm.Client.Application.App.Features.$ER",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$Ek.registerClass("Microsoft.Crm.Client.Application.App.Features.$Ek",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$EV.registerClass("Microsoft.Crm.Client.Application.App.Features.$EV",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$En.registerClass("Microsoft.Crm.Client.Application.App.Features.$En",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$FF.registerClass("Microsoft.Crm.Client.Application.App.Features.$FF",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$FT.registerClass("Microsoft.Crm.Client.Application.App.Features.$FT",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$D0.registerClass("Microsoft.Crm.Client.Application.App.Features.$D0",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$DM.registerClass("Microsoft.Crm.Client.Application.App.Features.$DM",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$DS.registerClass("Microsoft.Crm.Client.Application.App.Features.$DS",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$a.registerClass("Microsoft.Crm.Client.Application.App.Features.$a");Microsoft.Crm.Client.Application.App.Features.FeatureName.registerClass("Microsoft.Crm.Client.Application.App.Features.FeatureName");Microsoft.Crm.Client.Application.App.Features.$7b.registerClass("Microsoft.Crm.Client.Application.App.Features.$7b",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$D7.registerClass("Microsoft.Crm.Client.Application.App.Features.$D7",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$6d.registerClass("Microsoft.Crm.Client.Application.App.Features.$6d",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$Er.registerClass("Microsoft.Crm.Client.Application.App.Features.$Er",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$FG.registerClass("Microsoft.Crm.Client.Application.App.Features.$FG",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$EU.registerClass("Microsoft.Crm.Client.Application.App.Features.$EU",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$EW.registerClass("Microsoft.Crm.Client.Application.App.Features.$EW",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$EX.registerClass("Microsoft.Crm.Client.Application.App.Features.$EX",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$E2.registerClass("Microsoft.Crm.Client.Application.App.Features.$E2",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$Es.registerClass("Microsoft.Crm.Client.Application.App.Features.$Es",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$Ee.registerClass("Microsoft.Crm.Client.Application.App.Features.$Ee",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$F4.registerClass("Microsoft.Crm.Client.Application.App.Features.$F4",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.Features.$EQ.registerClass("Microsoft.Crm.Client.Application.App.Features.$EQ",Microsoft.Crm.Client.Application.App.Features.$2v);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.registerClass("Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g",Microsoft.Crm.Client.Core.Framework.$BN,Microsoft.Crm.Client.Core.Framework.$HJ,Microsoft.Crm.Client.Core.Framework.$HG,Microsoft.Crm.Client.Application.App.$H3);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.registerClass("Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W",null,Microsoft.Crm.Client.Core.Framework.$HN);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X.registerClass("Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X",Microsoft.Crm.Client.Core.Framework.$BN,Microsoft.Crm.Client.Core.Framework.$HX,Microsoft.Crm.Client.Core.Framework.$HG);Microsoft.Crm.Client.Application.App.$Lu.$$cctor();Microsoft.Crm.Client.Application.App.ShimEmailContextChangedHandler.$D=null;Microsoft.Crm.Client.Application.App.$3x.$D=null;Microsoft.Crm.Client.Application.App.$1v.$9d=!1;Microsoft.Crm.Client.Application.App.$1v.$UL=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Application.App.$H3));Microsoft.Crm.Client.Application.App.$1o.$1iU=Microsoft.Crm.Client.Application.App.$1o.$2eG;Microsoft.Crm.Client.Application.App.$1o.$25R=Microsoft.Crm.Client.Application.App.$1o.$2Zx;Microsoft.Crm.Client.Application.App.$1o.$1Nl=Microsoft.Crm.Client.Application.App.$1o.$2eI;Microsoft.Crm.Client.Application.App.$1o.$25Q=Microsoft.Crm.Client.Application.App.$1o.$2eF;Microsoft.Crm.Client.Application.App.$1o.$1Wm=null;Microsoft.Crm.Client.Application.App.$17.$1jy="ClientReady";Microsoft.Crm.Client.Application.App.$17.$YA="AppCacheUpdateCompleted";Microsoft.Crm.Client.Application.App.$17.$kn=null;Microsoft.Crm.Client.Application.App.$17.$rf=!1;Microsoft.Crm.Client.Application.App.$17.$1jz=[Microsoft.Crm.Client.Application.App.$17.$1jy,Microsoft.Crm.Client.Application.App.$17.$YA];Microsoft.Crm.Client.Application.App.$17.$1AV=new Array(0);Microsoft.Crm.Client.Application.App.$10.$D=null;Microsoft.Crm.Client.Application.App.$3q.$D=null;Microsoft.Crm.Client.Application.App.$55.$D=null;Microsoft.Crm.Client.Application.App.$j.$2B6=[0,2,3,4,5,6];Microsoft.Crm.Client.Application.App.$j.$9J=null;Microsoft.Crm.Client.Application.App.$j.$ws=null;Microsoft.Crm.Client.Application.App.$j.$23C=["Initializing","UserEducationHeaderTitle","UserEducationTip1","UserEducationTip2","UserEducationTip3"];Microsoft.Crm.Client.Application.App.$j.$2aj=["SyncProgressIndicator","UserEducationHeaderTitle_Phone","StepProgressIndicator","SyncProgressIndicatorTextStep1","SyncProgressIndicatorTextStep2","SyncProgressIndicatorTextStep3","SyncProgressIndicatorTextStep4","SyncProgressIndicatorTextStep5"];Microsoft.Crm.Client.Application.App.$j.$1uX=5;Microsoft.Crm.Client.Application.App.$j.$1BB=0;Microsoft.Crm.Client.Application.App.Automation.$1uZ=0;Microsoft.Crm.Client.Application.App.Automation.$n2=0;Microsoft.Crm.Client.Application.App.Automation.$n1=null;Microsoft.Crm.Client.Application.App.ShimBackHandler.$D=null;Microsoft.Crm.Client.Application.App.$13.$D=null;Microsoft.Crm.Client.Application.App.$2Q.$2NT=["1028","1041","2052","3076","1081","1042","1054"];Microsoft.Crm.Client.Application.App.$2Q.$2BM=["1028","1041","2052","3076","1042"];Microsoft.Crm.Client.Application.App.StartPage.$7z=null;Microsoft.Crm.Client.Application.App.StartPage.$1ET=null;Microsoft.Crm.Client.Application.App.StartPage.$1xm=!1;Microsoft.Crm.Client.Application.App.StartPage.$3Vu=["Transfer_Reattempt_Prompt_Title","Transfer_Reattempt_Prompt_Message","Transfer_Reattempt_Prompt_Ok","Transfer_Reattempt_Prompt_Cancel"];Microsoft.Crm.Client.Application.App.StartPage.$eD=!1;Microsoft.Crm.Client.Application.App.StartPage.$1sG=!0;Microsoft.Crm.Client.Application.App.StartPage.$1xl=Microsoft.Crm.Client.Application.App.StartPage.$3Kj;Microsoft.Crm.Client.Application.App.StartPage.$vq=Microsoft.Crm.Client.Application.App.StartPage.$2UC;Microsoft.Crm.Client.Application.App.StartPage.$sC=null;Microsoft.Crm.Client.Application.App.StartPage.$1dj=0;Microsoft.Crm.Client.Application.App.StartPage.$1sb=!1;Microsoft.Crm.Client.Application.App.StartPage.$u2=!1;Microsoft.Crm.Client.Application.App.StartPage.$1tC=!1;Microsoft.Crm.Client.Application.App.$4i.$D=null;Microsoft.Crm.Client.Application.App.Features.$a.$D=null;Microsoft.Crm.Client.Application.App.Features.FeatureName.guidedHelp="GuidedHelp";Microsoft.Crm.Client.Application.App.Features.FeatureName.ishGuidedHelp="ISHGuidedHelp";Microsoft.Crm.Client.Application.App.Features.FeatureName.marsLegacyClientEnabled="MarsLegacyClientEnabled";Microsoft.Crm.Client.Application.App.Features.FeatureName.appModuleForOrganization="AppModuleForOrganization";Microsoft.Crm.Client.Application.App.Features.FeatureName.appModuleMOCAForScaleGroup="AppModuleMOCAForScaleGroup";Microsoft.Crm.Client.Application.App.Features.FeatureName.$1iR=["EditableGridControlPbl","EditableGridControlJsEvents","MobileClientMashup","GuidedHelp","ISHGuidedHelp","AppModuleForOrganization","AppModuleMOCAForScaleGroup","MobileClientTelemetry","CortanaProactiveExperience","CustomControlMobile","TaskBasedFlow","ProcessUnification","ExportToExcelMobile","ExcelDocumentTemplate","WordDocumentTemplate","AppLinking","ISHMetadataOnDemand","InteractionCentricDashboard","PrivilegeBasedMetadataSync","MobileClientOffline","MobileClientOfflineAutoOptin","MobileClientTheming","KnowledgeArticle","ServiceCaseTopicAnalysis","AdvancedSimilaritySearch","OfficeMailApp","OfficeMailAppMobile","OfficeMailAppMetadata","SSSCustomProperty","ElasticSearch","SLAV2","InteractionCentricMultiEntityChartsFeature","DocumentRecommendations","SSSReliablePromote","ProductRecommendations","AssociatedGridURLAddressability","EnableControlMappings","LookupRelationshipFilters","WebResourceAndIFrameOnISH","InteractionCentricLookupAutoResolve","QuickFindSearchOnISH","InteractionCentricEmailLink","OneDriveIntegration","SharePointS2S","EmailEngagement","LandingPage","DeviceIntegration","PowerBI","AutoDataCapture","FlowIntegration","PaneStackingOnPhones","MobileClientDeviceIntegration","ActionCard","NonBaseActionCard","AuthenticatedMashups","OfficeMailAppEmailEngagement","OfficeMailAppRestApi","LockFormOnRefresh"];Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.$19i=null;Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.$D=null;Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2g.$$cctor();Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2W.$D=null;Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$4X.$D=null
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Application.App.js.srcmap
Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$Db=function(n){this.$$d_$3Lh=Function.createDelegate(this,this.$3Lh);this.$$d_$1FY=Function.createDelegate(this,this.$1FY);this.$$d_$2Nk=Function.createDelegate(this,this.$2Nk);this.$EZ=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;Microsoft.Crm.Client.Core.ViewModels.$Db.initializeBase(this);this.$Wt=n};Microsoft.Crm.Client.Core.ViewModels.$Db.prototype={$Wt:null,$1xS:null,$2lt:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Framework.$4);return n.resolve(new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V))(this.$1xS)),n.promise()},$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$3m,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1z6(this.$Wt),this.$$d_$2Nk,this.$$d_$1FY),1},$3Lh:function(){window.location.reload(!1)},$3UI:function(){this.$EZ.$GL=0;this.$EZ.$Fu=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Mobile_Preview_No_Records_Title");this.$EZ.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Mobile_Preview_No_Records_Message"));this.$EZ.$Bv=0;this.$EZ.$Ie=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Mobile_Preview_No_Records_Refresh_Button");this.$EZ.$Dy=this.$$d_$3Lh;this.$EZ.Show()},$2Nk:function(n){var t,i,r;if(this.$1xS=n.$1aJ,t=n.$1aJ[0],t.$4u===2&&n.$1Kl===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()){this.$3UI();return}i=new Xrm.Objects.EntityReference(t.$6o,new Microsoft.Crm.Client.Core.Framework.Guid(n.$1Kl));r=this.$A_3;r.get_ExternalContext().$T.EntityReference=i;this.$vr(this.$2lt())},$1FY:function(n){this.$21(n)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O=function(){this.$$d_$sc=Function.createDelegate(this,this.$sc);this.$$d_$2QS=Function.createDelegate(this,this.$2QS);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("ResolveRecipients",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$B=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O;return i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hZ,Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$1Ip(i,t),i};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$1Ip=function(n,t){var i,u,r;if(!$0.$1(t)&&(i=t,!$0.$1(i.QueryValue)&&Object.isInstanceOfType(i.QueryValue))){if(u=i.QueryValue,r=u.resolveFromScratch,!$0.$1(r)){n.$ql=r;return}n.$ql=!1}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.prototype={get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},get_$2g:function(){return this.get_$7G().$2r},$4q:null,$Kh:null,$ab:null,$ql:!1,$31:function(){return(this.$2fE(),this.$2Yi(),!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20)?(this.$sc(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),0):(this.$1j(Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonResponses.$7U,this.$3P0(),this.$$d_$2QS,this.$$d_$sc),1)},$2fE:function(){this.get_$7G().$2r.set_$1yp(1)},$2QS:function(n){this.$ab=n;this.$2gN();this.$15D()},$2gN:function(){var n=this.$ql?new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)):this.$3ck(this.get_$2g()),t=this.$3ck(this.$ab);this.$Kh=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$3bT;this.$Kh.$x3=this.$2HJ(n,t);this.$Kh.$18g=this.$2HJ(t,n)},$3ck:function(n){var t=this.$3WQ(n);return t.get_Count()>1&&t.$DR(this.get_$2g().$1M2.toLowerCase()),t},$3Wt:function(){this.get_$2g().$cF=this.$ab.$PZ;this.get_$2g().$1Mx=this.$ab.$Uy;this.get_$2g().$1Kw=this.$ab.$xB;this.get_$2g().$1Ks=this.$ab.$x9;this.get_$2g().$ju=this.$ab.$ju;this.get_$2g().$Xx=this.$ab.$Xx;this.get_$2g().$Xr=this.$ab.$Xr},$15D:function(){if($0.$1(Mscrm.InlinedAppData.senderData))if($0.$9g(Mscrm.InlinedAppData.senderData)){var n=this;this.$2IU().done(function(t){var i=t?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(t).get_entities():null;n.$6B(i);Mscrm.InlinedAppData.senderData=null})}else this.$3Nt();else this.$6B(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(Mscrm.InlinedAppData.senderData).get_entities()),Mscrm.InlinedAppData.senderData=null},$3Nt:function(){if(!this.$Kh.$x3.get_Count()){this.$6B(null);return}var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1yo(this.$Kh.$x3.toArray()).then(function(t){n.$6B(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(t).get_entities())},function(n){t.$sc(Microsoft.Crm.Client.Core.Framework.$4.$3bY(n,"Request to the CRM server failed with an error."))})},$300:function(){for(var n,f,r,u=this.$Kh.$18g,t=this.get_$7G().get_$RE().$22N(),i=0;i<u.get_Count();i++)for(n=t.length-1;n>0;n--)f=this.get_$7G().get_$RE().get_$I(n),r=f.getValue("mailappemailaddress"),$0.$1(r)||r.toLowerCase()!==u.get_$I(i)||Array.removeAt(t,n);return t},$bM:function(n){var i=new Array(0),t;if(!$0.$1(n))for(t=0;t<n.length;t++)Array.add(i,n[t].$9b);return i},$3P0:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonResponses.$7U,Microsoft.Crm.Client.Core.Framework.$4),t,i;return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20||n.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().clearRecipients(),t=this,i=this,Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().getRecipients().then(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise()},$2IU:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),t,i;return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20||n.reject(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),t=this,i=this,Microsoft.Crm.Client.Core.Storage.Office.$1f.get_$5().getInitialSenderData().then(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise()},$sc:function(n){n.$z===-2147093999&&(n.$z=-2147093997);this.get_$7G().$2r.set_$1yp(2);this.$2DZ(n);this.$21(n)},$6B:function(n){if(this.$Kh.get_$2cm()||this.$ql){var t;t=this.$ql?new Array(0):this.$300();$0.$1(n)||Array.addRange(t,this.$3WP(n));this.$3Wt();this.$3UK();this.get_$7G().get_$RE().$7p(t)}this.get_$7G().$2r.set_$1yp(3);this.$2Da(n);this.$1Y()},$3WP:function(n){for(var u,i=new Array(0),r=n,f=r.length,t=0;t<f;++t)u=r[t],i.push(this.get_$7G().$1HE.$2Zf(u));return i},$3UK:function(){if(!this.$ql&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()){var n=this.$33n();Microsoft.Crm.Client.Core.Framework.$3.$9(n)||this.get_$7G().$9X.showNotification(n,0)}},$33n:function(){return this.$Kh.get_$3G1()?this.get_$2g().get_$Ct()!==1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Recipients_Added"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Attendees_Added"):this.$Kh.get_$3G2()?this.get_$2g().get_$Ct()!==1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Recipients_Removed"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Attendees_Removed"):this.$Kh.get_$2cl()?this.get_$2g().get_$Ct()!==1?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Recipients_Added_And_Removed"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_OWA_Attendees_Added_And_Removed"):null},$3WQ:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i;return Microsoft.Crm.Client.Core.Models.MailApp.$DK.isInstanceOfType(n)&&(t=this.$3WO(n)),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonResponses.$7U.isInstanceOfType(n)&&(t=this.$3WR(n)),this.$3Ux(t),i=this,Microsoft.Crm.Client.Core.Framework.$5y.$2BF(String,t,function(n,t){return n===t})},$3WO:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return $0.$1(n.$cF)||t.add(n.$cF.$9b),t.addRange(this.$bM(n.$1Mx)),t.addRange(this.$bM(n.$1Kw)),t.addRange(this.$bM(n.$1Ks)),t.addRange(this.$bM(n.$Xx)),t.addRange(this.$bM(n.$Xr)),t},$3WR:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return $0.$1(n.$PZ)||t.add(n.$PZ.$9b),t.addRange(this.$bM(n.$Uy)),t.addRange(this.$bM(n.$xB)),t.addRange(this.$bM(n.$x9)),t.addRange(this.$bM(n.$Xx)),t.addRange(this.$bM(n.$Xr)),t},$3Ux:function(n){for(var t=0;t<n.get_Count();t++)n.set_$I(t,n.get_$I(t).toLowerCase())},$2HJ:function(n,t){for(var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i=0;i<t.get_Count();i++)n.$1Aj(t.get_$I(i))||r.add(t.get_$I(i));return r},$2Yi:function(){this.$4q=new Microsoft.Crm.Client.Core.Framework.$5o("MailAppAction",{Action:"ResolveRecipientsAction"});Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$iO(this.$4q)},$2Da:function(n){$0.$1(this.$4q)||(this.$4q.p.Resolved=!0,this.$4q.p.ResolvedRecords=n,Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(this.$4q.rid),this.$4q=null)},$2DZ:function(n){$0.$1(this.$4q)||(this.$4q.p.Resolved=!1,this.$4q.p.ErrorCode=n.$z,this.$4q.p.ErrorMessage=n.$E,Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(this.$4q.rid),this.$4q=null)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$3bT=function(){};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$3bT.prototype={$x3:null,$18g:null,get_$1NQ:function(){return!$0.$1(this.$x3)&&this.$x3.get_Count()>0},get_$1ag:function(){return!$0.$1(this.$18g)&&this.$18g.get_Count()>0},get_$3G1:function(){return this.get_$1NQ()&&!this.get_$1ag()},get_$3G2:function(){return!this.get_$1NQ()&&this.get_$1ag()},get_$2cl:function(){return this.get_$1NQ()&&this.get_$1ag()},get_$2cm:function(){return this.get_$1NQ()||this.get_$1ag()}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction=function(n){Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.initializeBase(this);this.$Uf=n};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEmailEngagementSummary",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$B)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$B=function(n){return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction(n)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.prototype={$Uf:null,get_$7G:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$31:function(){if(this.$Uf.$Gs)return this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("Retrieving email engagement summary is in proccess")),0;this.$Uf.$Gs=!0;var i="<fetch returntotalrecordcount='true' mapping=\"logical\" count=\"100\"><entity name='email' > <attribute name='activityid' /><attribute name='opencount' /><attribute name='replycount' /><attribute name='modifiedon' /><attribute name='isemailfollowed' /><attribute name='inreplyto' /><filter type=\"and\"><condition attribute=\"activityid\" operator=\"eq\" value=\""+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$6C(this.get_$7G().$2r.$5V.$8T)+"\"/><\/filter><order attribute='modifiedon' descending='true' /><\/entity><\/fetch>",r=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(i,null),n=this,t=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(r,Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),this.get_$f()).then(function(t){var r,i,u;t&&(r=t.get_entities(),r.length&&(i=r[0],n.$Uf.set_OpenCount(i.getValue("opencount")),n.$Uf.set_ReplyCount(i.getValue("replycount")),n.$Uf.set_LastActivityDate(i.getValue("modifiedon")),n.$Uf.$Xa=i.getValue("activityid").toString(),u=!Microsoft.Crm.Client.Core.Framework.$3.$9(i.getValue("inreplyto")),n.$3TR(u)));n.$Uf.$Gs=!1;n.$1Y()},function(n){t.$Uf.$Gs=!1;t.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("An error retrieving email engagement summary. Error message: \n\n {0}",n.$E))}),1},$3TR:function(n){var t=n&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode(),i=this.get_$7G().$2r.$5V.$Rq,r=i&&this.get_$7G().$2r.$qM;this.$Uf.set_ShowSummary(t||r)}};Type.registerNamespace("Microsoft.Crm.Client.Application.ViewModels");Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction=function(){this.$$d_$1ii=Function.createDelegate(this,this.$1ii);this.$$d_$25o=Function.createDelegate(this,this.$25o);Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("AssociateOneToMany",Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$B)};Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction,r=t;return i.$T=r.QueryValue,i.$9p=r.OnSuccess,i.$BL=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.prototype={$9p:null,$BL:null,$T:null,$31:function(){var i=this.$T.parentReference,r=this.$T.childReference,n=this.$T.relationshipAttributeName,o=this.$T.newRecordSelected,u=Microsoft.Crm.Client.Core.Framework.$G.$b("","AssociateOneToMany"),f,e,t;return $0.$1(n)?(f=Microsoft.Crm.Client.Core.Framework.$4.$1SG(null),this.$1ii(f)):(e=[n],t=this,this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(r,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(e),Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),u),function(f){var c=i.LogicalName==="territory"&&r.LogicalName==="systemuser"&&n==="territoryid",e,s,h;f.hasValue(n)&&!c?(e=f.getValue(n),s=e.Id,s.equals(i.Id)?t.$25o(r):(h=parseInt(o?"0x80631119":"0x80048478",16),t.$1ii(Microsoft.Crm.Client.Core.Framework.$4.$mC(h)))):(f.initializeValue(n,i,6),f.$4P.addRange([n]),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7p(f.$N,f,!0,u).then(t.$$d_$25o,t.$$d_$1ii))},this.$$d_$1ii)),1},$25o:function(n){this.$9p(n);this.$1Y()},$1ii:function(n){this.$BL(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction=function(){this.$$d_$2ex=Function.createDelegate(this,this.$2ex);Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("AssociateRecords",Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$B)};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction,i=n;return t.$A_3=i,t.$P=i.$$d_$3EX,t};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.prototype={$P:null,$Fh:function(n,t,i,r,u,f){var e,o,s,h,c;i?i===1&&(h=this,c=this,Xrm.XrmUtilityWrapper.$25n(n,t,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelationshipReference(u,r,f,i),function(){h.$25l()},function(n){c.$21(Microsoft.Crm.Client.Core.Framework.$4.$2t2(n.$6k.$6e,n.$6k.get_message()))})):(e={},e.parentReference=n,e.childReference=t,e.relationshipAttributeName=r,o=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AssociateOneToMany",e),s=this,o.OnSuccess=function(){s.$25l()},o.OnFailure=this.$$d_$2ex,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",null,o))},$31:function(){var n=this.$A_3,t=n.$NA,i=n.$Io;return this.$Fh(t,i,n.$5h,n.$7n,n.$5y,n.$A3),1},$25l:function(){$0.$1(this.$P)||this.$P();this.$1Y()},$2ex:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$Bx=function(n,t,i){this.$$d_$2QA=Function.createDelegate(this,this.$2QA);Microsoft.Crm.Client.Application.ViewModels.$Bx.initializeBase(this);this.$5n=n;this.$WU=t;this.$DZ=i;this.$A_3=i;var r=this.$DZ;this.$P=r.$$d_$4e||(r.$$d_$4e=Function.createDelegate(r,r.$4e))};Microsoft.Crm.Client.Application.ViewModels.$Bx.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveSwitchProcessListData",Microsoft.Crm.Client.Application.ViewModels.$Bx.$AU)};Microsoft.Crm.Client.Application.ViewModels.$Bx.$AU=function(n,t){var r=n,i=t.QueryValue,u=i.DataSource,f=i.ModelFactory;return new Microsoft.Crm.Client.Application.ViewModels.$Bx(u,f,r)};Microsoft.Crm.Client.Application.ViewModels.$Bx.prototype={$5n:null,$WU:null,$DZ:null,$31:function(){var n=this.$DZ.get_$1lR(),t=this.$DZ.get_$1lU(),i=this.get_$f(),r=this.$5n.$hY(n,t,i);return this.$1j(Object,r,this.$$d_$2QA,this.$$d_$5O),1},$2QA:function(n){this.$DZ.set_$1df(this.$WU.$29w(n));this.$4e(this.$DZ.get_$1df().get_$2Bd())}};Microsoft.Crm.Client.Application.ViewModels.$B8=function(n){this.$$d_$2QA=Function.createDelegate(this,this.$2QA);Microsoft.Crm.Client.Application.ViewModels.$B8.initializeBase(this);this.$DZ=n;var t=this.$DZ;this.$P=t.$$d_$4e||(t.$$d_$4e=Function.createDelegate(t,t.$4e));this.$A_3=n};Microsoft.Crm.Client.Application.ViewModels.$B8.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("LoadArchivedProcessListData",Microsoft.Crm.Client.Application.ViewModels.$B8.$AU)};Microsoft.Crm.Client.Application.ViewModels.$B8.$AU=function(n,t){var i=t.TargetViewModel;return new Microsoft.Crm.Client.Application.ViewModels.$B8(i)};Microsoft.Crm.Client.Application.ViewModels.$B8.prototype={$DZ:null,$31:function(){var t=this.$DZ.get_$1lR(),i=this.$DZ.get_$1lU(),r=this.get_$f(),n=this.$25Z();return this.$1j(Object,n,this.$$d_$2QA,this.$$d_$5O),1},$2QA:function(){this.$DZ.$3Nf();this.$4e(this.$DZ.get_Root().$nF?this.$DZ.get_$1df().get_$2Bd():this.$DZ.get_$1df().get_$25Z())},$25Z:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4);return n.resolve(),n}};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("ExportToExcelAction",Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$B)};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$B=function(n,t){var r=n,i=new Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction;return i.$P=t.SuccessCallbackParameter,i.$1M_3=t.FailureCallbackParameter,i.$22=r,i};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.prototype={$P:null,$22:null,$31:function(){var n=new Microsoft.Crm.Client.Core.Framework.Guid(this.$22.get_DefinitionId()),t=this.$22.$Aq===1||!this.$22.$Aq?"savedquery":"userquery",i=new Xrm.Objects.EntityReference(t,n);return this.$1j(Xrm.Sdk.Response,this.$2tf(i),this.$$d_$4e,this.$$d_$21),1},$31T:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C("",this.$22.get_ModelContext().get_Id()),t=$.extend(!1,{},this.$22.$2W);return n.$9N=t,n.$K4(this.$22.get_ModelContext().get_Id(),this.$22.$9c,this.$22.$BW,this.$22.$2N,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V()),n.$9N.$A9(1)},$2tf:function(n){var i=this.$22.get_ModelContext()?this.$31T():"",t=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$4),r=Xrm.Internal.messages.exportToExcel(n,i,"","",{}),u=this,f=this;return r.then(function(n){t.resolve(n)},function(n){t.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(n.$6k.$6e))}),t},$4e:function(n){this.$P(n.excelFile);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$2oc=Function.createDelegate(this,this.$2oc);Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("GetLookupListItemDescriptor",Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$B)};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction,f=n,e,r,u;return i.$P=f.$$d_$32C,i.$A_3=f,e=t,r=e.QueryValue,i.$1Q=r.EntityName,u=r.ViewQuery,i.$Ix=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.isInstanceOfType(u)?r.ViewQuery.$A9(1):u,i.$NI=r.ViewLayout,i};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2ph=function(n){return n.indexOf(".")>0?n.split(".")[0]:null};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2TX=function(n){return n.indexOf(".")>0?n.split(".")[1]:n};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.prototype={$P:null,$1Q:null,$NI:null,$Ix:null,$1ex:null,$1O6:null,get_$3YT:function(){return $0.$1(this.$1ex)&&(this.$1ex=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(this.$Ix)),this.$1ex},$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$1Q,this.get_$f()),this.$$d_$2oc,this.$$d_$5O),1},$2oc:function(n){var a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(this.$NI),c=a.getElementsByTagName("cell"),i=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))),e=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),o,t,h,r,s,u,l,f;for(e.add(n.get_$Gd()),i.set_$I(this.$1Q,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([n.get_$Gd()])),o=0;e.get_Count()<3&&o<c.length;o++)if(t=c[o].attributes.getNamedItem("name").nodeValue,t!==n.get_$Gd()){if(h=Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2ph(t),$0.$28(h))i.get_$I(this.$1Q).add(t);else{for(r=null,s=this.get_$3YT().getElementsByTagName("link-entity"),u=0;u<s.length;u++)l=s[u].attributes.getNamedItem("alias").nodeValue,l===h&&(r=s[u].attributes.getNamedItem("name").nodeValue);if($0.$1(r))continue;f=i.get_$I(r);$0.$1(f)&&(f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i.set_$I(r,f));f.add(t)}e.add(t)}this.$1O6=e.toArray();this.$3Bv(i)},$3Bv:function(n){var f=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(String)),e=[],o=n.$1e4(),r,t,u,c;for(r in o){var s={key:r,value:o[r]},h=s.key,i=s.value.get_Items();for(t=0;t<i.length;t++)u=i[t],f.set_$I(u,h),i[t]=Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2TX(u);Array.add(e,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(h,i),this.get_$f()))}c=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e),function(n){for(var r,t,u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M)),e=n,o=e.length,i=0;i<o;++i)for(r=e[i],t=0;t<r.get_$3ZH();t++)u.add(r.get_$I(t));c.$1u8(u,f)},this.$$d_$5O)},$1u8:function(n,t){for(var f,r,e,u=new Array(3),i=0;i<3;i++)f="itemlabel"+i,i<this.$1O6.length?(r=this.$1O6[i],e=this.$2rl(n,t.get_$I(r),r),u[i]=Microsoft.Crm.Client.Core.Models.$2f.$2mA(Xrm.Objects.AttributeType.toString(e.get_$5R()),r,f,!1,!0)):u[i]=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$3Zt("Label","DefaultValueLabel",f,null,null,null,null,null);this.$P(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ListItem","ListItem","item",null,null,u,null));this.$1Y()},$2rl:function(n,t,i){for(var r,f=Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2TX(i),u=0;u<n.get_Count();u++)if(r=n.get_$I(u),r.get_$eQ()===t&&r.get_$1n()===f)return r;return null},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction=function(){Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("GetMultipleEntityFormDefinition",Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$4Z)};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$4Z=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction;return Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$1EM(t,n),t};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.prototype={$3Bg:function(n,t){var u,f,s;if(n.get_$3ZH()>0){if(this.$O6=n.get_$I(0).get_$5c(),this.$A_3.set_sourceId(n.get_$I(0).$h),!$0.$1(this.get_$Ri())&&!this.$A_3.get_$Dt()){var e=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"PrimaryModelName",this.get_$Ri().Properties),i=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(Array,"PrimaryAttributeFieldNames",this.get_$Ri().Properties),h=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(Object,"RelatedAttributeFieldNames",this.get_$Ri().Properties),c=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(Object,"RelationshipList",this.get_$Ri().Properties),r=[];!$0.$1(e)&&!$0.$1(i)&&i.length>0&&Array.add(r,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(e,i),this.get_$f()));u=h;for(f in u){var o={key:f,value:u[f]},l=o.key,a=c[l],v=a.TargetEntityTypeName;Array.add(r,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(v,o.value),this.get_$f()))}s=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r),function(){s.$1Ab()},this.$1kK(Microsoft.Crm.Client.Core.Framework.$4))}}else Microsoft.Crm.Client.Core.Framework.Trace.logError(1,String.format("Root definition '{0}' not found.",t.toString())),this.$1FY(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147084512))},$2aS:function(n){this.$o===39&&(this.$A_3.$86=n)}};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction=function(){Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("MetadataDownload",Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$B)};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.prototype={$31:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$2QH(this,new Sys.EventArgs),1}};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("OpenDocumentTemplateAction",Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$B)};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$B=function(n,t){var r=n,i=new Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction;return i.$10M=t.DocumentTemplateEntityReference,i.$P=t.SuccessCallbackParameter,i.$1M_3=t.FailureCallbackParameter,i.$22=r,i};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.prototype={$10M:null,$P:null,$22:null,$31:function(){return this.$1j(Xrm.Sdk.Response,this.$2tb(),this.$$d_$4e,this.$$d_$21),1},$2tb:function(){var n=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$4),t=new Microsoft.Crm.Client.Core.Framework.Guid(this.$22.get_DefinitionId()),i=this.$22.$Aq===1||!this.$22.$Aq?"savedquery":"userquery",r=new Xrm.Objects.EntityReference(i,t),u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RenderTemplateFromViewRequest(this.$10M,r),this.get_$f()),f=this,e=this;return u.then(function(t){n.resolve(t)},function(t){n.reject(t)}),n},$4e:function(n){this.$P(n.excelFile);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("OpenWordTemplateAction",Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$B)};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction,r=t;return i.$208=r.SelectedRecordId,i.$1ih=r.AssociatedEntityTypeCode,i.$17E=r.WordTemplateEntityReference,i.$P=r.SuccessCallbackParameter,i.$1M_3=r.FailureCallbackParameter,i};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.prototype={$17E:null,$1ih:0,$208:null,$P:null,$31:function(){return this.$1j(Xrm.Sdk.Response,this.$2uD(),this.$$d_$4e,this.$$d_$21),1},$2uD:function(){var n=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$4),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.ExportWordDocumentRequest(this.$1ih,this.$17E,JSON.stringify([this.$208.toString()])),this.get_$f()),i=this,r=this;return t.then(function(t){n.resolve(t)},function(t){n.reject(t)}),n},$4e:function(n){this.$P(n.wordFile);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDocumentTemplates",Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction,r,u;return i.$A_3=n,i.$1RA=Xrm.Internal.getEntityCode(i.$A_3.get_$2R()),r=t,$0.$1(r.OnSuccess)||(i.$7q=r.OnSuccess),$0.$1(r.OnFailure)||(i.$1M_3=r.OnFailure),$0.$1(r.QueryValue)||(u=r.QueryValue,$0.$1(u.DocumentType)||(i.$xW=u.DocumentType)),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.prototype={$7q:null,$xW:0,$1RA:0,$31:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(44,this.get_$25(),this.$A_3.get_$2R(),0),null),n=this,i=this;return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),t,function(t){n.$7q(n.$2DO(t));n.$1Y()},function(n){i.$21(n)}),1},$2DO:function(n){for(var r,t,u=new Array(0),i=0;i<n.get_$3ZH();i++)r=n.get_$I(i),t=r.get_$5c(),t.templateTypeCode===9940&&t.documentType===this.$xW&&this.$1tM(t.displayConditions)&&Array.add(u,r);return new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V))(u)},$1tM:function(n){var t,c,u,e,o,h;if($0.$1(n)||!n.length)return!1;if(n[0]==="everyone")return!0;t={};c=this;Array.forEach(n,function(n){t[new Microsoft.Crm.Client.Core.Framework.Guid(n).toString()]=!0});u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$G3;for(var f=u,l=f.length,i=0;i<l;++i)if(e=f[i],e.toString()in t)return!0;o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$oK;for(var s=o,a=s.length,r=0;r<a;++r)if(h=s[r],h.toString()in t)return!0;return!1}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3bV=function(){};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3bV.prototype={templateTypeCode:0,documentType:0,displayConditions:null};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$1u4=Function.createDelegate(this,this.$1u4);Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveAncestors",Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction;return t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$15N,t.$P=i.$$d_$1tz,t.$1M_3=i.$$d_$5O,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.prototype={$P:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$A_3.get_$2R(),this.get_$f()),this.$$d_$1u4,this.$$d_$5O),1},$1u4:function(n){var t,r,i;if(this.$A_3.get_$Dt()){this.$1Y();return}t=this.$A_3;r=t.$EW.get_Count()>0?t.$EW.get_$I(t.$EW.get_Count()-1):t.get_$1K().get_Id();t.$1Gz=n.get_$Gd();i=new Array(0);Array.add(i,n.get_$Gd());$0.$1(t.$7n)||Array.add(i,t.$7n);Array.add(i,n.get_$Hj());var f="<filter type='and'><condition attribute='"+n.get_$Hj()+"' operator='above' value='{"+r+"}' /><\/filter>",e=new Microsoft.Crm.Client.Core.Framework.Storage.$9A(new Microsoft.Crm.Client.Core.Framework.Storage.$4U(n.get_$Hj()),r.toString(),0,0),o=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nm(t.$J,i),s=o.$2fi(f,e),u=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(s,r);u.set_$7m(1);u.$32=49;u.$Mp=!0;this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(u,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(1,2),this.get_$f()),this.$$d_$4e,this.$$d_$5O)},$4e:function(n){var r=this.$A_3,i,t;$0.$1(this.$P)||r.$3w?this.$1Y():(i=Microsoft.Crm.Client.Core.Models.$1D.$B(n),t=this,this.$JF(function(){t.$P(i);t.$1Y();t.dispose()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1bH))},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$3Bd=Function.createDelegate(this,this.$3Bd);Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveCustomControlTemplate",Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$2Hi)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$2Hi=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$2kM(n),u=t,r=u.QueryValue;return i.$HB=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveCustomControlTemplateDataAction.RetrieveDefault"),i.$lJ=i.$$d_$3Bd,i.$h=String.format("CustomControlTemplate_{0}",r.customControlTemplateName),i.$1ww=r,i.$P=n.$$d_$2Nh,i.$1M_3=n.$$d_$3BZ,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$2kM=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction;return t.$A_3=n,t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1b9,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.prototype={$P:null,$h:null,$1ww:null,$lJ:null,$HB:null,$31:function(){$0.$1(this.$HB)||this.$HB.start();var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(48,this.get_$25(),"customcontrol",0,!1,this.$h),this.get_$f());return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),n,this.$lJ,this.$$d_$5O),1},$3Bd:function(n){var r,u,t,f,i;if($0.$1(this.$HB)||this.$HB.stop(),r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveCustomControlTemplateDataAction.ParseForDefault"),r.start(),u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor,n.get_$3ZH()>0)for(t=0;t<n.get_$3ZH();t++)if(f=n.get_$I(t),f.$4u===48){u=f.get_$5c();break}i={};i.descriptor=u;i.paramDictionary=this.$1ww;r.stop();this.$P(i);this.$1Y()},$5O:function(n){$0.$1(this.$HB)||this.$HB.stop();this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.initializeBase(this);this.$82="OpenDashboardCommand";this.$kp="_DashboardCommands";this.$1Jb=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_Dashboard_Group_Name");this.$1Gn=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_Dashboard_Group_Name");this.$4u=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?37:1;this.$uO=[0]};Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDashboardSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction;return i.$A_3=n,i.$Kb=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?$1M.$Rb(Microsoft.Crm.Client.Core.Framework.$1,37).toUpperCase():$1M.$Rb(Microsoft.Crm.Client.Core.Framework.$1,n.$o).toUpperCase(),Microsoft.Crm.Client.Application.ViewModels.$6T.$1SF(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDefaultListForEntityAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction,r=t;return i.$P=r.OnSuccessParameter,i.$S=r.EntityLogicalNameParameter,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.prototype={$P:null,$S:null,$31:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(11,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25(),this.$S,0,!0,null,1);return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,this.get_$f()),this.$$d_$4e,this.$$d_$21),1},$4e:function(n){n.get_$3ZH()>0?(this.$P(n.get_$I(0)),this.$1Y()):this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("No default list for entity found."))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEntityMetadataByDisplayNameAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction,r=t;return i.$P=r.OnSuccessParameter,i.$VW=r.EntityDisplayNameParameter,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.prototype={$P:null,$VW:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$1n),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Jz(this.get_$f()),this.$$d_$4e,this.$$d_$21),1},$4e:function(n){for(var t,r=this.$VW.toUpperCase(),u=n.$22N(),f=u.length,i=0;i<f;++i)if(t=u[i],t.get_$9t().toUpperCase()===r||t.get_$14f().toUpperCase()===r){this.$P(t);this.$1Y();return}this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("Entity not found."))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("QuickCreateRetrieveFormDataXml",Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$B);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("EditRootRetrieveFormDataXml",Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$2BN)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction,i=n;return t.$A_3=i,t.$IE=i.get_ModelContext().$M,t.$P=i.$$d_$1Yg,t.$Ff=i.$Ff,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$2BN=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction,i=n;return t.$A_3=i,t.$IE=i.get_ModelContext().$M,t.$P=i.$$d_$1Yg,t.$Ff=i.$Ff,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.prototype={$P:null,$IE:null,$Ff:null,$31:function(){var n,t;return $0.$1(this.$Ff)?this.$2W5():(n=this.$2kV(this.$Ff),$0.$1(n)||(t=Xrm.Soap.EntityRecordSerializer.loadFromCrmSoap(n),$0.$28(t)||this.$3D2(t))),1},$2kV:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(n);return t.hasChildNodes()?Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$B(t).$At().get_$I(0):null},$3D2:function(n){for(var r,t,h,c,u=[],o=[],f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i={},s=n.get_fieldNames(),l=s.length,e=0;e<l;++e)r=s[e],t=n.$1Z[r],t===11||t===12||t===13?u.push(r):(t===6||t===9||t===1)&&o.push(r);i[Xrm.Objects.AttributeType.toString(11)]=u;i[Xrm.Objects.AttributeType.toString(6)]=o;f.addRange(u);f.get_Count()?(c=this,this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n.$3F.LogicalName,f.toArray()),this.get_$f()),function(t){c.$2OQ(t,i,n)},this.$$d_$9B)):(h=new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M)),this.$2OQ(h,i,n))},$2OQ:function(n,t,i){for(var f,e,r,o={},u=0;u<n.get_$3ZH();u++)o[n.get_$I(u).get_$1n()]=n.get_$I(u);f=t;for(e in f)r={key:e,value:f[e]},r.key===Xrm.Objects.AttributeType.toString(11)?i=this.$3D4(r.value,i,o):r.key===Xrm.Objects.AttributeType.toString(6)&&(i=this.$3D3(r.value,i));this.$IE.mergeChanges(i);this.$2W5()},$2W5:function(){var n=Xrm.Soap.EntityRecordSerializer.$3Vj(this.$IE);n.length?this.$Fw(n):this.$9B(Microsoft.Crm.Client.Core.Framework.$4.$i(String.format("Entity form data xml could not be formatted for entityrecord : {0}",this.$IE)))},$3D4:function(n,t,i){for(var f,h,c,e,l=n,a=l.length,s=0;s<a;++s){var u=l[s],o=this.$IE.getValue(u),r=t.getValue(u);if(!$0.$1(r)&&$0.$1(r.$1D))if($0.$1(o)||$0.$1(o.$1D)||o.$1i!==r.$1i){if(f=i[u],!$0.$1(f)&&!$0.$1(f.get_$BS())&&!$0.$1(f.get_$BS().$2f)){h=f.get_$BS().$2f;for(c in h)e={key:c,value:h[c]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O.isInstanceOfType(e.value)&&!$0.$1(e.value.$1D)&&e.value.$1i===r.$1i&&(r.$1D=e.value.$1D,t.setValue(u,r))}}else r.$1D=o.$1D,t.setValue(u,r)}return t},$3D3:function(n,t){for(var e=n,o=e.length,u=0;u<o;++u){var f=e[u],r=this.$IE.getValue(f),i=t.getValue(f);$0.$1(r)||$0.$1(r.Name)||$0.$1(i)||!$0.$1(i.Name)||r.Id.equals(i.Id)&&(i.Name=r.Name,t.setValue(f,i))}return t},$Fw:function(n){$0.$1(this.$P)||this.$P(n);this.$1Y()},$9B:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction=function(){Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("DeleteSnapViewEntries",Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$B=function(){return new Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.prototype={$31:function(){var n=this,t=this;return this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$10E("SnapData"),function(){n.$1Y()},function(n){t.$21(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction=function(){this.$$d_$1e1=Function.createDelegate(this,this.$1e1);this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("PopulateTileData",Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction,r,u;return i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1ZT,r=t,$0.$1(r)||(u=r.QueryValue,i.$1no=u.forcerefresh,i.$7Z=u.pinnedtilemodel,i.$Ey=i.$A_3.get_Root().$1t.toLowerCase()===Microsoft.Crm.Client.Core.Framework.$1.toString(1).toLowerCase()?0:1,$0.$1(r.OnSuccess)||(i.$7q=r.OnSuccess)),i};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.prototype={$1no:!1,$7Z:null,$Ey:0,$hn:null,$dz:null,$7q:null,$3FT:function(){return this.$31()},$31:function(){var n=this.$7Z.$2Ud(),t=$0.$1(n)?0:n.length,i,r;return t?t===1?(i=this,this.$1j(Object,n[0],function(){i.$1xO()},this.$$d_$5O)):(r=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),function(){r.$1xO()},this.$$d_$5O)):this.$1xO(),1},$1xO:function(){var n=new Array(0),i,r,u,t,f,e,o;this.$7Z.get_$ib()&&this.$7Z.get_$ib()!==3?this.$7Z.get_$ib()!==1||this.$7Z.get_$1do().equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())||(r=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(11,this.get_$25(),this.$7Z.get_$UP(),1,!1,this.$7Z.get_$1do().toString()),u=this.get_$lK().$5Y(r,this.get_$f()),Array.add(n,u)):(i=!$0.$1(this.$7Z.get_$G1()),(!i||this.$1no)&&this.$3Lj(n));t=$0.$1(n)?0:n.length;t?t===1?(f=this,e=this,this.$1j(Object,n[0],function(n){f.$1e1([n])},function(){e.$2ZP()})):(o=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),this.$$d_$1e1,function(){o.$2ZP()})):this.$1e1(null)},$1e1:function(n){if(!$0.$1(n)){var t=n[0];this.$2RT(t)}this.$4e()},$2ZP:function(){this.get_$lK().get_$r()||!Microsoft.Crm.Client.Core.Storage.Common.$1N.get_$nP()?this.$1BQ(this.$7Z.get_$2p()):(this.$7Z.set_$2Kq(!0),this.$1e1(null))},$2RT:function(n){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(n))this.$7Z.set_$G1(n);else if(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V).isInstanceOfType(n)){var t=n.get_$I(0);$0.$1(t)?this.$1BQ(this.$7Z.get_$2p()):this.$7Z.set_$G1(t)}},$3Lj:function(n){var f=this.$A_3.get_Root().$o===2,r=this.$7Z.get_$UP()===this.$A_3.get_Root().$J,e=Microsoft.Crm.Client.Core.Models.Tiles.Decorators.$Aa.isInstanceOfType(this.$7Z),u=Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$A_3.get_Root().get_ModelContext()),t=this.$A_3.get_Root().get_ModelContext(),i;f?r&&e&&u&&!$0.$1(t.$M)?this.$7Z.set_$G1(t.$M):r||!u||$0.$1(t.$M)||$0.$1(t.$M.$6H)?this.$2Ui(n):(i=t.$M.$6H.getByRelationshipName(this.$7Z.get_$3M0()),!$0.$1(i)&&i.get_count()>0&&this.$7Z.set_$G1(i.get_entities()[0])):this.$2Ui(n)},$2Ui:function(n){var u=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(this.$Ey,2,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$ft()),f=new Xrm.Objects.EntityReference(this.$7Z.get_$UP(),this.$7Z.get_$1do()),e,t,r,i,o,s;if(this.$7Z.get_$3Q6().equals(new Microsoft.Crm.Client.Core.Framework.Guid("{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"))){for(e=new Microsoft.Crm.Client.Core.Models.Tiles.Factories.$J0,t=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(e.$1Tu(this.$7Z)),this.$7Z.set_$1Jg(t),r=!1,i=0;i<t.$3Q.length;i++)if(o=t.$3Q[i],o.toLowerCase()===this.$7Z.get_$Li()){r=!0;break}r||t.$3Q.push(this.$7Z.get_$Li())}this.$7Z.get_$JI()?this.$3WY(f,u):(s=this.get_$lK().$6I(f,this.$7Z.get_$1Jg(),u,this.get_$f()),Array.add(n,s))},$3WY:function(n,t){var i=this;this.get_$2Vc().$1zu(function(){var r=i.get_$lK().$6I(n,i.$7Z.get_$1Jg(),t,i.get_$f());r.then(function(n){i.$2RT(n);$0.$1(i.$7q)||i.$7q(null)},function(n){n.$z===-2147220969&&(i.get_$lK().get_$r()||!Microsoft.Crm.Client.Core.Storage.Common.$1N.get_$nP()?i.$1BQ(i.$7Z.get_$2p()):(i.$7Z.set_$2Kq(!0),i.$7q(null)));$0.$1(i.$1M_3)||i.$1M_3(null)})},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1eQ,"UpdateCachedData")},get_$lK:function(){return this.$dz||(this.$dz=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3)},get_$2Vc:function(){return this.$hn||(this.$hn=new Microsoft.Crm.Client.Core.Models.$Ji)},$1BQ:function(n){var t=this;this.get_$lK().$lU(n).then(function(){t.get_$lK().$XA(n.$Gi,t.get_$f())},this.$$d_$5O)},$4e:function(){$0.$1(this.$7q)||this.$7q(null);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$BZ=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.$BZ.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$BZ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("PopulateSwitchProcessFlyOut",Microsoft.Crm.Client.Application.ViewModels.$BZ.$B)};Microsoft.Crm.Client.Application.ViewModels.$BZ.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$BZ,r;return i.$A_3=n,r=t,$0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.$BZ.prototype={$P:null,$31:function(){if(!$0.$1(this.$A_3)&&!$0.$1(this.$A_3.get_Root())){var n=this.$A_3.get_Root().$7X("ProcessManager");if(!$0.$1(n))return this.$1j(Microsoft.Crm.Client.Core.ViewModels.$64,n.$2Uo(),this.$$d_$4e,this.$$d_$5O),1}return this.$4e(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,null)),0},$4e:function(n){$0.$1(this.$P)||$0.$1(n)||this.$P(n);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveActivityCreateButtons",Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction,r=t;return $0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1yv,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.prototype={$2dw:function(n,t){var f=t.get_$9t(),e=t.get_$1n(),u={},r,i;u.RefreshContext=this.$A_3;r=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$2fd(e,f,"CreateCommand",{PrimaryModelName:t.get_$1n(),externalParameters:u},!0);i=new Microsoft.Crm.Client.Core.Models.Descriptors.ComponentDefinitionDescriptor;i.ViewModelDescriptor=r;i.ViewDescriptor=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(r);n.add(i)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveListByDisplayNameAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction,r=t;return i.$P=r.OnSuccessParameter,i.$1M_3=r.OnFailureParameter,i.$1ts=r.ListDisplayNameParameter,i.$S=r.EntityLogicalNameParameter,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.prototype={$P:null,$1ts:null,$S:null,$31:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(11,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25(),this.$S,0,!1,null,1,this.$1ts.toUpperCase());return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,this.get_$f()),this.$$d_$4e,this.$$d_$21),1},$4e:function(n){n.get_$3ZH()>0?(this.$P(n.get_$I(0)),this.$1Y()):this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i("No list with given display name found."))}};Microsoft.Crm.Client.Application.ViewModels.$7E=function(){this.$$d_$2QV=Function.createDelegate(this,this.$2QV);this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.$7E.initializeBase(this);this.$5b=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V()};Microsoft.Crm.Client.Application.ViewModels.$7E.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveSubjectTreeWithData",Microsoft.Crm.Client.Application.ViewModels.$7E.$3PA)};Microsoft.Crm.Client.Application.ViewModels.$7E.$3PA=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$7E,r=t;return Microsoft.Crm.Client.Application.ViewModels.$7E.$1EM(i,n,r),i};Microsoft.Crm.Client.Application.ViewModels.$7E.$2kR=function(n,t){var r=t.QueryValue.toString(),i;n.$1dW=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(r);n.$21g=r;i="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<entity name='subject'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='subjectid' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='title'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='parentsubject'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<order attribute='createdon' descending='false' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/fetch>";n.$1dV=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(i);n.$21d=i};Microsoft.Crm.Client.Application.ViewModels.$7E.$1EM=function(n,t,i){var r=t;n.$A_3=r;n.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zZ;n.$P=r.$$d_$4e;n.$1M_3=r.$$d_$5O;Microsoft.Crm.Client.Application.ViewModels.$7E.$2kR(n,i)};Microsoft.Crm.Client.Application.ViewModels.$7E.prototype={$P:null,$5b:null,$wZ:null,$16S:null,$fE:!1,$1dV:null,$1dW:null,$21d:null,$21g:null,$cB:0,$31:function(){return this.$1mv(),1},$1mv:function(){if($0.$1(this.$1dV)||$0.$1(this.$1dW))this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(0));else{if(this.$A_3.get_$Dt()){this.$1Y();return}this.$2lx();this.$R1()}},$2lx:function(){this.$wZ=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(this.$1dV,this.$21d);this.$16S=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(this.$1dW,this.$21g);var n=$0.$1(this.$A_3.get_$1K())?"":this.$A_3.get_$1K().get_Id();this.$wZ.$K4(n,null,null,null,this.$5b);this.$16S.$K4(n,null,null,null,this.$5b);this.$wZ.$32=this.$16S.$32=100;this.$wZ.$Mp=this.$16S.$Mp=!0},$R1:function(){var n,t,i;this.$wZ.$Ae===1&&!0?(n=1,t=this.$cB):(n=2,t=1);i=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(this.$2fh(n,t)),function(n){n.length<2?i.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093999)):i.$4e(n[0],n[1])},this.$$d_$5O)},$2fh:function(n,t){var i=[],r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(n,t),u=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Framework.$4),f=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Framework.$4);return Array.add(i,u),Array.add(i,f),this.$33(this.$wZ,r,u,null),this.$33(this.$16S,r,f,null),i},$33:function(n,t,i,r){var u=this,f=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(n,t,this.get_$f()).then(function(n){var s,f;if(r){for(var o=n.get_entities(),h=o.length,e=0;e<h;++e)s=o[e],r.add(s);r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(r.get_entities(),n.$Bw,n.$A8,n.$K9,n.$1o,n.$4W)}else r=n;n.$Bw?(f=n.$1o,f.set_$7m(f.$Ae+1),u.$33(f,t,i,r)):i.resolve(r)},function(n){i.reject(n)})},$4e:function(n,t){var r,i;this.$fE=!0;r=this.$A_3;$0.$1(this.$P)||r.$3w?this.$1Y():(i=this,this.$JF(function(){i.$P(i.$2g0(n,t));i.$1Y()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1za))},$2g0:function(n,t){var i=this.$1Pt(n),r=this.$1Pt(t);return i.$un=r.$un=this.$$d_$2QV,new Microsoft.Crm.Client.Core.Models.$Tu(i,r)},$1Pt:function(n){return Microsoft.Crm.Client.Core.Models.$1D.$B(n)},$5O:function(n){if(n.$z===-2147093999){var t=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();this.$4e(t,t)}else this.$21(n)},$2QV:function(n){$0.$1(this.$A_3)||this.$A_3.get_$Dt()||n.$z===-2147093999||(this.$fE&&this.$A_3.$R0(n),Microsoft.Crm.Client.Core.Framework.Trace.logError(1,n.$E))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("RetrieveMultipleEntityAttributeMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$32a)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$32a=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction,r;return i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zL,r=t,i.$1xY=r.PrimaryEntityName,i.$Wu=r.PrimaryAttributeFieldNames,i.$Gf=r.RelatedAttributeFieldNames,i.$LY=r.RelationshipList,i.$P=r.OnSuccess,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.prototype={$P:null,$1xY:null,$Wu:null,$Gf:null,$LY:null,$31:function(){var n={},r,u,o;n["?primary?"]=null;var s=!$0.$1(this.$Wu)&&this.$Wu.length>0,t=[],i=[];s&&(Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$1xY,this.$Wu),this.get_$f())),Array.add(i,"?primary?"));r=this.$Gf;for(u in r){var f={key:u,value:r[u]},e=f.key,h=this.$LY[e].TargetEntityTypeName;Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(h,f.value),this.get_$f()));Array.add(i,e)}return o=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(t){for(var u=0,f=t,s=f.length,r=0;r<s;++r){var h=f[r],e=h.$22N(),c=e[0].get_$eQ();n[i[u].toString()]=e;u++}o.$Fw(n)},this.$$d_$9B),1},$Fw:function(n){$0.$1(this.$P)||this.$P(n);this.$1Y()},$9B:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$Bu=function(){Microsoft.Crm.Client.Application.ViewModels.$Bu.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$Bu.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveMultipleEntityForNoteAction",Microsoft.Crm.Client.Application.ViewModels.$Bu.$B)};Microsoft.Crm.Client.Application.ViewModels.$Bu.$B=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.$Bu,i=t;return $0.$1(i.OnSuccess)||(r.$P=i.OnSuccess),$0.$1(i.OnFailure)||(r.$1M=i.OnFailure),r.$1tx=i.QueryValue,r};Microsoft.Crm.Client.Application.ViewModels.$Bu.prototype={$P:null,$1M:null,$1tx:null,$31:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$ft()),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(this.$1tx,n,Microsoft.Crm.Client.Core.Framework.$G.$b("","RetrieveMultipleEntityForNoteAction")),i=this,r=this;return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,t,function(n){i.$P(n)},function(n){r.$1M(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveMultipleEntityMetadataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction,r,u;return $0.$1(n)?Object.isInstanceOfType(t)&&(u=t,i.$sU=u.EntityLogicalNamesParameter,i.$P=u.OnSuccessParameter):Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Dt.isInstanceOfType(n)&&(r=n,i.$sU=r.get_$2oa(),i.$P=r.get_$2ob(),i.$A_3=r),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.prototype={$P:null,$sU:null,$31:function(){var t,n,i;if(!$0.$1(this.$sU)&&this.$sU.length>0){for(t=[],n=0;n<this.$sU.length;n++)Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$sU[n],this.get_$f()));return i=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(n){i.$4e(n)},this.$$d_$21),1}throw Error.argument("entityLogicalNames","entityLogicalNames is not provided");},$4e:function(n){$0.$1(this.$P)||this.$P(n);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveApplicationSettings",Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction,r=t;return $0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.prototype={$P:null,$31:function(){var u=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("ApplicationSettingsID"),n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),w=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsSignoutCommand","Button","SignOutCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Signout"),n.get_Count()+1,"System","Settings","Symbol",null,!0),f,e,o,s,h,i,c,l,t,r,a,v,y,p;return n.add(w),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1X.get_$38().get_$1UU()&&(f=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsReconfigureCommand","Button","ReconfigureCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Reconfigure"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(f)),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$1uU()&&(e=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsDiagnosticsCommand","Button","ShowDiagnosticsAndErrorsCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Diagnostics_ClientExtensions"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(e)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("LandingPage")&&(o=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsLandingPageCommand","Button","ShowLandingPageSettingsCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_LandingPage"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(o)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("PaneStackingOnPhones")&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&(s=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingPaneStackingCommand","Button","ShowPaneStackingSettingCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_PaneStacking_Label"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(s)),!$0.$1(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5u().get_$3U2()&&(h=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("DeviceSettingsCommand","Button","ShowDeviceSettingsCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_DeviceIntegration"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(h)),i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.NavBar.SettingsLearningPath_OptIn_Caption"),c=Xrm.Internal.isGuidedHelpEnabledForUser(),c&&(i=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Web.NavBar.SettingsLearningPath_OptOut_Caption")),l=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("GuidedHelpSettingsCommand","Button","GuidedHelpSettingsCommand",i,n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(l),t={},t.protocol="http:",r=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Help_Link"),r+="&clcid=0x"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().get_$12r().toString(16),t.target=r,a=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsHelpCommand","Button","UrlLauncherCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Help"),n.get_Count()+1,"System","Settings","Symbol",t,!0),n.add(a),v=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsAboutCommand","Button","ShowAboutInformationCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_About"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(v),Microsoft.Crm.Client.Core.ViewModels.$n.$1st()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("MobileClientOffline")&&!Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$1WF()&&(y=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsOfflineCommand","Button","OfflineOptinCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_Offline"),n.get_Count()+1,"System","Settings","Symbol",null,!1),n.add(y)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("MobileClientOffline")&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("MobileClientOfflineAutoOptin")&&Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.$2Mf()&&(p=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsOfflineDisableCommand","Button","OfflineOptOutCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Settings_OfflineOptOut"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(p)),u.Controls=n.toArray(),$0.$1(this.$P)||this.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,u)),this.$1Y(),0}};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$2gQ=Function.createDelegate(this,this.$2gQ);Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("ExecuteQuickFindAction",Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$B)};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction;return t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.prototype={$P:null,$sa:null,$9N:null,$1o:null,$70:null,$XD:null,$31:function(){var t,n;return Microsoft.Crm.Client.Core.Framework.$3.$1O(this.$A_3.$70)||(this.$XD=this.$A_3.get_EntityNames(),t=this.$A_3,this.$70=this.$A_3.$70,n=new Xrm.Sdk.Internal.MobileClientOfflineRequest(new Xrm.Sdk.ExecuteQuickFindRequest(this.$70,null,this.$XD),this.$$d_$2gQ),this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(n,this.get_$f()),this.$$d_$4e,this.$$d_$5O)),1},$4e:function(n){$0.$1(this.$sa)||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("LoadedSearchData"),this.$sa.stop(),this.$sa=null);$0.$1(this.$P)||this.$P(n.result);this.$1Y()},$5O:function(n){$0.$1(this.$sa)||(this.$sa.stop(),this.$sa=null);$0.$1(this.$1M_3)||this.$1M_3(n);this.$21(n)},$2gQ:function(){var t=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$4),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$XD[0],1,!0,null,3),n=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(i,this.get_$f()).then(function(i){var r,h,c;if(i.get_$3ZH()){r=i.get_$I(0);for(var f=i.$22N(),l=f.length,u=0;u<l;++u){var e=f[u],o=e.get_$GK(),s=$0.$1(o)?null:o.$A9(2);if(!$0.$1(s)&&s.toString().match(new RegExp("Quick\\s?Find"))){r=e;break}}n.$9N=r.get_$GK();n.$1o=new Microsoft.Crm.Client.Core.Storage.DataApi.$T0(n.$9N,n.$70,n.$XD);h=n.$1o.$9N.$A9(2);Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()&&Microsoft.Crm.Client.Core.Framework.$3.$1O(h)?(c=[new Xrm.Sdk.QuickFindResult(n.$1o.$XD[0],new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(new Array(0),!1,0,!1,n.$1o),-2147093989)],t.resolve(new Xrm.Sdk.ExecuteQuickFindResponse(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.QuickFindResultCollection.createFromEntities(c)))):Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(n.$1o,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),n.get_$f()).then(function(i){var r=[new Xrm.Sdk.QuickFindResult(n.$1o.$XD[0],i,0)];t.resolve(new Xrm.Sdk.ExecuteQuickFindResponse(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.QuickFindResultCollection.createFromEntities(r)))},function(n){Microsoft.Crm.Client.Core.Framework.$B.$C("DataSource_ExecuteQuickFind_RetrieveMultiple_LocalError",1005,n.$E);t.reject(n)})}else n.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Sdk.ExecuteQuickFindRequest(null,null,n.$XD),n.get_$f()),n.$$d_$4e,n.$$d_$5O)},this.$$d_$5O),t.promise()}};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("ExecuteExternalSearchAction",Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$B)};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$B=function(n){var t=null,i=new Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction;if(Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel.isInstanceOfType(n))if("HeaderGroup"in n.$2.$F)t=n.$2.$F.HeaderGroup.$F.SearchBox,i.$1Z6=n.$1s.$BT;else return null;else t=n;return i.$P=t.$$d_$4e,i.$1M_3=t.$$d_$5O,i.$A_3=t,i};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.prototype={$P:null,$1Z6:0,$32:0,$vT:null,$1R4:null,$1W3:!1,$1Fa:null,$31:function(){var n=this.$A_3;return this.$32=n.get_RelevanceSearchPageSize(),Microsoft.Crm.Client.Core.Framework.$3.$1O(n.$70)||(n.$Ko&&n.$Ko.length===1?(this.$1W3=!0,this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1ze(n.$Ko[0],this.get_$f()),this.$$d_$4e,this.$$d_$5O)):this.$2Jd()),1},$342:function(n,t,i,r,u,f,e,o,s,h,c){var a="",b=this.$1qE(2),k=this.$1qE(6),d=this.$A_3,v,l,p,w,y;if($0.$1(d.get_FacetPaneViewModel())||(a+="&facet=(@search.entityname,"+k+"),(ownerid,"+k+"),(modifiedon,"+b+"),(createdon,"+b+")"),t.length===1&&!$0.$1(s))for(v=0;v<s.length;v++)a+=",("+t[0]+"."+s[v].get_$1n()+","+this.$1qE(s[v].get_$5R())+")";if(l="",a+="&search="+CrmEncodeDecode.CrmUrlEncode(n),t.length>0&&(a+="&searchEntities="+t.join(",")),i){if(p=f[t[0]].toString()==="1",w=e[t[0]].toString()==="1",p)for(y=0;y<c.length;y++)Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$l(c[y]).get_$8p()&&(a+=","+c[y]);w&&(a+=",annotation");p&&(l+="activities:regardingobjecttypecode eq '"+t[0]+"'");w&&(p&&(l+=","),l+="annotation:objecttypecode eq '"+t[0]+"'")}return $0.$1(h)||h===""||(l!==""&&(l+=" and "),l+=h),$0.$1(o)||o===""||(""!==l&&(l+=","),l+=o),l!==""&&(a+="&$filter="+l),a+="&$top="+Math.min(r,1e3).toString(),0<u&&(a+="&$skip="+Math.min(Math.max(0,u*r),1e5).toString()),a},$1qE:function(n){switch(n){case 2:return"values:"+this.$1DL("year",-1)+"|"+this.$1DL("month",-1)+"|"+this.$1DL("week",-1)+"|"+this.$1DL("day",-1)+"|"+this.$1DL("today",0);case 5:case 8:case 3:return"interval:100";default:return"count:100"}},$1DL:function(n,t){var i=new Date;switch(n){case"year":i.setFullYear(i.getFullYear()+t);break;case"month":i.setMonth(i.getMonth()+t);break;case"week":i.setDate(i.getDate()+t*7);break;case"day":i.setDate(i.getDate()+t)}return i.toJSON()},$4e:function(n){var i,h,t,e,c,o,s,l,r,u,f,p;if(this.$1W3){if(i=this.$A_3,h=$.parseJSON(n.Value),this.$1W3=!1,t="",$0.$1(i.$Ko)||i.$Ko.length!==1||(t=i.$Ko[0]),e=new Array(0),this.$1R4={},!$0.$1(t)){c=h[t];o=c.attributeNames;for(s in o)l={key:s,value:o[s]},r=l.value,Array.add(e,r.logicalName),this.$1R4[r.logicalName]=r.LookUpOTC}u=this;this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),this.$P7(t,e),function(n){$0.$1(n)||(u.$1Fa=n.get_$3ZH()?n.$22N():new Array(0),u.$2Jd())},this.$$d_$5O)}else{var a={},v=this.$A_3,w=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonSerializers.$6B.$2t3(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V(),this.$32,this.$1Z6+1,a,this.$vT),y=new Array(1),b=new Xrm.Sdk.QuickFindResult("multiItem",w,0);y[0]=b;f=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.QuickFindResultCollection(y);p=$0.$1(v.$Ko)?"":v.$Ko[0];f.$1C8=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonSerializers.$6B.$2t4(n,this.$1Fa,p,this.$1R4);f.$1EH=a;$0.$1(this.$P)||this.$P(f);this.$1Y()}},$P7:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Framework.$4),r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(n,t),this.get_$f()).then(function(n){i.resolve(n)},function(n){i.reject(n)}),i.promise()},$2Jd:function(){for(var i,u,n=this.$A_3,r=n.$JL.get_Items(),f=r.length,t=0;t<f;++t)if(i=r[t],i.$G==="multiItempane"){this.$vT=i.$F.multiItemList.$vT;break}u=this.$342(n.$70,n.get_EntityNames(),n.$cR,this.$32,this.$1Z6,n.$W9,n.$ZQ,n.$6v,this.$1Fa,n.$OD,n.get_ItemValues());this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1mu(u,this.get_$f()),this.$$d_$4e,this.$$d_$5O)},$5O:function(n){$0.$1(this.$1M_3)||this.$1M_3(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.PingServerAction=function(){this.$$d_$2oC=Function.createDelegate(this,this.$2oC);Microsoft.Crm.Client.Application.ViewModels.PingServerAction.initializeBase(this);this.$1ZN=this.$$d_$2oC};Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("PingServer",Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$B)};Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.PingServerAction;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.PingServerAction.prototype={$1ZN:null,$31:function(){return Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.add_$Tp(this.$1ZN),Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.$1in(),1},$2oC:function(n,t){var i,r;if(Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$D.remove_$Tp(this.$1ZN),t.$L9)t.$F5.$z===-2147093999?this.$1xB(null):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Di.$19u(0,t.$F5.$TI());else if(Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()&&!$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p())&&!$0.$1(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$6V())&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1p().get_$6V().get_$3H())if(Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance()){Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=!1;i=new Date;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("UpSync.Started",1);Microsoft.Crm.Client.Core.Framework.$B.$C("StartPlayback",1004,"Playback Started");r=Xrm.Internal.getResourceString("Msg_Progress_MOCA_Dialog");Xrm.Internal.progress(r,40,100,0);var f=this,e=this,u=this;Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance().$1dO().then(function(n){var r=new Date,u=r-i,f=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ok("MOCADataSyncTransitionTime","","",0,"","",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),"","",u),t;Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(f);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("UpSync.Completed",1);n.$1LE||(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ok("MOCADataSyncSuccess","","",0,Microsoft.Crm.Client.Core.Offline.Upsync.Common.$5d.toString(n.$qu),"",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),(new Date).toString(),"",0),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t));Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=!0},function(n){var r=new Date,u=r-i,t;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("UpSync.Failed",1);t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Ok("MOCADataSyncTransitionTime","","",0,"","MOCADataSyncTransitionTime is failed",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),"","",u);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t);n.$E.toLowerCase()!=="no records found"&&Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Error occured while UpSync. Error details -- "+n.$E);Microsoft.Crm.Client.Core.Storage.DataApi.$H.$KK=!0}).always(function(){Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$cI>0&&(Microsoft.Crm.Client.Core.Framework.$B.$1E("PlaybackErrorCount",1004,"Playback error count: "+Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$cI),u.$3UM(Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$cI,Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$jm));u.$2Ri();window.setTimeout(function(){Xrm.Internal.progress("",0,0,0)},1e3)})}else Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Unable to instantiate playback manager.");else this.$2Ri()},$3UM:function(n,t){if(n>0){var u=this,f=function(){u.$2YB()},e=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Sync_Status_Error_Message"),r="",i=e;$0.$1(t)||(r=Microsoft.Crm.Client.Core.Framework.$3.$MN(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Last_Save_To_CRM_Server_Text"),t.toString()),i=i+"\n\n"+r);Microsoft.Crm.Client.Core.ViewModels.$1V.$169(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Sync_Status_Dialog_Title"),i,0,null,f,Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_OK_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Show_Details_Text"))}},$2YB:function(){var n=new Microsoft.Crm.Client.Core.Commands.$33(null,13);n.$J="syncerror";n.$1B={};n.$1B.ListDefinitionId="F1203E8B-6C6A-4210-906E-8428CB1FDE68";n.execute();n.dispose()},$2Ri:function(){var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$vD().then(function(t){var i,r;t?(i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y(Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y.$2Rl,null),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i),n.$1Y()):(r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y(Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y.$1xA,null),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(r),n.$1xB(null))},function(n){var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y(Microsoft.Crm.Client.Core.Framework.TelemetryCore.$5Y.$1xA,n.$E);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(i);t.$1xB(n)})},$1xB:function(n){$0.$1(n)?n=Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093998):n.$z=-2147093998;this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDataSetMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$JS=function(n,t){var f=n,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction,u,r;return i.$A_3=f,u=t,r=u.QueryValue,i.$S=r.entityLogicalName,i.$AA=r.viewId,i.$P=u.OnSuccess,"isLookup"in r&&r.isLookup&&i.$AA===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()&&(i.$1Va=!0),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.prototype={$P:null,$S:null,$AA:null,$1Va:!1,$31:function(){var t=this.$1Va?new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$S,1,!0,null,2):new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$S,1,!1,this.$AA),i=this.$1Va?new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(30,this.get_$25(),this.$S,1,!0,null,2):new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(30,this.get_$25(),this.$S,1,!1,this.$AA),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(t,this.get_$f()),u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(i,this.get_$f()),n=this,f=this;return this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(r,u),function(t){($0.$1(t)||t.length<2)&&n.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147094003));var i=t;n.$35p(i)},function(n){f.$5O(n)}),1},$35p:function(n){this.$P(n);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction=function(n){Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.initializeBase(this);this.$1jX=n};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveFilteredProcesses",Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$B=function(n,t,i){var u=n,e=u.get_Root(),r,f;return i=i||new Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MI(u,new Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$MH(e)),r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction(i),r.$A_3=u,r.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1I0,f=t,$0.$1(f.OnSuccess)||(r.$P=f.OnSuccess),r};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.prototype={$1jX:null,$31:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RetrieveFilteredProcessesRequest(this.$A_3.get_$2R()),this.get_$f()),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(15,this.get_$25(),this.$A_3.get_$2R(),1),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(i,this.get_$f()),n=this,u=this;return this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,r),function(t){if(t.length===2&&!$0.$1(t[0])&&t[0].name==="RetrieveFilteredProcesses"&&Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V).isInstanceOfType(t[1])){var i=t[0].processes,r=t[1];n.$2Ue(i,r)}else n.$6q(null)},function(n){var t=n;u.$3Ow(t)}),1},$1SL:function(n){for(var r,i=new Array(0),t=0;t<n.get_count();t++)r=n.get_entities()[t],i[t]=this.$1jX.$Ar(r,t);return i},$1UE:function(){this.$2Ue(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty(),new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V)))},$3Ow:function(n){n.$z===-2147093999?this.$1UE():this.$21(n)},$2Ue:function(n,t){var i,u,f,e,r,o,s;if(!this.$A_3.get_$Dt()){for(i=new Array(0),u=0;u<n.get_count();u++){for(f=n.get_$I(u),e=!1,r=0;r<t.get_$3ZH();r++)if((!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||!this.$3AE(t.get_$I(r)))&&(o=t.get_$I(r).$h.toString(),s=f.$N.Id.toString(),o===s)){e=!0;break}e&&(i[i.length]=f)}var h=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(i,!1,i.length,!1),c=this.$1SL(h),l=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("change_process",c,0),a=new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,l);this.$P(a)}this.$1Y()},$3AE:function(n){var u=n.get_$5c(),o=n.$6o,t,i,f,r,e;if(!$0.$1(u)){t=u.ChildViewModels;for(i in t)if(f={key:i,value:t[i]},r=f.value,r.TypeName==="ProcessEntity"&&(e=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"EntityLogicalName",r.Properties),e!==o))return!0}return!1},$P:null};Microsoft.Crm.Client.Application.ViewModels.$Bv=function(){this.$$d_$3Oj=Function.createDelegate(this,this.$3Oj);this.$$d_$3Ok=Function.createDelegate(this,this.$3Ok);Microsoft.Crm.Client.Application.ViewModels.$Bv.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$Bv.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveMultipleProcessInstances",Microsoft.Crm.Client.Application.ViewModels.$Bv.$B)};Microsoft.Crm.Client.Application.ViewModels.$Bv.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$Bv,r,u;return i.$A_3=n,r=t.QueryValue,"entityLogicalName"in r&&(i.$S=r.entityLogicalName),"currentEntityId"in r&&(i.$VK=r.currentEntityId),u=t,$0.$1(u.OnSuccess)||(i.$P=u.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.$Bv.prototype={$VK:null,$S:null,$P:null,$1M:null,$31:function(){return $0.$1(this.$VK)&&(this.$VK=new Microsoft.Crm.Client.Core.Framework.Guid(this.$A_3.get_ModelContext().get_Id())),this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$hY(this.$S,this.$VK.toString(),this.get_$f()),this.$$d_$3Ok,this.$$d_$3Oj),1},$3Ok:function(n){$0.$1(this.$P)||this.$P(n);this.$1Y()},$3Oj:function(n){$0.$1(this.$1M)||this.$1M();this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$6Q=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.$6Q.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$6Q.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveMultipleRecords",Microsoft.Crm.Client.Application.ViewModels.$6Q.$1qi)};Microsoft.Crm.Client.Application.ViewModels.$6Q.$1qi=function(n,t){var i,u;Microsoft.Crm.Client.Core.Framework.Utils.$D.$22K(Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(n),"Action context is not IMultipleEntityAttributeFormViewModel");i=new Microsoft.Crm.Client.Application.ViewModels.$6Q;u=n;i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hZ;i.$A_3=u;var r=t,f=r.EntityLogicalName,e=r.EntityId;return i.$CO=new Xrm.Objects.EntityReference(f,new Microsoft.Crm.Client.Core.Framework.Guid(e)),i.$3R=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(r.PrimaryAttributeFieldNames),i.$UB=r.RelatedEntitiesQuery,i.$1aU=r.RelatedAttributes,i.$4W=r.RetrieveOptions,i.$P=r.OnSuccess,i};Microsoft.Crm.Client.Application.ViewModels.$6Q.prototype={$P:null,$UB:null,$1aU:null,$31:function(){var n=this.$A_3;return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$an(this.$CO,this.$3R,this.$3R,this.$UB,this.$4W,this.get_$f(),Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n)?n.$29q(this.$CO):null),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){var e=[],i,f,h,t,c;if(n.$6H.$7S)for(var o=n.$6H.$7S,l=o.length,r=0;r<l;++r)if(i=o[r],i.get_$2O()&&i.get_$2O().get_entities())for(var s=i.get_$2O().get_entities(),a=s.length,u=0;u<a;++u)f=s[u],f&&(h=i.get_$4z().$9D in this.$1aU?this.$1aU[i.get_$4z().$9D]:null,Array.add(e,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$173(f,h)));t=this;c=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e),function(){var i=Microsoft.Crm.Client.Core.Models.$BK.$317(n);$0.$1(t.$P)?t.$A_3.UpdateRecordModel(i).done(function(){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V()&&t.$2Ne(t.$A_3);t.$1Y()}):(t.$P(i),t.$1Y())},function(n){c.$5O(n)})},$2Ne:function(n){var i,r,t;if(Microsoft.Crm.Client.Core.Framework.$1I.$m(n.$F)>0){i=n.$F;for(r in i)t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(t.value)?t.value.$1u1():Microsoft.Crm.Client.Core.ViewModels.$2Z.isInstanceOfType(t.value)&&this.$2Ne(t.value)}}};Microsoft.Crm.Client.Application.ViewModels.$6R=function(){Microsoft.Crm.Client.Application.ViewModels.$6R.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$6R.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveNavigationEntities",Microsoft.Crm.Client.Application.ViewModels.$6R.$B)};Microsoft.Crm.Client.Application.ViewModels.$6R.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$6R,r=t;return $0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),Microsoft.Crm.Client.Application.ViewModels.$6R.$38f(i,n),i};Microsoft.Crm.Client.Application.ViewModels.$6R.$38f=function(n,t){n.$A_3=t;n.$VK=t.get_ModelContext().get_Id();n.$150=t.$1JI;n.$vZ=t.get_$2Ss();n.$1aN=t.get_$3La();n.$UJ=t};Microsoft.Crm.Client.Application.ViewModels.$6R.prototype={$P:null,$VK:null,$150:null,$vZ:null,$1aN:null,$UJ:null,$31:function(){if(!$0.$1(this.$150)&&!$0.$1(this.$vZ)){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$15O(this.$VK,this.$150,this.$vZ,this.$1aN,this.get_$f()),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$vZ,this.get_$f()),n=this,r=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,i),function(t){var r=t[0],u=t[1],i=r;i.ShowCreate=i.ShowCreate&&n.$3U1(u);n.$3OI(i)},function(n){r.$3OH(n)})}return 1},$3U1:function(n){return!Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(!n.$Oj||n.$Ze)||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&!n.$Du?!1:this.$150==="lead"&&this.$vZ==="opportunity"?!1:this.$150==="quote"&&this.$vZ==="salesorder"?!1:!0},$3OI:function(n){var i=this.$32k(),t;$0.$1(this.$P)||$0.$1(n)||$0.$1(i)||(t=this.$1SL(n,i),n.ShowCreate&&(t[t.length]=this.$2jc(n.EntityLogicalName,i)),this.$P(t));this.$1Y()},$1SL:function(n,t){for(var u,r=new Array(0),i=0;i<n.NavigationEntities.length;i++)u=n.NavigationEntities[i],r[i]=this.$2le(u,i,t);return r},$2le:function(n,t,i){var h=n.PrimaryField,o=n.EntityLogicalName,c=o+"_navigationButton"+t,r={},s,u,e,f;return r.NextEntityId=n.Id,r.NextEntityLogicalName=o,r.TargetViewModel=this.$A_3,r.ActionType="NavigateToNextEntity",r.NewActiveStageId=i.get_$6A(),r.NewTraversedPath=i.get_$CU().get_$Gb(),s=new Microsoft.Crm.Client.Core.ViewModels.Commands.$BL(r),u={},u.StageViewModel=this.$UJ,u.SuccessCommand=s,u.EntityId=new Microsoft.Crm.Client.Core.Framework.Guid(n.Id).toString(),e=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$2fd(c,h,"ProcessStageGateCommand",u),f=new Microsoft.Crm.Client.Core.Models.Descriptors.ComponentDefinitionDescriptor,f.ViewModelDescriptor=e,f.ViewDescriptor=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(e),f},$2jc:function(n,t){var i={},e,r,f,u;return i.RefreshContext=this.$A_3,i.IsSaveAndCloseButtonHidden=!0,i.IsSaveAndEditButtonHidden=!0,i.IsSaveAndProcessNavigateButtonHidden=!1,i.RelationshipAttribute=[this.$1aN],i.ParentReference=this.$A_3.get_$1K().get_$Qt(),i.NewActiveStageId=t.get_$6A(),i.NewTraversedPath=t.get_$CU().get_$Gb(),e=new Microsoft.Crm.Client.Core.Commands.CreateFormCommand(this.$A_3,n,i),r={},r.StageViewModel=this.$UJ,r.SuccessCommand=e,f=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$2fd("process_create_navigation_entity",Microsoft.Crm.Client.Core.Framework.Common.$2.$6("ProcessControl.CreateNew"),"ProcessStageGateCommand",r),u=new Microsoft.Crm.Client.Core.Models.Descriptors.ComponentDefinitionDescriptor,u.ViewModelDescriptor=f,u.ViewDescriptor=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(f),u},$32k:function(){var i=this.$UJ.$A6;if($0.$1(this.$UJ.get_$1v()))return null;var n=this.$UJ.get_$1v().get_$AW(),t=n.$Ja(i),r=Mscrm.ProcessControlShared.ObjectModels.$2X.$OV(n.get_$F4(),t);return new Mscrm.ProcessControlShared.ObjectModels.$I8(new Mscrm.ProcessControlShared.ObjectModels.$2X(r),t)},$3OH:function(n){n.$z===-2147093999?(this.$1UE(),this.$1Y()):this.$21(n)},$1UE:function(){this.$P(new Array(0))}};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrievePersonalDocumentTemplates",Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction,r,u;return i.$A_3=n,i.$1RA=Xrm.Internal.getEntityCode(i.$A_3.get_$2R()),r=t,$0.$1(r.OnSuccess)||(i.$7q=r.OnSuccess),$0.$1(r.OnFailure)||(i.$1M_3=r.OnFailure),$0.$1(r.QueryValue)||(u=r.QueryValue,$0.$1(u.DocumentType)||(i.$xW=u.DocumentType)),i};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.prototype={$7q:null,$xW:0,$1RA:0,$31:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(44,this.get_$25(),this.$A_3.get_$2R(),0),null);return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),n,this.$$d_$4e,this.$$d_$21),1},$4e:function(n){this.$7q(this.$2DO(n));this.$1Y()},$2DO:function(n){for(var i,r,u=new Array(0),t=0;t<n.get_$3ZH();t++)i=n.get_$I(t),r=i.get_$5c(),r.templateTypeCode===9941&&r.documentType===this.$xW&&Array.add(u,i);return new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V))(u)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveProvisionedLanguages",Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction,i=n;return t.$P=i.$$d_$4e,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.prototype={$P:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.DataApi.$1j,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$RI(),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){$0.$1(this.$P)||this.$P(n.$1H.$VU,n.$1H.$Bu);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveGlobalCreateEnabledEntities",Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$2fe=function(n,t,i,r){var u=!0;return Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()&&(u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?!0:Xrm.Utility.isEntityOfflineSyncEnabled(r)),new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(n,"Button","CreateCommand",t,i,"System","Add","Symbol",{PrimaryModelName:r},u)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction,r=t;return $0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.prototype={$P:null,$31:function(){for(var n,t,u=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("CreateNewCommandsID"),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),f=Microsoft.Crm.Client.Core.ViewModels.$3H.$XN,r=0;r<f.get_Count();r++)n=f.get_$I(r),t=n.LogicalName,n.IsChildEntity||t==="activitypointer"||t==="syncerror"||i.add(Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$2fe(t,n.DisplayName,i.get_Count()+1,n.LogicalName));return u.Controls=i.toArray(),this.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,u)),0}};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveGlobalMenuData",Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction,i=n;return t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$ou,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.prototype={$31:function(){var o=this.$A_3,f=new Sys.StringBuilder,i=0,e=o.$AK.$F,r,t,n;for(r in e)t={key:r,value:e[r]},Microsoft.Crm.Client.Core.ViewModels.$2A.isInstanceOfType(t.value)&&(n=t.value,n.set_Visible(!1),n.set_Enabled(!1),!$0.$1(n.$J)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(n.$J,1)&&(f.append("<value>"+t.key+"<\/value>"),i++));if(!i)return 0;var s="<filter type='and'><condition attribute='uniquename' operator='in'>"+f+"<\/condition><condition attribute='statecode' operator='eq' value='1'/><\/filter>",h=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nm("workflow",["uniquename","processroleassignment"]),c=h.$2fi(s),u=new Microsoft.Crm.Client.Core.Storage.DataApi.$v(c,"");return u.$Mp=!0,u.$32=i,this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(u,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$4e,this.$$d_$21),1},$4e:function(n){for(var i=this.$A_3,o=i.$AK.$F,r=n.get_entities(),s=r.length,t=0;t<s;++t){var u=r[t],f=o[u.getValue("uniquename")],h=this.$2Hn(u),e=this.$1tM(h);f.set_Visible(e);f.set_Enabled(e)}i.$8(Microsoft.Crm.Client.Core.ViewModels.$5C.$1U5);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction=function(){this.$$d_$2Pf=Function.createDelegate(this,this.$2Pf);this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$3Be=Function.createDelegate(this,this.$3Be);this.$$d_$3Bc=Function.createDelegate(this,this.$3Bc);Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.initializeBase(this);this.$82="ChangeControlCommand";this.$kp="_ControlCommands";this.$uO=[0];this.$HU=!1};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveControlConfigurations",Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$JS);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDefaultControlConfiguration",Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$2Hi)};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$JS=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$294(n),r;return i.$HB=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.RetrieveForCommands"),i.$lJ=i.$$d_$3Bc,r=t,$0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$2Hi=function(n){var t=Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$294(n);return t.$HB=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.RetrieveDefault"),t.$lJ=t.$$d_$3Be,t.$P=n.$$d_$1wH,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$294=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction,i,r;return t.$A_3=Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(n)?n:n,t.$J=t.$A_3.get_$2R(),t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1b9,i="",r="",$0.$1(t.$A_3.get_Root().$1t)||t.$A_3.get_Root().$1t.toUpperCase()!=="WORKSPACE"?t.$A_3.get_Root().$G==="EntityEditFormRootViewModel"?(i=t.$A_3.get_Root().$J,r=String.format("{0}_{1}",i,t.$A_3.get_Root().$h)):(i=t.$A_3.get_$2R(),r=String.format("{0}_{1}",i,t.$A_3.get_Root().$h)):(i=t.$A_3.get_Root().$1t.toUpperCase(),r=String.format("{0}_{1}","",t.$A_3.get_Root().$h)),t.$Kb=i,t.$h=r,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.prototype={$P:null,$Kb:null,$J:null,$h:null,$82:null,$uO:null,$kp:null,$HU:!1,$lJ:null,$HB:null,$31:function(){var n,t;return $0.$1(this.$HB)||this.$HB.start(),n=this.$A_3.get_Root().$6F(this.$A_3),(!Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(this.$A_3)||this.$A_3.get_RetrieveRequired())&&(Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(this.$A_3)||Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$A_3)||Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(n))&&(!Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(n)||n.get_RetrieveRequired())?(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(42,this.get_$25(),this.$Kb,0,this.$HU,this.$h),this.get_$f()),this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),t,this.$lJ,this.$$d_$5O),1):(this.$lJ(new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V))),0)},$3Bc:function(n){var v,d,o,y,s,f,r,l,e,u,t,g,h,i,p,a,c,w,nt,b,k,tt;if($0.$1(this.$HB)||this.$HB.stop(),v=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.ParseForCommands"),v.start(),d=this.$Kb+this.$kp,o=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet(d),n.get_$3ZH()>0)for(y=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),s=0;s<n.get_$3ZH();s++)if(f=n.get_$I(s),f.$4u===42&&(r=null,l=f.get_$5c(),l.length>0)){for(e={},u=0;u<l.length;u++)if(t=l[u],t.TypeName==="Grid"||t.TypeName==="MultilineList"||t.PrimaryModelName===this.$J){if(g=new RegExp('{"Value":"\\d","Name":"FormFactor"}'),h=JSON.stringify(t.Properties).replace(g,""),h in e){this.$2M8(t.Properties)&&(e[h].CommandParameters.Index=u);continue}if(i={},i.ApplicationMetadataType=n.get_$I(s).get_$1Np(),i.Descriptor=null,!$0.$1(this.$A_3.get_Root())&&$0.$1(r)&&(r=t.TypeName==="Grid"||this.$A_3.get_Root().$G==="GridRootViewModel"?this.$A_3.get_Root().$7X("GridContainer"):Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(this.$A_3)?this.$A_3:Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$A_3)?Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$tP(this.$A_3.get_Root(),this.$A_3):this.$A_3.get_Root().$6F(this.$A_3)),!$0.$1(r)&&Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(r))if(i.ContainerViewModel=r,t.TypeName==="CustomControl"){if(r.$sA===t.Name||$0.$1(r.$sA)){for(i.Descriptor=t,p=t.Properties,a=0;a<p.length;a++)if(c=p[a],c.Name==="DisplayName"){try{i.DisplayName=Microsoft.Crm.Client.Core.Framework.Common.$2.$6(c.Value.toString())}catch(ft){i.DisplayName=$0.$1(c.Value)?t.TypeName:c.Value.toString()}break}i.Index=u;var it=i.DisplayName,rt=f.$h+u.toString(),ut=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(rt,"Button",this.$82,it,y.get_Count(),"System",null,null,i,!0);e[h]=ut}}else(t.TypeName==="Grid"||t.TypeName==="MultilineList"||t.TypeName==="HierarchyList")&&(w=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CustomControl_Default_ListGrid"),i.ViewId=f.$h,i.DisplayName=w,nt=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(f.$h,"Button",this.$82,w,y.get_Count(),"System",null,null,i,!0),e[h]=nt)}b=e;for(k in b)tt={key:k,value:b[k]},Array.add(o.Controls,tt.value)}v.stop();o.Controls.length>0?(o.Controls.sort(this.$$d_$2Pf),this.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,o))):this.$P(null);this.$1Y()},$2j8:function(n){var t=0;switch(n){case"0":t=2;break;case"1":t=1;this.get_$25()===3&&(t=3);break;case"2":t=3}return t},$3Be:function(n){var e,o,s,l,r,h,u,i,t,c,f;if($0.$1(this.$HB)||this.$HB.stop(),e=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.ParseForDefault"),e.start(),o=null,s=-1,n.get_$3ZH()>0)for(l=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),r=0;r<n.get_$3ZH();r++)if(h=n.get_$I(r),h.$4u===42&&(u=h.get_$5c(),u.length>0))for(i=0;i<u.length;i++)t=u[i],t.ControlTypeName==="CustomControlHostView"&&this.$J===t.PrimaryModelName&&Microsoft.Crm.Client.Core.ViewModels.$4l.isInstanceOfType(this.$A_3)&&(this.$A_3.$sA===t.Name||$0.$1(this.$A_3.$sA))&&(c=t.Properties,this.$2M8(c)&&(o=t,s=i));f={};f.descriptor=o;f.index=s;e.stop();this.$P(f);this.$1Y()},$2M8:function(n){for(var t,i=0;i<n.length;i++)if(t=n[i],!IsNull(t)&&t.Name==="FormFactor")return IsNull(t.Value)||this.$2j8(t.Value)!==this.get_$25()?!1:!0;return!1},$2Pf:function(n,t){return n.LabelText.localeCompare(t.LabelText)},$5O:function(n){$0.$1(this.$HB)||this.$HB.stop();this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$3C=function(){this.$$d_$3Bb=Function.createDelegate(this,this.$3Bb);Microsoft.Crm.Client.Application.ViewModels.$3C.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$3C.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlForSuggestions",Microsoft.Crm.Client.Application.ViewModels.$3C.$1SH)};Microsoft.Crm.Client.Application.ViewModels.$3C.$1SH=function(n){var i=n,r=i.$2,t=new Microsoft.Crm.Client.Application.ViewModels.$3C,u=r.$6O.entityName,f=r.$6O.entityId,e=r.$6O.pricelevelid;return Mscrm.InternalUtilities._Script.isNullOrUndefined(r.$6O.lineItemMetaData)||(t.$qQ=JSON.parse(r.$6O.lineItemMetaData.toString())),t.$185=r.$6O.isCustomLineItemEntity,t.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(i),t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,t.$IX=i.get_DefinitionId(),t.$Ae=i.$1s.$BT+1,$0.$1(e)||(t.$1MM=new Microsoft.Crm.Client.Core.Framework.Guid(e)),$0.$1(u)||$0.$1(f)||(t.$Hv=new Xrm.Objects.EntityReference(u,new Microsoft.Crm.Client.Core.Framework.Guid(f))),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Og("started",u,String.format("Started loading suggestions (triggered by {0})",r.$6O.SuggestionsSource))),t.$185&&(t.$cB=1),t};Microsoft.Crm.Client.Application.ViewModels.$3C.$27u=function(n,t){Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(n.get_Root())&&(n.get_Root().$VB(),Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6(t)))};Microsoft.Crm.Client.Application.ViewModels.$3C.prototype={$Y3:!1,$qP:null,$1MM:null,$Hv:null,$qQ:null,$185:!1,$31:function(){var n=this.$A_3;return(n.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("query.product.cell.productname.suggestions")),n.set_NoRecordsText(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Suggestions_Dlg_No_Suggestions")),n.$1sS=!0,n.set_GridEnabled(!1),n.$H9=!0,n.set_DisableItemLongPress(!0),n.$ts=!0,$0.$1(this.$Hv)||$0.$1(this.$1MM)&&!this.$185)?(Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Og("aborted",this.$Hv?this.$Hv.TypeName:"null",String.format("Form entity (id {0}) metadata not available",this.$Hv?this.$Hv.Id.toString():"null"))),Microsoft.Crm.Client.Application.ViewModels.$3C.$27u(this.$A_3,"Suggestions_Dlg_Error_No_Price_List"),0):(this.$3Jk(),1)},$3Jk:function(){var n=this;this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.PopulateRecommendationCacheForRecordRequest(this.$Hv),this.get_$f()),function(t){n.$Y3=t.showAzureRecommendations;n.$3P2()},this.$$d_$5O)},$3P2:function(){var n=this;this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RetrieveItemIdsForRecordRequest(this.$Hv),this.get_$f()),function(t){if(n.$qP=t.itemIds,$0.$1(n.$qP)||n.$qP.length<=0){Microsoft.Crm.Client.Application.ViewModels.$3C.$27u(n.$A_3,"Suggestions_Dlg_Error_No_Line_Items");n.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Suggestions_Dlg_Error_No_Line_Items")));return}n.$3Oe()},this.$$d_$5O)},$3Oe:function(){var n=this;this.$1kZ(Number,String,Xrm.Internal.getMaxSuggestionsCount(),function(t){n.$3QR(t)},this.$$d_$3Bb)},$3Bb:function(n){this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i(n))},$3QR:function(n){var t=null,r;if(this.$185)t=String.format(Microsoft.Crm.Client.Application.ViewModels.$3C.$2DG,"<value>"+this.$qP.join("<\/value><value>")+"<\/value>",this.$qQ.entityPrimaryKey,this.$qQ.entityName,this.$qQ.itemIdAttributeName,this.$qQ.basketRecordLookupAttributeName,this.$Hv.Id);else{var u=this.$Y3?"recommendationcache":"productsubstitute",f=this.$Y3?"productpricelevelid":"productid",e=this.$Y3?"additionaldatarecordid":"substitutedproductid",o=this.$Y3?"itemid":"productid",s=this.$Y3?"recommendeditemid":"substitutedproductid",h=this.$Y3?'<condition attribute="recommendationtype" operator="eq" value="1" />\r\n\t\t\t\t\t<condition attribute="isrecommendationactive" operator="eq" value="1" />':'<condition attribute="salesrelationshiptype" operator="eq" value="1" />',c=this.$Y3?'<attribute name="recommendationrating" aggregate="max" alias="recommendationrating" />\r\n\t\t\t\t\t<attribute name="recommendeditemid" groupby="true" alias="recommendeditemid" />\r\n\t\t\t\t\t<order alias="recommendationrating" descending="true" />':"",i=new Microsoft.Crm.Client.Application.ViewModels.$3C.$3bU(this.$Hv.LogicalName,this.$qQ);t=String.format(Microsoft.Crm.Client.Application.ViewModels.$3C.$2D8,this.$1MM,u,f,e,c,o,"<value>"+this.$qP.join("<\/value><value>")+"<\/value>",h,s,i.$jq,i.$jp,this.$Hv.Id,i.$jr)}this.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(t);r=this.$A_3;r.$1s.$32=n;Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.prototype.$31.call(this)}};Microsoft.Crm.Client.Application.ViewModels.$3C.$3bU=function(n,t){this.$1fI=n;null!==t?(this.$jq=t.entityName,this.$jr=t.entityPrimaryKey,this.$jp=t.basketRecordLookupAttributeName):this.$18()};Microsoft.Crm.Client.Application.ViewModels.$3C.$3bU.prototype={$1fI:null,$jq:null,$jr:null,$jp:null,$18:function(){switch(this.$1fI){case"opportunity":this.$jq="opportunityproduct";this.$jr="opportunityproductid";this.$jp="opportunityid";break;case"quote":this.$jq="quotedetail";this.$jr="quotedetailid";this.$jp="quoteid";break;case"salesorder":this.$jq="salesorderdetail";this.$jr="salesorderdetailid";this.$jp="salesorderid";break;case"invoice":this.$jq="invoicedetail";this.$jr="invoicedetailid";this.$jp="invoiceid";break;default:this.$jq="";this.$jr="";this.$jp=""}}};Microsoft.Crm.Client.Application.ViewModels.$3C.$3bW=function(){};Microsoft.Crm.Client.Application.ViewModels.$3C.$3bW.prototype={entityName:null,entityPrimaryKey:null,basketRecordLookupAttributeName:null,itemIdAttributeName:null,parentEntityPrimaryAttributeName:null};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveUnboundTargetEntityMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction,r=n,u,f;return i.$P=r.$$d_$1uC,i.$A_3=r,u=t,f=u.QueryValue,i.$16Y=f.targetAttribute,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.prototype={$P:null,$16Y:null,$31:function(){for(var r,u,t=this.$A_3.get_ModelContext().$32O(this.$16Y),i=[],n=0;n<t.length;n++)Array.add(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(t[n],this.get_$f()));return r=this,u=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i),function(n){r.$4e(n)},function(n){u.$5O(n)}),1},$4e:function(n){for(var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),t=0;t<n.length;t++)i.add(n[t]);this.$P(i);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase.prototype={$2Hn:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r,e,i,f;if($0.$1(n)||(r=n.getValue("processroleassignment"),$0.$1(r)))return t.toArray();e=Sys.Net.XMLDOM(r).firstChild;for(var o=e.childNodes,s=o.length,u=0;u<s;++u)i=o[u],f=i.nodeName.toLowerCase(),f==="everyone"?t.add("everyone"):f!=="role"||$0.$1(i.attributes.getNamedItem("Id"))||t.add(i.attributes.getNamedItem("Id").nodeValue);return t.toArray()},$1tM:function(n){var t,c,u,e,o,h;if($0.$1(n)||!n.length)return!1;if(n[0].toLowerCase()==="everyone")return!0;t={};c=this;Array.forEach(n,function(n){try{t[new Microsoft.Crm.Client.Core.Framework.Guid(n).toString()]=!0}catch(i){}});u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$G3;for(var f=u,l=f.length,i=0;i<l;++i)if(e=f[i],e.toString()in t)return!0;o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$oK;for(var s=o,a=s.length,r=0;r<a;++r)if(h=s[r],h.toString()in t)return!0;return!1}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);this.$$d_$Fw=Function.createDelegate(this,this.$Fw);Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("CheckTaskBasedFlowStatus",Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction,i=n;return t.$A_3=i,t.$23g=new Microsoft.Crm.Client.Core.Framework.Guid(i.$12),t.$1eL=i.$G2,t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zb,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.prototype={$23g:null,$1eL:null,$31:function(){var n=new Xrm.Objects.EntityReference("workflow",this.$23g);return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(n,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["statecode","processroleassignment"]),Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$Fw,this.$$d_$9B),1},$Fw:function(n){var t=this.$2Hn(n),i=this.$1tM(t),r=n.getValue("statecode").$1i;r&&i||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$36().$1yT(this.$1eL);this.$1Y()},$9B:function(n){n.$z===-2147220969&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$36().$1yT(this.$1eL);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.$UV=function(){Microsoft.Crm.Client.Application.ViewModels.$UV.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$UV.prototype={$15K:null,$1Y:function(){Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$1Y.call(this);$0.$1(this.$A_3.get_Root())||this.$A_3.get_Root().$2Tn(this)},$21:function(n){Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$21.call(this,n);$0.$1(this.$A_3.get_Root())||this.$A_3.get_Root().$2Tn(this)},$2Qn:function(){Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$2Qn.call(this);$0.$1(this.$A_3.get_Root())||this.$A_3.get_Root().$2dp(this)},get_$4z:function(){return this.$G},get_$2AK:function(){return this.$15K},get_$2sx:function(){return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$D.$OL(this.$15K,1)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveHeaderMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction;return t.$A_3=i,t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1z7,t.$S=i.$J,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.prototype={$P:null,$S:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$S,this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){this.$A_3.set_Label(n.get_$14f());$0.$1(this.$P)||this.$P(n);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveActivitiesEnabledForMobile",Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$JS=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction;return t.$P=n.$$d_$1uC,t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.prototype={$P:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$1n),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Jz(this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$2dw:function(n,t){n.add(t)},$4e:function(n){for(var t,u=n.get_$3ZH(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),i=0;i<u;i++)t=n.get_$I(i),t.get_$8p()&&t.$19L===1&&this.$2dw(r,t);this.$P(r);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveAttachmentContents",Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$sv)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$sv=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction;return t.$A=i,t.$P=i.$$d_$2UE,t.$1M=i.$$d_$3O6,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.prototype={$P:null,$1M:null,$A:null,get_$3LX:function(){return $0.$1(this.$A)?null:this.$A.get_ModelContext().get_$57()},$31:function(){if(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()||Microsoft.Crm.Client.Core.ViewModels.$n.$L8(this.$A.$2.$1t)&&Microsoft.Crm.Client.Core.ViewModels.$n.$L8("annotation")){var n=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["documentbody","mimetype"]);return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(this.get_$3LX(),n,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$4e,this.$$d_$5O),1}return this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093999)),0},$4e:function(n){if($0.$1(n)){var t=Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147220969);this.$5O(t);return}$0.$1(this.$P)||this.$P(Microsoft.Crm.Client.Core.Models.$O.$B(n));this.$1Y()},$5O:function(n){$0.$1(this.$1M)||this.$1M(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.initializeBase(this);this.$82="ChangeChartViewCommand"};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveChartViewSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction;return i.$A_3=n,i.$Kb=i.$A_3.get_$2R(),Microsoft.Crm.Client.Application.ViewModels.$6T.$1SF(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.initializeBase(this);this.$82="ChangeChartCommand";this.$kp="_ChartCommands";this.$1Jb=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_Visualization_Group_Name");this.$1Gn=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_Visualization_Group_Name");this.$4u=23;this.$uO=[0]};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveChartSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction,r=n;return i.$A_3=r,i.$Kb=r.$J,Microsoft.Crm.Client.Application.ViewModels.$6T.$1SF(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.prototype={$3Ac:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$Ek.$2j0("575b9a8f-46da-4fb5-b014-51a689b003f0")},$3Aj:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$Ek.$2j0("d68cb29d-2243-41d1-b5a8-ee24dc885140")}};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction=function(){this.$$d_$2Nq=Function.createDelegate(this,this.$2Nq);this.$$d_$3Bt=Function.createDelegate(this,this.$3Bt);this.$$d_$3Ep=Function.createDelegate(this,this.$3Ep);this.$bW=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$4M);this.$1es=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$75);Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveListMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$1zC)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$1zC=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction,r=t;return $0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$1EM(i,n),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$1EM=function(n,t){var i=t,r,u,f;n.$A_3=t;n.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zD;n.$dG=i.get_$3YS();n.$o=i.get_$2ic();n.$1t=i.get_$2nN();r=i;n.add_$RQ(r.$$d_$ge||(r.$$d_$ge=Function.createDelegate(r,r.$ge)));u=i;n.add_$OG(u.$$d_$1GJ||(u.$$d_$1GJ=Function.createDelegate(u,u.$1GJ)));n.add_$8C(n.$$d_$3Ep);f=i;n.$1M_3=f.$$d_$3Bw||(f.$$d_$3Bw=Function.createDelegate(f,f.$3Bw))};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.prototype={$1t:null,$dG:null,$O6:null,$o:0,$P:null,$23V:!1,get_$Ri:function(){return $0.$1(this.$O6)?null:this.$O6.ViewModelDescriptor},$16y:function(){if(!$0.$1(this.get_$Ri())){this.$1es.$2aS(this.$dG,this.get_$Ri(),null);var n=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(this.get_$Ri());$0.$1(this.$bW)||(this.$bW.$pi(this.$dG,n),this.$23V=!0)}},$31:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(this.$A_3.get_$2R(),1)){var n=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$1t),t=n.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())?new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(this.$o,this.get_$25(),this.$A_3.get_$2R(),1,!0,null,1):new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(this.$o,this.get_$25(),this.$A_3.get_$2R(),this.$A_3.get_$1Np(),!1,n.toString());this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(t,this.get_$f()),this.$$d_$3Bt,this.$$d_$2Nq)}return 1},$3Bt:function(n){if(!n.get_$3ZH()){if($0.$1(this.$1t)){this.$2Nq(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147094003));return}this.$1t=null;this.$31();return}if(this.$O6=n.get_$I(0).get_$5c(),!$0.$1(this.$O6)){if(this.$A_3.get_$Dt()){this.$1Y();return}var t=this.$A_3;t.set_$3Ub(this.$1t);this.$16y();$0.$1(this.$P)||this.$P(this.$O6);this.$1Y()}},$2Nq:function(n){this.get_$CS()!==3&&this.$21(n)},$3Ep:function(){this.$23V||this.$bW.$2B4(this.$dG)}};Microsoft.Crm.Client.Application.ViewModels.$6T=function(){this.$$d_$2Pf=Function.createDelegate(this,this.$2Pf);this.$1Gn=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_Personal_View_Group_Name");this.$1Jb=Microsoft.Crm.Client.Core.Framework.Common.$2.$6("CRM_System_View_Group_Name");this.$uO=Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$Oe()?[1,3]:[1];Microsoft.Crm.Client.Application.ViewModels.$6T.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$6T.$1SF=function(n,t){var i=t;return $0.$1(i.OnSuccess)||(n.$P=i.OnSuccess),n};Microsoft.Crm.Client.Application.ViewModels.$6T.prototype={$P:null,$Kb:null,$82:null,$4u:16,$kp:"_ViewCommands",$3Ac:function(){return!0},$3Aj:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$K().$Ek.$2j0("f3b782a2-e6d5-4b86-9b7d-33f627fe5c5d")},$358:function(){return!0},$31:function(){for(var i,r,t=[],n=0;n<this.$uO.length;n++)Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(this.$4u,this.get_$25(),this.$Kb,0,!1,null,this.$uO[n]),this.get_$f()));return i=this,r=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(n){i.$4e(n)},function(n){r.$5O(n)}),1},$4e:function(n){var b=this.$Kb+this.$kp,a=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet(b),s=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(this.$1Jb,"Group",null,this.$1Jb,0,null,null,null),h=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(this.$1Gn,"Group",null,this.$1Gn,1,null,null,null),k=this.$3Ac(),d=this.$3Aj(),p=this.$A_3,g=p.$m1,t=null,o,c,i,w,r,f,l,e,v,u,y;if(!$0.$1(g))for(t=p.$m1.toUpperCase().split(","),o=0;o<t.length;o++)t[o]=t[o].replace("{","").replace("}","");if(n.length>0)for(c=0;c<n.length;c++)if(i=n[c],i.get_$3ZH()>0)for(w=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),r=0;r<i.get_$3ZH();r++){if(f=i.get_$I(r),l=!0,t&&t.length>0)for(l=!1,e=0;e<t.length;e++)if(t[e]&&f.$h.toUpperCase()===t[e]){l=!0;t[e]=null;break}l&&(v=f.$1S,u={},u.ViewId=f.$h,u.DisplayName=v,u.ApplicationMetadataType=i.get_$I(r).get_$1Np(),u.MetadataSubType=i.get_$I(r).$Ea,u.Descriptors=i.get_$I(r).get_$GK().$6d,u.IsDefault=i.get_$I(r).$HU,y=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(f.$h,"Button",this.$82,v,w.get_Count(),"System",null,null,u,this.$358(f)),!i.get_$I(r).$WJ&&k?Array.add(s.Children,y):i.get_$I(r).$WJ&&d&&Array.add(h.Children,y))}h.Children.length>0&&(h.Children.sort(this.$$d_$2Pf),Array.add(a.Controls,h));s.Children.length>0&&(s.Children.sort(this.$$d_$2Pf),Array.add(a.Controls,s));this.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,a));this.$1Y()},$2Pf:function(n,t){return n.LabelText.localeCompare(t.LabelText)},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveTimeZoneDefinition",Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction,i=n;return t.$P=i.$$d_$4e,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.prototype={$P:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.DataApi.$1j,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$RI(),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){var i=n.$Q.timezonedefinitionbycode,t;$0.$1(this.$P)||(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.TimeZoneDefinition))(i.$22N()),this.$P(this.$3Ua(t)));this.$1Y()},$5O:function(n){this.$21(n)},$3Ua:function(n){var t=this;return n.sort(function(n,t){var u=n.$Iu,i=n.$YE,f=t.$Iu,r=t.$YE;return i!==r?r-i:u-f}),n}};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.initializeBase(this);this.$82="ChangeViewsCommand"};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveViewSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$JS=function(n,t){var r=n,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction;return i.$A_3=r,i.$Kb=i.$A_3.get_$2R(),Microsoft.Crm.Client.Application.ViewModels.$6T.$1SF(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.prototype={$31:function(){if(!this.$A_3.$Sn){var n=this;return window.setTimeout(function(){var t=n.$Kb+n.$kp;n.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(n.$A_3,new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet(t)));n.$1Y()},0),1}return Microsoft.Crm.Client.Application.ViewModels.$6T.prototype.$31.call(this)},$358:function(n){return Microsoft.Crm.Client.Core.ViewModels.$n.$2NA(n.get_$GK(),n.$6o)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$1u4=Function.createDelegate(this,this.$1u4);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEntityReferences",Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction,r=n,u;return i.$P=r.$$d_$1uC,i.$A_3=r,u=t,i.$S=u.QueryValue,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.prototype={$P:null,$S:null,$eT:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$S,this.get_$f()),this.$$d_$1u4,this.$$d_$5O),1},$1u4:function(n){this.$eT=n.get_$Gd();var i=this.$A_3,r=new Microsoft.Crm.Client.Core.Framework.$1c(this.$eT,!1),u=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nm(this.$S,r),f=u.$2fi(i.$lm),t=new Microsoft.Crm.Client.Core.Storage.DataApi.$TA(f,this.$S,this.$eT,i.$lm);t.set_$7m(1);t.$32=25;this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(t,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$4e,this.$$d_$5O)},$4e:function(n){for(var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3i)),t=0;t<n.get_count();t++)i.add(new Xrm.Objects.EntityReference(n.get_$I(t).$N.LogicalName,n.get_$I(t).$N.Id,n.get_$I(t).getValue(this.$eT)));this.$P(i);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveLookupViewQueryFromId",Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$2E6)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$2E6=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction;return t.set_$Mh(n),t.$P=n.$$d_$3FE,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.prototype={$P:null,get_$Mh:function(){return this.$A_3},set_$Mh:function(n){return this.$A_3=n,n},$31:function(){var t=new Microsoft.Crm.Client.Core.Framework.Guid(this.get_$Mh().$IB),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),null,1,!1,t.toString()),r=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(30,this.get_$25(),null,1,!1,t.toString()),n=this;return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(i,this.get_$f()),function(t){n.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(r,n.get_$f()),function(i){n.get_$Mh().$IB in n.get_$Mh().$dq||n.$Fw(t,i)},n.$$d_$5O)},this.$$d_$5O),1},$Fw:function(n,t){var i,r,u;n.get_$3ZH()>0&&t.get_$3ZH()>0?(i=this.get_$Mh(),r=new Microsoft.Crm.Client.Core.Models.$8D(new Microsoft.Crm.Client.Core.Framework.Guid(i.$IB),n.get_$I(0).get_$GK(),t.get_$I(0).get_$5c(),n.get_$I(0).$6o),this.$P(r)):(u=Microsoft.Crm.Client.Core.Models.$8D.$298(this.get_$Mh().$Ad),this.get_$Mh().$1YQ(u));this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("RetrieveLookupViewQueryFromEntityType",Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$2E6)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$2E6=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction;return i.set_$Mh(n),i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zG,i.$1bR=t,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.prototype={$1bR:0,$JN:null,get_$Mh:function(){return this.$A_3},set_$Mh:function(n){return this.$A_3=n,n},$31:function(){this.$JN=this.get_$Mh().$Ad;var t=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$JN,1,!0,null,2),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(30,this.get_$25(),this.$JN,1,!0,null,2),r=[Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(t,this.get_$f()),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(i,this.get_$f())],n=this;return this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r),function(t){t.length!==2||n.get_$Mh().$IB in n.get_$Mh().$dq?t.length>0&&Microsoft.Crm.Client.Core.Framework.$4.isInstanceOfType(t[0])?n.$5O(t[0]):n.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i("Unknown error in RetrieveLookupViewQueryFromEntityTypeAction")):n.$3Ob(t[0],t[1])},this.$$d_$5O),1},$3Ob:function(n,t){if(n.get_$3ZH()>0&&t.get_$3ZH()>0){var i=new Microsoft.Crm.Client.Core.Models.$8D(new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$I(0).$h),n.get_$I(0).get_$GK(),t.get_$I(0).get_$5c(),this.$JN);this.$1bR?this.get_$Mh().$2QD(i):this.get_$Mh().$1YQ(i);this.$1Y()}else this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i("Lookup definition not found"))},$5O:function(n){var t=Microsoft.Crm.Client.Core.Models.$8D.$298(this.$JN);this.$1bR?this.get_$Mh().$2QD(t):this.get_$Mh().$1YQ(t);$0.$1(this.$1M_3)||this.$1M_3(n);this.$6q(null)}};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrievePersonalization",Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$B=function(n){var u=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction,i,r;return t.$64=Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$VS(u),i=u,t.$P=i.$$d_$3Bz||(i.$$d_$3Bz=Function.createDelegate(i,i.$3Bz)),r=u,t.$1M_3=r.$$d_$2Ns||(r.$$d_$2Ns=Function.createDelegate(r,r.$2Ns)),t.$A_3=u,t};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$VS=function(n){return Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.isInstanceOfType(n)&&!n.$ji?Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zT:Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zS};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.prototype={$P:null,$31:function(){var n=this.$A_3;return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$4C,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$hb(n.get_$aV()),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){if(!$0.$1(this.$P)){var t=Microsoft.Crm.Client.Core.Models.$8g.$B(n.$7H);this.$P(t)}this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction=function(){this.$$d_$2bS=Function.createDelegate(this,this.$2bS);this.$$d_$1FY=Function.createDelegate(this,this.$1FY);this.$bW=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$4M);this.$1es=Microsoft.Crm.Client.Core.Framework.$3K.Instance.$DT(Microsoft.Crm.Client.Core.Framework.$75);Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RootDefinition",Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$34B)};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$34B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction;return Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$1EM(t,n),t};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$1EM=function(n,t){var i=t,r,u;n.$A_3=i;n.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1qj;n.$dG=i.get_ViewModelId();n.$o=i.get_componentType();n.$1t=i.get_definitionId();n.$Aq=i.get_applicationMetadataType();n.$h=i.get_sourceId();r=i;n.add_$RQ(r.$$d_$ge||(r.$$d_$ge=Function.createDelegate(r,r.$ge)));u=i;n.add_$OG(u.$$d_$1GJ||(u.$$d_$1GJ=Function.createDelegate(u,u.$1GJ)))};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.prototype={$1t:null,$h:null,$dG:null,$O6:null,$Aq:1,$o:0,get_$Ri:function(){return $0.$1(this.$O6)?null:this.$O6.ViewModelDescriptor},$16y:function(){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),i,n,r;return $0.$1(this.get_$Ri())||this.$A_3.get_$Dt()?t.resolve():(i=Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$A_3)&&Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()!==4,n=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(r){var u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RootViewModel:UpdateRoot:UpdateRootViewModel");u.start();n.$1es.$2aS(n.$dG,n.get_$Ri(),null,i?null:r);u.stop();u.addParameter(n.$1t);i&&n.$pi(t)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$16y,"GetRootDefinitionAction.UpdateRoot.UpdateRootViewModel"),i||(r=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){r.$pi(t)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$16y,"GetRootDefinitionAction.UpdateRoot.UpdateView"))),t.promise()},$pi:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RootViewModel:UpdateRoot:UpdateView"),i;t.start();i=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$H3(this.get_$Ri());this.$2aS(i);$0.$1(this.$bW)||this.$bW.$pi(this.$dG,i);t.stop();t.addParameter(this.$1t);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1NY("LoadedInteractionReady",1,this.$A_3.get_ViewModelId());n.resolve()},$2aS:function(){},$31:function(){return this.$vr(),1},$vr:function(n){var t=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(this.$o,this.get_$25(),this.$1t,1,!0,this.$h),i;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(t.$12J=!1);n||(n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(t,this.get_$f()));i=this;this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),n,function(n){i.$3Bg(n,t)},this.$$d_$1FY)},$3Bg:function(n,t){var i,r,u;n.get_$3ZH()>0?(this.$O6=n.get_$I(0).get_$5c(),this.$A_3.set_sourceId(n.get_$I(0).$h),$0.$1(this.get_$Ri())||this.$A_3.get_$Dt()||(i=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(Array,"AttributeFieldNames",this.get_$Ri().Properties),$0.$1(i)?this.$1Ab():this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$1t,i),this.get_$f()),this.$1kK(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M)),this.$1kK(Microsoft.Crm.Client.Core.Framework.$4)))):t.$6o==="Workspace".toUpperCase()?(r=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(this.$o,this.get_$25(),this.$1t,1,!0),u=this,this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(r,this.get_$f()),function(n){u.$2rE(n,r)},this.$$d_$1FY)):t.$6o==="Workspace".toUpperCase()?this.$1FY(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147094011)):t.$6o==="InteractionCentricWorkspace".toUpperCase()?Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_ServiceDesk_AccessDenied_DateRange"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_ServiceDesk_AccessDenied_DateRange"),this.$$d_$2bS):(Microsoft.Crm.Client.Core.Framework.Trace.logError(1,String.format("Root definition '{0}' not found.",t.toString())),this.$1FY(Microsoft.Crm.Client.Core.Framework.$4.$mC(0)))},$2rE:function(n){var t,o,i,h,c;if(n.get_$3ZH()>0){var f={},r=new Array(0),u=new Array(0);for(t=0;t<n.get_$3ZH();++t){for(var s=n.get_$I(t).get_$5c().ViewModelDescriptor.Properties,l=s.length,e=0;e<l;++e)if(o=s[e],o.Name==="IsSystemDashboard"){o.Value?Array.add(r,n.get_$I(t).$1S):Array.add(u,n.get_$I(t).$1S);break}f[n.get_$I(t).$1S]=n.get_$I(t)}i=null;r.length>0?(r.sort(),i=f[r[0].toString()]):u.length>0&&(u.sort(),i=f[u[0].toString()]);this.$A_3.set_sourceId(i.$h);this.$O6=i.get_$5c();this.$1Ab()}else h=Microsoft.Crm.Client.Core.Framework.Common.$2.$1E9("MoCA_No_Dashboard_Information_Message")?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("MoCA_No_Dashboard_Information_Message"):"",c=Microsoft.Crm.Client.Core.Framework.Common.$2.$1E9("PinnedTiles")?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("PinnedTiles"):"",this.$O6=Microsoft.Crm.Client.Core.Models.Descriptors.$U.$2lg(this.get_$25()===2,h,c),this.$1Ab()},$2bS:function(){this.dispose()},$1Ab:function(){var n=this;this.$1j(Object,this.$16y(),function(){n.$1Y()},this.$$d_$1FY)},$1kK:function(){var n=this;return function(){n.$1Ab()}},$1FY:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);this.$$d_$Fw=Function.createDelegate(this,this.$Fw);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("AttributeMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$2zh)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$2zh=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction,r;return i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1yw,r=t,i.$BK=r.EntityType,i.$35=r.Attributes,i.$P=r.OnSuccess,i.$1M_3=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.prototype={$P:null,$BK:null,$35:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$BK,this.$35),this.get_$f()),this.$$d_$Fw,this.$$d_$9B),1},$Fw:function(n){n.get_$3ZH()>0?($0.$1(this.$P)||this.$P(n.$22N()),this.$1Y()):this.$9B(Microsoft.Crm.Client.Core.Framework.$4.$i(String.format("No attribute metadata found for entity type : {0}",this.$BK)))},$9B:function(n){$0.$1(this.$1M_3)||this.$1M_3(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction=function(){this.$$d_$3CH=Function.createDelegate(this,this.$3CH);this.$$d_$3HT=Function.createDelegate(this,this.$3HT);this.$$d_$1FX=Function.createDelegate(this,this.$1FX);this.$$d_$3HW=Function.createDelegate(this,this.$3HW);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveChartByIdAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$1nw)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$1nw=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction;return t.$1nx(n),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.prototype={$AA:null,$KE:null,$Ln:null,$XY:null,$As:null,$1nx:function(n){var t=n;this.$A_3=t;this.$AA=new Xrm.Objects.EntityReference(t.$PP,new Microsoft.Crm.Client.Core.Framework.Guid(t.$AA));this.$KE=new Xrm.Objects.EntityReference(t.$bY,new Microsoft.Crm.Client.Core.Framework.Guid(t.$KE));this.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1yx},$1ng:function(n,t){var i=this.$5j("OnLoadDataFailed");i&&i(this,new Microsoft.Crm.Client.Core.Storage.DataApi.$A4(n,t))},$31:function(){if($0.$1(this.$AA))throw Error.create("viewid is required to call retrieve chart data");if($0.$1(this.$KE))throw Error.create("visualizationId is required to call retrieve chart data");return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(23,this.get_$25(),null,1,!1,this.$KE.Id.toString()),this.get_$f()),this.$$d_$3HW,this.$$d_$1FX),1},$3HW:function(n){if(n.get_$3ZH()>0)this.$XY=n.get_$I(0),this.$35C(),this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),null,1,!1,this.$AA.Id.toString()),this.get_$f()),this.$$d_$3HT,this.$$d_$3CH);else{var t=new Microsoft.Crm.Client.Core.Framework.$5p(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_NoReadPrivilege"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Message_0x80040220"));this.$1Dy(t)}},$3HT:function(n){var t,r,u,f;if(n.get_$3ZH()>0){this.$Ln=n.get_$I(0);t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveChartDataAction.ParserFetchData");t.start();r=this.$XY.get_$5c().datadescription;u=this.$Ln.get_$GK().$A9(1);this.$357();try{this.$As=new Microsoft.Crm.Client.Core.Models.Chart.$IS(r,u);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("InteractionCentricMultiEntityChartsFeature")&&this.$3X6(this.$As.$Bg.$72.get_$1G())}catch(i){if(Microsoft.Crm.Client.Core.Framework.$5p.$1Ev(i))f=Microsoft.Crm.Client.Core.Framework.$5P.$1SG(Microsoft.Crm.Client.Core.Framework.$5p,i,"ChartError"),this.$1Dy(f);else throw i;}t.stop();this.$3Z6()}else this.$1FX(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147084511))},$357:function(){},$3X6:function(){},$35C:function(){},$2By:function(){var r,u,t,i,n,f;if(this.$A_3.get_$Dt()){this.$1Y();return}r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveChartDataAction.ProcessFetchData");r.start();this.$As.$2Xl();u=this.$2ID(this.$As.get_$2b7());t=new Microsoft.Crm.Client.Core.Storage.DataApi.$1P(this.$As.get_$1G());t.$Mp=!0;t.$32=this.$As.$Bg.$72.$Eo;r.stop();i=[];Array.addRange(i,this.$As.$Bg.$2UF());Array.add(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$vt(t,u,this.get_$f()));n=this;f=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i),function(t){for(var r,f,u=null,i=0;i<t.length;i++)$0.$1(t[i])||Object.getType(t[i])!==Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection?(r=t[i].$22N(),f=n.$As.$Bg.$nj[r[0].$S],r.length>0&&!$0.$1(f)&&f.$Ew.$ng(r,!1)):u=t[i];u?n.$JF(function(){n.$2Nd(u)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1Ot):n.$1FX(Microsoft.Crm.Client.Core.Framework.$4.$i("load chart data failure, EntityCollection is not found in results! "))},function(n){f.$2Nb(n)})},$2ID:function(n){var i=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Storage.DataApi.$1P)),t;return n&&(t=new Microsoft.Crm.Client.Core.Storage.DataApi.$1P(n),t.$32=0,t.$Mp=!0,i.set_$I("",t)),i},$3KO:function(n){return n},$2Nd:function(n){if(this.$A_3.get_$Dt())this.$1Y();else if($0.$1(n))this.$21(Microsoft.Crm.Client.Core.Framework.$4.$i(String.format("Retrieve multiple returned null")));else{var r=this.$3KO(n),t=this.$A_3,i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveChartDataAction.BuildChartModel");i.start();$0.$1(t.$No)||(t.$No.$6D(),t.set_CrmChartBuilder(null));t.set_CrmChartBuilder(Microsoft.Crm.Client.Core.ViewModels.Controls.$9d.$2jx(this.$Ln,this.$XY,this.$As.$Bg,Microsoft.Crm.Client.Core.Models.$1D.$B(r)));this.$1Y();i.stop()}},$3Z6:function(){var t=this.$As.$Bg.$3OL(),n,i;t.length?(n=this,i=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(t){n.$As.$Bg.$PI(t);n.$2By()},function(n){i.$1FX(n)})):(this.$As.$Bg.$PI(null),this.$2By())},$1FX:function(n){this.$21(n);this.$2hp();this.$1ng("RetrieveChartDataAction",n.$E)},$2hp:function(){this.$Ln=null;this.$XY=null;this.$As=null},$3CH:function(n){this.$21(n);this.$1ng("RetrieveViewData",n.$E)},$2Nb:function(n){var t,i;n.$z===-2147093999?(t=new Microsoft.Crm.Client.Core.Framework.$5p(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("L_Offline_Indicator_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_UnavailableOffline")),this.$1Dy(t)):n.$z===-2147220960?(i=new Microsoft.Crm.Client.Core.Framework.$5p(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_NoReadPrivilege"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Chart_NoPermission_Message")),this.$1Dy(i)):(this.$21(n),this.$1ng("RetrieveVizData",n.$E))},$1Dy:function(n){if(!$0.$1(this.$A_3)&&!this.$A_3.get_$Dt()){var i=this.$A_3,t=new Microsoft.Crm.Client.Core.Models.Chart.$IV;t.$6Y=new Microsoft.Crm.Client.Core.Models.$JG;t.$bD=this.$Ln?this.$Ln.$1S:"";t.$JJ=1;t.$Dm=new Microsoft.Crm.Client.Core.Framework.$O4;t.$Dm.$eW=n.get_$wl();t.$Dm.$Yf=n.get_$1BU();i.set_$zn(t)}this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveCommandSet",Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$JS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$JS=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction,r;return i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1z0,r=t,i.$Kb=r.QueryValue,$0.$1(r.OnSuccess)||(i.$P=r.OnSuccess),$0.$1(r.OnFailure)||(i.$1M_3=r.OnFailure),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.prototype={$P:null,$Kb:null,$Q6:null,$31:function(){var n=this,t=this;return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(9,this.get_$25(),null,1,!0,this.$Kb),this.get_$f()),function(t){if(t.get_$3ZH()>0){var i=t.get_$I(0).get_$5c();n.$Q6=i}else n.$Q6=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("");n.$4e()},function(n){t.$5O(n)}),1},$4e:function(){var t,n,i;$0.$1(this.$Q6)||$0.$1(this.$P)?this.$1Y():(t=[],this.$24n(t,this.$Q6.Controls),n=this,i=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(){n.$P(new Microsoft.Crm.Client.Core.ViewModels.$64(n.$A_3,n.$Q6));n.$1Y()},function(n){i.$21(n)}))},$5O:function(n){this.$21(n)},$24n:function(n,t){for(var i,u=t,f=u.length,r=0;r<f;++r)i=u[r],i.Children.length>0?this.$24n(n,i.Children):$0.$1(i.CommandParameters)||$0.$1(i.CommandParameters.RetrievalAction)||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$2Dl.contains(i.Id)||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&this.$A_3.$7s===1&&i.Id==="ProcessControlsButton"||Array.add(n,this.$3OP(i))},$3OP:function(n){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor(n.CommandParameters.RetrievalAction,this.$A_3.get_$2R()+n.CommandParameters.ContextSuffix,!1,[1,2]),r=this;return i.OnSuccess=function(i){$0.$1(i)||$0.$1(i.$EJ)||(n.Children=i.$EJ.Controls);t.resolve(null)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$A_3,i),t.promise()}};Microsoft.Crm.Client.Application.ViewModels.$BA=function(){this.$$d_$3GX=Function.createDelegate(this,this.$3GX);this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$1u4=Function.createDelegate(this,this.$1u4);Microsoft.Crm.Client.Application.ViewModels.$BA.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$BA.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("LookupByName",Microsoft.Crm.Client.Application.ViewModels.$BA.$B)};Microsoft.Crm.Client.Application.ViewModels.$BA.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.$BA,i=n;return t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$1wR=i.$$d_$1uC,t.$A_3=i,t.$XE=i.$FQ,t.$S=i.$J,t};Microsoft.Crm.Client.Application.ViewModels.$BA.prototype={$P:null,$1wR:null,$S:null,$XE:null,$eT:null,$31:function(){var n=this.$A_3;return $0.$1(n.get_$AN())?this.$R1():this.$3Pc(),1},$R1:function(){this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$S,this.get_$f()),this.$$d_$1u4,this.$$d_$5O)},$1u4:function(n){var t=this.$A_3,u,r,f,o,i,s,h,e;$0.$1(t.get_$AN())||t.get_$AN().set_LookupDisplayName(n.get_$9t());u=null;$0.$1(t.get_$AN())||$0.$1(t.get_$AN().$Ix)||(u=t.get_$AN().$Ix);r=Array.clone(t.get_$2n1());f=Array.clone(t.get_$2n2());this.$eT=n.get_$Gd();$0.$1(u)&&(o=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nm(this.$S),u=o.$2fi());i=Microsoft.Crm.Client.Core.ViewModels.$5t.$Ao.$29W(u,this.$S,this.$eT,this.$A_3);$0.$1(this.$A_3.get_ModelContext())||this.$S!==this.$A_3.get_ModelContext().get_ModelName()||$0.$1(n)||$0.$1(n.get_$Hj())||(s="<condition attribute='"+n.get_$Hj()+"' operator='ne' value='"+this.$A_3.get_ModelContext().get_Id()+"' />",Array.add(r,s),Array.add(f,this.$S));Microsoft.Crm.Client.Core.Framework.$3.$9(t.get_$AN().get_$1aX())||(t.get_$AN().$18D?i.$3Sy(t.get_$AN().get_$1aX()):Array.add(r,t.get_$AN().get_$1aX()));i.set_$7m(1);i.$32=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K()?Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$2M.$hN:25;t.get_$2ah()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?(h=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25(),this.$S,1,!0,null,3),e=this,this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(h,this.get_$f()),function(n){n.$22N().length>0?(i.$2XT(e.$XE,r,f,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V(),!1),e.$3Oy(t,i,n)):e.$2UX(i,r,f)},this.$$d_$5O)):this.$2UX(i,r,f)},$3Oy:function(n,t,i){var o,u;if(this.$S in n.$qg)o=n.$qg[this.$S].$6d.get_$I("fetchXml").Data,u=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2o.$ma(t.get_$1G()),u.$25S(o),this.$2UU(t,u.$mb());else for(var f=i.$22N(),s=f.length,r=0;r<s;++r){var h=f[r],c=new Xrm.Objects.EntityReference("savedquery",new Microsoft.Crm.Client.Core.Framework.Guid(h.$h)),e=this,l=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(c,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["querytype"]),Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),this.get_$f()).then(function(r){var f=Microsoft.Crm.Client.Core.Models.$O.$B(r),s=f.$M.fields.querytype,h=f.$M.fields.savedqueryid.toString(),u;if(s===4){for(u=0,u=0;u<i.get_$3ZH();u++)if(i.get_$I(u).$h===h)break;n.$qg[e.$S]=i.get_$I(u).get_$GK();var c=i.get_$I(u),l=c.get_$GK().$6d.get_$I("fetchXml").Data,o=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2o.$ma(t.get_$1G());o.$25S(l);e.$2UU(t,o.$mb())}},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Failed for RetrieveQuickFindMetadataAndLookupResults in LookupByNameAction with error : {0}",n.$E)})}},$2UU:function(n,t){var e,i,r,u,f;this.$XE===""&&(this.$XE="*");n.set_$1G(Microsoft.Crm.Client.Core.ViewModels.$2D.$1oC(t,this.$XE));e=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Dj(n.get_$1G());$0.$1(e)&&!Microsoft.Crm.Client.Core.ViewModels.$2D.$1FB(this.$XE)?this.$4e(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(new Array(0),!1,0,!1)):(i="",r=Microsoft.Crm.Client.Core.ViewModels.$2D.$1Tv(n.get_$1G()),$0.$1(r)||(i=r.toString()),u=this,f=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(n,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()).done(function(n){u.$4e(n);var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Od("ServiceDeskQuickFindSearchEvent");t.addEventParameter("EntityName",u.$S);t.addEventParameter("ColumnSet",i);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)}).fail(function(n){f.$5O(n);var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Od("ServiceDeskQuickFindSearchFailedEvent");t.addEventParameter("EntityName",f.$S);t.addEventParameter("ColumnSet",i);t.addEventParameter("ErrorStatus",n.$E);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(t)}))},$4e:function(n){var r=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1Pp(this.$A_3,Microsoft.Crm.Client.Core.Models.$1D.$B(n)),i,t;for(this.$P(r),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3i)),t=0;t<n.get_count();t++)i.add(new Xrm.Objects.EntityReference(n.get_$I(t).$3F.LogicalName,n.get_$I(t).$3F.Id,n.get_$I(t).getValue(this.$eT)));this.$1wR(i.toArray());this.$1Y()},$5O:function(n){this.$21(n)},$2UX:function(n,t,i){n.$2XT(this.$XE,t,i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V(),!0);this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(n,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$4e,this.$$d_$5O)},$3Pc:function(){var n=this.$A_3,t,i;n.get_$AN().$27R();!$0.$1(n.get_$AN().$Ws)&&!$0.$1(n.get_$AN().$Ws.handlers)&&n.get_$AN().$Ws.handlers.get_Count()>0?(t=this.$A_3.get_$AN().$Ws,t.runCompleteCallback=this.$$d_$3GX,i=Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$vK.length,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$BX(t),Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$vK.length>i&&this.$R1()):this.$R1()},$3GX:function(){this.$Wg.get_$WK()&&this.$R1()}};Microsoft.Crm.Client.Application.ViewModels.$3b=function(){Microsoft.Crm.Client.Application.ViewModels.$3b.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.$3b.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("CreateRecord",Microsoft.Crm.Client.Application.ViewModels.$3b.$B)};Microsoft.Crm.Client.Application.ViewModels.$3b.$B=function(n){return Microsoft.Crm.Client.Application.ViewModels.$3b.$1Ax(n)};Microsoft.Crm.Client.Application.ViewModels.$3b.$1Ax=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.$3b,i,r,u;return Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ac.isInstanceOfType(n)&&(i=n,t.$A_3=i,r=i,t.$P=r.$$d_$1vW||(r.$$d_$1vW=Function.createDelegate(r,r.$1vW)),u=i,t.$1M_3=u.$$d_$1vU||(u.$$d_$1vU=Function.createDelegate(u,u.$1vU)),t.set_$PM(i.get_$PM()),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&i.get_$2sP()===1&&(t.$w5=2)),t};Microsoft.Crm.Client.Application.ViewModels.$3b.prototype={$P:null,$1b1:null,$1b0:null,$R1:function(){var t=this.$A_3.get_ModelContext(),n;return!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()&&Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()&&!Microsoft.Crm.Client.Core.ViewModels.$n.$L8(t.$M.$N.LogicalName)?(this.$1bh(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093996)),1):(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("CreateRecordActionInitiated",0,this.$A_3.get_ViewModelId()),n=this,this.$1j(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$B(t.$M,this.get_$PM(),this.get_$f()),function(i){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$6c("CreateRecordActionFinished",0,n.$A_3.get_ViewModelId());n.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(t.$M.$N.LogicalName,n.get_$f()),function(r){var f,u;Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ac.isInstanceOfType(n.$A_3)?(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(n.$A_3.get_$2f3()),u.contains(r.get_$Gd())||u.add(r.get_$Gd()),f=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(u.toArray())):f=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([r.get_$Gd()]);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()?n.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(i,f,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI(),n.get_$f()),function(t){n.$296(t,r.get_$Gd())},n.$$d_$1bh):n.$296(t.$M,r.get_$Gd())},n.$$d_$1bh)},this.$$d_$1bh),1)},$1Y:function(){$0.$1(this.$P)||this.$P(this.$1b1,this.$1b0);Microsoft.Crm.Client.Core.ViewModels.$TK.prototype.$1Y.call(this)},$GX:function(){this.$1b1=null;this.$1b0=null;Microsoft.Crm.Client.Core.Framework.$BN.prototype.$GX.call(this)},$296:function(n,t){Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$A_3.get_ModelContext())&&this.$A_3.get_ModelContext().$6D();var i=Microsoft.Crm.Client.Core.Models.$O.$B(n),r=i.$M.$N;this.$A_3.set_ModelContext(i);this.$1b1=i;this.$1b0=new Xrm.Objects.EntityReference(r.LogicalName,r.Id,i.$M.getValue(t));Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.ViewModels.$p.$1i1(i);this.$1Y()}};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction=function(){this.$$d_$2nd=Function.createDelegate(this,this.$2nd);this.$$d_$2ne=Function.createDelegate(this,this.$2ne);Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("DeleteRecord",Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$B)};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction,r=t;return i.$T=r.QueryValue,i.$P=r.OnSuccess,i.$1M=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.prototype={$P:null,$1M:null,$T:null,$31:function(){var n=new Xrm.Objects.EntityReference(this.$T.entityName.toString(),new Microsoft.Crm.Client.Core.Framework.Guid(this.$T.entityId.toString()));return this.$1j(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.Delete(n,this.get_$f()),this.$$d_$2ne,this.$$d_$2nd),1},$2ne:function(n){Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&Microsoft.Crm.Client.Core.ViewModels.$p.$2Tb(n);this.$P(n);this.$1Y()},$2nd:function(n){this.$1M(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("Customization",Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$1TT)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$1TT=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction;return i.$1t=t,i.$A_3=n,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1z1,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.prototype={$P:null,$1t:null,$31:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(6,this.get_$25(),null,1,!1,this.$1t),this.get_$f()),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(25,this.get_$25(),null,1,!1,this.$1t),this.get_$f()),n=this,r=this;return this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,i),function(t){var i=null,r=null,u;t[0].get_$3ZH()>0&&!$0.$1(t[0].get_$I(0))&&(String.isInstanceOfType(t[0].get_$I(0).get_$5c())?r=t[0].get_$I(0).get_$5c():i=t[0].get_$I(0).get_$5c());t[1].get_$3ZH()>0&&!$0.$1(t[1].get_$I(0))&&(String.isInstanceOfType(t[1].get_$I(0).get_$5c())?r=t[1].get_$I(0).get_$5c():i=t[1].get_$I(0).get_$5c());u=new Microsoft.Crm.Client.Core.Models.$3F(n.$1t,i,r);$0.$1(n.$P)||n.$P(u);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$Ig(n,u);n.$1Y()},function(n){r.$9B(n)}),1},$9B:function(n){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$3Gp(this);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveOptionSetMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction,e=t,r=n,u,f;return i.$P=r.$$d_$1w9,i.$A_3=r,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zO,Microsoft.Crm.Client.Core.ViewModels.$5M.isInstanceOfType(n)&&Microsoft.Crm.Client.Core.ViewModels.$4E.isInstanceOfType(n.$2)?(u=n.$2.get_ModelContext(),f=e.QueryValue,i.$1Q=u.$1DD(f).get_$Hb(),i.$CX=u.$2HM(f)):(i.$1Q=r.$J,i.$CX=e.QueryValue),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.prototype={$P:null,$1Q:null,$CX:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$1Q,[this.$CX]),this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$BS:function(n){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1O)),r=n.$Tw,t,u,f;for(t in r)u={key:t,value:r[t]},f=u.value,i.add(f);return i.toArray()},$4e:function(n){var t,i,r;n.get_$3ZH()===1&&n.get_$I(0).get_$1n()===this.$CX?(t=n.get_$I(0),i=t.get_$BS(),$0.$1(i)?this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i("OptionSet is null on the returned IAttributeMetadata")):(r=this.$BS(i),$0.$1(this.$P)||this.$P(r,!$0.$1(t.get_$1QS()),t.get_$1QS()),this.$1Y())):this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$i(String.format("The metadata array does not have requested arribute name {0}",this.$CX)))},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction=function(){this.$$d_$2QV=Function.createDelegate(this,this.$2QV);this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$2Np=Function.createDelegate(this,this.$2Np);this.$$d_$2pY=Function.createDelegate(this,this.$2pY);this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.initializeBase(this);this.$1JV={};this.$cB=2;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()||(this.$1JV["00000000-0000-0000-00aa-000010001039"]=this.$$d_$2pY);this.$5b=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V()};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXml",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$Kt);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlForGrid",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2t7);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("QueryId",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2tA);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlWithDates",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rR);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlWithCallback",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rQ);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlForSubject",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2t8);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlWithPlaceholders",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rS)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2t8=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$Kt(n,t),r=t;return i.$A_3=n,i.$cB=2,i.$P=function(n){r.OnSuccess(n)},i.$1M_3=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rQ=function(n,t){var u=n,r=t,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction;return i.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(u),i.$P=function(n){r.OnSuccess(n)},i.$1M_3=r.OnFailure,i.$A_3=u,i.$IX=r.QueryValue.toString(),i.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(r.QueryValue.toString()),i.$Ae=u.$1s.$BT+1,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$Kt=function(n,t){var i=n,u=t,r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction,f;return r.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(i),r.$P=i.$$d_$4e,r.$1M_3=i.$$d_$5O,r.$A_3=i,r.$IX=i.get_DefinitionId(),f=Microsoft.Crm.Client.Core.Storage.Common.$1N.$Bs(i.$J),r.$2W=$0.$1(u.QueryValue)?i.$2W:Array.isInstanceOfType(u.QueryValue)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$1Au(u.QueryValue,16,f):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(u.QueryValue.toString()),r.$Ae=i.$1s.$BT+1,r};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2t7=function(n,t){var r=n,f=t,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction,u;return i.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(r),i.$P=r.$$d_$4e,i.$1M_3=r.$$d_$5O,i.$A_3=r,i.$IX=r.get_DefinitionId(),Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(r)&&(i.$IX+=r.get_$2f5()),i.$2W=$0.$1(f.QueryValue)?r.$2W:Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(f.QueryValue.toString()),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(n)&&(u=n,u.$Et&&(i.$IX+=u.get_ViewModelId(),$0.$1(i.$2W)||(i.$2W=u.$2VJ(i.$2W)))),i.$Ae=r.$1s.$BT+1,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2tA=function(){throw Error.notImplemented();};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rR=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$Kt(n,t),r;return i.$IX=i.$IX+Math.random().toString(),r=i.$2W.$A9(1),Microsoft.Crm.Client.Core.Framework.$3.$9(r)||(r=r.replace("{_NOW_}",Microsoft.Crm.Client.Core.Framework.$1X.$2EQ(Microsoft.Crm.Client.Core.Framework.$1X.get_$1vG())),i.$2W.$Ep(1,r)),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2rS=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$Kt(n,t),r,u;return i.$IX=i.$IX+Math.random().toString(),r=i.$2W.$A9(1),Microsoft.Crm.Client.Core.Framework.$3.$9(r)||(u=new RegExp("\\{([^\\}]*)\\}","gm"),r=r.replace(u,function(){var t=arguments[1],i=new Microsoft.Crm.Client.Core.Framework.$D6(t,Number,Microsoft.Crm.Client.Core.Framework.$7g);return n.$c(i)}),i.$2W.$Ep(1,r)),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1Pp=function(n,t){return n.$2u||n.$1O0(t),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS=function(n){var t,i;return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n.get_Root())||Object.getType(n).getName().indexOf("QueuePanelViewModel")>-1?(t=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$15N,Object.getType(n).getName().indexOf("QueuePanelViewModel")>-1&&(i=n.get_Root().$6F(n),n.get_Name().endsWith("0")&&($0.$1(i)||i.$G.endsWith("0"))||t--),t):Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zA};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2Ap=function(n){return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n.get_Root())?Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zB:Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1bH};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.prototype={$5b:null,$P:null,$1o:null,$1JV:null,$fE:!1,$2W:null,$IX:null,$Ae:0,$cB:0,get_$2Mh:function(){var n=this.$A_3;return!$0.$1(n.get_DefinitionId())&&n.get_DefinitionId().toLowerCase()in this.$1JV},$31:function(){var r=this.$A_3,i,n,t;return $0.$1(this.$2W)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$2W.$A9(1))?(i=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(r.get_DefinitionId()),n=i.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())?new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$A_3.get_$2R(),1,!0,null,1):new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$A_3.get_$2R(),r.$Aq,!1,i.toString()),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&i.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())&&!$0.$1(this.$A_3)&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$A_3)&&(this.$A_3.$8K||this.$A_3.$Pa)&&(n=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),this.$A_3.get_$2R(),r.$Aq,!1,null,1)),t=this,this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,this.get_$f()),function(i){i.get_$3ZH()||$0.$1(n.$h)?t.$2Np(i):(n.$h=null,n.$HU=!0,t.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,t.get_$f()),t.$$d_$2Np,t.$$d_$5O))},this.$$d_$5O)):this.$26m(this.$2W),1},$2Np:function(n){var t=this.$A_3;n.get_$3ZH()?(this.$2W=n.get_$I(0).get_$GK(),this.$2W=t.$2VJ(this.$2W),this.$26m(this.$2W)):this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147094003))},$26m:function(n){var i,r,u,t,e,f;if(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()&&Microsoft.Crm.Client.Core.ViewModels.$n.$DJ()){i=[];r=Microsoft.Crm.Client.Core.Storage.DataApi.$H.get_$5().$3O.get_$7v().$LL;for(u in r)t={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$n.$L8(t.key)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$2MW(t.key)&&(e=null,Array.add(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(t.key,e),null)));f=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i),function(t){for(var r,u=t,e=u.length,i=0;i<e;++i)r=u[i],f.$5b.$H1(r.get_$I(0).get_$eQ(),!0,r);f.$1mv(n)},this.$$d_$5O)}else this.$1mv(n)},$1mv:function(n){var t,i,r;if($0.$1(n))this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(0));else if(Microsoft.Crm.Client.Core.ViewModels.$n.$3Au(this.$2W,this.$A_3.get_$2R())){if(t=this.$A_3,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(t)&&t.$Et||(t.$2W=n),this.$A_3.get_$Dt()){this.$1Y();return}this.$1o=this.$28R(n);this.get_$2Mh()?this.$1JV[t.get_DefinitionId().toLowerCase()]():Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.isInstanceOfType(this.$A_3)?(i=this,r=this,this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(t.$J,this.get_$f()),function(n){i.$1o.$2cW(n.get_$Hj());i.$R1()},function(n){r.$21(n)})):this.$R1()}else this.$5O(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093989))},$R1:function(){var i,r,u=!0,f=!1,e,n;if(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$A_3)&&(e=this.$A_3,u=e.$1J0),this.$1o.$S==="knowledgearticle"&&(u=!1),this.$1o.$Ae===1&&u?$0.$1(this.$A_3.get_Root())||this.$A_3.get_Root().$o!==1?(i=1,r=this.$cB):(i=0,r=this.$cB):(i=2,r=1),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$A_3)&&(n=this.$A_3,this.$1o.$Lc=n.$Lc,this.$1o.$12c=n.$12c,f=n.$Et,n.$Et&&n.$18Q&&this.$1o.$S!=="knowledgearticle")){n.$18Q=!1;this.$4e(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(new Array(0),!1,0,!1));return}if(this.$1o.$S==="knowledgearticle"&&this.$1o.$12c&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1o.$Lc)&&f){var h=Sys.Net.XMLDOM(this.$1o.get_$1G()),o=h.getElementsByTagName("filter")[1],t=this.$1o.$Lc;if($0.$1(o)||(t=this.$HO(o.childNodes[0],"value"),t=t.substring(0,t.length-1)),this.$1o.$Lc===t){var s=Microsoft.Crm.Client.Core.Framework.$1c.$4s(Microsoft.Crm.Client.Core.Storage.Common.Xml.$A.$Z(this.$1o.get_$1G())),c=this.$2rP(this.$1o.$3R,this.$1o.$Ae,this.$1o.$32,s.$3E,s.$4f),l=this;this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.FullTextSearchKnowledgeArticleRequest(this.$1o.$Lc,!0,!0,-1,c),this.get_$f()),function(n){l.$4e(n.entityCollection)},this.$$d_$5O);return}}this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(this.$1o,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(i,r,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$ft()),this.get_$f()),this.$$d_$4e,this.$$d_$5O)},$2pY:function(){var n=this;this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RollupRequest(this.$A_3.get_ModelContext().get_$Y6(),this.$1o.get_$1G(),1),this.get_$f()),function(t){n.$4e(t.entityCollection)},this.$$d_$5O)},$28R:function(n){var t=this.$A_3,i=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(n,this.$IX),e,h,c,f,u,l,r;if(Microsoft.Crm.Client.Core.ViewModels.$EF.isInstanceOfType(t)&&(e=t,i.$2Xe(e.get_$21I(),this.$5b),!$0.$1(i.$w)&&Microsoft.Crm.Client.Core.Framework.$3.$9(e.get_$21I().$3E)&&e.set_$21I(i.$w)),Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(t)){for(h=t,c=new Array(0),f=0;f<h.$EE.length;f++)c[f]=h.$EE[f].name;i.$3Sq(c)}if(!this.get_$2Mh()){if(u=$0.$1(t.get_$1K())?"":t.get_$1K().get_Id(),l="ddb43be7-f7da-4d90-845f-06552a446da0",$0.$1(t.get_DefinitionId())||t.get_DefinitionId().toLowerCase()!==l||t.$J!=="connection"||$0.$1(t.get_$1K())||t.get_$1K().get_ModelName()!=="knowledgearticle"||$0.$1(t.get_$1K().$M)||$0.$1(t.get_$1K().$M.fields)||!("rootarticleid"in t.get_$1K().$M.fields)||(u=t.get_$1K().$M.fields.rootarticleid.get_identifier()),Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(t)&&!$0.$1(t.get_$1K())&&!$0.$1(t.$ks)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(t.$ks)){u="";var o=null,a=t.$ks,s=a.split(".");s.length>1?t.get_$1K().get_ModelName()===s[0]?o=t.get_$1K().GetValue(s[1]):u=t.get_$1K().get_Id():s.length===1&&(o=t.get_$1K().GetValue(a));$0.$1(o)||(u=o.Id.toString())}Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$A_3)?i.$K4(u,t.$9c,t.$2N,t.$BW,this.$5b):Microsoft.Crm.Client.Core.Framework.$3.$9(t.$9c)&&Microsoft.Crm.Client.Core.Framework.$3.$9(t.$BW)&&Microsoft.Crm.Client.Core.Framework.$3.$9(t.$2N)||(Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.isInstanceOfType(t)&&t.$1rN&&(r=t,r.$EW.get_Count()>0&&(u=r.$EW.get_$I(r.$EW.get_Count()-1),r.$1xZ!==r.get_$1K().get_Id()&&(r.$EW.$79(),r.$1xZ=r.get_$1K().get_Id()))),i.$K4(u,t.$9c,t.$2N,t.$BW,this.$5b))}return i.set_$7m(this.$Ae),i.$32=t.$1s.$32,i.$Mp=!0,i},$4e:function(n){var t,i,u,r;this.$15K=$0.$1(n.$4W)?null:n.$4W.$CT;this.$fE=!0;t=this.$A_3;$0.$1(this.$P)||t.$3w?this.$1Y():(i=this.$1Pt(n),i.$un=this.$$d_$2QV,u=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1Pp(t,i),r=this,this.$JF(function(){r.$P(u);r.$1Y()},Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2Ap(this.$A_3)))},$1Pt:function(n){return Microsoft.Crm.Client.Core.Models.$1D.$B(n)},$5O:function(n){if(n.$z===-2147093999){var t=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();t.$1o=this.$1o;this.$4e(t)}else this.$21(n)},$2QV:function(n){$0.$1(this.$A_3)||this.$A_3.get_$Dt()||n.$z===-2147093999||(this.$fE&&this.$A_3.$R0(n),Microsoft.Crm.Client.Core.Framework.Trace.logError(1,n.$E))},$HO:function(n,t){return n.attributes.getNamedItem(t).nodeValue},$2rP:function(n,t,i,r,u){for(var e=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(n.$3Q),o="",f=0;f<e.get_Count();f++)o+=String.format("<attribute name='{0}' />",e.get_$I(f));return String.format("<fetch mapping='logical' returntotalrecordcount='true' page='{0}' count='{1}'><entity name='knowledgearticle'>"+o+"<order descending='{2}' attribute='{3}' /><\/entity><\/fetch>",t,i,u,r)}};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("PinnedTiles",Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction;return t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zU,t.$Ir=i.$2.$1t.toLowerCase()===Microsoft.Crm.Client.Core.Framework.$1.toString(1)?Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString():i.$2.$h,t.$1sm=$0.$1(i.$2u),t};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$1Pp=function(n,t){return $0.$1(n.$2u)&&n.$1O0(t),t};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.prototype={$P:null,$Ir:null,$1sm:!1,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$3G,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$XA(new Microsoft.Crm.Client.Core.Framework.Guid(this.$Ir),this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){var r=this.$A_3,i=Microsoft.Crm.Client.Core.Models.$6g.$B(n),t;Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$1Pp(r,i);!$0.$1(this.$P)&&this.$1sm?(t=this,this.$JF(function(){t.$P(i);t.$2BD(n)},this.get_$LB())):this.$2BD(n)},$2BD:function(n){var i,t,e,o;if(n.$E6.length){var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p)),u=[],f=[];for(i=0;i<n.$E6.length;i++)t=n.$E6[i],t.$85==="Workspace".toUpperCase()||t.$85==="PowerBIFullScreenPage".toUpperCase()||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$37().$84(t.$85,1)||r.add(t),t.$85==="Workspace".toUpperCase()&&(e=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(1,this.get_$25(),"Workspace".toUpperCase(),0,!0,t.$Al.toString()),Array.add(u,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(e,this.get_$f())),Array.add(f,t));o=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(u),function(n){for(var t=0;t<n.length;t++)$0.$1(n[t].get_$I(0))&&r.add(f[t]);o.$3KA(r)},this.$$d_$5O)}else this.$1Y()},$3KA:function(n){if(n.get_Count()>0){var t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$3G(new Microsoft.Crm.Client.Core.Framework.Guid(this.$Ir),n.toArray()),i=this;this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$lV(t,this.get_$f()),function(){i.$1Y()},this.$$d_$5O)}else this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction=function(){this.$$d_$3Gd=Function.createDelegate(this,this.$3Gd);this.$$d_$4e=Function.createDelegate(this,this.$4e);this.$$d_$5O=Function.createDelegate(this,this.$5O);Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveRecord",Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$sv);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveRecordFromCustomControlDataSet",Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$2t1)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$sv=function(n,t){var f,r,e;Microsoft.Crm.Client.Core.Framework.Utils.$D.$22K(Microsoft.Crm.Client.Core.ViewModels.$7W.isInstanceOfType(n),"Action context is not IAttributeFormViewModel");var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction,u=n,o=n;if(i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hZ,i.$A_3=u,f=t,i.$1yN=f.QueryValue,i.$3R=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(n.get_AttributeFieldNames()),i.$4W=n.get_RetrieveOptions(),r=o.get_ExternalContext(),$0.$1(r)||$0.$1(r.$T)||$0.$1(r.$T.EntityReference))if($0.$1(u.get_$1K()))throw Error.argumentNull("reference","Missing reference for retrieve request.");else e=u.get_ModelContext(),i.$CO=e.get_$Y6();else i.$CO=r.$T.EntityReference;return i};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$2t1=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction,f=n,r=t,e=r.QueryValue,u;if(i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hZ,i.$A_3=f,i.$3R=e.$1fS,i.$4W=e.$1fO,$0.$1(r.OnSuccess)||(i.$P_6=function(n){r.OnSuccess(n)}),$0.$1(r.OnFailure)||(i.$1M_3=r.OnFailure),$0.$1(f.get_$1K()))throw Error.argumentNull("reference","Missing reference for retrieve request.");else u=f.get_ModelContext(),i.$CO=$0.$1(u.$5Z)?u.get_$57():u.get_$Y6();return i};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.prototype={$P_6:null,$CO:null,$1yN:null,$3R:null,$fE:!1,$4W:null,$31:function(){var r=new Array(0),u=this.$1yN,n,t,i;for(n in u)t={key:n,value:u[n]},r.push(new(Microsoft.Crm.Client.Core.Framework.$3Q.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship,String))(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(t.key,0),t.value));return i=this.$A_3,this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$an(this.$CO,this.$3R,this.$3R,r,this.$4W,this.get_$f(),Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(i)?i.$29q(this.$CO):null),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){var t=this.$A_3;this.$fE=!0;$0.$1(n)||this.$A_3.get_$Dt()?t.set_ModelContext(null):(this.$15K=$0.$1(n.$4W)?null:n.$4W.$CT,$0.$1(t.get_ModelContext())||t.get_ModelContext().get_Id()!==n.$3F.get_identifier()?t.set_ModelContext(Microsoft.Crm.Client.Core.Models.$O.$B(n)):t.get_ModelContext().$7p(n),t.get_ModelContext().$um=this.$$d_$3Gd);$0.$1(this.$P_6)||this.$P_6(t.get_ModelContext());this.$1Y()},$5O:function(n){$0.$1(this.$A_3.get_ModelContext())?n.$z=-2147220969:n.$z===-2147093999&&(n.$z=-2147093997);this.$21(n)},$3Gd:function(n){$0.$1(this.$A_3)||this.$A_3.get_$Dt()||Microsoft.Crm.Client.Core.Framework.$66.$1WD(n.$z)||($0.$1(this.$A_3.get_ModelContext())&&(n.$z=-2147220969),this.$fE&&this.$A_3.$R0(n),Microsoft.Crm.Client.Core.Framework.Trace.logError(1,n.$E))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction=function(){this.$$d_$LP=Function.createDelegate(this,this.$LP);this.$$d_$3G9=Function.createDelegate(this,this.$3G9);Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RelationshipPinnedTiles",Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$B=function(n,t){var r=n,i,u;return r.$6a.set_$p5(!1),i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction,u=t,i.$P=r.$$d_$4e,i.$1M_3=r.$$d_$5O,i.$A_3=r,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zX,i.$1aY=u.QueryValue,i.$1KV=!1,i.$13K=i.$$d_$3G9,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$1Pp=function(n,t){return n.$2u||n.$1O0(t),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.prototype={$14z:null,$vY:null,$P:null,$1aY:null,$13K:null,$1KV:!1,$31:function(){if(Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$A_3.get_ModelContext())){if(this.$2Og())return this.$R1(),1;this.$A_3.get_ModelContext().get_Id()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?this.$A_3.apcl("ModelContext",this.$$d_$LP):this.$A_3.get_ModelContext().add_$9k(this.$13K);this.$1KV=!0}else this.$4e(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p)));return 1},$GX:function(){this.$14z=null;this.$vY=null;this.$1KV&&(this.$A_3.rpcl("ModelContext",this.$$d_$LP),this.$A_3.get_ModelContext().remove_$9k(this.$13K),this.$1Y());Microsoft.Crm.Client.Core.Framework.$BN.prototype.$GX.call(this)},$LP:function(){this.$A_3.get_ModelContext().add_$9k(this.$13K)},$3G9:function(){this.$2Og()&&(this.$1KV=!1,this.$A_3.rpcl("ModelContext",this.$$d_$LP),this.$A_3.get_ModelContext().remove_$9k(this.$13K),this.$R1())},$2Og:function(){if(Microsoft.Crm.Client.Core.Models.$O.isInstanceOfType(this.$A_3.get_ModelContext())){var n=this.$A_3.get_ModelContext();if(n.$Zn||n.$P4||this.$A_3.get_Root().get_LaunchedWithUnsavedChanges())return!0}return!1},$R1:function(){var n=this;this.$JF(function(){var u=n.$A_3.get_Root().get_ModelContext(),i,r,t,f;for(u&&u.$M&&(n.$vY=u.$M,n.$vY.$6H&&(n.$14z=n.$vY.$6H)),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p)),r=0;r<n.$1aY.length;r++)t=n.$1aY[r],f=t.BindingName,t.IsRelationshipTile?n.$2fw(new Microsoft.Crm.Client.Core.Framework.Guid(n.$A_3.get_Root().$h),i,t):f==="self_referential"&&n.$vY?n.$2fx(new Microsoft.Crm.Client.Core.Framework.Guid(n.$A_3.get_Root().$h),i,t):n.$2fr(new Microsoft.Crm.Client.Core.Framework.Guid(n.$A_3.get_Root().$h),i,t);n.$4e(i)},this.get_$LB())},$4e:function(n){var i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$3G(new Microsoft.Crm.Client.Core.Framework.Guid(this.$A_3.get_Root().$h),n.toArray()),t=Microsoft.Crm.Client.Core.Models.$6g.$B(i),r=this.$A_3;Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$1Pp(r,t);this.$P(t);this.$1Y()},$2fw:function(n,t,i){var u=-1,r,f;$0.$1(i.RelationshipType)||(u=i.RelationshipType);r=-1;$0.$1(i.RelationshipRoleOrdinal)||(r=i.RelationshipRoleOrdinal);f=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p.$1Po(n,i.TargetEntityName,new Microsoft.Crm.Client.Core.Framework.Guid(i.DefinitionId),2,i.ContextFilter,0,i.DisplayName,i.RelationshipName,i.RelationshipExtraCondition,u,i.ReferencingName,r);t.add(f)},$2fx:function(n,t,i){var r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p.$VH(n,this.$vY);r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$Rn(r,i);r.$Db=1;t.add(r)},$2fr:function(n,t,i){var f=i.BindingName,e=this.$14z&&this.$14z.getByRelationshipName(f)?this.$14z.getByRelationshipName(f).get_$I(0):null,u,o,s,r,h;e&&(u=new Microsoft.Crm.Client.Core.Models.Tiles.Validators.$IC,u.set_$3Lw(i),o=u.$7h("CommunicationCardFieldNames"),s=u.$7h("FieldName"),s.$5w&&(h=i.FieldName,o.$5w?(r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p.$VH(n,e),r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$Rn(r,i),r.$Db=1):r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1p.$1l5(n,e,h),r.$ag=f,t.add(r)))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$12z=Function.createDelegate(this,this.$12z);Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveTargetEntityMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$B)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction,r=t,u,f;return n?(u=n,i.$P=u.$$d_$1uC,i.$A_3=u):(i.$P=r.OnSuccess,i.$1M_3=r.OnFailure),f=r.QueryValue,i.$S=f.entityLogicalName,i.$16Y=f.targetAttribute,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.prototype={$P:null,$S:null,$16Y:null,$31:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$60(this.$S,[this.$16Y]);return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(n,this.get_$f()),this.$$d_$12z,this.$$d_$5O),1},$12z:function(n){var t=this;this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$1n),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Jz(this.get_$f()),function(i){t.$4e(i,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(n.get_$I(0).get_$NB()))},this.$$d_$5O)},$4e:function(n,t){for(var i,f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),u={},r=0;r<n.get_$3ZH();r++)u[n.get_$I(r).get_$1n()]=n.get_$I(r);for(i=0;i<t.get_Count();i++)t.get_$I(i)in u&&f.add(u[t.get_$I(i)]);this.$P(f);this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$6U=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.$6U.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$6U.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveUserContext",Microsoft.Crm.Client.Application.ViewModels.$6U.$B)};Microsoft.Crm.Client.Application.ViewModels.$6U.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.$6U;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.$6U.prototype={$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.DataApi.$1j,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$RI(),this.$$d_$4e,this.$$d_$5O),1},$4e:function(){this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction=function(){this.$$d_$3CI=Function.createDelegate(this,this.$3CI);this.$$d_$36J=Function.createDelegate(this,this.$36J);Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("RetrieveWebResouces",Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$349)};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$349=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction;return i.$W8=t,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1zf,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.prototype={$W8:null,$31:function(){var t,n=new Array(0),i,r,u;if(!$0.$1(this.$W8.$Tf))for(i=0;i<this.$W8.$Tf.length;i++)t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(20,this.get_$25(),"webresource",1,!1,this.$W8.$Tf[i]),this.get_$f()),Array.add(n,t);if(!$0.$1(this.$W8.$Tg))for(r=0;r<this.$W8.$Tg.length;r++)t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(29,this.get_$25(),"staticjsfile",1,!1,this.$W8.$Tg[r]),this.get_$f()),Array.add(n,t);switch(n.length){case 0:return this.$1r4(new Array(0)),0;case 1:this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),n[0],this.$$d_$36J,this.$$d_$3CI);break;default:u=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),function(n){return u.$1r4(n)},this.$$d_$3CI)}return 1},$36J:function(n){this.$1r4([n])},$1r4:function(n){for(var t=0;t<n.length;t++)$0.$1(n[t].get_$I(0))||$0.$1(n[t].get_$I(0).get_$5c())||(this.$W8.scriptsToLoad.add(n[t].get_$I(0).get_$5c().toString()),this.$W8.srcName.add(n[t].get_$I(0).$h.toString()));this.$3CJ(this.$W8)},$3CJ:function(n){Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$5().$3Fq(this,n);this.$6q(null)},$3CI:function(n){this.$6q(Error.create(String.format("RetrieveWebResourcesAction has failed with error {0}",n.$E)))}};Microsoft.Crm.Client.Application.ViewModels.$U3=function(n){this.$$d_$1bh=Function.createDelegate(this,this.$1bh);Microsoft.Crm.Client.Application.ViewModels.$U3.initializeBase(this);this.$w5=n};Microsoft.Crm.Client.Application.ViewModels.$U3.prototype={$w5:0,$RS:!1,$1de:!1,get_$PM:function(){return this.$RS||!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_$2oI()},set_$PM:function(n){return this.$RS=n,n},$31:function(){var n=this;return this.$1j(Boolean,this.$2V6(),function(t){t?n.$R1():n.$1Y()},this.$$d_$1bh),1},$1bh:function(n){this.$21(n)},$2V6:function(){if(!$0.$1(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P)&&Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$1P.$tO().get_Count()>0&&(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1h().isFeatureEnabled("EditableGridControlJsEvents")||!this.$1de))return Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$2V6(new Microsoft.Crm.Client.Core.ViewModels.$T6(this.$w5));var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$4);return n.resolve(!0),n.promise()}};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction=function(){Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("ScriptErrorRequest",Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$34C)};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$34C=function(n,t){var r=t,i=new Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction;return i.$A_3=n,i.$1tp=Number.parseInvariant(r.lineNumber.toString()),i.$1nz=r.func.toString(),i.$II=r.fileName.toString(),i.$1yb=r.report.toString(),i.$1yd=Boolean.parse(r.reportToWatson.toString()),i.$1mf=Number.parseInvariant(r.errorReportingPreference.toString()),i.$1iE=Boolean.parse(r.addServerInformation.toString()),i};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.prototype={$1tp:0,$1nz:null,$II:null,$1yb:null,$1yd:!1,$1mf:0,$1iE:!1,$31:function(){var n=this,t=this;return this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Sdk.$No(this.$1tp,this.$1nz,this.$II,this.$1yb,this.$1yd,this.$1mf,this.$1iE),this.get_$f()),function(){n.$1Y()},function(n){t.$21(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);this.$$d_$Fw=Function.createDelegate(this,this.$Fw);Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("SetCreateModelFromRetrievedEntity",Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$B)};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction,i=n;return t.$A_3=i,t.$1V=i.get_ModelContext(),t.$54=i.$54,t.$IE=i.$Q.$AZ.get_ModelContext().$M,t.$P=i.$$d_$2Qi,t};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.prototype={$54:null,$P:null,$IE:null,$1V:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(this.$IE.$N,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$54),Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),this.$$d_$Fw,this.$$d_$9B),1},$Fw:function(n){if(!$0.$1(this.$P)){var t=Microsoft.Crm.Client.Core.Models.$O.$B(n);t.$1cX();this.$1V=t;this.$P(this.$1V)}this.$1Y()},$9B:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction=function(){this.$$d_$9B=Function.createDelegate(this,this.$9B);this.$$d_$Fw=Function.createDelegate(this,this.$Fw);Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("SetQuickCreateEntityReference",Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$B)};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction,i=n;return t.$A_3=i,t.$1V=i.get_ModelContext(),t.$Fb=i.$Fb,t.$IE=i.$Q.$AZ.get_ModelContext().$M,t.$P=i.$$d_$2Qc,t};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.prototype={$Fb:null,$P:null,$IE:null,$1V:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.$1n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$76(this.$IE.$N.LogicalName,this.get_$f()),this.$$d_$Fw,this.$$d_$9B),1},$Fw:function(n){if(!$0.$1(this.$P)){var t=new Xrm.Objects.EntityReference(this.$IE.$N.LogicalName,this.$IE.$N.Id,this.$IE.getValue(n.get_$Gd()));this.$1V.SetValue(this.$Fb,t);this.$P(this.$1V)}this.$1Y()},$9B:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction=function(){Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("SetStateRequest",Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$2kz)};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$2kz=function(n,t){var i=t;return Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$1Ax(n,i.statecode,i.entitylogicalname.toString())};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$1Ax=function(n,t,i){var r=new Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction;return r.$A_3=n,r.$XO=Number.parseInvariant(t.toString()),r.$S=i,r};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.prototype={$XO:0,$S:null,$R1:function(){var n,t,i;if(Microsoft.Crm.Client.Core.ViewModels.$n.$IT(this.$S))if(n=this.$A_3.get_ModelContext(),t=-1,Xrm.Utility.isMocaOffline()){var r=new Xrm.Objects.EntityReference(this.$S,new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$1a())),u=new Xrm.Gen.SetStateRequest(r,this.$XO,t,!0),f=this,e=function(){f.$1Y()};Xrm.Utility.executeNonCudCommand("SetState",this.$S,u,e,Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)}else i=this,this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.SetStateRequest(new Xrm.Objects.EntityReference(this.$S,new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$1a())),this.$XO,t),this.get_$f()),function(){i.$1Y()},this.$$d_$1bh);else this.$1bh(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093999));return 1}};Microsoft.Crm.Client.Application.ViewModels.$5m=function(){Microsoft.Crm.Client.Application.ViewModels.$5m.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$5m.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("UpdateBusinessProcessFlowState",Microsoft.Crm.Client.Application.ViewModels.$5m.$B)};Microsoft.Crm.Client.Application.ViewModels.$5m.$B=function(n,t){var u=t,r=u.QueryValue,i;return Microsoft.Crm.Client.Application.ViewModels.$5m.$2eh(r),i=new Microsoft.Crm.Client.Application.ViewModels.$5m,i.$E2=r.bpfInstanceId,i.$S=r.entitylogicalname,i.$16=r.state,i.$C0=r.status,i.$Fg=r.entityid,$0.$1(u.OnSuccess)||(i.$P=u.OnSuccess),$0.$1(u.OnFailure)||(i.$1M_3=u.OnFailure),i};Microsoft.Crm.Client.Application.ViewModels.$5m.$2eh=function(){};Microsoft.Crm.Client.Application.ViewModels.$5m.prototype={$P:null,$Fg:null,$E2:null,$S:null,$16:0,$C0:0,$31:function(){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$bO(this.$S,this.$Fg,this.$16,this.$C0,this.$E2,this.get_$f()),n=this,t=this;return this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(i),function(t){n.$P&&n.$P(t);n.$1Y()},function(n){t.$1M_3&&t.$1M_3(n);t.$21(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.$4o=function(n){Microsoft.Crm.Client.Application.ViewModels.$4o.initializeBase(this,[n])};Microsoft.Crm.Client.Application.ViewModels.$4o.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("UpdateMultipleRecords",Microsoft.Crm.Client.Application.ViewModels.$4o.$B)};Microsoft.Crm.Client.Application.ViewModels.$4o.$B=function(n,t){var i=t,e=i.SaveMode,u=new Microsoft.Crm.Client.Application.ViewModels.$4o(e),f=n,r;return u.$A_3=f,u.set_$PM(f.get_SuppressDuplicateDetection()),u.$UB=i.RelatedEntitiesQuery,u.$1Yh="OnSuccess"in i?i.OnSuccess:null,r="AdditionalEntityToRetrieve",r in i&&(u.$ys=i[r],r="AdditionalEntityToRetrieveAttributes",u.$1NR=r in i?i[r]:null,r="AdditionalEntityToRetrieveRelationship",u.$24r=r in i?i[r]:null),u};Microsoft.Crm.Client.Application.ViewModels.$4o.prototype={$1Yh:null,$UB:null,$ys:null,$1NR:null,$24r:null,get_$2oe:function(){var n=this.$A_3.get_ModelContext();return n.get_$1K().$M},get_$vg:function(){return this.$UB},$2aO:function(n,t){var i=this.$A_3.get_ModelContext();i.$3NP();Microsoft.Crm.Client.Application.ViewModels.$2m.prototype.$2aO.call(this,n,t)},$2O1:function(n){var t,i;$0.$1(this.$ys)||$0.$1(this.$1NR)||(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.Sdk.Request)),n.name==="Retrieve"?t.add(n):n.name==="ExecuteMultiple"&&t.addRange(n.requests),i=new Xrm.Gen.RetrieveRequest(this.$ys,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$1NR),null,!1,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI()),t.add(i),n=new Xrm.Gen.ExecuteMultipleRequest(t.toArray(),new Xrm.Gen.ExecuteMultipleSettings(!0,!0)));Microsoft.Crm.Client.Application.ViewModels.$2m.prototype.$2O1.call(this,n)},$2TL:function(n){var t,r,f;if(Microsoft.Crm.Client.Application.ViewModels.$2m.prototype.$2TL.call(this,n),!$0.$1(this.$1Yh)){if(t=null,n.name==="ExecuteMultiple"){r=n;for(var u=r.responses,e=u.length,i=0;i<e;++i)if(f=u[i],t=f.$Ap.entity,!$0.$1(t)&&!$0.$1(this.$ys)&&t.$3F.get_identifier()===this.$ys.get_identifier())break}this.$1Yh(t)}}};Microsoft.Crm.Client.Application.ViewModels.$2m=function(n){this.$$d_$3CL=Function.createDelegate(this,this.$3CL);this.$$d_$3M2=Function.createDelegate(this,this.$3M2);Microsoft.Crm.Client.Application.ViewModels.$2m.initializeBase(this,[n])};Microsoft.Crm.Client.Application.ViewModels.$2m.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("UpdateRecord",Microsoft.Crm.Client.Application.ViewModels.$2m.$B);Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("UpdateRecordForQuickEditForm",Microsoft.Crm.Client.Application.ViewModels.$2m.$2kx);Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("UpdateRecordForCustomControl",Microsoft.Crm.Client.Application.ViewModels.$2m.$2ks)};Microsoft.Crm.Client.Application.ViewModels.$2m.$B=function(n,t){return Microsoft.Crm.Client.Application.ViewModels.$2m.$1Ax(n,t)};Microsoft.Crm.Client.Application.ViewModels.$2m.$2kx=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.$2m.$1Ax(n,t),r=n;return i.$P=r.$$d_$3HO,i.set_$PM(Microsoft.Crm.Client.Application.ViewModels.$2m.$2Aq(t,r.get_$PM())),i};Microsoft.Crm.Client.Application.ViewModels.$2m.$2ks=function(n,t){var r=Microsoft.Crm.Client.Application.ViewModels.$2m.$1Ax(n,1),i;return r.$1de=!0,!$0.$1(t)&&Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor.isInstanceOfType(t)&&(i=t,$0.$1(i.OnSuccess)||(r.$P=function(n){i.OnSuccess(n)}),$0.$1(i.OnFailure)||(r.$1M_3=function(n){i.OnFailure(n)})),r};Microsoft.Crm.Client.Application.ViewModels.$2m.$1Ax=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$2m(t),r=n;return i.$A_3=r,Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n)?i.set_$PM(Microsoft.Crm.Client.Application.ViewModels.$2m.$2Aq(t,r.get_$PM())):i.set_$PM(!0),i};Microsoft.Crm.Client.Application.ViewModels.$2m.$2Aq=function(n,t){switch(n){case 5:case 6:case 16:return!0;default:return t}};Microsoft.Crm.Client.Application.ViewModels.$2m.prototype={$P:null,get_$2oe:function(){var n=this.$A_3.get_ModelContext();return n.$M},get_$vg:function(){return null},$R1:function(){var t=this.$A_3.get_ModelContext(),n=this.get_$2oe(),i=this;return this.$1j(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7p(n.$3F,n,this.get_$PM(),this.get_$f()),function(){i.$2aO(t,n)},this.$$d_$1bh),1},$2aO:function(n,t){var r,i;Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()&&(Microsoft.Crm.Client.Core.ViewModels.$p.$2Tb(n.get_$Qt()),Microsoft.Crm.Client.Core.ViewModels.$p.$1i1(n),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$L7().$1ZP(n));r=[];this.$2aw(r,t);$0.$1(n.$5Z)||this.$2aw(r,n.$5Z);i=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r),function(r){var u=new(Microsoft.Crm.Client.Core.Framework.$8d.$$(Microsoft.Crm.Client.Core.Storage.Common.$4w)),e,f,o;i.$24j(r[0],u,t.$N.LogicalName);$0.$1(n.$5Z)||$0.$1(r[1])||i.$24j(r[1],u,n.$5Z.$N.LogicalName);!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()&&Microsoft.Crm.Client.Core.ViewModels.$n.$L8(t.$3F.LogicalName)?i.$3EL(t,u):(e=$0.$1(n.$5Z)?t.$N:t.$3F,f=new Xrm.Gen.RetrieveRequest(e,u.get_$I(e.LogicalName),i.get_$vg(),!1,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI()),$0.$1(n.$5Z)||(f=new Xrm.Gen.ExecuteMultipleRequest([f,new Xrm.Gen.RetrieveRequest(n.$5Z.$N,u.get_$I(n.$5Z.$N.LogicalName),i.get_$vg(),!1,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI())],new Xrm.Gen.ExecuteMultipleSettings(!0,!0))),i.$2O1(f),o=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$pN,$0.$1(o)||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$pN=null,Xrm.XrmUtilityWrapper.$2aZ(o,null)))},this.$$d_$1bh)},$24j:function(n,t,i){var u,f,r,e,o,s;if(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.$2M).isInstanceOfType(n)){for(u=n,f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=0;r<u.get_$3ZH();r++)($0.$1(u.get_$I(r).get_$19s())||u.get_$I(r).get_$1n()==="entityimage_url")&&f.add(u.get_$I(r).get_$1n());t.set_$I(i,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(f.toArray()))}else if(Object.isInstanceOfType(n)){e=n;for(o in e)s={key:o,value:e[o]},t.set_$I(s.key,s.value)}},$2aw:function(n,t){var f=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$4),i=t.get_directColumnSet(),r,u;Microsoft.Crm.Client.Core.Storage.Common.AllColumns.isInstanceOfType(i)?(r={},r[t.$N.LogicalName]=i,Array.add(n,f.resolve(r))):(u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$4o(new Microsoft.Crm.Client.Core.Storage.DataApi.$60(t.$N.LogicalName,i.$3Q),this.get_$f()),Array.add(n,u))},$2O1:function(n){this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(n,this.get_$f()),this.$$d_$3M2,this.$$d_$1bh)},$3EL:function(n,t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$1iD(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,n.$3F.get_key(),this.$$d_$3CL);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(n.$3F,t.get_$I(n.$3F.LogicalName),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(2,2),this.get_$f())},$3CL:function(n,t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().$1yY(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,t.get_$dt().$3F.get_key(),this.$$d_$3CL);$0.$1(this.$P)||this.$P(t.get_$dt().$3F);this.$1Y()},$3M2:function(n){this.$2TL(n);this.$1Y()},$2TL:function(n){var t,i;if(n.name==="Retrieve")$0.$1(this.$P)||this.$P(n.entity.$N);else if(n.name==="ExecuteMultiple"){t=n;for(var u=t.responses,f=u.length,r=0;r<f;++r){if(i=u[r],t.isFaulted&&!$0.$1(i.$G7)){this.$1bh(Microsoft.Crm.Client.Core.Framework.$4.$mC(i.$G7.$6e));return}t.isFaulted||$0.$1(this.$P)||this.$P(i.$Ap.entity.$N)}}}};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction=function(){this.$$d_$3Xa=Function.createDelegate(this,this.$3Xa);this.$$d_$3Xb=Function.createDelegate(this,this.$3Xb);Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("UpdateSyncErrorRecord",Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$B)};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction,r=t;return i.$T=r.QueryValue,i.$P=r.OnSuccess,i.$1M=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.prototype={$P:null,$1M:null,$T:null,$31:function(){var n="statecode",r=new Array(1),u={},f={},t,i;return r[0]=n,u[n]=12,f[n]=1,t=new Xrm.Objects.EntityReference("syncerror",new Microsoft.Crm.Client.Core.Framework.Guid(this.$T.entityId.toString())),i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(t,f,u,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),i.$4P.addRange(r),this.$1j(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7p(t,i,!1,this.get_$f()),this.$$d_$3Xb,this.$$d_$3Xa),1},$3Xb:function(n){this.$P(n);this.$1Y()},$3Xa:function(n){this.$1M(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction=function(){this.$$d_$3GJ=Function.createDelegate(this,this.$3GJ);this.$$d_$3FM=Function.createDelegate(this,this.$3FM);Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.initializeBase(this);this.$1YK=this.$$d_$3FM;this.$1Ya=this.$$d_$3GJ};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("WaitForEditEnabled",Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$B)};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.prototype={$1YK:null,$1Ya:null,$31:function(){return Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().$16===2?(this.$1Y(),0):(Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().add_$Yc(this.$1YK),Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().add_$2V0(this.$1Ya),1)},$3FM:function(){this.$2Lk()},$3GJ:function(){this.$2Lk()},$2Lk:function(){Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().remove_$Yc(this.$1YK);Microsoft.Crm.Client.Core.ViewModels.$F.get_$5().remove_$2V0(this.$1Ya);this.$1Y()}};Type.registerNamespace("Microsoft.Crm.Client.Application.ViewModels.Actions");Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction=function(){this.$$d_$26h=Function.createDelegate(this,this.$26h);this.$$d_$26i=Function.createDelegate(this,this.$26i);Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("CalculateRollupField",Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction,i=n;return t.$P=i.$$d_$26i,t.$1M_3=i.$$d_$26h,t.$A_3=n,t.$5g=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.$A_3.get_ModelContext().get_Id()),t.$S=t.$A_3.get_$2R(),t.$EF=n.$Kp,t};Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.prototype={$5g:null,$S:null,$EF:null,$P:null,$31:function(){var n=new Xrm.Objects.EntityReference(this.$S,this.$5g);return this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.CalculateRollupFieldRequest(n,this.$EF),this.get_$f()),this.$$d_$26i,this.$$d_$26h),1},$26i:function(n){if(!$0.$1(this.$P)&&n.name==="CalculateRollupField"){var t=n.entity;this.$P(t)}this.$1Y()},$26h:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("PopulateDocumentTemplateFlyout",Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction,r;return i.$A_3=n,r=t,$0.$1(r.OnSuccess)||(i.$7q=r.OnSuccess),$0.$1(r.QueryValue)||(r.QueryValue.endsWith("1")?i.$Tn=1:r.QueryValue.endsWith("2")&&(i.$Tn=2)),i.$Q6=i.$Tn===1?new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("documenttemplatesflyout_commands"):new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("wordtemplatesflyout_commands"),i};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.prototype={$sI:null,$7q:null,$Q6:null,$Tn:0,$31:function(){return $0.$1(this.$A_3)?(this.$4e(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,null)),0):(this.$1j(Microsoft.Crm.Client.Core.ViewModels.$64,this.$3OG(),this.$$d_$4e,this.$$d_$5O),1)},$4e:function(n){$0.$1(this.$7q)||$0.$1(n)||this.$7q(n);this.$1Y()},$5O:function(n){this.$21(n)},$3OG:function(){return $0.$1(this.$sI)&&(this.$sI=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$64,Microsoft.Crm.Client.Core.Framework.$4),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()?Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$22C&&this.$Tn===1?this.$29A():Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$23f&&this.$Tn===2?this.$29A():this.$sI.resolve(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,this.$Q6)):this.$sI.resolve(new Microsoft.Crm.Client.Core.ViewModels.$64(this.$A_3,this.$Q6))),this.$sI.promise()},$29A:function(){if(!this.$A_3.get_$Dt()){var t=this.$3Or(),i=this.$3Ou(),n=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,i).always(function(){n.$sI.resolve(new Microsoft.Crm.Client.Core.ViewModels.$64(n.$A_3,n.$Q6))})}},$3Or:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Boolean),i={},n,r,u;return i.DocumentType=this.$Tn,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveDocumentTemplates",i),r=this,n.OnSuccess=function(n){r.$1SL(n,!1);t.resolve(!0)},u=this,n.OnFailure=function(){t.resolve(!1)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$A_3,n),t.promise()},$3Ou:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Boolean),i={},n,r,u;return i.DocumentType=this.$Tn,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalDocumentTemplates",i),r=this,n.OnSuccess=function(n){r.$1SL(n,!0);t.resolve(!0)},u=this,n.OnFailure=function(){t.resolve(!1)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Y("ActionProvider",this.$A_3,n),t.promise()},$1SL:function(n,t){var f=n.$22N(),k=this,o,e,s,r,i,c;for(f.sort(function(n,t){return n.$1S.localeCompare(t.$1S)}),o=this.$Q6.Controls.length,e=this.$Tn===1?t?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Menu_Label_Group_PersonalDocumentTemplates"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Menu_Label_Group_DocumentTemplates"):t?Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Menu_Label_Group_PersonalWordTemplates"):Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Menu_Label_Group_WordTemplates"),s=t?1:0,r=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(e,"Group",null,e,s,null,null,null),i=0;i<f.length;i++){var h=f[i],l=this.$A_3.get_$2R()+"_template_"+i,a=h.$1S,v=new Microsoft.Crm.Client.Core.Framework.Guid(h.$h),y=t?"personaldocumenttemplate":"documenttemplate",u=new Xrm.Objects.EntityReference(y,v);u.Name=u.LogicalName==="documenttemplate"?"DocumentTemplate":"PersonalDocumentTemplate";c=this.$Tn===1?{DocumentTemplateEntityReference:u}:{WordTemplateEntityReference:u};var p=this.$Tn===1?"OpenDocumentTemplateCommand":"OpenWordTemplateCommand",w=this.$Tn===1?"DocumentTemplates":"WordTemplates",b=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(l,"Button",p,a,o++,"System",w,"Symbol",c);Array.add(r.Children,b)}r.Children.length>0&&Array.add(this.$Q6.Controls,r)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$9r=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("CreateMultipleRecentlyViewedItemsAction",Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.$B=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$9r,i=t;return r.$Qw=i.EntityRecords,!$0.$1(i.onSuccess)&&Function.isInstanceOfType(i.onSuccess)&&(r.$P=i.onSuccess),!$0.$1(i.onFailure)&&Function.isInstanceOfType(i.onFailure)&&(r.$1M_3=i.onFailure),r};Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.prototype={$P:null,$1M:null,$Qw:null,$R1:function(){var n,r,u,f;if(!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()&&Microsoft.Crm.Client.Core.ViewModels.$n.$DJ())return this.$1M(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093996)),1;if($0.$1(this.$Qw)||!this.$Qw.length)return this.$P(null),1;n=[];for(var i=this.$Qw,e=i.length,t=0;t<e;++t)r=i[t],Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$B(r,!1,Microsoft.Crm.Client.Core.Framework.$G.$b("","CreateRecentlyViewedItemListAction")));return u=this,f=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),function(n){u.$P(n)},function(n){f.$1M(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.Actions.$8R=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveLandingPageActivities",Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.Actions.$8R;return t.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(i),t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,t.$IX=i.get_DefinitionId(),t.$2W=Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$26Q(),t.$Ae=i.$1s.$BT+1,t};Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$26Q=function(){var n=Microsoft.Crm.Client.Core.Storage.Common.$1N.$Bs("activitypointer");return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$1Au('<fetch version="1.0" output-format="xml-platform" mapping="logical" distinct="true" returntotalrecordcount="true" no-lock="true"><entity name="activitypointer">\t<attribute name="subject"/>\t<attribute name="scheduledstart"/>\t<attribute name="regardingobjectid"/>\t<attribute name="scheduledend"/>\t<order attribute="scheduledend" descending="false"/>\t<filter type="and">\t\t<condition attribute="statecode" operator="in">\t\t\t<value>0<\/value>\t\t\t<value>3<\/value>\t\t<\/condition>\t\t<condition attribute="isregularactivity" operator="eq" value="1"/><filter type="or">\t\t\t<condition attribute="scheduledstart" operator="today"/>\t\t\t<condition attribute="scheduledend" operator="today"/>\t\t\t<condition attribute="scheduledstart" operator="this-week"/>\t\t\t<condition attribute="scheduledend" operator="this-week"/>\t\t\t<condition attribute="scheduledend" operator="olderthan-x-weeks" value="1"/>\t\t\t<condition attribute="scheduledend" operator="last-week"/>\t\t<\/filter>\t<\/filter>\t<filter type="and">\t\t<filter type="or">\t\t\t<condition attribute="activitytypecode" operator="eq" value="4202"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4210"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4212"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4216"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4201"/>\t\t<\/filter>\t<\/filter><\/entity><\/fetch>',16,n)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6O=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlForDocumentRecommendations",Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2rN)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2rN=function(n){var i=n,r=i.$2,t=new Microsoft.Crm.Client.Application.ViewModels.Actions.$6O,u=r.$6O.entityName,f=r.$6O.entityId;return t.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(i),t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,t.$IX=i.get_DefinitionId(),t.$Ae=i.$1s.$BT+1,$0.$1(u)||$0.$1(f)||(t.$Hv=new Xrm.Objects.EntityReference(u,new Microsoft.Crm.Client.Core.Framework.Guid(f))),r.$6O.SuggestionsSource.toString()==="notification"&&Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1f(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Oh("DocRecTooltipClickEvent",Xrm.Page.context.getOrgUniqueName(),Xrm.Page.context.getUserId(),"Document Recommendation Tooltip clicked",0)),t};Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2iH=function(n){Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(n.get_Root())&&(n.get_Root().$VB(),Microsoft.Crm.Client.Core.ViewModels.$Z.$3UC("title","message"))};Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.prototype={$Hv:null,$31:function(){var n=this.$A_3;return(n.$ts=!0,$0.$1(this.$Hv))?(Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2iH(this.$A_3),0):(this.$3St(),Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.prototype.$31.call(this),1)},$3St:function(){this.$A_3.$2N=String.format(Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2DP,this.$Hv.LogicalName,this.$Hv.Id,this.$Hv.TypeCode)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$53=function(){this.$$d_$3OJ=Function.createDelegate(this,this.$3OJ);this.$$d_$3OK=Function.createDelegate(this,this.$3OK);Microsoft.Crm.Client.Application.ViewModels.Actions.$53.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEntityCollection",Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$53;return Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B9=t,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$53.prototype={$9p:null,$BL:null,$31:function(){this.$9p=Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B9.OnSuccess;this.$BL=Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B9.OnFailure;var n=Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B9.QueryValue,t=n.KeyQuery;return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$33(t,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI(),this.get_$f()),this.$$d_$3OK,this.$$d_$3OJ),1},$3OK:function(n){this.$9p(n)},$3OJ:function(n){this.$BL(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$51=function(){this.$$d_$2P4=Function.createDelegate(this,this.$2P4);this.$$d_$3E7=Function.createDelegate(this,this.$3E7);Microsoft.Crm.Client.Application.ViewModels.Actions.$51.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("NonCud",Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$51;return Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B9=t,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$51.prototype={$9p:null,$BL:null,$31:function(){var n=Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B9.QueryValue,u=n.CommandName.toString(),f=n.EntityName.toString(),t=n.NonCudRequest,i,r;return this.$9p=Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B9.OnSuccess,this.$BL=Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B9.OnFailure,$0.$1(t)?(i=Microsoft.Crm.Client.Core.Framework.$4.$1SG(null),this.$2P4(i)):(r=new Microsoft.Crm.Client.Core.NonCudExecution.ExecutionWrapper.$Mk(u,f,t),this.$1j(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6c),r.$3KH(),this.$$d_$3E7,this.$$d_$2P4)),1},$3E7:function(n){this.$9p(n)},$2P4:function(n){this.$BL(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveDraftRecordsAction",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$B=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction,r;return t.$P=i.$$d_$4e,t.$1M_3=i.$$d_$5O,t.$A_3=i,r=new Microsoft.Crm.Client.Core.Storage.DataApi.$T1,t.$1o=r,t.$1o.set_$7m(i.$1s.$BT+1),t.$1o.$32=i.get_PageSize(),t.$1o.$S=i.$J,t};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.prototype={$1o:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2UL(this.$1o,this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$1Pt:function(n){return Microsoft.Crm.Client.Core.Models.$AB.$B(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction=function(){this.$$d_$1bF=Function.createDelegate(this,this.$1bF);this.$$d_$15L=Function.createDelegate(this,this.$15L);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEntityRecord",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction;return i.$B9=t,i};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.prototype={$9p:null,$BL:null,$B9:null,$31:function(){this.$9p=this.$B9.OnSuccess;this.$BL=this.$B9.OnFailure;var n=this.$B9.QueryValue,t=n.Identifier,i=n.ColumnSet;return this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(t,i,Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI(),this.get_$f()),this.$$d_$15L,this.$$d_$1bF),1},$15L:function(n){this.$9p(n);this.$1Y()},$1bF:function(n){this.$BL(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q=function(){this.$$d_$1Pn=Function.createDelegate(this,this.$1Pn);this.$$d_$29u=Function.createDelegate(this,this.$29u);Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("CreateNavigationEntity",Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q,r;return i.$A_3=n,r=t,i.$wV=r.SourceEntityLogicalName,i.$wU=r.SourceEntityId,i.$pO=r.TargetEntityLogicalName,i.$21x=r.TargetEntityAttribute,i.$P=r.OnSuccess,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.prototype={$wV:null,$wU:null,$pO:null,$21x:null,$P:null,$31:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$rt(this.$wV,this.$wU,this.$pO,this.$21x,this.get_$f()).then(this.$$d_$29u,this.$$d_$1Pn),1},$29u:function(n){if(!$0.$1(this.$P)){var t=n;this.$P(t.NavigationEntities[0].Id)}this.$1Y()},$1Pn:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$7L=function(){this.$$d_$2gz=Function.createDelegate(this,this.$2gz);this.$$d_$2h0=Function.createDelegate(this,this.$2h0);Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("ChangeProcess",Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$7L,r=t;return i.$A_3=n,i.$Fg=r.EntityId,i.$S=r.EntityLogicalName,"ProcessControlId"in r&&(i.$hD=r.ProcessControlId),"ProcessInstanceId"in r&&(i.$E2=r.ProcessInstanceId),i.$gQ=r.NewStageId,i.$uY=r.TraversedPath,i.$P=r.SuccesCallback,i.$1M=r.FailureCallback,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.prototype={$Fg:null,$S:null,$hD:null,$E2:null,$gQ:null,$uY:null,$P:null,$1M:null,$31:function(){$0.$1(this.$Fg)&&(this.$Fg=new Microsoft.Crm.Client.Core.Framework.Guid(this.$A_3.get_ModelContext().get_Id()));var n=$0.$1(this.$gQ)?"":this.$gQ.toString(),t=$0.$1(this.$uY)?n:this.$uY;return this.$1j(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$rZ(this.$Fg.toString(),this.$S,this.$hD.toString(),this.$E2,n,t,this.get_$f()),this.$$d_$2h0,this.$$d_$2gz),1},$2h0:function(){var t,i,n,r;this.$Fg.toString()===this.$A_3.get_ModelContext().get_Id()&&(t=this.$A_3,i=t.$7X("ProcessManager"),i.$35a(),Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$k()?(n=new Microsoft.Crm.Client.Core.Commands.$33(null,40),n.$J=this.$S,r={EntityReference:new Xrm.Objects.EntityReference(this.$S,new Microsoft.Crm.Client.Core.Framework.Guid(this.$Fg.toString()))},n.$1B=r,n.execute(),n.dispose()):Xrm.Utility.openEntityForm(t.$J,this.$Fg.toString()));$0.$1(this.$P)||this.$P();this.$1Y()},$2gz:function(n){$0.$1(this.$1M)||this.$1M();this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$7c=function(){this.$$d_$3Dm=Function.createDelegate(this,this.$3Dm);this.$$d_$3Dn=Function.createDelegate(this,this.$3Dn);Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("NavigateToNextEntity",Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.$B=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$7c,r;return i.$A_3=n,r=t,i.$ua=r.NextEntityLogicalName,i.$uZ=r.NextEntityId,i.$13S=r.NewActiveStageId,i.$13Q=r.NewTraversedPath,i.$m8=r.FollowUpCommand,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.prototype={$13Q:null,$uZ:null,$ua:null,$13S:null,$GX:function(){this.set_$2Dn(null);Microsoft.Crm.Client.Core.Framework.$BN.prototype.$GX.call(this)},$31:function(){var n=this.$A_3.get_ModelContext(),t=new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$57().get_$57()),i=n.get_$Hb(),r=n.GetValue("processid"),u=Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),f=new Xrm.Gen.NavigateToNextEntityRequest(t,i,this.$uZ,this.$ua,this.$13S,this.$13Q,r,u),e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(f,this.get_$f());return this.$1j(Xrm.Sdk.Response,e,this.$$d_$3Dn,this.$$d_$3Dm),1},$3Dm:function(n){this.$21(n)},$3Dn:function(){if($0.$1(this.$m8)){var n=null;Microsoft.Crm.Client.Core.ViewModels.Controls.$7e.isInstanceOfType(this.$A_3)&&!$0.$1(this.$A_3.get_$1v())&&(n=this.$A_3.get_$1v().$1o9());Xrm.Utility.openEntityForm(this.$ua,this.$uZ.toString(),n)}else this.$m8.execute();this.$1Y()},$m8:null,set_$2Dn:function(n){return $0.$1(this.$m8)||(this.$m8.dispose(),this.$m8=null),this.$m8=n,n}};Microsoft.Crm.Client.Application.ViewModels.Actions.$6S=function(){this.$$d_$2Nj=Function.createDelegate(this,this.$2Nj);this.$$d_$1X5=Function.createDelegate(this,this.$1X5);Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveProcessActionRecord",Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$B=function(n,t){var i=t,r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$6S,u;return r.$P=i.OnSuccess,r.$1M_3=i.OnFailure,u=i.QueryValue,Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$1xe=u.ProcessActionName.toString(),r};Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.prototype={$P:null,$31:function(){return this.$Km(),1},$Km:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(45,this.get_$25(),"sdkmessage",1,!1,Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$1xe,0);this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,this.get_$f()),this.$$d_$1X5,this.$$d_$2Nj)},$1X5:function(n){var i=MscrmComponents.DeferredPromiseFactory(Xrm.ProcessActionSuccessResponse,Xrm.ErrorResponse),t=this;this.$JF(function(){var i=n.get_$3ZH()>0?n.get_$I(0).get_$5c():new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor;t.$P(i);t.$1Y()},this.get_$LB())},$2Nj:function(n){var t=MscrmComponents.DeferredPromiseFactory(Xrm.ProcessActionSuccessResponse,Xrm.ErrorResponse),i=new Xrm.ErrorResponse(n.$z,n.$E,n.$E);t.reject(i);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction=function(){this.$$d_$2KW=Function.createDelegate(this,this.$2KW);this.$$d_$367=Function.createDelegate(this,this.$367);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveProcessActiveStage",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$B=function(n){return Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$dZ(n)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$dZ=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction;return t.$A_3=n,t.$Hk=new Microsoft.Crm.Client.Core.Framework.Guid(n.$LF),t.$P=n.$$d_$iu,t};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.prototype={$S:null,get_$BV:function(){return this.$A_3},$Fg:null,$Hk:null,$P:null,$31:function(){var n=this.$A_3,t,i,r,u,f,e;return!$0.$1(n.$2)&&!$0.$1(n.$2.get_ModelContext())&&(t=n.$2.get_ModelContext(),!$0.$1(t)&&!$0.$1(t.$M)&&!$0.$1(t.$M.$DI))?(this.$2KM(t.$M.$DI),0):($0.$1(n.get_ModelContext())?this.$2KW(Microsoft.Crm.Client.Core.Framework.$4.$i("RetrieveProcessActiveStageAction - ViewModel.ModelContext is null.")):(this.$S=n.get_ModelContext().get_ModelName(),this.$Fg=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n.get_ModelContext().get_Id()),Microsoft.Crm.Client.Core.ViewModels.Controls.$47.$uX(this.$S)?(i=new Mscrm.ProcessControlShared.ObjectModels.$Jc,i.EntityLogicalName=this.$S,i.Id=this.$Fg.toString(),this.$3O2(i)):(r=n.$E2,u=null,Microsoft.Crm.Client.Core.Framework.$3.$1O(r)||(u=new Xrm.Objects.EntityReference("businessprocessflowinstance",Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(r))),f=new Xrm.Gen.RetrieveProcessActiveStageRequest(this.$Fg,this.$S,this.$Hk,u),e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(f,this.get_$f()),this.$1j(Xrm.Sdk.Response,e,this.$$d_$367,this.$$d_$2KW))),1)},$rm:function(n){($0.$1(n)||$0.$1(n.$KP))&&(n=this.$29g());this.$P(n);this.$1Y()},$29g:function(){var t=new Mscrm.ProcessControlShared.ObjectModels.$Jc,n;return $0.$1(this.get_$BV().get_ModelContext())||(t.EntityLogicalName=this.get_$BV().get_ModelContext().get_ModelName(),t.Id=this.get_$BV().get_ModelContext().get_Id()),n=new Mscrm.ProcessControlShared.ObjectModels.$JZ,n.$KP=this.get_$BV().get_$Cw().toString(),n.$CU=this.get_$BV().get_$v9(),n.$Cr=[t],n},$367:function(n){var t=n.entity;this.$2KM(t)},$2KM:function(n){if($0.$1(n)){this.$rm(null);return}var r=this.get_$BV().get_$8B(),u=new Microsoft.Crm.Client.Core.Models.ProcessControl.Factories.$Is,t=u.$29R(n,r),i=null;if($0.$1(t)||(i=this.get_$BV().$Dp(t.$KP)),$0.$28(i)){this.$3Co(t);return}this.$rm(t)},$3Co:function(n){var t=this.$29g(),r=this.$2rv(n.$Cr),i;if($0.$1(r)){this.$rm(t);return}i=this;this.$1j(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(r,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["processid","stageid","traversedpath"]),Microsoft.Crm.Client.Core.ViewModels.$u.get_$gR(),this.get_$f()),function(r){if(r.hasValue("processid")&&i.$Hk.equals(r.getValue("processid"))&&r.hasValue("stageid")){var u=r.getValue("stageid").toString(),f=r.getValue("traversedpath"),e=i.get_$BV().$Dp(u);IsNull(e)?(t.$KP=i.get_$BV().get_$Cw().toString(),t.$CU=i.get_$BV().get_$v9()):(t=n,t.$KP=u,t.$CU=f)}i.$rm(t)},this.$$d_$2KW)},$2rv:function(n){if($0.$1(n)||!n.length)return null;var t=n[n.length-1];return new Xrm.Objects.EntityReference(t.EntityLogicalName,new Microsoft.Crm.Client.Core.Framework.Guid(t.Id))},$2KW:function(n){n.$z===-2147093999?this.$1UE():this.$21(n)},$1UE:function(){this.$rm(null)},$3O2:function(n){var t=new Mscrm.ProcessControlShared.ObjectModels.$JZ,u,r,i,f,e;for(t.$KP=this.get_$BV().get_$Cw().toString(),t.$CU=this.get_$BV().get_$v9(),u=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$7p,r=new Array(0),i=1;i<=5;i++)f=String.format("entity{0}id",i),e=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM(f,n.Id,1,0),r.push(e);var s=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IL(r),o=this,h=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(u.$6I("businessprocessflowinstance",s)),function(i){var r=i[0];r.rows.length>0?o.$2ft(t,r):t.$Cr=[n];o.$rm(t)},function(){t.$Cr=[n];h.$rm(t)})},$2ft:function(n,t){var r={},i,f,e,o,u,s;for(n.$Cr=new Array(0),i=t.rows.item(0),("processstageid"in i)&&!$0.$1(i.processstageid)&&(n.$KP=i.processstageid.toString().toLowerCase(),r.processstageid=i.processstageid.toString().toLowerCase()),("traversedpath"in i)&&!$0.$1(i.traversedpath)&&(n.$CU=i.traversedpath.toString(),r.traversedpath=i.traversedpath.toString()),f=1;f<=5;f++)e=String.format("entity{0}id",f),o=String.format("entity{0}objecttypecode",f),e in i&&o in i&&!$0.$1(i[e])&&!$0.$1(i[o])&&(u=new Mscrm.ProcessControlShared.ObjectModels.$Jc,u.Id=i[e].toString(),u.EntityLogicalName=i[o].toString(),r[e]=u.Id,r[o]=u.EntityLogicalName,n.$Cr.push(u));(s="businessprocessflowinstanceid"in i&&!$0.$1(i.businessprocessflowinstanceid),s)&&(r.businessprocessflowinstanceid=i.businessprocessflowinstanceid.toString(),this.$3T7(r))},$3T7:function(n){var i=new Microsoft.Crm.Client.Core.Framework.Guid(n.businessprocessflowinstanceid.toString()),r=new Xrm.Objects.EntityReference("businessprocessflowinstance",i),u=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,n,{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),t=this.get_$BV().$2.get_ModelContext(),f=!$0.$1(t)&&$0.$1(t.$M.$DI);f&&(this.get_$BV().$2.get_ModelContext().$M.$DI=u)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$UU=function(){this.$$d_$2Nj=Function.createDelegate(this,this.$2Nj);this.$$d_$1X5=Function.createDelegate(this,this.$1X5);this.$$d_$3Bs=Function.createDelegate(this,this.$3Bs);this.$$d_$3Bp=Function.createDelegate(this,this.$3Bp);this.$$d_$3Bq=Function.createDelegate(this,this.$3Bq);Microsoft.Crm.Client.Application.ViewModels.Actions.$UU.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$UU.prototype={$P:null,$Wy:null,$S:null,set_$oA:function(n){return this.$P=n,n},$31:function(){return this.$Wy=this.$31z(),$0.$1(this.$Wy)?this.$31Q(this.$S):this.$Km(),1},$1X5:function(n){var t=this;this.$JF(function(){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveProcessControlAction:LoadDefinitionsSuccess"),r,u;i.start();$0.$1(t.$P)||(r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor,u=n.get_$3ZH()>0?n.get_$I(0).get_$5c():r,t.$P(u));t.$1Y();i.stop()},this.get_$LB())},$2Nj:function(n){this.$21(n)},$31z:function(){if(!$0.$1(this.$Wy))return this.$Wy;var n=this.$A_3.get_ModelContext();return $0.$1(n)?null:n.GetValue("processid")},$31Q:function(n){(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===1||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$25()===2)&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$r()&&Xrm.Utility.isMocaOfflineFeatureEnabled()&&Xrm.Utility.isEntityOfflineSyncEnabled(n)?this.$31R(this.$S):this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RetrieveProcessWithFallbackRequest(n,null),this.get_$f()),this.$$d_$3Bq,this.$$d_$3Bp)},$31R:function(n){var r=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$7p,t=new Array(0),i;t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM("primaryentity",n.toLowerCase(),1,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM("category",4,0,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM("statecode",1,0,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM("businessprocesstype",1,0,1,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IM("businessprocesstype","",1,6,1));i=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$IL(t);this.$1j(Microsoft.Crm.Client.Core.Imported.Norsync.SQLiteResults,r.$6I("Workflow",i),this.$$d_$3Bs,this.$$d_$3Bp)},$3Bs:function(n){this.$Wy=null;!$0.$1(n)&&n.rows.length>0&&!$0.$1(n.rows.item(0))&&this.$3TF(n);this.$Km()},$3TF:function(n){var u,f,i,r,t;for(Microsoft.Crm.Client.Core.Framework.Utils.$D.$1U(n.rows.item(0).workflowid,"entityMetadata"),u=$0.$1(n.rows.item(0).workflowid)?null:Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n.rows.item(0).workflowid.toString()),f=$0.$1(n.rows.item(0).processorder)?2147483647:n.rows.item(0).processorder,i=1;i<n.rows.length;i++)r=2147483647,t=n.rows.item(i),$0.$1(t.processorder)||(r=t.processorder),f>r&&(u=$0.$1(t.workflowid)?null:Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.workflowid.toString()),f=r);this.$Wy=u},$3Bq:function(n){var t=n.entity;t&&t.set_clientRetrieveOptions(Microsoft.Crm.Client.Core.ViewModels.$u.get_$gI());this.$Wy=t?t.getValue("workflowid"):null;this.$Km()},$3Bp:function(n){n.$z===-2147093999?this.$1UE():this.$21(n)},$Km:function(){if($0.$1(this.$Wy)||this.get_$25()===4)this.$1X5(new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V)));else{var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(15,this.get_$25(),null,1,!0,this.$Wy.toString());this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(n,this.get_$f()),this.$$d_$1X5,this.$$d_$2Nj)}},$1UE:function(){this.$1X5(new(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V))(0))}};Microsoft.Crm.Client.Application.ViewModels.Actions.$6l=function(){this.$$d_$1GE=Function.createDelegate(this,this.$1GE);Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveProcessControlFirstStage",Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$B=function(n){return Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$dZ(n)};Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$dZ=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.$6l;return t.$A_3=n,t.$S=n.$J,t.set_$oA(t.$$d_$1GE),t.$1M_3=n.$$d_$1wI,t.$13n=n.$$d_$1wJ,t};Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.prototype={$13n:null,set_$3FW:function(n){return this.$13n=n,n},$1GE:function(n){var u,e,t,o,i;if(!n){this.$13n(null);return}var s=this.$A_3.get_$2R(),r=null,f=n.ChildViewModels;for(u in f)if((e={key:u,value:f[u]},t=e.value,t.TypeName==="ProcessEntity")&&(o=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"EntityLogicalName",t.Properties),o===s)&&(r=this.$2ru(t),r))break;i=[];Array.add(i,this.$Wy);Array.add(i,r);this.$13n(i)},$2ru:function(n){var t=null,u=n.ChildViewModels,i,f,r;for(i in u)if((f={key:i,value:u[i]},r=f.value,r.TypeName==="Stage")&&(t=Microsoft.Crm.Client.Core.ViewModels.$1R.$CD(String,"StageId",r.Properties),t))break;return new Microsoft.Crm.Client.Core.Framework.Guid(t)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveRecentlyViewedItemList",Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$B);(Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$1WX()||Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_$4V())&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$6Q().add_$2OZ(Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$2QG)};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$B=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$2p,u;return r.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(i),r.$A_3=i,r.$IX=i.get_DefinitionId(),r.$2W=Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$26Q(),r.$Ae=i.$1s.$BT+1,u=t,r.$P=function(n){i.dispose();i=null;u.OnSuccess(n)},r.$1M_3=function(n){i.dispose();i=null;u.OnFailure(n)},r};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$26Q=function(){var i,t,u,f;if($0.$1(Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj)){i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$V().$OW();Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj='<filter type="or">';Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj+="<condition attribute='recentlyviewedxml' operator='like' value='%etc=\"1030\"%' />";for(var r=i,e=r.length,n=0;n<e;++n)t=r[n],t.$Oj&&(Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj+="<condition attribute='recentlyviewedxml' operator='like' value ='%etc=\""+t.$7u+"\"%' />");Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj+="<\/filter>"}return u=String.format("<fetch mapping='logical' returntotalrecordcount='true'>\r\n\t\t\t\t\t\t\t<entity name='{0}'>\r\n\t\t\t\t\t\t\t<attribute name='recentlyviewedxml'/>\r\n\t\t\t\t\t\t\t<attribute name='objecttypecode'/>\r\n\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute='ownerid' operator='eq' value='{1}' />\r\n\t\t\t\t\t\t\t\t<condition attribute='recentlyviewedxml' operator='neq' value='' />\r\n\t\t\t\t\t\t\t\t<condition attribute='recentlyviewedxml' operator='not-null' />\r\n\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t"+Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj+"\r\n\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t<\/fetch>","userentityuisettings",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$K().$3K),f=Microsoft.Crm.Client.Core.Storage.Common.$1N.$Bs("userentityuisettings"),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$1Au(u,16,f)};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$2QG=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj=null};Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.prototype={$4e:function(n){if(this.$15K=$0.$1(n.$4W)?null:n.$4W.$CT,$0.$1(this.$P)||this.$A_3.get_$Dt())this.$1Y();else{var t=this;this.$JF(function(){var i=t.$1Pt(n);t.$P(i);t.$1Y()},Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2Ap(this.$A_3))}}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveProcessControlDefinition",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$B=function(n){return Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$dZ(n)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$dZ=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction;return t.$A_3=n,t.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$15Q,t.$S=n.$J,t.set_$oA(n.$$d_$1GE),t.$1M_3=n.$$d_$3Fv,t};Microsoft.Crm.Client.Application.ViewModels.Actions.$CW=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("UpdateMultipleRecentlyViewedItemsAction",Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.$B=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$CW,i;return r.$1de=!0,i=t,r.$Kl=i.EntityRecords,!$0.$1(i.onSuccess)&&Function.isInstanceOfType(i.onSuccess)&&(r.$P=i.onSuccess),!$0.$1(i.onFailure)&&Function.isInstanceOfType(i.onFailure)&&(r.$1M=i.onFailure),r};Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.prototype={$P:null,$1M:null,$Kl:null,$R1:function(){var n,t,r,u,f;if(!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$r()&&Microsoft.Crm.Client.Core.ViewModels.$n.$DJ())return n=Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093996),this.$1M(n),this.$21(n),1;if($0.$1(this.$Kl)||!this.$Kl.length)return this.$P(null),this.$1Y(),1;t=[];for(var e=this.$Kl,o=e.length,i=0;i<o;++i)r=e[i],Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7p(r.$3F,r,!1,Microsoft.Crm.Client.Core.Framework.$G.$b("","UpdateMultipleRecentlyViewedItemsAction")));return u=this,f=this,this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(n){u.$P(n);u.$1Y()},function(n){f.$1M(n);f.$21(n)}),1}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Actions");Microsoft.Crm.Client.Core.ViewModels.Actions.$8P=function(){this.$$d_$sc=Function.createDelegate(this,this.$sc);this.$$d_$6B=Function.createDelegate(this,this.$6B);Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveEmailFollowTrackingInfoAction",Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$B)};Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$B=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Actions.$8P;return i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hZ,Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$1Ip(i,t),i};Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$1Ip=function(n,t){var r=t,i=r.QueryValue;n.$1My=i.TrackingId;n.$1L4=i.ConversationTrackingId;n.$q5=i.EmailLinks;n.$7q=i.OnSuccess;n.$1M_3=r.OnFailure};Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.prototype={$4q:null,$7q:null,$1My:null,$1L4:null,$q5:null,get_$27o:function(){return"webclient"},$31:function(){return(this.$2Yi(),!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$5P.$20)?(this.$sc(Microsoft.Crm.Client.Core.Framework.$4.$i("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),0):(this.$1j(Microsoft.Crm.Client.Core.Models.$AD,this.$2UM(),this.$$d_$6B,this.$$d_$sc),1)},$2pj:function(n){for(var i={},t=0;t<this.$q5.length;t++)i[this.$q5[t]]=n.emailLinkTrackingUrls[t];return i},$2C6:function(n){return n.emailTrackingPixelUrl},$2UM:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Models.$AD,Microsoft.Crm.Client.Core.Framework.$4),i=[],t,r;return i.push(Xrm.Internal.messages.getEmailTrackingPixelUrl(this.$1My,this.$1L4,this.get_$27o())),!$0.$1(this.$q5)&&this.$q5.length>0&&i.push(Xrm.Internal.messages.getEmailLinkTrackingUrls(this.$1My,this.$1L4,this.get_$27o(),this.$q5)),t=this,r=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(i){i.length===1?n.resolve(new Microsoft.Crm.Client.Core.Models.$AD(t.$2C6(i[0]),null)):i.length===2?n.resolve(new Microsoft.Crm.Client.Core.Models.$AD(t.$2C6(i[0]),t.$2pj(i[1]))):n.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093999))},function(t){Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$x.isInstanceOfType(t)?n.reject(Microsoft.Crm.Client.Core.Framework.$4.$JT(t.$2IA())):n.reject(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2147093999))}),n},$sc:function(n){n.$z===-2147093999&&(n.$z=-2147093997);this.$2DZ(n);this.$21(n)},$6B:function(n){this.$7q(n);this.$2Da(n);this.$1Y()},$2Yi:function(){this.$4q=new Microsoft.Crm.Client.Core.Framework.$5o("MailAppAction",{Action:"RetrieveEmailFollowTrackingInfoAction"});Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$iO(this.$4q)},$2Da:function(n){$0.$1(this.$4q)||(this.$4q.p.EmailFollowTrackingInfoRetrieved=!0,this.$4q.p.EmailFollowTrackingPixelUrl=n.$xZ,this.$4q.p.EmailFollowTrackingUrlPairs=n.$xX,Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(this.$4q.rid),this.$4q=null)},$2DZ:function(n){$0.$1(this.$4q)||(this.$4q.p.EmailFollowTrackingInfoRetrieved=!1,this.$4q.p.ErrorCode=n.$z,this.$4q.p.ErrorMessage=n.$E,Microsoft.Crm.Client.Core.Framework.$1B.get_$5().$Vk(this.$4q.rid),this.$4q=null)}};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Core.ViewModels.$Db.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Db",Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$3bT.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$3bT");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$UV.registerClass("Microsoft.Crm.Client.Application.ViewModels.$UV",Microsoft.Crm.Client.Core.ViewModels.$UE,Microsoft.Crm.Client.Core.ViewModels.$Hh);Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction",Microsoft.Crm.Client.Application.ViewModels.$UV);Microsoft.Crm.Client.Application.ViewModels.$Bx.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Bx",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.$B8.registerClass("Microsoft.Crm.Client.Application.ViewModels.$B8",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction",Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction);Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3bV.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3bV");Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$6T.registerClass("Microsoft.Crm.Client.Application.ViewModels.$6T",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$6T);Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction",Microsoft.Crm.Client.Application.ViewModels.$UV);Microsoft.Crm.Client.Application.ViewModels.$BZ.registerClass("Microsoft.Crm.Client.Application.ViewModels.$BZ",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction);Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$7E.registerClass("Microsoft.Crm.Client.Application.ViewModels.$7E",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$Bu.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Bu",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.PingServerAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.PingServerAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$Bv.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Bv",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction",Microsoft.Crm.Client.Application.ViewModels.$UV);Microsoft.Crm.Client.Application.ViewModels.$6Q.registerClass("Microsoft.Crm.Client.Application.ViewModels.$6Q",Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction);Microsoft.Crm.Client.Application.ViewModels.$6R.registerClass("Microsoft.Crm.Client.Application.ViewModels.$6R",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase);Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$3C.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3C",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.$3C.$3bU.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3C.$3bU");Microsoft.Crm.Client.Application.ViewModels.$3C.$3bW.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3C.$3bW");Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase);Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$6T);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$6T);Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$6T);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$BA.registerClass("Microsoft.Crm.Client.Application.ViewModels.$BA",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$U3.registerClass("Microsoft.Crm.Client.Application.ViewModels.$U3",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Application.ViewModels.$3b.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3b",Microsoft.Crm.Client.Application.ViewModels.$U3);Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$6U.registerClass("Microsoft.Crm.Client.Application.ViewModels.$6U",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction",Microsoft.Crm.Client.Application.ViewModels.$U3);Microsoft.Crm.Client.Application.ViewModels.$5m.registerClass("Microsoft.Crm.Client.Application.ViewModels.$5m",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$2m.registerClass("Microsoft.Crm.Client.Application.ViewModels.$2m",Microsoft.Crm.Client.Application.ViewModels.$U3);Microsoft.Crm.Client.Application.ViewModels.$4o.registerClass("Microsoft.Crm.Client.Application.ViewModels.$4o",Microsoft.Crm.Client.Application.ViewModels.$2m);Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$9r",Microsoft.Crm.Client.Application.ViewModels.$U3);Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$8R",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$6O",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.$53.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$53",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$51.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$51",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$7L",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$7c",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$6S",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$UU.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$UU",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$6l",Microsoft.Crm.Client.Application.ViewModels.Actions.$UU);Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$2p",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction",Microsoft.Crm.Client.Application.ViewModels.Actions.$UU);Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$CW",Microsoft.Crm.Client.Application.ViewModels.$U3);Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.registerClass("Microsoft.Crm.Client.Core.ViewModels.Actions.$8P",Microsoft.Crm.Client.Core.ViewModels.$TK);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$8O.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Bx.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$B8.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$BZ.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$7E.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Bu.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Bv.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$6Q.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$6R.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$3C.$2D8='<fetch mapping="logical" distinct="false" aggregate="true" >\r\n\t\t\t\t<entity name="productpricelevel">\r\n\t\t\t\t\t<attribute name="uomid" groupby="true" alias="uomid" />\r\n\t\t\t\t\t<attribute name = "productpricelevelid" groupby="true" alias="productpricelevelid" />\r\n\t\t\t\t\t<attribute name = "amount" groupby="true" alias="amount" />\r\n\t\t\t\t\t<attribute name = "productid" groupby="true" alias="productid" />\r\n\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t<condition attribute = "pricelevelid" operator="eq" value="{0}" />\r\n\t\t\t\t\t\t<condition entityname = "basketrecord_productdetailentity" attribute="{12}" operator="null" />\r\n\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t<link-entity name = "{1}" to="{2}" from="{3}" link-type="inner">\r\n\t\t\t\t\t\t{4}\r\n\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t<condition attribute = "{5}" operator="in">\r\n\t\t\t\t\t\t\t{6}\r\n\t\t\t\t\t\t\t<\/condition>\r\n\t\t\t\t\t\t\t{7}\r\n\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t<link-entity name = "{9}" from="productid" to="{8}" link-type="outer" alias="basketrecord_productdetailentity" >\r\n\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute = "{10}" operator="eq" value= "{11}" />\r\n\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t<link-entity name = "product" to="{8}" from="productid" link-type="inner">\r\n\t\t\t\t\t\t\t<filter type = "or">\r\n\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute = "statecode" operator="eq" value= "0" />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute = "statecode" operator="eq" value= "3" />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t<\/entity>\r\n\t\t\t<\/fetch>';Microsoft.Crm.Client.Application.ViewModels.$3C.$2DG='<fetch mapping="logical" distinct="false" aggregate="true">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<entity name="recommendationcache">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name="recommendeditemid" groupby="true" alias="recommendeditemid"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name="recommendationrating" aggregate="max" alias="recommendationrating"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type="and" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="itemid" operator="in">{0}<\/condition>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="isrecommendationactive" operator="eq" value="1" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition entityname="productsuggestions_detailentity" attribute="{1}" operator="null" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<order alias="recommendationrating" descending="true" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<link-entity name="product" from="productid" to="recommendeditemid" link-type="inner" alias="a_7d64828b1789436db0d0cf80c2660962">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type="or" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="statecode" operator="eq" value="0" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="statecode" operator="eq" value="3" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<link-entity name="{2}" from="{3}" to="recommendeditemid" link-type="outer" alias="productsuggestions_detailentity" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type="and" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="{4}" operator="eq" value="{5}" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/fetch>';Microsoft.Crm.Client.Application.ViewModels.$3C.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$2Dl=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["DocumentTemplatesFlyout","WordTemplatesFlyout"]);Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$BA.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$3b.$$cctor();Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$6U.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$5m.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$4o.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$2m.$$cctor();Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$22C=!1;Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$23f=!1;Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$9r.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$8R.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$2DP='<filter type="and">\r\n\t\t\t\t\t<condition attribute="regardingobjectid" operator="eq" uitype="{0}" value="{1}"/>\r\n\t\t\t\t\t<condition attribute="regardingobjecttypecode" operator="eq" value="{2}"/>\r\n\t\t\t\t<\/filter>';Microsoft.Crm.Client.Application.ViewModels.Actions.$6O.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$B9=null;Microsoft.Crm.Client.Application.ViewModels.Actions.$53.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$B9=null;Microsoft.Crm.Client.Application.ViewModels.Actions.$51.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$7Q.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$7L.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$7c.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$1xe="";Microsoft.Crm.Client.Application.ViewModels.Actions.$6S.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$6l.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$lj=null;Microsoft.Crm.Client.Application.ViewModels.Actions.$2p.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$CW.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Actions.$8P.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Application.ViewModels.js.srcmap
Type.registerNamespace("Microsoft.Crm.Client.Application.ViewModels");Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction=function(){this.$$d_$1bF=Function.createDelegate(this,this.$1bF);this.$$d_$15L=Function.createDelegate(this,this.$15L);Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("RetrieveUserQueues",Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.$348)};Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.$348=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction;return Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor.isInstanceOfType(t)&&(i.$B9=t),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.prototype={$B9:null,$9p:null,$BL:null,$31:function(){this.$9p=this.$B9.OnSuccess;this.$BL=this.$B9.OnFailure;var n=this.$B9.QueryValue,t=n.userId,i=n.includePublic;return this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RetrieveUserQueuesRequest(t,i),this.get_$f()),this.$$d_$15L,this.$$d_$1bF),1},$15L:function(n){this.$9p(n);this.$1Y()},$1bF:function(n){this.$BL(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction=function(){this.$$d_$1bF=Function.createDelegate(this,this.$1bF);this.$$d_$15L=Function.createDelegate(this,this.$15L);Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("GetCurrentServerDateTimeInUtcRequest",Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.$31o)};Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.$31o=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction;return i.$B9=t,i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1q3,i};Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.prototype={$B9:null,$9p:null,$BL:null,$31:function(){this.$9p=this.$B9.OnSuccess;this.$BL=this.$B9.OnFailure;var n=this.$B9.QueryValue,t=n.entityName,i=n.entityId;return this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.GetCurrentServerDateTimeInUtcRequest(t,i),this.get_$f()),this.$$d_$15L,this.$$d_$1bF),1},$15L:function(n){this.$9p(n);this.$1Y()},$1bF:function(n){this.$BL(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric=function(){Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("AssociateRecordsForInteractionCentric",Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.$B)};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric,i=n;return t.$A_3=i,t.$P=i.$$d_$3EX,t.$NA=i.$NA,t.$Io=i.$Io,t.$5h=i.$5h,t.$A3=i.$A3,t.$7n=i.$7n,t.$5y=i.$5y,t};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.prototype={$NA:null,$Io:null,$5h:0,$7n:null,$5y:null,$A3:0,$31:function(){return this.$Fh(this.$NA,this.$Io,this.$5h,this.$7n,this.$5y,this.$A3),1}};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlForFilterGraph",Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2t6);Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FilterGraphFetchXmlWithCallback",Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2rj)};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2t6=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2t5(n,t);return i.$cB=2,i};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2t5=function(n,t){var r=n,u=t,i=new Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction,f;return i.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(r),i.$1LM=r.$$d_$3C1,i.$1M_3=r.$$d_$3C9,i.$A_3=r,i.$IX="",f=Microsoft.Crm.Client.Core.Storage.Common.$1N.$Bs(r.$J),i.$2W=$0.$1(u.QueryValue)?r.$17h:Array.isInstanceOfType(u.QueryValue)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$1Au(u.QueryValue,16,f):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(u.QueryValue.toString()),i};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2rj=function(n,t){var r=n,u=t,i=new Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction;return i.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(r),i.$1LM=r.$$d_$3C3,i.$1M_3=u.OnFailure,i.$A_3=r,i.$IX="",i.$2W=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(u.QueryValue.toString()),i};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.prototype={$1LM:null,$1mv:function(n){var t=this.$A_3;if(t.$17h=n,this.$A_3.get_$Dt()){this.$1Y();return}this.$1o=this.$28R(n);this.$R1()},$28R:function(n){var t=new Microsoft.Crm.Client.Core.Storage.DataApi.$8C(n,"");return t.$3R=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([this.$A_3.$1gx]),t.$Mp=!0,t.set_$7m(1),t.$32=20,t},$4e:function(n){this.$1LM(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction=function(){this.$$d_$1bF=Function.createDelegate(this,this.$1bF);this.$$d_$15L=Function.createDelegate(this,this.$15L);Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerDynamicQuery("RetrieveRecordWallRequest",Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$347)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$347=function(n,t){Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$B9=t;var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction;return i.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$15N,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.prototype={$9p:null,$BL:null,$31:function(){this.$9p=Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$B9.OnSuccess;this.$BL=Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$B9.OnFailure;var n=Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$B9.QueryValue,t=n.entityReference,i=n.pageNumber,r=n.pageSize,u=n.commentsPerPost,f=n.startDate,e=n.endDate,o=n.type,s=n.source;return this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.RetrieveRecordWallRequest(t,i,r,u,f,e,o,s),this.get_$f()),this.$$d_$15L,this.$$d_$1bF),1},$15L:function(n){this.$9p(n);this.$1Y()},$1bF:function(n){this.$BL(n);this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$Bm=function(){Microsoft.Crm.Client.Application.ViewModels.$Bm.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$Bm.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("QuickViewFormFetchData",Microsoft.Crm.Client.Application.ViewModels.$Bm.$2rJ)};Microsoft.Crm.Client.Application.ViewModels.$Bm.$2rJ=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.$Bm;return t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.$Bm.prototype={$31:function(){var n=this.$A_3,t=this,i=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$6I(n.$EA,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(n.$54),Microsoft.Crm.Client.Core.ViewModels.$u.get_$Jm(),Microsoft.Crm.Client.Core.Framework.$G.$b(n.$12,n.$12)).then(function(i){n.$Fw(i);t.$1Y()},function(t){n.$9B(t);i.$21(t)}),1}};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveFilterGraphByIdAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.$1nw)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.$1nw=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction;return t.$1nx(n),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.prototype={$357:function(){this.$A_3.set_ViewNameText(this.$Ln.$1S)},$3X6:function(n){this.$A_3.$3KC(n)},$2ID:function(n){var i=n,t=this.$A_3,r,u,f,e;return $0.$1(t.$xe)||(i=t.$xe),u=t.$KH,u?t.$5o().get_IsMultipleEntityGraphSupported()?(e=this.$A_3.$tk,r=Microsoft.Crm.Client.Core.Storage.Common.$2b.$3D1(i,e,this.$A_3.$5o().$js)):(f=t.$12F,r=Microsoft.Crm.Client.Core.Storage.Common.$2b.$13F(i,f)):r=i,Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.prototype.$2ID.call(this,r)},$297:function(){for(var s,i,n,t=null,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=this.$As.$Bg.$72,o=e.$NY,c=o.length,u=0;u<c;++u)s=o[u],r.add(s.$2y);for(i=0;i<this.$As.$Bg.$HQ.get_Count();i++)r.add(this.$As.$Bg.$HQ.get_$I(i).$2y);for(var h=e.$35,l=h.length,f=0;f<l;++f)n=h[f],n.$DC&&!r.contains(n.$2y)&&(t||(t={}),t[n.$2y]=n.$DC);return t},$2DU:function(n,t){var u=t,i,r,f;for(i in u)if(r={key:i,value:u[i]},f=r.value,f.$HR===n.$HR)return r;return null},$1lD:function(n,t,i){var u={},e=n,f,r,o,s;for(f in e)r={key:f,value:e[f]},r.key in t?(o=t[r.key],s=this.$2DU(o,i),u[s.key]=r.value):u[r.key]=r.value;return u},$2mC:function(n,t){for(var f,o,s,i=this.$297(),h=this.$1lD(n.$4Y,t,i),c=this.$1lD(n.$EU(),t,i),l=this.$1lD(n.$1Z,t,i),a=n.$3R.$1C(),v=a.columns,e={},r=Array.clone(v),u=0;u<r.length;u++)f=r[u],f in t&&(o=t[f],s=this.$2DU(o,i),r[u]=s.key);return e.columns=r,n.$295(h,c,l,e)},$2Lh:function(n,t,i,r,u,f,e,o){for(var a,s,c,l,v,h=0;h<r.get_Count();h++)(a=r.get_$I(h),i[a])&&(s=i[a],c=-1,o&&(c=s.get_$I(s.get_Count()-1)),l=$0.$28(u)?t.get_$I(s.get_$I(0)).clone():this.$2mC(t.get_$I(s.get_$I(0)),u),o&&!$0.$28(f)&&(v=t.get_$I(s.get_$I(0)).$4Y[f],e[v]=null),o?c>n.get_Count()-1?n.add(l):n.insert(c,l):n.add(l))},$2By:function(){var i,n,t,u;if(this.$A_3.get_$Dt()){this.$1Y();return}i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveChartDataAction.ProcessFetchData");i.start();this.$As.$2Xl();var f=this.$2ID(this.$As.get_$2b7()),e=this.$A_3.$5o().get_IsMultipleEntityGraphSupported()?this.$As.$313(this.$A_3.$5o().$js):this.$As.get_$1G(),r=new Microsoft.Crm.Client.Core.Storage.DataApi.$1P(e);r.$Mp=!0;r.$32=this.$As.$Bg.$72.$Eo;i.stop();n=[];Array.addRange(n,this.$As.$Bg.$2UF());this.$A_3.$1t1()?Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(new Xrm.Gen.IntersectRecordsWithQueueAndAggregateRequest(new Microsoft.Crm.Client.Core.Framework.Guid(this.$A_3.$Xw),this.$AA.Id,this.$KE.Id,this.$A_3.$12F),this.get_$f())):Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$vt(r,f,this.get_$f()));t=this;u=this;this.$BI(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),function(n){for(var u,f,r=null,i=0;i<n.length;i++)($0.$1(n[i])||Object.getType(n[i])!==Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection)&&($0.$1(n[i])||Object.getType(n[i])!==Xrm.Gen.IntersectRecordsWithQueueAndAggregateResponse)?(u=n[i].$22N(),f=t.$As.$Bg.$nj[u[0].$S],u.length>0&&!$0.$1(f)&&f.$Ew.$ng(u,!1)):Object.getType(n[i])===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection?r=n[i]:Object.getType(n[i])===Xrm.Gen.IntersectRecordsWithQueueAndAggregateResponse&&(r=n[i].entityCollection);r?t.$JF(function(){t.$2Nd(r)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1Ot):t.$1FX(Microsoft.Crm.Client.Core.Framework.$4.$i("load chart data failure, EntityCollection is not found in results! "))},function(n){u.$2Nb(n)})},$3Cz:function(n){var g=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveFilterGraphDataAction_MergeBaseSetFilteredSet"),rt,ut,k,a,ft,et,st,v,i,ht,ct,lt,at;g.start();for(var o=this.$A_3,t=o.$KH,r=t.$pv,s=t.$1MN,u=t.$1Mf,nt=t.$1MO,tt=t.$1Mh,y=t.$1LA,p=this.$27q(t.$1gu),h=this.$27q(t.$1h7),c=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord)),e=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty(),it=n.get_entities(),vt=it.length,w=0;w<vt;++w){var f=it[w],l=f.$4Y,b=l[s];s in l||(rt=f.$EU(),ut=rt[s],b=this.$1DU(ut));k=!1;p[b]=null;b in p||(e.add(f.clone()),k=!0);u&&(a=l[u],u in l||(ft=f.$EU(),et=ft[u],a=this.$1DU(et)),h[a]=null,a in h||k||e.add(f.clone()));c.add(f)}if(e.get_count()>0){for(var ot=t.$pv.get_entities(),yt=ot.length,d=0;d<yt;++d)st=ot[d],e.add(st.clone());this.$28t(e,ht={val:v},ct={val:i});v=ht.val;i=ct.val;o.set_$23p(i);o.$1Mg=v.get_Count()>1?v.get_$I(1).$G:"";r=i.$pv;s=i.$1MN;u=i.$1Mf;nt=i.$1MO;tt=i.$1Mh;y=i.$1LA;o.$1Lh=!0}return this.$2Lh(c,r,p,nt,y,u,h,!0),u&&this.$2Lh(c,r,h,tt,y,null,null,!1),lt=this.$2iE(r.$4W),at=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(c.toArray(),r.$Bw,r.$A8,r.$K9,n.$1o,lt),g.stop(),at},$258:function(n,t,i,r){var f,u;n in t?(f=t[n],f.add(r)):(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number)),u.add(r),t[n]=u,i.add(n))},$2e2:function(n,t){for(var r,i=0;i<t.get_Count();i++)r=n[t.get_$I(i)],r.add(i),n[t.get_$I(i)]=r},$2ms:function(n,t){var u={},f=n,r,i;for(r in f)i={key:r,value:f[r]},u[i.key]=t.contains(i.key)?"0":i.value;return u},$2mr:function(n,t){var u=n,f=u,r,i;for(r in f)i={key:r,value:f[r]},t.contains(i.key)&&(i.value.value=0),u[i.key]=i.value},$2lX:function(){for(var r,t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),u=this.$As.$Bg.$72.$NY,i=u,f=i.length,n=0;n<f;++n)r=i[n],t.add(r.$2y);return t},$2l0:function(){for(var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i=this.$As.$Bg.$HQ,n=0;n<i.get_Count();n++)t.add(i.get_$I(n).$G);return t},$1DU:function(n){var t,i;if($0.$9g(n))return"undefined";if(t=n.value,!t)return null;i=n.attributeType;switch(i){case 21:return this.$1DU(t.value);case 1:case 6:case 9:return t.name;case 15:return t.rawguid;case 2:return t.toString();case 13:case 12:case 0:case 11:return t.value;default:return t.toString()}},$3KO:function(n){var t=this.$A_3,f=t.$KH,i,r,u;if(!t.$5o().get_IsMultipleEntityGraphSupported()){i=this.$As.$Bg.$M2;for(r in i)if(u={key:r,value:i[r]},u.key!==this.$Ln.$6o)return t.$19l=!0,t.$1E0(Microsoft.Crm.Client.Core.Framework.Common.$2.$6("Error_Title_0x8004e019"),Microsoft.Crm.Client.Core.Framework.Common.$2.$6("SignInError.OrgIsInAdminOnlyMode.SecondMessage")),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty()}return $0.$28(f)?(this.$28u(n,!0),n):(t.$19l=!0,t.$1gC&&!$0.$1(this.$As.$Bg.$3A.$4v.$4F.$DC)?(this.$28u(n,!1),n):this.$3Cz(n))},$28u:function(n,t){var f=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveFilterGraphDataAction_ProcessDataRecords:NoZeroValueSet"),i,r,u,e,o;f.start();i=this.$A_3;this.$28t(n,e={val:r},o={val:u});r=e.val;u=o.val;i.$1Mg=r.get_Count()>1?r.get_$I(1).$G:"";t?i.set_$23p(u):i.$3Su(u);i.$5o().get_IsMultipleEntityGraphSupported()&&(i.$1Ko=this.$As.$Bg.$M2);f.stop()},$28t:function(n,t,i){var v=new Array(n.get_entities().length),s={},y={},h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),p=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),d,g,l,nt,tt,it,a,rt,ut,ft;t.val=this.$As.$Bg.$HQ;for(var f=t.val.get_$I(0).$2y,u=t.val.get_Count()>1?t.val.get_$I(1).$2y:"",w=this.$2lX(),et=this.$297(),e=0,b=n.get_entities(),ot=b.length,c=0;c<ot;++c){var r=b[c],o=r.$4Y,k=o[f];f in o||(d=r.$EU(),g=d[f],k=this.$1DU(g));this.$258(k,s,h,e);this.$2e2(s,h);Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(l=o[u],u in o||(nt=r.$EU(),tt=nt[u],l=this.$1DU(tt)),this.$258(l,y,p,e));it=this.$2ms(r.$4Y,w);a=r.$EU();this.$2mr(a,w);rt=r.$295(it,a,null,null);v[e]=rt;e++}ut=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(v,n.$Bw,n.$A8,n.$K9,n.$1o,n.$4W);ft=this.$2l0();i.val=new Microsoft.Crm.Client.Core.ViewModels.$Lf(ut,s,y,et,f,u,h,p,ft)},$27q:function(n){var t,i,r,u,f;if($0.$28(n))return null;t={};i=n;for(r in i)u={key:r,value:i[r]},f=this.$2iF(u.value),t[u.key]=f;return t},$2iE:function(n){return $0.$28(n)?null:new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$23(n.$Ey,n.$RG,n.$CT)},$2iF:function(n){for(var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number)),t=0;t<n.get_Count();t++)i.add(n.get_$I(t));return i}};Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveVisualFilterDataByIdAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.$1nw)};Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.$1nw=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction;return t.$1nx(n),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.prototype={$35C:function(){this.$A_3.$4r=this.$XY.$1S}};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveSavedQueryDetailsAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.$AU)};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.$AU=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction,i;return r.$1nX=n.$1fv,i=t,$0.$1(i.OnSuccess)||(r.$P=i.OnSuccess),$0.$1(i.OnFailure)||(r.$1M_3=i.OnFailure),r};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.prototype={$P:null,$1nX:null,$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(this.$1nX,this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){n.get_$3ZH()>0?(this.$P(n),this.$1Y()):this.$21(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2146088111))},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveFetchXmlFromSavedQueryId",Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.$AU)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.$AU=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId,i;return r.$1rc(n),i=t,$0.$1(i.OnSuccess)||(r.$P=i.OnSuccess),$0.$1(i.OnFailure)||(r.$1M_3=i.OnFailure),r};Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.prototype={$P:null,$hl:null,$1rc:function(n){var t,r,i;Microsoft.Crm.Client.Core.ViewModels.$AN.isInstanceOfType(n)?(t=n,this.$A_3=t,r=t.$qI,this.$hl=new Microsoft.Crm.Client.Core.Framework.Guid(r.savedqueryid),this.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$s5):(i=n,this.$A_3=i,this.$hl=new Microsoft.Crm.Client.Core.Framework.Guid(i.$dm),this.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$s5)},$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(16,this.get_$25(),null,1,!1,this.$hl.toString().toLowerCase()),this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){if(n.get_$3ZH()>0){var t=n.get_$I(0),i=t.get_$GK().$A9(1);this.$P(i);this.$1Y()}else this.$21(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2146088111))},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction=function(){this.$$d_$5O=Function.createDelegate(this,this.$5O);this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveCardConfigurationAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.$AU)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.$AU=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction,i;return r.$1rc(n),i=t,$0.$1(i.OnSuccess)?Microsoft.Crm.Client.Core.Framework.Utils.$D.$52(i.OnSuccess,"queryDescriptor.OnSuccess"):r.$7q=i.OnSuccess,r};Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.prototype={$S:null,$7q:null,$1rc:function(n){var t=n;this.$A_3=t;this.$S=t.$S;this.$64=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$s5},$31:function(){return this.$1j(Microsoft.Crm.Client.Core.Framework.$P.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$V),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5Y(new Microsoft.Crm.Client.Core.Storage.DataApi.$Nw(41,this.get_$25(),this.$S),this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){if(n.get_$3ZH()>0){var i=n.get_$I(0),r=i.get_$GK().$A9(0),u=r,t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$5().$7N(u.ViewModelDescriptor,null);t.$18();this.$7q(t);this.$1Y()}else this.$7q(null),this.$1Y()},$5O:function(n){this.$21(n)}};Microsoft.Crm.Client.Application.ViewModels.$Bw=function(){this.$$d_$4e=Function.createDelegate(this,this.$4e);Microsoft.Crm.Client.Application.ViewModels.$Bw.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$Bw.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("FetchXmlForSimilarCasesForISH",Microsoft.Crm.Client.Application.ViewModels.$Bw.$2rO)};Microsoft.Crm.Client.Application.ViewModels.$Bw.$2rO=function(n,t){var r=n,u=t,i=new Microsoft.Crm.Client.Application.ViewModels.$Bw;return i.$64=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$VS(r),i.$P=r.$$d_$4e,i.$1M_3=r.$$d_$5O,i.$A_3=r,i.$2W=$0.$1(u.QueryValue)?r.$2W:Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1W.$4s(u.QueryValue.toString()),i.$IX=r.get_DefinitionId(),i.$Ae=r.$1s.$BT+1,i};Microsoft.Crm.Client.Application.ViewModels.$Bw.prototype={$31:function(){var n=new Xrm.Gen.GetSimilarRecordsRequest(new Xrm.Objects.EntityReference(Xrm.Page.data.getEntity().getEntityName(),new Microsoft.Crm.Client.Core.Framework.Guid(Xrm.Page.data.getEntity().getId())),"",new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["title","modifiedon"]));return this.$1j(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2F(n,this.get_$f()),this.$$d_$4e,this.$$d_$5O),1},$4e:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();$0.$1(n)||(t=n.entityCollection);Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.prototype.$4e.call(this,t)}};Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction=function(){Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("SetInteractionCentricCreateEntityReference",Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.$B)};Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.$B=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction,i=n;return t.$A_3=i,t.$1V=i.get_ModelContext(),t.$Fb=i.$Fb,t.$IE=i.$Q.$AZ.get_ModelContext().$M,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveSavedQueryDetailsFromSavedQueryId",Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.$AU)};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.$AU=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId,i;return r.$1rc(n),i=t,$0.$1(i.OnSuccess)||(r.$P=i.OnSuccess),$0.$1(i.OnFailure)||(r.$1M_3=i.OnFailure),r};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.prototype={$4e:function(n){if(n.get_$3ZH()>0){var t=n.get_$I(0);this.$P(t);this.$1Y()}else this.$21(Microsoft.Crm.Client.Core.Framework.$4.$mC(-2146088111))}};Type.registerNamespace("Microsoft.Crm.Client.Application.ViewModels.Actions");Microsoft.Crm.Client.Application.ViewModels.Actions.$8Q=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$8Q.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8Q.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$M.registerQuery("RetrieveInteractionCentricProcessControlFirstStage",Microsoft.Crm.Client.Application.ViewModels.Actions.$8Q.$B)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8Q.$B=function(n){return Microsoft.Crm.Client.Application.ViewModels.Actions.$8Q.$dZ(n)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8Q.$dZ=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.$8Q;return t.$A_3=n,t.$S=n.$J,t.set_$oA(t.$$d_$1GE),t.$1M_3=n.$$d_$1wI,t.$13n=n.$$d_$1wJ,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.registerClass("Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric",Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction);Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$Bm.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Bm",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction);Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction);Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction",Microsoft.Crm.Client.Core.ViewModels.$UE);Microsoft.Crm.Client.Application.ViewModels.$Bw.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Bw",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction",Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction);Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId",Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId);Microsoft.Crm.Client.Application.ViewModels.Actions.$8Q.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$8Q",Microsoft.Crm.Client.Application.ViewModels.Actions.$6l);Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.$$cctor();Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$B9=null;Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Bm.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Bw.$$cctor();Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$8Q.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Application.ICViewModels.js.srcmap
var Dynamics=Dynamics||{};Dynamics.Telemetry=function(){function f(n,t,i,r,u){this.n=n;this.v=t;this.t=i;this.rid=r;this.p=u}function s(n,t,i,r){this.n=n;this.t=t;this.rid=i;this.p=r;this.f=!1}function h(u){if(!t.ReportingEndpoint||t.ReportingEndpoint.length===0){console.warn("Reporting endpoint not set. Ignoring start activity request.");return}if(!(u.rid in n)){if(r.numberOfActivities>=i.MaxInMemoryActivities){console.warn("Ignored new activity start. Max number of activities in memory has been reached.");return}n[u.rid]=[];u.p.IsActivityStart=!0;var o=new f(u.n,null,u.t,u.rid,u.p);e(o)}}function e(u){if(!t.ReportingEndpoint||t.ReportingEndpoint.length===0){console.warn("Reporting endpoint not set. Ignored add data point request.");return}if(!u.n||!u.rid){console.warn("Metric object does not have a name or activity id. Ignored add data point request.");return}if(!(u.rid in n)){console.warn("Ignored attempt to add data point to a non-existent activity");return}if(n[u.rid].length>=i.MaxMetricsPerActivity){console.warn("Ignored data point addition. Max. number of metrics per activity has been reached.  Sending metrics to server.");o(u.rid);return}if(u.v!=null&&typeof u.v=="object"){console.warn("Ignored add data point request. Value cannot be object type.");return}if(Object.keys(u.p).length>t.MaxPropertiesPerMetric){console.warn("Ignored add data point request. Number of properties for data point is greater than allowed number.");return}typeof u.v=="string"&&(u.v=u.v.substr(0,i.MaxMetricValueChars));var f=u.rid;u[f]=undefined;n[f].push(u);r.numberOfActivities++;c()}function c(){$.each(n,function(t){n[t]&&n[t].f&&u()})}function u(){$.each(n,function(t,i){if(n[t].f){var u=null,f={};$.each(i,function(n,i){if(i.v!=null&&i.p!=null&&Object.keys(i.p).length>0){var r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.ClientActivityEvent(t,i.n,i.p);r.addEventParameter("Value",i.v);i.n in f?f[i.n]+=i.v:f[i.n]=i.v;Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().reportEventImmediate(r)}else i.v==null?u=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.ClientActivityEvent(t,i.n,i.p):u!=null&&u.addEventParameter(i.n,i.v)});u!=null&&($.each(f,function(n,t){u.addEventParameter(n,t)}),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().reportEventImmediate(u));r.numberOfActivities--}});n=l()}function l(){var t={};return $.each(n,function(i,r){n[i].f||(t[i]=r)}),t}function o(t){t in n?(n[t].f=!0,u()):console.warn("activityid : "+activityId+" not found in the tracking activities.")}var n={},i={MaxInMemoryActivities:200,MaxMetricsPerActivity:100,MaxMetricValueChars:50,InMemoryActivitiesReportingThreshold:10,MaxPropertiesPerMetric:10},t={ReportingEndpoint:new String(""),IsReportingEnabled:!1},r={isOutstandingRequest:!1,numberOfActivities:0};$(window).on("beforeunload",function(){Dynamics.Telemetry.forceReportMetrics()});return{constants:i,startActivity:h,addDataPointToActivity:e,Metric:f,telemetryContext:t,forceReportMetrics:u,Activity:s,finishActivity:o}}()
try
{
(function ()
{
var appSessionId = '';
function TryReportInitEvent() {
try
{
// Start a new telemetry session.
StartNewSession();
// Discover the telemetry endpoint for the current org.
var reportingEndpointUrl = DiscoverEndpointAndReportInitEvent();
}
catch (e) {
// Failsafe: Ignore telemetry errors.
console.log("Error when trying to report init event");
}
}
function DiscoverEndpointAndReportInitEvent() {
// Build the discovery URL
var port = window.location.port;
var host = window.location.hostname;
var orgUrl = window.location.protocol + '//' + host;
if (port) {
orgUrl += ":" + port;
}
var discoveryUrl = 'https://crminsights.crm.dynamics.com/api/Discovery/?originUrl=' + orgUrl;
// Process the discovery response and report the MoCA init event.
var processResponse = function (xhr) {
var reportingEndpointUrl = xhr.responseText;
if (!reportingEndpointUrl || reportingEndpointUrl == '' || reportingEndpointUrl == '""') {
console.log("Reporting Endpoint not found.");
// Set the Endpoint url of TelemetryReporter as an empty string
var currentTimeStamp = CreateAndStoreTimestamp();
Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().InitializeRequestManager('');
return;
}
reportingEndpointUrl = reportingEndpointUrl.replace(/"/g, "")
reportingEndpointUrl = "https://" + reportingEndpointUrl + "/api/crminsightseventdata"
ReportAppInitEvent(reportingEndpointUrl);
// Set the endpoint url of the TelemetryReporter class
Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().InitializeRequestManager(reportingEndpointUrl);
}
// Start the CORS request for discovery
MakeCorsRequest(discoveryUrl, "GET", null, processResponse);
}
// Report the MoCA Init event to the telemetry endpoint
function ReportAppInitEvent(reportingEndpointUrl) {
var currentTimeStamp = CreateAndStoreTimestamp();
var isAppConfigured = window.localStorage.getItem('IsAppConfigured');
var clientType = Microsoft.Crm.Client.Core.Framework.DeviceConfiguration.get_GetClientType();
var eventValues = {
StartTime: currentTimeStamp,
AppVersion: VERSION_NUMERIC_VALUE,
IsAppConfigured: isAppConfigured == null ? "false" : isAppConfigured,
ClientType: clientType
};
var eventName = 'moca_init';
// Changing the event name in case of Service Desk context.
var currentUrl = window.location.href.toLowerCase();
if (currentUrl.indexOf('engagementhub.aspx') != -1)
{
eventName = 'ServiceDeskInit';
}
var eventData = [];
eventData.push(
{
ActivityId: appSessionId,
EventName: eventName,
EventValues: eventValues
});
MakeCorsRequest(reportingEndpointUrl, "POST", eventData);
}
function MakeCorsRequest(reportingEndpointUrl, method, data, onResponseAvailable) {
try {
var xhr = new XMLHttpRequest();
xhr.open(method, reportingEndpointUrl);
if (method === "POST") {
xhr.setRequestHeader("Content-Type", "application/json; charset=utf-8");
}
xhr.setRequestHeader("accept", "application/json");
xhr.onload = function () {
if (onResponseAvailable) {
onResponseAvailable(xhr);
}
else {
console.log("XHR Status: ", xhr.status, "-", xhr.statusText);
}
}
xhr.send(JSON.stringify(data));
}
catch (e) {
console.log("An unexpected error occurred while reporting init event");
}
}
function StartNewSession() {
var isFirstLoad = true;
var index = window.location.search.indexOf('isfirstload');
if (index != -1) {
var valuePairs = window.location.search.substr(index).split('&',1);
var valuePair = valuePairs[0].split('=');
if (valuePair.length == 2 && valuePair[1] == 'false') {
isFirstLoad = false;
}
}
var sessionIdKey = 'MoCASessionID';
if (isFirstLoad)
{
appSessionId = NewGuid();
window.localStorage.setItem(sessionIdKey, appSessionId);
}
else {
appSessionId = window.localStorage.getItem(sessionIdKey);
}
}
function CreateAndStoreTimestamp() {
var timeStamp = new Date();
var timeStampString = JSON.stringify(timeStamp).replace(/"/g, "");;
window.localStorage.setItem('MoCAInitTime', timeStampString);
return timeStampString;
}
function NewGuid() {
function s4() {
return Math.floor((1 + Math.random()) * 0x10000)
.toString(16)
.substring(1);
}
return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
s4() + '-' + s4() + s4() + s4();
}
TryReportInitEvent();
}());
}
catch (e)
{
console.log('Unexpected error when initializing telemetry. The failure can be ignored so that the app can load.')
}
