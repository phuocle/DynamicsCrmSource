Type.registerNamespace("Mscrm");Mscrm.IErrorDisplayContainerProvider=function(){};Mscrm.IErrorDisplayContainerProvider.registerInterface("Mscrm.IErrorDisplayContainerProvider");Mscrm.IInlineEditInitializer=function(){};Mscrm.IInlineEditInitializer.registerInterface("Mscrm.IInlineEditInitializer");Mscrm.IInlineAttributeEvent=function(){};Mscrm.IInlineAttributeEvent.registerInterface("Mscrm.IInlineAttributeEvent");Mscrm.IInlineSectionChildControlView=function(){};Mscrm.IInlineSectionChildControlView.registerInterface("Mscrm.IInlineSectionChildControlView");Mscrm.ILookupControlView=function(){};Mscrm.ILookupControlView.registerInterface("Mscrm.ILookupControlView");Mscrm.ILookupItemView=function(){};Mscrm.ILookupItemView.registerInterface("Mscrm.ILookupItemView");Mscrm.SecuritySettingTypeForEmail=function(){};Mscrm.SecuritySettingTypeForEmail.prototype={warningMessageAndOptionToOpen:1,warningMessageAndNoOptionToOpen:2,noWarningMessageAndNoOptionToOpen:3};Mscrm.SecuritySettingTypeForEmail.registerEnum("Mscrm.SecuritySettingTypeForEmail",false);Mscrm.EnumOptionJsonWrapper=function(){};Mscrm.StatusOptionJsonWrapper=function(){};Mscrm.LeadFlyOutJsonWrapper=function(){};Mscrm.OpportunityFlyOutJsonWrapper=function(){};Mscrm.AccountFlyOutJsonWrapper=function(){};Mscrm.ContactFlyOutJsonWrapper=function(){};Mscrm.ControlLayout=function(){};Mscrm.ControlLayout.prototype={full:0,compact:1,headerTile:2,processConfiguration:3,flyOutDialog:4};Mscrm.ControlLayout.registerEnum("Mscrm.ControlLayout",false);Mscrm.PicklistType=function(){};Mscrm.PicklistType.prototype={radio:0,list:1};Mscrm.PicklistType.registerEnum("Mscrm.PicklistType",false);Mscrm.HeaderTileChromeBehavior=function($p0){this.$1k_5=-1;Mscrm.HeaderTileChromeBehavior.initializeBase(this,[$p0])};Mscrm.HeaderTileChromeBehavior.prototype={get_lockIconUrl:function(){return "/_imgs/inlineedit/locked.png"},registerEditHintEvents:function(){if(Mscrm.HeaderTileLayout.isInstanceOfType(this.get_view().get_layout()))if(!window.UseTabletExperience){var $v_0=this.get_view().get_layout();$v_0.get_headerTileElement().mouseenter(this.$$d_onChromeMouseOver||(this.$$d_onChromeMouseOver=Function.createDelegate(this,this.onChromeMouseOver)));this.get_view().get_chromeElement().focus(this.$$d_onChromeElementFocus||(this.$$d_onChromeElementFocus=Function.createDelegate(this,this.onChromeElementFocus)))}},registerReadEvents:function(){if(Mscrm.HeaderTileLayout.isInstanceOfType(this.get_view().get_layout())){if(!window.UseTabletExperience){var $v_0=this.get_view().get_layout();$v_0.get_headerTileElement().mouseleave(this.$$d_onChromeMouseOut||(this.$$d_onChromeMouseOut=Function.createDelegate(this,this.onChromeMouseOut)))}this.get_view().get_chromeElement().blur(this.$$d_onChromeElementBlur||(this.$$d_onChromeElementBlur=Function.createDelegate(this,this.onChromeElementBlur)))}},registerEditEvents:function(){if(Mscrm.HeaderTileLayout.isInstanceOfType(this.get_view().get_layout())){this.registerChromeElementKeyPress();var $v_0=this.get_view().get_layout();$v_0.get_headerTileElement().click(this.$$d_onValueElementClicked||(this.$$d_onValueElementClicked=Function.createDelegate(this,this.onValueElementClicked)));this.$1k_5=1}},transitionToEditHintState:function(){if(Mscrm.HeaderTileLayout.isInstanceOfType(this.get_view().get_layout())){var $v_0=this.get_view().get_layout();$v_0.get_headerTileElement().addClass("ms-crm-Inline-EditHintState");this.triggerLockIconStateChanged(Mscrm.StateChangeEvents.editHint)}this.toggleEditIconState(true)},transitionToReadState:function(){if(Mscrm.HeaderTileLayout.isInstanceOfType(this.get_view().get_layout())){var $v_0=this.get_view().get_layout();$v_0.get_headerTileElement().removeClass("ms-crm-Inline-EditHintState");this.get_view().get_warningIcon().removeClass("ms-crm-Inline-EditState");Mscrm.InlineEditChromeBehavior.prototype.transitionToReadState.call(this);if(this.$1k_5===Mscrm.HeaderTileChromeBehavior.$3Z){var $$t_1=this;this.$1k_5=window.setTimeout(function(){$v_0.get_headerTileElement().click($$t_1.$$d_onValueElementClicked||($$t_1.$$d_onValueElementClicked=Function.createDelegate($$t_1,$$t_1.onValueElementClicked)))},0)}}this.toggleEditIconState(false)},transitionToEditState:function(){var $v_0=this.get_view().get_layout();$v_0.get_headerTileElement().unbind(Mscrm.EventNames.click);this.$1k_5=Mscrm.HeaderTileChromeBehavior.$3Z;Mscrm.InlineEditChromeBehavior.prototype.transitionToEditState.call(this);this.toggleEditIconState(false)}};Mscrm.HeaderTileLookupChromeBehavior=function($p0){Mscrm.HeaderTileLookupChromeBehavior.initializeBase(this,[$p0])};Mscrm.HeaderTileLookupChromeBehavior.prototype={tryShowValidationWarning:function(){var $v_0=this.get_stateData().get_validationResult();Mscrm.InlineLookupUtility.$5Q($v_0,this.get_view())},onValueElementClicked:function($p0){Mscrm.InlineLookupUtility.$56($p0,this.get_view(),this.get_stateData())},onEditElementWrapperStateChange:function($p0){Mscrm.InlineEditChromeBehavior.prototype.onEditElementWrapperStateChange.call(this,$p0);Mscrm.InlineLookupUtility.$54($p0,this.get_view())},activateLink:function(){Mscrm.InlineLookupUtility.$51(this.get_view())}};Mscrm.HeaderTileToggleChromeBehavior=function($p0){Mscrm.HeaderTileToggleChromeBehavior.initializeBase(this,[$p0])};Mscrm.HeaderTileToggleChromeBehavior.prototype={onValueElementClicked:function($p0){this.$2n_6()&&this.get_view().get_valueElement().removeClass("ms-crm-Inline-EditHintState")},onElementKeyPress:function($p0){switch($p0.which){case 13:this.$2n_6();break}Mscrm.InlineEditChromeBehaviorBase.prototype.onElementKeyPress.call(this,$p0)},$2n_6:function(){if(!this.get_view().get_disabled()&&Mscrm.InlineEditControlMode.alwaysEdit!==this.get_view().get_controlMode()){this.get_view().tryCompleteOnDemandInitialization();this.get_view().get_editView().confirm();return true}return false},transitionToEditState:function(){Mscrm.InlineEditControlMode.alwaysEdit===this.get_view().get_controlMode()&&Mscrm.HeaderTileChromeBehavior.prototype.transitionToEditState.call(this)}};Mscrm.InlineCheckBoxControlBehavior=function($p0){Mscrm.InlineCheckBoxControlBehavior.initializeBase(this,[$p0])};Mscrm.InlineCheckBoxControlBehavior.prototype={$3_5:null,get_view:function(){return this.$3_5},set_view:function($p0){this.$3_5=$p0;return $p0},get_isValid:function(){return true}};Mscrm.InlineDateTimeBehavior=function($p0){Mscrm.InlineDateTimeBehavior.initializeBase(this,[$p0]);this.set_noValidationAlert(true)};Mscrm.InlineDateTimeBehavior.prototype={$3_6:null,get_view:function(){return this.$3_6},set_view:function($p0){this.$3_6=$p0;return $p0},get_isDirty:function(){var $v_0=Mscrm.FormInputControl.DateTimeBehaviorBase.prototype.get_isDirty.call(this);!$v_0&&this.get_$4x_6()&&this.$2m_6();return $v_0},get_isValid:function(){this.validateDate();var $v_0=this.get_$4x_6();$v_0&&this.$2m_6();return $v_0},get_$4x_6:function(){return this.get_isDateValid()&&(IsNull(this.get_timeControl())||this.get_isTimeValid())},get_isTimeInputEnabled:function(){return !IsNull(this.get_timeControl())&&!this.get_timeControl().get_element().disabled},initialize:function(){Mscrm.FormInputControl.DateTimeBehaviorBase.prototype.initialize.call(this);!IsNull(this.get_timeControl())&&this.get_timeControl().set_allowKeyDownPropagation(true)},handleInvalidDateInput:function($p0){var $v_0=window.USER_DATE_FORMATTED_FORMATSTRING;if(1026==LOCID_LCID)$v_0=$v_0.replace("'\u0433.'"," \u0433.");var $v_1=new Mscrm.ValidationResult(false,String.format(window.LOCID_ALERT_ENTER_VALID_DATE,$v_0));this.$3_6.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_1])},handleInvalidTimeInput:function($p0){var $v_0=new Mscrm.ValidationResult(false,String.format(window.LOCID_DTM_BLANK_TIME_ERROR,window.USER_DATE_FORMATTED_FORMATSTRING));this.$3_6.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0])},$2m_6:function(){this.$3_6.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[new Mscrm.ValidationResult(true,null)])},setShowTime:function($p0){Mscrm.FormInputControl.DateTimeBehaviorBase.prototype.setShowTime.call(this,$p0);this.$3_6.setViewShowTime($p0);this.$3_6.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[new Mscrm.ValidationResult(true,null)])}};Mscrm.InlineDateTimeImage=function($p0){Mscrm.InlineDateTimeImage.initializeBase(this,[$p0])};Mscrm.InlineDateTimeImage.prototype={onOver:function($p0){},onOut:function($p0){}};Mscrm.InlineDurationBehavior=function($p0){Mscrm.InlineDurationBehavior.initializeBase(this,[$p0])};Mscrm.InlineDurationBehavior.prototype={$3_5:null,get_view:function(){return this.$3_5},set_view:function($p0){this.$3_5=$p0;return $p0},get_isDirty:function(){var $v_0=Mscrm.FormInputControl.Duration.prototype.get_isDirty.call(this);!$v_0&&this.get_isDurationValid()&&this.$2m_5();return $v_0},get_isValid:function(){var $v_0=this.get_isDurationValid();$v_0&&this.$2m_5();return $v_0},initialize:function(){this.inlineInitialize(this.get_element().id+"Select");!IsNull(this.get_durationSelect())&&this.get_durationSelect().set_allowKeyDownPropagation(true)},inlineInitialize:function($p0){this.set_durationSelect($find($p0));Mscrm.FormInputControl.Duration.prototype.initializeDuration.call(this)},handleInvalidDurationInput:function($p0,$p1){var $v_0=new Mscrm.ValidationResult(false,$p1);this.$3_5.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0])},showErrorMessage:function($p0){var $v_0=new Mscrm.ValidationResult(false,$p0);this.$3_5.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0])},$2m_5:function(){this.$3_5.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[new Mscrm.ValidationResult(true,null)])}};Mscrm.InlineEditChromeBehavior=function(element){this.$$d_$7r_4=Function.createDelegate(this,this.$7r_4);this.$$d_$7x_4=Function.createDelegate(this,this.$7x_4);this.$$d_$88_4=Function.createDelegate(this,this.$88_4);this.$$d_$3l_4=Function.createDelegate(this,this.$3l_4);this.$$d_$3m_4=Function.createDelegate(this,this.$3m_4);Mscrm.InlineEditChromeBehavior.initializeBase(this,[element])};Mscrm.InlineEditChromeBehavior.prototype={$23_4:null,$1w_4:null,$15_4:null,$9_4:null,$5N_4:null,$f_4:null,$j_4:null,$1W_4:false,$1x_4:"",get_lockIconUrl:function(){return "/_imgs/inlineedit/locked.png"},get_$1g_4:function(){if(IsNull(this.$9_4)){var $v_0=this.get_view().isElementInFlyOut(this.get_warningIcon());this.$9_4=new Mscrm.ErrorFlyout(this.get_warningIcon(),this.get_validationElement(),this.get_view().get_errorDisplayAreaProvider().getDisplayContainer(this.get_view()));$v_0&&this.$9_4.set_zIndex(this.$9_4.get_zIndex()+Mscrm.Utilities.parseInt(this.get_warningIcon().parents(".ui-flyout-dialog").css("z-index")))}return this.$9_4},get_compositeFlyOut:function(){return this.$j_4},set_compositeFlyOut:function(value){this.$j_4=value;return value},get_$6Y_4:function(){if(this.get_isNotificationSetViaClientApi())return this.$1x_4;return null},get_isNotificationSetViaClientApi:function(){return this.$1W_4},set_isNotificationSetViaClientApi:function(value){this.$1W_4=value;!this.$1W_4&&!this.get_stateData().get_validationResult().isValid&&this.$3r_4();return value},get_validationElement:function(){if(IsNull(this.$23_4)){this.$23_4=$P_CRM("<div></div>").addClass("ms-crm-Inline-Validation").hide().attr("id",this.get_view().get_controlId()+"_err");this.get_view().get_errorDisplayAreaProvider().getDisplayContainer(this.get_view()).append(this.$23_4)}return this.$23_4},set_validationElement:function(value){this.$23_4=value;return value},get_lockIcon:function(){if(IsNull(this.$1w_4)){this.$1w_4=$P_CRM("<span></span>").addClass("ms-crm-Inline-LockIcon").append($P_CRM(Mscrm.ImageStrip.getImage(Mscrm.CrmUri.create(this.get_lockIconUrl()))).attr("alt",""));this.get_view().get_chromeElement().append(this.$1w_4)}return this.$1w_4},set_lockIcon:function(value){this.$1w_4=value;return value},get_warningIcon:function(){if(IsNull(this.$15_4)){this.$15_4=$P_CRM("<span></span>").addClass("ms-crm-Inline-WarningIcon").append($P_CRM(Mscrm.ImageStrip.getImage(Mscrm.CrmUri.create("/_imgs/inlineedit/warning.png"))).attr("alt",window.LOCID_WARNINGICON_ALTTEXT).attr("id",this.get_view().get_controlId()+"_warn")).append($P_CRM("<div></div>").attr("id",this.get_view().get_warningElementId()).addClass("ms-crm-Hidden-NoBehavior")).attr("title","");this.get_view().get_chromeElement().append(this.$15_4);this.$15_4.mouseover(this.$$d_$3m_4).mouseout(this.$$d_$3l_4).hide()}return this.$15_4},set_warningIcon:function(value){this.$15_4=value;return value},get_warningIconPath:function(){return "/_imgs/inlineedit/warning.png"},showErrorDivAndSetMessage:function(message){if(this.get_stateData().get_validationResult().isValid){this.showMessageInErrorDiv(message);this.$1x_4=message;return true}return false},showErrorDiv:function(){if(this.get_isNotificationSetViaClientApi())this.showMessageInErrorDiv(this.$1x_4);else!this.get_view().get_isValid()&&this.showMessageInErrorDiv(this.get_stateData().get_validationResult().errorText)},showMessageInErrorDiv:function(message){this.get_$1g_4().showError(message);this.$4T_4(true)},hideErrorDivAndResetMessage:function(){this.hideErrorDiv();this.$1x_4=""},hideErrorDiv:function(){this.get_$1g_4().hideError(true);this.$4T_4(false)},isErrorDivSet:function(){return this.get_isNotificationSetViaClientApi()||!this.get_stateData().get_validationResult().isValid},$4T_4:function($p0){var $v_0=Mscrm.Utilities.get_isLeftToRight()?"margin-left":"margin-right",$v_1=$p0?"23px":"";this.get_view().get_valueElement().css($v_0,$v_1);var $v_2=this.get_view().get_editView();$v_2&&$v_2.get_editElementWrapper().css($v_0,$v_1)},initialize:function(){Mscrm.InlineEditChromeBehaviorBase.prototype.initialize.call(this);if(this.get_view().get_disabled()&&this.get_view().get_controlMode()!==Mscrm.InlineEditControlMode.deactivated){this.get_lockIcon().show();this.get_view().get_valueElement().addClass("ms-crm-Inline-Locked");this.get_view().get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeForControlMode,Mscrm.InlineEditControlMode.locked)}$P_CRM(this.get_view()).bind(Mscrm.EventNames.propertyChange,this.$$d_$88_4)},initializeForEditElement:function(){Mscrm.InlineEditChromeBehaviorBase.prototype.initializeForEditElement.call(this);var $v_0=this.get_view().get_editView(),$v_1=$v_0.get_editElementWrapper();$v_1.bind(Mscrm.StateChangeEvents.validated,this.$$d_$7x_4)},registerEditEvents:function(){Mscrm.InlineEditChromeBehaviorBase.prototype.registerEditEvents.call(this);this.$29_4()&&this.get_view().get_layout().get_labelElement().click(this.$$d_onValueElementClicked||(this.$$d_onValueElementClicked=Function.createDelegate(this,this.onValueElementClicked)))},$29_4:function(){return this.get_view().get_layout().get_labelElementExists()},registerReadEvents:function(){Mscrm.InlineEditChromeBehaviorBase.prototype.registerReadEvents.call(this);if(!window.UseTabletExperience){this.get_view().get_chromeElement().mouseleave(this.$$d_onChromeMouseOut||(this.$$d_onChromeMouseOut=Function.createDelegate(this,this.onChromeMouseOut)));this.$29_4()&&this.get_view().get_layout().get_labelElement().mouseleave(this.$$d_onChromeMouseOut||(this.$$d_onChromeMouseOut=Function.createDelegate(this,this.onChromeMouseOut)))}},registerEditHintEvents:function(){if(!window.UseTabletExperience){Mscrm.InlineEditChromeBehaviorBase.prototype.registerEditHintEvents.call(this);this.$29_4()&&this.get_view().get_layout().get_labelElement().mouseenter(this.$$d_onChromeMouseOver||(this.$$d_onChromeMouseOver=Function.createDelegate(this,this.onChromeMouseOver)))}},$3l_4:function($p0){this.get_view().get_chromeElement().attr("title",this.$5N_4);if(this.get_stateData().get_currentState()===Mscrm.ChromeState.edit)return;this.hideValidationElement()},$3m_4:function($p0){this.$5N_4=this.get_view().get_chromeElement().attr("title");this.get_view().get_chromeElement().attr("title","");(this.get_isNotificationSetViaClientApi()||!this.get_stateData().get_validationResult().isValid&&!this.$5S_4())&&this.$3r_4()},$3r_4:function(){if(this.get_isNotificationSetViaClientApi())this.get_$1g_4().showError(this.$1x_4);else this.get_$1g_4().showError(this.get_stateData().get_validationResult().errorText)},hideValidationElement:function(){!IsNull(this.$9_4)&&this.$9_4.hideError()},$5S_4:function(){return this.get_view().get_validationElement().css("display")==="block"},transitionToEditState:function(){var $v_0=$P_CRM(this.get_element());Mscrm.InlineEditChromeBehaviorBase.prototype.transitionToEditState.call(this);if(Mscrm.InlineControlFactory.checkIfComposite($v_0))this.$8A_4($v_0);else{this.triggerLockIconStateChanged(Mscrm.StateChangeEvents.edit);this.triggerValidationElementStateChanged(Mscrm.StateChangeEvents.edit);var $v_1=this.get_view().get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeControlInitializing),$v_2=!isNullOrEmptyString($v_1)&&$v_1==="1";!(this.get_view().get_controlMode()===Mscrm.InlineEditControlMode.alwaysEdit&&(Mscrm.Utilities.isMobileRefresh()||$v_2))&&Mscrm.InlineEditUtilities.set_activeControl(this.get_view())}},transitionToReadState:function(){Mscrm.InlineEditChromeBehaviorBase.prototype.transitionToReadState.call(this);this.triggerLockIconStateChanged(Mscrm.StateChangeEvents.read);this.triggerValidationElementStateChanged(Mscrm.StateChangeEvents.read);Mscrm.InlineEditUtilities.get_activeControl()===this.get_view()&&Mscrm.InlineEditUtilities.set_activeControl(null)},transitionToEditHintState:function(){Mscrm.InlineEditChromeBehaviorBase.prototype.transitionToEditHintState.call(this);this.triggerLockIconStateChanged(Mscrm.StateChangeEvents.editHint)},tryShowValidationWarning:function(){if(!this.get_view().get_disableWarningsAndValidation()&&!this.get_stateData().get_validationResult().isValid)this.get_warningIcon().show();else this.get_warningIcon().hide()},trySetAriaInvalid:function(){var $v_0=$P_CRM("#"+this.get_view().get_warningElementId()),$v_1=$v_0.attr("role");if(!this.get_stateData().get_validationResult().isValid){this.get_view().get_isEditControlInitialized()&&this.get_view().get_editView().get_editElement().attr("aria-invalid","true");$v_0.text(this.get_stateData().get_validationResult().errorText);IsNull($v_1)&&$v_0.attr("role","alert")}else{if(this.get_view().get_isEditControlInitialized()){var $v_2=this.get_view().get_editView().get_editElement().attr("aria-invalid");!IsNull($v_2)&&this.get_view().get_editView().get_editElement().removeAttr("aria-invalid")}$v_0.text("");!IsNull($v_1)&&$v_0.removeAttr("role")}},dispose:function(){if(this.get_isDisposed())return;!IsNull(this.$9_4)&&this.$9_4.dispose();!IsNull(this.$j_4)&&this.$j_4.dispose();!IsNull(this.$f_4)&&!this.$f_4.get_isDisposed()&&this.$f_4.dispose();$P_CRM(this.get_view()).unbind(Mscrm.EventNames.propertyChange,this.$$d_$88_4);var $v_0=this.get_view().get_editView();if(!IsNull($v_0)){var $v_1=$v_0.get_editElementWrapper();$v_1.unbind(Mscrm.StateChangeEvents.validated,this.$$d_$7x_4)}!IsNull(this.$15_4)&&this.$15_4.unbind(Mscrm.EventNames.mouseOver,this.$$d_$3m_4).unbind(Mscrm.EventNames.mouseOut,this.$$d_$3l_4);!this.get_view().get_layout().get_isDisposed()&&this.$29_4()&&this.get_view().get_layout().get_labelElement().unbind(Mscrm.EventNames.click,this.$$d_onValueElementClicked||(this.$$d_onValueElementClicked=Function.createDelegate(this,this.onValueElementClicked)));if(!window.UseTabletExperience){!IsNull(this.get_view().get_chromeElement())&&this.get_view().get_chromeElement().unbind(Mscrm.EventNames.mouseLeave,this.$$d_onChromeMouseOut||(this.$$d_onChromeMouseOut=Function.createDelegate(this,this.onChromeMouseOut)));if(!this.get_view().get_layout().get_isDisposed()&&this.$29_4()){this.get_view().get_layout().get_labelElement().unbind(Mscrm.EventNames.mouseLeave,this.$$d_onChromeMouseOut||(this.$$d_onChromeMouseOut=Function.createDelegate(this,this.onChromeMouseOut)));this.get_view().get_layout().get_labelElement().unbind(Mscrm.EventNames.mouseEnter,this.$$d_onChromeMouseOver||(this.$$d_onChromeMouseOver=Function.createDelegate(this,this.onChromeMouseOver)))}}Mscrm.InlineEditChromeBehaviorBase.prototype.dispose.call(this)},$8A_4:function($p0){var $v_0=$p0.attr(Mscrm.InlineEditConstants.HtmlAttributeForCompositionLinkControlId);this.$f_4=Mscrm.FormControlInputBehavior.GetBehavior($v_0);if(this.$f_4){this.$f_4.set_fieldName(this.get_view().get_dataFieldName());this.$f_4.set_anchor($p0);this.$f_4.set_isEnabledForNewState(true);this.$f_4.set_hostId(this.get_element().id);this.$f_4.openFlyOut(null,$p0);this.$j_4=this.$f_4.get_flyOutDialog();this.$j_4.bind(Mscrm.FlyOutDialogEventName.closed,this.$$d_$7r_4);Type.parse("Mscrm.InlineEditDataService")&&Mscrm.InlineEditDataService.set_blockAutoSave(true)}},onEditElementWrapperStateChange:function(eventObject){!(this.get_view().get_dataContext().get_attribute().get_isCompositeAttributeValueSet()&&(this.$j_4?this.$j_4.get_visible():false))&&Mscrm.InlineEditChromeBehaviorBase.prototype.onEditElementWrapperStateChange.call(this,eventObject)},$88_4:function($p0){var $v_0=arguments[1];this.$79_4($v_0)},$79_4:function($p0){switch($p0){case "ControlMode":this.$74_4(this.get_view().get_controlMode());break}},$74_4:function($p0){switch($p0){case Mscrm.InlineEditControlMode.normal:this.get_stateData().set_currentState(Mscrm.ChromeState.read);this.get_view().get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeForControlMode,Mscrm.InlineEditControlMode.normal);break;case Mscrm.InlineEditControlMode.locked:this.get_stateData().set_currentState(Mscrm.ChromeState.read);this.get_view().get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeForControlMode,Mscrm.InlineEditControlMode.locked);break;case Mscrm.InlineEditControlMode.deactivated:this.get_stateData().set_currentState(Mscrm.ChromeState.read);this.get_view().get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeForControlMode,Mscrm.InlineEditControlMode.deactivated);break;case Mscrm.InlineEditControlMode.alwaysEdit:this.get_stateData().set_currentState(Mscrm.ChromeState.edit);this.get_view().get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeForControlMode,Mscrm.InlineEditControlMode.alwaysEdit);break;default:break}},$7x_4:function($p0){var $v_0=arguments[1];this.get_stateData().set_validationResult($v_0);this.get_view().$b_2=$v_0.isValid?null:this.get_view().get_editView().get_editElementValue();this.get_view().set_validateResult(new Mscrm.ValidationResult($v_0.isValid,$v_0.errorText));this.$8t_4();this.handleValidationEvent()},$8t_4:function(){var $v_0=this.get_view().get_dataContext().validate(this.get_view().get_editView().get_editElementValue());if(!this.get_stateData().get_validationResult().isValid&&!$v_0.isValid&&this.get_stateData().get_validationResult().errorText.indexOf($v_0.errorText)===-1)this.get_stateData().get_validationResult().errorText+=" "+$v_0.errorText;else if(this.get_stateData().get_validationResult().isValid&&!$v_0.isValid){this.get_stateData().get_validationResult().isValid=$v_0.isValid;this.get_stateData().get_validationResult().errorText=$v_0.errorText;this.get_view().$b_2=this.get_view().get_dataContext().get_editValue();this.get_view().set_validateResult(new Mscrm.ValidationResult($v_0.isValid,$v_0.errorText))}this.get_view().get_validateResult().attributeName=this.get_view().get_dataFieldName();this.get_view().get_validateResult().parentFormDataEntityId=this.get_view().get_dataContext().get_attribute().get_parentFormDataEntityId();this.get_view().get_dataContext().set_hasError(!this.get_view().get_validateResult().isValid)},handleValidationEvent:function(){var $v_0=this.get_view().get_editView();if(!this.get_stateData().get_validationResult().isValid){this.get_view().get_valueElement().addClass("ms-crm-Inline-HasError");$v_0.get_editElementWrapper().addClass("ms-crm-Inline-HasError");this.get_view().get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeForErrorIdentification,"true")}else{this.get_view().get_valueElement().removeClass("ms-crm-Inline-HasError");$v_0.get_editElementWrapper().removeClass("ms-crm-Inline-HasError");this.get_view().get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeForErrorIdentification,"false")}if(!this.$1W_4||!this.get_stateData().get_validationResult().isValid){if(this.$1W_4)this.$1W_4=false;this.triggerValidationElementStateChanged(Mscrm.StateChangeEvents.validated);this.triggerWarningIconStateChanged(Mscrm.StateChangeEvents.validated)}},handleTabNavigation:function(){Mscrm.InlineEditChromeBehaviorBase.prototype.handleTabNavigation.call(this);if(Mscrm.TabTypeHelper.$1E&&Mscrm.TabTypeHelper.$1e!==this.get_view().get_dataContext().get_attribute().get_logicalName()&&!this.get_view().get_disabled()){this.get_view().get_valueElement().trigger("click");Mscrm.TabTypeHelper.disableTabTyping()}},triggerWarningIconStateChanged:function(newState){switch(newState){case Mscrm.StateChangeEvents.read:case Mscrm.StateChangeEvents.edit:case Mscrm.StateChangeEvents.validated:this.trySetAriaInvalid();this.tryShowValidationWarning();break}},triggerLockIconStateChanged:function(newState){switch(newState){case Mscrm.StateChangeEvents.read:case Mscrm.StateChangeEvents.editHint:if(!this.get_view().get_hideLockIcon()&&this.get_view().get_controlMode()===Mscrm.InlineEditControlMode.locked){this.get_lockIcon().show();this.get_view().get_valueElement().addClass("ms-crm-Inline-Locked")}else{this.get_lockIcon().hide();this.get_view().get_valueElement().removeClass("ms-crm-Inline-Locked")}break;case Mscrm.StateChangeEvents.edit:this.get_lockIcon().hide();break}},triggerValidationElementStateChanged:function(newState){if(!this.get_view().get_disableWarningsAndValidation())switch(newState){case Mscrm.StateChangeEvents.read:this.hideValidationElement();break;case Mscrm.StateChangeEvents.edit:case Mscrm.StateChangeEvents.validated:if((this.get_isNotificationSetViaClientApi()||!this.get_stateData().get_validationResult().isValid)&&this.get_stateData().get_currentState()===Mscrm.ChromeState.edit)this.$3r_4();else this.hideValidationElement();break}else this.hideValidationElement()},tryTransitionToAlwaysEditMode:function(){if(this.get_view().get_controlMode()===Mscrm.InlineEditControlMode.alwaysEdit){this.get_view().initializeAndRenderEditView();this.get_stateData().set_currentState(Mscrm.ChromeState.edit)}},$7r_4:function($p0){switch($p0.type){case Mscrm.FlyOutDialogEventName.closed:this.get_view().get_editView().confirm();Mscrm.TabTypeHelper.$1E=false;break}}};Mscrm.InlineEditCheckBoxChromeBehavior=function($p0){Mscrm.InlineEditCheckBoxChromeBehavior.initializeBase(this,[$p0])};Mscrm.InlineEditCheckBoxChromeBehavior.prototype={onChromeElementFocus:function($p0){this.get_view().get_isEditControlInitialized()&&!this.get_view().get_disabled()&&this.get_view().get_editView().get_editElementWrapper().addClass(Mscrm.InlineCssClassNames.editHintState)},onChromeElementBlur:function($p0){this.get_view().get_isEditControlInitialized()&&this.get_view().get_editView().get_editElementWrapper().removeClass(Mscrm.InlineCssClassNames.editHintState)},onElementKeyPress:function($p0){switch($p0.which){case 13:this.get_view().toggleCheckBox();break}Mscrm.InlineEditChromeBehaviorBase.prototype.onElementKeyPress.call(this,$p0)}};Mscrm.InlineEditableSelectBehavior=function($p0){Mscrm.InlineEditableSelectBehavior.initializeBase(this,[$p0])};Mscrm.InlineEditableSelectBehavior.prototype={tabKeyAction:function($p0){Mscrm.EditableSelectControl.prototype.tabKeyAction.call(this,$p0);Mscrm.EditableSelectControl.prototype.onBlur.call(this,$p0)},disableDropDownIcon:function($p0,$p1){if(IsNull($p0))return;Mscrm.ImageStrip.changeImage($p0,$p1?"/_imgs/inlineedit/time_icon_disabled.png":"/_imgs/inlineedit/time_icon.png");$p0.disabled=$p1},onArrowImageMouseOver:function($p0){},onArrowImageMouseOut:function($p0){},setValues:function($p0,$p1){Mscrm.EditableSelectControl.prototype.setValues.call(this,$p0,$p1);Mscrm.EditableSelectControl.prototype.validateValue.call(this,null)}};Mscrm.InlineEditLookupChromeBehavior=function($p0){Mscrm.InlineEditLookupChromeBehavior.initializeBase(this,[$p0])};Mscrm.InlineEditLookupChromeBehavior.prototype={tryShowValidationWarning:function(){var $v_0=this.get_stateData().get_validationResult();Mscrm.InlineLookupUtility.$5Q($v_0,this.get_view())},onValueElementClicked:function($p0){Mscrm.InlineLookupUtility.$56($p0,this.get_view(),this.get_stateData())},onEditElementWrapperStateChange:function($p0){Mscrm.InlineEditChromeBehavior.prototype.onEditElementWrapperStateChange.call(this,$p0);Mscrm.InlineLookupUtility.$54($p0,this.get_view())},activateLink:function(){Mscrm.InlineLookupUtility.$51(this.get_view())},transitionToEditHintState:function(){"multi"===this.get_view().get_viewModel().get_lookupStyle()&&this.get_view().get_valueElement().css("overflow-y","auto");Mscrm.InlineEditChromeBehavior.prototype.transitionToEditHintState.call(this)},transitionToReadState:function(){"multi"===this.get_view().get_viewModel().get_lookupStyle()&&this.get_view().get_valueElement().css("overflow-y","auto");Mscrm.InlineEditChromeBehavior.prototype.transitionToReadState.call(this)}};Mscrm.InlineEditTextAreaChromeBehavior=function($p0){Mscrm.InlineEditTextAreaChromeBehavior.initializeBase(this,[$p0])};Mscrm.InlineEditTextAreaChromeBehavior.prototype={transitionToEditState:function(){this.get_view().get_chromeElement().trigger("TransitionToEditStart");Mscrm.InlineEditChromeBehavior.prototype.transitionToEditState.call(this)}};Mscrm.InlineEditToggleChromeBehavior=function($p0){Mscrm.InlineEditToggleChromeBehavior.initializeBase(this,[$p0])};Mscrm.InlineEditToggleChromeBehavior.prototype={handleTabNavigation:function(){},transitionToReadState:function(){Mscrm.InlineEditChromeBehavior.prototype.transitionToReadState.call(this);!window.UseTabletExperience&&this.get_stateData().set_chromeMouseOverTimeoutTriggered(true)},onValueElementClicked:function($p0){this.$2n_5()},onElementKeyPress:function($p0){switch($p0.which){case 13:this.$2n_5();break}Mscrm.InlineEditChromeBehaviorBase.prototype.onElementKeyPress.call(this,$p0)},$2n_5:function(){if(!this.get_view().get_disabled()&&Mscrm.InlineEditControlMode.alwaysEdit!==this.get_view().get_controlMode()){this.get_view().tryCompleteOnDemandInitialization();this.get_view().get_editView().confirm()}},transitionToEditState:function(){Mscrm.InlineEditControlMode.alwaysEdit===this.get_view().get_controlMode()&&Mscrm.InlineEditChromeBehavior.prototype.transitionToEditState.call(this)},onChromeElementBlur:function($p0){Mscrm.InlineEditControlMode.deactivated!==this.get_view().get_controlMode()&&this.get_view().get_valueElement().removeClass("ms-crm-Inline-EditHintState")},onChromeElementFocus:function($p0){Mscrm.InlineEditControlMode.deactivated!==this.get_view().get_controlMode()&&this.get_view().get_valueElement().addClass("ms-crm-Inline-EditHintState")}};Mscrm.InlineEmailAddressBehavior=function($p0){Mscrm.InlineEmailAddressBehavior.initializeBase(this,[$p0])};Mscrm.InlineEmailAddressBehavior.prototype={$3_6:null,get_view:function(){return this.$3_6},set_view:function($p0){this.$3_6=$p0;return $p0},get_isValidProxy:function(){return this.verify()},verify:function(){var $v_0=new Mscrm.ValidationResult(this.isValid(),null);if($v_0.isValid){this.$3_6.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0]);return true}return false},get_allowValidationMessage:function(){return true},handleParseError:function(){},showErrorMessage:function($p0){var $v_0=new Mscrm.ValidationResult(false,$p0);this.$3_6.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0])},setOldValue:function(){}};Mscrm.InlineEmailBodyControlBehavior=function(element){this.$$d_$7y_5=Function.createDelegate(this,this.$7y_5);Mscrm.InlineEmailBodyControlBehavior.initializeBase(this,[element]);Mscrm.FormInputControl.EmailBodyInputBehavior.prototype.set_disabled.call(this,false)};Mscrm.InlineEmailBodyControlBehavior.prototype={$3_5:null,get_view:function(){return this.$3_5},set_view:function(value){this.$3_5=value;return value},get_isValidProxy:function(){var $v_0=new Mscrm.ValidationResult(true,null);if($v_0.isValid){this.$3_5.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0]);return true}return false},getPostfixToMainElementId:function(postfix){return this.get_element().id.replace("_i","")+postfix},fireOnContentReady:function(){$addHandler(this.get_emailBody(),Mscrm.EventNames.click,this.$$d_$7y_5);Mscrm.FormInputControl.EmailBodyInputBehavior.prototype.fireOnContentReady.call(this)},$7y_5:function($p0){this.get_emailBody().document.body.click()}};Mscrm.InlineEmailBodyChromeBehavior=function($p0){Mscrm.InlineEmailBodyChromeBehavior.initializeBase(this,[$p0])};Mscrm.InlineFormDataControl=function(element){this.$$d_$7w_5=Function.createDelegate(this,this.$7w_5);this.$$d_$53_5=Function.createDelegate(this,this.$53_5);Mscrm.InlineFormDataControl.initializeBase(this,[element])};Mscrm.InlineFormDataControl.prototype={get_editElementWrapper:function(){return !IsNull(this.get_element())?$P_CRM(this.get_element().parentNode):null},initializeBehaviors:function(){this.get_editElementWrapper().bind(Mscrm.StateChangeEvents.commit,this.$$d_$53_5);this.get_editElementWrapper().bind(Mscrm.StateChangeEvents.discard,this.$$d_$7w_5)},disposeHtmlControl:function(){if(!IsNull(this.get_editElementWrapper())){this.get_editElementWrapper().unbind(Mscrm.StateChangeEvents.commit,this.$$d_$53_5);this.get_editElementWrapper().unbind(Mscrm.StateChangeEvents.discard,this.$$d_$7w_5)}Mscrm.FormDataControl.prototype.disposeHtmlControl.call(this)},$53_5:function($p0){this.setAttributeValueFromControl()},$7w_5:function($p0){this.setAttributeValueFromControl()}};Mscrm.InlineEmailBodyFormDataControl=function(element){this.$$d_$53_6=Function.createDelegate(this,this.$53_6);Mscrm.InlineEmailBodyFormDataControl.initializeBase(this,[element])};Mscrm.InlineEmailBodyFormDataControl.prototype={get_editElementWrapper:function(){return !IsNull(this.get_element())?$P_CRM(this.get_element().parentNode):null},initializeBehaviors:function(){Mscrm.FormDataControl.prototype.initializeBehaviors.call(this);this.get_editElementWrapper().bind(Mscrm.StateChangeEvents.commit,this.$$d_$53_6)},disposeHtmlControl:function(){!IsNull(this.get_editElementWrapper())&&this.get_editElementWrapper().unbind(Mscrm.StateChangeEvents.commit,this.$$d_$53_6)},$53_6:function($p0){this.setAttributeValueFromControl()},onContentReady:function(sender,args){this.get_attribute().resetValueWithDirtyCheck(this.get_value(),false);Mscrm.EmailBodyControl.prototype.onContentReady.call(this,sender,args)}};Mscrm.InlineImageLookupTransactionCurrency=function($p0){this.$$d_$7W_7=Function.createDelegate(this,this.$7W_7);Mscrm.InlineImageLookupTransactionCurrency.initializeBase(this,[$p0]);this.add_onafterselect(this.$$d_$7W_7)};Mscrm.InlineImageLookupTransactionCurrency.prototype={$3_7:null,get_view:function(){return this.$3_7},set_view:function($p0){this.$3_7=$p0;return $p0},isControlsContainer:function($p0){if($p0.className.indexOf("ms-crm-Form-Common-Dummy")>-1)return true;else return false},discardView:function(){this.$3_7.get_editView().discard(false)},IsValid:function(){return this.verify()},verify:function(){var $v_0,$v_1=this.Items(false,true,false,false,false);if(IsNull($v_1)||!$v_1.length)$v_0=!this.hasUnresolvedText();else $v_0=!($v_1[0].category===LookupItemCategories.UNKNOWN||$v_1[0].category===LookupItemCategories.AMBIGUOUS);var $v_2=new Mscrm.ValidationResult($v_0,null);if($v_2.isValid)if(this.currencyCheckRequired())$v_2.isValid=false;else this.$3_7.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_2]);return $v_2.isValid},get_isDirty:function(){return Mscrm.InlineLookupUtility.$4w(this)},$7W_7:function($p0,$p1){var $v_0=this.get_dataValue();if(IsNull($v_0)||!$v_0.length)return;else Mscrm.ErrorStatusControl.showCriticalWarning(window.LOCID_CURRENCY_CHANGE_ALERT)},dispose:function(){if(this.get_isDisposed())return;this.remove_onafterselect(this.$$d_$7W_7);Mscrm.FormInputControl.ImageLookupTransactionCurrency.prototype.dispose.call(this)},autoResolveHandler:function($p0,$p1){Mscrm.FormInputControl.LookupUIBehavior.prototype.autoResolveHandler.call(this,$p0,$p1);Mscrm.InlineLookupUtility.$4u(this.$3_7)},showErrorMessage:function($p0,$p1){Mscrm.InlineLookupUtility.$3q($p0,$p1,this.$3_7)},mruXYPosition:function(){return Mscrm.InlineLookupUtility.$3j(this.get_rootControl())}};Mscrm.InlineLookupFormDataControl=function($p0){Mscrm.InlineLookupFormDataControl.initializeBase(this,[$p0])};Mscrm.InlineLookupFormDataControl.prototype={get_editElementWrapper:function(){if(!IsNull(this.get_element())){var $v_0=this.get_element().id.substring(0,this.get_element().id.length-2),$v_1=$v_0+"_lookupTable",$v_2=$get($v_1);if(!IsNull($v_2))return $P_CRM($v_2.parentNode)}return null}};Mscrm.InlineMoneyBehavior=function($p0){Mscrm.InlineMoneyBehavior.initializeBase(this,[$p0])};Mscrm.InlineMoneyBehavior.prototype={$3_6:null,get_view:function(){return this.$3_6},set_view:function($p0){this.$3_6=$p0;return $p0},get_isValidProxy:function(){var $v_0=new Mscrm.ValidationResult(this.IsValid(),null);if($v_0.isValid){this.$3_6.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0]);return true}return false},isValueNullOrEmpty:function($p0){return !isNullOrEmptyString($p0)},showErrorMessage:function($p0){var $v_0=new Mscrm.ValidationResult(false,$p0);this.$3_6.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0])},get_currencyPrecision:function(){return Mscrm.FormInputControl.MoneyInputBehavior.prototype.get_currencyPrecision.call(this)},set_currencyPrecision:function($p0){Mscrm.FormInputControl.MoneyInputBehavior.prototype.set_currencyPrecision.call(this,$p0);this.$3_6.get_dataContext().set_precision(Mscrm.FormInputControl.MoneyInputBehavior.prototype.get_currencyPrecision.call(this));return $p0},get_currencySymbol:function(){return Mscrm.FormInputControl.MoneyInputBehavior.prototype.get_currencySymbol.call(this)},set_currencySymbol:function($p0){Mscrm.FormInputControl.MoneyInputBehavior.prototype.set_currencySymbol.call(this,$p0);this.$3_6.get_dataContext().set_currencySymbol(Mscrm.FormInputControl.MoneyInputBehavior.prototype.get_currencySymbol.call(this));return $p0},handleParseError:function(){},onValidationSuccess:function($p0){},get_allowValidationMessage:function(){return true}};Mscrm.InlineMoneyFormDataControl=function($p0){Mscrm.InlineMoneyFormDataControl.initializeBase(this,[$p0])};Mscrm.InlineMoneyFormDataControl.prototype={$35_6:null,get_editElementWrapper:function(){if(IsNull(this.$35_6)&&!IsNull(this.get_element())){var $v_0=this.get_element().id+"_table";this.$35_6=$P_CRM("#"+$v_0).parents().first()}return this.$35_6}};Mscrm.InlineMultiplePicklistBehavior=function(element){Mscrm.InlineMultiplePicklistBehavior.initializeBase(this,[element])};Mscrm.InlineMultiplePicklistBehavior.prototype={$3_4:null,get_view:function(){return this.$3_4},set_view:function(value){this.$3_4=value;return value},get_isDirty:function(){return true},get_dataValue:function(){var $v_0=null;if(this.get_isValid()){$v_0=[];for(var $v_1=0;$v_1<this.$3_4.get_selectedItemIndexes().length;$v_1++){var $v_2=this.$3_4.get_selectedItemIndexes()[$v_1];Array.add($v_0,this.$3_4.get_dataContext().get_options()[$v_2])}}return $v_0},set_dataValue:function(value){return value},get_isValid:function(){var $v_0=new Mscrm.ValidationResult(true,null),$v_1=[$v_0];this.$3_4.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,$v_1);return $v_0.isValid}};Mscrm.InlineNumberBehavior=function($p0){Mscrm.InlineNumberBehavior.initializeBase(this,[$p0])};Mscrm.InlineNumberBehavior.prototype={$3_5:null,get_view:function(){return this.$3_5},set_view:function($p0){this.$3_5=$p0;return $p0},get_isValidProxy:function(){var $v_0=new Mscrm.ValidationResult(this.IsValid(),null);if($v_0.isValid){this.$3_5.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0]);return true}return false},get_allowValidationMessage:function(){return true},get_isDirty:function(){var $v_0=this.get_element().value;return this.$3_5.get_dataContext().get_defaultEditValue()!==$v_0},onValidationSuccess:function($p0){},handleParseError:function(){},isValueNullOrEmpty:function($p0){return !isNullOrEmptyString($p0)},showErrorMessage:function($p0){var $v_0=new Mscrm.ValidationResult(false,$p0);this.$3_5.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0])},setOldValue:function(){}};Mscrm.InlineOptionSetBehavior=function(element){Mscrm.InlineOptionSetBehavior.initializeBase(this,[element])};Mscrm.InlineOptionSetBehavior.prototype={$3_5:null,get_view:function(){return this.$3_5},set_view:function(value){this.$3_5=value;return value},get_isValid:function(){return this.$8v_5()},$8v_5:function(){var $v_0=new Mscrm.ValidationResult(true,null),$v_1=[$v_0];this.$3_5.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,$v_1);return $v_0.isValid}};Mscrm.InlinePresenceLookupUIBehavior=function(element){Mscrm.InlinePresenceLookupUIBehavior.initializeBase(this,[element])};Mscrm.InlinePresenceLookupUIBehavior.prototype={$3_6:null,get_view:function(){return this.$3_6},set_view:function(value){this.$3_6=value;return value},get_isDirty:function(){return Mscrm.InlineLookupUtility.$4w(this)},get_isTouchSkinEnabled:function(){return false},IsValid:function(){return Mscrm.InlineLookupUtility.$4z(this,this.$3_6)},verify:function(){return Mscrm.InlineLookupUtility.$3v(this,this.$3_6)},discardView:function(){this.$3_6.get_editView().discard(false)},autoResolveHandler:function(result,cmd){Mscrm.FormInputControl.LookupUIBehavior.prototype.autoResolveHandler.call(this,result,cmd);Mscrm.InlineLookupUtility.$4u(this.$3_6)},showErrorMessage:function(message,iconPath){Mscrm.InlineLookupUtility.$3q(message,iconPath,this.$3_6)},hideErrorMessage:function(){Mscrm.InlineLookupUtility.$7J(this.$3_6)},mruXYPosition:function(){return Mscrm.InlineLookupUtility.$3j(this.get_rootControl())}};Mscrm.TabTypeHelper=function(){};Mscrm.TabTypeHelper.get_isTabCommit=function(){return Mscrm.TabTypeHelper.$1E};Mscrm.TabTypeHelper.set_isTabCommit=function($p0){Mscrm.TabTypeHelper.$1E=$p0;return $p0};Mscrm.TabTypeHelper.get_tabbedAttributeLogicalName=function(){return Mscrm.TabTypeHelper.$1e};Mscrm.TabTypeHelper.set_tabbedAttributeLogicalName=function($p0){Mscrm.TabTypeHelper.$1e=$p0;return $p0};Mscrm.TabTypeHelper.enableTabTyping=function($p0){Mscrm.TabTypeHelper.$1E=true;Mscrm.TabTypeHelper.$1e=$p0};Mscrm.TabTypeHelper.disableTabTyping=function(){Mscrm.TabTypeHelper.$1E=false;Mscrm.TabTypeHelper.$1e=""};Mscrm.InlineTextAreaBehavior=function($p0){Mscrm.InlineTextAreaBehavior.initializeBase(this,[$p0])};Mscrm.InlineTextAreaBehavior.prototype={get_isDirty:function(){var $v_0=this.get_element().value,$v_1=this.get_defaultValue()!==$v_0;if($v_1)$v_1=this.get_defaultValue()!==Mscrm.TextAreaHelper.normalizeNewLine($v_0);return $v_1}};Mscrm.InlineTextBoxBehavior=function($p0){Mscrm.InlineTextBoxBehavior.initializeBase(this,[$p0])};Mscrm.InlineTextBoxBehavior.prototype={$3_5:null,get_view:function(){return this.$3_5},set_view:function($p0){this.$3_5=$p0;return $p0},get_isValid:function(){return this.verify()},verify:function(){var $v_0=new Mscrm.ValidationResult(true,null),$v_1=this.get_allowTrimValue()?this.get_element().value.trim():this.get_element().value;if(this.get_isDirty())if($v_1.length>this.get_maxLength()){$v_0.isValid=false;$v_0.errorText=String.format(window.LOCID_DEVERROR_TOO_LONG,this.get_maxLength())}else this.get_element().value=$v_1;var $v_2=[$v_0];this.$3_5.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,$v_2);return $v_0.isValid},onChange:function($p0){}};Mscrm.InlineTickerBehavior=function($p0){Mscrm.InlineTickerBehavior.initializeBase(this,[$p0])};Mscrm.InlineTickerBehavior.prototype={$3_6:null,get_view:function(){return this.$3_6},set_view:function($p0){this.$3_6=$p0;return $p0},get_isValidProxy:function(){this.$3_6.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[new Mscrm.ValidationResult(true,null)]);return true},formatStringValue:function($p0){}};Mscrm.InlineUrlBehavior=function($p0){Mscrm.InlineUrlBehavior.initializeBase(this,[$p0])};Mscrm.InlineUrlBehavior.prototype={$3_6:null,get_view:function(){return this.$3_6},set_view:function($p0){this.$3_6=$p0;return $p0},get_isValidProxy:function(){return this.verify()},verify:function(){var $v_0=new Mscrm.ValidationResult(this.isValid(),null);if($v_0.isValid){this.$3_6.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0]);return true}return false},showErrorMessage:function($p0){var $v_0=new Mscrm.ValidationResult(false,$p0);this.$3_6.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0])},formatStringValue:function($p0){},saveOldValue:function(){},restoreOldValue:function(){},handleParseError:function(){}};Mscrm.InlineSubjectLookupUIBehavior=function($p0){this.$$d_$8T_5=Function.createDelegate(this,this.$8T_5);this.$$d_$8q_5=Function.createDelegate(this,this.$8q_5);this.$C_5=new Mscrm.InlineFlyOutDialog;Mscrm.InlineSubjectLookupUIBehavior.initializeBase(this,[$p0])};Mscrm.InlineSubjectLookupUIBehavior.getSubjectLookupData=function(){if(typeof _subjectLookupData!=="undefined"&&!isNullOrEmptyString(_subjectLookupData))return _subjectLookupData;return null};Mscrm.InlineSubjectLookupUIBehavior.prototype={$3_5:null,$1d_5:false,$2f_5:null,$Z_5:null,get_view:function(){return this.$3_5},set_view:function($p0){this.$3_5=$p0;return $p0},setValue:function($p0){var $v_0=false;$v_0=this.checkIfItemsChangedAndAdd($p0);var $v_1=new Mscrm.FormInputControl.ResultEventArgs;$v_1.get_result().items=$p0;$v_0&&this.handleDataValueChangedEvent($v_1);this.raiseEvents($v_1,$v_0)},initializeLookupPresence:function(){},queryLookupPresence:function($p0){},showSearchResults:function(){var $v_0=Mscrm.InlineSubjectLookupUIBehavior.getSubjectLookupData(),$v_1=this.get_element().id.substring(0,this.get_element().id.length-2);setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.StartSubjectLookupShow);if(!IsNull($v_0)){var $v_2=$P_CRM.parseJSON($v_0);this.$8i_5($v_1,$v_2)}else this.Lookup(false,false,"",false);setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.FinishSubjectLookupShow)},selectInlineSubjectItem:function($p0,$p1){var $v_0=new LookupControlItem;$v_0.id=$p1;$v_0.type=Mscrm.EntityTypeCode.Subject.toString();$v_0.name=$p0;$v_0.onclick="openlui(new Sys.UI.DomEvent(event)); return false;";$v_0.displayClass="ms-crm-Lookup-Item";$v_0.data="";this.selectAndRaiseEvent($v_0)},$5J_5:function(){if(!IsNull(Mscrm.InlineSubjectLookupUIBehavior.getSubjectLookupData()))this.get_element().src="/_imgs/dropdown_refresh.png";else this.get_element().src="/_imgs/search_normal.gif";this.get_element().height=20},setonImage:function(){this.$5J_5()},setoffImage:function(){this.$5J_5()},isEditable:function(){return false},lookupDownKeyEdit:function($p0){this.showSearchResults();return true},lookupDownKey:function($p0,$p1){this.showSearchResults();return true},focusEdit:function($p0){this.toggleSwallowFocusEdit();var $v_0=XUI.Html.CreateDomEvent("focus");XUI.Html.DispatchDomEvent(this.get_element(),$v_0)},closeTreeDialog:function(){this.$1d_5&&this.$Z_5.jstree("disable_hotkeys");this.$C_5.hide();this.exitEditing()},$8i_5:function($p0,$p1){var $v_0=$P_CRM($get($p0+"_lookupTable")),$v_1=$v_0.width()>210?$v_0.width()-1:210;this.$C_5.get_options().set_dialogClass("subjecttree-Dialog");this.$C_5.get_options().set_closeOnEscape(false);this.$C_5.get_options().set_modal(true);this.$C_5.get_options().set_hideWithClickOnOverlay(true);this.$C_5.get_options().set_showTitlePane(false);this.$C_5.get_options().set_showButtonPane(false);this.$C_5.get_options().set_showCloseButton(false);this.$C_5.get_options().set_draggable(false);this.$C_5.get_options().set_focusOnFirstTabbable(true);this.$C_5.get_options().set_applyAnchorClassChange(false);this.$C_5.get_options().set_height(0);this.$C_5.get_options().set_minHeight(20);this.$C_5.get_options().set_width($v_1);this.$C_5.set_position(Mscrm.FlyOutPosition.bottom);this.$C_5.set_dialogLeft(0);this.$C_5.set_dialogTop(0);this.$C_5.set_shouldDisposeContent(false);if(!this.$1d_5){this.$Z_5=$P_CRM($get($p0+"_treediv"));this.$Z_5.html("");this.$Z_5.append(LOCID_JSTREE_LOADING);this.$C_5.setContent(this.$Z_5);var $v_2=this.get_rootControl(),$v_3=$v_2.ownerDocument,$v_4=$v_3.body.clientHeight,$v_5=Mscrm.Utilities.getXYPos($v_3.documentElement,!Mscrm.Utilities.get_isLeftToRight()),$v_6=$v_0.offset(),$v_7=$v_6.top+$v_0.outerHeight(false),$v_8=$v_4-$v_5["y"]-$v_7-2;if($v_8<250){$v_8=$v_8-22;this.$Z_5.css("max-height",$v_8.toString()+"px")}}this.$C_5.show($v_0);if(!this.$1d_5)if(Mscrm.Utilities.compareGuids($p1.data[0].metadata.subjectid,"{00000000-0000-0000-0000-000000000000}")){this.$Z_5.html("");this.$Z_5.append("<table><tr><td>&nbsp;</td></tr></table>")}else{subjectJstree(this.$Z_5,$p1,$p0);this.$1d_5=true}else this.$Z_5.jstree("enable_hotkeys");this.$C_5.dialogChrome().focus();this.$C_5.dialogChrome().bind("keydown",this.$$d_$8q_5);if(this.$1d_5){this.$Z_5.jstree("dehover_node");this.$Z_5.jstree("close_all",-1);this.$1d_5=false}this.$2f_5=this.$$d_$8T_5;$addHandler(window,"resize",this.$2f_5)},$8q_5:function($p0){if($p0.which===27){$p0.preventDefault();$p0.stopPropagation();this.closeTreeDialog()}},$8T_5:function($p0){this.closeTreeDialog()},mruXYPosition:function(){return Mscrm.InlineLookupUtility.$3j(this.get_rootControl())},dispose:function(){if(this.get_isDisposed())return;!IsNull(this.$2f_5)&&$removeHandler(window,"resize",this.$2f_5);!IsNull(this.$C_5)&&this.$C_5.dispose();Mscrm.FormInputControl.LookupUIBehavior.prototype.dispose.call(this)}};Mscrm.QuickFormControlMode=function(){};Mscrm.QuickFormControlMode.isValidMode=function(mode){return mode==="Read"||mode==="Edit"||mode==="Create"};Mscrm.WellKnownQuickFormIds=function(){};Mscrm.QuickFormBehavior=function(element){this.$$d_$55_3=Function.createDelegate(this,this.$55_3);this.$7_3=new Sys.EventHandlerList;Mscrm.QuickFormBehavior.initializeBase(this,[element]);this.$B_3=element;var $v_0=$P_CRM(element);this.$Q_3=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForUniqueId);this.$3C_3=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForFormId);this.$4E_3=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForRelationshipName);this.$d_3=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForQuickFormAttributeLogicalName);this.$2e_3=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForRelatedEntityLogicalName);this.$3R_3=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForRelatedEntityPrimaryFieldName);this.$1u_3=Boolean.parse($v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForQuickFormDefaultVisibility));var $v_1=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForRelationshipRoleOrdinal);if(!isNullOrEmptyString($v_1))try{var $v_3=Number.parseInvariant($v_1);if($v_3===1||$v_3===2)this.$4F_3=$v_3}catch($$e_4){}var $v_2=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForControlMode);this.$E_3=Mscrm.QuickFormControlMode.isValidMode($v_2)?$v_2:"Read"};Mscrm.QuickFormBehavior.getBehaviorById=function(id){return Mscrm.QuickFormBehavior.$20[Mscrm.QuickFormBehavior.getQuickFormDomId(id)]};Mscrm.QuickFormBehavior.getQuickFormDomId=function(guid){var $v_0=new RegExp("-","g");guid=guid.replace($v_0,"_");return guid};Mscrm.QuickFormBehavior.getAllQuickFormBehaviors=function(){var $v_0=new Array(0),$v_1=0,$$dict_2=Mscrm.QuickFormBehavior.$20;for(var $$key_3 in $$dict_2){var $v_2={key:$$key_3,value:$$dict_2[$$key_3]};$v_0[$v_1]=$v_2.value;$v_1++}return $v_0};Mscrm.QuickFormBehavior.prototype={$d_3:null,$T_3:null,$Q_3:null,$4E_3:null,$3C_3:null,$E_3:null,$2e_3:null,$3R_3:null,$4F_3:0,$w_3:null,$10_3:null,$B_3:null,$1u_3:true,initialize:function(){Mscrm.CrmUIBehavior.prototype.initialize.call(this);Mscrm.QuickFormBehavior.$20[this.$Q_3]=this;this.$4O_3();this.$5F_3();this.$4S_3();this.$4c_3()},get_visibility:function(){return this.$1u_3},set_visibility:function(value){if(this.$1u_3===value)return value;this.$1u_3=value;if(this.$1u_3){var $v_0=$P_CRM(this.$B_3);$v_0.show();this.$8Z_3()}else $P_CRM(this.$B_3).hide();return value},$4c_3:function(){if(this.$E_3==="Create")return;this.$6R_3()},$6R_3:function(){var $v_0=this.get_formDataEntityObject().get_attributes().get(this.$3R_3);if(IsNull($v_0))return;var $$t_9=this;$v_0.get_controls().forEach(function($p1_0,$p1_1){var $v_1=$p1_0;if(!IsNull($v_1)){var $v_2=$P_CRM("#"+$v_1.get_editView().get_editElementId());if(!IsNull($v_2)){var $v_3=$v_2.parents();if(!IsNull($v_3)){var $v_4=$v_3.first().prev();if(!IsNull($v_4)){$v_4.addClass("ms-crm-CustomerCard-Name");$v_4.empty();$v_4.append($$t_9.$6i_3($v_0));var $v_5=$v_4.parents("table").first();if(!IsNull($v_5)){var $v_6=$v_5.find("td").first();$v_6.css("padding-left","0px");$v_6.css("padding-right","0px");$v_6.css("padding-top","0px")}}}}}})},$6i_3:function($p0){var $v_0=$P_CRM("<a></a>");$v_0.attr("href","#");$v_0.addClass("ms-crm-gridurl");$v_0.addClass("ms-CustomerCard-Name-Anchor");!IsNull($p0.get_value())&&$v_0.text($p0.get_value().toString());var $$t_3=this;$v_0.click(function($p1_0){openObjEtn($$t_3.get_formDataEntityObject().get_typeName(),$$t_3.get_formDataEntityObject().get_recordId());$p1_0.stopPropagation();$p1_0.preventDefault()});return $v_0},$4S_3:function(){if(this.$E_3==="Create")return;this.$5f_3()},$5f_3:function(){if(this.$3C_3!=="707fc57b-c5e6-471b-a180-e37ed28a38e2")return;var $v_0=this.get_formDataEntityObject().get_attributes().get("parentcustomerid");if(IsNull($v_0))return;var $$t_7=this;$v_0.get_controls().forEach(function($p1_0,$p1_1){var $v_1=$p1_0;if(!IsNull($v_1)){var $v_2=$P_CRM("#"+$v_1.get_editView().get_editElementId());if(!IsNull($v_2)){var $v_3=$v_2.parents("div").first();if(!IsNull($v_3)){var $v_4=$v_3.parents("tr").first();if(!IsNull($v_4))if(IsNull($v_0.get_value()))$v_4.hide();else $v_4.show()}}}})},$8Z_3:function(){if(this.$E_3==="Create"){var $v_0=$P_CRM(this.$B_3).find("div["+Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName+"]").first().attr(Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName);this.setEditMode($v_0)}},$4O_3:function(){if(!isNullOrEmptyString(this.$d_3)&&!IsNull(this.get_parentFormDataEntity())){this.$T_3=this.get_parentFormDataEntity().get_attributes().get(this.$d_3);!IsNull(this.$T_3)&&this.$T_3.addOnChange(this.$$d_$55_3,false)}},$5F_3:function(){switch(this.$E_3){case "Create":break;case "Edit":case "Read":this.$6d_3(Mscrm.InlineEditControlMode.locked);break;default:break}},$6d_3:function($p0){if(!IsNull(this.get_formDataEntityObject())){var $$t_7=this;this.get_formDataEntityObject().get_attributes().forEach(function($p1_0,$p1_1){var $v_0=$p1_0;$v_0.get_controls().forEach(function($p2_0,$p2_1){var $v_1=$p2_0;if(!IsNull($v_1))switch($v_1.get_dataContext().get_controlMode()){case Mscrm.InlineEditControlMode.alwaysEdit:case Mscrm.InlineEditControlMode.normal:case Mscrm.InlineEditControlMode.locked:$v_1.get_dataContext().setDefaultControlMode($p0);$v_1.set_hideLockIcon(true);break;case Mscrm.InlineEditControlMode.deactivated:break;default:break}})})}},setDefaultEmptyValuePlaceholderText:function(attributeName,text){if(IsNull(this.get_formDataEntityObject()))return;var $v_0=this.get_formDataEntityObject().get_attributes().get(attributeName);if(IsNull($v_0))return;var $$t_7=this;$v_0.get_controls().forEach(function($p1_0,$p1_1){var $v_1=$p1_0;if(IsNull($v_1))return;var $v_2=$v_1.get_dataContext();if(IsNull($v_2))return;$v_2.setPropertyWithoutRaisingEvent("EmptyValuePlaceholder",text);$v_1.blur()})},setEditMode:function(attributeName){var $v_0=this.get_formDataEntityObject();if(IsNull(this.get_formDataEntityObject()))return;var $v_1=$v_0.get_attributes().get(attributeName);if(IsNull($v_1))return;var $v_2=$v_1.get_controls().get();if(IsNull($v_2)||$v_2.length<1)return;var $$t_4=this;window.setTimeout(function(){$v_2[0].setFocus()},0)},get_uniqueId:function(){return this.$Q_3},get_controlMode:function(){return this.$E_3},get_relatedEntityLogicalName:function(){return this.$2e_3},get_relatedEntityPrimaryFieldName:function(){return this.$3R_3},get_relationshipName:function(){return this.$4E_3},get_relationshipRoleOrdinal:function(){return this.$4F_3},get_formDataEntityObject:function(){return this.$w_3},set_formDataEntityObject:function(value){if(IsNull(this.$w_3))this.$w_3=value;return value},get_parentFormDataEntity:function(){return this.$10_3},set_parentFormDataEntity:function(value){if(IsNull(this.$10_3))this.$10_3=value;return value},get_lookupAttributeName:function(){return this.$d_3},get_formId:function(){return this.$3C_3},get_isPendingAssociationsNeeded:function(){if(!isNullOrEmptyString(this.$d_3)&&!IsNull(this.get_parentFormDataEntity()))return false;else return true},$55_3:function($p0){if(this.$E_3==="Create")return;if(!IsNull($p0)){var $v_0=$p0.getEventSource();if(!IsNull($v_0)){var $v_1=$v_0.getValue();if(!IsNull($v_1)&&!IsNull($v_1.length)&&$v_1.length===1&&!IsNull($v_1[0])){var $v_2=$v_1[0];$v_2.typename===this.$2e_3&&this.refresh($v_2.id)}}}},add_successEvent:function(value){this.$7_3.addHandler("SuccessEvent",value)},remove_successEvent:function(value){this.$7_3.removeHandler("SuccessEvent",value)},add_failureEvent:function(value){this.$7_3.addHandler("FailureEvent",value)},remove_failureEvent:function(value){this.$7_3.removeHandler("FailureEvent",value)},fireSuccessEvent:function(entityData,command){this.$4S_3();this.$4c_3();var $v_0=this.$7_3.getHandler("SuccessEvent");!IsNull($v_0)&&$v_0(this,new Mscrm.InlineEdit.QuickFormRefreshedEventsArgs(this.$Q_3,entityData,command))},fireFailureEvent:function(errorData,command){var $v_0=this.$7_3.getHandler("FailureEvent");!IsNull($v_0)&&$v_0(this,new Mscrm.InlineEdit.QuickFormRefreshedEventsArgs(this.$Q_3,errorData,command))},save:function(){Mscrm.InlineEditUtilities.tryResetFocusOnActiveControl();return Mscrm.InlineEditDataService.get_dataService().quickFormSaveData(this.$Q_3,false)},saveAsCompleted:function(){Mscrm.InlineEditUtilities.tryResetFocusOnActiveControl();return Mscrm.InlineEditDataService.get_dataService().quickFormSaveData(this.$Q_3,true)},buildXml:function(){return Mscrm.InlineEditDataService.get_dataService().BuildXml(this.get_formDataEntityObject())},validateForm:function(command){return Mscrm.InlineEditDataService.get_dataService().validate(this.get_formDataEntityObject(),command,false)},clear:function(){var $$t_0=this;window.setTimeout(function(){Mscrm.InlineEditDataService.get_dataService().quickFormClearData($$t_0.$Q_3);$$t_0.$7K_3()},10)},dispose:function(){if(this.get_isDisposed())return;if(!IsNull(this.$T_3)&&!this.$T_3.get_isDisposed()){this.$T_3.removeOnChange(this.$$d_$55_3);this.$T_3=null}this.$w_3=null;this.$10_3=null;var $v_0=$P_CRM(this.$B_3);$v_0&&$v_0.unbind();this.$B_3=null;Mscrm.Utilities.destroyObject(this.$7_3);delete Mscrm.QuickFormBehavior.$20[this.$Q_3];Mscrm.CrmUIBehavior.prototype.dispose.call(this)},$7K_3:function(){var $$t_6=this;this.get_formDataEntityObject().get_attributes().forEach(function($p1_0,$p1_1){var $v_0=$p1_0;$v_0.get_controls().forEach(function($p2_0,$p2_1){var $v_1=$p2_0;if(IsNull($v_1))return;$v_1.clearValidation()})})},refresh:function(recordId){if(isNullOrEmptyString(recordId)||recordId!==this.get_formDataEntityObject().get_recordId())if(this.$E_3!=="Create"){Mscrm.InlineEditDataService.get_dataService().quickFormRefreshData(this.$Q_3,recordId);this.$5F_3()}},disableWarningsOnAllControls:function(){if(this.$E_3==="Create"&&!IsNull(this.get_formDataEntityObject())){var $$t_6=this;this.get_formDataEntityObject().get_attributes().forEach(function($p1_0,$p1_1){var $v_0=$p1_0;if(IsNull($v_0))return;$v_0.get_controls().forEach(function($p2_0,$p2_1){var $v_1=$p2_0;if(IsNull($v_1))return;switch($v_1.get_dataContext().get_attribute().get_attributeType()){case "bit":case "ntext":case "nvarchar":case "picklist":case "status":$v_1.set_disableWarningsAndValidation(true);break}})})}}};Mscrm.QuickFormCollectionBehavior=function(element){this.$$d_$55_3=Function.createDelegate(this,this.$55_3);this.$$d_$8H_3=Function.createDelegate(this,this.$8H_3);this.$$d_$8I_3=Function.createDelegate(this,this.$8I_3);this.$7_3=new Sys.EventHandlerList;Mscrm.QuickFormCollectionBehavior.initializeBase(this,[element]);this.$B_3=element;var $v_0=$P_CRM(element);this.$Q_3=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForUniqueId);this.$d_3=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForQuickFormAttributeLogicalName);this.$21_3=$P_CRM.parseJSON($v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeQuickFormChildIds));var $v_1=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForControlMode);this.$E_3=Mscrm.QuickFormControlMode.isValidMode($v_1)?$v_1:"Read"};Mscrm.QuickFormCollectionBehavior.getBehaviorById=function(id){return Mscrm.QuickFormCollectionBehavior.$2b[id]};Mscrm.QuickFormCollectionBehavior.prototype={$d_3:null,$T_3:null,$Q_3:null,$E_3:null,$w_3:null,$10_3:null,$21_3:null,$B_3:null,$1N_3:null,$33_3:null,add_successEvent:function(value){this.$7_3.addHandler("SuccessEvent",value)},remove_successEvent:function(value){this.$7_3.removeHandler("SuccessEvent",value)},add_failureEvent:function(value){this.$7_3.addHandler("FailureEvent",value)},remove_failureEvent:function(value){this.$7_3.removeHandler("FailureEvent",value)},initialize:function(){Mscrm.CrmUIBehavior.prototype.initialize.call(this);Mscrm.QuickFormCollectionBehavior.$2b[this.$Q_3]=this;this.$4O_3();this.$7L_3();this.$5U_3()},get_uniqueId:function(){return this.$Q_3},get_controlMode:function(){return this.$E_3},get_formDataEntityObject:function(){return this.$w_3},set_formDataEntityObject:function(value){if(IsNull(this.$w_3))this.$w_3=value;return value},get_parentFormDataEntity:function(){return this.$10_3},set_parentFormDataEntity:function(value){if(IsNull(this.$10_3))this.$10_3=value;return value},get_lookupAttributeName:function(){return this.$d_3},$5U_3:function(){var $v_0=this.$1h_3();if(!IsNull($v_0)){$v_0.add_successEvent(this.$$d_$8I_3);$v_0.add_failureEvent(this.$$d_$8H_3)}},$8I_3:function($p0,$p1){var $v_0=this.$7_3.getHandler("SuccessEvent");!IsNull($v_0)&&$v_0(this,new Mscrm.InlineEdit.QuickFormRefreshedEventsArgs(this.$1N_3,$p1.get_jsonData(),$p1.get_command()))},$8H_3:function($p0,$p1){var $v_0=this.$7_3.getHandler("FailureEvent");!IsNull($v_0)&&$v_0(this,new Mscrm.InlineEdit.QuickFormRefreshedEventsArgs(this.$1N_3,$p1.get_jsonData(),$p1.get_command()))},$7L_3:function(){var $v_0=null;if(this.$E_3!=="Create"&&!IsNull(this.$d_3)){var $v_2=this.get_parentFormDataEntity().get_attributes().get(this.$d_3);if(!IsNull($v_2))$v_0=$v_2.get_value()}var $v_1=true,$$dict_3=this.$21_3;for(var $$key_4 in $$dict_3){var $v_3={key:$$key_4,value:$$dict_3[$$key_4]},$v_4=Mscrm.QuickFormBehavior.getBehaviorById($v_3.key);this.$5A_3($v_4,$v_0,$v_1);if($v_1)this.$33_3=$v_4;$v_1=false}},$4O_3:function(){if(this.$E_3==="Create")return;if(!isNullOrEmptyString(this.$d_3)&&!IsNull(this.get_parentFormDataEntity())){this.$T_3=this.get_parentFormDataEntity().get_attributes().get(this.$d_3);!IsNull(this.$T_3)&&this.$T_3.addOnChange(this.$$d_$55_3,false)}},$55_3:function($p0){if(!IsNull($p0)){var $v_0=$p0.getEventSource();if(!IsNull($v_0)){var $v_1=$v_0.getValue();this.$2y_3(null);var $$dict_3=this.$21_3;for(var $$key_4 in $$dict_3){var $v_2={key:$$key_4,value:$$dict_3[$$key_4]},$v_3=Mscrm.QuickFormBehavior.getBehaviorById($v_2.key);this.$5A_3($v_3,$v_1,false)}}}},$5A_3:function($p0,$p1,$p2){if(!IsNull($p1)&&!IsNull($p1.length)&&$p1.length===1&&!IsNull($p1[0])){var $v_0=$p1[0];if($v_0.typename===$p0.$2e_3){this.$2y_3($p0);$p0.refresh($v_0.id);return}}if($p2&&this.$E_3==="Create")this.$2y_3($p0);else $p0.set_visibility(false)},$1h_3:function(){if(!IsNull(this.$1N_3))return Mscrm.QuickFormBehavior.getBehaviorById(this.$1N_3);return null},$2y_3:function($p0){if(!IsNull($p0)&&$p0.$Q_3===this.$1N_3)return;var $v_0=this.$1h_3();if(!IsNull($v_0)){$v_0.set_visibility(false);$v_0.remove_successEvent(this.$$d_$8I_3);$v_0.remove_failureEvent(this.$$d_$8H_3)}this.$1N_3=!IsNull($p0)?$p0.$Q_3:null;$v_0=this.$1h_3();if(!IsNull($v_0)){$v_0.set_visibility(true);$v_0.add_successEvent(this.$$d_$8I_3);$v_0.add_failureEvent(this.$$d_$8H_3)}},dispose:function(){if(this.get_isDisposed())return;var $v_0=this.$1h_3();if(!IsNull($v_0))try{$v_0.remove_successEvent(this.$$d_$8I_3);$v_0.remove_failureEvent(this.$$d_$8H_3)}catch($$e_1){}if(!IsNull(this.$T_3)&&!this.$T_3.get_isDisposed()){this.$T_3.removeOnChange(this.$$d_$55_3);this.$T_3=null}this.$w_3=null;this.$10_3=null;this.$33_3=null;Mscrm.Utilities.destroyObject(this.$21_3);this.$21_3=null;var $v_1=$P_CRM(this.$B_3);$v_1&&$v_1.unbind();this.$B_3=null;Mscrm.Utilities.destroyObject(this.$7_3);delete Mscrm.QuickFormCollectionBehavior.$2b[this.$Q_3];Mscrm.CrmUIBehavior.prototype.dispose.call(this)},saveActiveQuickForm:function(){var $v_0=this.$1h_3();return $v_0.save()},resetActiveQuickForm:function(){var $v_0=this.$1h_3();$v_0.clear()},showDefaultQuickForm:function(){this.$2y_3(this.$33_3)}};Mscrm.InlinePhoneNumberBehavior=function($p0){Mscrm.InlinePhoneNumberBehavior.initializeBase(this,[$p0])};Mscrm.InlinePhoneNumberBehavior.prototype={$3_5:null,get_view:function(){return this.$3_5},set_view:function($p0){this.$3_5=$p0;return $p0},get_isValid:function(){return this.verify()},get_isValidProxy:function(){return this.verify()},verify:function(){var $v_0=new Mscrm.ValidationResult(true,null);if($v_0.isValid){this.$3_5.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0]);return true}return false},onChange:function($p0){!this.verify()&&Mscrm.Utilities.preventDefault($p0.rawEvent)}};Mscrm.InlineRelatedCasesLookupBehavior=function(element){Mscrm.InlineRelatedCasesLookupBehavior.initializeBase(this,[element]);this.set_doNotSubmit(true)};Mscrm.InlineRelatedCasesLookupBehavior.prototype={$3_5:null,get_view:function(){return this.$3_5},set_view:function(value){this.$3_5=value;return value},get_incidentId:function(){return Xrm.Page.data.entity.getId()},showSearchResults:function(){this.set_defaultViewId("{FB30F6AF-CEA8-4320-A060-151350F1F0E7}");this.set_additionalParams(null);this.set_inlineResultsSorted(false);this.set_showInlineLookupHeader(true);this.set_inlineLookupHeaderText(window.LOCID_INLINELOOKUP_CASES_HEADER);var $v_0=Mscrm.FormControlInputBehavior.GetBehavior("header_process_customer_i");if($v_0){var $v_1=$v_0.get_typedDataValue();if($v_1){this.AddParam("queryapi","CRMIncident.RollUpByParentCustomerId");this.AddParam("oId",$v_1[0].id);this.AddParam("oTypeName",$v_1[0].typename)}else if(!isNullOrEmptyString(XUI.Html.GetText($v_0.getLookupField()))&&!$v_0.IsValid()){Array.clear(this.get_searchRecords());Mscrm.FormInputControl.LookupUIBehavior.prototype.showInlineLookupMenu.call(this);return}}Mscrm.FormInputControl.LookupUIBehavior.prototype.showSearchResults.call(this)},showLookupDialog:function(item){this.set_additionalParams(null);Mscrm.FormInputControl.LookupUIBehavior.prototype.showLookupDialog.call(this,item)},getLookupSearchText:function(){var $v_0=this.Items(false,false,false,false,false);if(IsNull($v_0)||!$v_0.length)return Mscrm.FormInputControl.LookupUIBehavior.prototype.getLookupSearchText.call(this);else return ""},showAddNewButton:function(){if(isNullOrEmptyString(this.get_incidentId()))return true;return false},showResultsForUnresolved:function(){Mscrm.FormInputControl.LookupUIBehavior.prototype.showResultsForUnresolved.call(this);var $v_0=this.Items(false,true,false,false,false);(IsNull($v_0)||!$v_0.length)&&this.showSearchResults()},isMruEnabled:function(){return false},IsValid:function(){return Mscrm.InlineLookupUtility.$4z(this,this.$3_5)},verify:function(){return Mscrm.InlineLookupUtility.$3v(this,this.$3_5)},showErrorMessage:function(message,iconPath){Mscrm.InlineLookupUtility.$3q(message,iconPath,this.$3_5)},initializeLookupPresence:function(){},queryLookupPresence:function(spans){}};Mscrm.InlinePartyListBehavior=function($p0){Mscrm.InlinePartyListBehavior.initializeBase(this,[$p0])};Mscrm.InlinePartyListBehavior.prototype={GetDataXml:function($p0){var $v_0=this.Items(false,true,false,false,false),$v_1=isNullOrEmptyString($p0)?this.get_element().id:$p0;return Mscrm.Utilities.partyListXml($v_1,$v_0)}};Mscrm.InlineFlyOutDialog=function(){Mscrm.InlineFlyOutDialog.initializeBase(this)};Mscrm.InlineFlyOutDialog.prototype={setFocusOnFirstElement:function(){var $v_0=Sys.UI.Behavior.getBehaviors(this.get_firstTabAbleElement());if(IsNull($v_0)||!$v_0.length)return;if(IsNull($v_0[0].get_view()))return;var $$t_1=this;window.setTimeout(function(){$v_0[0].get_view().get_state().set_currentState($$t_1.$6q_1($v_0[0].get_view()))},0)},$6q_1:function($p0){if(Mscrm.InlineOptionSetControlView.isInstanceOfType($p0))return Mscrm.ChromeState.editHint;return Mscrm.ChromeState.edit},configureButtons:function(){if(this.get_isCompositeFlyOut()){var $v_0=[];Array.add($v_0,new Mscrm.FlyOutButton(window.LOCID_FLYOUT_CONFIRM,this.$$d_onConfirmButtonClick||(this.$$d_onConfirmButtonClick=Function.createDelegate(this,this.onConfirmButtonClick))));this.get_options().setButtons($v_0)}else Mscrm.FlyOutDialog.prototype.configureButtons.call(this)}};Mscrm.ErrorDisplayContainerProviderFactory=function(){};Mscrm.ErrorDisplayContainerProviderFactory.createFormErrorDisplayContainerProvider=function(){var $v_0=new Mscrm.FormErrorDisplayContainerProvider;return $v_0};Mscrm.FlyoutDialogErrorDisplayContainerProvider=function(parentContainerId){Mscrm.FlyoutDialogErrorDisplayContainerProvider.initializeBase(this);if(!IsNull(parentContainerId))this.$4B_1=parentContainerId};Mscrm.FlyoutDialogErrorDisplayContainerProvider.prototype={$4B_1:null,getDisplayContainer:function(view){return $P_CRM("#"+this.$4B_1)}};Mscrm.ErrorDisplayContainerProviderBase=function(){};Mscrm.ErrorDisplayContainerProviderBase.prototype={getDisplayContainer:function(view){if(Mscrm.SimpleInlineControlView.isInstanceOfType(view)){var $v_0=view,$v_1=$v_0.get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeForErrorDisplayContainer);if(!isNullOrEmptyString($v_1))return $P_CRM("#"+$v_1)}return null}};Mscrm.FormErrorDisplayContainerProvider=function(){Mscrm.FormErrorDisplayContainerProvider.initializeBase(this)};Mscrm.FormErrorDisplayContainerProvider.prototype={getDisplayContainer:function($p0){var $v_0=Mscrm.ErrorDisplayContainerProviderBase.prototype.getDisplayContainer.call(this,$p0);if(!IsNull($v_0))return $v_0;var $v_1=$p0.get_controlId();if($v_1.startsWith("header_"))return this.$6v_1();if($v_1.startsWith("footer_"))return this.$6r_1();if($v_1.indexOf("compositionLinkControl")>=0)return this.$6t_1();return this.$6s_1()},$6v_1:function(){return $P_CRM("#formHeaderContainer")},$6r_1:function(){return $P_CRM("#mainContainer")},$6s_1:function(){return $P_CRM("#areaForm").children(":first-child")},$6t_1:function(){return $P_CRM("#tdAreas")}};Mscrm.MobileErrorDisplayContainerProvider=function(){Mscrm.MobileErrorDisplayContainerProvider.initializeBase(this)};Mscrm.MobileErrorDisplayContainerProvider.prototype={getDisplayContainer:function($p0){var $v_0=Mscrm.ErrorDisplayContainerProviderBase.prototype.getDisplayContainer.call(this,$p0);if(!IsNull($v_0))return $v_0;var $v_1=$P_CRM("#"+$p0.get_controlId());return $v_1.siblings(".ms-crm-Mobile-Validation")}};Mscrm.DefaultErrorDisplayContainerProvider=function(){Mscrm.DefaultErrorDisplayContainerProvider.initializeBase(this)};Mscrm.DefaultErrorDisplayContainerProvider.prototype={getDisplayContainer:function($p0){var $v_0=Mscrm.ErrorDisplayContainerProviderBase.prototype.getDisplayContainer.call(this,$p0);if(!IsNull($v_0))return $v_0;return $P_CRM(window.document.body)}};Mscrm.ErrorFlyout=function(anchor,messageContainer,contentContainer){this.$$d_$82_0=Function.createDelegate(this,this.$82_0);if(!IsNull(anchor)&&!IsNull(messageContainer)){this.$1j_0=anchor;this.$r_0=messageContainer;this.$16_0=contentContainer;this.$19_0=$P_CRM("<span></span>").addClass("ms-crm-Inline-ErrorArrowIcon").append($P_CRM(Mscrm.ImageStrip.getImage(Mscrm.CrmUri.create("/_imgs/inlineedit/arrow.png"))).attr("alt","")).hide().insertAfter(this.$r_0);$P_CRM(window).resize(this.$$d_$82_0)}};Mscrm.ErrorFlyout.prototype={$16_0:null,$19_0:null,$1j_0:null,$r_0:null,get_zIndex:function(){return Mscrm.Utilities.parseInt(this.$19_0.css("z-index"))},set_zIndex:function(value){this.$19_0.css("z-index",value.toString());this.$r_0.css("z-index",value.toString());return value},$4X_0:function($p0,$p1,$p2){var $v_0=Mscrm.Utilities.getXYPos($p0[0],!Mscrm.Utilities.get_isLeftToRight(),this.$16_0[0]),$v_1=$p2.outerWidth(),$v_2=$p2.outerHeight(false),$v_3=this.$16_0.outerWidth(),$v_4=this.$16_0.outerHeight(),$v_5=$p1.outerWidth(),$v_6=$p1.outerHeight(),$v_7=$v_0["x"]+$p0.outerWidth()/2-$v_1/2,$v_8=$v_0["y"]+$p0.outerHeight(false),$v_9=$v_8+$v_2,$v_A=$v_7-$v_5/2+$v_1/2;if($v_A+$v_5>$v_3){var $v_B=$v_A+$v_5-$v_3;$v_A-=$v_B}if($v_A<0)$v_A=0;if($v_9+$v_6>$v_4){$v_8=$v_0["y"]-$v_2;$v_9=$v_8-$v_6;$p2.children().addClass("ms-crm-VerticalFlip");$p2.addClass("ms-crm-VerticalFlipMargin")}else if($p2.hasClass("ms-crm-VerticalFlipMargin")){$p2.removeClass("ms-crm-VerticalFlipMargin");$p2.children().removeClass("ms-crm-VerticalFlip")}$p2.css("top",$v_8+"px");$p2.css("left",$v_7+"px");$p1.css("left",$v_A+"px");$p1.css("top",$v_9+"px")},showError:function(errorMessage){this.$r_0.text(errorMessage);var $$t_1=this;window.setTimeout(function(){$$t_1.$19_0.show();$$t_1.$r_0.show();$$t_1.$1j_0.show();$$t_1.$4X_0($$t_1.$1j_0,$$t_1.$r_0,$$t_1.$19_0)},0)},hideError:function(hideAnchor){var $$t_1=this;window.setTimeout(function(){!IsNull(hideAnchor)&&hideAnchor&&$$t_1.$1j_0.hide();$$t_1.$19_0.hide();$$t_1.$r_0.hide()},0)},$82_0:function($p0){this.$5S_0(this.$r_0)&&this.$4X_0(this.$1j_0,this.$r_0,this.$19_0)},$5S_0:function($p0){return $p0.css("display")==="block"},dispose:function(){$P_CRM(window).unbind("resize",this.$$d_$82_0)}};Mscrm.InlineEditDropDownFlyOut=function(element){this.$$d_$84_3=Function.createDelegate(this,this.$84_3);this.$$d_$7A_3=Function.createDelegate(this,this.$7A_3);this.$$d_$3l_3=Function.createDelegate(this,this.$3l_3);this.$$d_$3m_3=Function.createDelegate(this,this.$3m_3);this.$$d_$75_3=Function.createDelegate(this,this.$75_3);this.$$d_$4q_3=Function.createDelegate(this,this.$4q_3);this.$$d_$7j_3=Function.createDelegate(this,this.$7j_3);this.$$d_$83_3=Function.createDelegate(this,this.$83_3);Mscrm.InlineEditDropDownFlyOut.initializeBase(this,[element]);this.$1p_3=element;this.$3P_3=$P_CRM(this.$1p_3.parentNode.parentNode);var $v_0=this.$3P_3.siblings(".ms-crm-Grid-Title");this.$2U_3=$v_0.children(".ms-crm-hidden-container-error").first();this.$P_3=$v_0.children(".ms-crm-List-ErrorStatusIcon").first();var $v_1=this.$3P_3.parents(".ms-crm-grid-titlecontainer"),$v_2=$v_1.outerWidth()-Mscrm.ErrorFlyOutConstant.flyOutMargin;$v_0.find(".ms-crm-hidden-container-error").addClass("ms-crm-Inline-Validation").css("width",$v_2+"px");this.$2Q_3=true};Mscrm.InlineEditDropDownFlyOut.prototype={ParentGridId:null,ConnectionToCategory:null,$5_3:null,$1p_3:null,$48_3:false,$4_3:null,$47_3:false,$9_3:null,$3T_3:null,$S_3:null,$2Q_3:false,$4H_3:null,$3P_3:null,$P_3:null,$2U_3:null,$X_3:null,$12_3:null,$41_3:null,$k_3:null,$3d_3:null,get_$1g_3:function(){if(IsNull(this.$9_3))this.$9_3=new Mscrm.ErrorFlyout(this.$P_3,this.$2U_3,$P_CRM(window.document.body));return this.$9_3},initialize:function(){if($P_CRM("#hiddenEditPrivilegeCheck_"+this.ParentGridId).length<=0)return;var $v_0=$P_CRM("#hiddenEditPrivilegeCheck_"+this.ParentGridId);this.$3T_3=$v_0.html();Mscrm.CrmUIControl.prototype.initialize.call(this);this.$5_3=$find(this.ParentGridId);this.$5_3.add_onRefresh(this.$$d_$83_3)},$83_3:function($p0,$p1){if(!this.$48_3){this.$4g_3();this.$6h_3()}if(!IsNull(this.$4_3)){if(!this.$47_3){this.$4V_3();this.$4U_3()}this.$12_3=$P_CRM("");$P_CRM(this.$5_3.get_element()).find(".ms-crm-List-Row-Lite").each(this.$$d_$7j_3)}},$6h_3:function(){var $v_0=new RemoteCommand("Connection","SerializeConnectionRoles",null);$v_0.SetParameter("connectionToCategory",this.ConnectionToCategory);this.$4H_3=$v_0.Execute(null).ReturnValue.toString()},$77_3:function($p0,$p1){var $v_0=$P_CRM($P_CRM.parseXML(this.$4H_3)),$v_1=new Sys.StringBuilder,$$t_9=this;$v_0.find("connectionrole").each(function($p1_0,$p1_1){var $v_3=$P_CRM($p1_1).find("connectionroleid").text(),$v_4=$P_CRM($p1_1).find("name").text();$v_1.append(String.format('<option value="{0}" title="{2}">{1}</option>',CrmEncodeDecode.CrmHtmlAttributeEncode($v_3),CrmEncodeDecode.CrmHtmlEncode($v_4),CrmEncodeDecode.CrmHtmlAttributeEncode($v_4)))});var $v_2=Math.min(10,$v_0.find("connectionrole").length).toString();this.$S_3=$P_CRM(String.format('<select id="edit_connection_select_{0}" class="ms-crm-Inline-OptionSet-AutoOpen noScroll ui-InlineEditDropDown-Content-Select" size={1}>{2}</select>',CrmEncodeDecode.CrmHtmlAttributeEncode(this.$5_3.get_id()),CrmEncodeDecode.CrmHtmlAttributeEncode($v_2),$v_1.toString()));this.$59_3($p0,$p1);this.$3d_3=$P_CRM(String.format('<form id="edit_connection_form_{0}" class="ui-InlineEditDropDown-Content-Form"></form>',CrmEncodeDecode.CrmHtmlAttributeEncode(this.$5_3.get_id())));this.$3d_3.append(this.$S_3);this.$4_3.setContent(this.$3d_3)},$4g_3:function(){this.$4_3=new Mscrm.InlineFlyOutDialog;this.$4_3.get_options().set_dialogClass("ui-dialog-minimal");this.$4_3.get_options().set_width(150);this.$4_3.get_options().set_height(17);this.$4_3.set_position(Mscrm.FlyOutPosition.custom);this.$4_3.get_options().set_showCloseButton(false);this.$4_3.get_options().set_showButtonPane(false);this.$4_3.get_options().set_closeOnEscape(false);this.$4_3.get_options().set_dialogClass("ui-dialog-minimal-SubGrid-InlineEdit");this.$4_3.get_options().set_applyAnchorClassChange(false);this.$4_3.get_options().set_modal(false);this.$4_3.get_options().set_letjQueryHandleTabbing(true);this.$48_3=true;this.$4_3.set_shouldDisposeContent(false)},$4V_3:function(){$P_CRM("body").click(this.$$d_$4q_3);this.$4_3.bind(Mscrm.FlyOutDialogEventName.canceled,this.$$d_$75_3);this.$47_3=true},$4q_3:function($p0){!IsNull(this.$4_3.dialogChrome())&&!IsNull(this.$12_3)&&!this.$12_3.is($p0.target)&&!this.$12_3.has($p0.target).length&&!this.$4_3.dialogChrome().is($p0.target)&&!this.$4_3.dialogChrome().has($p0.target).length&&this.$4_3.hide()},$4U_3:function(){this.$P_3.mouseover(this.$$d_$3m_3).mouseout(this.$$d_$3l_3);var $v_0=this.$P_3.children("a");$v_0.focus(this.$$d_$3m_3);$v_0.blur(this.$$d_$3l_3);var $$t_2=this;this.$k_3=function(){$$t_2.$2s_3()};Mscrm.InlineEditDataService.get_dataService().add_entitySaved(this.$k_3);var $$t_3=this;$addHandler(window,"unload",function($p1_0){if(IsNull($$t_3.$k_3))return;!Mscrm.InlineEditDataService.get_dataService().get_isDisposed()&&Mscrm.InlineEditDataService.get_dataService().remove_entitySaved($$t_3.$k_3);$$t_3.$k_3=null})},$2s_3:function(){this.$P_3.hide();if(!IsNull(this.$9_3)){this.$9_3.hideError();this.$X_3=null}},$75_3:function($p0){this.$4_3.hide();this.$41_3.focus()},$7A_3:function($p0){this.$4_3.get_visible()&&this.$3o_3()},$3o_3:function(){$P_CRM(window).unbind("resize",this.$$d_$7A_3);this.$S_3.removeAttr("disabled");this.$4_3.hide();var $$t_0=this;window.setTimeout(function(){$P_CRM($$t_0.$1p_3).focus()},10)},$7j_3:function($p0,$p1){var $v_0=$P_CRM("span[onclick]",$p1).eq(1),$v_1=$v_0.parents("a[onclick]").first(),$v_2=$v_0.parents("td").first(),$v_3=$P_CRM("span[onclick]",$p1).first().parents(".ms-crm-List-Row-Lite").attr("oid"),$v_4=$v_0.attr("oid");$v_4=$v_4.substring(1,$v_4.length-1).toLowerCase();$v_0.removeAttr("onclick");$v_1.removeAttr("onclick");$v_1.attr("href","#"+CrmEncodeDecode.CrmHtmlAttributeEncode($v_3)+"_ConnectionRoleType");$v_1.attr("style","cursor:default;");$v_0.attr("title",null);$v_1.attr("title",null);$v_2.attr("title",this.$3T_3);$v_1.removeClass();$v_1.addClass("ms-crm-SubGrid-InlineEdit-Anchor");$v_0.removeClass();$v_0.addClass("ms-crm-SubGrid-InlineEdit-Span");var $v_5=String.format('<div class="ms-crm-Hidden-NoBehavior">{0}</div>',this.$3T_3),$v_6=$P_CRM($v_5);$v_0.append($v_6);var $v_7=this.$6N_3($v_2);this.$5T_3($v_7);this.$12_3=this.$12_3.add($v_2);var $$t_B=this;$v_2.click(function($p1_0){$$t_B.$8g_3($v_3,$v_4,$v_7)});$v_2.addClass("ms-crm-List-RoleDataCell-Lite")},$6N_3:function($p0){$p0.wrapInner('<div class="ms-crm-SubGrid-InlineEdit-Nobr-Div" style="'+(Mscrm.Utilities.get_isLeftToRight()?"margin-right:":"margin-left:")+11+'px;"></div>');$p0.wrapInner('<div class="ms-crm-SubGrid-InlineEdit"></div>');return $p0.find('div[class="ms-crm-SubGrid-InlineEdit"]').first()},$5T_3:function($p0){$p0.append('<img class="ms-crm-List-DataCell-DropDown-Chevron" src="/_imgs/grid/InlineEditDropDownChevron.png"/>')},$8g_3:function($p0,$p1,$p2){this.$2s_3();this.$4_3.set_dialogLeft($p2.offset().left);this.$4_3.set_dialogTop($p2.offset().top);if(this.$2Q_3){this.$77_3($p2,$p1);this.$5p_3()}$P_CRM(window).resize(this.$$d_$7A_3);this.$41_3=$p2.find("a");this.$59_3($p2,$p1);Mscrm.InlineEditDropDownFlyOut.$3a=$p0;this.$4_3.show($p2,$P_CRM("#crmFormTabContainer"));if(this.$2Q_3){this.$S_3=this.$4_3.dialogChrome().find("select");this.$2Q_3=false}this.$S_3.focus();this.$4_3.dialogChrome().css("width",this.$S_3.outerWidth().toString()+"px");this.$4_3.dialogChrome().find("form").first().css("height","auto").css("margin","0px");this.$4_3.dialogChrome().position({my:"left top",at:"left top",of:$p2})},$59_3:function($p0,$p1){this.$S_3.css("width",$p0.width().toString()+"px");this.$S_3.find(String.format("option[value='{{{0}}}']",$p1.toUpperCase())).attr("selected","selected")},$5p_3:function(){var $$t_1=this;this.$S_3.keydown(function($p1_0){($p1_0.which===13||$p1_0.which===9)&&$$t_1.$5R_3($$t_1.$S_3)});if(window.UseTabletExperience)this.$S_3.change(this.$$d_$84_3);else this.$S_3.click(this.$$d_$84_3)},$84_3:function($p0){this.$5R_3(this.$S_3)},$5R_3:function($p0){$p0.attr("disabled","disabled");var $$t_6=this;$p0.find("option:selected").each(function($p1_0,$p1_1){Mscrm.InlineEditDataService.updateConnection(Mscrm.InlineEditDropDownFlyOut.$3a,$p1_1.getAttribute("value"),function($p2_0){$$t_6.$3o_3();$$t_6.$5_3.Refresh();return true},function($p2_0){$$t_6.$3o_3();$$t_6.$P_3.css("display","inline-block");var $v_0=$p2_0["_error"];if(!IsNull($v_0))$$t_6.$X_3=$v_0["DisplayText"];else $$t_6.$X_3="";return true})})},$3m_3:function($p0){if(!IsNull(this.$X_3)){$p0.stopImmediatePropagation();this.get_$1g_3().showError(this.$X_3)}},$3l_3:function($p0){!IsNull(this.$X_3)&&!IsNull(this.$9_3)&&this.$9_3.hideError()},dispose:function(){if(this.get_isDisposed())return;this.$5_3.remove_onRefresh(this.$$d_$83_3);$P_CRM("body").unbind("click",this.$$d_$4q_3);!IsNull(this.$S_3)&&this.$S_3.unbind();!IsNull(this.$12_3)&&this.$12_3.unbind();if(!IsNull(this.$4_3)){this.$4_3.unbind();this.$4_3.dispose()}this.$4_3=null;this.$P_3.unbind();!IsNull(this.$9_3)&&this.$9_3.dispose();Mscrm.CrmUIControl.prototype.dispose.call(this)}};Mscrm.FlyOutMenu=function(){};Mscrm.FlyOutMenu.createFlyOut=function(flyOutMenuDescriptor){var $v_0=Mscrm.FlyOutMenu.createFlyOutContent(flyOutMenuDescriptor.menuSections),$v_1=new Mscrm.FlyOutDialog;$v_1.setContent($v_0);$v_1.get_options().set_showButtonPane(false);$v_1.get_options().set_closeOnEscape(true);$v_1.get_options().set_applyAnchorClassChange(false);$v_1.get_options().set_dialogClass(flyOutMenuDescriptor.cssClass);flyOutMenuDescriptor.width&&$v_1.get_options().set_width(flyOutMenuDescriptor.width);return $v_1};Mscrm.FlyOutMenu.createFlyOutContent=function(menuSections){for(var $v_0=$P_CRM(document.createElement("div")),$$arr_2=menuSections,$$len_3=$$arr_2.length,$$idx_4=0;$$idx_4<$$len_3;++$$idx_4){var $v_1=$$arr_2[$$idx_4],$v_2=Mscrm.FlyOutMenu.createSection($v_1,$v_1.clickHandler);$v_0.append($v_2)}return $v_0};Mscrm.FlyOutMenu.createSection=function(menuSection,clickHandler){var $v_0=$P_CRM(document.createElement("div"));$v_0.addClass(menuSection.cssClass);!isNullOrEmptyString(menuSection.id)&&$v_0.attr("id",menuSection.id);if(!isNullOrEmptyString(menuSection.displayName)){var $v_1=$P_CRM(document.createElement("label"));$v_1.text(menuSection.displayName||"");$v_0.append($v_1)}if(IsNull(menuSection.menuListItems))return $v_0;for(var $$arr_4=menuSection.menuListItems,$$len_5=$$arr_4.length,$$idx_6=0;$$idx_6<$$len_5;++$$idx_6){var $v_2=$$arr_4[$$idx_6];$v_0.append(Mscrm.FlyOutMenu.createMenuListItem($v_2,clickHandler))}return $v_0};Mscrm.FlyOutMenu.createMenuListItem=function(menuListItem,clickHandler){var $v_0=$P_CRM(document.createElement("div"));if(IsNull(menuListItem))return $v_0;!isNullOrEmptyString(menuListItem.id)&&$v_0.attr("id",menuListItem.id);!isNullOrEmptyString(menuListItem.cssClass)&&$v_0.addClass(menuListItem.cssClass);if(!IsNull(menuListItem.content))$v_0.append(menuListItem.content);else!isNullOrEmptyString(menuListItem.displayName)&&$v_0.text(menuListItem.displayName);!isNullOrEmptyString(menuListItem.title)&&$v_0.attr("title",menuListItem.title);!isNullOrEmptyString(menuListItem.tabIndex)&&$v_0.attr("tabindex",menuListItem.tabIndex);$v_0.bind(Mscrm.EventNames.click,menuListItem.data,clickHandler);$v_0.bind(Mscrm.EventNames.keyDown,menuListItem.data,function($p1_0){var $v_1=$p1_0.keyCode===13;if($v_1){clickHandler($p1_0);$p1_0.preventDefault();$p1_0.stopPropagation()}});return $v_0};Mscrm.FlyOutMenuDescriptor=function(){};Mscrm.FlyOutMenuDescriptor.prototype={cssClass:null,width:0,menuSections:null};Mscrm.MenuListItemDescriptor=function(){};Mscrm.MenuListItemDescriptor.prototype={id:null,displayName:null,content:null,title:null,cssClass:null,data:null,tabIndex:null};Mscrm.MenuSectionDescriptor=function(){};Mscrm.MenuSectionDescriptor.prototype={id:null,displayName:null,cssClass:null,data:null,menuListItems:null,clickHandler:null};Mscrm.QuickAddFlyOut=function(element){this.$$d_$6V_3=Function.createDelegate(this,this.$6V_3);this.$$d_$3l_3=Function.createDelegate(this,this.$3l_3);this.$$d_$3m_3=Function.createDelegate(this,this.$3m_3);this.$$d_$4q_3=Function.createDelegate(this,this.$4q_3);this.$$d_$7H_3=Function.createDelegate(this,this.$7H_3);this.$$d_$2x_3=Function.createDelegate(this,this.$2x_3);this.$$d_onClick=Function.createDelegate(this,this.onClick);Mscrm.QuickAddFlyOut.initializeBase(this,[element]);this.$1p_3=element;var $v_0=$P_CRM(this.$1p_3.parentNode.parentNode),$v_1=$v_0.siblings(".ms-crm-Grid-Title");this.$2U_3=$v_1.children(".ms-crm-hidden-container-error").first();this.$1F_3=$v_1.children(".ms-crm-Inline-Lookup-Subgrid").first();this.$P_3=$v_1.children(".ms-crm-List-ErrorStatusIcon").first();this.$2H_3={};this.$2H_3[Mscrm.EntityLogicalNames.Contact]="518D7AAA-3B4C-4041-AD33-A6FD40DF6C81";this.$2H_3[Mscrm.EntityLogicalNames.SystemUser]="20079806-EB84-4093-99AD-BB46435DB028";this.$4_3=null;this.$3I_3=false;var $v_2=$v_0.parents(".ms-crm-grid-titlecontainer"),$v_3=$v_2.outerWidth()-Mscrm.ErrorFlyOutConstant.flyOutMargin;$v_1.find(".ms-crm-hidden-container-error").addClass("ms-crm-Inline-Validation").css("width",$v_3+"px");this.$3w_3=Mscrm.Utilities.createGuid();this.$5_3=null};Mscrm.QuickAddFlyOut.prototype={$2H_3:null,$1p_3:null,$1M_3:null,$i_3:null,$2U_3:null,$P_3:null,$1F_3:null,$9_3:null,$3I_3:false,$3w_3:null,$4_3:null,$1S_3:null,$2R_3:null,$26_3:null,$5_3:null,$46_3:false,$3G_3:null,$z_3:null,$Y_3:null,$3M_3:null,$X_3:null,$k_3:null,AttributeId:null,ConnectionToEntity:null,ConnectionToCategory:null,ParentGridId:null,TeamTemplateId:null,TargetEntityType:null,IsInvokedFromProductFlyOut:false,get_$1g_3:function(){if(IsNull(this.$9_3))this.$9_3=new Mscrm.ErrorFlyout(this.$P_3,this.$2U_3,$P_CRM(window.document.body));return this.$9_3},get_$3i_3:function(){if(IsNull(this.$3M_3))this.$3M_3=this.$4j_3(this.$z_3);return this.$3M_3},initialize:function(){if($P_CRM("#hiddenAddPrivilegeCheck_"+this.ParentGridId).length<=0)return;Mscrm.CrmUIControl.prototype.initialize.call(this);this.$5_3=$find(this.ParentGridId);if(this.IsInvokedFromProductFlyOut)this.$1M_3=$P_CRM("#ExistingProduct");else this.$1M_3=$P_CRM(this.$5_3.get_addContextualButton());this.$5_3.get_gridType()===Mscrm.GridControl.associatedGrid&&this.$4h_3();this.$1M_3.on("click",this.$$d_onClick);$P_CRM(window).resize(this.$$d_$2x_3);this.$2x_3(null);this.$8U_3("data-attributename","data-fdeid","PrimaryEntity");this.$z_3=$P_CRM("#lookup_"+this.AttributeId+"[data-attributename]",this.$1F_3).first()},onClick:function(eventObject){if($P_CRM("#hiddenAddPrivilegeCheck_"+this.ParentGridId).length<=0&&!Mscrm.SessionInfo.isOnline()){alert(window.LOCID_OFFLINE_ADD_RECORD);return}this.$2R_3=$P_CRM("#"+this.AttributeId+"_gridBar");this.$26_3=$P_CRM("#tdAreas");if(IsNull(this.$26_3)||this.$26_3.length<=0)this.$26_3=$P_CRM(".ms-crm-AreaPage");this.$2s_3();!this.$3I_3&&this.$6f_3();if(IsNull(this.$4_3))return;if(!this.$46_3){this.$4V_3();this.$4W_3();this.$4U_3();this.$46_3=true}else if(this.IsInvokedFromProductFlyOut){var $v_0=this.$4n_3();$v_0!==this.$3G_3&&this.$4W_3()}this.$4_3.get_options().set_width($P_CRM(this.$5_3.get_element()).width());this.$5G_3();this.$4_3.show(this.$2R_3,this.$26_3);this.$1S_3.find(".ui-dialog-content").addClass("ui-QuickAddFlyout-Content");this.$1S_3.find(".ui-dialog-content").find("td[style]").first().css("padding-left","0px");this.$1S_3.find("input").val("");this.$2x_3(null)},$2s_3:function(){this.$P_3.hide();if(!IsNull(this.$9_3)){this.$9_3.hideError();this.$X_3=null}},$8U_3:function($p0,$p1,$p2){this.$1F_3.children().first().attr("id","lookup_"+this.ParentGridId);this.$1F_3.children().first().attr($p0,"_"+this.ParentGridId);this.$1F_3.children().first().attr($p1,$p2)},$5G_3:function(){this.$4_3.set_dialogLeft($P_CRM(this.$5_3.get_element()).offset().left);this.$4_3.set_dialogTop(this.$2R_3.offset().top+this.$2R_3.outerHeight())},$6f_3:function(){this.$4g_3();this.$3I_3=true},$4g_3:function(){this.$4_3=new Mscrm.InlineFlyOutDialog;this.$4_3.setContent(this.$1F_3);this.$6g_3();this.$4_3.get_options().set_dialogClass("ui-dialog-minimal");this.$4_3.get_options().set_height(25);this.$5G_3();this.$4_3.set_position(Mscrm.FlyOutPosition.custom);this.$4_3.set_shouldDisposeContent(false);this.$4_3.get_options().set_showCloseButton(false);this.$4_3.get_options().set_showButtonPane(false);this.$4_3.get_options().set_closeOnEscape(true);this.$4_3.get_options().set_applyAnchorClassChange(false);this.$4_3.get_options().set_modal(false);this.$4_3.get_options().set_letjQueryHandleTabbing(true);this.$1S_3=this.$4_3.dialogChrome()},$6g_3:function(){if(!IsNull(this.$z_3)&&this.$z_3.length>0){var $v_0=this.$z_3.attr("data-attributeName"),$v_1=null;switch(this.TargetEntityType){case Mscrm.EntityLogicalNames.Connection:if(!isNullOrEmptyString(this.ConnectionToEntity))$v_1=this.ConnectionToEntity;else $v_1=this.TargetEntityType;break;case Mscrm.EntityLogicalNames.QuoteDetail:case Mscrm.EntityLogicalNames.OpportunityProduct:case Mscrm.EntityLogicalNames.SalesOrderDetail:case Mscrm.EntityLogicalNames.InvoiceDetail:$v_1=Mscrm.EntityLogicalNames.ProductPriceLevel;break;default:$v_1=this.TargetEntityType;break}this.$Y_3=Mscrm.InlineControlFactory.createInlineLookupControlForDom(this.$z_3,$v_0,$v_1,this.$3w_3,this.$4_3.get_id());this.TargetEntityType===Mscrm.EntityLogicalNames.SystemUser&&Xrm.Page.data.entity.getEntityName()===Mscrm.EntityLogicalNames.Team&&this.$Y_3.get_chromeElement().attr("isInlineNewEnabled","0");this.TargetEntityType===Mscrm.EntityLogicalNames.SocialProfile&&this.$Y_3.get_chromeElement().attr("isInlineNewEnabled","0");var $v_2=this.$5_3.GetParameter("relName");if($v_2==="queuemembership_association"){var $v_3={};$v_3["otype"]=Mscrm.EntityPropUtil.EntityTypeName2CodeMap[$v_1.toLowerCase()];$v_3["otypeTeam"]=Mscrm.EntityPropUtil.EntityTypeName2CodeMap[Mscrm.EntityLogicalNames.Team.toLowerCase()];$v_3["otypename"]=$v_1;$v_3["otypeteamname"]=Mscrm.EntityLogicalNames.Team;var $v_4=String.format("{0}:{1}:{2}",$v_3["otypename"],$v_3["otype"],$v_3["otypename"]),$v_5=String.format("{0}:{1}:{2}",$v_3["otypeteamname"],$v_3["otypeTeam"],$v_3["otypeteamname"]),$v_6=this.$4j_3(this.$z_3);$v_6.set_lookupTypes(String.format("{0},{1}",$v_3["otype"],$v_3["otypeTeam"]));$v_6.set_lookupTypeNames(String.format("{0},{1}",$v_4,$v_5));$v_6.set_lookupBrowse(false);$v_6.populateType()}}},$4j_3:function($p0){var $v_0=$P_CRM("table.ms-crm-Lookup",$p0),$v_1=$v_0[0],$v_2=Mscrm.FormControlInputBehavior.GetElementBehavior($v_1);if(IsNull($v_2)){var $v_3=$P_CRM("td.Lookup_RenderButton_td",$v_1),$v_4=$P_CRM("img",$v_3);$v_2=Mscrm.FormControlInputBehavior.GetElementBehavior($v_4[0])}$v_2=this.$7i_3($v_2);return $v_2},$7i_3:function($p0){var $v_0=this.$4p_3();!isNullOrEmptyString($v_0)&&$p0.set_defaultViewId(this.$4p_3());if(this.IsInvokedFromProductFlyOut){this.$3G_3=this.$4n_3();$p0.AddParam("PriceLevelId",this.$3G_3)}if(this.ParentGridId==="grid_EntitlementContacts"){var $v_1=Xrm.Page.data.entity.attributes.get("customerid").getValue(),$v_2=$v_1[0].type;if($v_2===Mscrm.EntityTypeCode.Account.toString())$p0.set_filterRelationshipId("contact_customer_accounts");else $v_2===Mscrm.EntityTypeCode.Contact.toString()&&$p0.set_filterRelationshipId("contact_customer_contacts");$p0.set_dependantAttributeName("entitlement.customerid");$p0.set_dependantAttributeType($v_2);$p0.AddParam("AllowFilterOff","0")}return $p0},$4n_3:function(){var $v_0=Xrm.Page.data.entity.attributes.get("pricelevelid").getValue(),$v_1=$v_0[0].id;return $v_1},$4V_3:function(){!window.UseTabletExperience&&$P_CRM(window).resize(this.$$d_$7H_3);var $$t_2=this;this.$4_3.bind(Mscrm.FlyOutDialogEventName.visibleChanged,function($p1_0){var $v_0=$$t_2.$4_3.get_visible();if(!IsNull($$t_2.$Y_3)&&!$v_0&&!$$t_2.$Y_3.get_isValid()){$$t_2.$Y_3.get_dataContext().set_editValue("");if($$t_2.$Y_3.get_isValid());}});$P_CRM("body").click(this.$$d_$4q_3)},$7H_3:function($p0){this.$4_3.hide()},$4U_3:function(){this.$P_3.mouseover(this.$$d_$3m_3).mouseout(this.$$d_$3l_3);var $v_0=this.$P_3.children("#ErrorStatusIcon_"+this.AttributeId);$v_0.focus(this.$$d_$3m_3);$v_0.blur(this.$$d_$3l_3);var $$t_2=this;this.$k_3=function(){$$t_2.$2s_3()};Mscrm.InlineEditDataService.get_dataService().add_entitySaved(this.$k_3);var $$t_3=this;$addHandler(window,"unload",function($p1_0){if(IsNull($$t_3.$k_3))return;!Mscrm.InlineEditDataService.get_dataService().get_isDisposed()&&Mscrm.InlineEditDataService.get_dataService().remove_entitySaved($$t_3.$k_3);$$t_3.$k_3=null})},$4q_3:function($p0){var $v_0=this.$1M_3;if(this.$5_3.get_gridType()===Mscrm.GridControl.associatedGrid&&!IsNull(this.$i_3)){this.$4h_3();$v_0=this.$i_3}var $v_1=String.format("{0}|{1}|SubGridAssociated|Mscrm.SubGrid.{0}.{2}",this.$5_3.get_entityTypeName(),this.$5_3.get_getRelationshipTypeName(),"AddExistingMemberAssoc"),$v_2=$P_CRM($get($v_1)),$v_3=$P_CRM($p0.target),$$t_9=this,$v_4=$v_3.parents().filter(function($p1_0){return $v_3.parents().eq($p1_0).css("z-index")!=="auto"}).first().css("z-index");if(isNullOrEmptyString($v_4))$v_4="0";var $v_5=parseInt($v_4,10),$v_6=isNaN($v_5)||$v_5<=999;if(!IsNull(this.$1S_3)&&!this.$1S_3.has($p0.target).length&&!$v_0.is($p0.target)&&!$v_0.has($p0.target).length&&!$v_2.is($p0.target)&&!$v_2.has($p0.target).length&&$v_6&&!IsNull(this.$Y_3)){this.$Y_3.get_state().set_currentState(Mscrm.ChromeState.read);this.$4_3.hide()}},$6V_3:function($p0){var $v_0=this.get_$3i_3();switch($p0.keyCode){case 27:if(!$v_0.isMruVisible()){this.$Y_3.get_state().set_currentState(Mscrm.ChromeState.read);this.$4_3.hide();this.$5_3.get_addContextualButton().focus();$p0.stopPropagation();$p0.preventDefault()}break}},$4W_3:function(){var $v_0=this.get_$3i_3(),$v_1=$v_0.getLookupEdit();$addHandler($v_1.parentNode,"keydown",this.$$d_$6V_3);var $$t_D=this;$v_0.add_change(function($p1_0,$p1_1){var $v_2=$p1_0,$v_3=$p1_1,$v_4=$v_3.get_result().items;if(IsNull($v_4)||!$v_4.length)return;var $v_5=$v_2.Items(false,false,false,false,false);if(IsNull($v_5)||$v_5.length<1)return;setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.StartAddingConnection);setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.StartAddingCompetitor);$$t_D.$4_3.hide();$v_0.Clear(false);for(var $v_6=false,$v_7=0;$v_7<$v_5.length;$v_7++){var $v_8=$v_5[$v_7].id;switch($$t_D.TargetEntityType){case Mscrm.EntityLogicalNames.Connection:$v_6=true;$$t_D.$62_3($v_8,$$t_D.$2H_3[$$t_D.ConnectionToEntity].toString());break;case Mscrm.EntityLogicalNames.Competitor:var $v_9=Number.parseInvariant($$t_D.$5_3.GetParameter("oType")),$v_A=Mscrm.InlineEditDataService.get_formEntity();if(!IsNull($v_A)&&($v_9===Mscrm.EntityTypeCode.Lead||$v_9===Mscrm.EntityTypeCode.Opportunity)){$v_6=true;$$t_D.$5g_3($v_8)}break;case Mscrm.EntityLogicalNames.OpportunityProduct:case Mscrm.EntityLogicalNames.QuoteDetail:case Mscrm.EntityLogicalNames.SalesOrderDetail:case Mscrm.EntityLogicalNames.InvoiceDetail:$v_6=true;$$t_D.$6M_3($$t_D.TargetEntityType,$v_5[$v_7]);break;case Mscrm.EntityLogicalNames.SystemUser:if(!isNullOrEmptyString($$t_D.TeamTemplateId)){$v_6=true;$$t_D.$5c_3($v_8,$$t_D.TeamTemplateId)}break}}!$v_6&&$$t_D.$76_3($v_3.get_result());window.setTimeout(function(){$P_CRM($$t_D.$5_3.get_addContextualButton()).focus()},60)})},$4h_3:function(){var $v_0=String.format("{0}|{1}|SubGridAssociated|Mscrm.SubGrid.{0}.{2}",this.$5_3.get_entityTypeName(),this.$5_3.get_getRelationshipTypeName(),"AddExistingStandard"),$v_1=String.format("{0}|{1}|SubGridAssociated|Mscrm.SubGrid.{0}.{2}",this.$5_3.get_entityTypeName(),this.$5_3.get_getRelationshipTypeName(),"AddExistingAssoc"),$v_2=String.format("{0}|{1}|SubGridAssociated|Mscrm.SubGrid.{0}.{2}",this.$5_3.get_entityTypeName(),this.$5_3.get_getRelationshipTypeName(),"AddExistingMemberAssoc");this.$i_3=$P_CRM($get($v_1));if(IsNull(this.$i_3)||!this.$i_3.length){this.$i_3=$P_CRM($get($v_0));if(IsNull(this.$i_3)||!this.$i_3.length)this.$i_3=$P_CRM($get($v_2))}},$62_3:function($p0,$p1){var $$t_3=this,$$t_4=this;Mscrm.InlineEditDataService.createConnection($p0,this.ConnectionToEntity,$p1,function(){setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.FinishAddingConnection);$$t_3.$5_3.Refresh();setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.FinishRefreshingSubGridLite);return true},function($p1_0){$$t_4.$2z_3($p1_0);return true})},$5c_3:function($p0,$p1){var $$t_3=this,$$t_4=this;Mscrm.InlineEditDataService.addUserToRecordAccessTeam($p0,$p1,function(){$$t_3.$5_3.Refresh();return true},function($p1_0){$$t_4.$2z_3($p1_0);return true})},$5g_3:function($p0){var $$t_2=this,$$t_3=this;Mscrm.InlineEditDataService.associateToCompetitor($p0,function(){setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.FinishAddingCompetitor);setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.FinishAddingConnection);$$t_2.$5_3.Refresh();setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.FinishRefreshingSubGridLite);return true},function($p1_0){$$t_3.$2z_3($p1_0);return true})},$6M_3:function($p0,$p1){var $v_0=$p1.keyValues,$v_1=$p1.id,$v_2=$v_0["productid"].value,$v_3=0,$v_4=1,$v_5=0,$v_6="{00000000-0000-0000-0000-000000000000}",$v_7=-99,$v_8=Mscrm.EntityPropUtil.EntityTypeName2CodeMap[$p0];if($v_8>0){var $$t_C=this,$$t_D=this;Mscrm.InlineEditDataService.createProduct(true,$v_8,$v_1,$p0,$v_2,$v_3,$v_4,$v_5,$v_6,$v_7,function(){$$t_C.$5_3.Refresh();Mscrm.GridControlLite.recalculateRecord();return true},function($p1_0){$$t_D.$2z_3($p1_0);return true})}},$76_3:function($p0){var $v_0=Number.parseInvariant(this.$5_3.GetParameter("otc")),$v_1=Number.parseInvariant(this.$5_3.GetParameter("oType")),$v_2=this.$5_3.GetParameter("oId"),$v_3=GetParentObject($v_2,$v_1),$v_4=this.$5_3.get_addContextualButton().attributes.getNamedItem("action").value;if(this.$5_3.get_gridType()===Mscrm.GridControl.associatedGrid)$v_4=this.$i_3.attr("command");if($v_4.indexOf("AddExistingRecordFromSubGridAssociated")>-1||$v_4.indexOf("AddExistingMemberFromSubGridAssociated")>-1)this.$5V_3($v_0,$p0,this.$5_3,$v_3);else $v_4.indexOf("AddExisting")>-1&&this.$5W_3($v_0,$p0,this.$5_3,$v_3);!IsNull(window.IS_OUTLOOK_CLIENT)&&window.IS_OUTLOOK_CLIENT&&this.$8K_3(this.$5_3)},$8K_3:function($p0){var $v_0=$p0.GetParameter("relName"),$v_1=false;switch($v_0){case "queuemembership_association":$v_1=true;break;default:$v_1=false;break}if($v_1){var $v_2=Xrm.Page.data.entity.getEntityName(),$v_3=Xrm.Internal.getEntityCode($v_2),$v_4=Xrm.Page.data.entity.getId();Xrm.Internal.refreshParentGrid($v_3,$v_2,$v_4)}},$5W_3:function($p0,$p1,$p2,$p3){if(!IsNull($p2)){var $v_0=$p2.GetParameter("relName"),$v_1;switch($v_0){case "goal_parent_goal":$v_1=associateGoalAction;break;default:$v_1=window.parent.assocOneToManyAction;if(IsNull($v_1))$v_1=assocOneToManyAction;break}$v_1($p1,$p0,$v_0,$p3)}},$5V_3:function($p0,$p1,$p2,$p3){if(!IsNull($p2)){var $v_0=$p2.GetParameter("relName"),$v_1=$p2.GetParameter("roleOrd"),$v_2=false;switch($p0){case Mscrm.EntityTypeCode.List:switch($v_0){case "campaignactivitylist_association":this.$p_3("associateCampaignActivityAction",$p1,$p0,"",$v_0,$v_1,$p3);break;case "campaignlist_association":this.$p_3("locAssocCampaignAction",$p1,$p0,"subType=targetLists",$v_0,$v_1,$p3);break;case "listlead_association":this.$p_3("associateLeadAction",$p1,$p0,"",$v_0,$v_1,$p3);break;case "listcontact_association":this.$p_3("associateContactAction",$p1,$p0,"",$v_0,$v_1,$p3);break;case "listaccount_association":this.$p_3("associateAccountAction",$p1,$p0,"",$v_0,$v_1,$p3);break;default:$v_2=true;break}break;case Mscrm.EntityTypeCode.Campaign:switch($v_0){case "campaignlist_association":this.$p_3("openListCaAssociation",$p1,$p0,"subType=targetLists",$v_0,$v_1,$p3);break;case "campaigncampaign_association":this.$p_3("locAssocCampaignAction",$p1,$p0,"",$v_0,$v_1,$p3);break;default:$v_2=true;break}break;case Mscrm.EntityTypeCode.Product:switch($v_0){case "productsubstitute_association":this.$p_3("associateProductAction",$p1,$p0,"",$v_0,$v_1,$p3);break;case "productassociation_association":this.$p_3("associateProductAction",$p1,$p0,"",$v_0,$v_1,$p3);break;case "campaignproduct_association":this.$p_3("locAssocCampaignAction",$p1,$p0,"",$v_0,$v_1,$p3);break;default:$v_2=true;break}break;case Mscrm.EntityTypeCode.SystemUser:switch($v_0){case "queuemembership_association":$p1=this.$5t_3($p1);$v_2=true;break;default:$v_2=true;break}break;default:$v_2=true;break}if($v_2){var $v_3=window.parent.locAssocObjAction;if(IsNull($v_3))$v_3=locAssocObjAction;$v_3($p1,$p0,"",$v_0,$v_1,$p3)}}},$5t_3:function($p0){for(var $v_0=new LookupItems,$v_1=0,$v_2=0;$v_2<$p0.items.length;$v_2++)if($p0.items[$v_2].type===Mscrm.EntityPropUtil.EntityTypeName2CodeMap["team"].toString()){var $v_3=new RemoteCommand("UserManager","RetrieveMembers",null);$v_3.SetParameter("teamId",$p0.items[$v_2].id);var $v_4=$v_3.Execute();if($v_4.Success)for(var $v_5=$v_4.ReturnValue.toString(),$v_6=XUI.Xml.LoadXml($v_5),$v_7=XUI.Xml.SelectNodes($v_6,"/systemusers/systemuser/systemuserid",null),$$arr_9=$v_7,$$len_A=$$arr_9.length,$$idx_B=0;$$idx_B<$$len_A;++$$idx_B){var $v_8=$$arr_9[$$idx_B],$v_9=new LookupItem;$v_9.id=XUI.Xml.GetText($v_8);$v_0.items[$v_1++]=$v_9}}else $v_0.items[$v_1++]=$p0.items[$v_2];return $v_0},$p_3:function($p0,$p1,$p2,$p3,$p4,$p5,$p6){var $v_0=Mscrm.Utilities.createCallbackFunctionObject($p0,window.parent,null,false),$v_1=$v_0.callback;if(IsNull($v_1)){$v_0=Mscrm.Utilities.createCallbackFunctionObject($p0,window,null,false);$v_1=$v_0.callback}$v_1($p1,$p2,$p3,$p4,$p5,$p6)},$4p_3:function(){var $v_0="";switch(this.TargetEntityType){case Mscrm.EntityLogicalNames.QuoteDetail:case Mscrm.EntityLogicalNames.OpportunityProduct:case Mscrm.EntityLogicalNames.SalesOrderDetail:case Mscrm.EntityLogicalNames.InvoiceDetail:$v_0="BE653221-C406-4DD1-BC80-52EC2420BDBA";break;case Mscrm.EntityLogicalNames.List:$v_0="b21acaf1-ab60-4761-bc05-9575784a6f80";break;case Mscrm.EntityLogicalNames.Opportunity:var $v_1=Number.parseInvariant(this.$5_3.GetParameter("oType"));if($v_1===Mscrm.EntityTypeCode.Competitor&&this.ParentGridId==="OpportunityCurrentFiscalYear")$v_0="5cfca9b8-2d7c-e211-bb35-00155d882402";break;case Mscrm.EntityLogicalNames.Incident:if(this.ParentGridId==="ChildCasesGrid")$v_0="CFB670FE-D205-450F-8EDB-8F247081ADB5";break}return $v_0},$2x_3:function($p0){var $v_0=$P_CRM("#"+this.AttributeId+"_titleWithErrors").innerWidth()-4;if(this.$P_3.is(":visible"))$v_0=$v_0-this.$P_3.outerWidth(true);$P_CRM("#"+this.AttributeId+"_titleText").css("max-width",$v_0+"px")},$2z_3:function($p0){this.$P_3.css("display","inline-block");var $v_0=$p0["_error"];if(!IsNull($v_0))this.$X_3=$v_0["DisplayText"];else this.$X_3="";this.$2x_3(null)},$3m_3:function($p0){if(!IsNull(this.$X_3)){$p0.stopImmediatePropagation();this.get_$1g_3().showError(this.$X_3)}},$3l_3:function($p0){!IsNull(this.$X_3)&&!IsNull(this.$9_3)&&this.$9_3.hideError()},dispose:function(){if(this.get_isDisposed())return;var $v_0=this.get_$3i_3();if(!IsNull($v_0)){var $v_1=$v_0.getLookupEdit();$clearHandlers($v_1.parentNode)}$P_CRM(window).unbind("resize",this.$$d_$2x_3);!window.UseTabletExperience&&$P_CRM(window).unbind("resize",this.$$d_$7H_3);!IsNull(this.$1M_3)&&this.$1M_3.off("click",this.$$d_onClick);$P_CRM("body").unbind("click",this.$$d_$4q_3);this.$P_3.unbind();if(!IsNull(this.$Y_3)){this.$z_3.find("input").unbind();this.$Y_3.dispose()}if(!IsNull(this.$4_3)){this.$4_3.unbind();this.$4_3.dispose()}this.$1F_3=null;!IsNull(this.$9_3)&&this.$9_3.dispose();Mscrm.CrmUIControl.prototype.dispose.call(this)}};Mscrm.SwitchProcessFlyOut=function(contentContainer,currentEntityId,currentEntityTypeName){this.$$d_$7k_0=Function.createDelegate(this,this.$7k_0);this.$$d_$7C_0=Function.createDelegate(this,this.$7C_0);this.$$d_$7B_0=Function.createDelegate(this,this.$7B_0);this.$7_0=new Sys.EventHandlerList;this.$3S_0=-1;this.$16_0=contentContainer;this.$3x_0=currentEntityId;this.$3y_0=currentEntityTypeName};Mscrm.SwitchProcessFlyOut.prototype={$3x_0:null,$3y_0:null,$16_0:null,$4_0:null,$2G_0:null,$2D_0:true,get_$8j_0:function(){var $v_0=$get("processControlProcessInfo");return !!$v_0},get_$v_0:function(){return this.$4_0.dialogChrome().find(".ms-crm-ProcessSwitcher-ProcessList")},get_$6b_0:function(){return this.$4_0.dialogChrome().find(".ui-dialog-titlebar").outerHeight()+this.$4_0.dialogChrome().find(".ui-dialog-buttonpane").outerHeight()},$7P_0:function(){var $v_0=new Mscrm.FlyOutDialog;$v_0.setContent(this.$8Q_0());$v_0.get_options().set_showTitlePane(true);$v_0.get_options().set_title(window.LOCID_PROCESS_SWITCH_TITLE);$v_0.get_options().set_width(600);$v_0.get_options().set_height(600);$v_0.set_position(Mscrm.FlyOutPosition.bottom);$v_0.get_options().set_showCloseButton(true);$v_0.get_options().set_showButtonPane(true);$v_0.get_options().set_modal(true);$v_0.get_options().set_letjQueryHandleTabbing(true);$v_0.get_options().set_hideWithClickOnOverlay(false);$v_0.get_options().set_applyAnchorClassChange(false);var $$t_3=this;$v_0.bind(Mscrm.FlyOutDialogEventName.confirmed,function($p1_0){var $v_1=$v_0.dialogChrome().find("input:checked").val();$v_1!==$$t_3.$2G_0&&$$t_3.$8k_0($v_1)});return $v_0},$8X_0:function($p0){var $v_0=$p0.find(".ui-dialog-titlebar-close");$v_0[0].id="SwitchProcess-Close";var $v_1=$p0.find("div.ui-dialog-buttonpane button");$v_1[0].id="SwitchProcess-Select";var $v_2=$v_1.first();$v_2.children("span").text(window.LOCID_PROCESS_SWITCH_SELECT);$v_1[1].id="SwitchProcess-Cancel";for(var $v_3=0;$v_3<$v_1.length;$v_3++)$v_1[$v_3].title=XUI.Html.GetText($v_1[$v_3])},$8Q_0:function(){var $v_0=String.format("\r\n\t\t\t<div>\r\n\t\t\t\t<div class='ms-crm-ProcessSwitcher-Subtitle' title='{1}'>{0}</div>\r\n\t\t\t\t<div class='ms-crm-ProcessSwitcher-ProcessList'></div>\r\n\t\t\t</div>",CrmEncodeDecode.CrmHtmlEncode(window.LOCID_PROCESS_SWITCH_SUBTITLE),CrmEncodeDecode.CrmHtmlAttributeEncode(window.LOCID_PROCESS_SWITCH_SUBTITLE)),$v_1=$P_CRM($v_0);this.$58_0();return $v_1},$58_0:function(){var $v_0=Xrm.Page.context,$v_1=new Sales.Common.CrmSoapServiceProxy.CrmSoapServiceBase($v_0.getClientUrl());$v_1.retrieveFilteredProcesses(Mscrm.InlineEditDataService.get_formEntity().get_typeName()).then(this.$$d_$7B_0,this.$$d_$7C_0)},$7C_0:function($p0){this.$2p_0(true);if(!IsNull($p0.get_organizationServiceFault()))switch($p0.get_organizationServiceFault().get_errorCode()){case Sales.Common.CrmSoapServiceProxy.Faults.SystemErrorCodes.privilegeDenied:this.get_$v_0().text(window.LOCID_PROCESS_SWITCH_NONE_FOUND);break;default:this.get_$v_0().text($p0.get_debugErrorMessage());break}else this.get_$v_0().text($p0.get_debugErrorMessage())},$7B_0:function($p0){var $v_0=this.get_$v_0(),$v_1=$get("processControlProcessInfo");if($v_1)this.$2G_0=$v_1.getAttribute("data-id");for(var $v_2=0;$v_2<$p0.entities.length;$v_2++){var $v_3=this.$8R_0($p0.entities[$v_2]),$v_4=$P_CRM($v_3);$v_0.append($v_4);this.$2G_0===$p0.entities[$v_2].get_id()&&$v_4.find("input").attr("checked","checked");this.$5r_0($v_4)}this.$2p_0(true);if(!$p0.entities.length){this.get_$v_0().append("<p>"+CrmEncodeDecode.CrmHtmlEncode(window.LOCID_PROCESS_SWITCH_NONE_FOUND)+"</p>");return}this.$5n_0();this.$3k_0($v_0)},$5r_0:function($p0){var $$t_2=this;$p0.click(function($p1_0){$p0.find("input").attr("checked","checked");$$t_2.$3k_0($$t_2.get_$v_0())})},$5n_0:function(){var $v_0=this.get_$v_0().find("input"),$$t_2=this;$v_0.bind("change",function($p1_0){$$t_2.$3k_0($$t_2.get_$v_0())})},$8R_0:function($p0){var $v_0=$p0.attributes["description"],$v_1=$p0.attributes["name"].toString(),$v_2=IsNull($v_0)?"":$v_0.toString();return String.format("<div class='ms-crm-ProcessSwitcher-Process'>\r\n\t\t\t\t\t<input type='radio' name='processSwitcherProcess' value='{0}'\r\n\t\t\t\t\t\tid='SwitchProcess-Process-{0}'\r\n\t\t\t\t\t\tclass='ms-crm-ProcessSwitcher-Radio' {3} />\r\n\t\t\t\t\t<div class='ms-crm-ProcessSwitcher-ProcessTitle' title='{4}'>{1}</div>\r\n\t\t\t\t\t<div class='ms-crm-ProcessSwitcher-ProcessDescription' title='{5}'>{2}</div>\r\n\t\t\t\t</div>",CrmEncodeDecode.CrmHtmlAttributeEncode($p0.get_id()),CrmEncodeDecode.CrmHtmlEncode($v_1),CrmEncodeDecode.CrmHtmlEncode($v_2),"",CrmEncodeDecode.CrmHtmlAttributeEncode($v_1),CrmEncodeDecode.CrmHtmlAttributeEncode($v_1))},add_processSwitched:function(value){this.$7_0.addHandler("FlyoutProcessSwitchCompleted",value)},remove_processSwitched:function(value){this.$7_0.removeHandler("FlyoutProcessSwitchCompleted",value)},$3k_0:function($p0){var $v_0=$p0.find(".ms-crm-ProcessSwitcher-Process");$v_0.removeClass("ms-crm-ProcessSwitcher-Process-Selected");var $v_1=$p0.find("input:checked").parents(".ms-crm-ProcessSwitcher-Process");$v_1.addClass("ms-crm-ProcessSwitcher-Process-Selected");$v_1.focus();if(Mscrm.InlineEditDataService.get_formEntity().get_isDisabled()||!this.get_$8j_0()){this.$2p_0(false);return}var $v_2=$v_1.children("input").attr("value");if(isNullOrEmptyString($v_2)||$v_2===this.$2G_0)this.$2p_0(false);else this.$6W_0()},$6W_0:function(){if(!this.$2D_0){this.$4_0.setFlyOutButtonDisplay(Mscrm.FlyOutButtonType.confirm,true);this.$2D_0=true}},$2p_0:function($p0){if(this.$2D_0){this.$4_0.setFlyOutButtonDisplay(Mscrm.FlyOutButtonType.confirm,false);this.$2D_0=false}$p0&&this.$4_0.setFlyOutButtonFocus(Mscrm.FlyOutButtonType.cancel)},$8k_0:function($p0){var $v_0=new RemoteCommand("ProcessControl","ChangeProcessAndStage",null);$v_0.SetParameter("currentEntityId",this.$3x_0);$v_0.SetParameter("currentEntityTypeName",this.$3y_0);$v_0.SetParameter("newProcessId",$p0);$v_0.Execute(this.$$d_$7k_0)},$7k_0:function($p0,$p1){if($p0.Success){var $v_0=this.$7_0.getHandler("FlyoutProcessSwitchCompleted");$v_0&&$v_0(this,Sys.EventArgs.Empty)}},$5q_0:function($p0){var $$t_1=this;$P_CRM(window).resize(function(){window.clearTimeout($$t_1.$3S_0);$$t_1.$3S_0=window.setTimeout(function(){$$t_1.$5D_0($p0)},100)})},$5D_0:function($p0){var $v_0=Math.min(this.$16_0.outerHeight(),600);$p0.find(".ui-dialog-content").height($v_0-this.get_$6b_0());$p0.css("margin-top","-"+($v_0/2).toString()+"px");this.$8c_0($p0)},$8c_0:function($p0){var $v_0=$p0.find(".ms-crm-ProcessSwitcher-Subtitle").outerHeight(),$v_1=$p0.find(".ui-dialog-content").outerHeight(),$v_2=$v_1-$v_0-50;$p0.find(".ms-crm-ProcessSwitcher-ProcessList").height($v_2)},show:function(){if(!this.$4_0){this.$4_0=this.$7P_0();this.$5q_0(this.$4_0.dialogChrome())}else{this.get_$v_0().empty();this.$58_0()}var $v_0=this.$4_0.dialogChrome();this.$4_0.show(this.$16_0);$v_0.css("top","");$v_0.css("left","");$v_0.addClass("ms-crm-ProcessSwitcher-Flyout");$v_0.attr("id","processSwitcherFlyout");this.$5D_0($v_0);this.$8X_0($v_0)}};Mscrm.DeferredInlineEditOnDemandInitializer=function(){this.$1l_0=[]};Mscrm.DeferredInlineEditOnDemandInitializer.get_instance=function(){if(!Mscrm.DeferredInlineEditOnDemandInitializer.$N)Mscrm.DeferredInlineEditOnDemandInitializer.$N=new Mscrm.DeferredInlineEditOnDemandInitializer;return Mscrm.DeferredInlineEditOnDemandInitializer.$N};Mscrm.DeferredInlineEditOnDemandInitializer.prototype={addControl:function(control){Array.add(this.$1l_0,control)},completeDeferredInitialization:function(){while(this.$1l_0.length){var $v_0=this.$1l_0[0];Array.removeAt(this.$1l_0,0);Mscrm.Utilities.isMobileRefresh()&&$v_0.get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeControlInitializing,"1");$v_0.tryCompleteOnDemandInitialization();Mscrm.Utilities.isMobileRefresh()&&$v_0.get_chromeElement().removeAttr(Mscrm.InlineEditConstants.HtmlAttributeControlInitializing)}}};Mscrm.DeferredQuickFormInlineEditInitializer=function(errorDisplayContainerProvider,entitiesMetadata){Mscrm.DeferredQuickFormInlineEditInitializer.initializeBase(this,[errorDisplayContainerProvider,entitiesMetadata])};Mscrm.DeferredQuickFormInlineEditInitializer.prototype={get_name:function(){return "DeferredQuickFormInlineEditInitializer"},get_initializationBatchSize:function(){return 1},collectInlineDomElements:function(){var $v_0=Mscrm.QuickFormInlineEditDomHelper.instance();return !IsNull($v_0)?$v_0.getDeferredQuickFormElements():new Array(0)}};Mscrm.DesktopInlineEditInitializationManager=function(){Mscrm.DesktopInlineEditInitializationManager.initializeBase(this)};Mscrm.DesktopInlineEditInitializationManager.$7Q=function(){var $v_0=0,$v_1=new Array(0);$P_CRM("div["+Mscrm.InlineEditConstants.HtmlAttributeForFormBegin+"]").each(function($p1_0,$p1_1){$v_1[$v_0]=$p1_1;$v_0++;var $v_2=$P_CRM($p1_1),$v_3=$v_2.attr(Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId),$v_4=$v_2.attr(Mscrm.InlineEditConstants.HtmlAttributeForRelationshipName),$v_5=Mscrm.InlineEditUtilities.getLinkedDataObject($v_2),$v_6=Mscrm.InlineEditUtilities.getEntityReference($v_5);Mscrm.InlineEditInitializationManager.createFormDataEntity($v_3,$v_6.Id,$v_6.TypeName,$v_4,$v_6.Name)});return $v_1};Mscrm.DesktopInlineEditInitializationManager.$7U=function(){var $v_0=0,$v_1=new Array(0);$P_CRM("div["+Mscrm.InlineEditConstants.HtmlAttributeForQuickFormCollectionBegin+"]").each(function($p1_0,$p1_1){$v_1[$v_0++]=$p1_1});return $v_1};Mscrm.DesktopInlineEditInitializationManager.prototype={$4D_1:null,$4C_1:null,initializeForROForm:function(entitiesMetadata){if(IsNull(entitiesMetadata))return;var $v_0=Mscrm.DesktopInlineEditInitializationManager.$7Q();this.$4D_1=new Mscrm.QuickFormInitializer($v_0);var $v_1=Mscrm.DesktopInlineEditInitializationManager.$7U();this.$4C_1=new Mscrm.QuickFormCollectionInitializer($v_1);Mscrm.InlineEditInitializationManager.prototype.initializeForROForm.call(this,entitiesMetadata)},initializeControls:function(){if(Mscrm.PageManager.get_isUnloading())return;Mscrm.InlineEditInitializationManager.registerUITabs();Mscrm.InlineEditInitializationManager.initializeNavigationBar();Mscrm.InlineEditInitializationManager.initializeFormSelector();Mscrm.InlineEditInitializationManager.prototype.initializeControls.call(this);var $$t_0=this;Mscrm.OnLoadDeferredExecutor.queueCallback(function(){$$t_0.$4D_1.initializeQuickForm();$$t_0.$4C_1.initializeAllQuickFormCollections();$$t_0.fireEvent("InitializationCompleted",null)},0)}};Mscrm.DomElementInlineEditInitializer=function(errorDisplayContainerProvider,entitiesMetadata,domElements,enableLazyInitialization){this.$34_1=new Array(0);Mscrm.DomElementInlineEditInitializer.initializeBase(this,[errorDisplayContainerProvider,entitiesMetadata]);this.$34_1=domElements;this.$3z_1=enableLazyInitialization};Mscrm.DomElementInlineEditInitializer.prototype={collectInlineDomElements:function(){return this.$34_1},initializeSingleInlineEditControl:function(containerElement){var $v_0=Mscrm.InlineEditInitializerBase.prototype.initializeSingleInlineEditControl.call(this,containerElement);!this.$3z_1&&$v_0.initializeAndRenderEditView();return $v_0},get_initializationBatchSize:function(){return -1},$3z_1:true};Mscrm.InitializationState=function(){};Mscrm.InlineEditControlInitializersFactory=function(){};Mscrm.InlineEditControlInitializersFactory.getInitializers=function(errorDisplayContainerProvider,entitiesMetadata){if(Mscrm.Utilities.isMobileRefresh())return Mscrm.MobileInlineEditControlInitializersFactory.getInitializers(errorDisplayContainerProvider,entitiesMetadata);var $v_0=[];Array.add($v_0,new Mscrm.ViewportInlineEditControlInitializer(errorDisplayContainerProvider,entitiesMetadata));Array.add($v_0,new Mscrm.NonViewportFormBodyInlineEditInitializer(errorDisplayContainerProvider,entitiesMetadata));Array.add($v_0,new Mscrm.DeferredQuickFormInlineEditInitializer(errorDisplayContainerProvider,entitiesMetadata));return $v_0};Mscrm.InlineEditControlInitializersFactory.createDomElementInitializer=function(errorDisplayerContainerProvider,entitiesMetadata,domElements,enableLazyInitialization){var $v_0=new Mscrm.DomElementInlineEditInitializer(errorDisplayerContainerProvider,entitiesMetadata,domElements,enableLazyInitialization);return $v_0};Mscrm.InlineEditInitializationManager=function(){this.$$d_$7N_0=Function.createDelegate(this,this.$7N_0);this.$7_0=new Sys.EventHandlerList};Mscrm.InlineEditInitializationManager.get_instance=function(){if(!Mscrm.InlineEditInitializationManager.$N)if(Mscrm.Utilities.isMobileRefresh())Mscrm.InlineEditInitializationManager.$N=new Mscrm.MobileInlineEditInitializationManager;else Mscrm.InlineEditInitializationManager.$N=new Mscrm.DesktopInlineEditInitializationManager;return Mscrm.InlineEditInitializationManager.$N};Mscrm.InlineEditInitializationManager.createFormDataEntity=function(id,recordId,typeName,relationshipName,recordName){var $v_0={id:id,recordId:recordId,typeName:typeName,relationshipName:relationshipName,recordName:recordName};Mscrm.CrmUIComponent.crmCreate(Mscrm.FormDataEntity,$v_0,null,null,null)};Mscrm.InlineEditInitializationManager.registerUITabs=function(){var $v_0=Xrm.Page.ui;if(IsNull($v_0.tabs))$v_0.tabs=new Mscrm.ClientApiCollection;if(!$v_0.tabs.getLength())for(var $v_1=Mscrm.InlineEditInitializerUtility.$6u(),$v_2=0;$v_2<$v_1.length;$v_2++){var $v_3=$v_1[$v_2],$v_4=new Mscrm.InlineTabControlView($v_3);$v_0.tabs.add($v_4)}};Mscrm.InlineEditInitializationManager.initializeNavigationBar=function(){var $v_0={};$v_0["formNavControl"]="crmNavBar";var $v_1=$create(Mscrm.FormUINavigationBar,null,null,$v_0,null);Xrm.Page.ui.navigation=$v_1.get_wrapper()};Mscrm.InlineEditInitializationManager.initializeFormSelector=function(){var $v_0=$create(Mscrm.FormUIFormSelector,null,null,null,null);Xrm.Page.ui.formSelector=$v_0.getWrapper();Mscrm.OnLoadDeferredExecutor.queueCallback(function(){Mscrm.InlineEditInitializationManager.$7R($v_0)},2)};Mscrm.InlineEditInitializationManager.$7R=function($p0){if(!IsNull($p0.get_formSelector()))return;var $v_0=$find("header_crmFormSelector");if(IsNull($v_0))return;$p0.set_formSelector($v_0);var $v_1=$v_0.get_formIds();if($v_1)for(var $v_2=$v_0.get_formTitles(),$v_3=0;$v_3<$v_1.length;$v_3++)$p0.get_items().add(new Mscrm.FormUIRuleForm($v_1[$v_3],$v_2[$v_3]))};Mscrm.InlineEditInitializationManager.prototype={$1V_0:null,$3H_0:null,get_viewportInitializationState:function(){return this.$3H_0},set_viewportInitializationState:function(value){this.$3H_0=value;return value},add_inlineEditPartialInitializationCompleted:function(value){this.$7_0.addHandler("PartialInitializationCompleted",value)},remove_inlineEditPartialInitializationCompleted:function(value){this.$7_0.removeHandler("PartialInitializationCompleted",value)},add_inlineEditInitializationCompleted:function(value){this.$7_0.addHandler("InitializationCompleted",value)},remove_inlineEditInitializationCompleted:function(value){this.$7_0.removeHandler("InitializationCompleted",value)},add_inlineEditViewportInitializationCompleted:function(value){this.$7_0.addHandler("ViewportInitializationCompleted",value)},remove_inlineEditViewportInitializationCompleted:function(value){this.$7_0.removeHandler("ViewportInitializationCompleted",value)},initializeForROForm:function(entitiesMetadata){if(IsNull(entitiesMetadata))return;var $v_0=Mscrm.Utilities.isMobileRefresh()?new Mscrm.MobileErrorDisplayContainerProvider:new Mscrm.FormErrorDisplayContainerProvider;this.$1V_0=Mscrm.InlineEditControlInitializersFactory.getInitializers($v_0,entitiesMetadata);this.initializeControls()},initializeControls:function(){if(Mscrm.PageManager.get_isUnloading())return;for(var $v_0=0;$v_0<this.$1V_0.length;$v_0++){var $v_1=this.$1V_0[$v_0],$v_2=0;do{Mscrm.OnLoadDeferredExecutor.queueCallback(this.$$d_$7N_0,0);$v_2+=$v_1.get_initializationBatchSize()}while($v_2<$v_1.get_numberOfDomElements());this.$8G_0($v_1.get_name())}},$8G_0:function($p0){if(!isNullOrEmptyString($p0)){var $$t_1=this;Mscrm.OnLoadDeferredExecutor.queueCallback(function(){Mscrm.Performance.PerformanceMarkerManager.get_instance().addMarker("Initialize Controls - "+$p0,1)},0)}},$7N_0:function(){if(Mscrm.PageManager.get_isUnloading())return;if(this.$1V_0.length>0){var $v_0=this.$1V_0[0],$v_1=$v_0.initializeControlInChunks();$v_1==="Completed"&&Array.removeAt(this.$1V_0,0)}},fireEvent:function(eventName,args){var $v_0=this.$7_0.getHandler(eventName);!IsNull($v_0)&&$v_0(this,args)}};Mscrm.InlineEditInitializerBase=function(errorDisplayContainerProvider,entitiesMetadata){this.$40_0=entitiesMetadata;this.$39_0=errorDisplayContainerProvider};Mscrm.InlineEditInitializerBase.$8L=function($p0){for(var $v_0=0;$v_0<$p0.length;$v_0++){var $v_1=$p0[$v_0],$v_2,$v_3,$$t_5,$$t_6,$$t_7;if(!($$t_7=Mscrm.InlineEditInitializerBase.$7Z($v_1,$$t_5={val:$v_3},$$t_6={val:$v_2}),$v_3=$$t_5.val,$v_2=$$t_6.val,$$t_7)){$v_2.get_controls().add($v_1);$v_2.updateRequiredLevel(Mscrm.InlineEditInitializerUtility.$5z($v_3.get_requiredLevel()),false);$v_1.get_dataContext().set_requiredLevel($v_3.get_requiredLevel());$v_2.set_format($v_3.get_attributeFormat());isNullOrEmptyString($v_2.get_name())&&$v_2.set_name($v_3.get_logicalName());$v_1.postRegisterComponent()}}};Mscrm.InlineEditInitializerBase.$7Y=function($p0,$p1){return !IsNull($p1)&&!isNullOrEmptyString($p0)&&$p1[$p0]==="1"};Mscrm.InlineEditInitializerBase.$7Z=function($p0,$p1,$p2){$p2.val=null;$p1.val=null;if($p0){var $v_0=$p0.get_dataContext();if($v_0){$p1.val=$v_0.$1_0;if($p1.val){$p2.val=$find($p1.val.get_dataAttributeId());return false}}}return true};Mscrm.InlineEditInitializerBase.prototype={$44_0:false,$5K_0:function(){if(!this.$y_0)this.$y_0=this.collectInlineDomElements()},get_numberOfDomElements:function(){!this.$y_0&&this.$5K_0();return this.$y_0.length},get_name:function(){return null},initializeControlInChunks:function(){if(!this.$44_0){this.setStartPerformanceMarker();this.$44_0=true}this.$5K_0();Sys.Application.beginCreateComponents();var $v_0=0,$v_1=new Array(0);while(this.$y_0.length>0&&($v_0<this.get_initializationBatchSize()||this.get_initializationBatchSize()===-1)){var $v_3=this.$y_0[0],$v_4=$P_CRM($v_3).attr(Mscrm.InlineEditConstants.HtmlAttributeControlInitialized);if(isNullOrEmptyString($v_4)){var $v_5=this.initializeSingleInlineEditControl($v_3);if(!IsNull($v_5)){Array.add($v_1,$v_5);Mscrm.InlineEditInitializerUtility.associateControlWithParentSection($v_3,$v_5)}}Array.removeAt(this.$y_0,0);$v_0++}Sys.Application.endCreateComponents();Mscrm.InlineEditInitializerBase.$8L($v_1);this.$8M_0($v_1);var $v_2=Mscrm.InlineEditInitializationManager.get_instance();$v_2.fireEvent("PartialInitializationCompleted",new Mscrm.InlineEditPartialInitializationEventArgs($v_1));if(!this.$y_0.length){this.setFinishPerformanceMarker();return "Completed"}return "Executing"},get_initializationBatchSize:function(){return 5},initializeSingleInlineEditControl:function(containerElement){var $v_0=$P_CRM(containerElement),$v_1=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName),$v_2=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForFormId);if(!isNullOrEmptyString($v_1)&&!isNullOrEmptyString($v_2)){$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeControlInitialized,"true");var $v_3=this.$40_0[$v_2],$v_4=$v_3[$v_1],$v_5=Mscrm.InlineEditUtilities.getLinkedDataObject($v_0);if(!IsNull($v_4)&&!$P_CRM.isEmptyObject($v_5)){var $v_6=Mscrm.InlineEditControlMode.normal,$v_7=Mscrm.InlineControlFactory.checkIfComposite($v_0);if($v_7)$v_4.RequiredLevel=Mscrm.InlineEditInitializerUtility.$4o($v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForCompositeRequiredLevel));if($v_1.startsWith(Mscrm.InlineEditConstants.UnboundControlIdPrefix)){$v_6=Mscrm.InlineEditControlMode.alwaysEdit;if($v_5["_entitydisabled"]==="1")$v_6=Mscrm.InlineEditControlMode.deactivated;var $v_8=Mscrm.InlineEditInitializerUtility.initializeForDomElement($v_0,$v_4,$v_6,$v_5[$v_1],this.$39_0),$v_9=$find($v_8.get_dataContext().get_attribute().get_dataAttributeId());$v_9.set_isVirtual(true);return $v_8}else{var $v_A=Mscrm.InlineEditUtilities.isControlDisabled($v_0.attr("id"),$v_5),$v_B=$v_0.attr("data-disabled")==="1";if($v_A||$v_B)$v_6=Mscrm.InlineEditControlMode.locked;else if($v_5["_entitydisabled"]==="1")$v_6=Mscrm.InlineEditControlMode.deactivated;var $v_C=$v_6,$v_D=Mscrm.InlineEditInitializerBase.$7Y($v_0.attr("id"),$v_5["_hiddencontrols"]);if($v_D){$v_4.RequiredLevel=0;$v_6=Mscrm.InlineEditControlMode.deactivated}var $v_E=Mscrm.InlineEditInitializerUtility.initializeForDomElement($v_0,$v_4,$v_6,$v_5[$v_1],this.$39_0);if($v_4.AttributeType==="state"){var $v_F=$find($v_E.get_dataContext().get_attribute().get_dataAttributeId());$v_F.set_submitModeValue(Xrm.SubmitMode.never)}$v_D&&$v_E.get_dataContext().setDefaultControlMode($v_C);return $v_E}}}return null},$8M_0:function($p0){var $v_0=Xrm.Page.ui;if(IsNull($v_0.controls))$v_0.controls=new Mscrm.ClientApiCollection;for(var $v_1=0;$v_1<$p0.length;$v_1++){var $v_2=$p0[$v_1];if(!IsNull($v_2)){var $v_3=$v_2.get_controlId();!isNullOrEmptyString($v_3)&&$v_0.controls.add($v_2)}}},$2B_0:null,setStartPerformanceMarker:function(){if(!isNullOrEmptyString(this.get_name())&&IsNull(this.$2B_0)){this.$2B_0=new Mscrm.Performance.PerformanceStopwatch(this.get_name());this.$2B_0.start()}},setFinishPerformanceMarker:function(){!IsNull(this.$2B_0)&&this.$2B_0.stop()},$y_0:null,$39_0:null,$40_0:null};Mscrm.InlineEditPartialInitializationEventArgs=function(views){Mscrm.InlineEditPartialInitializationEventArgs.initializeBase(this);this.$4M_1=views};Mscrm.InlineEditPartialInitializationEventArgs.prototype={get_views:function(){return this.$4M_1},$4M_1:null};Mscrm.MobileInlineEditInitializationManager=function(){Mscrm.MobileInlineEditInitializationManager.initializeBase(this)};Mscrm.MobileInlineEditInitializationManager.prototype={initializeControls:function(){if(Mscrm.PageManager.get_isUnloading())return;Mscrm.InlineEditInitializationManager.prototype.initializeControls.call(this);var $$t_0=this;Mscrm.OnLoadDeferredExecutor.queueCallback(function(){$$t_0.fireEvent("InitializationCompleted",null)},0)}};Mscrm.InlineEditInitializerUtility=function(){};Mscrm.InlineEditInitializerUtility.initializeForDomElement=function(domElement,attributeMetadata,controlMode,initialValue,errorDisplayContainerProvider){if(IsNull(domElement)||domElement.length!==1)throw Error.argument("domElement");if(IsNull(attributeMetadata))throw Error.argumentNull("attributeMetadata");try{var $v_0=Mscrm.InlineControlFactory.createControl(domElement,attributeMetadata,initialValue,controlMode);if(!IsNull($v_0)){Mscrm.SimpleInlineControlView.isInstanceOfType($v_0)&&$v_0.set_errorDisplayAreaProvider(errorDisplayContainerProvider);$v_0.renderForRead()}return $v_0}catch($v_1){var $v_2=String.format("inline control initialization failed for control : {0} : with controlMode : {1} : and exception details : \n{2}",attributeMetadata.LogicalName,controlMode,$v_1.message);catchError($v_2,window.location.href,0,true);return null}};Mscrm.InlineEditInitializerUtility.$3g=function(){var $v_0=$get("areaForm"),$v_1=XUI.Html.DomUtils.GetFirstChild($v_0);while($v_1.id!=="crmFormTabContainer"){var $v_2=XUI.Html.DomUtils.GetFirstChild($v_1);if(IsNull($v_2)||$v_1.id==="crmNotifications")$v_1=XUI.Html.DomUtils.GetNextSibling($v_1);else $v_1=$v_2}return $v_1};Mscrm.InlineEditInitializerUtility.$6u=function(){var $v_0=new Array(0),$v_1=Mscrm.InlineEditInitializerUtility.$3g();if(!IsNull($v_1)){var $v_2=$P_CRM($v_1).children("div.ms-crm-InlineTab-Read");!IsNull($v_2)&&Array.addRange($v_0,$v_2.get())}return $v_0};Mscrm.InlineEditInitializerUtility.$73=function($p0){var $v_0=new Array(0),$v_1=0;!IsNull($p0)&&$P_CRM($p0).find("table.ms-crm-FormSection").each(function($p1_0,$p1_1){var $v_2=$P_CRM($p1_1),$v_3=$v_2.closest("div[isquickform]"),$v_4=$v_2.closest("div[flyoutviewportdomid]");if(!IsNull($v_3)){var $v_5=$v_3.attr("isquickform");if(!Mscrm.InternalUtilities._String.isNullOrWhiteSpace($v_5)&&!Boolean.parse($v_5))if(!IsNull($v_4)&&!$v_4.length)$v_0[$v_1++]=$p1_1}});return $v_0};Mscrm.InlineEditInitializerUtility.associateControlWithParentSection=function(control,controlView){if(!IsNull(control)){var $v_0=Xrm.Page.ui;if(IsNull($v_0)||!$v_0.tabs.getLength()){window.setTimeout(function(){Mscrm.InlineEditInitializerUtility.associateControlWithParentSection(control,controlView)},100);return}var $v_1=$P_CRM(control).parents("table.ms-crm-FormSection:first"),$v_2=IsNull($v_1)?"":$v_1.attr("name");if(isNullOrEmptyString($v_2))return;var $v_3=$P_CRM(control).parents("div.ms-crm-InlineTab-Read:first"),$v_4=IsNull($v_3)?"":$v_3.attr("name");if(!isNullOrEmptyString($v_2)&&!isNullOrEmptyString($v_4)){var $v_5=$v_0.tabs.get($v_4);if(!IsNull($v_5)){var $v_6=$v_5.sections.get($v_2);if(!IsNull($v_6)){$v_6.controls.add(controlView);controlView.set_parentSection($v_6)}}}}};Mscrm.InlineEditInitializerUtility.$3h=function($p0){if(IsNull($p0))return false;else if(IsNull($p0.style))return true;else return $p0.style.display!=="none"&&$p0.style.visibility!=="hidden"};Mscrm.InlineEditInitializerUtility.$5I=function($p0,$p1){if(!IsNull($p0))$p0.style.display=$p1?"":"none"};Mscrm.InlineEditInitializerUtility.initializeEditViewsForAttributeIds=function(attributeIds){if(IsNull(attributeIds))return;for(var $v_0=Mscrm.InlineEditDataService.get_formEntity().get_attributes(),$v_1=0;$v_1<attributeIds.length;$v_1++){var $v_2=$v_0.get(attributeIds[$v_1]);!IsNull($v_2)&&Mscrm.InlineEditInitializerUtility.initializeEditViewsForAttribute($v_2)}};Mscrm.InlineEditInitializerUtility.initializeEditViewsForAttribute=function(attribute){attribute.editViewControlInitializer()};Mscrm.InlineEditInitializerUtility.collectInlineEditForFirstTab=function(inlineEditElements){var $v_0=Mscrm.InlineEditInitializerUtility.$3g();if(!IsNull($v_0)){var $v_1=$P_CRM("div["+Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName+"]["+Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId+"=PrimaryEntity]",$P_CRM(XUI.Html.DomUtils.GetFirstChild($v_0)));Array.addRange(inlineEditElements,$v_1.get())}};Mscrm.InlineEditInitializerUtility.$5z=function($p0){switch($p0){case 0:return "none";case 1:case 2:return "required";case 3:return "recommended";default:return "none"}};Mscrm.InlineEditInitializerUtility.$4o=function($p0){switch($p0.toLowerCase()){case "required":return 2;case "recommended":return 3;case "none":default:return 0}};Mscrm.MobileFirstControlInlineEditControlInitializer=function(errorDisplayContainerProvider,entitiesMetadata,element){Mscrm.MobileFirstControlInlineEditControlInitializer.initializeBase(this,[errorDisplayContainerProvider,entitiesMetadata]);this.$18_1=new Array(1);this.$18_1[0]=element};Mscrm.MobileFirstControlInlineEditControlInitializer.prototype={get_name:function(){return "MobileFirstControlInlineEditControlInitializer"},get_initializationBatchSize:function(){return 1},collectInlineDomElements:function(){return this.$18_1},setStartPerformanceMarker:function(){Mscrm.InlineEditInitializerBase.prototype.setStartPerformanceMarker.call(this);setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.StartMobileFirstControl)},setFinishPerformanceMarker:function(){Mscrm.InlineEditInitializerBase.prototype.setFinishPerformanceMarker.call(this);setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.FinishMobileFirstControl)},initializeControlInChunks:function(){var $v_0=Mscrm.InlineEditInitializerBase.prototype.initializeControlInChunks.call(this);if(!IsNull(this.$1R_1)){var $v_1=this.$1R_1.get_dataContext();if($v_1.get_optimizeForMobileRendering())this.$1R_1.goToEditState();else this.$1R_1.setFocus()}return $v_0},initializeSingleInlineEditControl:function(containerElement){this.$1R_1=Mscrm.InlineEditInitializerBase.prototype.initializeSingleInlineEditControl.call(this,containerElement);return this.$1R_1},$18_1:null,$1R_1:null};Mscrm.MobileInlineEditControlInitializersFactory=function(){};Mscrm.MobileInlineEditControlInitializersFactory.getInitializers=function(errorDisplayContainerProvider,entitiesMetadata){var $v_0=[],$v_1=new Array(0);Mscrm.InlineEditInitializerUtility.collectInlineEditForFirstTab($v_1);if(!$v_1.length)return $v_0;var $v_2=Mscrm.InlineEditDataService.isNew();Mscrm.MobileInlineEditControlInitializersFactory.$5X($v_0,$v_1,errorDisplayContainerProvider,entitiesMetadata,$v_2);Mscrm.MobileInlineEditControlInitializersFactory.$5d($v_0,$v_1,errorDisplayContainerProvider,entitiesMetadata,$v_2);$v_1.length>0&&Array.add($v_0,new Mscrm.MobileNonViewportInlineEditControlInitializer(errorDisplayContainerProvider,entitiesMetadata,$v_1));return $v_0};Mscrm.MobileInlineEditControlInitializersFactory.$5d=function($p0,$p1,$p2,$p3,$p4){if(!$p1.length)return;var $v_0=$p4?3:5,$v_1=new Array(0);while($p1.length>0&&$v_0>0){Array.add($v_1,$p1[0]);Array.removeAt($p1,0);$v_0--}Array.add($p0,new Mscrm.MobileViewportInlineEditControlInitializer($p2,$p3,$v_1))};Mscrm.MobileInlineEditControlInitializersFactory.$5X=function($p0,$p1,$p2,$p3,$p4){if(!$p4)return;Array.add($p0,new Mscrm.MobileFirstControlInlineEditControlInitializer($p2,$p3,$p1[0]));Array.removeAt($p1,0)};Mscrm.MobileNonViewportInlineEditControlInitializer=function(errorDisplayContainerProvider,entitiesMetadata,elements){Mscrm.MobileNonViewportInlineEditControlInitializer.initializeBase(this,[errorDisplayContainerProvider,entitiesMetadata]);this.$18_2=elements};Mscrm.MobileNonViewportInlineEditControlInitializer.prototype={get_initializationBatchSize:function(){return 2},collectInlineDomElements:function(){return this.$18_2},$18_2:null};Mscrm.MobileViewportInlineEditControlInitializer=function(errorDisplayContainerProvider,entitiesMetadata,elements){Mscrm.MobileViewportInlineEditControlInitializer.initializeBase(this,[errorDisplayContainerProvider,entitiesMetadata]);this.$18_2=elements};Mscrm.MobileViewportInlineEditControlInitializer.prototype={get_initializationBatchSize:function(){return 5},collectInlineDomElements:function(){return this.$18_2},$18_2:null};Mscrm.NonViewportFormBodyInlineEditInitializer=function(errorDisplayContainerProvider,entitiesMetadata){Mscrm.NonViewportFormBodyInlineEditInitializer.initializeBase(this,[errorDisplayContainerProvider,entitiesMetadata])};Mscrm.NonViewportFormBodyInlineEditInitializer.prototype={get_name:function(){return "NonViewportFormBodyInlineEditInitializer"},collectInlineDomElements:function(){var $v_0=new Array(0);Array.addRange($v_0,$P_CRM("div["+Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName+"]",$P_CRM($get("refreshFormFooterContainer"))).get());var $v_1=Mscrm.InlineEditInitializerUtility.$3g(),$v_2=true,$$t_4=this;XUI.Html.DomUtils.ForEachChild($v_1,function($p1_0){if($v_2){$v_2=false;return false}Array.addRange($v_0,$P_CRM("div["+Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName+"]["+Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId+"=PrimaryEntity]",$P_CRM($p1_0)).get());return false});Array.addRange($v_0,Mscrm.QuickFormInlineEditDomHelper.instance().getOnLoadQuickFormElements());return $v_0},setStartPerformanceMarker:function(){Mscrm.InlineEditInitializerBase.prototype.setStartPerformanceMarker.call(this);setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.StartInlineEditPass2)},setFinishPerformanceMarker:function(){Mscrm.InlineEditInitializerBase.prototype.setFinishPerformanceMarker.call(this);setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.FinishInlineEditPass2)}};Mscrm.QuickFormCollectionInitializer=function(quickFormCollectionRoots){this.$2c_0=quickFormCollectionRoots};Mscrm.QuickFormCollectionInitializer.prototype={$2c_0:null,initializeAllQuickFormCollections:function(){Sys.Application.beginCreateComponents();var $$t_1=this;Array.forEach(this.$2c_0,function($p1_0){$$t_1.$7T_0($p1_0)});Sys.Application.endCreateComponents();Array.clear(this.$2c_0);this.$2c_0=null},$7T_0:function($p0){var $v_0=$P_CRM($p0),$v_1=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId),$v_2=$v_0.attr(Mscrm.InlineEditConstants.HtmlAttributeForParentFormDataEntityId),$v_3={};$v_3["formDataEntityObject"]=$v_1;$v_3["parentFormDataEntity"]=$v_2;Mscrm.CrmUIComponent.crmCreate(Mscrm.QuickFormCollectionBehavior,null,null,$v_3,$p0)}};Mscrm.QuickFormInitializer=function(quickFormRoots){this.$2d_0=quickFormRoots};Mscrm.QuickFormInitializer.prototype={$2d_0:null,initializeQuickForm:function(){Sys.Application.beginCreateComponents();var $$t_6=this;Array.forEach(this.$2d_0,function($p1_0){var $v_0=$p1_0,$v_1=$P_CRM($v_0),$v_2=$v_1.attr(Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId),$v_3=$v_1.attr(Mscrm.InlineEditConstants.HtmlAttributeForParentFormDataEntityId),$v_4={};$v_4["formDataEntityObject"]=$v_2;$v_4["parentFormDataEntity"]=$v_3;Mscrm.CrmUIComponent.crmCreate(Mscrm.QuickFormBehavior,null,null,$v_4,$v_0)});Sys.Application.endCreateComponents();Array.clear(this.$2d_0);this.$2d_0=null}};Mscrm.QuickFormInlineEditDomHelper=function($p0){this.$2a_0=new Array(0);this.$2Z_0=new Array(0);this.$1n_0=new Array(0);var $v_0=this.$6x_0();this.$5u_0($v_0,$p0)};Mscrm.QuickFormInlineEditDomHelper.initialize=function(loadOrder){if(Mscrm.Utilities.isMobileRefresh())return;Mscrm.QuickFormInlineEditDomHelper.$N=new Mscrm.QuickFormInlineEditDomHelper(loadOrder)};Mscrm.QuickFormInlineEditDomHelper.instance=function(){return Mscrm.QuickFormInlineEditDomHelper.$N};Mscrm.QuickFormInlineEditDomHelper.cleanup=function(){if(IsNull(Mscrm.QuickFormInlineEditDomHelper.$N))return;Mscrm.QuickFormInlineEditDomHelper.$N.$2a_0=null;Mscrm.QuickFormInlineEditDomHelper.$N.$1n_0=null;Mscrm.QuickFormInlineEditDomHelper.$N.$2Z_0=null;Mscrm.QuickFormInlineEditDomHelper.$N=null};Mscrm.QuickFormInlineEditDomHelper.prototype={$2a_0:null,$1n_0:null,$2Z_0:null,getOnLoadQuickFormElements:function(){return this.$2a_0},getDeferredQuickFormElements:function(){return this.$1n_0},getOnDemandQuickFormElements:function(){return this.$2Z_0},$6x_0:function(){for(var $v_0=$P_CRM("div["+Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName+"]["+Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId+"!=PrimaryEntity]").get(),$v_1={},$$arr_2=$v_0,$$len_3=$$arr_2.length,$$idx_4=0;$$idx_4<$$len_3;++$$idx_4){var $v_2=$$arr_2[$$idx_4],$v_3=$v_2.getAttribute(Mscrm.InlineEditConstants.HtmlAttributeForFormId).toString();if(isNullOrEmptyString($v_3))continue;var $v_4=null;if(!($v_3 in $v_1)){$v_4=new Array(0);$v_1[$v_3]=$v_4}else $v_4=$v_1[$v_3];$v_4[$v_4.length]=$v_2}return $v_1},$5u_0:function($p0,$p1){var $$dict_2=$p1;for(var $$key_3 in $$dict_2){var $v_0={key:$$key_3,value:$$dict_2[$$key_3]},$v_1=$p0[$v_0.key];if(IsNull($v_1))continue;delete $p0[$v_0.key];switch($v_0.value){case Mscrm.InlineEditLoadOrder.onFormLoad:Array.addRange(this.$2a_0,$v_1);break;case Mscrm.InlineEditLoadOrder.deferred:Array.addRange(this.$1n_0,$v_1);break;case Mscrm.InlineEditLoadOrder.onDemand:Array.addRange(this.$2Z_0,$v_1);break}}var $$dict_6=$p0;for(var $$key_7 in $$dict_6){var $v_2={key:$$key_7,value:$$dict_6[$$key_7]},$v_3=$v_2.value;if(IsNull($v_3))continue;delete $p0[$v_2.key];Array.addRange(this.$1n_0,$v_3)}}};Mscrm.ViewportInlineEditControlInitializer=function(errorDisplayContainerProvider,entitiesMetadata){Mscrm.ViewportInlineEditControlInitializer.initializeBase(this,[errorDisplayContainerProvider,entitiesMetadata])};Mscrm.ViewportInlineEditControlInitializer.prototype={get_name:function(){return "ViewportInlineEditControlInitializer"},get_initializationBatchSize:function(){return 20},collectInlineDomElements:function(){var $v_0=new Array(0),$v_1=$P_CRM("div["+Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName+"]",$P_CRM($get("HeaderTilesWrapperLayoutElement")));Array.addRange($v_0,$v_1.get());var $v_2=$P_CRM("div["+Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName+"]",$P_CRM($get("formFooterContainer")));Array.addRange($v_0,$v_2.get());this.$5x_1($v_0);Mscrm.InlineEditInitializerUtility.collectInlineEditForFirstTab($v_0);return $v_0},setStartPerformanceMarker:function(){Mscrm.InlineEditInitializerBase.prototype.setStartPerformanceMarker.call(this);setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.StartInlineEditPass1)},setFinishPerformanceMarker:function(){Mscrm.InlineEditInitializerBase.prototype.setFinishPerformanceMarker.call(this);setPerfMarkerTimestamp(Mscrm.RefreshFormMarker.FinishInlineEditPass1)},$5x_1:function($p0){var $v_0=$get("processControlContainer");if(!IsNull($v_0)){var $v_2=$P_CRM($v_0),$v_3=$P_CRM($get("processStepsContainer")),$v_4=$v_3.children(".processStepsContent:not(.hidden)"),$v_5=$v_4.find("div["+Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName+"]["+Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId+"=PrimaryEntity]"),$v_6=$v_2.find(".processStepsContent.hidden .ms-crm-LinkControl-content div["+Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName+"]["+Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId+"=PrimaryEntity]");Array.addRange($p0,$v_5.get());Array.addRange($p0,$v_6.get())}var $v_1=$P_CRM(".hiddenControlContainer");if($v_1.length>0){var $v_7="div["+Mscrm.InlineEditConstants.HtmlAttributeForAttributeLogicalName+"]["+Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId+"=PrimaryEntity]",$v_8=$P_CRM($v_7,$v_1).get();Array.addRange($p0,$v_8)}},initializeControlInChunks:function(){var $v_0=Mscrm.InlineEditInitializerBase.prototype.initializeControlInChunks.call(this);Mscrm.InlineEditInitializationManager.get_instance().$3H_0=$v_0;if($v_0==="Completed"){var $v_1=Mscrm.InlineEditInitializationManager.get_instance();$v_1.fireEvent("ViewportInitializationCompleted",null)}return $v_0}};Mscrm.InlineEditControlBaseLayout=function(chromeElement,viewModel){this.$$d_removeScrollClass=Function.createDelegate(this,this.removeScrollClass);this.$$d_addScrollClass=Function.createDelegate(this,this.addScrollClass);this.$$d_$5e_1=Function.createDelegate(this,this.$5e_1);Mscrm.InlineEditControlBaseLayout.initializeBase(this,[chromeElement]);this.$U_1=viewModel;this.$25_1=$P_CRM(String.format('<div class="{0}"></div>',"ms-crm-Inline-GradientMask"));this.$U_1.set_emptyValuePlaceholder(Mscrm.Utilities.isMobileRefresh()?"":Mscrm.InlineEditConstants.DefaultEmptyValuePlaceholder)};Mscrm.InlineEditControlBaseLayout.prototype={$36_1:null,$25_1:null,$U_1:null,$R_1:null,$1J_1:null,$4I_1:false,get_editIconHtml:function(){if(isNullOrEmptyString(this.$36_1)){var $v_0=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create(this.get_editIconPath()));this.$36_1=String.format('<div class="{0}"><img src="{1}" class="{2}" alt=""/></div>',"ms-crm-Inline-EditIcon",CrmEncodeDecode.CrmHtmlAttributeEncode($v_0.source),CrmEncodeDecode.CrmHtmlAttributeEncode($v_0.cssClass))}return this.$36_1},get_editIconPath:function(){return "/_imgs/inlineedit/inline_edit_icon.png"},get_showGradientMask:function(){if(!Mscrm.InternalUtilities.Utilities.isHighContrastEnabled()&&!Mscrm.Utilities.isMobileRefresh())return true;return false},get_checkAdjustFocusElement:function(){if(this.$U_1.get_controlMode()===Mscrm.InlineEditControlMode.alwaysEdit)return false;return true},get_showEditIcon:function(){return this.$4I_1},set_showEditIcon:function(value){this.$4I_1=value;return value},get_viewModel:function(){return this.$U_1},get_labelElementId:function(){return this.get_chromeElementId()+"_c"},$3X_1:function(){var $v_0=this.get_labelElement().children("span");if(!IsNull($v_0)&&$v_0.length>0){var $v_1=Mscrm.Utilities.parseInt($v_0.css("max-width"),0),$v_2=$v_0.width(),$v_3=$P_CRM(String.format(".{0}","ms-crm-Inline-GradientMask"),this.get_labelElement());if($v_1>$v_2)$v_3.hide();else this.get_showGradientMask()&&$v_3.show()}},adjustFocusElement:function(){var $v_0=$P_CRM(document.activeElement);this.get_checkAdjustFocusElement()&&this.isElementInChrome($v_0)&&this.get_chromeElement().focus()},resetForRead:function(){if(!this.get_labelElementExists())return;this.$3X_1()},resetForEdit:function(){},get_$1i_1:function(){if((IsNull(this.$1J_1)||!this.$1J_1.length)&&this.get_labelElementExists())this.$1J_1=this.get_labelElement().children(this.get_$8S_1());return this.$1J_1},get_$8S_1:function(){return String.format("img.{0}, img.{1}","ms-crm-Inline-RequiredLevel","ms-crm-Inline-RecommendedLevel")},$8d_1:function($p0,$p1,$p2,$p3){if(this.get_labelElementExists()){if(!this.$4y_1()&&!$p3)return;if(!this.$4y_1()){this.$1J_1=$P_CRM(String.format('<img src="{0}" class="{1}" alt="{2}"/>',$p0,$p1,$p2));this.get_labelElement().append(this.$1J_1)}else{if(!$p3){this.get_$1i_1().remove();this.$1J_1=null;return}this.get_$1i_1().attr("src",$p0);this.get_$1i_1().attr("class",$p1);this.get_$1i_1().attr("alt",$p2)}}},$4y_1:function(){return !IsNull(this.get_$1i_1())&&this.get_$1i_1().length===1},setRequiredOrRecommendedLevel:function(level){if(this.get_labelElementExists()){var $v_0="",$v_1="",$v_2="",$v_3=true;switch(level){case "recommended":$v_0=window.LOCID_FORM_RECOMMENDED_ALT;$v_1="/_imgs/frm_recommended.gif";$v_2="ms-crm-Inline-RecommendedLevel";break;case "required":$v_0=window.LOCID_FORM_REQUIRED_ALT;$v_1="/_imgs/frm_required.gif";$v_2="ms-crm-Inline-RequiredLevel";break;case "none":$v_3=false;break;default:return}this.$8d_1($v_1,$v_2,$v_0,$v_3);$v_3&&this.$3X_1()}},get_labelElement:function(){if(IsNull(this.$R_1)){var $v_0=String.format("#{0} .{1}",this.get_labelElementId(),"ms-crm-InlineEditLabel");this.$R_1=$P_CRM($v_0)}return this.$R_1},get_iconElement:function(){return $P_CRM()},get_chromeBehaviorType:function(){return Mscrm.InlineEditChromeBehavior},get_labelElementExists:function(){return !IsNull(this.get_labelElement())&&this.get_labelElement().length===1},renderForRead:function(){this.$5B_1();if(this.get_labelElementExists()){var $$t_0=this;Mscrm.OnLoadDeferredExecutor.queueCallback(function(){$$t_0.$3X_1()},2)}},renderForEdit:function(){this.$5B_1()},updateTooltip:function(tooltip){this.get_chromeElement().attr("title",tooltip)},appendAndWrapValueElementMask:function(){Mscrm.OnLoadDeferredExecutor.queueCallback(this.$$d_$5e_1,2)},$5e_1:function(){this.get_showGradientMask()&&this.get_valueElement().children("span").first().append(this.$25_1);if(this.get_showEditIcon())this.get_valueElement()[0].innerHTML+=this.get_editIconHtml()},addScrollClass:function(eventObject){var $v_0=this.get_chromeElement().parents("div");this.$U_1.get_controlMode()===Mscrm.InlineEditControlMode.normal&&$v_0.addClass("noScroll")},removeScrollClass:function(eventObject){var $v_0=this.get_chromeElement().parents("div");this.$U_1.get_controlMode()===Mscrm.InlineEditControlMode.normal&&$v_0.removeClass("noScroll")},$5B_1:function(){Mscrm.InternalUtilities.Utilities.isHighContrastEnabled()&&this.get_chromeElement().addClass("highContrast")},isElementInLabel:function(targetElement){if(!this.get_labelElementExists())return false;var $v_0=targetElement.get(0);if($v_0===this.get_labelElement().get(0))return true;for(var $v_1=this.get_labelElement().children(),$v_2=0;$v_2<$v_1.length;$v_2++)if($v_0===$v_1.get($v_2))return true;return false},dispose:function(){if(this.get_isDisposed())return;if(!IsNull(this.$25_1)){this.$25_1.empty().remove();this.$25_1=null}if(!IsNull(this.$R_1)){this.$R_1.empty().remove();this.$R_1=null}this.$U_1=null;Mscrm.BaseLayout.prototype.dispose.call(this)}};Mscrm.CheckBoxLayout=function($p0,$p1){Mscrm.CheckBoxLayout.initializeBase(this,[$p0,$p1])};Mscrm.CheckBoxLayout.prototype={get_chromeBehaviorType:function(){return Mscrm.InlineEditCheckBoxChromeBehavior}};Mscrm.EmailBodyLayout=function($p0,$p1){Mscrm.EmailBodyLayout.initializeBase(this,[$p0,$p1])};Mscrm.EmailBodyLayout.prototype={get_showGradientMask:function(){return false}};Mscrm.FlyOutDialogLayout=function($p0,$p1){Mscrm.FlyOutDialogLayout.initializeBase(this,[$p0,$p1])};Mscrm.FlyOutDialogLayout.prototype={get_checkAdjustFocusElement:function(){return false}};Mscrm.FlyOutDialogLookupLayout=function($p0,$p1){Mscrm.FlyOutDialogLookupLayout.initializeBase(this,[$p0,$p1])};Mscrm.FlyOutDialogLookupLayout.prototype={get_chromeBehaviorType:function(){return Mscrm.InlineEditLookupChromeBehavior}};Mscrm.FlyOutDialogTextAreaLayout=function($p0,$p1){Mscrm.FlyOutDialogTextAreaLayout.initializeBase(this,[$p0,$p1])};Mscrm.FlyOutDialogTextAreaLayout.prototype={$13_3:null,dispose:function(){if(this.get_isDisposed())return;this.$13_3=null;Mscrm.InlineEditControlBaseLayout.prototype.dispose.call(this)},renderForEdit:function(){this.$2k_3()},$2k_3:function(){var $v_0=12;this.get_$2C_3().width(this.get_editElementWrapper().width()-$v_0)},get_$2C_3:function(){if(IsNull(this.$13_3))this.$13_3=Mscrm.TextAreaHelper.findTextArea(this.get_editElementWrapper());return this.$13_3},resetForEdit:function(){Mscrm.InlineEditControlBaseLayout.prototype.resetForEdit.call(this);this.$2k_3()}};Mscrm.HeaderTileLayout=function($p0,$p1){Mscrm.HeaderTileLayout.initializeBase(this,[$p0,$p1])};Mscrm.HeaderTileLayout.prototype={$1r_2:null,get_headerTileElement:function(){if(IsNull(this.$1r_2))this.$1r_2=this.get_chromeElement().parents(".ms-crm-HeaderTileElement");return this.$1r_2},get_chromeBehaviorType:function(){return Mscrm.HeaderTileChromeBehavior},renderForRead:function(){Mscrm.InlineEditControlBaseLayout.prototype.renderForRead.call(this);this.get_labelElement().addClass("ms-crm-HeaderTileLabel").attr("title",this.get_labelElement().text())},renderForEdit:function(){Mscrm.InlineEditControlBaseLayout.prototype.renderForEdit.call(this);this.get_editElementWrapper().addClass("ms-crm-HeaderTile")},isElementInChrome:function($p0){return this.$7X_2($p0)||this.$7f_2($p0)},$7f_2:function($p0){return $p0.get(0)===this.get_headerTileElement().get(0)},$7X_2:function($p0){var $v_0=String.format(".{0}","ms-crm-HeaderTileElement"),$v_1=$p0.parents($v_0);return $v_1.length>0&&$v_1.first().get(0)===this.get_headerTileElement().get(0)},dispose:function(){if(this.get_isDisposed())return;this.$1r_2.empty().remove();this.$1r_2=null;Mscrm.InlineEditControlBaseLayout.prototype.dispose.call(this)}};Mscrm.HeaderTileDateTimeLayout=function($p0,$p1){Mscrm.HeaderTileDateTimeLayout.initializeBase(this,[$p0,$p1])};Mscrm.HeaderTileLookupLayout=function($p0,$p1){Mscrm.HeaderTileLookupLayout.initializeBase(this,[$p0,$p1]);this.set_showEditIcon(true)};Mscrm.HeaderTileLookupLayout.prototype={get_editIconPath:function(){return "/_imgs/search_normal.gif"},get_editIconHtml:function(){return Mscrm.InlineLookupUtility.$3b(this.get_editIconPath(),'<div class="{0}"><img src="{1}" class="{2}" alt=""/></div>',"ms-crm-InlineLookupEdit ms-crm-EditLookup-Image")},get_chromeBehaviorType:function(){return Mscrm.HeaderTileLookupChromeBehavior},updateTooltip:function($p0){}};Mscrm.HeaderTileOptionSetLayout=function($p0,$p1){Mscrm.HeaderTileOptionSetLayout.initializeBase(this,[$p0,$p1])};Mscrm.HeaderTileOptionSetLayout.prototype={renderForEdit:function(){Mscrm.HeaderTileLayout.prototype.renderForEdit.call(this);this.get_editElementWrapper().bind(Mscrm.StateChangeEvents.edit,this.$$d_addScrollClass);this.get_editElementWrapper().bind(Mscrm.StateChangeEvents.read,this.$$d_removeScrollClass)},get_checkAdjustFocusElement:function(){return true}};Mscrm.HeaderTileToggleLayout=function($p0,$p1){Mscrm.HeaderTileToggleLayout.initializeBase(this,[$p0,$p1])};Mscrm.HeaderTileToggleLayout.prototype={get_chromeBehaviorType:function(){return Mscrm.HeaderTileToggleChromeBehavior}};Mscrm.LayoutFactory=function(){};Mscrm.LayoutFactory.createLayout=function(containerElement,viewModel){var $v_0=null;if(!IsNull(containerElement)&&!IsNull(viewModel)){var $v_1=Mscrm.LayoutFactory.parseLayout(containerElement);switch($v_1){case 0:$v_0=Mscrm.LayoutFactory.$4Z(containerElement,viewModel);break;case 1:$v_0=Mscrm.LayoutFactory.$61(containerElement,viewModel);break;case 2:$v_0=Mscrm.LayoutFactory.$6B(containerElement,viewModel);break;case 3:$v_0=Mscrm.LayoutFactory.$6L(containerElement,viewModel);break;case 4:$v_0=Mscrm.LayoutFactory.$6A(containerElement,viewModel);break;default:break}}return $v_0};Mscrm.LayoutFactory.$6A=function($p0,$p1){var $v_0;if(Mscrm.LayoutFactory.$2t($p1))$v_0=new Mscrm.FlyOutDialogLookupLayout($p0,$p1);else if(Mscrm.InlineTextAreaControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.FlyOutDialogTextAreaLayout($p0,$p1);else $v_0=new Mscrm.FlyOutDialogLayout($p0,$p1);return $v_0};Mscrm.LayoutFactory.$2t=function($p0){if(Mscrm.InlineLookupControlViewModel.isInstanceOfType($p0)||Mscrm.InlineSubjectLookupControlViewModel.isInstanceOfType($p0)||Mscrm.InlineTransactionCurrencyLookupControlViewModel.isInstanceOfType($p0)||Mscrm.InlineRelatedCasesLookupControlViewModel.isInstanceOfType($p0))return true;else return false};Mscrm.LayoutFactory.$61=function($p0,$p1){var $v_0;if(Mscrm.LayoutFactory.$2t($p1))$v_0=new Mscrm.SalesProcessLookupLayout($p0,$p1);else if(Mscrm.InlineTextAreaControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.SalesProcessTextAreaLayout($p0,$p1);else if(Mscrm.InlineToggleControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.SalesProcessToggleLayout($p0,$p1);else if(Mscrm.InlineOptionSetControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.SalesProcessOptionSetLayout($p0,$p1);else $v_0=new Mscrm.SalesProcessLayout($p0,$p1);return $v_0};Mscrm.LayoutFactory.$6B=function($p0,$p1){var $v_0;if(Mscrm.LayoutFactory.$2t($p1))$v_0=new Mscrm.HeaderTileLookupLayout($p0,$p1);else if(Mscrm.InlineOptionSetControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.HeaderTileOptionSetLayout($p0,$p1);else if(Mscrm.InlineDateTimeControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.HeaderTileDateTimeLayout($p0,$p1);else if(Mscrm.InlineToggleControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.HeaderTileToggleLayout($p0,$p1);else $v_0=new Mscrm.HeaderTileLayout($p0,$p1);return $v_0};Mscrm.LayoutFactory.$4Z=function($p0,$p1){var $v_0;if(Mscrm.LayoutFactory.$2t($p1))$v_0=new Mscrm.LookupLayout($p0,$p1);else if(Mscrm.InlineCheckBoxControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.CheckBoxLayout($p0,$p1);else if(Mscrm.InlineToggleControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.ToggleLayout($p0,$p1);else if(Mscrm.InlineTextAreaControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.TextAreaLayout($p0,$p1);else if(Mscrm.InlineEmailBodyControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.EmailBodyLayout($p0,$p1);else $v_0=new Mscrm.InlineEditControlBaseLayout($p0,$p1);return $v_0};Mscrm.LayoutFactory.$6L=function($p0,$p1){var $v_0;if(Mscrm.InlineTextBoxControlViewModel.isInstanceOfType($p1))$v_0=new Mscrm.ProcessConfigurationTextBoxLayout($p0,$p1);else $v_0=Mscrm.LayoutFactory.$4Z($p0,$p1);return $v_0};Mscrm.LayoutFactory.parseLayout=function(containerElement){var $v_0=containerElement.attr(Mscrm.InlineEditConstants.HtmlAttributeForLayout);return isNullOrEmptyString($v_0)?0:parseInt($v_0)};Mscrm.LookupLayout=function($p0,$p1){Mscrm.LookupLayout.initializeBase(this,[$p0,$p1]);this.set_showEditIcon(true)};Mscrm.LookupLayout.prototype={get_showGradientMask:function(){if("multi"===this.$U_1.get_lookupStyle())return false;else return Mscrm.InlineEditControlBaseLayout.prototype.get_showGradientMask.call(this)},get_editIconPath:function(){return "/_imgs/search_normal.gif"},get_editIconHtml:function(){if("multi"===this.$U_1.get_lookupStyle())return Mscrm.InlineLookupUtility.$4e(this.get_editIconPath(),'<div class="{0}"><img src="{1}" class="{2}" alt=""/></div>',"ms-crm-InlineLookupEdit ms-crm-EditMultiLookup-Image","ms-crm-Inline-EditIcon ms-crm-Inline-MultiLookupEditIcon");else return Mscrm.InlineLookupUtility.$3b(this.get_editIconPath(),'<div class="{0}"><img src="{1}" class="{2}" alt=""/></div>',"ms-crm-InlineLookupEdit ms-crm-EditLookup-Image")},get_chromeBehaviorType:function(){return Mscrm.InlineEditLookupChromeBehavior},updateTooltip:function($p0){}};Mscrm.ProcessConfigurationTextBoxLayout=function(containerElement,viewModel){Mscrm.ProcessConfigurationTextBoxLayout.initializeBase(this,[containerElement,viewModel])};Mscrm.ProcessConfigurationTextBoxLayout.prototype={get_showGradientMask:function(){return false},renderForRead:function(){Mscrm.InlineEditControlBaseLayout.prototype.renderForRead.call(this);this.get_chromeElement().parent().hasClass("pc_en_stage_body")&&this.get_valueElement().addClass("pc_stage_value");this.get_valueElement().addClass("pc_inline_value")},renderForEdit:function(){Mscrm.InlineEditControlBaseLayout.prototype.renderForEdit.call(this);this.get_chromeElement().parent().hasClass("pc_en_stage_body")&&this.get_editElementWrapper().children(":first-child").addClass("pc_stage_edit")}};Mscrm.SalesProcessLayout=function($p0,$p1){Mscrm.SalesProcessLayout.initializeBase(this,[$p0,$p1])};Mscrm.SalesProcessLayout.prototype={$R_2:null,$2V_2:null,$30_2:null,dispose:function(){if(this.get_isDisposed())return;this.$R_2=null;this.$2V_2=null;Mscrm.InlineEditControlBaseLayout.prototype.dispose.call(this)},get_labelElement:function(){if(IsNull(this.$R_2)){var $v_0=String.format(".{0}","processStep"),$v_1=this.get_chromeElement().parents($v_0),$v_2=String.format(".{0}","processStepLabel"),$v_3=String.format(".{0}","processStepLabelMask");this.$R_2=$v_1.children($v_2);this.$2V_2=$v_1.children($v_3)}return this.$R_2},get_iconElement:function(){if(IsNull(this.$30_2)){var $v_0=this.get_labelElement().parent(".processStep");this.$30_2=$v_0.children("img.completedStep")}return this.$30_2},isElementInLabel:function($p0){if(!this.get_labelElementExists())return false;return Mscrm.InlineEditControlBaseLayout.prototype.isElementInLabel.call(this,$p0)||!IsNull(this.$2V_2)&&$p0.get(0)===this.$2V_2.get(0)},renderForRead:function(){Mscrm.InlineEditControlBaseLayout.prototype.renderForRead.call(this);var $v_0=this.$U_1.get_controlMode();this.get_chromeElement().addClass($v_0);var $v_1=Mscrm.InlineEditConstants.DefaultEmptyValuePlaceholder;if($v_0!==Mscrm.InlineEditControlMode.locked&&$v_0!==Mscrm.InlineEditControlMode.deactivated)$v_1=window.LOCID_IEC_CLICKTOENTER;this.$U_1.set_emptyValuePlaceholder($v_1)},updateTooltip:function($p0){Mscrm.InlineEditControlBaseLayout.prototype.updateTooltip.call(this,$p0);this.get_chromeElement().attr("title",$p0)}};Mscrm.SalesProcessLookupLayout=function($p0,$p1){Mscrm.SalesProcessLookupLayout.initializeBase(this,[$p0,$p1]);this.set_showEditIcon(true)};Mscrm.SalesProcessLookupLayout.prototype={get_editIconPath:function(){return "/_imgs/search_normal.gif"},get_editIconHtml:function(){return Mscrm.InlineLookupUtility.$3b(this.get_editIconPath(),'<div class="{0}"><img src="{1}" class="{2}" alt=""/></div>',"ms-crm-InlineLookupEdit ms-crm-EditLookup-Process-Image")},get_chromeBehaviorType:function(){return Mscrm.InlineEditLookupChromeBehavior},updateTooltip:function($p0){}};Mscrm.SalesProcessOptionSetLayout=function($p0,$p1){Mscrm.SalesProcessOptionSetLayout.initializeBase(this,[$p0,$p1])};Mscrm.SalesProcessOptionSetLayout.prototype={renderForEdit:function(){Mscrm.InlineEditControlBaseLayout.prototype.renderForEdit.call(this);if(!window.UseTabletExperience){this.get_editElementWrapper().bind(Mscrm.StateChangeEvents.edit,this.$$d_addScrollClass);this.get_editElementWrapper().bind(Mscrm.StateChangeEvents.read,this.$$d_removeScrollClass)}},get_checkAdjustFocusElement:function(){return true}};Mscrm.SalesProcessTextAreaLayout=function($p0,$p1){this.$$d_$7m_3=Function.createDelegate(this,this.$7m_3);this.$$d_$7z_3=Function.createDelegate(this,this.$7z_3);Mscrm.SalesProcessTextAreaLayout.initializeBase(this,[$p0,$p1])};Mscrm.SalesProcessTextAreaLayout.prototype={$1I_3:null,$2K_3:null,dispose:function(){if(this.get_isDisposed())return;if(this.get_chromeElement().children("."+Mscrm.InlineCssClassNames.editElement).length===1){var $v_0=Mscrm.TextAreaHelper.findTextArea(this.get_editElementWrapper());this.$8N_3($v_0)}this.$1I_3=null;this.$2K_3=null;Mscrm.SalesProcessLayout.prototype.dispose.call(this)},get_labelElementExists:function(){return false},renderForRead:function(){Mscrm.SalesProcessLayout.prototype.renderForRead.call(this);this.get_chromeElement().css("height","").css("overflow","");this.$1I_3=this.get_chromeElement().parent();this.$1I_3.addClass("inlineTextAreaContainer");this.$2K_3=this.get_chromeElement().parents("div")},renderForEdit:function(){Mscrm.InlineEditControlBaseLayout.prototype.renderForEdit.call(this);var $v_0=Mscrm.TextAreaHelper.findTextArea(this.get_editElementWrapper());this.$5b_3($v_0)},$5b_3:function($p0){$p0.focus(this.$$d_$7z_3);$p0.blur(this.$$d_$7m_3)},$8N_3:function($p0){$p0.unbind(Mscrm.EventNames.focus,this.$$d_$7z_3);$p0.unbind("blur",this.$$d_$7m_3)},$7z_3:function($p0){if($P_CRM($p0.target).is(":focus"))return;$P_CRM("#crmNavBar").addClass("onTop");$P_CRM("#mainContainer").addClass("noOverflow");this.$2K_3.addClass("noScroll");this.$1I_3.addClass("inEdit");this.$1I_3.trigger("stepControlWiden",[100]);this.get_chromeElement().addClass("inEdit")},$7m_3:function($p0){this.get_chromeElement().removeClass("inEdit");this.$1I_3.trigger("stepControlNarrow");this.$1I_3.removeClass("inEdit");this.$2K_3.removeClass("noScroll");$P_CRM("#mainContainer").removeClass("noOverflow");$P_CRM("#crmNavBar").removeClass("onTop")}};Mscrm.SalesProcessToggleLayout=function($p0,$p1){Mscrm.SalesProcessToggleLayout.initializeBase(this,[$p0,$p1])};Mscrm.SalesProcessToggleLayout.prototype={get_chromeBehaviorType:function(){return Mscrm.InlineEditToggleChromeBehavior}};Mscrm.TextAreaLayout=function($p0,$p1){this.$$d_$8w_2=Function.createDelegate(this,this.$8w_2);this.$$d_$8p_2=Function.createDelegate(this,this.$8p_2);this.$$d_$8o_2=Function.createDelegate(this,this.$8o_2);Mscrm.TextAreaLayout.initializeBase(this,[$p0,$p1])};Mscrm.TextAreaLayout.prototype={$13_2:null,$1z_2:null,$2O_2:null,get_chromeBehaviorType:function(){return Mscrm.InlineEditTextAreaChromeBehavior},$3f_2:function(){if(!this.$2O_2)this.$2O_2=this.get_chromeElement().parents(String.format(".{0}","ms-crm-Field-Data-Print")).first();return this.$2O_2},renderForRead:function(){Mscrm.InlineEditControlBaseLayout.prototype.renderForRead.call(this);this.$8b_2()},$8b_2:function(){var $v_0=this.$3f_2();if($v_0.length===1){var $v_1=$v_0.attr("data-height");if(!isNullOrEmptyString($v_1)){var $v_2=parseInt($v_1);if(!isNaN($v_2)){var $v_3=this.get_valueElement().outerHeight(true)-this.get_valueElement().height(),$v_4=$v_2-$v_3;$v_4=$v_4>0?$v_4:0;$v_1=$v_4.toString()}$v_0.height("auto");this.get_chromeElement().height("auto").css("overflow","");this.get_valueElement().css("min-height",$v_1+"px");if(!this.get_$4v_2()){this.get_valueElement().height($v_1+"px");this.get_valueElement().css("overflow","auto")}}}},renderForEdit:function(){Mscrm.InlineEditControlBaseLayout.prototype.renderForEdit.call(this);this.$8a_2();this.get_chromeElement().bind("TransitionToEditStart",this.$$d_$8o_2);this.get_editElementWrapper().bind(Mscrm.StateChangeEvents.read,this.$$d_$8p_2);$P_CRM(window).resize(this.$$d_$8w_2)},$8a_2:function(){var $v_0=this.$3f_2();if($v_0.length===1){var $v_1=$v_0.attr("data-height");!isNullOrEmptyString($v_1)&&this.get_$2C_2().css("min-height",$v_1+"px").css("overflow","auto")}},$2k_2:function(){var $v_0;if(this.get_$7G_2())$v_0=this.$U_1.get_disabled()||this.$U_1.get_hasError()?35:12;else $v_0=35;var $v_1=this.get_chromeElement().width()-$v_0;$v_1>=0&&this.get_$2C_2().width($v_1)},$8p_2:function($p0){this.get_$4v_2()&&this.get_$2C_2().height("auto")},$8o_2:function($p0){var $v_0=Mscrm.Utilities.isMobileRefresh()?240:this.get_valueElement().height();this.get_$2C_2().height($v_0);this.$2k_2()},$8w_2:function($p0){this.$2k_2()},get_$2C_2:function(){if(IsNull(this.$13_2))this.$13_2=Mscrm.TextAreaHelper.findTextArea(this.get_editElementWrapper());return this.$13_2},dispose:function(){if(this.get_isDisposed())return;this.$13_2=null;this.$1z_2=null;this.$2O_2=null;$P_CRM(window).unbind("resize",this.$$d_$8w_2);Mscrm.InlineEditControlBaseLayout.prototype.dispose.call(this)},get_showGradientMask:function(){return false},get_$7G_2:function(){if(IsNull(this.$1z_2)){var $v_0=this.get_chromeElement();this.$1z_2=$v_0.parents(".ms-crm-Inline-DynamicGutter")}return !IsNull(this.$1z_2)&&this.$1z_2.length>0},get_$4v_2:function(){if(this.$U_1.get_attribute().get_isCompositeAttributeValueSet())return true;var $v_0=this.$3f_2();if($v_0.length===1){var $v_1=$v_0.attr("isautoexpanding");if(!isNullOrEmptyString($v_1)&&$v_1.toUpperCase()==="TRUE")return true}return false}};Mscrm.ToggleLayout=function($p0,$p1){Mscrm.ToggleLayout.initializeBase(this,[$p0,$p1])};Mscrm.ToggleLayout.prototype={get_chromeBehaviorType:function(){return Mscrm.InlineEditToggleChromeBehavior}};Mscrm.AutoCompleteLayout=function(chromeElement,viewModel){this.$$d_$7u_2=Function.createDelegate(this,this.$7u_2);this.$$d_$52_2=Function.createDelegate(this,this.$52_2);Mscrm.AutoCompleteLayout.initializeBase(this,[chromeElement,viewModel])};Mscrm.AutoCompleteLayout.prototype={get_showGradientMask:function(){return false},$1q_2:null,renderForRead:function(){this.get_valueElement().addClass(this.$3W_2)},renderForEdit:function(){this.get_editElementWrapper().addClass("ui-autocomplete-wrapper");var $v_0=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create(this.$3F_2));this.$1q_2=$P_CRM("<a></a>").addClass("ui-combobox-toggle").attr("title",this.$1s_2).attr("alt",this.$1s_2);this.$1q_2.append($P_CRM("<img></img>").attr("src",$v_0.source).addClass($v_0.cssClass+" ui-ac-dropdown-img"));this.$1q_2.appendTo(this.get_editElementWrapper()).click(this.$$d_$52_2).bind(Mscrm.EventNames.keyDown,this.$$d_$7u_2)},dispose:function(){if(this.get_isDisposed())return;!IsNull(this.$1q_2)&&this.$1q_2.unbind(Mscrm.EventNames.click,this.$$d_$52_2).unbind(Mscrm.EventNames.keyDown,this.$$d_$7u_2);Mscrm.InlineEditControlBaseLayout.prototype.dispose.call(this)},$7u_2:function($p0){switch($p0.which){case 13:this.$52_2(null);$p0.preventDefault();$p0.stopPropagation();break}},$52_2:function($p0){if(this.get_$2l_2().autocomplete("widget").is(":visible")){this.get_$2l_2().autocomplete("close");return}$P_CRM(this).blur();this.get_$2l_2().autocomplete("search","");this.get_$2l_2().focus()},get_$2l_2:function(){return this.get_editElementWrapper().children(":first-child")},get_valueElementClass:function(){return this.$3W_2},set_valueElementClass:function(value){this.$3W_2=value;return value},get_imageIconFilePath:function(){return this.$3F_2},set_imageIconFilePath:function(value){this.$3F_2=value;return value},get_imageIconTooltip:function(){return this.$1s_2},set_imageIconTooltip:function(value){this.$1s_2=value;return value},$3W_2:"ui-autocomplete-value",$3F_2:"/_imgs/ProcessControl/dropdown.png",$1s_2:""};Mscrm.InlineAttributeBase=function(jsonWrapper,initialValue,formDataEntityId){Mscrm.InlineAttributeBase.$7h(jsonWrapper,initialValue);this._jsonWrapper=jsonWrapper;this.$1C_0=initialValue;this.$3B_0=formDataEntityId};Mscrm.InlineAttributeBase.$7h=function($p0,$p1){if(!IsNull($p0)&&!IsNull($p1)){if($p1["securedcreate"]==="1")$p0.CanCreate=false;if($p1["securedupdate"]==="1")$p0.CanUpdate=false;if($p1["securedread"]==="1"){$p0.CanRead=false;$p1["value"]=""}}};Mscrm.InlineAttributeBase.prototype={_jsonWrapper:null,$1C_0:null,$3B_0:null,$45_0:false,get_dataAttribute:function(){return $find(this.get_dataAttributeId())},get_displayValue:function(){return (this.get_rawValue()||"").toString()},get_rawValue:function(){return this.get_dataAttribute().get_value()},set_rawValue:function(value){this.get_dataAttribute().set_value(value);return value},get_initialValue:function(){return this.$1C_0},get_dataAttributeId:function(){return Mscrm.ClientApiConstants.attributeIdPrefix+this.$3B_0+"_"+this.get_logicalName()},get_logicalName:function(){return this._jsonWrapper.LogicalName},get_labelName:function(){return this._jsonWrapper.LabelName},get_privilegeMask:function(){var $v_0=0;if(this._jsonWrapper.CanCreate)$v_0|=1;if(this._jsonWrapper.CanRead)$v_0|=2;if(this._jsonWrapper.CanUpdate)$v_0|=4;return $v_0},get_requiredLevel:function(){return this._jsonWrapper.RequiredLevel},set_requiredLevel:function(value){this._jsonWrapper.RequiredLevel=value;return value},get_imeMode:function(){return this._jsonWrapper.ImeMode},get_isDisabled:function(){return this._jsonWrapper.IsDisabled},get_attributeType:function(){return this._jsonWrapper.AttributeType},get_attributeFormat:function(){return this._jsonWrapper.Format},get_canUpdate:function(){return this._jsonWrapper.CanUpdate},get_canCreate:function(){return this._jsonWrapper.CanCreate},get_canRead:function(){return this._jsonWrapper.CanRead},get_isCompositeAttributeValueSet:function(){return this.$45_0},set_isCompositeAttributeValueSet:function(value){this.$45_0=value;return value},get_parentFormDataEntityId:function(){return this.$3B_0},get_firstAvailableControl:function(){var $v_0=this.get_dataAttribute().get_firstAvailableControl();return $v_0},addOnChange:function(handler,system){this.get_dataAttribute().addOnChange(handler,system)},removeOnChange:function(handler){this.get_dataAttribute().removeOnChange(handler)},addOnChangeInternal:function(handler,system){this.get_dataAttribute().addOnChangeInternal(handler,system)},removeOnChangeInternal:function(handler){this.get_dataAttribute().removeOnChangeInternal(handler)}};Mscrm.InlineCheckBoxAttribute=function($p0,$p1,$p2){Mscrm.InlineCheckBoxAttribute.initializeBase(this,[$p0,$p1,$p2]);if(IsNull(this.$1y_1))this.$1y_1=$p0.Options};Mscrm.InlineCheckBoxAttribute.prototype={$1y_1:null,get_dataAttributeType:function(){return Mscrm.OptionSetAttribute},get_options:function(){return this.$1y_1}};Mscrm.InlineDateTimeAttribute=function($p0,$p1,$p2){Mscrm.InlineDateTimeAttribute.initializeBase(this,[$p0,$p1,$p2])};Mscrm.InlineDateTimeAttribute.formatDisplayValue=function($p0,$p1,$p2,$p3){if(!IsNull($p0)){var $v_0=Mscrm.DateTimeUtility.formatDate($p0);switch($p1){case "datetime":if(IsNull($p3)||$p3){var $v_1=timeToString($p0,0);return String.format("{0}{2}{1}",$v_0,$v_1,$p2)}else return String.format("{0}{1}",$v_0,$p2);case "date":return $v_0;default:return $v_0}}return null};Mscrm.InlineDateTimeAttribute.prototype={get_displayValue:function(){return Mscrm.InlineDateTimeAttribute.formatDisplayValue(this.get_rawValue(),this.get_attributeFormat()," ")},get_dataAttributeType:function(){return Mscrm.DateTimeAttribute}};Mscrm.InlineEmailBodyAttribute=function($p0,$p1,$p2){Mscrm.InlineEmailBodyAttribute.initializeBase(this,[$p0,$p1,$p2])};Mscrm.InlineEmailBodyAttribute.prototype={get_dataAttributeType:function(){return Mscrm.InlineFormDataEmailBodyAttribute}};Mscrm.InlineLookupAttribute=function($p0,$p1,$p2){Mscrm.InlineLookupAttribute.initializeBase(this,[$p0,$p1,$p2])};Mscrm.InlineLookupAttribute.prototype={get_lookupTypes:function(){return this._jsonWrapper.LookupTypes},get_createPermissionDictionary:function(){return this._jsonWrapper.CreatePermissionDictionary},get_crmAttributeId:function(){return this._jsonWrapper.CrmAttributeId},get_lookupTypeNames:function(){return this._jsonWrapper.LookupTypeNames},get_lookupTypeIcons:function(){return this._jsonWrapper.LookupTypeIcons},get_lookupBrowse:function(){return this._jsonWrapper.LookupBrowse},get_lookupStyle:function(){return this._jsonWrapper.LookupStyle},get_defaultType:function(){return this._jsonWrapper.DefaultType},get_currencyDisplayOption:function(){return this._jsonWrapper.CurrencyDisplayOption},get_displayValue:function(){var $v_0=this.get_dataAttribute().get_value();if(IsNull($v_0)||!$v_0.length)return "";return $v_0[0].name},get_dataAttributeType:function(){return Mscrm.InlineFormDataLookupAttribute}};Mscrm.InlineMoneyAttribute=function($p0,$p1,$p2){this.$1a_2=-1;Mscrm.InlineMoneyAttribute.initializeBase(this,[$p0,$p1,$p2])};Mscrm.InlineMoneyAttribute.prototype={$2F_2:null,get_currencySymbol:function(){if(isNullOrEmptyString(this.$2F_2)){var $v_0=this._jsonWrapper.CurrencySymbol;if(isNullOrEmptyString($v_0)&&!IsNull(this.$1C_0))$v_0=CrmEncodeDecode.CrmHtmlDecode(CrmEncodeDecode.CrmHtmlDecode(this.$1C_0["symbol"]));this.$2F_2=$v_0}return this.$2F_2},set_currencySymbol:function($p0){this.$2F_2=$p0;return $p0},get_isBaseCurrency:function(){return this._jsonWrapper.IsBaseCurrency},get_precisionSource:function(){return this._jsonWrapper.PrecisionSource},get_displayValue:function(){var $v_0=IsNull(this.get_rawValue())?"":Mscrm.NumberUtility.addFormatting(this.get_rawValue(),this.get_precision());if(isNullOrEmptyString($v_0))return "";var $v_1=isNullOrEmptyString(this.get_currencySymbol())?"":this.get_currencySymbol();if(window.SYMBOLPOISTION_CURRENCY)return $v_1+$v_0;else return $v_0+$v_1},get_precision:function(){if(this.$1a_2===-1){var $v_0=-1;if(this.$1C_0&&"precision" in this.$1C_0){var $v_1=this.$1C_0["precision"];if(!isNullOrEmptyString($v_1))$v_0=Number.parseInvariant($v_1)}if($v_0>=0)this.$1a_2=$v_0;else this.$1a_2=Mscrm.InlineNumberAttribute.prototype.get_precision.call(this)}return this.$1a_2},set_precision:function($p0){if(this.get_precisionSource()===window.PRECISIONSOURCE_CURRENCY)this.$1a_2=$p0;return $p0}};Mscrm.InlineMultiplePicklistAttribute=function($p0,$p1,$p2){Mscrm.InlineMultiplePicklistAttribute.initializeBase(this,[$p0,$p1,$p2])};Mscrm.InlineMultiplePicklistAttribute.prototype={get_dataAttributeType:function(){return Mscrm.FormDataAttribute},get_options:function(){return this._jsonWrapper.Options},get_displayValue:function(){return ""}};Mscrm.InlineNumberAttribute=function($p0,$p1,$p2){Mscrm.InlineNumberAttribute.initializeBase(this,[$p0,$p1,$p2])};Mscrm.InlineNumberAttribute.prototype={get_minValue:function(){return this._jsonWrapper.MinValue},get_maxValue:function(){return this._jsonWrapper.MaxValue},get_precision:function(){return this._jsonWrapper.Precision},set_precision:function($p0){this._jsonWrapper.Precision=$p0;return $p0},get_dataAttributeType:function(){return Mscrm.NumberAttribute},get_displayValue:function(){if(IsNull(this.get_rawValue()))return "";if(this._jsonWrapper.Format==="duration")return Mscrm.NumberUtility.formatDuration(parseInt(this.get_rawValue().toString()));return Mscrm.NumberUtility.addFormatting(this.get_rawValue(),this.get_precision())}};Mscrm.InlineOptionSetAttribute=function(jsonWrapper,initialValue,formDataEntityId){Mscrm.InlineOptionSetAttribute.initializeBase(this,[jsonWrapper,initialValue,formDataEntityId])};Mscrm.InlineOptionSetAttribute.prototype={get_options:function(){return this._jsonWrapper.Options},get_displayValue:function(){return this.get_dataAttribute().get_formattedValue()},get_dataAttributeType:function(){return Mscrm.OptionSetAttribute}};Mscrm.InlineStatusAttribute=function(jsonWrapper,initialValue,formDataEntityId,metadata){Mscrm.InlineStatusAttribute.initializeBase(this,[jsonWrapper,initialValue,formDataEntityId]);this.$2X_2=metadata};Mscrm.InlineStatusAttribute.prototype={$2X_2:null,get_metadata:function(){return this.$2X_2},set_metadata:function(value){this.$2X_2=value;return value}};Mscrm.InlineTextAttribute=function($p0,$p1,$p2){Mscrm.InlineTextAttribute.initializeBase(this,[$p0,$p1,$p2])};Mscrm.InlineTextAttribute.prototype={get_dataAttributeType:function(){return Mscrm.TextAttribute},get_maxLength:function(){var $v_0=this._jsonWrapper.MaxLength;return IsNull($v_0)?255:this._jsonWrapper.MaxLength}};Mscrm.InlineRelatedCasesLookupAttribute=function($p0,$p1,$p2){Mscrm.InlineRelatedCasesLookupAttribute.initializeBase(this,[$p0,$p1,$p2])};Mscrm.InlineRelatedCasesLookupAttribute.prototype={get_dataAttributeType:function(){return Mscrm.InlineFormDataRelatedCasesLookupAttribute}};Mscrm.InlineEditControlCommonUtility=function(){};Mscrm.InlineEditControlCommonUtility.setUnusedRowsVisibility=function($p0,$p1,$p2){var $v_0=parseInt($p0.attr("rowspan"),10),$v_1=$p2?"":"none",$v_2=$p1;while(!isNaN($v_0)&&$v_0>1&&!IsNull($v_2)){$v_2=$v_2.next();$v_0--;if(!$p2&&!Mscrm.InlineEditControlCommonUtility.isElementAllChildrenHidden($v_2))continue;$v_2.css("display",$v_1)}};Mscrm.InlineEditControlCommonUtility.isElementAllChildrenHidden=function($p0){return !$p0.children(":not(:hidden)").length};Mscrm.InlineEditControlCommonUtility.updatePageControlsErrorDivMessage=function(){Xrm.Page.ui.controls.forEach(function($p1_0,$p1_1){Mscrm.SimpleInlineControlView.isInstanceOfType($p1_0)&&$p1_0.updateControlErrorDivMessage()})};Mscrm.InlineEditControlCommonUtility.showParentView=function($p0){!IsNull($p0)&&$p0.setVisible(true)};Mscrm.InlineEditControlCommonUtility.hideParentViewIfNoControlsVisible=function($p0){!IsNull($p0)&&$p0.getVisible()&&!$p0.isSectionAnyChildVisible()&&$p0.setVisible(false)};Mscrm.InlineCheckBoxControlViewModel=function(attribute,initialControlMode){Mscrm.InlineCheckBoxControlViewModel.initializeBase(this,[attribute,initialControlMode])};Mscrm.InlineCheckBoxControlViewModel.prototype={get_chromeBehaviorType:function(){return Mscrm.InlineEditCheckBoxChromeBehavior},get_behaviorType:function(){return Mscrm.InlineCheckBoxControlBehavior},get_controlType:function(){return Mscrm.InlineFormDataControl}};Mscrm.InlineControlViewModelBase=function(attribute,initialControlMode){this.$1_0=attribute;this.setInitialControlMode(initialControlMode);this.$1O_0=window.LOCID_IEC_CLICKTOENTER};Mscrm.InlineControlViewModelBase.prototype={$1_0:null,$E_0:null,$31_0:null,$37_0:null,$3J_0:null,$32_0:null,$1O_0:null,$42_0:false,raisePropertyChange:function(propertyName){$P_CRM(this).trigger(Mscrm.EventNames.propertyChange,[propertyName])},setInitialControlMode:function(initialControlMode){initialControlMode=this.$8r_0(initialControlMode);if(initialControlMode===Mscrm.InlineEditControlMode.deactivated)this.set_controlMode(initialControlMode);else if(initialControlMode===Mscrm.InlineEditControlMode.locked||!this.isAttributeLocked())if(this.$1_0.get_isCompositeAttributeValueSet())this.set_controlMode(Mscrm.InlineEditControlMode.normal);else this.set_controlMode(initialControlMode);else this.set_controlMode(Mscrm.InlineEditControlMode.locked);this.$31_0=Mscrm.InlineEditControlMode.normal},isAttributeLocked:function(){return this.$1_0.get_isDisabled()||Mscrm.InlineEditDataService.isNew()&&!this.$1_0.get_canCreate()||!Mscrm.InlineEditDataService.isNew()&&!this.$1_0.get_canUpdate()},$8u_0:function($p0){var $v_0=new Mscrm.ValidationResult(true,null);if((this.get_requiredLevel()===Mscrm.AttributeRequiredLevel.systemRequired||this.get_requiredLevel()===Mscrm.AttributeRequiredLevel.required)&&isNullOrEmptyString($p0)){if(this.get_disabled())return $v_0;$v_0.isValid=false;var $v_1=this.get_labelValue().trim();if(isNullOrEmptyString($v_1))if(!($v_1=this.$1_0.get_labelName()))$v_1=this.$1_0.get_logicalName();$v_0.errorText=String.format(window.LOCID_FORM_PROIVE_VALUE_MASK,$v_1)}return $v_0},get_attribute:function(){return this.$1_0},set_attribute:function(value){this.$1_0=value;return value},get_disabled:function(){return this.get_controlMode()===Mscrm.InlineEditControlMode.locked||this.get_controlMode()===Mscrm.InlineEditControlMode.deactivated},set_disabled:function(value){this.get_controlMode()!==Mscrm.InlineEditControlMode.alwaysEdit&&this.set_controlMode(value?Mscrm.InlineEditControlMode.locked:this.$31_0);return value},get_labelValue:function(){return this.$3J_0},set_labelValue:function(value){this.$3J_0=value;this.raisePropertyChange("LabelValue");return value},get_defaultEditValue:function(){return this.$32_0},set_defaultEditValue:function(value){this.$32_0=value;this.raisePropertyChange("DefaultEditValue");return value},get_emptyValuePlaceholder:function(){return this.$1O_0},set_emptyValuePlaceholder:function(value){this.$1O_0=value;this.raisePropertyChange("EmptyValuePlaceholder");return value},get_emptyValueTooltip:function(){return window.LOCID_IEC_SELECTTOENTER},get_hasError:function(){return this.$42_0},set_hasError:function(value){this.$42_0=value;return value},get_editValue:function(){return this.$37_0},set_editValue:function(value){this.$37_0=value;this.raisePropertyChange("EditValue");return value},get_controlMode:function(){return this.$E_0},set_controlMode:function(value){switch(value){case Mscrm.InlineEditControlMode.normal:case Mscrm.InlineEditControlMode.locked:case Mscrm.InlineEditControlMode.alwaysEdit:case Mscrm.InlineEditControlMode.deactivated:break;default:throw Error.argumentOutOfRange("ControlMode",value)}this.$E_0=value;this.raisePropertyChange("ControlMode");return value},get_requiredLevel:function(){return this.$1_0.get_requiredLevel()},set_requiredLevel:function(value){this.$1_0.set_requiredLevel(value);return value},setDefaultControlMode:function(defaultControlMode){this.set_controlMode(defaultControlMode);this.$31_0=defaultControlMode},validate:function(value){return this.$8u_0(value)},setPropertyWithoutRaisingEvent:function(propertyName,value){switch(propertyName){case "EditValue":this.$37_0=IsNull(value)?"":value.toString();break;case "LabelValue":this.$3J_0=IsNull(value)?"":value.toString();break;case "ControlMode":this.$E_0=IsNull(value)?"":value.toString();break;case "DefaultEditValue":this.$32_0=IsNull(value)?"":value.toString();break;case "EmptyValuePlaceholder":this.$1O_0=IsNull(value)?"":value.toString();break}},get_optimizeForMobileRendering:function(){return !Mscrm.Utilities.isIE()&&this.get_controlSupportOptimizationForMobileRendering()},get_controlSupportOptimizationForMobileRendering:function(){return false},$8r_0:function($p0){if(Mscrm.Utilities.isMobileRefresh()&&!this.get_optimizeForMobileRendering()&&$p0===Mscrm.InlineEditControlMode.normal)return Mscrm.InlineEditControlMode.alwaysEdit;return $p0}};Mscrm.InlineDateTimeControlViewModel=function($p0,$p1){Mscrm.InlineDateTimeControlViewModel.initializeBase(this,[$p0,$p1]);this.$22_1=false};Mscrm.InlineDateTimeControlViewModel.prototype={get_chromeBehaviorType:function(){return Mscrm.InlineEditChromeBehavior},get_behaviorType:function(){return Mscrm.InlineDateTimeBehavior},get_controlType:function(){return Mscrm.InlineFormDataControl},get_showDateOnly:function(){return this.$22_1},set_showDateOnly:function($p0){this.$22_1=$p0;return $p0},$22_1:false};Mscrm.InlineDurationControlViewModel=function($p0,$p1){Mscrm.InlineDurationControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineDurationControlViewModel.prototype={get_behaviorType:function(){return Mscrm.InlineDurationBehavior},get_controlSupportOptimizationForMobileRendering:function(){return false}};Mscrm.InlineEmailAddressControlViewModel=function($p0,$p1){Mscrm.InlineEmailAddressControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineEmailAddressControlViewModel.prototype={get_maxLength:function(){return this.$1_0.get_maxLength()},get_chromeBehaviorType:function(){return Mscrm.InlineEditChromeBehavior},get_behaviorType:function(){return Mscrm.InlineEmailAddressBehavior},get_controlType:function(){return Mscrm.InlineFormDataControl},get_controlSupportOptimizationForMobileRendering:function(){return true}};Mscrm.InlineEmailBodyControlViewModel=function(attribute,initialControlMode){Mscrm.InlineEmailBodyControlViewModel.initializeBase(this,[attribute,initialControlMode])};Mscrm.InlineEmailBodyControlViewModel.prototype={get_chromeBehaviorType:function(){return Mscrm.InlineEmailBodyChromeBehavior},get_behaviorType:function(){return Mscrm.InlineEmailBodyControlBehavior},get_controlType:function(){return Mscrm.InlineEmailBodyFormDataControl}};Mscrm.InlineLookupControlViewModel=function(attribute,initialControlMode){Mscrm.InlineLookupControlViewModel.initializeBase(this,[attribute,initialControlMode])};Mscrm.InlineLookupControlViewModel.prototype={get_chromeBehaviorType:function(){return Mscrm.InlineEditLookupChromeBehavior},get_behaviorType:function(){return Mscrm.InlinePresenceLookupUIBehavior},get_controlType:function(){return Mscrm.InlineLookupFormDataControl},get_lookupTypes:function(){return this.$1_0.get_lookupTypes()},get_createPermissionDictionary:function(){return this.$1_0.get_createPermissionDictionary()},get_crmAttributeId:function(){return this.$1_0.get_crmAttributeId()},get_lookupTypeNames:function(){return this.$1_0.get_lookupTypeNames()},get_lookupTypeIcons:function(){return this.$1_0.get_lookupTypeIcons()},get_lookupBrowse:function(){return this.$1_0.get_lookupBrowse()},get_lookupStyle:function(){return this.$1_0.get_lookupStyle()},get_defaultType:function(){return this.$1_0.get_defaultType()},isAttributeLocked:function(){return isNullOrEmptyString(this.get_lookupTypes())||this.$1_0.get_isDisabled()||Mscrm.InlineEditDataService.isNew()&&!this.$1_0.get_canCreate()||!Mscrm.InlineEditDataService.isNew()&&!this.$1_0.get_canUpdate()&&this.$1_0.get_logicalName()!=="ownerid"}};Mscrm.InlineMoneyControlViewModel=function($p0,$p1){Mscrm.InlineMoneyControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineMoneyControlViewModel.prototype={get_behaviorType:function(){return Mscrm.InlineMoneyBehavior},get_controlType:function(){return Mscrm.InlineMoneyFormDataControl},get_currencySymbol:function(){return this.$1_0.get_currencySymbol()},set_currencySymbol:function($p0){this.$1_0.set_currencySymbol($p0);this.raisePropertyChange("CurrencySymbol");return $p0},get_isBaseCurrency:function(){return this.$1_0.get_isBaseCurrency()},get_precisionSource:function(){return this.$1_0.get_precisionSource()},get_controlSupportOptimizationForMobileRendering:function(){return false}};Mscrm.InlineMultiplePicklistControlViewModel=function(attribute,initialControlMode){Mscrm.InlineMultiplePicklistControlViewModel.initializeBase(this,[attribute,initialControlMode])};Mscrm.InlineMultiplePicklistControlViewModel.prototype={$2h_1:null,get_chromeBehaviorType:function(){return Mscrm.InlineEditChromeBehavior},get_behaviorType:function(){return Mscrm.InlineMultiplePicklistBehavior},get_controlType:function(){return Mscrm.InlineFormDataControl},get_selectedItemIndexes:function(){if(IsNull(this.$2h_1))this.$2h_1=[];return this.$2h_1},set_selectedItemIndexes:function(value){this.$2h_1=value;return value},get_options:function(){return this.$1_0.get_options()}};Mscrm.InlineNumberControlViewModel=function($p0,$p1){Mscrm.InlineNumberControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineNumberControlViewModel.prototype={get_chromeBehaviorType:function(){return Mscrm.InlineEditChromeBehavior},get_behaviorType:function(){return Mscrm.InlineNumberBehavior},get_controlType:function(){return Mscrm.InlineFormDataControl},get_minValue:function(){return this.$1_0.get_minValue()},get_maxValue:function(){return this.$1_0.get_maxValue()},get_precision:function(){return this.$1_0.get_precision()},set_precision:function($p0){this.$1_0.set_precision($p0);this.raisePropertyChange("Precision");return $p0},get_controlSupportOptimizationForMobileRendering:function(){return true}};Mscrm.InlineOptionSetControlViewModel=function($p0,$p1){Mscrm.InlineOptionSetControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineOptionSetControlViewModel.prototype={get_chromeBehaviorType:function(){return Mscrm.InlineEditChromeBehavior},get_behaviorType:function(){return Mscrm.InlineOptionSetBehavior},get_controlType:function(){return Mscrm.OptionSetUIControl},get_options:function(){return this.$1_0.get_options()}};Mscrm.InlineStatusControlViewModel=function($p0,$p1,$p2){Mscrm.InlineStatusControlViewModel.initializeBase(this,[$p0,$p1]);this.$2i_2=$p2};Mscrm.InlineStatusControlViewModel.$6o=function($p0,$p1){for(var $$arr_2=$p0,$$len_3=$$arr_2.length,$$idx_4=0;$$idx_4<$$len_3;++$$idx_4){var $v_0=$$arr_2[$$idx_4];if($v_0.Value===$p1)return $v_0}return null};Mscrm.InlineStatusControlViewModel.prototype={$2i_2:0,get_statusCode:function(){return this.$2i_2},set_statusCode:function($p0){this.$2i_2=$p0;return $p0},get_options:function(){return this.$4k_2(this.$2i_2)},$4k_2:function($p0){var $v_0=this.$1_0.$2X_2.Options,$v_1=new Array(0),$v_2=Mscrm.InlineStatusControlViewModel.$6o($v_0,$p0);if($v_2){var $v_3=new Mscrm.EnumOptionJsonWrapper;$v_3.Value=$v_2.Value;$v_3.Label=$v_2.Label;$v_1[$v_1.length]=$v_3;for(var $v_4=0;$v_2.AllowedStatusTransition&&$v_4<$v_2.AllowedStatusTransition.length;$v_4++)for(var $$arr_6=$v_0,$$len_7=$$arr_6.length,$$idx_8=0;$$idx_8<$$len_7;++$$idx_8){var $v_5=$$arr_6[$$idx_8];if($v_2.AllowedStatusTransition[$v_4]===$v_5.Value.toString()&&$v_2.State===$v_5.State){var $v_6=new Mscrm.EnumOptionJsonWrapper;$v_6.Value=$v_5.Value;$v_6.Label=$v_5.Label;$v_1[$v_1.length]=$v_6}}}return $v_1}};Mscrm.InlineTextAreaControlViewModel=function($p0,$p1){Mscrm.InlineTextAreaControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineTextAreaControlViewModel.prototype={get_behaviorType:function(){return Mscrm.InlineTextAreaBehavior},get_chromeBehaviorType:function(){return Mscrm.InlineEditTextAreaChromeBehavior},get_controlSupportOptimizationForMobileRendering:function(){return false}};Mscrm.InlineTextBoxControlViewModel=function($p0,$p1){Mscrm.InlineTextBoxControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineTextBoxControlViewModel.prototype={get_maxLength:function(){return this.$1_0.get_maxLength()},get_imeMode:function(){return this.$1_0.get_imeMode()},get_chromeBehaviorType:function(){return Mscrm.InlineEditChromeBehavior},get_behaviorType:function(){return Mscrm.InlineTextBoxBehavior},get_controlType:function(){return Mscrm.InlineFormDataControl},get_controlSupportOptimizationForMobileRendering:function(){return true}};Mscrm.InlineTickerControlViewModel=function($p0,$p1){Mscrm.InlineTickerControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineTickerControlViewModel.prototype={get_maxLength:function(){return this.$1_0.get_maxLength()},get_chromeBehaviorType:function(){return Mscrm.InlineEditChromeBehavior},get_behaviorType:function(){return Mscrm.InlineTickerBehavior},get_controlType:function(){return Mscrm.InlineFormDataControl}};Mscrm.InlineToggleControlViewModel=function($p0,$p1){Mscrm.InlineToggleControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineToggleControlViewModel.prototype={get_chromeBehaviorType:function(){return Mscrm.InlineEditToggleChromeBehavior},get_behaviorType:function(){return Mscrm.InlineOptionSetBehavior},get_controlType:function(){return Mscrm.InlineFormDataControl},get_options:function(){return this.$1_0.get_options()}};Mscrm.InlineUrlControlViewModel=function($p0,$p1){Mscrm.InlineUrlControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineUrlControlViewModel.prototype={get_maxLength:function(){return this.$1_0.get_maxLength()},get_chromeBehaviorType:function(){return Mscrm.InlineEditChromeBehavior},get_behaviorType:function(){return Mscrm.InlineUrlBehavior},get_controlType:function(){return Mscrm.InlineFormDataControl},get_controlSupportOptimizationForMobileRendering:function(){return true}};Mscrm.InlinePhoneNumberControlViewModel=function($p0,$p1){Mscrm.InlinePhoneNumberControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlinePhoneNumberControlViewModel.prototype={get_maxLength:function(){return this.$1_0.get_maxLength()},get_chromeBehaviorType:function(){return Mscrm.InlineEditChromeBehavior},get_behaviorType:function(){return Mscrm.InlinePhoneNumberBehavior},get_controlType:function(){return Mscrm.InlineFormDataControl},get_controlSupportOptimizationForMobileRendering:function(){return true}};Mscrm.InlineSubjectLookupControlViewModel=function($p0,$p1){Mscrm.InlineSubjectLookupControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineSubjectLookupControlViewModel.prototype={get_behaviorType:function(){return Mscrm.InlineSubjectLookupUIBehavior}};Mscrm.InlineRelatedCasesLookupControlViewModel=function($p0,$p1){Mscrm.InlineRelatedCasesLookupControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineRelatedCasesLookupControlViewModel.prototype={get_behaviorType:function(){return Mscrm.InlineRelatedCasesLookupBehavior}};Mscrm.InlineTransactionCurrencyLookupControlViewModel=function($p0,$p1){Mscrm.InlineTransactionCurrencyLookupControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlineTransactionCurrencyLookupControlViewModel.prototype={get_behaviorType:function(){return Mscrm.InlineImageLookupTransactionCurrency}};Mscrm.InlinePartyListControlViewModel=function($p0,$p1){Mscrm.InlinePartyListControlViewModel.initializeBase(this,[$p0,$p1])};Mscrm.InlinePartyListControlViewModel.prototype={get_behaviorType:function(){return Mscrm.InlinePartyListBehavior}};Mscrm.InlineAutoCompleteControlViewModel=function(attribute,initialControlMode){this.$2P_1=new Array(0);Mscrm.InlineAutoCompleteControlViewModel.initializeBase(this,[attribute,initialControlMode])};Mscrm.InlineAutoCompleteControlViewModel.prototype={get_options:function(){return this.$1_0.get_options()},get_$4f_1:function(){if(!this.$3U_1)return this.get_options();return this.$2P_1},get_useOptionFiltering:function(){return this.$3U_1},set_useOptionFiltering:function(value){this.$3U_1=value;return value},get_filteredValues:function(){return this.getFilteredOptionsDelegate()},set_filteredValues:function(value){this.setFilteredOptionsDelegate(value);return value},getFilteredOptionsDelegate:function(){return this.$3A_1},setFilteredOptionsDelegate:function(values){this.$3A_1=values;this.$2P_1=new Array(0);for(var $v_0=0;$v_0<this.get_options().length;$v_0++)if(Array.contains(this.$3A_1,this.get_options()[$v_0].Value)){var $v_1=new Mscrm.EnumOptionJsonWrapper;$v_1.Value=this.get_options()[$v_0].Value;$v_1.Label=this.get_options()[$v_0].Label;Array.add(this.$2P_1,$v_1)}},get_chromeBehaviorType:function(){return Mscrm.InlineEditChromeBehavior},get_behaviorType:function(){return Mscrm.InlineOptionSetBehavior},get_controlType:function(){return Mscrm.InlineFormDataControl},$3A_1:null,$3U_1:false};Mscrm.InlineControlEditViewBase=function(view){Mscrm.InlineControlEditViewBase.initializeBase(this,[view])};Mscrm.InlineControlEditViewBase.prototype={dispose:function(){this.$17_1=null;Mscrm.InlineEditViewBase.prototype.dispose.call(this)},get_dataContext:function(){return this.$17_1},set_dataContext:function(value){this.$17_1=value;this.$4b_1();return value},$4b_1:function(){this.bindViewStateChange()},get_editElementId:function(){return null},get_selectTextOnEditFocus:function(){return false},set_selectTextOnEditFocus:function(value){return value},isEditing:function(){return false},$17_1:null};Mscrm.CheckBoxControlEditView=function($p0){this.$$d_$7v_3=Function.createDelegate(this,this.$7v_3);Mscrm.CheckBoxControlEditView.initializeBase(this,[$p0])};Mscrm.CheckBoxControlEditView.prototype={get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValid()},get_$0_3:function(){return this.get_dataContext()},setDisabled:function($p0){this.get_behavedEditElement().disabled=$p0},get_editElementValue:function(){return this.get_behavedEditElement().checked.toString()},set_editElementValue:function($p0){this.get_behavedEditElement().checked=Mscrm.Utilities.parseBoolean($p0);this.get_view().get_dataContext().setPropertyWithoutRaisingEvent("EditValue",$p0);return $p0},initializeInputBehavior:function(){this.get_editElement().change(this.$$d_$7v_3);Mscrm.SimpleInlineControlEditView.prototype.initializeInputBehavior.call(this)},$7v_3:function($p0){this.confirm()},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);Mscrm.InlineEditViewBase.prototype.unbindPageClick.call(this);this.raiseCommitEvent()},confirm:function(){this.updateAttribute()},createEditElement:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0,$v_2=document.createElement("input");Sys.UI.DomElement.addCssClass($v_2,"ms-crm-CheckBox");$v_2.setAttribute("id",this.get_editElementId());$v_2.setAttribute("style","ime-mode:auto");$v_2.setAttribute("type","checkbox");$v_2.setAttribute("attrPriv",$v_1.get_privilegeMask().toString());$v_2.setAttribute("attrName",$v_1.get_logicalName());$v_2.setAttribute("value","on");for(var $v_3=$v_1,$v_4=0;$v_4<$v_3.$1y_1.length;$v_4++)$v_2.setAttribute(String.format("option_{0}",$v_4),$v_3.$1y_1[$v_4].Label);if(!IsNull($v_1.get_initialValue())){var $v_5=this.get_view().$O_2()+"";$v_2.checked=$v_5==="1"?true:false}else $v_2.checked=false;if(this.get_view().get_disabled())$v_2.disabled=true;return $P_CRM($v_2)},createAndAppendEditElementToDom:function(){Mscrm.SimpleInlineControlEditView.prototype.createAndAppendEditElementToDom.call(this);this.get_editElementWrapper().addClass("ms-crm-Inline-CheckBox")}};Mscrm.DateTimeControlEditView=function($p0){Mscrm.DateTimeControlEditView.initializeBase(this,[$p0])};Mscrm.DateTimeControlEditView.$8m=function($p0,$p1,$p2){return $p1.get($p1.length-1)===$p2&&!Mscrm.DateTimeControlEditView.$3c($p0)};Mscrm.DateTimeControlEditView.$8f=function($p0,$p1,$p2){return $p1.get(0)===$p2&&Mscrm.DateTimeControlEditView.$3c($p0)};Mscrm.DateTimeControlEditView.$3c=function($p0){return $p0.shiftKey};Mscrm.DateTimeControlEditView.$65=function($p0,$p1,$p2,$p3){var $v_0="",$v_1=" ";if(!IsNull($p2)){$v_0=Mscrm.DateTimeUtility.formatDate($p2);$v_1=timeToString($p2,0)}var $v_2=document.createElement(Mscrm.ElementNames.tableRow);$v_2.appendChild(Mscrm.DateTimeControlEditView.$64($v_0,$p0.get_imeMode()));var $v_3=document.createElement(Mscrm.ElementNames.tableCell);$v_3.className="ms-crm-InlineDateTime-HiddenCell";$v_2.appendChild($v_3);$v_2.appendChild(Mscrm.DateTimeControlEditView.$60($p1));var $v_4=document.createElement(Mscrm.ElementNames.tableCell);$v_4.className="ms-crm-InlineDateTime-HiddenCell";$v_2.appendChild($v_4);var $v_5=$p0.get_attributeFormat()==="datetime";if($v_5){var $v_8=$p1+"Time",$v_9=Mscrm.EditableSelectHelper.createElement($v_8,window.LOCID_DATE_SELECT_TIME,$v_1,$p0.get_imeMode(),IsNull($p2),Mscrm.DateTimeControlEditView.$6P($v_8,false)),$v_A=document.createElement(Mscrm.ElementNames.label);$v_A.setAttribute("for","time");$v_A.className="ms-crm-Hidden";XUI.Html.SetText($v_A,window.LOCID_DATE_SELECT_TIME);var $v_B=document.createElement(Mscrm.ElementNames.div);$v_B.appendChild($v_A);$v_B.appendChild($v_9);var $v_C=document.createElement(Mscrm.ElementNames.tableCell);$v_C.className="ms-crm-InlineDateTime-TimeCell ms-crm-DateTime-Container-Input";$v_C.setAttribute("title","");$v_C.appendChild($v_B);$v_2.appendChild($v_C)}var $v_6=document.createElement(Mscrm.ElementNames.tableColumnGroup);$v_6.appendChild(Mscrm.EditableSelectHelper.createTableColumn(0));$v_6.appendChild(Mscrm.EditableSelectHelper.createTableColumn(45));$v_5&&$v_6.appendChild(Mscrm.EditableSelectHelper.createTableColumn(0));var $v_7=document.createElement(Mscrm.ElementNames.table);$v_7.setAttribute("cellspacing","0");$v_7.setAttribute("cellpadding","0");$v_7.id=$p1;$v_7.setAttribute("format",$v_5?"datetime":"date");$v_7.setAttribute("initialValue",Mscrm.InlineEditUtilities.getRawValue($p3));$v_7.setAttribute("initialShowTime",$v_5.toString());$v_7.setAttribute("initialAllowBlankDate","true");$v_7.setAttribute("initialDisableInit","false");$v_7.setAttribute("initialAllDayDisplayMode","false");$v_7.setAttribute("initialAllowTimeEdit","true");$v_7.setAttribute("cacheValuesOnClient","false");$v_7.setAttribute("req",$p0.get_requiredLevel().toString());$v_7.setAttribute("attrName",$p0.get_logicalName());$v_7.setAttribute("attrPriv",$p0.get_privilegeMask().toString());$v_7.setAttribute("attrFormat",$v_5?"datetime":"date");$v_7.className="ms-crm-DateTime ms-crm-InlineDateTime";$v_7.appendChild($v_6);$v_7.appendChild($v_2);return $v_7};Mscrm.DateTimeControlEditView.$64=function($p0,$p1){var $v_0=document.createElement(Mscrm.ElementNames.input);$v_0.setAttribute("type","text");$v_0.setAttribute("value","");$v_0.setAttribute("id","DateInput");$v_0.setAttribute("tabindex","0");$v_0.setAttribute("title","");if(Mscrm.Utilities.isEdge())$v_0.setAttribute("style","-ms-ime-mode:"+$p1);else $v_0.setAttribute("style","ime-mode:"+$p1);Sys.UI.DomElement.addCssClass($v_0,"ms-crm-Input");Sys.UI.DomElement.addCssClass($v_0,"ms-crm-DateTime-Container-Input");$v_0.value=$p0;var $v_1=document.createElement(Mscrm.ElementNames.tableCell);Sys.UI.DomElement.addCssClass($v_1,"ms-crm-Input-Container");Sys.UI.DomElement.addCssClass($v_1,"ms-crm-DateTime-Container");$v_1.appendChild($v_0);return $v_1};Mscrm.DateTimeControlEditView.$60=function($p0){var $v_0=Mscrm.ImageStrip.getImage(Mscrm.CrmUri.create("/_imgs/inlineedit/calendar_icon.png"));$v_0.id=$p0+"img";$v_0.setAttribute("alt",window.LOCID_DATE_SELECT_DATE);$v_0.setAttribute("title",window.LOCID_DATE_SELECT_DATE);Sys.UI.DomElement.addCssClass($v_0,"ms-crm-DateTime");Sys.UI.DomElement.addCssClass($v_0,"ms-crm-InlineDateTime-Icon");var $v_1=document.createElement(Mscrm.ElementNames.div);$v_1.id=$p0+"CalContainer";$v_1.style.width="0px";$v_1.style.height="0px";$v_1.style.position="relative";$v_1.style.lineHeight="0px";$v_1.style.display="inline";var $v_2=document.createElement(Mscrm.ElementNames.tableCell);Sys.UI.DomElement.addCssClass($v_2,"ms-crm-InlineDateTime-IconCell");$v_2.appendChild($v_0);$v_2.appendChild($v_1);return $v_2};Mscrm.DateTimeControlEditView.$6P=function($p0,$p1){for(var $v_0=new Array(0),$v_1=Mscrm.SelectOptionsGenerator.generateForTimeControl($p1),$v_2=0;$v_2<$v_1.length;$v_2++){var $v_3=$v_1[$v_2];Array.add($v_0,new Mscrm.EditableSelectOption($p0+"."+$v_3,$v_3))}return $v_0};Mscrm.DateTimeControlEditView.prototype={get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValid()},get_defaultEditValue:function(){var $v_0=this.get_editControlBehavior().get_initialValue();if(!IsNull($v_0)&&!isNaN($v_0.getTime()))return Mscrm.InlineDateTimeAttribute.formatDisplayValue($v_0,this.get_$0_3().$1_0.get_attributeFormat(),"\n");return null},set_defaultEditValue:function($p0){this.get_view().tryUpdateValueElementText($p0);return $p0},get_editElementValue:function(){var $v_0=this.get_editElement().find("input"),$v_1=$v_0.first().val();if($v_0.length>1)$v_1+="\n"+$v_0.last().val();if(isNullOrEmptyString($v_1.trim()))return "";return $v_1},set_editElementValue:function($p0){if(!IsNull($p0)){var $v_0=this.get_editElement().find("input"),$v_1=$p0.split("\n");$v_0.first().val($v_1[0]);$v_1.length>1&&$v_0.length>1&&$v_0.last().val($v_1[1])}return $p0},get_$0_3:function(){return this.get_dataContext()},get_$q_3:function(){var $v_0=this.get_editControlBehavior();return $v_0},focusEditElement:function(){if(this.get_editElement().is(":hidden")||this.get_editElement().is(":disabled"))return;this.get_$q_3().setFocus()},updateEditValue:function(){this.get_$0_3().set_editValue(this.get_editElementValue())},editElementValueComparer:function(){return this.get_editElementValue()!==this.get_dataContext().get_attribute().get_displayValue()},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);var $v_0=this.get_$0_3();$v_0.set_defaultEditValue($v_0.get_editValue());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit);this.get_editControlBehavior().resetDefault()},createEditElement:function(){return $P_CRM(Mscrm.DateTimeControlEditView.$65(this.get_$0_3().$1_0,this.get_editElementId(),this.get_view().$O_2(),this.get_$0_3().$1_0.get_initialValue()))},createControlBehavior:function(){var $v_0=$get(this.get_editElementId()+"img");Mscrm.CrmUIComponent.crmCreate(Mscrm.InlineDateTimeImage,{dateTimeControlId:this.get_editElementId()},null,null,$v_0);var $v_1=$get(this.get_editElementId()+"Time");!IsNull($v_1)&&Mscrm.CrmUIComponent.crmCreate(Mscrm.InlineEditableSelectBehavior,null,null,null,$v_1);Mscrm.SimpleInlineControlEditView.prototype.createControlBehavior.call(this)},onEditElementTabKeyDown:function($p0){var $v_0=$P_CRM('input[disabled!="true"]',this.get_editElement());if(!$v_0.length){Mscrm.SimpleInlineControlEditView.prototype.onEditElementTabKeyDown.call(this,$p0);return}var $v_1=document.activeElement;if(Mscrm.DateTimeControlEditView.$8f($p0,$v_0,$v_1)||Mscrm.DateTimeControlEditView.$8m($p0,$v_0,$v_1))Mscrm.SimpleInlineControlEditView.prototype.onEditElementTabKeyDown.call(this,$p0);else if(this.$8l_3($p0,$v_0,$v_1)){var $v_2=!this.get_$q_3().get_isTimeInputEnabled(),$v_3=this.get_isValid();if(!$v_3)Mscrm.SimpleInlineControlEditView.prototype.onEditElementTabKeyDown.call(this,$p0);else if(!this.get_$q_3().get_isTimeInputEnabled())Mscrm.SimpleInlineControlEditView.prototype.onEditElementTabKeyDown.call(this,$p0);else $v_2&&this.get_$q_3().get_isTimeInputEnabled()&&$P_CRM.browser.mozilla&&$p0.preventDefault()}},$8l_3:function($p0,$p1,$p2){return $p2===$p1[0]&&!Mscrm.DateTimeControlEditView.$3c($p0)},postCreateEditElement:function(){Mscrm.SimpleInlineControlEditView.prototype.postCreateEditElement.call(this);this.$8O_3()},$8O_3:function(){if(this.get_$0_3().$22_1&&!isNullOrEmptyString(this.get_dataContext().get_attribute().get_displayValue())&&isNullOrEmptyString(this.get_view().$b_2)){var $v_0=this.get_dataContext().get_attribute().get_displayValue(),$v_1=Mscrm.DateTimeUtility.parseDate($v_0,true);if(IsNull($v_1))return;this.get_view().get_layout().appendAndWrapValueElementMask()}}};Mscrm.DurationControlEditView=function($p0){Mscrm.DurationControlEditView.initializeBase(this,[$p0])};Mscrm.DurationControlEditView.$68=function($p0){for(var $v_0=new Array(0),$v_1=Mscrm.DateTimeUtility.generateForDurationControl(),$v_2=0;$v_2<$v_1.length;$v_2++){var $v_3=$v_1[$v_2];Array.add($v_0,new Mscrm.EditableSelectOption($p0+"."+$v_3,$v_3))}return $v_0};Mscrm.DurationControlEditView.prototype={get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValid()},get_defaultEditValue:function(){var $v_0=this.get_editControlBehavior().get_defaultValue();if(!IsNull($v_0)&&!isNaN($v_0))return Mscrm.NumberUtility.formatDuration($v_0);return null},set_defaultEditValue:function($p0){this.get_view().tryUpdateValueElementText($p0);return $p0},onEditElementClick:function($p0){Mscrm.SimpleInlineControlEditView.prototype.onEditElementClick.call(this,$p0);if(Mscrm.Utilities.isMobileRefresh()&&$p0.target.tagName==="IMG"){var $v_0=$P_CRM("input:focus");$v_0.blur()}},get_editElementValue:function(){var $v_0=this.get_editElement().find("input"),$v_1=$v_0.first().val();return $v_1},set_editElementValue:function($p0){if(!IsNull($p0)){var $v_0=this.get_editElement().find("input");$v_0.first().val($p0)}return $p0},get_$0_3:function(){return this.get_dataContext()},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_$0_3().set_defaultEditValue(this.get_$0_3().get_editValue());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit);var $v_0=this.get_editControlBehavior();$v_0.set_defaultValue($v_0.parseDuration(this.get_$0_3().get_defaultEditValue()))},createEditElement:function(){return $P_CRM(this.$69_3(this.get_$0_3().$1_0,this.get_editElementId(),this.get_view().$O_2(),this.get_$0_3().$1_0.get_initialValue()))},createControlBehavior:function(){Mscrm.CrmUIComponent.crmCreate(Mscrm.InlineEditableSelectBehavior,null,null,null,$get(this.get_editElementId()+"Select"));Mscrm.SimpleInlineControlEditView.prototype.createControlBehavior.call(this)},updateEditValue:function(){this.get_$0_3().set_editValue(this.get_editElementValue())},editElementValueComparer:function(){return this.get_editElementValue()!==this.get_dataContext().get_attribute().get_displayValue()},$69_3:function($p0,$p1,$p2,$p3){var $v_0=" ";if(!IsNull($p2))$v_0=$p2;var $v_1=document.createElement(Mscrm.ElementNames.tableRow),$v_2=$p1+"Select",$v_3=Mscrm.EditableSelectHelper.createElement($v_2,window.LOCID_SELECTBOX_BUTTON_ALT,$v_0,$p0.get_imeMode(),false,Mscrm.DurationControlEditView.$68($v_2)),$v_4=document.createElement(Mscrm.ElementNames.label);$v_4.setAttribute("for","new_duration");$v_4.className="ms-crm-Hidden";XUI.Html.SetText($v_4,window.LOCID_DATE_SELECT_TIME);var $v_5=document.createElement(Mscrm.ElementNames.div);$v_5.appendChild($v_4);$v_5.appendChild($v_3);var $v_6=document.createElement(Mscrm.ElementNames.tableCell);$v_6.appendChild($v_5);$v_1.appendChild($v_6);var $v_7=document.createElement(Mscrm.ElementNames.table);$v_7.setAttribute("cellspacing","0");$v_7.setAttribute("cellpadding","0");$v_7.id=$p1;$v_7.setAttribute("format","duration");$v_7.setAttribute("initialValue",Mscrm.InlineEditUtilities.getRawValue($p3));$v_7.setAttribute("allowValueEdit","true");$v_7.setAttribute("req",$p0.get_requiredLevel().toString());$v_7.setAttribute("attrName",$p0.get_logicalName());$v_7.setAttribute("attrPriv",$p0.get_privilegeMask().toString());$v_7.setAttribute("attrFormat","duration");$v_7.setAttribute("MinMinutes",this.get_$0_3().get_minValue().toString());$v_7.setAttribute("MaxMinutes",this.get_$0_3().get_maxValue().toString());$v_7.style.width="100%";$v_7.style.tableLayout="fixed";$v_7.className="ms-crm-Duration ms-crm-InlineDuration";$v_7.appendChild($v_1);return $v_7},focusEditElement:function(){var $v_0=this.get_editControlBehavior();$v_0.setFocus()}};Mscrm.EmailAddressControlEditView=function($p0){Mscrm.EmailAddressControlEditView.initializeBase(this,[$p0])};Mscrm.EmailAddressControlEditView.prototype={get_$0_3:function(){return this.get_dataContext()},get_$2q_3:function(){return Sys.UI.Behavior.getBehaviorsByType(this.get_editElement().get(0),this.get_$0_3().get_behaviorType())[0]},get_isDirty:function(){return !IsNull(this.get_$2q_3())&&this.get_$2q_3().get_isDirty()},get_isValid:function(){return IsNull(this.get_$2q_3())||this.get_$2q_3().get_isValidProxy()},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_$0_3().set_defaultEditValue(this.get_$0_3().get_editValue());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},createEditElement:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0,$v_2=document.createElement("input");$v_2.setAttribute("id",this.get_editElementId());window.UseTabletExperience&&$v_2.setAttribute("type","email");$v_2.setAttribute("attrName",$v_1.get_logicalName());$v_2.setAttribute("attrPriv",$v_1.get_privilegeMask().toString());$v_2.setAttribute("maxLength",$v_0.get_maxLength().toString());$v_2.setAttribute("title","");Sys.UI.DomElement.addCssClass($v_2,"ms-crm-Email-Address");Sys.UI.DomElement.addCssClass($v_2,"ms-crm-InlineInput");var $v_3=this.get_view().$O_2();if(!isNullOrEmptyString($v_3)){$v_2.value=$v_3;$v_2.setAttribute("defaultValue",$v_3)}return $P_CRM($v_2)},focusEditElement:function(){Mscrm.InlineEditViewBase.prototype.focusEditElement.call(this);this.get_selectTextOnEditFocus()&&this.get_editElement().select()}};Mscrm.EmailBodyControlEditView=function($p0){this.$$d_$7s_3=Function.createDelegate(this,this.$7s_3);this.$$d_onEditElementClick=Function.createDelegate(this,this.onEditElementClick);Mscrm.EmailBodyControlEditView.initializeBase(this,[$p0])};Mscrm.EmailBodyControlEditView.prototype={$1T_3:null,$38_3:null,$4J_3:null,$a_3:null,dispose:function(){var $v_0=this.get_editControlBehavior();if(!$v_0.get_isDisposed()&&!IsNull($v_0.get_htmlBar())){var $v_1=$P_CRM($v_0.get_htmlBar());$v_1.unbind(Mscrm.EventNames.click,this.$$d_onEditElementClick)}Mscrm.SimpleInlineControlEditView.prototype.dispose.call(this)},get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValidProxy()},get_editElementValue:function(){return this.get_editElement()[0].innerHTML},createEditElement:function(){var $v_0=this.get_view().$1Z_3;if(IsNull($v_0))$v_0=this.get_view().get_valueElement().find("[mainElement='true']").first().get(0);var $v_1=Mscrm.InlineEditDataService.get_formEntity();this.$38_3=$v_1.get_typeName();this.$1T_3=$v_1.get_recordId();var $v_2=$v_0.getElementsByTagName("iframe")[0];this.$4J_3=CrmEncodeDecode.CrmUrlDecode($v_2.getAttribute("url"));var $v_3=window._extraParams;if(!IsNull($v_3)){var $v_5=$P_CRM.parseJSON($v_3);if(!Mscrm.InternalUtilities.JSTypes.isNull($v_5)&&!Mscrm.InternalUtilities.JSTypes.isNull($v_5["id"])){this.$1T_3=$v_5["id"];this.$38_3=$v_5["entityType"]}}var $v_4=new Sys.StringBuilder(this.$4J_3);if(-1!==$v_4.toString().indexOf("?"))$v_4.append("&id=");else $v_4.append("?id=");$v_4.append(this.$1T_3);$v_4.append("&entityType=");$v_4.append(this.$38_3);$v_2.setAttribute("url",$v_4.toString());this.$a_3=$get("trBlockMsg",$v_0);return $P_CRM($v_0)},createAndAppendEditElementToDom:function(){Mscrm.SimpleInlineControlEditView.prototype.createAndAppendEditElementToDom.call(this);this.get_editElementWrapper().addClass("ms-crm-Inline-Edit-email-body")},initializeInputBehavior:function(){var $v_0=this.get_editControlBehavior();$v_0.add_contentReady(this.$$d_$7s_3)},postCreateEditElement:function(){},bindEditElementClick:function(){Mscrm.InlineEditViewBase.prototype.bindEditElementClick.call(this);if(!IsNull(this.get_editControlBehavior().get_htmlBar())){var $v_0=$P_CRM(this.get_editControlBehavior().get_htmlBar());$v_0.bind(Mscrm.EventNames.click,this.$$d_onEditElementClick)}},$7s_3:function($p0,$p1){var $v_0=this.get_editControlBehavior();$v_0.remove_contentReady(this.$$d_$7s_3);this.set_editElement($P_CRM($v_0.get_emailBody().document.body));Mscrm.SimpleInlineControlEditView.prototype.initializeInputBehavior.call(this);Mscrm.SimpleInlineControlEditView.prototype.postCreateEditElement.call(this);var $$t_5=this,$v_1=function($p1_0){window.setTimeout(function(){$$t_5.$5L_3()},0)};this.get_view().get_dataAttribute().addOnChange($v_1,false)},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_view().get_viewModel().set_defaultEditValue(this.get_view().get_viewModel().get_editValue());this.$5L_3();this.raiseCommitEvent()},$5L_3:function(){if(!isNullOrEmptyString(this.$a_3.innerHTML))this.$a_3.innerHTML="";var $v_0=this.get_view().showUnsafeScriptWarning(this.$a_3,true);if(!IsNull($v_0))this.$a_3=$v_0},onEditElementKeyEvent:function($p0){if(IsNull($p0))return;switch($p0.which){case 9:this.onEditElementTabKeyDown($p0);break;case 83:$p0.ctrlKey&&Mscrm.ReadFormUtilities.keyDownHandler($p0);break;default:this.handleDefaultKeyDownEvent($p0);this.handleDefaultKeyPressEvent($p0);Mscrm.InlineEditUtilities.set_activeControl(this.get_view());break}},onEditElementClick:function($p0){!IsNull(Mscrm.InlineEditUtilities.get_activeControl())&&Mscrm.InlineEditUtilities.get_activeControl().blur();Mscrm.InlineEditUtilities.set_activeControl(this.get_view());this.get_editElement().focus();this.bindPageClick()}};Mscrm.LookupControlEditView=function($p0){this.$$d_$5v_3=Function.createDelegate(this,this.$5v_3);this.$$d_$6c_3=Function.createDelegate(this,this.$6c_3);this.$$d_$85_3=Function.createDelegate(this,this.$85_3);this.$$d_$7l_3=Function.createDelegate(this,this.$7l_3);this.$$d_$5Z_3=Function.createDelegate(this,this.$5Z_3);Mscrm.LookupControlEditView.initializeBase(this,[$p0]);this.$1Q_3=new Mscrm.ClientApiEventHandlerList(new Sys.EventHandlerList)};Mscrm.LookupControlEditView.prototype={$4A_3:"ms-crm-Lookup",$1L_3:null,$G_3:null,$1Q_3:null,get_eventHandlerList:function(){return this.$1Q_3},get_preSearchEvent:function(){return "PreSearch"},get_lookupImageClass:function(){return this.$4A_3},set_lookupImageClass:function($p0){this.$4A_3=$p0;return $p0},get_viewModel:function(){return this.get_dataContext()},get_$h_3:function(){if(Mscrm.FormInputControl.IPresenceLookupBehavior.isInstanceOfType(this.get_editControlBehavior())&&Mscrm.HeaderTileLookupLayout.isInstanceOfType(this.get_view().get_layout())){var $v_0=this.get_editControlBehavior();$v_0.set_isHeaderTile(true)}return this.get_editControlBehavior()},dispose:function(){if(!this.get_$h_3().get_isDisposed()){this.get_$h_3().remove_setAdditionalParams(this.$$d_$5Z_3);this.get_$h_3().remove_afterSelect(this.$$d_$7l_3)}!IsNull(this.$G_3)&&this.removeClickHandler(this.$G_3);this.$1L_3=null;Mscrm.SimpleInlineControlEditView.prototype.dispose.call(this);this.$1Q_3.clearAllHandler()},$5Z_3:function($p0,$p1){var $v_0=this.$1Q_3.getHandler("PreSearch");!IsNull($v_0)&&$v_0($p0,$p1)},$7g_3:function($p0){var $v_0=document.createElement("td");Sys.UI.DomElement.addCssClass($v_0,"Lookup_RenderButton_td");$v_0.style.verticalAlign="top";$v_0.style.width="22px";var $v_1=document.createElement("img");this.setImage($v_1);$v_1.setAttribute("id",$p0);$v_1.setAttribute("alt","");if("multi"===this.get_viewModel().get_lookupStyle())Sys.UI.DomElement.addCssClass($v_1,"ms-crm-InlineLookupEdit ms-crm-Inline-MultiLookupEdit");else Sys.UI.DomElement.addCssClass($v_1,"ms-crm-InlineLookupEdit");if(this.get_viewModel().$1_0.get_isDisabled()){$v_1.style.cursor="default";$v_1.setAttribute("lookupdisabled","true");Sys.UI.DomElement.addCssClass($v_1,this.get_lookupImageClass());$v_1.setAttribute("isInline","true")}this.addImageExpandos($v_1);$v_0.appendChild($v_1);var $v_2=document.createElement("a");$v_2.setAttribute("href","#");$v_2.setAttribute("onclick","Mscrm.Utilities.click(previousSibling);");$v_2.setAttribute("tabindex","-1");$v_0.appendChild($v_2);return $v_0},setImage:function($p0){$p0.setAttribute("src","/_imgs/search_normal.gif")},addImageExpandos:function($p0){var $v_0=this.get_viewModel(),$v_1=this.get_chromeElement(),$v_2=$v_0.get_lookupTypes();if(isNullOrEmptyString($v_2)){this.get_view().set_disabled(true);$v_2=""}$p0.setAttribute("lookuptypes",$v_2);$p0.setAttribute("createpermissiondictionary",$v_0.get_createPermissionDictionary());this.$5a_3($p0);$p0.setAttribute("crmattributeid",$v_0.get_crmAttributeId());$p0.setAttribute("lookuptypenames",$v_0.get_lookupTypeNames());$p0.setAttribute("lookuptypeIcons",$v_0.get_lookupTypeIcons());$p0.setAttribute("lookupstyle",$v_0.get_lookupStyle());var $v_3=$v_1.children(".ms-crm-Inline-Value").find(".ms-crm-Lookup-Item-Read").attr("isDeDupLookup");if(isNullOrEmptyString($v_3))$v_3=$v_1.attr("isDeDupLookup");!isNullOrEmptyString($v_3)&&$p0.setAttribute("isDeDupLookup",$v_3);$p0.setAttribute("defaulttype",$v_0.get_defaultType().toString());$p0.setAttribute("autoresolve","1");$p0.setAttribute("showproperty","1");$p0.setAttribute("resolveemailaddress",$v_1.attr("resolveEmailAddress"));$p0.setAttribute("allowUnresolvedPartiesOnEmailSend",$v_1.attr("allowUnresolvedPartiesOnEmailSend"));$p0.setAttribute("attrName",$v_0.$1_0.get_logicalName());$p0.setAttribute("attrPriv",$v_0.$1_0.get_privilegeMask().toString());$p0.setAttribute("isInline","true");$p0.setAttribute("inlineViewIds",$v_1.attr("inlineViewIds"));$p0.setAttribute(Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId,$v_1.attr(Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId));var $v_4=$v_1.attr("data-controlmode");!isNullOrEmptyString($v_4)&&$p0.setAttribute("data-controlmode",$v_4);var $v_5=$v_1.attr("allowFilterOff");!isNullOrEmptyString($v_5)&&$p0.setAttribute("allowFilterOff",$v_5);var $v_6=$v_1.attr("disableMru");!isNullOrEmptyString($v_6)&&$p0.setAttribute("disableMru",$v_6);var $v_7=$v_1.attr("disableQuickFind");!isNullOrEmptyString($v_7)&&$p0.setAttribute("disableQuickFind",$v_7);var $v_8=$v_1.attr("disableViewPicker");!isNullOrEmptyString($v_8)&&$p0.setAttribute("disableViewPicker",$v_8);var $v_9=$v_1.attr("availableViewIds");!isNullOrEmptyString($v_9)&&$p0.setAttribute("availableViewIds",$v_9);var $v_A=$v_1.attr("DefaultViewId");!isNullOrEmptyString($v_A)&&$p0.setAttribute("DefaultViewId",$v_A);var $v_B=$v_1.attr("lookupbrowse");if(!isNullOrEmptyString($v_B))$p0.setAttribute("lookupbrowse",$v_B);else $p0.setAttribute("lookupbrowse",$v_0.get_lookupBrowse()?"1":"0");var $v_C=$v_1.attr("lookupDialogMultipleSelect");!isNullOrEmptyString($v_C)&&$p0.setAttribute("lookupDialogMultipleSelect",$v_C);var $v_D=$v_1.attr("RelationshipId");if(!isNullOrEmptyString($v_D)){$p0.setAttribute("RelationshipId",$v_D);$p0.setAttribute("DependantAttributeName",$v_1.attr("DependantAttributeName"));$p0.setAttribute("DependantAttributeType",$v_1.attr("DependantAttributeType"))}},isItemAmbiguous:function(){var $v_0=this.get_editControlBehavior();if(null!==$v_0){var $v_1=$v_0.Items(false,true,false,false,false);if(!IsNull($v_1)&&$v_1.length>0&&$v_1[0].category===LookupItemCategories.AMBIGUOUS)return true}return false},initializeInputBehavior:function(){Mscrm.SimpleInlineControlEditView.prototype.initializeInputBehavior.call(this);this.get_$h_3().add_afterSelect(this.$$d_$7l_3);this.get_$h_3().add_onSetValue(this.$$d_$85_3)},$85_3:function($p0,$p1){this.updateReadLookupHtml()},$7l_3:function($p0,$p1){this.get_viewModel().setPropertyWithoutRaisingEvent("EditValue",this.get_editElementValue());this.confirm();this.get_editControlBehavior().get_isInlineMultiLookup()&&this.$5s_3()&&window.setTimeout(this.$$d_$6c_3,0)},$5s_3:function(){var $v_0=this.get_editControlBehavior().Items(false,true,false,false,false);if(!IsNull($v_0)&&$v_0.length>0&&($v_0[$v_0.length-1].category===LookupItemCategories.AMBIGUOUS||$v_0[$v_0.length-1].category===LookupItemCategories.UNKNOWN||$v_0[$v_0.length-1].category===LookupItemCategories.UNKNOWN_EMAIL))return false;return true},$6c_3:function(){this.get_view().get_valueElement().click()},$4m_3:function(){var $v_0=this.get_view().$O_2();return $v_0},getInitialValue:function(){var $v_0=this.$4m_3();return IsNull($v_0)?null:$v_0[0]},addClickHandler:function($p0){},removeClickHandler:function($p0){},$5a_3:function($p0){var $v_0=this.get_viewModel().$1_0.get_initialValue();if(!IsNull($v_0)){var $v_1=$v_0["properties"];!IsNull($v_1)&&this.$4P_3($v_1,$p0)}},$4N_3:function($p0){var $v_0=this.$4m_3();if(!IsNull($v_0)&&$v_0.length>0)for(var $v_1=0;$v_1<$v_0.length;$v_1++)$p0.appendChild(this.$5Y_3($v_0[$v_1]))},$5Y_3:function($p0){var $v_0=document.createElement("li");$v_0.style.display="inline";$v_0.style.whiteSpace="nowrap";if("multi"===this.get_viewModel().get_lookupStyle()){XUI.Html.SetFloat($v_0,Mscrm.Utilities.get_isLeftToRight()?"left":"right");$v_0.style.marginBottom="3px";if(Mscrm.Utilities.get_isLeftToRight())$v_0.style.marginRight="3px";else $v_0.style.marginLeft="3px"}var $v_1=document.createElement("span");$v_1.setAttribute("contentEditable","false");$v_1.setAttribute("title",$p0.name);$v_1.setAttribute("oid",$p0.id);$v_1.setAttribute("otype",$p0.type);$v_1.setAttribute("otypename",$p0.typename);$v_1.setAttribute("callback",$p0.callback);$v_1.setAttribute("isInlineLookup","true");!IsNull($p0.activityPartyId)&&$v_1.setAttribute("activitypartyid",$p0.activityPartyId);if(!IsNull($p0.displayClass))Sys.UI.DomElement.addCssClass($v_1,$p0.displayClass);else Sys.UI.DomElement.addCssClass($v_1,"ms-crm-Lookup-Item");var $v_2=Number.parseInvariant($p0.type),$v_3=Mscrm.Utilities.isIE()&&($v_2===Mscrm.EntityTypeCode.Contact||$v_2===Mscrm.EntityTypeCode.SystemUser);if("multi"!==this.get_viewModel().get_lookupStyle()&&(this.get_viewModel().get_lookupTypes().split(",").length>1||$v_3)){var $v_5=document.createElement("img");$v_5.setAttribute("alt","");Sys.UI.DomElement.addCssClass($v_5,"ms-crm-Lookup-Item");$v_5.setAttribute("src",Mscrm.Utilities.getIconPath($v_2));$v_1.appendChild($v_5)}var $v_4=document.createElement("span");Sys.UI.DomElement.addCssClass($v_4,"ms-crm-LookupItem-Name");$v_4.setAttribute("wrapper","true");XUI.Html.SetText($v_4,$p0.name);if("multi"===this.get_viewModel().get_lookupStyle()){$v_1.style.backgroundColor="rgb(204, 227, 244)";$v_1.setAttribute("onclick",String.format("Mscrm.FormControlInputBehavior.GetBehavior('{0}').selectInlineMultiLookupItem(new Sys.UI.DomEvent(event))",this.get_chromeElement().attr("id")+"_i"));$v_1.setAttribute("onkeydown",String.format("Mscrm.FormControlInputBehavior.GetBehavior('{0}').keyDownInlineMultiLookupItem(new Sys.UI.DomEvent(event))",this.get_chromeElement().attr("id")+"_i"));var $v_6=IsNull($p0.onclick)?$p0.callback:$p0.onclick;$v_6=IsNull($v_6)?"openlui(new Sys.UI.DomEvent(event))":$v_6;$v_1.setAttribute("onCtrlEnter",$v_6);$v_1.setAttribute("ondblclick",$v_6);$v_1.setAttribute("tabIndex","0");var $v_7=document.createElement("span");$v_7.setAttribute("contentEditable","false");$v_7.setAttribute("unselectable","on");$v_7.setAttribute("wrapper","true");$v_7.appendChild($v_4);$v_1.appendChild($v_7);var $v_8=document.createElement("span");Sys.UI.DomElement.addCssClass($v_8,"ms-crm-LookupItem-Seperator");$v_8.setAttribute("wrapper","true");XUI.Html.SetText($v_8,";");$v_1.appendChild($v_8)}else{$v_1.setAttribute("onclick","openlui(new Sys.UI.DomEvent(event))");$v_1.appendChild($v_4)}$v_0.appendChild($v_1);return $v_0},createEditElement:function(){this.$G_3=document.createElement("div");this.$G_3.setAttribute("id",this.get_chromeElement().attr("id")+"_lookupDiv");this.$G_3.setAttribute("role","list");this.$G_3.setAttribute("ime-mode","auto");Sys.UI.DomElement.addCssClass(this.$G_3,"ms-crm-Lookup ms-crm-InlineLookupEdit");this.$G_3.setAttribute("tabindex","0");this.addClickHandler(this.$G_3);if(this.get_viewModel().$1_0.get_isDisabled()){Sys.UI.DomElement.addCssClass(this.$G_3,"ms-crm-ReadOnly");Sys.UI.DomElement.addCssClass(this.$G_3," ms-crm-Lookup-ReadOnly")}switch(this.get_viewModel().$1_0.get_requiredLevel()){case 2:break;case 3:break;case 0:default:break}this.$G_3.setAttribute("tabindex","0");var $v_0=document.createElement("ul");if("multi"===this.get_viewModel().get_lookupStyle()){this.$G_3.style.overflowY="auto";if(Mscrm.Utilities.get_isLeftToRight())this.$G_3.style.paddingLeft="3px";else this.$G_3.style.paddingRight="3px";this.$G_3.style.paddingTop="3px";this.$G_3.style.paddingBottom="0px";Sys.UI.DomElement.addCssClass($v_0,"ms-crm-InlineLookupEdit ms-crm-InlineMultiLookupEdit");this.$4N_3($v_0);var $v_7=document.createElement("li");XUI.Html.SetFloat($v_7,Mscrm.Utilities.get_isLeftToRight()?"left":"right");$v_7.style.whiteSpace="nowrap";var $v_8=document.createElement("input");$v_8.style.border="0px";$v_8.setAttribute("id",this.get_chromeElement().attr("id")+"_ledit_multi");$v_7.appendChild($v_8);$v_0.appendChild($v_7)}else{Sys.UI.DomElement.addCssClass($v_0,"ms-crm-InlineLookupEdit");this.$4N_3($v_0)}this.$G_3.appendChild($v_0);this.$1L_3=document.createElement("label");Sys.UI.DomElement.addCssClass(this.$1L_3,"ms-crm-Hidden-NoBehavior");this.$1L_3.setAttribute("for",this.get_chromeElement().attr("id")+"_ledit");var $v_1=document.createElement("input");Sys.UI.DomElement.addCssClass($v_1,"ms-crm-Hidden-NoBehavior");$v_1.setAttribute("ime-mode","auto");$v_1.setAttribute("type","text");$v_1.setAttribute("id",this.get_chromeElement().attr("id")+"_ledit");$v_1.setAttribute("maxlength","1000");"multi"===this.get_viewModel().get_lookupStyle()&&$v_1.setAttribute("display","none");var $v_2=document.createElement("td");$v_2.setAttribute("vAlign","top");$v_2.appendChild(this.$G_3);$v_2.appendChild(this.$1L_3);$v_2.appendChild($v_1);var $v_3=document.createElement("td");if("multi"===this.get_viewModel().get_lookupStyle())Sys.UI.DomElement.addCssClass($v_3,"ms-crm-InlineLookupEdit-Box ms-crm-InlineMultiLookupEdit-Box");else Sys.UI.DomElement.addCssClass($v_3,"ms-crm-InlineLookupEdit-Box");var $v_4=document.createElement("tr");$v_4.appendChild($v_2);$v_4.appendChild($v_3);$v_4.appendChild(this.$7g_3(this.get_chromeElement().attr("id")+"_i"));var $v_5=document.createElement(Mscrm.ElementNames.tableBody);$v_5.appendChild($v_4);var $v_6=document.createElement("table");$v_6.setAttribute("id",this.get_chromeElement().attr("id")+"_lookupTable");$v_6.setAttribute("cellpadding","0");$v_6.setAttribute("cellspacing","0");$v_6.setAttribute("lookupid",this.get_chromeElement().attr("id"));$v_6.className="ms-crm-Lookup";$v_6.style.width="100%";$v_6.style.tableLayout="fixed";$v_6.appendChild($v_5);return $P_CRM($v_6)},$4P_3:function($p0,$p1){if("lookuptypes" in $p0){var $v_0=$p0["lookuptypes"];if(isNullOrEmptyString($v_0))$v_0=this.get_viewModel().get_lookupTypes();if(isNullOrEmptyString($v_0)){this.get_view().set_disabled(true);$v_0=""}$p1.setAttribute("lookuptypes",$v_0)}"createpermissiondictionary" in $p0&&$p1.setAttribute("createpermissiondictionary",$p0["createpermissiondictionary"])},renderLabelValueForEditElement:function(){var $v_0="";switch(this.get_viewModel().get_requiredLevel()){case Mscrm.AttributeRequiredLevel.recommended:$v_0=window.LOCID_FORM_RECOMMENDED_ALT;break;case Mscrm.AttributeRequiredLevel.systemRequired:case Mscrm.AttributeRequiredLevel.required:$v_0=window.LOCID_FORM_REQUIRED_ALT;break}if(!$v_0.length)XUI.Html.SetText(this.$1L_3,this.get_view().get_labelElementValue());else XUI.Html.SetText(this.$1L_3,String.format(window.LOCID_LOOKUP_LABEL_FOR_EDIT,this.get_view().get_labelElementValue(),$v_0))},onEditElementTabKeyDown:function($p0){var $v_0=this.get_editControlBehavior().getLookupEdit();if("multi"===this.get_viewModel().get_lookupStyle()&&!IsNull(this.get_editControlBehavior().get_lastFocusItem())&&(IsNull($v_0)||Sys.UI.DomElement.containsCssClass($v_0,"ms-crm-Hidden-NoBehavior")))return;else Mscrm.SimpleInlineControlEditView.prototype.onEditElementTabKeyDown.call(this,$p0)},confirm:function(){this.$4Y_3(false)},$4Y_3:function($p0){!IsNull(this.get_editControlBehavior().get_inlineLookupMenu())&&this.get_editControlBehavior().get_inlineLookupMenu().hide();this.get_view().get_layout().adjustFocusElement();if(this.get_isDirty())if(this.get_isValid()){this.updateAttribute();this.unbindPageClick()}else if(this.get_editControlBehavior().hasUnresolvedText())this.get_editControlBehavior().resolveAndExitEdit(true,!$p0);else{var $v_0=this.get_editControlBehavior().Items(false,true,false,false,false);if(!IsNull($v_0)&&$v_0.length>0&&($v_0[$v_0.length-1].category===LookupItemCategories.AMBIGUOUS||$v_0[$v_0.length-1].category===LookupItemCategories.UNKNOWN)){this.updateReadLookupHtml();this.get_editControlBehavior().endContentEditing(false)}else{this.$3t_3(false,null);!this.get_$h_3().get_isLookupResolving()&&this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.discard);var $v_1=this.get_editControlBehavior();isInstanceOfTypeAcrossFrames(this.get_editControlBehavior(),Mscrm.InlineImageLookupTransactionCurrency)&&$v_1.currencyCheckRequired()&&$v_1.showErrorMessage(window.LOCID_CURRENCY_CANNOT_BE_NULL,"/_imgs/inlineedit/warning.png");this.unbindPageClick()}}else this.$6S_3(false)},discard:function($p0){$p0&&this.get_view().get_layout().adjustFocusElement();var $v_0=this.get_editControlBehavior().get_defaultValue();this.$3t_3(true,$v_0);this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.discard);this.unbindPageClick()},$6S_3:function($p0){$p0&&this.get_view().get_layout().adjustFocusElement();this.get_editControlBehavior().set_defaultValue(this.get_editControlBehavior().Items(false,false,false,false,false));var $v_0=this.get_editControlBehavior().get_defaultValue();this.$3t_3(false,$v_0);this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.discard);this.get_editControlBehavior().endContentEditing(false);this.unbindPageClick()},$3t_3:function($p0,$p1){var $v_0=this.get_view();if(IsNull($p1)||!$p1.length)$v_0.tryUpdateValueElementText("");else{$v_0.get_valueElement().empty();$v_0.get_valueElement().removeClass("ms-crm-Inline-EmptyValue");$v_0.$2o_3($p1)}$v_0.get_layout().appendAndWrapValueElementMask();$p0&&this.get_editControlBehavior().set_dataValue($p1)},get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().IsValid()},get_behavedEditElement:function(){return $get(this.get_chromeElement().attr("id")+"_i")},get_editElementValue:function(){var $v_0=this.get_editControlBehavior().Items(true,true,false,false,false);if(!IsNull($v_0)&&$v_0.length){var $v_1=$v_0[0];return CrmEncodeDecode.CrmHtmlAttributeEncode($v_1.name)}return ""},set_editElementValue:function($p0){var $v_0=this.get_viewModel().$1_0;if(!($v_0.get_dataAttribute().get_isInitialization()&&IsNull($p0)))if(!this.get_isValid()&&this.get_isDirty()){var $v_1=isNullOrEmptyString($p0)?new Array(0):[$p0];this.get_editControlBehavior().set_dataValue($v_1)}Mscrm.SimpleInlineControlEditView.prototype.set_editElementValue.call(this,$p0);return $p0},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_editControlBehavior().set_defaultValue(this.get_editControlBehavior().get_dataValue());this.raiseCommitEvent()},updateReadLookupHtml:function(){var $v_0=this.get_view(),$v_1=this.get_editControlBehavior().Items(false,true,false,false,false);if(IsNull($v_1)||!$v_1.length){$v_0.get_layout().appendAndWrapValueElementMask();return}var $v_2=$v_0.get_valueElement();$v_2.removeClass("ms-crm-Inline-EmptyValue");$v_2.empty();$v_0.$2o_3($v_1);var $v_3=$v_1[$v_1.length-1];switch($v_3.category){case LookupItemCategories.AMBIGUOUS:this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.discard);this.get_editControlBehavior().showErrorMessage(window.LOCID_INLINELOOKUP_MOREMATCHES,"/_imgs/error/notif_icn_warn16.png");break;case LookupItemCategories.UNKNOWN:this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.discard);var $v_4=parseInt($v_3.type,10);if($v_4>0&&$v_4!==Mscrm.EntityTypeCode.UnresolvedEmailParty)this.get_editControlBehavior().showErrorMessage(LOCID_LU_MRUUNRESOLVEDTOOLTIP,"/_imgs/inlineedit/warning.png");else this.get_editControlBehavior().showErrorMessage(window.LOCID_INLINELOOKUP_NOMATCH,"/_imgs/inlineedit/warning.png");break;default:break}this.unbindPageClick();$v_0.get_layout().appendAndWrapValueElementMask()},onEditElementWrapperStateChanged:function($p0){if(IsNull($p0))return;Mscrm.SimpleInlineControlEditView.prototype.onEditElementWrapperStateChanged.call(this,$p0);switch($p0.type){case Mscrm.StateChangeEvents.edit:var $v_0=this.get_editControlBehavior().Items(false,true,false,false,false);if(!IsNull($v_0)&&$v_0.length>0&&$v_0[0].category===LookupItemCategories.UNKNOWN){var $v_1=this.get_editControlBehavior();!IsNull($v_1)&&$v_1.showResultsForUnresolved();return}else this.get_editControlBehavior().showResultsForUnresolved();break}},focusEditElement:function(){if(this.get_editElement().is(":hidden")||this.get_editElement().is(":disabled"))return;var $v_0=this.get_editControlBehavior(),$v_1=$v_0.getLookupField();if($v_0.get_isInlineMultiLookup()){$v_0.resizeAndShowHideMultiLookupInputElement();var $v_2=this.get_chromeElement().find("."+Mscrm.FormInputControl.LookupUIBehavior.selectionClass);$v_2.removeClass(Mscrm.FormInputControl.LookupUIBehavior.selectionClass)}XUI.Html.DispatchDomEvent($v_1,XUI.Html.CreateDomEvent("focus"))},postCreateEditElement:function(){Mscrm.SimpleInlineControlEditView.prototype.postCreateEditElement.call(this);this.get_view().get_valueElement().addClass("ms-crm-Inline-Lookup");this.get_editElementWrapper().addClass("ms-crm-Inline-Lookup");this.get_$h_3().add_setAdditionalParams(this.$$d_$5Z_3)},onEditElementKeyEvent:function($p0){if(IsNull($p0))return;if($p0.which===75&&$p0.ctrlKey){$p0.stopPropagation();$p0.preventDefault();this.confirm()}else Mscrm.SimpleInlineControlEditView.prototype.onEditElementKeyEvent.call(this,$p0);!this.get_editControlBehavior().get_isInlineMultiLookup()&&window.setTimeout(this.$$d_$5v_3,0)},$5v_3:function(){var $v_0=this.get_editControlBehavior().hasUnresolvedText();$v_0&&this.get_editControlBehavior().Clear(false)}};Mscrm.MoneyControlEditView=function($p0){Mscrm.MoneyControlEditView.initializeBase(this,[$p0])};Mscrm.MoneyControlEditView.prototype={get_$0_3:function(){return this.get_dataContext()},get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValidProxy()},get_behavedEditElement:function(){return $P_CRM("#"+this.get_editElementId(),this.get_editElement()).get(0)},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_$0_3().set_defaultEditValue(this.get_$0_3().get_editValue());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},focusEditElement:function(){var $v_0=$P_CRM("#"+this.get_editElementId(),this.get_editElement());this.get_selectTextOnEditFocus()&&$v_0.select()},createFormDataControl:function(){Mscrm.SimpleInlineControlEditView.prototype.createFormDataControl.call(this);Mscrm.CrmUIComponent.crmCreate(Mscrm.FormInputControl.TableMoneyControl,null,null,null,this.get_editElement().get(0))},get_defaultEditValue:function(){var $v_0=this.get_editControlBehavior().get_defaultValue();return !isNaN($v_0)&&!IsNull($v_0)?Mscrm.NumberUtility.addFormatting($v_0,this.get_$0_3().get_precision()):""},set_defaultEditValue:function($p0){var $v_0=Number.parseLocale($p0);this.get_editControlBehavior().set_defaultValue($v_0);this.get_$0_3().setPropertyWithoutRaisingEvent("DefaultEditValue",$p0);var $v_1=!isNaN($v_0)&&!IsNull($v_0)?Mscrm.NumberUtility.addFormatting($v_0,this.get_$0_3().get_precision()):"";this.get_view().tryUpdateValueElementText($v_1);return $p0},updateEditValue:function(){var $v_0=this.get_$0_3();!IsNull($v_0.$1_0.get_rawValue())&&$v_0.set_editValue(Mscrm.NumberUtility.addFormatting($v_0.$1_0.get_rawValue(),$v_0.get_precision()))},get_editElementValue:function(){return $P_CRM("#"+this.get_editElementId(),this.get_editElement()).val()},set_editElementValue:function($p0){var $v_0=$P_CRM("#"+this.get_editElementId(),this.get_editElement());$v_0.val($p0);this.get_$0_3().setPropertyWithoutRaisingEvent("EditValue",$p0);return $p0},postCreateEditElement:function(){Mscrm.SimpleInlineControlEditView.prototype.postCreateEditElement.call(this);this.get_editElementWrapper().addClass("ms-crm-Inline-Currency")},createEditElement:function(){var $v_0=document.createElement(Mscrm.ElementNames.tableRow);$v_0.appendChild(this.$63_3());$v_0.appendChild(this.$6G_3());var $v_1=document.createElement(Mscrm.ElementNames.tableBody);$v_1.appendChild($v_0);var $v_2=document.createElement(Mscrm.ElementNames.table);$v_2.setAttribute("id",this.get_editElementId()+"_table");$v_2.setAttribute("cellpadding","0");$v_2.setAttribute("cellspacing","0");$v_2.setAttribute("dir","ltr");$v_2.className="ms-crm-CurrencyTable-Refresh";$v_2.appendChild($v_1);return $P_CRM($v_2)},$63_3:function(){var $v_0=document.createElement("span");$v_0.setAttribute("tabindex","-1");window.LOCID_UI_DIR==="RTL"&&$v_0.setAttribute("dir","rtl");XUI.Html.SetText($v_0,this.get_$0_3().get_currencySymbol());var $v_1=document.createElement(Mscrm.ElementNames.tableCell);Sys.UI.DomElement.addCssClass($v_1,"ms-crm-CurrencySymbol-Refresh");$v_1.appendChild($v_0);return $v_1},renderAriaAttributesForEditElement:function(){var $v_0=$P_CRM("#"+this.get_editElementId(),this.get_editElement());$v_0.attr("aria-labelledby",this.get_view().get_labelElementId())},$6G_3:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0,$v_2=window.UseTabletExperience?"tel":"text",$v_3=document.createElement(Mscrm.ElementNames.input);$v_3.setAttribute("type",$v_2);$v_3.setAttribute("id",this.get_editElementId());$v_3.setAttribute("attrName",$v_1.get_logicalName());$v_3.setAttribute("min",$v_0.get_minValue().toString());$v_3.setAttribute("max",$v_0.get_maxValue().toString());$v_3.setAttribute("acc",$v_0.get_precision().toString());$v_3.setAttribute("dt",$v_1.get_attributeType());$v_3.setAttribute("title","");$v_3.setAttribute("isBaseCur",$v_0.get_isBaseCurrency()?"1":"0");$v_3.setAttribute("preSrc",$v_0.get_precisionSource().toString());$v_3.setAttribute("attrPriv",$v_1.get_privilegeMask().toString());Sys.UI.DomElement.addCssClass($v_3,"ms-crm-Money");Sys.UI.DomElement.addCssClass($v_3,"ms-crm-InlineInput");var $v_4=this.get_view().$O_2();if(!IsNull($v_4))$v_3.value=Mscrm.NumberUtility.addFormatting($v_4,$v_0.get_precision());var $v_5=document.createElement(Mscrm.ElementNames.div);$v_5.style.whiteSpace="normal";$v_5.appendChild($v_3);var $v_6=document.createElement(Mscrm.ElementNames.tableCell);$v_6.appendChild($v_5);return $v_6},editElementValueComparer:function(){var $v_0=this.get_dataContext().get_attribute().get_rawValue(),$v_1=!IsNull($v_0)?Mscrm.NumberUtility.addFormatting($v_0,this.get_$0_3().get_precision()).toString():this.get_dataContext().get_attribute().get_displayValue(),$v_2=this.get_editElementValue();if(!isNullOrEmptyString($v_2)){var $v_3=Mscrm.NumberUtility.locStringToFloat($v_2);$v_2=Mscrm.NumberUtility.addFormatting($v_3,this.get_$0_3().get_precision())}return $v_2!==$v_1}};Mscrm.MultiplePicklistControlEditView=function(view){this.$$d_$7p_3=Function.createDelegate(this,this.$7p_3);this.$$d_$7n_3=Function.createDelegate(this,this.$7n_3);this.$$d_$7o_3=Function.createDelegate(this,this.$7o_3);Mscrm.MultiplePicklistControlEditView.initializeBase(this,[view])};Mscrm.MultiplePicklistControlEditView.prototype={$1G_3:false,$1D_3:null,get_$0_3:function(){return this.get_dataContext()},get_isDirty:function(){return true},initializeInputBehavior:function(){Mscrm.SimpleInlineControlEditView.prototype.initializeInputBehavior.call(this);var $$t_3=this;this.get_editElement().change(function($p1_0){!$$t_3.$1G_3&&$$t_3.confirm()});var $$t_4=this;this.get_editElement().keydown(function($p1_0){$$t_4.$1G_3=true});var $$t_5=this;this.get_editElement().click(function($p1_0){$$t_5.$1G_3=false;$$t_5.confirm()})},get_editElementValue:function(){var $v_0=this.get_view().get_selectedItemIndexes();if(IsNull($v_0))return "";for(var $v_1="",$v_2=0;$v_2<$v_0.length;$v_2++){if($v_2>0)$v_1=$v_1+":";$v_1=$v_1+$v_0[$v_2]}return $v_1},set_editElementValue:function(value){return value},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},createEditElement:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0,$v_2=this.get_view().$O_2(),$v_3=$P_CRM("<div></div>");$v_3.attr("id",this.get_editElementId());$v_3.attr("attrName",$v_1.get_logicalName());$v_3.attr("req",$v_1.get_requiredLevel().toString());$v_3.attr("attrPriv",$v_1.get_privilegeMask().toString());$v_3.attr("title","");$v_3.addClass("ms-crm-SelectBox");$v_3.addClass("ms-crm-InlineMultiPicklist");for(var $v_4=$v_0.get_options(),$v_5=0;$v_5<$v_4.length;++$v_5){var $v_6=$v_4[$v_5],$v_7=this.get_editElementId()+"_option_"+$v_5.toString();this.$1f_3($v_3,$v_7,$v_6.Value.toString(),$v_6.Label,Array.contains($v_2,$v_6.Value))}return $v_3},$1f_3:function($p0,$p1,$p2,$p3,$p4){var $v_0=$P_CRM("<input></input>");$v_0.attr("id",$p1);$v_0.attr("type","checkbox");$v_0.attr("value",$p2==="-1"?null:$p2);$v_0.addClass("ms-crm-InlineMultiPicklist-Checkbox");$v_0.attr("checked",$p4?"checked":null);var $v_1=$P_CRM("<label></label>");$v_1.attr("for",$p1);$v_1.attr("title",$p3);$v_1.text($p3);var $v_2=$P_CRM("<nobr></nobr>");$v_2.append($v_0);$v_2.append($v_1);$p0.append($v_2)},postCreateEditElement:function(){Mscrm.SimpleInlineControlEditView.prototype.postCreateEditElement.call(this);this.$1D_3=this.get_editElement().find(".ms-crm-InlineMultiPicklist-Checkbox");this.$1D_3.focus(this.$$d_$7o_3);this.$1D_3.blur(this.$$d_$7n_3);this.$1D_3.keydown(this.$$d_$7p_3)},$7o_3:function($p0){var $v_0=$p0.currentTarget;if($v_0.tagName!=="INPUT")return;Sys.UI.DomElement.addCssClass($v_0.parentNode,"ms-crm-selectedmultiboxitem")},$7n_3:function($p0){var $v_0=$p0.currentTarget;if($v_0.tagName!=="INPUT")return;Sys.UI.DomElement.removeCssClass($v_0.parentNode,"ms-crm-selectedmultiboxitem")},$7p_3:function($p0){if(IsNull($p0)||$p0.type!==Mscrm.EventNames.keyDown)return;var $v_0=$p0.currentTarget;if($v_0.tagName!=="INPUT")return;switch($p0.which){case 32:case 13:$v_0.checked=!$v_0.checked;break}},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValid()},dispose:function(){this.get_editElement().unbind();!IsNull(this.$1D_3)&&this.$1D_3.unbind();this.$1D_3=null;Mscrm.SimpleInlineControlEditView.prototype.dispose.call(this)}};Mscrm.NumberControlEditView=function($p0){Mscrm.NumberControlEditView.initializeBase(this,[$p0])};Mscrm.NumberControlEditView.prototype={get_$0_3:function(){return this.get_dataContext()},get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValidProxy()},updateEditValue:function(){var $v_0=this.get_$0_3();!IsNull($v_0.$1_0.get_rawValue())&&$v_0.set_editValue(Mscrm.NumberUtility.addFormatting($v_0.$1_0.get_rawValue(),$v_0.get_precision()))},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_$0_3().set_defaultEditValue(this.get_$0_3().get_editValue());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},createEditElement:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0,$v_2=window.UseTabletExperience?"tel":"text",$v_3=document.createElement("input");$v_3.setAttribute("type",$v_2);$v_3.setAttribute("id",this.get_editElementId());$v_3.setAttribute("attrName",$v_1.get_logicalName());$v_3.setAttribute("min",$v_0.get_minValue().toString());$v_3.setAttribute("max",$v_0.get_maxValue().toString());$v_3.setAttribute("acc",$v_0.get_precision().toString());$v_3.setAttribute("dt",$v_1.get_attributeType());$v_3.setAttribute("attrPriv",$v_1.get_privilegeMask().toString());$v_3.setAttribute("title","");Sys.UI.DomElement.addCssClass($v_3,"ms-crm-InlineInput");var $v_4=this.get_view().$O_2();if(!IsNull($v_4)){$v_3.value=Mscrm.NumberUtility.addFormatting($v_4,$v_0.get_precision());$v_3.setAttribute("defaultValue",$v_4.toString())}return $P_CRM($v_3)},focusEditElement:function(){Mscrm.InlineEditViewBase.prototype.focusEditElement.call(this);this.get_selectTextOnEditFocus()&&this.get_editElement().select()}};Mscrm.OptionSetControlEditView=function(view){this.$1K_3=-1;this.$28_3=-1;this.$3Y_3=-1;Mscrm.OptionSetControlEditView.initializeBase(this,[view]);this.$1G_3=true};Mscrm.OptionSetControlEditView.prototype={$2A_3:0,$1G_3:false,dispose:function(){this.get_editElement().unbind();Mscrm.SimpleInlineControlEditView.prototype.dispose.call(this)},get_$0_3:function(){return this.get_dataContext()},get_isDirty:function(){return true},initializeInputBehavior:function(){Mscrm.SimpleInlineControlEditView.prototype.initializeInputBehavior.call(this);var $$t_5=this;this.get_editElement().change(function($p1_0){!$$t_5.$1G_3&&$$t_5.confirm()});var $$t_6=this;this.get_editElement().keydown(function($p1_0){$$t_6.$1G_3=true});var $$t_7=this;this.get_editElement().click(function($p1_0){$$t_7.$1G_3=false});if(this.$3u_3()){var $$t_8=this;this.get_editElement().click(function($p1_0){$$t_8.confirm()})}if(Mscrm.CrmBrowser.get_currentBrowser().get_isMobileSafari()){var $$t_9=this;this.get_editElement().change(function($p1_0){$$t_9.confirm()})}},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},createEditElement:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0,$v_2=IsNull(this.get_view().$O_2())?null:this.get_view().$O_2().toString(),$v_3=document.createElement("select");$v_3.setAttribute("id",this.get_editElementId());$v_3.setAttribute("attrName",$v_1.get_logicalName());$v_3.setAttribute("defaultSelected",$v_2);$v_3.setAttribute("attrPriv",$v_1.get_privilegeMask().toString());$v_3.setAttribute("title","");$v_3.setAttribute("tabindex","-1");Sys.UI.DomElement.addCssClass($v_3,"ms-crm-SelectBox");var $v_4=$v_0.get_options(),$v_5=-1;if(Mscrm.Utilities.isIE10()&&!Mscrm.Utilities.isIE11StandardOrIE11CompatibleMode()){for(var $v_6=new Sys.StringBuilder,$v_7=0;$v_7<$v_4.length;$v_7++){var $v_8=$v_4[$v_7];if($v_2===$v_8.Value.toString())$v_5=$v_7;var $v_9=$v_8.Value.toString();$v_6.append(String.format("<option title={0}{1}>{2}</option>",CrmEncodeDecode.CrmHtmlAttributeEncode($v_8.Label),$v_9!=="-1"?String.format(" value={0}",CrmEncodeDecode.CrmHtmlAttributeEncode($v_9)):"",CrmEncodeDecode.CrmHtmlEncode($v_8.Label)))}$v_3.innerHTML=$v_6.toString()}else for(var $v_A=0;$v_A<$v_4.length;$v_A++){var $v_B=$v_4[$v_A];if($v_2===$v_B.Value.toString())$v_5=$v_A;this.$1f_3($v_3,$v_B.Value.toString(),$v_B.Label)}if(!isNullOrEmptyString($v_2)&&$v_5>-1)$v_3.selectedIndex=$v_5;return $P_CRM($v_3)},showEditElement:function(){this.$3u_3()&&this.$4R_3();Mscrm.InlineEditViewBase.prototype.showEditElement.call(this);Mscrm.Utilities.isIE()&&this.get_editElement().show();this.get_editElementWrapper().removeClass("ms-crm-Inline-HideByZeroHeight");this.get_editElementWrapper().children().removeClass("ms-crm-Inline-HideByZeroHeight-Ie7");$P_CRM("#mainContainer").addClass("noOverflow")},focusEditElement:function(){Mscrm.InlineEditViewBase.prototype.focusEditElement.call(this);var $$t_0=this;window.setTimeout(function(){$$t_0.get_editElementWrapper().focus();$$t_0.get_editElement().focus()},0)},$4R_3:function(){var $v_0=this.$72_3();this.get_editElement().attr("size",$v_0.toString());this.get_editElement().addClass("ms-crm-Inline-OptionSet-AutoOpen");this.get_editElementWrapper().addClass("noScroll");var $v_1=0;if(this.$2A_3>0){var $v_3=16*$v_0,$v_4=(this.$2A_3>$v_0?$v_0:this.$2A_3)*16;this.$4i_3();if($v_3>this.$1K_3)$v_1=this.$1K_3<$v_4?$v_4:this.$1K_3;if($P_CRM.browser.mozilla&&this.$1K_3<$v_4)$v_1=$v_1-32;$v_1>0&&this.get_editElement().height($v_1);return}var $v_2=$v_0>=6?96:16*$v_0;this.$6j_3();if($v_2<this.$28_3)$v_1=$v_2;else if(this.$28_3>48)$v_1=this.$28_3;else{this.$6k_3();if($v_2-16<this.$3Y_3){var $v_5=$v_2-16,$v_6="-"+$v_5+"px";this.get_editElement().css("position","relative");this.get_editElement().css("z-index","1");this.get_editElement().css("top",$v_6);$v_1=$v_2}else{this.$4i_3();$v_1=this.$1K_3}}$v_1>0&&this.get_editElement().height($v_1)},hideEditElement:function(){$P_CRM("#mainContainer").removeClass("noOverflow");this.get_editElementWrapper().addClass("ms-crm-Inline-HideByZeroHeight");this.get_editElementWrapper().height("");this.get_editElementWrapper().children().addClass("ms-crm-Inline-HideByZeroHeight-Ie7");Mscrm.Utilities.isIE()&&this.get_editElement().hide()},$1f_3:function($p0,$p1,$p2){var $v_0=document.createElement("option");if($p1!=="-1")$v_0.value=$p1;$v_0.text=$p2;$p0.add($v_0)},get_minOptionsToShow:function(){return this.$2A_3},set_minOptionsToShow:function(value){this.$2A_3=value;return value},get_perceivedEditElementValue:function(){var $v_0=parseInt(this.get_editElementValue());return $v_0<0?"":this.get_editElementValue()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValid()},postCreateEditElement:function(){Mscrm.SimpleInlineControlEditView.prototype.postCreateEditElement.call(this);this.get_editElementWrapper().addClass("ms-crm-Inline-OptionSet");this.$3u_3()&&this.$4R_3()},$72_3:function(){var $v_0=this.get_$0_3().get_options().length;$v_0=Math.max($v_0,2);$v_0=Math.min($v_0,10);return $v_0},$4i_3:function(){var $v_0=this.get_editElement().parents("table"),$v_1=this.get_editElement().parents("tr");if($v_0.length>0&&$v_1.length>0){var $v_2=$v_0.first(),$v_3=$v_1.first();if($v_3.length>0&&$v_2.length>0)this.$1K_3=$v_2.height()-($v_3.offset().top-$v_2.offset().top)-2}},$6j_3:function(){var $v_0=this.get_editElement().parents(".ms-crm-InlineTabBody-Read"),$v_1=this.get_editElement().parents("tr");if($v_0.length>0&&$v_1.length>0){var $v_2=$v_0.first(),$v_3=$v_1.first();if($v_3.length>0&&$v_2.length>0){var $v_4=$v_3.outerHeight(true)-$v_3.height();this.$28_3=$v_2.height()-($v_3.offset().top-$v_2.offset().top)-$v_4-15}}},$6k_3:function(){var $v_0=this.get_editElement().parents(".ms-crm-InlineTabBody-Read"),$v_1=this.get_editElement().parents("tr");if($v_0.length>0&&$v_1.length>0){var $v_2=$v_0.first(),$v_3=$v_1.first();if($v_3.length>0&&$v_2.length>0){var $v_4=$v_3.outerHeight(true)-$v_3.height();this.$3Y_3=$v_3.offset().top-$v_2.offset().top-$v_4-2}}},onEditElementKeyEvent:function(eventObject){if(IsNull(eventObject))return;if(eventObject.which===8){if(this.isEditing()){eventObject.stopPropagation();eventObject.preventDefault()}}else Mscrm.SimpleInlineControlEditView.prototype.onEditElementKeyEvent.call(this,eventObject)},$3u_3:function(){if(this.get_view().get_controlMode()===Mscrm.InlineEditControlMode.normal&&!Mscrm.CrmBrowser.get_currentBrowser().get_isIE7()&&!Mscrm.CrmBrowser.get_currentBrowser().get_isMobileSafari()&&!Mscrm.CrmBrowser.get_currentBrowser().get_isAndroid())return true;return false}};Mscrm.PhoneNumberControlEditView=function($p0){this.$$d_$81_3=Function.createDelegate(this,this.$81_3);Mscrm.PhoneNumberControlEditView.initializeBase(this,[$p0])};Mscrm.PhoneNumberControlEditView.prototype={$M_3:null,dispose:function(){!IsNull(this.$M_3)&&$removeHandler(this.$M_3,"keydown",this.$$d_$81_3);Mscrm.SimpleInlineControlEditView.prototype.dispose.call(this)},get_$0_3:function(){return this.get_dataContext()},get_$2w_3:function(){return Sys.UI.Behavior.getBehaviorsByType(this.get_editElement().get(0),this.get_$0_3().get_behaviorType())[0]},get_isDirty:function(){return !IsNull(this.get_$2w_3())&&this.get_$2w_3().get_isDirty()},get_isValid:function(){return IsNull(this.get_$2w_3())||this.get_$2w_3().get_isValidProxy()},updateAttribute:function(){this.get_editElement().attr("defaultValue",this.get_editElement().val());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},createEditElement:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0;this.$M_3=document.createElement("input");var $v_2=window.UseTabletExperience?"tel":"text";this.$M_3.setAttribute("type",$v_2);this.$M_3.setAttribute("id",this.get_editElementId());this.$M_3.setAttribute("attrName",$v_1.get_logicalName());this.$M_3.setAttribute("attrPriv",$v_1.get_privilegeMask().toString());this.$M_3.setAttribute("maxLength",$v_0.get_maxLength().toString());this.$M_3.setAttribute("title",window.PHONE_NUMBER_TOOLTIP_INLINE);Sys.UI.DomElement.addCssClass(this.$M_3,"ms-crm-InlineInput");Sys.UI.DomElement.addCssClass(this.$M_3,"ms-crm-Phone");var $v_3=this.get_view().$O_2();if(!isNullOrEmptyString($v_3)){this.$M_3.value=$v_3;this.$M_3.setAttribute("defaultValue",$v_3)}$addHandler(this.$M_3,"keydown",this.$$d_$81_3);return $P_CRM(this.$M_3)},$81_3:function($p0){if(!isNullOrEmptyString(this.$M_3.value))switch($p0.keyCode){case 13:if($p0.ctrlKey){Mscrm.ReadFormUtilities.openPhoneClient(this.$M_3.value);$p0.stopPropagation();$p0.preventDefault()}break}},focusEditElement:function(){Mscrm.InlineEditViewBase.prototype.focusEditElement.call(this);this.get_selectTextOnEditFocus()&&this.get_editElement().select()}};Mscrm.RelatedCasesLookupControlEditView=function($p0,$p1){Mscrm.RelatedCasesLookupControlEditView.initializeBase(this,[$p0]);this.$x_4=$p1};Mscrm.RelatedCasesLookupControlEditView.prototype={$x_4:null,createEditElement:function(){var $v_0=this.get_view();$v_0.get_valueElement().empty();$v_0.$2o_3(this.$x_4);return Mscrm.LookupControlEditView.prototype.createEditElement.call(this)},updateAttribute:function(){Mscrm.LookupControlEditView.prototype.updateAttribute.call(this);this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},getInitialValue:function(){return isNullOrEmptyString(this.$x_4[0].id)?null:this.$x_4[0]}};Mscrm.SimpleInlineControlEditView=function(view){this.$$d_$6U_2=Function.createDelegate(this,this.$6U_2);this.$$d_onEditElementWrapperStateChanged=Function.createDelegate(this,this.onEditElementWrapperStateChanged);this.$$d_$8J_2=Function.createDelegate(this,this.$8J_2);this.$$d_onEditElementKeyEvent=Function.createDelegate(this,this.onEditElementKeyEvent);this.$$d_$8F_2=Function.createDelegate(this,this.$8F_2);this.$$d_$89_2=Function.createDelegate(this,this.$89_2);Mscrm.SimpleInlineControlEditView.initializeBase(this,[view])};Mscrm.SimpleInlineControlEditView.prototype={$2M_2:null,$4G_2:true,$1U_2:null,get_doNotSubmit:function(){return this.get_view().get_editControlBehavior().get_doNotSubmit()},set_doNotSubmit:function(value){this.get_view().get_editControlBehavior().set_doNotSubmit(value);return value},get_view:function(){return this.get_inlineView()},get_selectTextOnEditFocus:function(){return this.$4G_2&&!Mscrm.Utilities.isMobileRefresh()},set_selectTextOnEditFocus:function(value){this.$4G_2=value;return value},get_editElementValue:function(){return this.get_editElement().val()},set_editElementValue:function(value){this.get_editElement().val(value);this.get_view().get_dataContext().setPropertyWithoutRaisingEvent("EditValue",value);return value},get_perceivedEditElementValue:function(){return this.get_editElementValue()},get_editElementId:function(){return this.get_chromeElement().attr("id")+"_i"},get_behavedEditElement:function(){return this.get_editElement().get(0)},get_editControlBehavior:function(){if(IsNull(this.$2M_2)){var $v_0=Sys.UI.Behavior.getBehaviorsByType(this.get_behavedEditElement(),this.get_dataContext().get_behaviorType());this.$2M_2=$v_0[0]}return this.$2M_2},get_imeMode:function(){return this.$1U_2},set_imeMode:function(value){this.$1U_2=value;return value},postCreateEditElement:function(){this.$4s_2();Mscrm.InlineEditViewBase.prototype.postCreateEditElement.call(this)},bindViewStateChange:function(){$P_CRM(this).bind(Mscrm.EventNames.editValueChange,this.$$d_$89_2)},$89_2:function($p0){this.handleViewToModelBinding($p0)},$4r_2:function($p0,$p1){switch($p1){case "ControlMode":this.bindEditElementClick();this.$5E_2();break;case "EditValue":this.set_editElementValue(this.get_dataContext().get_editValue());break;case "DefaultEditValue":this.set_defaultEditValue(this.get_dataContext().get_defaultEditValue());break}},get_defaultEditValue:function(){return this.get_editElement().attr("defaultValue")},set_defaultEditValue:function(value){this.get_editElement().attr("defaultValue",value);this.get_dataContext().setPropertyWithoutRaisingEvent("DefaultEditValue",value);var $v_0=this.get_view().get_dataContext(),$v_1=$v_0.get_attribute().get_displayValue()||"";this.get_view().tryUpdateValueElementText($v_1);return value},handleViewToModelBinding:function(jQueryEvent){switch(jQueryEvent.type){case Mscrm.EventNames.editValueChange:window.setTimeout(this.$$d_$8F_2,0);break;default:break}},$8F_2:function(){this.get_dataContext().setPropertyWithoutRaisingEvent("EditValue",this.get_editElementValue())},attributeChanged:function(){var $v_0=this.get_dataContext(),$v_1=$v_0.get_attribute().get_displayValue()||"",$v_2=this.get_view();if(isNullOrEmptyString($v_1))$v_0.set_editValue(null);else if(this.isEditing())$v_0.set_editValue(this.get_editElementValue());else{this.updateEditValue();if(!IsNull($v_2.$b_2)&&$v_2.get_isValid());}$v_0.set_defaultEditValue($v_0.get_editValue());$v_2.tryUpdateValueElementText($v_1);this.get_chromeElement().trigger("attribute-changed",[this.get_perceivedEditElementValue()]);window.UseTabletExperience&&Mscrm.InlineEditDataService.cacheFormData()},updateEditValue:function(){var $v_0=this.get_dataContext();!IsNull($v_0.get_attribute().get_rawValue())&&$v_0.set_editValue($v_0.get_attribute().get_rawValue().toString())},initializeInputBehavior:function(){this.get_editElement().keydown(this.$$d_onEditElementKeyEvent);this.get_editElement().keypress(this.$$d_onEditElementKeyEvent);Mscrm.InlineEditViewBase.prototype.initializeInputBehavior.call(this)},raiseCommitEvent:function(){!this.get_doNotSubmit()&&this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},confirm:function(){var $v_0=this.get_view();$v_0.get_layout().adjustFocusElement();this.get_dataContext().setPropertyWithoutRaisingEvent("EditValue",this.get_editElementValue());if($v_0.get_isValid()&&($v_0.get_isDirty()||this.editElementValueComparer()))Mscrm.InlineEditViewBase.prototype.confirm.call(this);else this.discard(false)},editElementValueComparer:function(){var $v_0=this.get_dataContext().get_attribute(),$v_1=!IsNull($v_0.get_rawValue())?$v_0.get_rawValue().toString():$v_0.get_displayValue();return this.get_editElementValue()!==$v_1},discard:function(adjustFocus){var $v_0=this.get_view();adjustFocus&&$v_0.get_layout().adjustFocusElement();var $v_1=this.get_dataContext();if(!IsNull($v_0.$b_2)){$v_1.set_editValue($v_0.$b_2);$v_0.tryUpdateValueElementText($v_0.$b_2)}else{$v_1.set_editValue($v_1.get_defaultEditValue());$v_0.tryUpdateValueElementText($v_1.get_attribute().get_displayValue())}Mscrm.InlineEditViewBase.prototype.discard.call(this,adjustFocus)},onEditElementKeyEvent:function(eventObject){if(IsNull(eventObject))return;switch(eventObject.which){case 27:if(this.get_view().get_controlMode()!==Mscrm.InlineEditControlMode.alwaysEdit){eventObject.stopPropagation();this.discard(true)}eventObject.preventDefault();break;case 9:this.onEditElementTabKeyDown(eventObject);break;case 13:this.onEditElementEnterKeyDown(eventObject);break;default:this.handleDefaultKeyDownEvent(eventObject);this.handleDefaultKeyPressEvent(eventObject);break}},handleDefaultKeyPressEvent:function(eventObject){if(eventObject.type!==Mscrm.EventNames.keyPress)return;$P_CRM(this).trigger(Mscrm.EventNames.editValueChange)},handleDefaultKeyDownEvent:function(eventObject){if(eventObject.type!==Mscrm.EventNames.keyDown)return;$P_CRM(this).trigger(Mscrm.EventNames.editValueChange);!this.get_view().get_state().get_validationResult().isValid&&window.setTimeout(this.$$d_$8J_2,0)},$8J_2:function(){this.get_editElementWrapper().trigger(Mscrm.EventNames.validateOnKeyDown)},onEditElementWrapperStateChanged:function(eventObject){if(IsNull(eventObject))return;Mscrm.InlineEditViewBase.prototype.onEditElementWrapperStateChanged.call(this,eventObject);switch(eventObject.type){case Mscrm.StateChangeEvents.edit:this.$5P_2();break;case Mscrm.StateChangeEvents.read:this.$3s_2();break;case Mscrm.EventNames.validateOnKeyDown:this.$7E_2();break;default:break}},$7E_2:function(){this.get_view().get_isValid()&&this.$3s_2()},$3s_2:function(){this.get_editElementWrapper().unbind(Mscrm.EventNames.validateOnKeyDown,this.$$d_onEditElementWrapperStateChanged)},$5P_2:function(){!this.get_view().get_state().get_validationResult().isValid&&this.get_editElementWrapper().bind(Mscrm.EventNames.validateOnKeyDown,this.$$d_onEditElementWrapperStateChanged)},$6U_2:function($p0){this.get_editElement().unbind(Mscrm.EventNames.focus,this.$$d_$6U_2);$p0.stopPropagation()},onPageClick:function(eventObject){if(IsNull(eventObject))return;var $v_0=this.get_view();if(!$v_0.isElementInChrome($P_CRM(eventObject.target))&&!$v_0.get_layout().isElementInLabel($P_CRM(eventObject.target))&&!($v_0.get_dataContext().get_attribute().get_isCompositeAttributeValueSet()&&$v_0.get_chromeBehavior().$j_4?$v_0.get_chromeBehavior().$j_4.get_visible():false)){Mscrm.TabTypeHelper.disableTabTyping();this.confirm();eventObject.stopPropagation()}},onEditElementTabKeyDown:function(eventObject){if(IsNull(eventObject)||eventObject.type!==Mscrm.EventNames.keyDown)return;Mscrm.InlineEditViewBase.prototype.onEditElementTabKeyDown.call(this,eventObject);Mscrm.TabTypeHelper.enableTabTyping(this.get_dataContext().get_attribute().get_logicalName())},onEditElementEnterKeyDown:function(eventObject){if(IsNull(eventObject)||eventObject.type!==Mscrm.EventNames.keyDown)return;Mscrm.TabTypeHelper.disableTabTyping();Mscrm.InlineEditViewBase.prototype.onEditElementEnterKeyDown.call(this,eventObject)},createFormDataControl:function(){Mscrm.CrmUIComponent.crmCreate(this.get_dataContext().get_controlType(),null,null,{attribute:this.get_dataContext().get_attribute().get_dataAttributeId()},this.get_behavedEditElement())},createControlBehavior:function(){Mscrm.CrmUIComponent.crmCreate(this.get_dataContext().get_behaviorType(),{view:this.get_view()},null,null,this.get_behavedEditElement())},attachBehaviors:function(){this.createFormDataControl();this.createControlBehavior();this.get_view().get_chromeBehavior().initializeForEditElement()},onEditElementClick:function(eventObject){Mscrm.InlineEditViewBase.prototype.onEditElementClick.call(this,eventObject);this.get_view().get_controlMode()===Mscrm.InlineEditControlMode.alwaysEdit&&Mscrm.Utilities.isMobileRefresh()&&Mscrm.InlineEditUtilities.set_activeControl(this.get_view());this.$5P_2()},isEditing:function(){if(this.get_view().get_controlMode()===Mscrm.InlineEditControlMode.alwaysEdit)return false;return this.get_view().get_state().get_currentState()===Mscrm.ChromeState.edit},render:function(){var $v_0=false;if(!Sys.Application.get_isCreatingComponents()){Sys.Application.beginCreateComponents();$v_0=true}this.createAndAppendEditElementToDom();this.get_view().get_layout().renderForEdit();this.attachBehaviors();this.initializeInputBehavior();this.postCreateEditElement();this.renderLabelValueForEditElement();this.$5E_2();this.$8W_2();$v_0&&Sys.Application.endCreateComponents()},createAndAppendEditElementToDom:function(){this.set_editElement(this.createEditElement());this.renderAriaAttributesForEditElement();var $v_0=document.createElement("div");if(this.get_dataContext().get_controlMode()!==Mscrm.InlineEditControlMode.alwaysEdit)$v_0.style.display="none";$v_0.appendChild(this.get_editElement()[0]);Sys.UI.DomElement.addCssClass($v_0,"ms-crm-Inline-Edit");this.set_editElementWrapper($P_CRM($v_0));this.get_chromeElement().addClass(this.get_dataContext().get_attribute().get_attributeType());this.get_chromeElement().append(this.get_editElementWrapper())},renderLabelValueForEditElement:function(){},$4s_2:function(){var $v_0=this.get_dataContext();$v_0.setPropertyWithoutRaisingEvent("EditValue",this.get_editElementValue());$v_0.setPropertyWithoutRaisingEvent("DefaultEditValue",this.get_defaultEditValue())},$8W_2:function(){if(!IsNull(this.$1U_2)&&!IsNull(this.get_editElementWrapper())){var $v_0=this.get_editElementWrapper().find("input, textarea");if(Mscrm.Utilities.isEdge())$v_0.css("-ms-ime-mode",this.$1U_2);else $v_0.css("ime-mode",this.$1U_2)}},$5E_2:function(){!IsNull(this.get_editElement())&&this.get_editElement().attr("controlmode",this.get_dataContext().get_controlMode())},renderAriaAttributesForEditElement:function(){this.get_editElement().attr("aria-labelledby",String.format("{0} {1}",this.get_view().get_labelElementId(),this.get_view().get_warningElementId()))},dispose:function(){$P_CRM(this).unbind(Mscrm.EventNames.editValueChange,this.$$d_$89_2);this.get_editElement().unbind(Mscrm.EventNames.keyDown,this.$$d_onEditElementKeyEvent);this.get_editElement().unbind(Mscrm.EventNames.keyPress,this.$$d_onEditElementKeyEvent);this.get_editElementWrapper().unbind(Mscrm.EventNames.validateOnKeyDown,this.$$d_onEditElementWrapperStateChanged);this.$3s_2();this.$2M_2=null;Mscrm.InlineControlEditViewBase.prototype.dispose.call(this)}};Mscrm.SubjectLookupControlEditView=function($p0){this.$$d_$6T_4=Function.createDelegate(this,this.$6T_4);Mscrm.SubjectLookupControlEditView.initializeBase(this,[$p0])};Mscrm.SubjectLookupControlEditView.prototype={setImage:function($p0){if(!IsNull(Mscrm.InlineSubjectLookupUIBehavior.getSubjectLookupData()))$p0.setAttribute("src","/_imgs/dropdown_refresh.png");else $p0.setAttribute("src","/_imgs/search_normal.gif")},createEditElement:function(){var $v_0=Mscrm.LookupControlEditView.prototype.createEditElement.call(this),$v_1=document.createElement("div");$v_1.setAttribute("id",this.get_chromeElement().attr("id")+"_treediv");$v_1.setAttribute("style","overflow:auto");$v_1.setAttribute("style","max-height:250px");var $v_2=$P_CRM($v_1);$v_0.append($v_2);return $v_0},addClickHandler:function($p0){$p0&&$addHandler($p0,"click",this.$$d_$6T_4)},removeClickHandler:function($p0){$p0&&$removeHandler($p0,"click",this.$$d_$6T_4)},$6T_4:function($p0){var $v_0=$P_CRM($p0.target),$v_1=this.get_editElement().find(".ms-crm-LookupItem-Name");if(!$v_0||!$v_1)return;if($v_0.parents("."+$v_1.attr("class")).length>0||$v_0.get(0)===$v_1.get(0))return;XUI.Html.DispatchDomEvent($get(this.get_chromeElement().attr("id")+"_i"),XUI.Html.CreateDomEvent("click"))}};Mscrm.TextAreaControlEditView=function($p0){Mscrm.TextAreaControlEditView.initializeBase(this,[$p0])};Mscrm.TextAreaControlEditView.prototype={get_$0_3:function(){return this.get_dataContext()},get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValid()},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_$0_3().set_defaultEditValue(this.get_$0_3().get_editValue());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},get_editElementValue:function(){return Mscrm.TextAreaHelper.normalizeNewLine(this.get_editElement().val())},createEditElement:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0,$v_2=document.createElement("textarea");$v_2.setAttribute("id",this.get_editElementId());$v_2.setAttribute("attrName",$v_1.get_logicalName());$v_2.setAttribute("attrPriv",$v_1.get_privilegeMask().toString());$v_2.setAttribute("maxLength",$v_0.get_maxLength().toString());$v_2.setAttribute("role","textbox");$v_2.setAttribute("aria-multiline","true");Sys.UI.DomElement.addCssClass($v_2,"ms-crm-InlineInput");var $v_3=this.get_view().$O_2();if(!isNullOrEmptyString($v_3)){$v_2.value=$v_3;$v_2.setAttribute("defaultValue",$v_3)}return $P_CRM($v_2)},onEditElementEnterKeyDown:function($p0){$p0.stopPropagation()}};Mscrm.TextBoxControlEditView=function($p0){Mscrm.TextBoxControlEditView.initializeBase(this,[$p0])};Mscrm.TextBoxControlEditView.prototype={get_$0_3:function(){return this.get_dataContext()},get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValid()},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);var $v_0=this.get_$0_3();$v_0.set_defaultEditValue($v_0.get_editValue());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},createEditElement:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0,$v_2=document.createElement("input");$v_2.setAttribute("type","text");$v_2.setAttribute("id",this.get_editElementId());$v_2.setAttribute("attrName",$v_1.get_logicalName());$v_2.setAttribute("attrPriv",$v_1.get_privilegeMask().toString());$v_2.setAttribute("maxLength",$v_0.get_maxLength().toString());$v_2.setAttribute("title","");Sys.UI.DomElement.addCssClass($v_2,"ms-crm-InlineInput");var $v_3=this.get_view().$O_2();if(!isNullOrEmptyString($v_3)){$v_2.value=$v_3;$v_2.setAttribute("defaultValue",$v_3)}return $P_CRM($v_2)},focusEditElement:function(){Mscrm.InlineEditViewBase.prototype.focusEditElement.call(this);this.get_selectTextOnEditFocus()&&this.get_editElement().select()}};Mscrm.TickerControlEditView=function($p0){Mscrm.TickerControlEditView.initializeBase(this,[$p0])};Mscrm.TickerControlEditView.prototype={get_$0_3:function(){return this.get_dataContext()},get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValidProxy()},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);var $v_0=this.get_$0_3();$v_0.set_defaultEditValue($v_0.get_editValue());var $v_1=$v_0.get_editValue().trim();$v_1.length>0&&$v_0.set_editValue($v_1.toUpperCase());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},createEditElement:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0,$v_2=document.createElement("input");$v_2.setAttribute("id",this.get_editElementId());$v_2.setAttribute("attrName",$v_1.get_logicalName());$v_2.setAttribute("attrPriv",$v_1.get_privilegeMask().toString());$v_2.setAttribute("maxLength",$v_0.get_maxLength().toString());$v_2.setAttribute("title","");Sys.UI.DomElement.addCssClass($v_2,"ms-crm-Email-Address");Sys.UI.DomElement.addCssClass($v_2,"ms-crm-InlineInput");var $v_3=this.get_view().$O_2();if(!isNullOrEmptyString($v_3)){$v_2.value=$v_3;$v_2.setAttribute("defaultValue",$v_3)}return $P_CRM($v_2)},focusEditElement:function(){Mscrm.InlineEditViewBase.prototype.focusEditElement.call(this);this.get_selectTextOnEditFocus()&&this.get_editElement().select()}};Mscrm.ToggleControlEditView=function($p0){this.$$d_onEditElementWrapperStateChanged=Function.createDelegate(this,this.onEditElementWrapperStateChanged);this.$$d_$87_4=Function.createDelegate(this,this.$87_4);this.$$d_$86_4=Function.createDelegate(this,this.$86_4);Mscrm.ToggleControlEditView.initializeBase(this,[$p0])};Mscrm.ToggleControlEditView.prototype={dispose:function(){var $v_0=this.get_view().get_valueElement();$v_0.unbind(Mscrm.EventNames.mouseDown,this.$$d_$86_4);$v_0.unbind(Mscrm.EventNames.mouseUp,this.$$d_$87_4);this.get_editElementWrapper().unbind(Mscrm.StateChangeEvents.edit,this.$$d_onEditElementWrapperStateChanged);this.get_editElementWrapper().unbind(Mscrm.StateChangeEvents.read,this.$$d_onEditElementWrapperStateChanged);Mscrm.OptionSetControlEditView.prototype.dispose.call(this)},get_perceivedEditElementValue:function(){return this.get_$0_4().get_editValue()==="0"?"":this.get_$0_4().get_editValue()},get_$0_4:function(){return this.get_dataContext()},initializeInputBehavior:function(){var $v_0=this.get_view().get_valueElement();$v_0.mousedown(this.$$d_$86_4);$v_0.mouseup(this.$$d_$87_4);this.get_editElementWrapper().bind(Mscrm.StateChangeEvents.edit,this.$$d_onEditElementWrapperStateChanged);this.get_editElementWrapper().bind(Mscrm.StateChangeEvents.read,this.$$d_onEditElementWrapperStateChanged);if(Mscrm.CrmBrowser.get_currentBrowser().get_isMobileSafari()&&Mscrm.Utilities.isMobileRefresh()){var $$t_2=this;this.get_editElement().change(function($p1_0){$$t_2.confirm()})}},$86_4:function($p0){!this.get_view().get_disabled()&&this.get_view().get_valueElement().addClass("ms-crm-Inline-toggleclickState")},$87_4:function($p0){if(!this.get_view().get_disabled()){var $v_0=this.get_view().get_valueElement();$v_0.removeClass("ms-crm-Inline-toggleclickState");$v_0.addClass("ms-crm-Inline-EditHintState")}},confirm:function(){this.updateAttribute();this.unbindPageClick()},updateAttribute:function(){if(Mscrm.InlineEditControlMode.alwaysEdit!==this.get_view().get_controlMode())for(var $v_0=this.get_$0_4().get_options(),$v_1=0;$v_1<$v_0.length;$v_1++){if($v_0[$v_1].Value.toString()===this.get_editElement().val())continue;this.get_$0_4().set_editValue($v_0[$v_1].Value.toString());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit);break}else Mscrm.OptionSetControlEditView.prototype.updateAttribute.call(this)},onEditElementWrapperStateChanged:function($p0){switch($p0.type){case Mscrm.StateChangeEvents.edit:break;case Mscrm.StateChangeEvents.read:break;default:break}}};Mscrm.TransactionCurrencyLookupControlEditView=function($p0){Mscrm.TransactionCurrencyLookupControlEditView.initializeBase(this,[$p0])};Mscrm.TransactionCurrencyLookupControlEditView.prototype={addImageExpandos:function($p0){Mscrm.LookupControlEditView.prototype.addImageExpandos.call(this,$p0);$p0.setAttribute("cursymclm",this.get_viewModel().$1_0.get_currencyDisplayOption()===1?"isocurrencycode":"currencysymbol")},createEditElement:function(){this.set_lookupImageClass("ms-crm-Lookup-TransactionCurrency");return Mscrm.LookupControlEditView.prototype.createEditElement.call(this)}};Mscrm.UrlControlEditView=function($p0){Mscrm.UrlControlEditView.initializeBase(this,[$p0])};Mscrm.UrlControlEditView.prototype={get_$0_3:function(){return this.get_dataContext()},get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValidProxy()},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);var $v_0=this.get_$0_3();$v_0.set_defaultEditValue($v_0.get_editValue());var $v_1=$v_0.get_editValue().trim();$v_1.length>0&&$v_0.set_editValue(Mscrm.FormInputControl.UrlInputBehavior.prefixHttp($v_1,$v_0.get_maxLength()));this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},createEditElement:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0,$v_2=document.createElement("input");window.UseTabletExperience&&$v_2.setAttribute("type","url");$v_2.setAttribute("id",this.get_editElementId());$v_2.setAttribute("attrName",$v_1.get_logicalName());$v_2.setAttribute("attrPriv",$v_1.get_privilegeMask().toString());$v_2.setAttribute("maxLength",$v_0.get_maxLength().toString());$v_2.setAttribute("title","");Sys.UI.DomElement.addCssClass($v_2,"ms-crm-Email-Address");Sys.UI.DomElement.addCssClass($v_2,"ms-crm-InlineInput");var $v_3=this.get_view().$O_2();if(!isNullOrEmptyString($v_3)){$v_2.value=$v_3;$v_2.setAttribute("defaultValue",$v_3)}return $P_CRM($v_2)},focusEditElement:function(){Mscrm.InlineEditViewBase.prototype.focusEditElement.call(this);this.get_selectTextOnEditFocus()&&this.get_editElement().select()}};Mscrm.AutoCompleteControlEditView=function(view){this.$$d_$5m_3=Function.createDelegate(this,this.$5m_3);this.$$d_$5l_3=Function.createDelegate(this,this.$5l_3);this.$$d_$5k_3=Function.createDelegate(this,this.$5k_3);Mscrm.AutoCompleteControlEditView.initializeBase(this,[view])};Mscrm.AutoCompleteControlEditView.prototype={dispose:function(){this.$J_3=null;Mscrm.SimpleInlineControlEditView.prototype.dispose.call(this)},get_$0_3:function(){return this.get_dataContext()},render:function(){Mscrm.SimpleInlineControlEditView.prototype.render.call(this);this.$5h_3()},get_editElementValue:function(){return this.$J_3.val()},set_editElementValue:function(value){this.$J_3.val(value);this.get_editElement().val(this.get_$0_3().$1_0.get_displayValue());this.get_$0_3().setPropertyWithoutRaisingEvent("EditValue",value);return value},isEditing:function(){if(this.get_view().get_controlMode()===Mscrm.InlineEditControlMode.alwaysEdit)return false;return Mscrm.SimpleInlineControlEditView.prototype.isEditing.call(this)},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_$0_3().set_defaultEditValue(this.get_$0_3().get_editValue());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},get_defaultEditValue:function(){return Mscrm.SimpleInlineControlEditView.prototype.get_defaultEditValue.call(this)},set_defaultEditValue:function(value){this.$J_3.attr("defaultValue",value);Mscrm.SimpleInlineControlEditView.prototype.set_defaultEditValue.call(this,value);return value},get_behavedEditElement:function(){return this.$J_3[0]},createAndAppendEditElementToDom:function(){Mscrm.SimpleInlineControlEditView.prototype.createAndAppendEditElementToDom.call(this);this.get_editElementWrapper().append(this.$8E_3());this.$J_3.hide()},createEditElement:function(){var $v_0=this.get_$0_3().$1_0,$v_1=$P_CRM("<input></input>");$v_1.attr("type","text");$v_1.attr("id",this.get_editElementId());$v_1.attr("attrName",$v_0.get_logicalName());$v_1.attr("attrPriv",$v_0.get_privilegeMask().toString());$v_1.addClass("ms-crm-InlineInput");var $v_2=this.get_view().$O_2();if(!isNullOrEmptyString($v_2)){$v_1.val($v_2);$v_1.attr("defaultValue",$v_2)}return $v_1},showEditElement:function(){Mscrm.InlineEditViewBase.prototype.showEditElement.call(this);this.get_view().get_controlMode()!==Mscrm.InlineEditControlMode.alwaysEdit&&this.get_$27_3().autocomplete("search","");this.get_$27_3().focus()},confirm:function(){this.$J_3.text().toLowerCase()!==this.get_editElement().val()&&this.$7F_3();Mscrm.SimpleInlineControlEditView.prototype.confirm.call(this)},$8E_3:function(){var $v_0=this.get_$0_3(),$v_1=$v_0.$1_0,$v_2=Mscrm.InlineEditUtilities.getRawValue($v_1.get_initialValue()),$v_3=IsNull($v_2)?null:$v_2.toString();this.$J_3=$P_CRM("<select></select>");this.$J_3.attr("id",this.get_editElementId()+"_select");this.$J_3.attr("defaultSelected",$v_3);this.$J_3.attr("attrPriv",$v_1.get_privilegeMask().toString());this.$J_3.addClass("ms-crm-SelectBox");isNullOrEmptyString($v_3)&&this.$1f_3(this.$J_3,"","");for(var $v_4=$v_0.get_options(),$v_5=-1,$v_6=0;$v_6<$v_4.length;$v_6++){var $v_7=$v_4[$v_6];if($v_3===$v_7.Value.toString())$v_5=$v_6;this.$1f_3(this.$J_3,$v_7.Value.toString(),$v_7.Label)}if(!isNullOrEmptyString($v_3)){var $v_8=this.$J_3.get(0);if(!IsNull($v_8)&&$v_5>-1){$v_8.selectedIndex=$v_5;this.get_editElement().val($v_4[$v_5].Label)}}return this.$J_3},$1f_3:function($p0,$p1,$p2){var $v_0=$P_CRM("<option></option>");$v_0.val($p1);$v_0.text($p2);$p0.append($v_0)},get_isDirty:function(){return !IsNull(this.get_editControlBehavior())&&this.get_editControlBehavior().get_isDirty()},get_isValid:function(){return IsNull(this.get_editControlBehavior())||this.get_editControlBehavior().get_isValid()},focusEditElement:function(){Mscrm.InlineEditViewBase.prototype.focusEditElement.call(this);this.get_editElement().select()},get_$27_3:function(){return this.get_editElement()},$5h_3:function(){this.get_$27_3().autocomplete(this.$5y_3());this.get_$27_3().data("autocomplete")._renderItem=this.$$d_$5k_3},$5y_3:function(){var $v_0={};$v_0.source=this.$$d_$5l_3;$v_0.select=this.$$d_$5m_3;$v_0.minLength=0;return $v_0},$5l_3:function($p0,$p1){for(var $v_0=$p0.term,$v_1=new Array(0),$$arr_4=this.get_dataContext().get_$4f_1(),$$len_5=$$arr_4.length,$$idx_6=0;$$idx_6<$$len_5;++$$idx_6){var $v_2=$$arr_4[$$idx_6],$v_3=$v_2.Label;if($v_3.toLowerCase().indexOf($v_0.toLowerCase())>=0&&!isNullOrEmptyString($v_3)){var $v_4={};$v_4.label=$v_2.Label;$v_4.value=$v_2.Label;$v_4.rawValue=$v_2.Value.toString();Array.add($v_1,$v_4)}}$p1($v_1)},$5m_3:function($p0,$p1){this.$3p_3($p1.item.rawValue);Mscrm.SimpleInlineControlEditView.prototype.confirm.call(this)},$7F_3:function(){for(var $v_0=false,$v_1=this.get_editElement().val().toLowerCase(),$$arr_2=this.get_$0_3().get_$4f_1(),$$len_3=$$arr_2.length,$$idx_4=0;$$idx_4<$$len_3;++$$idx_4){var $v_2=$$arr_2[$$idx_4],$v_3=$v_2.Label;if($v_3.toLowerCase()===$v_1&&!isNullOrEmptyString($v_3)){$v_0=true;this.$3p_3($v_2.Value.toString());break}}if(!$v_0){this.$3p_3(this.get_$0_3().get_defaultEditValue());this.get_$27_3().data("autocomplete").term="";return false}return true},$3p_3:function($p0){this.$J_3.val($p0);XUI.Html.DispatchDomEvent(this.$J_3[0],XUI.Html.CreateDomEvent(Mscrm.EventNames.change))},$5k_3:function($p0,$p1){return $P_CRM("<li></li>").data("item.autocomplete",$p1).append("<a title='"+CrmEncodeDecode.CrmHtmlAttributeEncode($p1.label)+"'>"+CrmEncodeDecode.CrmHtmlEncode($p1.label)+"</a>").appendTo($p0)},$J_3:null};Mscrm.EditableSelectHelper=function(){};Mscrm.EditableSelectHelper.createElement=function($p0,$p1,$p2,$p3,$p4,$p5){var $v_0=$p0+"Input",$v_1=document.createElement(Mscrm.ElementNames.span);$v_1.id=$p0;$v_1.setAttribute("name",$v_0);$v_1.setAttribute("ButtonTitle",$p1);$v_1.setAttribute("defaultimemode",$p3);$v_1.setAttribute("value",$p2);$v_1.setAttribute("allowValueEdit","true");Sys.UI.DomElement.addCssClass($v_1,"ms-crm-SelectBox");$v_1.appendChild(Mscrm.EditableSelectHelper.$6C($v_0,$p4));$v_1.appendChild(Mscrm.EditableSelectHelper.$66($p5));$p4&&$v_1.setAttribute("setDisabled","1");return $v_1};Mscrm.EditableSelectHelper.createTableColumn=function($p0){var $v_0=document.createElement(Mscrm.ElementNames.tableColumn);$p0>0&&$v_0.setAttribute("width",$p0.toString());return $v_0};Mscrm.EditableSelectHelper.$6C=function($p0,$p1){var $v_0=document.createElement(Mscrm.ElementNames.input);$v_0.setAttribute("id",$p0);$v_0.setAttribute("title","");$v_0.setAttribute("crmType","sel");$v_0.setAttribute("style","ime-mode:inactive");$v_0.className="ms-crm-SelectBox";var $v_1=document.createElement(Mscrm.ElementNames.tableCell);$v_1.className="ms-crm-Select-Input-Container";$v_1.appendChild($v_0);var $v_2=Mscrm.ImageStrip.getImage(Mscrm.CrmUri.create($p1?"/_imgs/inlineedit/time_icon_disabled.png":"/_imgs/inlineedit/time_icon.png"));Sys.UI.DomElement.addCssClass($v_2,"ms-crm-InlineDuration-Icon");var $v_3=document.createElement(Mscrm.ElementNames.tableCell);$v_3.className="ms-crm-InlineDuration-IconCell";$v_3.appendChild($v_2);var $v_4=document.createElement(Mscrm.ElementNames.tableRow);$v_4.appendChild($v_1);$v_4.appendChild($v_3);var $v_5=document.createElement(Mscrm.ElementNames.tableBody);$v_5.appendChild($v_4);var $v_6=document.createElement(Mscrm.ElementNames.tableColumnGroup);$v_6.appendChild(Mscrm.EditableSelectHelper.createTableColumn(0));$v_6.appendChild(Mscrm.EditableSelectHelper.createTableColumn(21));var $v_7=document.createElement(Mscrm.ElementNames.table);$v_7.setAttribute("cellspacing","0");$v_7.setAttribute("cellpadding","0");$v_7.id="selectTable";$v_7.className="ms-crm-InlineDuration-InputTable";$v_7.appendChild($v_6);$v_7.appendChild($v_5);return $v_7};Mscrm.EditableSelectHelper.$66=function($p0){var $v_0=new Sys.StringBuilder,$v_1="<table cellspacing='0' cellpadding='0' style='display:none' class='ms-crm-inlineEditableSelect'>";$v_0.append($v_1);for(var $v_3=0;$v_3<$p0.length;$v_3++)$v_0.append(Mscrm.EditableSelectHelper.$67($p0[$v_3]));$v_0.append("</table>");var $v_2=document.createElement(Mscrm.ElementNames.div);$v_2.innerHTML=$v_0.toString();return XUI.Html.DomUtils.GetFirstChild($v_2)};Mscrm.EditableSelectHelper.$67=function($p0){return String.format('<tr><td id="{0}" val="{1}" class=\'ms-crm-inlineSelectRow\'>{2}</td></tr>',CrmEncodeDecode.CrmHtmlAttributeEncode($p0.$1T_0),CrmEncodeDecode.CrmHtmlAttributeEncode($p0.$2j_0),CrmEncodeDecode.CrmHtmlEncode($p0.$2j_0))};Mscrm.EditableSelectOption=function($p0,$p1){this.$1T_0=$p0;this.$2j_0=$p1};Mscrm.EditableSelectOption.prototype={$1T_0:null,$2j_0:null,get_id:function(){return this.$1T_0},get_value:function(){return this.$2j_0}};Mscrm.InlineAutoCompleteControlView=function(inlineControlLayout){Mscrm.InlineAutoCompleteControlView.initializeBase(this,[inlineControlLayout])};Mscrm.InlineAutoCompleteControlView.prototype={get_labelElementValue:function(){return this.get_dataContext().get_labelValue()},get_getEditViewObject:function(){return new Mscrm.AutoCompleteControlEditView(this)},postRender:function(){var $v_0=this.get_valueElement().text().trim();Mscrm.SimpleInlineControlView.prototype.postRender.call(this);this.tryUpdateValueElementText($v_0)},$O_2:function(){return Mscrm.InlineEditUtilities.getRawValue(this.get_dataContext().get_attribute().get_initialValue())}};Mscrm.InlineControlViewBase=function(layout){this.$$d_$7t_1=Function.createDelegate(this,this.$7t_1);Mscrm.InlineControlViewBase.initializeBase(this,[layout])};Mscrm.InlineControlViewBase.prototype={$17_1:null,$1Y_1:null,$t_1:null,$3K_1:null,dispose:function(){if(this.get_isDisposed())return;this.set_dataContext(null);this.$t_1=null;Mscrm.InlineViewBase.prototype.dispose.call(this)},get_dataContext:function(){return this.$17_1},set_dataContext:function(value){!IsNull(this.$17_1)&&$P_CRM(this.$17_1).unbind(Mscrm.EventNames.propertyChange,this.$$d_$7t_1);this.$17_1=value;this.$4b_1();return value},$4b_1:function(){this.$5o_1()},$5o_1:function(){!IsNull(this.get_dataContext())&&$P_CRM(this.get_dataContext()).bind(Mscrm.EventNames.propertyChange,this.$$d_$7t_1)},$7t_1:function($p0){var $v_0=arguments[1];this.handleModelToViewBinding($p0,$v_0)},updateControlProperties:function(controlProperties){},resetLayout:function(){this.get_layout().resetForRead()},getDisabled:function(){return this.get_disabled()},setDisabled:function(isDisabled){this.set_disabled(isDisabled)},setNotification:function(message,uniqueId){if(this.getVisible()&&(!Mscrm.IFormUIControl.isInstanceOfType(this)||this.isVisibleInTree())&&this.get_chromeBehavior().showErrorDivAndSetMessage(message)){this.$3K_1=uniqueId;this.get_chromeBehavior().set_isNotificationSetViaClientApi(true);return true}return false},clearNotification:function(uniqueId){if(this.get_chromeBehavior().get_isNotificationSetViaClientApi())if(isNullOrEmptyString(uniqueId)||uniqueId===this.$3K_1){this.get_chromeBehavior().hideErrorDivAndResetMessage();this.get_chromeBehavior().set_isNotificationSetViaClientApi(false);this.$3K_1=null;return true}else return false;return false},getControlType:function(){return Mscrm.FormControlClientApiType.standard},getParent:function(){return this.get_parentSection()},get_innerControl:function(){return this},get_controlId:function(){return null},get_labelIcon:function(){return this.$1Y_1},set_labelIcon:function(value){this.$1Y_1=value;return value},isEditing:function(){return false},postRegisterComponent:function(){},get_parentSection:function(){return this.$t_1},set_parentSection:function(value){this.$t_1=value;return value}};Mscrm.InlineCheckBoxControlView=function(layout){Mscrm.InlineCheckBoxControlView.initializeBase(this,[layout])};Mscrm.InlineCheckBoxControlView.prototype={$1o_3:false,get_getEditViewObject:function(){return new Mscrm.CheckBoxControlEditView(this)},get_viewModel:function(){return this.get_dataContext()},$O_2:function(){return IsNull(Mscrm.InlineEditUtilities.getRawValue(this.get_dataContext().get_attribute().get_initialValue()))?null:Number.parseInvariant(Mscrm.InlineEditUtilities.getRawValue(this.get_dataContext().get_attribute().get_initialValue()).toString())},get_disabled:function(){return this.$1o_3},set_disabled:function(value){this.setDisabled(value);return value},setDisabled:function(isDisabled){this.$1o_3=isDisabled;this.get_isEditControlInitialized()&&this.get_editView().setDisabled(isDisabled)},toggleCheckBox:function(){if(this.get_isEditControlInitialized()&&!this.$1o_3){var $v_0=this.get_editView(),$v_1=!Mscrm.Utilities.parseBoolean($v_0.get_editElementValue());$v_0.set_editElementValue($v_1.toString());$v_0.confirm()}}};Mscrm.InlineDateTimeControlView=function(layout){Mscrm.InlineDateTimeControlView.initializeBase(this,[layout])};Mscrm.InlineDateTimeControlView.prototype={get_$0_3:function(){return this.get_dataContext()},setViewShowTime:function(visible){var $v_0=Mscrm.Utilities.getChildElementsByClassName($get(this.get_editView().get_editElementId()),"ms-crm-InlineDateTime-TimeCell ms-crm-DateTime-Container-Input",true);if(!IsNull($v_0)&&!IsNull($v_0[0]))$v_0[0].style.display=visible?"":"none";this.get_$0_3().$22_1=!visible},get_getEditViewObject:function(){return new Mscrm.DateTimeControlEditView(this)},isElementInChrome:function(targetElement){var $v_0=Mscrm.InlineViewBase.prototype.isElementInChrome.call(this,targetElement);if(!$v_0&&this.get_isEditControlInitialized()){var $v_1=this.get_editView().get_editElementId(),$v_2="Dialog_"+$v_1+"CalContainerDateInput_miniCal",$v_3="Dialog_"+$v_1+"TimeselectPopup",$v_4="ms-crm-MiniCal";$v_0=targetElement.parents("#"+$v_2).length>0||targetElement.parents("#"+$v_3).length>0||targetElement.parents("."+$v_4).length>0}return $v_0},updateValueElementText:function(displayValue){if(!isNullOrEmptyString(this.get_dataContext().get_attribute().get_displayValue())&&isNullOrEmptyString(this.$b_2)){var $v_0=this.get_isEditControlInitialized()?this.get_$q_3().get_showTime():this.get_dataContext().get_attribute().get_attributeFormat()==="datetime",$v_1=String.format('<span class="{0}"></span>',"ms-crm-Inline-DateTimeSpacer"),$v_2=this.$8Y_3(),$v_3=Mscrm.InlineDateTimeAttribute.formatDisplayValue($v_2,this.get_dataContext().get_attribute().get_attributeFormat(),$v_1,$v_0);this.get_valueElementInnerSpan().html($v_3)}else this.get_valueElementInnerSpan().text(displayValue);this.get_layout().appendAndWrapValueElementMask()},$8Y_3:function(){var $v_0=this.get_isEditControlInitialized()?this.get_$q_3().get_allDayDisplay():false,$v_1=!$v_0?this.get_$0_3().$1_0.get_rawValue():decrementDayAcrossTimeZones(this.get_$0_3().$1_0.get_rawValue());return $v_1},get_$q_3:function(){var $v_0=this.get_editControlBehavior();return $v_0},get_$4d_3:function(){var $v_0=this.get_editControlBehavior().get_initialValue();if(!IsNull($v_0)&&!isNaN($v_0.getTime()))return Mscrm.InlineDateTimeAttribute.formatDisplayValue($v_0,this.get_$0_3().$1_0.get_attributeFormat(),"\n");return null},getToolTip:function(displayValue){if(!isNullOrEmptyString(this.get_dataContext().get_attribute().get_displayValue())&&isNullOrEmptyString(this.$b_2))return CrmEncodeDecode.CrmHtmlDecode(displayValue);else return displayValue},$O_2:function(){var $v_0=this.get_dataContext().get_attribute().get_initialValue();if(!IsNull($v_0)){var $v_1=Mscrm.InlineEditUtilities.getRawValue($v_0);if(!isNullOrEmptyString($v_1))return ParseUtcDate($v_1)}return null},getShowTime:function(){return this.get_$q_3().get_showTime()},setShowTime:function(showTime){this.get_$q_3().set_showTime(showTime);this.updateValueElementText(this.get_$4d_3())},getIsAllDay:function(){return this.get_$q_3().get_allDayDisplay()},setIsAllDay:function(allDayDisplay){this.get_$q_3().set_allDayDisplay(allDayDisplay);this.updateValueElementText(this.get_$4d_3())}};Mscrm.InlineDurationControlView=function($p0){Mscrm.InlineDurationControlView.initializeBase(this,[$p0])};Mscrm.InlineDurationControlView.prototype={get_getEditViewObject:function(){return new Mscrm.DurationControlEditView(this)},isElementInChrome:function($p0){var $v_0=Mscrm.InlineViewBase.prototype.isElementInChrome.call(this,$p0);if(!$v_0&&this.get_isEditControlInitialized()){var $v_1=this.get_editView().get_editElementId()+"SelectInput";$v_0=$p0.parents("#"+$v_1).length>0}return $v_0},addControlTypeCssClassToChromeElement:function(){this.get_chromeElement().addClass("ms-crm-Duration")},$O_2:function(){var $v_0=Mscrm.InlineEditUtilities.getRawValue(this.get_dataContext().get_attribute().get_initialValue());return IsNull($v_0)?null:Number.parseInvariant($v_0.toString())}};Mscrm.InlineEmailAddressControlView=function($p0){Mscrm.InlineEmailAddressControlView.initializeBase(this,[$p0])};Mscrm.InlineEmailAddressControlView.prototype={$6_3:null,dispose:function(){if(this.get_isDisposed())return;!IsNull(this.$6_3)&&this.$6_3.unbind();Mscrm.SimpleInlineControlView.prototype.dispose.call(this)},get_getEditViewObject:function(){return new Mscrm.EmailAddressControlEditView(this)},updateValueElementText:function($p0){var $v_0=$P_CRM("a",this.get_valueElement());$v_0.remove();if($p0!==this.get_dataContext().get_emptyValuePlaceholder()&&this.get_dataContext().get_attribute().get_privilegeMask()){this.$6_3=$P_CRM("<a></a>");this.$6_3.attr("href","#");this.$6_3.addClass("ms-crm-gridurl");var $$t_3=this;this.$6_3.click(function($p1_0){Mscrm.ReadFormUtilities.handleEmailAddressClick(this);$p1_0.stopPropagation();$p1_0.preventDefault()});this.$6_3.text($p0);this.get_valueElementInnerSpan().text("");this.get_valueElementInnerSpan().append(this.$6_3)}else this.get_valueElementInnerSpan().text($p0);this.get_layout().appendAndWrapValueElementMask()}};Mscrm.InlineEmailBodyControlView=function(layout){this.$$d_$80_3=Function.createDelegate(this,this.$80_3);Mscrm.InlineEmailBodyControlView.initializeBase(this,[layout])};Mscrm.InlineEmailBodyControlView.prototype={$a_3:null,$1Z_3:null,get_getEditViewObject:function(){return new Mscrm.EmailBodyControlEditView(this)},get_viewModel:function(){return this.get_dataContext()},get_dataAttribute:function(){return $find(this.get_viewModel().$1_0.get_dataAttributeId())},get_updatedDataValue:function(){return this.get_dataAttribute().get_updatedDataValue()},set_updatedDataValue:function(value){this.get_dataAttribute().set_updatedDataValue(value);return value},get_mainElement:function(){return this.$1Z_3},set_mainElement:function(value){this.$1Z_3=value;return value},updateValueElementText:function(displayValue){if(this.get_isEditControlInitialized()){if(!IsNull(this.$a_3)){var $v_0=this.get_editView().get_editElement().get(0);if(!IsNull($get("trBlockMsg",$v_0)))this.$a_3.innerHTML=""}}else{var $v_1=this.get_valueElementInnerSpan()[0].getElementsByTagName("iframe");if($v_1.length>0){var $v_2=$get("descriptionHtmlBar",this.get_valueElementInnerSpan()[0]);$P_CRM($v_2).css("display","none");this.$8e_3($v_1[0]);this.get_valueElement().css("display","inline");this.get_valueElementInnerSpan().css("display","inline");$v_1[0].src=$v_1[0].getAttribute("url").toString();this.$a_3=$get("trBlockMsg",this.get_valueElementInnerSpan()[0]);var $v_3=this.showUnsafeScriptWarning(this.$a_3,false);if(!IsNull($v_3)){var $v_4=this.get_valueElementInnerSpan()[0].getElementsByTagName("iframe");$v_4.length>0&&$addHandler($v_4[0],"load",this.$$d_$80_3)}}}},$80_3:function($p0){var $v_0=this.get_valueElementInnerSpan()[0].getElementsByTagName("iframe"),$v_1=this.get_updatedDataValue(),$v_2="";if(!IsNull($v_1)&&!IsNull($v_1["safeValue"]))$v_2=$v_1["safeValue"];$v_2=this.$8s_3($v_2);$v_0[0].contentWindow.document.body.innerHTML=$v_2;$removeHandler($v_0[0],"load",this.$$d_$80_3)},$8e_3:function($p0){var $v_0=Mscrm.InlineEditDataService.get_formEntity(),$v_1=$v_0.get_typeName(),$v_2=$v_0.get_recordId(),$v_3=CrmEncodeDecode.CrmUrlDecode($p0.getAttribute("url")),$v_4=new Sys.StringBuilder($v_3);if(-1===$v_4.toString().indexOf("id=")){if(-1!==$v_4.toString().indexOf("?"))$v_4.append("&id=");else $v_4.append("?id=");$v_4.append($v_2);$v_4.append("&entityType=");$v_4.append($v_1)}$p0.setAttribute("url",$v_4.toString())},$8s_3:function($p0){var $v_0=document.createElement("div");$v_0.innerHTML=$p0;var $v_1=$v_0.getElementsByTagName("a");if(!IsNull($v_1)&&$v_1.length>0)for(var $v_6=0;$v_6<$v_1.length;$v_6++)$v_1[$v_6].setAttribute("target","_blank");var $v_2=Mscrm.CrmUri.create("/Activities/Attachment/download.aspx"),$v_3=$v_2.toString(),$v_4=this.get_chromeElement().attr("wrpcTokenForAttachment"),$v_5=$v_0.getElementsByTagName("img");if(!IsNull($v_5)&&$v_5.length>0)for(var $v_7=0;$v_7<$v_5.length;$v_7++){var $v_8=$v_5[$v_7].getAttribute("src").toString();if($v_8.indexOf("/Activities/Attachment/download.aspx")>0){var $v_9=Mscrm.CrmUri.create($v_8);$v_5[$v_7].setAttribute("src",$v_3+$v_9.get_queryString()+$v_4)}}return $v_0.innerHTML},postRender:function(){this.$a_3=document.createElement("span");this.get_valueElementInnerSpan().before($P_CRM(this.$a_3));this.set_updatedDataValue(this.get_viewModel().$1_0.get_initialValue());if(this.get_isEditControlInitialized())this.$1Z_3=this.get_editView().get_editElement().get(0).cloneNode(true);else this.$1Z_3=this.get_valueElement().find("[mainElement='true']").first().get(0).cloneNode(true);Mscrm.SimpleInlineControlView.prototype.postRender.call(this)},getToolTip:function(displayValue){return window.LOCID_EMAIL_BODY_TOOLTIP},$O_2:function(){if(!IsNull(this.get_dataContext().get_attribute().get_initialValue())&&"safeValue" in this.get_dataContext().get_attribute().get_initialValue())return this.get_dataContext().get_attribute().get_initialValue()["safeValue"];else return Mscrm.InlineEditUtilities.getDecodedValue(this.get_dataContext().get_attribute().get_initialValue())},showUnsafeScriptWarning:function(containerElement,isTableElement){var $v_0=this.$1Z_3.getElementsByTagName("iframe")[0],$v_1=CrmEncodeDecode.CrmUrlDecode($v_0.getAttribute("url")),$v_2=Mscrm.InlineEditDataService.get_formEntity(),$v_3=$v_2.get_typeName(),$v_4=$v_2.get_recordId(),$v_5=this.$6p_3(),$v_6=this.get_updatedDataValue();if(!IsNull($v_6)&&!IsNull($v_6["isUnsafe"])&&$v_6["isUnsafe"]==="1"&&$v_5!==3){containerElement.id="trBlockMsg";var $v_7=document.createElement("td");$v_7.style.verticalAlign="bottom";var $v_8=document.createElement("table");Sys.UI.DomElement.addCssClass($v_8,"ms-crm-Email-Body-Error");Sys.UI.DomElement.addCssClass($v_8,"ms-crm-Inline-Email-Body-Error");if(isTableElement){containerElement.appendChild($v_7);$v_7.appendChild($v_8)}else containerElement.appendChild($v_8);var $v_9=document.createElement("tr");$v_8.appendChild($v_9);var $v_A=document.createElement("td"),$v_B="";if($v_5===1)$v_B=LOCID_EMAIL_BADCONTENT_WARNING;else $v_B=LOCID_EMAIL_WARNING_NO_UNBLOCK;XUI.Html.SetText($v_A,$v_B);$v_9.appendChild($v_A);var $v_C=false,$v_D="followup";if(-1!==$v_1.indexOf($v_D))$v_C=$v_1.substr($v_1.indexOf("followup")+$v_D.length,$v_1.indexOf("followup")+$v_D.length+1)==="1"?true:false;if(!$v_C&&$v_3===Mscrm.InternalUtilities.EntityNames.Email&&!isNullOrEmptyString($v_2.get_recordId())&&$v_5===1){var $v_E=this.get_chromeElement().attr("wrpcToken"),$v_F=document.createElement("span");Sys.UI.DomElement.addCssClass($v_F,"ms-crm-Unblock-Content-Link");$v_F.setAttribute("onclick","unblock('"+$v_4+"','"+$v_E+"');");XUI.Html.SetText($v_F,LOCID_EMAIL_BADCONTENT_UNBLOCK);$v_A.appendChild($v_F)}Mscrm.Utilities.isIE()&&containerElement.parentNode.parentNode.setAttribute("height","90%");return containerElement}return null},$6p_3:function(){var $v_0=1;if(!IsNull(this.get_updatedDataValue())&&!IsNull(this.get_updatedDataValue()["SecuritySettingForEmail"])){var $v_1=parseInt(this.get_updatedDataValue()["SecuritySettingForEmail"]);$v_1=$v_1>3||$v_1<1?1:$v_1;$v_0=$v_1}return $v_0}};Mscrm.InlineIFrameControlView=function(element){this.$$d_$4t_0=Function.createDelegate(this,this.$4t_0);this.$7_0=new Sys.EventHandlerList;this.$I_0=element;var $v_0=$get(this.$I_0.id+"_d");this.$K_0=$P_CRM("#"+this.$I_0.id+"_d");if(!IsNull($v_0))this.$L_0=XUI.Html.DomUtils.GetFirstChild($v_0);var $v_1=$P_CRM(this.$I_0).parents("div.ms-crm-InlineTabBody-Read:first");if(!IsNull($v_1)&&$v_1.css("display")==="none"){var $$t_3=this;Mscrm.OnLoadDeferredExecutor.queueCallback(function(){$$t_3.$5i_0()},2)}Mscrm.InlineControlFactory.registerForDispose(this)};Mscrm.InlineIFrameControlView.loadHandler=function(id){if(!IsNull(Xrm.Page.ui)&&!IsNull(Xrm.Page.ui.controls)){var $v_0=Xrm.Page.ui.controls.get(id);!IsNull($v_0)&&Mscrm.InlineIFrameControlView.isInstanceOfType($v_0)&&$v_0.$6e_0()}};Mscrm.InlineIFrameControlView.prototype={$I_0:null,$L_0:null,$t_0:null,$1t_0:null,$K_0:null,_disposed:false,$5i_0:function(){var $v_0=$P_CRM(this.$I_0).parents("div.ms-crm-InlineTab-Read:first");if(!IsNull($v_0)&&$v_0.length>0){var $v_1=$find($v_0[0].id);!IsNull($v_1)&&$v_1.get_displayState()===Xrm.TabDisplayState.collapsed&&$v_1.add_tabStateChange(this.$$d_$4t_0)}},$4t_0:function($p0,$p1){if($p1.get_displayState()===Xrm.TabDisplayState.expanded){var $v_0=$p0;$v_0.remove_tabStateChange(this.$$d_$4t_0);var $v_1=this.$I_0.getAttribute("url").toString();this.setSrc($v_1)}},dispose:function(){if(this._disposed)return;Mscrm.Utilities.destroyObject(this.$7_0);this.$I_0=null;this.$L_0=null;this._disposed=true},add_readyStateComplete:function(value){this.$7_0.addHandler("ReadyStateComplete",value)},remove_readyStateComplete:function(value){this.$7_0.removeHandler("ReadyStateComplete",value)},getKey:function(){return this.getName()},getWrapper:function(){return this},get_labelContainerElement:function(){return this.$K_0},set_labelContainerElement:function(value){this.$K_0=value;return value},setNotification:function(message,uniqueId){return false},clearNotification:function(uniqueId){return false},getLabel:function(){return !IsNull(this.$L_0)?XUI.Html.GetText(this.$L_0):null},getName:function(){return this.$I_0.id},getParent:function(){return this.get_parentSection()},getVisible:function(){return this.$K_0.css("display")==="none"?false:true},setFocus:function(){this.$I_0.focus()},setLabel:function(label){!IsNull(this.$L_0)&&XUI.Html.SetText(this.$L_0,label)},setVisible:function(visible){var $v_0=$P_CRM("#"+this.$I_0.id+"_d"),$v_1=$v_0.parents("table").last();!IsNull($v_1)&&$v_1.css("table-layout","auto");var $v_2=$get(this.$I_0.id+"_c");if(!IsNull($v_2))$v_2.style.display=visible?"":"none";if(visible){this.$5M_0();Mscrm.InlineEditControlCommonUtility.showParentView(this.get_parentSection());this.$K_0.show();this.get_$u_0().show();this.get_$g_0().show()}else{this.$K_0.hide();Mscrm.InlineEditControlCommonUtility.isElementAllChildrenHidden(this.get_$u_0())&&this.get_$u_0().hide();Mscrm.InlineEditControlCommonUtility.isElementAllChildrenHidden(this.get_$g_0())&&this.get_$g_0().hide();Mscrm.InlineEditControlCommonUtility.hideParentViewIfNoControlsVisible(this.get_parentSection())}Mscrm.InlineEditControlCommonUtility.setUnusedRowsVisibility(this.$K_0,this.get_$g_0(),visible)},$V_0:null,get_$u_0:function(){if(IsNull(this.$V_0)||!this.$V_0.length)this.$V_0=this.$K_0.parents("td").first();return this.$V_0},$W_0:null,get_$g_0:function(){if(IsNull(this.$W_0)||!this.$W_0.length)this.$W_0=this.$K_0.parents("tr").first();return this.$W_0},$5M_0:function(){var $v_0=$P_CRM(this.$I_0),$v_1=$v_0.parents("td");$v_1.length>0&&$v_1.first().show();var $v_2=$v_0.parents("tr");$v_2.length>0&&$v_2.first().show();var $v_3=this.get_parentSection();!IsNull($v_3)&&$v_3.setVisible(true)},getControlType:function(){return Mscrm.FormControlClientApiType.iFrame},get_parentSection:function(){return this.$t_0},set_parentSection:function(value){this.$t_0=value;return value},getInitialUrl:function(){if(IsNull(this.$1t_0))this.$1t_0=this.$I_0.getAttribute("url").toString();return this.$1t_0},getSrc:function(){return this.$I_0.getAttribute("url").toString()},getObject:function(){return this.$I_0},setSrc:function(source){this.$I_0.contentWindow.location.replace(source);if(IsNull(this.$1t_0))this.$1t_0=this.$I_0.getAttribute("url").toString();this.$I_0.setAttribute("url",source)},$6e_0:function(){var $v_0=this.$7_0.getHandler("ReadyStateComplete");!IsNull($v_0)&&$v_0(this.getWrapper(),Sys.EventArgs.Empty)}};Mscrm.InlineLookupControlView=function(layout){this.$$d_$8D_3=Function.createDelegate(this,this.$8D_3);this.$$d_$7S_3=Function.createDelegate(this,this.$7S_3);Mscrm.InlineLookupControlView.initializeBase(this,[layout])};Mscrm.InlineLookupControlView.$70=function($p0){switch($p0){case "single":return 1;case "multi":return 2;case "subject":return 3;default:return 1}};Mscrm.InlineLookupControlView.prototype={$11_3:null,get_$h_3:function(){return this.get_editControlBehavior()},get_getEditViewObject:function(){return new Mscrm.LookupControlEditView(this)},get_viewModel:function(){return this.get_dataContext()},createDataAttribute:function(){var $v_0=Mscrm.SimpleInlineControlView.prototype.createDataAttribute.call(this);$v_0.set_lookupStyle(Mscrm.InlineLookupControlView.$70(this.get_viewModel().get_lookupStyle()));return $v_0},isElementInLookupValueLink:function(targetElement){var $v_0=this.get_valueElement().find(".ms-crm-Lookup-Item");return targetElement.parents("."+$v_0.attr("class")).length>0||targetElement.get(0)===$v_0.get(0)},isItemAmbiguous:function(){if(!this.get_isEditControlInitialized())return false;return this.get_editView().isItemAmbiguous()},$O_2:function(){return Mscrm.InlineEditUtilities.getLookupValue(this.get_viewModel().$1_0.get_initialValue())},addCustomFilter:function(fetchXmlFilter,entityType){this.get_$h_3().addCustomFilter(fetchXmlFilter,entityType)},addCustomView:function(viewGuid,entityName,viewDisplayName,fetchXml,layoutXml,isDefault){this.get_$h_3().AddCustomView(viewGuid,entityName,viewDisplayName,fetchXml,layoutXml,isDefault)},getDefaultView:function(){return this.get_$h_3().getDefaultView()},setDefaultView:function(viewGuid){this.get_$h_3().setDefaultView(viewGuid)},addPreSearch:function(handler){var $v_0=this.get_editView();$v_0.$1Q_3.addHandler($v_0.get_preSearchEvent(),handler,false)},removePreSearch:function(handler){var $v_0=this.get_editView();$v_0.$1Q_3.removeHandler($v_0.get_preSearchEvent(),handler)},getControlType:function(){return Mscrm.FormControlClientApiType.lookup},updateControlProperties:function(controlProperties){if(IsNull(controlProperties)&&!this.get_isEditControlInitialized())return;var $v_0=$get(this.get_editView().get_editElementId());this.get_editView().$4P_3(controlProperties,$v_0)},isElementInChrome:function(targetElement){if(IsNull(targetElement))return false;var $v_0=Mscrm.InlineViewBase.prototype.isElementInChrome.call(this,targetElement);if(this.get_isEditControlInitialized())$v_0=$v_0||this.$7c_3(targetElement)||this.$7b_3(targetElement)||this.$7a_3(targetElement);return $v_0},$7c_3:function($p0){var $v_0=false,$v_1=$P_CRM($get("Dialog_"+this.get_chromeElement().attr("id")+"_i_IMRU"));$v_0=$p0.parents("#"+$v_1.attr("id")).length>0||$p0.get(0)===$v_1.get(0);return $v_0},$7b_3:function($p0){var $v_0=false,$v_1=$P_CRM($get("Dialog_"+this.get_chromeElement().attr("id")+"_i_IMenu"));$v_0=$p0.parents("#"+$v_1.attr("id")).length>0||$p0.get(0)===$v_1.get(0);return $v_0},$7a_3:function($p0){var $v_0=false,$v_1=this.get_editView().get_editControlBehavior(),$v_2=$v_1.inlineNewFlyOutId(),$v_3=this.get_chromeElement().attr("isInlineNewEnabled");if(!isNullOrEmptyString($v_3)&&$v_3==="1"){var $v_4=$P_CRM($get($v_2));$v_0=Mscrm.SimpleInlineControlView.prototype.isElementInFlyOut.call(this,$p0)||$p0.get(0)===$v_4.get(0);if(!$v_0){var $$t_A=this;$P_CRM("div.ms-crm-Inline-Chrome",$v_4).each(function($p1_0,$p1_1){var $v_5=Sys.UI.Behavior.getBehaviors($p1_1);if(!IsNull($v_5)&&$v_5.length)if(!IsNull($v_5[0].get_view())){var $v_6=$v_5[0].get_view();if($v_6.isElementInChrome($p0)){$v_0=true;return false}}return true})}}return $v_0},blur:function(){this.get_isEditControlInitialized()&&this.get_editView().$4Y_3(true)},updateReadLookupHtml:function(){this.get_isEditControlInitialized()&&this.get_editView().updateReadLookupHtml()},createReadLookupItemHtmlForUnresolved:function(lookupItem){if(IsNull(lookupItem))return null;var $v_0=new Mscrm.Proxies.LookupControlItemProxy;$v_0.set_element(lookupItem);var $v_1=new Mscrm.LookupItemView;$v_1.set_lookupControlItemProxy($v_0);$v_1.set_lookupStyle(this.get_viewModel().get_lookupStyle());$v_1.set_lookupTypes(this.get_viewModel().get_lookupTypes());$v_1.set_controlMode(this.get_controlMode());return $v_1},createReadLookupItemHtml:function(lookupItem){if(IsNull(lookupItem)||isNullOrEmptyString(lookupItem.id))return null;var $v_0=new Mscrm.Proxies.LookupControlItemProxy;$v_0.set_element(lookupItem);var $v_1=new Mscrm.LookupItemView;$v_1.set_lookupControlItemProxy($v_0);$v_1.set_useTabletExperience(window.UseTabletExperience);$v_1.set_lookupStyle(this.get_viewModel().get_lookupStyle());$v_1.set_lookupTypes(this.get_viewModel().get_lookupTypes());var $v_2=Mscrm.Presence.PresenceControlFactory.get_instance();$v_1.set_presenceEnabled(window._bPresenceEnabled&&!IsNull($v_2)&&$v_2.get_presenceEnabled());return $v_1},$2o_3:function($p0){if(IsNull($p0)||0===$p0.length)return;this.processItems($p0)},updateValueElementText:function(displayValue){if(displayValue!==this.get_dataContext().get_emptyValuePlaceholder()){var $v_0=this.get_dataContext().get_attribute().get_rawValue();if(!IsNull($v_0)&&$v_0.length>0){this.get_valueElement().empty();this.$2o_3($v_0)}}else this.get_valueElement().text(displayValue);this.get_layout().appendAndWrapValueElementMask()},processItems:function(items){for(var $v_0=0;$v_0<items.length;$v_0++){var $v_1=items[$v_0],$v_2=this.get_chromeElement().attr("allowUnresolvedPartiesOnEmailSend");!IsNull($v_2)&&Mscrm.InlineLookupUtility.$8V(this.get_controlMode(),$v_1,"1"===$v_2);var $v_3;switch($v_1.category){case LookupItemCategories.AMBIGUOUS:case LookupItemCategories.UNKNOWN:case LookupItemCategories.UNKNOWN_EMAIL:$v_3=this.createReadLookupItemHtmlForUnresolved(items[$v_0]);!IsNull($v_3)&&this.get_valueElement().append($P_CRM($v_3.get_lookupItemElement().get_element()));break;default:$v_3=this.createReadLookupItemHtml(items[$v_0]);if(!IsNull($v_3)){this.get_valueElement().append($P_CRM($v_3.get_lookupItemElement().get_element()));this.get_valueElement().append($P_CRM($v_3.get_lookupItemHiddenElement().get_element()))}break}}if(Mscrm.HeaderTileLookupLayout.isInstanceOfType(this.get_layout())||this.get_viewModel().get_lookupStyle()!=="single")return;Mscrm.OnLoadDeferredExecutor.queueCallback(this.$$d_$7S_3,2)},$7S_3:function(){var $v_0=new LookupBehavior.Services.PresenceService;$v_0.set_populatePresenceViewsDelegate(this.$$d_$8D_3);$v_0.querySipInfo()},$8D_3:function(){!IsNull(this.$11_3)&&this.$11_3.dispose();return this.get_presenceView()},isUnknownEmailItemPresent:function(items){for(var $v_0=0;$v_0<items.length;$v_0++){var $v_1=items[$v_0];if(parseInt($v_1.type,10)===Mscrm.EntityTypeCode.UnresolvedEmailParty)return true}return false},postRender:function(){Mscrm.SimpleInlineControlView.prototype.postRender.call(this);this.get_valueElement().addClass("ms-crm-Inline-Lookup")},get_presenceView:function(){var $$t_4=this;this.get_valueElement().find("span.ms-crm-Lookup-Item, span.ms-crm-Lookup-Item-Read").each(function($p1_0,$p1_1){var $v_0=new Mscrm.Proxies.DomElementProxy;$v_0.set_element($p1_1);$$t_4.$11_3=new LookupBehavior.Views.PresenceView;$$t_4.$11_3.set_elementProxy($v_0);var $v_1=new Mscrm.Proxies.DomElementProxy;$v_1.set_element($$t_4.get_chromeElement().get(0));$$t_4.$11_3.set_chromeElement($v_1);$$t_4.$11_3.set_state($$t_4.get_state())});return this.$11_3},set_presenceView:function(value){this.$11_3=value;return value}};Mscrm.InlineMoneyControlView=function($p0){Mscrm.InlineMoneyControlView.initializeBase(this,[$p0])};Mscrm.InlineMoneyControlView.prototype={get_getEditViewObject:function(){return new Mscrm.MoneyControlEditView(this)},updateValueElementText:function($p0){if(!IsNull(this.get_state())&&!this.get_state().get_validationResult().isValid&&!IsNull(this.get_validateResult())&&!isNullOrEmptyString(this.get_validateResult().errorText)&&$p0!==this.get_dataContext().get_emptyValuePlaceholder())if(window.SYMBOLPOISTION_CURRENCY)this.get_valueElementInnerSpan().html(CrmEncodeDecode.CrmHtmlEncode(this.get_dataContext().get_currencySymbol()+$p0));else this.get_valueElementInnerSpan().html(CrmEncodeDecode.CrmHtmlEncode($p0+this.get_dataContext().get_currencySymbol()));else this.get_valueElementInnerSpan().html(CrmEncodeDecode.CrmHtmlEncode($p0));this.get_layout().appendAndWrapValueElementMask();this.$8n_3()},$8n_3:function(){this.get_chromeElement().attr("dir",this.$7d_3()?"rtl":"ltr")},$7d_3:function(){return this.get_valueElement().hasClass("ms-crm-Inline-EmptyValue")&&window.LOCID_UI_DIR==="RTL"},handleModelToViewBinding:function($p0,$p1){switch($p1){case "CurrencySymbol":case "Precision":var $v_0;if(!IsNull(this.get_state())&&!this.get_state().get_validationResult().isValid&&this.get_isEditControlInitialized())$v_0=this.get_editView().get_editElementValue();else $v_0=this.get_dataContext().get_attribute().get_displayValue()||"";this.tryUpdateValueElementText($v_0);break;default:Mscrm.SimpleInlineControlView.prototype.handleModelToViewBinding.call(this,$p0,$p1);break}},postRender:function(){var $v_0=this.get_dataContext().get_attribute();this.tryUpdateValueElementText($v_0.get_displayValue())},createDataAttribute:function(){var $v_0=Mscrm.SimpleInlineControlView.prototype.createDataAttribute.call(this);$v_0.set_metadataType(this.get_dataContext().get_attribute().get_attributeType());return $v_0},$O_2:function(){return IsNull(Mscrm.InlineEditUtilities.getRawValue(this.get_dataContext().get_attribute().get_initialValue()))?null:Number.parseInvariant(Mscrm.InlineEditUtilities.getRawValue(this.get_dataContext().get_attribute().get_initialValue()).toString())}};Mscrm.InlineMultiplePicklistControlView=function(inlineControlLayout){Mscrm.InlineMultiplePicklistControlView.initializeBase(this,[inlineControlLayout])};Mscrm.InlineMultiplePicklistControlView.prototype={get_selectedItemIndexes:function(){var $v_0=this.get_dataContext();this.get_isDirty()&&$v_0.set_selectedItemIndexes(this.$6l_3());return $v_0.get_selectedItemIndexes()},get_getEditViewObject:function(){return new Mscrm.MultiplePicklistControlEditView(this)},$6l_3:function(){var $v_0=[],$$t_5=this,$v_1=function($p1_0,$p1_1){var $v_2=$P_CRM($p1_1);$v_2.is(":checked")&&Array.add($v_0,$p1_0)};$P_CRM("input",this.get_editView().get_editElement()).each($v_1);return $v_0},$O_2:function(){return Mscrm.InlineEditUtilities.getRawValue(this.get_dataContext().get_attribute().get_initialValue())}};Mscrm.InlineNumberControlView=function($p0){Mscrm.InlineNumberControlView.initializeBase(this,[$p0])};Mscrm.InlineNumberControlView.prototype={get_getEditViewObject:function(){return new Mscrm.NumberControlEditView(this)},get_$0_3:function(){return this.get_dataContext()},createDataAttribute:function(){var $v_0=Mscrm.SimpleInlineControlView.prototype.createDataAttribute.call(this);$v_0.set_max(this.get_$0_3().get_maxValue());$v_0.set_min(this.get_$0_3().get_minValue());$v_0.set_precision(this.get_$0_3().get_precision());return $v_0},getPrecision:function(){return this.get_$0_3().get_precision()},setPrecision:function($p0){!IsNull($p0)&&$p0>=0&&this.get_$0_3().set_precision($p0)},$O_2:function(){if(!IsNull(Mscrm.InlineEditUtilities.getRawValue(this.get_dataContext().get_attribute().get_initialValue()))){var $v_0=Mscrm.InlineEditUtilities.getRawValue(this.get_dataContext().get_attribute().get_initialValue()).toString();if($v_0.length)return Number.parseInvariant($v_0)}return null}};Mscrm.InlineOptionSetControlView=function(layout){Mscrm.InlineOptionSetControlView.initializeBase(this,[layout])};Mscrm.InlineOptionSetControlView.prototype={get_$2v_3:function(){return this.get_editControlBehavior()},$5C_3:function(){if(!IsNull(this.get_editView())){var $v_0=this.get_editView().get_editElement()[0];if(!IsNull($v_0)){var $v_1=this.get_editView().get_editElement().children().length;$v_1=Math.max($v_1,2);$v_1=Math.min($v_1,10);$v_0.setAttribute("size",$v_1)}}},addOption:function(option,placement){this.get_$2v_3().AddOption(option.text,option.value,null,placement);this.$5C_3()},removeOption:function(value){this.get_$2v_3().RemoveOption(value);this.get_$2v_3().get_selectedIndex()===-1&&this.get_dataContext().get_attribute().set_rawValue(null);this.$5C_3()},clearOptions:function(){this.get_editView().get_editElement().children().remove();this.get_$2v_3().AddOption("","",null,0);this.get_dataContext().get_attribute().set_rawValue(null)},getControlType:function(){return Mscrm.FormControlClientApiType.optionSet},get_getEditViewObject:function(){return new Mscrm.OptionSetControlEditView(this)},$O_2:function(){return IsNull(Mscrm.InlineEditUtilities.getRawValue(this.get_dataContext().get_attribute().get_initialValue()))?null:Number.parseInvariant(Mscrm.InlineEditUtilities.getRawValue(this.get_dataContext().get_attribute().get_initialValue()).toString())},get_enableLazyInitialization:function(){if((Mscrm.Utilities.isIE10()&&!Mscrm.Utilities.isIE11StandardOrIE11CompatibleMode()||Mscrm.SessionInfo.isOutlookClient())&&!this.get_disabled())return false;return Mscrm.SimpleInlineControlView.prototype.get_enableLazyInitialization.call(this)},createDataAttribute:function(){var $v_0=Mscrm.SimpleInlineControlView.prototype.createDataAttribute.call(this);$v_0.set_formattedValue(Mscrm.InlineEditUtilities.getDecodedValue(this.get_dataContext().get_attribute().get_initialValue()));return $v_0}};Mscrm.InlinePhoneNumberControlView=function($p0){Mscrm.InlinePhoneNumberControlView.initializeBase(this,[$p0])};Mscrm.InlinePhoneNumberControlView.prototype={$6_3:null,dispose:function(){if(this.get_isDisposed())return;!IsNull(this.$6_3)&&this.$6_3.unbind();Mscrm.SimpleInlineControlView.prototype.dispose.call(this)},get_getEditViewObject:function(){return new Mscrm.PhoneNumberControlEditView(this)},updateValueElementText:function($p0){var $v_0=$P_CRM("a",this.get_valueElement());$v_0.remove();if($p0!==this.get_dataContext().get_emptyValuePlaceholder()&&this.get_dataContext().get_attribute().get_privilegeMask()){this.$6_3=$P_CRM("<a></a>");this.$6_3.attr("href","#");this.$6_3.attr("title",window.PHONE_NUMBER_TOOLTIP_INLINE);this.$6_3.addClass("ms-crm-gridurl");!this.$6_3.hasClass("ms-crm-Phone")&&this.$6_3.addClass("ms-crm-Phone");if(!window.UseTabletExperience){var $$t_3=this;this.$6_3.click(function($p1_0){Mscrm.ReadFormUtilities.handlePhoneNumberClick(this);$p1_0.stopPropagation();$p1_0.preventDefault()})}this.$6_3.text($p0);this.get_valueElementInnerSpan().text("");this.get_valueElementInnerSpan().append(this.$6_3)}else this.get_valueElementInnerSpan().text($p0);this.get_layout().appendAndWrapValueElementMask()}};Mscrm.InlineRelatedCasesLookupControlView=function($p0){this.$x_4=new Array(1);Mscrm.InlineRelatedCasesLookupControlView.initializeBase(this,[$p0]);var $v_0=Mscrm.InlineEditUtilities.getLinkedDataObject(this.get_chromeElement()),$v_1=Mscrm.InlineEditUtilities.getEntityReference($v_0);this.$1B_4=new LookupControlItem;this.$1B_4.id=$v_1.Id;this.$1B_4.name=$v_1.Name;this.$1B_4.type=$v_1.TypeCode.toString();this.$1B_4.typename=$v_1.TypeName;this.$x_4[0]=this.$1B_4};Mscrm.InlineRelatedCasesLookupControlView.prototype={$1B_4:null,get_getEditViewObject:function(){return new Mscrm.RelatedCasesLookupControlEditView(this,this.$x_4)},postRegisterComponent:function(){Mscrm.InlineControlViewBase.prototype.postRegisterComponent.call(this);Mscrm.RelatedCasesLookupControl.initializeRelatedCasesLookupHandler(this.$6w_4())},$6w_4:function(){return isNullOrEmptyString(this.$1B_4.id)?null:this.$x_4},get_enableLazyInitialization:function(){return false}};Mscrm.InlineSubGridControlView=function(gridControl){this.$c_0=gridControl;this.$L_0=$get(this.$c_0.get_element().id+"_titleText");this.$3E_0=$get(this.$c_0.get_element().id+"_span")};Mscrm.InlineSubGridControlView.prototype={$c_0:null,$L_0:null,$3E_0:null,$t_0:null,dispose:function(){this.$c_0=null;this.$L_0=null;this.$3E_0=null},getKey:function(){return this.getName()},getWrapper:function(){return this},getLabel:function(){return XUI.Html.GetText(this.$L_0)},getName:function(){return this.$c_0.get_element().id},getParent:function(){return this.get_parentSection()},setNotification:function(message,uniqueId){return false},clearNotification:function(uniqueId){return false},getVisible:function(){return this.$c_0.getVisible()},setFocus:function(){this.$c_0.setFocus()},setLabel:function(label){XUI.Html.SetText(this.$L_0,label)},setVisible:function(visible){visible&&Mscrm.InlineEditControlCommonUtility.showParentView(this.get_parentSection());this.$3E_0.style.display=visible?"block":"none";this.$c_0.setVisible(visible);!visible&&Mscrm.InlineEditControlCommonUtility.hideParentViewIfNoControlsVisible(this.get_parentSection())},get_parentSection:function(){return this.$t_0},set_parentSection:function(value){this.$t_0=value;return value},getControlType:function(){return Mscrm.FormControlClientApiType.subGrid},refresh:function(){this.$c_0.Refresh()},getRelationshipName:function(){return this.$c_0.GetParameter("relName")},getRelationshipAttributeName:function(){return null},getRelationshipRoleOrdinal:function(){var $v_0=this.$c_0.GetParameter("roleOrd");if(isNullOrEmptyString($v_0))return -1;var $v_1=Number.parseInvariant($v_0);return isNaN($v_1)?-1:$v_1},getRelationshipType:function(){throw Error.create("NotImplementedException")},setLabelNodeDisplay:function(){if(!IsNull(this.$L_0))this.$L_0.style.display="inline-block"}};Mscrm.InlineSectionControlView=function(section,parentTab){this.$1b_0=section;this.$m_0=parentTab;this.$71_0();this.$7M_0()};Mscrm.InlineSectionControlView.prototype={$1b_0:null,$1c_0:null,$m_0:null,controls:null,dispose:function(){this.$1b_0=null;this.$1c_0=null;this.$m_0=null;this.controls.dispose()},getLabel:function(){var $v_0="";if(!IsNull(this.$1c_0))$v_0=XUI.Html.GetText(this.$1c_0);return $v_0},getName:function(){var $v_0=this.$1b_0.getAttribute("name");if(!IsNull($v_0))return $v_0.toString();return ""},getParent:function(){return this.$m_0},getVisible:function(){return Mscrm.InlineEditInitializerUtility.$3h(this.$1b_0)},setLabel:function(label){XUI.Html.SetText(this.$1c_0,label)},setVisible:function(visible){visible&&this.$6Z_0();Mscrm.InlineEditInitializerUtility.$5I(this.$1b_0,visible);!visible&&this.$5w_0();Mscrm.InlineEditControlCommonUtility.updatePageControlsErrorDivMessage()},$6Z_0:function(){!IsNull(this.$m_0)&&Xrm.TabDisplayState.collapsed===this.$m_0.getDisplayState()&&this.$m_0.setDisplayState(Xrm.TabDisplayState.expanded)},$5w_0:function(){!IsNull(this.$m_0)&&Xrm.TabDisplayState.expanded===this.$m_0.getDisplayState()&&!this.$m_0.isTabAnyChildVisible()&&this.$m_0.setDisplayState(Xrm.TabDisplayState.collapsed)},getKey:function(){return this.getName()},getWrapper:function(){return this},isSectionAnyChildVisible:function(){for(var $v_0=0;$v_0<this.controls.getLength();$v_0++){var $v_1=this.controls.get($v_0);if(!IsNull($v_1))if(Mscrm.InlineControlViewBase.isInstanceOfType($v_1)){if($v_1.getVisible())return true}else if(Xrm.Interfaces.IFormControlBase.isInstanceOfType($v_1)){if($v_1.getVisible())return true}else throw Error.notImplemented()}return false},$71_0:function(){if(IsNull(this.$1c_0)){var $v_0=$P_CRM("h3.ms-crm-Form",$P_CRM(this.$1b_0));this.$1c_0=$v_0.get()[0]}},$7M_0:function(){this.controls=new Mscrm.ClientApiCollection}};Mscrm.InlineSubjectLookupControlView=function($p0){Mscrm.InlineSubjectLookupControlView.initializeBase(this,[$p0]);$p0.set_showEditIcon(false)};Mscrm.InlineSubjectLookupControlView.prototype={get_getEditViewObject:function(){return new Mscrm.SubjectLookupControlEditView(this)},isElementInChrome:function($p0){var $v_0=Mscrm.InlineLookupControlView.prototype.isElementInChrome.call(this,$p0);if(!$v_0){var $v_1=this.get_chromeElement().attr("id")+"_treediv",$v_2=$P_CRM($get($v_1)),$v_3=this.get_chromeElement().attr("id");$v_0=$p0.parents("#"+$v_1).length>0||$p0.get(0)===$v_2.get(0)||$p0.parents("#"+$v_3).length>0||$p0.get(0)===this.get_chromeElement().get(0)}return $v_0}};Mscrm.InlineStatusControlView=function(layout){this.$$d_$6X_4=Function.createDelegate(this,this.$6X_4);Mscrm.InlineStatusControlView.initializeBase(this,[layout]);Mscrm.InlineEditDataService.get_dataService().add_entitySaved(this.$$d_$6X_4)};Mscrm.InlineStatusControlView.prototype={$6X_4:function($p0,$p1){this.clearOptions();var $v_0;if(!IsNull(Mscrm.InlineEditDataService.get_formEntity().get_attributes().get("statuscode")))if(!IsNull(Mscrm.InlineEditDataService.get_formEntity().get_attributes().get("statuscode").get_value())){var $v_1=Mscrm.InlineEditDataService.get_formEntity().get_attributes().get("statuscode");$v_0=parseInt($v_1.get_value().toString());var $v_2=this.get_dataContext().$4k_2($v_0);if($v_2&&$v_2.length>0)for(var $v_5=0,$$arr_6=$v_2,$$len_7=$$arr_6.length,$$idx_8=0;$$idx_8<$$len_7;++$$idx_8){var $v_6=$$arr_6[$$idx_8];this.addOption(new Xrm.OptionSetItem($v_6.Value.toString(),$v_6.Label),$v_5++)}var $v_3=$v_1.get_controls().get(),$v_4=Mscrm.FormControlInputBehavior.GetBehavior($v_3[0].get_editView().get_editElementId());$v_1.loadOptionsFromSelectControl($v_4.get_element())}},clearOptions:function(){this.get_editView().get_editElement().children().remove()},dispose:function(){!Mscrm.InlineEditDataService.get_dataService().get_isDisposed()&&Mscrm.InlineEditDataService.get_dataService().remove_entitySaved(this.$$d_$6X_4);Mscrm.SimpleInlineControlView.prototype.dispose.call(this)}};Mscrm.InlineTabControlView=function(tab){this.$$d_$8B_0=Function.createDelegate(this,this.$8B_0);this.$n_0=tab;this.$6z_0();this.$7V_0()};Mscrm.InlineTabControlView.prototype={$n_0:null,$3D_0:null,$1X_0:null,get_$3e_0:function(){if(IsNull(this.$3D_0))this.$3D_0=$find(this.$n_0.id);return this.$3D_0},sections:null,dispose:function(){this.$n_0=null;this.$1X_0=null;this.sections.dispose();this.remove_tabStateChange(this.$$d_$8B_0)},add_tabStateChange:function(value){this.get_$3e_0().add_tabStateChange(value)},remove_tabStateChange:function(value){this.get_$3e_0().remove_tabStateChange(value)},getLabel:function(){var $v_0="";if(!IsNull(this.$1X_0))$v_0=XUI.Html.GetText(this.$1X_0);return $v_0},getName:function(){var $v_0=this.$n_0.getAttribute("name");if(!IsNull($v_0))return $v_0.toString();return ""},getParent:function(){return Xrm.Page.ui},getVisible:function(){return Mscrm.InlineEditInitializerUtility.$3h(this.$n_0)},setFocus:function(){this.setVisible(true);this.$n_0.scrollIntoView(true)},setLabel:function(label){XUI.Html.SetText(this.$1X_0,label)},setNotification:function(message,uniqueId){return false},clearNotification:function(uniqueId){return false},setVisible:function(visible){Mscrm.InlineEditInitializerUtility.$5I(this.$n_0,visible);Mscrm.InlineEditControlCommonUtility.updatePageControlsErrorDivMessage()},getKey:function(){return this.getName()},getWrapper:function(){return this},isTabAnyChildVisible:function(){for(var $v_0=0;$v_0<this.sections.getLength();$v_0++){var $v_1=this.sections.get($v_0);if(!IsNull($v_1)&&$v_1.getVisible())return true}return false},getDisplayState:function(){var $v_0=this.$6y_0();return Mscrm.InlineEditInitializerUtility.$3h($v_0)?Xrm.TabDisplayState.expanded:Xrm.TabDisplayState.collapsed},setDisplayState:function(state){this.get_$3e_0().set_displayState(state)},$6z_0:function(){if(IsNull(this.$1X_0)){var $v_0=$P_CRM("h2.ms-crm-Form",$P_CRM(this.$n_0));this.$1X_0=$v_0.get()[0]}},$6y_0:function(){var $v_0=$P_CRM(this.$n_0).children(".ms-crm-InlineTabBody-Read");return $v_0[0]},$8B_0:function($p0,$p1){Mscrm.InlineEditControlCommonUtility.updatePageControlsErrorDivMessage()},$7V_0:function(){this.sections=new Mscrm.ClientApiCollection;for(var $v_0=Mscrm.InlineEditInitializerUtility.$73(this.$n_0),$v_1=0;$v_1<$v_0.length;$v_1++){var $v_2=$v_0[$v_1],$v_3=new Mscrm.InlineSectionControlView($v_2,this);this.sections.add($v_3)}this.add_tabStateChange(this.$$d_$8B_0)}};Mscrm.InlineTextAreaControlView=function($p0){Mscrm.InlineTextAreaControlView.initializeBase(this,[$p0])};Mscrm.InlineTextAreaControlView.prototype={get_getEditViewObject:function(){return new Mscrm.TextAreaControlEditView(this)},get_needReplaceBR:function(){return true},updateValueElementText:function($p0){var $v_0=Mscrm.TextAreaHelper.normalizeNewLine($p0);$v_0=Mscrm.InlineEditUtilities.replaceAndEncodeNewLineCharsToBreakHtmlTags($v_0);this.get_valueElementInnerSpan().html($v_0);this.get_controlMode()!==Mscrm.InlineEditControlMode.alwaysEdit&&this.get_valueElementInnerSpan().css("display","block");this.get_layout().appendAndWrapValueElementMask()},createDataAttribute:function(){var $v_0=Mscrm.SimpleInlineControlView.prototype.createDataAttribute.call(this);$v_0.set_maxLength(this.get_dataContext().get_attribute().get_maxLength());return $v_0},$O_2:function(){return Mscrm.InlineEditUtilities.getDecodedValue(this.get_dataContext().get_attribute().get_initialValue(),true)}};Mscrm.InlineTextBoxControlView=function($p0){Mscrm.InlineTextBoxControlView.initializeBase(this,[$p0])};Mscrm.InlineTextBoxControlView.prototype={get_getEditViewObject:function(){return new Mscrm.TextBoxControlEditView(this)},createDataAttribute:function(){var $v_0=Mscrm.SimpleInlineControlView.prototype.createDataAttribute.call(this);$v_0.set_maxLength(this.get_dataContext().get_attribute().get_maxLength());return $v_0}};Mscrm.InlineTickerControlView=function($p0){Mscrm.InlineTickerControlView.initializeBase(this,[$p0])};Mscrm.InlineTickerControlView.prototype={$6_3:null,dispose:function(){if(this.get_isDisposed())return;!IsNull(this.$6_3)&&this.$6_3.unbind();Mscrm.SimpleInlineControlView.prototype.dispose.call(this)},get_getEditViewObject:function(){return new Mscrm.TickerControlEditView(this)},updateValueElementText:function($p0){var $v_0=$P_CRM("a",this.get_valueElement());$v_0.remove();if($p0!==this.get_dataContext().get_emptyValuePlaceholder()&&this.get_dataContext().get_attribute().get_privilegeMask()){this.$6_3=$P_CRM("<a></a>");this.$6_3.attr("href","#");this.$6_3.addClass("ms-crm-gridurl");var $$t_3=this;this.$6_3.click(function($p1_0){$$t_3.$7D_3($$t_3.$6_3.get(0));$p1_0.stopPropagation();$p1_0.preventDefault()});this.$6_3.text($p0);this.get_valueElementInnerSpan().text("");this.get_valueElementInnerSpan().append(this.$6_3)}else this.get_valueElementInnerSpan().text($p0);this.get_layout().appendAndWrapValueElementMask()},$7D_3:function($p0){if(!IsNull($p0)){var $v_0=XUI.Html.DomUtils.GetFirstChild($p0).nodeValue;if(!IsNull($v_0)&&$v_0.length>0){var $v_1=Mscrm.CrmUri.create("http://go.microsoft.com/fwlink");$v_1.get_query()["linkid"]=8506;$v_1.get_query()["clcid"]=window.USER_LANGUAGE_CODE.toString(16);$v_1.get_query()["Symbol"]=$v_0;$v_1.get_query()["q"]=$v_0;safeWindowOpen($v_1,"",String.format("height={0}, width={1}, scrollbars=1, resizable=1, status=1, toolbar=1, menubar=1, location=1",window.screen.availHeight*.75,window.screen.availWidth*.75),false,true)}}}};Mscrm.InlineTimerControlViewBase=function(timerControl){this.$$d_tick=Function.createDelegate(this,this.tick);this.$e_0=timerControl;this.$B_0=this.$e_0.get_element();this.$2u_0=$get(this.$B_0.id+"_c");this.$2W_0=window.LOCID_LABEL_TOOLTIP;this.$l_0="/_imgs/imagestrips/transparent_spacer.gif";this.$1A_0=""};Mscrm.InlineTimerControlViewBase.prototype={$e_0:null,$B_0:null,$2u_0:null,$3n_0:null,$49_0:null,$4K_0:null,$1m_0:0,$2S_0:0,$2Y_0:0,$2g_0:0,$l_0:null,$1A_0:null,$2W_0:null,$o_0:null,$14_0:null,$2J_0:false,$1o_0:true,$1v_0:false,get_timerControl:function(){return this.$e_0},set_timerControl:function(value){this.$e_0=value;return value},get_element:function(){return this.$B_0},set_element:function(value){this.$B_0=value;return value},get_parentSection:function(){return this.$3n_0},set_parentSection:function(value){this.$3n_0=value;return value},get_labelRow:function(){return this.$49_0},set_labelRow:function(value){this.$49_0=value;return value},get_timerRow:function(){return this.$4K_0},set_timerRow:function(value){this.$4K_0=value;return value},get_days:function(){return this.$1m_0},set_days:function(value){this.$1m_0=value;return value},get_hours:function(){return this.$2S_0},set_hours:function(value){this.$2S_0=value;return value},get_minutes:function(){return this.$2Y_0},set_minutes:function(value){this.$2Y_0=value;return value},get_seconds:function(){return this.$2g_0},set_seconds:function(value){this.$2g_0=value;return value},get_imagePath:function(){return this.$l_0},set_imagePath:function(value){this.$l_0=value;return value},get_imageAltText:function(){return this.$1A_0},set_imageAltText:function(value){this.$1A_0=value;return value},get_timerTextClassName:function(){return this.$14_0},set_timerTextClassName:function(value){this.$14_0=value;return value},get_labelTooltip:function(){return this.$2W_0},set_labelTooltip:function(value){this.$2W_0=value;return value},get_timerTooltip:function(){return this.$o_0},set_timerTooltip:function(value){this.$o_0=value;return value},get_disposed:function(){return this.$2J_0},set_disposed:function(value){this.$2J_0=value;return value},get_disabled:function(){return this.$1o_0},set_disabled:function(value){this.$1o_0=value;return value},get_isViolated:function(){return this.$1v_0},set_isViolated:function(value){this.$1v_0=value;return value},render:function(){this.setInnerHtml()},updateTimeDifferenceInSeconds:function(){var $v_0=new Date;$v_0.setMinutes($v_0.getMinutes()+$v_0.getTimezoneOffset());var $v_1=$v_0.toUTCString(),$v_2=Math.floor((Date.parse(this.$e_0.get_failureDateTimeUtcString())-Date.parse($v_1))/1e3)+this.$e_0.get_timeDifferenceInSeconds();if($v_2<=0)this.$1v_0=true;return Math.abs($v_2)},populateFields:function(){var $v_0=this.updateTimeDifferenceInSeconds();this.$1m_0=Math.floor($v_0/86400);$v_0=$v_0%86400;this.$2S_0=Math.floor($v_0/3600);$v_0=$v_0%3600;this.$2Y_0=Math.floor($v_0/60);$v_0=$v_0%60;this.$2g_0=Math.floor($v_0)},$2r_0:function($p0,$p1,$p2){var $v_0="<abbr title='{0}'>{1}</abbr>",$v_1=String.format($v_0,$p1,CrmEncodeDecode.CrmHtmlEncode($p0));return String.format(window.LOCID_TIMER_GEN_PATTERN,$p2,$v_1)},getTimeString:function(){this.populateFields();var $v_0=new Sys.StringBuilder,$v_1=this.$2r_0(window.LOCID_TIMER_SECONDS,window.LOCID_TIMER_SECONDS_FULL,this.$2g_0.toString()),$v_2=this.$2r_0(window.LOCID_TIMER_MINUTES,window.LOCID_TIMER_MINUTES_FULL,this.$2Y_0.toString()),$v_3=this.$2r_0(window.LOCID_TIMER_HOURS,window.LOCID_TIMER_HOURS_FULL,this.$2S_0.toString()),$v_4=String.format(window.LOCID_TIMER_HMS,$v_3,$v_2,$v_1);if(!this.$1m_0)$v_0.append($v_4);else{var $v_5=this.$2r_0(window.LOCID_TIMER_DAYS,window.LOCID_TIMER_DAYS_FULL,this.$1m_0.toString());$v_0.append(String.format(window.LOCID_TIMER_TIMEFULL,$v_5,$v_4))}return $v_0.toString()},updateTimerRow:function(status){var $v_0=XUI.Html.DomUtils.GetChildElementAt(XUI.Html.DomUtils.GetFirstChild(this.$B_0),1);if(!isNullOrEmptyString(status)){$v_0.parentNode.setAttribute("aria-live","polite");$v_0.innerHTML=status}else{$v_0.parentNode.setAttribute("role","timer");$v_0.innerHTML=this.getTimeString()}},setInnerHtml:function(){if(!isNullOrEmptyString(this.$B_0.innerHTML))this.$B_0.innerHTML="";var $v_0=document.createElement(Mscrm.ElementNames.span);$v_0.className="ms-crm-InlineTimerControl-Icon";if(!isNullOrEmptyString(this.$l_0)){var $v_4=Mscrm.ImageStrip.getImage(Mscrm.CrmUri.create(this.$l_0));$v_4.setAttribute("alt",this.$1A_0);$v_0.appendChild($v_4)}else $v_0.innerHTML=" ";var $v_1=document.createElement(Mscrm.ElementNames.span);$v_1.innerHTML="";$v_1.className="TimerControlTimerRow ms-crm-InlineTimerControl-Time";if(!isNullOrEmptyString(this.$14_0))$v_1.className=$v_1.className+" "+this.$14_0;var $v_2=document.createElement(Mscrm.ElementNames.div);$v_2.appendChild($v_0);$v_2.appendChild($v_1);$v_2.className="ms-crm-InlineTimerControl-InnerDiv";$v_2.setAttribute("aria-labelledby",this.$B_0.id+"_c");this.$B_0.appendChild($v_2);this.$B_0.parentNode.className+=" ms-crm-InlineTimerControl";this.$B_0.parentNode.setAttribute("title",this.$o_0);var $v_3=XUI.Html.DomUtils.GetPrevSibling(this.$B_0.parentNode);$v_3.className+=" ms-crm-InlineTimerControl TimerControlLabel";$v_3.setAttribute("title",String.format(this.$2W_0,XUI.Html.GetText($v_3)));$v_3.setAttribute("aria-label",XUI.Html.GetText($v_3));this.$B_0.className+=" ms-crm-InlineTimerControl-MainDiv"},tick:function(){window.setTimeout(this.$$d_tick,1e3)},dispose:function(){if(this.$2J_0)return;this.$2J_0=true;this.$e_0.get_element().innerHTML="";Mscrm.Utilities.destroyObject(this)},getLabel:function(){return XUI.Html.GetText(this.$2u_0)},setLabel:function(label){XUI.Html.SetText(this.$2u_0,label)},getName:function(){return this.$B_0.id},getParent:function(){return this.$3n_0},getVisible:function(){return Sys.UI.DomElement.getVisible(this.$B_0)},setVisible:function(visible){this.$2u_0.style.display=visible?"block":"none";Sys.UI.DomElement.setVisible(this.$B_0,visible)},setFocus:function(){},getControlType:function(){return Mscrm.FormControlClientApiType.timerControl},setNotification:function(message,uniqueId){return false},clearNotification:function(uniqueId){return false},getKey:function(){return this.getName()},getWrapper:function(){return this}};Mscrm.InlineTimerControlInProgressView=function(timerControl){Mscrm.InlineTimerControlInProgressView.initializeBase(this,[timerControl]);this.$1v_0=false;this.$o_0=window.LOCID_INPROG_TOOLTIP;this.$1A_0=window.LOCID_INPROG_IMG_ALTTEXT};Mscrm.InlineTimerControlInProgressView.prototype={render:function(){Mscrm.InlineTimerControlViewBase.prototype.render.call(this);this.populateFields();this.tick()},tick:function(){if(IsNull(this.tick))return;if(this.$1v_0){this.$e_0.get_element().innerHTML="";this.$e_0.set_oldViewObject(new Mscrm.InlineTimerControlViolatedView(this.$e_0));this.$e_0.get_oldViewObject().render()}else{this.updateTimerRow("");Mscrm.InlineTimerControlViewBase.prototype.tick.call(this)}}};Mscrm.InlineTimerControlViolatedView=function(timerControl){Mscrm.InlineTimerControlViolatedView.initializeBase(this,[timerControl]);this.$o_0=window.LOCID_VIOL_TOOLTIP;this.$1A_0=window.LOCID_VIOL_IMG_ALTTEXT;this.$14_0="TimerControlTimerRow-Expired"};Mscrm.InlineTimerControlViolatedView.prototype={render:function(){this.$l_0="/_imgs/TimerControl/timer_expired_16.png";Mscrm.InlineTimerControlViewBase.prototype.render.call(this);this.populateFields();this.tick()},tick:function(){if(IsNull(this.tick))return;this.updateTimerRow("");Mscrm.InlineTimerControlViewBase.prototype.tick.call(this)}};Mscrm.InlineTimerControlNotSetView=function(timerControl){Mscrm.InlineTimerControlNotSetView.initializeBase(this,[timerControl]);this.$o_0=window.LOCID_NOTSET_TOOLTIP};Mscrm.InlineTimerControlNotSetView.prototype={render:function(){Mscrm.InlineTimerControlViewBase.prototype.render.call(this);this.updateTimerRow(window.LOCID_TIMER_NOTSET)}};Mscrm.InlineTimerControlNoPrivilegeView=function(timerControl){Mscrm.InlineTimerControlNoPrivilegeView.initializeBase(this,[timerControl]);this.$o_0=window.LOCID_NOPRIVILEGE_TOOLTIP};Mscrm.InlineTimerControlNoPrivilegeView.prototype={render:function(){this.$l_0="/_imgs/error/notif_icn_crit16.png";Mscrm.InlineTimerControlViewBase.prototype.render.call(this);this.updateTimerRow(window.LOCID_TIMER_NOPRIVILEGE)}};Mscrm.InlineTimerControlCanceledView=function(timerControl){Mscrm.InlineTimerControlCanceledView.initializeBase(this,[timerControl]);this.$o_0=window.LOCID_CANCEL_TOOLTIP};Mscrm.InlineTimerControlCanceledView.prototype={render:function(){Mscrm.InlineTimerControlViewBase.prototype.render.call(this);this.updateTimerRow(window.LOCID_TIMER_CANCELED)}};Mscrm.InlineTimerControlSuccessView=function(timerControl){Mscrm.InlineTimerControlSuccessView.initializeBase(this,[timerControl]);this.$o_0=window.LOCID_SUCC_TOOLTIP;this.$14_0="TimerControlTimerRow-Succeeded"};Mscrm.InlineTimerControlSuccessView.prototype={render:function(){this.$l_0="/_imgs/TimerControl/timer_success_16.png";Mscrm.InlineTimerControlViewBase.prototype.render.call(this);this.updateTimerRow(window.LOCID_TIMER_SUCCEEDED)}};Mscrm.InlineTimerControlFailureView=function(timerControl){Mscrm.InlineTimerControlFailureView.initializeBase(this,[timerControl]);this.$o_0=window.LOCID_FAIL_TOOLTIP;this.$14_0="TimerControlTimerRow-Failed"};Mscrm.InlineTimerControlFailureView.prototype={render:function(){this.$l_0="/_imgs/TimerControl/timer_expired_16.png";Mscrm.InlineTimerControlViewBase.prototype.render.call(this);this.updateTimerRow(window.LOCID_TIMER_FAILED)}};Mscrm.InlineTimerControlWarningView=function(timerControl){Mscrm.InlineTimerControlWarningView.initializeBase(this,[timerControl]);this.$1A_0=window.LOCID_WARN_IMG_ALTTEXT;this.$14_0="TimerControlTimerRow-Warning"};Mscrm.InlineTimerControlWarningView.prototype={render:function(){this.$l_0="/_imgs/TimerControl/timer_nearing_expiration_16.png";Mscrm.InlineTimerControlInProgressView.prototype.render.call(this);this.updateTimerRow("")}};Mscrm.InlineToggleControlView=function($p0){Mscrm.InlineToggleControlView.initializeBase(this,[$p0])};Mscrm.InlineToggleControlView.prototype={get_getEditViewObject:function(){return new Mscrm.ToggleControlEditView(this)},getControlType:function(){return Mscrm.FormControlClientApiType.standard}};Mscrm.InlineTransactionCurrencyLookupControlView=function($p0){Mscrm.InlineTransactionCurrencyLookupControlView.initializeBase(this,[$p0])};Mscrm.InlineTransactionCurrencyLookupControlView.prototype={get_getEditViewObject:function(){return new Mscrm.TransactionCurrencyLookupControlEditView(this)},initializeEditViewOnDemand:function(){Mscrm.SimpleInlineControlView.prototype.initializeEditViewOnDemand.call(this);var $v_0=$find(this.get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId)),$$t_4=this;$v_0.get_attributes().forEach(function($p1_0,$p1_1){var $v_1=$p1_0;$v_1.get_metadataType()==="money"&&Mscrm.InlineEditInitializerUtility.initializeEditViewsForAttribute($v_1)})}};Mscrm.InlineUrlControlView=function($p0){Mscrm.InlineUrlControlView.initializeBase(this,[$p0])};Mscrm.InlineUrlControlView.prototype={$6_3:null,dispose:function(){if(this.get_isDisposed())return;!IsNull(this.$6_3)&&this.$6_3.unbind();Mscrm.SimpleInlineControlView.prototype.dispose.call(this)},get_getEditViewObject:function(){return new Mscrm.UrlControlEditView(this)},updateValueElementText:function($p0){var $v_0=$P_CRM("a",this.get_valueElement());$v_0.remove();if($p0!==this.get_dataContext().get_emptyValuePlaceholder()&&this.get_dataContext().get_attribute().get_privilegeMask()){this.$6_3=$P_CRM("<a></a>");this.$6_3.attr("href","#");this.$6_3.addClass("ms-crm-gridurl");var $$t_3=this;this.$6_3.click(function($p1_0){Mscrm.ReadFormUtilities.handleUrlClick(this);$p1_0.stopPropagation();$p1_0.preventDefault()});this.$6_3.text($p0);this.get_valueElementInnerSpan().text("");this.get_valueElementInnerSpan().append(this.$6_3)}else this.get_valueElementInnerSpan().text($p0);this.get_layout().appendAndWrapValueElementMask()}};Mscrm.InlineWebResourceControlView=function(webResourceControl){this.$$d_$4t_0=Function.createDelegate(this,this.$4t_0);this.$F_0=webResourceControl;var $v_0=$get(this.$F_0.get_element().id+"_d");this.$K_0=$P_CRM("#"+this.$F_0.get_element().id+"_d");if(!IsNull($v_0))this.$L_0=XUI.Html.DomUtils.GetFirstChild($v_0);var $v_1=$P_CRM(this.$F_0.get_element()).parents("div.ms-crm-InlineTab-Read:first");if($v_1.length>0){var $v_2=$find($v_1[0].id);$v_2.get_displayState()===Xrm.TabDisplayState.collapsed&&$v_2.add_tabStateChange(this.$$d_$4t_0)}};Mscrm.InlineWebResourceControlView.prototype={$F_0:null,$L_0:null,$t_0:null,$K_0:null,dispose:function(){this.$F_0=null;this.$L_0=null},$4t_0:function($p0,$p1){if($p1.get_displayState()===Xrm.TabDisplayState.expanded){var $v_0=$p0;$v_0.remove_tabStateChange(this.$$d_$4t_0);var $v_1=this.$F_0.get_element().attributes.getNamedItem("url");!IsNull($v_1)&&this.$F_0.set_source($v_1.value)}},getKey:function(){return this.getName()},getWrapper:function(){return this},get_labelContainerElement:function(){return this.$K_0},set_labelContainerElement:function(value){this.$K_0=value;return value},setNotification:function(message,uniqueId){return false},clearNotification:function(uniqueId){return false},getLabel:function(){return !IsNull(this.$L_0)?XUI.Html.GetText(this.$L_0):null},getName:function(){return this.$F_0.get_element().id},getParent:function(){return this.get_parentSection()},getVisible:function(){return this.$K_0.css("display")==="none"?false:true},get_parentSection:function(){return this.$t_0},set_parentSection:function(value){this.$t_0=value;return value},setFocus:function(){this.$F_0.setFocus()},setLabel:function(label){!IsNull(this.$L_0)&&XUI.Html.SetText(this.$L_0,label)},setVisible:function(visible){var $v_0=$P_CRM("#"+this.$F_0.get_element().id+"_d"),$v_1=$v_0.parents("table").last();!IsNull($v_1)&&$v_1.css("table-layout","auto");this.$F_0.setVisible(visible);var $v_2=$get(this.$F_0.get_element().id+"_c");if(!IsNull($v_2))$v_2.style.display=visible?"":"none";if(visible){this.$5M_0();Mscrm.InlineEditControlCommonUtility.showParentView(this.get_parentSection());this.$K_0.show();this.get_$u_0().show();this.get_$g_0().show()}else{this.$K_0.hide();Mscrm.InlineEditControlCommonUtility.isElementAllChildrenHidden(this.get_$u_0())&&this.get_$u_0().hide();Mscrm.InlineEditControlCommonUtility.isElementAllChildrenHidden(this.get_$g_0())&&this.get_$g_0().hide();Mscrm.InlineEditControlCommonUtility.hideParentViewIfNoControlsVisible(this.get_parentSection())}Mscrm.InlineEditControlCommonUtility.setUnusedRowsVisibility(this.$K_0,this.get_$g_0(),visible)},$V_0:null,get_$u_0:function(){if(IsNull(this.$V_0)||!this.$V_0.length)this.$V_0=this.$K_0.parents("td").first();return this.$V_0},$W_0:null,get_$g_0:function(){if(IsNull(this.$W_0)||!this.$W_0.length)this.$W_0=this.$K_0.parents("tr").first();return this.$W_0},$5M_0:function(){var $v_0=$P_CRM(this.$F_0.get_element()),$v_1=$v_0.parents("td");$v_1.length>0&&$v_1.first().show();var $v_2=$v_0.parents("tr");$v_2.length>0&&$v_2.first().show();var $v_3=this.get_parentSection();!IsNull($v_3)&&$v_3.setVisible(true)},getControlType:function(){return Mscrm.FormControlClientApiType.webResource},getSrc:function(){if(Mscrm.WebResourceSilverlightControl.isInstanceOfType(this.$F_0))return this.$F_0.get_source();return this.$F_0.get_element().getAttribute("url")+""},getObject:function(){return this.$F_0.get_webResourceContainer()},getData:function(){return this.$F_0.get_data()},setData:function(data){this.$F_0.set_data(data)},setSrc:function(source){this.$F_0.set_source(source);this.$F_0.get_element().setAttribute("url",source)}};Mscrm.LookupItemView=function(){};Mscrm.LookupItemView.prototype={$2E_0:null,$2T_0:null,$2L_0:null,$A_0:null,$8_0:null,$1P_0:null,$3V_0:false,$3N_0:null,$3O_0:null,$E_0:null,$1H_0:null,$3Q_0:false,get_lookupControlItemProxy:function(){return this.$A_0},set_lookupControlItemProxy:function(value){this.$A_0=value;return value},get_crmEncodeDecodeProxy:function(){if(IsNull(this.$2E_0))this.$2E_0=new Mscrm.Proxies.CrmEncodeDecodeProxy;return this.$2E_0},set_crmEncodeDecodeProxy:function(value){this.$2E_0=value;return value},get_domHelperProxy:function(){if(IsNull(this.$2L_0))this.$2L_0=new Mscrm.Proxies.DomHelperProxy;return this.$2L_0},set_domHelperProxy:function(value){this.$2L_0=value;return value},get_imageStripProxy:function(){if(IsNull(this.$2T_0))this.$2T_0=new Mscrm.Proxies.ImageStripProxy;return this.$2T_0},set_imageStripProxy:function(value){this.$2T_0=value;return value},get_lookupItemElement:function(){if(IsNull(this.$8_0)){if(IsNull(this.$A_0))return null;this.$8_0=this.get_domHelperProxy().createElement("span");var $v_0=this.$A_0.get_category()===LookupItemCategories.UNKNOWN_EMAIL||this.$A_0.get_category()===LookupItemCategories.UNKNOWN||this.$A_0.get_category()===LookupItemCategories.AMBIGUOUS,$v_1=this.$3N_0==="multi",$v_2="",$v_3;if($v_0){if(this.$A_0.get_category()!==LookupItemCategories.AMBIGUOUS)$v_2="display: inline-block; text-decoration:none; color:#FF0000;";if($v_1){if(this.$E_0!==Mscrm.InlineEditControlMode.deactivated&&this.$A_0.get_category()!==LookupItemCategories.UNKNOWN_EMAIL||this.$E_0===Mscrm.InlineEditControlMode.deactivated&&this.$A_0.get_category()===LookupItemCategories.UNKNOWN_EMAIL){this.$8_0.setAttribute("onclick","Mscrm.ReadFormUtilities.onClickInlineMultiLookupItemReadMode(new Sys.UI.DomEvent(event));");$v_3=IsNull(this.$A_0.get_callback())?"openlui(new Sys.UI.DomEvent(event))":this.$A_0.get_callback();this.$8_0.setAttribute("onCtrlClick",$v_3)}}else this.$E_0===Mscrm.InlineEditControlMode.deactivated&&this.$A_0.get_category()===LookupItemCategories.UNKNOWN_EMAIL&&this.$8_0.setAttribute("onclick",this.$A_0.get_callback());this.$8_0.set_className("ms-crm-Lookup-Item");this.$8_0.setAttribute("resolved","false")}else{$v_2="display: inline-block;";this.$8_0.set_className(!isNullOrEmptyString(this.$A_0.get_displayClass())?this.$A_0.get_displayClass():"ms-crm-Lookup-Item");!this.$3V_0&&this.$8_0.setAttribute("role","link");if($v_1){this.$8_0.setAttribute("onclick","Mscrm.ReadFormUtilities.onClickInlineMultiLookupItemReadMode(new Sys.UI.DomEvent(event));");$v_3=IsNull(this.$A_0.get_callback())?"openlui(new Sys.UI.DomEvent(event))":this.$A_0.get_callback();this.$8_0.setAttribute("onCtrlClick",$v_3)}else this.$8_0.setAttribute("onclick","Mscrm.ReadFormUtilities.openLookup(true, new Sys.UI.DomEvent(event));");this.$8_0.setAttribute("resolved","true");$v_3=this.get_crmEncodeDecodeProxy().crmHtmlAttributeEncode(this.$A_0.get_typeName());this.$8_0.setAttribute("otypename",$v_3);$v_3=this.get_crmEncodeDecodeProxy().crmHtmlAttributeEncode(this.$A_0.get_type());this.$8_0.setAttribute("otype",$v_3);$v_3=this.$A_0.get_id();this.$8_0.setAttribute("oid",$v_3)}this.$8_0.setAttribute("style",$v_2);this.$8_0.setAttribute("onkeydown","Mscrm.ReadFormUtilities.keyDownHandler(new Sys.UI.DomEvent(event));");this.$8_0.set_title(this.$A_0.get_name());this.$8_0.set_tabIndex(-1);this.$8_0.setAttribute("contenteditable",false);this.$8_0.set_innerText(this.$A_0.get_name());var $v_4=this.$3O_0.split(",").length>1,$v_5="2",$v_6="8",$v_7=this.$A_0.get_type()===$v_5||this.$A_0.get_type()===$v_6;if(!$v_1&&($v_4||Mscrm.Utilities.isIE()&&$v_7))this.$8_0.insertBefore(this.get_entityIconElement(),this.$8_0.get_firstChild());else if(!$v_1&&this.$3Q_0&&$v_7){var $v_8=new Mscrm.Proxies.PresenceHelperProxy,$v_9=$v_8.getPresenceUri(-1),$v_A=this.get_imageStripProxy().getImage($v_9);$v_A.setAttribute("class","ms-crm-Lookup-PresenceItem placeholder");this.$8_0.insertBefore($v_A,this.$8_0.get_firstChild())}}return this.$8_0},set_lookupItemElement:function(value){this.$8_0=value;return value},get_lookupItemHiddenElement:function(){if(IsNull(this.$1H_0)){if(IsNull(this.$A_0))return null;this.$1H_0=this.get_domHelperProxy().createElement("span");this.$1H_0.setAttribute("style","display: none;");this.$1H_0.setAttribute("contenteditable","false");this.$1H_0.set_innerText(this.$A_0.get_name())}return this.$1H_0},set_lookupItemHiddenElement:function(value){this.$1H_0=value;return value},get_entityIconElement:function(){if(IsNull(this.$1P_0)){var $v_0=Number.parseInvariant(this.$A_0.get_type());if(isNaN($v_0)||!isFinite($v_0))return null;var $v_1=this.get_imageStripProxy().getIconPath($v_0);this.$1P_0=this.get_imageStripProxy().getImage($v_1);this.$1P_0.set_className(this.$1P_0.get_className()+" ms-crm-Lookup-Item")}return this.$1P_0},set_entityIconElement:function(value){this.$1P_0=value;return value},get_useTabletExperience:function(){return this.$3V_0},set_useTabletExperience:function(value){this.$3V_0=value;return value},get_presenceEnabled:function(){return this.$3Q_0},set_presenceEnabled:function(value){this.$3Q_0=value;return value},get_controlMode:function(){return this.$E_0},set_controlMode:function(value){this.$E_0=value;return value},get_lookupStyle:function(){return this.$3N_0},set_lookupStyle:function(value){this.$3N_0=value;return value},get_lookupTypes:function(){return this.$3O_0},set_lookupTypes:function(value){this.$3O_0=value;return value}};Mscrm.SimpleInlineControlView=function(layout){this.$$d_$78_2=Function.createDelegate(this,this.$78_2);this.$$d_$5j_2=Function.createDelegate(this,this.$5j_2);this.$$d_$7q_2=Function.createDelegate(this,this.$7q_2);Mscrm.SimpleInlineControlView.initializeBase(this,[layout]);!IsNull(layout)&&this.get_chromeElement().bind(Mscrm.EventNames.unlock,this.$$d_$7q_2);this.$2I_2=false;this.$3L_2=layout};Mscrm.SimpleInlineControlView.prototype={$R_2:null,$2N_2:null,$b_2:null,$4L_2:null,$1O_2:null,$1Y_2:null,$H_2:null,$2I_2:false,$s_2:null,$24_2:null,$43_2:false,$3L_2:null,get_$0_2:function(){return this.get_dataContext()},get_hideLockIcon:function(){return this.$43_2},set_hideLockIcon:function(value){this.$43_2=value;value&&!IsNull(this.$H_2)&&this.$H_2.triggerLockIconStateChanged(Mscrm.StateChangeEvents.read);return value},get_valueElementInnerSpan:function(){if(!this.$24_2){var $v_0=this.get_valueElement().children("span");if(!$v_0.length)this.$24_2=this.get_valueElement();else this.$24_2=$v_0.first()}return this.$24_2},get_errorValue:function(){return this.$b_2},set_errorValue:function(value){this.$b_2=value;return value},get_errorNotification:function(){if(!IsNull(this.$H_2))return this.$H_2.get_$6Y_4();return Mscrm.InlineViewBase.prototype.get_errorNotification.call(this)},get_validateResult:function(){return this.$4L_2},set_validateResult:function(value){this.$4L_2=value;return value},get_doNotSubmit:function(){if(this.get_isEditControlInitialized())return this.get_editView().get_doNotSubmit();return false},set_doNotSubmit:function(value){this.get_editView().set_doNotSubmit(value);return value},tryCompleteOnDemandInitialization:function(){!this.get_isEditControlInitialized()&&this.initializeEditViewOnDemand()},initializeEditViewOnDemand:function(){Mscrm.InlineEditInitializerUtility.initializeEditViewsForAttribute(this.get_$0_2().get_attribute().get_dataAttribute())},initializeAndRenderEditView:function(){if(this.get_isEditControlInitialized())return;if(this.$7O_2()&&Mscrm.Utilities.isMobileRefresh()){this.get_dataContext().set_controlMode(Mscrm.InlineEditControlMode.alwaysEdit);this.get_editView().confirm();Mscrm.InlineEditUtilities.set_activeControl(this);return}this.set_editView(this.get_getEditViewObject());this.get_editView().set_dataContext(this.get_dataContext());this.get_editView().$1U_2=this.get_$0_2().get_attribute().get_imeMode();this.get_editView().render();this.set_initializationState(Mscrm.InlineControlInitializationState.initializedForEdit)},$7O_2:function(){if(this.get_dataContext().get_optimizeForMobileRendering()&&this.get_controlMode()===Mscrm.InlineEditControlMode.normal)return true;return false},get_editControlBehavior:function(){if(!this.get_isEditControlInitialized()){this.tryCompleteOnDemandInitialization();if(IsNull(this.get_editView()))return null}return this.get_editView().get_editControlBehavior()},get_$50_2:function(){if(IsNull(this.$R_2)||!this.$R_2.length){var $v_0=String.format("#{0}",this.get_labelElementId());this.$R_2=$P_CRM($v_0)}return this.$R_2},get_labelIcon:function(){return this.$1Y_2},set_labelIcon:function(value){this.$1Y_2=value;this.setLabelIcon();return value},get_needReplaceBR:function(){return false},get_validationElement:function(){return this.$H_2.get_validationElement()},set_validationElement:function(value){this.$H_2.set_validationElement(value);return value},get_lockIcon:function(){return this.$H_2.get_lockIcon()},set_lockIcon:function(value){this.$H_2.set_lockIcon(value);return value},get_warningIcon:function(){return this.$H_2.get_warningIcon()},set_warningIcon:function(value){this.$H_2.set_warningIcon(value);return value},get_disableWarningsAndValidation:function(){return this.$2I_2},set_disableWarningsAndValidation:function(value){if(value===this.$2I_2)return value;this.$2I_2=value;this.$H_2.triggerWarningIconStateChanged(Mscrm.StateChangeEvents.validated);this.$H_2.triggerValidationElementStateChanged(Mscrm.StateChangeEvents.validated);return value},get_errorDisplayAreaProvider:function(){if(IsNull(this.$2N_2))this.$2N_2=new Mscrm.DefaultErrorDisplayContainerProvider;return this.$2N_2},set_errorDisplayAreaProvider:function(value){this.$2N_2=value;return value},get_controlMode:function(){return this.get_$0_2().get_controlMode()},get_warningElementId:function(){return this.get_chromeElement().attr("id")+"_w"},get_controlId:function(){return this.get_chromeElement().attr("id")},get_labelElementId:function(){return this.get_chromeElement().attr("id")+"_c"},get_isDirty:function(){if(!this.get_isEditControlInitialized())return false;return this.get_editView().get_isDirty()},get_isValid:function(){if(!this.get_isEditControlInitialized())return true;return this.get_editView().get_isValid()},postRender:function(){var $v_0=this.get_$0_2().get_attribute(),$v_1=Mscrm.InlineEditUtilities.getDecodedValue($v_0.get_initialValue(),this.get_needReplaceBR());this.tryUpdateValueElementText($v_1)},get_enableLazyInitialization:function(){return this.get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId)===Mscrm.ClientApiConstants.primaryEntityId},handleModelToViewBinding:function(jQueryEvent,propertyName){switch(propertyName){case "ControlMode":$P_CRM(this).trigger(Mscrm.EventNames.propertyChange,["ControlMode"]);if(this.get_controlMode()===Mscrm.InlineEditControlMode.alwaysEdit||this.get_initializationState()===Mscrm.InlineControlInitializationState.initializedForEdit){this.get_editView().$4r_2(jQueryEvent,propertyName);break}break;case "EditValue":case "DefaultEditValue":this.get_editView().$4r_2(jQueryEvent,propertyName);break;case "LabelValue":this.set_labelElementValue(this.get_$0_2().get_labelValue());break;case "EmptyValuePlaceholder":this.set_emptyValuePlaceholder(this.get_$0_2().get_emptyValuePlaceholder());break;default:break}},get_emptyValuePlaceholder:function(){return this.$1O_2},set_emptyValuePlaceholder:function(value){this.$1O_2=value;return value},$7e_2:function($p0){return isNullOrEmptyString($p0)},tryUpdateValueElementText:function(displayValue){if(this.get_controlMode()===Mscrm.InlineEditControlMode.alwaysEdit&&Mscrm.Utilities.isMobileRefresh())return;var $v_0="",$v_1=this.get_$0_2(),$v_2=null;if(this.$7e_2(displayValue)){this.get_valueElement().addClass("ms-crm-Inline-EmptyValue");$v_2=$v_1.get_emptyValuePlaceholder();if(!this.get_disabled())$v_0=$v_1.get_emptyValueTooltip()}else{this.get_valueElement().removeClass("ms-crm-Inline-EmptyValue");$v_2=displayValue;$v_0=this.getToolTip(displayValue)}if($v_1.get_attribute().get_canRead()){this.updateValueElementText($v_2);this.get_layout().updateTooltip($v_0)}else this.updateValueElementText(Mscrm.InlineEditConstants.SecuredReadMaskValue)},updateValueElementText:function(displayValue){this.get_valueElementInnerSpan().text(displayValue);this.get_layout().appendAndWrapValueElementMask()},isElementInFlyOut:function(targetElement){return targetElement.parents(".ui-flyout-dialog").length>0},createDataAttribute:function(){var $v_0=$find(this.get_$0_2().get_attribute().get_dataAttributeId());if(IsNull($v_0)){$v_0=Mscrm.CrmUIComponent.crmCreate(this.get_$0_2().get_attribute().get_dataAttributeType(),{id:this.get_$0_2().get_attribute().get_dataAttributeId(),name:this.get_$0_2().get_attribute().get_logicalName(),initialValue:this.$O_2()},null,{parent:this.get_$0_2().get_attribute().get_parentFormDataEntityId()},null);this.get_$0_2().get_attribute().get_attributeType()==="bit"&&$v_0.set_metadataType(Xrm.AttributeType.booleanType);$v_0.set_isCompositeAttribute(this.get_$0_2().get_attribute().get_isCompositeAttributeValueSet());$v_0.set_userPrivilegeMask(this.get_$0_2().get_attribute().get_privilegeMask());$v_0.set_labelName(this.get_$0_2().get_attribute().get_labelName())}return $v_0},createChromeBehavior:function(){if(IsNull(this.$H_2))this.$H_2=Mscrm.CrmUIComponent.crmCreate(this.get_layout().get_chromeBehaviorType(),{view:this},null,null,this.get_chromeElement().get(0))},get_chromeBehavior:function(){return this.$H_2},attachBehaviors:function(){this.createDataAttribute();Mscrm.InlineViewBase.prototype.attachBehaviors.call(this)},$78_2:function($p0){this.resetLayout()},$7q_2:function($p0){var $v_0=Mscrm.InlineEditControlMode.normal;this.get_dataContext().setDefaultControlMode($v_0);this.get_dataContext().set_disabled(false);this.get_layout().renderForRead();this.tryUpdateValueElementText(this.get_$0_2().get_attribute().get_displayValue())},getToolTip:function(displayValue){return displayValue},$O_2:function(){return Mscrm.InlineEditUtilities.getDecodedValue(this.get_dataContext().get_attribute().get_initialValue())},getKey:function(){return this.get_chromeElement().attr("id")},getWrapper:function(){return this},get_disabled:function(){return this.get_isDisposed()?true:this.get_$0_2().get_disabled()},set_disabled:function(value){this.$5H_2(value,false);return value},setDisabled:function(isDisabled){this.$5H_2(isDisabled,true)},$5H_2:function($p0,$p1){this.get_$0_2().set_disabled($p0);$p0&&this.get_$0_2().get_hasError()&&this.clearValidation();$p1&&Mscrm.InlineEditUtilities.registerClientControlDisablingState(this.getKey(),$p0)},goToEditState:function(){this.get_state().set_currentState(Mscrm.ChromeState.edit)},goToPreFocusState:function(){if(!IsNull(this.$s_2))return;var $v_0=this.get_chromeElement().attr("tabindex"),$v_1=parseInt($v_0);if(IsNull($v_1)||isNaN($v_1))return;this.$s_2=$P_CRM(document.createElement("input")).addClass("ms-crm-Hidden-NoBehavior").attr("type","text").attr("tabindex",$v_1.toString());this.$s_2.insertBefore(this.get_chromeElement());var $$t_3=this;this.$s_2.blur(function($p1_0){$$t_3.$s_2.attr("tabindex","-1")});this.$s_2.focus()},setFocus:function(){if(this.get_isDisposed())return;!this.isVisibleInTree()&&this.setVisible(true);if(this.get_disabled())this.get_chromeElement().focus();else{this.get_controlMode()!==Mscrm.InlineEditControlMode.alwaysEdit&&this.get_state().set_currentState(Mscrm.ChromeState.edit);this.get_editView().focusEditElement()}},isEditing:function(){if(!this.get_isEditControlInitialized())return false;return this.get_editView().isEditing()},renderForRead:function(){this.get_chromeElement().attr(Mscrm.InlineEditConstants.HtmlAttributeControlInitializing,"1");this.$8P_2();this.get_layout().renderForRead();this.attachBehaviors();this.$H_2.tryTransitionToAlwaysEditMode();this.$4s_2();if(!this.get_isEditControlInitialized())if(!this.get_enableLazyInitialization())this.initializeAndRenderEditView();else Mscrm.DeferredInlineEditOnDemandInitializer.get_instance().addControl(this);this.get_chromeElement().removeAttr(Mscrm.InlineEditConstants.HtmlAttributeControlInitializing);this.postRender()},resetLayout:function(){Mscrm.InlineControlViewBase.prototype.resetLayout.call(this);this.get_isEditControlInitialized()&&this.get_layout().renderForEdit()},clearValidation:function(){this.get_state().get_validationResult().isValid=true;if(!IsNull(this.get_validateResult()))this.get_validateResult().isValid=true;this.$H_2.triggerValidationElementStateChanged(Mscrm.StateChangeEvents.read);this.get_warningIcon().hide()},addControlTypeCssClassToChromeElement:function(){this.get_chromeElement().addClass(this.get_$0_2().get_attribute().get_attributeType())},$8P_2:function(){this.get_chromeElement().attr("aria-describedby",this.get_labelElementId())},$4s_2:function(){var $v_0=this.get_$0_2();$v_0.setPropertyWithoutRaisingEvent("LabelValue",this.get_labelElementValue());this.get_dataContext().get_attribute().addOnChangeInternal(this.$$d_$5j_2,false)},$5j_2:function($p0){this.get_isEditControlInitialized()&&this.get_editView().attributeChanged()},get_labelElementValue:function(){var $v_0=this.get_layout().get_labelElement().first().text();return $v_0},set_labelElementValue:function(value){this.get_layout().get_labelElement().first().text(value);return value},blur:function(){if(this.get_isDisposed())return;this.get_isEditControlInitialized()&&this.get_editView().confirm()},dispose:function(){if(this.get_isDisposed())return;!IsNull(this.$s_2)&&this.$s_2.unbind();if(!IsNull(this.get_dataContext())){var $v_0=this.get_dataContext().get_attribute();!IsNull($v_0.get_dataAttribute())&&$v_0.removeOnChangeInternal(this.$$d_$5j_2)}this.get_chromeElement().unbind(Mscrm.EventNames.unlock,this.$$d_$7q_2);this.$V_2=null;this.$s_2=null;this.$24_2=null;this.$R_2=null;$P_CRM(window).unbind("resize",this.$$d_$78_2);this.$H_2=null;Mscrm.InlineControlViewBase.prototype.dispose.call(this)},setLabelIcon:function(){if(IsNull(this.get_layout().get_labelElement())||IsNull(this.$1Y_2)||this.get_layout().get_labelElement().length!==1)return;if(!this.get_layout().get_labelElement().hasClass("ms-crm-label-icon")){var $v_0=Mscrm.CrmUri.create(this.$1Y_2),$v_1=$P_CRM(Mscrm.ImageStrip.getImage($v_0));$v_1.attr("alt",this.get_labelElementValue());this.get_layout().get_labelElement().prepend($v_1);this.get_layout().get_labelElement().addClass("ms-crm-label-icon")}},setRequiredLevel:function(level){this.get_layout().setRequiredOrRecommendedLevel(level);var $v_0=this.get_dataContext().get_attribute();!IsNull($v_0)&&$v_0.set_requiredLevel(Mscrm.InlineEditInitializerUtility.$4o(level));if(this.get_isEditControlInitialized()){var $v_1=this.get_editView().get_editElementValue();if(isNullOrEmptyString($v_1)){var $v_2=this.get_dataContext().validate($v_1);if($v_2.isValid){var $v_3=[$v_2];this.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,$v_3)}}}},isVisibleInTree:function(){if(this.get_chromeElement().css("display")==="none"||this.get_chromeElement().css("height")==="0px")return false;for(var $v_0=this.get_chromeElement().parents(),$v_1=0;$v_1<$v_0.length;$v_1++){var $v_2=$v_0.eq($v_1);if($v_2.css("display")==="none"||$v_2.css("visibilty")==="hidden")return false}return true},getLabel:function(){return this.get_label()},setLabel:function(label){this.set_label(label)},getName:function(){if(!IsNull(this.get_chromeElement()))return this.get_chromeElement().attr("id");return this.get_dataFieldName()},getAttribute:function(){var $v_0=null,$v_1=this.get_dataContext();if($v_1){var $v_2=$v_1.$1_0;if($v_2){var $v_3=$find($v_2.get_dataAttributeId());if($v_3)$v_0=$v_3.getWrapper()}}return $v_0},getVisible:function(){return this.get_chromeElement().css("display")!=="none"},setVisible:function(isVisible){if(isVisible){Mscrm.InlineEditControlCommonUtility.showParentView(this.get_parentSection());this.get_$50_2().show();this.get_chromeElement().show();this.$8h_2();this.get_$u_2().show();this.get_$g_2().show()}else{this.get_$50_2().hide();this.get_chromeElement().hide();this.$7I_2();Mscrm.InlineEditControlCommonUtility.isElementAllChildrenHidden(this.get_$u_2())&&this.get_$u_2().hide();Mscrm.InlineEditControlCommonUtility.isElementAllChildrenHidden(this.get_$g_2())&&this.get_$g_2().hide();Mscrm.InlineEditControlCommonUtility.hideParentViewIfNoControlsVisible(this.get_parentSection())}Mscrm.InlineEditControlCommonUtility.updatePageControlsErrorDivMessage()},$8h_2:function(){this.$3L_2.get_iconElement().removeClass("ms-crm-Hidden")},$7I_2:function(){this.$3L_2.get_iconElement().addClass("ms-crm-Hidden")},$V_2:null,get_$u_2:function(){if(IsNull(this.$V_2)||!this.$V_2.length)this.$V_2=this.get_chromeElement().parents("td").first();return this.$V_2},$W_2:null,get_$g_2:function(){if(IsNull(this.$W_2)||!this.$W_2.length)this.$W_2=this.get_chromeElement().parents("tr").first();return this.$W_2},updateControlErrorDivMessage:function(){if(this.get_chromeBehavior().isErrorDivSet()){this.get_chromeBehavior().hideErrorDiv();this.isVisibleInTree()&&this.get_chromeBehavior().showErrorDiv()}},get_label:function(){var $v_0=this.get_layout().get_labelElement();if($v_0.length>0){var $v_1=$v_0.first().text();if(!IsNull($v_1))return $v_1.trim()}if(!IsNull(this.get_dataContext())&&!IsNull(this.get_dataContext().get_attribute())){if(!isNullOrEmptyString(this.get_dataContext().get_attribute().get_displayValue()))return this.get_dataContext().get_attribute().get_displayValue();return this.get_dataContext().get_attribute().get_logicalName()}return ""},set_label:function(value){var $v_0=this.get_layout().get_labelElement();if($v_0.length>0&&!IsNull(value))if($v_0.children().length>0){var $v_1=$v_0.find(String.format(".{0}","ms-crm-InlineEditLabelText"));$v_1.length>0&&$v_1.text(value)}else $v_0.first().text(value);return value},get_dataFieldName:function(){if(!IsNull(this.get_dataContext())&&!IsNull(this.get_dataContext().get_attribute()))return this.get_dataContext().get_attribute().get_logicalName();return null},set_dataFieldName:function(value){return value}};Mscrm.TextAreaHelper=function(){};Mscrm.TextAreaHelper.normalizeNewLine=function($p0){return Mscrm.InlineEditUtilities.normalizeNewLineForTextArea($p0)};Mscrm.TextAreaHelper.findTextArea=function($p0){var $v_0=$p0.children().first();return $v_0};Mscrm.InlineRelatedEntityLookupType=function(){};Mscrm.AttributeFormat=function(){};Mscrm.HtmlAttributeNames=function(){};Mscrm.EditEvents=function(){};Mscrm.CssClassNames=function(){};Mscrm.HtmlElementNames=function(){};Mscrm.ElementTemplate=function(){};Mscrm.InlineLookupUtility=function(){};Mscrm.InlineLookupUtility.$4w=function($p0){var $v_0;if($p0.get_isInlineMultiLookup())$v_0=$p0.Items(true,true,false,false,false);else $v_0=$p0.Items(false,false,false,false,false);return Mscrm.FormInputControl.LookupUIBehavior.itemsDifferent($v_0,$p0.get_defaultValue())};Mscrm.InlineLookupUtility.$8V=function($p0,$p1,$p2){var $v_0=parseInt($p1.type,10)===Mscrm.EntityTypeCode.UnresolvedEmailParty;if($v_0)if($p0===Mscrm.InlineEditControlMode.deactivated||$p2)$p1.category=LookupItemCategories.UNKNOWN_EMAIL;else $p1.category=LookupItemCategories.UNKNOWN};Mscrm.InlineLookupUtility.$3b=function($p0,$p1,$p2){return Mscrm.InlineLookupUtility.$4e($p0,$p1,$p2,"ms-crm-Inline-EditIcon")};Mscrm.InlineLookupUtility.$4e=function($p0,$p1,$p2,$p3){var $v_0=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create($p0));return String.format($p1,$p3,CrmEncodeDecode.CrmHtmlAttributeEncode($v_0.source),CrmEncodeDecode.CrmHtmlAttributeEncode($v_0.cssClass+" "+$p2))};Mscrm.InlineLookupUtility.$3j=function($p0){var $v_0=$P_CRM(XUI.Html.DomUtils.GetFirstChild($p0)),$v_1=$v_0.offset(),$v_2=$v_1.left,$v_3=$v_1.top,$v_4={};$v_4["x"]=$v_2;$v_4["y"]=$v_3;return $v_4};Mscrm.InlineLookupUtility.$3q=function($p0,$p1,$p2){if(!$p2.get_isEditControlInitialized())return;var $v_0=new Mscrm.ValidationResult(false,$p0,$p1);$p2.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0])};Mscrm.InlineLookupUtility.$7J=function($p0){var $v_0=new Mscrm.ValidationResult(true,null,null);$p0.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0])};Mscrm.InlineLookupUtility.$4u=function($p0){$p0.updateReadLookupHtml()};Mscrm.InlineLookupUtility.$4z=function($p0,$p1){return Mscrm.InlineLookupUtility.$3v($p0,$p1)};Mscrm.InlineLookupUtility.$3v=function($p0,$p1){if(!$p1.get_isEditControlInitialized())return true;var $v_0,$v_1=$p0.Items(false,true,false,false,false);if(IsNull($v_1)||!$v_1.length){$v_0=!$p0.hasUnresolvedText();$v_0&&$p1.tryUpdateValueElementText("")}else if($p0.get_isInlineMultiLookup()&&$p0.hasUnresolvedText())$v_0=false;else $v_0=!($v_1[$v_1.length-1].category===LookupItemCategories.UNKNOWN||$v_1[$v_1.length-1].category===LookupItemCategories.AMBIGUOUS);var $v_2=new Mscrm.ValidationResult($v_0,null);$v_2.isValid&&$p1.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_2]);return $v_2.isValid};Mscrm.InlineLookupUtility.$5Q=function($p0,$p1){if(!$p1.get_disableWarningsAndValidation()&&!$p0.isValid){if(!IsNull($p1.get_warningIcon()[0])){var $v_0=XUI.Html.DomUtils.GetFirstChild($p1.get_warningIcon()[0]);if(IsNull($p0.errorIconPath))$v_0.src="/_imgs/inlineedit/warning.png";else{$v_0.src=$p0.errorIconPath;$v_0.style.backgroundImage="none"}$p1.get_warningIcon().show()}}else!IsNull($p1.get_warningIcon()[0])&&$p1.get_warningIcon().hide()};Mscrm.InlineLookupUtility.$56=function($p0,$p1,$p2){var $v_0=$p1;if("multi"!==$v_0.get_viewModel().get_lookupStyle()){var $v_1="#"+$p0.currentTarget.parentNode.id,$v_2=$P_CRM($v_1).find($v_1+"_i");$v_2.attr("isdeduplookup")==="1"&&Mscrm.InlineLookupUtility.$5O($v_2,$p1);if(!$v_0.isElementInLookupValueLink($P_CRM($p0.target))||$v_0.isItemAmbiguous()){$p2.set_valueElementClicked(true);$v_2.attr("isdeduplookup")!=="1"&&Mscrm.InlineLookupUtility.$5O($v_2,$p1)}}else $p2.set_valueElementClicked(true)};Mscrm.InlineLookupUtility.$5O=function($p0,$p1){!IsNull($p0)&&$p1.get_controlMode()!==Mscrm.InlineEditControlMode.locked&&$p0.trigger("click")};Mscrm.InlineLookupUtility.$54=function($p0,$p1){if(!$p1.get_isEditControlInitialized())return;if($p0.type===Mscrm.StateChangeEvents.discard||$p0.type===Mscrm.StateChangeEvents.commit){var $v_0=new Mscrm.ValidationResult(true,null);$p1.get_editView().get_editElementWrapper().trigger(Mscrm.StateChangeEvents.validated,[$v_0])}};Mscrm.InlineLookupUtility.$51=function($p0){var $v_0=$p0.get_valueElement().find(".ms-crm-Lookup-Item");!IsNull($v_0)&&!IsNull($v_0.first())&&XUI.Html.DispatchDomEvent($v_0[0],XUI.Html.CreateDomEvent("click"))};Mscrm.InlineControlFactory=function(){};Mscrm.InlineControlFactory.$$cctor=function(){$P_CRM(window).bind("unload",Mscrm.InlineControlFactory.$57)};Mscrm.InlineControlFactory.$57=function($p0){$P_CRM(window).unbind("unload",Mscrm.InlineControlFactory.$57);Mscrm.InlineControlFactory.disposeAllControls()};Mscrm.InlineControlFactory.registerForDispose=function(view){Array.add(Mscrm.InlineControlFactory.$D,view)};Mscrm.InlineControlFactory.disposeAllControls=function(){for(var $v_0=0;$v_0<Mscrm.InlineControlFactory.$D.length;$v_0++)!IsNull(Mscrm.InlineControlFactory.$D[$v_0])&&Mscrm.InlineControlFactory.$D[$v_0].dispose&&Mscrm.InlineControlFactory.$D[$v_0].dispose();Array.clear(Mscrm.InlineControlFactory.$D);Mscrm.InlineControlFactory.$D=null};Mscrm.InlineControlFactory.createControl=function(containerElement,metadata,initialValue,initialControlMode){var $v_0=null,$v_1,$v_2,$v_3,$v_4=metadata,$v_5=metadata,$v_6=containerElement.attr(Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId),$v_7=metadata,$v_8=metadata;switch(metadata.AttributeType){case "ntext":var $$t_E,$$t_F,$$t_G,$$t_H;Mscrm.InlineControlFactory.$6E(containerElement,initialValue,initialControlMode,$v_4,$v_6,$$t_E={val:$v_2},$$t_F={val:$v_1},$$t_G={val:$v_3},$$t_H={val:$v_0}),$v_2=$$t_E.val,$v_1=$$t_F.val,$v_3=$$t_G.val,$v_0=$$t_H.val;break;case "nvarchar":case "uniqueidentifier":case "primarykey":var $$t_I,$$t_J,$$t_K,$$t_L;Mscrm.InlineControlFactory.$6H(containerElement,initialValue,initialControlMode,$v_4,$v_6,$$t_I={val:$v_2},$$t_J={val:$v_1},$$t_K={val:$v_3},$$t_L={val:$v_0}),$v_2=$$t_I.val,$v_1=$$t_J.val,$v_3=$$t_K.val,$v_0=$$t_L.val;break;case "lookup":case "owner":case "customer":var $$t_M,$$t_N,$$t_O,$$t_P;Mscrm.InlineControlFactory.$6D(containerElement,initialValue,initialControlMode,$v_8,$v_6,$$t_M={val:$v_2},$$t_N={val:$v_1},$$t_O={val:$v_3},$$t_P={val:$v_0}),$v_2=$$t_M.val,$v_1=$$t_N.val,$v_3=$$t_O.val,$v_0=$$t_P.val;break;case "partylist":var $$t_Q,$$t_R,$$t_S,$$t_T;Mscrm.InlineControlFactory.$6I(containerElement,initialValue,initialControlMode,$v_8,$v_6,$$t_Q={val:$v_2},$$t_R={val:$v_1},$$t_S={val:$v_3},$$t_T={val:$v_0}),$v_2=$$t_Q.val,$v_1=$$t_R.val,$v_3=$$t_S.val,$v_0=$$t_T.val;break;case "int":case "float":case "decimal":var $$t_U,$$t_V,$$t_W,$$t_X;Mscrm.InlineControlFactory.$6F(containerElement,metadata,initialValue,initialControlMode,$v_7,$v_5,$v_6,$$t_U={val:$v_2},$$t_V={val:$v_1},$$t_W={val:$v_3},$$t_X={val:$v_0}),$v_2=$$t_U.val,$v_1=$$t_V.val,$v_3=$$t_W.val,$v_0=$$t_X.val;break;case "picklist":case "state":var $$t_Y,$$t_Z,$$t_a,$$t_b;Mscrm.InlineControlFactory.$6J(containerElement,metadata,initialValue,initialControlMode,$v_5,$v_6,$$t_Y={val:$v_2},$$t_Z={val:$v_1},$$t_a={val:$v_3},$$t_b={val:$v_0}),$v_2=$$t_Y.val,$v_1=$$t_Z.val,$v_3=$$t_a.val,$v_0=$$t_b.val;break;case "status":var $$t_c,$$t_d,$$t_e,$$t_f;Mscrm.InlineControlFactory.$6K(containerElement,metadata,initialValue,initialControlMode,$v_6,$$t_c={val:$v_2},$$t_d={val:$v_1},$$t_e={val:$v_3},$$t_f={val:$v_0}),$v_2=$$t_c.val,$v_1=$$t_d.val,$v_3=$$t_e.val,$v_0=$$t_f.val;break;case "datetime":$v_1=new Mscrm.InlineDateTimeAttribute(metadata,initialValue,$v_6);$v_2=new Mscrm.InlineDateTimeControlViewModel($v_1,initialControlMode);$v_3=Mscrm.LayoutFactory.createLayout(containerElement,$v_2);$v_0=new Mscrm.InlineDateTimeControlView($v_3);$v_0.set_dataContext($v_2);break;case "money":$v_1=new Mscrm.InlineMoneyAttribute(metadata,initialValue,$v_6);$v_2=new Mscrm.InlineMoneyControlViewModel($v_1,initialControlMode);$v_3=Mscrm.LayoutFactory.createLayout(containerElement,$v_2);$v_0=new Mscrm.InlineMoneyControlView($v_3);$v_0.set_dataContext($v_2);break;case "bit":var $v_9=containerElement.attr(Mscrm.InlineEditConstants.IsInlineCheckBox);if(!isNullOrEmptyString($v_9)&&$v_9==="true"){$v_1=new Mscrm.InlineCheckBoxAttribute(metadata,initialValue,$v_6);$v_2=new Mscrm.InlineCheckBoxControlViewModel($v_1,Mscrm.InlineEditControlMode.alwaysEdit);$v_3=Mscrm.LayoutFactory.createLayout(containerElement,$v_2);$v_0=new Mscrm.InlineCheckBoxControlView($v_3);$v_0.set_dataContext($v_2);(initialControlMode===Mscrm.InlineEditControlMode.locked||initialControlMode===Mscrm.InlineEditControlMode.deactivated)&&$v_0.set_disabled(true)}else{var $$t_g,$$t_h,$$t_i,$$t_j;Mscrm.InlineControlFactory.$6Q(containerElement,initialValue,initialControlMode,$v_5,$v_6,$$t_g={val:$v_2},$$t_h={val:$v_1},$$t_i={val:$v_3},$$t_j={val:$v_0}),$v_2=$$t_g.val,$v_1=$$t_h.val,$v_3=$$t_i.val,$v_0=$$t_j.val}break}Array.add(Mscrm.InlineControlFactory.$D,$v_0);return $v_0};Mscrm.InlineControlFactory.createInlineLookupControlForDom=function(element,attributeName,entityName,attributeId,parentContainerId){var $v_0=Mscrm.InlineControlFactory.createInlineLookupControlForDomWithDisableState(element,attributeName,entityName,attributeId,false,parentContainerId);Array.add(Mscrm.InlineControlFactory.$D,$v_0);return $v_0};Mscrm.InlineControlFactory.createInlineLookupControlForDomWithDisableState=function(element,attributeName,entityName,attributeId,isDisabled,parentContainerId){var $v_0=Mscrm.InlineControlFactory.getLookupAttributeMetadataJson(attributeName,entityName,attributeId,isDisabled),$v_1=Mscrm.InlineControlFactory.initializeUnboundedField(element,$v_0,null,parentContainerId,Mscrm.InlineEditControlMode.alwaysEdit);Array.add(Mscrm.InlineControlFactory.$D,$v_1);return $v_1};Mscrm.InlineControlFactory.getLookupAttributeMetadataJson=function(attributeName,entityName,attributeId,isDisabled){var $v_0={};$v_0["oid"]="";$v_0["value"]="";$v_0["img"]="/_imgs/ico_16_1.gif";$v_0["otype"]=Mscrm.EntityPropUtil.EntityTypeName2CodeMap[entityName.toLowerCase()];$v_0["otypename"]=entityName;var $v_1={};$v_1.AttributeType="lookup";$v_1.LookupTypeNames=String.format("{0}:{1}:{2}",$v_0["otypename"],$v_0["otype"],$v_0["otypename"]);$v_1.CrmAttributeId=attributeId;$v_1.LogicalName=attributeName;$v_1.DefaultType=Mscrm.EntityPropUtil.EntityTypeName2CodeMap[entityName.toLowerCase()];$v_1.LookupTypes=$v_0["otype"].toString();$v_1.ReferencedEntities=[$v_0["otype"]];$v_1.LookupTypeIcons=$v_0["img"].toString();$v_1.RequiredLevel=0;$v_1.CanCreate=true;$v_1.CanRead=true;$v_1.CanUpdate=true;$v_1.Format="";$v_1.IsDisabled=isDisabled;$v_1.LookupBrowse=true;$v_1.LookupStyle="single";$v_1.CreatePermissionDictionary=entityName+":"+$v_1.CanCreate.toString();return $v_1};Mscrm.InlineControlFactory.createInlineTextAreaControlForDom=function(element,attributeName,maxLength,parentContainerId){var $v_0=Mscrm.InlineControlFactory.createInlineTextControlForDom(element,attributeName,maxLength,"ntext",null,parentContainerId,Mscrm.InlineEditControlMode.alwaysEdit);Array.add(Mscrm.InlineControlFactory.$D,$v_0);return $v_0};Mscrm.InlineControlFactory.createInlineTextBoxControlForDom=function(element,attributeName,maxLength,initialValues,parentContainerId,editMode){var $v_0=Mscrm.InlineControlFactory.createInlineTextControlForDom(element,attributeName,maxLength,"nvarchar",initialValues,parentContainerId,editMode);Array.add(Mscrm.InlineControlFactory.$D,$v_0);return $v_0};Mscrm.InlineControlFactory.createInlineTextControlForDom=function(element,attributeName,maxLength,attributeType,initialValues,parentContainerId,editMode){var $v_0={};$v_0.AttributeType=attributeType;$v_0.CanCreate=true;$v_0.CanRead=true;$v_0.CanUpdate=true;$v_0.Format="text";$v_0.LogicalName=attributeName;$v_0.MaxLength=maxLength;$v_0.RequiredLevel=Mscrm.AttributeRequiredLevel.none;var $v_1=Mscrm.InlineControlFactory.initializeUnboundedField(element,$v_0,initialValues,parentContainerId,editMode);Array.add(Mscrm.InlineControlFactory.$D,$v_1);return $v_1};Mscrm.InlineControlFactory.createInlineNumberControlForDom=function(element,attributeName,maxValue,minValue,precision,attributeType,initialValues,parentContainerId,editMode){var $v_0={};$v_0.AttributeType=attributeType;$v_0.CanCreate=true;$v_0.CanRead=true;$v_0.CanUpdate=true;$v_0.Format="none";$v_0.Precision=precision;$v_0.LogicalName=attributeName;$v_0.MaxValue=maxValue;$v_0.MinValue=minValue;$v_0.RequiredLevel=Mscrm.AttributeRequiredLevel.none;var $v_1=Mscrm.InlineControlFactory.initializeUnboundedField(element,$v_0,initialValues,parentContainerId,editMode);Array.add(Mscrm.InlineControlFactory.$D,$v_1);return $v_1};Mscrm.InlineControlFactory.createInlineMoneyControlForDom=function(element,attributeName,minValue,maxValue,precision,currencySymbol,parentContainerId,requiredLevel,labelValue){var $v_0={};$v_0.AttributeType="money";$v_0.CanCreate=true;$v_0.CanRead=true;$v_0.CanUpdate=true;$v_0.Format="none";$v_0.LogicalName=attributeName;$v_0.MinValue=minValue;$v_0.MaxValue=maxValue;$v_0.Precision=precision;$v_0.RequiredLevel=requiredLevel;$v_0.CurrencySymbol=currencySymbol;$v_0.IsBaseCurrency=true;$v_0.IsDisabled=false;$v_0.PrecisionSource=2;var $v_1={precision:precision.toString(),symbol:currencySymbol,value:0},$v_2=Mscrm.InlineControlFactory.initializeUnboundedField(element,$v_0,$v_1,parentContainerId,Mscrm.InlineEditControlMode.alwaysEdit);$v_2.get_dataContext().set_labelValue(labelValue);Array.add(Mscrm.InlineControlFactory.$D,$v_2);return $v_2};Mscrm.InlineControlFactory.createInlineDateTimeControlForDom=function(element,attributeName,attributeFormat,initialData,parentContainerId){var $v_0={};$v_0.AttributeType="datetime";$v_0.CanCreate=true;$v_0.CanRead=true;$v_0.CanUpdate=true;$v_0.Format=attributeFormat;$v_0.LogicalName=attributeName;$v_0.RequiredLevel=Mscrm.AttributeRequiredLevel.none;var $v_1=Mscrm.InlineControlFactory.initializeUnboundedField(element,$v_0,initialData,parentContainerId,Mscrm.InlineEditControlMode.alwaysEdit);Array.add(Mscrm.InlineControlFactory.$D,$v_1);return $v_1};Mscrm.InlineControlFactory.createInlinePicklistControlForDom=function(element,attributeName,options,parentContainerId){var $v_0=Mscrm.InlineControlFactory.createInlinePicklistControlForDomByControlMode(element,attributeName,options,parentContainerId,Mscrm.InlineEditControlMode.alwaysEdit,"");Array.add(Mscrm.InlineControlFactory.$D,$v_0);return $v_0};Mscrm.InlineControlFactory.createInlinePicklistControlForDomByControlMode=function(element,attributeName,options,parentContainerId,controlMode,initialValue){var $v_0={};$v_0.AttributeType="picklist";$v_0.CanCreate=true;$v_0.CanRead=true;$v_0.CanUpdate=true;$v_0.Options=options;$v_0.LogicalName=attributeName;$v_0.RequiredLevel=Mscrm.AttributeRequiredLevel.none;var $v_1=null;if(isNullOrEmptyString(initialValue)&&!IsNull(options)&&options.length>0)$v_1=Mscrm.InlineControlFactory.$4l(options[0].Value.toString());else $v_1=Mscrm.InlineControlFactory.$4l(initialValue);var $v_2=Mscrm.InlineControlFactory.initializeUnboundedField(element,$v_0,$v_1,parentContainerId,controlMode);Array.add(Mscrm.InlineControlFactory.$D,$v_2);return $v_2};Mscrm.InlineControlFactory.createInlineAutoCompletePicklistControlForDom=function(element,attributeName,options,defaultValue,parentContainerId,requirementLevel,editMode,dropDownLabel,fieldLabel){var $v_0={};$v_0.AttributeType="picklist";$v_0.CanCreate=true;$v_0.CanRead=true;$v_0.CanUpdate=true;$v_0.Options=options;$v_0.LogicalName=attributeName;$v_0.RequiredLevel=requirementLevel;var $v_1=null;if(!IsNull(defaultValue))$v_1={raw:defaultValue};Sys.Application.beginCreateComponents();var $v_2=new Mscrm.InlineOptionSetAttribute($v_0,$v_1,element.attr(Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId)),$v_3=new Mscrm.InlineAutoCompleteControlViewModel($v_2,editMode);$v_3.set_labelValue(fieldLabel);var $v_4=new Mscrm.AutoCompleteLayout(element,$v_3);$v_4.$1s_2=dropDownLabel;var $v_5=new Mscrm.InlineAutoCompleteControlView($v_4);$v_5.set_dataContext($v_3);$v_5.set_errorDisplayAreaProvider(new Mscrm.FlyoutDialogErrorDisplayContainerProvider(parentContainerId));$v_5.renderForRead();Sys.Application.endCreateComponents();var $v_6=$find($v_5.get_dataContext().get_attribute().get_dataAttributeId());$v_6.get_controls().add($v_5);$v_6.set_isVirtual(true);Array.add(Mscrm.InlineControlFactory.$D,$v_5);return $v_5};Mscrm.InlineControlFactory.$4l=function($p0){return {raw:$p0,defaultvalue:$p0}};Mscrm.InlineControlFactory.createInlineMultiplePicklistControlForDom=function(element,attributeName,options,defaultValues,parentContainerId,requirementLevel,editMode,fieldLabel){var $v_0={};$v_0.AttributeType="picklist";$v_0.CanCreate=true;$v_0.CanRead=true;$v_0.CanUpdate=true;$v_0.Options=options;$v_0.LogicalName=attributeName;$v_0.RequiredLevel=requirementLevel;var $v_1=null;if(!IsNull(options)&&options.length>0&&!IsNull(defaultValues))$v_1={raw:defaultValues};Sys.Application.beginCreateComponents();var $v_2=new Mscrm.InlineMultiplePicklistAttribute($v_0,$v_1,element.attr(Mscrm.InlineEditConstants.HtmlAttributeForFormDataEntityId)),$v_3=new Mscrm.InlineMultiplePicklistControlViewModel($v_2,editMode);$v_3.set_labelValue(fieldLabel);var $v_4=Mscrm.LayoutFactory.createLayout(element,$v_3),$v_5=new Mscrm.InlineMultiplePicklistControlView($v_4);$v_5.set_dataContext($v_3);$v_5.set_errorDisplayAreaProvider(new Mscrm.FlyoutDialogErrorDisplayContainerProvider(parentContainerId));$v_5.renderForRead();Sys.Application.endCreateComponents();Array.add(Mscrm.InlineControlFactory.$D,$v_5);return $v_5};Mscrm.InlineControlFactory.initializeUnboundedField=function(element,metadataJsonWrapper,initialValues,parentContainerId,editMode){Sys.Application.beginCreateComponents();var $v_0=Mscrm.InlineEditInitializerUtility.initializeForDomElement(element,metadataJsonWrapper,editMode,initialValues,new Mscrm.FlyoutDialogErrorDisplayContainerProvider(parentContainerId));Sys.Application.endCreateComponents();var $v_1=$find($v_0.get_dataContext().get_attribute().get_dataAttributeId());$v_1.set_isVirtual(true);Array.add(Mscrm.InlineControlFactory.$D,$v_0);return $v_0};Mscrm.InlineControlFactory.$6K=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8){var $v_0=null,$v_1=Mscrm.InlineControlFactory.$6m($p0),$v_2=Mscrm.InlineControlFactory.$6n($p0),$v_3=$p1;$v_0=Mscrm.InlineControlFactory.$6a($v_3,$v_1);if(!IsNull($p2)&&("value" in $p2&&IsNull($p2["value"]))&&$v_0.Options.length>0){var $v_4=$v_0.Options[0];$p2["value"]=$v_4.Label}if($v_2!==-1&&Mscrm.InternalUtilities.Utilities.enforceStateTransitions(Mscrm.XrmInternal.getEntityName($v_2))){$p6.val=new Mscrm.InlineStatusAttribute($v_0,$p2,$p4,$v_3);$p5.val=new Mscrm.InlineStatusControlViewModel($p6.val,$p3,$v_2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineStatusControlView($p7.val);$p8.val.set_dataContext($p5.val)}else{$p6.val=new Mscrm.InlineOptionSetAttribute($v_0,$p2,$p4);$p5.val=new Mscrm.InlineOptionSetControlViewModel($p6.val,$p3);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineOptionSetControlView($p7.val);$p8.val.set_dataContext($p5.val)}};Mscrm.InlineControlFactory.$6J=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8,$p9){var $v_0=null;switch($p1.AttributeType){case "state":$p3=Mscrm.InlineEditControlMode.deactivated;$v_0=$p4;break;default:var $v_1=Mscrm.InlineEditUtilities.getDefaultValue($p2);if(IsNull($p2)||$v_1==="-1")$v_0=Mscrm.InlineControlFactory.$1f($p4);else $v_0=$p4;break}if(!IsNull($p2)&&("value" in $p2&&IsNull($p2["value"]))&&$v_0.Options.length>0){var $v_2=$v_0.Options[0];$p2["value"]=$v_2.Label}$p7.val=new Mscrm.InlineOptionSetAttribute($v_0,$p2,$p5);$p6.val=new Mscrm.InlineOptionSetControlViewModel($p7.val,$p3);$p8.val=Mscrm.LayoutFactory.createLayout($p0,$p6.val);$p9.val=new Mscrm.InlineOptionSetControlView($p8.val);$p9.val.set_dataContext($p6.val)};Mscrm.InlineControlFactory.$6Q=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8){$p6.val=new Mscrm.InlineOptionSetAttribute($p3,$p1,$p4);var $v_0=Mscrm.InlineControlFactory.$8C($p0);switch($v_0){case 1:$p5.val=new Mscrm.InlineOptionSetControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineOptionSetControlView($p7.val);break;default:$p5.val=new Mscrm.InlineToggleControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineToggleControlView($p7.val);break}$p8.val.set_dataContext($p5.val)};Mscrm.InlineControlFactory.$6F=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8,$p9,$p10){switch($p1.Format){case "timezone":case "language":var $v_0=Mscrm.InlineControlFactory.$1f($p5);$p8.val=new Mscrm.InlineOptionSetAttribute($v_0,$p2,$p6);$p7.val=new Mscrm.InlineOptionSetControlViewModel($p8.val,$p3);$p9.val=Mscrm.LayoutFactory.createLayout($p0,$p7.val);$p10.val=new Mscrm.InlineOptionSetControlView($p9.val);break;case "duration":$p8.val=new Mscrm.InlineNumberAttribute($p4,$p2,$p6);$p7.val=new Mscrm.InlineDurationControlViewModel($p8.val,$p3);$p9.val=Mscrm.LayoutFactory.createLayout($p0,$p7.val);$p10.val=new Mscrm.InlineDurationControlView($p9.val);break;default:$p8.val=new Mscrm.InlineNumberAttribute($p4,$p2,$p6);$p7.val=new Mscrm.InlineNumberControlViewModel($p8.val,$p3);$p9.val=Mscrm.LayoutFactory.createLayout($p0,$p7.val);$p10.val=new Mscrm.InlineNumberControlView($p9.val);break}$p10.val.set_dataContext($p7.val)};Mscrm.InlineControlFactory.$6D=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8){var $v_0=$p0.attr(Mscrm.InlineEditConstants.HtmlAttributeForRelatedEntityLookupType);if($p3.LookupStyle==="subject"){$p6.val=new Mscrm.InlineLookupAttribute($p3,$p1,$p4);$p5.val=new Mscrm.InlineSubjectLookupControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineSubjectLookupControlView($p7.val)}else if($p3.IsTransactionCurrencyLookup){$p6.val=new Mscrm.InlineLookupAttribute($p3,$p1,$p4);$p5.val=new Mscrm.InlineTransactionCurrencyLookupControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineTransactionCurrencyLookupControlView($p7.val)}else if(!isNullOrEmptyString($v_0))switch($v_0){case "relatedcaseslookup":$p6.val=new Mscrm.InlineRelatedCasesLookupAttribute($p3,$p1,$p4);$p5.val=new Mscrm.InlineRelatedCasesLookupControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineRelatedCasesLookupControlView($p7.val);break;default:$p6.val=new Mscrm.InlineLookupAttribute($p3,$p1,$p4);$p5.val=new Mscrm.InlineLookupControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineLookupControlView($p7.val);break}else{$p6.val=new Mscrm.InlineLookupAttribute($p3,$p1,$p4);$p5.val=new Mscrm.InlineLookupControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineLookupControlView($p7.val)}$p8.val.set_dataContext($p5.val)};Mscrm.InlineControlFactory.$6I=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8){$p6.val=new Mscrm.InlineLookupAttribute($p3,$p1,$p4);$p5.val=new Mscrm.InlinePartyListControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineLookupControlView($p7.val);$p8.val.set_dataContext($p5.val)};Mscrm.InlineControlFactory.checkIfComposite=function(containerElement){var $v_0=containerElement.attr(Mscrm.InlineEditConstants.HtmlAttributeForHasCompositeData);if($v_0)if($v_0==="true")return true;return false};Mscrm.InlineControlFactory.$6O=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8){$p6.val=new Mscrm.InlineTextAttribute($p3,$p1,$p4);$p6.val.set_isCompositeAttributeValueSet(Mscrm.InlineControlFactory.checkIfComposite($p0));$p5.val=new Mscrm.InlineTextAreaControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineTextAreaControlView($p7.val);$p8.val.set_dataContext($p5.val)};Mscrm.InlineControlFactory.$4a=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8){var $v_0=$p2===Mscrm.InlineEditControlMode.locked||$p2===Mscrm.InlineEditControlMode.deactivated?$p2:Mscrm.InlineEditControlMode.alwaysEdit;$p6.val=new Mscrm.InlineEmailBodyAttribute($p3,$p1,$p4);$p6.val.set_isCompositeAttributeValueSet(Mscrm.InlineControlFactory.checkIfComposite($p0));$p5.val=new Mscrm.InlineEmailBodyControlViewModel($p6.val,$v_0);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineEmailBodyControlView($p7.val);$p8.val.set_dataContext($p5.val)};Mscrm.InlineControlFactory.$6E=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8){switch($p3.Format){case "emailbody":Mscrm.InlineControlFactory.$4a($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8);break;default:Mscrm.InlineControlFactory.$6O($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8);break}};Mscrm.InlineControlFactory.$6H=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8){switch($p3.Format){case "email":$p6.val=new Mscrm.InlineTextAttribute($p3,$p1,$p4);$p5.val=new Mscrm.InlineEmailAddressControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineEmailAddressControlView($p7.val);break;case "url":$p6.val=new Mscrm.InlineTextAttribute($p3,$p1,$p4);$p5.val=new Mscrm.InlineUrlControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineUrlControlView($p7.val);break;case "tickersymbol":$p6.val=new Mscrm.InlineTextAttribute($p3,$p1,$p4);$p5.val=new Mscrm.InlineTickerControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineTickerControlView($p7.val);break;case "phone":$p6.val=new Mscrm.InlineTextAttribute($p3,$p1,$p4);$p5.val=new Mscrm.InlinePhoneNumberControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlinePhoneNumberControlView($p7.val);break;case "textarea":$p6.val=new Mscrm.InlineTextAttribute($p3,$p1,$p4);$p6.val.set_isCompositeAttributeValueSet(Mscrm.InlineControlFactory.checkIfComposite($p0));$p5.val=new Mscrm.InlineTextAreaControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineTextAreaControlView($p7.val);break;case "emailbody":Mscrm.InlineControlFactory.$4a($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8);break;default:$p6.val=new Mscrm.InlineTextAttribute($p3,$p1,$p4);$p6.val.set_isCompositeAttributeValueSet(Mscrm.InlineControlFactory.checkIfComposite($p0));$p5.val=new Mscrm.InlineTextBoxControlViewModel($p6.val,$p2);$p7.val=Mscrm.LayoutFactory.createLayout($p0,$p5.val);$p8.val=new Mscrm.InlineTextBoxControlView($p7.val);break}$p8.val.set_dataContext($p5.val)};Mscrm.InlineControlFactory.$6m=function($p0){var $v_0=Mscrm.InlineEditUtilities.getLinkedDataObject($p0)["statecode"];if(!IsNull($v_0))return parseInt(Mscrm.InlineEditUtilities.getRawValue($v_0,true).toString());return -1};Mscrm.InlineControlFactory.$6n=function($p0){var $v_0=Mscrm.InlineEditUtilities.getLinkedDataObject($p0)["statuscode"];if(!IsNull($v_0))return parseInt(Mscrm.InlineEditUtilities.getRawValue($v_0,true).toString());return -1};Mscrm.InlineControlFactory.$6a=function($p0,$p1){var $v_0=new Array(0),$v_1=[];Array.addRange($v_1,$p0.DefaultStateOptions);!Array.contains($v_1,$p1)&&Array.add($v_1,$p1);for(var $v_3=0;$v_3<$v_1.length;++$v_3)for(var $$arr_5=$p0.Options,$$len_6=$$arr_5.length,$$idx_7=0;$$idx_7<$$len_6;++$$idx_7){var $v_4=$$arr_5[$$idx_7];if($v_4.State===$v_1[$v_3]){var $v_5=new Mscrm.EnumOptionJsonWrapper;$v_5.Value=$v_4.Value;$v_5.Label=$v_4.Label;$v_0[$v_0.length]=$v_5}}var $v_2={};$v_2.Options=$v_0;$v_2.LogicalName=$p0.LogicalName;$v_2.AttributeType=$p0.AttributeType;$v_2.Format=$p0.Format;$v_2.RequiredLevel=$p0.RequiredLevel;$v_2.CanCreate=$p0.CanCreate;$v_2.CanRead=$p0.CanRead;$v_2.CanUpdate=$p0.CanUpdate;return $v_2};Mscrm.InlineControlFactory.$1f=function($p0){if(!IsNull($p0.Options[0])&&$p0.Options[0].Value!==-1){var $v_0=$p0.Options,$v_1=new Mscrm.EnumOptionJsonWrapper;$v_1.Label="";$v_1.Value=-1;Array.insert($v_0,0,$v_1)}return $p0};Mscrm.InlineControlFactory.$8C=function($p0){var $v_0=$p0.attr(Mscrm.InlineEditConstants.HtmlAttributeForPicklistType);return parseInt($v_0)};Mscrm.SelectOptionsGenerator=function(){};Mscrm.SelectOptionsGenerator.generateForTimeControl=function(positionMidnightLast){for(var $v_0=null,$v_1=new Array(0),$v_2=0;$v_2<24;$v_2++)for(var $v_3=0;$v_3<60;$v_3+=30){var $v_4=new Date(2012,7,24,$v_2,$v_3,0),$v_5=timeToString($v_4,0);if(positionMidnightLast&&!$v_2&&!$v_3)$v_0=$v_5;else Mscrm.SelectOptionsGenerator.$4Q($v_1,$v_5)}positionMidnightLast&&Mscrm.SelectOptionsGenerator.$4Q($v_1,$v_0);return $v_1};Mscrm.SelectOptionsGenerator.$4Q=function($p0,$p1){Array.add($p0,$p1)};Mscrm.EnumOptionJsonWrapper.registerClass("Mscrm.EnumOptionJsonWrapper");Mscrm.StatusOptionJsonWrapper.registerClass("Mscrm.StatusOptionJsonWrapper");Mscrm.LeadFlyOutJsonWrapper.registerClass("Mscrm.LeadFlyOutJsonWrapper");Mscrm.OpportunityFlyOutJsonWrapper.registerClass("Mscrm.OpportunityFlyOutJsonWrapper");Mscrm.AccountFlyOutJsonWrapper.registerClass("Mscrm.AccountFlyOutJsonWrapper");Mscrm.ContactFlyOutJsonWrapper.registerClass("Mscrm.ContactFlyOutJsonWrapper");Mscrm.InlineEditChromeBehavior.registerClass("Mscrm.InlineEditChromeBehavior",Mscrm.InlineEditChromeBehaviorBase.$$(Mscrm.SimpleInlineControlView));Mscrm.HeaderTileChromeBehavior.registerClass("Mscrm.HeaderTileChromeBehavior",Mscrm.InlineEditChromeBehavior);Mscrm.HeaderTileLookupChromeBehavior.registerClass("Mscrm.HeaderTileLookupChromeBehavior",Mscrm.HeaderTileChromeBehavior);Mscrm.HeaderTileToggleChromeBehavior.registerClass("Mscrm.HeaderTileToggleChromeBehavior",Mscrm.HeaderTileChromeBehavior);Mscrm.InlineCheckBoxControlBehavior.registerClass("Mscrm.InlineCheckBoxControlBehavior",Mscrm.FormInputControl.CheckBoxInputBehavior);Mscrm.InlineDateTimeBehavior.registerClass("Mscrm.InlineDateTimeBehavior",Mscrm.FormInputControl.DateTimeBehavior);Mscrm.InlineDateTimeImage.registerClass("Mscrm.InlineDateTimeImage",Mscrm.FormInputControl.DateTimeImage);Mscrm.InlineDurationBehavior.registerClass("Mscrm.InlineDurationBehavior",Mscrm.FormInputControl.Duration);Mscrm.InlineEditCheckBoxChromeBehavior.registerClass("Mscrm.InlineEditCheckBoxChromeBehavior",Mscrm.InlineEditChromeBehavior);Mscrm.InlineEditableSelectBehavior.registerClass("Mscrm.InlineEditableSelectBehavior",Mscrm.EditableSelectControl);Mscrm.InlineEditLookupChromeBehavior.registerClass("Mscrm.InlineEditLookupChromeBehavior",Mscrm.InlineEditChromeBehavior);Mscrm.InlineEditTextAreaChromeBehavior.registerClass("Mscrm.InlineEditTextAreaChromeBehavior",Mscrm.InlineEditChromeBehavior);Mscrm.InlineEditToggleChromeBehavior.registerClass("Mscrm.InlineEditToggleChromeBehavior",Mscrm.InlineEditChromeBehavior);Mscrm.InlineEmailAddressBehavior.registerClass("Mscrm.InlineEmailAddressBehavior",Mscrm.FormInputControl.EmailAddressInputBehavior);Mscrm.InlineEmailBodyControlBehavior.registerClass("Mscrm.InlineEmailBodyControlBehavior",Mscrm.FormInputControl.EmailBodyInputBehavior);Mscrm.InlineEmailBodyChromeBehavior.registerClass("Mscrm.InlineEmailBodyChromeBehavior",Mscrm.InlineEditChromeBehavior);Mscrm.InlineFormDataControl.registerClass("Mscrm.InlineFormDataControl",Mscrm.FormDataControl);Mscrm.InlineEmailBodyFormDataControl.registerClass("Mscrm.InlineEmailBodyFormDataControl",Mscrm.EmailBodyControl);Mscrm.InlineImageLookupTransactionCurrency.registerClass("Mscrm.InlineImageLookupTransactionCurrency",Mscrm.FormInputControl.ImageLookupTransactionCurrency);Mscrm.InlineLookupFormDataControl.registerClass("Mscrm.InlineLookupFormDataControl",Mscrm.InlineFormDataControl);Mscrm.InlineMoneyBehavior.registerClass("Mscrm.InlineMoneyBehavior",Mscrm.FormInputControl.MoneyInputBehavior);Mscrm.InlineMoneyFormDataControl.registerClass("Mscrm.InlineMoneyFormDataControl",Mscrm.InlineFormDataControl);Mscrm.InlineMultiplePicklistBehavior.registerClass("Mscrm.InlineMultiplePicklistBehavior",Mscrm.FormControlInputBehavior);Mscrm.InlineNumberBehavior.registerClass("Mscrm.InlineNumberBehavior",Mscrm.FormInputControl.NumberInputBehavior);Mscrm.InlineOptionSetBehavior.registerClass("Mscrm.InlineOptionSetBehavior",Mscrm.FormInputControl.SelectInputBehavior);Mscrm.InlinePresenceLookupUIBehavior.registerClass("Mscrm.InlinePresenceLookupUIBehavior",Mscrm.FormInputControl.PresenceLookupUIBehavior);Mscrm.TabTypeHelper.registerClass("Mscrm.TabTypeHelper");Mscrm.InlineTextBoxBehavior.registerClass("Mscrm.InlineTextBoxBehavior",Mscrm.FormInputControl.TextInputBehaviorBase);Mscrm.InlineTextAreaBehavior.registerClass("Mscrm.InlineTextAreaBehavior",Mscrm.InlineTextBoxBehavior);Mscrm.InlineTickerBehavior.registerClass("Mscrm.InlineTickerBehavior",Mscrm.FormInputControl.TickerInputBehavior);Mscrm.InlineUrlBehavior.registerClass("Mscrm.InlineUrlBehavior",Mscrm.FormInputControl.UrlInputBehavior);Mscrm.InlineSubjectLookupUIBehavior.registerClass("Mscrm.InlineSubjectLookupUIBehavior",Mscrm.FormInputControl.LookupUIBehavior);Mscrm.QuickFormControlMode.registerClass("Mscrm.QuickFormControlMode");Mscrm.WellKnownQuickFormIds.registerClass("Mscrm.WellKnownQuickFormIds");Mscrm.QuickFormBehavior.registerClass("Mscrm.QuickFormBehavior",Mscrm.CrmUIBehavior);Mscrm.QuickFormCollectionBehavior.registerClass("Mscrm.QuickFormCollectionBehavior",Mscrm.CrmUIBehavior);Mscrm.InlinePhoneNumberBehavior.registerClass("Mscrm.InlinePhoneNumberBehavior",Mscrm.FormInputControl.TextInputBehaviorBase);Mscrm.InlineRelatedCasesLookupBehavior.registerClass("Mscrm.InlineRelatedCasesLookupBehavior",Mscrm.FormInputControl.LookupUIBehavior);Mscrm.InlinePartyListBehavior.registerClass("Mscrm.InlinePartyListBehavior",Mscrm.InlinePresenceLookupUIBehavior);Mscrm.InlineFlyOutDialog.registerClass("Mscrm.InlineFlyOutDialog",Mscrm.FlyOutDialog);Mscrm.ErrorDisplayContainerProviderFactory.registerClass("Mscrm.ErrorDisplayContainerProviderFactory");Mscrm.ErrorDisplayContainerProviderBase.registerClass("Mscrm.ErrorDisplayContainerProviderBase",null,Mscrm.IErrorDisplayContainerProvider);Mscrm.FlyoutDialogErrorDisplayContainerProvider.registerClass("Mscrm.FlyoutDialogErrorDisplayContainerProvider",Mscrm.ErrorDisplayContainerProviderBase);Mscrm.FormErrorDisplayContainerProvider.registerClass("Mscrm.FormErrorDisplayContainerProvider",Mscrm.ErrorDisplayContainerProviderBase);Mscrm.MobileErrorDisplayContainerProvider.registerClass("Mscrm.MobileErrorDisplayContainerProvider",Mscrm.ErrorDisplayContainerProviderBase);Mscrm.DefaultErrorDisplayContainerProvider.registerClass("Mscrm.DefaultErrorDisplayContainerProvider",Mscrm.ErrorDisplayContainerProviderBase);Mscrm.ErrorFlyout.registerClass("Mscrm.ErrorFlyout",null,Sys.IDisposable);Mscrm.InlineEditDropDownFlyOut.registerClass("Mscrm.InlineEditDropDownFlyOut",Mscrm.CrmUIControl);Mscrm.FlyOutMenu.registerClass("Mscrm.FlyOutMenu");Mscrm.FlyOutMenuDescriptor.registerClass("Mscrm.FlyOutMenuDescriptor");Mscrm.MenuListItemDescriptor.registerClass("Mscrm.MenuListItemDescriptor");Mscrm.MenuSectionDescriptor.registerClass("Mscrm.MenuSectionDescriptor");Mscrm.QuickAddFlyOut.registerClass("Mscrm.QuickAddFlyOut",Mscrm.CrmUIControl);Mscrm.SwitchProcessFlyOut.registerClass("Mscrm.SwitchProcessFlyOut");Mscrm.DeferredInlineEditOnDemandInitializer.registerClass("Mscrm.DeferredInlineEditOnDemandInitializer");Mscrm.InlineEditInitializerBase.registerClass("Mscrm.InlineEditInitializerBase",null,Mscrm.IInlineEditInitializer);Mscrm.DeferredQuickFormInlineEditInitializer.registerClass("Mscrm.DeferredQuickFormInlineEditInitializer",Mscrm.InlineEditInitializerBase);Mscrm.InlineEditInitializationManager.registerClass("Mscrm.InlineEditInitializationManager");Mscrm.DesktopInlineEditInitializationManager.registerClass("Mscrm.DesktopInlineEditInitializationManager",Mscrm.InlineEditInitializationManager);Mscrm.DomElementInlineEditInitializer.registerClass("Mscrm.DomElementInlineEditInitializer",Mscrm.InlineEditInitializerBase);Mscrm.InitializationState.registerClass("Mscrm.InitializationState");Mscrm.InlineEditControlInitializersFactory.registerClass("Mscrm.InlineEditControlInitializersFactory");Mscrm.InlineEditPartialInitializationEventArgs.registerClass("Mscrm.InlineEditPartialInitializationEventArgs",Sys.EventArgs);Mscrm.MobileInlineEditInitializationManager.registerClass("Mscrm.MobileInlineEditInitializationManager",Mscrm.InlineEditInitializationManager);Mscrm.InlineEditInitializerUtility.registerClass("Mscrm.InlineEditInitializerUtility");Mscrm.MobileFirstControlInlineEditControlInitializer.registerClass("Mscrm.MobileFirstControlInlineEditControlInitializer",Mscrm.InlineEditInitializerBase);Mscrm.MobileInlineEditControlInitializersFactory.registerClass("Mscrm.MobileInlineEditControlInitializersFactory");Mscrm.NonViewportFormBodyInlineEditInitializer.registerClass("Mscrm.NonViewportFormBodyInlineEditInitializer",Mscrm.InlineEditInitializerBase);Mscrm.MobileNonViewportInlineEditControlInitializer.registerClass("Mscrm.MobileNonViewportInlineEditControlInitializer",Mscrm.NonViewportFormBodyInlineEditInitializer);Mscrm.ViewportInlineEditControlInitializer.registerClass("Mscrm.ViewportInlineEditControlInitializer",Mscrm.InlineEditInitializerBase);Mscrm.MobileViewportInlineEditControlInitializer.registerClass("Mscrm.MobileViewportInlineEditControlInitializer",Mscrm.ViewportInlineEditControlInitializer);Mscrm.QuickFormCollectionInitializer.registerClass("Mscrm.QuickFormCollectionInitializer");Mscrm.QuickFormInitializer.registerClass("Mscrm.QuickFormInitializer");Mscrm.QuickFormInlineEditDomHelper.registerClass("Mscrm.QuickFormInlineEditDomHelper");Mscrm.InlineEditControlBaseLayout.registerClass("Mscrm.InlineEditControlBaseLayout",Mscrm.BaseLayout,Mscrm.IInlineControlLayout,Mscrm.IInlineLayout);Mscrm.CheckBoxLayout.registerClass("Mscrm.CheckBoxLayout",Mscrm.InlineEditControlBaseLayout);Mscrm.EmailBodyLayout.registerClass("Mscrm.EmailBodyLayout",Mscrm.InlineEditControlBaseLayout);Mscrm.FlyOutDialogLayout.registerClass("Mscrm.FlyOutDialogLayout",Mscrm.InlineEditControlBaseLayout);Mscrm.FlyOutDialogLookupLayout.registerClass("Mscrm.FlyOutDialogLookupLayout",Mscrm.FlyOutDialogLayout);Mscrm.FlyOutDialogTextAreaLayout.registerClass("Mscrm.FlyOutDialogTextAreaLayout",Mscrm.FlyOutDialogLayout);Mscrm.HeaderTileLayout.registerClass("Mscrm.HeaderTileLayout",Mscrm.InlineEditControlBaseLayout);Mscrm.HeaderTileDateTimeLayout.registerClass("Mscrm.HeaderTileDateTimeLayout",Mscrm.HeaderTileLayout);Mscrm.HeaderTileLookupLayout.registerClass("Mscrm.HeaderTileLookupLayout",Mscrm.HeaderTileLayout);Mscrm.HeaderTileOptionSetLayout.registerClass("Mscrm.HeaderTileOptionSetLayout",Mscrm.HeaderTileLayout);Mscrm.HeaderTileToggleLayout.registerClass("Mscrm.HeaderTileToggleLayout",Mscrm.HeaderTileLayout);Mscrm.LayoutFactory.registerClass("Mscrm.LayoutFactory");Mscrm.LookupLayout.registerClass("Mscrm.LookupLayout",Mscrm.InlineEditControlBaseLayout);Mscrm.ProcessConfigurationTextBoxLayout.registerClass("Mscrm.ProcessConfigurationTextBoxLayout",Mscrm.InlineEditControlBaseLayout);Mscrm.SalesProcessLayout.registerClass("Mscrm.SalesProcessLayout",Mscrm.InlineEditControlBaseLayout);Mscrm.SalesProcessLookupLayout.registerClass("Mscrm.SalesProcessLookupLayout",Mscrm.SalesProcessLayout);Mscrm.SalesProcessOptionSetLayout.registerClass("Mscrm.SalesProcessOptionSetLayout",Mscrm.SalesProcessLayout);Mscrm.SalesProcessTextAreaLayout.registerClass("Mscrm.SalesProcessTextAreaLayout",Mscrm.SalesProcessLayout);Mscrm.SalesProcessToggleLayout.registerClass("Mscrm.SalesProcessToggleLayout",Mscrm.SalesProcessLayout);Mscrm.TextAreaLayout.registerClass("Mscrm.TextAreaLayout",Mscrm.InlineEditControlBaseLayout);Mscrm.ToggleLayout.registerClass("Mscrm.ToggleLayout",Mscrm.InlineEditControlBaseLayout);Mscrm.AutoCompleteLayout.registerClass("Mscrm.AutoCompleteLayout",Mscrm.InlineEditControlBaseLayout);Mscrm.InlineAttributeBase.registerClass("Mscrm.InlineAttributeBase",null,Mscrm.IInlineAttribute,Mscrm.IInlineAttributeEvent);Mscrm.InlineCheckBoxAttribute.registerClass("Mscrm.InlineCheckBoxAttribute",Mscrm.InlineAttributeBase);Mscrm.InlineDateTimeAttribute.registerClass("Mscrm.InlineDateTimeAttribute",Mscrm.InlineAttributeBase);Mscrm.InlineEmailBodyAttribute.registerClass("Mscrm.InlineEmailBodyAttribute",Mscrm.InlineAttributeBase);Mscrm.InlineLookupAttribute.registerClass("Mscrm.InlineLookupAttribute",Mscrm.InlineAttributeBase);Mscrm.InlineNumberAttribute.registerClass("Mscrm.InlineNumberAttribute",Mscrm.InlineAttributeBase);Mscrm.InlineMoneyAttribute.registerClass("Mscrm.InlineMoneyAttribute",Mscrm.InlineNumberAttribute);Mscrm.InlineMultiplePicklistAttribute.registerClass("Mscrm.InlineMultiplePicklistAttribute",Mscrm.InlineAttributeBase);Mscrm.InlineOptionSetAttribute.registerClass("Mscrm.InlineOptionSetAttribute",Mscrm.InlineAttributeBase);Mscrm.InlineStatusAttribute.registerClass("Mscrm.InlineStatusAttribute",Mscrm.InlineOptionSetAttribute);Mscrm.InlineTextAttribute.registerClass("Mscrm.InlineTextAttribute",Mscrm.InlineAttributeBase);Mscrm.InlineRelatedCasesLookupAttribute.registerClass("Mscrm.InlineRelatedCasesLookupAttribute",Mscrm.InlineLookupAttribute);Mscrm.InlineEditControlCommonUtility.registerClass("Mscrm.InlineEditControlCommonUtility");Mscrm.InlineControlViewModelBase.registerClass("Mscrm.InlineControlViewModelBase",null,Mscrm.IInlineControlViewModel);Mscrm.InlineCheckBoxControlViewModel.registerClass("Mscrm.InlineCheckBoxControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineDateTimeControlViewModel.registerClass("Mscrm.InlineDateTimeControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineNumberControlViewModel.registerClass("Mscrm.InlineNumberControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineDurationControlViewModel.registerClass("Mscrm.InlineDurationControlViewModel",Mscrm.InlineNumberControlViewModel);Mscrm.InlineEmailAddressControlViewModel.registerClass("Mscrm.InlineEmailAddressControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineEmailBodyControlViewModel.registerClass("Mscrm.InlineEmailBodyControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineLookupControlViewModel.registerClass("Mscrm.InlineLookupControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineMoneyControlViewModel.registerClass("Mscrm.InlineMoneyControlViewModel",Mscrm.InlineNumberControlViewModel);Mscrm.InlineMultiplePicklistControlViewModel.registerClass("Mscrm.InlineMultiplePicklistControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineOptionSetControlViewModel.registerClass("Mscrm.InlineOptionSetControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineStatusControlViewModel.registerClass("Mscrm.InlineStatusControlViewModel",Mscrm.InlineOptionSetControlViewModel);Mscrm.InlineTextBoxControlViewModel.registerClass("Mscrm.InlineTextBoxControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineTextAreaControlViewModel.registerClass("Mscrm.InlineTextAreaControlViewModel",Mscrm.InlineTextBoxControlViewModel);Mscrm.InlineTickerControlViewModel.registerClass("Mscrm.InlineTickerControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineToggleControlViewModel.registerClass("Mscrm.InlineToggleControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineUrlControlViewModel.registerClass("Mscrm.InlineUrlControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlinePhoneNumberControlViewModel.registerClass("Mscrm.InlinePhoneNumberControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineSubjectLookupControlViewModel.registerClass("Mscrm.InlineSubjectLookupControlViewModel",Mscrm.InlineLookupControlViewModel);Mscrm.InlineRelatedCasesLookupControlViewModel.registerClass("Mscrm.InlineRelatedCasesLookupControlViewModel",Mscrm.InlineLookupControlViewModel);Mscrm.InlineTransactionCurrencyLookupControlViewModel.registerClass("Mscrm.InlineTransactionCurrencyLookupControlViewModel",Mscrm.InlineLookupControlViewModel);Mscrm.InlinePartyListControlViewModel.registerClass("Mscrm.InlinePartyListControlViewModel",Mscrm.InlineLookupControlViewModel);Mscrm.InlineAutoCompleteControlViewModel.registerClass("Mscrm.InlineAutoCompleteControlViewModel",Mscrm.InlineControlViewModelBase);Mscrm.InlineControlEditViewBase.registerClass("Mscrm.InlineControlEditViewBase",Mscrm.InlineEditViewBase,Mscrm.IInlineEditControlView,Mscrm.IInlineEditView,Sys.IDisposable);Mscrm.SimpleInlineControlEditView.registerClass("Mscrm.SimpleInlineControlEditView",Mscrm.InlineControlEditViewBase);Mscrm.CheckBoxControlEditView.registerClass("Mscrm.CheckBoxControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.DateTimeControlEditView.registerClass("Mscrm.DateTimeControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.DurationControlEditView.registerClass("Mscrm.DurationControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.EmailAddressControlEditView.registerClass("Mscrm.EmailAddressControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.EmailBodyControlEditView.registerClass("Mscrm.EmailBodyControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.LookupControlEditView.registerClass("Mscrm.LookupControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.MoneyControlEditView.registerClass("Mscrm.MoneyControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.MultiplePicklistControlEditView.registerClass("Mscrm.MultiplePicklistControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.NumberControlEditView.registerClass("Mscrm.NumberControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.OptionSetControlEditView.registerClass("Mscrm.OptionSetControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.PhoneNumberControlEditView.registerClass("Mscrm.PhoneNumberControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.RelatedCasesLookupControlEditView.registerClass("Mscrm.RelatedCasesLookupControlEditView",Mscrm.LookupControlEditView);Mscrm.SubjectLookupControlEditView.registerClass("Mscrm.SubjectLookupControlEditView",Mscrm.LookupControlEditView);Mscrm.TextAreaControlEditView.registerClass("Mscrm.TextAreaControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.TextBoxControlEditView.registerClass("Mscrm.TextBoxControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.TickerControlEditView.registerClass("Mscrm.TickerControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.ToggleControlEditView.registerClass("Mscrm.ToggleControlEditView",Mscrm.OptionSetControlEditView);Mscrm.TransactionCurrencyLookupControlEditView.registerClass("Mscrm.TransactionCurrencyLookupControlEditView",Mscrm.LookupControlEditView);Mscrm.UrlControlEditView.registerClass("Mscrm.UrlControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.AutoCompleteControlEditView.registerClass("Mscrm.AutoCompleteControlEditView",Mscrm.SimpleInlineControlEditView);Mscrm.EditableSelectHelper.registerClass("Mscrm.EditableSelectHelper");Mscrm.EditableSelectOption.registerClass("Mscrm.EditableSelectOption");Mscrm.InlineControlViewBase.registerClass("Mscrm.InlineControlViewBase",Mscrm.InlineViewBase,Mscrm.IInlineControlView,Mscrm.IClientApiCollectionItem,Mscrm.IUIControl,Mscrm.IInlineView,Sys.IDisposable,Mscrm.IInlineSectionChildControlView);Mscrm.SimpleInlineControlView.registerClass("Mscrm.SimpleInlineControlView",Mscrm.InlineControlViewBase,Mscrm.IFormUIControl);Mscrm.InlineAutoCompleteControlView.registerClass("Mscrm.InlineAutoCompleteControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineCheckBoxControlView.registerClass("Mscrm.InlineCheckBoxControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineDateTimeControlView.registerClass("Mscrm.InlineDateTimeControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineDurationControlView.registerClass("Mscrm.InlineDurationControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineEmailAddressControlView.registerClass("Mscrm.InlineEmailAddressControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineEmailBodyControlView.registerClass("Mscrm.InlineEmailBodyControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineIFrameControlView.registerClass("Mscrm.InlineIFrameControlView",null,Xrm.Interfaces.IFormControl,Xrm.Interfaces.IFormControlBase,Mscrm.IClientApiCollectionItem,Xrm.Interfaces.IFormControlIFrame,Xrm.Interfaces.IFormControlWebResource,Mscrm.IInlineSectionChildControlView);Mscrm.InlineLookupControlView.registerClass("Mscrm.InlineLookupControlView",Mscrm.SimpleInlineControlView,Mscrm.ILookupControlView);Mscrm.InlineMoneyControlView.registerClass("Mscrm.InlineMoneyControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineMultiplePicklistControlView.registerClass("Mscrm.InlineMultiplePicklistControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineNumberControlView.registerClass("Mscrm.InlineNumberControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineOptionSetControlView.registerClass("Mscrm.InlineOptionSetControlView",Mscrm.SimpleInlineControlView);Mscrm.InlinePhoneNumberControlView.registerClass("Mscrm.InlinePhoneNumberControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineRelatedCasesLookupControlView.registerClass("Mscrm.InlineRelatedCasesLookupControlView",Mscrm.InlineLookupControlView);Mscrm.InlineSubGridControlView.registerClass("Mscrm.InlineSubGridControlView",null,Xrm.Interfaces.IFormControl,Xrm.Interfaces.IFormControlBase,Mscrm.IClientApiCollectionItem,Xrm.Interfaces.IFormControlSubGrid,Mscrm.IInlineSectionChildControlView);Mscrm.InlineSectionControlView.registerClass("Mscrm.InlineSectionControlView",null,Xrm.Interfaces.ITabSection,Mscrm.IClientApiCollectionItem);Mscrm.InlineSubjectLookupControlView.registerClass("Mscrm.InlineSubjectLookupControlView",Mscrm.InlineLookupControlView);Mscrm.InlineStatusControlView.registerClass("Mscrm.InlineStatusControlView",Mscrm.InlineOptionSetControlView);Mscrm.InlineTabControlView.registerClass("Mscrm.InlineTabControlView",null,Mscrm.IClientApiCollectionItem,Xrm.Interfaces.IFormTab,Xrm.Interfaces.IFormControlBase);Mscrm.InlineTextAreaControlView.registerClass("Mscrm.InlineTextAreaControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineTextBoxControlView.registerClass("Mscrm.InlineTextBoxControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineTickerControlView.registerClass("Mscrm.InlineTickerControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineTimerControlViewBase.registerClass("Mscrm.InlineTimerControlViewBase",null,Xrm.Interfaces.IFormControl,Xrm.Interfaces.IFormControlBase,Mscrm.IClientApiCollectionItem,Mscrm.IInlineSectionChildControlView,Sys.IDisposable);Mscrm.InlineTimerControlInProgressView.registerClass("Mscrm.InlineTimerControlInProgressView",Mscrm.InlineTimerControlViewBase);Mscrm.InlineTimerControlViolatedView.registerClass("Mscrm.InlineTimerControlViolatedView",Mscrm.InlineTimerControlViewBase);Mscrm.InlineTimerControlNotSetView.registerClass("Mscrm.InlineTimerControlNotSetView",Mscrm.InlineTimerControlViewBase);Mscrm.InlineTimerControlNoPrivilegeView.registerClass("Mscrm.InlineTimerControlNoPrivilegeView",Mscrm.InlineTimerControlViewBase);Mscrm.InlineTimerControlCanceledView.registerClass("Mscrm.InlineTimerControlCanceledView",Mscrm.InlineTimerControlViewBase);Mscrm.InlineTimerControlSuccessView.registerClass("Mscrm.InlineTimerControlSuccessView",Mscrm.InlineTimerControlViewBase);Mscrm.InlineTimerControlFailureView.registerClass("Mscrm.InlineTimerControlFailureView",Mscrm.InlineTimerControlViewBase);Mscrm.InlineTimerControlWarningView.registerClass("Mscrm.InlineTimerControlWarningView",Mscrm.InlineTimerControlInProgressView);Mscrm.InlineToggleControlView.registerClass("Mscrm.InlineToggleControlView",Mscrm.InlineOptionSetControlView);Mscrm.InlineTransactionCurrencyLookupControlView.registerClass("Mscrm.InlineTransactionCurrencyLookupControlView",Mscrm.InlineLookupControlView);Mscrm.InlineUrlControlView.registerClass("Mscrm.InlineUrlControlView",Mscrm.SimpleInlineControlView);Mscrm.InlineWebResourceControlView.registerClass("Mscrm.InlineWebResourceControlView",null,Xrm.Interfaces.IFormControl,Xrm.Interfaces.IFormControlBase,Mscrm.IClientApiCollectionItem,Xrm.Interfaces.IFormControlWebResource);Mscrm.LookupItemView.registerClass("Mscrm.LookupItemView",null,Mscrm.ILookupItemView);Mscrm.TextAreaHelper.registerClass("Mscrm.TextAreaHelper");Mscrm.InlineRelatedEntityLookupType.registerClass("Mscrm.InlineRelatedEntityLookupType");Mscrm.AttributeFormat.registerClass("Mscrm.AttributeFormat");Mscrm.HtmlAttributeNames.registerClass("Mscrm.HtmlAttributeNames");Mscrm.EditEvents.registerClass("Mscrm.EditEvents");Mscrm.CssClassNames.registerClass("Mscrm.CssClassNames");Mscrm.HtmlElementNames.registerClass("Mscrm.HtmlElementNames");Mscrm.ElementTemplate.registerClass("Mscrm.ElementTemplate");Mscrm.InlineLookupUtility.registerClass("Mscrm.InlineLookupUtility");Mscrm.InlineControlFactory.registerClass("Mscrm.InlineControlFactory");Mscrm.SelectOptionsGenerator.registerClass("Mscrm.SelectOptionsGenerator");Mscrm.HeaderTileChromeBehavior.$3Z=-1;Mscrm.TabTypeHelper.$1E=false;Mscrm.TabTypeHelper.$1e="";Mscrm.QuickFormControlMode.read="Read";Mscrm.QuickFormControlMode.edit="Edit";Mscrm.QuickFormControlMode.create="Create";Mscrm.WellKnownQuickFormIds.accountCard="b028db32-3619-48a5-ac51-cf3f947b0ef3";Mscrm.WellKnownQuickFormIds.contactCard="707fc57b-c5e6-471b-a180-e37ed28a38e2";Mscrm.QuickFormBehavior.$20={};Mscrm.QuickFormCollectionBehavior.$2b={};Mscrm.InlineEditDropDownFlyOut.$3a=null;Mscrm.DeferredInlineEditOnDemandInitializer.$N=null;Mscrm.InitializationState.executing="Executing";Mscrm.InitializationState.completed="Completed";Mscrm.InlineEditInitializationManager.initializationCompletedEventName="InitializationCompleted";Mscrm.InlineEditInitializationManager.partialInitializationCompletedEventName="PartialInitializationCompleted";Mscrm.InlineEditInitializationManager.viewportInitializationCompletedEventName="ViewportInitializationCompleted";Mscrm.InlineEditInitializationManager.$N=null;Mscrm.QuickFormInlineEditDomHelper.$N=null;Mscrm.InlineEditControlBaseLayout.maskElementTemplate='<div class="{0}"></div>';Mscrm.InlineEditControlBaseLayout.editIconElementTemplate='<div class="{0}"><img src="{1}" class="{2}" alt=""/></div>';Mscrm.InlineEditControlBaseLayout.requiredLevelElementTemplate='<img src="{0}" class="{1}" alt="{2}"/>';Mscrm.InlineControlViewModelBase.controlModePropertyName="ControlMode";Mscrm.InlineControlViewModelBase.editValuePropertyName="EditValue";Mscrm.InlineControlViewModelBase.labelValuePropertyName="LabelValue";Mscrm.InlineControlViewModelBase.defaultEditValuePropertyName="DefaultEditValue";Mscrm.InlineControlViewModelBase.emptyValuePlaceholderPropertyName="EmptyValuePlaceholder";Mscrm.InlineMoneyControlViewModel.currencySymbolPropertyName="CurrencySymbol";Mscrm.InlineNumberControlViewModel.precisionPropertyName="Precision";Mscrm.DurationControlEditView.durationControlSuffix="Select";Mscrm.MoneyControlEditView.tableElementIdSuffix="_table";Mscrm.EditableSelectHelper.selectDropDownIdSuffix="selectPopup";Mscrm.EditableSelectHelper.inputIdSuffix="Input";Mscrm.InlineTimerControlViewBase.dayLowerLimit=0;Mscrm.InlineTimerControlViewBase.hoursLowerLimit=0;Mscrm.InlineTimerControlViewBase.minutesLowerLimit=0;Mscrm.InlineTimerControlViewBase.secondsLowerLimit=0;Mscrm.InlineTimerControlViewBase.hoursUpperLimit=23;Mscrm.InlineTimerControlViewBase.minutesUpperLimit=59;Mscrm.InlineTimerControlViewBase.secondsUpperLimit=59;Mscrm.InlineTimerControlViolatedView.violatedImagePath="/_imgs/TimerControl/timer_expired_16.png";Mscrm.InlineTimerControlNoPrivilegeView.noPrivilegeImagePath="/_imgs/error/notif_icn_crit16.png";Mscrm.InlineTimerControlSuccessView.succeededImagePath="/_imgs/TimerControl/timer_success_16.png";Mscrm.InlineTimerControlFailureView.failureImagePath="/_imgs/TimerControl/timer_expired_16.png";Mscrm.InlineTimerControlWarningView.warningImagePath="/_imgs/TimerControl/timer_nearing_expiration_16.png";Mscrm.LookupItemView.resolvedStyle="display: inline-block;";Mscrm.LookupItemView.unresolvedStyle="display: inline-block; text-decoration:none; color:#FF0000;";Mscrm.InlineRelatedEntityLookupType.relatedCasesLookup="relatedcaseslookup";Mscrm.AttributeFormat.date="date";Mscrm.AttributeFormat.datetime="datetime";Mscrm.AttributeFormat.duration="duration";Mscrm.AttributeFormat.email="email";Mscrm.AttributeFormat.emailBody="emailbody";Mscrm.AttributeFormat.language="language";Mscrm.AttributeFormat.none="none";Mscrm.AttributeFormat.text="text";Mscrm.AttributeFormat.tickersymbol="tickersymbol";Mscrm.AttributeFormat.timezone="timezone";Mscrm.AttributeFormat.url="url";Mscrm.AttributeFormat.phone="phone";Mscrm.AttributeFormat.textarea="textarea";Mscrm.HtmlAttributeNames.altText="alt";Mscrm.HtmlAttributeNames.attributeLogicalName="attrName";Mscrm.HtmlAttributeNames.defaultSelected="defaultSelected";Mscrm.HtmlAttributeNames.defaultValue="defaultValue";Mscrm.HtmlAttributeNames.id="id";Mscrm.HtmlAttributeNames.nameAttribute="name";Mscrm.HtmlAttributeNames.maxLength="maxLength";Mscrm.HtmlAttributeNames.privilegeMask="attrPriv";Mscrm.HtmlAttributeNames.requiredLevel="req";Mscrm.HtmlAttributeNames.tabIndex="tabindex";Mscrm.HtmlAttributeNames.type="type";Mscrm.HtmlAttributeNames.min="min";Mscrm.HtmlAttributeNames.max="max";Mscrm.HtmlAttributeNames.accuracy="acc";Mscrm.HtmlAttributeNames.dataType="dt";Mscrm.HtmlAttributeNames.href="href";Mscrm.HtmlAttributeNames.format="format";Mscrm.HtmlAttributeNames.dir="dir";Mscrm.HtmlAttributeNames.ariaDescribedBy="aria-describedby";Mscrm.HtmlAttributeNames.ariaLabeledBy="aria-labelledby";Mscrm.HtmlAttributeNames.ariaInvalid="aria-invalid";Mscrm.HtmlAttributeNames.role="role";Mscrm.HtmlAttributeNames.title="title";Mscrm.EditEvents.attributeChanged="attribute-changed";Mscrm.CssClassNames.dynamicGutter="ms-crm-Inline-DynamicGutter";Mscrm.CssClassNames.processStepLabelMask="processStepLabelMask";Mscrm.CssClassNames.processStep="processStep";Mscrm.CssClassNames.completedProcessStep="completedStep";Mscrm.CssClassNames.processStepLabel="processStepLabel";Mscrm.CssClassNames.inlineNumber="ms-crm-Inline-Number";Mscrm.CssClassNames.inlineCheckBox="ms-crm-Inline-CheckBox";Mscrm.CssClassNames.inlineRequiredLevel="ms-crm-Inline-RequiredLevel";Mscrm.CssClassNames.inlineRecommendedLevel="ms-crm-Inline-RecommendedLevel";Mscrm.CssClassNames.gradientMask="ms-crm-Inline-GradientMask";Mscrm.CssClassNames.editIcon="ms-crm-Inline-EditIcon";Mscrm.CssClassNames.inlineEditLabel="ms-crm-InlineEditLabel";Mscrm.CssClassNames.inlineEditLabelText="ms-crm-InlineEditLabelText";Mscrm.CssClassNames.editing="inEdit";Mscrm.CssClassNames.noScroll="noScroll";Mscrm.CssClassNames.inlineTextAreaContainer="inlineTextAreaContainer";Mscrm.CssClassNames.inlineOptionSet="ms-crm-Inline-OptionSet";Mscrm.CssClassNames.inlineOptionSetAutoOpen="ms-crm-Inline-OptionSet-AutoOpen";Mscrm.CssClassNames.inlineCurrency="ms-crm-Inline-Currency";Mscrm.CssClassNames.inlineLookup="ms-crm-Inline-Lookup";Mscrm.CssClassNames.lockedMode="ms-crm-Inline-Locked";Mscrm.CssClassNames.hasError="ms-crm-Inline-HasError";Mscrm.CssClassNames.headerTileLabel="ms-crm-HeaderTileLabel";Mscrm.CssClassNames.headerTile="ms-crm-HeaderTile";Mscrm.CssClassNames.headerTileElement="ms-crm-HeaderTileElement";Mscrm.CssClassNames.formBreadCrumb="ms-crm-Form-Breadcrumb";Mscrm.CssClassNames.absolutePosition="ms-crm-absolutePosition";Mscrm.CssClassNames.formTitleData="ms-crm-Form-Title-Data";Mscrm.CssClassNames.formTitleLabel="ms-crm-Form-Title-Label";Mscrm.CssClassNames.fieldDataPrint="ms-crm-Field-Data-Print";Mscrm.CssClassNames.floatLeadingEdge="ms-crm-float-leadingedge";Mscrm.CssClassNames.crmHidden="ms-crm-Hidden";Mscrm.CssClassNames.hiddenNoBehavior="ms-crm-Hidden-NoBehavior";Mscrm.CssClassNames.selectBox="ms-crm-SelectBox";Mscrm.CssClassNames.emptyValue="ms-crm-Inline-EmptyValue";Mscrm.CssClassNames.chromeElement="ms-crm-Inline-Chrome";Mscrm.CssClassNames.valueElement="ms-crm-Inline-Value";Mscrm.CssClassNames.editElement="ms-crm-Inline-Edit";Mscrm.CssClassNames.valueElementEmailBody="ms-crm-Inline-Value-email-body";Mscrm.CssClassNames.editElementEmailBody="ms-crm-Inline-Edit-email-body";Mscrm.CssClassNames.valueElementEmailBodyBorder="ms-crm-Inline-Value-email-border";Mscrm.CssClassNames.hyperLink="ms-crm-Email-Address";Mscrm.CssClassNames.crmInput="ms-crm-Input";Mscrm.CssClassNames.inlineInput="ms-crm-InlineInput";Mscrm.CssClassNames.gridUrlLink="ms-crm-gridurl";Mscrm.CssClassNames.validationElement="ms-crm-Inline-Validation";Mscrm.CssClassNames.warningIcon="ms-crm-Inline-WarningIcon";Mscrm.CssClassNames.lockIcon="ms-crm-Inline-LockIcon";Mscrm.CssClassNames.editHintState="ms-crm-Inline-EditHintState";Mscrm.CssClassNames.editState="ms-crm-Inline-EditState";Mscrm.CssClassNames.flyOutDialog="ui-flyout-dialog";Mscrm.CssClassNames.errorArrowIcon="ms-crm-Inline-ErrorArrowIcon";Mscrm.CssClassNames.dateTime="ms-crm-DateTime";Mscrm.CssClassNames.duration="ms-crm-Duration";Mscrm.CssClassNames.money="ms-crm-Money";Mscrm.CssClassNames.moneySymbolRefresh="ms-crm-CurrencySymbol-Refresh";Mscrm.CssClassNames.moneyTableRefresh="ms-crm-CurrencyTable-Refresh";Mscrm.CssClassNames.inlineDateTime="ms-crm-InlineDateTime";Mscrm.CssClassNames.inlineDateTimeIconCell="ms-crm-InlineDateTime-IconCell";Mscrm.CssClassNames.inlineDateTimeHiddenCell="ms-crm-InlineDateTime-HiddenCell";Mscrm.CssClassNames.inlineDateTimeIcon="ms-crm-InlineDateTime-Icon";Mscrm.CssClassNames.inlineDateTimeTimeCell="ms-crm-InlineDateTime-TimeCell";Mscrm.CssClassNames.inlineDuration="ms-crm-InlineDuration";Mscrm.CssClassNames.inlineDurationInputTable="ms-crm-InlineDuration-InputTable";Mscrm.CssClassNames.inlineDurationIcon="ms-crm-InlineDuration-Icon";Mscrm.CssClassNames.inlineDurationIconCell="ms-crm-InlineDuration-IconCell";Mscrm.CssClassNames.inlineLabelIconSpan="ms-crm-label-icon";Mscrm.CssClassNames.inputContainer="ms-crm-Input-Container";Mscrm.CssClassNames.inputDateTimeContainer="ms-crm-DateTime-Container";Mscrm.CssClassNames.inputDateTimeContainerInput="ms-crm-DateTime-Container-Input";Mscrm.CssClassNames.selectInputContainer="ms-crm-Select-Input-Container";Mscrm.CssClassNames.editableSelectButtonOff="select_htc_img_selectOff";Mscrm.CssClassNames.inlineLookupValueLink="ms-crm-Lookup-Item";Mscrm.CssClassNames.flyoutSelectButton="li-selectedflyoutbutton";Mscrm.CssClassNames.hideByZeroHeight="ms-crm-Inline-HideByZeroHeight";Mscrm.CssClassNames.hideByZeroHeightIE7="ms-crm-Inline-HideByZeroHeight-Ie7";Mscrm.CssClassNames.formCommonDummy="ms-crm-Form-Common-Dummy";Mscrm.CssClassNames.toggleClickState="ms-crm-Inline-toggleclickState";Mscrm.CssClassNames.phoneNumberControl="ms-crm-Phone";Mscrm.CssClassNames.inlineEditableSelect="ms-crm-inlineEditableSelect";Mscrm.CssClassNames.customerCardName="ms-crm-CustomerCard-Name";Mscrm.CssClassNames.customerCardNameAnchor="ms-CustomerCard-Name-Anchor";Mscrm.CssClassNames.inlineMultiplePicklist="ms-crm-InlineMultiPicklist";Mscrm.CssClassNames.inlineMultiplePicklistCheckBox="ms-crm-InlineMultiPicklist-Checkbox";Mscrm.CssClassNames.selectedMultipleCheckBoxItem="ms-crm-selectedmultiboxitem";Mscrm.HtmlElementNames.div="div";Mscrm.HtmlElementNames.listItem="li";Mscrm.HtmlElementNames.unorderedList="ul";Mscrm.HtmlElementNames.orderedList="ol";Mscrm.HtmlElementNames.select="select";Mscrm.HtmlElementNames.option="option";Mscrm.HtmlElementNames.input="input";Mscrm.HtmlElementNames.image="img";Mscrm.HtmlElementNames.span="span";Mscrm.HtmlElementNames.noBR="nobr";Mscrm.HtmlElementNames.textArea="textarea";Mscrm.HtmlElementNames.anchor="a";Mscrm.HtmlElementNames.label="label";Mscrm.HtmlElementNames.table="table";Mscrm.HtmlElementNames.tableColumn="col";Mscrm.HtmlElementNames.tableColumnGroup="colgroup";Mscrm.HtmlElementNames.tableRow="tr";Mscrm.HtmlElementNames.tableCell="td";Mscrm.ElementTemplate.div="<div></div>";Mscrm.ElementTemplate.lineBreak="<br />";Mscrm.ElementTemplate.listItem="<li></li>";Mscrm.ElementTemplate.select="<select></select>";Mscrm.ElementTemplate.option="<option></option>";Mscrm.ElementTemplate.input="<input></input>";Mscrm.ElementTemplate.image="<img></img>";Mscrm.ElementTemplate.span="<span></span>";Mscrm.ElementTemplate.noBR="<nobr></nobr>";Mscrm.ElementTemplate.textArea="<textarea></textarea>";Mscrm.ElementTemplate.anchor="<a></a>";Mscrm.ElementTemplate.label="<label></label>";Mscrm.ElementTemplate.tableNoSpacingPadding='<table cellspacing="0" cellpadding="0"></table>';Mscrm.ElementTemplate.tableColumn="<col></col>";Mscrm.ElementTemplate.tableColumnGroup="<colgroup></colgroup>";Mscrm.ElementTemplate.tableRow="<tr></tr>";Mscrm.ElementTemplate.tableCell="<td></td>";Mscrm.ElementTemplate.button='<button type="button"></button>';Mscrm.InlineControlFactory.$D=[];Mscrm.InlineControlFactory.$$cctor()