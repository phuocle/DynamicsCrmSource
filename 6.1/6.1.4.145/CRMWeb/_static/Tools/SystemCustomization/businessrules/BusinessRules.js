Type.registerNamespace("Mscrm");Mscrm.BusinessRuleErrorFlyout=function(contentContainer){this.$1t_0=contentContainer};Mscrm.BusinessRuleErrorFlyout.prototype={$57_0:function(){var $v_0=new Mscrm.FlyOutDialog;$v_0.setContent(this.$5D_0());$v_0.get_options().set_showTitlePane(true);$v_0.get_options().set_title("");$v_0.get_options().set_width(400);$v_0.get_options().set_height(200);$v_0.set_position(Mscrm.FlyOutPosition.bottom);$v_0.get_options().set_showButtonPane(true);$v_0.get_options().set_showCloseButton(true);$v_0.get_options().set_modal(true);$v_0.get_options().set_letjQueryHandleTabbing(true);$v_0.get_options().set_hideWithClickOnOverlay(false);$v_0.get_options().set_applyAnchorClassChange(false);$v_0.get_options().set_closeOnEscape(true);return $v_0},$5E_0:function($p0,$p1){var $v_0=$P_CRM("#PblErrorElementId");$v_0.html(CrmEncodeDecode.CrmHtmlEncode($p1));var $v_1=$p0.find("div.ui-dialog-buttonpane button");$v_1[0].id="pbleditor-errorok";XUI.Html.DomUtils.GetFirstChild($v_1[0]).innerHTML=window.LOCID_PBLDIALOG_OK;$v_1[0].title=window.LOCID_PBLDIALOG_OK;$v_1[1].style.display="none"},$5D_0:function(){var $v_0=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/erroricon.png")),$v_1=String.format("\r\n\t\t\t<div>\r\n\t\t\t\t<div class='pbleditor-dialog-content'>\r\n\t\t\t\t\t<div class='pbleditor-dialog-icon' title='{0}'><img src='{1}' class='{2}'></img></div>\r\n\t\t\t\t\t<div class='pbleditor-dialog-area'>\r\n\t\t\t\t\t\t<div class='pbleditor-dialog-heading pbleditor-dialog-headingAttribute'>{0}</div>\r\n\t\t\t\t\t\t<div class='pbleditor-dialog-detail pbleditor-dialog-detailAttribute' id='{3}'>{4}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>",CrmEncodeDecode.CrmHtmlAttributeEncode(window.LOCID_PBLERROR_TITLE),CrmEncodeDecode.CrmHtmlAttributeEncode($v_0.source),CrmEncodeDecode.CrmHtmlAttributeEncode($v_0.cssClass),CrmEncodeDecode.CrmHtmlAttributeEncode("PblErrorElementId"),CrmEncodeDecode.CrmHtmlEncode(""),CrmEncodeDecode.CrmHtmlEncode(window.LOCID_PBLERROR_TITLE)),$v_2=$P_CRM($v_1);return $v_2},show:function(errorMessage){if(!this.$w_0)this.$w_0=this.$57_0();var $v_0=this.$w_0.dialogChrome(),$v_1=this.$1t_0.outerHeight(),$v_2=Math.min($v_1,200);this.$w_0.get_options().set_height($v_2);this.$w_0.show(this.$1t_0);$v_0.css("top","50%");$v_0.css("left","50%");$v_0.css("margin-top","-"+($v_2/2).toString()+"px");$v_0.css("margin-left","-200px");this.$5E_0($v_0,errorMessage)},$1t_0:null,$w_0:null};Mscrm.BusinessRuleConfirmFlyout=function($p0,$p1,$p2){this.$1t_0=$p0;this.$3V_0=$p1;this.$3R_0=$p2};Mscrm.BusinessRuleConfirmFlyout.prototype={$57_0:function($p0,$p1){var $v_0=new Mscrm.FlyOutDialog;$v_0.setContent(this.$5D_0($p0,$p1));$v_0.get_options().set_showTitlePane(true);$v_0.get_options().set_title("");$v_0.get_options().set_width(396);$v_0.get_options().set_height(198);$v_0.set_position(Mscrm.FlyOutPosition.bottom);$v_0.get_options().set_showButtonPane(true);$v_0.get_options().set_modal(true);$v_0.get_options().set_letjQueryHandleTabbing(true);$v_0.get_options().set_hideWithClickOnOverlay(false);$v_0.get_options().set_applyAnchorClassChange(false);$v_0.get_options().set_showCloseButton(true);$v_0.get_options().set_closeOnEscape(true);var $$t_5=this;$v_0.bind(Mscrm.FlyOutDialogEventName.confirmed,function($p1_0){$$t_5.$3V_0&&$$t_5.$3V_0($p1_0)});var $$t_6=this;$v_0.bind(Mscrm.FlyOutDialogEventName.canceled,function($p1_0){$$t_6.$3R_0&&$$t_6.$3R_0($p1_0)});return $v_0},$5E_0:function($p0,$p1){var $v_0=$P_CRM("#PblConfirmElementId");$v_0.html(CrmEncodeDecode.CrmHtmlEncode($p1));var $v_1=$p0.find("div.ui-dialog-buttonpane button");$v_1[0].id="pbleditor-confirm-ok";XUI.Html.DomUtils.GetFirstChild($v_1[0]).innerHTML=window.LOCID_PBLDIALOG_OK;$v_1[0].title=window.LOCID_PBLDIALOG_OK;$v_1[1].id="pbleditor-confirm-cancel";XUI.Html.DomUtils.GetFirstChild($v_1[1]).innerHTML=window.LOCID_PBLDIALOG_CANCEL;$v_1[1].title=window.LOCID_PBLDIALOG_CANCEL},$5D_0:function($p0,$p1){var $v_0=String.format("\r\n\t\t\t<div>\r\n\t\t\t\t<div class='pbleditor-dialog-content'>\r\n\t\t\t\t\t<div class='pbleditor-dialog-area'>\r\n\t\t\t\t\t\t<div class='pbleditor-dialog-heading'>{0}</div>\r\n\t\t\t\t\t\t<div class='pbleditor-dialog-body'>{1}</div>\r\n\t\t\t\t\t\t<div class='pbleditor-dialog-detail' id='{2}'>{3}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>",CrmEncodeDecode.CrmHtmlEncode($p0),CrmEncodeDecode.CrmHtmlEncode($p1),CrmEncodeDecode.CrmHtmlAttributeEncode("PblConfirmElementId"),CrmEncodeDecode.CrmHtmlEncode("")),$v_1=$P_CRM($v_0);return $v_1},show:function($p0,$p1,$p2){if(!this.$w_0)this.$w_0=this.$57_0($p0,$p1);var $v_0=this.$w_0.dialogChrome(),$v_1=this.$1t_0.outerHeight(),$v_2=Math.min($v_1,198);this.$w_0.get_options().set_height($v_2);this.$w_0.show(this.$1t_0);$v_0.css("top","50%");$v_0.css("left","50%");$v_0.css("margin-top","-"+($v_2/2).toString()+"px");$v_0.css("margin-left","-198px");this.$5E_0($v_0,$p2)},$1t_0:null,$w_0:null,$3V_0:null,$3R_0:null};Mscrm.MaskPanel=function(){this.$$d_$5W_0=Function.createDelegate(this,this.$5W_0);this.$$d_$6K_0=Function.createDelegate(this,this.$6K_0);this.$$d_$5f_0=Function.createDelegate(this,this.$5f_0);this.$4c_0=$P_CRM("body")};Mscrm.MaskPanel.get_instance=function(){if(!Mscrm.MaskPanel.$37)Mscrm.MaskPanel.$37=new Mscrm.MaskPanel;return Mscrm.MaskPanel.$37};Mscrm.MaskPanel.prototype={showMaskPanel:function($p0){if(IsNull($p0))return;this.$p_0=$p0;$P_CRM(window).keydown(this.$$d_$5f_0);this.$5V_0(this.$p_0.get_editElementWrapper());this.$48_0()},$48_0:function(){var $v_0=this.$p_0.get_editElementWrapper().offset(),$v_1=this.$p_0.get_editElementWrapper().outerHeight(false),$v_2=this.get_$3N_0().scrollTop(),$v_3=0,$$t_8=this;this.get_$3N_0().children().not(".maskPanel").each(function($p1_0,$p1_1){$v_3+=$P_CRM($p1_1).height()});var $v_4=this.get_$5r_0().outerHeight(false),$v_5=$v_0.top-$v_4+$v_2;if(!this.$k_0||!this.$o_0||!this.$d_0){this.$k_0=$P_CRM(Mscrm.MaskPanel.$36);this.$k_0.attr("id","headerMaskPanel");this.$k_0.css("top","0px");this.$k_0.css("height",$v_4+"px");this.$k_0.click(this.$$d_$6K_0);this.$o_0=$P_CRM(Mscrm.MaskPanel.$36);this.$o_0.attr("id","upMaskPanel");this.$o_0.css("top","0px");this.$o_0.css("height",$v_5+"px");this.$o_0.click(this.$$d_$6K_0);this.$d_0=$P_CRM(Mscrm.MaskPanel.$36);this.$d_0.attr("id","downMaskPanel");this.$d_0.css("top",$v_5+$v_1+"px");this.$d_0.css("height",$v_3-($v_5+$v_1)+"px");this.$d_0.click(this.$$d_$6K_0);this.$4c_0.prepend(this.$k_0);this.get_$3N_0().prepend(this.$o_0);this.get_$3N_0().prepend(this.$d_0)}else{this.$k_0.css("height",$v_4+"px");this.$k_0.unbind("click");this.$k_0.click(this.$$d_$6K_0);this.$o_0.css("height",$v_5+"px");this.$o_0.unbind("click");this.$o_0.click(this.$$d_$6K_0);this.$d_0.css("top",$v_5+$v_1+"px");this.$d_0.css("height",$v_3-($v_5+$v_1)+"px");this.$d_0.unbind("click");this.$d_0.click(this.$$d_$6K_0);this.$k_0.show();this.$o_0.show();this.$d_0.show()}this.$1z_0=true},hideMaskPanel:function(){if(!this.$p_0)return;$P_CRM(window).unbind(Mscrm.EventNames.keyDown,this.$$d_$5f_0);this.$6d_0(this.$p_0.get_editElementWrapper());this.$p_0=null;this.$k_0.hide();this.$o_0.hide();this.$d_0.hide();this.$1z_0=false},$5f_0:function($p0){if($p0.which===9){var $v_0=$P_CRM(":focus",this.$p_0.get_chromeElement());if(IsNull($v_0)||!$v_0.length){this.$p_0.setFocus();$p0.preventDefault()}}},get_isDisplayed:function(){return this.$1z_0},blinkEditViewElement:function(){var $v_0=this.$54_0();if(!$v_0.length||!this.$1z_0)return;$v_0.addClass("blink");window.setTimeout(this.$$d_$5W_0,50)},$6K_0:function($p0){this.blinkEditViewElement()},$5W_0:function(){var $v_0=this.$54_0();$v_0.removeClass("blink")},$54_0:function(){var $v_0=$P_CRM(".editexpressionandtoolbarcontainer",this.$p_0.get_editElementWrapper());if(!$v_0.length)$v_0=$P_CRM(".editstepandtoolbarcontainer",this.$p_0.get_editElementWrapper());return $v_0},$5V_0:function($p0){$P_CRM(".resize-sensor",$p0).remove();var $v_0=$P_CRM(Mscrm.MaskPanel.$4f);if($p0.css("position")==="static"){$p0.css("position","relative");$v_0.data("ResetPosition",true)}$p0.append($v_0);this.$49_0($p0,$v_0);this.$4s_0($p0,$v_0,true);this.$4s_0($p0,$v_0,false)},$4s_0:function($p0,$p1,$p2){if($p2){var $v_0=$p1.children(".resize-expand"),$$t_7=this;$v_0.bind("scroll",function($p1_0){($p0.outerWidth(false)>$$t_7.$3j_0||$p0.outerHeight(false)>$$t_7.$3i_0)&&$$t_7.$48_0();$$t_7.$49_0($p0,$p1)})}else{var $v_1=$p1.children(".resize-shrink"),$$t_8=this;$v_1.bind("scroll",function($p1_0){($p0.outerWidth(false)<$$t_8.$3j_0||$p0.outerHeight(false)<$$t_8.$3i_0)&&$$t_8.$48_0();$$t_8.$49_0($p0,$p1)})}},$49_0:function($p0,$p1){var $v_0=$p1.children(".resize-expand")[0],$v_1=$p1.children(".resize-shrink")[0],$v_2=$p1.children(".resize-expand").find(Mscrm.HtmlElementNames.div)[0];$v_2.style.width=$v_0.offsetWidth+10+"px";$v_2.style.height=$v_0.offsetHeight+10+"px";$v_0.scrollLeft=$v_0.scrollWidth;$v_0.scrollTop=$v_0.scrollHeight;$v_1.scrollLeft=$v_1.scrollWidth;$v_1.scrollTop=$v_1.scrollHeight;this.$3j_0=$p0[0].offsetWidth;this.$3i_0=$p0[0].offsetHeight},$6d_0:function($p0){var $v_0=$P_CRM(".resize-sensor",$p0),$v_1=$v_0.data("ResetPosition");!IsNull($v_1)&&$v_1&&$p0.css("position","static");var $v_2=$v_0.children(".resize-expand");$v_2.unbind("scroll");var $v_3=$v_0.children(".resize-shrink");$v_3.unbind("scroll");$v_0.remove()},get_$3N_0:function(){if(!this.$1V_0)this.$1V_0=$P_CRM("#BodyViewContainer");return this.$1V_0},get_$5r_0:function(){if(!this.$3g_0)this.$3g_0=$P_CRM("#HeaderViewContainer");return this.$3g_0},$p_0:null,$1V_0:null,$3g_0:null,$k_0:null,$o_0:null,$d_0:null,$3j_0:0,$3i_0:0,$1z_0:false};Mscrm.BusinessRulesGrid=function(){};Mscrm.BusinessRulesGrid.get_gridBusinessRules=function(){if(!Mscrm.BusinessRulesGrid.$2M){Mscrm.BusinessRulesGrid.$2M=$find("gridBusinessRules");if(!Mscrm.BusinessRulesGrid.$2M)throw Error.argumentNull("gridControl is null")}return Mscrm.BusinessRulesGrid.$2M};Mscrm.BusinessRulesGrid.onFormsGridClick=function(sender,args){if(sender){Mscrm.BusinessRulesGrid.editExistingBusinessRule(sender,args);args.breakEvent=true}};Mscrm.BusinessRulesGrid.editExistingBusinessRule=function(sender,args){if(sender){Mscrm.BusinessRulesGrid.$4w(args.objectID);args.breakEvent=true}};Mscrm.BusinessRulesGrid.editExistingRuleFromGridCommand=function(){if(Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedIds().length!==1){alert(window.LOCID_ACTION_SELECTONEBUSINESSRULE);return}var $v_0=Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedIds()[0];Mscrm.BusinessRulesGrid.$4w($v_0)};Mscrm.BusinessRulesGrid.createNewBusinessRule=function(templateId){var $v_0=!Mscrm.BusinessRulesGrid.get_gridBusinessRules().GetParameter("appSolutionId")?"":Mscrm.BusinessRulesGrid.get_gridBusinessRules().GetParameter("appSolutionId"),$v_1=!Mscrm.BusinessRulesGrid.get_gridBusinessRules().GetParameter("etc")?"":Mscrm.BusinessRulesGrid.get_gridBusinessRules().GetParameter("etc"),$v_2=!Mscrm.BusinessRulesGrid.get_gridBusinessRules().GetParameter("formId")?"":Mscrm.BusinessRulesGrid.get_gridBusinessRules().GetParameter("formId"),$v_3=!Mscrm.BusinessRulesGrid.get_gridBusinessRules().GetParameter("attributeId")?"":Mscrm.BusinessRulesGrid.get_gridBusinessRules().GetParameter("attributeId"),$v_4=Mscrm.CrmUri.create("/tools/systemcustomization/businessrules/manageBusinessRules.aspx?");$v_4.get_query()["appSolutionId"]=$v_0;$v_4.get_query()["otc"]=$v_1;$v_4.get_query()["templateId"]=templateId;if($v_2.length>0)$v_4.get_query()["formId"]=$v_2;if($v_3.length>0)$v_4.get_query()["attributeId"]=$v_3;$v_4.get_query()["BRlaunchpoint"]="BRGrid";if(Mscrm.CrmBrowser.get_currentBrowser().get_agent()===4)openStdDlg($v_4,null,1024,768,false);else openStdWin($v_4,"PortableBusinessLogicEditor",1024,768,null)};Mscrm.BusinessRulesGrid.$4w=function($p0){var $v_0=!Mscrm.BusinessRulesGrid.get_gridBusinessRules().GetParameter("appSolutionId")?"":Mscrm.BusinessRulesGrid.get_gridBusinessRules().GetParameter("appSolutionId"),$v_1=Mscrm.CrmUri.create("/tools/systemcustomization/businessrules/manageBusinessRules.aspx?");$v_1.get_query()["appSolutionId"]=$v_0;$v_1.get_query()["id"]=$p0;$v_1.get_query()["BRlaunchpoint"]="BRGrid";if(Mscrm.CrmBrowser.get_currentBrowser().get_agent()===4)openStdDlg($v_1,null,1024,768,false);else openStdWin($v_1,buildWinName($p0),1024,768,null)};Mscrm.BusinessRulesGrid.activateRuleFromGridCommand=function(){if(Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedIds().length<1){alert(window.LOCID_ACTION_SELECTONEBUSINESSRULE);return}Mscrm.GridCommandActions.activate(Mscrm.BusinessRulesGrid.get_gridBusinessRules(),Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedRecords(),Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_entityTypeCode())};Mscrm.BusinessRulesGrid.deactivateRuleFromGridCommand=function(){if(Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedIds().length<1){alert(window.LOCID_ACTION_SELECTONEBUSINESSRULE);return}Mscrm.GridCommandActions.deactivate(Mscrm.BusinessRulesGrid.get_gridBusinessRules(),Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedRecords(),Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_entityTypeCode())};Mscrm.BusinessRulesGrid.deleteRuleFromGridCommand=function(){if(Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedIds().length<1){alert(window.LOCID_ACTION_SELECTONEBUSINESSRULE);return}Mscrm.GridRibbonActions.deleteRecords(Mscrm.BusinessRulesGrid.get_gridBusinessRules(),Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedRecords(),Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_entityTypeCode())};Mscrm.BusinessRulesGrid.managePropertiesFromGridCommand=function(){if(Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedIds().length!==1){alert(window.LOCID_ACTION_SELECTONEBUSINESSRULE);return}var $v_0=Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedIds()[0];Mscrm.ManagedPropertyUtil.launchManagedPropertyDlg(Mscrm.EntityTypeCode.Workflow,$v_0)};Mscrm.BusinessRulesGrid.viewDependenciesFromGridCommand=function(){if(Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedIds().length!==1){alert(window.LOCID_ACTION_SELECTONEBUSINESSRULE);return}var $v_0=Mscrm.BusinessRulesGrid.get_gridBusinessRules().get_selectedIds()[0];Mscrm.Dependency.launchDependencyDlg(Mscrm.EntityTypeCode.Workflow,$v_0)};Mscrm.BusinessRule=function(){};Mscrm.BusinessRule.prototype={BusinessRuleId:null,Name:null,Description:null,PrimaryEntityTypeCode:0,FormId:null,WorkflowStepJson:null,Xaml:null};Mscrm.ProcessTrigger=function(){};Mscrm.ProcessTrigger.prototype={EventType:null,ControlName:null,ControlType:0,FormId:null,ProcessTriggerId:null};Type.registerNamespace("Mscrm.BusinessRules");Mscrm.BusinessRules.IBusinessRuleStepChromeStateData=function(){};Mscrm.BusinessRules.IBusinessRuleStepChromeStateData.registerInterface("Mscrm.BusinessRules.IBusinessRuleStepChromeStateData");Mscrm.BusinessRules.IMultiValueExpression=function(){};Mscrm.BusinessRules.IMultiValueExpression.registerInterface("Mscrm.BusinessRules.IMultiValueExpression");Mscrm.BusinessRules.IValueExpressionAdapter=function(){};Mscrm.BusinessRules.IValueExpressionAdapter.registerInterface("Mscrm.BusinessRules.IValueExpressionAdapter");Mscrm.BusinessRules.IBusinessRuleEntityManager=function(){};Mscrm.BusinessRules.IBusinessRuleEntityManager.registerInterface("Mscrm.BusinessRules.IBusinessRuleEntityManager");Mscrm.BusinessRules.BusinessRuleInlineEditChromeBehavior=function($p0){this.$$d_onValueElementClicked=Function.createDelegate(this,this.onValueElementClicked);this.$$d_$6T_4=Function.createDelegate(this,this.$6T_4);Mscrm.BusinessRules.BusinessRuleInlineEditChromeBehavior.initializeBase(this,[$p0]);this.set_chromeStateDataBuilder(new Mscrm.BusinessRules.Builders.ChromeStateDataBuilder)};Mscrm.BusinessRules.BusinessRuleInlineEditChromeBehavior.prototype={$3T_4:null,$S_4:null,initialize:function(){var $v_0=[];Array.add($v_0,this.get_chromeStateFactory().createEditHintState());Array.add($v_0,this.get_chromeStateFactory().createEditState());Array.add($v_0,this.get_chromeStateFactory().createSelectedState());Array.add($v_0,this.get_chromeStateFactory().createReadState());this.get_chromeStateMachine().set_chromeStates($v_0);Mscrm.InlineEditChromeBehaviorBase.prototype.initialize.call(this);this.$6c_4()},transitionToState:function($p0){$p0!==Mscrm.ChromeState.selected&&this.get_view().get_chromeElement().removeClass("selected");switch($p0){case Mscrm.ChromeState.read:this.transitionToReadState();break;case Mscrm.ChromeState.editHint:!Mscrm.BusinessRules.BusinessRuleInitializer.$15.get_readOnly()&&this.transitionToEditHintState();break;case Mscrm.ChromeState.edit:if(!Mscrm.BusinessRules.BusinessRuleInitializer.$15.get_readOnly()){this.get_view().tryCompleteOnDemandInitialization();this.transitionToEditState()}break;case Mscrm.ChromeState.selected:!Mscrm.BusinessRules.BusinessRuleInitializer.$15.get_readOnly()&&this.$6r_4();break}},transitionToReadState:function(){Mscrm.InlineEditChromeBehaviorBase.prototype.transitionToReadState.call(this);this.get_view().get_chromeElement().blur()},onEditElementWrapperStateChange:function($p0){if($p0.target!==$p0.currentTarget)return;Mscrm.InlineEditChromeBehaviorBase.prototype.onEditElementWrapperStateChange.call(this,$p0)},registerReadEvents:function(){Mscrm.InlineEditChromeBehaviorBase.prototype.registerReadEvents.call(this);this.get_view().get_chromeElement().mouseleave(this.$$d_onChromeMouseOut||(this.$$d_onChromeMouseOut=Function.createDelegate(this,this.onChromeMouseOut)))},registerEditEvents:function(){var $v_0=new Mscrm.BusinessRules.Proxies.JQueryObjectProxy(this.get_view().get_chromeElement()),$v_1=new Mscrm.BusinessRules.Commands.StepChromeElementKeyDownCommand;$v_1.$2r_0=this.get_stateData();$v_1.$G_0=this.get_view().get_readToolBarView().get_dataContext();this.get_view().get_bindingsMediator().addKeyDownBinding($v_0,$v_1);this.registerChromeElementKeyPress();this.get_view().get_stepValueContent().click(this.$$d_$6T_4)},onValueElementClicked:function($p0){this.get_view().get_chromeElement().focus()},$6r_4:function(){this.get_view().get_chromeElement().addClass("selected");this.get_view().get_valueElement().addClass("ms-crm-Inline-EditHintState")},$6T_4:function($p0){$p0.stopPropagation();var $v_0=this.get_stateData();$v_0.set_stepValueContentClicked(true)},$6c_4:function(){this.get_view().get_valueElement().click(this.$$d_onValueElementClicked);this.get_view().get_chromeElement().focus(this.$$d_onChromeElementFocus||(this.$$d_onChromeElementFocus=Function.createDelegate(this,this.onChromeElementFocus)))},get_chromeStateFactory:function(){return this.$3T_4||(this.$3T_4=new Mscrm.BusinessRules.ChromeStateFactory)},set_chromeStateFactory:function($p0){this.$3T_4=$p0;return $p0},get_jQueryProxy:function(){return this.$S_4||(this.$S_4=new Mscrm.BusinessRules.Proxies.JQueryProxy)},set_jQueryProxy:function($p0){this.$S_4=$p0;return $p0}};Mscrm.BusinessRules.BusinessRuleInlineEditFactory=function(){};Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getExpressionInlineView=function($p0,$p1){var $v_0=new Mscrm.BusinessRules.ExpressionLayoutBase($p0),$v_1=new Mscrm.BusinessRules.Views.InlineExpressionView($v_0);$v_1.set_dataContext($p1);return $v_1};Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getSetDisplayModeStepInlineView=function($p0,$p1){var $v_0=new Mscrm.BusinessRules.StepLayoutBase($p0),$v_1=new Mscrm.BusinessRules.Views.InlineSetDisplayModeStepView($v_0);$v_1.set_dataContext($p1);return $v_1};Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getSetRequiredLevelStepInlineView=function($p0,$p1){var $v_0=new Mscrm.BusinessRules.StepLayoutBase($p0),$v_1=new Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepView($v_0);$v_1.set_dataContext($p1);return $v_1};Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getSetAttributeValueStepInlineView=function($p0,$p1){var $v_0=new Mscrm.BusinessRules.StepLayoutBase($p0),$v_1=new Mscrm.BusinessRules.Views.InlineSetAttributeValueStepView($v_0);$v_1.set_dataContext($p1);return $v_1};Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getSetVisibilityStepInlineView=function($p0,$p1){var $v_0=new Mscrm.BusinessRules.StepLayoutBase($p0),$v_1=new Mscrm.BusinessRules.Views.InlineSetVisibilityStepView($v_0);$v_1.set_dataContext($p1);return $v_1};Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getSetMessageStepInlineView=function($p0,$p1){var $v_0=new Mscrm.BusinessRules.StepLayoutBase($p0),$v_1=new Mscrm.BusinessRules.Views.InlineSetMessageStepView($v_0);$v_1.set_dataContext($p1);return $v_1};Mscrm.BusinessRules.BusinessRuleLayoutBase=function($p0){Mscrm.BusinessRules.BusinessRuleLayoutBase.initializeBase(this,[$p0])};Mscrm.BusinessRules.BusinessRuleLayoutBase.prototype={get_chromeBehaviorType:function(){return Mscrm.BusinessRules.BusinessRuleInlineEditChromeBehavior},renderForRead:function(){},renderForEdit:function(){}};Mscrm.BusinessRules.BusinessRuleStepChromeStateData=function(){Mscrm.BusinessRules.BusinessRuleStepChromeStateData.initializeBase(this)};Mscrm.BusinessRules.BusinessRuleStepChromeStateData.prototype={$40_2:false,get_stepValueContentClicked:function(){return this.$40_2},set_stepValueContentClicked:function(value){this.$40_2=value;Sys.Component.prototype.raisePropertyChanged.call(this,"StepValueContentClicked");this.$40_2=false;return value}};Mscrm.BusinessRules.BusinessRuleStepEditChromeState=function(){};Mscrm.BusinessRules.BusinessRuleStepEditChromeState.prototype={handleTransition:function(stateData){var $v_0=stateData,$v_1=stateData.get_currentState()===Mscrm.ChromeState.editHint||stateData.get_currentState()===Mscrm.ChromeState.selected,$v_2=stateData.get_currentState()===Mscrm.ChromeState.read||stateData.get_currentState()===Mscrm.ChromeState.editHint||stateData.get_currentState()===Mscrm.ChromeState.selected;if(stateData.get_elementEnterKeyPressed()&&$v_1||$v_0.get_stepValueContentClicked()&&$v_2)return true;return false},get_state:function(){return Mscrm.ChromeState.edit}};Mscrm.BusinessRules.BusinessRuleStepEditHintChromeState=function(){};Mscrm.BusinessRules.BusinessRuleStepEditHintChromeState.prototype={handleTransition:function(stateData){if(stateData.get_chromeMouseOver()&&stateData.get_chromeMouseOverTimeoutTriggered()&&stateData.get_currentState()===Mscrm.ChromeState.read)return true;return false},get_state:function(){return Mscrm.ChromeState.editHint}};Mscrm.BusinessRules.BusinessRuleStepReadChromeState=function(){};Mscrm.BusinessRules.BusinessRuleStepReadChromeState.prototype={handleTransition:function(stateData){var $v_0=stateData.get_currentState()===Mscrm.ChromeState.editHint||stateData.get_currentState()===Mscrm.ChromeState.selected;if(!stateData.get_chromeElementHasFocus()&&!stateData.get_chromeMouseOver()&&$v_0||stateData.get_editElementDiscarded()&&stateData.get_currentState()===Mscrm.ChromeState.edit||stateData.get_editElementCommitted()&&stateData.get_currentState()===Mscrm.ChromeState.edit)return true;return false},get_state:function(){return Mscrm.ChromeState.read}};Mscrm.BusinessRules.BusinessRuleStepSelectedChromeState=function(){};Mscrm.BusinessRules.BusinessRuleStepSelectedChromeState.prototype={handleTransition:function(stateData){if(stateData.get_chromeElementHasFocus()&&(stateData.get_currentState()===Mscrm.ChromeState.read||stateData.get_currentState()===Mscrm.ChromeState.editHint))return true;return false},get_state:function(){return Mscrm.ChromeState.selected}};Mscrm.BusinessRules.ChromeStateFactory=function(){};Mscrm.BusinessRules.ChromeStateFactory.prototype={createEditHintState:function(){return new Mscrm.BusinessRules.BusinessRuleStepEditHintChromeState},createEditState:function(){return new Mscrm.BusinessRules.BusinessRuleStepEditChromeState},createSelectedState:function(){return new Mscrm.BusinessRules.BusinessRuleStepSelectedChromeState},createReadState:function(){return new Mscrm.BusinessRules.BusinessRuleStepReadChromeState}};Mscrm.BusinessRules.ExpressionInlineEditChromeBehavior=function($p0){this.$$d_$59_5=Function.createDelegate(this,this.$59_5);Mscrm.BusinessRules.ExpressionInlineEditChromeBehavior.initializeBase(this,[$p0])};Mscrm.BusinessRules.ExpressionInlineEditChromeBehavior.prototype={initializeForEditElement:function(){Mscrm.InlineEditChromeBehaviorBase.prototype.initializeForEditElement.call(this);var $v_0=this.get_view().get_editView().get_editElementWrapper();$v_0.bind(Mscrm.StateChangeEvents.commit,this.$$d_$59_5);$v_0.bind(Mscrm.StateChangeEvents.discard,this.$$d_$59_5)},$59_5:function($p0){if($p0.target!==$p0.currentTarget)return;var $v_0=this.get_view().$P_1,$v_1=$v_0.get_parent(),$v_2=$v_1.get_expressions();$v_1.setFocusOnExpression(this.$5i_5($v_0,$v_2))},$5i_5:function($p0,$p1){var $v_0=$p1.indexOf($p0,0);if($v_0===-1||$v_0===$p1.get_count()-1)return null;return $p1.get_item($v_0+1)},dispose:function(){if(this.get_isDisposed())return;if(this.get_view().get_isEditControlInitialized()){var $v_0=this.get_view().get_editView().get_editElementWrapper();$v_0.unbind(Mscrm.StateChangeEvents.commit,this.$$d_$59_5);$v_0.unbind(Mscrm.StateChangeEvents.discard,this.$$d_$59_5)}Mscrm.InlineEditChromeBehaviorBase.prototype.dispose.call(this)}};Mscrm.BusinessRules.ExpressionLayoutBase=function($p0){Mscrm.BusinessRules.ExpressionLayoutBase.initializeBase(this,[$p0])};Mscrm.BusinessRules.ExpressionLayoutBase.prototype={get_chromeBehaviorType:function(){return Mscrm.BusinessRules.ExpressionInlineEditChromeBehavior}};Mscrm.BusinessRules.StepInlineEditChromeBehavior=function($p0){this.$$d_$59_5=Function.createDelegate(this,this.$59_5);Mscrm.BusinessRules.StepInlineEditChromeBehavior.initializeBase(this,[$p0])};Mscrm.BusinessRules.StepInlineEditChromeBehavior.prototype={initializeForEditElement:function(){Mscrm.InlineEditChromeBehaviorBase.prototype.initializeForEditElement.call(this);var $v_0=this.get_view().get_editView().get_editElementWrapper();$v_0.bind(Mscrm.StateChangeEvents.commit,this.$$d_$59_5);$v_0.bind(Mscrm.StateChangeEvents.discard,this.$$d_$59_5)},$59_5:function($p0){if($p0.target!==$p0.currentTarget)return;var $v_0=this.get_view().$P_1,$v_1=$v_0.get_parent(),$v_2=$v_1.get_stepViews();$v_1.setFocusOnStep(this.$5j_5($v_0,$v_2))},$5j_5:function($p0,$p1){var $v_0=$p1.indexOf($p0,0);if($v_0===-1||$v_0===$p1.get_count()-1)return null;return $p1.get_item($v_0+1)},dispose:function(){if(this.get_isDisposed())return;if(this.get_view().get_isEditControlInitialized()){var $v_0=this.get_view().get_editView().get_editElementWrapper();$v_0.unbind(Mscrm.StateChangeEvents.commit,this.$$d_$59_5);$v_0.unbind(Mscrm.StateChangeEvents.discard,this.$$d_$59_5)}Mscrm.InlineEditChromeBehaviorBase.prototype.dispose.call(this)}};Mscrm.BusinessRules.StepLayoutBase=function($p0){Mscrm.BusinessRules.StepLayoutBase.initializeBase(this,[$p0])};Mscrm.BusinessRules.StepLayoutBase.prototype={get_chromeBehaviorType:function(){return Mscrm.BusinessRules.StepInlineEditChromeBehavior}};Mscrm.BusinessRules.MultiValueExpression=function(expressions,rootStep,attributeMetadata){Mscrm.BusinessRules.MultiValueExpression.initializeBase(this,[rootStep]);this.$g_1=new Array(0);this.$10_1=new Array(0);this.$2E_1=attributeMetadata;for(var $v_0=0;$v_0<expressions.get_count();$v_0++){Array.add(this.$g_1,Mscrm.BusinessRules.ValueExpressionAdapterFactory.getValueExpression(expressions.get_item($v_0),this.$2E_1).getValue(expressions.get_item($v_0)));Array.add(this.$10_1,expressions.get_item($v_0))}};Mscrm.BusinessRules.MultiValueExpression.prototype={get_values:function(){return this.$g_1},set_values:function(value){this.$g_1=value;return value},get_innerExpressions:function(){return this.$10_1},set_innerExpressions:function(value){this.$10_1=value;return value},get_displayValue:function(){for(var $v_0=new Mscrm.BusinessRules.ValueDisplayFormatProvider(this.$10_1[0],this.$10_1[0].get_type()),$v_1="",$v_2=0;$v_2<this.$g_1.length;$v_2++){if($v_2>0)$v_1=$v_1+window.LOCID_PBLEXPRESSION_COMMA+" ";$v_1=$v_1+$v_0.getDisplayText(this.$g_1[$v_2])}return $v_1},get_displayFormat:function(){var $v_0=new Mscrm.BusinessRules.ValueDisplayFormatProvider(this.$10_1[0],this.$10_1[0].get_type());return $v_0.get_displayFormat()},accept:function(visitor){},$g_1:null,$10_1:null,$2E_1:null};Mscrm.BusinessRules.ValueDisplayFormatProvider=function(expression,type){this.$F_0=expression;this.$H_0=type};Mscrm.BusinessRules.ValueDisplayFormatProvider.prototype={getDisplayText:function(value){if(Microsoft.Crm.Workflow.Expressions.TimeSpanExpression.isInstanceOfType(this.$F_0))return value.toString();switch(this.$H_0){case 2:var $v_0=value;return $v_0.localeFormat("");case 0:case 10:case 12:case 13:var $v_1=value;return $v_1.Label;case 6:case 1:case 8:var $v_2=value;return $v_2.name;default:return value.toString()}},get_displayFormat:function(){if(Microsoft.Crm.Workflow.Expressions.TimeSpanExpression.isInstanceOfType(this.$F_0))return String.format("{0} {1}",'"{0}"',window.LOCID_PBLEXPRESSION_DAYSVALUE.toLowerCase());return '"{0}"'},$H_0:0,$F_0:null};Mscrm.BusinessRules.ValueExpressionAdapterFactory=function(){};Mscrm.BusinessRules.ValueExpressionAdapterFactory.getValueExpression=function(expression,attributeMetadata){if(Microsoft.Crm.Workflow.Expressions.LookupExpression.isInstanceOfType(expression))return new Mscrm.BusinessRules.LookupValueExpressionAdapter(expression.get_type());if(Microsoft.Crm.Workflow.Expressions.PrimitiveExpression.isInstanceOfType(expression))switch(expression.get_type()){case 2:if(!IsNull(attributeMetadata)&&attributeMetadata.Format==="date")return new Mscrm.BusinessRules.DateValueExpressionAdapter(expression.get_type());return new Mscrm.BusinessRules.DateTimeValueExpressionAdapter(expression.get_type());case 0:case 10:case 12:case 13:return new Mscrm.BusinessRules.OptionSetValueExpressionAdapter(expression.get_type(),attributeMetadata);default:return new Mscrm.BusinessRules.PrimitiveValueExpressionAdapter(expression.get_type())}if(Microsoft.Crm.Workflow.Expressions.TimeSpanExpression.isInstanceOfType(expression))return new Mscrm.BusinessRules.TimeSpanExpressionAdapter;throw Error.create("Unsupported")};Mscrm.BusinessRules.ValueExpressionAdapterFactory.getDefaultExpressionAdapterForType=function(type,attributeMetadata){switch(type){case 2:if(!IsNull(attributeMetadata)&&attributeMetadata.Format==="date")return new Mscrm.BusinessRules.DateValueExpressionAdapter(type);return new Mscrm.BusinessRules.DateTimeValueExpressionAdapter(type);case 0:case 10:case 12:case 13:return new Mscrm.BusinessRules.OptionSetValueExpressionAdapter(type,attributeMetadata);case 6:case 1:case 8:return new Mscrm.BusinessRules.LookupValueExpressionAdapter(type);default:return new Mscrm.BusinessRules.PrimitiveValueExpressionAdapter(type)}};Mscrm.BusinessRules.PrimitiveValueExpressionAdapter=function(type){this.$H_0=type};Mscrm.BusinessRules.PrimitiveValueExpressionAdapter.prototype={getValue:function(expression){return expression.get_value()},getExpression:function(rootStep,value){return new Microsoft.Crm.Workflow.Expressions.PrimitiveExpression(rootStep,value,this.$H_0)},$H_0:0};Mscrm.BusinessRules.DateTimeValueExpressionAdapter=function(type){Mscrm.BusinessRules.DateTimeValueExpressionAdapter.initializeBase(this,[type]);this.$H_1=type};Mscrm.BusinessRules.DateTimeValueExpressionAdapter.$55=function($p0){return ($p0.getTimezoneOffset()+window.ORG_TIMEZONE_OFFSET)*6e4};Mscrm.BusinessRules.DateTimeValueExpressionAdapter.prototype={getValue:function(expression){var $v_0=expression.get_value();if(isNullOrEmptyString($v_0))return null;var $v_1=new Date($v_0),$v_2=$v_1.getTime(),$v_3=Mscrm.BusinessRules.DateTimeValueExpressionAdapter.$55($v_1),$v_4=new Date($v_2+$v_3);return $v_4},getExpression:function(rootStep,value){var $v_0=value,$v_1=$v_0.getTime(),$v_2=Mscrm.BusinessRules.DateTimeValueExpressionAdapter.$55($v_0),$v_3=new Date($v_1-$v_2);return new Microsoft.Crm.Workflow.Expressions.PrimitiveExpression(rootStep,Mscrm.BusinessRules.DateValueExpressionAdapter.getUtcStringInGmtFormat($v_3),this.$H_1)},$H_1:0};Mscrm.BusinessRules.DateValueExpressionAdapter=function(type){this.$H_0=type};Mscrm.BusinessRules.DateValueExpressionAdapter.getUtcStringInGmtFormat=function(utcTime){return utcTime.toUTCString().replace("UTC","GMT")};Mscrm.BusinessRules.DateValueExpressionAdapter.prototype={getValue:function(expression){return Date.parseInvariant(expression.get_value())},getExpression:function(rootStep,value){var $v_0=value,$v_1=Date.UTC($v_0.getFullYear(),$v_0.getMonth(),$v_0.getDate());return new Microsoft.Crm.Workflow.Expressions.PrimitiveExpression(rootStep,Mscrm.BusinessRules.DateValueExpressionAdapter.getUtcStringInGmtFormat(new Date($v_1)),this.$H_0)},$H_0:0};Mscrm.BusinessRules.OptionSetValueExpressionAdapter=function(type,attributeMetadata){this.$H_0=type;this.$2E_0=attributeMetadata};Mscrm.BusinessRules.OptionSetValueExpressionAdapter.prototype={getValue:function(expression){var $v_0=Number.parseInvariant(expression.get_value()),$v_1=new Mscrm.EnumOptionJsonWrapper;$v_1.Value=$v_0;if(!IsNull(this.$2E_0))for(var $$arr_3=this.$2E_0.Options,$$len_4=$$arr_3.length,$$idx_5=0;$$idx_5<$$len_4;++$$idx_5){var $v_2=$$arr_3[$$idx_5];if($v_2.Value===$v_0){$v_1.Label=$v_2.Label;break}}return $v_1},getExpression:function(rootStep,value){var $v_0=value;return new Microsoft.Crm.Workflow.Expressions.PrimitiveExpression(rootStep,$v_0.Value,this.$H_0)},$H_0:0,$2E_0:null};Mscrm.BusinessRules.LookupValueExpressionAdapter=function(type){this.$H_0=type};Mscrm.BusinessRules.LookupValueExpressionAdapter.prototype={getValue:function(expression){var $v_0=expression,$v_1={};if(IsNull($v_0.get_value()))return null;$v_1.name=$v_0.get_label();$v_1.typename=$v_0.get_entityType();$v_1.id=$v_0.get_value().get_value();return $v_1},getExpression:function(rootStep,value){var $v_0=value,$v_1=$v_0.name,$v_2=(new Mscrm.BusinessRules.PrimitiveValueExpressionAdapter(15)).getExpression(rootStep,$v_0.id),$v_3=$v_0.typename;return new Microsoft.Crm.Workflow.Expressions.LookupExpression(rootStep,$v_2,this.$H_0,$v_3,$v_1)},$H_0:0};Mscrm.BusinessRules.TimeSpanExpressionAdapter=function(){};Mscrm.BusinessRules.TimeSpanExpressionAdapter.prototype={getValue:function(expression){var $v_0=expression;return $v_0.get_value().get_days()},getExpression:function(rootStep,value){var $v_0=parseInt(value);return new Microsoft.Crm.Workflow.Expressions.TimeSpanExpression(Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep(),new Microsoft.Crm.Workflow.CrmTimeSpan(0,0,$v_0,0,0))}};Mscrm.BusinessRules.BusinessRuleEntityManager=function(){this.$j_0=Mscrm.BusinessRules.Views.ViewHelper.get_$K().EntityMetadata};Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance=function(){if(IsNull(Mscrm.BusinessRules.BusinessRuleEntityManager.$U))Mscrm.BusinessRules.BusinessRuleEntityManager.$U=new Mscrm.BusinessRules.BusinessRuleEntityManager;return Mscrm.BusinessRules.BusinessRuleEntityManager.$U};Mscrm.BusinessRules.BusinessRuleEntityManager.prototype={get_getAllAttributes:function(){return this.$j_0.Fields},getAttributeByName:function(attributeName){return this.get_$4r_0()[attributeName]},getAttributeByIndex:function(index){return this.$j_0.Fields[index]},getAttributeIndex:function(name){return this.get_$5T_0().indexOf(name,0)},getAttributeType:function(attributeName){var $v_0=this.get_$4r_0()[attributeName];return $v_0.Type},getAttributeLocalizedName:function(attributeName){if(isNullOrEmptyString(attributeName))return "";var $v_0=this.getAttributeByName(attributeName);if(!$v_0)return "";return $v_0.Label.Description},get_entityLogicalName:function(){return this.$j_0.EntityLogicalName},get_entityDisplayName:function(){return this.$j_0.DisplayName},get_$5T_0:function(){if(IsNull(this.$2n_0)){this.$2n_0=Mscrm.BusinessRules.SharedMethods.getList(String);for(var $v_0=this.$j_0.Fields,$v_1=0;$v_1<$v_0.length;$v_1++)this.$2n_0.add($v_0[$v_1].LogicalName)}return this.$2n_0},get_$4r_0:function(){if(!this.$2p_0){this.$2p_0={};for(var $v_0=this.$j_0.Fields,$v_1=0;$v_1<$v_0.length;$v_1++){var $v_2=$v_0[$v_1];this.$2p_0[$v_2.LogicalName]=$v_2}}return this.$2p_0},$j_0:null,$2p_0:null,$2n_0:null};Mscrm.BusinessRules.BusinessRuleInitializer=function(){};Mscrm.BusinessRules.BusinessRuleInitializer.initialize=function(){Mscrm.BusinessRules.BusinessRuleInitializer.$5z()};Mscrm.BusinessRules.BusinessRuleInitializer.$5z=function(){window.self._HasInlineEditSupport="true";try{var $v_1=Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep();Mscrm.BusinessRules.BusinessRuleInitializer.$15=new Mscrm.BusinessRules.ViewModels.ManageBusinessRuleViewModel($v_1)}catch($$e_1){Mscrm.BusinessRules.BusinessRuleInitializer.$15=new Mscrm.BusinessRules.ViewModels.ManageBusinessRuleViewModel(new Microsoft.Crm.Workflow.ObjectModel.WorkflowStep("account",3))}var $v_0=new Mscrm.BusinessRules.Views.ManageBusinessRuleView;$v_0.set_dataContext(Mscrm.BusinessRules.BusinessRuleInitializer.$15);$v_0.initialize()};Mscrm.BusinessRules.BusinessRuleManager=function(){};Mscrm.BusinessRules.BusinessRuleManager.get_instance=function(){if(IsNull(Mscrm.BusinessRules.BusinessRuleManager.$U))Mscrm.BusinessRules.BusinessRuleManager.$U=new Mscrm.BusinessRules.BusinessRuleManager;return Mscrm.BusinessRules.BusinessRuleManager.$U};Mscrm.BusinessRules.BusinessRuleManager.prototype={get_rootWorkflowStep:function(){if(IsNull(this.$2A_0)){var $v_0=Mscrm.BusinessRules.Proxies.JQueryProxy.parseJson(window._BusinessRuleJsonData);this.$2A_0=new Microsoft.Crm.Workflow.ObjectModel.WorkflowStep(Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().get_entityLogicalName(),4);this.$2A_0.initializeFromDynamic($v_0)}return this.$2A_0},$2A_0:null};Mscrm.BusinessRules.BusinessRuleEditorDataJsonWrapper=function(){};Mscrm.BusinessRules.BusinessRuleEditorDataJsonWrapper.prototype={EntityMetadata:null,DisplayModePicklistOptions:null,VisibilityPicklistOptions:null,RequiredLevelPicklistOptions:null,ConditionOperators:null,ArithmeticOperators:null,OperandType:null,ScopeSelectorData:null};Mscrm.BusinessRules.EditorEntityMetadataJsonWrapper=function(){this.EntityTypeCode=-1};Mscrm.BusinessRules.EditorEntityMetadataJsonWrapper.prototype={Fields:null,EntityLogicalName:"",DisplayName:""};Mscrm.BusinessRules.EditorEntityLabelJsonWrapper=function(){this.LCID=-1};Mscrm.BusinessRules.EditorEntityLabelJsonWrapper.prototype={Description:""};Mscrm.BusinessRules.EditorEntityFieldMetadataJsonWrapper=function(){};Mscrm.BusinessRules.EditorEntityFieldMetadataJsonWrapper.prototype={LogicalName:"",Label:null,Type:0,AdditionalMetadata:null};Mscrm.BusinessRules.EditorScopeSelectorDataJsonWrapper=function(){};Mscrm.BusinessRules.EditorScopeSelectorDataJsonWrapper.prototype={Options:null,FormIds:null};Mscrm.BusinessRules.Constants=function(){};Mscrm.BusinessRules.ClientVariable=function(){};Mscrm.BusinessRules.CssClassName=function(){};Mscrm.BusinessRules.HtmlFormat=function(){};Mscrm.BusinessRules.HtmlElementNames=function(){};Mscrm.BusinessRules.HtmlAttributeNames=function(){};Mscrm.BusinessRules.PBLEditorIds=function(){};Mscrm.BusinessRules.ActionMenuCommands=function(){};Mscrm.BusinessRules.SharedMethods=function(){};Mscrm.BusinessRules.SharedMethods.createException=function(message){return Error.create(message)};Mscrm.BusinessRules.SharedMethods.formatTemplate=function(template){for(var parameters=[],$$pai_2=1;$$pai_2<arguments.length;++$$pai_2)parameters[$$pai_2-1]=arguments[$$pai_2];return String.format.apply(null,[template].concat(parameters))};Mscrm.BusinessRules.SharedMethods.getList=function(T){var $v_0=new Sales.Common.Framework.List.$$(T);return $v_0=new $v_0};Type.registerNamespace("Mscrm.BusinessRules.Bindings");Mscrm.BusinessRules.Bindings.IBinding=function(){};Mscrm.BusinessRules.Bindings.IBinding.registerInterface("Mscrm.BusinessRules.Bindings.IBinding");Mscrm.BusinessRules.Bindings.IClickBinding=function(){};Mscrm.BusinessRules.Bindings.IClickBinding.registerInterface("Mscrm.BusinessRules.Bindings.IClickBinding");Mscrm.BusinessRules.Bindings.IDataContextValueChangeBinding=function(){};Mscrm.BusinessRules.Bindings.IDataContextValueChangeBinding.registerInterface("Mscrm.BusinessRules.Bindings.IDataContextValueChangeBinding");Mscrm.BusinessRules.Bindings.IKeyDownBinding=function(){};Mscrm.BusinessRules.Bindings.IKeyDownBinding.registerInterface("Mscrm.BusinessRules.Bindings.IKeyDownBinding");Mscrm.BusinessRules.Bindings.IInlineControlFieldValueChangeBinding=function(){};Mscrm.BusinessRules.Bindings.IInlineControlFieldValueChangeBinding.registerInterface("Mscrm.BusinessRules.Bindings.IInlineControlFieldValueChangeBinding");Mscrm.BusinessRules.Bindings.ITextInputValueChangeBinding=function(){};Mscrm.BusinessRules.Bindings.ITextInputValueChangeBinding.registerInterface("Mscrm.BusinessRules.Bindings.ITextInputValueChangeBinding");Mscrm.BusinessRules.Bindings.IValueBinding=function(){};Mscrm.BusinessRules.Bindings.IValueBinding.registerInterface("Mscrm.BusinessRules.Bindings.IValueBinding");Mscrm.BusinessRules.Bindings.IValueChangeBinding=function(){};Mscrm.BusinessRules.Bindings.IValueChangeBinding.registerInterface("Mscrm.BusinessRules.Bindings.IValueChangeBinding");Mscrm.BusinessRules.Bindings.ClickBinding=function(){this.$$d_$4x_0=Function.createDelegate(this,this.$4x_0)};Mscrm.BusinessRules.Bindings.ClickBinding.prototype={$1_0:null,$9_0:null,$4x_0:function($p0){if(IsNull(this.$9_0))throw Error.argumentNull("Command");this.$9_0.execute()},dispose:function(){!IsNull(this.$1_0)&&this.$1_0.unbind("click",this.$$d_$4x_0);this.$1_0=null;!IsNull(this.$9_0)&&this.$9_0.dispose();this.$9_0=null},bind:function(){if(IsNull(this.$1_0))throw Error.argumentNull("Element");this.$1_0.click(this.$$d_$4x_0)},get_element:function(){return this.$1_0},set_element:function(value){this.$1_0=value;return value},get_command:function(){return this.$9_0},set_command:function(value){this.$9_0=value;return value}};Mscrm.BusinessRules.Bindings.DataContextValueChangeBinding=function(){this.$$d_$5e_0=Function.createDelegate(this,this.$5e_0)};Mscrm.BusinessRules.Bindings.DataContextValueChangeBinding.prototype={$9_0:null,$3e_0:null,$3w_0:null,$13_0:null,$3q_0:null,$5e_0:function($p0,$p1){if($p1.get_propertyName()===this.$3q_0){if(IsNull(this.$9_0))throw Error.argumentNull("Command");this.$9_0.execute()}},dispose:function(){this.$9_0=null;this.$3e_0=null;this.$3w_0=null;!IsNull(this.$13_0)&&this.$13_0.remove_propertyChanged(this.$$d_$5e_0);this.$13_0=null},bind:function(){if(IsNull(this.$13_0))throw Error.argumentNull("DataContext");this.$13_0.add_propertyChanged(this.$$d_$5e_0)},get_command:function(){return this.$9_0},set_command:function(value){this.$9_0=value;return value},get_getValueDelegate:function(){return this.$3e_0},set_getValueDelegate:function(value){this.$3e_0=value;return value},get_setValueDelegate:function(){return this.$3w_0},set_setValueDelegate:function(value){this.$3w_0=value;return value},get_dataContext:function(){return this.$13_0},set_dataContext:function(value){this.$13_0=value;return value},get_propertyName:function(){return this.$3q_0},set_propertyName:function(value){this.$3q_0=value;return value}};Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding=function(){this.$$d_$5G_0=Function.createDelegate(this,this.$5G_0);this.$$d_$56_0=Function.createDelegate(this,this.$56_0);this.$$d_$5K_0=Function.createDelegate(this,this.$5K_0)};Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.resetInlineFieldValue=function(view,value){var $v_0=$find(view.get_dataContext().get_attribute().get_dataAttributeId());$v_0.resetValue(value);$v_0.fireOnChange()};Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.getInlineFieldValue=function(view){return view.get_editView().get_dataContext().get_attribute().get_rawValue()};Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.prototype={$9_0:null,$1S_0:null,$5G_0:function($p0){Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.resetInlineFieldValue(this.$1S_0,$p0)},$56_0:function(){return Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.getInlineFieldValue(this.$1S_0)},$5K_0:function($p0){if(IsNull(this.$9_0))throw Error.argumentNull("Command");this.$9_0.execute()},dispose:function(){!IsNull(this.$1S_0)&&this.$1S_0.get_editView().get_editElementWrapper().unbind(Mscrm.StateChangeEvents.commit,this.$$d_$5K_0);!IsNull(this.$9_0)&&this.$9_0.dispose();this.$9_0=null},bind:function(){if(IsNull(this.$1S_0))throw Error.argumentNull("TextInputElement");this.$1S_0.get_editView().get_editElementWrapper().bind(Mscrm.StateChangeEvents.commit,this.$$d_$5K_0)},get_command:function(){return this.$9_0},set_command:function(value){this.$9_0=value;return value},get_getValueDelegate:function(){return this.$$d_$56_0},set_getValueDelegate:function(value){throw Error.notImplemented();return value},get_setValueDelegate:function(){return this.$$d_$5G_0},set_setValueDelegate:function(value){throw Error.notImplemented();return value},get_view:function(){return this.$1S_0},set_view:function(value){this.$1S_0=value;return value}};Mscrm.BusinessRules.Bindings.KeyDownBinding=function(){this.$$d_$4x_0=Function.createDelegate(this,this.$4x_0)};Mscrm.BusinessRules.Bindings.KeyDownBinding.prototype={$1_0:null,$9_0:null,$4x_0:function($p0){if(IsNull(this.$9_0))throw Error.argumentNull("Command");this.$6s_0($p0);this.$9_0.execute();this.$6t_0($p0);this.$6u_0($p0)},$6s_0:function($p0){if(Mscrm.BusinessRules.Commands.IEventAdapter.isInstanceOfType(this.$9_0)){var $v_0=this.$9_0,$v_1=$p0.shiftKey;$v_0.set_shiftKey($v_1);var $v_2=$p0.keyCode;$v_0.set_keyCode($v_2)}},$6t_0:function($p0){if(Mscrm.BusinessRules.Commands.IEventAdapter.isInstanceOfType(this.$9_0)){var $v_0=this.$9_0;$v_0.get_preventDefault()&&$p0.preventDefault()}},$6u_0:function($p0){if(Mscrm.BusinessRules.Commands.IEventAdapter.isInstanceOfType(this.$9_0)){var $v_0=this.$9_0;if($v_0.get_stopPropagation()){$p0.stopImmediatePropagation();$p0.stopPropagation()}}},dispose:function(){if(!IsNull(this.$1_0)){this.$1_0.unbind("keydown",this.$$d_$4x_0);this.$1_0=null}if(!IsNull(this.$9_0)){this.$9_0.dispose();this.$9_0=null}},bind:function(){if(IsNull(this.$1_0))throw Error.argumentNull("Element");this.$1_0.keyDown(this.$$d_$4x_0)},get_element:function(){return this.$1_0},set_element:function(value){this.$1_0=value;return value},get_command:function(){return this.$9_0},set_command:function(value){this.$9_0=value;return value}};Mscrm.BusinessRules.Bindings.TextInputValueChangeBinding=function(){this.$$d_$5G_0=Function.createDelegate(this,this.$5G_0);this.$$d_$56_0=Function.createDelegate(this,this.$56_0);this.$$d_$5K_0=Function.createDelegate(this,this.$5K_0)};Mscrm.BusinessRules.Bindings.TextInputValueChangeBinding.prototype={$9_0:null,$19_0:null,$5G_0:function($p0){this.$19_0.set_value($p0.toString())},$56_0:function(){return this.$19_0.get_value()},$5K_0:function($p0){if(IsNull(this.$9_0))throw Error.argumentNull("Command");this.$9_0.execute()},dispose:function(){!IsNull(this.$19_0)&&this.$19_0.unbind("change",this.$$d_$5K_0);this.$19_0=null;!IsNull(this.$9_0)&&this.$9_0.dispose();this.$9_0=null},bind:function(){if(IsNull(this.$19_0))throw Error.argumentNull("TextInputElement");this.$19_0.change(this.$$d_$5K_0)},get_command:function(){return this.$9_0},set_command:function(value){this.$9_0=value;return value},get_getValueDelegate:function(){return this.$$d_$56_0},set_getValueDelegate:function(value){throw Error.notImplemented();return value},get_setValueDelegate:function(){return this.$$d_$5G_0},set_setValueDelegate:function(value){throw Error.notImplemented();return value},get_textInputElement:function(){return this.$19_0},set_textInputElement:function(value){this.$19_0=value;return value}};Mscrm.BusinessRules.Bindings.ValueBinding=function(){};Mscrm.BusinessRules.Bindings.ValueBinding.prototype={$1j_0:null,$1o_0:null,dispose:function(){!IsNull(this.$1j_0)&&this.$1j_0.dispose();this.$1j_0=null;!IsNull(this.$1o_0)&&this.$1o_0.dispose();this.$1o_0=null},bind:function(){if(IsNull(this.$1j_0))throw Error.argumentNull("LhsValueChangeBinding");if(IsNull(this.$1o_0))throw Error.argumentNull("RhsValueChangeBinding");this.$1j_0.bind();this.$1o_0.bind()},get_lhsValueChangeBinding:function(){return this.$1j_0},set_lhsValueChangeBinding:function(value){this.$1j_0=value;return value},get_rhsValueChangeBinding:function(){return this.$1o_0},set_rhsValueChangeBinding:function(value){this.$1o_0=value;return value}};Type.registerNamespace("Mscrm.BusinessRules.Builders");Mscrm.BusinessRules.Builders.IReadToolBarButtonViewBuilder=function(){};Mscrm.BusinessRules.Builders.IReadToolBarButtonViewBuilder.registerInterface("Mscrm.BusinessRules.Builders.IReadToolBarButtonViewBuilder");Mscrm.BusinessRules.Builders.IReadToolBarViewBuilder=function(){};Mscrm.BusinessRules.Builders.IReadToolBarViewBuilder.registerInterface("Mscrm.BusinessRules.Builders.IReadToolBarViewBuilder");Mscrm.BusinessRules.Builders.ChromeStateDataBuilder=function(){};Mscrm.BusinessRules.Builders.ChromeStateDataBuilder.prototype={build:function(){var $v_0=new Mscrm.BusinessRules.BusinessRuleStepChromeStateData;return $v_0}};Mscrm.BusinessRules.Builders.SetAttributeValueStepBuilder=function($p0,$p1){Mscrm.BusinessRules.Builders.SetAttributeValueStepBuilder.initializeBase(this,[$p0]);this.$Y_1=$p1};Mscrm.BusinessRules.Builders.SetAttributeValueStepBuilder.prototype={$Y_1:null,buildModel:function(){var $v_0=Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$50(),$v_1=Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$51($v_0),$v_2=new Microsoft.Crm.Workflow.Expressions.PropertySpecification($v_0.get_attributeName(),$v_1),$v_3=new Microsoft.Crm.Workflow.ObjectModel.SetAttributeValueStep(this.workflowStep,$v_2);$v_3.set_workflow(this.workflowStep);$v_3.set_entity(new Microsoft.Crm.Workflow.Expressions.PrimaryEntity(this.workflowStep));$v_3.setJQueryFriendlyNameAndId(this.workflowStep.get_currentStepId());$v_3.set_parent(this.$Y_1);this.$Y_1.get_steps().add($v_3);return $v_3},renderStep:function($p0){var $v_0=this.$0_0,$v_1=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeLocalizedName($v_0.get_attributeName()),$v_2=String.format(Mscrm.BusinessRules.Views.ViewHelper.$11($v_0.get_readDisplayFormat()),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_1)),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_0.$6_3.get_innerOperand().get_displayValue())));$p0.append($v_2)}};Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder=function(){this.$S_0=new Mscrm.BusinessRules.Proxies.JQueryProxy};Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$50=function(){var $v_0=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeByIndex(0);return Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$2f($v_0.LogicalName,$v_0.Type)};Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$51=function($p0){for(var $v_0=$p0.get_type(),$v_1=Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.get_instance().getAttributesForAttributeType($v_0),$v_2=$p0.get_attributeName(),$v_3=0;$v_3<$v_1.length;$v_3++)if($v_1[$v_3]){$v_2=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeByIndex($v_1[$v_3]).LogicalName;break}return Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$2f($v_2,$v_0)};Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$2f=function($p0,$p1){var $v_0=Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep(),$v_1=new Microsoft.Crm.Workflow.Expressions.PrimaryEntity($v_0),$v_2=new Microsoft.Crm.Workflow.Expressions.EntityAttributeExpression($v_1,$p0);$v_2.set_type($p1);return $v_2};Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.prototype={buildView:function(conditionSection,expressionId){var $v_0=this.$5b_0(),$v_1=new Mscrm.BusinessRules.ViewModels.ConditionExpressionViewModel(Mscrm.BusinessRules.ViewModels.ExpressionAdaptorFactory.$3O($v_0),expressionId),$v_2=this.$6h_0(conditionSection,$v_1),$v_3=new Mscrm.BusinessRules.Views.ExpressionView($v_2);$v_3.set_dataContext($v_1);$v_3.initialize();return $v_3},$6h_0:function($p0,$p1){var $v_0=new Sys.StringBuilder,$v_1=new Mscrm.BusinessRules.Builders.ExpressionElementHtmlBuilder;$v_1.buildHtml($v_0,$p1);var $v_2=this.$S_0.fromHtml($v_0.toString());$p0.append($v_2);return $v_2},$5b_0:function(){var $v_0=Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$50(),$v_1=Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$51($v_0);return new Microsoft.Crm.Workflow.Expressions.BinaryExpression(Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep(),6,$v_0,[$v_1])},$S_0:null};Mscrm.BusinessRules.Builders.ReadToolBarButtonViewBuilder=function(){};Mscrm.BusinessRules.Builders.ReadToolBarButtonViewBuilder.prototype={$S_0:null,get_jQueryProxy:function(){return this.$S_0||(this.$S_0=new Mscrm.BusinessRules.Proxies.JQueryProxy)},set_jQueryProxy:function($p0){this.$S_0=$p0;return $p0},build:function($p0){var $v_0=new Mscrm.BusinessRules.Views.ReadToolBarButtonView;$v_0.set_dataContext($p0);var $v_1=new Sys.StringBuilder;$v_1.append(String.format('<a role="menuitem" class="ms-crm-Button" aria-label="{0}" title="{0}"></a>',CrmEncodeDecode.CrmHtmlAttributeEncode($p0.get_titleText())));$v_0.set_element(this.get_jQueryProxy().fromHtml($v_1.toString()));var $v_2=this.get_jQueryProxy().fromElement(Mscrm.ImageStrip.getImage($p0.get_iconUrl()));$v_0.set_icon($v_2);var $v_3=this.get_jQueryProxy().fromElement(Mscrm.ImageStrip.getImage($p0.get_hoverIconUrl()));$v_0.set_hoverIcon($v_3);return $v_0}};Mscrm.BusinessRules.Builders.ReadToolBarViewBuilder=function(){};Mscrm.BusinessRules.Builders.ReadToolBarViewBuilder.prototype={$S_0:null,get_jQueryProxy:function(){return this.$S_0||(this.$S_0=new Mscrm.BusinessRules.Proxies.JQueryProxy)},set_jQueryProxy:function($p0){this.$S_0=$p0;return $p0},buildAction:function($p0,$p1){var $v_0=new Mscrm.BusinessRules.Views.ActionReadToolBarView($p0);$v_0.set_dataContext($p1);$v_0.set_element(this.get_jQueryProxy().fromHtml("<div class='ms-crm-ReadToolBar'></div>"));var $$t_3=$v_0;$p1.get_deleteCommand().set_deleteDelegate($$t_3.$$d_deleteHandler||($$t_3.$$d_deleteHandler=Function.createDelegate($$t_3,$$t_3.deleteHandler)));var $$t_4=$v_0;$p1.get_moveUpCommand().set_moveUpDelegate($$t_4.$$d_moveUpHandler||($$t_4.$$d_moveUpHandler=Function.createDelegate($$t_4,$$t_4.moveUpHandler)));var $$t_5=$v_0;$p1.get_moveDownCommand().set_moveDownDelegate($$t_5.$$d_moveDownHandler||($$t_5.$$d_moveDownHandler=Function.createDelegate($$t_5,$$t_5.moveDownHandler)));return $v_0},buildCondition:function($p0,$p1){var $v_0=new Mscrm.BusinessRules.Views.ConditionReadToolBarView($p0);$v_0.set_dataContext($p1);$v_0.set_element(this.get_jQueryProxy().fromHtml("<div class='ms-crm-ReadToolBar'></div>"));var $$t_3=$v_0;$p1.get_deleteCommand().set_deleteDelegate($$t_3.$$d_deleteHandler||($$t_3.$$d_deleteHandler=Function.createDelegate($$t_3,$$t_3.deleteHandler)));return $v_0}};Mscrm.BusinessRules.Builders.ExpressionElementHtmlBuilder=function(){};Mscrm.BusinessRules.Builders.ExpressionElementHtmlBuilder.prototype={buildHtml:function(htmlBuilder,viewModel){this.$6g_0(htmlBuilder,viewModel);this.$6e_0(htmlBuilder,viewModel);this.$6f_0(htmlBuilder)},$6e_0:function($p0,$p1){var $v_0=$p1.get_leftOperand().get_displayValue(),$v_1=$p1.get_expressionOperator().get_displayName(),$v_2=$p1.$1i_2?window.LOCID_PBLEXPRESSION_IF:window.LOCID_PBLEXPRESSION_AND;$p0.append(String.format(Mscrm.BusinessRules.HtmlFormat.binaryExpressionFormat,CrmEncodeDecode.CrmHtmlEncode($v_2),CrmEncodeDecode.CrmHtmlEncode($v_0),CrmEncodeDecode.CrmHtmlEncode($v_1),CrmEncodeDecode.CrmHtmlEncode($p1.get_rightOperand().get_displayValue()),CrmEncodeDecode.CrmHtmlAttributeEncode(this.$3c_0),CrmEncodeDecode.CrmHtmlAttributeEncode(this.$3k_0),CrmEncodeDecode.CrmHtmlAttributeEncode(this.$3o_0),CrmEncodeDecode.CrmHtmlAttributeEncode(this.$3u_0)))},$6g_0:function($p0,$p1){this.$6o_0($p1);$p0.append(String.format(Mscrm.BusinessRules.HtmlFormat.expressionStartFormat,CrmEncodeDecode.CrmHtmlAttributeEncode($p1.get_id())));$p0.append(String.format(Mscrm.BusinessRules.HtmlFormat.expressionInlineHtmlStartFormat,CrmEncodeDecode.CrmHtmlAttributeEncode(String.format("{0}_chrome",$p1.get_id())),CrmEncodeDecode.CrmHtmlAttributeEncode(this.$2x_0)))},$6f_0:function($p0){$p0.append("</div></div></div>");$p0.append("</div>")},$6o_0:function($p0){this.$3c_0=String.format("{0}_rm_expprefix",$p0.get_id());this.$3k_0=String.format("{0}_rm_lefopcon",$p0.get_id());this.$3o_0=String.format("{0}_rm_conopcon",$p0.get_id());if(!IsNull($p0.get_rightOperand()))this.$3u_0=String.format("{0}_rm_rigopcon",$p0.get_id());this.$2x_0=this.$3c_0+" "+this.$3k_0+" "+this.$3o_0+" "+this.$3u_0},$2x_0:"",$3k_0:"",$3u_0:"",$3o_0:"",$3c_0:""};Mscrm.BusinessRules.Builders.StepBaseBuilder=function($p0){this.workflowStep=$p0};Mscrm.BusinessRules.Builders.StepBaseBuilder.prototype={_sectionId:null,workflowStep:null,$5X_0:function($p0){var $v_0=this.buildModel();this.$0_0=Mscrm.BusinessRules.ViewModels.StepSectionViewModelFactory.$2h($v_0);this._sectionId=$v_0.get_id();var $v_1=this.renderView(),$v_2=$P_CRM($v_1);$p0.get_jQueryObject().append($v_2);var $v_3=Mscrm.BusinessRules.Views.StepSectionViewFactory.$2h(this.$0_0,(new Mscrm.BusinessRules.Proxies.JQueryProxy).fromElement($v_2[0]));return $v_3},renderView:function(){var $v_0=new Sys.StringBuilder;this.$6j_0($v_0);this.renderStep($v_0);this.$6i_0($v_0);return $v_0.toString()},get_viewModel:function(){return this.$0_0},renderStep:function($p0){},$6j_0:function($p0){$p0.append(String.format(Mscrm.BusinessRules.HtmlFormat.stepStartFormat,CrmEncodeDecode.CrmHtmlAttributeEncode(this._sectionId)));$p0.append(String.format(Mscrm.BusinessRules.HtmlFormat.stepInlineHtmlStartFormat,CrmEncodeDecode.CrmHtmlAttributeEncode(String.format("{0}_chrome",this._sectionId)),CrmEncodeDecode.CrmHtmlAttributeEncode(String.format("{0}_stepcontent",this._sectionId))))},$6i_0:function($p0){$p0.append("</div></div></div>");$p0.append("</div>")},$0_0:null};Mscrm.BusinessRules.Builders.SetDisplayModeStepBuilder=function($p0,$p1){Mscrm.BusinessRules.Builders.SetDisplayModeStepBuilder.initializeBase(this,[$p0]);this.$Y_1=$p1;var $v_0=Mscrm.BusinessRules.Views.ViewHelper.get_$K().EntityMetadata.Fields;if($v_0&&$v_0.length>0){this.$1F_1=$v_0[0].LogicalName;this.$1E_1=$v_0[0].Label.Description}};Mscrm.BusinessRules.Builders.SetDisplayModeStepBuilder.prototype={$4K_1:true,$1F_1:"",$1E_1:"",$Y_1:null,buildModel:function(){var $v_0=new Microsoft.Crm.Workflow.ObjectModel.SetDisplayModeStep(this.workflowStep);$v_0.set_workflow(this.workflowStep);$v_0.setJQueryFriendlyNameAndId(this.workflowStep.get_currentStepId());$v_0.set_controlId(this.$1F_1);$v_0.set_controlType("standard");$v_0.set_isReadOnly(this.$4K_1);$v_0.set_parent(this.$Y_1);this.$Y_1.get_steps().add($v_0);return $v_0},renderStep:function($p0){var $v_0=this.$0_0,$v_1=this.$4K_1?window.LOCID_BUSINESSRULE_READ_ONLY:window.LOCID_BUSINESSRULE_READWRITE,$v_2=String.format(Mscrm.BusinessRules.Views.ViewHelper.$11($v_0.getReadDisplayFormat()),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_1)),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode(this.$1E_1)));$p0.append($v_2)}};Mscrm.BusinessRules.Builders.SetMessageStepBuilder=function($p0,$p1){Mscrm.BusinessRules.Builders.SetMessageStepBuilder.initializeBase(this,[$p0]);this.$Y_1=$p1;var $v_0=Mscrm.BusinessRules.Views.ViewHelper.get_$K().EntityMetadata.Fields;if($v_0&&$v_0.length>0){this.$1F_1=$v_0[0].LogicalName;this.$1E_1=$v_0[0].Label.Description}};Mscrm.BusinessRules.Builders.SetMessageStepBuilder.prototype={$4L_1:"",$1F_1:"",$1E_1:"",$Y_1:null,buildModel:function(){var $v_0=new Microsoft.Crm.Workflow.ObjectModel.SetMessageStep(this.workflowStep);$v_0.set_workflow(this.workflowStep);$v_0.setJQueryFriendlyNameAndId(this.workflowStep.get_currentStepId());$v_0.set_controlId(this.$1F_1);var $v_1=new Microsoft.Crm.Workflow.ObjectModel.StepLabel;$v_1.set_description(this.$4L_1);$v_1.set_languageCode(parseInt(window.LOCID_BUSINESSRULE_SETORGLCID));$v_1.set_labelId(Mscrm.Utilities.createGuid());$v_0.get_stepLabels().add($v_1);$v_0.set_parent(this.$Y_1);this.$Y_1.get_steps().add($v_0);return $v_0},renderStep:function($p0){var $v_0=this.$0_0,$v_1=String.format(Mscrm.BusinessRules.Views.ViewHelper.$11($v_0.getReadDisplayFormat()),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode(this.$1E_1)),String.format('<b>"{0}"</b>',CrmEncodeDecode.CrmHtmlEncode(this.$4L_1)));$p0.append($v_1)}};Mscrm.BusinessRules.Builders.SetRequiredLevelStepBuilder=function($p0,$p1){this.$3W_1=0;Mscrm.BusinessRules.Builders.SetRequiredLevelStepBuilder.initializeBase(this,[$p0]);this.$Y_1=$p1;var $v_0=Mscrm.BusinessRules.Views.ViewHelper.get_$K().EntityMetadata.Fields;if($v_0&&$v_0.length>0){this.$1F_1=$v_0[0].LogicalName;this.$1E_1=$v_0[0].Label.Description}};Mscrm.BusinessRules.Builders.SetRequiredLevelStepBuilder.prototype={$1F_1:"",$1E_1:"",$Y_1:null,buildModel:function(){var $v_0=new Microsoft.Crm.Workflow.ObjectModel.SetFieldRequiredLevelStep(this.workflowStep);$v_0.set_workflow(this.workflowStep);$v_0.setJQueryFriendlyNameAndId(this.workflowStep.get_currentStepId());$v_0.set_controlId(this.$1F_1);$v_0.set_controlType("standard");$v_0.set_entity(new Microsoft.Crm.Workflow.Expressions.PrimaryEntity(this.workflowStep));$v_0.set_requiredLevel(this.$3W_1);$v_0.set_parent(this.$Y_1);this.$Y_1.get_steps().add($v_0);return $v_0},renderStep:function($p0){var $v_0=this.$0_0,$v_1=!this.$3W_1?window.LOCID_BUSINESSRULE_NOBIZREQUIRED:window.LOCID_BUSINESSRULE_BIZREQUIRED,$v_2=String.format(Mscrm.BusinessRules.Views.ViewHelper.$11($v_0.getReadDisplayFormat()),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode(this.$1E_1)),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_1)));$p0.append($v_2)}};Mscrm.BusinessRules.Builders.SetVisibilityStepBuilder=function($p0,$p1){Mscrm.BusinessRules.Builders.SetVisibilityStepBuilder.initializeBase(this,[$p0]);this.$Y_1=$p1;var $v_0=Mscrm.BusinessRules.Views.ViewHelper.get_$K().EntityMetadata.Fields;if($v_0&&$v_0.length>0){this.$1F_1=$v_0[0].LogicalName;this.$1E_1=$v_0[0].Label.Description}};Mscrm.BusinessRules.Builders.SetVisibilityStepBuilder.prototype={$4M_1:true,$1F_1:"",$1E_1:"",$Y_1:null,buildModel:function(){var $v_0=new Microsoft.Crm.Workflow.ObjectModel.SetVisibilityStep(this.workflowStep);$v_0.set_workflow(this.workflowStep);$v_0.setJQueryFriendlyNameAndId(this.workflowStep.get_currentStepId());$v_0.set_controlId(this.$1F_1);$v_0.set_controlType("standard");$v_0.set_isVisible(this.$4M_1);$v_0.set_parent(this.$Y_1);this.$Y_1.get_steps().add($v_0);return $v_0},renderStep:function($p0){var $v_0=this.$0_0,$v_1=this.$4M_1?window.LOCID_BUSINESSRULE_SHOW:window.LOCID_BUSINESSRULE_HIDE,$v_2=String.format(Mscrm.BusinessRules.Views.ViewHelper.$11($v_0.getVisibleFormat()),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_1)),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode(this.$1E_1)));$p0.append($v_2)}};Type.registerNamespace("Mscrm.BusinessRules.Commands");Mscrm.BusinessRules.Commands.IActivateCommand=function(){};Mscrm.BusinessRules.Commands.IActivateCommand.registerInterface("Mscrm.BusinessRules.Commands.IActivateCommand");Mscrm.BusinessRules.Commands.ICommand=function(){};Mscrm.BusinessRules.Commands.ICommand.registerInterface("Mscrm.BusinessRules.Commands.ICommand");Mscrm.BusinessRules.Commands.IConvertValueCommand=function(){};Mscrm.BusinessRules.Commands.IConvertValueCommand.registerInterface("Mscrm.BusinessRules.Commands.IConvertValueCommand");Mscrm.BusinessRules.Commands.IDeleteCommand=function(){};Mscrm.BusinessRules.Commands.IDeleteCommand.registerInterface("Mscrm.BusinessRules.Commands.IDeleteCommand");Mscrm.BusinessRules.Commands.IEventAdapter=function(){};Mscrm.BusinessRules.Commands.IEventAdapter.registerInterface("Mscrm.BusinessRules.Commands.IEventAdapter");Mscrm.BusinessRules.Commands.IMoveDownCommand=function(){};Mscrm.BusinessRules.Commands.IMoveDownCommand.registerInterface("Mscrm.BusinessRules.Commands.IMoveDownCommand");Mscrm.BusinessRules.Commands.IMoveUpCommand=function(){};Mscrm.BusinessRules.Commands.IMoveUpCommand.registerInterface("Mscrm.BusinessRules.Commands.IMoveUpCommand");Mscrm.BusinessRules.Commands.ISaveCommand=function(){};Mscrm.BusinessRules.Commands.ISaveCommand.registerInterface("Mscrm.BusinessRules.Commands.ISaveCommand");Mscrm.BusinessRules.Commands.ISaveAndCloseCommand=function(){};Mscrm.BusinessRules.Commands.ISaveAndCloseCommand.registerInterface("Mscrm.BusinessRules.Commands.ISaveAndCloseCommand");Mscrm.BusinessRules.Commands.ISaveAsCommand=function(){};Mscrm.BusinessRules.Commands.ISaveAsCommand.registerInterface("Mscrm.BusinessRules.Commands.ISaveAsCommand");Mscrm.BusinessRules.Commands.ValidationResultType=function(){};Mscrm.BusinessRules.Commands.ValidationResultType.prototype={ruleNameEmpty:0,other:1};Mscrm.BusinessRules.Commands.ValidationResultType.registerEnum("Mscrm.BusinessRules.Commands.ValidationResultType",false);Mscrm.BusinessRules.Commands.ActivateCommand=function(){};Mscrm.BusinessRules.Commands.ActivateCommand.prototype={$2C_0:null,$1R_0:false,execute:function(){if(IsNull(this.$2C_0))throw Error.argumentNull("ActivateDelegate");this.$1R_0=this.$2C_0();try{window.opener.$find("gridBusinessRules").Refresh()}catch($$e_0){}},dispose:function(){this.$2C_0=null},get_success:function(){return this.$1R_0},get_activateDelegate:function(){return this.$2C_0},set_activateDelegate:function(value){this.$2C_0=value;return value}};Mscrm.BusinessRules.Commands.ConvertValueCommand=function(){};Mscrm.BusinessRules.Commands.ConvertValueCommand.prototype={$29_0:null,$2R_0:null,$2Z_0:null,dispose:function(){this.$29_0=null;this.$2R_0=null;this.$2Z_0=null},execute:function(){if(IsNull(this.$2R_0))throw Error.argumentNull("LhsGetValueDelegate");if(IsNull(this.$2Z_0))throw Error.argumentNull("RhsSetValueDelegate");if(IsNull(this.$29_0))throw Error.argumentNull("ValueConverter");var $v_0=this.$2R_0();this.$29_0.set_lhsValue($v_0);this.$2Z_0(this.$29_0.get_rhsValue())},get_valueConverter:function(){return this.$29_0},set_valueConverter:function(value){this.$29_0=value;return value},get_lhsGetValueDelegate:function(){return this.$2R_0},set_lhsGetValueDelegate:function(value){this.$2R_0=value;return value},get_rhsSetValueDelegate:function(){return this.$2Z_0},set_rhsSetValueDelegate:function(value){this.$2Z_0=value;return value}};Mscrm.BusinessRules.Commands.DeleteCommand=function(){};Mscrm.BusinessRules.Commands.DeleteCommand.prototype={$2H_0:null,$1R_0:false,execute:function(){if(IsNull(this.$2H_0))throw Error.argumentNull("DeleteDelegate");this.$1R_0=this.$2H_0()},dispose:function(){this.$2H_0=null},get_success:function(){return this.$1R_0},get_deleteDelegate:function(){return this.$2H_0},set_deleteDelegate:function($p0){this.$2H_0=$p0;return $p0}};Mscrm.BusinessRules.Commands.MoveDownCommand=function(){};Mscrm.BusinessRules.Commands.MoveDownCommand.prototype={$2T_0:null,$1R_0:false,execute:function(){if(IsNull(this.$2T_0))throw Error.argumentNull("MoveDownDelegate");this.$1R_0=this.$2T_0()},dispose:function(){this.$2T_0=null},get_success:function(){return this.$1R_0},get_moveDownDelegate:function(){return this.$2T_0},set_moveDownDelegate:function($p0){this.$2T_0=$p0;return $p0}};Mscrm.BusinessRules.Commands.MoveUpCommand=function(){};Mscrm.BusinessRules.Commands.MoveUpCommand.prototype={$2V_0:null,$1R_0:false,execute:function(){if(IsNull(this.$2V_0))throw Error.argumentNull("MoveUpDelegate");this.$1R_0=this.$2V_0()},dispose:function(){this.$2V_0=null},get_success:function(){return this.$1R_0},get_moveUpDelegate:function(){return this.$2V_0},set_moveUpDelegate:function($p0){this.$2V_0=$p0;return $p0}};Mscrm.BusinessRules.Commands.SaveAndCloseCommand=function(){};Mscrm.BusinessRules.Commands.SaveAndCloseCommand.prototype={execute:function(){var $v_0=new Mscrm.BusinessRules.Commands.SaveCommand;$v_0.set_saveDelegate(this.$b_0);var $$t_3=this;$v_0.set_callback(function($p1_0){if(!$p1_0.get_success())return;try{window.close()}catch($$e_2){}});$v_0.execute()},dispose:function(){this.$b_0=null},get_saveDelegate:function(){return this.$b_0},set_saveDelegate:function(value){this.$b_0=value;return value},$b_0:null};Mscrm.BusinessRules.Commands.SaveAsCommand=function(){};Mscrm.BusinessRules.Commands.SaveAsCommand.prototype={execute:function(){var $v_0=new Mscrm.BusinessRules.Commands.SaveCommand;$v_0.set_saveDelegate(this.$b_0);var $$t_3=this;$v_0.set_callback(function($p1_0){if(!$p1_0.get_success())return;var $v_1=Mscrm.CrmUri.create(window.location.href);$v_1.get_query()["id"]=$p1_0.$1W_0;window.location.href=$v_1.toString()});$v_0.execute()},dispose:function(){this.$b_0=null},get_saveDelegate:function(){return this.$b_0},set_saveDelegate:function(value){this.$b_0=value;return value},$b_0:null};Mscrm.BusinessRules.Commands.SaveCommand=function(){this.$$d_$6k_0=Function.createDelegate(this,this.$6k_0)};Mscrm.BusinessRules.Commands.SaveCommand.get_progressStatusControl=function(){if(IsNull(Mscrm.BusinessRules.Commands.SaveCommand.$38))Mscrm.BusinessRules.Commands.SaveCommand.$38=new Mscrm.ProgressControl;return Mscrm.BusinessRules.Commands.SaveCommand.$38};Mscrm.BusinessRules.Commands.SaveCommand.get_errorFlyout=function(){if(IsNull(Mscrm.BusinessRules.Commands.SaveCommand.$2w))Mscrm.BusinessRules.Commands.SaveCommand.$2w=new Mscrm.BusinessRuleErrorFlyout($P_CRM("#BodyViewContainer"));return Mscrm.BusinessRules.Commands.SaveCommand.$2w};Mscrm.BusinessRules.Commands.SaveCommand.prototype={execute:function(){if(Mscrm.MaskPanel.get_instance().$1z_0){Mscrm.MaskPanel.get_instance().blinkEditViewElement();return}Mscrm.BusinessRules.Commands.SaveCommand.get_progressStatusControl().forceShow();if(IsNull(this.$b_0))throw Error.argumentNull("SaveDelegate");this.$b_0(this.$$d_$6k_0)},$6k_0:function($p0){Mscrm.BusinessRules.Commands.SaveCommand.get_progressStatusControl().hide();if(!$p0.get_success()&&!$p0.get_displayErrorDialog()){var $v_0=isNullOrEmptyString($p0.get_message())?String.format(window.LOCID_PBLERROR_GENERIC,"",""):$p0.get_message();Mscrm.BusinessRules.Commands.SaveCommand.get_errorFlyout().show($v_0)}this.$2F_0&&this.$2F_0($p0);if(!IsNull($p0)&&$p0.get_success())try{switch(Mscrm.CrmUri.create(window.location.href).get_query()["BRlaunchpoint"].toString()){case "BRExplorer":window.opener.Mscrm.BusinessRulesExplorer.refreshBusinessRulesExplorer();break;case "BRGrid":window.opener.$find("gridBusinessRules").Refresh();break;default:window.opener.$find("gridBusinessRules").Refresh();break}}catch($$e_2){}},dispose:function(){this.$b_0=null},get_saveDelegate:function(){return this.$b_0},set_saveDelegate:function(value){this.$b_0=value;return value},get_callback:function(){return this.$2F_0},set_callback:function(value){this.$2F_0=value;return value},$b_0:null,$2F_0:null};Mscrm.BusinessRules.Commands.HelpCommand=function(){};Mscrm.BusinessRules.Commands.HelpCommand.prototype={execute:function(){if(Mscrm.MaskPanel.get_instance().$1z_0){Mscrm.MaskPanel.get_instance().blinkEditViewElement();return}var $v_0="http://go.microsoft.com/fwlink/?LinkID=313366";window.open($v_0)},dispose:function(){}};Mscrm.BusinessRules.Commands.SaveCommandResult=function(result){this.$3A_0=result};Mscrm.BusinessRules.Commands.SaveCommandResult.prototype={get_success:function(){return this.$3A_0.isValid},get_message:function(){return this.$3A_0.errorText},get_displayErrorDialog:function(){switch(this.$3A_0.$23_1){case 0:return true;default:return false}},get_businessRuleId:function(){return this.$1W_0},set_businessRuleId:function(value){this.$1W_0=value;return value},$1W_0:null,$3A_0:null};Mscrm.BusinessRules.Commands.BusinessRuleValidationResult=function(isValid,errorText){this.$23_1=1;Mscrm.BusinessRules.Commands.BusinessRuleValidationResult.initializeBase(this,[isValid,errorText]);this.errorText=errorText;this.isValid=isValid};Mscrm.BusinessRules.Commands.BusinessRuleValidationResult.prototype={get_resultType:function(){return this.$23_1},set_resultType:function(value){this.$23_1=value;return value}};Mscrm.BusinessRules.Commands.StepChromeElementKeyDownCommand=function(){};Mscrm.BusinessRules.Commands.StepChromeElementKeyDownCommand.prototype={$21_0:false,$3G_0:false,$3x_0:false,$35_0:0,$2r_0:null,$G_0:null,$2Q_0:null,$1Z_0:0,$5q_0:function(){if(this.$3x_0)if(IsNull(this.$G_0.get_selectedButtonViewModel()))this.$21_0=false;else{this.$1Z_0--;if(this.$1Z_0>=0){this.$G_0.get_selectedButtonViewModel().set_selected(false);this.$G_0.set_selectedButtonViewModel(this.$G_0.get_buttonViewModels().get_item(this.$1Z_0));this.$G_0.get_selectedButtonViewModel().set_selected(true)}else{this.$G_0.get_selectedButtonViewModel().set_selected(false);this.$G_0.set_selectedButtonViewModel(null)}}else if(IsNull(this.$G_0.get_selectedButtonViewModel())&&this.$G_0.get_buttonViewModels().get_count()>0){this.$G_0.set_selectedButtonViewModel(this.$G_0.get_buttonViewModels().first());this.$1Z_0=0;this.$G_0.get_selectedButtonViewModel().set_selected(true)}else{this.$1Z_0++;if(this.$1Z_0<this.$G_0.get_buttonViewModels().get_count()){this.$G_0.get_selectedButtonViewModel().set_selected(false);this.$G_0.set_selectedButtonViewModel(this.$G_0.get_buttonViewModels().get_item(this.$1Z_0));this.$G_0.get_selectedButtonViewModel().set_selected(true)}else{this.$G_0.get_selectedButtonViewModel().set_selected(false);this.$G_0.set_selectedButtonViewModel(null);this.$21_0=false}}},get_$6I_0:function(){if(IsNull(this.$2Q_0)){this.$2Q_0=Mscrm.BusinessRules.SharedMethods.getList(Number);this.$2Q_0.add(13);this.$2Q_0.add(9)}return this.$2Q_0},dispose:function(){if(!IsNull(this.$G_0))this.$G_0=null},execute:function(){if(this.$2r_0.get_currentState()!==Mscrm.ChromeState.selected||!this.get_$6I_0().contains(this.$35_0))return;this.$21_0=true;this.$3G_0=true;if(this.$35_0===13)this.$5n_0();else this.$5q_0()},$5n_0:function(){if(IsNull(this.$G_0.get_selectedButtonViewModel())){this.$21_0=false;this.$3G_0=false;return}this.$G_0.get_selectedButtonViewModel().get_command().execute()},get_preventDefault:function(){return this.$21_0},set_preventDefault:function($p0){this.$21_0=$p0;return $p0},get_stopPropagation:function(){return this.$3G_0},set_stopPropagation:function($p0){this.$3G_0=$p0;return $p0},get_shiftKey:function(){return this.$3x_0},set_shiftKey:function($p0){this.$3x_0=$p0;return $p0},get_keyCode:function(){return this.$35_0},set_keyCode:function($p0){this.$35_0=$p0;return $p0},get_chromeStateData:function(){return this.$2r_0},set_chromeStateData:function($p0){this.$2r_0=$p0;return $p0},get_readToolBarViewModel:function(){return this.$G_0},set_readToolBarViewModel:function($p0){this.$G_0=$p0;return $p0}};Type.registerNamespace("Mscrm.BusinessRules.Converters");Mscrm.BusinessRules.Converters.IValueConverter=function(){};Mscrm.BusinessRules.Converters.IValueConverter.registerInterface("Mscrm.BusinessRules.Converters.IValueConverter");Mscrm.BusinessRules.Converters.BaseValueConverter=function(){};Mscrm.BusinessRules.Converters.BaseValueConverter.prototype={$3l_0:null,$3t_0:null,convertToRhsValue:function(){return this.get_lhsValue()},convertToLhsValue:function(){return this.get_rhsValue()},get_lhsValue:function(){return this.$3l_0},set_lhsValue:function(value){this.$3l_0=value;this.$3t_0=this.convertToRhsValue();return value},get_rhsValue:function(){return this.$3t_0},set_rhsValue:function(value){this.$3t_0=value;this.$3l_0=this.convertToLhsValue();return value}};Type.registerNamespace("Mscrm.BusinessRules.Factories");Mscrm.BusinessRules.Factories.IBindingsFactory=function(){};Mscrm.BusinessRules.Factories.IBindingsFactory.registerInterface("Mscrm.BusinessRules.Factories.IBindingsFactory");Mscrm.BusinessRules.Factories.ICommandsFactory=function(){};Mscrm.BusinessRules.Factories.ICommandsFactory.registerInterface("Mscrm.BusinessRules.Factories.ICommandsFactory");Mscrm.BusinessRules.Factories.IValueConvertersFactory=function(){};Mscrm.BusinessRules.Factories.IValueConvertersFactory.registerInterface("Mscrm.BusinessRules.Factories.IValueConvertersFactory");Mscrm.BusinessRules.Factories.IViewFactory=function(){};Mscrm.BusinessRules.Factories.IViewFactory.registerInterface("Mscrm.BusinessRules.Factories.IViewFactory");Mscrm.BusinessRules.Factories.BindingsFactory=function(){};Mscrm.BusinessRules.Factories.BindingsFactory.prototype={$2s_0:null,get_commandsFactory:function(){return this.$2s_0},set_commandsFactory:function(value){this.$2s_0=value;return value},createClickBinding:function(element,command){var $v_0=new Mscrm.BusinessRules.Bindings.ClickBinding;$v_0.set_element(element);$v_0.set_command(command);return $v_0},createValueBinding:function(lhsValueChangeBinding,rhsValueChangeBinding,lhsValueConverter,rhsValueConverter){var $v_0=this.$2s_0.createConvertValueCommand(lhsValueChangeBinding.get_getValueDelegate(),rhsValueChangeBinding.get_setValueDelegate(),lhsValueConverter);lhsValueChangeBinding.set_command($v_0);var $v_1=this.$2s_0.createConvertValueCommand(rhsValueChangeBinding.get_getValueDelegate(),lhsValueChangeBinding.get_setValueDelegate(),rhsValueConverter);rhsValueChangeBinding.set_command($v_1);var $v_2=new Mscrm.BusinessRules.Bindings.ValueBinding;$v_2.set_lhsValueChangeBinding(lhsValueChangeBinding);$v_2.set_rhsValueChangeBinding(rhsValueChangeBinding);return $v_2},createTextInputValueChangeBinding:function(textInputElement){var $v_0=new Mscrm.BusinessRules.Bindings.TextInputValueChangeBinding;$v_0.set_textInputElement(textInputElement);return $v_0},createInlineFieldControlValueChangeBinding:function(inlineControlView){var $v_0=new Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding;$v_0.set_view(inlineControlView);return $v_0},createDataContextValueChangeBinding:function(dataContext,dataContextPropertyName,getValueDelegate,setValueDelegate){var $v_0=new Mscrm.BusinessRules.Bindings.DataContextValueChangeBinding;$v_0.set_dataContext(dataContext);$v_0.set_propertyName(dataContextPropertyName);$v_0.set_getValueDelegate(getValueDelegate);$v_0.set_setValueDelegate(setValueDelegate);return $v_0},createKeyDownBinding:function(element,command){var $v_0=new Mscrm.BusinessRules.Bindings.KeyDownBinding;$v_0.set_element(element);$v_0.set_command(command);return $v_0}};Mscrm.BusinessRules.Factories.CommandsFactory=function(){};Mscrm.BusinessRules.Factories.CommandsFactory.prototype={createConvertValueCommand:function(lhsGetValueDelegate,rhsSetValueDelegate,valueConverter){var $v_0=new Mscrm.BusinessRules.Commands.ConvertValueCommand;$v_0.set_valueConverter(valueConverter);$v_0.set_lhsGetValueDelegate(lhsGetValueDelegate);$v_0.set_rhsSetValueDelegate(rhsSetValueDelegate);return $v_0}};Mscrm.BusinessRules.Factories.ValueConvertersFactory=function(){};Mscrm.BusinessRules.Factories.ValueConvertersFactory.prototype={createBaseValueConverter:function(){var $v_0=new Mscrm.BusinessRules.Converters.BaseValueConverter;return $v_0}};Mscrm.BusinessRules.Factories.ViewFactory=function(){};Mscrm.BusinessRules.Factories.ViewFactory.prototype={createHeaderView:function(dataContext){var $v_0=new Mscrm.BusinessRules.Views.HeaderView;$v_0.set_dataContext(dataContext);return $v_0},$5a_0:function($p0,$p1){var $v_0=$p1.selectElement("#BodyViewContainer"),$v_1=new Mscrm.BusinessRules.Views.FormBodyView($v_0);$v_1.set_dataContext($p0);return $v_1}};Type.registerNamespace("Mscrm.BusinessRules.Views");Mscrm.BusinessRules.Views.IBusinessRuleStepInlineViewBase=function(){};Mscrm.BusinessRules.Views.IBusinessRuleStepInlineViewBase.registerInterface("Mscrm.BusinessRules.Views.IBusinessRuleStepInlineViewBase");Mscrm.BusinessRules.Views.IInlineExpressionView=function(){};Mscrm.BusinessRules.Views.IInlineExpressionView.registerInterface("Mscrm.BusinessRules.Views.IInlineExpressionView");Mscrm.BusinessRules.Views.IExpressionView=function(){};Mscrm.BusinessRules.Views.IExpressionView.registerInterface("Mscrm.BusinessRules.Views.IExpressionView");Mscrm.BusinessRules.Views.IOperandView=function(){};Mscrm.BusinessRules.Views.IOperandView.registerInterface("Mscrm.BusinessRules.Views.IOperandView");Mscrm.BusinessRules.Views.IResetFocus=function(){};Mscrm.BusinessRules.Views.IResetFocus.registerInterface("Mscrm.BusinessRules.Views.IResetFocus");Mscrm.BusinessRules.Views.IOperatorView=function(){};Mscrm.BusinessRules.Views.IOperatorView.registerInterface("Mscrm.BusinessRules.Views.IOperatorView");Mscrm.BusinessRules.Views.IOperandTypeView=function(){};Mscrm.BusinessRules.Views.IOperandTypeView.registerInterface("Mscrm.BusinessRules.Views.IOperandTypeView");Mscrm.BusinessRules.Views.IValueInlineControl=function(){};Mscrm.BusinessRules.Views.IValueInlineControl.registerInterface("Mscrm.BusinessRules.Views.IValueInlineControl");Mscrm.BusinessRules.Views.IValueInlineControlRepository=function(){};Mscrm.BusinessRules.Views.IValueInlineControlRepository.registerInterface("Mscrm.BusinessRules.Views.IValueInlineControlRepository");Mscrm.BusinessRules.Views.ISectionView=function(){};Mscrm.BusinessRules.Views.ISectionView.registerInterface("Mscrm.BusinessRules.Views.ISectionView");Mscrm.BusinessRules.Views.IStepSectionView=function(){};Mscrm.BusinessRules.Views.IStepSectionView.registerInterface("Mscrm.BusinessRules.Views.IStepSectionView");Mscrm.BusinessRules.Views.IReadToolBarButtonView=function(){};Mscrm.BusinessRules.Views.IReadToolBarButtonView.registerInterface("Mscrm.BusinessRules.Views.IReadToolBarButtonView");Mscrm.BusinessRules.Views.IReadToolBarView=function(){};Mscrm.BusinessRules.Views.IReadToolBarView.registerInterface("Mscrm.BusinessRules.Views.IReadToolBarView");Mscrm.BusinessRules.Views.IActionReadToolBarView=function(){};Mscrm.BusinessRules.Views.IActionReadToolBarView.registerInterface("Mscrm.BusinessRules.Views.IActionReadToolBarView");Mscrm.BusinessRules.Views.IConditionReadToolBarView=function(){};Mscrm.BusinessRules.Views.IConditionReadToolBarView.registerInterface("Mscrm.BusinessRules.Views.IConditionReadToolBarView");Mscrm.BusinessRules.Views.IEditToolbarView=function(){};Mscrm.BusinessRules.Views.IEditToolbarView.registerInterface("Mscrm.BusinessRules.Views.IEditToolbarView");Mscrm.BusinessRules.Views.IHeaderView=function(){};Mscrm.BusinessRules.Views.IHeaderView.registerInterface("Mscrm.BusinessRules.Views.IHeaderView");Mscrm.BusinessRules.Views.IManageBusinessRuleView=function(){};Mscrm.BusinessRules.Views.IManageBusinessRuleView.registerInterface("Mscrm.BusinessRules.Views.IManageBusinessRuleView");Mscrm.BusinessRules.Views.IView=function(){};Mscrm.BusinessRules.Views.IView.registerInterface("Mscrm.BusinessRules.Views.IView");Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView=function($p0){this.$$d_$6O_1=Function.createDelegate(this,this.$6O_1);this.$4R_1=String.format("<div class='{0}'><div class='{1}'><div class='{2}'><img src='{3}' class='{4}' tabindex='0' title='{8}'></img></div><div class='{5}'><img src='{6}' class='{7}' tabindex='0' title='{9}'></img></div></div></div>","edittoolbarcontainer","edittoolbar","editdoneimage","{0}","{1}","editdiscardimage","{2}","{3}",CrmEncodeDecode.CrmHtmlAttributeEncode(window.LOCID_BUSINESSRULE_DONETOOLTIP),CrmEncodeDecode.CrmHtmlAttributeEncode(window.LOCID_BUSINESSRULE_DISCRDTOOLTIP));Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView.prototype={setFocus:function(){if(IsNull(this.get_$2e_1()))return;this.get_$2e_1().get_jQueryObject().select()},render:function(){this.createAndAppendEditElementToDom();this.get_inlineView().get_layout().renderForEdit();this.attachBehaviors();this.initializeInputBehavior();this.postCreateEditElement();this.$69_1()},confirm:function(){if(this.get_inlineView().get_isValid())Mscrm.InlineEditViewBase.prototype.confirm.call(this);else this.discard(false)},createAndAppendEditElementToDom:function(){this.set_editElement(this.createEditElement());this.set_editElementWrapper($P_CRM(Mscrm.ElementTemplate.div).append(this.get_editElement()).addClass(Mscrm.CssClassNames.editElement));this.get_editElementWrapper().hide();this.get_chromeElement().append(this.get_editElementWrapper())},postCreateEditElement:function(){Mscrm.InlineEditViewBase.prototype.postCreateEditElement.call(this);this.$5v_1()},attachBehaviors:function(){this.get_businessRuleView().get_chromeBehavior().initializeForEditElement()},$5v_1:function(){this.$n_1=this.initializeEditToolbar(new Mscrm.BusinessRules.Proxies.JQueryObjectProxy(this.get_editElement().find(".edittoolbar")));this.$n_1.initialize();var $$t_5=this;this.$n_1.get_discardButton().bind(Mscrm.EventNames.click,function($p1_0){$$t_5.discard(false)});var $$t_6=this;this.$n_1.get_doneButton().bind(Mscrm.EventNames.click,function($p1_0){$$t_6.confirm()});var $$t_7=this;this.$n_1.get_discardButton().bind(Mscrm.EventNames.keyDown,function($p1_0){var $v_0=$p1_0;$p1_0.which===13&&$$t_7.discard(false);if($p1_0.which===9&&!IsNull($v_0)&&!$v_0.shiftKey){$p1_0.preventDefault();$$t_7.get_$2e_1().get_jQueryObject().select()}});var $$t_8=this;this.$n_1.get_doneButton().bind(Mscrm.EventNames.keyDown,function($p1_0){$p1_0.which===13&&$$t_8.confirm()})},$69_1:function(){this.get_$2e_1().bind(Mscrm.EventNames.keyDown,this.$$d_$6O_1)},bindPageClick:function(){},unbindPageClick:function(){},onPageClick:function($p0){},onEditElementWrapperStateChanged:function($p0){if($p0.target!==$p0.currentTarget)return;Mscrm.InlineEditViewBase.prototype.onEditElementWrapperStateChanged.call(this,$p0)},showEditElement:function(){Mscrm.InlineEditViewBase.prototype.showEditElement.call(this);Mscrm.MaskPanel.get_instance().showMaskPanel(this);this.get_chromeElement().bind(Mscrm.EventNames.keyDown,this.$$d_$6O_1);this.$2G_1=false;this.setFocus();var $v_0=this.get_jQueryProxy().selectElement(".ui-combobox-toggle");if(window.LOCID_UI_DIR==="RTL")$v_0.addClass("combobox-rtl");else $v_0.addClass("combobox-ltr")},hideEditElement:function(){Mscrm.MaskPanel.get_instance().hideMaskPanel();Mscrm.InlineEditViewBase.prototype.hideEditElement.call(this)},get_businessRuleView:function(){return this.get_inlineView()},createToolbarHtml:function($p0,$p1,$p2){$p0.append(String.format(this.$4R_1,CrmEncodeDecode.CrmHtmlAttributeEncode($p2.source),CrmEncodeDecode.CrmHtmlAttributeEncode($p2.cssClass),CrmEncodeDecode.CrmHtmlAttributeEncode($p1.source),CrmEncodeDecode.CrmHtmlAttributeEncode($p1.cssClass)))},dispose:function(){this.$n_1.get_discardButton().unbind(Mscrm.EventNames.click,null);this.$n_1.get_discardButton().unbind(Mscrm.EventNames.keyDown,null);this.$n_1.get_doneButton().unbind(Mscrm.EventNames.click,null);this.$n_1.get_doneButton().unbind(Mscrm.EventNames.keyDown,null);this.$n_1.dispose();this.get_$2e_1().unbind(Mscrm.EventNames.click,null);if(!this.$2G_1){this.get_chromeElement().unbind(Mscrm.EventNames.keyDown,this.$$d_$6O_1);this.$2G_1=true}Mscrm.InlineEditViewBase.prototype.dispose.call(this)},get_jQueryProxy:function(){if(IsNull(this.$S_1))this.$S_1=new Mscrm.BusinessRules.Proxies.JQueryProxy;return this.$S_1},get_$2e_1:function(){return this.$4b_1||(this.$4b_1=new Mscrm.BusinessRules.Proxies.JQueryObjectProxy(this.get_editElement().find("INPUT").first()))},$6O_1:function($p0){if($p0.which===9){if(!this.$2G_1){this.get_chromeElement().unbind(Mscrm.EventNames.keyDown,this.$$d_$6O_1);this.$2G_1=true}var $v_0=$p0;if(!IsNull($v_0)&&$v_0.shiftKey){$p0.preventDefault();this.$n_1.get_discardButton().get_jQueryObject().focus()}}},get_inlineEditControlMediator:function(){if(IsNull(this.$1g_1))this.$1g_1=new Mscrm.BusinessRules.Mediators.InlineEditControlMediator;return this.$1g_1},$1g_1:null,$n_1:null,$S_1:null,$4b_1:null,$2G_1:false};Mscrm.BusinessRules.Views.InlineStepEditViewBase=function($p0){this.$4P_2=String.format("<div class='{0}'>","editstepandtoolbarcontainer");this.$1v_2=String.format("<div class='{0}'>Here comes the edit content</div>","editstepcontainer");Mscrm.BusinessRules.Views.InlineStepEditViewBase.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineStepEditViewBase.prototype={createEditElement:function(){var $v_0=document.createElement("div");$v_0.innerHTML=this.$4u_2();return $P_CRM($v_0)},initializeEditToolbar:function($p0){return new Mscrm.BusinessRules.Views.EditStepToolbarView($p0)},discard:function($p0){Mscrm.InlineEditViewBase.prototype.discard.call(this,$p0);var $v_0=this.get_inlineView(),$v_1=$v_0.$P_1;$v_1.get_isNewCreated()&&Mscrm.BusinessRules.Views.ActionReadToolBarView.deleteAction($v_0.$P_1)},confirm:function(){if(this.get_isValid()){Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView.prototype.confirm.call(this);var $v_0=this.get_inlineView(),$v_1=$v_0.$P_1;$v_1.set_isNewCreated(false)}},$4u_2:function(){var $v_0=new Sys.StringBuilder;$v_0.append(this.$4P_2);this.createStepHtml($v_0);var $v_1=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ActionButton_OK_Default_24.png")),$v_2=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ActionButton_Cancel_Default_24.png"));this.createToolbarHtml($v_0,$v_2,$v_1);$v_0.append(this.$5N_2);return $v_0.toString()},createStepHtml:function($p0){$p0.append(this.$1v_2)},$5N_2:"</div>"};Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase=function($p0){this.$$d_$6S_1=Function.createDelegate(this,this.$6S_1);this.$$d_dataContextOnPropertyChanged=Function.createDelegate(this,this.dataContextOnPropertyChanged);Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase.prototype={get_dataContext:function(){return this.$0_1},set_dataContext:function($p0){this.$0_1=$p0;this.$0_1.add_propertyChanged(this.$$d_dataContextOnPropertyChanged);return $p0},get_parent:function(){return this.$P_1},set_parent:function($p0){this.$P_1=$p0;return $p0},get_bindingsMediator:function(){return this.$12_1||this.set_bindingsMediator(new Mscrm.BusinessRules.Mediators.BindingsMediator)},set_bindingsMediator:function($p0){this.$12_1=$p0;return $p0},setFocus:function(){var $v_0=this.get_state().get_currentState();if(IsNull(this.get_editView()))return;switch($v_0){case Mscrm.ChromeState.read:this.get_state().set_currentState(Mscrm.ChromeState.editHint);break;case Mscrm.ChromeState.edit:var $v_1=this.get_editView();$v_1.setFocus();break}},$6S_1:function($p0,$p1){switch($p1.get_propertyName()){case "SelectedButtonViewModel":this.$5o_1();break}},$5o_1:function(){var $v_0=this.get_readToolBarView().get_dataContext();if(IsNull($v_0.get_selectedButtonViewModel()))this.get_chromeElement().removeAttr("aria-activedescendant");else this.get_chromeElement().attr("aria-activedescendant",$v_0.get_selectedButtonViewModel().get_id())},renderForRead:function(){this.get_layout().renderForRead();if(IsNull(this.get_readToolBarView())){this.set_readToolBarView(this.buildReadToolBarView());var $v_0=this.get_readToolBarView().get_dataContext();$v_0.add_propertyChanged(this.$$d_$6S_1);this.get_chromeElement().attr("role","toolbar");for(var $v_1=new Sys.StringBuilder,$v_3=0;$v_3<$v_0.get_buttonViewModels().get_count();$v_3++){var $v_4=$v_0.get_buttonViewModels().get_item($v_3);$v_1.append($v_4.get_id()+" ")}var $v_2=$v_1.toString().trim();this.get_chromeElement().attr("aria-owns",$v_2);this.get_valueElement().append(this.get_readToolBarView().get_element().get_jQueryObject());this.get_readToolBarView().initialize()}this.attachBehaviors()},tryCompleteOnDemandInitialization:function(){if(!this.get_isEditControlInitialized()){this.set_editView(this.get_getEditViewObject());this.set_initializationState(Mscrm.InlineControlInitializationState.initializedForEdit);this.get_editView().render()}},dispose:function(){if(this.get_isDisposed())return;Mscrm.InlineViewBase.prototype.dispose.call(this);this.$0_1.remove_propertyChanged(this.$$d_dataContextOnPropertyChanged)},handleModelToViewBinding:function($p0,$p1){},dataContextOnPropertyChanged:function($p0,$p1){this.handleModelToViewBinding($p0,$p1)},$0_1:null,$P_1:null,$12_1:null};Mscrm.BusinessRules.Views.InlineStepViewBase=function($p0){Mscrm.BusinessRules.Views.InlineStepViewBase.$$(this.$$gta["Mscrm.BusinessRules.Views.InlineStepViewBase"]["TViewModel"],this.$$gta["Mscrm.BusinessRules.Views.InlineStepViewBase"]["TModel"]).initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineStepViewBase.$$=function($p0,$p1){var $$cn="InlineStepViewBase$2$"+$p0.getName().replace(/\./g,"_")+"$"+$p1.getName().replace(/\./g,"_");if(!Mscrm.BusinessRules.Views[$$cn]){var $$ccr=Mscrm.BusinessRules.Views[$$cn]=function(){(this.$$gta=this.$$gta||{})["Mscrm.BusinessRules.Views.InlineStepViewBase"]={TViewModel:$p0,TModel:$p1};for(var $v_0=[],$v_1=0;$v_1<arguments.length;++$v_1)$v_0[$v_1]=arguments[$v_1];Mscrm.BusinessRules.Views.InlineStepViewBase.apply(this,$v_0)};$$ccr.registerClass("Mscrm.BusinessRules.Views."+$$cn,Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase);var $$dict_6=Mscrm.BusinessRules.Views.InlineStepViewBase.prototype;for(var $$key_7 in $$dict_6){var $$entry_8={key:$$key_7,value:$$dict_6[$$key_7]};if("constructor"!==$$entry_8.key)$$ccr.prototype[$$entry_8.key]=$$entry_8.value}}return Mscrm.BusinessRules.Views[$$cn]};Mscrm.BusinessRules.Views.InlineStepViewBase.prototype={buildReadToolBarView:function(){var $v_0=new Mscrm.BusinessRules.ViewModels.ActionReadToolBarViewModel;$v_0.set_id(this.$0_2.get_stepId());var $v_1=this.get_readToolBarViewBuilder().buildAction(this.$P_1,$v_0);return $v_1},get_dataContext:function(){return Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase.prototype.get_dataContext.call(this)},set_dataContext:function($p0){Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase.prototype.set_dataContext.call(this,$p0);this.$0_2=$p0;return $p0},get_stepValueContent:function(){return this.$3y_2||(this.$3y_2=new Mscrm.BusinessRules.Proxies.JQueryObjectProxy(this.get_valueElement().children(".actioncontent")))},set_stepValueContent:function($p0){this.$3y_2=$p0;return $p0},get_readToolBarView:function(){return this.$39_2},set_readToolBarView:function($p0){this.$39_2=$p0;return $p0},get_readToolBarViewBuilder:function(){return this.$22_2||(this.$22_2=new Mscrm.BusinessRules.Builders.ReadToolBarViewBuilder)},set_readToolBarViewBuilder:function($p0){this.$22_2=$p0;return $p0},get_viewModel:function(){return this.$0_2},$0_2:null,$3y_2:null,$39_2:null,$22_2:null};Mscrm.BusinessRules.Views.InlineExpressionEditView=function($p0){this.$4O_2=String.format("<div class='{0}'>","editexpressionandtoolbarcontainer");this.$2u_2=String.format("\r\n\t\t\t\t\t<div class='{0}'>\r\n\t\t\t\t\t\t<div class='{1}' id='{2}'></div> \r\n\t\t\t\t\t\t<div class='{3}' id='{4}'></div>\r\n\t\t\t\t\t\t<div class='{5}' id='{6}'></div>\r\n\t\t\t\t\t\t<div class='{7}' id='{8}'></div>\r\n\t\t\t\t</div>","editexpressioncontainer","lefopcon","{0}","conopcon","{1}","optycon","{2}","rigopcon","{3}");Mscrm.BusinessRules.Views.InlineExpressionEditView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineExpressionEditView.prototype={get_leftOperand:function(){return this.$5_2},get_operator:function(){return this.$C_2},get_rightOperand:function(){return this.$6_2},get_rightOperandType:function(){return this.$4_2},get_editViewModel:function(){return this.$3_2},set_editViewModel:function($p0){this.$3_2=$p0;return $p0},get_isValid:function(){var $v_0=this.$5_2.get_isValid()&&this.$C_2.get_isValid();if(!this.$6H_2())$v_0=$v_0&&this.$4_2.get_isValid()&&this.$6_2.get_isValid();return $v_0},postCreateEditElement:function(){Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView.prototype.postCreateEditElement.call(this);var $v_0=String.format("{0}_lefopcon",this.get_$V_2().get_id()),$v_1=String.format("{0}_rigopcon",this.get_$V_2().get_id()),$v_2=String.format("{0}_optycon",this.get_$V_2().get_id()),$v_3=String.format("{0}_conopcon",this.get_$V_2().get_id()),$v_4=this.get_jQueryProxy().selectElement("#"+$v_0);this.$5_2=new Mscrm.BusinessRules.Views.LeftOperandView(Mscrm.BusinessRules.Views.OperandViewFactory.$2g(this.get_$V_2().get_leftOperand().get_innerOperand(),$v_4));this.$5_2.set_dataContext(this.$3_2.get_leftOperand());this.$5_2.initialize();var $v_5=this.get_jQueryProxy().selectElement("#"+$v_3);this.$C_2=new Mscrm.BusinessRules.Views.OperatorView($v_5);this.$C_2.set_dataContext(this.$3_2.get_expressionOperator());this.$C_2.initialize();var $v_6=this.get_jQueryProxy().selectElement("#"+$v_1);this.$6_2=new Mscrm.BusinessRules.Views.RightOperandView($v_6);this.$6_2.set_dataContext(this.$3_2.get_rightOperand());this.$6_2.initialize();var $v_7=this.get_jQueryProxy().selectElement("#"+$v_2);this.$4_2=new Mscrm.BusinessRules.Views.OperandTypeView($v_7);this.$4_2.set_dataContext(this.$3_2.get_operandType());this.$4_2.initialize()},createEditElement:function(){var $v_0=document.createElement("div");$v_0.innerHTML=this.$4u_2();return $P_CRM($v_0)},$4u_2:function(){var $v_0=new Sys.StringBuilder;$v_0.append(this.$4O_2);this.$4t_2($v_0);var $v_1=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ConditionButton_OK_Default_24.png")),$v_2=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ConditionButton_Cancel_Default_24.png"));this.createToolbarHtml($v_0,$v_2,$v_1);$v_0.append(this.$5M_2);return $v_0.toString()},$4t_2:function($p0){var $v_0=CrmEncodeDecode.CrmHtmlAttributeEncode(String.format("{0}_lefopcon",this.get_$V_2().get_id())),$v_1=CrmEncodeDecode.CrmHtmlAttributeEncode(String.format("{0}_rigopcon",this.get_$V_2().get_id())),$v_2=CrmEncodeDecode.CrmHtmlAttributeEncode(String.format("{0}_optycon",this.get_$V_2().get_id())),$v_3=CrmEncodeDecode.CrmHtmlAttributeEncode(String.format("{0}_conopcon",this.get_$V_2().get_id()));$p0.append(String.format(this.$2u_2,$v_0,$v_3,$v_2,$v_1))},$6H_2:function(){return IsNull(this.$3_2.get_rightOperand().get_currentInnerOperand())},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.$3_2.confirm();this.get_inlineView().updateValueElement();this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},discard:function($p0){Mscrm.InlineEditViewBase.prototype.discard.call(this,$p0);var $v_0=this.get_inlineView(),$v_1=$v_0.$P_1;if($v_1.get_isNewCreated())Mscrm.BusinessRules.Views.ConditionReadToolBarView.deleteAction($v_0.$P_1);else{this.$5_2.resetFocus();this.$6_2.resetFocus();this.$3_2.discard()}},confirm:function(){this.$5_2.resetFocus();this.$6_2.resetFocus();if(this.get_isValid()){Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView.prototype.confirm.call(this);var $v_0=this.get_inlineView(),$v_1=$v_0.$P_1;$v_1.set_isNewCreated(false)}},dispose:function(){!IsNull(this.$5_2)&&this.$5_2.dispose();!IsNull(this.$6_2)&&this.$6_2.dispose();!IsNull(this.$4_2)&&this.$4_2.dispose();!IsNull(this.$C_2)&&this.$C_2.dispose()},initializeEditToolbar:function($p0){return new Mscrm.BusinessRules.Views.EditExpressionToolbarView($p0)},get_$V_2:function(){return this.$3_2.get_viewModel()},$5_2:null,$C_2:null,$6_2:null,$4_2:null,$5M_2:"</div>",$3_2:null};Mscrm.BusinessRules.Views.InlineExpressionView=function($p0){Mscrm.BusinessRules.Views.InlineExpressionView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineExpressionView.prototype={get_getEditViewObject:function(){var $v_0=new Mscrm.BusinessRules.Views.InlineExpressionEditView(this);$v_0.$3_2=this.$0_2.get_editViewModel();return $v_0},get_dataContext:function(){return Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase.prototype.get_dataContext.call(this)},set_dataContext:function($p0){Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase.prototype.set_dataContext.call(this,$p0);this.$0_2=$p0;return $p0},get_readToolBarView:function(){return this.$39_2},set_readToolBarView:function($p0){this.$39_2=$p0;return $p0},get_stepValueContent:function(){return this.$3z_2||(this.$3z_2=new Mscrm.BusinessRules.Proxies.JQueryObjectProxy(this.get_valueElement().children(".expressioncontent")))},set_stepValueContent:function($p0){this.$3z_2=$p0;return $p0},buildReadToolBarView:function(){var $v_0=new Mscrm.BusinessRules.ViewModels.ConditionReadToolBarViewModel;$v_0.set_id(this.$0_2.get_id());var $v_1=this.get_readToolBarViewBuilder().buildCondition(this.$P_1,$v_0);return $v_1},updateValueElement:function(){var $v_0=this.$0_2.get_leftOperand().get_displayValue(),$v_1=this.$0_2.get_expressionOperator().get_displayName(),$v_2=!IsNull(this.$0_2.get_rightOperand()),$v_3=this.$0_2.$1i_2?window.LOCID_PBLEXPRESSION_IF:window.LOCID_PBLEXPRESSION_AND,$v_4=String.format("{0}_rm_lefopcon",this.$0_2.get_id()),$v_5=String.format("{0}_rm_rigopcon",this.$0_2.get_id()),$v_6=String.format("{0}_rm_conopcon",this.$0_2.get_id()),$v_7=String.format("{0}_rm_expprefix",this.$0_2.get_id());this.$2x_2=!$v_2?$v_7+" "+$v_4+" "+$v_6:$v_7+" "+$v_4+" "+$v_6+" "+$v_5;var $v_8=!$v_2?String.format(Mscrm.BusinessRules.HtmlFormat.unaryExpressionFormat,CrmEncodeDecode.CrmHtmlEncode($v_3),CrmEncodeDecode.CrmHtmlEncode($v_0),CrmEncodeDecode.CrmHtmlEncode($v_1),CrmEncodeDecode.CrmHtmlAttributeEncode($v_7),CrmEncodeDecode.CrmHtmlAttributeEncode($v_4),CrmEncodeDecode.CrmHtmlAttributeEncode($v_6)):String.format(Mscrm.BusinessRules.HtmlFormat.binaryExpressionFormat,CrmEncodeDecode.CrmHtmlEncode($v_3),CrmEncodeDecode.CrmHtmlEncode($v_0),CrmEncodeDecode.CrmHtmlEncode($v_1),CrmEncodeDecode.CrmHtmlEncode(this.$0_2.get_rightOperand().get_displayValue()),CrmEncodeDecode.CrmHtmlAttributeEncode($v_7),CrmEncodeDecode.CrmHtmlAttributeEncode($v_4),CrmEncodeDecode.CrmHtmlAttributeEncode($v_6),CrmEncodeDecode.CrmHtmlAttributeEncode($v_5));this.get_stepValueContent().html($v_8);this.get_stepValueContent().attribute(Mscrm.HtmlAttributeNames.ariaDescribedBy,this.$2x_2)},get_readToolBarViewBuilder:function(){return this.$22_2||(this.$22_2=new Mscrm.BusinessRules.Builders.ReadToolBarViewBuilder)},set_readToolBarViewBuilder:function($p0){this.$22_2=$p0;return $p0},$0_2:null,$2x_2:"",$3z_2:null,$39_2:null,$22_2:null};Mscrm.BusinessRules.Views.ArithmeticExpressionEditView=function($p0){this.$2u_2=String.format("\r\n\t\t\t\t\t<div class='{0}'>\r\n\t\t\t\t\t\t<div class='{1}' id='{2}'></div> \r\n\t\t\t\t\t\t<div class='{3}' id='{4}'></div>\r\n\t\t\t\t\t\t<div class='{5}' id='{6}'></div>\r\n\t\t\t\t\t\t<div class='{7}' id='{8}'></div>\r\n\t\t\t\t</div>","editexpressioncontainer","lefopcon","{0}","conopcon","{1}","optycon","{2}","rigopcon","{3}");Mscrm.BusinessRules.Views.ArithmeticExpressionEditView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.ArithmeticExpressionEditView.prototype={get_dataContext:function(){return this.$0_2},set_dataContext:function($p0){this.$0_2=$p0;return $p0},get_leftOperand:function(){return this.$5_2},get_operator:function(){return this.$C_2},get_rightOperand:function(){return this.$6_2},get_rightOperandType:function(){return this.$4_2},get_isValid:function(){return this.$5_2.get_isValid()&&this.$C_2.get_isValid()&&this.$4_2.get_isValid()&&this.$6_2.get_isValid()},initialize:function(){Mscrm.BusinessRules.Views.View.prototype.initialize.call(this);var $v_0=this.$0_2.get_viewModel().get_id();this.$4t_2($v_0);var $v_1=String.format("{0}_lefopcon",$v_0),$v_2=String.format("{0}_rigopcon",$v_0),$v_3=String.format("{0}_optycon",$v_0),$v_4=String.format("{0}_conopcon",$v_0),$v_5=this.get_jQueryProxy().selectElement("#"+$v_1);this.$5_2=new Mscrm.BusinessRules.Views.LeftOperandView(Mscrm.BusinessRules.Views.OperandViewFactory.$2g(this.$0_2.get_leftOperand().get_innerOperand().get_viewModel(),$v_5));this.$5_2.set_dataContext(this.$0_2.get_leftOperand());this.$5_2.initialize();var $v_6=this.get_jQueryProxy().selectElement("#"+$v_4);this.$C_2=new Mscrm.BusinessRules.Views.OperatorView($v_6);this.$C_2.set_dataContext(this.$0_2.get_expressionOperator());this.$C_2.initialize();var $v_7=this.get_jQueryProxy().selectElement("#"+$v_2);this.$6_2=new Mscrm.BusinessRules.Views.RightOperandView($v_7);this.$6_2.set_dataContext(this.$0_2.get_rightOperand());this.$6_2.initialize();var $v_8=this.get_jQueryProxy().selectElement("#"+$v_3);this.$4_2=new Mscrm.BusinessRules.Views.OperandTypeView($v_8);this.$4_2.set_dataContext(this.$0_2.get_operandType());this.$4_2.initialize()},resetFocus:function(){this.$5_2.resetFocus();this.$6_2.resetFocus()},$4t_2:function($p0){var $v_0=String.format("{0}_lefopcon",$p0),$v_1=String.format("{0}_rigopcon",$p0),$v_2=String.format("{0}_optycon",$p0),$v_3=String.format("{0}_conopcon",$p0);this.$1_1.html(String.format(this.$2u_2,$v_0,$v_3,$v_2,$v_1))},$0_2:null,$5_2:null,$C_2:null,$6_2:null,$4_2:null};Mscrm.BusinessRules.Views.AttributeOperandView=function($p0){this.$$d_$6q_2=Function.createDelegate(this,this.$6q_2);this.$$d_$6p_2=Function.createDelegate(this,this.$6p_2);Mscrm.BusinessRules.Views.AttributeOperandView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.AttributeOperandView.prototype={initialize:function(){Mscrm.BusinessRules.Views.View.prototype.initialize.call(this);this.$66_2();this.$3M_2()},get_dataContext:function(){return Mscrm.BusinessRules.Views.OperandView.prototype.get_dataContext.call(this)},set_dataContext:function($p0){Mscrm.BusinessRules.Views.OperandView.prototype.set_dataContext.call(this,$p0);this.$0_2=$p0;return $p0},get_isValid:function(){return this.$X_2.get_isValid()},resetFocus:function(){!IsNull(this.$X_2)&&this.$X_2.resetFocus()},$66_2:function(){var $v_0=this.$1_1.getAttribute("id")+"cell",$v_1=String.format(Mscrm.BusinessRules.HtmlFormat.inlineControlChromeHtml,this.$0_2.get_viewModel().get_id()),$v_2=String.format("<div class='{0}'>{1}</div><div class='{2}' id='{4}'>{3}</div>","expressioncelllabel",window.LOCID_PBLEXPRESSION_FIELDTYPE,"expressioncellbody",$v_1,$v_0);this.$1_1.html($v_2);var $v_3=Mscrm.BusinessRules.Views.ViewHelper.get_$K().EntityMetadata,$v_4=new Mscrm.BusinessRules.ViewModels.FieldControlViewModel($v_3);$v_4.set_selectedFieldLogicalName(this.$0_2.get_selectedAttribute());$v_4.$3I_1=this.$0_2.get_useAttributeFiltering();this.$X_2=new Mscrm.BusinessRules.Views.FieldControlView(this.get_jQueryProxy().selectInElement(".ms-crm-Inline-Chrome",this.$1_1));this.$X_2.set_dataContext($v_4);this.$X_2.initialize()},dispose:function(){if(this.$8_0)return;this.get_bindingsMediator().disposeValueBinding(this.$4T_2);this.get_bindingsMediator().disposeValueBinding(this.$4E_2);this.get_bindingsMediator().disposeValueBinding(this.$4V_2);var $v_0=this.$X_2.get_dataContext();if(!IsNull(this.$X_2)){this.$X_2.dispose();this.$X_2=null}if(!IsNull($v_0)){$v_0.dispose();$v_0=null}Mscrm.BusinessRules.Views.View.prototype.dispose.call(this)},$3M_2:function(){if(this.$0_2.get_useAttributeFiltering()){var $$t_0=this.$0_2;this.$4V_2=this.get_bindingsMediator().createIntegerArrayOneWayValueBinding(this.$0_2,"FilteredAttributesValue",$$t_0.$$d_getFilteredAttributesDelegate||($$t_0.$$d_getFilteredAttributesDelegate=Function.createDelegate($$t_0,$$t_0.getFilteredAttributesDelegate)),this.$X_2.get_dataContext().$$d_setFilteredAttributesDelegate)}this.$4T_2=this.get_bindingsMediator().createStringOneWayValueBinding(this.$X_2.$0_1,"FieldChangedProperty",this.$X_2.$0_1.$$d_getSelectedFieldLogicalNameDelegate,this.$$d_$6p_2);var $$t_1=this.$0_2;this.$4E_2=this.get_bindingsMediator().createStringOneWayValueBinding(this.$0_2,"AttributeSelectedValue",$$t_1.$$d_getSelectedAttributeDelegate||($$t_1.$$d_getSelectedAttributeDelegate=Function.createDelegate($$t_1,$$t_1.getSelectedAttributeDelegate)),this.$$d_$6q_2)},$6p_2:function($p0){$p0!==this.$0_2.get_selectedAttribute()&&this.$0_2.setSelectedAttributeDelegate($p0)},$6q_2:function($p0){$p0!==this.$X_2.$0_1.get_selectedFieldLogicalName()&&this.$X_2.$0_1.setSelectedFieldLogicalNameDelegate($p0)},$X_2:null,$0_2:null,$4T_2:null,$4E_2:null,$4V_2:null};Mscrm.BusinessRules.Views.ExpressionView=function($p0){Mscrm.BusinessRules.Views.ExpressionView.initializeBase(this);this.$1_1=$p0};Mscrm.BusinessRules.Views.ExpressionView.prototype={get_dataContext:function(){return this.$0_1},set_dataContext:function($p0){this.$0_1=$p0;return $p0},get_element:function(){return this.$1_1},initialize:function(){Mscrm.BusinessRules.Views.View.prototype.initialize.call(this);this.$y_1=Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getExpressionInlineView(this.$1_1.children(":first-child").get_jQueryObject(),this.$0_1);this.$y_1.set_parent(this);this.$y_1.renderForRead()},dispose:function(){if(this.$8_0)return;this.$y_1.dispose();this.$y_1=null},get_viewModel:function(){return this.$0_1},get_inlineView:function(){return this.$y_1},get_isNewCreated:function(){return this.$34_1},set_isNewCreated:function($p0){this.$34_1=$p0;return $p0},setFocus:function(){this.$y_1.setFocus()},$0_1:null,$1_1:null,$y_1:null,$34_1:false};Mscrm.BusinessRules.Views.LeftOperandView=function($p0){Mscrm.BusinessRules.Views.LeftOperandView.initializeBase(this,[$p0.get_element()]);this.$E_2=$p0};Mscrm.BusinessRules.Views.LeftOperandView.prototype={get_dataContext:function(){return this.$0_2},set_dataContext:function($p0){this.$0_2=$p0;this.$E_2.set_dataContext(this.$0_2.get_innerOperand());return $p0},initialize:function(){this.$E_2.initialize()},get_isValid:function(){return this.$E_2.get_isValid()},dispose:function(){if(this.$8_0)return;this.$E_2.dispose();this.$E_2=null},resetFocus:function(){!IsNull(this.$E_2)&&Mscrm.BusinessRules.Views.IResetFocus.isInstanceOfType(this.$E_2)&&this.$E_2.resetFocus()},get_operand:function(){return this.$E_2},$E_2:null,$0_2:null};Mscrm.BusinessRules.Views.RightOperandView=function($p0){Mscrm.BusinessRules.Views.RightOperandView.initializeBase(this,[$p0]);this.$33_2={}};Mscrm.BusinessRules.Views.RightOperandView.prototype={get_dataContext:function(){return this.$0_2},set_dataContext:function($p0){this.$0_2=$p0;return $p0},initialize:function(){Mscrm.BusinessRules.Views.View.prototype.initialize.call(this);var $v_0=CrmEncodeDecode.CrmHtmlAttributeEncode(this.$0_2.get_viewModel().get_id()),$v_1=String.format(this.$5O_2,String.format("{0}_{1}",$v_0,"attributeEx"),String.format("{0}_{1}",$v_0,"primitiveEx"),String.format("{0}_{1}",$v_0,"subExpression"));this.$1_1.html($v_1);if(!IsNull(this.$0_2.get_currentInnerOperand()))this.$q_2=this.$5C_2(this.$0_2.get_rightOperandType(),this.$0_2.get_attributeType())},get_isValid:function(){if(IsNull(this.$q_2))return true;return this.$q_2.get_isValid()},get_operand:function(){return this.$q_2},resetFocus:function(){!IsNull(this.$q_2)&&Mscrm.BusinessRules.Views.IResetFocus.isInstanceOfType(this.$q_2)&&this.$q_2.resetFocus()},handleModelToViewBinding:function($p0){switch($p0){case "OperandChangedPropertyValue":this.$5s_2();if(this.$0_2.get_rightOperandType()===Mscrm.BusinessRules.ViewModels.OperandType.none)return;this.$q_2=this.$5C_2(this.$0_2.get_rightOperandType(),this.$0_2.get_attributeType());this.$q_2.get_element().removeClass("hidecontrol");break;default:Mscrm.BusinessRules.Views.View.prototype.handleModelToViewBinding.call(this,$p0);break}},$5C_2:function($p0,$p1){var $v_0=this.$33_2[$p0.toString()];if(IsNull($v_0)){var $v_1=this.$0_2.prepareInnerOperand($p0,$p1,this.$0_2.get_rightOperandMetadata()).get_viewModel(),$v_2=this.get_jQueryProxy().selectElement("#"+$v_1.get_id());$v_0=Mscrm.BusinessRules.Views.OperandViewFactory.$2g($v_1,$v_2);$v_0.set_dataContext(this.$0_2.get_currentInnerOperand());$v_0.initialize();this.$33_2[$p0.toString()]=$v_0}this.$6w_2($p0);return $v_0},$6w_2:function($p0){this.$1_1.removeClass(String.format("rigopcon_{0}","0"));this.$1_1.removeClass(String.format("rigopcon_{0}","2"));this.$1_1.removeClass(String.format("rigopcon_{0}","1"));this.$1_1.addClass(String.format("rigopcon_{0}",$p0.toString()))},$5s_2:function(){if(IsNull(this.$q_2))return;this.$q_2.get_element().addClass("hidecontrol")},dispose:function(){if(this.$8_0)return;var $$dict_0=this.$33_2;for(var $$key_1 in $$dict_0){var $v_0={key:$$key_1,value:$$dict_0[$$key_1]};$v_0.value.dispose()}Mscrm.BusinessRules.Views.View.prototype.dispose.call(this)},$q_2:null,$0_2:null,$33_2:null,$5O_2:"<div id='{0}'></div> \r\n\t\t\t\t\t\t<div id='{1}'></div>\r\n\t\t\t\t\t\t<div id='{2}'></div>"};Mscrm.BusinessRules.Views.OperandTypeView=function($p0){this.$$d_$6m_1=Function.createDelegate(this,this.$6m_1);Mscrm.BusinessRules.Views.OperandTypeView.initializeBase(this);this.$1_1=$p0};Mscrm.BusinessRules.Views.OperandTypeView.prototype={get_dataContext:function(){return this.$0_1},set_dataContext:function($p0){this.$0_1=$p0;return $p0},get_element:function(){return this.$1_1},get_isValid:function(){return this.$1O_1.get_isValid()},initialize:function(){Mscrm.BusinessRules.Views.View.prototype.initialize.call(this);this.$6A_1();this.$3M_1()},dispose:function(){if(this.$8_0)return;this.get_bindingsMediator().disposeValueBinding(this.$28_1);this.get_bindingsMediator().disposeValueBinding(this.$4Y_1);if(!IsNull(this.$1O_1)){this.$1O_1.dispose();this.$1O_1=null}Mscrm.BusinessRules.Views.View.prototype.dispose.call(this)},$6A_1:function(){var $v_0=this.$1_1.getAttribute("id")+"cell",$v_1=String.format(Mscrm.BusinessRules.HtmlFormat.inlineControlChromeHtml,this.$0_1.get_viewModel().get_id()),$v_2=String.format("<div class='{0}'>{1}</div><div class='{2}' id='{4}'>{3}</div>","expressioncelllabel",window.LOCID_PBLEXPRESSION_TYPE,"expressioncellbody",$v_1,$v_0);this.$1_1.html($v_2);var $v_3=this.get_jQueryProxy().selectInElement(".ms-crm-Inline-Chrome",this.$1_1).get_jQueryObject(),$v_4=this.$0_1.get_operandType();this.$1O_1=Mscrm.InlineControlFactory.createInlineAutoCompletePicklistControlForDom($v_3,$v_3[0].id,this.$0_1.get_operandTypes(),$v_4,"BodyViewContainer",Mscrm.AttributeRequiredLevel.none,Mscrm.InlineEditControlMode.alwaysEdit,window.LOCID_PBLEXPRESSION_ALLTYPE,window.LOCID_PBLEXPRESSION_TYPE);this.$1O_1.get_dataContext().set_useOptionFiltering(true)},$3M_1:function(){var $$t_0=this.$0_1;this.$4Y_1=this.get_bindingsMediator().createIntegerArrayOneWayValueBinding(this.$0_1,"FilteredOperandTypeList",$$t_0.$$d_getFilteredOperandTypesDelegate||($$t_0.$$d_getFilteredOperandTypesDelegate=Function.createDelegate($$t_0,$$t_0.getFilteredOperandTypesDelegate)),this.$$d_$6m_1);var $$t_1=this.$0_1,$$t_2=this.$0_1;this.$28_1=this.get_bindingsMediator().addInlineFieldToStringValueBinding(this.$1O_1,this.$0_1,"OperandTypeValue",$$t_1.$$d_getOperandTypeDelegate||($$t_1.$$d_getOperandTypeDelegate=Function.createDelegate($$t_1,$$t_1.getOperandTypeDelegate)),$$t_2.$$d_setOperandTypeDelegate||($$t_2.$$d_setOperandTypeDelegate=Function.createDelegate($$t_2,$$t_2.setOperandTypeDelegate)))},$6m_1:function($p0){var $v_0=this.$0_1.get_filteredOperandTypes();if(IsNull($v_0)||!$v_0.length)this.$1_1.addClass("hidecontrol");else this.$1_1.removeClass("hidecontrol");this.$1O_1.get_dataContext().setFilteredOptionsDelegate($p0)},$0_1:null,$1_1:null,$1O_1:null,$28_1:null,$4Y_1:null};Mscrm.BusinessRules.Views.OperandView=function($p0){Mscrm.BusinessRules.Views.OperandView.initializeBase(this);this.$1_1=$p0};Mscrm.BusinessRules.Views.OperandView.prototype={get_dataContext:function(){return this.$0_1},set_dataContext:function($p0){this.$0_1=$p0;return $p0},get_element:function(){return this.$1_1},$0_1:null,$1_1:null};Mscrm.BusinessRules.Views.OperandViewFactory=function(){};Mscrm.BusinessRules.Views.OperandViewFactory.$2g=function($p0,$p1){if(!$p0)return null;if(Mscrm.BusinessRules.ViewModels.IAttributeOperandViewModel.isInstanceOfType($p0))return new Mscrm.BusinessRules.Views.AttributeOperandView($p1);if(Mscrm.BusinessRules.ViewModels.ValueOperandViewModel.isInstanceOfType($p0))return new Mscrm.BusinessRules.Views.ValueOperandView($p1);if(Mscrm.BusinessRules.ViewModels.ArithmeticExpressionViewModel.isInstanceOfType($p0))return new Mscrm.BusinessRules.Views.ArithmeticExpressionEditView($p1);throw Error.create("Unsupported Exception")};Mscrm.BusinessRules.Views.OperatorView=function($p0){this.$$d_$6n_1=Function.createDelegate(this,this.$6n_1);Mscrm.BusinessRules.Views.OperatorView.initializeBase(this);this.$1_1=$p0};Mscrm.BusinessRules.Views.OperatorView.prototype={get_dataContext:function(){return this.$0_1},set_dataContext:function($p0){this.$0_1=$p0;return $p0},get_element:function(){return this.$1_1},get_isValid:function(){return this.$1Q_1.get_isValid()},initialize:function(){Mscrm.BusinessRules.Views.View.prototype.initialize.call(this);this.$6B_1();this.$3M_1()},dispose:function(){if(this.$8_0)return;this.get_bindingsMediator().disposeValueBinding(this.$28_1);this.get_bindingsMediator().disposeValueBinding(this.$4a_1);if(!IsNull(this.$1Q_1)){this.$1Q_1.dispose();this.$1Q_1=null}Mscrm.BusinessRules.Views.View.prototype.dispose.call(this)},$6B_1:function(){var $v_0=this.$1_1.getAttribute("id")+"cell",$v_1=String.format(Mscrm.BusinessRules.HtmlFormat.inlineControlChromeHtml,this.$0_1.get_viewModel().get_id()),$v_2=String.format("<div class='{0}'>{1}</div><div class='{2}' id='{4}'>{3}</div>","expressioncelllabel",window.LOCID_PBLEXPRESSION_OPERATOR,"expressioncellbody",$v_1,$v_0);this.$1_1.html($v_2);var $v_3=this.$0_1.get_operation(),$v_4=this.get_jQueryProxy().selectInElement(".ms-crm-Inline-Chrome",this.$1_1).get_jQueryObject();this.$1Q_1=Mscrm.InlineControlFactory.createInlineAutoCompletePicklistControlForDom($v_4,$v_4[0].id,this.$0_1.get_operators(),$v_3,"BodyViewContainer",Mscrm.AttributeRequiredLevel.systemRequired,Mscrm.InlineEditControlMode.alwaysEdit,window.LOCID_PBLEXPRESSION_ALLOPERATOR,window.LOCID_PBLEXPRESSION_OPERATOR);this.$1Q_1.get_dataContext().set_useOptionFiltering(true)},$3M_1:function(){var $$t_0=this.$0_1,$$t_1=this.$1Q_1.get_dataContext();this.$4a_1=this.get_bindingsMediator().createIntegerArrayOneWayValueBinding(this.$0_1,"FilteredOperatorListProperty",$$t_0.$$d_getFilteredOperatorsDelegate||($$t_0.$$d_getFilteredOperatorsDelegate=Function.createDelegate($$t_0,$$t_0.getFilteredOperatorsDelegate)),$$t_1.$$d_setFilteredOptionsDelegate||($$t_1.$$d_setFilteredOptionsDelegate=Function.createDelegate($$t_1,$$t_1.setFilteredOptionsDelegate)));var $$t_2=this.$0_1;this.$28_1=this.get_bindingsMediator().addInlineFieldToStringValueBinding(this.$1Q_1,this.$0_1,"OperatorProperty",$$t_2.$$d_getOperationDelegate||($$t_2.$$d_getOperationDelegate=Function.createDelegate($$t_2,$$t_2.getOperationDelegate)),this.$$d_$6n_1)},$6n_1:function($p0){$p0!==this.$0_1.get_operation()&&this.$0_1.setOperationDelegate($p0)},$0_1:null,$1_1:null,$1Q_1:null,$28_1:null,$4a_1:null};Mscrm.BusinessRules.Views.ValueOperandView=function($p0){Mscrm.BusinessRules.Views.ValueOperandView.initializeBase(this,[$p0]);this.$31_2=new Mscrm.BusinessRules.Views.ValueInlineControlRepository(this.$6Z_2())};Mscrm.BusinessRules.Views.ValueOperandView.prototype={initialize:function(){Mscrm.BusinessRules.Views.View.prototype.initialize.call(this);this.$6F_2()},get_dataContext:function(){return Mscrm.BusinessRules.Views.OperandView.prototype.get_dataContext.call(this)},set_dataContext:function($p0){Mscrm.BusinessRules.Views.OperandView.prototype.set_dataContext.call(this,$p0);this.$0_2=$p0;return $p0},get_isValid:function(){if(IsNull(this.$R_2))return true;return this.$R_2.get_isValid()},resetFocus:function(){!IsNull(this.$R_2)&&this.$R_2.resetFocus()},$6F_2:function(){this.$5J_2();this.$R_2=this.$31_2.getInlineControl(this.$0_2,this.$0_2.get_values());this.$R_2.registerForValueChangeEvent(this.$0_2)},handleModelToViewBinding:function($p0){switch($p0){case "ValueMetadataChanged":this.$R_2.hide();this.$R_2.unregisterForValueChangeEvent();this.$5J_2();this.$R_2=this.$31_2.getInlineControl(this.$0_2,null);this.$6b_2();this.$R_2.show();break;case "HideControl":this.$R_2.hide();break;case "ShowControl":this.$R_2.show();break;default:Mscrm.BusinessRules.Views.View.prototype.handleModelToViewBinding.call(this,$p0);break}},$6b_2:function(){var $v_0=this.$0_2.get_metadata();if($v_0.AttributeType==="lookup"&&$v_0.LookupStyle==="subject"){this.$R_2.updateViewModel();this.$R_2.registerForValueChangeEvent(this.$0_2)}else{this.$R_2.registerForValueChangeEvent(this.$0_2);this.$R_2.updateViewModel()}},$5J_2:function(){this.$4d_2.html(CrmEncodeDecode.CrmHtmlEncode(this.$0_2.get_label()))},dispose:function(){if(this.$8_0)return;!IsNull(this.$R_2)&&this.$R_2.registerForValueChangeEvent(this.$0_2);this.$31_2.dispose();Mscrm.BusinessRules.Views.View.prototype.dispose.call(this)},$6Z_2:function(){var $v_0=this.$1_1.getAttribute("id")+"cell",$v_1=String.format("<div class='{0}'>{1}</div><div class='{2}' id='{4}'>{3}</div>","expressioncelllabel","","expressioncellbody","",$v_0);this.$1_1.html($v_1);this.$4d_2=this.get_jQueryProxy().selectInElement(".expressioncelllabel",this.$1_1);return this.get_jQueryProxy().selectInElement(".expressioncellbody",this.$1_1)},$R_2:null,$0_2:null,$31_2:null,$4d_2:null};Mscrm.BusinessRules.Views.ValueInlineControlRepository=function($p0){this.$32_0={};this.$3p_0=$p0};Mscrm.BusinessRules.Views.ValueInlineControlRepository.prototype={getInlineControl:function($p0,$p1){var $v_0=$p0.get_metadata(),$v_1=String.format("{0}_{1}_{2}",$v_0.LogicalName,$v_0.AttributeType,$v_0.Format),$v_2=this.$32_0[$v_1];if(!IsNull($v_2)){$v_2.resetValue($p1);return $v_2}var $v_3=this.$6Y_0($v_1);$v_2=Mscrm.BusinessRules.Views.ValueInlineControlFactory.getControl($v_3,$v_0,$p0.get_canHaveMultipleValues());$v_2.set_label($p0.get_label());$v_2.initialize($p1);this.$32_0[$v_1]=$v_2;return $v_2},$6Y_0:function($p0){var $v_0=new Mscrm.BusinessRules.Proxies.JQueryObjectProxy($P_CRM("<div></div>"));this.$3p_0.get_jQueryObject().append($v_0.get_jQueryObject());var $v_1=String.format("Chrome_{0}_{1}",this.$3p_0.getAttribute("id"),$p0);$v_0.html(String.format(Mscrm.BusinessRules.HtmlFormat.inlineControlChromeHtml,$v_1));return $v_0.children(":first-child")},dispose:function(){var $$dict_0=this.$32_0;for(var $$key_1 in $$dict_0){var $v_0={key:$$key_1,value:$$dict_0[$$key_1]},$v_1=$v_0.value;$v_1.dispose()}},$3p_0:null};Mscrm.BusinessRules.Views.ValueInlineControlBase=function(chromeElement,initialMetadataJsonWrapper){this.$$d_setValueDelegate=Function.createDelegate(this,this.setValueDelegate);this.$$d_getValueDelegate=Function.createDelegate(this,this.getValueDelegate);this.$20_0=window.LOCID_PBLEXPRESSION_OPERANDLABEL;this.$i_0=chromeElement;this.$x_0=initialMetadataJsonWrapper;this.$t_0=new Mscrm.BusinessRules.Factories.BindingsFactory;this.$t_0.set_commandsFactory(new Mscrm.BusinessRules.Factories.CommandsFactory)};Mscrm.BusinessRules.Views.ValueInlineControlBase.prototype={initialize:function(initialValues){this.$M_0=this.prepareInlineView(initialValues);this.$M_0.get_dataContext().set_labelValue(this.$20_0);var $v_0=$find(this.$M_0.get_dataContext().get_attribute().get_dataAttributeId());$v_0.get_controls().add(this.$M_0);$v_0.set_isVirtual(true)},resetValue:function(values){var $v_0=!values?null:values[0];this.$M_0.clearValidation();Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.resetInlineFieldValue(this.$M_0,$v_0)},show:function(){this.$i_0.removeClass("hidecontrol")},hide:function(){this.$i_0.addClass("hidecontrol")},get_isValid:function(){return (new Mscrm.BusinessRules.Views.ValidateAsRequiredDecorator(this.$M_0)).get_isValid()},get_label:function(){return this.$20_0},set_label:function(value){this.$20_0=value;return value},registerForValueChangeEvent:function(viewModel){this.$0_0=viewModel;var $v_0=this.$t_0.createInlineFieldControlValueChangeBinding(this.$M_0),$v_1=this.$t_0.createDataContextValueChangeBinding(viewModel,"ValueChanged",this.$$d_getValueDelegate,this.$$d_setValueDelegate),$v_2=new Mscrm.BusinessRules.Converters.BaseValueConverter,$v_3=new Mscrm.BusinessRules.Converters.BaseValueConverter;this.$27_0=this.$t_0.createValueBinding($v_0,$v_1,$v_2,$v_3);this.$27_0.bind()},unregisterForValueChangeEvent:function(){if(!IsNull(this.$27_0)){this.$27_0.dispose();this.$27_0=null}},updateViewModel:function(){this.setValueDelegate(Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.getInlineFieldValue(this.$M_0))},getValueDelegate:function(){var $v_0=this.$0_0.getValuesDelegate();return !$v_0?null:$v_0[0]},resetFocus:function(){if(!IsNull(this.$M_0)){!IsNull(this.$M_0.get_chromeBehavior())&&this.$M_0.get_chromeBehavior().hideValidationElement();this.$M_0.blur()}},setValueDelegate:function(value){(!this.$0_0.get_values()||this.$0_0.get_values()[0]!==value)&&this.$0_0.setValuesDelegate([value])},get_metadata:function(){return this.$x_0},get_chromeElement:function(){return this.$i_0},get_getUniqueAttributeName:function(){return this.$i_0.getAttribute("id")},constructInitialValue:function(initialValues){var $v_0={};$v_0["raw"]=!initialValues?null:initialValues[0];return $v_0},get_inlineControlView:function(){return this.$M_0},get_viewModel:function(){return this.$0_0},dispose:function(){this.unregisterForValueChangeEvent();this.$27_0=null;!IsNull(this.$M_0)&&this.$M_0.clearValidation();this.$M_0.dispose();this.$M_0=null},$i_0:null,$x_0:null,$M_0:null,$t_0:null,$27_0:null,$0_0:null};Mscrm.BusinessRules.Views.ValueInlineControlFactory=function(){};Mscrm.BusinessRules.Views.ValueInlineControlFactory.getControl=function(chromeElement,initialMetadata,canHaveMultipleValues){switch(initialMetadata.AttributeType){case "date":case "datetime":return new Mscrm.BusinessRules.Views.DateTimeValueInlineControl(chromeElement,initialMetadata);case "nvarchar":case "ntext":return new Mscrm.BusinessRules.Views.TextValueInlineControl(chromeElement,initialMetadata);case "int":case "float":case "decimal":return Mscrm.BusinessRules.Views.ValueInlineControlFactory.$5c(chromeElement,initialMetadata);case "money":return new Mscrm.BusinessRules.Views.MoneyValueInlineControl(chromeElement,initialMetadata);case "bit":case "picklist":case "status":case "state":return new Mscrm.BusinessRules.Views.PicklistValueInlineControl(chromeElement,initialMetadata,canHaveMultipleValues);case "lookup":case "customer":case "owner":return new Mscrm.BusinessRules.Views.LookupValueInlineControl(chromeElement,initialMetadata);default:Error.create("Unsupported type");break}return null};Mscrm.BusinessRules.Views.ValueInlineControlFactory.$5c=function($p0,$p1){var $v_0=$p1;switch($v_0.Format){case Mscrm.AttributeFormat.language:case Mscrm.AttributeFormat.timezone:return new Mscrm.BusinessRules.Views.PicklistValueInlineControl($p0,$p1,false);default:return new Mscrm.BusinessRules.Views.NumberValueInlineControl($p0,$p1)}};Mscrm.BusinessRules.Views.DateTimeValueInlineControl=function(chromeElement,attributeMetadata){Mscrm.BusinessRules.Views.DateTimeValueInlineControl.initializeBase(this,[chromeElement,attributeMetadata])};Mscrm.BusinessRules.Views.DateTimeValueInlineControl.prototype={prepareInlineView:function(initialValues){var $v_0=this.$x_0;return Mscrm.InlineControlFactory.createInlineDateTimeControlForDom(this.$i_0.get_jQueryObject(),this.get_getUniqueAttributeName(),$v_0.Format,this.constructInitialValue(initialValues),"BodyViewContainer")},constructInitialValue:function(initialValues){var $v_0={};$v_0["raw"]=IsNull(initialValues)||IsNull(initialValues[0])?null:initialValues[0].localeFormat("s");return $v_0}};Mscrm.BusinessRules.Views.TextValueInlineControl=function(chromeElement,attributeMetadata){Mscrm.BusinessRules.Views.TextValueInlineControl.initializeBase(this,[chromeElement,attributeMetadata])};Mscrm.BusinessRules.Views.TextValueInlineControl.prototype={prepareInlineView:function(initialValues){var $v_0=this.$x_0;return Mscrm.InlineControlFactory.createInlineTextBoxControlForDom(this.$i_0.get_jQueryObject(),this.get_getUniqueAttributeName(),$v_0.MaxLength,this.constructInitialValue(initialValues),"BodyViewContainer",Mscrm.InlineEditControlMode.alwaysEdit)},constructInitialValue:function(initialValues){var $v_0={};$v_0["value"]=!initialValues?null:initialValues[0];return $v_0}};Mscrm.BusinessRules.Views.NumberValueInlineControl=function(chromeElement,attributeMetadata){Mscrm.BusinessRules.Views.NumberValueInlineControl.initializeBase(this,[chromeElement,attributeMetadata])};Mscrm.BusinessRules.Views.NumberValueInlineControl.prototype={prepareInlineView:function(initialValues){var $v_0=this.$x_0;return Mscrm.InlineControlFactory.createInlineNumberControlForDom(this.$i_0.get_jQueryObject(),this.get_getUniqueAttributeName(),$v_0.MaxValue,$v_0.MinValue,$v_0.Precision,$v_0.AttributeType,this.constructInitialValue(initialValues),"BodyViewContainer",Mscrm.InlineEditControlMode.alwaysEdit)},constructInitialValue:function(initialValues){var $v_0=!initialValues?null:initialValues[0],$v_1={};$v_1["raw"]=$v_0;$v_1["value"]=$v_0;return $v_1}};Mscrm.BusinessRules.Views.MoneyValueInlineControl=function(chromeElement,attributeMetadata){Mscrm.BusinessRules.Views.MoneyValueInlineControl.initializeBase(this,[chromeElement,attributeMetadata])};Mscrm.BusinessRules.Views.MoneyValueInlineControl.prototype={prepareInlineView:function(initialValues){var $v_0=this.$x_0;return Mscrm.InlineControlFactory.createInlineNumberControlForDom(this.$i_0.get_jQueryObject(),this.get_getUniqueAttributeName(),$v_0.MaxValue,$v_0.MinValue,$v_0.Precision,"decimal",this.constructInitialValue(initialValues),"BodyViewContainer",Mscrm.InlineEditControlMode.alwaysEdit)},constructInitialValue:function(initialValues){var $v_0=!initialValues?null:initialValues[0],$v_1={};$v_1["raw"]=$v_0;$v_1["value"]=$v_0;return $v_1}};Mscrm.BusinessRules.Views.PicklistValueInlineControl=function(chromeElement,attributeMetadata,canHaveMultipleValues){Mscrm.BusinessRules.Views.PicklistValueInlineControl.initializeBase(this,[chromeElement,attributeMetadata]);this.$2q_1=canHaveMultipleValues};Mscrm.BusinessRules.Views.PicklistValueInlineControl.prototype={prepareInlineView:function(initialValues){var $v_0=null,$v_1=this.$x_0;if(this.$2q_1){var $v_2=[];if(!IsNull(initialValues))for(var $$arr_4=initialValues,$$len_5=$$arr_4.length,$$idx_6=0;$$idx_6<$$len_5;++$$idx_6){var $v_3=$$arr_4[$$idx_6];Array.add($v_2,$v_3.Value)}$v_0=Mscrm.InlineControlFactory.createInlineMultiplePicklistControlForDom(this.$i_0.get_jQueryObject(),this.get_getUniqueAttributeName(),$v_1.Options,$v_2,"BodyViewContainer",Mscrm.AttributeRequiredLevel.none,Mscrm.InlineEditControlMode.alwaysEdit,"")}else{var $v_4=$v_1.Options[0].Value.toString();if(!IsNull(initialValues)&&initialValues.length>0){var $v_5=initialValues[0];if(!isNaN($v_5.Value))$v_4=$v_5.Value.toString()}$v_0=Mscrm.InlineControlFactory.createInlineAutoCompletePicklistControlForDom(this.$i_0.get_jQueryObject(),this.get_getUniqueAttributeName(),$v_1.Options,$v_4,"BodyViewContainer",Mscrm.AttributeRequiredLevel.systemRequired,Mscrm.InlineEditControlMode.alwaysEdit,window.LOCID_BUSINESSRULE_SHOWFIELDS,window.LOCID_BUSINESSRULE_FIELDLABEL)}return $v_0},setValueDelegate:function(value){if(this.$2q_1)this.$0_0.setValuesDelegate(value);else{var $v_0=new Mscrm.EnumOptionJsonWrapper;$v_0.Value=value;for(var $v_1=this.$x_0,$$arr_3=$v_1.Options,$$len_4=$$arr_3.length,$$idx_5=0;$$idx_5<$$len_4;++$$idx_5){var $v_2=$$arr_3[$$idx_5];if($v_0.Value===$v_2.Value){$v_0.Label=$v_2.Label;break}}Mscrm.BusinessRules.Views.ValueInlineControlBase.prototype.setValueDelegate.call(this,$v_0)}},getValueDelegate:function(){if(this.$2q_1)return this.$0_0.getValuesDelegate();else return Mscrm.BusinessRules.Views.ValueInlineControlBase.prototype.getValueDelegate.call(this).Value},$2q_1:false};Mscrm.BusinessRules.Views.LookupValueInlineControl=function(chromeElement,attributeMetadata){Mscrm.BusinessRules.Views.LookupValueInlineControl.initializeBase(this,[chromeElement,attributeMetadata])};Mscrm.BusinessRules.Views.LookupValueInlineControl.prototype={prepareInlineView:function(initialValues){var $v_0={};$P_CRM.extend(true,$v_0,this.$x_0);$v_0.LogicalName=this.get_getUniqueAttributeName();$v_0.CanCreate=true;$v_0.CanRead=true;$v_0.CanUpdate=true;$v_0.IsDisabled=false;$v_0.RequiredLevel=Mscrm.AttributeRequiredLevel.none;return Mscrm.InlineControlFactory.initializeUnboundedField(this.$i_0.get_jQueryObject(),$v_0,this.constructInitialValue(initialValues),"BodyViewContainer",Mscrm.InlineEditControlMode.alwaysEdit)},setValueDelegate:function(value){this.$0_0.setValuesDelegate(value)},getValueDelegate:function(){return this.$0_0.getValuesDelegate()},constructInitialValue:function(initialValues){if(!initialValues||!initialValues.length)return null;var $v_0=initialValues[0];if(IsNull($v_0))return null;var $v_1={};$v_1["otypename"]=$v_0.typename;$v_1["oid"]=$v_0.id;$v_1["value"]=$v_0.name;$v_1["otype"]=this.$5h_1($v_0.name);return $v_1},$5h_1:function($p0){var $v_0=this.$x_0,$v_1=$v_0.LookupTypeNames.split(",");if($v_1.length>0)for(var $v_2=0;$v_2<$v_1.length;$v_2++){var $v_3=$v_1[$v_2].split(":");if($v_3.length>2&&$v_3[0]===$p0)return $v_3[1]}return $v_0.DefaultType.toString()}};Mscrm.BusinessRules.Views.ValidateAsRequiredDecorator=function(inlineControlView){Mscrm.BusinessRules.Views.ValidateAsRequiredDecorator.initializeBase(this,[inlineControlView.get_layout()]);this.$M_3=inlineControlView};Mscrm.BusinessRules.Views.ValidateAsRequiredDecorator.prototype={get_getEditViewObject:function(){return null},get_isValid:function(){return this.$6z_3()},$6z_3:function(){var $v_0=this.$M_3.get_dataContext().get_attribute(),$v_1=$v_0.get_requiredLevel();try{$v_0.set_requiredLevel(Mscrm.AttributeRequiredLevel.required);return this.$M_3.get_isValid()&&!this.$M_3.get_dataContext().get_hasError()}finally{$v_0.set_requiredLevel($v_1)}},$M_3:null};Mscrm.BusinessRules.Views.ConditionsSectionsView=function($p0){this.$$d_$4q_2=Function.createDelegate(this,this.$4q_2);Mscrm.BusinessRules.Views.ConditionsSectionsView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.ConditionsSectionsView.prototype={get_dataContext:function(){return this.$0_2},set_dataContext:function($p0){if(IsNull(this.$0_2)&&!IsNull($p0)){Mscrm.BusinessRules.Views.SectionView.prototype.set_dataContext.call(this,$p0);this.$0_2=$p0}return $p0},initialize:function(){Mscrm.BusinessRules.Views.SectionView.prototype.initialize.call(this);this.$61_2(this.get_$4y_2());this.$5t_2()},get_expressions:function(){if(!this.$W_2)this.$W_2=Mscrm.BusinessRules.SharedMethods.getList(Mscrm.BusinessRules.Views.IExpressionView);return this.$W_2},setFocusOnExpression:function($p0){if(IsNull($p0)){this.$1K_2.setFocus();return}$p0.setFocus()},get_$4y_2:function(){return this.$1_1.children(":nth-child(2)").children(":first-child")},$5t_2:function(){this.$4C_2=this.$1_1.children(":nth-child(2)").children(":nth-child(2)");this.$1B_2=this.$4C_2.children("img");this.$1B_2.click(this.$$d_$4q_2);var $$t_1=this;this.$1B_2.bind(Mscrm.EventKeys.keyDown,function($p1_0){$p1_0.which===13&&$$t_1.$4q_2($p1_0)});if(!IsNull(this.$1B_2)){this.$1K_2=new Mscrm.BusinessRules.Views.AddImageBehavior(this.$1B_2);this.$1K_2.initialize()}},dispose:function(){if(this.$8_0)return;if(!IsNull(this.$1B_2)){this.$1B_2.unbind(Mscrm.EventNames.click,null);this.$1B_2.unbind(Mscrm.EventNames.keyDown,null);this.$1K_2.dispose()}Mscrm.BusinessRules.Views.SectionView.prototype.dispose.call(this)},$61_2:function($p0){for(var $v_0=$p0.children("*"),$v_1=this.$0_2.$1I_1,$v_2=0;$v_2<$v_1.get_count();$v_2++){var $v_3=new Mscrm.BusinessRules.Views.ExpressionView(this.get_jQueryProxy().fromElement($v_0.get_item($v_2)));$v_1.get_item($v_2).set_parent(this.$0_2);$v_3.$P_0=this;$v_3.set_dataContext($v_1.get_item($v_2));$v_3.initialize();this.get_expressions().add($v_3)}},$4q_2:function($p0){var $v_0=new Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder,$v_1=$v_0.buildView(this.get_$4y_2(),Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator.get_instance().getNextUniqueId(this.$1_1.getAttribute("id")));$v_1.set_isNewCreated(true);var $v_2=$v_1.get_dataContext();$v_2.$P_0=this.$0_2;$v_1.set_parent(this);$v_1.get_inlineView().goToEditState();var $v_3=!this.$0_2.$1I_1.get_count();$v_2.$1i_2=$v_3;this.$0_2.$1I_1.add($v_2);this.get_expressions().add($v_1);$v_1.setFocus()},$W_2:null,$0_2:null,$4C_2:null,$1B_2:null,$1K_2:null};Mscrm.BusinessRules.Views.InlineSetAttributeValueStepEditView=function($p0){this.$4Q_3=String.format("\r\n\t\t\t\t\t<div class='{0}'>\r\n\t\t\t\t\t\t<div class='{1}'>{2}</div>\r\n\t\t\t\t\t\t<div class='{3}'>\r\n\t\t\t\t\t\t\t<div class='{4}' id='{5}'></div>\r\n\t\t\t\t\t\t\t<div class='{6}' id='{7}'></div>\r\n\t\t\t\t\t\t\t<div class='{8}' id='{9}'></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</div>","editstepcontainer","sectionheader","{0}","sectionbody","lefopcon","{1}","optycon","{2}","rigopcon","{3}");Mscrm.BusinessRules.Views.InlineSetAttributeValueStepEditView.initializeBase(this,[$p0]);this.$3_3=this.get_inlineView().get_viewModel().get_editViewModel()};Mscrm.BusinessRules.Views.InlineSetAttributeValueStepEditView.prototype={get_isValid:function(){return this.$5_3.get_isValid()&&this.$4_3.get_isValid()&&this.$6_3.get_isValid()},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.$3_3.confirm();this.get_inlineView().updateValueElement();this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},discard:function($p0){Mscrm.BusinessRules.Views.InlineStepEditViewBase.prototype.discard.call(this,$p0);this.$5_3.resetFocus();this.$6_3.resetFocus();this.$3_3.discard()},confirm:function(){this.$5_3.resetFocus();this.$6_3.resetFocus();this.get_isValid()&&Mscrm.BusinessRules.Views.InlineStepEditViewBase.prototype.confirm.call(this)},postCreateEditElement:function(){Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView.prototype.postCreateEditElement.call(this);var $v_0=String.format("{0}_lefopcon",this.get_$V_3().get_stepId()),$v_1=String.format("{0}_rigopcon",this.get_$V_3().get_stepId()),$v_2=String.format("{0}_optycon",this.get_$V_3().get_stepId()),$v_3=this.get_jQueryProxy().selectElement("#"+$v_0);this.$5_3=new Mscrm.BusinessRules.Views.LeftOperandView(Mscrm.BusinessRules.Views.OperandViewFactory.$2g(this.get_$V_3().get_leftOperand().get_innerOperand(),$v_3));this.$5_3.set_dataContext(this.$3_3.get_leftOperand());this.$5_3.initialize();var $v_4=this.get_jQueryProxy().selectElement("#"+$v_1);this.$6_3=new Mscrm.BusinessRules.Views.RightOperandView($v_4);this.$6_3.set_dataContext(this.$3_3.get_rightOperand());this.$6_3.initialize();var $v_5=this.get_jQueryProxy().selectElement("#"+$v_2);this.$4_3=new Mscrm.BusinessRules.Views.OperandTypeView($v_5);this.$4_3.set_dataContext(this.$3_3.get_operandType());this.$4_3.initialize()},createStepHtml:function($p0){var $v_0=CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_SETATTRHEADER),$v_1=String.format("{0}_lefopcon",this.get_$V_3().get_stepId()),$v_2=String.format("{0}_rigopcon",this.get_$V_3().get_stepId()),$v_3=String.format("{0}_optycon",this.get_$V_3().get_stepId());$p0.append(String.format(this.$4Q_3,$v_0,$v_1,$v_3,$v_2))},get_$V_3:function(){return this.$3_3.get_viewModel()},$3_3:null,$5_3:null,$6_3:null,$4_3:null};Mscrm.BusinessRules.Views.InlineSetAttributeValueStepView=function($p0){Mscrm.BusinessRules.Views.InlineSetAttributeValueStepView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineSetAttributeValueStepView.prototype={updateValueElement:function(){var $v_0=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeLocalizedName(this.get_viewModel().get_attributeName()),$v_1=this.get_viewModel().$6_3.get_displayValue(),$v_2=String.format(Mscrm.BusinessRules.Views.ViewHelper.$11(this.get_viewModel().get_readDisplayFormat()),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_0)),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_1)));this.get_stepValueContent().html($v_2)},get_getEditViewObject:function(){return new Mscrm.BusinessRules.Views.InlineSetAttributeValueStepEditView(this)}};Mscrm.BusinessRules.Views.SetAttributeValueStepSectionView=function($p0){Mscrm.BusinessRules.Views.SetAttributeValueStepSectionView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.SetAttributeValueStepSectionView.prototype={initialize:function(){this.set_inlineView(Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getSetAttributeValueStepInlineView(this.$1_1.children(":first-child").get_jQueryObject(),this.get_viewModel()));this.get_inlineView().set_parent(this);this.get_inlineView().renderForRead()},dispose:function(){if(this.$8_0)return;this.get_inlineView().dispose();this.set_inlineView(null)}};Mscrm.BusinessRules.Views.CompositeStepSectionView=function($p0){Mscrm.BusinessRules.Views.CompositeStepSectionView.$$(this.$$gta["Mscrm.BusinessRules.Views.CompositeStepSectionView"]["TViewModel"],this.$$gta["Mscrm.BusinessRules.Views.CompositeStepSectionView"]["TModel"]).initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.CompositeStepSectionView.$$=function($p0,$p1){var $$cn="CompositeStepSectionView$2$"+$p0.getName().replace(/\./g,"_")+"$"+$p1.getName().replace(/\./g,"_");if(!Mscrm.BusinessRules.Views[$$cn]){var $$ccr=Mscrm.BusinessRules.Views[$$cn]=function(){(this.$$gta=this.$$gta||{})["Mscrm.BusinessRules.Views.CompositeStepSectionView"]={TViewModel:$p0,TModel:$p1};for(var $v_0=[],$v_1=0;$v_1<arguments.length;++$v_1)$v_0[$v_1]=arguments[$v_1];Mscrm.BusinessRules.Views.CompositeStepSectionView.apply(this,$v_0)};$$ccr.registerClass("Mscrm.BusinessRules.Views."+$$cn,Mscrm.BusinessRules.Views.StepSectionView.$$($p0,$p1));var $$dict_6=Mscrm.BusinessRules.Views.CompositeStepSectionView.prototype;for(var $$key_7 in $$dict_6){var $$entry_8={key:$$key_7,value:$$dict_6[$$key_7]};if("constructor"!==$$entry_8.key)$$ccr.prototype[$$entry_8.key]=$$entry_8.value}}return Mscrm.BusinessRules.Views[$$cn]};Mscrm.BusinessRules.Views.CompositeStepSectionView.prototype={initialize:function(){Mscrm.BusinessRules.Views.SectionView.prototype.initialize.call(this);this.initializeChildSteps(this.$1_1)},initializeChildSteps:function($p0){for(var $v_0=$p0.children("*"),$v_1=this.get_viewModel().get_stepViewModels(),$v_2=0;$v_2<$v_1.get_count();$v_2++){var $v_3=Mscrm.BusinessRules.Views.StepSectionViewFactory.$2h($v_1.get_item($v_2),this.get_jQueryProxy().fromElement($v_0.get_item($v_2)));$v_1.get_item($v_2).set_parent(this.get_viewModel());$v_3.set_parent(this);this.get_stepViews().add($v_3)}},get_stepViews:function(){if(!this.$41_3)this.$41_3=Mscrm.BusinessRules.SharedMethods.getList(Mscrm.BusinessRules.Views.ISectionView);return this.$41_3},setFocusOnStep:function($p0){if(IsNull($p0))return;$p0.setFocus()},$41_3:null};Mscrm.BusinessRules.Views.ConditionBranchStepSectionView=function($p0){this.$$d_$6M_4=Function.createDelegate(this,this.$6M_4);Mscrm.BusinessRules.Views.ConditionBranchStepSectionView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.ConditionBranchStepSectionView.prototype={dispose:function(){if(this.$8_0)return;if(!IsNull(this.$O_4)){this.$O_4.unbind(Mscrm.EventNames.click,null);this.$O_4.unbind(Mscrm.EventNames.keyDown,null);this.$1K_4.dispose();this.$2j_4.dispose()}Mscrm.BusinessRules.Views.SectionView.prototype.dispose.call(this)},initialize:function(){this.$63_4();this.$5u_4()},$63_4:function(){var $v_0=this.get_jQueryProxy().selectElement("#"+String.format("{0}_section",String.format("{0}_{1}",this.get_viewModel().get_stepId(),"condition")));this.$3U_4=new Mscrm.BusinessRules.Views.ConditionsSectionsView($v_0);this.$3U_4.set_dataContext(this.get_viewModel().$2t_4);this.$3U_4.initialize()},$5u_4:function(){this.$2k_4=this.get_jQueryProxy().selectElement("#"+String.format("{0}_section",String.format("{0}_{1}",this.get_viewModel().get_stepId(),"action")));this.$4B_4=this.$2k_4.children(":first-child");this.$2i_4=this.$2k_4.children(":nth-child(2)");var $v_0=this.get_jQueryProxy().selectElement("#"+this.$2k_4.getAttribute("data-imageid"));this.attachForCollapseSectionEvent(this.$4B_4,this.$2i_4,$v_0);Mscrm.BusinessRules.Views.CompositeStepSectionView.prototype.initializeChildSteps.call(this,this.$2i_4.children(":first-child"));if(!Mscrm.BusinessRules.BusinessRuleInitializer.$15.get_readOnly()){this.$4A_4=this.get_jQueryProxy().selectElement("#AddActionButton");this.$O_4=this.$4A_4.children("img");this.$2j_4=new Mscrm.BusinessRules.Views.ActionMenu(this.$O_4);var $$t_3=this;this.$O_4.click(function($p1_0){$$t_3.$2j_4.showMenu()});var $$t_4=this;this.$O_4.bind(Mscrm.EventKeys.keyDown,function($p1_0){$p1_0.which===13&&$$t_4.$2j_4.showMenu()});if(!IsNull(this.$O_4)){this.$1K_4=new Mscrm.BusinessRules.Views.AddImageBehavior(this.$O_4);this.$1K_4.initialize()}Mscrm.BusinessRules.Views.ViewHelper.$3L=this.$$d_$6M_4}},$6M_4:function($p0,$p1){if(isNullOrEmptyString($p0)||!$p1)return;var $v_0=this.$2i_4.children(":first-child"),$v_1=null;switch($p0){case "SetVisibility":$v_1=new Mscrm.BusinessRules.Builders.SetVisibilityStepBuilder(this.get_viewModel().get_step().get_workflow(),this.get_viewModel().get_step());break;case "ShowMessage":$v_1=new Mscrm.BusinessRules.Builders.SetMessageStepBuilder(this.get_viewModel().get_step().get_workflow(),this.get_viewModel().get_step());break;case "SetField":$v_1=new Mscrm.BusinessRules.Builders.SetAttributeValueStepBuilder(this.get_viewModel().get_step().get_workflow(),this.get_viewModel().get_step());break;case "SetBusiness":$v_1=new Mscrm.BusinessRules.Builders.SetRequiredLevelStepBuilder(this.get_viewModel().get_step().get_workflow(),this.get_viewModel().get_step());break;case "SetReadWrite":$v_1=new Mscrm.BusinessRules.Builders.SetDisplayModeStepBuilder(this.get_viewModel().get_step().get_workflow(),this.get_viewModel().get_step());break}if($v_1){var $v_2=$v_1.$5X_0($v_0);$v_2.set_isNewCreated(true);var $v_3=$v_2.get_dataContext();$v_3.set_parent(this.get_viewModel());$v_2.set_parent(this);$v_2.get_inlineView().goToEditState();this.get_viewModel().get_stepViewModels().add($v_3);this.get_stepViews().add($v_2);$v_2.setFocus()}},setFocusOnStep:function($p0){IsNull($p0)&&this.$1K_4.setFocus();Mscrm.BusinessRules.Views.CompositeStepSectionView.prototype.setFocusOnStep.call(this,$p0)},$3U_4:null,$4A_4:null,$O_4:null,$2k_4:null,$2i_4:null,$4B_4:null,$1K_4:null,$2j_4:null};Mscrm.BusinessRules.Views.AddImageBehavior=function($p0){this.$L_0=$p0;var $v_0=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/plussign.png"));this.$1n_0=$v_0.source;this.$1m_0=$v_0.cssClass;var $v_1=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/hoverplussign.png"));this.$2P_0=$v_1.source;this.$2O_0=$v_1.cssClass};Mscrm.BusinessRules.Views.AddImageBehavior.prototype={initialize:function(){if(!IsNull(this.$L_0)){var $$t_0=this;this.$L_0.bind(Mscrm.EventKeys.focus,function(){$$t_0.$L_0.attribute("src",$$t_0.$2P_0);$$t_0.$L_0.attribute("class",$$t_0.$2O_0)});var $$t_1=this;this.$L_0.bind(Mscrm.EventKeys.blur,function(){$$t_1.$L_0.attribute("src",$$t_1.$1n_0);$$t_1.$L_0.attribute("class",$$t_1.$1m_0)});var $$t_2=this;this.$L_0.bind(Mscrm.EventNames.mouseOver,function(){$$t_2.$L_0.attribute("src",$$t_2.$2P_0);$$t_2.$L_0.attribute("class",$$t_2.$2O_0)});var $$t_3=this;this.$L_0.bind(Mscrm.EventNames.mouseOut,function(){$$t_3.$L_0.attribute("src",$$t_3.$1n_0);$$t_3.$L_0.attribute("class",$$t_3.$1m_0)})}},setFocus:function(){!IsNull(this.$L_0)&&this.$L_0.setFocus()},dispose:function(){if(!IsNull(this.$L_0)){this.$L_0.unbind(Mscrm.EventNames.mouseOver,null);this.$L_0.unbind(Mscrm.EventNames.mouseOut,null);this.$L_0.unbind(Mscrm.EventNames.focus,null);this.$L_0.unbind(Mscrm.EventKeys.blur,null);this.$L_0=null}},$L_0:null,$1n_0:null,$2P_0:null,$1m_0:null,$2O_0:null};Mscrm.BusinessRules.Views.ActionMenu=function($p0){this.$O_0=$p0;var $v_0=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/plussign.png"));this.$1n_0=$v_0.source;this.$1m_0=$v_0.cssClass;var $v_1=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/hoverplussign.png"));this.$2P_0=$v_1.source;this.$2O_0=$v_1.cssClass;this.$2B_0=new Mscrm.MoreCommandsMenu("AddActionButton");this.$2B_0.set_position(Mscrm.Utilities.get_isLeftToRight()?Mscrm.FlyOutPosition.right:Mscrm.FlyOutPosition.left)};Mscrm.BusinessRules.Views.ActionMenu.prototype={showMenu:function(){this.$2B_0.processAndShowMenu();this.$O_0.attribute("src",this.$2P_0);this.$O_0.attribute("class",this.$2O_0);var $$t_1=this;this.$2B_0.get_dialog().bind(Mscrm.FlyOutDialogEventName.closed,function($p1_0){$$t_1.$O_0.attribute("src",$$t_1.$1n_0);$$t_1.$O_0.attribute("class",$$t_1.$1m_0);$$t_1.$6L_0()});this.$O_0.unbind(Mscrm.EventNames.mouseOut,null)},$6L_0:function(){var $$t_0=this;this.$O_0.bind(Mscrm.EventNames.mouseOut,function(){$$t_0.$O_0.attribute("src",$$t_0.$1n_0);$$t_0.$O_0.attribute("class",$$t_0.$1m_0)});this.$O_0.attribute("src",this.$1n_0);this.$O_0.attribute("class",this.$1m_0)},dispose:function(){!IsNull(this.$O_0)&&this.$2B_0.get_dialog().unbind(Mscrm.FlyOutDialogEventName.closed,null)},$2B_0:null,$1n_0:null,$2P_0:null,$1m_0:null,$2O_0:null,$O_0:null};Mscrm.BusinessRules.Views.ConditionStepSectionView=function($p0){Mscrm.BusinessRules.Views.ConditionStepSectionView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.DescriptionSectionView=function($p0){Mscrm.BusinessRules.Views.DescriptionSectionView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.DescriptionSectionView.prototype={get_dataContext:function(){return this.$0_2},set_dataContext:function($p0){if(IsNull(this.$0_2)&&!IsNull($p0)){Mscrm.BusinessRules.Views.SectionView.prototype.set_dataContext.call(this,$p0);this.$0_2=$p0}return $p0},initialize:function(){Mscrm.BusinessRules.Views.SectionView.prototype.initialize.call(this);this.$67_2()},$67_2:function(){var $v_0=this.get_jQueryProxy().selectElement("#descriptionsection_chrome");this.$0_2.set_description($v_0.children(":first-child").children(":first-child").get_text());var $v_1=Mscrm.InlineEditControlMode.normal;if(Mscrm.BusinessRules.BusinessRuleInitializer.$15.get_readOnly())$v_1=Mscrm.InlineEditControlMode.deactivated;this.$4N_2=this.get_inlineEditControlMediator().createMultilineTextControl($v_0,"pbldescription",200,{value:this.$0_2.get_description()},"BodyViewContainer",$v_1);var $$t_2=this.$0_2,$$t_3=this.$0_2;this.get_bindingsMediator().addTextInputToStringValueBinding(new Mscrm.BusinessRules.Proxies.JQueryObjectProxy(this.$4N_2.get_editView().get_editElement()),this.$0_2,"descriptionproperty",$$t_2.$$d_getDescriptionDelegate||($$t_2.$$d_getDescriptionDelegate=Function.createDelegate($$t_2,$$t_2.getDescriptionDelegate)),$$t_3.$$d_setDescriptionDelegate||($$t_3.$$d_setDescriptionDelegate=Function.createDelegate($$t_3,$$t_3.setDescriptionDelegate)))},$0_2:null,$4N_2:null};Mscrm.BusinessRules.Views.RootStepSectionView=function($p0){Mscrm.BusinessRules.Views.RootStepSectionView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.SectionView=function($p0){Mscrm.BusinessRules.Views.SectionView.initializeBase(this);this.$1_1=$p0};Mscrm.BusinessRules.Views.SectionView.prototype={get_dataContext:function(){return this.$13_1},set_dataContext:function($p0){this.$13_1=$p0;return $p0},get_element:function(){return this.$1_1},initialize:function(){this.$45_1()},dispose:function(){if(this.$8_0)return;IsNull(this.$3f_1)&&this.$3f_1.unbind(null,null)},setFocus:function(){},$45_1:function(){var $v_0=this.$1_1.getAttribute("data-headerid");!isNullOrEmptyString($v_0)&&this.attachForCollapseSectionEvent(this.get_jQueryProxy().selectElement("#"+$v_0),this.get_jQueryProxy().selectElement("#"+this.$1_1.getAttribute("data-bodyid")),this.get_jQueryProxy().selectElement("#"+this.$1_1.getAttribute("data-imageid")))},attachForCollapseSectionEvent:function($p0,$p1,$p2){this.$3f_1=$p0;var $v_0=$p0.children("a"),$$t_7=this;$v_0.click(function($p1_0){if($p1&&$p2){if($p1.hasClass("hidesection")){$p1.removeClass("hidesection");var $v_1=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/section_down.png"));$p2.attribute("src",$v_1.source);$p2.attribute("class",$v_1.cssClass)}else{$p1.addClass("hidesection");var $v_2=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/section_right.png"));$p2.attribute("src",$v_2.source);$p2.attribute("class",$v_2.cssClass);if(Sys.Browser.agent===Sys.Browser.InternetExplorer&&Sys.Browser.version>8)$p2.addClass("arrowcollapsedimagestyle");else $p2.addClass("arrowcollapsedimage")}window.LOCID_UI_DIR==="RTL"&&$p2.addClass("ms-crm-FlipHorizontal")}})},$13_1:null,$1_1:null,$3f_1:null};Mscrm.BusinessRules.Views.SetDisplayModeStepSectionView=function($p0){Mscrm.BusinessRules.Views.SetDisplayModeStepSectionView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.SetDisplayModeStepSectionView.prototype={initialize:function(){this.set_inlineView(Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getSetDisplayModeStepInlineView(this.$1_1.children(":first-child").get_jQueryObject(),this.get_viewModel()));this.get_inlineView().set_parent(this);this.get_inlineView().renderForRead()},dispose:function(){if(this.$8_0)return;this.get_inlineView().dispose();this.set_inlineView(null)}};Mscrm.BusinessRules.Views.InlineSetDisplayModeStepView=function($p0){Mscrm.BusinessRules.Views.InlineSetDisplayModeStepView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineSetDisplayModeStepView.prototype={handleModelToViewBinding:function($p0,$p1){Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase.prototype.handleModelToViewBinding.call(this,$p0,$p1);switch($p1.get_propertyName()){case "ControlIdProperty":case "IsReadOnlyProperty":this.$3Q_3();break}},$3Q_3:function(){var $v_0=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeLocalizedName(this.get_viewModel().get_controlId()),$v_1=this.get_viewModel().get_isReadOnly()?window.LOCID_BUSINESSRULE_READ_ONLY:window.LOCID_BUSINESSRULE_READWRITE,$v_2=String.format(Mscrm.BusinessRules.Views.ViewHelper.$11(this.get_viewModel().getReadDisplayFormat()),CrmEncodeDecode.CrmHtmlEncode($v_1),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_0)));this.get_stepValueContent().html($v_2)},get_getEditViewObject:function(){return new Mscrm.BusinessRules.Views.InlineSetDisplayModeStepEditView(this)}};Mscrm.BusinessRules.Views.InlineSetDisplayModeStepEditView=function($p0){this.$T_3=Mscrm.BusinessRules.Views.InlineSetDisplayModeStepEditView.$1D++;Mscrm.BusinessRules.Views.InlineSetDisplayModeStepEditView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineSetDisplayModeStepEditView.prototype={get_isValid:function(){return true},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_inlineView().get_viewModel().set_controlId(this.$J_3.$0_1.get_selectedFieldLogicalName());this.get_inlineView().get_viewModel().set_isReadOnly(Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.getInlineFieldValue(this.$3Z_3).toString()==="0"?true:false);this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},discard:function($p0){this.$J_3.$0_1.set_selectedFieldLogicalName(this.get_inlineView().get_viewModel().get_controlId());var $v_0=this.get_inlineView().get_viewModel().get_isReadOnly()?0:1;Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.resetInlineFieldValue(this.$3Z_3,$v_0);Mscrm.BusinessRules.Views.InlineStepEditViewBase.prototype.discard.call(this,$p0)},createStepHtml:function($p0){$p0.append(String.format(this.$1v_3,this.$T_3,"editstepcontainer","sectionheader","sectioncell","celllabel","cellvalue",CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_SETREADWRITE),CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_FIELD),CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_STATUS)))},createAndAppendEditElementToDom:function(){Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView.prototype.createAndAppendEditElementToDom.call(this);var $v_0=$P_CRM("#stepFieldContainer"+this.$T_3);this.$J_3=new Mscrm.BusinessRules.Views.FieldControlView(new Mscrm.BusinessRules.Proxies.JQueryObjectProxy($v_0));this.$J_3.set_dataContext(new Mscrm.BusinessRules.ViewModels.FieldControlViewModel(Mscrm.BusinessRules.Views.ViewHelper.get_$K().EntityMetadata));this.$J_3.$0_1.set_selectedFieldLogicalName(this.get_inlineView().get_viewModel().get_controlId());this.$J_3.initialize();var $v_1=$P_CRM("#stepDisplayModeContainer"+this.$T_3),$v_2=this.get_inlineView().get_viewModel().get_isReadOnly(),$v_3=$v_2?0:1;this.$3Z_3=Mscrm.InlineControlFactory.createInlineAutoCompletePicklistControlForDom($v_1,$v_1[0].id,Mscrm.BusinessRules.Views.ViewHelper.get_$K().DisplayModePicklistOptions,$v_3.toString(),"BodyViewContainer",Mscrm.AttributeRequiredLevel.systemRequired,Mscrm.InlineEditControlMode.alwaysEdit,window.LOCID_BUSINESSRULE_SHOWFIELDS,window.LOCID_BUSINESSRULE_FIELDLABEL)},$J_3:null,$3Z_3:null,$1v_3:"<div class='{1}'>\r\n\t<div class='{2}'>{6}</div>\r\n\t<div class='{3}'>\r\n\t\t<div class='{4}'>{7}</div>\r\n\t\t<div id='stepFieldContainer{0}' class='{5}'>\r\n\t\t\t<div class='ms-crm-Inline-Value'></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class='{3}'>\r\n\t\t<div class='{4}'>{8}</div>\r\n\t\t<div id='stepDisplayModeContainer{0}' class='{5}'>\r\n\t\t\t<div class='ms-crm-Inline-Value'></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>"};Mscrm.BusinessRules.Views.SetRequiredLevelStepSectionView=function($p0){Mscrm.BusinessRules.Views.SetRequiredLevelStepSectionView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.SetRequiredLevelStepSectionView.prototype={initialize:function(){this.set_inlineView(Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getSetRequiredLevelStepInlineView(this.$1_1.children(":first-child").get_jQueryObject(),this.get_viewModel()));this.get_inlineView().set_parent(this);this.get_inlineView().renderForRead()},dispose:function(){if(this.$8_0)return;this.get_inlineView().dispose();this.set_inlineView(null)}};Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepView=function($p0){Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepView.prototype={handleModelToViewBinding:function($p0,$p1){Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase.prototype.handleModelToViewBinding.call(this,$p0,$p1);switch($p1.get_propertyName()){case "ControlIdProperty":case "RequiredLevel":this.$3Q_3();break}},$3Q_3:function(){var $v_0=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeLocalizedName(this.get_viewModel().get_controlId()),$v_1=this.get_viewModel().get_requiredLevel()===1?window.LOCID_BUSINESSRULE_BIZREQUIRED:window.LOCID_BUSINESSRULE_NOBIZREQUIRED,$v_2=String.format(Mscrm.BusinessRules.Views.ViewHelper.$11(this.get_viewModel().getReadDisplayFormat()),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_0)),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_1)));this.get_stepValueContent().html($v_2)},get_getEditViewObject:function(){return new Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepEditView(this)}};Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepEditView=function($p0){this.$T_3=Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepEditView.$1D++;Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepEditView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepEditView.prototype={get_isValid:function(){return true},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_inlineView().get_viewModel().set_controlId(this.$J_3.$0_1.get_selectedFieldLogicalName());this.get_inlineView().get_viewModel().set_requiredLevel(Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.getInlineFieldValue(this.$3s_3).toString()==="0"?0:1);this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},discard:function($p0){this.$J_3.$0_1.set_selectedFieldLogicalName(this.get_inlineView().get_viewModel().get_controlId());var $v_0=!this.get_inlineView().get_viewModel().get_requiredLevel()?"0":"1";Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.resetInlineFieldValue(this.$3s_3,$v_0);Mscrm.BusinessRules.Views.InlineStepEditViewBase.prototype.discard.call(this,$p0)},createStepHtml:function($p0){$p0.append(String.format(this.$1v_3,this.$T_3,"editstepcontainer","sectionheader","sectioncell","celllabel","cellvalue",CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_SETREQUIRED),CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_FIELD),CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_STATUS)))},createAndAppendEditElementToDom:function(){Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView.prototype.createAndAppendEditElementToDom.call(this);var $v_0=$P_CRM("#stepRequiredFieldContainer"+this.$T_3);this.$J_3=new Mscrm.BusinessRules.Views.FieldControlView(new Mscrm.BusinessRules.Proxies.JQueryObjectProxy($v_0));this.$J_3.set_dataContext(new Mscrm.BusinessRules.ViewModels.FieldControlViewModel(Mscrm.BusinessRules.Views.ViewHelper.get_$K().EntityMetadata));this.$J_3.$0_1.set_selectedFieldLogicalName(this.get_inlineView().get_viewModel().get_controlId());this.$J_3.initialize();var $v_1=$P_CRM("#stepRequiredLevelContainer"+this.$T_3),$v_2=!this.get_inlineView().get_viewModel().get_requiredLevel()?0:1;this.$3s_3=Mscrm.InlineControlFactory.createInlineAutoCompletePicklistControlForDom($v_1,$v_1[0].id,Mscrm.BusinessRules.Views.ViewHelper.get_$K().RequiredLevelPicklistOptions,$v_2.toString(),"BodyViewContainer",Mscrm.AttributeRequiredLevel.systemRequired,Mscrm.InlineEditControlMode.alwaysEdit,window.LOCID_BUSINESSRULE_SHOWFIELDS,window.LOCID_BUSINESSRULE_FIELDLABEL)},$J_3:null,$3s_3:null,$1v_3:"<div class='{1}'>\r\n\t<div class='{2}'>{6}</div>\r\n\t<div class='{3}'>\r\n\t\t<div class='{4}'>{7}</div>\r\n\t\t<div id='stepRequiredFieldContainer{0}' class='{5}'>\r\n\t\t\t<div class='ms-crm-Inline-Value'></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class='{3}'>\r\n\t\t<div class='{4}'>{8}</div>\r\n\t\t<div id='stepRequiredLevelContainer{0}' class='{5}'>\r\n\t\t\t<div class='ms-crm-Inline-Value'></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>"};Mscrm.BusinessRules.Views.SetVisibilityStepSectionView=function($p0){Mscrm.BusinessRules.Views.SetVisibilityStepSectionView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.SetVisibilityStepSectionView.prototype={initialize:function(){this.set_inlineView(Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getSetVisibilityStepInlineView(this.$1_1.children(":first-child").get_jQueryObject(),this.get_viewModel()));this.get_inlineView().set_parent(this);this.get_inlineView().renderForRead()},dispose:function(){if(this.$8_0)return;this.get_inlineView().dispose();this.set_inlineView(null)}};Mscrm.BusinessRules.Views.InlineSetVisibilityStepView=function($p0){Mscrm.BusinessRules.Views.InlineSetVisibilityStepView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineSetVisibilityStepView.prototype={handleModelToViewBinding:function($p0,$p1){Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase.prototype.handleModelToViewBinding.call(this,$p0,$p1);switch($p1.get_propertyName()){case "ControlIdProperty":case "IsVisibleProperty":this.$3Q_3();break}},$3Q_3:function(){var $v_0=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeLocalizedName(this.get_viewModel().get_controlId()),$v_1=this.get_viewModel().get_isVisible()?window.LOCID_BUSINESSRULE_SHOW:window.LOCID_BUSINESSRULE_HIDE,$v_2=String.format(Mscrm.BusinessRules.Views.ViewHelper.$11(this.get_viewModel().getVisibleFormat()),CrmEncodeDecode.CrmHtmlEncode($v_1),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_0)));this.get_stepValueContent().html($v_2)},get_getEditViewObject:function(){return new Mscrm.BusinessRules.Views.InlineSetVisibilityStepEditView(this)}};Mscrm.BusinessRules.Views.InlineSetVisibilityStepEditView=function($p0){this.$T_3=Mscrm.BusinessRules.Views.InlineSetVisibilityStepEditView.$1D++;Mscrm.BusinessRules.Views.InlineSetVisibilityStepEditView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineSetVisibilityStepEditView.prototype={get_isValid:function(){return true},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_inlineView().get_viewModel().set_controlId(this.$J_3.$0_1.get_selectedFieldLogicalName());this.get_inlineView().get_viewModel().set_isVisible(Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.getInlineFieldValue(this.$43_3).toString()==="0"?true:false);this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},discard:function($p0){this.$J_3.$0_1.set_selectedFieldLogicalName(this.get_inlineView().get_viewModel().get_controlId());var $v_0=this.get_inlineView().get_viewModel().get_isVisible()?0:1;Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.resetInlineFieldValue(this.$43_3,$v_0);Mscrm.BusinessRules.Views.InlineStepEditViewBase.prototype.discard.call(this,$p0)},createStepHtml:function($p0){$p0.append(String.format(this.$1v_3,this.$T_3,"editstepcontainer","sectionheader","sectioncell","celllabel","cellvalue",CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_SETSHOWHIDE),CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_FIELD),CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_STATUS)))},createAndAppendEditElementToDom:function(){Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView.prototype.createAndAppendEditElementToDom.call(this);var $v_0=$P_CRM("#stepVisibilityFieldContainer"+this.$T_3);this.$J_3=new Mscrm.BusinessRules.Views.FieldControlView(new Mscrm.BusinessRules.Proxies.JQueryObjectProxy($v_0));this.$J_3.set_dataContext(new Mscrm.BusinessRules.ViewModels.FieldControlViewModel(Mscrm.BusinessRules.Views.ViewHelper.get_$K().EntityMetadata));this.$J_3.$0_1.set_selectedFieldLogicalName(this.get_inlineView().get_viewModel().get_controlId());this.$J_3.initialize();var $v_1=$P_CRM("#stepVisibilityContainer"+this.$T_3),$v_2=this.get_inlineView().get_viewModel().get_isVisible(),$v_3=$v_2?0:1;this.$43_3=Mscrm.InlineControlFactory.createInlineAutoCompletePicklistControlForDom($v_1,$v_1[0].id,Mscrm.BusinessRules.Views.ViewHelper.get_$K().VisibilityPicklistOptions,$v_3.toString(),"BodyViewContainer",Mscrm.AttributeRequiredLevel.systemRequired,Mscrm.InlineEditControlMode.alwaysEdit,window.LOCID_BUSINESSRULE_SHOWFIELDS,window.LOCID_BUSINESSRULE_FIELDLABEL)},$J_3:null,$43_3:null,$1v_3:"<div class='{1}'>\r\n\t<div class='{2}'>{6}</div>\r\n\t<div class='{3}'>\r\n\t\t<div class='{4}'>{7}</div>\r\n\t\t<div id='stepVisibilityFieldContainer{0}' class='{5}'>\r\n\t\t\t<div class='ms-crm-Inline-Value'></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class='{3}'>\r\n\t\t<div class='{4}'>{8}</div>\r\n\t\t<div id='stepVisibilityContainer{0}' class='{5}'>\r\n\t\t\t<div class='ms-crm-Inline-Value'></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>"};Mscrm.BusinessRules.Views.SetMessageStepSectionView=function($p0){Mscrm.BusinessRules.Views.SetMessageStepSectionView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.SetMessageStepSectionView.prototype={initialize:function(){this.set_inlineView(Mscrm.BusinessRules.BusinessRuleInlineEditFactory.getSetMessageStepInlineView(this.$1_1.children(":first-child").get_jQueryObject(),this.get_viewModel()));this.get_inlineView().set_parent(this);this.get_inlineView().renderForRead()},dispose:function(){if(this.$8_0)return;this.get_inlineView().dispose();this.set_inlineView(null)}};Mscrm.BusinessRules.Views.InlineSetMessageStepView=function($p0){Mscrm.BusinessRules.Views.InlineSetMessageStepView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineSetMessageStepView.prototype={handleModelToViewBinding:function($p0,$p1){Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase.prototype.handleModelToViewBinding.call(this,$p0,$p1);switch($p1.get_propertyName()){case "ControlIdProperty":case "MessageProperty":this.$3Q_3();break}},$3Q_3:function(){var $v_0=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeLocalizedName(this.get_viewModel().get_controlId()),$v_1=CrmEncodeDecode.CrmHtmlEncode(this.get_viewModel().get_message()),$v_2=String.format(Mscrm.BusinessRules.Views.ViewHelper.$11(this.get_viewModel().getReadDisplayFormat()),String.format("<b>{0}</b>",CrmEncodeDecode.CrmHtmlEncode($v_0)),String.format('<b>"{0}"</b>',$v_1));this.get_stepValueContent().html($v_2)},get_getEditViewObject:function(){return new Mscrm.BusinessRules.Views.InlineSetMessageStepEditView(this)}};Mscrm.BusinessRules.Views.InlineSetMessageStepEditView=function($p0){this.$T_3=Mscrm.BusinessRules.Views.InlineSetMessageStepEditView.$1D++;Mscrm.BusinessRules.Views.InlineSetMessageStepEditView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.InlineSetMessageStepEditView.prototype={get_isValid:function(){return (new Mscrm.BusinessRules.Views.ValidateAsRequiredDecorator(this.$1N_3)).get_isValid()},updateAttribute:function(){Mscrm.InlineEditViewBase.prototype.updateAttribute.call(this);this.get_inlineView().get_viewModel().set_controlId(this.$J_3.$0_1.get_selectedFieldLogicalName());this.get_inlineView().get_viewModel().set_message(Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.getInlineFieldValue(this.$1N_3).toString());this.get_editElementWrapper().trigger(Mscrm.StateChangeEvents.commit)},confirm:function(){this.$1N_3.blur();this.get_isValid()&&Mscrm.BusinessRules.Views.InlineStepEditViewBase.prototype.confirm.call(this)},discard:function($p0){this.$J_3.$0_1.set_selectedFieldLogicalName(this.get_inlineView().get_viewModel().get_controlId());var $v_0=this.get_inlineView().get_viewModel().get_message();Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.resetInlineFieldValue(this.$1N_3,$v_0);Mscrm.BusinessRules.Views.InlineStepEditViewBase.prototype.discard.call(this,$p0)},createStepHtml:function($p0){$p0.append(String.format(this.$1v_3,this.$T_3,"editstepcontainer","sectionheader","sectioncell","celllabel","cellvalue",CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_SETMESSAGE),CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_FIELD),CrmEncodeDecode.CrmHtmlEncode(window.LOCID_BUSINESSRULE_MESSAGE),"sectioncellsetmessagefieldcontainer","sectioncellsetmessagecontainer","cellvaluesetmessagecontainer","editsetmessagecontainer"))},$6x_3:function($p0){var $v_0=$P_CRM("#stepMessageContainer"+$p0+"_i");if($v_0){$v_0.height("60px");$v_0.width("100%")}},createAndAppendEditElementToDom:function(){Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView.prototype.createAndAppendEditElementToDom.call(this);var $v_0=$P_CRM("#stepMessageFieldContainer"+this.$T_3);this.$J_3=new Mscrm.BusinessRules.Views.FieldControlView(new Mscrm.BusinessRules.Proxies.JQueryObjectProxy($v_0));this.$J_3.set_dataContext(new Mscrm.BusinessRules.ViewModels.FieldControlViewModel(Mscrm.BusinessRules.Views.ViewHelper.get_$K().EntityMetadata));this.$J_3.$0_1.set_selectedFieldLogicalName(this.get_inlineView().get_viewModel().get_controlId());this.$J_3.initialize();var $v_1=this.get_jQueryProxy().selectElement("#stepMessageContainer"+this.$T_3),$v_2=this.get_inlineView().get_viewModel().get_message(),$v_3={};$v_3["value"]=CrmEncodeDecode.CrmHtmlEncode(CrmEncodeDecode.CrmHtmlEncode($v_2));this.$1N_3=this.get_inlineEditControlMediator().createMultilineTextControl($v_1,$v_1.get_item(0).id,2e3,$v_3,"BodyViewContainer",Mscrm.InlineEditControlMode.alwaysEdit);this.$6x_3(this.$T_3);this.$1N_3.get_dataContext().set_labelValue(window.LOCID_BUSINESSRULE_MESSAGE);var $v_4=$find(this.$1N_3.get_dataContext().get_attribute().get_dataAttributeId());$v_4.get_controls().add(this.$1N_3)},$J_3:null,$1N_3:null,$1v_3:"<div class='{1}'>\r\n\t<div class='{2}'>{6}</div>\r\n\t<div class='{3} {9}'>\r\n\t\t<div class='{4}'>{7}</div>\r\n\t\t<div id='stepMessageFieldContainer{0}' class='{5}'>\r\n\t\t\t<div class='ms-crm-Inline-Value'></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class='{12}'>\r\n\t\t<div class='{3} {10}'>\r\n\t\t\t<div class='{4}'>{8}</div>\r\n\t\t\t<div id='stepMessageContainer{0}' class='{5} {11}'>\r\n\t\t\t\t<div class='ms-crm-Inline-Value'></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>"};Mscrm.BusinessRules.Views.StepSectionView=function($p0){Mscrm.BusinessRules.Views.StepSectionView.$$(this.$$gta["Mscrm.BusinessRules.Views.StepSectionView"]["TViewModel"],this.$$gta["Mscrm.BusinessRules.Views.StepSectionView"]["TModel"]).initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.StepSectionView.$$=function($p0,$p1){var $$cn="StepSectionView$2$"+$p0.getName().replace(/\./g,"_")+"$"+$p1.getName().replace(/\./g,"_");if(!Mscrm.BusinessRules.Views[$$cn]){var $$ccr=Mscrm.BusinessRules.Views[$$cn]=function(){(this.$$gta=this.$$gta||{})["Mscrm.BusinessRules.Views.StepSectionView"]={TViewModel:$p0,TModel:$p1};for(var $v_0=[],$v_1=0;$v_1<arguments.length;++$v_1)$v_0[$v_1]=arguments[$v_1];Mscrm.BusinessRules.Views.StepSectionView.apply(this,$v_0)};$$ccr.registerClass("Mscrm.BusinessRules.Views."+$$cn,Mscrm.BusinessRules.Views.SectionView,Mscrm.BusinessRules.Views.IStepSectionView,Mscrm.BusinessRules.Views.ISectionView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);var $$dict_6=Mscrm.BusinessRules.Views.StepSectionView.prototype;for(var $$key_7 in $$dict_6){var $$entry_8={key:$$key_7,value:$$dict_6[$$key_7]};if("constructor"!==$$entry_8.key)$$ccr.prototype[$$entry_8.key]=$$entry_8.value}}return Mscrm.BusinessRules.Views[$$cn]};Mscrm.BusinessRules.Views.StepSectionView.prototype={get_dataContext:function(){return this.$0_2},set_dataContext:function($p0){if(IsNull(this.$0_2)&&!IsNull($p0)){Mscrm.BusinessRules.Views.SectionView.prototype.set_dataContext.call(this,$p0);this.$0_2=$p0}return $p0},get_inlineView:function(){return this.$y_2},set_inlineView:function($p0){this.$y_2=$p0;return $p0},get_isNewCreated:function(){return this.$34_2},set_isNewCreated:function($p0){this.$34_2=$p0;return $p0},setFocus:function(){this.$y_2.setFocus()},get_viewModel:function(){return this.$0_2},$0_2:null,$y_2:null,$34_2:false};Mscrm.BusinessRules.Views.StepSectionViewFactory=function(){};Mscrm.BusinessRules.Views.StepSectionViewFactory.$2h=function($p0,$p1){if(Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionViewModel.isInstanceOfType($p0))return Mscrm.BusinessRules.Views.StepSectionViewFactory.$1A(new Mscrm.BusinessRules.Views.SetAttributeValueStepSectionView($p1),$p0);if(Mscrm.BusinessRules.ViewModels.SetDisplayModeStepSectionViewModel.isInstanceOfType($p0))return Mscrm.BusinessRules.Views.StepSectionViewFactory.$1A(new Mscrm.BusinessRules.Views.SetDisplayModeStepSectionView($p1),$p0);if(Mscrm.BusinessRules.ViewModels.SetMessageStepSectionViewModel.isInstanceOfType($p0))return Mscrm.BusinessRules.Views.StepSectionViewFactory.$1A(new Mscrm.BusinessRules.Views.SetMessageStepSectionView($p1),$p0);if(Mscrm.BusinessRules.ViewModels.SetRequiredLevelStepSectionViewModel.isInstanceOfType($p0))return Mscrm.BusinessRules.Views.StepSectionViewFactory.$1A(new Mscrm.BusinessRules.Views.SetRequiredLevelStepSectionView($p1),$p0);if(Mscrm.BusinessRules.ViewModels.SetVisibilityStepSectionViewModel.isInstanceOfType($p0))return Mscrm.BusinessRules.Views.StepSectionViewFactory.$1A(new Mscrm.BusinessRules.Views.SetVisibilityStepSectionView($p1),$p0);if(Mscrm.BusinessRules.ViewModels.ConditionBranchStepSectionViewModel.isInstanceOfType($p0))return Mscrm.BusinessRules.Views.StepSectionViewFactory.$1A(new Mscrm.BusinessRules.Views.ConditionBranchStepSectionView($p1),$p0);if(Mscrm.BusinessRules.ViewModels.ConditionStepSectionViewModel.isInstanceOfType($p0))return Mscrm.BusinessRules.Views.StepSectionViewFactory.$1A(new Mscrm.BusinessRules.Views.ConditionStepSectionView($p1),$p0);if(Mscrm.BusinessRules.ViewModels.IRootStepSectionViewModel.isInstanceOfType($p0))return Mscrm.BusinessRules.Views.StepSectionViewFactory.$1A(new Mscrm.BusinessRules.Views.RootStepSectionView($p1),$p0);if(Mscrm.BusinessRules.ViewModels.IDescriptionSectionViewModel.isInstanceOfType($p0))return Mscrm.BusinessRules.Views.StepSectionViewFactory.$1A(new Mscrm.BusinessRules.Views.DescriptionSectionView($p1),$p0);throw Mscrm.BusinessRules.SharedMethods.createException("Unsupported Exception")};Mscrm.BusinessRules.Views.StepSectionViewFactory.$1A=function($p0,$p1){$p0.set_dataContext($p1);$p0.initialize();return $p0};Mscrm.BusinessRules.Views.EditExpressionToolbarView=function($p0){Mscrm.BusinessRules.Views.EditExpressionToolbarView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.EditExpressionToolbarView.prototype={get_closeImage:function(){if(IsNull(this.$1r_3))this.$1r_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ConditionButton_Cancel_Default_24.png"));return this.$1r_3},get_hoverCloseImage:function(){if(IsNull(this.$1x_3))this.$1x_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ConditionButton_Cancel_Hover_24.png"));return this.$1x_3},get_selectedCloseImage:function(){if(IsNull(this.$25_3))this.$25_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ConditionButton_Cancel_Select_24.png"));return this.$25_3},get_doneImage:function(){if(IsNull(this.$1u_3))this.$1u_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ConditionButton_OK_Default_24.png"));return this.$1u_3},get_hoverDoneImage:function(){if(IsNull(this.$1y_3))this.$1y_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ConditionButton_OK_Hover_24.png"));return this.$1y_3},get_selectedDoneImage:function(){if(IsNull(this.$26_3))this.$26_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ConditionButton_OK_Select_24.png"));return this.$26_3},$1r_3:null,$1x_3:null,$25_3:null,$1u_3:null,$1y_3:null,$26_3:null};Mscrm.BusinessRules.Views.ReadToolBarButtonView=function(){this.$$d_$6R_1=Function.createDelegate(this,this.$6R_1);this.$$d_$6Q_1=Function.createDelegate(this,this.$6Q_1);Mscrm.BusinessRules.Views.ReadToolBarButtonView.initializeBase(this)};Mscrm.BusinessRules.Views.ReadToolBarButtonView.prototype={$1_1:null,$1f_1:null,$1J_1:null,$0_1:null,get_element:function(){return this.$1_1},set_element:function($p0){this.$1_1=$p0;return $p0},get_icon:function(){return this.$1f_1},set_icon:function($p0){this.$1f_1=$p0;return $p0},get_hoverIcon:function(){return this.$1J_1},set_hoverIcon:function($p0){this.$1J_1=$p0;return $p0},dispose:function(){if(this.$8_0)return;if(!IsNull(this.$1f_1))this.$1f_1=null;if(!IsNull(this.$1J_1))this.$1J_1=null;if(!IsNull(this.$1_1)){this.$1_1.unbind("mouseenter",this.$$d_$6Q_1);this.$1_1.unbind("mouseleave",this.$$d_$6Q_1);this.$1_1=null}if(!IsNull(this.$0_1)){this.$0_1.dispose();this.$0_1=null}Mscrm.BusinessRules.Views.View.prototype.dispose.call(this)},handleModelToViewBinding:function($p0){Mscrm.BusinessRules.Views.View.prototype.handleModelToViewBinding.call(this,$p0);switch($p0){case "Selected":this.$5p_1();break}},initialize:function(){Mscrm.BusinessRules.Views.View.prototype.initialize.call(this);this.$1_1.attribute("id",this.$0_1.get_id());this.$1_1.attribute("title",this.$0_1.get_titleText());this.$1_1.append(this.$1f_1);this.$1_1.append(this.$1J_1);this.$1J_1.hide();this.get_bindingsMediator().addClickBinding(this.$1_1,this.$0_1.get_command());this.$1_1.mouseEnter(this.$$d_$6Q_1);this.$1_1.mouseLeave(this.$$d_$6R_1)},get_dataContext:function(){return this.$0_1},set_dataContext:function($p0){this.$0_1=$p0;return $p0},$5p_1:function(){if(this.$0_1.get_selected()){this.$1_1.attribute("aria-selected","true");this.$5H_1()}else{this.$1_1.removeAttribute("aria-selected");this.$5I_1()}},$6R_1:function($p0){this.$5I_1()},$6Q_1:function($p0){this.$5H_1()},$5I_1:function(){if(!this.$0_1.get_selected()){this.$1J_1.hide();this.$1f_1.show()}},$5H_1:function(){this.$1f_1.hide();this.$1J_1.show()}};Mscrm.BusinessRules.Views.ReadToolBarView=function(){Mscrm.BusinessRules.Views.ReadToolBarView.initializeBase(this)};Mscrm.BusinessRules.Views.ReadToolBarView.prototype={$0_1:null,$1_1:null,$1C_1:null,$2Y_1:null,dispose:function(){if(this.$8_0)return;if(!IsNull(this.$1C_1)){for(var $v_0=0;$v_0<this.$1C_1.get_count();$v_0++){var $v_1=this.$1C_1.get_item($v_0);$v_1.dispose()}this.$1C_1.clear();this.$1C_1=null}if(!IsNull(this.$2Y_1))this.$2Y_1=null;if(!IsNull(this.$1_1))this.$1_1=null;if(!IsNull(this.$0_1)){this.$0_1.dispose();this.$0_1=null}Mscrm.BusinessRules.Views.View.prototype.dispose.call(this)},initialize:function(){Mscrm.BusinessRules.Views.View.prototype.initialize.call(this);this.$1_1.attribute("id",this.$0_1.get_id());for(var $v_0=0;$v_0<this.$0_1.get_buttonViewModels().get_count();$v_0++){var $v_1=this.$0_1.get_buttonViewModels().get_item($v_0),$v_2=this.get_readToolBarButtonViewBuilder().build($v_1);this.$60_1($v_2)}},get_dataContext:function(){return this.$0_1},set_dataContext:function($p0){this.$0_1=$p0;return $p0},get_element:function(){return this.$1_1},set_element:function($p0){this.$1_1=$p0;return $p0},get_buttonViews:function(){return this.$1C_1||(this.$1C_1=Mscrm.BusinessRules.SharedMethods.getList(Mscrm.BusinessRules.Views.IReadToolBarButtonView))},set_buttonViews:function($p0){this.$1C_1=$p0;return $p0},get_readToolBarButtonViewBuilder:function(){return this.$2Y_1||(this.$2Y_1=new Mscrm.BusinessRules.Builders.ReadToolBarButtonViewBuilder)},set_readToolBarButtonViewBuilder:function($p0){this.$2Y_1=$p0;return $p0},$60_1:function($p0){this.get_buttonViews().add($p0);this.$5S_1($p0.get_element());$p0.initialize()},$5S_1:function($p0){this.$1_1.append($p0)}};Mscrm.BusinessRules.Views.ActionReadToolBarView=function($p0){this.$$d_$4v_2=Function.createDelegate(this,this.$4v_2);Mscrm.BusinessRules.Views.ActionReadToolBarView.initializeBase(this);this.$u_2=$p0};Mscrm.BusinessRules.Views.ActionReadToolBarView.$58=function($p0,$p1){var $v_0=$p1,$v_1=$v_0.get_dataContext(),$v_2=$v_1.get_step(),$v_3=$p1.$P_0,$v_4=$v_3.get_dataContext(),$v_5=$v_4.get_step(),$v_6=$v_3.get_stepViews().indexOf($v_0,null),$v_7=!$v_6,$v_8=$v_6===$v_3.get_stepViews().get_count()-1;if($v_7&&$p0||$v_8&&!$p0)return;if($p0){$v_0.$1_1.get_jQueryObject().insertBefore($v_0.$1_1.get_jQueryObject().prev());$v_5.get_steps().move($v_6-1,$v_2);Mscrm.BusinessRules.Views.ActionReadToolBarView.$71(Mscrm.BusinessRules.ViewModels.ISectionViewModel,$v_4.get_stepViewModels(),$v_6,$v_6-1);Mscrm.BusinessRules.Views.ActionReadToolBarView.$71(Mscrm.BusinessRules.Views.ISectionView,$v_3.get_stepViews(),$v_6,$v_6-1)}else{$v_0.$1_1.get_jQueryObject().insertAfter($v_0.$1_1.get_jQueryObject().next());$v_5.get_steps().move($v_6+1,$v_2);Mscrm.BusinessRules.Views.ActionReadToolBarView.$71(Mscrm.BusinessRules.ViewModels.ISectionViewModel,$v_4.get_stepViewModels(),$v_6,$v_6+1);Mscrm.BusinessRules.Views.ActionReadToolBarView.$71(Mscrm.BusinessRules.Views.ISectionView,$v_3.get_stepViews(),$v_6,$v_6+1)}};Mscrm.BusinessRules.Views.ActionReadToolBarView.deleteAction=function($p0){var $v_0=$p0,$v_1=$v_0.get_dataContext(),$v_2=$v_1.get_step(),$v_3=$v_0.$P_0,$v_4=$v_3.get_dataContext(),$v_5=$v_4.get_step();$v_0.$1_1.get_jQueryObject().remove();$v_3.get_stepViews().remove($v_0);$v_4.get_stepViewModels().remove($v_1);$v_5.get_steps().remove($v_2);$v_0.dispose();$v_1.dispose()};Mscrm.BusinessRules.Views.ActionReadToolBarView.$71=function($p0,$p1,$p2,$p3){var $v_0=$p1.get_item($p2);$p1.set_item($p2,$p1.get_item($p3));$p1.set_item($p3,$v_0)};Mscrm.BusinessRules.Views.ActionReadToolBarView.prototype={$u_2:null,$1V_2:null,initialize:function(){Mscrm.BusinessRules.Views.ReadToolBarView.prototype.initialize.call(this);this.$1V_2=this.get_jQueryProxy().selectElement("#BodyViewContainer")},dispose:function(){if(this.$8_0)return;if(!IsNull(this.$u_2))this.$u_2=null;Mscrm.BusinessRules.Views.ReadToolBarView.prototype.dispose.call(this)},moveUpHandler:function(){Mscrm.BusinessRules.Views.ActionReadToolBarView.$58(true,this.$u_2);return true},moveDownHandler:function(){Mscrm.BusinessRules.Views.ActionReadToolBarView.$58(false,this.$u_2);return true},deleteHandler:function(){var $v_0=new Mscrm.BusinessRuleConfirmFlyout(this.$1V_2.get_jQueryObject(),this.$$d_$4v_2,null);$v_0.show(window.LOCID_PBLCONFIRM_DELETE,window.LOCID_PBLCONFIRM_DELETEBODY,"");return true},$4v_2:function($p0){Mscrm.BusinessRules.Views.ActionReadToolBarView.deleteAction(this.$u_2)}};Mscrm.BusinessRules.Views.ConditionReadToolBarView=function($p0){this.$$d_$4v_2=Function.createDelegate(this,this.$4v_2);Mscrm.BusinessRules.Views.ConditionReadToolBarView.initializeBase(this);this.$u_2=$p0};Mscrm.BusinessRules.Views.ConditionReadToolBarView.deleteAction=function($p0){var $v_0=$p0,$v_1=$v_0.$0_1,$v_2=$v_0.$P_0,$v_3=$v_2.get_dataContext(),$v_4=$v_2.get_expressions().indexOf($v_0,null),$v_5=!$v_4;$v_0.$1_1.get_jQueryObject().remove();$v_2.get_expressions().remove($v_0);$v_3.$1I_1.remove($v_1);$v_0.dispose();$v_1.dispose();if($v_5&&$v_2.get_expressions().get_count()>0){$v_2.get_expressions().get_item(0).get_dataContext().$1i_2=true;$v_2.get_expressions().get_item(0).get_inlineView().updateValueElement()}};Mscrm.BusinessRules.Views.ConditionReadToolBarView.prototype={$u_2:null,$1V_2:null,initialize:function(){Mscrm.BusinessRules.Views.ReadToolBarView.prototype.initialize.call(this);this.$1V_2=this.get_jQueryProxy().selectElement("#BodyViewContainer")},dispose:function(){if(this.$8_0)return;if(!IsNull(this.$u_2))this.$u_2=null;Mscrm.BusinessRules.Views.ReadToolBarView.prototype.dispose.call(this)},deleteHandler:function(){var $v_0=new Mscrm.BusinessRuleConfirmFlyout(this.$1V_2.get_jQueryObject(),this.$$d_$4v_2,null);$v_0.show(window.LOCID_PBLCONFIRM_DELETE,window.LOCID_PBLCONFIRM_DELETEBODY,"");return true},$4v_2:function($p0){Mscrm.BusinessRules.Views.ConditionReadToolBarView.deleteAction(this.$u_2)}};Mscrm.BusinessRules.Views.ToolbarView=function($p0){Mscrm.BusinessRules.Views.ToolbarView.initializeBase(this);this.$1_1=$p0};Mscrm.BusinessRules.Views.ToolbarView.prototype={get_dataContext:function(){return null},set_dataContext:function($p0){return $p0},get_element:function(){return this.$1_1},$1_1:null};Mscrm.BusinessRules.Views.EditToolbarView=function($p0){Mscrm.BusinessRules.Views.EditToolbarView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.EditToolbarView.prototype={initialize:function(){this.$64_2();this.$65_2()},get_discardButton:function(){return this.$2I_2},get_doneButton:function(){return this.$2J_2},$64_2:function(){this.$2I_2=this.$1_1.children(".editdiscardimage").children(":first-child");this.$45_2(this.$2I_2,this.get_closeImage(),this.get_hoverCloseImage(),this.get_selectedCloseImage())},$65_2:function(){this.$2J_2=this.$1_1.children(".editdoneimage").children(":first-child");this.$45_2(this.$2J_2,this.get_doneImage(),this.get_hoverDoneImage(),this.get_selectedDoneImage())},$45_2:function($p0,$p1,$p2,$p3){var $v_0=false,$$t_B=this;$p0.bind(Mscrm.EventKeys.mouseOver,function($p1_0){$p0.attribute("src",$p2.source);$p0.attribute("class",$p2.cssClass)});var $$t_C=this;$p0.bind(Mscrm.EventKeys.mouseOut,function($p1_0){$p0.attribute("src",$p1.source);$p0.attribute("class",$p1.cssClass)});var $$t_D=this;$p0.bind(Mscrm.EventKeys.mouseDown,function($p1_0){$v_0=true;$p0.attribute("src",$p3.source);$p0.attribute("class",$p3.cssClass)});var $$t_E=this;$p0.bind(Mscrm.EventKeys.mouseUp,function($p1_0){$p0.attribute("src",$p1.source);$p0.attribute("class",$p1.cssClass)});var $$t_F=this;$p0.bind(Mscrm.EventKeys.focus,function($p1_0){if(!$v_0){$p0.attribute("src",$p2.source);$p0.attribute("class",$p2.cssClass)}$v_0=false});var $$t_G=this;$p0.bind(Mscrm.EventKeys.blur,function($p1_0){$p0.attribute("src",$p1.source);$p0.attribute("class",$p1.cssClass)})},dispose:function(){if(this.$8_0)return;this.$2I_2.unbind(null,null);this.$2J_2.unbind(null,null);this.$2I_2=null;this.$2J_2=null},$2I_2:null,$2J_2:null};Mscrm.BusinessRules.Views.EditStepToolbarView=function($p0){Mscrm.BusinessRules.Views.EditStepToolbarView.initializeBase(this,[$p0])};Mscrm.BusinessRules.Views.EditStepToolbarView.prototype={get_closeImage:function(){if(IsNull(this.$1r_3))this.$1r_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ActionButton_Cancel_Default_24.png"));return this.$1r_3},get_hoverCloseImage:function(){if(IsNull(this.$1x_3))this.$1x_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ActionButton_Cancel_Hover_24.png"));return this.$1x_3},get_selectedCloseImage:function(){if(IsNull(this.$25_3))this.$25_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ActionButton_Cancel_Select_24.png"));return this.$25_3},get_doneImage:function(){if(IsNull(this.$1u_3))this.$1u_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ActionButton_OK_Default_24.png"));return this.$1u_3},get_hoverDoneImage:function(){if(IsNull(this.$1y_3))this.$1y_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ActionButton_OK_Hover_24.png"));return this.$1y_3},get_selectedDoneImage:function(){if(IsNull(this.$26_3))this.$26_3=Mscrm.ImageStrip.getImageInfo(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/ActionButton_OK_Select_24.png"));return this.$26_3},$1r_3:null,$1x_3:null,$25_3:null,$1u_3:null,$1y_3:null,$26_3:null};Mscrm.BusinessRules.Views.ViewHelper=function(){};Mscrm.BusinessRules.Views.ViewHelper.$11=function($p0){if(isNullOrEmptyString($p0))return $p0;$p0=CrmEncodeDecode.CrmHtmlEncode($p0);$p0=$p0.replace(/&#123;/g,"{");return $p0.replace(/&#125;/g,"}")};Mscrm.BusinessRules.Views.ViewHelper.get_$K=function(){if(!Mscrm.BusinessRules.Views.ViewHelper.$2v)Mscrm.BusinessRules.Views.ViewHelper.$2v=$P_CRM.parseJSON(window._BusinessRuleEditorJsonData.substr(8));return Mscrm.BusinessRules.Views.ViewHelper.$2v};Mscrm.BusinessRules.Views.ViewHelper.addActionStep=function(command,element){Mscrm.BusinessRules.Views.ViewHelper.$3L&&Mscrm.BusinessRules.Views.ViewHelper.$3L(command,element)};Mscrm.BusinessRules.Views.FormBodyView=function($p0){Mscrm.BusinessRules.Views.FormBodyView.initializeBase(this,[$p0]);this.$3v_2=Mscrm.BusinessRules.SharedMethods.getList(Mscrm.BusinessRules.Views.ISectionView)};Mscrm.BusinessRules.Views.FormBodyView.prototype={get_sectionViews:function(){return this.$3v_2},get_dataContext:function(){return this.$0_2},set_dataContext:function($p0){if(IsNull(this.$0_2)&&!IsNull($p0)){Mscrm.BusinessRules.Views.SectionView.prototype.set_dataContext.call(this,$p0);this.$0_2=$p0}return $p0},initialize:function(){Mscrm.BusinessRules.Views.SectionView.prototype.initialize.call(this);for(var $v_0=this.$1_1.children("div"),$v_1=this.$0_2.get_sections(),$v_2=0;$v_2<$v_1.get_count();$v_2++)this.$3v_2.add(Mscrm.BusinessRules.Views.StepSectionViewFactory.$2h($v_1.get_item($v_2),this.get_jQueryProxy().fromElement($v_0.get_item($v_2))))},$0_2:null,$3v_2:null};Mscrm.BusinessRules.Views.HeaderView=function(){this.$$d_$70_1=Function.createDelegate(this,this.$70_1);Mscrm.BusinessRules.Views.HeaderView.initializeBase(this)};Mscrm.BusinessRules.Views.HeaderView.prototype={dispose:function(){if(this.$8_0)return;this.$2c_1.unbind(Mscrm.EventKeys.keyDown,null);this.$2a_1.unbind(Mscrm.EventKeys.keyDown,null);this.$2b_1.unbind(Mscrm.EventKeys.keyDown,null);this.$2D_1.unbind(Mscrm.EventKeys.keyDown,null);this.$2N_1.unbind(Mscrm.EventKeys.keyDown,null);$P_CRM(document).unbind(Mscrm.EventKeys.keyDown,null);this.$0_1.remove_onValidation(this.$$d_$70_1)},get_dataContext:function(){return this.$0_1},set_dataContext:function($p0){if(IsNull(this.$0_1)&&!IsNull($p0))this.$0_1=$p0;return $p0},initialize:function(){var $v_0=window.LOCID_BUSINESSRULE_NAMESTRING+": "+Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().get_entityDisplayName(),$v_1=this.get_jQueryProxy().selectElement("#RuleEntityName");$v_1.set_text($v_0);$v_1.attribute("title",$v_0);this.$68_1();this.$2c_1=this.get_jQueryProxy().selectElement("#saveButton");if(!IsNull(this.$2c_1)){this.get_bindingsMediator().addClickBinding(this.$2c_1,this.$0_1.get_saveCommand());var $$t_8=this;this.$2c_1.bind(Mscrm.EventKeys.keyDown,function($p1_0){$p1_0.which===13&&$$t_8.$0_1.get_saveCommand().execute()});var $$t_9=this;$P_CRM(document).bind(Mscrm.EventKeys.keyDown,function($p1_0){$p1_0.which===83&&$p1_0.ctrlKey&&$$t_9.$0_1.get_saveCommand().execute()})}this.$2a_1=this.get_jQueryProxy().selectElement("#saveAndCloseButton");if(!IsNull(this.$2a_1)){this.get_bindingsMediator().addClickBinding(this.$2a_1,this.$0_1.get_saveAndCloseCommand());var $$t_A=this;this.$2a_1.bind(Mscrm.EventKeys.keyDown,function($p1_0){$p1_0.which===13&&$$t_A.$0_1.get_saveAndCloseCommand().execute()});var $$t_B=this;$P_CRM(document).bind(Mscrm.EventKeys.keyDown,function($p1_0){$p1_0.which===83&&$p1_0.altKey&&$$t_B.$0_1.get_saveAndCloseCommand().execute()})}this.$2b_1=this.get_jQueryProxy().selectElement("#saveAsButton");if(!IsNull(this.$2b_1)){this.get_bindingsMediator().addClickBinding(this.$2b_1,this.$0_1.get_saveAsCommand());var $$t_C=this;this.$2b_1.bind(Mscrm.EventKeys.keyDown,function($p1_0){$p1_0.which===13&&$$t_C.$0_1.get_saveAsCommand().execute()})}this.$2D_1=this.get_jQueryProxy().selectElement("#activateButton");if(!IsNull(this.$2D_1)){this.get_bindingsMediator().addClickBinding(this.$2D_1,this.$0_1.get_activateCommand());var $$t_D=this;this.$2D_1.bind(Mscrm.EventKeys.keyDown,function($p1_0){$p1_0.which===13&&$$t_D.$0_1.get_activateCommand().execute()})}this.$5U_1()},$5U_1:function(){this.$2N_1=this.get_jQueryProxy().selectElement("#helpButton");if(!IsNull(this.$2N_1)){this.get_bindingsMediator().addClickBinding(this.$2N_1,this.$0_1.get_helpCommand());var $$t_1=this;this.$2N_1.bind(Mscrm.EventKeys.keyDown,function($p1_0){$p1_0.which===13&&$$t_1.$0_1.get_helpCommand().execute()})}},$68_1:function(){this.$5y_1();this.$6E_1()},$5y_1:function(){var $v_0=this.get_jQueryProxy().selectElement("#BusinessRuleName");this.$0_1.set_businessRuleName($v_0.children(":first-child").children(":first-child").get_text());var $v_1=Mscrm.InlineEditControlMode.normal;if(this.$0_1.get_readOnly())$v_1=Mscrm.InlineEditControlMode.deactivated;this.$24_1=this.get_inlineEditControlMediator().createSingleLineTextControl($v_0,"headerbusinessrulename",100,{value:this.$0_1.get_businessRuleName()},"HeaderViewContainer",$v_1);this.$24_1.get_valueElement().addClass("ruletitlecontent");this.$24_1.get_editView().get_editElement().addClass("ruletitlecontent");this.$24_1.get_dataContext().set_emptyValuePlaceholder(window.LOCID_BUSINESSRULE_NAMEWATERMRK);var $$t_3=this.$0_1,$$t_4=this.$0_1;this.get_bindingsMediator().addTextInputToStringValueBinding(new Mscrm.BusinessRules.Proxies.JQueryObjectProxy(this.$24_1.get_editView().get_editElement()),this.$0_1,"BusinessRuleName",$$t_3.$$d_getBusinessRuleNameDelegate||($$t_3.$$d_getBusinessRuleNameDelegate=Function.createDelegate($$t_3,$$t_3.getBusinessRuleNameDelegate)),$$t_4.$$d_setBusinessRuleNameDelegate||($$t_4.$$d_setBusinessRuleNameDelegate=Function.createDelegate($$t_4,$$t_4.setBusinessRuleNameDelegate)));var $v_2=this.get_jQueryProxy().selectElement("#crmFormSubmitId"),$$t_5=this.$0_1,$$t_6=this.$0_1;this.get_bindingsMediator().addTextInputToStringValueBinding($v_2,this.$0_1,"BusinessRuleId",$$t_5.$$d_getBusinessRuleIdDelegate||($$t_5.$$d_getBusinessRuleIdDelegate=Function.createDelegate($$t_5,$$t_5.getBusinessRuleIdDelegate)),$$t_6.$$d_setBusinessRuleIdDelegate||($$t_6.$$d_setBusinessRuleIdDelegate=Function.createDelegate($$t_6,$$t_6.setBusinessRuleIdDelegate)));this.$0_1.add_onValidation(this.$$d_$70_1);this.$5F_1()},$70_1:function($p0,$p1){!$p1.isValid&&!$p1.$23_1&&this.$5F_1()},$5F_1:function(){this.$0_1.set_businessRuleName(isNullOrEmptyString(this.$0_1.get_businessRuleName())?window.LOCID_BUSINESSRULE_NAMEWATERMRK:this.$0_1.get_businessRuleName());var $$t_0=this;window.setTimeout(function(){$$t_0.$24_1.setFocus()},0)},$6E_1:function(){var $v_0=this.$6W_1(),$v_1=this.$5d_1($v_0),$$t_2=this.$0_1,$$t_3=this.$0_1;this.get_bindingsMediator().addTextInputToStringValueBinding(new Mscrm.BusinessRules.Proxies.JQueryObjectProxy($v_1.get_editView().get_editElement()),this.$0_1,"TriggerFormId",$$t_2.$$d_getFormIdIndexDelegate||($$t_2.$$d_getFormIdIndexDelegate=Function.createDelegate($$t_2,$$t_2.getFormIdIndexDelegate)),$$t_3.$$d_setFormIdIndexDelegate||($$t_3.$$d_setFormIdIndexDelegate=Function.createDelegate($$t_3,$$t_3.setFormIdIndexDelegate)))},$6W_1:function(){var $v_0=this.get_jQueryProxy().selectElement("#scopecontainer"),$v_1=$v_0.getAttribute("data-scopevalue"),$v_2=null,$v_3=0;if(!isNullOrEmptyString($v_1)){$v_2=$v_1.substring(1,$v_1.length-1);$v_3=Array.indexOf(Mscrm.BusinessRules.Views.ViewHelper.get_$K().ScopeSelectorData.FormIds,$v_2.toUpperCase())}return $v_3},$5d_1:function($p0){var $v_0=this.get_jQueryProxy().selectElement("#ScopeSelector"),$v_1=this.$0_1.get_readOnly()?Mscrm.InlineEditControlMode.deactivated:Mscrm.InlineEditControlMode.normal,$v_2=Mscrm.InlineControlFactory.createInlinePicklistControlForDomByControlMode($v_0.get_jQueryObject(),"ScopeSelector",Mscrm.BusinessRules.Views.ViewHelper.get_$K().ScopeSelectorData.Options,"ScopeSelector",$v_1,$p0.toString()),$v_3=Mscrm.BusinessRules.Views.ViewHelper.get_$K().ScopeSelectorData.Options[$p0].Label;$v_2.tryUpdateValueElementText($v_3);$v_2.get_chromeElement().addClass("scopeselectorelement");$v_2.get_chromeElement().attr("title",$v_3);$v_2.get_chromeElement().attr("aria-describedby","scopeLabel");$v_2.get_editView().get_editElement().attr("tabindex","-1");return $v_2},$0_1:null,$24_1:null,$2c_1:null,$2a_1:null,$2b_1:null,$2D_1:null,$2N_1:null};Mscrm.BusinessRules.Views.ManageBusinessRuleView=function(){this.$$d_$6N_1=Function.createDelegate(this,this.$6N_1);Mscrm.BusinessRules.Views.ManageBusinessRuleView.initializeBase(this)};Mscrm.BusinessRules.Views.ManageBusinessRuleView.prototype={$0_1:null,$3K_1:null,$1e_1:null,$2L_1:null,get_dataContext:function(){return this.$0_1},set_dataContext:function(value){if(IsNull(this.$0_1)&&!IsNull(value))this.$0_1=value;return value},initialize:function(){this.$0_1.set_entityTypeCode(Mscrm.BusinessRules.Views.ViewHelper.get_$K().EntityMetadata.EntityTypeCode);this.$1e_1=this.get_viewFactory().createHeaderView(this.get_dataContext());this.$1e_1.initialize();this.$2L_1=this.get_viewFactory().$5a_0(this.$0_1.get_$4z_1(),this.get_jQueryProxy());this.$2L_1.initialize();this.$0_1.saveSnapshot();attachWindowOnBeforeUnload(this.$$d_$6N_1,null)},dispose:function(){if(this.$8_0)return;!IsNull(this.$1e_1)&&this.$1e_1.dispose();this.$1e_1=null;!IsNull(this.$2L_1)&&this.$2L_1.dispose();this.$2L_1=null;!IsNull(this.$0_1)&&this.$0_1.dispose();this.$0_1=null},$6N_1:function($p0){if(!this.$0_1.get_readOnly()&&this.$0_1.get_isDirty()){$p0.rawEvent.returnValue=window.LOCID_FORMS_SAVE_CONFIRM_TITLE;return window.LOCID_FORMS_SAVE_CONFIRM_TITLE}},get_viewFactory:function(){if(IsNull(this.$3K_1))this.$3K_1=new Mscrm.BusinessRules.Factories.ViewFactory;return this.$3K_1},set_viewFactory:function(value){this.$3K_1=value;return value},get_headerView:function(){return this.$1e_1},set_headerView:function(value){this.$1e_1=value;return value}};Mscrm.BusinessRules.Views.View=function(){this.$$d_$6P_0=Function.createDelegate(this,this.$6P_0)};Mscrm.BusinessRules.Views.View.prototype={$S_0:null,initialize:function(){!IsNull(this.get_dataContext())&&this.get_dataContext().add_propertyChanged(this.$$d_$6P_0)},get_jQueryProxy:function(){if(IsNull(this.$S_0))this.$S_0=new Mscrm.BusinessRules.Proxies.JQueryProxy;return this.$S_0},set_jQueryProxy:function(value){this.$S_0=value;return value},get_parent:function(){return this.$P_0},set_parent:function(value){this.$P_0=value;return value},get_inlineEditControlMediator:function(){if(IsNull(this.$1g_0))this.$1g_0=new Mscrm.BusinessRules.Mediators.InlineEditControlMediator;return this.$1g_0},set_inlineEditControlMediator:function(value){this.$1g_0=value;return value},$6P_0:function($p0,$p1){this.handleModelToViewBinding($p1.get_propertyName())},handleModelToViewBinding:function(propertyName){},get_bindingsMediator:function(){if(IsNull(this.$12_0))this.$12_0=new Mscrm.BusinessRules.Mediators.BindingsMediator;return this.$12_0},set_bindingsMediator:function(value){this.$12_0=value;return value},dispose:function(){if(this.$8_0)return;!IsNull(this.$12_0)&&this.$12_0.dispose();this.$12_0=null;this.$8_0=true},get_isDisposed:function(){return this.$8_0},$1g_0:null,$12_0:null,$8_0:false,$P_0:null};Mscrm.BusinessRules.Views.FieldControlView=function(element){Mscrm.BusinessRules.Views.FieldControlView.initializeBase(this);this.$1_1=element};Mscrm.BusinessRules.Views.FieldControlView.prototype={$0_1:null,$1_1:null,$s_1:null,get_element:function(){return this.$1_1},get_dataContext:function(){return this.$0_1},set_dataContext:function(value){if(IsNull(this.$0_1)&&!IsNull(value))this.$0_1=value;return value},get_viewModel:function(){return this.$0_1},initialize:function(){this.$6C_1();this.$3M_1()},get_isValid:function(){return this.$s_1.get_isValid()},resetFocus:function(){!IsNull(this.$s_1)&&this.$s_1.blur()},dispose:function(){if(this.$8_0)return;this.get_bindingsMediator().disposeValueBinding(this.$28_1);this.get_bindingsMediator().disposeValueBinding(this.$4W_1);if(!IsNull(this.$s_1)){this.$s_1.dispose();this.$s_1=null}Mscrm.BusinessRules.Views.View.prototype.dispose.call(this)},$6C_1:function(){var $v_0=null;if(!IsNull(this.$0_1)&&this.$0_1.get_selectedFieldIndex()!=="-1")$v_0=this.$0_1.get_selectedFieldIndex();this.$s_1=this.get_inlineEditControlMediator().createAutoCompleteControl(this.$1_1,this.$1_1.get_jQueryObject()[0].id,this.$0_1.get_attributes(),$v_0,"BodyViewContainer",Mscrm.AttributeRequiredLevel.systemRequired,Mscrm.InlineEditControlMode.alwaysEdit,window.LOCID_BUSINESSRULE_SHOWFIELDS,window.LOCID_BUSINESSRULE_FIELDLABEL);this.$s_1.get_dataContext().set_useOptionFiltering(this.$0_1.$3I_1)},$3M_1:function(){var $$t_0=this.$s_1.get_dataContext();this.$4W_1=this.get_bindingsMediator().createIntegerArrayOneWayValueBinding(this.$0_1,"FilteredAttributeListProperty",this.$0_1.$$d_getFilteredAttributesDelegate,$$t_0.$$d_setFilteredOptionsDelegate||($$t_0.$$d_setFilteredOptionsDelegate=Function.createDelegate($$t_0,$$t_0.setFilteredOptionsDelegate)));this.$28_1=this.get_bindingsMediator().addInlineFieldToStringValueBinding(this.$s_1,this.$0_1,"FieldChangedProperty",this.$0_1.$$d_getSelectedFieldIndexDelegate,this.$0_1.$$d_setSelectedFieldIndexDelegate)},$28_1:null,$4W_1:null};Type.registerNamespace("Mscrm.BusinessRules.Mediators");Mscrm.BusinessRules.Mediators.IBindingsMediator=function(){};Mscrm.BusinessRules.Mediators.IBindingsMediator.registerInterface("Mscrm.BusinessRules.Mediators.IBindingsMediator");Mscrm.BusinessRules.Mediators.IInlineEditControlMediator=function(){};Mscrm.BusinessRules.Mediators.IInlineEditControlMediator.registerInterface("Mscrm.BusinessRules.Mediators.IInlineEditControlMediator");Mscrm.BusinessRules.Mediators.BindingsMediator=function(){this.$a_0=new Array(0)};Mscrm.BusinessRules.Mediators.BindingsMediator.prototype={$a_0:null,$t_0:null,$3J_0:null,get_valueConvertersFactory:function(){if(IsNull(this.$3J_0))this.$3J_0=new Mscrm.BusinessRules.Factories.ValueConvertersFactory;return this.$3J_0},set_valueConvertersFactory:function(value){this.$3J_0=value;return value},get_bindingsFactory:function(){if(IsNull(this.$t_0)){this.$t_0=new Mscrm.BusinessRules.Factories.BindingsFactory;this.$t_0.set_commandsFactory(new Mscrm.BusinessRules.Factories.CommandsFactory)}return this.$t_0},set_bindingsFactory:function(value){this.$t_0=value;return value},getBindings:function(){return this.$a_0},addClickBinding:function(element,command){if(IsNull(element))throw Error.argumentNull("element");if(IsNull(command))throw Error.argumentNull("command");var $v_0=this.get_bindingsFactory().createClickBinding(element,command);$v_0.bind();Array.add(this.$a_0,$v_0)},addValueBinding:function(lhsValueChangeBinding,rhsValueChangeBinding,lhsValueConverter,rhsValueConverter){var $v_0=this.get_bindingsFactory().createValueBinding(lhsValueChangeBinding,rhsValueChangeBinding,lhsValueConverter,rhsValueConverter);$v_0.bind();$v_0.get_lhsValueChangeBinding().get_command().execute();Array.add(this.$a_0,$v_0)},addValueBindingWithoutInitialization:function(lhsValueChangeBinding,rhsValueChangeBinding,lhsValueConverter,rhsValueConverter){var $v_0=this.get_bindingsFactory().createValueBinding(lhsValueChangeBinding,rhsValueChangeBinding,lhsValueConverter,rhsValueConverter);$v_0.bind();Array.add(this.$a_0,$v_0);return $v_0},addTextInputToStringValueBinding:function(textInputElement,dataContext,dataContextPropertyName,getValueDelegate,setValueDelegate){if(IsNull(textInputElement))throw Error.argumentNull("textInputElement");if(IsNull(dataContext))throw Error.argumentNull("dataContext");if(_String.isNullOrWhiteSpace(dataContextPropertyName))throw Error.argumentNull("dataContextPropertyName");if(IsNull(getValueDelegate))throw Error.argumentNull("getValueDelegate");if(IsNull(setValueDelegate))throw Error.argumentNull("setValueDelegate");var $v_0=this.get_bindingsFactory().createTextInputValueChangeBinding(textInputElement),$$t_A=this,$$t_B=this,$v_1=this.get_bindingsFactory().createDataContextValueChangeBinding(dataContext,dataContextPropertyName,function(){return getValueDelegate()},function($p1_0){setValueDelegate($p1_0.toString())}),$v_2=this.get_valueConvertersFactory().createBaseValueConverter(),$v_3=this.get_valueConvertersFactory().createBaseValueConverter();this.addValueBinding($v_0,$v_1,$v_2,$v_3)},addTextInputToIntegerValueBinding:function(textInputElement,dataContext,dataContextPropertyName,getValueDelegate,setValueDelegate){if(IsNull(textInputElement))throw Error.argumentNull("textInputElement");if(IsNull(dataContext))throw Error.argumentNull("dataContext");if(_String.isNullOrWhiteSpace(dataContextPropertyName))throw Error.argumentNull("dataContextPropertyName");if(IsNull(getValueDelegate))throw Error.argumentNull("getValueDelegate");if(IsNull(setValueDelegate))throw Error.argumentNull("setValueDelegate");var $v_0=this.get_bindingsFactory().createTextInputValueChangeBinding(textInputElement),$$t_A=this,$$t_B=this,$v_1=this.get_bindingsFactory().createDataContextValueChangeBinding(dataContext,dataContextPropertyName,function(){return getValueDelegate()},function($p1_0){setValueDelegate($p1_0)}),$v_2=this.get_valueConvertersFactory().createBaseValueConverter(),$v_3=this.get_valueConvertersFactory().createBaseValueConverter();this.addValueBinding($v_0,$v_1,$v_2,$v_3)},addInlineFieldToStringValueBinding:function(inlineControlView,dataContext,dataContextPropertyName,getValueDelegate,setValueDelegate){if(IsNull(inlineControlView))throw Error.argumentNull("inlineView");if(IsNull(dataContext))throw Error.argumentNull("dataContext");if(_String.isNullOrWhiteSpace(dataContextPropertyName))throw Error.argumentNull("dataContextPropertyName");if(IsNull(getValueDelegate))throw Error.argumentNull("getValueDelegate");if(IsNull(setValueDelegate)){var $$t_B=this;setValueDelegate=function($p1_0){}}var $v_0=this.get_bindingsFactory().createInlineFieldControlValueChangeBinding(inlineControlView),$$t_C=this,$$t_D=this,$v_1=this.get_bindingsFactory().createDataContextValueChangeBinding(dataContext,dataContextPropertyName,function(){return getValueDelegate()},function($p1_0){setValueDelegate($p1_0.toString())}),$v_2=this.get_valueConvertersFactory().createBaseValueConverter(),$v_3=this.get_valueConvertersFactory().createBaseValueConverter();return this.addValueBindingWithoutInitialization($v_0,$v_1,$v_2,$v_3)},createIntegerArrayOneWayValueBinding:function(rhsDataContext,rhsDataContextPropertyName,rhsGetValueDelegate,lhsSetValueDelegate){var $v_0=this.get_bindingsFactory().createDataContextValueChangeBinding(rhsDataContext,rhsDataContextPropertyName,null,null),$v_1=new Mscrm.BusinessRules.Commands.ConvertValueCommand,$$t_7=this;$v_1.set_lhsGetValueDelegate(function(){return rhsGetValueDelegate()});var $$t_8=this;$v_1.set_rhsSetValueDelegate(function($p1_0){lhsSetValueDelegate($p1_0)});$v_1.set_valueConverter(this.get_valueConvertersFactory().createBaseValueConverter());$v_1.execute();$v_0.set_command($v_1);$v_0.bind();Array.add(this.$a_0,$v_0);return $v_0},createStringOneWayValueBinding:function(rhsDataContext,rhsDataContextPropertyName,rhsGetValueDelegate,lhsSetValueDelegate){var $v_0=this.get_bindingsFactory().createDataContextValueChangeBinding(rhsDataContext,rhsDataContextPropertyName,null,null),$v_1=new Mscrm.BusinessRules.Commands.ConvertValueCommand,$$t_7=this;$v_1.set_lhsGetValueDelegate(function(){return rhsGetValueDelegate()});var $$t_8=this;$v_1.set_rhsSetValueDelegate(function($p1_0){lhsSetValueDelegate($p1_0)});$v_1.set_valueConverter(this.get_valueConvertersFactory().createBaseValueConverter());$v_1.execute();$v_0.set_command($v_1);$v_0.bind();Array.add(this.$a_0,$v_0);return $v_0},dispose:function(){for(var $v_0=this.$a_0.length-1;$v_0>=0;$v_0--){this.$a_0[$v_0].dispose();this.$a_0[$v_0]=null;Array.removeAt(this.$a_0,$v_0)}},disposeValueBinding:function(binding){if(Array.contains(this.$a_0,binding)){Array.remove(this.$a_0,binding);binding.dispose();binding=null}},addKeyDownBinding:function(element,command){if(IsNull(element))throw Error.argumentNull("element");if(IsNull(command))throw Error.argumentNull("command");var $v_0=this.get_bindingsFactory().createKeyDownBinding(element,command);$v_0.bind();Array.add(this.$a_0,$v_0)}};Mscrm.BusinessRules.Mediators.InlineEditControlMediator=function(){};Mscrm.BusinessRules.Mediators.InlineEditControlMediator.prototype={createSingleLineTextControl:function($p0,$p1,$p2,$p3,$p4,$p5){var $v_0=Mscrm.InlineControlFactory.createInlineTextBoxControlForDom($p0.get_jQueryObject(),$p1,$p2,$p3,$p4,$p5);return $v_0},createMultilineTextControl:function($p0,$p1,$p2,$p3,$p4,$p5){var $v_0=Mscrm.InlineControlFactory.createInlineTextControlForDom($p0.get_jQueryObject(),$p1,$p2,"ntext",$p3,$p4,$p5);return $v_0},createAutoCompleteControl:function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8){var $v_0=Mscrm.InlineControlFactory.createInlineAutoCompletePicklistControlForDom($p0.get_jQueryObject(),$p1,$p2,$p3,$p4,$p5,$p6,$p7,$p8);return $v_0}};Type.registerNamespace("Mscrm.BusinessRules.Proxies");Mscrm.BusinessRules.Proxies.IBusinessRuleServiceProxy=function(){};Mscrm.BusinessRules.Proxies.IBusinessRuleServiceProxy.registerInterface("Mscrm.BusinessRules.Proxies.IBusinessRuleServiceProxy");Mscrm.BusinessRules.Proxies.IJavaScriptSerializerProxy=function(){};Mscrm.BusinessRules.Proxies.IJavaScriptSerializerProxy.registerInterface("Mscrm.BusinessRules.Proxies.IJavaScriptSerializerProxy");Mscrm.BusinessRules.Proxies.IJQueryObjectProxy=function(){};Mscrm.BusinessRules.Proxies.IJQueryObjectProxy.registerInterface("Mscrm.BusinessRules.Proxies.IJQueryObjectProxy");Mscrm.BusinessRules.Proxies.IJQueryProxy=function(){};Mscrm.BusinessRules.Proxies.IJQueryProxy.registerInterface("Mscrm.BusinessRules.Proxies.IJQueryProxy");Mscrm.BusinessRules.Proxies.BusinessRuleServiceProxy=function(){};Mscrm.BusinessRules.Proxies.BusinessRuleServiceProxy.prototype={createRule:function($p0,$p1,$p2){var $v_0=new RemoteCommand("BusinessRulesWebService","Create");$v_0.ErrorHandler=$p1;$v_0.SetParameter("ruleAsJson",$p0);return $v_0.Execute($p2)},updateRule:function($p0,$p1,$p2){var $v_0=new RemoteCommand("BusinessRulesWebService","Update");$v_0.ErrorHandler=$p1;$v_0.SetParameter("ruleAsJson",$p0);return $v_0.Execute($p2)},copyRule:function($p0,$p1,$p2){var $v_0=new RemoteCommand("BusinessRulesWebService","CopyRule");$v_0.ErrorHandler=$p1;$v_0.SetParameter("ruleAsJson",$p0);return $v_0.Execute($p2)}};Mscrm.BusinessRules.Proxies.JavaScriptSerializerProxy=function(){};Mscrm.BusinessRules.Proxies.JavaScriptSerializerProxy.prototype={serialize:function($p0){return Sys.Serialization.JavaScriptSerializer.serialize($p0)}};Mscrm.BusinessRules.Proxies.JQueryObjectProxy=function($p0){this.$1_0=$p0};Mscrm.BusinessRules.Proxies.JQueryObjectProxy.prototype={$1_0:null,keyDown:function($p0){this.$1_0.keydown($p0);return this},change:function($p0){this.$1_0.change($p0);return this},click:function($p0){this.$1_0.click($p0);return this},mouseEnter:function($p0){this.$1_0.mouseenter($p0);return this},mouseLeave:function($p0){this.$1_0.mouseleave($p0);return this},unbind:function($p0,$p1){if(IsNull($p1))this.$1_0.unbind($p0);else this.$1_0.unbind($p0,$p1);return this},bind:function($p0,$p1){this.$1_0.bind($p0,$p1);return this},get_text:function(){return this.$1_0.text()},set_text:function($p0){this.$1_0.text($p0);return $p0},get_value:function(){return this.$1_0.is(":checkbox")?this.$1_0.is(":checked")?"true":"false":this.$1_0.val()},set_value:function($p0){if(this.$1_0.is(":checkbox"))this.$1_0.val(this.$1_0.is(":checked")?"true":"false");else this.$1_0.val($p0);return $p0},children:function($p0){return new Mscrm.BusinessRules.Proxies.JQueryObjectProxy(this.$1_0.children($p0))},attribute:function($p0,$p1){this.$1_0.attr($p0,$p1);return this},removeAttribute:function($p0){this.$1_0.removeAttr($p0);return this},getAttribute:function($p0){return this.$1_0.attr($p0)},hasClass:function($p0){return this.$1_0.hasClass($p0)},hide:function(){this.$1_0.hide();return this},show:function(){this.$1_0.show();return this},addClass:function($p0){this.$1_0.addClass($p0);return this},removeClass:function($p0){this.$1_0.removeClass($p0);return this},get_length:function(){return this.$1_0.length},html:function($p0){this.$1_0.html($p0);return this},get_item:function($p0){return this.$1_0[$p0]},append:function($p0){this.$1_0.append($p0.get_jQueryObject());return this},get_jQueryObject:function(){return this.$1_0},setFocus:function(){this.$1_0.focus()}};Mscrm.BusinessRules.Proxies.JQueryProxy=function(){};Mscrm.BusinessRules.Proxies.JQueryProxy.parseJson=function($p0){return $P_CRM.parseJSON($p0)};Mscrm.BusinessRules.Proxies.JQueryProxy.prototype={selectElement:function($p0){return new Mscrm.BusinessRules.Proxies.JQueryObjectProxy($P_CRM($p0))},selectInElement:function($p0,$p1){return new Mscrm.BusinessRules.Proxies.JQueryObjectProxy($P_CRM($p0,$p1.get_jQueryObject()))},fromElement:function($p0){return new Mscrm.BusinessRules.Proxies.JQueryObjectProxy($P_CRM($p0))},fromObject:function($p0){return new Mscrm.BusinessRules.Proxies.JQueryObjectProxy($P_CRM($p0))},fromHtml:function($p0){return new Mscrm.BusinessRules.Proxies.JQueryObjectProxy($P_CRM($p0))}};Type.registerNamespace("Mscrm.BusinessRules.ViewModels");Mscrm.BusinessRules.ViewModels.IExpressionComponentStateManager=function(){};Mscrm.BusinessRules.ViewModels.IExpressionComponentStateManager.registerInterface("Mscrm.BusinessRules.ViewModels.IExpressionComponentStateManager");Mscrm.BusinessRules.ViewModels.IExpressionStateManager=function(){};Mscrm.BusinessRules.ViewModels.IExpressionStateManager.registerInterface("Mscrm.BusinessRules.ViewModels.IExpressionStateManager");Mscrm.BusinessRules.ViewModels.ILeftOperandStateManager=function(){};Mscrm.BusinessRules.ViewModels.ILeftOperandStateManager.registerInterface("Mscrm.BusinessRules.ViewModels.ILeftOperandStateManager");Mscrm.BusinessRules.ViewModels.IRightInnerOperandStateManager=function(){};Mscrm.BusinessRules.ViewModels.IRightInnerOperandStateManager.registerInterface("Mscrm.BusinessRules.ViewModels.IRightInnerOperandStateManager");Mscrm.BusinessRules.ViewModels.IRightOperandMetadataCalculator=function(){};Mscrm.BusinessRules.ViewModels.IRightOperandMetadataCalculator.registerInterface("Mscrm.BusinessRules.ViewModels.IRightOperandMetadataCalculator");Mscrm.BusinessRules.ViewModels.IExpressionTypeMapping=function(){};Mscrm.BusinessRules.ViewModels.IExpressionTypeMapping.registerInterface("Mscrm.BusinessRules.ViewModels.IExpressionTypeMapping");Mscrm.BusinessRules.ViewModels.IExpressionTypeMappingCache=function(){};Mscrm.BusinessRules.ViewModels.IExpressionTypeMappingCache.registerInterface("Mscrm.BusinessRules.ViewModels.IExpressionTypeMappingCache");Mscrm.BusinessRules.ViewModels.IValueOperandEditViewModel=function(){};Mscrm.BusinessRules.ViewModels.IValueOperandEditViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IValueOperandEditViewModel");Mscrm.BusinessRules.ViewModels.IAttributeOperandEditViewModel=function(){};Mscrm.BusinessRules.ViewModels.IAttributeOperandEditViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IAttributeOperandEditViewModel");Mscrm.BusinessRules.ViewModels.IAttributeOperandViewModel=function(){};Mscrm.BusinessRules.ViewModels.IAttributeOperandViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IAttributeOperandViewModel");Mscrm.BusinessRules.ViewModels.IExpressionViewModel=function(){};Mscrm.BusinessRules.ViewModels.IExpressionViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IExpressionViewModel");Mscrm.BusinessRules.ViewModels.IExpressionEditViewModel=function(){};Mscrm.BusinessRules.ViewModels.IExpressionEditViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IExpressionEditViewModel");Mscrm.BusinessRules.ViewModels.IOperandViewModel=function(){};Mscrm.BusinessRules.ViewModels.IOperandViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IOperandViewModel");Mscrm.BusinessRules.ViewModels.ILeftOperandViewModel=function(){};Mscrm.BusinessRules.ViewModels.ILeftOperandViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.ILeftOperandViewModel");Mscrm.BusinessRules.ViewModels.ILeftOperandEditViewModel=function(){};Mscrm.BusinessRules.ViewModels.ILeftOperandEditViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.ILeftOperandEditViewModel");Mscrm.BusinessRules.ViewModels.IOperandTypeViewModel=function(){};Mscrm.BusinessRules.ViewModels.IOperandTypeViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IOperandTypeViewModel");Mscrm.BusinessRules.ViewModels.IOperandTypeEditViewModel=function(){};Mscrm.BusinessRules.ViewModels.IOperandTypeEditViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IOperandTypeEditViewModel");Mscrm.BusinessRules.ViewModels.IOperandEditViewModel=function(){};Mscrm.BusinessRules.ViewModels.IOperandEditViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IOperandEditViewModel");Mscrm.BusinessRules.ViewModels.IOperatorEditViewModel=function(){};Mscrm.BusinessRules.ViewModels.IOperatorEditViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IOperatorEditViewModel");Mscrm.BusinessRules.ViewModels.IOperatorViewModel=function(){};Mscrm.BusinessRules.ViewModels.IOperatorViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IOperatorViewModel");Mscrm.BusinessRules.ViewModels.IRightOperandViewModel=function(){};Mscrm.BusinessRules.ViewModels.IRightOperandViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IRightOperandViewModel");Mscrm.BusinessRules.ViewModels.IRightOperandEditViewModel=function(){};Mscrm.BusinessRules.ViewModels.IRightOperandEditViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IRightOperandEditViewModel");Mscrm.BusinessRules.ViewModels.ISetAttributeValueStepSectionEditViewModel=function(){};Mscrm.BusinessRules.ViewModels.ISetAttributeValueStepSectionEditViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.ISetAttributeValueStepSectionEditViewModel");Mscrm.BusinessRules.ViewModels.ISetAttributeValueStepSectionViewModel=function(){};Mscrm.BusinessRules.ViewModels.ISetAttributeValueStepSectionViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.ISetAttributeValueStepSectionViewModel");Mscrm.BusinessRules.ViewModels.IDescriptionSectionViewModel=function(){};Mscrm.BusinessRules.ViewModels.IDescriptionSectionViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IDescriptionSectionViewModel");Mscrm.BusinessRules.ViewModels.IStepSectionViewModel=function(){};Mscrm.BusinessRules.ViewModels.IStepSectionViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IStepSectionViewModel");Mscrm.BusinessRules.ViewModels.IRootStepSectionViewModel=function(){};Mscrm.BusinessRules.ViewModels.IRootStepSectionViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IRootStepSectionViewModel");Mscrm.BusinessRules.ViewModels.IActionReadToolBarViewModel=function(){};Mscrm.BusinessRules.ViewModels.IActionReadToolBarViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IActionReadToolBarViewModel");Mscrm.BusinessRules.ViewModels.IConditionReadToolBarViewModel=function(){};Mscrm.BusinessRules.ViewModels.IConditionReadToolBarViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IConditionReadToolBarViewModel");Mscrm.BusinessRules.ViewModels.IReadToolBarButtonViewModel=function(){};Mscrm.BusinessRules.ViewModels.IReadToolBarButtonViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IReadToolBarButtonViewModel");Mscrm.BusinessRules.ViewModels.IReadToolBarViewModel=function(){};Mscrm.BusinessRules.ViewModels.IReadToolBarViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IReadToolBarViewModel");Mscrm.BusinessRules.ViewModels.IFormBodyViewModel=function(){};Mscrm.BusinessRules.ViewModels.IFormBodyViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IFormBodyViewModel");Mscrm.BusinessRules.ViewModels.IManageBusinessRuleViewModel=function(){};Mscrm.BusinessRules.ViewModels.IManageBusinessRuleViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IManageBusinessRuleViewModel");Mscrm.BusinessRules.ViewModels.IViewModel=function(){};Mscrm.BusinessRules.ViewModels.IViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.IViewModel");Mscrm.BusinessRules.ViewModels.IExpressionAdaptor=function(){};Mscrm.BusinessRules.ViewModels.IExpressionAdaptor.registerInterface("Mscrm.BusinessRules.ViewModels.IExpressionAdaptor");Mscrm.BusinessRules.ViewModels.ISectionViewModel=function(){};Mscrm.BusinessRules.ViewModels.ISectionViewModel.registerInterface("Mscrm.BusinessRules.ViewModels.ISectionViewModel");Mscrm.BusinessRules.ViewModels.ArithmeticLeftOperandStateManager=function($p0){Mscrm.BusinessRules.ViewModels.ArithmeticLeftOperandStateManager.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.ArithmeticLeftOperandStateManager.prototype={initialize:function(){this.$5x_2();Mscrm.BusinessRules.ViewModels.LeftOperandStateManager.prototype.initialize.call(this)},reinitialize:function(){this.$6X_2(this.$7_0.get_attributeType());var $v_0=this.$7_0.get_leftOperand().get_innerOperand(),$v_1=$v_0.get_filteredAttributes(),$v_2=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeIndex($v_0.get_selectedAttribute());!Array.contains($v_1,$v_2)&&$v_0.set_selectedAttribute(Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeByIndex($v_1[0]).LogicalName);Mscrm.BusinessRules.ViewModels.LeftOperandStateManager.prototype.reinitialize.call(this)},get_mappingCache:function(){if(IsNull(this.$1k_2))this.$1k_2=Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.get_instance();return this.$1k_2},$6X_2:function($p0){var $v_0=this.$7_0.get_leftOperand().get_innerOperand();if($p0===-1){$v_0.set_filteredAttributes(new Array(0));return}$v_0.set_filteredAttributes(this.get_mappingCache().getAttributesForAttributeType($p0))},$5x_2:function(){if(this.$1L_1===-1)return;var $v_0=this.get_mappingCache().getAttributesForAttributeType(this.$1L_1),$v_1=this.$7_0.get_leftOperand().get_innerOperand();$v_1.set_filteredAttributes($v_0);isNullOrEmptyString($v_1.get_selectedAttribute())&&$v_1.set_selectedAttribute(Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeByIndex($v_0[0]).LogicalName)},$1k_2:null};Mscrm.BusinessRules.ViewModels.ArithmeticOperandTypeStateManager=function(expressionViewModel){this.$4D_2=[0,1];this.$4J_2=[1];Mscrm.BusinessRules.ViewModels.ArithmeticOperandTypeStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.ArithmeticOperandTypeStateManager.prototype={populateOperandTypeOptions:function(){var $v_0=Number.parseInvariant(this.$7_0.get_expressionOperator().get_operation());if($v_0===-1){this.$7_0.get_operandType().set_filteredOperandTypes(new Array(0));return}var $v_1=this.$7_0.get_leftOperand().get_attributeType();switch($v_1){case 2:this.$7_0.get_operandType().set_filteredOperandTypes(this.$4J_2);break;default:this.$7_0.get_operandType().set_filteredOperandTypes(this.$4D_2);break}}};Mscrm.BusinessRules.ViewModels.ArithmeticOperatorStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.ArithmeticOperatorStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.ArithmeticOperatorStateManager.prototype={get_defaultOperator:function(){return 0},populateOperatorListBasedOnOperandType:function(){var $v_0=this.$7_0.get_leftOperand().get_attributeType();if($v_0===-1){this.$7_0.get_expressionOperator().set_filteredOperators(new Array(0));return}this.$7_0.get_expressionOperator().set_filteredOperators(this.get_mappingCache().getArithmeticOperatorForAttributeType($v_0))}};Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandStateManager.initializeBase(this,[expressionViewModel]);this.set_valueComponentStateManager(new Mscrm.BusinessRules.ViewModels.ArithmeticRightValueOperandStateManager(expressionViewModel));this.set_fieldComponentStateManager(new Mscrm.BusinessRules.ViewModels.ArithmeticRightFieldOperandStateManager(expressionViewModel));this.set_expressionComponentStateManager(new Mscrm.BusinessRules.ViewModels.RightSubexpressionOperandStateManager(expressionViewModel))};Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandStateManager.prototype={getRightValueOperandStateManager:function(viewModel){return new Mscrm.BusinessRules.ViewModels.ArithmeticRightValueOperandStateManager(viewModel)},getRightFieldOperandStateManager:function(viewModel){return new Mscrm.BusinessRules.ViewModels.ArithmeticRightFieldOperandStateManager(viewModel)}};Mscrm.BusinessRules.ViewModels.ArithmeticExpressionStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.ArithmeticExpressionStateManager.initializeBase(this,[expressionViewModel]);this.$l_0=new Mscrm.BusinessRules.ViewModels.ArithmeticLeftOperandStateManager(expressionViewModel);this.$m_0=new Mscrm.BusinessRules.ViewModels.ArithmeticOperatorStateManager(expressionViewModel);this.$e_0=new Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandStateManager(expressionViewModel);this.$r_0=new Mscrm.BusinessRules.ViewModels.ArithmeticOperandTypeStateManager(expressionViewModel)};Mscrm.BusinessRules.ViewModels.ArithmeticRightValueOperandStateManager=function($p0){Mscrm.BusinessRules.ViewModels.ArithmeticRightValueOperandStateManager.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.ArithmeticRightValueOperandStateManager.prototype={getValueOperandInlineControlMetadata:function(){var $v_0=Number.parseInvariant(this.$B_0.get_expressionOperator().get_operation()),$v_1=this.$B_0.get_leftOperand().get_innerOperand().get_selectedAttribute();return (new Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandMetadataCalculator($v_1,$v_0)).getRightOperandMetadata()},getValueExpressionBuilder:function($p0,$p1){var $v_0=this.$B_0.get_leftOperand().get_attributeType();switch($v_0){case 2:return new Mscrm.BusinessRules.TimeSpanExpressionAdapter;default:return Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager.prototype.getValueExpressionBuilder.call(this,$p0,$p1)}},get_label:function(){var $v_0=this.$B_0.get_leftOperand().get_attributeType();switch($v_0){case 2:return window.LOCID_PBLEXPRESSION_DAYSVALUE;default:return Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager.prototype.get_label.call(this)}}};Mscrm.BusinessRules.ViewModels.ArithmeticRightFieldOperandStateManager=function($p0){Mscrm.BusinessRules.ViewModels.ArithmeticRightFieldOperandStateManager.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.ArithmeticRightFieldOperandStateManager.prototype={getFieldOperandOptions:function(){return Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.get_instance().getAttributesForAttributeType(this.$B_0.get_leftOperand().get_attributeType())}};Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandMetadataCalculator=function(leftAttributeLogicalName,expressionOperator){Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandMetadataCalculator.initializeBase(this,[leftAttributeLogicalName,expressionOperator])};Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandMetadataCalculator.prototype={getRightOperandMetadata:function(){var $v_0=this.get_leftAttributeMetadata().AdditionalMetadata;switch(this.get_leftAttributeMetadata().Type){case 2:var $v_1={};$v_1.AttributeType="int";$v_1.CanCreate=true;$v_1.CanRead=true;$v_1.CanUpdate=true;$v_1.Format=Mscrm.AttributeFormat.none;$v_1.LogicalName=$v_0.LogicalName;$v_1.MaxValue=2147483647;$v_1.MinValue=0;$v_1.Precision=0;$v_1.RequiredLevel=Mscrm.AttributeRequiredLevel.none;return $v_1;default:return $v_0}}};Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager=function(expressionViewModel){this.$7_0=expressionViewModel;this.$2K_0=new Sys.EventHandlerList};Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager.prototype={add_stateChanged:function(value){this.$2K_0.addHandler("StateChanged",value)},remove_stateChanged:function(value){this.$2K_0.removeHandler("StateChanged",value)},raiseStateChangedEvent:function(){var $v_0=this.$2K_0.getHandler("StateChanged");!IsNull($v_0)&&$v_0(this,null)},hide:function(){},dispose:function(){this.$2K_0=null},get_expressionViewModel:function(){return this.$7_0},$7_0:null,$2K_0:null};Mscrm.BusinessRules.ViewModels.LeftOperandStateManager=function($p0){this.$$d_$6J_1=Function.createDelegate(this,this.$6J_1);Mscrm.BusinessRules.ViewModels.LeftOperandStateManager.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.LeftOperandStateManager.prototype={get_initializingType:function(){return this.$1L_1},set_initializingType:function($p0){this.$1L_1=$p0;return $p0},initialize:function(){this.$7_0.get_leftOperand().add_propertyChanged(this.$$d_$6J_1)},reinitialize:function(){},dispose:function(){this.$7_0.get_leftOperand().remove_propertyChanged(this.$$d_$6J_1);Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager.prototype.dispose.call(this)},$6J_1:function($p0,$p1){if($p1.get_propertyName()!=="OperandChangedProperty")return;this.raiseStateChangedEvent()},$1L_1:0};Mscrm.BusinessRules.ViewModels.OperandTypeStateManager=function(expressionViewModel){this.$$d_$6U_1=Function.createDelegate(this,this.$6U_1);Mscrm.BusinessRules.ViewModels.OperandTypeStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.OperandTypeStateManager.prototype={initialize:function(){this.$5B_1();this.$7_0.get_operandType().add_propertyChanged(this.$$d_$6U_1)},reinitialize:function(){this.$5B_1()},$5B_1:function(){this.populateOperandTypeOptions();var $v_0=Number.parseInvariant(this.$7_0.get_operandType().get_operandType()),$v_1=this.$7_0.get_operandType().get_filteredOperandTypes();if(!Array.contains($v_1,$v_0)){var $v_2=$v_1.length>0?Array.contains($v_1,0)?0:1:Mscrm.BusinessRules.ViewModels.OperandType.none;this.$7_0.get_operandType().set_operandType($v_2.toString())}},get_typeMapping:function(){if(IsNull(this.$3H_1))this.$3H_1=Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.get_instance();return this.$3H_1},set_typeMapping:function(value){this.$3H_1=value;return value},dispose:function(){this.$7_0.get_expressionOperator().remove_propertyChanged(this.$$d_$6U_1);Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager.prototype.dispose.call(this)},$6U_1:function($p0,$p1){if($p1.get_propertyName()!=="OperandTypeValue")return;this.raiseStateChangedEvent()},$3H_1:null};Mscrm.BusinessRules.ViewModels.OperatorStateManager=function(expressionViewModel){this.$$d_$6V_1=Function.createDelegate(this,this.$6V_1);Mscrm.BusinessRules.ViewModels.OperatorStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.OperatorStateManager.prototype={initialize:function(){this.populateOperatorListBasedOnOperandType();this.$7_0.get_expressionOperator().add_propertyChanged(this.$$d_$6V_1)},reinitialize:function(){this.populateOperatorListBasedOnOperandType();var $v_0=Number.parseInvariant(this.$7_0.get_expressionOperator().get_operation()),$v_1=this.$7_0.get_expressionOperator().get_filteredOperators();$v_1.length>0&&!Array.contains($v_1,$v_0)&&this.$7_0.get_expressionOperator().set_operation(this.get_defaultOperator().toString())},get_mappingCache:function(){if(IsNull(this.$1k_1))this.$1k_1=Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.get_instance();return this.$1k_1},set_mappingCache:function(value){this.$1k_1=value;return value},dispose:function(){this.$7_0.get_expressionOperator().add_propertyChanged(this.$$d_$6V_1);Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager.prototype.dispose.call(this)},$6V_1:function($p0,$p1){if($p1.get_propertyName()!=="OperatorProperty")return;this.raiseStateChangedEvent()},$1k_1:null};Mscrm.BusinessRules.ViewModels.RightOperandStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.RightOperandStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.RightOperandStateManager.$5l=function($p0){var $v_0=$p0.get_leftOperand().get_attributeType(),$v_1=Number.parseInvariant($p0.get_expressionOperator().get_operation());if($v_0===-1||$v_1===-1)throw Error.create("Invalid LeftOperand and Operator Selected");return Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.get_instance().getRightOperandType($v_0,$v_1)};Mscrm.BusinessRules.ViewModels.RightOperandStateManager.prototype={initialize:function(){this.get_fieldComponentStateManager().initialize();this.get_valueComponentStateManager().initialize();this.get_expressionComponentStateManager().initialize()},reinitialize:function(){var $v_0=Number.parseInvariant(this.$7_0.get_operandType().get_operandType()),$v_1=this.$7_0.get_rightOperand().get_rightOperandType();this.$7_0.get_rightOperand().set_rightOperandType($v_0);if($v_0===Mscrm.BusinessRules.ViewModels.OperandType.none){this.$7_0.get_rightOperand().set_currentInnerOperand(null);return}this.$1d_1.reinitialize($v_1,$v_0);this.$1q_1.reinitialize($v_1,$v_0);this.$1b_1.reinitialize($v_1,$v_0)},hide:function(){Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager.prototype.hide.call(this);this.get_fieldComponentStateManager().hide();this.get_valueComponentStateManager().hide();this.get_expressionComponentStateManager().hide()},get_valueComponentStateManager:function(){if(IsNull(this.$1q_1))this.$1q_1=this.getRightValueOperandStateManager(this.$7_0);return this.$1q_1},set_valueComponentStateManager:function(value){this.$1q_1=value;return value},get_fieldComponentStateManager:function(){if(IsNull(this.$1d_1))this.$1d_1=this.getRightFieldOperandStateManager(this.$7_0);return this.$1d_1},set_fieldComponentStateManager:function(value){this.$1d_1=value;return value},get_expressionComponentStateManager:function(){if(IsNull(this.$1b_1))this.$1b_1=new Mscrm.BusinessRules.ViewModels.RightSubexpressionOperandStateManager(this.$7_0);return this.$1b_1},set_expressionComponentStateManager:function(value){this.$1b_1=value;return value},dispose:function(){!IsNull(this.$1d_1)&&this.$1d_1.dispose();!IsNull(this.$1q_1)&&this.$1q_1.dispose();!IsNull(this.$1b_1)&&this.$1b_1.dispose();Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager.prototype.dispose.call(this)},$1q_1:null,$1d_1:null,$1b_1:null};Mscrm.BusinessRules.ViewModels.ExpressionStateManagerBase=function(expressionViewModel){this.$$d_operandTypeStateChanged=Function.createDelegate(this,this.operandTypeStateChanged);this.$$d_conditionOperatorStateChanged=Function.createDelegate(this,this.conditionOperatorStateChanged);this.$$d_leftOperandStateChanged=Function.createDelegate(this,this.leftOperandStateChanged);this.$1L_0=-1;this.$7_0=expressionViewModel};Mscrm.BusinessRules.ViewModels.ExpressionStateManagerBase.prototype={get_initializingType:function(){return this.$1L_0},set_initializingType:function(value){this.$1L_0=value;return value},initialize:function(){this.$l_0.set_initializingType(this.$1L_0);this.$l_0.initialize();this.$l_0.add_stateChanged(this.$$d_leftOperandStateChanged);this.$m_0.initialize();this.$m_0.add_stateChanged(this.$$d_conditionOperatorStateChanged);this.$e_0.initialize();this.$r_0.initialize();this.$r_0.add_stateChanged(this.$$d_operandTypeStateChanged)},reinitialize:function(){this.$l_0.reinitialize();this.$m_0.reinitialize();this.$e_0.reinitialize()},hide:function(){this.$l_0.hide();this.$m_0.hide();this.$e_0.hide();this.$r_0.hide()},leftOperandStateChanged:function(sender,args){this.$m_0.reinitialize();this.$r_0.reinitialize();this.$e_0.reinitialize()},conditionOperatorStateChanged:function(sender,args){this.$r_0.reinitialize();this.$e_0.reinitialize()},operandTypeStateChanged:function(sender,args){this.$e_0.reinitialize()},get_leftOperandStateManager:function(){return this.$l_0},set_leftOperandStateManager:function(value){this.$l_0=value;return value},get_operatorStateManager:function(){return this.$m_0},set_operatorStateManager:function(value){this.$m_0=value;return value},get_rightOperandStateManager:function(){return this.$e_0},set_rightOperandStateManager:function(value){this.$e_0=value;return value},get_operandTypeStateManager:function(){return this.$r_0},set_operandTypeStateManager:function(value){this.$r_0=value;return value},dispose:function(){this.$l_0.remove_stateChanged(this.$$d_leftOperandStateChanged);this.$m_0.remove_stateChanged(this.$$d_conditionOperatorStateChanged);this.$e_0.remove_stateChanged(this.$$d_operandTypeStateChanged);this.$l_0.dispose();this.$m_0.dispose();this.$e_0.dispose();this.$r_0.dispose()},get_expressionViewModel:function(){return this.$7_0},$l_0:null,$m_0:null,$e_0:null,$r_0:null,$7_0:null};Mscrm.BusinessRules.ViewModels.RightInnerOperandStateManager=function(expressionViewModel){this.$B_0=expressionViewModel};Mscrm.BusinessRules.ViewModels.RightInnerOperandStateManager.prototype={hide:function(){},show:function(){},get_entityManager:function(){if(IsNull(this.$1G_0))this.$1G_0=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance();return this.$1G_0},set_entityManager:function(value){this.$1G_0=value;return value},get_entityMappingCache:function(){if(IsNull(this.$1H_0))this.$1H_0=Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.get_instance();return this.$1H_0},set_entityMappingCache:function(value){this.$1H_0=value;return value},get_expressionViewModel:function(){return this.$B_0},dispose:function(){},$B_0:null,$1G_0:null,$1H_0:null};Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager.prototype={initialize:function(){var $v_0=Number.parseInvariant(this.$B_0.get_operandType().get_operandType());if($v_0!==1)return;this.$Q_1=this.$B_0.get_rightOperand().get_currentInnerOperand();this.$Q_1.set_label(this.get_label());var $v_1=this.getValueOperandInlineControlMetadata(),$v_2=this.$B_0.get_leftOperand().get_innerOperand().get_attributeType();this.$Q_1.set_valueExpressionBuilder(this.getValueExpressionBuilder($v_1,$v_2));this.$Q_1.set_metadata($v_1);this.$Q_1.set_attributeType(this.getValueAttributeType($v_1,$v_2))},reinitialize:function(oldInnerOperandType,newInnerOperandType){if(newInnerOperandType!==1&&oldInnerOperandType!==1)return;var $v_0=this.$B_0.get_leftOperand().get_innerOperand().get_attributeType(),$v_1=this.getValueOperandInlineControlMetadata(),$v_2=this.getValueAttributeType($v_1,$v_0);if(oldInnerOperandType!==1&&newInnerOperandType===1){this.$Q_1=this.prepareInnerOperand($v_2,$v_1);this.$Q_1.set_label(this.get_label());this.$Q_1.set_valueExpressionBuilder(this.getValueExpressionBuilder($v_1,$v_0));this.$Q_1.set_metadata($v_1);this.$Q_1.set_attributeType($v_2);this.$B_0.get_rightOperand().set_rightOperandMetadata($v_1);this.$B_0.get_rightOperand().set_currentInnerOperand(this.$Q_1)}else if(oldInnerOperandType===1&&newInnerOperandType!==1)this.hide();else if(oldInnerOperandType===1&&newInnerOperandType===1){var $v_3=this.$Q_1.get_metadata();this.show();if($v_1.LogicalName!==$v_3.LogicalName||$v_1.AttributeType!==$v_3.AttributeType||$v_1.Format!==$v_3.Format){this.$Q_1=this.prepareInnerOperand($v_2,$v_1);this.$Q_1.set_label(this.get_label());this.$Q_1.set_valueExpressionBuilder(this.getValueExpressionBuilder($v_1,$v_0));this.$Q_1.set_metadata($v_1);this.$Q_1.set_attributeType($v_2);this.$B_0.get_rightOperand().set_rightOperandMetadata($v_1);this.$B_0.get_rightOperand().set_currentInnerOperand(this.$Q_1)}}},hide:function(){var $v_0=this.$B_0.get_rightOperand().getInnerOperandOfType(1);!IsNull($v_0)&&$v_0.hide()},show:function(){this.$Q_1.show()},prepareInnerOperand:function(newAttributeType,metadata){return this.$B_0.get_rightOperand().prepareInnerOperand(1,newAttributeType,metadata)},getValueExpressionBuilder:function(valueMetadata,leftOperandType){return Mscrm.BusinessRules.ValueExpressionAdapterFactory.getDefaultExpressionAdapterForType(this.getValueAttributeType(valueMetadata,leftOperandType),valueMetadata)},getValueAttributeType:function(valueMetadata,leftOperandType){switch(leftOperandType){case 10:case 12:case 13:case 6:case 8:case 1:case 11:if(valueMetadata.AttributeType==="nvarchar")return 14;break}return leftOperandType},get_label:function(){return window.LOCID_PBLEXPRESSION_VALUETYPE},$Q_1:null};Mscrm.BusinessRules.ViewModels.RightFieldOperandStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.RightFieldOperandStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.RightFieldOperandStateManager.prototype={initialize:function(){var $v_0=Number.parseInvariant(this.$B_0.get_operandType().get_operandType());if($v_0)return;this.$h_1=this.$B_0.get_rightOperand().get_currentInnerOperand();this.$h_1.set_filteredAttributes(this.getFieldOperandOptions());this.$h_1.set_useAttributeFiltering(true)},reinitialize:function(oldInnerOperandType,newInnerOperandType){if(newInnerOperandType&&oldInnerOperandType)return;if(oldInnerOperandType&&!newInnerOperandType){this.$h_1=this.$B_0.get_rightOperand().prepareInnerOperand(0,-1,null);var $v_0=this.getFieldOperandOptions();this.$h_1.set_filteredAttributes($v_0);$v_0.length>0&&this.$h_1.set_selectedAttribute(Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeByIndex($v_0[0]).LogicalName);this.$B_0.get_rightOperand().set_currentInnerOperand(this.$h_1)}else if(!oldInnerOperandType&&!newInnerOperandType){this.$h_1=this.$B_0.get_rightOperand().prepareInnerOperand(0,-1,null);var $v_1=this.getFieldOperandOptions();this.$h_1.set_filteredAttributes($v_1);var $v_2=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeIndex(this.$h_1.get_selectedAttribute());!Array.contains($v_1,$v_2)&&this.$h_1.set_selectedAttribute(Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeByIndex($v_1[0]).LogicalName);this.$B_0.get_rightOperand().set_currentInnerOperand(this.$h_1)}},$h_1:null};Mscrm.BusinessRules.ViewModels.RightSubexpressionOperandStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.RightSubexpressionOperandStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.RightSubexpressionOperandStateManager.prototype={initialize:function(){var $v_0=Number.parseInvariant(this.$B_0.get_operandType().get_operandType());if($v_0!==2)return;var $v_1=this.$B_0.get_leftOperand().get_attributeType();this.$18_1=this.$B_0.get_rightOperand().get_currentInnerOperand();this.$1c_1=this.$18_1.get_stateManager();this.$1c_1.set_initializingType($v_1);this.$1c_1.initialize()},reinitialize:function(oldInnerOperandType,newInnerOperandType){if(newInnerOperandType!==2&&oldInnerOperandType!==2)return;var $v_0=this.$B_0.get_leftOperand().get_attributeType();this.$18_1=this.$B_0.get_rightOperand().prepareInnerOperand(2,$v_0,null);this.$1c_1=this.$18_1.get_stateManager();var $v_1=this.$18_1.get_leftOperand().get_attributeType();if(oldInnerOperandType!==2&&newInnerOperandType===2){this.$18_1.set_attributeType($v_0);this.$1c_1.reinitialize();this.$B_0.get_rightOperand().set_currentInnerOperand(this.$18_1)}else if(oldInnerOperandType===2&&newInnerOperandType!==2)this.$1c_1.hide();else if(oldInnerOperandType===2&&newInnerOperandType===2)if($v_0!==$v_1){this.$18_1.set_attributeType($v_0);this.$1c_1.reinitialize();this.$B_0.get_rightOperand().set_currentInnerOperand(this.$18_1)}},$18_1:null,$1c_1:null};Mscrm.BusinessRules.ViewModels.RightOperandMetadataCalculator=function(leftAttributeLogicalName,expressionOperator){this.$3b_0=expressionOperator;this.$4e_0=leftAttributeLogicalName};Mscrm.BusinessRules.ViewModels.RightOperandMetadataCalculator.prototype={getRightOperandMetadata:function(){var $v_0=this.get_leftAttributeMetadata().AdditionalMetadata;return this.get_entityMappingCache().getPrimitiveRightOperandMetadata(this.get_leftAttributeMetadata().Type,$v_0,this.$3b_0)},get_expressionOperator:function(){return this.$3b_0},get_leftAttributeMetadata:function(){return this.get_entityManager().getAttributeByName(this.$4e_0)},get_entityMappingCache:function(){if(IsNull(this.$1H_0))this.$1H_0=Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.get_instance();return this.$1H_0},set_entityMappingCache:function(value){this.$1H_0=value;return value},get_entityManager:function(){if(IsNull(this.$1G_0))this.$1G_0=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance();return this.$1G_0},set_entityManager:function(value){this.$1G_0=value;return value},$4e_0:null,$3b_0:0,$1G_0:null,$1H_0:null};Mscrm.BusinessRules.ViewModels.ConditionLeftOperandStateManager=function($p0){Mscrm.BusinessRules.ViewModels.ConditionLeftOperandStateManager.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.ConditionOperandTypeStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.ConditionOperandTypeStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.ConditionOperandTypeStateManager.prototype={populateOperandTypeOptions:function(){var $v_0=Number.parseInvariant(this.$7_0.get_expressionOperator().get_operation());if($v_0===-1){this.$7_0.get_operandType().set_filteredOperandTypes(new Array(0));return}var $v_1=$v_0;switch($v_1){case 0:case 1:this.$7_0.get_operandType().set_filteredOperandTypes(new Array(0));break;default:var $v_2=this.$7_0.get_leftOperand().get_attributeType(),$v_3=this.get_typeMapping().getOperandTypeForAttributeType($v_2);this.$7_0.get_operandType().set_filteredOperandTypes($v_3);break}}};Mscrm.BusinessRules.ViewModels.ConditionOperatorStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.ConditionOperatorStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.ConditionOperatorStateManager.prototype={get_defaultOperator:function(){return 6},populateOperatorListBasedOnOperandType:function(){var $v_0=this.$7_0.get_leftOperand().get_attributeType();if($v_0===-1){this.$7_0.get_expressionOperator().set_filteredOperators(new Array(0));return}this.$7_0.get_expressionOperator().set_filteredOperators(this.get_mappingCache().getConditionOperatorForAttributeType($v_0))}};Mscrm.BusinessRules.ViewModels.ConditionRightOperandStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.ConditionRightOperandStateManager.initializeBase(this,[expressionViewModel]);this.set_valueComponentStateManager(new Mscrm.BusinessRules.ViewModels.ConditionRightValueOperandStateManager(expressionViewModel));this.set_fieldComponentStateManager(new Mscrm.BusinessRules.ViewModels.ConditionRightFieldOperandStateManager(expressionViewModel))};Mscrm.BusinessRules.ViewModels.ConditionRightOperandStateManager.prototype={getRightValueOperandStateManager:function(viewModel){return new Mscrm.BusinessRules.ViewModels.ConditionRightValueOperandStateManager(viewModel)},getRightFieldOperandStateManager:function(viewModel){return new Mscrm.BusinessRules.ViewModels.ConditionRightFieldOperandStateManager(viewModel)}};Mscrm.BusinessRules.ViewModels.ConditionExpressionStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.ConditionExpressionStateManager.initializeBase(this,[expressionViewModel]);this.$l_0=new Mscrm.BusinessRules.ViewModels.ConditionLeftOperandStateManager(expressionViewModel);this.$m_0=new Mscrm.BusinessRules.ViewModels.ConditionOperatorStateManager(expressionViewModel);this.$e_0=new Mscrm.BusinessRules.ViewModels.ConditionRightOperandStateManager(expressionViewModel);this.$r_0=new Mscrm.BusinessRules.ViewModels.ConditionOperandTypeStateManager(expressionViewModel)};Mscrm.BusinessRules.ViewModels.ConditionRightValueOperandStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.ConditionRightValueOperandStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.ConditionRightValueOperandStateManager.prototype={getValueOperandInlineControlMetadata:function(){var $v_0=Number.parseInvariant(this.$B_0.get_expressionOperator().get_operation()),$v_1=this.$B_0.get_leftOperand().get_innerOperand().get_selectedAttribute(),$v_2=new Mscrm.BusinessRules.ViewModels.RightOperandMetadataCalculator($v_1,$v_0);$v_2.set_entityManager(this.get_entityManager());$v_2.set_entityMappingCache(this.get_entityMappingCache());return $v_2.getRightOperandMetadata()}};Mscrm.BusinessRules.ViewModels.ConditionRightFieldOperandStateManager=function($p0){Mscrm.BusinessRules.ViewModels.ConditionRightFieldOperandStateManager.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.ConditionRightFieldOperandStateManager.prototype={getFieldOperandOptions:function(){var $v_0=Mscrm.BusinessRules.ViewModels.RightOperandStateManager.$5l(this.$B_0);return this.get_entityMappingCache().getAttributesForAttributeType($v_0)}};Mscrm.BusinessRules.ViewModels.SetAttributeValueExpressionStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.SetAttributeValueExpressionStateManager.initializeBase(this,[expressionViewModel]);this.$l_0=new Mscrm.BusinessRules.ViewModels.SetAttributeValueLeftOperandStateManager(expressionViewModel);this.$m_0=new Mscrm.BusinessRules.ViewModels.SetAttributeValueOperatorStateManager(expressionViewModel);this.$e_0=new Mscrm.BusinessRules.ViewModels.SetAttributeValueRightOperandStateManager(expressionViewModel);this.$r_0=new Mscrm.BusinessRules.ViewModels.SetAttributeValueOperandTypeStateManager(expressionViewModel)};Mscrm.BusinessRules.ViewModels.SetAttributeValueLeftOperandStateManager=function($p0){Mscrm.BusinessRules.ViewModels.SetAttributeValueLeftOperandStateManager.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.SetAttributeValueOperandTypeStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.SetAttributeValueOperandTypeStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.SetAttributeValueOperandTypeStateManager.prototype={populateOperandTypeOptions:function(){var $v_0=this.$7_0.get_leftOperand().get_attributeType(),$v_1=this.get_typeMapping().getOperandTypeForAttributeType($v_0);this.$7_0.get_operandType().set_filteredOperandTypes($v_1)}};Mscrm.BusinessRules.ViewModels.SetAttributeValueOperatorStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.SetAttributeValueOperatorStateManager.initializeBase(this,[expressionViewModel])};Mscrm.BusinessRules.ViewModels.SetAttributeValueOperatorStateManager.prototype={get_defaultOperator:function(){return -1},initialize:function(){},reinitialize:function(){},populateOperatorListBasedOnOperandType:function(){}};Mscrm.BusinessRules.ViewModels.SetAttributeValueRightFieldOperandStateManager=function($p0){Mscrm.BusinessRules.ViewModels.SetAttributeValueRightFieldOperandStateManager.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.SetAttributeValueRightFieldOperandStateManager.prototype={getFieldOperandOptions:function(){return this.get_entityMappingCache().getAttributesForAttributeType(this.$B_0.get_leftOperand().get_attributeType())}};Mscrm.BusinessRules.ViewModels.SetAttributeValueRightValueOperandStateManager=function($p0){Mscrm.BusinessRules.ViewModels.SetAttributeValueRightValueOperandStateManager.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.SetAttributeValueRightValueOperandStateManager.prototype={getValueOperandInlineControlMetadata:function(){var $v_0=this.get_entityManager().getAttributeByName(this.$B_0.get_leftOperand().get_innerOperand().get_selectedAttribute()).AdditionalMetadata,$v_1=Number.parseInvariant(this.$B_0.get_expressionOperator().get_operation());return this.get_entityMappingCache().getPrimitiveRightOperandMetadata(this.$B_0.get_leftOperand().get_innerOperand().get_attributeType(),$v_0,$v_1)},initialize:function(){var $v_0=Number.parseInvariant(this.$B_0.get_operandType().get_operandType());if($v_0!==1)return;var $v_1=this.$B_0.get_rightOperand().get_currentInnerOperand();$v_1.set_canHaveMultipleValues(false);Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager.prototype.initialize.call(this)},prepareInnerOperand:function($p0,$p1){var $v_0=Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager.prototype.prepareInnerOperand.call(this,$p0,$p1);$v_0.set_canHaveMultipleValues(false);return $v_0}};Mscrm.BusinessRules.ViewModels.SetAttributeValueRightOperandStateManager=function(expressionViewModel){Mscrm.BusinessRules.ViewModels.SetAttributeValueRightOperandStateManager.initializeBase(this,[expressionViewModel]);this.set_valueComponentStateManager(new Mscrm.BusinessRules.ViewModels.SetAttributeValueRightValueOperandStateManager(expressionViewModel));this.set_fieldComponentStateManager(new Mscrm.BusinessRules.ViewModels.SetAttributeValueRightFieldOperandStateManager(expressionViewModel));this.set_expressionComponentStateManager(new Mscrm.BusinessRules.ViewModels.RightSubexpressionOperandStateManager(expressionViewModel))};Mscrm.BusinessRules.ViewModels.SetAttributeValueRightOperandStateManager.prototype={getRightValueOperandStateManager:function(viewModel){return new Mscrm.BusinessRules.ViewModels.SetAttributeValueRightFieldOperandStateManager(viewModel)},getRightFieldOperandStateManager:function(viewModel){return new Mscrm.BusinessRules.ViewModels.ConditionRightFieldOperandStateManager(viewModel)}};Mscrm.BusinessRules.ViewModels.BooleanExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.BooleanExpressionMapping.initializeBase(this,[0]);this.$A_0.clear();this.$A_0.add(6);this.$A_0.add(7)};Mscrm.BusinessRules.ViewModels.BooleanExpressionMapping.prototype={get_getSimilarAttributeType:function(){return [0]}};Mscrm.BusinessRules.ViewModels.DateTimeExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.DateTimeExpressionMapping.initializeBase(this,[2]);this.$A_0.add(14);this.$A_0.add(15);this.$A_0.add(16);this.$A_0.add(17);this.$A_0.add(20);this.$A_0.add(21);this.$1P_0.add(2);this.$Z_0.add(0);this.$Z_0.add(1)};Mscrm.BusinessRules.ViewModels.DateTimeExpressionMapping.prototype={getRightOperandType:function($p0){switch($p0){case 14:case 15:case 16:case 17:case 20:case 21:return this.$1w_0}return Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping.prototype.getRightOperandType.call(this,$p0)},getRightOperandMetadata:function($p0,$p1){switch($p1){case 20:case 21:return this.$5k_1($p0);default:return Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping.prototype.getRightOperandMetadata.call(this,$p0,$p1)}},$5k_1:function($p0){var $v_0={};$v_0.AttributeType="date";$v_0.CanCreate=true;$v_0.CanRead=true;$v_0.CanUpdate=true;$v_0.Format=Mscrm.AttributeFormat.date;$v_0.LogicalName=$p0.LogicalName;$v_0.RequiredLevel=Mscrm.AttributeRequiredLevel.none;return $v_0},get_getSimilarAttributeType:function(){return [2]}};Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping=function($p0){this.$Z_0=Mscrm.BusinessRules.SharedMethods.getList(Number);this.$1w_0=$p0;this.$A_0=Mscrm.BusinessRules.SharedMethods.getList(Number);this.$A_0.add(0);this.$A_0.add(1);this.$A_0.add(6);this.$A_0.add(7);this.$1P_0=Mscrm.BusinessRules.SharedMethods.getList(Number);this.$1P_0.add(0);this.$1P_0.add(1)};Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping.prototype={getOperators:function(){return this.$A_0.toArray()},getArithmeticOperators:function(){if(!this.$Z_0.get_count())throw Error.create("Arithmetic operation not supported for this type");return this.$Z_0.toArray()},getOperandTypes:function(){return this.$1P_0.toArray()},getAttributes:function(){return this.get_attributesList().toArray()},getRightOperandType:function($p0){switch($p0){case 0:case 1:return -1;case 6:case 7:return this.$1w_0}return 14},getRightOperandMetadata:function($p0,$p1){switch($p1){case 0:case 1:return null;default:return $p0}},get_operatorList:function(){return this.$A_0},get_arithmeticOperatorList:function(){return this.$Z_0},get_operandTypeList:function(){return this.$1P_0},get_attributesList:function(){if(IsNull(this.$2m_0)){this.$2m_0=Mscrm.BusinessRules.SharedMethods.getList(Number);for(var $v_0=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().get_getAllAttributes(),$v_1=0;$v_1<$v_0.length;$v_1++)Array.contains(this.get_getSimilarAttributeType(),$v_0[$v_1].Type)&&this.$2m_0.add($v_1)}return this.$2m_0},get_expressionType:function(){return this.$1w_0},createTextMetadata:function($p0){var $v_0={};$v_0.AttributeType="nvarchar";$v_0.CanCreate=true;$v_0.CanRead=true;$v_0.CanUpdate=true;$v_0.Format=Mscrm.AttributeFormat.text;$v_0.LogicalName=$p0.LogicalName;$v_0.MaxLength=100;$v_0.RequiredLevel=Mscrm.AttributeRequiredLevel.none;return $v_0},$A_0:null,$1w_0:0,$1P_0:null,$2m_0:null};Mscrm.BusinessRules.ViewModels.TextExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.TextExpressionMapping.initializeBase(this,[14]);this.$A_0.add(8);this.$A_0.add(9);this.$A_0.add(10);this.$A_0.add(11);this.$A_0.add(12);this.$A_0.add(13)};Mscrm.BusinessRules.ViewModels.TextExpressionMapping.prototype={get_getSimilarAttributeType:function(){return [14]}};Mscrm.BusinessRules.ViewModels.OptionSetOperatorList=function($p0){Mscrm.BusinessRules.ViewModels.OptionSetOperatorList.initializeBase(this,[$p0]);this.$A_0.add(8);this.$A_0.add(9);this.$A_0.add(10);this.$A_0.add(11);this.$A_0.add(12);this.$A_0.add(13)};Mscrm.BusinessRules.ViewModels.OptionSetOperatorList.prototype={getRightOperandMetadata:function($p0,$p1){switch($p1){case 8:case 9:case 10:case 12:case 13:return this.createTextMetadata($p0);default:return Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping.prototype.getRightOperandMetadata.call(this,$p0,$p1)}}};Mscrm.BusinessRules.ViewModels.PicklistExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.PicklistExpressionMapping.initializeBase(this,[10])};Mscrm.BusinessRules.ViewModels.PicklistExpressionMapping.prototype={get_getSimilarAttributeType:function(){return [10]}};Mscrm.BusinessRules.ViewModels.StateExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.StateExpressionMapping.initializeBase(this,[12])};Mscrm.BusinessRules.ViewModels.StateExpressionMapping.prototype={get_getSimilarAttributeType:function(){return [12]}};Mscrm.BusinessRules.ViewModels.StatusExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.StatusExpressionMapping.initializeBase(this,[13])};Mscrm.BusinessRules.ViewModels.StatusExpressionMapping.prototype={get_getSimilarAttributeType:function(){return [13]}};Mscrm.BusinessRules.ViewModels.NumberExpressionMapping=function($p0){Mscrm.BusinessRules.ViewModels.NumberExpressionMapping.initializeBase(this,[$p0]);this.$A_0.add(14);this.$A_0.add(15);this.$A_0.add(16);this.$A_0.add(17);this.$1P_0.add(2);this.$Z_0.add(0);this.$Z_0.add(1);this.$Z_0.add(3);this.$Z_0.add(2)};Mscrm.BusinessRules.ViewModels.NumberExpressionMapping.prototype={getRightOperandType:function($p0){switch($p0){case 14:case 15:case 16:case 17:return this.$1w_0}return Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping.prototype.getRightOperandType.call(this,$p0)},get_getSimilarAttributeType:function(){return [3,5,4,7]}};Mscrm.BusinessRules.ViewModels.IntegerExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.IntegerExpressionMapping.initializeBase(this,[5])};Mscrm.BusinessRules.ViewModels.DecimalExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.DecimalExpressionMapping.initializeBase(this,[3])};Mscrm.BusinessRules.ViewModels.FloatExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.FloatExpressionMapping.initializeBase(this,[4])};Mscrm.BusinessRules.ViewModels.MoneyExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.MoneyExpressionMapping.initializeBase(this,[7]);this.$A_0.add(14);this.$A_0.add(15);this.$A_0.add(16);this.$A_0.add(17);this.$1P_0.add(2);this.$Z_0.add(0);this.$Z_0.add(1);this.$Z_0.add(3);this.$Z_0.add(2)};Mscrm.BusinessRules.ViewModels.MoneyExpressionMapping.prototype={getRightOperandType:function($p0){switch($p0){case 14:case 15:case 16:case 17:return this.$1w_0}return Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping.prototype.getRightOperandType.call(this,$p0)},get_getSimilarAttributeType:function(){return [3,5,4,7]}};Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache=function(){this.$I_0={};this.$I_0[(0).toString()]=new Mscrm.BusinessRules.ViewModels.BooleanExpressionMapping;this.$I_0[(14).toString()]=new Mscrm.BusinessRules.ViewModels.TextExpressionMapping;this.$I_0[(10).toString()]=new Mscrm.BusinessRules.ViewModels.PicklistExpressionMapping;this.$I_0[(12).toString()]=new Mscrm.BusinessRules.ViewModels.StateExpressionMapping;this.$I_0[(13).toString()]=new Mscrm.BusinessRules.ViewModels.StatusExpressionMapping;this.$I_0[(6).toString()]=new Mscrm.BusinessRules.ViewModels.LookupExpressionMapping;this.$I_0[(1).toString()]=new Mscrm.BusinessRules.ViewModels.CustomerExpressionMapping;this.$I_0[(11).toString()]=new Mscrm.BusinessRules.ViewModels.KeyExpressionMapping;this.$I_0[(8).toString()]=new Mscrm.BusinessRules.ViewModels.OwnerExpressionMapping;this.$I_0[(3).toString()]=new Mscrm.BusinessRules.ViewModels.DecimalExpressionMapping;this.$I_0[(4).toString()]=new Mscrm.BusinessRules.ViewModels.FloatExpressionMapping;this.$I_0[(5).toString()]=new Mscrm.BusinessRules.ViewModels.IntegerExpressionMapping;this.$I_0[(7).toString()]=new Mscrm.BusinessRules.ViewModels.MoneyExpressionMapping;this.$I_0[(2).toString()]=new Mscrm.BusinessRules.ViewModels.DateTimeExpressionMapping};Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.get_instance=function(){if(!Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.$U)Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.$U=new Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache;return Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.$U};Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.prototype={getConditionOperatorForAttributeType:function(type){var $v_0=this.$I_0[type.toString()];if(IsNull($v_0))throw Error.create("Unsupported type");return $v_0.getOperators()},getArithmeticOperatorForAttributeType:function(type){var $v_0=this.$I_0[type.toString()];if(IsNull($v_0))throw Error.create("Unsupported type");return $v_0.getArithmeticOperators()},getOperandTypeForAttributeType:function(type){var $v_0=this.$I_0[type.toString()];if(IsNull($v_0))throw Error.create("Unsupported type");return $v_0.getOperandTypes()},getRightOperandType:function(type,conditionOperator){var $v_0=this.$I_0[type.toString()];if(IsNull($v_0))throw Error.create("Unsupported type");return $v_0.getRightOperandType(conditionOperator)},getAttributesForAttributeType:function(type){var $v_0=this.$I_0[type.toString()];if(IsNull($v_0))throw Error.create("Unsupported type");if(type===5||type===4||type===3){var $v_1=new Array(0);$v_0=this.$I_0[(5).toString()];Array.addRange($v_1,[$v_0.getAttributes()]);$v_0=this.$I_0[(4).toString()];Array.addRange($v_1,[$v_0.getAttributes()]);$v_0=this.$I_0[(3).toString()];Array.addRange($v_1,[$v_0.getAttributes()])}return $v_0.getAttributes()},getPrimitiveRightOperandMetadata:function(type,leftMetadata,conditionOperator){var $v_0=this.$I_0[type.toString()];if(IsNull($v_0))throw Error.create("Unsupported type");return $v_0.getRightOperandMetadata(leftMetadata,conditionOperator)}};Mscrm.BusinessRules.ViewModels.LookupExpressionMappingBase=function($p0){Mscrm.BusinessRules.ViewModels.LookupExpressionMappingBase.initializeBase(this,[$p0]);this.$A_0.add(8);this.$A_0.add(9);this.$A_0.add(10);this.$A_0.add(11);this.$A_0.add(12);this.$A_0.add(13)};Mscrm.BusinessRules.ViewModels.LookupExpressionMappingBase.prototype={getRightOperandMetadata:function($p0,$p1){switch($p1){case 8:case 9:case 10:case 11:case 12:case 13:return this.createTextMetadata($p0);default:return Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping.prototype.getRightOperandMetadata.call(this,$p0,$p1)}},get_getSimilarAttributeType:function(){return [6,1,8]}};Mscrm.BusinessRules.ViewModels.LookupExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.LookupExpressionMapping.initializeBase(this,[6])};Mscrm.BusinessRules.ViewModels.CustomerExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.CustomerExpressionMapping.initializeBase(this,[1])};Mscrm.BusinessRules.ViewModels.OwnerExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.OwnerExpressionMapping.initializeBase(this,[8])};Mscrm.BusinessRules.ViewModels.KeyExpressionMapping=function(){Mscrm.BusinessRules.ViewModels.KeyExpressionMapping.initializeBase(this,[11])};Mscrm.BusinessRules.ViewModels.DefaultValueExpressionBuilder=function(){};Mscrm.BusinessRules.ViewModels.DefaultValueExpressionBuilder.getDefaultValueExpression=function($p0){switch($p0){case 6:case 1:case 8:return new Microsoft.Crm.Workflow.Expressions.LookupExpression(Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep(),null,$p0,null,null);default:return new Microsoft.Crm.Workflow.Expressions.PrimitiveExpression(Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep(),"",$p0)}};Mscrm.BusinessRules.ViewModels.ValueOperandEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.ValueOperandEditViewModel.initializeBase(this,[$p0]);this.$1U_2=$p0.get_attributeType();this.$g_2=$p0.get_values();this.$3S_2=true};Mscrm.BusinessRules.ViewModels.ValueOperandEditViewModel.prototype={get_metadata:function(){return this.$3m_2},set_metadata:function($p0){this.$3m_2=$p0;this.raisePropertyChanged("ValueMetadataChanged");return $p0},get_attributeType:function(){return this.$1U_2},set_attributeType:function($p0){this.$1U_2=$p0;return $p0},get_values:function(){return this.getValuesDelegate()},set_values:function($p0){this.setValuesDelegate($p0);return $p0},get_canHaveMultipleValues:function(){return this.$3S_2},set_canHaveMultipleValues:function($p0){this.$3S_2=$p0;return $p0},confirm:function(){this.$0_1.set_values(this.$g_2);this.$0_1.setAttributeType(Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeType(this.$3m_2.LogicalName));this.$0_1.set_valueExpressions(this.$5Y_2(this.$g_2))},$5Y_2:function($p0){for(var $v_0=new Array(0),$v_1=Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep(),$v_2=0;$v_2<$p0.length;$v_2++)Array.add($v_0,this.$3a_2.getExpression($v_1,$p0[$v_2]));return $v_0},discard:function(){this.set_values(this.$0_1.get_values());this.$1U_2=this.$0_1.get_attributeType()},hide:function(){this.raisePropertyChanged("HideControl")},show:function(){this.raisePropertyChanged("ShowControl")},getValuesDelegate:function(){return this.$g_2},setValuesDelegate:function($p0){this.$g_2=$p0;this.raisePropertyChanged("ValueChanged")},get_label:function(){return this.$20_2},set_label:function($p0){this.$20_2=$p0;return $p0},get_valueExpressionBuilder:function(){return this.$3a_2},set_valueExpressionBuilder:function($p0){this.$3a_2=$p0;return $p0},$3m_2:null,$1U_2:0,$g_2:null,$3S_2:false,$20_2:null,$3a_2:null};Mscrm.BusinessRules.ViewModels.ValueOperandViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.ValueOperandViewModel.initializeBase(this,[$p0,$p1]);this.$F_2=$p0};Mscrm.BusinessRules.ViewModels.ValueOperandViewModel.prototype={get_displayValue:function(){return String.format(this.$F_2.get_displayFormat(),this.$F_2.get_displayValue())},getEditViewModel:function(){if(IsNull(this.$3_2))this.$3_2=new Mscrm.BusinessRules.ViewModels.ValueOperandEditViewModel(this);return this.$3_2},get_attributeType:function(){return this.$F_2.get_type()},setAttributeType:function($p0){this.$F_2.set_type($p0)},get_values:function(){return this.$F_2.$g_1},set_values:function($p0){this.$F_2.$g_1=$p0;return $p0},get_valueExpressions:function(){return this.$F_2.$10_1},set_valueExpressions:function($p0){this.$F_2.$10_1=$p0;return $p0},dispose:function(){if(this.$8_0)return;!IsNull(this.$3_2)&&this.$3_2.dispose();Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},$F_2:null,$3_2:null};Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandViewModel=function($p0,$p1,$p2){Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandViewModel.initializeBase(this,[$p0,$p1,$p2]);this.$5w_2($p0)};Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandViewModel.prototype={$5w_2:function($p0){if(!$p0||!$p0.get_count()){this.$4_1=Mscrm.BusinessRules.ViewModels.OperandType.none;return}if(Microsoft.Crm.Workflow.Expressions.TimeSpanExpression.isInstanceOfType($p0.get_item(0))){this.$4_1=1;var $v_0=Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep();this.$N_1=new Mscrm.BusinessRules.ViewModels.ValueOperandViewModel(new Mscrm.BusinessRules.MultiValueExpression($p0,$v_0,this.$16_1),String.format("{0}_{1}",this.$D_1,"primitiveEx"))}},initializeAndGetEditViewModel:function(){return new Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandEditViewModel(this)}};Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandEditViewModel.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandEditViewModel.prototype={prepareValueInnerOperand:function($p0){switch($p0){case 2:var $v_0=new Microsoft.Crm.Workflow.CrmTimeSpan(0,0,0,0,0);return new Microsoft.Crm.Workflow.Expressions.TimeSpanExpression(Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep(),$v_0);default:return Mscrm.BusinessRules.ViewModels.RightOperandEditViewModel.prototype.prepareValueInnerOperand.call(this,$p0)}}};Mscrm.BusinessRules.ViewModels.AttributeOperandEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.AttributeOperandEditViewModel.initializeBase(this,[$p0]);this.$17_2=$p0.get_selectedAttribute();this.$H_2=$p0.get_attributeType()};Mscrm.BusinessRules.ViewModels.AttributeOperandEditViewModel.prototype={get_selectedAttribute:function(){return this.getSelectedAttributeDelegate()},set_selectedAttribute:function($p0){this.setSelectedAttributeDelegate($p0);return $p0},get_filteredAttributes:function(){return this.getFilteredAttributesDelegate()},set_filteredAttributes:function($p0){this.setFilteredAttributesDelegate($p0);return $p0},get_useAttributeFiltering:function(){return this.$4p_2},set_useAttributeFiltering:function($p0){this.$4p_2=$p0;return $p0},get_attributeType:function(){return this.$H_2},getSelectedAttributeDelegate:function(){return this.$17_2},setSelectedAttributeDelegate:function($p0){this.$17_2=$p0;this.$6v_2();this.raisePropertyChanged("AttributeSelectedValue")},getFilteredAttributesDelegate:function(){return this.$4U_2},setFilteredAttributesDelegate:function($p0){this.$4U_2=$p0;this.raisePropertyChanged("FilteredAttributesValue")},confirm:function(){Mscrm.BusinessRules.ViewModels.OperandEditViewModel.prototype.confirm.call(this);this.$0_1.set_selectedAttribute(this.$17_2)},discard:function(){Mscrm.BusinessRules.ViewModels.OperandEditViewModel.prototype.discard.call(this);this.set_selectedAttribute(this.$0_1.get_selectedAttribute())},$6v_2:function(){this.$H_2=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeType(this.$17_2)},$17_2:null,$H_2:0,$4U_2:null,$4p_2:false};Mscrm.BusinessRules.ViewModels.AttributeOperandViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.AttributeOperandViewModel.initializeBase(this,[$p0,$p1]);this.$17_2=$p0.get_attributeName();this.$H_2=$p0.get_type()};Mscrm.BusinessRules.ViewModels.AttributeOperandViewModel.prototype={get_selectedAttribute:function(){return this.$17_2},set_selectedAttribute:function($p0){this.$17_2=$p0;this.$H_2=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeType($p0);this.$F_1.set_attributeName($p0);this.$F_1.set_type(this.$H_2);return $p0},get_attributeType:function(){return this.$H_2},get_displayValue:function(){return Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeLocalizedName(this.$17_2)},getEditViewModel:function(){if(IsNull(this.$3_2))this.$3_2=new Mscrm.BusinessRules.ViewModels.AttributeOperandEditViewModel(this);return this.$3_2},dispose:function(){if(this.$8_0)return;!IsNull(this.$3_2)&&this.$3_2.dispose();Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},$17_2:null,$H_2:0,$3_2:null};Mscrm.BusinessRules.ViewModels.ConditionRightOperandViewModel=function($p0,$p1,$p2){Mscrm.BusinessRules.ViewModels.ConditionRightOperandViewModel.initializeBase(this,[$p0,$p1,$p2]);this.$62_2($p0)};Mscrm.BusinessRules.ViewModels.ConditionRightOperandViewModel.prototype={$62_2:function($p0){if(!$p0||!$p0.get_count()){this.$4_1=Mscrm.BusinessRules.ViewModels.OperandType.none;return}if(Microsoft.Crm.Workflow.Expressions.LookupExpression.isInstanceOfType($p0.get_item(0))){this.$4_1=1;var $v_0=Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep();this.$N_1=new Mscrm.BusinessRules.ViewModels.ValueOperandViewModel(new Mscrm.BusinessRules.MultiValueExpression($p0,$v_0,this.$16_1),String.format("{0}_{1}",this.$D_1,"primitiveEx"));return}if(Microsoft.Crm.Workflow.Expressions.MethodCallExpression.isInstanceOfType($p0.get_item(0))){this.$4_1=2;this.$N_1=new Mscrm.BusinessRules.ViewModels.ArithmeticExpressionViewModel(Mscrm.BusinessRules.ViewModels.ExpressionAdaptorFactory.$3O($p0.get_item(0)),String.format("{0}_{1}",this.$D_1,"subExpression"))}},initializeAndGetEditViewModel:function(){return new Mscrm.BusinessRules.ViewModels.ConditionRightOperandEditViewModel(this)}};Mscrm.BusinessRules.ViewModels.ConditionRightOperandEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.ConditionRightOperandEditViewModel.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.ExpressionEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.ExpressionEditViewModel.initializeBase(this);this.$0_1=$p0;this.$5_1=$p0.get_leftOperand().get_editViewModel();this.$C_1=$p0.get_expressionOperator().get_editViewModel();this.$6_1=$p0.get_rightOperand().get_editViewModel();this.$4_1=$p0.get_operandType().get_editViewModel();this.$H_1=$p0.get_attributeType()};Mscrm.BusinessRules.ViewModels.ExpressionEditViewModel.prototype={get_leftOperand:function(){return this.$5_1},set_leftOperand:function($p0){this.$5_1=$p0;return $p0},get_expressionOperator:function(){return this.$C_1},set_expressionOperator:function($p0){this.$C_1=$p0;return $p0},get_operandType:function(){return this.$4_1},set_operandType:function($p0){this.$4_1=$p0;return $p0},get_rightOperand:function(){return this.$6_1},set_rightOperand:function($p0){this.$6_1=$p0;return $p0},get_attributeType:function(){return this.$H_1},set_attributeType:function($p0){this.$H_1=$p0;return $p0},get_viewModel:function(){return this.$0_1},confirm:function(){this.$5_1.confirm();this.$C_1.confirm();this.$4_1.confirm();this.$6_1.confirm();this.$0_1.confirm()},discard:function(){this.$5_1.discard();this.$C_1.discard();this.$4_1.discard();this.$6_1.discard()},dispose:function(){if(this.$8_0)return;this.$f_1.dispose();Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},get_stateManager:function(){return this.$f_1},set_stateManager:function($p0){this.$f_1=$p0;return $p0},$5_1:null,$C_1:null,$4_1:null,$6_1:null,$f_1:null,$0_1:null,$H_1:0};Mscrm.BusinessRules.ViewModels.ConditionExpressionEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.ConditionExpressionEditViewModel.initializeBase(this,[$p0]);this.$f_1=new Mscrm.BusinessRules.ViewModels.ConditionExpressionStateManager(this);this.$f_1.initialize()};Mscrm.BusinessRules.ViewModels.ArithmeticExpressionEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.ArithmeticExpressionEditViewModel.initializeBase(this,[$p0]);this.$5_1.get_innerOperand().set_useAttributeFiltering(true);this.$f_1=new Mscrm.BusinessRules.ViewModels.ArithmeticExpressionStateManager(this);this.$f_1.initialize()};Mscrm.BusinessRules.ViewModels.ExpressionViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.ExpressionViewModel.initializeBase(this);this.$D_1=$p1;this.$F_1=$p0.get_expression()};Mscrm.BusinessRules.ViewModels.ExpressionViewModel.prototype={get_leftOperand:function(){return this.$5_1},set_leftOperand:function($p0){this.$5_1=$p0;return $p0},get_expressionOperator:function(){return this.$C_1},set_expressionOperator:function($p0){this.$C_1=$p0;return $p0},get_operandType:function(){return this.$4_1},set_operandType:function($p0){this.$4_1=$p0;return $p0},get_rightOperand:function(){return this.$6_1},set_rightOperand:function($p0){this.$6_1=$p0;return $p0},get_id:function(){return this.$D_1},get_expression:function(){return this.$F_1},set_expression:function($p0){this.$F_1=$p0;return $p0},get_displayValue:function(){return ""},get_attributeType:function(){return this.$H_1},set_attributeType:function($p0){this.$H_1=$p0;return $p0},get_editViewModel:function(){if(IsNull(this.$3_1))this.$3_1=this.initializeEditViewModel();return this.$3_1},confirm:function(){var $v_0=this.$5_1.get_expression(),$v_1=this.$6_1.get_expressions(),$v_2=parseInt(this.$C_1.get_operation());if(!IsNull(this.$6_1.get_expression())){this.$F_1=new Microsoft.Crm.Workflow.Expressions.BinaryExpression(this.$F_1.get_workflow(),$v_2,$v_0,$v_1);return}this.$F_1=new Microsoft.Crm.Workflow.Expressions.UnaryExpression(this.$F_1.get_workflow(),$v_2,$v_0)},dispose:function(){if(this.$8_0)return;!IsNull(this.$3_1)&&this.$3_1.dispose();this.$5_1.dispose();this.$C_1.dispose();this.$6_1.dispose();this.$4_1.dispose();Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},$5_1:null,$C_1:null,$6_1:null,$4_1:null,$D_1:null,$3_1:null,$F_1:null,$H_1:0};Mscrm.BusinessRules.ViewModels.ConditionExpressionViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.ConditionExpressionViewModel.initializeBase(this,[$p0,$p1]);this.$5_1=new Mscrm.BusinessRules.ViewModels.LeftOperandViewModel($p0.get_leftOperand(),this.$D_1+"_leftInner");this.$C_1=new Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel($p0.get_operator(),this.$D_1+"_operator");var $v_0=Number.parseInvariant(this.$C_1.get_operation()),$v_1=this.$5_1.get_innerOperand().get_selectedAttribute(),$v_2=(new Mscrm.BusinessRules.ViewModels.RightOperandMetadataCalculator($v_1,$v_0)).getRightOperandMetadata();this.$6_1=new Mscrm.BusinessRules.ViewModels.ConditionRightOperandViewModel($p0.get_rightOperands(),this.$D_1+"_rightInner",$v_2);this.$4_1=new Mscrm.BusinessRules.ViewModels.OperandTypeViewModel(this.$6_1.get_rightOperandType(),this.$D_1+"_operandType");this.$H_1=0};Mscrm.BusinessRules.ViewModels.ConditionExpressionViewModel.prototype={get_isFirstCondition:function(){return this.$1i_2},set_isFirstCondition:function($p0){this.$1i_2=$p0;return $p0},initializeEditViewModel:function(){return new Mscrm.BusinessRules.ViewModels.ConditionExpressionEditViewModel(this)},$1i_2:false};Mscrm.BusinessRules.ViewModels.ArithmeticExpressionViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.ArithmeticExpressionViewModel.initializeBase(this,[$p0,$p1]);this.$5_1=new Mscrm.BusinessRules.ViewModels.LeftOperandViewModel($p0.get_leftOperand(),this.$D_1+"_leftInner");this.$C_1=new Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel($p0.get_operator(),this.$D_1+"_operator");var $v_0=Number.parseInvariant(this.$C_1.get_operation()),$v_1=this.$5_1.get_innerOperand().get_selectedAttribute(),$v_2=(new Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandMetadataCalculator($v_1,$v_0)).getRightOperandMetadata();this.$6_1=new Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandViewModel($p0.get_rightOperands(),this.$D_1+"_rightInner",$v_2);this.$4_1=new Mscrm.BusinessRules.ViewModels.OperandTypeViewModel(this.$6_1.get_rightOperandType(),this.$D_1+"_operandType");this.$H_1=this.$F_1.get_type()};Mscrm.BusinessRules.ViewModels.ArithmeticExpressionViewModel.$53=function($p0,$p1,$p2,$p3){var $v_0=new Array(3);$v_0[0]=$p1;$v_0[1]=new Microsoft.Crm.Workflow.Expressions.MethodCallExpression($p0,0,[$p2]);$v_0[2]=new Microsoft.Crm.Workflow.Expressions.MethodCallExpression($p0,0,[$p3]);return new Microsoft.Crm.Workflow.Expressions.MethodCallExpression($p0,3,$v_0)};Mscrm.BusinessRules.ViewModels.ArithmeticExpressionViewModel.prototype={get_displayValue:function(){return String.format(window.LOCID_PBLEXPRESSION_ARITFORMAT,this.$5_1.get_displayValue(),this.$C_1.get_displayName(),this.$6_1.get_displayValue())},confirm:function(){var $v_0=this.$5_1.get_expression(),$v_1=this.$6_1.get_expressions()[0],$v_2=parseInt(this.$C_1.get_operation());this.$F_1=Mscrm.BusinessRules.ViewModels.ArithmeticExpressionViewModel.$53(Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep(),$v_2,$v_0,$v_1)},initializeEditViewModel:function(){return new Mscrm.BusinessRules.ViewModels.ArithmeticExpressionEditViewModel(this)}};Mscrm.BusinessRules.ViewModels.ExpressionConverter=function(){};Mscrm.BusinessRules.ViewModels.ExpressionConverter.prototype={convertToEditorExpressionFormat:function($p0){this.$1l_0=null;this.$W_0=Mscrm.BusinessRules.SharedMethods.getList(Microsoft.Crm.Workflow.Expressions.ExpressionBase);$p0.accept(this);return this.$W_0},visitBinaryExpression:function($p0){this.$1l_0=$p0;$p0.get_leftOperand().accept(this);$p0.get_rightOperands().get_count()>0&&$p0.get_rightOperands().get_item(0).accept(this)},visitUnaryExpression:function($p0){this.$1l_0=$p0;$p0.get_operand().accept(this)},visitEntityAttributeExpression:function($p0){!this.$W_0.contains(this.$1l_0)&&this.$W_0.add(this.$1l_0)},visitPrimitiveExpression:function($p0){!this.$W_0.contains(this.$1l_0)&&this.$W_0.add(this.$1l_0)},visitLookupExpression:function($p0){},visitTimeSpanExpression:function($p0){},visitMethodCallExpression:function($p0){},visitNullExpression:function($p0){},visitPropertySpecification:function($p0){},$1l_0:null,$W_0:null};Mscrm.BusinessRules.ViewModels.LeftOperandViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.LeftOperandViewModel.initializeBase(this);this.$E_1=Mscrm.BusinessRules.ViewModels.OperandViewModelFactory.$2g($p0,$p1)};Mscrm.BusinessRules.ViewModels.LeftOperandViewModel.prototype={get_id:function(){return this.$E_1.get_id()},get_innerOperand:function(){return this.$E_1},get_attributeType:function(){return !this.$E_1?-1:this.$E_1.get_attributeType()},get_expression:function(){return this.$E_1.get_expression()},get_displayValue:function(){return this.$E_1.get_displayValue()},get_editViewModel:function(){if(IsNull(this.$3_1))this.$3_1=new Mscrm.BusinessRules.ViewModels.LeftOperandEditViewModel(this);return this.$3_1},confirm:function(){this.$E_1.confirm()},dispose:function(){if(this.$8_0)return;!IsNull(this.$3_1)&&this.$3_1.dispose();this.$E_1.dispose();Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},$E_1:null,$3_1:null};Mscrm.BusinessRules.ViewModels.LeftOperandEditViewModel=function($p0){this.$$d_$6G_2=Function.createDelegate(this,this.$6G_2);Mscrm.BusinessRules.ViewModels.LeftOperandEditViewModel.initializeBase(this,[$p0]);this.$E_2=$p0.get_innerOperand().get_editViewModel();this.$E_2.add_propertyChanged(this.$$d_$6G_2)};Mscrm.BusinessRules.ViewModels.LeftOperandEditViewModel.prototype={get_innerOperand:function(){return this.$E_2},get_attributeType:function(){return !this.$E_2?-1:this.$E_2.get_attributeType()},confirm:function(){Mscrm.BusinessRules.ViewModels.OperandEditViewModel.prototype.confirm.call(this);!IsNull(this.$E_2)&&this.$E_2.confirm();this.$0_1.confirm()},discard:function(){Mscrm.BusinessRules.ViewModels.OperandEditViewModel.prototype.discard.call(this);!IsNull(this.$E_2)&&this.$E_2.discard()},dispose:function(){if(this.$8_0)return;this.$E_2.remove_propertyChanged(this.$$d_$6G_2);Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},$6G_2:function($p0,$p1){$p1.get_propertyName()==="AttributeSelectedValue"&&this.raisePropertyChanged("OperandChangedProperty")},$E_2:null};Mscrm.BusinessRules.ViewModels.NullOperatorOperatorViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.NullOperatorOperatorViewModel.initializeBase(this,[$p0,$p1])};Mscrm.BusinessRules.ViewModels.NullOperatorOperatorViewModel.prototype={get_displayName:function(){return ""},initializeEditViewModel:function(){return new Mscrm.BusinessRules.ViewModels.NullOperatorEditViewModel(this)}};Mscrm.BusinessRules.ViewModels.NullOperatorEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.NullOperatorEditViewModel.initializeBase(this,[$p0]);this.$2W_1=[]};Mscrm.BusinessRules.ViewModels.OperandType=function(){};Mscrm.BusinessRules.ViewModels.OperandTypeViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.OperandTypeViewModel.initializeBase(this);this.$D_1=$p1;this.$4_1=$p0};Mscrm.BusinessRules.ViewModels.OperandTypeViewModel.prototype={get_operandType:function(){return this.$4_1.toString()},set_operandType:function($p0){this.$4_1=Number.parseInvariant($p0);return $p0},get_id:function(){return this.$D_1},get_editViewModel:function(){if(IsNull(this.$3_1))this.$3_1=new Mscrm.BusinessRules.ViewModels.OperandTypeEditViewModel(this);return this.$3_1},dispose:function(){if(this.$8_0)return;!IsNull(this.$3_1)&&this.$3_1.dispose();Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},$4_1:0,$D_1:null,$3_1:null};Mscrm.BusinessRules.ViewModels.OperandTypeEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.OperandTypeEditViewModel.initializeBase(this);this.$0_1=$p0;this.$4_1=Number.parseInvariant($p0.get_operandType());this.$3n_1=Mscrm.BusinessRules.Views.ViewHelper.get_$K().OperandType};Mscrm.BusinessRules.ViewModels.OperandTypeEditViewModel.prototype={get_operandType:function(){return this.getOperandTypeDelegate()},set_operandType:function($p0){this.setOperandTypeDelegate($p0);return $p0},get_operandTypes:function(){return this.$3n_1},set_operandTypes:function($p0){this.$3n_1=$p0;return $p0},get_viewModel:function(){return this.$0_1},get_filteredOperandTypes:function(){return this.getFilteredOperandTypesDelegate()},set_filteredOperandTypes:function($p0){this.setFilteredOperandTypesDelegate($p0);return $p0},getOperandTypeDelegate:function(){return this.$4_1.toString()},setOperandTypeDelegate:function($p0){this.$4_1=Number.parseInvariant($p0);this.raisePropertyChanged("OperandTypeValue")},getFilteredOperandTypesDelegate:function(){return this.$4X_1},setFilteredOperandTypesDelegate:function($p0){this.$4X_1=$p0;this.raisePropertyChanged("FilteredOperandTypeList")},confirm:function(){this.$0_1.set_operandType(this.$4_1.toString())},discard:function(){this.set_operandType(this.$0_1.get_operandType())},$3n_1:null,$4X_1:null,$4_1:0,$0_1:null};Mscrm.BusinessRules.ViewModels.OperandEditViewModel=function(viewModel){Mscrm.BusinessRules.ViewModels.OperandEditViewModel.initializeBase(this);this.$0_1=viewModel;this.$1U_1=viewModel.get_attributeType()};Mscrm.BusinessRules.ViewModels.OperandEditViewModel.prototype={get_viewModel:function(){return this.$0_1},get_attributeType:function(){return this.$1U_1},set_attributeType:function(value){this.$1U_1=value;return value},confirm:function(){},discard:function(){},$0_1:null,$1U_1:0};Mscrm.BusinessRules.ViewModels.OperandViewModel=function(expression,id){Mscrm.BusinessRules.ViewModels.OperandViewModel.initializeBase(this);this.$F_1=expression;this.$D_1=id};Mscrm.BusinessRules.ViewModels.OperandViewModel.prototype={get_expression:function(){return this.$F_1},get_editViewModel:function(){if(IsNull(this.$3_1))this.$3_1=this.getEditViewModel();return this.$3_1},get_id:function(){return this.$D_1},confirm:function(){},$F_1:null,$3_1:null,$D_1:null};Mscrm.BusinessRules.ViewModels.OperandViewModelFactory=function(){};Mscrm.BusinessRules.ViewModels.OperandViewModelFactory.$2g=function($p0,$p1){if(Microsoft.Crm.Workflow.Expressions.EntityAttributeExpression.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.AttributeOperandViewModel($p0,$p1);if(Microsoft.Crm.Workflow.Expressions.PrimitiveExpression.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.ValueOperandViewModel($p0,$p1);throw Error.create("Unsupported Exception")};Mscrm.BusinessRules.ViewModels.OperatorEditViewModelBase=function($p0){Mscrm.BusinessRules.ViewModels.OperatorEditViewModelBase.initializeBase(this);this.$0_1=$p0;this.$1s_1=Number.parseInvariant($p0.get_operation())};Mscrm.BusinessRules.ViewModels.OperatorEditViewModelBase.prototype={get_operators:function(){return this.$2W_1},set_operators:function($p0){this.$2W_1=$p0;return $p0},get_filteredOperators:function(){return this.getFilteredOperatorsDelegate()},set_filteredOperators:function($p0){this.setFilteredOperatorsDelegate($p0);return $p0},get_operation:function(){return this.getOperationDelegate()},set_operation:function($p0){this.setOperationDelegate($p0);return $p0},get_viewModel:function(){return this.$0_1},set_viewModel:function($p0){this.$0_1=$p0;return $p0},confirm:function(){this.$0_1.set_operation(this.get_operation())},discard:function(){this.set_operation(this.$0_1.get_operation())},getOperationDelegate:function(){return this.$1s_1.toString()},setOperationDelegate:function($p0){this.$1s_1=Number.parseInvariant($p0);this.raisePropertyChanged("OperatorProperty")},getFilteredOperatorsDelegate:function(){return this.$4Z_1},setFilteredOperatorsDelegate:function($p0){this.$4Z_1=$p0;this.raisePropertyChanged("FilteredOperatorListProperty")},$1s_1:0,$2W_1:null,$4Z_1:null,$0_1:null};Mscrm.BusinessRules.ViewModels.ConditionOperatorEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.ConditionOperatorEditViewModel.initializeBase(this,[$p0]);this.$2W_1=Mscrm.BusinessRules.Views.ViewHelper.get_$K().ConditionOperators};Mscrm.BusinessRules.ViewModels.ArithmeticOperatorEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.ArithmeticOperatorEditViewModel.initializeBase(this,[$p0]);this.$2W_1=Mscrm.BusinessRules.Views.ViewHelper.get_$K().ArithmeticOperators};Mscrm.BusinessRules.ViewModels.OperatorViewModelBase=function($p0,$p1){Mscrm.BusinessRules.ViewModels.OperatorViewModelBase.initializeBase(this);this.$1s_1=$p0;this.$D_1=$p1};Mscrm.BusinessRules.ViewModels.OperatorViewModelBase.prototype={get_id:function(){return this.$D_1},get_operation:function(){return this.$1s_1.toString()},set_operation:function($p0){this.$1s_1=Number.parseInvariant($p0);return $p0},get_editViewModel:function(){if(IsNull(this.$3_1))this.$3_1=this.initializeEditViewModel();return this.$3_1},dispose:function(){if(this.$8_0)return;!IsNull(this.$3_1)&&this.$3_1.dispose();Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},$1s_1:0,$D_1:null,$3_1:null};Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel.initializeBase(this,[$p0,$p1])};Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel.get_$5A=function(){if(IsNull(Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel.$z)){Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel.$z={};for(var $$arr_0=Mscrm.BusinessRules.Views.ViewHelper.get_$K().ConditionOperators,$$len_1=$$arr_0.length,$$idx_2=0;$$idx_2<$$len_1;++$$idx_2){var $v_0=$$arr_0[$$idx_2];Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel.$z[$v_0.Value.toString()]=$v_0.Label}}return Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel.$z};Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel.prototype={get_displayName:function(){return Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel.get_$5A()[this.get_operation()].toLowerCase()},initializeEditViewModel:function(){return new Mscrm.BusinessRules.ViewModels.ConditionOperatorEditViewModel(this)}};Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel.initializeBase(this,[$p0,$p1])};Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel.get_$5A=function(){if(IsNull(Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel.$z)){Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel.$z={};for(var $$arr_0=Mscrm.BusinessRules.Views.ViewHelper.get_$K().ArithmeticOperators,$$len_1=$$arr_0.length,$$idx_2=0;$$idx_2<$$len_1;++$$idx_2){var $v_0=$$arr_0[$$idx_2];Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel.$z[$v_0.Value.toString()]=$v_0.Label}}return Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel.$z};Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel.prototype={get_displayName:function(){return Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel.get_$5A()[this.get_operation()].toLowerCase()},initializeEditViewModel:function(){return new Mscrm.BusinessRules.ViewModels.ArithmeticOperatorEditViewModel(this)}};Mscrm.BusinessRules.ViewModels.RightOperandViewModel=function($p0,$p1,$p2){Mscrm.BusinessRules.ViewModels.RightOperandViewModel.initializeBase(this);this.$D_1=$p1;this.$16_1=$p2;if(!IsNull($p0)){this.$W_1=new Array($p0.get_count());for(var $v_0=0;$v_0<$p0.get_count();$v_0++)Array.add(this.$W_1,$p0.get_item($v_0))}this.$6D_1($p0)};Mscrm.BusinessRules.ViewModels.RightOperandViewModel.prototype={get_innerOperand:function(){return this.$N_1},set_innerOperand:function($p0){this.$N_1=$p0;return $p0},get_attributeType:function(){return !this.$N_1?-1:this.$N_1.get_attributeType()},get_rightOperandType:function(){return this.$4_1},set_rightOperandType:function($p0){this.$4_1=$p0;return $p0},get_expression:function(){return !IsNull(this.$N_1)?this.$N_1.get_expression():null},get_displayValue:function(){return !IsNull(this.$N_1)?this.$N_1.get_displayValue():null},get_editViewModel:function(){if(IsNull(this.$3_1))this.$3_1=this.initializeAndGetEditViewModel();return this.$3_1},get_id:function(){return this.$D_1},get_expressions:function(){return this.$W_1},get_rightOperandMetadata:function(){return this.$16_1},set_rightOperandMetadata:function($p0){this.$16_1=$p0;return $p0},confirm:function(){if(IsNull(this.$N_1))this.$W_1=null;switch(this.$4_1){case 1:this.$W_1=this.$N_1.get_valueExpressions();break;default:this.$N_1.confirm();this.$W_1=[this.$N_1.get_expression()];break}},dispose:function(){if(this.$8_0)return;!IsNull(this.$3_1)&&this.$3_1.dispose();!IsNull(this.$N_1)&&this.$N_1.dispose();Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},$6D_1:function($p0){if(!$p0||!$p0.get_count()){this.$4_1=Mscrm.BusinessRules.ViewModels.OperandType.none;return}if(Microsoft.Crm.Workflow.Expressions.EntityAttributeExpression.isInstanceOfType($p0.get_item(0))){this.$4_1=0;this.$N_1=new Mscrm.BusinessRules.ViewModels.AttributeOperandViewModel($p0.get_item(0),String.format("{0}_{1}",this.$D_1,"attributeEx"));this.$N_1.get_editViewModel().set_useAttributeFiltering(true);return}if(Microsoft.Crm.Workflow.Expressions.PrimitiveExpression.isInstanceOfType($p0.get_item(0))){this.$4_1=1;var $v_0=Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep();this.$N_1=new Mscrm.BusinessRules.ViewModels.ValueOperandViewModel(new Mscrm.BusinessRules.MultiValueExpression($p0,$v_0,this.$16_1),String.format("{0}_{1}",this.$D_1,"primitiveEx"));return}},$N_1:null,$4_1:0,$D_1:null,$3_1:null,$W_1:null,$16_1:null};Mscrm.BusinessRules.ViewModels.RightOperandEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.RightOperandEditViewModel.initializeBase(this,[$p0]);this.$c_2=!IsNull($p0.get_innerOperand())?$p0.get_innerOperand().get_editViewModel():null;this.$1a_2=$p0.get_rightOperandType();this.$16_2=$p0.get_rightOperandMetadata();this.$1h_2={};this.$1h_2[this.$1a_2.toString()]=!IsNull(this.$c_2)?this.$c_2.get_viewModel():null};Mscrm.BusinessRules.ViewModels.RightOperandEditViewModel.prototype={get_currentInnerOperand:function(){return this.$c_2},set_currentInnerOperand:function($p0){this.$c_2=$p0;this.raisePropertyChanged("OperandChangedPropertyValue");return $p0},prepareInnerOperand:function($p0,$p1,$p2){var $v_0=this.$1h_2[$p0.toString()];if(IsNull($v_0)){var $v_1=Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep();switch($p0){case 1:var $v_2=new Microsoft.Crm.Workflow.Expressions.ExpressionCollection;$v_2.add(this.prepareValueInnerOperand($p1));var $v_3=Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep();$v_0=new Mscrm.BusinessRules.ViewModels.ValueOperandViewModel(new Mscrm.BusinessRules.MultiValueExpression($v_2,$v_3,$p2),String.format("{0}_{1}",this.$0_1.get_id(),"primitiveEx"));break;case 0:$v_1=Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep();var $v_4=new Microsoft.Crm.Workflow.Expressions.PrimaryEntity($v_1),$v_5=new Microsoft.Crm.Workflow.Expressions.EntityAttributeExpression($v_4,"");$v_0=new Mscrm.BusinessRules.ViewModels.AttributeOperandViewModel($v_5,String.format("{0}_{1}",this.$0_1.get_id(),"attributeEx"));$v_0.get_editViewModel().set_useAttributeFiltering(true);break;case 2:$v_1=Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep();$v_0=new Mscrm.BusinessRules.ViewModels.ArithmeticExpressionViewModel(Mscrm.BusinessRules.ViewModels.ExpressionAdaptorFactory.$3O(this.$5Z_2($v_1,$p1)),String.format("{0}_{1}",this.$0_1.get_id(),"subExpression"));break}this.$1h_2[$p0.toString()]=$v_0}return $v_0.get_editViewModel()},getInnerOperandOfType:function($p0){var $v_0=this.$1h_2[$p0.toString()];if(IsNull($v_0))return null;return $v_0.get_editViewModel()},prepareValueInnerOperand:function($p0){return Mscrm.BusinessRules.ViewModels.DefaultValueExpressionBuilder.getDefaultValueExpression($p0)},$5Z_2:function($p0,$p1){var $v_0=Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeByIndex(Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.get_instance().getAttributesForAttributeType($p1)[0]).LogicalName,$v_1=Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$2f($v_0,$p1),$v_2=Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$2f($v_0,$p1),$v_3=Mscrm.BusinessRules.ViewModels.ArithmeticExpressionViewModel.$53($p0,0,$v_1,$v_2);$v_3.set_type($p1);return $v_3},get_attributeType:function(){return !this.$c_2?-1:this.$c_2.get_attributeType()},get_rightOperandType:function(){return this.$1a_2},set_rightOperandType:function($p0){this.$1a_2=$p0;return $p0},get_rightOperandMetadata:function(){return this.$16_2},set_rightOperandMetadata:function($p0){this.$16_2=$p0;return $p0},confirm:function(){if(IsNull(this.$c_2)){this.$0_1.$N_1=null;return}this.$c_2.confirm();this.$0_1.$N_1=this.$c_2.get_viewModel();this.$0_1.$4_1=this.$1a_2;this.$0_1.confirm()},discard:function(){if(IsNull(this.$c_2))return;this.$c_2.discard();this.$1a_2=this.$0_1.$4_1;this.$1h_2[this.$1a_2.toString()]=this.$c_2.get_viewModel()},dispose:function(){if(this.$8_0)return;var $$dict_0=this.$1h_2;for(var $$key_1 in $$dict_0){var $v_0={key:$$key_1,value:$$dict_0[$$key_1]};$v_0.value.dispose()}Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},$c_2:null,$1h_2:null,$1a_2:0,$16_2:null};Mscrm.BusinessRules.ViewModels.SetValueRightOperandViewModel=function($p0,$p1,$p2){Mscrm.BusinessRules.ViewModels.SetValueRightOperandViewModel.initializeBase(this,[$p0,$p1,$p2])};Mscrm.BusinessRules.ViewModels.SetValueRightOperandViewModel.prototype={initializeAndGetEditViewModel:function(){return new Mscrm.BusinessRules.ViewModels.SetValueRightOperandEditViewModel(this)}};Mscrm.BusinessRules.ViewModels.SetValueRightOperandEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.SetValueRightOperandEditViewModel.initializeBase(this,[$p0])};Mscrm.BusinessRules.ViewModels.SetValueRightOperandEditViewModel.prototype={prepareValueInnerOperand:function($p0){switch($p0){case 0:case 10:case 13:case 12:return new Microsoft.Crm.Workflow.Expressions.PrimitiveExpression(Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep(),"0",$p0);default:return Mscrm.BusinessRules.ViewModels.RightOperandEditViewModel.prototype.prepareValueInnerOperand.call(this,$p0)}}};Mscrm.BusinessRules.ViewModels.ConditionsViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.ConditionsViewModel.initializeBase(this);var $v_0=(new Mscrm.BusinessRules.ViewModels.ExpressionConverter).convertToEditorExpressionFormat($p0);this.$1I_1=Mscrm.BusinessRules.SharedMethods.getList(Mscrm.BusinessRules.ViewModels.IExpressionViewModel);for(var $v_1=0;$v_1<$v_0.get_count();$v_1++){var $v_2=$v_0.get_item($v_1);if(!(Microsoft.Crm.Workflow.Expressions.BinaryExpression.isInstanceOfType($v_2)||Microsoft.Crm.Workflow.Expressions.UnaryExpression.isInstanceOfType($v_2)))continue;var $v_3=Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator.get_instance().getNextUniqueId($p1),$v_4=new Mscrm.BusinessRules.ViewModels.ConditionExpressionViewModel(Mscrm.BusinessRules.ViewModels.ExpressionAdaptorFactory.$3O($v_0.get_item($v_1)),$v_3);$v_4.$1i_2=!$v_1;this.$1I_1.add($v_4)}};Mscrm.BusinessRules.ViewModels.ConditionsViewModel.prototype={get_expressionViewModels:function(){return this.$1I_1},$1I_1:null};Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator=function(){};Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator.get_instance=function(){if(IsNull(Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator.$U))Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator.$U=new Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator;return Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator.$U};Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator.prototype={getNextUniqueId:function($p0){return Mscrm.BusinessRules.SharedMethods.formatTemplate.apply(null,["{0}_{1}_expression"].concat([$p0,this.$5L_0++]))},$5L_0:0};Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionEditViewModel=function($p0){Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionEditViewModel.initializeBase(this);this.$0_1=$p0;this.$5_1=$p0.get_leftOperand().get_editViewModel();this.$6_1=$p0.get_rightOperand().get_editViewModel();this.$4_1=$p0.get_operandType().get_editViewModel();this.$C_1=$p0.get_expressionOperator().get_editViewModel();this.$f_1=new Mscrm.BusinessRules.ViewModels.SetAttributeValueExpressionStateManager(this);this.$f_1.initialize()};Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionEditViewModel.prototype={get_leftOperand:function(){return this.$5_1},set_leftOperand:function($p0){this.$5_1=$p0;return $p0},get_expressionOperator:function(){return this.$C_1},set_expressionOperator:function($p0){this.$C_1=$p0;return $p0},get_operandType:function(){return this.$4_1},set_operandType:function($p0){this.$4_1=$p0;return $p0},get_rightOperand:function(){return this.$6_1},set_rightOperand:function($p0){this.$6_1=$p0;return $p0},get_viewModel:function(){return this.$0_1},confirm:function(){this.$5_1.confirm();this.$4_1.confirm();this.$6_1.confirm();this.$0_1.confirm()},discard:function(){this.$5_1.discard();this.$4_1.discard();this.$6_1.discard()},dispose:function(){if(this.$8_0)return;this.$f_1.dispose();this.$f_1.dispose();Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},get_stateManager:function(){return this.$f_1},set_stateManager:function($p0){this.$f_1=$p0;return $p0},get_attributeType:function(){return -1},set_attributeType:function($p0){return $p0},$5_1:null,$C_1:null,$4_1:null,$6_1:null,$f_1:null,$0_1:null};Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionViewModel=function($p0){Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionViewModel.initializeBase(this,["",$p0]);this.$2X_3=$p0.get_propertySpec();var $v_0=Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.$2f(this.$2X_3.get_name(),Mscrm.BusinessRules.BusinessRuleEntityManager.get_instance().getAttributeType(this.$2X_3.get_name()));this.$5_3=new Mscrm.BusinessRules.ViewModels.LeftOperandViewModel($v_0,String.format("{0}_lefopcon",$p0.get_id(),"subExpression"));var $v_1=new Microsoft.Crm.Workflow.Expressions.ExpressionCollection;$v_1.add(this.$2X_3.get_value());var $v_2=Number.parseInvariant(this.get_expressionOperator().get_operation()),$v_3=this.$5_3.get_innerOperand().get_selectedAttribute(),$v_4=(new Mscrm.BusinessRules.ViewModels.RightOperandMetadataCalculator($v_3,$v_2)).getRightOperandMetadata();this.$6_3=new Mscrm.BusinessRules.ViewModels.SetValueRightOperandViewModel($v_1,String.format("{0}_{1}",$p0.get_id(),"subExpression"),$v_4);this.$4_3=new Mscrm.BusinessRules.ViewModels.OperandTypeViewModel(this.$6_3.get_rightOperandType(),$p0.get_id()+"_operandType")};Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionViewModel.prototype={get_readDisplayFormat:function(){return window.LOCID_BUSINESSRULE_SETATTRVALUE},get_attributeName:function(){return this.$2X_3.get_name()},get_editViewModel:function(){if(IsNull(this.$3_3))this.$3_3=new Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionEditViewModel(this);return this.$3_3},get_leftOperand:function(){return this.$5_3},set_leftOperand:function($p0){this.$5_3=$p0;return $p0},get_expressionOperator:function(){return new Mscrm.BusinessRules.ViewModels.NullOperatorOperatorViewModel(-1,"")},set_expressionOperator:function($p0){return $p0},get_rightOperand:function(){return this.$6_3},set_rightOperand:function($p0){this.$6_3=$p0;return $p0},get_operandType:function(){return this.$4_3},set_operandType:function($p0){this.$4_3=$p0;return $p0},confirm:function(){this.get_step().get_propertySpec().set_name(this.$5_3.get_innerOperand().get_selectedAttribute());this.get_step().get_propertySpec().set_value(this.$6_3.get_expressions()[0])},get_id:function(){return this.get_step().get_id()},get_expression:function(){return null},get_displayValue:function(){return null},get_attributeType:function(){return -1},$2X_3:null,$6_3:null,$4_3:null,$3_3:null,$5_3:null};Mscrm.BusinessRules.ViewModels.ConditionBranchStepSectionViewModel=function($p0){Mscrm.BusinessRules.ViewModels.ConditionBranchStepSectionViewModel.initializeBase(this,["",$p0]);this.$2t_4=new Mscrm.BusinessRules.ViewModels.ConditionsViewModel(this.get_step().get_conditionExpression(),this.get_stepId())};Mscrm.BusinessRules.ViewModels.ConditionBranchStepSectionViewModel.prototype={get_conditions:function(){return this.$2t_4},validate:function(){var $v_0=Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel.prototype.validate.call(this);if($v_0.isValid){var $v_1=this.$5m_4();this.get_step().set_conditionExpression($v_1);if(!this.get_stepViewModels().get_count())return new Mscrm.BusinessRules.Commands.BusinessRuleValidationResult(false,window.LOCID_SAVEERROR_ZEROACTION)}return $v_0},$5m_4:function(){var $v_0=Mscrm.BusinessRules.BusinessRuleManager.get_instance().get_rootWorkflowStep(),$v_1=this.$2t_4.$1I_1;if(!$v_1.get_count())return new Microsoft.Crm.Workflow.Expressions.PrimitiveExpression($v_0,true,0);if($v_1.get_count()===1)return $v_1.get_item(0).get_expression();for(var $v_2=new Microsoft.Crm.Workflow.Expressions.BinaryExpression($v_0,2,$v_1.get_item(0).get_expression(),[$v_1.get_item(1).get_expression()]),$v_3=2;$v_3<$v_1.get_count();$v_3++)$v_2=new Microsoft.Crm.Workflow.Expressions.BinaryExpression($v_0,2,$v_2,[$v_1.get_item($v_3).get_expression()]);return $v_2},$2t_4:null};Mscrm.BusinessRules.ViewModels.DescriptionSectionViewModel=function($p0){Mscrm.BusinessRules.ViewModels.DescriptionSectionViewModel.initializeBase(this,["Description"]);this.$3X_2=$p0};Mscrm.BusinessRules.ViewModels.DescriptionSectionViewModel.prototype={get_description:function(){return this.getDescriptionDelegate()},set_description:function($p0){this.setDescriptionDelegate($p0);return $p0},getDescriptionDelegate:function(){return this.$3X_2},setDescriptionDelegate:function($p0){this.$3X_2=$p0;this.raisePropertyChanged("descriptionproperty")},$3X_2:null};Mscrm.BusinessRules.ViewModels.RootStepSectionViewModel=function($p0){Mscrm.BusinessRules.ViewModels.RootStepSectionViewModel.initializeBase(this,["",$p0])};Mscrm.BusinessRules.ViewModels.SetDisplayModeStepSectionViewModel=function($p0){Mscrm.BusinessRules.ViewModels.SetDisplayModeStepSectionViewModel.initializeBase(this,["",$p0])};Mscrm.BusinessRules.ViewModels.SetDisplayModeStepSectionViewModel.prototype={getReadDisplayFormat:function(){return window.LOCID_BUSINESSRULE_SETTO},get_controlId:function(){return this.getControlIdDelegate()},set_controlId:function($p0){this.setControlIdDelegate($p0);return $p0},get_isReadOnly:function(){return this.getIsReadOnlyDelegate()},set_isReadOnly:function($p0){this.get_step().set_isReadOnly($p0);this.raisePropertyChanged("IsReadOnlyProperty");return $p0},getControlIdDelegate:function(){return this.get_step().get_controlId()},setControlIdDelegate:function($p0){this.get_step().set_controlId($p0);this.raisePropertyChanged("ControlIdProperty")},getIsReadOnlyDelegate:function(){return this.get_step().get_isReadOnly()}};Mscrm.BusinessRules.ViewModels.SetRequiredLevelStepSectionViewModel=function($p0){Mscrm.BusinessRules.ViewModels.SetRequiredLevelStepSectionViewModel.initializeBase(this,["",$p0])};Mscrm.BusinessRules.ViewModels.SetRequiredLevelStepSectionViewModel.prototype={getReadDisplayFormat:function(){return window.LOCID_BUSINESSRULE_SETAS},get_controlId:function(){return this.getControlIdDelegate()},set_controlId:function($p0){this.setControlIdDelegate($p0);return $p0},get_requiredLevel:function(){return this.getRequiredLevelDelegate()},set_requiredLevel:function($p0){this.setRequiredLevelDelegate($p0);return $p0},getControlIdDelegate:function(){return this.get_step().get_controlId()},setControlIdDelegate:function($p0){this.get_step().set_controlId($p0);this.raisePropertyChanged("ControlIdProperty")},getRequiredLevelDelegate:function(){return this.get_step().get_requiredLevel()},setRequiredLevelDelegate:function($p0){this.get_step().set_requiredLevel($p0);this.raisePropertyChanged("RequiredLevel")}};Mscrm.BusinessRules.ViewModels.SetVisibilityStepSectionViewModel=function($p0){Mscrm.BusinessRules.ViewModels.SetVisibilityStepSectionViewModel.initializeBase(this,["",$p0])};Mscrm.BusinessRules.ViewModels.SetVisibilityStepSectionViewModel.prototype={getVisibleFormat:function(){return window.LOCID_BUSINESSRULE_SETTOVISIBLE},get_controlId:function(){return this.getControlIdDelegate()},set_controlId:function($p0){this.setControlIdDelegate($p0);return $p0},get_isVisible:function(){return this.getIsVisibleDelegate()},set_isVisible:function($p0){this.setIsVisibleDelegate($p0);return $p0},getControlIdDelegate:function(){return this.get_step().get_controlId()},setControlIdDelegate:function($p0){this.get_step().set_controlId($p0);this.raisePropertyChanged("ControlIdProperty")},getIsVisibleDelegate:function(){return this.get_step().get_isVisible()},setIsVisibleDelegate:function($p0){this.get_step().set_isVisible($p0);this.raisePropertyChanged("IsVisibleProperty")}};Mscrm.BusinessRules.ViewModels.SetMessageStepSectionViewModel=function($p0){Mscrm.BusinessRules.ViewModels.SetMessageStepSectionViewModel.initializeBase(this,["",$p0])};Mscrm.BusinessRules.ViewModels.SetMessageStepSectionViewModel.prototype={getReadDisplayFormat:function(){return window.LOCID_BUSINESSRULE_SETDISPLAYMSG},get_controlId:function(){return this.getControlIdDelegate()},set_controlId:function($p0){this.setControlIdDelegate($p0);return $p0},get_message:function(){return this.getMessageDelegate()},set_message:function($p0){this.setMessageDelegate($p0);return $p0},getControlIdDelegate:function(){return this.get_step().get_controlId()},setControlIdDelegate:function($p0){this.get_step().set_controlId($p0);this.raisePropertyChanged("ControlIdProperty")},getMessageDelegate:function(){return this.get_step().get_stepLabels().get_item(0).get_description()},setMessageDelegate:function($p0){this.get_step().get_stepLabels().get_item(0).set_description($p0);this.raisePropertyChanged("MessageProperty")}};Mscrm.BusinessRules.ViewModels.ActionReadToolBarViewModel=function(){Mscrm.BusinessRules.ViewModels.ActionReadToolBarViewModel.initializeBase(this);var $v_0=new Mscrm.BusinessRules.ViewModels.ReadToolBarButtonViewModel;$v_0.set_command(this.get_moveUpCommand());$v_0.set_iconUrl(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/moveup.png"));$v_0.set_hoverIconUrl(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/hovermoveup.png"));$v_0.set_titleText(window.LOCID_MOVE_UP_BUTTON);this.get_buttonViewModels().add($v_0);$v_0=new Mscrm.BusinessRules.ViewModels.ReadToolBarButtonViewModel;$v_0.set_command(this.get_moveDownCommand());$v_0.set_iconUrl(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/movedown.png"));$v_0.set_hoverIconUrl(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/hovermovedown.png"));$v_0.set_titleText(window.LOCID_MOVE_DOWN_BUTTON);this.get_buttonViewModels().add($v_0);$v_0=new Mscrm.BusinessRules.ViewModels.ReadToolBarButtonViewModel;$v_0.set_command(this.get_deleteCommand());$v_0.set_iconUrl(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/delete.png"));$v_0.set_hoverIconUrl(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/hoverdelete.png"));$v_0.set_titleText(window.LOCID_DELETE_BUTTON);this.get_buttonViewModels().add($v_0)};Mscrm.BusinessRules.ViewModels.ActionReadToolBarViewModel.prototype={$2U_2:null,$2S_2:null,$v_2:null,dispose:function(){if(this.$8_0)return;if(!IsNull(this.$2U_2)){this.$2U_2.dispose();this.$2U_2=null}if(!IsNull(this.$2S_2)){this.$2S_2.dispose();this.$2S_2=null}if(!IsNull(this.$v_2)){this.$v_2.dispose();this.$v_2=null}Mscrm.BusinessRules.ViewModels.ReadToolBarViewModel.prototype.dispose.call(this)},get_moveUpCommand:function(){return this.$2U_2||this.set_moveUpCommand(new Mscrm.BusinessRules.Commands.MoveUpCommand)},set_moveUpCommand:function($p0){this.$2U_2=$p0;return $p0},get_moveDownCommand:function(){return this.$2S_2||this.set_moveDownCommand(new Mscrm.BusinessRules.Commands.MoveDownCommand)},set_moveDownCommand:function($p0){this.$2S_2=$p0;return $p0},get_deleteCommand:function(){return this.$v_2||this.set_deleteCommand(new Mscrm.BusinessRules.Commands.DeleteCommand)},set_deleteCommand:function($p0){this.$v_2=$p0;return $p0}};Mscrm.BusinessRules.ViewModels.ConditionReadToolBarViewModel=function(){Mscrm.BusinessRules.ViewModels.ConditionReadToolBarViewModel.initializeBase(this);var $v_0=new Mscrm.BusinessRules.ViewModels.ReadToolBarButtonViewModel;$v_0.set_command(this.get_deleteCommand());$v_0.set_iconUrl(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/delete.png"));$v_0.set_hoverIconUrl(Mscrm.CrmUri.create("/_imgs/BusinessRuleEditor/hoverdelete.png"));$v_0.set_titleText(window.LOCID_DELETE_BUTTON);this.get_buttonViewModels().add($v_0)};Mscrm.BusinessRules.ViewModels.ConditionReadToolBarViewModel.prototype={$v_2:null,dispose:function(){if(this.$8_0)return;if(!IsNull(this.$v_2)){this.$v_2.dispose();this.$v_2=null}Mscrm.BusinessRules.ViewModels.ReadToolBarViewModel.prototype.dispose.call(this)},get_deleteCommand:function(){return this.$v_2||this.set_deleteCommand(new Mscrm.BusinessRules.Commands.DeleteCommand)},set_deleteCommand:function($p0){this.$v_2=$p0;return $p0}};Mscrm.BusinessRules.ViewModels.ReadToolBarButtonViewModel=function(){Mscrm.BusinessRules.ViewModels.ReadToolBarButtonViewModel.initializeBase(this)};Mscrm.BusinessRules.ViewModels.ReadToolBarButtonViewModel.prototype={$9_1:null,$D_1:null,$4l_1:null,$4j_1:false,$30_1:null,$2z_1:null,dispose:function(){if(this.$8_0)return;if(!IsNull(this.$9_1)){this.$9_1.dispose();this.$9_1=null}if(!IsNull(this.$30_1))this.$30_1=null;if(!IsNull(this.$2z_1))this.$2z_1=null;Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},get_command:function(){return this.$9_1},set_command:function($p0){this.$9_1=$p0;return $p0},get_id:function(){return this.$D_1},set_id:function($p0){this.$D_1=String.format("{0}_ReadToolBarButton",$p0);return $p0},get_titleText:function(){return this.$4l_1},set_titleText:function($p0){this.$4l_1=$p0;return $p0},get_selected:function(){return this.$4j_1},set_selected:function($p0){this.$4j_1=$p0;this.raisePropertyChanged("Selected");return $p0},get_iconUrl:function(){return this.$30_1},set_iconUrl:function($p0){this.$30_1=$p0;return $p0},get_hoverIconUrl:function(){return this.$2z_1},set_hoverIconUrl:function($p0){this.$2z_1=$p0;return $p0}};Mscrm.BusinessRules.ViewModels.ReadToolBarViewModel=function(){Mscrm.BusinessRules.ViewModels.ReadToolBarViewModel.initializeBase(this)};Mscrm.BusinessRules.ViewModels.ReadToolBarViewModel.prototype={$D_1:null,$1Y_1:null,$3E_1:null,dispose:function(){if(this.$8_0)return;if(!IsNull(this.$1Y_1)){for(var $v_0=0;$v_0<this.$1Y_1.get_count();$v_0++){var $v_1=this.$1Y_1.get_item($v_0);$v_1.dispose()}this.$1Y_1.clear();this.$1Y_1=null}if(!IsNull(this.$3E_1))this.$3E_1=null;Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this)},get_id:function(){return this.$D_1},set_id:function($p0){this.$D_1=String.format("{0}_ReadToolBar",$p0);if(!IsNull(this.get_buttonViewModels())&&this.get_buttonViewModels().get_count()>0)for(var $v_0=0;$v_0<this.get_buttonViewModels().get_count();$v_0++){var $v_1=this.get_buttonViewModels().get_item($v_0);$v_1.set_id(this.get_id()+$v_0)}return $p0},get_buttonViewModels:function(){return this.$1Y_1||this.set_buttonViewModels(Mscrm.BusinessRules.SharedMethods.getList(Mscrm.BusinessRules.ViewModels.IReadToolBarButtonViewModel))},set_buttonViewModels:function($p0){this.$1Y_1=$p0;return $p0},get_selectedButtonViewModel:function(){return this.$3E_1},set_selectedButtonViewModel:function($p0){this.$3E_1=$p0;this.raisePropertyChanged("SelectedButtonViewModel");return $p0}};Mscrm.BusinessRules.ViewModels.FormBodyViewModel=function($p0){Mscrm.BusinessRules.ViewModels.FormBodyViewModel.initializeBase(this,[""]);this.$2A_2=$p0;this.$3D_2=Mscrm.BusinessRules.SharedMethods.getList(Mscrm.BusinessRules.ViewModels.ISectionViewModel);this.$5P_2()};Mscrm.BusinessRules.ViewModels.FormBodyViewModel.prototype={validate:function(){var $v_0=Mscrm.BusinessRules.ViewModels.ViewModel.prototype.validate.call(this);if($v_0.isValid)return this.$44_2.validate();return $v_0},get_descriptionSection:function(){return this.$3Y_2},get_sections:function(){return this.$3D_2},$5P_2:function(){this.$5R_2();this.$5Q_2()},$5R_2:function(){this.$44_2=new Mscrm.BusinessRules.ViewModels.RootStepSectionViewModel(this.$2A_2);this.$3D_2.add(this.$44_2)},$5Q_2:function(){this.$3Y_2=new Mscrm.BusinessRules.ViewModels.DescriptionSectionViewModel("");this.$3D_2.add(this.$3Y_2)},$3D_2:null,$3Y_2:null,$2A_2:null,$44_2:null};Mscrm.BusinessRules.ViewModels.ManageBusinessRuleViewModel=function(workflowStep){this.$$d_activateRule=Function.createDelegate(this,this.activateRule);this.$$d_saveAsRule=Function.createDelegate(this,this.saveAsRule);this.$$d_saveRule=Function.createDelegate(this,this.saveRule);Mscrm.BusinessRules.ViewModels.ManageBusinessRuleViewModel.initializeBase(this);this.set_buisnessRule(workflowStep);this.$1M_1=new Mscrm.BusinessRules.Proxies.JavaScriptSerializerProxy;this.$1X_1=new Mscrm.BusinessRules.Proxies.BusinessRuleServiceProxy;this.$2y_1=new Mscrm.BusinessRules.ViewModels.FormBodyViewModel(this.get_buisnessRule());this.$2l_1=Boolean.parse($P_CRM("#footerActivatedState").val());this.$3r_1=Boolean.parse($P_CRM("#footerReadOnlyState").val())};Mscrm.BusinessRules.ViewModels.ManageBusinessRuleViewModel.prototype={$1M_1:null,$1X_1:null,$2y_1:null,$4S_1:0,$4H_1:0,$1W_1:null,$4G_1:null,$4I_1:null,$2l_1:false,$3r_1:false,$42_1:null,$4o_1:null,$4m_1:null,$4n_1:0,$4F_1:null,$1p_1:null,$3B_1:null,$3C_1:null,$1T_1:null,$3h_1:null,$4h_1:null,add_onValidation:function(value){this.$14_0.addHandler("OnValidation",value)},remove_onValidation:function(value){this.$14_0.removeHandler("OnValidation",value)},$6a_1:function($p0,$p1){var $v_0=this.$14_0.getHandler($p0);!IsNull($v_0)&&$v_0(this,$p1)},setBusinessRuleNameDelegate:function(name){this.$4G_1=name;this.raisePropertyChanged("BusinessRuleName")},$5g_1:function(){return this.$2y_1},getBusinessRuleNameDelegate:function(){return this.$4G_1},getBusinessRuleIdDelegate:function(){return this.$1W_1},setBusinessRuleIdDelegate:function(id){this.$1W_1=id;this.raisePropertyChanged("BusinessRuleId")},getBusinessRuleXamlDelegate:function(){return this.$4I_1},getBusinessRuleDelegate:function(){return this.$4F_1},$6l_1:function($p0){this.$4F_1=$p0;this.raisePropertyChanged("BusinessRule")},setBusinessRuleXamlDelegate:function(xaml){this.$4I_1=xaml;this.raisePropertyChanged("BusinessRuleXaml")},getFormIdIndexDelegate:function(){return Array.indexOf(Mscrm.BusinessRules.Views.ViewHelper.get_$K().ScopeSelectorData.FormIds,this.$42_1).toString()},setFormIdIndexDelegate:function(formIdIndex){this.$42_1=Mscrm.BusinessRules.Views.ViewHelper.get_$K().ScopeSelectorData.FormIds[Number.parseInvariant(formIdIndex)];this.raisePropertyChanged("TriggerFormId")},getEventNameDelegate:function(){return this.$4o_1},setEventNameDelegate:function(eventName){this.$4o_1=eventName;this.raisePropertyChanged("TriggerEventName")},getControlNameDelegate:function(){return this.$4m_1},setControlNameDelegate:function(controlName){this.$4m_1=controlName;this.raisePropertyChanged("TriggerControlName")},getPrimaryEntityTypeCodeDelegate:function(){return this.$4S_1},setPrimaryEntityTypeCodeDelegate:function(entityTypeCode){this.$4S_1=entityTypeCode;this.raisePropertyChanged("EntityTypeCode")},get_$4z_1:function(){return this.$5g_1()},get_businessRuleState:function(){return this.$4H_1},set_businessRuleState:function(value){this.$4H_1=value;return value},get_businessRuleId:function(){return this.getBusinessRuleIdDelegate()},set_businessRuleId:function(value){this.setBusinessRuleIdDelegate(value);return value},get_entityTypeCode:function(){return this.getPrimaryEntityTypeCodeDelegate()},set_entityTypeCode:function(value){this.setPrimaryEntityTypeCodeDelegate(value);return value},get_businessRuleName:function(){return this.getBusinessRuleNameDelegate()},set_businessRuleName:function(value){this.setBusinessRuleNameDelegate(value);return value},get_businessRuleDescription:function(){return this.$2y_1.get_descriptionSection().get_description()},set_businessRuleDescription:function(value){this.$2y_1.get_descriptionSection().set_description(value);return value},get_businessRuleXaml:function(){return this.getBusinessRuleXamlDelegate()},set_businessRuleXaml:function(value){this.setBusinessRuleXamlDelegate(value);return value},get_activated:function(){return this.$2l_1},set_activated:function(value){this.$2l_1=value;return value},get_readOnly:function(){return this.$3r_1},set_readOnly:function(value){this.$3r_1=value;return value},get_buisnessRule:function(){return this.getBusinessRuleDelegate()},set_buisnessRule:function(value){this.$6l_1(value);return value},get_triggerEventName:function(){return this.getEventNameDelegate()},set_triggerEventName:function(value){this.setEventNameDelegate(value);return value},get_triggerControlType:function(){return this.$4n_1},set_triggerControlType:function(value){this.$4n_1=value;this.raisePropertyChanged("TriggerControlType");return value},get_triggerControlName:function(){return this.getControlNameDelegate()},set_triggerControlName:function(value){this.setControlNameDelegate(value);return value},validate:function(){var $v_0=Mscrm.BusinessRules.ViewModels.ViewModel.prototype.validate.call(this);$v_0=$v_0.isValid?this.$6y_1():$v_0;$v_0=$v_0.isValid?this.get_$4z_1().validate():$v_0;this.$6a_1("OnValidation",$v_0);return $v_0},$6y_1:function(){if(isNullOrEmptyString(this.get_businessRuleName())){var $v_0=new Mscrm.BusinessRules.Commands.BusinessRuleValidationResult(false,null);$v_0.$23_1=0;return $v_0}return new Mscrm.BusinessRules.Commands.BusinessRuleValidationResult(true,null)},saveRule:function(callback){var $v_0=this.validate();if(!$v_0.isValid){var $v_3=new Mscrm.BusinessRules.Commands.SaveCommandResult($v_0);callback($v_3);return}var $v_1=this.$1M_1.serialize(this.$3P_1()),$v_2="";if(isNullOrEmptyString(this.get_businessRuleId())){var $$t_G=this,$$t_H=this;this.$1X_1.createRule($v_1,function($p1_0,$p1_1){$v_2=$$t_G.$46_1($p1_1)},function($p1_0,$p1_1){var $v_4=$$t_H.$47_1($p1_0,$v_2);callback($v_4);if(!IsNull($p1_0)&&$p1_0.Success){var $v_5=window.location.href;window.location.replace($v_5+"&id="+CrmEncodeDecode.CrmUrlEncode($v_4.$1W_0))}})}else{var $$t_I=this,$$t_J=this;this.$1X_1.updateRule($v_1,function($p1_0,$p1_1){$v_2=$$t_I.$46_1($p1_1)},function($p1_0,$p1_1){var $v_6=$$t_J.$47_1($p1_0,$v_2);callback($v_6)})}},saveAsRule:function(callback){var $v_0=this.validate();if(!$v_0.isValid){var $v_5=new Mscrm.BusinessRules.Commands.SaveCommandResult($v_0);callback($v_5);return}var $v_1=this.$3P_1(),$v_2=String.format(window.LOCID_SAVEAS_NAMEFORMAT,$v_1.Name);if($v_2.length>100){var $v_6=String.format(window.LOCID_BUSINESSRULE_NAMELENOVR,100);$v_0=new Mscrm.BusinessRules.Commands.BusinessRuleValidationResult(false,$v_6);var $v_7=new Mscrm.BusinessRules.Commands.SaveCommandResult($v_0);callback($v_7);return}$v_1.BusinessRuleId="";$v_1.Name=$v_2;var $v_3=this.$1M_1.serialize($v_1),$v_4="",$$t_E=this,$$t_F=this;this.$1X_1.copyRule($v_3,function($p1_0,$p1_1){$v_4=$$t_E.$46_1($p1_1)},function($p1_0,$p1_1){var $v_8=$$t_F.$47_1($p1_0,$v_4);callback($v_8)})},$47_1:function($p0,$p1){if($p0.Success){var $v_1=$p0.ReturnValue.string;!IsNull($v_1)&&this.set_businessRuleId(isArray($v_1)?$v_1[0]:$v_1);this.saveSnapshot()}var $v_0=new Mscrm.BusinessRules.Commands.SaveCommandResult(new Mscrm.BusinessRules.Commands.BusinessRuleValidationResult($p0.Success,isNullOrEmptyString($p1)?null:$p1));$v_0.$1W_0=this.get_businessRuleId();return $v_0},$46_1:function($p0){if(IsNull($p0))return null;var $v_0=Sys.Serialization.JavaScriptSerializer.deserialize(Mscrm.RemoteCommandXml.getErrorMessage($p0));if(!IsNull($v_0)&&!IsNull($v_0["_error"]))return $v_0["_error"].DisplayText;return null},$3P_1:function(){var $v_0=new Mscrm.BusinessRule;$v_0.BusinessRuleId=this.get_businessRuleId();$v_0.Name=this.get_businessRuleName();$v_0.Description=this.get_businessRuleDescription();$v_0.PrimaryEntityTypeCode=this.get_entityTypeCode();$v_0.FormId=this.$42_1;if(this.get_buisnessRule())$v_0.WorkflowStepJson=this.get_buisnessRule().toJson();else $v_0.Xaml=this.get_businessRuleXaml();return $v_0},activateRule:function(){if(this.$2l_1)Mscrm.FormAction.changeState("deactivate",4703,5,1);else{var $v_0=new Mscrm.BusinessRules.Commands.SaveCommand;$v_0.$b_0=this.$$d_saveRule;var $$t_2=this;$v_0.$2F_0=function($p1_0){if(!$p1_0.get_success())return;Mscrm.FormAction.changeState("activate",4703,6,1)};$v_0.execute()}return true},get_javaScriptSerializerProxy:function(){return this.$1M_1},set_javaScriptSerializerProxy:function(value){this.$1M_1=value;return value},get_businessRuleServiceProxy:function(){return this.$1X_1},set_businessRuleServiceProxy:function(value){this.$1X_1=value;return value},get_saveCommand:function(){if(IsNull(this.$1p_1)){this.$1p_1=new Mscrm.BusinessRules.Commands.SaveCommand;this.$1p_1.set_saveDelegate(this.$$d_saveRule)}return this.$1p_1},get_saveAndCloseCommand:function(){if(IsNull(this.$3B_1)){this.$3B_1=new Mscrm.BusinessRules.Commands.SaveAndCloseCommand;this.$3B_1.set_saveDelegate(this.$$d_saveRule)}return this.$3B_1},get_saveAsCommand:function(){if(IsNull(this.$3C_1)){this.$3C_1=new Mscrm.BusinessRules.Commands.SaveAsCommand;this.$3C_1.set_saveDelegate(this.$$d_saveAsRule)}return this.$3C_1},get_helpCommand:function(){if(IsNull(this.$3h_1))this.$3h_1=new Mscrm.BusinessRules.Commands.HelpCommand;return this.$3h_1},get_activateCommand:function(){if(IsNull(this.$1T_1)){this.$1T_1=new Mscrm.BusinessRules.Commands.ActivateCommand;this.$1T_1.set_activateDelegate(this.$$d_activateRule)}return this.$1T_1},saveSnapshot:function(){this.$4h_1=this.$1M_1.serialize(this.$3P_1())},get_isDirty:function(){var $v_0=this.validate();if(!$v_0.isValid)return true;var $v_1=this.$1M_1.serialize(this.$3P_1());return $v_1!==this.$4h_1},dispose:function(){if(this.$8_0)return;!IsNull(this.$1p_1)&&this.$1p_1.set_saveDelegate(null);!IsNull(this.$1T_1)&&this.$1T_1.set_activateDelegate(null);Mscrm.BusinessRules.ViewModels.ViewModel.prototype.dispose.call(this);this.$1p_1=null;this.$1T_1=null;this.$1X_1=null;this.$1M_1=null}};Mscrm.BusinessRules.ViewModels.ViewModel=function(){this.$14_0=new Sys.EventHandlerList};Mscrm.BusinessRules.ViewModels.ViewModel.prototype={add_propertyChanged:function(value){this.$14_0.addHandler("PropertyChanged",value)},remove_propertyChanged:function(value){this.$14_0.removeHandler("PropertyChanged",value)},get_parent:function(){return this.$P_0},set_parent:function(value){this.$P_0=value;return value},setPropertyWithoutRaisingEvent:function(propertyName,value){},validate:function(){return new Mscrm.BusinessRules.Commands.BusinessRuleValidationResult(true,null)},dispose:function(){if(this.$8_0)return;this.$14_0=null;this.$8_0=true},raisePropertyChanged:function(propertyName){var $v_0=this.$14_0.getHandler("PropertyChanged");if($v_0){var $v_1=new Sys.PropertyChangedEventArgs(propertyName);$v_0(this,$v_1)}},get_eventHandlers:function(){return this.$14_0},get_isDisposed:function(){return this.$8_0},$14_0:null,$8_0:false,$P_0:null};Mscrm.BusinessRules.ViewModels.FieldControlViewModel=function(entityMetadata){this.$$d_setSelectedFieldIndexDelegate=Function.createDelegate(this,this.setSelectedFieldIndexDelegate);this.$$d_getSelectedFieldIndexDelegate=Function.createDelegate(this,this.getSelectedFieldIndexDelegate);this.$$d_getFilteredAttributesDelegate=Function.createDelegate(this,this.getFilteredAttributesDelegate);this.$$d_getSelectedFieldLogicalNameDelegate=Function.createDelegate(this,this.getSelectedFieldLogicalNameDelegate);this.$$d_setFilteredAttributesDelegate=Function.createDelegate(this,this.setFilteredAttributesDelegate);Mscrm.BusinessRules.ViewModels.FieldControlViewModel.initializeBase(this);this.$j_1=entityMetadata;this.$3d_1=new Array(0)};Mscrm.BusinessRules.ViewModels.FieldControlViewModel.prototype={$j_1:null,$3F_1:null,$3I_1:false,get_attributes:function(){if(IsNull(this.$2o_1)){this.$2o_1=new Array(0);for(var $v_0=0;$v_0<this.$j_1.Fields.length;$v_0++){var $v_1=new Mscrm.EnumOptionJsonWrapper;$v_1.Value=$v_0;$v_1.Label=this.$j_1.Fields[$v_0].Label.Description;Array.add(this.$2o_1,$v_1)}}return this.$2o_1},get_filteredAttributes:function(){return this.getFilteredAttributesDelegate()},set_filteredAttributes:function(value){this.setFilteredAttributesDelegate(value);return value},get_useOptionsFiltering:function(){return this.$3I_1},set_useOptionsFiltering:function(value){this.$3I_1=value;return value},get_selectedFieldLogicalName:function(){return this.getSelectedFieldLogicalNameDelegate()},set_selectedFieldLogicalName:function(value){this.setSelectedFieldLogicalNameDelegate(value);return value},get_selectedFieldIndex:function(){return this.getSelectedFieldIndexDelegate()},set_selectedFieldIndex:function(value){this.setSelectedFieldIndexDelegate(value);return value},getSelectedFieldIndexDelegate:function(){if(isNullOrEmptyString(this.$3F_1))return "-1";for(var $v_0=this.$j_1.Fields,$v_1=0;$v_1<$v_0.length;$v_1++)if($v_0[$v_1].LogicalName===this.$3F_1)return $v_1.toString();return "-1"},setSelectedFieldIndexDelegate:function(index){if(index==="-1"){this.set_selectedFieldLogicalName("");return}this.set_selectedFieldLogicalName(this.$j_1.Fields[Number.parseInvariant(index)].LogicalName)},getSelectedFieldLogicalNameDelegate:function(){return this.$3F_1},setSelectedFieldLogicalNameDelegate:function(name){this.$3F_1=name;this.raisePropertyChanged("FieldChangedProperty")},getFilteredAttributesDelegate:function(){return this.$3d_1},setFilteredAttributesDelegate:function(attributes){this.$3d_1=attributes;this.raisePropertyChanged("FilteredAttributeListProperty")},$2o_1:null,$3d_1:null};Mscrm.BusinessRules.ViewModels.ExpressionAdaptorFactory=function(){};Mscrm.BusinessRules.ViewModels.ExpressionAdaptorFactory.$3O=function($p0){if(Microsoft.Crm.Workflow.Expressions.BinaryExpression.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.BinaryExpressionAdaptor($p0);if(Microsoft.Crm.Workflow.Expressions.UnaryExpression.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.UnaryExpressionAdaptor($p0);if(Microsoft.Crm.Workflow.Expressions.MethodCallExpression.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.ArithmeticMethodCallExpressionAdaptor($p0);throw Mscrm.BusinessRules.SharedMethods.createException("Unsupported Expression")};Mscrm.BusinessRules.ViewModels.ExpressionAdaptorBase=function($p0){this.$F_0=$p0};Mscrm.BusinessRules.ViewModels.ExpressionAdaptorBase.$$=function($p0){var $$cn="ExpressionAdaptorBase$1$"+$p0.getName().replace(/\./g,"_");if(!Mscrm.BusinessRules.ViewModels[$$cn]){var $$ccr=Mscrm.BusinessRules.ViewModels[$$cn]=function(){(this.$$gta=this.$$gta||{})["Mscrm.BusinessRules.ViewModels.ExpressionAdaptorBase"]={TExpression:$p0};for(var $v_0=[],$v_1=0;$v_1<arguments.length;++$v_1)$v_0[$v_1]=arguments[$v_1];Mscrm.BusinessRules.ViewModels.ExpressionAdaptorBase.apply(this,$v_0)};$$ccr.registerClass("Mscrm.BusinessRules.ViewModels."+$$cn,null,Mscrm.BusinessRules.ViewModels.IExpressionAdaptor);var $$dict_5=Mscrm.BusinessRules.ViewModels.ExpressionAdaptorBase.prototype;for(var $$key_6 in $$dict_5){var $$entry_7={key:$$key_6,value:$$dict_5[$$key_6]};if("constructor"!==$$entry_7.key)$$ccr.prototype[$$entry_7.key]=$$entry_7.value}}return Mscrm.BusinessRules.ViewModels[$$cn]};Mscrm.BusinessRules.ViewModels.ExpressionAdaptorBase.prototype={get_leftOperand:function(){return this.$5_0},set_leftOperand:function($p0){this.$5_0=$p0;return $p0},get_operator:function(){return this.$C_0},set_operator:function($p0){this.$C_0=$p0;return $p0},get_rightOperands:function(){return this.$4g_0},set_rightOperands:function($p0){this.$4g_0=$p0;return $p0},get_expression:function(){return this.$F_0},$5_0:null,$C_0:0,$4g_0:null,$F_0:null};Mscrm.BusinessRules.ViewModels.BinaryExpressionAdaptor=function($p0){Mscrm.BusinessRules.ViewModels.BinaryExpressionAdaptor.initializeBase(this,[$p0]);this.set_leftOperand($p0.get_leftOperand());this.set_operator($p0.get_operator());this.set_rightOperands($p0.get_rightOperands())};Mscrm.BusinessRules.ViewModels.UnaryExpressionAdaptor=function($p0){Mscrm.BusinessRules.ViewModels.UnaryExpressionAdaptor.initializeBase(this,[$p0]);this.set_leftOperand($p0.get_operand());this.set_operator($p0.get_operator());this.set_rightOperands(null)};Mscrm.BusinessRules.ViewModels.ArithmeticMethodCallExpressionAdaptor=function($p0){Mscrm.BusinessRules.ViewModels.ArithmeticMethodCallExpressionAdaptor.initializeBase(this,[$p0]);var $v_0=$p0.getParameters();if(!$v_0||$v_0.length!==3)throw Mscrm.BusinessRules.SharedMethods.createException("Method call expression for arithmetic calculation is not in correct format");this.set_leftOperand(this.$52_1($v_0[1]));this.set_rightOperands(new Microsoft.Crm.Workflow.Expressions.ExpressionCollection);this.get_rightOperands().add(this.$52_1($v_0[2]));this.set_operator($v_0[0])};Mscrm.BusinessRules.ViewModels.ArithmeticMethodCallExpressionAdaptor.prototype={$52_1:function($p0){var $v_0=$p0,$v_1=$v_0.getParameters();if(!$v_1||$v_1.length!==1)throw Mscrm.BusinessRules.SharedMethods.createException("Method call expression for arithmetic calculation is not in correct format");return $v_1[0]}};Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel.$$(this.$$gta["Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel"]["TStep"]).initializeBase(this,[$p0,$p1]);this.$2d_3=Mscrm.BusinessRules.SharedMethods.getList(Mscrm.BusinessRules.ViewModels.ISectionViewModel);for(var $v_0=0;$v_0<this.get_step().get_steps().get_count();$v_0++)this.$2d_3.add(Mscrm.BusinessRules.ViewModels.StepSectionViewModelFactory.$2h(this.get_step().get_steps().get_item($v_0)))};Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel.$$=function($p0){var $$cn="CompositeStepSectionViewModel$1$"+$p0.getName().replace(/\./g,"_");if(!Mscrm.BusinessRules.ViewModels[$$cn]){var $$ccr=Mscrm.BusinessRules.ViewModels[$$cn]=function(){(this.$$gta=this.$$gta||{})["Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel"]={TStep:$p0};for(var $v_0=[],$v_1=0;$v_1<arguments.length;++$v_1)$v_0[$v_1]=arguments[$v_1];Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel.apply(this,$v_0)};$$ccr.registerClass("Mscrm.BusinessRules.ViewModels."+$$cn,Mscrm.BusinessRules.ViewModels.StepSectionViewModel.$$($p0));var $$dict_5=Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel.prototype;for(var $$key_6 in $$dict_5){var $$entry_7={key:$$key_6,value:$$dict_5[$$key_6]};if("constructor"!==$$entry_7.key)$$ccr.prototype[$$entry_7.key]=$$entry_7.value}}return Mscrm.BusinessRules.ViewModels[$$cn]};Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel.prototype={get_stepViewModels:function(){return this.$2d_3},validate:function(){var $v_0=Mscrm.BusinessRules.ViewModels.ViewModel.prototype.validate.call(this);if($v_0.isValid)for(var $v_1=0;$v_1<this.$2d_3.get_count();$v_1++){var $v_2=this.$2d_3.get_item($v_1).validate();if(!$v_2.isValid)return $v_2}return $v_0},$2d_3:null};Mscrm.BusinessRules.ViewModels.ConditionStepSectionViewModel=function($p0){Mscrm.BusinessRules.ViewModels.ConditionStepSectionViewModel.initializeBase(this,["Conditions",$p0]);if($p0.get_steps().get_count()!==1)throw Mscrm.BusinessRules.SharedMethods.createException("Editor support only one branch as of now");var $v_0=$p0.get_steps().get_item(0);if($v_0.get_conditionBranchDisplayMode())throw Mscrm.BusinessRules.SharedMethods.createException("Incorrect Branch. Expecting only If")};Mscrm.BusinessRules.ViewModels.SectionViewModel=function($p0){Mscrm.BusinessRules.ViewModels.SectionViewModel.initializeBase(this);this.$4i_1=$p0};Mscrm.BusinessRules.ViewModels.SectionViewModel.prototype={get_sectionName:function(){return this.$4i_1},$4i_1:null};Mscrm.BusinessRules.ViewModels.StepSectionViewModel=function($p0,$p1){Mscrm.BusinessRules.ViewModels.StepSectionViewModel.$$(this.$$gta["Mscrm.BusinessRules.ViewModels.StepSectionViewModel"]["TStep"]).initializeBase(this,[$p0]);this.$4k_2=$p1;this.$D_2=$p1.get_id()};Mscrm.BusinessRules.ViewModels.StepSectionViewModel.$$=function($p0){var $$cn="StepSectionViewModel$1$"+$p0.getName().replace(/\./g,"_");if(!Mscrm.BusinessRules.ViewModels[$$cn]){var $$ccr=Mscrm.BusinessRules.ViewModels[$$cn]=function(){(this.$$gta=this.$$gta||{})["Mscrm.BusinessRules.ViewModels.StepSectionViewModel"]={TStep:$p0};for(var $v_0=[],$v_1=0;$v_1<arguments.length;++$v_1)$v_0[$v_1]=arguments[$v_1];Mscrm.BusinessRules.ViewModels.StepSectionViewModel.apply(this,$v_0)};$$ccr.registerClass("Mscrm.BusinessRules.ViewModels."+$$cn,Mscrm.BusinessRules.ViewModels.SectionViewModel,Mscrm.BusinessRules.ViewModels.IStepSectionViewModel);var $$dict_5=Mscrm.BusinessRules.ViewModels.StepSectionViewModel.prototype;for(var $$key_6 in $$dict_5){var $$entry_7={key:$$key_6,value:$$dict_5[$$key_6]};if("constructor"!==$$entry_7.key)$$ccr.prototype[$$entry_7.key]=$$entry_7.value}}return Mscrm.BusinessRules.ViewModels[$$cn]};Mscrm.BusinessRules.ViewModels.StepSectionViewModel.prototype={get_stepId:function(){return this.$D_2},get_step:function(){return this.$4k_2},$D_2:null,$4k_2:null};Mscrm.BusinessRules.ViewModels.StepSectionViewModelFactory=function(){};Mscrm.BusinessRules.ViewModels.StepSectionViewModelFactory.$2h=function($p0){if(Microsoft.Crm.Workflow.ObjectModel.SetAttributeValueStep.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionViewModel($p0);if(Microsoft.Crm.Workflow.ObjectModel.SetDisplayModeStep.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.SetDisplayModeStepSectionViewModel($p0);if(Microsoft.Crm.Workflow.ObjectModel.SetFieldRequiredLevelStep.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.SetRequiredLevelStepSectionViewModel($p0);if(Microsoft.Crm.Workflow.ObjectModel.SetVisibilityStep.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.SetVisibilityStepSectionViewModel($p0);if(Microsoft.Crm.Workflow.ObjectModel.SetMessageStep.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.SetMessageStepSectionViewModel($p0);if(Microsoft.Crm.Workflow.ObjectModel.ConditionBranchStep.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.ConditionBranchStepSectionViewModel($p0);if(Microsoft.Crm.Workflow.ObjectModel.ConditionStep.isInstanceOfType($p0))return new Mscrm.BusinessRules.ViewModels.ConditionStepSectionViewModel($p0);throw Mscrm.BusinessRules.SharedMethods.createException("Unsupported Exception")};Mscrm.BusinessRuleErrorFlyout.registerClass("Mscrm.BusinessRuleErrorFlyout");Mscrm.BusinessRuleConfirmFlyout.registerClass("Mscrm.BusinessRuleConfirmFlyout");Mscrm.MaskPanel.registerClass("Mscrm.MaskPanel");Mscrm.BusinessRulesGrid.registerClass("Mscrm.BusinessRulesGrid");Mscrm.BusinessRule.registerClass("Mscrm.BusinessRule");Mscrm.ProcessTrigger.registerClass("Mscrm.ProcessTrigger");Mscrm.BusinessRules.BusinessRuleInlineEditChromeBehavior.registerClass("Mscrm.BusinessRules.BusinessRuleInlineEditChromeBehavior",Mscrm.InlineEditChromeBehaviorBase.$$(Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase));Mscrm.BusinessRules.BusinessRuleInlineEditFactory.registerClass("Mscrm.BusinessRules.BusinessRuleInlineEditFactory");Mscrm.BusinessRules.BusinessRuleLayoutBase.registerClass("Mscrm.BusinessRules.BusinessRuleLayoutBase",Mscrm.BaseLayout);Mscrm.BusinessRules.BusinessRuleStepChromeStateData.registerClass("Mscrm.BusinessRules.BusinessRuleStepChromeStateData",Mscrm.ChromeStateData,Mscrm.BusinessRules.IBusinessRuleStepChromeStateData,Mscrm.InlineEdit.Common.IChromeStateData,Sys.INotifyPropertyChange);Mscrm.BusinessRules.BusinessRuleStepEditChromeState.registerClass("Mscrm.BusinessRules.BusinessRuleStepEditChromeState",null,Mscrm.InlineEdit.Common.IChromeState);Mscrm.BusinessRules.BusinessRuleStepEditHintChromeState.registerClass("Mscrm.BusinessRules.BusinessRuleStepEditHintChromeState",null,Mscrm.InlineEdit.Common.IChromeState);Mscrm.BusinessRules.BusinessRuleStepReadChromeState.registerClass("Mscrm.BusinessRules.BusinessRuleStepReadChromeState",null,Mscrm.InlineEdit.Common.IChromeState);Mscrm.BusinessRules.BusinessRuleStepSelectedChromeState.registerClass("Mscrm.BusinessRules.BusinessRuleStepSelectedChromeState",null,Mscrm.InlineEdit.Common.IChromeState);Mscrm.BusinessRules.ChromeStateFactory.registerClass("Mscrm.BusinessRules.ChromeStateFactory",null,Mscrm.InlineEdit.Common.IChromeStateFactory);Mscrm.BusinessRules.ExpressionInlineEditChromeBehavior.registerClass("Mscrm.BusinessRules.ExpressionInlineEditChromeBehavior",Mscrm.BusinessRules.BusinessRuleInlineEditChromeBehavior);Mscrm.BusinessRules.ExpressionLayoutBase.registerClass("Mscrm.BusinessRules.ExpressionLayoutBase",Mscrm.BusinessRules.BusinessRuleLayoutBase);Mscrm.BusinessRules.StepInlineEditChromeBehavior.registerClass("Mscrm.BusinessRules.StepInlineEditChromeBehavior",Mscrm.BusinessRules.BusinessRuleInlineEditChromeBehavior);Mscrm.BusinessRules.StepLayoutBase.registerClass("Mscrm.BusinessRules.StepLayoutBase",Mscrm.BusinessRules.BusinessRuleLayoutBase);Mscrm.BusinessRules.MultiValueExpression.registerClass("Mscrm.BusinessRules.MultiValueExpression",Microsoft.Crm.Workflow.Expressions.ExpressionBase,Mscrm.BusinessRules.IMultiValueExpression);Mscrm.BusinessRules.ValueDisplayFormatProvider.registerClass("Mscrm.BusinessRules.ValueDisplayFormatProvider");Mscrm.BusinessRules.ValueExpressionAdapterFactory.registerClass("Mscrm.BusinessRules.ValueExpressionAdapterFactory");Mscrm.BusinessRules.PrimitiveValueExpressionAdapter.registerClass("Mscrm.BusinessRules.PrimitiveValueExpressionAdapter",null,Mscrm.BusinessRules.IValueExpressionAdapter);Mscrm.BusinessRules.DateValueExpressionAdapter.registerClass("Mscrm.BusinessRules.DateValueExpressionAdapter",null,Mscrm.BusinessRules.IValueExpressionAdapter);Mscrm.BusinessRules.DateTimeValueExpressionAdapter.registerClass("Mscrm.BusinessRules.DateTimeValueExpressionAdapter",Mscrm.BusinessRules.DateValueExpressionAdapter);Mscrm.BusinessRules.OptionSetValueExpressionAdapter.registerClass("Mscrm.BusinessRules.OptionSetValueExpressionAdapter",null,Mscrm.BusinessRules.IValueExpressionAdapter);Mscrm.BusinessRules.LookupValueExpressionAdapter.registerClass("Mscrm.BusinessRules.LookupValueExpressionAdapter",null,Mscrm.BusinessRules.IValueExpressionAdapter);Mscrm.BusinessRules.TimeSpanExpressionAdapter.registerClass("Mscrm.BusinessRules.TimeSpanExpressionAdapter",null,Mscrm.BusinessRules.IValueExpressionAdapter);Mscrm.BusinessRules.BusinessRuleEntityManager.registerClass("Mscrm.BusinessRules.BusinessRuleEntityManager",null,Mscrm.BusinessRules.IBusinessRuleEntityManager);Mscrm.BusinessRules.BusinessRuleInitializer.registerClass("Mscrm.BusinessRules.BusinessRuleInitializer");Mscrm.BusinessRules.BusinessRuleManager.registerClass("Mscrm.BusinessRules.BusinessRuleManager");Mscrm.BusinessRules.BusinessRuleEditorDataJsonWrapper.registerClass("Mscrm.BusinessRules.BusinessRuleEditorDataJsonWrapper");Mscrm.BusinessRules.EditorEntityMetadataJsonWrapper.registerClass("Mscrm.BusinessRules.EditorEntityMetadataJsonWrapper");Mscrm.BusinessRules.EditorEntityLabelJsonWrapper.registerClass("Mscrm.BusinessRules.EditorEntityLabelJsonWrapper");Mscrm.BusinessRules.EditorEntityFieldMetadataJsonWrapper.registerClass("Mscrm.BusinessRules.EditorEntityFieldMetadataJsonWrapper");Mscrm.BusinessRules.EditorScopeSelectorDataJsonWrapper.registerClass("Mscrm.BusinessRules.EditorScopeSelectorDataJsonWrapper");Mscrm.BusinessRules.Constants.registerClass("Mscrm.BusinessRules.Constants");Mscrm.BusinessRules.ClientVariable.registerClass("Mscrm.BusinessRules.ClientVariable");Mscrm.BusinessRules.CssClassName.registerClass("Mscrm.BusinessRules.CssClassName");Mscrm.BusinessRules.HtmlFormat.registerClass("Mscrm.BusinessRules.HtmlFormat");Mscrm.BusinessRules.HtmlElementNames.registerClass("Mscrm.BusinessRules.HtmlElementNames");Mscrm.BusinessRules.HtmlAttributeNames.registerClass("Mscrm.BusinessRules.HtmlAttributeNames");Mscrm.BusinessRules.PBLEditorIds.registerClass("Mscrm.BusinessRules.PBLEditorIds");Mscrm.BusinessRules.ActionMenuCommands.registerClass("Mscrm.BusinessRules.ActionMenuCommands");Mscrm.BusinessRules.SharedMethods.registerClass("Mscrm.BusinessRules.SharedMethods");Mscrm.BusinessRules.Bindings.ClickBinding.registerClass("Mscrm.BusinessRules.Bindings.ClickBinding",null,Mscrm.BusinessRules.Bindings.IClickBinding,Mscrm.BusinessRules.Bindings.IBinding,Sys.IDisposable);Mscrm.BusinessRules.Bindings.DataContextValueChangeBinding.registerClass("Mscrm.BusinessRules.Bindings.DataContextValueChangeBinding",null,Mscrm.BusinessRules.Bindings.IDataContextValueChangeBinding,Mscrm.BusinessRules.Bindings.IValueChangeBinding,Mscrm.BusinessRules.Bindings.IBinding,Sys.IDisposable);Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding.registerClass("Mscrm.BusinessRules.Bindings.InlineControlFieldValueChangeBinding",null,Mscrm.BusinessRules.Bindings.IInlineControlFieldValueChangeBinding,Mscrm.BusinessRules.Bindings.IValueChangeBinding,Mscrm.BusinessRules.Bindings.IBinding,Sys.IDisposable);Mscrm.BusinessRules.Bindings.KeyDownBinding.registerClass("Mscrm.BusinessRules.Bindings.KeyDownBinding",null,Mscrm.BusinessRules.Bindings.IKeyDownBinding,Mscrm.BusinessRules.Bindings.IBinding,Sys.IDisposable);Mscrm.BusinessRules.Bindings.TextInputValueChangeBinding.registerClass("Mscrm.BusinessRules.Bindings.TextInputValueChangeBinding",null,Mscrm.BusinessRules.Bindings.ITextInputValueChangeBinding,Mscrm.BusinessRules.Bindings.IValueChangeBinding,Mscrm.BusinessRules.Bindings.IBinding,Sys.IDisposable);Mscrm.BusinessRules.Bindings.ValueBinding.registerClass("Mscrm.BusinessRules.Bindings.ValueBinding",null,Mscrm.BusinessRules.Bindings.IValueBinding,Mscrm.BusinessRules.Bindings.IBinding,Sys.IDisposable);Mscrm.BusinessRules.Builders.ChromeStateDataBuilder.registerClass("Mscrm.BusinessRules.Builders.ChromeStateDataBuilder",null,Mscrm.InlineEdit.Common.IChromeStateDataBuilder);Mscrm.BusinessRules.Builders.StepBaseBuilder.registerClass("Mscrm.BusinessRules.Builders.StepBaseBuilder");Mscrm.BusinessRules.Builders.SetAttributeValueStepBuilder.registerClass("Mscrm.BusinessRules.Builders.SetAttributeValueStepBuilder",Mscrm.BusinessRules.Builders.StepBaseBuilder);Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder.registerClass("Mscrm.BusinessRules.Builders.DefaultExpressionViewBuilder");Mscrm.BusinessRules.Builders.ReadToolBarButtonViewBuilder.registerClass("Mscrm.BusinessRules.Builders.ReadToolBarButtonViewBuilder",null,Mscrm.BusinessRules.Builders.IReadToolBarButtonViewBuilder);Mscrm.BusinessRules.Builders.ReadToolBarViewBuilder.registerClass("Mscrm.BusinessRules.Builders.ReadToolBarViewBuilder",null,Mscrm.BusinessRules.Builders.IReadToolBarViewBuilder);Mscrm.BusinessRules.Builders.ExpressionElementHtmlBuilder.registerClass("Mscrm.BusinessRules.Builders.ExpressionElementHtmlBuilder");Mscrm.BusinessRules.Builders.SetDisplayModeStepBuilder.registerClass("Mscrm.BusinessRules.Builders.SetDisplayModeStepBuilder",Mscrm.BusinessRules.Builders.StepBaseBuilder);Mscrm.BusinessRules.Builders.SetMessageStepBuilder.registerClass("Mscrm.BusinessRules.Builders.SetMessageStepBuilder",Mscrm.BusinessRules.Builders.StepBaseBuilder);Mscrm.BusinessRules.Builders.SetRequiredLevelStepBuilder.registerClass("Mscrm.BusinessRules.Builders.SetRequiredLevelStepBuilder",Mscrm.BusinessRules.Builders.StepBaseBuilder);Mscrm.BusinessRules.Builders.SetVisibilityStepBuilder.registerClass("Mscrm.BusinessRules.Builders.SetVisibilityStepBuilder",Mscrm.BusinessRules.Builders.StepBaseBuilder);Mscrm.BusinessRules.Commands.ActivateCommand.registerClass("Mscrm.BusinessRules.Commands.ActivateCommand",null,Mscrm.BusinessRules.Commands.IActivateCommand,Mscrm.BusinessRules.Commands.ICommand,Sys.IDisposable);Mscrm.BusinessRules.Commands.ConvertValueCommand.registerClass("Mscrm.BusinessRules.Commands.ConvertValueCommand",null,Mscrm.BusinessRules.Commands.IConvertValueCommand,Mscrm.BusinessRules.Commands.ICommand,Sys.IDisposable);Mscrm.BusinessRules.Commands.DeleteCommand.registerClass("Mscrm.BusinessRules.Commands.DeleteCommand",null,Mscrm.BusinessRules.Commands.IDeleteCommand,Mscrm.BusinessRules.Commands.ICommand,Sys.IDisposable);Mscrm.BusinessRules.Commands.MoveDownCommand.registerClass("Mscrm.BusinessRules.Commands.MoveDownCommand",null,Mscrm.BusinessRules.Commands.IMoveDownCommand,Mscrm.BusinessRules.Commands.ICommand,Sys.IDisposable);Mscrm.BusinessRules.Commands.MoveUpCommand.registerClass("Mscrm.BusinessRules.Commands.MoveUpCommand",null,Mscrm.BusinessRules.Commands.IMoveUpCommand,Mscrm.BusinessRules.Commands.ICommand,Sys.IDisposable);Mscrm.BusinessRules.Commands.SaveAndCloseCommand.registerClass("Mscrm.BusinessRules.Commands.SaveAndCloseCommand",null,Mscrm.BusinessRules.Commands.ISaveAndCloseCommand,Mscrm.BusinessRules.Commands.ICommand,Sys.IDisposable);Mscrm.BusinessRules.Commands.SaveAsCommand.registerClass("Mscrm.BusinessRules.Commands.SaveAsCommand",null,Mscrm.BusinessRules.Commands.ISaveAsCommand,Mscrm.BusinessRules.Commands.ICommand,Sys.IDisposable);Mscrm.BusinessRules.Commands.SaveCommand.registerClass("Mscrm.BusinessRules.Commands.SaveCommand",null,Mscrm.BusinessRules.Commands.ISaveCommand,Mscrm.BusinessRules.Commands.ICommand,Sys.IDisposable);Mscrm.BusinessRules.Commands.HelpCommand.registerClass("Mscrm.BusinessRules.Commands.HelpCommand",null,Mscrm.BusinessRules.Commands.ICommand,Sys.IDisposable);Mscrm.BusinessRules.Commands.SaveCommandResult.registerClass("Mscrm.BusinessRules.Commands.SaveCommandResult");Mscrm.BusinessRules.Commands.BusinessRuleValidationResult.registerClass("Mscrm.BusinessRules.Commands.BusinessRuleValidationResult",Mscrm.ValidationResult);Mscrm.BusinessRules.Commands.StepChromeElementKeyDownCommand.registerClass("Mscrm.BusinessRules.Commands.StepChromeElementKeyDownCommand",null,Mscrm.BusinessRules.Commands.ICommand,Sys.IDisposable,Mscrm.BusinessRules.Commands.IEventAdapter);Mscrm.BusinessRules.Converters.BaseValueConverter.registerClass("Mscrm.BusinessRules.Converters.BaseValueConverter",null,Mscrm.BusinessRules.Converters.IValueConverter);Mscrm.BusinessRules.Factories.BindingsFactory.registerClass("Mscrm.BusinessRules.Factories.BindingsFactory",null,Mscrm.BusinessRules.Factories.IBindingsFactory);Mscrm.BusinessRules.Factories.CommandsFactory.registerClass("Mscrm.BusinessRules.Factories.CommandsFactory",null,Mscrm.BusinessRules.Factories.ICommandsFactory);Mscrm.BusinessRules.Factories.ValueConvertersFactory.registerClass("Mscrm.BusinessRules.Factories.ValueConvertersFactory",null,Mscrm.BusinessRules.Factories.IValueConvertersFactory);Mscrm.BusinessRules.Factories.ViewFactory.registerClass("Mscrm.BusinessRules.Factories.ViewFactory",null,Mscrm.BusinessRules.Factories.IViewFactory);Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView.registerClass("Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView",Mscrm.InlineEditViewBase);Mscrm.BusinessRules.Views.InlineStepEditViewBase.registerClass("Mscrm.BusinessRules.Views.InlineStepEditViewBase",Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView);Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase.registerClass("Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase",Mscrm.InlineViewBase,Mscrm.BusinessRules.Views.IBusinessRuleStepInlineViewBase,Mscrm.IInlineView,Sys.IDisposable);Mscrm.BusinessRules.Views.InlineExpressionEditView.registerClass("Mscrm.BusinessRules.Views.InlineExpressionEditView",Mscrm.BusinessRules.Views.BusinessRuleStepInlineEditView);Mscrm.BusinessRules.Views.InlineExpressionView.registerClass("Mscrm.BusinessRules.Views.InlineExpressionView",Mscrm.BusinessRules.Views.BusinessRuleStepInlineViewBase,Mscrm.BusinessRules.Views.IInlineExpressionView);Mscrm.BusinessRules.Views.View.registerClass("Mscrm.BusinessRules.Views.View",null,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.OperandView.registerClass("Mscrm.BusinessRules.Views.OperandView",Mscrm.BusinessRules.Views.View,Mscrm.BusinessRules.Views.IOperandView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.ArithmeticExpressionEditView.registerClass("Mscrm.BusinessRules.Views.ArithmeticExpressionEditView",Mscrm.BusinessRules.Views.OperandView,Mscrm.BusinessRules.Views.IResetFocus);Mscrm.BusinessRules.Views.AttributeOperandView.registerClass("Mscrm.BusinessRules.Views.AttributeOperandView",Mscrm.BusinessRules.Views.OperandView,Mscrm.BusinessRules.Views.IOperandView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable,Mscrm.BusinessRules.Views.IResetFocus);Mscrm.BusinessRules.Views.ExpressionView.registerClass("Mscrm.BusinessRules.Views.ExpressionView",Mscrm.BusinessRules.Views.View,Mscrm.BusinessRules.Views.IExpressionView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.LeftOperandView.registerClass("Mscrm.BusinessRules.Views.LeftOperandView",Mscrm.BusinessRules.Views.OperandView,Mscrm.BusinessRules.Views.IOperandView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable,Mscrm.BusinessRules.Views.IResetFocus);Mscrm.BusinessRules.Views.RightOperandView.registerClass("Mscrm.BusinessRules.Views.RightOperandView",Mscrm.BusinessRules.Views.OperandView,Mscrm.BusinessRules.Views.IOperandView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable,Mscrm.BusinessRules.Views.IResetFocus);Mscrm.BusinessRules.Views.OperandTypeView.registerClass("Mscrm.BusinessRules.Views.OperandTypeView",Mscrm.BusinessRules.Views.View,Mscrm.BusinessRules.Views.IOperandTypeView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.OperandViewFactory.registerClass("Mscrm.BusinessRules.Views.OperandViewFactory");Mscrm.BusinessRules.Views.OperatorView.registerClass("Mscrm.BusinessRules.Views.OperatorView",Mscrm.BusinessRules.Views.View,Mscrm.BusinessRules.Views.IOperatorView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.ValueOperandView.registerClass("Mscrm.BusinessRules.Views.ValueOperandView",Mscrm.BusinessRules.Views.OperandView,Mscrm.BusinessRules.Views.IOperandView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable,Mscrm.BusinessRules.Views.IResetFocus);Mscrm.BusinessRules.Views.ValueInlineControlRepository.registerClass("Mscrm.BusinessRules.Views.ValueInlineControlRepository",null,Mscrm.BusinessRules.Views.IValueInlineControlRepository,Sys.IDisposable);Mscrm.BusinessRules.Views.ValueInlineControlBase.registerClass("Mscrm.BusinessRules.Views.ValueInlineControlBase",null,Mscrm.BusinessRules.Views.IValueInlineControl,Sys.IDisposable);Mscrm.BusinessRules.Views.ValueInlineControlFactory.registerClass("Mscrm.BusinessRules.Views.ValueInlineControlFactory");Mscrm.BusinessRules.Views.DateTimeValueInlineControl.registerClass("Mscrm.BusinessRules.Views.DateTimeValueInlineControl",Mscrm.BusinessRules.Views.ValueInlineControlBase);Mscrm.BusinessRules.Views.TextValueInlineControl.registerClass("Mscrm.BusinessRules.Views.TextValueInlineControl",Mscrm.BusinessRules.Views.ValueInlineControlBase);Mscrm.BusinessRules.Views.NumberValueInlineControl.registerClass("Mscrm.BusinessRules.Views.NumberValueInlineControl",Mscrm.BusinessRules.Views.ValueInlineControlBase);Mscrm.BusinessRules.Views.MoneyValueInlineControl.registerClass("Mscrm.BusinessRules.Views.MoneyValueInlineControl",Mscrm.BusinessRules.Views.ValueInlineControlBase);Mscrm.BusinessRules.Views.PicklistValueInlineControl.registerClass("Mscrm.BusinessRules.Views.PicklistValueInlineControl",Mscrm.BusinessRules.Views.ValueInlineControlBase);Mscrm.BusinessRules.Views.LookupValueInlineControl.registerClass("Mscrm.BusinessRules.Views.LookupValueInlineControl",Mscrm.BusinessRules.Views.ValueInlineControlBase);Mscrm.BusinessRules.Views.ValidateAsRequiredDecorator.registerClass("Mscrm.BusinessRules.Views.ValidateAsRequiredDecorator",Mscrm.SimpleInlineControlView);Mscrm.BusinessRules.Views.SectionView.registerClass("Mscrm.BusinessRules.Views.SectionView",Mscrm.BusinessRules.Views.View,Mscrm.BusinessRules.Views.ISectionView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.ConditionsSectionsView.registerClass("Mscrm.BusinessRules.Views.ConditionsSectionsView",Mscrm.BusinessRules.Views.SectionView);Mscrm.BusinessRules.Views.InlineSetAttributeValueStepEditView.registerClass("Mscrm.BusinessRules.Views.InlineSetAttributeValueStepEditView",Mscrm.BusinessRules.Views.InlineStepEditViewBase);Mscrm.BusinessRules.ViewModels.ViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ViewModel",null,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.SectionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.SectionViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.ISectionViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionViewModel",Mscrm.BusinessRules.ViewModels.StepSectionViewModel.$$(Microsoft.Crm.Workflow.ObjectModel.SetAttributeValueStep),Mscrm.BusinessRules.ViewModels.ISetAttributeValueStepSectionViewModel,Mscrm.BusinessRules.ViewModels.IStepSectionViewModel,Mscrm.BusinessRules.ViewModels.IExpressionViewModel,Mscrm.BusinessRules.ViewModels.IOperandViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.Views.InlineSetAttributeValueStepView.registerClass("Mscrm.BusinessRules.Views.InlineSetAttributeValueStepView",Mscrm.BusinessRules.Views.InlineStepViewBase.$$(Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.SetAttributeValueStep));Mscrm.BusinessRules.Views.SetAttributeValueStepSectionView.registerClass("Mscrm.BusinessRules.Views.SetAttributeValueStepSectionView",Mscrm.BusinessRules.Views.StepSectionView.$$(Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.SetAttributeValueStep));Mscrm.BusinessRules.ViewModels.ConditionBranchStepSectionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ConditionBranchStepSectionViewModel",Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel.$$(Microsoft.Crm.Workflow.ObjectModel.ConditionBranchStep));Mscrm.BusinessRules.Views.ConditionBranchStepSectionView.registerClass("Mscrm.BusinessRules.Views.ConditionBranchStepSectionView",Mscrm.BusinessRules.Views.CompositeStepSectionView.$$(Mscrm.BusinessRules.ViewModels.ConditionBranchStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.ConditionBranchStep));Mscrm.BusinessRules.Views.AddImageBehavior.registerClass("Mscrm.BusinessRules.Views.AddImageBehavior",null,Sys.IDisposable);Mscrm.BusinessRules.Views.ActionMenu.registerClass("Mscrm.BusinessRules.Views.ActionMenu");Mscrm.BusinessRules.ViewModels.ConditionStepSectionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ConditionStepSectionViewModel",Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel.$$(Microsoft.Crm.Workflow.ObjectModel.ConditionStep));Mscrm.BusinessRules.Views.ConditionStepSectionView.registerClass("Mscrm.BusinessRules.Views.ConditionStepSectionView",Mscrm.BusinessRules.Views.CompositeStepSectionView.$$(Mscrm.BusinessRules.ViewModels.ConditionStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.ConditionStep));Mscrm.BusinessRules.Views.DescriptionSectionView.registerClass("Mscrm.BusinessRules.Views.DescriptionSectionView",Mscrm.BusinessRules.Views.SectionView,Mscrm.BusinessRules.Views.ISectionView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.RootStepSectionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.RootStepSectionViewModel",Mscrm.BusinessRules.ViewModels.CompositeStepSectionViewModel.$$(Microsoft.Crm.Workflow.ObjectModel.WorkflowStep),Mscrm.BusinessRules.ViewModels.IRootStepSectionViewModel,Mscrm.BusinessRules.ViewModels.ISectionViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.Views.RootStepSectionView.registerClass("Mscrm.BusinessRules.Views.RootStepSectionView",Mscrm.BusinessRules.Views.CompositeStepSectionView.$$(Mscrm.BusinessRules.ViewModels.RootStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.WorkflowStep));Mscrm.BusinessRules.ViewModels.SetDisplayModeStepSectionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.SetDisplayModeStepSectionViewModel",Mscrm.BusinessRules.ViewModels.StepSectionViewModel.$$(Microsoft.Crm.Workflow.ObjectModel.SetDisplayModeStep),Mscrm.BusinessRules.ViewModels.ISectionViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.Views.SetDisplayModeStepSectionView.registerClass("Mscrm.BusinessRules.Views.SetDisplayModeStepSectionView",Mscrm.BusinessRules.Views.StepSectionView.$$(Mscrm.BusinessRules.ViewModels.SetDisplayModeStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.SetDisplayModeStep));Mscrm.BusinessRules.Views.InlineSetDisplayModeStepView.registerClass("Mscrm.BusinessRules.Views.InlineSetDisplayModeStepView",Mscrm.BusinessRules.Views.InlineStepViewBase.$$(Mscrm.BusinessRules.ViewModels.SetDisplayModeStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.SetDisplayModeStep));Mscrm.BusinessRules.Views.InlineSetDisplayModeStepEditView.registerClass("Mscrm.BusinessRules.Views.InlineSetDisplayModeStepEditView",Mscrm.BusinessRules.Views.InlineStepEditViewBase);Mscrm.BusinessRules.ViewModels.SetRequiredLevelStepSectionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.SetRequiredLevelStepSectionViewModel",Mscrm.BusinessRules.ViewModels.StepSectionViewModel.$$(Microsoft.Crm.Workflow.ObjectModel.SetFieldRequiredLevelStep));Mscrm.BusinessRules.Views.SetRequiredLevelStepSectionView.registerClass("Mscrm.BusinessRules.Views.SetRequiredLevelStepSectionView",Mscrm.BusinessRules.Views.StepSectionView.$$(Mscrm.BusinessRules.ViewModels.SetRequiredLevelStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.SetFieldRequiredLevelStep));Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepView.registerClass("Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepView",Mscrm.BusinessRules.Views.InlineStepViewBase.$$(Mscrm.BusinessRules.ViewModels.SetRequiredLevelStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.SetFieldRequiredLevelStep));Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepEditView.registerClass("Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepEditView",Mscrm.BusinessRules.Views.InlineStepEditViewBase);Mscrm.BusinessRules.ViewModels.SetVisibilityStepSectionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.SetVisibilityStepSectionViewModel",Mscrm.BusinessRules.ViewModels.StepSectionViewModel.$$(Microsoft.Crm.Workflow.ObjectModel.SetVisibilityStep),Mscrm.BusinessRules.ViewModels.ISectionViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.Views.SetVisibilityStepSectionView.registerClass("Mscrm.BusinessRules.Views.SetVisibilityStepSectionView",Mscrm.BusinessRules.Views.StepSectionView.$$(Mscrm.BusinessRules.ViewModels.SetVisibilityStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.SetVisibilityStep));Mscrm.BusinessRules.Views.InlineSetVisibilityStepView.registerClass("Mscrm.BusinessRules.Views.InlineSetVisibilityStepView",Mscrm.BusinessRules.Views.InlineStepViewBase.$$(Mscrm.BusinessRules.ViewModels.SetVisibilityStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.SetVisibilityStep));Mscrm.BusinessRules.Views.InlineSetVisibilityStepEditView.registerClass("Mscrm.BusinessRules.Views.InlineSetVisibilityStepEditView",Mscrm.BusinessRules.Views.InlineStepEditViewBase);Mscrm.BusinessRules.ViewModels.SetMessageStepSectionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.SetMessageStepSectionViewModel",Mscrm.BusinessRules.ViewModels.StepSectionViewModel.$$(Microsoft.Crm.Workflow.ObjectModel.SetMessageStep),Mscrm.BusinessRules.ViewModels.ISectionViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.Views.SetMessageStepSectionView.registerClass("Mscrm.BusinessRules.Views.SetMessageStepSectionView",Mscrm.BusinessRules.Views.StepSectionView.$$(Mscrm.BusinessRules.ViewModels.SetMessageStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.SetMessageStep));Mscrm.BusinessRules.Views.InlineSetMessageStepView.registerClass("Mscrm.BusinessRules.Views.InlineSetMessageStepView",Mscrm.BusinessRules.Views.InlineStepViewBase.$$(Mscrm.BusinessRules.ViewModels.SetMessageStepSectionViewModel,Microsoft.Crm.Workflow.ObjectModel.SetMessageStep));Mscrm.BusinessRules.Views.InlineSetMessageStepEditView.registerClass("Mscrm.BusinessRules.Views.InlineSetMessageStepEditView",Mscrm.BusinessRules.Views.InlineStepEditViewBase);Mscrm.BusinessRules.Views.StepSectionViewFactory.registerClass("Mscrm.BusinessRules.Views.StepSectionViewFactory");Mscrm.BusinessRules.Views.ToolbarView.registerClass("Mscrm.BusinessRules.Views.ToolbarView",Mscrm.BusinessRules.Views.View);Mscrm.BusinessRules.Views.EditToolbarView.registerClass("Mscrm.BusinessRules.Views.EditToolbarView",Mscrm.BusinessRules.Views.ToolbarView);Mscrm.BusinessRules.Views.EditExpressionToolbarView.registerClass("Mscrm.BusinessRules.Views.EditExpressionToolbarView",Mscrm.BusinessRules.Views.EditToolbarView,Mscrm.BusinessRules.Views.IEditToolbarView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.ReadToolBarButtonView.registerClass("Mscrm.BusinessRules.Views.ReadToolBarButtonView",Mscrm.BusinessRules.Views.View,Mscrm.BusinessRules.Views.IReadToolBarButtonView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.ReadToolBarView.registerClass("Mscrm.BusinessRules.Views.ReadToolBarView",Mscrm.BusinessRules.Views.View,Mscrm.BusinessRules.Views.IReadToolBarView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.ActionReadToolBarView.registerClass("Mscrm.BusinessRules.Views.ActionReadToolBarView",Mscrm.BusinessRules.Views.ReadToolBarView,Mscrm.BusinessRules.Views.IActionReadToolBarView,Mscrm.BusinessRules.Views.IReadToolBarView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.ConditionReadToolBarView.registerClass("Mscrm.BusinessRules.Views.ConditionReadToolBarView",Mscrm.BusinessRules.Views.ReadToolBarView,Mscrm.BusinessRules.Views.IConditionReadToolBarView,Mscrm.BusinessRules.Views.IReadToolBarView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.EditStepToolbarView.registerClass("Mscrm.BusinessRules.Views.EditStepToolbarView",Mscrm.BusinessRules.Views.EditToolbarView,Mscrm.BusinessRules.Views.IEditToolbarView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.ViewHelper.registerClass("Mscrm.BusinessRules.Views.ViewHelper");Mscrm.BusinessRules.Views.FormBodyView.registerClass("Mscrm.BusinessRules.Views.FormBodyView",Mscrm.BusinessRules.Views.SectionView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.HeaderView.registerClass("Mscrm.BusinessRules.Views.HeaderView",Mscrm.BusinessRules.Views.View,Mscrm.BusinessRules.Views.IHeaderView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.ManageBusinessRuleView.registerClass("Mscrm.BusinessRules.Views.ManageBusinessRuleView",Mscrm.BusinessRules.Views.View,Mscrm.BusinessRules.Views.IManageBusinessRuleView,Mscrm.BusinessRules.Views.IView,Sys.IDisposable);Mscrm.BusinessRules.Views.FieldControlView.registerClass("Mscrm.BusinessRules.Views.FieldControlView",Mscrm.BusinessRules.Views.View);Mscrm.BusinessRules.Mediators.BindingsMediator.registerClass("Mscrm.BusinessRules.Mediators.BindingsMediator",null,Mscrm.BusinessRules.Mediators.IBindingsMediator,Sys.IDisposable);Mscrm.BusinessRules.Mediators.InlineEditControlMediator.registerClass("Mscrm.BusinessRules.Mediators.InlineEditControlMediator",null,Mscrm.BusinessRules.Mediators.IInlineEditControlMediator);Mscrm.BusinessRules.Proxies.BusinessRuleServiceProxy.registerClass("Mscrm.BusinessRules.Proxies.BusinessRuleServiceProxy",null,Mscrm.BusinessRules.Proxies.IBusinessRuleServiceProxy);Mscrm.BusinessRules.Proxies.JavaScriptSerializerProxy.registerClass("Mscrm.BusinessRules.Proxies.JavaScriptSerializerProxy",null,Mscrm.BusinessRules.Proxies.IJavaScriptSerializerProxy);Mscrm.BusinessRules.Proxies.JQueryObjectProxy.registerClass("Mscrm.BusinessRules.Proxies.JQueryObjectProxy",null,Mscrm.BusinessRules.Proxies.IJQueryObjectProxy);Mscrm.BusinessRules.Proxies.JQueryProxy.registerClass("Mscrm.BusinessRules.Proxies.JQueryProxy",null,Mscrm.BusinessRules.Proxies.IJQueryProxy);Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager",null,Mscrm.BusinessRules.ViewModels.IExpressionComponentStateManager,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.LeftOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.LeftOperandStateManager",Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager,Mscrm.BusinessRules.ViewModels.ILeftOperandStateManager,Mscrm.BusinessRules.ViewModels.IExpressionComponentStateManager,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ArithmeticLeftOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticLeftOperandStateManager",Mscrm.BusinessRules.ViewModels.LeftOperandStateManager);Mscrm.BusinessRules.ViewModels.OperandTypeStateManager.registerClass("Mscrm.BusinessRules.ViewModels.OperandTypeStateManager",Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager);Mscrm.BusinessRules.ViewModels.ArithmeticOperandTypeStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticOperandTypeStateManager",Mscrm.BusinessRules.ViewModels.OperandTypeStateManager);Mscrm.BusinessRules.ViewModels.OperatorStateManager.registerClass("Mscrm.BusinessRules.ViewModels.OperatorStateManager",Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager);Mscrm.BusinessRules.ViewModels.ArithmeticOperatorStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticOperatorStateManager",Mscrm.BusinessRules.ViewModels.OperatorStateManager);Mscrm.BusinessRules.ViewModels.RightOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.RightOperandStateManager",Mscrm.BusinessRules.ViewModels.ExpressionComponentStateManager);Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandStateManager",Mscrm.BusinessRules.ViewModels.RightOperandStateManager);Mscrm.BusinessRules.ViewModels.ExpressionStateManagerBase.registerClass("Mscrm.BusinessRules.ViewModels.ExpressionStateManagerBase",null,Mscrm.BusinessRules.ViewModels.IExpressionStateManager,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ArithmeticExpressionStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticExpressionStateManager",Mscrm.BusinessRules.ViewModels.ExpressionStateManagerBase);Mscrm.BusinessRules.ViewModels.RightInnerOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.RightInnerOperandStateManager",null,Mscrm.BusinessRules.ViewModels.IRightInnerOperandStateManager,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager",Mscrm.BusinessRules.ViewModels.RightInnerOperandStateManager);Mscrm.BusinessRules.ViewModels.ArithmeticRightValueOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticRightValueOperandStateManager",Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager);Mscrm.BusinessRules.ViewModels.RightFieldOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.RightFieldOperandStateManager",Mscrm.BusinessRules.ViewModels.RightInnerOperandStateManager);Mscrm.BusinessRules.ViewModels.ArithmeticRightFieldOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticRightFieldOperandStateManager",Mscrm.BusinessRules.ViewModels.RightFieldOperandStateManager);Mscrm.BusinessRules.ViewModels.RightOperandMetadataCalculator.registerClass("Mscrm.BusinessRules.ViewModels.RightOperandMetadataCalculator",null,Mscrm.BusinessRules.ViewModels.IRightOperandMetadataCalculator);Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandMetadataCalculator.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandMetadataCalculator",Mscrm.BusinessRules.ViewModels.RightOperandMetadataCalculator);Mscrm.BusinessRules.ViewModels.RightSubexpressionOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.RightSubexpressionOperandStateManager",Mscrm.BusinessRules.ViewModels.RightInnerOperandStateManager);Mscrm.BusinessRules.ViewModels.ConditionLeftOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ConditionLeftOperandStateManager",Mscrm.BusinessRules.ViewModels.LeftOperandStateManager);Mscrm.BusinessRules.ViewModels.ConditionOperandTypeStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ConditionOperandTypeStateManager",Mscrm.BusinessRules.ViewModels.OperandTypeStateManager);Mscrm.BusinessRules.ViewModels.ConditionOperatorStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ConditionOperatorStateManager",Mscrm.BusinessRules.ViewModels.OperatorStateManager);Mscrm.BusinessRules.ViewModels.ConditionRightOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ConditionRightOperandStateManager",Mscrm.BusinessRules.ViewModels.RightOperandStateManager);Mscrm.BusinessRules.ViewModels.ConditionExpressionStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ConditionExpressionStateManager",Mscrm.BusinessRules.ViewModels.ExpressionStateManagerBase);Mscrm.BusinessRules.ViewModels.ConditionRightValueOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ConditionRightValueOperandStateManager",Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager);Mscrm.BusinessRules.ViewModels.ConditionRightFieldOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.ConditionRightFieldOperandStateManager",Mscrm.BusinessRules.ViewModels.RightFieldOperandStateManager);Mscrm.BusinessRules.ViewModels.SetAttributeValueExpressionStateManager.registerClass("Mscrm.BusinessRules.ViewModels.SetAttributeValueExpressionStateManager",Mscrm.BusinessRules.ViewModels.ExpressionStateManagerBase);Mscrm.BusinessRules.ViewModels.SetAttributeValueLeftOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.SetAttributeValueLeftOperandStateManager",Mscrm.BusinessRules.ViewModels.LeftOperandStateManager);Mscrm.BusinessRules.ViewModels.SetAttributeValueOperandTypeStateManager.registerClass("Mscrm.BusinessRules.ViewModels.SetAttributeValueOperandTypeStateManager",Mscrm.BusinessRules.ViewModels.OperandTypeStateManager);Mscrm.BusinessRules.ViewModels.SetAttributeValueOperatorStateManager.registerClass("Mscrm.BusinessRules.ViewModels.SetAttributeValueOperatorStateManager",Mscrm.BusinessRules.ViewModels.OperatorStateManager);Mscrm.BusinessRules.ViewModels.SetAttributeValueRightFieldOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.SetAttributeValueRightFieldOperandStateManager",Mscrm.BusinessRules.ViewModels.RightFieldOperandStateManager);Mscrm.BusinessRules.ViewModels.SetAttributeValueRightValueOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.SetAttributeValueRightValueOperandStateManager",Mscrm.BusinessRules.ViewModels.RightValueOperandStateManager);Mscrm.BusinessRules.ViewModels.SetAttributeValueRightOperandStateManager.registerClass("Mscrm.BusinessRules.ViewModels.SetAttributeValueRightOperandStateManager",Mscrm.BusinessRules.ViewModels.RightOperandStateManager);Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping.registerClass("Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping",null,Mscrm.BusinessRules.ViewModels.IExpressionTypeMapping);Mscrm.BusinessRules.ViewModels.BooleanExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.BooleanExpressionMapping",Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping);Mscrm.BusinessRules.ViewModels.DateTimeExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.DateTimeExpressionMapping",Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping);Mscrm.BusinessRules.ViewModels.TextExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.TextExpressionMapping",Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping);Mscrm.BusinessRules.ViewModels.OptionSetOperatorList.registerClass("Mscrm.BusinessRules.ViewModels.OptionSetOperatorList",Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping);Mscrm.BusinessRules.ViewModels.PicklistExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.PicklistExpressionMapping",Mscrm.BusinessRules.ViewModels.OptionSetOperatorList);Mscrm.BusinessRules.ViewModels.StateExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.StateExpressionMapping",Mscrm.BusinessRules.ViewModels.OptionSetOperatorList);Mscrm.BusinessRules.ViewModels.StatusExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.StatusExpressionMapping",Mscrm.BusinessRules.ViewModels.OptionSetOperatorList);Mscrm.BusinessRules.ViewModels.NumberExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.NumberExpressionMapping",Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping);Mscrm.BusinessRules.ViewModels.IntegerExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.IntegerExpressionMapping",Mscrm.BusinessRules.ViewModels.NumberExpressionMapping);Mscrm.BusinessRules.ViewModels.DecimalExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.DecimalExpressionMapping",Mscrm.BusinessRules.ViewModels.NumberExpressionMapping);Mscrm.BusinessRules.ViewModels.FloatExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.FloatExpressionMapping",Mscrm.BusinessRules.ViewModels.NumberExpressionMapping);Mscrm.BusinessRules.ViewModels.MoneyExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.MoneyExpressionMapping",Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping);Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.registerClass("Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache",null,Mscrm.BusinessRules.ViewModels.IExpressionTypeMappingCache);Mscrm.BusinessRules.ViewModels.LookupExpressionMappingBase.registerClass("Mscrm.BusinessRules.ViewModels.LookupExpressionMappingBase",Mscrm.BusinessRules.ViewModels.ExpressionTypeMapping);Mscrm.BusinessRules.ViewModels.LookupExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.LookupExpressionMapping",Mscrm.BusinessRules.ViewModels.LookupExpressionMappingBase);Mscrm.BusinessRules.ViewModels.CustomerExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.CustomerExpressionMapping",Mscrm.BusinessRules.ViewModels.LookupExpressionMappingBase);Mscrm.BusinessRules.ViewModels.OwnerExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.OwnerExpressionMapping",Mscrm.BusinessRules.ViewModels.LookupExpressionMappingBase);Mscrm.BusinessRules.ViewModels.KeyExpressionMapping.registerClass("Mscrm.BusinessRules.ViewModels.KeyExpressionMapping",Mscrm.BusinessRules.ViewModels.LookupExpressionMappingBase);Mscrm.BusinessRules.ViewModels.DefaultValueExpressionBuilder.registerClass("Mscrm.BusinessRules.ViewModels.DefaultValueExpressionBuilder");Mscrm.BusinessRules.ViewModels.OperandEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.OperandEditViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ValueOperandEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ValueOperandEditViewModel",Mscrm.BusinessRules.ViewModels.OperandEditViewModel,Mscrm.BusinessRules.ViewModels.IValueOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.OperandViewModel.registerClass("Mscrm.BusinessRules.ViewModels.OperandViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IOperandViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ValueOperandViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ValueOperandViewModel",Mscrm.BusinessRules.ViewModels.OperandViewModel);Mscrm.BusinessRules.ViewModels.RightOperandViewModel.registerClass("Mscrm.BusinessRules.ViewModels.RightOperandViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IRightOperandViewModel,Mscrm.BusinessRules.ViewModels.IOperandViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandViewModel",Mscrm.BusinessRules.ViewModels.RightOperandViewModel);Mscrm.BusinessRules.ViewModels.RightOperandEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.RightOperandEditViewModel",Mscrm.BusinessRules.ViewModels.OperandEditViewModel,Mscrm.BusinessRules.ViewModels.IRightOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticRightOperandEditViewModel",Mscrm.BusinessRules.ViewModels.RightOperandEditViewModel);Mscrm.BusinessRules.ViewModels.AttributeOperandEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.AttributeOperandEditViewModel",Mscrm.BusinessRules.ViewModels.OperandEditViewModel,Mscrm.BusinessRules.ViewModels.IAttributeOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.AttributeOperandViewModel.registerClass("Mscrm.BusinessRules.ViewModels.AttributeOperandViewModel",Mscrm.BusinessRules.ViewModels.OperandViewModel,Mscrm.BusinessRules.ViewModels.IAttributeOperandViewModel,Mscrm.BusinessRules.ViewModels.IOperandViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ConditionRightOperandViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ConditionRightOperandViewModel",Mscrm.BusinessRules.ViewModels.RightOperandViewModel);Mscrm.BusinessRules.ViewModels.ConditionRightOperandEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ConditionRightOperandEditViewModel",Mscrm.BusinessRules.ViewModels.RightOperandEditViewModel);Mscrm.BusinessRules.ViewModels.ExpressionEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ExpressionEditViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IExpressionEditViewModel,Mscrm.BusinessRules.ViewModels.IOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ConditionExpressionEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ConditionExpressionEditViewModel",Mscrm.BusinessRules.ViewModels.ExpressionEditViewModel,Mscrm.BusinessRules.ViewModels.IExpressionEditViewModel,Mscrm.BusinessRules.ViewModels.IOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ArithmeticExpressionEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticExpressionEditViewModel",Mscrm.BusinessRules.ViewModels.ExpressionEditViewModel);Mscrm.BusinessRules.ViewModels.ExpressionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ExpressionViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IExpressionViewModel,Mscrm.BusinessRules.ViewModels.IOperandViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ConditionExpressionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ConditionExpressionViewModel",Mscrm.BusinessRules.ViewModels.ExpressionViewModel);Mscrm.BusinessRules.ViewModels.ArithmeticExpressionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticExpressionViewModel",Mscrm.BusinessRules.ViewModels.ExpressionViewModel);Mscrm.BusinessRules.ViewModels.ExpressionConverter.registerClass("Mscrm.BusinessRules.ViewModels.ExpressionConverter",null,Microsoft.Crm.Workflow.Expressions.IExpressionVisitor);Mscrm.BusinessRules.ViewModels.LeftOperandViewModel.registerClass("Mscrm.BusinessRules.ViewModels.LeftOperandViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.ILeftOperandViewModel,Mscrm.BusinessRules.ViewModels.IOperandViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.LeftOperandEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.LeftOperandEditViewModel",Mscrm.BusinessRules.ViewModels.OperandEditViewModel,Mscrm.BusinessRules.ViewModels.ILeftOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.OperatorViewModelBase.registerClass("Mscrm.BusinessRules.ViewModels.OperatorViewModelBase",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IOperatorViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.NullOperatorOperatorViewModel.registerClass("Mscrm.BusinessRules.ViewModels.NullOperatorOperatorViewModel",Mscrm.BusinessRules.ViewModels.OperatorViewModelBase);Mscrm.BusinessRules.ViewModels.OperatorEditViewModelBase.registerClass("Mscrm.BusinessRules.ViewModels.OperatorEditViewModelBase",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IOperatorEditViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.NullOperatorEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.NullOperatorEditViewModel",Mscrm.BusinessRules.ViewModels.OperatorEditViewModelBase);Mscrm.BusinessRules.ViewModels.OperandType.registerClass("Mscrm.BusinessRules.ViewModels.OperandType");Mscrm.BusinessRules.ViewModels.OperandTypeViewModel.registerClass("Mscrm.BusinessRules.ViewModels.OperandTypeViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IOperandTypeViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.OperandTypeEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.OperandTypeEditViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IOperandTypeEditViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.OperandViewModelFactory.registerClass("Mscrm.BusinessRules.ViewModels.OperandViewModelFactory");Mscrm.BusinessRules.ViewModels.ConditionOperatorEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ConditionOperatorEditViewModel",Mscrm.BusinessRules.ViewModels.OperatorEditViewModelBase);Mscrm.BusinessRules.ViewModels.ArithmeticOperatorEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticOperatorEditViewModel",Mscrm.BusinessRules.ViewModels.OperatorEditViewModelBase);Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel",Mscrm.BusinessRules.ViewModels.OperatorViewModelBase,Mscrm.BusinessRules.ViewModels.IOperatorViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel",Mscrm.BusinessRules.ViewModels.OperatorViewModelBase);Mscrm.BusinessRules.ViewModels.SetValueRightOperandViewModel.registerClass("Mscrm.BusinessRules.ViewModels.SetValueRightOperandViewModel",Mscrm.BusinessRules.ViewModels.ConditionRightOperandViewModel);Mscrm.BusinessRules.ViewModels.SetValueRightOperandEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.SetValueRightOperandEditViewModel",Mscrm.BusinessRules.ViewModels.ConditionRightOperandEditViewModel);Mscrm.BusinessRules.ViewModels.ConditionsViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ConditionsViewModel",Mscrm.BusinessRules.ViewModels.ViewModel);Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator.registerClass("Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator");Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionEditViewModel.registerClass("Mscrm.BusinessRules.ViewModels.SetAttributeValueStepSectionEditViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.ISetAttributeValueStepSectionEditViewModel,Mscrm.BusinessRules.ViewModels.IExpressionEditViewModel,Mscrm.BusinessRules.ViewModels.IOperandEditViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.DescriptionSectionViewModel.registerClass("Mscrm.BusinessRules.ViewModels.DescriptionSectionViewModel",Mscrm.BusinessRules.ViewModels.SectionViewModel,Mscrm.BusinessRules.ViewModels.IDescriptionSectionViewModel,Mscrm.BusinessRules.ViewModels.ISectionViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ReadToolBarViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ReadToolBarViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IReadToolBarViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ActionReadToolBarViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ActionReadToolBarViewModel",Mscrm.BusinessRules.ViewModels.ReadToolBarViewModel,Mscrm.BusinessRules.ViewModels.IActionReadToolBarViewModel,Mscrm.BusinessRules.ViewModels.IReadToolBarViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ConditionReadToolBarViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ConditionReadToolBarViewModel",Mscrm.BusinessRules.ViewModels.ReadToolBarViewModel,Mscrm.BusinessRules.ViewModels.IConditionReadToolBarViewModel,Mscrm.BusinessRules.ViewModels.IReadToolBarViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ReadToolBarButtonViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ReadToolBarButtonViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IReadToolBarButtonViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.FormBodyViewModel.registerClass("Mscrm.BusinessRules.ViewModels.FormBodyViewModel",Mscrm.BusinessRules.ViewModels.SectionViewModel,Mscrm.BusinessRules.ViewModels.IFormBodyViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.ManageBusinessRuleViewModel.registerClass("Mscrm.BusinessRules.ViewModels.ManageBusinessRuleViewModel",Mscrm.BusinessRules.ViewModels.ViewModel,Mscrm.BusinessRules.ViewModels.IManageBusinessRuleViewModel,Mscrm.BusinessRules.ViewModels.IViewModel,Sys.INotifyPropertyChange,Sys.IDisposable);Mscrm.BusinessRules.ViewModels.FieldControlViewModel.registerClass("Mscrm.BusinessRules.ViewModels.FieldControlViewModel",Mscrm.BusinessRules.ViewModels.ViewModel);Mscrm.BusinessRules.ViewModels.ExpressionAdaptorFactory.registerClass("Mscrm.BusinessRules.ViewModels.ExpressionAdaptorFactory");Mscrm.BusinessRules.ViewModels.BinaryExpressionAdaptor.registerClass("Mscrm.BusinessRules.ViewModels.BinaryExpressionAdaptor",Mscrm.BusinessRules.ViewModels.ExpressionAdaptorBase.$$(Microsoft.Crm.Workflow.Expressions.BinaryExpression));Mscrm.BusinessRules.ViewModels.UnaryExpressionAdaptor.registerClass("Mscrm.BusinessRules.ViewModels.UnaryExpressionAdaptor",Mscrm.BusinessRules.ViewModels.ExpressionAdaptorBase.$$(Microsoft.Crm.Workflow.Expressions.UnaryExpression));Mscrm.BusinessRules.ViewModels.ArithmeticMethodCallExpressionAdaptor.registerClass("Mscrm.BusinessRules.ViewModels.ArithmeticMethodCallExpressionAdaptor",Mscrm.BusinessRules.ViewModels.ExpressionAdaptorBase.$$(Microsoft.Crm.Workflow.Expressions.MethodCallExpression));Mscrm.BusinessRules.ViewModels.StepSectionViewModelFactory.registerClass("Mscrm.BusinessRules.ViewModels.StepSectionViewModelFactory");Mscrm.MaskPanel.$37=null;Mscrm.MaskPanel.$36=String.format("<div class='{0}'></div>","maskPanel");Mscrm.MaskPanel.$4f=String.format("\r\n<div class='{0}'>\r\n\t<div class='{1}'>\r\n\t\t<div></div>\r\n\t</div>\r\n\t<div class='{2}'>\r\n\t\t<div></div>\r\n\t</div>\r\n</div>","resize-sensor","resize-expand","resize-shrink");Mscrm.BusinessRulesGrid.$2M=null;Mscrm.BusinessRulesGrid.businessRuleUrlConstant="BRGrid";Mscrm.BusinessRules.BusinessRuleStepChromeStateData.stepValueContentClickedPropertyName="StepValueContentClicked";Mscrm.BusinessRules.BusinessRuleEntityManager.$U=null;Mscrm.BusinessRules.BusinessRuleInitializer.$15=null;Mscrm.BusinessRules.BusinessRuleManager.$U=null;Mscrm.BusinessRules.Constants.headerViewContainerId="HeaderViewContainer";Mscrm.BusinessRules.Constants.bodyViewContainerId="BodyViewContainer";Mscrm.BusinessRules.Constants.stepCollectionIdFormat="{0}_collection";Mscrm.BusinessRules.Constants.sectionIdFormat="{0}_section";Mscrm.BusinessRules.Constants.sectionHeaderIdFormat="{0}_header";Mscrm.BusinessRules.Constants.sectionBodyIdFormat="{0}_body";Mscrm.BusinessRules.Constants.descriptionSectionId="descriptionsection";Mscrm.BusinessRules.Constants.descriptionChromeId="descriptionsection_chrome";Mscrm.BusinessRules.Constants.scopeContainerId="scopecontainer";Mscrm.BusinessRules.Constants.expressionIdFormat="{0}_{1}_expression";Mscrm.BusinessRules.Constants.actionIdFormat="{0}_action";Mscrm.BusinessRules.Constants.imageIdFormat="{0}_image";Mscrm.BusinessRules.Constants.stepIdDataAttributeName="data-stepid";Mscrm.BusinessRules.Constants.scopeValueDataAttributeName="data-scopevalue";Mscrm.BusinessRules.Constants.actionSectionName="action";Mscrm.BusinessRules.Constants.conditionSectionName="condition";Mscrm.BusinessRules.Constants.badData="for(;;);";Mscrm.BusinessRules.Constants.descriptionSectionName="description";Mscrm.BusinessRules.Constants.inlineChromeIdFormat="{0}_chrome";Mscrm.BusinessRules.Constants.conditionDoneImageUrl="/_imgs/BusinessRuleEditor/ConditionButton_OK_Default_24.png";Mscrm.BusinessRules.Constants.conditionHoverDoneImageUrl="/_imgs/BusinessRuleEditor/ConditionButton_OK_Hover_24.png";Mscrm.BusinessRules.Constants.conditionSelectDoneImageUrl="/_imgs/BusinessRuleEditor/ConditionButton_OK_Select_24.png";Mscrm.BusinessRules.Constants.conditionCloseImageUrl="/_imgs/BusinessRuleEditor/ConditionButton_Cancel_Default_24.png";Mscrm.BusinessRules.Constants.conditionHoverCloseImageUrl="/_imgs/BusinessRuleEditor/ConditionButton_Cancel_Hover_24.png";Mscrm.BusinessRules.Constants.conditionSelectCloseImageUrl="/_imgs/BusinessRuleEditor/ConditionButton_Cancel_Select_24.png";Mscrm.BusinessRules.Constants.actionDoneImageUrl="/_imgs/BusinessRuleEditor/ActionButton_OK_Default_24.png";Mscrm.BusinessRules.Constants.actionHoverDoneImageUrl="/_imgs/BusinessRuleEditor/ActionButton_OK_Hover_24.png";Mscrm.BusinessRules.Constants.actionSelectDoneImageUrl="/_imgs/BusinessRuleEditor/ActionButton_OK_Select_24.png";Mscrm.BusinessRules.Constants.actionCloseImageUrl="/_imgs/BusinessRuleEditor/ActionButton_Cancel_Default_24.png";Mscrm.BusinessRules.Constants.actionHoverCloseImageUrl="/_imgs/BusinessRuleEditor/ActionButton_Cancel_Hover_24.png";Mscrm.BusinessRules.Constants.actionSelectCloseImageUrl="/_imgs/BusinessRuleEditor/ActionButton_Cancel_Select_24.png";Mscrm.BusinessRules.Constants.plusImageUrl="/_imgs/BusinessRuleEditor/plussign.png";Mscrm.BusinessRules.Constants.hoverPlusImageUrl="/_imgs/BusinessRuleEditor/hoverplussign.png";Mscrm.BusinessRules.Constants.autoCompleteDropDownIcon="/_imgs/ProcessControl/dropdown.png";Mscrm.BusinessRules.Constants.deleteIconUrl="/_imgs/BusinessRuleEditor/delete.png";Mscrm.BusinessRules.Constants.hoverDeleteIconUrl="/_imgs/BusinessRuleEditor/hoverdelete.png";Mscrm.BusinessRules.Constants.moveUpIconUrl="/_imgs/BusinessRuleEditor/moveup.png";Mscrm.BusinessRules.Constants.hoverMoveUpIconUrl="/_imgs/BusinessRuleEditor/hovermoveup.png";Mscrm.BusinessRules.Constants.moveDownIconUrl="/_imgs/BusinessRuleEditor/movedown.png";Mscrm.BusinessRules.Constants.hoverMoveDownIconUrl="/_imgs/BusinessRuleEditor/hovermovedown.png";Mscrm.BusinessRules.Constants.headerClickImageDownUrl="/_imgs/BusinessRuleEditor/section_down.png";Mscrm.BusinessRules.Constants.headerClickImageRightUrl="/_imgs/BusinessRuleEditor/section_right.png";Mscrm.BusinessRules.Constants.htmlAttributeForHeaderId="data-headerid";Mscrm.BusinessRules.Constants.htmlAttributeForBodyId="data-bodyid";Mscrm.BusinessRules.Constants.htmlAttributeForImageId="data-imageid";Mscrm.BusinessRules.Constants.attributeViewModelIdSuffix="attributeEx";Mscrm.BusinessRules.Constants.primitiveViewModelIdSuffix="primitiveEx";Mscrm.BusinessRules.Constants.expressionViewModelIdSuffix="subExpression";Mscrm.BusinessRules.Constants.rightOperandIdFormat="{0}_{1}";Mscrm.BusinessRules.Constants.leftOperandContainerIdFormat="{0}_lefopcon";Mscrm.BusinessRules.Constants.rightOperandContainerIdFormat="{0}_rigopcon";Mscrm.BusinessRules.Constants.conditionOperatorContainerIdFormat="{0}_conopcon";Mscrm.BusinessRules.Constants.operandTypeContainerIdFormat="{0}_optycon";Mscrm.BusinessRules.Constants.stepContentContainerIdFormat="{0}_stepcontent";Mscrm.BusinessRules.Constants.inlineControlRepositoryUniqueKeyFormat="{0}_{1}_{2}";Mscrm.BusinessRules.Constants.leftOperandReadModeContainerIdFormat="{0}_rm_lefopcon";Mscrm.BusinessRules.Constants.rightOperandReadModeContainerIdFormat="{0}_rm_rigopcon";Mscrm.BusinessRules.Constants.conditionOperatorReadModeContainerIdFormat="{0}_rm_conopcon";Mscrm.BusinessRules.Constants.expressionPrefixReadModeContainerIdFormat="{0}_rm_expprefix";Mscrm.BusinessRules.Constants.maxLengthRuleName=100;Mscrm.BusinessRules.Constants.initBusinessRuleAttribute="headerbusinessrulename";Mscrm.BusinessRules.Constants.noneOperator=-1;Mscrm.BusinessRules.ClientVariable.businessRuleJsonData="_BusinessRuleJsonData";Mscrm.BusinessRules.ClientVariable.businessRuleEditorJsonData="_BusinessRuleEditorJsonData";Mscrm.BusinessRules.CssClassName.action="action";Mscrm.BusinessRules.CssClassName.actionCollection="actioncollection";Mscrm.BusinessRules.CssClassName.actionContent="actioncontent";Mscrm.BusinessRules.CssClassName.actionDropDownItem="actiondropdownitem";Mscrm.BusinessRules.CssClassName.actionDropDownItemContent="actiondropdownitemcontent";Mscrm.BusinessRules.CssClassName.addControlImage="addcontrol";Mscrm.BusinessRules.CssClassName.blink="blink";Mscrm.BusinessRules.CssClassName.conditionOperator="conditionoperator";Mscrm.BusinessRules.CssClassName.descriptionSection="descriptionsection";Mscrm.BusinessRules.CssClassName.editDiscardImage="editdiscardimage";Mscrm.BusinessRules.CssClassName.editDoneImage="editdoneimage";Mscrm.BusinessRules.CssClassName.editExpressionAndToolBarContainer="editexpressionandtoolbarcontainer";Mscrm.BusinessRules.CssClassName.editExpressionContainer="editexpressioncontainer";Mscrm.BusinessRules.CssClassName.editHotspot="edithotspot";Mscrm.BusinessRules.CssClassName.editSectionHeader="sectionheader";Mscrm.BusinessRules.CssClassName.editSectionBody="sectionbody";Mscrm.BusinessRules.CssClassName.editSectionCell="sectioncell";Mscrm.BusinessRules.CssClassName.editSectionCellLabel="celllabel";Mscrm.BusinessRules.CssClassName.editSectionCellValue="cellvalue";Mscrm.BusinessRules.CssClassName.editStepAndToolBarContainer="editstepandtoolbarcontainer";Mscrm.BusinessRules.CssClassName.editStepContainer="editstepcontainer";Mscrm.BusinessRules.CssClassName.editSectionCellSetMessageFieldContainer="sectioncellsetmessagefieldcontainer";Mscrm.BusinessRules.CssClassName.editSectionCellSetMessageContainer="sectioncellsetmessagecontainer";Mscrm.BusinessRules.CssClassName.editCellValueSetMessageContainer="cellvaluesetmessagecontainer";Mscrm.BusinessRules.CssClassName.editSetMessageContainer="editsetmessagecontainer";Mscrm.BusinessRules.CssClassName.editToolBar="edittoolbar";Mscrm.BusinessRules.CssClassName.editToolBarContainer="edittoolbarcontainer";Mscrm.BusinessRules.CssClassName.expression="expression";Mscrm.BusinessRules.CssClassName.expressionCollection="expressioncollection";Mscrm.BusinessRules.CssClassName.expressionContent="expressioncontent";Mscrm.BusinessRules.CssClassName.hideSection="hidesection";Mscrm.BusinessRules.CssClassName.hotspot="hotspot";Mscrm.BusinessRules.CssClassName.inlineChrome="ms-crm-Inline-Chrome";Mscrm.BusinessRules.CssClassName.inlineValue="ms-crm-Inline-Value";Mscrm.BusinessRules.CssClassName.expressionPrefix="expressionprefix";Mscrm.BusinessRules.CssClassName.operand="operand";Mscrm.BusinessRules.CssClassName.rightOperand="rightoperand";Mscrm.BusinessRules.CssClassName.ruleTitleContent="ruletitlecontent";Mscrm.BusinessRules.CssClassName.ruleEntityName="ruleentityname";Mscrm.BusinessRules.CssClassName.scopeSelector="scopeselector";Mscrm.BusinessRules.CssClassName.scopeSelectorElement="scopeselectorelement";Mscrm.BusinessRules.CssClassName.scopeSelectorLabel="scopeselectorlabel";Mscrm.BusinessRules.CssClassName.sectionBody="sectionbody";Mscrm.BusinessRules.CssClassName.sectionHeaderContainer="sectionheadercontainer";Mscrm.BusinessRules.CssClassName.sectionHeader="sectionheader";Mscrm.BusinessRules.CssClassName.sectionHeaderImage="sectionheaderimage";Mscrm.BusinessRules.CssClassName.sectionHeaderText="sectionheadertext";Mscrm.BusinessRules.CssClassName.workflowRootStep="workflowRootStep";Mscrm.BusinessRules.CssClassName.moreSections="moreSections";Mscrm.BusinessRules.CssClassName.arrowCollapsedImage="arrowcollapsedimage";Mscrm.BusinessRules.CssClassName.arrowCollapsedImageStyle="arrowcollapsedimagestyle";Mscrm.BusinessRules.CssClassName.leftOperandContainer="lefopcon";Mscrm.BusinessRules.CssClassName.rightOperandContainer="rigopcon";Mscrm.BusinessRules.CssClassName.conditionOperatorContainer="conopcon";Mscrm.BusinessRules.CssClassName.operandTypeContainer="optycon";Mscrm.BusinessRules.CssClassName.rightOperandContainerTypeCssFormat="rigopcon_{0}";Mscrm.BusinessRules.CssClassName.expressionCellLabel="expressioncelllabel";Mscrm.BusinessRules.CssClassName.expressionCellBody="expressioncellbody";Mscrm.BusinessRules.CssClassName.hideControl="hidecontrol";Mscrm.BusinessRules.CssClassName.ruleHelpIconCommandBarClass="commandBarMenu";Mscrm.BusinessRules.CssClassName.ruleHelpIconDisplayClass="ruledisplayhelp";Mscrm.BusinessRules.HtmlFormat.binaryExpressionFormat=Mscrm.BusinessRules.SharedMethods.formatTemplate.apply(null,["<span class='{0}' id='{8}'>{1}</span>&nbsp;<span class='{2}' id='{9}'>{3}</span>&nbsp;<span class='{4}' id='{10}'>{5}</span>&nbsp;<span class='{6}' id='{11}'>{7}</span>"].concat(["expressionprefix","{0}","operand","{1}","conditionoperator","{2}","rightoperand","{3}","{4}","{5}","{6}","{7}"]));Mscrm.BusinessRules.HtmlFormat.unaryExpressionFormat=Mscrm.BusinessRules.SharedMethods.formatTemplate.apply(null,["<span class='{0}' id='{6}'>{1}</span>&nbsp;<span class='{2}' id='{7}'>{3}</span>&nbsp;<span class='{4}' id='{8}'>{5}</span>"].concat(["expressionprefix","{0}","operand","{1}","conditionoperator","{2}","{3}","{4}","{5}"]));Mscrm.BusinessRules.HtmlFormat.inlineControlChromeHtml=Mscrm.BusinessRules.SharedMethods.formatTemplate.apply(null,["<div class='{0}' id='{2}'><div class='{1}'></div></div>"].concat(["ms-crm-Inline-Chrome","ms-crm-Inline-Value","{0}"]));Mscrm.BusinessRules.HtmlFormat.stepStartFormat=Mscrm.BusinessRules.SharedMethods.formatTemplate("<div class='{0}' id='{1}'>","action","{0}");Mscrm.BusinessRules.HtmlFormat.stepInlineHtmlStartFormat=Mscrm.BusinessRules.SharedMethods.formatTemplate("<div tabindex='0' class='{0}' id ='{1}' aria-describedby='{4}'><div class='{2}'><div class='{3}' id='{4}'>","action ms-crm-Inline-Chrome","{0}","action ms-crm-Inline-Value","actioncontent","{1}");Mscrm.BusinessRules.HtmlFormat.stepInlineHtmlEndFormat="</div></div></div>";Mscrm.BusinessRules.HtmlFormat.stepEndFormat="</div>";Mscrm.BusinessRules.HtmlFormat.actionFieldDisplayFormat="<b>{0}</b>";Mscrm.BusinessRules.HtmlFormat.actionMessageDisplayFormat='<b>"{0}"</b>';Mscrm.BusinessRules.HtmlFormat.actionValueDisplayFormat="<b>{0}</b>";Mscrm.BusinessRules.HtmlFormat.expressionStartFormat=Mscrm.BusinessRules.SharedMethods.formatTemplate("<div class='{0}' id='{1}'>","expression","{0}");Mscrm.BusinessRules.HtmlFormat.expressionInlineHtmlStartFormat=Mscrm.BusinessRules.SharedMethods.formatTemplate("<div tabindex='0' class='{0}' id ='{1}' aria-describedby='{4}'><div class='{2}'><div class='{3}'>","expression ms-crm-Inline-Chrome","{0}","expression ms-crm-Inline-Value","expressioncontent","{1}");Mscrm.BusinessRules.HtmlFormat.expressionInlineHtmlEndFormat="</div></div></div>";Mscrm.BusinessRules.HtmlFormat.expressionEndFormat="</div>";Mscrm.BusinessRules.HtmlFormat.expressionComponentHtmlFormat="<div class='{0}'>{1}</div><div class='{2}' id='{4}'>{3}</div>";Mscrm.BusinessRules.HtmlElementNames.input="INPUT";Mscrm.BusinessRules.HtmlElementNames.table="TABLE";Mscrm.BusinessRules.HtmlElementNames.tableRow="TR";Mscrm.BusinessRules.HtmlElementNames.tableData="TD";Mscrm.BusinessRules.HtmlElementNames.div="DIV";Mscrm.BusinessRules.HtmlElementNames.span="SPAN";Mscrm.BusinessRules.HtmlElementNames.label="LABEL";Mscrm.BusinessRules.HtmlElementNames.listItem="LI";Mscrm.BusinessRules.HtmlElementNames.image="IMG";Mscrm.BusinessRules.HtmlElementNames.unorderedList="UL";Mscrm.BusinessRules.HtmlAttributeNames.cssClass="class";Mscrm.BusinessRules.HtmlAttributeNames.id="id";Mscrm.BusinessRules.HtmlAttributeNames.tabIndex="tabindex";Mscrm.BusinessRules.HtmlAttributeNames.href="href";Mscrm.BusinessRules.HtmlAttributeNames.title="title";Mscrm.BusinessRules.HtmlAttributeNames.style="style";Mscrm.BusinessRules.HtmlAttributeNames.src="src";Mscrm.BusinessRules.HtmlAttributeNames.colSpan="colspan";Mscrm.BusinessRules.HtmlAttributeNames.ariaDescribedBy="aria-describedby";Mscrm.BusinessRules.PBLEditorIds.addActionButton="AddActionButton";Mscrm.BusinessRules.PBLEditorIds.addConditionButton="AddConditionButton";Mscrm.BusinessRules.PBLEditorIds.businessRuleName="BusinessRuleName";Mscrm.BusinessRules.PBLEditorIds.ruleEntityName="RuleEntityName";Mscrm.BusinessRules.PBLEditorIds.saveButton="saveButton";Mscrm.BusinessRules.PBLEditorIds.scopeLabel="scopeLabel";Mscrm.BusinessRules.PBLEditorIds.scopeSelector="ScopeSelector";Mscrm.BusinessRules.PBLEditorIds.saveAsButton="saveAsButton";Mscrm.BusinessRules.PBLEditorIds.saveAndCloseButton="saveAndCloseButton";Mscrm.BusinessRules.PBLEditorIds.activateButton="activateButton";Mscrm.BusinessRules.PBLEditorIds.footerActivatedState="footerActivatedState";Mscrm.BusinessRules.PBLEditorIds.footerReadOnlyState="footerReadOnlyState";Mscrm.BusinessRules.PBLEditorIds.helpButton="helpButton";Mscrm.BusinessRules.ActionMenuCommands.showMessage="ShowMessage";Mscrm.BusinessRules.ActionMenuCommands.setField="SetField";Mscrm.BusinessRules.ActionMenuCommands.setBusiness="SetBusiness";Mscrm.BusinessRules.ActionMenuCommands.setVisibility="SetVisibility";Mscrm.BusinessRules.ActionMenuCommands.setReadWrite="SetReadWrite";Mscrm.BusinessRules.Bindings.KeyDownBinding.tabKeyCode=9;Mscrm.BusinessRules.Bindings.KeyDownBinding.enterKeyCode=13;Mscrm.BusinessRules.Bindings.KeyDownBinding.eventName="keydown";Mscrm.BusinessRules.Builders.ReadToolBarButtonViewBuilder.buttonHtmlFormat='<a role="menuitem" class="ms-crm-Button" aria-label="{0}" title="{0}"></a>';Mscrm.BusinessRules.Commands.SaveCommand.$38=null;Mscrm.BusinessRules.Commands.SaveCommand.$2w=null;Mscrm.BusinessRules.Views.InlineSetDisplayModeStepEditView.$1D=0;Mscrm.BusinessRules.Views.InlineSetRequiredLevelStepEditView.$1D=0;Mscrm.BusinessRules.Views.InlineSetVisibilityStepEditView.$1D=0;Mscrm.BusinessRules.Views.InlineSetMessageStepEditView.$1D=0;Mscrm.BusinessRules.Views.ViewHelper.$3L=null;Mscrm.BusinessRules.Views.ViewHelper.$2v=null;Mscrm.BusinessRules.ViewModels.ExpressionTypeMappingCache.$U=null;Mscrm.BusinessRules.ViewModels.ValueOperandEditViewModel.valueMetadataChangedProperty="ValueMetadataChanged";Mscrm.BusinessRules.ViewModels.ValueOperandEditViewModel.valueChangedProperty="ValueChanged";Mscrm.BusinessRules.ViewModels.ValueOperandEditViewModel.hideControlProperty="HideControl";Mscrm.BusinessRules.ViewModels.ValueOperandEditViewModel.showControlProperty="ShowControl";Mscrm.BusinessRules.ViewModels.AttributeOperandEditViewModel.attributeSelectedValue="AttributeSelectedValue";Mscrm.BusinessRules.ViewModels.AttributeOperandEditViewModel.filteredAttributesValue="FilteredAttributesValue";Mscrm.BusinessRules.ViewModels.ExpressionViewModel.leftOperandPropertyValue="LeftOperandProperty";Mscrm.BusinessRules.ViewModels.ExpressionViewModel.rightOperandPropertyValue="RightOperandProperty";Mscrm.BusinessRules.ViewModels.ExpressionViewModel.operatorPropertyValue="OperatorProperty";Mscrm.BusinessRules.ViewModels.ExpressionViewModel.operatorTypePropertyValue="OperandTypeProperty";Mscrm.BusinessRules.ViewModels.LeftOperandEditViewModel.operandChangedPropertyValue="OperandChangedProperty";Mscrm.BusinessRules.ViewModels.OperandType.none=-1;Mscrm.BusinessRules.ViewModels.OperandType.field=0;Mscrm.BusinessRules.ViewModels.OperandType.value=1;Mscrm.BusinessRules.ViewModels.OperandType.expression=2;Mscrm.BusinessRules.ViewModels.OperandTypeEditViewModel.operandTypeValueProperty="OperandTypeValue";Mscrm.BusinessRules.ViewModels.OperandTypeEditViewModel.filteredOperandTypeListProperty="FilteredOperandTypeList";Mscrm.BusinessRules.ViewModels.OperatorEditViewModelBase.filteredOperatorListPropertyValue="FilteredOperatorListProperty";Mscrm.BusinessRules.ViewModels.OperatorEditViewModelBase.operatorPropertyValue="OperatorProperty";Mscrm.BusinessRules.ViewModels.ConditionOperatorViewModel.$z=null;Mscrm.BusinessRules.ViewModels.ArithmeticOperatorViewModel.$z=null;Mscrm.BusinessRules.ViewModels.RightOperandEditViewModel.operandChangedProperty="OperandChangedPropertyValue";Mscrm.BusinessRules.ViewModels.ExpressionUniqueIdGenerator.$U=null;Mscrm.BusinessRules.ViewModels.DescriptionSectionViewModel.descriptionValueProperty="descriptionproperty";Mscrm.BusinessRules.ViewModels.SetDisplayModeStepSectionViewModel.controlIdPropertyValue="ControlIdProperty";Mscrm.BusinessRules.ViewModels.SetDisplayModeStepSectionViewModel.isReadOnlyPropertyValue="IsReadOnlyProperty";Mscrm.BusinessRules.ViewModels.SetRequiredLevelStepSectionViewModel.controlIdPropertyValue="ControlIdProperty";Mscrm.BusinessRules.ViewModels.SetRequiredLevelStepSectionViewModel.requiredLevelPropertyValue="RequiredLevel";Mscrm.BusinessRules.ViewModels.SetVisibilityStepSectionViewModel.controlIdPropertyValue="ControlIdProperty";Mscrm.BusinessRules.ViewModels.SetVisibilityStepSectionViewModel.isVisiblePropertyValue="IsVisibleProperty";Mscrm.BusinessRules.ViewModels.SetMessageStepSectionViewModel.controlIdPropertyValue="ControlIdProperty";Mscrm.BusinessRules.ViewModels.SetMessageStepSectionViewModel.messagePropertyValue="MessageProperty";Mscrm.BusinessRules.ViewModels.ReadToolBarButtonViewModel.selectedPropertyName="Selected";Mscrm.BusinessRules.ViewModels.ReadToolBarViewModel.selectedButtonViewModelPropertyName="SelectedButtonViewModel";Mscrm.BusinessRules.ViewModels.FieldControlViewModel.fieldChangedPropertyValue="FieldChangedProperty";Mscrm.BusinessRules.ViewModels.FieldControlViewModel.unselectedFieldIndex="-1";Mscrm.BusinessRules.ViewModels.FieldControlViewModel.filteredAttributeListPropertyValue="FilteredAttributeListProperty"