Type.registerNamespace("Mscrm");Mscrm.IGridControl=function(){};Mscrm.IGridControl.registerInterface("Mscrm.IGridControl");Mscrm.EntityReference=function(){};Mscrm.$G6=function(){};Mscrm.$G6.prototype={$1C9:function(a,d,e){var c=Mscrm.$G6.$hj.toString(0).toLowerCase(),f=new RegExp("[-()\\s]","g");a=a.replace(f,"");var g=new RegExp("live:|skype:","i");a=a.replace(g,"");var b=a;if(e.toLowerCase()==="false")c=Mscrm.$G6.$hj.toString(1).toLowerCase();var h=new RegExp("^[0-9]","i");if(h.test(a)&&!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(d))b=c+":"+d+a;else b=c+":"+a;if(e.toLowerCase()==="true")b+="?call";return b}};Mscrm.$G6.$hj=function(){};Mscrm.$G6.$hj.prototype={skype:0,tel:1};Mscrm.$G6.$hj.registerEnum("Mscrm.$G6.$hj",false);Mscrm.CrmUri=function(a){IsNull(a)||!a.startsWith("/");if(Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$28.usepathbasedurls){var b=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CI().context.getOrgUniqueName();a="/"+b+a}this.$27T(a);this.$z0=a};Mscrm.CrmUri.create=function(a){return new Mscrm.CrmUri(a)};Mscrm.CrmUri.prototype={$z0:null,$q:null,$1g:null,$15j:null,$Zl:null,$1Cv:false,get_query:function(){if(!this.$15j)this.$15j=this.$1dc(this.$1g);return this.$15j},$27T:function(e){this.$q=e;this.$1g="";this.$Zl="";var b=this.$q.indexOf("?"),a=this.$q.indexOf("#"),c=-1;if(b!==-1){var d=a>b?a:this.$q.length;this.$1g=this.$q.substr(b,d-b);c=b}if(a!==-1){this.$Zl=CrmEncodeDecode.CrmUrlDecode(this.$q.substr(a+1));if(c===-1||a<c)c=a;if(b>a)this.$1g=""}if(c!==-1)this.$q=this.$q.substr(0,c)},$1dc:function(b){var e={};if(!b||!b.length)return e;var c=1,d,a;while(c<b.length){d=b.indexOf("&",c);if(d===-1)d=b.length;a=b.indexOf("=",c);if(a>d)a=-1;if(a!==-1&&a<d){var f=b.substr(c,a-c),g=b.substr(a+1,d-a-1);e[CrmEncodeDecode.CrmUrlDecode(f)]=CrmEncodeDecode.CrmUrlDecode(g)}else if(this.$1Cv&&a===-1){var h=b.substr(c,d-c);e[CrmEncodeDecode.CrmUrlDecode(h)]=null}c=d+1}return e},toString:function(){this.$1C9();return this.$z0},$1C9:function(){this.$2Gu();var a=new Sys.StringBuilder;a.append(this.$q);a.append(this.$1g);if(this.$Zl.length>0){a.append("#");a.append(this.$Zl)}this.$z0=a.toString()},$2Gu:function(){var d=this.get_query(),a=new Sys.StringBuilder,b=[],g=0,e=d;for(var f in e){var i={key:f,value:e[f]};b[g++]=i.key}b.sort();for(var h=true,c=0;c<g;c++){if(h){h=false;a.append("?")}else a.append("&");a.append(CrmEncodeDecode.CrmUrlEncode(b[c]));if(!this.$1Cv||!IsNull(d[b[c]])){a.append("=");a.append(CrmEncodeDecode.CrmUrlEncode(d[b[c]]))}}this.$1g=a.toString()}};Type.registerNamespace("Microsoft.Dynamics.Client.Core.Models");Microsoft.Dynamics.Client.Core.Models.$9R=function(){this.$hd=4;this.$hY=new Array(0)};Microsoft.Dynamics.Client.Core.Models.$9R.$Z4=function(a,b){return new Date(a,b,0).getDate()};Microsoft.Dynamics.Client.Core.Models.$9R.prototype={$TR:0,$Ow:0,$hf:0,$Z3:null,$LV:null,$Ou:null,$1aa:function(d,a,c){if(c>=0&&c<5)this.$1an(d,a,c);else if(c===5)this.$1ak(d,a);else if(c===6)this.$1al(d,a);else{var b=new Microsoft.Dynamics.Client.Core.Models.$7m;b.FieldName=d;if(a)if(Object.getType(a)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference)b.Value=a.Id.toString();else if(Object.getType(a)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$11)b.Value=a.$1w.toString();else b.Value=a.toString();else b.Value=null;this.$hY[this.$hY.length]=b}},$1ak:function(c,b){if(!this.$LV){if(!b)return;this.$LV=new Microsoft.Dynamics.Client.Core.Models.$9h;this.$LV.FiscalType="in-fiscal-period-and-year";this.$LV.FieldName=c;var a=b.split("-");this.$LV.Year=Number.parseInvariant(a[0]);this.$LV.Period=Number.parseInvariant(a[1])}else throw Error.create("only one Fiscal period aggregator is supported");},$1al:function(a,b){if(!this.$Ou){this.$Ou=new Microsoft.Dynamics.Client.Core.Models.$9i;this.$Ou.FiscalType="in-fiscal-year";this.$Ou.FieldName=a;this.$Ou.Year=b}else throw Error.create("only one Fiscal year aggregator is supported");},$1an:function(b,a,c){if(!this.$Z3)this.$Z3=b;else if(this.$Z3!==b)throw Error.create("only one DateTime aggregator is supported");switch(c){case 0:this.$TR=a;break;case 1:this.$TR=7*a;break;case 2:this.$Ow=a;break;case 3:this.$Ow=3*a;break;case 4:this.$hf=a;break;default:throw Error.create("not supported");}this.$hd=Math.min(c,this.$hd)},$1oh:function(){if(!this.$Z3||!this.$hf)return null;var a=new Microsoft.Dynamics.Client.Core.Models.$9g;a.FieldName=this.$Z3;this.$TR=!this.$TR?Microsoft.Dynamics.Client.Core.Models.$9R.$Z4(this.$hf,this.$Ow):this.$TR;this.$Ow=!this.$Ow?12:this.$Ow;a.MaxDate=new Date(this.$hf,this.$Ow-1,this.$TR,23,59,59);switch(this.$hd){case 0:a.MinDate=new Date(a.MaxDate.getFullYear(),a.MaxDate.getMonth(),a.MaxDate.getDate()-1);break;case 1:a.MinDate=new Date(a.MaxDate.getFullYear(),a.MaxDate.getMonth(),a.MaxDate.getDate()-7);break;case 2:a.MinDate=new Date(a.MaxDate.getFullYear(),a.MaxDate.getMonth()-1,a.MaxDate.getDate());break;case 3:a.MinDate=new Date(a.MaxDate.getFullYear(),a.MaxDate.getMonth()-3,a.MaxDate.getDate());break;case 4:a.MinDate=new Date(a.MaxDate.getFullYear()-1,a.MaxDate.getMonth(),a.MaxDate.getDate());break;default:throw Error.create("not supported");}return a},$1oJ:function(){var a=this.$hY,b=this.$1oh();if(b)a=a.concat(b);if(this.$LV)a=a.concat(this.$LV);if(this.$Ou)a=a.concat(this.$Ou);return a}};Type.registerNamespace("Xrm");Xrm.DialogOptions=function(){this.width=Number.NaN;this.height=Number.NaN;this.left=Number.NaN;this.top=Number.NaN};Xrm.NotificationLevels=function(){};Xrm.RequiredLevel=function(){};Xrm.Internal=function(){};Xrm.Internal.getEntityName=function(a){var d=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$1Iv(a);if(!$a.$0.$0(d))return d.$1Q;var b=Xrm.Internal.$iN;for(var c in b){var e={key:c,value:b[c]};if(e.value===a)return e.key}return null};Xrm.Internal.getEntityCode=function(a){var b=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(a);return!$a.$0.$0(b)?b.$bR:a in Xrm.Internal.$iN?Xrm.Internal.$iN[a]:-1};Xrm.Internal.getResourceString=function(a){return!$a.$0.$0(a)?Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S(a):null};Xrm.Internal.openDialog=function(f,b,c,e,d){var a=new Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand;a.$x8=f;a.$1Fl=c;a.$B2=b.width;a.$6w=b.height;a.$Q9=b.left;a.$At=b.top;a.$1LB=e;a.$1CO=d;a.$R();a.$N()};Xrm.Internal.getErrorMessage=function(a){return $a.$0.$0(a)?Microsoft.Dynamics.Client.Core.Framework.Common.$9.$EB(a):null};Xrm.Internal.getConfirmErrorMessage=function(){return Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Mobile_error_scriptError_Confirm_Function")};Xrm.Internal.parseDate=function(a){return Xrm.DateTimeUtility.parseDate(a)};Xrm.Internal.refreshParentGrid=function(){return};Xrm.Internal.displayError=function(d,a){var b="",c="";if(!$a.$0.$0(a)){b=$a.$0.$0(a.$Zc)?"window":a.$Zc;c=Microsoft.Dynamics.Client.Core.Framework.$Ba.toString(a.$zo)}var e=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Error_With_Field_Client_Side_Event_Field")+b,f=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Error_With_Field_Client_Side_Event_Event")+c,g=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Error_With_Field_Client_Side_Event_Error")+d,h=e+"<br><br>"+f+"<br><br>"+g;Microsoft.Dynamics.Client.Core.ViewModels.$1R.$3l(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Error_With_Field_Client_Side_Event"),h,2)};Xrm.Internal.raiseRecordsDeletedEvent=function(){return};Xrm.Internal.reportToWatson=function(a,c,b){Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Vn().$1Cd(a,c,b)};Xrm.Internal.openErrorDialog=function(a,f){var c="0x"+(a<0?4294967295+a+1:a).toString(16).toUpperCase(),d=Mscrm.CrmUri.create("/_common/error/dlg_error.aspx");d.get_query().hresult=!$a.$0.$47(c)?c.toString():"";var b=new Xrm.DialogOptions;b.height=260;b.width=550;var e={};e.errMessage=f;Xrm.Internal.openDialog(d.toString(),b,e,null,null)};Xrm.Internal.getStatusOptionsFromStateCode=function(b,c){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Array,Object);if($a.$0.$0(b)||$a.$0.$0(c)){a.resolve(null);return a}var d=["statuscode"];Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.$3w(new Microsoft.Crm.Client.Core.Storage.DataApi.$1t(b,d)).then(function(h){if(h.get_$V5()===1){var b=h.get_$2Hy(0);if(!$a.$0.$0(b.get_$HN())&&!$a.$0.$0(b.get_$HN().$4S)){var d=new($a.List.$$(Number)),f=b.get_$HN().$4S;for(var g in f){var e={key:g,value:f[g]};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$11.isInstanceOfType(e.value)&&e.value.$1V===c&&d.add(e.value.$1w)}if(d.get_count()>0){a.resolve(d.toArray());return}}}a.resolve(null)},function(){a.resolve(null)});return a};Xrm.Internal.getStateCodeFromStatusOption=function(c,b){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Number,Object);if($a.$0.$0(c)||$a.$0.$0(b)){a.resolve(-1);return a}var d=["statuscode"];Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.$3w(new Microsoft.Crm.Client.Core.Storage.DataApi.$1t(c,d)).then(function(g){if(g.get_$V5()===1){var c=g.get_$2Hy(0);if(!$a.$0.$0(c.get_$HN())&&!$a.$0.$0(c.get_$HN().$4S)){var e=c.get_$HN().$4S;for(var f in e){var d={key:f,value:e[f]};if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$11.isInstanceOfType(d.value)&&d.value.$1w===b){a.resolve(d.value.$1V);return}}}}a.resolve(-1)},function(){a.resolve(-1)});return a};Xrm.DateTimeUtility=function(){};Xrm.DateTimeUtility.fullWidthToHalfWidth=function(b){if(!$a.$5.$L(b))for(var a=0;a<Xrm.DateTimeUtility.$z1.length;a++)b=b.replace(new RegExp(Xrm.DateTimeUtility.$z1[a],"g"),Xrm.DateTimeUtility.$1K2[a]);return b};Xrm.DateTimeUtility.getShortDatePattern=function(a){return a.dateTimeFormat.ShortDatePattern};Xrm.DateTimeUtility.parseLocale=function(a,b,c){return b===Sys.CultureInfo.CurrentCulture?Date.parseLocale(a,c):Date._parse?Date._parse(a,b,[null,c]):null};Xrm.DateTimeUtility.parseDate=function(e){if($a.$5.$L(e))return null;var b=Xrm.DateTimeUtility.fullWidthToHalfWidth(e),c=Sys.CultureInfo.CurrentCulture,a=Xrm.DateTimeUtility.parseLocale(b,c,"d");if(!a){var d=Xrm.DateTimeUtility.getShortDatePattern(c);if(d.indexOf("g")>-1){var h=d.replace(new RegExp("\\s*g+\\s*"),"");a=Xrm.DateTimeUtility.parseLocale(b,c,h)}var f=new RegExp("y{4}");if(!a&&f.test(d)){var i=d.replace(f,"yy");a=Xrm.DateTimeUtility.parseLocale(b,c,i)}var g=null;if(!a&&!$a.$0.$0(g)){var j=new RegExp("^[0-9]"),k=new RegExp("[0-9]{4}");if(j.test(b)&&k.test(b))a=Xrm.DateTimeUtility.parseLocale(b,g,"d")}}return a};Xrm.XrmSdkMessages=function(){};Xrm.XrmSdkMessages.prototype={$1XV:null,get_$7b:function(){var a=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CI();return this.$1XV||(this.$1XV=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$2l(a.context.getClientUrl()))},assign:function(c,d,a,b){var e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(c,new Microsoft.Dynamics.Client.Core.Framework.Guid(d)),f=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(a,new Microsoft.Dynamics.Client.Core.Framework.Guid(b)),g=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.AssignRequest(e,f);return this.get_$7b().$R(g)},associate:function(b,d,a){var c=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(d);if(b.LogicalName===a[0].LogicalName)c.$88=1;var e=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.AssociateRequest(b,c,a);return this.get_$7b().$R(e)},book:function(a){var b=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.BookRequest(a,true,true);return this.get_$7b().$R(b)},convertActivity:function(e,b,d,c,a){var f=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.ConvertActivityRequest(new Microsoft.Dynamics.Client.Core.Framework.Guid(e),b,d,c,a);return this.get_$7b().$R(f)},create:function(a){var b=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.CreateRequest(a);return this.get_$7b().$R(b)},createEntityFrom:function(c,a,b){var d=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.InitializeFromRequest(c,a,b);return this.get_$7b().$R(d)},deleteEntity:function(a,b){var c=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(a,new Microsoft.Dynamics.Client.Core.Framework.Guid(b)),d=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.DeleteRequest(c);return this.get_$7b().$R(d)},disassociate:function(c,b,a){var d=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.DisassociateRequest(c,b,a);return this.get_$7b().$R(d)},inviteUser:function(a){var b=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.InviteUserRequest(new Microsoft.Dynamics.Client.Core.Framework.Guid(a));return this.get_$7b().$R(b)},loseOpportunity:function(a,b){var c=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.LoseOpportunityRequest(a,b);return this.get_$7b().$R(c)},qualifyLead:function(h,f,g,d,b,c,e,i,a){var j=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.QualifyLeadRequest(h,f,g,d,b,c,e,i,a);return this.get_$7b().$R(j)},reschedule:function(a){var b=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.RescheduleRequest(a,true,true);return this.get_$7b().$R(b)},retrieve:function(a,b,c){var d=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(a,new Microsoft.Dynamics.Client.Core.Framework.Guid(b)),e=new Microsoft.Crm.Client.Core.Storage.Common.$1P(c),f=false,g=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.RetrieveRequest(d,e,null,f);return this.get_$7b().$R(g)},retrieveMultiple:function(a){var b=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.RetrieveMultipleRequest(a);return this.get_$7b().$R(b)},setState:function(a,b,d,c){var e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(a,new Microsoft.Dynamics.Client.Core.Framework.Guid(b)),f=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.SetStateRequest(e,d,c,true);return this.get_$7b().$R(f)},update:function(a){var b=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.UpdateRequest(a);return this.get_$7b().$R(b)},whoAmI:function(){var a=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.WhoAmIRequest;return this.get_$7b().$R(a)},winOpportunity:function(a,b){var c=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.WinOpportunityRequest(a,b);return this.get_$7b().$R(c)},closeIncident:function(a,b){var c=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.CloseIncidentRequest(a,b);return this.get_$7b().$R(c)},getValidStatusTransition:function(a,b){var c=new Microsoft.Crm.Client.Core.Storage.DataApi.Requests.GetValidStatusTransitionRequest(a,b);return this.get_$7b().$R(c)}};Xrm.$2L=function(){this.context=new Microsoft.Crm.Client.Core.ViewModels.$4R;Xrm.$2L.initializeBase(this)};Xrm.$2L.prototype={data:null,ui:null,grid:null,getAttribute:function(a){return this.data.entity.attributes.get(a)},getControl:function(a){return this.ui.controls.get(a)},$9k:function(){!$a.$0.$0(this.data)&&this.data.$N();!$a.$0.$0(this.ui)&&this.ui.$N();this.grid=null}};Xrm.Utility=function(){};Xrm.Utility.create=function(b,c,h,a,d,g){if($a.$0.$0(b))return;var e=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CI();if(b==="opportunityproduct"){var i=e.getAttribute("pricelevelid");if($a.$0.$0(i)||$a.$0.$0(i.getValue())){Microsoft.Dynamics.Client.Core.ViewModels.$1R.$Wv("",Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Web.SFA.quotes.edit.aspx_155"));return}}if($a.$0.$0(a))a={};if($a.$0.$0(a.ownerid)&&$a.$0.$0(a.owneridname)&&$a.$0.$0(a.owneridtype)){a.ownerid=e.context.getUserId();a.owneridname=e.context.getUserName();a.owneridtype="systemuser"}var f=e.grid;if(!$a.$0.$0(c))if(Xrm.Utility.isActivityType(b))Xrm.Utility.$1gf(b,c,a,function(a){Xrm.Utility.$ra(f,d,a)});else Xrm.Internal.messages.createEntityFrom(c,b,0).then(function(n){for(var i=n.$1o,l=i.get_fieldNames(),m=l.length,k=0;k<m;++k){var e=l[k];if(i.$1J[e]===9||i.$1J[e]===1||i.$1J[e]===6){var j=i.getValue(e);if(!$a.$0.$0(j)){var o=j.getObjectData();if(!$a.$0.$0(o)){a[e+"type"]=j.LogicalName;a[e]=j.get_identifier();a[e+"name"]=j.Name}}continue}a[e]=i.getValue(e)}Xrm.Utility.$1SR(b,c,h,a,d,g,f)},function(e){Xrm.Utility.$1hS(e,b,c,h,a,d,g,f)});else Xrm.Utility.$1Ee(b,a,d,f,c)};Xrm.Utility.$1SR=function(b,c,a,d,e,g,f){if($a.$0.$0(a))Xrm.Utility.$1Ee(b,d,e,f,c);else switch(a.get_RelationshipType()){case 0:Xrm.Utility.$26Y(b,c,a,d,e,g,f);break;case 1:Xrm.Utility.$1gi(b,c,a,d,e,g,f)}};Xrm.Utility.$1hS=function(b,d,e,f,g,h,c,i){var a=b.$6l;if(!$a.$0.$0(a)&&a.$m===Microsoft.Dynamics.Client.Core.Framework.$H.$13E)Xrm.Utility.$1SR(d,e,f,g,h,c,i);else Xrm.Utility.$t9(b,c)};Xrm.Utility.$26Y=function(b,c,a,d,e,f,g){if(!$a.$0.$0(a))d.RelationshipAttribute=[a.$I6];Xrm.Utility.openEntityForm(b,null,d,function(d){var h=d.$HX.get_$5A(),i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(b,new Microsoft.Dynamics.Client.Core.Framework.Guid(h));Xrm.Utility.$1BO(c,i,a.$I6,true,function(){Xrm.Utility.$ra(g,e,d)},function(a){Xrm.Utility.$t9(a,f)})},c)};Xrm.Utility.$1gi=function(a,b,c,d,e,f,g){Xrm.Utility.openEntityForm(a,null,d,function(d){var h=d.$HX.get_$5A(),i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(a,new Microsoft.Dynamics.Client.Core.Framework.Guid(h));Xrm.Utility.$1BN(b,i,c,function(){Xrm.Utility.$ra(g,e,d)},function(a){Xrm.Utility.$t9(a,f)})},b)};Xrm.Utility.$1Ee=function(a,b,c,d,e){Xrm.Utility.openEntityForm(a,null,b,function(a){Xrm.Utility.$ra(d,c,a)},e)};Xrm.Utility.$ra=function(a,b,c){if(!$a.$0.$0(b))b(c);else!$a.$0.$0(a)&&a.refresh()};Xrm.Utility.$1gf=function(d,b,a,f){a.regardingobjectid=b.get_identifier();a.regardingobjectidname=b.Name;a.regardingobjectidtarget=b.LogicalName;var c=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CI();if(d==="phonecall"&&$a.$0.$0(a.from))a.from=Xrm.Utility.$TC("systemuser",c.context.getUserId(),c.context.getUserName());switch(b.LogicalName){case"account":case"contact":case"lead":switch(d){case"phonecall":if(c.data){var e=c.getAttribute("telephone1");if(e&&$a.$0.$0(a.phonenumber))a.phonenumber=e.getValue()}if($a.$0.$0(a.to))a.to=Xrm.Utility.$TC(b.LogicalName,b.get_identifier(),b.Name);break;case"appointment":if($a.$0.$0(a.requiredattendees))a.requiredattendees=Xrm.Utility.$TC(b.LogicalName,b.get_identifier(),b.Name)}}Xrm.Utility.openEntityForm(d,null,a,f,b)};Xrm.Utility.$TC=function(f,g,h){var b=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(f,new Microsoft.Dynamics.Client.Core.Framework.Guid(g),h),c={partyid:b},d={partyid:6},e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference("activityparty",Microsoft.Dynamics.Client.Core.Framework.Guid.get_empty()),a=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(e,c,d,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));a.$5L.add("partyid");return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([a],false,1,false)};Xrm.Utility.$t9=function(a,c){if($a.$0.$0(c)){var b=a.$6l;if(!$a.$0.$0(b)){var d=b.$m;Xrm.Utility.$1rF(d,a.get_message())}}else c(a)};Xrm.Utility.$1rF=function(a,b){var d=-2147163904,e="0x8004E108",f="0x8004E121",g="0x8004E117",h="0x8004E122",i="0x8004E123",j="0x8004E113",c="0x"+(a<0?4294967295+a+1:a).toString(16).toUpperCase();if(c.startsWith("0x8004E1"))switch(c){case e:case f:case g:case i:case h:case j:b=Xrm.Internal.getErrorMessage(a);break;default:b=Xrm.Internal.getErrorMessage(d)}Microsoft.Dynamics.Client.Core.ViewModels.$1R.$3l(b,null,2)};Xrm.Utility.$1BN=function(a,b,c,f,g){if(c.$bl===2){var e=a;a=b;b=e}var d=[b];Xrm.Internal.messages.associate(a,c.$F,d).then(f,g)};Xrm.Utility.$1BO=function(c,d,a,h,e,b){if($a.$0.$0(a)){var g=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1C(null,null,null);b(g);return}var f=[a];Xrm.Internal.messages.retrieve(d.LogicalName,d.Id.toString(),f).then(function(g){var i=c.LogicalName==="territory"&&d.LogicalName==="systemuser"&&a==="territoryid",f=g.$1o;if(f.hasValue(a)&&!i){var j=f.getValue(a),k=j.Id;if(k.equals(c.Id)){e(g);return}var l=parseInt(h?"0x80631119":"0x80048478",16),m=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1C.$2K(l);b(m)}else{f.initializeValue(a,c,6);f.$5L.addRange([a]);Xrm.Internal.messages.update(f).then(e,b)}},b)};Xrm.Utility.openEntityForm=function(b,i,d,e,j){var f=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(b);if($a.$0.$0(f)||!f.$lT){Microsoft.Dynamics.Client.Core.ViewModels.$1R.$r2(Microsoft.Dynamics.Client.Core.Framework.$6.$2K(Microsoft.Dynamics.Client.Core.Framework.$H.$1QR));return true}var g=d;if($a.$0.$0(i)){if(!Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$22())return false;var h=null;if(!$a.$0.$0(d)){delete d.formid;h={InitializationParameters:d,InitializeFrom:2}}var c=new Microsoft.Dynamics.Client.Core.Commands.OpenCreateFormCommand(null,b,5,h);c.$HV=g;c.$HQ=j;if(!$a.$0.$0(e))c.$f=e;c.$R();c.$N()}else{var a=new Microsoft.Dynamics.Client.Core.Commands.$3Y(null,2);a.$4T=b;var k={EntityReference:new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(b,new Microsoft.Dynamics.Client.Core.Framework.Guid(i))};a.$2d=k;a.$HV=g;Microsoft.Crm.Client.Core.Models.$K.$AI(b,new Microsoft.Crm.Client.Core.Storage.Common.$1P(new Array(0))).then(function(b){a.$85=b},function(a){Error.create(String.format("Failed to create an empty model to contain the record. Error message: \n\n {0}",a.$P))});a.$R();a.$N()}return true};Xrm.Utility.isActivityType=function(a){if(a==="activitypointer")return true;var b=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(a);return!$a.$0.$0(b)?b.get_$Uq():false};Xrm.Utility.alertDialog=function(b,a){Microsoft.Dynamics.Client.Core.ViewModels.$1R.$3l("",b,0,a)};Xrm.Utility.confirmDialog=function(c,a,b){Microsoft.Dynamics.Client.Core.ViewModels.$2g.$3l("",c,0,a,b)};Xrm.Utility.AreStateTransitionsEnforced=function(b){var a=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(b);return!$a.$0.$0(a)?a.$11s&&a.$xa:false};Type.registerNamespace("Mscrm.InternalUtilities");Mscrm.InternalUtilities.GridUtilities=function(){};Mscrm.InternalUtilities.GridUtilities.executeStandardAction=function(h,a,e,d,i,c){if(Mscrm.InternalUtilities.JSTypes.isNull(a)||!a.length){Mscrm.InternalUtilities._Script.alert(Xrm.Internal.getResourceString("Error_Message_Action_NoItemSelected"));return}if(Mscrm.InternalUtilities.JSTypes.isNull(e))e=400;if(Mscrm.InternalUtilities.JSTypes.isNull(d))d=200;if(Mscrm.InternalUtilities.JSTypes.isNull(c)){for(var g=new Array(a.length),b=0;b<a.length;b++)g[b]=a[b].Id;c=g}var f=new Xrm.DialogOptions;f.height=d;f.width=e;Xrm.Internal.openDialog(h.toString(),f,c,null,i)};Mscrm.InternalUtilities.GridUtilities.createCallbackFunctionFactory=function(b,a){return function(c){a.unshift(c);return b.apply(null,a)}};Mscrm.InternalUtilities.GridUtilities.generateStandardActionUri=function(d,c,b){var a=Mscrm.CrmUri.create(String.format("/_grid/cmds/dlg_{0}.aspx",CrmEncodeDecode.CrmUrlEncode(d)));a.get_query().iObjType=c;a.get_query().iTotal=b;return a};Mscrm.InternalUtilities.Utilities=function(){};Mscrm.InternalUtilities.Utilities.createAndFilterXmlString=function(b,c,a){if(!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(b)&&!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(c)&&!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(a)){var d='<filter type="and"><condition attribute="{0}" operator="{1}" value="{2}" /></filter>';return String.format(d,CrmEncodeDecode.CrmXmlAttributeEncode(b),CrmEncodeDecode.CrmXmlAttributeEncode(c),CrmEncodeDecode.CrmXmlAttributeEncode(a))}return""};Mscrm.InternalUtilities.Utilities.isUserDefinedEntityObjectTypeCode=function(a){return a>=1e4};Mscrm.InternalUtilities.Utilities.$zA=function(d){var c=null,a=document.cookie.indexOf(d+"="),b=-1;if(a!==-1){a+=d.length+1;b=document.cookie.indexOf(";",a);if(b===-1)b=document.cookie.length;c=document.cookie.substring(a,b)}return CrmEncodeDecode.CrmNameValueDecode(c)};Mscrm.InternalUtilities.Utilities.$1uA=function(){if(Mscrm.InternalUtilities.Utilities.$zA("IsIPadDevice")==="1")return true;var a=navigator.userAgent;if(IsNull(a))return false;a=a.toLowerCase();return a!=""&&a.search("ipad|ipod|iphone")>-1};Mscrm.InternalUtilities.Utilities.$1uS=function(){var a=window.self._IsRefreshForm;return!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(a)&&"1"===a};Mscrm.InternalUtilities.Utilities.$1MD=function(){var a=window.self._highContrastEnabled;return Mscrm.InternalUtilities.JSTypes.isNull(a)?false:a};Mscrm.InternalUtilities.Utilities.checkIfServiceMetaDataAvailable=function(){var a=false,b=null,d=Xrm.Page.context.client.getClient()==Xrm.ClientNames.mobile;if(d){b=Xrm.Page.context.getServerDatabaseVersion();a=b.startsWith("6.1")}else{var c=window.self._IsServiceMetadataAvailable;a=!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(c)&&"1"===c}return a};Mscrm.InternalUtilities.Utilities.enforceStateTransitions=function(c){var d=Xrm.Page.context.client.getClient()==Xrm.ClientNames.mobile,a=false;if(d)a=Xrm.Utility.AreStateTransitionsEnforced(c);else{var b=window.self._EnforceStateTransitions;a=!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(b)&&b==="1"}return a};Mscrm.InternalUtilities._Script=function(){};Mscrm.InternalUtilities._Script.isNullOrUndefined=function(a){return null===a||a===undefined};Mscrm.InternalUtilities._Script.alert=function(a){Microsoft.Dynamics.Client.Core.ViewModels.$1R.$3l("",a,0)};Mscrm.InternalUtilities._Script.confirm=function(a){Microsoft.Dynamics.Client.Core.ViewModels.$2g.$3l("",a,0);return false};Mscrm.InternalUtilities._Script.eval=function(a){return eval(a)};Mscrm.InternalUtilities._Script.prompt=function(){return""};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$5Z=function(a){this.canCreate=!!(a&1);this.canRead=!!(a&2);this.canUpdate=!!(a&4)};Microsoft.Crm.Client.Core.ViewModels.$Bk=function(){};Microsoft.Crm.Client.Core.ViewModels.$Bk.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Bk");Microsoft.Crm.Client.Core.ViewModels.LookupControlItem=function(a,b,c){this.entityType=a;if(!$a.$0.$0(b))this.id=String.format("{{{0}}}",b.toUpperCase());this.name=c;if(!$a.$0.$0(a))this.type=Xrm.Internal.getEntityCode(a).toString()};Microsoft.Crm.Client.Core.ViewModels.$73=function(a,b,c,d){this.$4r=a;this.$Ae=b;this.$2V=c;this.$2E=d;this.controls=new Microsoft.Crm.Client.Core.ViewModels.$2a;this.HasTemporaryChangedField=false};Microsoft.Crm.Client.Core.ViewModels.$73.prototype={controls:null,HasTemporaryChangedField:false,$4r:null,$Ae:null,$2V:null,$2E:null,$1j:function(){return this.$2E},addOnChange:function(a){Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().get_$3N().$tO(this.$1j(),a)},removeOnChange:function(a){Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().get_$3N().$1UE(this.$1j(),a)},getValue:function(){return this.$4r.get_$12().GetValue(this.$1j()+Microsoft.Dynamics.Client.Core.Framework.$g.$6R)},$1Lp:function(){return!$a.$0.$0(this.$4r.$a8)&&Array.indexOf(this.$4r.$a8,this.getName())>=0},setValue:function(b){if(!Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$22()||this.$Ae.$YZ===1&&!this.$2V.get_$123()||this.$Ae.$YZ===2&&!this.$2V.get_$1Mt())return;try{Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().get_$3N().$1Fr(this.$1j());this.$4r.get_$12().$Wp();var a=this.controls.get(0);if(!$a.$0.$0(a)&&!$a.$0.$0(a.$u))this.$1tO(b,a);else this.$1Lp()&&this.$4r.get_$12().SetValue(this.getName(),b);this.$16E();this.$4r.get_$12().$cK();Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().get_$3N().$xX(this.$1j())}finally{Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().get_$3N().$xX(this.$1j())}},$1tO:function(b,a){if(Microsoft.Dynamics.Client.Core.ViewModels.$1Q.isInstanceOfType(a.$u))a.$u.set_Value(b);else a.$u.set_Data(b)},getRequiredLevel:function(){var a="unknown";if(Microsoft.Dynamics.Client.Core.ViewModels.$6i.isInstanceOfType(this.controls.get(0).$u)){var b=this.controls.get(0).$u.get_$NN();switch(b){case 2:case 1:a="required";break;case 3:a="recommended";break;case 0:a="none"}}return a},getAttributeType:function(){return!$a.$0.$0(this.$2V)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeType.toString(this.$2V.get_$fS()).toLowerCase():"unknown"},getName:function(){return this.$1j()},getFormat:function(){return!$a.$0.$0(this.$2V)&&!$a.$5.$L(this.$2V.get_$19())?this.$2V.get_$19().toLowerCase():null},getIsDirty:function(){return this.$4r.get_$12().get_$IE().contains(this.$1j())||this.HasTemporaryChangedField},fireOnChange:function(){Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().$1VN(null,this.$1j())},getParent:function(){return this.$Ae},getSubmitMode:function(){return this.$4r.get_$12().$Ro.$2Ia(this.$1j())?this.$4r.get_$12().$Ro.get_$2Hy(this.$1j()):this.$Ae.$YZ===1&&!this.$2V.get_$123()||this.$Ae.$YZ===2&&!this.$2V.get_$1Mt()?"never":"dirty"},setSubmitMode:function(a){if(a==="always"||a==="never"||a==="dirty"){this.$4r.get_$12().$Ro.set_$2Hy(this.$1j(),a);var b=this.$4r.get_$12().get_$IE();if(a==="never"&&b.contains(this.$1j())){b.remove(this.$1j());return}a==="always"&&!b.contains(this.$1j())&&b.add(this.$1j())}},setRequiredLevel:function(e){var a;switch(e){case"none":a=0;break;case"recommended":a=3;break;case"required":a=2;break;default:return}var f=this;this.controls.forEach(function(b){b.$u.set_$NN(a);var c=b.$43;Microsoft.Dynamics.Client.Core.ViewModels.$6i.isInstanceOfType(c)&&c.set_$NN(a)});var b=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(this.$Ae.$b.get_PrimaryModelName());if(!$a.$0.$0(b)&&this.getName()===b.$8e){var c=this.$4r.$p.HeaderGroup,d=c.$p.primaryAttribute;d.set_RequiredLevel(a)}},getIsPartyList:function(){return this.$2V.get_$fS()===10},getUserPrivilege:function(){return new Microsoft.Crm.Client.Core.ViewModels.$5Z(Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$E8(this.$2V.$3n))},$1cf:function(){for(var a=false,b=this.controls,c=0;c<b.getLength()&&!a;c++)a=!b.get(c).getDisabled();return b.getLength()>0&&!a},$16E:function(){if(this.$1cf()){var a=this.$4r.get_$12().get_$IE();if(a.contains(this.$1j())){a.remove(this.$1j());this.HasTemporaryChangedField=true}}}};Microsoft.Crm.Client.Core.ViewModels.$Aw=function(a,b,c,d){Microsoft.Crm.Client.Core.ViewModels.$Aw.initializeBase(this,[a,b,c,d])};Microsoft.Crm.Client.Core.ViewModels.$Aw.prototype={getInitialValue:function(){return!$a.$0.$0(this.$2V)&&this.$2V.get_$1FQ()!==-1?this.$2V.get_$1FQ():null},getValue:function(){if(!$a.$0.$0(this.$4r)){var a=this.$4r.get_$12().GetValue(this.$1j());return!$a.$0.$0(a)&&Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$11.isInstanceOfType(a)?a.$1w===1:a}return null},setValue:function(a){if(!Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$22())return;if($a.$0.$0(a)){Microsoft.Crm.Client.Core.ViewModels.$73.prototype.setValue.call(this,a);return}if(Boolean.isInstanceOfType(a)){var c=a?1:0,b=this.$2V.$bk.$4S.get_$2Hy(c.toString());if(!$a.$0.$0(b)){var d=new Microsoft.Dynamics.Client.Core.ViewModels.$3S(b.get_$3G().toString(),b.get_$1v());Microsoft.Crm.Client.Core.ViewModels.$73.prototype.setValue.call(this,d)}}}};Microsoft.Crm.Client.Core.ViewModels.$2a=function(){this.$4x=new($a.List.$$(Microsoft.Crm.Client.Core.ViewModels.$Bk))};Microsoft.Crm.Client.Core.ViewModels.$2a.prototype={$4x:null,$h:function(a){this.$4x.add(a)},"get":function(a){if($a.$0.$0(a))return this.$dc();switch(typeof a){case"function":return this.$1oa(a);case"string":for(var b=0;b<this.$4x.get_count();b++){var c=this.$4x.get_$2Hy(b);if(!$a.$0.$0(c)&&c.$1j()===a)return this.$Gv(b)}return null;case"number":var d=parseInt(a,10);return this.$Gv(d);default:return this.$dc()}},getFirst:function(c){for(var a=0;a<this.$4x.get_count();a++){var b=this.$Gv(a);if(c(b,a))return b}return null},forEach:function(e,c){for(var d=$a.$0.$0(c),a=0;a<this.$4x.get_count();a++){var b=this.$Gv(a);(d||c(b,a))&&e(b,a)}},getLength:function(){return this.$4x.get_count()},$1oa:function(d){for(var b=[],a=0;a<this.$4x.get_count();a++){var c=this.$Gv(a);d(c,a)&&Array.add(b,c)}return b},$Gv:function(a){return this.$4x.get_$2Hy(a)},$dc:function(){return this.$4x.toArray()}};Microsoft.Crm.Client.Core.ViewModels.$5m=function(a,b,c){this.errorCode=a;this.message=b;this.debugMessage=c};Microsoft.Crm.Client.Core.ViewModels.$5m.prototype={errorCode:0,message:null,debugMessage:null};Microsoft.Crm.Client.Core.ViewModels.$BI=function(a,b,c,d){this.$S8=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$c().get_$Ht();Microsoft.Crm.Client.Core.ViewModels.$BI.initializeBase(this,[a,b,c,d])};Microsoft.Crm.Client.Core.ViewModels.$BI.prototype={getFormat:function(){if(!$a.$0.$0(this.$2V))switch(this.$2V.get_$19()){case"DateAndTime":return"datetime";case"DateOnly":return"date";default:return null}return null},getUtcValue:function(){var a=this.getValue();if(Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$JA(a))a=Microsoft.Dynamics.Client.Core.Framework.$2D.$TA(a,this.$S8);return a},setUtcValue:function(a){if(Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$JA(a))a=Microsoft.Dynamics.Client.Core.Framework.$2D.$Dr(a,this.$S8);this.setValue(a)},getValue:function(){var a=Microsoft.Crm.Client.Core.ViewModels.$73.prototype.getValue.call(this);if(Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$JA(a))a=Microsoft.Dynamics.Client.Core.Framework.$2D.$Dr(a,this.$S8);return a},$1tO:function(a,b){Microsoft.Dynamics.Client.Core.ViewModels.$5n.isInstanceOfType(b.$u)&&(Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$JA(a)||$a.$0.$0(a))&&b.$u.set_$6L(a)}};Microsoft.Crm.Client.Core.ViewModels.FormNotificationMessageType=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApiManager=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.get_$4=function(){if($a.$0.$0(Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$9))Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$9=new Microsoft.Crm.Client.Core.ViewModels.ClientApiManager;return Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$9};Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.prototype={$67:function(a,c){var b=a.$v;if($a.$0.$0(b))a.$v=new Xrm.$2L;Microsoft.Crm.Client.Core.ViewModels.$2v.$67(a,c);Microsoft.Crm.Client.Core.ViewModels.$1h.$67(a)},$29p:function(b,c){var d=b.get_$M();if(!$a.$0.$0(d)){var a=d.$v;if(!$a.$0.$0(a.data)){c.ApiDescriptor.ControlType===8&&a.data.$1Tx(b);a.data.$166(c)}a.ui.$29r(b,c)}},$cS:function(){var a=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CI();a.ui.$cS()}};Microsoft.Crm.Client.Core.ViewModels.$69=function(a,b,c,d,e){this.$IN=c;this.$HS=d;this.$7C(a,b);this.$Ae=e;this.$b=a.get_$M()};Microsoft.Crm.Client.Core.ViewModels.$69.prototype={$IN:null,$43:null,$u:null,$HS:null,$Ae:null,$b:null,$7C:function(a,b){if(b)this.$u=a;else this.$43=a},$1j:function(){return this.$IN},resetInitial:function(){!$a.$0.$0(this.$43)&&this.$43.$WR();!$a.$0.$0(this.$u)&&this.$u.$WR()},getAttribute:function(){return!$a.$0.$0(this.$b)&&!$a.$0.$0(this.$b.$v)&&!$a.$0.$0(this.$b.$v.data)?this.$b.$v.data.entity.attributes.get(this.$HS):null},getControlType:function(){return"standard"},getDisabled:function(){return!$a.$0.$0(this.$43)&&this.$43.get_Enabled()?false:true},getLabel:function(){return!$a.$0.$0(this.$u)?this.$u.get_Label():this.$43.get_Label()},getName:function(){return this.$IN},getParent:function(){return this.$Ae},getVisible:function(){return!$a.$0.$0(this.$u)&&this.$u.get_Visible()||!$a.$0.$0(this.$43)&&this.$43.get_Visible()?true:false},setDisabled:function(a){!$a.$0.$0(this.$u)&&this.$u.set_Enabled(!a);!$a.$0.$0(this.$43)&&this.$43.set_Enabled(!a)},setFocus:function(){this.$b.$v.ui.RemoveCurrentControlFocus();this.setHasFocus(true)},setLabel:function(a){!$a.$0.$0(this.$u)&&this.$u.set_Label(a);!$a.$0.$0(this.$43)&&this.$43.set_Label(a)},setVisible:function(a){!$a.$0.$0(this.$u)&&this.$u.set_Visible(a);!$a.$0.$0(this.$43)&&this.$43.set_Visible(a)},setNotification:function(a,c){if(!$a.$5.$1N(a)&&Microsoft.Dynamics.Client.Core.ViewModels.$4Z.isInstanceOfType(this.$u)){var b=this.$u;b.set_$mA(new Microsoft.Dynamics.Client.Core.Models.Validation.ValidatorResult(false,null,a,c));return true}return false},clearNotification:function(b){if(Microsoft.Dynamics.Client.Core.ViewModels.$4Z.isInstanceOfType(this.$u)){var a=this.$u;if($a.$0.$0(a.get_$mA())||!$a.$0.$0(b)&&b!==a.get_$mA().$1GK)return false;a.set_$mA(null);return true}return false},getData:function(){return null},setData:function(){return},getSrc:function(){return null},setSrc:function(){return},getInitialUrl:function(){return null},getObject:function(){return null},getFocus:function(){return!$a.$0.$0(this.$u)&&Microsoft.Dynamics.Client.Core.ViewModels.$4Y.isInstanceOfType(this.$u)&&Microsoft.Dynamics.Client.Core.ViewModels.$4Y.isInstanceOfType(this.$43)?this.$u.get_$1Y()||this.$43.get_$1Y():!$a.$0.$0(this.$u)&&Microsoft.Dynamics.Client.Core.ViewModels.$4Y.isInstanceOfType(this.$u)?this.$u.get_$1Y():Microsoft.Dynamics.Client.Core.ViewModels.$4Y.isInstanceOfType(this.$43)?this.$43.get_$1Y():false},setHasFocus:function(a){!$a.$0.$0(this.$u)&&Microsoft.Dynamics.Client.Core.ViewModels.$4Y.isInstanceOfType(this.$u)&&this.$u.set_$1Y(a);Microsoft.Dynamics.Client.Core.ViewModels.$4Y.isInstanceOfType(this.$43)&&this.$43.set_$1Y(a)}};Microsoft.Crm.Client.Core.ViewModels.$Bc=function(){};Microsoft.Crm.Client.Core.ViewModels.$Bc.prototype={$UK:function(c,a,e){var b=null;if(!$a.$0.$0(c.$Dx)){var d=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CI();switch(c.$Dx.$zo){case 0:a=a>0?a-1:a;b=d.ui;break;case 1:b=d.data.entity;break;case 2:b=d.getAttribute(c.$Dx.$Zc)}}return new Microsoft.Crm.Client.Core.ViewModels.$4m(b,a,c.$iU,e)}};Microsoft.Crm.Client.Core.ViewModels.$4m=function(b,c,d,a){this.$jF=this.getDepth;this.$Zo=this.getEventSource;this.$1GW=b;this.$I=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CI().context;this.$5i=c;this.$1GT=d;if(a&&a.$Ws)this.$Ws=a.$Ws;else this.$Ws={}};Microsoft.Crm.Client.Core.ViewModels.$4m.prototype={$I:null,$5i:0,$1GT:null,$1GW:null,$Ws:null,getContext:function(){return this.$I},getDepth:function(){return this.$5i},getEventArgs:function(){return this.$1GT},getEventSource:function(){return this.$1GW},getSharedVariable:function(a){return this.$Ws[a]},setSharedVariable:function(a,b){this.$Ws[a]=b}};Microsoft.Crm.Client.Core.ViewModels.$BJ=function(a,b,c,d,e){Microsoft.Crm.Client.Core.ViewModels.$BJ.initializeBase(this,[a,b,c,d,e])};Microsoft.Crm.Client.Core.ViewModels.$BJ.prototype={getShowTime:function(){return this.$u.get_ShowTime()},getIsAllDay:function(){return this.$u.get_AllDayDisplay()},setShowTime:function(a){this.$u.set_ShowTime(a)},setIsAllDay:function(a){this.$u.set_AllDayDisplay(a)}};Microsoft.Crm.Client.Core.ViewModels.$EP=function(a,b){this.$7F=a;this.$IN=b};Microsoft.Crm.Client.Core.ViewModels.$EP.prototype={$7F:null,$IN:null,$1j:function(){return this.$IN},$cS:function(){this.$7F.$WR()},getLabel:function(){return this.$7F.get_Label()},getName:function(){return this.$IN},getVisible:function(){return this.$7F.get_Visible()},setVisible:function(a){this.$7F.set_Visible(a)},setLabel:function(a){this.$7F.set_Label(a)}};Microsoft.Crm.Client.Core.ViewModels.$4F=function(a,b){this.$$d_$24a=Function.createDelegate(this,this.$24a);this.$$d_$2B0=Function.createDelegate(this,this.$2B0);this.$$d_$2BB=Function.createDelegate(this,this.$2BB);this.$$d_$1Up=Function.createDelegate(this,this.$1Up);Microsoft.Crm.Client.Core.ViewModels.$4F.initializeBase(this);this.$b=a;this.$YZ=b;this.$b.AddPropertyChangedListener("PrimaryModelName",this.$$d_$1Up);this.$b.AddPropertyChangedListener("AttributeFieldNames",this.$$d_$1Up);this.$Mb=new Microsoft.Dynamics.Client.Application.ViewModels.$T(this.$b,new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadataForClientAPI",null));this.attributes=new Microsoft.Crm.Client.Core.ViewModels.$2a;this.$3n={};this.$cG=new($a.List.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiDescriptor));this.$pT={}};Microsoft.Crm.Client.Core.ViewModels.$4F.prototype={attributes:null,$Mb:null,$b:null,$3n:null,$cG:null,$pT:null,$YZ:0,get_$Tm:function(){return this.$b.get_PrimaryModelName()},$1M:function(){this.$1Up(null,null)},addOnSave:function(a){Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().get_$3N().$tP(a)},getDataXml:function(){return null},removeOnSave:function(a){Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().get_$3N().$1UF(a)},getEntityName:function(){return!$a.$0.$0(this.$b)?this.$b.get_PrimaryModelName():""},getId:function(){return!$a.$0.$0(this.$b)?Microsoft.Dynamics.Client.Core.Framework.Guid.formatToUpper(this.$b.get_$12().get_$k()):""},getIsDirty:function(){return this.$b.get_$12().$Cq()},save:function(a){if(this.$b.$1U===5)this.$2Bh(a);else this.$b.$1U===2&&this.$2Bn(a)},getPrimaryAttributeValue:function(){var a=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(this.$b.get_PrimaryModelName());return!$a.$0.$0(a)?this.$b.get_$12().GetValue(a.$8e).toString():null},$166:function(b){var a=b.ApiDescriptor;if(this.$1ta(a.ControlType)&&!a.EditMode)if(!(a.FieldName in this.$pT)){this.$pT[a.FieldName]=0;!this.$tF(a.FieldName)&&this.$cG.add(a)}},$29v:function(a){if(!$a.$0.$0(a.get_AttributeFieldNames()))this.$cY(a.get_PrimaryModelName(),a.get_AttributeFieldNames());else a.AddPropertyChangedListener("AttributeFieldNames",this.$$d_$2BB)},$9k:function(){if(!$a.$0.$0(this.$b)){!$a.$0.$0(this.$b.get_$12())&&this.$b.get_$12().remove_$73(this.$$d_$2B0);this.$b.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$1Up);this.$b.RemovePropertyChangedListener("AttributeFieldNames",this.$$d_$1Up);this.$b=null}this.attributes=null;this.$3n=null;this.$pT=null},$1Up:function(){if(!$a.$0.$0(this.$b.get_PrimaryModelName())&&!$a.$5.$1N(this.$b.get_PrimaryModelName())){var a=null;if(Microsoft.Dynamics.Client.Core.ViewModels.$Bj.isInstanceOfType(this.$b)){a=this.$b.get_AttributeFieldNames();if($a.$0.$0(a))return}this.$b.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$1Up);this.$b.RemovePropertyChangedListener("AttributeFieldNames",this.$$d_$1Up);this.$cY(this.$b.get_PrimaryModelName().toLowerCase(),a)}},$2BB:function(a){a.rpcl("AttributeFieldNames",this.$$d_$2BB);var b=a.get_AttributeFieldNames(),c=a.get_PrimaryModelName();this.$cY(c,b)},$cY:function(d,b){var a={EntityType:d,Attributes:null};if(!$a.$0.$0(b))a.Attributes=b;var c=this.$Mb.$EA(a);Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(c)},$24a:function(g){if(this.$3H)return;for(var a=0;a<g.length;a++){var f=new Microsoft.Crm.Client.Core.Models.$51(g[a]);this.$3n[f.get_$2j()]=f}if(!$a.$0.$0(this.$b)){for(var d=0,i=this.$cG.get_count();d<i;d++)this.$tF(this.$cG.get_$2Hy(d).FieldName);var b=this.$b.$a8;if(!$a.$0.$0(b))for(var e=0;e<b.length;e++)this.$tF(b[e]);var c=this.$b.$v;if(!$a.$0.$0(c.ui)&&!$a.$0.$0(c.ui.controls)){var h=this;c.ui.controls.forEach(function(c){var a=c;if(!$a.$0.$0(a.$HS)){var b=h.attributes.get(a.$HS);!$a.$0.$0(b)&&b.controls.$h(a)}})}!$a.$0.$0(this.$b.get_$12())&&this.$b.get_$12().add_$73(this.$$d_$2B0)}this.$cG.clear()},$2Bh:function(b){var a;switch(b){case"saveandnew":a=this.$b.get_$vt();break;case"saveandclose":a=this.$b.get_$gq();break;default:a=this.$b.get_$gr()}a.$R()},$2Bn:function(d){var a=1;switch(d){case"saveandnew":a=59;break;case"saveandclose":a=2;break;default:var c=this.$b.$v;if(!$a.$0.$0(c.context.saveMode))a=c.context.saveMode}var b=this;this.$b.$Kl(a).done(function(d){if(d)b.$1K5(a);else if(a===59||a===2){var c=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Object);b.$b.$OZ(c,"Web._forms.styles.FORM.crm.htc_Title");c.done(function(c){c&&b.$1K5(a)})}})},$1K5:function(a){switch(a){case 59:Xrm.Utility.openEntityForm(this.$b.get_PrimaryModelName());break;case 2:Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Bd().$R()}},$1ta:function(a){return a===5||a===6||a===7||a===1},$tF:function(b){if(this.$3H)return false;var a=this.$3n[b];if($a.$0.$0(a))return false;switch(a.get_$fS()){case 11:this.attributes.$h(new Microsoft.Crm.Client.Core.ViewModels.$Ce(this.$b,this,a,b));break;case 0:this.attributes.$h(new Microsoft.Crm.Client.Core.ViewModels.$Aw(this.$b,this,a,b));break;case 2:this.attributes.$h(new Microsoft.Crm.Client.Core.ViewModels.$BI(this.$b,this,a,b));break;case 8:case 3:case 5:case 4:this.attributes.$h(new Microsoft.Crm.Client.Core.ViewModels.$Cd(this.$b,this,a,b));break;case 14:case 7:this.attributes.$h(new Microsoft.Crm.Client.Core.ViewModels.$DK(this.$b,this,a,b));break;case 6:case 9:case 1:this.attributes.$h(new Microsoft.Crm.Client.Core.ViewModels.$CG(this.$b,this,a,b));break;case 10:this.attributes.$h(new Microsoft.Crm.Client.Core.ViewModels.$Cj(this.$b,this,a,b));break;default:this.attributes.$h(new Microsoft.Crm.Client.Core.ViewModels.$73(this.$b,this,a,b))}return true},$2B0:function(e,d){var b=d;if(b.$Rj&&b.$RN!==2)for(var a=0;a<this.attributes.getLength();a++){var c=this.attributes.get(a);if(!$a.$0.$0(c))c.HasTemporaryChangedField=false}}};Microsoft.Crm.Client.Core.ViewModels.$4O=function(a){this.$1tq=this.isDefaultPrevented;this.$qH=a};Microsoft.Crm.Client.Core.ViewModels.$4O.prototype={$qH:0,$1FP:false,getSaveMode:function(){return this.$qH},isDefaultPrevented:function(){return this.$1FP},preventDefault:function(){this.$1FP=true}};Microsoft.Crm.Client.Core.ViewModels.$3N=function(a,b,c,d){this.items=new Microsoft.Crm.Client.Core.ViewModels.$2a;this.$D8=a;this.$IN=b;this.$1No=c;this.$12t=d;this.$O2=a.get_Visible()};Microsoft.Crm.Client.Core.ViewModels.$3N.prototype={items:null,$1No:null,$O2:false,$12t:null,$D8:null,$IN:null,getParent:function(){var b=null,a=this.$D8.get_$M().$v.ui.tabs.get(this.$1No);if(!$a.$0.$0(a))if(!$a.$0.$0(a.sections.get(this.$12t)))b=a.sections.get(this.$12t);return b},$1j:function(){return this.$IN},getControlType:function(){return"subgrid"},getLabel:function(){return this.$D8.get_LabelValue()},getName:function(){return this.$IN},getVisible:function(){return this.$O2},$JH:function(){return this.$D8.get_Visible()},setVisible:function(a){this.$D8.set_Visible(!!(a&this.getParent().$JH()));this.$O2=a},$qv:function(a){this.$O2&&this.$D8.set_Visible(a)},setFocus:function(){this.$D8.get_$M().$v.ui.RemoveCurrentControlFocus();this.setHasFocus(true)},setLabel:function(){},refresh:function(){this.$D8.$WI()},getFocus:function(){return Microsoft.Dynamics.Client.Core.ViewModels.$4Y.isInstanceOfType(this.$D8)?this.$D8.get_$1Y():false},setHasFocus:function(a){Microsoft.Dynamics.Client.Core.ViewModels.$4Y.isInstanceOfType(this.$D8)&&this.$D8.set_$1Y(a)},resetInitial:function(){this.$D8.$WR()}};Microsoft.Crm.Client.Core.ViewModels.$CG=function(a,b,c,d){Microsoft.Crm.Client.Core.ViewModels.$CG.initializeBase(this,[a,b,c,d])};Microsoft.Crm.Client.Core.ViewModels.$CG.prototype={getAttributeType:function(){return"lookup"},getValue:function(){var a=this.$4r.get_$12().GetValue(this.$1j());if(!$a.$0.$0(a)){var b=new($a.List.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem));b.add(new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(a.LogicalName,a.get_identifier(),a.Name));return b.toArray()}return null},setValue:function(b){if(!Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$22())return;if($a.$0.$0(b)){Microsoft.Crm.Client.Core.ViewModels.$73.prototype.setValue.call(this,null);return}if(!$a.$0.$0(b.splice)){var c=b;if(!c.length){Microsoft.Crm.Client.Core.ViewModels.$73.prototype.setValue.call(this,null);return}var a=c[0],e=new Microsoft.Dynamics.Client.Core.Framework.Guid(a.id),d=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(a.entityType,e,a.name);this.$2HX(d.LogicalName)&&Microsoft.Crm.Client.Core.ViewModels.$73.prototype.setValue.call(this,d)}},$2HX:function(c){var b=this.controls.get(0);if($a.$0.$0(b)&&this.$1Lp())return true;var a=b.$u;return Microsoft.Crm.Client.Core.ViewModels.$CS.isInstanceOfType(a)||Microsoft.Crm.Client.Core.ViewModels.$57.isInstanceOfType(a)&&c===a.get_LookupModelName()}};Microsoft.Crm.Client.Core.ViewModels.$80=function(a,b,c,d,e){Microsoft.Crm.Client.Core.ViewModels.$80.initializeBase(this,[a,b,c,d,e])};Microsoft.Crm.Client.Core.ViewModels.$80.prototype={getControlType:function(){return"lookup"},addCustomView:function(c,d,h,e,f,g){var a=new Microsoft.Dynamics.Client.Core.Framework.Guid(c),b=new Microsoft.Crm.Client.Core.Models.$81(a,e,f,d);this.$u.$Oo[a.toString()]=b;g&&this.$u.$17X(a)},getDefaultView:function(){var a=this.$u.$Gn.toString();return a===Microsoft.Dynamics.Client.Core.Framework.Guid.get_empty().toString()?null:Microsoft.Dynamics.Client.Core.Framework.Guid.formatToUpper(a)},setDefaultView:function(a){this.$u.$17X(new Microsoft.Dynamics.Client.Core.Framework.Guid(a))},addCustomFilter:function(a,b){this.$u.$1aj(a,b)},addPreSearch:function(e){var b=new Microsoft.Dynamics.Client.Core.Models.Constants.$3D;b.method=e;b.passExecutionContext=true;var c=this.$u.get_$Jw(),a;if($a.$0.$0(c)){var d=new($a.List.$$(Microsoft.Dynamics.Client.Core.Models.Constants.$3D))([b]);a=new Microsoft.Dynamics.Client.Core.Models.$6B(d,null);a.$Dx=new Microsoft.Dynamics.Client.Core.Framework.$6D(4,this.$HS)}else{a=this.$1DO(c);a.$Cm.add(b)}this.$u.set_$Jw(a)},removePreSearch:function(d){var a=this.$u.get_$Jw();if(!$a.$0.$0(a)&&!$a.$0.$0(a.$Cm))for(var b=0;b<a.$Cm.get_count();b++)if(a.$Cm.get_$2Hy(b).method===d){var c=this.$1DO(a);c.$Cm.remove(c.$Cm.get_$2Hy(b));this.$u.set_$Jw(c);break}},$1DO:function(a){var b=new Microsoft.Dynamics.Client.Core.Models.$6B(a.$Cm,a.$iU,a.$wz,a.$x0,a.$WV,a.$NV,a.$Dx);b.$Jd=a.$Jd;b.$Je=a.$Je;return b}};Microsoft.Crm.Client.Core.ViewModels.$Cd=function(a,b,c,d){Microsoft.Crm.Client.Core.ViewModels.$Cd.initializeBase(this,[a,b,c,d])};Microsoft.Crm.Client.Core.ViewModels.$Cd.prototype={getAttributeType:function(){if(!$a.$0.$0(this.$2V)&&this.$2V.get_$fS()===5&&!$a.$5.$1N(this.$2V.get_$19()))switch(this.$2V.get_$19().toLowerCase()){case"language":case"timezone":return"optionset"}return Microsoft.Crm.Client.Core.ViewModels.$73.prototype.getAttributeType.call(this)},getMin:function(){return!$a.$0.$0(this.$2V)?this.$2V.get_$QM():0},getMax:function(){return!$a.$0.$0(this.$2V)?this.$2V.get_$b3():0},getPrecision:function(){var b=this,a=this.controls.getFirst(function(a){return Microsoft.Dynamics.Client.Core.ViewModels.$AB.isInstanceOfType(a.$u)});return!$a.$0.$0(a)?a.$u.get_$oq():0},setPrecision:function(a){var b=this;this.controls.forEach(function(b){Microsoft.Dynamics.Client.Core.ViewModels.$AB.isInstanceOfType(b.$u)&&b.$u.set_$oq(a)})}};Microsoft.Crm.Client.Core.ViewModels.$Ce=function(a,b,c,d){Microsoft.Crm.Client.Core.ViewModels.$Ce.initializeBase(this,[a,b,c,d])};Microsoft.Crm.Client.Core.ViewModels.$Ce.prototype={getAttributeType:function(){return"optionset"},getValue:function(){return!$a.$0.$0(this.$4r)&&!$a.$0.$0(this.$4r.get_$12().GetValue(this.$1j()))?this.$4r.get_$12().GetValue(this.$1j()).$1w:this.$4r.get_$12().GetValue(this.$1j())},setValue:function(b){if(!Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$22())return;if($a.$0.$0(b)){Microsoft.Crm.Client.Core.ViewModels.$73.prototype.setValue.call(this,b);return}var a=this.$2V.$bk.$4S.get_$2Hy(b.toString());if(!$a.$0.$0(a)){var c=new Microsoft.Dynamics.Client.Core.ViewModels.$3S(a.get_$3G().toString(),a.get_$1v());Microsoft.Crm.Client.Core.ViewModels.$73.prototype.setValue.call(this,c)}},getInitialValue:function(){return this.controls.get(0).$u.$10Z},getOption:function(b){if(!$a.$0.$0(this.$2V)){var a=this.$2V.$bk.$4S.get_$2Hy(b);if(!$a.$0.$0(a))return new Microsoft.Crm.Client.Core.ViewModels.OptionSetItemWrapper(a)}return null},getOptions:function(){if(!$a.$0.$0(this.$2V)){var d=this.$2V.$bk.$4S.$1YQ(),c=new($a.List.$$(Microsoft.Crm.Client.Core.ViewModels.OptionSetItemWrapper)),a=d;for(var b in a){var e={key:b,value:a[b]};c.add(new Microsoft.Crm.Client.Core.ViewModels.OptionSetItemWrapper(e.value))}return c.toArray()}return null},getSelectedOption:function(){if(!$a.$0.$0(this.$4r)){var a=this.$4r.get_$12().GetValue(this.$1j());if(!$a.$0.$0(a))return new Microsoft.Crm.Client.Core.ViewModels.OptionSetItemWrapper(new Microsoft.Crm.Client.Core.Models.$7P(a))}return null},getText:function(){if(!$a.$0.$0(this.$4r)){var a=this.$4r.get_$12().GetValue(this.$1j());if(!$a.$0.$0(a))return a.get_$1v()}return""},getInvariantText:function(){return this.getText()}};Microsoft.Crm.Client.Core.ViewModels.$Cf=function(a,b,c,d,e){Microsoft.Crm.Client.Core.ViewModels.$Cf.initializeBase(this,[a,b,c,d,e])};Microsoft.Crm.Client.Core.ViewModels.$Cf.prototype={getControlType:function(){return"optionset"},addOption:function(a,b){this.$u.$1b7(new Microsoft.Dynamics.Client.Core.ViewModels.$3S(a.value.toString(),a.text),b)},clearOptions:function(){this.$u.$1fQ()},removeOption:function(a){this.$u.$2AH(a)}};Microsoft.Crm.Client.Core.ViewModels.OptionSetItemWrapper=function(a){if(!$a.$0.$0(a)){this.text=a.get_$1v();this.value=a.get_$3G()}};Microsoft.Crm.Client.Core.ViewModels.OptionSetItemWrapper.prototype={text:null,value:0};Microsoft.Crm.Client.Core.ViewModels.$Cj=function(a,b,c,d){Microsoft.Crm.Client.Core.ViewModels.$Cj.initializeBase(this,[a,b,c,d])};Microsoft.Crm.Client.Core.ViewModels.$Cj.prototype={getValue:function(){var b=new($a.List.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem)),f,c=this.$4r.get_$12().GetValue(this.$1j());if($a.$0.$47(c)||!c.get_count())return null;for(var d=0;d<c.get_count();d++){f=this.$4r.get_$12().GetValue(this.$1j()).get_entities()[d];var a=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$PW(f);if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference.isInstanceOfType(a)){var e=a;b.add(new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(e.LogicalName,e.get_key(),e.Name))}else String.isInstanceOfType(a)&&b.add(new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem("",null,a))}return b.toArray()},setValue:function(e){if(!Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$22())return;if($a.$0.$0(e)){this.$4r.get_$12().SetValue(this.$1j(),null);this.$16E();return}if(!$a.$0.$0(e.splice))try{Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().get_$3N().$1Fr(this.$1j());var a=e;if(!a.length){this.$4r.get_$12().SetValue(this.$1j(),null);return}for(var c=new($a.List.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord)),f,g,d,b=0;b<a.length;b++){f={partyid:new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(a[b].entityType,new Microsoft.Dynamics.Client.Core.Framework.Guid(a[b].id),a[b].name)};g={partyid:6};var i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference("activityparty",Microsoft.Dynamics.Client.Core.Framework.Guid.get_empty());d=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(i,f,g,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));d.$5L.add("partyid");c.add(d)}var h=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(c.toArray(),false,c.get_count(),false);this.$4r.get_$12().SetValue(this.$1j(),h)}finally{this.$16E();Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().get_$3N().$xX(this.$1j())}}};Microsoft.Crm.Client.Core.ViewModels.$3z=function(a,c,d,b){Microsoft.Crm.Client.Core.ViewModels.$3z.initializeBase(this,[a,c]);this.$Ae=d;this.controls=new Microsoft.Crm.Client.Core.ViewModels.$2a;this.$O2=a.get_Visible();this.$aq=null;if("logicalListChildrensNames"in b.ControlProperties)this.$aq=b.ControlProperties.logicalListChildrensNames};Microsoft.Crm.Client.Core.ViewModels.$3z.prototype={controls:null,$aq:null,$Ae:null,$O2:false,getParent:function(){return this.$Ae},setVisible:function(a){this.$O2=a;this.$1LQ(a)},getVisible:function(){return this.$O2},$JH:function(){return this.$7F.get_Visible()},$KQ:function(a){this.$O2&&this.$1LQ(a)},$1LQ:function(g){var d=!!(g&this.getParent().getVisible());Microsoft.Crm.Client.Core.ViewModels.$EP.prototype.setVisible.call(this,d);if(!$a.$0.$0(this.$aq)&&this.$aq.length>0)for(var c=this.$aq,e=c.length,a=0;a<e;++a){var f=c[a],b=this.$7F.get_$M().$v.ui.controls.get(f);!$a.$0.$0(b)&&Microsoft.Crm.Client.Core.ViewModels.$3N.isInstanceOfType(b)&&b.$qv(d)}}};Microsoft.Crm.Client.Core.ViewModels.$3a=function(a,b,c){Microsoft.Crm.Client.Core.ViewModels.$3a.initializeBase(this,[a,b]);this.$Ae=c;this.sections=new Microsoft.Crm.Client.Core.ViewModels.$2a};Microsoft.Crm.Client.Core.ViewModels.$3a.prototype={sections:null,$Ae:null,$cS:function(){var a=this;this.sections.forEach(function(a){a.$cS()});Microsoft.Crm.Client.Core.ViewModels.$EP.prototype.$cS.call(this)},getParent:function(){return this.$Ae},getDisplayState:function(){return"expanded"},setDisplayState:function(){},setFocus:function(){var a=this.$7F.get_$M().$v.ui.$yg;!$a.$0.$0(a)&&Microsoft.Dynamics.Client.Core.ViewModels.$4Y.isInstanceOfType(a.$7F)&&this.$7F.set_$1Y(false);if(Microsoft.Dynamics.Client.Core.ViewModels.$4Y.isInstanceOfType(this.$7F)){this.$7F.set_$1Y(true);this.$7F.get_$M().$v.ui.$yg=this}},setVisible:function(c){Microsoft.Crm.Client.Core.ViewModels.$EP.prototype.setVisible.call(this,c);for(var a=0;a<this.sections.getLength();a++){var b=this.sections.get(a);!$a.$0.$0(b)&&b.$KQ(c)}}};Microsoft.Crm.Client.Core.ViewModels.$DK=function(a,b,c,d){Microsoft.Crm.Client.Core.ViewModels.$DK.initializeBase(this,[a,b,c,d])};Microsoft.Crm.Client.Core.ViewModels.$DK.prototype={getMaxLength:function(){return!$a.$0.$0(this.$2V)?this.$2V.get_$JY():0},setValue:function(a){if(!Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$22())return;if($a.$0.$0(a)||String.isInstanceOfType(a))Microsoft.Crm.Client.Core.ViewModels.$73.prototype.setValue.call(this,a);else throw Error.create(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("DevError.BadDataType.String"));}};Microsoft.Crm.Client.Core.ViewModels.$4R=function(){this.saveMode=Microsoft.Dynamics.Client.Core.Framework.$z.$9C;this.client=new Microsoft.Crm.Client.Core.ViewModels.$Am};Microsoft.Crm.Client.Core.ViewModels.$4R.prototype={$Ay:null,getOrgLcid:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$7R},getOrgUniqueName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$Jo},getUserId:function(){var a=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$2i.toString();return!$a.$0.$0(a)?Microsoft.Dynamics.Client.Core.Framework.Guid.formatToUpper(a):a},getUserLcid:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$2O.$5N},getUserRoles:function(){if($a.$0.$0(this.$Ay)){for(var b=new($a.List.$$(String)),a=0;a<Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$Ay.length;a++)b.add(Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$Ay[a].toString());this.$Ay=b.toArray()}return this.$Ay},getServerUrl:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$2Cl()},getClientUrl:function(){var a=window.location.href,c=a.indexOf(window.location.pathname),b=a.substring(0,c);if(Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$28.usepathbasedurls){var d=this.getOrgUniqueName();return b+"/"+d}else return b},isOutlookClient:function(){return false},isOutlookOnline:function(){return false},isCrmOnline:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$28.islive},isOffice365:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$28.isosdporganization},prependOrgName:function(a){return String.format("/{0}{1}",Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$9v,a)},getCurrentTheme:function(){return null},getQueryStringParameters:function(){var a=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CI();return!$a.$0.$0(a)&&!$a.$0.$0(a.ui)&&!$a.$0.$0(a.ui.$b)?a.ui.$b.$HV:null},getUserName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$6B},getIsAutoSaveEnabled:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$MH},getServerDatabaseVersion:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().get_$2Cj()}};Microsoft.Crm.Client.Core.ViewModels.$Am=function(){};Microsoft.Crm.Client.Core.ViewModels.$Am.prototype={getClient:function(){return"Mobile"},getClientState:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$22()?"Online":"Offline"}};Microsoft.Crm.Client.Core.ViewModels.$2v=function(){Microsoft.Crm.Client.Core.ViewModels.$2v.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$2v.$67=function(b,c){var a=b.$v;if($a.$0.$0(a.data)){a.data=new Microsoft.Crm.Client.Core.ViewModels.$2v;a.data.entity=new Microsoft.Crm.Client.Core.ViewModels.$4F(b,c);a.data.entity.$1M();a.data.$b=b}};Microsoft.Crm.Client.Core.ViewModels.$2v.prototype={entity:null,$b:null,$166:function(a){!$a.$0.$0(this.entity)&&this.entity.$166(a)},$1Tx:function(a){!$a.$0.$0(this.entity)&&this.entity.$29v(a)},setFormDirty:function(a){this.$b.get_$12().isDirtySetByClient=a?1:2},$9k:function(){if(!$a.$0.$0(this.entity)){this.entity.$N();this.entity=null}this.$b=null},getIsValid:function(){return this.$b.get_IsValid()},save:function(){var a=null,b=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Object,Microsoft.Crm.Client.Core.ViewModels.$5m);if(this.$b.$1U===5)if(this.$b.get_$St()){a=this.$b.$LN.$42();var d=this;a.add_$Gr(function(c){var a=d.$b.$EQ,e=$a.$0.$0(a.$m)?null:Microsoft.Dynamics.Client.Core.Framework.Common.$9.$EB(a.$m);b.reject(new Microsoft.Crm.Client.Core.ViewModels.$5m(a.$m,e,c.$9d.message))})}else b.resolve();else if(this.$b.$1U===2&&this.$b.get_IsValid())if(this.$b.get_IsValid()){var c=1;if(!$a.$0.$0(this.$b.$v.context.saveMode))c=this.$b.$v.context.saveMode;a=this.$b.$Fl.$EA(c);var e=this;a.add_$Gr(function(c){var a=e.$b.$EQ,d=$a.$0.$0(a.$m)?null:Microsoft.Dynamics.Client.Core.Framework.Common.$9.$EB(a.$m);b.reject(new Microsoft.Crm.Client.Core.ViewModels.$5m(a.$m,d,c.$9d.message))})}else b.resolve();if(!$a.$0.$0(a)){var f=this;a.add_$Hp(function(){b.resolve()});Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(a)}return b.promise()},refresh:function(b){if(this.$b.$1U===5)return b?this.save():null;if(this.$b.$1U===2){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Object,Microsoft.Crm.Client.Core.ViewModels.$5m),c=this,d=this;this.$b.$WK(false,!b).then(function(b){a.resolve(b)},function(b){var c=$a.$0.$0(b.$m)?null:Microsoft.Dynamics.Client.Core.Framework.Common.$9.$EB(b.$m),d=$a.$0.$0(b.$1GX)?null:b.$1GX.message;a.reject(new Microsoft.Crm.Client.Core.ViewModels.$5m(b.$m,c,d))});return a.promise()}return null}};Microsoft.Crm.Client.Core.ViewModels.$1h=function(){this.$$d_$1aM=Function.createDelegate(this,this.$1aM);this.$$d_$1aL=Function.createDelegate(this,this.$1aL);this.$U5={};Microsoft.Crm.Client.Core.ViewModels.$1h.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$1h.$67=function(b){var a=b.$v;if($a.$0.$0(a.ui)){a.ui=new Microsoft.Crm.Client.Core.ViewModels.$1h;a.ui.$b=b;a.ui.controls=new Microsoft.Crm.Client.Core.ViewModels.$2a;a.ui.tabs=new Microsoft.Crm.Client.Core.ViewModels.$2a;a.ui.formSelector=new Microsoft.Crm.Client.Core.ViewModels.$2a;a.ui.navigation=new Microsoft.Crm.Client.Core.ViewModels.$2a}};Microsoft.Crm.Client.Core.ViewModels.$1h.CreateNewControl=function(e,c,f,g){var a=Microsoft.Crm.Client.Core.Models.$2N.$1h6(e,c,c,g,false,false),b=Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$20(a,null);b.$1M();var d=new $a.$Y($("#"+f));$a.$1S.Instance.$2Hz(Microsoft.Dynamics.Client.Core.Framework.$3E).$1j5(Microsoft.Dynamics.Client.Core.Models.Descriptors.$V.$AJ(a),d,b)};Microsoft.Crm.Client.Core.ViewModels.$1h.prototype={controls:null,tabs:null,formSelector:null,navigation:null,$hS:null,$yg:null,$LS:null,$b:null,$cS:function(){var a=this;this.controls.forEach(function(a){a.resetInitial()});var b=this;this.tabs.forEach(function(a){a.$cS()})},$29r:function(b,a){switch(a.ApiDescriptor.ControlType){case 2:this.$1sv(b,a);break;case 3:this.$1sr(b,a);break;case 4:this.$1sn(b,a);break;case 1:case 5:case 6:case 7:this.$1sg(b,a)}},close:function(){if(Microsoft.Dynamics.Client.Core.ViewModels.$33.isInstanceOfType(this.$b))Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$vI(this.$b);else Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$13v(false)},getViewPortHeight:function(){return null},getViewPortWidth:function(){return null},refreshRibbon:function(){return},getFormType:function(){return Microsoft.Dynamics.Client.Core.ViewModels.$33.isInstanceOfType(this.$b)?1:Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.$b.get_$J())&&this.$b.get_$J().get_$MJ()?4:!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$EK(this.$b.get_PrimaryModelName(),2)?3:2},CreateControl:function(a,b,c,d){Microsoft.Crm.Client.Core.ViewModels.$1h.CreateNewControl(a,b,c,d)},getCurrentControl:function(){for(var e=this.controls.get(),c=e,d=c.length,b=0;b<d;++b){var a=c[b];if(Microsoft.Crm.Client.Core.ViewModels.$69.isInstanceOfType(a)){var f=a;if(f.getFocus())return a}else if(Microsoft.Crm.Client.Core.ViewModels.$3N.isInstanceOfType(a)){var g=a;if(g.getFocus())return a}}return null},setFormNotification:function(d,e,b){if($a.$5.$L(b))b=this.$1px();var a=0;if(e)switch(e.toUpperCase()){case"INFO":a=1;break;case"WARNING":a=2;break;case"ERROR":a=3;break;default:a=0}if(b==="SaveDuplicate"){var c=new($a.List.$$(Microsoft.Dynamics.Client.Core.ViewModels.$Bt));c.$h(new Microsoft.Dynamics.Client.Core.ViewModels.$6l("abc",this.$$d_$1aL));c.$h(new Microsoft.Dynamics.Client.Core.ViewModels.$6l("xyz",this.$$d_$1aM));Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Ly().$Ja.$1bP(b,d,c,a);return true}return Microsoft.Dynamics.Client.Core.ViewModels.$2T.$cx(d,a,b)},$1aL:function(){Microsoft.Dynamics.Client.Core.ViewModels.$2g.$3l("Action1","Action1")},$1aM:function(){Microsoft.Dynamics.Client.Core.ViewModels.$2g.$3l("Action2","Action2")},clearFormNotification:function(a){return Microsoft.Dynamics.Client.Core.ViewModels.$2T.$GZ(a)},RemoveCurrentControlFocus:function(){var a=this.getCurrentControl();if(!$a.$0.$0(a))if(Microsoft.Crm.Client.Core.ViewModels.$69.isInstanceOfType(a))a.setHasFocus(false);else Microsoft.Crm.Client.Core.ViewModels.$3N.isInstanceOfType(a)&&a.setHasFocus(false)},$9k:function(){this.$b=null;this.controls=null;this.tabs=null;this.formSelector=null;this.navigation=null},$1sv:function(b,d){var c=d.ApiDescriptor,a=new Microsoft.Crm.Client.Core.ViewModels.$3a(b,c.ControlName,this);this.tabs.$h(a);this.$hS=a;this.$LS=null;if(Microsoft.Dynamics.Client.Core.ViewModels.$4Y.isInstanceOfType(b)&&b.get_$1Y())this.$yg=a},$1sr:function(d,b){var c=b.ApiDescriptor,a=new Microsoft.Crm.Client.Core.ViewModels.$3z(d,c.ControlName,this.$hS,b);!$a.$0.$0(this.$hS)&&this.$hS.sections.$h(a);this.$LS=a},$1sg:function(d,e){var a=e.ApiDescriptor,b=a.ControlName,c;a.ControlName=a.ControlName+($a.$0.$0(this.$U5[b])?"":this.$U5[b]);if(a.EditMode)this.$1LI(d,a);else{c=this.controls.get(a.ControlName);if(!$a.$0.$0(c)&&$a.$0.$0(c.$43))c.$7C(d,a.EditMode);else this.$1LI(d,a);this.$U5[b]=b in this.$U5?this.$U5[b]+1:1}},$1LI:function(b,c){var a=this.$3O(b,c);!$a.$0.$0(this.$LS)&&this.$LS.controls.$h(a);this.controls.$h(a)},$3O:function(b,a){switch(a.ControlType){case 5:return new Microsoft.Crm.Client.Core.ViewModels.$Cf(b,a.EditMode,a.ControlName,a.FieldName,this.$LS);case 6:return new Microsoft.Crm.Client.Core.ViewModels.$80(b,a.EditMode,a.ControlName,a.FieldName,this.$LS);case 7:return new Microsoft.Crm.Client.Core.ViewModels.$BJ(b,a.EditMode,a.ControlName,a.FieldName,this.$LS);default:return new Microsoft.Crm.Client.Core.ViewModels.$69(b,a.EditMode,a.ControlName,a.FieldName,this.$LS)}},$1sn:function(g,a){var f=a.ApiDescriptor,c="",d="";if(!$a.$0.$0(a.ControlProperties)){if("LogicalTabParent"in a.ControlProperties)c=a.ControlProperties.LogicalTabParent;if("LogicalSectionParent"in a.ControlProperties)d=a.ControlProperties.LogicalSectionParent}var b=new Microsoft.Crm.Client.Core.ViewModels.$3N(g,f.ControlName,c,d),e=b.getParent();!$a.$0.$0(e)&&e.controls.$h(b);this.controls.$h(b)},$1px:function(){var a=Math.random();return"Random_String_"+a}};Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper=function(a){this.$Ck=a};Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper.prototype={$Ck:null,getSelectedRecordReferences:function(){var a=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$zV();if(!$a.$0.$0(a)&&a.length>0){for(var b=null,c=0;c<a.length;c++)if(Microsoft.Dynamics.Client.Core.ViewModels.$3A.isInstanceOfType(a[c]))b=a[c];if(b&&this.$Ck&&!$a.$0.$0(this.$Ck.get_$4C()))if(this.$Ck.get_$4C().$Dn(b))if(Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(b.get_$J())){var e=b.get_$J(),d=new Mscrm.EntityReference;d.Id=e.$Z.$3A.get_identifier();d.TypeCode=e.$Z.$3A.TypeCode;return[d]}}return new Array(0)},refresh:function(){this.$Ck.$WI()},getCellValue:function(d,e){for(var a=0;a<this.$Ck.get_$2X().get_$4C().get_$C();a++){var c=this.$Ck.get_$2X().get_$4C().get_$2Hy(a),f=c.get_$k();if(e===f){var b=c.GetValue(d);return Object.getType(b)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$11?b.get_$AA():b.toString()}}return null},getRelationshipName:function(){return this.$Ck.$Ec},getRelationshipAttributeName:function(){return this.$Ck.$DD},getRelationshipRoleOrdinal:function(){return this.$Ck.$A0},getRelationshipType:function(){return this.$Ck.$5G}};Microsoft.Crm.Client.Core.ViewModels.$1D=function(){};Microsoft.Crm.Client.Core.ViewModels.$1D.get_$4=function(){if($a.$0.$0(Microsoft.Crm.Client.Core.ViewModels.$1D.$9))Microsoft.Crm.Client.Core.ViewModels.$1D.$9=new Microsoft.Crm.Client.Core.ViewModels.$1D;return Microsoft.Crm.Client.Core.ViewModels.$1D.$9};Microsoft.Crm.Client.Core.ViewModels.$1D.$1GQ=function(c,a){if(Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(a)||Microsoft.Dynamics.Client.Core.ViewModels.$3A.isInstanceOfType(a)){if(c===2)return a.get_$30();else if(c===1){var b;if(Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(a))b=a.get_$14z();else b=a.get_$Ab().get_$14z();if(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(b))return b.get_PrimaryModelName()}}else if(c===1&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(a))return a.get_$30();return"none"};Microsoft.Crm.Client.Core.ViewModels.$1D.$1lQ=function(a){return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(a)||Microsoft.Dynamics.Client.Core.ViewModels.$3A.isInstanceOfType(a)?a.get_PrimaryModelName():"none"};Microsoft.Crm.Client.Core.ViewModels.$1D.$1E6=function(b){var a;switch(b){case 1:a=0;break;case 2:a=1;break;case 4:a=2;break;case 8:a=3;break;case 16:a=7;break;case 32:a=6;break;case 64:a=4;break;case 128:a=5;break;default:a=1}return a};Microsoft.Crm.Client.Core.ViewModels.$1D.$1E7=function(a){if($a.$0.$0(a)||a===-1)a=0;return a};Microsoft.Crm.Client.Core.ViewModels.$1D.prototype={$1GR:function(a,b){return $a.$0.$0(a)||$a.$0.$0(a.Rules)||!a.Rules.length?Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6).resolve(true):this.$xr(a.Rules,b)},$2Q:function(b,c){var d=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),a=null;if($a.$0.$47(b))return d.resolve(false);switch(b.RuleType){case 8:a=this.$1lO(b);break;case 1:a=this.$1lT(b,c);break;case 7:a=this.$1lV(b,c);break;case 4:a=this.$1lW(b,c);break;case 16:a=this.$1lX(b);break;case 2:a=this.$1lZ(b,c);break;case 10:a=this.$1lb(b);break;case 19:a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6).resolve(b.DefaultValue);break;case 17:a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6).resolve(false);break;case 12:a=this.$1ld(b);break;case 6:a=this.$1lR(b,c);break;case 5:a=this.$1lg(b);break;case 11:a=this.$1lh(b);break;case 3:a=this.$1lj(b,c);break;case 26:a=this.$1lP(b);break;case 15:a=this.$1lS(b,c);break;case 21:a=this.$1lU(b,c);break;case 9:a=this.$1la(b);break;case 18:a=this.$1lc(b);break;case 23:a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6).resolve(false);break;case 22:a=this.$1le(b);break;case 20:a=this.$1lf(b,c);break;case 24:a=this.$1lY(b,c);break;default:a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6).resolve(true)}if($a.$0.$47(a))a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6);var e=this;a.done(function(a){if($a.$0.$47(a))a=$a.$0.$47(b.DefaultValue)?true:b.DefaultValue;if(!$a.$0.$47(b.InvertResult)&&b.InvertResult)a=!a;d.resolve(a)});return d.promise()},$xr:function(c,e){for(var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),d=c.length,b=0;b<c.length;b++){var f=this;this.$2Q(c[b],e).done(function(b){if(!b)a.resolve(false);else!--d&&a.resolve(true)})}return a.promise()},$1lZ:function(c,e){for(var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),d=c.OrGroups.length,b=0;b<c.OrGroups.length;b++){var f=this;this.$xr(c.OrGroups[b].Rules,e).done(function(b){if(b)a.resolve(true);else!--d&&a.resolve(false)})}return a.promise()},$1lW:function(a,c){var b=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6);$a.Trace.logInfo(139,"Evaluating JavascriptRulePart Function name: {0} - Library: {1}",a.FunctionName,a.Library);Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1Ga(a.FunctionName,a.Library,a.Parameters,c,null,b);return b.promise()},$1lO:function(b){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6);return a.resolve(b.ClientType===1)},$1lg:function(c){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),b=0;if(!$a.$0.$0(c.Minimum))b=c.Minimum;a.resolve(b<2);return a},$1lV:function(e,b){var g=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),a=e.DefaultValue;switch(e.FormState){case 2:case 4:var h=Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(b)||Microsoft.Dynamics.Client.Core.ViewModels.$3A.isInstanceOfType(b)?b:b.get_$M(),c=h.get_$J();if($a.$0.$0(c)||$a.$0.$0(c.$Z)||$a.$0.$0(c.$Z.getValue("statecode")))a=false;else{var d=e.FormState===2?0:1,f=c.$Z.getValue("statecode").$1w;a=d===f||d===1&&f>=d}break;case 1:a=Microsoft.Dynamics.Client.Core.ViewModels.$33.isInstanceOfType(b);break;case 9:case 3:case 7:case 6:case 0:a=false}return g.resolve(a)},$1lh:function(b){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6);return a.resolve(!!(b.SkuTypes&2))},$1lU:function(b,c){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6);return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(c)?a.resolve(c.get_PrimaryModelName()===b.EntityLogicalName):a.resolve(b.DefaultValue)},$1lj:function(b,g){var e=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),c=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CI();if(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(g)){var h=g,d=h.get_$J();if(!$a.$0.$0(d)&&!$a.$0.$0(d.$Z)){var a=null;if(!$a.$0.$0(c.data)&&!$a.$0.$0(c.data.entity)){var f=c.data.entity.attributes.get(b.Field);if(!$a.$0.$0(f))a=f.getValue()}else a=d.$Z.getValue(b.Field);if(!$a.$0.$0(a))return e.resolve(a.toString()===b.Value)}}return e.resolve(b.DefaultValue)},$1lT:function(a,b){var d=a.AppliesTo;if(IsNull(d)||!d)d=1;var e=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),c=null,f=null;if(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(b))f="Form";else if(Microsoft.Dynamics.Client.Core.ViewModels.GridViewModel.isInstanceOfType(b)||Microsoft.Dynamics.Client.Core.ViewModels.$3A.isInstanceOfType(b)&&Microsoft.Dynamics.Client.Core.ViewModels.GridViewModel.isInstanceOfType(b.get_$Ab()))f="HomePageGrid";if(d===1){if(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(b))c=b.get_PrimaryModelName()}else if(d===2)if(Microsoft.Dynamics.Client.Core.ViewModels.GridViewModel.isInstanceOfType(b)||Microsoft.Dynamics.Client.Core.ViewModels.$3A.isInstanceOfType(b))c=b.get_PrimaryModelName();var i=IsNull(a.EntityLogicalName)||!a.EntityLogicalName.length||(a.EntityLogicalName==="listmember"?c==="account"||c==="contact"||c==="lead":c===a.EntityLogicalName),g=IsNull(a.EntityContextName)||!a.EntityContextName.length||f===a.EntityContextName;if(i)e.resolve(g);else{if(a.EntityLogicalName==="activitypointer"&&f==="HomePageGrid"){var h=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(c);if(!$a.$0.$0(h))e.resolve(h.get_$Uq()&&g);else e.resolve(a.DefaultValue)}e.resolve(false)}return e.promise()},$1lX:function(b){var c=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),a=b.DefaultValue;if(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22())a=b.OfflineAccessState===1;else a=b.OfflineAccessState===2;return c.resolve(a)},$1le:function(b){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6);return a.resolve(b.DefaultValue)},$1ld:function(b){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6);return a.resolve(b.Address===Microsoft.Dynamics.Client.Core.Framework.$3d.$E("location"))},$1lS:function(c,f){var e=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),d=null;if(!$a.$5.$L(c.EntityLogicalName))d=c.EntityLogicalName;else d=Microsoft.Crm.Client.Core.ViewModels.$1D.$1GQ(c.AppliesTo,f);if(d==="none")e.resolve(c.DefaultValue);else{var a=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(d);if(!$a.$0.$0(a)){var b=c.PropertyValue;switch(c.PropertyName){case 5:b=a.$122;break;case 4:b=a.get_$1rx();break;case 1:b=a.$11W;break;case 2:b=a.$115||a.$1Q==="activitypointer";break;case 6:b=a.$117;break;case 8:b=a.get_$Uq()||a.$1Q==="activitypointer";break;case 10:b=a.$11A;break;case 11:b=a.$10q;break;case 13:b=a.$9l;break;case 14:b=a.$11O;break;case 15:b=a.$11I}e.resolve(c.PropertyValue===b)}else{$a.Trace.logError(139,"Unable to retrieve entity metadata for entity [{0}].",d);e.resolve(c.DefaultValue)}}return e},$1la:function(d){var c=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),b=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R,a=true;switch(d.Setting){case 2:a=b.$Q1;break;case 3:a=b.$U7!==new Date(0,0,1)}return c.resolve(a)},$1lR:function(a,g){var c=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),b=null;if(!$a.$5.$L(a.EntityLogicalName))b=a.EntityLogicalName;else b=Microsoft.Crm.Client.Core.ViewModels.$1D.$1GQ(a.AppliesTo,g);if(b==="none")c.resolve(false);else{var d=g.get_$M();if(!$a.$0.$0(d)&&!$a.$0.$0(d.get_$J())&&a.AppliesTo===1&&b===d.get_$J().get_$5l()){$a.Trace.logInfo(139,"Evaluating model privileges for entity: {0}.  PrivilegeType: {1}. PrivilegeDepth: {2}. ",b,a.PrivilegeType,a.PrivilegeDepth);var e=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$1MP(b,d.get_$J(),Microsoft.Crm.Client.Core.ViewModels.$1D.$1E6(a.PrivilegeType),Microsoft.Crm.Client.Core.ViewModels.$1D.$1E7(a.PrivilegeDepth));$a.Trace.logInfo(139,"Privileges for entity: {0}.  PrivilegeType: {1}. PrivilegeDepth: {2}. Evaluated to: {3}",b,a.PrivilegeType,a.PrivilegeDepth,e);c.resolve(e)}else{$a.Trace.logInfo(139,"Evaluating privileges for entity: {0}.  PrivilegeType: {1}. PrivilegeDepth: {2}",b,a.PrivilegeType,a.PrivilegeDepth);var f=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$11d(b,Microsoft.Crm.Client.Core.ViewModels.$1D.$1E6(a.PrivilegeType),Microsoft.Crm.Client.Core.ViewModels.$1D.$1E7(a.PrivilegeDepth));$a.Trace.logInfo(139,"Privileges for entity: {0}.  PrivilegeType:{1}. PrivilegeDepth: {2}. Evaluated to: {3}",b,a.PrivilegeType,a.PrivilegeDepth,f);c.resolve(f)}}return c},$1lb:function(b){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6);return a.resolve(!b.OutlookClientType)},$1lc:function(b){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6);return a.resolve(b.RenderType===1)},$1lP:function(b){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6);return a.resolve(b.ClientType===1)},$1lf:function(c,d){var b=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6);if($a.$0.$0(c.RelationshipType))return b.resolve(true);var a=d;if(!Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(a))a=d.get_$Ab();if(Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(a))if(!c.RelationshipType&&a.$5G===-1)return b.resolve(true);else if(c.RelationshipType===1&&!a.$5G)return b.resolve(true);else if(c.RelationshipType===2&&a.$5G===1)return b.resolve(true);return b.resolve(false)},$1lY:function(e,l){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Microsoft.Dynamics.Client.Core.Framework.$6),b=Microsoft.Crm.Client.Core.ViewModels.$1D.$1lQ(l);if(b==="none")a.resolve(e.DefaultValue);else{var c=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(b);if(!$a.$0.$0(c)&&!$a.$0.$0(c.$5U.get_$2Hy("statuscode"))){var d=0,i=c.$5U.get_$2Hy("statuscode").$D5,f=i.$4S;for(var g in f){var j={key:g,value:f[g]},h=j.value.getValue(Microsoft.Dynamics.Client.Core.Framework.$g.$75);if($a.$0.$0(h))continue;else{var k=h;if(e.StateCode===k){d++;if(d>1)break}}}a.resolve(d===1)}else{$a.Trace.logError(139,"Unable to retrieve entity metadata for entity [{0}].",b);a.resolve(e.DefaultValue)}}return a}};Microsoft.Crm.Client.Core.ViewModels.$9O=function(){this.$$d_$230=Function.createDelegate(this,this.$230);this.$$d_$25Q=Function.createDelegate(this,this.$25Q);Microsoft.Crm.Client.Core.ViewModels.$9O.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$9O.prototype={$tv:null,$Kc:null,$Ec:null,$5G:0,$A0:0,$DD:null,$cI:null,$bM:false,get_RelatedReference:function(){return this.$cI},set_RelatedReference:function(a){this.$cI=a;return a},add_$29i:function(a){this.$5S("RecordsAssociated",a)},remove_$29i:function(a){this.$5a("RecordsAssociated",a)},get_$27P:function(){return this.get_ExternalContext().$s.ParentId},get_$2Am:function(){return true},$230:function(){this.$Ub("RecordsAssociated");this.$YK()},$CK:function(b,a){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$CK.call(this,b,a);a.AddPropertyChangedListener("Data",this.$$d_$25Q)},$25Q:function(b){var a=b;this.$cI=a.get_Data();!$a.$0.$0(this.$cI)&&!$a.$0.$0(this.$tv)&&Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(this.$tv.$42());this.$bM=a.$bM}};Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel=function(){this.$$d_$25L=Function.createDelegate(this,this.$25L);this.$Ku=new Array(0);this.$X6=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$11("",0,0,null);Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.$1oL=function(a,d){if(!$a.$0.$0(a.$Kt)&&a.$Kt.length>0)return a.$Kt;for(var b=0;b<d.length;++b){var c=d[b];if(c.$1w===a.$1w)return c.$Kt}return null};Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.prototype={$15w:null,get_StateCode:function(){return this.$X6},set_StateCode:function(a){if(!$a.$0.$0(a)&&this.$X6!==a){this.$X6=a;this.set_$61(this.$zK());this.$5("StateCode")}return a},$Qm:function(a,c,b){if(!this.get_$Mw()){this.$Ku=a;a=this.$zK();Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$Qm.call(this,a,false,b);a.length===1&&this.set_SelectedItem(a[0].get_$AA())}},$1M:function(){Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$1M.call(this);this.$15w=this.$$d_$25L;!$a.$0.$0(this.get_$M())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$M().get_$J())&&this.get_$M().get_$J().add_$73(this.$15w)},$9k:function(){Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$9k.call(this);!$a.$0.$0(this.get_$M())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$M().get_$J())&&this.get_$M().get_$J().remove_$73(this.$15w)},$zK:function(){if(!this.$Ku||this.$Ku.length<=0)return new Array(0);var h=Xrm.Utility.AreStateTransitionsEnforced(this.get_$M().get_PrimaryModelName());if(h){if($a.$0.$0(this.get_Data())||!Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$11.isInstanceOfType(this.get_Data()))throw Error.argument("StatusCode","Status dropdownlist doesn't have a valid currently selected value.");var a=new($a.List.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$11)),f=this.get_Data();a.add(f);var b=Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.$1oL(f,this.$Ku);if(b)for(var c=0;c<b.length;c++)for(var d=0;d<this.$Ku.length;d++){var e=this.$Ku[d];e.$1V===this.get_StateCode().$1w&&e.$1w===b[c]&&a.add(e)}return a.toArray()}else{var g=this;return $.grep(this.$Ku,function(a){return a.$1V===g.get_StateCode().$1w})}},$25L:function(){this.set_$61(this.$zK())}};Microsoft.Crm.Client.Core.ViewModels.$EQ=function(){this.get_$1Y=this.get_HasFocus;this.set_$1Y=this.set_HasFocus;Microsoft.Crm.Client.Core.ViewModels.$EQ.resolveInheritance();this.get_$5C=this.get_IsSelected;this.set_$5C=this.set_IsSelected;this.get_$30=this.get_PrimaryModelName;this.set_$30=this.set_PrimaryModelName;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$EQ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EQ.prototype={$1q:false,get_HasFocus:function(){return this.$1q},set_HasFocus:function(a){if(this.$1q!==a){this.$1q=a;this.$5("HasFocus")}return a},get_$1TX:function(){return"mailto:"}};Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel=function(){this.$$d_$D3=Function.createDelegate(this,this.$D3);this.$mC=2;this.$Fb=[];this.get_$1Y=this.get_HasFocus;this.set_$1Y=this.set_HasFocus;Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.resolveInheritance();this.get_$5C=this.get_IsSelected;this.set_$5C=this.set_IsSelected;this.get_$30=this.get_PrimaryModelName;this.set_$30=this.set_PrimaryModelName;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$D3)};Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.$1N2=function(a){return a.get_ItemViewModels()};Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.$1kJ=function(a){return a.get_DisplayOverflowIndicator()};Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.$2EK=function(a){return a.get_SingleLineMode()};Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.prototype={$1q:false,$P5:false,$12W:true,$OD:true,$Ng:false,get_HasFocus:function(){return this.$1q},set_HasFocus:function(a){if(this.$1q!==a){this.$1q=a;this.$5("HasFocus")}return a},get_ItemViewModels:function(){return this.$Fb},set_ItemViewModels:function(a){if(this.$Fb!==a){this.$ZC();this.$Fb=a;this.$5("ItemViewModels")}return a},get_DisplayOverflowIndicator:function(){return this.$P5},set_DisplayOverflowIndicator:function(a){if(this.$P5!==a){this.$P5=a;this.$5("DisplayOverflowIndicator")}return a},get_SingleLineMode:function(){return this.$Ng},set_SingleLineMode:function(a){if(this.$Ng!==a){this.$Ng=a;this.$mC=this.$Ng?1:2;this.$5("SingleLineMode")}return a},get_AllowNavigate:function(){return this.$OD},set_AllowNavigate:function(a){this.$OD=a;return a},$D3:function(){if($a.$0.$0(this.get_Data()))this.set_ItemViewModels([]);else if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())){for(var b=this.get_Data(),c=[],a=0;a<b.get_entities().length&&(a<this.$mC||!this.$12W);a++)Array.add(c,this.$20(b.get_entities()[a]));this.set_DisplayOverflowIndicator(b.get_entities().length>this.$mC&&this.$12W);this.set_ItemViewModels(c)}},$20:function(b){var a=new Microsoft.Dynamics.Client.Core.ViewModels.NavigationButtonViewModel;a.set_$M(this.get_$M());a.$1M();a.set_$J(this.get_$J());a.$OD=this.$OD;a.set_Data(Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$PW(b));return a},$ZC:function(){var a=this;Array.forEach(this.get_ItemViewModels(),function(a){if($a.$85.isInstanceOfType(a)){var b=a;b.$N()}})},$9k:function(){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this);this.$ZC()}};Microsoft.Crm.Client.Core.ViewModels.$9b=function(){this.$$d_$25a=Function.createDelegate(this,this.$25a);this.$$d_$29b=Function.createDelegate(this,this.$29b);Microsoft.Crm.Client.Core.ViewModels.$9b.initializeBase(this);this.$cA=this.$$d_$29b;Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().add_$iH(this.$cA)};Microsoft.Crm.Client.Core.ViewModels.$9b.$aX=function(a){return a.get_$FZ()};Microsoft.Crm.Client.Core.ViewModels.$9b.prototype={$83:false,$cA:null,$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);!$a.$0.$0(this.get_$M())&&this.get_$M().AddPropertyChangedListener("LaunchedWithUnsavedChanges",this.$$d_$25a)},$9k:function(){Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$J())&&this.get_$J().remove_$73(this.$cA);!$a.$0.$0(this.get_$M())&&this.get_$M().RemovePropertyChangedListener("LaunchedWithUnsavedChanges",this.$$d_$25a);Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().remove_$iH(this.$cA);Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this)},$Qk:function(){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$Qk.call(this);if(Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$J())){var a=this.get_$J();this.$uV();a.add_$73(this.$cA)}},get_$FZ:function(){return this.$83},set_$FZ:function(a){if(a!==this.$83){this.$83=a;this.$5("IsLoading")}return a},$25a:function(){this.$uV()},$29b:function(){this.$uV()},$uV:function(){var a=Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().$1V;if(!$a.$0.$0(this.get_$J())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$J()))if(Microsoft.Dynamics.Client.Core.ViewModels.$A5.isInstanceOfType(this.get_$M())&&this.get_$M().get_LaunchedWithUnsavedChanges()){if(a===4||!this.get_$J().$MW){this.set_$FZ(true);return}}else if(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()&&!this.get_$J().$Fw||!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()&&!this.get_$J().$MW||a===4){this.set_$FZ(true);return}this.set_$FZ(false)}};Microsoft.Crm.Client.Core.ViewModels.$G5=function(){this.get_$1Y=this.get_HasFocus;this.set_$1Y=this.set_HasFocus;Microsoft.Crm.Client.Core.ViewModels.$G5.resolveInheritance();this.get_$5C=this.get_IsSelected;this.set_$5C=this.set_IsSelected;this.get_$30=this.get_PrimaryModelName;this.set_$30=this.set_PrimaryModelName;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$G5.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$G5.prototype={$1q:false,get_HasFocus:function(){return this.$1q},set_HasFocus:function(a){if(this.$1q!==a){this.$1q=a;this.$5("HasFocus")}return a},$Qk:function(){Microsoft.Dynamics.Client.Core.ViewModels.$4S.prototype.$Qk.call(this);var a=this.get_ActionCommand();if(Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.isInstanceOfType(this.get_ActionCommand())){var b=this.get_$M().get_$J()||this.get_$J();if(!$a.$0.$0(b)){var c="",d=b.get_$5l(),e=b.get_$k(),f=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(d);if(!$a.$0.$0(f)){var g=b.GetValue(f.$8e);c=$a.$0.$0(g)?"":g.toString()}var h=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.$TC(d,e,c);a.$rv=h;a.$66=e;a.$pQ=c;a.$pR=d}}},$1QY:function(b,c){Microsoft.Crm.Client.Core.ViewModels.$HH.prototype.$1QY.call(this,b,c);var a=this.get_ActionCommand();!Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.isInstanceOfType(this.get_ActionCommand())&&!$a.$0.$0(a)&&this.set_ActionCommand(new Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator(a))}};Microsoft.Crm.Client.Core.ViewModels.$CS=function(){this.$$d_$Vp=Function.createDelegate(this,this.$Vp);Microsoft.Crm.Client.Core.ViewModels.$CS.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$CS.prototype={$IJ:null,$m8:null,$fc:null,$mO:null,get_LookupViewActionProvider:function(){return this.$m8},set_LookupViewActionProvider:function(a){this.$m8=a;return a},get_BindingField:function(){return this.$fc},set_BindingField:function(a){this.$fc=a;return a},get_MetadataQueryDescriptor:function(){return this.$mO},set_MetadataQueryDescriptor:function(a){this.$mO=a;return a},$CK:function(b,a){Microsoft.Crm.Client.Core.ViewModels.$57.prototype.$CK.call(this,b,a);if(Microsoft.Crm.Client.Core.ViewModels.$BV.isInstanceOfType(a)){this.$IJ=a;this.$IJ.AddPropertyChangedListener("SelectedItem",this.$$d_$Vp);this.$15Y();if(!$a.$0.$0(this.get_LookupModelName()))this.$IJ.$10T=this.get_LookupModelName()}},$c1:function(a,b){if(!$a.$0.$0(a))($a.$0.$0(this.$IJ)||this.$1WJ(a.$E2))&&Microsoft.Crm.Client.Core.ViewModels.$57.prototype.$c1.call(this,a,b)},$1RX:function(a,b){Microsoft.Crm.Client.Core.ViewModels.$57.prototype.$1RX.call(this,a,b);this.$1WJ(this.get_LookupModelName())},$Vp:function(){var a=this.$IJ.get_Data();!$a.$0.$0(this.get_$CZ())&&this.get_$CZ().get_$Aa()!==a.get_$2j()&&this.set_$CZ(null);this.$15Y()},$15Y:function(){var a=this.$IJ.get_Data();if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2m.isInstanceOfType(a)){this.set_LookupModelName(a.$1Q);if(!$a.$0.$0(this.$Z5))if(a.$1Q===this.$Z5.$E2)this.$19D(this.$Z5);else{var b=this.$m8.$EA(2);Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(b)}else{var c=this.$m8.$EA(0);Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(c)}}},$1WJ:function(b){if(this.$IJ){var a=this.$IJ.$1GE(b);if(a>=0){this.$IJ.$1ss(a.toString());return true}}return false}};Microsoft.Crm.Client.Core.ViewModels.$CH=function(){Microsoft.Crm.Client.Core.ViewModels.$CH.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$CH.prototype={$62:null,$JU:null,$Rc:function(d){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$Rc.call(this,d);var b=d;for(var c in b){var e={key:c,value:b[c]},a=e.value;if(Microsoft.Crm.Client.Core.ViewModels.$6k.isInstanceOfType(a))this.$62=a;else if(Microsoft.Dynamics.Client.Core.ViewModels.$36.isInstanceOfType(a))this.$JU=a}},$9k:function(){if(!$a.$0.$0(this.$62)){this.$62.$N();this.$62=null}if(!$a.$0.$0(this.$JU)){this.$JU.$N();this.$JU=null}Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$6k=function(){this.$$d_$12m=Function.createDelegate(this,this.$12m);this.$$d_$4y=Function.createDelegate(this,this.$4y);this.$$d_$1pM=Function.createDelegate(this,this.$1pM);this.$$d_$Fe=Function.createDelegate(this,this.$Fe);this.$$d_$25D=Function.createDelegate(this,this.$25D);this.$$d_$1RY=Function.createDelegate(this,this.$1RY);this.$$d_$1RW=Function.createDelegate(this,this.$1RW);this.$12z=[];this.$Vw=-1;Microsoft.Crm.Client.Core.ViewModels.$6k.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$6k.prototype={$1Md:false,$qY:null,$Fj:null,$zt:false,$zv:false,$zu:false,$EN:null,$oP:null,get_$1jT:function(){return this.get_$6i()?this.get_$6i().$Dv:[]},get_$1jU:function(){return this.get_$6i()?this.get_$6i().$Dw:[]},get_SearchValue:function(){return this.$qY},set_SearchValue:function(a){if(this.$qY!==a){this.$qY=a;this.$lz()}return a},get_$6i:function(){return this.$Fj},set_$6i:function(a){if(this.$Fj!==a){if(!$a.$0.$0(this.$Fj)){this.$Fj.RemovePropertyChangedListener("HasFocus",this.$$d_$1RW);this.$Fj.RemovePropertyChangedListener("PreSearchHandler",this.$$d_$1RY)}this.$Fj=a;if(!$a.$0.$0(this.$Fj)){this.$Fj.AddPropertyChangedListener("HasFocus",this.$$d_$1RW);this.$Fj.AddPropertyChangedListener("PreSearchHandler",this.$$d_$1RY);this.$1RW(this.$Fj,"HasFocus");this.$1RY(this.$Fj,"PreSearchHandler")}}return a},get_$1KP:function(){return this.$zt},set_$1KP:function(a){if(this.$zt!==a){this.$zt=a;this.$5("HasMoreRecords")}return a},get_$12d:function(){return this.$EN},set_$12d:function(a){if(this.$EN!==a){this.$EN=a;this.$5("ListItemViewDescriptor")}return a},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.PagedListViewModel.prototype.$1M.call(this);this.$1M2=true;this.set_IsLoading(false);this.AddPropertyChangedListener("PrimaryModelName",this.$$d_$25D)},$2DC:function(a,b,c){this.set_PrimaryModelName(a);this.$Cv=null;this.set_$12d(null);this.$1de(a,b,c)},$12m:function(a){this.$12z=a},$1ST:function(){this.get_CurrentItemIndex()>=0&&this.get_$6i().$1Nr(this.$12z[this.get_CurrentItemIndex()])},$Fe:function(){this.$Vw=-1;!$a.$0.$0(this.$qY)&&!$a.$0.$0(this.get_PrimaryModelName())&&Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.prototype.$Fe.call(this)},$4y:function(a){if($a.$0.$0(this.$Cv))this.$oP=a;else{this.get_$2X().get_$7V().$3B();this.$aj=a.get_$4C().get_$C();this.$1AT(a);this.set_IsLoading(false);this.set_$1KP(!a.get_$Px());this.$zv=false;this.$zu=false;this.$5("RecordCount")}},get_$22X:function(){return Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("L_Lookup_No_Records_Text")},get_$220:function(){return $a.$5.$19("({0})",Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("TouchLookupMatchesBar_RefineQuery"))},$1pM:function(a){this.$Cv=a;this.set_$12d(Microsoft.Dynamics.Client.Core.Models.Descriptors.$V.$AJ(this.$Cv));this.$zu=true;if(!$a.$0.$0(this.$oP)){this.$4y(this.$oP);this.$oP=null}},$9k:function(){if(!$a.$0.$0(this.get_$6i())){this.get_$6i().RemovePropertyChangedListener("HasFocus",this.$$d_$1RW);this.get_$6i().RemovePropertyChangedListener("PreSearchHandler",this.$$d_$1RY)}this.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$25D);Microsoft.Dynamics.Client.Core.ViewModels.PagedListViewModel.prototype.$9k.call(this)},$25D:function(){this.$lz()},$1RY:function(){this.$zv=true;this.$lz()},$1RW:function(){(this.$zv||this.$zu)&&this.$lz()},$lz:function(){if(this.get_$6i().get_HasFocus()){if(this.$Vw!==-1){window.clearTimeout(this.$Vw);this.$Vw=-1}if(!$a.$0.$0(this.get_SearchValue()))this.$Vw=window.setTimeout(this.$$d_$Fe,500);else!$a.$0.$0(this.get_$2X())&&this.get_$2X().$v6()}},$1de:function(b,c,d){var a=new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("GetLookupListItemDescriptor",{EntityName:b,ViewQuery:c,ViewLayout:d});Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Bb("ActionProvider",this,a)}};Microsoft.Crm.Client.Core.ViewModels.$57=function(){this.$$d_$23b=Function.createDelegate(this,this.$23b);this.$$d_$24t=Function.createDelegate(this,this.$24t);this.$$d_$1RJ=Function.createDelegate(this,this.$1RJ);this.$$d_$bZ=Function.createDelegate(this,this.$bZ);this.$$d_$1RX=Function.createDelegate(this,this.$1RX);this.$$d_$1Qy=Function.createDelegate(this,this.$1Qy);this.$$d_$D3=Function.createDelegate(this,this.$D3);this.$Oo={};this.$Dv=[];this.$Dw=[];this.$EJ=0;Microsoft.Crm.Client.Core.ViewModels.$57.resolveInheritance();this.get_$NN=this.get_RequiredLevel;this.set_$NN=this.set_RequiredLevel;this.get_$3q=this.get_Required;this.get_$29d=this.get_Recommended;this.get_$5C=this.get_IsSelected;this.set_$5C=this.set_IsSelected;this.get_$30=this.get_PrimaryModelName;this.set_$30=this.set_PrimaryModelName;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$57.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$D3);this.AddPropertyChangedListener("DataReference",this.$$d_$1Qy);this.AddPropertyChangedListener("LookupModelName",this.$$d_$1RX);this.AddPropertyChangedListener("HasFocus",this.$$d_$bZ)};Microsoft.Crm.Client.Core.ViewModels.$57.prototype={$Be:null,$62:null,$Bf:null,$Gn:null,$Z5:null,$1LC:null,$SE:null,$e6:null,$wp:null,$10X:null,$12x:null,$12y:null,$15K:null,$bM:false,get_$CZ:function(){return Microsoft.Dynamics.Client.Core.Framework.$3M.isInstanceOfType(this.get_Data())?this.get_Data():null},set_$CZ:function(a){if(this.get_Data()!==a){this.set_Data(a);this.$5("DataReference")}return a},get_$Yq:function(){return!$a.$0.$0(this.$Bf)&&!$a.$0.$0(this.$Bf.get_Value())?this.$Bf.get_Value().toString():null},get_$hK:function(){if(!$a.$0.$0(this.get_$CZ())){var a=this.get_$CZ().get_$6a();return!$a.$0.$0(a)?a.toString():""}return""},get_$JT:function(){return this.$Bf},set_$JT:function(a){this.$Bf=a;if(!$a.$0.$0(this.$Bf)){this.$Bf.AddPropertyChangedListener("Value",this.$$d_$1RJ);!$a.$0.$0(this.$62)&&this.$62.set_SearchValue(this.get_$hK());this.$19B();this.$Bf.set_ImeMode(this.get_ImeMode())}return a},get_InitialLookupViewActionProvider:function(){return this.$10X},set_InitialLookupViewActionProvider:function(a){this.$10X=a;return a},get_DefaultLookupViewActionProvider:function(){return this.$wp},set_DefaultLookupViewActionProvider:function(a){this.$wp=a;return a},get_LookupModelName:function(){return this.$12x},set_LookupModelName:function(a){if(this.$12x!==a){this.$12x=a;this.$5("LookupModelName")}return a},get_LookupPrimaryNameAttribute:function(){return this.$12y},set_LookupPrimaryNameAttribute:function(a){if(this.$12y!==a){this.$12y=a;this.$5("LookupPrimaryNameAttribute")}return a},get_$Jw:function(){return this.$15K},set_$Jw:function(a){if(this.$15K!==a){this.$15K=a;this.$5("PreSearchHandler")}return a},get_ImeMode:function(){return this.$EJ},set_ImeMode:function(a){this.$EJ=a;!$a.$0.$0(this.get_$JT())&&this.get_$JT().set_ImeMode(this.$EJ);return a},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);!$a.$0.$0(this.get_$JT())&&this.get_$JT().set_RequiredLevel(this.get_RequiredLevel());var a=this.$10X.$EA(0);Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(a)},$CK:function(b,a){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$CK.call(this,b,a);if(Microsoft.Dynamics.Client.Core.ViewModels.$1Q.isInstanceOfType(a))this.set_$JT(a);else if(Microsoft.Crm.Client.Core.ViewModels.$CH.isInstanceOfType(a)){this.$Be=a;this.$62=this.$Be.$62;this.$62.set_$6i(this);this.$1Z5();this.$1Z0();this.$Be.$JU.get_ActionCommand().$f=this.$$d_$24t}},$Rc:function(a){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$Rc.call(this,a);this.$D3(null,null)},$WR:function(){if(this.$kf){Array.clear(this.$Dv);Array.clear(this.$Dw);this.set_$Jw(null);this.$Oo={};this.$c1(this.$1LC);Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$WR.call(this)}},$17X:function(c){this.$Gn=c;this.$Z5=null;if(this.$Gn.toString()in this.$Oo){var a=this.$Oo[this.$Gn.toString()];this.$c1(a)}else{var b=this.$wp.$42();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(b)}},$1fM:function(){Array.clear(this.$Dv);Array.clear(this.$Dw)},$1aj:function(b,a){if($a.$0.$0(a))a="";this.$1bw(b);this.$1bx(a)},$1bx:function(a){Array.add(this.$Dw,a)},$1bw:function(a){Array.add(this.$Dv,a)},$1RZ:function(a){!$a.$0.$0(a)&&this.$19D(a)},$1RI:function(a){this.$1LC=a;var b=$a.$0.$0(this.get_$CZ())||this.get_$CZ().get_$Aa()===a.$E2;this.$c1(a,b)},$23b:function(a){this.$c1(a)},$19D:function(a){if(!$a.$0.$0(a)){this.$SE=a.$PK;this.$e6=a.$1NP;this.set_LookupModelName(a.$E2);this.$1Z0()}},$1Nr:function(a){this.$bM=false;if(!$a.$0.$0(this.$62))this.$62.$1Md=true;this.set_$CZ(a);this.set_HasFocus(false);if(!$a.$0.$0(this.$62))this.$62.$1Md=false},$c1:function(a,b){if(!$a.$0.$0(a)){this.$Z5=a;this.$Gn=a.$g;($a.$0.$0(b)||b)&&this.$19D(a)}},$1RX:function(){this.$1Z5()},$1Z0:function(){!$a.$0.$0(this.$62)&&!$a.$0.$0(this.$e6)&&!$a.$0.$0(this.$SE)&&!$a.$0.$0(this.get_LookupModelName())&&this.$62.$2DC(this.get_LookupModelName(),this.$SE,this.$e6)},$1Z5:function(){if(!$a.$0.$0(this.$Be)&&!$a.$0.$0(this.$Be.$JU)&&!$a.$0.$0(this.$Be.$JU.get_ActionCommand())){this.$Be.$JU.get_ActionCommand().set_$30(this.get_LookupModelName());if(!Microsoft.Dynamics.Client.Core.ViewModels.$33.isInstanceOfType(this.get_$M())&&!$a.$0.$0(this.get_$J()))this.$Be.$JU.get_ActionCommand().$HQ=this.get_$J().get_$13s()}},$v5:function(){!$a.$0.$0(this.get_$JT())&&this.get_$JT().set_Value("")},$D3:function(){this.$5("DataReference")},$1Qy:function(){this.$19B();!$a.$0.$0(this.get_$CZ())&&this.set_LookupModelName(this.get_$CZ().get_$Aa())},$1RJ:function(){if($a.$0.$0(this.$62))return;if(!this.get_HasFocus())return;if(this.get_$hK()===this.get_$Yq()&&$a.$0.$0(this.$62.get_SearchValue()))return;this.$62.set_SearchValue(this.get_$Yq())},$bZ:function(){if(!$a.$0.$0(this.$Bf)&&!this.get_HasFocus()&&this.get_$hK()!==this.get_$Yq()){var a=this.get_$Yq();this.set_$CZ(null);this.$Bf.set_Value(a)}},$19B:function(){!$a.$0.$0(this.get_$JT())&&this.get_$JT().set_Value(this.get_$hK())},$24t:function(a){this.$bM=true;if(!$a.$0.$0(this.get_$J())){this.get_$J().$Wp();this.set_$CZ(a.$HX);this.get_$J().$cK()}else this.set_$CZ(a.$HX);!$a.$0.$0(this.$Be)&&!$a.$0.$0(this.$Be.$62)&&this.$Be.$62.$WI()},$9k:function(){this.RemovePropertyChangedListener("Data",this.$$d_$D3);this.RemovePropertyChangedListener("DataReference",this.$$d_$1Qy);this.RemovePropertyChangedListener("LookupModelName",this.$$d_$1RX);this.RemovePropertyChangedListener("HasFocus",this.$$d_$bZ);if(!$a.$0.$0(this.$Be)){this.$Be.$N();this.$Be=null}if(!$a.$0.$0(this.$62)){this.$62.$N();this.$62=null}if(!$a.$0.$0(this.$Bf)){this.$Bf.RemovePropertyChangedListener("Value",this.$$d_$1RJ);this.$Bf.$N();this.$Bf=null}Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel.prototype={$128:null,$TU:null,$86:null,$Di:false,get_$ai:function(){return this.$128},set_$ai:function(a){this.$128=a;this.set_Data(this.$128.get_$6a());return a},get_DeleteItemCommand:function(){return this.$TU},set_DeleteItemCommand:function(a){if(this.$TU!==a){if(!$a.$0.$0(this.$TU)){this.$TU.$N();this.$TU=null}this.$TU=a;this.$5("DeleteItemCommand")}return a},get_OpenItemCommand:function(){return this.$86},set_OpenItemCommand:function(a){if(this.$86!==a){if(!$a.$0.$0(this.$86)){this.$86.$N();this.$86=null}this.$86=a;this.$5("OpenItemCommand")}return a},get_CanNavigate:function(){return this.$Di},set_CanNavigate:function(a){if(this.$Di!==a){this.$Di=a;this.$5("CanNavigate")}return a},$9k:function(){this.set_OpenItemCommand(null);this.set_DeleteItemCommand(null);Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel=function(){this.$ER="multi";Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1AH=function(e){var b={partyid:e},c={partyid:6},d=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference("activityparty",Microsoft.Dynamics.Client.Core.Framework.Guid.get_empty()),a=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(d,b,c,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));a.$5L.add("partyid");return a};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1aY=function(a){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1AH(a)],false,1,false)};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.prototype={$1Sw:null,$Va:false,get_$CZ:function(){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())&&this.$ER==="single"){var a=this.get_Data();if(!$a.$0.$0(a)&&a.get_count()>0){var b=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$PW(a.get_$2Hy(0));if(Microsoft.Dynamics.Client.Core.Framework.$3M.isInstanceOfType(b))return b}}return null},set_$CZ:function(a){a!==this.get_$CZ()&&this.set_Data(!$a.$0.$0(a)?Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1aY(a):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty());return a},get_NavigationEnabled:function(){return this.$Va},set_NavigationEnabled:function(a){this.$Va=a;return a},get_LookupStyle:function(){return this.$ER},set_LookupStyle:function(a){this.$ER=a;return a},$CK:function(b,a){Microsoft.Crm.Client.Core.ViewModels.$CS.prototype.$CK.call(this,b,a);if(Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.isInstanceOfType(a))this.$1Sw=a},$1Nr:function(a){if(this.$ER==="multi"){!$a.$0.$0(a)&&this.$1Sw.$1bD(a);this.$v5()}else Microsoft.Crm.Client.Core.ViewModels.$57.prototype.$1Nr.call(this,a)},$19B:function(){this.$ER==="single"&&Microsoft.Crm.Client.Core.ViewModels.$57.prototype.$19B.call(this)},$1RJ:function(a,b){if(this.$ER==="multi")this.$62.set_SearchValue(this.get_$Yq());else Microsoft.Crm.Client.Core.ViewModels.$57.prototype.$1RJ.call(this,a,b)},$1Qy:function(a,b){this.$ER==="single"&&Microsoft.Crm.Client.Core.ViewModels.$57.prototype.$1Qy.call(this,a,b)},$Vp:function(a,b){if(this.$ER==="multi"){this.$v5();this.$15Y()}else Microsoft.Crm.Client.Core.ViewModels.$CS.prototype.$Vp.call(this,a,b)},$bZ:function(a,b){if(!this.get_HasFocus()&&this.$ER==="multi")this.$v5();else this.$ER==="single"&&Microsoft.Crm.Client.Core.ViewModels.$57.prototype.$bZ.call(this,a,b)},$24t:function(a){if(!$a.$0.$0(this.get_$J())){this.get_$J().$Wp();this.$1Nr(a.$HX);this.get_$J().$cK()}else this.$1Nr(a.$HX)}};Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel=function(){this.$$d_$D3=Function.createDelegate(this,this.$D3);this.$Fb=new $a.$2K;this.$2B=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$D3)};Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$1N2=function(a){return a.get_ItemViewModels()};Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$PW=function(a){return Microsoft.Dynamics.Client.Core.Framework.$3M.isInstanceOfType(a.getValue("partyid"))?a.getValue("partyid"):a.getValue("addressused")};Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.prototype={$Va:false,get_ItemViewModels:function(){return this.$Fb},set_ItemViewModels:function(a){if(this.$Fb!==a){this.$Fb=a;this.$5("ItemViewModels")}return a},get_NavigationEnabled:function(){return this.$Va},set_NavigationEnabled:function(a){this.$Va=a;return a},$1bD:function(b){if(!this.$1lB(b)){var a=Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1AH(b);this.$2B.add(a);this.get_ItemViewModels().$h(this.$20(a));this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$2B.get_entities()))}},$1ST:function(b){if(b.get_CanNavigate()){var a=new Microsoft.Dynamics.Client.Core.Commands.$3Y(b,2);a.$2d={EntityReference:b.get_$ai()};a.$85=null;a.$4T=b.get_$ai().get_$Aa();a.$R();a.$N()}},$D3:function(){if($a.$0.$0(this.get_Data())){this.$2B=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();this.set_Data(this.$2B);this.$ZC();this.get_ItemViewModels().$3B()}else if(!Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data()))this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$2B.get_entities()));else if(!this.$1jW()){this.$2B=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.get_Data().get_entities());this.$ZC();this.get_ItemViewModels().$3B();for(var b=this.$2B.get_entities(),c=b.length,a=0;a<c;++a){var d=b[a];this.get_ItemViewModels().$h(this.$20(d))}}},$20:function(c){var a=new Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel;a.set_$J(this.get_$J());var b=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$PW(c);if(Microsoft.Dynamics.Client.Core.Framework.$3M.isInstanceOfType(b))a.set_$ai(b);else a.set_Data(b);var d=this;a.set_DeleteItemCommand(new $a.$1H(function(){d.$pY(a,c)},26));var e=this;a.set_OpenItemCommand(new $a.$1H(function(){e.$1ST(a)},26));a.set_CanNavigate(this.$Va&&!$a.$0.$0(a.get_$ai()));return a},$pY:function(a,b){a.$N();this.get_ItemViewModels().$5P(a);this.$2B.remove(b);this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$2B.get_entities()))},$1jW:function(){if($a.$0.$0(this.get_Data())||!Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data()))return false;var d=this.get_Data();if(d.get_entities().length!==this.$2B.get_entities().length)return false;for(var a=0;a<this.$2B.get_count();a++){var b=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$PW(this.$2B.get_entities()[a]),c=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$PW(d.get_entities()[a]);if(Microsoft.Dynamics.Client.Core.Framework.$3M.isInstanceOfType(b)&&Microsoft.Dynamics.Client.Core.Framework.$3M.isInstanceOfType(c)){var e=b.get_$5A(),f=c.get_$5A();if(f!==e)return false}else if(String.isInstanceOfType(b)&&String.isInstanceOfType(c)){if(b!==c)return false}else return false}return true},$1lB:function(g){for(var b=this.$2B.get_entities(),d=b.length,a=0;a<d;++a){var c=b[a],e=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$PW(c);if(Microsoft.Dynamics.Client.Core.Framework.$3M.isInstanceOfType(e)){var f=c.getValue("partyid").get_$5A();if(f===g.get_$5A())return true}}return false},$ZC:function(){for(var a=0;a<this.$Fb.get_$C();a++){var b=this.$Fb.get_$2Hy(a);!$a.$0.$0(b)&&b.$N()}},$9k:function(){this.$ZC();this.$Fb=null;this.$2B=null;Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel=function(){this.$$d_$2B4=Function.createDelegate(this,this.$2B4);this.$$d_$WI=Function.createDelegate(this,this.$WI);Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$d("CrmChartDrilldown",Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel)};Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.prototype={refreshCommand:null,resizeHandlesCommand:null,$g4:null,get_ChartControlViewModel:function(){return!$a.$0.$0(this.$p)&&"ChartControlViewModel"in this.$p?this.$p.ChartControlViewModel:null},get_ListControlViewModel:function(){return!$a.$0.$0(this.$p)&&"ListControlViewModel"in this.$p?this.$p.ListControlViewModel:null},get_ViewId:function(){return this.get_ChartControlViewModel().get_ViewId()},set_ViewId:function(a){if(a!==this.get_ChartControlViewModel().get_ViewId()){this.get_ChartControlViewModel().get_ChartSeriesClickCommand().$3B();this.get_ListControlViewModel().$a9=true;this.get_ChartControlViewModel().set_ViewId(a);this.get_ListControlViewModel().$1d="";this.get_ListControlViewModel().set_DefinitionId(a)}return a},get_ViewEntityLogicalName:function(){return this.get_ChartControlViewModel().get_ViewEntityLogicalName()},set_ViewEntityLogicalName:function(a){this.get_ChartControlViewModel().set_ViewEntityLogicalName(a);return a},get_VisualizationId:function(){return this.get_ChartControlViewModel().get_VisualizationId()},set_VisualizationId:function(a){if(a!==this.get_ChartControlViewModel().get_VisualizationId()){this.get_ChartControlViewModel().set_VisualizationId(a);this.get_ChartControlViewModel().get_ChartSeriesClickCommand().$3B();this.get_ListControlViewModel().$1d="";this.get_ListControlViewModel().$WI()}return a},get_VisualizationEntityLogicalName:function(){return this.get_ChartControlViewModel().get_VisualizationEntityLogicalName()},set_VisualizationEntityLogicalName:function(a){this.get_ChartControlViewModel().set_VisualizationEntityLogicalName(a);return a},get_ViewDisplayName:function(){return this.get_ChartControlViewModel().get_$M().$Ir(this).get_Label()},set_ViewDisplayName:function(a){this.get_ChartControlViewModel().get_$M().$Ir(this).set_Label(a);this.get_ChartControlViewModel().get_$M().$Ir(this).set_ShowLabel(true);return a},get_$WJ:function(){return this.refreshCommand},set_$WJ:function(a){if(!$a.$0.$0(this.refreshCommand)){this.refreshCommand.$N();this.refreshCommand=null}this.refreshCommand=a;return a},get_$RI:function(){return this.resizeHandlesCommand},set_$RI:function(a){if(!$a.$0.$0(this.resizeHandlesCommand)){this.resizeHandlesCommand.$N();this.resizeHandlesCommand=null}this.resizeHandlesCommand=a;return a},$WI:function(){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$WI.call(this);this.get_ChartControlViewModel().$WI();this.get_ListControlViewModel().$WI();$a.UserAgent.getInstance().$21&&!$a.$0.$0(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$K8)&&Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$K8.$R()},$2B4:function(){this.get_ListControlViewModel().resizeHandlesCommand.$R()},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);this.$g4=new Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand(this,this.get_ListControlViewModel());this.get_ListControlViewModel().$a9=true;this.get_ChartControlViewModel().set_AllowPointSelect(true);this.get_ChartControlViewModel().set_EnableDrilldown(true);this.get_ChartControlViewModel().set_ChartSeriesClickCommand(this.$g4);"SelectedPoint"in this.get_$M().get_ExternalContext().$s&&this.get_ChartControlViewModel().set_SelectedPoint(this.get_$M().get_ExternalContext().$s.SelectedPoint);$a.$0.$0(this.get_$WJ())&&this.set_$WJ(new Microsoft.Dynamics.Client.Core.Commands.$6p(this.$$d_$WI,1022));$a.$0.$0(this.get_$RI())&&this.set_$RI(new Microsoft.Dynamics.Client.Core.Commands.$6p(this.$$d_$2B4,1022))},$9k:function(){this.$g4.$N();this.$g4=null;this.set_$RI(null);this.set_$WJ(null);Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$3C=function(){this.$A1=0;this.get_$NN=this.get_RequiredLevel;this.set_$NN=this.set_RequiredLevel;this.get_$3q=this.get_Required;this.get_$29d=this.get_Recommended;Microsoft.Crm.Client.Core.ViewModels.$3C.resolveInheritance();this.get_$5C=this.get_IsSelected;this.set_$5C=this.set_IsSelected;this.get_$30=this.get_PrimaryModelName;this.set_$30=this.set_PrimaryModelName;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$1Y=this.get_HasFocus;this.set_$1Y=this.set_HasFocus;this.get_$Ct=this.get_IsValid;this.get_$6b=this.get_ErrorMessage;this.get_$Yy=this.get_DataBindingValidatorResult;this.set_$Yy=this.set_DataBindingValidatorResult;this.get_$mA=this.get_ManualValidatorResult;this.set_$mA=this.set_ManualValidatorResult;Microsoft.Crm.Client.Core.ViewModels.$3C.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$3C.$WQ=function(a){return a.get_Required()};Microsoft.Crm.Client.Core.ViewModels.$3C.$6e=function(a){return a.get_HasFocus()};Microsoft.Crm.Client.Core.ViewModels.$3C.$6f=function(a,b){a.set_HasFocus(b)};Microsoft.Crm.Client.Core.ViewModels.$3C.$1us=function(a){return a.get_IsValid()};Microsoft.Crm.Client.Core.ViewModels.$3C.$1GM=function(a){return a.get_ErrorMessage()};Microsoft.Crm.Client.Core.ViewModels.$3C.prototype={$1q:false,$Cs:false,$2s:null,$IV:null,$JV:null,get_RequiredLevel:function(){return this.$A1},set_RequiredLevel:function(a){if(this.$A1!==a){this.$A1=a;this.$Zg("RequiredLevel","Required","Recommended")}return a},get_Required:function(){return this.get_RequiredLevel()===1||this.get_RequiredLevel()===2},get_Recommended:function(){return this.get_RequiredLevel()===3},get_HasFocus:function(){return this.$1q},set_HasFocus:function(a){if(this.$1q!==a){this.$1q=a;this.$5("HasFocus")}return a},get_IsValid:function(){return this.$Cs},set_IsValid:function(a){if(this.$Cs!==a){this.$Cs=a;this.$5("IsValid")}return a},get_ErrorMessage:function(){return this.$2s},set_ErrorMessage:function(a){if(this.$2s!==a){this.$2s=a;this.$5("ErrorMessage")}return a},get_DataBindingValidatorResult:function(){return this.$IV},set_DataBindingValidatorResult:function(a){if(this.$IV!==a){this.$IV=a;this.$5(Microsoft.Dynamics.Client.Core.ViewModels.$1m.$VD);this.$5(Microsoft.Dynamics.Client.Core.ViewModels.$1m.$MN);this.$5(Microsoft.Dynamics.Client.Core.ViewModels.$1m.$Ll)}return a},get_ManualValidatorResult:function(){return this.$JV},set_ManualValidatorResult:function(a){if(this.$JV!==a){this.$JV=a;this.$5(Microsoft.Dynamics.Client.Core.ViewModels.$1m.$VD);this.$5(Microsoft.Dynamics.Client.Core.ViewModels.$1m.$MN);this.$5(Microsoft.Dynamics.Client.Core.ViewModels.$1m.$Ll)}return a},add_$1VF:function(a){this.$5S("RevalidateEvent",a)},remove_$1VF:function(a){this.$5a("RevalidateEvent",a)},$1nU:function(){var a=this.$PR("RevalidateEvent");a&&a()}};Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel=function(){this.$$d_$1Rc=Function.createDelegate(this,this.$1Rc);this.$$d_$Kl=Function.createDelegate(this,this.$Kl);this.$Fs=-1;Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel.prototype={$Fl:null,get_ModelUpdateActionProvider:function(){return this.$Fl},set_ModelUpdateActionProvider:function(a){this.$Fl=a;return a},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$3A.prototype.$1M.call(this);this.$Qk()},$Qk:function(){Microsoft.Dynamics.Client.Core.ViewModels.$3A.prototype.$Qk.call(this);this.$hs();this.$1BV()},$1Rc:function(){if(!$a.$0.$0(this.get_$12())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$12()))if(this.get_$12().$Bj===1&&this.$Fs===-1)this.$Fs=window.setTimeout(this.$$d_$Kl,500)},$Kl:function(){this.$Fs=-1;if(!$a.$0.$0(this.$Fl)){var a=this.$Fl.$42();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(a)}},$1BV:function(){if(!$a.$0.$0(this.get_$12())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$12())){var a=this.get_$12();a.add_$6m(this.$$d_$1Rc)}},$hs:function(){if(!$a.$0.$0(this.get_$12())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$12())){var a=this.get_$12();a.remove_$6m(this.$$d_$1Rc)}},$9k:function(){this.$hs();Microsoft.Dynamics.Client.Core.ViewModels.$3A.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$BV=function(){this.$$d_$12m=Function.createDelegate(this,this.$12m);Microsoft.Crm.Client.Core.ViewModels.$BV.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$BV.prototype={$7J:null,$10T:null,get_$xd:function(){return this.$7J},set_$xd:function(a){if(this.$7J!==a){this.$7J=a;this.$5("Entities")}return a},$12m:function(f){var a=f;this.set_$xd(a);for(var c=new($a.List.$$(Microsoft.Dynamics.Client.Core.Framework.$42)),b=0;b<a.get_count();b++)c.add(new Microsoft.Dynamics.Client.Core.ViewModels.$3S(b.toString(),a.get_$2Hy(b).get_$6a()));this.$Qm(c.toArray(),false);var d=0;if(!$a.$0.$0(this.$10T)){var e=this.$1GE(this.$10T);if(e!==-1)d=e}a.get_count()>0&&($a.$0.$0(this.get_Data())||$a.$5.$L(this.get_Data().toString()))&&this.set_SelectedItem(d.toString())},$1M:function(){this.$7J=new($a.List.$$(Microsoft.Crm.Client.Core.Storage.Common.$29));Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$1M.call(this);this.$2Gl()},$1GE:function(b){for(var a=0;a<this.get_$xd().get_count();a++)if(this.get_$xd().get_$2Hy(a).get_$2j()===b)return a;return-1},$1pd:function(a){return this.$7J.get_$2Hy(a)},$D3:function(){if(!$a.$0.$0(this.get_Data())&&Microsoft.Crm.Client.Core.Storage.Common.$29.isInstanceOfType(this.get_Data())){for(var c=this.get_Data(),b=-1,a=this.$7J.get_count()-1;a>0;a--)if(c.get_$2j()===this.$7J.get_$2Hy(a).get_$2j()){b=a;break}if(b>0){this.set_SelectedItem(b.toString());this.set_SelectedLabel(c.get_$6a())}}}};Microsoft.Crm.Client.Core.ViewModels.$ES=function(){this.$$d_$12m=Function.createDelegate(this,this.$12m);this.$ZO=new($a.List.$$(Microsoft.Dynamics.Client.Core.Framework.$3M));Microsoft.Crm.Client.Core.ViewModels.$ES.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$ES.prototype={$P9:null,get_EntityFilter:function(){return this.$P9},set_EntityFilter:function(a){this.$P9=a;return a},$r1:true,get_ShowEmptyOption:function(){return this.$r1},set_ShowEmptyOption:function(a){this.$r1=a;return a},$12m:function(b){this.$ZO=b;for(var c=new($a.List.$$(Microsoft.Dynamics.Client.Core.Framework.$42)),d=false,e=!$a.$0.$0(this.get_Data()),a=0;a<b.get_count();a++){c.add(new Microsoft.Dynamics.Client.Core.ViewModels.$3S(a.toString(),b.get_$2Hy(a).get_$6a()));if(e&&b.get_$2Hy(a).get_$5A()===this.get_Data().get_$5A()){this.set_SelectedItem(a.toString());this.set_SelectedLabel(b.get_$2Hy(a).get_$6a());d=true}}if(!d)this.$Qm(c.toArray(),this.$r1,0);else this.$Qm(c.toArray(),this.$r1)},$1pd:function(a){return this.$ZO.get_$2Hy(a)},$D3:function(){if(!$a.$0.$0(this.get_Data())&&Microsoft.Dynamics.Client.Core.Framework.$3M.isInstanceOfType(this.get_Data())){for(var c=this.get_Data(),b=-1,a=this.$ZO.get_count()-1;a>0;a--)if(c.$FH(this.$ZO.get_$2Hy(a))){b=a;break}if(b>0){this.set_SelectedItem(b.toString());this.set_SelectedLabel(c.get_$6a())}}}};Microsoft.Crm.Client.Core.ViewModels.$9a=function(){this.$$d_$1f4=Function.createDelegate(this,this.$1f4);this.$$d_$23G=Function.createDelegate(this,this.$23G);Microsoft.Crm.Client.Core.ViewModels.$9a.initializeBase(this);this.set_RequestCloseCommand(new $a.$1H(this.$$d_$YK,1004));var a=this;this.set_$vN(new $a.$1H(this.$$d_$23G,1004,this,"RequiredFieldsFilled",function(){return a.get_$16S()}));this.$WP={}};Microsoft.Crm.Client.Core.ViewModels.$9a.prototype={$YL:null,$1UY:false,$WP:null,get_$16S:function(){return this.$1UY},set_$16S:function(a){this.$1UY=a;this.$5("RequiredFieldsFilled");return a},get_$vN:function(){return this.$YL},set_$vN:function(a){if(!$a.$0.$0(this.$YL)){this.$YL.$N();this.$YL=null}this.$YL=a;return a},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$4N.prototype.$1M.call(this);var g=this,k=this;Microsoft.Crm.Client.Core.Models.$K.$AI("contact",new Microsoft.Crm.Client.Core.Storage.Common.$1P(new Array(0))).then(function(a){g.set_$J(a)},function(a){Error.create(String.format("Failed to create an empty model to contain the record. Error message: \n\n {0}",a.$P))});var c=this.$p;for(var e in c){var h={key:e,value:c[e]},d=h.value.$p;for(var f in d){var i={key:f,value:d[f]},a=i.value;if(Microsoft.Dynamics.Client.Core.ViewModels.$1Q.isInstanceOfType(a)){var b=a;if(b.get_Required()){b.AddPropertyChangedListener("Value",this.$$d_$1f4);this.$WP[b.$F]=false}}else if(Microsoft.Dynamics.Client.Core.ViewModels.$6i.isInstanceOfType(a)){var j=a;if(j.get_$3q()){a.AddPropertyChangedListener("Data",this.$$d_$1f4);this.$WP[a.$F]=false}}}}},$23G:function(){this.$9A("DialogSuccess",this.get_$J());this.$YK()},$1f4:function(a){if(Microsoft.Dynamics.Client.Core.ViewModels.$1Q.isInstanceOfType(a)){var d=a;this.$WP[d.$F]=!$a.$5.$L(d.get_Value())}else if(Microsoft.Dynamics.Client.Core.ViewModels.$6i.isInstanceOfType(a)){var e=a;this.$WP[e.$F]=!$a.$5.$L(e.get_Data())}var b=this.$WP;for(var c in b){var f={key:c,value:b[c]};if(!f.value){this.set_$16S(false);return}}this.set_$16S(true)},$9k:function(){this.set_$vN(null);Microsoft.Dynamics.Client.Core.ViewModels.$4N.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel=function(){this.$$d_$Fo=Function.createDelegate(this,this.$Fo);this.$$d_$D3=Function.createDelegate(this,this.$D3);this.$E2="";this.$A6=1;this.$NP="";Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$32("CrmTile",Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$1jP)};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$1GH=function(a){return a.get_EntityTypeName()};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$1YK=function(a){return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$DM.toString(a.get_TileMode())};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$1ds=function(a){return a.get_Button1ActionCommand()};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$1dv=function(a){return a.get_Button2ActionCommand()};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$1dy=function(a){return a.get_Button3ActionCommand()};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$1jP=function(){var a=new Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel;a.set_$dS(new Microsoft.Crm.Client.Core.Models.$DG);a.set_ActionCommand(Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$2P(a,new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("TileClick","clicked")));return a};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.prototype={$83:false,$Lr:null,$8l:null,$7G:null,$GR:null,$GS:null,$GT:null,get_IsLoading:function(){return this.$83},set_IsLoading:function(a){if(this.$83!==a){this.$83=a;this.$5("IsLoading")}return a},get_FieldNames:function(){return this.$Lr},set_FieldNames:function(a){this.$Lr=a;this.$5("FieldNames");return a},get_$dS:function(){return this.$8l},set_$dS:function(a){this.$8l=a;this.$Zh(["LeftCornerText","Text1","Text2","Text3","Text4","Text5","Text6","ImageSource"]);return a},get_ActionProvider:function(){return this.$7G},set_ActionProvider:function(a){this.$7G=a;return a},get_EntityTypeName:function(){return this.$E2},set_EntityTypeName:function(a){this.$E2=a;this.$5("EntityTypeName");return a},get_TileMode:function(){return Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_$J())?this.get_$J().get_$1C().$A6:this.$A6},set_TileMode:function(a){this.$A6=a;if(Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_$J())){var b=this.get_$J();b.get_$1C().$A6=a;b.$2H8()}this.$5("TileMode");return a},get_LeftCornerText:function(){return this.$8l.$JN},set_LeftCornerText:function(a){this.$8l.$JN=a;this.$5("LeftCornerText");return a},get_RightCornerText:function(){return this.$NP},set_RightCornerText:function(a){this.$NP=a;this.$5("RightCornerText");return a},get_Text1:function(){return this.$8l.$8F},set_Text1:function(a){this.$8l.$8F=a;this.$5("Text1");return a},get_Text2:function(){return this.$8l.$CB},set_Text2:function(a){this.$8l.$CB=a;this.$5("Text2");return a},get_Text3:function(){return this.$8l.$DQ},set_Text3:function(a){this.$8l.$DQ=a;this.$5("Text3");return a},get_Text4:function(){return this.$8l.$Nt},set_Text4:function(a){this.$8l.$Nt=a;this.$5("Text4");return a},get_Text5:function(){return this.$8l.$Rt},set_Text5:function(a){this.$8l.$Rt=a;this.$5("Text5");return a},get_Text6:function(){return this.$8l.$Ru},set_Text6:function(a){this.$8l.$Ru=a;this.$5("Text6");return a},get_$1L0:function(){return this.$8l.$ME},set_$1L0:function(a){this.$8l.$ME=a;this.$5("ImageSource");return a},get_Button1ActionCommand:function(){return this.$GR},set_Button1ActionCommand:function(a){if(!$a.$0.$0(this.$GR)){this.$GR.$N();this.$GR=null}this.$GR=a;this.$5("Button1ActionCommand");return a},get_Button2ActionCommand:function(){return this.$GS},set_Button2ActionCommand:function(a){if(!$a.$0.$0(this.$GS)){this.$GS.$N();this.$GS=null}this.$GS=a;this.$5("Button2ActionCommand");return a},get_Button3ActionCommand:function(){return this.$GT},set_Button3ActionCommand:function(a){if(!$a.$0.$0(this.$GT)){this.$GT.$N();this.$GT=null}this.$GT=a;this.$5("Button3ActionCommand");return a},$1M:function(){if(!this.$4P){this.AddPropertyChangedListener("Data",this.$$d_$D3);Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$Fo);if(!$a.$0.$0(this.$7G)){var a=this.$7G.$42();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(a)}this.$D3(null,null);Microsoft.Dynamics.Client.Core.ViewModels.$4g.prototype.$1M.call(this)}},$Qk:function(){Microsoft.Dynamics.Client.Core.ViewModels.$4S.prototype.$Qk.call(this);if(!$a.$0.$0(this.get_$J())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_$J())){var b=this.get_$J();this.set_EntityTypeName("tileLoading");this.set_IsLoading(true);var a=this;b.$1T6().done(function(){if(a.$3H)return;var c=new Microsoft.Crm.Client.Core.Models.Tiles.Factories.$DH;b.set_$rk(new Microsoft.Crm.Client.Core.Storage.Common.$1P(c.$zT(b)));b=a.$1jl(b);var e={forcerefresh:false,pinnedtilemodel:b},d=new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("PopulateTileData",e);d.OnSuccess=function(){if(a.$3H)return;a.set_$dS(c.$1Ej(b));a.set_EntityTypeName(b.get_$1C().$3S);if(!b.get_$1C().$3m){var g=b.get_$6p(),d=g.$W.LogicalName,h=new Microsoft.Crm.Client.Core.Models.Tiles.Validators.$8b,f=h.$6C(d);if(f.$3i){a.set_RightCornerText($a.$5.$19("{0}",a.get_$dS().$NP||""));a.$1af()}d!=="contact"&&d!=="opportunity"&&d!=="lead"&&d!=="account"&&!f.$3i&&a.set_EntityTypeName(a.get_EntityTypeName()+" noncola")}else if(b.get_$1C().$3m===2){a.set_EntityTypeName(a.get_EntityTypeName()+" crmview");a.set_Enabled(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$EK(b.get_$1C().$3S,1))}else b.get_$1C().$3m===1&&a.set_EntityTypeName(a.get_EntityTypeName()+" crmview");var e=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(b.get_$1C().$3S);if(e.get_$Uq())a.set_EntityTypeName(a.get_EntityTypeName()+" activity");else e.$J9&&a.set_EntityTypeName(a.get_EntityTypeName()+" customEntity");a.set_IsLoading(false)};Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Bb("ActionProvider",a,d)})}},$1jl:function(a){var b=new Microsoft.Crm.Client.Core.Models.Tiles.Validators.$8b,c=b.$6C(a.get_$1C().$3S),d=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$9z.isInstanceOfType(a.get_$1C())||a.get_$1C().$8D.equals(Microsoft.Dynamics.Client.Core.Framework.Guid.get_empty());if(c.$3i&&d)a=new Microsoft.Crm.Client.Core.Models.Tiles.Decorators.$Ds(a);return a},$D3:function(){!$a.$0.$0(this.get_Data())&&Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(this.get_Data())&&this.set_$J(Microsoft.Crm.Client.Core.Models.$3w.$F7(Microsoft.Dynamics.Client.Core.Framework.Guid.get_empty(),this.get_Data()))},$Fo:function(){if(!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()){!$a.$0.$0(this.get_Button1ActionCommand())&&this.get_Button1ActionCommand().set_$1K(false);!$a.$0.$0(this.get_Button3ActionCommand())&&this.get_Button3ActionCommand().set_$1K(false)}},$1af:function(){var c=this.get_$dS();if(!c)return;var f=c.$iF,d={};d.protocol="mailto:";d.target=f;var m=new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("UrlLauncherCommand","TileButton1",d);this.set_Button1ActionCommand(Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$2P(this,m));($a.$5.$1N(f)||!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22())&&this.get_Button1ActionCommand().set_$1K(false);var g=c.$oW,h={};h.target=g;var n=new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("UrlLauncherCommand","TileButton3",h),o=Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$2P(this,n),a=new Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator(o),i=this.get_$J();if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(i.get_$6p())){var j=i.get_$6p(),e=j.$W,k=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(e.get_$Aa());if(!$a.$0.$0(k)){var p=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.$TC(e.get_$Aa(),e.get_$5A(),j.getValue(k.$8e).toString());a.$rv=p}var l=this.get_$M();if(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(l)){var b=l.get_$J(),q=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(b.get_$5l());a.$66=b.get_$k();a.$pQ=b.GetValue(q.$8e);a.$pR=b.get_$5l()}}this.set_Button3ActionCommand(a);($a.$5.$1N(g)||!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22())&&this.get_Button3ActionCommand().set_$1K(false)},$9k:function(){this.set_Button1ActionCommand(null);this.set_Button2ActionCommand(null);this.set_Button3ActionCommand(null);Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$Fo);Microsoft.Dynamics.Client.Core.ViewModels.$4g.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel=function(){this.$$d_$26B=Function.createDelegate(this,this.$26B);this.$d6=-1;Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$32("CrmTileContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$1jO)};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$1XX=function(a){return a.get_$Ri()};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$1XY=function(a,b){a.set_$Ri(b)};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$1jO=function(){return new Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.prototype={$7Y:null,$45:null,$lN:false,$126:null,$rs:0,get_IsSortable:function(){return this.$lN},set_IsSortable:function(a){this.$lN=a;return a},get_ItemContextId:function(){return this.$126},set_ItemContextId:function(a){this.$126=a;return a},get_$1gE:function(){return"tilecontainer"},get_$oV:function(){return this.$b.$F},get_$1T0:function(){return this.$7Y},set_$1T0:function(a){var b=!$a.$0.$0(this.$7Y)&&this.$7Y!==a;this.$7Y=a;b&&this.$qI();return a},get_$Ri:function(){return this.$45},set_$Ri:function(a){var b=!!a.length||!$a.$0.$0(this.$45)&&!!this.$45.length;this.$45=a;this.$5("SortOrder");b&&this.set_$1T0(new Microsoft.Dynamics.Client.Core.Framework.$9H(this.$45));return a},$1ST:function(){var c=this.get_$90();if(!$a.$0.$0(this.$HI)){c=this.$HI;this.$HI=null}if(!$a.$0.$0(c)){var a=c.get_$J();if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(a.get_$6p())&&(!a.get_$1C().$3m||a.get_$1C().$3m===3)){var f=Microsoft.Crm.Client.Core.Models.$K.$B(a.get_$6p()),d=new Microsoft.Dynamics.Client.Core.Commands.$3Y(c,2);d.$85=f;d.$4T=a.get_$1C().$3S;d.$R();d.$N()}else if(a.get_$1C().$3m===1||a.get_$1C().$3m===2){var b=new Microsoft.Dynamics.Client.Core.Commands.$3Y(this,13);b.$4T=a.get_$1C().$3S;b.$4L=a.get_$1C().$3S;var e=a.get_$1C().$5I;b.$2d={};b.$2d.ListDefinitionId=e.equals(Microsoft.Dynamics.Client.Core.Framework.Guid.get_empty())?a.get_$1C().$3S:e.toString();b.$2d.ContextFilter=a.get_$1C().$C9;if(a.get_$1C().$9z)b.$2d.RelationshipExtraCondition=a.get_$1C().$9z;if(a.get_$1C().$K4)b.$2d.RelationshipName=a.get_$1C().$K4;if(a.get_$1C().$5G>=0)b.$2d.RelationshipType=a.get_$1C().$5G;if(a.get_$1C().$DD)b.$2d.ReferencingName=a.get_$1C().$DD;if(a.get_$1C().$A0>=0)b.$2d.RelationshipRoleOrdinal=a.get_$1C().$A0;if(a.get_$1C().$3m===2)b.$2d.ParentEntityViewModel=this.$b;b.$R();b.$N()}}},$1w8:function(a){this.$7Y=Microsoft.Dynamics.Client.Core.Framework.$9H.$w(a.$7Y);this.$Fe()},$1w7:function(){this.$Fe()},$FC:function(){var b=this.get_$90().get_$12(),a=new($a.List.$$(Microsoft.Dynamics.Client.Core.Framework.Guid))(this.$45);a.remove(b.get_$1C().$5I);this.set_$Ri(a.toArray());Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.prototype.$FC.call(this)},get_$1NZ:function(){return this.$126},$1AT:function(a){var c=a;this.get_$2X().get_$7V().$8v(this.$2EU(c));if(this.get_$2X()!==a&&Microsoft.Crm.Client.Core.Models.$6O.isInstanceOfType(a)){var b=a;b.$hq();b.$As.clear()}},$1Em:function(f){var a=Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.prototype.$1Em.call(this,f);if(!$a.$0.$0(a)){var b=a.$p;for(var c in b){var d={key:c,value:b[c]};if(Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.isInstanceOfType(d.value)){var e=d.value;e.AddPropertyChangedListener("IsLoading",this.$$d_$26B);e.get_IsLoading()&&this.set_$XD(this.get_$XD()+1)}}}return a},get_$XD:function(){return this.$rs},set_$XD:function(a){if(this.$rs!==a){this.$rs=a;this.$1ri()}return a},$1ri:function(){this.$d6!==-1&&window.clearTimeout(this.$d6);var a=this;this.$d6=window.setTimeout(function(){a.$d6=-1;a.set_IsLoading(!!a.$rs)},500)},$26B:function(b){var a=b;if(a.get_IsLoading())this.set_$XD(this.get_$XD()+1);else{this.set_$XD(this.get_$XD()-1);a.RemovePropertyChangedListener("IsLoading",this.$$d_$26B)}},$2EU:function(a){for(var j=new($a.List.$$(Microsoft.Crm.Client.Core.Models.$3w)),b=new($a.List.$$(Microsoft.Crm.Client.Core.Models.$3w)),c=0;c<a.$As.get_count();c++){var l=a.$As.get_$2Hy(c);if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$9z.isInstanceOfType(l.get_$1C())){a.$As.removeAt(c);b.add(l)}}if(!$a.$0.$0(this.$7Y)&&this.$lN)for(var h=this.$7Y.$45,n=h.length,e=0;e<n;++e)for(var p=h[e],d=0;d<a.$As.get_count();d++){var m=a.$As.get_$2Hy(d);if(m.get_$1C().$5I.equals(p)){a.$As.removeAt(d);j.add(m);break}}var g=new Array(0);b.addRange(j.toArray());a.$As.get_count()>0&&b.addRange(a.$As.toArray());var k=new($a.List.$$(Microsoft.Dynamics.Client.Core.Framework.Guid));g=b.toArray();for(var i=g,o=i.length,f=0;f<o;++f){var q=i[f];k.add(q.get_$1C().$5I)}this.set_$Ri(k.toArray());return g}};Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel=function(){this.$yN=new(Microsoft.Dynamics.Client.Core.Framework.$j.$$(Microsoft.Dynamics.Client.Core.Framework.$26));Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.$1kq=function(a){return a.get_$Gq()};Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.$1km=function(a){return a.get_$BL()};Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype={$Lf:null,$FE:null,get_$Gq:function(){return this.$Lf},set_$Gq:function(a){if(!$a.$0.$0(this.$Lf)){this.$Lf.$N();this.$Lf=null}this.$Lf=a;this.$5("EditStarted");return a},get_$BL:function(){return this.$FE},set_$BL:function(a){if(!$a.$0.$0(this.$FE)){this.$FE.$N();this.$FE=null}this.$FE=a;this.$5("EditFinished");return a},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);var a=this;this.set_$Gq(new $a.$1H(function(){a.get_$J()&&a.get_$J().$Wp()},26));var b=this;this.set_$BL(new $a.$1H(function(){b.get_$J()&&b.get_$J().$cK()},26))},$1u2:function(c){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Object);if(Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$J()))if(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.get_$M()))if(!this.get_$M().get_$9m()){var b=this.$yN.get_$2Hy(c);if(!$a.$0.$0(b))a.resolve(b.$kz);else a.resolve(true)}else a.resolve(false);else if(Microsoft.Dynamics.Client.Core.ViewModels.$33.isInstanceOfType(this.get_$M())){var d=this;Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$1uL(this.get_PrimaryModelName(),c,0).done(function(b){a.resolve(b)})}else a.resolve(true);else a.resolve(true);return a.promise()},$kc:function(b){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Microsoft.Dynamics.Client.Core.Framework.$26,Object),c=this.$yN;if(Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$J()))if(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.get_$M())){var d=this;Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$1Iz(this.get_PrimaryModelName(),b,2).done(function(d){c.set_$2Hy(b,d);a.resolve(d)})}else if(Microsoft.Dynamics.Client.Core.ViewModels.$33.isInstanceOfType(this.get_$M())){var e=this;Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$1Iz(this.get_PrimaryModelName(),b,0).done(function(d){c.set_$2Hy(b,d);a.resolve(d)})}else a.resolve(Microsoft.Dynamics.Client.Core.Framework.$26.get_$Vq());else a.resolve(Microsoft.Dynamics.Client.Core.Framework.$26.get_$Vq());return a.promise()},$9k:function(){!$a.$0.$0(this.get_$BL())&&this.get_$BL().get_$1K()&&this.get_$BL().$R();this.set_$Gq(null);this.set_$BL(null);Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel=function(){this.$$d_$1S1=Function.createDelegate(this,this.$1S1);this.$$d_$14K=Function.createDelegate(this,this.$14K);this.$$d_$25M=Function.createDelegate(this,this.$25M);this.$$d_$1Rc=Function.createDelegate(this,this.$1Rc);this.$$d_$1Ba=Function.createDelegate(this,this.$1Ba);this.$Fs=-1;this.$x=new Sys.EventHandlerList;this.get_LaunchedWithUnsavedChanges=this.get_$Q7;this.set_LaunchedWithUnsavedChanges=this.set_$Q7;Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.$22L=function(a){return a.get_NavigationBlockedOnSave()};Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype={$UE:null,$EQ:null,$Fl:null,$16i:null,$N4:null,$bL:false,$VZ:false,$8J:null,$Js:0,$12T:false,$1SQ:false,$1Tl:false,$8k:false,$11Z:false,$BK:null,$u5:false,$17j:false,get_$Cq:function(){return!$a.$0.$0(this.get_$J())&&this.get_$J().$Cq()},get_RetrieveEditFormDataXmlActionProvider:function(){return this.$16i},set_RetrieveEditFormDataXmlActionProvider:function(a){this.$16i=a;return a},get_ModelUpdateActionProvider:function(){return this.$Fl},set_ModelUpdateActionProvider:function(a){this.$Fl=a;return a},get_AttributeFieldNames:function(){return this.$8J},set_AttributeFieldNames:function(a){this.$8J=a;this.$5("AttributeFieldNames");return a},$KA:null,get_RetrieveOptions:function(){return this.$KA},set_RetrieveOptions:function(a){this.$KA=a;return a},get_NavigationBlockedOnSave:function(){return this.$VZ},set_NavigationBlockedOnSave:function(a){if(this.$VZ!==a){this.$VZ=a;this.$5("NavigationBlockedOnSave")}return a},get_$Q7:function(){return this.$12T},set_$Q7:function(a){if(this.$12T!==a){this.$12T=a;this.$5("LaunchedWithUnsavedChanges")}return a},get_$9Q:function(){return this.get_$1tu()?this.$8k:true},set_$9Q:function(a){this.$8k=a;return a},get_$1tu:function(){return Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$c().get_$1M3()&&Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$c().get_$1M4()},add_$os:function(a){this.$x&&this.$x.addHandler("PreNavigation",a)},remove_$os:function(a){this.$x&&this.$x.removeHandler("PreNavigation",a)},get_$2Am:function(){return true},$1Qw:function(){Microsoft.Dynamics.Client.Core.ViewModels.$18.prototype.$1Qw.call(this);this.$17j=false;this.$u5&&this.$1Ba()},$1M:function(){if(!this.$4P){Microsoft.Dynamics.Client.Core.ViewModels.$18.prototype.$1M.call(this);Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$Fo)}this.$KA=Microsoft.Dynamics.Client.Core.ViewModels.$3P.get_$mH();this.$1SQ&&Microsoft.Dynamics.Client.Core.ViewModels.$2T.$cx(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("EditRootViewModel_OpenedInsteadOfUrlTarget_Notification"),1,"EditRootViewModel_OpenedInsteadOfUrlTarget")},$WI:function(){this.$WK(true)},$164:function(){this.$WK(false)},$WK:function(d,g){if(!this.get_$Cq()||g)if(this.get_$Cq()){var e=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Object),b=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Object,Microsoft.Dynamics.Client.Core.Framework.$6);this.$OZ(e,"Web._forms.styles.FORM.crm.htc_Title");var f=this,h=this;e.then(function(a){if(a)f.$gc(d).then(function(){b.resolve(null)},function(a){b.reject(a)});else b.resolve(null)},function(a){b.reject(a)});return b}else return this.$gc(d);var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Object,Microsoft.Dynamics.Client.Core.Framework.$6),c=this,i=this;this.$Kl(1).then(function(e){if(e)c.$gc(d).then(function(b){a.resolve(b)},function(b){a.reject(b)});else if(c.get_$Cq()){var b=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Object);c.$OZ(b,"Web._forms.styles.FORM.crm.htc_Title");b.then(function(b){if(b)c.$gc(d).then(function(b){a.resolve(b)},function(b){a.reject(b)});else a.resolve(null)},function(b){a.reject(b)})}},function(b){a.reject(b)});return a.promise()},$gc:function(e){($a.$0.$0(e)||e)&&Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Ar();var c=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Object,Microsoft.Dynamics.Client.Core.Framework.$6),a=null,b=null;if(!$a.$0.$0(this.get_$12())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$12()))a=this.get_$12();if(!$a.$0.$0(a)){var f=this;b=function(f,d){var e=d;if(e.$Rj===1){a.remove_$73(b);c.resolve(null)}};a.add_$73(b)}var d=Microsoft.Dynamics.Client.Core.ViewModels.$18.prototype.$WK.call(this),g=this;d.done(function(){Microsoft.Dynamics.Client.Core.ViewModels.$2T.$GZ("EditRootViewModel_AutoSave_Error");Microsoft.Dynamics.Client.Core.ViewModels.$2T.$GZ("EditRootViewModel_OpenedInsteadOfUrlTarget")});if(!$a.$0.$0(a)){var h=this;d.fail(function(d){c.reject(d);a.remove_$73(b)});return c}else return d},$12l:function(a,b,c){Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().$1Tw(this.get_$1F());Microsoft.Dynamics.Client.Core.ViewModels.$18.prototype.$12l.call(this,a,b,c)},$1Pp:function(a){Microsoft.Dynamics.Client.Core.ViewModels.$18.prototype.$1Pp.call(this,a);Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().$XL(this.get_$1F())},$24n:function(b){if(this.$N4)return this.$N4;var e=this.$x.getHandler("PreNavigation");e&&e(this,null);var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Object),d=this;a.done(function(){d.$bL=false;d.set_NavigationBlockedOnSave(false)});if(Microsoft.Dynamics.Client.Core.Commands.OpenCreateFormCommand.isInstanceOfType(b)){var c=b;if(!$a.$0.$0(c.$BO)&&!$a.$0.$0(c.$BO.InitializationParameters)){var f=c.$BO.InitializationParameters;if(f.IsSaveAndEditButtonHidden){this.$17j=true;a.resolve(true);return a.promise()}}}this.$103();if(!this.get_$Cq())a.resolve(true);else if(!Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$MH)this.$1g9(b,a);else this.$1Ve(b,a);return a.promise()},$1Ve:function(c,a){if(!this.get_IsValid()||this.$11Z){this.$OZ(a,"DiscardChanges_Invalid_Message");this.$11Z=false}else if(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()){this.set_NavigationBlockedOnSave(true);this.$bL=true;var d=this,b=this;this.$Kl(2).then(function(b){if(b)a.resolve(true);else d.$OZ(a,"Web._forms.styles.FORM.crm.htc_Title")},function(){if(!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()&&c.get_$Vd()!==2)b.$OZ(a,"DiscardChanges_Offline_Message");else if(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()&&c.get_$Vd()!==2)b.$1g8(a,"DiscardChanges_Invalid_Message",b.$EQ);else a.resolve(false)})}else this.$OZ(a,"DiscardChanges_Offline_Message")},$Mn:function(a){this.$EQ=a;if(a.$m===Microsoft.Dynamics.Client.Core.Framework.$H.$2m&&this.$bL)return;else if(a.$m===Microsoft.Dynamics.Client.Core.Framework.$H.$ZI)return;else if(this.$bL)return;else if(this.$Js===70){var b=String.format("{0}: {1}",Microsoft.Dynamics.Client.Core.Framework.Common.$9.$PS(a.$m),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$zF(a));Microsoft.Dynamics.Client.Core.ViewModels.$2T.$cx(b,3,"EditRootViewModel_AutoSave_Error")}else Microsoft.Dynamics.Client.Core.ViewModels.$18.prototype.$Mn.call(this,a)},$Qk:function(){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$Qk.call(this);this.$hs();this.$1BV();if(!$a.$0.$0(this.get_$12())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$12())){var a=this.get_$12();if(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()&&!a.get_$MJ())this.set_$9m(!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$lD(a.$Z.$3A.LogicalName,a,2));else this.set_$9m(true)}},$1Rc:function(c,b){if(!$a.$0.$0(this.get_$12())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$12())){var a=this.get_$12();if(a.$Bj===1){Microsoft.Crm.Client.Core.ViewModels.$2H.get_$4().$ck(this.get_$J(),b);if(this.$Fs===-1)this.$Fs=window.setTimeout(this.$$d_$1Ba,3e4)}if("statecode"===b||"accessrights"===b){this.set_$9m(a.get_$MJ()||!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22());!this.get_$9m()&&this.set_$9m(!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$lD(a.$Z.$3A.LogicalName,a,2))}}},$1KC:function(){if(this.get_$Cq())this.$Kl(1);else Microsoft.Dynamics.Client.Core.ViewModels.$18.prototype.$1KC.call(this)},$1WM:function(b){var a=this.$KA;if(this.get_$Q7())this.$KA=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$y(this.$KA.$AE,0);Microsoft.Dynamics.Client.Core.ViewModels.$18.prototype.$1WM.call(this,b);this.$KA=a},$9k:function(){this.$hs();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$Fo);Microsoft.Dynamics.Client.Core.ViewModels.$18.prototype.$9k.call(this)},$1g9:function(d,a){var b=this,c=this;Microsoft.Dynamics.Client.Core.ViewModels.$2g.$3l(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("ConfirmSave_Title"),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("ConfirmSave_Message"),1,function(){b.$1Ve(d,a)},function(){c.$xE();a.resolve(true)},Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("ConfirmSave_SaveButton"),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("DiscardChanges_DiscardButton"))},$OZ:function(a,c){var b=this,d=this;Microsoft.Dynamics.Client.Core.ViewModels.$2g.$3l(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("DiscardChanges_Title"),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S(c),1,function(){b.$xE();a.resolve(true)},function(){a.resolve(false)},Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("DiscardChanges_DiscardButton"),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("DiscardChanges_ReturnButton"))},$1g8:function(a,e,b){var d=String.format("{0}: {1}",Microsoft.Dynamics.Client.Core.Framework.Common.$9.$PS(b.$m),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$zF(b)),c=this,f=this;Microsoft.Dynamics.Client.Core.ViewModels.$2g.$3l(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("DiscardChanges_Title"),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S(e)+"\n\n"+d,1,function(){c.$xE();a.resolve(true)},function(){a.resolve(false)},Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("DiscardChanges_DiscardButton"),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("DiscardChanges_ReturnButton"))},$xE:function(){if(!$a.$0.$0(this.get_$12())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$12())){var a=this.get_$12();a.discardChanges();this.$1D5();Microsoft.Dynamics.Client.Core.ViewModels.$2T.$GZ("EditRootViewModel_AutoSave_Error");Microsoft.Dynamics.Client.Core.ViewModels.$2T.$GZ("EditRootViewModel_OpenedInsteadOfUrlTarget")}},$1BV:function(){if(!$a.$0.$0(this.get_$12())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$12())){var a=this.get_$12();a.add_$6m(this.$$d_$1Rc);a.add_$73(this.$$d_$25M)}},$hs:function(){if(!$a.$0.$0(this.get_$12())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$12())){var a=this.get_$12();a.remove_$6m(this.$$d_$1Rc);a.remove_$73(this.$$d_$25M)}},$1Ba:function(){this.$Fs=-1;if(this.$17j){this.$u5=true;return}this.$u5=false;this.get_IsValid()&&Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()&&this.get_$Cq()&&Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$MH&&this.$Kl(70)},$25M:function(c,b){var a=b;if(a.$Rj===1&&a.$RN===1&&!this.$1Tl){Microsoft.Dynamics.Client.Core.Framework.$N.$7D("LoadedReadReady",1,this.get_$k());this.$1Tl=true}if(this.get_$Q7()){Microsoft.Crm.Client.Core.ViewModels.$2H.get_$4().$c9(this.get_$J());this.$Fs=window.setTimeout(this.$$d_$1Ba,3e4);this.get_$J().$hr()}},$Kl:function(e){window.clearTimeout(this.$Fs);this.$Fs=-1;this.$103();var b=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Boolean,Object);if(!this.get_IsValid()&&e!==70){Microsoft.Dynamics.Client.Core.ViewModels.$1R.$Wv(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Error_Title_Generic"),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Form_Component_Error"));b.reject(Microsoft.Dynamics.Client.Core.Framework.$6.$15("Form_Component_Error"))}else if(!$a.$0.$0(this.$Fl)){var d=this.$Fl.$EA(e);this.$N4=b;this.$Js=e;var c=this;d.add_$Hp(function(){c.$N4=null;c.$Js=0;if(c.get_$Cq()&&c.$Js!==70)b.resolve(false);else{b.resolve(true);Microsoft.Dynamics.Client.Core.ViewModels.$2T.$GZ("EditRootViewModel_AutoSave_Error");Microsoft.Dynamics.Client.Core.ViewModels.$2T.$GZ("EditRootViewModel_OpenedInsteadOfUrlTarget");c.$1D5()}});var a=this;d.add_$Gr(function(){switch(a.$EQ.$m){case Microsoft.Dynamics.Client.Core.Framework.$H.$ZI:if(a.$Js!==70)a.$1LN();else{var c=new($a.List.$$(Microsoft.Dynamics.Client.Core.ViewModels.$Bt));c.$h(new Microsoft.Dynamics.Client.Core.ViewModels.$6l(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("RefreshForm_SaveAnyway"),function(){a.$103();a.$14K("Save")}));c.$h(new Microsoft.Dynamics.Client.Core.ViewModels.$6l(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("RefreshForm_ResolveDuplicate"),function(){a.$1LN()}));Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Ly().$Ja.$1Af("DuplicateFoundNotification",Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("ViewDuplicates_Notification_Message"),c,2,0);a.$N4=null;a.$Js=0;b.reject(a.$EQ)}break;default:a.$N4=null;a.$Js=0;b.reject(a.$EQ)}});Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(d)}return b.promise()},$1LN:function(){var a=this.$EQ;this.$BK=a.$BK;var b=this.$16i.$42();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(b)},$14K:function(b){var a=this.$N4;switch(b){case"Save":this.set_$9Q(true);var d=this,e=this;this.$Kl(this.$Js).then(function(b){!$a.$0.$0(a)&&a.resolve(b)},function(b){!$a.$0.$0(a)&&a.reject(b)});break;case"Cancel":this.$1Ku(a);break;default:this.$1Ku(a);if(b.indexOf("OpenRecord")!==-1){var c=$(b);this.$11Z=true;Xrm.Utility.openEntityForm(c.find("type").text(),c.find("Id").text())}}},$1Ku:function(a){this.$N4=null;this.$Js=0;!$a.$0.$0(a)&&a.reject(this.$EQ)},$1S1:function(b){this.$UE=b;var a="";if(!$a.$0.$0(this.get_$J())&&!$a.$0.$0(this.get_$J().get_$5A()))a=this.get_$J().get_$5A().get_$5A();Microsoft.Dynamics.Client.Core.ViewModels.$7U.$3l(this.$UE,this.$$d_$14K,a)},$1D5:function(){!$a.$0.$0(this.get_$J())&&!this.get_$J().$3H&&this.get_$Q7()&&this.get_$J().$Y1();this.set_$Q7(false);Microsoft.Crm.Client.Core.ViewModels.$2H.get_$4().$1Fa(this.get_$J())},$103:function(){Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Ly().$Ja.$1UB("DuplicateFoundNotification")}};Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel=function(){this.$$d_$Qm=Function.createDelegate(this,this.$Qm);this.$$d_$2Bp=Function.createDelegate(this,this.$2Bp);this.$$d_$Vp=Function.createDelegate(this,this.$Vp);this.$$d_$D3=Function.createDelegate(this,this.$D3);this.$17J="";Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype={$VM:null,$1KK:false,$7H:0,$10Z:null,$Qs:null,$14h:false,$1LL:null,get_MetadataActionProvider:function(){return this.$VM},set_MetadataActionProvider:function(a){if(this.$VM!==a)this.$VM=a;return a},get_SelectedLabel:function(){return this.$17J},set_SelectedLabel:function(a){this.$17J=a;this.$5("SelectedLabel");return a},$Qm:function(a,e,f){if(e){var c=new($a.List.$$(Microsoft.Dynamics.Client.Core.Framework.$42))(a);c.insert(0,new Microsoft.Dynamics.Client.Core.ViewModels.$3S("-1",""));a=c.toArray()}this.$1LL=a;if(!this.get_$Mw()&&!this.$14h){this.set_$Mw(true);this.$7H=$a.$0.$0(f)?-1:f;this.$1KK=e;if(!$a.$0.$0(this.get_$61())){var d=new($a.List.$$(Microsoft.Dynamics.Client.Core.Framework.$42))(a);d.addRange(this.get_$61());a=d.toArray()}this.set_$61(a);if(!$a.$0.$0(this.$Qs)&&this.$Qs.get_count()>0)for(var b=0;b<this.$Qs.get_count();b++)this.$1UG(this.$Qs.get_$2Hy(b));($a.$0.$0(this.get_Data())||String.isInstanceOfType(this.get_Data())&&$a.$5.$L(this.get_Data()))&&this.$7H!==-1&&this.set_SelectedItem(this.$7H.toString());this.$Vp(null,null)}},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);this.$Qs=new($a.List.$$(Number));this.AddPropertyChangedListener("Data",this.$$d_$D3);this.AddPropertyChangedListener("SelectedItem",this.$$d_$Vp);this.$D3(null,null);Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().add_$dG(this.$$d_$2Bp)},$WR:function(){if(this.$kf){this.set_$61(this.$1LL);this.$Qs=null;this.$14h=false;Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$WR.call(this)}},$1b7:function(c,b){var a=new($a.List.$$(Microsoft.Dynamics.Client.Core.Framework.$42))(this.get_$61());if($a.$0.$0(b)||b<0||b>a.get_count())a.add(c);else a.insert(b,c);this.set_$61(a.toArray())},$2AH:function(a){if(!this.get_$Mw()){this.$Qs.add(a);this.$2Gl()}else this.$1UG(a)},$1fQ:function(){this.$14h=true;this.set_$61(new Array(0));this.set_SelectedItem("-1");this.set_SelectedLabel("");this.set_Data(null)},$2Gl:function(){if(!this.get_$Mw()&&!$a.$0.$0(this.get_MetadataActionProvider())){var a=this.get_MetadataActionProvider().$42();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(a)}},$9k:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$9k.call(this);Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().remove_$dG(this.$$d_$2Bp)},$D3:function(){if(!$a.$0.$0(this.get_Data())&&Microsoft.Dynamics.Client.Core.Framework.$42.isInstanceOfType(this.get_Data())){var a=this.get_Data(),b=Number.parseInvariant(a.get_$AA());if(!isNaN(b)){this.set_SelectedItem(b.toString());this.set_SelectedLabel(a.get_$1v())}}},$1pd:function(a){return new Microsoft.Dynamics.Client.Core.ViewModels.$3S(this.get_SelectedItem(),this.get_$61()[a].get_$1v())},$Vp:function(){if($a.$0.$0(this.get_Data())||!Microsoft.Dynamics.Client.Core.Framework.$42.isInstanceOfType(this.get_Data())||this.get_SelectedItem()!==this.get_Data().get_$AA())for(var a=0;a<this.get_$61().length;a++)if(this.get_$61()[a].get_$AA()===this.get_SelectedItem()){var b=this.$1KK&&!a?null:this.$1pd(a);if(!$a.$0.$0(this.get_$J())){this.get_$J().$Wp();this.set_Data(b);this.get_$J().$cK()}else this.set_Data(b);this.set_SelectedLabel(this.get_$61()[a].get_$1v());break}},$1UG:function(e){for(var b=this.get_$61(),f=b.length,a=0;a<f;++a){var c=b[a];if(c.get_$AA()===e.toString()){var d=new($a.List.$$(Microsoft.Dynamics.Client.Core.Framework.$42))(this.get_$61());d.remove(c);this.set_$61(d.toArray());if(this.get_SelectedItem()===e.toString()){this.set_SelectedItem("-1");this.set_SelectedLabel("");this.set_Data(null)}return}}},$2Bp:function(){if($a.$5.$L(this.get_SelectedItem()))this.$10Z=null;else this.$10Z=parseInt(this.get_SelectedItem())}};Microsoft.Crm.Client.Core.ViewModels.$HA=function(){this.$$d_$4y=Function.createDelegate(this,this.$4y);Microsoft.Crm.Client.Core.ViewModels.$HA.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$HA.prototype={$XE:null,$4y:function(b){this.$XE=b;for(var c=new($a.List.$$(Microsoft.Dynamics.Client.Core.Framework.$42)),a=0;a<b.get_count();a++)c.add(new Microsoft.Dynamics.Client.Core.ViewModels.$3S(b.get_$2Hy(a).$8n.toString(),b.get_$2Hy(a).$Es));this.$Qm(c.toArray(),true)},$1M:function(){this.$XE=new($a.List.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.TimeZoneDefinition));Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$1M.call(this);this.$2Gl()},$1pd:function(a){if(1)a=a-1;return a>=0?this.$XE.get_$2Hy(a).$8n:null},$D3:function(){if(!$a.$0.$0(this.get_Data())&&Number.isInstanceOfType(this.get_Data())){for(var c=this.get_Data(),a=null,b=0;b<this.$XE.get_count();b++)if(c===this.$XE.get_$2Hy(b).$8n){a=this.$XE.get_$2Hy(b);break}if(!$a.$0.$0(a)){this.set_SelectedItem(a.$8n.toString());this.set_SelectedLabel(a.$Es)}}}};Microsoft.Crm.Client.Core.ViewModels.$HH=function(){this.$$d_$Fo=Function.createDelegate(this,this.$Fo);this.$$d_$1QY=Function.createDelegate(this,this.$1QY);this.$$d_$D3=Function.createDelegate(this,this.$D3);Microsoft.Crm.Client.Core.ViewModels.$HH.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$D3);this.AddPropertyChangedListener("ActionCommand",this.$$d_$1QY);Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$Fo);this.$Sc=false};Microsoft.Crm.Client.Core.ViewModels.$HH.prototype={$Di:false,$Er:false,$Fo:function(a,b){Microsoft.Dynamics.Client.Core.ViewModels.$36.prototype.$Fo.call(this,a,b);this.$5("CanNavigate")},$1QY:function(b,c){if(b!==this||c!=="ActionCommand")return;this.$So();if(!Microsoft.Dynamics.Client.Core.Commands.UrlLauncherCommand.isInstanceOfType(this.get_ActionCommand()))return;var a=this.get_ActionCommand();a.$c5=this.get_$1TX();a.set_$Ap(this.get_Text())},get_$1TX:function(){return""},$D3:function(b,c){if(b!==this||c!=="Data")return;var a=this.get_ActionCommand();a.set_$Ap(this.get_Text());this.$5("Text");this.$So()},get_Text:function(){return this.get_Data()},set_Text:function(a){if(this.get_Text()!==a){this.set_Data(a);this.$5("Text")}return a},get_CanNavigate:function(){return this.$Di},set_CanNavigate:function(a){if(this.$Di!==a){this.$Di=a;this.$5("CanNavigate")}return a},get_$GF:function(){return this.$Er},set_$GF:function(a){this.$Er=a;this.$5("UseHiddenMask");this.$So();return a},$9k:function(){Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$Fo);Microsoft.Dynamics.Client.Core.ViewModels.$36.prototype.$9k.call(this)},$So:function(){this.set_CanNavigate(!$a.$0.$0(this.get_ActionCommand())&&this.get_ActionCommand().get_$1K()&&!$a.$5.$1N(this.get_Data())&&!this.get_$GF())}};Microsoft.Crm.Client.Core.ViewModels.$Dz=function(){this.$$d_$1O5=Function.createDelegate(this,this.$1O5);$addHandler(window.self,"message",this.$$d_$1O5)};Microsoft.Crm.Client.Core.ViewModels.$Dz.prototype={$1O5:function(c){var d=c.rawEvent.origin,e=Microsoft.Crm.Client.Core.ViewModels.$2F.get_$1Kh();if(d!==e)return;var b="",a=Sys.Serialization.JavaScriptSerializer.deserialize(c.rawEvent.data);if(!$a.$0.$0(a))b=a.command;if(b==="closeDialog"){var f=a.id,g=a.params;Microsoft.Crm.Client.Core.ViewModels.$2F.$LB(f,g)}else $a.Trace.logError(81,"Attempting to call unknown method: {0}",b)}};Microsoft.Crm.Client.Core.ViewModels.$EH=function(a,b){this.$8M=a;this.$s=b};Microsoft.Crm.Client.Core.ViewModels.$EH.prototype={$8M:null,$s:null,get_$1fp:function(){var a={};a.command=this.$8M;a.params=this.$s;return a}};Microsoft.Crm.Client.Core.ViewModels.$2F=function(){this.$1wt=new Microsoft.Crm.Client.Core.ViewModels.$Dz};Microsoft.Crm.Client.Core.ViewModels.$2F.get_$4=function(){if($a.$0.$0(Microsoft.Crm.Client.Core.ViewModels.$2F.$m9))Microsoft.Crm.Client.Core.ViewModels.$2F.$m9=new Microsoft.Crm.Client.Core.ViewModels.$2F;return Microsoft.Crm.Client.Core.ViewModels.$2F.$m9};Microsoft.Crm.Client.Core.ViewModels.$2F.get_$1Kh=function(){var a=window.location.hostname,b=window.location.port,c=window.location.protocol;return $a.$5.$L(b)?$a.$5.$19("{0}//{1}",c,a):$a.$5.$19("{0}//{1}:{2}",c,a,b)};Microsoft.Crm.Client.Core.ViewModels.$2F.$LB=function(a,b){Microsoft.Crm.Client.Core.ViewModels.$1w.$F2(a,b);Microsoft.Crm.Client.Core.ViewModels.$2F.$18q--};Microsoft.Crm.Client.Core.ViewModels.$2F.$1gx=function(d,c,b){var a={};if(IsNull(b))b=window;a.context=b;a.callback=d;if(!IsNull(c))a.parameters=c;return a};Microsoft.Crm.Client.Core.ViewModels.$2F.$1lr=function(b){if(!IsNull(b)){var e=b.context,f=b.callback,c=b.parameters,d=[];if(!IsNull(c))for(var a=0;a<c.length;a++)d[a]=c[a];try{f.apply(e,d)}catch(g){}}};Microsoft.Crm.Client.Core.ViewModels.$2F.$22i=function(){return Microsoft.Crm.Client.Core.ViewModels.$2F.$18q++};Microsoft.Crm.Client.Core.ViewModels.$2F.$1IW=function(a){var b=window.document.getElementById(a);return!IsNull(b)?Microsoft.Crm.Client.Core.ViewModels.$2F.$1IW(a+"1"):a};Microsoft.Crm.Client.Core.ViewModels.$2F.prototype={$1wt:null,$1hY:function(c,f,g,h,i,j,k,l){var b=Microsoft.Crm.Client.Core.ViewModels.$2F.$1IW("InlineDialog"),a={};a.passedArguments=f;a.callbackFunction=l;a.InlineDialogId=b;var d=String.format("{0}{1}user_lcid={2}&client_type={3}",c,c.indexOf("?")>0?"&":"?",Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$2O.$5N,"MobileClient"),e=new Microsoft.Crm.Client.Core.ViewModels.$1w(b,d,g,h,i,j,Microsoft.Crm.Client.Core.ViewModels.$2F.$22i());e.$3l();a.screenHeight=window.innerHeight;a.nativeBridge=$a.NativeBridge.get_$4();window.self.InlineDialogId=b;window.self[b+"_childDialogArguments"]=a;window.self.initFunction=k}};Microsoft.Crm.Client.Core.ViewModels.$1w=function(c,h,d,e,a,b,i){this.$$d_$bc=Function.createDelegate(this,this.$bc);if($a.$0.$0(b)||isNaN(b)){var f=$(window).height();b=(f-e)/2}if($a.$0.$0(a)||isNaN(a)){var g=$(window).width();a=(g-d)/2}if(b<0)b=0;if(a<0)a=0;this.$kD=c;this.$XQ=this.$1ao(h);this.$B2=d;this.$6w=e;this.$Q9=a;this.$At=b;this.$EG=null;this.$1A2=i;this.$B3=this.$$d_$bc;Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().add_$DG(this.$B3);if(!(c in Microsoft.Crm.Client.Core.ViewModels.$1w.get_$SQ()))Microsoft.Crm.Client.Core.ViewModels.$1w.get_$SQ()[c]=this};Microsoft.Crm.Client.Core.ViewModels.$1w.$F2=function(a,h){var c=a+"_Background",d=window.document.getElementById(c),b=window.document.getElementById(a),e=window.self[a+"_childDialogArguments"],f=e.callbackFunction,g=Microsoft.Crm.Client.Core.ViewModels.$2F.$1gx(f,[h],b.parentNode);if(a in Microsoft.Crm.Client.Core.ViewModels.$1w.get_$SQ()){Microsoft.Crm.Client.Core.ViewModels.$1w.$1fB(a);delete Microsoft.Crm.Client.Core.ViewModels.$1w.get_$SQ()[a]}Microsoft.Crm.Client.Core.ViewModels.$1w.$gI(d,b);Microsoft.Crm.Client.Core.ViewModels.$2F.$1lr(g);$a.UserAgent.getInstance().get_$4k()&&$a.NativeBridge.get_$4().$3C.$3T&&$a.NativeBridge.get_$4().$3C.$CP("DialogPresent",false)};Microsoft.Crm.Client.Core.ViewModels.$1w.$gI=function(a,b){if(!IsNull(a)){$removeHandler(a,"touchstart",Microsoft.Crm.Client.Core.ViewModels.$1w.$rW);$removeHandler(a,"touchmove",Microsoft.Crm.Client.Core.ViewModels.$1w.$rW);window.document.body.removeChild(a)}!IsNull(b)&&window.document.body.removeChild(b)};Microsoft.Crm.Client.Core.ViewModels.$1w.$1fB=function(b){var a=Microsoft.Crm.Client.Core.ViewModels.$1w.get_$SQ()[b];Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().remove_$DG(a.$B3);a.$B3=null};Microsoft.Crm.Client.Core.ViewModels.$1w.$1RH=function(f){var a=f.target;$removeHandler(a,"load",Microsoft.Crm.Client.Core.ViewModels.$1w.$1RH);var b=window.self.InlineDialogId,c=window.self[b+"_childDialogArguments"],d=window.self.initFunction;a.contentWindow.InlineDialogId=b;a.contentWindow.dialogArguments=c;a.contentWindow.isMobileClient=true;var e=new Microsoft.Crm.Client.Core.ViewModels.$EH(d,c.passedArguments);a.contentWindow.postMessage(Sys.Serialization.JavaScriptSerializer.serialize(e.get_$1fp()),Microsoft.Crm.Client.Core.ViewModels.$2F.get_$1Kh())};Microsoft.Crm.Client.Core.ViewModels.$1w.$rW=function(a){a.stopPropagation();a.preventDefault()};Microsoft.Crm.Client.Core.ViewModels.$1w.get_$SQ=function(){if($a.$0.$0(Microsoft.Crm.Client.Core.ViewModels.$1w.$Xt))Microsoft.Crm.Client.Core.ViewModels.$1w.$Xt={};return Microsoft.Crm.Client.Core.ViewModels.$1w.$Xt};Microsoft.Crm.Client.Core.ViewModels.$1w.set_$SQ=function(a){Microsoft.Crm.Client.Core.ViewModels.$1w.$Xt=a;return a};Microsoft.Crm.Client.Core.ViewModels.$1w.prototype={$kD:null,$XQ:null,$B2:0,$6w:0,$Q9:0,$At:0,$1A2:0,$EG:null,$AS:null,$QE:null,$B3:null,$bc:function(){if($a.UserAgent.getInstance().$Q3){var b=$(window).height();this.$At=(b-this.$6w)/2;var c=$(window).width();this.$Q9=(c-this.$B2)/2;if(this.$At<0)this.$At=0;if(this.$Q9<0)this.$Q9=0;this.$fC(this.$EG);this.$fC(this.$AS)}else if($a.UserAgent.getInstance().$21){var a=this.$AS.clientHeight-this.$6w;this.$EG.style.height=this.$AS.clientHeight+"px";a>0&&$(window).scrollTop(window.pageYOffset+a)}},$3l:function(){IsNull(this.$EG)&&this.$1ht();$addHandler(this.$AS,"load",Microsoft.Crm.Client.Core.ViewModels.$1w.$1RH);this.$EG.className="ms-crm-DialogChrome";this.$EG.style.position="absolute";if($a.UserAgent.getInstance().$21)this.$EG.style.overflowY="scroll";this.$fC(this.$EG);this.$AS.style.height=this.$6w+"px";this.$AS.style.width=this.$B2+"px";this.$AS.style.border="0px";this.$AS.setAttribute("src",this.$XQ);this.$fC(this.$QE);$a.UserAgent.getInstance().get_$4k()&&$a.NativeBridge.get_$4().$3C.$3T&&$a.NativeBridge.get_$4().$3C.$CP("DialogPresent",true)},$fC:function(a){a.style.height=this.$6w+"px";a.style.width=this.$B2+"px";a.style.top=this.$At+"px";a.style.left=this.$Q9+"px";a.style.zIndex=this.$1A2},$1gu:function(){var b=this.$kD+"_Background",a=document.createElement("div");a.id=b;window.document.body.appendChild(a);a.style.position="absolute";a.style.zIndex=this.$1A2-1;a.style.width="100%";a.style.height="100%";a.style.top="0px";a.style.backgroundColor="gray";$(a).css("opacity","0.5");$addHandler(a,"touchstart",Microsoft.Crm.Client.Core.ViewModels.$1w.$rW);$addHandler(a,"touchmove",Microsoft.Crm.Client.Core.ViewModels.$1w.$rW)},$1ht:function(){this.$1gu();this.$EG=document.createElement("div");this.$EG.id=this.$kD;window.document.body.appendChild(this.$EG);this.$1iH();this.$1hu();this.$EG.appendChild(this.$AS)},$1hu:function(){var a=this.$kD+"_Iframe";this.$AS=document.createElement("iframe");this.$AS.id=a;this.$AS.setAttribute("name",a);this.$AS.style.borderWidth="1px";this.$AS.style.borderStyle="solid";this.$AS.style.borderColor="#D6D6D6"},$1iH:function(){this.$QE=document.createElement("div");this.$QE.id="DialogLoadingDiv";this.$QE.innerHTML=String.format("<table class='ms-crm-LoadingContainer' style='width:100%;height:100%'>\r\n\t\t\t\t\t<tr class='ms-crm-LoadingContainer'>\r\n\t\t\t\t\t\t<td style='vertical-align: middle' align='center'>\r\n\t\t\t\t\t\t\t<IMG id='DialogLoadingDivImg' alt='' src='/_imgs/AdvFind/progress.gif'>\r\n\t\t\t\t\t\t\t<br>{0}\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>","");this.$QE.style.position="absolute";this.$QE.style.backgroundColor="white";this.$QE.style.display="none"},$1ao:function(b){var a="";if(b.indexOf("?")>0)a=b+"&dType=2";else a=b+"?dType=2";return a}};Microsoft.Crm.Client.Core.ViewModels.$FQ=function(){this.$$d_$4y=Function.createDelegate(this,this.$4y);Microsoft.Crm.Client.Core.ViewModels.$FQ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$FQ.prototype={$JI:null,$4y:function(d,c){this.$JI=new($a.List.$$(Number))(d);this.$JI.sort();this.$JI.remove(c);this.$JI.insert(0,c);for(var b=new($a.List.$$(Microsoft.Dynamics.Client.Core.Framework.$42)),a=0;a<this.$JI.get_count();a++)b.add(new Microsoft.Dynamics.Client.Core.ViewModels.$3S(this.$JI.get_$2Hy(a).toString(),Microsoft.Crm.Client.Core.Storage.Formatting.CrmNumericFormatter.$7.$Ik(this.$JI.get_$2Hy(a))));this.$Qm(b.toArray(),true)},$1M:function(){this.$JI=new($a.List.$$(Number));Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$1M.call(this);this.$2Gl()},$1pd:function(a){if(1)a=a-1;return a>=0?this.$JI.get_$2Hy(a):null},$D3:function(){if(!$a.$0.$0(this.get_Data())&&Number.isInstanceOfType(this.get_Data())){var a=this.get_Data();if(a>=0){this.set_SelectedItem(a.toString());this.set_SelectedLabel(Microsoft.Crm.Client.Core.Storage.Formatting.CrmNumericFormatter.$7.$Ik(a))}}}};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport=function(){};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1ib=function(){if(window.document.getElementById("perfDiv"))return;var a=$(window.document.createElement("div"));a.attr("id","perfDiv");a.addClass("PerfDiv");var b=Microsoft.Dynamics.Client.Core.Framework.$3d.$E("innerWidth")*.95,d=Microsoft.Dynamics.Client.Core.Framework.$3d.$E("innerHeight")*.6;a.width(b);a.css("marginLeft",-(b/2)+"px");a.html("<div class='PerfDivHeader'>Performance Results</div>");a.hide();var h=$("<div id='perfTabs_container'><ul id='perfTabs'><li class='active'><span tab='#perfTab1' data-initialized=\"1\">Performance Markers</span></li><li><span tab='#perfTab2' data-initialized=\"0\">Local Store</span></li><li><span tab='#perfTab3' data-initialized=\"0\">Global Objects Count</span></li></ul></div>");a.append(h);var c=$("<div id='perfTabs_content_container'></div>");a.append(c);var e=$("<div id='perfTab1' class='perfTabContent' style='display: block;'>");c.append(e);var f=$("<div id='perfTab2' class='perfTabContent'>");c.append(f);var g=$("<div id='perfTab3' class='perfTabContent'>");c.append(g);$("body").append(a);$("#perfTabs li").click(function(a){$("#perfTabs li").removeClass("active");$(a.target.parentNode).addClass("active");$(".perfTabContent").hide();var b=$(a.target),c=b.attr("tab");$(c).show();var d=b.attr("data-initialized");if(d==="0"&&c==="#perfTab2"){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$15D();b.attr("data-initialized","1")}else if(d==="0"&&c==="#perfTab3"){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$15C();b.attr("data-initialized","1")}a.stopPropagation();a.preventDefault()});Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1t1(e,b,d);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1t0(f,b,d);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1se(g,b,d)};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1t1=function(a,m,o){var n=o*.6,p=m-20,c=$(window.document.createElement("div"));c.attr("id","perfTimelineWrapper");c.width(m);c.height(n);var e=$(window.document.createElement("canvas"));e.attr("id","perfTimelineCanvas");e.attr("height",n.toString());e.attr("width",p.toString());e.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2Fc);c.append(e);var b=$(window.document.createElement("textarea"));b.attr("id","perfTextArea");b.addClass("perfTextArea");b.attr("readonly","1");b.height(o*.2);b.width(m-10);var f=$(window.document.createElement("button"));f.addClass("PerfButtonRight");f.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$gU);f.text("Close");var g=$(window.document.createElement("button"));g.addClass("PerfButtonRight");g.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2CW);g.text("Select All");var h=$(window.document.createElement("button"));h.addClass("PerfButtonRight");h.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1fI);h.text("Clear & Close");var i=$(window.document.createElement("button"));i.addClass("PerfButtonRight");i.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$WI);i.text("Refresh");var j=$(window.document.createElement("button"));j.addClass("PerfButtonRight");j.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2Cd);j.text("Select Major Events");var d=$(window.document.createElement("button"));d.attr("id","enableMarkerCollectionButton");d.addClass("PerfButtonRight");d.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2Fs);d.text(Microsoft.Dynamics.Client.Core.Framework.$N.get_$2L()?"Disable":"Enable");var k=$(window.document.createElement("input"));k.attr("id","findMarkersSearchCriteria");k.width(150);k.bind("keyup",function(a){a.which===13&&$("#findMarkersButton").click()});var l=$(window.document.createElement("button"));l.attr("id","findMarkersButton");l.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1nP);l.text("Find");if($a.UserAgent.getInstance().$21){a.append(f);a.append(g);a.append(h);a.append(i);a.append(j);a.append(d);a.append(k);a.append(l);a.append(b);a.append(c)}else{a.append(c);a.append(b);a.append(f);a.append(g);a.append(h);a.append(i);a.append(j);a.append(d);a.append(k);a.append(l)}Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$om()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1t0=function(b,h,i){var a=$(window.document.createElement("textarea"));a.attr("id","localStorePerfTextArea");a.addClass("perfTextArea");a.attr("readonly","1");a.height(i*.6);a.width(h-10);b.append(a);var d=$(window.document.createElement("button"));d.addClass("PerfButtonRight");d.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1fP);d.text("Clear & Close");b.append(d);var e=$(window.document.createElement("button"));e.addClass("PerfButtonRight");e.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1Ts);e.text("Refresh");b.append(e);var f=$(window.document.createElement("button"));f.addClass("PerfButtonRight");f.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1UT);f.text("Replay Parallel");b.append(f);var g=$(window.document.createElement("button"));g.addClass("PerfButtonRight");g.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1UT);g.text("Replay Sequential");b.append(g);var c=$(window.document.createElement("button"));c.addClass("PerfButtonRight");c.attr("id","enableDatabaseTrackingButton");c.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2Fq);c.text(Microsoft.Dynamics.Client.Core.Framework.$N.get_$aS()?"Disable":"Enable");b.append(c);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$15D()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1se=function(e,f,g){var a=$(window.document.createElement("textarea"));a.attr("id","globalObjectCountsTextArea");a.addClass("perfTextArea");a.attr("readonly","1");a.height(g*.6);a.width(f-10);e.append(a);var c=$(window.document.createElement("button"));c.addClass("PerfButtonRight");c.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$gU);c.text("Close");e.append(c);var d=$(window.document.createElement("button"));d.addClass("PerfButtonRight");d.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$29n);d.text("Refresh");e.append(d);var b=$(window.document.createElement("button"));b.attr("id","enableGlobalObjectTrackingButton");b.addClass("PerfButtonRight");b.bind("click",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2Fr);b.text($a.$1p.get_$CE()?"Disable Global Object Tracking":"Enable Global Object Tracking");e.append(b);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$15C()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1ib();var a=window.document.getElementById("perfDiv");if(a.style.display==="none"){a.style.display="";var b=Microsoft.Dynamics.Client.Core.Framework.$N.$C();if(b!==Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$12O){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$om();Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$12O=b}}else a.style.display="none"};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$v8=function(b){var a=window.document.getElementById(b);if(a)a.innerHTML=""};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$gM=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$v8("perfTextArea")};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$tN=function(b){var a=window.document.getElementById("perfTextArea");if(a)a.innerHTML+=CrmEncodeDecode.CrmHtmlEncode(b)+"\r\n"};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$om=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$gM();var k=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1Ii(),A=k.width,l=0,B=Microsoft.Dynamics.Client.Core.Framework.$N.$Lz();if(B){for(var c=Number.MAX_VALUE,e=Number.MIN_VALUE,s=Microsoft.Dynamics.Client.Core.Framework.$N.$Lz(),y=s.length,i=0;i<y;++i){var g=s[i];if(g.$6r<c)c=g.$6r;if(g.$6r>e)e=g.$6r}var m=10,f=15,u=(A-2*m)/(e-c);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo=[];for(var v=new(Microsoft.Dynamics.Client.Core.Framework.$j.$$(Boolean)),t=Microsoft.Dynamics.Client.Core.Framework.$N.$Lz(),z=t.length,j=0;j<z;++j){var a=t[j];if(v.$2Ia(a.$k))continue;var o="#"+Math.floor(Math.abs(Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1p8(a.$1T))/2147483647*16777215).toString(16),p=m+(a.$6r-c)*u,q=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$fz,b=null;if(a.$ap.$2Ia("StopMarker")){var d=Microsoft.Dynamics.Client.Core.Framework.$N.$1pP(a.$ap.get_$2Hy("StopMarker"));if(d){var w=d.$6r-a.$6r,C=Math.max(1,w*u),x="";if(d.$6W!==2)x=" ("+w+" ms)";b=new Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w(p,q,C,f,d.toString()+x,o);v.set_$2Hy(d.$k,true)}else b=new Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w(p,q,50,f,a.toString()+" (? ms)",o)}else{var r=a.$1T;r+=String.format(" (-> {0} ms)",a.$6r-c);if(!$a.$5.$L(a.$87))r+=String.format(" - {0}",a.$87);b=new Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w(p,q,1,f,r,o)}if(b){b.$VE=a;if(a.$6W!==1)for(var h=0;h<Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo.length;)if(b.$1Sb(Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo[h])){b.$8u+=f+1;h=0}else h++;else{b.$8u=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$g0;b.$6x=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$fz-8;b.$5t=10}l=Math.max(l,b.$8u+b.$6x+5);Array.add(Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo,b)}}k.height=l;var n=$(k);n.data("padding",m);n.data("headerHeight",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$fz);n.data("totalTime",e-c);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$pc()}};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$pc=function(){var a=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1Ii(),d=$(a),b=a.getContext("2d");b.clearRect(0,0,a.width,a.height);b.globalAlpha=.7;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2AY(a,d.data("totalTime"));for(var c=0;c<Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo.length;c++){var e=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo[c];e.$NL(b)}};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1Ii=function(){return $get("perfTimelineCanvas")};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2AY=function(b,g){if(!b)return;var e=$(b),c=e.data("padding"),d=e.data("headerHeight"),a=b.getContext("2d");a.beginPath();a.moveTo(c,d-2);a.lineTo(b.width-c,d-2);a.stroke();a.font="10px Verdana";a.fillStyle="black";a.fillText("0 ms",c,d/2+Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$g0);var f=60;a.fillText(g.toString()+" ms",b.width-c-f,d/2+Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$g0)};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1p8=function(b){var a=0;if($a.$0.$0(b)||!b.length)return a;for(var c=0;c<b.length;c++){var d=b.charCodeAt(c);a=(a<<5)-a+d;a=a&a}return a};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2Fc=function(c){var e=c.target,d=e.getBoundingClientRect(),f=c.clientX,g=c.clientY,h=f-d.left,i=g-d.top;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$gM();for(var b=0;b<Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo.length;b++){var a=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo[b];a.$5C=false;if(a.$1sA(h,i)){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$tN(a.$8Z);a.$5C=true}}Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$pc()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$gU=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2CW=function(){var a=window.document.getElementById("perfTextArea");!$a.$0.$0(a)&&a.select()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$WI=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$om()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1fI=function(a){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo=[];Microsoft.Dynamics.Client.Core.Framework.$N.$1D1();Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$v4();Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$om();Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$gU(a)};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2Cd=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$gM();for(var b=0;b<Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo.length;b++){var a=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo[b];if(a.$VE.$6W===1){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$tN(a.$8Z);a.$5C=true}else a.$5C=false}Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$pc()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1nP=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$gM();for(var c=$("#findMarkersSearchCriteria").val().toLowerCase(),b=0;b<Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo.length;b++){var a=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo[b];if(a.$8Z.toLowerCase().indexOf(c)>=0){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$tN(a.$8Z);a.$5C=true}else a.$5C=false}Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$pc()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2Fs=function(){Microsoft.Dynamics.Client.Core.Framework.$N.set_$2L(!Microsoft.Dynamics.Client.Core.Framework.$N.get_$2L());var a=$("#enableMarkerCollectionButton");a.text(Microsoft.Dynamics.Client.Core.Framework.$N.get_$2L()?"Disable":"Enable")};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2Fq=function(){Microsoft.Dynamics.Client.Core.Framework.$N.set_$aS(!Microsoft.Dynamics.Client.Core.Framework.$N.get_$aS());var a=$("#enableDatabaseTrackingButton");a.text(Microsoft.Dynamics.Client.Core.Framework.$N.get_$aS()?"Disable":"Enable")};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$v4=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$v8("localStorePerfTextArea")};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1bT=function(b){var a=window.document.getElementById("localStorePerfTextArea");if(a)a.innerHTML+=CrmEncodeDecode.CrmHtmlEncode(b)+"\r\n"};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$15D=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$v4();var d=Microsoft.Dynamics.Client.Core.Framework.$N.$Lz();if(d)for(var c=d,e=c.length,a=0;a<e;++a){var b=c[a];b.$6W===2&&b.$Gh&&Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1bT(b.toString())}};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1Ts=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$15D()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1fP=function(f){var d=Microsoft.Dynamics.Client.Core.Framework.$N.$Lz();if(d)for(var c=d,e=c.length,a=0;a<e;++a){var b=c[a];if(b.$6W===2&&b.$Gh)b.$6W=0}Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$v4();Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$gU(f)};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1UT=function(j){var b=$(j.target),h=b.text().indexOf("Sequential")>=0,e=new($a.List.$$(Microsoft.Crm.Client.Core.Storage.LocalStore.$8Z)),f=Microsoft.Dynamics.Client.Core.Framework.$N.$Lz();if(f)for(var d=f,g=d.length,a=0;a<g;++a){var c=d[a];c.$6W===2&&Microsoft.Crm.Client.Core.Storage.LocalStore.$8Z.isInstanceOfType(c.$Gh)&&e.add(c.$Gh)}b.attr("disabled","disabled");var i=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1k().get_$2M();Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1Gb(i,e,h).then(function(){},function(a){Microsoft.Dynamics.Client.Core.ViewModels.$1R.$Wv("Failed to replay the local store commands.",a.$P)}).always(function(){b.removeAttr("disabled")});Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1Ts(null)};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$3h=function(c,a){var b=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Object,Microsoft.Dynamics.Client.Core.Framework.$6);if($a.$0.$0(a))b.reject();else switch(a.CommandName){case"Retrieve":c.$2v(a.Parameters.key,a.StoreName).then(function(a){b.resolve(a)},function(a){b.reject(a)});break;case"RetrieveMultipleByQuery":c.$K9(a.Parameters.query,a.StoreName).then(function(a){b.resolve(a)},function(a){b.reject(a)});break;case"Add":c.$h(a.Parameters.key,a.Parameters.data,a.StoreName).then(function(a){b.resolve(a)},function(a){b.reject(a)});break;case"AddMultiple":c.$8H(a.Parameters.extractKey,a.Parameters.dataSet,a.StoreName).then(function(a){b.resolve(a)},function(a){b.reject(a)});break;case"Flush":c.$9f(a.Parameters.key,a.StoreName).then(function(a){b.resolve(a)},function(a){b.reject(a)});break;case"FlushAll":c.$FP(a.StoreName).then(function(a){b.resolve(a)},function(a){b.reject(a)});break;default:throw Error.argument(a.CommandName,"ExecuteCommand: Command is not supported.");}return b.promise()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1Gb=function(e,b,g){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Object,Microsoft.Dynamics.Client.Core.Framework.$6);if(!b.get_count())a.resolve();else if(!g){for(var f=[],c=0;c<b.get_count();c++)Array.add(f,Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$3h(e,b.get_$2Hy(c)));$.when.apply(null,f).then(new Microsoft.Dynamics.Client.Core.Framework.$45(function(){a.resolve()}).$$d_$1CL,function(b){a.reject(b)})}else{var d=new($a.List.$$(Microsoft.Crm.Client.Core.Storage.LocalStore.$8Z))(Array.clone(b.get_items())),h=d.get_$2Hy(0);d.removeAt(0);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$3h(e,h).then(function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1Gb(e,d,g).then(function(){a.resolve()},function(b){a.reject(b)})},function(b){a.reject(b)})}return a.promise()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1fN=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$v8("globalObjectCountsTextArea")};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$ec=function(b){var a=window.document.getElementById("globalObjectCountsTextArea");if(a)a.innerHTML+=CrmEncodeDecode.CrmHtmlEncode(b)+"\r\n"};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2Fr=function(){$a.$1p.set_$CE(!$a.$1p.get_$CE());var a=$("#enableGlobalObjectTrackingButton");a.text($a.$1p.get_$CE()?"Disable Global Object Tracking":"Enable Global Object Tracking")};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$15C=function(){for(var g=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1DW(),c=0;c<g.length;c++){var d=g[c];Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$ec(d.Description);var a=[],e=d.ObjectCounts;for(var f in e){var h={key:f,value:e[f]};Array.add(a,h.key)}a.sort();for(var b=0;b<a.length;b++)Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$ec(String.format("\t{0}: {1}",a[b],d.ObjectCounts[a[b]]));Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$ec("")}$a.NativeBridge.get_$4().$2p.$3T&&$a.NativeBridge.get_$4().$2p.$1JB(function(a){var b=(a/1048576).toFixed(2);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$ec("Memory Used: "+b)})};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1DW=function(){var b=[];if(!$a.$1p.get_$CE())return b;var a=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$vQ("ApplicationShellViewModel -> Event Handlers",Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().eventHandlers);a&&Array.add(b,a);a=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$vQ("ApplicationShellViewModel -> CommandManagerViewModel -> Custom Event Handlers",Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Dl.customEvents);a&&Array.add(b,a);a=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$vQ("CustomEventHandlersManager -> Event Handlers",Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().eventHandlers);a&&Array.add(b,a);var n=Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$Hf;if(n){a=new Microsoft.Dynamics.Client.Core.Framework.$5A("ViewModelFactory");a.ObjectCounts["Total RootViewModels"]=$a.$2j.$C(n);var p={},t=n;for(var z in t){var P={key:z,value:t[z]},l=P.value;if(Microsoft.Dynamics.Client.Core.ViewModels.$18.isInstanceOfType(l)){var Q=l.$x_6;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$p4(Q,p)}if($a.$85.isInstanceOfType(l)){var R=l.eventHandlers;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$p4(R,p)}}Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$p5(p,a);Array.add(b,a)}var F=jQuery.cache;if(F){a=new Microsoft.Dynamics.Client.Core.Framework.$5A("jQuery Events");var K=0,d={},v=F;for(var B in v){var S={key:B,value:v[B]},L=S.value.events;if(L){var w=L;for(var C in w){var c={key:C,value:w[C]};if($a.$5.$L(c.key))continue;if(!(c.key in d))d[c.key]=0;d[c.key]=d[c.key]+c.value.length}K++}}a.ObjectCounts["Total Objects With Events"]=K;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$p5(d,a);Array.add(b,a)}var i=$a.$2b.get_$tX();if(i){a=new Microsoft.Dynamics.Client.Core.Framework.$5A("Commands");a.ObjectCounts.Total=i.length;for(var e={},q=0;q<i.length;q++){var f=Microsoft.Dynamics.Client.Core.Framework.$92.$1L9(i[q]);if($a.$5.$L(f))continue;if(!(f in e))e[f]=0;e[f]=e[f]+1}var x=e;for(var D in x){var M={key:D,value:x[D]};a.ObjectCounts[M.key]=M.value}Array.add(b,a)}var j=$a.$4D.get_$tY();if(j){a=new Microsoft.Dynamics.Client.Core.Framework.$5A("Custom Events -> Active Handlers");for(var g={},m=0;m<j.length;m++){var h=j[m].get_$1GV();if($a.$5.$L(h))continue;if(!(h in g))g[h]=0;g[h]=g[h]+j[m].get_$1ll().length}var y=g;for(var E in y){var N={key:E,value:y[E]};a.ObjectCounts[N.key]=N.value}Array.add(b,a)}var G=Microsoft.Crm.Client.Core.Models.$1A.get_$en();if(G){a=new Microsoft.Dynamics.Client.Core.Framework.$5A("Record Collection Models");a.ObjectCounts.Total=G.length;Array.add(b,a)}var H=Microsoft.Crm.Client.Core.Models.$K.get_$SS();if(H){a=new Microsoft.Dynamics.Client.Core.Framework.$5A("Record Models");a.ObjectCounts.Total=H.length;Array.add(b,a)}var o=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$Ce().$7w;if(o){a=new Microsoft.Dynamics.Client.Core.Framework.$5A("DataSource Events");a.ObjectCounts["Total Listeners"]=$a.$2j.$C(o);var O={},u=o;for(var A in u){var T={key:A,value:u[A]},U=T.value;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$p4(U,O)}Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$p5(O,a);Array.add(b,a)}var k=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$jP();if(k){a=new Microsoft.Dynamics.Client.Core.Framework.$5A("Entities Metadata Cache");a.ObjectCounts["Total Entities"]=k.get_$C();for(var r=0;r<k.$4u.length;r++){var s=k.$4u[r];if(s.$2w)a.ObjectCounts[String.format("Entity '{0}' attributes",s.$1Q)]=s.$2w.length}Array.add(b,a)}var I=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().get_$1cG();if(I){a=new Microsoft.Dynamics.Client.Core.Framework.$5A("Application Metadata Cache");a.ObjectCounts["Total Application Metadata Objects"]=I;Array.add(b,a)}var J=document.getElementsByTagName("iframe");if(J){a=new Microsoft.Dynamics.Client.Core.Framework.$5A("iFrame");a.ObjectCounts["Total iframes"]=J.length;Array.add(b,a)}a=new Microsoft.Dynamics.Client.Core.Framework.$5A("Inline Dialog references");a.ObjectCounts["AllInlineDialog count"]=$a.$2j.$C(Microsoft.Crm.Client.Core.ViewModels.$1w.get_$SQ());Array.add(b,a);return b};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$vQ=function(d,c){if(!c)return null;var a={};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$p4(c,a);if(!a||!$a.$2j.$C(a))return null;var b=new Microsoft.Dynamics.Client.Core.Framework.$5A(d);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$p5(a,b);return b};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$p4=function(f,b){if(!f||!b)return;var e=f._list;if(!e)return;var c=e;for(var d in c){var a={key:d,value:c[d]};if($a.$5.$L(a.key))continue;if(!(a.key in b))b[a.key]=0;b[a.key]=b[a.key]+a.value.length}};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$p5=function(f,b){if(!f||!b)return;var e=0,c=f;for(var d in c){var a={key:d,value:c[d]};b.ObjectCounts[a.key]=a.value;e+=a.value}b.ObjectCounts["Total Handlers"]=e};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$29n=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1fN();Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$15C()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w=function(a,b,c,d,e,f){this.$8t=a;this.$8u=b;this.$5t=c;this.$6x=d;this.$8Z=e;this.$yU=f};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w.prototype={$8t:0,$8u:0,$5t:0,$6x:0,$8Z:null,$yU:null,$VE:null,$5C:false,$1Sb:function(a){var b=this.$8t>=a.$8t+a.$5t||a.$8t>=this.$8t+this.$5t||this.$8u>a.$8u+a.$6x||a.$8u>this.$8u+this.$6x;return!b},$1sA:function(b,c){var a=new Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w(b-1,c-1,3,3,"",null);return this.$1Sb(a)},$NL:function(a){if(this.$VE&&this.$VE.$6W===1){a.save();a.fillStyle="gray";a.beginPath();a.moveTo(this.$8t,3);a.lineTo(this.$8t,3e3);a.stroke();a.fillStyle=this.$yU;a.beginPath();a.moveTo(this.$8t,this.$8u);a.lineTo(this.$8t+this.$5t,this.$8u+this.$6x/2);a.lineTo(this.$8t,this.$8u+this.$6x);a.lineTo(this.$8t,this.$8u);a.fill();this.$5C&&a.stroke();a.restore();return}a.fillStyle=this.$yU;a.fillRect(this.$8t,this.$8u,this.$5t,this.$6x);if(this.$5C){a.save();if(this.$VE&&this.$VE.$6W===1)a.globalAlpha=1;a.fillStyle="black";a.lineWidth=2;a.strokeRect(this.$8t+1,this.$8u+1,this.$5t-2,this.$6x-2);a.restore()}if(this.$8Z.length*Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w.$1FL<=this.$5t){a.font=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w.$1FJ;a.fillStyle=Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w.$1FK;a.fillText(this.$8Z,this.$8t+4,this.$8u+this.$6x/2+3)}}};Microsoft.Crm.Client.Core.ViewModels.$65=function(){Microsoft.Crm.Client.Core.ViewModels.$65.initializeBase(this);this.$MZ=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Settings_About");this.$bi=new Microsoft.Dynamics.Client.Core.Commands.UrlLauncherCommand("http:",Microsoft.Crm.Client.Core.ViewModels.$65.$zZ("Settings_Privacy_Statement_Link"));if($a.UserAgent.getInstance().$JE)this.$Vs=new Microsoft.Dynamics.Client.Core.Commands.UrlLauncherCommand("http:",Microsoft.Crm.Client.Core.ViewModels.$65.$zZ("Settings_License_Terms_Link_IPad"));else this.$Vs=new Microsoft.Dynamics.Client.Core.Commands.UrlLauncherCommand("http:",Microsoft.Crm.Client.Core.ViewModels.$65.$zZ("Settings_License_Terms_Link_Android"))};Microsoft.Crm.Client.Core.ViewModels.$65.$zZ=function(b){var a=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S(b);return a+"&clcid=0x"+Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$7R.toString(16)};Microsoft.Crm.Client.Core.ViewModels.$65.prototype={$bi:null,$Vs:null,get_$1aG:function(){return Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Settings_Brand_Title")},get_$1ce:function(){return Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Settings_App_Version")},get_$1cd:function(){return String.format(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Settings_Application_Version_Format"),$a.NativeBridge.get_$4().$2p.get_$5K().get_$2l(),$a.NativeBridge.get_$4().$2p.get_$5K().get_$L3(),$a.NativeBridge.get_$4().$2p.get_$5K().get_$q5(),$a.NativeBridge.get_$4().$2p.get_$5K().get_$227())},get_$2Cm:function(){return Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Settings_Server_Version")},get_$1WC:function(){var a=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$Hj;return String.format(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Settings_Server_Version_Format"),a.$KN,a.$Gj)},get_$2Hn:function(){return Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Settings_Web_Address")},get_$1a1:function(){return window.location.href},get_$26n:function(){return Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Settings_Org_Name")},get_$26m:function(){var a=$a.$2E.$Qy(this.get_$1a1()),b="";if("org"in a)b=a.org;return b},get_$2HL:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$6B},get_$2HN:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$NQ.join(", ")},get_$1vL:function(){return Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Settings_Last_Sync_Date")},get_$12R:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$12R()},get_$28u:function(){return Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Settings_Privacy_Statement")},get_$1vS:function(){return Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Settings_License_Terms")},$9k:function(){if(!$a.$0.$0(this.$bi)){this.$bi.$N();this.$bi=null}if(!$a.$0.$0(this.$Vs)){this.$Vs.$N();this.$Vs=null}Microsoft.Dynamics.Client.Core.ViewModels.$6L.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$2H=function(){this.$9G=new $a.$FT};Microsoft.Crm.Client.Core.ViewModels.$2H.get_$4=function(){if($a.$0.$0(Microsoft.Crm.Client.Core.ViewModels.$2H.$7))Microsoft.Crm.Client.Core.ViewModels.$2H.$7=new Microsoft.Crm.Client.Core.ViewModels.$2H;return Microsoft.Crm.Client.Core.ViewModels.$2H.$7};Microsoft.Crm.Client.Core.ViewModels.$2H.$zJ=function(a,b){return String.format("{0}_{1}_{2}","MDM",b,a)};Microsoft.Crm.Client.Core.ViewModels.$2H.$z9=function(a){return String.format("{0}_{1}","MDM_changedFields",a)};Microsoft.Crm.Client.Core.ViewModels.$2H.prototype={$9G:null,$ck:function(e,a,b){if(!$a.$0.$0(Microsoft.Crm.Client.Core.Models.$K.$jM(a)))return;if(Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(e)){var d=e;if($a.$0.$0(b))b=d.get_$k();var f=d.$zI(a);this.$9G.$17a(Microsoft.Crm.Client.Core.ViewModels.$2H.$zJ(a,b),JSON.stringify(f));var c=this.$pm(b);!new($a.List.$$(String))(c).contains(a)&&Array.add(c,a);this.$9G.$17a(Microsoft.Crm.Client.Core.ViewModels.$2H.$z9(b),JSON.stringify(c))}},$c9:function(g,a){if(Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(g)){var c=g;if($a.$0.$0(a))a=c.get_$k();for(var i=this.$pm(a),e=i,h=e.length,b=0;b<h;++b){var d=e[b],f=this.$9G.$Gv(Microsoft.Crm.Client.Core.ViewModels.$2H.$zJ(d,a));if(!$a.$0.$0(f))try{var j=JSON.parse(f),k=c.$1EM(d,j);c.SetValue(d,k)}catch(l){}}}},$1Fa:function(d,a){if(Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(d)){var f=d;if($a.$0.$0(a))a=f.get_$k();for(var g=this.$pm(a),c=g,e=c.length,b=0;b<e;++b){var h=c[b];this.$9G.$pY(Microsoft.Crm.Client.Core.ViewModels.$2H.$zJ(h,a))}this.$9G.$pY(Microsoft.Crm.Client.Core.ViewModels.$2H.$z9(a))}},$M9:function(a){return this.$pm(a).length>0},$pm:function(b){var a=this.$9G.$Gv(Microsoft.Crm.Client.Core.ViewModels.$2H.$z9(b));if(!$a.$0.$0(a))try{return JSON.parse(a)}catch(c){}return[]}};Microsoft.Crm.Client.Core.ViewModels.$3Q=function(){};Microsoft.Crm.Client.Core.ViewModels.$3Q.$2I0=function(a,e,c){if($a.$0.$0(c))return a===Number||Type.isEnum(a)?0:a===Boolean?false:null;for(var b=0;b<c.length;b++){var d=c[b];if(d.Name===e&&!IsNull(d.Value))return c[b].Value}return a===Number||Type.isEnum(a)?0:a===Boolean?false:null};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Commands");Microsoft.Crm.Client.Core.ViewModels.Commands.$8U=function(c){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.ViewModels.Commands.$8U.initializeBase(this);this.set_$3h(this.$$d_$4R);var a=c.InitializationParameters.TargetViewModel;this.$b=a.get_$M();this.$DK=this.$b.$9g("ProcessManager");var b=this.$b.get_$J();this.$A5=b.GetValue("stageid");this.set_$1K(this.$1u0())};Microsoft.Crm.Client.Core.ViewModels.Commands.$8U.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("BackProcessStageCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$8U.$2P)};Microsoft.Crm.Client.Core.ViewModels.Commands.$8U.$2P=function(b,a){return new Microsoft.Crm.Client.Core.ViewModels.Commands.$8U(a)};Microsoft.Crm.Client.Core.ViewModels.Commands.$8U.prototype={$b:null,$DK:null,$A5:null,$4R:function(){if(this.$b.get_$9m()||$a.$0.$0(this.$A5))return;var a=this.$DK.$Zs(this.$A5.toString());if(!a)return;var b=this.$b.get_$J();b.SetValue("stageid",new Microsoft.Dynamics.Client.Core.Framework.Guid(a.id));this.$DK.set_$81(a.id)},$1u0:function(){return $a.$0.$0(this.$DK)?false:this.$DK.$1CZ(this.$A5.toString())&&this.$DK.get_SelectedStageId()===this.$A5.toString()}};Microsoft.Crm.Client.Core.ViewModels.Commands.$8D=function(a){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.ViewModels.Commands.$8D.initializeBase(this);this.set_$3h(this.$$d_$4R);this.$X4=a.StageViewModel;this.$dL=a.SuccessCommand};Microsoft.Crm.Client.Core.ViewModels.Commands.$8D.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("ProcessStageGateCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$8D.$2P)};Microsoft.Crm.Client.Core.ViewModels.Commands.$8D.$2P=function(c,b){var a=b.InitializationParameters;return new Microsoft.Crm.Client.Core.ViewModels.Commands.$8D(a)};Microsoft.Crm.Client.Core.ViewModels.Commands.$8D.prototype={$X4:null,$dL:null,$4R:function(){this.$X4.$1eF()&&this.$dL.$R()},$9k:function(){if(!$a.$0.$0(this.$dL)){this.$dL.$N();this.$dL=null}this.$X4=null;$a.$2b.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Commands.$8e=function(a){this.$$d_$bb=Function.createDelegate(this,this.$bb);this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.ViewModels.Commands.$8e.initializeBase(this);this.set_$3h(this.$$d_$4R);if(!$a.$0.$0(a.SourceEntityLogicalName))this.$dD=a.SourceEntityLogicalName;if(!$a.$0.$0(a.SourceEntityId))this.$dC=a.SourceEntityId;if(!$a.$0.$0(a.TargetEntityLogicalName))this.$X9=a.TargetEntityLogicalName;if(!$a.$0.$0(a.TargetViewModel))this.$1X=a.TargetViewModel;if(!$a.$0.$0(a.TargetEntityAttribute))this.$1YA=a.TargetEntityAttribute};Microsoft.Crm.Client.Core.ViewModels.Commands.$8e.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("CreateNavigationEntityCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$8e.$2P)};Microsoft.Crm.Client.Core.ViewModels.Commands.$8e.$2P=function(c,b){var a=b.InitializationParameters;return new Microsoft.Crm.Client.Core.ViewModels.Commands.$8e(a)};Microsoft.Crm.Client.Core.ViewModels.Commands.$8e.prototype={$1X:null,$dD:null,$dC:null,$X9:null,$1YA:null,$4R:function(){var a={QueryType:"CreateNavigationEntity",SourceEntityLogicalName:this.$dD,SourceEntityId:this.$dC,TargetEntityLogicalName:this.$X9,TargetEntityAttribute:this.$1YA,OnSuccess:this.$$d_$bb};Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Bb("ActionProvider",this.$1X,a)},$bb:function(c){var b={NextEntityId:new Microsoft.Dynamics.Client.Core.Framework.Guid(c),NextEntityLogicalName:this.$X9,TargetViewModel:this.$1X,ActionType:"NavigateToNextEntity"},a=new Microsoft.Dynamics.Client.Core.ViewModels.Commands.$6m(b);a.$R();a.$N()}};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand=function(a){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.initializeBase(this);this.$2F=a;this.set_$3h(this.$$d_$4R)};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("RequestClose",Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$2P)};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$2P=function(a){return new Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand(a)};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.prototype={$2F:null,$4R:function(){var a=Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$1Il(this.$2F.get_$k());!$a.$0.$0(a)&&a(this.$2F)}};Type.registerNamespace("Microsoft.Crm.Client.Core.Commands");Microsoft.Crm.Client.Core.Commands.$8W=function(a){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.$8W.initializeBase(this);this.set_$3h(this.$$d_$4R);var b=a.InitializationParameters.TargetViewModel;this.$b=b.get_$M();this.$E0=a.InitializationParameters.EntityId;this.$10=a.InitializationParameters.EntityLogicalName;this.$W7=a.InitializationParameters.ProcessControlId;this.$bN=a.InitializationParameters.NewStageId;this.$rb=a.InitializationParameters.SuccesCallback};Microsoft.Crm.Client.Core.Commands.$8W.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("ChangeProcessControlCommand",Microsoft.Crm.Client.Core.Commands.$8W.$2P)};Microsoft.Crm.Client.Core.Commands.$8W.$2P=function(b,a){return new Microsoft.Crm.Client.Core.Commands.$8W(a)};Microsoft.Crm.Client.Core.Commands.$8W.prototype={$b:null,$E0:null,$10:null,$W7:null,$bN:null,$rb:null,$4R:function(){if(this.$E0.toString()===this.$b.get_$J().get_$k()){if($a.$0.$0(this.$b)||$a.$0.$0(this.$W7))return;if(this.$b.get_$9m())return;var a=this.$b.$9g("ProcessManager");if($a.$0.$0(a)||!a.$1ea(this.$W7.toString()))return}var b={QueryType:"ChangeProcess",EntityId:this.$E0,EntityLogicalName:this.$10,ProcessControlId:this.$W7,NewStageId:this.$bN,SuccesCallback:this.$rb};Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Bb("ActionProvider",this.$b,b)}};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand=function(a){this.$$d_$TS=Function.createDelegate(this,this.$TS);this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.initializeBase(this);this.set_$3h(this.$$d_$4R);this.$f=this.$$d_$TS;this.$1X=a.InitializationParameters.TargetViewModel;this.$4L=a.InitializationParameters.ViewId;this.$9W=a.InitializationParameters.ApplicationMetadataType};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("ChangeViewsCommand",Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$2P)};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$2P=function(b,a){return new Microsoft.Crm.Client.Core.Commands.ChangeViewCommand(a)};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.prototype={$1X:null,$f:null,$4L:null,$9W:0,$TS:function(){return},$4R:function(){this.$1X.set_applicationMetadataType(this.$9W);this.$1X.set_definitionId(this.$4L)}};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand=function(a){this.$$d_$TS=Function.createDelegate(this,this.$TS);this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.initializeBase(this);this.set_$3h(this.$$d_$4R);this.$f=this.$$d_$TS;this.$1X=a.InitializationParameters.TargetViewModel;this.$1Cm=a.InitializationParameters.ViewId;this.$1Cl=a.InitializationParameters.ViewEntityLogicalName};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("ChangeChartCommand",Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$2P)};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$2P=function(b,a){return new Microsoft.Crm.Client.Core.Commands.ChangeChartCommand(a)};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.prototype={$1X:null,$f:null,$1Cm:null,$1Cl:null,$TS:function(){return},$4R:function(){this.$1X.set_VisualizationEntityLogicalName(this.$1Cl);this.$1X.set_VisualizationId(this.$1Cm)}};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand=function(a){this.$$d_$TS=Function.createDelegate(this,this.$TS);this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.initializeBase(this);this.set_$3h(this.$$d_$4R);this.$f=this.$$d_$TS;this.$1X=a.InitializationParameters.TargetViewModel;this.$GG=a.InitializationParameters.ViewId;this.$SC=a.InitializationParameters.ViewEntityLogicalName;this.$1Zq=a.InitializationParameters.ViewDisplayName};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("ChangeChartViewCommand",Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$2P)};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$2P=function(b,a){return new Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand(a)};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.prototype={$1X:null,$f:null,$GG:null,$SC:null,$1Zq:null,$TS:function(){return},$4R:function(){if(Microsoft.Crm.Client.Core.ViewModels.Controls.$7k.isInstanceOfType(this.$1X)){this.$1X.set_ViewEntityLogicalName(this.$SC);this.$1X.set_ViewId(this.$GG)}if(Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.isInstanceOfType(this.$1X)){this.$1X.set_ViewEntityLogicalName(this.$SC);this.$1X.set_ViewDisplayName(this.$1Zq);this.$1X.set_ViewId(this.$GG)}}};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand=function(){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.initializeBase(this);this.set_$3h(this.$$d_$4R)};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("ReconfigureCommand",Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$2P)};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$2P=function(){return new Microsoft.Crm.Client.Core.Commands.ReconfigureCommand};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.prototype={$4R:function(){Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$19U().$cB()}};Microsoft.Crm.Client.Core.Commands.CreateFormCommand=function(e,d,a){this.$$d_$1RM=Function.createDelegate(this,this.$1RM);this.$$d_$23R=Function.createDelegate(this,this.$23R);this.$$d_$Fo=Function.createDelegate(this,this.$Fo);this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.CreateFormCommand.initializeBase(this);this.$s={};if(!$a.$0.$0(a))this.$s=a;if(!$a.$0.$0(a)&&!$a.$0.$0(a.RefreshContext))this.$I=a.RefreshContext;else this.$I=e;if(!$a.$0.$0(a))this.$HQ=a.ParentReference;var c=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$36(d);if(c)this.$9l=c.$9l;this.set_$3h(this.$$d_$4R);this.set_$30(d);Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$Fo);if(!$a.$0.$0(this.$I)){this.$I.AddPropertyChangedListener("PrimaryModelName",this.$$d_$23R);var b=this.$I.$b;!$a.$0.$0(b)&&b.$1U===2&&b.AddPropertyChangedListener("IsLocked",this.$$d_$1RM)}};Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("CreateCommand",Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$2P)};Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$2P=function(d,c){var a=d.get_$30();if($a.$0.$0(a)&&!$a.$0.$0(c.InitializationParameters.PrimaryModelName))a=c.InitializationParameters.PrimaryModelName;var b=c.InitializationParameters.externalParameters;if($a.$0.$0(b))b={};return new Microsoft.Crm.Client.Core.Commands.CreateFormCommand(d,a,b)};Microsoft.Crm.Client.Core.Commands.CreateFormCommand.prototype={$I:null,$4T:null,$s:null,$f:null,$HQ:null,$Jm:null,$9l:false,get_$30:function(){return this.$4T},set_$30:function(a){this.$4T=a;this.set_$1K(this.$10s());return a},get_$1Gp:function(){return this.$s},set_$1Gp:function(a){this.$s=a;return a},$23R:function(){this.set_$30(this.$I.get_PrimaryModelName())},$1RM:function(){this.set_$1K(this.$10s())},$9k:function(){Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$Fo);if(!$a.$0.$0(this.$I)){this.$I.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$23R);var a=this.$I.$b;!$a.$0.$0(a)&&a.$1U===2&&a.RemovePropertyChangedListener("IsLocked",this.$$d_$1RM)}if(!$a.$0.$0(this.$Jm)){this.$Jm.$N();this.$Jm=null}$a.$2b.prototype.$9k.call(this)},$4R:function(){if($a.$0.$0(this.$f)){var b=this;this.$f=function(){b.$I.$WI()}}if(this.get_$30()==="annotation"||this.get_$30()==="connection"){if($a.$0.$0(this.$Jm)){this.$Jm=new Microsoft.Dynamics.Client.Core.Commands.OpenCreateFormCommand(this.$I,null,this.$I.$IP,{InitializationParameters:this.$s,InitializeFrom:1});this.$Jm.$HQ=this.$HQ;if(!$a.$0.$0(this.$I.$Yj))this.$Jm.$1z=new Microsoft.Dynamics.Client.Core.Framework.Guid(this.$I.$Yj).toString().toLowerCase();this.$Jm.$f=this.$f}this.$Jm.$R()}else{var c=!$a.$0.$0(this.$I.$Ec),a=null;if(c){this.$HQ=this.$I.$b.get_$J().get_$13s();a=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelationshipReference(this.$I.$Ec,this.$I.$DD,this.$I.$A0,this.$I.$5G)}Xrm.Utility.create(this.$4T,this.$HQ,a,this.$s,this.$f)}},$10s:function(){if($a.$5.$L(this.get_$30())||this.get_$30()==="activitypointer"||this.get_$30()==="socialactivity")return false;if(!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$EK(this.get_$30(),0))return false;var a=this.$I.$b;return this.$9l&&!$a.$0.$0(a)&&a.$1U===1?false:!$a.$0.$0(a)&&a.$1U===2&&a.get_$9m()?false:Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()},$Fo:function(){this.set_$1K(this.$10s())}};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand=function(b,c,d,a){this.$$d_$23J=Function.createDelegate(this,this.$23J);this.$$d_$Fo=Function.createDelegate(this,this.$Fo);this.$$d_$TS=Function.createDelegate(this,this.$TS);this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.initializeBase(this);if(!$a.$0.$0(a)&&!$a.$0.$0(a.RefreshContext))this.$I=a.RefreshContext;else this.$I=b;this.set_$3h(this.$$d_$4R);this.$Rp=!$a.$0.$0(c)?c:this.$I.get_PrimaryModelName();this.$8e=d;this.$169=this.$I.get_$14z().get_PrimaryModelName();this.$f=this.$$d_$TS;this.$BO=$a.$0.$0(a)?{}:a;Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$Fo);b.apcl("HeaderTitleField",this.$$d_$23J);this.set_$1K(this.$1Ln())};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("OpenAssociateForm",Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$2P)};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$2P=function(d,a){var b=d.get_$30();if(!$a.$0.$0(a.InitializationParameters.TargetModelName))b=a.InitializationParameters.TargetModelName;var c=null;if(!$a.$0.$0(a.InitializationParameters.PrimaryNameAttribute))c=a.InitializationParameters.PrimaryNameAttribute;return new Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand(d,b,c,a.InitializationParameters.externalParameters)};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.prototype={$I:null,$Rp:null,$169:null,$8e:null,$f:null,$BO:null,$Fo:function(){this.set_$1K(this.$1Ln())},$9k:function(){Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$Fo);Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$I)&&this.$I.RemovePropertyChangedListener("HeaderTitleField",this.$$d_$23J);$a.$2b.prototype.$9k.call(this)},get_$1Gp:function(){return this.$BO},set_$1Gp:function(a){this.$BO=a;return a},$1Ln:function(){if($a.$5.$L(this.$Rp)||$a.$0.$0(this.$169))return false;if(!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22())return false;var a=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$EK(this.$Rp,5),b=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$EK(this.$Rp,1),c=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$EK(this.$169,2);return a&&b&&c&&this.$I.$xU},$TS:function(){this.$I.$WI()},$23J:function(){this.$8e=this.$I.get_HeaderTitleField()},$4R:function(){var a=Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$20(new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("AssociateFormViewModel","AssociateForm",null,[new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ExternalContext",new Microsoft.Dynamics.Client.Core.ViewModels.$6d(this.$I,this.$BO))],null),this.$I.get_$J());a.$Kc=this.$I.get_$J().get_$Xg();a.$Ec=this.$I.$Ec;a.$5G=this.$I.$5G;a.$DD=this.$I.$DD;a.$A0=this.$I.$A0;a.add_$29i(this.$f);var c=null,d=null,b;if(this.$Rp==="activitypointer"&&Microsoft.Dynamics.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$I)){c="MultipleSourceLookup";d="MultipleSourceLookup";b=Microsoft.Crm.Client.Core.Models.$2N.$1iM(this.$Rp,true,this.$8e,new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveActivitiesEnabledForMobile",null))}else{c="LookupViewModel";d="Lookup";b=Microsoft.Crm.Client.Core.Models.$2N.$1EW(this.$Rp,true)}b.add(new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HasFocus",true));var e=new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("RootViewModel","RootView",null,null,null,[Microsoft.Dynamics.Client.Core.Models.Descriptors.$V.$2r(c,d,null,null,null,b.toArray(),{LookupBarAttachedToControl:true},null)]);Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$sQ(a.get_$1F(),e,null);var f=$a.$1S.Instance.$2Hz(Microsoft.Dynamics.Client.Core.Framework.$3E);!$a.$0.$0(f)&&f.$XP(a.get_$1F(),Microsoft.Dynamics.Client.Core.Models.Descriptors.$V.$AJ(e))}};Microsoft.Crm.Client.Core.Commands.SignOutCommand=function(){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.SignOutCommand.initializeBase(this);this.set_$3h(this.$$d_$4R)};Microsoft.Crm.Client.Core.Commands.SignOutCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("SignOutCommand",Microsoft.Crm.Client.Core.Commands.SignOutCommand.$2P)};Microsoft.Crm.Client.Core.Commands.SignOutCommand.$2P=function(){return new Microsoft.Crm.Client.Core.Commands.SignOutCommand};Microsoft.Crm.Client.Core.Commands.SignOutCommand.prototype={$4R:function(){Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$19U().$Nf()}};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand=function(){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.initializeBase(this);this.set_$3h(this.$$d_$4R)};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("ShowAboutInformationCommand",Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$2P)};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$2P=function(){return new Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.prototype={$4R:function(){var a=new Microsoft.Crm.Client.Core.ViewModels.$65;a.$3l()}};Microsoft.Crm.Client.Core.Commands.$h=function(){};Microsoft.Crm.Client.Core.Commands.$h.$1p=function(c,s,d,b,p){var e=null,f=null,a=null;if(Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(b)){var l=b;a=null;f=l.get_PrimaryModelName();e=l.get_$4C()}else if(Microsoft.Dynamics.Client.Core.ViewModels.$3A.isInstanceOfType(b)){var h=b;a=h.get_$J();f=a.get_$Xg().get_$Aa();if(Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(h.$4z)){var q=h.$4z;e=q.get_$4C()}}else if(b.get_$30())f=b.get_$30();else if(Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(b.get_$J()))f=b.get_$J().get_$5l();switch(c.ParameterType){case 18:case 19:case 20:case 21:return c.Value;case 14:return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$9v;case 15:return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$7R;case 16:return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$2O.$5N;case 1:return d?Xrm.Internal.getEntityCode(d.get_$5l()):null;case 2:return d?Microsoft.Crm.Client.Core.Commands.$h.$1uD(d)?d.$Z.$3A.LogicalName:d.get_$5l():null;case 3:return d?[d.$Z.$3A.get_identifier()]:null;case 4:return d?d.$Z.$3A.get_identifier():null;case 7:return f?Xrm.Internal.getEntityCode(f):null;case 8:return f?f:null;case 11:case 22:return a?1:0;case 25:return e?e.get_$C():0;case 28:var r=a?1:0;return e?e.get_$C()-r:0;case 9:case 23:case 29:case 26:case 24:case 30:case 27:var m=true;if(c.ParameterType===9||c.ParameterType===23||c.ParameterType===29||c.ParameterType===26)m=false;var g=new($a.List.$$(String)),i=new($a.List.$$(Mscrm.EntityReference));if(b)if(c.ParameterType===9||c.ParameterType===23||c.ParameterType===24){if(a){g.add(a.$Z.$3A.get_identifier());var j=new Mscrm.EntityReference;j.Id=a.$Z.$3A.get_identifier();j.TypeCode=a.$Z.$3A.TypeCode;i.add(j)}}else if(e){var n=null;if(c.ParameterType===29)if(a)n=a.$Z.$3A.get_identifier();e.$UB(function(c){if(Microsoft.Dynamics.Client.Core.ViewModels.$3A.isInstanceOfType(c)){var d=c;if(Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(d.get_$J())){var a=d.get_$J();if(a.$Z.$3A.get_identifier()!==n){g.add(a.$Z.$3A.get_identifier());var b=new Mscrm.EntityReference;b.Id=a.$Z.$3A.get_identifier();b.TypeCode=a.$Z.$3A.TypeCode;i.add(b)}}}})}return s===1?Microsoft.Crm.Client.Core.Commands.$h.$1gN(g):m?i.toArray():g.toArray();case 10:if(a){var k=new Mscrm.EntityReference;k.Id=a.$Z.$3A.get_identifier();k.TypeCode=a.$Z.$3A.TypeCode;return k}else return null;case 5:case 12:return Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(b)?new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(b):Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(b.get_$Ab())?new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(b.get_$Ab()):null;case 6:case 13:return null;case 17:if(Microsoft.Dynamics.Client.Core.ViewModels.$36.isInstanceOfType(p)){var o={};o.SourceControlId=p.get_Parameters().CommandId;return o}return null;case 0:default:return null}};Microsoft.Crm.Client.Core.Commands.$h.$1uD=function(a){return a.get_$5l()==="activitypointer"?a.$Z&&a.$Z.$3A&&a.$Z.$3A.LogicalName?true:false:false};Microsoft.Crm.Client.Core.Commands.$h.$1gN=function(c){if(!c)return null;else{for(var b=new Sys.StringBuilder,a=0;a<c.get_count();a++){a>0&&b.append(",");b.append(c.get_$2Hy(a).toString())}return b.toString()}};Microsoft.Crm.Client.Core.Commands.SearchCommand=function(a){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.SearchCommand.initializeBase(this);this.set_$3h(this.$$d_$4R);this.$co=a};Microsoft.Crm.Client.Core.Commands.SearchCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("SearchCommand",Microsoft.Crm.Client.Core.Commands.SearchCommand.$2P)};Microsoft.Crm.Client.Core.Commands.SearchCommand.$2P=function(a){return new Microsoft.Crm.Client.Core.Commands.SearchCommand(a)};Microsoft.Crm.Client.Core.Commands.SearchCommand.prototype={$f:null,$co:null,$4R:function(){Microsoft.Dynamics.Client.Core.Framework.$N.$7i("BeforeSearchStart");if(!$a.$5.$1N(this.$co.get_SearchText()))if(this.$co.$1GC){var a=this.$co.$7G.$42();this.$co.$2E9();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(a);!$a.$0.$0(this.$f)&&this.$f()}}};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand=function(a,b){Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand.initializeBase(this,[a]);this.$Mg=b};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand.prototype={$Mg:null,$4R:function(){if(this.get_$1K()&&this.$Mg){this.$Mg.$9O=this.$9O;this.$Mg.$R()}}};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand=function(a,b){Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand.initializeBase(this,[a]);this.$zf=b};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand.prototype={$zf:null,$4R:function(){if(this.get_$1K()){this.$zf.$1d=this.$1p5();this.$zf.$WI()}}};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand=function(a){Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.initializeBase(this,[a])};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$1bb=function(a){return a.Value?String.format('<condition attribute="{0}" operator="eq" value="{1}" />',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$O5(a.FieldName),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$O5(a.Value)):String.format('<condition attribute="{0}" operator="null" />',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$O5(a.FieldName))};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$1jg=function(a){return String.format('<condition attribute="{0}" operator="gt" value="{1}" /><condition attribute="{0}" operator="le" value="{2}" />',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$O5(a.FieldName),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.CrmSoapSerializers.$2M.$A7(a.MinDate),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.CrmSoapSerializers.$2M.$A7(a.MaxDate))};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$1jY=function(a){return String.format('<condition attribute="{0}" operator="{1}" ><value>{2}</value><value>{3}</value></condition>',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$O5(a.FieldName),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$O5(a.FiscalType),a.Period,a.Year)};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$1jZ=function(a){return String.format('<condition attribute="{0}" operator="{1}" value="{2}"></condition>',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$O5(a.FieldName),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$c.$O5(a.FiscalType),a.Year)};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$1ba=function(a){return Microsoft.Dynamics.Client.Core.Models.$7m.isInstanceOfType(a)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$1bb(a):Microsoft.Dynamics.Client.Core.Models.$9g.isInstanceOfType(a)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$1jg(a):Microsoft.Dynamics.Client.Core.Models.$9h.isInstanceOfType(a)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$1jY(a):Microsoft.Dynamics.Client.Core.Models.$9i.isInstanceOfType(a)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$1jZ(a):""};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.prototype={$1p5:function(){var c="";if(!$a.$0.$0(this.get_$Ot())&&this.get_$Ot().length>0){for(var a='<filter type="and">',b=0;b<this.get_$Ot().length;b++)a+=Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$1ba(this.get_$Ot()[b]);a+="</filter>";c=a}return c}};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand=function(){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.initializeBase(this);this.set_$3h(this.$$d_$4R)};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("OpenFloatingDialogCommand",Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$2P)};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$2P=function(){return new Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.prototype={$x8:null,$1Fl:null,$6w:0,$B2:0,$Q9:0,$At:0,$1LB:null,$1CO:null,$4R:function(){Microsoft.Dynamics.Client.Core.Framework.$N.$7i("OpenFloatingDialog::"+this.$x8,1);Microsoft.Crm.Client.Core.ViewModels.$2F.get_$4().$1hY(this.$x8,this.$1Fl,this.$B2,this.$6w,this.$Q9,this.$At,this.$1LB,this.$1CO)}};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand=function(c,d){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.initializeBase(this);var a=d.InitializationParameters;this.set_$3h(this.$$d_$4R);this.$5V=c;var b=a.TargetViewModel;this.$da=b.$p.PinnedTile;this.get_$1K()&&this.$S7()};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("ResizeTileCommand",Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$2P)};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$2P=function(a,b){return new Microsoft.Crm.Client.Core.Commands.ResizeTileCommand(a,b)};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.prototype={$5V:null,$da:null,$S7:function(){if(this.$da.get_TileMode()===1){this.$5V.set_Label(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("L_ResizeTileCommand_Smaller_Text"));this.$5V.set_ImageName("ReduceTile")}else{this.$5V.set_Label(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("L_ResizeTileCommand_Larger_Text"));this.$5V.set_ImageName("ExpandTile")}},$4R:function(){if(this.$da.get_TileMode()===1)this.$da.set_TileMode(0);else this.$da.set_TileMode(1);this.$S7()}};Microsoft.Crm.Client.Core.Commands.ChartCommand=function(a){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.ChartCommand.initializeBase(this);this.$LO=a;this.set_$3h(this.$$d_$4R)};Microsoft.Crm.Client.Core.Commands.ChartCommand.prototype={$LO:null,$9O:null,$1JJ:function(b,c){var a=new Microsoft.Dynamics.Client.Core.Commands.$3Y(this.$LO,17);a.$4T=b;a.$4L=Microsoft.Dynamics.Client.Core.Framework.$1O.toString(17).toUpperCase();a.$2d={};a.$2d.ListDefinitionId=this.$LO.get_ViewId();a.$2d.ChartViewId=this.$LO.get_ViewId();a.$2d.ChartViewEntityLogicalName=this.$LO.get_ViewEntityLogicalName();a.$2d.ChartVisualizationId=this.$LO.get_VisualizationId();a.$2d.ChartVisualizationEntityLogicalName=this.$LO.get_VisualizationEntityLogicalName();a.$2d.SelectedPoint=this.$9O;c(a)},$4R:function(){var a=this.$LO.get_CrmChartBuilder().get_$30(),b=this;this.$1JJ(a,function(a){a.$R()})}};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand=function(a){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.initializeBase(this);this.set_$3h(this.$$d_$4R);this.$1X=a.InitializationParameters.TargetViewModel};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("OpenInBrowserCommand",Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$2P)};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$2P=function(b,a){return new Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand(a)};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.prototype={$1X:null,$9k:function(){this.$1X=null;$a.$2b.prototype.$9k.call(this)},$4R:function(){var a,b,c;if(!this.$1X)return;var d=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CI();if(Microsoft.Dynamics.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$1X)){b=this.$1X.get_$30();var f=new Microsoft.Dynamics.Client.Core.Framework.Guid(this.$1X.get_definitionId());a=f.toString().toUpperCase();c=String.format("{0}/main.aspx?viewid=%7b{1}%7d&etn={2}&pagetype=entitylist&viewtype={3}",d.context.getClientUrl(),a,b,this.$1X.get_applicationMetadataType()===1?1039:4230)}else{var e=this.$1X.get_$J();a=e.$Z.$3A.Id.toString().toUpperCase();b=e.$Z.$3A.LogicalName;c=String.format("{0}/main.aspx?id=%7b{1}%7d&etn={2}&pagetype=entityrecord",d.context.getClientUrl(),a,b)}if($a.NativeBridge.get_$4().$BI.$3T)$a.NativeBridge.get_$4().$BI.$nm(c);else window.open(c)}};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand=function(a){this.$$d_$TS=Function.createDelegate(this,this.$TS);this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.initializeBase(this);this.set_$3h(this.$$d_$4R);this.$f=this.$$d_$TS;this.$1X=a.InitializationParameters.TargetViewModel;this.$4L=a.InitializationParameters.GridDefinitionId;this.$4T=a.InitializationParameters.PrimaryModelName;this.$7p=a.InitializationParameters.ContextFilter};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("OpenRelatedGridCommand",Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$2P)};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$2P=function(b,a){return new Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand(a)};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.prototype={$1X:null,$f:null,$4L:null,$4T:null,$7p:null,$TS:function(){return},$4R:function(){var a=new Microsoft.Dynamics.Client.Core.Commands.$3Y(this.$1X,13);a.$4T=this.$4T;a.$2d={};a.$2d.ListDefinitionId=this.$4L;a.$2d.ContextFilter=this.$7p;a.$R();a.$N()}};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand=function(){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.initializeBase(this);this.set_$3h(this.$$d_$4R)};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("ShowPerformanceCommand",Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$2P)};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$2P=function(){return new Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.prototype={$4R:function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()}};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand=function(a){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.initializeBase(this);this.set_$3h(this.$$d_$4R);this.$I=a};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("SavePersonalization",Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$2P)};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$2P=function(a){return new Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand(a)};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.prototype={$I:null,$4R:function(){var b=null,a=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2f;if(Microsoft.Dynamics.Client.Core.ViewModels.$FH.isInstanceOfType(this.$I)){var c=this.$I;b=c.get_$1T0();a=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2f(c.get_$oV(),b.$16())}else{$a.Trace.logError(1015,"Attempted to save personalization with unrecognized context.");return}var d=this,e=this;Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.$Oh(a).then(function(){Microsoft.Dynamics.Client.Core.Framework.$2.$1A("SavePersonalizationCommand_OnExecute_CreateUserPersonalization_Success",1015,a.$2E)},function(a){Error.create(String.format("SavePersonalizationCommand has failed in CreateUserPersonalization:\n\n {0}",a.$P))})}};Microsoft.Crm.Client.Core.Commands.PinCommand=function(b,c){this.$$d_$26C=Function.createDelegate(this,this.$26C);this.$$d_$S7=Function.createDelegate(this,this.$S7);this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.PinCommand.initializeBase(this);var a=c.InitializationParameters;this.set_$3h(this.$$d_$4R);this.$5V=b;this.$1X=a.TargetViewModel;this.$Am=a.StartScreen?"{D04E4181-ED85-4305-A3DC-3DA59C00F25B}":Microsoft.Dynamics.Client.Core.Framework.Guid.get_empty().toString();this.$ks="IsBoundToScreen"in a?a.IsBoundToScreen:false;this.$177=this.$5V.get_Label();this.$2GY();if(this.get_$1K()){this.$S7();if(Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$1X)){this.$ba=this.$$d_$S7;this.$1X.add_$2Iq(this.$ba)}}};Microsoft.Crm.Client.Core.Commands.PinCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("PinCommand",Microsoft.Crm.Client.Core.Commands.PinCommand.$2P)};Microsoft.Crm.Client.Core.Commands.PinCommand.$ux=function(){$a.NativeBridge.get_$4().$GH.$1q7(function(a){Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.$Fz(new Microsoft.Dynamics.Client.Core.Framework.Guid("{D04E4181-ED85-4305-A3DC-3DA59C00F25B}")).done(function(l){for(var d=new($a.List.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$19)),h=new($a.List.$$(String)),i={},f=a,j=f.length,b=0;b<j;++b){var m=f[b];i[m]=null}for(var g=l.$6q,k=g.length,c=0;c<k;++c){var e=g[c];if(!(e.$5I.toString()in i)){d.add(e);h.add(e.$5I.toString())}}if(d.get_count()>0){Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.$La(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2P(new Microsoft.Dynamics.Client.Core.Framework.Guid("{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"),d.toArray()));$a.NativeBridge.get_$4().$GH.$1fF(h.toArray())}})})};Microsoft.Crm.Client.Core.Commands.PinCommand.$2P=function(a,b){return new Microsoft.Crm.Client.Core.Commands.PinCommand(a,b)};Microsoft.Crm.Client.Core.Commands.PinCommand.$1gQ=function(d){var a=window.document.createElement("img");a.setAttribute("src",d);var b=window.document.createElement("canvas");b.width=a.getAttribute("width");b.height=a.getAttribute("height");b.getContext("2d").drawImage(a,0,0);var c=b.toDataURL("image/png");return c.substr(22)};Microsoft.Crm.Client.Core.Commands.PinCommand.prototype={$5V:null,$1X:null,$Am:null,$ks:false,$177:null,$ba:null,$2E:null,$18c:null,$26C:function(b,a){this.$2E===a.$2E&&this.$S7()},$1C8:function(){var a=Microsoft.Dynamics.Client.Core.Framework.Guid.tryCreate(this.$Am);if(!$a.$5.$L(this.$1X.get_$30())&&Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$1X)){var b=this.$1X;return Microsoft.Crm.Client.Core.Models.$3w.$B(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$19(a,this.$1X.get_$30(),new Microsoft.Dynamics.Client.Core.Framework.Guid(b.$1z),1,b.$7p))}if(!$a.$0.$0(this.$1X.get_$12())){var c=this.$1X.get_$12();return Microsoft.Crm.Client.Core.Models.$3w.$F7(a,c.$Z)}$a.Trace.logError(1014,"Attempted to pin with unrecognized context.");Error.invalidOperation("Attempted to pin with unrecognized context.");return null},$2GY:function(){if(this.$ks&&this.$Am!==Microsoft.Dynamics.Client.Core.Framework.Guid.get_empty().toString())Error.argument("descriptor","Pin command must have empty ScreenId if it is bound to the pin screen.");else!this.$ks&&$a.$5.$L(this.$Am)&&Error.argument("descriptor","Pin command must have non-empty ScreenId if not bound to the pin screen.");var a=!$a.$0.$0(this.$1X);if(this.$1X.get_$30()==="opportunityproduct")a=false;if(this.$Am==="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"&&!$a.NativeBridge.get_$4().$GH.$3T)a=false;if(this.$1X.get_$Gy())a=false;if(Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$1X)){var b=this.$1X;if(!$a.$5.$L(b.$7p))a=false;if(this.$ks)a=false;if(Microsoft.Dynamics.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(b)&&!b.get_GridEnabled())a=false}this.set_$1K(a)},$S7:function(){var b=this.$1C8();if($a.$0.$0(b))return;if($a.$0.$0(this.$2E)){this.$2E=b.get_$1C().get_$2S();Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$Ce().$2IC(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$19,this.$2E,this.$$d_$26C)}this.$Am==="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"&&$a.NativeBridge.get_$4().$GH.$3T&&this.$2FP(1e3);var a=this,c=this;b.$1Cu().then(function(c){if($a.$0.$0(a.$5V))return;var b=a.$5V.get_$Rs();if(!c){a.$5V.set_Label($a.$5.$19(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("L_PinCommand_Pin_Text"),a.$177));b["data-pinned"]=null;Microsoft.Dynamics.Client.Core.ViewModels.$4g.isInstanceOfType(a.$5V)&&a.$5V.set_ImageName("Pin")}else{a.$5V.set_Label($a.$5.$19(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("L_PinCommand_Unpin_Text"),a.$177));b["data-pinned"]="1";Microsoft.Dynamics.Client.Core.ViewModels.$4g.isInstanceOfType(a.$5V)&&a.$5V.set_ImageName("Unpin")}a.$5V.set_$Rs(b)},function(a){Error.create(String.format("PinCommand has failed in UpdateLabelAndIcon:\n\n {0}",a.$P))})},$2FP:function(b){var a=new Date;if(!this.$18c||a.getTime()-this.$18c.getTime()>b){this.$18c=new Date;Microsoft.Crm.Client.Core.Commands.PinCommand.$ux()}},$4R:function(){var b=this.$1C8(),a=this,c=this;b.$1Cu().then(function(f){if(!f)if(a.$Am==="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"){var g={forcerefresh:true,pinnedtilemodel:b},e=new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("PopulateTileData",g),c,d;if($a.UserAgent.getInstance().$125){c=window.innerWidth/2-Number.parseInvariant(a.$5V.get_Width().toString())/2;d=window.innerHeight/2}else{c=a.$5V.get_$My();d=a.$5V.get_$Mz()}e.OnSuccess=function(){var f=new Microsoft.Crm.Client.Core.Models.Tiles.Factories.$DH,e=f.$1Ej(b);$a.NativeBridge.get_$4().$GH.$1in(b.get_$1C().$5I.toString(),a.$1dk(b.get_$1C()),"CRM "+e.$JN,e.$B6,c,d,Number.parseInvariant(a.$5V.get_Height().toString()),Number.parseInvariant(a.$5V.get_Width().toString()),function(c,d){if(c){a.$1Vg(b.get_$1C());var f=Microsoft.Crm.Client.Core.Commands.PinCommand.$1gQ(e.$ME);$a.NativeBridge.get_$4().$GH.$2Cg(b.get_$1C().$5I.toString(),e.$1Xa,e.get_$2Ea(),e.$st,e.get_$2Hq(),f,!d.length?"none":"name");Microsoft.Dynamics.Client.Core.Views.ApplicationShellView.get_instance().get_$OF().$J1();Microsoft.Dynamics.Client.Core.Views.ApplicationShellView.get_instance().get_$OF().$J1()}})};Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Bb("ActionProvider",a.$1X,e)}else a.$1Vg(b.get_$1C());else if(a.$Am==="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}")$a.NativeBridge.get_$4().$GH.$1jt(b.get_$1C().$5I.toString(),a.$5V.get_$My(),a.$5V.get_$Mz(),Number.parseInvariant(a.$5V.get_Height().toString()),Number.parseInvariant(a.$5V.get_Width().toString()),function(c){if(c){a.$Z6(b.get_$1C());Microsoft.Dynamics.Client.Core.Views.ApplicationShellView.get_instance().get_$OF().$J1();Microsoft.Dynamics.Client.Core.Views.ApplicationShellView.get_instance().get_$OF().$J1()}});else a.$Z6(b.get_$1C())},function(a){Error.create(String.format("PinCommand has failed in OnExecute:\n\n {0}",a.$P))})},$1Vg:function(a){var b=this,c=this;Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.$Og(a).then(function(){Microsoft.Dynamics.Client.Core.Framework.$2.$1A("PinCommand_OnExecute_CreateTile_Success",1014,a.get_$2S());b.$S7();Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.$Fz(a.$8D)},function(a){Error.create(String.format("PinCommand has failed in CreatePinnedTile:\n\n {0}",a.$P))})},$Z6:function(a){var b=this,c=this;Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.$LZ(a).then(function(){Microsoft.Dynamics.Client.Core.Framework.$2.$1A("PinCommand_OnExecute_DeleteTile_Success",1014,a.get_$2S());b.$S7();Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.$Fz(a.$8D)},function(a){Error.create(String.format("PinCommand has failed in DeletePinnedTile:\n\n {0}",a.$P))})},$1dk:function(a){return $a.$5.$19("{0}={1}&{2}={3}&{4}={5}","navetn",CrmEncodeDecode.CrmUrlEncode(a.$3S),"navid",CrmEncodeDecode.CrmUrlEncode(a.$5I.toString()),"navpagetype",CrmEncodeDecode.CrmUrlEncode(a.$3m===1?"entitylist":"entityrecord"))},$9k:function(){if(!$a.$0.$0(this.$ba)&&!$a.$0.$0(this.$1X)){this.$1X.remove_$2Iq(this.$ba);this.$ba=null}this.$1X=null;this.$5V=null;!$a.$0.$0(this.$2E)&&Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$Ce().$2ID(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$19,this.$2E,this.$$d_$26C);$a.$2b.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator=function(a){this.$$d_$22s=Function.createDelegate(this,this.$22s);this.$$d_$22W=Function.createDelegate(this,this.$22W);this.$$d_$237=Function.createDelegate(this,this.$237);this.$$d_$238=Function.createDelegate(this,this.$238);this.$$d_$14W=Function.createDelegate(this,this.$14W);this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.initializeBase(this,[a.$c5,a.get_$Ap()]);this.$8M=a;this.$CR=this.$8M.$CR;this.set_$3h(this.$$d_$4R);this.AddPropertyChangedListener("Target",this.$$d_$14W)};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.get_$1cc=function(){return $a.UserAgent.getInstance().get_$8X()?"https://itunes.apple.com/app/{0}":"market://details?id={0}"};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.get_$2EP=function(){return $a.UserAgent.getInstance().get_$8X()?"id442012681":"com.skype.raider"};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.$TC=function(f,g,h){var b=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(f,new Microsoft.Dynamics.Client.Core.Framework.Guid(g),h),c={partyid:b},d={partyid:6},e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference("activityparty",Microsoft.Dynamics.Client.Core.Framework.Guid.get_empty()),a=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(e,c,d,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));a.$5L.add("partyid");return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([a],false,1,false)};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.prototype={$8M:null,$Qq:null,$rv:null,$66:null,$pQ:null,$pR:null,$pP:null,$dr:null,$14W:function(a,b){if((a===this||a===this.$8M)&&b==="Target"&&$a.$5.$1N(this.get_$Ap()))this.set_$1K(false);else this.set_$1K(true)},$4R:function(){this.$Qq={};this.$Qq.directioncode=1;this.$Qq.phonenumber=this.get_$Ap();this.$Qq.from=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.$TC("systemuser",Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$2i.toString(),Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$6B);if(!$a.$0.$0(this.$rv))this.$Qq.to=this.$rv;this.$pP=null;if(!$a.$5.$1N(this.$66)&&!$a.$5.$1N(this.$pR)&&!$a.$0.$0(this.$pQ))this.$pP=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference(this.$pR,new Microsoft.Dynamics.Client.Core.Framework.Guid(this.$66),this.$pQ);var a=new Mscrm.$G6;this.$dr=a.$1C9(this.get_$Ap(),this.get_$1gc(),this.get_$2HO().toString());if($a.UserAgent.getInstance().get_$8X()||$a.UserAgent.getInstance().$21)$a.NativeBridge.get_$4().$Mh.$1eX(this.$dr,this.$$d_$238,this.$$d_$237);else{Xrm.Utility.create("phonecall",this.$pP,null,this.$Qq,null);window.location.href=this.$dr}},get_$1gc:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$Oz},get_$2HO:function(){return true},$237:function(a){!$a.$0.$0(a)},$238:function(b){if(b){Xrm.Utility.create("phonecall",this.$pP,null,this.$Qq,null);if($a.UserAgent.getInstance().$21)$a.NativeBridge.get_$4().$Mh.$1SV(this.$dr,this.$$d_$22W,this.$$d_$237);else window.location.href=this.$dr}else{var a=new Microsoft.Dynamics.Client.Core.ViewModels.$6L;a.$Tb=1;a.$MZ=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("SkypeConfirmDialogTitle");a.set_$8Z("");a.$H9=0;a.$Qa=this.$$d_$22s;a.$QY=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("GetSkypeButtonText");a.$Y8=this.$$d_$22W;a.$3l()}},$22W:function(){},$22s:function(){var a=String.format(Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.get_$1cc(),Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.get_$2EP());$a.NativeBridge.get_$4().$Mh.$1SV(a,this.$$d_$22W,this.$$d_$237)},$9k:function(){if(!$a.$0.$0(this.$8M)){this.$8M.$N();this.$8M=null}$a.$2b.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.Commands.WebResourceCommand=function(g,b,h){this.$$d_$4R=Function.createDelegate(this,this.$4R);Microsoft.Crm.Client.Core.Commands.WebResourceCommand.initializeBase(this);this.$I=g;this.set_$3h(this.$$d_$4R);this.$1X=h;this.$1A9=b;var d=false;if(!$a.$0.$0(b))for(var c=b,f=c.length,a=0;a<f;++a){var e=c[a];if(e.ActionType===3||e.ActionType===1)d=true}this.set_$1K(d)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$32("WebResourceCommand",Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$2P)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$2P=function(c,a){var b=a.InitializationParameters.RibbonActionHandler;return new Microsoft.Crm.Client.Core.Commands.WebResourceCommand(c,b,a.InitializationParameters.TargetViewModel)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd=function(b,a){return $a.$0.$0(b)?$a.$0.$0(a):$a.$0.$0(a)?false:b.toLowerCase()===a.toLowerCase()};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1lv=function(c,d,e,i){var a=c.Address;if(c.PassParameters){a=$a.$2E.$ed(a,"orgname",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$5m.toString()));a=$a.$2E.$ed(a,"userlcid",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$2O.$5N.toString()));a=$a.$2E.$ed(a,"orglcid",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$1R.$7R.toString()))}var f=e.get_$12();if($a.$0.$0(f)&&!$a.$0.$0(e.get_$M()))f=e.get_$M().get_$12();for(var b=0;b<d.length;b++){var g=d[b].ParameterName,h=Microsoft.Crm.Client.Core.Commands.$h.$1p(d[b],1,f,e,i);if(!IsNull(g)&&g.length>0)a=$a.$2E.$ed(a,g,CrmEncodeDecode.CrmUrlEncode(h.toString()))}$a.Trace.logInfo(139,"Prepared [{1}] parameters for url link: [{0}]",c.Address,d.length);if($a.NativeBridge.get_$4().$BI.$3T)$a.NativeBridge.get_$4().$BI.$nm(a);else window.open(a,(+new Date).toString(),c.WinParameters)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1Ga=function(b,a,o,c,q,d){var e=false;if(b==="openObj"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_common/global.ashx")){b="Mscrm.RibbonActions.openObjFromClassic";a="/_static/_common/scripts/SharedRibbonActions.js"}else if(b==="Mscrm.AddActivity.addActivityToFormFromsubgrid"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_common/global.ashx")){b="Mscrm.GridCommandActions.addActivityToFormFromSubgridFromClassic";a="/_static/_common/scripts/SharedRibbonActions.js"}else if(b==="createNewLineItem"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_static/SFA/quotes/qoi_script.js")){b="Mscrm.GridCommandActions.createNewLineItem";a="/_static/_common/scripts/CommandBarActions.js"}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_static/_common/scripts/RibbonActions.js"))switch(b){case"Mscrm.GridRibbonActions.addNewFromSubGridStandard":case"Mscrm.GridRibbonActions.addToQueue":case"Mscrm.GridRibbonActions.assignSelectedRecords":case"Mscrm.GridRibbonActions.canMarkComplete":case"Mscrm.GridRibbonActions.gridDisassociate":case"Mscrm.GridRibbonActions.isBulkSaveAsCancelledValid":case"Mscrm.GridRibbonActions.isBulkSaveAsCompletedValid":case"Mscrm.GridRibbonActions.setRegarding":case"Mscrm.GridRibbonActions.notOnMarketingListOrListUnlocked":case"Mscrm.GridRibbonActions.notOnMarketingListOrListActive":case"Mscrm.GridRibbonActions.deleteRecords":case"Mscrm.IncidentActions.cancelCase":case"Mscrm.IncidentActions.resolveCase":case"Mscrm.IncidentActions.runRoutingRule":case"Mscrm.RibbonActions.alwaysEnabled":case"Mscrm.RibbonActions.isAutoSaveEnabled":case"Mscrm.RibbonActions.isRefreshForm":case"Mscrm.RibbonActions.openNewRecord":case"Mscrm.RibbonActions.saveForm":case"Mscrm.RibbonActions.saveAndCloseForm":case"Mscrm.OpportunityActions.close":case"Mscrm.RibbonActions.notOnMarketingListOrListUnlocked":case"Mscrm.RibbonActions.notOnMarketingListOrListActive":case"Mscrm.RibbonActions.enableAddCaseForContract":case"Mscrm.RibbonActions.enableAddCaseForContractLine":case"Mscrm.RibbonActions.isEntitlementActive":a="/_static/_common/scripts/SharedRibbonActions.js"}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_static/_forms/form.js"))switch(b){case"changeState":case"assignObject":b="Mscrm.FormAction."+b;a="/_static/_common/scripts/SharedRibbonActions.js"}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_static/sfa/opps/opps.js"))switch(b){case"complete":case"reactivate":e=true}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_static/sfa/leads/lead.js"))switch(b){case"convertLead":e=true}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_static/activities/activity.js"))switch(b){case"SaveAsCompleted":case"convertToOpportunity":e=true}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_static/cs/cases/cases.js"))switch(b){case"cancel":case"resolve":case"runRoutingRuleAndClose":e=true}var h=new Microsoft.Dynamics.Client.Core.Models.Constants.$3D(b);$a.Trace.logInfo(139,"Preparing parameters for function [{0}]",b);var f=c.get_$12();if($a.$0.$0(f)&&!$a.$0.$0(c.get_$M()))f=c.get_$M().get_$12();h.parameterArray=o.map(function(a){return Microsoft.Crm.Client.Core.Commands.$h.$1p(a,3,f,c,q)});$a.Trace.logInfo(139,"Prepared [{1}] parameters for function [{0}]",b,o.length);var i=new($a.List.$$(Microsoft.Dynamics.Client.Core.Models.Constants.$3D));i.add(h);if(a.startsWith("$webresource:")||Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_static/_common/scripts/CommandBarActions.js")||Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_static/_common/scripts/SharedRibbonActions.js")||Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"/_static/activities/activity.js")||e){if(a.indexOf("msdyn_/")>=0){!$a.$0.$0(d)&&d.resolve(false);return}var j=null;if(a.startsWith("$webresource:"))j=[a.replace("$webresource:","")];var k=null;if(e)k=[a];var l=new Microsoft.Dynamics.Client.Core.Models.$6B(i,null,j,k,null,null,new Microsoft.Dynamics.Client.Core.Framework.$6D(3)),g=Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CI();if(!$a.$0.$0(c)&&(Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(c)||Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(c.get_$Ab()))){var p=Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(c)?c:c.get_$Ab();g.grid=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(p)}l.$qC=function(a){if(!$a.$0.$0(a)&&a.length>0){if(!$a.$0.$0(d)){$a.Trace.logInfo(139,"Function name: {0} - Evaluated to {1}",b,a[0]);d.resolve(a[0])}g.grid=null}else{if(!$a.$0.$0(d)){$a.Trace.logInfo(139,"Function name: {0} - Evaluation failed.",b);d.reject()}g.grid=null}};$a.Trace.logInfo(139,"Calling handler for function [{0}]",b);Microsoft.Dynamics.Client.Core.ViewModels.$1v.get_$4().$G0(l)}else if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"MobileApplicationSystemActions.js")){var m=Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$2P(c,new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("System",b));m.$R();m.$N()}else if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$Bd(a,"MobileApplicationControlActions.js")){var n=Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$2P(c,new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(Microsoft.Dynamics.Client.Core.ViewModels.Constants.$7C.$vm,b));n.$R();n.$N()}else{$a.Trace.logInfo(139,"Invalid library name.  Function name: {0} - Library: {1}",b,a);!$a.$0.$0(d)&&d.resolve(false)}};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.prototype={$I:null,$1X:null,$1A9:null,$4R:function(){for(var c=this.$1A9,e=c.length,b=0;b<e;++b){var a=c[b];if(a.ActionType===3){var d=a.Attributes;Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1Ga(d.FunctionName,d.Library,a.Parameters,this.$1X,this.$I,null)}else a.ActionType===1&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1lv(a.Attributes,a.Parameters,this.$1X,this.$I)}},$9k:function(){$a.$2b.prototype.$9k.call(this)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls");Microsoft.Crm.Client.Core.ViewModels.Controls.$Ig=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ig.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Controls.$Ig");Microsoft.Crm.Client.Core.ViewModels.Controls.$6W=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$6W.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$6W.$vv=function(b,c,d,e){var a=new Microsoft.Crm.Client.Core.ViewModels.Controls.$6W;a.$6F=e;a.$DY=b;a.$F0=d;a.$Kq=c;return a};Microsoft.Crm.Client.Core.ViewModels.Controls.$6W.prototype={$DY:null,$Kq:null,$6F:null,$7n:null,$T0:0,$9Y:null,$8y:null,$F0:null,$9k:function(){if(!$a.$0.$0(this.$6F)){this.$6F.$N();this.$6F=null}this.$DY=null;this.$F0=null;this.$Kq=null;this.$7n=null},$uN:function(){this.$7n=new Microsoft.Crm.Client.Core.Models.Chart.$7f;if(this.$6F.get_$C()>0){this.$1C0(this.$DY,this.$Kq);try{this.$1C1();this.$1Bz()}catch(b){if(Microsoft.Dynamics.Client.Core.Framework.$4A.$aU(b)){var a=$a.$5c.$2IS(Microsoft.Dynamics.Client.Core.Framework.$4A,b,"ChartError");this.$1dd(this.$7n,a)}else throw b;}}else this.$1C3(this.$7n);return this.$7n},$199:function(a){this.$6F=a;if(this.$6F.get_$C()>0){this.$1C0(this.$DY,this.$Kq);!this.$9Y&&this.$1C1();this.$1Bz()}else{this.$7n=new Microsoft.Crm.Client.Core.Models.Chart.$7f;this.$1C3(this.$7n)}return this.$7n},get_$30:function(){return this.$DY.$6E},$1C3:function(a){var c=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Chart_NoData_Message"),b=new Microsoft.Dynamics.Client.Core.Models.$8Y;b.Text=c;b.HorizontalAlignment="center";b.VerticalAlignment="middle";a.$79=b;a.$Ho=this.$DY.$1n;a.$FD=1;a.$Cd=new Microsoft.Dynamics.Client.Core.Framework.$7e;a.$Cd.$Tt=null;a.$Cd.$PA=c},$1dd:function(a,b){a.$79=new Microsoft.Dynamics.Client.Core.Models.$8Y;a.$Ho=this.$DY.$1n;a.$FD=1;a.$Cd=new Microsoft.Dynamics.Client.Core.Framework.$7e;a.$Cd.$Tt=b.get_$7f();a.$Cd.$PA=b.get_$TY()},$1C0:function(b,c){var a=c.$1n;this.$7n.$79=new Microsoft.Dynamics.Client.Core.Models.$8Y;this.$7n.$79.Text=a;this.$7n.$Ho=b.$1n},$1C1:function(){var b=this.$Kq.get_$4q().presentationdescription,a=new Microsoft.Crm.Client.Core.ViewModels.Controls.$67(b);this.$9Y=a.$9Y;this.$7n.$9p=new Microsoft.Dynamics.Client.Core.Models.$FS;if(a.$BA.get_count()>0){this.$7n.$9p.Floating=false;this.$7n.$9p.Enabled=a.$BA.get_$2Hy(0).$AM;this.$7n.$9p.HorizontalAlignment=a.$BA.get_$2Hy(0).$eh.toLowerCase();this.$7n.$9p.VerticalAlignment=a.$BA.get_$2Hy(0).$i0.toLowerCase()}else this.$7n.$9p.Enabled=false;this.$8y=a.$1Db},$1Bz:function(){this.$T0=this.$1Ij();var a=Microsoft.Crm.Client.Core.ViewModels.Controls.$B2.$22h(this.$T0);a.$1M(this.$6F,this.$F0,this.$9Y,this.$7n);this.$7n.$8y=this.$8y;a.$27Q()},$1Ij:function(){return this.$F0.$1Lu?2:this.$F0.$1b.$2A.$2J.$6v?3:1}};Microsoft.Crm.Client.Core.ViewModels.Controls.$8X=function(a,b){this.$2J=a;this.$2A=b;this.$1a=!this.$2J.$1a?this.$2J.$F:this.$2J.$1a;if(this.$2A&&this.$2A.$2J&&this.$2A.$2J.$6v)this.$1M0=true};Microsoft.Crm.Client.Core.ViewModels.Controls.$8X.prototype={$2J:null,$2A:null,$1M0:false,$1a:null,$E:function(b){var a=this.$1M0?this.$1oj(b):null;if(!a||Object.getType(a)!==String){a=b.$Z.getFormattedValue(this.$1a);if(a&&Object.getType(a)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$4z)a=a.$AT;if(a&&Object.getType(a)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityReference)a=a.Name;a=a||"";if(Object.getType(a)!==String)a=a.toString()}return!a.length?Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Web.Visualization.EmptyAxisLabel"):a},$1Im:function(b){if(!this.$2J||!this.$2J.$1o.$4u)return this.$E(b);var c=this.$2J.$1o.$4u.$5U.get_$2Hy(this.$2J.$F).$7h;switch(c){case 11:case 13:case 12:case 0:var a=b.$Z.getValue(this.$1a);if(a&&Object.getType(a)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$4z)a=a.$AT;if(a&&Object.getType(a)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$11)a=a.$1w;a=a||0;return a.toString(2);default:return this.$E(b)}},$1oj:function(a){var b=a.GetValue(this.$1a);if($a.$0.$0(b))return"";switch(this.$2J.$6v.$9i){case 0:return this.$1qc(a);case 1:return this.$1qi(a);case 2:return this.$1qf(a);case 3:return this.$1qh(a);case 5:return this.$1qd(a);case 4:return this.$1qj(a);case 6:return this.$1qe(a)}return a.GetValue(this.$1a)},get_$19v:function(){return Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$yo(this.$2J)},$1qj:function(b){var a=b.GetValue(this.$1a);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$j6(a,-1,-1,-1)},$1qf:function(a){var b=a.GetValue(this.$1a),c=a.GetValue(this.$2A.$5M.get_$2Hy(0).$1a);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$j6(c,b,-1,-1)},$1qc:function(a){var b=a.GetValue(this.$1a),c=a.GetValue(this.$2A.$5M.get_$2Hy(0).$1a),d=a.GetValue(this.$2A.$5M.get_$2Hy(1).$1a);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$j6(d,c,-1,b)},$1qi:function(a){var b=a.GetValue(this.$2A.$5M.get_$2Hy(0).$1a),c=a.GetValue(this.$1a);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$j6(b,-1,c,-1)},$1qe:function(b){var a=b.GetValue(this.$1a);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$1IC(a,-1)},$1qd:function(a){return a.GetValue(this.$1a)},$1qh:function(a){var b=a.GetValue(this.$2A.$5M.get_$2Hy(0).$1a),c=a.GetValue(this.$1a);return Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$1IC(b,c)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$B1=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$B1.$1py=function(a){return($a.$5.$1N(a.$1a)?a.$F:a.$1a)+Microsoft.Dynamics.Client.Core.Framework.$g.$6R};Microsoft.Crm.Client.Core.ViewModels.Controls.$B1.prototype={$31:null,$6F:null,$OS:null,$9Y:null,$F0:null,$1MF:false,get_$NA:function(){return this.$F0.$1b.$2A},$1M:function(a,b,c,d){this.$6F=a;this.$F0=b;this.$OS=this.$F0.get_$Sy();this.$9Y=c;this.$31=d;this.$1MF=true},$pn:function(){var a=new Array(1);a[0]=new Microsoft.Dynamics.Client.Core.Models.$DX;a[0].Title=this.$31.$51&&this.$31.$51.length===1?this.$31.$51[0].Title:"";return a},$1Uq:function(){var c=new Array(1),a=null;if(this.$OS.get_count()>0)a=new Microsoft.Crm.Client.Core.ViewModels.Controls.$8X(this.$OS.get_$2Hy(0),this.$F0.$1b.$2A);c[0]=new Microsoft.Dynamics.Client.Core.Models.$Aj;for(var d=new Array(this.$6F.get_$C()),b=0;b<this.$6F.get_$C();b++){var e=this.$6F.$r.get_$2Hy(b);if(!a)d[b]=Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$z5();else d[b]=a.$E(e)}if(a)c[0].Title=a.get_$19v();c[0].Values=d;return c},$16g:function(p){for(var d=new Array(this.$9Y.get_count()),a=0;a<this.$9Y.get_count();a++){var b=this.$F0.$1b.$49.get_$2Hy(a).$4g.get_$2Hy(0).$AW,j=!b.$1a?b.$F:b.$1a,l=this.$9Y.get_$2Hy(a).$1Mu,e=null,m=Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$yo(b);this.$31.$Tk=true;d[a]=this.$1DN(this.$9Y.get_$2Hy(a));if(b.$M8&&b.$1o&&b.$1o.$4p&&b.$1o.$4p.length>0){e=new Array(b.$1o.$4p.length);for(var g=0;g<b.$1o.$4p.length;g++)e[g]=b.$1o.$4p[g]}else if(this.get_$NA()&&this.get_$NA().$2J){e=new Array(0);if(!$a.$5.$1N(this.get_$NA().$2J.$F)||!$a.$5.$1N(this.get_$NA().$2J.$1a))if(!this.get_$NA().$2J.$1o.$1Sm)e[0]=this.get_$NA().$2J;else this.$31.$Tk=false}for(var f=new Array(this.$6F.get_$C()),n=j+Microsoft.Dynamics.Client.Core.Framework.$g.$6R,o=j,c=0;c<this.$6F.get_$C();c++){var h=this.$6F.$r.get_$2Hy(c);f[c]=new Microsoft.Dynamics.Client.Core.Models.$9f;var k=h.GetValue(n);f[c].Value=!k?0:k;f[c].FormattedValue=h.$Z.getFormattedValue(o)||0;this.$1BS(f[c],h,e)}if(l){var i=new Microsoft.Dynamics.Client.Core.Models.$E5;i.Enabled=true;var q=this;i.LabelFormatter=function(){return""+this.point.FormattedValue};d[a].$1FC=i}d[a].DataPoints=f;d[a].Title=this.$9Y.get_$2Hy(a).$F||m;d[a].XAxisNumber=p}return d},$1DN:function(b){var a=new Microsoft.Dynamics.Client.Core.Models.$GY;a.ChartType=b.get_$gA();a.Color=b.get_$1Da();a.BorderColor=b.get_$1Bu();a.BorderWidth=b.$1Bv;a.CustomProperties=b.$1F6;return a},$1BS:function(e,f,c){if(c){for(var d=new Microsoft.Dynamics.Client.Core.Models.$9R,b=0;b<c.length;b++){var a=c[b];d.$1aa(a.$F,f.GetValue(Microsoft.Crm.Client.Core.ViewModels.Controls.$B1.$1py(a)),a.$6v?a.$6v.$9i:-1)}e.Aggregators=d.$1oJ()}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$B2=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$B2.$22h=function(a){switch(a){case 2:return new Microsoft.Crm.Client.Core.ViewModels.Controls.$B8;case 3:return new Microsoft.Crm.Client.Core.ViewModels.Controls.$E7;case 1:default:return new Microsoft.Crm.Client.Core.ViewModels.Controls.$Fl}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2I=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.get_$21y=function(){if(!Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$mt)Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$mt=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Calendar_Short_Months").split(",");return Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$mt};Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$j6=function(a,b,c,d){if(Object.getType(a)===String){var e=a,j=new RegExp("[^0-9]");e=e.replace(j,"");a=parseInt(e,10)}var f=d>=1&&c<1&&b>=1,g=d<1&&c>=1&&b<1,h=d<1&&c<1&&b>=1,i=c<1&&b<1;if(f){var k=new Date(a,b-1,d);return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$7.$ys(k)}return g?String.format(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Web.Visualization.Year.Week"),c,a):h?String.format("{0} {1}",Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.get_$21y()[b-1],a):i?a.toLocaleString():""};Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$1IC=function(a,b){return b>0?String.format(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Web.Visualization.Year.Quarter"),b,a):String.format(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("FiscalYear_Format_String_NoSpace"),a)};Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$yo=function(a){var g=a.$1o.$4u.$5U.get_$2Hy(a.$F),b=g.$1n;if(!b)b=a.$F;var c=b;if(a.$6v){var h=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6C.$1IM(a.$6v.$9i).replace("-","").toUpperCase();c=String.format(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Web.Visualization.AxisTitle.DateGrouping"),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Web.Visualization.AxisTitle.DateGrouping."+h.toUpperCase()),b)}else if(a.$M8&&!$a.$5.$L(a.$ef))c=String.format(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Web.Visualization.AxisTitle"),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Web.Visualization.AxisTitle."+a.$ef.toUpperCase()),b);if(g.$7h===8){var f="",d=Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c(),e=null;if(g.$aR)e=d.$UU(d.$1R.$Se);else if(a.$M8)e=d.$UU(d.$54);if(e)if(d.$1R.$CW===1)f=e.$7r;else f=e.$7s;if(!$a.$5.$L(f))c=String.format(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Web.Visualization.AxisTitle.CurrencySymbol"),c,f)}return c};Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$z5=function(){return Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Web.Visualization.EmptyAxisLabel")};Microsoft.Crm.Client.Core.ViewModels.Controls.$67=function(a){this.$bx=Microsoft.Crm.Client.Core.Storage.Common.Xml.$G.$y(a);this.$2HT(this.$bx);this.$9Y=this.$2BP();this.$BA=this.$2BI();this.$1Db=this.$2BK()};Microsoft.Crm.Client.Core.ViewModels.Controls.$67.prototype={$bx:null,$9Y:null,$BA:null,$1Db:null,$2BP:function(){for(var d=new($a.List.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Cp)),e=Microsoft.Crm.Client.Core.Storage.Common.Xml.$G.$B(this.$bx).$50("Chart/Series/Series"),c=0;c<e.get_$C();c++){var b=e.get_$2Hy(c),a=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Cp;a.set_$gA(b.$4B("ChartType"));a.set_$1Da(b.$4B("Color"));a.$F=b.$4B("Name");a.$1F6=b.$4B("CustomProperties");a.set_$1Bu(b.$4B("BorderColor"));a.$1Bv=b.$4B("BorderWidth");a.$1Mu=b.$4B("IsValueShownAsLabel")==="True";d.add(a)}return d},$2BI:function(){for(var d=new($a.List.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Co)),e=Microsoft.Crm.Client.Core.Storage.Common.Xml.$G.$B(this.$bx).$50("Chart/Legends/Legend"),c=0;c<e.get_$C();c++){var b=e.get_$2Hy(c),a=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Co;a.$eh=b.$4B("Alignment");a.$i0=b.$4B("Docking");a.set_$yn(b.$4B("ForeColor"));var f=b.$4B("Enabled");a.$AM=!f||f;d.add(a)}return d},$2BK:function(){var c=[],f=Microsoft.Crm.Client.Core.Storage.Common.Xml.$G.$B(this.$bx).$8("Chart"),d=f.$4B("PaletteCustomColors");if(d)for(var b=d.split(";"),e=b.length,a=0;a<e;++a){var g=b[a];Array.add(c,String.format("rgb({0})",g.trim()))}return c},$2HT:function(b){var a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$G.$B(b).$8("Error");if(!a)return;throw new Microsoft.Dynamics.Client.Core.Framework.$4A(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Chart_Unsupported_Title"),Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Chart_Unsupported_Message")).$18m();}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Cr=function(a){this.$Aj=a};Microsoft.Crm.Client.Core.ViewModels.Controls.$Cr.prototype={$Aj:null,$ka:function(a){this.$uw();this.$1gz(a)},$uw:function(){var a=new($a.List.$$(String)),c=this.$Aj.get_$1f9();for(var d in c){var g={key:d,value:c[d]},e=g.value;e&&a.addRange(Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$pb(e).toArray())}for(var f=$a.$1S.Instance.$2Hz(Microsoft.Dynamics.Client.Core.Framework.$3E),b=0;b<a.get_count();b++)f.$YM(a.get_$2Hy(b));this.$Aj.$1DA()},$1gz:function(b){var a=Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$8O(b.TypeName);a.set_$M(this.$Aj.get_$M());Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$Aw(a,b,this.$Aj.get_$J());this.$Aj.set_$1Hn(a);this.$Aj.$CK(a.get_$1T(),this.$Aj.get_$1Hn());var c=Microsoft.Dynamics.Client.Core.Models.Descriptors.$V.$AJ(b);this.$Aj.set_$vo(c)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$AS=function(){this.$jW="";Microsoft.Crm.Client.Core.ViewModels.Controls.$AS.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$AS.prototype={get_$81:function(){return this.$jW},set_$81:function(a){a=new Microsoft.Dynamics.Client.Core.Framework.Guid(a).toString();if(this.$jW===a)return a;this.$jW=a;this.$5("GlobalActiveStage");return a},$13x:null,$22R:function(a,b){if(!a)return false;if(a===1){this.$2D6(b);return false}return true},$dm:function(a){this.$2Gq(a.$Cz);this.set_$81(a.$GK)},$2D6:function(b){var a=new Mscrm.ProcessControlShared.ObjectModels.$7v;a.$Cz=new Array(0);a.$GK=b;this.$dm(a)},$2Gq:function(e){this.$13x={};for(var b=e,d=b.length,a=0;a<d;++a){var c=b[a];this.$13x[c.EntityLogicalName]=new Microsoft.Dynamics.Client.Core.Framework.Guid(c.Id)}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$GF=function(){this.$$d_$14S=Function.createDelegate(this,this.$14S);Microsoft.Crm.Client.Core.ViewModels.Controls.$GF.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$GF.prototype={get_$R9:function(){return this.get_$M().$9g("ProcessManager")},$10:null,get_EntityLogicalName:function(){return this.$10},set_EntityLogicalName:function(a){this.$10=a;return a},$8J:null,get_AttributeFieldNames:function(){return this.$8J},set_AttributeFieldNames:function(a){this.$8J=a;this.$5("AttributeFieldNames");return a},get_RetrieveOptions:function(){return Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()?Microsoft.Dynamics.Client.Core.ViewModels.$3P.get_$VJ():Microsoft.Dynamics.Client.Core.ViewModels.$3P.get_$mH()},$Ip:null,get_GetModelActionProvider:function(){return this.$Ip},set_GetModelActionProvider:function(a){this.$Ip=a;return a},get_ExternalContext:function(){return null},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);if(this.$10!==this.get_PrimaryModelName())return;if(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.get_$M())&&this.get_$M().get_$Q7())this.$1Nf();else this.$1Ut();this.get_$M().add_$nY(this.$$d_$14S)},$Mn:function(a){!Microsoft.Dynamics.Client.Core.Framework.$H.$11c(a.$m)&&Microsoft.Dynamics.Client.Core.ViewModels.$4S.prototype.$Mn.call(this,a)},$9k:function(){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this);!$a.$0.$0(this.get_$M())&&this.get_$M().remove_$nY(this.$$d_$14S)},$1Ut:function(){if(!$a.$0.$0(this.$Ip)){var a=this.$Ip.$42();if(!a)return;var b=this;a.add_$57(function(){if(!b.get_$R9())return;b.$1Nf()});Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(a)}},$1Nf:function(){this.get_$R9().set_$at(true);Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().$XL(this.get_$R9().get_$1F())},$14S:function(){!(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.get_$M())&&this.get_$M().get_$Q7())&&this.$1Ut();this.get_$R9().$2GS()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$AU=function(){this.$$d_$24T=Function.createDelegate(this,this.$24T);this.$$d_$nN=Function.createDelegate(this,this.$nN);this.$$d_$dm=Function.createDelegate(this,this.$dm);Microsoft.Crm.Client.Core.ViewModels.Controls.$AU.initializeBase(this);var a=this;this.$p3=function(){a.$5("ProcessDescriptor")};var b=this;this.$jY=function(){b.$5("GlobalActiveStage")}};Microsoft.Crm.Client.Core.ViewModels.Controls.$AU.prototype={$p3:null,$jY:null,get_$4V:function(){return this.$p.ProcessMetadataManager},get_$O8:function(){return this.$p.ProcessActiveStageManager},get_$Jx:function(){return this.get_$4V().$Bs},get_$R8:function(){return this.get_$4V().get_$R8()},get_$291:function(){return this.get_$4V().$1TR},$qf:null,get_SelectedStageId:function(){return this.$qf},set_SelectedStageId:function(a){a=Microsoft.Dynamics.Client.Core.Framework.Guid.tryCreate(a).toString();if(this.$qf===a)return a;this.$qf=a;this.$5("SelectedStageId");return a},$QC:null,get_$lu:function(){return this.$QC},set_$lu:function(a){this.$QC=Microsoft.Dynamics.Client.Core.Framework.Guid.tryCreate(a).toString();return a},get_$1W2:function(){return this.get_$4V().$1q8(this.$qf)},get_$81:function(){return this.get_$O8().get_$81()},set_$81:function(a){this.get_$O8().set_$81(a);return a},get_$1nX:function(){return this.get_$4V().get_$gS().steps.get_$2Hy(0)},get_$Cz:function(){return this.get_$O8().$13x},get_$Ag:function(){return $a.$0.$0(this.$GU)?this.get_IntrinsicStageId():this.$GU},$2s:null,get_$6b:function(){return this.$2s},set_$6b:function(a){this.$2s=a;this.$5("ErrorMessage");return a},$GU:null,$JP:false,get_$at:function(){return this.$JP},set_$at:function(a){if(a===this.$JP)return a;this.$JP=a;this.$5("LoadComplete");return a},$10l:null,get_IntrinsicStageId:function(){return this.$10l},set_IntrinsicStageId:function(a){if(this.$10l===a)return a;this.$10l=a;this.$1Wp();this.$5("IntrinsicStageId");return a},$Br:null,get_ProcessId:function(){return this.$Br},set_ProcessId:function(a){if(this.$Br===a)return a;this.$Br=a;!$a.$0.$0(a)&&($a.$0.$0(this.$QC)||new Microsoft.Dynamics.Client.Core.Framework.Guid(this.$QC).toString()!==a.toString())&&this.$2BL();Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().$1Tw(this.get_$1F());this.$5("ProcessId");return a},$p2:null,get_ProcessDefinitionActionProvider:function(){return this.$p2},set_ProcessDefinitionActionProvider:function(a){this.$p2=a;return a},$eO:null,get_ActiveStageActionProvider:function(){return this.$eO},set_ActiveStageActionProvider:function(a){this.$eO=a;return a},$ND:null,add_$T3:function(a){this.$5S("ClearProcess",a)},remove_$T3:function(a){this.$5a("ClearProcess",a)},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);this.$1Wp();this.$2DL()},$nN:function(c){this.set_$lu(null);if(this.$3H){Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().$XL(this.get_$1F());return}if($a.$0.$0(this.get_ProcessId())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$J())&&!this.get_$J().$Fw&&Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()){var b=this.get_$J(),a=null,d=this;a=function(){b.remove_$73(a);d.$1R1(c)};b.add_$73(a)}else this.$1R1(c)},$1R1:function(a){if(this.$3H){Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().$XL(this.get_$1F());return}if($a.$0.$0(a.Properties)){if(!$a.$0.$0(this.get_ProcessId())){this.get_$4V().set_$R8(a);this.get_$4V().$qo(a);this.$5("ProcessObjectModel")}Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().$XL(this.get_$1F());this.set_SelectedStageId(null);return}this.$ND=a;this.$1WP()},$2GS:function(){this.$1Ys();this.$1JV()},$1r7:function(){this.$a0("ClearProcess",this,null)},$24T:function(a){throw Error.create("retrieve process control defintion has failed:\n\n"+a.$P);},$1Jc:function(a){return this.get_$4V().$1Jc(a)},$1Mj:function(e){if($a.$5.$1N(this.get_$81()))return false;for(var a=0;a<this.get_$Jx().steps.get_$C();a++)for(var c=this.get_$Jx().steps.get_$2Hy(a),b=0;b<c.steps.get_$C();b++){var d=c.steps.get_$2Hy(b);if(d.id===this.get_$81())return false;if(d.id===e)return true}return false},$1uc:function(b){if($a.$5.$1N(this.get_$81()))return true;var a=this.get_$4V().$FN(b);return $a.$0.$0(a)?true:this.get_$J().get_$5l()===a.get_$7K()&&a!==this.get_$4V().get_$gS()?false:a===this.get_$4V().get_$gS()?this.get_$4V().$FN(this.get_$81())!==this.get_$4V().get_$gS():$a.$0.$0(this.get_$Cz())||$a.$0.$0(this.get_$Cz()[a.get_$7K()])},$Sx:function(a){return this.get_$4V().$Sx(a)},$1CY:function(a){return this.get_$4V().$114&&this.$Sx(a)},$yW:function(a){return this.get_$4V().$yW(a)},$FN:function(a){return this.get_$4V().$FN(a)},$Sw:function(c){if(!this.$k0())return false;if(!this.$Sx(c))return false;for(var d=this.$FN(this.get_$81()),e=this.$FN(c),a=0;a<this.get_$Jx().steps.get_$C();a++){var b=this.get_$Jx().steps.get_$2Hy(a);if(b===e)return true;if(b===d)return false}return false},$Su:function(a){return!this.$1CX()?false:this.get_$4V().$Su(a)},$Sv:function(a){return!this.$k0()?false:this.get_$4V().$Sv(a)},$1CZ:function(a){return!this.$1CX()?false:this.get_$4V().$1CZ(a)},$PU:function(a){return this.get_$4V().$PU(a)},$Zs:function(a){return this.get_$4V().$Zs(a)},$Zw:function(a){return this.get_$4V().$Zw(a)},$1ea:function(a){return!$a.$0.$0(this.get_$4V())&&this.$QC!==a},$dm:function(a){this.get_$O8().$dm(a);this.$2GX()},$9k:function(){this.get_$4V().RemovePropertyChangedListener("ProcessDescriptor",this.$p3);this.$p3=null;this.get_$O8().RemovePropertyChangedListener("GlobalActiveStage",this.$jY);this.$jY=null;Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this)},$Qk:function(){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$Qk.call(this);this.$1WP()},$1WP:function(){if(!$a.$0.$0(this.get_$J())&&!$a.$0.$0(this.$ND)){var a=Microsoft.Crm.Client.Core.ViewModels.$3Q.$2I0(Microsoft.Dynamics.Client.Core.Framework.Guid,"ProcessId",this.$ND.Properties).toString();if(a===this.$QC||!this.$1ur(a)){Microsoft.Dynamics.Client.Core.ViewModels.$f.get_$4().$XL(this.get_$1F());return}this.get_$4V().$qo(this.$ND);if($a.$0.$0(this.get_ProcessId())){this.set_ProcessId(new Microsoft.Dynamics.Client.Core.Framework.Guid(a));this.set_IntrinsicStageId(new Microsoft.Dynamics.Client.Core.Framework.Guid(this.get_$4V().get_$wP().steps.get_$2Hy(0).id));this.get_$M().$Kl(70)}this.$1Ys();this.$5("ProcessObjectModel");this.get_$4V().set_$R8(this.$ND);this.$QC=a;this.$1JV()}},$2DL:function(){this.get_$4V().AddPropertyChangedListener("ProcessDescriptor",this.$p3);this.get_$O8().AddPropertyChangedListener("GlobalActiveStage",this.$jY)},$1Wp:function(){var a=this.get_IntrinsicStageId();if($a.$0.$0(a))return;this.set_SelectedStageId(a.toString().toLowerCase())},$2BL:function(){if($a.$0.$0(this.$p2))return;this.set_$at(false);var a=this.$p2.$42();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(a)},$1ur:function(a){return $a.$0.$0(this.get_ProcessId())?true:this.get_ProcessId().toString()===a},$1JV:function(){var a=$a.$0.$0(this.get_IntrinsicStageId())?this.$GU.toString():this.get_IntrinsicStageId().toString(),b=this.get_$O8().$22R(this.get_$4V().$1TO,a);if(!b)!$a.$0.$0(this.$GU)&&this.set_$81(this.$GU.toString());else if(!$a.$0.$0(this.$eO)){var c=this.$eO.$42();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(c)}},$1CX:function(){if(!this.$k0())return false;var a=this.$FN(this.get_$81());return a.get_$7K()===this.get_$J().get_$5l()},$k0:function(){if($a.$5.$1N(this.get_$81())||!Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22())return false;var a=this.$FN(this.get_$81());return!$a.$0.$0(a)},$1Ys:function(){var b=this.get_$4V().get_$wP();if($a.$0.$0(b)){this.set_SelectedStageId(null);return}var c=new Microsoft.Dynamics.Client.Core.Framework.Guid(b.steps.get_$2Hy(0).id),a=$a.$0.$0(this.get_IntrinsicStageId());if(!a){var d=this.$Zw(this.get_IntrinsicStageId().toString());a=!!(a|$a.$0.$0(d))}if(a){this.$GU=c;this.set_SelectedStageId(c.toString())}else this.set_SelectedStageId(this.get_IntrinsicStageId().toString())},$2GX:function(){if(this.$3H)return;if(!this.$k0())return;if(!this.$1Mj(this.get_$Ag().toString()))return;var b=this.$PU(this.get_$Ag().toString());if($a.$0.$0(b))return;var a=this.get_$4V().get_$wP(),c=a.steps.get_$2Hy(a.steps.get_$C()-1);this.$GU=new Microsoft.Dynamics.Client.Core.Framework.Guid(c.id);this.$5("CalculatedStageId");this.$5("GlobalActiveStage")}};Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager.prototype={$1DQ:false,$tx:null,get_AttributeMetadataActionProvider:function(){return this.$tx},set_AttributeMetadataActionProvider:function(a){this.$tx=a;return a},$vK:null,get_$gS:function(){if(this.$1DQ)return this.$vK;this.$1DQ=true;var a=this.$Bs.steps.get_$C();if(a<3)return null;if(this.$Bs.steps.get_$2Hy(a-2).isClosedLoop)this.$vK=this.$Bs.steps.get_$2Hy(a-1);return this.$vK},$ND:null,get_$R8:function(){return this.$ND},set_$R8:function(a){if(this.$ND===a)return a;this.$ND=a;this.$5("ProcessDescriptor");return a},$8J:null,get_AttributeFieldNames:function(){return this.$8J},set_AttributeFieldNames:function(a){this.$8J=a;this.$5("AttributeFieldNames");return a},$Bs:null,$1TO:0,$1TR:0,$114:false,get_$wP:function(){for(var b=this.$Bs.steps,a=0;a<b.get_$C();a++){var c=b.get_$2Hy(a);if(c.get_$7K()===this.get_PrimaryModelName())return c}return null},$qo:function(h){var a=new Microsoft.Crm.Workflow.ObjectModel.$64("",0),e=0,f=0,c=h.ChildViewModels;for(var d in c){var i={key:d,value:c[d]},g=i.value;if(g.TypeName!=="ProcessEntity")continue;var b=this.$1hR(a,g);a.steps.$h(b);e++;f+=b.steps.get_$C();if(b.get_$7K()===this.get_PrimaryModelName())this.$114=b.isClosedLoop}a.set_$1T(Microsoft.Crm.Client.Core.ViewModels.$3Q.$2I0(String,"ProcessName",h.Properties)||" ");this.$1TO=e;this.$1TR=f;this.$Bs=a},$Zw:function(f){if($a.$0.$0(f))return null;for(var c=this.$Bs,a=0;a<c.steps.get_$C();a++)for(var d=c.steps.get_$2Hy(a),b=0;b<d.steps.get_$C();b++){var e=d.steps.get_$2Hy(b);if(f===e.id)return e}return null},$1Jc:function(g){for(var c=this.$Bs,d=0,a=0;a<c.steps.get_$C();a++)for(var e=c.steps.get_$2Hy(a),b=0;b<e.steps.get_$C();b++){var f=e.steps.get_$2Hy(b);if(g===f.id)return d;d+=1}return 0},$Zs:function(i){for(var a=null,e=this.$Bs,h=this.get_PrimaryModelName(),f=false,b=0;b<e.steps.get_$C();b++){var c=e.steps.get_$2Hy(b);if(c.get_$7K()!==h)continue;a=null;for(var d=0;d<c.steps.get_$C();d++){var g=c.steps.get_$2Hy(d);if(g.id===i.toLowerCase()){f=true;break}a=g}}return f?a:null},$PU:function(i){for(var e=null,a=false,f=this.$Bs,h=this.get_PrimaryModelName(),b=0;b<f.steps.get_$C();b++){var c=f.steps.get_$2Hy(b);if(c.get_$7K()!==h){if(a)break;continue}for(var d=0;d<c.steps.get_$C();d++){var g=c.steps.get_$2Hy(d);if(a){e=g;break}if(g.id===i)a=true}}return e},$Sx:function(c){var a=this.$FN(c);if($a.$0.$0(a))return false;var d=!this.$PU(c),e=a.get_$7K()===this.get_PrimaryModelName(),b=this.$Bs.steps,f=b.$Un(a)===b.get_$C()-1;return d&&e&&!f},$Su:function(b){var a=this.$FN(b);if($a.$0.$0(a))return false;var c=this.$PU(b),d=a.get_$7K()===this.get_PrimaryModelName();return!!c&&d},$1CZ:function(b){var a=this.$FN(b);if($a.$0.$0(a))return false;var c=this.$Zs(b),d=a.get_$7K()===this.get_PrimaryModelName();return!!c&&d},$Sv:function(a){return this.$114&&this.$Sx(a)},$FN:function(e){for(var d=this.$Bs.steps,a=0;a<d.get_$C();a++)for(var b=d.get_$2Hy(a),c=0;c<b.steps.get_$C();c++)if(e===b.steps.get_$2Hy(c).id)return b;return null},$yW:function(f){for(var b=this.$Bs.steps,c=null,d=false,a=0;a<b.get_$C();a++){var e=b.get_$2Hy(a);if(d){c=e.get_$7K();break}if(e.get_$7K()===f)d=true}return c},$1q8:function(f){var a=this.$Bs;if(!$a.$0.$0(a))for(var b=0;b<a.steps.get_$C();b++)for(var d=a.steps.get_$2Hy(b),c=0;c<d.steps.get_$C();c++){var e=d.steps.get_$2Hy(c);if(e.id===f)return e}return null},$1hR:function(e,b){var a=new Microsoft.Crm.Workflow.ObjectModel.$7u(e,b.Name);a.set_$7K(b.Name);a.description=Microsoft.Crm.Client.Core.ViewModels.$3Q.$2I0(String,"EntityDisplayName",b.Properties);a.attributeName=Microsoft.Crm.Client.Core.ViewModels.$3Q.$2I0(String,"ReferencingAttributeName",b.Properties);a.isClosedLoop=Microsoft.Crm.Client.Core.ViewModels.$3Q.$2I0(Boolean,"IsClosedLoop",b.Properties);a.set_$D9(e);if(a.get_$7K()===this.get_PrimaryModelName()){this.set_AttributeFieldNames(Microsoft.Crm.Client.Core.ViewModels.$3Q.$2I0(Array,"AttributeFieldNames",b.Properties));this.$2HW()}var f=b.ChildViewModels;for(var g in f){var h={key:g,value:f[g]},c=h.value;if(c.TypeName!=="Stage")continue;var i=this.$1ip(e,c);a.$SW(i);var d=this.$1nQ(c);if($a.$0.$0(d))continue;if(!$a.$0.$0(this.get_$J())&&this.get_$J().get_$5l()!==a.get_$7K())this.$2GF(d);else this.$2GG(d)}return a},$1nQ:function(e){var a=e.ChildViewModels;for(var b in a){var d={key:b,value:a[b]},c=d.value;if(c.TypeName==="ProcessSectionViewModel")return c}return null},$2GF:function(a){if($a.$0.$0(a)||$a.$0.$0(a.ChildViewModels))return;var c=a.ChildViewModels;for(var d in c){var b={key:d,value:c[d]};if(b.key.indexOf("_readonly")!==-1||b.key.indexOf("_edit")!==-1)delete a.ChildViewModels[b.key]}},$2GG:function(a){if($a.$0.$0(a)||$a.$0.$0(a.ChildViewModels))return;var b=a.ChildViewModels;for(var c in b){var d={key:c,value:b[c]};if(d.key.indexOf("_label")>0)delete a.ChildViewModels[d.key]}},$1ip:function(e,b){var c=Microsoft.Crm.Client.Core.ViewModels.$3Q.$2I0(String,"StageDisplayName",b.Properties),a=new Microsoft.Crm.Workflow.ObjectModel.$4x(e,c),d=Microsoft.Crm.Client.Core.ViewModels.$3Q.$2I0(String,"StageId",b.Properties);a.id=new Microsoft.Dynamics.Client.Core.Framework.Guid(d).toString();return a},$2HW:function(){if(!$a.$0.$0(this.get_$M())&&!$a.$0.$0(this.get_$M().get_$J())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(this.get_$M().get_$J())&&!$a.$0.$0(this.$8J)){var c={EntityType:this.get_PrimaryModelName(),Attributes:this.$8J},b=this.$tx.$EA(c),a=this;b.add_$Hp(function(){!$a.$0.$0(a.get_$M())&&!$a.$0.$0(a.get_$M().get_$J())&&Microsoft.Crm.Client.Core.Models.$K.isInstanceOfType(a.get_$M().get_$J())&&!$a.$0.$0(a.$8J)&&Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$1S().$19W(a.get_$M().get_$J().$Z,a.$8J)});Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(b)}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$6r=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$6r.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$6r.$1Xd=function(a){return a.get_$Ni()};Microsoft.Crm.Client.Core.ViewModels.Controls.$6r.$1Xe=function(a,b){a.set_$Ni(b)};Microsoft.Crm.Client.Core.ViewModels.Controls.$6r.prototype={$rN:false,get_$Ni:function(){return this.$rN},set_$Ni:function(a){this.$rN=a;this.$5("StageGateCheckResult");return a},$10:null,get_EntityLogicalName:function(){return this.$10},set_EntityLogicalName:function(a){this.$10=a;return a},get_$R9:function(){return this.get_$M().$9g("ProcessManager")},add_$rL:function(a){this.$5S("StageGateCheck",a)},remove_$rL:function(a){this.$5a("StageGateCheck",a)},$rO:function(){this.$a0("StageGateCheck",null,null);return this.get_$Ni()},$kc:function(b){if(this.$10!==this.get_PrimaryModelName()){var a=Microsoft.Dynamics.Client.Core.Imported.jQueryDeferredFactory.Deferred(Microsoft.Dynamics.Client.Core.Framework.$26,Object);a.resolve(Microsoft.Dynamics.Client.Core.Framework.$26.get_$Vq());return a.promise()}return Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype.$kc.call(this,b)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$7X=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$7X.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$7X.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$d("SearchSummaryViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$7X)};Microsoft.Crm.Client.Core.ViewModels.Controls.$7X.$1Xv=function(a){return a.get_SummaryTitle()};Microsoft.Crm.Client.Core.ViewModels.Controls.$7X.$hy=function(a){return a.get_DisplayMode()};Microsoft.Crm.Client.Core.ViewModels.Controls.$7X.prototype={$18Q:null,$FD:0,$NZ:null,get_SummaryTitle:function(){return this.$18Q},set_SummaryTitle:function(a){if(this.$18Q!==a)this.$18Q=a;return a},get_DisplayMode:function(){return this.$FD},set_DisplayMode:function(a){if(this.$FD!==a){this.$FD=a;this.$5("DisplayMode")}return a},get_SearchResults:function(){return this.$NZ},set_SearchResults:function(a){if(this.$NZ!==a)this.$NZ=a;return a}};Microsoft.Crm.Client.Core.ViewModels.Controls.$B8=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$B8.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$B8.prototype={$27Q:function(){var q=new Microsoft.Dynamics.Client.Core.Framework.$1W("ComparisonChartDataParser:Parse");q.$1G();try{var d=new Array(0),D={},r=this.$F0.$1b,a=r.$49.get_$2Hy(0);if(a.$4g&&a.$4g.get_count()>0&&a.$4g.get_$2Hy(0).$Af&&a.$4g.get_$2Hy(0).$Af.$2A){if(a.$4g.get_$2Hy(0).$Af.$2A.$2J)d[d.length]=a.$4g.get_$2Hy(0).$Af.$2A.$2J;if(a.$4g.get_$2Hy(0).$Af.$2A.$5M)for(var w=0;w<a.$4g.get_$2Hy(0).$Af.$2A.$5M.get_count();w++)d[d.length]=a.$4g.get_$2Hy(0).$Af.$2A.$5M.get_$2Hy(w)}var s=a.$Nb.get_$2Hy(0).$2J,t=new Microsoft.Crm.Client.Core.ViewModels.Controls.$8X(s,a.$Nb.get_$2Hy(0));if(s)d[d.length]=s;for(var u=a.$4g.get_$2Hy(0).$AW,E=u.$1a||u.$F,M=E+Microsoft.Dynamics.Client.Core.Framework.$g.$6R,N=E,O=r.$2A.$2J,v=new Microsoft.Crm.Client.Core.ViewModels.Controls.$8X(O,r.$2A),b=new($a.List.$$(String)),e=new($a.List.$$(String)),i={},x=0;x<this.$6F.get_$C();x++){var y=this.$6F.$r.get_$2Hy(x),I=v.$E(y),l=t.$E(y),f;if(!l){l=Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$z5();f=l}else f=t.$1Im(y);D[f]=l;!e.contains(I)&&e.add(I);!b.contains(f)&&b.add(f)}for(var B=b.get_items(),K=B.length,o=0;o<K;++o){var Q=B[o],R=new Array(e.get_count());i[Q]=R}for(var z=0;z<this.$6F.get_$C();z++){var g=this.$6F.$r.get_$2Hy(z),A=t.$1Im(g);if(!A)A=Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$z5();var m=i[A],S=v.$E(g),n=e.indexOf(S);m[n]=new Microsoft.Dynamics.Client.Core.Models.$9f;m[n].Value=g.GetValue(M);m[n].FormattedValue=g.$Z.getFormattedValue(N);this.$1BS(m[n],g,d)}for(var C=b.get_items(),L=C.length,p=0;p<L;++p)for(var T=C[p],J=i[T],h=0;h<e.get_count();h++)if($a.$0.$0(J[h]))J[h]=new Microsoft.Dynamics.Client.Core.Models.$9f;var j=new Array(1);j[0]=new Microsoft.Dynamics.Client.Core.Models.$Aj;j[0].Title=v.get_$19v();j[0].Values=e.toArray();if(a.$Nb.get_$2Hy(0).$7I){var U=this;b.sort(function(a,b){return a.localeCompare(b)})}else{var V=this;b.sort(function(a,b){return b.localeCompare(a)})}for(var k=new Array(b.get_count()),H=!!this.$31.$8y&&this.$31.$8y.length>0,P=H?this.$31.$8y[0]:null,c=0;c<b.get_count();c++){var F=b.get_items()[c];k[c]=this.$1DN(this.$9Y.get_$2Hy(0));k[c].Title=D[F];k[c].DataPoints=i[F];if(H){var G=c%this.$31.$8y.length;if(c===b.get_count()-1)this.$31.$8y[G]=P;else this.$31.$8y[G]=this.$31.$8y[(b.get_count()-c-1)%this.$31.$8y.length]}}this.$31.$9U=j;this.$31.$CJ=this.$pn(u);this.$31.$51=k}finally{q.$1Z();q=null}},$pn:function(b){var a=new Array(1);a[0]=new Microsoft.Dynamics.Client.Core.Models.$DX;a[0].Title=Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$yo(b);return a}};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel=function(){this.$$d_$Fo=Function.createDelegate(this,this.$Fo);this.$$d_$14T=Function.createDelegate(this,this.$14T);Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$32("PageSearchHeaderViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$27M)};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$27M=function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.prototype={$NY:null,$8c:null,get_SearchButtonToolTip:function(){return this.$NY},set_SearchButtonToolTip:function(a){if(this.$NY!==a)this.$NY=a;return a},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);this.set_SearchButtonToolTip(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Search_LaunchButton_Tooltip"));$a.NativeBridge.get_$4().add_$14T(this.$$d_$14T);this.set_Enabled(Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$22());if($a.$0.$0(this.$8c)){this.$8c=new Microsoft.Dynamics.Client.Core.Commands.$3Y(this,26);this.$8c.$4L="searchPage";this.$8c.$2d={};this.$8c.$2d.SearchEntity=Xrm.Utility.isActivityType(this.get_$M().get_PrimaryModelName())?"activitypointer":this.get_$M().get_PrimaryModelName()}Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$Fo)},$14T:function(a){if($a.$0.$0(this.$8c))this.$8c=new Microsoft.Dynamics.Client.Core.Commands.$3Y(this,26);this.$8c.$4L="searchPage";this.$8c.$2d={};this.$8c.$2d.SearchEntity=null;this.$8c.$2d.SearchText=a;this.$8c.$R()},$Fo:function(){this.set_Enabled(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22());this.$8c.set_$1K(this.get_Enabled())},$Cf:function(){!$a.$0.$0(this.$8c)&&this.$8c.$R()},$9k:function(){if(!$a.$0.$0(this.$8c)){this.$8c.$N();this.$8c=null}$a.NativeBridge.get_$4().remove_$14T(this.$$d_$14T);Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$Fo);Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Co=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Co.prototype={$eh:null,$i0:null,$1IB:null,$AM:false,get_$yn:function(){return this.$1IB},set_$yn:function(a){this.$1IB=!a?null:String.format("rgb({0})",a.trim());return a}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Cp=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Cp.prototype={$T0:null,$1DZ:null,$F:null,$1F6:null,$1Bv:0,$1Bt:null,$1Mu:false,get_$gA:function(){return this.$T0},set_$gA:function(a){this.$T0=a||"Column";return a},get_$1Da:function(){return this.$1DZ},set_$1Da:function(a){this.$1DZ=!a?null:String.format("rgb({0})",a.trim());return a},get_$1Bu:function(){return this.$1Bt},set_$1Bu:function(a){this.$1Bt=!a?null:String.format("rgb({0})",a.trim());return a}};Microsoft.Crm.Client.Core.ViewModels.Controls.$7k=function(){this.$$d_$WI=Function.createDelegate(this,this.$WI);this.$$d_$D4=Function.createDelegate(this,this.$D4);this.$$d_$22O=Function.createDelegate(this,this.$22O);Microsoft.Crm.Client.Core.ViewModels.Controls.$7k.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$7k.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$d("CRM_Chart_ChartViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$7k)};Microsoft.Crm.Client.Core.ViewModels.Controls.$7k.prototype={$CV:null,$7G:null,$GG:null,$SC:null,$Kp:null,$sp:null,$L9:null,$zg:null,$1VK:null,$Mg:null,$g7:null,get_$Yn:function(){return this.$CV},set_$Yn:function(a){this.$CV=a;this.$2Gb();return a},get_CrmChartBuilder:function(){return this.$L9},set_CrmChartBuilder:function(a){this.$L9=a;if(!$a.$0.$0(this.$L9)){this.set_PrimaryModelName(this.$L9.get_$30());this.set_$Yn(this.$L9.$uN())}else{this.set_PrimaryModelName(null);this.set_$Yn(null)}return a},get_ViewId:function(){return this.$GG},set_ViewId:function(a){if(a&&Object.getType(a)===String&&a!==this.$GG){this.$GG=a;this.set_SavedQueryId(a);this.$Cf()}return a},get_ViewEntityLogicalName:function(){return this.$SC},set_ViewEntityLogicalName:function(a){if(a&&Object.getType(a)===String&&a!==this.$SC)this.$SC=a;return a},get_VisualizationId:function(){return this.$Kp},set_VisualizationId:function(a){if(a&&Object.getType(a)===String&&a!==this.$Kp){this.$Kp=a;this.set_SavedQueryVisualizationId(a);this.$Cf()}return a},get_VisualizationEntityLogicalName:function(){return this.$sp},set_VisualizationEntityLogicalName:function(a){if(a&&Object.getType(a)===String&&a!==this.$sp)this.$sp=a;return a},get_ActionProvider:function(){return this.$7G},set_ActionProvider:function(a){this.$7G=a;return a},get_GridMetadataId:function(){return this.$zg},set_GridMetadataId:function(a){this.$zg=a;return a},$1M:function(){(this.get_$M().$1U===17||Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$3x().$1uH(this.get_PrimaryModelName()))&&this.$1sm();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.isInstanceOfType(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())&&Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$HG.add_$N8(this.$$d_$22O)},$22O:function(b,a){!a.$D0&&Microsoft.Dynamics.Client.Core.ViewModels.$1j.isInstanceOfType(a.$Ve)&&this.get_$M()===a.$Ve&&!(Microsoft.Dynamics.Client.Core.ViewModels.$18.isInstanceOfType(a.$Ve)&&a.$Ve.$1U===1)&&Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22()&&this.$WI()},$1sm:function(){this.$1VK=this.$$d_$D4;var a=false;if($a.$0.$0(this.refreshCommand))this.refreshCommand=new Microsoft.Dynamics.Client.Core.Commands.$6p(this.$$d_$WI,1024);if(!$a.$0.$0(this.get_$M())&&!$a.$0.$0(this.get_$M().get_ExternalContext())&&!$a.$0.$0(this.get_$M().get_ExternalContext().$s)){if("ChartViewId"in this.get_$M().get_ExternalContext().$s)this.$GG=this.get_$M().get_ExternalContext().$s.ChartViewId;if("ChartVisualizationId"in this.get_$M().get_ExternalContext().$s)this.$Kp=this.get_$M().get_ExternalContext().$s.ChartVisualizationId;if("ChartViewEntityLogicalName"in this.get_$M().get_ExternalContext().$s)this.$SC=this.get_$M().get_ExternalContext().$s.ChartViewEntityLogicalName;if("ChartVisualizationEntityLogicalName"in this.get_$M().get_ExternalContext().$s)this.$sp=this.get_$M().get_ExternalContext().$s.ChartVisualizationEntityLogicalName;if("ListDefinitionId"in this.get_$M().get_ExternalContext().$s)this.$zg=this.get_$M().get_ExternalContext().$s.ListDefinitionId;a=true}if(!this.$4P){this.get_$M().add_$D4(this.$1VK);this.$Cf();a=false;Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);this.set_ActionCommand(new Microsoft.Crm.Client.Core.Commands.ChartCommand(this));this.$Mg=new Microsoft.Crm.Client.Core.Commands.ChartCommand(this);this.$g7=new Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand(this,this.$Mg);this.set_ChartSeriesClickCommand(this.$g7)}a&&this.$Cf()},$WI:function(){this.$Cf();Microsoft.Dynamics.Client.Core.ViewModels.$4S.prototype.$WI.call(this)},$D4:function(){var a=this.get_$M().$Ir(this);if(Microsoft.Dynamics.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(a)){this.get_ActionCommand().set_$1K(true);var b=this.get_$M().$Ir(this);b.set_$Hu(this.get_ActionCommand())}else this.get_ActionCommand().set_$1K(false);Microsoft.Dynamics.Client.Core.Framework.$N.$7D("LoadedInitialUI",0,this.get_$1F())},$2Gb:function(){if($a.$0.$0(this.$CV))return;this.set_IsLoading(false);this.set_Title(this.$CV.$79);this.set_XAxes(this.$CV.$9U);this.set_YAxes(this.$CV.$CJ);this.set_SeriesList(this.$CV.$51);this.set_Legend(this.$CV.$9p);this.set_Colors(this.$CV.$8y);this.set_DisplayMode(this.get_$Yn().$FD);this.set_ErrorInformation(this.$CV.$Cd);this.set_SavedQueryId(this.$GG);this.set_SavedQueryVisualizationId(this.$Kp);this.set_EnableDrilldown(this.$CV.$Tk);var a=this.get_$M().$Ir(this);Microsoft.Dynamics.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(a)&&a.set_Label(this.$CV.$Ho);Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.isInstanceOfType(a)&&a.set_ViewDisplayName(this.$CV.$Ho);Microsoft.Dynamics.Client.Core.Framework.$N.$7D("LoadedInitialData",0,this.get_$1F())},$Cf:function(){if(!$a.$0.$0(this.$7G)){var a=this.$7G.$42();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(a);this.set_IsLoading(true)}},get_$1gE:function(){return"crmcharts"},$9k:function(){if(!$a.$0.$0(this.$L9)){this.$L9.$N();this.$L9=null}if(!$a.$0.$0(this.refreshCommand)){this.refreshCommand.$N();this.refreshCommand=null}Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.isInstanceOfType(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())&&Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$HG.remove_$N8(this.$$d_$22O);this.$Mg.$N();this.$g7.$N();this.$g7=null;this.$Mg=null;this.set_PrimaryModelName(null);this.set_$Yn(null);Microsoft.Dynamics.Client.Core.ViewModels.$20.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$E7=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$E7.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$E7.prototype={$27Q:function(){if(!this.$OS||!this.$OS.get_count())return;this.$31.$9U=this.$1Uq();this.$31.$51=this.$16g(0);this.$31.$CJ=this.$pn()},$1Uq:function(){var a=new Array(1);if(this.$6F.get_$C()<1)return a;var e=this.get_$NA().$2J;a[0]=new Microsoft.Dynamics.Client.Core.Models.$Aj;var c=new Array(this.$6F.get_$C()),d=new Microsoft.Crm.Client.Core.ViewModels.Controls.$8X(e,this.get_$NA());a[0].Title=d.get_$19v();for(var b=0;b<this.$6F.get_$C();b++){var f=this.$6F.$r.get_$2Hy(b);c[b]=d.$E(f)}a[0].Values=c;return a}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Fl=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Fl.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Fl.prototype={$27Q:function(){if(!this.$OS||!this.$OS.get_count())return;this.$31.$9U=this.$1Uq();this.$31.$51=this.$16g(0);this.$31.$CJ=this.$pn()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$AT=function(){this.$$d_$js=Function.createDelegate(this,this.$js);this.$$d_$1rJ=Function.createDelegate(this,this.$1rJ);Microsoft.Crm.Client.Core.ViewModels.Controls.$AT.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$AT.$1Jo=function(a){return a.get_$81()};Microsoft.Crm.Client.Core.ViewModels.Controls.$AT.prototype={$DK:null,get_$3e:function(){if($a.$0.$0(this.$DK))this.$DK=this.get_$M().$9g("ProcessManager");return this.$DK},get_$by:function(){var a=this.get_$3e();return a.get_$Jx()},get_$rK:function(){var a=this.get_$3e();return a.get_$291()},get_$1jR:function(){var a=this.get_Data().toString(),b=this.get_$3e();return b.$1Jc(a)},get_$qg:function(){var a=this.get_$3e();return a.get_SelectedStageId()},set_$qg:function(a){var b=this.get_$3e();b.set_SelectedStageId(a);return a},get_$Ag:function(){return this.get_$3e().get_$Ag()},get_$81:function(){return this.get_$3e().get_$81()},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);this.get_$3e().AddPropertyChangedListener("GlobalActiveStage",this.$$d_$1rJ);this.get_$3e().AddPropertyChangedListener("SelectedStageId",this.$$d_$js)},$9k:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$9k.call(this);this.get_$3e().RemovePropertyChangedListener("GlobalActiveStage",this.$$d_$1rJ);this.get_$3e().RemovePropertyChangedListener("SelectedStageId",this.$$d_$js)},$22B:function(b){var c=this.get_$3e(),a=c.get_$Cz()[b];if($a.$0.$0(a))return false;Xrm.Utility.openEntityForm(b,a.toString());return true},$1rJ:function(){this.$5("GlobalActiveStage")},$js:function(){this.$5("SelectedStageId")},$1tj:function(a){return this.get_$3e().$1Mj(a)},$9m:function(a){return this.get_$3e().$1uc(a)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$6t=function(){this.$$d_$T3=Function.createDelegate(this,this.$T3);this.$$d_$1rP=Function.createDelegate(this,this.$1rP);this.$$d_$1rG=Function.createDelegate(this,this.$1rG);this.$$d_$js=Function.createDelegate(this,this.$js);this.$$d_$1KA=Function.createDelegate(this,this.$1KA);this.$$d_$1S3=Function.createDelegate(this,this.$1S3);this.$$d_$1re=Function.createDelegate(this,this.$1re);Microsoft.Crm.Client.Core.ViewModels.Controls.$6t.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$6t.$1E1=function(a){return a.get_$vo()};Microsoft.Crm.Client.Core.ViewModels.Controls.$6t.$1jq=function(a){return a.get_$wu()};Microsoft.Crm.Client.Core.ViewModels.Controls.$6t.$1vm=function(a){return a.get_$at()};Microsoft.Crm.Client.Core.ViewModels.Controls.$6t.prototype={$NE:null,$Dq:null,get_$vo:function(){return this.$Dq},set_$vo:function(a){if(this.$Dq!==a){this.$Dq=a;this.$5("ControlDescriptor")}return a},$JP:false,get_$at:function(){return this.$JP},set_$at:function(a){if(a===this.$JP)return a;this.$JP=a;this.$5("LoadComplete");return a},$TT:false,get_$wu:function(){return this.$TT},set_$wu:function(a){if(this.$TT!==a){this.$TT=a;this.$5("DeletedProcess")}return a},$U4:null,get_$1Hn:function(){return this.$U4},set_$1Hn:function(a){this.$U4=a;return a},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.PanoramaItemViewModel.prototype.$1M.call(this);this.$NE=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Cr(this);this.set_Visible(!$a.$0.$0(this.get_Data())&&!$a.$5.$1N(this.get_Data().toString()));this.AddPropertyChangedListener("Data",this.$$d_$1re);var a=this.$ED();if($a.$0.$0(a))this.get_$M().add_$D4(this.$$d_$1S3);else this.$kd(a)},$9k:function(){this.$NE=null;var a=this.$ED();if(!$a.$0.$0(a)){a.RemovePropertyChangedListener("ProcessDescriptor",this.$$d_$1KA);a.RemovePropertyChangedListener("SelectedStageId",this.$$d_$js);a.RemovePropertyChangedListener("ErrorMessage",this.$$d_$1rG);a.RemovePropertyChangedListener("LoadComplete",this.$$d_$1rP);a.remove_$T3(this.$$d_$T3)}Microsoft.Dynamics.Client.Core.ViewModels.PanoramaItemViewModel.prototype.$9k.call(this)},get_$1gE:function(){return"proxyprocesscontrol"},$1S3:function(){this.get_$M().remove_$D4(this.$$d_$1S3);var a=this.$ED();this.$kd(a)},$kd:function(a){if(!$a.$0.$0(a.get_$R8())){this.$g2(a);this.$qm(a)}a.AddPropertyChangedListener("ProcessDescriptor",this.$$d_$1KA);a.AddPropertyChangedListener("SelectedStageId",this.$$d_$js);a.AddPropertyChangedListener("ErrorMessage",this.$$d_$1rG);a.AddPropertyChangedListener("LoadComplete",this.$$d_$1rP);a.add_$T3(this.$$d_$T3)},$T3:function(){this.$NE.$uw()},$ED:function(){return this.get_$M().$9g("ProcessManager")},$1re:function(){var a=this.$ED();this.$qm(a)},$js:function(b,c){var a=b;if(!a||c!=="SelectedStageId")return;this.$qm(a);this.$5("SelectedStage")},$1rG:function(b,c){var a=b;if(!a||c!=="ErrorMessage")return;this.set_ErrorMessage(a.get_$6b())},$1rP:function(b,c){var a=b;if(!a||c!=="LoadComplete")return;this.set_$at(a.get_$at())},$1KA:function(b,c){var a=b;if(!a||c!=="ProcessDescriptor")return;this.$g2(a)},$g2:function(b){this.$qm(b);var a=b.get_$R8();if($a.$0.$0(a)||$a.$0.$0(a.ChildViewModels)){if($a.$0.$0(b.get_ProcessId())){this.set_Enabled(false);this.set_Visible(false)}else{this.set_Visible(true);this.set_$wu(true)}return}this.set_Visible(true);this.set_$wu(false);this.$ka(a)},$ka:function(a){a.PrimaryModelName=this.get_PrimaryModelName();this.$NE.$ka(a)},$qm:function(b){var a=b.get_$1W2();!$a.$0.$0(a)&&this.set_Label(a.get_$1Xh())}};Microsoft.Crm.Client.Core.ViewModels.Controls.$AW=function(){this.$$d_$T3=Function.createDelegate(this,this.$T3);this.$$d_$1KA=Function.createDelegate(this,this.$1KA);this.$$d_$1S3=Function.createDelegate(this,this.$1S3);Microsoft.Crm.Client.Core.ViewModels.Controls.$AW.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$AW.$1E1=function(a){return a.get_$vo()};Microsoft.Crm.Client.Core.ViewModels.Controls.$AW.prototype={$NE:null,$Dq:null,get_$vo:function(){return this.$Dq},set_$vo:function(a){if(this.$Dq!==a){this.$Dq=a;this.$5("ControlDescriptor")}return a},$U4:null,get_$1Hn:function(){return this.$U4},set_$1Hn:function(a){this.$U4=a;return a},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);this.$NE=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Cr(this);this.set_Visible(!$a.$0.$0(this.get_Data())&&!$a.$5.$1N(this.get_Data().toString()));var a=this.$ED();if($a.$0.$0(a))this.get_$M().add_$D4(this.$$d_$1S3);else this.$kd(a)},$9k:function(){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this);this.$NE=null;var a=this.$ED();if(!$a.$0.$0(a)){a.RemovePropertyChangedListener("ProcessObjectModel",this.$$d_$1KA);a.remove_$T3(this.$$d_$T3)}},$1S3:function(){this.get_$M().remove_$D4(this.$$d_$1S3);var a=this.$ED();this.$kd(a)},$kd:function(a){!$a.$0.$0(a.get_$Jx())&&this.$g2(a);a.AddPropertyChangedListener("ProcessObjectModel",this.$$d_$1KA);a.add_$T3(this.$$d_$T3)},$ED:function(){return this.get_$M().$9g("ProcessManager")},$1KA:function(b,c){var a=b;if(!a||c!=="ProcessObjectModel")return;this.$g2(a)},$g2:function(a){if($a.$0.$0(a.get_$Jx())||!a.get_$Jx().steps.get_$C()){this.set_Enabled(false);this.set_Visible(false);return}this.set_Visible(true);this.$ka()},$T3:function(){this.$NE.$uw()},$ka:function(){var a=this.$1o3();this.$NE.$ka(a)},$1o3:function(){return new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ProcessHeader","ProcessHeader","ProcessHeader",[new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.ReferencePropertyDescriptor("Data","stageid")],{CssClass:"processHeader"},null,this.get_PrimaryModelName())}};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel=function(){this.$$d_$48=Function.createDelegate(this,this.$48);this.$$d_$4y=Function.createDelegate(this,this.$4y);this.$$d_$1Nk=Function.createDelegate(this,this.$1Nk);this.$$d_$Cf=Function.createDelegate(this,this.$Cf);this.$$d_$WI=Function.createDelegate(this,this.$WI);this.$$d_$Fo=Function.createDelegate(this,this.$Fo);this.$C1="";Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$$cctor=function(){Microsoft.Dynamics.Client.Core.ViewModels.$J.get_$4().$32("SearchBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$2CJ)};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$12A=function(a){return a.get_$61()};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$aX=function(a){return a.get_IsLoading()};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$2CJ=function(){var a=new Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel;a.$C0=Microsoft.Crm.Client.Core.Commands.SearchCommand.$2P(a,null);return a};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.prototype={$KI:null,$qZ:null,$NY:null,$iq:null,$rP:null,$C0:null,refreshCommand:null,$Na:null,$17C:null,$oF:null,$iK:null,$17w:false,$H2:null,$84:null,$lp:null,$12h:null,$as:null,$7G:null,$VM:null,$qX:null,$83:false,$1GC:false,get_ActionProvider:function(){return this.$7G},set_ActionProvider:function(a){this.$7G=a;return a},get_MetadataActionProvider:function(){return this.$VM},set_MetadataActionProvider:function(a){this.$VM=a;return a},get_SearchText:function(){return this.$KI},set_SearchText:function(a){if(this.$KI===a)return a;this.$KI=a;this.$5("SearchText");return a},get_EntityNames:function(){return!$a.$0.$0(this.get_SelectedItem())&&!$a.$5.$1N(this.get_SelectedItem())&&this.get_SelectedItem()!=="none"?[this.get_SelectedItem()]:this.$84},get_SearchButtonToolTip:function(){return this.$NY},set_SearchButtonToolTip:function(a){if(this.$NY!==a)this.$NY=a;return a},get_SearchCommand:function(){return this.$C0},set_SearchCommand:function(a){this.$C0=a;return a},get_SearchWithLabel:function(){return this.$qZ},set_SearchWithLabel:function(a){this.$qZ=a;return a},get_FilterWithLabel:function(){return this.$iq},set_FilterWithLabel:function(a){this.$iq=a;return a},get_StartLabel:function(){return this.$rP},set_StartLabel:function(a){this.$rP=a;return a},get_ItemLabels:function(){return this.$H2},set_ItemLabels:function(a){this.$H2=a;return a},get_ItemValues:function(){return this.$84},set_ItemValues:function(a){this.$84=a;return a},get_ListDisplayNames:function(){return this.$lp},set_ListDisplayNames:function(a){this.$lp=a;return a},get_ListUniqueNames:function(){return this.$12h},set_ListUniqueNames:function(a){this.$12h=a;return a},get_$61:function(){if($a.$0.$0(this.$84)||$a.$0.$0(this.$H2)||this.$84.length!==this.$H2.length)return null;var b=new Array(this.$84.length+1);b[0]=new Microsoft.Dynamics.Client.Core.ViewModels.$3S("none",this.$NY=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Search_FilterOption_None"));for(var a=0;a<this.$84.length;a++)b[a+1]=new Microsoft.Dynamics.Client.Core.ViewModels.$3S(this.$84[a],this.$H2[a]);return b},get_SelectedItem:function(){return this.$C1},set_SelectedItem:function(a){this.$C1=a;this.$5("SelectedItem");return a},get_IsLoading:function(){return this.$83},set_IsLoading:function(a){if(this.$83!==a){this.$83=a;this.$5("IsLoading")}return a},get_SearchSummaryPaneViewModel:function(){if($a.$0.$0(this.$Na))this.$Na=this.get_$M().$9g("searchSummaryPane");return this.$Na},get_SearchSummaryViewModel:function(){if($a.$0.$0(this.$17C))this.$17C=this.get_$M().$9g("SearchSummary");return this.$17C},get_EntityListViewModels:function(){if($a.$0.$0(this.$iK)){this.$iK=new($a.List.$$(Microsoft.Dynamics.Client.Core.ViewModels.PanoramaItemViewModel));var b=this.get_PanoramaContainer().$p;for(var c in b){var d={key:c,value:b[c]},a=d.value;!("searchSummaryPane"in a.$p)&&!("searchProgressImagePane"in a.$p)&&this.$iK.add(a)}}return this.$iK},get_PanoramaContainer:function(){if($a.$0.$0(this.$oF)){this.$oF=this.get_$M().$9g("PaneContainer");this.$oF.set_Width("100%")}return this.$oF},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);this.$qZ=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Search_SearchWith_Label");this.$rP=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Search_Start_Label");this.$iq=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Search_FilterWith_Label");this.$NY=Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Search_SearchButton_Tooltip");this.$C0=Microsoft.Crm.Client.Core.Commands.SearchCommand.$2P(this,null);this.$C1="none";if(!$a.$0.$0(this.get_$M().get_ExternalContext())&&!$a.$0.$0(this.get_$M().get_ExternalContext().$s)){if("SearchEntity"in this.get_$M().get_ExternalContext().$s)this.$C1=this.get_$M().get_ExternalContext().$s.SearchEntity;"SearchText"in this.get_$M().get_ExternalContext().$s&&this.set_SearchText(this.get_$M().get_ExternalContext().$s.SearchText)}Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$Fo);this.refreshCommand=new Microsoft.Dynamics.Client.Core.Commands.$6p(this.$$d_$WI,144);this.$1e9()},$1e9:function(){if($a.$0.$0(this.$84)||this.$84.length<1)return;var a=this.$VM.$42();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2U().$38(a)},$Fo:function(){this.$C0.set_$1K(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$22());this.set_Enabled(this.$C0.get_$1K());this.$Cf()},$4y:function(a){this.$2Gf(a);this.$2EC()},$1Nk:function(g){var d={};this.$1GC=true;for(var c=0;c<g.length;c++){var f=g[c];if(Microsoft.Crm.Client.Core.Storage.DataApi.$7.$9.get_$c().$Pc(f,2))d[f.$1Q]=1}for(var b=new($a.List.$$(String)),e=new($a.List.$$(String)),a=0;a<this.$84.length;a++)if(this.$84[a]in d){b.add(this.$84[a]);e.add(this.$H2[a])}if(b.get_count()!==this.$84.length){this.$84=b.toArray();this.$H2=e.toArray();this.$5("ItemsList")}if(!$a.$0.$0(this.get_$M().get_ExternalContext())&&!$a.$0.$0(this.get_$M().get_ExternalContext().$s)){if("SearchEntity"in this.get_$M().get_ExternalContext().$s)this.$C1=this.get_$M().get_ExternalContext().$s.SearchEntity;if("SearchText"in this.get_$M().get_ExternalContext().$s){this.$KI=this.get_$M().get_ExternalContext().$s.SearchText;window.setTimeout(this.$$d_$Cf,500)}}},$48:function(){this.$C4()},$WI:function(){this.$Cf();Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$WI.call(this);$a.UserAgent.getInstance().$21&&!$a.$0.$0(Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$K8)&&Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$K8.$R()},$Cf:function(){!$a.$5.$1N(this.get_SearchText())&&this.$C0.get_$1K()&&this.$C0.$R()},$2Gf:function(l){var e=new Microsoft.Dynamics.Client.Core.Framework.$1W("SearchBoxViewModel:UpdateDataModel");try{e.$1G();this.$17w=false;this.$qX=new Microsoft.Crm.Client.Core.Models.$GV(0);if($a.$0.$0(this.$as)){this.$as={};for(var c=0;c<this.$lp.length;c++)this.$as[this.$12h[c]]=this.$lp[c]}for(var f=0;f<l.$1s.get_count();f++){var b=l.$1s.get_$2Hy(f),j=b.$10,g=j+"pane";if(!(g in this.get_PanoramaContainer().$p))continue;var d=this.get_PanoramaContainer().$p[g];d.$Ld=true;var h=b.$10+"List";if(b.$m||!b.$o.get_count())this.$17w=true;var k=new Microsoft.Crm.Client.Core.Models.$BX(b.$10,b.$m,b.$o.get_count());k.$1n=this.$as[h];this.$qX.$NZ.add(k);if(!b.$o.get_entities().length){this.get_PanoramaContainer().$p[g].set_Visible(false);continue}var a=d.$p[h];if(a.get_PrimaryModelName()!==j){d.set_Visible(false);continue}a.set_$1T(this.$as[h]);try{a.set_IsLoading(true);a.$K7();a.set_PageSize(100);var i=Microsoft.Crm.Client.Core.Models.$1A.$B(b.$o);!a.get_$2X()&&a.$fP(i);a.$1e.$JK=i.get_$AL()-1;a.$4y(i);a.set_IsLoading(false);a.get_$SN().set_$1K(false)}catch(m){}a.set_GridEnabled(false);a.$XH=false;d.set_Visible(true);Microsoft.Dynamics.Client.Core.Framework.$N.$7D("LoadedSearchFull")}}finally{e.$1Z();e=null}},$2EC:function(){this.get_SearchSummaryPaneViewModel().set_Visible(this.$17w);this.$Na.$Ld=true;this.get_SearchSummaryViewModel().set_SearchResults(this.$qX);this.get_SearchSummaryViewModel().set_DisplayMode(1);this.get_SearchSummaryPaneViewModel().set_Label(Microsoft.Dynamics.Client.Core.Framework.Common.$9.$S("Search_Summary_Title"));this.set_IsLoading(false)},$2Go:function(a){this.$KI=a},$C4:function(){this.get_SearchSummaryPaneViewModel().set_Visible(true);this.$Na.$Ld=true;this.get_SearchSummaryViewModel().set_SearchResults(this.$qX);this.get_SearchSummaryViewModel().set_DisplayMode(2);this.get_SearchSummaryPaneViewModel().set_Label("");this.set_IsLoading(false)},$2E9:function(){this.$1Kb();this.get_SearchSummaryViewModel().set_DisplayMode(0);this.set_IsLoading(true)},$1Kb:function(){var b=this.get_$M().$9g("FormHeader");!$a.$0.$0(b)&&b.set_PrimaryModelName("");this.get_SearchSummaryPaneViewModel().set_Visible(false);this.set_IsLoading(false);this.get_SearchSummaryViewModel().set_DisplayMode(0);for(var a=0;a<this.get_EntityListViewModels().get_count();a++)this.get_EntityListViewModels().get_$2Hy(a).set_Visible(false)},$9k:function(){if(!$a.$0.$0(this.$Na)){this.$Na.$N();this.$Na=null}if(!$a.$0.$0(this.$C0)){this.$C0.$N();this.$C0=null}if(!$a.$0.$0(this.refreshCommand)){this.refreshCommand.$N();this.refreshCommand=null}Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$Fo);Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$5h=function(){this.$$d_$22A=Function.createDelegate(this,this.$22A);this.$$d_$1S6=Function.createDelegate(this,this.$1S6);this.$$d_$23z=Function.createDelegate(this,this.$23z);Microsoft.Crm.Client.Core.ViewModels.Controls.$5h.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$5h.$1eS=function(a){return a.get_$Sw()};Microsoft.Crm.Client.Core.ViewModels.Controls.$5h.$1eO=function(a){return a.get_$Su()};Microsoft.Crm.Client.Core.ViewModels.Controls.$5h.$1eQ=function(a){return a.get_$Sv()};Microsoft.Crm.Client.Core.ViewModels.Controls.$5h.prototype={$A5:null,get_StageId:function(){return this.$A5},set_StageId:function(a){this.$A5=a;return a},$rH:null,get_$rI:function(){return this.$rH},set_$rI:function(a){!$a.$0.$0(this.$rH)&&this.$rH.$N();this.$rH=a;this.$5("StageActionCommand");return a},$gR:null,get_$vJ:function(){return this.$gR},set_$vJ:function(a){!$a.$0.$0(this.$gR)&&this.$gR.$N();this.$gR=a;return a},$DK:null,get_$3e:function(){if($a.$0.$0(this.$DK))this.$DK=this.get_$M().$9g("ProcessManager");return this.$DK},add_$rL:function(a){this.$5S("StageGateCheck",a)},remove_$rL:function(a){this.$5a("StageGateCheck",a)},$1Xf:false,$YB:false,get_$Sw:function(){return this.$YB},set_$Sw:function(a){if(this.$YB===a)return a;this.$YB=a;this.$5("CanCurrentlyNavigate");return a},$Y9:false,get_$Su:function(){return this.$Y9},set_$Su:function(a){if(this.$Y9===a)return a;this.$Y9=a;this.$5("CanCurrentlyAdvance");return a},$YA:false,get_$Sv:function(){return this.$YA},set_$Sv:function(a){if(this.$YA===a)return a;this.$YA=a;this.$5("CanCurrentlyCloseLoop");return a},get_$Sx:function(){return this.get_$3e().$Sx(this.$A5)},get_$1CY:function(){return this.get_$3e().$1CY(this.$A5)},get_$29m:function(){return this.get_$3e().$yW(this.get_PrimaryModelName())},get_$29l:function(){var a=this.get_$3e().$FN(this.$A5);return a.attributeName},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);this.get_$M().get_$9m()&&this.set_Visible(false);this.$2Dd();this.get_$3e().AddPropertyChangedListener("GlobalActiveStage",this.$$d_$23z);this.$vb();Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$1S6)},$9k:function(){Microsoft.Dynamics.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$1S6);this.get_$3e().RemovePropertyChangedListener("GlobalActiveStage",this.$$d_$23z);this.set_$vJ(null);this.set_$rI(null);this.$DK=null;Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$9k.call(this)},$1S6:function(){this.$vb()},$23z:function(){this.$vb()},$vb:function(){var a=$a.$0.$0(this.get_$3e().get_$Ag())||$a.$5.$1N(this.get_$3e().get_$Ag().toString());this.set_$Sw(!a&&this.get_$3e().$Sw(this.$A5));this.set_$Su(!a&&this.get_$3e().$Su(this.$A5));this.set_$Sv(!a&&this.get_$3e().$Sv(this.$A5))},$1eF:function(){this.$a0("StageGateCheck",this,null);return this.$1Xf},$2Dd:function(){var a={};a.StageViewModel=this;var b=this;a.SuccessCommand=new $a.$1H(function(){if(!b.get_Enabled()||b.get_$M().get_$9m())return;b.$1bW()},26);this.set_$rI(new Microsoft.Crm.Client.Core.ViewModels.Commands.$8D(a));a.SuccessCommand=new $a.$1H(this.$$d_$22A,26);this.set_$vJ(new Microsoft.Crm.Client.Core.ViewModels.Commands.$8D(a))},$1bW:function(){var a=this.get_$3e().$PU(this.get_$3e().get_$Ag().toString());if(!a)return;var d=this.get_Data();this.get_$3e().$GU=null;this.set_Data(new Microsoft.Dynamics.Client.Core.Framework.Guid(a.id));var b=this,c=this;this.get_$M().$Kl(70).then(function(c){c&&b.get_$3e().set_$81(a.id)},function(){c.set_Data(d)})},$22A:function(){var a=this.get_$3e().$yW(this.get_PrimaryModelName());if($a.$5.$L(a))return;var b=this.get_$3e().get_$Cz()[a],e=this,c=new Microsoft.Dynamics.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("ChangeProcessControlCommand","CloseLoopCommand",{TargetViewModel:this,EntityId:b,EntityLogicalName:a,ProcessControlId:new Microsoft.Dynamics.Client.Core.Framework.Guid(this.get_$3e().get_$lu()),NewStageId:new Microsoft.Dynamics.Client.Core.Framework.Guid(this.get_$3e().get_$1nX().id),SuccesCallback:function(){Xrm.Utility.openEntityForm(a,b.toString())}}),d=Microsoft.Dynamics.Client.Core.ViewModels.CommandFactory.$2P(this,c);d.$R()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ab=function(){this.$$d_$265=Function.createDelegate(this,this.$265);this.$$d_$D3=Function.createDelegate(this,this.$D3);this.$$d_$1r4=Function.createDelegate(this,this.$1r4);this.$$d_$js=Function.createDelegate(this,this.$js);Microsoft.Crm.Client.Core.ViewModels.Controls.$Ab.initializeBase(this);this.$lA=true};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ab.$2EA=function(a){return a.get_$3l()};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ab.prototype={$8U:false,$dF:null,$1Xg:null,get_$Ag:function(){var a=this.$ED();return $a.$0.$0(a)?this.get_Data():a.get_$Ag()},$p6:null,$A5:null,get_StageId:function(){return this.$A5},set_StageId:function(a){this.$A5=a;return a},$d5:false,get_$3l:function(){return this.$d5},set_$3l:function(a){this.$d5=a;this.$5("ShowName");return a},$1M:function(){Microsoft.Dynamics.Client.Core.ViewModels.$b.prototype.$1M.call(this);var a=this.$ED();a.AddPropertyChangedListener("SelectedStageId",this.$$d_$js);a.AddPropertyChangedListener("CalculatedStageId",this.$$d_$1r4);this.AddPropertyChangedListener("Data",this.$$d_$D3);this.$1Xg=this.$F;this.$dF=a.$Zw(this.$A5);this.$8U=this.$kp();this.$17g();!$a.$0.$0(this.get_$J())&&this.$17U()},$9k:function(){var b=this.$ED();!$a.$0.$0(b)&&b.RemovePropertyChangedListener("SelectedStageId",this.$$d_$js);var a=this.$zY();!$a.$0.$0(a)&&Microsoft.Crm.Client.Core.ViewModels.Controls.$5h.isInstanceOfType(a)&&a.remove_$rL(this.$$d_$265);Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$9k.call(this)},$CK:function(b,a){Microsoft.Dynamics.Client.Core.ViewModels.$1j.prototype.$CK.call(this,b,a);if(Microsoft.Crm.Client.Core.ViewModels.Controls.$5h.isInstanceOfType(a))this.$2Db(a);else Microsoft.Crm.Client.Core.ViewModels.Controls.$6r.isInstanceOfType(a)&&this.$2Dh(a)},$2Db:function(a){a.set_Visible(this.$1Ll());a.add_$rL(this.$$d_$265)},$265:function(){var a=this.$zY();if(!$a.$0.$0(a))a.$1Xf=this.$rO()},$2Dh:function(a){this.$p6=a},$rO:function(){return!$a.$0.$0(this.$p6)&&this.$p6.$rO()},$js:function(){this.$17g()},$1r4:function(){this.$8U=this.$kp();this.$17U()},$D3:function(){this.$17g();this.$8U=this.$kp();this.$17U()},$17U:function(){var a=this.$zY();if($a.$0.$0(a))return;a.set_Visible(this.$1Ll())},$17g:function(){if($a.$0.$0(this.get_$Ag())){this.set_$3l(false);return}this.set_$3l(this.$1Mf())},$kp:function(){return $a.$0.$0(this.$dF)||$a.$0.$0(this.get_$Ag())?false:this.get_$Ag().toString().toLowerCase()===this.$dF.id},$1Mf:function(){var b=this.$ED(),a=b.get_$1W2();return $a.$0.$0(a)||$a.$0.$0(this.$dF)?false:this.$dF.id===a.id},$zY:function(){if(!$a.$0.$0(this.get_$J())){var a=Microsoft.Dynamics.Client.Core.Models.Descriptors.$V.$1pr(this.get_$J().get_$5l(),this.$1Xg);return this.$p[a]}else return null},$1Ll:function(){var a=this.$ED();return $a.$0.$0(a.get_$Jx())?false:!this.$8U||$a.$0.$0(this.get_$Ag())||this.get_$M().get_$9m()?false:true},$ED:function(){return this.get_$M().$9g("ProcessManager")}};Mscrm.EntityReference.registerClass("Mscrm.EntityReference");Mscrm.$G6.registerClass("Mscrm.$G6");Mscrm.CrmUri.registerClass("Mscrm.CrmUri");Microsoft.Dynamics.Client.Core.Models.$9R.registerClass("Microsoft.Dynamics.Client.Core.Models.$9R");Xrm.DialogOptions.registerClass("Xrm.DialogOptions");Xrm.NotificationLevels.registerClass("Xrm.NotificationLevels");Xrm.RequiredLevel.registerClass("Xrm.RequiredLevel");Xrm.Internal.registerClass("Xrm.Internal");Xrm.DateTimeUtility.registerClass("Xrm.DateTimeUtility");Xrm.XrmSdkMessages.registerClass("Xrm.XrmSdkMessages");Xrm.$2L.registerClass("Xrm.$2L",$a.$9p);Xrm.Utility.registerClass("Xrm.Utility");Mscrm.InternalUtilities.GridUtilities.registerClass("Mscrm.InternalUtilities.GridUtilities");Mscrm.InternalUtilities.Utilities.registerClass("Mscrm.InternalUtilities.Utilities");Mscrm.InternalUtilities._Script.registerClass("Mscrm.InternalUtilities._Script");Microsoft.Crm.Client.Core.ViewModels.$5Z.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5Z");Microsoft.Crm.Client.Core.ViewModels.LookupControlItem.registerClass("Microsoft.Crm.Client.Core.ViewModels.LookupControlItem");Microsoft.Crm.Client.Core.ViewModels.$73.registerClass("Microsoft.Crm.Client.Core.ViewModels.$73",null,Microsoft.Crm.Client.Core.ViewModels.$Bk);Microsoft.Crm.Client.Core.ViewModels.$Aw.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Aw",Microsoft.Crm.Client.Core.ViewModels.$73);Microsoft.Crm.Client.Core.ViewModels.$2a.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2a");Microsoft.Crm.Client.Core.ViewModels.$5m.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5m");Microsoft.Crm.Client.Core.ViewModels.$BI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$BI",Microsoft.Crm.Client.Core.ViewModels.$73);Microsoft.Crm.Client.Core.ViewModels.FormNotificationMessageType.registerClass("Microsoft.Crm.Client.Core.ViewModels.FormNotificationMessageType");Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApiManager",null,Microsoft.Dynamics.Client.Core.ViewModels.$Bi);Microsoft.Crm.Client.Core.ViewModels.$69.registerClass("Microsoft.Crm.Client.Core.ViewModels.$69",null,Microsoft.Crm.Client.Core.ViewModels.$Bk);Microsoft.Crm.Client.Core.ViewModels.$Bc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bc",null,Microsoft.Dynamics.Client.Core.ViewModels.$Ih);Microsoft.Crm.Client.Core.ViewModels.$4m.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4m",null,Microsoft.Dynamics.Client.Core.Models.$Iq);Microsoft.Crm.Client.Core.ViewModels.$BJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$BJ",Microsoft.Crm.Client.Core.ViewModels.$69);Microsoft.Crm.Client.Core.ViewModels.$EP.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EP",null,Microsoft.Crm.Client.Core.ViewModels.$Bk);Microsoft.Crm.Client.Core.ViewModels.$4F.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4F",$a.$9p);Microsoft.Crm.Client.Core.ViewModels.$4O.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4O",null,Microsoft.Dynamics.Client.Core.Models.$Il);Microsoft.Crm.Client.Core.ViewModels.$3N.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3N",null,Microsoft.Crm.Client.Core.ViewModels.$Bk);Microsoft.Crm.Client.Core.ViewModels.$CG.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CG",Microsoft.Crm.Client.Core.ViewModels.$73);Microsoft.Crm.Client.Core.ViewModels.$80.registerClass("Microsoft.Crm.Client.Core.ViewModels.$80",Microsoft.Crm.Client.Core.ViewModels.$69);Microsoft.Crm.Client.Core.ViewModels.$Cd.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cd",Microsoft.Crm.Client.Core.ViewModels.$73);Microsoft.Crm.Client.Core.ViewModels.$Ce.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ce",Microsoft.Crm.Client.Core.ViewModels.$73);Microsoft.Crm.Client.Core.ViewModels.$Cf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cf",Microsoft.Crm.Client.Core.ViewModels.$69);Microsoft.Crm.Client.Core.ViewModels.OptionSetItemWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.OptionSetItemWrapper");Microsoft.Crm.Client.Core.ViewModels.$Cj.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cj",Microsoft.Crm.Client.Core.ViewModels.$CG);Microsoft.Crm.Client.Core.ViewModels.$3z.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3z",Microsoft.Crm.Client.Core.ViewModels.$EP);Microsoft.Crm.Client.Core.ViewModels.$3a.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3a",Microsoft.Crm.Client.Core.ViewModels.$EP);Microsoft.Crm.Client.Core.ViewModels.$DK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DK",Microsoft.Crm.Client.Core.ViewModels.$73);Microsoft.Crm.Client.Core.ViewModels.$4R.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4R");Microsoft.Crm.Client.Core.ViewModels.$Am.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Am");Microsoft.Crm.Client.Core.ViewModels.$2v.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2v",$a.$9p);Microsoft.Crm.Client.Core.ViewModels.$1h.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1h",$a.$9p);Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper",null,Mscrm.IGridControl);Microsoft.Crm.Client.Core.ViewModels.$1D.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1D",null,Microsoft.Dynamics.Client.Core.ViewModels.$C9);Microsoft.Crm.Client.Core.ViewModels.$9O.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9O",Microsoft.Dynamics.Client.Core.ViewModels.$BR,Microsoft.Dynamics.Client.Core.ViewModels.$Ej);Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel",Microsoft.Dynamics.Client.Core.ViewModels.$35);Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$HH.registerClass("Microsoft.Crm.Client.Core.ViewModels.$HH",Microsoft.Dynamics.Client.Core.ViewModels.$36,Microsoft.Dynamics.Client.Core.ViewModels.$F7);Microsoft.Crm.Client.Core.ViewModels.$EQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EQ",Microsoft.Crm.Client.Core.ViewModels.$HH,Microsoft.Dynamics.Client.Core.ViewModels.$4Y,Microsoft.Dynamics.Client.Core.ViewModels.$3i,$a.$FC);Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel",Microsoft.Dynamics.Client.Core.ViewModels.$1j,Microsoft.Dynamics.Client.Core.ViewModels.$4Y,Microsoft.Dynamics.Client.Core.ViewModels.$3i,$a.$FC);Microsoft.Crm.Client.Core.ViewModels.$9b.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9b",Microsoft.Dynamics.Client.Core.ViewModels.$1j);Microsoft.Crm.Client.Core.ViewModels.$G5.registerClass("Microsoft.Crm.Client.Core.ViewModels.$G5",Microsoft.Crm.Client.Core.ViewModels.$HH,Microsoft.Dynamics.Client.Core.ViewModels.$4Y,Microsoft.Dynamics.Client.Core.ViewModels.$3i,$a.$FC);Microsoft.Crm.Client.Core.ViewModels.$57.registerClass("Microsoft.Crm.Client.Core.ViewModels.$57",Microsoft.Dynamics.Client.Core.ViewModels.$6S,Microsoft.Dynamics.Client.Core.ViewModels.$6i,Microsoft.Dynamics.Client.Core.ViewModels.$3i,$a.$FC);Microsoft.Crm.Client.Core.ViewModels.$CS.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CS",Microsoft.Crm.Client.Core.ViewModels.$57);Microsoft.Crm.Client.Core.ViewModels.$CH.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CH",Microsoft.Dynamics.Client.Core.ViewModels.$1j);Microsoft.Crm.Client.Core.ViewModels.$6k.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6k",Microsoft.Dynamics.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel",Microsoft.Dynamics.Client.Core.ViewModels.$b);Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$CS);Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel",Microsoft.Dynamics.Client.Core.ViewModels.$1j);Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel",Microsoft.Dynamics.Client.Core.ViewModels.$1j);Microsoft.Crm.Client.Core.ViewModels.$3C.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3C",Microsoft.Dynamics.Client.Core.ViewModels.$1j,Microsoft.Dynamics.Client.Core.ViewModels.$6i,Microsoft.Dynamics.Client.Core.ViewModels.$3i,$a.$FC,Microsoft.Dynamics.Client.Core.ViewModels.$4Y,Microsoft.Dynamics.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel",Microsoft.Dynamics.Client.Core.ViewModels.$3A);Microsoft.Crm.Client.Core.ViewModels.$BV.registerClass("Microsoft.Crm.Client.Core.ViewModels.$BV",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$ES.registerClass("Microsoft.Crm.Client.Core.ViewModels.$ES",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$9a.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9a",Microsoft.Dynamics.Client.Core.ViewModels.$BR);Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel",Microsoft.Dynamics.Client.Core.ViewModels.$4g);Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel",Microsoft.Dynamics.Client.Core.ViewModels.ListComponentViewModel);Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel",Microsoft.Dynamics.Client.Core.ViewModels.$1j);Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel",Microsoft.Dynamics.Client.Core.ViewModels.$18,Microsoft.Dynamics.Client.Core.ViewModels.$Bj,Microsoft.Dynamics.Client.Core.ViewModels.$A5);Microsoft.Crm.Client.Core.ViewModels.$HA.registerClass("Microsoft.Crm.Client.Core.ViewModels.$HA",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$Dz.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dz");Microsoft.Crm.Client.Core.ViewModels.$EH.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EH");Microsoft.Crm.Client.Core.ViewModels.$2F.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2F");Microsoft.Crm.Client.Core.ViewModels.$1w.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1w");Microsoft.Crm.Client.Core.ViewModels.$FQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$FQ",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.registerClass("Microsoft.Crm.Client.Core.ViewModels.PerformanceReport");Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w.registerClass("Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w");Microsoft.Crm.Client.Core.ViewModels.$65.registerClass("Microsoft.Crm.Client.Core.ViewModels.$65",Microsoft.Dynamics.Client.Core.ViewModels.$6L);Microsoft.Crm.Client.Core.ViewModels.$2H.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2H");Microsoft.Crm.Client.Core.ViewModels.$3Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3Q");Microsoft.Crm.Client.Core.ViewModels.Commands.$8U.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$8U",$a.$2b);Microsoft.Crm.Client.Core.ViewModels.Commands.$8D.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$8D",$a.$2b);Microsoft.Crm.Client.Core.ViewModels.Commands.$8e.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$8e",$a.$2b);Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.$8W.registerClass("Microsoft.Crm.Client.Core.Commands.$8W",$a.$2b);Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChangeViewCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChangeChartCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ReconfigureCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.CreateFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CreateFormCommand",$a.$2b,Microsoft.Dynamics.Client.Core.Commands.$Hi);Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand",$a.$2b,Microsoft.Dynamics.Client.Core.Commands.$Hi);Microsoft.Crm.Client.Core.Commands.SignOutCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SignOutCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.$h.registerClass("Microsoft.Crm.Client.Core.Commands.$h");Microsoft.Crm.Client.Core.Commands.SearchCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SearchCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand",Microsoft.Dynamics.Client.Core.Commands.ChartSeriesClickCommand);Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand",Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand);Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand",Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand);Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ResizeTileCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.ChartCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChartCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.PinCommand.registerClass("Microsoft.Crm.Client.Core.Commands.PinCommand",$a.$2b);Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator.registerClass("Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommandDecorator",Microsoft.Dynamics.Client.Core.Commands.UrlLauncherCommand);Microsoft.Crm.Client.Core.Commands.WebResourceCommand.registerClass("Microsoft.Crm.Client.Core.Commands.WebResourceCommand",$a.$2b);Microsoft.Crm.Client.Core.ViewModels.Controls.$6W.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$6W",$a.$9p);Microsoft.Crm.Client.Core.ViewModels.Controls.$8X.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$8X");Microsoft.Crm.Client.Core.ViewModels.Controls.$B1.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$B1");Microsoft.Crm.Client.Core.ViewModels.Controls.$B2.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$B2");Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$2I");Microsoft.Crm.Client.Core.ViewModels.Controls.$67.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$67");Microsoft.Crm.Client.Core.ViewModels.Controls.$Cr.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Cr");Microsoft.Crm.Client.Core.ViewModels.Controls.$AS.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$AS",Microsoft.Dynamics.Client.Core.ViewModels.$b);Microsoft.Crm.Client.Core.ViewModels.Controls.$GF.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$GF",Microsoft.Dynamics.Client.Core.ViewModels.$1j,Microsoft.Dynamics.Client.Core.ViewModels.$Bj);Microsoft.Crm.Client.Core.ViewModels.Controls.$AU.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$AU",Microsoft.Dynamics.Client.Core.ViewModels.$1j);Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager",Microsoft.Dynamics.Client.Core.ViewModels.$b);Microsoft.Crm.Client.Core.ViewModels.Controls.$6r.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$6r",Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.$7X.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$7X",Microsoft.Dynamics.Client.Core.ViewModels.$b);Microsoft.Crm.Client.Core.ViewModels.Controls.$B8.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$B8",Microsoft.Crm.Client.Core.ViewModels.Controls.$B1);Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel",Microsoft.Dynamics.Client.Core.ViewModels.$b);Microsoft.Crm.Client.Core.ViewModels.Controls.$Co.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Co");Microsoft.Crm.Client.Core.ViewModels.Controls.$Cp.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Cp");Microsoft.Crm.Client.Core.ViewModels.Controls.$7k.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$7k",Microsoft.Dynamics.Client.Core.ViewModels.$20,Microsoft.Dynamics.Client.Core.ViewModels.$Eq);Microsoft.Crm.Client.Core.ViewModels.Controls.$E7.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$E7",Microsoft.Crm.Client.Core.ViewModels.Controls.$B1);Microsoft.Crm.Client.Core.ViewModels.Controls.$Fl.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Fl",Microsoft.Crm.Client.Core.ViewModels.Controls.$B1);Microsoft.Crm.Client.Core.ViewModels.Controls.$AT.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$AT",Microsoft.Dynamics.Client.Core.ViewModels.$b);Microsoft.Crm.Client.Core.ViewModels.Controls.$6t.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$6t",Microsoft.Dynamics.Client.Core.ViewModels.PanoramaItemViewModel,Microsoft.Dynamics.Client.Core.ViewModels.$Eq,Microsoft.Crm.Client.Core.ViewModels.Controls.$Ig);Microsoft.Crm.Client.Core.ViewModels.Controls.$AW.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$AW",Microsoft.Dynamics.Client.Core.ViewModels.$1j,Microsoft.Crm.Client.Core.ViewModels.Controls.$Ig);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel",Microsoft.Dynamics.Client.Core.ViewModels.$1j);Microsoft.Crm.Client.Core.ViewModels.Controls.$5h.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$5h",Microsoft.Dynamics.Client.Core.ViewModels.$b);Microsoft.Crm.Client.Core.ViewModels.Controls.$Ab.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Ab",Microsoft.Dynamics.Client.Core.ViewModels.$1j);Xrm.NotificationLevels.error="ERROR";Xrm.NotificationLevels.warning="WARNING";Xrm.NotificationLevels.information="INFO";Xrm.RequiredLevel.none="none";Xrm.RequiredLevel.recommended="recommended";Xrm.RequiredLevel.required="required";Xrm.Internal.messages=new Xrm.XrmSdkMessages;Xrm.Internal.$iN={campaign:4400,bulkoperation:4406};Xrm.DateTimeUtility.$z1=["\uff41","\uff4d","\uff50","\uff21","\uff2d","\uff30","\u2019","\u3000","\uff1a","\u3001","\uff0c","\uff0d","\u30fc","\u2015","\u2010","\uff0e","\u3002","\uff0f","\uff10","\uff11","\uff12","\uff13","\uff14","\uff15","\uff16","\uff17","\uff18","\uff19"];Xrm.DateTimeUtility.$1K2=["a","m","p","A","M","P","'"," ",":",",",",","-","-","-","-",".",".","/","0","1","2","3","4","5","6","7","8","9"];Microsoft.Crm.Client.Core.ViewModels.FormNotificationMessageType.Info="INFO";Microsoft.Crm.Client.Core.ViewModels.FormNotificationMessageType.Warning="WARNING";Microsoft.Crm.Client.Core.ViewModels.FormNotificationMessageType.Error="ERROR";Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$9=null;Microsoft.Crm.Client.Core.ViewModels.$1D.$9=null;Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$3C.$hX="DataBindingValidatorResult";Microsoft.Crm.Client.Core.ViewModels.$3C.$VD="ManualValidatorResult";Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$2F.$m9=null;Microsoft.Crm.Client.Core.ViewModels.$2F.$18q=15001;Microsoft.Crm.Client.Core.ViewModels.$1w.$Xt=null;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$12O=0;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$fz=20;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$g0=4;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$Bo=[];Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w.$1FJ="10px Verdana";Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w.$1FK="black";Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$9w.$1FL=6;Microsoft.Crm.Client.Core.ViewModels.$2H.$7=null;Microsoft.Crm.Client.Core.ViewModels.Commands.$8U.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$8D.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$8e.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$8W.$$cctor();Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SignOutCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SearchCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.PinCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$2I.$mt=null;Microsoft.Crm.Client.Core.ViewModels.Controls.$7X.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$7k.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$$cctor()