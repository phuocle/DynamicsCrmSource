


--
-- base view for Product
--
create view dbo.[Product]
 (
    -- logical attributes
    [EntityImage_Timestamp],
    [EntityImage_URL],
    [EntityImage],
    [OrganizationIdName],
    [DefaultUoMIdName],
    [CreatedOnBehalfByName],
    [CreatedOnBehalfByYomiName],
    [PriceLevelIdName],
    [CreatedByExternalPartyYomiName],
    [CreatedByExternalPartyName],
    [SubjectIdName],
    [ModifiedByExternalPartyYomiName],
    [ModifiedByExternalPartyName],
    [ModifiedOnBehalfByName],
    [ModifiedOnBehalfByYomiName],
    [DefaultUoMScheduleIdName],
    [CreatedByName],
    [CreatedByYomiName],
    [ModifiedByName],
    [ModifiedByYomiName],
    [ParentProductIdName],
    [TransactionCurrencyIdName],

    -- physical attributes
    [ProductId],
    [CreatedOn],
    [CreatedBy],
    [ModifiedOn],
    [ModifiedBy],
    [CreatedOnBehalfBy],
    [ModifiedOnBehalfBy],
    [OrganizationId],
    [VersionNumber],
    [ImportSequenceNumber],
    [OverriddenCreatedOn],
    [TimeZoneRuleVersionNumber],
    [UTCConversionTimeZoneCode],
    [Name],
    [ProcessId],
    [StageId],
    [TraversedPath],
    [VendorID],
    [ValidFromDate],
    [ValidToDate],
    [CurrentCost],
    [TransactionCurrencyId],
    [ExchangeRate],
    [CurrentCost_Base],
    [DefaultUoMId],
    [DefaultUoMScheduleId],
    [Description],
    [IsKit],
    [IsStockItem],
    [ParentProductId],
    [Price],
    [Price_Base],
    [ProductStructure],
    [ProductNumber],
    [ProductTypeCode],
    [ProductUrl],
    [QuantityDecimal],
    [QuantityOnHand],
    [Size],
    [StandardCost],
    [StandardCost_Base],
    [StateCode],
    [StatusCode],
    [StockVolume],
    [StockWeight],
    [SupplierName],
    [VendorName],
    [VendorPartNumber],
    [HierarchyPath],
    [PriceLevelId],
    [SubjectId],
    [EntityImageId],
    [CreatedByExternalParty],
    [ModifiedByExternalParty],
    [IsReparented]
) with view_metadata as
select
    -- logical attributes
    [lk_product_entityimage].[ImageTimestamp],
    [lk_product_entityimage].[ImageURL],
    [lk_product_entityimage].[ImageData],
    [organization_products].[Name],
    [unit_of_measurement_products].[Name],
    [lk_productbase_createdonbehalfby].[FullName],
    [lk_productbase_createdonbehalfby].[YomiFullName],
    [price_level_products].[Name],
    [lk_externalparty_product_createdby].[YomiFullName],
    [lk_externalparty_product_createdby].[FullName],
    [subject_products].[Title],
    [lk_externalparty_product_modifiedby].[YomiFullName],
    [lk_externalparty_product_modifiedby].[FullName],
    [lk_productbase_modifiedonbehalfby].[FullName],
    [lk_productbase_modifiedonbehalfby].[YomiFullName],
    [unit_of_measurement_schedule_products].[Name],
    [lk_productbase_createdby].[FullName],
    [lk_productbase_createdby].[YomiFullName],
    [lk_productbase_modifiedby].[FullName],
    [lk_productbase_modifiedby].[YomiFullName],
    [product_parent_product].[Name],
    [transactioncurrency_product].[CurrencyName],

    -- physical attribute
    [ProductBase].[ProductId],
    [ProductBase].[CreatedOn],
    [ProductBase].[CreatedBy],
    [ProductBase].[ModifiedOn],
    [ProductBase].[ModifiedBy],
    [ProductBase].[CreatedOnBehalfBy],
    [ProductBase].[ModifiedOnBehalfBy],
    [ProductBase].[OrganizationId],
    [ProductBase].[VersionNumber],
    [ProductBase].[ImportSequenceNumber],
    [ProductBase].[OverriddenCreatedOn],
    [ProductBase].[TimeZoneRuleVersionNumber],
    [ProductBase].[UTCConversionTimeZoneCode],
    [ProductBase].[Name],
    [ProductBase].[ProcessId],
    [ProductBase].[StageId],
    [ProductBase].[TraversedPath],
    [ProductBase].[VendorID],
    [ProductBase].[ValidFromDate],
    [ProductBase].[ValidToDate],
    [ProductBase].[CurrentCost],
    [ProductBase].[TransactionCurrencyId],
    [ProductBase].[ExchangeRate],
    [ProductBase].[CurrentCost_Base],
    [ProductBase].[DefaultUoMId],
    [ProductBase].[DefaultUoMScheduleId],
    [ProductBase].[Description],
    [ProductBase].[IsKit],
    [ProductBase].[IsStockItem],
    [ProductBase].[ParentProductId],
    [ProductBase].[Price],
    [ProductBase].[Price_Base],
    [ProductBase].[ProductStructure],
    [ProductBase].[ProductNumber],
    [ProductBase].[ProductTypeCode],
    [ProductBase].[ProductUrl],
    [ProductBase].[QuantityDecimal],
    [ProductBase].[QuantityOnHand],
    [ProductBase].[Size],
    [ProductBase].[StandardCost],
    [ProductBase].[StandardCost_Base],
    [ProductBase].[StateCode],
    [ProductBase].[StatusCode],
    [ProductBase].[StockVolume],
    [ProductBase].[StockWeight],
    [ProductBase].[SupplierName],
    [ProductBase].[VendorName],
    [ProductBase].[VendorPartNumber],
    [ProductBase].[HierarchyPath],
    [ProductBase].[PriceLevelId],
    [ProductBase].[SubjectId],
    [ProductBase].[EntityImageId],
    [ProductBase].[CreatedByExternalParty],
    [ProductBase].[ModifiedByExternalParty],
    [ProductBase].[IsReparented]
from [ProductBase] 
    left join [ExternalPartyBase] [lk_externalparty_product_createdby] on ([ProductBase].[CreatedByExternalParty] = [lk_externalparty_product_createdby].[ExternalPartyId])
    left join [ExternalPartyBase] [lk_externalparty_product_modifiedby] on ([ProductBase].[ModifiedByExternalParty] = [lk_externalparty_product_modifiedby].[ExternalPartyId])
    left join [ImageDescriptor] [lk_product_entityimage] on ([ProductBase].[EntityImageId] = [lk_product_entityimage].[ImageDescriptorId])
    left join [SystemUserBase] [lk_productbase_createdby] on ([ProductBase].[CreatedBy] = [lk_productbase_createdby].[SystemUserId])
    left join [SystemUserBase] [lk_productbase_createdonbehalfby] on ([ProductBase].[CreatedOnBehalfBy] = [lk_productbase_createdonbehalfby].[SystemUserId])
    left join [SystemUserBase] [lk_productbase_modifiedby] on ([ProductBase].[ModifiedBy] = [lk_productbase_modifiedby].[SystemUserId])
    left join [SystemUserBase] [lk_productbase_modifiedonbehalfby] on ([ProductBase].[ModifiedOnBehalfBy] = [lk_productbase_modifiedonbehalfby].[SystemUserId])
    left join [OrganizationBase] [organization_products] on ([ProductBase].[OrganizationId] = [organization_products].[OrganizationId])
    left join [PriceLevelBase] [price_level_products] on ([ProductBase].[PriceLevelId] = [price_level_products].[PriceLevelId])
    left join [ProductBase] [product_parent_product] on ([ProductBase].[ParentProductId] = [product_parent_product].[ProductId])
    left join [SubjectBase] [subject_products] on ([ProductBase].[SubjectId] = [subject_products].[SubjectId])
    left join [TransactionCurrencyBase] [transactioncurrency_product] on ([ProductBase].[TransactionCurrencyId] = [transactioncurrency_product].[TransactionCurrencyId])
    left join [UoMBase] [unit_of_measurement_products] on ([ProductBase].[DefaultUoMId] = [unit_of_measurement_products].[UoMId])
    left join [UoMScheduleBase] [unit_of_measurement_schedule_products] on ([ProductBase].[DefaultUoMScheduleId] = [unit_of_measurement_schedule_products].[UoMScheduleId])
