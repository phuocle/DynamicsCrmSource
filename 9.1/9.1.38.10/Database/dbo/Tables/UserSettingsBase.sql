CREATE TABLE [dbo].[UserSettingsBase] (
    [TimeZoneDaylightYear]                       SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneDaylightYear] DEFAULT ((0)) NOT NULL,
    [WorkdayStopTime]                            NVARCHAR (5)     NULL,
    [TimeZoneDaylightHour]                       SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneDaylightHour] DEFAULT ((0)) NOT NULL,
    [TrackingTokenId]                            INT              NULL,
    [PMDesignator]                               NVARCHAR (25)    CONSTRAINT [DF_UserSettingsBase_PMDesignator] DEFAULT ('PM') NOT NULL,
    [HelpLanguageId]                             INT              NULL,
    [LocaleId]                                   INT              NULL,
    [PagingLimit]                                INT              NULL,
    [DefaultCountryCode]                         NVARCHAR (15)    NULL,
    [TimeZoneStandardBias]                       INT              CONSTRAINT [DF_UserSettingsBase_TimeZoneStandardBias] DEFAULT ((0)) NOT NULL,
    [AMDesignator]                               NVARCHAR (25)    CONSTRAINT [DF_UserSettingsBase_AMDesignator] DEFAULT ('AM') NOT NULL,
    [TimeZoneCode]                               SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneCode] DEFAULT ((0)) NOT NULL,
    [DefaultSearchExperience]                    INT              NULL,
    [IsDefaultCountryCodeCheckEnabled]           BIT              CONSTRAINT [DF_UserSettingsBase_IsDefaultCountryCodeCheckEnabled] DEFAULT ((0)) NOT NULL,
    [DataValidationModeForExportToExcel]         INT              CONSTRAINT [DF_UserSettingsBase_DataValidationModeForExportToExcel] DEFAULT ((0)) NOT NULL,
    [TimeZoneStandardDayOfWeek]                  SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneStandardDayOfWeek] DEFAULT ((0)) NOT NULL,
    [BusinessUnitId]                             UNIQUEIDENTIFIER NOT NULL,
    [SplitViewState]                             BIT              CONSTRAINT [DF_UserSettingsBase_SplitViewState] DEFAULT ((1)) NOT NULL,
    [IsAutoDataCaptureEnabled]                   BIT              CONSTRAINT [DF_UserSettingsBase_IsAutoDataCaptureEnabled] DEFAULT ((1)) NOT NULL,
    [IsAppsForCrmAlertDismissed]                 BIT              CONSTRAINT [DF_UserSettingsBase_IsAppsForCrmAlertDismissed] DEFAULT ((0)) NULL,
    [TimeZoneStandardMinute]                     SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneStandardMinute] DEFAULT ((0)) NOT NULL,
    [IncomingEmailFilteringMethod]               INT              CONSTRAINT [DF_UserSettingsBase_IncomingEmailFilteringMethod] DEFAULT ((2)) NOT NULL,
    [OfflineSyncInterval]                        INT              CONSTRAINT [DF_UserSettingsBase_OfflineSyncInterval] DEFAULT ((900000)) NOT NULL,
    [ReportScriptErrors]                         INT              CONSTRAINT [DF_UserSettingsBase_ReportScriptErrors] DEFAULT ((1)) NOT NULL,
    [IsSendAsAllowed]                            BIT              CONSTRAINT [DF_UserSettingsBase_IsSendAsAllowed] DEFAULT ((0)) NOT NULL,
    [TimeZoneStandardMonth]                      SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneStandardMonth] DEFAULT ((0)) NOT NULL,
    [EntityFormMode]                             INT              CONSTRAINT [DF_UserSettingsBase_EntityFormMode] DEFAULT ((0)) NOT NULL,
    [AutoCreateContactOnPromote]                 SMALLINT         CONSTRAINT [DF_UserSettingsBase_AutoCreateContactOnPromote] DEFAULT ((1)) NOT NULL,
    [WorkdayStartTime]                           NVARCHAR (5)     NULL,
    [TimeZoneDaylightDay]                        SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneDaylightDay] DEFAULT ((0)) NOT NULL,
    [TimeZoneDaylightDayOfWeek]                  SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneDaylightDayOfWeek] DEFAULT ((0)) NOT NULL,
    [EmailPassword]                              NVARCHAR (200)   NULL,
    [UseImageStrips]                             BIT              CONSTRAINT [DF_UserSettingsBase_UseImageStrips] DEFAULT ((1)) NOT NULL,
    [ModifiedOnBehalfBy]                         UNIQUEIDENTIFIER NULL,
    [PricingDecimalPrecision]                    INT              CONSTRAINT [DF_UserSettingsBase_PricingDecimalPrecision] DEFAULT ((2)) NULL,
    [TimeZoneDaylightMonth]                      SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneDaylightMonth] DEFAULT ((0)) NOT NULL,
    [LastAlertsViewedTime]                       DATETIME         CONSTRAINT [DF_UserSettingsBase_LastAlertsViewedTime] DEFAULT ((0)) NULL,
    [ModifiedBy]                                 UNIQUEIDENTIFIER NULL,
    [CreatedOnBehalfBy]                          UNIQUEIDENTIFIER NULL,
    [NumberGroupFormat]                          NVARCHAR (25)    NULL,
    [FullNameConventionCode]                     INT              CONSTRAINT [DF_UserSettingsBase_FullNameConventionCode] DEFAULT ((0)) NOT NULL,
    [TimeZoneDaylightBias]                       INT              CONSTRAINT [DF_UserSettingsBase_TimeZoneDaylightBias] DEFAULT ((0)) NOT NULL,
    [DefaultCalendarView]                        INT              NULL,
    [IsResourceBookingExchangeSyncEnabled]       BIT              CONSTRAINT [DF_UserSettingsBase_IsResourceBookingExchangeSyncEnabled] DEFAULT ((0)) NOT NULL,
    [TimeZoneStandardHour]                       SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneStandardHour] DEFAULT ((0)) NOT NULL,
    [CurrencyFormatCode]                         INT              CONSTRAINT [DF_UserSettingsBase_CurrencyFormatCode] DEFAULT ((0)) NOT NULL,
    [TimeZoneStandardYear]                       SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneStandardYear] DEFAULT ((0)) NOT NULL,
    [ResourceBookingExchangeSyncVersion]         BIGINT           CONSTRAINT [DF_UserSettingsBase_ResourceBookingExchangeSyncVersion] DEFAULT ((0)) NOT NULL,
    [VisualizationPaneLayout]                    INT              CONSTRAINT [DF_UserSettingsBase_VisualizationPaneLayout] DEFAULT ((1)) NOT NULL,
    [UseCrmFormForTask]                          BIT              CONSTRAINT [DF_UserSettingsBase_UseCrmFormForTask] DEFAULT ((1)) NOT NULL,
    [DateFormatCode]                             INT              CONSTRAINT [DF_UserSettingsBase_DateFormatCode] DEFAULT ((0)) NOT NULL,
    [TimeZoneStandardSecond]                     SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneStandardSecond] DEFAULT ((0)) NOT NULL,
    [ModifiedOn]                                 DATETIME         NULL,
    [HomepageSubarea]                            NVARCHAR (200)   NULL,
    [AdvancedFindStartupMode]                    SMALLINT         CONSTRAINT [DF_UserSettingsBase_AdvancedFindStartupMode] DEFAULT ((1)) NOT NULL,
    [AddressBookSyncInterval]                    INT              CONSTRAINT [DF_UserSettingsBase_AddressBookSyncInterval] DEFAULT ((86400000)) NOT NULL,
    [HomepageArea]                               NVARCHAR (200)   NULL,
    [UseCrmFormForAppointment]                   BIT              CONSTRAINT [DF_UserSettingsBase_UseCrmFormForAppointment] DEFAULT ((0)) NOT NULL,
    [LongDateFormatCode]                         INT              CONSTRAINT [DF_UserSettingsBase_LongDateFormatCode] DEFAULT ((0)) NOT NULL,
    [NextTrackingNumber]                         INT              NULL,
    [NegativeCurrencyFormatCode]                 INT              CONSTRAINT [DF_UserSettingsBase_NegativeCurrencyFormatCode] DEFAULT ((0)) NOT NULL,
    [CurrencySymbol]                             NVARCHAR (13)    CONSTRAINT [DF_UserSettingsBase_CurrencySymbol] DEFAULT ('$') NOT NULL,
    [NumberSeparator]                            NVARCHAR (5)     CONSTRAINT [DF_UserSettingsBase_NumberSeparator] DEFAULT (',') NOT NULL,
    [GetStartedPaneContentEnabled]               BIT              CONSTRAINT [DF_UserSettingsBase_GetStartedPaneContentEnabled] DEFAULT ((1)) NOT NULL,
    [CreatedOn]                                  DATETIME         NULL,
    [CreatedBy]                                  UNIQUEIDENTIFIER NULL,
    [CurrencyDecimalPrecision]                   INT              CONSTRAINT [DF_UserSettingsBase_CurrencyDecimalPrecision] DEFAULT ((2)) NULL,
    [HomepageLayout]                             NVARCHAR (1000)  NULL,
    [UseCrmFormForEmail]                         BIT              CONSTRAINT [DF_UserSettingsBase_UseCrmFormForEmail] DEFAULT ((0)) NOT NULL,
    [DecimalSymbol]                              NVARCHAR (5)     CONSTRAINT [DF_UserSettingsBase_DecimalSymbol] DEFAULT ('.') NOT NULL,
    [UseCrmFormForContact]                       BIT              CONSTRAINT [DF_UserSettingsBase_UseCrmFormForContact] DEFAULT ((1)) NOT NULL,
    [TimeFormatString]                           NVARCHAR (255)   NULL,
    [TimeZoneDaylightMinute]                     SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneDaylightMinute] DEFAULT ((0)) NOT NULL,
    [TimeFormatCode]                             INT              CONSTRAINT [DF_UserSettingsBase_TimeFormatCode] DEFAULT ((0)) NOT NULL,
    [VersionNumber]                              ROWVERSION       NULL,
    [CalendarType]                               INT              CONSTRAINT [DF_UserSettingsBase_CalendarType] DEFAULT ((2)) NOT NULL,
    [SystemUserId]                               UNIQUEIDENTIFIER NOT NULL,
    [EmailUsername]                              NVARCHAR (200)   NULL,
    [DefaultDashboardId]                         UNIQUEIDENTIFIER NULL,
    [TimeSeparator]                              NVARCHAR (5)     NULL,
    [ShowWeekNumber]                             BIT              CONSTRAINT [DF_UserSettingsBase_ShowWeekNumber] DEFAULT ((0)) NOT NULL,
    [SyncContactCompany]                         BIT              CONSTRAINT [DF_UserSettingsBase_SyncContactCompany] DEFAULT ((1)) NOT NULL,
    [AllowEmailCredentials]                      BIT              CONSTRAINT [DF_UserSettingsBase_AllowEmailCredentials] DEFAULT ((0)) NOT NULL,
    [IsDuplicateDetectionEnabledWhenGoingOnline] BIT              CONSTRAINT [DF_UserSettingsBase_IsDuplicateDetectionEnabledWhenGoingOnline] DEFAULT ((0)) NOT NULL,
    [DateSeparator]                              NVARCHAR (5)     CONSTRAINT [DF_UserSettingsBase_DateSeparator] DEFAULT ('/') NOT NULL,
    [IsGuidedHelpEnabled]                        BIT              CONSTRAINT [DF_UserSettingsBase_IsGuidedHelpEnabled] DEFAULT ((1)) NULL,
    [IgnoreUnsolicitedEmail]                     BIT              CONSTRAINT [DF_UserSettingsBase_IgnoreUnsolicitedEmail] DEFAULT ((1)) NOT NULL,
    [PersonalizationSettings]                    NVARCHAR (MAX)   NULL,
    [UILanguageId]                               INT              CONSTRAINT [DF_UserSettingsBase_UILanguageId] DEFAULT ((0)) NOT NULL,
    [TimeZoneBias]                               INT              CONSTRAINT [DF_UserSettingsBase_TimeZoneBias] DEFAULT ((0)) NOT NULL,
    [TimeZoneStandardDay]                        SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneStandardDay] DEFAULT ((0)) NOT NULL,
    [NegativeFormatCode]                         INT              CONSTRAINT [DF_UserSettingsBase_NegativeFormatCode] DEFAULT ((0)) NOT NULL,
    [UserProfile]                                NVARCHAR (1024)  NULL,
    [OutlookSyncInterval]                        INT              CONSTRAINT [DF_UserSettingsBase_OutlookSyncInterval] DEFAULT ((900000)) NOT NULL,
    [TransactionCurrencyId]                      UNIQUEIDENTIFIER NULL,
    [TimeZoneDaylightSecond]                     SMALLINT         CONSTRAINT [DF_UserSettingsBase_TimeZoneDaylightSecond] DEFAULT ((0)) NOT NULL,
    [DateFormatString]                           NVARCHAR (255)   NULL,
    [SelectedGlobalFilterId]                     UNIQUEIDENTIFIER NULL,
    [IsEmailConversationViewEnabled]             BIT              CONSTRAINT [DF_UserSettingsBase_IsEmailConversationViewEnabled] DEFAULT ((0)) NOT NULL,
    [AutoCaptureUserStatus]                      INT              CONSTRAINT [DF_UserSettingsBase_AutoCaptureUserStatus] DEFAULT ((0)) NOT NULL,
    CONSTRAINT [cndx_PrimaryKey_UserSettings] PRIMARY KEY CLUSTERED ([SystemUserId] ASC) WITH (FILLFACTOR = 80),
    CONSTRAINT [business_unit_user_settings] FOREIGN KEY ([BusinessUnitId]) REFERENCES [dbo].[BusinessUnitBase] ([BusinessUnitId]),
    CONSTRAINT [transactioncurrency_usersettings] FOREIGN KEY ([TransactionCurrencyId]) REFERENCES [dbo].[TransactionCurrencyBase] ([TransactionCurrencyId]),
    CONSTRAINT [user_settings] FOREIGN KEY ([SystemUserId]) REFERENCES [dbo].[SystemUserBase] ([SystemUserId]),
    CONSTRAINT [AK1_UserSettingsBase_TrackingTokenId] UNIQUE NONCLUSTERED ([TrackingTokenId] ASC) WITH (FILLFACTOR = 80)
);


GO
EXECUTE sp_tableoption @TableNamePattern = N'[dbo].[UserSettingsBase]', @OptionName = N'large value types out of row', @OptionValue = N'1';


GO
ALTER TABLE [dbo].[UserSettingsBase] SET (LOCK_ESCALATION = DISABLE);


GO
CREATE NONCLUSTERED INDEX [ndx_Security]
    ON [dbo].[UserSettingsBase]([BusinessUnitId] ASC) WITH (FILLFACTOR = 80);


GO
CREATE UNIQUE NONCLUSTERED INDEX [fndx_Sync_VersionNumber]
    ON [dbo].[UserSettingsBase]([VersionNumber] ASC) WITH (FILLFACTOR = 100);

