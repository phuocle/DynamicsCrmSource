function save(context){var formContext=context.getFormContext(),name=formContext.data.attributes.get("name").getValue();if(name){var fetchXML=formContext.data.attributes.get("param_fetchxml").getValue(),layoutxml=formContext.data.attributes.get("param_layoutxml").getValue(),description=formContext.data.attributes.get("description").getValue(),entityName=formContext.data.attributes.get("param_entityname").getValue(),data={fetchxml:fetchXML,layoutxml:layoutxml,name:name,querytype:0,returnedtypecode:entityName,description:description?description:""};Xrm.WebApi.createRecord("userquery",data).then(function(record){formContext.data.attributes.get("param_viewid").setValue(record.id);formContext.ui.close()},function(error){error&&error.message&&Xrm.Navigation.openAlertDialog({text:error.message})})}}function close(context){context.getFormContext().ui.close()}