function ChartConfigObject(){this.title={};this.legend={};this.chart=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rp();this.xAxis=[];this.yAxis=[];this.series=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rr();this.credits={};this.colors=[];this.tooltip={};this.plotOptions=null;this.CrmConfiguration={};this.HighchartSeriesPointClicked=null;this.HighchartSeriesPointSelected=null;this.HighchartSeriesPointUnselected=null;this.chart.events=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tQ()}Type.registerNamespace("Mscrm");Mscrm.$MI=function(){};Mscrm.$MI.prototype={$1WM:function(n,t,i){var e,u,o;if(Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(n))return"";var f="",r=Mscrm.$MI.$T5.toString(0).toLowerCase(),s=new RegExp("[-()\\s]","g");return n=n.replace(s,""),e=new RegExp("live:|skype:","i"),n=n.replace(e,""),u=n,i.toLowerCase()==="tel"?r=Mscrm.$MI.$T5.toString(1).toLowerCase():i.toLowerCase()==="sfb"&&(r="ms-sfb",f="//call?id="),o=new RegExp("^[0-9]","i"),u=o.test(n)&&!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(t)?r+":"+f+t+n:r+":"+f+n,i.toLowerCase()==="skype"&&(u+="?call"),u}};Mscrm.$MI.$T5=function(){};Mscrm.$MI.$T5.prototype={skype:0,tel:1};Mscrm.$MI.$T5.registerEnum("Mscrm.$MI.$T5",!1);Type.registerNamespace("Microsoft.Crm.Client.Core.Framework");Microsoft.Crm.Client.Core.Framework.$6I=function(n){this.$$d_$2tC=Function.createDelegate(this,this.$2tC);this.$$d_$2tF=Function.createDelegate(this,this.$2tF);this.$$d_$2ux=Function.createDelegate(this,this.$2ux);this.$$d_$2tD=Function.createDelegate(this,this.$2tD);this.$$d_$2tG=Function.createDelegate(this,this.$2tG);this.$$d_$2uw=Function.createDelegate(this,this.$2uw);this.$$d_$2sa=Function.createDelegate(this,this.$2sa);Microsoft.Crm.Client.Core.Framework.$6I.initializeBase(this);this.$5j=n;this.$fA=Microsoft.Crm.Client.Core.Framework.Scheduler.$1YG();Microsoft.Crm.Client.Core.Framework.$6I.$1Rs(!0);$(window).bind("OnActionQueueEmpty",this.$$d_$2sa);$(window).bind("RemoteRequestPending",this.$$d_$2uw);$(window).bind("CustomScriptsLoading",this.$$d_$2tG);$(window).bind("CustomControlsPending",this.$$d_$2tD)};Microsoft.Crm.Client.Core.Framework.$6I.$1Rs=function(n){var t=window.document.getElementById("perfBadge");$0.$0(t)||(n?$(t).addClass("pageLoading"):$(t).removeClass("pageLoading"))};Microsoft.Crm.Client.Core.Framework.$6I.$2X8=function(n){for(var r,u,t,c,l=Microsoft.Crm.Client.Core.Framework.$1T.$d("innerWidth"),a=Microsoft.Crm.Client.Core.Framework.$1T.$d("pageXOffset"),e=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Boolean)),s=window.document.querySelectorAll('div[data-vmid="'+n+'"] .panoramaItem-control, div[data-vmid="'+n+'"] .panoramaItem-control > .listRoot, div[data-vmid="'+n+'"] .panoramaItem-control > .tilePlaceholderTable, div[data-vmid="'+n+'"] .proxyProcessHeader, div[data-vmid="'+n+'"] .crmtile ,div[data-vmid="'+n+'"] .gridcontainer .customControl'),o=0,v=s.length;o<v;o++)if(r=s[o],u=r.getAttribute("data-vmid"),!$0.$0(u)){var f=$(r).closest(".panoramaItem"),h=!1,i=r.getBoundingClientRect();if(!$0.$0(f)&&(h=f.attr("data-panetype")==="ChartPane",!$0.$0(f[0]))){if(t=f[0].getBoundingClientRect(),i.left>t.left+t.width||i.top+i.height<t.top||i.top>t.top+t.height){e.set_$R(u,!1);continue}i=t}c=i.left+a;e.set_$R(u,c<l&&!h)}return e};Microsoft.Crm.Client.Core.Framework.$6I.prototype={$fA:null,$5j:null,$1Uq:!1,$1O6:!0,$1EH:!0,$1EE:!0,$2sa:function(){this.$1Uq=!0;this.$jY()},$2uw:function(){this.$fA.cancelAll();$(window).unbind("RemoteRequestPending",this.$$d_$2uw);$(window).bind("NoRemoteRequestPending",this.$$d_$2ux);this.$1O6=!1},$2ux:function(){this.$1O6=!0;$(window).unbind("NoRemoteRequestPending",this.$$d_$2ux);$(window).bind("RemoteRequestPending",this.$$d_$2uw);this.$jY()},$2tG:function(){this.$fA.cancelAll();$(window).unbind("CustomScriptsLoading",this.$$d_$2tG);$(window).bind("NoCustomScriptsLoading",this.$$d_$2tF);this.$1EH=!1},$2tF:function(){this.$1EH=!0;$(window).unbind("NoCustomScriptsLoading",this.$$d_$2tF);$(window).bind("CustomScriptsLoading",this.$$d_$2tG);this.$jY()},$2tD:function(){this.$fA.cancelAll();$(window).unbind("CustomControlsPending",this.$$d_$2tD);$(window).bind("CustomControlsComplete",this.$$d_$2tC);this.$1EE=!1},$2tC:function(){this.$1EE=!0;$(window).unbind("CustomControlsComplete",this.$$d_$2tC);$(window).bind("CustomControlsPending",this.$$d_$2tD);this.$jY()},$jY:function(){if(this.$1Uq&&this.$1O6&&this.$1EH&&this.$1EE&&!this.$2h&&!$0.$0(this.$5j)&&this.$5j.$t===1){this.$fA.cancelAll();var n=this,t=Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){var u,t,i,f,r;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().get_$2xI()||(u=window.reactWaitingToFlush,u?window.setTimeout(function(){n.$jY()},20):$0.$0(n.$5j)?n.$1n3():(t=-1,i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),i.length>0&&(f=parseInt(i[i.length-1].$2m),t=f+1),r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedFull",1,n.$5j.get_ViewModelId(),function(){if(Microsoft.Crm.Client.Core.Framework.$2c.$2Z1(),n.$2NL(),n.$5j.set_$2o7(!0),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&t!==-1){var i=n.$5j.$g;(i===13||i===40||i===5||i===37)&&n.$3Bl(t.toString())}Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.$6I.$1Rs(!1)},-15,"UpdatePerformanceBadge")}),$0.$0(r)||(r.addParameter(Microsoft.Crm.Client.Core.Framework.$1.toString(n.$5j.$g)),r.addParameter(n.$5j.$D)),n.$1n3()))},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$2IR,"WaitForFullPageLoad");t.set_Owner(this.$fA)}},$3Bl:function(n){var i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$sN(n),r,t,c,a,u,v,y,f,p,w,b;if(!$0.$0(i)&&(r=this.$5j.$g,i.$1c==="LoadedFull")){var e=this.$5j.$D,k=r===40,d=r===40||r===5,o=i.$1Fs(),s=Microsoft.Crm.Client.Core.Framework.$1.toString(r),l=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Ha("BeforeInitializeStart",o),h=Math.ceil(Microsoft.Crm.Client.Core.Framework.$1T.$d("PageLoadStartTime"));l&&(t=l.$45,c=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Ha("LoadedInteractionReady",o),c&&(a=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qv("InteractionReady",c.$45-t,h+c.$45,s,e),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(a)),k&&(u=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Ha("RenderedReadReady",o),u&&(v=u.$45-t,v>0&&(y=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qv("ReadReady",u.$45-t,h+u.$45,s,e),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(y)))),d&&(f=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Ha("RenderedEditReady",o),f&&(p=f.$45-t,p>0&&(w=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qv("EditReady",f.$45-t,h+f.$45,s,e),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(w)))),b=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qv("FullLoad",i.$45-t,h+i.$45,s,e),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(b))}},$2NL:function(){for(var n,i,r,s=-1,h=-1,c=-1,l=-1,a=-1,e=-1,v=-1,y=-1,o=-1,u=-1,p=-1,f=-1,w=-1,b=-1,k=-1,nt=this.$5j.get_ViewModelId(),t=Microsoft.Crm.Client.Core.Framework.$6I.$2X8(nt),g=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),tt=g.length,d=0;d<tt;++d){n=g[d];t.$s()>0&&(i=n.$1Fs(),r=t.$3F5(i),n.$1c==="LoadedInitialUI"&&r?(t.get_$R(i)&&(s=Math.max(s,n.$45)),c=Math.max(c,n.$45)):n.$1c==="LoadedInitialData"&&r?(t.get_$R(i)&&(h=Math.max(h,n.$45)),l=Math.max(l,n.$45)):n.$1c==="RenderedInitialUI"&&r?(t.get_$R(i)&&(a=Math.max(a,n.$45)),v=Math.max(v,n.$45)):n.$1c==="RenderedInitialData"&&r?(t.get_$R(i)&&(e=Math.max(e,n.$45)),y=Math.max(y,n.$45)):n.$1c==="RenderedReadReady"&&r?t.get_$R(i)&&(u=Math.max(u,n.$45)):n.$1c==="RenderedEditReady"&&r&&t.get_$R(i)&&(f=Math.max(f,n.$45)));switch(n.$1c){case"LoadedReadReady":o=Math.max(o,n.$45);break;case"LoadedEditReady":p=Math.max(p,n.$45);break;case"BeforeInitializeStart":w=Math.max(w,n.$45);break;case"LoadedInteractionReady":b=Math.max(b,n.$45);break;case"LoadedFull":k=Math.max(k,n.$45)}}this.$QB("LoadedViewportInitialUI",s);this.$QB("LoadedViewportInitialData",h);this.$QB("LoadedInitialUI",c);this.$QB("LoadedInitialData",l);this.$QB("RenderedViewportInitialUI",a);this.$QB("RenderedViewportInitialData",e);this.$QB("RenderedInitialUI",v);this.$QB("RenderedInitialData",y);this.$QB("LoadedReadReady",o);this.$QB("RenderedReadReady",u===-1?o:u);this.$QB("RenderedEditReady",f===-1?p:f);this.$2ZJ(this.$5j.$g,w,b,e,u,f,k);this.$5j.$1wG()},$Oh:function(){this.$fA.cancelAll();this.$1n3()},$1n3:function(){$(window).unbind("OnActionQueueEmpty",this.$$d_$2sa);$(window).unbind("RemoteRequestPending",this.$$d_$2uw);$(window).unbind("NoRemoteRequestPending",this.$$d_$2ux);$(window).unbind("CustomScriptsLoading",this.$$d_$2tG);$(window).unbind("NoCustomScriptsLoading",this.$$d_$2tF);$(window).unbind("CustomControlsPending",this.$$d_$2tD);$(window).unbind("CustomControlsComplete",this.$$d_$2tC)},$QB:function(n,t){t!==-1&&Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bo(n,1,this.$5j.get_ViewModelId(),t)},$2ZJ:function(n,t,i,r,u,f,e){if(t!==-1){var o=i!==-1,s=n===2||n===13||n===17||n===1||n===34||n===35,h=n===2,c=n===2,l=e!==-1;o&&this.$tl("InteractionReady",t,i);s&&this.$tl("ViewportReady",t,r);h&&this.$tl("ReadReady",t,u);c&&this.$tl("EditReady",t,f);l&&this.$tl("FullLoad",t,e)}},$tl:function(n,t,i){var u,r,f;if(Microsoft.Crm.Client.Core.Framework.$6.get_$f())u=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qv(n,Math.ceil(i-t),Math.ceil(Microsoft.Crm.Client.Core.Framework.$1T.$d("PageLoadStartTime")+i)),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(u);else{if(r=this.$5j.$4H,$0.$0(r)||t===-1||i===-1)return;f=new Microsoft.Crm.Client.Core.Framework.$MB(n,Math.ceil(i-t),Math.ceil(Microsoft.Crm.Client.Core.Framework.$1T.$d("PageLoadStartTime")+i),r,{});Microsoft.Crm.Client.Core.Framework.$t.get_$6().$1VB(f)}}};Type.registerNamespace("Microsoft.Crm.Client.Core.Framework.Common");Microsoft.Crm.Client.Core.Framework.Common.jqGridResourceManager=function(){};Microsoft.Crm.Client.Core.Framework.Common.jqGridResourceManager.getLocalizedString=function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n)};Type.registerNamespace("Xrm");Xrm.IBusinessRuleNotificationProvider=function(){};Xrm.IBusinessRuleNotificationProvider.registerInterface("Xrm.IBusinessRuleNotificationProvider");Xrm.DateFormattingInfo=function(){};Xrm.SaveMode=function(){};Xrm.SaveMode.prototype={invalid:-1,none:0,save:1,saveAndClose:2,deleteRecord:3,load:4,deactivate:5,reactivate:6,send:7,disqualify:15,qualify:16,assign:47,faxSend:55,saveAsCompleted:58,saveAndNew:59,recalculateRecord:66,realignFiscalDates:67,convertWorkflowType:68,autoSave:70};Xrm.SaveMode.registerEnum("Xrm.SaveMode",!1);Xrm.DataLoadState=function(){};Xrm.DataLoadState.prototype={none:0,initialLoad:1,save:2,refresh:3};Xrm.DataLoadState.registerEnum("Xrm.DataLoadState",!1);Xrm.BeginSecureSessionResponseCode=function(){};Xrm.BeginSecureSessionResponseCode.prototype={success:0,unexpectedError:1,authorityNotFound:2,invalidResource:3,invalidDomain:4,unsupportedPlatform:5,featureDisabled:6};Xrm.BeginSecureSessionResponseCode.registerEnum("Xrm.BeginSecureSessionResponseCode",!1);Xrm.DialogOptions=function(){this.width=Number.NaN;this.height=Number.NaN;this.left=Number.NaN;this.top=Number.NaN;this.openInNewWindow=!1};Xrm.LookupObject=function(){};Xrm.RelationshipReference=function(n,t,i,r){this.name=n;this.attributeName=t;this.ordinal=i;this.relationshipType=r};Xrm.LookupOptions=function(){};Xrm.IXrmCollectionItem=function(){};Xrm.IXrmCollectionItem.registerInterface("Xrm.IXrmCollectionItem");Xrm.ActionCollectionBase=function(){};Xrm.ActionCollectionBase.prototype={actions:null,message:null};Xrm.BusinessRuleNotificationBase=function(){};Xrm.BusinessRuleNotificationBase.prototype={uniqueId:null,messages:null,priority:0,notificationLevel:null,actions:null};Xrm.ErrorResponse=function(n,t,i,r){this.errorCode=n;this.message=t;this.debugMessage=i;this.innerError=r};Xrm.ErrorResponse.prototype={errorCode:0,message:null,debugMessage:null,innerError:null};Xrm.XrmGlobalContext=function(){};Xrm.XrmGlobalContext.prototype={saveMode:-1,client:null,userSettings:null,organizationSettings:null};Xrm.XrmUtility=function(){};Xrm.ExecutionContext=function(n,t,i,r,u,f){this.$1Zh=n;this.$IR=i;this.$A=t;this.$1Zf=r;this.$1aH=f;this.$nU=u&&u.$nU?u.$nU:{}};Xrm.ExecutionContext.prototype={$1Zf:null,$1Zh:null,$1aH:null,$IR:0,$A:null,$nU:null,getContext:function(){return this.$A},getDepth:function(){return this.$IR},getEventArgs:function(){return this.$1Zf},getEventSource:function(){return this.$1Zh},getFormContext:function(){return this.$1aH},getSharedVariable:function(n){return this.$nU[n]},setSharedVariable:function(n,t){this.$nU[n]=t}};Xrm.ProcessActionSuccessResponse=function(){this.$1Mb={}};Xrm.ProcessActionSuccessResponse.prototype={get_outputParameters:function(){return this.$1Mb},set_outputParameters:function(n){return this.$1Mb=n,n}};Xrm.SaveErrorResponse=function(n,t,i){Xrm.SaveErrorResponse.initializeBase(this,[n,t,i,null])};Xrm.SaveEventArgs=function(){this.$1JL=this.isDefaultPrevented;Xrm.SaveEventArgs.initializeBase(this)};Xrm.SaveSuccessResponse=function(){};Xrm.SaveSuccessResponse.prototype={savedEntityReference:null};Xrm.XrmUserSettings=function(){};Xrm.XrmUserSettings.prototype={languageId:0,userId:null,userName:null,securityRoles:null,isGuidedHelpEnabled:!1,defaultCountryCode:null,dateFormattingInfo:null,isRTL:!1,isHighContrastEnabled:!1,transactionCurrencyId:null};Xrm.XrmPageContextClient=function(){};Xrm.XrmOrganizationSettings=function(){};Xrm.XrmOrganizationSettings.prototype={languageId:0,isAutoSaveEnabled:!1,uniqueName:null,useSkypeProtocol:!1,defaultCountryCode:null,attributes:null,baseCurrencyId:null,organizationId:null};Xrm.Utility=function(){};Xrm.Utility.setInstance=function(n){Xrm.Utility.$C=n};Xrm.Utility.areStateTransitionsEnforced=function(n){return Xrm.Utility.$C.areStateTransitionsEnforced(n)};Xrm.Utility.beginSecureSessionForResource=function(n,t,i){return Xrm.Utility.$C.beginSecureSessionForResource(n,t,i)};Xrm.Utility.create=function(n,t,i,r,u,f){Xrm.Utility.$C.create(n,t,i,r,u,f)};Xrm.Utility.openEntityForm=function(n,t,i,r){Xrm.Utility.$C.openEntityForm(n,t,i,r)};Xrm.Utility.openQuickCreate=function(n,t,i){return Xrm.Utility.$C.openQuickCreate(n,t,i)};Xrm.Utility.openTaskFlow=function(n,t,i){return Xrm.Utility.$C.openTaskFlow(n,t,i)};Xrm.Utility.invokeProcessAction=function(n,t){return Xrm.Utility.$C.invokeProcessAction(n,t)};Xrm.Utility.openWebResource=function(n,t,i,r){return Xrm.Utility.$C.openWebResource(n,t,i,r)};Xrm.Utility.alertDialog=function(n,t){Xrm.Utility.$C.alertDialog(n,t)};Xrm.Utility.confirmDialog=function(n,t,i){Xrm.Utility.$C.confirmDialog(n,t,i)};Xrm.Utility.isActivityType=function(n){return Xrm.Utility.$C.isActivityType(n)};Xrm.Utility.isEntityOfflineSyncEnabled=function(n){return Xrm.Utility.$C.isEntityOfflineSyncEnabled(n)};Xrm.Utility.isEntityOfflineDisabled=function(n){return Xrm.Utility.$C.isEntityOfflineDisabled(n)};Xrm.Utility.isOfflineDataStoreAvailable=function(){return Xrm.Utility.$C.isOfflineDataStoreAvailable()};Xrm.Utility.isMocaOfflineFeatureEnabled=function(){return Xrm.Utility.$C.isMocaOfflineFeatureEnabled()};Xrm.Utility.isAppOfflineSyncEnabled=function(){return Xrm.Utility.$C.isAppOfflineSyncEnabled()};Xrm.Utility.isMocaOffline=function(){return Xrm.Utility.$C.isMocaOffline()};Xrm.Utility.showHierarchyPage=function(n,t){Xrm.Utility.$C.showHierarchyPage(n,t)};Xrm.Utility.getEntitySetName=function(n){return Xrm.Utility.$C.getEntitySetName(n)};Xrm.Utility.getGlobalContext=function(){return Xrm.Utility.$C.getGlobalContext()};Xrm.Utility.refreshParentGrid=function(n){Xrm.Utility.$C.refreshParentGrid(n)};Xrm.Utility.deleteRecord=function(n,t){return Xrm.Utility.$C.deleteRecord(n,t)};Xrm.Utility.executeNonCudCommand=function(n,t,i,r,u){Xrm.Utility.$C.executeNonCudCommand(n,t,i,r,u)};Xrm.Utility.retrieveEntityRecord=function(n,t,i,r){Xrm.Utility.$C.retrieveEntityRecord(n,t,i,r)};Xrm.Utility.retrieveEntityCollection=function(n,t,i){Xrm.Utility.$C.retrieveEntityCollection(n,t,i)};Xrm.Utility.getCurrentPosition=function(){return Xrm.Utility.$C.getCurrentPosition()};Xrm.Utility.getBarcodeValue=function(){return Xrm.Utility.$C.getBarcodeValue()};Xrm.Utility.getDefaultTransactionCurrency=function(){return Xrm.Utility.$C.getDefaultTransactionCurrency()};Xrm.Utility.retrieveDefaultStatusForState=function(n,t){return Xrm.Utility.$C.retrieveDefaultStatusForState(n,t)};Xrm.Utility.getEntityUrl=function(n,t){return Xrm.Utility.$C.getEntityUrl(n,t)};Xrm.Utility.getResourceString=function(n,t){return Xrm.Utility.$C.getResourceString(n,t)};Xrm.Utility.getValidStatusTransition=function(n,t,i,r,u){return Xrm.Utility.$C.getValidStatusTransition(n,t,i,r,u)};Xrm.Utility.openDialog=function(n,t,i,r,u){Xrm.Utility.$C.openDialog(n,t,i,r,u)};Xrm.Utility.isOptimisticConcurrencyEnabled=function(n){return Xrm.Utility.$C.isOptimisticConcurrencyEnabled(n)};Xrm.Utility.openRecord=function(n,t,i){return Xrm.Utility.$C.openRecord(n,t,i)};Xrm.Utility.isVisibleInMobileClient=function(n){return Xrm.Utility.$C.isVisibleInMobileClient(n)};Xrm.Utility.isDocumentRecommendationsEnabledForEntity=function(n){return Xrm.Utility.$C.isDocumentRecommendationsEnabledForEntity(n)};Xrm.Utility.getEntityMetadata=function(n,t){return Xrm.Utility.$C.getEntityMetadata(n,t)};Xrm.Utility.lookupObjects=function(n){return Xrm.Utility.$C.lookupObjects(n)};Xrm.Utility.getAllowedStatusTransitions=function(n,t){return Xrm.Utility.$C.getAllowedStatusTransitions(n,t)};Xrm.Utility.showProgressIndicator=function(n){Xrm.Utility.$C.showProgressIndicator(n)};Xrm.Utility.closeProgressIndicator=function(){Xrm.Utility.$C.closeProgressIndicator()};Xrm.Utility.getLearningPathAttributeName=function(){return Xrm.Utility.$C.getLearningPathAttributeName()};Xrm.PageType=function(){};Xrm.XrmCollection$1=function(n){this.$9y=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(this.$$gta["Xrm.XrmCollection$1"].T));Xrm.XrmCollection$1.$$(this.$$gta["Xrm.XrmCollection$1"].T).initializeBase(this);n&&this.$9y.addRange(n)};Xrm.XrmCollection$1.$$=function(n){var t="XrmCollection$1$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!Xrm[t]){r=Xrm[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Xrm.XrmCollection$1"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Xrm.XrmCollection$1.apply(this,i)};r.registerClass("Xrm."+t,Xrm.XrmCollectionBase$1.$$(n));u=Xrm.XrmCollection$1.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return Xrm[t]};Xrm.XrmCollection$1.prototype={dispose:function(){this.$9y.clear()},forEach:function(n){for(var i,t=0;t<this.$9y.get_Count();t++)i=this.getByIndex(t),n(i,t)},add:function(n){this.$9y.add(n)},getFirst:function(n){for(var i,t=0;t<this.$9y.get_Count();t++)if(i=this.getByIndex(t),n(i,t))return i;return this.$$gta["Xrm.XrmCollection$1"].T===Number||Type.isEnum(this.$$gta["Xrm.XrmCollection$1"].T)?0:this.$$gta["Xrm.XrmCollection$1"].T===Boolean?!1:null},getLength:function(){return this.$9y.get_Count()},remove:function(n){this.$9y.remove(n)},getAll:function(){return this.$9y.toArray()},getByName:function(n){for(var t=0;t<this.$9y.get_Count();t++)if(this.$9y.get_$R(t).getKey()===n)return this.getByIndex(t);return this.$$gta["Xrm.XrmCollection$1"].T===Number||Type.isEnum(this.$$gta["Xrm.XrmCollection$1"].T)?0:this.$$gta["Xrm.XrmCollection$1"].T===Boolean?!1:null},getByIndex:function(n){return this.$9y.get_$R(n)},getByFilter:function(n){for(var i,r=[],t=0;t<this.$9y.get_Count();t++)i=this.getByIndex(t),n(i,t)&&Array.add(r,i);return r}};Xrm.XrmCollectionBase$1=function(){};Xrm.XrmCollectionBase$1.$$=function(n){var t="XrmCollectionBase$1$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!Xrm[t]){r=Xrm[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Xrm.XrmCollectionBase$1"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Xrm.XrmCollectionBase$1.apply(this,i)};r.registerClass("Xrm."+t);u=Xrm.XrmCollectionBase$1.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return Xrm[t]};Xrm.XrmCollectionBase$1.prototype={get:function(n){if(Mscrm.InternalUtilities.JSTypes.isNull(n))return this.getAll();if(String.isInstanceOfType(n))return this.getByName(n);if(Number.isInstanceOfType(n))return this.getByIndex(n);if(typeof n=="function")return this.getByFilter(n);throw Error.create("Collection.Get called with unknown parameter type: "+Object.getType(n).getName());}};Type.registerNamespace("Microsoft.Crm.Client.Core.Models");Microsoft.Crm.Client.Core.Models.$6J=function(n){this.$$d_$2uM=Function.createDelegate(this,this.$2uM);this.$$d_$33P=Function.createDelegate(this,this.$33P);this.$$d_$2vg=Function.createDelegate(this,this.$2vg);this.$$d_$2uK=Function.createDelegate(this,this.$2uK);this.$$d_$2uu=Function.createDelegate(this,this.$2uu);this.$Un={};this.$m3={};this.$1Lf={};this.$1Le={};Microsoft.Crm.Client.Core.Models.$6J.initializeBase(this);this.$1Nq=this.$$d_$2uu;this.$tz=this.$$d_$2uK;this.$2o=n;this.$2o.add_$7L(this.$1Nq);Microsoft.Crm.Client.Core.ViewModels.$4k.isInstanceOfType(this.$2o)&&this.$2o.add_$1S6(this.$$d_$2vg);Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$2o)&&this.$2o.add_$2CW(this.$$d_$33P)};Microsoft.Crm.Client.Core.Models.$6J.prototype={$2o:null,$1Nq:null,$tz:null,$u0:0,$2Kq:function(n){var t,i;this.$Un[n.Name]=n;t=n.ModelFieldName;t in this.$m3||(this.$m3[t]=new Array(0));i=this.$m3[t];i.push(n);$0.$0(this.$2o.get_$1B())||(this.$2Hd(n,this.$2o.get_$1B()),this.$18o(n.Name,this.$2o.get_$1B(),n.ModelFieldName,n.Validator))},$Oh:function(){var n,t,i,e,r,u,o,f;if(this.$2o.remove_$7L(this.$1Nq),n=this.$2o.get_ModelContext(),!$0.$0(n)){if(Microsoft.Crm.Client.Core.Models.$9m.isInstanceOfType(this.$2o.get_ModelContext())){t=this.$1Lf;for(i in t)e={key:i,value:t[i]},n.remove_$26j(e.value);r=this.$1Le;for(u in r)o={key:u,value:r[u]},n.remove_$26i(o.value)}for(f=0;f<this.$u0;f++)n.remove_$7L(this.$tz);Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(n)&&n.remove_$7v(this.$$d_$2uM);this.$u0=0}Microsoft.Crm.Client.Core.ViewModels.$4k.isInstanceOfType(this.$2o)&&this.$2o.remove_$1S6(this.$$d_$2vg);Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$2o)&&this.$2o.remove_$2CW(this.$$d_$33P);this.$Un=null;this.$m3=null;this.$1Lf=null;this.$1Le=null;this.$2o=null},$2uu:function(n,t){t==="ModelContext"?this.$2lB():this.$2lC(t)},$2lC:function(n){var i=null,r=this.$2o.get_ModelContext(),t,u,f;n in this.$Un&&(t=this.$Un[n],Microsoft.Crm.Client.Core.Models.$8A.isInstanceOfType(r)?(u=t.ModelName,($0.$8J(u)||Microsoft.Crm.Client.Core.Framework.$3.$9(u))&&(u=this.$2o.get_$1u()),Microsoft.Crm.Client.Core.Framework.$3.$9(u)?i=r:(f=r.$OZ(this.$2o.get_$1u()),i=$0.$0(f)?r.$OZ(t.ModelName):f.$OZ(t.ModelName))):i=r,$0.$0(i)||this.$3AN(i,t.ModelFieldName,n,t.Validator))},$2lB:function(){var i=this.$2o.get_ModelContext(),t=null,e=this.$Un,f,o,n,r,u;for(f in e)o={key:f,value:e[f]},n=o.value,Microsoft.Crm.Client.Core.Models.$8A.isInstanceOfType(i)?(r=n.ModelName,Microsoft.Crm.Client.Core.Framework.$3.$9(r)&&(r=this.$2o.get_$1u()),Microsoft.Crm.Client.Core.Framework.$3.$9(r)?t=i:(t=i.$OZ(n.ModelName),Microsoft.Crm.Client.Core.Models.$9m.isInstanceOfType(i)&&(u=this.$2o.get_$1u(),Microsoft.Crm.Client.Core.Framework.$3.$9(u)&&(u=r),this.$2KS(i,u,n)))):t=i,$0.$0(t)?Microsoft.Crm.Client.Core.Framework.$8.$1E("ReferenceProperty",1004,String.format("Missing model, view model: {0}, ModelFieldName: {1}",this.$2o.get_Name(),n.ModelFieldName)):(this.$2Hd(n,t),t.add_$7L(this.$tz),Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(t)&&t.add_$7v(this.$$d_$2uM),this.$u0++,this.$18o(n.Name,t,n.ModelFieldName,n.Validator),$0.$0(t.GetValue(n.ModelFieldName))?this.$2HW(t,n.ModelFieldName):this.$2HW(t,n.ModelFieldName,n.Validator))},$2uM:function(n){var r=this.$Un,t,u,i;for(t in r)u={key:t,value:r[t]},i=u.value,this.$2HW(n,i.ModelFieldName,i.Validator)},$2KS:function(n,t,i){var e=this,u=function(r,u){e.$2kc(n,t,i,u)},f,r;n.add_$26j(u);this.$1Lf[t]=u;f=this;r=function(r,u){f.$2kb(n,t,i,u)};n.add_$26i(r);this.$1Le[t]=r},$2kc:function(n,t,i,r){if(r===t){var f=n.$OZ(t),u;u=$0.$0(f)?n.$OZ(i.ModelName):f.$OZ(i.ModelName);$0.$0(u)||(u.remove_$7L(this.$tz),this.$u0--,Microsoft.Crm.Client.Core.Framework.$8.$1E("ReferenceProperty",1004,String.format("Unsubscribing NavigationPropertyChanging, view model: {0}, model: {1}",this.$2o.get_Name(),u.get_Id())))}},$2kb:function(n,t,i,r){if(r===t){var f=n.$OZ(t),u;u=$0.$0(f)?n.$OZ(i.ModelName):f.$OZ(i.ModelName);$0.$0(u)||(u.add_$7L(this.$tz),this.$u0++,this.$18o(i.Name,u,i.ModelFieldName,i.Validator),this.$2HW(u,i.ModelFieldName))}},$2uK:function(n,t){var e=n,u,r;if(t in this.$m3){u=this.$m3[t];for(var f=u,o=f.length,i=0;i<o;++i)r=f[i],this.$18o(r.Name,e,t,r.Validator)}},$3AN:function(n,t,i,r){try{this.$37I(n,t,i,r)}catch(u){Microsoft.Crm.Client.Core.Framework.$8.$1E("ReferenceProperty",1004,String.format("Error setting model field: {0} for property name: {1}, exception: {2}",i,t,u.toString()))}},$37I:function(n,t,i,r){var u=this.$2o["get_"+i](),e=n.GetValue(t),h=Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$2o)&&!$0.$0(r),c=!!($0.$0(u)^$0.$0(e)),o=c||!Microsoft.Crm.Client.Core.Framework.$2X.$Nk(u,e),f=new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!0,u,null),s;h&&(s=this.$2o,o&&(this.$2FA(r,n,t),f=r.$6W(u),u=f.$i7,s.set_$qu(f)));o&&(f.$57?(n.SetValue(t,u),this.$18o(i,n,t,r)):Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(n)?n.$l(t,u,null,null):Microsoft.Crm.Client.Core.Models.$6V.isInstanceOfType(n)?n.SetValue(t,u,null,null):Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(n)&&n.SetValue(t,u,null,null))},$2FA:function(n,t,i){if(Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(t)){var r=t;Microsoft.Crm.Client.Core.Models.Validation.$Cj.isInstanceOfType(n)?n.set_$2lQ(r.$2OY()&&(r.$2pL(i)||r.$1rG())):Microsoft.Crm.Client.Core.Models.Validation.$Cx.isInstanceOfType(n)&&n.set_$2lI(r.$1rG())}},$18o:function(n,t,i,r){Microsoft.Crm.Client.Core.Models.$6J.$1nM=!0;try{this.$37Z(n,t,i,r)}catch(u){Microsoft.Crm.Client.Core.Framework.$8.$1E("ReferenceProperty",1004,String.format("Error setting property name: {0} for model field: {1}, exception: {2}",n,i,u.toString()))}Microsoft.Crm.Client.Core.Models.$6J.$1nM=!1},$37Z:function(n,t,i,r){var e=t.GetValue(i),u,f;this.$2o["set_"+n](e);u=Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$2o)&&!$0.$0(r);u&&(f=this.$2o["get_"+n](),this.$2FA(r,t,i),this.$2o.set_$qu(r.$6W(f)))},$2HW:function(n,t,i){var r=n.GetValue(t),f=Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$2o),e=Microsoft.Crm.Client.Core.ViewModels.$75.isInstanceOfType(this.$2o)&&this.$2o.get_Required(),u;f&&e&&(u=this.$2o.get_Enabled()?$0.$0(i)?!$0.$0(r)&&Microsoft.Crm.Client.Core.Framework.$9a.isInstanceOfType(r)?new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(r.get_$s()>0,null,""):new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!$0.$0(r)&&!Microsoft.Crm.Client.Core.Framework.$3.$12(r.toString()),null,""):i.$6W(r):$0.$0(i)||$0.$0(r)?new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!0,null,""):i.$6W(r),this.$2o.set_$qu(u))},$32V:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$1g,Object),r,u;return Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2o.get_Root())?(r=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$1HT(t,n,0).done(function(n){i.resolve(n)})):(u=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$1HT(t,n,2).done(function(n){i.resolve(n)})),i.promise()},$2Hd:function(n,t){var s=Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$2o.get_Root())?this.$2o.get_Root().get_$31Y():!0,i,o,r;if((n.Name==="Data"||n.Name==="Value")&&s)if(i=n.ModelFieldName,Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(t)){var u=t,f=u.$I,e=f.$27[i];if($0.$0(f.getValue(i))&&$0.$0(e)&&i.split(".").length===2)return;e===21?this.$1nF(n,t,i):(o=this.$32V(i.split("!")[0],u),r=this,o.done(function(u){$0.$0(r.$2o)||u.$Oi||r.$2o.set_Enabled(!1);r.$1nF(n,t,i)}))}else this.$1nF(n,t,i)},$1nF:function(n,t,i){if(!$0.$0(this.$2o)&&!this.$2o.get_$BV()&&Microsoft.Crm.Client.Core.Models.IFormModel.isInstanceOfType(t)){var r=t,f=!this.$2o.get_Enabled(),u=this;r.$2gZ(i,n.ValidatorType,Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2o.get_Root())).done(function(e){var h,c;if(!$0.$0(e)){if(n.Validator=e.$2QJ(),u.$2Tk(n,t,i),Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(u.$2o)&&u.$2o.set_$qu(n.Validator.$6W(t.GetValue(i),!0,f)),Microsoft.Crm.Client.Core.ViewModels.$4k.isInstanceOfType(u.$2o)&&r.$2gT(i).done(function(n){u.$2o.set_MaxLength(n)}),Microsoft.Crm.Client.Core.ViewModels.$75.isInstanceOfType(u.$2o)&&r.$2gV(i).done(function(r){var e=u.$2o;e.set_RequiredLevel(r);e.AddPropertyChangedListener("RequiredLevel",function(){(n.Validator.set_$tH(e.get_Required()),Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(t)&&t.$2h)||e.set_DataBindingValidatorResult(n.Validator.$6W(t.GetValue(i),!1,f))})}),Microsoft.Crm.Client.Core.ViewModels.$5o.isInstanceOfType(u.$2o)&&Microsoft.Crm.Client.Core.Models.Validation.$Cn.isInstanceOfType(n.Validator)){var l=r.$20b(i),a=r.$20c(i),v=r.$20d(i),o=u.$2o;o.set_$16G(l);o.set_$UC(a);o.set_$UF(v);o.apcl("Precision",function(){Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(r)&&r.$2h||(r.$382(i,o.get_$16G()),n.Validator.set_$2y3(r.$1c2(i)))});o.apcl("MaxValue",function(){Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(r)&&r.$2h||(r.$37z(i,o.get_$UC()),n.Validator.set_$UC(r.$2fo(i)))});o.apcl("MinValue",function(){Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(r)&&r.$2h||(r.$381(i,o.get_$UF()),n.Validator.set_$UF(r.$2fp(i)))})}if(Microsoft.Crm.Client.Core.ViewModels.$7x.isInstanceOfType(u.$2o)){var y=r.$12l(i),p=r.$216(i),w=r.$1HF(i),s=u.$2o;s.set_Format(y);s.set_MinDate(p);s.set_Behavior(w);s.AddPropertyChangedListener("Format",function(){Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(r)&&r.$2h||r.$37y(i,s.$A8)});s.AddPropertyChangedListener("MinDate",function(){Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(r)&&r.$2h||(r.$380(i,s.$Ir),n.Validator.set_$2rn(r.$216(i)))})}else Microsoft.Crm.Client.Core.ViewModels.$E1.isInstanceOfType(u.$2o)&&Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(h=r.$1HF(i),c=u.$2o,c.set_Behavior(h))}})}},$2Tk:function(n,t,i){var r,u;Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.Framework.Utils.$19.isCreateFormOpenViaUrl()&&n.ValidatorType===8&&(r=t.GetValue(i),$0.$0(r)||(u=Microsoft.Crm.Client.Core.Framework.$h.$Lk(new Date(r.toString()),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$FS(),n.Validator.$oS,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9()),t.SetValue(i,u)))},$2vg:function(n,t){var r=!this.$2o.get_Enabled(),i;"Value"in this.$Un&&(i=this.$Un.Value,Microsoft.Crm.Client.Core.Models.Validation.$6b.isInstanceOfType(i.Validator)&&(n.set_DataBindingValidatorResult(i.Validator.$6W(t,!0,r)),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(n.$8W.$47?Microsoft.Crm.Client.Core.ViewModels.$10.$My(n.$8W.$47):Microsoft.Crm.Client.Core.ViewModels.$10.$My(""))))},$33P:function(){var e=!this.$2o.get_Enabled(),i=this.$Un,t,r,n,u,f;for(t in i)r={key:t,value:i[t]},n=r.value,Microsoft.Crm.Client.Core.Models.Validation.$6b.isInstanceOfType(n.Validator)&&(u=n.ModelFieldName,f=n.Validator.$6W(this.$2o.get_$1B().GetValue(u),!0,e),this.$2o.set_$qu(f))}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.LookupControlItem=function(n,t,i){this.entityType=n;$0.$0(t)||(this.id=String.format("{{{0}}}",t.toUpperCase()));this.name=i;$0.$0(n)||(this.type=Xrm.Internal.getEntityCode(n).toString())};Microsoft.Crm.Client.Core.ViewModels.$8C=function(){};Microsoft.Crm.Client.Core.ViewModels.$8C.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$8C");Microsoft.Crm.Client.Core.ViewModels.$KF=function(){};Microsoft.Crm.Client.Core.ViewModels.$KH=function(){};Microsoft.Crm.Client.Core.ViewModels.$KK=function(){};Microsoft.Crm.Client.Core.ViewModels.$KN=function(){};Microsoft.Crm.Client.Core.ViewModels.$88=function(){};Microsoft.Crm.Client.Core.ViewModels.$88.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$88");Microsoft.Crm.Client.Core.ViewModels.$63=function(n,t){this.$qR=n;this.$Cx=t};Microsoft.Crm.Client.Core.ViewModels.$KL=function(){};Microsoft.Crm.Client.Core.ViewModels.$EX=function(){};Microsoft.Crm.Client.Core.ViewModels.$EX.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$EX");Microsoft.Crm.Client.Core.ViewModels.$6Z=function(){};Microsoft.Crm.Client.Core.ViewModels.$6Z.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$6Z");Microsoft.Crm.Client.Core.ViewModels.$Ch=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ch.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ch");Microsoft.Crm.Client.Core.ViewModels.$EW=function(){};Microsoft.Crm.Client.Core.ViewModels.$EW.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$EW");Microsoft.Crm.Client.Core.ViewModels.$9c=function(){};Microsoft.Crm.Client.Core.ViewModels.$9c.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$9c");Microsoft.Crm.Client.Core.ViewModels.$86=function(){};Microsoft.Crm.Client.Core.ViewModels.$86.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$86");Microsoft.Crm.Client.Core.ViewModels.$Cr=function(){};Microsoft.Crm.Client.Core.ViewModels.$Cr.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Cr");Microsoft.Crm.Client.Core.ViewModels.$EY=function(){};Microsoft.Crm.Client.Core.ViewModels.$EY.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$EY");Microsoft.Crm.Client.Core.ViewModels.$3X=function(){};Microsoft.Crm.Client.Core.ViewModels.$3X.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$3X");Microsoft.Crm.Client.Core.ViewModels.$DA=function(){};Microsoft.Crm.Client.Core.ViewModels.$DA.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$DA");Microsoft.Crm.Client.Core.ViewModels.$DB=function(){};Microsoft.Crm.Client.Core.ViewModels.$DB.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$DB");Microsoft.Crm.Client.Core.ViewModels.$EV=function(){};Microsoft.Crm.Client.Core.ViewModels.$EV.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$EV");Microsoft.Crm.Client.Core.ViewModels.$4Q=function(){};Microsoft.Crm.Client.Core.ViewModels.$4Q.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$4Q");Microsoft.Crm.Client.Core.ViewModels.$9v=function(){};Microsoft.Crm.Client.Core.ViewModels.$9v.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$9v");Microsoft.Crm.Client.Core.ViewModels.$2v=function(){};Microsoft.Crm.Client.Core.ViewModels.$2v.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$2v");Microsoft.Crm.Client.Core.ViewModels.$4B=function(){};Microsoft.Crm.Client.Core.ViewModels.$4B.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$4B");Microsoft.Crm.Client.Core.ViewModels.$78=function(){};Microsoft.Crm.Client.Core.ViewModels.$78.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$78");Microsoft.Crm.Client.Core.ViewModels.$Eb=function(){};Microsoft.Crm.Client.Core.ViewModels.$Eb.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Eb");Microsoft.Crm.Client.Core.ViewModels.EntityFormMode=function(){};Microsoft.Crm.Client.Core.ViewModels.EntityFormMode.prototype={none:0,create:1,edit:2};Microsoft.Crm.Client.Core.ViewModels.EntityFormMode.registerEnum("Microsoft.Crm.Client.Core.ViewModels.EntityFormMode",!1);Microsoft.Crm.Client.Core.ViewModels.$9Y=function(){};Microsoft.Crm.Client.Core.ViewModels.$9Y.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$9Y");Microsoft.Crm.Client.Core.ViewModels.$Ea=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ea.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ea");Microsoft.Crm.Client.Core.ViewModels.$Ec=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ec.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ec");Microsoft.Crm.Client.Core.ViewModels.$9e=function(){};Microsoft.Crm.Client.Core.ViewModels.$9e.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$9e");Microsoft.Crm.Client.Core.ViewModels.$87=function(){};Microsoft.Crm.Client.Core.ViewModels.$87.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$87");Microsoft.Crm.Client.Core.ViewModels.$2u=function(){};Microsoft.Crm.Client.Core.ViewModels.$2u.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$2u");Microsoft.Crm.Client.Core.ViewModels.$77=function(){};Microsoft.Crm.Client.Core.ViewModels.$77.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$77");Microsoft.Crm.Client.Core.ViewModels.$EZ=function(){};Microsoft.Crm.Client.Core.ViewModels.$EZ.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$EZ");Microsoft.Crm.Client.Core.ViewModels.$5o=function(){};Microsoft.Crm.Client.Core.ViewModels.$5o.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$5o");Microsoft.Crm.Client.Core.ViewModels.$75=function(){};Microsoft.Crm.Client.Core.ViewModels.$75.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$75");Microsoft.Crm.Client.Core.ViewModels.$DG=function(){};Microsoft.Crm.Client.Core.ViewModels.$DG.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$DG");Microsoft.Crm.Client.Core.ViewModels.RelationshipType=function(){};Microsoft.Crm.Client.Core.ViewModels.RelationshipType.prototype={none:-1,oneToMany:0,manyToMany:1};Microsoft.Crm.Client.Core.ViewModels.RelationshipType.registerEnum("Microsoft.Crm.Client.Core.ViewModels.RelationshipType",!1);Microsoft.Crm.Client.Core.ViewModels.$Eu=function(){};Microsoft.Crm.Client.Core.ViewModels.$Eu.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Eu");Microsoft.Crm.Client.Core.ViewModels.$Ev=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ev.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ev");Microsoft.Crm.Client.Core.ViewModels.$Cs=function(){};Microsoft.Crm.Client.Core.ViewModels.$Cs.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Cs");Microsoft.Crm.Client.Core.ViewModels.$Et=function(){};Microsoft.Crm.Client.Core.ViewModels.$Et.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Et");Microsoft.Crm.Client.Core.ViewModels.$DE=function(){};Microsoft.Crm.Client.Core.ViewModels.$DE.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$DE");Microsoft.Crm.Client.Core.ViewModels.$F7=function(){};Microsoft.Crm.Client.Core.ViewModels.$F7.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$F7");Microsoft.Crm.Client.Core.ViewModels.$DC=function(){};Microsoft.Crm.Client.Core.ViewModels.$DC.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$DC");Microsoft.Crm.Client.Core.ViewModels.$I=function(n,t){this.$5j=n;this.$M=t};Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$I.$j7[n]=t};Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$I.$j7[n]=t};Microsoft.Crm.Client.Core.ViewModels.$I.prototype={$5j:null,$M:null,$56:function(){var n=null;return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$I.$j7[this.$M.QueryType])?Microsoft.Crm.Client.Core.Framework.$8.$1E("ActionProvider",1004,"No method registered to create an action for QueryType: "+this.$M.QueryType):n=Microsoft.Crm.Client.Core.ViewModels.$I.$j7[this.$M.QueryType](this.$5j,this.$M),n},$B1:function(n){var t=null;return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$I.$j7[this.$M.QueryType])?Microsoft.Crm.Client.Core.Framework.$8.$1E("ActionProvider",1004,"No method registered to create an action for QueryType: "+this.$M.QueryType):t=Microsoft.Crm.Client.Core.ViewModels.$I.$j7[this.$M.QueryType](this.$5j,n),t},$12y:function(){return this.$56()}};Microsoft.Crm.Client.Core.ViewModels.$RA=function(){this.$$d_$1R=Function.createDelegate(this,this.$1R);this.$4y=Microsoft.Crm.Client.Core.Framework.$1J.$1Iu;Microsoft.Crm.Client.Core.ViewModels.$RA.initializeBase(this);var n=this.$V4+":"+this.$px.substr(this.$px.lastIndexOf(".")+1);Microsoft.Crm.Client.Core.Framework.$9j.isInstanceOfType(this)||(this.$wz=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("Action:Submitted:"+n));this.$Qa=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("Action:Executing:"+n)};Microsoft.Crm.Client.Core.ViewModels.$RA.prototype={$1b_3:null,$A_3:null,$wz:null,$Qa:null,$RS:null,get_$Y:function(){if($0.$0(this.$A_3))return null;var n=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$A_3.get_Name())?this.$A_3.get_$1u():this.$A_3.get_Name(),t=this.$2Wu();return Microsoft.Crm.Client.Core.Framework.$8V.$4t(this.$A_3.get_Id(),n,this.get_$KL(),t,this.$L)},get_$KL:function(){return $0.$0(this.$4y)&&(this.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$jx),this.$4y},get_$1d:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$1d()},$28e:function(){Microsoft.Crm.Client.Core.Framework.$3Z.prototype.$28e.call(this);this.$23k(1)},$23k:function(n){switch(n){case 1:this.$wz&&this.$wz.start();break;case 2:this.$wz&&this.$wz.stop();this.$Qa&&this.$Qa.start();break;case 3:case 4:this.$Qa&&this.$Qa.stop()}},$23n:function(n){var t=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(i){try{t.$RS=i;Microsoft.Crm.Client.Core.Framework.$3Z.prototype.$23n.call(t,n)}catch(r){if($0.$0(t.$A_3)||!t.$A_3.get_$BV())throw r;}},this.get_$KL(),"Execute action "+this.$V4)},$1H:function(n,t,i,r){this.$1Xn(n,Microsoft.Crm.Client.Core.Framework.$7,t,i,r)},$1Xn:function(n,t,i,r,u){var f=i.isResolved()||i.isRejected();Microsoft.Crm.Client.Core.Framework.Utils.$A.$1RK(this.$RS.get_$25D().get_$AT(),!0,"Cannot continue executing action when scheduler job is completed.");var e=MscrmComponents.DeferredPromiseFactory(Function,Microsoft.Crm.Client.Core.Framework.$7),o=this,s=this;i.then(function(n){if(f)r&&r(n);else{var t=function(t){o.$Qa.start();o.$RS=t;r&&r(n)};e.resolve(t)}},function(n){if(f)u&&u(n);else{var t=function(t){s.$Qa.start();s.$RS=t;u&&u(n)};e.resolve(t)}});f||(this.$Qa.stop(),this.$RS.$37U(e.promise()))},$9H:function(n,t,i){var r=this;this.$1Xn(Array,Object,n,t,function(n){i(n)})},$El:function(n,t){this.$Qa.stop();var i=this,r=function(t){i.$Qa.start();i.$RS=t;n(t)};this.$RS.get_$tN()?(this.$RS.get_$25D().set_$J3(t),this.$RS.$2FB(r)):Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(r,t,"Execute action "+this.$V4)},$14:function(){this.$65(null)},$1R:function(n){var t=Error.create(String.format("DynamicsAction has failed. Error message: \n\n {0}",n.$F));$0.$0(this.$1b_3)?$0.$0(this.$A_3)||this.$A_3.get_$BV()||(this.$A_3.$MZ(n),Microsoft.Crm.Client.Core.Framework.Trace.logError(1,t.message)):this.$1b_3(n);this.$65(t)},$2Wu:function(){var n;if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$A_3))n=this.$A_3;else{if($0.$0(this.$A_3.get_Root()))return null;n=this.$A_3.get_Root()}return $0.$0(n.$4H)?null:n.$4H}};Microsoft.Crm.Client.Core.ViewModels.$Rn=function(){Microsoft.Crm.Client.Core.ViewModels.$Rn.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$KI=function(){};Microsoft.Crm.Client.Core.ViewModels.$KI.prototype={Id:null,EnableRules:null,DisplayRules:null,Actions:null};Microsoft.Crm.Client.Core.ViewModels.$KG=function(){};Microsoft.Crm.Client.Core.ViewModels.$KG.prototype={RuleType:0,DefaultValue:!0,InvertResult:!1};Microsoft.Crm.Client.Core.ViewModels.$Oe=function(){Microsoft.Crm.Client.Core.ViewModels.$Oe.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Oe.prototype={OrGroups:null};Microsoft.Crm.Client.Core.ViewModels.$Of=function(){Microsoft.Crm.Client.Core.ViewModels.$Of.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Of.prototype={AppliesTo:0,EntityLogicalName:null,EntityContextName:null};Microsoft.Crm.Client.Core.ViewModels.$Og=function(){Microsoft.Crm.Client.Core.ViewModels.$Og.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Og.prototype={AppliesTo:0,EntityLogicalName:null,PropertyName:0,PropertyValue:!1};Microsoft.Crm.Client.Core.ViewModels.$P4=function(){Microsoft.Crm.Client.Core.ViewModels.$P4.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P4.prototype={EntityLogicalName:null};Microsoft.Crm.Client.Core.ViewModels.$P5=function(){Microsoft.Crm.Client.Core.ViewModels.$P5.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P5.prototype={AppliesTo:0,EntityLogicalName:null,PrivilegeType:0,PrivilegeDepth:0};Microsoft.Crm.Client.Core.ViewModels.$P6=function(){Microsoft.Crm.Client.Core.ViewModels.$P6.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P6.prototype={PrivilegeName:null,PrivilegeId:null,PrivilegeDepth:0};Microsoft.Crm.Client.Core.ViewModels.$P3=function(){Microsoft.Crm.Client.Core.ViewModels.$P3.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P3.prototype={FormState:0};Microsoft.Crm.Client.Core.ViewModels.$P0=function(){Microsoft.Crm.Client.Core.ViewModels.$P0.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P0.prototype={FormType:0};Microsoft.Crm.Client.Core.ViewModels.$P1=function(){Microsoft.Crm.Client.Core.ViewModels.$P1.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P1.prototype={Setting:0};Microsoft.Crm.Client.Core.ViewModels.$P2=function(){Microsoft.Crm.Client.Core.ViewModels.$P2.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P2.prototype={Field:null,Value:null};Microsoft.Crm.Client.Core.ViewModels.$P7=function(){Microsoft.Crm.Client.Core.ViewModels.$P7.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P7.prototype={ClientType:0};Microsoft.Crm.Client.Core.ViewModels.$PB=function(){Microsoft.Crm.Client.Core.ViewModels.$PB.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$PB.prototype={ClientType:0};Microsoft.Crm.Client.Core.ViewModels.$PC=function(){Microsoft.Crm.Client.Core.ViewModels.$PC.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$PC.prototype={Type:0};Microsoft.Crm.Client.Core.ViewModels.$PD=function(){Microsoft.Crm.Client.Core.ViewModels.$PD.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$PD.prototype={OutlookClientType:0};Microsoft.Crm.Client.Core.ViewModels.$PA=function(){Microsoft.Crm.Client.Core.ViewModels.$PA.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$PA.prototype={OfflineAccessState:0};Microsoft.Crm.Client.Core.ViewModels.$P8=function(){Microsoft.Crm.Client.Core.ViewModels.$P8.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P8.prototype={RenderType:0};Microsoft.Crm.Client.Core.ViewModels.$P9=function(){Microsoft.Crm.Client.Core.ViewModels.$P9.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P9.prototype={AppliesTo:0,RelationshipType:0,AllowCustomRelationship:!1,AllowSystemRelationship:!1};Microsoft.Crm.Client.Core.ViewModels.$Os=function(){Microsoft.Crm.Client.Core.ViewModels.$Os.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Os.prototype={SkuTypes:0};Microsoft.Crm.Client.Core.ViewModels.$Ot=function(){Microsoft.Crm.Client.Core.ViewModels.$Ot.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ot.prototype={AppliesTo:0,Minimum:0,Maximum:0};Microsoft.Crm.Client.Core.ViewModels.$Ou=function(){Microsoft.Crm.Client.Core.ViewModels.$Ou.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ou.prototype={Parameters:null,FunctionName:null,Library:null};Microsoft.Crm.Client.Core.ViewModels.$Or=function(){Microsoft.Crm.Client.Core.ViewModels.$Or.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Or.prototype={Address:null};Microsoft.Crm.Client.Core.ViewModels.$Oo=function(){Microsoft.Crm.Client.Core.ViewModels.$Oo.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Oo.prototype={OptionSetName:null,ObjectTypeCode:0,StateCode:0};Microsoft.Crm.Client.Core.ViewModels.$Op=function(){Microsoft.Crm.Client.Core.ViewModels.$Op.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Op.prototype={FeatureControlBit:null,ExpectedValue:!1};Microsoft.Crm.Client.Core.ViewModels.$KM=function(){};Microsoft.Crm.Client.Core.ViewModels.$Oq=function(){Microsoft.Crm.Client.Core.ViewModels.$Oq.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Oq.prototype={Address:null,WinMode:0,WinParameters:null,PassParameters:!1};Microsoft.Crm.Client.Core.ViewModels.$OD=function(){Microsoft.Crm.Client.Core.ViewModels.$OD.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$OD.prototype={FunctionName:null,Library:null};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel=function(){this.$$d_$2vL=Function.createDelegate(this,this.$2vL);this.$Cz=-1;this.$1fs=-1;Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.initializeBase(this);this.$11=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel))};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("PivotContainer",Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1Uz);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("SectionContainer",Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1Uz);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("PanoramaContainer",Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1Uz)};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled=function(){return Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$r1&&!Array.contains(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1uQ,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33().$g)};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.set_DelayedPaneRenderingEnabled=function(n){return Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$r1=n,n};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1Uz=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel,t={};return t.Arg1="ActiveItemName",n.set_ActiveItemChangedCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("ActiveItemChangedCommand","ActiveItemChanged",null,t))),n};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.prototype={$11:null,$dc:null,$1eD:!0,$1OK:null,$mY:null,get_Items:function(){return this.$11},get_Panes:function(){return this.$mY||(this.$mY=this.$38u()),this.$mY},get_VisiblePanesCount:function(){return this.get_Panes().get_Count()},$CK:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$CK.call(this,n,t),Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(t)){var i=t;this.$11.$3w(i);i.$4u&&(this.$16e(),this.$7("VisibleChildrenCount"))}else Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1029,"Child of type other than PanoramaItemViewModel encountered.")},$1Bd:null,get_ActiveItemName:function(){return this.$1Bd},set_ActiveItemName:function(n){return this.$1Bd!==n&&(this.$1Bd=n,this.$7("ActiveItemName"),this.$1a&&!$0.$0(this.$dc)&&this.$dc.execute()),n},get_ActiveItemChangedCommand:function(){return this.$dc},set_ActiveItemChangedCommand:function(n){return $0.$0(this.$dc)||(this.$dc.dispose(),this.$dc=null),this.$dc=n,n},get_CurrentPaneIndex:function(){return this.$Cz},set_CurrentPaneIndex:function(n){if(this.$Cz!==n&&(this.$Cz=n,this.$7("CurrentPaneIndex"),Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()))if(this.$1eD)this.$1eD=!1,this.$1Ky(!0);else{window.clearTimeout(this.$1fs);var t=this,i=function(){t.$1Ky(!1)};this.$1fs=window.setTimeout(i,500)}return n},add_OnRootViewActivated:function(n){this.$1p("OnRootViewActivated",n)},remove_OnRootViewActivated:function(n){this.$32("OnRootViewActivated",n)},add_OnRootViewDeactivated:function(n){this.$1p("OnRootViewDeactivated",n)},remove_OnRootViewDeactivated:function(n){this.$32("OnRootViewDeactivated",n)},add_OnPaneIndexProgrammaticallyUpdated:function(n){this.$1p("OnPaneIndexProgrammaticallyUpdated",n)},remove_OnPaneIndexProgrammaticallyUpdated:function(n){this.$32("OnPaneIndexProgrammaticallyUpdated",n)},updatePaneIndex:function(n,t){for(var i=this.$Cz,r=0;r<Math.abs(n);r++)i=n>0?this.nextVisibleIndex(i):this.previousVisibleIndex(i);this.set_CurrentPaneIndex(i);t&&this.$9j("OnPaneIndexProgrammaticallyUpdated")},$EP:function(n,t){this.$xQ(!0);this.$9j("OnRootViewActivated");Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)},$uN:function(n,t){this.$9j("OnRootViewDeactivated");Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$uN.call(this,n,t)},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().apcl("IsStackingEnabled",this.$$d_$2vL)},$Oh:function(){this.set_ActiveItemChangedCommand(null);this.$11=null;Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().rpcl("IsStackingEnabled",this.$$d_$2vL);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$27O:function(n,t){var i,r,u;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$27O.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()||Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.PaneScrollIndicatorEnabled?(i=new Array(0),this.$Cz>=0&&this.$Cz<this.get_VisiblePanesCount()&&(i=this.get_Panes().get_$R(this.$Cz)),this.$16e(),Array.contains(i,t)&&!n?i.length===1&&(r=this.previousVisibleIndex(this.$Cz),r!==-1?this.set_CurrentPaneIndex(r):Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()&&this.$1Ky(!0),this.$9j("OnPaneIndexProgrammaticallyUpdated")):n&&Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&this.$2.$g===31?(u=this.$1cQ(t),(this.$Cz===-1||this.$Cz>u)&&this.set_CurrentPaneIndex(u)):this.$Cz===-1&&n?(this.set_CurrentPaneIndex(this.$1cQ(t)),this.$9j("OnPaneIndexProgrammaticallyUpdated")):Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()&&this.$1Ky(!1)):this.$16e();this.$9j("OnVisibleChildrenCountChanged")},$1Ky:function(n){var t=this;this.$1fp(this.$Cz).always(function(){t.$xQ(n).always(function(){t.$2qY().always(function(){t.$2qa()})})})},$2qY:function(){var n=this.nextVisibleIndex(this.$Cz);return this.$1fp(n)},$16e:function(){this.$mY&&(this.$mY.clear(),this.$mY=null,this.$7("VisiblePanesCount"))},$1cF:function(n){for(var i=this.get_Panes().get_$R(n),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel)),t=0;t<i.length;t++)r.add(this.$11.get_$R(i[t]));return r.toArray()},$2NO:function(n){var i,t;if($0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().get_$lW()||n===-1||!n)return n;for(i=0,t=0;t<n;t++)i+=this.$1cF(t).length;return i},$2qa:function(){var n=this.previousVisibleIndex(this.$Cz);return this.$1fp(n)},$1fp:function(n){var i,r,t,u;if(n===-1)return MscrmComponents.DeferredPromiseFactory(Object,Object).resolve().promise();for(i=this.$1cF(n),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Imported.IDeferred$2.$$(Boolean,Object))),t=0;t<i.length;t++)u=i[t],r.$3w(u.$1fe());return Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(r)},$xQ:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i,r,u;return this.$2.$Sg?(i=[],n&&Array.add(i,this.$2.$2At()),this.$Cz>=0&&(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().get_$lW()&&this.$1cF(this.$Cz).length>1?(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$1X8(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.set_IsLoading(!1)):(r=this.$2NO(this.$Cz),Array.add(i,this.$11.get_$R(r).$xQ()))),u=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).always(function(){t.resolve(!0)}),t.promise()):(t.resolve(!0),t.promise())},get_ReorderedPanesNames:function(){return this.$1OK},set_ReorderedPanesNames:function(n){return this.$1OK!==n&&(this.$1OK=n,this.$7("ReorderedPanesNames")),n},nextVisibleIndex:function(n){var t=n+1;return t>=this.get_VisiblePanesCount()?-1:t},previousVisibleIndex:function(n){var t=n-1;return t<0?-1:t},$1cQ:function(n){for(var i,t=0;t<this.get_VisiblePanesCount();t++)if(i=this.get_Panes().get_$R(t),Array.contains(i,n))return t;return-1},$38u:function(){for(var f,i,n,r,t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number)),u=0;u<this.$11.get_Count();u++)this.$11.get_$R(u).$4u&&t.add(u);for(f=!1,Microsoft.Crm.Client.Core.Framework.$6.get_$1KK()?f=!0:$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())||(f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().get_$lW()),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Array)),n=0;n<t.get_Count();){if(r=t.get_$R(n),n+1>=t.get_Count()){i.add([r]);break}var e=this.$11.get_$R(r),o=t.get_$R(n+1),s=this.$11.get_$R(o);f&&e.$ol&&s.$ol&&e.$zB===s.$zB?(i.add([r,o]),n+=2):(i.add([r]),n++)}return i},$2vL:function(){var n,t,i;this.$Cz===-1?this.$16e():(n=this.get_Panes().get_$R(this.$Cz),t=n[0],this.$16e(),i=this.$1cQ(t),this.set_CurrentPaneIndex(i))}};Microsoft.Crm.Client.Core.ViewModels.$5w=function(){};Microsoft.Crm.Client.Core.ViewModels.$5w.$1J8=function(n){var t,i,r,u;return Microsoft.Crm.Client.Core.Framework.$3.$12(n)?!1:(t=n.lastIndexOf("."),t<=0||t===n.length-1)?!1:(i=n.substr(t+1),$0.$1Y(i))?!1:(r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$2MM().toLowerCase(),u=r.split(";"),Array.contains(u,i.toLowerCase()))};Microsoft.Crm.Client.Core.ViewModels.$4Z=function(){this.$$d_$MZ=Function.createDelegate(this,this.$MZ);this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;Microsoft.Crm.Client.Core.ViewModels.$4Z.resolveInheritance();this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$4Z.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype={$L:null,$1P:null,$D:null,$1a:!1,$18:null,$2:null,$2i:null,$MI_3:!1,get_Name:function(){return this.$L},set_Name:function(n){return n!==this.$L&&(this.$L=n,this.$7("Name")),n},get_$2m:function(){return this.$1P},set_$2m:function(n){return $0.$0(n)||(this.$1P=n),n},get_IsSelected:function(){return this.$MI_3},set_IsSelected:function(n){return this.$MI_3!==n&&(this.$MI_3=n,this.$MI_3?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Kz(this):Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$30y(this),this.$7("IsSelected")),n},get_ModelContext:function(){return this.$18},set_ModelContext:function(n){return this.$2oX(n)&&(this.$18=n,this.$7("ModelContext"),this.$Hd()),n},get_PrimaryModelName:function(){return this.$D},set_PrimaryModelName:function(n){return this.$D!==n&&(this.$D=n,this.$7("PrimaryModelName")),n},get_$2m9:function(){return this.$1a},get_$1B:function(){return this.$2hV(this.$D)},get_$AH:function(){return this.$2i},set_$AH:function(n){return this.$2i=n,n},get_$GO:function(){return this.$2},set_$GO:function(n){if(this.$2!==n){var t=this.$2;this.$2=n;this.$7("Root");this.$2v4(this.$2,t)}return n},$2Z:function(){this.$1a=!0},$2hV:function(n){var t=null;return $0.$0(this.get_ModelContext())||(t=Microsoft.Crm.Client.Core.Models.$8A.isInstanceOfType(this.get_ModelContext())?this.get_ModelContext().$OZ(n):this.get_ModelContext()),t},$Rr:function(){},$2P1:function(){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(this.$MI_3=!1)},$rT:function(){},$Hd:function(){},$2v4:function(){},$n:function(n){return Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(n))},$MZ:function(n){Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(n)},$Oh:function(){this.$2i&&Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(this.$2i)&&this.$2i.$16q(this);var n=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$6D);n.$2BM(this);this.$18=null;Microsoft.Crm.Client.Core.Framework.$AJ.prototype.$Oh.call(this)},$2oX:function(n){if(Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)&&!Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this)){var t=this.$L.split(":");if(t.length===2)return!0}return this.$18!==n}};Microsoft.Crm.Client.Core.ViewModels.$Rz=function(){this.$1md=Microsoft.Crm.Client.Core.Framework.$6.get_$f()?5:10;Microsoft.Crm.Client.Core.ViewModels.$Rz.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Rz.prototype={$1sN:null,set_$T1:function(n){return this.$1sN=n,n},$vT:function(n){this.$9n("BeforePopRootViewModel",n);Microsoft.Crm.Client.Core.ViewModels.$RQ.prototype.$vT.call(this,n);var t=this.get_ActiveNavigationStack().get_Count()-this.$1md;t>0&&(this.$16m(0,t),this.get_ActiveNavigationStack().$16s(0,t))},$vL:function(){this.popMany(1)},popMany:function(n){if(n<=0)throw Error.argumentOutOfRange("numberOfItems",n,"Cannot pass 0 or negative to the PopMany method.");this.$16m(this.get_ActiveNavigationStack().get_Count()-n,n);Microsoft.Crm.Client.Core.ViewModels.$RQ.prototype.popMany.call(this,n)},$16m:function(n,t){var r=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43),u=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$6D),i,f;if(r||u)for(i=n;i<n+t;i++)f=this.get_ActiveNavigationStack().get_$R(i),this.$2PI(u,r,f)},$2PI:function(n,t,i){var r,u;$0.$0(i)||(r=i.get_ViewModelId(),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$sw?this.$1ut(n,t,r):(u=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){u.$1ut(n,t,r)},-13,"CanvasConductor.RemoveViewModel")))},$1ut:function(n,t,i){var f=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CanvasConductorViewModel.RemoveViewModel"),r,u;if(f.start(),r=n.$2BN(i),r)for(u=0;u<r.get_Count();u++)t.$1XL(r.get_$R(u));f.stop()}};Microsoft.Crm.Client.Core.ViewModels.CommandFactory=function(){};Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary=null};Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C=function(n,t){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary||(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary={});Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary[n]=t};Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n=function(n,t){var i=null;return t.ValueTypeName in Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary&&(i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary[t.ValueTypeName](n,t)),i};Microsoft.Crm.Client.Core.ViewModels.$6o=function(){this.$$d_$28C=Function.createDelegate(this,this.$28C);this.$sY=new Microsoft.Crm.Client.Core.Framework.$AL;this.$IN=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$24));this.$v4={};this.$e7={};this.$PB=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.$Bo));this.$Lj=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.$Bo));this.$Mf=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.$Bo));this.$Oc=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.$Bo));Microsoft.Crm.Client.Core.ViewModels.$6o.initializeBase(this);this.$bG=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));this.$Y4=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));this.$1E8=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$1P1=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.ViewModels.$8C);this.$z2=!0};Microsoft.Crm.Client.Core.ViewModels.$6o.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("CommandManagerViewModel",Microsoft.Crm.Client.Core.ViewModels.$6o.$2PO)};Microsoft.Crm.Client.Core.ViewModels.$6o.$31w=function(n){return Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)?"CommandButton":Microsoft.Crm.Client.Core.ViewModels.$8m.isInstanceOfType(n)?"AppBarGroup":Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(n)?"MenuButton":Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel.isInstanceOfType(n)?"NavBarSubArea":Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel.isInstanceOfType(n)?"NavBarGroup":"Control"};Microsoft.Crm.Client.Core.ViewModels.$6o.$2PO=function(){return new Microsoft.Crm.Client.Core.ViewModels.$6o};Microsoft.Crm.Client.Core.ViewModels.$6o.prototype={$1QM:!0,$1u2:null,$bG:null,$Y4:null,$1P1:null,$1E8:null,$1Di:!1,$F1:!0,$e8:"",$sZ:"",$E3:null,$1k:!0,$1LI:0,$15u:null,add_AfterRuleEvaluationEvent:function(n){this.$1p("AfterRuleEvaluation",n)},remove_AfterRuleEvaluationEvent:function(n){this.$32("AfterRuleEvaluation",n)},get_IsEnabled:function(){return this.$F1},set_IsEnabled:function(n){return this.$F1=n,n},get_ContextualContextId:function(){return this.$e8},set_ContextualContextId:function(n){return this.$e8!==n&&(this.$e8=n),n},get_GlobalContextId:function(){return this.$sZ},set_GlobalContextId:function(n){return this.$sZ!==n&&(this.$sZ=n),n},get_IsMergedContext:function(){if(!Microsoft.Crm.Client.Core.Framework.$6.get_$3A())return!1;if(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())&&!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5B)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5B.get_Count()>0){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$e8)){var n=this.$e8.split(":");if(n[0]==="proxyprocesscontrol")return!0}return!1}return!0},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return n!==this.$1k&&(this.$1k=n,this.$7("IsLoading")),n},get_MaximumVisibleButtonsCount:function(){return this.$1LI},set_MaximumVisibleButtonsCount:function(n){return n!==this.$1LI&&(this.$1LI=n),n},get_PageSectionTitle:function(){return this.$15u},set_PageSectionTitle:function(n){return this.$15u=n,n},get_SelectedRowCount:function(){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$E3))return this.$E3.$Kp;if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$E3)){var n=this.$1FZ();if(!$0.$0(n))return n.$Kp}return-1},get_AreAllRowsSelected:function(){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$E3))return this.$E3.$QC;if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$E3)){var n=this.$1FZ();if(!$0.$0(n))return n.$QC}return!1},get_IsMultiSelectEvent:function(){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$E3))return this.$E3.$R6;if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$E3)){var n=this.$1FZ();if(!$0.$0(n))return n.$R6}return!1},$z2:!1,add_ExpandEvent:function(n){this.$1p("Expand",n)},remove_ExpandEvent:function(n){this.$32("Expand",n)},add_CollapseEvent:function(n){this.$1p("Collapse",n)},remove_CollapseEvent:function(n){this.$32("Collapse",n)},get_ShowGlobalAndPageCommands:function(){return this.$1QM},set_ShowGlobalAndPageCommands:function(n){return this.$1QM!==n&&(this.$1QM=n,this.$7("ShowGlobalAndPageCommands")),n},expand:function(){var n=this.$4d("Expand");$0.$0(n)||n()},collapse:function(){var n=this.$4d("Collapse");$0.$0(n)||n()},commandExecute:function(n){n&&this.$IN.get_$R(n)&&this.$IN.get_$R(n).$1g.get_CanExecute()&&this.$IN.get_$R(n).$1g.execute()},mergePageAndGlobalSections:function(){var n,t,i;if(this.$Oc.get_Count()>0&&this.$Mf.get_Count()>0){n=this.$Oc.get_$R(0).$H;for(t in n)i={key:t,value:n[t]},this.$Mf.get_$R(0).$CK(i.key,i.value)}},forceRuleEvaluation:function(){this.$2Xj();var n=this.$4d("AfterRuleEvaluation");$0.$0(n)||n(this,null)},$2Xj:function(){for(var t,i,r,n=0;n<this.$Lj.get_Count();n++)Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(this.$Lj.get_$R(n))&&!this.$Lj.get_$R(n).$2h&&this.$Lj.get_$R(n).$rT(!1);for(t=0;t<this.$Mf.get_Count();t++)Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(this.$Mf.get_$R(t))&&!this.$Mf.get_$R(t).$2h&&this.$Mf.get_$R(t).$rT(!1);for(i=0;i<this.$Oc.get_Count();i++)Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(this.$Oc.get_$R(i))&&!this.$Oc.get_$R(i).$2h&&this.$Oc.get_$R(i).$rT(!1);for(r=0;r<this.$PB.get_Count();r++)Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(this.$PB.get_$R(r))&&!this.$PB.get_$R(r).$2h&&this.$PB.get_$R(r).$rT(!1)},get_PaneContextualSections:function(){return this.$PB},get_ContextualSections:function(){return this.$Lj},get_PageSections:function(){return this.$Mf},get_GlobalSections:function(){return this.$Oc},$28C:function(n){n.get_$HY()!==2&&n.get_$HY()!==4&&this.clearCommandSets()},$hK:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),f,r,u,e;return Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(t)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Je()?(i.resolve(!1),i.promise()):(f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),this.$E3!==t&&this.$sZ===n&&this.clearCommandSets(),this.set_GlobalContextId(n),this.$E3=t,r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet",this.$sZ),u=this,r.OnSuccess=function(r){Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){if(f===Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33()&&u.$E3===t){u.$2Jp(r);u.forceRuleEvaluation();var e=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedGlobalCommands",1);$0.$0(e)||($0.$0(t)||$0.$0(t.get_Root())||e.addParameter(t.get_Root().get_ViewModelId()),e.addParameter(n));i.resolve(!0)}},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1XV,"CommandManagerViewModel.RegisterGlobalContext.OnSuccess")},e=this,r.OnFailure=function(n){i.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",t,r),i.promise())},registerContextualContexts:function(n){var i,t;this.$e7={};this.$1Di=!0;this.$eW(this.$Lj);i=[];for(var u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().getSelectedViewModels(),f=u.length,r=0;r<f;++r)t=u[r],!Microsoft.Crm.Client.Core.ViewModels.$9c.isInstanceOfType(t)||t.get_ViewModelId()in this.$e7||$0.$0(t.get_$qQ())?this.$1E8.add(t.get_ViewModelId()):(this.set_ContextualContextId(t.get_$qQ()),Array.add(i,this.$vj(this.$e8,t)));this.$1Di=!1;n&&Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).always(n)},$vj:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),r,u;return this.set_ContextualContextId(n),this.get_IsMergedContext()?(this.$v4={},t.get_ViewModelId()in this.$v4||(r=this,this.$2q4(n,t).always(function(){i.resolve(!0)}))):(this.$1Di||(this.$e7={}),t.get_ViewModelId()in this.$e7||(u=this,this.$2q4(this.$e8,t).always(function(){i.resolve(!0)}),this.$1E8.add(t.get_ViewModelId()))),i.promise()},$2q4:function(n,t,i){var u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),o=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),r=!IsNull(i),f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet",n),e=this,s;return f.OnSuccess=function(f){var h,s,c;o===Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33()&&(r&&!IsNull(f)&&(f.$qR=t),h=null,s=null,r&&!IsNull(f)&&(h=new Array(0),s=new Array(0)),r&&!IsNull(f)&&(h=new Array(0),s=new Array(0)),e.$2Jq(f,s,h),e.forceRuleEvaluation(),r&&!IsNull(f)?Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(s).always(function(){for(var t=s.length,n=0;n<t;n++)s.pop();s=null;i.resolve(h)}):r&&IsNull(f)?i.reject():(c=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedContextualCommands",1),$0.$0(c)||($0.$0(t)||$0.$0(t.get_Root())||c.addParameter(t.get_Root().get_ViewModelId()),c.addParameter(n))));u.resolve(!0)},s=this,f.OnFailure=function(n){r&&i.reject(n);u.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",t,f),u.promise()},$qH:function(){this.$eW(this.$Lj);this.set_IsLoading(!0)},$1X8:function(){this.$eW(this.$PB);this.set_IsLoading(!0)},$2Oz:function(){this.$eW(this.$Mf);this.set_IsLoading(!0)},clearCommandSets:function(){if(this.$sY.$86(),this.$e7={},this.$v4={},this.$eW(this.$Lj),this.$eW(this.$Mf),this.$eW(this.$Oc),this.$eW(this.$PB),this.$bG.$86(),this.$Y4.$86(),this.$IN.$86(),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$E3))this.$E3.$Kp=0,this.$E3.$QC=!1;else if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$E3)){var n=this.$1FZ();$0.$0(n)||(n.$Kp=0,n.$QC=!1)}this.set_IsLoading(!0)},closeAllFlyOuts:function(){for(var t,f,i,e,r,o,n=0,u=this.$Oc.get_Count();n<u;n++)this.$Oc.get_$R(n).CloseAllFlyOuts();for(t=0,f=this.$Mf.get_Count();t<f;t++)this.$Mf.get_$R(t).CloseAllFlyOuts();for(i=0,e=this.$Lj.get_Count();i<e;i++)this.$Lj.get_$R(i).CloseAllFlyOuts();for(r=0,o=this.$PB.get_Count();r<o;r++)this.$PB.get_$R(r).CloseAllFlyOuts()},$1FN:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),o=this.$e7,u,s,f,e,h,r,c;for(u in o)if(s={key:u,value:o[u]},this.$1FO(n,t,i,s.value,this.$bG,this.$Y4))return i.promise();f=this.$v4;for(e in f)if(h={key:e,value:f[e]},this.$1FO(n,t,i,h.value,this.$bG,this.$Y4))return i.promise();for(r=0;r<this.$sY.get_Count();r++)if(c=this.$sY.get_$R(r),this.$1FO(n,t,i,c,this.$bG,this.$Y4))return i.promise();return i.promise()},$1FO:function(n,t,i,r,u,f){var e,s,c,h,l,o,a,v,y;return $0.$0(r)?!1:(e=r.$Cx.Commands,s=r.$qR,$0.$0(e))?!1:(e=e[n],!$0.$0(e)&&t in e)?(c=e[t].EnableRules,h=e[t].DisplayRules,Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluating command with id [{0}]",t),l=this,o=c.map(function(t){return l.$1P1.$1FM(u.get_$R(n).get_$R(t),s)}),$0.$0(h)||(a=this,o=o.concat.apply(o,h.map(function(t){return a.$1P1.$1FM(f.get_$R(n).get_$R(t),s)}))),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluated [{1}] rules for command [{0}]",t,o.length),v=this,y=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(o).then(function(n){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluated [{1}] rules for command [{0}]",t,n.length);var r=n.reduce(function(n,t){return!!(n&t)},!0);Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Evaluation of {2} rules for command [{0}] succeeded with result: {1}")',t,r,n.length);i.resolve(r)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Evaluation of rules for command [{0}] failed with message: {1}")',t,n.$F);i.reject(n)}),!0):!1},$25Z:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet",n),f=this,u;return r.OnSuccess=function(n){i.resolve(n)},u=this,r.OnFailure=function(n){i.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",t,r),i.promise()},$21r:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),u=this;return this.$25Z(n,t).done(function(n){var u=n.$Cx;r.resolve(u.Commands[t.get_$1u()][i])}),r.promise()},$2jV:function(n,t){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return i.add("Mscrm.AddExistingRecordFromSubGridStandard"),i.add("Mscrm.AddNewRecordFromSubGridStandard"),this.$21s(n,t,i,!0)},$21s:function(n,t,i,r){var u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),f=this;return this.$25Z(n,t).done(function(n){var s=n.$Cx,h=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF))),c=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF))),g=s.Rules,l,e,a,v,y,p,w,o,b,k,d;for(l in g){e={key:l,value:g[l]};$0.$0(h.get_$R(e.key))&&h.set_$R(e.key,new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));a=s.Rules[e.key];for(v in a)y={key:v,value:a[v]},h.get_$R(e.key).set_$R(y.key,y.value)}p=s.DisplayRules;for(w in p){o={key:w,value:p[w]};$0.$0(c.get_$R(o.key))&&c.set_$R(o.key,new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));b=s.DisplayRules[o.key];for(k in b)d={key:k,value:b[k]},c.get_$R(o.key).set_$R(d.key,d.value)}f.$1vc(u,t.get_$1u(),i,0,n,h,c,r)}),u.promise()},$1vc:function(n,t,i,r,u,f,e,o){if(r<i.get_Count()){var s=this;this.$2Vc(t,i.get_$R(r),u,f,e).done(function(h){h?n.resolve(o?i.get_$R(r)==="Mscrm.AddNewRecordFromSubGridStandard":h):s.$1vc(n,t,i,r+1,u,f,e,o)})}else n.resolve(!1)},$2Vc:function(n,t,i,r,u){var f=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return this.$1FO(n,t,f,i,r,u)?f.promise():(f.resolve(!1),f.promise())},$2Jq:function(n,t,i){this.$2Jp(n,1,t,i)},$2Jp:function(n,t,i,r){var b=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CommandManagerVM:AddCommandSet"),s,e,h,c,l,a,v,o,y,p,w,d,f;if(b.start(),!this.$sY.$10k(n)&&Microsoft.Crm.Client.Core.ViewModels.$63.isInstanceOfType(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$Cx.Id)){var u=n.$Cx,g=n.$qR,nt=!IsNull(i),k=u.Rules;for(s in k){e={key:s,value:k[s]};$0.$0(this.$bG.get_$R(e.key))&&this.$bG.set_$R(e.key,new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));h=u.Rules[e.key];for(c in h)l={key:c,value:h[c]},this.$bG.get_$R(e.key).set_$R(l.key,l.value)}a=u.DisplayRules;for(v in a){o={key:v,value:a[v]};$0.$0(this.$Y4.get_$R(o.key))&&this.$Y4.set_$R(o.key,new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));y=u.DisplayRules[o.key];for(p in y)w={key:p,value:y[p]},this.$Y4.get_$R(o.key).set_$R(w.key,w.value)}d=u.Controls;f=new Microsoft.Crm.Client.Core.ViewModels.$Bo;this.$Wn(f,g,u.Commands,d,i,r);$0.$0(t)||t!==1?(this.$sY.$3w(n),u.Id==="GlobalCommands"||t===4?this.$Oc.$3w(f):this.$Mf.$3w(f)):nt||(Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&this.get_IsMergedContext()?(this.$v4[u.Id]=n,this.$PB.$86(),this.$PB.$3w(f)):(this.$e7[u.Id]=n,this.$Lj.$3w(f)))}this.set_IsLoading(!1);b.stop()},$Wn:function(n,t,i,r,u,f){for(var e,v,h,w,c,l,y,o,a,s,k=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.ProcessUnification"),b=r,d=b.length,p=0;p<d;++p)if((e=b[p],!(e.Id in n.$H))&&(e.Id!=="BackProcessStage"||!k)&&(!Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(t)||t.$eg||e.ControlType!=="Button"||(e.CommandType==="System"||e.CommandType==="ControlCommand")&&e.Command.toLowerCase()!=="addexistingcommand")){v=e.LabelText||"";e.CommandType==="WebResource"&&(h=t.get_$1u(),($0.$0(h)||Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(t))&&t.get_$AH()&&t.get_$AH().$D!=="multiItem"&&(h=t.get_$AH().$D),h===""&&(h=null),$0.$0(e.CommandParameters)&&(e.CommandParameters={}),w=i[h],c=$0.$0(w)?null:w[this.$1Fa(e.Command)],e.CommandParameters.entityLogicalName=t.get_$1u(),!$0.$0(c)||Microsoft.Crm.Client.Core.Framework.$3.$12(e.Command)||$0.$0(i["null"])||(c=i["null"][this.$1Fa(e.Command)],e.CommandParameters.entityLogicalName="null"),$0.$0(c)||(e.CommandParameters.CommandId=c.Id,e.CommandParameters.RibbonActionHandler=c.Actions));switch(e.ControlType){case"Button":$0.$0(e.CommandParameters)&&(e.CommandParameters={});e.CommandParameters.TargetViewModel=t;l="";switch(e.CommandType){case"ControlCommand":e.CommandParameters.CommandPropertyName=e.Command;l="ControlCommand";break;case"System":l=e.Command;break;case"WebResource":l="WebResourceCommand"}y=t.get_$1u();($0.$0(y)||Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(t))&&t.get_$AH()&&(y=t.get_$AH().$D);o=new Microsoft.Crm.Client.Core.ViewModels.$24;o.set_$2m(e.Id);Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&l==="EmailLinkCommand"?(o.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RefreshCommandBar.EmailLink")),o.$4O=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricDashboard_EmailLinkButton_Tooltip"),o.set_ImageName("LinkArticle")):(o.set_Label(v),o.set_ImageName(e.ImageId));o.set_Visible(!0);o.set_Parameters(e.CommandParameters);o.set_ImageType(e.ImageType);o.$Gi=e.AvailableOffline||this.$2nd(y,e);o.set_TargetViewModel(t);o.$Cw=this;IsNull(f)||(o.$1ED=u,f.push(o));o.set_Command(l);n.$CK(o.$1P,o);this.$IN.set_$R(o.$1P,o);break;case"Group":Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(v)?(a=new Microsoft.Crm.Client.Core.ViewModels.$8m,a.set_Label(v),a.set_$2m(this.$1Fa(e.Id)),this.$Wn(a,t,i,e.Children,u,f),n.$CK(a.$1P,a)):this.$Wn(n,t,i,e.Children,u,f);break;case"Tab":case"FlyoutAnchor":s=new Microsoft.Crm.Client.Core.ViewModels.$4N;s.set_Label(v);s.set_ImageName(e.ImageId);s.set_ImageType(e.ImageType);s.set_$2m(e.Id);s.set_Visible(!0);s.set_Enabled(!0);s.set_$1s7(e.CommandParameters);this.$Wn(s,t,i,e.Children,u,f);n.$CK(s.$1P,s)}}},$2nd:function(n,t){var f,i,r,e,o,u;return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||!Microsoft.Crm.Client.Core.ViewModels.$a.$B5()?!1:n==="annotation"?Microsoft.Crm.Client.Core.ViewModels.$a.$HM(n):n==="activitypointer"&&!$0.$0(t)&&(f=t.CommandParameters.RibbonActionHandler,!$0.$0(f)&&(i=f,!$0.$0(i)&&i.length>0&&(r=i[0].Parameters,!$0.$0(r)&&r.length>0&&(e=r[0].Value,!$0.$0(e)&&(o=parseInt(e),!isNaN(o)&&(u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(o),!$0.$0(u)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(u.$y)))))))?Microsoft.Crm.Client.Core.ViewModels.$a.$G5(u.$y):!1},$1Fa:function(n){if($0.$0(n))return null;var t=n.split("|");return t[t.length-1]},$1FZ:function(){var n,t;return Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$E3)&&(n=this.$E3,!$0.$0(n.$H)&&"InteractionCentricFormBody"in n.$H&&(t=n.$H.InteractionCentricFormBody,!$0.$0(t.$H)&&"AssociatedGrid0"in t.$H))?t.$H.AssociatedGrid0:null},$eW:function(n){for(var t=0,i=n.get_Count();t<i;t++)n.get_$R(t).dispose();n.$86()},shouldRefreshCommandBarForInteractionCentric:function(){return this.$z2?(!this.get_AreAllRowsSelected()&&this.get_SelectedRowCount()<=1||this.get_AreAllRowsSelected())&&!this.get_IsMultiSelectEvent()&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Je():!1}};Microsoft.Crm.Client.Core.ViewModels.$Sa=function(){Microsoft.Crm.Client.Core.ViewModels.$Sa.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Sa.prototype={$aW:null,get_OverflowChildViewModels:function(){return this.$aW},set_OverflowChildViewModels:function(n){return this.$aW=n,n},$1rw:function(){var n,i,t;if(!$0.$0(this.$aW))for(n=0,i=this.$aW.length;n<i;n++)t=this.$aW[n],Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(t)&&t.set_FlyOutExpanded(!1)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this);this.$aW=null}};Microsoft.Crm.Client.Core.ViewModels.$Bo=function(){this.$$d_$2ss=Function.createDelegate(this,this.$2ss);this.get_NextTabIndex=this.get_$3Fm;this.set_NextTabIndex=this.set_$3Fm;this.get_StartIndex=this.get_$1Qi;this.set_StartIndex=this.set_$1Qi;this.get_TabSpaceReserved=this.get_$1mL;Microsoft.Crm.Client.Core.ViewModels.$Bo.initializeBase(this);this.$P8=new Microsoft.Crm.Client.Core.ViewModels.$Sa;this.$P8.AddPropertyChangedListener("FlyOutExpanded",this.$$d_$2su);this.$Nf=1e3};Microsoft.Crm.Client.Core.ViewModels.$Bo.prototype={$P8:null,get_OverflowViewModel:function(){return this.$P8},findActiveChildViewModels:function(){var r=new Array(0),u=this.$H,i,f;for(i in u){var e={key:i,value:u[i]},n=e.value,t=n.get_Enabled();Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)?(f=n,f.$M.tabindex=this.$Nf,t=t&&!Mscrm.InternalUtilities.JSTypes.isNull(n.$1g)&&n.$1g.get_CanExecute()):Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&(t=t&&n.hasEnabledDescendant());t&&Array.add(r,n)}return r},$2Wz:function(n,t){for(var s,r,c,u,i=this.findActiveChildViewModels(),o=n,l=o.length,f=0;f<l;++f)for(s=o[f],r=0;r<i.length;r++)if(i[r].$1P===s){i.splice(r,1);break}for(var h=t,a=h.length,e=0;e<a;++e)for(c=h[e],u=0;u<i.length;u++)if(i[u].$1P.indexOf(c)>-1){i.splice(u,1);break}return i},FindFilteredViewModels:function(n){var i=["DashboardPinButton","Win8PinButton","RefreshModernButton","OpenInBrowserButton","ExportToExcelButton","PerfButton","ChangeGridViewButton","ResizeHandlesCommand","ChangeListViewButton"],t=["GuidedHelp",".QueueItemDetail",".Convert.Opportunity",".HomepageGrid.activitypointer.Close",".HomepageGrid.activitypointer.Convert.Case",".HomepageGrid.socialactivity.NewRecord"];return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("InteractionCentricEmailLink")||i.push("EmailLinkButton"),n?(t.push("HomepageGrid.incident.Resolve"),t.push("HomepageGrid.incident.Cancel"),t.push("HomepageGrid.incident.DoNotDecrementEntitlementTerms")):(t.push("HomepageGrid.incident.MergeRecords"),t.push("HomepageGrid.incident.AssociateParentChildCase"),t.push("SubGrid.incident.MergeRecords"),t.push("SubGrid.incident.AssociateParentChildCase")),this.$2Wz(i,t)},$32I:function(n){for(var e,t,i=this.findActiveChildViewModels(),u=[],f=n,o=f.length,r=0;r<o;++r)for(e=f[r],t=0;t<i.length;t++)if(i[t].$1P===e){u.push(i[t]);break}return u},RetrieveInteractionCentricSelectViewModelData:function(){var n=this.$32I(["ChangeGridViewButton"]),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q(n),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();i.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q,t)},$1a1:function(n){var f=new Array(0),e=this.$H,i,t;for(i in e)for(var h={key:i,value:e[i]},o=h.value,r=o.$1P,s=n,c=s.length,u=0;u<c;++u)t=s[u],r.length>=t.length&&r.substr(r.length-t.length,t.length)===t&&Array.add(f,o);return f},RetrieveSaveButtonViewModelData:function(){var n=this.$1a1([".Save"]),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P(n),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();i.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P,t)},RetrieveInteractionCentricCreateModeCommands:function(){return this.$1a1([".Save",".SaveAndClose",".NewRecord",".BookOrReschedule",".Send",".ApplyTemplate"])},CloseAllFlyOuts:function(){this.$1rw()},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$SI.prototype.$CK.call(this,n,t);var i=this.$H[n];i.AddPropertyChangedListener("Enabled",this.$$d_$2ss);i.AddPropertyChangedListener("ActionCommandCanExecute",this.$$d_$2ss);Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n==="ChangeGridViewButton"&&this.RetrieveInteractionCentricSelectViewModelData()},$16q:function(n){n.rpcl("Enabled",this.$$d_$2ss);n.rpcl("ActionCommandCanExecute",this.$$d_$2ss);Microsoft.Crm.Client.Core.ViewModels.$SI.prototype.$16q.call(this,n)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this);this.$P8.RemovePropertyChangedListener("FlyOutExpanded",this.$$d_$2su);this.$P8.dispose();this.$P8=null},$1rw:function(n){n!==this.$P8&&this.$P8.$Ql&&!this.$2Oi(n)&&this.$P8.set_FlyOutExpanded(!1);Microsoft.Crm.Client.Core.ViewModels.$SI.prototype.$1rw.call(this,n)},$2Oi:function(n){return $0.$0(this.$P8.$aW)?!1:Array.contains(this.$P8.$aW,n)},$2ss:function(){this.$Tv||this.$2h||this.$7("ActiveChildViewModels")},isCommandBarOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$4L.getParamStatus("cmdbar")},get_$3Fm:function(){return this.$Nf+this.get_$1mL()},set_$3Fm:function(n){return n},$Nf:0,get_$1Qi:function(){return this.$Nf},set_$1Qi:function(n){return this.$Nf=n,n},get_$1mL:function(){return 30}};Microsoft.Crm.Client.Core.ViewModels.$4L=function(){};Microsoft.Crm.Client.Core.ViewModels.$4L.getParamStatus=function(n){var r=Microsoft.Crm.Client.Core.Framework.Utils.$19.$Rc(window.location.href),t=null,i=null;switch(n){case"navbar":t=r.navbar;i="off";break;case"backbtn":t=r.backbtn;i="off";break;case"cmdbar":t=r.cmdbar;i="false"}return!$0.$0(t)&&t.toLowerCase()===i?!0:!1};Microsoft.Crm.Client.Core.ViewModels.$4L.isCreateFormViaUrl=function(){var n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$Rc(window.location.href);return!$0.$0(n.pagetype)&&n.pagetype==="create"?!0:!1};Microsoft.Crm.Client.Core.ViewModels.$4L.getParamValue=function(n){var t=Microsoft.Crm.Client.Core.Framework.Utils.$19.$Rc(window.location.href);return t[n]};Microsoft.Crm.Client.Core.ViewModels.$Rt=function(){this.$Hz=new Microsoft.Crm.Client.Core.Framework.$AL;Microsoft.Crm.Client.Core.ViewModels.$Rt.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Rt.prototype={get_ActiveNavigationStack:function(){return this.$Hz},get_IsInteractionCentricDashboard:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()},getInteractionCentricResolutionWarning:function(n,t){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricResolutionWarning"),n,t)},$vo:function(n){for(var i=this.get_Top(),t=0;t<this.$Hz.get_Count();t++)if(this.$Hz.get_$R(t)===n){if(this.$Hz.get_Count()===1)throw Error.invalidOperation("Can't remove all the items from the stack!");this.$9n("BeforePopRootViewModel",n);this.$Hz.$Ai(n);break}this.get_Top()!==i&&this.$7("Top")}};Microsoft.Crm.Client.Core.ViewModels.$RQ=function(){this.get_$33=this.get_Top;Microsoft.Crm.Client.Core.ViewModels.$RQ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$RQ.prototype={add_$1qG:function(n){this.$1p("BeforePopRootViewModel",n)},get_Top:function(){var n=$0.$0(this.get_ActiveNavigationStack())?0:this.get_ActiveNavigationStack().get_Count();return n>0?this.get_ActiveNavigationStack().get_$R(n-1):null},$vT:function(n){this.$1nf(n);this.$2Fo(n);this.get_ActiveNavigationStack().$3w(n);this.$7("Top")},$vL:function(){this.popMany(1)},popMany:function(n){if(n<=0)throw Error.argumentOutOfRange("numberOfItems",n,"Cannot pass 0 or negative to the PopMany method.");var t=this.get_ActiveNavigationStack().get_Count();if(t<=n)throw Error.invalidOperation("Can't pop all the items from the stack!");else this.$9n("BeforePopRootViewModel",null),this.get_ActiveNavigationStack().$16s(t-n,n);this.$7("Top")},$2F1:function(n){this.$1nf(n);this.$2Fo(n);var t=this.get_ActiveNavigationStack().get_Count();t?(this.$9n("BeforePopRootViewModel",n),this.get_ActiveNavigationStack().set_$R(t-1,n)):this.get_ActiveNavigationStack().$3w(n);this.$7("Top")},$2Fo:function(n){Microsoft.Crm.Client.Core.ViewModels.$Ch.isInstanceOfType(n)&&n.set_$T1(this)},$1nf:function(n){if(!n)throw Error.argumentNull("viewModel","You cannot conduct to a null ViewModel");if(!$0.$0(this.get_ActiveNavigationStack())&&this.get_ActiveNavigationStack().$10k(n))throw Error.invalidOperation("You cannot conduct to a ViewModel that is already in the conductor stack. ViewModel = "+Object.getType(n).getName());},OnPageVisit:function(n){$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL())||Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$2ud(n)}};Microsoft.Crm.Client.Core.ViewModels.$2D=function(){this.$$d_$Rr=Function.createDelegate(this,this.$Rr);this.$$d_$2tt=Function.createDelegate(this,this.$2tt);this.$$d_$2st=Function.createDelegate(this,this.$2st);this.$$d_$2sv=Function.createDelegate(this,this.$2sv);this.$CL={};this.$zp={};this.$AZ=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$2v));this.$1DC={};this.get_childViewModels=this.get_ChildViewModels;Microsoft.Crm.Client.Core.ViewModels.$2D.initializeBase(this);this.$H={}};Microsoft.Crm.Client.Core.ViewModels.$2D.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("MenuButton",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("PivotItem",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("SectionItem",Microsoft.Crm.Client.Core.ViewModels.$2D)};Microsoft.Crm.Client.Core.ViewModels.$2D.$21O=function(n,t){var i,r,u,f,e;if($0.$0(n)||$0.$0(t)||$0.$0(n.get_childViewModels()))return null;i=n.get_childViewModels();for(r in i){if(u={key:r,value:i[r]},f=u.value,f.get_ViewModelId()===t.get_ViewModelId())return n;if(Microsoft.Crm.Client.Core.ViewModels.$78.isInstanceOfType(f)&&(e=Microsoft.Crm.Client.Core.ViewModels.$2D.$21O(u.value,t),e))return e}return null};Microsoft.Crm.Client.Core.ViewModels.$2D.$2XR=function(n){var i=n,t,r;for(t in i)return r={key:t,value:i[t]},r.value;return null};Microsoft.Crm.Client.Core.ViewModels.$2D.prototype={$H:null,$14G:!1,$Z9:null,$Z7:null,$si:!1,$SG:0,$BY:!0,$gE:!1,$1L3:0,get_IsScrollLocked:function(){return this.$gE},set_IsScrollLocked:function(n){return this.$gE!==n&&(this.$gE=n,this.$7("IsScrollLocked")),n},get_ChildViewModels:function(){return this.$H},get_ImageType:function(){return this.$Z9},set_ImageType:function(n){return this.$Z9!==n&&(this.$Z9=n,this.$7("ImageType")),n},get_ImageName:function(){return this.$Z7},set_ImageName:function(n){return this.$Z7!==n&&(this.$Z7=n,this.$7("ImageName")),n},get_HideIfNoChildrenVisible:function(){return this.$si},set_HideIfNoChildrenVisible:function(n){return this.$si=n,n},get_IsValid:function(){return this.$BY},set_IsValid:function(n){return this.$BY!==n&&(this.$BY=n,this.$7("IsValid")),n},get_InvalidViewModels:function(){return this.$AZ},set_InvalidViewModels:function(n){return this.$AZ!==n&&(this.$AZ=n,this.set_IsValid(!this.$AZ.get_Count()),this.$7("InvalidViewModels")),n},get_VisibleChildrenCount:function(){return this.$SG},set_VisibleChildrenCount:function(n){return this.$SG!==n&&(this.$SG=n,this.$7("VisibleChildrenCount")),n},get_$1Xq:function(){return!1},$Rr:function(){var i,r,t,n;if(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Rr.call(this),!$0.$0(this.$H)){i=this.$H;for(r in i)t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(t.value)&&(Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.isInstanceOfType(t.value)?t.value.$2Ag():t.value.$Rr())}if(!$0.$0(this.$AZ))for(n=0;n<this.$AZ.get_Count();n++)($0.$0(this.$AZ.get_$R(n).get_ErrorMessage())||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$AZ.get_$R(n).get_ErrorMessage()))&&this.$AZ.get_$R(n).$2XL()},$rT:function(n){var i,r,t;if(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$rT.call(this,n),!$0.$0(this.$H)){i=this.$H;for(r in i)t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(t.value)?t.value.$rT(n):Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Invalid child of type {0}",Object.getType(t.value).toString())}},$1VR:function(n,t){var i,r,u;$0.$0(this.$CL)||(n in this.$CL?(i=this.$CL[n],Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(i)?(r={},r[i.get_ViewModelId()]=i,r[t.get_ViewModelId()]=t,this.$CL[n]=r,this.$zp[t.get_Id()]=r):(u=i,u[t.get_ViewModelId()]=t)):(this.$CL[n]=t,this.$zp[t.get_Id()]=t));this.$2i===this||$0.$0(this.$2i)||this.$2i.$1VR(n,t)},$16q:function(n){var t=n.get_Name(),i,r;this.$CL&&t in this.$CL&&(i=this.$CL[t],Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(i)?(delete this.$CL[t],delete this.$zp[n.get_Id()]):(r=i,delete r[n.get_ViewModelId()]))},$1re:function(){var n,t,r,i;if(!$0.$0(this.$2i)&&Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(this.$2i)&&!$0.$0(this.$H)){n=this.$H;for(t in n)r={key:t,value:n[t]},i=r.value,i&&this.$2i.$16q(i)}},$CK:function(n,t){if(this.$H[n]=t,this.$14G?this.$1VR(n,t):$0.$0(this.$2i)||this.$2i.$1VR(n,t),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(t)||this.$H[n].set_ModelContext(this.get_ModelContext()),Microsoft.Crm.Client.Core.ViewModels.$DG.isInstanceOfType(t)){var r=Microsoft.Crm.Client.Core.Framework.$1B.$s(this.$H)-1,i=this.$2jy(r);this.$1DC[t.get_ViewModelId()]=i;t.AddPropertyChangedListener("Visible",i);t.get_$2IP()&&this.set_VisibleChildrenCount(this.$SG+1)}Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(t)?(t.AddPropertyChangedListener("IsValid",this.$$d_$2sv),t.get_$tN()||(this.$AZ.add(t),this.$1Iy())):Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(t)&&(t.AddPropertyChangedListener("InvalidViewModels",this.$$d_$2st),this.$AZ.addRange(t.$AZ.toArray()),this.$1Iy());this.$2ps(t)},$nR:function(n){var t=n;for(var i in t){var r={key:i,value:t[i]},u=r.key,f=r.value;this.$CK(u,f)}this.$7("ChildViewModels")},$5Q:function(n){return Microsoft.Crm.Client.Core.ViewModels.$2D.$21O(this,n)},$67:function(n){if(!this.$CL)return null;var t=this.$CL[n];return $0.$0(t)?null:Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(t)?t:Microsoft.Crm.Client.Core.ViewModels.$2D.$2XR(t)},hasEnabledDescendant:function(){var i=this.$H,t,r,n;for(t in i){if(r={key:t,value:i[t]},n=r.value,Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&n.hasEnabledDescendant())return!0;if(Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)){if(!$0.$0(n.$1g)&&n.$1g.get_CanExecute())return!0}else if(Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(n)&&n.get_Enabled())return!0}return!1},$Hd:function(){var r,t,i,n,u;if(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this),r=this.get_ModelContext(),!$0.$0(this.$H)){t=this.$H;for(i in t)n={key:i,value:t[i]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(n.value)&&(u=n.value,Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n.value)||u.set_ModelContext(r))}},$Oh:function(){var n,t,r,i;this.$1re();n=this.$H;for(t in n)r={key:t,value:n[t]},i=r.value,i&&this.$1Et(i);this.$H=null;this.$CL=null;this.$zp=null;this.$1DC=null;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$1Et:function(n){n.RemovePropertyChangedListener("Visible",this.$1DC[n.get_ViewModelId()]);n.RemovePropertyChangedListener("IsValid",this.$$d_$2sv);n.RemovePropertyChangedListener("InvalidViewModels",this.$$d_$2st);n.RemovePropertyChangedListener("IsScrollLocked",this.$$d_$2tt);n.dispose()},$27O:function(n){this.set_VisibleChildrenCount(this.$SG+(n?1:-1));this.$si&&this.set_Visible(this.$SG>0)},$2sv:function(n){n.get_$tN()?(this.$AZ.remove(n),this.$1Iy()):this.$AZ.contains(n)||(this.$AZ.add(n),this.$1Iy())},$2st:function(){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$2v)),i,r,u,n;if(!$0.$0(this.$H)){i=this.$H;for(r in i)u={key:r,value:i[r]},n=u.value,Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(n)?n.get_$tN()||t.add(n):Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&t.addRange(n.$AZ.toArray())}this.set_InvalidViewModels(t)},$1Iy:function(){this.set_IsValid(!this.$AZ.get_Count());this.$7("InvalidViewModels")},$2ps:function(n){var t=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$9v.isInstanceOfType(n);t&&n.AddPropertyChangedListener("IsScrollLocked",this.$$d_$2tt)},$2tt:function(n,t){var r=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$9v.isInstanceOfType(n),u="IsScrollLocked"===t,i;r&&u&&(i=n,i.get_IsScrollLocked()?++this.$1L3:--this.$1L3,this.set_IsScrollLocked(this.$1L3>0))},$2jy:function(n){var t=this;return function(i){t.$27O(i.get_$2IP(),n)}},isCustomContainer:function(){var t=this.$H,n,i;for(n in t)if(i={key:n,value:t[n]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(i.value))return!0;return!1},$2p2:function(n){var i=$0.$0(this.$H[n])?this.$H[n+"_edit"]:this.$H[n],t;return Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(i)||Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$H[n+"_readonly"])?(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$D,n),!$0.$0(t)&&(t.$hn===1||t.$hn===2)):!1},getFirstCustomControl:function(){var i=this.$H,n,t;for(n in i)if(t={key:n,value:i[n]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(t.value))return t.value;return null}};Microsoft.Crm.Client.Core.ViewModels.$Rm=function(){this.$Hz=new Microsoft.Crm.Client.Core.Framework.$AL;Microsoft.Crm.Client.Core.ViewModels.$Rm.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Rm.prototype={get_ActiveNavigationStack:function(){return this.$Hz},popMany:function(n){if(n<=0)throw Error.argumentOutOfRange("numberOfItems",n,"Cannot pass 0 or negative to the PopMany method.");var t=this.get_ActiveNavigationStack().get_Count();this.$16m(t-n,n);n>=t?t=0:(this.$9n("BeforePopRootViewModel",null),this.get_ActiveNavigationStack().$16s(t-n,n),t=this.get_ActiveNavigationStack().get_Count(),this.$7("ActiveNavigationStack"));t<1&&(this.$Hz=new Microsoft.Crm.Client.Core.Framework.$AL,this.$7("ActiveNavigationStack"),this.$7("ActiveItems"));this.$7("Top")},$vo:function(n){for(var i=this.get_Top(),t=0;t<this.get_ActiveNavigationStack().get_Count();t++)if(this.get_ActiveNavigationStack().get_$R(t)===n){this.get_ActiveNavigationStack().get_Count()===1?(this.$16m(t,1),this.$Hz=new Microsoft.Crm.Client.Core.Framework.$AL,this.$7("ActiveNavigationStack")):(this.$9n("BeforePopRootViewModel",n),this.$16m(t,1),this.get_ActiveNavigationStack().$Ai(n),this.$7("ActiveNavigationStack"));break}this.get_Top()!==i&&this.$7("Top")},$16m:function(n,t){var o=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43),e=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$6D),i,r,u,f;if(!$0.$0(o)&&!$0.$0(e))for(i=n;i<n+t;i++)if(r=this.get_ActiveNavigationStack().get_$R(i),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(r)){if(u=e.$2BN(r.get_ViewModelId()),u)for(f=0;f<u.get_Count();f++)o.$1XL(u.get_$R(f))}else e.$1OH(r)},removeViewModelById:function(n){for(var t=0;t<this.get_ActiveNavigationStack().get_Count();t++)if(this.get_ActiveNavigationStack().get_$R(t).get_ViewModelId()===n){this.$vo(this.get_ActiveNavigationStack().get_$R(t));return}}};Microsoft.Crm.Client.Core.ViewModels.$KC=function(n,t){this.$8n=n;$0.$0(t)||(this.$M=t)};Microsoft.Crm.Client.Core.ViewModels.$KC.prototype={$8n:null,$M:null};Microsoft.Crm.Client.Core.ViewModels.$SI=function(){this.$$d_$2su=Function.createDelegate(this,this.$2su);Microsoft.Crm.Client.Core.ViewModels.$SI.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$SI.prototype={$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$CK.call(this,n,t);var i=this.$H[n];Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(i)&&i.apcl("FlyOutExpanded",this.$$d_$2su)},$16q:function(n){Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(n)&&n.rpcl("FlyOutExpanded",this.$$d_$2su);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$16q.call(this,n)},$1rw:function(n){var f=!$0.$0(n),r=this.$H,i,u,t;for(i in r)u={key:i,value:r[i]},t=u.value,Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(t)&&(!f||n!==t)&&t.set_FlyOutExpanded(!1)},$2su:function(n){var t=n;t.$Ql&&this.$1rw(t)}};Microsoft.Crm.Client.Core.ViewModels.$10=function(){Microsoft.Crm.Client.Core.ViewModels.$10.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$10.$wc=function(n,t,i,r,u){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$2KV(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$10.$My=function(n){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$2KF(n)};Microsoft.Crm.Client.Core.ViewModels.$10.$Lc=function(n){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$30j(n)};Microsoft.Crm.Client.Core.ViewModels.$10.$2Ox=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$30d()};Microsoft.Crm.Client.Core.ViewModels.$10.prototype={$Ej:null,$17g:function(n){this.$Ej!==n&&($0.$0(this.$Ej)||this.$Ej.$IZ.set_IsActive(!1),this.$Ej=Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)?n:null,$0.$0(this.$Ej)||this.$Ej.$IZ.set_IsActive(!0))},$2KV:function(n,t,i,r,u){return!$0.$0(n)&&!$0.$0(i)&&!$0.$0(this.$Ej)?(u=$0.$0(u)?32767:u,!$0.$0(r)&&r.get_Count()>0?this.$Ej.$IZ.$2L6(i,n,r,t,u):this.$Ej.$IZ.$1pD(i,n,t,u),!0):!1},$2KF:function(n){return $0.$0(this.$Ej)?!1:(this.$Ej.$IZ.$2KG(n),!0)},$30j:function(n){return!$0.$0(n)&&!$0.$0(this.$Ej)?(this.$Ej.$IZ.$30h(n),!0):!1},$30d:function(){return $0.$0(this.$Ej)?!1:(this.$Ej.$IZ.$30e(),!0)}};Microsoft.Crm.Client.Core.ViewModels.$4O=function(){this.$$d_$2tj=Function.createDelegate(this,this.$2tj);this.$$d_$1M7=Function.createDelegate(this,this.$1M7);this.$$d_$1MC=Function.createDelegate(this,this.$1MC);this.$$d_$2ti=Function.createDelegate(this,this.$2ti);Microsoft.Crm.Client.Core.ViewModels.$4O.initializeBase(this);this.set_GlobalMenuViewModel(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(38)));this.$1Hs=this.$$d_$2ti;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Z6().$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$1M7)};Microsoft.Crm.Client.Core.ViewModels.$4O.prototype={$9m:null,$1Hs:null,get_OfflineText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_AppLauncher_Offline")},get_NoDefinitionsText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_AppLauncher_No_Definitions")},get_GlobalMenuViewModel:function(){return this.$9m},set_GlobalMenuViewModel:function(n){return this.$9m!==n&&($0.$0(this.$9m)||(this.$9m.RemovePropertyChangedListener("Visible",this.$$d_$2tj),this.$9m.dispose()),this.$9m=n,$0.$0(this.$9m)||this.$9m.AddPropertyChangedListener("Visible",this.$$d_$2tj),this.$7(Microsoft.Crm.Client.Core.ViewModels.$4O.$1Ht)),n},$2Z:function(){this.$1a||(this.$13f(),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this))},$Ea:function(){this.$9m.remove_$6F(this.$1Hs);this.$9m.dispose();this.set_GlobalMenuViewModel(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(38)));this.$9m.set_DefinitionId("TaskBasedFlowGlobalMenu");this.$13f()},$2BF:function(n){var i=this.$9m.$H,t;n in i&&(t=i[n],t.set_Visible(!1),t.set_Enabled(!1),this.$7(Microsoft.Crm.Client.Core.ViewModels.$4O.$1Ht))},$13f:function(){var n,t;this.$9m.add_$6F(this.$1Hs);n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("TaskBasedFlow.GlobalMenuViewModelInitialization");n.start();t=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){t.$9m.$2Z()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$13f,"Initialize GlobalMenu RootViewModel");this.$9m.set_Visible(!1);n.stop()},$1MC:function(){this.$9m.set_Visible(!1)},$1M7:function(){var u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F(),n,t,i,r;u&&!this.$9m.$1a&&this.$23u();n=this.$9m.$H;for(t in n)i={key:t,value:n[t]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(i.value)&&(r=i.value,r.set_Enabled(r.$4u&&u));this.$7("IsServerAvailable")},$2ti:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&this.$23u()},$23u:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveGlobalMenuData",null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$2tj:function(){if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("GlobalMenuVisible",this.$9m.$4u),this.$9m.$4u){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("globaltaskflowsmenuopened");n.$h("visible",this.$9m.$SG);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n)}},$Oh:function(){this.set_GlobalMenuViewModel(null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Z6().$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$1M7);Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel=function(){this.$$d_$33w=Function.createDelegate(this,this.$33w);this.$$d_$3Bv=Function.createDelegate(this,this.$3Bv);this.$$d_$2Ol=Function.createDelegate(this,this.$2Ol);this.$$d_$2Nx=Function.createDelegate(this,this.$2Nx);Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel.prototype={$8H:null,$g7:!1,$SL:null,get_Base64ImageData:function(){return this.$SL},set_Base64ImageData:function(n){return this.$SL=n,n},get_ImageViewModel:function(){return this.$8H},set_ImageViewModel:function(n){return this.$8H!==n&&($0.$0(this.$8H)||(this.$8H.dispose(),this.$8H=null),this.$8H=n),n},get_IsDefaultImageUsed:function(){return this.$g7},set_IsDefaultImageUsed:function(n){return this.$g7!==n&&(this.$g7=n,this.$7("IsDefaultImageUsed")),n},get_DialogHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_EditImage")},get_InstructionText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_Instruction")},get_CustomImageText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_CustomImage")},get_CustomImageContentFromLibraryText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_CustomImageFromLibrary")},get_CustomImageContentFromDeviceText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_CustomImageFromDevice")},get_OrLabelText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_OrLabel")},get_UseDefaultImageText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_UseDefault")},get_SaveButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Create_And_Close_Button_Text")},get_CancelButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text")},$oD:null,get_CapturePhotoCommand:function(){return this.$oD},set_CapturePhotoCommand:function(n){return this.$oD=n,n},$oF:null,get_ChooseFromLibraryCommand:function(){return this.$oF},set_ChooseFromLibraryCommand:function(n){return this.$oF=n,n},$pY:null,get_UsedefaultImageCommand:function(){return this.$pY},set_UsedefaultImageCommand:function(n){return this.$pY=n,n},$1B4:null,get_SaveImageUploadCommand:function(){return this.$1B4},set_SaveImageUploadCommand:function(n){return this.$1B4=n,n},$19X:null,get_CancelImageUploadCommand:function(){return this.$19X},set_CancelImageUploadCommand:function(n){return this.$19X=n,n},get_IsCameraAvailable:function(){return!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()},add_$2lp:function(n){this.$1p("ImageUploadedEvent",n)},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$2Z.call(this);this.$oD=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Nx,9);this.$oF=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Ol,9);this.$pY=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$3Bv,9);this.$1B4=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$33w,9);this.$19X=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$QG,9);this.$8H=new Microsoft.Crm.Client.Core.ViewModels.$Cv;this.$8H.set_PrimaryModelName(this.$D);$0.$0(this.get_ModelContext())&&this.$1Ig()},$1Ig:function(){$0.$0(this.$K.$8n)||$0.$0(this.$K.$8n.get_ModelContext())||(this.set_ModelContext(this.$K.$8n.get_ModelContext()),this.set_IsDefaultImageUsed($0.$0(this.get_ModelContext().GetValue("entityimage_url"))),this.$8H.set_Data(this.get_ModelContext().GetValue("entityimage_url")))},$2Nx:function(){var n=new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions,t;n.maxUploadFileSize=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ();n.targetWidth="144";n.targetHeight="144";n.allowEdit=!0;n.saveToPhotoAlbum=!1;t=this;(new Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel).getCameraPicture(n).done(function(n){t.$SL=n.get_$H6();t.$8H.set_Data(t.$1Xt(n.get_$H6()))})},$2Ol:function(){var n=this;(new Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel).getAttachmentFile().done(function(t){n.$SL=t.get_$H6();n.$8H.set_Data(n.$1Xt(t.get_$H6()))})},$3Bv:function(){this.$g7?$0.$0(this.$SL)?$0.$0(this.get_ModelContext().GetValue("entityimage_url"))||this.$8H.set_Data(this.get_ModelContext().GetValue("entityimage_url")):this.$8H.set_Data(this.$1Xt(this.$SL)):this.$8H.set_Data("");this.set_IsDefaultImageUsed(!this.$g7)},$33w:function(){this.$g7||$0.$0(this.$SL)?this.$g7&&!$0.$0(this.get_ModelContext().GetValue("entityimage_url"))&&(this.get_ModelContext().SetValue("entityimage",""),this.$1Iz()):(this.get_ModelContext().SetValue("entityimage",this.$SL),this.$1Iz());this.$QG()},$1Iz:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateRecordForCustomControl",null),t=this;n.OnSuccess=function(){t.$9j("ImageUploadedEvent")};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$1Xt:function(n){return"data:image;base64,"+n},$Oh:function(){this.$oD.dispose();this.$oD=null;this.$oF.dispose();this.$oF=null;this.$pY.dispose();this.$pY=null;this.$SL="";this.set_ImageViewModel(null);Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$2r=function(){};Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2YG=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_FormReady")};Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2rz=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_Navigate_Away")};Microsoft.Crm.Client.Core.ViewModels.$2r.get_$27b=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_OnDemand")};Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2tp=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_IFrameLoad")};Microsoft.Crm.Client.Core.ViewModels.$2r.get_$39j=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_Timer")};Microsoft.Crm.Client.Core.ViewModels.$2r.$2rY=function(n){switch(n){case"CriticalMemory":return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_CriticalMemoryWarning");case"LowMemory":default:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_LowMemoryWarning")}};Microsoft.Crm.Client.Core.ViewModels.$11=function(){this.$$d_$1r7=Function.createDelegate(this,this.$1r7);Microsoft.Crm.Client.Core.ViewModels.$11.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$11.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("MemorySnapshotCommand",Microsoft.Crm.Client.Core.ViewModels.$11.$2SH)};Microsoft.Crm.Client.Core.ViewModels.$11.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$11.$C)&&(Microsoft.Crm.Client.Core.ViewModels.$11.$C=new Microsoft.Crm.Client.Core.ViewModels.$11),Microsoft.Crm.Client.Core.ViewModels.$11.$C};Microsoft.Crm.Client.Core.ViewModels.$11.$2SH=function(){return new Microsoft.Crm.Client.Core.Framework.Binding.$RG(Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$$d_$1r7,140,Microsoft.Crm.Client.Core.ViewModels.$11.get_$6(),"MemoryDiagnosticsEnabled",function(){return Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$MO})};Microsoft.Crm.Client.Core.ViewModels.$11.$2Nw=function(n,t,i){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$2Nv(n,t,i):i(0)};Microsoft.Crm.Client.Core.ViewModels.$11.prototype={$MO:!1,$UD:null,get_MemoryDiagnosticsEnabled:function(){return this.$MO},set_MemoryDiagnosticsEnabled:function(n){return n!==this.$MO&&(this.$MO=n,this.$MO?($0.$0(this.$UD)&&(this.$UD=new(Microsoft.Crm.Client.Core.Framework.$8j.$$(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$MD))(20)),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1rA(!0)):($0.$0(this.$UD)||this.$UD.$86(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1rA(!1)),this.$7("MemoryDiagnosticsEnabled")),n},get_$2rX:function(){return $0.$0(this.$UD)?new Array(0):this.$UD.$1mk()},$2Z:function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1LN()?($0.$0(this.$UD)&&(this.$UD=new(Microsoft.Crm.Client.Core.Framework.$8j.$$(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$MD))(20)),this.$MO=!0):this.$MO=!1},$1r7:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();this.$2Nu(n,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$27b())},$2Nu:function(n,t,i){var r,u,f;this.$MO&&(r=n.$g===1?"Dashboard":n.$D,u=new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$MD(r,t,i,(new Date).format("M/d/yyyy hh:mm:ss")),$0.$0(i)&&(f=this,Microsoft.Crm.Client.Core.ViewModels.$11.$2Nw(r,t,function(n){u.MemoryUsage=n})),this.$UD.$3w(u))}};Microsoft.Crm.Client.Core.ViewModels.$8K=function(){this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2EK=Function.createDelegate(this,this.$2EK);this.$$d_$2vA=Function.createDelegate(this,this.$2vA);this.$$d_$2sk=Function.createDelegate(this,this.$2sk);this.$$d_$2to=Function.createDelegate(this,this.$2to);this.$$d_$28c=Function.createDelegate(this,this.$28c);this.$$d_$1MC=Function.createDelegate(this,this.$1MC);this.$$d_$28b=Function.createDelegate(this,this.$28b);Microsoft.Crm.Client.Core.ViewModels.$8K.initializeBase(this);this.set_SiteMapViewModel(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(10)));this.$nW=this.$$d_$28b;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC)};Microsoft.Crm.Client.Core.ViewModels.$8K.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavigationBarViewModel",Microsoft.Crm.Client.Core.ViewModels.$8K)};Microsoft.Crm.Client.Core.ViewModels.$8K.prototype={$5g:null,$fk:null,$IF:null,$Ec:null,$26v:0,$10j:null,$1gM:null,$nW:null,$1CT:!1,$1PE:!0,$1dG:!0,get_SiteMapViewModel:function(){return this.$5g},set_SiteMapViewModel:function(n){return this.$5g!==n&&($0.$0(this.$5g)||(this.$5g.RemovePropertyChangedListener("Visible",this.$$d_$28c),this.$5g.dispose()),this.$5g=n,$0.$0(this.$5g)||this.$5g.AddPropertyChangedListener("Visible",this.$$d_$28c),this.$7("SiteMapViewModel")),n},get_BackButtonEnabled:function(){return this.$1CT},set_BackButtonEnabled:function(n){return this.$1CT!==n&&(this.$1CT=n,this.$7("BackButtonEnabled")),n},get_SearchButtonEnabled:function(){return this.$1PE},set_SearchButtonEnabled:function(n){return this.$1PE!==n&&(this.$1PE=n,this.$7("SearchButtonEnabled")),n},get_HomeCommand:function(){return this.$fk},set_HomeCommand:function(n){return $0.$0(this.$fk)||(this.$fk.dispose(),this.$fk=null),this.$fk=n,n},get_BackCommand:function(){return this.$IF},set_BackCommand:function(n){return $0.$0(this.$IF)||(this.$IF.dispose(),this.$IF=null),this.$IF=n,n},get_SearchCommand:function(){return this.$Ec},set_SearchCommand:function(n){return $0.$0(this.$Ec)||(this.$Ec.dispose(),this.$Ec=null),this.$Ec=n,n},get_HomeButtonTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?20:-3e4},set_$2sN:function(n){return this.$26v=n,this.$7("NotificationsCount"),n},$2Z:function(){var n,t,i;Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this);n=this;this.set_HomeCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2to,105,new Microsoft.Crm.Client.Core.Framework.$AJ,"",function(){return!Microsoft.Crm.Client.Core.Framework.$6.$4N}));t=this;this.set_BackCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2sk,105,new Microsoft.Crm.Client.Core.Framework.$AJ,"",function(){return!Microsoft.Crm.Client.Core.Framework.$6.$4N}));i=this;this.set_SearchCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2vA,105,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),"IsServerAvailable",function(){return!Microsoft.Crm.Client.Core.Framework.$6.$4N&&Microsoft.Crm.Client.Core.ViewModels.$a.$14U()}));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("CanGoBack",this.$$d_$2EK);this.$2EK(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),"BackButtonEnabled");Microsoft.Crm.Client.Core.ViewModels.$a.$B5()||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He);this.$lF();this.set_$2sN(1)},$2EK:function(n){var t=n;this.set_BackButtonEnabled(t.get_CanGoBack())},$He:function(){this.set_SearchButtonEnabled(this.$Ec.get_CanExecute())},$Ea:function(){this.$5g.remove_$6F(this.$nW);this.$5g.dispose();this.set_SiteMapViewModel(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(10)));this.$5g.set_DefinitionId("sitemap");this.$lF()},$lF:function(){if(this.$5g.add_$6F(this.$nW),this.$1dG){var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StartSiteMapViewModelInitialization",0);n.$5g.$2Z()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$lF,"Initialize SiteMap RootViewModel")}else Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StartSiteMapViewModelInitialization",0),this.$5g.$2Z();this.$5g.set_Visible(!1)},$1MC:function(){this.$5g.set_Visible(!1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Kg(null)},$2to:function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),n=new Microsoft.Crm.Client.Core.Commands.$2R(t,1);n.$1eW=!0;n.execute();n.dispose()},$2sk:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BackNavigation",1);var n=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("RequestClose"));n.execute();n.dispose()},$2vA:function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),n;if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$2U.$T6===2){var i=this,r=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$w4("LastUsedSearch").then(function(i){var r=i.$6b.value;n=r==="RelevanceSearch"&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4?new Microsoft.Crm.Client.Core.Commands.$2R(t,47):new Microsoft.Crm.Client.Core.Commands.$2R(t,26);n.execute();n.dispose()},function(){n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4?new Microsoft.Crm.Client.Core.Commands.$2R(t,47):new Microsoft.Crm.Client.Core.Commands.$2R(t,26);n.execute();n.dispose()})}else n=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$2U.$T6&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4?new Microsoft.Crm.Client.Core.Commands.$2R(t,47):new Microsoft.Crm.Client.Core.Commands.$2R(t,26),n.execute(),n.dispose()},$28b:function(){var r,u,f,n,t,s,i,e,o;Microsoft.Crm.Client.Core.ViewModels.$2g.$S6&&Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.get_Count()>0&&Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.clear();r=this.$5g.$H;for(u in r)f={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(f.value)&&(n=f.value,$0.$0(n.get_$1u())||n.get_$1u()==="dashboard"||(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.get_$1u()),t?(s=n.$1G,$0.$0(s)&&n.set_Label(t.$Ag),i={},i.LogicalName=n.get_$1u(),i.DisplayName=t.$1q,i.IsChildEntity=t.$G4,Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.add(i),!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(n.get_$1u(),1)&&Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)&&(e=n,e.set_Enabled(!1),e.set_Visible(!1))):Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)&&(o=n,o.set_Enabled(!1),o.set_Visible(!1))));Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("EndSiteMapViewModelInitialization",0)},$28c:function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("SiteMapVisible",this.$5g.$4u)},$Oh:function(){this.set_HomeCommand(null);this.set_BackCommand(null);this.set_SearchCommand(null);this.set_SiteMapViewModel(null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("CanGoBack",this.$$d_$2EK);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$KD=function(n,t){this.$$d_$28C=Function.createDelegate(this,this.$28C);this.$40=new Sys.EventHandlerList;this.dispose=this.$5E;this.$Cw=n;this.$Jf=t;this.$Cw.$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$28C)};Microsoft.Crm.Client.Core.ViewModels.$KD.prototype={$Jf:null,$Cw:null,$1Wl:!1,$13R:!1,$VH:null,$Jw:null,$1FG:null,add_PreNavigation:function(n){this.$40.addHandler("PreNavigate",n)},remove_PreNavigation:function(n){this.$40.removeHandler("PreNavigate",n)},add_PostNavigation:function(n){this.$40.addHandler("PostNavigate",n)},remove_PostNavigation:function(n){this.$40.removeHandler("PostNavigate",n)},$28C:function(n){var t=n.get_$1RF(),r,u,e,i,f,o;Xrm.Internal.clearOnXrmReadyEventHandlers();r=this.$40.getHandler("PreNavigate");$0.$0(r)||(u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationManager.OnNavigationCommand.PreHandler"),u.start(),r(this,new Microsoft.Crm.Client.Core.Framework.$NL(t,n.get_$HY())),u.stop());Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(this.$13R||t.$g!==40?this.$13R&&(this.$Jw=new Date,e=Math.floor((Date.parse(this.$Jw.toUTCString())-Date.parse(this.$VH.toUTCString()))/1e3),i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskLogFormTelemetryEvent"),i.$h("TimeSpentOnForm",e.toString()),i.$h("EntityName",this.$1FG.toString()),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i),t.$g===40?(this.$VH=new Date,this.$1FG=t.$D):this.$13R=!1):(this.$13R=!0,this.$VH=new Date,this.$1FG=t.$D));switch(n.get_$HY()){case 0:this.$2M9();break;case 1:case 2:case 4:this.$1hn(t);break;case 5:this.$31A(t)}Xrm.Internal.executeOnXrmReadyEventHandlers();f=this.$40.getHandler("PostNavigate");$0.$0(f)||(o=this,window.setTimeout(function(){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationManager.OnNavigationCommand.PostHandler");i.start();f(o,new Microsoft.Crm.Client.Core.Framework.$NL(t,n.get_$HY()));i.stop()},0))},$2Pw:function(n){for(var i=this.$Jf.get_ActiveNavigationStack().$1mk(),t=0;t<i.length;t+=1)if(n.isInstanceOfType(i[t]))return!0;return!1},$5E:function(){this.$Cw.$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$28C)},$2M9:function(){if(this.$Jf.get_ActiveNavigationStack().get_Count()>1||this.$1Wl&&this.$Jf.get_ActiveNavigationStack().get_Count()>0){var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationManager.Back");n.start();this.$Jf.$vL();n.stop()}},$1hn:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationManager.Open");if(t.start(),this.$Jf.get_ActiveNavigationStack().$10k(n))while(this.$Jf.get_Top()!==n)this.$Jf.$vL();else this.$Jf.$vT(n);t.stop()},$31A:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationManager.ReplaceTop");if(t.start(),this.$Jf.get_ActiveNavigationStack().$10k(n))while(this.$Jf.get_Top()!==n)this.$Jf.$vL();else this.$Jf.$2F1(n);t.stop()}};Microsoft.Crm.Client.Core.ViewModels.$a=function(){};Microsoft.Crm.Client.Core.ViewModels.$a.$G5=function(n){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?!0:Microsoft.Crm.Client.Core.ViewModels.$a.$HM(n)};Microsoft.Crm.Client.Core.ViewModels.$a.$2pX=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?!0:Microsoft.Crm.Client.Core.ViewModels.$a.$254(n,t)};Microsoft.Crm.Client.Core.ViewModels.$a.$254=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.$a.$HM(t)?!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$CC(2)):!0};Microsoft.Crm.Client.Core.ViewModels.$a.$14U=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Microsoft.Crm.Client.Core.ViewModels.$a.$B5()};Microsoft.Crm.Client.Core.ViewModels.$a.$2og=function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By&&!$0.$0(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG())&&"MobileClientOfflineWebResources"in Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG().MobileClientOfflineWebResources};Microsoft.Crm.Client.Core.ViewModels.$a.$HM=function(n){return Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&Xrm.Utility.isEntityOfflineSyncEnabled(n)};Microsoft.Crm.Client.Core.ViewModels.$a.$B5=function(){return Xrm.Utility.isMocaOfflineFeatureEnabled()&&Xrm.Utility.isAppOfflineSyncEnabled()};Microsoft.Crm.Client.Core.ViewModels.$a.$1eY=function(){return Xrm.Utility.isMocaOfflineFeatureEnabled()&&!Xrm.Utility.isAppOfflineSyncEnabled()&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a().$ff};Microsoft.Crm.Client.Core.ViewModels.$4P=function(){this.$$d_$2s5=Function.createDelegate(this,this.$2s5);this.$$d_$2kU=Function.createDelegate(this,this.$2kU);this.$$d_$28c=Function.createDelegate(this,this.$28c);this.$$d_$1MC=Function.createDelegate(this,this.$1MC);this.$$d_$28b=Function.createDelegate(this,this.$28b);this.get_NextTabIndex=this.get_$3Fm;this.set_NextTabIndex=this.set_$3Fm;this.get_StartIndex=this.get_$1Qi;this.set_StartIndex=this.set_$1Qi;this.get_TabSpaceReserved=this.get_$1mL;Microsoft.Crm.Client.Core.ViewModels.$4P.initializeBase(this);this.set_SiteMapViewModel(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(10)));this.$nW=this.$$d_$28b;this.set_$1Qi(20);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC)};Microsoft.Crm.Client.Core.ViewModels.$4P.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("InteractionCentricNavigationBarViewModel",Microsoft.Crm.Client.Core.ViewModels.$4P)};Microsoft.Crm.Client.Core.ViewModels.$4P.$1qY=function(){if(Microsoft.Crm.Client.Core.ViewModels.$4P.$2oi())return"http://go.microsoft.com/fwlink/p/?LinkID=616286&area=interactive_service_hub&user_lcid="+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di.toString();var n=Microsoft.Crm.Client.Core.Framework.$1T.$d("_helpUrl");return n+Microsoft.Crm.Client.Core.ViewModels.$4P.$2gj()};Microsoft.Crm.Client.Core.ViewModels.$4P.$2gj=function(){return"?area=interactive_service_hub&user_lcid="+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di.toString()};Microsoft.Crm.Client.Core.ViewModels.$4P.$2oi=function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.islive};Microsoft.Crm.Client.Core.ViewModels.$4P.prototype={$22u:"/OP/content/you_must_be_online.htm",$5g:null,$10j:null,$nW:null,$jA:null,$1Be:null,$14K:!1,$m8:null,get_HelpPageUrl:function(){return this.$22u},get_IsOpenedFormInCreateMode:function(){return this.$14K},get_SiteMapViewModel:function(){return this.$5g},set_SiteMapViewModel:function(n){return this.$5g!==n&&($0.$0(this.$5g)||(this.$5g.RemovePropertyChangedListener("Visible",this.$$d_$28c),this.$5g.dispose()),this.$5g=n,$0.$0(this.$5g)||this.$5g.AddPropertyChangedListener("Visible",this.$$d_$28c),this.$7("SiteMapViewModel")),n},$ii:null,get_NavBarUserInfoViewModel:function(){return this.$ii},set_NavBarUserInfoViewModel:function(n){return this.$ii=n,n},$ig:null,get_NavBarSearchViewModel:function(){return this.$ig},set_NavBarSearchViewModel:function(n){return this.$ig=n,n},$Vx:null,get_NavBarMruViewModel:function(){return this.$Vx},set_NavBarMruViewModel:function(n){return this.$Vx=n,n},$if:null,get_NavBarQuickCreateViewModel:function(){return this.$if},set_NavBarQuickCreateViewModel:function(n){return this.$if=n,n},$ih:null,get_NavBarSettingsViewModel:function(){return this.$ih},set_NavBarSettingsViewModel:function(n){return this.$ih=n,n},$ie:null,get_NavBarAssociatedViewModel:function(){return this.$ie},set_NavBarAssociatedViewModel:function(n){return this.$ie=n,n},get_ActiveArea:function(){return this.$jA},set_ActiveArea:function(n){return this.$jA!==n&&(this.$jA=n,this.$7("ActiveArea")),n},get_ActiveSubArea:function(){return this.$1Be},set_ActiveSubArea:function(n){return this.$1Be!==n&&(this.$1Be=n,this.$7("ActiveSubArea")),n},$d0:null,get_entityLevelMruList:function(){return this.$d0},set_entityLevelMruList:function(n){return this.$d0=n,n},$or:!1,get_IsCurrentEntityDataPopulated:function(){return this.$or},set_IsCurrentEntityDataPopulated:function(n){return this.$or=n,n},$Vk:null,get_CurrentEntityName:function(){return this.$Vk},set_CurrentEntityName:function(n){return this.$Vk=n,n},$oN:null,get_CurrentEntityId:function(){return this.$oN},set_CurrentEntityId:function(n){return this.$oN=n,n},$oO:null,get_CurrentEntityLogicalName:function(){return this.$oO},set_CurrentEntityLogicalName:function(n){return this.$oO=n,n},$y1:null,get_CurrrentEntityTypeCode:function(){return this.$y1},set_CurrrentEntityTypeCode:function(n){return this.$y1=n,n},getHelpButtonUrl:function(){return Microsoft.Crm.Client.Core.ViewModels.$4P.$1qY()},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1FP().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83,this.$$d_$2kU),this.$m8=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2s5,2007),Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||this.$lF(),this.$2mc(),this.$2mq(),this.$2mQ(),this.$2mR(),this.$2mS(),this.$2lz(),this.$d0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)))},$2kU:function(n){var u=n.$1Tm,r=u.$I.$a,i=null,t;$0.$0(Xrm.Page)||$0.$0(Xrm.Page.data)||$0.$0(Xrm.Page.data.entity)||$0.$0(Xrm.Page.data.entity.getId())?i="End by Discarding Event.":(t=Xrm.Page.data.entity.getId(),t=t.substring(1,t.length-1),t.toLowerCase()===r.get_identifier().toLowerCase()?(i="End by Consuming Event.",this.$1Mv(u)):i="End by Discarding Event as event is not for current Form.");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("UpdateRecordInNavBar",2007,{Entity:r.LogicalName,Id:r.get_identifier().toString()},i)},$2mc:function(){this.$ig=new Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel;this.$ig.$2Z()},$2mq:function(){this.$ii=new Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel;this.$ii.$2Z()},$2mQ:function(){this.$Vx=new Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel;this.$Vx.$2Z()},$2mR:function(){this.$if=new Microsoft.Crm.Client.Core.ViewModels.$DY;this.$if.$2Z()},$2mS:function(){this.$ih=new Microsoft.Crm.Client.Core.ViewModels.$DZ;this.$ih.$2Z()},$2lz:function(){this.$ie=new Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel;this.$ie.$2Z()},$lF:function(){this.$5g.add_$6F(this.$nW);var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StartSiteMapViewModelInitialization",0);n.$5g.$2Z()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$lF,"Initialize SiteMap RootViewModel");this.$5g.set_Visible(!1)},$36c:function(){var n=this,t=this;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$21Q().then(function(t){var f,o,s,h,c,l;try{if(!$0.$0(t)&&t.get_Count()>1){for(var u=t.get_Count(),r=t.get_$R(u-1),i=r.$15K;u>0;)if(r=t.get_$R(u-1),i=r.$15K,i===40||i===37||i===13)break;else u--;if(u===-1){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetAreaAndSubAreaForFirstLoad.GetPersistedNavigationStack",2007,{Message:"There was no item in Navigation stack of type InteractionCentricForm/GridForm/InteractionCentricWorkSpace. So exiting the function without setting area and sub area in Nav Bar"},"SetAreaAndSubAreaForFirstLoad");return}f=r.$15J;n.set_ActiveArea(n.$5g.$H.CS);i===40||i===13?(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(f),s=o.$9p,n.$2HA(s),i!==40||$0.$0(r.$UH)||(h=new Xrm.Objects.EntityReference(f,new Microsoft.Crm.Client.Core.Framework.Guid(r.$UH)),n.$2Hh(h))):i===37&&n.$1Po()}else n.set_ActiveArea(n.$5g.$H.CS),n.$1Po(),c=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq().toString(),Microsoft.Crm.Client.Core.ViewModels.$e.$1ka(c)}catch(e){l=Microsoft.Crm.Client.Core.Framework.$7.$1GB(e);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1fy("SetAreaAndSubAreaForFirstLoad.GetPersistedNavigationStack",2007,e,{Error:l.$20()},"SetAreaAndSubAreaForFirstLoadFailed");throw e;}},function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("SetAreaAndSubAreaForFirstLoad.GetPersistedNavigationStack",2007,{Error:n.$20()},"SetAreaAndSubAreaForFirstLoadFailed")})},$1Po:function(){var n=this.$jA.$H.MyWork,t=n.$H.nav_dashboards;this.set_ActiveSubArea(t)},$2HA:function(n){var f=this.$jA.$H,t,e,i,r,u;for(t in f){e={key:t,value:f[t]};i=e.value.$H;for(r in i)if(u={key:r,value:i[r]},u.value.$8s===n){this.set_ActiveSubArea(u.value);break}}},$3Aa:function(n){var t=null,i="",f=!1,e,r,u,o,s;!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"EntityReference"in n.$K.$M?(t=n.$K.$M.EntityReference,i=t.LogicalName):!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"ListDefinitionId"in n.$K.$M?i=n.$D:$0.$0(n.get_ModelContext())?$0.$0(n.$1W)||n.$1W.toUpperCase()!=="InteractionCentricWorkspace".toUpperCase()||(f=!0):(e=n.get_ModelContext(),t=e.get_$4m(),i=t.LogicalName);f?(s=this.$jA,this.$1Po()):(r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(i),$0.$0(r)||(u=r.$9p,r.get_$7g()&&(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i("activitypointer"),u=o.$9p),this.$2HA(u)))},$2Hh:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("UpdateRecordInNavBar",2007,{Entity:n.LogicalName,Id:n.get_identifier().toString()},"Start")},$1MC:function(n){this.$5g.set_Visible(!1);this.$14K=!1;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Kg(null);var t=n.get_$1RF();n.get_$HY()||Microsoft.Crm.Client.Core.ViewModels.$e.$17L(t,!0);n.get_$HY()&&n.get_$HY()!==1||this.$1nC(t)},$1nC:function(n){var i,r,t;this.set_ActiveArea(this.$5g.$H.CS);this.$3Aa(n);$0.$0(n.get_ModelContext())?!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"EntityReference"in n.$K.$M?(r=n.$K.$M.EntityReference,this.$2Hh(r)):!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"ListDefinitionId"in n.$K.$M?this.$1X2():Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)&&n.$6i===1?(this.$14K=!0,t=new Microsoft.Crm.Client.Core.ViewModels.$4D,this.$Vk=t.getInteractionCentricNewFormTitle(n.$D),this.$oN=n.$1P,this.$or=!0,t.dispose(),t=null,this.$7("NavigationHappened")):this.$1X2():(i=n.get_ModelContext(),this.$1Mv(i))},$1Mv:function(n){var t=n.$I.$a,r,i;t.LogicalName==="queueitem"&&!$0.$0(n.$I.fields.objectid)&&Xrm.Objects.EntityReference.isInstanceOfType(n.$I.fields.objectid)?(t=n.$I.fields.objectid,this.$Vk=t.Name):(r=Microsoft.Crm.Client.Core.ViewModels.$e.$21h(t),this.$Vk=n.$I.$Qx()[r]);this.$oO=t.LogicalName;this.$oN=t.Id.toString();this.$y1=t.TypeCode.toString();$0.$0(this.$Vk)&&(i=new Microsoft.Crm.Client.Core.ViewModels.$4D,this.$Vk=i.getInteractionCentricNewFormTitle(this.$oO),this.$14K=!0,i.dispose(),i=null);this.$or=!0;this.$7("NavigationHappened")},$1X2:function(){this.$oN="";this.$oO="";this.$y1="";this.$Vk="";this.$or=!1;this.$7("NavigationHappened")},getEntityColor:function(n){return Microsoft.Crm.Client.Core.ViewModels.$e.$1HN(n)},$28b:function(){var u,f,e,n,t,h,i,o,s,r;Microsoft.Crm.Client.Core.ViewModels.$2g.$S6&&Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.get_Count()>0&&Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.clear();u=this.$5g.$H;for(f in u)e={key:f,value:u[f]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(e.value)&&(n=e.value,$0.$0(n.get_$1u())||n.get_$1u()==="dashboard"||(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.get_$1u()),t?(h=n.$1G,$0.$0(h)&&n.set_Label(t.$Ag),i={},i.LogicalName=n.get_$1u(),i.DisplayName=t.$1q,i.IsChildEntity=t.$G4,Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.add(i),!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(n.get_$1u(),1)&&Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)&&(o=n,o.set_Enabled(!1),o.set_Visible(!1))):Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)&&(s=n,s.set_Enabled(!1),s.set_Visible(!1))));Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("EndSiteMapViewModelInitialization",0);this.$2o4()?(r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),Microsoft.Crm.Client.Core.ViewModels.$e.$17L(r,!1),$0.$0(r)||this.$1nC(r)):this.$36c()},$2o4:function(){var n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$Rc(window.location.href);return!$0.$0(n)&&"pagetype"in n&&!$0.$0(n.pagetype)?!0:!1},$36a:function(n){this.set_ActiveArea(n);this.$7("ActiveArea")},fetchEntityLevelMruData:function(n){var t=this,i=this;this.$Vx.$2WQ(n.toString()).then(function(n){t.$d0.clear();t.$d0=n;t.$7("EntityLevelMruDataFetched")},function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("FetchEntityLevelMruData",2007,{Error:n.$20()},"FetchEntityLevelMruDataFailed")})},navigateToRecord:function(n){this.$Vx.navigateTo(n)},onSiteMapLogoClicked:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this,37);try{n.$x={};n.$x.IsNavigatingFromNavBar=!0;n.$1W=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq().toString();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("OnSiteMapLogoClicked",2007,{DashboardId:n.$1W},"SiteMapLogoClicked");n.execute()}finally{n.dispose()}},isNavBarOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$4L.getParamStatus("navbar")},$36b:function(n){this.set_ActiveSubArea(n);this.$7("ActiveSubArea")},$28c:function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("SiteMapVisible",this.$5g.$4u)},$2s5:function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),n=new Microsoft.Crm.Client.Core.Commands.$2R(t,37);try{n.$x={};n.$x.IsNavigatingFromNavBar=!1;n.$1W=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq().toString();n.execute();this.$1X2();this.$1Po()}finally{n.dispose()}},$Oh:function(){this.$5g.dispose();this.set_SiteMapViewModel(null);this.$ie.dispose();this.$ie=null;this.$Vx.dispose();this.$Vx=null;this.$if.dispose();this.$if=null;this.$ih.dispose();this.$ih=null;this.$ig.dispose();this.$ig=null;this.$ii.dispose();this.$ii=null;this.$d0.clear();this.$d0=null;$0.$0(this.$m8)||(this.$m8.dispose(),this.$m8=null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1FP().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83,this.$$d_$2kU);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},get_$3Fm:function(){return this.get_$1Qi()+this.get_$1mL()},set_$3Fm:function(n){return n},$Nf:0,get_$1Qi:function(){return this.$Nf},set_$1Qi:function(n){return this.$Nf=n,n},get_$1mL:function(){return 10}};Microsoft.Crm.Client.Core.ViewModels.$DY=function(){this.$$d_$28J=Function.createDelegate(this,this.$28J);this.$mw=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object));this.$LH=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object));Microsoft.Crm.Client.Core.ViewModels.$DY.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DY.prototype={populateActivityAndRecordEntities:function(){var r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarOpenQuickCreateListFlyout",0,this.get_ViewModelId()),t,i,n,u,f;if($0.$0(r)||(r.addParameter(this.$L),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("NavBarQuickCreateListFlyoutShown",0,this.get_ViewModelId())),this.$mw.clear(),this.$LH.clear(),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy(),!$0.$0(t))for(i=0;i<t.length;i++)if(n=t[i],!$0.$0(n)){if(n.$y==="activitypointer")continue;(!Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n.$KJ||Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n.$BW)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(n.$y,0)&&(n.get_$7g()?n.$9p!==4216&&(!n.$CW||n.$14P)&&this.$LH.add(n):n.$14P&&this.$mw.add(n))}u=this;this.$mw.sort(function(n,t){var i=n,r=t;return i.$y.localeCompare(r.$y)});f=this;this.$LH.sort(function(n,t){var i=n,r=t;return i.$y.localeCompare(r.$y)})},get_RecordEntities:function(){return this.$mw},get_ActivityEntities:function(){return this.$LH},navigateTo:function(n){var o=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarQuickCreateItems_Clicked",0,this.get_ViewModelId()),t,e,r,s,u;$0.$0(o)||o.addParameter(this.$L);var f=n,i=f.$y,h=new Xrm.Objects.EntityReference(i,f.$1P);if(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavbarQuickCreateViewModel.NavigateTo",2007,{Id:f.$1P,Entity:i},"NavigateToQuickCreateForm"),t={},$0.$0(t.ownerid)&&$0.$0(t.owneridname)&&$0.$0(t.owneridtype)&&(t.ownerid=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString(),t.owneridname=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$CD,t.owneridtype="systemuser"),e={InitializationParameters:t,InitializeFrom:2},i==="email")r=new Array(2),r[0]=i,r[1]=e,s=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s(r),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1FP().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s,s);else{u=new Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand(null,i,5,e);try{u.$J=this.$$d_$28J;u.execute()}finally{t=null;u.dispose()}}},getEntityName:function(n){var t=n;return t.$1q},getEntityColor:function(n){var t=n;return t.$kL},$28J:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();n.refreshWithoutScriptReload()},getEntityLogicalName:function(n){var t=n;return t.$y},$Oh:function(){this.$mw.clear();this.$mw=null;this.$LH.clear();this.$LH=null;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$DZ=function(){Microsoft.Crm.Client.Core.ViewModels.$DZ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DZ.prototype={$27x:"http://go.microsoft.com/fwlink/?LinkID=521839",$28H:"http://go.microsoft.com/fwlink/?LinkID=521839",$1Un:"/about/default.aspx",get_AboutUrl:function(){return this.get_$3Bw()?String.format("/{0}{1}",this.get_$2wO(),this.$1Un):this.$1Un},get_ReturnPrivacyStatementUrl:function(){return this.$2nk()?this.$212(this.$27x):this.$212(this.$28H)},get_$2wO:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$gq()},get_$3Bw:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.usepathbasedurls},$2nk:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.islive},$212:function(n){return this.$21L()?n+"&clcid=0x"+this.$21L().toString(16):n},$21L:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di}};Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel.prototype={$1Uc:null,get_TileColor:function(){return this.$1Uc},set_TileColor:function(n){return this.$1Uc=n,n},$on:null,get_Icon:function(){return this.$on},set_Icon:function(n){return this.$on=n,n},$W6:null,get_ResourceId:function(){return this.$W6},set_ResourceId:function(n){return this.$W6=n,n},$WD:0,get_UnknownNodeCount:function(){return this.$WD},set_UnknownNodeCount:function(n){return this.$WD=n,n},$Vm:null,get_DescriptionResourceId:function(){return this.$Vm},set_DescriptionResourceId:function(n){return this.$Vm=n,n},get_TileIconURL:function(){var n="";switch(this.$1P){case"CS":n="Service";break;case"HLP":n="Help";break;default:n="Service"}return Microsoft.Crm.Client.Core.Framework.$3.$IY("/_imgs/NavBar/ActionImgs/NavTile_icon_{0}_85x71.png",n)},setActiveArea:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HK().$36a(this)},setActiveSubArea:function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HK().$36b(n)},navigateTo:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this,37);try{n.$x={};n.$x.IsNavigatingFromNavBar=!0;n.$1W=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq().toString();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateTo",2007,{DashboardId:n.$1W},"NavigateToDashboardFromNavBar");n.execute()}finally{n.dispose()}}};Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel.prototype={$2p:null,get_Id:function(){return this.$2p},set_Id:function(n){return this.$2p=n,n},$W6:null,get_ResourceId:function(){return this.$W6},set_ResourceId:function(n){return this.$W6=n,n},$WD:0,get_UnknownNodeCount:function(){return this.$WD},set_UnknownNodeCount:function(n){return this.$WD=n,n},$Vm:null,get_DescriptionResourceId:function(){return this.$Vm},set_DescriptionResourceId:function(n){return this.$Vm=n,n}};Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel.prototype={$2p:null,get_Id:function(){return this.$2p},set_Id:function(n){return this.$2p=n,n},$LE:null,get_Url:function(){return this.$LE},set_Url:function(n){return this.$LE=n,n},$on:null,get_Icon:function(){return this.$on},set_Icon:function(n){return this.$on=n,n},$iO:null,get_Entity:function(){return this.$iO},set_Entity:function(n){return this.$iO=n,n},$8s:0,get_EntityTypeCode:function(){return this.$8s},set_EntityTypeCode:function(n){return this.$8s=n,n},$9F:null,get_EntityLogicalName:function(){return this.$9F},set_EntityLogicalName:function(n){return this.$9F=n,n},$1Sy:null,get_EntityColor:function(){return this.$1Sy},set_EntityColor:function(n){return this.$1Sy=n,n},$Vm:null,get_DescriptionResourceId:function(){return this.$Vm},set_DescriptionResourceId:function(n){return this.$Vm=n,n},$W6:null,get_ResourceId:function(){return this.$W6},set_ResourceId:function(n){return this.$W6=n,n},$yd:null,get_ListDefinitionId:function(){return this.$yd},set_ListDefinitionId:function(n){return this.$yd=n,n},$1AO:!1,get_IsHelpSubAreaInSiteMap:function(){return this.$1AO},set_IsHelpSubAreaInSiteMap:function(n){return this.$1AO=n,n},$pA:0,get_NavigationType:function(){return this.$pA},set_NavigationType:function(n){return this.$pA=n,n},$Dw:null,get_Activities:function(){return this.$Dw},set_Activities:function(n){return this.$Dw=n,n},getUrlForSubAreaNode:function(){if(this.$1AO)return Microsoft.Crm.Client.Core.ViewModels.$4P.$1qY();if($0.$0(this.$LE)||!this.$LE.startsWith("/"))return this.$LE;this.$LE.startsWith("/$webresource:")&&(this.$LE=this.$LE.replace("/$webresource:","/WebResources/"));var n=this.$LE.startsWith("/nga")?Xrm.Page.context.getClientUrlForInteractioncentricDashboard():Xrm.Page.context.getClientUrl();return this.$LE=n+this.$LE,this.$LE},$WD:0,get_UnknownNodeCount:function(){return this.$WD},set_UnknownNodeCount:function(n){return this.$WD=n,n},navigateTo:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this,this.$pA);n.$x={};n.$x.IsNavigatingFromNavBar=!0;try{this.$pA===13?(n.$D=this.$9F,n.$x.ListDefinitionId=this.$yd,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarSubAreaViewModel.NavigateTo",2007,{Entity:this.$9F,Id:this.$yd},"NavigateToEntityGrid"),"activitypointer"===this.$9F&&(n.$x.Activities=this.$Dw)):this.$pA===37&&(n.$1W=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq().toString(),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarSubAreaViewModel.NavigateTo",2007,{Id:n.$1W},"NavigateToDashboard"));n.execute()}finally{n.dispose()}},IsUserPrivilegedForEntityRead:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$9F,1)?!0:!1}};Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavBarSearchViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel)};Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel.prototype={$6R:null,get_OpenSearchPageCommand:function(){return this.$6R},get_SearchButtonTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?30:-3e4},get_SearchButtonToolTip:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricNavBar_Search")},$2Z:function(){if(!this.$1a&&(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),$0.$0(this.$6R))){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1uL()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4?this.$6R=new Microsoft.Crm.Client.Core.Commands.$2R(n,47):(this.$6R=new Microsoft.Crm.Client.Core.Commands.$2R(n,26),this.$6R.$x={},this.$6R.$x.IsNavigatingFromNavBar=!0,this.$6R.$1W="searchPage")}},$Oh:function(){$0.$0(this.$6R)||(this.$6R.dispose(),this.$6R=null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel.prototype={get_OrgName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$gq()},get_ShouldShowSignoutCommand:function(){return!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.usepathbasedurls},get_UserName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$CD},SignoutUser:function(){var n=new Microsoft.Crm.Client.Core.Commands.SignOutCommand;try{n.$TE_2()}finally{n.dispose()}},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.set_Visible(!1))}};Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavBarMruViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel)};Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$26g=function(n,t){var i=new Microsoft.Crm.Client.Core.Commands.$2R(null,13);try{i.$x={};i.$D=t;i.$x.ListDefinitionId=n;i.$x.IsNavigatingFromNavBar=!0;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToView",2007,{Id:n,Entity:t},"NavigateToViewFromMru");i.execute()}finally{i.dispose()}};Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$1Lc=function(n,t){var r=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(n)),i=new Microsoft.Crm.Client.Core.Commands.$2R(null,40);try{i.$D=t;i.$x={};i.$x.EntityReference=r;i.$x.IsNavigatingFromNavBar=!0;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToRecord",2007,{Id:n,Entity:t},"NavigateToRecordFromMru");i.execute()}finally{i.dispose()}};Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.prototype={get_recentlyViewedItemList:function(){return Microsoft.Crm.Client.Core.ViewModels.$e.$yz},$2WQ:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarMruViewModel.FetchEntityLevelMruData",2007,{EntityTypeCode:n},"FetchEntityLevelMruData");var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object),Microsoft.Crm.Client.Core.Framework.$7),i="ICRV"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString(),r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$w4(i).then(function(r){var o,s,f,e,u,c;try{for(o=!1,n==="4200"&&(o=!0),s=JSON.parse(r.$6b[i]),f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),e=0;e<s.length;e++)u=Microsoft.Crm.Client.Core.ViewModels.$e.$1YB(s[e]),o?u.isActivity==="true"&&(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("NavBarMruViewModel.FetchEntityLevelMruData",2007,{Data:u},"FetchEntityLevelMruDataSuccess"),f.add(u)):(n==="0"&&u.isDashboard==="true"||n===u.entityTypeCode&&u.isGrid==="false")&&(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("NavBarMruViewModel.FetchEntityLevelMruData",2007,{Data:u},"FetchEntityLevelMruDataSuccess"),f.add(u));t.resolve(f)}catch(h){c=Microsoft.Crm.Client.Core.Framework.$7.$1GB(h);t.reject(c);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1fy("FetchEntityLevelMruData.RetrieveUserPersonalization",2007,h,{Error:c.$20()},"FetchEntityLevelMruDataFailed");throw h;}},function(n){t.reject(n);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("FetchEntityLevelMruData.RetrieveUserPersonalization",2007,{Error:n.$20()},"FetchEntityLevelMruDataFailed")}),t},fetchGlobalMruData:function(){var n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarMruButton_Clicked",0,this.get_ViewModelId());$0.$0(n)||n.addParameter(this.$L);var t="ICRV"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString(),i=this,r=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$w4(t).then(function(n){var u,r,f;for(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("NavBarMruDataLoad",0,i.get_ViewModelId()),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$AC()&&Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarMruShown")},-13,"NavBarMruViewModel.FetchGlobalMruData"),u=JSON.parse(n.$6b[t]),Microsoft.Crm.Client.Core.ViewModels.$e.$yz.clear(),r=0;r<u.length;r++)f=Microsoft.Crm.Client.Core.ViewModels.$e.$1YB(u[r]),Microsoft.Crm.Client.Core.ViewModels.$e.$yz.add(f),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarMruViewModel.FetchGlobalMruData",2007,{Data:f},"FetchGlobalMruDataSuccess");i.$7("DataFetched")},function(n){r.$7("DataFetched");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("FetchGlobalMruData.RetrieveUserPersonalization",2007,{Error:n.$20()},"FetchGlobalMruDataFailed")})},getEntityColor:function(n){return Microsoft.Crm.Client.Core.ViewModels.$e.$1HN(n)},$2s3:function(n){var t=new Microsoft.Crm.Client.Core.Commands.$2R(this,37);try{t.$x={};t.$x.IsNavigatingFromNavBar=!0;t.$1W=n.id;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToDashboard",2007,{Id:t.$1W},"NavigateToDashboardFromMru");t.execute()}finally{t.dispose()}},navigateTo:function(n){var r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarMruItems_Clicked",0,this.get_ViewModelId()),t,i;if($0.$0(r)||r.addParameter(this.$L),n.isDashboard==="true")this.$2s3(n);else if(n.isDashboard==="false"){t=n.entityName;i=n.id;switch(n.isGrid){case"true":Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$26g(i,t,n);break;case"false":Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$1Lc(i,t,n);break;default:return}}}};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavBarAssociatedViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel)};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel.prototype={$dN:null,get_RelationshipMetadataDictionary:function(){return this.$dN},set_RelationshipMetadataDictionary:function(n){return this.$dN=n,n},$iZ:!1,get_IsRelationshipsPresent:function(){return this.$iZ},set_IsRelationshipsPresent:function(n){return this.$iZ=n,n},$1Aj:0,get_NumberOfRecords:function(){return this.$1Aj},set_NumberOfRecords:function(n){return this.$1Aj=n,n},$yk:null,get_NavBarAssociatedItemsViewModels:function(){return this.$yk},set_NavBarAssociatedItemsViewModels:function(n){return this.$yk=n,n},RetrieveAssociatedViewModelFromRootViewModel:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),t=null;!$0.$0(n)&&"InteractionCentricRelationships"in n.$H&&(t=n.$H.InteractionCentricRelationships);this.$2QL(t)},$2QL:function(n){$0.$0(n)?(this.$iZ=!1,this.$dN=null,this.set_$GO(null),this.set_ModelContext(null),this.$2i=null):(this.$iZ=n.$iZ,this.$dN=n.$dN,this.set_$GO(n.$2),this.set_ModelContext(n.get_ModelContext()),this.$2i=n.$2i)},GenerateAssociatedItems:function(){var e=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarAssociatedViewButton_Clicked",0,this.get_ViewModelId()),i,r,t,n,u,f;if($0.$0(e)||(e.addParameter(this.$L),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("NavBarAssociatedViewShown",0,this.get_ViewModelId())),i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavBarAssociatedView_DataRetrieve"),i.start(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel)),this.$iZ)for(t=0;t<this.$dN.length;++t)if(n=this.$dN[t],!$0.$0(n.DisplayName)){u=-1;$0.$0(n.RelationshipType)||(u=n.RelationshipType);f=-1;$0.$0(n.RelationshipRoleOrdinal)||(f=n.RelationshipRoleOrdinal);var o=n.DefinitionId,s=n.TargetEntityName,h=n.ContextFilter,c=n.DisplayName,l=n.RelationshipName,a=n.RelationshipExtraCondition,v=n.ReferencingName,y=new Microsoft.Crm.Client.Core.Models.AssociatedViewItemData(null,new Microsoft.Crm.Client.Core.Framework.Guid(o),s,h,c,l,u,a,v,f);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarAssociatedViewModel.GenerateAssociatedItems",2007,{Id:t,DefinitionId:o,TargetEntityName:s,ContextFilter:h,DisplayName:c,RelationshipName:l,RelationshipExtraCondition:a,RelationshipType:u.toString(),ReferencingName:v,RelationshipRoleOrdinal:f.toString()},"GenerateAssociatedItems");r.add(this.$2Qi(t.toString(),y))}this.$1Aj=r.get_Count();this.$yk=r.toArray();i.stop();i.addParameter(this.get_ViewModelId())},$2Qi:function(n,t){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarAssociatedViewModel.CreateAssociatedViewItemViewModel",2007,{Id:n,DefinitionId:t.$oV.toString(),TargetEntityName:t.$dW,ContextFilter:t.$pU,DisplayName:t.$3y,RelationshipName:t.$Eh,RelationshipExtraCondition:t.$iu,RelationshipType:t.$5T.toString(),ReferencingName:t.$it,RelationshipRoleOrdinal:t.$9A.toString()},"CreateAssociatedViewItemViewModel");var i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("NavBarAssociatedItemViewModel","NavBarAssociatedItem",n,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("RecordId",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("AssociatedViewData",t)],null,null,null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiDescriptor(24,null,"NavBarItem"),null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(i,this.get_ModelContext(),this.$2i,this.$2)}};Microsoft.Crm.Client.Core.ViewModels.$CS=function(){Microsoft.Crm.Client.Core.ViewModels.$CS.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$CS.prototype={$5f:"",$1KC:!1,$sf:!1,get_SearchText:function(){return this.$5f},set_SearchText:function(n){return this.$5f!==n&&(this.$5f=n,this.$sf=!0,this.$7("SearchText")),n},get_IsSearchBlocked:function(){return this.$1KC},set_IsSearchBlocked:function(n){return this.$1KC!==n&&(this.$1KC=n),n},get_HasTextChanged:function(){return this.$sf},set_HasTextChanged:function(n){return this.$sf!==n&&(this.$sf=n),n},$iS:null,get_FilterBarId:function(){return this.$iS},set_FilterBarId:function(n){return this.$iS=n,n},RefreshData:function(){this.$1Og()},$1Og:function(){var t,i,n;"InteractionCentricFormBody"in this.$2.$H?(t=this.$2.$H.InteractionCentricFormBody,"InteractionCentricGrid0"in t.$H?this.$1CG():"AssociatedGrid0"in t.$H&&this.$1CG()):"GridContainer"in this.$2.$H?(i=this.$2.$H.GridContainer,n=i.$H.Grid,n.$Cm||n.DeselectAllRecords(),n.$Kn=this.$5f,n.$tF=!0,this.$1CG()):Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)&&this.$1CG()},$d4:null,get_GridPrimaryAttributeName:function(){return this.$d4},set_GridPrimaryAttributeName:function(n){return this.$d4=n,n},$1CG:function(){var t=this.$d4,n=this.$5f,i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,t),r;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()||(n=n.replace(new RegExp("\\*","gi"),"%"),n=String.format("{0}%",n),i.$Bl(t,"like",n));r=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81(this.$iS,i.$9V(),n);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81,r)}};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavBarAssociatedItemViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel.prototype={associatedViewData:null,get_AssociatedViewData:function(){return this.associatedViewData},set_AssociatedViewData:function(n){return this.associatedViewData=n,this.set_Label(this.associatedViewData.$3y),n},OpenItem:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Z5&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().get_$24T()){var n=this;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$2XI(this).done(function(t){t&&(n.$2HT(),n.$2AR())})}else this.$2HT(),this.$2AR()},$2HT:function(){var t;if("InteractionCentricFormBody"in this.$2.$H&&(t=this.$2.$H.InteractionCentricFormBody,"AssociatedGrid0"in t.$H)){var n=t.$H.AssociatedGrid0,i=this.associatedViewData.$oV,r=i.toString()!==n.get_DefinitionId();r&&n.$2Ow();n.$88=this.associatedViewData.$pU;$0.$0(this.associatedViewData.$iu)||(n.$Bf=this.associatedViewData.$iu);$0.$0(this.associatedViewData.$Eh)||(n.$52=this.associatedViewData.$Eh);this.associatedViewData.$5T>=0&&(n.$5T=this.associatedViewData.$5T);$0.$0(this.associatedViewData.$it)||(n.$6c=this.associatedViewData.$it);this.associatedViewData.$9A>=0&&(n.$9A=this.associatedViewData.$9A);n.set_PrimaryModelName(this.associatedViewData.$dW);n.set_DefinitionId(i.toString());Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarAssociatedItemViewModel.OpenItem",2007,{DefinitionId:n.get_DefinitionId(),TargetEntityName:n.$D,ContextFilter:n.$88,DisplayName:this.associatedViewData.$3y,RelationshipName:n.$52,RelationshipExtraCondition:n.$Bf,RelationshipType:n.$5T.toString(),ReferencingName:n.$6c,RelationshipRoleOrdinal:n.$9A.toString()},"OpenAssociatedGrid")}},$2AR:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v("AssociatedGrid0");this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,n)},getEntityColor:function(n){return Microsoft.Crm.Client.Core.ViewModels.$e.$1HN(n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager=function(){this.$$d_$2sB=Function.createDelegate(this,this.$2sB);this.$40=[];this.$O4=null};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$1cL=function(n){switch(n){case 0:return"Back";case 1:return"Open";default:return"Other"}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$C)&&(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$C=new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$C};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.prototype={$40:null,$O4:null,$h8:null,AddHandler:function(n){return $0.$0(n)?!1:(Array.add(this.$40,n),!0)},RemoveHandler:function(n){return $0.$0(n)?!1:Array.remove(this.$40,n)},get_$24T:function(){return this.$40.length<=0?!1:!0},$2sB:function(n){this.$h8.resolve(n)},$38A:function(n){var t=!1;return this.get_$24T()?($0.$0(n)||(t=n.get_$HY()?n.get_$HY()===1?!0:!1:!0),t):!1},$2XI:function(n){var t,i;if(this.$h8=MscrmComponents.DeferredPromiseFactory(Boolean,Error),this.$O4=this.$2RV("BeforeNavigate",n,this.$$d_$2sB),$0.$0(this.$O4))this.$h8.resolve(!0);else for(t=0;t<this.$40.length;++t)i=this.$40[t],i&&i.call(this,this.$O4);return this.$h8},$2XH:function(n){var t,i;if(this.$h8=MscrmComponents.DeferredPromiseFactory(Boolean,Error),this.$O4=this.$2RU("BeforeNavigate",n,this.$$d_$2sB),$0.$0(this.$O4))this.$h8.resolve(!0);else for(t=0;t<this.$40.length;++t)i=this.$40[t],i&&i.call(this,this.$O4);return this.$h8},$1a7:function(n){var t,i,r;if(!$0.$0(this.$O4)&&this.$40.length>0&&this.$2OC(this.$O4,n)){for(t=this.$O4,t.EventType="PageLoadComplete",t.DoneCallback=null,i=0;i<this.$40.length;++i)r=this.$40[i],r&&r.call(this,t);this.$O4=null}},$2OC:function(n,t){if($0.$0(n)||$0.$0(t))return!1;var i=this.$1vr(t);return"TargetId"in n&&!$0.$0(n.TargetId)&&n.TargetId.toString().toLowerCase()===i.toLowerCase()?!0:!1},$1tH:function(n,t,i,r,u,f,e,o){var s={};return s.EventType=n,s.NavigationType=Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$1cL(1),s.DoneCallback=i,s.TargetUrl=r,s.TargetId=u,s.TargetName=f,s.TargetType="INTERACTIONCENTRICFORM",s.IsNavigatingFromNavBar=o,s},$2RV:function(n,t,i){var r,c,l;if($0.$0(t))return null;var f="",s="",e="",h="",o="",a=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$mX,v=this.$1zx(),u=t.get_ModelContext();return $0.$0(u)||($0.$0(u.get_$2m())||(f=u.get_$2m()),$0.$0(u.get_$HV())||(o=u.get_$HV())),r=t.associatedViewData,$0.$0(r)||($0.$0(r.$dW)||(s=r.$dW),$0.$0(r.$Eh)||(e=r.$Eh)),o!==""&&f!==""&&e!==""&&(h=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricform&etn={2}&id={3}&tabset={4}",v,a,o,f,e)),c=Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$1cL(1),l=this.$1tH(n,c,i,h,f,s,"INTERACTIONCENTRICFORM",!0),l},$2RU:function(n,t,i){var r,v,l,e;if($0.$0(t))return null;var o="",u="",f="",s="",a=!1,y=Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$1cL(t.get_$HY()),h=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$mX,c=this.$1zx();if(Microsoft.Crm.Client.Core.Commands.$2R.isInstanceOfType(t))r=t,!$0.$0(r.$x)&&"IsNavigatingFromNavBar"in r.$x&&(a=r.$x.IsNavigatingFromNavBar),r.$J1===40?(f=r.$D,s="INTERACTIONCENTRICFORM",$0.$0(r.$x)||("EntityReference"in r.$x&&!$0.$0(r.$x.EntityReference)?(v=r.$x.EntityReference,u=v.get_identifier()):"SourceId"in r.$x&&!$0.$0(r.$x.SourceId)&&(u=r.$x.SourceId),o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricform&etn={2}&id={3}",c,h,f,u))):r.$J1===37?(u=r.$1W,s="INTERACTIONCENTRICWORKSPACE",f=null,o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricdashboard&id={2}",c,h,u)):r.$J1===13&&(f=r.$D,s="GRIDFORM","ListDefinitionId"in r.$x&&!$0.$0(r.$x.ListDefinitionId)&&(u=r.$x.ListDefinitionId.toString()),o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=view&etn={2}&id={3}",c,h,f,u));else if(Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.isInstanceOfType(t))if(l=t,l.$Jk===40)u="",f=l.$D,s="INTERACTIONCENTRICFORM",o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=create&etn={2}",c,h,f);else return null;else if(Microsoft.Crm.Client.Core.Commands.NavigationCommand.isInstanceOfType(t)&&!$0.$0(t.get_$1RF()))e=t.get_$1RF(),u=this.$1vr(e),f=e.$D,e.$g===13?(s="GRIDFORM",o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=view&etn={2}&id={3}",c,h,f,u)):e.$g===37?(s="INTERACTIONCENTRICWORKSPACE",o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricdashboard&id={2}",c,h,u)):e.$g===40&&e.$6i===2?(s="INTERACTIONCENTRICFORM",o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricform&etn={2}&id={3}",c,h,e.$D,u)):e.$g===40&&e.$6i===1&&(s="INTERACTIONCENTRICFORM",o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=create&etn={2}",c,h,f),u="");else return null;return this.$1tH(n,y,i,o,u,f,s,a)},$1vr:function(n){var t="";switch(n.$g){case 13:!$0.$0(n.$K)&&!$0.$0(n.$K)&&"ListDefinitionId"in n.$K.$M&&(t=n.$K.$M.ListDefinitionId);break;case 37:t=n.$q;break;case 40:n.$6i===2?$0.$0(n.$12t())||(t=n.$12t().get_$4m()):n.$6i===1&&(t="")}return t},$1zx:function(){var n=window.location.href,t=n.indexOf(window.location.pathname);return n.substring(0,t)}};Microsoft.Crm.Client.Core.ViewModels.$SU=function(n){Microsoft.Crm.Client.Core.ViewModels.$SU.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.$SU.prototype={$Hj:null,get_RequestCloseCommand:function(){return this.$Hj},set_RequestCloseCommand:function(n){return this.$Hj!==n&&($0.$0(this.$Hj)||(this.$Hj.dispose(),this.$Hj=null),this.$Hj=n,this.$7("RequestCloseCommand")),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$2Z.call(this);$0.$0(this.$Hj)&&this.set_RequestCloseCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("RequestClose")))},$Oh:function(){this.set_RequestCloseCommand(null);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$e=function(){};Microsoft.Crm.Client.Core.ViewModels.$e.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$e.$Q0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.$e.$yz=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object))};Microsoft.Crm.Client.Core.ViewModels.$e.$21h=function(n){var i=n.LogicalName,r=Microsoft.Crm.Client.Core.ViewModels.$e.$1e9(n),t="";if(r)t="subject";else if(Microsoft.Crm.Client.Core.ViewModels.$e.$246(n))t="new_name";else switch(i){case"incident":t="title";break;case"account":t="name";break;case"contact":t="fullname";break;case"socialprofile":t="profilename";break;case"knowledgearticle":t="title";break;case"knowledgearticleincident":t="name";break;case"knowledgearticleviews":t="name";break;case"languagelocale":t="name"}return t};Microsoft.Crm.Client.Core.ViewModels.$e.$2f1=function(n){var r=n.LogicalName,u=Microsoft.Crm.Client.Core.ViewModels.$e.$1e9(n),t="",i="";if(u)t="activityid",i="subject";else if(Microsoft.Crm.Client.Core.ViewModels.$e.$246(n))t=n.LogicalName+"id",i="new_name";else switch(r){case"incident":t="incidentid";i="title";break;case"account":t="accountid";i="name";break;case"contact":t="contactid";i="fullname";break;case"socialprofile":t="socialprofileid";i="profilename";break;case"knowledgearticle":t="knowledgearticleid";i="title";break;case"languagelocale":t="languagelocaleid";i="name"}return[t,i]};Microsoft.Crm.Client.Core.ViewModels.$e.$246=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.LogicalName);return t.$CW};Microsoft.Crm.Client.Core.ViewModels.$e.$1e9=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.LogicalName);return t.get_$7g()};Microsoft.Crm.Client.Core.ViewModels.$e.$1YC=function(n){var t=n.$I.$a,i,u,e,o,s,h;t.LogicalName==="queueitem"&&!$0.$0(n.$I.fields.objectid)&&Xrm.Objects.EntityReference.isInstanceOfType(n.$I.fields.objectid)?(t=n.$I.fields.objectid,i=t.Name):(u=Microsoft.Crm.Client.Core.ViewModels.$e.$21h(t),i=n.$I.$Qx()[u]);var c=t.Id.toString(),r=t.LogicalName,f=t.TypeCode.toString();return $0.$0(i)?null:(e="false",o="false",r==="activitypointer"&&(r=n.$I.$Qx().activitytypecode,s=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r),f=s.$9p.toString()),h=c+";"+i+";"+r+";"+e+";"+f+";"+o+";",h+(Microsoft.Crm.Client.Core.ViewModels.$e.$1e9(t)?"true;\n":"false;\n"))};Microsoft.Crm.Client.Core.ViewModels.$e.$342=function(n){var t=n.$K.$M.EntityReference,i,s;if(t.LogicalName!=="annotation"){var h=Microsoft.Crm.Client.Core.ViewModels.$e.$2f1(t),f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(t.LogicalName),e=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"MRUEntityFilterExpression");e.$Bl(f.$4Y,"eq",t.get_$4m().toString());i=null;for(var o=h,c=o.length,r=0;r<c;++r)s=o[r],i+="<attribute name='"+s+"'/>";var l="<fetch mapping='logical' version='1.0'>\r\n\t\t\t\t\t\t\t\t\t<entity name='"+t.LogicalName+"'>"+i+e.$9V()+"<\/entity>\r\n\t\t\t\t\t\t\t\t<\/fetch>",a=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(l),u=Microsoft.Crm.Client.Core.ViewModels.$e.$1De(a,f);Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(u,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1()),Microsoft.Crm.Client.Core.Framework.$q.$4t("","RecentlyViewedItems")).then(function(n){if(n.get_count()>0){var t=Microsoft.Crm.Client.Core.Models.$c.$2TO(n.get_$R(0)),i=Microsoft.Crm.Client.Core.ViewModels.$e.$1YC(t);$0.$0(i)||Microsoft.Crm.Client.Core.ViewModels.$e.$w8(i);u=null;t.$5E()}},function(n){u=null;Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Multiple Failed for "+t.LogicalName+" in RecentlyViewedItems with error : {0}",n.$F)})},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$QP,"RecentlyViewedItems")}};Microsoft.Crm.Client.Core.ViewModels.$e.$1De=function(n,t){var i=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(n,"InteractionCentricMRU");return i.$4b=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([t.$4Y]),i.$KX=!0,i.set_$Ra(1),i.$4W=20,i};Microsoft.Crm.Client.Core.ViewModels.$e.$343=function(n){var i=n.get_ModelContext(),t;i.$I.$a.LogicalName!=="annotation"&&(t=Microsoft.Crm.Client.Core.ViewModels.$e.$1YC(i),$0.$0(t)||Microsoft.Crm.Client.Core.ViewModels.$e.$w8(t))};Microsoft.Crm.Client.Core.ViewModels.$e.$17L=function(n,t){var i,u,e;if(!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"EntityReference"in n.$K.$M)Microsoft.Crm.Client.Core.ViewModels.$e.$342(n);else if(!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"ListDefinitionId"in n.$K.$M){if(i=n.$K.$M.ListDefinitionId,n.$1W.toUpperCase()==="InteractionCentricWorkspace".toUpperCase())Microsoft.Crm.Client.Core.ViewModels.$e.$1ka(i);else if(t)for(var f=Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.get_Items(),o=f.length,r=0;r<o;++r)if(u=f[r],e=u.split(";")[0],i===e){Microsoft.Crm.Client.Core.ViewModels.$e.$w8(u);break}}else $0.$0(n.get_ModelContext())?$0.$0(n.$1W)||n.$1W.toUpperCase()!=="InteractionCentricWorkspace".toUpperCase()||Microsoft.Crm.Client.Core.ViewModels.$e.$1ka(n.$q):Microsoft.Crm.Client.Core.ViewModels.$e.$343(n)};Microsoft.Crm.Client.Core.ViewModels.$e.$1V9=function(n){if(n.$I.$a.LogicalName!=="annotation"){var t=Microsoft.Crm.Client.Core.ViewModels.$e.$1YC(n);$0.$0(t)||Microsoft.Crm.Client.Core.ViewModels.$e.$w8(t)}};Microsoft.Crm.Client.Core.ViewModels.$e.$2BG=function(n){for(var r,f,t,e=n.Id.toString(),u=Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.get_Items(),o=u.length,i=0;i<o;++i)if(r=u[i],f=r.split(";")[0],f===e){Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.remove(r);t={};t[Microsoft.Crm.Client.Core.ViewModels.$e.$I5]=JSON.stringify(Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.get_Items());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1E6(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A(Microsoft.Crm.Client.Core.ViewModels.$e.$I5,t)).then(function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RemoveDeletedRecord.CreateUserPersonalization",2007,{Key:Microsoft.Crm.Client.Core.ViewModels.$e.$I5,MruData:t},"UpdateMruDataAfterRecordDeletion")},function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("RemoveDeletedRecord.CreateUserPersonalization",2007,{Key:Microsoft.Crm.Client.Core.ViewModels.$e.$I5,Error:n.$20()},"UpdateMruDataAfterRecordDeletion")});return}};Microsoft.Crm.Client.Core.ViewModels.$e.$1ka=function(n){var t=new Xrm.Objects.EntityReference("systemform",new Microsoft.Crm.Client.Core.Framework.Guid(n)),i=Microsoft.Crm.Client.Core.Framework.$q.$4t("ICRV","ICRV");Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(t,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["name"]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$1gD(),i).then(function(n){var t=Microsoft.Crm.Client.Core.Models.$c.$X(n),i=t.$I.$a.Id.toString(),r=t.$I.$Qx().name,u=i+";"+r+";;false;;true;false;\n";Microsoft.Crm.Client.Core.ViewModels.$e.$w8(u);t.$5E()},function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("SaveDashboardData.Retrieve",2007,{Key:Microsoft.Crm.Client.Core.ViewModels.$e.$I5,Error:n.$20()},"RetrieveWhileSavingDashbaordData")})};Microsoft.Crm.Client.Core.ViewModels.$e.$1kb=function(n,t,i){var r=n,u=t,f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(i),e=f.$9p.toString(),o=r+";"+u+";"+i+";true;"+e+";false;false;\n";Microsoft.Crm.Client.Core.ViewModels.$e.$w8(o)};Microsoft.Crm.Client.Core.ViewModels.$e.$1YB=function(n){var i=n.split(";"),t={},r;return t.id=i[0],r=i[1],t.title=r,t.entityName=i[2],t.isGrid=i[3],t.entityTypeCode=i[4],t.isDashboard=i[5],t.isActivity=i[6],t};Microsoft.Crm.Client.Core.ViewModels.$e.$w8=function(n){var t,i;Microsoft.Crm.Client.Core.ViewModels.$e.$I5="ICRV"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString();Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.contains(n)?(Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.remove(n),Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.insert(0,n)):Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.insert(0,n);t={};t[Microsoft.Crm.Client.Core.ViewModels.$e.$I5]=JSON.stringify(Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.get_Items());i=Microsoft.Crm.Client.Core.ViewModels.$e.$1YB(n);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1E6(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A(Microsoft.Crm.Client.Core.ViewModels.$e.$I5,t)).then(function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SaveData",2007,{Key:Microsoft.Crm.Client.Core.ViewModels.$e.$I5,MruData:i},"SaveMruDataSuccess")},function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("SaveData",2007,{Key:Microsoft.Crm.Client.Core.ViewModels.$e.$I5,MruData:i,Error:n.$20()},"SaveMruDataFailed")})};Microsoft.Crm.Client.Core.ViewModels.$e.$1HN=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?null:t.$kL};Microsoft.Crm.Client.Core.ViewModels.$k=function(){};Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz=function(){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1())};Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq=function(){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,2,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1())};Microsoft.Crm.Client.Core.ViewModels.$k.get_$1gD=function(){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,0,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1())};Microsoft.Crm.Client.Core.ViewModels.$k.get_$aC=function(){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(2,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1())};Microsoft.Crm.Client.Core.ViewModels.RootViewModel=function(n,t){this.$$d_$1gR=Function.createDelegate(this,this.$1gR);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$Rr=Function.createDelegate(this,this.$Rr);this.$$d_$15c=Function.createDelegate(this,this.$15c);this.$$d_$gl=Function.createDelegate(this,this.$gl);this.$Jn=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(String));this.$qS={};this.get_componentType=this.get_ComponentType;this.get_definitionId=this.get_DefinitionId;this.set_definitionId=this.set_DefinitionId;this.get_sourceId=this.get_$38o;this.set_sourceId=this.set_$38o;this.get_applicationMetadataType=this.get_$1C9;this.set_applicationMetadataType=this.set_$1C9;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.initializeBase(this);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeInitializeStart",1,this.get_ViewModelId());this.$14G=!0;this.$2i=this;this.set_$GO(this);this.$9R=!1;this.$17z=!1;this.$181="";this.$IZ=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.ViewModels.$8J.getName());this.$IZ.$2Z();this.$xF=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$Ec));this.$g=n;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$2FH(n)&&!t&&(this.$1Me=new Microsoft.Crm.Client.Core.Framework.$6I(this),Microsoft.Crm.Client.Core.Framework.Scheduler.set_$1pR(!1));this.$Ee={}};Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1Hp=function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?"InteractionCentricWorkspace".toUpperCase():"Workspace".toUpperCase()};Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1KP=function(n){return n===1||n===37};Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$2FH=function(n){switch(n){case 10:case 14:case 38:return!1;default:return!0}};Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype={$g:0,$6i:0,refreshCommand:null,$5o:null,$Ig:null,$t:0,$1W:null,$15C:null,$RB:null,$K:null,$5k:null,$8e:null,$14D:!1,$9a:1,$tv:null,$xF:null,$1Jq:!1,$q:null,$1fK:null,$14L:!1,$IZ:null,$sh:null,$9R:!1,$14X:!1,$14O:!1,$1EI:null,$lM:!1,$1e7:!1,$1Me:null,$Ee:null,$17z:!1,$181:null,$YN:null,$mb:0,$1K4:!1,$Cb:null,$6b:null,$lL:!1,$1fQ:0,$1dg:null,$cy:null,get_DefaultFormTabViaURL:function(){return this.$cy},set_DefaultFormTabViaURL:function(n){return this.$cy=n,n},get_EventHandler:function(){return this.$YN||(this.$YN=new Microsoft.Crm.Client.Core.Framework.$CO),this.$YN},add_$6F:function(n){this.$1p("OnDefinitionRetrieveCompleted",n)},remove_$6F:function(n){this.$32("OnDefinitionRetrieveCompleted",n)},add_$FD:function(n){this.$1p("OnLoadModelCompleted",n)},remove_$FD:function(n){this.$32("OnLoadModelCompleted",n)},add_$P1:function(n){this.$1p("OnRootViewActivated",n)},remove_$P1:function(n){this.$32("OnRootViewActivated",n)},add_$gn:function(n){this.$1p("OnRootViewDeactivated",n)},remove_$gn:function(n){this.$32("OnRootViewDeactivated",n)},add_PreNavigation:function(n){this.$1p("RootPreNavigation",n)},remove_PreNavigation:function(n){this.$32("RootPreNavigation",n)},add_$1j7:function(n){this.$1p("RecordSaved",n)},$Sg:!1,get_RootViewActivated:function(){return this.$Sg},set_RootViewActivated:function(n){return this.$Sg=n,n},get_GetDefinitionProvider:function(){return this.$5o},set_GetDefinitionProvider:function(n){return this.$5o=n,n},get_GetModelActionProvider:function(){return this.$Ig},set_GetModelActionProvider:function(n){return this.$g===40&&this.$6i===1?this.$Ig=null:this.$2EP(n),n},get_ComponentType:function(){return this.$g},get_FormMode:function(){return this.$6i},set_FormMode:function(n){return this.$6i=n,n},get_ComponentTypeName:function(){return Microsoft.Crm.Client.Core.Framework.$1.toString(this.$g)},get_DefinitionId:function(){return this.$1W},set_DefinitionId:function(n){if(this.$1a)throw Error.invalidOperation("The DefinitionId property can only be set before initialize.");return this.$1W=n,n},get_$38o:function(){return this.$q},set_$38o:function(n){return this.$q=n,n},get_IsHomepage:function(){return this.$9R},set_IsHomepage:function(n){return this.$9R=n,n},get_IsSystemDashboard:function(){return this.$14X},set_IsSystemDashboard:function(n){return this.$14X=n,n},get_IsPowerBIDashboard:function(){return this.$14O},set_IsPowerBIDashboard:function(n){return this.$14O=n,n},get_DashboardName:function(){return this.$1EI},set_DashboardName:function(n){return this.$1EI=n,n},get_$1C9:function(){return this.$9a},set_$1C9:function(n){return this.$9a=n,n},get_ExternalContext:function(){return this.$K},set_ExternalContext:function(n){return this.$K!==n&&(this.$K=n,this.$7("ExternalContext")),n},get_FormNotifications:function(){return this.$IZ},get_SiteMapButtonTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?10:-3e4},get_ModelContext:function(){return Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.get_ModelContext.call(this)},set_ModelContext:function(n){var t,i;return Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.get_ModelContext.call(this)!==n&&(Sys.IDisposable.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.get_ModelContext.call(this))&&Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.get_ModelContext.call(this).dispose(),Microsoft.Crm.Client.Core.Models.ICloneableModel.isInstanceOfType(n)?(t=n,t.get_$13Q()?(i=t.$87(),i.set_$13Q(!0),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.set_ModelContext.call(this,i)):(t.set_$13Q(!0),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.set_ModelContext.call(this,t)),this.$7("ModelContext")):Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.set_ModelContext.call(this,n)),n},get_HiddenDataFieldNames:function(){return this.$sh},set_HiddenDataFieldNames:function(n){return this.$sh=n,n},set_$2o7:function(n){return this.$lM!==n&&(this.$lM=n,Microsoft.Crm.Client.Core.Framework.Scheduler.set_$1pR(n),this.$7("IsFullyLoaded"),this.$rl(),this.$23U(),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Z5&&this.$lM&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$1a7(this)),n},get_ShowProgress:function(){return this.$17z},set_ShowProgress:function(n){return this.$17z!==n&&(this.$17z=n,this.$7("ShowProgress")),n},get_ShowProgressMessage:function(){return this.$181},set_ShowProgressMessage:function(n){return this.$181!==n&&(this.$181=n,this.$7("ShowProgressMessage")),n},get_TestabilityAttributes:function(){return this.$Ee},set_TestabilityAttributes:function(n){return this.$Ee!==n&&(this.$Ee=n,this.$7("TestabilityAttributes")),n},get_CssClassNames:function(){return this.$Jn},$4H:null,get_$2nt:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$24C()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$24D()},set_$1iF:function(n){if(n=n<0?0:n,this.$mb!==n){var t=this.$mb,i=n;!t&&i>0?$(window).triggerHandler("CustomControlsPending"):t>0&&!i&&$(window).triggerHandler("CustomControlsComplete")}return this.$mb=n,n},set_$24c:function(n){return this.$1K4=n,this.$7("IsPersonalizationRetrieved"),n},get_$Uh:function(){return $0.$0(this.$Cb)&&(this.$g===13?this.$Cb="cc_grid_"+this.$D:this.$g===1?this.$Cb="cc_ws_"+this.$q:(this.$g===2||this.$g===40)&&(this.$Cb="cc_form_"+this.get_ModelContext().$I.$a.get_identifier())),this.$Cb},get_$vH:function(){return this.$6b},get_IsCustomControlExists:function(){return this.$lL},set_IsCustomControlExists:function(n){return this.$lL||(this.$lL=n,this.$7("IsCustomControlExists")),n},$1UQ:!1,$1QO:function(n,t){this.set_ShowProgressMessage(t);this.set_ShowProgress(n)},$Z3:function(){this.set_ShowProgress(!1);this.set_ShowProgressMessage("")},$28B:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),n;return t.resolve(!0),n=this.$4d("RootPreNavigation"),n&&n(this,null),t},$27Y:function(){},$2Z:function(){var n,t;this.$1a||(this.$393(),$0.$0(this.refreshCommand)&&(this.refreshCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$Rr,1004)),this.refreshWithoutScriptReload(),$0.$0(this.$5o)||$0.$0(this.$1W)?this.$gl(null):this.$t||(this.$t=2,n=this.$5o.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)),this.$g===13||this.$g===1||this.$g===2&&this.get_ModelContext()||this.$g===39?this.$25k():(t=this,this.AddPropertyChangedListener("ModelContext",function(){t.$25k()})),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He),Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this))},get_$31Y:function(){return!1},$He:function(){this.set_IsLocked(this.$1WU());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33()===this&&this.$1co()},$1WU:function(){return $0.$0(this.$1W)?!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Microsoft.Crm.Client.Core.Framework.$6.$4N:!Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$1W)},$1co:function(){this.$Rr()},$Oh:function(){var n,t,i;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);$0.$0(this.refreshCommand)||(this.refreshCommand.dispose(),this.refreshCommand=null);Sys.IDisposable.isInstanceOfType(this.get_ModelContext())&&this.get_ModelContext().dispose();Sys.IDisposable.isInstanceOfType(this.$5k)&&this.$5k.dispose();this.$RB=null;this.$IZ.dispose();$0.$0(this.$1Me)||this.$1Me.$5E();n=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43);n.removeDescriptor(this.get_ViewModelId());this.$1wG();this.$YN=null;t=this;this.RemovePropertyChangedListener("ModelContext",function(){t.$1Or()});i=this;this.RemovePropertyChangedListener("IsCustomControlExists",function(){i.$1Or()});Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},refreshWithoutScriptReload:function(){this.$vh(!1)},$Rr:function(){this.$vh(!1)},$vh:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),i,t;return this.$IZ.$DD.$86(),this.$xF.$86(),this.$tv=null,this.$15C=this.$$d_$1gR,$0.$0(this.$Ig)?(Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Rr.call(this),n.resolve(null)):(i=this,t=this,this.$1Kw(function(){n.resolve(null)},function(){n.reject(t.$1fK)},null)),n.promise()},activate:function(){this.$Sg=!0;this.$9j("OnRootViewActivated")},deactivate:function(){this.$9j("OnRootViewDeactivated")},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)},$gl:function(){this.$t=1;this.$9j("OnDefinitionRetrieveCompleted");this.$1e7=!0;this.$rl()},$15c:function(){},$393:function(){if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$2FH(this.$g)){var n={PageType:Microsoft.Crm.Client.Core.Framework.$1.toString(this.$g)};Microsoft.Crm.Client.Core.Framework.$3.$9(this.$D)||(n.EntityType=this.$D);this.$4H=new Microsoft.Crm.Client.Core.Framework.$M8("ClientPageLoad",n);Microsoft.Crm.Client.Core.Framework.$t.get_$6().$br(this.$4H)}},$1wG:function(){$0.$0(this.$4H)||(Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(this.$4H.rid),this.$4H=null)},$12t:function(){var n=null,t="",i,r;return $0.$0(this.$K)||$0.$0(this.$K.$M)||(i=this.$K.$M.EntityReference,$0.$0(i)||(n=i.get_$4m(),t=i.get_$BZ())),r=this.get_ModelContext(),$0.$0(n)&&t===""&&!$0.$0(r)&&(n=r.get_Id(),t=r.get_ModelName()),new Xrm.Objects.EntityReference(t,Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n))},$rl:function(){var n={},t="UnusedYet",i,r;switch(this.$g){case 1:case 37:t="Workspace";n["data-dashboardid"]=this.$q;break;case 2:case 34:case 40:t=this.$g===40?"InteractionCentricForm":this.$g===2?"Form":"SenderForm";i=this.$12t().get_$4m();Microsoft.Crm.Client.Core.Framework.$3.$9(i)||(n["data-entityid"]=i);Microsoft.Crm.Client.Core.Framework.$3.$9(this.$q)||(n["data-crmformid"]=this.$q);break;case 13:t=!$0.$0(this.$K)&&"RelationshipType"in this.$K.$M&&this.$K.$M.RelationshipType!==-1?"SubGrid":"Grid";break;case 5:t="QuickCreateForm";Microsoft.Crm.Client.Core.Framework.$3.$9(this.$q)||(n["data-crmformid"]=this.$q);break;case 17:t="DrillDownPage";break;case 26:t="Search";break;case 35:t="SetRegarding";break;case 31:t="Drafts";break;case 32:t="DuplicateRecords";break;case 39:t="TaskBasedFlowForm";Microsoft.Crm.Client.Core.Framework.$3.$9(this.$q)||(n["data-crmformid"]=this.$q);r=this.$12t().LogicalName;Microsoft.Crm.Client.Core.Framework.$3.$9(r)||(n["data-entityname"]=r)}n["data-id"]="PageHeader";n["data-vmid"]=this.get_ViewModelId();n["data-pagetype"]=t;n["data-loaded"]=this.$lM?"1":null;$0.$0(this.$D)||(n["data-entityname"]=this.$D);this.set_TestabilityAttributes(n)},$1gR:function(n){if(!this.$2h){if(n.remove_$AT(this.$15C),this.$t=1,this.$14L=!1,!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&Xrm.Utility.isEntityOfflineSyncEnabled(this.$D)&&this.$g===2){var t=this,i=this;Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance().$2oL(this.$D,new Microsoft.Crm.Client.Core.Framework.Guid(this.$12t().get_$4m())).then(function(n){t.$14D=n;t.$14D&&Microsoft.Crm.Client.Core.ViewModels.$10.$wc(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Local_Save_Record_Notification_Status_Message"),4,"Local_Save_Record_Notification_Status_Message_FormNotificationId")},function(){})}Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Rr.call(this);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedModel",1,this.get_ViewModelId());this.$9j("OnLoadModelCompleted")}},$23U:function(){var t={},n;switch(this.$g){case 1:n="Workspace";XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,t);break;case 37:n="InteractionCentricWorkspace";XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,t);break;case 2:case 40:case 5:n="Form";t.entityname=this.$Ee["data-entityname"];t.formType="data-entityid"in this.$Ee?"Edit":"Create";XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,t);break;case 13:n=this.$Ee["data-pagetype"].toString();t.entityname=this.$D;n==="SubGrid"&&(t.parententity=this.$K.$M.ParentEntityViewModel.$D);XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,t);break;case 17:n="ChartDrilldown";XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,null);break;case 26:n="Search";XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,null);break;default:XrmUI.Manager.XrmUIPage=null}},$2Ak:function(){this.$t&&this.$1Kw()},$MZ:function(n){var t,i,r,u,f,o,e;if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33()===this){t=!1;switch(n.$m){case-2147220969:case-2147220960:case-2147094003:case-2147094011:t=!0}i="Error_Title_Generic";r="";t||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$D,1)?(t=t&&!(this.$14L&&n.$m===-2147094003),u=this.$2gB(this.$14L,n.$m),i=u.$Vq,r=u.$Pl,f=this,o=this,Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(Microsoft.Crm.Client.Core.Framework.Common.$2.$4(i),Microsoft.Crm.Client.Core.Framework.Common.$2.$4(r),function(){t?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1gV(!0):($0.$0(f)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$vo(f),Microsoft.Crm.Client.Core.Framework.$6.get_$f()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HK().$m8.execute():Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$u1().$fk.execute())},null,null,null,Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Oa(n.$JL),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Os(n.$JL)),this.dispose()):Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$MZ.call(this,n)}else if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top()!==this){switch(n.$m){case-2147220969:case-2147220960:case-2147094003:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$vo(this)}e=$0.$0(n.$m)?0:n.$m;Microsoft.Crm.Client.Core.Framework.Trace.logError(161,"OnActionFailed: {0}: {1}",Microsoft.Crm.Client.Core.Framework.Common.$2.$kz(e),n.$F)}else Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$MZ.call(this,n);this.$1fK=n},$1Kw:function(n,t,i){this.$Ig&&(this.$RB=this.$12y(),$0.$0(this.$RB)||(this.$RB.add_$AT(this.$15C),$0.$0(i)||this.$RB.add_$AT(i),$0.$0(n)||this.$RB.add_$by(n),$0.$0(t)||this.$RB.add_$Qe(t),this.$t=2,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(this.$RB)))},$12y:function(){return this.$Ig.$56()},$2EP:function(n){if(!n)if(this.$g===40&&this.$6i===1)this.$23b(null);else throw Error.argumentNull("provider");n===this.$Ig?this.$2Ak():(this.$23b(n),this.$t!==2||$0.$0(this.$RB)||this.$RB.remove_$AT(this.$15C),this.$2Ak())},$23b:function(n){this.$Ig=n},$2L8:function(n){this.$xF.set_$R(n.get_$8a(),n)},$2BO:function(n){this.$xF.$Ai(n.get_$8a());!$0.$0(n.get_$1uC())&&($0.$0(this.$tv)||n.get_$1uC()<new Date(this.$tv))&&(this.$tv=n.get_$2YD());this.$xF.$s()||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$3CN(this)},$31n:function(){Microsoft.Crm.Client.Core.Models.IFormModel.isInstanceOfType(this.get_ModelContext())&&this.get_ModelContext().$2Ou()},get_IsLocked:function(){return this.$1Jq},set_IsLocked:function(n){return this.$1Jq!==n&&(this.$1Jq=n,this.$7("IsLocked")),n},$2Be:function(){var t=new Microsoft.Crm.Client.Core.Framework.$Da,n,i;return t.$15K=this.$g,t.$15J=this.$D,$0.$0(this.get_ModelContext())||this.$g===13||this.$g===17?!$0.$0(this.$q)&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1KP(this.$g)?(t.$UH=this.$q,t.$15J=Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1Hp(),t.$9R=this.$9R):$0.$0(this.$K)||$0.$0(this.$K.$M)||($0.$0(this.$K.$M.ListDefinitionId)?$0.$0(this.$K.$M.EntityReference)?$0.$0(this.$K.$M.externalContextPowerBIUrl)||(i={},i.externalContextPowerBIUrl=this.$2.$K.$M.externalContextPowerBIUrl,i.dashboardId=this.$2.$K.$M.dashboardId,i.tileId=this.$2.$K.$M.tileId,i.reportId=this.$2.$K.$M.reportId,i.reportEmbedUrl=this.$2.$K.$M.reportEmbedUrl,i.powerBIComponentType=this.$2.$K.$M.powerBIComponentType,"groupId"in this.$2.$K.$M&&(i.groupId=this.$2.$K.$M.groupId),t.$x=i):t.$UH=this.$K.$M.EntityReference.get_$4m():(t.$UH=this.$K.$M.ListDefinitionId,n={},n.ContextFilter=this.$2.$K.$M.ContextFilter,n.ListDefinitionId=this.$2.$K.$M.ListDefinitionId,n.RelationshipExtraCondition=this.$2.$K.$M.RelationshipExtraCondition,n.RelationshipName=this.$2.$K.$M.RelationshipName,"RelationshipType"in this.$2.$K.$M&&(n.RelationshipType=this.$2.$K.$M.RelationshipType),n.ReferencingName=this.$2.$K.$M.ReferencingName,n.RelationshipRoleOrdinal=this.$2.$K.$M.RelationshipRoleOrdinal,n.ChartViewId=this.$2.$K.$M.ChartViewId,n.ChartVisualizationId=this.$2.$K.$M.ChartVisualizationId,n.ChartViewEntityLogicalName=this.$2.$K.$M.ChartViewEntityLogicalName,n.ChartVisualizationEntityLogicalName=this.$2.$K.$M.ChartVisualizationEntityLogicalName,Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(n.Activities=this.$2.$K.$M.Activities),t.$x=n)):t.$UH=this.get_ModelContext().get_Id(),t},$2At:function(){var f=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),e,t,i,r,u,o;return this.$g===13||this.$g===26||this.$g===47||this.$g===17?f.resolve(!0).promise():(e=$16.$cH(Microsoft.Crm.Client.Core.Framework.$1,this.$g).toLowerCase(),(this.$g===2||this.$g===40)&&(e="Form:"+this.$1W),n.$5y.$15u=$0.$0(this.$1G)?this.$1W:this.$1G,t=[],i=n.get_PrimaryConductor().get_$33(),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1KP(this.$g)&&!$0.$0(i)&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1KP(i.$g)&&this.$9R&&Array.add(t,n.$5y.$hK("global",this)),r=n.$220(),u=this.$2,($0.$0(i)||i!==u||!$0.$0(r))&&($0.$0(r)||r!==u)||(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1KP(u.$g)&&!this.$9R?Array.add(t,n.$5y.$hK("dashboard",this)):Array.add(t,n.$5y.$hK(e,this))),o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t).always(function(){f.resolve(!0)}),f.promise())},$1Or:function(){if(this.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalization",null)),$0.$0(this.$5o))this.$25j(null);else{var n=this.$5o.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$nT:function(){this.$6b=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV(this.$qS);var n=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("SavePersonalization"));return n.execute(),n.dispose(),!0},$2qZ:function(n){this.$qS=n.$6b;this.set_$24c(!0)},$25j:function(){this.set_$24c(!0)},$2gB:function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.$LC,r;switch(t){case-2147094003:return i.$Vq="Error_Title_Generic",i.$Pl=n?"L_PinnedRecordNotFoundTextForStartScreenWithList":"L_PinnedRecordNotFoundTextForDashboardWithList",i;case-2147220969:case-2147220960:if(Microsoft.Crm.Client.Core.Framework.$6.get_$f())return r=Microsoft.Crm.Client.Core.Framework.Common.$2.$kz(t),i.$Vq="Error_Title_0x"+r,i.$Pl="Error_Message_0x"+r,i}return i.$Vq="Error_Title_Generic",i.$Pl=n?"L_PinnedRecordNotFoundTextForStartScreen":"L_PinnedRecordNotFoundTextFromDashboard",i},$25k:function(){if(this.$lL)this.$1Or();else{var n=this;this.AddPropertyChangedListener("IsCustomControlExists",function(){n.$lL&&n.$1Or()})}}};Microsoft.Crm.Client.Core.ViewModels.$4M=function(){this.$$d_$3CM=Function.createDelegate(this,this.$3CM);this.$$d_$2Nb=Function.createDelegate(this,this.$2Nb);this.$$d_$2sY=Function.createDelegate(this,this.$2sY);this.$$d_$2yR=Function.createDelegate(this,this.$2yR);this.$$d_$2yu=Function.createDelegate(this,this.$2yu);this.$1W3=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_error_scriptError_aspx_BtnBack").replace(new RegExp("&","g"),"");Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().add_$1qG(this.$$d_$2yu);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().add_$1qG(this.$$d_$2yu);Microsoft.Crm.Client.Core.Framework.$2a.get_$6().add_$28W(this.$$d_$2yR)};Microsoft.Crm.Client.Core.ViewModels.$4M.get_SoapServiceProxyActionProvider=function(){return Microsoft.Crm.Client.Core.ViewModels.$4M.$wg};Microsoft.Crm.Client.Core.ViewModels.$4M.set_SoapServiceProxyActionProvider=function(n){return Microsoft.Crm.Client.Core.ViewModels.$4M.$wg=n,n};Microsoft.Crm.Client.Core.ViewModels.$4M.prototype={$Kt:null,$1W3:null,$2yR:function(n){var u="unknown",i,r,f,t,e;try{i=this.$21j();(i===1||i===2)&&(r=this.$1qU(n(),i),u=r.$A5,f=$18.$Lp(r.$hO).replace(new RegExp("\\n","g"),"<br>"),Microsoft.Crm.Client.Core.Framework.Trace.logError(133,f),i===1?(this.$Kt||(this.$Kt=new Array(0)),this.$Kt.length<7&&(this.$Kt[this.$Kt.length]=r)):this.$2DL(r,!0))}catch(o){Microsoft.Crm.Client.Core.Framework.Trace.logError(133,"WatsonErrorHandler.ProcessCrashData caught an exception while processing {0}. {1}",u,o.toString());t=n();e="Original error:\n\t Error message: {0}\n\t File name: {1}\n\t Line number: {2}\n\t Stack trace: {3}\n\t{4}";Microsoft.Crm.Client.Core.Framework.Trace.logError(133,e,t.$A5,t.$Lz,t.$MJ,t.$M0,t.$nY)}},$1qU:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.$KL,r,u;return i.$MJ=n.$MJ,i.$M0=n.$M0,i.$Lz=n.$Lz,i.$jS=n.$jS,i.$nY=n.$nY,i.$A5=n.$A5,i.$vp=!0,i.$rR=t,r=t===2?!1:!0,u="Mobile Tablet",i.$hO="<CrmScriptErrorReport>\r\n  <ReportVersion>1.0<\/ReportVersion>\r\n  <ScriptErrorDetails>\r\n   <Message>"+$18.$Lp(i.$A5)+"<\/Message>\r\n   <Line>"+i.$MJ+"<\/Line>\r\n   <URL>"+$18.$Lp(i.$Lz)+"<\/URL>\r\n   <CallStack>\r\n    <Function>"+CrmEncodeDecode.CrmXmlEncode(i.$M0)+"<\/Function>\r\n   <\/CallStack>\r\n  <\/ScriptErrorDetails>\r\n  <ClientInformation>\r\n   <BrowserUserAgent>"+CrmEncodeDecode.CrmXmlEncode(window.navigator.userAgent)+"<\/BrowserUserAgent>\r\n   <BrowserLanguage>"+CrmEncodeDecode.CrmXmlEncode(i.$jS)+"<\/BrowserLanguage>\r\n   <SystemLanguage>"+CrmEncodeDecode.CrmXmlEncode(window.navigator.systemLanguage)+"<\/SystemLanguage>\r\n   <UserLanguage>"+CrmEncodeDecode.CrmXmlEncode(window.navigator.userLanguage)+"<\/UserLanguage>\r\n   <ScreenResolution>"+window.screen.width+"x"+window.screen.height+"<\/ScreenResolution>\r\n   <ClientName>"+u+"<\/ClientName>\r\n   <ClientTime>"+$18.$Lp((new Date).localeFormat("s"))+"<\/ClientTime>\r\n  <\/ClientInformation>\r\n"+(r?this.$34e():"")+"<\/CrmScriptErrorReport>\r\n",i},$13J:function(n,t,i){Microsoft.Crm.Client.Core.Framework.$2a.get_$6().$3F1(n,t,i)},$3CM:function(){var n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptErrorDetails_aspx_Title"),t="<br>"+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptErrorDetails_aspx_FirstLineOfReport")+"<br>"+this.$2V8();Microsoft.Crm.Client.Core.ViewModels.$Q.$38P(n,t,0,null,this.$1W3,!1)},$2sY:function(){for(var n=0;n<this.$Kt.length;n++)this.$2DL(this.$Kt[n],!0);this.$Kt=null},$2DL:function(n,t){var i,r;n.$jF=t;$0.$0(Microsoft.Crm.Client.Core.ViewModels.$4M.$wg)||(i={},i.lineNumber=n.$MJ,i.func=n.$M0,i.fileName=n.$Lz,i.report=n.$hO,i.reportToWatson=n.$vp,i.errorReportingPreference=n.$rR,i.addServerInformation=n.$jF,r=Microsoft.Crm.Client.Core.ViewModels.$4M.$wg.$B1(i),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(r))},$2Nb:function(){this.$Kt=null},$2V8:function(){var t="",n;if(!$0.$0(this.$Kt))for(n=0;n<this.$Kt.length;n++)t+=$18.$Lp(this.$Kt[n].$hO),t+="<br>";return t},$2yu:function(n){if(!$0.$0(n)&&!Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel.isInstanceOfType(n)){var t=this.$21j();if(t===1)try{this.$Kt&&this.$2FO()}catch(i){Microsoft.Crm.Client.Core.Framework.Trace.logError(133,"ScriptErrorHandlerViewModel.PromptAndReport caught an exception: {1}",i.toString())}}},$2FO:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel;n.$C2=this.$$d_$2sY;n.$Gm=this.$$d_$2Nb;n.$o0=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$3CM,160);n.Show()},$21j:function(){var n=null,t;try{n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E()}catch(i){Microsoft.Crm.Client.Core.Framework.Trace.logError(133,"WatsonErrorHandler.GetReportingPreference - Container not ready.\n {0}",i.toString())}return t=0,$0.$0(n)||(t=0===n.get_$291()?n.get_$3Bz():n.get_$291()),t},$34e:function(){var t="",n=null;try{n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E()}catch(i){Microsoft.Crm.Client.Core.Framework.Trace.logError(133,"WatsonErrorHandler.ServerInformation - Container not ready.\n {0}",i.toString())}return $0.$0(n)||(t="  <ServerInformation>\r\n    <OrgLanguage>"+n.get_$1fJ()+"<\/OrgLanguage>\r\n    <OrgCulture>"+n.get_$1hz()+"<\/OrgCulture>\r\n    <UserLanguage>"+n.get_LanguageId()+"<\/UserLanguage>\r\n    <UserCulture>"+n.get_$1nS()+"<\/UserCulture>\r\n    <OrgID>"+n.get_$UZ()+"<\/OrgID>\r\n    <UserID>"+n.get_$i6().toString()+"<\/UserID>\r\n    <CRMVersion>"+CrmEncodeDecode.CrmXmlEncode(n.get_$1kw())+"<\/CRMVersion>\r\n  <\/ServerInformation>\r\n"),t}};Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel.initializeBase(this);this.$DZ=1;this.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_BtnSendReport").replace(new RegExp("&","g"),"");this.$LY=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_BtnDoNotSendReport").replace(new RegExp("&","g"),"");this.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_Text0");this.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_Message"));this.$gR=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_Text1");this.$1SE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web_Tools_personalsettings_dialogs_personalsettings_PrivacyTab_ViewPrivacy");this.$1S9=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile__common_error_scriptError_aspx_ViewHowToChangeSettings");this.$1S8=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_ViewDetails");this.$AG=0;this.$xe=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:","go.microsoft.com/fwlink/?LinkId=103482");this.$xc=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:","go.microsoft.com/fwlink/?LinkID=309645")};Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel.prototype={$1SE:null,$1S9:null,$1S8:null,$gR:null,$xe:null,$xc:null,$o0:null,get_MessageSubtitle:function(){return this.$gR},set_MessageSubtitle:function(n){return this.$gR=n,n},get_ViewPrivacyStatementText:function(){return this.$1SE},set_ViewPrivacyStatementText:function(n){return this.$1SE=n,n},get_ViewHowToChangeNotificationSettingsText:function(){return this.$1S9},set_ViewHowToChangeNotificationSettingsText:function(n){return this.$1S9=n,n},get_ViewDetailsText:function(){return this.$1S8},set_ViewDetailsText:function(n){return this.$1S8=n,n},get_ViewDetailsCommand:function(){return this.$o0},set_ViewDetailsCommand:function(n){return this.$o0=n,n},get_ViewPrivacyStatementCommand:function(){return this.$xe},get_ViewHowToChangeNotificationSettingsCommand:function(){return this.$xc},$Oh:function(){$0.$0(this.$o0)||(this.$o0.dispose(),this.$o0=null);$0.$0(this.$xe)||(this.$xe.dispose(),this.$xe=null);$0.$0(this.$xc)||(this.$xc.dispose(),this.$xc=null);Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel=function(n){var u,f,t,i,r;this.$$d_$3Ad=Function.createDelegate(this,this.$3Ad);this.$$d_$2xU=Function.createDelegate(this,this.$2xU);this.$$d_$2v6=Function.createDelegate(this,this.$2v6);this.$$d_$1he=Function.createDelegate(this,this.$1he);this.$$d_$2ts=Function.createDelegate(this,this.$2ts);this.$$d_$2tU=Function.createDelegate(this,this.$2tU);this.$$d_$2u3=Function.createDelegate(this,this.$2u3);this.$$d_$2sd=Function.createDelegate(this,this.$2sd);this.$$d_$2Uc=Function.createDelegate(this,this.$2Uc);this.$$d_$2M2=Function.createDelegate(this,this.$2M2);this.$$d_$2ug=Function.createDelegate(this,this.$2ug);this.$$d_$2ka=Function.createDelegate(this,this.$2ka);this.get_$Ke=this.get_PerformanceReport;this.set_$Ke=this.set_PerformanceReport;this.get_$10e=this.get_CommandManagerViewModel;this.get_$Sz=this.get_commandManager;this.get_$1Z6=this.get_dialogCommandManager;this.get_$u1=this.get_NavigationBar;this.set_$u1=this.set_NavigationBar;this.get_$2r=this.get_TaskBasedFlowGlobalMenu;this.set_$2r=this.set_TaskBasedFlowGlobalMenu;this.get_$HK=this.get_InteractionCentricNavigationBar;this.set_$HK=this.set_InteractionCentricNavigationBar;this.get_$EL=this.get_landingPageViewModel;this.set_$EL=this.set_landingPageViewModel;this.get_$CE=this.get_XrmPage;this.get_$jP=this.get_BackCommand;this.get_$1FP=this.get_EventHandler;this.get_$5S=this.get_PrimaryConductor;this.get_$1F=this.get_IsServerAvailable;this.set_$1F=this.set_IsServerAvailable;this.set_$24t=this.set_IsSyncCheckCompleted;this.get_$E=this.get_UserContext;this.set_$E=this.set_UserContext;this.get_$1j=this.get_FeatureControlManager;this.set_$1j=this.set_FeatureControlManager;this.get_$1uL=this.get_DefaultSearchExperience;this.$3BK=this.updateOfflineText;this.$ja=this.clearSelectedViewModels;this.$10Y=this.clearAllSelectedViewModelsForLookupDialog;this.$1HE=this.getAllSelectedViewModelsForLookupDialog;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.initializeBase(this);this.$1N7=n;this.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s,this.$$d_$2ka);Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.set_ListNavigationContext(new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext):this.set_ListNavigationContext(new Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext);this.$Cw=new Microsoft.Crm.Client.Core.Framework.CommandManager;this.$YX=new Microsoft.Crm.Client.Core.ViewModels.$10;this.$gW=new Microsoft.Crm.Client.Core.ViewModels.$KD(this.$Cw,n);this.$gW.add_PostNavigation(this.$$d_$2ug);u=this;this.$IF=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BackNavigation",1);Microsoft.Crm.Client.Core.Commands.$2R.$23B();var n=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("RequestClose"));n.execute();n.dispose()},1004);f=this;this.$1LZ=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),n=new Microsoft.Crm.Client.Core.Commands.$A3(t);n.execute();n.dispose()},1004);t=this;this.$1Dc=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2M2,1004,this,"IsServerAvailable",function(){return!t.$ZV});this.$1LO=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Uc,1004);n.AddPropertyChangedListener("Top",this.$$d_$2sd);n.AddPropertyChangedListener("VMRemoved",this.$$d_$2sd);Microsoft.Crm.Client.Core.Framework.$6.$4N||this.AddPropertyChangedListener("CurrentListNavigationDataContext",this.$$d_$2u3);this.$11H=new Microsoft.Crm.Client.Core.ViewModels.$Rm;this.$11H.AddPropertyChangedListener("Top",this.$$d_$2tU);this.$r7=new Microsoft.Crm.Client.Core.Framework.CommandManager;this.$1Em=new Microsoft.Crm.Client.Core.ViewModels.$KD(this.$r7,this.$11H);this.$1Em.$1Wl=!0;this.$5y=new Microsoft.Crm.Client.Core.ViewModels.$6o;this.$Cw.$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$5y.$$d_$28C);this.$1dY=this.$$d_$2ts;this.updateOfflineText();i=this;this.AddPropertyChangedListener("IsServerAvailable",function(){i.updateOfflineText()});r=this;this.AddPropertyChangedListener("NavigationValidityTime",function(){r.updateOfflineText()});this.$1Oz=this.$$d_$1he;this.$1Oy=this.$$d_$2v6;this.$1MF=this.$$d_$2xU;Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("CanGoBack",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("DialogPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("PopupPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("QuickCreateFormPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("TaskBasedFlowFormPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("SiteMapVisible",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("GlobalMenuVisible",this.$$d_$3Ad))};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C=Microsoft.Crm.Client.Core.ViewModels.$40.$8t.$1st(new Microsoft.Crm.Client.Core.ViewModels.$Rz)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.setApplicationShellInstanceForTestingPurposes=function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C=n;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C.set_$2L(new Microsoft.Crm.Client.Core.Framework.$6P)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype={$1N7:null,$1Lg:0,$lX:!1,$1Lo:!1,$YN:null,$2Ca:!1,$Ng:null,$Cw:null,$r7:null,$a8:null,$hu:null,$1Iv:null,$tZ:null,$IF:null,$1LZ:null,$gW:null,$1Em:null,$11H:null,$YX:null,$5y:null,$5B:null,$4e:null,$MX:0,$zq:null,$1dY:null,$1fP:null,$ZV:!1,$V0:null,$1nW:null,$1Q:null,$14z:null,$1i5:null,$1Z2:null,$Ox:null,$1Fh:null,$1Dc:null,$1LO:null,$1Ke:null,$1Kf:"lastRetrievedText",$15S:null,$15T:null,$1Oz:null,$1Oy:null,$1ki:null,$st:!1,$1MF:null,$k5:null,$Oe:null,$Z5:!1,$hr:null,$zo:null,$16I:null,$1fI:null,$1Tz:null,get_PerformanceReport:function(){return this.$1Tz},set_PerformanceReport:function(n){return this.$1Tz=n,n},get_hostedInUsd:function(){return this.$Z5},set_hostedInUsd:function(n){return this.$Z5=n,n},$1BE:!1,$2ka:function(){},$2s8:function(){},get_SelectedViewModels:function(){return this.$5B},get_$Uh:function(){return"HomepageId"},get_$vH:function(){return this.$Oe},set_$vH:function(n){return this.$Oe=n,n},get_CommandManagerViewModel:function(){return this.$5y},get_CustomScriptsContainerViewModel:function(){return Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6()},get_$rj:function(){return this.$YX},get_NavigationManager:function(){return this.$gW},get_CurrentListNavigationDataContext:function(){return this.$4e.get_$1EC()},get_IsOptinEnabled:function(){return Xrm.Utility.isAppOfflineSyncEnabled()},get_OfflineStatusReason:function(){return $0.$0(this.$Ox)?null:this.$Ox.$2jN()},get_BackCommand:function(){return this.$IF},set_BackCommand:function(n){return this.$IF=n,n},get_NavigateToIndexCommand:function(){return this.$1LZ},set_NavigateToIndexCommand:function(n){return this.$1LZ=n,n},get_EventHandler:function(){return this.$YN||(this.$YN=new Microsoft.Crm.Client.Core.Framework.$CO),this.$YN},get_NextNavigationIndex:function(){return this.$MX},set_NextNavigationIndex:function(n){return this.$MX=n,this.$7("ListNavigationIndicatorRecordTitle"),n},get_ListNavigationRecordCount:function(){return(this.$4e.$AV+1).toString()+"/"+this.$4e.get_ListLength().toString()},get_IsAttemptingConnectionVisible:function(){return!this.$st||this.get_ShowAttemptingConnectionText()},get_ShowAttemptingConnectionText:function(){return this.$st&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5()},$Cm:!1,get_$1Je:function(){return this.$Cm},set_$1Je:function(n){return this.$Cm=n,n},get_SyncStatusId:function(){return this.$hr},set_SyncStatusId:function(n){return this.$hr=n,n},get_OfflineDialogText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(this.get_ShowAttemptingConnectionText()?"L_CommitChanges_Offline_Dialog_Text":"L_Offline_Dialog_Text")},get_ListNavigationIndicatorRecordTitle:function(){return this.$4e.$2ji(this.$MX)},get_BackButtonToolTipcanvas:function(){return this.$d(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$104)},set_BackButtonToolTipcanvas:function(n){return this.$l(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$104,n),n},get_BackButtonToolTip:function(){return this.$d(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$104)},set_BackButtonToolTip:function(n){return this.$l(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$104,n),n},get_CanGoBack:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?!1:this.$d(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$10R)},set_CanGoBack:function(n){return this.$l(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$10R,n),this.$7("CanGoBack"),n},get_commandManager:function(){return this.$Cw},get_dialogCommandManager:function(){return this.$r7},get_landingPageViewModel:function(){return this.$1fI},set_landingPageViewModel:function(n){return this.$1fI=n,n},get_$2L:function(){return this.$Ng},set_$2L:function(n){return this.$Ng=n,n},get_PrimaryConductor:function(){return this.$1N7},get_CanvasConductor:function(){return this.$1N7},get_IsSyncCheckCompleted:function(){return this.$lX},set_IsSyncCheckCompleted:function(n){return this.$lX!==n&&(this.$lX=n,this.$7("IsSyncCheckCompleted")),n},get_NoteInlineCreateFormExpanded:function(){return this.$1Lo},set_NoteInlineCreateFormExpanded:function(n){return this.$1Lo!==n&&(this.$1Lo=n,this.$7("NoteInlineCreateFormExpanded")),n},get_DialogConductor:function(){return this.$11H},get_NavigationBar:function(){return this.$a8},set_NavigationBar:function(n){return this.$a8=n,n},get_TaskBasedFlowGlobalMenu:function(){return this.$hu},set_TaskBasedFlowGlobalMenu:function(n){return this.$hu!==n&&(this.$hu=n,this.$7("TaskBasedFlowGlobalMenu")),n},get_InteractionCentricNavigationBar:function(){return this.$1Iv},set_InteractionCentricNavigationBar:function(n){return this.$1Iv=n,n},get_$1Kg:function(){return this.$tZ},set_$1Kg:function(n){return this.$tZ=n,n},get_$Nh:function(){return this.$zq},set_$Nh:function(n){return this.$zq=n,n},set_$2Tr:function(n){return this.$k5=n,n},get_XrmPage:function(){for(var n,i,r,u,e,f=null,o=this.get_DialogConductor().get_ActiveNavigationStack().get_Count(),t=o-1;t>=0;t--)if(n=this.get_DialogConductor().get_ActiveNavigationStack().get_$R(t),!$0.$0(n)&&(n.$g===5||n.$g===22||n.$g===12||n.$g===39))return f=this.get_DialogConductor().get_ActiveNavigationStack().get_$R(t),$0.$0(f.$5k)?this.$k5:f.$5k;return i=this.get_PrimaryConductor().get_$33(),$0.$0(i)?this.$k5:i.$g===13?(r=i.$K,u=this.$k5,$0.$0(r)||$0.$0(r.$M)||(e=r.$M.ParentEntityViewModel,$0.$0(e)||(u=e.$5k)),$0.$0(u)?this.$k5:u):$0.$0(this.get_PrimaryConductor().get_$33().$5k)?this.$k5:this.get_PrimaryConductor().get_$33().$5k},get_$U1:function(){return this.$1fP},get_$26l:function(){return $0.$0(this.get_CanvasConductor().get_Top())?null:this.get_CanvasConductor().get_Top().$tv},get_IsServerAvailable:function(){return this.$ZV},set_IsServerAvailable:function(n){return this.$ZV!==n&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&!$0.$0(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG())&&"MobileClientOfflineWebResources"in Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG().MobileClientOfflineWebResources&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$36e("IsClientOffline",!n),this.$ZV=n,this.$7("IsServerAvailable")),n},get_$54:function(){return this.$V0},set_$54:function(n){return this.$V0=n,n},get_$1nX:function(){return this.$1nW},set_$1nX:function(n){return this.$1nW=n,n},get_UserContext:function(){return this.$1Q},set_UserContext:function(n){return this.$1Q=n,n},get_$GD:function(){return this.$14z},set_$GD:function(n){return this.$14z=n,n},get_$GJ:function(){return this.$1i5},set_$GJ:function(n){return this.$1i5=n,n},get_$4q:function(){return this.$1Z2},set_$4q:function(n){return this.$1Z2=n,n},get_$GG:function(){return this.$Ox},set_$GG:function(n){return this.$Ox=n,n},get_GetOfflineSyncStatusInfo:function(){return $0.$0(this.$Ox)?null:this.$Ox.$2hm()},get_IsServerMetadataSyncRequired:function(){return $0.$0(this.$Ox)?!1:this.$Ox.$1KE()},get_FeatureControlManager:function(){return this.$1Fh},set_FeatureControlManager:function(n){return this.$1Fh=n,n},get_ListNavigationContext:function(){return this.$4e},set_ListNavigationContext:function(n){return Microsoft.Crm.Client.Core.Framework.$6.get_$3A()||(this.$4e=n),n},get_ListPosition:function(){return this.$4e.get_$2py()},get_ListNavigationEnabled:function(){return this.$4e.get_$O9()},get_ConnectCommand:function(){return this.$1Dc},set_ConnectCommand:function(n){return this.$1Dc=n,n},get_MetadataDownloadCommand:function(){return this.$1LO},set_MetadataDownloadCommand:function(n){return this.$1LO=n,n},get_LastRetrievedText:function(){return this.$1Ke},set_LastRetrievedText:function(n){return this.$1Ke!==n&&(this.$1Ke=n,this.$7("LastRetrievedText")),n},get_LastRetrievedTextClassName:function(){return this.$1Kf},set_LastRetrievedTextClassName:function(n){return this.$1Kf!==n&&(this.$1Kf=n,this.$7("LastRetrievedTextClassName")),n},get_OfflineGlobalSyncStatusText:function(){return this.$15S},set_OfflineGlobalSyncStatusText:function(n){return this.$15S=n,n},get_OfflineGlobalSyncStatusTextClassName:function(){return this.$15T},set_OfflineGlobalSyncStatusTextClassName:function(n){return this.$15T=n,n},get_IsAttemptingConnection:function(){return this.$st},set_IsAttemptingConnection:function(n){return this.$st!==n&&(this.$st=n,this.$rd("IsAttemptingConnection","OfflineIndicatorText")),n},get_$2D0:function(){return this.$1ki},set_$2D0:function(n){return this.$1ki=n,n},get_DefaultSearchExperience:function(){return this.$1Q.get_$1uL()},$28y:function(n){this.$1BE=!0;window.location.href=n},$V9:function(n){this.$5y.$1u2=n.get_ViewModelId();this.get_PrimaryConductor().$vT(n);this.$YX.$17g(n)},$31j:function(n){var t=this.get_CanvasConductor().get_ActiveNavigationStack().get_Count()-1;t>0&&this.get_CanvasConductor().popMany(t);this.get_CanvasConductor().$2F1(n)},get_$JY:function(){return $0.$0(this.$zo)&&(this.$zo=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4B))),this.$zo},get_PreSelectedViewModelIds:function(){return $0.$0(this.$16I)&&(this.$16I=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))),this.$16I},set_PreSelectedViewModelIds:function(n){return this.$16I=n,n},add_AddSelectedViewModelsEvent:function(n){this.$1p("AddSelectedViewModels",n)},remove_AddSelectedViewModelsEvent:function(n){this.$32("AddSelectedViewModels",n)},add_RemoveSelectedViewModelsEvent:function(n){this.$1p("RemoveSelectedViewModels",n)},remove_RemoveSelectedViewModelsEvent:function(n){this.$32("RemoveSelectedViewModels",n)},add_ClearSelectedViewModelsEvent:function(n){this.$1p("ClearSelectedViewModels",n)},remove_ClearSelectedViewModelsEvent:function(n){this.$32("ClearSelectedViewModels",n)},add_UpdateOfflineStatusTextEvent:function(n){this.$1p("UpdateOfflineStatusText",n)},remove_UpdateOfflineStatusTextEvent:function(n){this.$32("UpdateOfflineStatusText",n)},getSelectedViewModels:function(){return $0.$0(this.$5B)&&(this.$5B=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4B))),this.$5B.toArray()},getAllSelectedViewModelsForLookupDialog:function(){return $0.$0(this.get_$JY())&&(this.$zo=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4B))),this.get_$JY().toArray()},$1wJ:function(){var n=this.$4d("AddSelectedViewModels");$0.$0(n)||n(this,null)},$1a4:function(){var n=this.$4d("ClearSelectedViewModels");$0.$0(n)||n(this,null)},$2XK:function(){var n=this.$4d("RemoveSelectedViewModels");$0.$0(n)||n(this,null)},$2Kz:function(n){$0.$0(this.$5B)&&(this.$5B=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4B)));this.$5B.contains(n)||(this.$5B.add(n),this.$tZ=null,n.set_$KH(!0),this.$1wJ())},$30y:function(){},clearSelectedViewModels:function(){var t=!1,n;if(!$0.$0(this.$5B)){for(n=0;n<this.$5B.get_Count();n++)this.$5B.get_$R(n).set_$KH(!1),t=!0;this.$5B.clear()}t&&this.$1a4()},clearAllSelectedViewModelsForLookupDialog:function(){var t=!1,n;if(!$0.$0(this.get_$JY())){for(n=0;n<this.get_$JY().get_Count();n++)this.get_$JY().get_$R(n).set_$KH(!1),t=!0;this.get_$JY().clear()}t&&this.$1a4()},$33a:function(){try{Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$HL&&document.queryCommandSupported("ms-clearUndoStack")&&document.execCommand("ms-clearUndoStack",!1,null)}catch(n){}},$2s6:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("ListNavigation::NavigateToIndex::"+this.$MX.toString(),1);this.$4e.$AV!==this.$MX?(this.$4e.$2rv(this.$MX),this.$31c(),this.$re(["ListNavigationEnabled","ListAtStart","ListAtEnd","ListPosition","ListNavigationRecordCount","ListNavigationIndicatorRecordTitle","CurrentListNavigationDataContext"])):this.$4e.$lo=!1},$1gV:function(n){if(this.get_CanGoBack()){if(n){var t=this.$133(this.get_PrimaryConductor(),2);t.refreshWithoutScriptReload()}this.$IF.execute()}else this.$a8.$fk.execute()},$mR:function(n){n.$g!==1?Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jE(n,!0,1):Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jF();this.$lE(n,1)},$vo:function(n){var t=this.get_PrimaryConductor(),i,r;t.get_Top()===n?(i=new Microsoft.Crm.Client.Core.Commands.NavigationCommand(n,0),t.get_ActiveNavigationStack().get_Count()>=2?(r=this.$133(t,2),r.$1W==="Workspace".toUpperCase()&&this.$31h(r),i.$T=r):i.$T=this,i.execute(),i.dispose()):(t.$vo(n),this.$2Bc(n),t.$7("VMRemoved"))},$31h:function(n){var t=n.$H.HeaderGroup;n.$9R?n.$q!==this.$Oe.toString()?(n.$9R=!1,t.set_LabelCssClass("workspace_header_label"),t.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dashboard_Header_Label")),t.$H.DashboardName.set_Data(n.$1EI)):("DashboardName"in t.$H&&t.$H.DashboardName.set_Data(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dashboard_Homepage_Label")),t.set_LabelCssClass("home_page_label")):(t.set_LabelCssClass("workspace_header_label"),t.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dashboard_Header_Label")))},$2F6:function(n,t){var u=this.get_PrimaryConductor();if(u.get_ActiveNavigationStack().get_Count()>=n){var i=this.$133(u,n),r=this.$21T(u,n),f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents");f&&i.$g===13?(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jE(r,t,0),this.$lE(r,0)):$0.$0(i.get_ModelContext())||$0.$0(r)?(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jF(),this.$2BY(0)):i.$g===13?this.$lE(r,0):i.$g===2||i.$g===40?(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jE(r,t,0),this.$lE(r,0)):i.$g===5&&(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jH(r,0),this.$lE(r,0));i.$23U();Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.$Z5&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$1a7(i)}},$2Bc:function(n){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)&&n.$31n();var t=this.$31y(n),i=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.$V.get_$6().$1X9(t)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$18w,"ApplicationShellViewModel.ResetViewModelAfterRemoval.ClearSessionState")},$1MU:function(n,t){this.$1nD();Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jH(n,t);this.$lE(n,t);this.$YX.$17g(n)},$uq:function(n){var t=new Microsoft.Crm.Client.Core.Commands.NavigationCommand(null,4);t.$T=n;this.$r7.raiseEvent(Microsoft.Crm.Client.Core.Framework.$35,t);t.dispose()},$28u:function(n){n.$2.add_$6F(this.$1dY)},$2PH:function(n){this.$1rx(n,n.$D6!==3)},$10c:function(n){this.$1rx(n,!0)},$1rx:function(n,t){var r,u,f,i;Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$33f();r=this.$220();u=!$0.$0(r)&&r.get_ViewModelId()===n.get_ViewModelId();this.$Ji(n);u&&(f=this.get_DialogConductor(),i=this.$21T(f,1),$0.$0(i)?(t&&this.$2F6(1,!1),this.$YX.$17g(this.get_PrimaryConductor().get_$33())):(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jH(i,0),this.$lE(i,0),this.$YX.$17g(i)))},$Ji:function(n){var i=this.get_DialogConductor(),t;i.get_Top()===n?(t=new Microsoft.Crm.Client.Core.Commands.NavigationCommand(null,0),t.$T=this,this.$r7.raiseEvent(Microsoft.Crm.Client.Core.Framework.$35,t),t.dispose()):(this.get_DialogConductor().$vo(n),this.$1nL())},closePopups:function(){$0.$0(this.$a8)||$0.$0(this.$a8.$5g)||this.$a8.$5g.set_Visible(!1);$0.$0(this.$hu)||this.$hu.$9m.set_Visible(!1)},closeTBFPopups:function(){$0.$0(this.$hu)||this.$hu.$9m.set_Visible(!1)},closeNoteInlineCreateForm:function(){Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top())&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top().$QG(),this.set_NoteInlineCreateFormExpanded(!1))},$1t:function(n,t,i){var r=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1zi(n),u=new r(t,i),f=u.$56();this.$Ng.$2C(f)},$XL:function(n,t,i){var r=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1zi("ActionProvider"),u=new r(n,t);return u.$B1(i)},$21Q:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$Da),Microsoft.Crm.Client.Core.Framework.$7),t=this,i=this;return Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("NavigationStackKey").then(function(t){if($0.$0(t))n.resolve(null);else{for(var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$Da)),i=0;i.toString()in t;)r.add(t[i.toString()]),i++;n.resolve(r)}},function(t){n.reject(t)}),n.promise()},$3CN:function(n){n===this.get_CanvasConductor().get_Top()&&this.$7("NavigationValidityTime")},$2BY:function(n){this.$lp(!0,n,null)},$31c:function(){Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$1rY(!1,1);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$31e(this.get_CurrentListNavigationDataContext().get_$1B());this.$zq.$Ut()},$1jh:function(n){Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$2kp(!1,n);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$31d();this.$zq.$Ut()},$Oh:function(){Microsoft.Crm.Client.Core.Framework.$AJ.prototype.$Oh.call(this);this.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s,this.$$d_$2ka);this.$gW&&this.$gW.remove_PostNavigation(this.$$d_$2ug);this.$YX.dispose();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("CanGoBack",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("DialogPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("PopupPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("QuickCreateFormPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("TaskBasedFlowFormPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("SiteMapVisible",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("GlobalMenuVisible",this.$$d_$3Ad))},$220:function(){for(var n,i=this.get_DialogConductor(),t=i.get_ActiveNavigationStack().get_Count()-1;t>=0;t--)if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(i.get_ActiveNavigationStack().get_$R(t))&&(n=i.get_ActiveNavigationStack().get_$R(t),n.$g===5||n.$g===22||n.$g===12||n.$g===39))return n;return null},$lE:function(n,t){if(!$0.$0(n))if(n.$g===2||n.$g===40)if($0.$0(n.get_$1B())){Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$1DH(t,!0);var i=!1;Microsoft.Crm.Client.Core.ViewModels.$86.isInstanceOfType(n)&&(i=n.get_LaunchedWithUnsavedChanges());i?this.$1he(n,null):n.add_$FD(this.$1Oz)}else this.$lp(!0,t,n);else n.$g===5?$0.$0(n.get_$1B())?(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$1DH(t,!0),n.add_$6F(this.$1Oy)):this.$lp(!0,t,n):this.$lp(!0,t,n)},$1he:function(n){var t=n,i;t.remove_$FD(this.$1Oz);i=t.$g===5?2:1;this.$lp(!1,i,t)},$2v6:function(n){var t=n;t.remove_$6F(this.$1Oy);this.$lp(!1,2,t)},$lp:function(n,t){n?Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$1rY(!0,t):Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$1fn(!0,t)},$2sd:function(n,t){var i=n;switch(t){case"Top":i.get_ActiveNavigationStack().get_Count()>1?(this.set_BackButtonToolTip(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Back_Button_Text")),this.set_CanGoBack(!0)):(this.set_BackButtonToolTip(""),this.set_CanGoBack(!1));Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("CanGoBack",this.get_CanGoBack());$0.$0(this.$4e)||this.$2OW(i);this.clearSelectedViewModels();this.$33a();this.$2Hc(i);this.$1nD();!$0.$0(this.$4e)&&this.$4e.$lo&&(this.$4e.$lo=!1);this.$1nL();break;case"VMRemoved":this.$2Hc(i)}},$2tU:function(){this.$1nL()},$1nL:function(){var n=window.Xrm;n.Page=this.get_XrmPage()},$2u3:function(){var n,t,i;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.get_CanvasConductor().get_Top())&&(n=this.get_CanvasConductor().get_Top().$2Be(),$0.$0(this.$4e)||!this.$4e.get_$O9()||$0.$0(this.$4e.get_$1EC())||(n.$UH=this.$4e.get_$1EC().$4Z),t={},t[(this.get_CanvasConductor().get_ActiveNavigationStack().get_Count()-1).toString()]=n,i=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("NavigationStackKey",t,!0).done(function(){Microsoft.Crm.Client.Core.Commands.$2R.$2Ax()})},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$18w,"ApplicationShellViewModel.OnListDataContextChanged.SaveSessionState"));this.$1nD()},$2ug:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Nu(t.$15M,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2rz()),this.$YX.$17g(t.$15M),Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&!t.$15M.$BY)Microsoft.Crm.Client.Core.ViewModels.$10.$wc(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notification_Field_Error"),3,"FieldErrorNotification",null,-1)},$2Hc:function(n){var i,t,r;if(!Microsoft.Crm.Client.Core.Framework.$6.$4N){for(i={},t=0;t<n.get_ActiveNavigationStack().get_Count();t++)Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n.get_ActiveNavigationStack().get_$R(t))&&(i[t.toString()]=n.get_ActiveNavigationStack().get_$R(t).$2Be());this.$1Lg>0?this.$1Lg--:(r=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("NavigationStackKey",i,!1).done(function(){Microsoft.Crm.Client.Core.Commands.$2R.$2Ax()})},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$18w,"ApplicationShellViewModel.UpdateNavigationStack.SaveSessionState"))}},$133:function(n,t){return n.get_ActiveNavigationStack().get_Count()>=t?n.get_ActiveNavigationStack().get_$R(n.get_ActiveNavigationStack().get_Count()-t):null},$21T:function(n,t){for(var i=this.$133(n,t),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents");!$0.$0(i)&&i.$g!==2&&i.$g!==40&&i.$g!==5&&i.$g!==12&&i.$g!==39&&(!r||i.$g!==13);)if(n.get_ActiveNavigationStack().get_Count()>t)i=this.$133(n,++t);else return null;return i},$2OW:function(n){var i=n.get_ActiveNavigationStack().get_$R(n.get_ActiveNavigationStack().get_Count()-1),t=new Array(0),u=this.get_ListNavigationEnabled(),f=this.get_ListPosition(),e=this.get_ListNavigationRecordCount(),o=this.get_ListNavigationIndicatorRecordTitle(),r;$0.$0(i.$K)||$0.$0(i.$K.$M)?this.$4e.set_$O9(!1):(r=i.$K.$M.ListNavigationContext,$0.$0(r)?this.$4e.set_$O9(!1):(this.set_ListNavigationContext(r),Array.add(t,"ListNavigationContext"),this.$4e.set_$O9(!0)));u!==this.get_ListNavigationEnabled()&&Array.add(t,"ListNavigationEnabled");f!==this.get_ListPosition()&&Array.add(t,"ListPosition");e!==this.get_ListNavigationRecordCount()&&Array.add(t,"ListNavigationRecordCount");o!==this.get_ListNavigationIndicatorRecordTitle()&&Array.add(t,"ListNavigationIndicatorRecordTitle");t.length>0&&this.$re(t)},$2ts:function(n){this.$uq(n)},$2qZ:function(n){var t=n.$6b;this.set_$vH(Microsoft.Crm.Client.Core.Framework.Guid.createFromObjectData(t))},$25j:function(){this.set_$vH(Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.$1Q.get_$Xq():this.$1Q.get_$1Ea())},isCrmDialogActive:function(){return this.$1Em.$2Pw(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel)},$31y:function(n){var t,i,r;return Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)?(t=n,i=new Sys.StringBuilder(t.$1W),$0.$0(t.get_ModelContext())?$0.$0(t.$K)||$0.$0(t.$K.$M)||(r=t.$K.$M.ListDefinitionId,$0.$0(r)||(i.append(":"),i.append(r))):(i.append(":"),i.append(t.get_ModelContext().get_Id())),i.toString()):Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(n)?n.get_Name():(Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Attempted to resolve a page key for an unrecognized ViewModel."),Error.invalidOperation("Attempted to resolve a page key for an unrecognized ViewModel."),null)},$1nD:function(){this.$1fP=new Date;this.$7("NavigationValidityTime")},$2M2:function(){var t=this.$a8.$10j,n;$0.$0(t)||(n=t.$B1(null),n.add_$AT(this.$1MF),n.add_$Qe(this.$1MF),this.$Ng.$2C(n),this.set_IsAttemptingConnection(!0),this.clearSelectedViewModels())},$2Uc:function(){var n=this.$a8.$1gM,t;$0.$0(n)||(t=n.$56(),this.$Ng.$2C(t))},updateOfflineText:function(){var i=this.$ZV||$0.$0(this.get_$26l())?"":Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Retrieved_Text"),this.get_$26l()),r,n,t;if(this.set_LastRetrievedTextClassName("lastRetrievedText"),!$0.$0(this.get_CanvasConductor().get_Top())&&this.get_IsOptinEnabled()){if(this.$2XQ(),r=this.get_CanvasConductor().get_Top().$g===1,this.$3B9(),r){this.$3B7();return}if(n=this.$Ox.$21o(),t=this.get_CanvasConductor().get_Top().$D,!$0.$0(n)&&n.get_Count()>0&&n.contains(t)){this.set_LastRetrievedText("");return}this.$3B6(i,t)}else this.set_LastRetrievedText(i)},$2XQ:function(){var n=this.$4d("UpdateOfflineStatusText");$0.$0(n)||n(this,null)},$3B7:function(){this.set_LastRetrievedText(this.$15S);this.set_LastRetrievedTextClassName(this.$15T)},$3B6:function(n,t){var i=!1,f=this.$Ox.$20R(t),r,u;switch(f){case 1:if(i=!0,Xrm.Utility.isOfflineDataStoreAvailable())this.set_LastRetrievedTextClassName("offlineEnabled");else{this.$ZV&&this.set_LastRetrievedText(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Synced_Initialize_Text"));this.set_LastRetrievedTextClassName("offlineStoreUnavailable");return}break;case 2:if(this.$ZV&&(i=!0),Xrm.Utility.isOfflineDataStoreAvailable())this.set_LastRetrievedTextClassName("offlineDisabled");else{this.$ZV&&this.set_LastRetrievedText(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Synced_Initialize_Text"));this.set_LastRetrievedTextClassName("offlineStoreUnavailable");return}break;default:i=!1}i?(r=this,u=this,this.$2gy(t).then(function(n){r.set_LastRetrievedText(n)},function(){u.set_LastRetrievedText(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Synced_Initialize_Text"));Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Error getting last offline sync time.")})):this.set_LastRetrievedText(n)},$3B9:function(){var n="",t="lastRetrievedText",i=this.get_GetOfflineSyncStatusInfo();if(!$0.$0(this.get_CanvasConductor().get_Top())&&this.get_IsOptinEnabled()&&!$0.$0(i))switch(i.$JC){case 0:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Offline_Not_Available");t="offlineStoreUnavailable";break;case 1:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Initializing");t=i.$N1===-1?"offlineInitialSyncFailure":"offlineStoreUnavailable";break;case 2:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Offline_Available");t=i.$N1?"metadataOutOfSync":"offlineAvailable"}this.$15S=n;this.$15T=t},$2gy:function(n){var t=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$7),i="",r=this,u=this;return this.$Ox.$2C8(n).then(function(n){Microsoft.Crm.Client.Core.Framework.$3.$9(n)?t.reject():(i=Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Synced_Text"),Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$OP(new Date(n),1)),t.resolve(i))},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,n.$F);t.reject(n)}),t.promise()},$2xU:function(){this.set_IsAttemptingConnection(!1)},$3Ad:function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.updateBackBehavior()},$2gp:function(){return null}};Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext.initializeBase(this,[new Microsoft.Crm.Client.Core.ViewModels.$3R]);$0.$0(n)?(this.$7p=new Array(0),this.$8m=!1):(this.$23X_1(n),this.$MC=i,this.set_CurrentIndex(t),this.$h9=-1,this.$8m=!0)};Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext.prototype={$7p:null,$AV:0,$h9:0,$MC:null,$8m:!1,$lo:!1,get_CurrentIndex:function(){return this.$AV},set_CurrentIndex:function(n){return this.$h9=this.$AV,this.$AV=n,this.$8m=!0,n},get_AtStart:function(){return this.get_$O9()?!this.$AV:!1},get_AtEnd:function(){return this.get_$O9()?this.$AV===this.$7p.length-1:!1},get_$1RB:function(){return this.$7p.length-1},get_ListLength:function(){return this.$7p.length},get_$O9:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?!1:this.$8m&&this.$7p.length>1},set_$O9:function(n){return this.$8m=n,n},get_ListNavigationInProgress:function(){return this.$lo},set_ListNavigationInProgress:function(n){return this.$lo=n,n},get_$1EC:function(){return this.$7p[this.$AV]},get_ShouldCreateNewPage:function(){return this.$7p[this.$AV].get_ModelContext().get_$Fe()!==this.$7p[this.$h9].get_ModelContext().get_$Fe()},get_$2py:function(){return this.get_$O9()?this.$AV/this.get_$1RB():0},$2rv:function(n){this.$AV!==n&&n<=this.get_$1RB()&&n>=0&&this.set_CurrentIndex(n)},listNavigationTypeForLastNavigation:function(){return this.$AV>this.$h9?1:2},$2ji:function(n){var r="",t,i;return $0.$0(this.$7p)||this.$7p.length>0&&n<=this.get_$1RB()&&n>=0&&!$0.$0(this.$7p[n])&&(t=this.$7p[n].get_ModelContext(),$0.$0(t)||$0.$0(this.$MC)||(i=t.GetValue(this.$MC),$0.$0(i)||(r=i.toString()))),r},openNewPageForCurrentIndex:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this.get_$1EC(),2);n.$MU=5;n.$x={ListNavigationContext:this};n.execute();n.dispose()},$23X_1:function(n){this.$7p=new Array(n.get_Count());for(var t=0;t<n.get_Count();t++)this.$7p[t]=n.get_$R(t),this.$7p[t].$10l=t}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext=function(n,t,i,r,u){this.$fi=-1;this.$c4=-1;this.$18=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.IModel));Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext.initializeBase(this);$0.$0(n)?(this.$7p=new Array(0),this.set_$O9(!1)):($0.$0(r)||(this.$1KI=u,this.$PA=r,this.$Sb=r.get_PageSize(),this.$zR=r.getTotalRecordsCount(),this.$23X(n)),this.$MC=i,this.set_CurrentIndex(t),this.$h9=-1,this.set_$O9(!0),this.get_$Jo()>1&&this.$AV!==-1&&!this.$1KI&&(this.set_CurrentIndex(t+this.$Sb*(this.get_$Jo()-1)),this.$h9=this.$AV-1),$0.$0(r)&&this.set_CurrentIndex(-1))};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext.prototype={$PA:null,$1Jw:!1,$1KI:!1,$zR:0,$Sb:0,get_$Jo:function(){return $0.$0(this.$PA)?-1:this.$PA.getCurrentPageIndex()},$1i3:function(n){$0.$0(this.$PA)||(this.$1Jw=n,this.$PA.$1i3(this,n))},$2Hv:function(){var i,r,n,u,f,t;if(!$0.$0(this.$PA)){if(i=this.$PA.$1f,r=i.get_Count(),this.$1Jw){for(n=this.$c4;n<this.$c4+r;n++)this.$7p[n]=i.get_$R(n-this.$c4),this.$7p[n].$10l=n,this.$18.set_$R(n,i.get_$R(n-this.$c4).get_ModelContext());this.$c4=n}else{for(u=0,f=this.$fi-r,t=f;t<this.$fi;t++)this.$7p[t]=i.get_$R(u),this.$7p[t].$10l=t,this.$18.set_$R(t,i.get_$R(u).get_ModelContext()),u++;this.$fi=this.$fi-r}Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2s8(this.$1Jw)}},get_AtEnd:function(){return this.get_$O9()?this.$AV===this.$zR-1:!1},get_ListLength:function(){return this.$c4-this.$fi},get_$1RB:function(){return this.$c4},get_$O9:function(){return this.$8m&&(this.get_ListLength()>1||this.get_$Jo()>1)},set_$O9:function(n){return this.$8m=n,n},get_$1EC:function(){return $0.$0(this.$7p[this.$AV].get_ModelContext())&&this.$7p[this.$AV].set_ModelContext(this.$18.get_$R(this.$AV)),this.$7p[this.$AV]},get_ShouldCreateNewPage:function(){return this.$18.get_$R(this.$AV).get_$Fe()!==this.$18.get_$R(this.$h9).get_$Fe()},openNewPageForCurrentIndex:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this.get_$1EC(),40);n.$MU=5;n.$x={ListNavigationContext:this};n.execute();n.dispose()},$23X:function(n){var i,t;for(this.$7p=new Array(this.$PA.getTotalRecordsCount()),i=this.$1KI?0:(this.get_$Jo()-1)*this.$Sb,this.$fi=i,t=0;t<n.get_Count();t++)this.$7p[t+i]=n.get_$R(t),this.$7p[t+i].$10l=t+i,this.$18.set_$R(t+i,n.get_$R(t).get_ModelContext());this.$c4=i+t},$24L:function(n){var t,i;return!$0.$0(this.$7p)&&this.$7p.length>0&&n<=this.get_$1RB()&&n>=0&&!$0.$0(this.$7p[n])&&(t=this.$7p[n].get_ModelContext(),!$0.$0(t))?(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(t.get_$Fe()),$0.$0(i)?!1:i.$BW):!1},dispose:function(){var n,i,t,r;if($0.$0(this.$PA)||(this.$PA.dispose(),this.$PA=null),!$0.$0(this.$18)){for(n=0;n<this.$18.get_Count();n++)i=this.$18.get_$R(n),i.$5E(),i=null;this.$18=null}if(!$0.$0(this.$7p)){for(t=0;t<this.$7p.length;t++)r=this.$7p[t],r.dispose(),r=null;this.$7p=null}}};Microsoft.Crm.Client.Core.ViewModels.$2g=function(){};Microsoft.Crm.Client.Core.ViewModels.$ST=function(){this.get_$tN=this.get_IsValid;this.set_$qu=this.set_DataBindingValidatorResult;this.set_$KO=this.set_ManualValidatorResult;this.set_$ve=this.set_RecommendationNotification;Microsoft.Crm.Client.Core.ViewModels.$ST.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$hS=this.get_RequiredLevel;this.set_$hS=this.set_RequiredLevel;Microsoft.Crm.Client.Core.ViewModels.$ST.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$ST.prototype={add_$2CW:function(n){this.$1p("RevalidateEvent",n)},remove_$2CW:function(n){this.$32("RevalidateEvent",n)},get_IsValid:function(){return($0.$0(this.$8W)||this.$8W.$57)&&($0.$0(this.$7u)||this.$7u.$57)},get_ErrorMessage:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$47:this.$7u.$47},get_ErrorMessageLevel:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$eo:this.$7u.$eo},$8W:null,get_DataBindingValidatorResult:function(){return this.$8W},set_DataBindingValidatorResult:function(n){if(this.$8W!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$8W=n;this.$7("DataBindingValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7u:null,get_ManualValidatorResult:function(){return this.$7u},set_ManualValidatorResult:function(n){if(this.$7u!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$7u=n;this.$7("ManualValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7P:null,get_AcceptanceTextMessage:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?"":this.$7P.actions[0].message},get_AcceptanceActions:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?null:this.$7P.actions[0].actions[0]},get_RecommendationNotification:function(){return this.$7P},set_RecommendationNotification:function(n){return this.$7P!==n&&(this.$7P=n,this.$7("RecommendationNotification")),n},$9U:0,get_RequiredLevel:function(){return this.$9U},set_RequiredLevel:function(n){return this.$9U!==n&&(this.$9U=n,this.$1Fq("RequiredLevel","Required","Recommended")),n},get_Required:function(){return this.$9U===1||this.$9U===2},get_Recommended:function(){return this.$9U===3},$2XL:function(){var n=this.$4d("RevalidateEvent");n&&n()}};Microsoft.Crm.Client.Core.ViewModels.$SD=function(){this.get_$tN=this.get_IsValid;this.set_$qu=this.set_DataBindingValidatorResult;this.set_$KO=this.set_ManualValidatorResult;this.set_$ve=this.set_RecommendationNotification;Microsoft.Crm.Client.Core.ViewModels.$SD.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$hS=this.get_RequiredLevel;this.set_$hS=this.set_RequiredLevel;Microsoft.Crm.Client.Core.ViewModels.$SD.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$SD.prototype={add_$2CW:function(n){this.$1p("RevalidateEvent",n)},remove_$2CW:function(n){this.$32("RevalidateEvent",n)},get_IsValid:function(){return($0.$0(this.$8W)||this.$8W.$57)&&($0.$0(this.$7u)||this.$7u.$57)},get_ErrorMessage:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$47:this.$7u.$47},get_ErrorMessageLevel:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$eo:this.$7u.$eo},$8W:null,get_DataBindingValidatorResult:function(){return this.$8W},set_DataBindingValidatorResult:function(n){if(this.$8W!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$8W=n;this.$7("DataBindingValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7u:null,get_ManualValidatorResult:function(){return this.$7u},set_ManualValidatorResult:function(n){if(this.$7u!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$7u=n;this.$7("ManualValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7P:null,get_AcceptanceTextMessage:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?"":this.$7P.actions[0].message},get_AcceptanceActions:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?null:this.$7P.actions[0].actions[0]},get_RecommendationNotification:function(){return this.$7P},set_RecommendationNotification:function(n){return this.$7P!==n&&(this.$7P=n,this.$7("RecommendationNotification")),n},$9U:0,get_RequiredLevel:function(){return this.$9U},set_RequiredLevel:function(n){return this.$9U!==n&&(this.$9U=n,this.$1Fq("RequiredLevel","Required","Recommended")),n},get_Required:function(){return this.$9U===1||this.$9U===2},get_Recommended:function(){return this.$9U===3},$2XL:function(){var n=this.$4d("RevalidateEvent");n&&n()}};Microsoft.Crm.Client.Core.ViewModels.ValueFactory=function(){};Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$1Dw=function(n,t){var i=null;return t.ValueTypeName in Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$1YL&&(i=Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$1YL[t.ValueTypeName](n,t)),i};Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$2p9=function(n){if($0.$0(n))return!1;var t=n.ValueTypeName;return!Microsoft.Crm.Client.Core.Framework.$3.$9(t)};Microsoft.Crm.Client.Core.ViewModels.$KE=function(){this.$$d_$6f=Function.createDelegate(this,this.$6f)};Microsoft.Crm.Client.Core.ViewModels.$KE.prototype={$6f:function(){var n=this.$1Dw();return this.$36z(n),n},$36z:function(){}};Microsoft.Crm.Client.Core.ViewModels.$9=function(){this.$191={};this.$1SC={};this.$1no={};this.$w6={};this.$1Bc={};this.$nF={};this.$1Nr={}};Microsoft.Crm.Client.Core.ViewModels.$9.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$9.$3)&&(Microsoft.Crm.Client.Core.ViewModels.$9.$3=new Microsoft.Crm.Client.Core.ViewModels.$9),Microsoft.Crm.Client.Core.ViewModels.$9.$3};Microsoft.Crm.Client.Core.ViewModels.$9.prototype={$2BN:function(n){for(var t,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),f=this.$nF[n],u=this.$1OH(f),i=0;i<u.get_Count();i++)t=u.get_$R(i),t in this.$nF&&(delete this.$nF[t],t in this.$w6&&delete this.$w6[t],r.add(t));return r},$1OH:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),f,i,r,u,e,o;if($0.$0(n))return t;if(f=n.get_ViewModelId(),Microsoft.Crm.Client.Core.ViewModels.$78.isInstanceOfType(n)&&(i=n,!$0.$0(i.get_childViewModels()))){r=i.get_childViewModels();for(u in r)e={key:u,value:r[u]},o=e.value,t.addRange(this.$1OH(o).toArray())}return this.$2BM(n),n.dispose(),t.add(f),t},$2BM:function(n){if(n){var t=n.get_ViewModelId(),i=this.$1Nr[t];$0.$0(i)||(i.$5E(),delete this.$1Nr[t])}},$2Hl:function(n,t,i,r){var u=this.$nF[n],f;$0.$0(u)||(f=null,f=$0.$0(i)?u.get_ModelContext():i,Microsoft.Crm.Client.Core.ViewModels.$77.isInstanceOfType(u)&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?u.$2i===u?u.set_StartIndex(1e3):Microsoft.Crm.Client.Core.ViewModels.$77.isInstanceOfType(u.$2i)&&u.set_StartIndex(u.$2i.get_NextTabIndex()):u.set_StartIndex(-3e4)),this.$3Bp(u,t,f,!u.get_$1Xq(),r))},$3Bp:function(n,t,i,r,u){var e,f,o;$0.$0(n)||(Microsoft.Crm.Client.Core.Framework.$3.$9(t.Name)||n.set_Name(t.Name),!$0.$0(t.FieldMetadata)&&Microsoft.Crm.Client.Core.ViewModels.$Cr.isInstanceOfType(n)&&n.set_FieldMetadata(t.FieldMetadata),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(n)&&!$0.$0(t.ControlProperties)&&(n.$10m=t.ControlProperties),$0.$0(t.Properties)||this.$3Bq(n,t),e=this,f=function(){Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(n)&&(Microsoft.Crm.Client.Core.Framework.$3.$9(t.PrimaryModelName)||n.set_$1u(t.PrimaryModelName),$0.$0(i)||n.set_ModelContext(i));t.IsApiRegistered&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$2Ar(n,t);Microsoft.Crm.Client.Core.ViewModels.$78.isInstanceOfType(n)&&e.$3Al(n,t,i);($0.$0(r)||r)&&n.$2Z()},!$0.$0(u)&&u.$38K()?(o=this,u.$2FB(function(){var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("UpdateViewModelByDescriptor:CompleteUpdate");n.start();f();n.stop()})):f())},$3Bq:function(n,t){for(var i,s,h,u,e,c,r=null,o=t.Properties,l=o.length,f=0;f<l;++f)if(i=o[f],!$0.$0(i))if($0.$0(i.__type))s=i,this.$37S(n,s);else if(i.__type==="Reference"&&Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(n)&&!n.get_$2m9())h=i,r||(r=new Microsoft.Crm.Client.Core.Models.$6J(n),this.$1Nr[n.get_ViewModelId()]=r),r.$2Kq(h);else if(i.__type==="ActionProvider"){if(u=i,e=this.$1Bc[u.ProviderTypeName],$0.$0(e))throw Error.create(String.format("Could not create action provider of type '{0}'",u.ProviderTypeName));c=new e(n,u.InitializationParameters);n["set_"+i.Name](c)}},$8V:function(n){var i=this.$191[n],t,r;return i?(t=new i,t.set_Id(t.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(t)&&(this.$nF[t.get_Id()]=t,this.$w6[t.get_Id()]=this.$1no[n],Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(t)&&(r=t,$0.$0(this.$20A(n))||this.$20A(n)(r))),t):(Microsoft.Crm.Client.Core.Framework.$8.$1E("ViewModelFactory",1004,String.format("Can not create view model: '{0}' - Type not found",n)),null)},$6f:function(n,t,i,r){var u=this.$8V(n.TypeName);return $0.$0(u)||u.set_$AH(i),$0.$0(r)||u.set_Root(r),this.$3Bp(u,n,t),u},$1C:function(n,t){this.$191[n]=t},$AL:function(n,t,i,r){this.$191[n]=t;this.$1SC[n]=i;this.$1no[n]=r},$S:function(n,t){this.$191[n]=t},$2zo:function(n,t){this.$1Bc[n]=t},$1zi:function(n){return this.$1Bc[n]},$20A:function(n){var t=null;return n in this.$1SC&&(t=this.$1SC[n]),t},$12c:function(n){var t=null;return n in this.$w6&&(t=this.$w6[n]),t},$2pY:function(n,t){return"set_"+t in n},$37S:function(n,t){if(this.$2pY(n,t.Name)){var i=t.Value;Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$2p9(i)&&(i=Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$1Dw(n,i));n["set_"+t.Name](i)}else Microsoft.Crm.Client.Core.Framework.$8.$1E("ViewModelFactory",1004,String.format("Error setting property name: {0}, view model: name='{1}', type='{2}'",t.Name,n.get_Name(),Object.getType(n).getName()))},$3Al:function(n,t,i){var e=n,o,h,c,l,f,a;if(!$0.$0(t.ChildViewModels)){o={};h=t.ChildViewModels;for(c in h){var s={key:c,value:h[c]},r=null,u=s.value;s.key==="new_testopt"&&(u=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$92.$2Yn(u),t.ChildViewModels[s.key]=u);u.Name in e.get_childViewModels()?(r=o[u.Name],this.$3Bp(r,u,i,!e.get_$1Xq())):(Microsoft.Crm.Client.Core.Framework.$3.$9(u.PrimaryModelName)&&(u.PrimaryModelName=n.get_$1u()),r=this.$8V(u.TypeName),$0.$0(r)||(r.set_$AH(n.get_$AH()),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)?r.set_Root(n):r.set_Root(n.get_Root()),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(r)&&(l=r,l.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(n))),o[s.key]=r),f=null,Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()&&Microsoft.Crm.Client.Core.ViewModels.$77.isInstanceOfType(r)&&($0.$0(r.get_$AH())?$0.$0(r.get_Root())||(f=r.get_Root()):f=r.get_$AH(),$0.$0(f)||r.set_StartIndex(f.get_NextTabIndex())),this.$3Bp(r,u,i,!e.get_$1Xq()),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()&&Microsoft.Crm.Client.Core.ViewModels.$77.isInstanceOfType(r)&&!$0.$0(f)&&(a=r,f.set_NextTabIndex(f.get_NextTabIndex()+a.get_TabSpaceReserved())))}e.$nR(o)}}};Microsoft.Crm.Client.Core.ViewModels.$7n=function(){this.$$d_$2Iu=Function.createDelegate(this,this.$2Iu);Microsoft.Crm.Client.Core.ViewModels.$7n.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$7n.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("MenuItem",Microsoft.Crm.Client.Core.ViewModels.$7n)};Microsoft.Crm.Client.Core.ViewModels.$7n.prototype={$1g:null,$Z9:null,$Z7:null,get_ActionCommand:function(){return this.$1g},set_ActionCommand:function(n){return this.$1g!==n&&($0.$0(this.$1g)||(this.$1g.remove_$1qz(this.$$d_$2Iu),this.$1g.dispose(),this.$1g=null),this.$1g=n,$0.$0(this.$1g)||this.$1g.add_$1qz(this.$$d_$2Iu),this.$rd("ActionCommand","ActionCommandCanExecute")),n},$2Iu:function(){this.$7("ActionCommandCanExecute")},get_ActionCommandCanExecute:function(){return this.$1g.get_CanExecute()},set_ActionCommandCanExecute:function(n){return this.$1g.set_CanExecute(n),n},get_ImageType:function(){return this.$Z9},set_ImageType:function(n){return this.$Z9!==n&&(this.$Z9=n,this.$7("ImageType")),n},get_ImageName:function(){return this.$Z7},set_ImageName:function(n){return this.$Z7!==n&&(this.$Z7=n,this.$7("ImageName")),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);$0.$0(this.$1g)&&this.set_ActionCommand(new Microsoft.Crm.Client.Core.Framework.$Rc)},$Oh:function(){this.set_ActionCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel=function(){this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2vP=Function.createDelegate(this,this.$2vP);Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("ActivityItem",Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1uD=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1ER)&&(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1ER=new Microsoft.Crm.Client.Core.ViewModels.Converters.$Ih),Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1ER};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$389=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Q5)&&(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Q5=new Microsoft.Crm.Client.Core.ViewModels.Converters.$Ij),Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Q5};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1v7=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Ex)&&(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Ex=["DueDateTime","ScheduledStart","ScheduledEnd","IsToday","DueDate","DueMonth","DueTime","PastDue"]),Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Ex};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.prototype={$17O:null,$17N:null,$nc:null,$1Ft:null,$LJ:null,$Sm:null,$1gl:0,$18G:null,$Tw:null,$k7:null,$tY:null,$wJ:null,$N0:null,$2Un:function(){return!1},get_IsToday:function(){if(!$0.$0(this.get_$Jv())){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$PW,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$18h,n=Microsoft.Crm.Client.Core.Framework.$h.$Lk(new Date,t,1,i);return this.get_$Jv().getFullYear()===n.getFullYear()&&this.get_$Jv().getMonth()===n.getMonth()&&this.get_$Jv().getDate()===n.getDate()}return!1},get_DueDate:function(){if(!$0.$0(this.get_$Jv())){var n=["DateToString",Microsoft.Crm.Client.Core.Framework.$3C.toString(1)];return Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1uD().$Em(this.get_$Jv(),n)}return""},get_$Jv:function(){return this.$3C0()?this.$17O:this.$17N},$3C0:function(){switch(this.$Sm){case"appointment":return!0;case"task":case"phonecall":default:return!1}},get_DueMonth:function(){if(!$0.$0(this.get_$Jv())){var n=["Month",Microsoft.Crm.Client.Core.Framework.$3C.toString(1)];return Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1uD().$Em(this.get_$Jv(),n)}return""},get_DueYear:function(){return $0.$0(this.get_$Jv())?"":this.get_$Jv().getFullYear().toString()},get_DueTime:function(){return $0.$0(this.get_$Jv())?"":Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$389().$Em(this.get_$Jv(),1)},get_SentTime:function(){return this.$N0.getValue("value")===2||this.$N0.getValue("value")===3?$0.$0(this.$wJ)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_NotSent_Text"):this.$1we(this.$wJ,!0):!$0.$0(this.$k7)&&(this.$N0.getValue("value")===1||this.$N0.getValue("value")===6)?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_DelayEmail_Text"),Microsoft.Crm.Client.Core.ViewModels.$1c.getShortDateTimeFormat(this.$k7)):""},get_LastOpened:function(){return this.$N0.getValue("value")===2||this.$N0.getValue("value")===3?$0.$0(this.$tY)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_NotOpened_Text"):this.$1we(this.$tY,!1):""},get_PastDue:function(){if(!$0.$0(this.get_$Jv())){var n=new Date;if(n.setHours(23),n.setMinutes(59),n.setSeconds(59),this.get_$Jv()<=n)return!0}return!1},get_ScheduledStartTime:function(){return this.$17O},set_ScheduledStartTime:function(n){return Microsoft.Crm.Client.Core.Framework.$2X.$Nk(this.$17O,n)||(this.$17O=n,this.$re(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1v7())),n},get_ScheduledEndTime:function(){return this.$17N},set_ScheduledEndTime:function(n){return Microsoft.Crm.Client.Core.Framework.$2X.$Nk(this.$17N,n)||(this.$17N=n,this.$re(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1v7())),n},get_Subject:function(){return this.$nc},set_Subject:function(n){return this.$nc!==n&&(this.$nc=n,this.$7("Subject")),n},get_FirstProperty:function(){return this.$1Ft},set_FirstProperty:function(n){return this.$1Ft!==n&&Object.getType(n)===String&&(this.$1Ft=n,this.$7("FirstProperty")),n},get_ActivityState:function(){return this.$LJ},set_ActivityState:function(n){return this.$LJ=n,this.$7("Completed"),this.$7("CheckBoxEnabled"),n},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this);this.set_Enabled(this.$24y());this.$7("CheckBoxEnabled")},get_CheckBoxEnabled:function(){return $0.$0(this.$LJ)?!1:this.get_Enabled()&&(this.$LJ.$1s===0||this.$LJ.$1s===3)?!0:!1},get_Completed:function(){return $0.$0(this.$LJ)?!1:this.$LJ.$1s===1||this.$LJ.$1s===2},set_Completed:function(n){return $0.$0(this.$LJ)||(this.$1gl=this.$LJ.$1s,this.$LJ.$1s=1,this.$7("Completed"),this.$7("CheckBoxEnabled"),this.$3Bf(1)),n},get_StateRequestActionProvider:function(){return this.$18G},set_StateRequestActionProvider:function(n){return this.$18G=n,n},get_ActivityType:function(){return this.$Sm},set_ActivityType:function(n){return this.$Sm!==n&&(this.$Sm=n,this.$7("ActivityType")),n},get_LastOpenedTime:function(){return this.$tY},set_LastOpenedTime:function(n){return this.$tY!==n&&(this.$tY=n,this.$7("LastOpened")),n},get_IsEmailFollowed:function(){return this.$Tw},set_IsEmailFollowed:function(n){return this.$Tw=n,this.$7("IsEmailEngagementFeatureEnabled"),this.$7("FollowEmail"),this.$7("DelayEmail"),n},get_DelayedEmailSendTime:function(){return this.$k7},set_DelayedEmailSendTime:function(n){return this.$k7!==n&&(this.$k7=n),n},get_StatusCode:function(){return this.$N0},set_StatusCode:function(n){return this.$N0!==n&&(this.$N0=n),n},get_IsEmailEngagementFeatureEnabled:function(){return this.$Sm==="email"&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("EmailEngagement")},get_FollowEmail:function(){var n=!1;return $0.$1Y(this.$Tw)||this.$N0.getValue("value")!==4&&(n=this.$Tw.getValue("value")),n},get_DelayEmail:function(){var n=!1;return $0.$0(this.$k7)||this.$N0.getValue("value")!==1&&this.$N0.getValue("value")!==6||(n=!0),n},get_SentOn:function(){return this.$wJ},set_SentOn:function(n){return this.$wJ!==n&&(this.$wJ=n,this.$7("SentTime")),n},$2vP:function(){Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("ActivityItemViewModel_ActionFailureNotification")},$MZ:function(n){this.$LJ.$1s=this.$1gl;this.$7("CheckBoxEnabled");this.$7("Completed");Microsoft.Crm.Client.Core.ViewModels.$10.$wc(n.$F,3,"ActivityItemViewModel_ActionFailureNotification")},$3Bf:function(n){var t,i;Microsoft.Crm.Client.Core.Framework.$6.$4N||$0.$0(this.$18G)||(t={},t.statecode=n,t.entitylogicalname=this.$Sm.toLowerCase(),i=this.$18G.$B1(t),i.add_$by(this.$$d_$2vP),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i))},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He)},$He:function(){this.set_Enabled(this.$24y());this.get_Enabled()&&Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("ActivityItemViewModel_ActionFailureNotification");this.$7("CheckBoxEnabled")},$24y:function(){var n=this.$Sm?this.$Sm.toLowerCase():null;return Microsoft.Crm.Client.Core.ViewModels.$a.$G5(n)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$14N(this.$Sm,this.get_ModelContext(),2)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$1we:function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_Justnow_Text"),r=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_Hour_Text"),u=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_Hours_Text"),f=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_Today_Text"),e=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_Yesterday_Text"),o=t?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_Sent_Text"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_Lastopened_Text"),s=Microsoft.Crm.Client.Core.ViewModels.$1c.formatActivitiesSentOrOpenedAsReadableString(n,i,r,u,f,e);return String.format(o,s)}};Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("OfficeGraphDocumentItem",Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel.prototype={$1LV:null,$5i:null,$rb:null,$1QX:null,$1Lu:null,get_IconBackgroundClass:function(){return"document_Icon "+Microsoft.Crm.Client.Core.Framework.$6x.$20B(this.$rb)+"_BackgroundColor document_Icon_Container"},get_DocumentIconClass:function(){return"officeIcon "+Microsoft.Crm.Client.Core.Framework.$6x.$20B(this.$rb)+" fileIconBackgroundColor"},get_ModifiedTime:function(){return this.$1LV},set_ModifiedTime:function(n){return Microsoft.Crm.Client.Core.Framework.$2X.$Nk(this.$1LV,n)||(this.$1LV=n,this.$7("ModifiedTime")),n},get_Title:function(){return this.$5i},set_Title:function(n){return this.$5i!==n&&(this.$5i=n,this.$7("Title")),n},get_FileType:function(){return this.$rb},set_FileType:function(n){return this.$rb!==n&&(this.$rb=n,this.$7("FileType")),n},get_SiteTitle:function(){return this.$1QX},set_SiteTitle:function(n){return this.$1QX!==n&&(this.$1QX=n,this.$7("SiteTitle")),n},$Oh:function(){$0.$0(this.$1Lu)||(this.$1Lu.dispose(),this.$1Lu=null);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel=function(){this.$$d_$1M0=Function.createDelegate(this,this.$1M0);this.$$d_$2tA=Function.createDelegate(this,this.$2tA);this.$$d_$27G=Function.createDelegate(this,this.$27G);this.$$d_$1rR=Function.createDelegate(this,this.$1rR);this.$$d_$2Jh=Function.createDelegate(this,this.$2Jh);this.$$d_$2LJ=Function.createDelegate(this,this.$2LJ);this.$$d_$2KD=Function.createDelegate(this,this.$2KD);this.$$d_$1oq=Function.createDelegate(this,this.$1oq);Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel.initializeBase(this);this.$1IL=!0;this.$10K=!1};Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("AddAttachment",Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel)};Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel.prototype={$69:null,$1IL:!1,$10K:!1,$pg:null,$pi:null,$pm:null,$ph:null,get_Text:function(){return this.$69},set_Text:function(n){return this.$69=n,this.$7("Text"),n},get_HideAddAttachment:function(){return this.$1IL},set_HideAddAttachment:function(n){return this.$1IL=this.$10K?n:!0,this.$7("HideAddAttachment"),n},get_CanAddAttachment:function(){return this.$10K},set_CanAddAttachment:function(n){return this.$10K=n,this.$7("CanAddAttachment"),n},get_AddAttachmentCommand:function(){return this.$pg},set_AddAttachmentCommand:function(n){return this.$pg=n,n},get_AddImageCommand:function(){return this.$pi},set_AddImageCommand:function(n){return this.$pi=n,n},get_AddVideosCommand:function(){return this.$pm},set_AddVideosCommand:function(n){return this.$pm=n,n},get_AddAudioCommand:function(){return this.$ph},set_AddAudioCommand:function(n){return this.$ph=n,n},get_HideCamera:function(){return!(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL())},get_HideMicrophone:function(){return!(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$24B())},get_HideVideo:function(){return!(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$2nr())},get_$2et:function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())?"":Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$1dA()},get_PhotoSaveEnabled:function(){return!(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$1iJ())},get_CameraText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notes.Camera_Tooltip")},get_AudioText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notes.Audio_Tooltip")},get_VideoText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notes.Video_Tooltip")},get_$Rb:function(){return $0.$0(this.$2)?null:this.$2.$5Q(this)},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$pg=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1oq,9);this.$pi=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2KD,9);this.$pm=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2LJ,9);this.$ph=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Jh,9);$0.$0(this.$2)||this.$2.AddPropertyChangedListener("ChildViewModels",this.$$d_$1rR)},$1rR:function(){$0.$0(this.get_$Rb())||(this.get_$Rb().AddPropertyChangedListener("AddAttachmentMode",this.$$d_$27G),this.$27G(this,"AddAttachmentMode"))},$27G:function(n,t){if(t==="AddAttachmentMode"&&!$0.$0(this.get_$Rb()))switch(this.get_$Rb().$1V8){case 1:this.set_Text(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notes.ReplaceAttachment"));break;case 0:default:this.set_Text(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notes.AddAttachment"))}},$1oq:function(){var n,t;this.get_IsInteractionCentricEnabled()?(n=$get("attachmentFileInput"),n.click()):(t=this,this.getAttachmentFile().done(function(n){t.$1gz(n)}))},$2KD:function(){var n,t,i,r;!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()&&(n=new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions,t=this.get_$2et(),$0.$0(t)||(t==="DeviceDefault"?(n.targetWidth="-1",n.targetHeight="-1"):(i=t.indexOf("X")===-1?t.split("x"):t.split("X"),n.targetWidth=i[0],n.targetHeight=i[1])),n.destinationType=1,n.pictureSourceType=1,n.maxUploadFileSize=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ(),n.allowEdit=!0,n.quality=50,n.saveToPhotoAlbum=this.get_PhotoSaveEnabled(),r=this,this.getCameraPicture(n).done(function(n){r.$1gz(n)}))},$2LJ:function(){var n,t;!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()&&(n=new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions,n.maxUploadFileSize=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ(),t=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().$jU(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Nz.captureVideoFromDevice(t.$$d_$2tA,t.$$d_$1M0,"CaptureVideo",n)}))},$2Jh:function(){var n,t;!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$24B()&&(n=new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions,n.maxUploadFileSize=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ(),t=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().$jU(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Nz.captureAudioFromDevice(t.$$d_$2tA,t.$$d_$1M0,"CaptureAudio",n)}))},submitFile:function(n,t,i,r){var u;if(!this.isFileSizeTooLarge(r)){if(Microsoft.Crm.Client.Core.Framework.$3.$9(n)||r<=0||Microsoft.Crm.Client.Core.Framework.$3.$9(t)){this.$15a(0);return}if(Microsoft.Crm.Client.Core.ViewModels.$5w.$1J8(n)){this.$15a(4);return}Microsoft.Crm.Client.Core.Framework.$3.$9(i)&&(i="application/octet-stream");u=$46.$Lp(t.toString());this.get_ModelContext().SetValue("filename",n);this.get_ModelContext().SetValue("documentbody",u);this.get_ModelContext().SetValue("isdocument",new Microsoft.Crm.Client.Core.ViewModels.$Bm("1",""));this.get_ModelContext().SetValue("mimetype",i)}},isFileSizeTooLarge:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ();return n>t?(this.$1QL(),!0):!1},$38V:function(n){var i=!0,t=n[Microsoft.Crm.Client.Core.Framework.ErrorConverter.$11f],r,u;try{if(t.startsWith("MultimediaDispatcherErrorDomain"))r=t.substr(31);else if(t.startsWith("ImagePickerControllerError"))r=t.substr(26);else throw Error.create("Unknown exception type encountered");u=Number.parseInvariant(r);switch(u){case 1:i=!1;break;case 5:i=!1;this.$1QL()}}catch(f){}i&&Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094008)},$1gz:function(n){this.get_ModelContext().SetValue("filename",n.get_$H7());this.get_ModelContext().SetValue("documentbody",n.get_$H6());this.get_ModelContext().SetValue("isdocument",new Microsoft.Crm.Client.Core.ViewModels.$Bm("1",""));this.get_ModelContext().SetValue("mimetype",n.get_$KR())},$2tA:function(n){if($0.$0(n)){this.$1M0(3,"Output from the plugin is empty.");return}this.$1gz(n)},$1J8:function(n){return $0.$0(n)?!1:Microsoft.Crm.Client.Core.ViewModels.$5w.$1J8(n.get_$H7())},$15a:function(n){n!==5&&this.$2rQ(n)},$1M0:function(n,t){n!==1&&this.$38N(n,t)},$2rQ:function(n){switch(n){case 1:Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094009);return;case 4:Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147205623);return;case 2:this.$1QL();return;case 3:Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094010);return;case 0:default:Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094009);return}},$38N:function(n,t){this.$2rA(t);switch(n){case 2:this.$1QL();return;case 3:Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094010);return;case 4:Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094016));return;case 5:Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094017));return;case 6:Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094018));return;case 7:Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094019));return;case 8:Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094020));return;default:return}},$2rA:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MQ("AddAttachmentViewModel.CordovaPluginError",n,"",this.$D);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)},$1QL:function(){var i=Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(-2147205624),n=new Array(0),t;n[0]=(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ()/1024).toString();t=Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147205624,n);Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(i,t,2)},getAttachmentFile:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$1i,String),t=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$a5.get_$26a(),i,r,u,f;return t.get_$2ry()?(i=this,r=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$a5.$2w9(!1,["*"],6,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ(),function(t){i.$29t(t,n)},function(t){r.$15a(t);n.reject(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$R9.$9q.toString(t))})):t.get_$1wp()&&(u=this,f=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$a5.$21R(!1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ(),function(t){u.$29t([t],n)},function(t){window.setTimeout(function(){f.$38V(t)},1);n.reject(t.toString())})),n},$29t:function(n,t){if($0.$0(n)||n.length!==1||$0.$0(n[0])){this.$15a(0);t.reject(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$R9.$9q.toString(0));return}var i=n[0];if(this.$1J8(i)){this.$15a(4);t.reject(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$R9.$9q.toString(4));return}t.resolve(i)},$2yN:function(n,t){if($0.$0(n)){this.$1M0(3,"");t.reject(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.CordovaMediaDispatcher.$Bq.toString(4));return}t.resolve(n)},getCameraPicture:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$1i,String),i;return!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()?(i=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().$jU(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Nz.takePictureOnDevice(function(n){i.$2yN(n,t)},function(n,r){i.$1M0(n,r);t.reject(Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094016))},"TakePicture",n)})):t.reject(Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094016)),t},$Oh:function(){this.$pg.dispose();this.$pg=null;this.$pi.dispose();this.$pi=null;this.$pm.dispose();this.$pm=null;this.$ph.dispose();this.$ph=null;$0.$0(this.$2)||this.$2.RemovePropertyChangedListener("ChildViewModels",this.$$d_$1rR);$0.$0(this.get_$Rb())||this.get_$Rb().RemovePropertyChangedListener("AddAttachmentMode",this.$$d_$27G);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Q=function(){};Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ=function(n,t,i){if($0.$0(i)||$0.$0(i.$JL)||Object.getType(i.$JL)!==Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P)Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(n),Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(n),2,t);else{var r=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Oa(i.$JL),u=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Os(i.$JL);Microsoft.Crm.Client.Core.ViewModels.$Q.$1QV(Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(n),Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(n),2,t,null,null,null,!1,r,u)}};Microsoft.Crm.Client.Core.ViewModels.$Q.$38R=function(n,t,i,r,u,f,e,o){Microsoft.Crm.Client.Core.ViewModels.$Q.$1QV(n,t,2,i,r,u,f,!1,e,o)};Microsoft.Crm.Client.Core.ViewModels.$Q.$1r2=function(n){return!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$F)&&n.$F!=="Error_Message_Generic_Mobile_Client"&&(!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$JR)||Microsoft.Crm.Client.Core.Framework.Common.$2.$13O("L_OK_Text"))&&(!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$NL)||Microsoft.Crm.Client.Core.Framework.Common.$2.$13O("L_More_Information_Text"))};Microsoft.Crm.Client.Core.ViewModels.$Q.$1lf=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel,r;i.$DZ=1;i.$AG=2;i.set_IsHtmlEncodingRequired(!0);i.$DE=n.$4O;i.set_Message(n.$F);i.$FB=Microsoft.Crm.Client.Core.Framework.$3.$9(n.$JR)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text"):n.$JR;i.$LY=Microsoft.Crm.Client.Core.Framework.$3.$9(n.$NL)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_More_Information_Text"):n.$NL;r=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;r.$DZ=0;r.$AG=2;r.set_IsHtmlEncodingRequired(!0);r.$DE=n.$4O;r.set_Message(n.$De());Microsoft.Crm.Client.Core.Framework.$3.$9(n.$JR)||(r.$FB=n.$JR);i.$C2=t;i.$Gm=function(){r.Show()};r.$C2=function(){Microsoft.Crm.Client.Core.ViewModels.$Q.$1lf(n,t)};i.Show()};Microsoft.Crm.Client.Core.ViewModels.$Q.$38T=function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(n.$m),r=Microsoft.Crm.Client.Core.Framework.Common.$2.$sJ(n),u=n.$JL,f,e;$0.$0(u)||Object.getType(u)!==Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P?Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(i,r,2,t):(f=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Oa(n.$JL),e=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Os(n.$JL),Microsoft.Crm.Client.Core.ViewModels.$Q.$1QV(i,r,2,t,null,null,null,!1,f,e))};Microsoft.Crm.Client.Core.ViewModels.$Q.$17u=function(n,t,i,r,u,f,e,o){Microsoft.Crm.Client.Core.ViewModels.$Q.$2FQ(n,t,i,r,u,f,e,o,!0)};Microsoft.Crm.Client.Core.ViewModels.$Q.$1QV=function(n,t,i,r,u,f,e,o,s,h){Microsoft.Crm.Client.Core.ViewModels.$Q.$2FQ(n,t,i,r,u,f,e,o,!0,s,h)};Microsoft.Crm.Client.Core.ViewModels.$Q.$38P=function(n,t,i,r,u,f){Microsoft.Crm.Client.Core.ViewModels.$Q.$2FQ(n,t,i,r,u,null,null,f,!1)};Microsoft.Crm.Client.Core.ViewModels.$Q.$2FQ=function(n,t,i,r,u,f,e,o,s,h,c){var l=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;l.$DZ=$0.$0(f)?0:1;l.$DE=n;l.set_IsHtmlEncodingRequired($0.$0(s)?!0:s);t=Microsoft.Crm.Client.Core.ViewModels.$Q.$1pC(i,l,t,h,c);l.set_Message(t);l.$AG=i;Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(l.$FB=u);Microsoft.Crm.Client.Core.Framework.$3.$9(e)||(l.$LY=e);l.$C2=r;l.$Gm=f;$0.$0(o)||l.set_IsAnimationAllowed(o);l.Show()};Microsoft.Crm.Client.Core.ViewModels.$Q.$1pC=function(n,t,i,r,u){return n===2&&(t.$1VP(Microsoft.Crm.Client.Core.ViewModels.$5f.$2T3()),t.$1VP(Microsoft.Crm.Client.Core.ViewModels.$5f.$2QP(r)),t.$1VP(Microsoft.Crm.Client.Core.ViewModels.$5f.$2QQ(u)),t.get_$39R()>0&&(i=Microsoft.Crm.Client.Core.ViewModels.$5f.$2xw(i))),i};Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel.prototype={$11J:!1,$11Q:!1,get_AppCrashDetectedHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppCrashDetected_Header")},get_DisableAllMashupCheckBoxText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppCrashDetected_DisableAllMashupsCheckbox")},get_DoNotShowMessageAgainCheckBoxText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppCrashDetected_DontShowMessageAgainCheckbox")},get_DoNotShowMessageAgain:function(){return this.$11Q},set_DoNotShowMessageAgain:function(n){return n!==this.$11Q&&(this.$11Q=n,this.$7("DoNotShowMessageAgain")),n},get_DisableAllMashups:function(){return this.$11J},set_DisableAllMashups:function(n){return n!==this.$11J&&(this.$11J=n,this.$7("DisableAllMashups")),n}};Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel=function(){this.$$d_$32C=Function.createDelegate(this,this.$32C);this.$$d_$2Bv=Function.createDelegate(this,this.$2Bv);this.$$d_$2v8=Function.createDelegate(this,this.$2v8);this.$$d_$2uY=Function.createDelegate(this,this.$2uY);this.$$d_$1MN=Function.createDelegate(this,this.$1MN);this.$$d_$1MO=Function.createDelegate(this,this.$1MO);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$1gQ=Function.createDelegate(this,this.$1gQ);this.$$d_$1rR=Function.createDelegate(this,this.$1rR);this.$$d_$1M6=Function.createDelegate(this,this.$1M6);this.$$d_$38M=Function.createDelegate(this,this.$38M);this.$$d_$2vs=Function.createDelegate(this,this.$2vs);this.$$d_$30V=Function.createDelegate(this,this.$30V);this.$eY=new Microsoft.Crm.Client.Core.Framework.Common.$NA;Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.initializeBase(this);this.$5i="";this.$13Z="";this.$15A="";this.$ZM=!1;this.$10O=!1;this.$ZT=!1;this.$1IN=!0;this.$13x=!1;this.$14T=!1};Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("AttachmentItem",Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.prototype={$10O:!1,$11R:null,$13U:!1,$1IN:!1,$13x:!1,$ZM:!1,$14M:!1,$ZT:!1,$up:null,$we:null,$BD:null,$n5:null,$177:null,$17J:null,$5i:null,$13Z:null,$15A:null,$14T:!1,$1eE:!1,get_CanDeleteAttachment:function(){return this.$10O},set_CanDeleteAttachment:function(n){return this.$10O=n,this.$7("CanDeleteAttachment"),n},get_IsFollowed:function(){return this.$1eE},set_IsFollowed:function(n){return this.$1eE=n,this.$7("IsFollowed"),n},get_HideAttachmentItem:function(){return this.$13U},set_HideAttachmentItem:function(n){return this.$13U=n,this.$7("HideAttachmentItem"),n},get_HideDeleteButton:function(){return this.$1IN},set_HideDeleteButton:function(n){return this.$1IN=this.$10O?n:!0,this.$7("HideDeleteButton"),n},get_IsDownloadingAttachment:function(){return this.$ZM},set_IsDownloadingAttachment:function(n){return this.$ZM=n,this.$7("IsDownloadingAttachment"),n},get_IsOpeningAttachment:function(){return this.$14M},set_IsOpeningAttachment:function(n){return this.$14M=n,this.$7("IsOpeningAttachment"),n},get_OpenAttachmentCommand:function(){return this.$up},set_OpenAttachmentCommand:function(n){return $0.$0(this.$up)||this.$up.dispose(),this.$up=n,n},get_ShowAttachmentCommand:function(){return this.$we},set_ShowAttachmentCommand:function(n){return $0.$0(this.$we)||this.$we.dispose(),this.$we=n,n},get_RemoveAttachmentCommand:function(){return this.$n5},set_RemoveAttachmentCommand:function(n){return $0.$0(this.$n5)||this.$n5.dispose(),this.$n5=n,n},get_RetrieveAttachmentContentsActionProvider:function(){return this.$177},set_RetrieveAttachmentContentsActionProvider:function(n){return this.$177=n,n},get_Title:function(){return this.$3AA(this.$5i)},set_Title:function(n){return this.$5i=n,this.$7("Title"),n},get_Image:function(){return this.$13Z},set_Image:function(n){return this.$13Z!==n&&(this.$13Z=n,this.$7("Image")),n},get_MimeType:function(){return this.$15A},set_MimeType:function(n){return this.$15A!==n&&(this.$15A=n,this.$7("MimeType")),n},get_$Rb:function(){return $0.$0(this.$2)?null:this.$2.$5Q(this)},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$n5=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$30V,9);this.$up=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2vs,9);this.$we=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$38M,9);this.AddPropertyChangedListener("IsDownloadingAttachment",this.$$d_$1M6);this.$1M6(this,"IsDownloadingAttachment");$0.$0(this.$2)||this.$eY.$1P4(this.$2,"ChildViewModels",this.$$d_$1rR)},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this);$0.$0(this.get_ModelContext())||(this.get_ModelContext().remove_$7L(this.$$d_$1gQ),this.get_ModelContext().add_$7L(this.$$d_$1gQ),this.$1gQ(this,null),$0.$0(this.get_ModelContext().$I)||(this.$14T=this.get_ModelContext().$I.hasValue("filename")));this.$11R=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("DownloadAttachment:"+this.get_Title());this.$17J=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("SaveAttachment:"+this.get_Title())},$1gQ:function(n,t){var i,r;this.$ZM||(Microsoft.Crm.Client.Core.Framework.$3.$9(t)||(this.$13x=!0,this.$BD=null),$0.$0(this.get_ModelContext())||(i=this.get_ModelContext().$I,$0.$0(i)||i.$a.LogicalName!=="activitymimeattachment"?(r=this.get_ModelContext().GetValue("filename"),this.set_HideAttachmentItem($0.$0(r))):this.set_HideAttachmentItem(!i.hasValue("documentbody")),this.set_Title(this.get_ModelContext().GetValue("filename")),$0.$0(this.get_ModelContext().GetValue("isfollowed"))||this.set_IsFollowed(this.get_ModelContext().GetValue("isfollowed").getValue("value")),Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_ModelContext().GetValue("mimetype"))||Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_ModelContext().GetValue("documentbody"))||(this.set_MimeType(this.get_ModelContext().GetValue("mimetype")),this.set_Image(this.get_ModelContext().GetValue("documentbody")))))},$1rR:function(){this.$eY.$1P4(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),"IsServerAvailable",this.$$d_$He);this.$He(this,"IsServerAvailable")},$He:function(){Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$2.$1W)||(this.$2oY()&&this.$n5.execute(),this.$14T||this.set_HideAttachmentItem(!0));this.get_$Rb().get_AddAttachmentViewModel().set_HideAddAttachment(!Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$2.$1W))},$30V:function(){this.$ZM||(this.get_ModelContext().SetValue("filename",null),this.get_ModelContext().SetValue("isdocument",new Microsoft.Crm.Client.Core.ViewModels.$Bm("0","")),this.get_ModelContext().SetValue("mimetype",""),this.get_ModelContext().SetValue("documentbody",""),this.$13x=!0,this.$BD=null)},$2vs:function(){this.$ZT=!1;this.$1vv()},$1vv:function(){if(this.$ZT||!this.$ZM&&!this.$14M&&Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$2.$1W)&&Microsoft.Crm.Client.Core.ViewModels.$a.$G5("annotation")&&!this.get_IsInteractionCentricEnabled()){if(Microsoft.Crm.Client.Core.ViewModels.$5w.$1J8(this.get_ModelContext().GetValue("filename"))){Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147205623);return}if(!$0.$0(this.$BD)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$BD.get_$ju())){this.$1hr();return}if(this.$2QK()){this.$1hr();return}if(this.$ZT||this.set_IsDownloadingAttachment(!0),this.$11R.start(),this.get_ModelContext().$I.hasValue("documentbody"))this.$2Bv(this.get_ModelContext());else{var n=this.$177.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}}},$38M:function(){this.$ZT=!0;this.$1vv()},$2Bv:function(n){this.$BD=new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$1i;this.$BD.set_$H6(n.GetValue("documentbody"));this.$BD.set_$KR(n.GetValue("mimetype"));this.$BD.set_$H7(this.get_ModelContext().GetValue("filename"));this.$BD.set_$wf(this.get_ModelContext().GetValue("filesize"+Microsoft.Crm.Client.Core.Framework.$U.$6n));this.$ZT&&(this.set_Image(n.GetValue("documentbody")),this.set_MimeType(n.GetValue("mimetype")));this.$11R.stop();this.$17J.start();this.$ZT||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$BD.get_$H7())||Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$eM.$17K(this.$BD,this.$$d_$1MO,this.$$d_$1MN)},$32C:function(n){this.set_IsDownloadingAttachment(!1);this.$11R.stop();Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(n.$m,null,n)},$1MO:function(n){var t=this;window.setTimeout(function(){t.$2v9(n)},1)},$2v9:function(n){(this.set_IsDownloadingAttachment(!1),this.$17J.stop(),$0.$0(this.$BD))||(this.$BD.set_$ju(n),this.$2QM(),this.$1hr())},$2QK:function(){return!1},$2QM:function(){!this.$13x},$1hr:function(){this.$14M||$0.$0(this.$BD)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$BD.get_$ju())||(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$15k(this.$BD.get_$ju(),this.$BD.get_$H7(),this.$BD.get_$KR(),this.$$d_$2uY),this.$ZT&&(this.set_Image(this.$BD.get_$H6()),this.set_MimeType(this.$BD.get_$KR())),this.set_IsOpeningAttachment(!0))},$1MN:function(){window.setTimeout(this.$$d_$2v8,1)},$2v8:function(){this.set_IsDownloadingAttachment(!1);this.$17J.stop();Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094007)},$2uY:function(n){if(this.set_IsOpeningAttachment(!1),n){var t=-2147094004;switch(n){case 1:t=-2147094004;break;case 2:t=-2147094005}Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(t)}},$3AA:function(n){var r=75,t="...",i;if(Microsoft.Crm.Client.Core.Framework.$3.$12(n)||n.length<=r)return n;if(i=n.lastIndexOf("."),i>0){var u=" "+n.substr(i),f=u.length,e=n.substring(0,i),o=e.substring(0,r-f-t.length);return o+t+u}return n.substring(0,r-t.length)+t},$1M6:function(n,t){t==="IsDownloadingAttachment"&&this.set_HideDeleteButton(this.$ZM)},$2oY:function(){return $0.$0(this.get_ModelContext())||$0.$0(this.get_ModelContext().$I)?!1:!this.$14T&&this.get_ModelContext().get_$1Wp().contains("filename")&&!$0.$0(this.get_ModelContext().GetValue("filename"))?!0:!1},$Oh:function(){this.$177=null;this.set_RemoveAttachmentCommand(null);this.set_OpenAttachmentCommand(null);this.set_ShowAttachmentCommand(null);this.$eY.$5E();Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel=function(){this.$$d_$28h=Function.createDelegate(this,this.$28h);this.$$d_$1M6=Function.createDelegate(this,this.$1M6);this.$$d_$27s=Function.createDelegate(this,this.$27s);Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("AttachmentsControl",Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel)};Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.prototype={$1V8:0,$5i:null,set_$2Jd:function(n){return this.$1V8=n,this.$7("AddAttachmentMode"),n},get_AttachmentItemViewModel:function(){return!$0.$0(this.$H)&&"AttachmentItemViewModel"in this.$H?this.$H.AttachmentItemViewModel:null},get_AddAttachmentViewModel:function(){return!$0.$0(this.$H)&&"AddAttachmentViewModel"in this.$H?this.$H.AddAttachmentViewModel:null},get_Title:function(){return this.$5i},set_Title:function(n){return this.$5i=n,this.$7("Title"),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);$0.$0(this.get_AttachmentItemViewModel())||(this.get_AttachmentItemViewModel().AddPropertyChangedListener("HideAttachmentItem",this.$$d_$27s),this.get_AttachmentItemViewModel().AddPropertyChangedListener("IsDownloadingAttachment",this.$$d_$1M6),this.get_AttachmentItemViewModel().AddPropertyChangedListener("Title",this.$$d_$28h),this.$27s(this,"HideAttachmentItem"),this.$1M6(this,"IsDownloadingAttachment"),this.$28h(this,"Title"))},$27s:function(n,t){$0.$0(this.get_AttachmentItemViewModel())||t!=="HideAttachmentItem"||(this.set_$2Jd(this.get_AttachmentItemViewModel().$13U?0:1),this.set_Enabled(!this.get_AttachmentItemViewModel().$13U))},$1M6:function(n,t){t!=="IsDownloadingAttachment"||$0.$0(this.get_AttachmentItemViewModel())||$0.$0(this.get_AddAttachmentViewModel())||this.get_AddAttachmentViewModel().set_HideAddAttachment(this.get_AttachmentItemViewModel().$ZM)},$28h:function(n,t){t==="Title"&&this.set_Title(this.get_AttachmentItemViewModel().get_Title())},$Oh:function(){$0.$0(this.$2)||(this.$2.RemovePropertyChangedListener("HideAttachmentItem",this.$$d_$27s),this.$2.RemovePropertyChangedListener("IsDownloadingAttachment",this.$$d_$1M6),this.$2.RemovePropertyChangedListener("Title",this.$$d_$28h));Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Bh=function(){Microsoft.Crm.Client.Core.ViewModels.$Bh.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Bh.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bh.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Application_Framework_Chart_ChartViewModel",Microsoft.Crm.Client.Core.ViewModels.$Bh)};Microsoft.Crm.Client.Core.ViewModels.$Bh.prototype={$5i:null,$Im:null,$xj:null,$19E:null,$Ho:null,$1g:null,$Jh:null,$Cv:null,$Hn:null,$H0:0,$1P9:null,$hX:null,$zn:!1,$1JZ:!1,$Bs:null,$1k:!1,$QW:!1,$1QF:!1,refreshCommand:null,$QF:null,get_ChartConfigObject:function(){return this.$QF},get_IsFirstChart:function(){return this.$1JZ},set_IsFirstChart:function(n){return this.$1JZ!==n&&(this.$1JZ=n,this.$7("IsFirstChart")),n},get_Title:function(){return this.$5i},set_Title:function(n){if(n&&Object.getType(n)===String){var t=n;n=Sys.Serialization.JavaScriptSerializer.deserialize(t)}return this.$5i!==n&&(this.$5i=n,this.$7("Title")),n},get_Legend:function(){return this.$Im},set_Legend:function(n){if(n&&Object.getType(n)===String){var t=n;n=Sys.Serialization.JavaScriptSerializer.deserialize(t)}return this.$Im!==n&&(this.$Im=n,this.$7("Legend")),n},get_XAxes:function(){return this.$xj},set_XAxes:function(n){if(n&&Object.getType(n)===String){var t=n;n=Sys.Serialization.JavaScriptSerializer.deserialize(t)}return this.$xj!==n&&(this.$xj=n,this.$7("XAxes")),n},get_YAxes:function(){return this.$19E},set_YAxes:function(n){if(n&&Object.getType(n)===String){var t=n;n=Sys.Serialization.JavaScriptSerializer.deserialize(t)}return this.$19E!==n&&(this.$19E=n,this.$7("YAxes")),n},get_SeriesList:function(){return this.$Ho},set_SeriesList:function(n){if(n&&Object.getType(n)===String){var t=n;n=Sys.Serialization.JavaScriptSerializer.deserialize(t)}return this.$Ho!==n&&(this.$Ho=n,this.$7("SeriesList")),n},get_SelectedHighchartPoint:function(){return this.$Hn},set_SelectedHighchartPoint:function(n){if(!$0.$0(n)){var t=$.extend(!1,{},n);t.series=$.extend(!1,{},n.series);n=t}return this.areSeriesPointsEqual(this.$Hn,n)||(this.$Hn=n,this.$7("SelectedHighchartPoint")),n},get_AllowPointSelect:function(){return this.$zn},set_AllowPointSelect:function(n){return this.$zn!==n&&(this.$zn=n,this.$7("AllowPointSelect")),n},get_ActionCommand:function(){return this.$1g},set_ActionCommand:function(n){return this.$1g!==n&&($0.$0(this.$1g)||(this.$1g.dispose(),this.$1g=null),this.$1g=n,this.$7("ActionCommand")),n},get_ChartSeriesClickCommand:function(){return this.$Jh},set_ChartSeriesClickCommand:function(n){return this.$Jh!==n&&(this.$Jh=n,$0.$0(this.$Jh)||$0.$0(this.$QW)||this.$Jh.set_CanExecute(this.$QW),this.$7("ChartSeriesClickCommand")),n},get_Colors:function(){return this.$Cv},set_Colors:function(n){return this.$Cv!==n&&(this.$Cv=n,this.$7("Colors")),n},get_DisplayMode:function(){return this.$H0},set_DisplayMode:function(n){return this.$H0!==n&&(this.$H0=n,this.$7("DisplayMode")),n},get_SavedQueryVisualizationId:function(){return this.$1P9},set_SavedQueryVisualizationId:function(n){return this.$1P9!==n&&(this.$1P9=n,this.$7("SavedQueryVisualizationId")),n},get_SavedQueryId:function(){return this.$hX},set_SavedQueryId:function(n){return this.$hX!==n&&(this.$hX=n,this.$7("SavedQueryId")),n},get_ErrorInformation:function(){return this.$Bs},set_ErrorInformation:function(n){return this.$Bs!==n&&(this.$Bs=n,this.$7("ErrorInformation")),n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k!==n&&(this.$1k=n,this.$7("IsLoading")),n},get_EnableDrilldown:function(){return this.$QW},set_EnableDrilldown:function(n){return this.$QW!==n&&(this.$QW=n,$0.$0(this.$Jh)||this.$Jh.set_CanExecute(this.$QW),this.$7("EnableDrilldown")),n},get_ShowData:function(){return this.$1QF},set_ShowData:function(n){return this.$1QF=n,this.$7("ShowData"),n},get_$f:function(){return!1},$1B9:null,get_$1i6:function(){return"ChartPane"},get_$1i4:function(){return this.$D},areSeriesPointsEqual:function(n,t){if($0.$0(n)||$0.$0(t))return!1;var i=!$0.$0(n.series),r=!$0.$0(t.series);if(i&&r){if(n.series.name!==t.series.name)return!1}else if(i||r)return!1;return n.x===t.x&&n.y===t.y&&n.name===t.name},$2Z:function(){this.$1a||Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this)},$1aQ:function(){var i,t;this.$1us();try{this.$QF=Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$1aQ(this);i=this;this.$QF.chart.events.load=function(){i.set_IsLoading(!1)}}catch(n){if(Microsoft.Crm.Client.Core.Framework.$50.$14A(n))this.set_DisplayMode(1),this.set_ErrorInformation(new Microsoft.Crm.Client.Core.Framework.$L4),t=Microsoft.Crm.Client.Core.Framework.$4d.$1GB(Microsoft.Crm.Client.Core.Framework.$50,n,"ChartError"),this.$Bs.$YM=t.get_$nn(),this.$Bs.$YK=t.get_$11E();else throw n;}this.$7("ChartConfigObject")},executeSeriesClickCommand:function(n){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()&&!$0.$0(this.$Jh)&&this.$Jh.get_CanExecute()&&(this.$Jh.$Hn=n,this.$Jh.execute())},$Oh:function(){this.set_ActionCommand(null);this.set_ChartSeriesClickCommand(null);this.$1us();Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$1us:function(){this.$QF&&(this.$QF.HighchartSeriesPointClicked=null,this.$QF.HighchartSeriesPointSelected=null,this.$QF.HighchartSeriesPointUnselected=null,this.$QF.chart=null,this.$QF=null)}};Microsoft.Crm.Client.Core.ViewModels.$Bi=function(){Microsoft.Crm.Client.Core.ViewModels.$Bi.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bi.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("CheckBox",Microsoft.Crm.Client.Core.ViewModels.$Bi)};Microsoft.Crm.Client.Core.ViewModels.$Bi.prototype={$IP:!1,get_Value:function(){return this.$IP},set_Value:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$IP!==t&&(this.$IP=t,this.$7("Value")),n},$IE:!0,get_AllowEdit:function(){return this.$IE},set_AllowEdit:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$IE!==t&&(this.$IE=t,this.$7("AllowEdit")),n}};Microsoft.Crm.Client.Core.ViewModels.$Bm=function(n,t){this.get_ValueString=this.get_$cW;this.set_ValueString=this.set_$cW;this.get_Label=this.get_$F6;this.set_Label=this.set_$F6;this.$1s=n;this.$1G=t};Microsoft.Crm.Client.Core.ViewModels.$Bm.prototype={$1s:null,$1G:null,get_$cW:function(){return this.$1s},set_$cW:function(n){return this.$1s=n,n},get_$F6:function(){return this.$1G},set_$F6:function(n){return this.$1G=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Bn=function(){this.$1fB=new Array(0);this.$HP=new Array(0);this.$F4=new Array(0);Microsoft.Crm.Client.Core.ViewModels.$Bn.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bn.prototype={get_ItemsList:function(){return this.$1Rp(),this.$1fB},set_ItemsList:function(n){return this.$1fB=n,this.$7("ItemsList"),n},get_ItemLabels:function(){return this.$HP},set_ItemLabels:function(n){return this.$HP=n,this.$11I=!0,n},get_ItemValues:function(){return this.$F4},set_ItemValues:function(n){return this.$F4=n,this.$11I=!0,n},$11I:!1,$1Rp:function(){$0.$0(this.$F4)||$0.$0(this.$HP)||this.$F4.length!==this.$HP.length||!this.$11I||this.set_ItemsList(this.$2Z0());this.$11I=!1},$2Z0:function(){for(var t=new Array(this.$HP.length),n=0;n<this.$HP.length;n++)t[n]=new Microsoft.Crm.Client.Core.ViewModels.$Bm(this.$F4[n],this.$HP[n]);return t},$4i:"",get_SelectedItem:function(){return this.$4i},set_SelectedItem:function(n){return this.$4i!==n&&(this.$4i=n,this.$7("SelectedItem")),n},$dS:!1,get_ShouldDisableDropdown:function(){return this.$dS},set_ShouldDisableDropdown:function(n){return this.$dS=n,n},$23S:function(n){this.$4i=n},$IE:!0,get_AllowEdit:function(){return this.$IE},set_AllowEdit:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$IE!==t&&(this.$IE=t,this.$7("AllowEdit")),n},SetSelectedItemWithoutFirePropertyChange:function(n){this.$4i=n},$P4:!1,set_$290:function(n){return this.$P4!==n&&(this.$P4=n,this.$7("OptionSetLoaded")),n},$1G0:!1,get_FocusComboBox:function(){return this.$1G0},set_FocusComboBox:function(n){return this.$1G0!==n&&(this.$1G0=n),n},fetchScreenReadableText:function(n,t,i,r){return t?r?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ComboBox_ScreenReader_ParseData_Label"),i,n,t):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ComboBox_ScreenReader_ParseData_Label"),i,n,t):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ComboBox_ScreenReader_Label_NoRecord"))},comboBoxScreenReaderText:function(n,t,i){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ComboBox_ScreenReader_Label"),t,n,i)},comboBoxSelectedScreenReaderText:function(n,t){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ComboBox_ScreenReader_ParseDataSelected_Label"),t,n)}};Microsoft.Crm.Client.Core.ViewModels.$24=function(){this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2ui=Function.createDelegate(this,this.$2ui);Microsoft.Crm.Client.Core.ViewModels.$24.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$24.initializeBase(this);this.AddPropertyChangedListener("PrimaryModelName",this.$$d_$2ui);this.$Ee={}};Microsoft.Crm.Client.Core.ViewModels.$24.prototype={$6Y:null,$T:null,$M:null,$Gi:!1,$Cw:null,$15h:!1,$15v:0,$15w:0,$Ee:null,$1ED:null,get_Command:function(){return this.$6Y},set_Command:function(n){return this.$6Y=n,this.$1Rl(),n},get_TargetViewModel:function(){return this.$T?this.$T:this},set_TargetViewModel:function(n){return this.$T!==n&&(this.$T=n,this.$1Rl()),n},get_Parameters:function(){return this.$M},set_Parameters:function(n){return this.$M=n,this.$1Rl(),n},get_IsSitemapButton:function(){return!!this.$2&&this.$2.$1W==="sitemap"},get_IsGlobalMenuButton:function(){return!!this.$2&&this.$2.$1W==="TaskBasedFlowGlobalMenu"},get_AvailableOffline:function(){return this.$Gi},set_AvailableOffline:function(n){return this.$Gi=n,n},$2Un:function(){return!1},get_CommandManager:function(){return this.$Cw},set_CommandManager:function(n){return this.$Cw=n,n},get_PageX:function(){return this.$15v},set_PageX:function(n){return this.$15v=n,this.$7("PageX"),n},get_PageY:function(){return this.$15w},set_PageY:function(n){return this.$15w=n,this.$7("PageY"),n},get_TestabilityAttributes:function(){return this.$Ee},set_TestabilityAttributes:function(n){return n!==this.$Ee&&(this.$Ee=n,this.$7("TestabilityAttributes")),n},$4O:null,get_Title:function(){return this.$4O},set_Title:function(n){return this.$4O=n,n},$rT:function(n){var t,i,r;if(!$0.$0(this.$1g)){if(n){this.set_ActionCommandCanExecute(!1);return}if(Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&!$0.$0(this.$M.HideOnPhone)){this.set_ActionCommandCanExecute(!1);return}$0.$0(this.$1g)||$0.$0(this.$Cw)||$0.$0(this.$M)||(t=this.$M.entityLogicalName,this.$6Y==="WebResourceCommand"?(i=this.$M.CommandId,this.$1FN(i,t)):(this.$6Y==="ControlCommand"&&"ruleEvaluationCommand"in this.$M||!$0.$0(this.$M.ruleEvaluationCommand)&&this.get_ActionCommandCanExecute())&&(r=this.$M.ruleEvaluationCommand,this.$1FN(r,t)))}},$1FN:function(n,t){var i;if(!$0.$0(this.$1g))if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&this.$Gi){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(n)){i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);IsNull(this.$1ED)||this.$1ED.push(i);var r=this,u=this,f=this;this.$Cw.$1FN(t,n).then(function(t){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Command {0} rule evaluation succeeded with result: {1}",n,t);$0.$0(r.$1g)||r.set_ActionCommandCanExecute(t)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(139,n.$F);$0.$0(u.$1g)||u.set_ActionCommandCanExecute(!1)}).always(function(){i.resolve(!0)})}}else this.set_ActionCommandCanExecute(!1)},$Oh:function(){this.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$2ui);this.$1g&&this.$1g.dispose();this.$Cw&&(this.$Cw=null);this.$15h&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He),this.$15h=!1);this.$M=null;Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$Oh.call(this)},$2ui:function(){this.$1Rl()},$He:function(){$0.$0(this.$1g)||(this.set_ActionCommandCanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()),!this.get_ActionCommandCanExecute()&&Xrm.Utility.isAppOfflineSyncEnabled()&&(Microsoft.Crm.Client.Core.ViewModels.$24.$1XW.contains(this.$1P)||Microsoft.Crm.Client.Core.ViewModels.$24.$1XW.contains(this.$6Y))&&this.set_ActionCommandCanExecute(!0))},$1Rl:function(){$0.$0(this.$6Y)||($0.$0(this.$M)&&(this.$M={}),this.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$6Y,null,this.$M))),$0.$0(this.$1g)||(this.$rT(!1),this.get_ActionCommandCanExecute()&&!this.$Gi&&(this.$15h||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He),this.$15h=!0),this.$He(null,""))))}};Microsoft.Crm.Client.Core.ViewModels.$8m=function(){Microsoft.Crm.Client.Core.ViewModels.$8m.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$14=function(){};Microsoft.Crm.Client.Core.ViewModels.$14.$17u=function(n,t,i,r,u,f,e,o,s,h){Microsoft.Crm.Client.Core.ViewModels.$14.$2FQ(n,t,i,r,u,f,e,o,!0,s,h)};Microsoft.Crm.Client.Core.ViewModels.$14.$2FQ=function(n,t,i,r,u,f,e,o,s,h,c){var l=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;l.$DZ=1;l.$DE=n;l.$gR_5=Microsoft.Crm.Client.Core.Framework.$3.$9(o)?"":o;l.set_IsHtmlEncodingRequired($0.$0(s)?!0:s);t=Microsoft.Crm.Client.Core.ViewModels.$Q.$1pC(i,l,t,h,c);l.set_Message(t);l.$AG=$0.$0(i)?0:i;l.$C2=r;l.$Gm=u;$0.$0(f)||(l.$FB=f);$0.$0(e)||(l.$LY=e);l.Show()};Microsoft.Crm.Client.Core.ViewModels.$14.$1lg=function(n,t,i,r,u,f,e){$("#ConfirmDialogTitle",window.document.body).text(n);$("#ConfirmDialogMessage",window.document.body).text(t);$("#ConfirmDialogYesLabel",window.document.body).text(u);$("#ConfirmDialogNoLabel",window.document.body).text(f);$("#ConfirmDialog",window.document.body).css("display","block");$("#ConfirmDialog",window.document.body).removeAttr("data-dialogType");$0.$0(e)||$("#ConfirmDialog",window.document.body).attr("data-dialogType",e);$("#ConfirmDialog",window.document.body).addClass("sync-watson-dialog");$("#UserEducation",window.document.body).css("z-index","0");$("#syncCheckComplete",window.document.body).css("display","block");var o=function(){$("#UserEducation",window.document.body).css("z-index","999");$("#syncCheckComplete",window.document.body).css("display","none");i()},s=function(){$("#UserEducation",window.document.body).css("z-index","999");$("#syncCheckComplete",window.document.body).css("display","none");r()},h=Microsoft.Crm.Client.Core.ViewModels.$14.$1sP("#ConfirmDialogYes",!0,o);Microsoft.Crm.Client.Core.ViewModels.$14.$1sP("#ConfirmDialogNo",!h,s)};Microsoft.Crm.Client.Core.ViewModels.$14.$1sP=function(n,t,i){var u=$(n,window.document.body),f=!$0.$0(i),r;return u.toggle(f),r={},r.selection=t,r.handler=i,u.bind("click",r,Microsoft.Crm.Client.Core.ViewModels.$14.$2xM),f};Microsoft.Crm.Client.Core.ViewModels.$14.$2xM=function(n){$("#ConfirmDialog",window.document.body).css("display","none");$("#ConfirmDialogYes",window.document.body).unbind("click");$("#ConfirmDialogNo",window.document.body).unbind("click");Microsoft.Crm.Client.Core.Framework.$8.$1E("ConfirmDialogSelection",4,n.data.selection.toString());n.data.handler()};Microsoft.Crm.Client.Core.ViewModels.$2I=function(){this.$$d_$Hd_4=Function.createDelegate(this,this.$Hd_4);this.$$d_$uN=Function.createDelegate(this,this.$uN);this.$$d_$EP=Function.createDelegate(this,this.$EP);this.$$d_$33x=Function.createDelegate(this,this.$33x);this.get_$2IP=this.get_Visible;Microsoft.Crm.Client.Core.ViewModels.$2I.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$2I.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$2I.prototype={$Au:"",$Ih:null,$FU:null,$1G:null,$1KZ:"",$1dT:null,$1Qs:"",$1u7:null,$so:!1,$wB:null,$ws:1300,$mE:-3e4,$1M8:null,$1da:"",get_$2ox:function(){if(!$0.$0(this.$L)){var n=this.$L.split(":");if(n.length===2)return!0}return!1},get_SectionControlObject:function(){return Microsoft.Crm.Client.Core.ViewModels.$2I.$1PI},set_SectionControlObject:function(n){return Microsoft.Crm.Client.Core.ViewModels.$2I.$1PI!==n&&(Microsoft.Crm.Client.Core.ViewModels.$2I.$1PI=n),n},get_IsTabPressed:function(){return Microsoft.Crm.Client.Core.ViewModels.$2I.$1KL},set_IsTabPressed:function(n){return Microsoft.Crm.Client.Core.ViewModels.$2I.$1KL!==n&&(Microsoft.Crm.Client.Core.ViewModels.$2I.$1KL=n),n},get_Data:function(){return this.$Au},set_Data:function(n){return this.$Au!==n&&(this.$Au=this.$2wW(n),this.$1Fq("Data","ProcessRequirementSatisfied","HasFocus")),n},get_Height:function(){return this.$Ih},set_Height:function(n){return this.$Ih!==n&&(this.$Ih=n,this.$7("Height")),n},get_Width:function(){return this.$FU},set_Width:function(n){return this.$FU!==n&&(this.$FU=n,this.$7("Width")),n},get_Label:function(){return this.$1G},set_Label:function(n){return this.$1G!==n&&(this.$1G=n,this.$7("Label"),this.$7("ShowLabel")),n},get_LabelResourceId:function(){return this.$1KZ},set_LabelResourceId:function(n){return this.$1KZ!==n&&(this.$1KZ=n,this.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n))),n},get_Style:function(){return this.$1Qs},set_Style:function(n){return this.$1Qs!==n&&(this.$1Qs=n,this.$7("Style")),n},$8m:!0,$1dF:!1,$5R:!1,$2Un:function(){return!0},get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n),n},get_Enabled:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?this.$2Un()&&this.$8m:this.$8m},set_Enabled:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$8m!==t&&(this.$8m=t,this.$7("Enabled")),n},ShowFieldChangeIndicator:function(n){return Xrm.Internal.isFieldChangeIndicatorEnabled()&&!$0.$0(this.$2.get_ModelContext())&&this.$2.get_ModelContext().$I.$4w.contains(n)},get_NextTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?this.$mE:-3e4},set_NextTabIndex:function(n){return this.$mE=n,n},get_StartIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?this.$ws:-3e4},set_StartIndex:function(n){return this.$ws=n,this.set_NextTabIndex(n),n},get_TabSpaceReserved:function(){return 0},$4u:!0,$1dV:!1,$FG:null,get_Visible:function(){return this.$4u},set_Visible:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$4u!==t&&(this.$4u=t,this.$7("Visible")),n},$hk:!0,get_ShowLabel:function(){return!$0.$0(this.$1G)&&this.$hk},set_ShowLabel:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$hk!==t&&(this.$hk=t,this.$7("ShowLabel")),n},get_IsSortable:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$D)},get_IsColumnSortableInOffline:function(){if(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&!$0.$0(this.$L)&&!$0.$0(this.$D)){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$D,this.$L);if(!$0.$0(n)&&(n.$26===1||n.$26===9||n.$26===6))return!1}return!0},$mm:!1,get_ProcessRequired:function(){return this.$mm},set_ProcessRequired:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,i=t.$Em(n,null);return this.$mm=i,n},get_ProcessRequirementSatisfied:function(){return!$0.$0(this.get_Data())},get_RecommendationApplyActionText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SystemCustomization.BusinessRules.RecommendationApplyActionMessage")},get_RecommendationDismissActionText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SystemCustomization.BusinessRules.RecommendationDismissActionMessage")},$2Z:function(){this.$1a||(this.$wB=this.$$d_$33x,Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$nb(this.$wB),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this),$0.$0(this.$2)||(this.$2.$Sg&&this.$EP(null,null),this.$2.add_$P1(this.$$d_$EP),this.$2.add_$gn(this.$$d_$uN),Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)?this.$2.AddPropertyChangedListener("MultipleEntityAttributeFormModelUpdate",this.$$d_$Hd_4):Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)&&this.$2.$36r(this)))},$EP:function(){},$uN:function(){},UIHasRendered:function(){if(!$0.$0(this.$FG)){for(var n=0,t=this.$FG.length;n<t;n++)Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(this.$FG[n],0,this.get_ViewModelId());this.$FG=null}},$FH:function(n){$0.$0(this.$FG)?this.$FG=[n]:Array.contains(this.$FG,n)||Array.add(this.$FG,n)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$nb(this.$wB);this.$wB=null;$0.$0(this.$2)||(this.$2.remove_$P1(this.$$d_$EP),this.$2.remove_$gn(this.$$d_$uN),Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)&&this.$2.RemovePropertyChangedListener("MultipleEntityAttributeFormModelUpdate",this.$$d_$Hd_4));Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)},$PH:function(){this.$so&&(this.set_Enabled(this.$1dF),this.set_Label(this.$1dT),this.set_Visible(this.$1dV))},getFieldNameFromDescriptorName:function(n){if($0.$0(n))return"";var t=n.lastIndexOf("_");return t>0&&(n=n.substr(0,n.lastIndexOf("_"))),t=n.lastIndexOf("#"),t>0&&(n=n.substr(0,n.lastIndexOf("#"))),n},$33x:function(){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$nb(this.$wB);this.$1dF=this.$8m;this.$1dT=this.$1G;this.$1dV=this.$4u;this.$so=!0},$Hd_4:function(){if(!$0.$0(this.$2.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$2.get_ModelContext())&&!(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this)||Microsoft.Crm.Client.Core.ViewModels.$6L.isInstanceOfType(this))){var n=this.$2;this.set_Enabled(!n.IsFieldLocked(this.getFieldNameFromDescriptorName(this.$L)))}},$2wW:function(n){var t=n,r,i;return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||!Microsoft.Crm.Client.Core.ViewModels.$a.$B5()||$0.$0(t)||Microsoft.Crm.Client.Core.Framework.$3.$9(t)?t:(Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(t)&&Microsoft.Crm.Client.Core.Framework.$3.$12(t.Name)&&(t.Name=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Reference_Not_Available_Offline"),this.$8m=!1),$0.$0(this.$L)||$0.$0(this.$D)||(r=this.getFieldNameFromDescriptorName(this.$L),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$D,r),$0.$0(i)||i.$hn!==1||(t=null)),t)},AddOnKeyPress:function(n){$0.$0(n)||(this.$1M8=n)},FireOnKeyPress:function(n){var t=this.$1M8;$0.$0(t)||t(this,n);this.$1da=this.$2j2(n)},RemoveOnKeyPress:function(){this.$1M8=null},GetValue:function(){return this.$1da},$2j2:function(n){var i=n,t=i.target.value,e=i.charCode,r=i.target.selectionStart,u=i.target.selectionEnd,f;switch(e){case 0:r===u&&(i.keyCode===8?r=r-1:u=u+1);t.length>0&&(t=this.$311(t,r,u));break;case 32:default:f=String.fromCharCode(e);$0.$0(t)&&!$0.$0(f)?t=f:$0.$0(f)||(t=this.$2mz(t,f,r,u))}return this.$3A7(t)},$2mz:function(n,t,i,r){var u=n.substr(0,i),f=n.substr(r,n.length);return u+t+f},$311:function(n,t,i){var r=n.substr(0,t),u=n.substr(i,n.length);return r+u},$3A7:function(n){var t=n;return $0.$0(n)||n.trim()!==""||(t=""),t}};Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel=function(){this.$$d_$QG=Function.createDelegate(this,this.$QG);this.get_AttributeMetadata=this.get_$1Vw;this.set_AttributeMetadata=this.set_$1Vw;Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.initializeBase(this,[12]);this.set_RequestCloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$QG,1028))};Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.prototype={$Gy:null,$1WZ:null,$QU:null,$5m:null,$jd:null,$Je:null,$4I:null,$Ly:null,$1l:null,get_DialogName:function(){return this.$Gy},set_DialogName:function(n){return this.$Gy=n,n},get_DialogOptions:function(){return this.$QU},set_DialogOptions:function(n){return this.$QU=n,n},get_DialogArguments:function(){return this.$5m},set_DialogArguments:function(n){return this.$5m=n,n},get_AttributeFieldNames:function(){return this.$4I},set_AttributeFieldNames:function(n){return n===this.$4I?n:(this.$4I=n,this.$7("AttributeFieldNames"),n)},get_FieldMetadata:function(){return this.$Ly},set_FieldMetadata:function(n){return this.$Ly=n,n},get_$1Vw:function(){return this.$1l},set_$1Vw:function(n){return n===this.$1l?n:(this.$1l=n,this.$7("AttributeMetadata"),n)},get_CancelButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text")},get_RetrieveOptions:function(){return Microsoft.Crm.Client.Core.ViewModels.$k.get_$1gD()},$2Nt:function(){return!0},$2Z:function(){var n,r;if(Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$2Z.call(this),!$0.$0(this.$Ly)){n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o));for(var i=this.$Ly,u=i.length,t=0;t<u;++t)r=i[t],n.add(Microsoft.Crm.Client.Core.ViewModels.$7O.$25W(r));this.set_$1Vw(n.toArray())}$0.$0(this.$4I)||(this.$1Ig(),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("PopupPresent",!0))},$gl:function(n){var t,i,r;if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$gl.call(this,n),this.$H){t=this.$H;for(i in t)r={key:i,value:t[i]},Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(r.value)&&r.value.$1fe()}},$15c:function(){this.$jf()},$36r:function(n){var t,i,r,u,f;$0.$0(this.$Je)||(t=this.getFieldNameFromDescriptorName(n.$L),Microsoft.Crm.Client.Core.Framework.$3.$9(t))||(i=!1,r="ProcessUnification_ReadOnly_"+t,r in this.$Je&&(i=this.$Je[r],n.set_Enabled(!i)),u=!1,f="ProcessUnification_Hidden_"+t,f in this.$Je&&(u=this.$Je[f],n.set_Visible(!u)))},$1Ig:function(){for(var i,u,n=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2y)),r=this.$1l,f=r.length,t=0;t<f;++t)i=r[t],n.set_$R(i.get_$2I(),i);u=this.$2fh(n);this.set_ModelContext(Microsoft.Crm.Client.Core.Models.$6V.$1If(this.$Gy,this.$4I,n,u))},$2fh:function(n){var l={},a=this.$5m,u,t,i,f,e,r,v,o,s,h,c;for(u in a)if(t={key:u,value:a[u]},i=t.value,!$0.$0(i)){if(n.$3F5(t.key)){f=n.get_$R(t.key);switch(f.$26){case 6:if(e=t.value,!e.length)return null;r=e[0];v=new Microsoft.Crm.Client.Core.Framework.Guid(r.id);i=new Xrm.Objects.EntityReference(r.entityType,v,r.name);break;case 13:case 12:case 11:case 0:o=!1;s=f.$6S.$21;for(h in s)c={key:h,value:s[h]},c.value.$1s===t.value&&(i=c.value,o=!0);if(!o)continue;break;default:i=t.value}}l[t.key]=i}return l},CloseOnCancel:function(){var n=this.get_ModelContext();n.SetValue("lastButtonClicked","cancel_id");this.$QG()},$QG:function(){var n=!1;(!$0.$0(this.$Je)&&"ProcessUnification_ReturnRawValue"in this.$Je&&(n=this.$Je.ProcessUnification_ReturnRawValue),this.$1WZ=n?this.$2ep():this.$2er(),this.$jf(),$0.$0(this.$jd))||this.$jd(this.$1WZ,this.$Je)},$jf:function(){Microsoft.Crm.Client.Core.ViewModels.$CD.prototype.$QG.call(this);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("PopupPresent",!1)},get_StartIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?1e4:-3e4},$2er:function(){var e={},r=this.get_ModelContext(),o=r.$NB,u,t,n,i,f;for(u in o){if(t={key:u,value:o[u]},n=r.GetValue(t.key),!$0.$0(n))switch(r.getAttributeType(t.key)){case 13:case 12:case 11:case 0:n=n.getValue(Microsoft.Crm.Client.Core.Framework.$U.$29);break;case 2:n=t.value;break;case 6:i=n;f=new Array(0);f[0]=new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(i.LogicalName,i.Id.toString(),i.Name);n=f}e[t.key]=n}return e},$2ep:function(){var f={},r=this.get_ModelContext(),e=r.$NB,u,t,n,i;for(u in e){if(t={key:u,value:e[u]},n=r.GetValue(t.key),!$0.$0(n))switch(r.getAttributeType(t.key)){case 0:n=t.value.$1s===1?!0:!1;break;case 6:i=n;n=new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(i.LogicalName,i.Id.toString(),i.Name);break;case 2:case 5:case 3:case 4:case 8:default:n=t.value}f[t.key]=n}return f},get_$31Y:function(){return!0},$1WU:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N},$Oh:function(){$0.$0(this.get_ModelContext())||this.get_ModelContext().$5E();this.set_RequestCloseCommand(null);Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$7x=function(){this.$$d_$KZ=Function.createDelegate(this,this.$KZ);this.$NF=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS();this.$Cr=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9();this.set_$1EQ=this.set_Date;Microsoft.Crm.Client.Core.ViewModels.$7x.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$KZ)};Microsoft.Crm.Client.Core.ViewModels.$7x.prototype={$Ir:null,$A8:null,$9c:0,$ID:!1,get_Date:function(){var n=null;return this.$DA(this.get_Data())&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Gs(this.get_Data(),this.$NF,this.get_Behavior(),this.$Cr)),n},set_Date:function(n){return this.$DA(n)&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Lk(n,this.$NF,this.get_Behavior(),this.$Cr)),this.set_Data(n),n},get_MinDate:function(){return this.$Ir},set_MinDate:function(n){return this.$Ir=n,this.$7("MinDate"),n},get_Format:function(){return this.$A8},set_Format:function(n){return this.$A8!==n&&(this.$A8=n,this.$7("Format")),n},get_Behavior:function(){return this.$9c},set_Behavior:function(n){return this.$9c!==n&&(this.$9c=n,this.$7("Behavior")),n},get_DateFormat:function(){return Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern},get_TimeFormat:function(){return Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortTimePattern},get_IsAstronomicalTime:function(){return this.get_TimeFormat()?this.get_TimeFormat().indexOf("H")>=0:!1},get_ShowTime:function(){return this.$A8==="dateandtime"},set_ShowTime:function(n){return this.set_Format(n?"dateandtime":"dateonly"),n},get_AllDayDisplay:function(){return this.$ID},set_AllDayDisplay:function(n){if(this.$ID!==n&&!$0.$0(this.get_Data())){this.$ID=n;var t=this.$L.split("_"),i=this.get_ModelContext();i.$2EI(t[0],this.$ID)}return n},setDateIfNull:function(){var i=!0,t=this.$2.$5Q(this),n;Microsoft.Crm.Client.Core.ViewModels.$87.isInstanceOfType(t)&&(i=t.$24F(t.$1c8(this.$L)));$0.$0(this.get_Data())&&this.get_Enabled()&&i&&(n=this.$9c===1||this.$9c===2?Microsoft.Crm.Client.Core.Framework.$h.$1sc(new Date,this.$NF,this.$Cr):new Date,this.$A8==="dateonly"&&(n.setHours(0),n.setMinutes(0)),n.setSeconds(0),n.setMilliseconds(0),this.set_Date(n))},$Oh:function(){this.RemovePropertyChangedListener("Data",this.$$d_$KZ);Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$Oh.call(this)},$KZ:function(){this.$7("Date")},$DA:function(n){return Date.isInstanceOfType(n)||Object.prototype.toString.call(n)==="[object Date]"},get_TabSpaceReserved:function(){return 10},get_NextTabIndex:function(){return this.get_StartIndex()+this.get_TabSpaceReserved()},set_NextTabIndex:function(n){return Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.set_NextTabIndex.call(this,n),n}};Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel=function(){this.$$d_$1P7=Function.createDelegate(this,this.$1P7);Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.initializeBase(this);var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$13v();this.$q7=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL();this.$r5=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$1Z0();this.$KD=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$1dA();this.$vK=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$1iJ()&&n;this.$C2=this.$$d_$1P7};Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.prototype={$q7:!1,$r5:!1,$vK:!1,$KD:null,$5l:null,get_DeviceSettingsHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_Header")},get_DeviceSettingsSubHeaderText1:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_SubHeader1")},get_DeviceSettingsSubHeaderText2:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_SubHeader2")},get_DeviceSettingsSubHeaderText3:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_SubHeader3")},get_CameraText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_Camera")},get_DeviceAccessText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_DeviceAccess")},get_ImageResText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_ImageResolution")},get_PhotoSaveText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_SavePhoto")},get_OnSwitchText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_OnSwitch")},get_OffSwitchText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_OffSwitch")},$1P7:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().set_$2NU(!this.$q7);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().set_$1Z0(!this.$r5);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().set_$1iJ(!this.$vK);this.set_ImageRes(this.$5l.$4i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().set_$1dA(this.get_ImageRes())},get_IsCameraAvailable:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$13v()},get_CameraEnabled:function(){return this.$q7},set_CameraEnabled:function(n){return this.$q7!==n&&(this.$q7=n,this.$7("CameraEnabled")),n},get_DeviceAccessEnabled:function(){return this.$r5},set_DeviceAccessEnabled:function(n){var i,r,t;return this.$r5!==n&&(i=this,r=function(){i.$r5=n;i.$7("DeviceAccessEnabled")},n?(t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel,t.$DZ=1,t.$AG=0,t.set_IsHtmlEncodingRequired(!1),t.$C2=r,t.set_Message(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_LegalNotice"),'<a href="http://go.microsoft.com/fwlink/?LinkID=310138">',"<\/a>",'<a href="http://go.microsoft.com/fwlink/p/?LinkID=828413">',"<\/a>")),t.Show()):r()),n},get_ImageRes:function(){return $0.$0(this.$KD)?"DeviceDefault":this.$KD},set_ImageRes:function(n){return this.$KD!==n&&(this.$KD=n,this.$7("ImageRes")),n},get_PhotoSaveEnabled:function(){return this.$vK},set_PhotoSaveEnabled:function(n){return this.$vK!==n&&(this.$vK=n,this.$7("PhotoSaveEnabled")),n},$pT:0,get_tabIndex:function(){return this.$pT},set_tabIndex:function(n){return this.$pT=n,n},get_ComboBoxViewModel:function(){return $0.$0(this.$5l)&&(this.$5l=new Microsoft.Crm.Client.Core.ViewModels.$Sf),this.$5l.set_ItemLabels(Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.$1dB),this.$5l.set_ItemValues(Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.$1dB),this.$5l}};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel=function(){this.$$d_$2NW=Function.createDelegate(this,this.$2NW);Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.initializeBase(this);this.$Gm=this.$$d_$2NW};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("DiagnosticsReport",Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ShowDiagnosticsReportCommand",Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$2RG)};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$2RG=function(){return new Microsoft.Crm.Client.Core.Framework.Binding.$RG(Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$2UU,140,Microsoft.Crm.Client.Core.ViewModels.$11.get_$6(),"MemoryDiagnosticsEnabled",function(){return Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$MO})};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$2UU=function(){if(!Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$1El){var n=new Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel;n.Show();Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$1El=!0}};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.prototype={$2NW:function(){Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$1El=!1},get_DiagnosticsReportHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_Header")},get_RefreshButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_Refresh")},get_SnapshotButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_Snapshot")},get_CloseButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_Close")},get_TimestampText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_TableHeader_TimeStamp")},get_AreaText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_TableHeader_Area")},get_MashupText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_TableHeader_Mashup")},get_MemoryText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_TableHeader_Memory")},getMemoryUsageReport:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().get_$2rX(),t=this;return n.sort(function(n,t){return new Date(t.Timestamp)-new Date(n.Timestamp)}),n},snapshotButtonClicked:function(){Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$1r7()}};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel=function(){this.$$d_$1P7=Function.createDelegate(this,this.$1P7);Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel.initializeBase(this);this.$pt=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$1Xw();this.$tp=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$1gB();this.$r6=Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$MO;this.$C2=this.$$d_$1P7};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel.prototype={$tp:!1,$r6:!1,$pt:!1,get_EnableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Label_Enable")},get_DisableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Label_Disable")},get_DiagnosticsHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Header")},get_WebResourcesAndIFramesSubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Diagnostics_ClientExtensions")},get_CrashDetectionSubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_SubHeader_CrashDetection")},get_DebugModeSubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_SubHeader_DebugMode")},$1P7:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().set_$1Xw(this.$pt);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().set_$1gB(!this.$tp);Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().set_MemoryDiagnosticsEnabled(this.$r6)},get_DiagnosticsEnabled:function(){return this.$r6},set_DiagnosticsEnabled:function(n){return this.$r6!==n&&(this.$r6=n,this.$7("DiagnosticsEnabled")),n},get_MashupsEnabled:function(){return this.$tp},set_MashupsEnabled:function(n){return this.$tp!==n&&(this.$tp=n,this.$7("MashupsEnabled")),n},get_AppCrashDetectionEnabled:function(){return this.$pt},set_AppCrashDetectionEnabled:function(n){return this.$pt!==n&&(this.$pt=n,this.$7("AppCrashDetectionEnabled")),n}};Microsoft.Crm.Client.Core.ViewModels.$CC=function(){Microsoft.Crm.Client.Core.ViewModels.$CC.initializeBase(this);var n=this;this.AddPropertyChangedListener("HasFocus",function(){n.$2tn()})};Microsoft.Crm.Client.Core.ViewModels.$CC.prototype={$2tn:function(){this.get_HasFocus()&&this.setDurationIfNull()},setDurationIfNull:function(){var t=!0,n=this.$2.$5Q(this);Microsoft.Crm.Client.Core.ViewModels.$87.isInstanceOfType(n)&&(t=n.$24F(n.$1c8(this.$L)));$0.$0(this.get_Data())&&this.get_Enabled()&&t&&this.set_Data(30)}};Microsoft.Crm.Client.Core.ViewModels.$CD=function(n){this.$$d_$QG=Function.createDelegate(this,this.$QG);Microsoft.Crm.Client.Core.ViewModels.$CD.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.$CD.prototype={$QG:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$12c(this.$1P);$0.$0(n)?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(this):n(this)}};Microsoft.Crm.Client.Core.ViewModels.$4N=function(){Microsoft.Crm.Client.Core.ViewModels.$4N.initializeBase(this);this.$Ql=!1};Microsoft.Crm.Client.Core.ViewModels.$4N.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("FlyOutViewModel",Microsoft.Crm.Client.Core.ViewModels.$4N)};Microsoft.Crm.Client.Core.ViewModels.$4N.prototype={$qM:null,$Ql:!1,get_FlyOutExpanded:function(){return this.$Ql},set_FlyOutExpanded:function(n){return this.$Ql!==n&&(this.$Ql=n,this.$Ql||this.$1rw(),this.$7("FlyOutExpanded")),n},$4O:null,get_Title:function(){return this.$4O},set_Title:function(n){return this.$4O=n,n},set_$1s7:function(n){return this.$qM=n,this.$rT(!1),n},findActiveChildViewModels:function(){var i=new Array(0),r=this.$H;for(var u in r){var f={key:u,value:r[u]},n=f.value,t=n.get_Enabled();Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)?t=t&&n.$1g.get_CanExecute():Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&(t=t&&n.hasEnabledDescendant());t&&Array.add(i,n)}return i},isCommandGroupViewModel:function(n){return Microsoft.Crm.Client.Core.ViewModels.$8m.isInstanceOfType(n)?!0:!1},screenReaderTextForFlyoutItem:function(n,t,i){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionWallItem_ScreenReader_Label"),n,t,i)},$rT:function(n){var r,u,i;if(Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$rT.call(this,n),n||$0.$0(this.$qM)||$0.$0(this.$qM.CommandId)){if(!$0.$0(this.$H)){r=this.$H;for(u in r)i={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(i.value)?i.value.$rT(n):Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Invalid child of type {0}",Object.getType(i.value).toString())}}else{var e=this.$qM.CommandId,o=this.$qM.entityLogicalName,s=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,t=this,f=this;s.$1FN(o,e).then(function(i){var r,u,f,e,o,s;if(i){if(!$0.$0(t.$H)){r=t.$H;for(u in r)f={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(f.value)&&f.value.$rT(n)}}else if(!$0.$0(t.$H)){e=t.$H;for(o in e)s={key:o,value:e[o]},Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(s.value)&&s.value.$rT(!0)}t.set_Enabled(i)},function(n){var t,i,r;if(Microsoft.Crm.Client.Core.Framework.Trace.logError(139,n.$F),!$0.$0(f.$H)){t=f.$H;for(i in t)r={key:i,value:t[i]},Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(r.value)&&r.value.$rT(!0)}f.set_Enabled(!1)})}}};Microsoft.Crm.Client.Core.ViewModels.$SK=function(){Microsoft.Crm.Client.Core.ViewModels.$SK.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$SK.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$SK.prototype={$5R:!1,get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n,this.$7("HasFocus")),n},getScreenReadableTextForButton:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ScreenReaderText_Button"),n,"button")}};Microsoft.Crm.Client.Core.ViewModels.$S1=function(){Microsoft.Crm.Client.Core.ViewModels.$S1.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$S1.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$S1.prototype={$5R:!1,get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n,this.$7("HasFocus")),n}};Microsoft.Crm.Client.Core.ViewModels.$CT=function(){this.$$d_$2ty=Function.createDelegate(this,this.$2ty);Microsoft.Crm.Client.Core.ViewModels.$CT.initializeBase(this);this.AddPropertyChangedListener("Label",this.$$d_$2ty)};Microsoft.Crm.Client.Core.ViewModels.$CT.prototype={$1fH:null,$13S:null,$hj:!0,$1QI:!1,$ft:null,$GH:null,$5y:null,get_CommandManagerViewModel:function(){return this.$2.$2At(),this.$5y=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,this.$5y},$1TR:!1,get_IsInteractionCentricForm:function(){return this.$1TR},set_IsInteractionCentricForm:function(n){return this.$1TR=n,n},get_SymbolCssClass:function(){return"crmSymbolFont form_header_icon"+(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$D)?"":" entity-symbol "+this.$D)},get_LabelCssClass:function(){return this.$1fH},set_LabelCssClass:function(n){return this.$1fH=n,this.$7("LabelCssClass"),n},get_HeaderProvider:function(){return this.$13S},set_HeaderProvider:function(n){return this.$13S=n,n},get_ShowIcon:function(){return this.$hj},set_ShowIcon:function(n){return this.$hj!==n&&(this.$hj=n,this.$7("ShowIcon")),n},get_ShowEntityImage:function(){return this.$1QI},set_ShowEntityImage:function(n){return this.$1QI!==n&&(this.$1QI=n,this.$7("ShowEntityImage")),n},get_ImageUrl:function(){return this.$ft},set_ImageUrl:function(n){return this.$ft!==n&&(this.$ft=n,this.$7("ImageUrl")),n},get_OpenImageUploadDialogCommand:function(){return this.$GH},set_OpenImageUploadDialogCommand:function(n){return this.$GH!==n&&($0.$0(this.$GH)||(this.$GH.dispose(),this.$GH=null),this.$GH=n),n},$2Z:function(){if(!this.$1a){if(!$0.$0(this.$13S)&&!$0.$0(this.$D)&&$0.$0(this.$1G)){var n=this.$13S.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}this.$2.$g===1&&(this.$2.$9R?this.$H.DashboardName.set_Data(Microsoft.Crm.Client.Core.Framework.Common.$2.$13O("Dashboard_Homepage_Label")?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dashboard_Homepage_Label"):""):(this.set_LabelCssClass("workspace_header_label"),this.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dashboard_Header_Label"))));Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||this.set_ShowIcon(!this.$2.$9R&&this.$2.$g!==50);$0.$0(this.$GH)&&this.set_OpenImageUploadDialogCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenImageUploadDialogCommand")));Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this)}},$EP:function(n,t){Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||this.set_ShowIcon(!this.$2.$9R&&this.$2.$g!==50);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)},$2ty:function(){this.$FH("RenderedInitialData")},popOutIconClick:function(n){var t=null;try{t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(n,n,{TargetViewModel:this}));t.execute()}finally{$0.$0(t)||t.dispose()}},$Oh:function(){$0.$0(this.$GH)||this.set_OpenImageUploadDialogCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Cv=function(){Microsoft.Crm.Client.Core.ViewModels.$Cv.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Cv.prototype={$1C3:"",get_AltText:function(){return this.$1C3},set_AltText:function(n){return this.$1C3!==n&&(this.$1C3=n,this.$7("AltText")),n},$1TF:null,get_ImageClassName:function(){return this.$1TF},set_ImageClassName:function(n){return this.$1TF=n,n}};Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel.initializeBase(this,[14])};Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel.prototype={$1In:null,get_OkButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text")},get_ParentId:function(){return this.$K.$M.InitializationParameters.ParentId},get_IsNoteInlineCreateForm:function(){return this.$D==="annotation"},get_InlineLookupViewModel:function(){return this.$1In},set_InlineLookupViewModel:function(n){return this.$1In=n,n},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$CK.call(this,n,t);this.$9j("SetLookupInRoot")}};Microsoft.Crm.Client.Core.ViewModels.$4k=function(){Microsoft.Crm.Client.Core.ViewModels.$4k.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$4k.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("String",Microsoft.Crm.Client.Core.ViewModels.$4k)};Microsoft.Crm.Client.Core.ViewModels.$4k.getTextBoxTypeString=function(n){return $0.$0(n)?null:$16.$cH(Microsoft.Crm.Client.Core.Framework.$EI,n)};Microsoft.Crm.Client.Core.ViewModels.$4k.prototype={$IP:null,get_Value:function(){return this.$IP},set_Value:function(n){return n=!$0.$0(n)&&Microsoft.Crm.Client.Core.Framework.$3.$12(n.toString())?null:n,this.$IP!==n&&this.$2ES(n),n},get_TabSpaceReserved:function(){return 1},$IE:!0,get_AllowEdit:function(){return this.$IE},set_AllowEdit:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$IE!==t&&(this.$IE=t,this.$7("AllowEdit")),n},$1Rr:!1,get_UpdateOnKeyUp:function(){return this.$1Rr},set_UpdateOnKeyUp:function(n){return this.$1Rr!==n&&(this.$1Rr=n,this.$7("UpdateOnKeyUp")),n},get_ProcessRequirementSatisfied:function(){return!$0.$0(this.$IP)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$IP.toString())},$2ES:function(n){this.$IP=n;this.$rd("Value","ProcessRequirementSatisfied")},$1Mc:null,get_OverlayText:function(){return this.$1Mc},set_OverlayText:function(n){return this.$1Mc!==n&&(this.$1Mc=n,this.$7("OverlayText")),n},$KP:512,get_MaxLength:function(){return this.$KP},set_MaxLength:function(n){return this.$KP!==n&&(this.$KP=n,this.$7("MaxLength")),n},add_$1S6:function(n){this.$1p("ValueChanging",n)},remove_$1S6:function(n){this.$32("ValueChanging",n)},fireValueChanging:function(n){var t=this.$4d("ValueChanging");t&&t(this,n)},add_RefreshFromContextEvent:function(n){this.$1p("RefreshFromContextEvent",n)},remove_RefreshFromContextEvent:function(n){this.$32("RefreshFromContextEvent",n)},fireRefreshFromContextEvent:function(){var n=this.$4d("RefreshFromContextEvent");n&&n()},$Ij:0,get_ImeMode:function(){return this.$Ij},set_ImeMode:function(n){return this.$Ij!==n&&(this.$Ij=n,this.$7("ImeMode")),n}};Microsoft.Crm.Client.Core.ViewModels.$9o=function(){Microsoft.Crm.Client.Core.ViewModels.$9o.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$9o.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Int64",Microsoft.Crm.Client.Core.ViewModels.$9o)};Microsoft.Crm.Client.Core.ViewModels.$9p=function(){Microsoft.Crm.Client.Core.ViewModels.$9p.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$9p.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Integer",Microsoft.Crm.Client.Core.ViewModels.$9p)};Microsoft.Crm.Client.Core.ViewModels.$4D=function(){Microsoft.Crm.Client.Core.ViewModels.$4D.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$4D.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Label",Microsoft.Crm.Client.Core.ViewModels.$4D)};Microsoft.Crm.Client.Core.ViewModels.$4D.prototype={$ND:!1,$1Ry:!1,$bk:0,get_UseHTMLFormat:function(){return this.$1Ry},set_UseHTMLFormat:function(n){return this.$1Ry!==n&&(this.$1Ry=n,this.$7("UseHTMLFormat")),n},get_UseHiddenMask:function(){return this.$ND},set_UseHiddenMask:function(n){return this.$ND!==n&&(this.$ND=n,this.$7("UseHiddenMask")),n},getInteractionCentricNewFormTitle:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return t?Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Form_Title_New_With_Entity_Display_Name"),t.$1q):""},get_TabSpaceReserved:function(){return 1},get_SourceTypeMask:function(){return this.$bk},set_SourceTypeMask:function(n){return this.$bk=n,this.$7("SourceTypeMask"),n},getLabelFromOptionMetadata:function(n){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(n)){var t=n;return t.$1G}return null},tryGetAlertMessage:function(){return this.$bk===32?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InvalidFieldDefinitionError"):""}};Microsoft.Crm.Client.Core.ViewModels.$3Q=function(){Microsoft.Crm.Client.Core.ViewModels.$3Q.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$3Q.prototype={$1Ko:0,get_Text:function(){return this.$d(Microsoft.Crm.Client.Core.ViewModels.$3Q.$1mb)},set_Text:function(n){return this.$l(Microsoft.Crm.Client.Core.ViewModels.$3Q.$1mb,n),n},get_linkType:function(){return this.$1Ko},set_linkType:function(n){return n!==this.$1Ko&&(this.$1Ko=n,this.$1u7=n===1?new Microsoft.Crm.Client.Core.ViewModels.Converters.$Id:null),n}};Microsoft.Crm.Client.Core.ViewModels.$A2=function(){Microsoft.Crm.Client.Core.ViewModels.$A2.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$A2.prototype={$FF:null,$1ei:!1,$3BT:function(){var n;if(!$0.$0(this.get_$Kc())&&!$0.$0(this.get_$Kc().$H)){var r=this.get_$Kc().$H.HeaderGroup,t=r.$H.primaryAttribute,i=$0.$0(t)||$0.$0(t.get_Data())?"":t.get_Data().toString();i.length>0&&(n=this.$2.$H.HeaderGroup,!$0.$0(n)&&"RelatedToEntityTitle"in n.$H&&n.$H.RelatedToEntityTitle.get_Data().toString().length<=0&&(this.set_IsRelatedEntityHeader(!0),n.set_Label(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_RelatedToTitle_Format"),n.$1G,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_RelatedGrid_RelatedTo_Text"))),n.$H.RelatedToEntityTitle.set_Data(i)))}},get_IsRelatedEntityHeader:function(){return this.$1ei},set_IsRelatedEntityHeader:function(n){return this.$1ei=n,this.$7("IsRelatedEntityHeader"),n},get_RelatedToEntityTitle:function(){return"RelatedToEntityTitle"},openParentEntityForm:function(){if(!$0.$0(this.get_$Kc())){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this.get_$Kc(),2);n.execute();n.dispose()}},get_$Kc:function(){return $0.$0(this.$FF)&&($0.$0(this.$2)||$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||"ParentEntityViewModel"in this.$2.$K.$M&&(this.$FF=this.$2.$K.$M.ParentEntityViewModel)),this.$FF},$MZ:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&n.$m===-2147220969?(n.$m=-2147094003,this.$2.$MZ(n)):Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$MZ.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.$DR=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$DR.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$DR.initializeBase(this);this.$69=n;this.$Jj=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(t,30)};Microsoft.Crm.Client.Core.ViewModels.$DR.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("MessageBarAction",Microsoft.Crm.Client.Core.ViewModels.$DR)};Microsoft.Crm.Client.Core.ViewModels.$DR.prototype={$69:null,$Jj:null,get_Text:function(){return this.$69},set_Text:function(n){return this.$69=n,n},get_ActionCommand:function(){return this.$Jj},set_ActionCommand:function(n){return this.$Jj=n,n}};Microsoft.Crm.Client.Core.ViewModels.$AA=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$AA.initializeBase(this,[n,t,i])};Microsoft.Crm.Client.Core.ViewModels.$AA.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("MessageBarMessageSimple",Microsoft.Crm.Client.Core.ViewModels.$AA)};Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.initializeBase(this);this.$UE=n;this.$69=t;this.$AG=i};Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.prototype={$UE:null,$69:null,$AG:0,$Kg:32767,get_MessageType:function(){return this.$AG},set_MessageType:function(n){if(this.$AG!==n){this.$AG=n;this.$7("MessageType");var t=new Array(0);t[t.length]="IsInfo";t[t.length]="IsWarning";t[t.length]="IsError";t[t.length]="IsLocalSave";this.$re(t)}return n},get_IsInfo:function(){return this.$AG===1},get_IsWarning:function(){return this.$AG===2},get_IsError:function(){return this.$AG===3},get_IsLocalSave:function(){return this.$AG===4},get_IsOfflineEnabledAndLocalCopyEntity:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$Ej;return Microsoft.Crm.Client.Core.ViewModels.$a.$HM(n.$D)&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&n.$14D},get_Text:function(){return this.$69},set_Text:function(n){return this.$69!==n&&(this.$69=n,this.$7("Text")),n},get_Priority:function(){return this.$Kg},set_Priority:function(n){return this.$Kg!==n&&(this.$Kg=n,this.$7("Priority")),n},toString:function(){return this.$69}};Microsoft.Crm.Client.Core.ViewModels.$AB=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$AB.initializeBase(this,[n,t,r]);this.$pb=i};Microsoft.Crm.Client.Core.ViewModels.$AB.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("MessageBarMessageWithAction",Microsoft.Crm.Client.Core.ViewModels.$AB)};Microsoft.Crm.Client.Core.ViewModels.$AB.prototype={$pb:null,get_Actions:function(){return this.$pb},$Oh:function(){this.$pb=null;Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)},get_MessageBarAction1:function(){return this.$pb.get_$R(0)},get_MessageBarAction2:function(){return this.$pb.get_$R(1)}};Microsoft.Crm.Client.Core.ViewModels.$8J=function(){this.$$d_$1M7=Function.createDelegate(this,this.$1M7);Microsoft.Crm.Client.Core.ViewModels.$8J.initializeBase(this);this.$DD=new Microsoft.Crm.Client.Core.Framework.$AL;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$1M7)};Microsoft.Crm.Client.Core.ViewModels.$8J.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S(Microsoft.Crm.Client.Core.ViewModels.$8J.getName(),Microsoft.Crm.Client.Core.ViewModels.$8J)};Microsoft.Crm.Client.Core.ViewModels.$8J.prototype={$DD:null,$BU:!1,$1Iw:"",$1J6:!1,get_IsActive:function(){return this.$BU},set_IsActive:function(n){return this.$BU!==n&&(this.$BU=n,this.$7("IsActive")),n},get_InteractionCentricNotification:function(){return this.$1Iw},set_InteractionCentricNotification:function(n){return this.$1Iw!==n&&(this.$1Iw=n,this.$7("NotificationChanged")),n},get_IsAssociatedWithCreateForm:function(){return this.$1J6},set_IsAssociatedWithCreateForm:function(n){return this.$1J6=n,n},get_IsAssociatedWithOfflineRecord:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$Ej;return Microsoft.Crm.Client.Core.ViewModels.$a.$HM(n.$D)&&n.$14D&&n.$g===2},get_MessageBarItems:function(){return this.$DD},get_ShowAllDialogViewModel:function(){return new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Notification_Dialog_Title_Text"),0,0)},$1pD:function(n,t,i,r){var u=this.$1cJ(n),f,e,o;u<this.$DD.get_Count()?Microsoft.Crm.Client.Core.ViewModels.$AA.isInstanceOfType(this.$DD.get_$R(u))?(f=this.$DD.get_$R(u),f.set_Text(t),f.set_MessageType(i)):(this.$1jU(u),e=new Microsoft.Crm.Client.Core.ViewModels.$AA(n,t,i),e.set_Priority(r),this.$DD.$1Ir(u,e)):(o=new Microsoft.Crm.Client.Core.ViewModels.$AA(n,t,i),o.set_Priority(r),this.$23d(o))},$2L6:function(n,t,i,r,u){var f=this.$1cJ(n),e,o,s;f<this.$DD.get_Count()?Microsoft.Crm.Client.Core.ViewModels.$AB.isInstanceOfType(this.$DD.get_$R(f))?(e=this.$DD.get_$R(f),e.set_Text(t),e.set_MessageType(r)):(this.$1jU(f),o=new Microsoft.Crm.Client.Core.ViewModels.$AB(n,t,i,r),o.set_Priority(u),this.$DD.$1Ir(f,o)):(s=new Microsoft.Crm.Client.Core.ViewModels.$AB(n,t,i,r),s.set_Priority(u),this.$23d(s))},$2KG:function(n){this.set_InteractionCentricNotification(n)},$30e:function(){this.set_InteractionCentricNotification("")},$23d:function(n){for(var t=0,i;t<this.$DD.get_Count();t++)if(i=this.$DD.get_$R(t),!(i.$Kg<n.$Kg))break;this.$DD.$1Ir(t,n)},$30h:function(n){if(!$0.$0(this.$DD)){var t=this.$1cJ(n);this.$1jU(t)}},$1jU:function(n){if(!$0.$0(this.$DD)&&n>=0&&n<this.$DD.get_Count()){var t=this.$DD.get_$R(n);Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.isInstanceOfType(t)&&t.dispose();this.$DD.$vm(n)}},$1cJ:function(n){var t=this;return this.$DD.$1Km(function(t){return t.$UE===n})},$1M7:function(){this.$7("IsServerAvailable")},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$1M7);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel=function(n,t,i){this.$$d_Close=Function.createDelegate(this,this.Close);this.$$d_$Wy=Function.createDelegate(this,this.$Wy);this.$$d_$2sX=Function.createDelegate(this,this.$2sX);this.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text");this.$LY=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text");this.$x7=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$5f));Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.initializeBase(this);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Pq||Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeInitializeStart",1,this.get_ViewModelId());this.$uG=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2sX,1019);this.$Nq=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$Wy,1019);this.$DE=n;this.$DZ=$0.$0(t)?0:t;this.$AG=$0.$0(i)?0:i;this.set_StartIndex(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?1:-3e4)};Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype={$DE:null,$gR_5:null,$1ND:null,$v0:null,$AG:0,$DZ:0,$C2:null,$Gm:null,$uG:null,$Nq:null,$1J4:!0,$148:!0,get_IsAnimationAllowed:function(){return this.$1J4},set_IsAnimationAllowed:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$1J4!==t&&(this.$1J4=t),n},Show:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Pq||Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedInteractionReady",1,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$uq(this);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("PopupPresent",!0);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Pq||Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedFull",1,this.get_ViewModelId())},Close:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(this);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("PopupPresent",!1)},$2sX:function(){$0.$0(this.$C2)||this.$C2();this.Close()},$Wy:function(){this.Close();$0.$0(this.$Gm)||this.$Gm()},get_MessageTitle:function(){return this.$DE},set_MessageTitle:function(n){return this.$DE=n,n},get_MessageSubtitle:function(){return this.$gR_5},set_MessageSubtitle:function(n){return this.$gR_5=n,n},get_Message:function(){return this.$v0},set_Message:function(n){return this.$v0!==n&&(this.$v0=n,this.$1ND=this.$29z(this.$v0),this.$7("Message")),n},get_ShowTechnicalDetailsLinkLable:function(){return this.$x7.get_Count()>0?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ErrorDialog.ShowTechnicalDetails"):""},get_TechnicalDetails:function(){for(var r,t,i="",n=0;n<this.$x7.get_Count();n++)r=this.$x7.get_$R(n),t="{0}",n&&(t+="<br />"),t+=Microsoft.Crm.Client.Core.Framework.$6N.$1ey()?"{2} <span style='font-weight: bold'>{1}<\/span>":"<span style='font-weight: bold'>{1}<\/span> {2}",i=String.format(t,i,r.$1mT,r.$1mU);return i},$1VP:function(n){$0.$0(n)||this.$x7.add(n)},get_$39R:function(){return this.$x7.get_Count()},$1Tl:null,get_MessageObject:function(){return this.$1Tl},set_MessageObject:function(n){return this.$1Tl=n,n},get_ProcessedMessage:function(){return this.$1ND},$29z:function(n){if($0.$0(n))return null;var t;return t=String.isInstanceOfType(n)?n:n.toString(),this.$148&&(t=CrmEncodeDecode.CrmHtmlEncode(t)),this.$2kd(t)},$2kd:function(n){var t=n.replace(new RegExp("&#13&#10;","g"),"<br>");return t=t.replace(new RegExp("&#13;","g"),"<br>"),t=t.replace(new RegExp("&#10;","g"),"<br>"),t.replace(new RegExp("&#92;n","g"),"<br>")},get_DialogType:function(){return this.$DZ},set_DialogType:function(n){return this.$DZ=n,n},get_OkButtonText:function(){return this.$FB},set_OkButtonText:function(n){return this.$FB=n,n},get_CancelButtonText:function(){return this.$LY},set_CancelButtonText:function(n){return this.$LY=n,n},get_OkHandler:function(){return this.$C2},set_OkHandler:function(n){return this.$C2=n,n},get_OkCommand:function(){return this.$uG},get_CancelCommand:function(){return this.$Nq},get_IsHtmlEncodingRequired:function(){return this.$148},set_IsHtmlEncodingRequired:function(n){return n!==this.$148&&(this.$148=n,this.$1ND=this.$29z(this.$v0),this.$7("ProcessedMessage")),n},$Oh:function(){$0.$0(this.$uG)||(this.$uG.dispose(),this.$uG=null);$0.$0(this.$Nq)||(this.$Nq.dispose(),this.$Nq=null);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$5f=function(n,t){this.$1mT=n;this.$1mU=t};Microsoft.Crm.Client.Core.ViewModels.$5f.$2T3=function(){var n,t;return!Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(n=Microsoft.Crm.Client.Core.Framework.LocalStorage.$1F.get_$Ff().$D8("MoCASessionID"),!$0.$0(n))?(t=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ErrorDialog.TelemetrySessionId"),new Microsoft.Crm.Client.Core.ViewModels.$5f(t,n)):null};Microsoft.Crm.Client.Core.ViewModels.$5f.$2QP=function(n){if(!$0.$0(n)&&n!==Microsoft.Crm.Client.Core.Framework.Guid.get_empty()){var t=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ErrorDialog.TelemetryActivityIdLabel");return new Microsoft.Crm.Client.Core.ViewModels.$5f(t,n.toString())}return null};Microsoft.Crm.Client.Core.ViewModels.$5f.$2QQ=function(n){if(!$0.$0(n)&&!isNaN(n.getTime())&&n.getTime()){var t=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ErrorDialog.TelemetryTimestampLabel");return new Microsoft.Crm.Client.Core.ViewModels.$5f(t,n.toString())}return null};Microsoft.Crm.Client.Core.ViewModels.$5f.$2xw=function(n){if(!$0.$0(n)){var t=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ErrorDialog.ProvideTechnicalDetails");return String.format("{0} {1}",n,t)}return null};Microsoft.Crm.Client.Core.ViewModels.$5f.prototype={$1mT:null,$1mU:null};Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavigationButton",Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel)};Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.prototype={$5R:!1,get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n,this.$7("HasFocus")),n},$zG:!1,get_ShouldNotInitializeCommand:function(){return this.$zG},set_ShouldNotInitializeCommand:function(n){return this.$zG=n,n},$69:null,$JX:!0,get_Text:function(){return this.$69},set_Text:function(n){return this.$69!==n&&(this.$69=n,this.$7("Text")),n},get_AllowNavigate:function(){return this.$JX},set_AllowNavigate:function(n){return this.$JX=n,n},get_$2zW:function(){if(!$0.$0(this.get_Data())&&Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(this.get_Data())){var n=this.get_Data();return n.get_$4m().toString()}return""},$2Z:function(){if(Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this),!this.$zG){var n=this;this.set_ActionCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){if(n.get_CanNavigate()){var i=n.get_Data(),t;t=Microsoft.Crm.Client.Core.Framework.$6.get_$f()?new Microsoft.Crm.Client.Core.Commands.$2R(n,40):new Microsoft.Crm.Client.Core.Commands.$2R(n,2);t.$x={EntityReference:i};t.$18=null;t.$D=i.get_$BZ();t.execute();t.dispose()}},26))}this.$1Cl()},$KZ:function(n,t){if(Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(this.get_Data())){if(this.set_Text(this.get_Data().get_$8z()),Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var r=this.get_Data().get_$BZ().toString(),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r);this.$JX=!$0.$0(i)&&i.$BW?!0:!1;this.set_CanNavigate(this.$JX)}}else String.isInstanceOfType(this.get_Data())?this.set_Text(this.get_Data()):this.set_Text("");Microsoft.Crm.Client.Core.ViewModels.$SV.prototype.$KZ.call(this,n,t)},$1Cl:function(){return this.$JX&&Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(this.get_Data())&&!(Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2))&&Microsoft.Crm.Client.Core.ViewModels.$SV.prototype.$1Cl.call(this)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.get_Data().get_$BZ(),1)},$Oh:function(){this.set_ActionCommand(null);Microsoft.Crm.Client.Core.ViewModels.$24.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NotesItem",Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.prototype={$nc:null,$1gS:null,$1fO:null,$69:null,$1Vt:null,get_Subject:function(){return this.$nc},set_Subject:function(n){return this.$nc=n,this.$7("Subject"),n},get_ModifiedOn:function(){return this.$1gS},set_ModifiedOn:function(n){return this.$1gS=n,this.$7("ModifiedOn"),n},get_LastModifiedBy:function(){return this.$1fO},set_LastModifiedBy:function(n){return this.$1fO=n,this.$7("LastModifiedBy"),n},get_Text:function(){return this.$69},set_Text:function(n){return this.$69=n,this.$7("Text"),n},get_AttachmentFileName:function(){return this.$1Vt},set_AttachmentFileName:function(n){return this.$1Vt=n,n},get_AttachmentsControlViewModel:function(){return!$0.$0(this.$H)&&"AttachmentsControlViewModel"in this.$H?this.$H.AttachmentsControlViewModel:null}};Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel=function(){this.$$d_$2vd=Function.createDelegate(this,this.$2vd);Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("OneNoteItem",Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel.prototype={$1GD:null,$1LU:null,$1CQ:null,$1Q1:null,$1Q0:null,$1Ez:null,$j6:null,$gj:null,get_OneNoteShortPressCommand:function(){return this.$gj},get_FullName:function(){return this.$1GD},set_FullName:function(n){return this.$1GD!==n&&(this.$1GD=n,this.$7("FullName")),n},get_Modified:function(){return this.$1LU},set_Modified:function(n){return this.$1LU!==n&&(this.$1LU=n,this.$7("Modified")),n},get_Author:function(){return this.$1CQ},set_Author:function(n){return this.$1CQ!==n&&(this.$1CQ=n,this.$7("Author")),n},get_SharepointModifiedBy:function(){return this.$1Q1},set_SharepointModifiedBy:function(n){return this.$1Q1!==n&&(this.$1Q1=n,this.$7("SharepointModifiedBy")),n},get_SharepointCreatedOn:function(){return this.$1Q0},set_SharepointCreatedOn:function(n){return this.$1Q0!==n&&(this.$1Q0=n,this.$7("SharepointCreatedOn")),n},get_EditUrl:function(){return this.$1Ez},set_EditUrl:function(n){return this.$1Ez!==n&&(this.$1Ez=n,this.$7("EditUrl")),n},get_AbsoluteUrl:function(){return this.$j6},set_AbsoluteUrl:function(n){return this.$j6!==n&&(this.$j6=n,this.$7("AbsoluteUrl")),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$gj=new Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand("onenote:",this.$j6);this.AddPropertyChangedListener("AbsoluteUrl",this.$$d_$2vd)},$Oh:function(){$0.$0(this.$gj)||(this.$gj.dispose(),this.$gj=null);this.RemovePropertyChangedListener("AbsoluteUrl",this.$$d_$2vd);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$2vd:function(){if(!$0.$0(this.$gj)){var n=this.$gj;$0.$0(this.$j6)||n.set_$Dt(this.$j6)}}};Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel=function(){this.$$d_$2kw=Function.createDelegate(this,this.$2kw);this.$$d_$15g=Function.createDelegate(this,this.$15g);this.$$d_$27g=Function.createDelegate(this,this.$27g);this.$13N=!Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled();this.$1D8={};this.$1IM=Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled();Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.initializeBase(this);this.$si=!0;this.AddPropertyChangedListener("InvalidViewModels",this.$$d_$27g)};Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("PanoramaItem",Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.prototype={$no:null,$E6:!1,$47:"",$ZY:null,$Ee:null,$17Q:!1,$1G3:!1,$Ag:null,get_TitleShortPressCommand:function(){return this.$no},set_TitleShortPressCommand:function(n){return this.$no!==n&&($0.$0(this.$no)||(this.$no.dispose(),this.$no=null),this.$no=n,this.$7("TitleShortPressCommand")),n},get_DisableHeaderLongPress:function(){return this.$E6},set_DisableHeaderLongPress:function(n){return this.$E6=n,n},get_ErrorMessage:function(){return this.$47},set_ErrorMessage:function(n){return this.$47!==n&&(this.$47=n,this.$7("ErrorMessage")),n},get_LabelValue:function(){return this.$ZY},set_LabelValue:function(n){return this.$ZY!==n&&(this.$ZY=n),n},get_TestabilityAttributes:function(){return this.$Ee},set_TestabilityAttributes:function(n){return this.$Ee!==n&&(this.$Ee=n,this.$7("TestabilityAttributes")),n},get_HideChildren:function(){return this.$1IM},set_HideChildren:function(n){return this.$1IM!==n&&(this.$1IM=n,this.$7("HideChildren")),n},get_SearchButtonPress:function(){return this.$17Q},set_SearchButtonPress:function(n){return this.$17Q!==n&&(this.$17Q=n),n},get_HasFocus:function(){return Microsoft.Crm.Client.Core.ViewModels.$SK.prototype.get_HasFocus.call(this)},set_HasFocus:function(n){return Microsoft.Crm.Client.Core.ViewModels.$SK.prototype.set_HasFocus.call(this,n),n&&(this.$7("ScrollToFocused"),this.$1G3=!0),n},get_HasSeeMoreButton:function(){return!$0.$0(this.$zC)},$zC:null,get_SeeMoreButtonViewModel:function(){return this.$zC},set_SeeMoreButtonViewModel:function(n){return this.$zC=n,n},get_ForceScrollToFocus:function(){return this.$1G3},set_ForceScrollToFocus:function(n){return this.$1G3=n,n},$ol:!1,get_HalfHeight:function(){return this.$ol},set_HalfHeight:function(n){return this.$ol=n,n},$zB:null,get_SectionId:function(){return this.$zB},set_SectionId:function(n){return this.$zB=n,n},get_$1Xq:function(){return Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()},get_PluralName:function(){return this.$Ag},$2Z:function(){var t,i,n,r;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);t=this.$H;for(i in t)n={key:i,value:t[i]},(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(n.value)||Microsoft.Crm.Client.Core.ViewModels.$9e.isInstanceOfType(n.value))&&(this.$E6=!0),Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(n.value)&&(r=n.value,r.$1AN=this.$ol,this.$zC=r);this.AddPropertyChangedListener("IsSelected",this.$$d_$15g);this.$rl();this.$37Y();this.get_IsInteractionCentricEnabled()&&this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84,this.$$d_$2kw);this.$Ee["data-panetype"]==="DrilldownPane"&&(this.$Ag=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D).$Ag)},$2kw:function(n){n.$1TB==="SearchBoxEnterKeyPress"&&(this.$17Q=!0)},get_TabSpaceReserved:function(){return 200},$rl:function(){var t=this.$20j(),i="GeneralPane",r=this.$L,n;r==="ProxyProcessControl"?i="ProcessPane":t&&Microsoft.Crm.Client.Core.Framework.$9t.isInstanceOfType(t)&&(i=t.get_$1i6(),$0.$0(t.get_$1i4())||(r=t.get_$1i4()));n={};n["data-id"]="PaneHeader";n["data-panetype"]=i;n["data-panename"]=r;n["data-loaded"]=this.$13N;this.set_TestabilityAttributes(n)},$1fe:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i,r,u,s,n,f,e,o;if(this.$13N)t.resolve(!0);else{i=[];r=this.$H;for(u in r)s={key:u,value:r[u]},n=s.value,n.$2Z(),Microsoft.Crm.Client.Core.ViewModels.$DA.isInstanceOfType(n)&&n.get_IsLoading()&&(f=MscrmComponents.DeferredPromiseFactory(Boolean,Object),e=this.$2gt(f),this.$1D8[n.get_ViewModelId()]=e,n.apcl("IsLoading",e),Array.add(i,f.promise()));o=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).always(function(){t.resolve(!0);o.$13N=!0;o.$rl()});this.set_HideChildren(!1)}return t.promise()},$37Y:function(){var i=this.$20j(),n,t;Microsoft.Crm.Client.Core.Framework.$D9.isInstanceOfType(i)&&(n=i.get_$1u(),t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54(),$0.$0(n)||t.$1na(n)||t.$6Q(n,1)||this.set_Visible(!1))},$20j:function(){var t=this.$H,n,i;for(n in t)return i={key:n,value:t[n]},i.value;return null},$nR:function(n){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$nR.call(this,n);this.$si&&this.$4u&&this.set_Visible(this.$SG>0)},$15g:function(){var n,t,i,r;if(this.get_IsSelected()&&!$0.$0(this.$H)){n=this.$H;for(t in n)i={key:t,value:n[t]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(i.value)&&(r=i.value,r.set_$KH(!0))}},$27g:function(){if(this.set_ErrorMessage(this.$AZ.get_Count()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Form_Component_Error"):""),Microsoft.Crm.Client.Core.Framework.$6.get_$3A()){var n="FieldErrorNotification";this.$AZ.get_Count()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33()===this.$2&&Microsoft.Crm.Client.Core.ViewModels.$10.$wc(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notification_Field_Error"),3,n,null,-1):Microsoft.Crm.Client.Core.ViewModels.$10.$Lc(n)}},$Oh:function(){this.set_TitleShortPressCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this);this.get_IsInteractionCentricEnabled()&&this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84,this.$$d_$2kw)},$1Et:function(n){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$1Et.call(this,n);n.RemovePropertyChangedListener("IsLoading",this.$1D8[n.get_ViewModelId()])},$xQ:function(){var r,u,n,f,t,i;if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$qH(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$1X8(),!$0.$0(this.$H)&&Microsoft.Crm.Client.Core.Framework.$1B.$s(this.$H)===1){r=this.$H;for(u in r)if(n={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(n.value)&&Microsoft.Crm.Client.Core.ViewModels.$9c.isInstanceOfType(n.value)&&Microsoft.Crm.Client.Core.Framework.$9t.isInstanceOfType(n.value)&&(f=n.value.get_$1i6(),f!=="GridListPane"&&(t=n.value,i=t,Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(t)&&(i=t.$2eC()),!$0.$0(i)))){var o=n.value,e=o.get_$qQ(),s=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y;if(e!=="CustomControlUnloaded")return s.$vj(e,i)}}return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.set_IsLoading(!1),MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7).resolve(!0).promise()},$2gt:function(n){var t=this;return function(i){i.rpcl("IsLoading",t.$1D8[i.get_ViewModelId()]);n.resolve(!0)}}};Microsoft.Crm.Client.Core.ViewModels.$Ds=function(){this.$$d_$KZ=Function.createDelegate(this,this.$KZ);Microsoft.Crm.Client.Core.ViewModels.$Ds.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ds.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("ProgressBar",Microsoft.Crm.Client.Core.ViewModels.$Ds)};Microsoft.Crm.Client.Core.ViewModels.$Ds.prototype={$tw:0,$153:100,$1Mq:0,get_MaximumValue:function(){return this.$153},set_MaximumValue:function(n){return this.$153=n,n},get_MinimumValue:function(){return this.$tw},set_MinimumValue:function(n){return this.$tw=n,n},set_$2xJ:function(n){return this.$1Mq=this.$1Mq>100?100:n<0?0:n,this.$7("PercentageValue"),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.AddPropertyChangedListener("Data",this.$$d_$KZ);this.$2He()},$KZ:function(){this.$2He()},$2He:function(){this.$tw<this.$153&&this.set_$2xJ(Math.round((this.get_Data()-this.$tw)/(this.$153-this.$tw)*100))}};Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel=function(n){var t,i,r,u,f,e,o;this.$$d_$28U=Function.createDelegate(this,this.$28U);this.$$d_$28T=Function.createDelegate(this,this.$28T);this.$$d_$2v2=Function.createDelegate(this,this.$2v2);this.$$d_$2vH=Function.createDelegate(this,this.$2vH);this.$$d_$28S=Function.createDelegate(this,this.$28S);this.$$d_$27U=Function.createDelegate(this,this.$27U);this.$$d_$1gx=Function.createDelegate(this,this.$1gx);this.$$d_$2oa=Function.createDelegate(this,this.$2oa);this.$$d_$2p6=Function.createDelegate(this,this.$2p6);this.$$d_$2pV=Function.createDelegate(this,this.$2pV);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2Qf=Function.createDelegate(this,this.$2Qf);this.$$d_$2Qd=Function.createDelegate(this,this.$2Qd);this.$$d_$2Qa=Function.createDelegate(this,this.$2Qa);this.$$d_$2Qb=Function.createDelegate(this,this.$2Qb);this.$$d_$1so=Function.createDelegate(this,this.$1so);this.$$d_$CO=Function.createDelegate(this,this.$CO);this.$$d_$QG=Function.createDelegate(this,this.$QG);this.get_AttributeMetadata=this.get_$1Vw;this.set_AttributeMetadata=this.set_$1Vw;Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$2M4=this.get_AttributeFieldNames;Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.initializeBase(this,[n]);this.$IZ.$1J6=!0;this.$a1=new Microsoft.Crm.Client.Core.ViewModels.Common.$8b(this);t=this;this.set_RequestCloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$QG,1013,this,"IsCloseButtonEnabled",function(){return t.get_$1dz()}));i=this;this.set_$1ti(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$CO,1013,this,"CanCreate",function(){return i.get_CanCreate()}));r=this;this.set_CreateAndCloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1so,1013,this,"CanCreate",function(){return r.get_CanCreate()}));u=this;this.set_$1sp(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Qb,1013,this,"CanCreate",function(){return u.get_CanCreate()}));f=this;this.set_CreateAndEditPanoramaCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Qa,1013,this,"CanCreate",function(){return f.get_CanCreate()}));e=this;this.set_CreateAndProcessNavigateCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Qd,1013,this,"CanCreate",function(){return e.get_CanCreate()}));o=this;this.set_$1ss(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Qf,1013,this,"CanCreate",function(){return o.get_CanCreate()}));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He);this.AddPropertyChangedListener("IsValid",this.$$d_$2pV);this.AddPropertyChangedListener("IsSaving",this.$$d_$2p6);this.AddPropertyChangedListener("IsNoteRequiredFieldFilled",this.$$d_$2oa)};Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype={$a1:null,$O0:null,$V8:null,$17l:null,$1Of:null,$17C:null,$10v:null,$jl:null,$jm:null,$qU:null,$qV:null,$qW:null,$1eo:!1,$1K9:!1,$1ep:!0,$1JD:!1,$hj:!1,$5i:null,$Ek:null,$f8:null,$J2:null,$1Cn:!1,$Ok:!1,$1Jy:!0,$242:!0,$Bz:null,$4I:null,$1l:null,$1gZ:!0,$S8:!1,$D0:null,$1Dr:null,$D6:0,$2Nt:function(n){return n},$He:function(){this.$7("IsSaveAndEditButtonHidden");this.$7("IsSaveAndProcessNavigateButtonHidden");this.$7("CreateAndCloseButtonText")},$2pV:function(){this.$7("CanCreate")},$2p6:function(){this.$7("CanCreate");this.$7("IsCloseButtonEnabled")},$2oa:function(){this.$7("CanCreate")},add_PreNavigation:function(n){this.$1p("PreNavigation",n)},remove_PreNavigation:function(n){this.$32("PreNavigation",n)},add_$1j7:function(n){this.$1p("RecordSaved",n)},add_$2Ab:function(n){this.$1p("RecordNotSaved",n)},get_CreateRecordActionProvider:function(){return this.$O0},set_CreateRecordActionProvider:function(n){return this.$O0=n,n},get_RetrieveCreateFormDataXmlActionProvider:function(){return this.$1Of},set_RetrieveCreateFormDataXmlActionProvider:function(n){return this.$1Of=n,n},get_RetrieveProcessActionProvider:function(){return this.$17C},set_RetrieveProcessActionProvider:function(n){return this.$17C=n,n},get_SetEntityReferenceActionProvider:function(){return this.$V8},set_SetEntityReferenceActionProvider:function(n){return this.$V8=n,n},get_SetModelFromRetrievedEntityActionProvider:function(){return this.$17l},set_SetModelFromRetrievedEntityActionProvider:function(n){return this.$17l=n,n},set_$1ti:function(n){return $0.$0(this.$10v)||(this.$10v.dispose(),this.$10v=null),this.$10v=n,n},get_CreateAndCloseCommand:function(){return this.$jl},set_CreateAndCloseCommand:function(n){return $0.$0(this.$jl)||(this.$jl.dispose(),this.$jl=null),this.$jl=n,n},get_CreateAndEditPanoramaCommand:function(){return this.$jm},set_CreateAndEditPanoramaCommand:function(n){return $0.$0(this.$jm)||(this.$jm.dispose(),this.$jm=null),this.$jm=n,n},set_$1sp:function(n){return $0.$0(this.$qU)||(this.$qU.dispose(),this.$qU=null),this.$qU=n,n},set_$1ss:function(n){return $0.$0(this.$qW)||(this.$qW.dispose(),this.$qW=null),this.$qW=n,n},get_CreateAndProcessNavigateCommand:function(){return this.$qV},set_CreateAndProcessNavigateCommand:function(n){return $0.$0(this.$qV)||(this.$qV.dispose(),this.$qV=null),this.$qV=n,n},get_CanCreate:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?!1:this.$BY&&!this.$Ok&&this.$1Jy},get_ShowIcon:function(){return this.$hj},set_ShowIcon:function(n){return this.$hj!==n&&(this.$hj=n,this.$7("ShowIcon")),n},get_Title:function(){return this.$5i},set_Title:function(n){return this.$5i!==n&&(this.$5i=n,this.$7("Title")),n},get_BoundField:function(){return this.$Ek},set_BoundField:function(n){return this.$Ek=n,n},get_FormDataXml:function(){return this.$f8},set_FormDataXml:function(n){return this.$f8=n,n},get_$1dz:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?!1:this.$242&&!this.$Ok},get_CanBeInitialized:function(){return this.$1Cn},set_CanBeInitialized:function(n){return this.$1Cn=n,n},get_AttributeFieldNames:function(){return this.$4I},set_AttributeFieldNames:function(n){return n===this.$4I?n:(this.$4I=n,this.$7("AttributeFieldNames"),n)},get_$1Vw:function(){return this.$1l},set_$1Vw:function(n){return n===this.$1l?n:(this.$1l=n,this.$7("AttributeMetadata"),n)},get_RetrieveOptions:function(){return Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq()},get_IsSaving:function(){return this.$Ok},set_IsSaving:function(n){return this.$Ok!==n&&(this.$Ok=n,this.$7("IsSaving")),n},set_$2oZ:function(n){return this.$1Jy!==n&&(this.$1Jy=n,this.$7("IsNoteRequiredFieldFilled")),n},get_IsSaveAndCloseButtonHidden:function(){return this.$1eo},set_IsSaveAndCloseButtonHidden:function(n){return this.$1eo=n,this.$7("IsSaveAndCloseButtonHidden"),n},get_IsSaveAndEditButtonHidden:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$B5()?this.$1K9:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?this.$1K9:!0},set_IsSaveAndEditButtonHidden:function(n){return this.$1K9=n,this.$7("IsSaveAndEditButtonHidden"),n},get_IsSaveAndProcessNavigateButtonHidden:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?this.$1ep:!0},set_IsSaveAndProcessNavigateButtonHidden:function(n){return this.$1ep=n,this.$7("IsSaveAndProcessNavigateButtonHidden"),n},get_IsCloseButtonHidden:function(){return this.$1JD},set_IsCloseButtonHidden:function(n){return this.$1JD!==n&&(this.$1JD=n,this.$7("IsCloseButtonHidden")),n},get_SavingText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SavingInformation")+"..."},get_$31Y:function(){return!0},get_$VL:function(){return this.get_$2ns()?Microsoft.Crm.Client.Core.Framework.$6.get_$3A()?!0:this.$S8:!0},get_$2ns:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$24C()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$24D()},get_StartIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?1e4:-3e4},get_CreateAndCloseButtonText:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$B5()?this.get_$1Xx():Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?this.get_$1Xx():Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Save_Draft_Text")},get_CreateAndEditButtonText:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1Dr)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Create_And_Edit_Button_Text"):this.$1Dr},set_CreateAndEditButtonText:function(n){return this.$1Dr=n,n},get_CancelButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text")},get_$2Xe:function(){return this.$D6},get_IsNoteQuickCreateForm:function(){return this.$D==="annotation"&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("DeviceIntegration")},get_$1Xx:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Create_And_Close_Button_Text")},$2Z:function(){if(Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$2Z.call(this),!$0.$0(this.$4I))if($0.$0(this.$K.$M))this.$eB();else{var t=this.$K.$M.InitializeFrom,n=null;$0.$0(this.$K.$M.InitializationParameters)||(n=this.$K.$M.InitializationParameters,$0.$0(n.InitializeFrom)||(t=n.InitializeFrom));this.$2m1(n);$0.$0(n)||$0.$0(n.BoundField)?$0.$0(this.$K.$M.BoundField)||(this.$Ek=this.$K.$M.BoundField):this.$Ek=n.BoundField;$0.$0(this.get_ModelContext())&&this.$1Ig(t,n)}Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("QuickCreateFormPresent",!0)},$1Ig:function(n,t){switch(n){case 1:this.$2Rf(t);break;case 2:this.$1tM();break;case 3:this.$2Rg();break;default:this.$eB()}},$2m1:function(n){$0.$0(n)||$0.$0(n.IsSaveAndCloseButtonHidden)?$0.$0(this.$K.$M.IsSaveAndCloseButtonHidden)||this.set_IsSaveAndCloseButtonHidden(this.$K.$M.IsSaveAndCloseButtonHidden):this.set_IsSaveAndCloseButtonHidden(n.IsSaveAndCloseButtonHidden);$0.$0(n)||$0.$0(n.IsSaveAndEditButtonHidden)?$0.$0(this.$K.$M.IsSaveAndEditButtonHidden)||this.set_IsSaveAndEditButtonHidden(this.$K.$M.IsSaveAndEditButtonHidden):this.set_IsSaveAndEditButtonHidden(n.IsSaveAndEditButtonHidden);$0.$0(n)||$0.$0(n.IsSaveAndProcessNavigateButtonHidden)?$0.$0(this.$K.$M.IsSaveAndProcessNavigateButtonHidden)||this.set_IsSaveAndProcessNavigateButtonHidden(this.$K.$M.IsSaveAndProcessNavigateButtonHidden):this.set_IsSaveAndProcessNavigateButtonHidden(n.IsSaveAndProcessNavigateButtonHidden);$0.$0(n)||$0.$0(n.IsCloseButtonHidden)?$0.$0(this.$K.$M.IsCloseButtonHidden)||this.set_IsCloseButtonHidden(this.$K.$M.IsCloseButtonHidden):this.set_IsCloseButtonHidden(n.IsCloseButtonHidden)},$MZ:function(n){if(this.set_IsSaving(!1),this.$Bz=n,$0.$0(this.$4d("RecordNotSaved"))||n.$m===-2147220891)Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$MZ.call(this,n);else{var t=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M.$128(n);this.$9n("RecordNotSaved",t)}},$27X:function(n,t){this.$1Hy(n,t);this.$2LE(n)},$27U:function(n){var t,i;this.set_IsSaving(!1);switch(n.$m){case-2147220685:t=n;this.$D0=t.$D0;i=this.$1Of.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i);break;default:this.$MZ(n)}},$1gx:function(n){if(n==="Save")this.$S8=!0,this.$CO();else if(n.indexOf("OpenRecord")!==-1){var t=$(n),i=this,r=this;Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_Dialog_Warning"),1,function(){i.set_IsSaving(!1);var n=t.find("type").text(),r=t.find("Id").text();$0.$0(n)||$0.$0(r)||(Xrm.Utility.openEntityForm(n,r),i.$QG())},function(){r.set_IsSaving(!1)},Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_LeaveButton"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_StayButton"))}},$2v2:function(n){this.set_ModelContext(n)},$28S:function(n){this.$f8=n;Microsoft.Crm.Client.Core.ViewModels.$7R.$17u(this.$f8,this.$$d_$1gx,"")},$28U:function(n){var i,t;this.$2h||(i=n[0],i&&this.get_ModelContext().SetValue("processid",i),t=n[1],t&&(this.get_ModelContext().SetValue("stageid",t),this.get_ModelContext().SetValue("traversedpath",t.toString())),this.$wy())},$28T:function(){this.$wy()},$2vH:function(n){this.set_ModelContext(n)},$2Rf:function(n){var t=null,i,r;$0.$0(n)||(t=n.RefreshContext);$0.$0(t)?this.$D==="annotation"||$0.$0(this.$K.$8n)||$0.$0(this.$K.$8n.get_ModelContext())||!this.$1Cn?this.$eB():(r=this,Microsoft.Crm.Client.Core.Models.$c.$23P(this.$K.$8n.get_ModelContext(),this.$D,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(n){r.set_ModelContext(n)},this.$$d_$27U)):(i=this,Microsoft.Crm.Client.Core.Models.$c.$23P(t.get_ModelContext(),this.$D,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(n){i.set_ModelContext(n)},this.$$d_$27U))},$2Rg:function(){if($0.$0(this.$K.$8n)||$0.$0(this.$K.$8n.get_ModelContext()))this.$eB();else if(!$0.$0(this.$17l)){var n=this.$17l.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$1tM:function(){var n,t,i,f;if(!$0.$0(this.$K.$M)&&"InitializationParameters"in this.$K.$M){if(n=this.$K.$M.InitializationParameters,"RelationshipAttribute"in n&&n.RelationshipAttribute.length>0){t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(this.$4I);for(var u=n.RelationshipAttribute,e=u.length,r=0;r<e;++r)i=u[r],$0.$0(i)||t.contains(i)||t.add(i);this.set_AttributeFieldNames(t.toArray())}f=this;Microsoft.Crm.Client.Core.Models.$c.$1If(this.$D,n,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(n){f.set_ModelContext(n)},this.$$d_$27U)}else this.$eB()},$eB:function(){var n=this;Microsoft.Crm.Client.Core.Models.$c.$jn(this.$D,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(t){if($0.$0(n.$K.$8n)||$0.$0(n.$K.$8n.get_ModelContext())||$0.$0(n.$Ek))n.set_ModelContext(t);else if(!$0.$0(n.$V8)&&!$0.$0(n.$K.$8n.get_ModelContext().get_Id())){n.set_ModelContext(t);var i=n.$V8.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i)}},this.$$d_$27U)},$QG:function(){Microsoft.Crm.Client.Core.ViewModels.$CD.prototype.$QG.call(this);Xrm.Internal.disableFieldChangeIndicator();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("QuickCreateFormPresent",!1);Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$1Nb-=1},$1so:function(){this.$D6=1;this.$CO()},$2Qa:function(){this.$D6=3;this.$CO()},$2Qf:function(){this.$D6=5;this.$CO()},$2Qd:function(){this.$D6=4;this.$CO()},$CO:function(){var n,t;Microsoft.Crm.Client.Core.Framework.$6.$4N||(n=this.$4d("PreNavigation"),n&&n(this,null),$0.$0(this.$17C)?this.$wy():(t=this.$17C.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)),this.set_IsSaving(!0))},$wy:function(){if(!Microsoft.Crm.Client.Core.Framework.$6.$4N&&!$0.$0(this.$O0)){var n=this.$O0.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$2Qb:function(){this.$D6=2;this.$CO()},$1Hy:function(n,t){var u,f,i,e;if($0.$0(n)&&$0.$0(t)&&this.set_IsSaving(!1),u=null,$0.$0(n)||$0.$0(t)||(u=this.$4d("RecordSaved")),!$0.$0(t))switch(this.$D6){case 1:this.$QG();break;case 2:var l={ParentReference:this.$J2},a={PrimaryModelName:this.$D,externalParameters:l},o=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CreateCommand",null,a));o.execute();o.dispose();this.$QG();break;case 3:f=new Microsoft.Crm.Client.Core.Commands.$2R(this,2);f.execute();f.dispose();this.$1gZ=!1;this.$QG();break;case 4:var s=null,r=this.$K.$M.InitializationParameters,h="",c="";$0.$0(r)||($0.$0(r.RefreshContext)||(s=r.RefreshContext),$0.$0(r.NewActiveStageId)||(h=r.NewActiveStageId),$0.$0(r.NewTraversedPath)||(c=r.NewTraversedPath));i={};i.NextEntityId=t.get_$4m();i.NextEntityLogicalName=t.get_$BZ();i.TargetViewModel=s;i.ActionType="NavigateToNextEntity";i.NewActiveStageId=h;i.NewTraversedPath=c;e=new Microsoft.Crm.Client.Core.ViewModels.Commands.$AH(i);e.execute();e.dispose();this.$QG();break;case 5:this.set_IsSaving(!1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1jh(2)}$0.$0(u)||u(new Microsoft.Crm.Client.Core.ViewModels.$Mc(n,t))},$2LE:function(n){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("LandingPage")&&!$0.$0(n)&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n)){var t=n.$I;$0.$0(t)||Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$2tw(t)}},$1WU:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N},$Oh:function(){this.$a1.$5E();this.set_RequestCloseCommand(null);this.set_$1ti(null);this.set_CreateAndCloseCommand(null);this.set_$1sp(null);this.set_CreateAndEditPanoramaCommand(null);this.set_CreateAndProcessNavigateCommand(null);this.set_$1ss(null);this.RemovePropertyChangedListener("IsValid",this.$$d_$2pV);this.RemovePropertyChangedListener("IsSaving",this.$$d_$2p6);this.RemovePropertyChangedListener("IsNoteRequiredFieldFilled",this.$$d_$2oa);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);this.$1gZ&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_ModelContext())&&this.get_ModelContext().$5E();this.$O0=null;Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Sh=function(){this.$$d_$2vc=Function.createDelegate(this,this.$2vc);Microsoft.Crm.Client.Core.ViewModels.$Sh.initializeBase(this,[22])};Microsoft.Crm.Client.Core.ViewModels.$Sh.prototype={$He:function(n,t){Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.$He.call(this,n,t);this.$7("CanCreate")},get_CanCreate:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$14U()&&Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.get_CanCreate.call(this)},get_CreateAndCloseButtonText:function(){return this.get_$1Xx()},$2vc:function(n){this.$1Hy(this.get_ModelContext(),n)}};Microsoft.Crm.Client.Core.ViewModels.$6e=function(){Microsoft.Crm.Client.Core.ViewModels.$6e.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$6e.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$6e.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Real",Microsoft.Crm.Client.Core.ViewModels.$6e);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Money",Microsoft.Crm.Client.Core.ViewModels.$6e)};Microsoft.Crm.Client.Core.ViewModels.$6e.prototype={$PC:0,$B8:0,$B9:0,get_$16G:function(){return this.$PC},set_$16G:function(n){return this.$PC!==n&&(this.$PC=n,this.$7("Precision")),n},get_$UC:function(){return this.$B8},set_$UC:function(n){return this.$B8!==n&&(this.$B8=n,this.$7("MaxValue")),n},get_$UF:function(){return this.$B9},set_$UF:function(n){return this.$B9!==n&&(this.$B9=n,this.$7("MinValue")),n}};Microsoft.Crm.Client.Core.ViewModels.$Mc=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Mc.initializeBase(this);this.$1LT=n;this.$AK=t};Microsoft.Crm.Client.Core.ViewModels.$Mc.prototype={$1LT:null,$AK:null};Microsoft.Crm.Client.Core.ViewModels.$7R=function(){};Microsoft.Crm.Client.Core.ViewModels.$7R.$17u=function(n,t,i){var f,r,e,u;$0.$1Y(n)||(f={},f.xml=n,r="/Tools/DuplicateDetection/ViewDuplicates/ViewDuplicatesOnline.aspx?source=1&showopen=true",$0.$0(i)||(e="&oid="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$nt(i),r=String.format("{0}{1}",r,e)),u=new Xrm.DialogOptions,u.height=500,u.width=500,Xrm.Internal.openDialog(r,u,f,null,t))};Microsoft.Crm.Client.Core.ViewModels.$E1=function(){Microsoft.Crm.Client.Core.ViewModels.$E1.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$E1.prototype={$Nv:null,get_ClearValueCommand:function(){return this.$Nv},set_ClearValueCommand:function(n){return this.$Nv!==n&&(this.$Nv=n,this.$7("ClearValueCommand")),n},get_ClearFieldText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Clear_Field_Text")},get_OkText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text")},$1SY:0,get_Behavior:function(){return this.$1SY},set_Behavior:function(n){return this.$1SY=n,n},get_CancelText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text")},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);var n=this;this.set_ClearValueCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){n.set_Data(null);n.set_HasFocus(!1)},26))},$Oh:function(){this.$Nv.dispose();this.set_ClearValueCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Se=function(){Microsoft.Crm.Client.Core.ViewModels.$Se.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Se.prototype={$2Z0:function(){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F(),t=new Array(0),n;for(i&&t.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("NoFilter",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_FilterOption_Nofilter"))),n=0;n<this.$F4.length;n++)Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$F4[n])&&t.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm(this.$F4[n],this.$HP[n]));return t}};Microsoft.Crm.Client.Core.ViewModels.$Sf=function(){Microsoft.Crm.Client.Core.ViewModels.$Sf.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Sf.prototype={$2Z0:function(){var n=new Array(0);return n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("DeviceDefault",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_Default"))),n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("640X480",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_640X480"))),n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("1024X768",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_1024X768"))),n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("1600X1200",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_1600X1200"))),n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("2048X1536",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_2048X1536"))),n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("2592X1936",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_2592X1936"))),n}};Microsoft.Crm.Client.Core.ViewModels.$6L=function(){Microsoft.Crm.Client.Core.ViewModels.$6L.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$6L.prototype={$OL:null,get_FieldName:function(){return this.$OL},set_FieldName:function(n){return this.$OL=n,n},get_TabSpaceReserved:function(){return 1},onClick:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("SimpleButtonClicked",0,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$33e(this.$OL)}};Microsoft.Crm.Client.Core.ViewModels.$EJ=function(){Microsoft.Crm.Client.Core.ViewModels.$EJ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EJ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("TextBox",Microsoft.Crm.Client.Core.ViewModels.$EJ)};Microsoft.Crm.Client.Core.ViewModels.$EJ.prototype={$1iQ:null,get_PlaceholderText:function(){return this.$1iQ},set_PlaceholderText:function(n){return this.$1iQ=n,n}};Microsoft.Crm.Client.Core.ViewModels.$BD=function(){Microsoft.Crm.Client.Core.ViewModels.$BD.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$BD.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("Tile",Microsoft.Crm.Client.Core.ViewModels.$BD.$39i)};Microsoft.Crm.Client.Core.ViewModels.$BD.$39i=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$BD;return n.set_CalculateTileCountCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CalculateTileCount","CalculateCount",null,null))),n.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("TileClick","clicked"))),n};Microsoft.Crm.Client.Core.ViewModels.$BD.prototype={$8l:null,$dt:null,$Fm:"",get_Count:function(){return this.$Fm},set_Count:function(n){return this.$Fm!==n&&(this.$Fm=n,this.$7("Count"),this.$1a||this.$Fm!=="--"||$0.$0(this.$dt)||this.$dt.execute()),n},get_ActionProvider:function(){return this.$8l},set_ActionProvider:function(n){return this.$8l=n,n},$1gG:"",get_MenuItemName:function(){return this.$1gG},set_MenuItemName:function(n){return this.$1gG=n,this.$7("MenuItemName"),n},$1gH:"",get_MenuItemType:function(){return this.$1gH},set_MenuItemType:function(n){return this.$1gH=n,this.$7("MenuItemType"),n},$2Z:function(){if(!this.$1a){if(!$0.$0(this.$8l)&&!$0.$0(this.get_ModelContext())){var n=this.$8l.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this)}},get_CalculateTileCountCommand:function(){return this.$dt},set_CalculateTileCountCommand:function(n){return $0.$0(this.$dt)||(this.$dt.dispose(),this.$dt=null),this.$dt=n,n},$Oh:function(){this.set_CalculateTileCountCommand(null);Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$EK=function(){Microsoft.Crm.Client.Core.ViewModels.$EK.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EK.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Time",Microsoft.Crm.Client.Core.ViewModels.$EK)};Microsoft.Crm.Client.Core.ViewModels.$SV=function(){this.$$d_$KZ=Function.createDelegate(this,this.$KZ);Microsoft.Crm.Client.Core.ViewModels.$SV.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$KZ)};Microsoft.Crm.Client.Core.ViewModels.$SV.prototype={$Sv:!1,$ND:!1,get_CanNavigate:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?!1:this.$Sv},set_CanNavigate:function(n){return this.$Sv!==n&&(this.$Sv=n,this.$7("CanNavigate")),n},get_UseHiddenMask:function(){return this.$ND},set_UseHiddenMask:function(n){return this.$ND=n,this.$7("UseHiddenMask"),this.set_CanNavigate(this.$1Cl()),n},$1Cl:function(){return!this.$ND},$KZ:function(){this.set_CanNavigate(this.$1Cl())}};Microsoft.Crm.Client.Core.ViewModels.$C=function(){this.$$d_$2t4=Function.createDelegate(this,this.$2t4);this.$$d_$2t8=Function.createDelegate(this,this.$2t8);this.$$d_$2t7=Function.createDelegate(this,this.$2t7);this.$$d_$1P2=Function.createDelegate(this,this.$1P2);this.$$d_$2v7=Function.createDelegate(this,this.$2v7);this.$$d_$2uz=Function.createDelegate(this,this.$2uz);Microsoft.Crm.Client.Core.ViewModels.$C.initializeBase(this);this.$vy=this.$$d_$2uz;this.$uj=this.$$d_$2v7;this.$15Z=this.$$d_$1P2;this.$uL=this.$$d_$2t7;this.$uM=this.$$d_$2t8;this.$t=0;this.$bH=null;this.$QQ=!1;this.$uP=!1;this.eventHandlers=new Sys.EventHandlerList;this.$Zi=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$Or=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$2d));this.$P0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV))};Microsoft.Crm.Client.Core.ViewModels.$C.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$C.$3)&&(Microsoft.Crm.Client.Core.ViewModels.$C.$3=new Microsoft.Crm.Client.Core.ViewModels.$C),Microsoft.Crm.Client.Core.ViewModels.$C.$3};Microsoft.Crm.Client.Core.ViewModels.$C.prototype={$t:0,$1Yd:null,$GN:null,$Or:null,$v:null,$5W:null,$A3:null,$vy:null,$uj:null,$15Z:null,$uL:null,$uM:null,$h0:!0,$QQ:!1,$1Qj:"StartOnLoadHandlersEvent",$uP:!1,$Zi:null,eventHandlers:null,$bH:null,$P0:null,add_$2TX:function(n){this.eventHandlers&&this.eventHandlers.addHandler("CustomEventPerf",n)},add_$TB:function(n){this.eventHandlers&&this.eventHandlers.addHandler("EnableEdits",n)},remove_$TB:function(n){this.eventHandlers&&this.eventHandlers.removeHandler("EnableEdits",n)},add_$2CZ:function(n){this.eventHandlers&&this.eventHandlers.addHandler("RootViewModelRegistered",n)},remove_$2CZ:function(n){this.eventHandlers&&this.eventHandlers.removeHandler("RootViewModelRegistered",n)},get_$1hQ:function(){return!$0.$0(this.$5W)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$5W)&&Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$5W.get_ModelContext())},get_$1E9:function(){return this.get_$1hQ()?this.$A3.get_$1B():this.$A3},add_$nb:function(n){this.eventHandlers.addHandler(this.$1Qj,n)},remove_$nb:function(n){this.eventHandlers.removeHandler(this.$1Qj,n)},$1iR:function(){if(this.$Or.get_Count()<1)return null;var n=this.$Or.get_$R(this.$Or.get_Count()-1);return this.$Or.removeAt(this.$Or.get_Count()-1),$0.$0(n)||n.dispose(),n},$2z9:function(n){this.$Or.add(n)},$26T:function(){return this.$Or.get_$R(this.$Or.get_Count()-1)},$1ZD:function(){$0.$0(this.$5W)||(this.$5W.remove_$6F(this.$uj),this.$5W.RemovePropertyChangedListener("ModelContext",this.$$d_$2t4),this.$5W=null);this.$1Eu()},$1Eu:function(){$0.$0(this.$A3)||(this.$1OE(this.$A3),this.$1OD(),this.$A3=null)},$1jH:function(n,t){this.$1ZD();this.$GN=null;this.$5W=n;this.$10M();t?(this.$v=null,this.$P0.clear(),$0.$0(n.$q)?n.add_$6F(this.$uj):this.$1ff()):(this.$1iR(),this.$v=this.$26T());this.get_$1hQ()?this.$1Bm(this.$A3):n.AddPropertyChangedListener("ModelContext",this.$$d_$2t4);this.$PF(!0)},$1jF:function(){this.$GN&&this.$GN.remove_$AT(this.$vy);this.$GN=null;this.$1ZD();this.$1iR();this.$t=0;this.$10M();this.$h0=!0;this.$QQ=!1;this.$Zi=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$v=null;this.$P0.clear()},$1jE:function(n,t,i){this.$1ZD();this.$1iR();this.$GN=null;this.$5W=n;this.$10M();!this.$Or.get_Count()||i?(this.$v=null,this.$P0.clear(),$0.$0(n.$q)?n.add_$6F(this.$uj):this.$1ff(),Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$5W.get_$1B())?this.$1Bm(this.$A3):n.AddPropertyChangedListener("ModelContext",this.$$d_$2t4)):this.$v=this.$26T();this.$PF(t);this.$Or.get_Count()&&!i&&this.$h0&&this.$jW()},$PF:function(n){this.$Zi=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$h0=n;Microsoft.Crm.Client.Core.Models.$m.isInstanceOfType(this.$5W.get_$1B())&&(this.$A3=this.$5W.get_$1B(),this.$1VH());this.$8X("RootViewModelRegistered",null)},$31d:function(){this.$1OE(this.$A3);this.$h0=!0;$0.$0(this.$A3)||this.$1Bm(this.$A3);$0.$0(this.$v)||this.$v.$Ea();this.$1dL()},$31e:function(n){this.$GN=null;this.$h0=!0;Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n)&&(this.$1OE(n),n.remove_$7L(this.$15Z));this.$1Eu();$0.$0(this.$v)||this.$v.$Ea();$0.$0(this.$5W)||(this.$5W.RemovePropertyChangedListener("ModelContext",this.$$d_$2t4),this.$5W.AddPropertyChangedListener("ModelContext",this.$$d_$2t4));this.$1dL()},$1jG:function(n){this.$Zi.contains(n)||this.$Zi.add(n)},$np:function(n){this.$Zi.contains(n)&&(this.$Zi.remove(n),this.$jW())},$2v7:function(){this.$5W.remove_$6F(this.$uj);this.$1ff()},$1ff:function(){var n=this.$5W.$q;(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&this.$2tl()&&(n=this.$5W.$D+"_gridform");this.$t!==1||$0.$0(this.$GN)||this.$GN.remove_$AT(this.$vy);this.$GN=this.$1Yd.$B1(n);$0.$0(this.$GN)?Microsoft.Crm.Client.Core.Framework.Trace.logError(1016,"Custom handlers retrieving action not found"):(this.$GN.add_$AT(this.$vy),this.$t=1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(this.$GN))},$2v1:function(n,t){$0.$0(t)||this.$GN!==n||(this.$2z9(t),this.$v=t,this.$t=0,this.$1dL())},$2v0:function(n){this.$GN===n&&(this.$t=0)},$2uz:function(){$0.$0(this.$GN)||this.$GN.remove_$AT(this.$vy)},$1dL:function(){var t,i,n,o,r,u,s,f,e;$0.$0(this.$v)||$0.$0(this.$v.$1Ei)?(this.$h0||this.$QQ)&&this.$jW():(t=new Microsoft.Crm.Client.Core.Models.Constants.$JV("Mscrm.HydrateModelDescriptor"),t.parameterArray=[],Array.add(t.parameterArray,this.$v.$1Ei),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV)),i.add(t),n=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(i,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),null,function(t){$0.$0(n.$v)||n.$v.$2Z(t[0]);n.$5W.$27Y();(n.$h0||n.$QQ)&&n.$jW()})));!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||$0.$0(this.$v)||$0.$0(this.$v.$LW)||(o=new Microsoft.Crm.Client.Core.Models.Constants.$JV("Mscrm.BusinessRulesScript.GetDataSetInitializers"),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV)),r.add(o),u=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(r,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),null,function(n){$0.$0(u.$v)||u.$v.$36v(n[0])})),s=new Microsoft.Crm.Client.Core.Models.Constants.$JV("Mscrm.BusinessRulesScript.GetDataSetRecordLoadHandlers"),f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV)),f.add(s),e=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(f,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),null,function(n){$0.$0(e.$v)||e.$v.$37O(n[0])})))},$2t4:function(){Microsoft.Crm.Client.Core.Models.$m.isInstanceOfType(this.$5W.get_$1B())&&(this.$1Eu(),this.$A3=this.$5W.get_$1B(),this.$t=0,this.$10M(),this.$QQ=!1,this.$1OD(),this.$27V()||this.$1Bm(this.$A3))},$2t8:function(){(Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$5W.get_$1B())||this.get_$1hQ())&&(this.$t=4,this.$1OD())},$2t7:function(n,t){if($0.$0(this.$5W)||$0.$0(this.$5W.get_$1B())||this.$5W.$2h){this.$t=0;return}var i=t;i.$VD?this.$2t6(i.$bD):this.$2t5(i.$bD)},$2t6:function(n){switch(n){case 2:case 3:switch(this.get_$1E9().$U4){case 0:return;case 1:this.$QQ=!0;this.$jW();return;default:this.$t=3;return}case 1:this.$QQ=!0;this.$jW();return}},$2t5:function(n){if(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||this.get_$1E9().$Ki&&this.get_$1E9().$Ki!==1){if(n!==1){this.$t=3;return}this.$QQ=!0;this.$jW()}},$33f:function(){var n,r,t,i;if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$5W)&&!this.$5W.$2h&&this.$v){if(n=this.$v.$21F(),$0.$0(n)||!n.get_Count())return;(r=Microsoft.Crm.Client.Core.Framework.Scheduler).set_HighPriorityBrowserAsyncWorkCount(Microsoft.Crm.Client.Core.Framework.Scheduler.$Ii+1);t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnCloseHandlers");t.start();i=new Microsoft.Crm.Client.Core.Models.$J7(7);Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$21F(),null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i))}},$33e:function(n){var t,i;if((Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$5W)||Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$5W)||n.startsWith("header_process_"))&&!this.$5W.$2h&&this.$v){if(t=this.$v.$2ho(n),$0.$0(t)||!t.get_Count())return;i=new Microsoft.Crm.Client.Core.Models.$J7(8,n);Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(t,null,this.$v.$G9,this.$v.$Dr,null,i))}},$jW:function(){var n,t,i;this.$2zM()&&(this.$8X(this.$1Qj,null),this.$1OE(this.$A3),$0.$0(this.$bH)?(n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("WaitForEditEnabled",null),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$5W,n)):this.$10M(),Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$5W)?this.$17I():(this.$bH=Microsoft.Crm.Client.Core.Framework.Scheduler.$1YG(),t=this,i=Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){t.$17I()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$17I,"CustomEventHandlersManager.RunOnLoadHandlers"),i.set_Owner(this.$bH)))},$33c:function(n){var i,t,r,u;!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||$0.$0(this.$v)||$0.$0(this.$v.$LW)||(i=this.$v.$2fW(n),!$0.$0(i)&&i.get_Count()>0&&!this.$v.$2lH(n)&&(t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunDataSetInitializer"),t.start(),r=new Microsoft.Crm.Client.Core.Models.$J7(12,n),u=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(i,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),r,function(){t.stop();t.get_$IT()>0&&u.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(t.$4n,t.get_$IT()))}))))},$2Cd:function(n){var i,t,r,u;(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!$0.$0(this.$v)&&(i=this.$v.$203(n),!$0.$0(i)&&i.get_Count()>0&&(t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnDataSetRecordLoadHandlers"),t.start(),r=new Microsoft.Crm.Client.Core.Models.$J7(12,n),u=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(i,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),r,function(){t.stop();t.get_$IT()>0&&u.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(t.$4n,t.get_$IT()))}))))},$2Ce:function(n){var i,t,r,u;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents")&&!$0.$0(this.$v)&&(i=this.$v.$2hr(n),!$0.$0(i)&&i.get_Count()>0&&(t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnDataSetRecordSaveHandlers"),t.start(),r=new Microsoft.Crm.Client.Core.Models.$J7(13,n),u=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(i,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),r,function(){t.stop();t.get_$IT()>0&&u.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(t.$4n,t.get_$IT()))}))))},$17I:function(){var n;if(this.$v.$31i(),this.$bH=null,this.$QQ=!1,!this.$5W.$2h){this.$1kZ(new Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs(1));n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnLoadHandlers");n.start();this.$1VH();var i=new Microsoft.Crm.Client.Core.Models.$J7(0),t=this,r=this;Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$2hp(),null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),i,function(){t.loadFinished();n.stop();n.get_$IT()>0&&t.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(n.$4n,n.get_$IT()));Microsoft.Crm.Client.Core.Framework.$5F.$1IV(function(){var n;(n=Microsoft.Crm.Client.Core.Framework.Scheduler).set_HighPriorityBrowserAsyncWorkCount(Microsoft.Crm.Client.Core.Framework.Scheduler.$Ii-1)})},function(){var n;(n=Microsoft.Crm.Client.Core.Framework.Scheduler).set_HighPriorityBrowserAsyncWorkCount(Microsoft.Crm.Client.Core.Framework.Scheduler.$Ii+1)}))}},loadFinished:function(){this.$t=2;Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Nu(this.$5W,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2YG());this.$8X("EnableEdits",null);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedEditReady",1,$0.$0(this.$5W)?null:this.$5W.$1P)},$2KX:function(n){var t=new Microsoft.Crm.Client.Core.Models.Constants.$JV;t.method=n;t.passExecutionContext=!0;this.$P0.add(t)},$1kZ:function(n){this.$P0.get_Count()>0&&Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$P0,n,null,null,null,new Microsoft.Crm.Client.Core.Models.$J7(1)))},$30m:function(n){for(var t=0;t<this.$P0.get_Count();t++)if(this.$P0.get_$R(t).method===n){this.$P0.remove(this.$P0.get_$R(t));break}},$1P2:function(n,t){var r,i,u,f;$0.$0(this.$v)||(r=this.$v.$2hn(t),!$0.$0(r)&&r.get_Count()>0&&!this.$v.$2oh(t)&&(i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnChangeHandlers"),i.start(),u=new Microsoft.Crm.Client.Core.Models.$J7(2,t),f=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(r,null,this.$v.$G9,this.$v.$Dr,null,u,function(){i.stop();i.get_$IT()>0&&f.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(i.$4n,i.get_$IT()))}))))},$2Cf:function(n){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t,r;return this.$t!==3&&(t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnSaveHandlers"),t.start(),r=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$21G(),n,this.$v.$G9,this.$v.$Dr,null,new Microsoft.Crm.Client.Core.Models.$J7(1),function(n,u){t.stop();t.get_$IT()>0&&r.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(t.$4n,t.get_$IT()));i.resolve(!u.$1JL())})),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1kZ(new Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs(2))),i.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Form is not available offline")),i},$33j:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i;return this.$t!==3&&(i=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$21H(),n,this.$v.$G9,this.$v.$Dr,null,new Microsoft.Crm.Client.Core.Models.$J7(5),function(n,i){t.resolve(i.$1JL())}))),t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Form is not available offline")),t},$33i:function(n){for(var u,o,t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),f=this.$v.$1cO(),r=f.get_Items(),e=r.length,i=0;i<e;++i)u=r[i],u.parameters=JSON.stringify(n);return this.$t!==3&&(o=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$1cO(),null,this.$v.$G9,this.$v.$Dr,null,new Microsoft.Crm.Client.Core.Models.$J7(11),function(n,i){t.resolve(i.$1JL())}))),t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Form is not available offline")),t},$33k:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i;return this.$t!==3&&(i=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$21I(),n,this.$v.$G9,this.$v.$Dr,null,new Microsoft.Crm.Client.Core.Models.$J7(6),function(n,i){t.resolve(i.$1JL())}))),t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Form is not available offline")),t},$1Rk:function(n){$0.$0(this.$A3)||this.$A3.get_$2m()!==n||this.$1OD()},$n3:function(n){$0.$0(this.$A3)||this.$A3.get_$2m()!==n||this.$1VH()},$Oh:function(){this.eventHandlers=null;this.$1Eu()},$2Px:function(){if($0.$0(this.$A3))return!1;if((Microsoft.Crm.Client.Core.Models.$6V.isInstanceOfType(this.$A3)||this.$27V())&&!Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$A3))return!0;var n=this.get_$1E9(),i=n.$Ki===1,r=!!n.$Ki&&n.$U4===1,u=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&n.$U4===1,t=!1;return Microsoft.Crm.Client.Core.ViewModels.$86.isInstanceOfType(this.$5W)&&(t=this.$5W.get_LaunchedWithUnsavedChanges()),i||r||u||t},$27V:function(){return Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$5W)||this.$5W.$g===40&&this.$5W.$6i===1},$2tl:function(){return this.$5W.$g===13},$1VH:function(){this.$uP||$0.$0(this.$A3)||(this.$A3.add_$7L(this.$15Z),this.$uP=!0)},$1OD:function(){this.$uP&&!$0.$0(this.$A3)&&(this.$A3.remove_$7L(this.$15Z),this.$uP=!1)},$1OE:function(n){if(Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n))n.remove_$7v(this.$uL),n.remove_$1Np(this.$uM);else if(Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(n)){var t=n.get_$1B();$0.$0(t)||(t.remove_$7v(this.$uL),t.remove_$1Np(this.$uM))}},$1Bm:function(n){if(Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n))n.add_$7v(this.$uL),n.add_$1Np(this.$uM);else if(Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(n)){var t=n.get_$1B();$0.$0(t)||(t.add_$7v(this.$uL),t.add_$1Np(this.$uM))}},$8X:function(n,t){var i=this.eventHandlers.getHandler(n);i&&i(this,t)},$2zM:function(){return!$0.$0(this.$5W)&&!$0.$0(this.$5W.get_$1B())&&this.$t!==3&&this.$2Px()&&!this.$Zi.get_Count()&&!$0.$0(this.$v)&&this.$v.$1a&&(!$0.$0(this.$v.$G9)||!$0.$0(this.$v.$LW)||!$0.$0(this.$v.$Dr))},$10M:function(){$0.$0(this.$bH)||(this.$bH.cancelAll(),this.$bH=null)}};Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel=function(){this.$11=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel));this.$1Ms=new Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel;this.$qh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3Z));this.$mk=[];this.$JH=[];Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.$3)&&(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.$3=new Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel),Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.$3};Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.prototype={$1FV:null,$1k4:null,$Ve:!1,get_ExecutionContextFactory:function(){return this.$1FV},set_ExecutionContextFactory:function(n){return this.$1FV=n,n},get_ProcessedHandlersQueue:function(){return this.$mk},get_Items:function(){return this.$11},get_PersistentFrame:function(){return this.$1Ms},get_$33:function(){return this.$11.get_$R(this.$11.get_Count()-1)},$vL:function(){var n=this.$11.get_$R(this.$11.get_Count()-1);return this.$11.$vm(this.$11.get_Count()-1),n},$2vf:function(){if(this.$11.$3w(new Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel),this.$Ve=!1,this.$JH.length>0)while(this.$JH.length>0&&!this.$Ve)this.$9s(Array.dequeue(this.$JH))},$9s:function(n){$0.$0(n)||(this.$Ve||$0.$0(this.get_$33())?Array.enqueue(this.$JH,n):(n.$Op=this.$1ql(n.$11C,this.get_$33().$14j),n.$Oq=this.$1ql(n.$11D,this.get_$33().$18H),!$0.$0(n.$Op)&&n.$Op.length>0||!$0.$0(n.$Oq)&&n.$Oq.length>0?(this.$Ve=!0,this.$31U(n)):this.$1qu(n)))},$2kp:function(n,t){this.$vL();this.$mk=[];this.$JH=[];this.$qh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3Z));this.$Ve=!0;this.$1fn(n,t)},$1rY:function(n,t){this.$1DH(t,n);this.$1fn(n,t)},$1fn:function(n,t){if(t||!this.$11.get_Count()){var i=new Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel;i.$CF=!0;i.$19g=n;this.$11.$3w(i);$(window).triggerHandler("CustomScriptsLoading")}else this.get_$33().$CF=!0;if(this.$Ve=!1,this.$JH.length>0)while(this.$JH.length>0&&!this.$Ve)this.$9s(Array.dequeue(this.$JH))},$2u0:function(n,t){if(this.$qh.contains(n))if(this.$qh.remove(n),this.$Ve=!1,$0.$0(t.scriptsToLoad)){if(this.$JH.length>0)while(this.$JH.length>0)this.$9s(Array.dequeue(this.$JH))}else this.$1qu(t)},$1DH:function(n){$0.$0(this.get_$33())||(n!==4&&n!==2?this.$vL():this.get_$33().$CF=!1);this.$mk=[];this.$JH=[];this.$qh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3Z));this.$Ve=!0},$1ql:function(n,t){var r,i;if(!$0.$0(n)){for(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i=0;i<n.length;i++)t.contains(n[i])||r.add(n[i]);return r.toArray()}return null},$31U:function(n){this.get_$33().$14j.addRange(n.$Op);this.get_$33().$18H.addRange(n.$Oq);var t=this.$1k4.$B1(n);this.$qh.add(t);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)},$1qu:function(n){Array.enqueue(this.$mk,n);this.get_$33().$2XA();this.$JH.length>0&&this.$9s(Array.dequeue(this.$JH))}};Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel=function(n){this.$$d_$2PL=Function.createDelegate(this,this.$2PL);this.$$d_$15g=Function.createDelegate(this,this.$15g);Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.initializeBase(this);var t={};t.QueryType="FetchXmlForGrid";this.$1lI(new Microsoft.Crm.Client.Core.ViewModels.$I(this,t));$0.$0(n)&&(n=new Array(0));this.$jk=n;this.$Bm=this.$jk;this.AddPropertyChangedListener("IsSelected",this.$$d_$15g);this.$1f.add_CollectionChanged(this.$$d_$2PL);this.$1XU=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HO(this)};Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$1cR=function(n,t,i){var f,e,o,r,s,h,u,c,l,a,v,y,p,b,w;if($0.$0(n)||$0.$0(t)||$0.$0(n.get_childViewModels()))return null;f=n.get_childViewModels();for(e in f){if(o={key:e,value:f[e]},r=o.value,Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(r)){s=r.$H;for(h in s)if(u={key:h,value:s[h]},Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(u.value)){c=u.value.$H;for(l in c)if(a={key:l,value:c[l]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(a.value)&&(v=a.value.$w,!$0.$0(v))){y=v.$12g();for(p in y)if(b={key:p,value:y[p]},b.value.$j.get_ViewModelId()===t.get_ViewModelId()){if(i==="PanoramaItemViewModel")return r;if(i==="GridContainerViewModel")return u.value}}}}if(Microsoft.Crm.Client.Core.ViewModels.$78.isInstanceOfType(r)&&(w=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$1cR(o.value,t,i),w))return w}return null};Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$2iD=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$1cR(n,t,"PanoramaItemViewModel")};Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$l0=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$1cR(n,t,"GridContainerViewModel")};Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.prototype={$3q:null,$jk:null,$Bm:null,$47:null,$e6:null,$1IF:!1,$1Kb:null,$1XU:null,$145:!1,get_$1lq:function(){return this.$3q},set_$1lq:function(n){return this.$3q=n,n},get_ContextFieldName:function(){return this.$e6},set_ContextFieldName:function(n){return this.$e6=n,n},add_DataSetChanged:function(n){this.$1p("DataSetChangedEvent",n)},remove_DataSetChanged:function(n){this.$32("DataSetChangedEvent",n)},$CK:function(n){if($0.$0(this.$H[n.Name])){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_$1B());Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$CK.call(this,t.get_Name(),t)}},$EP:function(){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()||this.$2.$g!==13||this.$2.$1UQ||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$hK(this.get_$qQ(),this)},$1Kt:function(){var t=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$l0(this.$2,this),u=t.$2e,n=t.$dd,i,r;!$0.$0(u)&&this.$78&&t.get_$1Uy()!==this.get_DefinitionId()?($0.$0(this.$2)||$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||("InitialListDefinitionId"in this.$2.$K.$M||(this.$2.$K.$M.InitialListDefinitionId=this.$2.$K.$M.ListDefinitionId,this.$2.add_PreNavigation(this.$$d_$31k)),this.$2.$K.$M.ListDefinitionId=this.get_DefinitionId()),i=0,n.Name.indexOf("!")>0&&(r=n.Name.substring(n.Name.indexOf("!")+1,n.Name.length),i=parseInt(r),i++),t.$3Aj(n.Name.split("!")[0]+"!"+i,this.get_DefinitionId())):(this.$8X("DefinitionUpdated"),this.$1Oh(this.get_DefinitionId(),this.$D,!1,null))},$1Oh:function(n,t,i,r){var e=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),h=new Array(0),f,o,s,u;return this.set_PrimaryModelName(t),this.set_DefinitionId(n),this.$q=n,f={},f.entityLogicalName=t,f.viewId=n,f.isLookup=i,o=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomControlDataSetViewModel.RetrieveDataSetMetadata"),o.start(),s=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveDataSetMetadata",f),u=this,s.OnSuccess=function(n){var a;o.stop();var f=n,v=f[0],t=v.get_$R(0),y=f[1],s=y.get_$R(0);if($0.$0(t)||$0.$0(s))e.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147020759));else{i&&(u.$q=t.$q,u.set_DefinitionId(u.$q));var h=s.get_$4r(),p=$0.$0(r)?t.get_$E5().$CC(1):r.fetchXml,c=u.$2ei(h),l=t.$1q;u.set_Name(l);u.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(p);u.$2O.$5M.set_$R(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$g.toString(3),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$LN(3,h));u.$2O.$5M.set_$R("ColumnSet",new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$LN(0,JSON.stringify(c)));a=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ListItem",null,l,null,null,null,u.$D);u.$HT=a;u.$2em(c);e.resolve(!0)}},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,s),e.promise()},$2em:function(n){var o,f,h,c,l,e,i;if(!$0.$0(n)){if(o=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomControlDataSetViewModel.GetBasicColumnAttributes"),o.start(),f={},!$0.$0(this.$Bm))for(var a=this.$Bm,k=a.length,s=0;s<k;++s)h=a[s],f[h.name]=h;c=n;for(l in c){var r={key:l,value:c[l]},t=r.value,v="width"in t?t.width:0,y="isHidden"in t?t.isHidden:!1,p="order"in t?t.order:-1,w="label"in t?t.label:"",d="manifesttype"in t?t.manifesttype:"",b="disableSorting"in t?t.disableSorting:!1,u={};u.type="type"in t?t.type:null;u.format="format"in t?t.format:null;u.sourcetype="sourcetype"in t?t.sourcetype:-1;r.key in f?(e=Array.indexOf(this.$Bm,f[r.key]),e!==-1&&(i=this.$Bm[e],$0.$0(i.attributes)&&(i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np(i.name,Microsoft.Crm.Client.Core.Framework.$3.$9(i.displayName)?w:i.displayName,i.alias,i.dataType,v,y,p,b,u,null),this.$Bm[e]=i))):this.$Bm.push(new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np(r.key,w,r.key,d,v,y,p,b,u,null))}o.stop()}},$2ei:function(n){for(var t,u,i,s,r={},a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n),h=a.getElementsByTagName("cell"),v=0,f=0;f<h.length;f++)if(t=h[f],u=t.attributes.getNamedItem("name").nodeValue,!(u in r)||r[u].isHidden){var y=t.attributes.getNamedItem("width")?parseFloat(t.attributes.getNamedItem("width").nodeValue):1,p=t.attributes.getNamedItem("ishidden")&&t.attributes.getNamedItem("ishidden").nodeValue==="1"?!0:!1,w=t.attributes.getNamedItem("label")?t.attributes.getNamedItem("label").nodeValue:"",b=t.attributes.getNamedItem("disableSorting")&&t.attributes.getNamedItem("disableSorting").nodeValue==="1"?!0:!1,k=t.attributes.getNamedItem("type")?t.attributes.getNamedItem("type").nodeValue:"",c=t.attributes.getNamedItem("sourcetype")?$16.$Ae(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeSourceType,t.attributes.getNamedItem("sourcetype").nodeValue):-1,e=k.split("."),l=e[0].toLowerCase(),o="";e.length>1&&(o=e[1].toLowerCase());i={};i.width=y;i.isHidden=p;i.label=w;i.disableSorting=b;i.order=v++;i.type=l;i.sourcetype=c;i.format=o;i.manifesttype=Microsoft.Crm.Client.Core.Framework.$1u.$32K(l,o);r[u]=i;c===2&&(s=Microsoft.Crm.Client.Core.Framework.$1u.$21l(u),s in r||(r[s]=this.$2iQ()))}return r},$2iQ:function(){var n={};return n.isHidden=!0,n.type="datetime",n.format="datetime",n},$2Ct:function(){if(!this.$1IF||$0.$0(this.$1Kb)||(new Date).getMilliseconds()-this.$1Kb.getMilliseconds()>100){this.$1IF=!0;this.$1Kb=new Date;var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.$1IF=!1;var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomControlDataSetViewModel:DataSetChangedEvent");t.start();n.$8X("DataSetChangedEvent");t.stop();t.addParameter(n.get_DefinitionId())},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$jx,"CustomControlDataSetViewModel.DataSetChangedEvent")}},$3d:function(n){Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$3d.call(this,n);this.set_HasError(!1)},$4L:function(n){Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$4L.call(this,n);this.set_HasError(!0);this.$47=n.$F;this.$2Ct()},$1bz:function(){return this.$1XU},$1Hk:function(){var r=new Array(0),t,i;if($0.$1Y(this.$3q)){var u=this.$2O.$CC(1),f=Sys.Net.XMLDOM(u),n=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(f).$62("fetch/entity/order");!$0.$0(n)&&n.get_$s()>0&&(this.$3q=new Microsoft.Crm.Client.Core.Framework.$6M,this.$3q.$8Q=n.get_$R(0).$10("attribute").toString(),this.$3q.$Cg=Boolean.parse(n.get_$R(0).$10("descending").toString()),n.get_$s()>1&&(this.$3q.$Al=n.get_$R(1).$10("attribute").toString(),this.$3q.$FO=Boolean.parse(n.get_$R(1).$10("descending").toString())))}return $0.$1Y(this.$3q)||($0.$1Y(this.$3q.$8Q)||$0.$1Y(this.$3q.$Cg)||(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ,t.name=this.$3q.$8Q,t.sortDirection=this.$3q.$Cg?1:0,r[0]=t),$0.$1Y(this.$3q.$Al)||$0.$1Y(this.$3q.$FO)||(i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ,i.name=this.$3q.$Al,i.sortDirection=this.$3q.$FO?1:0,r[1]=i)),r},$15g:function(){var n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$2iD(this.$2,this);$0.$0(n)||n.set_$KH(this.get_IsSelected())},$Oh:function(){this.$1f.remove_CollectionChanged(this.$$d_$2PL);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this);this.RemovePropertyChangedListener("IsSelected",this.$$d_$15g)},$2PL:function(){this.$2Ct()}};Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$2tx=Function.createDelegate(this,this.$2tx);Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel.prototype={get_$25U:function(){return"draftlistitem"},get_OfflineText:function(){return""},get_$1r1:function(){return!0},$2Z:function(){this.$1a||($0.$0(this.$FE)&&this.set_OpenItemCommand(Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP.$X(this)),this.AddPropertyChangedListener("Label",this.$$d_$2tx));Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$2Z.call(this)},$Oh:function(){this.RemovePropertyChangedListener("Label",this.$$d_$2tx);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$Oh.call(this)},$gl:function(n){Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$gl.call(this,n);this.set_GridEnabled(!1);this.set_Name(this.$1G)},$3d:function(n){this.set_Visible(n.get_$9o().get_Count()>0);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$3d.call(this,n)},$1hJ:function(n){Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$1hJ.call(this,n);this.$Rr()},$2tx:function(){this.set_Name(this.$1G)}};Microsoft.Crm.Client.Core.ViewModels.$42=function(){this.$$d_$1hd=Function.createDelegate(this,this.$1hd);this.$$d_$1ME=Function.createDelegate(this,this.$1ME);this.$$d_$2kL=Function.createDelegate(this,this.$2kL);this.$Vb=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43);this.$1Xg=-1;this.$17D=new Array(0);Microsoft.Crm.Client.Core.ViewModels.$42.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$42.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$42.prototype={$12d:null,$1Fe:null,$2e:null,$Cq:null,$dd:null,$1k:!0,$1cy:!1,$78:!1,$BU:!1,$k4:null,$12i:null,$1kN:!0,$1e5:!1,$FF:null,get_ActiveViewDescriptor:function(){return this.$Cq},get_ActiveViewModel:function(){return this.$2e},get_GetControlDefinitionsProvider:function(){return this.$12d},set_GetControlDefinitionsProvider:function(n){return this.$12d=n,n},get_FallbackDescriptor:function(){return this.$1Fe},set_FallbackDescriptor:function(n){return this.$1Fe=n,n},get_ActiveViewModelDescriptor:function(){return this.$dd},get_DefaultViewName:function(){return this.$k4},set_DefaultViewName:function(n){return this.$k4=n,n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){var t,i;return this.$1k!==n&&(this.$1k=n,this.$7("IsLoading"),this.$1k||$0.$0(this.$2i)||(t=this.$2i.$5Q(this),Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(t)&&(i=t,i.$rl(),Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(this.$78||this.$1cy||this.$1e5)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)&&$0.$0(this.$2e.$w)?this.$2e.AddPropertyChangedListener("PropBagGenerator",this.$$d_$2kL):this.$BU&&this.get_RetrieveRequired()&&i.$xQ())))),n},get_$1i6:function(){return $0.$0(this.$2e)?null:this.$2e.get_$1i6()},get_$1i4:function(){return $0.$0(this.$2e)?null:this.$2e.get_$1i4()},get_$qQ:function(){return $0.$0(this.$2e)?null:this.$2e.get_$qQ()},get_IsSelected:function(){return Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)?this.$2e.$w.GetPrimaryDataSet().$j.get_IsSelected():Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2e)?this.$2e.get_IsSelected():!1},set_IsSelected:function(n){return Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)?this.$2e.$w.GetPrimaryDataSet().$j.set_IsSelected(n):Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2e)&&this.$2e.set_IsSelected(n),n},get_RetrieveRequiredEntities:function(){return this.$17D},set_RetrieveRequiredEntities:function(n){return this.$17D=n,n},get_RetrieveRequired:function(){return $0.$0(this.$17D)?this.$1kN:Array.contains(this.$17D,this.$D)},set_RetrieveRequired:function(n){return this.$1kN=n,n},$2Z:function(){var n,t;this.$1a||($0.$0(this.get_ModelContext())&&!$0.$0(this.$2)&&!$0.$0(this.$2.$K)&&!$0.$0(this.$2.$K.$M)&&"ParentEntityViewModel"in this.$2.$K.$M&&this.$2.$g===13&&(this.$FF=this.$2.$K.$M.ParentEntityViewModel,$0.$0(this.$FF.get_ModelContext())?(this.$FF.RemovePropertyChangedListener("ModelContext",this.$$d_$1ME),this.$FF.AddPropertyChangedListener("ModelContext",this.$$d_$1ME)):this.set_ModelContext(this.$FF.get_ModelContext())),this.get_RetrieveRequired()?$0.$0(this.$12d)||(this.$12i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GridContainer.RetrieveDefaultOnInitialize"),this.$12i.start(),this.set_IsLoading(!0),t=this.$12d.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)):(n={},n.index=-1,n.descriptor=null,this.$1hd(n)),Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this))},get_IsGridFormContext:function(){return this.$78},set_IsGridFormContext:function(n){return this.$78=n,n},get_$1Uy:function(){var n=this.$21V(this.$dd);return $0.$0(n)?null:n.ViewId},set_$1Uy:function(n){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(n)){var t=this.$21V(this.$dd);$0.$0(t)||(t.ViewId=n)}return n},get_$1oV:function(){var t="",n;return $0.$0(this.$2e)||(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)?(n=this.$2e,$0.$0(n.$w)||$0.$0(n.$w)||$0.$0(n.$w.GetPrimaryDataSet().$j)||(t=n.$w.GetPrimaryDataSet().$j.get_DefinitionId())):Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$2e)?t=this.$2e.get_DefinitionId():Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$2e)&&(t=this.$2e.get_DefinitionId())),t},set_$1oV:function(n){return Microsoft.Crm.Client.Core.Framework.$3.$9(n)||$0.$0(this.$2e)||(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$2e)?this.$2e.set_DefinitionId(n):Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$2e)&&this.$2e.set_DefinitionId(n)),n},setChildDescriptor:function(n){var t,r,i,u,s,f,e,o,h;this.set_IsLoading(!0);t="";r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GridContainer.SetChildDescriptor");r.start();i=this.$2e;t=this.get_$1oV();this.$dd=n;n.TypeName==="CustomControl"&&(Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&!$0.$0(this.$2.$K)&&!$0.$0(this.$2.$K.$M)&&"ListDefinitionId"in this.$2.$K.$M&&!$0.$0(this.$2.$K.$M.ListDefinitionId)&&(t=this.$2.$K.$M.ListDefinitionId.toString()),Microsoft.Crm.Client.Core.Framework.$3.$9(t)||this.set_$1Uy(t));u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GridContainer - CreateChildViewModel");u.start();s=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_$1B(),this.$2i,this.$2);u.stop();n.ControlTypeName==="CustomControlHostView"&&this.$2.set_IsCustomControlExists(!0);this.$2e=s;n.TypeName!=="CustomControl"?this.set_$1oV(t):this.$1e5=!0;this.$Cq=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(n);f=this.$H;for(e in f)if(o={key:e,value:f[e]},o.value===i){h=o.key;this.$1Et(i);delete this.$H[h];break}this.$CK(this.$Cq.BindingPath,this.$2e);this.$Vb.$ns(this.$Cq.BindingPath,this.$Cq);this.$7("ChildComponent");this.set_IsLoading(!1);this.$1cy=!0;$0.$0(i)||this.$2e===i||i.dispose();r.stop()},$21V:function(n){var t,i,r,u,f,e;if(n.TypeName==="CustomControl")for(t=0;t<n.Properties.length;t++)if(n.Properties[t].Name==="DataSetDefinitions"&&(i=n.Properties[t].Value,!$0.$0(i))){r=i;for(u in r)return f={key:u,value:r[u]},e=f.value,e}return null},$3Aj:function(n,t){this.$dd.Name=n;this.set_$1Uy(t);this.setChildDescriptor(this.$dd)},$2kL:function(){this.$2e.RemovePropertyChangedListener("PropBagGenerator",this.$$d_$2kL);var n=this.$2i.$5Q(this);this.$BU&&n.$xQ()},$1hd:function(n){var i,t;$0.$0(this.$12i)||this.$12i.stop();i=n;this.$1Xg=i.index;t=i.descriptor;$0.$0(t)&&(t=this.$1Fe);t.PrimaryModelName=this.$D;this.setChildDescriptor(t)},$1ME:function(){if(this.set_ModelContext(this.$FF.get_ModelContext()),!$0.$0(this.$2e)){var n=null;Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2e)?n=this.$2e:Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)&&($0.$0(this.$2e.$w)||(n=this.$2e.$w.GetPrimaryDataSet().$j));$0.$0(n)||(n.set_ModelContext(this.$FF.get_ModelContext()),n.$Rr())}},$Oh:function(){if(Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this),!$0.$0(this.$2e)){if(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)){var n=this.$2e;n.RemovePropertyChangedListener("PropBagGenerator",this.$$d_$2kL)}this.$2e.dispose()}$0.$0(this.$Cq)||this.$Vb.removeDescriptor(this.$Cq.BindingPath);$0.$0(this.$FF)||this.$FF.RemovePropertyChangedListener("ModelContext",this.$$d_$1ME)},$2eC:function(){if(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)){var n=this.$2e;if(!$0.$0(n.$w))return n.$w.GetPrimaryDataSet().$j}return this.$2e},$EP:function(n,t){this.$BU=!0;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)},$uN:function(n,t){this.$BU=!1;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$uN.call(this,n,t)}};Microsoft.Crm.Client.Core.ViewModels.GridViewModel=function(){this.$$d_$2v3=Function.createDelegate(this,this.$2v3);this.$$d_$EP=Function.createDelegate(this,this.$EP);this.$$d_$38l=Function.createDelegate(this,this.$38l);this.get_$1lq=this.get_SortingInfo;this.set_$1lq=this.set_SortingInfo;Microsoft.Crm.Client.Core.ViewModels.GridViewModel.initializeBase(this);this.$3q=new Microsoft.Crm.Client.Core.Framework.$6M;this.$Lf=new Array(0)};Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype={$3q:null,$Kn:null,$tF:!1,sortCommand:null,resizeHandlesCommand:null,$sg:null,$R2:null,$Lf:null,$sj:!1,$Cb:null,$1Fz:null,$1G2:!1,$Ag:null,get_$2PZ:function(){return 8},get_HeaderViewModelDescriptor:function(){return this.$sg},set_HeaderViewModelDescriptor:function(n){return this.$sg!==n&&(this.$sg=n,$0.$0(this.$R2)||(this.$R2.dispose(),this.$R2=null)),n},get_FixedWidthColumns:function(){return this.$1Fz},set_FixedWidthColumns:function(n){return this.$1Fz!==n&&(this.$1Fz=n,this.$7("FixedWidthColumns")),n},get_$2M6:function(){return""},get_Header:function(){return!$0.$0(this.$sg)&&$0.$0(this.$R2)&&(this.$R2=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(this.$sg,null)),this.$R2},set_Header:function(n){return this.$R2=n,n},get_SortingInfo:function(){return this.$3q},set_SortingInfo:function(n){var t=!$0.$0(this.$3q.$8Q)&&this.$3q.$1ZV(n)?!0:!1;return this.$3q.$1ZV(n)||(this.$3q=n,this.$7("SortingInfo")),this.sortCommand.get_CanExecute()&&this.sortCommand.execute(),t&&this.$17M(),n},get_ForceHeaderUpdates:function(){return this.$1G2},set_ForceHeaderUpdates:function(n){return this.$1G2=n,n},set_$1OO:function(n){return this.resizeHandlesCommand!==n&&($0.$0(this.resizeHandlesCommand)||(this.resizeHandlesCommand.dispose(),this.resizeHandlesCommand=null),this.resizeHandlesCommand=n),n},add_ResizeHandlesToggled:function(n){this.$1p("ResizeHandlesToggled",n)},remove_ResizeHandlesToggled:function(n){this.$32("ResizeHandlesToggled",n)},get_ColumnSizes:function(){return this.$Lf},set_ColumnSizes:function(n){var t=this.$Lf!==n;return this.$Lf=n,this.$7("ColumnSizes"),t&&this.$17M(),n},get_$Uh:function(){return this.$Cb},get_$vH:function(){return new Microsoft.Crm.Client.Core.Framework.$9S(this.$3q,this.$Lf)},set_$vH:function(n){return this.$3q=n.$3q,this.$Lf=n.$Lf,this.$rd("SortingInfo","ColumnSizes"),n},get_HideTitle:function(){return this.$sj},set_HideTitle:function(n){return this.$sj=n,n},get_$1i6:function(){return"GridListPane"},get_$1i4:function(){return this.$D},get_PluralName:function(){return this.$Ag},$1Uu:function(){this.$t||(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1Uu.call(this),$0.$0(this.get_DefinitionId())||this.$1Kt())},$EP:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$hK(this.get_$qQ(),this)},$38l:function(){$0.$0(this.$2n)||this.$Rr()},$2Z:function(){var t,n;this.$1a||($0.$0(this.sortCommand)&&(t=this,this.sortCommand=Microsoft.Crm.Client.Core.ViewModels.$a.$HM(this.$D)?new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$38l,1011,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),"IsServerAvailable",function(){return!0}):new Microsoft.Crm.Client.Core.Commands.$AO(this.$$d_$38l,1011)),$0.$0(this.resizeHandlesCommand)&&(n=this,this.set_$1OO(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){n.$8X("ResizeHandlesToggled")},1018))),Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this),$0.$0(this.$2)||(this.$2.$Sg&&this.$EP(null,null),this.$2.add_$P1(this.$$d_$EP)),$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D))||(this.$Ag=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D).$Ag))},$Oh:function(){this.$R2&&(this.$R2.dispose(),this.$R2=null);this.sortCommand&&(this.sortCommand.dispose(),this.sortCommand=null);this.set_$1OO(null);$0.$0(this.$2)||this.$2.remove_$P1(this.$$d_$EP);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this)},$2qZ:function(n){var t=n.$6b;this.set_$vH(Microsoft.Crm.Client.Core.Framework.$9S.$2y(t))},$25j:function(){this.$Lf.length>0&&(this.$Lf=new Array(0),this.$7("ColumnSizes"));var n=new Microsoft.Crm.Client.Core.Framework.$6M;this.$3q.$1ZV(n)||(this.$3q=n,this.$7("SortingInfo"))},$1Kt:function(){this.add_$1Oq(this.$$d_$2v3);this.$1kG()},$MZ:function(n){switch(n.$m){case-2147220960:case-2147094003:this.set_$1Kd(n.$m);this.$2.$MZ(n);break;default:Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$MZ.call(this,n)}},$15c:function(n){this.$tX!==-2147220960&&this.$tX!==-2147094003&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$15c.call(this,n)},$1ME:function(n,t){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1ME.call(this,n,t);this.set_ModelContext(this.get_$Kc().get_ModelContext());this.$1Uu()},$2v3:function(){this.remove_$1Oq(this.$$d_$2v3);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$1Kt.call(this)},$1r9:function(){this.$Cb=this.get_DefinitionId();var n=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$Cb);n!==Microsoft.Crm.Client.Core.Framework.Guid.get_empty()&&(this.$Cb=n.toString());Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1r9.call(this)},$Rr:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("GridRefreshInvoked",0,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$Rr.call(this)},setSortOrder:function(n,t){this.$1G2=!0;this.set_SortingInfo(new Microsoft.Crm.Client.Core.Framework.$6M(n,t))}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel=function(){this.$$d_$33E=Function.createDelegate(this,this.$33E);this.$$d_$33F=Function.createDelegate(this,this.$33F);this.$$d_$2Wm=Function.createDelegate(this,this.$2Wm);this.$$d_$2Yf=Function.createDelegate(this,this.$2Yf);this.$$d_$tc=Function.createDelegate(this,this.$tc);this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$2fX=Function.createDelegate(this,this.$2fX);this.$$d_$2kC=Function.createDelegate(this,this.$2kC);this.$$d_$28N=Function.createDelegate(this,this.$28N);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("QuickFindSearchOnISH")};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype={$71:null,$UL:null,$13w:!1,$Le:null,$Jq:null,$zy:null,$17w:!1,$g6:!1,$ZS:!1,$4e:null,$4u:!0,$sn:null,$hF:null,$vY:null,$Cn:!1,$ym:!1,$Pz:null,$Na:null,$Fa:null,$1T5:null,$SJ:null,$yl:!1,get_NoItemInQueue:function(){return this.$yl},set_NoItemInQueue:function(n){return this.$yl=n,n},$ox:!1,$Ne:!1,get_ShouldNotRetainPageIndexToLoad:function(){return this.$Ne},set_ShouldNotRetainPageIndexToLoad:function(n){return this.$Ne=n,n},$zH:!1,get_ShouldRenderEmptyPager:function(){return this.$zH},set_ShouldRenderEmptyPager:function(n){return this.$zH=n,n},getPagerDetailText:function(){var i;if(this.$zH)return this.$zH=!1,String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ISHGrid_PagerCount_Mask"),0,0,0);var u=(this.get_CurrentPageIndex()-1)*this.get_PageSize(),r=u+1,n=u+this.get_RecordCount();n<r&&(n=r);var f=this.totalRecordCountLimitExceeded(),e=this.moreRecordsAvailable(),t=this.get_TotalRecordsCount();return n>t&&(f?t=n:n=t),i=t.toString(),f&&e&&(i=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_TotalCount_Approximate"),i)),String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ISHGrid_PagerCount_Mask"),r,n,i)},get_PagerCountText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_Paging_Mask"),this.get_CurrentPageIndex())},$lT:!1,$Kp:0,$QC:!1,$R6:!1,$P:null,$1j6:null,$5R:!1,$1Jc:!1,$1Hv:"FirstLoad",get_SelectedRowCount:function(){return this.$Kp},set_SelectedRowCount:function(n){return this.$Kp=n,n},get_AreAllRowsSelected:function(){return this.$QC},set_AreAllRowsSelected:function(n){return this.$QC=n,n},get_IsMultiSelectEvent:function(){return this.$R6},set_IsMultiSelectEvent:function(n){return this.$R6=n,n},get_Visible:function(){return this.$4u},set_Visible:function(n){var t=this.get_$5x().$1Dk(n,null);return this.$4u!==t&&(this.$4u=t,this.$NM=!0,this.$7("Visible")),n},get_GridPagerEventType:function(){return this.$1Hv},set_GridPagerEventType:function(n){return this.$1Hv.toLowerCase()!==n.toLowerCase()&&(this.$1Hv=n),n},$Nd:null,get_GridHeaderViewModel:function(){return $0.$0(this.$H)?null:($0.$0(this.$71)&&(this.$71=this.$H.GridHeaderViewModel,this.$71.set_Label($0.$0(this.$1G)?" ":this.$1G),this.$71.$78=this.$78,this.$71.$NW=this.$NW,this.$71.set_EnableViewPicker(this.$OA),this.$71.set_EnableQuickFind(this.$1F5),this.$71.$E6=this.$19j,this.$71.set_GridEnabled(this.$1A5),this.$71.$52=this.$52,this.$71.add_$28N(this.$$d_$28N),this.$71.$d4=this.GetPrimaryAttributeName()),!$0.$0(this.$71)&&$0.$0(this.$71.get_AddExistingCommand())&&this.$71.set_AddExistingCommand(this.get_AddExistingCommand()),this.$71)},$NM:!1,get_CollectionHasChanged:function(){return this.$NM},set_CollectionHasChanged:function(n){return this.$NM=n,n},$28N:function(){this.$Ne=!0;this.RefreshData()},get_ShowDeleteIcon:function(){return this.$17w},get_IsManyToMany:function(){return this.$5T===1},$io:null,get_PreviousGridId:function(){return this.$io},set_PreviousGridId:function(n){return this.$io=n,n},$DP:!1,get_IsMultiSelect:function(){return this.$DP},set_IsMultiSelect:function(n){return this.$DP=n,n},$1A5:!1,get_GridEnabled:function(){return this.$1A5},set_GridEnabled:function(n){return this.$1A5=n,n},$1Sw:!1,get_EnableJumpBar:function(){return this.$1Sw},set_EnableJumpBar:function(n){return this.$1Sw=n,n},$19j:!1,get_DisableHeaderLongPress:function(){return this.$19j},set_DisableHeaderLongPress:function(n){return this.$19j=n,n},get_AllowMultiSelect:function(){return this.$78||this.$13w||this.$NW},$Cm:!1,get_IsGridDialogContext:function(){return this.$Cm},set_IsGridDialogContext:function(n){return this.$Cm=n,n},get_IsDialogContext:function(){return this.$13w},$1AL:!1,$NW:!1,get_IsAssociatedGridContext:function(){return this.$NW},set_IsAssociatedGridContext:function(n){return this.$NW=n,n},$DT:!1,get_ShouldShowOnlyGrid:function(){return this.$DT},set_ShouldShowOnlyGrid:function(n){return this.$DT=n,n},$yU:!1,get_IsAssociate:function(){return this.$yU},set_IsAssociate:function(n){return this.$yU=n,n},$yB:!1,get_EnableRelationshipFilter:function(){return this.$yB},set_EnableRelationshipFilter:function(n){return this.$yB=n,n},$L9:null,get_RelationshipFilterCondition:function(){return this.$L9},set_RelationshipFilterCondition:function(n){return this.$L9=n,n},get_LoadingText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("jqGrid.defaults.loading")},get_JumpBarText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_JumpBar_Alphabet")},get_JumpBarNumberIndicator:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_JumpBar_Number_Indicator")},$yW:!1,get_IsDoubleClickDisabled:function(){return this.$yW},set_IsDoubleClickDisabled:function(n){return this.$yW=n,n},$1AG:!1,get_IsDoubleClicked:function(){return this.$1AG},set_IsDoubleClicked:function(n){return this.$1AG=n,n},$1TA:null,$iI:null,$6J:null,$yt:null,$1Az:null,$ot:!1,get_IsInContextOfReferencePanel:function(){return this.$ot},set_IsInContextOfReferencePanel:function(n){return this.$ot=n,n},$Pv:null,get_ParentTabName:function(){return this.$Pv},set_ParentTabName:function(n){return this.$Pv=n,n},$dK:null,get_ParentColumnName:function(){return this.$dK},set_ParentColumnName:function(n){return this.$dK=n,n},get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){if(this.$5R!==n&&(this.$5R=n,n)){this.$NM=!0;var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v(this.$Pv);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,t);this.$7("HasFocus")}return n},ShouldRenderChildCases:function(){return this.$2.$6i===1||this.$2.get_ModelContext()&&$0.$0(this.$2.get_ModelContext().GetValue("parentcaseid"))?!0:!1},ScrollParentColumn:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z(this.$dK,n,t);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z,i)},get_NoRecordsText:function(){if($0.$0(this.$UL)){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),t="";$0.$0(n)||(t=n.$1q);this.$UL=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GridControl.NoRecords"),t)}return this.$UL},get_SelectedRowIds:function(){var r,n,f,i;if(this.$DT)return this.$wH;r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1HE();n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));for(var u=r,e=u.length,t=0;t<e;++t)f=u[t],i=f.get_ModelContext().get_Id().toString(),this.$2oF(i)&&n.add(i);return n.toArray()},set_SelectedRowIds:function(n){return this.$wH=n,n},$wH:null,$2oF:function(n){for(var i,t=0;t<this.$1f.get_Count();t++)if(i=this.$1f.get_$R(t),i.get_ModelContext().get_Id().toString()===n)return!0;return!1},get_DataForGrid:function(){return $0.$0(this.$Jq)&&this.$1aR(),this.$Jq},set_DataForGrid:function(n){return this.$Jq=n,n},$iR:!1,get_Evaluating:function(){return this.$iR},set_Evaluating:function(n){return this.$iR=n,n},$2VE:function(){var i,t,n;this.$78||this.$jE||(i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.get_IsManyToMany()?t.add("Mscrm.RemoveSelectedRecord"):t.add("Mscrm.DeleteSelectedRecord"),this.$iR=!0,n=this,i.$21s(this.get_$qQ(),this,t,!1).done(function(t){n.$17w=t;n.$iR=!1;n.$NM=!0;n.$7("ShowDeleteIcon")}))},$2Yf:function(){if(this.$1aR(),Microsoft.Crm.Client.Core.Models.$1j.isInstanceOfType(this.$2n)){var n=this;this.$2n.$KS.$ka(function(t){t.remove_$7L(n.$$d_$2kC);t.add_$7L(n.$$d_$2kC)})}},$1Yz:function(){this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1Yz.call(this)},$1aR:function(){var l,w,o,r,u,it,b,k,s,a,e,h,t,nt,c,v,i,y,tt,p,rt;if(this.$DT){this.$1wt();return}if(!this.$iR){for(l=[],this.$yl=!0,w=0,o=0;o<this.$1f.get_Count();o++){r=this.$1f.get_$R(o);this.$yl=!1;u={};u.id=r.$4Z;it=r.$H;b=it;for(k in b){var d={key:k,value:b[k]},f=d.value,n=CrmEncodeDecode.CrmHtmlEncode(f.get_Data());if(d.key===this.GetPrimaryAttributeName()){if(s="",a="",this.$lT){var ut=r.$H.queueitemid,ft=ut.get_ModelContext(),g=ft.$I.fields.objectid;$0.$0(g)||(s=g.LogicalName,a=g.Id.toString())}else s=r.get_ModelContext().get_$Fe(),a=r.$4Z;n=this.$t0(s)?String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-action='open'>{2}<\/a>",s,a,n):String.format("<a class=\"nonInteractionCentricGridField\" data-action='none'>{0}<\/a>",n)}if(Xrm.Objects.EntityReference.isInstanceOfType(f.get_Data())&&(e=f.get_Data(),n=this.$t0(e.LogicalName)?String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-isPrimary='0' data-action='open'>{2}<\/a>",e.LogicalName,e.Id.toString(),CrmEncodeDecode.CrmHtmlEncode(e.Name)):String.format("<a class=\"nonInteractionCentricGridField\" data-action='none'>{0}<\/a>",CrmEncodeDecode.CrmHtmlEncode(e.Name))),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(f.get_Data())&&(h=f.get_Data(),t="",n="",!$0.$0(h)&&!$0.$0(h.get_entities())))for(nt=h.get_entities().length,c=0;c<nt;c++)v=h.get_entities()[c],v.$a.LogicalName==="activityparty"&&(i=v.fields.partyid,y=!1,$0.$0(i)?(this.$D==="email"&&(t=v.fields.addressused),y=!0):t=i.Name,c===nt-1?t=!y&&this.$t0(i.LogicalName)?String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-action='open'>{2}<\/a>",i.LogicalName,i.Id.toString(),t):String.format("<a class=\"nonInteractionCentricGridField\" data-action='none'>{0}<\/a>",t):(tt="<span>;<\/span>",t=!y&&this.$t0(i.LogicalName)?String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-action='open'>{2}<\/a>{3}",i.LogicalName,i.Id.toString(),t,tt):String.format("<a class=\"nonInteractionCentricGridField\" data-action='none'>{0}<\/a>{1}",t,tt))),n+=t;p=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(r.$D,d.key);p&&p.$A8&&p.$A8.toUpperCase()==="URL"&&(n=String.format("<a class=\"InteractionCentricGridNavigtableField\" target=_blank href='{0}'>{1}<\/a>",n,n));u[f.$L]=n}this.$17w&&(rt=String.format("<a title='{0}' class='button-commandRing symbolFont Remove-symbol mscrm-gridRowDelete' data-id='{1}' data-action='delete'><\/a>",this.get_IsManyToMany()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_Remove"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_Delete"),r.$4Z),u[this.$D+"delete"]=rt);this.$lT?(l[w]=u,w++):l[o]=u}this.$Jq=l;this.$NM=!0;this.$7("RecordCount")}},$1wt:function(){var n,f,o,t;if($0.$0(this.$Jq)&&!this.$1AL){if(!this.$1Az.length){this.$Jq=[];return}n="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\r\n\t\t\t\t\t\t\t\t<entity name = '"+this.$6J+"'>"+("<attribute name = '"+this.$yt+"' />");for(var u=this.$iI,s=u.length,i=0;i<s;++i)f=u[i],n+="<attribute name = '"+f+"' />";$0.$0(this.$3q.$8Q)||(n+="<order attribute='"+this.$3q.$8Q+"' descending='"+this.$3q.$Cg+"' />");n+="<filter type = 'and'>";n+="<filter type = 'or'>";for(var e=this.$1Az,h=e.length,r=0;r<h;++r)o=e[r],n+="<condition attribute = '"+this.$yt+"' operator = 'eq' value = '"+o+"' />";n+="<\/filter>";n+="<condition attribute = 'statecode' operator = 'eq' value = '0' />";this.$yU&&(n+="<condition attribute = 'parentcaseid' operator = 'null' />");n=n+"<\/filter><\/entity><\/fetch>";this.$1AL=!0;t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);t.OnSuccess=this.$$d_$2fX;t.OnFailure=this.$$d_$4L;t.QueryValue=n;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)}},$2fX:function(n){switch(this.$1TA){case"PopulateDataForMergeAssociate":this.$2xd(n)}Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$3d.call(this,n)},$2xd:function(n){for(var f,t,r,e=0,o=[],v=n.get_$9o().$1mk(),s=[],h,c,l=v,y=l.length,u=0;u<y;++u){var p=l[u],i=p,a=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ListItem","ListItem",null,null,null,null);this.$HT=a;f=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(a,i,this.$2i,this.$2);f.$2i=this;Array.add(s,f);t={};t.id=i.$I.getValue(this.$yt);h=String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-action='open'>{2}<\/a>","incident",t.id.toString(),i.$I.getValue("title"));t.title=h;t.prioritycode=i.$I.getValue("prioritycode").$1G;t.createdon=i.$I.getValue("createdon");r=i.$I.getValue("customerid");c=this.$t0(r.LogicalName)?String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-action='open'>{2}<\/a>","account",r.Id.toString(),r.Name):String.format("<a class=\"nonInteractionCentricGridField\" data-action='none'>{0}<\/a>",r.Name);t.customerid=c;o[e]=t;e++}this.$1AL=!1;this.set_IsLoading(!1);this.$Jq=o;this.$1f.$86();this.$1f.$Sn(s);this.$NM=!0;this.$7("RecordCount")},invokeReferencePanelTab:function(n,t,i,r,u){var f={},e,o,s,h,c;if(f.uniqueid=t,r){if(e=this.$f1(t),e===-1)return;o=this.$1f.get_$R(e);s=o.get_ModelContext().GetValue(i).toString();n=o.get_ModelContext().get_$Fe();f.title=s}else f.title=u;$0.$0(this.$2)||$0.$0(this.$2.$2)||(h=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I(f,n),c=this.$2.$2,c.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I,h))},get_ColumnsForGrid:function(){return $0.$0(this.$Le)&&(this.$2m3(),this.$7("ColumnsRetrieved")),this.$Le},RefreshData:function(){this.$Cm||this.DeselectAllRecords();this.refreshCommand.execute()},$EP:function(n,t){this.$78&&Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype.$EP.call(this,n,t)},IsReferenceFieldClickDisabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return t&&!t.$BW?!0:!1},$39o:function(){var n=Xrm.Page.ui.controls.getByName("Merge"),t=Xrm.Page.ui.controls.getByName("Set");this.$wH.length>0?$0.$0(n)?$0.$0(t)||t.setDisabled(!1):n.setDisabled(!1):$0.$0(n)?$0.$0(t)||t.setDisabled(!0):n.setDisabled(!0)},OnRowSelcted:function(n,t){if(this.$78||this.$NW){if(this.$DT){var i=[n];this.$wH=i}if(this.$QC=!1,this.$DT&&(t?this.$wH=[n]:Array.clear(this.get_SelectedRowIds()),this.$39o()),!t){this.$2H7(n);return}this.$Cm&&!this.$DP&&(this.$2H6(this.get_SelectedRowIds()),this.get_$5x().get_$Nj().$10Y());this.$2DH(n);this.$Kp++}},OnAllRowsSelected:function(n,t){if(this.$QC=!0,!t){this.$QC=!1;this.$2H6(n);return}this.$Cm||this.ClearSelection();this.$2DH(n[0]);this.$34L(n)},ClearSelection:function(){this.get_$5x().get_$Nj().$ja()},$34L:function(n){var t,r,i;for(this.$Kp=n.length,this.$R6=!0,t=1;t<n.length;t++)r=this.$f1(n[t]),i=this.$1f.get_$R(r),$0.$0(i)||i.set_IsSelected(!0),this.$Nd.add(i);this.$R6=!1},DeselectAllRecords:function(){var n,t,i,r;for(this.$R6=!0,n=-1,t=0;t<this.$1f.get_Count();t++){if(i=this.$1f.get_$R(t),i.get_IsSelected()&&n===-1){n=t;continue}i.set_IsSelected(!1);this.$Nd.contains(i)&&this.$Nd.remove(i)}this.$R6=!1;this.$Kp=0;this.$QC=!1;n!==-1&&(r=this.$1f.get_$R(n),r.set_IsSelected(!1),this.fireOnAllCheckboxesUnchecked())},$2H6:function(n){var t,i,r;for(this.$Kp=1,this.$R6=!0,t=1;t<n.length;t++)i=this.$f1(n[t]),r=this.$1f.get_$R(i),r.set_IsSelected(!1);this.$R6=!1;this.$2H7(n[0])},$2DH:function(n){var r=this.$f1(n),t,i,u;r!==-1&&(this.$NM=!0,t=this.$1f.get_$R(r),t.set_IsSelected(!0),t.$j1=1,i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$nO),i.InitializationParameters.TraceComponent=1011,i.InitializationParameters.SelectionState=this.$6A,i.InitializationParameters.ListItemViewModel=t,u=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t,i),u.execute(),this.$Nd.add(t))},$2H7:function(n){var i=this.$f1(n),t;i!==-1&&(this.$Kp--,t=this.$1f.get_$R(i),t.set_IsSelected(!1),this.$Nd.contains(t)&&this.$Nd.remove(t))},$f1:function(n){for(var i,t=0;t<this.$1f.get_Count();t++)if(i=this.$1f.get_$R(t),i.$4Z===n)return t;return-1},$2Wv:function(n,t){for(var r,u,e,f,i=0;i<this.$1f.get_Count();i++)if(u=this.$1f.get_$R(i),this.$lT?(e=u.get_ModelContext(),f=e.$I.fields.objectid,r=f.Id.toString(),this.$1j6=r,this.$P=f.LogicalName,this.$1AG&&(r=u.$4Z)):(r=u.$4Z,this.$P=t==="activitypointer"?u.get_ModelContext().get_$Fe():t),r===n)return i;return-1},RefreshActivityCommandBar:function(){if($0.$0(this.$2.get_ModelContext())&&this.$78){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y;n.$qH();n.set_PrimaryModelName(this.$D);n.$vj("HomePageGrid:"+this.$D,this)}},OpenPrimaryEntityForm:function(n){var r=this.$f1(n),u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),i,t,f;r!==-1&&(!u||u.$BW)&&(this.$Cm&&Xrm.Page.ui.close(),i=this.$1f.get_$R(r),i.$j1=2,t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$nO),t.InitializationParameters.TraceComponent=1011,t.InitializationParameters.SelectionState=this.$6A,t.InitializationParameters.ListItemViewModel=i,f=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(i,t),f.execute())},DeleteRecord:function(n){var r=this.$f1(n),t,u,i,f;r!==-1&&(t=this.$1f.get_$R(r),u=t.get_IsSelected(),t.$j1=2,i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,i.$z2=!1,f=this,i.$21r(this.get_$qQ(),t,this.get_IsManyToMany()?"Mscrm.RemoveSelectedRecord":"Mscrm.DeleteSelectedRecord").done(function(n){var e,r,o;t.set_IsSelected(!0);e=n;r={};r.CommandId=e.Id;r.RibbonActionHandler=e.Actions;r.TargetViewModel=t;r.entityLogicalName=f.$D;o=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("WebResourceCommand",e.Id,r));o.execute();t.set_IsSelected(u);i.$z2=!0}))},OpenEntityForm:function(n,t){var i,r,u;if(this.$P=n,this.DeselectAllRecords(),$0.$0(n)){this.OpenPrimaryEntityForm(t);return}this.$Cm&&Xrm.Page.ui.close();i=new Microsoft.Crm.Client.Core.Commands.$2R(null,40);try{i.$x={};r=new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext(this.$1f,this.$2Wv(t,n),this.GetPrimaryAttributeName(),this,!1);i.$x={ListNavigationContext:r};i.$x.EntityReference=new Xrm.Objects.EntityReference(this.$P,new Microsoft.Crm.Client.Core.Framework.Guid(this.$lT?this.$1j6:t));i.$D=this.$P;u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$P);u.$BW&&i.execute()}finally{i.dispose()}},ExecuteRecordAction:function(n,t,i){switch(n){case"open":this.OpenEntityForm(t,i);break;case"delete":this.DeleteRecord(i)}},GetPrimaryAttributeName:function(){return this.$21U(this.$D)},$21U:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n),i="";return $0.$0(t)||(i=t.$59),i},$MZ:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&n.$m===-2147094003?this.$2.$MZ(n):(this.set_$1Kd(n.$m),this.set_HasError(!0),Microsoft.Crm.Client.Core.Framework.Trace.logError(63,n.$F),$0.$0(this.$2n)||this.$2n.$1X7())},PagingGridRecords:function(n){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$1Hz();n?this.moreRecordsAvailable()&&(this.$Cm||this.DeselectAllRecords(),this.$DT&&(this.$Jq=null),this.$1fo(),this.set_IsLoadingNextPage(!0),this.$1Z.$9S=this.$1Z.$G8+1,this.$1Z.$OO=this.$1Z.$OO+1,this.$1Z.set_MoreNextPage(!0),this.$1Z.set_MorePreviousPage(!0),this.$1Yz(),this.$gB=!1,this.$1fm()):this.getCurrentPageIndex()>1&&(this.$Cm||this.DeselectAllRecords(),this.$DT&&(this.$Jq=null),this.$1fq(),this.set_IsLoadingPreviousPage(!0),this.$1Z.$9S=this.$1Z.$OO-1,this.$1Z.$G8=this.$1Z.$G8-1,this.$1Yz(),this.$gB=!1,this.$1fm(!1))},$1i3:function(n,t){this.$ZS=!0;this.$g6=!1;this.$4e=n;this.PagingGridRecords(t)},$3d:function(n){if(this.$Cn){var t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StopMarkerForSearch",1,null);this.$71.get_FilterBarViewModel().set_IsSearchBlocked(!1);this.$71.get_FilterBarViewModel().set_HasTextChanged(!1);this.$Cn=!1}(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$3d.call(this,n),this.$g6)||this.$1f&&this.$1f.get_Count()>0&&this.$ZS&&($0.$0(this.$4e)||(this.$g6=!0,this.$ZS=!1,this.$4e.$2Hv()))},$4L:function(n){this.$Cn&&(this.$71.get_FilterBarViewModel().set_IsSearchBlocked(!1),this.$71.get_FilterBarViewModel().set_HasTextChanged(!1),this.$Cn=!1,this.$2DI(n));Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$4L.call(this,n)},$2kC:function(n,t){var f,r;if(!$0.$0(this.$Le))for(var u=this.$Le,e=u.length,i=0;i<e;++i)if(f=u[i],f.name===t){this.$1Jc||(this.$1Jc=!0,r=this,window.setTimeout(function(){r.$1Jc=!1;r.$1aR()},0));return}},IsColumnSortable:function(n){var t=this.$zy[n],i,r;return!$0.$0(t)&&t.$26===10?!1:(i=n.indexOf(".")!==-1,r=!i,r)},SortGrid:function(n,t){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$1Hz();this.$38k(n,t)},$38k:function(n,t){this.$3q.$8Q===n?this.$3q.$Cg=t==="asc"?!1:!0:(this.$3q.$Cg=!1,this.$3q.$8Q=n);this.$Ne=!0;this.RefreshData()},$1r9:function(){this.$NM=!0;this.$22=null;Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype.$1r9.call(this)},GetJumpbarText:function(){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r,f,n;t.add(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_Selection_JumpBar_All")+":*");r=this.get_JumpBarText().split(",");for(var u=r,e=u.length,i=0;i<e;++i)f=u[i],n=f,n=n.replace("(",""),n=n.replace(")",""),t.add(n);return t.toArray()},JumpBarFilterToGrid:function(n){var t,i,f;if(!$0.$0(this.$D)){if(t=this.GetPrimaryAttributeName(),i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,t),n==="*")i.$Bl(t,"like","%");else if(n.indexOf("|")>-1){i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,t);for(var u=n.split("|"),e=u.length,r=0;r<e;++r)f=u[r],i.$Bl(t,"like",String.format("{0}%",f))}else i.$Bl(t,"like",String.format("{0}%",n));this.$dQ=n;this.$22=i.$9V();this.$Ne=!0;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$1Hz();this.RefreshData()}},$dQ:null,get_SelectedFilterValue:function(){return this.$dQ},set_SelectedFilterValue:function(n){return this.$dQ=n,n},getTotalRecordsCount:function(){return $0.$0(this.$2n)?this.$1f.get_Count():this.$2n.get_EntityCollection().$DJ},totalRecordCountLimitExceeded:function(){return this.$2n.get_EntityCollection().$VT},moreRecordsAvailable:function(){return this.$2n.get_EntityCollection().$KU},get_TotalRecordsCount:function(){return this.getTotalRecordsCount()},get_CurrentPageIndex:function(){return this.getCurrentPageIndex()},$2m3:function(){var e,n,t;if(this.$DT){this.$2m4();return}if(!this.$iR&&$0.$0(this.$Le)){if($0.$0(this.get_Header())){this.$Le=null;return}var f=0,u=[],i={};i.name="id";i.label="id";i.width="0";i.initialWidth="0";i.key=!0;i.hidden=!0;u[f++]=i;var h=0,c=this.get_Header().$H,o=[],s=c;for(e in s){var l={key:e,value:s[e]},r=l.value,a=r.$L;this.$lT&&a==="queueitemid"||(n={},n.name=r.$L,n.label=r.get_Data(),n.width=r.$FU,n.initialWidth=r.$FU,n.key=!1,n.hidden=r.$FU==="0"?!0:!1,n.name.indexOf(".")===-1&&o.push(n.name),u[f++]=n,h+=Number.parseInvariant(n.width))}this.$17w&&(t={},t.name=this.$D+"delete",t.label="&nbsp;",t.width="0",t.initialWidth="0",t.classes="delete-icon-column",t.key=!1,t.hidden=!1,u[f++]=t);this.$Le=u;this.$Kl(this.$D,o);this.recalculateColumnSize();this.$NM=!0}},$2m4:function(){var r=0,u=[],f=this.$2.$5m.columnNames,o=this.$2.$5m.columnLabels,n,e=[],t,i;if($0.$0(this.$Le)){for(t={},t.name="id",t.label="id",t.width="0",t.initialWidth="0",t.key=!0,t.hidden=!0,u[r++]=t,i=0;i<f.length;i++)f[i]!=="statecode"&&(n={},n.name=f[i],n.label=o[i],n.key=!1,n.width="100",n.initialWidth="100",e[r-1]=n.name,u[r++]=n);this.$Le=u;this.$Kl("incident",e);this.recalculateColumnSize()}},$Kl:function(n,t){var i={},r,u;i.EntityType=n;i.Attributes=t;i.OnSuccess=this.$$d_$tc;r=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));u=r.$B1(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u)},$tc:function(n){var t,i;if(!$0.$0(n))for(t=0;t<n.length;t++)i=n[t],this.$zy[i.$y]=i},recalculateColumnSize:function(){var t=0,e=this.get_ColumnsForGrid(),s,h,r,u,c,a,n;if(!$0.$0(e)){for(var o=e,v=o.length,i=0;i<v;++i)s=o[i],h=s,t+=Number.parseInvariant(h.initialWidth);if(r=$("#gridContainer_"+this.get_ViewModelId()),r.length>0){u=r.width();c=u/t;for(var l=this.$Le,y=l.length,f=0;f<y;++f)a=l[f],n=a,n.width=u>t&&!this.$NW&&!this.$78?(Number.parseInvariant(n.initialWidth)*c).toString():n.initialWidth}}},$2Z:function(){var n,t,i;this.$DT&&(this.set_IsLoading(!1),this.$1TA="PopulateDataForMergeAssociate",this.$6J=this.$2.$5m.entityName,this.$yt=this.$2.$5m.primaryAttribute,this.$1Az=this.$2.$5m.recordIds,this.$iI=this.$2.$5m.columnNames,this.set_PrimaryModelName(this.$6J),this.$yU=this.$2.$5m.isAssociate,n=Xrm.Page.ui.controls.getByName("Merge"),t=Xrm.Page.ui.controls.getByName("Set"),$0.$0(n)?$0.$0(t)||t.setDisabled(!0):n.setDisabled(!0));this.$1f.add_CollectionChanged(this.$$d_$2Yf);this.$NM=!0;this.$yW=!1;this.$dQ=null;this.$2VE();Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),(i&&!i.$BW||this.$D==="connection")&&(this.$yW=!0),this.$1a||(this.$Cn=!1,this.$Fa="",this.$Na={},this.$SJ=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$FJ)),this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81,this.$$d_$2Wm),this.$Nd=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$3R))));this.$zy={};this.$D==="queueitem"&&(this.$lT=!0);Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype.$2Z.call(this)},$2kO:function(){var n,t;this.$Fa!==""&&(this.$Fa="",this.$71.get_FilterBarViewModel().set_SearchText(""));n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);n.get_$7g()&&this.$78?(t=this.$Na[this.$D],this.$29x(t)):this.$29x(this.$Pz)},$2kg:function(n){var t,i;$0.$0(this.$hF)&&(this.$sn=this.$2O);this.$Fa=n;this.$Ne=!0;this.$22=null;this.$dQ=null;t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);t.get_$7g()&&this.$78?(i=this.$Na[this.$D],this.$2A0(i)):this.$2A0(this.$Pz)},$29x:function(n){this.$OA?$0.$0(n)?$0.$0(this.$hF)||this.$2O!==this.$sn&&(this.$2O=this.$sn,this.refreshCommand.execute()):this.get_DefinitionId()===n&&this.$1rB(this.$1U3):$0.$0(this.$hF)||this.$2O!==this.$sn&&(this.$2O=this.$sn,this.refreshCommand.execute())},$2A0:function(n){if($0.$0(n))if($0.$0(this.$hF)){this.$1T5=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,3,this.$D,1,!0,null,3);var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSavedQueryDetailsAction",null);t.OnSuccess=this.$$d_$33F;t.OnFailure=this.$$d_$33E;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)}else this.$2O=this.$hF,this.RefreshData();else this.get_DefinitionId()===n?this.refreshCommand.execute():this.$1rB(n)},$2ym:function(n){var t=n.trim();return t!==""&&Microsoft.Crm.Client.Core.ViewModels.$1e.$14R(t)&&(t="*"),t},$2Wm:function(n){if(!$0.$0(this.$71)&&!$0.$0(this.$71.$yL)&&this.$71.$yL===n.$iS)if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()){var i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StartMarkerForSearch",1,null),t=this.$2ym(n.$Fa);if(this.$71.get_FilterBarViewModel().set_SearchText(t),this.$Fa===""&&t==="")if(this.$Cm)t="*";else return;if(t===""||!this.$71.get_FilterBarViewModel().$sf&&t===this.$Fa){this.$2kO();return}this.$71.get_FilterBarViewModel().set_IsSearchBlocked(!0);this.$Cn=!0;this.$2kg(t)}else this.$22=n.$1T4,this.$dQ=null,this.$Ne=!0,this.refreshCommand.execute()},$33F:function(n){for(var i=n,u=i.$1mk(),e=u.length,r=0;r<e;++r){var o=u[r],s=new Xrm.Objects.EntityReference("savedquery",new Microsoft.Crm.Client.Core.Framework.Guid(o.$q)),h=Microsoft.Crm.Client.Core.Framework.$q.$4t(this.get_ViewModelId(),this.$L),t=this,f=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(s,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["querytype"]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),h).then(function(n){var f=Microsoft.Crm.Client.Core.Models.$c.$X(n),s=f.$I.fields.querytype,h=f.$I.fields.savedqueryid.toString(),r,u,e;if(s===4){for(r=0,r=0;r<i.get_$3F6();r++)if(i.get_$R(r).$q===h)break;if(u=i.get_$R(r),t.$Cm){var c=u.get_$E5().$5M.get_$R("fetchXml").Data,l=Microsoft.Crm.Client.Core.ViewModels.$1e.$136(c),a=t.$2O.$5M.get_$R("fetchXml").Data,o=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(a);o.$DN.add(l);e=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(o.$fV());t.$hF=e;t.$2O=e}else t.$hF=u.get_$E5(),t.$2O=u.get_$E5();t.RefreshData();f.$5E()}},function(n){f.$Cn=!1;f.$71.get_FilterBarViewModel().set_IsSearchBlocked(!1);Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Failed for RetrieveSavedQueryDetailsSuccess in InteractionCentricGridControlViewModel with error : {0}",n.$F)})}},$33E:function(n){this.$Cn=!1;this.$71.get_FilterBarViewModel().set_IsSearchBlocked(!1);this.$71.get_FilterBarViewModel().set_HasTextChanged(!1);this.$2DI(n)},$1Hz:function(){var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$D,null).then(function(t){var r=t,i;r.get_$7g()?(i=n.$Na[n.$D],$0.$0(i)||i!==n.get_DefinitionId()?$0.$0(i)&&n.$Fa!==""&&(n.$Cn=!0):n.$Cn=!0):$0.$0(n.$Pz)||n.get_DefinitionId()!==n.$Pz?$0.$0(n.$Pz)&&n.$Fa!==""&&(n.$Cn=!0):n.$Cn=!0},function(){})},$1Mx:function(n,t){var r=n;for(var u in r){var o={key:u,value:r[u]},i=o.value,f=i.$M.MetadataSubType,s=i.$M.IsDefault;if(!$0.$0(f)&&f===3&&s){var h=this.$D,c=new Microsoft.Crm.Client.Core.Framework.Guid(i.$M.ViewId),l=new Xrm.Objects.EntityReference("savedquery",c),a=Microsoft.Crm.Client.Core.Framework.$q.$4t(this.get_ViewModelId(),this.$L),e=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(l,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["querytype"]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),a).then(function(i){var r=Microsoft.Crm.Client.Core.Models.$c.$X(i),l=r.$I.fields.querytype,u=r.$I.fields.savedqueryid.toString(),f,o,c,s;if(l===4){f=n;for(o in f)if(c={key:o,value:f[o]},s=c.value,u===s.$M.ViewId){s.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AdvancedFindSearchResultsViewName"));break}t?e.$Na[h]=u:e.$Pz=u}r.$5E()},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Failed for PopulateQuickFindViewId in InteractionCentricGridControlViewModel with error : {0}",n.$F)})},-13,"ISH_QuickFind_retrieve")}}},$2DJ:function(){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskQuickFindSearchEvent");n.$h("EntityName",this.$D);n.$h("ColumnSet",this.$vY);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n)},$2DI:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskQuickFindSearchFailedEvent");t.$h("EntityName",this.$D);t.$h("ColumnSet",this.$vY);t.$h("ErrorStatus",n.$F);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)},$1rB:function(){},$Oh:function(){var i,n,t,r;if($0.$0(this.$4e)||(this.$4e.dispose(),this.$4e=null),$0.$0(this.$1f)||this.$1f.remove_CollectionChanged(this.$$d_$2Yf),Microsoft.Crm.Client.Core.Models.$1j.isInstanceOfType(this.$2n)&&(i=this,this.$2n.$KS.$ka(function(n){n.remove_$7L(i.$$d_$2kC)})),$0.$0(this.$71)||(this.$71.dispose(),this.$71=null),this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81,this.$$d_$2Wm),this.$Le=null,this.$Jq=null,this.$zy=null,!$0.$0(this.$Na)){n=this.$Na;for(t in n)r={key:t,value:n[t]},delete this.$Na[r.key];this.$Na=null}$0.$0(this.$SJ)||(this.$SJ=null);$0.$0(this.$Nd)||(this.$Nd=null);Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype.$Oh.call(this)},fireOnAllCheckboxesUnchecked:function(){this.$Kp=0;this.$Nd.clear();this.$7("AllCheckBoxesUnchecked");this.$9j("AllCheckBoxesUnchecked")},add_$2LT:function(n){$0.$0(this.$2)||this.$2.$1p("AllCheckBoxesUnchecked",n)},$9j:function(n){if(!$0.$0(this.$2)){var t=this.$2.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)}},$2Ow:function(){this.$1uO(null);this.$UL=null},OnDefinitionUpdated:function(n){this.$1uO(n)},$1uO:function(n){this.$22=null;this.$dQ=null;this.$Le=null;this.$Jq=null;this.set_HeaderViewModelDescriptor(null);this.$Bf=null;this.$52=null;this.$5T=-1;this.$6c=null;this.$9A=-1;this.$Cn||($0.$0(this.$71)||this.$71.get_FilterBarViewModel().set_SearchText(""),this.$Fa="");this.$Cm||this.DeselectAllRecords();$0.$0(this.$Dw)||this.$1Z.$Ea();$0.$0(n)||$0.$0(n.$D)||(this.set_PrimaryModelName(n.$D),this.$UL=null)},$t0:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:t.$BW},OnFilterUpdated:function(n){var t="",r="",u;if(!$0.$0(n))switch(n){case"All":case"Today":r=n;t="all";break;case"Overdue":case"Tomorrow":case"NextXDays;7":case"NextXDays;30":case"NextXDays;90":case"NextXMonths;6":case"NextXMonths;12":r=n;t="active"}if(u=r,!$0.$0(u)&&!$0.$0(t)){var f=this.$2RE(u,t),e=this.$2T8(n,t),o=this.$2QU(t,""),i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"effectiveFilter");i.$9Z(f);i.$9Z(e);i.$9Z(o);this.$22=i.$9V();Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&(this.$SJ.clear(),this.$SJ.add(f),this.$SJ.add(e),this.$SJ.add(o),this.get_DefinitionId()===this.$Na[this.$D]&&(this.$Cn=!0))}this.$Ne=!0;this.RefreshData()},$2QU:function(n,t){var i,r;return!$0.$0(t)&&t.length>0&&t!=="All"?(i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"actualEndFilter"),i.$8i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$FG)),r=this.$1Y3("actualend",t),i.$8i.add(r),i):null},$Rr:function(){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$1Hz(),this.$ox&&$0.$0(this.$2n)&&this.$1CH(Microsoft.Crm.Client.Core.Models.$1j.$jn()),this.ClearSelection(),this.$DT){this.$1Yz();this.$Jq=null;this.$1wt();return}Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype.$Rr.call(this)},$288:function(){var n=this.$1Z.$9S;this.$1Z.$Ea();this.$Ne?this.$Ne=!1:this.$1Z.$9S=n;this.$1fm()},$2T8:function(n,t){var i;if(n==="All")return null;i=null;i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"stateCodeFilter");i.$8i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$FG));var u=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T("statecode","eq","Open"),r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T("statecode","eq","Completed"),f=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T("statecode","eq","Canceled"),e=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T("statecode","eq","Scheduled");switch(t){case"active":default:i.$8i.add(u);switch(this.$D){case"serviceappointment":case"appointment":case"recurringappointmentmaster":case"activitypointer":i.$8i.add(e);break;case"email":i.$8i.add(r)}break;case"inactive":i.$8i.add(r);i.$8i.add(f);break;case"all":}return i},$2RE:function(n,t){var i,r,u,f,e;return Microsoft.Crm.Client.Core.Framework.$3.$9(n)||n==="All"?null:(i=null,r="scheduledend",t!=="inactive"&&(u=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$1aF(new Date,1),i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"dateFilter"),i.$8i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$FG)),i.$8i.add(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T(r,"lt",u)),n!=="Overdue"&&(f=this.$1Y3(r,n),i.$8i.add(f)),n==="Tomorrow"&&(e=this.$1Y3(r,"Today"),i.$8i.add(e))),i)},$1Y3:function(n,t){var i=t.split(";"),r=i.length>1?i[1]:"",u=this.$2hv(i[0]);return new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T(n,u,r)},$2hv:function(n){switch(n){case"All":case"Overdue":case"Today":case"Tomorrow":case"Yesterday":default:return n.toLowerCase();case"NextXDays":return"next-x-days";case"NextXMonths":return"next-x-months";case"LastXDays":return"last-x-days";case"LastXMonths":return"last-x-months"}},GetHeaderTooltip:function(n){return Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_ToolTip_SortBy"),n)},fetchScreenReadableText:function(n,t){return t?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_RecordNumber"),n,t):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_NoRecord"))},gridRowCheckText:function(n,t,i){return i?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_SelectRecord"),t):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_RemoveRecord"),n,t)},fetchScreenReadableTextColumnHeader:function(n,t,i,r,u){return u?t===i?r?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_SortableHeader_Descending_Order"),n):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_SortableHeader_Ascending_Order"),n):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_Only_SortableHeader"),n):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_NonSortableHeader"),n)},gridScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Gridview_ScreenReader_Label"),this.get_Title(),n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel.prototype={$1QQ:!1,$kW:null,$xf:null,get_FilterBarViewModel:function(){if($0.$0(this.$kW)){this.$yL=Microsoft.Crm.Client.Core.Framework.Guid.newGuid().toString();var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("FilterBarViewModel","FilterBar",null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FilterBarId",this.$yL),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("GridPrimaryAttributeName",this.$d4)],null);this.$kW=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2)}return this.$kW},$yL:null,$d4:null,get_ShowSearch:function(){return this.$1QQ},set_ShowSearch:function(n){return this.$1QQ===n?n:(this.$1QQ=n,this.$7("ShowSearch"),n)},$Cm:!1,get_IsGridDialogContext:function(){return this.$Cm},set_IsGridDialogContext:function(n){return this.$Cm=n,n},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)},$Rr:function(){this.$9j("OnRefresh")},$NW:!1,get_IsAssociatedGridContext:function(){return this.$NW},set_IsAssociatedGridContext:function(n){return this.$NW=n,n},add_$28N:function(n){this.$1p("OnRefresh",n)},$25j:function(){this.$1Kt()},$Oh:function(){this.$32("OnRefresh",this.$4d("OnRefresh"));$0.$0(this.$kW)||(this.$kW.dispose(),this.$kW=null);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$Oh.call(this)},$2Z:function(){var n,i,t;Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$2Z.call(this);this.$xf=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$xf.add("AE82A232-1529-4BDE-9972-93CE21A095C6");this.$xf.add("DDB43BE7-F7DA-4D90-845F-06552A446DA0");this.$xf.add("BA3387BF-382D-4376-A538-5B02467925D3");!$0.$0(this.get_DefinitionId())&&this.$xf.contains(this.get_DefinitionId().toUpperCase())&&(n=null,this.$D==="knowledgearticle"?n="Mscrm.AddExistingRecordFromSubGridStandard":this.$D==="connection"&&(n="Mscrm.AddNewRecordFromSubGridStandard"),n&&(i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,t=this,i.$21r(this.get_$qQ(),this,n).done(function(n){var r=n,i={};i.CommandId=r.Id;i.RibbonActionHandler=r.Actions;i.TargetViewModel=t;i.entityLogicalName=t.$D;t.set_AddExistingCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("WebResourceCommand",r.Id,i)))})))}};Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("HierarchyListItem",Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.$2lj)};Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.$2lj=function(){return new Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel};Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.prototype={get_ShowDrilldown:function(){return this.get_ModelContext().GetValue("ChildCount")>0}};Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel=function(){this.$$d_$2q0=Function.createDelegate(this,this.$2q0);this.$$d_$2yG=Function.createDelegate(this,this.$2yG);this.$$d_$2Ag=Function.createDelegate(this,this.$2Ag);this.$G2=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(String));this.$No=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(String));this.$Gj=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel));Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.initializeBase(this);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||!Microsoft.Crm.Client.Core.ViewModels.$a.$B5()?this.set_$mz(new Microsoft.Crm.Client.Core.Commands.$AO(this.$$d_$2Ag,80)):this.set_$mz(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Ag,80))};Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.prototype={$1ig:null,$1YM:null,$22w:!0,$1IR:null,$1J9:!1,$13z:!1,$16z:null,$16J:null,$1dy:!1,get_HierarchyListItemDescriptor:function(){return this.$1IR},get_HierarchicalContextList:function(){return this.$G2},get_IsBreadcrumbCapExceeded:function(){return this.$1dy},get_IsDrilldown:function(){return this.$13z},set_IsDrilldown:function(n){return this.$13z=n,n},get_BreadcrumbViewModels:function(){return this.$Gj},set_$31b:function(n){return $0.$0(this.$16z)||(this.$16z.dispose(),this.$16z=null),this.$16z=n,n},get_$1i6:function(){return"HierarchyListPane"},get_HierarchyMessage:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Breadcrumb_Items_Message")},$1fc:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||!Microsoft.Crm.Client.Core.ViewModels.$a.$B5()){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveAncestors",null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)}},$28s:function(){this.set_ModelContext(this.get_$Kc().get_ModelContext());Microsoft.Crm.Client.Core.ViewModels.List.$SG.prototype.$28s.call(this)},onBreadcrumbPressed:function(n){this.$G2.$86();this.$G2.$3w(n.$4Z);this.$1J9=!0;this.modifyBreadcrumbsList(n)},navigateBreadcrumbItem:function(n){var t=new Microsoft.Crm.Client.Core.Commands.$2R(n,2);t.$x=null;t.execute();t.dispose()},modifyBreadcrumbsList:function(n){var t,i;t=n.get_ModelContext().$2h?n.get_ModelContext().$87():n.get_ModelContext();this.$1J9?(this.$1YM=t.get_$2m(),this.$30W()):this.$13z&&(this.$No.$10k(t.get_$2m())||(this.$No.$3w(t.get_$2m()),i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(this.$1sz(),t),this.$Gj.$3w(i)));this.set_ModelContext(t);this.$Rr()},$2q0:function(n){var t,i,u,r,f;if($0.$0(this.$Gj)||this.$Gj.get_Count())n.dispose();else{for(t=n,this.$1dy=t.get_EntityCollection().$KU,t.$11.$1Ir(0,this.get_ModelContext()),i=1;i<t.get_$s()-1;i++)if(u=t.$11.get_$R(i).GetValue(this.$6c),u.get_$4m().toString()!==t.$11.get_$R(i+1).get_Id().toString()){t.$11.$16s(i+1,t.get_$s()-i);break}for(r=t.get_$s()-1;r>=0;r--)$0.$0(t.$11.get_$R(r))||(this.$No.$3w(t.$11.get_$R(r).get_Id()),f=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(this.$1sz(),t.$11.get_$R(r)),this.$Gj.$3w(f),t.$11.$vm(r));t.$5E();this.$7("PrimaryFieldAttribute")}},$Rr:function(){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$Rr.call(this);this.$13z=!1;this.$1J9=!1},$2Ag:function(){this.$31g();Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$Rr.call(this)},$qc:function(n){this.$HT.TypeName="HierarchyListItem";return Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$qc.call(this,n)},$31g:function(){this.$G2.get_Count()>0&&(this.$G2.$86(),this.$G2.dispose());this.$No.get_Count()>0&&(this.$1ur(),this.$No.$86(),this.$No.dispose(),this.$1fc());this.set_ModelContext(this.get_$Kc().get_$1B())},$2Z:function(){this.$1a||(this.AddPropertyChangedListener("PrimaryFieldAttribute",this.$$d_$2yG),this.$1IR=this.$1sy(),this.$1fc());Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$2Z.call(this)},$Oh:function(){this.$1ur();this.$Gj=null;this.$No.$86();this.$No.dispose();this.$No=null;this.$G2.$86();this.$G2.dispose();this.$G2=null;this.RemovePropertyChangedListener("PrimaryFieldAttribute",this.$$d_$2yG);this.set_$31b(null);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$Oh.call(this)},$2yG:function(){this.$1IR=this.$1sy()},$Hd:function(){this.$1a&&!$0.$0(this.get_ModelContext())&&this.$1fc();Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this)},$1sy:function(){var n=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ed("ListItem","item"),t=new(Microsoft.Crm.Client.Core.Framework.$6E.$$(String,Object))("labelCssClass","drilldownParent");return n.ChildControlViewDescriptors={},n.ChildControlViewDescriptors.label=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("label",this.$16J,null,[t]),n},$30W:function(){var n=this.$Gj.get_Count(),i=this.$No.$2ls(this.$1YM),t,r;if(i>=0)for(t=n-i-1;t>0;t--)n=this.$Gj.get_Count(),r=this.$Gj.get_$R(n-1),r.dispose(),this.$Gj.$vm(n-1),this.$No.$vm(n-1)},$1ur:function(){var n,t;if(!$0.$0(this.$Gj))for(n=0;n<this.$Gj.get_Count();n++)t=this.$Gj.get_$R(n),$0.$0(t)||t.dispose();this.$Gj.$86();this.$Gj.dispose()},$1sz:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ListItem","ListItem","item",null,null,[Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("Label","label",this.$16J,this.$16J,null,null,null,null)],null)}};Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$1hJ=Function.createDelegate(this,this.$1hJ);this.$$d_$2qR=Function.createDelegate(this,this.$2qR);this.$$d_$Rr=Function.createDelegate(this,this.$Rr);this.$$d_$27y=Function.createDelegate(this,this.$27y);this.$$d_$1ME=Function.createDelegate(this,this.$1ME);this.$$d_$1hP=Function.createDelegate(this,this.$1hP);this.$$d_$2sE=Function.createDelegate(this,this.$2sE);this.$$d_$1M7=Function.createDelegate(this,this.$1M7);this.$Om=-1;this.$tX=-1;this.$5T=-1;this.$9A=-1;this.get_$28w=this.get_OpenItemCommand;this.set_$2sD=this.set_NavigationTarget;this.get_$34P=this.get_SelectedItem;this.get_componentType=this.get_$2PZ;this.get_definitionId=this.get_DefinitionId;this.set_definitionId=this.set_DefinitionId;this.get_sourceId=this.get_SourceId;this.set_sourceId=this.set_SourceId;Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$2IP=this.get_Visible;this.get_childViewModels=this.get_ChildViewModels;this.get_$2Uf=this.get_Dragging;this.get_$1C9=this.get_applicationMetadataType;this.get_$2Ts=this.get_DefinitionId;this.set_$38o=this.set_SourceId;this.get_$3CO=this.get_ViewModelId;Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.initializeBase(this);this.$H={};this.set_AllowEdit(!1);this.get_$5x().get_$Nj().apcl(this.get_$5x().get_$24m(),this.$$d_$1M7);this.get_$5x().get_$Nj().apcl(this.get_$5x().get_$26m(),this.$$d_$2sE);this.$1f=new Microsoft.Crm.Client.Core.Framework.$AL;this.$id=new Microsoft.Crm.Client.Core.Framework.$AL;this.$id.add_CollectionChanged(this.$$d_$1hP)};Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype={$KK:0,hitHighlightInfo:null,$FE:null,refreshCommand:null,addCommand:null,deleteCommand:null,$A4:null,$1W:null,$ey:null,$q:null,$1V:"",$2O:null,$IE:!1,$HT:null,$t8:!1,$1k:!0,$Zf:null,$eF:null,$4u_4:!0,$8m:!0,$1G:null,$5R_4:!1,$pd:!0,$2n:null,$5o:null,$al:null,$88:null,$22:null,$Bf:null,$hz:!1,$9a:0,$t:0,$8l:null,$qa:null,$MC:null,$JD:null,$OA:!0,$1F5:!1,$Jk:5,$13L:!1,$52:null,$6c:null,$lU:!1,$gB:!1,$CW:!1,$lN:!1,$eg:!0,$24J:!1,$jX:!0,$r9:!1,$17s:!0,$1IO:!0,$H:null,$ws:-3e4,$mE:-3e4,$18i:null,$1Q8:!1,$FG:null,$nO:"SelectListItemCommand",$UL_4:null,$1Kr:null,$1M7:function(){this.$7("IsServerAvailable")},$2sE:function(){this.get_IsServerAvailable()||this.$7("OfflineText")},add_DefinitionUpdated:function(n){this.$1p("DefinitionUpdated",n)},remove_DefinitionUpdated:function(n){this.$32("DefinitionUpdated",n)},add_$1Oq:function(n){this.$1p("RetrievePersonalizationCompleted",n)},remove_$1Oq:function(n){this.$32("RetrievePersonalizationCompleted",n)},get_ShouldHideAddButton:function(){return this.$1Q8},set_ShouldHideAddButton:function(n){return n!==this.$1Q8&&(this.$1Q8=n,this.$7("ShouldHideAddButton")),n},get_DisableItemLongPress:function(){return this.$r9},set_DisableItemLongPress:function(n){return this.$r9=n,$0.$0(this.$6A)||this.$6A.set_$wI(!this.$r9),n},get_ShouldCacheResponse:function(){return this.$17s},set_ShouldCacheResponse:function(n){return this.$17s=n,n},get_$2PZ:function(){return 11},get_SelectListItemCommandName:function(){return this.$nO},set_SelectListItemCommandName:function(n){return this.$nO=n,n},get_Visible:function(){return this.$4u_4},set_Visible:function(n){var t=this.get_$5x().$1Dk(n,null);return this.$4u_4!==t&&(this.$4u_4=t,this.$7("Visible")),n},get_Enabled:function(){return this.$8m},set_Enabled:function(n){var t=this.get_$5x().$1Dk(n,null);return this.$8m!==t&&(this.$8m=t,this.$7("Enabled")),n},get_Label:function(){return this.$1G},set_Label:function(n){return this.$1G!==n&&(this.$1G=n,this.$7("Label"),this.$7("ShowLabel")),n},get_HasFocus:function(){return this.$5R_4},set_HasFocus:function(n){return this.$5R_4!==n&&(this.$5R_4=n,this.$7("HasFocus")),n},get_AllowEdit:function(){return this.$IE},set_AllowEdit:function(n){var t,i=n;return t=String.isInstanceOfType(i)?this.get_$5x().$1Dk(n,null):n,this.$IE=t,this.$7("AllowEdit"),n},get_CurrentItemIndex:function(){var n,t;return $0.$0(this.$A4)?$0.$0(this.$L6)?-1:(n=this,this.$1f.$1Km(function(t){return t.get_ViewModelId()===n.$L6.get_ViewModelId()})):(t=this,this.$1f.$1Km(function(n){return n.get_ViewModelId()===t.$A4.get_ViewModelId()}))},set_CurrentItemIndex:function(n){return this.set_$1YV(this.$1f.get_$R(n)),n},get_IsMultiSelectEnabled:function(){return this.$t8},set_IsMultiSelectEnabled:function(n){return this.$t8=n,n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k!==n&&(this.$1k=n,this.$7("IsLoading")),n},get_IsInteractionCentricEmailAttachmentList:function(){return this.$lN},set_IsInteractionCentricEmailAttachmentList:function(n){return this.$lN=n,n},get_HideEmailAttachmentSubGrid:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.$lN&&!$0.$0(this.$2)&&this.$2.$6i===1?!0:!1},get_ListContextId:function(){return this.$Zf},set_ListContextId:function(n){return this.$Zf=n,n},get_CurrentItemChangedCommand:function(){return this.$eF},set_CurrentItemChangedCommand:function(n){return $0.$0(this.$eF)||(this.$eF.dispose(),this.$eF=null),this.$eF=n,n},get_Query:function(){return this.$1V},set_Query:function(n){return this.$1V=n,n},get_HitHighlightInfo:function(){return this.hitHighlightInfo},set_HitHighlightInfo:function(n){return this.hitHighlightInfo=n,n},$1U3:null,get_DefinitionId:function(){return this.$1W},set_DefinitionId:function(n){var f=$0.$0(n)?"":n.toLowerCase(),t=$0.$0(this.$1W)?"":this.$1W.toLowerCase(),i=f!==t,r,u;return t!==""&&this.$t!==1?n:(i&&!Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&(r=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n),u=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$1W),Microsoft.Crm.Client.Core.Framework.Guid.get_empty().equals(r)||Microsoft.Crm.Client.Core.Framework.Guid.get_empty().equals(u)||(i=!r.equals(u))),i&&(this.$1U3=this.$1W,this.$1W=n,this.$1r9()),n)},$2Ci:function(n){return n},get_FilterDefinitionIds:function(){return this.$ey},set_FilterDefinitionIds:function(n){return this.$ey=n,n},get_SourceId:function(){return this.$q},set_SourceId:function(n){return this.$q=n,n},get_HeaderTitleField:function(){return this.$MC},set_HeaderTitleField:function(n){return this.$MC!==n&&(this.$MC=n,this.$7("HeaderTitleField")),n},get_NextTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?this.$mE:-3e4},set_NextTabIndex:function(n){return this.$mE=n,n},get_StartIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?this.$ws:-3e4},set_StartIndex:function(n){return this.$ws=n,this.$mE=n,n},get_TabSpaceReserved:function(){return 150},get_IsInteractionCentricLookup:function(){return this.$24J},get_ListItemViewModelDescriptor:function(){return this.$HT},set_ListItemViewModelDescriptor:function(n){return this.$HT=n,n},get_OpenItemCommand:function(){return this.$FE},set_OpenItemCommand:function(n){return this.$FE!==n&&($0.$0(this.$FE)||(this.$FE.dispose(),this.$FE=null),this.$FE=n,this.$7("OpenItemCommand")),n},get_applicationMetadataType:function(){return this.$9a},set_applicationMetadataType:function(n){return this.$9a=n,n},set_$mz:function(n){return $0.$0(this.refreshCommand)||(this.refreshCommand.dispose(),this.refreshCommand=null),this.refreshCommand=n,n},get_AddCommand:function(){return this.addCommand},set_AddCommand:function(n){return this.addCommand!==n&&($0.$0(this.addCommand)||(this.addCommand.dispose(),this.addCommand=null),this.addCommand=n,this.$7("AddCommand")),n},set_$r2:function(n){return $0.$0(this.deleteCommand)||(this.deleteCommand.dispose(),this.deleteCommand=null),this.deleteCommand=n,n},$L6:null,get_NavigationTarget:function(){return this.$L6},set_NavigationTarget:function(n){return this.$L6=n,n},$Aj:null,get_$5x:function(){return $0.$0(this.$Aj)&&(this.$Aj=new Microsoft.Crm.Client.Core.ViewModels.$Hq),this.$Aj},set_$1YV:function(n){return this.$A4!==n&&(this.$A4=n,this.$7("CurrentItem"),this.$7("CurrentItemIndex"),$0.$0(this.$eF)||this.$eF.execute()),n},get_SelectedItem:function(){return this.$A4},set_SelectedItem:function(n){return this.$A4!==n&&(this.set_$1YV(n),this.$7("SelectedItem")),n},add_$2DC:function(n){this.AddPropertyChangedListener("SelectedItem",n)},remove_$2DC:function(n){this.RemovePropertyChangedListener("SelectedItem",n)},get_ItemsLoaded:function(){return this.$KK},set_ItemsLoaded:function(n){return this.$KK=n,n},add_$td:function(n){this.$1p("LoadCompleted",n)},remove_$td:function(n){this.$32("LoadCompleted",n)},$SX:null,get_GetDefinitionProvider:function(){return this.$5o},set_GetDefinitionProvider:function(n){return this.$5o=n,n},get_PersonalizationActionProvider:function(){return this.$al},set_PersonalizationActionProvider:function(n){return this.$al=n,n},get_ActionProvider:function(){return this.$8l},set_ActionProvider:function(n){return this.$8l!==n&&this.$1lI(n),n},get_ActivateOnInitialize:function(){return this.$pd},set_ActivateOnInitialize:function(n){return this.$pd=n,n},get_ListComponentModel:function(){return this.$2n},set_ListComponentModel:function(n){if(this.$2n&&n)throw this.get_$5x().$2nM("ListComponentModel already set, cannot set ListComponentModel more than once.");this.$2n=n;var t=this.$$d_$1hP;return this.$id.remove_CollectionChanged(t),n&&(this.$id=this.$2n.get_$CZ(),this.$id.add_CollectionChanged(t)),n},get_$qQ:function(){return"SubGrid"+(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$88)?"Standard:":"Associated:")+this.$D},get_ContextFilter:function(){return this.$88},set_ContextFilter:function(n){return this.$88=n,n},get_Filter:function(){return this.$22},set_Filter:function(n){return this.$22=n,n},get_RelationshipExtraCondition:function(){return this.$Bf},set_RelationshipExtraCondition:function(n){return this.$Bf=n,n},get_TopMenuEnabled:function(){return this.$hz},set_TopMenuEnabled:function(n){return this.$hz=n,n},get_RecordCount:function(){var n=-1;return $0.$0(this.$2n)||this.$13L||(n=this.$2n.get_$CZ().get_Count()),n},get_IsServerAvailable:function(){return this.get_$5x().get_$Nj().get_$1F()},get_HideDraftsMessage:function(){return this.$1IO},set_HideDraftsMessage:function(n){return this.$1IO!==n&&(this.$1IO=n,this.$7("HideDraftsMessage")),n},get_OfflineText:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$4U()?this.get_$5x().$4("IC_Error_Message_0x8005f204"):this.get_$5x().$4("L_Offline_List_Text")},get_IsEntityAvailable:function(){return!0},get_AddRecordTooltipText:function(){return this.get_$5x().$4("MobileClient.Commands.Workspace.NewRecord")},get_DraftsMessage:function(){return this.get_$5x().$4("Draft_Records_Message_List")},get_$Uh:function(){return this.$D},get_$vH:function(){return new Microsoft.Crm.Client.Core.Framework.Guid(this.$1W)},set_$vH:function(n){return this.set_DefinitionId(n.toString()),n},get_CreateFormDefinitionId:function(){return this.$qa},set_CreateFormDefinitionId:function(n){return this.$qa=n,n},get_TargetReference:function(){return this.$JD},set_TargetReference:function(n){return this.$JD=n,n},get_$25U:function(){return"SubGrid"+(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$88)?"Standard":"Associated")+"Item:"+this.$D},get_CreateFormType:function(){return this.$Jk},set_CreateFormType:function(n){return this.$Jk=n,n},get_HasError:function(){return this.$13L},set_HasError:function(n){return this.$13L=n,this.$7("HasError"),n},set_$1Kd:function(n){return this.$tX=n,this.$7("ListErrorTitle"),this.$7("ListErrorMessage"),n},get_ListErrorTitle:function(){return this.get_$5x().$20X(this.$tX)},get_ListErrorMessage:function(){return this.get_$5x().$4J(this.$tX)},get_NoRecordsText:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$UL_4)?this.get_$5x().$4("L_List_No_Records_Text"):this.$UL_4},set_NoRecordsText:function(n){return this.$UL_4=n,n},get_RelationshipName:function(){return this.$52},set_RelationshipName:function(n){return this.$52=n,n},get_ReferencingName:function(){return this.$6c},set_ReferencingName:function(n){return this.$6c=n,n},get_IsReferencingAttributeRequired:function(){return this.$lU},set_IsReferencingAttributeRequired:function(n){return this.$lU=n,n},get_RelationshipType:function(){return this.$5T},set_RelationshipType:function(n){return this.$5T=n,n},get_RelationshipRoleOrdinal:function(){return this.$9A},set_RelationshipRoleOrdinal:function(n){return this.$9A=n,n},get_EnableViewPicker:function(){return this.$OA},set_EnableViewPicker:function(n){return this.$OA=$0.$0(n)?!1:n,n},get_EnableQuickFind:function(){return this.$1F5},set_EnableQuickFind:function(n){return this.$1F5=$0.$0(n)?!1:n,n},get_$Kc:function(){return this.$2},get_IsCustomEntity:function(){return this.$CW},set_IsCustomEntity:function(n){return this.$CW=n,n},get_EnableContextualActions:function(){return this.$eg},set_EnableContextualActions:function(n){return this.$eg=n,n},get_CanAddOffline:function(){return this.$jX},set_CanAddOffline:function(n){return this.$jX=n,n},get_ChildViewModels:function(){return this.$H},$1f:null,get_Items:function(){return this.$1f},set_Items:function(n){return this.$1f=n,n},$id:null,get_TopMenuChildViewModel:function(){return this.$18i},get_$1Xq:function(){return!1},get_ListPageName:function(){return this.$1Kr},set_ListPageName:function(n){return this.$1Kr=n,n},$gE:!1,get_IsScrollLocked:function(){return this.$gE},set_IsScrollLocked:function(n){return this.$gE!==n&&(this.$gE=n,this.$7("IsScrollLocked")),n},$6A:null,formatRecordCount:function(n){return Microsoft.Crm.Client.Core.Framework.$3.$IY(this.get_$5x().$4("ListComponentViewModel_RecordCountHeaderFormat"),n)},$1Uu:function(){this.$t||(this.$t=1,$0.$0(this.$al)?$0.$0(this.$5o)?this.$1fm():this.$1Kt():this.$1kG());$0.$0(this.get_$Kc())||(this.get_$Kc().RemovePropertyChangedListener("ModelContext",this.$$d_$1ME),this.get_$Kc().AddPropertyChangedListener("ModelContext",this.$$d_$1ME))},$1CH:function(n){var t=this.$$d_$27y;n.add_$1fV(t);this.set_ListComponentModel(n)},$Rr:function(){this.$1a&&($0.$0(this.$2n)?this.$1fm():(this.$1Yz(),this.$gB=!1,this.$288()))},$1p0:function(n){this.$2n.get_$CZ().$3w(n)},$1p1:function(n){this.$2n.get_$CZ().$Sn(n.get_$9o().$1mk());this.$2n!==n&&(n.$1Ej(),n.get_$9o().$86(),n.dispose())},$gl:function(){this.$2h||(this.get_$5x().$1Bs("LoadedInitialUI",0,this.get_ViewModelId()),this.$FH("RenderedInitialUI"),this.$1fm())},$15c:function(){this.set_HasError(!0)},$27y:function(){this.$3d(this.$2n)},$1ME:function(){if(!$0.$0(this.$2.get_ModelContext())&&(this.$2.$D==="email"||this.$2.$D==="appointment")&&!$0.$0(this.$2.get_ModelContext().$I.getValue("statecode"))){var n=this.$2.get_ModelContext().$I.getValue("statecode").$1s;if(n===1||n===2){this.set_ShouldHideAddButton(!0);return}}this.set_ShouldHideAddButton(!1)},$3d:function(n){if(!this.$2h){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch(String.format("ListComponentViewModel.LoadDataSuccess: {0} ({1})",this.$L,this.$D));t.start();this.$2n.get_$CZ().$86();this.$KK=n.get_$9o().get_Count();this.$1p1(n);this.$7("Name");this.$7("RecordCount");this.set_IsLoading(!1);t.stop();this.get_$5x().$1Bs("LoadedInitialData",0,this.get_ViewModelId());this.$FH("RenderedInitialData")}},$4L:function(n){this.set_IsLoading(!1);this.$MZ(n)},$2qW:function(n){this.$MZ(n)},$2Z:function(){var t,n,i,r;this.$1a||($0.$0(this.$FE)&&(t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenListItemCommand"),this.set_OpenItemCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,t))),$0.$0(this.refreshCommand)&&(Microsoft.Crm.Client.Core.ViewModels.$a.$HM(this.$D)?this.set_$mz(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$Rr,1011)):(n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OnlineCommand"),n.InitializationParameters.TraceComponent=1011,n.InitializationParameters.ExecuteCommand=this.$$d_$Rr,this.set_$mz(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,n)))),$0.$0(this.addCommand)&&(this.set_AddCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CreateCommand"))),this.$lN&&(i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenEmailAttachmentPopupCommand"),this.set_AddCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,i)))),$0.$0(this.deleteCommand)&&(r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("DeleteListItemCommand"),this.set_$r2(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,r))),this.$1dP(),this.$1a=!0,($0.$0(this.$pd)||this.$pd)&&this.$1Uu())},$1dP:function(){this.$6A=new Microsoft.Crm.Client.Core.ViewModels.$Hr;this.$6A.set_ListComponentViewModel(this);this.$6A.set_$1CC(this.get_$5x().get_$Nj())},UIHasRendered:function(){if(!$0.$0(this.$FG)){for(var n=0,t=this.$FG.length;n<t;n++)this.get_$5x().$1Bs(this.$FG[n],0,this.get_ViewModelId());this.$FG=null}},$CK:function(n,t){var r,u,f,e,i;if(this.$H[n]=t,n==="TopMenu"&&Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(t)){this.$18i=t;r=this.$18i.$H;for(u in r)f={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(f.value)&&(e=f.value,i=e.$M,"externalParameters"in i?i.externalParameters.RefreshContext=this:i.externalParameters={RefreshContext:this},e.set_Parameters(i))}},$nR:function(n){var t=n;for(var i in t){var r={key:i,value:t[i]},u=r.key,f=r.value;this.$CK(u,f)}this.$7("ChildViewModels")},$Oh:function(){this.$1ZC();this.get_$5x().get_$Nj().rpcl(this.get_$5x().get_$24m(),this.$$d_$1M7);this.get_$5x().get_$Nj().rpcl(this.get_$5x().get_$26m(),this.$$d_$2sE);$0.$0(this.$2n)||(this.$2n.dispose(),this.set_ListComponentModel(null));$0.$0(this.$SX)||(this.$SX.dispose(),this.$SX=null);this.set_$r2(null);this.set_AddCommand(null);this.set_$mz(null);this.set_OpenItemCommand(null);this.set_CurrentItemChangedCommand(null);this.$6A=null;$0.$0(this.get_$Kc())||this.get_$Kc().RemovePropertyChangedListener("ModelContext",this.$$d_$1ME);var n=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43);n.removeDescriptor(this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)},$2qZ:function(n){var t=n.$6b;this.set_$vH(Microsoft.Crm.Client.Core.Framework.Guid.createFromObjectData(t))},$25j:function(){this.$1W=this.$D;this.$1Kt()},$1lI:function(n){if(!n)throw Error.argumentNull("provider");n===this.$8l?this.$Rr():(this.$8l=n,this.$t===2&&this.$SX.remove_$AT(this.$$d_$2qR),this.$t&&this.$1fm())},$Ea:function(){this.$t===2&&(this.$SX.remove_$AT(this.$$d_$2qR),this.$t=1);this.$id.$86();this.$1f.$86()},$1hP:function(n,t){var s,r,e,u,f,h,l,i,a,v,o,c;if(!t.$KW||t.$KW.length||!t.$UT||t.$UT.length||t.$1g===4){s=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch(String.format("ListComponentViewModel.OnModelsChanged: {0} ({1})",this.$L,this.$D));s.start();switch(t.$1g){case 0:if(this.$Om===-1||this.$1f.get_Count()<this.$Om||t.$LZ<this.$Om){for(r=t.$KW.length,this.$Om!==-1&&(r=this.$1f.get_Count()<this.$Om?Math.min(this.$Om-this.$1f.get_Count(),t.$KW.length):Math.min(this.$Om,t.$KW.length)),e=new Array(r),u=0;u<r;u++)e[u]=this.$qc(t.$KW[u]);!t.$LZ&&r>1?this.$1f.$Sn(e):this.$1f.$23e(t.$LZ,e)}break;case 2:for(f=t.$LZ+t.$UT.length-1;f>=t.$LZ;f--)h=this.$1f.get_$R(f),$0.$0(h)||(this.$11N(h),this.$1f.$vm(f));break;case 3:for(l=this.$1f.get_Count(),i=0;i<t.$KW.length;i++)t.$LZ+i<l&&(a=this.$qc(t.$KW[i]),v=this.$1f.get_$R(t.$LZ+i),this.$11N(v),this.$1f.set_$R(t.$LZ+i,a));break;case 4:this.$1ZC();this.$1f.$86();break;case 1:this.$1f.$26X(t.$LZ,t.$1mn,this.$1f.get_$R(t.$LZ))}if(this.$7("RecordCount"),t.$UT)for(o=t.$UT.length-1;o>=0;o--)c=t.$UT[o],c&&c.dispose();s.stop()}},$11N:function(n){n&&(this.$2i&&this.$2i.$16q(n),n.dispose())},$1ZC:function(){for(var t,n=0;n<this.$1f.get_Count();n++)t=this.$1f.get_$R(n),this.$11N(t)},$1Yz:function(){this.$1ZC();this.$1f.$86();$0.$0(this.$2n)||(this.$2n.dispose(),this.set_ListComponentModel(null))},$1r9:function(){this.$t===1&&(this.$gB=!1,this.$2O=null,this.$1Kt(),this.$1Yz())},$1Kt:function(){if(this.$8X("DefinitionUpdated"),!$0.$0(this.$5o)){var n=this.$5o.$56();this.get_$5x().get_$Nj().get_$2L().$2C(n)}},$288:function(){this.$1fm()},$1hJ:function(){this.$A4=null;this.set_SelectedItem(null);this.$7("RecordCount")},$1fm:function(n){this.$8l&&(this.$2MO()||this.$gB||(($0.$0(n)||n)&&this.set_IsLoading(!0),this.set_HasError(!1),this.$SX=this.$8l.$12y(null),this.$SX&&(this.$gB=!0,this.$SX.add_$AT(this.$$d_$2qR),this.$t=2,this.get_$5x().get_$Nj().get_$2L().$2C(this.$SX))))},$2MO:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$88)&&$0.$0(this.get_$1B())&&!this.$lN},$2qR:function(n){n.remove_$AT(this.$$d_$2qR);this.$t=1;this.$8X("LoadCompleted");this.$gB=!1},$qc:function(n){var t,i,r;if($0.$0(this.$HT))throw this.get_$5x().$X("The view model item template must be set before creating item view models.");return t=this.get_$5x().$6f(this.$HT,n,this.$2i,this.$2),t.$2i=this,t.$6A=this.$6A,i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$nO),i.InitializationParameters.TraceComponent=1011,i.InitializationParameters.SelectionState=this.$6A,i.InitializationParameters.ListItemViewModel=t,r=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t,i),t.set_SelectListItemCommand(r),t},$17M:function(){if(!$0.$0(this.get_$Uh())){var n=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("SavePersonalization"));n.execute();n.dispose()}},$1kG:function(){if(!$0.$0(this.get_$Uh())){var n=this.$al.$56(),t=this;n.add_$AT(function(){t.$8X("RetrievePersonalizationCompleted")});this.get_$5x().get_$Nj().get_$2L().$2C(n)}},$MZ:function(n){this.set_$1Kd(n.$m);this.set_HasError(!0);this.get_$5x().$38T(n)},$FH:function(n){$0.$0(this.$FG)?this.$FG=[n]:Array.contains(this.$FG,n)||Array.add(this.$FG,n)},$8X:function(n){var t=this.$4d(n);t&&t()},$yA:!1,get_Dragging:function(){return this.$yA},set_Dragging:function(n){return this.$yA=n,n},$1AV:!1,get_IsSortable:function(){return this.$1AV},set_IsSortable:function(n){return this.$1AV=n,n},$1UR:null,get_SortedItems:function(){return this.$1UR},set_SortedItems:function(n){return this.$1UR=n,n},sortStart:function(){},sortStop:function(){}};Microsoft.Crm.Client.Core.ViewModels.$Hq=function(){};Microsoft.Crm.Client.Core.ViewModels.$Hq.prototype={$1Al:null,get_$1hK:function(){return this.$1Al},set_$1hK:function(n){return this.$1Al=n,n},get_$Nj:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},get_$24m:function(){return"IsServerAvailable"},get_$26m:function(){return"NavigationValidityTime"},$2nM:function(n){return Error.invalidOperation(n)},$X:function(n){return Error.create(n)},$6f:function(n,t,i,r){return Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,t,i,r)},$1Dk:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ;return i.$Em(n,t)},$4:function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n)},$20X:function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(n)},$4J:function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(n)},$1Bs:function(n,t,i){return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(n,t,i)},$38T:function(n){Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(n)},$33h:function(){Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(this.$1Al)}};Microsoft.Crm.Client.Core.ViewModels.$Hr=function(){this.get_ListComponentViewModel=this.get_$Ze;this.set_ListComponentViewModel=this.set_$Ze};Microsoft.Crm.Client.Core.ViewModels.$Hr.prototype={$1I0:function(n){if(this.$V3){var t=!$0.$0(n),i=!$0.$0(this.$GY);t&&i&&(Microsoft.Crm.Client.Core.Framework.$6.get_$f()||this.$GY.$ja(),n.set_$KH(!0))}},$22d:function(n){var u=!$0.$0(this.$Gc),t,i,r;u&&(t=!$0.$0(this.$Gc.get_$28w()),t)&&(i=!$0.$0(n),i)&&(r=this.$Gc.get_$28w(),this.$Gc.set_$2sD(n),r.execute())},$Gc:null,get_$Ze:function(){return this.$Gc},set_$Ze:function(n){return this.$Gc=n,n},$GY:null,set_$1CC:function(n){return this.$GY=n,n},$V3:!0,set_$wI:function(n){return this.$V3=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Hp=function(){this.get_ListComponentViewModel=this.get_$Ze;this.set_ListComponentViewModel=this.set_$Ze};Microsoft.Crm.Client.Core.ViewModels.$Hp.prototype={$1I0:function(n){if(this.$V3){var t=!$0.$0(n),i=!$0.$0(this.$GY);t&&i&&(Microsoft.Crm.Client.Core.Framework.$6.get_$f()||this.$GY.$ja(),n.set_$KH(!0))}},$22d:function(n){this.$1I0(n)},$Gc:null,get_$Ze:function(){return this.$Gc},set_$Ze:function(n){return this.$Gc=n,n},$GY:null,set_$1CC:function(n){return this.$GY=n,n},$V3:!0,set_$wI:function(n){return this.$V3=n,n}};Microsoft.Crm.Client.Core.ViewModels.$3R=function(){this.$$d_$2tu=Function.createDelegate(this,this.$2tu);this.$$d_$2UA=Function.createDelegate(this,this.$2UA);this.$10w=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(String));this.$1QD=!Microsoft.Crm.Client.Core.Framework.$6.get_$3A();this.get_$34T=this.get_SelectItemEventType;Microsoft.Crm.Client.Core.ViewModels.$3R.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$3R.initializeBase(this);this.$14G=!0};Microsoft.Crm.Client.Core.ViewModels.$3R.prototype={deleteCommand:null,$10l:0,$4Z:null,$nN:null,$nV:null,$17W:!1,$1Q4:!1,$1Jh:!0,get_$qQ:function(){if(Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel.isInstanceOfType(this.$2i)||Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$2i)&&(this.$2i.$2.$g===2||this.$2i.$2.$g===1))return"SubGridStandardItem:"+this.$D;if(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2i)){var n=this.$2i;return n.get_$25U()}return""},get_RecordId:function(){return this.$4Z},set_RecordId:function(n){return this.$4Z!==n&&(this.$4Z=n,this.$7("RecordId")),n},get_RecordModelName:function(){var n,t,i;return Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2i)?(n=this.$2i,$0.$0(n.$JD))?null:(t=this.get_ModelContext().GetValue(n.$JD),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(t))?(i=t,i.get_$BZ()):null:null},get_NextTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()&&!$0.$0(this.$2i)?this.$2i.get_NextTabIndex():-3e4},set_NextTabIndex:function(n){return n},$zF:null,get_ShortPressCommandName:function(){return this.$zF},set_ShortPressCommandName:function(n){return this.$zF=n,n},get_ShortPressCommand:function(){return this.$1Q4?null:this.$nV},set_ShortPressCommand:function(n){return this.$nV!==n&&($0.$0(this.$nV)||(this.$nV.dispose(),this.$nV=null),this.$nV=n),n},set_$r2:function(n){return this.deleteCommand!==n&&($0.$0(this.deleteCommand)||(this.deleteCommand.dispose(),this.deleteCommand=null),this.deleteCommand=n),n},get_CssClassNames:function(){return this.$10w},$6A:null,get_SelectListItemCommand:function(){return this.$17W?null:this.$nN},set_SelectListItemCommand:function(n){return this.$nN!==n&&($0.$0(this.$nN)||(this.$nN.dispose(),this.$nN=null),this.$nN=n),n},resolveChildViewType:function(n){return Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.isInstanceOfType(n)?"FieldButton":"DefaultValueLabel"},$j1:0,get_SelectItemEventType:function(){return this.$j1},set_SelectItemEventType:function(n){return this.$j1=n,n},get_ShowCheckmark:function(){return this.$1QD},set_ShowCheckmark:function(n){return this.$1QD=n,n},get_IsIshFormAvailable:function(){return this.$1Jh},set_IsIshFormAvailable:function(n){return this.$1Jh=n,n},GetObjectTypeCode:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return t?t.$9p:0},IsCustomEntity:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return!$0.$0(t)&&t.$CW},$2Z:function(){if(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),$0.$0(this.deleteCommand)&&this.set_$r2(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2UA,1003)),this.$17W=!1,this.$1Q4=!1,Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);!n||n.$BW&&this.$1Jh||(this.$1Q4=!0,this.$17W=!0)}this.$23T();this.AddPropertyChangedListener("IsSelected",this.$$d_$2tu);Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)&&(this.$17W=!0)},$2UA:function(){if(!$0.$0(this.$2i)&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2i)){var n=this.$2i;n.deleteCommand.execute();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$ja()}},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Hd.call(this);this.$23T();Microsoft.Crm.Client.Core.Models.IModel.isInstanceOfType(this.get_ModelContext())&&(Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(this.get_ModelContext())?this.set_RecordId(this.get_ModelContext().get_$8a()):this.set_RecordId(this.get_ModelContext().get_Id()))},$2tu:function(){var n=this.$2i;this.get_IsSelected()?(n.set_SelectedItem(this),n.set_IsSelected(!1)):n.$A4===this&&n.set_SelectedItem(null)},$23T:function(){if(!$0.$0(this.$zF)){var n=this.$2Mz();this.set_ShortPressCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,n))}},$2Mz:function(){var n={};return n.ModelContext=this.get_ModelContext(),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$zF,null,n)},$Oh:function(){this.RemovePropertyChangedListener("IsSelected",this.$$d_$2tu);this.set_$r2(null);this.set_ShortPressCommand(null);this.set_SelectListItemCommand(null);this.$6A=null;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel=function(){this.$$d_$EP=Function.createDelegate(this,this.$EP);this.$$d_$15g_7=Function.createDelegate(this,this.$15g_7);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.initializeBase(this);this.AddPropertyChangedListener("IsSelected",this.$$d_$15g_7)};Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype={get_$1i6:function(){return"SimpleListPane"},get_$1i4:function(){if(!$0.$0(this.$qa)){var n=this.$L;return n.substr(0,n.length-4)}return this.$D},$2Z:function(){this.$Om=10;Microsoft.Crm.Client.Core.ViewModels.List.$SG.prototype.$2Z.call(this);$0.$0(this.$2)||(this.$2.$Sg?this.$EP(null,null):this.$2.add_$P1(this.$$d_$EP));Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)&&this.set_GridEnabled(!1)},$Oh:function(){this.set_OpenGridCommand(null);this.RemovePropertyChangedListener("IsSelected",this.$$d_$15g_7);$0.$0(this.$2)||this.$2.remove_$P1(this.$$d_$EP);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this)},$1dP:function(){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1dP.call(this);this.$6A.set_$wI(!this.$r9)},$15g_7:function(){var n=this.$2.$5Q(this);Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(n)&&(n=this.$2.$5Q(n));Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(n)&&Microsoft.Crm.Client.Core.Framework.$1B.$s(n.get_childViewModels())===1&&n.set_$KH(this.get_IsSelected())},$EP:function(){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&this.$78&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.set_GlobalContextId(this.get_$qQ())},$MZ:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&n.$m===-2147094003?this.$2.$MZ(n):Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$MZ.call(this,n)},$1ME:function(n,t){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1ME.call(this,n,t);this.set_ModelContext(this.get_$Kc().get_ModelContext());this.$1Uu()}};Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel.prototype={$14m:null,$1fY:null,$mt:null,get_ListItemViewModelDescriptors:function(){return this.$14m},set_ListItemViewModelDescriptors:function(n){return this.$14m=n,n},get_OfflineText:function(){return""},get_ListItemControlViewDescriptors:function(){return this.$1fY},set_ListItemControlViewDescriptors:function(n){return this.$1fY=n,n},get_QuickFindViewColumns:function(){return this.$mt},set_QuickFindViewColumns:function(n){return this.$mt=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$2Z.call(this);this.set_HeaderTitleField("MultiItemList")},get_$25U:function(){return"SubGridStandardItem:"+this.$D},$qc:function(n){var u=n,f=u.$I.$a.LogicalName,t,i,r;if($0.$0(this.$14m))throw this.get_$5x().$X("The view model item template must be set before creating item view models.");return t=this.get_$5x().$6f(this.$14m[f],n,this.$2i,this.$2),t.$2i=this,t.$6A=this.$6A,i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$nO),i.InitializationParameters.TraceComponent=1011,i.InitializationParameters.SelectionState=this.$6A,i.InitializationParameters.ListItemViewModel=t,r=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t,i),t.set_SelectListItemCommand(r),t},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$2uL=Function.createDelegate(this,this.$2uL);this.$$d_$1fq=Function.createDelegate(this,this.$1fq);this.$$d_$1fo=Function.createDelegate(this,this.$1fo);this.$$d_$31k=Function.createDelegate(this,this.$31k);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.initializeBase(this);this.$1Z=new Microsoft.Crm.Client.Core.Framework.$Qa;this.$1Z.$Ea()};Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype={$1Z:null,$lq:null,$lr:null,$KA_5:!1,$1Jm:!1,$1Jn:!1,$1e8:!1,$FF:null,$78:!1,$1Q9:!0,addExistingCommand:null,$jE:!1,$1cu:!1,getTotalRecordsCount:function(){return 0},$1i3:function(){},getCurrentPageIndex:function(){return this.$1Z.$9S+1},$iI_5:null,get_ColumnNames:function(){return this.$iI_5},set_ColumnNames:function(n){return this.$iI_5=n,n},get_AddExistingCommandDisabled:function(){return this.$jE},set_AddExistingCommandDisabled:function(n){return this.$jE=n,n},$Dw:null,get_Activities:function(){return this.$Dw},set_Activities:function(n){return this.$Dw=n,n},add_NextPageLoadCompleted:function(n){this.$1p("NextPageLoadCompleted",n)},remove_NextPageLoadCompleted:function(n){this.$32("NextPageLoadCompleted",n)},add_PreviousPageLoadCompleted:function(n){this.$1p("PreviousPageLoadCompleted",n)},remove_PreviousPageLoadCompleted:function(n){this.$32("PreviousPageLoadCompleted",n)},get_PageSize:function(){return this.$1Z.$4W},set_PageSize:function(n){return $0.$0(this.$1Z)||(this.$1Z.$4W=n),n},get_PagingInfo:function(){return this.$1Z},get_$Kc:function(){return this.$78&&(!Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this)||this.$2.$g===13)?this.$FF:Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.get_$Kc.call(this)},get_IsGridFormContext:function(){return this.$78},set_IsGridFormContext:function(n){return this.$78=n,n},get_$25U:function(){return this.$78?(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$88)?"HomePageGrid":"SubGridAssociated")+"Item:"+this.$D:Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.get_$25U.call(this)},get_$qQ:function(){return $0.$0(this.$Zf)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Zf)?this.$78&&(!Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this)||this.$2.$g===13)?(this.$1a||this.$23Q(),(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$88)?"HomePageGrid:":"SubGridAssociated:")+this.$D):Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.get_$qQ.call(this):this.$Zf},get_Title:function(){return $0.$0(this.$1G)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1G)?this.$L:Microsoft.Crm.Client.Core.Framework.$6.get_$f()||!this.$OA?this.$1G:this.$L},get_LoadNextPageCommand:function(){return this.$lq},set_LoadNextPageCommand:function(n){return $0.$0(this.$lq)||(this.$lq.dispose(),this.$lq=null),this.$lq=n,n},get_LoadPreviousPageCommand:function(){return this.$lr},set_LoadPreviousPageCommand:function(n){return $0.$0(this.$lr)||(this.$lr.dispose(),this.$lr=null),this.$lr=n,n},get_$1nq:function(){return this.$d(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.$1SD)},set_$1nq:function(n){var t=this.$d(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.$1SD);return $0.$0(t)||t.dispose(),this.$l(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.$1SD,n),n},get_AddExistingCommand:function(){return this.$jE?null:this.addExistingCommand},set_AddExistingCommand:function(n){return $0.$0(this.addExistingCommand)||(this.addExistingCommand.dispose(),this.addExistingCommand=null),this.addExistingCommand=n,n},get_IsLoadingNextPage:function(){return this.$1Jm},set_IsLoadingNextPage:function(n){return n!==this.$1Jm&&(this.$1Jm=n,this.$7("IsLoadingNextPage")),n},get_IsLoadingPreviousPage:function(){return this.$1Jn},set_IsLoadingPreviousPage:function(n){return n!==this.$1Jn&&(this.$1Jn=n,this.$7("IsLoadingPreviousPage")),n},get_$1r1:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Microsoft.Crm.Client.Core.ViewModels.$a.$HM(this.$D)},$1fo:function(){var i,n;if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeNextPageStart",1,this.get_ViewModelId()),this.$Om!==-1){var r=this.$1f.get_Count(),u=this.$2n.get_$CZ().get_Count(),t=u-r;if(t>0){for(i=new Array(t),n=0;n<t;n++)i[n]=this.$qc(this.$2n.get_$CZ().get_$R(r+n));this.$1f.$Sn(i)}this.$Om=-1;this.$1Z.set_MoreNextPage(this.$15F_5(this.$2n))}else this.get_$1r1()&&(this.set_IsLoadingNextPage(!0),this.$1Z.$9S=this.$1Z.$G8+1,this.$1fm(!1))},$1fq:function(){this.get_$1r1()&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforePreviousPageStart",1,this.get_ViewModelId()),this.set_IsLoadingPreviousPage(!0),this.$1Z.$9S=this.$1Z.$OO-1,this.$1fm(!1))},get_$2oy:function(){var n,i,t;return!$0.$0(this.$6c)&&!$0.$0(this.$D)&&(n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$D,this.$6c),!$0.$0(n)&&(i=n.$20(),t=i.requiredlevel,t===1||t===2))?!0:!1},$2wV:function(){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&!$0.$0(this.get_$Kc())&&!$0.$0(this.$52)){switch(this.get_$Kc().$D){case"knowledgearticle":case"email":case"appointment":return}this.$jE||(this.get_$2oy()&&this.set_AddExistingCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CreateCommand"))),this.get_$Kc().$D==="account"&&this.$D==="contact"&&this.set_AddExistingCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CreateCommand"))))}},$2Z:function(){this.$1a||($0.$0(this.$lq)&&this.set_LoadNextPageCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1fo,1011)),$0.$0(this.$lr)&&this.set_LoadPreviousPageCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1fq,1011)),this.$23Q(),this.$1Q9&&!$0.$0(this.$2)&&!$0.$0(this.$2.$K)&&!$0.$0(this.$2.$K.$M)&&"InitialListDefinitionId"in this.$2.$K.$M&&this.$2.add_PreNavigation(this.$$d_$31k),Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.$jE||!$0.$0(this.get_AddExistingCommand())||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$52)||(this.set_AddExistingCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenAssociateForm"))),this.$2wV()):$0.$0(this.get_AddExistingCommand())&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$52)&&this.set_AddExistingCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenAssociateForm"))));Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$2Z.call(this)},$23Q:function(){$0.$0(this.$2)||$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||("ParentEntityViewModel"in this.$2.$K.$M&&(this.$FF=this.$2.$K.$M.ParentEntityViewModel),"ContextFilter"in this.$2.$K.$M&&(this.$88=this.$2.$K.$M.ContextFilter),"ListMetadataType"in this.$2.$K.$M&&(this.$9a=this.$2.$K.$M.ListMetadataType),"ListDefinitionId"in this.$2.$K.$M&&this.set_DefinitionId(this.$2.$K.$M.ListDefinitionId),"RelationshipExtraCondition"in this.$2.$K.$M&&(this.$Bf=this.$2.$K.$M.RelationshipExtraCondition),"RelationshipName"in this.$2.$K.$M&&(this.$52=this.$2.$K.$M.RelationshipName),"RelationshipType"in this.$2.$K.$M&&(this.$5T=this.$2.$K.$M.RelationshipType),"ReferencingName"in this.$2.$K.$M&&(this.$6c=this.$2.$K.$M.ReferencingName),"IsReferencingAttributeRequired"in this.$2.$K.$M&&(this.$lU=this.$2.$K.$M.IsReferencingAttributeRequired),"RelationshipRoleOrdinal"in this.$2.$K.$M&&(this.$9A=this.$2.$K.$M.RelationshipRoleOrdinal),"EnableContextualActions"in this.$2.$K.$M&&(this.$eg=this.$2.$K.$M.EnableContextualActions),"Activities"in this.$2.$K.$M&&(this.$Dw=this.$2.$K.$M.Activities))},$Oh:function(){this.set_LoadNextPageCommand(null);this.set_LoadPreviousPageCommand(null);this.set_AddExistingCommand(null);this.set_$1nq(null);$0.$0(this.$2)||this.$2.remove_PreNavigation(this.$$d_$31k);$0.$0(this.$1Z)||(this.$1Z.dispose(),this.$1Z=null);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$Oh.call(this);this.$FF=null},$1CH:function(n){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1CH.call(this,n);var t=this.$$d_$2uL;n.add_$2rt(t)},$27y:function(n,t){n.get_$Jo()<0&&this.$1Z.$Ea();Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$27y.call(this,n,t)},$2uL:function(n){this.$1Z.set_MoreNextPage(this.$15F_5(n))},$3d:function(n){var i,t;if(this.$lN&&!this.$1cu&&!$0.$0(n)&&!$0.$0(n.get_$CZ())&&!n.get_$CZ().get_Count()){this.$1cu=!0;this.$Rr();return}$0.$0(this.$2n)||(i=!this.$KA_5,this.$KA_5=!0,t=n,this.$2ye(t)?this.$7("RecordCount"):t!==this.$2n&&Microsoft.Crm.Client.Core.Models.$1j.isInstanceOfType(t)&&t.$5E(),this.$2n!==n&&Microsoft.Crm.Client.Core.Models.$1j.isInstanceOfType(n)&&n.$1Ej(),this.set_IsLoading(!1),this.set_IsLoadingNextPage(!1),this.set_IsLoadingPreviousPage(!1),this.set_HideDraftsMessage(!0),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(i?"LoadedInitialData":"RenderedRefreshedData",0,this.get_ViewModelId()),i&&this.$FH("RenderedInitialData"),this.get_$5x().$33h())},$4L:function(n){this.set_IsLoadingNextPage(!1);this.set_IsLoadingPreviousPage(!1);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$4L.call(this,n)},$288:function(){this.$1Z.$Ea();Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$288.call(this)},$1hJ:function(n){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1hJ.call(this,n);!$0.$0(this.get_$1nq())&&this.$1Z.$15E&&this.get_$1nq().execute()},$1Kt:function(){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1Kt.call(this);$0.$0(this.$5o)||$0.$0(this.$1Z)||this.$1Z.$Ea()},$gl:function(n){!$0.$0(this.$2)&&!$0.$0(this.$2.$H)&&"HeaderGroup"in this.$2.$H&&Microsoft.Crm.Client.Core.ViewModels.$A2.isInstanceOfType(this.$2.$H.HeaderGroup)&&this.$2.$H.HeaderGroup.$3BT();Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$gl.call(this,n)},$2ye:function(n){var i,u,s,h,r;if($0.$0(this.$1Z))return!1;var t,f=0,e=this.$1Z.$2XT(),c=e&&n.get_$Jo()===this.$1Z.$G8+1,o=n.get_$Jo()===this.$1Z.$OO-1;if(!c&&!o&&e)return!1;if(i=this.$2n.get_$CZ(),e){if(this.$1Z.$G8-this.$1Z.$OO>=this.$1Z.$293-1)for(o&&(f=this.$1f.get_Count()-this.$1Z.$4W,this.$1Z.set_MoreNextPage(!0),this.$1Z.$G8--),this.$1Z.set_MorePreviousPage(!0),this.$1Z.$OO++,t=f+this.$1Z.$4W-1;t>=f;t--)h=t>=0?i.get_$R(t):-t<i.get_Count()?i.get_$R(i.get_Count()+t):i.get_$R(0),$0.$0(h)||h.$5E(),i.$vm(t)}else{for(u=0;u<i.get_Count();u++)s=i.get_$R(u),$0.$0(s)||s.$5E();i.$86()}if(r=n.get_$9o().$1mk(),this.$KK=r.length,c)i.$Sn(r),this.$1Z.$G8=n.get_$Jo(),this.$1Z.set_MoreNextPage(this.$15F_5(n)),this.$7("Name"),this.$8X("NextPageLoadCompleted"),Sys.IDisposable.isInstanceOfType(n)&&this.$2n!==n&&(n.get_$9o().$86(),n.dispose());else if(o){for(t=0;t<n.get_$9o().get_Count();t++)i.$1Ir(t,r[t]);this.$1Z.$OO=n.get_$Jo();this.$1Z.set_MorePreviousPage(this.$1Z.$OO>0);this.$8X("PreviousPageLoadCompleted");Sys.IDisposable.isInstanceOfType(n)&&this.$2n!==n&&(n.get_$9o().$86(),n.dispose())}else i.$Sn(r),this.$1Z.$OO=n.get_$Jo(),this.$1Z.$G8=n.get_$Jo(),this.$1Z.set_MoreNextPage(this.$15F_5(n)),this.$8X("FirstPageLoadCompleted");return this.$2n.set_$2lE(!0),!0},$1hP:function(n,t){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1hP.call(this,n,t);$0.$0(this.$1Z)||this.$1Z.set_MoreNextPage(this.$15F_5(this.$2n))},$MZ:function(n){this.set_$1Kd(n.$m);this.set_HasError(!0);Microsoft.Crm.Client.Core.Framework.Trace.logError(63,n.$F);$0.$0(this.$2n)||this.$2n.$1X7()},$31k:function(){$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||(this.$2.$K.$M.ListDefinitionId=this.$2.$K.$M.InitialListDefinitionId,delete this.$2.$K.$M.InitialListDefinitionId);this.$2.remove_PreNavigation(this.$$d_$31k)},$15F_5:function(n){return!n.get_$t4()||this.$Om!==-1&&(this.$1f.get_Count()<n.get_$CZ().get_Count()||this.$1f.get_Count()<n.get_$9o().get_Count())}};Microsoft.Crm.Client.Core.ViewModels.$Hn=function(){this.get_ListComponentViewModel=this.get_$Ze;this.set_ListComponentViewModel=this.set_$Ze};Microsoft.Crm.Client.Core.ViewModels.$Hn.prototype={$ta:null,get_$1fZ:function(){return $0.$0(this.$ta)&&(this.$ta=new Microsoft.Crm.Client.Core.ViewModels.$Hr,this.$ta.set_$1CC(this.$GY),this.$ta.set_ListComponentViewModel(this.$Gc)),this.$ta},$1I0:function(n){if(this.$V3){var t=!$0.$0(n),i=!$0.$0(this.$GY);t&&i&&(n.get_$KH()?this.$GY.$ja():this.get_$1fZ().$1I0(n))}},$22d:function(n){var i=!$0.$0(this.$Gc),r=!$0.$0(n),u=!$0.$0(this.$GY),t;r&&u&&i&&(t=!$0.$0(this.$Gc.get_$34P()),t&&n.get_$KH()?this.$GY.$ja():t&&!n.get_$KH()?(this.$GY.$ja(),n.set_$KH(!0)):t||this.get_$1fZ().$22d(n))},$Gc:null,get_$Ze:function(){return this.$Gc},set_$Ze:function(n){return this.$Gc=n,n},$GY:null,set_$1CC:function(n){return this.$GY=n,n},$V3:!0,set_$wI:function(n){return this.$V3=n,this.get_$1fZ().set_$wI(this.$V3),n}};Microsoft.Crm.Client.Core.ViewModels.$Mj=function(n,t){var i,r,u;Microsoft.Crm.Client.Core.ViewModels.$Mj.initializeBase(this);this.$L=n;this.$EU={};i=t;for(r in i)u={key:r,value:i[r]},this.$EU[u.key]=u.value};Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel=function(){this.$$d_$15g=Function.createDelegate(this,this.$15g);Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.initializeBase(this);this.AddPropertyChangedListener("SelectedItem",this.$$d_$15g)};Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.prototype={$15g:function(){this.$2.set_Data(this.$A4)},set_$rO:function(n){var t=this.$d(Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.$1ZR);return this.$l(Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.$1ZR,n),this.refreshListOnEntityTypeChange(t,n),n},refreshListOnEntityTypeChange:function(n,t){if(n!==t){$0.$0(this.get_DefinitionId())||this.$Rr();var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(t);this.set_Label(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Entity_Email_Templates"),i.$1q));this.$7("Title")}},$1dP:function(){this.$6A=new Microsoft.Crm.Client.Core.ViewModels.$Hp;this.$6A.set_ListComponentViewModel(this);this.$6A.set_$1CC(this.get_$5x().get_$Nj());this.$6A.set_$wI(!this.$r9)}};Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification.initializeBase(this);this.messages=[t];this.uniqueId=i;this.notificationLevel=n;this.priority=r;this.actions=new Array(0)};Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification.prototype={dismiss:function(){},addActionCollection:function(n){Array.add(this.actions,n)}};Microsoft.Crm.Client.Core.ViewModels.$Ho=function(){this.getNotifications=this.$3EA;this.clearNotifications=this.$3EB;this.clearNotification=this.$Lc;this.addNotification=this.$2KV;this.$Ac=new Array(0)};Microsoft.Crm.Client.Core.ViewModels.$Ho.prototype={$Ac:null,$3EA:function(n){for(var i,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.BusinessRuleNotificationBase)),u=this.$Ac,f=u.length,t=0;t<f;++t)i=u[t],($0.$0(n)||n(i))&&r.add(i);return r.get_Items()},$3EB:function(){return Array.clear(this.$Ac),!0},$Lc:function(n){if($0.$0(n))return!1;for(var t=0;t<this.$Ac.length;++t)if(this.$Ac[t].uniqueId===n)return Array.removeAt(this.$Ac,t),!0;return!1},$2KV:function(n){return!n||$0.$0(n.messages)||$0.$0(n.messages[0])||Microsoft.Crm.Client.Core.Framework.$3.$12(n.messages[0])?!1:(Array.add(this.$Ac,n),!0)}};Microsoft.Crm.Client.Core.ViewModels.FieldAccessController=function(n,t,i){this.$Qh={};this.$5p=n;this.$18=t;this.$15p=i};Microsoft.Crm.Client.Core.ViewModels.FieldAccessController.prototype={$5p:null,$18:null,$15p:0,$3BG:function(n){this.$18=n},$38D:function(){if(!$0.$0(this.$5p.get_$1B())){var n=this.$5p.get_$1B().$I.getValue("statuscode").$1s;if(n===3||n===4||n===6||n===7)return!0}return!1},isFieldEditable:function(n){if(!this.$18)throw Error.invalidOperation("ModelContext needs to be initialized first");if(Microsoft.Crm.Client.Core.Framework.$6.$4N||!(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Microsoft.Crm.Client.Core.ViewModels.$a.$B5()||this.$1r5(n)))return!1;var t=this.$Qh[n],i=$0.$0(t)?!0:t.$Oi,r=i&&!this.$5p.get_IsLocked();return Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n==="regardingobjectid"&&this.$18.get_ModelName()==="email"&&!r?i&&this.$38D():r},isFieldSecured:function(n){var t=this.$Qh[n];return $0.$0(t)?!1:t.$DB},isFieldReadable:function(n){var t=this.$Qh[n];return $0.$0(t)?!0:t.$1K5},isFieldAccessAvailable:function(n){return!$0.$0(this.$Qh[n])},$1r5:function(n){var r,t,i;if(!Microsoft.Crm.Client.Core.ViewModels.$6Z.isInstanceOfType(this.$5p)||(r=this.$5p,t=r.get_AttributeMetadata(),$0.$0(t)))return!1;for(i=0;i<t.length;i++)if(t[i].get_$2I()===n)return Array.indexOf(Microsoft.Crm.Client.Core.ViewModels.FieldAccessController.$1Z7,t[i].get_$4M())<0;return!1},initializeFieldAccessRules:function(n){var t=this.$Qh[n],i;return!$0.$0(t)&&!t.$DB?(i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$1g,Object),i.resolve(t),i.promise()):this.$1NG(n)},$1NG:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$1g,Object),i=this;return this.$2mF(n).done(function(r){i.$Qh[n]=r;$0.$0(r)&&(r=Microsoft.Crm.Client.Core.Framework.$1g.get_$15i());t.resolve(r)}),t.promise()},$2mF:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$1g,Object),i=this.$18,u=n,r,f;return(($0.$0(this.$15p)||this.$15p===-1)&&t.resolve(Microsoft.Crm.Client.Core.Framework.$1g.get_$15i()),$0.$0(i))?(t.resolve(null),t.promise()):(!Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$5p)||$0.$0(this.$18)||this.$18.$EK(n)||(r=this.$18,i=r.$12a(n),u=r.$1zm(n)),f=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$1HT(i,u,this.$15p).done(function(n){t.resolve(n)}),t.promise())},$2Eb:function(n,t){this.$Qh[n]=t}};Microsoft.Crm.Client.Core.ViewModels.$40=function(){};Microsoft.Crm.Client.Core.ViewModels.$40.$$cctor=function(){$0.$0(Microsoft.Crm.Client.Core.ViewModels.$40.$8t)&&(Microsoft.Crm.Client.Core.ViewModels.$40.$8t=new Microsoft.Crm.Client.Core.ViewModels.$40)};Microsoft.Crm.Client.Core.ViewModels.$40.prototype={$1st:function(n){return new Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel(n)}};Microsoft.Crm.Client.Core.ViewModels.$7O=function(){};Microsoft.Crm.Client.Core.ViewModels.$7O.$25W=function(n){var o=n.logicalname,d=n.type,g=Microsoft.Crm.Client.Core.Framework.Guid.newGuid(),s=0,h=0,c=0,l=0,a=0,v=null,y=-1,p=null,w=null,nt=0,b=n,r,t,u,f,e;for(r in b){if(t={key:r,value:b[r]},t.key==="maxlength"&&(h=t.value),t.key==="minvalue"&&(c=t.value),t.key==="maxvalue"&&(l=t.value),t.key==="precision"&&(a=t.value),t.key==="format"&&(v=t.value),t.key==="requiredlevel"&&(s=t.value),t.key==="optionset"){u={};f=t.value;for(e in f){var k={key:e,value:f[e]},i=k.value,tt=i.Label,it=i.Value,rt=$0.$0(i.State)?-1:i.State,ut=$0.$0(i.DefaultStatus)?-1:i.DefaultStatus,ft=$0.$0(i.AllowedStatusTransitions)?null:i.AllowedStatusTransitions,et=$0.$0(i.Color)?null:i.Color,ot=$0.$0(i.InvariantName)?null:i.InvariantName,st=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x(tt,it,rt,ut,ft,et,ot);u[k.key]=st}p=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$7L(u)}t.key==="defaultformvalue"&&(y=t.value);t.key==="targets"&&(w=t.value);t.key==="sourcetype"&&(nt=t.value)}return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2y(o,g,null,d,o,!1,!0,!0,!0,s,h,c,l,a,2,v,1,y,!1,p,!1,w,null,!0,2)};Microsoft.Crm.Client.Core.ViewModels.$1e=function(){};Microsoft.Crm.Client.Core.ViewModels.$1e.$2X6=function(n){var t=0;switch(n){case"{4}":t=4;break;case"{3}":t=3;break;case"{2}":t=2;break;case"{1}":t=1;break;case"{0}":t=0}return t};Microsoft.Crm.Client.Core.ViewModels.$1e.$3AD=function(n,t){var i=!1,r,u,f;switch(t){case 0:i=!0;break;case 1:r=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$163(n.val);!isNaN(r)&&isFinite(r)&&r.toString()===n.val&&(i=!0);break;case 4:case 2:u=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$2wi(n.val);!isNaN(u)&&isFinite(u)&&(n.val=u.toString(),i=!0);break;case 3:f=Microsoft.Crm.Client.Core.ViewModels.$1c.$2wh(n.val);$0.$0(f)||(n.val=f.format("YYYY-MM-DDTHH:mm:ss"),i=!0)}return i};Microsoft.Crm.Client.Core.ViewModels.$1e.$30U=function(n){for(var i,t=n.get_$1m().get_Count()-1;t>=0;t--)i=n.get_$1m().get_$R(t),n.$vn(i)};Microsoft.Crm.Client.Core.ViewModels.$1e.$2l3=function(n){for(var i,t=new Sys.StringBuilder,u=new Array(n.length),r=0;r<n.length;r++)u[r]=n.charAt(r);for(i=0;i<n.length;i++)switch(u[i]){case"%":t.append("[%]");break;case"_":t.append("[_]");break;case"[":t.append("[[]");break;default:t.append(u[i])}return t.toString()};Microsoft.Crm.Client.Core.ViewModels.$1e.$33q=function(n,t,i){return n=Microsoft.Crm.Client.Core.ViewModels.$1e.$2l3(n),t&&i?(n=n.substr(1,n.length-2),n=Microsoft.Crm.Client.Core.Framework.$3.$IY("%{0}%",n)):!t&&i?(n=n.substr(1,n.length-1),n=Microsoft.Crm.Client.Core.Framework.$3.$IY("%{0}%",n)):t&&!i?(n=n.substr(0,n.length-1),n=Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}%",n)):n=Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}%",n),n};Microsoft.Crm.Client.Core.ViewModels.$1e.$1Hi=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$1e.$136(n),r,i,u;if(!$0.$0(t)&&!$0.$0(t.get_$1m())){for(r=new Array(0),i=0;i<t.get_$1m().get_Count();i++)u=t.get_$1m().get_$R(i),r.push(u.get_$Nm());return r}return null};Microsoft.Crm.Client.Core.ViewModels.$1e.$136=function(n){var u=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(n),i=u.$DN,t,r;if(!$0.$0(i))for(t=0;t<i.get_Count();t++)if(r=i.get_$R(t).get_$1ef(),r)return i.get_$R(t);return null};Microsoft.Crm.Client.Core.ViewModels.$1e.$1aW=function(n,t){var h=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(n),r=h.$DN,i,u,c,l,a,f,o;if(!$0.$0(r))for(i=0;i<r.get_Count();i++)if(u=r.get_$R(i).get_$1m(),c=r.get_$R(i).get_$1ef(),c&&!$0.$0(u))if(Microsoft.Crm.Client.Core.ViewModels.$1e.$14R(t))Microsoft.Crm.Client.Core.ViewModels.$1e.$30U(r.get_$R(i));else for(l=t.endsWith("*"),a=t.startsWith("*"),f=u.get_Count()-1;f>=0;f--){var s=t,e=u.get_$R(f),p=Microsoft.Crm.Client.Core.ViewModels.$1e.$2X6(e.get_$29()),v,y,w=(y=Microsoft.Crm.Client.Core.ViewModels.$1e.$3AD(v={val:s},p),s=v.val,y);w?(o=s,e.get_$Hf()==="like"&&(o=Microsoft.Crm.Client.Core.ViewModels.$1e.$33q(o,l,a)),e.set_$29(o)):r.get_$R(i).$vn(e)}return h.$fV()};Microsoft.Crm.Client.Core.ViewModels.$1e.$14R=function(n){for(var i=!0,t=0;t<n.length;t++)if(n.charAt(t)!=="*"){i=!1;break}return i};Microsoft.Crm.Client.Core.ViewModels.$1c=function(){};Microsoft.Crm.Client.Core.ViewModels.$1c.$1cW=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.ShortDatePattern.toString().replace(new RegExp("/","g"),n.DateSeparator.toString())};Microsoft.Crm.Client.Core.ViewModels.$1c.$1cX=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.ShortTimePattern.toString().replace(new RegExp(":","g"),n.TimeSeparator.toString())};Microsoft.Crm.Client.Core.ViewModels.$1c.$2hF=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.LongDatePattern.toString().replace(new RegExp("/","g"),n.DateSeparator.toString())};Microsoft.Crm.Client.Core.ViewModels.$1c.$2hG=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.LongTimePattern.toString().replace(new RegExp(":","g"),n.TimeSeparator.toString())};Microsoft.Crm.Client.Core.ViewModels.$1c.$2eO=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.AMDesignator.toString()};Microsoft.Crm.Client.Core.ViewModels.$1c.$2iF=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.PMDesignator.toString()};Microsoft.Crm.Client.Core.ViewModels.$1c.$1Mk=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$1c.$1cW().toUpperCase()+" "+Microsoft.Crm.Client.Core.ViewModels.$1c.$1cX().replace("tt","a");return new moment(n.replace(Microsoft.Crm.Client.Core.ViewModels.$1c.$2eO(),"AM").replace(Microsoft.Crm.Client.Core.ViewModels.$1c.$2iF(),"PM"),t).toDate()};Microsoft.Crm.Client.Core.ViewModels.$1c.$2wh=function(n){var t=null,f=n.lastIndexOf(".")!==-1||n.lastIndexOf("/")!==-1||n.lastIndexOf("-")!==-1,r,i,u;return f&&((r=Microsoft.Crm.Client.Core.ViewModels.$1c.$1cW().toUpperCase(),t=new moment(n,r,!0),!$0.$0(t)&&t.isValid())||(r+=" "+Microsoft.Crm.Client.Core.ViewModels.$1c.$1cX().replace("tt","a"),t=new moment(n,r,!0),!$0.$0(t)&&t.isValid()))?t:(i=Microsoft.Crm.Client.Core.ViewModels.$1c.$2hF().toUpperCase(),i==="DDDD, MMMM D, YYYY"?i="dddd MMMM D, YYYY":i==="DDDD, D MMMM, YYYY"&&(i="dddd, D MMMM, YYYY"),u=i,t=new moment(n,u,!0),!$0.$0(t)&&t.isValid())?t:(u+=" "+Microsoft.Crm.Client.Core.ViewModels.$1c.$2hG().replace("tt","a"),t=new moment(n,u,!0),!$0.$0(t)&&t.isValid())?t:null};Microsoft.Crm.Client.Core.ViewModels.$1c.getTimeInUserPrefTimeZone=function(n){var t=new Date(n.getTime());return t.setMinutes(n.getMinutes()+n.getTimezoneOffset()+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$PW+Microsoft.Crm.Client.Core.Framework.$h.$1HL(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9())),t};Microsoft.Crm.Client.Core.ViewModels.$1c.formatActivitiesSentOrOpenedAsReadableString=function(n,t,i,r,u,f){var e=Microsoft.Crm.Client.Core.ViewModels.$1c.getTimeInUserPrefTimeZone(n),c=Microsoft.Crm.Client.Core.ViewModels.$1c.getTimeInUserPrefTimeZone(new Date),h=e.localeFormat(Microsoft.Crm.Client.Core.ViewModels.$1c.$1cX()),a=e.localeFormat(Microsoft.Crm.Client.Core.ViewModels.$1c.$1cW()),l=(c-e)/1e3,o=Math.floor(l/3600),v=new Date(e.getTime()),y=new Date(c.getTime()),s=Microsoft.Crm.Client.Core.ViewModels.$1c.getDiffDays(v,y),p=c.getFullYear()-e.getFullYear();return l<3600?String.format(t):o>=1&&o<=4?o===1?String.format(i,o):String.format(r,o):s&&s!==1?s>=2&&s<=6?e.localeFormat("ddd")+" "+h:p?a:e.localeFormat("m")+" "+h:s?String.format(f,h):String.format(u,h)};Microsoft.Crm.Client.Core.ViewModels.$1c.getDiffDays=function(n,t){return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),Math.abs((n-t)/864e5)};Microsoft.Crm.Client.Core.ViewModels.$1c.getShortDateTimeFormat=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$1c.getTimeInUserPrefTimeZone(n),i=t.localeFormat(Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortTimePattern.toString()),r=t.localeFormat(Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern.toString());return String.format("{0} {1}",r,i)};Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel=function(){this.$18H=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$14j=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel.prototype={get_StaticLibrariesLoaded:function(){return this.$18H},set_StaticLibrariesLoaded:function(n){return this.$18H=n,n},get_LibrariesLoaded:function(){return this.$14j},set_LibrariesLoaded:function(n){return this.$14j=n,n},$CF:!1,get_Active:function(){return this.$CF},set_Active:function(n){return this.$CF=n,n},$19g:!1,get_DeferredLoad:function(){return this.$19g},set_DeferredLoad:function(n){return this.$19g=n,n},get_ContainerViewModel:function(){return Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6()},add_ScriptStringAdded:function(n){this.$1p("ScriptStringAdded",n)},remove_ScriptStringAdded:function(n){this.$32("ScriptStringAdded",n)},add_ScriptFileAdded:function(n){this.$1p("ScriptFileAdded",n)},remove_ScriptFileAdded:function(n){this.$32("ScriptFileAdded",n)},add_LoadAndRun:function(n){this.$1p("LoadAndRun",n)},remove_LoadAndRun:function(n){this.$32("LoadAndRun",n)},$2XO:function(n){var t=this.$4d("ScriptStringAdded");$0.$0(t)||t(n)},$2XN:function(n){var t=this.$4d("ScriptFileAdded");$0.$0(t)||t(n)},$2XA:function(){var n=this.$4d("LoadAndRun");$0.$0(n)||n()}};Microsoft.Crm.Client.Core.ViewModels.$1W=function(){this.$$d_$FD=Function.createDelegate(this,this.$FD);this.$$d_$2uq=Function.createDelegate(this,this.$2uq);this.$J7=-1;this.$gP=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord));this.$H3=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord));this.$KV=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord));this.$Gz=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord));Microsoft.Crm.Client.Core.ViewModels.$1W.initializeBase(this);this.$J6=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$2Y));this.$gP=null};Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$1W.$C)&&(Microsoft.Crm.Client.Core.ViewModels.$1W.$C=new Microsoft.Crm.Client.Core.ViewModels.$1W),Microsoft.Crm.Client.Core.ViewModels.$1W.$C};Microsoft.Crm.Client.Core.ViewModels.$1W.prototype={$J6:null,$Uq:null,$16W:null,$mp:null,$8N:0,$gJ:!1,set_$258:function(n){return n!==this.$gJ&&(this.$gJ=n,this.$7("IsWorking")),n},set_$AI:function(n){return this.$8N=n,this.set_$258(this.$8N>0),n},$Rr:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t,i,r;return this.set_$AI(this.$8N+1),t=this,n.always(function(){t.set_$AI(t.$8N-1)}),this.$J7!==-1&&(window.clearTimeout(this.$J7),this.$J7=-1),i=this,r=this,this.$2AE().then(function(){i.$vT().then(function(){n.resolve(!0)},function(t){n.reject(t)})},function(t){n.reject(t)}),n},$wC:function(){if(!Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$AC()){this.$J7!==-1&&window.clearTimeout(this.$J7);var n=this;this.$J7=window.setTimeout(function(){Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.$Rr()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$16X,"RecentlyViewedManager.RefreshLandingPage")},5e3)}},$2AE:function(){var t,n,i,r,u;return this.$mp=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),this.set_$AI(this.$8N+1),t=this,this.$mp.always(function(){t.set_$AI(t.$8N-1)}),n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveRecentlyViewedItemList",null),i=this,n.OnSuccess=function(n){i.$2uv(n)},r=this,n.OnFailure=function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1,"When the recent items were pulling, was got error. "+n.$F);r.$mp.reject(n)},u=new Microsoft.Crm.Client.Core.ViewModels.$I(null,n).$12y(null),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u),this.$mp},$2uv:function(n){this.$Uq&&(this.$Uq.remove_$1fV(this.$$d_$2uq),this.$Uq.$5E());this.$Uq=n;this.$Uq.add_$1fV(this.$$d_$2uq);$0.$0(this.$gP)&&(this.$gP=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord))(this.$Uq.get_EntityCollection().get_entities()));this.$26E();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||this.$mp.resolve()},$2uq:function(){this.$26E();this.$mp.resolve()},$26E:function(){for(var f,s,t,i,c,l,r,a,e=0;e<this.$Uq.get_EntityCollection().get_count();e++){var n=this.$Uq.get_EntityCollection().get_$R(e),o=Microsoft.Crm.Client.Core.Models.$2Y.$2SK(n),h=n.getValue("objecttypecode"),u=this.$21g(h);if(u){for(f=this.$Gz.contains(u),s=0;s<o.length;s++)t=o[s],i=this.$2gu(t.$gZ),i?i.$I6.getTime()<=t.$I6.getTime()?(i.$I6=t.$I6,i.set_$1iP(t.$an),i.$4O=t.$4O):f=!0:(f=!0,this.$J6.add(t));c=this.$20u(h);c.get_Count()>o.length&&(f=!0);f&&(l=Microsoft.Crm.Client.Core.Models.$2Y.$1th(c,h),n.setValue("recentlyviewedxml",l),n.$4w.add("recentlyviewedxml"),this.$Gz.add(n));this.$KV.remove(u);this.$Gz.remove(u);this.$H3.remove(u);this.$H3.add(n)}else this.$H3.add(n),this.$J6.addRange(o)}for(r=0;r<this.$gP.get_Count();r++)a=this.$2Wy(this.$gP.get_$R(r).getValue("objecttypecode"),this.$Uq.get_EntityCollection()),$0.$0(a)&&(this.$KV.add(this.$gP.get_$R(r)),this.$30f(this.$gP.get_$R(r).getValue("objecttypecode")));this.$1gd()},$vT:function(){var n=[],t,e,u,i,o,f,r;return this.$KV.get_Count()>0&&(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord))(this.$KV.toArray()),this.$KV=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord)),e=this,u=this,Array.add(n,this.$H4("CreateMultipleRecentlyViewedItemsAction",t).then(function(){},function(n){u.$KV.addRange(t.toArray());Microsoft.Crm.Client.Core.Framework.Trace.logError(1,"The create of recenting items was finished with error. "+n.$F)}))),this.$Gz.get_Count()>0&&(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord))(this.$Gz.toArray()),this.$Gz=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord)),o=this,f=this,Array.add(n,this.$H4("UpdateMultipleRecentlyViewedItemsAction",i).then(function(){},function(n){f.$Gz.addRange(i.toArray());Microsoft.Crm.Client.Core.Framework.Trace.logError(1,"The updating of recent items was finished with error. "+n.$F)}))),this.set_$AI(this.$8N+1),r=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n).always(function(){r.set_$AI(r.$8N-1)})},$1MH:function(n){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()){this.$3BP(n);var u=this.$20u(n.$8s),i=Microsoft.Crm.Client.Core.Models.$2Y.$1th(u,n.$8s),t=this.$21g(n.$8s);if(t)t.setValue("recentlyviewedxml",i),t.$4w.contains("recentlyviewedxml")||t.$4w.add("recentlyviewedxml"),this.$KV.contains(t)||this.$Gz.contains(t)||this.$Gz.add(t);else{var r=Microsoft.Crm.Client.Core.Framework.Guid.newGuid(),f=new Xrm.Objects.EntityReference("userentityuisettings",r),e={objecttypecode:n.$8s,recentlyviewedxml:i,userentityuisettingsid:r};t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(f,e,{objecttypecode:5,recentlyviewedxml:14,userentityuisettingsid:15},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));t.$4w.add("recentlyviewedxml");t.$4w.add("objecttypecode");t.$4w.add("userentityuisettingsid");this.$KV.add(t);this.$H3.add(t)}this.$wC()}},$2ud:function(n){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()){this.set_$AI(this.$8N+1);var t=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){var i,r,e,u,f;if(!Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(n)){t.set_$AI(t.$8N-1);return}if(i=n.get_ModelContext(),i&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(i))if(r=i.$I,r){if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)&&(e=n,r.$a.TypeName==="activitypointer")){e.add_$FD(t.$$d_$FD);return}Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$1gy(r)}else t.set_$AI(t.$8N-1);else Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)?(u=n,f=u.$g,f===1?Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$2tH("systemform",new Microsoft.Crm.Client.Core.Framework.Guid(u.$q)):f===8||f===13?Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$2tm(u):t.set_$AI(t.$8N-1)):t.set_$AI(t.$8N-1)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$16X,"RecentlyViewedManager.OnPageVisit")}},$2tw:function(n){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()){this.set_$AI(this.$8N+1);var t=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$1gy(n)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$16X,"RecentlyViewedManager.OnItemCreated")}},$FD:function(n){var t=n;t.remove_$FD(this.$$d_$FD);Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$1gy(t.get_ModelContext().$I)},$1gy:function(n){this.$1MH(Microsoft.Crm.Client.Core.Models.$2Y.$1aJ(n));this.set_$AI(this.$8N-1)},$2tH:function(n,t){var r=Microsoft.Crm.Client.Core.Framework.$q.$4t("","RecentlyViewedManager"),i=this,u=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(n,r).then(function(u){var f=new Xrm.Objects.EntityReference(n,t);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(f,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([u.get_$ES(),u.get_$Dn()]),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,2),r).then(function(n){$0.$0(n)||i.$1MH(Microsoft.Crm.Client.Core.Models.$2Y.$1aJ(n));i.set_$AI(i.$8N-1)},function(){i.set_$AI(i.$8N-1)})},function(){u.set_$AI(u.$8N-1)})},$2tm:function(n){var t=n.$67("Grid");if($0.$0(t)&&(t=n.$67("GridContainer").$H.List),$0.$0(t))this.set_$AI(this.$8N-1);else{var u=t.get_DefinitionId(),f=t.$D,e=t.$L,o=Microsoft.Crm.Client.Core.Framework.$q.$4t("","RecentlyViewedManager"),i=this,r=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(f,o).then(function(n){i.$1MH(Microsoft.Crm.Client.Core.Models.$2Y.$2rO(u,n.get_$273(),n.get_$8z(),e));i.set_$AI(i.$8N-1)},function(){r.set_$AI(r.$8N-1)})}},$H4:function(n,t){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i={},f,e,u;return i.EntityRecords=t.toArray(),i.QueryType=n,f=this,i.onSuccess=function(){r.resolve(!0)},e=this,i.onFailure=function(n){r.reject(n)},u=new Microsoft.Crm.Client.Core.ViewModels.$I(null,i).$12y(null),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u),r},$2L3:function(n){$0.$0(this.$16W)&&(this.$16W=new Microsoft.Crm.Client.Core.Framework.$AJ);this.$16W.$1p("NotifySubscribersPropertyName",n)},$1gd:function(){var n=this.$16W.$4d("NotifySubscribersPropertyName");$0.$0(n)||n(this.$J6.toArray())},$3BP:function(n){for(var i,t=0;t<this.$J6.get_Count();t++)if(i=this.$J6.get_$R(t),n.$gZ===i.$gZ){i.$I6=n.$I6;i.$4O=n.$4O;this.$1gd();return}this.$J6.insert(0,n);this.$1gd()},$2gu:function(n){for(var t=0;t<this.$J6.get_Count();t++)if(this.$J6.get_$R(t).$gZ===n)return this.$J6.get_$R(t);return null},$20u:function(n){for(var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$2Y)),t=0;t<this.$J6.get_Count();t++)this.$J6.get_$R(t).$8s===n&&i.add(this.$J6.get_$R(t));return i},$21g:function(n){for(var t=0;t<this.$H3.get_Count();t++)if(this.$H3.get_$R(t).getValue("objecttypecode")===n)return this.$H3.get_$R(t);return null},$30f:function(n){if(!$0.$0(this.$Gz)&&this.$Gz.get_Count())for(var t=0;t<this.$Gz.get_Count();t++)if(this.$Gz.get_$R(t).getValue("objecttypecode")===n){this.$Gz.remove(this.$Gz.get_$R(t));return}},$2Wy:function(n,t){var r;if($0.$0(t)||!t.get_count())return null;for(var u=t.get_entities(),f=u.length,i=0;i<f;++i)if(r=u[i],r.getValue("objecttypecode")===n)return r;return null}};Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel=function(){this.$$d_$1hY=Function.createDelegate(this,this.$1hY);this.$$d_$1ha=Function.createDelegate(this,this.$1ha);this.$$d_$27g=Function.createDelegate(this,this.$27g);this.$$d_$2O6=Function.createDelegate(this,this.$2O6);this.$$d_$11K=Function.createDelegate(this,this.$11K);this.$$d_$2UX=Function.createDelegate(this,this.$2UX);this.$$d_$1ZE=Function.createDelegate(this,this.$1ZE);this.$$d_$2tZ=Function.createDelegate(this,this.$2tZ);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2u6=Function.createDelegate(this,this.$2u6);this.$$d_$2tR=Function.createDelegate(this,this.$2tR);this.$$d_$QG=Function.createDelegate(this,this.$QG);this.$$d_$2se=Function.createDelegate(this,this.$2se);this.get_AttributeMetadata=this.get_$1Vw;this.set_AttributeMetadata=this.set_$1Vw;this.UpdateRelatedEntity=this.$xS;this.get_SuppressDuplicateDetection=this.get_$VL;this.IsFieldLocked=this.$24G;this.UpdateRecordModel=this.$2Hi;Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.initializeBase(this,[39]);this.$JE=new(Microsoft.Crm.Client.Core.ViewModels.$BB.$$(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel));this.$JE.set_$1MC(this.$$d_$2se);this.set_RequestCloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$QG,1028));this.$a1=new Microsoft.Crm.Client.Core.ViewModels.Common.$AE(this);this.$PG=null;this.set_UpdateRelatedEntityPending(!1);this.set_UpdateEntityPending(!1);this.$Kd=null;this.$1k=!0;this.$QX=!1;this.$KA=!1;this.$mu=!1;this.$11c=!1;this.$103=!1;this.$1Mp=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7)};Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.prototype={$a1:null,$Ht:null,$hA:null,$1q:null,$JE:null,$18q:null,$Rg:null,$EX:null,$Mp:null,$1l:null,$xO:null,$Ly:null,$18X:null,$1RH:null,$1RG:null,$PG:null,$Bz:null,$HW:null,$xT:!1,$Kd:null,$1Fr:null,$1Ro:!1,$1k:!1,$QX:!1,$KA:!1,$mu:!1,$11c:!1,$103:!1,$1Mp:null,get_SavingText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SavingInformation")+"..."},get_UpdateEntityPending:function(){return this.$1Ro},set_UpdateEntityPending:function(n){return this.$1Ro!==n&&(this.$1Ro=n,this.$7("UpdateEntityPending")),n},get_UpdateRelatedEntityPending:function(){return this.$xT},set_UpdateRelatedEntityPending:function(n){return this.$xT!==n&&(this.$xT=n,this.$7("UpdateRelatedEntityPending")),n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k!==n&&(this.$1k=n,this.$1k||this.$FH("RenderedReadReady")),n},get_EnableEdits:function(){return this.$QX},set_EnableEdits:function(n){return this.$QX!==n&&(this.$QX=n,this.$7("EnableEdits"),this.$QX&&this.$FH("RenderedEditReady")),n},get_$31Y:function(){return!0},get_TaskBasedArguments:function(){return this.$1RG},set_TaskBasedArguments:function(n){return this.$1RG=n,n},get_TaskBasedPageViewDescriptor:function(){return this.$1RH},set_TaskBasedPageViewDescriptor:function(n){return this.$1RH=n,n},get_TaskBasedContainerViewDescriptor:function(){return this.$18X},set_TaskBasedContainerViewDescriptor:function(n){return this.$18X=n,n},get_ModelUpdateActionProvider:function(){return this.$HW},set_ModelUpdateActionProvider:function(n){return this.$HW=n,n},get_RetrieveOptions:function(){return Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq()},get_DisplayName:function(){return this.$1q},set_DisplayName:function(n){return this.$1q=n,n},get_RelationshipList:function(){return this.$Mp},set_RelationshipList:function(n){if($0.$0(n))n={};else if(n===this.$Mp)return n;return this.$Mp=n,this.$7("RelationshipList"),n},get_$1Vw:function(){return $0.$0(this.$1l)&&(this.$1l={}),this.$1l},set_$1Vw:function(n){return this.$1l=n,!$0.$0(this.$1l)&&"?primary?"in this.$1l&&(this.$7("AttributeMetadata"),this.$1Mp.resolve(null)),n},get_$1wK:function(){var n,t,i;if($0.$0(this.$1Fr)&&!$0.$0(this.$H)){n=this.$H;for(t in n){i={key:t,value:n[t]};this.$1Fr=i.value;break}}return this.$1Fr},get_CurrentActivePage:function(){return this.$JE.get_$3EC()},set_CurrentActivePage:function(n){return this.$28v(n),n},get_UnboundAttributeFieldNames:function(){return this.$18q},set_UnboundAttributeFieldNames:function(n){return n===this.$18q?n:(this.$18q=n,n)},get_PrimaryAttributeFieldNames:function(){return this.$Rg},set_PrimaryAttributeFieldNames:function(n){if($0.$0(n))n=new Array(0);else if(n===this.$Rg)return n;return this.$Rg=n,this.$7("PrimaryAttributeFieldNames"),n},get_RelatedAttributeFieldNames:function(){return this.$EX},set_RelatedAttributeFieldNames:function(n){if($0.$0(n))n={};else if(n===this.$EX)return n;return this.$EX=n,this.$7("RelatedAttributeFieldNames"),n},get_FieldMetadata:function(){return this.$Ly},set_FieldMetadata:function(n){return this.$Ly=n,n},get_$VL:function(){return!0},get_$CX:function(){return!$0.$0(this.get_ModelContext())&&this.get_ModelContext().$CX()},get_$n4:function(){var n,t;if(!this.$PG){this.$PG=new Array(0);n=this.$EX;for(t in n){var i={key:t,value:n[t]},r=i.key,u=this.$Mp[r],f=u.TargetEntityTypeName,e=$0.$0(i.value)?new Array(0):i.value,o=new Microsoft.Crm.Client.Core.Storage.DataApi.$MK(f,e),s=o.$2Mj(),h=s.$CC(1);this.$PG.push(new(Microsoft.Crm.Client.Core.Framework.$6E.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship,String))(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(r,0),h))}}return this.$PG},$2Z:function(){var n,t,f,r;if(this.$1a||(this.add_$6F(this.$$d_$2tR),this.add_$FD(this.$$d_$2u6),Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$2Z.call(this),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$TB(this.$$d_$2tZ)),!$0.$0(this.$Ly)&&$0.$0(this.$xO)){n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o));t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));for(var u=this.$Ly,e=u.length,i=0;i<e;++i)f=u[i],r=Microsoft.Crm.Client.Core.ViewModels.$7O.$25W(f),t.add(r.get_$2I()),n.add(r);this.$18q=t.toArray();this.$xO=n.toArray();this.get_$1Vw().unbound=this.$xO}Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("TaskBasedFlowFormPresent",!0)},$2tZ:function(){var n,t,r,i,u,f;if(!this.$103){n=this.$H;for(t in n)r={key:t,value:n[t]},i=r.value,$0.$0(i.$1W2)||(u=this,f=function(){u.back()},Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1p6(i.$15t.replace("{","").replace("}","")+"_back",f),this.$103=!0)}this.$1WW();Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$TB(this.$$d_$2tZ)},$He:function(){this.set_IsLocked(this.$1WU());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&this.$1co();this.$7("IsServerAvailable")},$1co:function(){this.$103=!1;Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$TB(this.$$d_$2tZ);this.get_$CX()?this.$Hw(1,!0):Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1co.call(this)},$2tR:function(){this.$38U()},$2u6:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("CheckTaskBasedFlowStatus",null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$39A:function(n,t,i,r){var u={},f;u.EntityLogicalName=r.LogicalName;u.EntityId=r.Id.toString();f=this.$sS(i,r);u.PrimaryAttributeFieldNames=f in this.$EX?this.$EX[f]:new Array(0);u.RelatedEntitiesQuery=null;u.RelatedAttributes=null;u.RetrieveOptions=Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz();u.OnSuccess=n;var o=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleRecords",null),s=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),e=s.$XL(this,o,u);e.add_$AT(this.$$d_$1ZE);e.add_$Qe(t);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(e)},$1Kw:function(n,t,i){var r=this;this.$1Mp.done(function(){$0.$0(r.$Rg)||$0.$0(r.$Mp)||(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jG(r.get_ViewModelId()),r.$2mN(),$0.$0(t)&&(t=function(){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$MZ.call(r,r.$Bz);r.$jf()}),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1Kw.call(r,n,t,i))})},$1gR:function(n){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1gR.call(this,n);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$np(this.get_ViewModelId())},$12y:function(){var n={};return n.EntityLogicalName=this.$D,n.EntityId=this.$hA.toString(),n.PrimaryAttributeFieldNames=this.$Rg,n.RelatedEntitiesQuery=this.get_$n4(),n.RelatedAttributes=this.$EX,n.RetrieveOptions=this.get_RetrieveOptions(),this.$Ig.$B1(n)},$Oh:function(){this.set_RequestCloseCommand(null);this.$a1.$5E();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$Oh.call(this)},$Rr:function(){this.$vh(!0)},$vh:function(n,t){var r;if(!this.get_$CX()||t)return this.get_$CX()?(r=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),this.$1sR(n,r),r):this.$qN(n);var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),u=this,f=this;return this.$2Hb(1,null).then(function(t){t?u.$29P(n,i):u.get_$CX()&&u.$1sR(n,i)},function(n){i.reject(n)}),i.promise()},$1sR:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),r,u;this.$XA(i,!1,!0,"Web._forms.styles.FORM.crm.htc_Title");r=this;u=this;i.then(function(i){i?r.$29P(n,t):t.resolve(null)},function(n){t.reject(n)})},$29P:function(n,t){var i=this,r=this;this.$qN(n).then(function(n){t.resolve(n)},function(n){t.reject(n)})},$qN:function(n){var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t,r,u,f;return(($0.$0(n)||n)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1jh(4),t=null,r=null,!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())&&(t=this.get_ModelContext().$2b,r=this.$2ML(t,i)),u=Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$vh.call(this),!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext()))?(f=this,u.fail(function(n){i.reject(n);t.remove_$7v(r)}),i):u},refreshWithoutScriptReload:function(){this.$vh(!1)},$2ML:function(n,t){var i=null,r=this;return i=function(u,f){var e=f;e.$VD===1&&(n.remove_$7v(i),r.$1n9(),$0.$0(t)||t.resolve(null))},n.add_$7v(i),i},$xS:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),s,u,f,c,e,r,l,o,a,h;if(this.$xT)return i.resolve(!1);if(this.set_UpdateRelatedEntityPending(!0),s=this.$2if(n),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1Rk(this.get_ModelContext().get_$2m()),!$0.$0(s)&&s.$CX()){for(u=this.$sS(n,s.$I.$a),f={},$0.$0(t)?f.AdditionalEntityToRetrieveRelationship=u:(f.AdditionalEntityToRetrieveBindingFieldName=n,f.AdditionalEntityToRetrieve=t),c=new Array(0),e=0;e<this.get_$n4().length;e++)this.get_$n4()[e].get_$8a().$Eb!==u&&c.push(this.get_$n4()[e]);f.RelatedEntitiesQuery=c;r=this;l=this;this.$Hw(1,!1,f).then(function(f){if(r.set_UpdateRelatedEntityPending(!1),r.$7("MultipleEntityAttributeFormModelUpdate"),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$n3(r.get_ModelContext().get_$2m()),f){if($0.$0(t))r.$1n9(u);else{var e=r.$sS(n,t);e!==u&&r.$1n9(u)}i.resolve(!0)}else i.resolve(!1)},function(n){l.$xT=!1;Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$n3(l.get_ModelContext().get_$2m());i.reject(n)})}else o=this,a=function(r){var u=$0.$0(r)||!r.$s()?null:r.$1mk()[0];o.$2yj(n,t,u);o.set_UpdateRelatedEntityPending(!1);o.$7("MultipleEntityAttributeFormModelUpdate");Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$n3(o.get_ModelContext().get_$2m());i.resolve(!0)},$0.$0(t)?a(null):(h=this,this.$39A(a,function(){h.set_UpdateRelatedEntityPending(!1);h.$7("MultipleEntityAttributeFormModelUpdate");Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$n3(h.get_ModelContext().get_$2m());i.reject(null)},n,t));return i.promise()},$2if:function(n){var u=null,i,t,e,o;if(!$0.$0(this.get_ModelContext())){i=this.get_ModelContext();for(var f=i.$42.get_$2ph(),s=f.length,r=0;r<s;++r)if(t=f[r],t in this.$Mp&&(e=this.$Mp[t],o=e.ReferencingName,o===n)){u=i.$42.get_$R(t);break}}return u},$sS:function(n,t){var i,r,u,o;if($0.$0(t))return null;i=null;r=this.$Mp;for(u in r){var f={key:u,value:r[u]},e=f.value,s=e.ReferencingName;if(s===n&&(o=e.TargetEntityTypeName,o===t.LogicalName)){i=f.key;break}}return i},$Hw:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Object),u=n===2,e,o,f;return Microsoft.Crm.Client.Core.Framework.$6.$4N?(e=Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093991),r.reject(e)):(this.$BY?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?(o=this,f=this,this.$2Hb(n,i).then(function(n){n?r.resolve(!0):o.$XA(r,u,t,"Web._forms.styles.FORM.crm.htc_Title")},function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?f.$1sS(r,u,t,"Mobile_TaskBasedFlow_Error_When_Saving_Message",f.$Bz):f.$XA(r,u,t,"Mobile_TaskBasedFlow_Offline_Message","Mobile_TaskBasedFlow_Offline_Title")})):this.$XA(r,u,t,"Mobile_TaskBasedFlow_Offline_Message","Mobile_TaskBasedFlow_Offline_Title"):this.$2nz()?this.$XA(r,u,t,"Mobile_TaskBasedFlow_Error_When_Saving_Message"):this.$38S(),r.promise())},$2Hb:function(n,t){var f=MscrmComponents.DeferredPromiseFactory(Boolean,Object),a,e,u,i,r,s,v,h,o,c,l;return Microsoft.Crm.Client.Core.Framework.$6.$4N?(a=Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093991),f.reject(a)):(e=this.get_ModelContext(),e.$2zi(),u={},u.SaveMode=n,$0.$0(t)||(i="RelatedEntitiesQuery",u[i]=i in t?t[i]:this.get_$n4(),r=null,i="AdditionalEntityToRetrieve",i in t&&!$0.$0(t[i])?(s=t[i],u[i]=s,i="AdditionalEntityToRetrieveBindingFieldName",v=t[i],r=this.$sS(v,s),r in this.$EX&&(i="AdditionalEntityToRetrieveAttributes",u[i]=this.$EX[r]),i="AdditionalEntityToRetrieveRelationship",u[i]=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(r,0)):(i="AdditionalEntityToRetrieveRelationship",r=t[i]),h=this,u.OnSuccess=function(n){var t=r in h.$EX?h.$EX[r]:new Array(0),i=e.$42.$3F5(r)?e.$42.get_$R(r).$I:null,u;$0.$0(n)?Microsoft.Crm.Client.Core.Models.$2A.$xS(e,r,t,i,null):(u=Microsoft.Crm.Client.Core.Storage.Common.ColumnSet.isInstanceOfType(n.$4b)?n.$4b.$4A:null,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$xX(n,u).done(function(){Microsoft.Crm.Client.Core.Models.$2A.$xS(e,r,t,i,n)}))}),this.$Kd=f,o=this.$HW.$B1(u),o.add_$AT(this.$$d_$2UX),c=this,o.add_$by(function(){c.$Kd=null;c.get_$CX()?f.resolve(!1):f.resolve(!0)}),l=this,o.add_$Qe(function(){l.$Kd=null;f.reject(l.$Bz)}),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(o),f.promise())},$2yj:function(n,t,i){var u=this.get_ModelContext(),e=u.$2b.$I.getValue(n),r=!$0.$0(e)&&Xrm.Objects.EntityReference.isInstanceOfType(e)?this.$sS(n,e):null,o=r in this.$EX?this.$EX[r]:new Array(0),s=u.$42.$3F5(r)?u.$42.get_$R(r).$I:null,f=$0.$0(t)?null:this.$sS(n,t),h;r!==f?($0.$0(r)&&(h=f in this.$EX?this.$EX[f]:new Array(0),Microsoft.Crm.Client.Core.Models.$2A.$xS(u,f,h,null,i)),Microsoft.Crm.Client.Core.Models.$2A.$xS(u,r,o,s,null),this.$1n9(r)):Microsoft.Crm.Client.Core.Models.$2A.$xS(u,f,o,s,i)},$38U:function(){$0.$0(this.get_$1wK())||(this.$JE.set_$3EH(!0),this.$JE.get_$3EE().$86(),this.set_CurrentActivePage(this.get_$1wK()))},$33r:function(){this.$2Cg();!this.get_$CX()||Microsoft.Crm.Client.Core.Framework.$6.$4N?(this.$11K(),this.$16u(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1XY,!0)):(this.$2Cj(),this.$16u(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1XY,!0))},$2Cj:function(){this.set_UpdateEntityPending(!0);var n=this,t=this;this.$Hw(2,!0).then(function(t){n.set_UpdateEntityPending(!1);t&&n.$jf()},function(){t.set_UpdateEntityPending(!1);t.$11K()})},$QG:function(){if(this.$2Cg(),!this.get_$CX()||Microsoft.Crm.Client.Core.Framework.$6.$4N)this.$11K(),this.$16u(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1BV,!0);else{var n=this,t=this;this.$38Z(function(){n.$2Cj();n.$16u(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1BV,!0)},function(){t.$11K();t.$16u(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1BV,!1)})}},$2Cg:function(){var n=this.$4d("RootPreNavigation");n&&n(this,null)},$jf:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$12c(this.$1P);$0.$0(n)?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10c(this):n(this);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("TaskBasedFlowFormPresent",!1)},$eV:function(){if(this.get_$CX())try{Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1Rk(this.get_ModelContext().get_$2m());var n=this.get_ModelContext();n.$eV()}catch(t){Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1034,"Failed to discard the changes for the Task based flow '{0}' with error '{1}'",this.$Ht,t.message)}},$11K:function(){this.$eV();this.$jf()},$2nz:function(){for(var t,n=this.$JE.get_$3EE().get_$s()-1;n>0;--n)if(t=this.$JE.get_$3EE().get_$R(n),t.$BY)return!0;return!1},$2gC:function(){for(var t,n=null,i=0;i<this.$AZ.get_Count();++i)t=this.$AZ.get_Items()[i],t.$L.split("_edit").length>1&&(n=$0.$0(n)?t.$1G:n+", "+t.$1G);return n},$38S:function(){var n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_UnableToSave_Message");n=n+"\n\n"+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Name_Of_TaskBasedFlow_Text")+this.$1q+"\n\n"+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Fields_In_Error_Text")+this.$2gC();Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_UnableToSave_Title"),n,1,this.$$d_$11K,this.$$d_$2O6,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Discard_And_Exit_Text"),null)},$2O6:function(){this.set_UpdateEntityPending(!1);this.set_UpdateRelatedEntityPending(!1)},$38Z:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_SaveDiscard_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_SaveDiscard_Message"),1,n,t,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Save_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Discard_Text"))},$XA:function(n,t,i,r,u,f){$0.$0(u)&&(u="Mobile_TaskBasedFlow_Error_When_Saving_Title");$0.$0(f)&&(f="");var e=this,o=this;Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4(u),Microsoft.Crm.Client.Core.Framework.Common.$2.$4(r)+f,1,function(){e.$eV();n.resolve(i)},function(){n.resolve(!1)},Microsoft.Crm.Client.Core.Framework.Common.$2.$4(t?"Mobile_TaskBasedFlow_CloseDiscard_Text":"Mobile_TaskBasedFlow_DiscardChanges_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_ReturnToTaskFlow_Text"))},$1sS:function(n,t,i,r,u){var e=null,f=null,o;if(!$0.$0(u)){o=u.$m;switch(o){case-2147204784:e="Mobile_TaskBasedFlow_UnableSaveWorkFlow_Title";f=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_UnableSaveWorkFlow_Message");break;default:f=Microsoft.Crm.Client.Core.Framework.Common.$2.$sJ(u)}f="\n\n"+f}this.$XA(n,t,i,r,e,f)},$MZ:function(n){this.$Bz=n;$0.$0(n)||n.$m!==-2147084512||Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(n.$m,this.$$d_$QG,n)},$2lD:function(){this.$JE.get_$2lY()?this.back():this.$QG()},back:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?this.$JE.$3EL():this.$2FS()},open:function(n){n in this.$H&&this.$28v(this.$H[n])},$28v:function(n){$0.$0(n)||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?this.$JE.get_$3EH()?this.$JE.$3EK(n):this.$2VA(null,this.$$d_$11K):this.$2FS())},$2FS:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Object),t,i;this.$XA(n,!0,!0,"Mobile_TaskBasedFlow_Offline_Message","Mobile_TaskBasedFlow_Offline_Title");t=this;i=this;n.then(function(n){n&&t.$jf()},function(){i.$jf()})},$2se:function(){this.$1RH=this.$18X.ChildControlViewDescriptors[this.get_CurrentActivePage().$L];this.$2HB();this.$7("CurrentActivePage")},$2VA:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_Error_On_Page_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_Error_On_Page_Message"),1,n,t,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dialog_Button_Ok"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Exit_And_Cancel_Text"))},$1ZE:function(n){n.dispose()},$2UX:function(n){n.dispose()},$2mN:function(){var t,r,e,u,n;if($0.$0(this.get_ModelContext())){if(t=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2y)),!$0.$0(this.$xO))for(var f=this.$xO,o=f.length,i=0;i<o;++i)r=f[i],t.set_$R(r.get_$2I(),r);e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(new Xrm.Objects.EntityReference(this.$D,this.$hA),{},{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)),new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(new Array(0)),this.get_RetrieveOptions(),"");u=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord));u.set_$R("?primary?",e);n=Microsoft.Crm.Client.Core.Models.$3w.$1If(this.$1P,this.$Ht,this.$D,t,u);$0.$0(n)||$0.$0(n.$2b)||this.$2ML(n.$2b);this.set_ModelContext(n);this.$11c=!1;this.AddPropertyChangedListener("InvalidViewModels",this.$$d_$27g)}},$27g:function(){if(this.$2HB(),this.$11c){var n="FieldErrorNotification";this.$AZ.get_Count()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top()===this.$2&&Microsoft.Crm.Client.Core.ViewModels.$10.$wc(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notification_Field_Error"),3,n,null,-1):Microsoft.Crm.Client.Core.ViewModels.$10.$Lc(n)}},$2HB:function(){$0.$0(this.get_CurrentActivePage())||(this.$JE.set_$3EH(this.get_CurrentActivePage().$BY),$0.$0(this.get_CurrentActivePage().$1Lj)||this.get_CurrentActivePage().$1Lj.set_Enabled(this.$JE.get_$3EH()))},$1n9:function(n){var o,t,i,r,u;if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){o=this.get_ModelContext();t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$2v));for(var s=this.$AZ.get_Items(),c=s.length,f=0;f<c;++f)i=s[f],r=i.get_Name().split(":"),r.length===2&&($0.$0(n)?o.$42.$3F5(r[0])||t.add(i):r[0]===n&&t.add(i));if(t.get_Count()>0){for(var h=t.get_Items(),l=h.length,e=0;e<l;++e)u=h[e],u.set_$qu(null),u.set_$KO(null),this.$AZ.remove(u);this.$7("InvalidViewModels")}}},$16u:function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1s1);i.$h(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2GU,this.$Ht);i.$h(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1s0,n);i.$h(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2Cl,t);i.$h(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2Gv,this.$JE.get_$3EE().get_$s());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i)},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Hd.call(this);this.$11G();this.$1Vv();!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())&&this.set_IsLocked(this.$1WU());this.$1WW()},$1WU:function(){if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){var n=this.get_ModelContext().$2b;return this.$1qm(n)}return!0},$1qm:function(n){return Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1WU.call(this)||n.get_$sz()||Microsoft.Crm.Client.Core.Framework.$6.$4N||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$14N(n.$I.$2A.LogicalName,n,2)},$24G:function(n){if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){var i=this.get_ModelContext(),t=i.$12a(n);return $0.$0(t)?!0:this.$1qm(t)}return this.get_IsLocked()},$1Vv:function(){if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){var n=this.get_ModelContext().$2b;n.add_$7v(this.$$d_$1ha);n.add_$mv(this.$$d_$1hY)}},$11G:function(){if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){var n=this.get_ModelContext().$2b;n.remove_$7v(this.$$d_$1ha);n.remove_$mv(this.$$d_$1hY)}},$1ha:function(n,t){var i=t;i.$VD!==1||i.$bD!==1||this.$mu||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedReadReady",0,this.$1P),this.$mu=!0,this.$1WW(),this.$7("MultipleEntityAttributeFormModelUpdate"))},$1hY:function(){!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())&&this.set_IsLocked(this.$1WU())},$1WW:function(){if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){var n=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$t;if(this.$KA||(this.$FH("RenderedInitialData"),this.$KA=!0),this.get_ModelContext().$2b.$Ki){if(!n||n===1||n===4){this.set_EnableEdits(!1);this.set_IsLoading(!1);return}}else{this.set_EnableEdits(!1);return}this.set_EnableEdits(!0);this.set_IsLoading(!1)}},$2Hi:function(n){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),i;return this.$11c=!0,i=this.get_ModelContext().$2b,i.$2Hi(n.get_$R("?primary?")),this.$7("MultipleEntityAttributeFormModelUpdate"),this.$7("InvalidViewModels"),t.resolve(null),t}};Microsoft.Crm.Client.Core.ViewModels.$BB=function(){this.$aA=new(Microsoft.Crm.Client.Core.Framework.$8k.$$(this.$$gta["Microsoft.Crm.Client.Core.ViewModels.$BB"].T))};Microsoft.Crm.Client.Core.ViewModels.$BB.$$=function(n){var t="$BB$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!Microsoft.Crm.Client.Core.ViewModels[t]){r=Microsoft.Crm.Client.Core.ViewModels[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Microsoft.Crm.Client.Core.ViewModels.$BB"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Microsoft.Crm.Client.Core.ViewModels.$BB.apply(this,i)};r.registerClass("Microsoft.Crm.Client.Core.ViewModels."+t);u=Microsoft.Crm.Client.Core.ViewModels.$BB.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return Microsoft.Crm.Client.Core.ViewModels[t]};Microsoft.Crm.Client.Core.ViewModels.$BB.prototype={$1MB:null,$1Cu:!0,get_$3EC:function(){return this.$aA.get_$s()>0?this.$aA.get_$R(this.$aA.get_$s()-1):null},get_$3EE:function(){return this.$aA},set_$1MC:function(n){return this.$1MB=n,n},get_$3EH:function(){return this.$1Cu},set_$3EH:function(n){return this.$1Cu=n,n},get_$2lY:function(){return this.$aA.get_$s()>1},$3EK:function(n){this.$1Cu&&(this.$1nf(n),this.$aA.$3w(n),this.$28D())},$3EL:function(){this.get_$2lY()&&(this.$aA.$vm(this.$aA.get_$s()-1),this.$28D())},$1nf:function(n){if(!n)throw Error.argumentNull("viewModel","You cannot add a null ViewModel");},$28D:function(){$0.$0(this.$1MB)||this.$1MB()}};Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel=function(){this.$$d_$2ks=Function.createDelegate(this,this.$2ks);this.$$d_$2l7=Function.createDelegate(this,this.$2l7);Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel.prototype={$v2:null,$15t:null,$1Ec:null,$18S:null,$1Lj:null,$1W2:null,$1eO:!1,get_PageId:function(){return this.$15t},set_PageId:function(n){return this.$15t=n,n},get_PageName:function(){return this.$v2},set_PageName:function(n){return this.$v2=n,n},get_DefaultNextPageName:function(){return this.$1Ec},set_DefaultNextPageName:function(n){return this.$1Ec=n,n},get_IsListTab:function(){return this.$1eO},set_IsListTab:function(n){return this.$1eO=n,n},$2Z:function(){var n,t,i;if(!this.$1a){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);n=this.$H;for(t in n){i={key:t,value:n[t]};Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(i.value)&&(this.$18S=i.value);break}this.set_Label(this.$18S.$1G);this.$18S.AddPropertyChangedListener("Label",this.$$d_$2l7);this.$2.AddPropertyChangedListener("ModelContext",this.$$d_$2ks);this.loadBackAndNextButton()}},$2ks:function(){this.set_ModelContext(this.$2.get_ModelContext())},$2l7:function(){this.set_Label(this.$18S.$1G)},loadBackAndNextButton:function(){var i,r,t,n,u;if(!$0.$0(this.$H)){i=this.$H;for(r in i)if(t={key:r,value:i[r]},!$0.$0(t.value)&&Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(t.value)){n=t.value.$H.Footer;!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&(u=this.$15t.split("{")[1].split("}")[0],this.$1Lj=n.$H[u.trim()+"_next_readonly"],this.$1W2=n.$H[u.trim()+"_back_readonly"]);break}}}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls");Microsoft.Crm.Client.Core.ViewModels.Controls.$5G=function(n){(this.$$d_$34d=Function.createDelegate(this,this.$34d),$0.$0(n))||(this.$2s=new ChartConfigObject,n.get_$f()&&(this.$5v=!0,this.$1PH=n.$1B9,Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1PH)||(this.$1EM=!1),this.$36g(n)),this.$36l(n.$5i),this.$36i(),this.$2s.colors=n.$Cv,this.$36m(n.$xj),this.$36n(n.$19E),this.$36k(n.$Ho,n.$xj,n.$zn),n.$2.$g===17&&Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(this.$2s.chart.marginTop=30),this.$36h(n.$Im),this.$2UQ(),this.$37o(),this.$5v&&this.$37Q(),this.$2xy())};Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$1aQ=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.$5G(n);return t.$2s};Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$1zu=function(n,t){t.val="";switch(n.toUpperCase()){case"BAR":return"bar";case"COLUMN":return"column";case"PIE":return"pie";case"STACKEDCOLUMN":return t.val="normal","column";case"STACKEDCOLUMN100":return t.val="percent","column";case"STACKEDBAR":return t.val="normal","bar";case"STACKEDBAR100":return t.val="percent","bar";case"LINE":return"line";case"FUNNEL":return"funnel";case"AREA":return"area";case"STACKEDAREA":return t.val="normal","area";case"STACKEDAREA100":return t.val="percent","area";default:throw new Microsoft.Crm.Client.Core.Framework.$50(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_Unsupported_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_Unsupported_Message")).$1mm();}};Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$2Eq=function(n,t,i){return $0.$0(i)?!1:(n[t]=i,!0)};Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.prototype={$2s:null,$1SQ:0,$1SP:0,$5v:!1,$1EM:!0,$1PH:null,$1Ww:null,$36g:function(n){this.$1Ww=n},$36l:function(n){var t=this.$2s.title,i;t.text=n?n.Text.toUpperCase():"";t.align="left";t.verticalAlign="top";t.floating=!0;t.useHTML=!0;i={};i.color="#d89a57";i.fontSize="#12px";i.fontFamily=this.$5v?'"Segoe UI Semibold", Tahoma, sans-serif':"Segoe UI Semibold, SegoeUI-Semibold";i.width="#300px";t.style=i},$36i:function(){this.$2s.plotOptions=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rq();this.$2s.plotOptions.series=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tR();this.$2s.plotOptions.series.animation=!1;this.$5v&&(this.$2s.plotOptions.series.point={},this.$2s.plotOptions.series.point.events={},this.$2s.plotOptions.series.point.events.legendItemClick=this.$$d_$34d,this.$2s.plotOptions.series.events={},this.$2s.plotOptions.series.events.legendItemClick=this.$$d_$34d)},$34d:function(){return!1},$36m:function(n){var e,t,r,f,c,i,u;if(n&&n.length>0)for(var s=n,h=s.length,o=0;o<h;++o)e=s[o],t={},t.gridLineDashStyle="ShortDot",t.gridLineColor="#d6d6d6",t.lineColor="#d6d6d6",t.endOnTick=!0,t.startOnTick=!0,r={},r.color=this.$5v?"#FFFFFF":"#666666",r.fontSize=this.$5v?"12px":"11px",this.$5v&&(r.lineheight="18px"),r.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI",f={},f.style=r,f.overflow="justify",this.$5v&&(c=this,f.formatter=function(){var t=this.value,n=t.toString(),i;return $0.$0(n)?"":n.length>10?(i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityContainerControl.SubjectEllipsesText"),n.substr(0,7)+i):t.toString()}),t.labels=f,i={},Microsoft.Crm.Client.Core.Framework.$3.$12(e.Title)||this.$5v?i.text=null:(i.text=e.Title,u={},u.color=this.$5v?"#FFFFFF":"#666666",u.fontSize="11px",u.fontFamily=this.$5v?'"Segoe UI Semibold", Tahoma, sans-serif':"Segoe UI Semibold, SegoeUI-Semibold",u.fontWeight="normal",i.style=u,i.margin=15,i.align="low",i.x=-4),t.title=i,Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$2Eq(t,"categories",e.Values),this.$1SP%2&&(t.opposite=!0),this.$1SP++,Array.add(this.$2s.xAxis,t)},$36n:function(n){var o,t,f,r,c,i,u;if(n&&n.length>0)for(var s=n,h=s.length,e=0;e<h;++e)o=s[e],t={},t.gridLineDashStyle="ShortDot",t.gridLineColor="#d6d6d6",t.lineWidth="1",t.lineColor="#d6d6d6",t.endOnTick=!0,t.startOnTick=!0,f={},f.color=this.$5v?"#FFFFFF":"#666666",f.fontSize="11px",f.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI",r={},r.style=f,r.overflow="justify",c=this,r.formatter=function(){return""+String.localeFormat("{0:N}",this.value)},this.$5v&&(t.gridLineWidth=0,r.enabled=!1),t.labels=r,i={},Microsoft.Crm.Client.Core.Framework.$3.$12(o.Title)||this.$5v?i.text=null:(i.text=o.Title,u={},u.color="#666666",u.fontSize="11px",u.fontFamily=this.$5v?'"Segoe UI Semibold", Tahoma, sans-serif':"Segoe UI Semibold, SegoeUI-Semibold",u.fontWeight="normal",i.style=u,i.margin=15,i.align="low",i.x=-4),t.title=i,this.$1SQ%2&&(t.opposite=!0),this.$1SQ++,Array.add(this.$2s.yAxis,t)},$36j:function(n){n.color=this.$2WN(this.$1PH,n.name)},$36k:function(n,t,i){var u,r,f,c,l,e,o,a;if(n&&n.length>0)for(var h=n,v=h.length,s=0;s<v;++s)u=h[s],r=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tR(),r.color=u.Color,r.borderWidth=u.BorderWidth,r.borderColor=u.BorderColor,$0.$0(u.Title)||(r.name=u.Title),this.$5v&&!this.$1EM&&this.$36j(r),!$0.$0(u.YAxisNumber)&&u.YAxisNumber<this.$1SQ&&u.YAxisNumber>0&&(r.yAxis=u.YAxisNumber),!$0.$0(u.XAxisNumber)&&u.XAxisNumber<this.$1SP&&u.XAxisNumber>0&&(r.xAxis=u.XAxisNumber),e=(l=Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$1zu(u.ChartType,c={val:f}),f=c.val,l),r.type=e,!$0.$0(f)&&f.length&&(r.stacking=f),o=!1,this.$37e(r,u.$1EJ),r.allowPointSelect=i,r.states={},r.states.select=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rs(),e==="pie"?(this.$37f(r),o=!0):e==="funnel"&&(this.$37d(r),o=!0),this.$5v&&(r.cursor="pointer"),a=this.$2jA(u,t,o),r.data=a,this.$2s.series[this.$2s.series.length]=r},$36u:function(n,t){try{var i=t.Aggregators[0];n.color=this.$2WO(i.FieldName,Number.parseInvariant(i.Value))}catch(r){Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1008,r.message);n.color="#3F94E9"}},$2jA:function(n,t,i){var f=new Array(0),u,r,e,o,s,h;if(n.DataPoints)for(u=0;u<n.DataPoints.length;u++)$0.$0(n.DataPoints[u].Value)?(h=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tS(),h.y=null,f[f.length]=h):(r=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tS(),i&&(r.name=t[0].Values[u]),r.y=n.DataPoints[u].Value,r.Aggregators=n.DataPoints[u].Aggregators,r.FormattedValue=n.DataPoints[u].FormattedValue,r.events=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tQ(),e=this,r.events.click=function(){if(!$0.$0(e.$2s.HighchartSeriesPointClicked)){var n=this;e.$2s.HighchartSeriesPointClicked(n)}},o=this,r.events.select=function(){if(!$0.$0(o.$2s.HighchartSeriesPointSelected)){var n=this;o.$2s.HighchartSeriesPointSelected(n)}},s=this,r.events.unselect=function(){if(!$0.$0(s.$2s.HighchartSeriesPointUnselected)){var n=this;s.$2s.HighchartSeriesPointUnselected(n)}},this.$5v&&this.$1EM&&this.$36u(r,n.DataPoints[u]),f[f.length]=r);return f},$37f:function(n){var t,r,i;n.cursor="pointer";n.borderWidth=1;n.borderColor="#ffffff";n.showInLegend=!0;t={};t.enabled=!0;t.softConnector=!0;t.distance=18;r=this;t.formatter=function(){return""+this.point.FormattedValue};i={};i.color=this.$5v?"#FFFFFF":"#666666";i.fontSize="11px";i.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI";t.style=i;n.dataLabels=t},$37e:function(n,t){var r,u,i,f,e;t&&t.Enabled&&(r={},r.enabled=t.Enabled,t.LabelFormatter&&(r.formatter=t.LabelFormatter),u={},u.color="#666666",u.fontSize=this.$5v?"12px":"11px",u.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI",r.style=u,n.dataLabels=r);this.$5v&&(i={},i.enabled=!0,f={},f.color="#FFFFFF",f.fontSize="12px",i.style=f,$0.$0(t)||$0.$0(!!t.LabelFormatter)?(e=this,i.formatter=function(){return this.point.FormattedValue!=null?this.point.FormattedValue:"0"}):i.formatter=t.LabelFormatter,n.dataLabels=i)},$37d:function(n){var t,r,i;n.neckHeight="20%";n.neckWidth="40%";n.borderWidth=1;n.borderColor="#ffffff";n.showInLegend=!0;t={};t.enabled=!0;t.softConnector=!1;t.distance=1;r=this;t.formatter=function(){return""+this.point.FormattedValue};i={};i.color=this.$5v?"#FFFFFF":"#666666";i.fontSize="11px";i.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI";t.style=i;n.dataLabels=t;this.$2s.chart.marginBottom=62;this.$2s.chart.marginRight=70;this.$2s.chart.marginLeft=35},$36h:function(n){var t,u,r,i;n&&(Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$2Eq(this.$2s.legend,"enabled",n.Enabled),this.$2s.legend.align="left",this.$2s.legend.verticalAlign="bottom",this.$2s.legend.floating=!0,this.$2s.legend.layout=this.$5v?"horizontal":"vertical",t={},t.color=this.$5v?"#FFFFFF":"#000000",t.fontSize=this.$5v?"12px":"11px",t.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI",this.$5v&&(t.fontWeight="normal"),this.$2s.legend.borderWidth=0,this.$2s.legend.itemStyle=t,this.$2s.legend.padding=13,this.$2s.legend.symbolWidth=this.$5v?12:15,this.$2s.legend.symbolPadding=5,this.$2s.legend.x=this.$5v?0:-13,this.$2s.legend.itemMarginTop=this.$5v?10:12,this.$5v&&(this.$2s.legend.enabled=!0,this.$2s.legend.verticalAlign="top",this.$2s.legend.maxHeight=60,u=this,this.$2s.legend.labelFormatter=function(){var t=this.name,n="",i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityContainerControl.SubjectEllipsesText");return $0.$0(t)||(n=t.toString(),n.length>15&&(n=n.substr(0,15-i.length)+i)),n},r={},r.color="#FFFFFF",this.$2s.legend.itemHoverStyle=r,i={},i.activeColor="#FFFFFF",i.inactiveColor="#444444",i.style={},i.style.color="#999999",this.$2s.legend.navigation=i,this.$2s.legend.itemStyle.cursor="default"))},$2UQ:function(){this.$2s.credits.enabled=!1},$37o:function(){var n,t;this.$2s.tooltip.enabled=this.$5v?!0:!1;this.$5v&&(n=this.$2s.series.length&&(this.$2s.series[0].type==="pie"||this.$2s.series[0].type==="funnel")?'Series:"{series.name}"  Point:"{point.name}"<br/> Value: "{point.y}"':'Series:"{series.name}"  Point:"{point.category}"<br/> Value: "{point.y}"',this.$2s.tooltip.pointFormat=n,t="",this.$2s.tooltip.headerFormat=t)},$37Q:function(){(this.$2s.series[0].type==="bar"||this.$2s.series[0].type==="column"||this.$2s.series[0].type==="pie"||this.$2s.series[0].type==="funnel")&&(this.$2s.tooltip.followPointer=!0)},$2xy:function(){var f=0,n,i,t,r,u;if(this.$2s.series&&this.$2s.series.length>0)for(n=0;n<this.$2s.series.length;n++)i=this.$2s.series[n],t=this.$2s.xAxis[n],i.type==="bar"&&(i.data.reverse(),$0.$0(t)||"categories"in t&&t.categories.reverse()),r=null,u=null,i.type==="bar"?(r=this.$2s.yAxis[n],u=t):(r=t,u=this.$2s.yAxis[n]),f=this.$2yc(r,f),this.$2yt(u);this.$2s.CrmConfiguration.maxLengthCategoryName=f},$2yc:function(n,t){var u,f,i,s,e,h,r,o,c;if(!$0.$0(n)){if(u=!1,f="categories"in n,f){if(i=n.categories,i.length<2)return t;if(i.length>15)return s=n.labels,s.enabled=!1,t;for(e=3,i.length>9&&(e=1),h=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityContainerControl.SubjectEllipsesText"),r=0;r<i.length;r++)i[r].length>e&&(this.$5v||i[r].length>20&&(i[r]=i[r].substr(0,17)+h),u=!0,t=t<i[r].length?i[r].length:t)}(u||!f)&&(o=n.labels,c=n.title,o.rotation=this.$5v?-45:270,o.align="right",c.margin=15)}return t},$2yt:function(n){var r,t,e,u,i,f;if(!$0.$0(n)&&"categories"in n){if(r=20,t=n.categories,t.length>31){e=n.labels;e.enabled=!1;return}for(t.length>9&&(r=11),u=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityContainerControl.SubjectEllipsesText"),i=0;i<t.length;i++)t[i].length>r&&(t[i]=t[i].substr(0,r-u.length)+u);this.$5v&&this.$2s.series[0].type==="bar"&&(f=n.labels,f&&(f.rotation=this.$5v?0:270))}},$2WO:function(n,t){var r,f,i;if($0.$0(t))return"#3F94E9";try{var e=this.$21K(n),s=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x)),u=e.$P5;for(r in u)if(f={key:r,value:u[r]},i=f.value,i.$1s===t)return i.$Gq?i.$Gq:"#3F94E9"}catch(o){Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1008,o.message)}return"#3F94E9"},$2WN:function(n,t){var r,f,i;if($0.$0(t))return"#3F94E9";try{var e=this.$21K(n),s=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x)),u=e.$P5;for(r in u)if(f={key:r,value:u[r]},i=f.value,i.$1G===t)return i.$Gq?i.$Gq:"#3F94E9"}catch(o){Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1008,o.message)}return"#3F94E9"},$21K:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$1Ww.$D,n);return $0.$0(t)?null:t.$6S}};Microsoft.Crm.Client.Core.ViewModels.Controls.$CA=function(){this.$$d_$15W=Function.createDelegate(this,this.$15W);Microsoft.Crm.Client.Core.ViewModels.Controls.$CA.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$CA.prototype={$2Z:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$1Ev(this.$$d_$15W);this.$1i0=this.$1G;try{this.$2FP(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$T9())}catch(n){Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1008,n.message)}Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.prototype.$2Z.call(this)},$15W:function(n,t){if(!$0.$0(t)){this.$2FP(t.$O8);return}this.set_Visible(!1)},$Oh:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().remove_$1Ev(this.$$d_$15W);Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$E8=function(){this.$$d_$2po=Function.createDelegate(this,this.$2po);Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.prototype={$2Z:function(){this.$1a||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("LastRetrievedText",this.$$d_$2po);Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this)},get_IsEntityInSkipList:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GG().$21o();return!$0.$0(n)&&n.get_Count()>0&&n.contains(this.$D)},get_IsAppOfflineSyncEnabled:function(){return Xrm.Utility.isAppOfflineSyncEnabled()},get_IsOfflineDataStoreAvailable:function(){return Xrm.Utility.isOfflineDataStoreAvailable()},get_GetEntityOfflineStatus:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GG().$20R(this.$D)},$2po:function(){this.$7("LastRetrievedText")},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("LastRetrievedText",this.$$d_$2po);Microsoft.Crm.Client.Core.ViewModels.$24.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$CB=function(){this.$$d_$2tT=Function.createDelegate(this,this.$2tT);this.$$d_$1lj=Function.createDelegate(this,this.$1lj);Microsoft.Crm.Client.Core.ViewModels.Controls.$CB.initializeBase(this);this.set_ActionCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1lj,1004))};Microsoft.Crm.Client.Core.ViewModels.Controls.$CB.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("DropDialogButton",Microsoft.Crm.Client.Core.ViewModels.Controls.$CB)};Microsoft.Crm.Client.Core.ViewModels.Controls.$CB.prototype={$Y7:null,$11S:null,$vq:null,$Hj:null,$16C:null,$1My:null,set_$29f:function(n){return this.$Y7!==n&&(this.$Y7=n,this.$7("Popup")),n},get_PopupViewModelId:function(){return this.$1My},set_PopupViewModelId:function(n){return this.$1My!==n&&(this.$1My=n,this.$7("PopupViewModelId")),n},get_PopupDefinitionId:function(){return this.$16C},set_PopupDefinitionId:function(n){return this.$16C=n,n},get_DropDialogClosingCommand:function(){return this.$11S},set_DropDialogClosingCommand:function(n){return this.$11S=n,n},get_RequestPopupCommand:function(){return this.$vq},set_RequestPopupCommand:function(n){return this.$vq=n,n},get_RequestCloseCommand:function(){return this.$Hj},set_RequestCloseCommand:function(n){return this.$Hj=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this);this.set_ActionCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1lj,1004));$0.$0(this.$vq)&&(this.$vq=this.$n("RequestDropDialog"));$0.$0(this.$11S)&&(this.$11S=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2tT,1004));$0.$0(this.$Hj)||(this.$Hj=this.$n("RequestClose"))},$1lj:function(){$0.$0(this.$Y7)&&(this.set_$29f(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V("Popup")),this.$Y7.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(this)),Microsoft.Crm.Client.Core.Framework.$3.$9(this.$16C)?(this.set_PopupViewModelId(this.$Y7.get_ViewModelId()),this.$vq.execute()):(this.$Y7.set_DefinitionId(this.$16C),this.$Y7.$2Z()))},$1rz:function(){this.set_$29f(null)},$2tT:function(){$0.$0(this.$Y7)||$0.$0(this.$Hj)||this.$Hj.execute()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$SW=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$SW.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$SW.prototype={$1i0:null,$2FP:function(n){this.set_Label(n>0?String.format(this.$1i0,n.toString()):"");this.set_Visible(n>0)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rp=function(){var n={};return n.marginTop=60,n.marginBottom=78,n.spacingBottom=13,n.spacingLeft=0,n.marginRight=0,n.spacingTop=13,n};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tQ=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tR=function(){var n={};return n.borderRadius=0,n.shadow=!1,n};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tS=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rr=function(){return[]};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rt=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rs=function(){var n=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rt();return n.borderColor="black",n.borderWidth=3,n.color=null,n};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rq=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.$89=function(){this.$$d_$2Ny=Function.createDelegate(this,this.$2Ny);this.$$d_$313=Function.createDelegate(this,this.$313);this.$$d_$30a=Function.createDelegate(this,this.$30a);this.$$d_$1OJ=Function.createDelegate(this,this.$1OJ);this.$$d_$3B1=Function.createDelegate(this,this.$3B1);this.$$d_$1M7=Function.createDelegate(this,this.$1M7);this.$Af=-1;Microsoft.Crm.Client.Core.ViewModels.Controls.$89.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.Controls.$89.initializeBase(this);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$1M7)};Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype={$15q:!1,$1nP:!1,get_OTCAndUIPassed:function(){return this.$15q},set_OTCAndUIPassed:function(n){return this.$15q=n,n},$194:!0,get_VisibleByDefault:function(){return this.$194},set_VisibleByDefault:function(n){return this.$194=n,n},get_LoadButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Mashup_Load")},get_DisplayOnDemandLoadMessage:function(){return Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$MO},$1PD:null,get_ScrollingBehavior:function(){return this.$1PD},set_ScrollingBehavior:function(n){return this.$1PD!==n&&(this.$1PD=n,this.$7("ScrollingBehavior")),n},get_PendingTimeout:function(){return this.$Af},set_PendingTimeout:function(n){return this.$Af!==n&&(this.$Af=n,this.$7("PendingTimeout")),n},$1Ta:!1,get_IsWebResource:function(){return this.$1Ta},set_IsWebResource:function(n){return this.$1Ta=n,n},$Pv:null,get_ParentTabName:function(){return this.$Pv},set_ParentTabName:function(n){return this.$Pv=n,n},$dK:null,get_ParentColumnName:function(){return this.$dK},set_ParentColumnName:function(n){return this.$dK=n,n},$yP:null,get_HostedTabKey:function(){return this.$yP},set_HostedTabKey:function(n){return this.$yP=n,n},get_HasFocus:function(){return Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.get_HasFocus.call(this)},set_HasFocus:function(n){var t,i;return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.$5R!==n&&(this.$5R=n,n&&(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v(this.$Pv),this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,t),$0.$0(this.$yP)||(i=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$yP,"IFrameViewModel"),this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,i)),this.$7("HasFocus"))):Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.set_HasFocus.call(this,n),n},$GV:"",get_UrlSource:function(){return this.$GV},set_UrlSource:function(n){return this.$GV!==n&&(this.$GV=n,this.$7("UrlSource")),n},get_NoDataMessage:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mashup_NoData_Message")},get_IsOfflineWebResourcesRenderingEnabled:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$2og()},$lH:"",$5Y:null,get_Element:function(){return this.$5Y},set_Element:function(n){return this.$5Y=n,n},$1o9:!0,set_$2Ie:function(n){return this.$1o9=n,this.set_Visible(!this.$17r()),n},$1KQ:!1,get_IsXFrameScriptingRestricted:function(){return this.$1KQ},set_IsXFrameScriptingRestricted:function(n){return this.$1KQ!==n&&(this.$1KQ=n,this.$7("IsXFrameScriptingRestricted")),n},$1G9:!1,get_FrameShouldBeRendered:function(){return this.$1G9},set_FrameShouldBeRendered:function(n){return this.$1G9!==n&&(this.$1G9=n,this.$7("FrameShouldBeRendered")),n},$ub:null,get_OnIFrameLoadHandlers:function(){return this.$ub},set_OnIFrameLoadHandlers:function(n){return this.$ub=n,n},$Rr:function(){this.$2Z()},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);(this.$lH===""||this.$lH!==this.$GV)&&(this.set_UrlSource(this.$23V(this.$GV)),this.$lH=this.$GV);$0.$1Y(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().add_$267(this.$$d_$3B1);this.$17r()&&this.set_Visible(!1);$0.$0(this.$2)||(this.$2.$Sg?this.$1OJ(null,null):this.$2.add_$P1(this.$$d_$1OJ),this.$2.add_$gn(this.$$d_$30a))},ScrollParentColumn:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z(this.$dK,n,t);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z,i)},$1OJ:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$1vo(this.$2)&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$t!==3&&!Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$QQ&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$t!==2&&!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$O9()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$1sn()?Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$TB(this.$$d_$313):this.$wZ()},$313:function(){this.$wZ();Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$TB(this.$$d_$313)},$30a:function(){this.set_FrameShouldBeRendered(!1)},$17r:function(){return!Microsoft.Crm.Client.Core.ViewModels.$a.$14U()||!this.$1o9||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().$2oT(this.$lH)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$O9()&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$1sn()},$PH:function(){this.$so&&!$0.$0(this.$5Y)&&this.$5Y.setAttribute("src",this.$GV);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$PH.call(this)},onIFrameLoad:function(){if(Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Nu(this.$2,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2tp()+" "+this.$1G),!$0.$0(this.$ub)&&this.$ub.length>0){var n=new Microsoft.Crm.Client.Core.Models.$JM(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV))(this.$ub),null);Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(n)}Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$MO&&(this.$Af!==-1&&window.clearTimeout(this.$Af),this.set_PendingTimeout(window.setTimeout(this.$$d_$2Ny,5e3)))},$2Ny:function(){window.clearTimeout(this.$Af);this.set_PendingTimeout(-1);Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Nu(this.$2,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$39j()+" "+this.$1G)},$1M7:function(){this.set_Visible(!this.$17r());this.$7("IsServerAvailable")},$23V:function(n){var t,i,r,u;return this.$15q&&(t=this.$2,i=0,n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"orglcid",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$1hz().toString())),n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"orgname",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gq().toString())),n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"userlcid",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$1nS().toString())),$0.$0(t)||t.$g!==2||(r=t.$D,u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r),$0.$0(u)||(i=u.$9p,n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"type",CrmEncodeDecode.CrmUrlEncode(i.toString())),n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"typename",CrmEncodeDecode.CrmUrlEncode(r)),$0.$0(this.get_ModelContext())||(n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"id",Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(this.get_ModelContext().get_Id())))))),this.$1nP=!0,n},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$1M7);$0.$1Y(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().remove_$267(this.$$d_$3B1);$0.$0(this.$2)||(this.$2.remove_$P1(this.$$d_$1OJ),this.$2.remove_$gn(this.$$d_$30a),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$TB(this.$$d_$313));this.$Af!==-1&&(window.clearTimeout(this.$Af),this.set_PendingTimeout(-1));Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$Hd:function(){this.$15q&&!$0.$0(this.get_ModelContext())&&$0.$0(Microsoft.Crm.Client.Core.Framework.Utils.$19.$225(this.$GV,"id"))&&(this.set_UrlSource(Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(this.$GV,"id",Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(this.get_ModelContext().get_Id()))),this.$1nP&&(this.$lH=this.$GV));Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this)},$3B1:function(){this.set_Visible(!this.$17r())},captureOnDemandLoadMemorySnapshot:function(){Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Nu(this.$2,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$27b()+" "+this.$1G)},$wZ:function(){$0.$1Y(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().$2zu(this.$1P);this.set_FrameShouldBeRendered(!this.get_DisplayOnDemandLoadMessage())},$EP:function(n,t){this.$1OJ(null,null);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)}};Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel.prototype={$qr:"",get_CustomParameter:function(){return this.$qr},set_CustomParameter:function(n){return this.$qr!==n&&(this.$qr=n,this.$7("UrlSource")),n},$17r:function(){return!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$FN.$3F5("4156db68-93e2-4a83-8cbb-5bb344ebaf47")||Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$17r.call(this)},$23V:function(n){return n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$Hp()+"/WebResources/"+n,Microsoft.Crm.Client.Core.Framework.$3.$9(this.$qr)||(n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"data",CrmEncodeDecode.CrmUrlEncode(this.$qr))),Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$23V.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel=function(){this.$$d_$2zS=Function.createDelegate(this,this.$2zS);Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel.initializeBase(this);this.$WZ()};Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel.prototype={$cp:null,get_AuthResource:function(){return this.$cp},set_AuthResource:function(n){return this.$cp=n,n},$W2:0,get_PowerBIComponentTypeCode:function(){return this.$W2},set_PowerBIComponentTypeCode:function(n){return this.$W2=n,n},$1AB:null,get_IntegrationsSiteDomain:function(){return this.$1AB},set_IntegrationsSiteDomain:function(n){return this.$1AB=n,n},$Po:null,get_IntegrationsUrl:function(){return this.$Po},set_IntegrationsUrl:function(n){return this.$Po=n,n},$Sd:null,get_PowerBIGroupId:function(){return this.$Sd},set_PowerBIGroupId:function(n){return this.$Sd=n,n},$Sc:null,get_PowerBIDashboardId:function(){return this.$Sc},set_PowerBIDashboardId:function(n){return this.$Sc=n,n},$dL:null,get_PowerBIReportId:function(){return this.$dL},set_PowerBIReportId:function(n){return this.$dL=n,n},$dM:null,get_PowerBITileId:function(){return this.$dM},set_PowerBITileId:function(n){return this.$dM=n,n},$in:null,get_PowerBIReportUrl:function(){return this.$in},set_PowerBIReportUrl:function(n){return this.$in=n,n},$2Z:function(){this.$2.$g===50&&("externalContextPowerBIUrl"in this.$2.$K.$M&&(this.$Po=this.$2.$K.$M.externalContextPowerBIUrl),"groupId"in this.$2.$K.$M&&(this.$Sd=this.$2.$K.$M.groupId),"dashboardId"in this.$2.$K.$M&&(this.$Sc=this.$2.$K.$M.dashboardId),"tileId"in this.$2.$K.$M&&(this.$dM=this.$2.$K.$M.tileId),"reportId"in this.$2.$K.$M&&(this.$dL=this.$2.$K.$M.reportId),"reportEmbedUrl"in this.$2.$K.$M&&(this.$in=this.$2.$K.$M.reportEmbedUrl),"powerBIComponentType"in this.$2.$K.$M&&(this.$W2=this.$2.$K.$M.powerBIComponentType));Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$2Z.call(this)},$Oh:function(){this.$30Z();Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$Oh.call(this)},$WZ:function(){$(window.self).bind("message",this.$$d_$2zS)},$30Z:function(){$(window.self).unbind("message",this.$$d_$2zS)},$2zS:function(n){var f=n.originalEvent,e=f.origin,u,t,o;if(!Microsoft.Crm.Client.Core.Framework.$3.$9(e)){var i=new Microsoft.Crm.Client.Core.Framework.Net.Uri(this.$Po),s=(i.$hY+i.$Z4+i.$mg).toLowerCase(),r=new Microsoft.Crm.Client.Core.Framework.Net.Uri(e),h=(r.$hY+r.$Z4+r.$mg).toLowerCase();if(s===h){try{u=JSON.parse(f.data)}catch(c){return}if(u.componentId===this.$1P&&(t=u.powerBIEventData,!$0.$0(t))){o=t.event;switch(o){case"tileClicked":this.$2l8(t);break;case"TileClick":this.$2kM(t)}}}}},$2l8:function(n){if(this.$2.$g!==50){var t=n.openReport,u=t.reportId,i=t.embedUrl,r=null;Microsoft.Crm.Client.Core.Framework.$3.$9(i)||(r=this.$1wy(i));this.$28r(this.$Po,this.$Sd,this.$Sc,this.$dM,u,r,0)}},$2kM:function(n){var t=n.reportEmbedUrl,u=n.tileId,h=this.$2Yx(u),f=null,e=null,o,r;if(!Microsoft.Crm.Client.Core.Framework.$3.$9(t)){e=this.$1wy(t);o=new Microsoft.Crm.Client.Core.Framework.Net.Uri(t);for(var s=o.$1V.split("&"),c=s.length,i=0;i<c;++i)r=s[i],r.startsWith("reportId=")&&(f=r.substr(9))}this.$28r(h,this.$Sd,this.$Sc,u,f,e,0)},$2Yx:function(n){for(var i,r,u=new Microsoft.Crm.Client.Core.Framework.Net.Uri(this.$Po),t="",e=u.$1V.split("&"),o=e.length,f=0;f<o;++f)i=e[f],i.startsWith("powerBIUrl=")?(r=i.substr(11),r=r.replace("dashboardEmbed","embed"),r+=CrmEncodeDecode.CrmUrlEncode("&tileId="+n),t+="powerBIUrl="+r):t+=i.startsWith("mode=")?"mode=tile":i,t+="&";return t=t.substring(0,t.length-1),u.$hY+"://"+u.$jO+u.$WE+"?"+t},$1wy:function(n){for(var r,i=new Microsoft.Crm.Client.Core.Framework.Net.Uri(this.$Po),t="",f=i.$1V.split("&"),e=f.length,u=0;u<e;++u)r=f[u],t+=r.startsWith("powerBIUrl=")?"powerBIUrl="+CrmEncodeDecode.CrmUrlEncode(n):r.startsWith("mode=")?"mode=report":r,t+="&";return t=t.substring(0,t.length-1),i.$hY+"://"+i.$jO+i.$WE+"?"+t},$28r:function(n,t,i,r,u,f,e){var o=new Microsoft.Crm.Client.Core.Commands.$2R(null,50);o.$x={};o.$x.externalContextPowerBIUrl=n;o.$x.groupId=t;o.$x.dashboardId=i;o.$x.tileId=r;o.$x.reportId=u;o.$x.reportEmbedUrl=f;o.$x.powerBIComponentType=e;o.execute()},$wZ:function(){var n,t;if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Po)){if(n=new Date,this.set_UrlSource(this.$Po+"&componentId="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$nt(this.$1P)+"&reactDiffBuster="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$nt(n.getUTCMilliseconds().toString())),!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Rn){this.set_UrlSource(this.$GV.replace("client=moca","client=web"));Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$wZ.call(this);return}t=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Cp.beginSecureSessionForResource(this.$cp,this.$1P,this.$1AB,function(n){n&&Microsoft.Crm.Client.Core.Framework.Trace.logWarning(2010,"Failed to get token. Error code: "+n);Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$wZ.call(t)})}},$17r:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$14a||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ld||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$gI||Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Rn&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("AuthenticatedMashups")||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$BX=function(){this.$$d_$1qM=Function.createDelegate(this,this.$1qM);this.$N6=-1;Microsoft.Crm.Client.Core.ViewModels.Controls.$BX.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$BX.prototype={$1Vm:!1,$cp:null,get_AuthResource:function(){return this.$cp},set_AuthResource:function(n){return this.$cp=n,n},$LF:null,get_ViewName:function(){return this.$LF},set_ViewName:function(n){return this.$LF=n,n},$xn:null,get_AppUrl:function(){return this.$xn},set_AppUrl:function(n){return this.$xn=n,n},$2Z:function(){this.$1Vm||(this.$317(),this.$17m("viewname",this.$LF),this.$17m("filterkey","crmrecordid"),this.$17m("filtervalue",this.$2.get_ModelContext().get_Id().toString().replace("{","").replace("}","").toLowerCase()));Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$2Z.call(this)},$wZ:function(){if(!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Rn){Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$wZ.call(this);return}this.$1qM()},$1qM:function(){var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Cp.beginSecureSessionForResource(this.$cp,this.$1P,"dfdapps.projectuic-int.net",function(t,i){try{n.$17m("tokenkeyname",n.$1P);Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$wZ.call(n);var r=new Date(i),u=new Date;n.$N6!==-1&&window.clearTimeout(n.$N6);n.$N6=window.setTimeout(n.$$d_$1qM,r-u-6e4)}catch(f){Microsoft.Crm.Client.Core.Framework.Trace.logException(1004,f,"Encountered exception while requesting Token for Auth Resource from shim")}})},$17m:function(n,t){this.set_UrlSource(Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(this.$GV,n,t))},$317:function(){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$xn)){var n=Microsoft.Crm.Client.Core.Framework.Net.Uri.parse(this.$GV);this.set_UrlSource(this.$GV.replace(n.$Z4,this.$xn));this.$1Vm=!0}},$2qu:function(){this.$1OJ(null,null)},$Oh:function(){this.$N6!==-1&&window.clearTimeout(this.$N6);Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2i=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.get_instance=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.$C)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.$C=new Microsoft.Crm.Client.Core.ViewModels.Controls.$2i,Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.$C.$2Z()),Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.$C};Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.prototype={IsEnabled:!1,$CJ:null,get_ThemingBag:function(){return this.$CJ},set_ThemingBag:function(n){return this.$CJ=n,n},$1Af:null,get_NavBarBackgroundColor:function(){return this.$1Af},set_NavBarBackgroundColor:function(n){return this.$1Af=n,n},$1Aw:null,get_ProcessControlColor:function(){return this.$1Aw},set_ProcessControlColor:function(n){return this.$1Aw=n,n},$y9:null,get_DefaultEntityColor:function(){return this.$y9},set_DefaultEntityColor:function(n){return this.$y9=n,n},$y8:null,get_DefaultCustomEntityColor:function(){return this.$y8},set_DefaultCustomEntityColor:function(n){return this.$y8=n,n},$1A4:null,get_GlobalLinkcolor:function(){return this.$1A4},set_GlobalLinkcolor:function(n){return this.$1A4=n,n},$1BB:null,get_SelectedLinkEffect:function(){return this.$1BB},set_SelectedLinkEffect:function(n){return this.$1BB=n,n},$1AA:null,get_HoverLinkEffect:function(){return this.$1AA},set_HoverLinkEffect:function(n){return this.$1AA=n,n},$1Ag:null,get_NavbarShelfColor:function(){return this.$1Ag},set_NavbarShelfColor:function(n){return this.$1Ag=n,n},$1Ao:null,get_PanelHeaderBackgroundColor:function(){return this.$1Ao},set_PanelHeaderBackgroundColor:function(n){return this.$1Ao=n,n},$1Am:null,get_PageHeaderBackgroundColor:function(){return this.$1Am},set_PageHeaderBackgroundColor:function(n){return this.$1Am=n,n},$1A8:null,get_HeaderColor:function(){return this.$1A8},set_HeaderColor:function(n){return this.$1A8=n,n},$19d:null,get_ControlShade:function(){return this.$19d},set_ControlShade:function(n){return this.$19d=n,n},$19c:null,get_ControlBorder:function(){return this.$19c},set_ControlBorder:function(n){return this.$19c=n,n},$1Ac:null,get_MainColor:function(){return this.$1Ac},set_MainColor:function(n){return this.$1Ac=n,n},$19H:null,get_AccentColor:function(){return this.$19H},set_AccentColor:function(n){return this.$19H=n,n},getEntityColor:function(n){if($0.$0(n))return null;var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?null:$0.$0(t.$kL)?t.$CW?this.$y8:this.$y9:t.$kL},$2fg:function(){var n={};return n.navbarbackgroundcolor="#002050",n.navbarshelfcolor="#DFE2E8",n.panelheaderbackgroundcolor="#E0E0E0",n.pageheaderbackgroundcolor="#F3F3F3",n.headercolor="#1160B7",n.globallinkcolor="#1160B7",n.selectedlinkeffect="#B1D6F0",n.hoverlinkeffect="#D7EBF9",n.processcontrolcolor="#0755BE",n.defaultentitycolor="#001CA5",n.defaultcustomentitycolor="#006551",n.controlshade="#F3F1F1",n.controlborder="#CCCCCC",n.maincolor="#FFFFFF",n.accentcolor="#FFFFFF",n},$21y:function(){var u={},i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$1EB,f,r,t,n;if($0.$0(i)||!i.trim().length)return null;for(f=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(i),r=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(f).$62("/theme/*"),t=0;t<r.get_$s();t++)n=r.get_$R(t),Microsoft.Crm.Client.Core.Framework.$3.$9(n.get_$FQ())||$0.$0(n.get_$p())||(u[n.get_$FQ()]=n.get_$p());return u},$2Z:function(){this.$CJ=this.$21y();$0.$0(this.$CJ)&&(this.$CJ=this.$2fg());this.$y8=this.$CJ.defaultcustomentitycolor;this.$1Af=this.$CJ.navbarbackgroundcolor;this.$1Aw=this.$CJ.processcontrolcolor;this.$y9=this.$CJ.defaultentitycolor;this.$1A4=this.$CJ.globallinkcolor;this.$1BB=this.$CJ.selectedlinkeffect;this.$1AA=this.$CJ.hoverlinkeffect;this.$1Ag=this.$CJ.navbarshelfcolor;this.$1Ao=this.$CJ.panelheaderbackgroundcolor;this.$1Am=this.$CJ.pageheaderbackgroundcolor;this.$1A8=this.$CJ.headercolor;this.$19d=this.$CJ.controlshade;this.$19c=this.$CJ.controlborder;this.$1Ac=this.$CJ.maincolor;this.$19H=this.$CJ.accentcolor}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E=function(n,t,i,r){Microsoft.Crm.Client.Core.Framework.Trace.$Hu>=4&&Microsoft.Crm.Client.Core.Framework.$8.$1E(n+"_"+r,t,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(i))};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u=function(n,t,i,r){Microsoft.Crm.Client.Core.Framework.Trace.$Hu>=2&&Microsoft.Crm.Client.Core.Framework.$8.$u(n+"_"+r,t,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(i))};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B=function(n,t,i,r){Microsoft.Crm.Client.Core.Framework.Trace.$Hu>=5&&Microsoft.Crm.Client.Core.Framework.$8.$B(n+"_"+r,t,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(i))};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z=function(n,t,i,r){Microsoft.Crm.Client.Core.Framework.Trace.$Hu>=1&&Microsoft.Crm.Client.Core.Framework.$8.$4z(n+"_"+r,t,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(i))};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1fy=function(n,t,i,r,u){Microsoft.Crm.Client.Core.Framework.Trace.$Hu>=1&&Microsoft.Crm.Client.Core.Framework.$8.$1fy(n+"_"+u,t,i,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(r))};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR=function(n){var i,r,u,t,f;if($0.$0(n))return"";i="";r=n;for(u in r)t={key:u,value:r[u]},f="",f=$0.$0(t.value)?null:Object.getType(t.value).getName()==="Object"?"{"+Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(t.value)+"}":t.value.toString(),i+=t.key+"="+f+";";return i};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Builders");Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder=function(){this.$$d_$Ji=Function.createDelegate(this,this.$Ji);this.$$d_$2FO=Function.createDelegate(this,this.$2FO);Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder.$$cctor=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder,t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6();t.$AL("DynamicsDialog",n.$$d_$6f,n.$$d_$2FO,n.$$d_$Ji)};Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder.prototype={$1Dw:function(){return new Microsoft.Crm.Client.Core.ViewModels.$CD},$2FO:function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$uq(n)},$Ji:function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(n)}};Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder=function(){this.$$d_$1rz=Function.createDelegate(this,this.$1rz);this.$$d_$1lj=Function.createDelegate(this,this.$1lj);Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder.$$cctor=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder,t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6();t.$AL("Popup",n.$$d_$6f,n.$$d_$1lj,n.$$d_$1rz)};Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder.prototype={$1Dw:function(){return new Microsoft.Crm.Client.Core.ViewModels.$SU},$1lj:function(n){var t=n,i=t.$K.$8n;i.$1lj()},$1rz:function(n){var t=n,i=t.$K.$8n;i.$1rz()}};Type.registerNamespace("Microsoft.Crm.Client.Core.Commands");Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand=function(n,t,i){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$2o=n;this.$1Xj=t;this.$1Uv=i};Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ActivateItem",Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.$n)};Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.$n=function(n,t){var i=null,r,u;return"ContainerName"in t.InitializationParameters&&"ItemName"in t.InitializationParameters&&(r=t.InitializationParameters.ContainerName,u=t.InitializationParameters.ItemName,i=new Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand(n,r,u)),i};Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.prototype={$zX:null,$1Xj:null,$1Uv:null,$2o:null,$2E:function(){this.$zX||(this.$zX=this.$2o.get_$AH().$67(this.$1Xj));$0.$0(this.$zX)?Microsoft.Crm.Client.Core.Framework.$8.$1E("ActivateItemChangedCommand",1004,"Did not activeItemContainerViewModel"):this.$zX.set_ActiveItemName(this.$1Uv)}};Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$A=n};Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ChartSeriesClickCommand",Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.$n)};Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.$n=function(n){return new Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand(n)};Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.prototype={$A:null,get_$1EL:function(){return this.$Hn?this.$Hn.Aggregators:null},$86:function(){this.$Hn=null},$Hn:null,$2E:function(){}};Microsoft.Crm.Client.Core.Commands.ControlCommand=function(n,t,i){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ControlCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$A=n;this.$T=i;this.$Jj=this.$T[t];this.set_CanExecute(!1);$0.$0(this.$Jj)||this.set_CanExecute(this.$Jj.get_CanExecute())};Microsoft.Crm.Client.Core.Commands.ControlCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ControlCommand",Microsoft.Crm.Client.Core.Commands.ControlCommand.$n)};Microsoft.Crm.Client.Core.Commands.ControlCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ControlCommand(n,t.InitializationParameters.CommandPropertyName,t.InitializationParameters.TargetViewModel)};Microsoft.Crm.Client.Core.Commands.ControlCommand.prototype={$A:null,$T:null,$Jj:null,$Oh:function(){this.$Jj=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)},$2E:function(){if(!$0.$0(this.$Jj))try{this.$Jj.execute()}catch(n){Microsoft.Crm.Client.Core.Framework.$8.$1E("OnExecute_CommandDoesNotExist",1004,null)}}};Microsoft.Crm.Client.Core.Commands.$A3=function(n){Microsoft.Crm.Client.Core.Commands.$A3.initializeBase(this,[n,1])};Microsoft.Crm.Client.Core.Commands.$A3.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ListNavigation",Microsoft.Crm.Client.Core.Commands.$A3.$n)};Microsoft.Crm.Client.Core.Commands.$A3.$n=function(n){return new Microsoft.Crm.Client.Core.Commands.$A3(n)};Microsoft.Crm.Client.Core.Commands.$A3.prototype={$Os:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2s6()}};Microsoft.Crm.Client.Core.Commands.NavigationCommand=function(n,t){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.NavigationCommand.initializeBase(this);this.$A=n;this.$MU=t;this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype={$MU:-1,$T:null,$A:null,$1d3:!1,get_$HY:function(){return this.$MU},get_$1RF:function(){return this.$T},$1Zk:function(){var i,n,r;Microsoft.Crm.Client.Core.Framework.Utils.$A.$1RL(this.get_CanExecute(),!0,"Can't raise command when canExecute is false.");Microsoft.Crm.Client.Core.Framework.Utils.$A.$16(this.$TE_2,"Can't raise command when no execute command is specified.");Microsoft.Crm.Client.Core.Framework.Utils.$A.$18a(this.$N7,"Can't raise command when TraceComponent is undefinded.");try{return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL().collapse(),(i=Microsoft.Crm.Client.Core.Framework.Scheduler).set_HighPriorityBrowserAsyncWorkCount(Microsoft.Crm.Client.Core.Framework.Scheduler.$Ii+1),this.$2te()}catch(t){return Microsoft.Crm.Client.Core.Framework.Trace.logException(this.$N7,t,"Unhandled exception while executing Command."),n=MscrmComponents.DeferredPromiseFactory(Object,Error),n.reject(t),n.promise()}finally{r=this;window.setTimeout(function(){var n;(n=Microsoft.Crm.Client.Core.Framework.Scheduler).set_HighPriorityBrowserAsyncWorkCount(Microsoft.Crm.Client.Core.Framework.Scheduler.$Ii-1)},0)}},$Os:function(){switch(this.$MU){case 0:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2F6(2,!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Bc(this.$A);break;case 2:case 3:case 4:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Z6().raiseEvent(Microsoft.Crm.Client.Core.Framework.$35,this);return}Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().raiseEvent(Microsoft.Crm.Client.Core.Framework.$35,this)},$2E:function(){this.$1Zk()},$2te:function(){var t=MscrmComponents.DeferredPromiseFactory(Object,Error),r,i,e,u,f,n;return this.$1d3=!0,r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),i=r.get_PrimaryConductor().get_$33(),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(i)&&this.$MU!==3&&!r.$Z5?(e=i,u=this,e.$28B(this).done(function(n){n&&u.$Os();u.$11i(t)})):Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(i)&&this.$MU!==3&&r.$Z5?(f=i,n=this,f.$28B(this).done(function(i){i?Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$38A(n)?Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$2XH(n).done(function(i){i?n.$Os():Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HK().$1nC(f);n.$11i(t)}):(n.$Os(),n.$11i(t)):n.$11i(t)})):(this.$Os(),this.$11i(t)),t.promise()},$11i:function(n){this.$T=null;n.resolve()},$Oh:function(){this.$1d3||(this.$T=null);Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand=function(n,t){this.$$d_$27E=Function.createDelegate(this,this.$27E);this.$$d_$26s=Function.createDelegate(this,this.$26s);this.$$d_$1Ly=Function.createDelegate(this,this.$1Ly);this.$$d_$1Lz=Function.createDelegate(this,this.$1Lz);this.$$d_$28f=Function.createDelegate(this,this.$28f);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.initializeBase(this,[n,t]);this.set_$1z(this.$$d_$2E);this.AddPropertyChangedListener("Target",this.$$d_$28f)};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("DocumentsUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$n=function(n,t){var r="",u="",i;return"protocol"in t.InitializationParameters&&(r=t.InitializationParameters.protocol),"target"in t.InitializationParameters&&(u=t.InitializationParameters.target),i=new Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand(r,u),"CommandName"in t.InitializationParameters&&(i.$6Y=t.InitializationParameters.CommandName),i};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2Lo=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"https://itunes.apple.com/app/{0}":"market://details?id={0}"};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2ta=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"id410395246":"com.microsoft.office.onenote"};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$3D9=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"id586447913":"com.microsoft.office.word"};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2xz=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"id586449534":"com.microsoft.office.powerpoint"};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2Vn=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"id586683407":"com.microsoft.office.excel"};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$21Y=function(n){switch(n){case"one":case"onetoc":case"onetoc2":return"onenote:";case"docx":case"docm":case"dotx":case"dotm":case"doc":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$1fA()?"office:":"ms-word:";case"pptx":case"pptm":case"potx":case"potm":case"ppam":case"ppsx":case"ppsm":case"ppt":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$1fA()?"office:":"ms-powerpoint:";case"xlsx":case"xlsm":case"xltx":case"xltm":case"xlsb":case"xlam":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$1fA()?"office:":"ms-excel:";default:return""}};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$1fA=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$gH&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$14a||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ld)};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.prototype={$kG:null,$28f:function(n,t){n===this&&t==="Target"&&Microsoft.Crm.Client.Core.Framework.$3.$12(this.$C7)?this.set_CanExecute(!1):this.set_CanExecute(!0)},$2E:function(){if(this.$kG=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()&&this.$2op(this.$GM)?encodeURI(String.format("{0}ofe|u|{1}|p|ms-dynamicsxrm",this.$GM,this.$C7)):this.$GM+encodeURI(this.$C7),!this.$2pE()){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(encodeURI(this.$C7));return}this.$3CG()?Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$1Cv(this.$kG,this.$$d_$1Lz,this.$$d_$1Ly):window.location.href=this.$kG:Microsoft.Crm.Client.Core.ViewModels.$Q.$17u("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("OneNoteNotSupported"),2)},$2op:function(n){switch(n){case"ms-excel:":case"ms-word:":case"ms-powerpoint:":return!0;default:return!1}},$3CG:function(){switch(this.$GM){case"onenote:":return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$2lV();case"ms-excel:":case"ms-word:":case"ms-powerpoint:":return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$2lT();default:return!1}},$2pE:function(){switch(this.$GM){case"onenote:":case"ms-excel:":case"ms-word:":case"ms-powerpoint:":return!0;default:return!1}},$1Ly:function(n){!$0.$0(n)},$1Lz:function(n){var i,t;if(n)this.$1lc()?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$mS(this.$kG,this.$$d_$26s,this.$$d_$1Ly):window.location.href=this.$kG;else if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$t6())i=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel,i.$DZ=0,i.$AG=2,i.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("OfficeDocumentsIntuneErrorText")),i.Show();else{t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;t.$DZ=1;t.set_Message("");t.$AG=0;t.$C2=this.$$d_$27E;switch(this.$GM){case"onenote:":t.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("OneNoteInstallConfirmDialogTitle");t.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GetOneNoteOkButtonText");break;case"ms-word:":t.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("WordInstallConfirmDialogTitle");t.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GetWordOkButtonText");break;case"ms-excel:":t.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ExcelInstallConfirmDialogTitle");t.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GetExcelOkButtonText");break;case"ms-powerpoint:":t.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PowerPointInstallConfirmDialogTitle");t.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GetPowerPointOkButtonText")}t.$Gm=null;t.Show()}},$26s:function(){},$27E:function(){var n=String.format(Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2Lo(),this.$2eT());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$mS(n,this.$$d_$26s,this.$$d_$1Ly)},$2eT:function(){switch(this.$GM){case"onenote:":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2ta();case"ms-word:":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$3D9();case"ms-powerpoint:":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2xz();case"ms-excel:":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2Vn();default:return""}}};Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand=function(n,t,i,r){Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand.initializeBase(this,[n,t,i,r])};Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand.prototype={$Os:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(40));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$mR(n);n.set_PrimaryModelName(this.$D);n.set_DefinitionId(n.$D);n.$q=this.$q;n.$6i=1;n.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(this.$X7,this.$TG));n.$2Z();this.$T=n;!$0.$0(this.$8e)&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$T)&&(this.$T.$8e=this.$8e);$0.$0(this.$J)||n.add_$1j7(this.$J);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().raiseEvent(Microsoft.Crm.Client.Core.Framework.$35,this)}};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand=function(n,t){this.$$d_$27E=Function.createDelegate(this,this.$27E);this.$$d_$26s=Function.createDelegate(this,this.$26s);this.$$d_$1Ly=Function.createDelegate(this,this.$1Ly);this.$$d_$1Lz=Function.createDelegate(this,this.$1Lz);this.$$d_$28f=Function.createDelegate(this,this.$28f);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.initializeBase(this,[n,t]);this.$2mt();this.set_$1z(this.$$d_$2E);this.AddPropertyChangedListener("Target",this.$$d_$28f)};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SkypeUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$n=function(n,t){var r="",u="",i;return"protocol"in t.InitializationParameters&&(r=t.InitializationParameters.protocol),"target"in t.InitializationParameters&&(u=t.InitializationParameters.target),i=new Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand(r,u),"CommandName"in t.InitializationParameters&&(i.$6Y=t.InitializationParameters.CommandName),i.$2=n.get_Root(),i};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$QK=function(n,t,i){var u=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t),i),f={partyid:u},e=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(e,f,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return r.$4w.add("partyid"),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([r],!1,1,!1)};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.prototype={$aS:null,$xG:null,$FI:null,$hI:null,$Uo:null,$16g:null,$Pa:null,$2:null,$hD:0,$2jP:function(){return this.get_$1nZ()&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?"https://itunes.apple.com/app/id605841731":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"https://itunes.apple.com/app/id442012681":"market://details?id=com.skype.raider"},$2mt:function(){this.$hD=Microsoft.Crm.Client.Core.Framework.$6.get_$3A()||Microsoft.Crm.Client.Core.Framework.$6.get_$4U()?0:this.get_$1nZ()?Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$14a||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ld||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By?0:2:1},$28f:function(n,t){n===this&&t==="Target"&&Microsoft.Crm.Client.Core.Framework.$3.$12(this.$C7)?this.set_CanExecute(!1):this.set_CanExecute(!0)},$2E:function(){var n,t;this.$aS={};this.$aS.directioncode=1;this.$aS.phonenumber=this.$C7;this.$aS.from=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$QK("systemuser",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$CD);n=this.$2OE();this.$aS.to=!$0.$0(this.$xG)&&n?this.$xG:null;this.$16g=null;Microsoft.Crm.Client.Core.Framework.$3.$12(this.$FI)||Microsoft.Crm.Client.Core.Framework.$3.$12(this.$Uo)||$0.$0(this.$hI)||!n||(this.$16g=new Xrm.Objects.EntityReference(this.$Uo,new Microsoft.Crm.Client.Core.Framework.Guid(this.$FI),this.$hI));t=new Mscrm.$MI;this.$Pa=t.$1WM(this.$C7,this.get_$1sm(),this.get_$2AD());Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$1Cv(this.$Pa,this.$$d_$1Lz,this.$$d_$1Ly):(Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||Xrm.Utility.create("phonecall",this.$16g,null,this.$aS,null,null),Microsoft.Crm.Client.Core.Framework.$6.get_$f()?window.open(this.$Pa):window.location.href=this.$Pa)},$2OE:function(){if(!$0.$0(this.$Uo)){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$Uo);if(!$0.$0(n))return n.$R1}return!1},get_$1sm:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$119},get_$1nZ:function(){return!Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$1S2},get_$2AD:function(){var n="";switch(this.$hD){case 0:n=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.toString(0);break;case 2:n=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.toString(2);break;case 1:n=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.toString(1);break;case 3:n=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.toString(1);break;default:n=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.toString(1)}return n},$1Ly:function(n){!$0.$0(n)},$1Lz:function(n){n?(Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||Xrm.Utility.create("phonecall",this.$16g,null,this.$aS,null,null),this.$1lc()?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$mS(this.$Pa,this.$$d_$26s,this.$$d_$1Ly):window.location.href=this.$Pa):Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?this.$hD!==3?(this.$hD=3,this.$2E()):this.$1hv("SkypeConfirmDialogTitle","GetSkypeButtonText"):this.get_$1nZ()?this.$1hv("SFBConfirmDialogTitle","GetSFBButtonText"):this.$1hv("SkypeConfirmDialogTitle","GetSkypeButtonText")},$1hv:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;i.$DZ=1;i.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n);i.set_Message("");i.$AG=0;i.$C2=this.$$d_$27E;i.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(t);i.$Gm=this.$$d_$26s;i.Show()},$26s:function(){},$27E:function(){var n=this.$2jP();Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$mS(n,this.$$d_$26s,this.$$d_$1Ly)}};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k=function(){};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.prototype={tel:0,skype:1,SFB:2,fallBack:3};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.registerEnum("Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k",!1);Microsoft.Crm.Client.Core.Commands.SignOutCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.SignOutCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.SignOutCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SignOutCommand",Microsoft.Crm.Client.Core.Commands.SignOutCommand.$n)};Microsoft.Crm.Client.Core.Commands.SignOutCommand.$n=function(){return new Microsoft.Crm.Client.Core.Commands.SignOutCommand};Microsoft.Crm.Client.Core.Commands.SignOutCommand.prototype={$2E:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1nX().$2FY()}};Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.initializeBase(this,[null,n]);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By&&!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.get_$2UZ().get_$2lN()?this.set_CanExecute(!1):(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?(this.$GM="http:",this.$18W="//maps.apple.com/?q="):Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?(this.$GM="geo:",this.$18W="0,0?q="):(this.$GM="bingmaps:",this.$18W="?where="),this.set_$1z(this.$$d_$2E))};Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("MapsUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.$n=function(n,t){var r="",i;return"target"in t.InitializationParameters&&(r=t.InitializationParameters.target),i=new Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand(r),"CommandName"in t.InitializationParameters&&(i.$6Y=t.InitializationParameters.CommandName),i};Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.prototype={$18W:null,$2E:function(){$0.$0(this.$C7)||this.$mS(this.$GM+this.$18W+this.$C7)}};Microsoft.Crm.Client.Core.Commands.$AO=function(n,t,i){var r=this;Microsoft.Crm.Client.Core.Commands.$AO.initializeBase(this,[n,t,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),"IsServerAvailable",function(){return $0.$0(i)?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F():i()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()}])};Microsoft.Crm.Client.Core.Commands.$AO.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OnlineCommand",Microsoft.Crm.Client.Core.Commands.$AO.$n)};Microsoft.Crm.Client.Core.Commands.$AO.$n=function(n,t){var i="TraceComponent",r="ExecuteCommand",e=!$0.$0(n),u=!$0.$0(t),f=u&&!$0.$0(t.InitializationParameters),o=f&&i in t.InitializationParameters,s=f&&r in t.InitializationParameters;if(!e||!u||!o||!s)return null;var h=t.InitializationParameters[r],c=t.InitializationParameters[i];return new Microsoft.Crm.Client.Core.Commands.$AO(h,c)};Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand=function(n,t,i,r){this.$$d_$k2=Function.createDelegate(this,this.$k2);Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.initializeBase(this,[n,i===40?1:i===14?3:2]);this.$X7=n;this.$D=$0.$0(t)?this.$X7.get_$1u():t;this.$J=this.$$d_$k2;$0.$0(i)||(this.$Jk=i);$0.$0(r)||(this.$TG=r)};Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenCreateForm",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1J0=function(){return Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$1Nb<10};Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$n=function(n,t){var r=n.get_$1u(),i=t.InitializationParameters.externalParameters;return $0.$0(i)&&(i={}),$0.$0(t.InitializationParameters.PrimaryModelName)||(r=t.InitializationParameters.PrimaryModelName),$0.$0(t.InitializationParameters.TargetViewModel)||(i.RefreshContext=t.InitializationParameters.TargetViewModel),new Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand(n.get_TargetViewModel(),r,t.InitializationParameters.CreateFormType,i)};Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.prototype={$X7:null,$D:null,$J:null,$1b:null,$Jk:5,$q:null,$TG:null,$8e:null,$J2:null,$k2:function(){if(!$0.$0(this.$TG)&&!$0.$0(this.$TG.RefreshContext)){var n=this.$TG.RefreshContext;(Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.isInstanceOfType(n))&&(n=n.get_$AH());n.$Rr()}},$Os:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("OpenCreateForm::"+this.$D,1);var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(this.$Jk));n.set_PrimaryModelName(this.$D);n.set_DefinitionId(n.$D);n.$q=this.$q;n.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(this.$X7,this.$TG));n.$2Z();$0.$0(this.$J)||n.add_$1j7(this.$J);$0.$0(this.$1b)||n.add_$2Ab(this.$1b);n.$J2=this.$J2;this.$T=n;!$0.$0(this.$8e)&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$T)&&(this.$T.$8e=this.$8e);Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$1Nb+=1;Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Os.call(this)}};Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand=function(n){this.$$d_$He=Function.createDelegate(this,this.$He);Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.initializeBase(this,[n,1])};Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenDashboardCommand",Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.get_$Y=function(){return Microsoft.Crm.Client.Core.Framework.$q.$4t("","OpenDashboardCommand")};Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$n=function(n,t){var u=t.InitializationParameters,i=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(n),o,f,r;if($0.$0(u.ExternalContextParameters)||(i.$x=u.ExternalContextParameters),$0.$0(u.PrimaryModelName)||(i.$D=u.PrimaryModelName),(!!n&n.get_$1u()==="dashboard")?(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(Microsoft.Crm.Client.Core.Framework.$6.get_$f()?37:1,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),i.$1W,1,!1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$2Tq().toString()),Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.get_$Y()),o.then(function(n){i.$1W=$0.$0(n.get_$R(0))?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$1Ea().toString():n.get_$R(0).$q},function(){i.$1W=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$1Ea().toString()})):i.$1W=n.get_Id(),f=!1,!$0.$0(t.InitializationParameters.Descriptors)){var s=t.InitializationParameters.Descriptors,h=s.get_$R("json"),c=h.Data,e=c.ViewModelDescriptor;for(r=0;r<e.Properties.length;r++)if(e.Properties[r].Name==="IsPowerBIDashboard"){f=e.Properties[r].Value;break}}return i.set_CanExecute(!0),f&&(i.$He(null,null),i.$2M1()),i};Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.prototype={$2M1:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He)},$He:function(){this.set_CanExecute(Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$1ea&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F())}};Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand=function(n){Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.initializeBase(this,[n,2]);this.$X7=n;this.$D=this.$X7.get_$1u()};Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenImageUploadDialogCommand",Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.$n=function(n){return new Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand(n)};Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.prototype={$X7:null,$D:null,$1Tr:null,$Os:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("OpenImageUploadDialog::"+this.$D,1);var n=new Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel;n.set_PrimaryModelName(this.$D);n.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(this.$X7,null));n.$2Z();n.add_$2lp(this.$1Tr);this.$T=n;Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Os.call(this)}};Microsoft.Crm.Client.Core.Commands.$2R=function(n,t){Microsoft.Crm.Client.Core.Commands.$2R.initializeBase(this,[n,1]);this.$J1=t;$0.$0(this.$A)||(this.$18=this.$A.get_ModelContext())};Microsoft.Crm.Client.Core.Commands.$2R.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenPage",Microsoft.Crm.Client.Core.Commands.$2R.$n)};Microsoft.Crm.Client.Core.Commands.$2R.$2LD=function(n){n.$K&&n.$K.$M&&("ListDefinitionId"in n.$K.$M||"EntityReference"in n.$K.$M)?Microsoft.Crm.Client.Core.ViewModels.$e.$17L(n,!1):n.get_ModelContext()?Microsoft.Crm.Client.Core.ViewModels.$e.$17L(n,!1):$0.$0(n.$1W)||Microsoft.Crm.Client.Core.ViewModels.$e.$17L(n,!1)};Microsoft.Crm.Client.Core.Commands.$2R.$n=function(n,t){var i=t.InitializationParameters,r=new Microsoft.Crm.Client.Core.Commands.$2R(n,i.MetadataType);return $0.$0(i.ExternalContextParameters)||(r.$x=i.ExternalContextParameters),$0.$0(i.PrimaryModelName)||(r.$D=i.PrimaryModelName),r};Microsoft.Crm.Client.Core.Commands.$2R.$2Ax=function(){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.Commands.$2R.$1RY>Microsoft.Crm.Client.Core.Commands.$2R.$2Ga&&(Microsoft.Crm.Client.Core.Commands.$2R.$1RY=0,window.location.reload())};Microsoft.Crm.Client.Core.Commands.$2R.$23B=function(){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.Commands.$2R.$1RY++};Microsoft.Crm.Client.Core.Commands.$2R.prototype={$1W:null,$J1:0,$x:null,$D:null,$18:null,$8e:null,$1eW:!1,$1XJ:!1,get_PrimaryModelName:function(){return this.$D},set_PrimaryModelName:function(n){return this.$D=n,n},add_$26h:function(n){this.$1p("Navigating",n)},remove_$26h:function(n){this.$32("Navigating",n)},$Os:function(){var i;Microsoft.Crm.Client.Core.Commands.$2R.$23B();$0.$0(this.$D)&&!$0.$0(this.$A)&&(this.$D=this.$J1!==2&&this.$J1!==40&&this.$J1!==5||$0.$0(this.$A.get_ModelContext())?this.$A.get_$1u():this.$A.get_ModelContext().get_$Fe());var r=Microsoft.Crm.Client.Core.Framework.$1.toString(this.$J1),n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("OpenPageCommand",1),t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("OpenPageCommand");t.start();this.$T=this.$2TE();this.$9j("Navigating");Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Os.call(this);this.$1XJ&&($0.$0(this.$A)||(i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$12c(this.$A.get_ViewModelId()),$0.$0(i)||i(this.$A)));t.stop();t.addParameter("OnExecute");$0.$0(n)||($0.$0(this.$T)||n.addParameter(this.$T.get_ViewModelId()),n.addParameter(r),$0.$0(this.$D)||n.addParameter(this.$D))},$2TE:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(this.$J1)),t;return n.$g===2||n.$g===40||n.$g===5?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$mR(n):(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&n.$g===13?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$mR(n):n.$g===13&&!$0.$0(this.$x.RelationshipType)&&this.$x.RelationshipType>-1||(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jF(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2BY(1)),$0.$0(n.$1W)&&($0.$0(this.$1W)?n.set_DefinitionId(this.$D):n.set_DefinitionId(this.$1W)),this.$J1!==1?(n.set_ModelContext(this.$18),n.set_PrimaryModelName(this.$D),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(n.$q=this.$1W)):this.$1eW?(n.$9R=!0,$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oe)||(n.$q=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oe.toString())):n.$q=this.$1W,n.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(this.$A,this.$x)),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n.$g===40&&(n.$6i=2),n.$2Z(),$0.$0(this.$8e)||(n.$8e=this.$8e),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(Microsoft.Crm.Client.Core.Commands.$2R.$2LD(n),t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskNavigateEvent"),t.$h("FormMode",Microsoft.Crm.Client.Core.ViewModels.EntityFormMode.toString(n.$6i)||""),t.$h("ComponentType",Microsoft.Crm.Client.Core.Framework.$1.toString(n.$g)||""),t.$h("PrimaryModelName",n.$D||""),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)),n},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)}};Microsoft.Crm.Client.Core.Commands.RelayCommand=function(n,t,i){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.RelayCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$2o=n;this.$1nm=t;this.$1mN=i};Microsoft.Crm.Client.Core.Commands.RelayCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("Relay",Microsoft.Crm.Client.Core.Commands.RelayCommand.$n)};Microsoft.Crm.Client.Core.Commands.RelayCommand.$n=function(n,t){var i=null,r,u;return"TargetViewModelName"in t.InitializationParameters&&"TargetCommandProperty"in t.InitializationParameters&&(r=t.InitializationParameters.TargetViewModelName,u=t.InitializationParameters.TargetCommandProperty,i=new Microsoft.Crm.Client.Core.Commands.RelayCommand(n,r,u)),i};Microsoft.Crm.Client.Core.Commands.RelayCommand.prototype={$18U:null,$1nm:null,$1mN:null,$2o:null,$2E:function(){if(!this.$18U){var n=this.$2o.get_$AH().$67(this.$1nm);n&&(this.$18U=n["get_"+this.$1mN]())}this.$18U&&this.$18U.execute()}};Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand=function(n){if(this.$$d_$2E=Function.createDelegate(this,this.$2E),Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.initializeBase(this),this.set_$1z(this.$$d_$2E),this.$18=n,this.$18){var t=this.$18.GetValue("absoluteurl"),i=Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$21Y(this.$18.GetValue("filetype"));if($0.$0(t)||$0.$0(i))return;this.$ga=new Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand(i,t)}};Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SharepointDocumentLauncherCommand",Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.$n=function(n,t){var i=null;return"ModelContext"in t.InitializationParameters&&(i=t.InitializationParameters.ModelContext),new Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand(i)};Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.prototype={$ga:null,$18:null,$2E:function(){this.$18.get_ModelName()==="recommendeddocument"&&Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PS("DocRecDocumentOpenEvent","","","Recommended document opened",0));$0.$0(this.$ga)||this.$ga.execute()}};Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand=function(n){if(this.$$d_$2E=Function.createDelegate(this,this.$2E),Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.initializeBase(this),this.set_$1z(this.$$d_$2E),this.$18=n,this.$18){var t=this.$18.GetValue("mailweblink");$0.$0(t)||(this.$1Rw=Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$2TJ(t),this.$I=this.$18.GetValue("recordid"))}};Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("DelveActionCardLauncherCommand",Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$n=function(n,t){var i=null;return"ModelContext"in t.InitializationParameters&&(i=t.InitializationParameters.ModelContext),new Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand(i)};Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$2TJ=function(n){var t=new Microsoft.Crm.Client.Core.Framework.Net.Uri(n),i=t.$hY+":",r=Microsoft.Crm.Client.Core.Framework.$3.$9(t.$1V)?"":t.$1V,u=t.$Z4+t.$WE+"?"+r;return new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand(i,u)};Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.prototype={$18:null,$1Rw:null,$I:null,$2E:function(){if(!$0.$0(this.$1Rw)){this.$1Rw.execute();var n=Microsoft.Crm.Client.Core.Framework.Guid.$9(this.$I.Id.toString())?"Dashboard":"Form",t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PK("4101","DelveActionHubActionClickEvent","","",0,"Success","",0,"OpenEmailOnShortPress",n,"","delveactionhub",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),Microsoft.Crm.Client.Core.Framework.Guid.get_empty());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)}}};Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand=function(n){if(this.$$d_$2E=Function.createDelegate(this,this.$2E),Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.initializeBase(this),this.set_$1z(this.$$d_$2E),this.$18=n,this.$18){var t=this.$18.GetValue("weblocationurl"),i=Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$21Y(this.$18.GetValue("filetype"));if($0.$0(t)||$0.$0(i))return;this.$ga=new Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand(i,t)}};Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OfficeGraphDocumentLauncherCommand",Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.$n=function(n,t){var i=null;return"ModelContext"in t.InitializationParameters&&(i=t.InitializationParameters.ModelContext),new Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand(i)};Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.prototype={$ga:null,$18:null,$2E:function(){$0.$0(this.$ga)||this.$ga.execute()}};Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand=function(n,t){this.$$d_$2E_3=Function.createDelegate(this,this.$2E_3);Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.initializeBase(this);this.set_$1z(this.$$d_$2E_3);this.$GM=n;this.set_$Dt(t)};Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("UrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$n=function(n,t){var r="",u="",i;return"protocol"in t.InitializationParameters&&(r=t.InitializationParameters.protocol),"target"in t.InitializationParameters&&(u=t.InitializationParameters.target),i=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand(r,u),"CommandName"in t.InitializationParameters&&(i.$6Y=t.InitializationParameters.CommandName),i};Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$1t1=function(n,t){return new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand(n,t)};Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.prototype={$GM:null,$C7:null,$6Y:null,$2Nm:function(){return!1},set_$Dt:function(n){return this.$C7=n,this.$7("Target"),n},$1lc:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.get_$2sH().get_$2lc()},$2E_3:function(){if(!$0.$0(this.$C7)){var t=this.$C7.trim(),i=t.toLowerCase(),n=$0.$0(this.$GM)?"":this.$GM.trim().toLowerCase();n!==""&&(i.startsWith(n)&&(n.startsWith("http:")||n.startsWith("https:"))||(t=n+"//"+t));this.$mS(t)}},$mS:function(n){!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U||this.$38B(n)?this.$1lc()?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(n):Microsoft.Crm.Client.Core.Framework.$6.get_$f()?n.startsWith("mailto:")?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$28y(n):window.open(n):window.location.href=n:Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(n)},$38B:function(n){var t=!1;return(n.startsWith("mailto:")||n.startsWith("skype:")||n.startsWith("onenote:")||n.startsWith("ms-excel:")||n.startsWith("ms-word:")||n.startsWith("ms-powerpoint:")||Microsoft.Crm.Client.Core.Framework.$6.get_$4U()&&n.startsWith("tel:"))&&(t=!0),t}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Commands");Microsoft.Crm.Client.Core.ViewModels.Commands.$AH=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.initializeBase(this);this.set_$1z(this.$$d_$2E);$0.$0(n.NextEntityId)||(this.$mB=n.NextEntityId);$0.$0(n.NewActiveStageId)||(this.$u6=n.NewActiveStageId);$0.$0(n.NewTraversedPath)||(this.$u4=n.NewTraversedPath);$0.$0(n.NextEntityLogicalName)||(this.$mC=n.NextEntityLogicalName);$0.$0(n.TargetViewModel)||(this.$T=n.TargetViewModel);$0.$0(n.ActionType)||(this.$1Ut=n.ActionType)};Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("NavigateToNextEntityCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.$n=function(n,t){var i=t.InitializationParameters;return new Microsoft.Crm.Client.Core.ViewModels.Commands.$AH(i)};Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.prototype={$mC:null,$mB:null,$u6:null,$u4:null,$T:null,$1Ut:null,$2E:function(){var n={QueryType:this.$1Ut,NextEntityId:this.$mB,NewActiveStageId:this.$u6,NewTraversedPath:this.$u4,NextEntityLogicalName:this.$mC};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$T,n)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Common");Microsoft.Crm.Client.Core.ViewModels.Common.$8b=function(n){if(this.$$d_$2Fs=Function.createDelegate(this,this.$2Fs),Microsoft.Crm.Client.Core.ViewModels.Common.$8b.initializeBase(this),$0.$0(n))throw Error.argumentNull("targetViewModel");this.$T=n;n.apcl("AttributeFieldNames",this.$$d_$2Fs);n.apcl("PrimaryModelName",this.$$d_$2Fs)};Microsoft.Crm.Client.Core.ViewModels.Common.$8b.$1ZE=function(n){n.dispose()};Microsoft.Crm.Client.Core.ViewModels.Common.$8b.prototype={$T:null,$2Fs:function(){var n,t,i,r;(this.$T.set_AttributeMetadata(null),n=this.$T.get_$1u(),t=this.$T.get_AttributeFieldNames(),$0.$0(n)||$0.$0(t))||(i=this,r=function(r){i.$T.get_$1u()===n&&Microsoft.Crm.Client.Core.Framework.$3u.$1qA(i.$T.get_AttributeFieldNames(),t)&&i.$T.set_AttributeMetadata(r)},this.$2G8(n.toLowerCase(),t,r))},$2G8:function(n,t,i){var r=this.$1tl(n,t,i);r.add_$AT(Microsoft.Crm.Client.Core.ViewModels.Common.$8b.$1ZE);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(r)},$1tl:function(n,t,i){var r={},u,f;return r.EntityType=n,r.Attributes=t,r.OnSuccess=i,u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null),f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),f.$XL(this.$T,u,r)},$Oh:function(){this.$T.rpcl("PrimaryModelName",this.$$d_$2Fs);this.$T.rpcl("AttributeFieldNames",this.$$d_$2Fs)}};Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority=function(){};Microsoft.Crm.Client.Core.ViewModels.Common.$AE=function(n){if(this.$$d_$2Fs=Function.createDelegate(this,this.$2Fs),Microsoft.Crm.Client.Core.ViewModels.Common.$AE.initializeBase(this),$0.$0(n))throw Error.argumentNull("targetViewModel");this.$T=n;this.$T.apcl("PrimaryAttributeFieldNames",this.$$d_$2Fs);this.$T.apcl("RelatedAttributeFieldNames",this.$$d_$2Fs);this.$T.apcl("RelationshipList",this.$$d_$2Fs);this.$T.apcl("PrimaryModelName",this.$$d_$2Fs)};Microsoft.Crm.Client.Core.ViewModels.Common.$AE.$1ZE=function(n){n.dispose()};Microsoft.Crm.Client.Core.ViewModels.Common.$AE.prototype={$T:null,$2Fs:function(){var n,f;this.$T.set_AttributeMetadata(null);var t=this.$T.get_$1u(),i=this.$T.get_PrimaryAttributeFieldNames(),r=this.$T.get_RelatedAttributeFieldNames(),u=this.$T.get_RelationshipList();$0.$0(t)||$0.$0(i)||$0.$0(r)||$0.$0(u)||(n=this,f=function(i){n.$T.get_$1u()===t&&(!$0.$0(n.$T.get_AttributeMetadata())&&"unbound"in n.$T.get_AttributeMetadata()&&(i.unbound=n.$T.get_AttributeMetadata().unbound),n.$T.set_AttributeMetadata(i))},this.$2G8(t,i,r,u,f))},$2G8:function(n,t,i,r,u){var f=this.$1tl(n,t,i,r,u);f.add_$AT(Microsoft.Crm.Client.Core.ViewModels.Common.$AE.$1ZE);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(f)},$1tl:function(n,t,i,r,u){var f={PrimaryEntityName:n,PrimaryAttributeFieldNames:t,RelatedAttributeFieldNames:i,RelationshipList:r,OnSuccess:u},e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleEntityAttributeMetadata",null),o=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();return o.$XL(this.$T,e,f)},$Oh:function(){this.$T.rpcl("PrimaryAttributeFieldNames",this.$$d_$2Fs);this.$T.rpcl("RelatedAttributeFieldNames",this.$$d_$2Fs);this.$T.rpcl("RelationshipList",this.$$d_$2Fs);this.$T.rpcl("PrimaryModelName",this.$$d_$2Fs)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HY=function(n,t,i,r,u){this.Name=n;this.DisplayName=t;this.Alias=i;this.DataType=r;this.VisualSizeFactor=u};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q.prototype={read:0,edit:1,both:2,unknown:3};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q.registerEnum("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q",!1);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlResourceType=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlResourceType.prototype={javascript:0,CSS:1,image:2,html:3,other:4};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlResourceType.registerEnum("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlResourceType",!1);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HT=function(n,t,i,r,u,f,e,o,s){this.Name=n;this.ViewId=t;this.Columns=i;this.EntityName=r;this.TargetEntityType=u;this.ContextFilter=f;this.ExtraCondition=e;this.EnableViewPicker=o;this.FilteredViewIds=s};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertyUsage=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertyUsage.prototype={bound:0,input:1,output:2};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertyUsage.registerEnum("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertyUsage",!1);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s.$1ws=function(n,t){for(var r,u=new Array(0),f=n,e=f.length,i=0;i<e;++i)(r=f[i],t&&Microsoft.Crm.Client.Core.Framework.$1u.$gA(r.name))||u.push(r.name);return new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(u)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s.prototype={name:null,dataType:null,attributes:null,validator:null,$1n1:null,get_$Xm:function(){return this.dataType},get_$3AO:function(){return this.$1n1},$1HG:function(n){var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),r,t,u;if($0.$0(n))return i.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError")));if($0.$0(this.attributes)){if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.dataType))return i.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147220969));this.attributes={};this.attributes.type=this.dataType.split(".")[0]}return r=Microsoft.Crm.Client.Core.Framework.$64.$1bu(this.attributes.type),Microsoft.Crm.Client.Core.Framework.$1B.$s(this.attributes)!==r.length?(n.$1k9=!0,t=this,u=this,n.$20Z(this.name,Microsoft.Crm.Client.Core.Framework.$64.$1bu(this.attributes.type)).then(function(n){t.attributes=Microsoft.Crm.Client.Core.Framework.$1u.$1wd(n);t.$1n1=Microsoft.Crm.Client.Core.Framework.$1u.$2WB(n,t.attributes);t.attributes=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$20l(t.attributes,t.attributes.type);i.resolve(n)},function(n){var t=$0.$0(n)?Microsoft.Crm.Client.Core.Framework.$7.$f9(0):n;i.reject(t)})):i.resolve(this.attributes),i.promise()},$sV:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator,Microsoft.Crm.Client.Core.Framework.$7),i,r,u;if($0.$0(n))return t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError")));if($0.$0(this.attributes)){if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.dataType))return t.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147220969));i=this.dataType.split(".");this.attributes={};this.attributes.type=i[0];this.attributes.format=i.length>1?i[1]:""}return $0.$0(this.validator)?(r=this,u=this,n.$2gZ(this.name,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$229(this.attributes.type,"format"in this.attributes?this.attributes.format:""),!1).then(function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator(n);r.validator=i;t.resolve(i)},function(n){var i=Microsoft.Crm.Client.Core.Framework.$7.isInstanceOfType(n)?n:Microsoft.Crm.Client.Core.Framework.$7.$f9(0);t.reject(i)})):t.resolve(this.validator),t.promise()}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HW=function(n){this.$A=n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HW.prototype={$5A:null,$A:null,$2jK:function(n){for(var i,r=n.$4w,u={},t=0;t<r.get_Count();t++)i=r.get_$R(t),u[i]=n.fields[i];return u},$cR:function(n,t){var i,r=this.$2jK(this.$A.$I);if($0.$0(this.$A)){i=Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError"));return}this.$1Iz(t)},$37K:function(n){for(var t,r,u=!1,f=this.$A.$I.$4b.$4A,s=f.length,e=f,o=e.length,i=0;i<o;++i)(t=e[i],t in n)&&(r=Microsoft.Crm.Client.Core.Framework.$1u.$20s(n[t],this.$5A.getColumn(t)),Microsoft.Crm.Client.Core.Framework.$2X.$Nk(r,this.$A.GetValue(t+Microsoft.Crm.Client.Core.Framework.$U.$6n))||(u=!0,this.$A.SetValue(t,r)));return u},$1Iz:function(n){var i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateRecordForCustomControl",null),t=this;i.OnFailure=function(){t.$A.$1Pv();t.$A.discardChanges();t.$A.$1O4()};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",n,i)},$CO:function(n,t){var u=new Array(0),f=n,r,e,i;for(r in f)e={key:r,value:f[r]},i=e.value,Microsoft.Crm.Client.Core.Framework.$3.$9(i.Type)||i.Static||u.push(new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nq(i.Value,i.Type,null,null));this.$5A=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91(u,this.$A);this.$2nQ(this.$2eh(n),t)},$2eh:function(n){var u={},i,r,t;if(!$0.$0(n)){i=n;for(r in i)t={key:r,value:i[r]},Object.getType(t.value)===Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord&&(u[t.value.Value]=t.value.Value)}return u},$2nQ:function(n,t){return $0.$0(this.$A)||$0.$0(n)?MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7).resolve(!0).promise():Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$93.$2Lp(this.$A,n)?MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7).resolve(!0).promise():this.$23v(n,t)},$23v:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),o=this.$A.$I.$4b.$20().columns,s=n,r,u,f,v;for(r in s)u={key:r,value:s[r]},Microsoft.Crm.Client.Core.Framework.$1u.$gA(u.key)||o.push(u.key);f={};f.columns=o;var h=Microsoft.Crm.Client.Core.Storage.Common.ColumnSet.$2y(f),c=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1),l=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.$JX(h,c),e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveRecordFromCustomControlDataSet",l),a=this;return e.OnSuccess=function(){var t=a.$37K(n);i.resolve(!0)},v=this,e.OnFailure=function(n){i.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",t,e),i.promise()}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90=function(n,t,i,r,u,f,e,o,s,h){this.dependentEntityName=n;this.dependentAttributeName=t;this.targetEntityName=i;this.targetViewId=r;this.targetFilterRelationshipName=u;this.allowFilterOff=f;this.contextFilter=e;this.extraCondition=o;this.fetchXml=s;this.layoutXml=h};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90.$32Y=function(n,t,i){return String.format("{0}.{1}.{2}",n,t,i)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90.prototype={dependentEntityName:null,dependentAttributeName:null,targetViewId:null,targetEntityName:null,targetFilterRelationshipName:null,allowFilterOff:!1,contextFilter:null,extraCondition:null,fetchXml:null,layoutXml:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr.prototype={lookupConfiguration:null,$162:null,set_$1Mj:function(n){return this.$162=n,this.$2zj(),n},canDisableRelationshipFilter:function(){return $0.$0(this.lookupConfiguration)?!1:this.lookupConfiguration.allowFilterOff},disableRelationshipFilter:function(){this.canDisableRelationshipFilter()&&(this.$j.$88="",this.$j.$e6="",this.$j.$Bf="",this.$j.set_ModelContext(null))},clearFilter:function(){$0.$0(this.$162)?Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.prototype.clearFilter.call(this):this.setFilter(null)},enableRelationshipFilter:function(n){$0.$0(this.lookupConfiguration)||(this.$j.$88=this.lookupConfiguration.contextFilter,this.$j.$e6=this.lookupConfiguration.dependentAttributeName,this.$j.$Bf=this.lookupConfiguration.extraCondition,$0.$0(n)||$0.$0(n.$18)?Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,"Could not configure lookup ModelContext property. The parent record is null."):this.$j.set_ModelContext(n.$18))},setFilter:function(n){var t,i,r;$0.$0(this.$162)?Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.prototype.setFilter.call(this,n):(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HX,t.attributeName=this.$j.$D+"id",t.value=this.$162,t.conditionOperator=1,i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HR,i.conditions=[t],$0.$0(n)||(r=i.conditions).push.apply(r,n.conditions),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.prototype.setFilter.call(this,i))},$2zj:function(){this.setFilter(this.getFilter())}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$92=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$92.$2Yn=function(n){for(var t,u,i,r,c,f=n.Name,o=null,s=null,h=n.Properties,l=h.length,e=0;e<l;++e)t=h[e],t.Name==="PropertyDefinitions"?o=t.Value.value:t.Name==="Label"&&(s=t.Value);return u=new Array(0),i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU,i.Name="cc_MscrmControls.Knob.ArcKnobControl/libs/mscommonlib_1.0.0.js",i.LoadOrder=1,i.Type=0,u.push(i),r=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU,r.Name="cc_MscrmGeneric.Containers.FieldSectionItem/FieldSectionItem.js",r.LoadOrder=2,r.Type=4,u.push(r),c=[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FormFactor",Microsoft.Crm.Client.Core.Framework.$6.get_$1d()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsDataSetControl",!1),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("GridEnabled",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DisableHeaderLongPress",null),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TopMenuEnabled",null),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ControlMode",2),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ControlType",1),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ConstructorName","MscrmGeneric.Containers.FieldSectionItem"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DisplayName","Field Section Item"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Internal",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsContainer",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Label",s),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PropertyDefinitions",{value:o}),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DataSetDefinitions",null),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("GroupDefintions",null),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Resources",u),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",!0)],new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("CustomControl","CustomControlHostView",f,c,n.ControlProperties,null,n.PrimaryModelName,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiControlDescriptor(25,f,f,!0))};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$93=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$93.$2Lp=function(n,t){var r=t,i,u;for(i in r)if(u={key:i,value:r[i]},!n.$22h(u.key))return!1;return!0};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV=function(n){this.$t=n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV.prototype={$t:null,$20:function(){return this.$t},$1gI:function(n){var u,t,i,r;if($0.$0(this.$t))this.$t=n.$20();else{u=n.$20();t=u;for(i in t)r={key:i,value:t[i]},this.$t[r.key]=r.value}}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$20l=function(n,t){var r,f,i,e,o,u,s;if(!$0.$0(t))switch(t.toLowerCase()){case"integer":case"bigint":case"whole":if(!("format"in n)||$0.$0(n.format))break;switch(n.format.toLowerCase()){case"language":for(r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$11V,f={},i=0;i<r.length;i++)f[r[i].toString()]=Microsoft.Crm.Client.Core.Storage.Formatting.CrmNumericFormatter.$C.$1G6(r[i]);n.languagebycode=f;break;case"timezone":for(e={},o=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.TimeZoneDefinition))(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.timezonedefinitionbycode.$1mk()),u=0;u<o.get_Count();u++)s=o.get_$R(u),e[s.$SB.toString()]=s.$nw;n.timezonebycode=e}}return n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$229=function(n,t){$0.$0(t)||(t=t.toLowerCase());switch(n.toLowerCase()){case"string":case"singleline":switch(t){case"email":return 5;case"url":return 6;default:return 1}case"decimal":case"double":case"fp":case"float":return 3;case"money":case"currency":return 4;case"integer":case"bigint":case"whole":return 2;case"datetime":case"dateandtime":return 8;default:return 1}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc=function(n,t){this.$L=n;this.$1kp=t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc.prototype={$L:null,$1kp:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.get_$2Xg=function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2?"18px":"14px"};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2jr=function(n){var t={};return t.crmUrlEncode=CrmEncodeDecode.CrmUrlEncode,t.crmHtmlEncode=CrmEncodeDecode.CrmHtmlEncode,t.isNullOrUndefined=$0.$0,t.createPerformanceMarker=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L,t.createPerformanceStopwatch=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Z5,t.setState=n.$$d_$nT,t.createCrmUri=function(n){return Mscrm.CrmUri.create(n).toString()},t.getServiceUri=function(n){if($0.$0(n)||Microsoft.Crm.Client.Core.Framework.$3.$12(n))return"";switch(n.toLowerCase()){case"websitepreview":return Mscrm.CrmUri.create("/Websitepreview/previewservice.aspx").toString();default:return""}},t.openInBrowser=function(n){$0.$0(n)||Microsoft.Crm.Client.Core.Framework.$3.$12(n)||(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(n):window.open(n))},t.setNotification=function(t,i){return Microsoft.Crm.Client.Core.Framework.$3.$12(t)?!1:(n.set_ManualValidatorResult(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,t,i)),!0)},t.clearNotification=function(t){return $0.$0(n.$7u)||!$0.$0(t)&&t!==n.$7u.$1ZY?!1:(n.set_ManualValidatorResult(null),!0)},t.log=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2qx,t.disablePanoramaScroll=function(){},t.scrollToView=Microsoft.Crm.Client.Core.Framework.$1Q.$2D4,t.tryCreateGuid=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate,t.requestRender=n.$$d_requestRender,t.isTabPressed=n.$$d_isTabPressed,t.setLastTabPressedTime=n.$$d_setLastTabPressedTime,t.setInteractionMode=n.$$d_setInteractionMode,t.getInteractionMode=n.$$d_getInteractionMode,t.triggerBarcodeAction=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Vo(n,t,i)},t.isCameraAvailable=function(){return!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()},t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2ir=function(n){var t={};return t.getString=Microsoft.Crm.Client.Core.Framework.Common.$2.$4,t.getResource=function(t,i,r){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$33D(t,n,i,r)},t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2ex=function(n){var t={},i;return t.formFactor=Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),t.userAgent=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1Yc,t.languageCode=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$xV,t.locale=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$126,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$2gM(),i.showWeekNumber=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$1QC,t.orgSettings=i,t.dateFormattingInfo=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$2gL(),t.numberFormattingInfo=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$2gN(),t.getUserTimeZoneUtcOffset=function(n){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$PW+Microsoft.Crm.Client.Core.Framework.$h.$1HL(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9())},t.maxAvailableWidth=n.$150,n.$Tu&&(t.viewportHeight=n.$192),t.isRTL=!1,t.isHighContrast=!1,t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2qx=function(n,t,i){var r=n+": "+t;switch(i){case 1:Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,r);break;case 4:Microsoft.Crm.Client.Core.Framework.Trace.logInfo(1033,r);break;case 2:Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1033,r)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2gh=function(){var n={};return n.formatDateShort=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xq,n.formatDateLongAbbreviated=function(n){return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$2Xp(n,0)},n.formatDateLong=function(n){return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$2Y2(n,0)},n.formatDateYearMonth=function(n){return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$2Xt(n,0)},n.formatInteger=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$$d_$1G5,n.formatDecimal=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xu,n.formatCurrency=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1wR,n.getWeekOfYear=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2k0,n.formatTime=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$$d_$OP,n.formatDateAsFilterStringInUTC=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xo,n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2hX=function(){var n={};return n.openEditForm=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w2,n.openCreateForm=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1MT,n.openSearch=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2wE,n.openDashboard=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w1,n.openUrl=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$mS,n.openUrlWithProtocol=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$28z,n.openPhoneNumber=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2wA,n.openMaps=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w8,n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$21y=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.get_instance().$CJ;return t.fontfamily="'SegoeUI', 'Segoe UI'",t.fontcolor="#000000",t.fontsize=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.get_$2Xg(),t.getEntityColor=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1HN,t.disableUiTransitions=function(){n.$1Er=!0},t.rightAlignEdit=function(){n.set_RightAlignedEdit(!0)},t.inlineLayout=function(t){n.set_InlineLayout(t)},t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2i4=function(n){var t={},r=n.$2.$g,i;switch(r){case 2:case 5:$0.$0(n.get_ModelContext())||(i=n.get_ModelContext().$I,$0.$0(i)||$0.$0(i.$a)||(t.recordId=i.$a.get_identifier(),t.entityType=i.$a.LogicalName));break;case 1:t.recordId=n.$2.$q;t.entityType=n.$D}return t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2gQ=function(){var n={};return n.createComponent=function(n,t,i){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT(n,t,i,null)},n.createElement=function(n,t,i){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT(n,"",t,i)},n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HZ=function(n,t,i,r,u){this.$L=n;this.$1q=t;this.$1VV=i;this.$AW=r;this.$1ns=u};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HZ.prototype={$L:null,$1q:null,$1VV:null,$AW:null,$1ns:0,$2Yb:function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np(this.$L,this.$1q,this.$1VV,this.$AW,this.$1ns,!1,-1,!1,null,null)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p.$2fI=function(n,t){var i,f,r,u,e,o;if($0.$0(t))return null;i=null;try{if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))i=t.get_ModelContext();else{f=t.$w.$12g();r=f;for(u in r)if(e={key:u,value:r[u]},o=e.value.$j.$2n,i=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p.$2fJ(n,o),!$0.$0(i))return i;if($0.$0(i))throw Error.create("Invalid Record Id");}}catch(s){throw s;}return i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p.$2fJ=function(n,t){var i,r;if(!$0.$0(t)&&Microsoft.Crm.Client.Core.Models.$1j.isInstanceOfType(t)&&(i=t.get_$CZ(),!$0.$0(i)))for(r=0;r<i.get_Count();r++)if(!$0.$0(i.get_$R(r))&&i.get_$R(r).get_$2m()===n)return i.get_$R(r);return null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np=function(n,t,i,r,u,f,e,o,s,h){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np.initializeBase(this);this.name=n;this.displayName=t;this.alias=i;this.dataType=r;this.visualSizeFactor=u;this.attributes=s;this.validator=h;this.isHidden=f;this.order=e;this.disableSorting=o};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np.prototype={alias:null,displayName:null,visualSizeFactor:0,isHidden:!1,disableSorting:!1,order:0,get_$2oG:function(){return Microsoft.Crm.Client.Core.Framework.$1u.$gA(this.name)},get_$jM:function(){return"type"in this.attributes?Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2rR(this.attributes.type):-1}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator=function(n){this.$SF=n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator.prototype={$SF:null,validate:function(n,t,i){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlValidatorResult(this.$SF.$6W(n,t,i))}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HX=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HX.prototype={attributeName:null,conditionOperator:0,value:null,values:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HR=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HR.prototype={conditions:null,filterOperator:0,filters:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z=function(n){var t,i;for(this.$j=n,this.aliasMap={},t=0;t<n.$Bm.length;t++)i=n.$Bm[t],Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(i.alias)||(this.aliasMap[i.alias]=i.name)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.$1Xe=function(n){switch(n){case 0:return"eq";case 1:return"ne";case 4:return"ge";case 2:return"gt";case 5:return"le";case 3:return"lt";case 25:return"on";case 26:return"on-or-before";case 27:return"on-or-after";case 6:return"like";case 14:return"yesterday";case 15:return"today";case 16:return"tomorrow";case 17:return"last-seven-days";case 18:return"next-seven-days";case 19:return"last-week";case 20:return"this-week";case 22:return"last-month";case 23:return"this-month";case 28:return"last-year";case 29:return"this-year";case 75:return"above";case 78:return"eq-or-above";case 76:return"under";case 79:return"eq-or-under";case 77:return"not-under"}return""};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.prototype={$j:null,filterExpression:null,aliasMap:null,getFilter:function(){return this.filterExpression},setFilter:function(n){this.filterExpression=n;this.$j.$22=this.$1w3(n)},clearFilter:function(){this.filterExpression=null;this.$j.$22=""},$FM:function(n){return $0.$0(this.aliasMap[n])?n:this.aliasMap[n]},$1w3:function(n){var t,u,i,r,f,s,e,o;if(Mscrm.InternalUtilities.JSTypes.isNull(n.filterOperator)&&(n.filterOperator=0),t="",Mscrm.InternalUtilities.JSTypes.isNull(n)||(Mscrm.InternalUtilities.JSTypes.isNull(n.conditions)||!n.conditions.length)&&(Mscrm.InternalUtilities.JSTypes.isNull(n.filters)||!n.filters.length))return t;if(Mscrm.InternalUtilities.JSTypes.isNull(n.conditions)){for(n.filters.length>1&&(this.$1rI(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$1w.toString(n.filterOperator)),t+='<filter type="'+Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$1w.toString(n.filterOperator).toLowerCase()+'">'),o=0;o<n.filters.length;o++)t+=this.$1w3(n.filters[o]);n.filters.length>1&&(t+="<\/filter>")}else{for(n.conditions.length>0&&(this.$1rI(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$1w.toString(n.filterOperator)),t+='<filter type="'+Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$1w.toString(n.filterOperator).toLowerCase()+'">'),u=0;u<n.conditions.length;u++)if(i=n.conditions[u],this.$2OM(i),r=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$4v(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.$1Xe(i.conditionOperator)),this.$2OB(r),f=this.$FM(i.attributeName),Mscrm.InternalUtilities.JSTypes.isNull(i.value)&&Mscrm.InternalUtilities.JSTypes.isNull(i.values))t+='<condition attribute="'+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$4v(f)+'" operator="'+r+'"/>';else if(Mscrm.InternalUtilities.JSTypes.isNull(i.value)||i.value===""){if(!Mscrm.InternalUtilities.JSTypes.isNull(i.values)&&i.values.get_Count()>0){for(s=i.values,t+='<condition attribute="'+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$4v(f)+'" operator="'+r+'">',e=0;e<s.get_Count();e++)t+="<value>"+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$4v(s.get_$R(e))+"<\/value>";t+="<\/condition>"}}else t+='<condition attribute="'+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$4v(f)+'" operator="'+r+'" value="'+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$Vf(i.value)+'" />';n.conditions.length>0&&(t+="<\/filter>")}return t},$1rI:function(n){switch(n){case"and":case"or":case"not":break;default:throw Error.create("Invalid filter operator"+n);}},$2OB:function(n){switch(n){case"eq":case"ne":case"ge":case"gt":case"le":case"lt":case"on":case"on-or-before":case"on-or-after":case"like":case"yesterday":case"today":case"tomorrow":case"last-seven-days":case"next-seven-days":case"last-week":case"this-week":case"last-month":case"this-month":case"last-year":case"this-year":case"above":case"eq-or-above":case"under":case"eq-or-under":case"not-under":break;default:throw Error.create("Invalid condition operator"+n);}},$2OM:function(n){if(!Mscrm.InternalUtilities.JSTypes.isNull(n.attributeName)&&(!Mscrm.InternalUtilities.JSTypes.isNull(n.value)||!Mscrm.InternalUtilities.JSTypes.isNull(n.values))&&Mscrm.InternalUtilities.JSTypes.isNull(n.conditionOperator))throw Error.argumentNull("Condition Operator in ConditionExpression is missing");if(!Mscrm.InternalUtilities.JSTypes.isNull(n.conditionOperator)&&(!Mscrm.InternalUtilities.JSTypes.isNull(n.value)||!Mscrm.InternalUtilities.JSTypes.isNull(n.values))&&Mscrm.InternalUtilities.JSTypes.isNull(n.attributeName))throw Error.argumentNull("AttributeName in ConditionExpression is missing");}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U=function(){this.$$d_$2ZM=Function.createDelegate(this,this.$2ZM);this.$$d_$2YT=Function.createDelegate(this,this.$2YT);this.$$d_$2tL=Function.createDelegate(this,this.$2tL);this.$$d_$2ut=Function.createDelegate(this,this.$2ut);this.$$d_$1ha=Function.createDelegate(this,this.$1ha);this.$$d_$gn=Function.createDelegate(this,this.$gn);this.$$d_$P1=Function.createDelegate(this,this.$P1);this.$$d_$2tI=Function.createDelegate(this,this.$2tI);this.$$d_$2tK=Function.createDelegate(this,this.$2tK);this.sortedRecordIds=new Array(0);this.records={};this.sorting=new Array(0);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U.$2Yc=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var nt=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U,Microsoft.Crm.Client.Core.Framework.$7),g=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U;return g.$8r=t.toString(),g.columns=i,g.$j=new Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel(i),g.$j.$1Q9=a,l||(g.$lu=g.$2RA(r,d),g.$j.$88=u,g.$j.set_ModelContext(n),g.$j.$Bf=f,g.$j.$5T=w,g.$j.$52=b,g.$j.$6c=k,g.$j.set_GridEnabled(s),g.$j.$E6=h),g.$j.$ey=p,g.$j.set_DefinitionId(t.toString()),g.$j.$q=t.toString(),g.$j.set_$GO(e),g.$j.$78=o,g.$j.$hz=c,g.$j.set_EnableViewPicker(y),g.$j.$1Oh(t.toString(),r,l,null).then(function(){var i,t;g.paging=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS(g.$j);g.sorting=g.$j.$1Hk();g.commanding=g.$j.$1bz();l?(i=g.$1wu(n),g.$j.$2Z(),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr(g.$j),$0.$0(d)||(t.lookupConfiguration=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90(r,d.DependentAttributeName,d.DependentAttributeType,Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(d.DefaultViewId).toString(),d.FilterRelationshipName,"AllowFilterOff"in d?Boolean.parse(d.AllowFilterOff):!1,"ContextFilter"in d?d.ContextFilter:"","ExtraCondition"in d?d.ExtraCondition:"","FetchXml"in d?d.FetchXml:"","LayoutXml"in d?d.LayoutXml:"")),t.enableRelationshipFilter(i),t.set_$1Mj($0.$0(i)?null:i.getRecordId()),g.filtering=t):(g.columns=g.$j.$Bm,g.$2Af(),g.filtering=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z(g.$j));nt.resolve(g)},function(n){g.hasError=!0;g.errorMessage=n.$F;nt.resolve(g)}),c&&!$0.$0(v)&&g.$j.$CK(v),g.$j.add_DataSetChanged(g.$$d_$2tK),l||(g.$j.AddPropertyChangedListener("IsLoading",g.$$d_$2tI),g.$j.$2.add_$P1(g.$$d_$P1),g.$j.$2.add_$gn(g.$$d_$gn)),nt.promise()};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U.prototype={$Fn:null,get_DataSetViewModel:function(){return this.$j},get_$5q:function(){if($0.$0(this.$Fn)){var n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$l0(this.$j.$2,this.$j);$0.$0(n)||$0.$0(n.$2e)||(this.$Fn=n.$2e)}return this.$Fn},add_OnDataSetRecordChange:function(n){this.$1p("DataSetRecordChangeEventName",n)},remove_OnDataSetRecordChange:function(n){this.$32("DataSetRecordChangeEventName",n)},$2Yd:function(n){var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U,Microsoft.Crm.Client.Core.Framework.$7),r,e,t,l,y;if(!$0.$0(n)&&!$0.$0(n.attributes)&&"targets"in n.attributes)if(r=this,e=function(t){var u=function(){t.$j.$1k||i.resolve(t)};i.done(function(){t.removeOnDataSetUpdated(u);$0.$0(r.$RD)&&(r.$RD={});n.name in r.$RD||(r.$RD[n.name]=t)});t.addOnDataSetUpdated(u)},!$0.$0(this.$RD)&&n.name in this.$RD){var o=this.$RD[n.name],h=o.filtering,s=this.getSelectedRecord();h.enableRelationshipFilter(s);h.set_$1Mj($0.$0(s)?null:s.getRecordId());o.refresh(null);e(o)}else{var a=n.attributes.targets,v=a[0],c=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90.$32Y(this.$j.get_DefinitionId(),this.$j.$D,n.name),u=Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString(),f=null;c in this.$lu&&(f=this.$lu[c],u=f.targetViewId);t=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U;t.$j=new Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel(null);t.$j.$1Q9=!1;t.$j.set_DefinitionId(u);t.$j.$q=u;t.$j.set_$GO(this.$j.$2);t.$j.$78=!1;t.$j.$hz=!1;t.$j.set_EnableViewPicker(!1);l=this;y=this;t.$j.$1Oh(u,v,!0,f).then(function(){var i=l.getSelectedRecord(),n;t.columns=t.$j.$Bm;t.paging=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS(t.$j);t.sorting=t.$j.$1Hk();t.commanding=t.$j.$1bz();t.$j.$2Z();n=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr(t.$j);n.lookupConfiguration=f;n.enableRelationshipFilter(i);n.set_$1Mj($0.$0(i)?null:i.getRecordId());t.filtering=n},function(n){t.hasError=!0;t.errorMessage=n.$F;i.resolve(t)});t.$j.add_DataSetChanged(t.$$d_$2tK);e(t)}else i.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147220969));return i.promise()},$2RA:function(n,t){var r={},u=t;for(var f in u){var e={key:f,value:u[f]},i=e.value,o=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90(n,i.DependentAttributeName,i.DependentAttributeType,Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(i.DefaultViewId).toString(),i.FilterRelationshipName,"AllowFilterOff"in i?Boolean.parse(i.AllowFilterOff):!1,"ContextFilter"in i?i.ContextFilter:"","ExtraCondition"in i?i.ExtraCondition:"","FetchXml"in i?i.FetchXml:"","LayoutXml"in i?i.LayoutXml:"");r[e.key]=o}return r},$2Af:function(){var t;this.$jk=new Array(0);for(var i=this.columns,r=i.length,n=0;n<r;++n)t=i[n],Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(t.alias)||this.$jk.push(t)},$2tr:function(){this.$j.$2Z()},$Oh:function(){this.$1uu();this.$2UW();$0.$0(this.$j)||(this.$j.$2.remove_$P1(this.$$d_$P1),this.$j.$2.remove_$gn(this.$$d_$gn),this.$j.dispose());Microsoft.Crm.Client.Core.Framework.$AJ.prototype.$Oh.call(this)},$P1:function(){var i=this.records,n,r,t;for(n in i)r={key:n,value:i[n]},t=r.value,t.$1pz(),this.$2G9(t)},$gn:function(){var i=this.records,n,r,t;for(n in i)r={key:n,value:i[n]},t=r.value,t.$1uX(),this.$2H9(t)},$1uu:function(){var t,i,r,n;if(!$0.$0(this.records)){t=this.records;for(i in t)r={key:i,value:t[i]},$0.$0(r.value)||(n=r.value,n.RemovePropertyChangedListener("RecordChangedEventName",this.$$d_$1ha),this.$2H9(n),n.dispose())}},$2G9:function(n){n.add_OnDataSetRecordPropertyChanged(this.$$d_$2ut);n.add_OnDataSetRecordChange(this.$$d_$2tL)},$2H9:function(n){n.remove_OnDataSetRecordPropertyChanged(this.$$d_$2ut);n.remove_OnDataSetRecordChange(this.$$d_$2tL)},$2UW:function(){var n,t,i,r;if(!$0.$0(this.$RD)){n=this.$RD;for(t in n)i={key:t,value:n[t]},$0.$0(i.value)||(r=i.value,r.dispose())}},$1wr:function(n){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t;if($0.$0(this.$j))i.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError")));else if(t=null,$0.$0(this.$j.$A4)?this.$j.get_RecordCount()>0&&(t=this.$j.$2n.get_$CZ().getItem(0)):t=this.$j.$A4.get_ModelContext(),$0.$0(t)){var r=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s.$1ws(this.columns,!0),u=this,f=this;Microsoft.Crm.Client.Core.Models.$c.$jn(this.$j.$D,r).then(function(t){n(t).always(function(){t.$5E();i.resolve(!0)})},function(n){i.reject(n)})}else return n(t);return i.promise()},$2ZM:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),u=new Array(0),i,o,s;if($0.$0(n))t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError")));else{for(var f=this.columns,e=f.length,r=0;r<e;++r)i=f[r],Microsoft.Crm.Client.Core.Framework.$1u.$gA(i.name)||i.isHidden||u.push(i.$sV(n));o=this;s=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when.apply(null,u).then(function(){t.resolve(!0)},function(n){var i=Microsoft.Crm.Client.Core.Framework.$7.isInstanceOfType(n)?n.$F:JSON.stringify(n);Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,i);t.resolve(!1)})}return t.promise()},$2YT:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),u=new Array(0),r,o,s;if($0.$0(n))t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError")));else{for(var f=this.columns,e=f.length,i=0;i<e;++i)r=f[i],Microsoft.Crm.Client.Core.Framework.$1u.$gA(r.name)||u.push(r.$1HG(n));o=this;s=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when.apply(null,u).then(function(){t.resolve(!0)},function(n){var i=Microsoft.Crm.Client.Core.Framework.$7.isInstanceOfType(n)?n.$F:JSON.stringify(n);Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,i);t.resolve(!1)})}return t.promise()},working:!1,columns:null,paging:null,commanding:null,filtering:null,hasError:!1,errorMessage:null,setSelectedRecords:function(){},setSelectedRecordId:function(n,t){var e=this.$j.$A4,h=$0.$0(e)?null:e.$4Z,r,i,o,u,f;if(Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(n))this.clearSelectedRecord();else for(r=0;r<this.$j.$1f.get_Count();r++)if(i=this.$j.$1f.get_$R(r),i.$4Z===n){this.$j.set_SelectedItem(i);!(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))||$0.$0(this.get_$5q())||$0.$0(this.get_$5q().$w)||(this.get_$5q().$w.$BG=this);t?(i.$j1=1,o=i.get_SelectListItemCommand(),o.execute()):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().clearSelectedViewModels();break}u=this.$RD;for(f in u){var c={key:f,value:u[f]},l=c.value,s=l.filtering;$0.$0(s)||s.set_$1Mj(n)}h!==n&&this.$2Cd(n)},$1VA:function(){var n,t;(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&this.$j.$2.$g===13&&(n=this.$j.$2.$CL.GridPane,$0.$0(n)||(t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor,this.$j.$2.$5k=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$2Ar(n,t)))},$1jT:function(){(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&this.$j.$2.$g===13&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$3AS(this.$j.$2,"crmGrid")},$2Cd:function(n){var i,u,t,r;$0.$0(this.get_$5q())||(i=(this.$j.$2.$g===13?"crmGrid":this.get_$5q().$L)+":"+this.$j.$D,u=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$203(i),!$0.$0(u)&&u.get_Count()>0&&(t=this.records[n],$0.$0(t)||(r=this,t.$2Uo().done(function(){t.$Tv||t.$2h||r.$j.$A4.$4Z!==t.getRecordId()||(r.$1VA(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$33c(i),(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$2Cd(i),r.$1jT())}))))},clearSelectedRecord:function(){this.$j.set_SelectedItem(null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$1X8();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.set_IsLoading(!1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().clearSelectedViewModels()},getSelectedRecord:function(){return!$0.$0(this.$j.$A4)&&!$0.$0(this.$j.$A4.get_ModelContext())?this.records[this.$j.$A4.get_ModelContext().get_Id()]:null},refresh:function(n){if(Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(n))this.$2Hw(),this.$j.$Rr();else{var t=this,i=this;this.$2zh(n).then(function(){t.$2Hw();t.$j.$Rr()},function(n){i.hasError=!0;i.errorMessage=n.$F})}},$2zh:function(n){var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U,Microsoft.Crm.Client.Core.Framework.$7),r=Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString(),t,u;return this.$j=new Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel(null),this.$jk=this.columns=new Array(0),this.$j.set_DefinitionId(r),this.$j.$q=r,this.paging=null,this.sorting=null,this.filtering=null,t=this,u=this,this.$j.$1Oh(r,n,!0,null).then(function(){t.paging=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS(t.$j);t.sorting=t.$j.$1Hk();t.$j.$2Z();var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr(t.$j);t.filtering=n;t.columns=t.$j.$Bm;t.$2Af();i.resolve(t)},function(n){u.hasError=!0;u.errorMessage=n.$F;i.reject()}),this.$j.add_DataSetChanged(this.$$d_$2tK),i.promise()},generateAdditionalAttributes:function(){return this.$1wr(this.$$d_$2YT)},generateValidators:function(){return this.$1wr(this.$$d_$2ZM)},getLookupDataSet:function(n){var t=this.$2Wt(n);return this.$2Yd(t)},addOnDataSetUpdated:function(n){this.$1p("DataSetUpdatedEventName",n)},removeOnDataSetUpdated:function(n){this.$32("DataSetUpdatedEventName",n)},getViewId:function(){return this.$8r},$j:null,$8r:null,$jk:null,$lu:null,$RD:null,$2tI:function(){this.working=this.$j.$1k},$2tK:function(){var f=this.$j.$2n,i,r,u,n,t;if(this.hasError=this.$j.$13L,this.hasError&&(this.errorMessage=this.$j.get_ListErrorMessage()),i=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91)),r=new Array(0),this.$1uu(),!$0.$0(f)){for(u=f.$KS,n=0;n<u.get_Count();n++)t=u.get_$R(n),i.set_$R(t.get_$2m(),this.$1wu(t)),r[n]=t.get_$2m();this.paging=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS(this.$j);this.sorting=this.$j.$1Hk();this.commanding=this.$j.$1bz();$0.$0(this.filtering)&&(this.filtering=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z(this.$j))}this.records=i.$1RT();this.sortedRecordIds=r;this.$l4("DataSetUpdatedEventName")},$1ha:function(n){if(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91.isInstanceOfType(n)){var t=n;this.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ(t.getRecordId(),!0))}},$2ut:function(n,t){if(!$0.$0(n)&&!Mscrm.InternalUtilities._String.isNullOrEmpty(t)){this.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vI(n.getRecordId(),t));var i=this.$j.$A4,r=null;$0.$0(i)||(r=i.$4Z);r===n.getRecordId()&&this.$33g(n,t)}},$2tL:function(n){this.$9n("DataSetRecordChangeEventName",n)},$1wu:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91(this.columns,n);return t.AddPropertyChangedListener("RecordChangedEventName",this.$$d_$1ha),this.$2G9(t),t.$Aq=this.$1wC(t.getRecordId()),t},$2Hw:function(){var n,t,i;Mscrm.InternalUtilities.JSTypes.isNull(this.sorting)||Mscrm.InternalUtilities.JSTypes.isNull(this.sorting[0])?this.$j.$3q=null:(n=new Microsoft.Crm.Client.Core.Framework.$6M,t=this.sorting[0],n.$8Q=this.$FM(t.name),n.$Cg=t.sortDirection===1,Mscrm.InternalUtilities.JSTypes.isNull(this.sorting[1])||(i=this.sorting[1],n.$Al=this.$FM(i.name),n.$FO=i.sortDirection===1),this.$j.$3q=n)},$FM:function(n){for(var i,t=0;t<this.columns.length;t++)if(i=this.columns[t],i.alias===n||i.name===n)return i.name;return n},$1wC:function(n){var t,i,r,u=this;return r=this.$j.$1f.$3AH(function(t){return t.$4Z===n},i={val:t}),t=i.val,r,t},$2Wt:function(n){for(var i,t=0;t<this.columns.length;t++)if(i=this.columns[t],i.name===n)return i;return null},$2HL:function(n){var u=null,t,i,r;if(!$0.$0(n)){if(n.$TF="",t=this.$1wC(n.getRecordId()),$0.$0(t)||$0.$0(t.get_ModelContext())){n.$TF=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError");this.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ(n.getRecordId(),!1));return}u=t.get_ModelContext();i=this;r=this;n.validateAllColumns().done(function(r){r?(i.$2Ce(),i.$1Iz(t)):i.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ(n.getRecordId(),!1))}).fail(function(t){n.$TF=t.$F;r.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ(n.getRecordId(),!1))})}},$33g:function(n,t){if(!$0.$0(n)&&!$0.$0(this.get_$5q())&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))){this.$1VA();var i=(this.$j.$2.$g===13?"crmGrid":this.get_$5q().$L)+":"+this.$j.$D+":"+t;Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1P2(null,i);this.$1jT()}},$2Ce:function(){if(!$0.$0(this.get_$5q())){var n=(this.$j.$2.$g===13?"crmGrid":this.get_$5q().$L)+":"+this.$j.$D;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents")&&(this.$1VA(),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$2Ce(n),this.$1jT())}},$1Iz:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateRecordForCustomControl",null),i=n.$4Z,r=this;t.OnFailure=function(n){var t=r.records[i];$0.$0(t)||(t.$TF=n.$F);r.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ(i,!1))};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",n,t)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS=function(n){this.$j=n;this.totalResultCount=this.$j.get_RecordCount();this.pageSize=this.$j.get_PageSize();this.hasNextPage=this.$j.$1Z.$15E;this.hasPreviousPage=this.$j.$1Z.$1LX};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS.prototype={$j:null,totalResultCount:0,pageSize:0,hasNextPage:!1,hasPreviousPage:!1,setPageSize:function(n){$0.$0(n)||n<=0||this.$j.set_PageSize(n)},loadNextPage:function(){this.$j.$1fo()},loadPreviousPage:function(){this.$j.$1fq()},reset:function(){this.$j.$Ea()}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91=function(n,t){this.$$d_$mQ=Function.createDelegate(this,this.$mQ);this.$$d_$2uI=Function.createDelegate(this,this.$2uI);this.$Qh={};this.$kV={};this.$eu={};this.$kU={};this.$1EP={};this.$6M={};this.$1Bw={};this.$xY=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult));Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91.initializeBase(this);this.$4A=this.$2YW(n);this.$4b=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s.$1ws(n,!0);this.$P=t.get_$HV();this.$18=t;this.$18.add_$7L(this.$$d_$2uI);this.$1pz();this.$1jD()};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91.prototype={$P:null,$18:null,$1Bf:null,$4A:null,$4b:null,$14Q:!1,$TF:null,$nC:null,add_OnDataSetRecordPropertyChanged:function(n){this.$1p("RecordPropertyChangedEventName",n)},remove_OnDataSetRecordPropertyChanged:function(n){this.$32("RecordPropertyChangedEventName",n)},add_OnDataSetRecordChange:function(n){this.$1p("DataSetRecordChangeEventName",n)},remove_OnDataSetRecordChange:function(n){this.$32("DataSetRecordChangeEventName",n)},$2uI:function(n,t){if(Microsoft.Crm.Client.Core.Models.$m.$sK(t)===Microsoft.Crm.Client.Core.Framework.$U.$6n){var i=Microsoft.Crm.Client.Core.Models.$m.$5d(t);this.$1jD();this.$13I("RecordPropertyChangedEventName",this,i)}},$2YW:function(n){for(var u,t,f={},i={},e=n,o=e.length,r=0;r<o;++r)u=e[r],t=u.name,t in i?(t=t+"#"+i[t],i[t]=i[t]+1):i[t]=1,f[t]=u;return f},$Aq:null,getRecordId:function(){return this.$18.get_$2m()},getColumn:function(n){return this.$4A[n]},getValue:function(n){var t=this.$FM(n);return this.$1EP[t]},reformatValue:function(n){var t=this.$18.$I,i=this.$FM(n);return!$0.$0(this.$18.$53)&&this.$18.$53.hasField(i)&&(t=this.$18.$53),this.$18.$DG(t,i),this.getFormattedValue(n)},getAttributes:function(n){return n.$1HG(this.$18)},getValidator:function(n){return n.$sV(this.$18)},setValue:function(n,t){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),o=this.$FM(n),i=this.$4A[o],u,f,e;return $0.$0(i)?r.reject():(u=this.isValid(i.name),f=this.getNotification(i.name),this.$TF="",this.$18.$22h(i.name)||this.$18.$I.initializeValue(i.name,null,i.get_$jM()),e=Microsoft.Crm.Client.Core.Framework.$1u.$20s(t,i),this.$18.SetValue(i.name,e),this.$18y(i.name,u,f),r.resolve(!0),r.promise())},getFormattedValue:function(n){var t=this.$FM(n);return this.$6M[t]},getErrorMessage:function(){var n=this.$TF;return Mscrm.InternalUtilities._String.isNullOrWhiteSpace(n)&&!this.isRecordValid()&&(n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Form_Component_Error")),n},isDirty:function(){return this.$18.$CX()},isRecordValid:function(){var n=Mscrm.InternalUtilities._String.isNullOrWhiteSpace(this.$TF),r=this.$4A,t,u,i;for(t in r)u={key:t,value:r[t]},i=u.value,$0.$0(i)||(n=n&&this.isValid(i.name));return n},getPrimaryEntityLogicalName:function(){return this.$P==="activitypointer"&&!$0.$0(this.$1Bf)?this.$1Bf:this.$P},getCurrencyDecimalPrecision:function(n){return n.dataType==="Currency"&&!$0.$0(this.$18)?this.$18.$20b(n.name):"precision"in n.attributes?n.attributes.precision:Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$UP.CurrencyDecimalDigits},$1pz:function(){this.$14Q||$0.$0(this.$18)||(this.$18.add_$7v(this.$$d_$mQ),this.$14Q=!0)},$1uX:function(){this.$14Q&&!$0.$0(this.$18)&&(this.$18.remove_$7v(this.$$d_$mQ),this.$14Q=!1)},getNamedReference:function(){return this.$18.get_$MS()},getActivityPartyRecord:function(){return this.$18.get_$2Ix()},validateAllColumns:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),r=new Array(0),u=this.$4A,i,f,n,e,o,s,h;for(i in u)f={key:i,value:u[i]},n=f.value,$0.$0(n)||n.get_$2oG()||n.isHidden||(e=this.isValid(n.name),o=this.getNotification(n.name),r.push(this.$2IC(n,e,o)));return s=this,h=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when.apply(null,r).then(function(){t.resolve(s.isRecordValid())},function(n){var i=n;h.$TF=i.$F;t.reject(i)}),t.promise()},$18y:function(n,t,i){var r=this.$FM(n),u=this.$4A[r],f=this;this.$2IC(u,t,i).fail(function(n){f.$TF=n.$F})},$2IC:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),u=this,f=this;return n.$sV(this.$18).done(function(f){u.isEditable(n.name).done(function(e){u.$2nH(n.name,f,e,t,i).done(function(n){r.resolve(n)}).fail(function(n){r.reject(n)})}).fail(function(n){r.reject(Microsoft.Crm.Client.Core.Framework.$7.$1GB(n))})}).fail(function(n){r.reject(n)}),r.promise()},$2nH:function(n,t,i,r,u){var e=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),o=r,f,s;return $0.$0(t)?e.resolve(o):(f=this,s=this,this.getFieldRequiredLevel(n).done(function(s){var h,c,l;switch(s){case 0:t.$SF.set_$tH(!1);break;case 3:t.$SF.set_$tH(!1);break;case 2:t.$SF.set_$tH(!0)}h=f.$18.GetValue(n+Microsoft.Crm.Client.Core.Framework.$U.$6n);c=t.validate(h,!1,!i);f.setValidatorResult(n,c.isValid,h,c.errorMessage);o=f.isValid(n);l=f.getNotification(n);(r!==o||u!==l)&&f.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2tv(f.getRecordId(),n));e.resolve(o)}).fail(function(n){e.reject(n)})),e.promise()},$FM:function(n){return $0.$0(this.$1Bw[n])?n:this.$1Bw[n]},$1Ok:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$1g,Object),i,r,u;return Microsoft.Crm.Client.Core.Framework.$1u.$gA(n)?(t.resolve(Microsoft.Crm.Client.Core.Framework.$1g.get_$2AY()),t.promise()):(i=this.$Qh[n],!$0.$0(i)&&!i.$DB)?(t.resolve(i),t.promise()):(r=this,u=this,this.$23v().then(function(){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$1HT(r.$18,n,2);i.then(function(i){r.$Qh[n]=i;t.resolve(i)},function(t){Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,String.format("Could not retrieve field access rules for field {0}: {1}",n,JSON.stringify(t)))})},function(n){t.reject(n)}),t)},setFieldErrorMessage:function(n,t){var i=this.$FM(n),r=this.isValid(i),u=this.getNotification(i);this.$kU[i]=t;this.$18y(i,r,u)},clearFieldErrorMessage:function(n){var t=this.$FM(n),i=this.isValid(t),r=this.getNotification(t);t in this.$kU&&delete this.$kU[t];this.$18y(t,i,r)},setValidatorResult:function(n,t,i,r){this.$xY.set_$R(n,new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(t,i,r))},setFieldEditableProperty:function(n,t){var i=this.$FM(n),r=this.isValid(i),u=this.getNotification(i);i in this.$eu&&(this.$eu[i]=t);this.$18y(i,r,u);this.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vF(this.getRecordId(),i))},getFieldEditableProperty:function(n){var t=!1,i=this.$FM(n);return i in this.$eu&&(t=this.$eu[i]),t},isValid:function(n){if(Mscrm.InternalUtilities._String.isNullOrWhiteSpace(this.$kU[n])){if(this.$xY.$3F5(n))return this.$xY.get_$R(n).$57}else return!1;return!0},getNotification:function(n){return n in this.$kU?this.$kU[n]:this.$xY.$3F5(n)?this.$xY.get_$R(n).$47:null},isEditable:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i=this.$FM(n),r=this.$4A[i],f=$0.$0(r.attributes.type)?null:r.attributes.type.toLowerCase(),s=$0.$0(r.dataType)?null:r.dataType.toLowerCase(),e,o,h,u,c;return($0.$0(this.$18)?t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("ModelContext needs to be initialized first")):$0.$0(r)?t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Invalid argument: columAlias")):Microsoft.Crm.Client.Core.Framework.$6.$4N||i.toLowerCase()==="statecode"||i.toLowerCase()==="statuscode"||r.isHidden?t.resolve(!1):f==="lookup"&&s!=="lookup.simple"||f==="owner"||f==="partylist"||f==="customer"?t.resolve(!1):this.$2ne(i.toLowerCase())?t.resolve(!1):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||t.resolve(this.$1r5(i)),!t.isPending())?t.promise():(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&(e=this.$eu[i],!$0.$0(e))?(t.resolve(e),t.promise()):Microsoft.Crm.Client.Core.Framework.$1u.$gA(i)?(o=this,h=this,this.$1Ok(i).then(function(n){(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&(o.$eu[i]=n.$Oi);t.resolve(n.$Oi)},function(n){t.reject(n)}),t.promise()):(u=this,c=this,r.$1HG(this.$18).then(function(){if("sourcetype"in r.attributes){var n=r.attributes.sourcetype;(n===1||n===2)&&t.resolve(!1)}t.isPending()&&u.$1Ok(i).then(function(n){(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!u.$18.get_$sz()&&(u.$eu[i]=n.$Oi);var r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(u.getPrimaryEntityLogicalName()),f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$14N(u.$18.get_$HV(),u.$18,2);t.resolve(n.$Oi&&!u.$18.get_$sz()&&f&&!r.$Ty)},function(n){t.reject(n)})},function(n){t.reject(n)}),t.promise())},$2Uo:function(){var f=MscrmComponents.DeferredPromiseFactory(Object,Object),n=new Array(0),r=this.$4A,t,u,i;for(t in r)u={key:t,value:r[t]},i=u.value,n.push(this.isEditable(i.alias)),n.push(this.getFieldRequiredLevel(i.alias));return f.allArray(n)},$2ne:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return t.add("fullname"),t.add("yomifullname"),t.add("address1_composite"),t.add("address2_composite"),t.add("address3_composite"),t.add("shipto_composite"),t.add("billto_composite"),t.contains(n)},isSecured:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i=this.$FM(n),r=this,u=this;return this.$1Ok(i).then(function(n){t.resolve(n.$DB)},function(n){t.reject(n)}),t.promise()},isReadable:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i=this.$FM(n),r=this,u=this;return this.$1Ok(i).then(function(n){t.resolve(n.$1K5)},function(n){t.reject(n)}),t.promise()},setFieldRequiredLevel:function(n,t){var i=this.$FM(n),r=this.isValid(i),u=this.getNotification(i);i in this.$kV&&(this.$kV[i]=t);this.$18y(i,r,u);this.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vG(this.getRecordId(),i))},$32W:function(n){var t=0,i=this.$FM(n);return i in this.$kV&&(t=this.$kV[i]),t},getFieldRequiredLevel:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$7k,Microsoft.Crm.Client.Core.Framework.$7),i=this.$FM(n),r,u,f;return Microsoft.Crm.Client.Core.Framework.$1u.$gA(i)?(t.resolve(0),t.promise()):(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&(r=this.$kV[i],!$0.$0(r)&&r!==-1)?(t.resolve(r),t.promise()):(u=this,f=this,this.$18.$2gV(i).then(function(n){(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&(u.$kV[i]=n);t.resolve(n)},function(n){t.reject(n)}),t.promise())},$23v:function(){var t;if(!$0.$0(this.$nC))return this.$nC;this.$nC=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);var i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1),r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.$JX(this.$4b,i),n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveRecordFromCustomControlDataSet",r),u=this;return n.OnSuccess=function(){u.$nC.resolve(!0)},t=this,n.OnFailure=function(n){t.$nC.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$Aq,n),this.$nC.promise()},$1r5:function(){return!1},$1jD:function(){var i=this.$4A,t,r,n;for(t in i)r={key:t,value:i[t]},n=r.value,$0.$0(n)||$0.$0(n.name)||(this.$1EP[n.name]=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$21Z(this.$18,n),this.$6M[n.name]=this.$18.$I.getFormattedValue(n.name),Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(n.alias)||(this.$1Bw[n.alias]=n.name,this[n.alias]=this.$1EP[n.name])),this.$P==="activitypointer"&&(this.$1Bf=this.$18.GetValue("activitytypecode"+Microsoft.Crm.Client.Core.Framework.$U.$6n))},$mQ:function(){this.$1jD();this.$7("RecordChangedEventName")},$Oh:function(){$0.$0(this.$18)||this.$18.remove_$7L(this.$$d_$2uI);this.$1uX();Microsoft.Crm.Client.Core.Framework.$AJ.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ.prototype={name:null,sortDirection:0};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HO=function(n){this.$j=n;this.$1Dj=new Microsoft.Crm.Client.Core.ViewModels.$6o};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HO.prototype={$j:null,$1Dj:null,$1cz:!1,getRecordCommands:function(n){var i,u,r,t;return this.$j.$145=!0,i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),this.$1cz?i.resolve(!0):(this.$1cz=!0,u=this,this.$2zs().always(function(){i.resolve(!0)})),r=MscrmComponents.DeferredPromiseFactory(Array,Microsoft.Crm.Client.Core.Framework.$7),t=this,i.always(function(){var o=t.$j.$D,e=null,i,u,f;if(!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(n))for(i=0;i<t.$j.$1f.get_Count();i++)u=t.$j.$1f.get_$R(i),u.$4Z===n&&(e=u);f=MscrmComponents.DeferredPromiseFactory(Array,Microsoft.Crm.Client.Core.Framework.$7);t.$1Dj.$2q4("HomePageGridItem:"+o,e,f);f.then(function(n){for(var u,f=new Array(0),i=0;i<n.length;i++)u=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HP(n[i]),u.$2Nl()&&f.push(u);r.resolve(f);t.$j.$145=!1},function(n){r.reject(n);t.$j.$145=!1})}),r.promise()},$2zs:function(){var n=this.$j.$D;return this.$1Dj.$vj("HomePageGrid:"+n,this.$j)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HP=function(n){this.$QJ=n;this.command=this.$32J();this.label=n.$1G};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HP.prototype={$QJ:null,command:null,label:null,execute:function(){this.$QJ.$1g.execute()},$2Nl:function(){return this.$QJ.get_ActionCommandCanExecute()},$32J:function(){if(IsNull(this.$QJ))return"";if(!IsNull(this.$QJ.$M)){var n=this.$QJ.$M;if("CommandId"in n)return n.CommandId;if("ruleEvaluationCommand"in n)return n.ruleEvaluationCommand}return IsNull(this.$QJ.$6Y)?IsNull(this.$QJ.$L)?"":this.$QJ.$L:this.$QJ.$6Y}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30;return i.resultType=10,i.recordId=n,i.isRecordSavedSuccessfully=t,i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vI=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30;return i.resultType=1,i.recordId=n,i.affectedColumns=[t],i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vG=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30;return i.resultType=2,i.recordId=n,i.affectedColumns=[t],i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vF=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30;return i.resultType=3,i.recordId=n,i.affectedColumns=[t],i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2tv=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30;return i.resultType=4,i.recordId=n,i.affectedColumns=[t],i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.prototype={recordId:null,isRecordSavedSuccessfully:!1,affectedColumns:null,resultType:0};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z=function(){this.$$d_$2q7=Function.createDelegate(this,this.$2q7);this.$$d_$25b=Function.createDelegate(this,this.$25b);this.$$d_$2X9=Function.createDelegate(this,this.$2X9);this.$$d_$27S=Function.createDelegate(this,this.$27S);this.$$d_$2XD=Function.createDelegate(this,this.$2XD);this.$$d_getInteractionMode=Function.createDelegate(this,this.getInteractionMode);this.$$d_setInteractionMode=Function.createDelegate(this,this.setInteractionMode);this.$$d_setLastTabPressedTime=Function.createDelegate(this,this.setLastTabPressedTime);this.$$d_isTabPressed=Function.createDelegate(this,this.isTabPressed);this.$$d_requestRender=Function.createDelegate(this,this.requestRender);this.$$d_$nT=Function.createDelegate(this,this.$nT);this.$H={};this.$Aj=new Array(0);this.get_childViewModels=this.get_ChildViewModels;Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$2Sz=function(){var n=document.createElement("script");return n.type="text/javascript",n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.prototype={$Gr:null,$cJ:null,$Tx:!1,$1OR:!1,$ax:null,$Xj:null,$13G:null,$ZB:!1,$22H:!1,$eK:!1,$w:null,$XC:0,$1Xr:0,$BU:!1,$150:0,$192:0,$Tu:!1,$fc:!1,$146:!1,$E6:!1,$1RX:!1,$1RW:null,$Cb:null,$6b:null,$al:null,$144:null,$1Er:!1,$1Im:!1,$1kU:!1,$fh:!1,$gs:null,$10m:null,$1di:!1,$1e2:!1,$1Ba:null,$Ag:null,get_IsDataSetControl:function(){return this.$Tu},set_IsDataSetControl:function(n){return this.$Tu=n,n},get_GridEnabled:function(){return this.$fc},set_GridEnabled:function(n){return this.$fc=n,this.$7("GridEnabled"),n},get_IsGridChild:function(){return this.$146},get_DisableHeaderLongPress:function(){return this.$E6},set_DisableHeaderLongPress:function(n){return this.$E6=n,n},get_TopMenuEnabled:function(){return this.$1RX},set_TopMenuEnabled:function(n){return this.$1RX=n,n},get_TopMenu:function(){return this.$1RW},set_TopMenu:function(n){return this.$1RW=n,n},add_OnPropertyBagChanged:function(n){this.$1p("OnPropertyBagChanged",n)},remove_OnPropertyBagChanged:function(n){this.$32("OnPropertyBagChanged",n)},add_OnPropBagWithLayoutChange:function(n){this.$1p("OnPropBagWithLayoutChange",n)},remove_OnPropBagWithLayoutChange:function(n){this.$32("OnPropBagWithLayoutChange",n)},get_ConstructorName:function(){return this.$Gr},set_ConstructorName:function(n){return this.$Gr!==n&&(this.$Gr=n),n},get_UniqueId:function(){return this.$cJ},set_UniqueId:function(n){return this.$cJ!==n&&(this.$cJ=n),n},get_IsLoaded:function(){return this.$Tx},set_IsLoaded:function(n){return this.$Tx!==n&&(this.$Tx=n,this.$7("IsLoaded")),n},get_IsActive:function(){return this.$BU||!$0.$0(this.$2)&&(this.$2.$g===5||this.$2.$g===39)},set_IsActive:function(n){return this.$BU!==n&&(this.$BU=n,this.$7("IsActive")),n},get_MaxAvailableWidth:function(){return this.$150},set_MaxAvailableWidth:function(n){return this.$150!==n&&(this.$150=n,this.$7("MaxAvailableWidth")),n},get_ViewportHeight:function(){return this.$192},set_ViewportHeight:function(n){return this.$192!==n&&(this.$192=n,this.$7("ViewportHeight")),n},get_InErrorState:function(){return this.$ZB},set_InErrorState:function(n){return this.$ZB!==n&&(this.$ZB=n,this.$7("InErrorState")),n},get_HasPropertiesContainRerenderKey:function(){return this.$fh},set_HasPropertiesContainRerenderKey:function(n){return this.$fh=n,n},get_ParentalEventListeners:function(){return this.$gs},set_ParentalEventListeners:function(n){var t,i,r,f,u;if(this.$gs=null,this.$gs={},t=n,!IsNull(t)&&Array.isInstanceOfType(t))for(i=0;i<t.length;i++)r=t[i].eventname,f=t[i].eventhandler,r in this.$gs?u=this.$gs[r]:(u=new Array(0),this.$gs[r]=u),u.push(f);return n},get_Internal:function(){return this.$1di},set_Internal:function(n){return this.$1di=n,n},get_IsContainer:function(){return this.$1e2},set_IsContainer:function(n){return this.$1e2=n,n},get_ControlProperties:function(){return this.$10m},set_ControlProperties:function(n){return this.$10m=n,n},get_PluralName:function(){return this.$Ag},retrieveOrAddChildViewModel:function(n,t,i){var r,u,f,e;if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))return null;if(r=null,r=this.$H[n],u={},u.customProperties=i,u.key=n,IsNull(r)){r=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V("CustomControl");r.$2i=this.$2i;r.set_$GO(this.$2);this.$H[n]=r;u.customControlTemplateName=t;u.shouldBeInitialized=!0;u.primayModelName=this.$D;u.parentControlProperties=this.$10m;try{r.set_ModelContext(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p.$2fI(i.recordid,this));(this.$Tu||this.$146)&&(r.$146=!0)}catch(o){this.$ZB=!0;this.logCustomControlInitializationError("CustomControl - Failed to set the context for this")}f=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCustomControlTemplate",u));e=f.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(e)}else u.shouldBeInitialized=!1,Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$3Bp(r,this.$2A6(null,u),r.get_ModelContext(),!1),!this.$fh&&"forcerender"in i&&i.forcerender&&r.requestRender(),this.$fh=!1;return r},RemoveChildViewModel:function(n){var t=this.$H[n];delete this.$H[n]},get_IsValid:function(){return $0.$0(this.get_ErrorMessage())||this.get_ErrorMessage()===""?Microsoft.Crm.Client.Core.ViewModels.$SD.prototype.get_IsValid.call(this):!1},get_PropertyDefinitions:function(){return this.$ax},set_PropertyDefinitions:function(n){return n!==this.$ax&&(this.$ax=n,this.$7("PropertyDefinitions")),n},get_DataSetDefinitions:function(){return this.$Xj},set_DataSetDefinitions:function(n){return n!==this.$Xj&&(this.$Xj=n,this.$7("DataSetDefinitions")),n},get_GroupDefinitions:function(){return this.$13G},set_GroupDefinitions:function(n){return n!==this.$13G&&(this.$13G=n),n},get_ControlMode:function(){return this.$XC},set_ControlMode:function(n){return this.$XC=n,n},get_ControlType:function(){return this.$1Xr},set_ControlType:function(n){return this.$1Xr=n,n},get_Resources:function(){return this.$Aj},set_Resources:function(n){return this.$Aj=n,n},get_PropBagGenerator:function(){return this.$w},set_PropBagGenerator:function(n){return this.$w!==n&&(this.$w=n,this.$7("PropBagGenerator")),n},get_CssNameString:function(){return this.$Gr.replace("."," ")},get_CustomControlInitCalled:function(){return this.$eK},set_CustomControlInitCalled:function(n){if(this.$eK!==n){if(this.$eK=n,!this.$eK)return n;this.$7("OnInitControl");var t=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){if(t.$eK&&!t.$2h&&!$0.$0(t.$2)){var n;(n=t.$2).set_$1iF(n.$mb-1)}},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1Yb,"CustomControl.RegisterControlCreation")}return n},get_ErrorMessage:function(){if(!$0.$0(this.$7u))return this.$7u.$47;if(!$0.$0(this.$w)){var n=this.$w.$AY();return $0.$0(n)?"":n.$47}return""},set_$vH:function(n){return $0.$0(this.$6b)?this.$6b=n:this.$6b.$1gI(n),n},get_State:function(){return this.$6b.$20()},get_$Uh:function(){if($0.$0(this.$Cb)){var n=this.$2iM(),t=this.$L.split("!")[0];this.$2.$g===13?this.$Cb=this.$2.get_$Uh()+"_"+this.$Gr:this.$2.$g===1?(this.$Cb=this.$2.get_$Uh()+"_"+t+this.$Gr,$0.$0(n)||(this.$Cb+=n)):this.$2.$g===39?(this.$Cb="cc_tbx_"+this.get_ModelContext().$2b.get_$4m().get_$4m()+"_"+t+this.$Gr,$0.$0(n)||(this.$Cb+=n)):(this.$Cb=this.$2.get_$Uh()+"_"+t+this.$Gr,$0.$0(n)||(this.$Cb+=n))}return this.$Cb},get_PersonalizationActionProvider:function(){return this.$al},set_PersonalizationActionProvider:function(n){return this.$al=n,n},get_$24G:function(){if($0.$0(this.$144)){var n=this;this.$144=function(){return!1}}return this.$144},set_$24G:function(n){return this.$144=n,n},get_$1i6:function(){return"CustomControlPane"},get_$1Bb:function(){return!this.$Tu&&this.$146&&$0.$0(this.$1Ba)&&(this.$1Ba=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HW(this.get_ModelContext())),this.$1Ba},get_customControlViewModelId:function(){return this.$Tu&&!$0.$0(this.$w)&&!$0.$0(this.$w.GetPrimaryDataSet())&&!$0.$0(this.$w.GetPrimaryDataSet().$j)?this.$w.GetPrimaryDataSet().$j.get_ViewModelId():this.get_ViewModelId()},get_$1i4:function(){return this.$Tu&&!$0.$0(this.$w)&&!$0.$0(this.$w.GetPrimaryDataSet())&&!$0.$0(this.$w.GetPrimaryDataSet().$j)?this.$w.GetPrimaryDataSet().$j.$D:null},get_$qQ:function(){return this.$Tu?$0.$0(this.$w)||$0.$0(this.$w.GetPrimaryDataSet())||$0.$0(this.$w.GetPrimaryDataSet().$j)?"CustomControlUnloaded":this.$w.GetPrimaryDataSet().$j.get_$qQ():null},get_InlineLayout:function(){return this.$1Im},set_InlineLayout:function(n){return this.$1Im!==n&&(this.$1Im=n,this.$7("CustomControlLayout")),n},get_DisableUITransitions:function(){return this.$1Er},set_DisableUITransitions:function(n){return this.$1Er=n,n},get_RightAlignedEdit:function(){return this.$1kU},set_RightAlignedEdit:function(n){return this.$1kU=n,this.$7("CustomControlLayout"),n},$2Z:function(){var t,n;this.$1a||($0.$0(this.$2)||(t=this.$2).set_$1iF(t.$mb+1),n=this,this.$2Gz().always(function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(n);$0.$0(n.get_$1Bb())||n.get_$1Bb().$CO(n.$ax,n);var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomControlHostViewModel.LoadResources");t.start();n.$2qi().always(function(){(t.stop(),n.$1OR=!0,n.logCustomControlPerfInfo("Load Resources",t),n.$2h)||(n.$17E(),n.AddPropertyChangedListener("Enabled",n.$$d_$2XD),n.AddPropertyChangedListener("HasFocus",n.$$d_$2XD),n.AddPropertyChangedListener("Visible",n.$$d_$2XD),n.AddPropertyChangedListener("Label",n.$$d_$2XD),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",n.$$d_$2XD),n.AddPropertyChangedListener("OnInitControl",n.$$d_$27S))})}),$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D))||(this.$Ag=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D).$Ag))},$2Gz:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomControlHostViewModel.CreatePropertyBag"),n,r;return i.start(),n=this,r=this,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2Sc(this.$ax,this.$Xj,this.$13G,this.$2,this.$Tu,this.$fc,this.$E6,this.$1RX,this.$1RW,this.get_ModelContext()).then(function(r){if(n.set_PropBagGenerator(r),i.stop(),!$0.$0(n.$w)){n.logCustomControlPerfInfo("CreatePropertyBag",i);n.$w.AddPropertyChangedListener("PropertiesUpdated",n.$$d_$2XD);n.$w.AddPropertyChangedListener("PropertyBagHasError",n.$$d_$2X9);var u=n.$w.$AY();n.set_RequiredLevel($0.$0(u)?0:u.get_$hS());n.$BU&&n.$w.$1p8()}t.resolve(!0)},function(){r.$ZB=!0;r.logCustomControlInitializationError("CustomControl - Failed to create property bag generator");t.resolve(!1)}),t.promise()},$27S:function(n,t){var e=this.$w.$12g(),f=e,r,u,i;for(r in f)u={key:r,value:f[r]},u.key in this.$Xj&&u.value.$2tr(n,t);i=this.$w.GetPrimaryDataSet();!$0.$0(i)&&this.$BU&&(i.$j.set_Label(this.$1G),i.$j.$EP(null,null))},$17E:function(){if($0.$0(this.$6b)&&(this.$2.$g===1||this.$2.$g===13||!$0.$0(this.get_ModelContext()))){if(this.$2.$1K4)this.get_$Uh()in this.$2.$qS?this.set_$vH(new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV(this.$2.$qS[this.get_$Uh()])):this.set_$vH(new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV(null)),this.set_IsLoaded(this.$1OR&&!$0.$0(this.$w));else if(!this.$2.$1K4){var n=this;this.$2.AddPropertyChangedListener("IsPersonalizationRetrieved",function(){n.$17E()})}}else this.set_IsLoaded(this.$1OR&&!$0.$0(this.$w))},$nT:function(n){return this.$2.$g===5?!1:(this.$2.$qS[this.get_$Uh()]=n,this.$2.$nT())},$2iM:function(){var n,t,i;if(!$0.$0(this.$Xj)){n=this.$Xj;for(t in n)return i={key:t,value:n[t]},i.value.ViewId}return""},$25b:function(n){var u=n,e=u.descriptor,t=u.paramDictionary,f=t.key,i,r;$0.$0(f)||(i=this.$H[f],Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$3Bp(i,this.$2A6(e,t),i.get_ModelContext(),!0));this.$fh=!1;r=t.OnSuccess;$0.$0(r)||r(n)},$2q7:function(n){this.$MZ(n)},$2A6:function(n,t){var e=t.shouldBeInitialized,o=t.key,r=null,u=t.customProperties,i=null,c,l,s,h,f;if(e){if(r=n,r.ControlProperties=t.parentControlProperties,r.PrimaryModelName=t.primayModelName,r.Name=o,r.IsApiRegistered=!1,i=r.Properties,$0.$0(i))return c=t.key,this.$H[c].$ZB=!0,this.logCustomControlInitializationError("CustomControl - Failed to get the metadata template"),null;l=this.$11x(i,"FormFactor");l.Value=Microsoft.Crm.Client.Core.Framework.$6.get_$1d()}else i=new Array(0);if(!IsNull(u)){s=u;for(h in s){f={key:h,value:s[h]};switch(f.key.toLowerCase()){case"controlstates":this.$3Ao(i,u[f.key]);break;case"childeventlisteners":i.push(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentalEventListeners",u[f.key]));break;case"parameters":e&&this.$3BN(i,u[f.key])}}}return e?r:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("CustomControl","CustomControlHostView",o,i,null,null,this.$2.$D,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiCustomControlDescriptor(14,null,o,!0,!0,this.$L))},$3Ao:function(n,t){var e=t,r,i,u,f;for(r in e){i={key:r,value:e[r]};switch(i.key.toLocaleLowerCase()){case"hasfocus":u=t[i.key];u!==this.$5R&&(this.$fh=!0);n.push(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HasFocus",u));break;case"iscontroldisabled":f=!t[i.key];f!==this.get_Enabled()&&(this.$fh=!0);n.push(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",f))}}},$3BN:function(n,t){var r=this.$11x(n,"PropertyDefinitions").Value,u=this.$11x(n,"DataSetDefinitions").Value,e=this.$11x(n,"GroupDefinitions").Value,f=!1,s=t,o,i,h,c,l,a;for(o in s)i={key:o,value:s[o]},!IsNull(r)&&i.key in r?(f||(f=!0,this.$2Hf(n,!1)),h=r[i.key],c=i.value,r[i.key]=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Sd(h,c)):!IsNull(u)&&i.key in u?(f||(f=!0,this.$2Hf(n,!0)),l=u[i.key],a=i.value,u[i.key]=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2RD(l,a)):!IsNull(e)&&i.key in e&&(e[i.key]=i.value)},$2Hf:function(n,t){var i=this.$11x(n,"IsDataSetControl");i.Value=t},$11x:function(n,t){for(var r,u=n,f=u.length,i=0;i<f;++i)if(r=u[i],r.Name.toUpperCase()===t.toUpperCase())return r;return null},$2XD:function(){this.$1I3()},triggerUpdate:function(){this.$9j("OnPropBagWithLayoutChange")},$1I3:function(){this.$9j("OnPropertyBagChanged");this.$7("PropertyBagChanged")},$2X9:function(){this.$7("ErrorMessage");this.$7("IsValid")},$Hd:function(){if(this.$1a)if($0.$0(this.$w)){var n=this;this.$2Gz().always(function(){n.$17E()})}else this.$w.$3An(this.get_ModelContext()),this.set_IsLoaded(!1),this.$Cb=null,this.$6b=null,this.$17E()},$EP:function(n,t){if(this.$cJ in Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$T2||(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$T2[this.$cJ]=this),this.set_IsActive(!0),!$0.$0(this.$w)){this.$w.$1p8();var i=this.$w.GetPrimaryDataSet();!$0.$0(i)&&this.$eK&&i.$j.$EP(null,null)}this.addUpdatedProperty("activation");this.$1I3();Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)},$uN:function(n,t){this.$cJ in Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$T2&&delete Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$T2[this.$cJ];this.set_IsActive(!1);this.set_HasFocus(!1);$0.$0(this.$w)||this.$w.$30v();this.addUpdatedProperty("activation");this.$1I3();Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$uN.call(this,n,t)},$2qi:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i,r=new Array(0),n,u,f;if(!$0.$0(this.$Aj))for(n=0;n<this.$Aj.length&&this.$Aj[n].Type!==2;n++)i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(20,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),"webresource",1,!1,this.$Aj[n].Name),Microsoft.Crm.Client.Core.Framework.$q.$4t("","CustomControl:"+this.$L)),r.push(i);return u=this,f=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r).then(function(n){u.$25n(n,0).then(function(n){t.resolve(n)},function(n){t.reject(n)})},function(n){t.reject(n)}),t.promise()},$25n:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),u,o,h;if(t>=n.length||t>=this.$Aj.length)return i.resolve(!0),i.promise();for(var s=this.$Aj[t].LoadOrder,r=t,f,e=new Array(0);r<this.$Aj.length&&this.$Aj[r].LoadOrder===s;)u=n[r],u.get_$3F6()>0&&(f=this.$2Ku(this.$Aj[r],u.get_$R(0)),e.push(f)),r++;return o=this,h=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e).then(function(){o.$25n(n,r).then(function(n){i.resolve(n)},function(n){i.reject(n)})},function(n){i.reject(n)}),i.promise()},$2Ku:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),u,f,r,e;return Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$sM().$2p1(n.Name)?(i.resolve(!0),i.promise()):$0.$0(t)||$0.$0(t.get_$4r())?(i.resolve(!1),i.promise()):(u=t.get_$4r().toString(),n.Type&&n.Type!==4?n.Type===1?(r=window.document.createElement("style"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.innerHTML=u,window.document.body.appendChild(r)):n.Type===3&&(e=window.document.createElement("Html"),e.innerHTML=u,window.document.body.appendChild(e)):(f=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$2Sz(),f.innerHTML=this.$2Ky(u,n.Name),window.document.body.appendChild(f)),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$sM().$2KN(n.Name),i.resolve(!0),i.promise())},$2Ky:function(n,t){return"var _define = define;\ndefine = null;\n"+n+"\ndefine = _define;\n_define = null;\n//# sourceURL="+t+".js"},addUpdatedProperty:function(n){$0.$0(this.$w)||this.$w.$nq.add(n)},requestRender:function(){this.$7("ControlUpdated")},isTabPressed:function(){var n=(new Date).getTime();return n-this.$2.$1fQ<300?!0:!1},setLastTabPressedTime:function(n){this.$2.$1fQ=n},setInteractionMode:function(n){this.$2.$1dg=n},getInteractionMode:function(){return this.$2.$1dg},generatePropertyBag:function(){var n={},u,f;n.parameters=this.$w.$2Z4(this.get_Enabled());n.updatedProperties=this.$w.$nq.toArray();var t={},i=this.get_$24G()(),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);return t.isControlDisabled=!this.get_Enabled()||i||!$0.$0(r)&&r.$Ty,t.isRead=!this.$2nh(i),t.isPreview=$0.$0(Microsoft.Crm.Client.Core.Framework.$6.$4N)?!1:Microsoft.Crm.Client.Core.Framework.$6.$4N,t.isOffline=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F(),t.isVisible=this.$4u,t.isActive=this.get_IsActive(),t.pageInfo=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2i4(this),t.label=this.$1G,t.hasFocus=this.$5R,u=this,t.blur=function(){u.set_HasFocus(!1)},f=this,t.focus=function(){f.set_HasFocus(!0)},n.mode=t,n.client=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2ex(this),n.utils=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2jr(this),n.formatting=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2gh(),n.navigation=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2hX(),n.theming=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$21y(this),n.resources=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2ir(this.$Gr),n.factory=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2gQ(),n.children=this.$2eu(),n.eventHandlers=this.$gs,n["internal.messages"]=Xrm.Internal.messages,this.$w.$nq.clear(),n},$2eu:function(){var t={},r=this.$H,i,n;for(i in r)n={key:i,value:r[i]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(n.value)&&(t[n.key]=n.value.$2fn());return Microsoft.Crm.Client.Core.Framework.$1B.$s(t)>0?t:null},$2fn:function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT(this.$Gr,this.$L,null,null)},$2nh:function(n){return!this.get_Enabled()||n?!1:this.$XC?this.$XC===2?this.$5R:!0:!1},updateOutput:function(n){this.$w.$3BL(n,this.$cJ,this.get_Enabled());!$0.$0(this.get_$1Bb())&&this.get_ModelContext().$I.$4w.get_Count()>0&&this.get_$1Bb().$cR(this.get_Enabled(),this)},$3BM:function(n){$0.$0(this.$w)||$0.$0(this.$w.$AY())||this.$w.$AY().$2EV(this.get_ModelContext(),n,this.get_Enabled())},getPrimaryFieldName:function(){var i=this.$ax,t,r,n;for(t in i)if(r={key:t,value:i[t]},n=r.value,!n.Static&&!n.Usage&&n.Primary)return n.Value;return""},$1cS:function(){var n,t,r,i;if($0.$0(this.$w)||$0.$0(this.$w.$AY())){n=this.$ax;for(t in n)if(r={key:t,value:n[t]},i=r.value,i.Primary)return i.Value;return""}return this.$w.$AY().$1HV()},$Rr:function(){var i,n,t,r;if(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Rr.call(this),this.$Tx){i=this.$w.$12g();n=i;for(t in n)r={key:t,value:n[t]},r.value.$j.$Rr()}this.$1I3()},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)},$Oh:function(){var n,t;this.$ax=null;this.$Gr=null;this.$Tx=!1;this.$22H=!1;this.$ZB=!1;this.$Aj=null;!this.$1a||this.$eK||$0.$0(this.$2)||(n=this.$2).set_$1iF(n.$mb-1);$0.$0(this.$w)||(this.$w.RemovePropertyChangedListener("PropertyBagHasError",this.$$d_$2X9),this.$w.RemovePropertyChangedListener("PropertiesUpdated",this.$$d_$2XD),this.$w.$5E(),this.$w=null);this.RemovePropertyChangedListener("Enabled",this.$$d_$2XD);this.RemovePropertyChangedListener("HasFocus",this.$$d_$2XD);this.RemovePropertyChangedListener("Label",this.$$d_$2XD);this.RemovePropertyChangedListener("Visible",this.$$d_$2XD);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$2XD);this.RemovePropertyChangedListener("OnInitControl",this.$$d_$27S);t=this;this.RemovePropertyChangedListener("IsPersonalizationRetrieved",function(){t.$17E()});Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$21w:function(){return this.$2h?"":$0.$0(this.$w.$AY())?$0.$0(this.$Xj)?"undefined":"data-set":this.$w.$AY().$AW},logCustomControlInitializationError:function(n){var t=this.$21w(),i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PW(this.$Gr,n,$16.$cH(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q,this.$XC),t);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i)},logCustomControlPerfInfo:function(n,t){if(!(t.get_$IT()<0)){var i=this.$21w(),r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pl(this.$Gr,$16.$cH(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q,this.$XC),i,n,t.get_$IT());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(r)}},get_ChildViewModels:function(){return this.$H},$CK:function(n,t){this.$H[n]=t},$nR:function(n){var t=n;for(var i in t){var r={key:i,value:t[i]},u=r.key,f=r.value;this.$CK(u,f)}},get_$1Xq:function(){return!1}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$3De=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$3De.prototype={eventname:null,eventhandler:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.initializeBase(this);this.$T2={}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.$C)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.$C=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.$C};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.prototype={$T2:null,get_ControlDictionary:function(){return this.$T2},set_ControlDictionary:function(n){return this.$T2=n,n},$2fK:function(n){return n in this.$T2?this.$T2[n]:null},add_$1iu:function(n){this.$1p("PropertiesUpdated",n)},remove_$1iu:function(n){this.$32("PropertiesUpdated",n)},$2XF:function(n){var t=this.$4d("PropertiesUpdated");t&&t(this,n)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nq=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nq.initializeBase(this);this.name=n;this.dataType=t;this.attributes=i;this.validator=r};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47=function(){this.$Zh=new Array(0)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$sM=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$C)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$C=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$C};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.prototype={$Zh:null,$2KN:function(n){this.$Zh.push(n)},$2p1:function(n){return Array.contains(this.$Zh,n)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU.prototype={Type:0,Name:null,LoadOrder:0,ResourceData:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w2=function(n){var r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.LogicalName),i,t,u,f,e;if($0.$0(r)||!r.$KJ){Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093995));return}i=2;Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Pp&&(i=40);t=new Microsoft.Crm.Client.Core.Commands.$2R(null,i);t.$D=n.LogicalName;u={EntityReference:new Xrm.Objects.EntityReference(n.LogicalName,n.Id)};t.$x=u;f=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(new Xrm.Objects.EntityReference(n.LogicalName,n.Id),{},{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));e=Microsoft.Crm.Client.Core.Models.$c.$X(f);t.$18=e;Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1MT=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n),i;if($0.$0(t)||!t.$KJ){Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093995));return}i=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Pp?new Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand(null,n,40,null):new Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand(null,n,5,null);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(i)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2wE=function(n){var t=new Microsoft.Crm.Client.Core.Commands.$2R(null,26);t.$1W="searchPage";t.$x={};t.$x.SearchEntity=null;t.$x.SearchText=n;Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w1=function(n){var t,i;Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Pp?(t=new Microsoft.Crm.Client.Core.Commands.$2R(null,37),t.$1W=n,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(t)):(i=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(null),i.$1W=n,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(i))};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Vo=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().$jU(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Nz.scanBarcode(function(n){t(n)},function(n,t){t.toLowerCase()==="access to the camera has been prohibited; please enable it in the settings app to continue."&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?i(n,String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094019)+"\r\n"+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MoreInformation"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094022))):n!==1&&i(n,Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094019))},"ScanBarCode",new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions)})};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$33D=function(n,t,i,r){n="cc_"+t+"/"+n;n=n.replace("-","_");Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(20,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),"webresource",1,!1,n),Microsoft.Crm.Client.Core.Framework.$q.$4t("","CustomControlResourceRetriever")).then(function(n){if($0.$0(n.get_$R(0))||$0.$0(n.get_$R(0).get_$4r()))r();else{var t=n.get_$R(0).get_$4r().toString();i(t)}},function(){r()})};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Z5=function(n){return new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch(n)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$mS=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$28z(n,"")};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$28z=function(n,t){var i=Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$1t1(t,n);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(i)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2wA=function(n){var t=new Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand("",n);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w8=function(n){var t=new Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand(n);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er=function(n){n.execute();n.dispose()};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xq=function(n,t){return t?Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$OP(n,0):Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$ri(n,0)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xo=function(n,t){return t?Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$1aF(n,3):Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$2YA(n,3)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xu=function(n,t){return $0.$0(t)&&(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$UP.NumberDecimalDigits),Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$1G4(n,t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1wR=function(n,t,i){return $0.$0(t)&&(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$UP.CurrencyDecimalDigits),$0.$0(i)&&(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$12j().$qg),Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$1wS(n,i,t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1HN=function(n){return Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.get_instance().getEntityColor(n)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2k0=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu.FirstDayOfWeek,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu.CalendarWeekRule;if(t<0||t>6)throw Error.argumentOutOfRange("firstDayOfWeek",t);switch(i){case 1:return Microsoft.Crm.Client.Core.Framework.$h.$1ch(n,t,7);case 2:return Microsoft.Crm.Client.Core.Framework.$h.$1ch(n,t,4);case 0:default:return Microsoft.Crm.Client.Core.Framework.$h.$1ch(n,t,1)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$21Z=function(n,t){return Microsoft.Crm.Client.Core.Framework.$1u.$21Z(n.GetValue(t.name+Microsoft.Crm.Client.Core.Framework.$U.$6n),t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Sd=function(n,t){var r=$0.$1Y(t.Usage)?n.Usage:t.Usage,u=$0.$1Y(t.Type)?n.Type:t.Type,f=$0.$1Y(t.Value)?n.Value:t.Value,i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord(r,u,f);return $0.$0(t.IsRollupOrCalculatedFieldValid)||(i.IsRollupOrCalculatedFieldValid=t.IsRollupOrCalculatedFieldValid),i.Static=$0.$1Y(t.Static)?n.Static:t.Static,i.Primary=$0.$1Y(t.Primary)?n.Primary:t.Primary,i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2RD=function(n,t){var r=$0.$1Y(t.Name)?n.Name:t.Name,u=$0.$1Y(t.ViewId)?n.ViewId:t.ViewId,f=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Qr(n.Columns,t.Columns),e=$0.$1Y(t.EntityName)?n.EntityName:t.EntityName,o=$0.$1Y(t.TargetEntityType)?n.TargetEntityType:t.TargetEntityType,s=$0.$1Y(t.ContextFilter)?n.ContextFilter:t.ContextFilter,h=$0.$1Y(t.ExtraCondition)?n.ExtraCondition:t.ExtraCondition,c=$0.$1Y(t.EnableViewPicker)?n.EnableViewPicker:t.EnableViewPicker,l=$0.$1Y(t.FilteredViewIds)?n.FilteredViewIds:t.FilteredViewIds,i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HT(r,u,f,e,o,s,h,c,l);return i.RelationshipType=$0.$1Y(t.RelationshipType)?n.RelationshipType:t.RelationshipType,i.RelationshipName=$0.$1Y(t.RelationshipName)?n.RelationshipName:t.RelationshipName,i.ReferencingName=$0.$1Y(t.ReferencingName)?n.ReferencingName:t.ReferencingName,i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Qr=function(n,t){var o=new Array(0),r={},f,i,c;if(!$0.$1Y(n))for(var s=n,l=s.length,u=0;u<l;++u)f=s[u],r[f.Alias]=f;if(!$0.$1Y(t))for(var h=t,a=h.length,e=0;e<a;++e)i=h[e],i.Alias in r&&(c=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Qt(r[i.Alias],i),o.push(c));return o};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Qt=function(n,t){var i=$0.$1Y(t.Name)?n.Name:t.Name,r=$0.$1Y(t.DisplayName)?n.DisplayName:t.DisplayName,u=$0.$1Y(t.Alias)?n.Alias:t.Alias,f=$0.$1Y(t.DataType)?n.DataType:t.DataType,e=$0.$1Y(t.VisualSizeFactor)?n.VisualSizeFactor:t.VisualSizeFactor;return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HY(i,r,u,f,e)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2rR=function(n){switch(n){case"boolean":return 0;case"customer":return 1;case"datetime":return 2;case"decimal":return 3;case"double":return 4;case"integer":return 5;case"lookup":return 6;case"memo":return 7;case"money":return 8;case"owner":return 9;case"partylist":return 10;case"picklist":return 11;case"state":return 12;case"status":return 13;case"string":return 14;default:return-1}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlValidatorResult=function(n){this.errorMessage=n.$47;this.isValid=n.$57};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlValidatorResult.prototype={errorMessage:null,isValid:!1};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k=function(n,t,i,r,u,f,e,o,s,h){this.$5T=-1;this.dispose=this.$5E;this.$1Yl=n;this.$8r=t;this.$4A=i;this.$88=r;this.$Bf=u;this.$OA=e;this.$1a3=o;this.$5T=f;this.$52=s;this.$6c=h};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.prototype={$1Yl:null,$8r:null,$QN:null,$4A:null,$88:null,$Bf:null,$OA:!1,$1a3:null,$lu:null,$52:null,$6c:null,add_$2tM:function(n){$0.$0(this.$QN)||this.$QN.$1p("DataSetUpdatedEventName",n)},$2Yg:function(n,t,i,r,u,f,e,o,s){for(var a,c=MscrmComponents.DeferredPromiseFactory(Boolean,Object),l=new Array(0),h=0;h<this.$4A.length;h++)a=this.$4A[h],l[h]=a.$2Yb();var v=this.$1Yl!=="SubGrid",y=this,p=this;return Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U.$2Yc(n,this.$8r,l,t,this.$88,this.$Bf,i,r,u,f,e,o,v,s,this.$OA,this.$1a3,this.$5T,this.$52,this.$6c,this.$lu).then(function(n){y.$QN=n;c.resolve(!0)},function(){c.reject()}),c.promise()},$2HL:function(n,t){this.$QN.$2HL(n,t)},$5E:function(){$0.$0(this.$QN)||this.$QN.dispose()}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57=function(n,t,i,r,u,f,e,o,s,h){var l,a,c;this.$$d_$2kQ=Function.createDelegate(this,this.$2kQ);this.$$d_$2kN=Function.createDelegate(this,this.$2kN);this.$$d_$2kk=Function.createDelegate(this,this.$2kk);this.$$d_$2kn=Function.createDelegate(this,this.$2kn);this.$nq=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$1Nm=new Array(0);this.$1Ma=new Array(0);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.initializeBase(this);this.$A=n;this.$Js=t;this.$l9=f;this.$1Nm=e;this.$l8=o;this.$1Ma=s;this.$16K=u;this.$1NO=i;this.$1i2=r;this.$HR={};this.$l5=h;this.$l9&&!$0.$0(this.$A)&&this.$A.add_$7L(this.$$d_$2kn);(this.$l8||this.$l5)&&!$0.$0(this.$A)&&this.$A.add_$7L(this.$$d_$2kk);l=this.$Js;for(a in l)c={key:a,value:l[a]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(c.value)?c.value.add_$2tM(this.$$d_$2kN):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.isInstanceOfType(c.value)&&c.value.AddPropertyChangedListener("ErrorMessage",this.$$d_$2kQ)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2Sc=function(n,t,i,r,u,f,e,o,s,h){var a=h,it,l,k,v,gt,ct,y,c,p,oi,ft,d,g,nt,lt,at,vt,tt,yt,pt,et;if($0.$0(a)&&(a=r.get_ModelContext()),it=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57,Object),r.$g!==13&&r.$g!==1&&$0.$0(a))return it.resolve(null).promise();if(l="",r.$g===39)if(l=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2in(n),k=a,l!==""){if(!k.$42.$3F5(l)){var wt=r,si=wt.$Mp[l],hi=si.TargetEntityTypeName,w=wt.get_$1Vw()[l],bt={},kt={},dt={};for(v=0;v<w.length;v++)bt[w[v].get_$8z()]=w[v].get_$2I(),kt[w[v].get_$8z()]=w[v].get_$4M(),dt[w[v].get_$8z()]=w[v].get_$IY();gt=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(new Xrm.Objects.EntityReference(hi,Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),bt,kt,dt,{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));Microsoft.Crm.Client.Core.Models.$2A.$1nK(k,l,gt)}k.$42.$3F5(l)&&(a=k.$42.get_$R(l))}else a=k.$2b;var rt={},b={},ni=!1,ot=new Array(0),st=!1,ut={},ti=!1,ii=new Array(0),ri=!1,ht=new Array(0),ui=null,fi=new Microsoft.Crm.Client.Core.ViewModels.FieldAccessController(r,a,Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(r)?0:2),ei=n;for(ct in ei){if(y={key:ct,value:ei[ct]},c=y.value,c.Usage===2){ri=!0;continue}l!==""&&(c.Value=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$1HV(c.Value));Microsoft.Crm.Client.Core.Framework.$3.$9(c.Type)||(c.Static?p=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L(y.key,0,c.Usage,c.Type,c.Value,c.Static,fi,c.IsRollupOrCalculatedFieldValid):(oi=c.Usage?2:3,p=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L(y.key,oi,c.Usage,c.Type,c.Value,c.Static,fi,c.IsRollupOrCalculatedFieldValid),ft=c.Value,ft.startsWith("#")?(d=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$20x(ft)[0],ii.push(d),ti=!0,$0.$0(ut[d])&&(ut[d]=new Array(0)),ut[d].push(y.key)):(g=ft,ot.push(g),ni=!0,$0.$0(b[g])&&(b[g]=new Array(0)),b[g].push(y.key))),c.Primary&&(ui=y.key),p.set_$306(l),rt[y.key]=p,c.Type.toLowerCase().startsWith("lookup.".toLowerCase())&&(st=!0),ht.push(p.$2Z6(a)),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$1en(p.get_$We())&&p.$tI&&(nt=p.get_$We().lastUpdatedField,$0.$0(b[nt])&&(b[nt]=new Array(0)),b[nt].push(y.key),ot.push(nt)))}lt=t;for(at in lt)vt={key:at,value:lt[at]},tt=vt.value,st&&Microsoft.Crm.Client.Core.Framework.$3.$9(tt.ViewId)&&(tt.ViewId="00000000-0000-0000-0000-000000000000"),Microsoft.Crm.Client.Core.Framework.$3.$9(tt.ViewId)||ht.push(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2RC(tt,rt,vt.key,r,u,f,e,o,s,a,st));yt=i;for(pt in yt)et={key:pt,value:yt[pt]},rt[et.key]=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc(et.key,et.value);return Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(ht).always(function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57(a,rt,b,ut,ui,ni,ot,ti,ii,ri);it.resolve(n)}),it.promise()};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$1HV=function(n){var i=n.split(":"),t,r;return i.length===2?(t=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$163(i[1]),r=!$0.$0(t)&&!isNaN(t),r?t:i[1]):""};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2in=function(n){var i=n;for(var r in i){var u={key:r,value:i[r]},f=u.value,t=f.Value.toString();if(t.lastIndexOf(":")>0)return t.substr(0,t.lastIndexOf(":"))}return""};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2RC=function(n,t,i,r,u,f,e,o,s,h,c){for(var l,v,p,y=new Array(0),a=0;a<n.Columns.length;a++)l=n.Columns[a],y[a]=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HZ(l.Name,l.DisplayName,l.Alias,l.DataType,l.VisualSizeFactor);return v=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k(n.Name,new Microsoft.Crm.Client.Core.Framework.Guid(n.ViewId),y,n.ContextFilter,n.ExtraCondition,n.RelationshipType,n.EnableViewPicker,n.FilteredViewIds,n.RelationshipName,n.ReferencingName),v.$lu=n.Lookups,t[i]=v,p=Microsoft.Crm.Client.Core.Framework.$3.$9(n.TargetEntityType)?n.EntityName:n.TargetEntityType,c&&(u=!1,o=!1,f=!1,e=!1,o=!1),v.$2Yg(h,p,r,u,f,e,o,c,s)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.prototype={$A:null,$Js:null,$l9:!1,$l8:!1,$l5:!1,$16K:null,$1NO:null,$1i2:null,$HR:null,$BG:null,get_UpdatedProperties:function(){return this.$nq},$3An:function(n){var i,r,t;if(this.$A!==n){$0.$0(this.$A)||this.$l9&&this.$A.remove_$7L(this.$$d_$2kn);this.$A=n;this.$l9&&this.$A.add_$7L(this.$$d_$2kn);i=this.$Js;for(r in i)t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(t.value)&&(t.value.$QN.$j.set_ModelContext(n),t.value.$QN.$j.$Rr());this.$7("PropertiesUpdated")}},$2kn:function(n,t){var i;if(Array.contains(this.$1Nm,t)){if(i=!1,t in this.$1NO)for(var e=this.$1NO[t],s=e.length,f=0;f<s;++f){var o=e[f],u=this.$Js[o].$d(this.$A,!0),r=$0.$0(this.$HR)?null:this.$HR[o];i=$0.$0(r)&&!$0.$0(u)||$0.$0(u)&&!$0.$0(r)?!0:$0.$39C(r)?i||!r.equals(u):i||r!==u}i&&this.$7("PropertiesUpdated")}},$2kN:function(){this.$nq.add("dataset");this.$7("PropertiesUpdated");this.$nq.remove("dataset");this.GetPrimaryDataSet().$j.UIHasRendered()},$2kQ:function(){this.$7("PropertyBagHasError")},$2oP:function(n){return!$0.$0(n)&&n.get_$PL().toLowerCase()==="Lookup".toLowerCase()},$2kk:function(n,t){Array.contains(this.$1Ma,t)&&t in this.$1i2&&this.$7("PropertiesUpdated")},$1p8:function(){(this.$l8||this.$l5)&&Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().add_$1iu(this.$$d_$2kk)},$30v:function(){(this.$l8||this.$l5)&&Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().remove_$1iu(this.$$d_$2kk)},$2Z4:function(n){var i={},r=[],h="DataSet",c=!1,l=this.$Js,e,t,o,u,f,s;for(e in l)t={key:e,value:l[e]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.isInstanceOfType(t.value)?(o=t.value,i[t.key]=o.$2Z7(this.$A,n),this.$2oP(o)&&(c=!0,r.push(t.key))):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(t.value)?i[t.key]=this.$2Yh(t.value):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc.isInstanceOfType(t.value)&&(i[t.key]=t.value.$1kp);if(c&&r.length>0&&!$0.$0(h))for(u=0;u<r.length;u++)f=r[u].toString(),s=i[f],s.lookupDataSet=i[f+h],i[f]=s;return i},$12g:function(){var i={},r=this.$Js,t,n;for(t in r)n={key:t,value:r[t]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(n.value)&&(i[n.key]=n.value.$QN);return i},GetPrimaryDataSet:function(){var t=this.$12g(),i=t,n,r;for(n in i)return r={key:n,value:i[n]},t[r.key];return null},$2eo:function(){var n=new Array(0),t,i,r,u;n.push(this.$Js[this.$16K].$1HV());t=this.$Js;for(i in t)r={key:i,value:t[i]},u=r.value,u.$mo||r.key===this.$16K||n.push(u.$1HV());return n},$2Yh:function(n){return n.$QN},$AY:function(){return this.$Js[this.$16K]},$3BC:function(n,t){var u=!1,e,o,f,h,c;if($0.$0(n))return!1;e=this.$Js;for(o in e){var s={key:o,value:e[o]},r=n[s.key],i=this.$Js[s.key];(!$0.$0(r)||!Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(i)&&(!Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.isInstanceOfType(i)||i.$AW==="OptionSet")&&s.key in n)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.isInstanceOfType(i)?(f=i,f.$mo||f.$d(this.$A,t)===r||typeof r=="number"&&isNaN(r)||(u=u||f.$2EV(this.$A,r,t))):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(i)?(h=r,c=i,c.$2HL(h,t)):u=!0)}return u},$3BL:function(n,t,i){this.$2lW(n)&&(this.$HR=n,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$2XF(t),this.$3BC(n,i)&&(this.$7("PropertyBagHasError"),this.$HR=null))},$2lW:function(n){var i,r,t,u,f,e;if($0.$0(this.$HR)&&!$0.$0(n)||!$0.$0(this.$HR)&&$0.$0(n))return!0;i=n;for(r in i){if(t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91.isInstanceOfType(t.value))return!0;if(!(t.key in this.$HR)||n[t.key]!==this.$HR[t.key])return!$0.$0(n[t.key])&&!$0.$0(n[t.key].equals)&&n[t.key].equals(this.$HR[t.key])?!1:!0}u=this.$HR;for(f in u)if(e={key:f,value:u[f]},!(e.key in n))return!0;return!1},$5E:function(){var i=this.$Js,t,n;for(t in i)n={key:t,value:i[t]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.isInstanceOfType(n.value)?n.value.RemovePropertyChangedListener("ErrorMessage",this.$$d_$2kQ):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(n.value)&&n.value.$5E();this.$Js=null;this.$1Nm=null;this.$1Ma=null;this.$HR=null;this.$l9&&this.$A.remove_$7L(this.$$d_$2kn);(this.$l8||this.$l5)&&Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().remove_$1iu(this.$$d_$2kk);this.$l9=!1;this.$l8=!1;this.$l5=!1;this.$A=null}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L=function(n,t,i,r,u,f,e,o){this.$$d_$2zP=Function.createDelegate(this,this.$2zP);this.$RZ={};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.initializeBase(this);this.$2AB=n;this.$1NP=t;this.$mo=i;this.$AW=r;this.$OK=e;this.$tI=o;f?this.$vS=u:(this.$In=u,this.$In.startsWith("#")?this.$1e3=!0:this.$t1=!0)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$20x=function(n){if(!$0.$0(n)&&n.startsWith("#")){var t=n.substr(1);return t.split(".")}return new Array(0)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$1en=function(n){return n&&n.sourcetype===2?!0:!1};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$2nb=function(n){return n&&n.sourcetype===1?!0:!1};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.prototype={$vS:null,$1NP:0,$mo:0,$2Q:null,$2AB:null,$t1:!1,$1e3:!1,$In:null,$AW:null,$tI:!1,$vt:!1,$t2:!1,$47:null,$SF:null,$OK:null,$Jd:null,$52:null,get_$PL:function(){return $0.$0(this.$AW)?"":this.$AW.split(".")[0]},get_$We:function(){return Microsoft.Crm.Client.Core.Framework.$1u.$1wd(this.$2Q)},set_$A5:function(n){return this.$47!==n&&(this.$47=n,this.$7("ErrorMessage")),n},set_$306:function(n){return this.$52!==n&&(this.$52=n),n},get_$hS:function(){return $0.$0(this.$2Q)?0:$0.$0(this.$2Q.requiredLevel)?0:this.$2Q.requiredLevel},$2Z7:function(n,t){var i={};return i.raw=this.$d(n,t),i.formatted=this.$sL(n),i.type=this.$AW,i.error=this.$t2,i.errorMessage=this.$47,this.$t1&&(i.security=this.$2Yt()),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$1en(this.$2Q)&&this.$tI&&(this.$2Q.lastUpdatedValue=n.GetValue(this.$2Q.lastUpdatedField+Microsoft.Crm.Client.Core.Framework.$U.$6n),this.$2Q.rollupStateValue=n.GetValue(this.$2Q.rollupStateField+Microsoft.Crm.Client.Core.Framework.$U.$6n)),i.attributes=this.get_$We(),i},$2Yt:function(){var n={};return n.editable=this.$OK.isFieldEditable(this.$In),n.readable=this.$OK.isFieldReadable(this.$In),n.secured=this.$OK.isFieldSecured(this.$In),n},$1Jl:function(){var n=this.get_$PL().toLowerCase();return n==="optionset"||n==="twooptions"||n==="picklist"||n==="boolean"},$1HZ:function(n){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$52)?n:this.$52+":"+n},$d:function(n,t){var i,u,e,f;if(this.$1NP===3||this.$1NP===2){if(this.$t1)return i=null,this.$1Jl()?(u=n.GetValue(this.$1HZ(this.$In)+Microsoft.Crm.Client.Core.Framework.$U.$6n),i=$0.$0(u)?u:u.$1s):(i=n.GetValue(this.$1HZ(this.$In)+Microsoft.Crm.Client.Core.Framework.$U.$6n),this.$AW.toLowerCase().startsWith("lookup.partylist")&&(i=i?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(i.getObjectData()):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty())),$0.$0(this.$SF)||(e=this.$SF.$6W(i,!1,!t),e.$57?(this.set_$A5(null),this.$t2=!1):(this.set_$A5(e.$47),this.$t2=!0)),i;if(this.$1e3){if(f=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$20x(this.$In),f.length===2){var s=f[0],o=f[1],r=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$2fK(s);if(!$0.$0(r)&&!$0.$0(r.$w)&&!$0.$0(r.$w.$HR)&&o in r.$w.$HR)return r.$w.$HR[o]}return this.$vS}return this.$vS}return this.$AW==="Form.Card"||this.$AW==="Form.Main"?JSON.parse(this.$vS):this.$vS},$1HV:function(){return this.$t1?this.$In:null},$sL:function(n){if(this.$mo)return null;var t="";return this.$1Jl()?t=Microsoft.Crm.Client.Core.Framework.$U.$F6:this.get_$PL().toLowerCase()==="lookup"&&(t=Microsoft.Crm.Client.Core.Framework.$U.$4n),n.GetValue(this.$1HZ(this.$In)+t)},$2EV:function(n,t,i){if(!this.$mo){if(!$0.$0(t)&&this.$1Jl()&&(Boolean.isInstanceOfType(t)?t=t?1:0:Microsoft.Crm.Client.Core.ViewModels.$Bm.isInstanceOfType(t)&&(t=t.$1s),t=this.$2Q.options.$21[t.toString()],$0.$0(t)))return!1;n.SetValue(this.$1HZ(this.$In),t);var r=this.$SF.$6W(t,!1,!i);return r.$57?(this.set_$A5(null),this.$t2=!1,!1):(this.set_$A5(r.$47),this.$t2=!0,!0)}return!1},$2Z6:function(n){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),f,e;if(this.$mo===1&&!this.$t1||$0.$0(n))i.resolve(!0);else{var u=new Array(0),r=MscrmComponents.DeferredPromiseFactory(Boolean,Object),t=this,o=this;n.$20Z(this.$In,Microsoft.Crm.Client.Core.Framework.$64.$1bu(this.get_$PL())).then(function(i){i&&(i.rollupValid=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$1en(i)&&t.$tI,i.rollupValid&&(i.lastUpdatedField=i.name+"_date",i.rollupStateField=i.name+"_state",t.$36f(n,i.name,i.lastUpdatedField,i.rollupStateField),i.recalculate=t.$$d_$2zP),i.calculatedFieldValid=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$2nb(i)&&t.$tI);t.$2Q=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$20l(i,t.get_$PL());n.$2gZ(t.$In,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$229(t.get_$PL(),t.$2Q.format),!1).then(function(n){t.$SF=n;r.resolve(!0)},function(n){r.reject(n)})},function(n){r.reject(n)});u.push(r);u.push(this.$OK.initializeFieldAccessRules(this.$In));f=this;e=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(u).then(function(){i.resolve(!0)},function(n){i.reject(n)})}return i.promise()},$Ut:function(){var n,t,i;if(this.$vt){n=this.$RZ;for(t in n)i={key:t,value:n[t]},this.$2Q[i.key]=i.value;this.$RZ={}}},$zi:function(n,t){var f,o,u;if(this.get_$PL().toLowerCase()==="picklist"||this.get_$PL().toLowerCase()==="optionset"){$0.$0(this.$RZ.options)&&(this.$RZ.options=this.$2Q.options);this.$vt=!0;var s=this.$2Q.options.$P5,i=0,r={},e=s;for(f in e)o={key:f,value:e[f]},i===t&&(r[i.toString()]=n,i++),u=o.value,r[i.toString()]=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x(u.$1G,u.$1s,-1,-1,null,null,u.$ZJ),i++;($0.$0(t)||i<=t)&&(r[i.toString()]=n);this.$2Q.options=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$7L(r)}},$10Z:function(){(this.get_$PL().toLowerCase()==="picklist"||this.get_$PL().toLowerCase()==="optionset")&&($0.$0(this.$RZ.options)&&(this.$RZ.options=this.$2Q.options),this.$vt=!0,this.$2Q.options=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$7L({}))},$16r:function(n){var t,u,f,r,i;if(this.$AW.toLowerCase()==="picklist"||this.$AW.toLowerCase()==="optionset"){$0.$0(this.$RZ.options)&&(this.$RZ.options=this.$2Q.options);this.$vt=!0;t=Microsoft.Crm.Client.Core.Framework.$1B.$87(this.$2Q.options.$P5);u=t;for(f in u)r={key:f,value:u[f]},i=r.value,i.$1s===n?delete t[r.key]:t[r.key]=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x(i.$1G,i.$1s,-1,-1,null,null,i.$ZJ);this.$2Q.options=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$7L(t)}},$2jE:function(){return this.get_$PL().toLowerCase().startsWith("dateandtime")?this.$2Q.format.toLowerCase()==="dateandtime":!1},$37h:function(n){this.get_$PL().toLowerCase().startsWith("dateandtime")&&($0.$0(this.$RZ.format)&&(this.$RZ.format=this.$2Q.format),this.$vt=!0,this.$2Q.format=n?"dateandtime":"dateonly")},$2zP:function(){this.$Jd&&this.$Jd.execute()},$36f:function(n,t,i,r){var u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("RollupViewModel","Rollup",null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FieldName",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FieldNameDate",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FieldNameState",r)],null,null,n.get_$HV()),n);$0.$0(this.$Jd)||(this.$Jd.dispose(),this.$Jd=null);this.$Jd=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(u,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CalculateRollupFieldCommand"))}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord=function(n,t,i){this.Usage=n;this.Type=t;this.Value=i;this.Static=!0;this.Primary=!1;this.IsRollupOrCalculatedFieldValid=!1};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord.prototype={Usage:0,Type:null,Value:null,Static:!1,Primary:!1,IsRollupOrCalculatedFieldValid:!1};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT=function(n,t,i,r){var u;if(this.$26=n,this.$1DX=t,this.$EU=i,this.$10W=new Array(0),r)if(String.isInstanceOfType(r)||Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT.isInstanceOfType(r))this.$10W.push(r);else if(Array.isInstanceOfType(r))for(var e=r,o=e.length,f=0;f<o;++f)u=e[f],(String.isInstanceOfType(u)||Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT.isInstanceOfType(u))&&this.$10W.push(u)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT.prototype={$26:null,$1DX:null,$EU:null,$10W:null,getVirtualRepresentation:function(n){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT(this.$26,this.$1DX,n,null)},getType:function(){return this.$26},getComponentId:function(){return this.$1DX},getProperties:function(){return this.$EU},getChildren:function(){return this.$10W}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q=function(n){this.$Dx=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q.prototype={$Dx:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84=function(n){this.$1TB=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84.prototype={$1TB:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81=function(n,t,i){this.$iS=n;this.$1T4=t;this.$Fa=i};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81.prototype={$iS:null,$1T4:null,$Fa:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P=function(n){this.$1UE=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P.prototype={$1UE:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s=function(n){this.$yE=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s.prototype={$yE:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v=function(n){this.$Si=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v.prototype={$Si:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r=function(n,t){this.$Si=n;this.$1T0=t};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r.prototype={$Si:null,$1T0:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I=function(n,t){this.$ik=n;this.$9F=t};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I.prototype={$ik:null,$9F:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z=function(n,t,i){this.$1Sg=n;this.$1UG=t;this.$1UF=i};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z.prototype={$1Sg:null,$1UG:0,$1UF:0};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83=function(n){this.$1Tm=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83.prototype={$1Tm:null};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Converters");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ik=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ik.prototype={$XH:function(n){if(!$0.$0(n)){var t=Number.parseLocale(n);return isNaN(t)?n:t}return""}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ih=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ih.prototype={$Em:function(n,t){var i,u,f,r;return Date.isInstanceOfType(n)?(i="",u=0,Array.isInstanceOfType(t)&&t.length===2&&(f=t,i=f[0],u=$16.$Ae(Microsoft.Crm.Client.Core.Framework.$3C,f[1])),r=this.$1sh(n,u),"DateToString"===i)?this.$2QH(r,u):"Date"===i?this.$1Dm(r):"Month"===i?this.$2QI(r):this.$2QG(r):n},$XH:function(n,t){if(String.isInstanceOfType(n)){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9(),u=new Date(Date.parse(n));return Microsoft.Crm.Client.Core.Framework.$h.$Lk(u,i,Microsoft.Crm.Client.Core.Framework.$3C.isInstanceOfType(t)?t:0,r)}return n},$2QG:function(n){return n.localeFormat("d MMM")},$1Dm:function(n){return n.localeFormat("dd")},$2QH:function(n,t){var i=this.$1sh(new Date,t);return!$0.$0(n)&&n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_Label_Today"):this.$1Dm(n)},$2QI:function(n){return n.localeFormat("MMMM")},$1sh:function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9();return Microsoft.Crm.Client.Core.Framework.$h.$Gs(n,i,t,r)}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ii=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ii.prototype={$Em:function(n,t){if(Date.isInstanceOfType(n)){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9(),u=Number.isInstanceOfType(t)?t:0,f=Microsoft.Crm.Client.Core.Framework.$h.$Gs(n,i,u,r);return this.$1Dm(f)}return n},$XH:function(n,t){if(String.isInstanceOfType(n)){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9(),u=new Date(Date.parse(n)),f=Number.isInstanceOfType(t)?t:0;return Microsoft.Crm.Client.Core.Framework.$h.$Lk(u,i,f,r)}return n},$1Dm:function(n){return n.localeFormat("d")}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ij=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ij.prototype={$Em:function(n,t){if(Date.isInstanceOfType(n)){var i=n,r=Number.isInstanceOfType(t)?t:0;return this.$1Dm(i,r)}return n},$XH:function(n,t){if(String.isInstanceOfType(n)){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9(),u=new Date(Date.parse(n)),f=Number.isInstanceOfType(t)?t:0;return Microsoft.Crm.Client.Core.Framework.$h.$Lk(u,i,f,r)}return n},$1Dm:function(n,t){var i=$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E())?0:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E())?null:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9();return n=Microsoft.Crm.Client.Core.Framework.$h.$Gs(n,i,t,r),n.localeFormat("t")}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ic=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ic.prototype={$XH:function(){throw Error.notImplemented();}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Id=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ie=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ie.prototype={$XH:function(n){if(!$0.$0(n)){var t=Number.parseLocale(n);return isNaN(t)?n:t}return""}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ib=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ib.prototype={$XH:function(n){if(!$0.$0(n)){var i=n,t=Number.parseInvariant(i);return isNaN(t)?n:t}return""}};Microsoft.Crm.Client.Core.ViewModels.Converters.$IY=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$IY.prototype={$XH:function(n){if(!$0.$0(n)){var i=n,t=Number.parseInvariant(i);return isNaN(t)?n:t}return""}};Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ.prototype={$Em:function(n){var t=!1,i;return Boolean.isInstanceOfType(n)?t=n:$0.$0(n)||(i=n.toString().toLowerCase(),i==="true"?t=!0:i==="yes"?t=!0:i==="1"&&(t=!0)),t}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ia=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ia.prototype={$XH:function(n){var f=-1,t,r,u;if(!$0.$0(n)){var e=n,i=e.match(new RegExp("([1-9]|1[012]):([0-5][0-9]):([0-5][0-9])(\\s*)([aApP][mM]{0,2})"));$0.$0(i)||(t=Number.parseInvariant(i[1]),i[5]==="pm"?t+=12:t===12&&(t=0),r=Number.parseInvariant(i[2]),u=Number.parseInvariant(i[3]),isNaN(t)||isNaN(r)||isNaN(u)||(f=t*3600+r*60+u))}return f}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.List");Microsoft.Crm.Client.Core.ViewModels.List.$SG=function(){this.$$d_$28s=Function.createDelegate(this,this.$28s);Microsoft.Crm.Client.Core.ViewModels.List.$SG.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.List.$SG.prototype={$UV:null,$fc:!1,$E6:!1,$1Jx:!1,$1es:!1,$lP:!1,$1ew:!1,get_OpenGridCommand:function(){return this.$UV},set_OpenGridCommand:function(n){return $0.$0(this.$UV)||(this.$UV.dispose(),this.$UV=null),this.$UV=n,n},get_GridEnabled:function(){return this.$fc},set_GridEnabled:function(n){return this.$fc=n,$0.$0(this.$UV)||this.$UV.set_CanExecute(n),this.$7("GridEnabled"),n},$1AN:!1,get_IsHalfHeight:function(){return this.$1AN},set_IsHalfHeight:function(n){return this.$1AN=n,n},get_IsStackingEnabled:function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())?!1:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().get_$lW()},get_DisableHeaderLongPress:function(){return this.$E6},set_DisableHeaderLongPress:function(n){return this.$E6=n,n},get_IsNoteListHeader:function(){return this.$1Jx},set_IsNoteListHeader:function(n){return this.$1Jx=n,n},get_IsShimReadyForDeviceIntegration:function(){return this.$1es},set_IsShimReadyForDeviceIntegration:function(n){return this.$1es=n,n},get_IsNoteInlineCreate:function(){return this.$lP},set_IsNoteInlineCreate:function(n){return this.$lP=n,n},get_NotePlaceHolderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_ListHeader_DeviceIntegration_PlaceHolderText")},get_IsTaskBasedFlow:function(){return this.$1ew},set_IsTaskBasedFlow:function(n){return this.$1ew=n,n},$2Z:function(){!this.$1a&&$0.$0(this.$UV)&&this.set_OpenGridCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$28s,1011));Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this)},$28s:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this,13);n.$x={};n.$x.ListDefinitionId=this.$q;n.$x.ListMetadataType=this.$9a;n.$x.ContextFilter=this.$88;n.$x.RelationshipExtraCondition=this.$Bf;n.$x.RelationshipName=this.$52;n.$x.RelationshipType=this.$5T;n.$x.ReferencingName=this.$6c;n.$x.IsReferencingAttributeRequired=this.$lU;n.$x.RelationshipRoleOrdinal=this.$9A;n.$x.ParentEntityViewModel=this.$2;n.$x.EnableContextualActions=this.$eg;n.execute();n.dispose()},getAndExecuteSubgridAddCommand:function(){var t,i,n;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeGetAndExecuteSubgridAddCommand",0,this.get_ViewModelId());$0.$0(this.$52)||this.$Jk===14?(this.$1Jx&&this.$lP&&(this.$lP=!1,this.$Jk=5),this.addCommand.execute()):this.$5T?this.get_AddExistingCommand().execute():(t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("MultilineListVM:GetSubgridAddCommandType"),t.start(),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,n=this,i.$2jV(this.get_$qQ(),this).done(function(i){t.stop();i&&n.addCommand.get_CanExecute()?n.addCommand.execute():n.get_AddExistingCommand().execute()}))},executeNoteInlineCreateCommand:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeExecuteNoteInlineCreateCommand",0,this.get_ViewModelId());this.$lP||(this.$lP=!0,this.$Jk=14);this.addCommand.execute()},handleLoadList:function(){this.$2.open(this.$1Kr)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.List.Commands");Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co=function(){};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co.registerInterface("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co");Microsoft.Crm.Client.Core.ViewModels.List.Commands.$G5=function(){};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$G5.registerInterface("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$G5");Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99=function(n){this.$$d_$1uT=Function.createDelegate(this,this.$1uT);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("DeleteListItemCommand",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.$n)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.$n=function(n,t){var u=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(n),f=!$0.$0(t),i,r;return!u||!f?null:(i=n,r=new Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99(i),new Microsoft.Crm.Client.Core.Framework.Binding.$RG(r.$$d_$1uT,1011))};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.prototype={$1uT:function(){if(!$0.$0(this.$35.$A4)){var n=this.$35.$A4.get_$1B();this.$35.$2n.get_$CZ().$Ai(n);this.$35.$2n.$1Yx(n).done(this.$35.$$d_$1hJ)}}};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If=function(n){if($0.$0(n))throw Error.argumentNull("list");this.$35=n};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If.prototype={$35:null};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP=function(n){Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP.$X=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP(n);return new Microsoft.Crm.Client.Core.Framework.Binding.$RG(t.$$d_$1hq,1011)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP.prototype={$29o:function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.prototype.$29o.call(this,n,t,i);t.$J1=5;t.$MU=2;var r=null,u=this;r=function(){t.remove_$26h(r);var n=t.$T;n.add_$1j7(function(){u.$35.$Rr()})};t.add_$26h(r)}};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ=function(n){this.$$d_$1hq=Function.createDelegate(this,this.$1hq);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenListItemCommand",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.$n)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.$n=function(n,t){var u=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(n),f=!$0.$0(t),i,r;return!u||!f?null:(i=n,r=new Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ(i),new Microsoft.Crm.Client.Core.Framework.Binding.$RG(r.$$d_$1hq,1011))};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.prototype={$20y:function(n,t,i){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext(n,t,i):new Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext(n,t,i)},$1hq:function(){var n=this.$35.$A4,i=this.$20y(this.$35.$1f,this.$35.get_CurrentItemIndex(),this.$35.$MC),t;$0.$0(this.$35.$L6)||($0.$0(this.$35.$JD)||this.$35.$JD===this.$35.$MC||(t=new Microsoft.Crm.Client.Core.Framework.$AL,t.$3w(this.$35.$L6),i=this.$20y(t,0,this.$35.$MC)),n=this.$35.$L6,this.$35.$L6=null);$0.$0(n)||($0.$0(n.get_ModelContext())||$0.$0(n.get_ModelContext().get_$Fe())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$14N(n.get_ModelContext().get_$Fe(),n.get_ModelContext(),1)?this.$2w5(n,i,this.$35.$JD):Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147220960))},$2w5:function(n,t,i){var u=2,r,f;Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(u=40);r=new Microsoft.Crm.Client.Core.Commands.$2R(n,u);r.$x={ListNavigationContext:t};this.$29o(n,r,i);f=this;r.$1Zk().always(function(){r.dispose()})},$29o:function(n,t,i){var r,u;n.$D==="queueitem"&&(i="objectid");$0.$0(i)||(r=n.get_ModelContext().GetValue(i),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(r)&&(u=r,t.$x.EntityReference=u,t.$D=u.get_$BZ(),t.$18=null));Microsoft.Crm.Client.Core.ViewModels.$CD.isInstanceOfType(this.$35.$2)&&this.$35.$2.$QG()}};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SelectListItemCommand",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$n)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$1Xz=function(n,t,i){var u="TraceComponent",f="SelectionState",c=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$Cs.isInstanceOfType(n),l=!$0.$0(t),e=!$0.$0(t.InitializationParameters),a=e&&u in t.InitializationParameters,v=e&&f in t.InitializationParameters,r,o,s,h;return!c||!l||!a||!v?null:(r=new i,o=n,r.set_$2pt(o),s=t.InitializationParameters[f],r.set_$34S(s),h=t.InitializationParameters[u],r.set_$18m(h),r)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$n=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$1Xz(n,t,Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.prototype={$Aq:null,set_$2pt:function(n){return this.$Aq=n,n},$6A:null,set_$34S:function(n){return this.$6A=n,n},$2E:function(){if(!this.$2NY())switch(this.$Aq.get_$34T()){case 1:this.$6A.$1I0(this.$Aq);break;case 2:this.$6A.$22d(this.$Aq);break;default:return}},$2NY:function(){var t=!$0.$0(this.$6A.get_ListComponentViewModel())&&Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co.isInstanceOfType(this.$6A.get_ListComponentViewModel()),n;return t&&(n=this.$6A.get_ListComponentViewModel(),n.get_$2Uf())?!0:!1},$Oh:function(){Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this);this.$Aq=null;this.$6A=null}};Type.registerNamespace("XrmUI");XrmUI.IXrmUIControl=function(){};XrmUI.IXrmUIControl.registerInterface("XrmUI.IXrmUIControl");XrmUI.IXrmUIControlsData=function(){};XrmUI.IXrmUIControlsData.registerInterface("XrmUI.IXrmUIControlsData");XrmUI.IXrmUIHelper=function(){};XrmUI.IXrmUIHelper.registerInterface("XrmUI.IXrmUIHelper");XrmUI.$Ig=function(){};XrmUI.XrmUIControls=function(n){XrmUI.XrmUIControls.initializeBase(this,[n])};XrmUI.Page=function(){};XrmUI.Page.prototype={$L:null,$EU:null,get_pageName:function(){return this.$L},set_pageName:function(n){return this.$L=n,n},get_additionalProperties:function(){return this.$EU},set_additionalProperties:function(n){return this.$EU=n,n},getName:function(){return this.$L},getProperties:function(){return this.$EU}};XrmUI.Manager=function(){};XrmUI.Manager.getActivePage=function(){return XrmUI.Manager.XrmUIPage};XrmUI.Manager.getActiveControls=function(){return Mscrm.InternalUtilities.JSTypes.isNull(XrmUI.Manager.ControlsData)?null:XrmUI.Manager.ControlsData.getControls()};XrmUI.Manager.getAllChildControls=function(){return Mscrm.InternalUtilities.JSTypes.isNull(XrmUI.Manager.ControlsData)?null:XrmUI.Manager.ControlsData.getAllChildControls()};XrmUI.Manager.$378=function(n){XrmUI.Manager.$13T=n};XrmUI.Manager.loadScripts=function(n,t){XrmUI.Manager.$13T.loadScripts(n,t)};XrmUI.Manager.getTopZIndex=function(){return XrmUI.Manager.$13T.getTopZIndex()};XrmUI.Manager.isPageLoaded=function(){return XrmUI.Manager.$13T.isPageLoaded()};XrmUI.ControlId=function(){};XrmUI.UIControlType=function(){};Type.registerNamespace("Microsoft.Crm.Client.Core.OWAViewModels.Common");Microsoft.Crm.Client.Core.OWAViewModels.Common.$G6=function(){};Microsoft.Crm.Client.Core.OWAViewModels.Common.$G6.registerInterface("Microsoft.Crm.Client.Core.OWAViewModels.Common.$G6");Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Interfaces");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cl=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cl.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cl");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Fu=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Fu.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Fu");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ct=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ct.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ct");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cq=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cq.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cq");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$76=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$76.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$76");Mscrm.$MI.registerClass("Mscrm.$MI");Microsoft.Crm.Client.Core.Framework.$6I.registerClass("Microsoft.Crm.Client.Core.Framework.$6I",Microsoft.Crm.Client.Core.Framework.$69);Microsoft.Crm.Client.Core.Framework.Common.jqGridResourceManager.registerClass("Microsoft.Crm.Client.Core.Framework.Common.jqGridResourceManager");Xrm.DateFormattingInfo.registerClass("Xrm.DateFormattingInfo");Xrm.DialogOptions.registerClass("Xrm.DialogOptions");Xrm.LookupObject.registerClass("Xrm.LookupObject");Xrm.RelationshipReference.registerClass("Xrm.RelationshipReference");Xrm.LookupOptions.registerClass("Xrm.LookupOptions");Xrm.ActionCollectionBase.registerClass("Xrm.ActionCollectionBase");Xrm.BusinessRuleNotificationBase.registerClass("Xrm.BusinessRuleNotificationBase");Xrm.ErrorResponse.registerClass("Xrm.ErrorResponse");Xrm.XrmGlobalContext.registerClass("Xrm.XrmGlobalContext");Xrm.XrmUtility.registerClass("Xrm.XrmUtility");Xrm.ExecutionContext.registerClass("Xrm.ExecutionContext");Xrm.ProcessActionSuccessResponse.registerClass("Xrm.ProcessActionSuccessResponse");Xrm.SaveErrorResponse.registerClass("Xrm.SaveErrorResponse",Xrm.ErrorResponse);Xrm.SaveEventArgs.registerClass("Xrm.SaveEventArgs",Sys.EventArgs,Microsoft.Crm.Client.Core.Models.$FL);Xrm.SaveSuccessResponse.registerClass("Xrm.SaveSuccessResponse");Xrm.XrmUserSettings.registerClass("Xrm.XrmUserSettings");Xrm.XrmPageContextClient.registerClass("Xrm.XrmPageContextClient");Xrm.XrmOrganizationSettings.registerClass("Xrm.XrmOrganizationSettings");Xrm.Utility.registerClass("Xrm.Utility");Xrm.PageType.registerClass("Xrm.PageType");Microsoft.Crm.Client.Core.Models.$6J.registerClass("Microsoft.Crm.Client.Core.Models.$6J",Microsoft.Crm.Client.Core.Framework.$69);Microsoft.Crm.Client.Core.ViewModels.LookupControlItem.registerClass("Microsoft.Crm.Client.Core.ViewModels.LookupControlItem");Microsoft.Crm.Client.Core.ViewModels.$KF.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KF");Microsoft.Crm.Client.Core.ViewModels.$KH.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KH");Microsoft.Crm.Client.Core.ViewModels.$KK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KK");Microsoft.Crm.Client.Core.ViewModels.$KN.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KN");Microsoft.Crm.Client.Core.ViewModels.$63.registerClass("Microsoft.Crm.Client.Core.ViewModels.$63");Microsoft.Crm.Client.Core.ViewModels.$KL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KL");Microsoft.Crm.Client.Core.ViewModels.$I.registerClass("Microsoft.Crm.Client.Core.ViewModels.$I",null,Microsoft.Crm.Client.Core.ViewModels.$EX,Microsoft.Crm.Client.Core.ViewModels.$EY);Microsoft.Crm.Client.Core.ViewModels.$RA.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RA",Microsoft.Crm.Client.Core.Framework.$3Z);Microsoft.Crm.Client.Core.ViewModels.$Rn.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rn",Microsoft.Crm.Client.Core.ViewModels.$RA,Microsoft.Crm.Client.Core.Framework.$9j);Microsoft.Crm.Client.Core.ViewModels.$KI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KI");Microsoft.Crm.Client.Core.ViewModels.$KG.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KG");Microsoft.Crm.Client.Core.ViewModels.$Oe.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Oe",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Of.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Of",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Og.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Og",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P4.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P4",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P5.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P5",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P6.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P6",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P3",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P0",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P1",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P2",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P7.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P7",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$PB.registerClass("Microsoft.Crm.Client.Core.ViewModels.$PB",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$PC.registerClass("Microsoft.Crm.Client.Core.ViewModels.$PC",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$PD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$PD",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$PA.registerClass("Microsoft.Crm.Client.Core.ViewModels.$PA",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P8.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P8",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P9.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P9",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Os.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Os",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Ot.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ot",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Ou.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ou",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Or.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Or",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Oo.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Oo",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Op.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Op",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$KM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KM");Microsoft.Crm.Client.Core.ViewModels.$Oq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Oq",Microsoft.Crm.Client.Core.ViewModels.$KM);Microsoft.Crm.Client.Core.ViewModels.$OD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$OD",Microsoft.Crm.Client.Core.ViewModels.$KM);Microsoft.Crm.Client.Core.ViewModels.$4Z.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4Z",Microsoft.Crm.Client.Core.Framework.$6g,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$2I.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2I",Microsoft.Crm.Client.Core.ViewModels.$4Z,Microsoft.Crm.Client.Core.ViewModels.$DG,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$77,Microsoft.Crm.Client.Core.ViewModels.$DC);Microsoft.Crm.Client.Core.ViewModels.$2D.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2D",Microsoft.Crm.Client.Core.ViewModels.$2I,Microsoft.Crm.Client.Core.ViewModels.$78,Microsoft.Crm.Client.Core.ViewModels.$9v);Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$5w.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5w");Microsoft.Crm.Client.Core.ViewModels.$RQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RQ",Microsoft.Crm.Client.Core.Framework.$6g,Microsoft.Crm.Client.Core.ViewModels.$EW);Microsoft.Crm.Client.Core.ViewModels.$Rt.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rt",Microsoft.Crm.Client.Core.ViewModels.$RQ);Microsoft.Crm.Client.Core.ViewModels.$Rz.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rz",Microsoft.Crm.Client.Core.ViewModels.$Rt,Microsoft.Crm.Client.Core.ViewModels.$Ch);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.registerClass("Microsoft.Crm.Client.Core.ViewModels.CommandFactory");Microsoft.Crm.Client.Core.ViewModels.$6o.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6o",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$SI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SI",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$4N.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4N",Microsoft.Crm.Client.Core.ViewModels.$SI);Microsoft.Crm.Client.Core.ViewModels.$Sa.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sa",Microsoft.Crm.Client.Core.ViewModels.$4N);Microsoft.Crm.Client.Core.ViewModels.$Bo.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bo",Microsoft.Crm.Client.Core.ViewModels.$SI,Microsoft.Crm.Client.Core.ViewModels.$77);Microsoft.Crm.Client.Core.ViewModels.$4L.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4L");Microsoft.Crm.Client.Core.ViewModels.$Rm.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rm",Microsoft.Crm.Client.Core.ViewModels.$RQ);Microsoft.Crm.Client.Core.ViewModels.$KC.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KC");Microsoft.Crm.Client.Core.ViewModels.$10.registerClass("Microsoft.Crm.Client.Core.ViewModels.$10",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.$4O.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4O",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.RootViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.$4Q,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$DB);Microsoft.Crm.Client.Core.ViewModels.$SU.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SU",Microsoft.Crm.Client.Core.ViewModels.RootViewModel);Microsoft.Crm.Client.Core.ViewModels.$CD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CD",Microsoft.Crm.Client.Core.ViewModels.$SU);Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.$CD);Microsoft.Crm.Client.Core.ViewModels.$2r.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2r");Microsoft.Crm.Client.Core.ViewModels.$11.registerClass("Microsoft.Crm.Client.Core.ViewModels.$11",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.$8K.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8K",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.$KD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KD",null,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$a.registerClass("Microsoft.Crm.Client.Core.ViewModels.$a");Microsoft.Crm.Client.Core.ViewModels.$SK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SK",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$4P.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4P",Microsoft.Crm.Client.Core.ViewModels.$SK,Microsoft.Crm.Client.Core.ViewModels.$77);Microsoft.Crm.Client.Core.ViewModels.$DY.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DY",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$DZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DZ",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.$CS.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CS",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager");Microsoft.Crm.Client.Core.ViewModels.$e.registerClass("Microsoft.Crm.Client.Core.ViewModels.$e");Microsoft.Crm.Client.Core.ViewModels.$k.registerClass("Microsoft.Crm.Client.Core.ViewModels.$k");Microsoft.Crm.Client.Core.ViewModels.$4M.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4M");Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel",Microsoft.Crm.Client.Core.Framework.$6g,Microsoft.Crm.Client.Core.ViewModels.$Ea,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$DB);Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext.registerClass("Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext",Microsoft.Crm.Client.Core.ViewModels.$KC);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext",Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$2g.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2g");Microsoft.Crm.Client.Core.ViewModels.$ST.registerClass("Microsoft.Crm.Client.Core.ViewModels.$ST",Microsoft.Crm.Client.Core.ViewModels.$SK,Microsoft.Crm.Client.Core.ViewModels.$2v,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$75);Microsoft.Crm.Client.Core.ViewModels.$S1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$S1",Microsoft.Crm.Client.Core.ViewModels.$2I,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$SD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SD",Microsoft.Crm.Client.Core.ViewModels.$S1,Microsoft.Crm.Client.Core.ViewModels.$2v,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$75);Microsoft.Crm.Client.Core.ViewModels.ValueFactory.registerClass("Microsoft.Crm.Client.Core.ViewModels.ValueFactory");Microsoft.Crm.Client.Core.ViewModels.$KE.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KE");Microsoft.Crm.Client.Core.ViewModels.$9.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9",null,Microsoft.Crm.Client.Core.Framework.$6D);Microsoft.Crm.Client.Core.ViewModels.$7n.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7n",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Q");Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$Bh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bh",Microsoft.Crm.Client.Core.ViewModels.$2I,Microsoft.Crm.Client.Core.Framework.$9t,Microsoft.Crm.Client.Core.Framework.$D9,Microsoft.Crm.Client.Core.ViewModels.$DA,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$Bi.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bi",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$Bm.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bm",null,Microsoft.Crm.Client.Core.Framework.$54);Microsoft.Crm.Client.Core.ViewModels.$Bn.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bn",Microsoft.Crm.Client.Core.ViewModels.$SD);Microsoft.Crm.Client.Core.ViewModels.$24.registerClass("Microsoft.Crm.Client.Core.ViewModels.$24",Microsoft.Crm.Client.Core.ViewModels.$7n,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$77);Microsoft.Crm.Client.Core.ViewModels.$8m.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8m",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$14.registerClass("Microsoft.Crm.Client.Core.ViewModels.$14");Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.$CD,Microsoft.Crm.Client.Core.ViewModels.$6Z,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$Cr);Microsoft.Crm.Client.Core.ViewModels.$E1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E1",Microsoft.Crm.Client.Core.ViewModels.$ST);Microsoft.Crm.Client.Core.ViewModels.$7x.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7x",Microsoft.Crm.Client.Core.ViewModels.$E1,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cl);Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.$CC.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CC",Microsoft.Crm.Client.Core.ViewModels.$E1);Microsoft.Crm.Client.Core.ViewModels.$CT.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CT",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$Cv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cv",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel",Microsoft.Crm.Client.Core.ViewModels.$CD,Microsoft.Crm.Client.Core.ViewModels.$6Z,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d);Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel",Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel);Microsoft.Crm.Client.Core.ViewModels.$4k.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4k",Microsoft.Crm.Client.Core.ViewModels.$SD);Microsoft.Crm.Client.Core.ViewModels.$9o.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9o",Microsoft.Crm.Client.Core.ViewModels.$4k);Microsoft.Crm.Client.Core.ViewModels.$9p.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9p",Microsoft.Crm.Client.Core.ViewModels.$4k);Microsoft.Crm.Client.Core.ViewModels.$4D.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4D",Microsoft.Crm.Client.Core.ViewModels.$SD);Microsoft.Crm.Client.Core.ViewModels.$3Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3Q",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$A2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$A2",Microsoft.Crm.Client.Core.ViewModels.$CT);Microsoft.Crm.Client.Core.ViewModels.$DR.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DR",Microsoft.Crm.Client.Core.ViewModels.$2I,Microsoft.Crm.Client.Core.ViewModels.$EZ,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.$AA.registerClass("Microsoft.Crm.Client.Core.ViewModels.$AA",Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel);Microsoft.Crm.Client.Core.ViewModels.$AA.prototype.toString=Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.prototype.toString;Microsoft.Crm.Client.Core.ViewModels.$AB.registerClass("Microsoft.Crm.Client.Core.ViewModels.$AB",Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel);Microsoft.Crm.Client.Core.ViewModels.$AB.prototype.toString=Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.prototype.toString;Microsoft.Crm.Client.Core.ViewModels.$8J.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8J",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$5f.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5f");Microsoft.Crm.Client.Core.ViewModels.$SV.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SV",Microsoft.Crm.Client.Core.ViewModels.$24);Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.$SV,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$Ds.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ds",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$Sh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sh",Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel);Microsoft.Crm.Client.Core.ViewModels.$6e.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6e",Microsoft.Crm.Client.Core.ViewModels.$4k,Microsoft.Crm.Client.Core.ViewModels.$5o,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$Mc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mc",Sys.EventArgs);Microsoft.Crm.Client.Core.ViewModels.$7R.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7R");Microsoft.Crm.Client.Core.ViewModels.$Se.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Se",Microsoft.Crm.Client.Core.ViewModels.$Bn);Microsoft.Crm.Client.Core.ViewModels.$Sf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sf",Microsoft.Crm.Client.Core.ViewModels.$Bn);Microsoft.Crm.Client.Core.ViewModels.$6L.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6L",Microsoft.Crm.Client.Core.ViewModels.$S1);Microsoft.Crm.Client.Core.ViewModels.$EJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EJ",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$BD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$BD",Microsoft.Crm.Client.Core.ViewModels.$7n);Microsoft.Crm.Client.Core.ViewModels.$EK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EK",Microsoft.Crm.Client.Core.ViewModels.$4k);Microsoft.Crm.Client.Core.ViewModels.$C.registerClass("Microsoft.Crm.Client.Core.ViewModels.$C",Microsoft.Crm.Client.Core.Framework.$69);Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z,Microsoft.Crm.Client.Core.ViewModels.$Eu,Microsoft.Crm.Client.Core.ViewModels.$9c,Microsoft.Crm.Client.Core.ViewModels.$4Q,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$DB,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$DG,Microsoft.Crm.Client.Core.ViewModels.$78,Microsoft.Crm.Client.Core.ViewModels.$9v,Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co,Microsoft.Crm.Client.Core.OWAViewModels.Common.$G6,Microsoft.Crm.Client.Core.ViewModels.$77);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel",Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel);Microsoft.Crm.Client.Core.ViewModels.List.$SG.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.$SG",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel",Microsoft.Crm.Client.Core.ViewModels.List.$SG,Microsoft.Crm.Client.Core.ViewModels.$DE);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel",Microsoft.Crm.Client.Core.ViewModels.List.$SG,Microsoft.Crm.Client.Core.Framework.$9t,Microsoft.Crm.Client.Core.Framework.$D9);Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.$42.registerClass("Microsoft.Crm.Client.Core.ViewModels.$42",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.$DA,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.Framework.$9t,Microsoft.Crm.Client.Core.ViewModels.$9c);Microsoft.Crm.Client.Core.ViewModels.GridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.GridViewModel",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.Framework.$9t,Microsoft.Crm.Client.Core.ViewModels.$DE);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel",Microsoft.Crm.Client.Core.ViewModels.GridViewModel);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.$3R.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3R",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.$Cs,Microsoft.Crm.Client.Core.ViewModels.$9c,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$3R);Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.$Hq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hq",null,Microsoft.Crm.Client.Core.ViewModels.$Ev);Microsoft.Crm.Client.Core.ViewModels.$Hr.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hr",null,Microsoft.Crm.Client.Core.ViewModels.$Et);Microsoft.Crm.Client.Core.ViewModels.$Hp.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hp",null,Microsoft.Crm.Client.Core.ViewModels.$Et);Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.$Hn.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hn",null,Microsoft.Crm.Client.Core.ViewModels.$Et);XrmUI.Page.registerClass("XrmUI.Page");Microsoft.Crm.Client.Core.ViewModels.$Mj.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mj",XrmUI.Page);Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification.registerClass("Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification",Xrm.BusinessRuleNotificationBase);Microsoft.Crm.Client.Core.ViewModels.$Ho.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ho",null,Xrm.IBusinessRuleNotificationProvider);Microsoft.Crm.Client.Core.ViewModels.FieldAccessController.registerClass("Microsoft.Crm.Client.Core.ViewModels.FieldAccessController");Microsoft.Crm.Client.Core.ViewModels.$40.registerClass("Microsoft.Crm.Client.Core.ViewModels.$40");Microsoft.Crm.Client.Core.ViewModels.$7O.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7O");Microsoft.Crm.Client.Core.ViewModels.$1e.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1e");Microsoft.Crm.Client.Core.ViewModels.$1c.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1c");Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel",Microsoft.Crm.Client.Core.Framework.$6g);Microsoft.Crm.Client.Core.ViewModels.$1W.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1W",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$SU,Microsoft.Crm.Client.Core.ViewModels.$Cr,Microsoft.Crm.Client.Core.ViewModels.$3X,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);ChartConfigObject.registerClass("ChartConfigObject");Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$5G");Microsoft.Crm.Client.Core.ViewModels.Controls.$SW.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$SW",Microsoft.Crm.Client.Core.ViewModels.$24);Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$E8",Microsoft.Crm.Client.Core.ViewModels.Controls.$SW);Microsoft.Crm.Client.Core.ViewModels.Controls.$CA.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$CA",Microsoft.Crm.Client.Core.ViewModels.Controls.$E8);Microsoft.Crm.Client.Core.ViewModels.Controls.$CB.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$CB",Microsoft.Crm.Client.Core.ViewModels.$7n,Microsoft.Crm.Client.Core.ViewModels.$EV);Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$2e");Microsoft.Crm.Client.Core.ViewModels.Controls.$89.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$89",Microsoft.Crm.Client.Core.ViewModels.$2I,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$89);Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$89);Microsoft.Crm.Client.Core.ViewModels.Controls.$BX.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$BX",Microsoft.Crm.Client.Core.ViewModels.Controls.$89);Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$2i");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S");Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder.registerClass("Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder",Microsoft.Crm.Client.Core.ViewModels.$KE);Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder.registerClass("Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder",Microsoft.Crm.Client.Core.ViewModels.$KE);Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ControlCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ControlCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.NavigationCommand.registerClass("Microsoft.Crm.Client.Core.Commands.NavigationCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z,Microsoft.Crm.Client.Core.Framework.$35);Microsoft.Crm.Client.Core.Commands.$A3.registerClass("Microsoft.Crm.Client.Core.Commands.$A3",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand);Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand);Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand);Microsoft.Crm.Client.Core.Commands.SignOutCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SignOutCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand);Microsoft.Crm.Client.Core.Commands.$AO.registerClass("Microsoft.Crm.Client.Core.Commands.$AO",Microsoft.Crm.Client.Core.Framework.Binding.$RG);Microsoft.Crm.Client.Core.Commands.$2R.registerClass("Microsoft.Crm.Client.Core.Commands.$2R",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand",Microsoft.Crm.Client.Core.Commands.$2R);Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.RelayCommand.registerClass("Microsoft.Crm.Client.Core.Commands.RelayCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$AH",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Common.$8b.registerClass("Microsoft.Crm.Client.Core.ViewModels.Common.$8b",Microsoft.Crm.Client.Core.Framework.$69);Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.registerClass("Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority");Microsoft.Crm.Client.Core.ViewModels.Common.$AE.registerClass("Microsoft.Crm.Client.Core.ViewModels.Common.$AE",Microsoft.Crm.Client.Core.Framework.$69);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HY.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HY");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HT.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HT");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s",null,Microsoft.Crm.Client.Core.Framework.$Gh);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HW.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HW");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$92.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$92");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$93.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$93");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV",null,Microsoft.Crm.Client.Core.Framework.ISerializable);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HZ");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HX.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HX");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HR.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HR");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HO.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HO");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HP.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HP");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z",Microsoft.Crm.Client.Core.ViewModels.$SD,Microsoft.Crm.Client.Core.ViewModels.$88,Microsoft.Crm.Client.Core.Framework.$9t,Microsoft.Crm.Client.Core.ViewModels.$9c,Microsoft.Crm.Client.Core.ViewModels.$78);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$3De.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$3De");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nq.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nq",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlValidatorResult.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlValidatorResult");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k",null,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ik.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ik");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ih.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ih");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ii.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ii");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ij.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ij");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ic.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ic");Microsoft.Crm.Client.Core.ViewModels.Converters.$Id.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Id");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ie.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ie");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ib.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ib");Microsoft.Crm.Client.Core.ViewModels.Converters.$IY.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$IY");Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ia.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ia");Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If");Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58",Microsoft.Crm.Client.Core.Framework.Binding.$2z,Microsoft.Crm.Client.Core.ViewModels.List.Commands.$G5,Microsoft.Crm.Client.Core.Framework.Binding.$Gg);XrmUI.$Ig.registerClass("XrmUI.$Ig");XrmUI.XrmUIControls.registerClass("XrmUI.XrmUIControls",Xrm.XrmCollection$1.$$(XrmUI.IXrmUIControl));XrmUI.Manager.registerClass("XrmUI.Manager");XrmUI.ControlId.registerClass("XrmUI.ControlId");XrmUI.UIControlType.registerClass("XrmUI.UIControlType");Xrm.Utility.$C=null;Microsoft.Crm.Client.Core.Models.$6J.$1nM=!1;Microsoft.Crm.Client.Core.ViewModels.$I.$j7={};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1uQ=[17,26,47,31];Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$r1=!1;Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.PaneScrollIndicatorEnabled=!1;Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary=null;Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$6o.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$2D.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4O.$1Ht="GlobalMenuViewModel";Microsoft.Crm.Client.Core.ViewModels.$11.$C=null;Microsoft.Crm.Client.Core.ViewModels.$11.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$8K.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4P.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$C=null;this.$I5=null;this.$Q0=null;this.$yz=null;Microsoft.Crm.Client.Core.ViewModels.$e.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4M.$wg=null;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$104=new Microsoft.Crm.Client.Core.Framework.$C3("BackButtonToolTip",String,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Back_Button_Text"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$10R=new Microsoft.Crm.Client.Core.Framework.$C3("CanGoBack",Boolean,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel,!1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C=null;Microsoft.Crm.Client.Core.ViewModels.$2g.$S6=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object));Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$1YL={};Microsoft.Crm.Client.Core.ViewModels.$9.$3=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6();Microsoft.Crm.Client.Core.ViewModels.$7n.$$cctor();Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1ER=null;Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Q5=null;Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Ex=null;Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Bh.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Bi.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$24.$1XW=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["BackProcessStage","SetActiveStage","SkypeUrlLauncherCommand","UrlLauncherCommand"]);Microsoft.Crm.Client.Core.ViewModels.$2I.$1PI=null;Microsoft.Crm.Client.Core.ViewModels.$2I.$1KL=!1;Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.$1dB=[];Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$1El=!1;Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4N.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4k.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$9o.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$9p.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4D.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$3Q.$1mb=new Microsoft.Crm.Client.Core.Framework.$C3("Text",String,Microsoft.Crm.Client.Core.ViewModels.$3Q);Microsoft.Crm.Client.Core.ViewModels.$3Q.$2yF=new Microsoft.Crm.Client.Core.Framework.$C3("PreventNavigation",Boolean,Microsoft.Crm.Client.Core.ViewModels.$3Q);Microsoft.Crm.Client.Core.ViewModels.$3Q.$2w6=new Microsoft.Crm.Client.Core.Framework.$C3("OpenInNewWindow",Boolean,Microsoft.Crm.Client.Core.ViewModels.$3Q);Microsoft.Crm.Client.Core.ViewModels.$DR.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$AA.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$AB.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$8J.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Ds.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$6e.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$EJ.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$BD.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$EK.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$C.$3=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6();Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.$3=null;Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.$1SD=new Microsoft.Crm.Client.Core.Framework.$C3("ViewportCheckCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z,Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel);Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.$1ZR=new Microsoft.Crm.Client.Core.Framework.$C3("EntityTypeCode",Number,Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel);Microsoft.Crm.Client.Core.ViewModels.FieldAccessController.$1Z7=[6,9,1,10];this.$8t=null;Microsoft.Crm.Client.Core.ViewModels.$40.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$1W.$C=null;Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1s1="taskflowclosed";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2GU="uniquename";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1s0="status";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1BV="abandoned";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1XY="completed";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2Cl="saved";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2Gv="length";Microsoft.Crm.Client.Core.ViewModels.Controls.$CB.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.$C=null;Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder.$$cctor();Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ControlCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$A3.$$cctor();Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SignOutCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$AO.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$1Nb=0;Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$39q=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["activitypointer"]);Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$1ea=!1;Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$2R.$2Ga=30;Microsoft.Crm.Client.Core.Commands.$2R.$1RY=0;Microsoft.Crm.Client.Core.Commands.$2R.$$cctor();Microsoft.Crm.Client.Core.Commands.RelayCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.TabbingDisabled=-3e4;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.None=-1;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.MessageButton=1;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.SiteMapButton=10;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.HomeButton=20;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.SearchButton=30;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.BackButton=40;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.TrackBar=950;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.DefaultRootPage=1e3;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.QuickCreateForm=1e4;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.DefaultIndexForHeaderControl=1e3;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.DefaultStartIndex=1300;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.TabIndexBufferForBPC=1;Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.$C=null;Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$C=null;Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.$$cctor();Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.$$cctor();Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$$cctor();XrmUI.Manager.XrmUIPage=null;XrmUI.Manager.ControlsData=null;XrmUI.Manager.$13T=null;XrmUI.ControlId.filterButton="filterButton";XrmUI.ControlId.gridHeaderItem="gridHeaderItem";XrmUI.ControlId.helpButton="help";XrmUI.ControlId.homeButton="home";XrmUI.ControlId.jumpBar="jumpBar";XrmUI.ControlId.listItem="listItem";XrmUI.ControlId.moreCommands="moreCommands";XrmUI.ControlId.navigationBar="navigationbar";XrmUI.ControlId.navDetailFlyout="navDetailflyout";XrmUI.ControlId.navModuleFlyout="navModuleflyout";XrmUI.ControlId.panoramaItem="panoramaItem";XrmUI.ControlId.searchButton="search";XrmUI.ControlId.siteMapButton="sitemap";XrmUI.ControlId.gridHeader="gridHeader";XrmUI.ControlId.gridRow="gridRow";XrmUI.ControlId.subGrid="crmSubGrid";XrmUI.ControlId.refreshButton="refresh";XrmUI.ControlId.panoramaContainer="PanoramaContainer";XrmUI.ControlId.swipeIn="swipeIn";XrmUI.UIControlType.back="Back";XrmUI.UIControlType.barChart="BarChart";XrmUI.UIControlType.button="Button";XrmUI.UIControlType.commandButton="CommandButton";XrmUI.UIControlType.columnChart="ColumnChart";XrmUI.UIControlType.commandBarContainer="appBar";XrmUI.UIControlType.crmChart="CrmChart";XrmUI.UIControlType.chartList="visualizationListContainer";XrmUI.UIControlType.chartToolBar="visualizationToolBar";XrmUI.UIControlType.chartToolBarButton="ChartToolBarButton";XrmUI.UIControlType.dateOfPost="DateOfPost";XrmUI.UIControlType.drilldown="DrillDownContainer";XrmUI.UIControlType.deleteNotesAction="deleteNotesAction";XrmUI.UIControlType.deleteLink="deleteLink";XrmUI.UIControlType.filterButton="filterButton";XrmUI.UIControlType.funnelChart="FunnelChart";XrmUI.UIControlType.grid="Grid";XrmUI.UIControlType.gridHeader="gridHeader";XrmUI.UIControlType.gridHeaderItem="gridHeaderItem";XrmUI.UIControlType.gridQuickFind="GridQuickFind";XrmUI.UIControlType.gridRow="gridRow";XrmUI.UIControlType.gridViewSelectorDropDown="GridViewSelectorDropDown";XrmUI.UIControlType.gridQuickFindContainer="GridQuickFindContainer";XrmUI.UIControlType.gridQuickFindButton="GridQuickFindButton";XrmUI.UIControlType.gridViewSelector="GridViewSelector";XrmUI.UIControlType.gridViewSelectorContainer="GridViewSelectorContainer";XrmUI.UIControlType.gridViewPinImage="GridViewPinImage";XrmUI.UIControlType.home="Home";XrmUI.UIControlType.jumpBar="jumpBar";XrmUI.UIControlType.lineChart="LineChart";XrmUI.UIControlType.listItem="ListItem";XrmUI.UIControlType.navigationButton="NavigationButton";XrmUI.UIControlType.navigationContainer="NavigationContainer";XrmUI.UIControlType.newRecordButton="newRecordButton";XrmUI.UIControlType.notesTextBox="NotesTextBox";XrmUI.UIControlType.notesWallContainer="NotesWallContainer";XrmUI.UIControlType.notesWall="NotesWall";XrmUI.UIControlType.notesItemTextBoxDiv="PostItemTextBoxDiv";XrmUI.UIControlType.notesItemTextBoxSpacer="PostItemTextBoxSpacer";XrmUI.UIControlType.notesControl="NotesControl";XrmUI.UIControlType.notesControlChildElements="NotesControlChildElements";XrmUI.UIControlType.okCell="OkCell";XrmUI.UIControlType.panoramaContainer="panoramaContainer";XrmUI.UIControlType.panoramaItem="panoramaItem";XrmUI.UIControlType.pieChart="PieChart";XrmUI.UIControlType.postContainerItem="PostContainerItem";XrmUI.UIControlType.postItemTitle="PostItemTitle";XrmUI.UIControlType.postItemText="PostItemText";XrmUI.UIControlType.postFooter="PostFooter";XrmUI.UIControlType.postFooterActionArea="PostFooterActionArea";XrmUI.UIControlType.postFooterAttachSpacer="PostFooterAttachSpacer";XrmUI.UIControlType.postFooterDoneSpacer="PostFooterDoneSpacer";XrmUI.UIControlType.postDoneButton="PostDoneButton";XrmUI.UIControlType.postAttachImage="PostAttachImage";XrmUI.UIControlType.postAttachFrame="PostAttachFrame";XrmUI.UIControlType.postAttachButton="PostAttachButton";XrmUI.UIControlType.postAuditInformation="PostAuditInformation";XrmUI.UIControlType.postUserName="PostUserName";XrmUI.UIControlType.postUndoText="PostUndoText";XrmUI.UIControlType.postUndoLink="PostUndoLink";XrmUI.UIControlType.refreshButton="refresh";XrmUI.UIControlType.staticNavigationButton="StaticNavigationButton";XrmUI.UIControlType.undeletePost="UndeletePost";XrmUI.UIControlType.processStage="ProcessStage";XrmUI.UIControlType.processStep="ProcessStep";XrmUI.UIControlType.processStepColumn="ProcessStepColumn";XrmUI.UIControlType.processControlContainer="ProcessControlContainer";XrmUI.UIControlType.processHeaderContainer="ProcessHeaderContainer";XrmUI.UIControlType.processHeaderStage="ProcessHeaderStage";XrmUI.UIControlType.quickCreateCommandButton="QuickCreateCommandButton";XrmUI.UIControlType.flyOutButton="FlyOutButton"
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.OWAViewModels.js.srcmap
Type.registerNamespace("Mscrm");Mscrm.EntityReference=function(){};Mscrm.CrmUri=function(n){if(IsNull(n)||!n.startsWith("/"),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.usepathbasedurls){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$mX;n="/"+t+n}this.$2wp(n);this.$1GF=n};Mscrm.CrmUri.create=function(n){return new Mscrm.CrmUri(n)};Mscrm.CrmUri.prototype={$1GF:null,$1S:null,$1V:null,$1NW:null,$kb:null,$1Wy:!1,get_query:function(){return this.$1NW||(this.$1NW=this.$2Mk(this.$1V)),this.$1NW},$2wp:function(n){var u;this.$1S=n;this.$1V="";this.$kb="";var i=this.$1S.indexOf("?"),t=this.$1S.indexOf("#"),r=-1;i!==-1&&(u=t>i?t:this.$1S.length,this.$1V=this.$1S.substr(i,u-i),r=i);t!==-1&&(this.$kb=CrmEncodeDecode.CrmUrlDecode(this.$1S.substr(t+1)),(r===-1||t<r)&&(r=t),i>t&&(this.$1V=""));r!==-1&&(this.$1S=this.$1S.substr(0,r))},$2Mk:function(n){var u={},t,r,i,f,e,o;if(!n||!n.length)return u;for(t=1;t<n.length;)r=n.indexOf("&",t),r===-1&&(r=n.length),i=n.indexOf("=",t),i>r&&(i=-1),i!==-1&&i<r?(f=n.substr(t,i-t),e=n.substr(i+1,r-i-1),u[CrmEncodeDecode.CrmUrlDecode(f)]=CrmEncodeDecode.CrmUrlDecode(e)):this.$1Wy&&i===-1&&(o=n.substr(t,r-t),u[CrmEncodeDecode.CrmUrlDecode(o)]=null),t=r+1;return u},toString:function(){return this.$1WM(),this.$1GF},$1WM:function(){this.$3BO();var n=new Sys.StringBuilder;n.append(this.$1S);n.append(this.$1V);this.$kb.length>0&&(n.append("#"),n.append(this.$kb));this.$1GF=n.toString()},$3BO:function(){var r=this.get_query(),n=new Sys.StringBuilder,i=[],e=0,o=r,u,s,f,t;for(u in o)s={key:u,value:o[u]},i[e++]=s.key;for(i.sort(),f=!0,t=0;t<e;t++)f?(f=!1,n.append("?")):n.append("&"),n.append(CrmEncodeDecode.CrmUrlEncode(i[t])),this.$1Wy&&IsNull(r[i[t]])||(n.append("="),n.append(CrmEncodeDecode.CrmUrlEncode(r[i[t]])));this.$1V=n.toString()}};Type.registerNamespace("Xrm");Xrm.KBSearchResult=function(){};Xrm.AlertDialogStrings=function(){};Xrm.ConfirmDialogStrings=function(){};Xrm.XrmEntityRelationship=function(){};Xrm.ChartPaneMode=function(){};Xrm.ChartPaneMode.prototype={collapsed:0,defaultMode:1,expanded:2,resizeMode:3,none:4};Xrm.ChartPaneMode.registerEnum("Xrm.ChartPaneMode",!1);Xrm.$1h=function(){};Xrm.$1h.prototype={active:1,finished:2,aborted:3};Xrm.$1h.registerEnum("Xrm.$1h",!1);Xrm.EntityRelationshipRoleType=function(){};Xrm.EntityRelationshipRoleType.prototype={none:-1,referencing:1,associationEntity:2};Xrm.EntityRelationshipRoleType.registerEnum("Xrm.EntityRelationshipRoleType",!1);Xrm.EntityRelationshipType=function(){};Xrm.EntityRelationshipType.prototype={none:-1,oneToMany:0,manyToMany:1};Xrm.EntityRelationshipType.registerEnum("Xrm.EntityRelationshipType",!1);Xrm.FormDataAttributePrivileges=function(){};Xrm.FormDataAttributePrivileges.prototype={none:0,create:1,read:2,update:4};Xrm.FormDataAttributePrivileges.registerEnum("Xrm.FormDataAttributePrivileges",!0);Xrm.FormType=function(){};Xrm.FormType.prototype={undefined:0,create:1,update:2,readOnly:3,disabled:4,quickCreate:5,bulkEdit:6,readOptimized:11,dialog:12};Xrm.FormType.registerEnum("Xrm.FormType",!1);Xrm.ProcessResponse=function(){};Xrm.ProcessResponse.prototype={success:0,invalid:1,unreachable:2,noPermission:3,deactivated:4,branch:5,stageGate:6,beginning:7,end:8,complete:9,crossEntity:10,dirtyForm:11};Xrm.ProcessResponse.registerEnum("Xrm.ProcessResponse",!1);Xrm.ProcessState=function(){};Xrm.ProcessState.prototype={complete:0,incomplete:1};Xrm.ProcessState.registerEnum("Xrm.ProcessState",!1);Xrm.ProcessStatus=function(){};Xrm.ProcessStatus.prototype={inactive:0,active:1};Xrm.ProcessStatus.registerEnum("Xrm.ProcessStatus",!1);Xrm.StepType=function(){};Xrm.StepType.prototype={field:0,action:1,flow:2};Xrm.StepType.registerEnum("Xrm.StepType",!1);Xrm.FormDataAttributePrivilege=function(n){this.canCreate=!!(n&1);this.canRead=!!(n&2);this.canUpdate=!!(n&4)};Xrm.OptionSetItem=function(n,t){this.value=n;this.text=t};Xrm.SaveOptions=function(){this.useSchedulingEngine=!0;this.isProcessControlNavigation=!1;this.saveMode=0};Xrm.XrmForm=function(){};Xrm.XrmForm.prototype={context:null,data:null,grid:null,ui:null,getControl:function(n){return Mscrm.InternalUtilities.JSTypes.isNull(this.ui)?null:this.ui.controls.get(n)},getAttribute:function(n){return Mscrm.InternalUtilities.JSTypes.isNull(this.data)?null:this.data.entity.attributes.get(n)}};Xrm.XrmPanelUtilityWrapper=function(){Xrm.XrmPanelUtilityWrapper.initializeBase(this)};Xrm.XrmPanelUtilityWrapper.prototype={loadPanel:function(){throw Error.notImplemented("This is for use only in web client.");},setPanelState:function(){throw Error.notImplemented("This is for use only in web client.");},getPanelState:function(){throw Error.notImplemented("This is for use only in web client.");}};Xrm.XrmTimerControl=function(){Xrm.XrmTimerControl.initializeBase(this)};Xrm.NotificationLevels=function(){};Xrm.JavaScriptConsoleTraceListener=function(n){this.$1mA=n};Xrm.JavaScriptConsoleTraceListener.initialize=function(n){var t,r,i;Xrm.JavaScriptConsoleTraceListener.$C||(t=window.console,t&&t.log&&t.error&&(r=!!t.warn,Xrm.JavaScriptConsoleTraceListener.$C=new Xrm.JavaScriptConsoleTraceListener(r)));try{i=document.cookie;Xrm.JavaScriptConsoleTraceListener.$C&&i&&i.indexOf("CrmEnableConsoleTrace=1")>=0&&n.addListener(Xrm.JavaScriptConsoleTraceListener.$C)}catch(u){}};Xrm.JavaScriptConsoleTraceListener.get_instance=function(){return Xrm.JavaScriptConsoleTraceListener.$C};Xrm.JavaScriptConsoleTraceListener.prototype={$1mA:!1,log:function(n){for(var r,i=[],t=1;t<arguments.length;++t)i[t-1]=arguments[t];r=String.format.apply(null,[n].concat(i));console.log("%s",r)},warning:function(n){for(var i,r=[],t=1;t<arguments.length;++t)r[t-1]=arguments[t];i=String.format.apply(null,[n].concat(r));this.$1mA?console.warn("%s",i):console.log("WARNING %s",i)},error:function(n){for(var r,i=[],t=1;t<arguments.length;++t)i[t-1]=arguments[t];r=String.format.apply(null,[n].concat(i));console.error("%s",r)}};Xrm.ScopedServiceDirectory=function(n){if(this.$he=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object))),$0.$0(n))throw Error.argumentNull("parentDirectory");this.$160=n};Xrm.ScopedServiceDirectory.prototype={$160:null,$Of:null,$2h:!1,register:function(n,t){var i,r;if(this.$2h)throw Error.invalidOperation("Object Disposed");if($0.$0(t))throw Error.argumentNull("implementation");if(i=Xrm.XrmServiceDirectory.getKey(n),!$0.$0(this.$he.get_$R(i))&&this.$he.get_$R(i).contains(t)){r=String.format("Service {0} already has an implementation in this scope",i);throw Error.invalidOperation(r);}this.$160.register(n,t);$0.$0(this.$he.get_$R(i))?(this.$Of=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),this.$Of.add(t),this.$he.set_$R(i,this.$Of)):(this.$Of=this.$he.get_$R(i),this.$Of.add(t));Xrm.Internal.trace.logT(Xrm.ScopedServiceDirectory,"Registered implementation for service {1} of type {0}",Object.getType(t).getName(),i)},unregister:function(n,t){var i,r,u,f;if($0.$0(t))throw Error.argumentNull("implementation");if(i=Xrm.XrmServiceDirectory.getKey(n),r=this.$he.get_$R(i),$0.$0(r)){u=String.format("Service {0} is not registered with this instance",i);throw Error.invalidOperation(u);}if(!r.contains(t)){f=String.format("This implementation is not registered for service {0}",i);throw Error.invalidOperation(f);}this.$160.unregister(n,t);r.remove(t);r.get_Count()||this.$he.$Ai(i);Xrm.Internal.trace.logT(Xrm.ScopedServiceDirectory,"Unregistered implementation for service {1} of type {0}",Object.getType(t).getName(),i)},find:function(n){if(this.$2h)throw Error.invalidOperation("Object Disposed");return this.$160.find(n)},dispose:function(){this.$2h=!0}};Xrm.StringBuilderTraceListener=function(n,t,i){if(!n)throw Error.argumentNull("log");if(!t)throw Error.argumentNull("warning");if(!i)throw Error.argumentNull("error");this.$14u=n;this.$198=t;this.$BO=i};Xrm.StringBuilderTraceListener.create=function(){var n=new Sys.StringBuilder,t=new Sys.StringBuilder,i=new Sys.StringBuilder;return new Xrm.StringBuilderTraceListener(n,t,i)};Xrm.StringBuilderTraceListener.prototype={$14u:null,$198:null,$BO:null,log:function(n){for(var r,i=[],t=1;t<arguments.length;++t)i[t-1]=arguments[t];r=String.format.apply(null,[n].concat(i));this.$14u.appendLine(r)},warning:function(n){for(var r,i=[],t=1;t<arguments.length;++t)i[t-1]=arguments[t];r=String.format.apply(null,[n].concat(i));this.$198.appendLine(r)},error:function(n){for(var r,i=[],t=1;t<arguments.length;++t)i[t-1]=arguments[t];r=String.format.apply(null,[n].concat(i));this.$BO.appendLine(r)},clear:function(){this.$14u.clear();this.$198.clear();this.$BO.clear()},get_logBuilder:function(){return this.$14u},get_warningBuilder:function(){return this.$198},get_errorBuilder:function(){return this.$BO}};Xrm.XrmSdkMessages=function(){};Xrm.XrmSdkMessages.prototype={$185:null,get_$c:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();return Microsoft.Crm.Client.Core.Framework.$6.get_$4U()?this.$185||(this.$185=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$1t(n.context.getClientUrl(),Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C,new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$LS)):this.$185||(this.$185=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$1t(n.context.getClientUrl()))},addDynamicProperty:function(n,t){var i=new Xrm.Gen.AddDynamicPropertyRequest(n,t);return this.get_$c().$1i(i)},addItemCampaign:function(n,t,i){var r=new Xrm.Gen.AddItemCampaignRequest(n,t,i);return this.get_$c().$1i(r)},addItemCampaignActivity:function(n,t,i){var r=new Xrm.Gen.AddItemCampaignActivityRequest(n,t,i);return this.get_$c().$1i(r)},addItem:function(n,t,i){var r=new Xrm.Sdk.AddItemRequest(n,t,i);return this.get_$c().$1i(r)},addRecurrence:function(n,t){var i=new Xrm.Gen.AddRecurrenceRequest(n,t);return this.get_$c().$1i(i)},applyRecordCreationAndUpdateRule:function(n){var t=new Xrm.Gen.ApplyRecordCreationAndUpdateRuleRequest(n);return this.get_$c().$1i(t)},assign:function(n,t,i,r){var u=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),f=new Xrm.Objects.EntityReference(i,new Microsoft.Crm.Client.Core.Framework.Guid(r)),e=new Xrm.Gen.AssignRequest(u,f);return this.get_$c().$1i(e)},assignMultiple:function(n,t,i){for(var f,u=new Array(n.length),r=0;r<n.length;r++)u[r]=new Xrm.Gen.AssignRequest(new Xrm.Objects.EntityReference(n[r].LogicalName,n[r].Id),new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(i)));return f=new Xrm.Gen.ExecuteMultipleRequest(u,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$c().$1i(f)},assignAllRecords:function(n,t,i,r){var u=new Xrm.Gen.AssignAllRecordsTeamRequest(n,t,i,r);return this.get_$c().$1i(u)},associate:function(n,t,i){var r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(t),u;return n.LogicalName===i[0].LogicalName&&(r.$Kf=0),u=new Xrm.Gen.AssociateRequest(n,r,i),this.get_$c().$1i(u)},book:function(n){var t=new Xrm.Gen.BookRequest(n,!0,!0);return this.get_$c().$1i(t)},calculateActualOpportunityValue:function(n){var t=new Xrm.Sdk.CalculateActualValueOpportunityRequest(n);return this.get_$c().$1i(t)},cancelSalesOrder:function(n,t){var i=new Xrm.Gen.CancelSalesOrderRequest(n,t);return this.get_$c().$1i(i)},cloneContract:function(n,t){var i=new Xrm.Gen.CloneContractRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t);return this.get_$c().$1i(i)},cloneProduct:function(n){var t=new Xrm.Gen.CloneProductRequest(n);return this.get_$c().$1i(t)},cloneMobileOfflineProfile:function(n){var t=new Xrm.Gen.CloneMobileOfflineProfileRequest(n);return this.get_$c().$1i(t)},retrieveActiveStageRecord:function(n){var t=new Xrm.Gen.RetrieveActiveStageRecordRequest(n);return this.get_$c().$1i(t)},createKnowledgeArticleVersion:function(n,t){var i=new Xrm.Gen.CreateKnowledgeArticleVersionRequest(n,t);return this.get_$c().$1i(i)},createKnowledgeArticleTranslation:function(n,t,i){var r=new Xrm.Gen.CreateKnowledgeArticleTranslationRequest(n,t,i);return this.get_$c().$1i(r)},publishKnowledgeArticle:function(n,t,i,r){var u=new Xrm.Gen.PublishKnowledgeArticleRequest(n,t,i,r);return this.get_$c().$1i(u)},closeIncident:function(n,t){var i=new Xrm.Gen.CloseIncidentRequest(n,t);return this.get_$c().$1i(i)},closeQuote:function(n,t){var i=new Xrm.Gen.CloseQuoteRequest(n,t);return this.get_$c().$1i(i)},convertActivity:function(n,t,i,r,u){var f=new Xrm.Gen.ConvertActivityRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t,i,r,u);return this.get_$c().$1i(f)},convertCampaignResponse:function(n,t,i,r,u,f){var e=new Xrm.Gen.ConvertCampaignResponseRequest(n,t,i,r,u,f);return this.get_$c().$1i(e)},convertProductToKit:function(n){var t=new Xrm.Gen.ConvertProductToKitRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$c().$1i(t)},convertKitToProduct:function(n){var t=new Xrm.Gen.ConvertKitToProductRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$c().$1i(t)},convertSalesOrderToInvoice:function(n,t){var i=new Xrm.Gen.ConvertSalesOrderToInvoiceRequest(n,t);return this.get_$c().$1i(i)},copyCampaign:function(n,t){var i=new Xrm.Gen.CopyCampaignRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t);return this.get_$c().$1i(i)},copyCampaignResponse:function(n){var t=new Xrm.Gen.CopyCampaignResponseRequest(n);return this.get_$c().$1i(t)},create:function(n){var t=new Xrm.Gen.CreateRequest(n);return this.get_$c().$1i(t)},createAndAssociate:function(n,t,i,r){var u=new Xrm.Gen.CreateAndAssociateRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t,i,r);return this.get_$c().$1i(u)},associateKnowledgeArticle:function(n,t,i,r){var u=new Xrm.Sdk.AssociateKnowledgeArticleRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t,i,new Microsoft.Crm.Client.Core.Framework.Guid(r));return this.get_$c().$1i(u)},disassociateKnowledgeArticle:function(n,t,i,r){var u=new Xrm.Sdk.DisassociateKnowledgeArticleRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t,i,new Microsoft.Crm.Client.Core.Framework.Guid(r));return this.get_$c().$1i(u)},createEntityFrom:function(n,t,i){var r=new Xrm.Gen.InitializeFromRequest(n,t,i);return this.get_$c().$1i(r)},createOrder:function(n,t){var i=new Xrm.Gen.ConvertQuoteToSalesOrderRequest(n,t);return i.processInstanceId=this.$1kK(),this.get_$c().$1i(i)},createProducts:function(n,t){var i=new Xrm.Gen.CreateProductsRequest(n,t);return this.get_$c().$1i(i)},deleteEntity:function(n,t){var i=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),r=new Xrm.Gen.DeleteRequest(i);return this.get_$c().$1i(r)},deleteEntityMultiple:function(n,t){for(var u,r=new Array(t.length),i=0;i<t.length;i++)r[i]=new Xrm.Gen.DeleteRequest(new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t[i])));return u=new Xrm.Gen.ExecuteMultipleRequest(r,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$c().$1i(u)},disassociate:function(n,t,i){var r=new Xrm.Gen.DisassociateRequest(n,t,i);return this.get_$c().$1i(r)},execute:function(n){return this.get_$c().$1i(n)},followEmailAttachment:function(n){var t=new Xrm.Gen.FollowEmailAttachmentRequest(n);return this.get_$c().$1i(t)},getTrackingTokenEmail:function(n){var t=new Xrm.Gen.GetTrackingTokenEmailRequest(n);return this.get_$c().$1i(t)},getDefaultPriceLevel:function(n,t){var i=new Xrm.Gen.GetDefaultPriceLevelRequest(n,t);return this.get_$c().$1i(i)},getInvoiceProductsFromOpportunity:function(n,t){var i=new Xrm.Gen.GetInvoiceProductsFromOpportunityRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),new Microsoft.Crm.Client.Core.Framework.Guid(t));return this.get_$c().$1i(i)},getValidStatusTransition:function(n,t){var i=new Xrm.Gen.GetValidStatusTransitionRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t);return this.get_$c().$1i(i)},canUserSendEmail:function(){var n=new Xrm.Gen.CanUserSendEmailRequest;return this.get_$c().$1i(n)},inviteUser:function(n){var t=new Xrm.Gen.InviteUserRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$c().$1i(t)},isPartnerSolutionInstalled:function(n){var t=new Xrm.Gen.IsPartnerSolutionInstalledRequest(n);return this.get_$c().$1i(t)},lockInvoicePricing:function(n){var t=new Xrm.Gen.LockInvoicePricingRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$c().$1i(t)},loseOpportunity:function(n,t){var i=new Xrm.Gen.LoseOpportunityRequest(n,t);return this.get_$c().$1i(i)},modifyAccess:function(n,t){var i=new Xrm.Sdk.ModifyAccessRequest(n,t);return this.get_$c().$1i(i)},executeQuickFind:function(n,t,i,r){var u=null,f,e;return typeof r!="undefined"&&r.length&&(f=new Microsoft.Crm.Client.Core.Framework.Guid(r),f&&f!==Microsoft.Crm.Client.Core.Framework.Guid.get_empty())?(e=new Xrm.Objects.EntityReference("AppModule",f),u=new Xrm.Sdk.ExecuteQuickFindRequest(n,t,i,e),this.get_$c().$1i(u)):(u=new Xrm.Sdk.ExecuteQuickFindRequest(n,t,i),this.get_$c().$1i(u))},newDocument:function(n,t,i,r,u){var f=new Xrm.Gen.NewDocumentRequest(n,t,i,r,u);return f.fileName=n,f.locationId=t,f.parentEntityReference=i,f.isFolder=r,f.folderPath=u,this.get_$c().$1i(f)},overrideDynamicProperty:function(n,t){var i=new Xrm.Gen.OverrideDynamicPropertyRequest(n,t);return this.get_$c().$1i(i)},overwriteDynamicProperty:function(n,t){var i=new Xrm.Gen.OverwriteDynamicPropertyRequest(n,t);return this.get_$c().$1i(i)},overrideDynamicProperties:function(n,t){for(var u,r=new Array(t.get_entities().length),i=0;i<t.get_entities().length;i++)"regardingobjectid"in t.get_entities()[i].fields&&n.Id.equals(t.get_entities()[i].fields.regardingobjectid.Id)?"statecode"in t.get_entities()[i].fields&&t.get_entities()[i].fields.statecode.toString()==="0"?(t.get_entities()[i].$4w.add("basedynamicpropertyid"),r[i]=new Xrm.Gen.CreateRequest(t.get_entities()[i])):r[i]=new Xrm.Gen.UpdateRequest(t.get_entities()[i]):(t.get_entities()[i].setValue("regardingobjectid",n),t.get_entities()[i].$4w.add("basedynamicpropertyid"),r[i]=new Xrm.Gen.CreateRequest(t.get_entities()[i]));return u=new Xrm.Gen.ExecuteMultipleRequest(r,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$c().$1i(u)},publishProductHierarchy:function(n){var t=new Xrm.Gen.PublishProductHierarchyRequest(n);return this.get_$c().$1i(t)},populateCard:function(n){var t=new Xrm.Gen.PopulateCardRequest(n);return this.get_$c().$1i(t)},qualifyLead:function(n,t,i,r,u,f,e,o,s){var h=this.$1kK(),c=new Xrm.Gen.QualifyLeadRequest(n,t,i,r,u,f,e,o,s,h);return this.get_$c().$1i(c)},removeDynamicProperty:function(n,t){var i=new Xrm.Gen.RemoveDynamicPropertyRequest(n,t);return this.get_$c().$1i(i)},renewContract:function(n,t,i){var r=new Xrm.Gen.RenewContractRequest(n,t,i);return this.get_$c().$1i(r)},renewEntitlement:function(n,t){var i=new Xrm.Gen.RenewEntitlementRequest(n,t);return this.get_$c().$1i(i)},reschedule:function(n){var t=new Xrm.Gen.RescheduleRequest(n,!0,!0);return this.get_$c().$1i(t)},retrieve:function(n,t,i){var r=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),u=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(i),f=new Xrm.Gen.RetrieveRequest(r,u,null,!1);return this.get_$c().$1i(f)},retrieveAttributeList:function(n){var t=new Xrm.Gen.RetrieveAttributeListRequest(n);return this.get_$c().$1i(t)},retrieveCardData:function(n,t){var i=new Xrm.Gen.RetrieveCardDataRequest(n,t);return this.get_$c().$1i(i)},shouldDisplaySLALimitNotification:function(n){var t=new Xrm.Gen.ShouldDisplaySLALimitNotificationRequest(n);return this.get_$c().$1i(t)},retrieveAncestors:function(n,t,i){var r=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),u=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(i),f=new Xrm.Sdk.RetrieveAncestorsRequest(r,u);return this.get_$c().$1i(f)},retrieveProductProperties:function(n){var t=new Xrm.Gen.RetrieveProductPropertiesRequest(n);return this.get_$c().$1i(t)},deleteOpenInstances:function(n,t,i){var r=new Xrm.Gen.DeleteOpenInstancesRequest(n,t,i);return this.get_$c().$1i(r)},retrieveCustomControlManifest:function(n){return this.get_$c().$32M(n)},retrieveEntityDynamicPropertyDefinitions:function(n,t){var i=new Xrm.Gen.RetrieveEntityDynamicPropertyDefinitionsRequest(n,t);return this.get_$c().$1i(i)},retrieveFilteredProcesses:function(n){var t=new Xrm.Gen.RetrieveFilteredProcessesRequest(n);return this.get_$c().$1i(t)},revertProduct:function(n){var t=new Xrm.Gen.RevertProductRequest(n);return this.get_$c().$1i(t)},retrieveMultiple:function(n){var t=new Xrm.Gen.RetrieveMultipleRequest(n);return this.get_$c().$1i(t)},retrieveUnpublishedMultiple:function(n){var t=new Xrm.Gen.RetrieveUnpublishedMultipleRequest(n);return this.get_$c().$1i(t)},revokeAccess:function(n,t){var i=new Xrm.Gen.RevokeAccessRequest(n,t);return this.get_$c().$1i(i)},sendFax:function(n,t){var i=new Xrm.Gen.SendFaxRequest(n,t);return this.get_$c().$1i(i)},sendEmail:function(n,t){var i=new Xrm.Gen.SendEmailRequest(n,t);return this.get_$c().$1i(i)},cancelContract:function(n,t,i){var r=new Xrm.Gen.CancelContractRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n),t,i);return this.get_$c().$1i(r)},setState:function(n,t,i,r){var u=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),f=new Xrm.Gen.SetStateRequest(u,i,r,!0);return this.get_$c().$1i(f)},setStateMultiple:function(n,t,i){for(var f,u=new Array(n.length),r=0;r<n.length;r++)u[r]=new Xrm.Gen.SetStateRequest(new Xrm.Objects.EntityReference(n[r].LogicalName,n[r].Id),t,i,!0);return f=new Xrm.Gen.ExecuteMultipleRequest(u,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$c().$1i(f)},unlockInvoicePricing:function(n){var t=new Xrm.Gen.UnlockInvoicePricingRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$c().$1i(t)},update:function(n,t){var i=new Xrm.Gen.UpdateRequest(n,t);return this.get_$c().$1i(i)},updateMultiple:function(n){for(var r,i=new Array(n.length),t=0;t<n.length;t++)i[t]=new Xrm.Gen.UpdateRequest(n[t]);return r=new Xrm.Gen.ExecuteMultipleRequest(i,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$c().$1i(r)},updateProductProperties:function(n){var t=new Xrm.Gen.UpdateProductPropertiesRequest(n);return this.get_$c().$1i(t)},whoAmI:function(){var n=new Xrm.Gen.WhoAmIRequest;return this.get_$c().$1i(n)},winOpportunity:function(n,t){var i=new Xrm.Gen.WinOpportunityRequest(n,t);return this.get_$c().$1i(i)},checkoutFiles:function(n,t){var i=new Xrm.Gen.CheckoutDocumentRequest(n,t);return i.entity=n,i.parentEntityReference=t,this.get_$c().$1i(i)},checkInFiles:function(n,t,i,r){var u=new Xrm.Gen.CheckInDocumentRequest(n,t,i,r);return u.entity=n,u.checkInComments=t,u.retainCheckout=i,u.parentEntityReference=r,this.get_$c().$1i(u)},deleteDocument:function(n,t){var i=new Xrm.Gen.DeleteDocumentRequest(n,t);return i.entities=n,i.parentEntityReference=t,this.get_$c().$1i(i)},discardCheckoutFiles:function(n,t){var i=new Xrm.Gen.DiscardDocumentCheckoutRequest(n,t);return i.entity=n,i.parentEntityReference=t,this.get_$c().$1i(i)},editDocumentProperties:function(n,t){var i=new Xrm.Gen.EditDocumentPropertiesRequest(n,t);return i.entity=n,i.parentEntityReference=t,this.get_$c().$1i(i)},createFolder:function(n,t,i,r){var u=new Xrm.Gen.CreateFolderRequest(n,t);return u.siteType=i,u.validateFolder=r,u.parentEntityReference=t,this.get_$c().$1i(u)},uploadFolder:function(n,t,i,r){var u=new Xrm.Gen.UploadDocumentRequest(n,t,i,r);return this.get_$c().$1i(u)},retrievePersonalSiteUrl:function(){var n=new Xrm.Gen.RetrievePersonalSiteUrlRequest;return this.get_$c().$1i(n)},searchDocument:function(n,t){var i=new Xrm.Gen.SearchDocumentRequest(n,t);return i.documentId=n,i.parentEntityReference=t,this.get_$c().$1i(i)},addOrEditLocation:function(n,t,i,r,u,f,e,o,s){var h=new Xrm.Gen.AddOrEditLocationRequest(n,t,i,r,u,f,e,o,s);return h.locationName=n,h.absUrl=t,h.relativePath=i,h.parentType=r,h.parentId=u,h.isAddOrEditMode=f,h.isCreateFolder=e,h.documentId=o,h.parentEntityReference=s,this.get_$c().$1i(h)},fetchSiteUrl:function(n,t){var i=new Xrm.Gen.FetchSiteUrlRequest(n,t);return i.documentId=n,i.parentEntityReference=t,this.get_$c().$1i(i)},createDocumentLibraries:function(n,t){var i=new Xrm.Gen.CreateDocumentLibrariesRequest(n,t);return i.documentLibraryNames=n,i.url=t,this.get_$c().$1i(i)},updateDocumentManagementSettings:function(n,t,i,r,u){var f=new Xrm.Gen.UpdateDocumentManagementSettingsRequest(n,t,i,r,u);return f.siteCollection=n,f.folderStructureEntity=t,f.entityDocMgmtXml=i,f.validateStatus=r,f.validateStatusReason=u,this.get_$c().$1i(f)},validateUrl:function(n){var t=new Xrm.Gen.ValidateUrlRequest(n);return t.sharePointUrls=n,this.get_$c().$1i(t)},migrateToS2S:function(n){var t=new Xrm.Gen.MigrateToS2SRequest(n);return t.siteUrl=n,this.get_$c().$1i(t)},updateGlobalSharePointSettings:function(n,t,i){var r=new Xrm.Gen.UpdateGlobalSharePointSettingsRequest(n,t,i);return r.sharePointRealm=n,r.isSharePointOnline=t,r.useAuthorizationServer=i,this.get_$c().$1i(r)},retrieveSharePointGlobalSettings:function(){var n=new Xrm.Gen.RetrieveSharePointGlobalSettingsRequest;return this.get_$c().$1i(n)},upgradeToS2S:function(){var n=new Xrm.Gen.UpgradeToS2SRequest;return this.get_$c().$1i(n)},retrieveSharedPrincipalsAndAccess:function(n){var t=new Xrm.Gen.RetrieveSharedPrincipalsAndAccessRequest(n);return t.target=n,this.get_$c().$1i(t)},retrievePrincipalAccess:function(n,t){var i=new Xrm.Gen.RetrievePrincipalAccessRequest(n,t);return i.target=n,i.principal=t,this.get_$c().$1i(i)},exportToExcelOnline:function(n,t,i,r,u){var f=new Xrm.Gen.ExportToExcelOnlineRequest(n,t,i,r,u);return f.view=n,f.fetchXml=t,f.layoutXml=i,f.queryApi=r,f.queryParameters=u,this.get_$c().$1i(f)},exportTemplateToExcelOnline:function(n,t,i,r){var u=new Xrm.Gen.ExportTemplateToExcelOnlineRequest(n,t,i,r);return u.template=n,u.fetchXml=t,u.queryApi=i,u.queryParameters=r,this.get_$c().$1i(u)},exportTemplateToWord:function(n,t){var i=new Xrm.Gen.ExportTemplateToWordRequest(n,t);return i.entityTypeCode=n,i.selectedEntities=t,this.get_$c().$1i(i)},exportWordDocument:function(n,t,i){var r=new Xrm.Gen.ExportWordDocumentRequest(n,t,i);return r.entityTypeCode=n,r.selectedTemplate=t,r.selectedRecords=i,this.get_$c().$1i(r)},setWordTemplate:function(n,t){var i=new Xrm.Gen.SetWordTemplateRequest(n,t);return i.target=n,i.selectedTemplate=t,this.get_$c().$1i(i)},retrieveDocumentTemplates:function(n,t){var i=new Xrm.Gen.RetrieveDocumentTemplatesRequest(n,t);return i.entityTypeCode=n,i.documentType=t,this.get_$c().$1i(i)},renderTemplate:function(n,t,i,r){var u=new Xrm.Gen.RenderTemplateRequest(n,t,i,r);return u.template=n,u.fetchXml=t,u.queryApi=i,u.queryParameters=r,this.get_$c().$1i(u)},renderTemplateFromView:function(n,t){var i=new Xrm.Gen.RenderTemplateFromViewRequest(n,t);return i.template=n,i.view=t,this.get_$c().$1i(i)},exportToExcel:function(n,t,i,r,u){var f=new Xrm.Gen.ExportToExcelRequest(n,t,i,r,u);return f.view=n,f.fetchXml=t,f.layoutXml=i,f.queryApi=r,f.queryParameters=u,this.get_$c().$1i(f)},getActualDate:function(n){var t=new Xrm.Gen.GetActualDateRequest(n);return t.date=n,this.get_$c().$1i(t)},fulfillSalesOrder:function(n,t){var i=new Xrm.Gen.FulfillSalesOrderRequest(n,t);return this.get_$c().$1i(i)},fullTextSearchKnowledgeArticle:function(n,t,i,r,u){var f=new Xrm.Gen.FullTextSearchKnowledgeArticleRequest(n,t,i,r,u);return this.get_$c().$1i(f)},incrementKnowledgeArticleViewCount:function(n,t,i,r){var u=new Xrm.Gen.IncrementKnowledgeArticleViewCountRequest(n,t,i,r);return this.get_$c().$1i(u)},retrieveKeyPhrasesForKnowledgeSearch:function(n){var t=new Xrm.Sdk.RetrieveKeyPhrasesForKnowledgeSearchRequest(n);return this.get_$c().$1i(t)},retrieveKeyPhrasesForSimilaritySearch:function(n){var t=new Xrm.Gen.RetrieveKeyPhrasesForSimilaritySearchRequest(n);return this.get_$c().$1i(t)},getQuantityDecimal:function(n,t,i){var r=new Xrm.Gen.GetQuantityDecimalRequest(n,t,i);return this.get_$c().$1i(r)},canCloseOpportunity:function(n,t,i){var r=new Xrm.Gen.CanCloseOpportunityRequest(n,t,i);return this.get_$c().$1i(r)},getRegardingOpportunityId:function(n){var t=new Xrm.Gen.GetRegardingOpportunityIdRequest(n);return this.get_$c().$1i(t)},instantiateTemplate:function(n,t,i){var r=new Xrm.Gen.InstantiateTemplateRequest(n,t,i);return this.get_$c().$1i(r)},getSalesOrderProductsFromOpportunity:function(n,t){var i=new Xrm.Gen.GetSalesOrderProductsFromOpportunityRequest(n,t);return this.get_$c().$1i(i)},retrieveTenantInfo:function(){var n=new Xrm.Gen.RetrieveTenantInfoRequest;return this.get_$c().$1i(n)},toggleGuidedHelp:function(n){var t=new Xrm.Gen.ToggleGuidedHelpRequest(n);return this.get_$c().$1i(t)},generateInvoiceFromOpportunity:function(n,t){var i=new Xrm.Gen.GenerateInvoiceFromOpportunityRequest(n,t);return this.get_$c().$1i(i)},generateQuoteFromOpportunity:function(n,t){var i=new Xrm.Gen.GenerateQuoteFromOpportunityRequest(n,t);return this.get_$c().$1i(i)},generateSalesOrderFromOpportunity:function(n,t){var i=new Xrm.Gen.GenerateSalesOrderFromOpportunityRequest(n,t);return this.get_$c().$1i(i)},lockSalesOrderPricing:function(n){var t=new Xrm.Gen.LockSalesOrderPricingRequest(n);return this.get_$c().$1i(t)},unlockSalesOrderPricing:function(n){var t=new Xrm.Gen.UnlockSalesOrderPricingRequest(n);return this.get_$c().$1i(t)},reviseQuote:function(n,t){var i=new Xrm.Gen.ReviseQuoteRequest(n,t);return this.get_$c().$1i(i)},getProductsForQuote:function(n,t){var i=new Xrm.Gen.GetQuoteProductsFromOpportunityRequest(n,t);return this.get_$c().$1i(i)},setDevErrors:function(n,t,i){var r=new Xrm.Gen.SetDevErrorsRequest(n,t,i);return this.get_$c().$1i(r)},copyDynamicListToStatic:function(n){var t=new Xrm.Gen.CopyDynamicListToStaticRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n));return this.get_$c().$1i(t)},setBusinessEquipment:function(n,t){var i=new Xrm.Gen.SetBusinessEquipmentRequest(n,t);return this.get_$c().$1i(i)},setParentBusinessUnit:function(n,t){var i=new Xrm.Gen.SetParentBusinessUnitRequest(n,t);return this.get_$c().$1i(i)},pickFromQueue:function(n,t,i){var r=new Xrm.Gen.PickFromQueueRequest(n,t,i);return this.get_$c().$1i(r)},pickMultipleFromQueue:function(n,t,i){for(var f,u=new Array(n.length),r=0;r<n.length;r++)u[r]=new Xrm.Gen.PickFromQueueRequest(n[r].Id,t,i);return f=new Xrm.Gen.ExecuteMultipleRequest(u,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$c().$1i(f)},removeMultipleFromQueue:function(n){for(var r,i=new Array(n.length),t=0;t<n.length;t++)i[t]=new Xrm.Gen.RemoveFromQueueRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n[t]));return r=new Xrm.Gen.ExecuteMultipleRequest(i,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$c().$1i(r)},releaseMultipleToQueue:function(n){for(var r,i=new Array(n.length),t=0;t<n.length;t++)i[t]=new Xrm.Gen.ReleaseToQueueRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n[t]));return r=new Xrm.Gen.ExecuteMultipleRequest(i,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$c().$1i(r)},addMultipleToQueue:function(n,t,i,r){for(var e,f=new Array(n.length),u=0;u<n.length;u++)f[u]=new Xrm.Sdk.AddToQueueRequest(n[u],t,i,r);return e=new Xrm.Gen.ExecuteMultipleRequest(f,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$c().$1i(e)},executeWorkFlowMultiple:function(n,t,i){for(var f,u=new Array(n.length),r=0;r<n.length;r++)u[r]=new Xrm.Gen.ExecuteWorkflowRequest(new Microsoft.Crm.Client.Core.Framework.Guid(n[r]),t,i);return f=new Xrm.Gen.ExecuteMultipleRequest(u,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),this.get_$c().$1i(f)},routeTo:function(n,t){var i=new Xrm.Gen.RouteToRequest(n,t);return this.get_$c().$1i(i)},setParentTeam:function(n,t){var i=new Xrm.Gen.SetParentTeamRequest(n,t);return this.get_$c().$1i(i)},setBusinessSystemUser:function(n,t,i){var r=new Xrm.Gen.SetBusinessSystemUserRequest(n,t,i);return this.get_$c().$1i(r)},removeFromQueue:function(n){var t=new Xrm.Gen.RemoveFromQueueRequest(n);return this.get_$c().$1i(t)},releaseToQueue:function(n){var t=new Xrm.Gen.ReleaseToQueueRequest(n);return this.get_$c().$1i(t)},addToQueue:function(n,t,i,r){var u=new Xrm.Sdk.AddToQueueRequest(n,t,i,r);return this.get_$c().$1i(u)},bulkDeleteImportedRecords:function(n,t,i,r,u,f,e,o,s,h){var c=new Xrm.Gen.BulkDeleteImportedRecordsRequest(n,t,i,r,u,f,e,o,s,h);return this.get_$c().$1i(c)},flushMetadataCache:function(){var n=new Xrm.Gen.FlushMetadataCacheRequest;return this.get_$c().$1i(n)},executeWorkflow:function(n,t,i){var r=new Xrm.Gen.ExecuteWorkflowRequest(n,t,i);return this.get_$c().$1i(r)},retrieveDefaultStatusForState:function(n,t){var i=new Xrm.Gen.RetrieveDefaultStatusForStateRequest(n,t);return this.get_$c().$1i(i)},retrieveUserDefaultCurrency:function(){var n=new Xrm.Gen.RetrieveUserDefaultCurrencyRequest;return this.get_$c().$1i(n)},publishAllXml:function(){var n=new Xrm.Gen.PublishAllXmlRequest;return this.get_$c().$1i(n)},publishTheme:function(n){var t=new Xrm.Gen.PublishThemeRequest(n);return this.get_$c().$1i(t)},trackEmail:function(n,t){var i=new Xrm.Gen.TrackEmailRequest(n,t);return this.get_$c().$1i(i)},executeDataPerformanceAction:function(n,t){var i=new Xrm.Gen.ExecuteDataPerformanceActionRequest(n,t);return this.get_$c().$1i(i)},calculateTotalTimeIncident:function(n){var t=new Xrm.Gen.CalculateTotalTimeIncidentRequest(n);return this.get_$c().$1i(t)},publishXml:function(n){var t=new Xrm.Gen.PublishXmlRequest(n);return this.get_$c().$1i(t)},winQuote:function(n,t){var i=new Xrm.Gen.WinQuoteRequest(n,t);return this.get_$c().$1i(i)},winQuoteAndCreateOrder:function(n,t,i,r,u,f){var e=new Xrm.Gen.ConvertQuoteToSalesOrderRequest(n,t);return e.quoteCloseDate=i,e.quoteCloseStatus=r,e.quoteCloseSubject=u,e.quoteCloseDescription=f,e.processInstanceId=this.$1kK(),this.get_$c().$1i(e)},getEntitiesForAzureML:function(n){var t=new Xrm.Gen.GetEntitiesForAzureMLRequest(n);return this.get_$c().$1i(t)},getFieldListForAzureML:function(n,t){var i=new Xrm.Gen.GetFieldListForAzureMLRequest(n,t);return this.get_$c().$1i(i)},getRelationshipsForAzureML:function(n,t){var i=new Xrm.Gen.GetRelationshipsForAzureMLRequest(n,t);return this.get_$c().$1i(i)},populateRecommendationCache:function(n,t){var i=new Xrm.Gen.PopulateRecommendationCacheRequest(n,t);return this.get_$c().$1i(i)},populateRecommendationCacheForRecord:function(n){var t=new Xrm.Gen.PopulateRecommendationCacheForRecordRequest(n);return this.get_$c().$1i(t)},retrieveRecommendationsCount:function(n,t){var i=new Xrm.Gen.RetrieveRecommendationsCountRequest(n,t);return this.get_$c().$1i(i)},retrieveRecommendationLineItemMetadata:function(n){var t=new Xrm.Gen.RetrieveRecommendationLineItemMetadataRequest(n);return this.get_$c().$1i(t)},retrieveRecommendationLineItemProducts:function(n,t){var i=new Xrm.Gen.RetrieveRecommendationLineItemProductsRequest(n,t);return this.get_$c().$1i(i)},retrieveItemIdsForRecord:function(n){var t=new Xrm.Gen.RetrieveItemIdsForRecordRequest(n);return this.get_$c().$1i(t)},intersectRecordsWithQueueAndAggregate:function(n,t,i,r){var u=new Xrm.Gen.IntersectRecordsWithQueueAndAggregateRequest(n,t,i,r);return this.get_$c().$1i(u)},getDataForTopicWordCloud:function(n){var t=new Xrm.Gen.GetDataForTopicWordCloudRequest(n);return this.get_$c().$1i(t)},merge:function(n,t,i,r){var u=new Xrm.Gen.MergeRequest(n,t,i,r);return this.get_$c().$1i(u)},updateDelveActionStatus:function(n,t,i){var r=new Xrm.Gen.UpdateDelveActionStatusRequest(n,t,i);return this.get_$c().$1i(r)},createEmailReplyDraft:function(n,t){var i=new Xrm.Gen.CreateEmailReplyDraftRequest(n,t);return this.get_$c().$1i(i)},getSimilarRecords:function(n,t,i){var r=new Xrm.Gen.GetSimilarRecordsRequest(n,t,i);return this.get_$c().$1i(r)},$1kK:function(){if($0.$0(Xrm.Page.data)||$0.$0(Xrm.Page.data.process)||$0.$0(Xrm.Page.data.process.getActiveProcess())||Microsoft.Crm.Client.Core.Framework.$3.$12(Xrm.Page.data.process.getActiveProcess().getInstanceId()))return null;var n=new Microsoft.Crm.Client.Core.Framework.Guid(Xrm.Page.data.process.getActiveProcess().getInstanceId());return new Xrm.Objects.EntityReference("businessprocessflowinstance",n)},copySharePointDocuments:function(n,t,i,r,u,f){var e=new Xrm.Gen.CopySharePointDocumentsRequest(n,t,i,r,u,f);return this.get_$c().$1i(e)},bestTimeToEmail:function(n){var t=new Xrm.Gen.BestTimeToEmailRequest(n);return this.get_$c().$1i(t)},setActionCardState:function(n,t,i){var r=new Xrm.Gen.SetActionCardStateRequest(n,t,i);return this.get_$c().$1i(r)},snoozeActionCard:function(n){var t=new Xrm.Gen.SnoozeActionCardRequest(n);return this.get_$c().$1i(t)},dismissMissedEmail:function(n){var t=new Xrm.Gen.DismissMissedEmailRequest(n);return this.get_$c().$1i(t)},getRIProvisioningStatus:function(){var n=new Xrm.Gen.GetRIProvisioningStatusRequest;return this.get_$c().$1i(n)},getAciMarsConnectorStatus:function(){var n=new Xrm.Gen.GetAciMarsConnectorStatusRequest;return this.get_$c().$1i(n)},getRITenantEndpointUrl:function(){var n=new Xrm.Gen.GetRITenantEndpointUrlRequest;return this.get_$c().$1i(n)},isLegacyCustomer:function(){var n=new Xrm.Gen.IsLegacyCustomerRequest;return this.get_$c().$1i(n)},startRIProvisioning:function(n,t){var i=new Xrm.Gen.StartRIProvisioningRequest(n,t);return this.get_$c().$1i(i)},updateRITenantInfo:function(n,t){var i=new Xrm.Gen.UpdateRITenantInfoRequest(n,t);return this.get_$c().$1i(i)},unfollowEmailAttachment:function(n){var t=new Xrm.Gen.UnfollowEmailAttachmentRequest(n);return this.get_$c().$1i(t)},getEmailTrackingPixelUrl:function(n,t,i){var r=new Xrm.Gen.GetEmailTrackingPixelUrlRequest(n,t,i);return this.get_$c().$1i(r)},setFeatureStatus:function(n,t,i){var r=new Xrm.Gen.SetFeatureStatusRequest(n,t,i);return this.get_$c().$1i(r)},getEmailLinkTrackingUrls:function(n,t,i,r){var u=new Xrm.Gen.GetEmailLinkTrackingUrlsRequest(n,t,i,r);return this.get_$c().$1i(u)},logExternalResultsClicked:function(n){var t=new Xrm.Gen.LogExternalResultsClickedRequest(n);return this.get_$c().$1i(t)},submitImportedData:function(n){var t=new Xrm.Gen.SubmitImportedDataRequest(n);return this.get_$c().$1i(t)},dismissExchangeEnhancedActionCards:function(n,t){var i=new Xrm.Gen.DismissExchangeEnhancedActionCardsRequest(n,t);return this.get_$c().$1i(i)},getEntityMetaData:function(n,t){return this.get_$c().$7x(n,t)},snoozeExchangeActionCards:function(n,t){var i=new Xrm.Gen.SnoozeExchangeActionCardsRequest(n,t);return this.get_$c().$1i(i)},completeExchangeTask:function(n){var t=new Xrm.Gen.CompleteExchangeTaskRequest(n);return this.get_$c().$1i(t)}};Xrm.XrmServiceDirectory=function(){this.$S0=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)))};Xrm.XrmServiceDirectory.getKey=function(n){return n.getName()};Xrm.XrmServiceDirectory.prototype={$Of:null,$2h:!1,register:function(n,t){var i,r;if(this.$2h)throw Error.invalidOperation("Object Disposed");if($0.$0(t))throw Error.argumentNull("implementation");if(i=Xrm.XrmServiceDirectory.getKey(n),!$0.$0(this.$S0.get_$R(i))&&this.$S0.get_$R(i).contains(t)){r=String.format("Service {0} already has an implementation",i);throw Error.invalidOperation(r);}$0.$0(this.$S0.get_$R(i))?(this.$Of=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),this.$Of.add(t),this.$S0.set_$R(i,this.$Of)):(this.$Of=this.$S0.get_$R(i),this.$Of.add(t));Xrm.Internal.trace.logT(Xrm.XrmServiceDirectory,"Registered implementation for service {1} of type {0}",Object.getType(t).getName(),i)},unregister:function(n,t){var i,r,u;if($0.$0(t))throw Error.argumentNull("implementation");if(i=Xrm.XrmServiceDirectory.getKey(n),this.$2h){Xrm.Internal.trace.logT(Xrm.XrmServiceDirectory,"Unregistering implementation for service {1} of type {0} after dispose",Object.getType(t).getName(),i);return}if(r=this.$S0.get_$R(i),!r.contains(t)){u=String.format("This implementation is not registered for service {0}",i);throw Error.invalidOperation(u);}r.remove(t);r.get_Count()||this.$S0.$Ai(i);Xrm.Internal.trace.logT(Xrm.XrmServiceDirectory,"Unregistered implementation for service {1} of type {0}",Object.getType(t).getName(),i)},find:function(n){var r,t,i;if(this.$2h)throw Error.invalidOperation("Object Disposed");return(r=Xrm.XrmServiceDirectory.getKey(n),t=this.$S0.get_$R(r),$0.$0(t))?null:(i=t.get_$R(t.get_Count()-1),$0.$0(i)?null:i)},dispose:function(){var t,n;if(!this.$2h){for(t=this.$S0.get_$2ph(),n=0;n<t.length;n++)Xrm.Internal.trace.warningT(Xrm.XrmServiceDirectory,"Service {0} was not unregistered prior to disposal",t[n]),this.$S0.$Ai(t[n]);this.$2h=!0}}};Xrm.XrmTrace=function(){this.$GA=new Array(0)};Xrm.XrmTrace.formatMessage=function(n,t){for(var u,f,r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];return u=String.format.apply(null,[t].concat(r)),f=String.format("{0}: {1}",n,u),f};Xrm.XrmTrace.checkInput=function(n,t){if(!n)throw Error.argumentNull("componentName");if(!t)throw Error.argumentNull("format");};Xrm.XrmTrace.prototype={addListener:function(n){if(!n)throw Error.argumentNull("listener");for(var t=0;t<this.$GA.length;t++)if(this.$GA[t]===n){this.logT(Xrm.XrmTrace,"listener {0} already exists",Object.getType(n).getName());return}this.$GA[this.$GA.length]=n;this.logT(Xrm.XrmTrace,"added listener {0}",Object.getType(n).getName())},log:function(n,t){for(var f,r,u=[],i=2;i<arguments.length;++i)u[i-2]=arguments[i];if(Xrm.XrmTrace.checkInput(n,t),this.$GA.length)for(f=Xrm.XrmTrace.formatMessage.apply(null,[n,t].concat(u)),r=0;r<this.$GA.length;r++)this.$GA[r].log("{0}",f)},logT:function(n,t){for(var u,r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];if(!t)throw Error.argumentNull("format");this.$GA.length&&(u=n.getName(),this.log.apply(this,[u,t].concat(r)))},warningT:function(n,t){for(var u,r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];if(!t)throw Error.argumentNull("format");this.$GA.length&&(u=n.getName(),this.warning.apply(this,[u,t].concat(r)))},warning:function(n,t){for(var f,r,u=[],i=2;i<arguments.length;++i)u[i-2]=arguments[i];if(Xrm.XrmTrace.checkInput(n,t),this.$GA.length)for(f=Xrm.XrmTrace.formatMessage.apply(null,[n,t].concat(u)),r=0;r<this.$GA.length;r++)this.$GA[r].warning("{0}",f)},errorT:function(n,t){for(var u,r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];if(!t)throw Error.argumentNull("format");this.$GA.length&&(u=n.getName(),this.error.apply(this,[u,t].concat(r)))},error:function(n,t){for(var f,r,u=[],i=2;i<arguments.length;++i)u[i-2]=arguments[i];if(Xrm.XrmTrace.checkInput(n,t),this.$GA.length)for(f=Xrm.XrmTrace.formatMessage.apply(null,[n,t].concat(u)),r=0;r<this.$GA.length;r++)this.$GA[r].error("{0}",f)}};Xrm.XrmEntityAttribute=function(){};Xrm.XrmEntityAttribute.prototype={controls:null,getControls:function(){return null}};Xrm.XrmEntityAttributeBoolean=function(){Xrm.XrmEntityAttributeBoolean.initializeBase(this)};Xrm.XrmEntityAttributeDateTime=function(){Xrm.XrmEntityAttributeDateTime.initializeBase(this)};Xrm.XrmEntityAttributeLookup=function(){Xrm.XrmEntityAttributeLookup.initializeBase(this)};Xrm.XrmEntityAttributeNumber=function(){Xrm.XrmEntityAttributeNumber.initializeBase(this)};Xrm.XrmEntityAttributeOptionSet=function(){Xrm.XrmEntityAttributeOptionSet.initializeBase(this)};Xrm.XrmEntityAttributeOptionSetBase=function(){Xrm.XrmEntityAttributeOptionSetBase.initializeBase(this)};Xrm.XrmEntityAttributeString=function(){Xrm.XrmEntityAttributeString.initializeBase(this)};Xrm.XrmBusinessProcessFlow=function(){};Xrm.OfflineErrorResponse=function(n,t,i){Xrm.OfflineErrorResponse.initializeBase(this,[n,t,i,null])};Xrm.XrmProcessStage=function(){};Xrm.XrmProcessStage.prototype={getKey:function(){return this.getName()}};Xrm.XrmProcessStep=function(){};Xrm.XrmProcessStep.prototype={getKey:function(){return this.getName()}};Xrm.XrmEntity=function(){this.relatedEntities=new Xrm.XrmRelatedEntities};Xrm.XrmEntity.prototype={attributes:null,getAttributes:function(){return this.attributes},getEntityReference:function(){Mscrm.InternalUtilities.ClientApiUtility.$1VQ("Xrm.Page.data.entity.getEntityReference");var n=new Xrm.LookupObject;return n.entityType=this.getEntityName(),n.id=this.getId(),n.name=this.getPrimaryAttributeValue(),n},getKey:function(){return this.getId()},getRelatedEntities:function(){return this.relatedEntities}};Xrm.XrmProcessControlData=function(){};Xrm.$Lb=function(){};Xrm.Offline=function(){};Xrm.Offline.prototype={setInstance:function(n){Xrm.Offline.$C=n},isOfflineEnabled:function(n){return Xrm.Offline.$C.isOfflineEnabled(n)},retrieveRecord:function(n,t,i){return Xrm.Offline.$C.retrieveRecord(n,t,i)},createRecord:function(n,t){return Xrm.Offline.$C.createRecord(n,t)},updateRecord:function(n,t,i){return Xrm.Offline.$C.updateRecord(n,t,i)},deleteRecord:function(n,t){return Xrm.Offline.$C.deleteRecord(n,t)},retrieveMultipleRecords:function(n,t,i){return Xrm.Offline.$C.retrieveMultipleRecords(n,t,i)}};Xrm.FormNotificationOptions=function(){};Xrm.FormNotificationOptions.prototype={message:null,notificationLevel:null,uniqueId:null,priority:0,action:null,actionText:null,hideOnOffline:!1,onClickTelemetryName:null};Xrm.XrmTab=function(){Xrm.XrmTab.initializeBase(this)};Xrm.XrmTab.prototype={sections:null,getSections:function(){return this.sections}};Xrm.$PT=function(){Xrm.$PT.initializeBase(this)};Xrm.$OB=function(){Xrm.$OB.initializeBase(this)};Xrm.XrmTabSection=function(){Xrm.XrmTabSection.initializeBase(this)};Xrm.XrmTabSection.prototype={controls:null,getControls:function(){return this.controls}};Xrm.XrmControlACI=function(){Xrm.XrmControlACI.initializeBase(this)};Xrm.XrmChart=function(){};Xrm.XrmControl=function(){Xrm.XrmControl.initializeBase(this)};Xrm.XrmControl.prototype={$5E:function(){}};Xrm.XrmControlBase=function(){};Xrm.XrmControlBase.prototype={getKey:function(){return this.getName()}};Xrm.XrmControlButton=function(){Xrm.XrmControlButton.initializeBase(this)};Xrm.XrmControlDateTime=function(){Xrm.XrmControlDateTime.initializeBase(this)};Xrm.XrmControlFormSelector=function(){};Xrm.XrmControlFormSelector.prototype={items:null,getItems:function(){return this.items}};Xrm.XrmControlGrid=function(){};Xrm.XrmControlIFrame=function(){Xrm.XrmControlIFrame.initializeBase(this)};Xrm.XrmControlLookup=function(){Xrm.XrmControlLookup.initializeBase(this)};Xrm.XrmControlOptionSet=function(){Xrm.XrmControlOptionSet.initializeBase(this)};Xrm.XrmControlSearchWidget=function(){Xrm.XrmControlSearchWidget.initializeBase(this)};Xrm.XrmControlSilverlight=function(){Xrm.XrmControlSilverlight.initializeBase(this)};Xrm.XrmControlSubGrid=function(){Xrm.XrmControlSubGrid.initializeBase(this)};Xrm.XrmControlText=function(){Xrm.XrmControlText.initializeBase(this)};Xrm.XrmControlWebResource=function(){Xrm.XrmControlWebResource.initializeBase(this)};Xrm.XrmControlQuickForm=function(){Xrm.XrmControlQuickForm.initializeBase(this)};Xrm.XrmControlQuickForm.prototype={ui:null,data:null,getControl:function(n){return Mscrm.InternalUtilities.JSTypes.isNull(this.ui)?null:this.ui.controls.get(n)}};Xrm.XrmDataControl=function(){Xrm.XrmDataControl.initializeBase(this)};Xrm.XrmGridData=function(){};Xrm.XrmGridData.prototype={entity:null,getEntity:function(){return Mscrm.InternalUtilities.ClientApiUtility.$1VQ("GridRowData.getEntity"),this.entity}};Xrm.XrmGridFilter=function(){};Xrm.XrmGridRow=function(){};Xrm.XrmGridRow.prototype={data:null,getData:function(){return Mscrm.InternalUtilities.ClientApiUtility.$1VQ("GridRow.getData"),this.data}};Xrm.XrmNavigation=function(){};Xrm.XrmNavigation.prototype={items:null};Xrm.XrmProcessControlUI=function(){};Xrm.XrmTaskProcess=function(){};Xrm.XrmViewSelector=function(){};Xrm.XrmFormData=function(){};Xrm.XrmFormData.prototype={entity:null,process:null,attributes:null,getEntity:function(){return this.entity},getProcess:function(){return this.process},getAttributes:function(){return this.attributes},getIsDirty:function(){var i;if(this.entity.getIsDirty())return!0;for(var t=this.entity.relatedEntities.getAll(),r=t.length,n=0;n<r;++n)if(i=t[n],i.getIsDirty())return!0;return!1}};Xrm.XrmFormUI=function(){};Xrm.XrmFormUI.prototype={controls:null,formSelector:null,navigation:null,process:null,tabNavigators:null,tabNavigatorGroup:null,tabs:null,quickForms:null,taskProcess:null,getControls:function(){return this.controls},getTabs:function(){return this.tabs},getQuickForms:function(){return this.quickForms},$5E:function(){this.controls=null;this.tabs=null;this.process=null;this.formSelector=null;this.navigation=null}};Xrm.XrmDialog=function(){};Xrm.XrmInternal=function(){this.messages=Xrm.Internal.messages;this.trace=Xrm.Internal.trace};Xrm.XrmInternal.$22P=function(n){return IsNull(n.$5b)?"UnknownError":n.$5b.$66.toString()};Xrm.XrmInternal.prototype={getServiceDirectory:function(){return Xrm.XrmInternal.$1iv},setServiceDirectory:function(n){Xrm.XrmInternal.$1iv=n},getAvailableClients:function(){return["Mobile","Outlook","Web","UnifiedServiceDesk"]},getAvailableFormFactors:function(){return[0,1,2,3]},getMaxSuggestionsCount:function(){var n=MscrmComponents.DeferredPromiseFactory(Number,String);return n.resolve(10),n.promise()},getUserLicensesUsed:function(){return this.$1cc("UserLicensesUsed")},getIsPaid:function(){return this.$1cc("IsPaid")},getOrgType:function(){return this.$1cc("OrgType")},$1cc:function(n){var t=MscrmComponents.DeferredPromiseFactory(String,String),i=this;return Xrm.Internal.messages.retrieveTenantInfo().done(function(i){var f=i.tenantInfo,o=f.indexOf(n),e=null,u,r;if(o>-1){for(u=f.split('"'),r=0;r<u.length;r++)if(u[r]===n){e=u[r+2];break}t.resolve(e)}}),t.promise()},getTenantProperties:function(){var n=MscrmComponents.DeferredPromiseFactory(String,String),t=this,i=this;return Xrm.Internal.messages.retrieveTenantInfo().then(function(t){var i=t.tenantInfo;n.resolve(i)},function(t){var i=Xrm.XrmInternal.$22P(t);n.reject(i)}),n.promise()},setGuidedHelpProperties:function(n){var t=MscrmComponents.DeferredPromiseFactory(String,String),i=this,r=this;return Xrm.Internal.messages.toggleGuidedHelp(n).then(function(){t.resolve("true")},function(n){var i=Xrm.XrmInternal.$22P(n);t.reject(i)}),t.promise()}};Xrm.XrmCollectionDictionary$1=function(){this.$35={};Xrm.XrmCollectionDictionary$1.$$(this.$$gta["Xrm.XrmCollectionDictionary$1"].T).initializeBase(this)};Xrm.XrmCollectionDictionary$1.$$=function(n){var t="XrmCollectionDictionary$1$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!Xrm[t]){r=Xrm[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Xrm.XrmCollectionDictionary$1"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Xrm.XrmCollectionDictionary$1.apply(this,i)};r.registerClass("Xrm."+t,Xrm.XrmCollectionBase$1.$$(n));u=Xrm.XrmCollectionDictionary$1.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return Xrm[t]};Xrm.XrmCollectionDictionary$1.prototype={dispose:function(){var t=this.$35,n,i;for(n in t)i={key:n,value:t[n]},delete this.$35[i.key]},forEach:function(n){var f=0,i=this.$35,t,r,u;for(t in i)r={key:t,value:i[t]},u=r.value,n(u,f++)},add:function(n,t){this.$35[n]=t},getFirst:function(n){var f=0,r=this.$35,t,u,i;for(t in r)if(u={key:t,value:r[t]},i=u.value,n(i,f++))return i;return this.$$gta["Xrm.XrmCollectionDictionary$1"].T===Number||Type.isEnum(this.$$gta["Xrm.XrmCollectionDictionary$1"].T)?0:this.$$gta["Xrm.XrmCollectionDictionary$1"].T===Boolean?!1:null},getLength:function(){var t=0,i=this.$35,n,r;for(n in i)r={key:n,value:i[n]},t++;return t},remove:function(n){var r=this.$35,t,i;for(t in r)if(i={key:t,value:r[t]},i.value===n){delete this.$35[i.key];return}},getAll:function(){var t=[],i=this.$35,n,r;for(n in i)r={key:n,value:i[n]},Array.add(t,r.value);return t},getByName:function(n){return this.$35[n]},getByIndex:function(n){var u=0,i=this.$35,t,r;for(t in i)if(r={key:t,value:i[t]},u++===n)return r.value;return this.$$gta["Xrm.XrmCollectionDictionary$1"].T===Number||Type.isEnum(this.$$gta["Xrm.XrmCollectionDictionary$1"].T)?0:this.$$gta["Xrm.XrmCollectionDictionary$1"].T===Boolean?!1:null},getByFilter:function(n){var e=0,r=[],u=this.$35,t,f,i;for(t in u)f={key:t,value:u[t]},i=f.value,n(i,e++)&&Array.add(r,i);return r}};Xrm.XrmControls=function(n){Xrm.XrmControls.initializeBase(this,[n])};Xrm.XrmEntityAttributes=function(n){Xrm.XrmEntityAttributes.initializeBase(this,[n])};Xrm.XrmEntities=function(n){Xrm.XrmEntities.initializeBase(this,[n])};Xrm.XrmFormSelectorItems=function(n){Xrm.XrmFormSelectorItems.initializeBase(this,[n])};Xrm.XrmGridRows=function(n){Xrm.XrmGridRows.initializeBase(this,[n])};Xrm.XrmNavigationItems=function(n){Xrm.XrmNavigationItems.initializeBase(this,[n])};Xrm.XrmRelatedEntities=function(){Xrm.XrmRelatedEntities.initializeBase(this)};Xrm.XrmTabs=function(n){Xrm.XrmTabs.initializeBase(this,[n])};Xrm.XrmTabNavigators=function(n){Xrm.XrmTabNavigators.initializeBase(this,[n])};Xrm.XrmTabSections=function(n){Xrm.XrmTabSections.initializeBase(this,[n])};Xrm.XrmQuickForms=function(n){Xrm.XrmQuickForms.initializeBase(this,[n])};Xrm.AttributeFormat=function(){};Xrm.AttributeType=function(){};Xrm.ClientName=function(){};Xrm.ClientState=function(){};Xrm.ClientStates=function(){};Xrm.ControlType=function(){};Xrm.FormSaveAction=function(){};Xrm.LookupStyle=function(){};Xrm.NotificationLevel=function(){};Xrm.RequiredLevel=function(){};Xrm.SubmitMode=function(){};Xrm.TabDisplayState=function(){};Xrm.MetricsStopwatch=function(){};Xrm.MetricsStopwatch.prototype={$EU:null,get_properties:function(){return this.$EU},set_properties:function(n){return this.$EU=n,n}};Xrm.XrmFormSelectorItem=function(){};Xrm.XrmFormSelectorItem.prototype={getKey:function(){return this.getId()}};Xrm.XrmNavigationItem=function(){};Xrm.XrmNavigationItem.prototype={getKey:function(){return this.getId()}};Xrm.Dialog=function(){};Xrm.Dialog.setInstance=function(n){Xrm.Dialog.$C=n};Xrm.Dialog.openAlertDialog=function(n,t,i){Xrm.Dialog.$C.openAlertDialog(n,t,i)};Xrm.Dialog.openConfirmDialog=function(n,t,i,r){Xrm.Dialog.$C.openConfirmDialog(n,t,i,r)};Xrm.Dialog.openDialog=function(n,t,i,r,u){Xrm.Dialog.$C.openDialog(n,t,i,r,u)};Xrm.Internal=function(){};Xrm.Internal.$$cctor=function(){Xrm.JavaScriptConsoleTraceListener.initialize(Xrm.Internal.trace);Xrm.Internal.$uo=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object))};Xrm.Internal.get_$1MR=function(){return Xrm.Internal.$uo||(Xrm.Internal.$uo=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object))),Xrm.Internal.$uo};Xrm.Internal.getServiceDirectory=function(){return Xrm.Internal.$C.getServiceDirectory()};Xrm.Internal.setServiceDirectory=function(n){Xrm.Internal.$C.setServiceDirectory(n)};Xrm.Internal.setInstance=function(n){Xrm.Internal.$C=n};Xrm.Internal.addOnXrmReady=function(n){Xrm.Internal.get_$1MR().add(n)};Xrm.Internal.associateObjects=function(n,t,i,r,u,f,e,o){Xrm.Internal.$C.associateObjects(n,t,i,r,u,f,e,o)};Xrm.Internal.clearOnXrmReadyEventHandlers=function(){Xrm.Internal.$C.clearOnXrmReadyEventHandlers()};Xrm.Internal.executeOnXrmReadyEventHandlers=function(){Xrm.Internal.$C.executeOnXrmReadyEventHandlers()};Xrm.Internal.refreshRibbon=function(){Xrm.Internal.$C.refreshRibbon()};Xrm.Internal.executeRibbonCommand=function(n){Xrm.Internal.$C.executeRibbonCommand(n)};Xrm.Internal.openDialog=function(n,t,i,r,u){Xrm.Internal.$C.openDialog(n,t,i,r,u)};Xrm.Internal.isClaimsEnabled=function(){return Xrm.Internal.$C.isClaimsEnabled()};Xrm.Internal.isDialogLoaded=function(){return Xrm.Internal.$C.isDialogLoaded()};Xrm.Internal.formatDate=function(n){return Xrm.Internal.$C.formatDate(n)};Xrm.Internal.getResourceString=function(n,t){return Xrm.Internal.$C.getResourceString(n,t)};Xrm.Internal.isEnabledForInteractionCentric=function(){return Xrm.Internal.$C.isEnabledForInteractionCentric()};Xrm.Internal.setIsGridDialogContext=function(n){Xrm.Internal.$C.setIsGridDialogContext(n)};Xrm.Internal.getSelectedEntityRecords=function(){return Xrm.Internal.$C.getSelectedEntityRecords()};Xrm.Internal.savePreSelectedViewModelIds=function(){return Xrm.Internal.$C.savePreSelectedViewModelIds()};Xrm.Internal.clearSelectedViewModels=function(){Xrm.Internal.$C.clearSelectedViewModels()};Xrm.Internal.getStringKeyList=function(n,t){return Xrm.Internal.$C.getStringKeyList(n,t)};Xrm.Internal.getTenantProperties=function(){return Xrm.Internal.$C.getTenantProperties()};Xrm.Internal.getUserLicensesUsed=function(){return Xrm.Internal.$C.getUserLicensesUsed()};Xrm.Internal.getIsPaid=function(){return Xrm.Internal.$C.getIsPaid()};Xrm.Internal.getOrgType=function(){return Xrm.Internal.$C.getOrgType()};Xrm.Internal.setGuidedHelpProperties=function(n){return Xrm.Internal.$C.setGuidedHelpProperties(n)};Xrm.Internal.getAllowedStatusTransitions=function(n,t){return Xrm.Internal.$C.getAllowedStatusTransitions(n,t)};Xrm.Internal.getAvailableClients=function(){return Xrm.Internal.$C.getAvailableClients()};Xrm.Internal.getAvailableFormFactors=function(){return Xrm.Internal.$C.getAvailableFormFactors()};Xrm.Internal.getDisabledAttributes=function(n){return Xrm.Internal.$C.getDisabledAttributes(n)};Xrm.Internal.getEntityCode=function(n){return Xrm.Internal.$C.getEntityCode(n)};Xrm.Internal.getLocalStorageItem=function(n){return Xrm.Internal.$C.getLocalStorageItem(n)};Xrm.Internal.getLocatorServiceSetting=function(n){return Xrm.Internal.$C.getLocatorServiceSetting(n)};Xrm.Internal.getMaxSuggestionsCount=function(){return Xrm.Internal.$C.getMaxSuggestionsCount()};Xrm.Internal.removeLocalStorageItem=function(n){Xrm.Internal.$C.removeLocalStorageItem(n)};Xrm.Internal.getEntityName=function(n){return Xrm.Internal.$C.getEntityName(n)};Xrm.Internal.getEntityDisplayName=function(n){return Xrm.Internal.$C.getEntityDisplayName(n)};Xrm.Internal.getEntitySetName=function(n){return Xrm.Internal.$C.getEntitySetName(n)};Xrm.Internal.getEntityLocalizedSetName=function(n){return Xrm.Internal.$C.getEntityLocalizedSetName(n)};Xrm.Internal.getStateFromNumber=function(n,t){return Xrm.Internal.$C.getStateFromNumber(n,t)};Xrm.Internal.getUserLocation=function(){return Xrm.Internal.$C.getUserLocation()};Xrm.Internal.isDocumentManagementEnabledAccount=function(n){return Xrm.Internal.$C.isDocumentManagementEnabledAccount(n)};Xrm.Internal.isFeatureEnabled=function(n){return Xrm.Internal.$C.isFeatureEnabled(n)};Xrm.Internal.areFeaturesEnabled=function(n){return Xrm.Internal.$C.areFeaturesEnabled(n)};Xrm.Internal.isGuidedHelpEnabledForUser=function(){return Xrm.Internal.$C.isGuidedHelpEnabledForUser()};Xrm.Internal.isMaxNoOfReadOnlyUsersReached=function(){return Xrm.Internal.$C.isMaxNoOfReadOnlyUsersReached()};Xrm.Internal.isModalDialogSupported=function(){return Xrm.Internal.$C.isModalDialogSupported()};Xrm.Internal.isIosDevice=function(){return Xrm.Internal.$C.isIosDevice()};Xrm.Internal.isTurboForm=function(){return Xrm.Internal.$C.isTurboForm()};Xrm.Internal.getStatusOptionsFromStateCode=function(n,t){return Xrm.Internal.$C.getStatusOptionsFromStateCode(n,t)};Xrm.Internal.getStatusMetadataFromStateCode=function(n,t){return Xrm.Internal.$C.getStatusMetadataFromStateCode(n,t)};Xrm.Internal.getStateCodeFromStatusOption=function(n,t){return Xrm.Internal.$C.getStateCodeFromStatusOption(n,t)};Xrm.Internal.getPageNavigationInfo=function(){return Xrm.Internal.$C.getPageNavigationInfo()};Xrm.Internal.navigateToPage=function(n){Xrm.Internal.$C.navigateToPage(n)};Xrm.Internal.setPerfMarkerTimestamp=function(n){Xrm.Internal.$C.setPerfMarkerTimestamp(n)};Xrm.Internal.spOpenInNativeClient=function(n){Xrm.Internal.$C.spOpenInNativeClient(n)};Xrm.Internal.parseDate=function(n){return Xrm.Internal.$C.parseDate(n)};Xrm.Internal.raiseRecordsDeletedEvent=function(n){Xrm.Internal.$C.raiseRecordsDeletedEvent(n)};Xrm.Internal.refresh=function(){Xrm.Internal.$C.refresh()};Xrm.Internal.refreshParentGrid=function(n,t,i){Xrm.Internal.$C.refreshParentGrid(n,t,i)};Xrm.Internal.getErrorMessage=function(n){return Xrm.Internal.$C.getErrorMessage(n)};Xrm.Internal.reportToWatson=function(n,t,i,r,u,f,e){Xrm.Internal.$C.reportToWatson(n,t,i,r,u,f,e)};Xrm.Internal.openUrl=function(n,t){Xrm.Internal.$C.openUrl(n,t)};Xrm.Internal.lookupObjects=function(n,t,i,r){Xrm.Internal.$C.lookupObjects(n,t,i,r)};Xrm.Internal.openErrorDialog=function(n,t,i,r){Xrm.Internal.$C.openErrorDialog(n,t,i,r)};Xrm.Internal.doAction=function(n,t,i,r){Xrm.Internal.$C.doAction(n,t,i,r)};Xrm.Internal.setComposeAddress=function(n,t,i,r,u,f,e,o){Xrm.Internal.$C.setComposeAddress(n,t,i,r,u,f,e,o)};Xrm.Internal.setFormEntityName=function(n){Xrm.Internal.$C.setFormEntityName(n)};Xrm.Internal.setFormActionableNotification=function(n){return Xrm.Internal.$C.setFormActionableNotification(n)};Xrm.Internal.setLocalStorageItem=function(n,t){Xrm.Internal.$C.setLocalStorageItem(n,t)};Xrm.Internal.generateDocumentTemplateFlyout=function(n,t,i,r){Xrm.Internal.$C.generateDocumentTemplateFlyout(n,t,i,r)};Xrm.Internal.generateWordTemplateFlyout=function(n,t,i,r,u){Xrm.Internal.$C.generateWordTemplateFlyout(n,t,i,r,u)};Xrm.Internal.getOrganizationSetting=function(n){return Xrm.Internal.$C.getOrganizationSetting(n)};Xrm.Internal.removeOnXrmReady=function(n){Xrm.Internal.get_$1MR().remove(n)};Xrm.Internal.retrieveADUserProperties=function(n){return Xrm.Internal.$C.retrieveADUserProperties(n)};Xrm.Internal.canOverridePriceEngine=function(n){return Xrm.Internal.$C.canOverridePriceEngine(n)};Xrm.Internal.copyTextToClipboard=function(n){Xrm.Internal.$C.copyTextToClipboard(n)};Xrm.Internal.isFieldChangeIndicatorEnabled=function(){return Xrm.Internal.$C.isFieldChangeIndicatorEnabled()};Xrm.Internal.enableFieldChangeIndicator=function(){Xrm.Internal.$C.enableFieldChangeIndicator()};Xrm.Internal.disableFieldChangeIndicator=function(){Xrm.Internal.$C.disableFieldChangeIndicator()};Xrm.Internal.insertCustomScript=function(n){Xrm.Internal.$C.insertCustomScript(n)};Xrm.Internal.getPageContext=function(){return Xrm.Internal.$C.getPageContext()};Xrm.Internal.generateReportMenuXml=function(n,t,i,r,u){Xrm.Internal.$C.generateReportMenuXml(n,t,i,r,u)};Xrm.Internal.preventBrowseBack=function(){Xrm.Internal.$C.preventBrowseBack()};Xrm.Internal.goBack=function(){Xrm.Internal.$C.goBack()};Xrm.Internal.startMetricsStopwatch=function(n){return Xrm.Internal.$C.startMetricsStopwatch(n)};Xrm.Internal.progress=function(n,t,i,r){Xrm.Internal.$C.progress(n,t,i,r)};Xrm.Internal.canApproveOrPublishKnowledgeArticle=function(n){return Xrm.Internal.$C.canApproveOrPublishKnowledgeArticle(n)};Xrm.Internal.isKnowledgemanagementEnabled=function(n){return Xrm.Internal.$C.isKnowledgemanagementEnabled(n)};Xrm.Internal.relationshipAddOnChange=function(n,t,i){Xrm.Internal.$C.relationshipAddOnChange(n,t,i)};Xrm.Internal.isCurrentKMParature=function(){return Xrm.Internal.$C.isCurrentKMParature()};Xrm.Internal.getHomePageGridSelectedRecordIds=function(){return Xrm.Internal.$C.getHomePageGridSelectedRecordIds()};Xrm.Internal.postAppMessageBar=function(n,t,i,r,u,f){Xrm.Internal.$C.postAppMessageBar(n,t,i,r,u,f)};Xrm.Internal.getHomePageGridSelectedRecordsCount=function(){return Xrm.Internal.$C.getHomePageGridSelectedRecordsCount()};Xrm.Internal.filterLookupTypes=function(n,t,i){return Xrm.Internal.$C.filterLookupTypes(n,t,i)};Xrm.Internal.getLookupTypes=function(n){return Xrm.Internal.$C.getLookupTypes(n)};Xrm.Internal.recalculateRecord=function(){Xrm.Internal.$C.recalculateRecord()};Xrm.Internal.addMetric=function(n,t){Xrm.Internal.$C.addMetric(n,t)};Xrm.Internal.isUci=function(){return!1};Xrm.Internal.setTraversedPath=function(n){Xrm.Internal.$C.setTraversedPath(n)};Xrm.Internal.getTraversedPath=function(){return Xrm.Internal.$C.getTraversedPath()};Xrm.Internal.setStageId=function(n){Xrm.Internal.$C.setStageId(n)};Xrm.Internal.getStageId=function(){return Xrm.Internal.$C.getStageId()};Xrm.Page=function(){};Xrm.Page.getControl=function(n){return Mscrm.InternalUtilities.JSTypes.isNull(Xrm.Page.ui)?null:Xrm.Page.ui.controls.get(n)};Xrm.Page.getAttribute=function(n){return Mscrm.InternalUtilities.JSTypes.isNull(Xrm.Page.data)?null:Xrm.Page.data.entity.attributes.get(n)};Xrm.Page.getUrl=function(){var i="",r="",n=null,t;if(Xrm.Page.$1rN(window.location.toString()))n=window.frameElement.contentWindow;else for(t=0;t<window.frames.length;t++)if(Xrm.Page.$1rN(window.frames[t].location.toString())){n=window.frames[t].frameElement.contentWindow;break}if(!n)throw Error.invalidOperation("This API is not supported for home page grids");return i=n.Xrm.Page.data.entity.getEntityName().toString(),r=n.Xrm.Page.data.entity.getId().toString(),String.format("{0}/main.aspx?pagetype=entityrecord&etn={1}&id={2}",Xrm.Page.context.getClientUrl(),encodeURI(i),encodeURI(r))};Xrm.Page.$1rN=function(n){return n.indexOf("form/page.aspx")!==-1?!0:!1};Xrm.Mobile=function(){};Xrm.$M1=function(){};Xrm.$73=function(){};Xrm.$73.getValidStatusTransition=function(n,t,i,r){var f=MscrmComponents.DeferredPromiseFactory(Number,Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M),u=1,o,s,e,h;if((i===1||i===2)&&(r===1||r===2))u=4,f.resolve(u);else{if(Xrm.Utility.areStateTransitionsEnforced("incident")){for(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q("incident","statuscode"),s=o.$6S.$21[t.toString()].$LO,e=0;e<s.length;e++)if(h=o.$6S.$21[s[e].toString()],h.$t===r){u=3;break}u!==3&&f.resolve(u)}else u=3;Xrm.$73.$2nT(new Microsoft.Crm.Client.Core.Framework.Guid(n),1).then(function(n){u=n?2:3;f.resolve(u)},function(){u=4;f.resolve(u)})}return f.promise()};Xrm.$73.$2nT=function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M),r,f,e;if(Microsoft.Crm.Client.Core.Storage.Common.$15.$AD("incident")){var o=Microsoft.Crm.Client.Core.Framework.$3.$IY(' select  activitypointer0.VersionNumber as "versionnumber" , activitypointer0.ActivityId as "activityid" from Activitypointer as "activitypointer0" where ((activitypointer0.[RegardingObjectId!Id] = \'{0}\' COLLATE NOCASE and ((activitypointer0.StateCode = {1} or  activitypointer0.StateCode = {2})))) ',n,0,3),u=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(null);u.$PZ(2,o);r=new Microsoft.Crm.Client.Core.Storage.DataApi.$7A(u,"activitypointer_ActivityId");r.$P="activitypointer";f=function(n){(t===2||t===1)&&($0.$0(n)?i.resolve(!1):i.resolve(n.get_count()>0))};e=function(){i.resolve(!1)};Xrm.Utility.retrieveEntityCollection(r,f,e)}return i.promise()};Xrm.$O6=function(n,t,i,r,u,f,e,o){var c;Xrm.$O6.initializeBase(this);this.$1P=n;this.$1de=t;this.$L=r;this.$1jY=e;this.$hp=new(Xrm.XrmCollection$1.$$(Xrm.XrmProcessStage));this.$1df=i;this.$9u=f;for(var h=o.get_Items(),l=h.length,s=0;s<l;++s)c=h[s],this.$hp.add(c)};Xrm.$O6.prototype={$1P:null,$1de:null,$L:null,$1jY:!1,$9u:0,$1df:null,$hp:null,getId:function(){return this.$1P},getInstanceId:function(){return this.$1de},getName:function(){return this.$L},isRendered:function(){return this.$1jY},getStages:function(){return this.$hp},getState:function(){return null},getStatus:function(){return Xrm.$1h.toString(this.$9u)},getInstanceName:function(){return this.$1df}};Xrm.$O1=function(n,t,i,r,u,f){var s;Xrm.$O1.initializeBase(this);this.$1P=n;this.$L=t;this.$DX=i;this.$4C=r;this.$9u=Xrm.ProcessStatus.toString(u);this.$1Qo=new(Xrm.XrmCollection$1.$$(Xrm.XrmProcessStep));for(var o=f.get_Items(),h=o.length,e=0;e<h;++e)s=o[e],this.$1Qo.add(s)};Xrm.$O1.prototype={$1P:null,$L:null,$4C:null,$9u:null,$DX:null,$1Qo:null,getId:function(){return this.$1P},getName:function(){return this.$L},getEntityName:function(){return this.$4C},getStatus:function(){return this.$9u},getCategory:function(){return this.$DX},getSteps:function(){return this.$1Qo}};Xrm.$O2=function(n,t,i,r){Xrm.$O2.initializeBase(this);this.$L=n;this.$26=Xrm.StepType.toString(i);this.$1je=r;this.$49=t};Xrm.$O2.prototype={$L:null,$26:null,$1je:!1,$49:null,getName:function(){return this.$L},getAttribute:function(){return this.$49},getStepType:function(){return this.$26},isRequired:function(){return this.$1je},getProgress:function(){return 4},setProgress:function(){return"invalid"}};Xrm.XrmChartWrapper=function(n){Xrm.XrmChartWrapper.initializeBase(this);this.$1X=n};Xrm.XrmChartWrapper.prototype={$1X:null,getPaneMode:function(){var n=this.$1X.$2.$5Q(this.$1X);return Microsoft.Crm.Client.Core.ViewModels.$9e.isInstanceOfType(n)?2:4}};Xrm.XrmControlFormSelectorWrapper=function(){Xrm.XrmControlFormSelectorWrapper.initializeBase(this)};Xrm.XrmControlFormSelectorWrapper.prototype={$1wg:null,getCurrentItem:function(){return this.$1wg}};Xrm.XrmInternalWrapper=function(){this.$$d_$2Vv=Function.createDelegate(this,this.$2Vv);Xrm.XrmInternalWrapper.initializeBase(this)};Xrm.XrmInternalWrapper.get_$Y=function(){return Microsoft.Crm.Client.Core.Framework.$q.$4t("","Xrm.Internal")};Xrm.XrmInternalWrapper.get_$2oU=function(){if($0.$0(Xrm.XrmInternalWrapper.$1R2)){var t=!1,r=new Microsoft.Crm.Client.Core.ViewModels.$Nu,i=".",n=r.getServerDatabaseVersion().toString().split(i);n.length>=2&&(t=parseFloat(n[0]+i+n[1])>=parseFloat("7.1"));Xrm.XrmInternalWrapper.$1R2=t}return Xrm.XrmInternalWrapper.$1R2};Xrm.XrmInternalWrapper.displayError=function(n,t){var i="",r="";$0.$0(t)||(i=$0.$0(t.$TH)?"window":t.$TH,r=Microsoft.Crm.Client.Core.Framework.$3F.toString(t.$1I7));var u=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_With_Field_Client_Side_Event_Field")+i,f=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_With_Field_Client_Side_Event_Event")+r,e=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_With_Field_Client_Side_Event_Error")+n,o=u+"\n\n"+f+"\n\n"+e;Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_With_Field_Client_Side_Event"),o,2)};Xrm.XrmInternalWrapper.logVerbose=function(n){Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(166,n)};Xrm.XrmInternalWrapper.prototype={$1JX:!1,$m7:null,addOnXrmReady:function(){},associateListObjects:function(){},postAppMessageBar:function(){},associateObjects:function(){},canOverridePriceEngine:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$FN;switch(n){case"opportunity":return t.$3F5("0fe2f754-3531-4670-8a8d-b3d7eb49321e");case"invoice":case"invoicedetail":return t.$3F5("748f74bf-055c-4fd3-835f-a9ecb7449315");case"quote":case"quotedetail":return t.$3F5("45c781da-db3e-439b-9efe-d1b5484b832f");case"salesorder":case"salesorderdetail":return t.$3F5("0186f903-2b6a-4230-9838-0b64080a7568");default:return!1}},clearOnXrmReadyEventHandlers:function(){Xrm.Internal.$uo=null},copyTextToClipboard:function(){},isFieldChangeIndicatorEnabled:function(){return this.$1JX},enableFieldChangeIndicator:function(){this.$1JX=!0},disableFieldChangeIndicator:function(){this.$1JX=!1},executeOnXrmReadyEventHandlers:function(){for(var n=0;n<Xrm.Internal.get_$1MR().get_Count();n++)Xrm.Internal.get_$1MR().get_$R(n).call()},isEnabledForInteractionCentric:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Pp},setIsGridDialogContext:function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Cm=n},getSelectedEntityRecords:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),r,t,i,u;if(!$0.$0(n.$5B)&&!$0.$0(n.$5B.get_Items())){for(r=new Array(n.$5B.get_Items().length),t=0;t<n.$5B.get_Items().length;t++)i=n.$5B.get_Items()[t],$0.$0(i)||$0.$0(i.get_ModelContext())||(u=i.get_ModelContext(),r[t]=u.$I);return r}return null},refreshRibbon:function(){$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())||$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$10e())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.forceRuleEvaluation()},savePreSelectedViewModelIds:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),t;if($0.$0(n.$5B))return!1;for(t=0;t<n.$5B.get_Count();t++)n.get_PreSelectedViewModelIds().add(n.$5B.get_$R(t).get_ModelContext().get_Id());return n.$5B.get_Count()>0},clearSelectedViewModels:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();n.clearSelectedViewModels()},executeRibbonCommand:function(n){try{if(!$0.$0(n)){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y;t.commandExecute(n)}}catch(i){this.trace.error("ExecuteRibbonCommand","Unhandled exception while executing Command {0}: {1}"+n,i)}},getAvailableClients:function(){return["Mobile"]},getAvailableFormFactors:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?[1]:[3,2]},navigateToPage:function(n){var i,t;"Mobile"in n&&(i=n.Mobile,Microsoft.Crm.Client.Application.App.StartPage.get_onNativeBridgeAppLink()(i),t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),"callback"in n&&(this.$m7=n.callback,t.$lM?(this.$m7(),this.$m7=null):t.AddPropertyChangedListener("IsFullyLoaded",this.$$d_$2Vv)))},$2Vv:function(){$0.$0(this.$m7)||(this.$m7(),this.$m7=null)},preventBrowseBack:function(){},goBack:function(){if(this.isEnabledForInteractionCentric()){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();!$0.$0(n.$IF)&&n.get_CanGoBack()&&n.$IF.get_CanExecute()&&n.$IF.execute()}},getEntityDisplayName:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?null:t.$1q},getUserLocation:function(){var n=MscrmComponents.DeferredPromiseFactory(Array,String),t={},i,r;return t.maximumAge=0,navigator.geolocation&&(i=this,r=this,navigator.geolocation.getCurrentPosition(function(t){var i=new Array(2);i[0]=t.coords.latitude;i[1]=t.coords.longitude;n.resolve(i)},function(t){n.reject(t.message)},t)),n.promise()},isDocumentManagementEnabledAccount:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:t.$1JN},isFeatureEnabled:function(n){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName(n)},areFeaturesEnabled:function(n){for(var u,t=!0,r=n,f=r.length,i=0;i<f;++i)if(u=r[i],t=t&&this.isFeatureEnabled(u),!t)return!1;return!0},isMaxNoOfReadOnlyUsersReached:function(){return!1},isModalDialogSupported:function(){return!1},isTurboForm:function(){return!1},isIosDevice:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()},getEntityName:function(n){var u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(n),t,i,r;if(!$0.$0(u))return u.$y;t=Xrm.XrmInternalWrapper.$1FI;for(i in t)if(r={key:i,value:t[i]},r.value===n)return r.key;return null},getDisabledAttributes:function(){return new Array(0)},getEntityCode:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?n in Xrm.XrmInternalWrapper.$1FI?Xrm.XrmInternalWrapper.$1FI[n]:-1:t.$9p},formatDate:function(n,t){var i=Xrm.DateTimeUtility.$125(n,t);return $0.$0(i)&&Microsoft.Crm.Client.Core.ViewModels.$Q.$17u("Error_Cannot_Get_Real_Date",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Cannot_Get_Real_Date"),2),i},getLocalStorageItem:function(){return null},getLocatorServiceSetting:function(n){switch(n){case"MaxChildIncidentNumber":return this.getMaxChildIncidentNumber();case"MaxIncidentMergeNumber":return this.getMaxIncidentMergeNumber();default:return null}},getResourceString:function(n){var i,t;if($0.$0(n))return null;if(i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n),i!==n)return i;if(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$vu)for(var u=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$vu,f=u.length,r=0;r<f;++r)if(t=u[r],t.ResourceName===n){if(t.Type===2)return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(t.ResourceValue);switch(t.ResourceName){case"ORG_TIMEZONE_OFFSET_STRING":return String.format('"{0}"',Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS());default:return t.ResourceValue}}return n},openDialog:function(n,t,i,r,u){var f=new Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand;f.$1En=n;f.$5m=i;f.$FU=t.width;f.$Ih=t.height;f.$Zc=t.left;f.$CA=t.top;f.$1dD=r;f.$1Wa=u;f.execute();f.dispose()},isClaimsEnabled:function(){return!0},isDialogLoaded:function(){return Microsoft.Crm.Client.Core.Models.$6V.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$A3)&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$t===2},getErrorMessage:function(n){return $0.$0(n)?null:Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(n)},parseDate:function(n){return Xrm.DateTimeUtility.parseDate(n)},formatActivitiesSentOrOpenedAsReadableString:function(n,t,i,r,u,f){return Xrm.DateTimeUtility.formatActivitiesSentOrOpenedAsReadableString(n,t,i,r,u,f)},refresh:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();$0.$0(n)||n.$Rr()},refreshParentGrid:function(){return},raiseRecordsDeletedEvent:function(){return},removeLocalStorageItem:function(){},removeOnXrmReady:function(){},reportToWatson:function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2D0().$13J(n,t,i)},openUrl:function(n,t){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(n):t.openInNewWindow&&window.open(n)},openErrorDialog:function(n,t,i,r){var v,f,e,u,o;if(Xrm.XrmInternalWrapper.get_$2oU()){var h=Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(n),c=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_DownloadLog"),l=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_OK"),a=Microsoft.Crm.Client.Core.Framework.$7.$f9(n),s=Microsoft.Crm.Client.Core.Framework.Common.$2.$sJ(a);switch(n){case-2147088287:s=t}v=this;Microsoft.Crm.Client.Core.ViewModels.$14.$17u(h,s,2,function(){var n=new Xrm.AlertDialogStrings;n.text=i;Xrm.Dialog.openAlertDialog(n,null,null)},null,c,l,null,r.$LI,r.$Cj)}else f="0x"+(n<0?4294967295+n+1:n).toString(16).toUpperCase(),e=Mscrm.CrmUri.create("/_common/error/dlg_error.aspx"),e.get_query().hresult=$0.$1Y(f)?"":f.toString(),u=new Xrm.DialogOptions,u.height=260,u.width=550,o={},o.errMessage=t,Xrm.Internal.openDialog(e.toString(),u,o,null,null)},getStatusOptionsFromStateCode:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Array,Object);if($0.$0(n)||$0.$0(t))return i.resolve(null),i.promise();var r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(n,["statuscode"]),Xrm.XrmInternalWrapper.get_$Y()).then(function(n){var r,u,e,o,f;if(n.get_$3F6()===1)if(r=n.get_$R(0),$0.$0(r.get_$9r())||$0.$0(r.get_$9r().$21))i.resolve(null);else{u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number));e=r.get_$9r().$21;for(o in e)f={key:o,value:e[o]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(f.value)&&f.value.$t===t&&u.add(f.value.$1s);u.get_Count()>0?i.resolve(u.toArray()):i.resolve(null)}else i.resolve(null)},function(){i.resolve(null)}),i.promise()},getStatusMetadataFromStateCode:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Array,Object);if($0.$0(n)||$0.$0(t))return i.resolve(null),i.promise();var r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(n,["statuscode"]),Xrm.XrmInternalWrapper.get_$Y()).then(function(n){var r,u,e,o,f;if(n.get_$3F6()===1)if(r=n.get_$R(0),$0.$0(r.get_$9r())||$0.$0(r.get_$9r().$21))i.resolve(null);else{u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x));e=r.get_$9r().$21;for(o in e)f={key:o,value:e[o]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(f.value)&&f.value.$t===t&&u.add(f.value);u.get_Count()>0?i.resolve(u.toArray()):i.resolve(null)}else i.resolve(null)},function(){i.resolve(null)}),i.promise()},getStateCodeFromStatusOption:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Number,Object);if($0.$0(n)||$0.$0(t))return i.resolve(-1),i.promise();var r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(n,["statuscode"]),Xrm.XrmInternalWrapper.get_$Y()).then(function(n){var r,f,e,u;if(n.get_$3F6()===1)if(r=n.get_$R(0),$0.$0(r.get_$9r())||$0.$0(r.get_$9r().$21))i.resolve(-1);else{f=r.get_$9r().$21;for(e in f)u={key:e,value:f[e]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(u.value)&&u.value.$1s===t?i.resolve(u.value.$t):i.resolve(-1)}else i.resolve(-1)},function(){i.resolve(-1)}),i.promise()},progress:function(n,t,i,r){($0.$0(t)||t<0)&&(t=0);$0.$0(i)?i=100:t>i&&(t=i);($0.$0(r)||r<0)&&(r=0);r>i&&(r=i);r>t&&(r=t);var u=t!==i;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33().$1QO(u,Microsoft.Crm.Client.Core.Framework.$3.$9(n)?"":n)},doAction:function(){},insertCustomScript:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6();t.$1Ms.$2XO(n)},getPageContext:function(){return Microsoft.Crm.Client.Core.Framework.$1T.$d("Xrm")},generateReportMenuXml:function(){},getMaxIncidentMergeNumber:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$1LJ:0},getMaxChildIncidentNumber:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$1LG:0},getMaxSuggestionsCount:function(){var n=MscrmComponents.DeferredPromiseFactory(Number,String),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(46,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),"recommendationmodel",1),null),i=this,r=this;return t.then(function(t){if(!$0.$1Y(t)&&t.get_$3F6()>0&&!$0.$1Y(t.get_$R(0))){var i=t.get_$R(0).get_$4r();$0.$0(i)||$0.$0(i.MaxRecommendations)?n.resolve(10):n.resolve(i.MaxRecommendations)}else n.resolve(10)},function(){n.resolve(10)}),n.promise()},getPageNavigationInfo:function(){var t={},n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top(),i,r;return $0.$0(n)&&(n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33()),i=Microsoft.Crm.Client.Core.ViewModels.$13.$1x7(n,!1),Microsoft.Crm.Client.Core.Framework.$3.$9(i)||(t.Web=i),r=Microsoft.Crm.Client.Core.ViewModels.$13.$1x1(n),Microsoft.Crm.Client.Core.Framework.$3.$9(r)||(t.Mobile="&"+r),t},generateDocumentTemplateFlyout:function(){},getOrganizationSetting:function(n){switch(n){case"delveUrl":return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$1Yy;case"kmUseExternalPortal":return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$1KY.toString();case"kmExternalPortalUrl":return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$1KX;case"isParature":return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$tD.toString();default:return null}},generateWordTemplateFlyout:function(){},lookupObjects:function(){},setComposeAddress:function(){},startMetricsStopwatch:function(){return null},setFormEntityName:function(){},setFormActionableNotification:function(n){var t,e,o,i,s;if(!n)return!1;var r=Microsoft.Crm.Client.Core.Framework.$3.$9(n.notificationLevel)?null:n.notificationLevel.toUpperCase(),u=null,f=0;return r&&r in Xrm.XrmInternalWrapper.$1gc&&(f=Xrm.XrmInternalWrapper.$1gc[r]),n.actionText&&(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Function)),e=this,u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$EZ))([new Microsoft.Crm.Client.Core.ViewModels.$DR(n.actionText,function(){for(var n=0;n<t.get_Count();n+=1)t.get_$R(n)()})]),n.action&&t.add(n.action),Microsoft.Crm.Client.Core.Framework.$3.$12(n.onClickTelemetryName)||(o=this,t.add(function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS(n.onClickTelemetryName))}))),n.hideOnOffline&&(i=null,s=this,i=function(){Xrm.Page.ui.clearFormNotification(n.uniqueId);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",i)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",i)),Microsoft.Crm.Client.Core.ViewModels.$10.$wc(n.message,f,n.uniqueId,u,n.priority)},retrieveADUserProperties:function(){return null},setLocalStorageItem:function(){},setPerfMarkerTimestamp:function(){},spOpenInNativeClient:function(){},getStateFromNumber:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Object,Object);if($0.$0(n))return i.resolve(null),i.promise();var r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(n,["statecode"]),Xrm.XrmInternalWrapper.get_$Y()).then(function(n){var f=null,u,e,o,r;if(n.get_$3F6()===1&&(u=n.get_$R(0),!$0.$0(u.get_$9r())&&!$0.$0(u.get_$9r().$21))){f={};e=u.get_$9r().$21;for(o in e)r={key:o,value:e[o]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(r.value)&&Array.contains(t,r.value.$1s)&&(f[r.value.$1s.toString()]=r.value.$1G)}i.resolve(f)},function(){i.resolve(null)}),i.promise()},isGuidedHelpEnabledForUser:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$147},isKnowledgemanagementEnabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:t.$1Jj},isCurrentKMParature:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$tD},getStringKeyList:function(n){for(var u,r,i={},t=0;t<n.length;t++){if($0.$0(n[t]))return null;if(i[n[t]]="",u=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n[t]),u!==n[t])i[n[t]]=u;else if(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$vu)for(var e=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$vu,o=e.length,f=0;f<o;++f)if(r=e[f],r.ResourceName===n[t])if(r.Type===2)i[n[t]]=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(r.ResourceValue);else switch(r.ResourceName){case"ORG_TIMEZONE_OFFSET_STRING":i[n[t]]=String.format('"{0}"',Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS());break;default:i[n[t]]=r.ResourceValue}}return i},getEntitySetName:function(){return null},getEntityLocalizedSetName:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?null:t.$Ag},getAllowedStatusTransitions:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Array,Array),r=null;if($0.$0(n)||$0.$0(t))return i.resolve(r),i.promise();var u=this,f=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(n,["statuscode"]),Xrm.XrmInternalWrapper.get_$Y()).then(function(n){var u,e,o,f;if(n.get_$3F6()===1&&(u=n.get_$R(0),!$0.$0(u.get_$9r())&&!$0.$0(u.get_$9r().$21))){e=u.get_$9r().$21;for(o in e)if(f={key:o,value:e[o]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(f.value)&&f.value.$1s===t){r=f.value.$LO;break}}i.resolve(r)},function(){i.resolve(r)}),i.promise()},canApproveOrPublishKnowledgeArticle:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$FN;return n?t.$3F5("bdf910f7-0c80-4e7b-8ac2-12e75790319f"):t.$3F5("7c538e3d-8e82-4f73-922e-471472954c52")},relationshipAddOnChange:function(n,t,i){var r=n+":"+t;Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1VG(r,i)},getHomePageGridSelectedRecordIds:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),i,t,r;if(!$0.$0(n.$5B)&&!$0.$0(n.$5B.get_Items())){for(i=new Array(n.$5B.get_Items().length),t=0;t<n.$5B.get_Items().length;t++)r=n.$5B.get_Items()[t],i[t]=r.$4Z;return i}return null},getHomePageGridSelectedRecordsCount:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();return!$0.$0(n.$5B)&&!$0.$0(n.$5B.get_Items())?n.$5B.get_Items().length:0},recalculateRecord:function(){},filterLookupTypes:function(){return!1},getLookupTypes:function(){return null},addMetric:function(){},isUci:function(){return!1},setTraversedPath:function(){},getTraversedPath:function(){return null},setStageId:function(){},getStageId:function(){return null}};Xrm.XrmInternalWrapper.$3F8=function(){};Xrm.XrmInternalWrapper.$3F8.prototype={MaxRecommendations:0};Xrm.DateTimeUtility=function(){};Xrm.DateTimeUtility.$2jC=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.ShortDatePattern.toString().replace(new RegExp("/","g"),n.DateSeparator.toString())};Xrm.DateTimeUtility.$2jD=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.ShortTimePattern.toString().replace(new RegExp(":","g"),n.TimeSeparator.toString())};Xrm.DateTimeUtility.fullWidthToHalfWidth=function(n){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(n))for(var t=0;t<Xrm.DateTimeUtility.$1aM.length;t++)n=n.replace(new RegExp(Xrm.DateTimeUtility.$1aM[t],"g"),Xrm.DateTimeUtility.$22I[t]);return n};Xrm.DateTimeUtility.getShortDatePattern=function(n){return n.dateTimeFormat.ShortDatePattern};Xrm.DateTimeUtility.parseLocale=function(n,t,i){return t===Sys.CultureInfo.CurrentCulture?Date.parseLocale(n,i):Date._parse?Date._parse(n,t,[null,i]):null};Xrm.DateTimeUtility.parseDate=function(n){var r,o,f,s,e,h,c;if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))return null;var i=Xrm.DateTimeUtility.fullWidthToHalfWidth(n),u=Sys.CultureInfo.CurrentCulture,t=Xrm.DateTimeUtility.parseLocale(i,u,"d");return $0.$0(t)&&(r=Xrm.DateTimeUtility.getShortDatePattern(u),r.indexOf("g")>-1&&(o=r.replace(new RegExp("\\s*g+\\s*"),""),t=Xrm.DateTimeUtility.parseLocale(i,u,o)),f=new RegExp("y{4}"),$0.$0(t)&&f.test(r)&&(s=r.replace(f,"yy"),t=Xrm.DateTimeUtility.parseLocale(i,u,s)),e=null,$0.$0(t)&&!$0.$0(e)&&(h=new RegExp("^[0-9]"),c=new RegExp("[0-9]{4}"),h.test(i)&&c.test(i)&&(t=Xrm.DateTimeUtility.parseLocale(i,e,"d")))),t};Xrm.DateTimeUtility.$125=function(n,t){var i,r,f,u,e;if($0.$0(n)||(i=n.localeFormat($0.$0(t)?Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern:t),$0.$0(i)||Microsoft.Crm.Client.Core.Framework.$3.$9(i)))return null;if(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$2pH()&&(r=n.localeFormat("yyyy"),i.indexOf(r)>-1)){for(f=r.length-2,u=0;u<f&&r.charAt(u)==="0";)u++;u>0&&(e=r.substr(u),i=i.replace(r,e))}return i};Xrm.DateTimeUtility.getTimeInUserPrefTimeZone=function(n){var t=new Date(n.getTime());return t.setMinutes(n.getMinutes()+n.getTimezoneOffset()+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$PW+Microsoft.Crm.Client.Core.Framework.$h.$1HL(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9())),t};Xrm.DateTimeUtility.formatActivitiesSentOrOpenedAsReadableString=function(n,t,i,r,u,f){var c="";try{var e=Xrm.DateTimeUtility.getTimeInUserPrefTimeZone(n),l=Xrm.DateTimeUtility.getTimeInUserPrefTimeZone(new Date),h=e.localeFormat(Xrm.DateTimeUtility.$2jD());c=e.localeFormat(Xrm.DateTimeUtility.$2jC());var a=(l-e)/1e3,o=Math.floor(a/3600),v=new Date(e.getTime()),y=new Date(l.getTime()),s=Xrm.DateTimeUtility.getDiffDays(v,y),p=l.getFullYear()-e.getFullYear();return a<3600?String.format(t):o>=1&&o<=4?o===1?String.format(i,o):String.format(r,o):s&&s!==1?s>=2&&s<=6?e.localeFormat("ddd")+" "+h:p?c:e.localeFormat("m")+" "+h:s?String.format(f,h):String.format(u,h)}catch(w){return c}};Xrm.DateTimeUtility.getDiffDays=function(n,t){return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),Math.abs((n-t)/864e5)};Xrm.DateTimeUtility.getShortDateTimeFormat=function(n){var t=Xrm.DateTimeUtility.getTimeInUserPrefTimeZone(n),i=t.localeFormat(Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortTimePattern.toString()),r=t.localeFormat(Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern.toString());return String.format("{0} {1}",r,i)};Xrm.XrmControlGridWrapper=function(n){Xrm.XrmControlGridWrapper.initializeBase(this);this.$1X=n};Xrm.XrmControlGridWrapper.prototype={$1X:null,getFilter:function(){return new Xrm.$OI(this.$1X)},getTotalRecordCount:function(){return $0.$0(this.$1X)?-1:this.$1X.get_RecordCount()},getRows:function(){for(var i,r,t=new Xrm.XrmGridRows,n=0;n<this.$1X.$2n.get_$9o().get_Count();n++)i=this.$1X.$2n.get_$9o().get_$R(n),r=new Xrm.$OF(i,this.$1X,!1),t.add(r);return t},getSelectedRows:function(){var i=new Xrm.XrmGridRows,t,n,f,e,r,u,o,s,h,c,l;if(!$0.$0(this.$1X)&&Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$1X)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents")))n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$l0(this.$1X.$2,this.$1X),$0.$0(n)||$0.$0(n.$2e)||$0.$0(n.$2e.$w)||$0.$0(n.$2e.$w.$BG)||$0.$0(n.$2e.$w.$BG.getSelectedRecord())||(f=n.$2e.$w.$BG.getSelectedRecord(),i.add(new Xrm.$OF(f.$18,this.$1X,!0)));else if(!$0.$0(this.$1X)&&this.$1X.$t8)for(e=this.getTotalRecordCount(),r=0;r<e;r++)u=this.$1X.$1f.getItem(r),(s=this.tryGetValidRecordRow(u,o={val:t}),t=o.val,s)&&u.get_IsSelected()&&i.add(t);else h=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Kg(),(l=this.tryGetValidRecordRow(h,c={val:t}),t=c.val,l)&&i.add(t);return i},tryGetValidRecordRow:function(n,t){if(!$0.$0(n)&&this.$1X.$1f.$10k(n)&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n.get_ModelContext())){var i=n.get_ModelContext();return t.val=new Xrm.$OF(i,this.$1X,!1),!0}return t.val=null,!1},addOnRecordSelect:function(){},removeOnRecordSelect:function(){},fireOnRecordSelect:function(){},getGridType:function(){throw Error.notImplemented("The method or operation is not implemented.");}};Xrm.$OT=function(){this.context=new Microsoft.Crm.Client.Core.ViewModels.$Nu;Xrm.$OT.initializeBase(this)};Xrm.$OT.prototype={data:null,$P9:null,ui:null,grid:null,getAttribute:function(n){if(!$0.$0(this.$P9)&&n in this.$P9){var t=this.$P9[n];return delete this.$P9[n],t}return this.data.entity.attributes.get(n)},getControl:function(n){return this.ui.controls.get(n)},$Oh:function(){$0.$0(this.data)||this.data.$5E();$0.$0(this.ui)||this.ui.$5E();$0.$0(this.$P9)||(this.$P9=null);this.grid=null},blockAutoSave:function(){}};Xrm.XrmUtilityWrapper=function(){Xrm.XrmUtilityWrapper.initializeBase(this)};Xrm.XrmUtilityWrapper.$1ht=function(n,t,i,r,u,f,e){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(r.shouldOpenQuickCreate=!0),$0.$0(i))Xrm.XrmUtilityWrapper.$1tb(n,r,u,f,e,t);else switch(i.$5T){case 0:Xrm.XrmUtilityWrapper.$2w3(n,t,i,r,u,f,e);break;case 1:Xrm.XrmUtilityWrapper.$2QW(n,t,i,r,u,f,e)}};Xrm.XrmUtilityWrapper.$1tD=function(n,t,i,r,u,f,e,o){var s=n.$5b;$0.$0(s)||s.$66!==-2147217919&&s.$66!==-2147220969?Xrm.XrmUtilityWrapper.$j8(n,e):Xrm.XrmUtilityWrapper.$1ht(t,i,r,u,f,e,o)};Xrm.XrmUtilityWrapper.$2w3=function(n,t,i,r,u,f,e){$0.$0(i)||(r.RelationshipAttribute=[i.$AR]);Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(r.shouldOpenQuickCreate=!0);Xrm.XrmUtilityWrapper.openEntityFormInternal(n,null,r,function(r){var h=r.$AK.get_$4m(),o={},s;o.parentReference=t;o.childReference=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(h));o.relationshipAttributeName=i.$AR;o.newRecordSelected=!0;s=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AssociateOneToMany",o);s.OnSuccess=function(){Xrm.XrmUtilityWrapper.$1Qz(e,u,r)};s.OnFailure=function(n){Xrm.XrmUtilityWrapper.$2Is(n,f)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,s)},function(n){Xrm.XrmUtilityWrapper.$j8(n,f)},t)};Xrm.XrmUtilityWrapper.$2QW=function(n,t,i,r,u,f,e){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(r.shouldOpenQuickCreate=!0);Xrm.XrmUtilityWrapper.openEntityFormInternal(n,null,r,function(r){var o=r.$AK.get_$4m(),s=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(o));Xrm.XrmUtilityWrapper.$1ps(t,s,i,function(){Xrm.XrmUtilityWrapper.$1Qz(e,u,r)},function(n){Xrm.XrmUtilityWrapper.$j8(n,f)})},function(n){Xrm.XrmUtilityWrapper.$j8(n,f)},t)};Xrm.XrmUtilityWrapper.$1tb=function(n,t,i,r,u,f){Xrm.XrmUtilityWrapper.openEntityFormInternal(n,null,t,function(n){Xrm.XrmUtilityWrapper.$1Qz(u,i,n)},function(n){Xrm.XrmUtilityWrapper.$j8(n,r)},f)};Xrm.XrmUtilityWrapper.$1Qz=function(n,t,i){$0.$0(t)?$0.$0(n)||n.refresh():t(i)};Xrm.XrmUtilityWrapper.$2QT=function(n,t,i,r,u){var f,e,c;i.regardingobjectid=t.get_identifier();i.regardingobjectidname=t.Name;i.regardingobjectidtarget=t.LogicalName;f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();n==="phonecall"&&$0.$0(i.from)&&(i.from=Xrm.XrmUtilityWrapper.$QK("systemuser",f.context.getUserId(),f.context.getUserName()));switch(t.LogicalName){case"incident":if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&!$0.$0(i.RefreshContext)&&(e=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2gp(i.RefreshContext),!$0.$0(e))){var o=e.name,s=e.id,h=e.type;switch(n){case"phonecall":case"email":i.to=Xrm.XrmUtilityWrapper.$QK(h,s,o);break;case"appointment":i.requiredattendees=Xrm.XrmUtilityWrapper.$QK(h,s,o);break;default:Xrm.XrmUtilityWrapper.$2nl(n)&&($0.$0(s)||$0.$0(o)||$0.$0(h)||(i.partyid=s,i.partyname=o,i.partytype=h))}}break;case"account":case"contact":case"lead":switch(n){case"phonecall":f.data&&(c=f.getAttribute("telephone1"),c&&$0.$0(i.phonenumber)&&(i.phonenumber=c.getValue()));i.to=Xrm.XrmUtilityWrapper.$QK(t.LogicalName,t.get_identifier(),t.Name);break;case"appointment":i.requiredattendees=Xrm.XrmUtilityWrapper.$QK(t.LogicalName,t.get_identifier(),t.Name);break;case"email":i.to=Xrm.XrmUtilityWrapper.$QK(t.LogicalName,t.get_identifier(),t.Name)}}Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(i.shouldOpenQuickCreate=!0);Xrm.XrmUtilityWrapper.openEntityFormInternal(n,null,i,r,u,t)};Xrm.XrmUtilityWrapper.$2nl=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:t.get_$7g()&&t.$CW};Xrm.XrmUtilityWrapper.$2HQ=function(n){if(!$0.$0(n.customerid)){var t=n.customeridtype;switch(t){case"account":n.parentaccountid=n.customerid;n.parentaccountidname=n.customeridname;n.parentaccountidtype=t;break;case"contact":n.parentcontactid=n.customerid;n.parentcontactidname=n.customeridname;n.parentcontactidtype=t}}};Xrm.XrmUtilityWrapper.$1VI=function(n){if($0.$0(n.ownerid)&&$0.$0(n.owneridname)&&$0.$0(n.owneridtype)){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();n.ownerid=t.context.getUserId();n.owneridname=t.context.getUserName();n.owneridtype="systemuser"}return n};Xrm.XrmUtilityWrapper.$QK=function(n,t,i){var u=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t),i),f={partyid:u},e=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(e,f,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return r.$4w.add("partyid"),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([r],!1,1,!1)};Xrm.XrmUtilityWrapper.$j8=function(n,t){var r,u,i;$0.$0(t)?(r=n.$5b,$0.$0(r)||(u=r.$66,i=n.get_message(),i.length||(i=Xrm.Internal.getErrorMessage(u)),Xrm.XrmUtilityWrapper.$13J(u,i,n))):t(n)};Xrm.XrmUtilityWrapper.$2Is=function(n,t){if($0.$0(t)){var i=n.$m,r=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M.$128(n);Xrm.XrmUtilityWrapper.$13J(i,n.$F,r)}else t(Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M.$128(n))};Xrm.XrmUtilityWrapper.$13J=function(n,t,i){var e="0x"+(n<0?4294967295+n+1:n).toString(16).toUpperCase(),u,f,r,o,s;if(e.startsWith("0x8004E1"))switch(e){case"0x8004E108":case"0x8004E121":case"0x8004E117":case"0x8004E123":case"0x8004E122":case"0x8004E113":t=Xrm.Internal.getErrorMessage(n);break;default:t=Xrm.Internal.getErrorMessage(-2147163904)}u=Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(n);f=!1;$0.$0(i)||(r=i.$5b,$0.$0(r)||(o=r.$LI,s=r.$Cj,f=!0,Microsoft.Crm.Client.Core.ViewModels.$Q.$1QV(u,t,2,null,null,null,null,!1,o,s)));f||Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(u,t,2)};Xrm.XrmUtilityWrapper.$1ps=function(n,t,i,r,u){var f,e;i.$mW===2&&(f=n,n=t,t=f);e=[t];Xrm.Internal.messages.associate(n,i.$L,e).then(r,u)};Xrm.XrmUtilityWrapper.$2Hs=function(n,t){var r,i;Xrm.Internal.disableFieldChangeIndicator();r={};r.entityId=n;i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateSyncErrorRecord",r);i.OnSuccess=t;i.OnFailure=function(n){var i=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M.$128(n),t=n.$JL;$0.$0(t)||Object.getType(t)!==Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P||(i.$5b=t)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,i)};Xrm.XrmUtilityWrapper.openEntityFormInternal=function(n,t,i,r,u,f){var o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n),s,h,e,c,l,a;return $0.$0(o)||!Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&!o.$KJ||Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&!o.$BW?(Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093995)),!0):(s=i,$0.$0(t)?(h=null,$0.$0(i)||(delete i.formid,h={InitializationParameters:i,InitializeFrom:2}),Microsoft.Crm.Client.Core.ViewModels.$3W.$8t.$1MT(n,h,s,r,u,f)):(e=Microsoft.Crm.Client.Core.Framework.$6.get_$f()?new Microsoft.Crm.Client.Core.Commands.$2R(null,40):new Microsoft.Crm.Client.Core.Commands.$2R(null,2),e.$D=n,c={EntityReference:new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t))},e.$x=c,e.$8e=s,l=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),{},{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),a=Microsoft.Crm.Client.Core.Models.$c.$X(l),e.$18=a,e.execute(),e.dispose()),!0)};Xrm.XrmUtilityWrapper.$2Sm=function(n,t,i,r,u,f){var e="quoteid";Xrm.Internal.messages.generateQuoteFromOpportunity(n.Id,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([e])).then(function(n){var t=n.entity,i;t.hasValue(e)&&(i=t.getValue(e).toString(),Xrm.Utility.openEntityForm("quote",i,null,null))},function(e){Xrm.XrmUtilityWrapper.$1tD(e,"quote",n,i,t,r,u,f)})};Xrm.XrmUtilityWrapper.prototype={beginSecureSessionForResource:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Date,Xrm.BeginSecureSessionResponseCode),u;return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("AuthenticatedMashups")?(Microsoft.Crm.Client.Core.Framework.$6.get_$1KK()||Microsoft.Crm.Client.Core.Framework.$6.get_$3A())?(u=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Cp.beginSecureSessionForResource(n,t,i,function(n,t){n?r.reject(n):r.resolve(new Date(t))}),r.promise()):r.reject(5):r.reject(6)},create:function(n,t,i,r,u,f){var l,h,c,e,a,o,v,s,y,p,w,b;if(!$0.$0(n)){if(l=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),h=null,$0.$0(i)||(h=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelationshipReference(i.name,i.attributeName,i.ordinal,i.relationshipType)),n==="opportunityproduct"){if(c=l.getAttribute("pricelevelid"),!$0.$0(c)&&!c.getUserPrivilege().canRead){Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.SFA.pricelevel.noread.aspx_155"));return}if($0.$0(c)||$0.$0(c.getValue())){Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.SFA.quotes.edit.aspx_155"));return}}$0.$0(r)&&(r={});r=Xrm.XrmUtilityWrapper.$1VI(r);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||n!=="opportunity"||Xrm.XrmUtilityWrapper.$2HQ(r);e=null;$0.$0(u)||(a=this,e=function(n){return u(n)});o=null;$0.$0(f)||(v=this,o=function(n){var t=Microsoft.Crm.Client.Core.Framework.$7.$f9(n.$5b.$66);f(new Xrm.SaveErrorResponse(t.$m,t.$F,t.$F))});s=l.grid;$0.$0(t)?Xrm.XrmUtilityWrapper.$1tb(n,r,e,o,s,t):Xrm.Utility.isActivityType(n)?(y=this,p=this,Xrm.XrmUtilityWrapper.$2QT(n,t,r,function(n){Xrm.XrmUtilityWrapper.$1Qz(s,e,n)},function(n){Xrm.XrmUtilityWrapper.$j8(n,o)})):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?t.LogicalName==="opportunity"&&n==="quote"?Xrm.XrmUtilityWrapper.$2Sm(t,r,h,e,o,s):(w=this,b=this,Xrm.Internal.messages.createEntityFrom(t,n,0).then(function(i){for(var u,c,v,f=i.entity,a=f.get_fieldNames(),y=a.length,l=0;l<y;++l){if(u=a[l],f.$27[u]===9||f.$27[u]===1||f.$27[u]===6){c=f.getValue(u);$0.$0(c)||(v=c.getObjectData(),$0.$0(v)||(r[u+"type"]=c.LogicalName,r[u]=c.get_identifier(),r[u+"name"]=c.Name,r[u+"createattribute"]=!0));continue}r[u]=f.getValue(u)}Xrm.XrmUtilityWrapper.$1ht(n,t,h,r,e,o,s)},function(i){Xrm.XrmUtilityWrapper.$1tD(i,n,t,h,r,e,o,s)})):(i&&(r[i.attributeName+"type"]=t.LogicalName,r[i.attributeName]=t.get_identifier(),r[i.attributeName+"name"]=l.data.entity.getPrimaryAttributeValue(),r[i.attributeName+"createattribute"]=!0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||n!=="opportunity"||Xrm.XrmUtilityWrapper.$2HQ(r),Xrm.XrmUtilityWrapper.$1ht(n,t,h,r,e,o,s))}},openEntityForm:function(n,t,i,r){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f())if(!$0.$0(r)&&r.openInNewWindow){var u=this.$2Z2(n,t);window.open(u,"_blank","height=750; width=700")}else $0.$0(i)&&(i={},i=Xrm.XrmUtilityWrapper.$1VI(i)),Xrm.XrmUtilityWrapper.openEntityFormInternal(n,t,i,null,null,null);else Xrm.XrmUtilityWrapper.openEntityFormInternal(n,t,i,null,null,null)},$2Z2:function(n,t){var i,r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();return i=$0.$0(t)?"{0}/nga/engagementhub.aspx?org={1}&pagetype=create&etn={2}":"{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricform&etn={2}&id={3}",Microsoft.Crm.Client.Core.Framework.$3.$IY(i,r.context.getClientUrlForInteractioncentricDashboard(),r.context.getOrgUniqueName(),n,t)},openQuickCreate:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Xrm.SaveSuccessResponse,Xrm.SaveErrorResponse),u;if(Microsoft.Crm.Client.Core.Framework.$3.$9(n)||$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n)))return r.reject(new Xrm.SaveErrorResponse(-2147088112,Xrm.Internal.getErrorMessage(-2147088112),"OpenQuickCreate failed because an invalid entity name was passed")),r.promise();if(n==="activitypointer"||n==="resource")return u=String.format(Xrm.Internal.getErrorMessage(-2147088111),Xrm.Internal.getEntityDisplayName(n)),r.reject(new Xrm.SaveErrorResponse(-2147088111,u,"OpenQuickCreate failed because entity doesn't have a quick create form")),r.promise();var s=this,e=function(t){var i=new Xrm.LookupObject,u;i.entityType=n;i.id=t.$AK.get_$4m();i.name=t.$AK.get_$8z();u=new Xrm.SaveSuccessResponse;u.savedEntityReference=i;r.resolve(u)},h=this,o=function(n){r.reject(n)},f=null;return $0.$0(t)||(f=new Xrm.Objects.EntityReference(t.entityType,Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.id))),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&($0.$0(i)&&(i={}),i.shouldOpenQuickCreate=!0),Xrm.Utility.create(n,f,null,i,e,o),r.promise()},openTaskFlow:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Object,Xrm.ErrorResponse),u;if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))return r.reject(new Xrm.ErrorResponse(-2146088111,Xrm.Internal.getErrorMessage(-2146088111),"OpenTaskFlow failed because an invalid task based flow name was passed",null)),r.promise();if($0.$0(t)||!t.length||(u=t.pop(),$0.$0(u)))return r.reject(new Xrm.ErrorResponse(-2146088111,Xrm.Internal.getErrorMessage(-2146088111),"Invalid entity context",null)),r.promise();var o=u.name,f=new Microsoft.Crm.Client.Core.Framework.Guid(u.id),e=new Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand(o,n,f,i,new Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel);return $0.$0(f)?e.$28x():e.$1hx(f),r.resolve({}),r.promise()},invokeProcessAction:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Xrm.ProcessActionSuccessResponse,Xrm.ErrorResponse),u,r,f,e;return Microsoft.Crm.Client.Core.Framework.$3.$9(n)?(i.reject(new Xrm.ErrorResponse(-2146088111,Xrm.Internal.getErrorMessage(-2146088111),"InvokeAction failed because an invalid action name was passed",null)),i.promise()):(IsNull(t)&&(t={}),u={ProcessActionName:n},r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveProcessActionRecord",u),r.QueryValue=u,f=this,r.OnSuccess=function(r){var s=r,u=s.metadata,e,h,o;IsNull(u)?(e=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessAction.ClientAPI.MetadataMissing"),h=new Xrm.ErrorResponse(500,e,e,null),i.reject(h)):(o={},"ReturnType"in u&&!IsNull(u.ReturnType)&&(o=s[u.ReturnType.Name.toString()].Parameters),f.$2nP(n,u,t,o,i))},e=this,r.OnFailure=function(n){var t=new Xrm.ErrorResponse(n.$m,n.$F,n.$F,null);i.reject(t)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,r),i.promise())},$2nP:function(n,t,i,r,u){var h=new Xrm.ProcessActionSuccessResponse,p=Xrm.Page.context.getClientUrl(),c=Xrm.Page.context.getVersion().split("."),o=p+"/api/data/v"+c[0]+"."+c[1]+"/",e="Target",l="IsBound",s,a,v,f,y;if("Parameters"in t&&!IsNull(t.Parameters)&&this.$2Y0(i,t.Parameters),e in i&&!IsNull(i[e])&&(s=i[e],l in t&&t[l])){if(!("id"in s))throw Error.argumentNull(String.format("{0}.{1}",e,"id"));a=CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.Framework.Guid.removeBrackets(s.id.toString()));v=CrmEncodeDecode.CrmUrlEncode(t.PrimaryEntityLogicalCollectionName.toString());o+=String.format("{0}({1})/{2}.",v,a,"Microsoft.Dynamics.CRM");delete i[e]}o+=n;f=new XMLHttpRequest;f.open("POST",o,!0);f.setRequestHeader("content-type","application/json; charset=utf-8");f.setRequestHeader("cache-control","no-cache");y=this;f.onreadystatechange=function(){if(f.readyState===4)if(f.status===200||f.status===204)f.onreadystatechange=null,Microsoft.Crm.Client.Core.Framework.$3.$9(f.responseText)||(h.$1Mb=y.$2Y8(JSON.parse(f.responseText),r)),u.resolve(h);else{var n=new Xrm.ErrorResponse(f.status,f.responseText,f.responseText,null);u.reject(n)}};f.send(JSON.stringify(i))},$2Y0:function(n,t){var l=String.format("{0}.crmbaseentity","Microsoft.Dynamics.CRM"),o=t,f,i,s,r,e,u;for(f in o)if(i={key:f,value:o[f]},s=t[i.key].Type.toString(),s===l&&i.key.trim().toLowerCase()!=="target"&&i.key in n&&!IsNull(n[i.key])){if(r=n[i.key],e=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessAction_ClientAPI.EntityReferenceFieldMissing"),!("id"in r))throw Error.argumentNull(String.format(e,"Id",i.key));if(!("entityType"in r))throw Error.argumentNull(String.format(e,"Type",i.key));var a=Microsoft.Crm.Client.Core.Framework.Guid.removeBrackets(r.id.toString()),h=r.entityType,c=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(h.toString());$0.$0(c)||(u={},u[c.$4Y]=a,u["@odata.type"]=String.format("{0}.{1}","Microsoft.Dynamics.CRM",h),n[i.key]=u)}},$2Y8:function(n,t){var c=t,e,i,r,l,o,s,u,h,f;for(e in c)if(i={key:e,value:c[e]},r=i.value,"Type"in r&&!IsNull(r.Type)){l=r.Type.toString();switch(l){case"DateTime":i.key in n&&!IsNull(n[i.key])&&(n[i.key]=new Date(n[i.key].toString()));break;case"EntityReference":o=n;for(s in o)if(u={key:s,value:o[s]},u.key!=="@odata.context"&&(h=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2g5(u.key),!$0.$0(h))){f={};f.entityType=h.$y;f.id=u.value;n=f;break}}}return n},isActivityType:function(n){if(n==="activitypointer")return!0;var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:t.get_$7g()},openWebResource:function(n,t,i,r){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()){if($0.$0(n))throw Error.create("webResourceName must not be null.");var u=String.format("resizable=1,status=1,scrollbars=1,width={0},height={1},left=0,top=0",i,r),f=this.$2ZN(n,t);return window.open(f,"_blank",u)}return null},$2ZN:function(n,t){var r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),i=String.format("{0}/WebResources/{1}",r.context.getClientUrl(),CrmEncodeDecode.CrmUrlEncode(n));return $0.$0(t)||(i=String.format("{0}?Data={1}",i,CrmEncodeDecode.CrmUrlEncode(t))),i},alertDialog:function(n,t){var i=null,r;$0.$0(t)||(r=this,i=function(){return t()});Microsoft.Crm.Client.Core.ViewModels.$Q.$17u("",n,0,i)},confirmDialog:function(n,t,i){var r=null,u=null,f,e;$0.$0(t)||(f=this,r=function(){return t()});$0.$0(i)||(e=this,u=function(){return i()});Microsoft.Crm.Client.Core.ViewModels.$14.$17u("",n,0,r,u)},areStateTransitionsEnforced:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:t.$1KH&&t.$1F7},isEntityOfflineSyncEnabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$G6()?this.isAppOfflineSyncEnabled()&&n in Microsoft.Crm.Client.Core.Offline.$Y.get_$5D().get_$6a().$Ha&&!Microsoft.Crm.Client.Core.Offline.$Y.get_$5D().$142(n):!1;return t&&this.isActivityType(n)?"activitypointer"in Microsoft.Crm.Client.Core.Offline.$Y.get_$5D().get_$6a().$Ha:t},isEntityOfflineDisabled:function(n){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$G6()?this.isAppOfflineSyncEnabled()&&Microsoft.Crm.Client.Core.Offline.$Y.get_$5D().$142(n):!1},isOfflineDataStoreAvailable:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N().get_$5a().get_$4K()},isMocaOfflineFeatureEnabled:function(){return!Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$R7()||!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$G6()||$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$HO)?!1:Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$HO},isAppOfflineSyncEnabled:function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GG())?!1:Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().get_$F2()},isMocaOffline:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();return n.context.client.getClientState()!=="Online"&&n.context.client.getClient()==="Mobile"&&this.isMocaOfflineFeatureEnabled()},showHierarchyPage:function(){return},deleteRecord:function(n,t){var u=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M),f,i,r,e,o;return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Xrm.Utility.isEntityOfflineSyncEnabled(n)?(i={},i.entityName=n,i.entityId=t,r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("DeleteRecord",i),e=this,r.OnSuccess=function(n){var i=n,t=new Xrm.Sdk.Response;t.name=i.LogicalName;u.resolve(t)},o=this,r.OnFailure=function(n){var i=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M.$f9(n.$m),t=n.$JL;$0.$0(t)||Object.getType(t)!==Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P||(i.$5b=t);u.reject(i)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,r)):(f=new Xrm.AlertDialogStrings,f.text=Xrm.Internal.getResourceString("Error_Message_Generic_Mobile_Client_Offline"),Xrm.Internal.progress("",100,100,0),Xrm.Dialog.openAlertDialog(f,null,null)),u.promise()},executeNonCudCommand:function(n,t,i,r,u){var f={},e,o,s;f["CommandName"]=n;f["EntityName"]=t;f["NonCudRequest"]=i;e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("NonCud",f);o=this;e.OnSuccess=function(n){var t=n;r(t)};s=this;e.OnFailure=function(n){var t=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M(null,"",n.$F);u(t)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,e)},retrieveEntityRecord:function(n,t,i,r){var f={},u,e,o;f["Identifier"]=n;f["ColumnSet"]=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(t);u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEntityRecord",f);e=this;u.OnSuccess=function(n){i(n)};o=this;u.OnFailure=function(n){var t=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M(null,"",n.$F);r(t)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,u)},retrieveEntityCollection:function(n,t,i){var u={},r,f,e;u["KeyQuery"]=n;r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEntityCollection",u);f=this;r.OnSuccess=function(n){t(n)};e=this;r.OnFailure=function(n){var t=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M(null,"",n.$F);i(t)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,r)},getCurrentPosition:function(){var n=MscrmComponents.DeferredPromiseFactory(Position,Object),t,i,r,u;return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$249()?n.reject(null):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$1Z0()?(t={},t.code=0,t.message=Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094021),n.reject(t)):Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?(i=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().$jU(function(){if(navigator.geolocation){var t={};t.maximumAge=0;navigator.geolocation.getCurrentPosition(function(t){n.resolve(t)},function(t){t.message=Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094020);n.reject(t)},t)}else n.reject(null)})):(r=this,u=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Nz.getCurrentPosition(function(t){var i=JSON.parse(t);n.resolve(i)},function(t){var i={};i.code=t;i.message=Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094020);n.reject(i)},"GeolocationCode",new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions)),n.promise()},getBarcodeValue:function(){var n=MscrmComponents.DeferredPromiseFactory(String,String),t;return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$13v()?n.reject(null):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()?(t=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().$jU(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Nz.scanBarcode(function(t){n.resolve(t)},function(t){t!==1?n.reject(Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094019)):n.reject(null)},"ScanBarCode",new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions)})):n.reject(Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094021)),n.promise()},getDefaultTransactionCurrency:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$12j();return new Xrm.Objects.EntityReference("transactioncurrency",n.$Hv,n.$qf)},retrieveDefaultStatusForState:function(n,t){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(n,"statecode");return i.$6S.$21[t.toString()].$Xr},getEntityUrl:function(){return null},getResourceString:function(){return null},getValidStatusTransition:function(n,t,i,r,u){if(n!=="incident")throw Error.notImplemented();return Xrm.$73.getValidStatusTransition(t,i,r,u)},openDialog:function(n,t,i,r,u){Xrm.Internal.openDialog(n,t,i,r,u)},isOptimisticConcurrencyEnabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:t.$lQ},openRecord:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M),u,f,e;return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?("action"in i&&(i.action.toString()!=="update"||$0.$0(i._isSyncErrorRetryRequest)||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$hr=i._isSyncErrorRetryRequest.toString()),delete i.action),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(i.shouldOpenQuickCreate=!0),i=Xrm.XrmUtilityWrapper.$1VI(i),f=this,e=this,Xrm.XrmUtilityWrapper.openEntityFormInternal(n,t,i,function(){Xrm.XrmUtilityWrapper.$2Hs(i._isSyncErrorRetryRequest.toString(),function(){var t=new Xrm.Sdk.Response;t.name=n;r.resolve(t)})},function(n){r.reject(n)},null)):(u=new Xrm.AlertDialogStrings,u.text=Xrm.Internal.getResourceString("Error_Message_Generic_Mobile_Client_Offline"),Xrm.Dialog.openAlertDialog(u,null,null)),r.promise()},isVisibleInMobileClient:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&t.$KJ},isDocumentRecommendationsEnabledForEntity:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:t.$13y},lookupObjects:function(){throw Error.notImplemented("This is for use only in web client.");},getEntitySetName:function(){throw Error.notImplemented("This is for use only in web client.");},getGlobalContext:function(){throw Error.notImplemented("This is for use only in web client.");},refreshParentGrid:function(){throw Error.notImplemented("This is for use only in web client.");},getEntityMetadata:function(){throw Error.notImplemented("This is for use only in web client.");},getAllowedStatusTransitions:function(){throw Error.notImplemented("This is for use only in web client.");},showProgressIndicator:function(){throw Error.notImplemented("This is for use only in web client.");},closeProgressIndicator:function(){throw Error.notImplemented("This is for use only in web client.");},getLearningPathAttributeName:function(){return"data-lp-id"}};Xrm.XrmDialogWrapper=function(){Xrm.XrmDialogWrapper.initializeBase(this)};Xrm.XrmDialogWrapper.prototype={openAlertDialog:function(n,t,i){n=$0.$0(n)?new Xrm.AlertDialogStrings:n;var u=this,r=function(){i()};Microsoft.Crm.Client.Core.ViewModels.$Q.$17u("",n.text,0,$0.$0(i)?null:r,n.confirmButtonLabel,null,null,!1)},openConfirmDialog:function(n,t,i,r){n=$0.$0(n)?new Xrm.ConfirmDialogStrings:n;var e=this,u=function(){i()},o=this,f=function(){r()};Microsoft.Crm.Client.Core.ViewModels.$14.$17u(n.title,n.text,0,$0.$0(i)?null:u,$0.$0(r)?null:f,n.confirmButtonLabel,n.cancelButtonLabel,n.subtitle)},openDialog:function(n,t,i,r,u){var o=this,e=function(n,t){r(n,t)},f=new Microsoft.Crm.Client.Core.Commands.OpenDialogCommand(n,t,i,$0.$0(r)?null:e,u);f.execute();f.dispose()}};Xrm.XrmViewSelectorWrapper=function(n){Xrm.XrmViewSelectorWrapper.initializeBase(this);this.$U3=n};Xrm.XrmViewSelectorWrapper.prototype={$U3:null,setCurrentView:function(n){$0.$0(n)||$0.$0(this.$U3)||this.$U3.set_DefinitionId(n.id)},getCurrentView:function(){var n=new Xrm.LookupObject;return $0.$0(this.$U3)||(n.entityType=this.$U3.$9a===2?"userquery":"savedquery",n.id=this.$U3.get_DefinitionId(),n.name=this.$U3.$L),n},isVisible:function(){return $0.$0(this.$U3)?!1:this.$U3.$OA}};Xrm.$OU=function(n,t,i){Xrm.$OU.initializeBase(this);this.$5A=n;this.$1X=t;this.entity=i&&Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(t)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))?new Microsoft.Crm.Client.Core.ViewModels.$Mg(this.$5A,this.$1X):new Xrm.$OW(this.$5A,this.$1X)};Xrm.$OU.prototype={$5A:null,$1X:null};Xrm.$OV=function(n,t,i){Xrm.$OV.initializeBase(this);this.$5A=n;this.$51=t;this.$AR=i};Xrm.$OV.prototype={$51:null,$5A:null,$AR:null,getName:function(){return this.$AR},getParent:function(){return $0.$0(this.$51)?null:this.$51},getValue:function(){return this.$5A.GetValue(this.$AR)},getKey:function(){return this.$AR},addOnChange:function(){},fireOnChange:function(){},getAttributeType:function(){return null},getFormat:function(){return null},getIsDirty:function(){return!1},getIsValid:function(){return!1},isValid:function(){return this.getIsValid()},getRequiredLevel:function(){return null},getSubmitMode:function(){return null},getUserPrivilege:function(){return null},removeOnChange:function(){},resetInitialValue:function(){},setRequiredLevel:function(){},setSubmitMode:function(){},setValue:function(){}};Xrm.$OW=function(n,t){var i,r,e,u,s;if(Xrm.$OW.initializeBase(this),this.$5A=n,this.$1X=t,this.attributes=new Xrm.XrmEntityAttributes,Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(t)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents")))for(i=this.$1X,r=0;r<i.$Bm.length;r++)e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(i.$D,i.$Bm[r].name),$0.$0(e)||this.attributes.add(new Xrm.$OV(this.$5A,this,i.$Bm[r].name));else if(u=this.$1X.$iI_5,u)for(var o=u,h=o.length,f=0;f<h;++f)s=o[f],this.attributes.add(new Xrm.$OV(this.$5A,this,s))};Xrm.$OW.prototype={$5A:null,$1X:null,getEntityName:function(){return $0.$0(this.$5A)?"":this.$5A.$I.$a.TypeDisplayName},getId:function(){return $0.$0(this.$5A)?"":Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(this.$5A.$I.$a.Id.toString())},getPrimaryAttributeValue:function(){if(!$0.$0(this.$5A)){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$5A.$I.$a.LogicalName);if(!$0.$0(n))return this.$5A.$I.getValue(n.$59).toString()}return""},setRecordId:function(){},addOnSave:function(){},getDataXml:function(){return null},getIsDirty:function(){return!1},isInHierarchy:function(){return!1},removeOnSave:function(){},save:function(){},isValid:function(){return!1}};Xrm.$OI=function(n){Xrm.$OI.initializeBase(this);this.$1X=n};Xrm.$OI.prototype={$1X:null,canEnableFilters:function(){return!1},isFilterEnabled:function(){return!1}};Xrm.$OF=function(n,t,i){Xrm.$OF.initializeBase(this);this.$5A=n;this.$1X=t;this.data=new Xrm.$OU(this.$5A,this.$1X,i)};Xrm.$OF.prototype={$5A:null,$1X:null,getKey:function(){return Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(this.$5A.get_$2m())}};Type.registerNamespace("Mscrm.InternalUtilities");Mscrm.InternalUtilities.GridUtilities=function(){};Mscrm.InternalUtilities.GridUtilities.executeStandardAction=function(n,t,i,r,u,f){var o,l,e,a,s,y,p,v,h,c;if(Mscrm.InternalUtilities.JSTypes.isNull(t)||!t.length){Mscrm.InternalUtilities._Script.alert(Xrm.Internal.getResourceString("Error_Message_Action_NoItemSelected"));return}if(o=n.get_query().requestType,(o==="merge"||o==="associatechild")&&Xrm.Internal.isEnabledForInteractionCentric()){for(l=new Xrm.DialogOptions,e={},e.isMultiSelect=!1,e.shouldShowOnlyGrid=!0,e.entityName="incident",e.primaryAttribute="incidentid",e.isAssociate=!1,o==="associatechild"&&(e.isAssociate=!0),a=new Array(t.length),s=0;s<t.length;s++)a[s]=t[s].Id;e.recordIds=a;y=["title","customerid","prioritycode","createdon","statecode"];e.columnNames=y;p=[Xrm.Internal.getResourceString("InteractionCentric_Case_CaseTitle"),Xrm.Internal.getResourceString("InteractionCentric_Case_Customer"),Xrm.Internal.getResourceString("InteractionCentric_Case_Priority"),Xrm.Internal.getResourceString("InteractionCentric_Case_CreatedOn")];e.columnLabels=p;Xrm.Internal.setIsGridDialogContext(!0);o==="merge"?Xrm.Dialog.openDialog("MergeCase",l,e,u,null):Xrm.Dialog.openDialog("AssociateCase",l,e,u,null)}else{if(Mscrm.InternalUtilities.JSTypes.isNull(i)&&(i=400),Mscrm.InternalUtilities.JSTypes.isNull(r)&&(r=200),Mscrm.InternalUtilities.JSTypes.isNull(f)){for(v=new Array(t.length),h=0;h<t.length;h++)v[h]=t[h].Id;f=v}c=new Xrm.DialogOptions;c.height=r;c.width=i;Xrm.Internal.openDialog(n.toString(),c,f,null,u)}};Mscrm.InternalUtilities.GridUtilities.createCallbackFunctionFactory=function(n,t){return function(i){return t.unshift(i),n.apply(null,t)}};Mscrm.InternalUtilities.GridUtilities.generateStandardActionUri=function(n,t,i){var r=Mscrm.CrmUri.create(String.format("/_grid/cmds/dlg_{0}.aspx",CrmEncodeDecode.CrmUrlEncode(n)));return r.get_query().iObjType=t,r.get_query().iTotal=i,r};Mscrm.InternalUtilities.ClientApiUtility=function(){};Mscrm.InternalUtilities.ClientApiUtility.get_$2UC=function(){return Mscrm.InternalUtilities.ClientApiUtility.$7r||(Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.page.context"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["gridRow.getdata"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["gridrowdata.getentity"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.utility.alertdialog"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.utility.confirmdialog"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.utility.isactivitytype"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.utility.openentityform"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.utility.openquickcreate"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.utility.openwebresource"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.page.data.entity.save"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["entity.getdataxml"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.page.context.getquerystringparameters"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.page.context.gettimezoneOffsetminutes"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.page.context.getuserid"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.page.context.getuserlcid"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.page.context.getusername"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.page.context.getuserroles"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.page.context.getisautosaveenabled"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.page.context.getorglcid"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.page.context.getorguniquename"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r.addonkeypress=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r.removeonkeypress=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r.showautocomplete=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r.hideautocomplete=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.mobile.offline.retrieverecord"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.mobile.offline.createrecord"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.mobile.offline.updaterecord"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.mobile.offline.deleterecord"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.mobile.offline.retrievemultiplerecords"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.utility.getbarcodevalue"]=!0,Mscrm.InternalUtilities.ClientApiUtility.$7r["xrm.utility.getcurrentposition"]=!0),Mscrm.InternalUtilities.ClientApiUtility.$7r};Mscrm.InternalUtilities.ClientApiUtility.operationFailedCallback=function(n){var t=n.errorCode,i=n.message,r=n.debugMessage;Mscrm.InternalUtilities.ClientApiUtility.handleError(t,i,r)};Mscrm.InternalUtilities.ClientApiUtility.actionCompleteCallback=function(){};Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback=function(n){var t=n.$5b,i;Mscrm.InternalUtilities.JSTypes.isNull(t)||(i=t.$66,Mscrm.InternalUtilities.ClientApiUtility.handleError(i,n.get_message(),t.get_responseOuterXml(),t))};Mscrm.InternalUtilities.ClientApiUtility.handleError=function(n,t,i,r){var f="0x"+(n<0?4294967295+n+1:n).toString(16).toUpperCase(),u;if(f.startsWith("0x8004E1"))switch(f){case"0x8004E108":case"0x8004E121":case"0x8004E117":case"0x8004E123":case"0x8004E122":case"0x8004E113":t=Xrm.Internal.getErrorMessage(n);break;default:t=Xrm.Internal.getErrorMessage(-2147163904)}else switch(n){case-2147220891:case-2147204303:case-2146955251:case-2146955249:case-2146955250:case-2147157627:case-2147087968:case-2147088287:case-2147087986:break;default:u=Xrm.Internal.getErrorMessage(n);Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(u)||(t=u)}Xrm.Internal.openErrorDialog(n,t,i,r)};Mscrm.InternalUtilities.ClientApiUtility.$1VQ=function(n){try{var t={},i=Xrm.Utility.getGlobalContext();t.apiName=n;t.client=i.client.getClient();t.isDeprecating=Mscrm.InternalUtilities.ClientApiUtility.get_$2UC()[n.toLowerCase()]?!0:!1;t.userId=i.userSettings.userId;Xrm.Internal.addMetric("clientapi",t)}catch(r){}};Mscrm.InternalUtilities._Script=function(){};Mscrm.InternalUtilities._Script.isNullOrUndefined=function(n){return null===n||n===undefined};Mscrm.InternalUtilities._Script.alert=function(n){Microsoft.Crm.Client.Core.ViewModels.$Q.$17u("",n,0)};Mscrm.InternalUtilities._Script.confirm=function(n){return Microsoft.Crm.Client.Core.ViewModels.$14.$17u("",n,0),!1};Mscrm.InternalUtilities._Script.eval=function(n){return eval(n)};Mscrm.InternalUtilities._Script.prompt=function(){return""};Type.registerNamespace("Microsoft.Crm.Client.Core.Models");Microsoft.Crm.Client.Core.Models.$60=function(){this.$1EK=new Array(0)};Microsoft.Crm.Client.Core.Models.$60.$1Yp=function(n,t){return new Date(n,t,0).getDate()};Microsoft.Crm.Client.Core.Models.$60.prototype={$qy:0,$1Yn:0,$eQ:0,$Xo:0,$eP:null,$1ET:4,$Xi:null,$eN:null,$2Jb:function(n,t,i){if(i>=0&&i<5)this.$2Jv(n,t,i);else if(i===5)this.$2Js(n,t);else if(i===6)this.$2Jt(n,t);else{var r=new Microsoft.Crm.Client.Core.Models.$7u;r.FieldName=n;r.Value=t?Object.getType(t)===Xrm.Objects.EntityReference?t.Id.toString():Object.getType(t)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x?t.$1s.toString():t.toString():null;this.$1EK[this.$1EK.length]=r}},$2Js:function(n,t){if(this.$Xi)throw Error.create("only one Fiscal period aggregator is supported");else{if(!t)return;this.$Xi=new Microsoft.Crm.Client.Core.Models.$7v;this.$Xi.FiscalType="in-fiscal-period-and-year";this.$Xi.FieldName=n;var i=t.split("-");this.$Xi.Year=Number.parseInvariant(i[0]);this.$Xi.Period=Number.parseInvariant(i[1])}},$2Jt:function(n,t){if(this.$eN)throw Error.create("only one Fiscal year aggregator is supported");else this.$eN=new Microsoft.Crm.Client.Core.Models.$7w,this.$eN.FiscalType="in-fiscal-year",this.$eN.FieldName=n,this.$eN.Year=t},$2Jv:function(n,t,i){if(this.$eP){if(this.$eP!==n)throw Error.create("only one DateTime aggregator is supported");}else this.$eP=n;switch(i){case 0:this.$qy=t;break;case 1:this.$1Yn=t;break;case 2:this.$eQ=t;break;case 3:this.$eQ=3*t;break;case 4:this.$Xo=t;break;default:throw Error.create("not supported");}this.$1ET=Math.min(i,this.$1ET)},$2fZ:function(n,t){var i=new Date(t,0,1+(n-1)*7),r=i;return r.setDate(i.getDate()-i.getDay()),r},$2fV:function(){var i,n,t;if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.$eP==="scheduledend"&&!this.$Xo)return i=new Microsoft.Crm.Client.Core.Models.$6u,i.FieldName=this.$eP,i;if(!this.$eP||!this.$Xo)return null;n=new Microsoft.Crm.Client.Core.Models.$6u;n.FieldName=this.$eP;this.$qy=this.$qy?this.$qy:Microsoft.Crm.Client.Core.Models.$60.$1Yp(this.$Xo,this.$eQ);this.$eQ=this.$eQ?this.$eQ:12;n.MaxDate=new Date(this.$Xo,this.$eQ-1,this.$qy);switch(this.$1ET){case 0:n.MaxDate.setDate(n.MaxDate.getDate()+(n.MaxDate.getTimezoneOffset()<0?1:0));n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth(),n.MaxDate.getDate());break;case 1:t=this.$2fZ(this.$1Yn+1,this.$Xo);t.setDate(t.getDate()-1);n.MaxDate=t;n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth(),n.MaxDate.getDate()-6);n.MaxDate.getTimezoneOffset()<0&&(n.MaxDate.setDate(n.MaxDate.getDate()+1),n.MinDate.setDate(n.MinDate.getDate()+1));break;case 2:n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth()-1,Microsoft.Crm.Client.Core.Models.$60.$1Yp(this.$Xo,n.MaxDate.getMonth())+1);n.MaxDate.getTimezoneOffset()<0&&(n.MaxDate.setDate(n.MaxDate.getDate()+1),n.MinDate.setDate(n.MinDate.getDate()+1));break;case 3:n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth()-3,Microsoft.Crm.Client.Core.Models.$60.$1Yp(this.$Xo,n.MaxDate.getMonth()-2)+1);n.MaxDate.getTimezoneOffset()<0&&(n.MaxDate.setDate(n.MaxDate.getDate()+1),n.MinDate.setDate(n.MinDate.getDate()+1));break;case 4:n.MaxDate.setDate(n.MaxDate.getDate()+(n.MaxDate.getTimezoneOffset()<0?1:0));n.MinDate=new Date(n.MaxDate.getFullYear()-1,n.MaxDate.getMonth(),n.MaxDate.getDate()+1);break;default:throw Error.create("not supported");}return n},$2eI:function(){var n=this.$1EK,t=this.$2fV();return t&&(n=n.concat(t)),this.$Xi&&(n=n.concat(this.$Xi)),this.$eN&&(n=n.concat(this.$eN)),n}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$F6=function(){};Microsoft.Crm.Client.Core.ViewModels.$F6.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$F6");Microsoft.Crm.Client.Core.ViewModels.$5C=function(){};Microsoft.Crm.Client.Core.ViewModels.$5C.prototype={LinkArticle:0,UnlinkArticle:1,CopyLink:2,EmailArticle:3,EmailArticleContent:5};Microsoft.Crm.Client.Core.ViewModels.$5C.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$5C",!1);Microsoft.Crm.Client.Core.ViewModels.$F1=function(){};Microsoft.Crm.Client.Core.ViewModels.$F1.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$F1");Microsoft.Crm.Client.Core.ViewModels.$F2=function(){};Microsoft.Crm.Client.Core.ViewModels.$F2.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$F2");Microsoft.Crm.Client.Core.ViewModels.$F4=function(){};Microsoft.Crm.Client.Core.ViewModels.$F4.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$F4");Microsoft.Crm.Client.Core.ViewModels.$F3=function(){};Microsoft.Crm.Client.Core.ViewModels.$F3.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$F3");Microsoft.Crm.Client.Core.ViewModels.$M=function(){};Microsoft.Crm.Client.Core.ViewModels.$M.prototype={editForm:0,grid:1,createForm:2,homePage:3,offlineCreateForm:4,sortGrid:5,offlineInitialSync:6,offlineIncrementalSync:7,icDashboardCsrOne:8,icDashboardCsrTwo:9,icForm:10,icNavBar:11,icCaseForm:12,offlineSearchForm:13,offlineUpdateForm:14,offlineDeleteForm:15,offlineRetrieveForm:16,upSync:17,taskBasedFlow:18,chartDrilldown:19,searchForm:20,gridRefresh:21,listRefresh:22,createRecord:23,updateRecord:24,documentRecommendationsDialogOpen:25};Microsoft.Crm.Client.Core.ViewModels.$M.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$M",!1);Microsoft.Crm.Client.Core.ViewModels.$3o=function(){};Microsoft.Crm.Client.Core.ViewModels.$3o.prototype={dateRangeApply:0,openFilterPanel:1,applyPiePriorityHigh:2,clickQueuePanelItem:3,switchTilesView:4,switchPanelsView:5,globalFilterApplyPriority:6,dashboardPicker:7,clickTileViewItem:8,backFromEntityForm:9,openQuickActionsQueuePanel:10};Microsoft.Crm.Client.Core.ViewModels.$3o.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$3o",!1);Microsoft.Crm.Client.Core.ViewModels.$45=function(){};Microsoft.Crm.Client.Core.ViewModels.$45.prototype={openCaseEntityGrid:0,openCaseEntityRecordFromGrid:1,clickMruButton:2,clickQuickCreateButton:3,openQuickCreateForm:4,saveQuickCreateFormAccount:5,saveQuickCreateFormTask:6,openRecordsFromMru:7,clickAssociativeButton:8,openAssociativeViewItem:9};Microsoft.Crm.Client.Core.ViewModels.$45.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$45",!1);Microsoft.Crm.Client.Core.ViewModels.$3Y=function(){};Microsoft.Crm.Client.Core.ViewModels.$3Y.prototype={openAccountEntityGrid:0,openAccountEntityDashboard:1,openAccountEntityRecordFromGrid:2,openAccountEntityRecordFromDashboard:3,openCaseEntityGrid:4,openCaseEntityDashboard:5,openCaseEntityRecordFromGrid:6,openCaseEntityRecordFromDashboard:7,openContactEntityGrid:8,openContactEntityDashboard:9,openContactEntityRecordFromGrid:10,openContactEntityRecordFromDashboard:11};Microsoft.Crm.Client.Core.ViewModels.$3Y.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$3Y",!1);Microsoft.Crm.Client.Core.ViewModels.$2w=function(){};Microsoft.Crm.Client.Core.ViewModels.$2w.prototype={createCaseFromQuickCreateForm:0,openCreateChildFormCommandBar:1,saveCreateChildFormCommandBar:2,accountFormReferencePanelOpenOpportunitiesTab:3,accountFormReferencePanelOpenEntitlementsTab:4,caseFormReferencePanelOpenEntitlementsTab:5,contactFormReferencePanelOpenOpportunitiesTab:6,contactFormReferencePanelOpenEntitlementsTab:7,interactionWallAddTask:8,interactionWallApplyDateRangeFilter:9,interactionWallSearchText:10,interactionWallSearchFilteredText:11,businessProcessNextStage:12,resolveCaseCascadeCommandBar:13,resolveCaseNoCascadeCaseGrid:14,cancelCaseCascadeCaseGrid:15};Microsoft.Crm.Client.Core.ViewModels.$2w.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$2w",!1);Microsoft.Crm.Client.Core.ViewModels.$Ce=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ce.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ce");Microsoft.Crm.Client.Core.ViewModels.$Ci=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ci.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ci");Microsoft.Crm.Client.Core.ViewModels.$9i=function(){};Microsoft.Crm.Client.Core.ViewModels.$9i.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$9i");Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowArgument=function(n,t,i){this.Name=n;this.Direction=t;this.DefaultValue=i};Microsoft.Crm.Client.Core.ViewModels.$DI=function(){Microsoft.Crm.Client.Core.ViewModels.$DI.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DI.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("KbSearchResultFooter",Microsoft.Crm.Client.Core.ViewModels.$DI)};Microsoft.Crm.Client.Core.ViewModels.$DI.prototype={$CI:null,get_KbSearchControl:function(){return this.$CI},set_KbSearchControl:function(n){return this.$CI=n,n}};Microsoft.Crm.Client.Core.ViewModels.$DK=function(){Microsoft.Crm.Client.Core.ViewModels.$DK.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DK.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("KbSearchResult",Microsoft.Crm.Client.Core.ViewModels.$DK)};Microsoft.Crm.Client.Core.ViewModels.$DK.prototype={Article:null,$CI:null,get_KbSearchControl:function(){return this.$CI},set_KbSearchControl:function(n){return this.$CI=n,n},$2Li:function(){$0.$0(this.Article)||(this.Article.$W4="",$0.$0(this.$CI))||!$0.$0(this.$CI.$oe)&&this.$CI.$oe&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$CI.$dT)&&this.$CI.$dT in this.Article.$ok&&(this.Article.$W4=this.Article.$ok[this.$CI.$dT].toString())},IsAssociated:function(){return Microsoft.Crm.Client.Core.ViewModels.$l.$1J5(this.Article,this.$CI)},get_AlreadyAssociatedText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchKMArticles.AlreadyAssociated"),Microsoft.Crm.Client.Core.ViewModels.$l.$12e())},get_SearchResultActionsDropdownViewModel:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.PropertyDescriptor)),t,i;return n.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("KbSearchControl",this.$CI)),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("SearchResultActionsDropdownViewModel","ActionMenu","ActionMenu",n.toArray(),null,null),i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(t,this.get_ModelContext(),this.$2i,this.$2),i},get_kbSearchResultLegendsViewModel:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("KbSearchResultLegendsViewModel","KbSearchResultLegends","KbSearchResultLegends",null,null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2)},get_AssociatedText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchKMArticles.Associated"),Microsoft.Crm.Client.Core.ViewModels.$l.$12e())}};Microsoft.Crm.Client.Core.ViewModels.$3W=function(){};Microsoft.Crm.Client.Core.ViewModels.$3W.$$cctor=function(){$0.$0(Microsoft.Crm.Client.Core.ViewModels.$3W.$8t)&&(Microsoft.Crm.Client.Core.ViewModels.$3W.$8t=new Microsoft.Crm.Client.Core.ViewModels.$3W)};Microsoft.Crm.Client.Core.ViewModels.$3W.$2ff=function(n){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?n.$jm:n.$qW};Microsoft.Crm.Client.Core.ViewModels.$3W.prototype={$1MT:function(n,t,i,r,u,f){var e=new Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand(null,n,5,t);e.$8e=i;e.$J2=f;$0.$0(r)||(e.$J=r);$0.$0(u)||(e.$1b=u);e.execute();e.dispose()},$2Ck:function(n,t){var i;switch(n){case"saveandnew":i=t.$qU;break;case"saveandclose":i=t.$jl;break;default:i=Microsoft.Crm.Client.Core.ViewModels.$3W.$2ff(t)}i.execute()},$3Ap:function(){}};Microsoft.Crm.Client.Core.ViewModels.$51=function(){};Microsoft.Crm.Client.Core.ViewModels.$51.$$cctor=function(){$0.$0(Microsoft.Crm.Client.Core.ViewModels.$51.$8t)&&(Microsoft.Crm.Client.Core.ViewModels.$51.$8t=new Microsoft.Crm.Client.Core.ViewModels.$51)};Microsoft.Crm.Client.Core.ViewModels.$51.prototype={$22O:function(){return!0}};Microsoft.Crm.Client.Core.ViewModels.$Bv=function(n,t,i,r){this.$1cB=this.getFocus;this.$1lK=this.setHasFocus;this.$Ut=this.resetInitial;Microsoft.Crm.Client.Core.ViewModels.$Bv.initializeBase(this);this.$6L=t;this.$At=n;this.$51=r;this.$2=n.$2;this.$Ac=new Microsoft.Crm.Client.Core.ViewModels.$Ho};Microsoft.Crm.Client.Core.ViewModels.$Bv.prototype={$6L:null,$At:null,$93:null,$51:null,$2:null,$Ac:null,get_$8D:function(){return $0.$0(this.$93)?null:this.$93.$1J},get_$1Ni:function(){return $0.$0(this.$93)?null:this.$93.$2x},$Fh:function(n,t){$0.$0(this.$93)||this.$93.$Fh(n,t)},get_$PD:function(){if($0.$0(this.$At)){if(!$0.$0(this.$93))return this.$93.get_$PD()}else return this.$At.$1cS();return null},$2K5:function(n){this.$93=n},resetInitial:function(){this.$At.$PH();this.$93.resetInitial();this.$At.$w.$AY().$Ut();this.$At.$w.$7("PropertiesUpdated")},$1bt:function(n){return!$0.$0(this.$2)&&!$0.$0(this.$2.$5k)&&!$0.$0(this.$2.$5k.data)?this.$2.$5k.data.entity.attributes.get(n):null},getAttribute:function(){return this.$1bt(this.get_$PD())},getAttributes:function(){return this.$93.getAttributes()},getControlType:function(){return this.$93.getControlType()},getDisabled:function(){return!this.$At.get_Enabled()},getLabel:function(){return this.$At.$1G},getName:function(){return this.$At.$L},getKey:function(){return this.$6L},getParent:function(){return this.$51},getVisible:function(){return this.$At.$4u},setDisabled:function(n){this.$At.set_Enabled(!n);this.$93.setDisabled(n)},validateControl:function(n){var t,i,u,o,f,s;if($0.$0(n))return!1;t=null;for(var e=this.$Ac.getNotifications(null),h=e.length,r=0;r<h;++r){if(i=e[r],i.notificationLevel!=="ERROR"){t=i;continue}if(i.messages.length)return u=i.messages[0],o=u?u.toString():new String,n.set_$KO(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,o,i.uniqueId,"ERROR")),n.set_$ve(null),!1}return $0.$0(t)?n.set_$KO(null):(f=t.messages[0],s=f?f.toString():new String,n.set_$KO(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!0,null,s,t.uniqueId,"RECOMMENDATION")),n.set_$ve(t)),!0},setFocus:function(){var n,t;this.$2.$5k.ui.removeCurrentControlFocus();Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()&&(n=this.getParent(),$0.$0(n)||(t=n.getParent(),$0.$0(t)||t.setFocus()));this.setHasFocus(!0)},setLabel:function(n){this.$At.set_Label(n);this.$93.setLabel(n)},setVisible:function(n){this.$At.set_Visible(n);this.$93.setVisible(n)},setNotification:function(n,t){if(Microsoft.Crm.Client.Core.Framework.$3.$12(n))return!1;var i=new Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification("ERROR",n,t);return this.addNotification(i)},addNotification:function(n){return $0.$0(n)||!this.$At||!Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$At)?!1:(this.$Ac.addNotification(n),this.validateControl(this.$At),!0)},clearNotification:function(n){return!this.$At||!Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$At)?!1:this.$Ac.clearNotification(n)?(this.validateControl(this.$At),!0):!1},clearNotifications:function(){return!this.$At||!Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$At)?!1:this.$Ac.clearNotifications()?(this.validateControl(this.$At),!0):!1},getFocus:function(){return this.$At.$5R},setHasFocus:function(n){this.$At.set_HasFocus(n);this.$93.setHasFocus(n)},addCustomView:function(n,t,i,r,u,f){this.$93.addCustomView(n,t,i,r,u,f)},getDefaultView:function(){return this.$93.getDefaultView()},setDefaultView:function(n){this.$93.setDefaultView(n)},addCustomFilter:function(n,t){this.$93.addCustomFilter(n,t)},addPreSearch:function(n){this.$93.addPreSearch(n)},removePreSearch:function(n){this.$93.removePreSearch(n)},addOption:function(n,t){this.$93.addOption(n,t)},getOptions:function(){return this.$93.getOptions()},clearOptions:function(){this.$93.clearOptions()},removeOption:function(n){this.$93.removeOption(n)},getShowTime:function(){return this.$93.getShowTime()},setShowTime:function(n){this.$93.setShowTime(n)}};Microsoft.Crm.Client.Core.ViewModels.$Bx=function(n,t,i,r,u){this.$1cB=this.getFocus;this.$1lK=this.setHasFocus;this.$Ut=this.resetInitial;Microsoft.Crm.Client.Core.ViewModels.$Bx.initializeBase(this);this.$Jp=n.$XC;this.$6L=i;this.$Fh(n,t);this.$51=u;this.$2=n.$2;this.$Ac=new Microsoft.Crm.Client.Core.ViewModels.$Ho};Microsoft.Crm.Client.Core.ViewModels.$Bx.prototype={$6L:null,$2x:null,$1J:null,$51:null,$2:null,$Jp:0,$Ac:null,get_$PD:function(){return $0.$0(this.$96())?null:this.$96().$1cS()},get_$8D:function(){return this.$1J},get_$1Ni:function(){return this.$2x},$Fh:function(n,t){t?(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(n)&&n.$XC===2&&(this.$2x=n),this.$1J=n):this.$2x=n},resetInitial:function(){$0.$0(this.$2x)||this.$2x.$PH();$0.$0(this.$1J)||this.$1J.$PH();this.$96().$w.$AY().$Ut();this.$96().$w.$7("PropertiesUpdated")},$96:function(){var n=this.$1J;return this.$Jp&&this.$Jp!==2||$0.$0(this.$2x)||(n=this.$2x),n},$1bt:function(n){return!$0.$0(this.$2)&&!$0.$0(this.$2.$5k)&&!$0.$0(this.$2.$5k.data)?this.$2.$5k.data.entity.attributes.get(n):null},getAttribute:function(){return this.$1bt(this.$96().$1cS())},getAttributes:function(){for(var r,u=this.$96().$w.$2eo(),t=new Array(0),i=u,f=i.length,n=0;n<f;++n)r=i[n],t.push(this.$1bt(r));return t},getControlType:function(){return"customcontrol:"+this.$96().$Gr},getDisabled:function(){return!$0.$0(this.$2x)&&this.$2x.get_Enabled()?!1:!0},getLabel:function(){return $0.$0(this.$1J)?this.$2x.$1G:this.$1J.$1G},getName:function(){return $0.$0(this.$96())?"":this.$96().$L},getKey:function(){return this.$6L},getParent:function(){return this.$51},getVisible:function(){return!$0.$0(this.$1J)&&this.$1J.$4u||!$0.$0(this.$2x)&&this.$2x.$4u?!0:!1},setDisabled:function(n){$0.$0(this.$1J)||this.$1J.set_Enabled(!n);$0.$0(this.$2x)||this.$2x.set_Enabled(!n)},validateControl:function(n){var t,i,u,o,f,s;if($0.$0(n))return!1;t=null;for(var e=this.$Ac.getNotifications(null),h=e.length,r=0;r<h;++r){if(i=e[r],i.notificationLevel!=="ERROR"){t=i;continue}if(i.messages.length)return u=i.messages[0],o=u?u.toString():new String,n.set_$KO(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,o,i.uniqueId,"ERROR")),n.set_$ve(null),!1}return $0.$0(t)?n.set_$KO(null):(f=t.messages[0],s=f?f.toString():new String,n.set_$KO(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!0,null,s,t.uniqueId,"RECOMMENDATION")),n.set_$ve(t)),!0},setFocus:function(){var n,t;this.$2.$5k.ui.removeCurrentControlFocus();Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()&&(n=this.getParent(),$0.$0(n)||(t=n.getParent(),$0.$0(t)||t.setFocus()));this.setHasFocus(!0)},setLabel:function(n){$0.$0(this.$1J)||this.$1J.set_Label(n);$0.$0(this.$2x)||this.$2x.set_Label(n)},setVisible:function(n){$0.$0(this.$1J)||this.$1J.set_Visible(n);$0.$0(this.$2x)||this.$2x.set_Visible(n)},setNotification:function(n,t){if(Microsoft.Crm.Client.Core.Framework.$3.$12(n))return!1;var i=new Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification("ERROR",n,t);return this.addNotification(i)},addNotification:function(n){return $0.$0(n)||!this.$1J||!Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$1J)?!1:(this.$Ac.addNotification(n),this.validateControl(this.$1J),!0)},clearNotification:function(n){return!this.$1J||!Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$1J)?!1:Microsoft.Crm.Client.Core.Framework.$3.$12(n)?this.clearNotifications():this.$Ac.clearNotification(n)?(this.validateControl(this.$1J),!0):!1},clearNotifications:function(){return!this.$1J||!Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$1J)?!1:this.$Ac.clearNotifications()?(this.validateControl(this.$1J),!0):!1},getFocus:function(){return!$0.$0(this.$1J)&&Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$1J)&&Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$2x)?this.$1J.get_HasFocus()||this.$2x.get_HasFocus():!$0.$0(this.$1J)&&Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$1J)?this.$1J.get_HasFocus():Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$2x)?this.$2x.get_HasFocus():!1},setHasFocus:function(n){!$0.$0(this.$1J)&&Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$1J)&&this.$1J.set_HasFocus(n);Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$2x)&&this.$2x.set_HasFocus(n)},addCustomView:function(n,t,i,r,u,f){if(this.$96().$w.$AY().$AW.toLowerCase().startsWith("lookup")&&!this.$Jp){var e=new Microsoft.Crm.Client.Core.Framework.Guid(n),o=new Microsoft.Crm.Client.Core.Models.$7F(e,Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(r),u,t);this.$1J.$qs[e.toString()]=o;f&&this.$1J.$1Pq(e)}},getDefaultView:function(){if(!this.$96().$w.$AY().$AW.toLowerCase().startsWith("lookup"))return"";if(!this.$Jp){var n=this.$1J.$O7;return n===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?null:Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(n)}return null},setDefaultView:function(n){this.$96().$w.$AY().$AW.toLowerCase().startsWith("lookup")&&(this.$Jp||this.$1J.$1Pq(new Microsoft.Crm.Client.Core.Framework.Guid(n)))},addCustomFilter:function(n,t){this.$96().$w.$AY().$AW.toLowerCase().startsWith("lookup")&&(this.$Jp||this.$1J.$1ou(n,t))},addPreSearch:function(n){var t,r,i,u;this.$96().$w.$AY().$AW.toLowerCase().startsWith("lookup")&&(this.$Jp||(t=new Microsoft.Crm.Client.Core.Models.Constants.$JV,t.method=n,t.passExecutionContext=!0,r=this.$1J.$Rf,$0.$0(r)?(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV))([t]),i=new Microsoft.Crm.Client.Core.Models.$JM(u,null),i.details=new Microsoft.Crm.Client.Core.Models.$J7(4,this.get_$PD())):(i=this.$1DN(r),i.handlers.add(t)),this.$1J.set_$16H(i)))},removePreSearch:function(n){var t,i,r;if(this.$96().$w.$AY().$AW.toLowerCase().startsWith("lookup")&&!this.$Jp&&(t=this.$1J.$Rf,!$0.$0(t)&&!$0.$0(t.handlers)))for(i=0;i<t.handlers.get_Count();i++)if(t.handlers.get_$R(i).method===n){r=this.$1DN(t);r.handlers.remove(r.handlers.get_$R(i));this.$1J.set_$16H(r);break}},$1DN:function(n){var t=new Microsoft.Crm.Client.Core.Models.$JM(n.handlers,n.eventArgs,n.$11C,n.$11D,n.scriptsToLoad,n.details);return t.$Op=n.$Op,t.$Oq=n.$Oq,t},$sQ:function(){var t=this.getAttribute(),n;return!$0.$0(t)&&(n=t.$fS(),!$0.$0(n.$2f))?n.$2f.$J0:null},addOption:function(n,t){if(this.$96().$w.$AY().$AW.toLowerCase()==="optionset"){if(!this.$Jp){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)){var i=this.$sQ();$0.$0(i)||i.$zi(n.text,n.value)}this.$1J.$zi(new Microsoft.Crm.Client.Core.ViewModels.$Bm(n.value.toString(),n.text),t)}this.$96().$w.$AY().$zi(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x(n.text,n.value,-1,-1,null,null,null),t);this.$96().$w.$7("PropertiesUpdated")}},getOptions:function(){return null},clearOptions:function(){if(this.$96().$w.$AY().$AW.toLowerCase()==="optionset"){if(!this.$Jp){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)){var n=this.$sQ();$0.$0(n)||n.$10Z()}this.$1J.$10Z()}this.$96().$w.$AY().$10Z();this.$96().$w.$7("PropertiesUpdated")}},removeOption:function(n){if(this.$96().$w.$AY().$AW.toLowerCase()==="optionset"){if(!this.$Jp){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)){var t=this.$sQ();$0.$0(t)||t.$16r(n)}this.$1J.$16r(n)}this.$96().$w.$AY().$16r(n);this.$96().$w.$7("PropertiesUpdated")}},getShowTime:function(){return this.$96().$w.$AY().$AW.toLowerCase().startsWith("dateandtime")?this.$96().$w.$AY().$2jE():!1},setShowTime:function(n){this.$96().$w.$AY().$AW.toLowerCase().startsWith("dateandtime")&&(this.$Jp||this.$1J.set_ShowTime(n),this.$96().$w.$AY().$37h(n),this.$96().$w.$7("PropertiesUpdated"))}};Microsoft.Crm.Client.Core.ViewModels.$Rp=function(n,t,i,r,u){this.$$d_$31f=Function.createDelegate(this,this.$31f);Microsoft.Crm.Client.Core.ViewModels.$Rp.initializeBase(this,[n,t,i,r,u]);this.$vs=!0};Microsoft.Crm.Client.Core.ViewModels.$Rp.prototype={$vs:!1,$Li:null,get_$Fl:function(){return $0.$0(this.$Li)&&(this.$Li=this.get_$v9().$H[this.$10V],this.$Li.AddPropertyChangedListener("ChildComponent",this.$$d_$31f)),this.$Li},get_$EH:function(){var n,t;return(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!$0.$0(this.get_$Fl().$Cq)&&this.get_$Fl().$Cq.TypeName==="CustomControlHostView"&&!$0.$0(this.get_$Fl().$2e.$w)&&!$0.$0(this.get_$Fl().$2e.$w.$BG)?(n=this.get_$Fl().$2e.$w.$BG,new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(n.$j)):(this.$vs&&($0.$0(this.get_$Fl().$Cq)?this.$Dh=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(null):this.get_$Fl().$Cq.TypeName==="CustomControlHostView"?$0.$0(this.get_$Fl().$2e.$w)?this.$Dh=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(null):(this.$Dh=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(null),t=this.get_$Fl().$2e.$w.GetPrimaryDataSet(),this.$Dh=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(t.$j),this.$vs=!1):(this.$Dh=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(this.get_$Fl().$2e),this.$vs=!1)),this.$Dh)},addOnLoad:function(n){$0.$0(this.get_$Fl().$Cq)||this.get_$EH().addOnLoad(n)},removeOnLoad:function(n){$0.$0(this.get_$Fl().$Cq)||this.get_$EH().removeOnLoad(n)},$31f:function(){this.$vs=!0},getControlType:function(){return!$0.$0(this.get_$Fl().$Cq)&&this.get_$Fl().$Cq.TypeName==="CustomControlHostView"?"customsubgrid:"+this.$96().$Gr:"subgrid"},$96:function(){return!$0.$0(this.get_$Fl().$Cq)&&this.get_$Fl().$Cq.TypeName==="CustomControlHostView"?this.get_$Fl().$2e:null},$5E:function(){$0.$0(this.$Li)||this.$Li.RemovePropertyChangedListener("ChildComponent",this.$$d_$31f)}};Microsoft.Crm.Client.Core.ViewModels.$Mi=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Mi.initializeBase(this);this.$1X=n;this.$51=t;this.$2H=i;var u=i.split(":");this.$y=u[2];this.$2f=r;this.controls=new Xrm.XrmControls;$0.$0(this.get_$Eo())||this.get_$Eo().isHidden||this.controls.add(new Microsoft.Crm.Client.Core.ViewModels.$RX(this.$1X,this))};Microsoft.Crm.Client.Core.ViewModels.$Mi.prototype={$1X:null,$51:null,$y:null,$2f:null,$2H:null,$Fn:null,$eJ:null,$eI:null,get_$5q:function(){if($0.$0(this.$Fn)){var n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$l0(this.$1X.$2,this.$1X);$0.$0(n)||$0.$0(n.$2e)||(this.$Fn=n.$2e)}return this.$Fn},get_$8w:function(){if($0.$0(this.$eJ)&&!$0.$0(this.get_$5q())&&!$0.$0(this.get_$5q().$w)&&!$0.$0(this.get_$5q().$w.$BG)&&!$0.$0(this.get_$5q().$w.$BG.getSelectedRecord())){var n=this.get_$5q().$w.$BG;this.$eJ=n.getSelectedRecord()}return this.$eJ},get_$Eo:function(){var i,t;if($0.$0(this.$eI)&&!$0.$0(this.get_$5q())&&!$0.$0(this.get_$5q().$w)&&!$0.$0(this.get_$5q().$w.$BG)&&!$0.$0(this.get_$5q().$w.$BG.$j)){i=this.get_$5q().$w.$BG;for(var r=i.$j.$Bm,u=r.length,n=0;n<u;++n)if(t=r[n],t.name===this.getName()){this.$eI=t;break}}return this.$eI},addOnChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1VG(this.$2H,n)},fireOnChange:function(){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1P2(null,this.$2H)},getAttributeType:function(){return $0.$0(this.$2f)?"unknown":Xrm.Objects.AttributeType.toString(this.$2f.get_$jM()).toLowerCase()},getFormat:function(){return!$0.$0(this.$2f)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$2f.get_$IY())?this.$2f.get_$IY().toLowerCase():null},getIsDirty:function(){var n=!1;return $0.$0(this.get_$8w())||(n=this.get_$8w().isDirty()),n},getIsValid:function(){return!0},isValid:function(){return this.getIsValid()},getName:function(){return this.$y},getKey:function(){return this.getName()},getParent:function(){return this.$51},getRequiredLevel:function(){var n="none",t;if(!$0.$0(this.get_$8w())){t=this.get_$8w().$32W(this.getName());switch(t){case 0:n="none";break;case 3:n="recommended";break;case 2:n="required"}}return n},getSubmitMode:function(){if(!$0.$0(this.get_$8w())){var n=this.get_$8w().$18;if(n.$bx.$3F5(this.getName()))return n.$bx.get_$R(this.getName())}return this.$2f.get_$1f2()?"dirty":"never"},getUserPrivilege:function(){if(!$0.$0(this.get_$8w())){var n=this.get_$8w().$18.$I;return new Xrm.FormDataAttributePrivilege(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1br(this.$2f.$1l,n))}return null},getValue:function(){var n,t,i,r;if(!$0.$0(this.get_$8w())&&!$0.$0(this.get_$Eo())){if(n=null,this.get_$Eo().dataType.toLowerCase()==="twooptions")switch(this.get_$8w().getValue(this.getName())){case 1:n=!0;break;case 0:n=!1}else this.get_$Eo().dataType.toLowerCase()==="lookup.partylist"||(this.get_$Eo().dataType.toLowerCase()==="lookup.simple"||this.get_$Eo().dataType.toLowerCase()==="lookup.customer"||this.get_$Eo().dataType.toLowerCase()==="lookup.owner"||this.get_$Eo().dataType.toLowerCase()==="lookup.regarding"?(t=this.get_$8w().getValue(this.getName()),$0.$0(t)||(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem)),r=new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(t.LogicalName,t.get_identifier(),t.Name),i.add(r),n=i.toArray())):n=this.get_$8w().getValue(this.getName()));return n}return null},removeOnChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$2BJ(this.$2H,n)},resetInitialValue:function(){},setRequiredLevel:function(n){if(!$0.$0(this.get_$8w())){var t;switch(n){case"none":t=0;break;case"recommended":t=3;break;case"required":t=2;break;default:return}this.get_$8w().setFieldRequiredLevel(this.getName(),t)}},setSubmitMode:function(n){var i,t;if((n==="always"||n==="never"||n==="dirty")&&!$0.$0(this.get_$8w())){if(i=this.get_$8w().$18,i.$bx.set_$R(this.getName(),n),t=i.get_$1Wp(),n==="never"&&t.contains(this.getName())){t.remove(this.getName());return}n!=="always"||t.contains(this.getName())||t.add(this.getName())}},setValue:function(n){var t;if(!$0.$0(this.get_$8w())&&!$0.$0(this.get_$Eo()))if(this.get_$Eo().dataType.toLowerCase()==="twooptions")this.get_$8w().setValue(this.getName(),n?1:0);else if(this.get_$Eo().dataType.toLowerCase()!=="lookup.partylist")if(this.get_$Eo().dataType.toLowerCase()==="lookup.simple"||this.get_$Eo().dataType.toLowerCase()==="lookup.customer"||this.get_$Eo().dataType.toLowerCase()==="lookup.owner"||this.get_$Eo().dataType.toLowerCase()==="lookup.regarding")if($0.$0(n))this.get_$8w().setValue(this.getName(),null);else if(t=n,t.length){var i=t[0],r=new Microsoft.Crm.Client.Core.Framework.Guid(i.id),u=new Xrm.Objects.EntityReference(i.entityType,r,i.name);this.get_$8w().setValue(this.getName(),u)}else this.get_$8w().setValue(this.getName(),null);else this.get_$8w().setValue(this.getName(),n)}};Microsoft.Crm.Client.Core.ViewModels.$R8=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$R8.initializeBase(this);this.$U=new Microsoft.Crm.Client.Core.ViewModels.$Mi(n,t,i,r);this.$2f=r;this.controls=this.$U.controls};Microsoft.Crm.Client.Core.ViewModels.$R8.prototype={$U:null,$2f:null,getInitialValue:function(){return 0},getOption:function(n){if($0.$1Y(n))return null;if(!$0.$0(this.$2f)){var t=this.$2f.$J0.$21.get_$R(n.toString());if(!$0.$0(t))return new Xrm.OptionSetItem(t.get_$29(),t.get_$F6())}return null},getOptions:function(){var n,u,t;if(!$0.$0(this.$2f)){var f=this.$2f.$J0.$21.$1RT(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.OptionSetItem)),r=f;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Xrm.OptionSetItem(t.get_$29(),t.get_$F6()));return i.toArray()}return null},getSelectedOption:function(){return $0.$0(this.getValue())?null:this.getOption(this.getValue()?1:0)},getText:function(){var n=this.getSelectedOption();return $0.$0(n)?"":n.text},addOnChange:function(n){this.$U.addOnChange(n)},fireOnChange:function(){this.$U.fireOnChange()},getAttributeType:function(){return this.$U.getAttributeType()},getFormat:function(){return this.$U.getFormat()},getIsDirty:function(){return this.$U.getIsDirty()},getIsValid:function(){return this.$U.getIsValid()},isValid:function(){return this.getIsValid()},getName:function(){return this.$U.getName()},getKey:function(){return this.$U.getKey()},getParent:function(){return this.$U.getParent()},getRequiredLevel:function(){return this.$U.getRequiredLevel()},getSubmitMode:function(){return this.$U.getSubmitMode()},getUserPrivilege:function(){return this.$U.getUserPrivilege()},getValue:function(){return this.$U.getValue()},removeOnChange:function(n){this.$U.removeOnChange(n)},resetInitialValue:function(n){this.$U.resetInitialValue(n)},setRequiredLevel:function(n){this.$U.setRequiredLevel(n)},setSubmitMode:function(n){this.$U.setSubmitMode(n)},setValue:function(n){this.$U.setValue(n)}};Microsoft.Crm.Client.Core.ViewModels.$R7=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$R7.initializeBase(this);this.$U=new Microsoft.Crm.Client.Core.ViewModels.$Mi(n,t,i,r);this.$2f=r;this.controls=this.$U.controls};Microsoft.Crm.Client.Core.ViewModels.$R7.prototype={$U:null,$2f:null,getInitialValue:function(){return 0},getOption:function(n){if($0.$1Y(n))return null;if(!$0.$0(this.$2f)){var t=this.$2f.$J0.$21.get_$R(n.toString());if(!$0.$0(t))return new Xrm.OptionSetItem(t.get_$29(),t.get_$F6())}return null},getOptions:function(){var n,u,t;if(!$0.$0(this.$2f)){var f=this.$2f.$J0.$21.$1RT(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.OptionSetItem)),r=f;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Xrm.OptionSetItem(t.get_$29(),t.get_$F6()));return i.toArray()}return null},getSelectedOption:function(){return $0.$0(this.getValue())?null:this.getOption(this.getValue())},getText:function(){var n=this.getSelectedOption();return $0.$0(n)?"":n.text},getInvariantText:function(){return""},addOption:function(){},removeOption:function(){},clearOptions:function(){},addOnChange:function(n){this.$U.addOnChange(n)},fireOnChange:function(){this.$U.fireOnChange()},getAttributeType:function(){return this.$U.getAttributeType()},getFormat:function(){return this.$U.getFormat()},getIsDirty:function(){return this.$U.getIsDirty()},getIsValid:function(){return this.$U.getIsValid()},isValid:function(){return this.getIsValid()},getName:function(){return this.$U.getName()},getKey:function(){return this.$U.getKey()},getParent:function(){return this.$U.getParent()},getRequiredLevel:function(){return this.$U.getRequiredLevel()},getSubmitMode:function(){return this.$U.getSubmitMode()},getUserPrivilege:function(){return this.$U.getUserPrivilege()},getValue:function(){return this.$U.getValue()},removeOnChange:function(n){this.$U.removeOnChange(n)},resetInitialValue:function(n){this.$U.resetInitialValue(n)},setRequiredLevel:function(n){this.$U.setRequiredLevel(n)},setSubmitMode:function(n){this.$U.setSubmitMode(n)},setValue:function(n){this.$U.setValue(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qq=function(n,t,i,r){this.$NF=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS();this.$Cr=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9();Microsoft.Crm.Client.Core.ViewModels.$Qq.initializeBase(this);this.$U=new Microsoft.Crm.Client.Core.ViewModels.$Mi(n,t,i,r);this.$2f=r;this.controls=this.$U.controls};Microsoft.Crm.Client.Core.ViewModels.$Qq.prototype={$U:null,$2f:null,getUtcValue:function(){var n=this.getValue();return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$DA(n)&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Lk(n,this.$NF,this.$2f.$1l.$9c,this.$Cr)),n},setUtcValue:function(n){Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$DA(n)&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Gs(n,this.$NF,this.$2f.$1l.$9c,this.$Cr));this.setValue(n)},addOnChange:function(n){this.$U.addOnChange(n)},fireOnChange:function(){this.$U.fireOnChange()},getAttributeType:function(){return this.$U.getAttributeType()},getFormat:function(){return this.$U.getFormat()},getIsDirty:function(){return this.$U.getIsDirty()},getIsValid:function(){return this.$U.getIsValid()},isValid:function(){return this.getIsValid()},getName:function(){return this.$U.getName()},getKey:function(){return this.$U.getKey()},getParent:function(){return this.$U.getParent()},getRequiredLevel:function(){return this.$U.getRequiredLevel()},getSubmitMode:function(){return this.$U.getSubmitMode()},getUserPrivilege:function(){return this.$U.getUserPrivilege()},getValue:function(){var n=this.$U.getValue();return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$DA(n)&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Gs(n,this.$NF,this.$2f.$1l.$9c,this.$Cr)),n},removeOnChange:function(n){this.$U.removeOnChange(n)},resetInitialValue:function(n){this.$U.resetInitialValue(n)},setRequiredLevel:function(n){this.$U.setRequiredLevel(n)},setSubmitMode:function(n){this.$U.setSubmitMode(n)},setValue:function(n){if($0.$0(n))this.$U.setValue(n);else{var t=n;Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$DA(t)&&(t=Microsoft.Crm.Client.Core.Framework.$h.$Lk(t,this.$NF,this.$2f.$1l.$9c,this.$Cr));this.$U.setValue(t)}}};Microsoft.Crm.Client.Core.ViewModels.$Mg=function(n,t){var u,s,i,f,o,r,e;if(this.dispose=this.$5E,Microsoft.Crm.Client.Core.ViewModels.$Mg.initializeBase(this),this.$5A=n,this.$1X=t,this.attributes=new Xrm.XrmEntityAttributes,u=this,!$0.$0(this.get_$5q())&&!$0.$0(this.get_$5q().$w)&&!$0.$0(this.get_$5q().$w.$BG)&&(s=this.get_$5q().$w.$BG,i=s.$j,!$0.$0(i)))for(this.$z=i.$D,f=0;f<i.$Bm.length;f++)if(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$z,i.$Bm[f].name),!$0.$0(o)){r=new Microsoft.Crm.Client.Core.Models.$J5(o);e=(this.get_$5q().$2.$g===13?"crmGrid":this.get_$5q().$L)+":"+this.$z+":"+i.$Bm[f].name;switch(r.get_$jM()){case 2:u.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Qq(this.$1X,this,e,r));break;case 11:case 12:case 13:u.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$R7(this.$1X,this,e,r));break;case 0:u.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$R8(this.$1X,this,e,r));break;default:u.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Mi(this.$1X,this,e,r))}}};Microsoft.Crm.Client.Core.ViewModels.$Mg.prototype={$2h:!1,$5A:null,$1X:null,$Fn:null,$z:null,get_$5q:function(){if($0.$0(this.$Fn)){var n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$l0(this.$1X.$2,this.$1X);$0.$0(n)||$0.$0(n.$2e)||(this.$Fn=n.$2e)}return this.$Fn},addOnSave:function(){},getDataXml:function(){return null},getEntityName:function(){return this.$z},getId:function(){if(!$0.$0(this.get_$5q())&&!$0.$0(this.get_$5q().$w)&&!$0.$0(this.get_$5q().$w.$BG)){var t=this.get_$5q().$w.$BG,n=t.getSelectedRecord();if(!$0.$0(n))return n.getRecordId()}return""},setRecordId:function(){},getPrimaryAttributeValue:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.getEntityName()),n;return!$0.$0(t)&&(n=this.attributes.getByName(t.$59),n)?n.getValue():""},getIsDirty:function(){var t=!1,i,n;return $0.$0(this.get_$5q())||$0.$0(this.get_$5q().$w)||$0.$0(this.get_$5q().$w.$BG)||(i=this.get_$5q().$w.$BG,n=i.getSelectedRecord(),$0.$0(n)||(t=n.isDirty())),t},isInHierarchy:function(){return!1},removeOnSave:function(){},save:function(){},$5E:function(){this.$2h||(this.$2h=!0,this.$5A=null,this.$1X=null,this.$Fn=null,this.attributes=null)},isValid:function(){return!1}};Microsoft.Crm.Client.Core.ViewModels.$RH=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$RH.initializeBase(this);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$Ra(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$RH.prototype={$O:null,get_$PD:function(){return this.$O.$Mk},get_$8D:function(){return this.$O.$1J},get_$1Ni:function(){return this.$O.$2x},$Fh:function(n,t){this.$O.$Fh(n,t)},$Ut:function(){this.$O.resetInitial()},getDisabled:function(){return this.$O.getDisabled()},setDisabled:function(n){this.$O.setDisabled(n)},getState:function(){return this.$O.$2x.$Bk},refresh:function(){this.get_$1Ni().$Rr()},addNotification:function(n){return this.$O.addNotification(n)},setNotification:function(n,t){return this.$O.setNotification(n,t)},clearNotification:function(n){return this.$O.clearNotification(n)},clearNotifications:function(){return this.$O.clearNotifications()},getControlType:function(){return"timercontrol"},getParent:function(){return this.$O.getParent()},setFocus:function(){this.$O.setFocus()},getLabel:function(){return this.$O.getLabel()},getName:function(){return this.$O.getName()},getVisible:function(){return this.$O.getVisible()},setLabel:function(n){this.$O.setLabel(n)},setVisible:function(n){this.$O.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$Mh=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$Mh.initializeBase(this);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$Ra(n,!1,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$Mh.prototype={$O:null,getId:function(){return this.$O.getName()},getLabel:function(){return this.$O.getLabel()},getVisible:function(){return this.$O.getVisible()},setFocus:function(){this.$O.setFocus()},setLabel:function(n){this.$O.setLabel(n)},setVisible:function(n){this.$O.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$Ml=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$Ml.initializeBase(this);this.items=new Xrm.XrmNavigationItems;this.$O=new Microsoft.Crm.Client.Core.ViewModels.$Ra(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$Ml.prototype={$O:null};Microsoft.Crm.Client.Core.ViewModels.$Hs=function(n,t){this.$P=n;this.$2Q=t};Microsoft.Crm.Client.Core.ViewModels.$Hs.prototype={$P:null,$2Q:null,$6W:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),t,i,r;return $0.$0(this.$P)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$P)?(t=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7004,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["entityType"])),n.reject(new Xrm.OfflineErrorResponse(-7004,t,"")),n.promise()):(i=this,r=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$OY(this.$P,this.$2Q).then(function(t){var e,u,f,r,o;if($0.$0(t))e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7011,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([i.$P])),n.reject(new Xrm.OfflineErrorResponse(-7011,e,""));else{u=t;for(f in u)if(r={key:f,value:u[f]},!Microsoft.Crm.Client.Core.Offline.$v.$1J7(r.value)&&r.value!==10){o=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7013,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([r.key]));n.reject(new Xrm.OfflineErrorResponse(-7013,o,""));return}n.resolve(!0)}},function(t){var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7012,null);n.reject(new Xrm.OfflineErrorResponse(-7012,i,t.$F))}),n.promise())}};Microsoft.Crm.Client.Core.ViewModels.$He=function(n,t,i){this.$7w=n;this.$P=t;this.$UY=i};Microsoft.Crm.Client.Core.ViewModels.$He.prototype={$7w:null,$P:null,$UY:0,$6W:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),u,f,e,o,i,r,t,s,h,c,l,a,v,y;if(Xrm.Utility.isMocaOfflineFeatureEnabled())if(Xrm.Utility.isAppOfflineSyncEnabled())if(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F())e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7002,null),n.reject(new Xrm.OfflineErrorResponse(-7002,e,""));else if(Xrm.Utility.isOfflineDataStoreAvailable()){i=this.$7w;for(r in i){t={key:r,value:i[r]};switch(t.key){case"attributes":case"entityType":if($0.$0(t.value)||!t.value.toString().length)return s=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7004,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.key])),n.reject(new Xrm.OfflineErrorResponse(-7004,s,"")),n.promise();break;case"id":if($0.$0(t.value)||!t.value.toString().length||Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.value.toString())===Microsoft.Crm.Client.Core.Framework.Guid.get_empty())return h=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7006,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.value.toString()])),n.reject(new Xrm.OfflineErrorResponse(-7006,h,"")),n.promise();break;case"maxPageSize":if(isNaN(parseInt(t.value.toString())))return c=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7007,null),n.reject(new Xrm.OfflineErrorResponse(-7007,c,"")),n.promise();if(l=Number.parseInvariant(t.value.toString()),l<0)return a=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7008,null),n.reject(new Xrm.OfflineErrorResponse(-7008,a,"")),n.promise();break;case"options":if(!t.value.$Mr.startsWith("?"))return v=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7009,null),n.reject(new Xrm.OfflineErrorResponse(-7009,v,"")),n.promise();break;default:return y=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7005,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.key])),n.reject(new Xrm.OfflineErrorResponse(-7005,y,"")),n.promise()}}n.resolve(!0)}else o=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7003,null),n.reject(new Xrm.OfflineErrorResponse(-7003,o,""));else f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7001,null),n.reject(new Xrm.OfflineErrorResponse(-7001,f,""));else u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7e3,null),n.reject(new Xrm.OfflineErrorResponse(-7e3,u,""));return n.promise()}};Microsoft.Crm.Client.Core.ViewModels.$Hf=function(n,t){this.$P=n;this.$UY=t};Microsoft.Crm.Client.Core.ViewModels.$Hf.prototype={$P:null,$UY:0,$6W:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i,t,r;return $0.$0(this.$P)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$P)?(i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7004,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["entityType"])),n.reject(new Xrm.OfflineErrorResponse(-7004,i,"")),n.promise()):(t=this,r=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$P,null).then(function(i){var r,u,f,e,o;$0.$0(i)?(o=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7017,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.$P])),n.reject(new Xrm.OfflineErrorResponse(-7017,o,""))):t.$P in Microsoft.Crm.Client.Core.Offline.$Y.get_$5D().get_$6a().$Ha?Microsoft.Crm.Client.Core.Offline.$Y.get_$5D().$AD(t.$P)?i.$14B&&i.$13p&&t.$UY!==1?(f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7034,null),n.reject(new Xrm.OfflineErrorResponse(-7034,f,""))):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(t.$P,t.$UY)?n.resolve(!0):(e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7010,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([Microsoft.Crm.Client.Core.Framework.$4H.toString(t.$UY)])),n.reject(new Xrm.OfflineErrorResponse(-7010,e,""))):(u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7016,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.$P])),n.reject(new Xrm.OfflineErrorResponse(-7016,u,""))):(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7015,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t.$P])),n.reject(new Xrm.OfflineErrorResponse(-7015,r,"")))},function(){var t=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7014,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([r.$P]));n.reject(new Xrm.OfflineErrorResponse(-7014,t,""))}),n.promise())}};Microsoft.Crm.Client.Core.ViewModels.$Hg=function(n,t,i){this.$UY=n;this.$P=t;this.$Ov=i};Microsoft.Crm.Client.Core.ViewModels.$Hg.prototype={$UY:0,$P:null,$du:!0,$1cv:!1,$Ov:null,$6W:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),f,n,r,u,i,e,o;if($0.$0(this.$P)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$P))f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7004,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["entityType"])),t.reject(new Xrm.OfflineErrorResponse(-7004,f,""));else if($0.$0(this.$Ov)||$0.$0(this.$Ov.$Mr)||!this.$Ov.$Mr.length)t.resolve(!0);else{n=[];r=this.$Ov.get_$Kh();for(u in r){i={key:u,value:r[u]};switch(i.key){case"$select":Array.add(n,this.$3CF());break;case"$expand":Array.add(n,this.$3C5());break;case"$top":Array.add(n,this.$3CH());break;case"$orderby":Array.add(n,this.$3CD());break;case"$filter":Array.add(n,this.$3C9());break;case"fetchXml":Array.add(n,this.$3C6());break;default:Array.add(n,this.$3CE(i.key,i.value))}}e=this;o=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n).then(function(){t.resolve(!0)},function(n){t.reject(n)})}return t.promise()},$3CF:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),t,i,r;if(this.$lR(n,"$select")){this.$du=!1;t=null;try{t=this.$Ov.get_$bT()}catch(u){return i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$select"])),n.reject(new Xrm.OfflineErrorResponse(-7020,i,u.message)),n.promise()}if($0.$0(t)||$0.$0(t.get_$LS())||!t.get_$LS().length)r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7019,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$select"])),n.reject(new Xrm.OfflineErrorResponse(-7019,r,""));else{var f=new Microsoft.Crm.Client.Core.ViewModels.$Hs(this.$P,t.get_$LS()),e=this,o=this;f.$6W().then(function(){n.resolve(!0)},function(t){n.reject(t)})}}return n.promise()},$3C5:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i,t,f,e,s,u,h;if(this.$lR(n,"$expand")){i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$du=!1;t=null;try{t=this.$Ov.get_$11j()}catch(c){return f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$expand"])),n.reject(new Xrm.OfflineErrorResponse(-7020,f,c.message)),n.promise()}if($0.$0(t)||!t.get_$11k().length)e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7019,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$expand"])),n.reject(new Xrm.OfflineErrorResponse(-7019,e,""));else{for(var o=t.get_$11k(),l=o.length,r=0;r<l;++r)s=o[r],i.add(s.$Ot);u=this;h=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(52,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),this.$P,1),null).then(function(t){var e,f,l,s,h;if(t.get_$3F6()>0){e=t.get_$R(0).get_$4r();for(var o=i.get_Items(),c=o.length,r=0;r<c;++r)if(f=o[r],!(f in e)){l=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));s=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7022,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([f,u.$P]));n.reject(new Xrm.OfflineErrorResponse(-7022,s,""));return}n.resolve(!0)}else h=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7021,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([u.$P])),n.reject(new Xrm.OfflineErrorResponse(-7021,h,""))},function(t){var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7021,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([h.$P]));n.reject(new Xrm.OfflineErrorResponse(-7021,i,t.$F))})}}return n.promise()},$3CH:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),t,i,r;if(this.$lR(n,"$top")){this.$du=!1;try{t=this.$Ov.get_$33()}catch(u){return i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$top"])),n.reject(new Xrm.OfflineErrorResponse(-7020,i,u.message)),n.promise()}t>0?n.resolve(!0):(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7023,null),n.reject(new Xrm.OfflineErrorResponse(-7023,r,"")))}return n.promise()},$3CD:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i,t,u,f,o;if(this.$lR(n,"$orderby")){i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$du=!1;t=null;try{t=this.$Ov.get_$1MV()}catch(s){return u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$orderby"])),n.reject(new Xrm.OfflineErrorResponse(-7020,u,s.message)),n.promise()}if($0.$0(t)||!t.get_$1MW().length)f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7019,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$orderby"])),n.reject(new Xrm.OfflineErrorResponse(-7019,f,""));else{for(var e=t.get_$1MW(),h=e.length,r=0;r<h;++r)o=e[r],i.add(o.$AR);var c=new Microsoft.Crm.Client.Core.ViewModels.$Hs(this.$P,i.toArray()),l=this,a=this;c.$6W().then(function(){n.resolve(!0)},function(t){n.reject(t)})}}return n.promise()},$3C9:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),t,i,r,f,e;if(this.$lR(n,"$filter")){t=null;this.$du=!1;try{t=this.$Ov.get_$TJ()}catch(u){return i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$filter"])),n.reject(new Xrm.OfflineErrorResponse(-7020,i,u.message)),n.promise()}$0.$0(t)||$0.$0(t.$6C)?(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7019,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$filter"])),n.reject(new Xrm.OfflineErrorResponse(-7019,r,""))):(f=this,e=this,this.$2ID(t.$6C).then(function(t){if(t)n.resolve(!0);else{var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$filter"]));n.reject(new Xrm.OfflineErrorResponse(-7020,i,""))}},function(t){var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7020,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$filter"]));n.reject(new Xrm.OfflineErrorResponse(-7020,i,t.$F))}))}return n.promise()},$3C6:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i,r,t,u,f,e,o;if(this.$du){if(this.$lR(n,"fetchXml")){this.$1cv=!0;r=this.$Ov.get_$1K();try{t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(r);$0.$0(t)?(u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7025,null),n.reject(new Xrm.OfflineErrorResponse(-7025,u,""))):(f=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(t).$N("fetch"),$0.$0(f)?(e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7025,null),n.reject(new Xrm.OfflineErrorResponse(-7025,e,""))):n.resolve(!0))}catch(s){return o=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7025,null),n.reject(new Xrm.OfflineErrorResponse(-7025,o,s.message)),n.promise()}}}else i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7026,null),n.reject(new Xrm.OfflineErrorResponse(-7026,i,""));return n.promise()},$3CE:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),r,u;if(this.$lR(i,n)){this.$du=!1;r="";switch(n){case"$skiptoken":$0.$0(t)||isNaN(parseInt(t.toString()))||parseInt(t.toString())<=0?(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7028,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$skiptoken"])),i.reject(new Xrm.OfflineErrorResponse(-7028,r,""))):i.resolve(!0);break;case"$getOnlyRelatedEntity":u=null;$0.$0(t)||(u=Boolean.parse(t.toString()));$0.$0(u)?(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7028,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["$getOnlyRelatedEntity"])),i.reject(new Xrm.OfflineErrorResponse(-7028,r,""))):i.resolve(!0);break;default:r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7027,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([n]));i.reject(new Xrm.OfflineErrorResponse(-7027,r,""))}}return i.promise()},$2ID:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i,e,u,s;if($0.$0(n))t.resolve(!0);else{if(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),!$0.$0(n.$8i)&&!$0.$0(n.$8i.get_Items()))for(var f=n.$8i.get_Items(),o=f.length,r=0;r<o;++r)e=f[r],i.add(e.$Vi);u=this;s=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$OY(this.$P,i.toArray()).then(function(i){var r,e,c;if(!$0.$0(n.$8i)&&!$0.$0(n.$8i.get_Items()))for(var s=n.$8i.get_Items(),l=s.length,f=0;f<l;++f){r=s[f];try{u.$2nX(r.$Vi,i[r.$Vi],r.$L7)}catch(a){t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(a.message));return}}if($0.$0(n.$Ap)||$0.$0(n.$Ap.get_Items()))t.resolve(!0);else{if(!n.$Ap.get_Items().length){t.resolve(!0);return}e=[];for(var h=n.$Ap.get_Items(),v=h.length,o=0;o<v;++o)c=h[o],Array.add(e,u.$2ID(c));Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e).then(function(n){for(var f,i=!0,u=n,e=u.length,r=0;r<e;++r)f=u[r],i=i&&f;t.resolve(i)},function(n){t.reject(n)})}},function(n){t.reject(n)})}return t.promise()},$lR:function(n,t){var i=!0,r,u;switch(t){case"$select":case"$expand":case"$getOnlyRelatedEntity":i=!0;break;case"$top":case"$orderby":case"$filter":case"fetchXml":case"$skiptoken":i=this.$UY===4}return i?this.$1cv&&(u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7026,null),n.reject(new Xrm.OfflineErrorResponse(-7026,u,"")),i=!1):(r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7028,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([t])),n.reject(new Xrm.OfflineErrorResponse(-7028,r,""))),i},$2nX:function(n,t,i){switch(t){case-1:case 23:case 19:case 10:throw Error.create(String.format("Attribute {0} is not supported in filter query option.",n));default:return this.$2nW(n,t,i)}},$2nW:function(n,t,i){switch(t){case 0:case 1:case 20:case 6:case 7:case 9:case 11:case 12:case 13:case 14:case 15:if(i===Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$E.$Da||i===Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$E.$EN)return!0;throw Error.create(String.format("Operator {0} is not supported with attribute {1} in filter query option.",i,n));default:return!0}}};Microsoft.Crm.Client.Core.ViewModels.$Hd=function(n){this.$7w=n;this.$17n();this.$16i()};Microsoft.Crm.Client.Core.ViewModels.$Hd.prototype={$P:null,$2Q:null,$9X:null,$7w:null,$6W:function(){for(var u,e,o,n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i=[],r=this.$9X.get_Items(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$6W());return e=this,o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(){n.resolve(!0)},function(t){n.reject(t)}),n.promise()},$17n:function(){this.$P=this.$7w.entityType;this.$2Q=this.$7w.attributes},$16i:function(){this.$9X=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$F6));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$He(this.$7w,this.$P,0));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$Hf(this.$P,0));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$Hs(this.$P,this.$2Q))}};Microsoft.Crm.Client.Core.ViewModels.$Hb=function(n){this.$7w=n;this.$17n();this.$16i()};Microsoft.Crm.Client.Core.ViewModels.$Hb.prototype={$1P:null,$P:null,$9X:null,$7w:null,$6W:function(){for(var u,e,o,n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i=[],r=this.$9X.get_Items(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$6W());return e=this,o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(){n.resolve()},function(t){n.reject(t)}),n.promise()},$17n:function(){this.$1P=this.$7w.id;this.$P=this.$7w.entityType},$16i:function(){this.$9X=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$F6));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$He(this.$7w,this.$P,3));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$Hf(this.$P,3))}};Microsoft.Crm.Client.Core.ViewModels.$4p=function(){};Microsoft.Crm.Client.Core.ViewModels.$4p.$138=function(n,t){switch(n){case 0:return new Microsoft.Crm.Client.Core.ViewModels.$Hd(t);case 1:return new Microsoft.Crm.Client.Core.ViewModels.$Hk(t);case 2:return new Microsoft.Crm.Client.Core.ViewModels.$Hb(t);case 3:return new Microsoft.Crm.Client.Core.ViewModels.$Hh(t);case 4:return new Microsoft.Crm.Client.Core.ViewModels.$Hc(t);default:return null}};Microsoft.Crm.Client.Core.ViewModels.$Hc=function(n){this.$7w=n;this.$17n();this.$16i()};Microsoft.Crm.Client.Core.ViewModels.$Hc.prototype={$P:null,$21:null,$9X:null,$7w:null,$6W:function(){for(var u,e,o,n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i=[],r=this.$9X.get_Items(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$6W());return e=this,o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(){n.resolve()},function(t){n.reject(t)}),n.promise()},$17n:function(){this.$P=this.$7w.entityType;this.$21=this.$7w.options;($0.$0(this.$21)||$0.$0(this.$21.$Mr)||!this.$21.$Mr.length)&&delete this.$7w.options;$0.$0(this.$7w.maxPageSize)&&delete this.$7w.maxPageSize},$16i:function(){this.$9X=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$F6));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$He(this.$7w,this.$P,1));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$Hf(this.$P,1));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$Hg(4,this.$P,this.$21))}};Microsoft.Crm.Client.Core.ViewModels.$Hh=function(n){this.$7w=n;this.$17n();this.$16i()};Microsoft.Crm.Client.Core.ViewModels.$Hh.prototype={$1P:null,$P:null,$21:null,$9X:null,$7w:null,$6W:function(){for(var u,e,o,n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i=[],r=this.$9X.get_Items(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$6W());return e=this,o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(){n.resolve()},function(t){n.reject(t)}),n.promise()},$17n:function(){this.$1P=this.$7w.id;this.$P=this.$7w.entityType;this.$21=this.$7w.options;($0.$0(this.$21)||$0.$0(this.$21.$Mr)||!this.$21.$Mr.length)&&delete this.$7w.options},$16i:function(){this.$9X=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$F6));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$He(this.$7w,this.$P,1));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$Hf(this.$P,1));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$Hg(3,this.$P,this.$21))}};Microsoft.Crm.Client.Core.ViewModels.$Hk=function(n){this.$7w=n;this.$17n();this.$16i()};Microsoft.Crm.Client.Core.ViewModels.$Hk.prototype={$1P:null,$P:null,$2Q:null,$9X:null,$7w:null,$6W:function(){for(var u,e,o,n=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),i=[],r=this.$9X.get_Items(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$6W());return e=this,o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(){n.resolve()},function(t){n.reject(t)}),n.promise()},$17n:function(){this.$1P=this.$7w.id;this.$P=this.$7w.entityType;this.$2Q=this.$7w.attributes},$16i:function(){this.$9X=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$F6));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$He(this.$7w,this.$P,2));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$Hf(this.$P,2));this.$9X.add(new Microsoft.Crm.Client.Core.ViewModels.$Hs(this.$P,this.$2Q))}};Microsoft.Crm.Client.Core.ViewModels.$Rf=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$Rf.initializeBase(this,[n,t,i,r,u]);this.$Fh(n,!0);this.$Fh(n,!1)};Microsoft.Crm.Client.Core.ViewModels.$Rf.prototype={getControlType:function(){return"RichEditor"}};Microsoft.Crm.Client.Core.ViewModels.$RD=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$RD.initializeBase(this);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$Ra(n,t,i,r,u);this.$O.$Fh(n,!0);this.$O.$Fh(n,!1)};Microsoft.Crm.Client.Core.ViewModels.$RD.prototype={$O:null,get_$PD:function(){return this.$O.$Mk},get_$8D:function(){return this.$O.$1J},get_$1Ni:function(){return this.$O.$2x},$Fh:function(n,t){this.$O.$Fh(n,t)},$Ut:function(){this.$O.resetInitial()},getAttribute:function(){return this.$O.getAttribute()},getDisabled:function(){return this.$O.getDisabled()},setDisabled:function(n){this.$O.setDisabled(n)},getParent:function(){return this.$O.getParent()},setNotification:function(n,t){return this.$O.setNotification(n,t)},addNotification:function(n){return this.$O.addNotification(n)},clearNotification:function(n){return this.$O.clearNotification(n)},clearNotifications:function(){return this.$O.clearNotifications()},setFocus:function(){this.$O.setFocus()},getControlType:function(){return"GridCell"},getLabel:function(){return this.$O.getLabel()},getName:function(){return this.$O.getName()},getVisible:function(){return this.$O.getVisible()},setLabel:function(n){this.$O.setLabel(n)},setVisible:function(n){this.$O.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$Rh=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$Rh.initializeBase(this);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$Ra(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$Rh.prototype={$O:null,addOnKeyPress:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n&&this.get_$8D().AddOnKeyPress(n)},fireOnKeyPress:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.get_$8D().FireOnKeyPress(n)},removeOnKeyPress:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n&&this.get_$8D().RemoveOnKeyPress(n)},getValue:function(){return this.get_$8D().GetValue()},get_$PD:function(){return this.$O.$Mk},get_$8D:function(){return this.$O.$1J},get_$1Ni:function(){return this.$O.$2x},$Fh:function(n,t){this.$O.$Fh(n,t)},$Ut:function(){this.$O.resetInitial()},getAttribute:function(){return this.$O.getAttribute()},getDisabled:function(){return this.$O.getDisabled()},setDisabled:function(n){this.$O.setDisabled(n)},clearNotification:function(n){return this.$O.clearNotification(n)},clearNotifications:function(){return this.$O.clearNotifications()},getControlType:function(){return this.$O.getControlType()},getParent:function(){return this.$O.getParent()},setNotification:function(n,t){return this.$O.setNotification(n,t)},addNotification:function(n){return this.$O.addNotification(n)},setFocus:function(){this.$O.setFocus()},getLabel:function(){return this.$O.getLabel()},getName:function(){return this.$O.getName()},getVisible:function(){return this.$O.getVisible()},setLabel:function(n){this.$O.setLabel(n)},setVisible:function(n){this.$O.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$RE=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$RE.initializeBase(this);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$Ra(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$RE.prototype={$O:null,get_$PD:function(){return this.$O.$Mk},get_$8D:function(){return this.$O.$1J},get_$1Ni:function(){return this.$O.$2x},$Fh:function(n,t){this.$O.$Fh(n,t)},$Ut:function(){this.$O.resetInitial()},getControlType:function(){return"kbsearch"},setSearchQuery:function(n){try{var t;return!$0.$0(this.$O.$2x)&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$76.isInstanceOfType(this.$O.$2x)&&(t=this.$O.$2x,t.$2Et(n)),!$0.$0(this.$O.$1J)&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$76.isInstanceOfType(this.$O.$1J)&&(t=this.$O.$1J,t.$2Et(n)),1}catch(i){return 0}},getSearchQuery:function(){var n="";return!$0.$0(this.$O.$2x)&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$76.isInstanceOfType(this.$O.$2x)&&(n=this.$O.$2x.get_$34J()),n},isKnowledgeInCrm:function(){var n=!0,t=this.get_$PE();return $0.$0(t)||(n=t.get_$2oo()),!n},get_$PE:function(){return!$0.$0(this.$O.$2x)&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$76.isInstanceOfType(this.$O.$2x)?this.$O.$2x:null},getSelectedResults:function(){var t=null,n=this.get_$PE();return $0.$0(n)||$0.$0(n.get_$2DD())||(t=n.get_$2DD()),t},getTotalResultCount:function(){var n=0,t=this.get_$PE();return $0.$0(t)||(n=t.$2jk()),n},openSearchResult:function(n,t){var i=0,r=this.get_$PE();return $0.$0(r)||(i=r.$2wF(n,t)),i},addOnPostSearch:function(n){var t=this.get_$PE();$0.$0(t)||t.$2KY(n)},addOnPreSearch:function(n){var t=this.get_$PE();$0.$0(t)||t.$2KZ(n)},addOnResultOpened:function(n){var t=this.get_$PE();$0.$0(t)||t.$2Kc(n)},addOnSelection:function(n){var t=this.get_$PE();$0.$0(t)||t.$2Kd(n)},removeOnPostSearch:function(n){var t=this.get_$PE();$0.$0(t)||t.$30n(n)},removeOnPreSearch:function(n){var t=this.get_$PE();$0.$0(t)||t.$30o(n)},removeOnResultOpened:function(n){var t=this.get_$PE();$0.$0(t)||t.$30q(n)},removeOnSelection:function(n){var t=this.get_$PE();$0.$0(t)||t.$30r(n)},clearNotification:function(n){return this.$O.clearNotification(n)},getParent:function(){return this.$O.getParent()},setFocus:function(){this.$O.setFocus()},setNotification:function(n,t){return this.$O.setNotification(n,t)},addNotification:function(n){return this.$O.addNotification(n)},clearNotifications:function(){return this.$O.clearNotifications()},getLabel:function(){return this.$O.getLabel()},getName:function(){return this.$O.getName()},getVisible:function(){return this.$O.getVisible()},setLabel:function(n){this.$O.setLabel(n)},setVisible:function(n){this.$O.setVisible(n)},clearSearch:function(){return}};Microsoft.Crm.Client.Core.ViewModels.$Hl=function(){};Microsoft.Crm.Client.Core.ViewModels.$Hl.prototype={$173:null,$2iV:function(n){if(Mscrm.InternalUtilities._String.isNullOrEmpty(n.$1Ay))return"";var t=Microsoft.Crm.Client.Core.Framework.$3.$IY("<attribute name='{0}' />",n.$1Ay);return"<fetch mapping='logical' returntotalrecordcount='true' page='{0}' count='{1}'><entity name='knowledgearticle'><attribute name='knowledgearticleid' /><attribute name='articlepublicnumber' /><attribute name='title' /><attribute name='description' /><attribute name='content' /><attribute name='knowledgearticleviews' /><attribute name='createdon' /><attribute name='modifiedon' /><attribute name='statecode' /><attribute name='statuscode' /><attribute name='expirationdate' /><attribute name='languagelocaleid' /><attribute name='majorversionnumber' /><attribute name='minorversionnumber' /><attribute name='islatestversion' /><attribute name='rating' />{2}{3}{4}<\/entity><\/fetch>".indexOf(t)>=0?"":t},$2j1:function(n){if(Mscrm.InternalUtilities._String.isNullOrEmpty(n.$pH))return"";var t=n.$Vt?"true":"false";return Microsoft.Crm.Client.Core.Framework.$3.$IY("<order attribute='{0}' descending='{1}' />",n.$pH,t)},$2gb:function(n){return Mscrm.InternalUtilities._String.isNullOrEmpty(n.$1AX)?"":String.format("<filter><condition attribute='languagelocaleid' operator='eq' value='{0}'/><\/filter>",CrmEncodeDecode.CrmHtmlEncode(n.$1AX))},$2jL:function(n){return Mscrm.InternalUtilities._String.isNullOrEmpty(n.$19u)?3:Number.parseInvariant(n.$19u)},$2eW:function(n){var i=Mscrm.InternalUtilities._String.format("<fetch mapping='logical' returntotalrecordcount='true' page='{0}' count='{1}'><entity name='knowledgearticle'><attribute name='knowledgearticleid' /><attribute name='articlepublicnumber' /><attribute name='title' /><attribute name='description' /><attribute name='content' /><attribute name='knowledgearticleviews' /><attribute name='createdon' /><attribute name='modifiedon' /><attribute name='statecode' /><attribute name='statuscode' /><attribute name='expirationdate' /><attribute name='languagelocaleid' /><attribute name='majorversionnumber' /><attribute name='minorversionnumber' /><attribute name='islatestversion' /><attribute name='rating' />{2}{3}{4}<\/entity><\/fetch>",n.$1Ty,n.$Sb,this.$2iV(n),this.$2gb(n),this.$2j1(n));this.$173=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$An,Microsoft.Crm.Client.Core.ViewModels.$An);var r=this.$2jL(n),t=this,u=this;return Xrm.Internal.messages.fullTextSearchKnowledgeArticle(n.$1UH,!0,!1,r,i).then(function(i){var r=t.$2UE(n,i);t.$173.resolve(r)},function(n){u.$2V7(n)}),this.$173},$2UE:function(n,t){var u=t,i=new Microsoft.Crm.Client.Core.ViewModels.$An,r;return u&&u.entityCollection&&(r=u.entityCollection,i.$1Ue=r.$DJ,i.$1oO=r.get_count(),i.$Sb=n.$Sb,i.$1Tn=r.$KU,i.$1TX=!0,i.$19L=this.$2Q5(r)),i},$2V7:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$An;t.$1TX=!1;t.$Pl=n.get_localizedMessage();this.$173.reject(t)},$2Q5:function(n){for(var u,f=new(Microsoft.Crm.Client.Core.Framework.$Ay.$$(Microsoft.Crm.Client.Core.ViewModels.$8E)),r=0;n.get_count()>r;r++){var t=n.get_$R(r),i=new Microsoft.Crm.Client.Core.ViewModels.$8E,e=new(Microsoft.Crm.Client.Core.Framework.$Az.$$(Microsoft.Crm.Client.Core.ViewModels.$8E));i.$Vg=t.getValue("articlepublicnumber").toString();i.$GZ=t.getValue("knowledgearticleid").toString();i.$4O=t.getValue("title").toString();i.$W4="";i.$19h=t.getValue("description")?t.getValue("description").toString():"";i.$NP=t.getValue("content")?t.getValue("content").toString():"";i.$p4=new Date(t.getValue("modifiedon").toString());i.$cv=new Date(t.getValue("createdon").toString());u=t.getFieldObjectData("statecode").value;i.$1BJ=u;i.$W3=u===3;i.$dX=t.getValue("knowledgearticleviews")?t.getValue("knowledgearticleviews"):0;t.getValue("expirationdate")&&(i.$yH=new Date(t.getValue("expirationdate").toString()));i.$ok=t.$6M;e.set_$Xg(i);f.$3w(e)}return f}};Microsoft.Crm.Client.Core.ViewModels.$Hm=function(n){this.$14J=n};Microsoft.Crm.Client.Core.ViewModels.$Hm.prototype={$14J:!1,get_$1Va:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(this.$14J?"SearchWidget.Mobile.Filters.AllDraftArticles":"SearchWidget.Filters.AllDraftArticles")},get_$1C0:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(this.$14J?"SearchWidget.Mobile.Filters.AllPublishedArticles":"SearchWidget.Filters.AllPublishedArticles")},get_$1VX:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(this.$14J?"SearchWidget.Mobile.Filters.AllApprovedArticles":"SearchWidget.Filters.AllApprovedArticles")},get_$2Iv:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchKMArticles.ActionsPopupTitle")},get_$2Aw:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SearchWidget.Filters.Relevance")},get_$26y:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SearchWidget.Filters.NumberOfViews")},get_$25K:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SearchWidget.Filters.LastModifiedDate.NewestFirst")},get_$25L:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SearchWidget.Filters.LastModifiedDate.OldestFirst")},get_$2pj:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SearchWidget.Enabled.ErrorCause")+" "+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SearchWidget.Enabled.ErrorAction")},get_$2wa:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchMode.Parature.ErrorMessage")},get_$6p:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SearchWidget.Parature.InternalServer.500.C5000")},get_LocalizedAtlCopyLinkText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchKMArticles.CopyArticleIconAltText")},get_LocalizedToolTipCopyLinkText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchKMArticles.CopyArticleIconToolTip")},get_TextAnalyticsConfigureError:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Message_0x80061691")}};Microsoft.Crm.Client.Core.ViewModels.$8E=function(){Microsoft.Crm.Client.Core.ViewModels.$8E.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$8E.prototype={$dX:0,get_timesViewed:function(){return this.$dX},set_timesViewed:function(n){return this.$dX=n,n},$4O:null,get_title:function(){return this.$4O},set_title:function(n){return this.$4O=n,n},$NP:null,get_content:function(){return this.$NP},set_content:function(n){return this.$NP=n,n},$1Ax:null,get_publicUrl:function(){return this.$1Ax},set_publicUrl:function(n){return this.$1Ax=n,n},$W3:!1,get_published:function(){return this.$W3},set_published:function(n){return this.$W3=n,n},$Vg:null,get_articleId:function(){return this.$Vg},set_articleId:function(n){return this.$Vg=n,n},$GZ:null,get_articleUId:function(){return this.$GZ},set_articleUId:function(n){return this.$GZ=n,n},$yH:null,get_expiredDate:function(){return this.$yH},set_expiredDate:function(n){return this.$yH=n,n},$19h:null,get_description:function(){return this.$19h},set_description:function(n){return this.$19h=n,n},$W4:null,get_rating:function(){return this.$W4},set_rating:function(n){return this.$W4=n,n},$1BJ:0,get_stateCode:function(){return this.$1BJ},set_stateCode:function(n){return this.$1BJ=n,n},$pS:0,get_statusCode:function(){return this.$pS},set_statusCode:function(n){return this.$pS=n,n},$1U6:null,get_publicNumber:function(){return this.$1U6},set_publicNumber:function(n){return this.$1U6=n,n},$ok:null,get_formattedValues:function(){return this.$ok},set_formattedValues:function(n){return this.$ok=n,n}};Microsoft.Crm.Client.Core.ViewModels.$8F=function(){};Microsoft.Crm.Client.Core.ViewModels.$8F.$$cctor=function(){Microsoft.Crm.Client.Core.Framework.$4J.$2zz(Microsoft.Crm.Client.Core.ViewModels.$8E,"KbSearchStrategy",function(){return new Microsoft.Crm.Client.Core.ViewModels.$8F})};Microsoft.Crm.Client.Core.ViewModels.$8F.prototype={$17R:null,$yh:!1,$2fU:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$Hl,t=this,r=this;i.$2eW(n).done(function(n){t.$yh=n.$1Tn;var i=new(Microsoft.Crm.Client.Core.Framework.$7a.$$(Microsoft.Crm.Client.Core.ViewModels.$8E));n.$19L&&i.$3w(n.$19L);i.set_$3Eu(n.$1Ue);t.$17R.resolve(i)}).fail(function(){var n=Microsoft.Crm.Client.Core.Framework.$7.$k(new Microsoft.Crm.Client.Core.ViewModels.$Hm(!1).get_$6p());r.$17R.reject(n)})},$1sV:function(n,t,i){var r=new Microsoft.Crm.Client.Core.ViewModels.$Hi;return r.$1UH=n.$E2._searchoption_.toString(),r.$Sb=t,r.$1Ty=i,r.$Vt=!n.$E2.isdescending||!n.$E2.isdescending?!1:!0,"orderby"in n.$E2&&(r.$pH=n.$E2.orderby.toString()),"filter"in n.$E2&&(r.$19u=n.$E2.filter.toString()),"language"in n.$E2&&(r.$1AX=n.$E2.language.toString()),"showRatingUsing"in n.$E2&&(r.$1Ay=n.$E2.showRatingUsing.toString()),r},$bN:function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$8F.$iL=i;this.$17R=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$7a.$$(Microsoft.Crm.Client.Core.ViewModels.$8E),Microsoft.Crm.Client.Core.Framework.$7);var r=this.$1sV(n,t,i);return this.$2fU(r),this.$17R}};Microsoft.Crm.Client.Core.ViewModels.$Hi=function(){};Microsoft.Crm.Client.Core.ViewModels.$Hi.prototype={$1Ty:0,$Sb:0,$1UH:null,$pH:null,$1AX:null,$Vt:!1,$19u:null,$1Ay:null};Microsoft.Crm.Client.Core.ViewModels.$An=function(){};Microsoft.Crm.Client.Core.ViewModels.$An.prototype={$1Tn:!1,$19L:null,$1Ue:0,$1oO:0,$Sb:0,$1TX:!1,$Pl:null};Microsoft.Crm.Client.Core.ViewModels.$Hj=function(n,t){this.get_isAssociated=this.get_$1J5;this.get_answer=this.get_$3Dg;this.get_articleId=this.get_$3Di;this.get_articleUid=this.get_$3Dk;this.get_createdOn=this.get_$3Dm;this.get_expiredDate=this.get_$3Do;this.get_href=this.get_$3Dq;this.get_lastModifiedOn=this.get_$3Ds;this.get_publicUrl=this.get_$3Du;this.get_published=this.get_$3Dw;this.get_question=this.get_$3Dy;this.get_rating=this.get_$3E0;this.get_searchBlurb=this.get_$3E2;this.get_serviceDeskUri=this.get_$3E4;this.get_timesViewed=this.get_$3E6;this.$HQ=n;this.$bP=t};Microsoft.Crm.Client.Core.ViewModels.$Hj.prototype={$HQ:null,$bP:null,get_$1J5:function(){return Microsoft.Crm.Client.Core.ViewModels.$l.$1J5(this.$HQ,this.$bP)},get_$3Dg:function(){return this.$HQ.$NP},get_$3Di:function(){return this.$HQ.$Vg},get_$3Dk:function(){return this.$HQ.$GZ},get_$3Dm:function(){return this.$HQ.$cv},get_$3Do:function(){return this.$HQ.$yH},get_$3Dq:function(){return""},get_$3Ds:function(){return this.$HQ.$p4},get_$3Du:function(){return this.$HQ.$1Ax},get_$3Dw:function(){return this.$HQ.$W3},get_$3Dy:function(){return this.$HQ.$4O},get_$3E0:function(){return 42},get_$3E2:function(){return this.$bP.get_SearchText()},get_$3E4:function(){return""},get_$3E6:function(){return this.$HQ.$dX}};Microsoft.Crm.Client.Core.ViewModels.$Ht=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ht.prototype={$cv:null,get_createdOn:function(){return this.$cv},set_createdOn:function(n){return this.$cv=n,n},$p4:null,get_lastModifiedOn:function(){return this.$p4},set_lastModifiedOn:function(n){return this.$p4=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Mk=function(){Microsoft.Crm.Client.Core.ViewModels.$Mk.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Mk.$$cctor=function(){$0.$0(Microsoft.Crm.Client.Core.ViewModels.$40.$8t)||(Microsoft.Crm.Client.Core.ViewModels.$40.$8t=new Microsoft.Crm.Client.Core.ViewModels.$Mk)};Microsoft.Crm.Client.Core.ViewModels.$Mk.prototype={$1st:function(n){return Microsoft.Crm.Client.Core.Framework.$6.get_$4U()?new Microsoft.Crm.Client.Core.ViewModels.$4F(n):Microsoft.Crm.Client.Core.ViewModels.$40.prototype.$1st.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.$98=function(){var i,t,r,n;for(this.$$d_$P2=Function.createDelegate(this,this.$P2),this.set_$1EQ=this.set_Date,Microsoft.Crm.Client.Core.ViewModels.$98.initializeBase(this),this.$Nu=!1,this.$25F="yyyy/MM/dd",this.$Zj=Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern,this.$14t=Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortTimePattern,i=Sys.CultureInfo.CurrentCulture.dateTimeFormat.DateSeparator,this.$Zj=this.$Zj.replace("/",i),this.$Zj=this.$Zj.replace("/",i),this.$Gv=new Date,this.$Pj="",this.$1BL=this.$Gv.localeFormat(this.$Zj),t=Sys.CultureInfo.CurrentCulture.dateTimeFormat,this.$Sj=t.ShortestDayNames,this.$y6=t.DayNames,r=t.AbbreviatedMonthNames,this.$p9=new Array(12),n=0;n<12;n++)this.$p9[n]=r[n];this.$IA=""};Microsoft.Crm.Client.Core.ViewModels.$98.prototype={$Gv:null,$25F:null,$Zj:null,$14t:null,$Nu:!1,$ID:!1,$1J2:!1,$wr:null,$Sj:null,get_ShortestDayNames:function(){return this.$Sj},set_ShortestDayNames:function(n){return this.$Sj=n,n},$y6:null,get_DayNames:function(){return this.$y6},set_DayNames:function(n){return this.$y6=n,n},$p9:null,get_MonthNames:function(){return this.$p9},set_MonthNames:function(n){return this.$p9=n,n},$1BL:null,get_TodayDateString:function(){return this.$1BL},set_TodayDateString:function(n){return this.$1BL=n,n},$Pj:null,get_DateValueInString:function(){return this.$Pj},set_DateValueInString:function(n){return this.$Pj=n,n},$19J:null,get_AllDayAdjustedDate:function(){return this.$19J},set_AllDayAdjustedDate:function(n){return this.$19J=n,n},$ys:null,get_PreviousDateValueInString:function(){return this.$ys},set_PreviousDateValueInString:function(n){return this.$ys=n,n},$y5:null,get_DateTimeValueInString:function(){return this.$y5},set_DateTimeValueInString:function(n){return this.$y5=n,n},$IA:null,get_TimeValueInString:function(){return this.$IA},set_TimeValueInString:function(n){return this.$IA=n,n},$9c:0,get_Behavior:function(){return this.$9c},set_Behavior:function(n){return this.$9c!==n&&(this.$9c=n,this.$7("Behavior")),n},$2oe:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$163(n.toString());return!$0.$0(n)&&!isNaN(t)},get_Data:function(){return Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.get_Data.call(this)},set_Data:function(n){var t=n;return!$0.$0(n)&&this.$2oe(n)&&(n=""),String.isInstanceOfType(n)&&(t=new Date(n)),Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.set_Data.call(this,t),n},get_Date:function(){var n=null;return this.$DA(this.get_Data())&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Gs(this.get_Data(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$FS(),this.get_Behavior(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9())),n},set_Date:function(n){return this.$DA(n)&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Lk(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$FS(),this.get_Behavior(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9())),this.set_Data(n),n},$pW:null,get_TimeFrame:function(){return this.$pW},set_TimeFrame:function(n){return this.$pW=n,n},$1AR:!1,get_IsPickerClicked:function(){return this.$1AR},set_IsPickerClicked:function(n){return this.$1AR=n,n},$2Z:function(){this.$1a||(this.$wr={},Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$2Z.call(this),this.$1Rp())},get_ShowTime:function(){return this.$A8==="datetime"||this.$A8==="time"},set_ShowTime:function(n){if(this.set_Format(n?"datetime":"date"),Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var t=this.$L.split("_"),i=this.get_ModelContext();i.$36w(t[0],this.$A8==="datetime"?"dateandtime":"dateonly")}return n},get_AllDayDisplay:function(){return this.$ID},set_AllDayDisplay:function(n){var t,i;return this.$ID===n||$0.$0(this.get_Data())||(this.$1J2=!0,this.$ID=n,t=this.$L.split("_"),!$0.$0(t)&&t.length>0&&(i=this.get_ModelContext(),i.$2EI(t[0],this.$ID))),n},$DA:function(n){return Date.isInstanceOfType(n)||Object.prototype.toString.call(n)==="[object Date]"},$Oh:function(){$0.$0(this.$N4)||(this.$N4.RemovePropertyChangedListener("SelectedItem",this.$$d_$P2),this.$N4.dispose(),this.$N4=null);this.$wr=null;this.$Sj=null;this.$y6=null;this.$p9=null;Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$Oh.call(this)},$1Rp:function(){for(var t,i=new Array(24),r=0,u=this.$2ZL(),f=u.length,n=0;n<f;++n)t=u[n],i[r]=new Microsoft.Crm.Client.Core.ViewModels.$Bm(t,t),r++;this.get_DatetimeListComboBox().set_ItemsList(i);this.get_DatetimeListComboBox().AddPropertyChangedListener("SelectedItem",this.$$d_$P2)},$P2:function(){var t,i,n,r,u,f;IsNull(this.$N4.$4i)||(this.$IA=this.$N4.$4i,t=0,i=0,$0.$0(this.$Gv)&&(this.$Gv=new Date),this.$Gv.setHours(0),this.$Gv.setMinutes(0),t=this.$Gv.getTimezoneOffset(),n=this.$Gv,r=0,$0.$0(this.$Pj)||this.$A8!=="datetime"||(r=this.$21z(this.$IA)),n.setTime(n.getTime()+r),i=n.getTimezoneOffset(),i-t&&(u=(i-t)*6e4,n.setTime(n.getTime()+u)),this.$y5=n.toString(),this.$Gv=new Date(n.getTime()),isNaN(n.getDate())?this.set_Data(null):(f=Microsoft.Crm.Client.Core.Framework.$h.$Lk(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$FS(),this.get_Behavior(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9()),this.set_Data(f)),this.$1AR=!1)},get_ClearFilter:function(){return this.$Nu},set_ClearFilter:function(n){return this.$Nu=n,n&&this.clearFilterValues(),n},get_DatetimeListComboBox:function(){return $0.$0(this.$N4)&&(this.$N4=new Microsoft.Crm.Client.Core.ViewModels.$Bn),this.$N4},$N4:null,get_DateTimeObject:function(){return this.$Gv},set_DateTimeObject:function(n){var t,i,r;return this.$Gv=n,!this.$1J2&&this.$ID&&this.$Gv.setHours(this.$Gv.getHours()+24),$0.$0(n)||isNaN(n.getDate())?(this.$Pj="",this.$IA="",this.set_Data(null)):(t=this.$Gv,this.$Pj=t.localeFormat(this.$Zj),this.$ID&&(i=new Date(this.$Pj),i.setHours(i.getHours()-24),this.$19J=i.localeFormat(this.$Zj)),this.$Pj!==this.$ys?(this.$N4.$4i===""&&this.$IA===""?(this.$IA=t.localeFormat(this.$14t),this.$wr[this.$IA]=t.format("h:mm tt")):this.$IA=this.$N4.$4i,t.setHours(0),t.setMinutes(0),this.$ID||t.setTime(this.$21z(this.$IA)+t.getTime())):this.$IA=t.localeFormat(this.$14t),this.$ys=this.$Pj,this.$y5=t.toString(),r=Microsoft.Crm.Client.Core.Framework.$h.$Lk(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$FS(),this.get_Behavior(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9()),this.set_Data(new Date(r.getTime()))),this.$N4.set_SelectedItem(this.$IA),this.$ID&&(this.$1J2=!1),this.$7("DateValueSet"),n},$21z:function(n){var u=new Date("23 Feb, 1991 "+this.$wr[n]),f=u.localeFormat("H:mm"),t=new Array(2),i=0,r=0;return t=f.trim().split(":"),i=parseInt(t[0]),r=parseInt(t[1]),(i*60+r)*6e4},$A8:null,get_Format:function(){return this.$A8},set_Format:function(n){return this.$A8!==n&&(this.$A8=n,this.$7("Format")),n},$18e:null,get_timeFormat:function(){return $0.$0(this.$18e)&&(this.$18e="12"),this.$18e},set_timeFormat:function(n){if(n!=="12"&&n!=="24")throw Error.argumentNull("TimeFormat invalid for control DateTime - TimeFormat can only be 12 or 24");else this.$18e=n;return n},clearFilterValues:function(){this.$Pj="";this.$IA="";this.$Gv=new Date;this.set_Data(null);this.$7("DateValueSet")},$2ZL:function(){for(var t,u=0,f=new Array(24),i,r,n=0;n<24;n++)for(t=0;t<60;t+=15)i=new Date(0,0,0,n,t,0),r=i.localeFormat(this.$14t),this.$wr[r]=i.format("h:mm tt"),f[u]=r,u++;return f}};Microsoft.Crm.Client.Core.ViewModels.$9D=function(){this.$$d_$P2=Function.createDelegate(this,this.$P2);Microsoft.Crm.Client.Core.ViewModels.$9D.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$9D.prototype={$1Ey:null,$1PK:null,$fz:null,$TA:null,$rE:null,get_DurationItemList:function(){return this.$rE},get_DurationListComboBox:function(){return $0.$0(this.$TA)&&(this.$TA=new Microsoft.Crm.Client.Core.ViewModels.$Bn),this.$TA},get_InitialText:function(){return this.$fz},set_InitialText:function(n){if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))this.$fz=this.$rE[2].get_Label();else{var t=parseInt(n);this.$fz=this.$1wT(t);this.$7("InitialTextSet")}return n},get_DurationValue:function(){return this.$1Ey},set_DurationValue:function(n){if(n){var t=Number.parseLocale(n);this.$1Ey=this.$1wT(t);this.$7("DurationValueSet")}else this.$1Ey="";return n},get_SelectedDuration:function(){return this.$1PK},set_SelectedDuration:function(n){var t=n;return this.$1PK=this.$2Xz(t).toString(),this.$7("SelectedDurationSet"),n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$1Rp())},$Oh:function(){$0.$0(this.$TA)||(this.$TA.RemovePropertyChangedListener("SelectedItem",this.$$d_$P2),this.$TA.dispose(),this.$TA=null);this.$rE=null;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$P2:function(){IsNull(this.$TA.$4i)||this.set_DurationValue(this.$TA.$4i)},$1wT:function(n){var r=null,e=1e-8,t=n,u,i,o;if(isNaN(t))r=n.toLocaleString();else if(t<60){if(u=String.localeFormat("{0:N0}",t),$0.$1Y(u)||!u.length)return null;r=t===1?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Minute").toString(),u):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Minutes").toString(),u)}else if(t>=60&&t<1440)i=t/60,o=String.localeFormat("{0:N2}",i),(Math.abs(i%1)<=e||Math.abs(i%1-1)<=e)&&(o=String.localeFormat("{0:N0}",i)),r=i===1?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hour").toString(),o):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),o);else if(t>=1440){var h=t/60,f=h/24,s=String.localeFormat("{0:N2}",f);(Math.abs(f%1)<=e||Math.abs(f%1-1)<=e)&&(s=String.localeFormat("{0:N0}",f));r=f===1?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Day").toString(),s):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Days"),s)}return r},$2Xz:function(n){var t,i;return Microsoft.Crm.Client.Core.Framework.$3.$9(n)?0:(t=n.toString().split(" ")[1],i=Number.parseLocale(n.toString().split(" ")[0]),t===String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"").trim()||t===String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hour").toString(),"").trim()?i*60:t===String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Day").toString(),"").trim()||t===String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Days").toString(),"").trim()?i*1440:i)},$2RK:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Minute").toString(),"1")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Minutes").toString(),"15")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Minutes").toString(),"30")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Minutes").toString(),"45")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hour").toString(),"1")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"1.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"2")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"2.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"3")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"3.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"4")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"4.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"5.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"6")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"6.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"7")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"7.5")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Hours").toString(),"8")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Day").toString(),"1")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Days").toString(),"2")),n.add(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppDurationControl_Days").toString(),"3")),n},$1Rp:function(){for(var t=this.$2RK(),i=new Array(t.get_Count()),n=0;n<t.get_Count();n++)i[n]=new Microsoft.Crm.Client.Core.ViewModels.$Bm(n.toLocaleString(),t.get_$R(n));this.get_DurationListComboBox().set_ItemsList(i);this.get_DurationListComboBox().AddPropertyChangedListener("SelectedItem",this.$$d_$P2);this.$rE=i},listItemScreenReaderText:function(n,t,i){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DurationControl_ListItem_ScreenReader_Text"),n,t,i)},selectedItemScreenReaderText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DurationControl_SelectedItem_ScreenReader_Text"),this.$1PK)},onFocusScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DurationControl_OnFocus_ScreenReader_Text"),n,this.$rE.length)}};Microsoft.Crm.Client.Core.ViewModels.$2s=function(){this.$1PB=-1};Microsoft.Crm.Client.Core.ViewModels.$2s.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$2s.$C)&&(Microsoft.Crm.Client.Core.ViewModels.$2s.$C=new Microsoft.Crm.Client.Core.ViewModels.$2s),Microsoft.Crm.Client.Core.ViewModels.$2s.$C};Microsoft.Crm.Client.Core.ViewModels.$2s.prototype={$1Fd:0,$zW:0,get_$2pB:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()},$170:function(n){this.$zW!==1&&this.$2G7(n)},$2Cw:function(){this.$1qw();var n=this;this.$34A(function(){if(n.$zW===1){n.$2Cw();return}n.$2G7(!1)},"MailAppRecipientsShadowResolution",1e4)},$2G7:function(n){var t=this.$2iq(n),r=this,i;t.add_$by(function(){r.$1Fd=0;r.$1pL()});i=this;t.add_$Qe(function(){i.$1Fd++;i.$1pL()});this.$2MF();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ng.$2C(t)},$2MF:function(){this.$1qw();this.$zW=1},$1pL:function(){this.$zW=0;this.get_$2pB()&&this.$1Fd<5&&this.$2Cw()},$2iq:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$I(null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("ResolveRecipients",{resolveFromScratch:n}));return t.$56()},$34A:function(n,t,i){var r=this;this.$1PB=window.setTimeout(function(){Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n()},0,t)},i)},$1qw:function(){this.$1PB!==-1&&window.clearTimeout(this.$1PB)}};Microsoft.Crm.Client.Core.ViewModels.$RI=function(n,t,i){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.$RI.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$bP=n;this.$11w=i;this.$EA=t};Microsoft.Crm.Client.Core.ViewModels.$RI.prototype={$bP:null,$11w:null,$EA:0,$2E:function(){switch(this.$EA){case 0:this.$bP.get_ArticleFilterViewModel().set_SelectedItem(this.$11w);break;case 1:this.$bP.get_SortFilterViewModel().set_SelectedItem(this.$11w);break;case 2:this.$bP.get_ArticleLanguageFilterViewModel().set_SelectedItem(this.$11w)}}};Microsoft.Crm.Client.Core.ViewModels.$I1=function(){};Microsoft.Crm.Client.Core.ViewModels.$I1.prototype={$p3:null,get_KbSearchFilterCommand:function(){return this.$p3},set_KbSearchFilterCommand:function(n){return this.$p3=n,n},$FX:null,get_Label:function(){return this.$FX},set_Label:function(n){return this.$FX=n,n},$4j:null,get_Value:function(){return this.$4j},set_Value:function(n){return this.$4j=n,n},$oq:!1,get_IsActive:function(){return this.$oq},set_IsActive:function(n){return this.$oq=n,n},$1UN:!1,get_ShowChildren:function(){return this.$1UN},set_ShowChildren:function(n){return this.$1UN=n,n},$1Kq:null,get_$1fa:function(){return $0.$0(this.$1Kq)&&(this.$1Kq=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$I1))),this.$1Kq},get_Children:function(){return this.get_$1fa().toArray()},get_HasChildren:function(){return this.get_$1fa().get_Count()>0},$3w:function(n){this.get_$1fa().add(n)}};Microsoft.Crm.Client.Core.ViewModels.$SA=function(n){Microsoft.Crm.Client.Core.ViewModels.$SA.initializeBase(this);this.$KM=n};Microsoft.Crm.Client.Core.ViewModels.$SA.prototype={$KM:null,$1Ow:null,$1Sp:null,get_CurrentFilterItemOpened:function(){return this.$1Sp},set_CurrentFilterItemOpened:function(n){return this.$1Sp=n,n},get_RootKbSearchFilterItem:function(){return $0.$0(this.$1Ow)&&(this.$1Ow=this.$2Mp()),this.$1Ow},$2Mp:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$I1,t,o,s,u,i,h,c,f,r,l,e;if(n.$4j="root",this.$KM.$19K){for(t=new Microsoft.Crm.Client.Core.ViewModels.$I1,o=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SearchWidget.Mobile.Filters.FilterBy"),t.$4j=o,t.$FX=o,s=this.$2pv(),u=0;u<s.get_Count();u++)t.$3w(s.get_Items()[u]);n.$3w(t)}for(i=new Microsoft.Crm.Client.Core.ViewModels.$I1,h=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SearchWidget.Mobile.Filters.SortBy"),i.$4j=h,i.$FX=h,c=this.$2px(),f=0;f<c.get_Count();f++)i.$3w(c.get_Items()[f]);if(n.$3w(i),this.$KM.$1BF){for(r=new Microsoft.Crm.Client.Core.ViewModels.$I1,r.$4j=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.Filter.Label.Language"),r.$FX=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.Filter.Label.Language"),l=this.$2pw(),e=0;e<l.get_Count();e++)r.$3w(l.get_Items()[e]);n.$3w(r)}return n},$2pv:function(){for(var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$I1)),f=this.$KM.get_ArticleFilterViewModel().$4i,u=this.$KM.get_ArticleFilterViewModel().$kM,e=u.length,i=0;i<e;++i){var t=u[i],o=new Microsoft.Crm.Client.Core.ViewModels.$RI(this.$KM,0,t),n=new Microsoft.Crm.Client.Core.ViewModels.$I1;n.$p3=o;n.$4j=t;n.$FX=t;f===t&&(n.$oq=!0);r.add(n)}return r},$2px:function(){for(var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$I1)),f=this.$KM.get_SortFilterViewModel().$4i,u=this.$KM.get_SortFilterViewModel().$F4,e=u.length,i=0;i<e;++i){var t=u[i],o=new Microsoft.Crm.Client.Core.ViewModels.$RI(this.$KM,1,t),n=new Microsoft.Crm.Client.Core.ViewModels.$I1;n.$p3=o;n.$4j=t;n.$FX=t;f===t&&(n.$oq=!0);r.add(n)}return r},$2pw:function(){for(var u,n,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$I1)),i=this.$KM.get_ArticleLanguageFilterViewModel().$F4,f=this.$KM.get_ArticleLanguageFilterViewModel().$HP,e=this.$KM.get_ArticleLanguageFilterViewModel().$4i,t=0;t<i.length;t++)u=new Microsoft.Crm.Client.Core.ViewModels.$RI(this.$KM,2,i[t]),n=new Microsoft.Crm.Client.Core.ViewModels.$I1,n.$p3=u,n.$4j=i[t],n.$FX=f[t],e===n.$4j&&(n.$oq=!0),r.add(n);return r}};Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel=function(){this.$$d_$1sQ=Function.createDelegate(this,this.$1sQ);this.$$d_$2zJ=Function.createDelegate(this,this.$2zJ);this.$$d_$2ko=Function.createDelegate(this,this.$2ko);this.$$d_$2Pm=Function.createDelegate(this,this.$2Pm);Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("RichEditorViewModel",Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.$33Q)};Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.$33Q=function(){return new Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel};Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.prototype={$1j4:!1,$1QG:!0,$1KN:!1,$1IQ:!1,$1Px:!1,$1EN:!1,$1Pp:!1,$1Pr:!1,$1RV:'[{"name": "Font", "items": ["Font", "FontSize"]},{"name": "Effects", "items": ["Bold", "Italic", "Underline", "Strike"]},{"name": "Color", "items": ["TextColor", "BGColor"]},{"name": "Indentation", "items": ["NumberedList", "BulletedList", "Indent", "Outdent"]},{"name": "Paste", "items": ["PasteText", "PasteFromWord"]},{"name": "Additional", "items": ["Table", "Image", "Link", "Unlink"]},{"name": "Source", "items": ["Source"]}]',$1FW:'[{"name": "Font", "items": ["Styles", "Format", "Font", "FontSize"]},{"name": "Effects", "items": ["Bold", "Italic", "Underline", "Strike"]},{"name": "Color", "items": ["TextColor", "BGColor"]},{"name": "Alignment", "items": ["JustifyLeft", "JustifyCenter", "JustifyRight"]},{"name": "Indentation", "items": ["NumberedList", "BulletedList", "Indent", "Outdent"]},{"name": "Paste", "items": ["PasteText", "PasteFromWord"]},{"name": "Additional", "items": ["Table", "Image", "Link", "Unlink", "Anchor"]},{"name": "Source", "items": ["EmbedMedia", "CreateDiv", "Source"]}]',$1IK:"[]",$xb:null,$Di:"en-us",$1Ff:"en-us",$1DD:"",$ZY:"",$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$xb=new Microsoft.Crm.Client.Core.Commands.$AO(this.$$d_$2Pm,105);this.$2.AddPropertyChangedListener("IsLocked",this.$$d_$2ko);this.$Hd()},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this);$0.$0(this.get_ModelContext())||this.get_ModelContext().add_$7v(this.$$d_$2zJ)},$Oh:function(){$0.$0(this.$xb)||(this.$xb.dispose(),this.$xb=null);this.$2.RemovePropertyChangedListener("IsLocked",this.$$d_$2ko);$0.$0(this.get_ModelContext())||this.get_ModelContext().remove_$7v(this.$$d_$2zJ);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$2zJ:function(){this.$7("RecordUpdate")},$2Pm:function(){var n=new Xrm.ConfirmDialogStrings;n.text=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("EmailMessageBody_Confirm_View_Harmful_Content");n.confirmButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text");n.cancelButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text");Xrm.Dialog.openConfirmDialog(n,null,this.$$d_$1sQ,null)},$2ko:function(){this.$7("ReadOnly")},$1sQ:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),i=n.ui.$2,r=i.get_$1B().get_Id(),u=String.format("{0}/_controls/emailbody/msgBody.aspx?id={1}&entityType=email",n.context.getClientUrl(),r),t=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand(null,u);try{t.execute()}finally{t.dispose()}},get_Data:function(){return Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.get_Data.call(this)},set_Data:function(n){return this.$1Pp?n:(this.$1Pp=!0,Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.set_Data.call(this,n),this.get_SettingData()||this.set_DataSet(!0),this.$1Px=!1,this.$1Pp=!1,n)},get_Enabled:function(){return Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.get_Enabled.call(this)},set_Enabled:function(n){return this.$1Pr?n:(this.$1Pr=!0,Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.set_Enabled.call(this,n),this.$7("ReadOnly"),this.$1Pr=!1,n)},get_ReadOnly:function(){return this.$gG(this.$1j4)||!this.$gG(this.get_Enabled())||this.$gG(this.$2.get_IsLocked())},set_ReadOnly:function(n){return this.$1j4=n,this.$7("ReadOnly"),n},get_ShowDialogs:function(){return this.$gG(this.$1QG)},set_ShowDialogs:function(n){return this.$1QG!==n&&(this.$1QG=n,this.$7("ShowDialogs")),n},get_IsViewExpandable:function(){return this.$gG(this.$1KN)},set_IsViewExpandable:function(n){return this.$1KN!==n&&(this.$1KN=n,this.$7("IsViewExpandable")),n},get_HideToolbar:function(){return this.$gG(this.$1IQ)},set_HideToolbar:function(n){return this.$1IQ!==n&&(this.$1IQ=n,this.$7("HideToolbar")),n},get_SettingData:function(){return this.$gG(this.$1Px)},set_SettingData:function(n){return this.$1Px=n,n},get_DataSet:function(){return this.$gG(this.$1EN)},set_DataSet:function(n){return this.$1EN=n,this.$1EN&&this.$7("ClientApi_Data"),n},get_ToolbarJSON:function(){return this.$1RV},set_ToolbarJSON:function(n){return this.$1RV!==n&&(this.$1RV=n,this.$7("ToolbarJSON")),n},get_ExpandedToolbarJSON:function(){return this.get_IsViewExpandable()?this.$1FW:"[]"},set_ExpandedToolbarJSON:function(n){return this.$1FW!==n&&(this.$1FW=n,this.$7("ExpandedToolbarJSON")),n},get_HiddenToolbarJSON:function(){return this.$1IK},set_HiddenToolbarJSON:function(n){return this.$1IK!==n&&(this.$1IK=n,this.$7("HiddenToolbarJSON")),n},get_LanguageCode:function(){return this.$Di},set_LanguageCode:function(n){return this.$Di!==n&&(this.$Di=n,this.$7("LanguageCode")),n},get_FallbackLanguageCode:function(){return this.$1Ff},set_FallbackLanguageCode:function(n){return this.$1Ff!==n&&(this.$1Ff=n,this.$7("FallbackLanguageCode")),n},get_ClassName:function(){return this.$1DD},set_ClassName:function(n){return this.$1DD!==n&&(this.$1DD=n,this.$7("ClassName")),n},get_LabelValue:function(){return this.$ZY},set_LabelValue:function(n){return this.$ZY!==n&&(this.$ZY=n,this.$7("LabelValue")),n},$gG:function(n){return n.toString().toLowerCase()==="true"},get_MaliciousContentMessage:function(){return Xrm.Internal.getResourceString("Email_BadContent_Warning")},get_OpenMaliciousContentMessage:function(){return Xrm.Internal.getResourceString("Email_BadContent_Unblock_Command")},get_ViewFullContentCommand:function(){return this.$xb}};Microsoft.Crm.Client.Core.ViewModels.$Ak=function(){this.$$d_$22a=Function.createDelegate(this,this.$22a);this.$$d_$2kW=Function.createDelegate(this,this.$2kW);Microsoft.Crm.Client.Core.ViewModels.$Ak.initializeBase(this);this.set_ActiveContainer("StaticTabs")};Microsoft.Crm.Client.Core.ViewModels.$Ak.prototype={$1Ux:null,$2AO:null,get_ActiveContainer:function(){return this.$1Ux},set_ActiveContainer:function(n){return this.$1Ux=n,this.$7("ActiveContainer"),n},$1U9:null,get_QuickViewModelsList:function(){return this.$1U9},set_QuickViewModelsList:function(n){return this.$1U9=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I,this.$$d_$2kW);this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_$22a);var n=this;this.$2.add_$FD(function(){n.$30c()})},$22a:function(n){if(n.$1T0==="IFrameViewModel")this.onChildTabClicked(n.$Si,!0)},$Oh:function(){this.$2AO=null;this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I,this.$$d_$2kW);this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_$22a);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$30c:function(){var n=this.$H.HorizontalTabs,e=this.$H.StaticTabs,t,u,f,i,o,r;if(n.$9d.get_Count()){t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));u=n.$H;for(f in u)i={key:f,value:u[f]},o=i.value,n.removeChildStack(i.key),t.add(i.key),o.dispose();for(r=0;r<t.get_Count();r++)delete n.$H[t.get_$R(r)];n.$9d.clear();n.set_ActiveChild(null);n.$dy.clear();this.set_ActiveContainer("StaticTabs");e.set_ActiveChild(e.$9d.get_$R(0))}},$2kW:function(n){var t=this.$H.HorizontalTabs;t.openQuickviewForm(n.$9F,n.$ik)},onChildTabCloseButtonClicked:function(n){var t=this.$H.HorizontalTabs,i=this.$H.StaticTabs;n.startsWith("HorizontalTab")&&(t.removeChild(n),t.removeChildStack(n),t.$Sl&&t.setPrevActive(),t.$9d.toArray().length||(i.set_ActiveChild(i.$39r()),this.set_ActiveContainer("StaticTabs")))},onChildTabClicked:function(n,t){var i,r,s,f,v,u,h,e,c,l,a,o;if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("ReferencePanelTabClicked",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("ReferencePanelTabUpdated",0,this.get_ViewModelId()),i=this.$H.HorizontalTabs,r=this.$H.StaticTabs,n.startsWith("SessionTabContainer"))for(this.set_ActiveContainer("StaticTabs"),s=r.$9d,r.$H[n].RefreshLists(),i.set_ActiveChild(null),r.$H[n].set_TabData(null),f=0;f<s.get_Count();f++)s.get_$R(f)===n&&(r.set_ActiveChild(n),r.pushChild(n),t||(v=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(n,"ReferencePanelViewModel"),this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,v)));else if(n.startsWith("HorizontalTab")){if(!i.$9d.toArray().length)return;for(u=i.$9d,h=!1,e=0;e<u.get_Count();e++)if(u.get_$R(e)===n){h=!0;break}if(!h)return;r.set_ActiveChild(null);this.set_ActiveContainer("HorizontalTabs");i.$H[n].RefreshLists();c=i.$H[n].$H;for(l in c)a={key:l,value:c[l]},Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.isInstanceOfType(a.value)&&(a.value.$LA=!0);for(o=0;o<u.get_Count();o++)u.get_$R(o)===n&&(i.set_ActiveChild(n),i.pushChild(n))}}};Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo=function(){};Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo.prototype={$1TT:!1,get_IsMultiSelectUsingControlKey:function(){return this.$1TT},set_IsMultiSelectUsingControlKey:function(n){return this.$1TT=n,n},$1TU:!1,get_IsMultiSelectUsingShiftKey:function(){return this.$1TU},set_IsMultiSelectUsingShiftKey:function(n){return this.$1TU=n,n},$1Su:0,get_Direction:function(){return this.$1Su},set_Direction:function(n){return this.$1Su=n,n}};Microsoft.Crm.Client.Core.ViewModels.$6a=function(){this.$$d_$tc=Function.createDelegate(this,this.$tc);this.$$d_$2zI=Function.createDelegate(this,this.$2zI);this.$$d_$1gQ=Function.createDelegate(this,this.$1gQ);this.$$d_$1kX=Function.createDelegate(this,this.$1kX);this.$Af=-1;Microsoft.Crm.Client.Core.ViewModels.$6a.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$6a.$q9=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$Sr.get_$R(n.toString());return $0.$0(t)?!1:t.$dv};Microsoft.Crm.Client.Core.ViewModels.$6a.prototype={$18d:0,$18f:0,$11o:null,$z:null,$4Z:null,$18g:!1,$18K:null,$11n:null,$199:null,$10L:null,$167:null,$Fk:null,$1Zu:null,$1f8:!1,$1eJ:!1,$1f5:!1,$Bk:null,get_TimerState:function(){return this.$Bk},set_TimerState:function(n){return this.$Bk=n,n},$Q3:null,get_SuccessConditionName:function(){return this.$Q3},set_SuccessConditionName:function(n){return this.$Q3=n,n},$zL:null,get_SuccessConditionValue:function(){return this.$zL},set_SuccessConditionValue:function(n){return this.$zL=n,n},$Pm:null,get_FailureConditionName:function(){return this.$Pm},set_FailureConditionName:function(n){return this.$Pm=n,n},$yI:null,get_FailureConditionValue:function(){return this.$yI},set_FailureConditionValue:function(n){return this.$yI=n,n},get_TimeDifferenceInSeconds:function(){return this.$18d},set_TimeDifferenceInSeconds:function(n){return this.$18d=n,n},$SP:null,get_FailureTimeField:function(){return this.$SP},set_FailureTimeField:function(n){return this.$SP=n,n},$Q6:null,get_WarningConditionName:function(){return this.$Q6},set_WarningConditionName:function(n){return this.$Q6=n,n},$zU:null,get_WarningConditionValue:function(){return this.$zU},set_WarningConditionValue:function(n){return this.$zU=n,n},$Pf:null,get_CancelConditionName:function(){return this.$Pf},set_CancelConditionName:function(n){return this.$Pf=n,n},$xt:null,get_CancelConditionValue:function(){return this.$xt},set_CancelConditionValue:function(n){return this.$xt=n,n},$Pw:null,get_PauseConditionName:function(){return this.$Pw},set_PauseConditionName:function(n){return this.$Pw=n,n},$yp:null,get_PauseConditionValue:function(){return this.$yp},set_PauseConditionValue:function(n){return this.$yp=n,n},get_FailureDateTime:function(){return this.$1Zu},set_FailureDateTime:function(n){return this.$1Zu=n,n},$1Sn:null,get_ControlId:function(){return this.$1Sn},set_ControlId:function(n){return this.$1Sn=n,n},get_TimeRemainingInMilliseconds:function(){return this.$18f},set_TimeRemainingInMilliseconds:function(n){return this.$18f=n,n},$Kz:null,get_AttributeMetadataActionProvider:function(){return this.$Kz},set_AttributeMetadataActionProvider:function(n){return this.$Kz=n,n},get_ControlLabelValue:function(){return this.$1G},set_ControlLabelValue:function(n){return this.set_Label(n),n},$y7:null,get_Days:function(){return this.$y7},set_Days:function(n){return this.$y7=n,n},$yQ:null,get_Hours:function(){return this.$yQ},set_Hours:function(n){return this.$yQ=n,n},$yg:null,get_Minutes:function(){return this.$yg},set_Minutes:function(n){return this.$yg=n,n},$zA:null,get_Seconds:function(){return this.$zA},set_Seconds:function(n){return this.$zA=n,n},$dA:!1,get_IsTimerInitialized:function(){return this.$dA},set_IsTimerInitialized:function(n){return this.$dA=n,n},$2Z:function(){this.$1a||Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$y7="";this.$yQ="";this.$yg="";this.$zA="";this.$18g=!0;this.$dA=!1;this.$2.$2.$6i===1&&(this.$Bk=Microsoft.Crm.Client.Core.ViewModels.$6a.$15.toString(1));this.$2.add_$FD(this.$$d_$1kX)},$1kX:function(){var n,t;$0.$0(this.$2)||$0.$0(this.$2.$2)||$0.$0(this.$2.$2.get_ModelContext())||(this.$2.$2.get_ModelContext().remove_$7L(this.$$d_$1gQ),this.$2.$2.get_ModelContext().add_$7L(this.$$d_$1gQ),this.$2.$2.get_ModelContext().remove_$7v(this.$$d_$2zI),this.$2.$2.get_ModelContext().add_$7v(this.$$d_$2zI),this.$z=this.$2.get_ModelContext().get_$4m().LogicalName.toString(),this.$4Z=this.$2.get_ModelContext().get_$4m().get_key().toString(),this.$2PX(),n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskLogGetServerTimeParameterEvent"),n.$h("EntityName",this.$z),n.$h("RecordId",this.$4Z),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n),t={},t.EntityName=this.$z,t.RecordId=this.$4Z,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("GetServerTimeParameter",2008,t,"OnModelContextChange"),this.$1cV())},$1gQ:function(n,t){var i,r;this.$2.$2.$6i!==1&&(i=!1,t===this.$Q3&&(this.$18K=this.$2.$2.get_ModelContext().GetValue(t).getValue("value").toString(),i=!0),t===this.$Pm&&(this.$11n=this.$2.$2.get_ModelContext().GetValue(t).getValue("value").toString(),i=!0),t===this.$Pf&&(this.$10L=this.$2.$2.get_ModelContext().GetValue(t).getValue("value").toString(),i=!0),t===this.$Pw&&(this.$167=this.$2.$2.get_ModelContext().GetValue(t).getValue("value").toString(),i=!0),t===this.$Q6&&(this.$199=this.$2.$2.get_ModelContext().GetValue(t).getValue("value").toString(),i=!0),t===this.$SP&&(r=new Date(this.$2.$2.get_ModelContext().GetValue(t).toString()),this.$11o=r.toUTCString(),i=!0),i&&this.$12f())},$2PX:function(){var n,i;if(this.$Fk=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$Fk.contains(this.$Q3)||$0.$0(this.$Q3)||this.$Fk.add(this.$Q3),this.$Fk.contains(this.$Pm)||$0.$0(this.$Pm)||this.$Fk.add(this.$Pm),this.$Fk.contains(this.$SP)||$0.$0(this.$SP)||this.$Fk.add(this.$SP),this.$Fk.contains(this.$Q6)||$0.$0(this.$Q6)||this.$Fk.add(this.$Q6),this.$Fk.contains(this.$Pw)||$0.$0(this.$Pw)||this.$Fk.add(this.$Pw),this.$Fk.contains(this.$Pf)||$0.$0(this.$Pf)||this.$Fk.add(this.$Pf),n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$fX(this.$z,this.$Fk.toArray()),$0.$0(n)||!n.length)this.$Kl(this.$Fk.toArray(),this.$z);else for(var r=n,u=r.length,t=0;t<u;++t)if(i=r[t],i.$DB&&!Microsoft.Crm.Client.Core.ViewModels.$6a.$q9(i.$1P)){this.$18g=!1;break}},$Kl:function(n,t){var i,r;n.length&&(i={},i.EntityType=t,i.Attributes=n,i.OnSuccess=this.$$d_$tc,this.$Kz=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null)),r=this.$Kz.$B1(i),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(r))},$tc:function(n){for(var i,r=n,u=r.length,t=0;t<u;++t)if(i=r[t],i.get_$gF()&&!Microsoft.Crm.Client.Core.ViewModels.$6a.$q9(i.get_$2m())){this.$18g=!1;break}},$1cV:function(){var t={},n,i,r;t.entityName=this.$z;t.entityId=this.$4Z;n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("GetCurrentServerDateTimeInUtcRequest",t);i=this;n.OnSuccess=function(n){i.$DI(n)};r=this;n.OnFailure=function(n){r.$7S(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,n)},$DI:function(n){var u=Sys.Net.XMLDOM(n.serverDateTime),t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(u).$N("Times");if(t){var i=t.$10("ServerTime").toString(),f=new Date,r=new Date(i);r.toString()==="NaN"&&(i=t.$10("ServerTimeForIE8").toString(),r=new Date(i));this.$18d=Math.floor((Date.parse(f.toUTCString())-Date.parse(r.toUTCString()))/1e3);$0.$0(t.$10(this.$SP))||(this.$11o=t.$10(this.$SP).toString());this.$2jh()}},$7S:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskServerTimeFailedEvent");t.$h("ErrorStatus",n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("getCurrentServerTimeFailed",2008,{ErrorStatus:n.toString()},"getCurrentServerTime Failed")},$2jh:function(){var n=this;Xrm.Internal.messages.retrieve(this.$z,this.$4Z,this.$Fk.toArray()).then(function(t){if(!IsNull(t)){var i=t.entity;$0.$0(n.$Q3)||$0.$0(i.getValue(n.$Q3))||(n.$18K=i.getValue(n.$Q3).getValue("value").toString());$0.$0(n.$Pm)||$0.$0(i.getValue(n.$Pm))||(n.$11n=i.getValue(n.$Pm).getValue("value").toString());$0.$0(n.$Q6)||$0.$0(i.getValue(n.$Q6))||(n.$199=i.getValue(n.$Q6).getValue("value").toString());$0.$0(n.$Pw)||$0.$0(i.getValue(n.$Pw))||(n.$167=i.getValue(n.$Pw).getValue("value").toString());$0.$0(n.$Pf)||$0.$0(i.getValue(n.$Pf))||(n.$10L=i.getValue(n.$Pf).getValue("value").toString());n.$dA=!0;n.$12f()}},null)},$2Ht:function(){var n=new Date,t;return n.setMinutes(n.getMinutes()+n.getTimezoneOffset()),t=n.toUTCString(),this.$18f=Date.parse(this.$11o)-Date.parse(t)+this.$18d*1e3,this.$18f},$12f:function(){var n,t,i;this.$18g?$0.$0(this.$SP)||$0.$0(this.$11o)?(this.$Bk=Microsoft.Crm.Client.Core.ViewModels.$6a.$15.toString(1),this.$7("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("TimerState",2008,{TimerState:this.$Bk},"")):$0.$0(this.$Pm)||$0.$0(this.$yI)||$0.$0(this.$11n)||this.$yI!==this.$11n?$0.$0(this.$Pf)||$0.$0(this.$xt)||$0.$0(this.$10L)||this.$xt!==this.$10L?$0.$0(this.$Q3)||$0.$0(this.$zL)||$0.$0(this.$18K)||this.$zL!==this.$18K?$0.$0(this.$Pw)||$0.$0(this.$yp)||$0.$0(this.$167)||this.$yp!==this.$167?this.$2Ht()>0?$0.$0(this.$Q6)||$0.$0(this.$zU)||$0.$0(this.$199)||this.$zU!==this.$199?(this.$Bk=Microsoft.Crm.Client.Core.ViewModels.$6a.$15.toString(2),this.$1eJ||(this.$1eJ=!0,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("TimerState",2008,{TimerState:this.$Bk},"")),this.$1iS(),this.$7("ViewChanged"),t=this,this.$Af=window.setTimeout(function(){t.$12f()},1e3)):(this.$Bk=Microsoft.Crm.Client.Core.ViewModels.$6a.$15.toString(3),this.$1f8||(this.$1f8=!0,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("TimerState",2008,{TimerState:this.$Bk},"")),this.$1iS(),this.$7("ViewChanged"),n=this,this.$Af=window.setTimeout(function(){n.$12f()},1e3)):(this.$Bk=Microsoft.Crm.Client.Core.ViewModels.$6a.$15.toString(4),this.$1f5||(this.$1f5=!0,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("TimerState",2008,{TimerState:this.$Bk},"")),this.$1iS(),this.$7("ViewChanged"),i=this,this.$Af=window.setTimeout(function(){i.$12f()},1e3)):(this.$Bk=Microsoft.Crm.Client.Core.ViewModels.$6a.$15.toString(8),this.$7("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("TimerState",2008,{TimerState:this.$Bk},"")):(this.$Bk=Microsoft.Crm.Client.Core.ViewModels.$6a.$15.toString(5),this.$7("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("TimerState",2008,{TimerState:this.$Bk},"")):(this.$Bk=Microsoft.Crm.Client.Core.ViewModels.$6a.$15.toString(7),this.$7("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("TimerState",2008,{TimerState:this.$Bk},"")):(this.$Bk=Microsoft.Crm.Client.Core.ViewModels.$6a.$15.toString(6),this.$7("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("TimerState",2008,{TimerState:this.$Bk},"")):(this.$Bk=Microsoft.Crm.Client.Core.ViewModels.$6a.$15.toString(0),this.$7("ViewChanged"),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("TimerState",2008,{TimerState:this.$Bk},""))},$1iS:function(){var n=Math.abs(this.$2Ht())/1e3,u=Math.floor(n/86400),t,i,r;this.$y7=u.toString();n=n%86400;t=Math.floor(n/3600);this.$yQ=t.toString();n=n%3600;i=Math.floor(n/60);this.$yg=i.toString();n=n%60;r=Math.floor(n);this.$zA=r.toString()},$2zI:function(){this.$dA&&this.$1cV()},$Rr:function(){this.$dA&&this.$1cV()},$Oh:function(){window.clearTimeout(this.$Af);this.$Af=-1;this.$dA=!1;$0.$0(this.$2)||this.$2.remove_$FD(this.$$d_$1kX);$0.$0(this.$2)||$0.$0(this.$2.$2)||$0.$0(this.$2.$2.get_ModelContext())||(this.$2.$2.get_ModelContext().remove_$7L(this.$$d_$1gQ),this.$2.$2.get_ModelContext().remove_$7v(this.$$d_$2zI));Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$6a.$15=function(){};Microsoft.Crm.Client.Core.ViewModels.$6a.$15.prototype={noPrivilege:0,notSet:1,inProgress:2,nearingViolation:3,violated:4,successful:5,unsuccessful:6,canceled:7,paused:8};Microsoft.Crm.Client.Core.ViewModels.$6a.$15.registerEnum("Microsoft.Crm.Client.Core.ViewModels.$6a.$15",!1);Microsoft.Crm.Client.Core.ViewModels.$Br=function(){Microsoft.Crm.Client.Core.ViewModels.$Br.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Br.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("ContentPaneViewModel",Microsoft.Crm.Client.Core.ViewModels.$Br)};Microsoft.Crm.Client.Core.ViewModels.$I0=function(n,t,i){this.$I5=n;this.$FX=i;this.$4j=t};Microsoft.Crm.Client.Core.ViewModels.$I0.prototype={$I5:null,get_Key:function(){return this.$I5},set_Key:function(n){return this.$I5=n,n},$FX:null,get_Label:function(){return this.$FX},set_Label:function(n){return this.$FX=n,n},$4j:null,get_Value:function(){return this.$4j},set_Value:function(n){return this.$4j=n,n},$yS:null,get_IconSymbol:function(){return this.$yS},set_IconSymbol:function(n){return this.$yS=n,n},$yR:null,get_IconClassName:function(){return this.$yR},set_IconClassName:function(n){return this.$yR=n,n},$WC:null,get_Tooltip:function(){return this.$WC},set_Tooltip:function(n){return this.$WC=n,n},$ct:null,get_ClassName:function(){return this.$ct},set_ClassName:function(n){return this.$ct=n,n}};Microsoft.Crm.Client.Core.ViewModels.$CN=function(){this.$25P=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$I0));Microsoft.Crm.Client.Core.ViewModels.$CN.initializeBase(this);this.$dE=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$I0))};Microsoft.Crm.Client.Core.ViewModels.$CN.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("EntitySearchResultLegendsViewModel",Microsoft.Crm.Client.Core.ViewModels.$CN)};Microsoft.Crm.Client.Core.ViewModels.$CN.prototype={$dE:null,get_LegendList:function(){return this.$dE},set_LegendList:function(n){return this.$dE=n,n},get_LegendsCount:function(){return this.$25P.get_Count()}};Microsoft.Crm.Client.Core.ViewModels.$Sc=function(){Microsoft.Crm.Client.Core.ViewModels.$Sc.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Sc.prototype={$kM:null,get_entityFilters:function(){return this.$kM},set_entityFilters:function(n){return this.$kM=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Sg=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Sg.initializeBase(this);this.$Il=t;this.$1Vp=[t.get_$1Va(),t.get_$1C0(),t.get_$1VX()];this.$kM=this.$1Vp;this.$1lL(n)};Microsoft.Crm.Client.Core.ViewModels.$Sg.prototype={$1Vp:null,$Il:null,get_$34N:function(){return this.$4i===this.$Il.get_$1Va()?"0":this.$4i===this.$Il.get_$1VX()?"1":this.$4i===this.$Il.get_$1C0()?"3":""},$1lL:function(n){this.set_ItemValues(this.$kM);this.set_ItemLabels(this.$kM);this.set_SelectedItem(this.$2fH(n))},$2fH:function(n){switch(n){case"2":return this.$Il.get_$1Va();case"3":return this.$Il.get_$1C0();case"6":return this.$Il.get_$1VX();default:return this.$Il.get_$1C0()}}};Microsoft.Crm.Client.Core.ViewModels.$Sd=function(n,t){this.$li={};Microsoft.Crm.Client.Core.ViewModels.$Sd.initializeBase(this);this.$2HY(n,t)};Microsoft.Crm.Client.Core.ViewModels.$Sd.prototype={$1PM:null,$pe:null,$11A:null,$2HY:function(n,t){$0.$0(t)||(this.$pe=t.$1Tf);this.$Sh=n;this.$2ly()},$2ly:function(){var n;if(!$0.$0(this.$pe)){for(n=0;n<this.$pe.get_count();n++){var t=this.$pe.get_$R(n),i=t.fields.name.toString(),r=t.fields.languagelocaleid.toString();this.$li[r]=i}this.$36x(this.$pe)}this.$1lL()},get_$34O:function(){return this.$4i},get_SelectedLanguageFilterName:function(){return this.$1PM},set_SelectedLanguageFilterName:function(n){return this.$1PM!==n&&n in this.$li&&(this.$1PM=this.$li[n].toString()),n},$Sh:null,$1lL:function(){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),u=this.$li,n,t;for(n in u)t={key:n,value:u[n]},i.add(t.key),r.add(t.value.toString());this.set_ItemValues(i.toArray());this.set_ItemLabels(r.toArray());this.set_SelectedItem(this.$2fG());this.set_SelectedLanguageFilterName(this.$4i)},$2fG:function(){return this.$Sh&&this.$Sh.toString()in this.$li?this.$Sh.toString():this.$11A&&this.$11A in this.$li?this.$11A:this.$F4.length>1?this.$F4[1]:this.$F4[0]},$36x:function(n){for(var i,r,u=Xrm.Page.context.getUserLcid().toString(),t=0;t<n.get_count();t++)if(i=n.get_$R(t),r=i.fields.localeid.toString(),u===r){this.$11A=i.fields.languagelocaleid.toString();return}}};Microsoft.Crm.Client.Core.ViewModels.$l=function(){};Microsoft.Crm.Client.Core.ViewModels.$l.$1ej=function(n,t){return IsNull(t.$dn)?!1:n in t.$dn};Microsoft.Crm.Client.Core.ViewModels.$l.$2fS=function(n){var t=null,i=Xrm.Page.getAttribute(n);return(IsNull(i)||(t=i.getValue()),!IsNull(t)&&!IsNull(t[0]))?t[0]:null};Microsoft.Crm.Client.Core.ViewModels.$l.$QK=function(n,t,i){var u=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t),i),f={partyid:u},e=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(e,f,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return r.$4w.add("partyid"),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([r],!1,1,!1)};Microsoft.Crm.Client.Core.ViewModels.$l.$28q=function(n,t,i){var e=Microsoft.Crm.Client.Core.ViewModels.$l.GetArticleExternalLink(n),o=i.$2p===5?n.$NP:String.format('<a href="{0}">{1}<\/a>',CrmEncodeDecode.CrmHtmlEncode(e),CrmEncodeDecode.CrmHtmlEncode(n.$4O)),f=Xrm.Page.data.entity,r={},u;r.description=o;r.subject=n.$4O;r.regardingobjectid=f.getId();r.regardingobjectidtarget=f.getEntityName();r.regardingobjectidname=f.getPrimaryAttributeValue();IsNull(t)||(u=Microsoft.Crm.Client.Core.ViewModels.$l.$2fS(t),IsNull(u)||(r.to=Microsoft.Crm.Client.Core.ViewModels.$l.$QK(u.entityType,u.id,u.name)));Xrm.Utility.openEntityForm("email",null,r)};Microsoft.Crm.Client.Core.ViewModels.$l.$13B=function(){return[new Microsoft.Crm.Client.Core.ViewModels.$Hy(0,"KMControl.SearchKMArticles.LinkArticleButtonText","KMControl.SearchKMArticles.AssociateArticleIconAltText"),new Microsoft.Crm.Client.Core.ViewModels.$Hy(1,"KMControl.SearchKMArticles.UnLinkArticleButtonText","KMControl.SearchKMArticles.DisassociateArticleIconAltText"),new Microsoft.Crm.Client.Core.ViewModels.$Hy(3,"KMControl.SearchKMArticles.EmailLinkArticleButtonText","KMControl.SearchKMArticles.EmailArticleIconAltText"),new Microsoft.Crm.Client.Core.ViewModels.$Hy(2,"KMControl.SearchKMArticles.CopyArticleIconAltText","KMControl.SearchKMArticles.CopyArticleIconToolTip"),new Microsoft.Crm.Client.Core.ViewModels.$Hy(5,"KMControl.SearchKMArticles.EmailArticleContentButtonText","KMControl.SearchKMArticles.EmailArticleContentIconAltText")]};Microsoft.Crm.Client.Core.ViewModels.$l.$2OL=function(n,t){var r,f,e;if(n.$zI==="ShowAll")return!0;if(IsNull(n.$xk))return!1;r=n.$xk.split(",");for(var u=r,o=u.length,i=0;i<o;++i)if(f=u[i],e=Number.parseInvariant(f),e===t)return!0;return!1};Microsoft.Crm.Client.Core.ViewModels.$l.$2le=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E(),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W(),i=r.$i(Xrm.Page.data.entity.getEntityName()),t;return IsNull(i)?!1:(t=r.$i("knowledgearticle"),n.$2lZ(i,8)&&n.$2lZ(i,2)&&n.$2lZ(t,1)&&n.$2lZ(t,7)&&n.$2lZ(t,2))};Microsoft.Crm.Client.Core.ViewModels.$l.$1J1=function(n,t,i){if(i.$2.$6i===1&&n.$2p!==2||!Microsoft.Crm.Client.Core.ViewModels.$l.$2OL(i,n.$2p))return!1;var r=Microsoft.Crm.Client.Core.ViewModels.$l.$1ej(t.$GZ,i),u=Microsoft.Crm.Client.Core.ViewModels.$l.$2le();switch(n.$2p){case 3:case 5:return n.$2p===3&&!Microsoft.Crm.Client.Core.ViewModels.$l.get_GetKmUseExternalPortal()?!1:r?t.$W3&&Microsoft.Crm.Client.Core.ViewModels.$l.$1r4(i.$CH):t.$W3&&u&&Microsoft.Crm.Client.Core.ViewModels.$l.$1r4(i.$CH);case 0:return!r&&u;case 1:return r&&u;case 2:return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$HL&&t.$W3&&Microsoft.Crm.Client.Core.ViewModels.$l.get_GetKmUseExternalPortal();default:return!1}};Microsoft.Crm.Client.Core.ViewModels.$l.$1r4=function(n){if(n)return!1;var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E(),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W(),r=i.$i("knowledgearticle"),u=i.$i("email");return t.$2lZ(u,1)&&t.$2lZ(r,2)};Microsoft.Crm.Client.Core.ViewModels.$l.$12e=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W(),t=n.$i(Xrm.Page.data.entity.getEntityName());return t.$1q};Microsoft.Crm.Client.Core.ViewModels.$l.$1J5=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.$l.$1ej(n.$GZ,t)};Microsoft.Crm.Client.Core.ViewModels.$l.$1pr=function(n,t){return Xrm.Internal.messages.associateKnowledgeArticle(Xrm.Page.data.entity.getId(),Xrm.Internal.getEntityCode(Xrm.Page.data.entity.getEntityName()),t,n.$GZ)};Microsoft.Crm.Client.Core.ViewModels.$l.$2UO=function(n,t){return Xrm.Internal.messages.disassociateKnowledgeArticle(Xrm.Page.data.entity.getId(),Xrm.Internal.getEntityCode(Xrm.Page.data.entity.getEntityName()),t,n.$GZ)};Microsoft.Crm.Client.Core.ViewModels.$l.$2Uk=function(n,t,i,r){var f=null,u;return Microsoft.Crm.Client.Core.ViewModels.$l.$1ej(n.$GZ,i)?(u=new Xrm.ConfirmDialogStrings,u.title=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_0x80060861"),u.text=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchKMArticles.ErrorAssociated"),Microsoft.Crm.Client.Core.ViewModels.$l.$12e()),u.confirmButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_OK"),u.cancelButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_Cancel"),Xrm.Dialog.openConfirmDialog(u,null,function(){Microsoft.Crm.Client.Core.ViewModels.$l.$28q(n,i.$zE,r)},function(){})):f=Microsoft.Crm.Client.Core.ViewModels.$l.$1pr(n,i.$Eh).always(function(){Microsoft.Crm.Client.Core.ViewModels.$l.$25R(n,i);Microsoft.Crm.Client.Core.ViewModels.$l.$28q(n,i.$zE,r)}),f};Microsoft.Crm.Client.Core.ViewModels.$l.$1bq=function(n){var t=null;return t=n.get_ParentEntityLogicalName()==="incident"?String.format("<fetch mapping='logical'>\r\n\t\t\t\t\t\t<entity name='knowledgearticleincident'>\r\n\t\t\t\t\t\t\t<attribute name='knowledgearticleid' />\r\n\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t<condition attribute='incidentid' operator='eq' value='{0}' />\r\n\t\t\t\t\t\t\t\t<condition attribute='statecode' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t<\/fetch>",n.get_ParentEntityId()):String.format("<fetch mapping='logical'>\r\n\t\t\t\t\t\t<entity name='knowledgearticle'>\r\n\t\t\t\t\t\t\t<attribute name='articlepublicnumber' />\r\n\t\t\t\t\t\t\t<link-entity name='{0}' to='knowledgearticleid' from='knowledgearticleid' intersect='true' link-type='inner' alias='b'>\r\n\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t<condition attribute='{1}' operator='eq' value='{2}' />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t<\/fetch>",CrmEncodeDecode.CrmXmlEncode(n.$1AC),CrmEncodeDecode.CrmXmlEncode(n.$1B0),n.get_ParentEntityId()),Xrm.Internal.messages.retrieveMultiple(t).then(function(t){var i=t;n.set_$2Lw(Microsoft.Crm.Client.Core.ViewModels.$l.$324(i))},Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)};Microsoft.Crm.Client.Core.ViewModels.$l.$25R=function(n,t){n.$GZ in t.$dn||(t.$dn[n.$GZ]=null)};Microsoft.Crm.Client.Core.ViewModels.$l.$3AQ=function(n,t){n.$GZ in t.$dn&&delete t.$dn[n.$GZ]};Microsoft.Crm.Client.Core.ViewModels.$l.$324=function(n){var i={},t,r;if(!IsNull(n)&&!IsNull(n.entityCollection))for(t=0;t<n.entityCollection.get_count();t++)r=n.entityCollection.get_$R(t),i[Microsoft.Crm.Client.Core.ViewModels.$l.$2eV(r)]=0;return i};Microsoft.Crm.Client.Core.ViewModels.$l.$2gW=function(n,t){var i="";return $0.$0(n.$27[t])||$0.$0(n.getValue(t))||(i=n.$27[t]===6||n.$27[t]===1||n.$27[t]===9?n.getValue(t).Name.toString():n.getValue(t).toString()),i};Microsoft.Crm.Client.Core.ViewModels.$l.$2eV=function(n){var t="knowledgearticleid",i="";return $0.$0(n.$27[t])||$0.$0(n.getValue(t))||(i=n.$27[t]===6?n.getValue(t).Id.toString():n.getValue(t).toString()),i};Microsoft.Crm.Client.Core.ViewModels.$l.CopyLinkToClipboard=function(n){if(Microsoft.Crm.Client.Core.ViewModels.$l.get_GetKmUseExternalPortal()){var t=Microsoft.Crm.Client.Core.ViewModels.$l.GetArticleExternalLink(n);n.$W3&&window.clipboardData.setData("Text",t)}};Microsoft.Crm.Client.Core.ViewModels.$l.GetArticleExternalLink=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$l.get_GetKmExternalPortalUrl();return t.replace("{kbnum}",n.$Vg)};Microsoft.Crm.Client.Core.ViewModels.$l.get_GetKmUseExternalPortal=function(){return Xrm.Internal.getOrganizationSetting("kmUseExternalPortal").toLowerCase()==="true"};Microsoft.Crm.Client.Core.ViewModels.$l.get_GetKmExternalPortalUrl=function(){return Xrm.Internal.getOrganizationSetting("kmExternalPortalUrl")};Microsoft.Crm.Client.Core.ViewModels.$l.$22J=function(n,t,i){var r=null;switch(n.$2p){case 5:case 3:r=Microsoft.Crm.Client.Core.ViewModels.$l.$2Uk(t.Article,i.$Eh,i,n);break;case 0:r=Microsoft.Crm.Client.Core.ViewModels.$l.$1pr(t.Article,i.$Eh).done(function(){Microsoft.Crm.Client.Core.ViewModels.$l.$25R(t.Article,i)});break;case 1:r=Microsoft.Crm.Client.Core.ViewModels.$l.$2UO(t.Article,i.$Eh).done(function(){Microsoft.Crm.Client.Core.ViewModels.$l.$3AQ(t.Article,i)});break;case 2:Microsoft.Crm.Client.Core.ViewModels.$l.CopyLinkToClipboard(t.Article)}return IsNull(r)?null:r.fail(Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)};Microsoft.Crm.Client.Core.ViewModels.$9z=function(){this.$$d_$2M7=Function.createDelegate(this,this.$2M7);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2vE=Function.createDelegate(this,this.$2vE);this.$$d_$P2=Function.createDelegate(this,this.$P2);Microsoft.Crm.Client.Core.ViewModels.$9z.resolveInheritance();this.get_$34J=this.get_SearchText;this.get_$2oo=this.get_IsParatureConfigured;Microsoft.Crm.Client.Core.ViewModels.$9z.initializeBase(this);this.$CH=!Microsoft.Crm.Client.Core.Framework.$6.get_$f();this.$j0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$DK));this.$SW=new Microsoft.Crm.Client.Core.ViewModels.$Hm(this.$CH)};Microsoft.Crm.Client.Core.ViewModels.$9z.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("KbSearchControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$9z)};Microsoft.Crm.Client.Core.ViewModels.$9z.prototype={$1KD:!0,$WW:null,$WX:null,$bj:null,$dn:null,$V2:null,$g8:!1,set_$2Lw:function(n){return this.$dn=n,this.$7("AssociatedArticles"),n},$SW:null,get_KbSearchConstants:function(){return this.$SW},set_KbSearchConstants:function(n){return this.$SW=n,n},$j0:null,get_SearchResults:function(){return this.$j0},set_SearchResults:function(n){return this.$j0=n,n},$zI:null,get_ShowContextualActions:function(){return this.$zI},set_ShowContextualActions:function(n){return this.$zI=n,n},$xk:null,get_ActionList:function(){return this.$xk},set_ActionList:function(n){return this.$xk=n,n},$19y:null,get_FilterResults:function(){return this.$19y},set_FilterResults:function(n){return this.$19y=n,n},$1Tf:null,get_IsSearchMode:function(){return this.$CH?this.$1KD:this.$iY||this.$1KD},set_IsSearchMode:function(n){return!this.$CH&&this.$iY?n:(this.$1KD=n,this.$7("SearchMode"),n)},$19K:!1,get_AllowChangingFiltersOnUI:function(){return this.$19K},set_AllowChangingFiltersOnUI:function(n){return this.$19K=n,n},$zE:null,get_SelectPrimaryCustomer:function(){return this.$zE},set_SelectPrimaryCustomer:function(n){return this.$zE=n,n},$1Sb:!1,get_CanCreateEmail:function(){return this.$1Sb},set_CanCreateEmail:function(n){return this.$1Sb=n,n},$1TM:!1,get_IsControlReadOnly:function(){return this.$1TM},set_IsControlReadOnly:function(n){return this.$1TM=n,n},get_IsKnowledgeMangementEnabled:function(){return Xrm.Internal.isKnowledgemanagementEnabled(this.get_ParentEntityLogicalName())},get_IsKMConfigured:function(){return Xrm.Page.context.isKnowledgeManagementConfigured()},$1TY:!1,get_IsUsdContext:function(){return this.$1TY},set_IsUsdContext:function(n){return this.$1TY=n,n},get_IsParatureConfigured:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$tD},get_IsTextAnalyticsDisabled:function(){return this.$oB==="1"&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di!==1033},$1TQ:!1,get_IsHostedInTabbedControl:function(){return this.$1TQ},set_IsHostedInTabbedControl:function(n){return this.$1TQ=n,n},$iY:!1,get_IsHostedInReferencePanel:function(){return this.$iY},set_IsHostedInReferencePanel:function(n){return this.$iY=n,n},$1Tk:null,get_MasterComponentId:function(){return this.$1Tk},set_MasterComponentId:function(n){return this.$1Tk=n,n},$1T3:null,get_ExternalServiceUrl:function(){return this.$1T3},set_ExternalServiceUrl:function(n){return this.$1T3=n,n},$1U2:null,get_PortalDomain:function(){return this.$1U2},set_PortalDomain:function(n){return this.$1U2=n,n},$1U5:null,get_PublicLinkPrefix:function(){return this.$1U5},set_PublicLinkPrefix:function(n){return this.$1U5=n,n},$1Ss:null,get_DepartmentId:function(){return this.$1Ss},set_DepartmentId:function(n){return this.$1Ss=n,n},$1BF:!1,get_ShowLanguageFilter:function(){return this.$1BF},set_ShowLanguageFilter:function(n){return this.$1BF=n,n},$Sh:null,get_SelectDefaultLanguage:function(){return this.$Sh},set_SelectDefaultLanguage:function(n){return this.$Sh=n,n},$1UO:!1,get_ShowDepartmentFilter:function(){return this.$1UO},set_ShowDepartmentFilter:function(n){return this.$1UO=n,n},$pT:0,get_tabIndex:function(){return this.$pT},set_tabIndex:function(n){return this.$pT=n,n},get_$2WL:function(){return this.$CH&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?(this.$NS=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Message_0x80154B4F"),!1):!0},$lg:null,get_KbSearchResultsList:function(){return this.$lg},set_KbSearchResultsList:function(n){return this.$lg=n,this.$7("KbSearchResultsList"),n},SearchResult:function(n){var t=null;return this.$lg&&this.$lg.get_Count()>=n&&(t=this.$lg.get_$R(n),t.$CI=this),t},get_ArticleFilterViewModel:function(){return $0.$0(this.$WW)&&(this.$WW=new Microsoft.Crm.Client.Core.ViewModels.$Sg(this.$19y,this.$SW),this.$WW.AddPropertyChangedListener("SelectedItem",this.$$d_$P2)),this.$WW},get_ArticleLanguageFilterViewModel:function(){return $0.$0(this.$WX)&&(this.$WX=new Microsoft.Crm.Client.Core.ViewModels.$Sd(this.$Sh,this),this.$WX.AddPropertyChangedListener("SelectedItem",this.$$d_$2vE)),this.$WX},get_SortFilterViewModel:function(){return $0.$0(this.$bj)&&(this.$bj=new Microsoft.Crm.Client.Core.ViewModels.$Sb(this.$SW),this.$bj.AddPropertyChangedListener("SelectedItem",this.$$d_$P2)),this.$bj},get_SelectedSearchResult:function(){return this.$V2},set_SelectedSearchResult:function(n){return n!==this.$V2&&(this.$V2=n,this.$2XP()),n},$zD:null,get_SelectedSearchResultViewModel:function(){return this.$zD},set_SelectedSearchResultViewModel:function(n){return this.$zD=n,n},$zv:null,get_ArticleEntityDisplayName:function(){if($0.$0(this.$zv)){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i("knowledgearticle");this.$zv=$0.$0(n)?"knowledgearticle":n.$1q}return this.$zv},$P2:function(){this.executeAction()},$2vE:function(){this.get_ArticleLanguageFilterViewModel().set_SelectedLanguageFilterName(this.get_ArticleLanguageFilterViewModel().$4i);this.executeAction()},$He:function(){this.$g8=!0;this.$1sZ()},$2Z:function(){this.$g8=!0;Microsoft.Crm.Client.Core.ViewModels.$S7.prototype.$2Z.call(this);this.$1AT=!0;this.set_SearchText("");this.$1sZ();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He)},$1sZ:function(){if(this.get_$2WL())if(this.$CH&&this.$2lw(),Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.$1vs()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$w1,"KbSearchControl.GetActiveLanguages")}else this.$1vs();else this.$g8=!1},$1vs:function(){var n=this;this.getActiveLanguages().done(function(){n.$2PW();n.$g8=!1})},$2PW:function(){if(this.get_ArticleLanguageFilterViewModel().$2HY(this.$Sh,this),$0.$0(this.get_ModelContext())){var n=this;this.AddPropertyChangedListener("ModelContext",function(){return n.$1dH(!0)})}else this.$1dH(!0)},$2lw:function(){var n=null,t=this;n=function(){Microsoft.Crm.Client.Core.ViewModels.$l.$1bq(t);t.RemovePropertyChangedListener("ModelContext",n)};$0.$0(this.get_ModelContext())?this.AddPropertyChangedListener("ModelContext",n):Microsoft.Crm.Client.Core.ViewModels.$l.$1bq(this)},$2M7:function(n,t){t===this.$z8&&this.$1dH(!1)},$Rr:function(){this.$CH&&this.$g8||(this.executeAction(),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Rr.call(this))},$2Et:function(n){this.set_SearchText(n);this.executeAction()},get_$2DD:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Hj));return n.$3w(new Microsoft.Crm.Client.Core.ViewModels.$Hj(this.$V2,this)),n},$2jk:function(){return this.$iz},$2wF:function(n,t){if($0.$0(t)&&(t="Inline"),n<1||n>this.$iz||"PopOut"!==t&&"Inline"!==t)return-1;try{var r=n-1,i=this.SearchResult(r);return this.set_SelectedSearchResult(i.Article),this.$zD=i,"Inline"===t?this.$2wG(this.$V2):"PopOut"===t&&this.$2wH(this.$V2),1}catch(u){return 0}},$2wG:function(){this.IncrementKnowledgeArticleViewCount();this.$iY?this.ArticleClick():this.set_IsSearchMode(!1)},$2wH:function(){},$1dH:function(n){var t;if(this.$19m&&this.$1rE()&&this.get_ParentEntityRecord())if(t="",this.$oB==="1"){var i=new Xrm.Objects.EntityReference(this.get_ParentEntityLogicalName(),this.get_ParentEntityRecord().$a.Id),r=this,u=this;Xrm.Internal.messages.retrieveKeyPhrasesForKnowledgeSearch(i).then(function(i){var u=i,f;if(!IsNull(u.keyPhrases)&&u.keyPhrases.length>0)for(t=u.keyPhrases[0],f=1;f<u.keyPhrases.length;f++)t+=" "+u.keyPhrases[f];r.$2Cb(t,n)},function(n){u.$NS=n.get_message()})}else t=Microsoft.Crm.Client.Core.ViewModels.$l.$2gW(this.get_ParentEntityRecord(),this.$z8),this.$2Cb(t,n)},$2Cb:function(n,t){IsNull(n)||(n=n.replace(new RegExp("\n","g")," "));Microsoft.Crm.Client.Core.Framework.$3.$9(n)||(this.set_SearchText(n),this.executeAction());t&&this.$oB!=="1"&&(this.$2.get_ModelContext().remove_$7L(this.$$d_$2M7),this.$2.get_ModelContext().add_$7L(this.$$d_$2M7))},executeAction:function(){this.$CH&&this.$g8||Microsoft.Crm.Client.Core.ViewModels.$l.$1bq(this);Microsoft.Crm.Client.Core.ViewModels.$S7.prototype.executeAction.call(this)},$1sX:function(){var n=new Microsoft.Crm.Client.Core.Framework.$LV;return n.$E2={},n.$E2._searchoption_=this.get_SearchText(),n.$E2.filter=this.get_ArticleFilterViewModel().get_$34N(),n.$E2.orderby=this.get_SortFilterViewModel().get_$34Q(),n.$E2.isdescending=this.get_SortFilterViewModel().$Vt,n.$E2.language=this.get_ArticleLanguageFilterViewModel().get_$34O(),this.$oe&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$dT)&&(n.$E2.showRatingUsing=this.$dT),n},createKbSearchResultContentPaneViewModel:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.PropertyDescriptor)),t;return n.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("KbSearchControl",this)),n.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMobileClient",this.$CH)),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("KbSearchResultContentPaneViewModel","KbSearchResultContentPane","KbSearchResultContentPane",n.toArray(),null,null),Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(t,this.get_ModelContext(),this.$2i,this.$2)},$2xN:function(n,t){var u;this.set_IsLoading(!0);u=Microsoft.Crm.Client.Core.Framework.$4J.$33H(Microsoft.Crm.Client.Core.ViewModels.$8E,"KbSearchStrategy");t?this.$iL=1:this.$iL++;this.$NS="";this.$2XJ();var i=this,f=this,r=this;u.$bN(n,this.$1Ak,this.$iL).done(function(n){var f,e,u,o,r;if(t&&i.$j0.clear(),IsNull(n.get_$3Ex().get_Items()[0]))i.$z9=0,i.$iz=0;else{for(f=n.get_$3Ex().get_Items()[0].get_$s(),e=n.get_$3Ex().get_Items()[0].get_$3Ez(),i.$z9=f,u=0;u<f;u++)o=e.get_Items()[u],r=new Microsoft.Crm.Client.Core.ViewModels.$DK,r.Article=o.get_$Xg(),r.$CI=i,r.$2Li(),i.$j0.add(r);i.$iz=n.get_$3Eu();i.$lg=i.$j0}i.set_IsLoading(!1)}).fail(function(n){f.set_IsLoading(!1);f.$NS=n.$F}).always(function(){r.$7(r.get_$327());r.$2XG()})},$1rE:function(){if(this.$NS="",this.get_IsKnowledgeMangementEnabled()){if(this.get_IsParatureConfigured())return this.$NS=this.$SW.get_$2wa(),!1;if(this.get_IsTextAnalyticsDisabled())return this.$NS=this.$SW.get_TextAnalyticsConfigureError(),!1}else return this.$NS=this.$SW.get_$2pj(),!1;return!0},$2xP:function(n){this.$1rE()&&this.$2xN(n,!0)},IncrementKnowledgeArticleViewCount:function(){var n=new Xrm.Objects.EntityReference("knowledgearticle",new Microsoft.Crm.Client.Core.Framework.Guid(this.$V2.$GZ)),t=new Date,i=this;Xrm.Internal.messages.incrementKnowledgeArticleViewCount(n,t,1,1).then(Mscrm.InternalUtilities.ClientApiUtility.actionCompleteCallback,function(n){i.$NS=n.get_message()});this.$V2.$dX++},ArticleClick:function(){var t=this.$2.$5Q(this),i=t.$2.$5Q(t),r=i.$2.$5Q(i),u=r.$H.HorizontalTabs,n={};n.KbSearchResultContentPaneViewModel=this.createKbSearchResultContentPaneViewModel();n.SelectedSearchResult=this.$zD;n.ArticleEntityDisplayName=this.get_ArticleEntityDisplayName();n.ShowContextualActions=this.$zI;n.IsHostedInReferencePanel=this.$iY;u.AddHorizontalTab(this.$V2.$GZ,1,n)},get_KbSearchResultFooterViewModel:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.PropertyDescriptor)),t,i;return n.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("KbSearchControl",this)),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("KbSearchResultFooter","KbSearchResultFooter","KbSearchResultFooter",n.toArray(),null,null),i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(t,this.get_ModelContext(),this.$2i,this.$2),i},get_FilterMenuFlyOutMetadata:function(){if(!this.$g8){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$6E.$$(String,Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor))),t=new Microsoft.Crm.Client.Core.ViewModels.$4N,i=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("KbSearchFilter","KbSearchFilter",null,null),r=new Microsoft.Crm.Client.Core.ViewModels.$SA(this);n.add(new(Microsoft.Crm.Client.Core.Framework.$6E.$$(String,Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor))("KbSearchFilter",i));t.$CK("KbSearchFilter",r);var u=[new(Microsoft.Crm.Client.Core.Framework.$6E.$$(String,Object))("Enabled",!0),new(Microsoft.Crm.Client.Core.Framework.$6E.$$(String,Object))("Visible",!0)],f=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("Group","FilterMenu",n.toArray(),u);return[t,f]}return null},getActiveLanguages:function(){var n=this;return Xrm.Internal.messages.retrieveMultiple("<fetch mapping='logical'><entity name='languagelocale'><attribute name='name'/><attribute name='localeid'/><attribute name='languagelocaleid'/><filter><condition attribute='statecode' operator='eq' value='0'/><\/filter><order attribute='name' descending='false' /><\/entity><\/fetch>").then(function(t){var i=t;IsNull(i)||IsNull(i.entityCollection)||(n.$1Tf=i.entityCollection)},Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)},FireResultOpenedPropertyChanged:function(){this.$7("ResultOpened")},$2XJ:function(){this.$7("PreSearch")},$2XG:function(){this.$7("PostSearch")},$2XP:function(){this.$7("Selection")},$2KY:function(n){this.AddPropertyChangedListener("PostSearch",n)},$2KZ:function(n){this.AddPropertyChangedListener("PreSearch",n)},$2Kc:function(n){this.AddPropertyChangedListener("ResultOpened",n)},$2Kd:function(n){this.AddPropertyChangedListener("Selection",n)},$30n:function(n){this.RemovePropertyChangedListener("PostSearch",n)},$30o:function(n){this.RemovePropertyChangedListener("PreSearch",n)},$30q:function(n){this.RemovePropertyChangedListener("ResultOpened",n)},$30r:function(n){this.RemovePropertyChangedListener("Selection",n)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);this.$2.get_ModelContext().remove_$7L(this.$$d_$2M7);$0.$0(this.$WW)||(this.$WW.RemovePropertyChangedListener("SelectedItem",this.$$d_$P2),this.$WW.dispose(),this.$WW=null);$0.$0(this.$WX)||(this.$WX.RemovePropertyChangedListener("SelectedItem",this.$$d_$2vE),this.$WX.dispose(),this.$WX=null);$0.$0(this.$bj)||(this.$bj.RemovePropertyChangedListener("SelectedItem",this.$$d_$P2),this.$bj.dispose(),this.$bj=null);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Hy=function(n,t,i){this.$2p=n;this.$1c=Microsoft.Crm.Client.Core.ViewModels.$5C.toString(n);this.$zP=t;this.$zQ=i};Microsoft.Crm.Client.Core.ViewModels.$Hy.prototype={$2p:0,get_Id:function(){return this.$2p},set_Id:function(n){return this.$2p=n,n},$1c:null,get_Name:function(){return this.$1c},set_Name:function(n){return this.$1c=n,n},$zP:null,get_TitleResourceName:function(){return this.$zP},set_TitleResourceName:function(n){return this.$zP=n,n},$zQ:null,get_TooltipResourceName:function(){return this.$zQ},set_TooltipResourceName:function(n){return this.$zQ=n,n},get_Title:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(this.$zP)},get_Tooltip:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4(this.$zQ),Xrm.Page.data.entity.getEntityName())}};Microsoft.Crm.Client.Core.ViewModels.$DH=function(){Microsoft.Crm.Client.Core.ViewModels.$DH.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DH.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("KbSearchResultContentPaneViewModel",Microsoft.Crm.Client.Core.ViewModels.$DH)};Microsoft.Crm.Client.Core.ViewModels.$DH.prototype={IsAssociated:function(n){return Microsoft.Crm.Client.Core.ViewModels.$l.$1J5(n,this.$CI)},get_AlreadyAssociatedText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchKMArticles.AlreadyAssociated"),Microsoft.Crm.Client.Core.ViewModels.$l.$12e())},get_AssociatedText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchKMArticles.Associated"),Microsoft.Crm.Client.Core.ViewModels.$l.$12e())},$CI:null,get_KbSearchControl:function(){return this.$CI},set_KbSearchControl:function(n){return this.$CI=n,n},$CH:!1,get_IsMobileClient:function(){return this.$CH},set_IsMobileClient:function(n){return this.$CH=n,n},get_SearchResultActions:function(){return Microsoft.Crm.Client.Core.ViewModels.$l.$13B()},IsActionAllowed:function(n,t){return Microsoft.Crm.Client.Core.ViewModels.$l.$1J1(n,t.Article,this.$CI)},HandleAction:function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.$l.$22J(n,t,this.$CI),r;IsNull(i)||(r=this,i.done(function(){r.$7("CurrentKbSearchResult")}))},get_kbSearchResultLegendsViewModel:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.PropertyDescriptor)),t;return n.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMobileClient",this.$CH)),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("KbSearchResultLegendsViewModel","KbSearchResultLegends","KbSearchResultLegends",n.toArray(),null,null),Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(t,this.get_ModelContext(),this.$2i,this.$2)}};Microsoft.Crm.Client.Core.ViewModels.$DJ=function(){Microsoft.Crm.Client.Core.ViewModels.$DJ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DJ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("KbSearchResultLegendsViewModel",Microsoft.Crm.Client.Core.ViewModels.$DJ)};Microsoft.Crm.Client.Core.ViewModels.$DJ.prototype={$HQ:null,$CH:!1,get_IsMobileClient:function(){return this.$CH},set_IsMobileClient:function(n){return this.$CH=n,n},get_KbSearchResult:function(){return this.$HQ},set_KbSearchResult:function(n){if(!$0.$0(n)){this.$dE.clear();var i=(new Microsoft.Crm.Client.Core.ViewModels.Converters.$Ii).$Em(n.$p4,null),t=new Microsoft.Crm.Client.Core.ViewModels.$I0("LastModifiedDateLegend",i,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchKMArticles.LastModifiedDateLabel"));t.$WC=this.$1cd(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchKMArticles.LastModifiedDateIconToolTip"),i);this.$dE.add(t);this.$CH||(t=new Microsoft.Crm.Client.Core.ViewModels.$I0("NumberOfViewsLegend",n.$dX.toString(),new String),t.$WC=this.$1cd(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("KMControl.SearchKMArticles.NumberOfViewsToolTip"),n.$dX.toString()),t.$ct="mscrm-timesViewedSpan",t.$yS="NumberOfViews",t.$yR="mscrm-timesViewedIcon",this.$dE.add(t),Microsoft.Crm.Client.Core.Framework.$3.$9(n.$W4)||(t=new Microsoft.Crm.Client.Core.ViewModels.$I0("RatingLegend",n.$W4,new String),t.$WC=this.$1cd(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ReferencePanelSearch_Rating_Tooltip"),n.$W4.toString()),t.$ct="mscrm-ratingSpan",t.$yS="RatingFull",t.$yR="mscrm-ratingIcon",this.$dE.add(t)))}return this.$HQ=n,n},$1cd:function(n,t){var i="{0} {1}";return Microsoft.Crm.Client.Core.Framework.$6N.$1ey()?String.format(i,t,n):String.format(i,n,t)}};Microsoft.Crm.Client.Core.ViewModels.$S7=function(){Microsoft.Crm.Client.Core.ViewModels.$S7.initializeBase(this);this.$iL=1};Microsoft.Crm.Client.Core.ViewModels.$S7.prototype={$1k:!1,$17P:null,get_$327:function(){return"ResultsRetrieved"},$CH:!1,get_IsMobileClient:function(){return this.$CH},set_IsMobileClient:function(n){return this.$CH=n,n},$Eh:null,get_RelationshipName:function(){return this.$Eh},set_RelationshipName:function(n){return this.$Eh=n,n},$1AC:null,get_IntersectTableName:function(){return this.$1AC},set_IntersectTableName:function(n){return this.$1AC=n,n},$1B0:null,get_ReferencedEntityColumnName:function(){return this.$1B0},set_ReferencedEntityColumnName:function(n){return this.$1B0=n,n},$1AT:!1,get_IsSearchBoxVisible:function(){return this.$1AT},set_IsSearchBoxVisible:function(n){return this.$1AT=n,n},$NS:null,get_ErrorString:function(){return this.$NS},set_ErrorString:function(n){return this.$NS=n,n},$z9:0,get_searchResultCountInCurrentPage:function(){return this.$z9},set_searchResultCountInCurrentPage:function(n){return this.$z9=n,n},$yh:!1,get_moreResults:function(){return this.$yh},set_moreResults:function(n){return this.$yh=n,n},$iz:0,get_searchResultCount:function(){return this.$iz},set_searchResultCount:function(n){return this.$iz=n,n},$1Ak:0,get_NumberOfResults:function(){return this.$1Ak},set_NumberOfResults:function(n){return this.$1Ak=n,n},$z8:null,get_SearchForAutoSuggestionsUsing:function(){return this.$z8},set_SearchForAutoSuggestionsUsing:function(n){return this.$z8=n,n},$oB:null,get_AutoSuggestionSource:function(){return this.$oB},set_AutoSuggestionSource:function(n){return this.$oB=n,n},$dT:null,get_ShowRatingUsing:function(){return this.$dT},set_ShowRatingUsing:function(n){return this.$dT=n,n},$oe:!1,get_EnableRating:function(){return this.$oe},set_EnableRating:function(n){return this.$oe=n,n},$1Uj:null,get_WallContentPageUrl:function(){return this.$1Uj},set_WallContentPageUrl:function(n){return this.$1Uj=n,n},$19m:!1,get_EnableAutoSuggestions:function(){return this.$19m},set_EnableAutoSuggestions:function(n){return this.$19m=n,n},$1SZ:!1,get_blockResult:function(){return this.$1SZ},set_blockResult:function(n){return this.$1SZ=n,n},get_SearchText:function(){return this.get_searchBoxContainerViewModel().$5f},set_SearchText:function(n){return this.get_searchBoxContainerViewModel().$5f===n?n:(this.get_searchBoxContainerViewModel().set_SearchText(n),n)},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k===n?n:(this.$1k=n,this.$7("IsLoading"),n)},get_ParentEntityRecord:function(){return!$0.$0(this.$2)&&!$0.$0(this.$2.get_ModelContext())?this.$2.get_ModelContext().$I:null},get_ParentEntityLogicalName:function(){return $0.$0(this.get_ParentEntityRecord())?"":this.get_ParentEntityRecord().$a.LogicalName},get_ParentEntityId:function(){return $0.$0(this.get_ParentEntityRecord())?null:this.get_ParentEntityRecord().$a.Id},get_ParentEntityDisplayName:function(){return $0.$0(this.get_ParentEntityRecord())?"":this.get_ParentEntityRecord().$a.Name},get_ParentEntityTypeCode:function(){return $0.$0(this.get_ParentEntityRecord())?-1:this.get_ParentEntityRecord().$a.TypeCode},get_searchBoxContainerViewModel:function(){return $0.$0(this.$17P)&&(this.$17P=this.$2T0()),this.$17P},set_searchBoxContainerViewModel:function(n){return this.$17P=n,n},$iL:0,$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this)},loadMoreResults:function(){var n=this.$1sX();this.$2xN(n,!1)},executeAction:function(){if(!Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_SearchText())){var n=this.$1sX();this.$2xP(n)}},$2T0:function(){var n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.PropertyDescriptor)),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("SearchBoxContainerViewModel","SearchBoxContainer","SearchBoxContainer",n.toArray(),null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(t,this.get_ModelContext(),this.$2i,this.$2)}};Microsoft.Crm.Client.Core.ViewModels.$E2=function(){Microsoft.Crm.Client.Core.ViewModels.$E2.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$E2.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("SearchBoxContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$E2)};Microsoft.Crm.Client.Core.ViewModels.$E2.prototype={$5f:null,get_SearchText:function(){return this.$5f},set_SearchText:function(n){return this.$5f===n?n:(this.$5f=n,this.$7("SearchText"),n)}};Microsoft.Crm.Client.Core.ViewModels.$E3=function(){this.$1PF={};Microsoft.Crm.Client.Core.ViewModels.$E3.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$E3.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("SearchResultActionsDropdownViewModel",Microsoft.Crm.Client.Core.ViewModels.$E3)};Microsoft.Crm.Client.Core.ViewModels.$E3.prototype={IsAssociated:function(n){return Microsoft.Crm.Client.Core.ViewModels.$l.$1J5(n,this.$ZX)},$Vg:null,get_ArticleId:function(){return this.$Vg},set_ArticleId:function(n){return this.$Vg=n,n},$ZX:null,get_KbSearchControl:function(){return this.$ZX},set_KbSearchControl:function(n){return this.$ZX=n,n},get_Title:function(){return this.$ZX.$SW.get_$2Iv()},GetFirstAction:function(n){for(var i,u=Microsoft.Crm.Client.Core.ViewModels.$l.$13B(),r=u,f=r.length,t=0;t<f;++t)if(i=r[t],Microsoft.Crm.Client.Core.ViewModels.$l.$1J1(i,n,this.$ZX))return i;return null},CountAllowedActions:function(n){for(var u,i=0,f=Microsoft.Crm.Client.Core.ViewModels.$l.$13B(),r=f,e=r.length,t=0;t<e;++t)u=r[t],Microsoft.Crm.Client.Core.ViewModels.$l.$1J1(u,n.Article,this.$ZX)&&i++;return i},GetTooltip:function(n){for(var i,u=Microsoft.Crm.Client.Core.ViewModels.$l.$13B(),r=u,f=r.length,t=0;t<f;++t)if(i=r[t],i.$1c===n)return i.get_Tooltip();return""},$2Z:function(){var t,r,n;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);t=Microsoft.Crm.Client.Core.ViewModels.$l.$13B();this.set_ItemsList(new Array(t.length));r=0;for(var u=t,f=u.length,i=0;i<f;++i)n=u[i],this.$1PF[n.$1c]=n,this.get_ItemsList()[r++]=new Microsoft.Crm.Client.Core.ViewModels.$Bm(n.$1c,n.get_Title())},IsActionAllowed:function(n,t){var i=this.$1PF[n];return Microsoft.Crm.Client.Core.ViewModels.$l.$1J1(i,t,this.$ZX)},HandleAction:function(n,t){var r=this.$1PF[n],i=Microsoft.Crm.Client.Core.ViewModels.$l.$22J(r,t,this.$ZX),u;IsNull(i)||(u=this,i.done(function(){t.$7("ActionHandled")}))}};Microsoft.Crm.Client.Core.ViewModels.$Sb=function(n){Microsoft.Crm.Client.Core.ViewModels.$Sb.initializeBase(this);this.$Il=n;this.$188=[n.get_$2Aw(),n.get_$26y(),n.get_$25K(),n.get_$25L()];this.$1lL()};Microsoft.Crm.Client.Core.ViewModels.$Sb.prototype={$188:null,$Il:null,$Vt:!1,get_isDescending:function(){return this.$Vt},set_isDescending:function(n){return this.$Vt=n,n},get_$34Q:function(){return(this.$Vt=!0,this.$4i===this.$Il.get_$2Aw())?"":this.$4i===this.$Il.get_$26y()?"knowledgearticleviews":this.$4i===this.$Il.get_$25K()?"modifiedon":this.$4i===this.$Il.get_$25L()?(this.$Vt=!1,"modifiedon"):""},$1lL:function(){this.set_ItemLabels(this.$188);this.set_ItemValues(this.$188);this.set_SelectedItem(this.$188[0])}};Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel.initializeBase(this);this.$9d=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$gS=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number));this.$IB=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$dm={};this.$dy=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.View.ViewDescriptor))};Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel.prototype={$9d:null,$IB:null,$gS:null,$dy:null,$Sl:null,$1Ki:!1,$eb:null,$2GP:null,$1ma:null,$1Cc:null,$1Cb:null,$1Cd:null,$1Ca:null,$1R8:null,$121:35,$dm:null,$iT:0,get_FixedTabHeight:function(){return this.$iT},set_FixedTabHeight:function(n){return this.$iT=n,n},$yM:0,$1TL:!1,get_IsCloseButtonVisible:function(){return this.$1TL},set_IsCloseButtonVisible:function(n){return this.$1TL=n,n},$1Sm:0,get_ContentDataSource:function(){return this.$1Sm},set_ContentDataSource:function(n){return this.$1Sm=n,n},$1BM:null,get_ToolTip:function(){return this.$1BM},set_ToolTip:function(n){return this.$1BM=n,n},$1TE:null,get_IconUrl:function(){return this.$1TE},set_IconUrl:function(n){return this.$1TE=n,n},get_TabData:function(){return this.$1R8},set_TabData:function(n){return this.$1R8=n,this.$7("DataAvailable"),n},$LB:null,get_TabOrientation:function(){return this.$LB},set_TabOrientation:function(n){return this.$LB=n,n},get_ChildrenList:function(){return this.$9d},get_ActiveChild:function(){return this.$Sl},set_ActiveChild:function(n){return this.$Sl!==n&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("TabContainerChildActivated",0,this.get_ViewModelId()),this.$Sl=n,this.$7("ActiveChild")),n},get_MetaDataIdentifier:function(){return this.$gS},get_ChildTabViewDescriptors:function(){return this.$dy},get_ArticleMap:function(){return this.$dm},set_ArticleMap:function(n){return this.$dm=n,n},removeChild:function(n){if(this.$9d.indexOf(n)!==-1){var t=this.$9d.indexOf(n);this.$dy.removeAt(t);this.$9d.remove(n);this.$gS.removeAt(t);this.$IB.remove(n);n in this.$dm&&delete this.$dm[n];n in this.$H&&delete this.$H[n];this.$7("ChildrenList")}},pushChild:function(n){this.$IB.contains(n)&&(this.$IB.remove(n),this.$IB.insert(0,n))},textColor:function(){return this.$1ma},borderRight:function(){return this.$1Cc},borderLeft:function(){return this.$1Cb},borderTop:function(){return this.$1Cd},borderBottom:function(){return this.$1Ca},removeChildStack:function(n){this.$IB.contains(n)&&this.$IB.remove(n)},setPrevActive:function(){this.$9d.get_Count()>0&&(this.$Sl=this.$IB.get_$R(0),this.$7("ActiveChild"))},dragStart:function(n){this.$eb=n;this.$Sl!==n&&(this.$Sl=n,this.pushChild(n),this.$7("ActiveChild"))},tabWidthSecondPass:function(n,t,i,r){if(t)return this.$yM;if(!this.$LB||this.$LB.localeCompare("left")&&this.$LB.localeCompare("right")){var u=i;return u<=5?(n-r*(i-1))/5:(n-r*(i-1))/u}return this.$yM},tabHeightSecondPass:function(n,t,i,r){if(t)return this.$iT;if(this.$LB.localeCompare("top")&&this.$LB.localeCompare("bottom")){var u=i;return u<=1?(n-r*(i-1))/1:(n-r*(i-1))/u}return this.$iT},RefreshLists:function(){this.$Rr()},$39r:function(){return this.$IB.get_$R(0)},drop:function(n){var t=this.$9d.indexOf(n),i=this.$9d.indexOf(this.$eb),r=this.$gS.get_$R(i);this.$Sl!==this.$eb&&(this.$Sl=this.$eb,this.pushChild(this.$eb));this.$9d.remove(this.$eb);this.$gS.removeAt(i);this.$9d.insert(t,this.$eb);this.$gS.insert(t,r);this.$7("ChildrenList")},checkTabClose:function(){var n=this.$9d.get_Count();return n>1?!0:this.$1Ki},getFullUrl:function(n){return n.startsWith("/")?n:Mscrm.CrmUri.create("/WebResources/"+n).toString()},addChild:function(n,t){var i,r;if(this.$9d.get_Count()===10){Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TabControl_AddTab"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TabControl_MaxTabs"));return}i=String.format("{0}_{1}",n,t.uniqueid);this.$LB=String.format("{0}",t.orientation);this.$2GP=String.format("{0}",t.tab_color);this.$1Ki=String.format("{0}",t.last_tab_close).localeCompare("false")?!0:!1;this.set_Height(String.format("{0}",t.height));this.$1ma=String.format("{0}",t.tab_textcolor);this.$1Cc=String.format("{0}",t.border_right);this.$1Ca=String.format("{0}",t.border_bottom);this.$1Cb=String.format("{0}",t.border_left);this.$1Cd=String.format("{0}",t.border_top);this.$9d.add(i);this.$IB.insert(0,i);r=this.$9d.indexOf(i);this.set_ActiveChild(i);this.$7("ChildrenList")},AddHorizontalTab:function(n,t,i){var e=!1,r=String.format("HorizontalTab_{0}",n),u,f,o;this.$9d.contains(r)||(this.$9d.add(r),e=!0);this.set_ActiveChild(r);this.$2.$5Q(this).$H.StaticTabs.set_ActiveChild(null);this.$2.$5Q(this).set_ActiveContainer("HorizontalTabs");e&&(this.$dm[r]=n,u=null,f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("MultiSessionTabContainerViewModel","SessionTabContainer","SessionTabContainer"+r,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TabOrientation","top"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ContentDataSource",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsCloseButtonVisible",!0)],null,null),u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(f,this.get_ModelContext(),this.$2i,this.$2),this.$CK(r,u),o=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(f),this.$dy.add(o),this.$H[r].$1Cc="0px",this.$H[r].$1Ca="0px",this.$H[r].$1Cb="0px",this.$H[r].$1Cd="0px",this.$H[r].set_$GO(this.$2),this.$IB.insert(0,r));switch(t){case 1:this.PrepareCrmArticle(r,i)}this.$7("ChildrenList")},openQuickviewForm:function(n,t){var o={},i=String.format("{0}_{1}","HorizontalTab",t.uniqueid),u,f,e;if(this.set_ActiveChild(i),this.$2.$5Q(this).$H.StaticTabs.set_ActiveChild(null),this.$2.$5Q(this).set_ActiveContainer("HorizontalTabs"),this.$9d.contains(i)){this.$H[i].RefreshLists();this.pushChild(i);return}var r=null,h=this.$2.$5Q(this),c=h.get_QuickViewModelsList()[n],s=this.$2YV(i,c),l=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(s);this.$dy.add(l);r=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(s,this.get_ModelContext(),this.$2i,this.$2);u=r.$H;for(f in u)e={key:f,value:u[f]},r=this.$2Hm(r),r.$H[e.key].$Bj=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t.uniqueid.toString())),r.$H[e.key].$iv=!0;this.$CK(i,r);this.$9d.add(i);this.$IB.insert(0,i);o.Title=t.title.toString();r.set_TabData(o);this.$7("ChildrenList")},$2Hm:function(n){var r=n.$H,i,t;for(i in r){if(t={key:i,value:r[i]},Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.isInstanceOfType(n.$H[t.key])){n.$H[t.key].set_$GO(this.$2);n.$H[t.key].set_Command("LookupFieldClickCommand");n.$H[t.key].$zG=!0;continue}n.$H[t.key]=this.$2Hm(n.$H[t.key])}return n.set_$GO(this.$2),n},$2YV:function(n,t){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("MultiSessionTabContainerViewModel","SessionTabContainer","SessionTabContainer"+n,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TabOrientation","top"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ContentDataSource",2),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsCloseButtonVisible",!0)],null,[t])},PrepareCrmArticle:function(n,t){var r=this.$H[n],i=t.SelectedSearchResult.Article.$4O;t.Title=i;this.$1BM=i;r.set_TabData(t)},$2Z:function(){var n,t,i;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$LB.localeCompare("top")&&this.$LB.localeCompare("bottom")||(this.$yM=this.$121,this.$iT=this.$121-5);this.$LB.localeCompare("left")&&this.$LB.localeCompare("right")||(this.$iT=this.$121,this.$yM=this.$121);n=this.$H;for(t in n)i={key:t,value:n[t]},this.$9d.add(i.key),this.$IB.add(i.key)},$Oh:function(){this.$9d=null;this.$IB=null;this.$gS=null;this.$dm=null;this.$dy=null;this.$1R8=null;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Dt=function(){Microsoft.Crm.Client.Core.ViewModels.$Dt.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Dt.initializeBase(this);this.$dC=0;this.set_ClearFilter(!0)};Microsoft.Crm.Client.Core.ViewModels.$Dt.prototype={$Ko:null,$GP:null,$Nu:!1,$iM:null,get_DecimalPrecision:function(){return this.$iM},set_DecimalPrecision:function(n){return this.$iM=n,n},$dC:null,get_LastCharCode:function(){return this.$dC},set_LastCharCode:function(n){return this.$dC=n,n},$Gd:null,get_MinRange:function(){return this.$Gd},set_MinRange:function(n){return this.$Gd=n,n},$FY:null,get_MaxRange:function(){return this.$FY},set_MaxRange:function(n){return this.$FY=n,n},$iU:!1,get_GlobalClearFilter:function(){return this.$iU},set_GlobalClearFilter:function(n){return this.$iU=n,n},get_ClearFilter:function(){return this.$Nu},set_ClearFilter:function(n){return this.$Nu=n,this.$7("ClearSliderValues"),n},get_SelectedMaximum:function(){return this.$GP},set_SelectedMaximum:function(n){return this.$GP=n?n:0,n},get_SelectedMinimum:function(){return this.$Ko},set_SelectedMinimum:function(n){return this.$Ko=n?n:0,n},clearRange:function(){this.set_ClearFilter(!0);this.set_SelectedMinimum(this.$Gd);this.set_SelectedMaximum(this.$FY)},limitSliderValues:function(){this.$Ko>this.$GP&&this.set_SelectedMinimum(this.$GP);this.$GP>this.$FY&&this.set_SelectedMaximum(this.$FY);this.$Ko<this.$Gd&&this.set_SelectedMinimum(this.$Gd)},onDataChange:function(){}};Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel=function(){this.$$d_$2sx=Function.createDelegate(this,this.$2sx);Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel.prototype={$YS:null,$Ld:null,$5l:null,$1eR:!1,$kJ:null,$O3:null,get_CurrentItems:function(){return this.$O3},set_CurrentItems:function(n){return this.$O3===n?n:(this.$O3=n,this.$7("ItemsChanged"),n)},get_Items:function(){return $0.$0(this.$YS)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$YS)?this.$O3:this.$2Lj(this.$O3)},get_CloseButtonTitle:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GlobalFilter_Cancel")},get_ComboBoxTitle:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QuickCreateNote.ChooseEntityLabel")},get_SavingText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SavingInformation")+"..."},get_FilterText:function(){return this.$YS},set_FilterText:function(n){return this.$YS===n?n:(this.$YS=n,this.ChangeEntityList(),n)},get_CloseCommand:function(){return this.$Ld},set_CloseCommand:function(n){return this.$Ld!==n&&($0.$0(this.$Ld)||(this.$Ld.dispose(),this.$Ld=null),this.$Ld=n,this.ChangeEntityList()),n},get_ComboBoxViewModel:function(){return this.$5l},set_ComboBoxViewModel:function(n){return this.$5l!==n&&($0.$0(this.$5l)||(this.$5l.dispose(),this.$5l=null),this.$5l=n),n},get_IsModelInitialized:function(){return this.$1eR},ChangeEntityList:function(){this.$kJ.get_Count()&&(this.$5l.$4i==="favorites"||this.$5l.$4i==="recent"?this.$25l():this.$2qJ())},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$kJ=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2L)),this.set_CurrentItems(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem))),this.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Instructions_Notes_NewNote")),this.set_CloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_Close,1013)),this.$2m5(),this.$25l(),this.$1eR=!0,this.set_FilterText(""))},$2m5:function(){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54)),i,n;if(t.add(new Microsoft.Crm.Client.Core.ViewModels.$Bm("favorites",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QuickCreateNote.ChooseEntityLabel.FavoritesTitle"))),t.add(new Microsoft.Crm.Client.Core.ViewModels.$Bm("recent",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QuickCreateNote.ChooseEntityLabel.RecentTitle"))),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy(),!$0.$0(i)&&i.length>0)for(var u=i,f=u.length,r=0;r<f;++r)n=u[r],n.$Tn&&n.$KJ&&(this.$kJ.add(n),t.add(new Microsoft.Crm.Client.Core.ViewModels.$Bm(n.$1P.toString(),n.$1q)));this.set_ComboBoxViewModel(new Microsoft.Crm.Client.Core.ViewModels.$Bn);this.$5l.$2Z();this.$5l.set_ItemsList(t.toArray());this.$5l.SetSelectedItemWithoutFirePropertyChange("favorites");this.$5l.AddPropertyChangedListener("SelectedItem",this.$$d_$2sx)},$2sx:function(n,t){t==="SelectedItem"&&this.ChangeEntityList()},$25l:function(){var r,t,n,i;if(this.$O3.clear(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL().$FZ,$0.$0(r)){this.$7("ItemsChanged");return}if(t=null,this.$5l.$4i==="favorites"?t=this.$1w5(r.$Lx):this.$5l.$4i==="recent"&&(t=this.$1w5(r.$Ro)),$0.$0(t)||!t.get_Count()){this.$7("ItemsChanged");return}for(n=null,i=0;i<t.get_Count();i++)n=new Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem,n.set_PrimaryModelName("annotation"),n.$2Z(),n.set_ModelContext(t.get_$R(i).$L3.get_ModelContext()),n.$3y=t.get_$R(i).get_Title(),n.set_Description(""),n.$xu=this.$Ld,this.$O3.add(n);this.$7("ItemsChanged")},$2qJ:function(){for(var t=null,n=0;n<this.$kJ.get_Count();n++)if(this.$kJ.get_$R(n).$1P.toString()===this.$5l.$4i){t=this.$kJ.get_$R(n);break}if($0.$0(t)){this.$O3.clear();this.$7("ItemsChanged");return}this.$O3.clear();this.$7("ItemsChanged");this.$2qH(t)},$2qH:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleEntityForNoteAction",this.$2SB(n)),r=this,u,i;t.OnSuccess=function(t){r.$2tc(t,n)};u=this;t.OnFailure=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;t.$DZ=0;t.$AG=2;t.set_IsHtmlEncodingRequired(!0);t.$DE=n.$4O;t.set_Message(n.$F);t.Show()};i=new Microsoft.Crm.Client.Core.ViewModels.$I(this,t).$12y(null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i)},$2SB:function(n){var i=Microsoft.Crm.Client.Core.Framework.$3.$IY("<fetch mapping='logical' version='1.0'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<entity name='{0}'><attribute name='{1}'/><attribute name='{2}'/><order attribute='{3}' descending='false'/><\/entity><\/fetch>",n.$y,n.$4Y,n.$59,n.$59),r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(i),t=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(r,"QuickCreateNoteViewModel");return t.$4b=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([n.$4Y]),t.$KX=!0,t.set_$Ra(1),t.$4W=100,t},$1w5:function(n){for(var i,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj)),t=0;t<n.get_Count();t++)(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(n.get_$R(t).get_EntityTypeCode()),$0.$0(i)||!i.$Tn||n.get_$R(t).get_Type())||(n.get_$R(t).set_PrimaryModelName(i.$y),r.add(n.get_$R(t)));return r},$2tc:function(n,t){var r,i;if(this.$O3.clear(),$0.$0(n)||!n.get_count()){this.$7("ItemsChanged");return}for(r=0;r<n.get_count();r++)i=new Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem,i.set_PrimaryModelName("annotation"),i.$2Z(),i.$1lJ(t,n.get_entities()[r]),i.set_ModelContext(Microsoft.Crm.Client.Core.Models.$c.$X(n.get_$R(r))),i.$xu=this.$Ld,this.$O3.add(i);this.$7("ItemsChanged")},$2Lj:function(n){var u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem)),t;if($0.$0(n)||!n.get_Count())return u;if($0.$0(this.$YS)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$YS))return n;for(t=0;t<n.get_Count();t++){var i="",r="",f=this.$YS.toLowerCase();$0.$0(n.get_$R(t).$3y)||(i=n.get_$R(t).$3y);$0.$0(n.get_$R(t).$kA)||(r=n.get_$R(t).$kA);i=i.toLowerCase();r=r.toLowerCase();(i.indexOf(f)!==-1||r.indexOf(f)!==-1)&&u.add(n.get_$R(t))}return u},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.$Oh.call(this);this.$Ld&&(this.$Ld.dispose(),this.set_CloseCommand(null));this.$5l&&(this.$5l.dispose(),this.set_ComboBoxViewModel(null))}};Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem=function(){Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem.prototype={$kA:null,$3y:null,get_DisplayName:function(){return this.$3y},set_DisplayName:function(n){return this.$3y=n,n},get_Description:function(){return this.$kA},set_Description:function(n){return this.$kA===n?n:(this.$kA=n,n)},$xu:null,get_CloseParentForm:function(){return this.$xu},set_CloseParentForm:function(n){return this.$xu=n,n},$1lJ:function(n,t){if($0.$0(n)||$0.$0(t)){this.$3y="";this.set_Description("");return}this.$3y=t.getValue(n.$59);this.$kA=""}};Microsoft.Crm.Client.Core.ViewModels.$A8=function(){this.$$d_$1fr=Function.createDelegate(this,this.$1fr);this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$2h5=Function.createDelegate(this,this.$2h5);this.$$d_$1fm=Function.createDelegate(this,this.$1fm);this.$$d_$2uj=Function.createDelegate(this,this.$2uj);this.$$d_$1hq=Function.createDelegate(this,this.$1hq);this.$$d_$281=Function.createDelegate(this,this.$281);this.$$d_$280=Function.createDelegate(this,this.$280);this.$F9_6=[];this.$vD=-1;Microsoft.Crm.Client.Core.ViewModels.$A8.initializeBase(this);this.$ov=!1};Microsoft.Crm.Client.Core.ViewModels.$A8.prototype={$1eq:!1,$Hm:null,$Oo:null,$1IP:!1,$1ID:!1,$sd:!1,$MB_6:!1,$1KS:null,$Rd_6:null,$ir:null,get_$2I2:function(){return!Microsoft.Crm.Client.Core.Framework.$6.get_$4U()&&(!Microsoft.Crm.Client.Core.Framework.$6.get_$f()||Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF())},$E0:null,get_LookupStyle:function(){return this.$E0},set_LookupStyle:function(n){return this.$E0=n,n},get_$2TY:function(){return this.get_$Aa()?this.get_$Aa().$113:[]},get_HasNewPreSearchHandler:function(){return this.$sd},set_HasNewPreSearchHandler:function(n){return this.$sd=n,n},get_HideLookupResultsList:function(){return this.$1IP},set_HideLookupResultsList:function(n){return this.$1IP!==n&&(this.$1IP=n,this.$7("HideLookupResultsList")),n},get_$2TZ:function(){return this.get_$Aa()?this.get_$Aa().$114:[]},get_SearchValue:function(){return this.$Hm},set_SearchValue:function(n){return this.$Hm!==n&&(this.$Hm=n,this.$1Kx()),n},get_$Aa:function(){return this.$Oo},set_$Aa:function(n){return this.$Oo!==n&&($0.$0(this.$Oo)||(this.$Oo.RemovePropertyChangedListener("HasFocus",this.$$d_$280),this.$Oo.RemovePropertyChangedListener("PreSearchHandler",this.$$d_$281)),this.$Oo=n,$0.$0(this.$Oo)||(this.$Oo.AddPropertyChangedListener("HasFocus",this.$$d_$280),this.$Oo.AddPropertyChangedListener("PreSearchHandler",this.$$d_$281),this.$280(this.$Oo,"HasFocus"),this.$281(this.$Oo,"PreSearchHandler"))),n},$ov:!1,get_IsInteractionCentricLookup:function(){return this.$ov},set_IsInteractionCentricLookup:function(n){return this.$ov=n,n},get_HasMoreRecords:function(){return this.$1ID},set_HasMoreRecords:function(n){return this.$1ID!==n&&(this.$1ID=n,this.$7("HasMoreRecords")),n},get_ListItemViewDescriptor:function(){return this.$1KS},set_ListItemViewDescriptor:function(n){return this.$1KS!==n&&(this.$1KS=n,this.$7("ListItemViewDescriptor")),n},$2Z:function(){this.$1a||($0.$0(this.$FE)&&this.set_OpenItemCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1hq,1011)),this.$1e8=!0);this.get_$2I2()&&(this.$ir={});Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this);this.AddPropertyChangedListener("PrimaryModelName",this.$$d_$2uj);this.$E0="single"},$1dP:function(){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1dP.call(this);this.$6A.set_$wI(!1)},$qc:function(n){return $0.$0(this.$6A)&&this.$1dP(),Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$qc.call(this,n)},$2Eh:function(n,t,i){this.set_PrimaryModelName(n);this.$HT=null;this.set_ListItemViewDescriptor(null);this.$2Mr(n,t,i)},$1fr:function(n){this.$F9_6=n},$1hq:function(){this.get_CurrentItemIndex()>=0&&this.get_$Aa().$1L8(this.$F9_6[this.get_CurrentItemIndex()])},$1fm:function(){this.$vD=-1;$0.$0(this.$Hm)||$0.$0(this.$D)||Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1fm.call(this)},$3d:function(n){$0.$0(this.$HT)?this.$Rd_6=n:(this.$MB_6&&this.$7("NewItemDescriptorAndModel"),this.$2n.get_$CZ().$86(),this.$KK=n.get_$9o().get_Count(),this.$1p1(n),this.set_IsLoading(!1),this.set_HasMoreRecords(!n.get_$t4()),this.$sd=!1,this.$MB_6=!1,this.$7("RecordCount"))},AddUnresolvedEmail:function(){},get_IsEntityAvailable:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.get_$Aa().$B7)},get_NoRecordsText:function(){return this.get_IsEntityAvailable()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Lookup_No_Records_Text"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MO_MobileOfflineLookup_Description")},get_SearchResultsText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Lookup_SearchResults")},get_MoreRecordsText:function(){return Microsoft.Crm.Client.Core.Framework.$3.$IY("({0})",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TouchLookupMatchesBar_RefineQuery"))},$2h5:function(n){this.$HT=n;this.set_ListItemViewDescriptor(Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(this.$HT));this.$MB_6=!0;$0.$0(this.$Rd_6)||(this.$3d(this.$Rd_6),this.$Rd_6=null)},$308:function(){this.$1fm()},$Oh:function(){$0.$0(this.get_$Aa())||(this.get_$Aa().RemovePropertyChangedListener("HasFocus",this.$$d_$280),this.get_$Aa().RemovePropertyChangedListener("PreSearchHandler",this.$$d_$281));this.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$2uj);$0.$0(this.$ir)||(this.$ir=null);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this)},$2uj:function(){this.$1Kx()},$281:function(){this.$sd=!0;this.$1Kx()},$280:function(){(this.$sd||this.$MB_6)&&this.$1Kx()},$1Kx:function(){this.get_$Aa().get_HasFocus()&&(this.$vD!==-1&&(window.clearTimeout(this.$vD),this.$vD=-1),$0.$0(this.$Hm)?$0.$0(this.$2n)||this.$2n.$1X7():this.$vD=window.setTimeout(this.$$d_$1fm,500))},$2Mr:function(n,t,i){var r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("GetLookupListItemDescriptor",{EntityName:n,ViewQuery:t,ViewLayout:i});Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,r)}};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel=function(n,t){this.$$d_$Wy=Function.createDelegate(this,this.$Wy);this.$LY=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text");Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel.initializeBase(this);this.set_IsArchivedProcessCommand(!0);this.$1CB=n;this.$BH=t;this.$Nq=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$Wy,26)};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel.prototype={$1CB:null,$BH:null,$Gm:null,$Nq:null,$dl:null,$g4:!1,get_SwitchProcessListViewModel:function(){return this.$BH},set_SwitchProcessListViewModel:function(n){return this.$BH=n,n},$Ji:function(){this.$1CB.$Ji(this)},get_IsArchivedProcessCommand:function(){return this.$g4},set_IsArchivedProcessCommand:function(n){return this.$g4=n,this.$7("IsArchivedProcessCommand"),n},get_ButtonText:function(){return this.$g4?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.ArchiveSwitcher.Archived"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.Back")},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$2Z.call(this);this.$BH.set_Root(this);this.$BH.set_$1YP(this.get_ModelContext().get_ModelName());this.$BH.set_$1YS(this.get_ModelContext().get_Id());this.$BH.$2Z();this.$37u()},$uq:function(){this.$1CB.$uq(this)},$e1:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(this);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("PopupPresent",!1)},$Wy:function(){this.$e1();$0.$0(this.$Gm)||this.$Gm()},get_Title:function(){return this.$g4?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.Switcher.Title"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.ArchiveSwitcher.Title")},get_SubTitle:function(){return this.$g4?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.Switcher.Subtitle"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.ArchiveSwitcher.Subtitle")},get_CancelButtonText:function(){return this.$LY},set_CancelButtonText:function(n){return this.$LY=n,n},get_CancelCommand:function(){return this.$Nq},get_ArchivedCommand:function(){return this.$dl},set_ArchivedCommand:function(n){return $0.$0(this.$dl)||this.$dl.dispose(),this.$dl=n,n},$37u:function(){this.$2MK()},$2MK:function(){var t=this,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("BindArchivedProcessCommand","BindArchivedProcessCommand",{TargetViewModel:this.$BH,SuccesCallback:function(){}});this.set_ArchivedCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,n))},$Oh:function(){$0.$0(this.$dl)||(this.$dl.dispose(),this.$dl=null);$0.$0(this.$Nq)||(this.$Nq.dispose(),this.$Nq=null);Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S(Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.getName(),Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.prototype={get_NewProcessLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.NewProcess")},get_ByLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.By")},get_GetStatusCode:function(){var t=this.get_ModelContext(),n=t.GetValue("StatusCodeName");return n==="Aborted"?n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.ArchiveSwitcher.Aborted"):n==="Finished"&&(n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.Finished")),n}};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel=function(){this.get_$1R3=this.get_SwitchProcessCollection;this.set_$1R3=this.set_SwitchProcessCollection;Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel.resolveInheritance();this.get_$28w=this.get_OpenItemCommand;this.set_$2sD=this.set_NavigationTarget;this.get_$34P=this.get_SelectedItem;this.get_componentType=this.get_$2PZ;this.get_definitionId=this.get_DefinitionId;this.set_definitionId=this.set_DefinitionId;this.get_sourceId=this.get_SourceId;this.set_sourceId=this.set_SourceId;this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$2IP=this.get_Visible;this.get_childViewModels=this.get_ChildViewModels;this.get_$2Uf=this.get_Dragging;this.get_$1C9=this.get_applicationMetadataType;this.get_$2Ts=this.get_DefinitionId;this.set_$38o=this.set_SourceId;this.get_$3CO=this.get_ViewModelId;Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel.prototype={$1YO:null,$1YR:null,$1mD:null,$1nk:null,get_$1YP:function(){return this.$1YO},set_$1YP:function(n){return this.$1YO=n,n},get_$1YS:function(){return this.$1YR},set_$1YS:function(n){return this.$1YR=n,n},get_SwitchProcessCollection:function(){return this.$1mD},set_SwitchProcessCollection:function(n){return this.$1mD=n,n},get_ViewDescriptor:function(){return this.$1nk},$2Z:function(){if(!this.$1a){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor(Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.getName(),"SwitchProcessListItem","SwitchProcessListItemViewModel",null,null,null),t=[n],i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Root",this.$2),r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShortPressCommandName",Microsoft.Crm.Client.Core.Commands.$7f.getName()),u=[r,i],f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ListItem","ListItem","ListItemViewModel",u,null,t);this.$HT=f;var e=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("SwitchProcessListItem","SwitchProcessListItemViewModel",null,null),o=new(Microsoft.Crm.Client.Core.Framework.$6E.$$(String,Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor))("SwitchProcessListItemView",e),s=[o],h=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("ListItem","ListItemViewModel",s,null),c=new(Microsoft.Crm.Client.Core.Framework.$6E.$$(String,Object))("ListItemDescriptor",h),l=[c];this.$1nk=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("SwitchProcessList","",null,l)}Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this)},$31p:function(){this.$1Z.$Ea()},$2MO:function(){return!1}};Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel.prototype={updateFieldsVisibility:function(n){Microsoft.Crm.Client.Core.ViewModels.MailApp.$4m.$1d5(n.$H)},openListItemInWeb:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenListItemInWebCommand"),i;t.InitializationParameters.TraceComponent=1011;t.InitializationParameters.SelectionState=this.$6A;t.InitializationParameters.ListItemViewModel=n;i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(n,t);i.execute()}};Microsoft.Crm.Client.Core.ViewModels.$Qp=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Qp.initializeBase(this,[n,t,!1])};Microsoft.Crm.Client.Core.ViewModels.$Qp.prototype={$2E:function(n){switch(this.$9v){case 0:case 3:this.$1Jk?this.$2F(n):this.$1iY(n);break;case 2:var t=this;this.$GW(function(){t.$4G(".commandBarSection button.button[data-id='incident|NoRelationship|HomePageGrid|Mscrm.HomepageGrid.incident.Cancel']");t.$GW(function(){t.$2F(function(){t.$4G("div.control_value[data-fieldname ='ok_id_readonly'] > button.SimpleButton");t.$2F(n)})})});break;default:this.$2F(n)}}};Microsoft.Crm.Client.Core.ViewModels.$MY=function(){Microsoft.Crm.Client.Core.ViewModels.$MY.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$MY.prototype={$2E:function(n){var i=$(".InteractionCentricGridNavigtableField")[0],t;i.click();t=this;this.$GW(function(){t.$2F(n)})}};Microsoft.Crm.Client.Core.ViewModels.$MW=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$MW.initializeBase(this);this.$9v=n;this.$1Jk=t;this.$1Cx=i;this.$19Y="CascadeResolveCase"};Microsoft.Crm.Client.Core.ViewModels.$MW.prototype={$19Y:null,$1DA:0,$9v:0,$1Jk:!1,$1Cx:!1,$2E:function(n){var t,i;switch(this.$9v){case 0:case 3:this.$1Jk?this.$2F(n):this.$1iY(n);break;case 2:this.$1Cx?(t="incident|NoRelationship|Form|Mscrm.Form.incident.Resolve",this.$2Bd(t,n)):(i="incident|NoRelationship|HomePageGrid|Mscrm.HomepageGrid.incident.Resolve",this.$2Bd(i,n));break;default:this.$2F(n)}},$1iY:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$N4,t=this;i.$1i().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$N2(0,null);i.$1i().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$N2(2,t.$19Y);i.$1i().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$Ms("Service","Cases");i.$1i().done(function(){t.$2Ff(n,0)})})})})},$2Ff:function(n,t){var i,r,f;if(t===3)this.$1hp(n);else if(i=".ui-state-default[title='Sort by Created On'] .ui-jqgrid-sortable",r=$(i),r.length>0){var e=r[0],o=$(i+" .ui-grid-ico-sort[sort='asc']"),s=o[0],u=s.style.display;$0.$0(u)||u==="none"?(e.click(),f=this,this.$2F(function(){f.$2Ff(n,t+1)})):this.$1hp(n)}else this.$1hp(n)},$1hp:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$MY,t=this;i.$1i().done(function(){t.$GW(function(){t.$1DA=0;t.$1tc(n)})})},$1tc:function(n){var t,r,i;this.$1DA===5?this.$1Cx?this.$2F(n):(t=this,this.$2F(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$MO;i.$1i().done(function(){t.$GW(function(){t.$7X(".ui-jqgrid-btable .jqgrow .cbox:first");t.$GW(n,2e3)})})})):(r=new Microsoft.Crm.Client.Core.ViewModels.$Ma(3),i=this,r.$1i().done(function(){var t=new Microsoft.Crm.Client.Core.ViewModels.$Ma(2);t.$1i().done(function(){i.$GW(function(){i.$1DA+=1;i.$1tc(n)})})}))},$2Bd:function(n,t){var i=this;this.$GW(function(){i.$4G(".commandBarSection button.button[data-id='"+n+"']");i.$GW(function(){i.$2F(function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$MX(3,null);n.$1i().done(function(){i.$GW(function(){i.$2F(t)},2e3)})})},2e3)})}};Microsoft.Crm.Client.Core.ViewModels.$MX=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$MX.initializeBase(this);this.$1aD=n;this.$L=t};Microsoft.Crm.Client.Core.ViewModels.$MX.prototype={$1aD:0,$L:null,$2E:function(n){switch(this.$1aD){case 0:this.$2We(n);break;case 1:this.$2Wh(n);break;case 2:this.$2Wg(n);break;case 3:this.$2Wi(n);break;default:this.$2F(n)}},$2We:function(n){var i=this.$1Hd("task-"),t=this;this.$2F(function(){t.$xN("div.editControlContainer > div.input-container > div.textboxContainer > input.textbox",i);t.$GW(function(){t.$1XC(n)})})},$1XC:function(n){this.$7X("div.quickCreateForm-body");var t=this;this.$GW(function(){t.$4G("button.icQuickCreateForm_actionButton[data-id ='createandclose']");t.$2F(n)})},$2Wh:function(n){var i=this.$1Hd("case-"),t;this.$4G(".icQuickCreateFullForm div.section_vertical > div.requiredField > div.control_value[data-fieldname='customerid_readonly']");t=this;this.$2F(function(){t.$4G("div.InlineLookupSearch > button.InlineLookupInputSearchImage");t.$2F(function(){t.$4G(".InlineLookupList .scrollRegion .listItem:first");t.$GW(function(){t.$4G(".icQuickCreateFullForm div.section_vertical > div.requiredField > div.control_value[data-fieldname='title_readonly']");t.$GW(function(){t.$xN(".icQuickCreateFullForm div.editControlContainer > div.input-container > div.textboxContainer > input.textbox",i);t.$GW(function(){t.$1XC(n)})})})})})},$2Wg:function(n){var i=this.$1Hd("account-"),t;this.$4G("div.section_vertical > div.requiredField > div.control_value[data-fieldname='name_readonly']");t=this;this.$GW(function(){t.$xN("div.editControlContainer > div.input-container > div.textboxContainer > input.textbox",i);t.$GW(function(){t.$1XC(n)})})},$2Wi:function(n){var i=this.$1Hd("resolution-"),t;this.$4G("div.control_value[data-fieldname ='resolution_id_readonly']");t=this;this.$GW(function(){t.$xN("div.input-container > div.textboxContainer > input.textbox",i);t.$GW(function(){t.$4G("div.control_value[data-fieldname ='billabletime_id_readonly']");t.$GW(function(){t.$4G("button.durationDropdownImage");t.$GW(function(){t.$7X(".durationTable .durationRow:first [value='0']");t.$GW(function(){t.$4G("div.control_value[data-fieldname ='remarks_id_readonly']");t.$GW(function(){t.$4G("div.control_value[data-fieldname ='ok_id_readonly'] > button.SimpleButton");t.$2F(n)})})})})})})},$1Hd:function(n){var t=this.$L;return Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&(t=n+$4X.$1j3(0,2147483647).toString()),t}};Microsoft.Crm.Client.Core.ViewModels.$Md=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Md.initializeBase(this);this.$9v=n;this.$qA=t};Microsoft.Crm.Client.Core.ViewModels.$Md.prototype={$9v:0,$qA:null,$2E:function(n){switch(this.$9v){case 0:this.$2Qc(n);break;case 1:this.$28t(n);break;case 4:this.$2Tw(n);break;case 2:this.$22G(n,!1);break;case 3:this.$22G(n,!0)}},$2Qc:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$N2(0,null),t=this;i.$1i().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$N2(2,t.$qA);i.$1i().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$Mu(!1);i.$1i().done(function(){var i=$("span.recentRecords > div.recentViewRecordContent > li.mruItem")[0];i.click();t.$2F(function(){t.$28t(n)})})})})},$2Tw:function(n){this.$4G("div.button-container > span.More-symbol");var t=this;this.$GW(function(){t.$4G(".commandBarSection button.button[data-id='incident|NoRelationship|Form|Mscrm.Form.incident.Delete']");t.$GW(function(){var i=$("button.messageDialog_OK_Button")[1];React.addons.TestUtils.Simulate.shortPress(i);t.$2F(n)})})},$22G:function(n,t){var i=".flyoutNextClass:contains('Next')";t&&(i=".flyoutPrevClass");this.$7X(".flyoutFooterClass "+i);this.$2F(n)},$28t:function(n){this.$7X("div.stageNameContent[id='processStage_15322a8f-67b8-47fb-8763-13a28686c29d']");this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$Me=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Me.initializeBase(this);this.$9v=n;this.$1Fk=t};Microsoft.Crm.Client.Core.ViewModels.$Me.prototype={$9v:0,$1Fk:!1,$2E:function(n){var i,t,r,u;switch(this.$9v){case 0:i=new Microsoft.Crm.Client.Core.ViewModels.$NU("0","0");t=this;i.$1i().done(function(){if(t.$1Fk){var i=new Microsoft.Crm.Client.Core.ViewModels.$Mf(1);i.$1i().done(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$Mf(2);i.$1i().done(function(){t.$1RU(n)})})}else t.$1RU(n)});break;case 1:case 4:this.$1Fk?(r=new Microsoft.Crm.Client.Core.ViewModels.$Mf(1),u=this,r.$1i().done(function(){u.$1RU(n)})):this.$1RU(n);break;case 2:this.$2D7(n,"task");break;case 3:this.$2D7(n,"")}},$2D7:function(n,t){var r=".mscrm-InteractionWallSearchContainer input.mscrm-InteractionWallSearchBar",i;this.$xN(r,t);i=this;this.$GW(function(){i.$3A3(r,"Enter");i.$2F(function(){i.$7X(".mscrm-interactionWallHeader button.mscrm-InteractionWallRefreshButton");i.$GW(n)})})},$1RU:function(n){this.$4G(".mscrm-interactionWallHeader button.mscrm-InteractionWallSearch");this.$GW(n)}};Microsoft.Crm.Client.Core.ViewModels.$Mf=function(n){Microsoft.Crm.Client.Core.ViewModels.$Mf.initializeBase(this);this.$9v=n};Microsoft.Crm.Client.Core.ViewModels.$Mf.prototype={$9v:0,$2E:function(n){switch(this.$9v){case 0:var t=new Microsoft.Crm.Client.Core.ViewModels.$NU("0","0"),i=this;t.$1i().done(function(){i.$2Gi(n)});break;case 1:case 4:this.$2Gi(n);break;case 2:this.$1ph(n,"This Week");break;case 3:this.$1ph(n,"Last Week")}},$1ph:function(n,t){this.$7X(".mscrm-InteractionWallContainer .mscrm-InteractionWallSourceFilterContainer .daterangepicker-pullright");var i=this;this.$GW(function(){i.$7X(".ranges [data-id='InteractionWallDateRangeFilter_"+t+"']");i.$2F(function(){i.$7X(".mscrm-interactionWallHeader button.mscrm-InteractionWallRefreshButton");i.$GW(n)})})},$2Gi:function(n){this.$4G(".mscrm-interactionWallHeader button.mscrm-InteractionWallFilter");this.$GW(n)}};Microsoft.Crm.Client.Core.ViewModels.$MZ=function(n){Microsoft.Crm.Client.Core.ViewModels.$MZ.initializeBase(this);this.$9v=n};Microsoft.Crm.Client.Core.ViewModels.$MZ.prototype={$9v:0,$2E:function(n){switch(this.$9v){case 2:this.$2TF(n);break;case 3:this.$2Ah(n);break;default:this.$2F(n)}},$2TF:function(n){var i="task"+$4X.$1j3(0,2147483647).toString(),t;this.$4G(".mscrm-interactionWallHeader button.flyoutTopMenuButton[title='New Record']");t=this;this.$GW(function(){t.$4G(".mscrm-interactionWallHeader button.flyout-menuItem[data-id='task']");t.$2F(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$MX(0,"");i.$1i().done(function(){t.$2F(n)})})})},$2Ah:function(n){this.$7X(".mscrm-interactionWallHeader button.mscrm-InteractionWallRefreshButton");this.$GW(n)}};Microsoft.Crm.Client.Core.ViewModels.$Ma=function(n){Microsoft.Crm.Client.Core.ViewModels.$Ma.initializeBase(this);this.$9v=n};Microsoft.Crm.Client.Core.ViewModels.$Ma.prototype={$9v:0,$2E:function(n){switch(this.$9v){case 0:var t=new Microsoft.Crm.Client.Core.ViewModels.$Qr(0),i=this;t.$1i().done(function(){i.$28o(n)});break;case 4:this.$4G("button.icQuickCreateForm_closeButton");this.$2F(n);break;case 2:this.$2Wf(n);break;case 3:this.$28o(n);break;default:this.$2F(n)}},$28o:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$Qr(2),i=this;t.$1i().done(function(){i.$2F(n)})},$2Wf:function(n){var t="childCaseName"+$4X.$1j3(0,2147483647).toString(),i=new Microsoft.Crm.Client.Core.ViewModels.$N2(2,t),r=this;i.$1i().done(function(){r.$2F(n)})}};Microsoft.Crm.Client.Core.ViewModels.$Qr=function(n){Microsoft.Crm.Client.Core.ViewModels.$Qr.initializeBase(this,[n,!1,!1]);this.$19Y="AAATestCreateChildCase"};Microsoft.Crm.Client.Core.ViewModels.$Qr.prototype={$2E:function(n){switch(this.$9v){case 0:this.$1iY(n);break;case 2:this.$2vz(n);break;case 3:this.$4G("button.icQuickCreateForm_closeButton");this.$2F(n);break;default:this.$2F(n)}},$1tc:function(n){this.$2F(n)},$2vz:function(n){this.$4G("button.button[data-id='incident|NoRelationship|Form|Mscrm.Form.incident.CreateChildcase']");this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$Mb=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$Mb.initializeBase(this);this.$1eZ=n;this.$v5=t;this.$v6=i};Microsoft.Crm.Client.Core.ViewModels.$Mb.prototype={$1eZ:!1,$v5:null,$v6:null,$2E:function(n){var i,t;this.$1eZ?(this.$7X("span.Refresh-symbol"),this.$2F(n)):(i="queuePanel-"+this.$v5+"queuePanelItem-"+this.$v6,this.$4G(".quickActionCheckBoxContainer .checkbox[data-id = '"+i+"']"),t=this,this.$GW(function(){t.$7X(".quickActionNormalButton:contains('Resolve')");t.$GW(function(){t.$4G("button.messageDialog_Cancel_Button:last");t.$GW(function(){var i=$("div.control_value[data-fieldname ='cancel_id_readonly'] > button.SimpleButton");i.length>0&&t.$4G("div.control_value[data-fieldname ='cancel_id_readonly'] > button.SimpleButton");t.$GW(function(){t.$2F(n)})})})}))}};Microsoft.Crm.Client.Core.ViewModels.$Mw=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Mw.initializeBase(this);this.$YD=n;this.$YE=t;this.$1mJ=i;this.$tE=r};Microsoft.Crm.Client.Core.ViewModels.$Mw.prototype={$YD:null,$YE:null,$tE:!1,$1mJ:null,$2E:function(n){if(this.$tE){var t=new Microsoft.Crm.Client.Core.ViewModels.$Ms(this.$YD,this.$YE),i=this;t.$1i().done(function(){var t=new Microsoft.Crm.Client.Core.ViewModels.$MY;t.$1i().done(function(){i.$2F(n)})})}else this.$2P8(n)},$2P8:function(n){this.$7X("div.tab[title='"+this.$1mJ+"']");this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$Mx=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$Mx.initializeBase(this);this.$YD=n;this.$YE=t;this.$tE=i};Microsoft.Crm.Client.Core.ViewModels.$Mx.prototype={$YD:null,$YE:null,$tE:!1,$2E:function(n){if(this.$tE){var t=new Microsoft.Crm.Client.Core.ViewModels.$Ms(this.$YD,this.$YE),i=this;t.$1i().done(function(){i.$1rm(n)})}else this.$1rm(n)},$1rm:function(n){this.$7X("div.entityDashboardIcon");this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$My=function(){Microsoft.Crm.Client.Core.ViewModels.$My.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$My.prototype={$2E:function(n){this.$7X("div.tileViewHeader:first");this.$GW(n)}};Microsoft.Crm.Client.Core.ViewModels.$Mv=function(n){Microsoft.Crm.Client.Core.ViewModels.$Mv.initializeBase(this);this.$1Yh=n};Microsoft.Crm.Client.Core.ViewModels.$Mv.prototype={$1Yh:null,$2E:function(n){this.$7X(".dashboardPicker[data-id='filterDashboards'] .Expanded-symbol");var t=this;this.$GW(function(){t.$7X(".dashboardPicker[data-id='filterDashboards'] .interactionCentricPopup .interactionCentricPopupItem:contains('"+t.$1Yh+"')");t.$2F(n)})}};Microsoft.Crm.Client.Core.ViewModels.$Ms=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Ms.initializeBase(this);this.$YD=n;this.$YE=t};Microsoft.Crm.Client.Core.ViewModels.$Ms.prototype={$YD:null,$YE:null,$2E:function(n){this.$4G("button.navBarSiteMapButton");var t=this;this.$GW(function(){t.$7X("div.navBarAreaTileContainer[data-id='"+t.$YD+"']");t.$GW(function(){var i=$("div.navBarSubAreaContainer[data-id='"+t.$YE+"']")[0];i.click();t.$2F(n)})})}};Microsoft.Crm.Client.Core.ViewModels.$Mt=function(n){Microsoft.Crm.Client.Core.ViewModels.$Mt.initializeBase(this);this.$1ho=n};Microsoft.Crm.Client.Core.ViewModels.$Mt.prototype={$1ho:!1,$2E:function(n){if(this.$7X("div.ICNavbarAssociatedView-AssociatedViewContainer > div.navBarSiteMapDropDownButton"),this.$1ho){var t=this;this.$GW(function(){t.$7X("span.ICNavbarAssociatedView-Item");t.$2F(n)})}else this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$Mu=function(n){Microsoft.Crm.Client.Core.ViewModels.$Mu.initializeBase(this);this.$1hu=n};Microsoft.Crm.Client.Core.ViewModels.$Mu.prototype={$1hu:!1,$2E:function(n){var i=$("span.navBarMru [data-id ='navBarMruButton']")[0],t;i.click();this.$1hu?(t=this,this.$GW(function(){var i=$("li.mruItem")[0];i.click();t.$2F(n)})):this.$GW(n,1e3)}};Microsoft.Crm.Client.Core.ViewModels.$N1=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$N1.initializeBase(this);this.$el=n;this.$1XK=t};Microsoft.Crm.Client.Core.ViewModels.$N1.prototype={$el:null,$1XK:!1,$2E:function(n){if(this.$1XK)this.$4G("button.icQuickCreateForm_closeButton"),this.$7X("span.navBarQuickCreate [data-id = 'navBarQuickCreateButton']"),this.$2F(n);else if(this.$7X("span.navBarQuickCreate [data-id = 'navBarQuickCreateButton']"),this.$el){var t=this;this.$GW(function(){t.$7X("div.quickCreateListItems[data-id='"+t.$el+"']");t.$2F(n)})}else this.$GW(n,1e3)}};Microsoft.Crm.Client.Core.ViewModels.$N2=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$N2.initializeBase(this);this.$9v=n;this.$qA=t};Microsoft.Crm.Client.Core.ViewModels.$N2.prototype={$9v:0,$qA:null,$2E:function(n){var t,i,r;switch(this.$9v){case 0:this.$2Ad(n);break;case 4:this.$4G("button.icQuickCreateForm_closeButton");t=this;this.$2F(function(){t.$7X("span.navBarQuickCreate [data-id = 'navBarQuickCreateButton']");t.$2F(n)});break;case 2:i=new Microsoft.Crm.Client.Core.ViewModels.$MX(1,this.$qA);r=this;i.$1i().done(function(){r.$2F(n)});break;case 3:this.$2Ad(n);break;default:this.$2F(n)}},$2Ad:function(n){this.$7X("div.refreshButtonDiv");var t=this;this.$2F(function(){var t=new Microsoft.Crm.Client.Core.ViewModels.$N1("Case",!1);t.$1i().done(function(){n()})})}};Microsoft.Crm.Client.Core.ViewModels.$N3=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$N3.initializeBase(this);this.$9v=n;this.$el=t};Microsoft.Crm.Client.Core.ViewModels.$N3.prototype={$9v:0,$el:null,$2E:function(n){switch(this.$9v){case 2:this.$7X("span.navBarQuickCreate [data-id = 'navBarQuickCreateButton']");var t=this;this.$GW(function(){t.$7X("div.quickCreateListItems[data-id='"+t.$el+"']");t.$GW(function(){var i=new Microsoft.Crm.Client.Core.ViewModels.$MX(t.$2gi(),"");i.$1i().done(function(){t.$2F(n)})})});break;default:this.$2F(n)}},$2gi:function(){var n=1;switch(this.$el){case"Account":n=2;break;case"Task":n=0}return n}};Microsoft.Crm.Client.Core.ViewModels.$N0=function(){this.$$d_$2Aa=Function.createDelegate(this,this.$2Aa);Microsoft.Crm.Client.Core.ViewModels.$N0.initializeBase(this);this.$1Tp=!0};Microsoft.Crm.Client.Core.ViewModels.$N0.prototype={$2E:function(n){var t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$1PU(function(i,r){r.$EJ&&t.$GW(n)});this.$1rM("#offline");this.$2Aa()},$1rM:function(n){for(;;)if($(n).length>0)return!0},$2Aa:function(){if(!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()){this.$4G("#offline");var n=this;this.$GW(function(){n.$1rM("#reconnect");n.$4G("#reconnect");n.$GW(n.$$d_$2Aa,5e3)})}}};Microsoft.Crm.Client.Core.ViewModels.$Mz=function(n){this.$1uA=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3;Microsoft.Crm.Client.Core.ViewModels.$Mz.initializeBase(this);this.$1fd=n};Microsoft.Crm.Client.Core.ViewModels.$Mz.prototype={$1fd:null,$2E:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$N0,t=this;window.setTimeout(function(){t.$2St().done(function(){i.$1i().done(function(){t.$GW(n)})})},2e3)},$2St:function(){var u=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),i=1,f,n,e,o,s;switch(this.$1fd.toLowerCase()){case"basic load":i=20;break;case"medium load":i=60;break;case"maximum load":i=100}for(f=[],n=0;n<i;n++){var r=null,t={};switch(n%3){case 0:r=new Xrm.Objects.EntityReference("account",Microsoft.Crm.Client.Core.Framework.Guid.get_empty());t.name="Offline perftest account_"+n;break;case 1:r=new Xrm.Objects.EntityReference("opportunity",Microsoft.Crm.Client.Core.Framework.Guid.get_empty());t.name="Offline perftest opportunity_"+n;break;case 2:r=new Xrm.Objects.EntityReference("lead",Microsoft.Crm.Client.Core.Framework.Guid.get_empty());t.lastname="Offline perftest lead_"+n;t.subject="Offline Test lead_"+n}e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,t,{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));Array.add(f,this.$1uA.get_$1N().get_$5a().$X(e,!1,null))}return o=this,s=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(f).then(function(){u.resolve()},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(84,n.toString());u.reject()}),u.promise()}};Microsoft.Crm.Client.Core.ViewModels.$Mn=function(n){Microsoft.Crm.Client.Core.ViewModels.$Mn.initializeBase(this);this.$1mS=n};Microsoft.Crm.Client.Core.ViewModels.$Mn.prototype={$1mS:null,$2E:function(n){this.$4G("#globalMenuButton");var t=this;this.$GW(function(){t.$4G("#globalMenu button[data-id='"+t.$1mS.toLowerCase()+"']");t.$3D1(function(){t.$4G(".globalLookup-bar div.listItem");t.$GW(function(){t.$4G("#TaskBasedFlow button[data-id='cancel']");t.$GW(n)},4e3)},".globalLookup-bar div.listItem")})},$3D1:function(n,t){this.$3D0(n,t,!0)},$3D0:function(n,t,i){var r=0,u=this;r=window.setInterval(function(){var f=$(t)[0],u=!1;i&&f?u=!0:i||f||(u=!0);u&&(window.clearInterval(r),n())},750)}};Microsoft.Crm.Client.Core.ViewModels.$Mo=function(){Microsoft.Crm.Client.Core.ViewModels.$Mo.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Mo.prototype={$2E:function(n){var t=this;this.$jb("RefreshModernButton",function(){t.$GW(n)})}};Microsoft.Crm.Client.Core.ViewModels.$Mm=function(){Microsoft.Crm.Client.Core.ViewModels.$Mm.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Mm.prototype={$2E:function(n){this.$1vi("lead","RefreshButton",n)}};Microsoft.Crm.Client.Core.ViewModels.$Mr=function(){Microsoft.Crm.Client.Core.ViewModels.$Mr.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Mr.prototype={$2E:function(n){if(Microsoft.Crm.Client.Core.Framework.$6.get_$3A()){var t=this;this.$2D3("div[data-panetype='ChartPane']:first",function(){t.$1rl(n)})}else this.$1rl(n)},$1rl:function(n){var t=".rootViewControl_content.conductorContent:last div[data-panetype='ChartPane']:first g path:first";$(t).trigger("mouseover");this.$7X(t);this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$Mp=function(){Microsoft.Crm.Client.Core.ViewModels.$Mp.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Mp.prototype={$2E:function(n){var t=this;this.$jb("sharepointdocument|NoRelationship|SubGridAssociated|Mscrm.SubGrid.SharePointDocument.ShowDocumentSuggestions",function(){t.$2F(n)})}};Microsoft.Crm.Client.Core.ViewModels.$Mq=function(){Microsoft.Crm.Client.Core.ViewModels.$Mq.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Mq.prototype={$2E:function(n){this.$4G("div#CrmDialog div.control_value[data-fieldname='cancel_id_readonly'] button");this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$MV=function(n){Microsoft.Crm.Client.Core.ViewModels.$MV.initializeBase(this);this.$z=n};Microsoft.Crm.Client.Core.ViewModels.$MV.prototype={$z:null,$2E:function(n){this.$4G("div.crmtile."+this.$z);this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$Hz=function(){};Microsoft.Crm.Client.Core.ViewModels.$Hz.prototype={$2TN:function(){return new Microsoft.Crm.Client.Core.ViewModels.$I2}};Microsoft.Crm.Client.Core.ViewModels.$I2=function(){};Microsoft.Crm.Client.Core.ViewModels.$I2.prototype={$6f:function(n,t,i,r){return Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,t,i,r)}};Microsoft.Crm.Client.Core.ViewModels.$EB=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$bw=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Models.$OQ));Microsoft.Crm.Client.Core.ViewModels.$EB.initializeBase(this);this.$NT=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$OQ));this.$pD=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$J6))};Microsoft.Crm.Client.Core.ViewModels.$EB.prototype={$qv:null,$1Qv:null,$NT:null,get_FirstLevelSubjects:function(){return this.$NT},set_FirstLevelSubjects:function(n){return this.$NT=n,n},$pD:null,get_NoSubjectItems:function(){return this.$pD},set_NoSubjectItems:function(n){return this.$pD=n,n},$1BQ:null,get_TreeItemDataIdKey:function(){return this.$1BQ},set_TreeItemDataIdKey:function(n){return this.$1BQ=n,n},$1BR:null,get_TreeItemDataNameKey:function(){return this.$1BR},set_TreeItemDataNameKey:function(n){return this.$1BR=n,n},$1UV:null,get_SubjectTreeTitle:function(){return this.$1UV},set_SubjectTreeTitle:function(n){return this.$1UV=n,n},$o7:null,get_AddToEmailCommandName:function(){return this.$o7},set_AddToEmailCommandName:function(n){return this.$o7=n,n},$Dz:!1,get_isLoading:function(){return this.$Dz},set_isLoading:function(n){return this.$Dz=n,n},get_SubjectTreeItemIdForInserting:function(){return this.$1Qv},set_SubjectTreeItemIdForInserting:function(n){return this.$1Qv!==n&&(this.$1Qv=n,this.$7("SubjectTreeItemIdForInserting")),n},$1Tt:null,get_OpenedBranches:function(){return this.$1Tt},set_OpenedBranches:function(n){return this.$1Tt=n,n},$1UK:null,get_SelectedItem:function(){return this.$1UK},set_SelectedItem:function(n){return this.$1UK=n,n},get_ViewInCRMText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_OpenRecord")},get_AddToEmailText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Add_To_Email")},get_DataProvider:function(){return this.$qv},set_DataProvider:function(n){return this.$qv=n,n},$3d:function(n){this.$2N0(n.$1m6.$11.$1mk());this.$2Wl(n.$5Z.$11.$1mk());this.$7("FirstLevelSubjects");this.$Dz=!1},$2Wl:function(n){var t;if(this.$pD.clear(),!$0.$0(n)&&n.length>0)for(t=0;t<n.length;t++){var i=n[t],r=i.GetValue("subjectid"),u=r?r.Id.toString():null,e=i.GetValue(this.$1BR).toString(),o=i.GetValue(this.$1BQ).toString(),f=new Microsoft.Crm.Client.Core.Models.$J6(o,e,i.get_ModelName());$0.$0(u)?this.$pD.add(f):this.$bw.get_$R(u).$zS.add(f)}},viewInCrm:function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenInBrowserCommand","OpenInBrowserCommand",{RecordId:n,RecordType:t}));i.get_CanExecute()&&i.execute()},addSubjectTreeItem:function(n,t){var i,r;$0.$0(this.$o7)||(i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$o7,this.$o7,{RecordId:n,RecordType:t})),i.get_CanExecute()&&(r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppAddSubjectToEmail"),r.$h("recordType",t),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(r),i.execute()))},StartItemInserting:function(n){this.set_SubjectTreeItemIdForInserting(n)},StopItemInserting:function(){this.set_SubjectTreeItemIdForInserting("")},$2N0:function(n){var t;if(this.$NT.clear(),!$0.$0(n)&&n.length>0)for(t=0;t<n.length;t++){var u=n[t].GetValue("subjectid").toString(),o=n[t].GetValue("title").toString(),f=n[t].GetValue("parentsubject"),e=f?f.Id.toString():null,i=e?this.$bw.get_$R(e):null,r=new Microsoft.Crm.Client.Core.Models.$OQ(u,o,i);$0.$0(i)?this.$NT.add(r):i.$iG.add(r);this.$bw.set_$R(u,r)}},$4L:function(n){this.$Dz=!1;this.$MZ(n)},$MZ:function(n){Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(n)},$2Z:function(){this.$1a||(this.$Dz=!0,Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this));$0.$0(this.$qv)||this.$2q8()},$2q8:function(){if(!$0.$0(this.$qv)){var n=this.$qv.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},get_$1i6:function(){return"SimpleListPane"},get_$1i4:function(){return this.$D}};Microsoft.Crm.Client.Core.ViewModels.$65=function(n,t,i,r){this.$2p=n;this.$FX=t;this.$6J=i;this.$1TN=r};Microsoft.Crm.Client.Core.ViewModels.$65.$1wB=function(n,t){for(var i=0;i<n.get_Count();i++)if(n.get_$R(i).$2p===t)return n.get_$R(i);return null};Microsoft.Crm.Client.Core.ViewModels.$65.$2Ww=function(n,t){var u=n,i,f,r;for(i in u)if(f={key:i,value:u[i]},r=Microsoft.Crm.Client.Core.ViewModels.$65.$1wB(f.value,t),r)return r;return null};Microsoft.Crm.Client.Core.ViewModels.$65.prototype={$2p:null,$FX:null,$6J:null,$1TN:!1};Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel=function(){this.$$d_$28Q=Function.createDelegate(this,this.$28Q);Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel.prototype={$FJ:null,$22D:null,$1MQ:null,get_RelatedReference:function(){return this.$FJ},set_RelatedReference:function(n){return this.$FJ=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$2Z.call(this)},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$CK.call(this,n,t);t.AddPropertyChangedListener("Data",this.$$d_$28Q);this.$9j("SetLookupInRoot")},$28Q:function(n){var t=n;this.$FJ=t.get_Data();$0.$0(this.$FJ)||$0.$0(this.$1MQ)||this.$1MQ(this.$FJ);this.$QG()}};Microsoft.Crm.Client.Core.ViewModels.$4F=function(n){this.$$d_$1jj=Function.createDelegate(this,this.$1jj);this.$$d_$1oU=Function.createDelegate(this,this.$1oU);this.$$d_$1hM=Function.createDelegate(this,this.$1hM);Microsoft.Crm.Client.Core.ViewModels.$4F.initializeBase(this,[n]);this.$123=Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.get_$6();this.$2P=new Microsoft.Crm.Client.Core.Models.MailApp.$CH;this.$8o=new Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel(this);this.$Rp=new Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel;this.$qO=new Microsoft.Crm.Client.Core.ViewModels.MailApp.$S0;this.$1F2=new Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel;this.$pc=new Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel;this.$1Nw()};Microsoft.Crm.Client.Core.ViewModels.$4F.prototype={$pc:null,$8o:null,$1F2:null,$hJ:null,$Rp:null,$qO:null,$123:null,$16Y:null,$1OQ:null,$Ol:!1,$1JC:!0,$tJ:!1,$1Nw:function(){this.$2P.AddPropertyChangedListener("EmailItem",this.$$d_$1hM);this.$8o.AddPropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$gC,this.$$d_$1hM);this.get_CanvasConductor().get_ActiveNavigationStack().add_CollectionChanged(this.$$d_$1oU);this.$2P.get_$BB()===1&&this.get_$Ms().add_CollectionChanged(this.$$d_$1jj)},$1jj:function(){this.$2HU()},$pP:0,get_IsSetRegardingDisplayedAsHomepage:function(){return this.$tJ},set_IsSetRegardingDisplayedAsHomepage:function(n){return this.$tJ!==n&&(this.$tJ=n,this.$7(Microsoft.Crm.Client.Core.ViewModels.$4F.$24n)),n},get_IsCanvasConductorShouldBeDisplayed:function(){return this.$1JC},set_IsCanvasConductorShouldBeDisplayed:function(n){return this.$1JC!==n&&(this.$1JC=n,this.$7(Microsoft.Crm.Client.Core.ViewModels.$4F.$241)),n},get_IsAppointmentOfficeItemType:function(){return this.$2P.get_$BB()===1},get_IsSetRegardingOpened:function(){return this.$Ol},set_IsSetRegardingOpened:function(n){return this.$Ol!==n&&(this.$Ol=n,this.$7(Microsoft.Crm.Client.Core.ViewModels.$4F.$24o)),n},$2P:null,get_RecipientsHeader:function(){return this.$2P.get_$BB()===1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Attendees_Header"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Recipients_Header")},get_CollapsedRecipientsHeader:function(){return $0.$0(this.$hJ)?this.get_RecipientsHeader():Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Details_Header")},get_RegardingRecordCardViewModel:function(){return this.$hJ},set_RegardingRecordCardViewModel:function(n){return this.$hJ=n,this.$7("RegardingRecordCardViewModel"),n},get_TrackBarViewModel:function(){return this.$8o},get_EmailEngagementCardViewModel:function(){return this.$1F2},get_$Ms:function(){return $0.$0(this.$1OQ)&&(this.$1OQ=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord))),this.$1OQ},get_RecipientsTabBarViewModel:function(){return this.$Rp},get_ComposeActionsTabBarViewModel:function(){return this.$qO},get_ActionsCanvasConductor:function(){return this.$pc},get_RecipientsEntityDescriptorContainer:function(){return this.$16Y},get_$1Jb:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("EmailEngagement")&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("OfficeMailAppEmailEngagement")},$V9:function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype.$V9.call(this,n);this.$2LP()},$1hM:function(){var i;if(!$0.$0(this.$2P.$8K)){var r=this.$8o.$1k,n=this.$2P.$8K.$DR,t=this.$2P.$8K.$E1;r||Microsoft.Crm.Client.Core.Framework.$3.$9(n)||Microsoft.Crm.Client.Core.Framework.$3.$9(t)?($0.$0(this.$hJ)||this.$hJ.dispose(),this.set_RegardingRecordCardViewModel(null)):(i=new Microsoft.Crm.Client.Core.Models.MailApp.$8O(n,t,this.$2P.$8K.$Ge),this.set_RegardingRecordCardViewModel(Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel.$6f(i)))}},$1oU:function(){var n=!1,t=this;this.get_CanvasConductor().get_ActiveNavigationStack().$ka(function(t){(t.$g===35||t.$g===47)&&(n=!0)});this.set_IsSetRegardingOpened(n);this.$2P.get_$BB()===1&&this.$2HU()},$2HU:function(){if(this.$Ol){this.set_IsCanvasConductorShouldBeDisplayed(!0);return}this.set_IsCanvasConductorShouldBeDisplayed(!!Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.$1bo().get_Count())},$2tz:function(){Microsoft.Crm.Client.Core.ViewModels.$2s.get_$6().$170(!0)},$32a:function(){var n=this,t=this;Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$4W.$X().then(function(t){if(n.$16Y=t,n.$2rD(),!n.$V0.$6Q("contact",1)&&!n.$V0.$6Q("lead",1)){Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("Error",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Cant_Check_Email_In_CRM_Without_Priviliges"));return}n.$2tz()},function(){})},$2rD:function(){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppUserPrivileges");n.$h("ReadContact",this.$V0.$6Q("contact",1));n.$h("CreateContact",this.$V0.$6Q("contact",0));n.$h("ReadLead",this.$V0.$6Q("lead",1));n.$h("CreateLead",this.$V0.$6Q("lead",0));Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n)},retrieveEmailContext:function(){this.$1t("ActionProvider",this.$8o,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEmailContext",null))},retrieveMailBoxItem:function(){var n=this;Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().$1HM().done(function(t){n.$2P.$GC.$BM=t.$BM;n.$2P.$GC.$SM=t.$SM;n.$2P.$GC.$oR=t.$oR;n.$2P.$GC.$il=t.$il})},$32l:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$20E(function(t){var i=t.emailAddress;Microsoft.Crm.Client.Core.Framework.$3.$9(i)||(n.$2P.$1Ab=i)})}},$2LP:function(){this.$34V();this.$8o.$2Z();this.$Rp.$2Z();this.$qO.$2Z();this.$1F2.$2Z();this.$123.$2Z();this.retrieveMailBoxItem();this.retrieveEmailContext();this.$32l();this.$1t("ActionProvider",null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEmailCustomProperties",null));this.$1t("ActionProvider",null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveIsSentFolder",null));this.$32a()},$34V:function(){this.$pP=0;this.$2P.get_$BB()===1&&(this.$pP=1)},$lp:function(n,t,i){i&&Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(i)?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype.$lp.call(this,n,t,i):Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$1DH(-1,!0)},collapseActions:function(){this.$pc.set_Visible(!1);this.$qO.set_SelectedIndex(-1)},$Oh:function(){this.$2P.RemovePropertyChangedListener("EmailItem",this.$$d_$1hM);this.$8o.RemovePropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$gC,this.$$d_$1hM);this.get_CanvasConductor().get_ActiveNavigationStack().remove_CollectionChanged(this.$$d_$1oU);$0.$0(this.$123)||this.$123.dispose();$0.$0(this.$hJ)||this.$hJ.dispose();this.$2P.get_$BB()===1&&this.get_$Ms().remove_CollectionChanged(this.$$d_$1jj);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$9V=function(){Microsoft.Crm.Client.Core.ViewModels.$9V.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$9V.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("HitHighlightValueLabel",Microsoft.Crm.Client.Core.ViewModels.$9V)};Microsoft.Crm.Client.Core.ViewModels.$9V.prototype={processHitHighlight:function(n,t,i,r){var o=r[n],s=CrmEncodeDecode.CrmHtmlEncode("{crmhit}"),h=CrmEncodeDecode.CrmHtmlEncode("{/crmhit}"),c=i,e,f,u;if(o&&t in o){for(c="",e=o[t],i="",f=0;f<e.length;f++){for(u=CrmEncodeDecode.CrmHtmlEncode(e[f]);u.indexOf(s)>=0;)u=u.replace(s,"<em>");while(u.indexOf(h)>=0)u=u.replace(h,"<\/em>");i+=u;f<e.length-1&&(i+=".....")}return i}return c}};Microsoft.Crm.Client.Core.ViewModels.$CR=function(){Microsoft.Crm.Client.Core.ViewModels.$CR.initializeBase(this);this.$15n=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Feedback_Link"))};Microsoft.Crm.Client.Core.ViewModels.$CR.prototype={$15n:null,get_OpenFeedbackCommand:function(){return this.$15n},$Oh:function(){this.$15n.dispose();this.$15n=null}};Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1=function(){this.$wG=-1;Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.$$(this.$$gta["Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1"].TBarItem).initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.$$=function(n){var i="TabBarViewModel$1$"+n.getName().replace(/\./g,"_"),t,u,f,r;if(!Microsoft.Crm.Client.Core.ViewModels[i]){t=Microsoft.Crm.Client.Core.ViewModels[i]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1"]={TBarItem:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.apply(this,i)};t.registerClass("Microsoft.Crm.Client.Core.ViewModels."+i,Microsoft.Crm.Client.Core.ViewModels.$4Z);u=Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.prototype;for(f in u)r={key:f,value:u[f]},"constructor"!==r.key&&(t.prototype[r.key]=r.value);t.$2GQ="TabItems";t.$2DB="SelectedIndex"}return Microsoft.Crm.Client.Core.ViewModels[i]};Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.prototype={get_$61:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$x3:null,TabItemClick:function(n){this.$wG!==n&&(this.set_SelectedIndex(n),this.$2vV(this.get_SelectedTabItem()))},$2vV:function(){},get_TabItems:function(){return this.$x3},set_TabItems:function(n){return this.$x3=n,this.$7("TabItems"),n},get_SelectedTabItem:function(){return!$0.$0(this.$x3)&&!$0.$0(this.$x3[this.$wG])?this.$x3[this.$wG]:null},get_SelectedIndex:function(){return this.$wG},set_SelectedIndex:function(n){return this.$wG=n,this.$7("SelectedIndex"),n}};Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel=function(n){this.$$d_$1oU=Function.createDelegate(this,this.$1oU);this.$$d_$2Ul=Function.createDelegate(this,this.$2Ul);this.$$d_$31z=Function.createDelegate(this,this.$31z);this.$$d_$1hM=Function.createDelegate(this,this.$1hM);this.get_NextTabIndex=this.get_$3Fm;this.set_NextTabIndex=this.set_$3Fm;this.get_StartIndex=this.get_$1Qi;this.set_StartIndex=this.set_$1Qi;this.get_TabSpaceReserved=this.get_$1mL;Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.initializeBase(this);this.$C0=n;this.set_$1Qi(950);this.$j9=new Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$3ES};Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.prototype={$C0:null,$j9:null,$t:0,$1Lp:null,$1Mr:null,$UX:null,$1k:!0,$HN:!1,$H1:null,$lY:!0,$13r:!0,$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this),$0.$0(this.$UX)&&(this.$C0.$1Fh.isFeatureEnabled(Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.$1vB)&&!this.$C0.$1Q.$2U.$T6?(this.$UX=new Microsoft.Crm.Client.Core.Commands.$2R(this,47),this.$2BU(!0)):(this.$UX=new Microsoft.Crm.Client.Core.Commands.$2R(this,35),this.$2BU(!1))),this.$1Nw(),this.$1D4())},$1Nw:function(){this.get_$4B().AddPropertyChangedListener("EmailItem",this.$$d_$1hM);this.$C0.$pP===1&&(this.get_$4B().AddPropertyChangedListener("ResolveRecipientsStatus",this.$$d_$31z),this.get_$4B().AddPropertyChangedListener("EmailContextActionStatus",this.$$d_$2Ul),this.$C0.get_CanvasConductor().get_ActiveNavigationStack().add_CollectionChanged(this.$$d_$1oU))},$2Ul:function(){switch(this.get_$4B().$1F0){case 1:this.$j9.$yX=!0;break;case 3:case 2:this.$j9.$yX=!1;this.$22K()}},$31z:function(){switch(this.get_$4B().$171){case 1:this.$j9.$yb=!0;break;case 3:case 2:this.$j9.$yb=!1;this.$22K()}},$2o8:function(n){var t=n.$pK.PatternEndDate;return Microsoft.Crm.Client.Core.Framework.$3.$9(t)?!0:new Date(t).getTime()>(new Date).getTime()?!0:!1},handleUntrack:function(){if(Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppTrackBarUntrackClicked")),this.get_OfficeItemType()===1){var n=this.get_$4B().$8K;n.$L0&&n.$L0!==2?n.$L0===3&&(this.$2o8(n)?this.showUntrackPromptDialog("MoCA_OWA_Delete_Reccurence_Future_Appointment_Activity_Prompt"):this.untrack(!1)):$0.$0(n.$iy)||n.$iy.getTime()<(new Date).getTime()?this.untrack(!1):this.showUntrackPromptDialog()}else Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()?this.get_$4B().$8K.$Pi?this.$38b():this.untrack(!1):this.showUntrackPromptDialog()},showUntrackPromptDialog:function(n){var t,i,r;this.get_$4B().get_$BB()!==1?(t=Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.$2RH(2),t.$1Wh=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Deny_Delete_Email_Activity")):(t=Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.$2RH(2,"Button_Label_Delete","MoCA_OWA_Untrack"),t.$1Wh=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Untrack"));Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.get_$4B().get_$BB()?t.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Delete_Appointment_Activity_Prompt")):t.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Delete_Email_Activity_Prompt")):t.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n));t.$1gk=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Confirm_Delete_Email_Activity");t.$1rv=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_Close");i=this;t.$Gm=function(){i.untrack(!1)};r=this;t.$C2=function(){r.untrack(!0)};t.Show()},$38b:function(){var n=Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.$2RH(1),t;n.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Unfollow_Email_Prompt"));t=this;n.$C2=function(){t.untrack(!1)};n.Show()},get_$4B:function(){return this.$C0.$2P},get_SetRegardingLinkText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MenuItem_Label_SetRegarding")},$2tV:function(n){switch(n){case 4:case 2:case 1:this.$2F4();break;case 3:default:this.$2yb()}},$2F2:function(){this.$lY=!1;this.set_IsError(!0);this.set_IsLoading(!1);this.get_$4B().set_$1F1(2)},$2F4:function(){this.$d1=this.get_$2Go();this.$2F2()},$2F3:function(n){this.$2F2();this.showNotification(Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n),1,!0)},$2yb:function(){$0.$0(this.$H1)?this.$d1=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Retrieve_EWS_Failure_Short"):1===this.$H1.$83?this.$d1=this.get_$2Go():(3===this.$H1.$83||4===this.$H1.$83)&&(this.$d1=this.get_$3AT());this.set_IsError(!0);this.set_IsLoading(!1)},onEmailContextActionSuccess:function(n){if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$248()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("SSSCustomProperty")){this.$2F4();return}if($0.$0(this.get_$4B().$8K)||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMobilePhone()&&n.$83===2&&!Microsoft.Crm.Client.Core.Framework.$3.$12(n.$Ge)&&this.showNotification(Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Track_Regarding"),n.$Ge),0),this.$H1=n,this.get_$4B().set_$2Um(this.$H1),!this.get_$4B().get_$BB()&&!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$ib)&&n.$ib.indexOf("IPM.Schedule")!==-1){var t="MoCA_OWA_Notification_Meeting_Invite_Response";n.$ib==="IPM.Schedule.Meeting.Request"&&(t="MoCA_OWA_Notification_Meeting_Invite_Request");this.$2F3(t)}if(this.get_$4B().get_$BB()===1){if(n.$L0===1)if(this.get_IsTracked())this.$13r=!1;else{this.$2F3("MoCA_OWA_Notification_Appointment_Occurence");return}$0.$0(this.get_$4B().$8K.$oM)||this.get_$4B().$8K.$oM!==4214||(this.$13r=!1)}this.set_IsError(!1);this.get_$4B().set_$1F1(3)},$1hM:function(){var n=this.get_$4B().$8K;$0.$0(n)?this.set_State(0):(this.$5V=new Microsoft.Crm.Client.Core.Models.MailApp.$8O(n.$DR,n.$E1,n.$Ge),this.set_State(n.$83),this.$C0.$2P.get_$BB()!==1&&this.set_IsLoading(!1))},changeMailItemState:function(n,t,i,r){if($0.$0(this.$H1)){this.showNotification(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Retrieve_EWS_Failure_Short"),1,!1,!1);return}this.set_IsLoading(!0);t=$0.$0(t)?"":t;i=$0.$0(i)?"":i;r=$0.$0(r)?"":r;this.$t===2&&n===1&&(n=2);this.$H1=this.get_$4B().$8K.$87();this.$H1.$83=n;this.$H1.$Ge=r;this.$H1.$DR=i;this.$H1.$E1=t;this.$C0.$1t("ActionProvider",this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateEmailContext",this.$H1))},openRegardingSearchPage:function(){$0.$0(this.$UX)||this.$UX.execute()},untrack:function(n){this.$31R(n);n?this.get_CanDeleteActivity()?(this.changeMailItemState(4),this.showNotification(this.get_$2TR(),1)):(this.set_IsError(!0),this.$d1=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Message_0x80040220")):this.changeMailItemState(3)},changeRegarding:function(){$0.$0(this.$UX)||(this.$UX.execute(),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppTrackBarSetRegardingClicked")))},retryLastFailedAction:function(){this.set_IsLoading(!0);$0.$0(this.$H1)?this.$C0.retrieveEmailContext():this.$C0.$1t("ActionProvider",this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateEmailContext",this.$H1))},openRegardedEntity:function(){var n=null,t;try{t={};t.RecordId=this.get_$4B().$8K.$DR;t.RecordType=this.get_$4B().$8K.$E1;n=new Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(null,"OpenInBrowserCommand",t));n.execute()}finally{$0.$0(n)||n.dispose()}},openDynamicsHelpPage:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$13.generateLinkToDynamicsCRMHelpPage(-2147881479);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(n):window.open(n)},showNotification:function(n,t,i,r){var f=$0.$0(i)?!1:i,u=$0.$0(r)?!0:r;f?this.set_PermanentNotification(new Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel(n,t,!0,u)):this.set_Notification(new Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel(n,t,!1,u))},$1D4:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("CheckMetadataChanged",null),t=this;n.OnSuccess=function(n){var r=n,i;r&&(i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel(1,0),i.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_New_Metadata_Prompt_Button_OK"),i.$LY=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_New_Metadata_Prompt_Button_Cancel"),i.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_New_Metadata_Prompt_Title"),i.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_New_Metadata_Prompt_Message")),i.$C2=function(){t.$C0.$1t("ActionProvider",t,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RefreshMetadata",null))},i.Show())};this.$C0.$1t("ActionProvider",this,n)},get_Notification:function(){return this.$1Lp},set_Notification:function(n){return this.$1Lp!==n&&(this.$1Lp=n,this.$7("Notification")),n},get_PermanentNotification:function(){return this.$1Mr},set_PermanentNotification:function(n){return this.$1Mr!==n&&(this.$1Mr=n,this.$7("PermanentNotification")),n},get_State:function(){return this.$t},set_State:function(n){return this.$t!==n&&(this.$t=n,this.$7(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$1Qm)),n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k!==n&&(this.$1k=n,this.$7(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$gC),this.$1k||Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("TrackBarLoad",1)),n},get_IsUntrackingInProgress:function(){return this.$t===3||this.$t===4},get_IsError:function(){return this.$HN},set_IsError:function(n){return this.$HN!==n&&(this.$HN=n,this.$7("IsError")),n},get_IsTrackingAvailable:function(){return this.$lY},get_IsChangeRegardingAvailable:function(){return this.$13r},get_IsTracked:function(){return!$0.$0(this.get_$4B().$8K)&&!(!this.$t||this.$t===3||this.$t===4)},get_IsRegardingButtonVisible:function(){return!$0.$0(this.$5V)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5V.$1c)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5V.$6r)&&(this.$t===2||this.$t===1)},get_IsRetryButtonVisible:function(){return this.$HN&&this.$lY},get_IsTrackWithoutSettingRegardingEnabled:function(){return!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$15r},get_CanDeleteActivity:function(){return this.$C0.$V0.$6Q("activitypointer",3)},get_OfficeItemType:function(){return this.get_$4B().get_$BB()},$d1:null,get_ErrorMessageText:function(){return this.$d1},set_ErrorMessageText:function(n){return this.$d1=n,n},get_$2Go:function(){return this.get_$4B().get_$BB()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Track_Appointment_Failure_Short"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Track_EWS_Failure_Short")},get_$3AT:function(){return this.get_$4B().get_$BB()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Untrack_Appointment_Failure_Short"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Untrack_EWS_Failure_Short")},get_$2TR:function(){return this.get_$4B().get_$BB()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Notification_Appointment_Untrack_Delete"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Notification_Untrack_Delete")},get_MessageText:function(){if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMobilePhone()&&!$0.$0(this.get_$4B().$GC.$BM))return this.get_$4B().$GC.$BM;switch(this.$t){case 0:var n="";return this.$C0.$Ol&&(n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Tracking_Email")),n;case 1:return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5V.$1c)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Pending_Track"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Pending_Track_Regarding");case 2:return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5V.$1c)?this.get_$4B().get_$BB()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Appointment_Is_Tracked"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Is_Tracked"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Is_Tracked_Regarding");case 3:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Pending_Untrack");case 4:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Pending_Untrack_and_Delete_Short");default:return""}},$5V:null,get_RegardingObjectName:function(){return this.$5V?this.$5V.$1c:null},get_TrackButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Track")},get_UntrackButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Untrack")},get_ChangeButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Change")},get_RetryButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Retry")},get_HelpButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Help")},$Oh:function(){$0.$0(this.$UX)||this.$UX.dispose();this.get_$4B().RemovePropertyChangedListener("EmailItem",this.$$d_$1hM);this.$C0.$pP===1&&(this.get_$4B().RemovePropertyChangedListener("ResolveRecipientsStatus",this.$$d_$31z),this.get_$4B().RemovePropertyChangedListener("EmailContextActionStatus",this.$$d_$2Ul),this.$C0.get_CanvasConductor().get_ActiveNavigationStack().remove_CollectionChanged(this.$$d_$1oU));Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)},onChangeFlyOutButtonClick:function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppTrackBarChangeClicked"))},$31R:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppActivityUntrack");t.$h("IsActivityWillBeDeleted",n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)},$2BU:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppRecordSelectedSearchType");t.$h("IsRelevanceSearchEnabled",n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)},$1BC:!1,$22K:function(){var n;if(this.$j9.get_$2LS()){if(n=this.$C0.$2P.$dR,!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&!$0.$0(n)){var t=n.$A0.toLowerCase(),r=this,i=Microsoft.Crm.Client.Core.Framework.$5B.$TJ(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,this.$C0.get_$Ms().$1mk(),function(n){return n.$a.LogicalName==="systemuser"&&n.getValue("mailappemailaddress").toLowerCase()===t});i.length>0&&(this.$lY=!1,this.showNotification(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Meeting_Organized_By_User_Tracking_Unavailable"),1,!0))}this.$2HV();this.$C0.$tJ&&!this.$C0.$Ol&&(this.$C0.set_IsCanvasConductorShouldBeDisplayed(!0),this.openRegardingSearchPage(),this.$1BC=!0);this.set_IsLoading(!1)}},$2HV:function(){var n=Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.$1bo().get_Count();this.$C0.set_IsSetRegardingDisplayedAsHomepage(!n&&this.$lY&&this.$t!==2&&this.$t!==1)},$1oU:function(){this.$1BC=!1},get_$3Fm:function(){return this.get_$1Qi()+this.get_$1mL()},set_$3Fm:function(n){return n},$Nf:0,get_$1Qi:function(){return this.$Nf},set_$1Qi:function(n){return this.$Nf=n,n},get_$1mL:function(){return 10}};Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$3ES=function(){this.$yb=!0;this.$yX=!0};Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$3ES.prototype={$yb:!1,$yX:!1,get_$2LS:function(){return!this.$yb&&!this.$yX}};Microsoft.Crm.Client.Core.ViewModels.$I4=function(){};Microsoft.Crm.Client.Core.ViewModels.$I4.prototype={$yG:!1,$1Tp:!1,$1i:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t,i;return this.$1Tp||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Microsoft.Crm.Client.Core.ViewModels.$4r.$15U?this.$D2(n):(t=new Microsoft.Crm.Client.Core.ViewModels.$N0,i=this,t.$1i().done(function(){i.$D2(n)})),n.promise()},$D2:function(n){var t=this;this.$2E(function(){t.$yG?n.reject():n.resolve(null)})},$4G:function(n){var t=$(n)[0];React.addons.TestUtils.Simulate.shortPress(t)},$7X:function(n){$(n).click()},$2Gw:function(n){var t=$(n)[0];React.addons.TestUtils.Simulate.longPress(t)},$xN:function(n,t){var i=$(n)[0];React.addons.TestUtils.Simulate.change(i,{target:{value:t}})},$3A3:function(n,t){var i=$(n)[0];React.addons.TestUtils.Simulate.keyUp(i,{key:t})},$jb:function(n,t){$(".appBarShell[data-open='1']").length||this.$7X("#appBarSwitch");var i=this;this.$GW(function(){i.$4G(".appBar button[data-id='"+n+"']");i.$GW(t)})},$GW:function(n,t){$0.$0(t)&&(t=750);window.setTimeout(n,t)},$2F:function(n){var i=-1,t=null,o=this,r=function(){t=Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){window.clearTimeout(i);var t=Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===1&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$14C||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1dt)?5e3:1500;window.setTimeout(n,t)},-15,"PerformanceAutomationAction")},u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL(),f,e;u?(f=this,u.$2En(function(){f.$yG||r()})):r();e=this;i=window.setTimeout(function(){e.$yG=!0;t&&t.$Wy();n()},2e4)},$2D3:function(n,t){var i=$(".rootViewControl_content.conductorContent:last "+n),r=$(".rootViewControl_content.conductorContent:last .panoramaContainer");r.scrollLeft(i[0].offsetLeft);this.$GW(t,2e3)},$1vi:function(n,t,i){var r,u;Microsoft.Crm.Client.Core.Framework.$6.get_$3A()?(r=this,this.$2D3("div[data-panename='"+n+"']",function(){r.$jb(t,function(){r.$GW(i)})})):(this.$2Gw(".rootViewControl_content.conductorContent:last div[data-panename='"+n+"'] .listViewName"),u=this,this.$GW(function(){u.$jb(t,function(){u.$GW(i)})},2e3))}};Microsoft.Crm.Client.Core.ViewModels.$MO=function(){Microsoft.Crm.Client.Core.ViewModels.$MO.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$MO.prototype={$2E:function(n){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_ActiveNavigationStack().get_Count(),t;if(i===1){n();return}this.$7X("button[data-id='back']");t=this;this.$GW(function(){t.$2F(n)})}};Microsoft.Crm.Client.Core.ViewModels.$N4=function(){Microsoft.Crm.Client.Core.ViewModels.$N4.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$N4.prototype={$2E:function(n){this.$2Gy(n)},$2Gy:function(n){var r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_ActiveNavigationStack().get_Count(),t,i;if(r===1){n();return}t=new Microsoft.Crm.Client.Core.ViewModels.$MO;i=this;t.$1i().always(function(){i.$2Gy(n)})}};Microsoft.Crm.Client.Core.ViewModels.$Nc=function(n){Microsoft.Crm.Client.Core.ViewModels.$Nc.initializeBase(this);this.$q2=n};Microsoft.Crm.Client.Core.ViewModels.$Nc.prototype={$q2:null,$2E:function(n){this.$4G(".quickCreateForm_actionDivContainer button[data-id='"+this.$q2+"']");this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$Nd=function(n){Microsoft.Crm.Client.Core.ViewModels.$Nd.initializeBase(this);this.$z=n};Microsoft.Crm.Client.Core.ViewModels.$Nd.prototype={$z:null,$2E:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$Ng,r=new Microsoft.Crm.Client.Core.ViewModels.$Nb(this.$z),t=this;i.$1i().done(function(){t.$GW(function(){r.$1i().done(function(){t.$GW(function(){t.$2F(n)})})})})}};Microsoft.Crm.Client.Core.ViewModels.$5V=function(){this.$$d_$2tq=Function.createDelegate(this,this.$2tq);Microsoft.Crm.Client.Core.ViewModels.$5V.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$5V.prototype={$1Lr:15,$1IW:null,$AJ:null,$GK:null,$14e:null,get_$Mj:function(){return $0.$0(this.$GK)&&(this.$GK=norsyncPlugin.init("OfflineDataSource")),this.$GK},$2E:function(n){this.$1IW=n;var t=this,i=this;this.$2TG().then(function(n){n?($(window).bind("offlineSyncComplete",t.$$d_$2tq),t.$1dQ()):t.$1mI(String.format("Pre-requite step to create {0} records failed in PerformanceAutomationIncrementalMDSyncAction",Microsoft.Crm.Client.Core.ViewModels.$5V.$1BX))},function(){i.$1mI(String.format("Pre-requite step to create {0} records failed in PerformanceAutomationIncrementalMDSyncAction",Microsoft.Crm.Client.Core.ViewModels.$5V.$1BX))});Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("OfflineSync",0,"IncrementalSync")},$2tq:function(){if(!$0.$0(this.$14e)){this.$2mU();var n=this,t=this;this.$328().then(function(t){t?(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(167,"IncrementalMDSync Sucessfully Synced"),$(window).unbind("offlineSyncComplete",n.$$d_$2tq),n.$1IW()):n.$2CR()},function(){t.$2CR()})}},$2CR:function(){this.$1Lr>0?(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(167,String.format("OfflineIncrementalSync Failed {0} Retries left",this.$1Lr)),this.$1Lr--,this.$1dQ()):this.$1mI("OfflineIncrementalSync Failed to Sync all Records")},$1mI:function(n){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("IncrementalSyncFailure");Microsoft.Crm.Client.Core.Framework.Trace.logInfo(1031,n);this.$1IW()},$2mU:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E();this.$GK=norsyncPlugin.init(n.$4s.$7K.toString())},$328:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t=this,i=this;return this.get_$Mj().transaction(function(i){var r=[];r[r.length]=t.$14e.toString();i.executeSql("SELECT 1 from account where accountid = ? COLLATE NOCASE",r,function(t,i){$0.$0(i.rows)||!i.rows.length?(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(167,"OfflineIncrementalSync Last Record Not Synced"),n.resolve(!1)):(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(167,"OfflineIncrementalSync Last Record Synced"),n.resolve(!0))},function(){n.resolve(!1)})},function(t,i){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(167,"OfflineIncrementalSync Transaction Create Failure");n.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(i))},null),n.promise()},$2TG:function(){for(var f,h,n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t=[],i=0;i<Microsoft.Crm.Client.Core.ViewModels.$5V.$1BX;i++){var r=Microsoft.Crm.Client.Core.Framework.Guid.newGuid(),e=r.toString()+i.toString(),o=new Xrm.Objects.EntityReference("account",r,e),s=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(o,{},{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),u=new Xrm.Gen.CreateRequest(s,!0);$0.$0(u)||(t[t.length]=u)}return this.$14e=null,this.$AJ=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$1t(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$Hp()),f=this,h=this,this.$AJ.$1i(new Xrm.Gen.ExecuteMultipleRequest(t,new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),null).then(function(t){var i=t,r,u;!$0.$0(i)&&!$0.$0(i.responses)&&i.responses.length>0?(r=i.responses[i.responses.length-1],u=r.$9Y,f.$14e=u.id,n.resolve(!0)):n.resolve(!1)},function(t){n.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(t.get_message()))}),n.promise()}};Microsoft.Crm.Client.Core.ViewModels.$Ql=function(){this.$$d_$2vR=Function.createDelegate(this,this.$2vR);Microsoft.Crm.Client.Core.ViewModels.$Ql.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ql.prototype={$1R4:null,$2E:function(n){this.$1R4=n;$(window).bind("offlineSyncComplete",this.$$d_$2vR);var i=this,t=this;this.$2U5().then(function(){i.$1dQ()},function(){$(window).unbind("offlineSyncComplete",t.$$d_$2vR);t.$1R4()});Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("OfflineSync",0,"InitialSync")},$2vR:function(){$(window).unbind("offlineSyncComplete",this.$$d_$2vR);this.$1R4()}};Microsoft.Crm.Client.Core.ViewModels.$Ne=function(n){Microsoft.Crm.Client.Core.ViewModels.$Ne.initializeBase(this);this.$5f=n};Microsoft.Crm.Client.Core.ViewModels.$Ne.prototype={$5f:null,$2E:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$NZ,t;this.$xN("#activeRootView .searchboxiconcontainer input",this.$5f);t=this;this.$GW(function(){t.$4G("#activeRootView .searchButton");t.$GW(function(){i.$1i().done(function(){t.$2F(n)})},5e3)})}};Microsoft.Crm.Client.Core.ViewModels.$NZ=function(){Microsoft.Crm.Client.Core.ViewModels.$NZ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$NZ.prototype={$2E:function(n){this.$4G("#activeRootView .SimpleListView div:first");var t=this;this.$GW(function(){t.$2F(n)},5e3)}};Microsoft.Crm.Client.Core.ViewModels.$Na=function(n){Microsoft.Crm.Client.Core.ViewModels.$Na.initializeBase(this);this.$z=n};Microsoft.Crm.Client.Core.ViewModels.$Na.prototype={$z:null,$2E:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$Nk(this.$z),i=new Microsoft.Crm.Client.Core.ViewModels.$NR,r=new Microsoft.Crm.Client.Core.ViewModels.$Nc("createandclose"),u=this;t.$1i().done(function(){i.$1i().done(function(){r.$1i().done(function(){n()})})})}};Microsoft.Crm.Client.Core.ViewModels.$Nb=function(n){Microsoft.Crm.Client.Core.ViewModels.$Nb.initializeBase(this);this.$q2=n+"|NoRelationship|Form|Mscrm.Form."+n+".Delete"};Microsoft.Crm.Client.Core.ViewModels.$Nb.prototype={$q2:null,$2E:function(n){var t=this;this.$GW(function(){t.$jb(t.$q2,function(){t.$GW(function(){t.$4G(".messageDialog_OK_Button.button:not('#ConfirmDialogYes')");t.$GW(function(){t.$2F(n)},8e3)})})},5e3)}};Microsoft.Crm.Client.Core.ViewModels.$Nf=function(n){Microsoft.Crm.Client.Core.ViewModels.$Nf.initializeBase(this);this.$z=n};Microsoft.Crm.Client.Core.ViewModels.$Nf.prototype={$z:null,$2E:function(n){this.$4G("button[data-id='sitemap']");var t=this;this.$GW(function(){t.$4G("#siteMapMenu button[id='sitemap-button-"+t.$z+"']");t.$2F(n)})}};Microsoft.Crm.Client.Core.ViewModels.$Nj=function(){Microsoft.Crm.Client.Core.ViewModels.$Nj.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Nj.prototype={$2E:function(n){this.$4G("#headerBar button[data-id='home']");this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$Nk=function(n){Microsoft.Crm.Client.Core.ViewModels.$Nk.initializeBase(this);this.$z=n};Microsoft.Crm.Client.Core.ViewModels.$Nk.prototype={$z:null,$2E:function(n){var t=this;this.$jb("CreateFlyoutButton",function(){t.$4G(".appBar .popupContent button[data-id='"+t.$z+"']");t.$2F(n)})}};Microsoft.Crm.Client.Core.ViewModels.$Ng=function(){Microsoft.Crm.Client.Core.ViewModels.$Ng.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ng.prototype={$2E:function(n){var t=Microsoft.Crm.Client.Core.Framework.$6.get_$3A()?".rootViewControl_content.conductorContent:last .SimpleListView .listItem:first":".rootViewControl_content.conductorContent:last .TabularView tr:first td:first",i;$(t).length>0?(this.$4G(t),i=this,this.$GW(function(){i.$2F(n)})):(this.$yG=!0,n())}};Microsoft.Crm.Client.Core.ViewModels.$Nh=function(){Microsoft.Crm.Client.Core.ViewModels.$Nh.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Nh.prototype={$2E:function(n){var i=$(".rootViewControl_content.conductorContent:last div[data-panetype='TilePane'] .crmtile:not(.placeholderTile)"),t;if(i.length>0){n();return}t=this;this.$2xZ(function(){t.$2xT(n)})},$2xZ:function(n){var t=this;this.$1iO("contact",function(){t.$2O2(function(){t.$1iO("opportunity",function(){t.$1iO("account",n)})})})},$2xT:function(n){var t=this;this.$29X("activitypointer",function(){t.$29X("lead",n)})},$1iO:function(n,t){var r=new Microsoft.Crm.Client.Core.ViewModels.$Nf(n),u=new Microsoft.Crm.Client.Core.ViewModels.$Ng,f=new Microsoft.Crm.Client.Core.ViewModels.$N4,i=this;r.$1i().done(function(){u.$1i().done(function(){i.$jb("DashboardPinButton",function(){i.$2F(function(){f.$1i().done(function(){t()})})})})})},$29X:function(n,t){this.$1vi(n,"DashboardPinButton",t)},$2O2:function(n){this.$2Gw(".rootViewControl_content.conductorContent:last div[data-panetype='TilePane'] .crmtile[data-name='contact']");var t=this;this.$GW(function(){t.$4G(".appBar button[data-id='ResizeButton']");t.$GW(n)},2e3)}};Microsoft.Crm.Client.Core.ViewModels.$Ni=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Ni.initializeBase(this);this.$5f=n;this.$z=t};Microsoft.Crm.Client.Core.ViewModels.$Ni.prototype={$z:null,$5f:null,$2E:function(n){if($0.$0(this.$z))this.$Ma(n);else{var t=new Microsoft.Crm.Client.Core.ViewModels.$Nf(this.$z),i=this;t.$1i().done(function(){i.$Ma(n)})}},$Ma:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$Ne(this.$5f),t;Microsoft.Crm.Client.Core.Framework.$6.get_$3A()?this.$4G(".navigationBar button[data-id='searchImage']"):this.$4G("#activeRootView button[data-id='searchImage']");t=this;this.$GW(function(){i.$1i().done(function(){t.$2F(n)})},1500)}};Microsoft.Crm.Client.Core.ViewModels.$NR=function(){Microsoft.Crm.Client.Core.ViewModels.$NR.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$NR.prototype={$2E:function(n){var i=$(".fieldsSectionView .requiredField:not([data-fieldname='ownerid'])"),t,r;$0.$0(i)||(t=[],r=this,i.each(function(n,i){Array.add(t,i)}),this.$1lJ(t,n))},$1lJ:function(n,t){if(n.length>0){var u=n[0],f="Test"+Math.random().toString(),r=u.getAttribute("data-fieldname").toString(),i=this;this.$GW(function(){i.$4G("div[data-fieldname='"+r+"_readonly']");i.$GW(function(){$("div[data-fieldname='"+r+"_edit']").find("input").val(f);$("div[data-fieldname='"+r+"_edit']").find("input").blur();i.$GW(function(){Array.remove(n,u);i.$1lJ(n,t)})})})}else this.$2F(t)}};Microsoft.Crm.Client.Core.ViewModels.$NS=function(n){Microsoft.Crm.Client.Core.ViewModels.$NS.initializeBase(this);this.$z=n};Microsoft.Crm.Client.Core.ViewModels.$NS.prototype={$z:null,$2E:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.$Nf(this.$z),r=new Microsoft.Crm.Client.Core.ViewModels.$Nj,t=this;r.$1i().done(function(){t.$GW(function(){i.$1i().done(function(){t.$GW(function(){t.$7X(".rootViewControl_content.conductorContent:last .table_header tr[data-id='TableHeader']:first th:first");t.$GW(function(){t.$2F(n)})})})})})}};Microsoft.Crm.Client.Core.ViewModels.$NT=function(){Microsoft.Crm.Client.Core.ViewModels.$NT.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$NT.prototype={$1dQ:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GG().$18s()},$2U5:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E(),i=this,r=this;return Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$ZK.$1XA(t.$4s.$7K.toString(),t).then(function(){n.resolve()},function(t){n.reject(t)}),n.promise()},$2E:function(){}};Microsoft.Crm.Client.Core.ViewModels.$I3=function(n,t,i,r,u){this.$$d_$33d=Function.createDelegate(this,this.$33d);this.$1P0=-1;this.$hv=n;this.$Ik=t;this.$Ux=i;this.$Rq=r;this.$1NJ=u};Microsoft.Crm.Client.Core.ViewModels.$I3.prototype={$hv:null,$Ik:0,$Ux:!1,$Rq:!1,$1NJ:null,$T0:null,$qi:0,$33b:function(){return this.$T0=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),this.$qi=-1,window.setTimeout(this.$$d_$33d,0),this.$T0.promise()},$33d:function(){var n,u,f;if(this.$qi++,this.$qi>=this.$hv.length&&(this.$Ux&&(this.$qi=0,this.$1P0++),!this.$Ux||this.$1P0>=this.$Ik)){this.$T0.resolve(null);return}if(n=this.$hv[this.$qi],!n.$8m){window.setTimeout(this.$$d_$33d,0);return}$0.$0(this.$1NJ)||this.$1NJ("Executing "+n.$3y+" "+Microsoft.Crm.Client.Core.ViewModels.$M.toString(n.$2D));var t=this.$Ik,i=!0,r=!0;this.$Ux&&(t=1,i=!1,r=this.$1P0>=0);u=new Microsoft.Crm.Client.Core.ViewModels.$4r(n,t,i,r,this.$Rq);f=this;u.$9s().always(function(){window.setTimeout(f.$$d_$33d,0)})}};Microsoft.Crm.Client.Core.ViewModels.$NO=function(){Microsoft.Crm.Client.Core.ViewModels.$NO.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$NO.prototype={$2E:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$Ng,i=new Microsoft.Crm.Client.Core.ViewModels.$NR,r=new Microsoft.Crm.Client.Core.ViewModels.$MO,u=this;t.$1i().done(function(){i.$1i().done(function(){r.$1i().done(function(){n()})})})}};Microsoft.Crm.Client.Core.ViewModels.$NP=function(n){Microsoft.Crm.Client.Core.ViewModels.$NP.initializeBase(this);this.$Xh=n};Microsoft.Crm.Client.Core.ViewModels.$NP.prototype={$Xh:null,$2E:function(n){this.$4G("button.button[data-id='"+this.$Xh+"']");this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$NQ=function(n){Microsoft.Crm.Client.Core.ViewModels.$NQ.initializeBase(this);this.$5i=n};Microsoft.Crm.Client.Core.ViewModels.$NQ.prototype={$5i:null,$2E:function(n){this.$7X("span.pieTitle[title='"+this.$5i+"']");this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$NU=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$NU.initializeBase(this);this.$v5=n;this.$v6=t};Microsoft.Crm.Client.Core.ViewModels.$NU.prototype={$v5:null,$v6:null,$2E:function(n){var t="queuePanel-"+this.$v5+"queuePanelItem-"+this.$v6,i=$("div.queueItemBody [data-id='"+t+"']")[0];i.click();this.$2F(n)}};Microsoft.Crm.Client.Core.ViewModels.$NW=function(n){Microsoft.Crm.Client.Core.ViewModels.$NW.initializeBase(this);this.$Xh=n};Microsoft.Crm.Client.Core.ViewModels.$NW.prototype={$Xh:null,$2E:function(n){this.$7X("span.radio-button[data-id='"+this.$Xh+"']");this.$GW(n,1e3)}};Microsoft.Crm.Client.Core.ViewModels.$NX=function(n){Microsoft.Crm.Client.Core.ViewModels.$NX.initializeBase(this);this.$Xh=n};Microsoft.Crm.Client.Core.ViewModels.$NX.prototype={$Xh:null,$2E:function(n){this.$7X("div.daterangepicker-pullright[data-id='dateRangeFilterOpen']");var t=this;this.$GW(function(){t.$7X(".ranges [data-id='dateRangeFilterOpen_"+t.$Xh+"']");t.$2F(n)})}};Microsoft.Crm.Client.Core.ViewModels.$NY=function(){Microsoft.Crm.Client.Core.ViewModels.$NY.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$NY.prototype={$2E:function(n){this.$4G("button.visualFilterToggleButton");this.$GW(n,1e3)}};Microsoft.Crm.Client.Core.ViewModels.$NV=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$NV.initializeBase(this);this.$AR=n;this.$1CO=t};Microsoft.Crm.Client.Core.ViewModels.$NV.prototype={$AR:null,$1CO:null,$2E:function(n){this.$4G("button.globalFilterButton");var t=this;this.$GW(function(){t.$4G("button.toggleButton[data-id='"+t.$AR+"']");t.$GW(function(){t.$2DF(0,n)})})},$2DF:function(n,t){if(this.$1CO.length===n)this.$4G("div.globalFilterHeader > span.filterButtons > button.actionButton[data-id='ApplyFilters']"),this.$2F(t);else{this.$7X("input.optionsetFilterItemCheckbox[data-id='"+this.$1CO[n]+"']");var i=this;this.$GW(function(){i.$2DF(n+1,t)})}}};Microsoft.Crm.Client.Core.ViewModels.$b=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$b.initializeBase(this);this.$2D=n;this.set_Enabled(!1);this.$3y=t;this.$8j=i};Microsoft.Crm.Client.Core.ViewModels.$b.$1tL=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.$b(n,t.get_$1Mu(),t.get_$2I())};Microsoft.Crm.Client.Core.ViewModels.$b.$T3=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.$b(n,t,null)};Microsoft.Crm.Client.Core.ViewModels.$b.$4F=function(n,t,i){return new Microsoft.Crm.Client.Core.ViewModels.$b(n,t,i)};Microsoft.Crm.Client.Core.ViewModels.$b.CreateTestCaseForQA=function(n){if(!$0.$0(n))try{var t=JSON.parse(n),i=t.TestScenario,r=t.EntityPluralName,u=t.EntityLogicalName;return new Microsoft.Crm.Client.Core.ViewModels.$b(i,r,u)}catch(f){}return null};Microsoft.Crm.Client.Core.ViewModels.$b.prototype={$8m:!1,$2D:0,get_Scenario:function(){return this.$2D},set_Scenario:function(n){return this.$2D=n,n},$8j:null,get_Parameter:function(){return this.$8j},set_Parameter:function(n){return this.$8j=n,n},$3y:null,get_DisplayName:function(){return this.$3y},set_DisplayName:function(n){return this.$3y=n,n},get_Enabled:function(){return this.$8m},set_Enabled:function(n){return this.$8m!==n&&(this.$8m=n,this.$7("Enabled")),n}};Microsoft.Crm.Client.Core.ViewModels.$4r=function(n,t,i,r,u){this.$Ik=t;this.$68=n;$0.$0(i)||(this.$1Zr=i);$0.$0(r)||(this.$1ld=r);$0.$0(u)||(this.$Rq=u)};Microsoft.Crm.Client.Core.ViewModels.$4r.prototype={$68:null,$1Zr:!0,$1ld:!0,$Rq:!1,$Ik:0,$T0:null,$Up:0,$Et:"",$9s:function(){this.$T0=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7);this.$Up=this.$Ik;this.$1Zr&&this.$Up++;var n=this;return this.$37s().done(function(){n.$2FK(n.$68.$2D)?n.$2Up().done(function(){n.$11h()}):n.$11h()}),this.$T0.promise()},$37s:function(){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),i=new Microsoft.Crm.Client.Core.ViewModels.$N4,n=this;return i.$1i().done(function(){var i,r,u,f,e,o,s,h,c,l,a,v;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1DG();switch(n.$68.$2D){case 0:case 15:case 16:case 21:case 14:case 24:i=new Microsoft.Crm.Client.Core.ViewModels.$Nf(n.$68.$8j);i.$1i().done(function(){t.resolve(null)});break;case 3:r=new Microsoft.Crm.Client.Core.ViewModels.$Nh;r.$1i().done(function(){t.resolve(null)});break;case 8:u=Number.parseInvariant(n.$68.$8j);f=n.$2iI(u);n.$w7(t,f);break;case 9:e=Number.parseInvariant(n.$68.$8j);o=n.$2iJ(e);n.$w7(t,o);break;case 11:s=Number.parseInvariant(n.$68.$8j);h=n.$2iL(s);n.$w7(t,h);break;case 10:c=Number.parseInvariant(n.$68.$8j);l=n.$2iK(c);n.$w7(t,l);break;case 12:a=Number.parseInvariant(n.$68.$8j);v=n.$2iH(a);n.$w7(t,v);break;case 25:var y=new Microsoft.Crm.Client.Core.ViewModels.$Nf(n.$68.$8j),p=new Microsoft.Crm.Client.Core.ViewModels.$Ng,w=new Microsoft.Crm.Client.Core.ViewModels.$MV("sharepointdocument");y.$1i().done(function(){p.$1i().done(function(){w.$1i().done(function(){t.resolve(null)})})});break;default:t.resolve(null)}}),t.promise()},$2IQ:function(n){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1nj(),t;$0.$0(i)?(console.log("Waiting 2s for the Background sync to finish."),t=this,window.setTimeout(function(){t.$2IQ(n)},2e3)):n.resolve()},$w7:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),r;this.$2IQ(i);r=this;i.done(function(){t?t.$1i().done(function(){n.resolve(null)}):n.resolve(null)})},$2iI:function(n){var t=null;switch(n){case 5:t=new Microsoft.Crm.Client.Core.ViewModels.$NW("TilesView");break;case 2:t=new Microsoft.Crm.Client.Core.ViewModels.$NY;break;case 9:t=new Microsoft.Crm.Client.Core.ViewModels.$NU("0","0")}return t},$2iJ:function(n){var t=null;switch(n){case 9:t=new Microsoft.Crm.Client.Core.ViewModels.$NU("0","0");break;case 8:case 0:case 2:case 6:case 3:case 10:t=new Microsoft.Crm.Client.Core.ViewModels.$Mv("Tier 2 Dashboard")}return t},$2iL:function(n){var t=null;switch(n){case 1:t=new Microsoft.Crm.Client.Core.ViewModels.$Ms("Service","Cases");break;case 9:case 8:t=new Microsoft.Crm.Client.Core.ViewModels.$NU("0","0")}return t},$2iK:function(n){var t=null;switch(n){case 5:case 6:t=new Microsoft.Crm.Client.Core.ViewModels.$Ms("Service","Cases");break;case 7:t=new Microsoft.Crm.Client.Core.ViewModels.$Mx("Service","Cases",!0);break;case 9:case 10:t=new Microsoft.Crm.Client.Core.ViewModels.$Ms("Service","Contacts");break;case 11:t=new Microsoft.Crm.Client.Core.ViewModels.$Mx("Service","Contacts",!0);break;case 1:case 2:t=new Microsoft.Crm.Client.Core.ViewModels.$Ms("Service","Accounts");break;case 3:t=new Microsoft.Crm.Client.Core.ViewModels.$Mx("Service","Accounts",!0)}return t},$2iH:function(n){var t=null,i;switch(n){case 5:t=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Cases","Entitlements",!0);break;case 6:t=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Contacts","Entitlements",!0);break;case 7:t=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Contacts","Recent Opportunities",!0);break;case 3:t=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Accounts","Entitlements",!0);break;case 4:t=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Accounts","Recent Opportunities",!0);break;case 0:t=new Microsoft.Crm.Client.Core.ViewModels.$N2(0,"");break;case 1:t=new Microsoft.Crm.Client.Core.ViewModels.$Qr(0);break;case 2:t=new Microsoft.Crm.Client.Core.ViewModels.$Ma(0);break;case 8:t=new Microsoft.Crm.Client.Core.ViewModels.$NU("0","0");break;case 9:t=new Microsoft.Crm.Client.Core.ViewModels.$Mf(0);break;case 10:case 11:t=new Microsoft.Crm.Client.Core.ViewModels.$Me(0,n===11);break;case 12:t=new Microsoft.Crm.Client.Core.ViewModels.$Md(0,"");break;case 13:case 14:i=n===13;t=new Microsoft.Crm.Client.Core.ViewModels.$MW(0,!1,i);break;case 15:t=new Microsoft.Crm.Client.Core.ViewModels.$Qp(0,!1)}return t},$11h:function(){var f,r,w,n,t,e,o,s,h,c,l,a,v,y,p,i,u;if(!this.$Up){f=this;this.$2xL().done(function(){f.$T0.resolve(null)});return}this.$2FK(this.$68.$2D)?(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$1F(!1),Microsoft.Crm.Client.Core.ViewModels.$4r.$15U=!0,r=null,w=this,r=function(){Microsoft.Crm.Client.Core.ViewModels.$4r.$15U=!1;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().remove_$1PU(r)},Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$1PU(r)):Microsoft.Crm.Client.Core.ViewModels.$4r.$15U=!1;n=null;t=new Microsoft.Crm.Client.Core.ViewModels.$MO;switch(this.$68.$2D){case 0:n=new Microsoft.Crm.Client.Core.ViewModels.$Ng;break;case 2:n=new Microsoft.Crm.Client.Core.ViewModels.$Nk(this.$68.$8j);t=new Microsoft.Crm.Client.Core.ViewModels.$Nc("close");break;case 1:n=new Microsoft.Crm.Client.Core.ViewModels.$Nf(this.$68.$8j);break;case 3:n=new Microsoft.Crm.Client.Core.ViewModels.$Nj;break;case 23:n=new Microsoft.Crm.Client.Core.ViewModels.$Na(this.$68.$8j);break;case 24:n=new Microsoft.Crm.Client.Core.ViewModels.$NO;t=null;break;case 5:n=new Microsoft.Crm.Client.Core.ViewModels.$NS(this.$68.$8j);break;case 6:n=new Microsoft.Crm.Client.Core.ViewModels.$Ql;break;case 7:n=new Microsoft.Crm.Client.Core.ViewModels.$5V;break;case 8:this.$21x(e={val:n},o={val:t});n=e.val;t=o.val;break;case 9:this.$21x(s={val:n},h={val:t});n=s.val;t=h.val;break;case 11:this.$2jc(c={val:n},l={val:t});n=c.val;t=l.val;break;case 10:this.$2jb(a={val:n},v={val:t});n=a.val;t=v.val;break;case 12:this.$2ja(y={val:n},p={val:t});n=y.val;t=p.val;break;case 18:n=new Microsoft.Crm.Client.Core.ViewModels.$Mn(this.$68.$8j);break;case 19:n=new Microsoft.Crm.Client.Core.ViewModels.$Mr;break;case 20:n=new Microsoft.Crm.Client.Core.ViewModels.$Ni("Anthony");t=new Microsoft.Crm.Client.Core.ViewModels.$N4;break;case 21:this.$Et="GridRefresh_"+this.$68.$8j;n=new Microsoft.Crm.Client.Core.ViewModels.$Mo;t=null;break;case 22:this.$Et="ListRefresh";n=new Microsoft.Crm.Client.Core.ViewModels.$Mm;t=null;break;case 4:this.$Et="Offline_CreateForm_"+this.$68.$8j;n=new Microsoft.Crm.Client.Core.ViewModels.$Na(this.$68.$8j);break;case 15:this.$Et="Offline_DeleteForm_"+this.$68.$8j;n=new Microsoft.Crm.Client.Core.ViewModels.$Nd(this.$68.$8j);t=new Microsoft.Crm.Client.Core.ViewModels.$Nf(this.$68.$8j);break;case 16:this.$Et="Offline_RetrieveForm_"+this.$68.$8j;n=new Microsoft.Crm.Client.Core.ViewModels.$Ng;break;case 13:this.$Et="Offline_Search_"+this.$68.$8j;n=new Microsoft.Crm.Client.Core.ViewModels.$Ni("Test",this.$68.$8j);break;case 14:this.$Et="Offline_EditForm_"+this.$68.$8j;n=new Microsoft.Crm.Client.Core.ViewModels.$NO;t=null;break;case 17:this.$Et="Offline_UpSync_"+this.$68.$3y;n=new Microsoft.Crm.Client.Core.ViewModels.$Mz(this.$68.$3y);break;case 25:this.$Et="DocumentRecommendations_"+this.$68.$3y;n=new Microsoft.Crm.Client.Core.ViewModels.$Mp;t=new Microsoft.Crm.Client.Core.ViewModels.$Mq;break;default:Microsoft.Crm.Client.Core.Framework.Trace.logError(167,"Unexpected performace test case scenario");this.$T0.resolve(null);return}if($0.$0(n)){Microsoft.Crm.Client.Core.Framework.Trace.logError(167,"Unexpected performace test case action for the given scenario");this.$T0.resolve(null);return}Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1DG();i=this;u=this;n.$1i().then(function(){i.$1kc().done(function(){$0.$0(t)?(i.$Up--,i.$11h()):t.$1i().done(function(){i.$Up--;i.$11h()})})},function(){u.$Up=0;u.$11h()})},$21x:function(n,t){var i=Number.parseInvariant(this.$68.$8j);this.$Et=Microsoft.Crm.Client.Core.ViewModels.$M.toString(this.$68.$2D)+"_"+Microsoft.Crm.Client.Core.ViewModels.$3o.toString(i);switch(i){case 0:n.val=new Microsoft.Crm.Client.Core.ViewModels.$NX("This Month");t.val=new Microsoft.Crm.Client.Core.ViewModels.$NX("Last Week");break;case 1:n.val=new Microsoft.Crm.Client.Core.ViewModels.$NY;t.val=new Microsoft.Crm.Client.Core.ViewModels.$NY;break;case 2:n.val=new Microsoft.Crm.Client.Core.ViewModels.$NQ("High");t.val=new Microsoft.Crm.Client.Core.ViewModels.$NP("prioritycode");break;case 3:n.val=new Microsoft.Crm.Client.Core.ViewModels.$NU("0","0");t.val=new Microsoft.Crm.Client.Core.ViewModels.$MO;break;case 4:n.val=new Microsoft.Crm.Client.Core.ViewModels.$NW("TilesView");t.val=new Microsoft.Crm.Client.Core.ViewModels.$NW("PanelsView");break;case 5:n.val=new Microsoft.Crm.Client.Core.ViewModels.$NW("PanelsView");t.val=new Microsoft.Crm.Client.Core.ViewModels.$NW("TilesView");break;case 6:n.val=new Microsoft.Crm.Client.Core.ViewModels.$NV("Priority",["High","Normal"]);t.val=new Microsoft.Crm.Client.Core.ViewModels.$NP("prioritycode");break;case 7:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mv("Tier 2 Dashboard");t.val=new Microsoft.Crm.Client.Core.ViewModels.$MO;break;case 8:n.val=new Microsoft.Crm.Client.Core.ViewModels.$My;t.val=new Microsoft.Crm.Client.Core.ViewModels.$My;break;case 9:n.val=new Microsoft.Crm.Client.Core.ViewModels.$MO;t.val=new Microsoft.Crm.Client.Core.ViewModels.$NU("0","0");break;case 10:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mb(!1,"0","0");t.val=new Microsoft.Crm.Client.Core.ViewModels.$Mb(!0,"0","0")}},$2jc:function(n,t){var i=Number.parseInvariant(this.$68.$8j);this.$Et=Microsoft.Crm.Client.Core.ViewModels.$M.toString(this.$68.$2D)+"_"+Microsoft.Crm.Client.Core.ViewModels.$45.toString(i);switch(i){case 0:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Ms("Service","Cases");t.val=new Microsoft.Crm.Client.Core.ViewModels.$N4;break;case 1:n.val=new Microsoft.Crm.Client.Core.ViewModels.$MY;t.val=new Microsoft.Crm.Client.Core.ViewModels.$MO;break;case 2:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mu(!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Mu(!1);break;case 7:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mu(!0);t.val=new Microsoft.Crm.Client.Core.ViewModels.$MO;break;case 3:n.val=new Microsoft.Crm.Client.Core.ViewModels.$N1(null,!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$N1(null,!1);break;case 4:n.val=new Microsoft.Crm.Client.Core.ViewModels.$N1("Account",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$N1("Account",!0);break;case 5:n.val=new Microsoft.Crm.Client.Core.ViewModels.$N3(2,"Account");t.val=new Microsoft.Crm.Client.Core.ViewModels.$N3(3,null);break;case 6:n.val=new Microsoft.Crm.Client.Core.ViewModels.$N3(2,"Task");t.val=new Microsoft.Crm.Client.Core.ViewModels.$N3(3,null);break;case 8:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mt(!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Mt(!1);break;case 9:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mt(!0);t.val=new Microsoft.Crm.Client.Core.ViewModels.$MO}},$2jb:function(n,t){var i=Number.parseInvariant(this.$68.$8j);this.$Et=Microsoft.Crm.Client.Core.ViewModels.$M.toString(this.$68.$2D)+"_"+Microsoft.Crm.Client.Core.ViewModels.$3Y.toString(i);t.val=new Microsoft.Crm.Client.Core.ViewModels.$MO;switch(i){case 4:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Ms("Service","Cases");t.val=new Microsoft.Crm.Client.Core.ViewModels.$N4;break;case 0:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Ms("Service","Accounts");t.val=new Microsoft.Crm.Client.Core.ViewModels.$N4;break;case 8:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Ms("Service","Contacts");t.val=new Microsoft.Crm.Client.Core.ViewModels.$N4;break;case 6:case 2:case 10:n.val=new Microsoft.Crm.Client.Core.ViewModels.$MY;break;case 5:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mx("Service","Cases",!1);break;case 1:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mx("Service","Accounts",!1);break;case 9:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mx("Service","Contacts",!1);break;case 7:case 3:case 11:n.val=new Microsoft.Crm.Client.Core.ViewModels.$NU("0","0")}},$2ja:function(n,t){var i=Number.parseInvariant(this.$68.$8j),r;this.$Et=Microsoft.Crm.Client.Core.ViewModels.$M.toString(this.$68.$2D)+"_"+Microsoft.Crm.Client.Core.ViewModels.$2w.toString(i);t.val=new Microsoft.Crm.Client.Core.ViewModels.$MO;switch(i){case 5:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Cases","Recent cases and Entitlements",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Cases","Recent Opportunities",!1);break;case 6:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Contacts","Recent Opportunities",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Contacts","Entitlements",!1);break;case 7:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Contacts","Entitlements",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Contacts","Recent Opportunities",!1);break;case 3:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Accounts","Recent Opportunities",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Accounts","Entitlements",!1);break;case 4:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Accounts","Entitlements",!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Mw("Service","Accounts","Recent Opportunities",!1);break;case 0:n.val=new Microsoft.Crm.Client.Core.ViewModels.$N2(2,"");t.val=new Microsoft.Crm.Client.Core.ViewModels.$N2(3,"");break;case 1:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qr(2);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qr(3);break;case 2:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Ma(2);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Ma(3);break;case 8:n.val=new Microsoft.Crm.Client.Core.ViewModels.$MZ(2);t.val=new Microsoft.Crm.Client.Core.ViewModels.$MZ(3);break;case 9:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Mf(2);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Mf(3);break;case 10:case 11:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Me(2,i===11);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Me(3,i===11);break;case 12:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Md(2,"");t.val=new Microsoft.Crm.Client.Core.ViewModels.$Md(3,"");break;case 13:case 14:r=i===13;n.val=new Microsoft.Crm.Client.Core.ViewModels.$MW(2,!1,r);t.val=new Microsoft.Crm.Client.Core.ViewModels.$MW(3,this.$Up===1,r);break;case 15:n.val=new Microsoft.Crm.Client.Core.ViewModels.$Qp(2,!1);t.val=new Microsoft.Crm.Client.Core.ViewModels.$Qp(3,this.$Up===1)}},$2xL:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t,i;switch(this.$68.$2D){case 12:t=Number.parseInvariant(this.$68.$8j);i=this.$2ew(t);this.$w7(n,i);break;default:n.resolve(null)}return n.promise()},$2ew:function(n){var t=null;switch(n){case 0:t=new Microsoft.Crm.Client.Core.ViewModels.$N2(4,"");break;case 2:t=new Microsoft.Crm.Client.Core.ViewModels.$Ma(4);break;case 9:t=new Microsoft.Crm.Client.Core.ViewModels.$Mf(4);break;case 10:case 11:t=new Microsoft.Crm.Client.Core.ViewModels.$Me(4,n===11);break;case 12:t=new Microsoft.Crm.Client.Core.ViewModels.$Md(4,"")}return t},$1kc:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t;return this.$Rq&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U?(t=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1cI(function(i){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("Memory",0,i.toFixed(0));t.$2Cn(n)})):this.$2Cn(n),n.promise()},$2Cn:function(n){var i,u,r,c,e,o,t,a;if(this.$Up>this.$Ik||!this.$1ld)n.resolve(null);else if(i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),u=new Array(0),i.length){r=i[0].$45;for(var h=i,v=h.length,f=0;f<v;++f)c=h[f],r=Math.min(r,c.$45);e="StopMarker";o=[];for(var l=i,y=l.length,s=0;s<y;++s)t=l[s],t.$tx=r,e in t.$Io&&!$0.$0(t.$Io[e])||(Array.add(u,t),Array.add(o,Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Hb(t)));a=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(o).always(function(){Microsoft.Crm.Client.Core.ViewModels.$1N.$1kc(u,a.$Et).always(function(){n.resolve(null)})})}else n.resolve(null)},$2Up:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t;return Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().get_$F2()?n.resolve():(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GG().$18s(),t=this,window.setTimeout(function(){n.resolve()},6e3)),n.promise()},$2FK:function(n){switch(n){case 15:case 17:case 4:case 14:case 13:case 5:return!0;default:return!1}}};Microsoft.Crm.Client.Core.ViewModels.$SR=function(){var n,t;this.$$d_$2zk=Function.createDelegate(this,this.$2zk);this.$$d_$e1=Function.createDelegate(this,this.$e1);Microsoft.Crm.Client.Core.ViewModels.$SR.initializeBase(this);n=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$e1,"Close","close");n.set_CanExecute(!0);t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$2zk,"Refresh","refresh");n.set_CanExecute(!0);this.$DL.$3w(n);this.$DL.$3w(t);this.$DL.$3w(this.$od)};Microsoft.Crm.Client.Core.ViewModels.$SR.prototype={$21u:function(){return Microsoft.Crm.Client.Core.Framework.$1O.get_$PX()},$37m:function(n){Microsoft.Crm.Client.Core.Framework.$1O.set_$PX(n)},$1NF:function(n,t){var r,u,f,i;if(!$0.$0(n)&&!$0.$0(t)){r=0;u=n;for(f in u)i={key:f,value:u[f]},t.ObjectCounts[i.key]=i.value,r+=i.value;t.ObjectCounts["Total Handlers"]=r}},$1in:function(n,t){var r,u,f,i;if(!$0.$0(n)&&!$0.$0(t)&&(r=n._list,!$0.$0(r))){u=r;for(f in u)(i={key:f,value:u[f]},Microsoft.Crm.Client.Core.Framework.$3.$9(i.key))||(i.key in t||(t[i.key]=0),t[i.key]=t[i.key]+i.value.length)}},$1DQ:function(n,t){var i,r;return $0.$0(t)?null:(i={},this.$1in(t,i),$0.$0(i)||!Microsoft.Crm.Client.Core.Framework.$1B.$s(i))?null:(r=new Microsoft.Crm.Client.Core.Framework.$M7(n),this.$1NF(i,r),r)},$1XO:function(){var t=[],n,a,w,b,k,d,gt,ni,g,nt,ri,tt,it,rt,i,s,r,v,u,ut,ft,et,h,f,c,e,ot,st,ht,ct,lt,y,at,vt,yt,ui,fi,l,p,pt,wt,bt,kt,ei,dt;if(!Microsoft.Crm.Client.Core.Framework.$1O.get_$PX())return t;if(n=this.$1DQ("ApplicationShellViewModel -> Event Handlers",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().eventHandlers),$0.$0(n)||Array.add(t,n),n=this.$1DQ("ApplicationShellViewModel -> CommandManagerViewModel -> Custom Event Handlers",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.eventHandlers),$0.$0(n)||Array.add(t,n),$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$14z)||(n=this.$1DQ("ApplicationShellViewModel -> MashupManager -> Event Handlers",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$14z.eventHandlers),$0.$0(n)||Array.add(t,n)),n=this.$1DQ("CustomEventHandlersManager -> Event Handlers",Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().eventHandlers),$0.$0(n)||Array.add(t,n),a=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$nF,!$0.$0(a)){n=new Microsoft.Crm.Client.Core.Framework.$M7("ViewModelFactory");n.ObjectCounts["Total RootViewModels"]=Microsoft.Crm.Client.Core.Framework.$1B.$s(a);w={};b=a;for(k in b)d={key:k,value:b[k]},Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(d.value)&&(gt=d.value,ni=gt.eventHandlers,this.$1in(ni,w));this.$1NF(w,n);Array.add(t,n)}if(g=jQuery.cache,!$0.$0(g)){n=new Microsoft.Crm.Client.Core.Framework.$M7("jQuery Events");var ti=0,o={},ii=g;for(nt in ii)if(ri={key:nt,value:ii[nt]},tt=ri.value.events,!$0.$0(tt)){it=tt;for(rt in it)(i={key:rt,value:it[rt]},Microsoft.Crm.Client.Core.Framework.$3.$9(i.key))||(i.key in o||(o[i.key]=0),o[i.key]=o[i.key]+i.value.length);ti++}n.ObjectCounts["Total Objects With Events"]=ti;this.$1NF(o,n);Array.add(t,n)}if(s=Microsoft.Crm.Client.Core.Framework.Binding.$2z.get_$1VY(),!$0.$0(s)){for(n=new Microsoft.Crm.Client.Core.Framework.$M7("Commands"),n.ObjectCounts.Total=s.length,r={},v=0;v<s.length;v++)(u=Microsoft.Crm.Client.Core.Framework.$AK.$2lt(s[v]),Microsoft.Crm.Client.Core.Framework.$3.$9(u))||(u in r||(r[u]=0),r[u]=r[u]+1);ut=r;for(ft in ut)et={key:ft,value:ut[ft]},n.ObjectCounts[et.key]=et.value;Array.add(t,n)}if(h=Microsoft.Crm.Client.Core.Framework.$31.get_$1VZ(),!$0.$0(h)){for(n=new Microsoft.Crm.Client.Core.Framework.$M7("Custom Events -> Active Handlers"),f={},c=0;c<h.length;c++)(e=h[c].get_$2Vl(),Microsoft.Crm.Client.Core.Framework.$3.$9(e))||(e in f||(f[e]=0),f[e]=f[e]+h[c].get_$2Vk().length);ot=f;for(st in ot)ht={key:st,value:ot[st]},n.ObjectCounts[ht.key]=ht.value;Array.add(t,n)}if(ct=Microsoft.Crm.Client.Core.Models.$1j.get_$1Vc(),$0.$0(ct)||(n=new Microsoft.Crm.Client.Core.Framework.$M7("Record Collection Models"),n.ObjectCounts.Total=ct.length,Array.add(t,n)),lt=Microsoft.Crm.Client.Core.Models.$c.get_$1Vd(),$0.$0(lt)||(n=new Microsoft.Crm.Client.Core.Framework.$M7("Record Models"),n.ObjectCounts.Total=lt.length,Array.add(t,n)),y=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$AX,!$0.$0(y)){n=new Microsoft.Crm.Client.Core.Framework.$M7("DataSource Events");n.ObjectCounts["Total Listeners"]=Microsoft.Crm.Client.Core.Framework.$1B.$s(y);at={};vt=y;for(yt in vt)ui={key:yt,value:vt[yt]},fi=ui.value,this.$1in(fi,at);this.$1NF(at,n);Array.add(t,n)}if(l=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy(),l){for(n=new Microsoft.Crm.Client.Core.Framework.$M7("Entity Metadata Cache"),n.ObjectCounts["Total Entities"]=l.length,p=0;p<l.length;p++)pt=l[p],wt=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2ee(pt.$y),wt>0&&(n.ObjectCounts["Entity '"+pt.$y+"' attributes"]=wt);Array.add(t,n)}return bt=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().get_$2Lf(),bt&&(n=new Microsoft.Crm.Client.Core.Framework.$M7("Application Metadata Cache"),n.ObjectCounts["Total Application Metadata Objects"]=bt,Array.add(t,n)),kt=document.getElementsByTagName("iframe"),$0.$0(kt)||(n=new Microsoft.Crm.Client.Core.Framework.$M7("iFrame"),n.ObjectCounts["Total iframes"]=kt.length,Array.add(t,n)),n=new Microsoft.Crm.Client.Core.Framework.$M7("Inline Dialog references"),n.ObjectCounts["AllInlineDialog count"]=Microsoft.Crm.Client.Core.Framework.$1B.$s(Microsoft.Crm.Client.Core.ViewModels.$1d.get_$pq()),Array.add(t,n),ei=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43),dt=ei.getDefinitionCallbacks,$0.$0(dt)||(n=new Microsoft.Crm.Client.Core.Framework.$M7("View Manager -> Get Definition Callbacks"),n.ObjectCounts.Total=Microsoft.Crm.Client.Core.Framework.$1B.$s(dt),Array.add(t,n)),t},$2zk:function(){this.set_OutputMessage("");this.$2xh()},$2xh:function(){for(var i,n,u,f,o,t,s,e=this.$1XO(),r=0;r<e.length;r++){i=e[r];this.$1Bq(i.Description);n=[];u=i.ObjectCounts;for(f in u)o={key:f,value:u[f]},Array.add(n,o.key);for(n.sort(),t=0;t<n.length;t++)this.$1Bq(String.format("\t{0}: {1}",n[t],i.ObjectCounts[n[t]]));this.$1Bq("")}Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&(s=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1cI(function(n){var t=(n/1048576).toFixed(2);s.$1Bq("Memory Used: "+t)}))},$1Bq:function(n){this.set_OutputMessage(this.$Ub+n+"\r\n")},$e1:function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()}};Microsoft.Crm.Client.Core.ViewModels.$SP=function(){var n,t;this.$$d_$31C=Function.createDelegate(this,this.$31C);this.$$d_$31B=Function.createDelegate(this,this.$31B);this.$$d_$2Ai=Function.createDelegate(this,this.$2Ai);this.$$d_clearLocalStoreReportAndClose=Function.createDelegate(this,this.clearLocalStoreReportAndClose);Microsoft.Crm.Client.Core.ViewModels.$SP.initializeBase(this);n=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_clearLocalStoreReportAndClose,"Clear and Close","clearAndClose");n.set_CanExecute(!0);t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$2Ai,"Refresh","refresh");t.set_CanExecute(!0);this.$n6=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$31B,"Replay Parallel","ReplayLocalStoreParallelCommand");this.$n6.set_CanExecute(!1);this.$n7=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$31C,"Replay Sequential","ReplayLocalStoreSequentialCommand");this.$n7.set_CanExecute(!1);this.$DL.$3w(n);this.$DL.$3w(t);this.$DL.$3w(this.$n6);this.$DL.$3w(this.$n7);this.$DL.$3w(this.$od)};Microsoft.Crm.Client.Core.ViewModels.$SP.prototype={$n7:null,$n6:null,$21u:function(){return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$13u()},$37m:function(n){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.set_$13u(n)},$2vU:function(){this.$n6.set_CanExecute(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$13u());this.$n7.set_CanExecute(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$13u())},$2Ai:function(){this.$2xk()},$2xk:function(){var t,n;if(this.$1rd(),t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),t)for(var r=t,u=r.length,i=0;i<u;++i)n=r[i],n.$JQ===2&&n.$Xg&&this.$2LC(n.toString())},$1rd:function(){this.set_OutputMessage("")},$2LC:function(n){this.set_OutputMessage(this.$Ub+n+"\r\n")},clearLocalStoreReportAndClose:function(){var i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),n;if(i)for(var r=i,u=r.length,t=0;t<u;++t)n=r[t],n.$JQ===2&&n.$Xg&&(n.$JQ=0);this.$1rd();Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()},$31C:function(){this.replayLocalStore(!0)},$31B:function(){this.replayLocalStore(!1)},replayLocalStore:function(n){var i,r,t;if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Pq=!1,this.$n6.set_CanExecute(!1),this.$n7.set_CanExecute(!1),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.LocalStore.$Bj)),r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),r)for(var e=r,o=e.length,u=0;u<o;++u)t=e[u],t.$JQ===2&&Microsoft.Crm.Client.Core.Storage.LocalStore.$Bj.isInstanceOfType(t.$Xg)&&i.add(t.$Xg);var s=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N().get_$31(),h=this,c=this,f=this;this.$1vg(s,i,n).then(function(){},function(n){Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("Failed to replay the local store commands.",n.$F)}).always(function(){f.$n6.set_CanExecute(!0);f.$n7.set_CanExecute(!0);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.get_$2oq()&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Pq=!0);f.$2Ai()})},$1z:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),r,u,f,e,o,s,h,c,l,a,v,y;if($0.$0(t))i.reject();else switch(t.CommandName){case"Retrieve":r=this;u=this;n.$7m(t.Parameters.key,t.StoreName,t.CallingContext).then(function(n){i.resolve(n)},function(n){i.reject(n)});break;case"RetrieveMultipleByQuery":f=this;e=this;n.$Mt(t.Parameters.query,t.StoreName,t.CallingContext).then(function(n){i.resolve(n.$Ak)},function(n){i.reject(n)});break;case"Add":o=this;s=this;n.$3w(t.Parameters.key,t.Parameters.data,t.StoreName,t.CallingContext).then(function(n){i.resolve(n)},function(n){i.reject(n)});break;case"AddMultiple":h=this;c=this;n.$zg(t.Parameters.extractKey,t.Parameters.dataSet,t.StoreName,t.CallingContext).then(function(n){i.resolve(n)},function(n){i.reject(n)});break;case"Flush":l=this;a=this;n.$f5(t.Parameters.key,t.StoreName,t.CallingContext).then(function(n){i.resolve(n)},function(n){i.reject(n)});break;case"FlushAll":v=this;y=this;n.$122(t.StoreName,t.CallingContext).then(function(n){i.resolve(n)},function(n){i.reject(n)});break;default:throw Error.argument(t.CommandName,"ExecuteCommand: Command is not supported.");}return i.promise()},$1vg:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),e,u,h,c,f,o,s,l;if(t.get_Count())if(i)f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.LocalStore.$Bj))(Array.clone(t.get_Items())),o=f.get_$R(0),f.removeAt(0),s=this,l=this,this.$1z(n,o).then(function(){s.$1vg(n,f,i).then(function(){r.resolve()},function(n){r.reject(n)})},function(n){r.reject(n)});else{for(e=[],u=0;u<t.get_Count();u++)Array.add(e,this.$1z(n,t.get_$R(u)));h=this;c=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e).then(function(){r.resolve()},function(n){r.reject(n)})}else r.resolve();return r.promise()}};Microsoft.Crm.Client.Core.ViewModels.$SO=function(){var n,t,i,r,u,f;this.$$d_$2DE=Function.createDelegate(this,this.$2DE);this.$$d_$2Or=Function.createDelegate(this,this.$2Or);this.$$d_$348=Function.createDelegate(this,this.$348);this.$$d_$346=Function.createDelegate(this,this.$346);this.$$d_$e1=Function.createDelegate(this,this.$e1);Microsoft.Crm.Client.Core.ViewModels.$SO.initializeBase(this);this.$Q4=new Microsoft.Crm.Client.Core.ViewModels.$SB;n=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$e1,"Close","close");n.set_CanExecute(!0);t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$346,"Save","save");t.set_CanExecute(!0);i=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$348,"Save SQLite","saveSQLite");i.set_CanExecute(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$AN.get_$2US());r=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$2Or,"Clear and Close","clearAndClose");r.set_CanExecute(!0);u=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$2DE,"Select Major Events","selectMajorEvents");u.set_CanExecute(!0);this.$DL.$3w(n);this.$DL.$3w(t);this.$DL.$3w(i);this.$DL.$3w(r);this.$DL.$3w(u);this.$DL.$3w(this.$od);f=this;this.$Q4.AddPropertyChangedListener("SelectedMarkersMessage",function(){f.set_OutputMessage(f.$Q4.$17V)})};Microsoft.Crm.Client.Core.ViewModels.$SO.prototype={$Q4:null,get_Timeline:function(){return this.$Q4},set_Timeline:function(n){return this.$Q4=n,n},$1ZA:!1,$21u:function(){return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$AC()},$37m:function(n){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.set_$AC(n)},$2xq:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Object),t;return this.$1X5(),t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),t?(this.$Q4.$2P3(),this.$Q4.$2xl()):(n.resolve(),n.promise())},$346:function(){var i=this,n=function(){for(var r,n=new Array(0),u=i.$Q4.$Ug,f=u.length,t=0;t<f;++t)r=u[t],r.$Vv&&n.push(r.$Ps);if(!n.length){Microsoft.Crm.Client.Core.ViewModels.$Q.$17u("No markers selected","You must select some markers to be saved.",1);return}Microsoft.Crm.Client.Core.ViewModels.$1N.$1kc(n,null).then(function(n){Microsoft.Crm.Client.Core.ViewModels.$Q.$17u("Perf markers saved",n,0)},Microsoft.Crm.Client.Core.ViewModels.$Q.$38T)},t=this;Microsoft.Crm.Client.Core.ViewModels.$1N.$1m2(!1).then(function(i){t.$1ZA?n():(Microsoft.Crm.Client.Core.ViewModels.$Q.$17u("Collector session started",i,0,n),t.$1ZA=!0)},Microsoft.Crm.Client.Core.ViewModels.$Q.$38T)},$2Or:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1DG();this.$e1()},$e1:function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()},$2DE:function(){this.$1X5();this.$Q4.$2DE()},findMarkers:function(n){this.$1X5();n=n.toLowerCase();this.$Q4.$2Wr(n)},$1X5:function(){this.set_OutputMessage("")},$348:function(){var r=0,n=null,u=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$AN.$md,t,i;for(t in u)i={key:t,value:u[t]},n||(n={}),n[i.key]=i.value,r++,r%100||(this.$1L5(n),n=null);n&&(this.$1L5(n),n=null);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$AN.$2z6();Microsoft.Crm.Client.Core.ViewModels.$Q.$17u("SQLite Performance Logging","Saved the SQLite performance data successfully!",0)},$1L5:function(n){var t=Sys.Serialization.JavaScriptSerializer.serialize(n);t&&t.length>0&&Microsoft.Crm.Client.Core.Framework.$23.$1L5(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$AN.get_$a7(),t)}};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport=function(){};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.get_PerformanceBadgeEnabled=function(){return Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1iH};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2SY=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$da.get_$2Q1()||$(window).bind("PerformanceMarkerWhileSuspended",Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2ue)};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility=function(){var n,t;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2SY();Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$da.get_$10p()?Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$da.set_$10p(!1):(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Pq=!0,Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1LA=!1,n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$s(),n!==Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1fN?(t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Ke(),t.$yq.$2xq().always(function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$da.set_$10p(!0)}),Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1fN=n):Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$da.set_$10p(!0))};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.EnablePerformanceBadge=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1iH=!0};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.SetCollectorServerUrl=function(n){Microsoft.Crm.Client.Core.ViewModels.$1N.set_$2PM(n)};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.get_$2oq=function(){return Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$da.get_$10p()};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$2ue=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1LA||(Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1LA=!0,Microsoft.Crm.Client.Core.ViewModels.$Q.$17u("Lost perf markers","Performance markers were dropped because Report UI was open",1))};Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1XO=function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Ke();return n.$yN.$1XO()};Microsoft.Crm.Client.Core.ViewModels.$SQ=function(){this.$$d_$33m=Function.createDelegate(this,this.$33m);this.$$d_$e1=Function.createDelegate(this,this.$e1);Microsoft.Crm.Client.Core.ViewModels.$SQ.initializeBase(this);var n=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$e1,"Close","close");n.set_CanExecute(!0);this.$nG=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$33m,"Run","Run");this.$DL.$3w(n);this.$DL.$3w(this.$nG);this.$Ik=10};Microsoft.Crm.Client.Core.ViewModels.$SQ.prototype={$nG:null,$hv:null,$Ik:0,$Ux:!1,$Rq:!1,$1Ng:!1,$1Dd:!1,get_CollectorServerUrl:function(){return Microsoft.Crm.Client.Core.ViewModels.$1N.$e2},get_IterationCount:function(){return this.$Ik},set_IterationCount:function(n){return this.$Ik!==n&&(this.$Ik=n,this.$7("IterationCount")),n},get_RoundRobin:function(){return this.$Ux},set_RoundRobin:function(n){return this.$Ux!==n&&(this.$Ux=n,this.$7("RoundRobin")),n},get_RecordMemory:function(){return this.$Rq},set_RecordMemory:function(n){return this.$Rq!==n&&(this.$Rq=n,this.$7("RecordMemory")),n},get_ReactLogging:function(){return this.$1Ng},set_ReactLogging:function(n){return this.$1Ng!==n&&(this.$1Ng=n,this.$7("ReactLogging")),n},get_ConstantLatency:function(){return this.$1Dd},set_ConstantLatency:function(n){return this.$1Dd!==n&&(this.$1Dd=n,this.$7("ConstantLatency")),n},get_TestCases:function(){return $0.$0(this.$hv)&&(this.$hv=this.$2ZK(),this.$nG.set_CanExecute(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_CollectorServerUrl()))),this.$hv},$2ZK:function(){var n=new Array(0),h,c,l,i,f,e,v,r,t,w;if(Microsoft.Crm.Client.Core.Framework.$6.get_$f())this.$2KA(h={val:n}),n=h.val,this.$2KB(c={val:n}),n=c.val,this.$2KC(l={val:n}),n=l.val,this.$2K9(n);else{i={};for(var a=Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.get_Items(),b=a.length,u=0;u<b;++u)f=a[u],"LogicalName"in f&&(i[f.LogicalName]=!0);e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy();v=[0,1,2,21,24,23,25];for(var y=v,k=y.length,o=0;o<k;++o){r=y[o];for(var p=e,d=p.length,s=0;s<d;++s)t=p[s],t.$y in i&&(r!==2||this.$1vT(t))&&(r!==25||t.$13y)&&n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$1tL(r,t))}n=this.$2Z3(n,e,i);n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$T3(3,"Sales Dashboard"));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$T3(19,"Chart drilldown"));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$T3(20,"Search form"));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$T3(22,"List refresh"));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$T3(6,"Offline Initial Sync"));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$T3(7,"Offline Incremental Sync"));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$T3(17,"Basic Load"));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$T3(17,"Medium Load"));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$T3(17,"Maximum Load"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("TaskBasedFlow")&&(n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$T3(18,"Small TBX")),this.$2L5(w={val:n}),n=w.val)}return n},$2KB:function(n){n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Case Grid From NavBar",4..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Case From Grid",6..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Case Entity Dashboard",5..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Case From Entity Dashboard",7..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Account Grid From NavBar",0..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Account From Grid",2..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Account Entity Dashboard",1..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Account From Entity Dashboard",3..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Contact Grid From NavBar",8..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Contact From Grid",10..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Contact Entity Dashboard",9..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(10,"Open Contact From Entity Dashboard",11..toString()))},$2K9:function(n){n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Save Quick Create Case Form",0..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Open Child Case Form Command Bar",1..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Save Child Case Form Command Bar",2..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Interaction Wall Add Task",8..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Interaction Wall Apply Date Filter",9..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Interaction Wall Search Text",10..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Interaction Wall Search Filtered Text",11..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Case Reference Panel Entitlements",5..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Account Reference Panel Opportunities",3..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Account Reference Panel Entitlements",4..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Contact Reference Panel Opportunities",6..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Contact Reference Panel Entitlements",7..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Business Process Next Stage",12..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Resolve Case Cascade option",13..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Resolve Case No Cascade option",14..toString()));n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(12,"Cancel Case Cascade option",15..toString()))},$2KC:function(n){n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(11,"Open Case Grid From NavBar",0..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(11,"Open Case From Grid",1..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(11,"Click Associative View Button",8..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(11,"Open Associative View Item",9..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(11,"Click Nav Bar Quick create ",3..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(11,"Open Quick Create Form",4..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(11,"Save Quick Create Form Account",5..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(11,"Save Quick Create Form Task",6..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(11,"Click Nav Bar Mru",2..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(11,"Open Records from Mru",7..toString()))},$2KA:function(n){n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(8,"Open Visual Filters",1..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(8,"Apply Pie Priority High",2..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(8,"Apply Date Range",0..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(8,"Global Filter Apply Priority",6..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(8,"Switch to Tiles View",4..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(8,"Open Quick Actions in Panel",10..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(8,"Entity Form from Queue Panel",3..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(8,"Back From Entity Form",9..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(8,"Switch to Panels View",5..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(9,"Select CSR2 Dashboard",7..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(9,"CSR2 Apply Date Range",0..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(9,"CSR2 Apply Pie Priority High",2..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(9,"CSR2 Global Filter Apply Priority",6..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(9,"CSR2 Open Tile Popup",8..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(9,"Open Quick Actions in Panel",10..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(9,"Entity Form from Queue Panel",3..toString()));n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(9,"Back From Entity Form",9..toString()))},$2Z3:function(n,t,i){var f,r;if(Xrm.Utility.isMocaOfflineFeatureEnabled())for(var o=[4,5,13,14,16,15],h=o.length,u=0;u<h;++u){f=o[u];for(var s=t,c=s.length,e=0;e<c;++e)r=s[e],r.$y in i&&r.$y in Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4s.$Ha&&(f!==4||this.$2of(r))&&n.push(Microsoft.Crm.Client.Core.ViewModels.$b.$1tL(f,r))}return n},$33m:function(){var i,n,t;this.$nG.set_CanExecute(!1);this.set_OutputMessage("Running "+this.$Ik.toString()+" iterations of selected tests...\n");i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$AC();Microsoft.Crm.Client.Core.Framework.PerformanceMarker.set_$AC(!0);n=this;t=this;Microsoft.Crm.Client.Core.ViewModels.$1N.$1m2(!0).then(function(t){n.set_OutputMessage(n.$Ub+"Collector session: "+t+"\n");window.setTimeout(function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility();n.$1Rs(!0);var t=new Microsoft.Crm.Client.Core.ViewModels.$I3(n.get_TestCases(),n.$Ik,n.$Ux,n.$Rq,function(t){n.set_OutputMessage(n.$Ub+"\t"+t+"\n")});t.$33b().always(function(){n.set_OutputMessage(n.$Ub+"Run complete.");n.$nG.set_CanExecute(!0);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.set_$AC(i);n.$1Rs(!1);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()})},1e3)},function(n){t.set_OutputMessage(t.$Ub+"Error creating collector session: "+n.$F+"\n");t.$nG.set_CanExecute(!0)})},$e1:function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()},$1vT:function(n){var t=n.$y,i=t==="activitypointer"||t==="socialactivity"||t==="socialprofile"||t==="queueitem"||t==="syncerror";return!i&&!n.$Ty},$2of:function(n){return this.$1vT(n)?!0:!1},$1Rs:function(n){var t=window.document.getElementById("perfBadge");$0.$0(t)||(n?$(t).addClass("automationRunning"):$(t).removeClass("automationRunning"))},$2L5:function(n){var f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2r().$9m.$H,u=f,i,r,t;for(i in u)r={key:i,value:u[i]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(r.value)&&(t=r.value,t.$4u&&n.val.push(Microsoft.Crm.Client.Core.ViewModels.$b.$4F(18,t.$1G,t.$L)))}};Microsoft.Crm.Client.Core.ViewModels.$SH=function(){Microsoft.Crm.Client.Core.ViewModels.$SH.initializeBase(this);this.$yq=new Microsoft.Crm.Client.Core.ViewModels.$SO;this.$1As=new Microsoft.Crm.Client.Core.ViewModels.$SP;this.$yN=new Microsoft.Crm.Client.Core.ViewModels.$SR;this.$19T=new Microsoft.Crm.Client.Core.ViewModels.$SQ;this.set_CurrentTab(0);this.set_Enabled(!1)};Microsoft.Crm.Client.Core.ViewModels.$SH.prototype={$Xb:0,$yq:null,get_PerformanceMarkersTab:function(){return this.$yq},set_PerformanceMarkersTab:function(n){return this.$yq=n,n},$1As:null,get_PerformanceLocalStoreTab:function(){return this.$1As},set_PerformanceLocalStoreTab:function(n){return this.$1As=n,n},$yN:null,get_GlobalObjectsCountTab:function(){return this.$yN},set_GlobalObjectsCountTab:function(n){return this.$yN=n,n},$19T:null,get_AutomationTab:function(){return this.$19T},set_AutomationTab:function(n){return this.$19T=n,n},get_CurrentTab:function(){return this.$Xb},set_CurrentTab:function(n){return n!==this.$Xb&&(this.$Xb=n,this.$7("CurrentTab")),n}};Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel.prototype={$1BZ:null,get_ActionCommandName:function(){return this.$1BZ},set_ActionCommandName:function(n){return this.$1BZ=n,n},get_ShowSetRegardingButtonAsActionable:function(){return this.$1BZ==="SetRegardingCommand"},updateFieldsVisibility:function(n){Microsoft.Crm.Client.Core.ViewModels.MailApp.$4m.$1d5(n.$H)},getSetRegardingButtonViewModel:function(n){var i,t;return!$0.$0(n.get_ModelContext())&&(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.get_ModelContext().get_ModelName()),!$0.$0(i)&&i.$R1)?(t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V("SetRegardingButtonViewModel"),t.set_ModelContext(n.get_ModelContext()),t.$2Z(),t):null},openListItemInWeb:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenListItemInWebCommand"),i;t.InitializationParameters.TraceComponent=1011;t.InitializationParameters.SelectionState=this.$6A;t.InitializationParameters.ListItemViewModel=n;i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(n,t);i.execute()}};Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel=function(){this.$$d_$1I9=Function.createDelegate(this,this.$1I9);Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel.prototype={$1Q7:!1,$O5:"",$1gT:null,get_CurrentSelectedValue:function(){return this.$O5},set_CurrentSelectedValue:function(n){if(this.$O5!==n)if(this.$ou){if(this.$ou){n!=="EllipsesComponent"?(this.$O5=n,this.set_ShouldDisplayPopout(!1)):this.set_ShouldDisplayPopout(!this.$1Q7);this.$2Ec(this.$O5);this.$2Vz(n);var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v(this.$O5);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,t)}}else this.$O5=n,this.$2Ec(n);return n},$2Z:function(){this.$2Ed(this.$O5);this.$ou&&this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9)},$2Vz:function(n){var t,i;Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v&&(t=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$2hs(n),t&&t.get_Count()>0&&(i=new Microsoft.Crm.Client.Core.Models.$JM(t,null),i.details=new Microsoft.Crm.Client.Core.Models.$J7(2,n),Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(i)))},$1I9:function(n){this.set_CurrentSelectedValue(n.$Si)},$2Ec:function(n){this.$2Ed(n);this.$7("CurrentSelectedValue")},get_ShouldDisplayPopout:function(){return this.$1Q7},set_ShouldDisplayPopout:function(n){return this.$1Q7=n,this.$7("CurrentSelectedValue"),n},get_NameAttribute:function(){return this.$1gT},set_NameAttribute:function(n){return this.$1gT=n,n},$ou:!1,get_IsInteractionCentricFormTabNavigator:function(){return this.$ou},set_IsInteractionCentricFormTabNavigator:function(n){return this.$ou=n,n},get_GetMaxTabNamesToDisplay:function(){return 5},$2Ed:function(){var i=this.$H,t,r,n;for(t in i)r={key:t,value:i[t]},n=r.value,n.$8q===this.$O5?(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("SwitchViewClicked",0,this.get_ViewModelId()),n.set_IsChecked(!0)):n.set_IsChecked(!1)},$Oh:function(){this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel.prototype={$13s:!1,$8q:null,$rB:!0,$5i:null,$1mE:null,get_IsChecked:function(){return this.$13s},set_IsChecked:function(n){return this.$13s!==n&&(this.$13s=n,this.$7("IsChecked")),n},get_Value:function(){return this.$8q},set_Value:function(n){return this.$8q=n,n},get_Title:function(){return this.$5i},set_Title:function(n){return this.$5i=n,n},get_DisplayLabel:function(){return this.$rB},set_DisplayLabel:function(n){return this.$rB=n,n},get_SymbolName:function(){return this.$1mE},set_SymbolName:function(n){return this.$1mE=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Cu=function(){Microsoft.Crm.Client.Core.ViewModels.$Cu.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Cu.prototype={$1TH:0,get_ImageType:function(){return this.$1TH},set_ImageType:function(n){return this.$1TH=n,n},$1TG:null,get_ImageName:function(){return this.$1TG},set_ImageName:function(n){return this.$1TG=n,n},$1Te:null,get_LabelClassName:function(){return this.$1Te},set_LabelClassName:function(n){return this.$1Te=n,n}};Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel=function(){this.get_AttributeMetadata=this.get_$1Vw;this.set_AttributeMetadata=this.set_$1Vw;Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.prototype={$4I:null,$1l:null,$Uu:null,$LA:!1,get_SetActionable:function(){return this.$LA},set_SetActionable:function(n){return this.$LA=n,n},$1SS:null,get_ActionProvider:function(){return this.$1SS},set_ActionProvider:function(n){return this.$1SS=n,n},$1UC:null,get_RetrieveOptions:function(){return this.$1UC},set_RetrieveOptions:function(n){return this.$1UC=n,n},$Bj:null,get_RecordId:function(){return this.$Bj},set_RecordId:function(n){return this.$Bj=n,n},get_AttributeFieldNames:function(){return this.$4I},set_AttributeFieldNames:function(n){return this.$4I=n,this.$7("AttributeFieldNames"),n},get_$1Vw:function(){return this.$1l},set_$1Vw:function(n){return n!==this.$1l&&(this.$1l=n,this.$7("AttributeMetadata")),n},$iv:!1,get_Rerender:function(){return this.$iv},set_Rerender:function(n){return this.$iv=n,n},$2EP:function(){},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$2Z.call(this),this.$LA=!0,this.RefreshQuickViewFormData())},$Oh:function(){this.$4I=null;this.$1l=null;this.$Uu=null;this.$Bj=null;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$Oh.call(this)},$2Nt:function(n,t){return t},RefreshQuickViewFormData:function(){if(!$0.$0(this.$4I)){if($0.$0(this.$Bj))return;var n=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("QuickViewFormFetchData",null)),t=n.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)}},$DI:function(n){var u=Microsoft.Crm.Client.Core.Models.$c.$X(n),t,i,f,r;this.set_ModelContext(u);t=this.$H;for(i in t)f={key:i,value:t[i]},f.value.set_ModelContext(u);this.$LA&&(this.$7("Rerender"),this.$LA=!1);r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentric.InteractionCentricQuickViewForm.InitializeListComponentModelForChildren");r.start();this.$23R(this.$H);r.stop();this.$9j("OnLoadModelCompleted");this.$Rr()},$7S:function(){},$23R:function(n){var i,r,t;if(!$0.$0(n)){i=n;for(r in i){if(t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(t.value)){t.value.$ox=!0;return}Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(t.value)&&this.$23R(t.value.$H)}}}};Microsoft.Crm.Client.Core.ViewModels.$6j=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$6j.initializeBase(this);this.$Bc=n;this.$51=t;this.$2f=i;this.$2H=r;this.controls=new Xrm.XrmControls;var u=r.split(":");this.$y=u.length===2?u[1]:r};Microsoft.Crm.Client.Core.ViewModels.$6j.$1si=function(n){switch(n){case 2:case 1:return"required";case 3:return"recommended";case 0:return"none";default:return"unknown"}};Microsoft.Crm.Client.Core.ViewModels.$6j.prototype={$y:null,$v:null,$Bc:null,$51:null,$2f:null,$2H:null,$1EG:-1,get_$8A:function(){if(Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$Bc.get_$1B())){var n=this.$Bc.get_$1B();this.$v=n.$12a(this.$2H)}else this.$v=this.$Bc.get_$1B();return this.$v},$31m:function(){this.$v=null},$fS:function(){return this},addOnChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1VG(this.$2H,n)},removeOnChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$2BJ(this.$2H,n)},getValue:function(){return this.get_$8A().GetValue(this.getName()+Microsoft.Crm.Client.Core.Framework.$U.$6n)},$23z:function(){return!$0.$0(this.$Bc.$sh)&&Array.indexOf(this.$Bc.$sh,this.getName())>=0},setValue:function(n){var t=this.getUserPrivilege(),r=$0.$0(t)?!0:t.canCreate,u=$0.$0(t)?!0:t.canUpdate,i;if(Microsoft.Crm.Client.Core.ViewModels.$6Z.isInstanceOfType(this.$Bc)&&this.$Bc.$2Nt(r,u)||!Microsoft.Crm.Client.Core.ViewModels.$6Z.isInstanceOfType(this.$Bc)&&t.canUpdate)try{Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1un(this.$2H);this.get_$8A().$1Pv();i=this.controls.get(0);$0.$0(i)||$0.$0(i.get_$8D())?this.$23z()&&this.get_$8A().SetValue(this.getName(),n):this.$2nF(n,i);this.get_$8A().$1O4();Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1ZL(this.$2H)}finally{Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1ZL(this.$2H)}},$2nF:function(n,t){var i=this.get_$8A().get_$1Wp().contains(this.getName());Microsoft.Crm.Client.Core.ViewModels.$4k.isInstanceOfType(t.get_$8D())?t.get_$8D().set_Value(n):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(t.get_$8D())?t.get_$8D().$3BM(n):t.get_$8D().set_Data(n);this.$Bc.get_IsLocked()&&!i&&this.get_$8A().get_$1Wp().remove(this.getName())},getRequiredLevel:function(){var n="unknown",t;if(!this.controls.getLength()){if(this.$1EG!==-1)return Microsoft.Crm.Client.Core.ViewModels.$6j.$1si(this.$1EG);switch(this.$2f.get_$hS()){case"applicationRequired":case"systemRequired":return"required";case"recommended":return"recommended";case"none":return"none";default:return"unknown"}}return Microsoft.Crm.Client.Core.ViewModels.$75.isInstanceOfType(this.controls.get(0).get_$8D())&&(t=this.controls.get(0).get_$8D().get_$hS(),n=Microsoft.Crm.Client.Core.ViewModels.$6j.$1si(t)),n},getAttributeType:function(){return $0.$0(this.$2f)?"unknown":Xrm.Objects.AttributeType.toString(this.$2f.get_$jM()).toLowerCase()},getKey:function(){return this.getName()},getName:function(){return this.$y},getFormat:function(){return!$0.$0(this.$2f)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$2f.get_$IY())?this.$2f.get_$IY().toLowerCase():null},getIsDirty:function(){return Microsoft.Crm.Client.Core.Models.$m.isInstanceOfType(this.get_$8A())?this.get_$8A().get_$1Wp().contains(this.getName()):!1},getIsValid:function(){var n=!0,t=this;return this.controls.forEach(function(t){$0.$0(t)||$0.$0(t.get_$8D())||t.get_$8D().get_$tN()||(n=!1)}),n},isValid:function(){return this.getIsValid()},fireOnChange:function(){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1P2(null,this.$2H)},getParent:function(){return this.$51},getSubmitMode:function(){return this.$Bc.$g===12?null:this.get_$8A().$bx.$3F5(this.getName())?this.get_$8A().$bx.get_$R(this.getName()):this.$51.$1Dh===1&&!this.$2f.get_$1f0()||this.$51.$1Dh===2&&!this.$2f.get_$1f2()?"never":"dirty"},resetInitialValue:function(){},setSubmitMode:function(n){if(this.$Bc.$g!==12&&(n==="always"||n==="never"||n==="dirty")){this.get_$8A().$bx.set_$R(this.getName(),n);var t=this.get_$8A().get_$1Wp();if(n==="never"&&t.contains(this.getName())){t.remove(this.getName());return}n!=="always"||t.contains(this.getName())||t.add(this.getName())}},setRequiredLevel:function(n){var t,f,i,r,u;switch(n){case"none":t=0;break;case"recommended":t=3;break;case"required":t=2;break;default:return}this.$1EG=t;f=this;this.controls.forEach(function(n){n.get_$8D().set_$hS(t);Microsoft.Crm.Client.Core.ViewModels.$75.isInstanceOfType(n.get_$1Ni())&&n.get_$1Ni().set_$hS(t)});i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$51.$2.$D);$0.$0(i)||this.getName()!==i.$59||(r=this.$Bc.$H.HeaderGroup,u=r.$H.primaryAttribute,u.set_RequiredLevel(t))},getUserPrivilege:function(){if(this.$Bc.$g===12)return null;var n=this.get_$8A().$I;return new Xrm.FormDataAttributePrivilege(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1br(this.$2f.$1l,n))}};Microsoft.Crm.Client.Core.ViewModels.$RR=function(n,t,i,r){this.$Ut=this.resetInitial;this.$17o=this.setVisibleFromParentSection;this.$1cB=this.getFocus;this.$1lK=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$RR.initializeBase(this);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$RY(n,t,i,r);this.$3x=n};Microsoft.Crm.Client.Core.ViewModels.$RR.prototype={$O:null,$3x:null,getControlType:function(){return"acicontrol"},setVisibleFromParentSection:function(n){this.$O.$17o(n)},getFocus:function(){return this.$O.$1cB()},setHasFocus:function(n){this.$O.$1lK(n)},loadWidget:function(){this.$3x.$2qu()},setParameter:function(n,t){this.$3x.$17m(n,t)},clearNotification:function(n){return this.$O.clearNotification(n)},clearNotifications:function(){return this.$O.clearNotifications()},getParent:function(){return this.$O.getParent()},setNotification:function(n,t){return this.$O.setNotification(n,t)},addNotification:function(n){return this.$O.addNotification(n)},setFocus:function(){this.$O.setFocus()},getLabel:function(){return this.$O.getLabel()},getName:function(){return this.$O.getName()},getVisible:function(){return this.$O.getVisible()},setLabel:function(n){this.$O.setLabel(n)},setVisible:function(n){this.$O.setVisible(n)},resetInitial:function(){this.$O.$Ut()}};Microsoft.Crm.Client.Core.ViewModels.$Be=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Be.initializeBase(this);this.$U=new Microsoft.Crm.Client.Core.ViewModels.$6j(n,t,i,r);this.controls=this.$U.controls};Microsoft.Crm.Client.Core.ViewModels.$Be.prototype={$U:null,$fS:function(){return this.$U},getInitialValue:function(){return!$0.$0(this.$U.$2f)&&this.$U.$2f.get_$11B()!==-1?this.$U.$2f.get_$11B():0},getOption:function(n){if($0.$1Y(n))return null;if(!$0.$0(this.$U.$2f)){var t=this.$U.$2f.$J0.$21.get_$R(n.toString());if(!$0.$0(t))return new Xrm.OptionSetItem(t.get_$29(),t.get_$F6())}return null},getOptions:function(){var n,u,t;if(!$0.$0(this.$U.$2f)){var f=this.$U.$2f.$J0.$21.$1RT(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.OptionSetItem)),r=f;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Xrm.OptionSetItem(t.get_$29(),t.get_$F6()));return i.toArray()}return null},getSelectedOption:function(){var n,t;return!$0.$0(this.$U.get_$8A())&&(n=this.$U.get_$8A().GetValue(this.getName()),!$0.$0(n))?(t=new Microsoft.Crm.Client.Core.Models.$J8(n),new Xrm.OptionSetItem(t.get_$29(),t.get_$F6())):null},getText:function(){if(!$0.$0(this.$U.get_$8A())){var n=this.$U.get_$8A().GetValue(this.getName());if(!$0.$0(n))return n.get_Label()}return""},getValue:function(){if(!$0.$0(this.$U.get_$8A())){var n=this.$U.get_$8A().GetValue(this.getName());return!$0.$0(n)&&Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(n)?n.$1s===1:n}return null},setValue:function(n){var i,t,r;if($0.$0(n)){this.$U.setValue(n);return}Boolean.isInstanceOfType(n)&&(i=n?1:0,t=this.$U.$2f.$J0.$21.get_$R(i.toString()),$0.$0(t)||(r=new Microsoft.Crm.Client.Core.ViewModels.$Bm(t.get_$29().toString(),t.get_$F6()),this.$U.setValue(r)))},addOnChange:function(n){this.$U.addOnChange(n)},fireOnChange:function(){this.$U.fireOnChange()},getAttributeType:function(){return this.$U.getAttributeType()},getFormat:function(){return this.$U.getFormat()},getIsDirty:function(){return this.$U.getIsDirty()},getIsValid:function(){return this.$U.getIsValid()},isValid:function(){return this.getIsValid()},getName:function(){return this.$U.getName()},getKey:function(){return this.$U.getKey()},getParent:function(){return this.$U.getParent()},getRequiredLevel:function(){return this.$U.getRequiredLevel()},getSubmitMode:function(){return this.$U.getSubmitMode()},getUserPrivilege:function(){return this.$U.getUserPrivilege()},removeOnChange:function(n){this.$U.removeOnChange(n)},resetInitialValue:function(n){this.$U.resetInitialValue(n)},setRequiredLevel:function(n){this.$U.setRequiredLevel(n)},setSubmitMode:function(n){this.$U.setSubmitMode(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qb=function(n,t,i,r){this.$NF=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS();this.$Cr=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9();Microsoft.Crm.Client.Core.ViewModels.$Qb.initializeBase(this);this.$U=new Microsoft.Crm.Client.Core.ViewModels.$Qb.$3FX(n,t,i,r);this.controls=this.$U.controls};Microsoft.Crm.Client.Core.ViewModels.$Qb.prototype={$U:null,$fS:function(){return this.$U},getFormat:function(){if(!$0.$0(this.$U.$2f))switch(this.$U.$2f.get_$IY()){case"DateAndTime":return"datetime";case"DateOnly":return"date";default:return null}return null},getUtcValue:function(){var n=this.getValue();return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$DA(n)&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Lk(n,this.$NF,this.$U.$2f.$1l.$9c,this.$Cr)),n},setUtcValue:function(n){Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$DA(n)&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Gs(n,this.$NF,this.$U.$2f.$1l.$9c,this.$Cr));this.setValue(n)},getValue:function(){var n=this.$U.getValue();return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$DA(n)&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Gs(n,this.$NF,this.$U.$2f.$1l.$9c,this.$Cr)),n},setMin:function(n){var t=this;this.controls.forEach(function(t){Microsoft.Crm.Client.Core.ViewModels.$7x.isInstanceOfType(t.get_$8D())&&(Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$DA(n)||$0.$0(n))&&t.get_$8D().set_MinDate(n)})},addOnChange:function(n){this.$U.addOnChange(n)},fireOnChange:function(){this.$U.fireOnChange()},getAttributeType:function(){return this.$U.getAttributeType()},getIsDirty:function(){return this.$U.getIsDirty()},getIsValid:function(){return this.$U.getIsValid()},isValid:function(){return this.getIsValid()},getName:function(){return this.$U.getName()},getKey:function(){return this.$U.getKey()},getParent:function(){return this.$U.getParent()},getRequiredLevel:function(){return this.$U.getRequiredLevel()},getSubmitMode:function(){return this.$U.getSubmitMode()},getUserPrivilege:function(){return this.$U.getUserPrivilege()},removeOnChange:function(n){this.$U.removeOnChange(n)},resetInitialValue:function(n){this.$U.resetInitialValue(n)},setRequiredLevel:function(n){this.$U.setRequiredLevel(n)},setSubmitMode:function(n){this.$U.setSubmitMode(n)},setValue:function(n){this.$U.setValue(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qb.$3FX=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Qb.$3FX.initializeBase(this,[n,t,i,r])};Microsoft.Crm.Client.Core.ViewModels.$Qb.$3FX.prototype={$2nF:function(n,t){(Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$DA(n)||$0.$0(n))&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cl.isInstanceOfType(t.get_$8D())&&t.get_$8D().set_$1EQ(n)}};Microsoft.Crm.Client.Core.ViewModels.ClientApiManager=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$3)&&(Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$3=new Microsoft.Crm.Client.Core.ViewModels.ClientApiManager),Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$3};Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.prototype={$PF:function(n,t){var i=n.$5k;$0.$0(i)&&(n.$5k=new Xrm.$OT);this.$1vo(n)&&(Microsoft.Crm.Client.Core.ViewModels.$BW.$PF(n,t),Microsoft.Crm.Client.Core.ViewModels.$7m.$PF(n))},$2Ar:function(n,t){var u=n.$2,r,f,i;if(!$0.$0(u)){if((Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!t.IsApiRegistered&&Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(n)&&n.$2.$g===13&&n.$2.$lL){r=u.$5k;$0.$0(r)||($0.$0(r.ui)&&Microsoft.Crm.Client.Core.ViewModels.$7m.$PF(u),$0.$0(r.ui.controls)&&(r.ui.controls=new Xrm.XrmControls),f=new Microsoft.Crm.Client.Core.ViewModels.$Rp(n,"crmGrid","","","GridContainer"),$0.$0(f)||r.ui.controls.add(f));return}if(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiCustomControlDescriptor.isInstanceOfType(t.ApiDescriptor)&&t.ApiDescriptor.ParentIsCustomControl){$0.$0(t.ApiDescriptor.ParentName)&&(t.ApiDescriptor.ParentName=u.$5Q(n).get_Name());this.$2As(n,t);return}i=u.$5k;$0.$0(i)||($0.$0(i.data)||(t.ApiDescriptor.ControlType===8&&i.data.$2zw(n),t.ApiDescriptor.ControlType===9&&i.data.$1jI(n),i.data.$2Aq(t)),i.ui.$2zp(n,t))}},$3AS:function(n,t){var i,r;$0.$0(n)||(i=n.$5k,$0.$0(i)||$0.$0(i.ui)||$0.$0(i.ui.controls)||(r=i.ui.controls.get(t),$0.$0(r)||i.ui.controls.remove(r)))},$2As:function(n,t){var r=n.$2,i;$0.$0(r)||(i=r.$5k,$0.$0(i)||$0.$0(i.ui)||i.ui.$2As(n,t))},$Ut:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();n.ui.$Ut()},$1vo:function(n){for(var r,i=Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$1rn,u=i.length,t=0;t<u;++t)if(r=i[t],r.isInstanceOfType(n))return!0;return!1}};Microsoft.Crm.Client.Core.ViewModels.$Ra=function(n,t,i,r,u){this.$1cB=this.getFocus;this.$1lK=this.setHasFocus;this.$Ut=this.resetInitial;Microsoft.Crm.Client.Core.ViewModels.$Ra.initializeBase(this);this.$6L=i;this.$Mk=r;this.$Fh(n,t);this.$51=u;this.$2=n.$2;this.$Ac=new Microsoft.Crm.Client.Core.ViewModels.$Ho;$0.$0(u)||$0.$0(u.getParent())||(this.$1i9=u.getParent().getName())};Microsoft.Crm.Client.Core.ViewModels.$Ra.prototype={$6L:null,$2x:null,$1J:null,$Mk:null,$1i9:null,$51:null,$2:null,$Ac:null,get_$PD:function(){return this.$Mk},get_$8D:function(){return this.$1J},get_$1Ni:function(){return this.$2x},$Fh:function(n,t){t?this.$1J=n:this.$2x=n},resetInitial:function(){!$0.$0(this.$2x)&&Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(this.$2x)&&this.$2x.$PH();!$0.$0(this.$1J)&&Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(this.$1J)&&this.$1J.$PH()},getAttribute:function(){var r;if(!$0.$0(this.$2)&&!$0.$0(this.$2.$5k)&&!$0.$0(this.$2.$5k.data)){var n=this.$2.$5k.data.entity,i=this.$Mk,t=this.$Mk.split(":");if(t.length===2&&(r=t[0],i=t[1],n=this.$2.$5k.data.entity.relatedEntities.getByName(r)),!$0.$0(n))return n.attributes.get(i)}return null},getControlType:function(){return"standard"},getDisabled:function(){return!$0.$0(this.$2x)&&this.$2x.get_Enabled()?!1:!0},getLabel:function(){return $0.$0(this.$1J)?this.$2x.$1G:this.$1J.$1G},getName:function(){return this.$6L},getParent:function(){return this.$51},getVisible:function(){return!$0.$0(this.$1J)&&this.$1J.$4u||!$0.$0(this.$2x)&&this.$2x.$4u?!0:!1},setDisabled:function(n){$0.$0(this.$1J)||this.$1J.set_Enabled(!n);$0.$0(this.$2x)||this.$2x.set_Enabled(!n)},validateControl:function(n){var t,i,u,o,f,s;if($0.$0(n))return!1;t=null;for(var e=this.$Ac.getNotifications(null),h=e.length,r=0;r<h;++r){if(i=e[r],i.notificationLevel!=="ERROR"){t=i;continue}if(i.messages.length)return u=i.messages[0],o=u?u.toString():new String,n.set_$KO(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,o,i.uniqueId,"ERROR")),n.set_$ve(null),!1}return $0.$0(t)?n.set_$KO(null):(f=t.messages[0],s=f?f.toString():new String,n.set_$KO(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!0,null,s,t.uniqueId,"RECOMMENDATION")),n.set_$ve(t)),!0},setFocus:function(){var n,t;this.$2.$5k.ui.removeCurrentControlFocus();Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()&&(n=this.getParent(),$0.$0(n)||(t=n.getParent(),$0.$0(t)||t.setFocus()));this.setHasFocus(!0)},setLabel:function(n){$0.$0(this.$1J)||this.$1J.set_Label(n);$0.$0(this.$2x)||this.$2x.set_Label(n)},setVisible:function(n){$0.$0(this.$1J)||this.$1J.set_Visible(n);$0.$0(this.$2x)||this.$2x.set_Visible(n)},setNotification:function(n,t){if(Microsoft.Crm.Client.Core.Framework.$3.$12(n))return!1;var i=new Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification("ERROR",n,t);return this.addNotification(i)},addNotification:function(n){return $0.$0(n)||!Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$1J)?!1:(this.$Ac.addNotification(n),this.validateControl(this.$1J),!0)},clearNotification:function(n){return Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$1J)?Microsoft.Crm.Client.Core.Framework.$3.$12(n)?this.clearNotifications():this.$Ac.clearNotification(n)?(this.validateControl(this.$1J),!0):!1:!1},clearNotifications:function(){return Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$1J)?this.$Ac.clearNotifications()?(this.validateControl(this.$1J),!0):!1:!1},getData:function(){return null},setData:function(){},getFocus:function(){return!$0.$0(this.$1J)&&Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$1J)&&Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$2x)?this.$1J.get_HasFocus()||this.$2x.get_HasFocus():!$0.$0(this.$1J)&&Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$1J)?this.$1J.get_HasFocus():Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$2x)?this.$2x.get_HasFocus():!1},setHasFocus:function(n){if(!$0.$0(this.$1J)&&Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$1J)){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v(this.$1i9);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,t)}this.$1J.set_HasFocus(n)}Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$2x)&&this.$2x.set_HasFocus(n)}};Microsoft.Crm.Client.Core.ViewModels.$RX=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$RX.initializeBase(this);this.$1X=n;this.$U=t};Microsoft.Crm.Client.Core.ViewModels.$RX.prototype={$1X:null,$U:null,$Fn:null,$eJ:null,$eI:null,get_$5q:function(){if($0.$0(this.$Fn)){var n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$l0(this.$1X.$2,this.$1X);$0.$0(n)||$0.$0(n.$2e)||(this.$Fn=n.$2e)}return this.$Fn},get_$8w:function(){if($0.$0(this.$eJ)&&!$0.$0(this.get_$5q())&&!$0.$0(this.get_$5q().$w)&&!$0.$0(this.get_$5q().$w.$BG)&&!$0.$0(this.get_$5q().$w.$BG.getSelectedRecord())){var n=this.get_$5q().$w.$BG;this.$eJ=n.getSelectedRecord()}return this.$eJ},get_$Eo:function(){var i,t;if($0.$0(this.$eI)&&!$0.$0(this.get_$5q())&&!$0.$0(this.get_$5q().$w)&&!$0.$0(this.get_$5q().$w.$BG)&&!$0.$0(this.get_$5q().$w.$BG.$j)){i=this.get_$5q().$w.$BG;for(var r=i.$j.$Bm,u=r.length,n=0;n<u;++n)if(t=r[n],t.name===this.$U.getName()){this.$eI=t;break}}return this.$eI},getLabel:function(){var n="";return $0.$0(this.get_$Eo())||(n=this.get_$Eo().displayName),n},getName:function(){return this.$U.getName()},getVisible:function(){return!0},setLabel:function(){},setVisible:function(){},clearNotification:function(){return $0.$0(this.get_$8w())?!1:(this.get_$8w().clearFieldErrorMessage(this.$U.getName()),!0)},clearNotifications:function(){return this.clearNotification("")},getControlType:function(){return"GridCell"},getParent:function(){return null},setNotification:function(n){return $0.$0(this.get_$8w())?!1:(this.get_$8w().setFieldErrorMessage(this.$U.getName(),n),!0)},addNotification:function(n){if($0.$0(n)||$0.$0(n.messages)||!n.messages.length)return!1;var t=n.messages[0],i=t?t.toString():new String;return this.setNotification(i,"")},setFocus:function(){},getAttribute:function(){return this.$U},getDisabled:function(){var n=!0,t;return $0.$0(this.get_$8w())||(t=this.get_$8w().getFieldEditableProperty(this.$U.getName()),t&&(n=!1)),n},setDisabled:function(n){$0.$0(this.get_$8w())||this.get_$8w().setFieldEditableProperty(this.$U.getName(),!n)}};Microsoft.Crm.Client.Core.ViewModels.$Hu=function(){};Microsoft.Crm.Client.Core.ViewModels.$Hu.prototype={getExecutionContext:function(n,t,i){var u=null,f=null,r,e,o;if(!$0.$0(n.details)){r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();switch(n.details.$1I7){case 0:t=t>0?t-1:t;u=r.ui;f=r;break;case 1:u=r.data.entity;f=r;break;case 2:e=$0.$0(n.details.$TH)?null:n.details.$TH.split(":");$0.$0(e)||e.length!==3?(u=r.getAttribute(n.details.$TH),f=r):(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!$0.$0(r.getControl(e[0]))?(u=r.getControl(e[0]).getGrid().getSelectedRows().get(0).getData().entity.attributes.get(e[2]),f=r.getControl(e[0]).getGrid().getSelectedRows().get(0)):(u=r.getAttribute(n.details.$TH),f=r);break;case 13:case 12:o=$0.$0(n.details.$TH)?null:n.details.$TH.split(":");$0.$0(o)||o.length!==2||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!$0.$0(r.getControl(o[0]))&&(u=r.getControl(o[0]).getGrid().getSelectedRows().get(0).getData().entity,f=r.getControl(o[0]).getGrid().getSelectedRows().get(0))}}return new Xrm.ExecutionContext(u,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE().context,t,n.eventArgs,i,f)}};Microsoft.Crm.Client.Core.ViewModels.$Rv=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$Rv.initializeBase(this);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$Ra(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$Rv.prototype={$O:null,get_$PD:function(){return this.$O.$Mk},get_$8D:function(){return this.$O.$1J},get_$1Ni:function(){return this.$O.$2x},$Fh:function(n,t){this.$O.$Fh(n,t)},$Ut:function(){this.$O.resetInitial()},getShowTime:function(){return this.$O.$1J.get_ShowTime()},getIsAllDay:function(){return Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$O.$2)?!1:this.$O.$1J.$ID},setShowTime:function(n){this.$O.$1J.set_ShowTime(n)},setIsAllDay:function(n){Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$O.$2)||this.$O.$1J.set_AllDayDisplay(n)},getAttribute:function(){return this.$O.getAttribute()},getDisabled:function(){return this.$O.getDisabled()},setDisabled:function(n){this.$O.setDisabled(n)},clearNotification:function(n){return this.$O.clearNotification(n)},clearNotifications:function(){return this.$O.clearNotifications()},getControlType:function(){return this.$O.getControlType()},getParent:function(){return this.$O.getParent()},setNotification:function(n,t){return this.$O.setNotification(n,t)},addNotification:function(n){return this.$O.addNotification(n)},setFocus:function(){this.$O.setFocus()},getLabel:function(){return this.$O.getLabel()},getName:function(){return this.$O.getName()},getVisible:function(){return this.$O.getVisible()},setLabel:function(n){this.$O.setLabel(n)},setVisible:function(n){this.$O.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$4A=function(n,t){this.$$d_$1hO=Function.createDelegate(this,this.$1hO);this.$$d_$2uF=Function.createDelegate(this,this.$2uF);this.$$d_$32E=Function.createDelegate(this,this.$32E);this.$$d_$2mb=Function.createDelegate(this,this.$2mb);this.$$d_$2Bx=Function.createDelegate(this,this.$2Bx);this.$eY=new Microsoft.Crm.Client.Core.Framework.Common.$NA;this.relatedEntitiesInternal=new Xrm.XrmRelatedEntities;this.dispose=this.$5E;Microsoft.Crm.Client.Core.ViewModels.$4A.initializeBase(this);this.$2=n;this.$1Dh=t;Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(n)||(this.$2.AddPropertyChangedListener("PrimaryModelName",this.$$d_$2Bx),this.$2.AddPropertyChangedListener("AttributeFieldNames",this.$$d_$2Bx),this.$1gL=new Microsoft.Crm.Client.Core.ViewModels.$I(this.$2,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null)));this.attributes=new Xrm.XrmEntityAttributes;this.$1l={};this.$n2=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiDescriptor));this.$n1={};this.$2.AddPropertyChangedListener("MultipleEntityAttributeFormModelUpdate",this.$$d_$2mb)};Microsoft.Crm.Client.Core.ViewModels.$4A.$1P5=function(n,t){t.$g===5||t.$g===40&&t.$6i===1?Microsoft.Crm.Client.Core.ViewModels.$3W.$8t.$2Ck(n,t):(t.$g===2||t.$g===40||t.$g===39)&&Microsoft.Crm.Client.Core.ViewModels.$4A.$33v(n,t)};Microsoft.Crm.Client.Core.ViewModels.$4A.$33v=function(n,t){var i=1,r,u;if(t.$g===39)t.$Hw(i,!0);else{switch(n){case"saveandnew":i=59;break;case"saveandclose":i=2;break;default:r=t.$5k;u=r.context.saveMode;$0.$0(u)||u===-1||(i=r.context.saveMode)}t.$Hw(i).done(function(n){if(n)Microsoft.Crm.Client.Core.ViewModels.$4A.$22R(i,t);else if(i===59||i===2){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Object);t.$XA(r,"Web._forms.styles.FORM.crm.htc_Title");r.done(function(n){n&&Microsoft.Crm.Client.Core.ViewModels.$4A.$22R(i,t)})}})}};Microsoft.Crm.Client.Core.ViewModels.$4A.$22R=function(n,t){switch(n){case 59:Xrm.Utility.openEntityForm(t.$D);break;case 2:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$jP().execute()}};Microsoft.Crm.Client.Core.ViewModels.$4A.prototype={$2h:!1,$1gL:null,$1LP:!1,$2:null,$1l:null,$n2:null,$n1:null,$1Dh:0,get_$2V6:function(){return this.$2.$D},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)?this.$32D(null,null):this.$2Bx(null,null)},$o8:null,addOnSave:function(n){($0.$0(this.$2)||this.$2.$g!==12)&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1p7(n)},getDataXml:function(){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var n=this.$2.get_$1B();return Xrm.Soap.EntityRecordSerializer.$39l(n.$I,!0)}return null},removeOnSave:function(n){($0.$0(this.$2)||this.$2.$g!==12)&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$2BK(n)},getEntityName:function(){return!$0.$0(this.$2)&&this.$2.$g!==12?this.$2.$D:""},getId:function(){var n,t;if(!$0.$0(this.$2)&&this.$2.$g!==12){if(this.$2.$g===40)if(n=null,$0.$0(this.$2.$K.$M)){if(!$0.$0(this.$2.$K.$8n)&&(t=this.$2.$K.$8n,!$0.$0(t.$K)&&!$0.$0(t.$K.$M)&&(n=t.$K.$M.OverriddenEntityId,!$0.$0(n))))return delete t.$K.$M.OverriddenEntityId,n}else if(n=this.$2.$K.$M.OverriddenEntityId,!$0.$0(n))return delete this.$2.$K.$M.OverriddenEntityId,n;return Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(this.$2.get_$1B().get_Id())}return""},setRecordId:function(n){var i,t,r;Microsoft.Crm.Client.Core.Framework.Guid.$9(Xrm.Page.data.entity.getId())&&($0.$0(this.$2)||this.$2.$g===12||(i=this.$2.get_$1B(),$0.$0(i)||(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$2.$D),$0.$0(t)||(r=Xrm.Page.getAttribute(t.$4Y),$0.$0(r)||r.setSubmitMode("always"),i.SetValue(t.$4Y,new Microsoft.Crm.Client.Core.Framework.Guid(n))))))},getIsDirty:function(){if(Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$2.get_ModelContext())){var n=this.$2.get_ModelContext(),t=n.get_$1B();return t.$CX()}return Microsoft.Crm.Client.Core.Models.$m.isInstanceOfType(this.$2.get_$1B())?this.$2.get_$1B().$CX():!1},isInHierarchy:function(){return!1},save:function(n){if(IsNull(n)||Object.getType(n)!==String)throw Error.create("Parameter passed is not of string type");else Microsoft.Crm.Client.Core.ViewModels.$4A.$1P5(n.toString(),this.$2)},getPrimaryAttributeValue:function(){if(!$0.$0(this.$2)&&this.$2.$g!==12){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$2.$D);if(!$0.$0(n))return this.$2.get_$1B().GetValue(n.$59).toString()}return null},isValid:function(){return!1},$2Aq:function(n){var t=n.ApiDescriptor,u,i,e;if(this.$2nZ(t.ControlType)&&!t.EditMode)t.FieldName in this.$n1||(this.$n1[t.FieldName]=0,this.$1Bj(t.FieldName)||this.$n2.add(t));else if(t.ControlType===14||t.ControlType===25){u=this.$2fQ(n);for(var f=u,o=f.length,r=0;r<o;++r)i=f[r],i in this.$n1||(this.$n1[i]=0,this.$1Bj(i)||(e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiControlDescriptor(t.ControlType,i,t.ControlName,!0),this.$n2.add(e)))}},$2fQ:function(n){for(var u,t,f,e,h,o,c=n.Properties,i=null,s=c,l=s.length,r=0;r<l;++r)u=s[r],u.Name==="PropertyDefinitions"&&(i=u.Value);if(t=new Array(0),$0.$0(i))return t;f=i;for(e in f)h={key:e,value:f[e]},o=h.value,o.Usage||t.push(o.Value);return t},$2zv:function(n){$0.$0(n.$4I)?n.AddPropertyChangedListener("AttributeFieldNames",this.$$d_$32E):this.$Kl(n.$D,n.$4I)},$5E:function(){this.$2h||(this.$2h=!0,$0.$0(this.$2)||(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)||(this.$2.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$2Bx),this.$2.RemovePropertyChangedListener("AttributeFieldNames",this.$$d_$2Bx)),this.$2=null),this.$eY.$5E(),this.attributes=null,this.$1l=null,this.$n1=null,this.$o8=null)},$2Bx:function(){var i=this.$2.$D,n,t;if(!$0.$0(i)&&!Microsoft.Crm.Client.Core.Framework.$3.$12(i)){if(n=null,t=Microsoft.Crm.Client.Core.ViewModels.$6Z.isInstanceOfType(this.$2)?this.$2:null,t&&(n=t.get_AttributeFieldNames(),$0.$0(n)))return;this.$2.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$2Bx);this.$2.RemovePropertyChangedListener("AttributeFieldNames",this.$$d_$2Bx);t?this.$3D2(t,i,n):this.$Kl(this.$2.$D.toLowerCase(),n)}},$32D:function(){var n=this.$2,t=null,i=this;t=function(){$0.$0(n.get_AttributeMetadata())||(n.rpcl("AttributeMetadata",t),i.$2uP(n.get_AttributeMetadata()))};this.$eY.$1P4(n,"AttributeMetadata",t)},$3D2:function(n,t,i){var r=null,u=this;r=function(){$0.$0(n.get_AttributeMetadata())||(n.rpcl("AttributeMetadata",r),n.get_$1u()===t&&Microsoft.Crm.Client.Core.Framework.$3u.$1qA(n.get_AttributeFieldNames(),i)&&u.$1hO(n.get_AttributeMetadata()))};r(n,"AttributeMetadata");this.$eY.$1P4(n,"AttributeMetadata",r)},$32E:function(n){this.$1LP=!1;n.rpcl("AttributeFieldNames",this.$$d_$32E);var t=n.$4I,i=n.$D;this.$2By(i,t,this.$$d_$2uF)},$Kl:function(n,t){this.$2By(n,t,this.$$d_$1hO)},$2By:function(n,t,i){var r={EntityType:n,Attributes:t,OnSuccess:i},u=this.$1gL.$B1(r);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u)},$2uP:function(n){var r,u,i,t,e;if(!this.$2h){r=n;for(u in r){var o={key:u,value:r[u]},f=o.key,s=o.value;for(i=0;i<s.length;i++)t=new Microsoft.Crm.Client.Core.Models.$J5(s[i]),e=null,e=f==="?primary?"?t.get_$2I():f==="unbound"?"unbound]"+t.get_$2I():f+":"+t.get_$2I(),this.$1l[e]=t}this.$23G()}},$1hO:function(n){var t,i;if(!this.$2h){for(t=0;t<n.length;t++)i=new Microsoft.Crm.Client.Core.Models.$J5(n[t]),this.$1l[i.get_$2I()]=i;this.$23G()}},$23G:function(){var n,f,t,i,r,u;if(!$0.$0(this.$2)){for(n=0,f=this.$n2.get_Count();n<f;n++)this.$1Bj(this.$n2.get_$R(n).FieldName);if(t=this.$2.$sh,!$0.$0(t))for(i=0;i<t.length;i++)this.$1Bj(t[i]);r=this.$2.$5k;$0.$0(r.ui)||$0.$0(r.ui.controls)||(u=this,r.ui.controls.forEach(function(n){var t,i,r,f,e;Microsoft.Crm.Client.Core.ViewModels.$Ci.isInstanceOfType(n)&&(t=n,$0.$0(t.get_$PD())||(r=t.get_$PD().split(":"),r.length===2?(f=r[0],e=r[1],i=u.relatedEntitiesInternal.getByName(f).attributes.getByName(e)):i=u.attributes.get(t.get_$PD()),$0.$0(i)||i.controls.add(n)))}))}this.$n2.clear()},$2uF:function(n){this.$1hO(n);$0.$0(this.$o8)||(this.$o8(n),this.$o8=null);this.$1LP=!0},$2nZ:function(n){return n===5||n===6||n===7||n===1||n===15||n===18||n===17},$1Bj:function(n){var i,t,u,r;if(this.$2h||(i=this.$1l[n],$0.$0(i)))return!1;t=this;u=n.split(":");u.length===2&&(r=u[0],t=this.relatedEntitiesInternal.getByName(r),$0.$0(t)&&(t=new Microsoft.Crm.Client.Core.ViewModels.$Nt(this.$2,r),this.relatedEntitiesInternal.add(r,t)));switch(i.get_$jM()){case 11:case 12:case 13:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$De(this.$2,this,i,n));break;case 0:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Be(this.$2,this,i,n));break;case 2:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Qb(this.$2,this,i,n));break;case 8:case 3:case 5:case 4:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Qf(this.$2,this,i,n));break;case 14:case 7:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$R1(this.$2,this,i,n));break;case 6:case 9:case 1:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Qe(this.$2,this,i,n));break;case 10:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$Re(this.$2,this,i,n));break;default:t.attributes.add(new Microsoft.Crm.Client.Core.ViewModels.$6j(this.$2,this,i,n))}return!0},$2mb:function(){var n,i;if(Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)){this.relatedEntities.dispose();this.relatedEntities=new Xrm.XrmRelatedEntities;var r=this.$2,f=r.get_ModelContext(),u=r.get_RelatedAttributeFieldNames();for(n in u){var e={key:n,value:u[n]},t=e.key,o=f.get_$2zX().get_$R(t);$0.$0(o)||(i=this.relatedEntitiesInternal.getByName(t),this.$31o(i),this.relatedEntities.add(t,i))}}},$31o:function(n){var t,i;if(!$0.$0(n)&&!$0.$0(n.attributes))for(t=0;t<n.attributes.getLength();t++)i=n.attributes.getByIndex(t),!$0.$0(i)&&Microsoft.Crm.Client.Core.ViewModels.$Ce.isInstanceOfType(i)&&i.$fS().$31m()}};Microsoft.Crm.Client.Core.ViewModels.$RY=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$RY.initializeBase(this);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$RY.$3Fl(n,t,i,r);n.set_$2Ie(n.$4u||n.$194)};Microsoft.Crm.Client.Core.ViewModels.$RY.prototype={$O:null,getLabel:function(){return this.$O.$3x.$1G},$17o:function(n){this.$O.$17o(n)},$1cB:function(){return this.$O.getFocus()},$1lK:function(n){this.$O.setHasFocus(n)},setVisible:function(n){this.$O.$3x.set_$2Ie(this.$O.$1WT(n));this.$O.$SH=n},getSrc:function(){return this.$O.$3x.$GV},setSrc:function(n){this.$O.$3x.$GV!==n||$0.$0(this.getObject())?this.$O.$3x.set_UrlSource(n):this.getObject().setAttribute("src",n)},getObject:function(){return this.$O.$3x.$5Y},clearNotification:function(n){return this.$O.clearNotification(n)},getControlType:function(){return this.$O.getControlType()},getParent:function(){return this.$O.getParent()},setNotification:function(n,t){return this.$O.setNotification(n,t)},addNotification:function(n){return this.$O.addNotification(n)},clearNotifications:function(){return this.$O.clearNotifications()},setFocus:function(){this.$O.setFocus()},$Ut:function(){this.$O.resetInitial()},getName:function(){return this.$O.getName()},getVisible:function(){return this.$O.getVisible()},setLabel:function(n){this.$O.setLabel(n)}};Microsoft.Crm.Client.Core.ViewModels.$RY.$3Fl=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$RY.$3Fl.initializeBase(this,[n,t,i,r,n.$4u,n.$194])};Microsoft.Crm.Client.Core.ViewModels.$RY.$3Fl.prototype={$Bc:null,get_$Rb:function(){return $0.$0(this.$Bc)&&(this.$Bc=Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.$3x:this.$3x.$2.$5Q(this.$3x)),this.$Bc}};Microsoft.Crm.Client.Core.ViewModels.$Rk=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Rk.initializeBase(this);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$RY(n,t,i,r);this.$3x=n};Microsoft.Crm.Client.Core.ViewModels.$Rk.prototype={$O:null,$3x:null,getControlType:function(){return"iframe"},$17o:function(n){this.$O.$17o(n)},$1cB:function(){return this.$O.$1cB()},$1lK:function(n){this.$O.$1lK(n)},getInitialUrl:function(){return this.$3x.$lH},getSrc:function(){return this.$O.getSrc()},getObject:function(){return this.$O.getObject()},setSrc:function(n){this.$O.setSrc(n)},clearNotification:function(n){return this.$O.clearNotification(n)},clearNotifications:function(){return this.$O.clearNotifications()},getParent:function(){return this.$O.getParent()},setNotification:function(n,t){return this.$O.setNotification(n,t)},addNotification:function(n){return this.$O.addNotification(n)},setFocus:function(){this.$O.setFocus()},getLabel:function(){return this.$O.getLabel()},getName:function(){return this.$O.getName()},getVisible:function(){return this.$O.getVisible()},setLabel:function(n){this.$O.setLabel(n)},setVisible:function(n){this.$O.setVisible(n)},$Ut:function(){this.$O.$Ut()}};Microsoft.Crm.Client.Core.ViewModels.$D3=function(n,t,i,r){this.$1cB=this.getFocus;this.$1lK=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$D3.initializeBase(this);this.$6L=t;this.$3x=n;this.$ti=i;this.$th=r;this.$1BU=n.get_Visible()};Microsoft.Crm.Client.Core.ViewModels.$D3.prototype={$ti:null,$th:null,$6L:null,$Dh:null,$3x:null,$1BU:!1,get_$EH:function(){return $0.$0(this.$Dh)&&(this.$Dh=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(this.$3x)),this.$Dh},getName:function(){return this.$6L},clearNotification:function(){return!1},clearNotifications:function(){return!1},setNotification:function(){return!1},addNotification:function(){return!1},setLabel:function(){},setFocus:function(){this.$3x.set_HasFocus(!0)},setHasFocus:function(n){this.$3x.set_HasFocus(n)},getControlType:function(){return"subgrid"},getLabel:function(){return this.$3x.$1G},getVisible:function(){return this.$1BU},getFocus:function(){return this.$3x.get_HasFocus()},setVisible:function(n){this.$3x.set_Visible(this.$1WT(n));this.$1BU=n},$1WT:function(n){return!!(n&this.getParent().$256())},getParent:function(){var t=null,i=this.$3x.$2.$5k.ui.tabs.get(this.$ti),n;return $0.$0(i)||(n=i.sections.get(this.$th),$0.$0(n)||(t=n)),t},addRecord:function(){this.get_$EH().addRecord()},openAssociatedGrid:function(){this.get_$EH().openAssociatedGrid()},openRelatedGrid:function(){throw Error.notImplemented("This is for use only in web client.");},exportToExcel:function(){},refresh:function(){this.get_$EH().refresh()},getFetchXml:function(){throw Error.notImplemented("The method or operation is not implemented.");},getGrid:function(){return this.get_$EH().getGrid()},getChart:function(){return this.get_$EH().getChart()},getRelationship:function(){return this.get_$EH().getRelationship()},getViewSelector:function(){return this.get_$EH().getViewSelector()},addOnLoad:function(n){this.get_$EH().addOnLoad(n)},removeOnLoad:function(n){this.get_$EH().removeOnLoad(n)},getEntityName:function(){return this.get_$EH().getEntityName()},refreshRibbon:function(){throw Error.notImplemented("The method or operation is not implemented.");},addCustomFilter:function(){throw Error.notImplemented("The method or operation is not implemented.");},getGridType:function(){throw Error.notImplemented("The method or operation is not implemented.");},getUrl:function(){throw Error.notImplemented("The method or operation is not implemented.");}};Microsoft.Crm.Client.Core.ViewModels.$RZ=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$RZ.initializeBase(this,[n,t,i])};Microsoft.Crm.Client.Core.ViewModels.$RZ.prototype={getControlType:function(){return"label"},getLabel:function(){return this.$3x.get_Data()},setLabel:function(n){this.$3x.set_Data(n)}};Microsoft.Crm.Client.Core.ViewModels.$E7=function(n,t,i){this.$1cB=this.getFocus;this.$1lK=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$E7.initializeBase(this);this.$6L=t;this.$3x=n;this.$51=i};Microsoft.Crm.Client.Core.ViewModels.$E7.prototype={$6L:null,$3x:null,$51:null,addOnClick:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1p6(this.$6L,n)},removeOnClick:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$30l(this.$6L,n)},getControlType:function(){return"button"},getDisabled:function(){return!this.$3x.get_Enabled()},setDisabled:function(n){this.$3x.set_Enabled(!n)},setFocus:function(){this.$3x.$2.$5k.ui.removeCurrentControlFocus();this.setHasFocus(!0)},click:function(){this.getDisabled()||this.$3x.onClick()},clearNotification:function(){return!1},getName:function(){return this.$6L},getParent:function(){return this.$51},setNotification:function(){return!1},addNotification:function(){return!1},clearNotifications:function(){return!1},getLabel:function(){return this.$3x.$1G},getVisible:function(){return this.$3x.$4u},setLabel:function(n){this.$3x.set_Label(n)},setVisible:function(n){this.$3x.set_Visible(n)},getFocus:function(){return!$0.$0(this.$3x)&&Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$3x)?this.$3x.get_HasFocus():!1},setHasFocus:function(n){!$0.$0(this.$3x)&&Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$3x)&&this.$3x.set_HasFocus(n)}};Microsoft.Crm.Client.Core.ViewModels.$Qi=function(n,t,i){this.$Ut=this.resetInitial;Microsoft.Crm.Client.Core.ViewModels.$Qi.initializeBase(this);this.$6L=t;this.$3x=n;this.$51=i};Microsoft.Crm.Client.Core.ViewModels.$Qi.prototype={$6L:null,$3x:null,$51:null,resetInitial:function(){this.$3x.$PH()},clearNotification:function(){return!1},clearNotifications:function(){return!1},setNotification:function(){return!1},addNotification:function(){return!1},getName:function(){return this.$6L},getParent:function(){return this.$51},setFocus:function(){},getLabel:function(){return this.$3x.$1G},getVisible:function(){return this.$3x.$4u},setLabel:function(n){this.$3x.set_Label(n)},setVisible:function(n){this.$3x.set_Visible(n)}};Microsoft.Crm.Client.Core.ViewModels.$Nv=function(n){Microsoft.Crm.Client.Core.ViewModels.$Nv.initializeBase(this);this.$41=n};Microsoft.Crm.Client.Core.ViewModels.$Nv.prototype={$41:null,getActiveProcess:function(){if(!this.$41||!this.$41.get_$Mm()||!this.$41.get_$Mm().steps||this.$41.get_$Mm().steps.get_Count()<=0)return null;var n=this.$41.$HU,t=this.$41.get_$Mm(),i=this.$41.get_$BE().toString(),r=this.$41.$Bd,u=this.$41.$1io,f=this.$41.$t,e=this.$41.$9u;return Microsoft.Crm.Client.Core.ViewModels.$39.$2N5(n,r,u,t,f,e,!0,i)},getStatus:function(){var n=this.getActiveProcess();return n.getStatus()},getInstanceName:function(){var n=this.getActiveProcess();return n.getInstanceName()},getInstanceId:function(){var n=this.getActiveProcess();return n.getInstanceId()},setStatus:function(n,t){this.$41.$37k(n,t)},getActivePath:function(){return this.$41.$2eD()},completeProcess:function(){this.$41.$1XZ()},getActiveStage:function(){var n=this.$41.$BS(this.$41.get_$5u().get_$6U()),t=this.$41.$9N(n.id);return Microsoft.Crm.Client.Core.ViewModels.$39.$mn(n,t,1)},getProcessInstances:function(n){var t=this;this.$41.$335().done(function(i){var r=t.$41.$2kr(i);n(r)})},getEnabledProcesses:function(n){var t=this;this.$41.$2CP().done(function(t){for(var r,u={},e=t.$Cx.Controls,f=e,o=f.length,i=0;i<o;++i)r=f[i],u[r.CommandParameters.ProcessControlId.toString().toUpperCase()]=r.LabelText;n(u)})},setActiveProcess:function(n,t){if(this.$41.$HU!==n){var i=this;this.getEnabledProcesses(function(r){n&&n.toUpperCase()in r?t(Xrm.ProcessResponse.toString(i.$41.$2EH(n,""))):t(Xrm.ProcessResponse.toString(1))})}else t(Xrm.ProcessResponse.toString(0))},setActiveProcessInstance:function(n,t){$0.$0(t)||(n&&this.$41.$Bd!==n?t(Xrm.ProcessResponse.toString(this.$41.$2EH("",n))):t(Xrm.ProcessResponse.toString(0)))},switchProcess:function(){},abandonProcess:function(){this.$41.$1oS()},isLastStage:function(){return this.$41.$24M()},reactivateProcess:function(){this.$41.$2AW()},canSetActiveStage:function(){return this.$41.$2Nr()},setActiveStage:function(n,t){this.$41.$17h(n,t,!1)},moveNext:function(n){this.$41.$1pK(n)},movePrevious:function(n){this.$41.$2MB(n)},getSelectedStage:function(){var n=this.$41.$BS(this.$41.$Cf),t=this.$41.$9N(n.id);return Microsoft.Crm.Client.Core.ViewModels.$39.$mn(n,t,1)},addOnStageChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$2Ke(n)},removeOnStageChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$30s(n)},addOnStageSelected:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$2Kf(n)},removeOnStageSelected:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$30t(n)},addOnProcessStatusChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$2Ka(n)},removeOnProcessStatusChange:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$30p(n)}};Microsoft.Crm.Client.Core.ViewModels.$Nw=function(n){Microsoft.Crm.Client.Core.ViewModels.$Nw.initializeBase(this);this.$41=n};Microsoft.Crm.Client.Core.ViewModels.$Nw.prototype={$41:null,setVisible:function(n){this.$41.$1TV=!n;this.$41.set_Visible(n)},getId:function(){return $0.$0(this.$41.$ET)?"":this.$41.$ET.toString()},getVisible:function(){return this.$41.$4u},getDisplayState:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&!$0.$0(this.$41.$ET)?this.$41.$Ui?"expanded":"collapsed":"expanded"},reflow:function(n,t,i){this.$41.$1jA(n,t,i)},setDisplayState:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&!$0.$0(this.$41.$ET)&&(n==="expanded"?this.$41.set_PopoverVisibility(!0):n==="collapsed"&&this.$41.set_PopoverVisibility(!1))}};Microsoft.Crm.Client.Core.ViewModels.$39=function(){};Microsoft.Crm.Client.Core.ViewModels.$39.$2N5=function(n,t,i,r,u,f,e,o){for(var l,s,h,a,y,v=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.$O1)),c=0;c<r.steps.get_Count();c++)if(l=r.steps.get_$R(c),Microsoft.Crm.Workflow.ObjectModel.$5K.isInstanceOfType(l))for(s=l,h=0;h<s.steps.get_Count();h++)a=s.steps.get_$R(h),y=a.id===o?1:0,v.add(Microsoft.Crm.Client.Core.ViewModels.$39.$mn(a,s,y));return new Xrm.$O6(n,t,i,r.name,u,f,e,v)};Microsoft.Crm.Client.Core.ViewModels.$39.$mn=function(n,t,i){var u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.$O2)),r,f,e;if(n.steps&&n.steps.get_Count()>0)for(r=0;r<n.steps.get_Count();r++)f=n.steps.get_$R(r),f.description.endsWith("_edit")&&u.add(Microsoft.Crm.Client.Core.ViewModels.$39.$2yo(n.steps.get_$R(r),0));return e=new ProcessControl.ClientApi.$IK($0.$1Y(n.stageCategory)?-1:Number.parseInvariant(n.stageCategory)),new Xrm.$O1(n.id,n.description,e,t.get_EntityLogicalName(),i,u)};Microsoft.Crm.Client.Core.ViewModels.$39.$2yo=function(n,t){return new Xrm.$O2(n.name,n.description.substr(0,n.description.lastIndexOf("_")),t,n.isProcessRequired)};Microsoft.Crm.Client.Core.ViewModels.$Qj=function(n){Microsoft.Crm.Client.Core.ViewModels.$Qj.initializeBase(this);this.$nH=n};Microsoft.Crm.Client.Core.ViewModels.$Qj.prototype={$nH:0,$r0:!1,getSaveMode:function(){return this.$nH},isDefaultPrevented:function(){return this.$r0},preventDefault:function(){this.$r0=!0}};Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs=function(n){Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs.initializeBase(this,[0]);this.$1Yj=n};Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs.prototype={$1Yj:0,getDataLoadState:function(){return this.$1Yj}};Microsoft.Crm.Client.Core.ViewModels.$RW=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$RW.initializeBase(this);Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(this.$5j=n,this.$1eK=!0);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$RW.$3Fk(n,t,i,r,!0);this.$10V=u};Microsoft.Crm.Client.Core.ViewModels.$RW.prototype={$O:null,$5j:null,$1eK:!1,$Dh:null,$10V:null,get_$EH:function(){return $0.$0(this.$Dh)&&(this.$Dh=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(this.get_$v9().$H[this.$10V]),$0.$0(this.$Dh)&&(this.$Dh=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(this.get_$v9().$H.GridContainer.$H[this.$10V]))),this.$Dh},get_$v9:function(){return this.$O.$3x},get_$2n2:function(){return this.$5j},getControlType:function(){return"subgrid"},getLabel:function(){return this.$1eK?this.get_$2n2().$1G:this.get_$v9().$ZY},$17o:function(n){this.$O.$17o(n)},$1cB:function(){return this.$O.getFocus()},$1lK:function(n){this.$O.setHasFocus(n)},addRecord:function(){this.get_$v9().$4u&&this.get_$EH().addRecord()},openAssociatedGrid:function(){this.get_$EH().openAssociatedGrid()},openRelatedGrid:function(){throw Error.notImplemented("This is for use only in web client.");},exportToExcel:function(){},refresh:function(){this.get_$v9().$Rr()},getFetchXml:function(){throw Error.notImplemented("The method or operation is not implemented.");},getGrid:function(){return this.get_$EH().getGrid()},getChart:function(){return this.get_$EH().getChart()},getRelationship:function(){return this.get_$EH().getRelationship()},getViewSelector:function(){return this.get_$EH().getViewSelector()},addOnLoad:function(n){this.get_$EH().addOnLoad(n)},removeOnLoad:function(n){this.get_$EH().removeOnLoad(n)},getEntityName:function(){return this.get_$EH().getEntityName()},refreshRibbon:function(){throw Error.notImplemented("The method or operation is not implemented.");},addCustomFilter:function(){throw Error.notImplemented("The method or operation is not implemented.");},getGridType:function(){throw Error.notImplemented("The method or operation is not implemented.");},getUrl:function(){throw Error.notImplemented("The method or operation is not implemented.");},getRelationshipName:function(){return this.$Dh.getRelationshipName()},getRelationshipAttributeName:function(){return this.$Dh.getRelationshipAttributeName()},getRelationshipRoleOrdinal:function(){return this.$Dh.getRelationshipRoleOrdinal()},getRelationshipType:function(){return this.$Dh.getRelationshipType()},setNotification:function(n,t){return this.$O.setNotification(n,t)},clearNotification:function(n){return this.$O.clearNotification(n)},getParent:function(){return this.$O.getParent()},addNotification:function(n){return this.$O.addNotification(n)},clearNotifications:function(){return this.$O.clearNotifications()},setFocus:function(){this.$O.setFocus()},$Ut:function(){this.$O.resetInitial()},getName:function(){return this.$O.getName()},getVisible:function(){return this.$O.getVisible()},setLabel:function(n){this.$O.setLabel(n)},setVisible:function(n){this.$O.setVisible(n)}};Microsoft.Crm.Client.Core.ViewModels.$RW.$3Fk=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.$RW.$3Fk.initializeBase(this,[n,t,i,r,n.$4u,u])};Microsoft.Crm.Client.Core.ViewModels.$RW.$3Fk.prototype={get_$Rb:function(){return this.$3x}};Microsoft.Crm.Client.Core.ViewModels.$Qe=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Qe.initializeBase(this);this.$U=new Microsoft.Crm.Client.Core.ViewModels.$6j(n,t,i,r);this.controls=this.$U.controls};Microsoft.Crm.Client.Core.ViewModels.$Qe.prototype={$U:null,getAttributeType:function(){return"lookup"},getIsPartyList:function(){return this.$U.$2f.get_$jM()===10},getValue:function(){var n=this.$U.get_$8A().GetValue(this.getName()),t;return $0.$0(n)?null:(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem)),t.add(new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(n.LogicalName,n.get_identifier(),n.Name)),t.toArray())},setValue:function(n){var i;if($0.$0(n)){this.$U.setValue(null);return}if(!$0.$0(n.splice)){if(i=n,!i.length){this.$U.setValue(null);return}var r=i[0],u=new Microsoft.Crm.Client.Core.Framework.Guid(r.id),t=new Xrm.Objects.EntityReference(r.entityType,u,r.name);this.$2IE(t.LogicalName)?this.$U.setValue(t):t.LogicalName==="subject"&&this.$U.setValue(t)}},$2IE:function(n){var i=this.controls.get(0),t;return $0.$0(i)&&this.$U.$23z()?!0:(t=i.get_$8D(),Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ct.isInstanceOfType(t)&&t.$2IE(n))},$fS:function(){return this.$U},setLookupTypes:function(){return!1},getLookupTypes:function(){return null},addOnChange:function(n){this.$U.addOnChange(n)},fireOnChange:function(){this.$U.fireOnChange()},getFormat:function(){return this.$U.getFormat()},getIsDirty:function(){return this.$U.getIsDirty()},getIsValid:function(){return this.$U.getIsValid()},isValid:function(){return this.getIsValid()},getName:function(){return this.$U.getName()},getKey:function(){return this.$U.getKey()},getParent:function(){return this.$U.getParent()},getRequiredLevel:function(){return this.$U.getRequiredLevel()},getSubmitMode:function(){return this.$U.getSubmitMode()},getUserPrivilege:function(){return this.$U.getUserPrivilege()},removeOnChange:function(n){this.$U.removeOnChange(n)},resetInitialValue:function(n){this.$U.resetInitialValue(n)},setRequiredLevel:function(n){this.$U.setRequiredLevel(n)},setSubmitMode:function(n){this.$U.setSubmitMode(n)}};Microsoft.Crm.Client.Core.ViewModels.$Ro=function(n,t,i,r,u){this.$1lK=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$Ro.initializeBase(this);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$Ra(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$Ro.prototype={$O:null,get_$PD:function(){return this.$O.$Mk},get_$8D:function(){return this.$O.$1J},get_$1Ni:function(){return this.$O.$2x},$Fh:function(n,t){this.$O.$Fh(n,t)},$Ut:function(){this.$O.resetInitial()},getControlType:function(){return"lookup"},addCustomView:function(n,t,i,r,u,f){var e=Microsoft.Crm.Client.Core.Framework.$3.$9(n)?Microsoft.Crm.Client.Core.Framework.Guid.get_empty():new Microsoft.Crm.Client.Core.Framework.Guid(n),o=new Microsoft.Crm.Client.Core.Models.$7F(e,Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(r),u,t);this.$O.$1J.$qs[e.toString()]=o;f&&this.$O.$1J.$1Pq(e)},getDefaultView:function(){var n=this.$O.$1J.$O7;return n===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?"":Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(n)},setDefaultView:function(n){this.$O.$1J.$1Pq(new Microsoft.Crm.Client.Core.Framework.Guid(n))},addCustomFilter:function(n,t){this.$O.$1J.$1ou(n,t)},addPreSearch:function(n){var i=new Microsoft.Crm.Client.Core.Models.Constants.$JV,r,t,u;i.method=n;i.passExecutionContext=!0;r=this.$O.$1J.$Rf;$0.$0(r)?(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV))([i]),t=new Microsoft.Crm.Client.Core.Models.$JM(u,null),t.details=new Microsoft.Crm.Client.Core.Models.$J7(4,this.$O.$Mk)):(t=this.$1DN(r),t.handlers.add(i));this.$O.$1J.set_$16H(t)},removePreSearch:function(n){var t=this.$O.$1J.$Rf,i,r;if(!$0.$0(t)&&!$0.$0(t.handlers))for(i=0;i<t.handlers.get_Count();i++)if(t.handlers.get_$R(i).method===n){r=this.$1DN(t);r.handlers.remove(r.handlers.get_$R(i));this.$O.$1J.set_$16H(r);break}},allowUserToDisableRelationshipFilter:function(){return},lockRelationshipFilter:function(){},setParameter:function(){},getEntityTypes:function(){throw Error.notImplemented("The method or operation is not implemented.");},setEntityTypes:function(){throw Error.notImplemented("The method or operation is not implemented.");},getAttribute:function(){return this.$O.getAttribute()},getDisabled:function(){return this.$O.getDisabled()},setDisabled:function(n){this.$O.setDisabled(n)},clearNotification:function(n){return this.$O.clearNotification(n)},clearNotifications:function(){return this.$O.clearNotifications()},setNotification:function(n,t){return this.$O.setNotification(n,t)},addNotification:function(n){return this.$O.addNotification(n)},getParent:function(){return this.$O.getParent()},setFocus:function(){this.$O.setFocus();this.$O.setHasFocus(!0)},setHasFocus:function(n){this.$O.setHasFocus(n)},$1cB:function(){return this.$O.getFocus()},getLabel:function(){return this.$O.getLabel()},getName:function(){return this.$O.getName()},getVisible:function(){return this.$O.getVisible()},setLabel:function(n){this.$O.setLabel(n)},setVisible:function(n){this.$O.setVisible(n)},$1DN:function(n){var t=new Microsoft.Crm.Client.Core.Models.$JM(n.handlers,n.eventArgs,n.$11C,n.$11D,n.scriptsToLoad,n.details);return t.$Op=n.$Op,t.$Oq=n.$Oq,t}};Microsoft.Crm.Client.Core.ViewModels.$Qf=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Qf.initializeBase(this);this.$U=new Microsoft.Crm.Client.Core.ViewModels.$6j(n,t,i,r);this.controls=this.$U.controls};Microsoft.Crm.Client.Core.ViewModels.$Qf.prototype={$U:null,$fS:function(){return this.$U},getAttributeType:function(){if(!$0.$0(this.$U.$2f)&&this.$U.$2f.get_$jM()===5&&!Microsoft.Crm.Client.Core.Framework.$3.$12(this.$U.$2f.get_$IY()))switch(this.$U.$2f.get_$IY().toLowerCase()){case"language":case"timezone":return"optionset"}return this.$U.getAttributeType()},setValue:function(n){if(!$0.$0(n)){var t=n.toString();Number.parseInvariant(t)!==Number.parseLocale(t)&&(n=t.replace(Sys.CultureInfo.InvariantCulture.numberFormat.CurrencyDecimalSeparator,Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalSeparator))}this.$U.setValue(n)},getMin:function(){var t=this,n=this.controls.getFirst(function(n){return Microsoft.Crm.Client.Core.ViewModels.$5o.isInstanceOfType(n.get_$8D())});return $0.$0(n)?this.$U.$2f.get_$UF():n.get_$8D().get_$UF()},getMax:function(){var t=this,n=this.controls.getFirst(function(n){return Microsoft.Crm.Client.Core.ViewModels.$5o.isInstanceOfType(n.get_$8D())});return $0.$0(n)?this.$U.$2f.get_$UC():n.get_$8D().get_$UC()},setMax:function(n){var t=this;this.controls.forEach(function(t){Microsoft.Crm.Client.Core.ViewModels.$5o.isInstanceOfType(t.get_$8D())&&t.get_$8D().set_$UC(n)})},setMin:function(n){var t=this;this.controls.forEach(function(t){Microsoft.Crm.Client.Core.ViewModels.$5o.isInstanceOfType(t.get_$8D())&&t.get_$8D().set_$UF(n)})},setCurrencySymbol:function(){},getPrecision:function(){var t=this,n=this.controls.getFirst(function(n){return Microsoft.Crm.Client.Core.ViewModels.$5o.isInstanceOfType(n.get_$8D())});return $0.$0(n)?0:n.get_$8D().get_$16G()},setPrecision:function(n){var t=this;this.controls.forEach(function(t){Microsoft.Crm.Client.Core.ViewModels.$5o.isInstanceOfType(t.get_$8D())&&t.get_$8D().set_$16G(n)})},addOnChange:function(n){this.$U.addOnChange(n)},fireOnChange:function(){this.$U.fireOnChange()},getFormat:function(){return this.$U.getFormat()},getIsDirty:function(){return this.$U.getIsDirty()},getIsValid:function(){return this.$U.getIsValid()},isValid:function(){return this.getIsValid()},getName:function(){return this.$U.getName()},getKey:function(){return this.$U.getKey()},getParent:function(){return this.$U.getParent()},getRequiredLevel:function(){return this.$U.getRequiredLevel()},getSubmitMode:function(){return this.$U.getSubmitMode()},getUserPrivilege:function(){return this.$U.getUserPrivilege()},getValue:function(){return this.$U.getValue()},removeOnChange:function(n){this.$U.removeOnChange(n)},resetInitialValue:function(n){this.$U.resetInitialValue(n)},setRequiredLevel:function(n){this.$U.setRequiredLevel(n)},setSubmitMode:function(n){this.$U.setSubmitMode(n)}};Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper=function(){Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper.initializeBase(this);this.$A=Microsoft.Crm.Client.Core.Framework.$q.$4t(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$Hp(),"OfflineWrapper")};Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper.prototype={$A:null,isOfflineEnabled:function(n){return Microsoft.Crm.Client.Core.Offline.$Y.get_$5D().$AD(n)},retrieveRecord:function(n,t,i){var u,s;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveRecord","RetrieveRecord has started");var r=MscrmComponents.DeferredPromiseFactory(Object,Xrm.OfflineErrorResponse),f=new Microsoft.Crm.Client.Core.Storage.Common.UriParser.$LK(i),e={id:t,entityType:n,options:f},o=Microsoft.Crm.Client.Core.ViewModels.$4p.$138(3,e);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY(" RetrieveRecord - Parameters: id = {0}, entityType = {1}, options ={2}",t,n,i)),u=this,s=this,o.$6W().then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveRecord validation completed successfully for the entity {0} and the id: {1}",n,t));var e=f.get_$11j(),i=f.get_$bT();Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(n,u.$A).then(function(o){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveEntityMetadata completed successfully for the entity {0} and the id: {1}",n,t));var s=null;!$0.$0(i)&&i.get_$LS().length>0&&(s=i.get_$LS());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(n,s),u.$A).then(function(i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveMultipleAttributeMetadata completed successfully for the entity {0} and the id: {1}",n,t));var h=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(2,0),c=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2y9(o,i.$1mk(),$0.$0(s)),l=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$1Y5(n,t);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(l,c,h,u.$A).then(function(i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Retrieve completed successfully for the entity {0} and the id: {1}",n,t));u.$2ij(i.clone(),e).then(function(i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetRelatedEntities completed Successfully for the entity {0} and the id: {1}",n,t));var u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2QE(i,f);r.resolve(u)},function(t){var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7032,null);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetRelatedEntities for the entity {0} failed with the error {1}",n,t.message));r.reject(new Xrm.OfflineErrorResponse(-7032,i,t.message))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Retrieve for the entity {0} failed with the error {1}",n,t.$F));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveMultipleAttributeMetadata for the entity {0} failed with the error {1}",n,t.$F));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveEntityMetadata for the entity {0} failed with the error {1}",n,t.$F));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){r.reject(t);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.RetrieveRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("validation for the entity {0} failed with the error {1}",n,t.message))}),r.promise()},retrieveMultipleRecords:function(n,t,i){var f,s;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveMultipleRecords","RetrieveRecord has started");var u=MscrmComponents.DeferredPromiseFactory(Object,Xrm.OfflineErrorResponse),r=new Microsoft.Crm.Client.Core.Storage.Common.UriParser.$LK(t),e={entityType:n,options:r,maxPageSize:i},o=Microsoft.Crm.Client.Core.ViewModels.$4p.$138(4,e);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveMultipleRecords",Microsoft.Crm.Client.Core.Framework.$3.$IY(" RetrieveMultipleRecords - Parameters: entityType = {0}, options = {1}, maxPageSize = {2}",n,t,i)),f=this,s=this,o.$6W().then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveMultipleRecords","RetrieveMultiple validation completed successfully");var e=r.get_$11j(),t;!$0.$0(r)&&!$0.$0(r.get_$1K())&&r.get_$1K().length>0?(t=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$1tE(r.get_$1K()),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveMultipleRecords","CreateEntityQueryExpressionFromFetchXml")):(t=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2RR(n,r,i),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveMultipleRecords","CreateEntityQueryExpressionFromODataUri"));Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$29e(t,!1,f.$A).then(function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2Sf(n,Microsoft.Crm.Client.Core.Framework.Guid.newGuid().toString(),f.$A).then(function(t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(t,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(2,0),f.$A).then(function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.RetrieveMultipleRecords","RetrieveMultiple completed successfully");var f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2QD(n,t,r,i);u.resolve(f)},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.RetrieveMultipleRecords",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveMultiple failed with the error {0}",n.$F));u.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(n,""))})},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.RetrieveMultipleRecords",Microsoft.Crm.Client.Core.Framework.$3.$IY("CreateQueryFromEntityQueryExpression failed with the error {0}",n.$F));u.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(n,""))})},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.RetrieveMultipleRecords",Microsoft.Crm.Client.Core.Framework.$3.$IY("PopulateRequiredQueryAttributes failed with the error {0}",n.$F));u.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(n,""))})},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.RetrieveMultipleRecords",Microsoft.Crm.Client.Core.Framework.$3.$IY("Validation failed with the error {0}",n.message));u.reject(n)}),u.promise()},createRecord:function(n,t){var u,o;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.CreateRecord","CreateRecord has started");var i=MscrmComponents.DeferredPromiseFactory(Object,Xrm.OfflineErrorResponse),r=new Array(0),e=t;for(u in e)o={key:u,value:e[u]},r.push(o.key);Microsoft.Crm.Client.Core.Framework.$8.$1E("CreateRecord_InputData",2010,Microsoft.Crm.Client.Core.Framework.$3.$IY(" CreateRecord - Parameters: data = {0}, entityType= {1}",JSON.stringify(t),n));var s={entityType:n,attributes:r},h=Microsoft.Crm.Client.Core.ViewModels.$4p.$138(0,s),f=this,c=this;return h.$6W().then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Create Record validation completed successfully for the entity {0}",n));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$OY(n,r).then(function(r){f.$1wY(n,r,t).then(function(){Microsoft.Crm.Client.Core.Framework.$8.$1E("CreateRecord_FormattedInputData",2010,JSON.stringify(t));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1Ds(n,null).then(function(r){var u,e,o;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.CreateRecord","CreateEmptyEntityRecord started");f.$370(n,t);u=t;for(e in u)o={key:e,value:u[e]},r.setValue(o.key,o.value);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$X(r,!0,f.$A).then(function(t){var r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1Xs(t);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Create Record completed successfully for the entity {0}",n));i.resolve(r)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Created failed for the entity {0} with the error {1}",n,t.$F));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("CreateEmptyEntityRecord failed for the entity {0} with the error {1}",n,t.$F));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("FormatInputData failed for the entity {0} with the error {1}",n,t.message));i.reject(t)})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetAttributeTypes failed for the entity {0} with the error {1}",n,t.$F));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.CreateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Validation failed for the entity {0} with the error {1}",n,t.message));i.reject(t)}),i.promise()},updateRecord:function(n,t,i){var f,s;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.UpdateRecord","UpdateRecord has started");var r=MscrmComponents.DeferredPromiseFactory(Object,Xrm.OfflineErrorResponse),u=new Array(0),o=i;for(f in o)s={key:f,value:o[f]},u.push(s.key);Microsoft.Crm.Client.Core.Framework.$8.$1E("UpdateRecord_InputData",2010,Microsoft.Crm.Client.Core.Framework.$3.$IY(" UpdateRecord - Parameters: id = {0}, data = {1}, entityType = {2}",t,JSON.stringify(i),n));var h={id:t,entityType:n,attributes:u},c=Microsoft.Crm.Client.Core.ViewModels.$4p.$138(1,h),e=this,l=this;return c.$6W().then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Update Record validation completed successfully for the entity {0} and the id {1}",n,t));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(n,e.$A).then(function(f){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveEntityMetadata for the entity {0} and the id {1}",n,t));var o=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(2,0);i[f.get_$ES()]=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.toUpperCase());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$OY(n,u).then(function(o){e.$1wY(n,o,i).then(function(){Microsoft.Crm.Client.Core.Framework.$8.$1E("UpdateRecord_FormattedInputData",2010,JSON.stringify(i));var c=new Xrm.Objects.EntityReference(n,i[f.get_$ES()]),h={},l=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)),s=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(c,i,o,h,h,l);s.$4w.addRange(u);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$9W(s.$2A,s,!0,e.$A).then(function(i){var u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1Xs(i);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Update Record completed successfully for the entity {0} and the id {1}",n,t));r.resolve(u)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Update Record failed for the entity {0} with the error {1}",n,t.$F));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("FormatInputData failed for the entity {0} with the error {1}",n,t.message));r.reject(t)})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetAttributeTypes failed for the entity {0} with the error {1}",n,t.$F));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveEntityMetadata failed for the entity {0} with the error {1}",n,t.$F));r.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.UpdateRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("validation failed for the entity {0} with the error {1}",n,t.message));r.reject(t)}),r.promise()},deleteRecord:function(n,t){var r,e;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.DeleteRecord","DeleteRecord has started");var i=MscrmComponents.DeferredPromiseFactory(Object,Xrm.OfflineErrorResponse),u={id:t,entityType:n},f=Microsoft.Crm.Client.Core.ViewModels.$4p.$138(2,u);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.DeleteRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY(" DeleteRecord - Parameters: id = {0}, entityType = {1}",t,n)),r=this,e=this,f.$6W().then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.DeleteRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Delete Record validation completed successfully for the entity {0} and the id {1}",n,t));var u=new Xrm.Objects.EntityReference(n,Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.toUpperCase()));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.Delete(u,r.$A).then(function(r){var u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1Xs(r);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.DeleteRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Delete Record completed successfully for the entity {0} and the id {1}",n,t));i.resolve(u)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.DeleteRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("Delete Record failed for the entity {0} with the error {1}",n,t.$F));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.DeleteRecord",Microsoft.Crm.Client.Core.Framework.$3.$IY("validation failed for the entity {0} with the error {1}",n,t.message));i.reject(t)}),i.promise()},$2ij:function(n,t){var i,r,e,s,h;if(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.GetRelatedEntities","GetRelatedEntities has started"),i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Xrm.OfflineErrorResponse),r=[],$0.$0(t)||!t.get_$11k().length)return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.GetRelatedEntities","Expand Token is null or empty"),i.resolve(n),i.promise();for(var f=t.get_$11k(),o=f.length,u=0;u<o;++u)e=f[u],Array.add(r,this.$2im(n,e));return s=this,h=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r).then(function(t){for(var u=t,e=u.length,r=0;r<e;++r){var o=u[r],f=o,s=f.$1V.$FK;n.$5c.addRelationship(s,f)}Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.GetRelatedEntities","GetRelatedRecordsUsingExpand completed successfully");i.resolve(n)},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.GetRelatedEntities",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetRelatedEntities failed with error {0}",n.$F));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(n,""))}),i.promise()},$2im:function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.GetRelatedRecordsUsingExpand","GetRelatedRecordsUsingExpand has started");var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Xrm.OfflineErrorResponse),r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(52,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),n.$a.LogicalName,1),this.$A).then(function(u){var e,o,s,f,h;if(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveMultipleApplicationMetadata for the entity {0}",n.$a.LogicalName)),u.get_$3F6()>0){if(e=u.get_$R(0).get_$4r(),o="",t.$Ot in e)Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$IY("Navigation Property Metadata :{0} for entity: {1}",t.$Ot,n.$a.LogicalName)),s=e[t.$Ot],o=s.FetchXml.toString();else{Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetRelatedRecordsUsingExpand: {0} Relationship not found for {1} entity",t.$Ot,n.$a.LogicalName));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(null,Microsoft.Crm.Client.Core.Framework.$3.$IY("GetRelatedRecordsUsingExpand: {0} Relationship not found for {1} entity",t.$Ot,n.$a.LogicalName))).promise();return}f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$1tE(o);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$IY("CreateEntityQueryExpressionFromFetchXml for the entity {0}",n.$a.LogicalName));Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2HX(f,n.$a.LogicalName,n);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2Ks(f,t);h=r.$2nY(t);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$29e(f,!h,r.$A).then(function(u){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$IY("PopulateRequiredQueryAttributes for the entity {0}",n.$a.LogicalName));Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2Sv(n.$a.LogicalName,u,t.$Ot,r.$A).then(function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$IY("CreateRelatedQueryFromEntityQueryExpression for the entity {0}",n.$a.LogicalName));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(t,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(2,0),r.$A).then(function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveMultiple completed for the Entity {0}",n.$a.LogicalName));i.resolve(t)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveMultiple failed for the Entity {0} with the error {1}",n.$a.LogicalName,t.$F));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$IY("CreateRelatedQueryFromEntityQueryExpression failed for the Entity {0} with the error {1}",n.$a.LogicalName,t.$F));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$IY("PopulateRequiredQueryAttributes failed for the Entity {0} with the error {1}",n.$a.LogicalName,t.$F));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))})}else Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.GetRelatedRecordsUsingExpand","No Navigtaion Property MetaData Found for the Entity"),i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(null,"No Relationship MetaData Found for the Entity"))},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineWrapper.GetRelatedRecordsUsingExpand",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveMultipleApplicationMetadata failed for the Entity {0} with the error {1}",n.$a.LogicalName,t.$F));i.reject(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df(t,""))}),i.promise()},$2nY:function(n){return!$0.$0(n)&&!$0.$0(n.$bW)&&n.$bW.get_$LS().length>0?!0:!1},$1wY:function(n,t,i){var u=MscrmComponents.DeferredPromiseFactory(Boolean,Xrm.OfflineErrorResponse),r="",f,e,o,s,h;try{f=t;for(e in f)(o={key:e,value:f[e]},r=o.key,s=i[r],$0.$0(s))||(i[r]=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2Xm(n,r,o.value,s));u.resolve(!0)}catch(c){h=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7033,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([r]));u.reject(new Xrm.OfflineErrorResponse(-7033,h,c.message))}return u.promise()},$370:function(n,t){var u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(n,"transactioncurrencyid"),i,r;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineWrapper.SetDefaultTransactionCurrencyReference",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetAttributeMetadata for the entity {0}",n));$0.$0(u)||"transactioncurrencyid"in t&&!$0.$0(t.transactioncurrencyid)||(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$12j(),$0.$0(i)||(r=new Xrm.Objects.EntityReference("transactioncurrency",i.$Hv,i.$qf),t.transactioncurrencyid=r))}};Microsoft.Crm.Client.Core.ViewModels.$De=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$De.initializeBase(this);this.$U=new Microsoft.Crm.Client.Core.ViewModels.$6j(n,t,i,r);this.controls=this.$U.controls};Microsoft.Crm.Client.Core.ViewModels.$De.prototype={$U:null,$fS:function(){return this.$U},getAttributeType:function(){return"optionset"},getValue:function(){return!$0.$0(this.$U.get_$8A())&&!$0.$0(this.$U.get_$8A().GetValue(this.getName()))?this.$U.get_$8A().GetValue(this.getName()).$1s:this.$U.get_$8A().GetValue(this.getName())},setValue:function(n){var t=null,i;$0.$0(n)?t=new Microsoft.Crm.Client.Core.ViewModels.$Bm("-1",""):(i=this.$U.$2f.$J0.$21.get_$R(n.toString()),$0.$0(i)||(t=new Microsoft.Crm.Client.Core.ViewModels.$Bm(i.get_$29().toString(),i.get_$F6()),this.$U.setValue(t)));$0.$0(t)||this.$U.setValue(t)},getInitialValue:function(){return this.controls.get(0).$O.$1J.$fz},getOption:function(n){if(IsNull(n))return null;if(!$0.$0(this.$U.$2f)){var t=this.$U.$2f.$J0.$21.get_$R(n.toString());if(!$0.$0(t))return new Xrm.OptionSetItem(t.get_$29(),t.get_$F6())}return null},getOptions:function(){var n,u,t;if(!$0.$0(this.$U.$2f)){var f=this.$U.$2f.$J0.$21.$1RT(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.OptionSetItem)),r=f;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Xrm.OptionSetItem(t.get_$29(),t.get_$F6()));return i.toArray()}return null},getSelectedOption:function(){var n,t;return!$0.$0(this.$U.get_$8A())&&(n=this.$U.get_$8A().GetValue(this.getName()),!$0.$0(n))?(t=new Microsoft.Crm.Client.Core.Models.$J8(n),new Xrm.OptionSetItem(t.get_$29(),t.get_$F6())):null},getText:function(){if(!$0.$0(this.$U.get_$8A())){var n=this.$U.get_$8A().GetValue(this.getName());if(!$0.$0(n))return n.get_Label()}return""},getInvariantText:function(){var u=this.$U.$2f.$J0.$21.$1RT(),t=u;for(var i in t){var f={key:i,value:t[i]},r=this.$U.$Bc.get_$1B().GetValue(this.$U.$2H),n=f.value;if(!$0.$0(n)&&!$0.$0(r)&&n.get_$F6()===r.get_Label())return $0.$0(n.get_$23s())?"":n.get_$23s()}return""},addOption:function(){},removeOption:function(){},clearOptions:function(){},addOnChange:function(n){this.$U.addOnChange(n)},fireOnChange:function(){this.$U.fireOnChange()},getFormat:function(){return this.$U.getFormat()},getIsDirty:function(){return this.$U.getIsDirty()},getIsValid:function(){return this.$U.getIsValid()},isValid:function(){return this.getIsValid()},getName:function(){return this.$U.getName()},getKey:function(){return this.$U.getKey()},getParent:function(){return this.$U.getParent()},getRequiredLevel:function(){return this.$U.getRequiredLevel()},getSubmitMode:function(){return this.$U.getSubmitMode()},getUserPrivilege:function(){return this.$U.getUserPrivilege()},removeOnChange:function(n){this.$U.removeOnChange(n)},resetInitialValue:function(n){this.$U.resetInitialValue(n)},setRequiredLevel:function(n){this.$U.setRequiredLevel(n)},setSubmitMode:function(n){this.$U.setSubmitMode(n)}};Microsoft.Crm.Client.Core.ViewModels.$Rl=function(n,t,i,r,u){this.$1lK=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$Rl.initializeBase(this);this.$O=new Microsoft.Crm.Client.Core.ViewModels.$Ra(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$Rl.prototype={$O:null,get_$PD:function(){return this.$O.$Mk},get_$8D:function(){return this.$O.$1J},get_$1Ni:function(){return this.$O.$2x},$Fh:function(n,t){this.$O.$Fh(n,t)},$Ut:function(){this.$O.resetInitial()},getControlType:function(){return"optionset"},addOption:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$O.$2)){var i=this.$sQ();$0.$0(i)||i.$zi(n.text,n.value)}this.$O.$1J.$zi(new Microsoft.Crm.Client.Core.ViewModels.$Bm(n.value.toString(),n.text),t)},clearOptions:function(){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$O.$2)){var n=this.$sQ();$0.$0(n)||n.$10Z()}this.$O.$1J.$10Z()},getOptions:function(){return null},removeOption:function(n){if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$O.$2)){var t=this.$sQ();$0.$0(t)||t.$16r(n)}this.$O.$1J.$16r(n)},getAttribute:function(){return this.$O.getAttribute()},getDisabled:function(){return this.$O.getDisabled()},setDisabled:function(n){this.$O.setDisabled(n)},clearNotification:function(n){return this.$O.clearNotification(n)},clearNotifications:function(){return this.$O.clearNotifications()},setNotification:function(n,t){return this.$O.setNotification(n,t)},addNotification:function(n){return this.$O.addNotification(n)},getParent:function(){return this.$O.getParent()},setFocus:function(){this.$O.setFocus()},setHasFocus:function(n){this.$O.setHasFocus(n)},$1cB:function(){return this.$O.getFocus()},getLabel:function(){return this.$O.getLabel()},getName:function(){return this.$O.getName()},getVisible:function(){return this.$O.getVisible()},setLabel:function(n){this.$O.setLabel(n)},setVisible:function(n){this.$O.setVisible(n)},$sQ:function(){var t=this.getAttribute(),n;return!$0.$0(t)&&(n=t.$fS(),!$0.$0(n.$2f))?n.$2f.$J0:null}};Microsoft.Crm.Client.Core.ViewModels.$Re=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Re.initializeBase(this,[n,t,i,r])};Microsoft.Crm.Client.Core.ViewModels.$Re.prototype={getValue:function(){var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem)),f,u=this.$fS().get_$8A().GetValue(this.getName()),t,n,i;if($0.$1Y(u)||!u.get_count())return null;for(t=0;t<u.get_count();t++)f=this.$fS().get_$8A().GetValue(this.getName()).get_entities()[t],n=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$fY(f),Xrm.Objects.EntityReference.isInstanceOfType(n)?(i=n,r.add(new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(i.LogicalName,i.get_key(),i.Name))):String.isInstanceOfType(n)&&r.add(new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem("",null,n));return r.toArray()},setValue:function(n){var t,r,u,f,e,s,o,i,h,c;if($0.$0(n)){this.$fS().get_$8A().SetValue(this.getName(),null);return}if(!$0.$0(n.splice))try{if($0.$0(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v)||Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1un(this.getName()),t=n,!t.length){this.$fS().get_$8A().SetValue(this.getName(),null);return}for(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord)),s=new Microsoft.Crm.Client.Core.Models.Validation.EmailAddressValidator(!1,!0),i=0;i<t.length;i++)Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&t[i].type==="-1"&&Microsoft.Crm.Client.Core.Framework.$3.$9(t[i].id)&&t[i].entityType===""&&s.$6W(t[i].name,!1,!1).$57?(u={addressused:t[i].name},f={addressused:14},o="addressused"):(u={partyid:new Xrm.Objects.EntityReference(t[i].entityType,new Microsoft.Crm.Client.Core.Framework.Guid(t[i].id),t[i].name)},f={partyid:6},o="partyid"),h=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(h,u,f,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),e.$4w.add(o),r.add(e);c=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(r.toArray(),!1,r.get_Count(),!1);this.$fS().get_$8A().SetValue(this.getName(),c)}finally{$0.$0(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v)||Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1ZL(this.getName())}}};Microsoft.Crm.Client.Core.ViewModels.$Nt=function(n,t){this.dispose=this.$5E;Microsoft.Crm.Client.Core.ViewModels.$Nt.initializeBase(this);this.$2=n;this.$52=t;var i=n.get_RelationshipList()[t];this.$P=i.TargetEntityTypeName;this.attributes=new Xrm.XrmEntityAttributes};Microsoft.Crm.Client.Core.ViewModels.$Nt.prototype={$2h:!1,$2:null,$52:null,$P:null,addOnSave:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1p7(n)},getDataXml:function(){return null},removeOnSave:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$2BK(n)},getEntityName:function(){return this.$P},getId:function(){var n=this.$2.get_ModelContext(),t=n.$42.get_$R(this.$52);return t.get_$2m()},setRecordId:function(){},getIsDirty:function(){var n=this.$2.get_ModelContext(),t=n.$42.get_$R(this.$52);return t.$CX()},isInHierarchy:function(){return!1},save:function(n){if($0.$0(n)||Object.getType(n)!==String)throw Error.create("Parameter passed is not of string type");else Microsoft.Crm.Client.Core.ViewModels.$4A.$1P5(n.toString(),this.$2)},getPrimaryAttributeValue:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.getEntityName()),n;return!$0.$0(t)&&(n=this.attributes.getByName(t.$59),n)?n.getValue():null},$5E:function(){this.$2h||(this.$2h=!0,this.$2=null,this.attributes=null)},isValid:function(){return!1}};Microsoft.Crm.Client.Core.ViewModels.$Qg=function(n,t,i,r,u,f){this.$1cB=this.getFocus;this.$1lK=this.setHasFocus;Microsoft.Crm.Client.Core.ViewModels.$Qg.initializeBase(this);this.$6L=t;this.$3x=n;this.$ti=i;this.$th=r;f=$0.$0(f)?n.$4u:f;this.$SH=$0.$0(u)?n.$4u||f:u||f};Microsoft.Crm.Client.Core.ViewModels.$Qg.prototype={$ti:null,$th:null,$SH:!1,$6L:null,$3x:null,getName:function(){return this.$6L},getControlType:function(){return null},getLabel:function(){return null},getVisible:function(){return this.$SH},getParent:function(){var t=null,i=this.$3x.$2.$5k.ui.tabs.get(this.$ti),n;return $0.$0(i)||(n=i.sections.get(this.$th),$0.$0(n)||(t=n)),t},setVisible:function(n){this.$3x.set_Visible(this.$1WT(n));this.$SH=n},$17o:function(n){this.$SH&&this.$3x.set_Visible(n)},setFocus:function(){this.$3x.$2.$5k.ui.removeCurrentControlFocus();this.setHasFocus(!0)},setLabel:function(){},setNotification:function(){return!1},addNotification:function(){return!1},clearNotification:function(){return!1},clearNotifications:function(){return!1},setHasFocus:function(n){Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.get_$Rb())&&this.get_$Rb().set_HasFocus(n)},getFocus:function(){return Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.get_$Rb())?this.get_$Rb().get_HasFocus():!1},resetInitial:function(){!$0.$0(this.$3x)&&Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(this.$3x)&&this.$3x.$PH()},$1WT:function(n){var t=n,i=this.getParent();return $0.$0(i)||(t=i.$256()),!!(n&t)}};Microsoft.Crm.Client.Core.ViewModels.$Qh=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Qh.initializeBase(this);this.$8k=n;this.$6L=t;this.$51=i;this.controls=new Xrm.XrmControls;this.$SH=n.$4u;this.$wK=null;r.ControlProperties&&"logicalSeparatedChildrensNames"in r.ControlProperties&&(this.$wK=r.ControlProperties.logicalSeparatedChildrensNames)};Microsoft.Crm.Client.Core.ViewModels.$Qh.prototype={$8k:null,$6L:null,$wK:null,$51:null,$SH:!1,getParent:function(){return this.$51},$256:function(){return this.$8k.$4u},$Ut:function(){this.$8k.$PH()},$386:function(n){this.$SH&&this.$23c(n)},$23c:function(n){var r=this.getParent(),u=!!(n&($0.$0(r)||r.getVisible())),e,t;if(this.$8k.set_Visible(u),!$0.$0(this.$wK)&&this.$wK.length>0)for(var f=this.$wK,o=f.length,i=0;i<o;++i)e=f[i],t=this.$8k.$2.$5k.ui.controls.get(e),!$0.$0(t)&&Microsoft.Crm.Client.Core.ViewModels.ClientApi.$DD.isInstanceOfType(t)&&t.$17o(u)},getLabel:function(){return this.$8k.$1G},getName:function(){return this.$6L},getVisible:function(){return this.$SH},setVisible:function(n){this.$SH=n;this.$23c(n)},setLabel:function(n){this.$8k.set_Label(n)}};Microsoft.Crm.Client.Core.ViewModels.$R2=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$R2.initializeBase(this);this.$8k_2=n;this.$6L_2=t;this.$51_2=i;this.sections=new Xrm.XrmTabSections};Microsoft.Crm.Client.Core.ViewModels.$R2.prototype={$51_2:null,$8k_2:null,$18T:null,$6L_2:null,$Ut:function(){var n=this;this.sections.forEach(function(n){n.$Ut()});this.$8k_2.$PH()},getParent:function(){return this.$51_2},addTabStateChange:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$2Kg(this.$6L_2,n)},setIsSubGrid:function(){},getDisplayState:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?(this.$18T=this.$51_2.tabNavigatorGroup,this.$18T.getDisplayState(this.$6L_2)):"expanded"},removeTabStateChange:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$30u(this.$6L_2,n)},setDisplayState:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(this.$18T=this.$51_2.tabNavigatorGroup,this.$18T.setDisplayState(n,this.$6L_2))},setFocus:function(){if(!Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$8k_2.$2)){var n=this.$8k_2.$2.$5k.ui.$1G1;!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(n.$8k_2)&&this.$8k_2.set_HasFocus(!1);Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(this.$8k_2)&&(this.$8k_2.set_HasFocus(!0),this.$8k_2.$2.$5k.ui.$1G1=this)}},setVisible:function(n){var t,i;if(!Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$8k_2.$2))for(this.$8k_2.set_Visible(n),t=0;t<this.sections.getLength();t++)i=this.sections.get(t),$0.$0(i)||i.$386(n)},getLabel:function(){return this.$8k_2.$1G},getName:function(){return this.$6L_2},getVisible:function(){if(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$8k_2.$2)){var n=this.$8k_2.$2.$5Q(this.$8k_2);return n.$v2===this.$8k_2.$2.get_CurrentActivePage().$v2}return this.$8k_2.$4u},setLabel:function(n){this.$8k_2.set_Label(n)}};Microsoft.Crm.Client.Core.ViewModels.$R1=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$R1.initializeBase(this);this.$U=new Microsoft.Crm.Client.Core.ViewModels.$6j(n,t,i,r);this.controls=this.$U.controls};Microsoft.Crm.Client.Core.ViewModels.$R1.prototype={$U:null,$fS:function(){return this.$U},getMaxLength:function(){return $0.$0(this.$U.$2f)?0:this.$U.$2f.get_$154()},setValue:function(n){if($0.$0(n)||String.isInstanceOfType(n))this.$U.setValue(n);else throw Error.create(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DevError.BadDataType.String"));},addOnChange:function(n){this.$U.addOnChange(n)},fireOnChange:function(){this.$U.fireOnChange()},getAttributeType:function(){return this.$U.getAttributeType()},getFormat:function(){return this.$U.getFormat()},getIsDirty:function(){return this.$U.getIsDirty()},getIsValid:function(){return this.$U.getIsValid()},isValid:function(){return this.getIsValid()},getName:function(){return this.$U.getName()},getKey:function(){return this.$U.getKey()},getParent:function(){return this.$U.getParent()},getRequiredLevel:function(){return this.$U.getRequiredLevel()},getSubmitMode:function(){return this.$U.getSubmitMode()},getUserPrivilege:function(){return this.$U.getUserPrivilege()},getValue:function(){return this.$U.getValue()},removeOnChange:function(n){this.$U.removeOnChange(n)},resetInitialValue:function(n){this.$U.resetInitialValue(n)},setRequiredLevel:function(n){this.$U.setRequiredLevel(n)},setSubmitMode:function(n){this.$U.setSubmitMode(n)}};Microsoft.Crm.Client.Core.ViewModels.$Hv=function(n,t){var i,r,u;this.$eD=n;this.$QL={};i=t;for(r in i)u={key:r,value:i[r]},this.$QL[u.key]=u.value;this.$298=[];this.$297=0;this.$2CU=[];this.$2CT=0};Microsoft.Crm.Client.Core.ViewModels.$Hv.prototype={$eD:null,$QL:null,$298:null,$297:0,$2CU:null,$2CT:0,addEventListener:function(n,t){this.$eD.addEventListener(n,t)},getBoundingBox:function(){var t=this.$eD.getBoundingBox(),n=new XrmUI.$Ig,i=this.$eD;return n.pageX=Number.parseInvariant(t.left.toString()),n.pageY=Number.parseInvariant(t.top.toString()),n.height=Number.parseInvariant(t.height.toString()),n.width=Number.parseInvariant(t.width.toString()),n.ctrlObject=i,n},getChildControls:function(){return Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.get_$6().$1zv(this.getKey())},getCtrlType:function(){return this.$QL.type.toString()},getCtrlObj:function(){return this.$eD},getKey:function(){return"id"in this.$QL&&!IsNull(this.$QL.id)?this.$QL.id.toString():"type"in this.$QL&&!IsNull(this.$QL.type)?this.$QL.type.toString():null},getProperties:function(){return this.$QL},isVisible:function(){return this.$eD.isVisible()},removeEventListener:function(n){this.$eD.removeEventListener(n)},triggerClick:function(){throw Error.notImplemented();}};Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper=function(){this.getControls=this.$3EQ;this.getAllChildControls=this.$3EP};Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.get_$6=function(){return Mscrm.InternalUtilities._Script.isNullOrUndefined(Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$C)&&(Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$C=new Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper,Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$C.$10n=new XrmUI.XrmUIControls,Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$C.$jZ=new XrmUI.XrmUIControls,XrmUI.Manager.ControlsData=Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$C),Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$C};Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.prototype={$10n:null,$jZ:null,registerControl:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.$Hv(n,t);"parentId"in t?this.$jZ.add(i):this.$10n.add(i)},$1zv:function(n){var t=this;return this.$jZ.getByFilter(function(t){var i=t.getProperties();return"parentId"in i&&!Mscrm.InternalUtilities._Script.isNullOrUndefined(i.parentId)&&i.parentId.toString()===n})},$3EP:function(){return this.$jZ},$3EQ:function(){return this.$10n},unRegisterControl:function(n){var l=this,r=this.$jZ.getByFilter(function(t){var u=t.getProperties(),f=n,r,i;for(r in f)if(i={key:r,value:f[r]},!(i.toString()in u)||u[i.toString()]!==n[i.toString()])return!1;return!0}),u,e,s;if(!Mscrm.InternalUtilities._Script.isNullOrUndefined(r)){if("id"in n){u=this.$1zv(n.id.toString());for(var f=u,h=f.length,t=0;t<h;++t)e=f[t],this.$jZ.remove(e)}for(var o=r,c=o.length,i=0;i<c;++i)s=o[i],this.$10n.remove(s)}}};Microsoft.Crm.Client.Core.ViewModels.$Rq=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$Rq.initializeBase(this,[n,t,i,r])};Microsoft.Crm.Client.Core.ViewModels.$Rq.prototype={getControlType:function(){return"webresource"}};Microsoft.Crm.Client.Core.ViewModels.$Nu=function(){Microsoft.Crm.Client.Core.ViewModels.$Nu.initializeBase(this);this.client=new Microsoft.Crm.Client.Core.ViewModels.$Nx};Microsoft.Crm.Client.Core.ViewModels.$Nu.prototype={$Hx:null,getOrgLcid:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di},getTimeZoneOffsetMinutes:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$PW+Microsoft.Crm.Client.Core.Framework.$h.$1HL(new Date,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9())},getOrgUniqueName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$mX},getUserId:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString();return $0.$0(n)?n:Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(n)},getUserLcid:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$DC},getUserRoles:function(){var t,n;if($0.$0(this.$Hx)){for(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=0;n<Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$Hx.length;n++)t.add(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$Hx[n].toString());this.$Hx=t.toArray()}return this.$Hx},getClientUrl:function(){var n=window.location.href,r=n.indexOf(window.location.pathname),t=n.substring(0,r),i;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.usepathbasedurls?(i=this.getOrgUniqueName(),t+"/"+i):t},getClientUrlForInteractioncentricDashboard:function(){var n=window.location.href,t=n.indexOf(window.location.pathname);return n.substring(0,t)},getVersion:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$TO},isCrmOnline:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.islive},isOnPremises:function(){return!this.isCrmOnline()},isOffice365:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.isosdporganization},prependOrgName:function(n){return String.format("/{0}{1}",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Ua,n)},getCurrentTheme:function(){return null},getQueryStringParameters:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();return $0.$0(n)||$0.$0(n.ui)||$0.$0(n.ui.$2)?null:n.ui.$2.$8e},getUserName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$CD},getIsAutoSaveEnabled:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$su},getIsTelemetryEnabled:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$14Y},getServerDatabaseVersion:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$2DT()},isKnowledgeManagementConfigured:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$1Ji},getCurrentAppUrl:function(){throw Error.notImplemented();},getCurrentAppName:function(){throw Error.notImplemented();},getCurrentAppProperties:function(){throw Error.notImplemented();},getAdvancedConfigSetting:function(){throw Error.notImplemented();}};Microsoft.Crm.Client.Core.ViewModels.$Nx=function(){Microsoft.Crm.Client.Core.ViewModels.$Nx.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Nx.prototype={getClient:function(){return"Mobile"},getClientState:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()?"Online":"Offline"},getFormFactor:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?1:Microsoft.Crm.Client.Core.Framework.$6.get_$3A()?3:2},isOffline:function(){return!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()}};Microsoft.Crm.Client.Core.ViewModels.$BW=function(){this.dispose=this.$5E;Microsoft.Crm.Client.Core.ViewModels.$BW.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$BW.$PF=function(n,t){var i=n.$5k,r;$0.$0(i.data)&&(r=new Microsoft.Crm.Client.Core.ViewModels.$4A(n,t),r.$2Z(),i.data=new Microsoft.Crm.Client.Core.ViewModels.$BW,i.data.entity=r,i.data.$kQ=r,i.data.$2=n)};Microsoft.Crm.Client.Core.ViewModels.$BW.prototype={$kQ:null,$2:null,$2Aq:function(n){$0.$0(this.entity)||this.$kQ.$2Aq(n)},$2zw:function(n){$0.$0(this.entity)||this.$kQ.$2zv(n)},$1jI:function(n){this.process=new Microsoft.Crm.Client.Core.ViewModels.$Nv(n)},addOnLoad:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$2KX(n)},blockAutoSave:function(){},removeOnLoad:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$30m(n)},getIsDirty:function(){return Microsoft.Crm.Client.Core.Models.$m.isInstanceOfType(this.$2.get_$1B())?this.$2.get_$1B().$CX():!1},setFormDirty:function(n){Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$2.get_$1B())?this.$2.get_$1B().isDirtySetByClient=n?1:2:Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.$2.get_$1B())&&(this.$2.get_$1B().isDirtySetByClient=n?1:2)},$5E:function(){$0.$0(this.$kQ)||(this.$kQ.$5E(),this.$kQ=null);$0.$0(this.process)||(this.process=null);this.$2=null},getIsValid:function(){return this.$2.$BY},isValid:function(){return this.getIsValid()},save:function(){var n,t,f,e,o,i,u,s,r,h,c;return!$0.$0(this.$2)&&this.$2.$g===12?null:(n=null,t=MscrmComponents.DeferredPromiseFactory(Xrm.SaveSuccessResponse,Xrm.SaveErrorResponse),Microsoft.Crm.Client.Core.Framework.$6.$4N)?(f=Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147093991),e="Xrm.Page.Data.Save is prohibited in Preview mode.",t.reject(new Xrm.SaveErrorResponse(-2147093991,f,e)),t.promise()):(this.$2.$g===5?this.$2.get_CanCreate()?(n=this.$2.$O0.$56(),o=this,n.add_$Qe(function(n){var i=o.$2.$Bz,r=$0.$0(i.$m)?null:Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(i.$m);t.reject(new Xrm.SaveErrorResponse(i.$m,r,n.$BO.message))})):t.resolve():(this.$2.$g===2||this.$2.$g===40||this.$2.$g===39)&&this.$2.$BY&&(i=1,this.$2.$g===39?(u={},u.SaveMode=i,n=this.$2.$HW.$B1(u),s=this,n.add_$Qe(function(n){var i=s.$2.$Bz,r=$0.$0(i.$m)?null:Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(i.$m);t.reject(new Xrm.SaveErrorResponse(i.$m,r,n.$BO.message))})):(r=this.$2.$5k.context.saveMode,$0.$0(r)||r===-1||(i=r,this.$2.$5k.context.saveMode=-1),n=this.$2.$HW.$B1(i),h=this,n.add_$Qe(function(n){var i=h.$2.$Bz,r=$0.$0(i.$m)?null:Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(i.$m);t.reject(new Xrm.SaveErrorResponse(i.$m,r,n.$BO.message))}))),$0.$0(n)||(c=this,n.add_$by(function(){t.resolve()}),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)),t.promise())},refresh:function(n){if(this.$2.$g===5)return n?this.save():null;if(this.$2.$g===2||this.$2.$g===40||this.$2.$g===39){var t=MscrmComponents.DeferredPromiseFactory(Xrm.SaveSuccessResponse,Xrm.SaveErrorResponse),u=this,i=function(n){t.resolve(n);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1kZ(new Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs(3))},f=this,r=function(n){var i=$0.$0(n.$m)?null:Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(n.$m),r=$0.$0(n.$yF)?null:n.$yF.message;t.reject(new Xrm.SaveErrorResponse(n.$m,i,r))};return this.$2.$g===39?this.$2.$vh(!1,!n).then(i,r):this.$2.$vh(!1,!n).then(i,r),t.promise()}return null},refreshAppointment:function(){return null}};Microsoft.Crm.Client.Core.ViewModels.$7m=function(){this.$$d_$2Ir=Function.createDelegate(this,this.$2Ir);this.$$d_$2Iq=Function.createDelegate(this,this.$2Iq);this.$rZ={};Microsoft.Crm.Client.Core.ViewModels.$7m.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$7m.$PF=function(n){var t=n.$5k;$0.$0(t.ui)&&(t.ui=new Microsoft.Crm.Client.Core.ViewModels.$7m,t.ui.$2=n,t.ui.controls=new Xrm.XrmControls,t.ui.tabs=new Xrm.XrmTabs,t.ui.tabNavigators=new Xrm.XrmTabNavigators,t.ui.formSelector=new Xrm.XrmControlFormSelectorWrapper,Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(n)&&(t.ui.taskProcess=new Microsoft.Crm.Client.Core.ViewModels.$Nz(n)))};Microsoft.Crm.Client.Core.ViewModels.$7m.prototype={$Xb:null,$1G1:null,$CQ:null,$2:null,$Ut:function(){var t=this,n;this.controls.forEach(function(n){Microsoft.Crm.Client.Core.ViewModels.$E7.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$D3.isInstanceOfType(n)||n.$Ut()});n=this;this.tabs.forEach(function(n){n.$Ut()})},$2zp:function(n,t){switch(t.ApiDescriptor.ControlType){case 2:this.$2mk(n,t);break;case 22:this.$2ml(n,t);break;case 23:this.$2mO(n,t);break;case 24:this.$2mP(n,t);break;case 21:this.$2mm(n,t);break;case 3:this.$2md(n,t);break;case 19:this.$2mg(n,t);break;case 4:case 10:case 11:case 27:case 16:this.$2me(n,t);break;case 9:this.$2mZ(n);break;case 1:case 5:case 6:case 7:case 15:case 18:case 14:case 25:case 17:case 20:this.$2m8(n,t);break;case 13:case 12:this.$2mp(n,t)}},$2As:function(n,t){var f=t.ApiDescriptor.ParentName,i=this.controls.getByName(f),u,r;if(!$0.$0(i)&&Microsoft.Crm.Client.Core.ViewModels.$Bv.isInstanceOfType(i))if(u=i,t.ApiDescriptor.ControlType!==14)if(r=u.$93,$0.$0(r))throw Error.invalidOperation("Cannot register a non-custom control child of this container without first registering the custom control child");else r.$Fh(n,t.ApiDescriptor.EditMode);else{r=this.$200(n,t.ApiDescriptor);u.$2K5(r);return}else($0.$0(i)||!Microsoft.Crm.Client.Core.ViewModels.$Bx.isInstanceOfType(i))&&Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,"Parent cannot be found or is not a custom control")},close:function(){Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10c(this.$2):Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)?this.$2.$QG():Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)?this.$2.$33r():Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1gV(!1)},getViewPortHeight:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.$20r().height():0},getViewPortWidth:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.$20r().width():0},refreshRibbon:function(){$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())||$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$10e())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.forceRuleEvaluation()},getFormType:function(){return Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)?1:this.$2.$6i===1?1:Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)?12:Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$2.get_ModelContext())&&this.$2.get_ModelContext().get_$sz()?4:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$2.$D,2)?2:3},getCurrentControl:function(){for(var n,r,u=this.controls.get(),i=u,f=i.length,t=0;t<f;++t)if(n=i[t],Microsoft.Crm.Client.Core.ViewModels.$9i.isInstanceOfType(n)&&(r=n,r.$1cB()))return n;return null},setFormEntityName:function(){},setFormNotification:function(n,t,i){var r,u;if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2))return!1;if(Microsoft.Crm.Client.Core.Framework.$3.$9(i)&&(i=this.$2iU()),r=0,t)switch(t.toUpperCase()){case"INFO":r=1;break;case"WARNING":r=2;break;case"ERROR":r=3;break;case"LOCALSAVE":r=4;break;default:r=0}return u=null,i==="SaveDuplicate"&&(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$EZ)),u.$3w(new Microsoft.Crm.Client.Core.ViewModels.$DR("abc",this.$$d_$2Iq)),u.$3w(new Microsoft.Crm.Client.Core.ViewModels.$DR("xyz",this.$$d_$2Ir))),Microsoft.Crm.Client.Core.Framework.$6.get_$f()?Microsoft.Crm.Client.Core.ViewModels.$10.$My(n):Microsoft.Crm.Client.Core.ViewModels.$10.$wc(n,r,i,u,8192)},setFormHtmlNotification:function(){return!1},$2Iq:function(){Microsoft.Crm.Client.Core.ViewModels.$14.$17u("Action1","Action1")},$2Ir:function(){Microsoft.Crm.Client.Core.ViewModels.$14.$17u("Action2","Action2")},clearFormNotification:function(n){return Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)?!1:Microsoft.Crm.Client.Core.Framework.$6.get_$f()?Microsoft.Crm.Client.Core.ViewModels.$10.$2Ox():Microsoft.Crm.Client.Core.ViewModels.$10.$Lc(n)},removeCurrentControlFocus:function(){var n=this.getCurrentControl();$0.$0(n)||Microsoft.Crm.Client.Core.ViewModels.$9i.isInstanceOfType(n)&&n.$1lK(!1)},$5E:function(){if(Xrm.XrmFormUI.prototype.$5E.call(this),this.$2=null,!$0.$0(this.controls)){var n=this;this.controls.forEach(function(n){n.$5E()})}},$20r:function(){return $(".InteractionCentricFormBody",window.document.body)},$2mk:function(n,t){var r=t.ApiDescriptor,i;i=Microsoft.Crm.Client.Core.Framework.$6.get_$f()?new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R6(n,r.ControlName,this):new Microsoft.Crm.Client.Core.ViewModels.$R2(n,r.ControlName,this);this.tabs.add(i);this.$Xb=i;this.$CQ=null;Microsoft.Crm.Client.Core.ViewModels.$2u.isInstanceOfType(n)&&n.get_HasFocus()&&(this.$1G1=i)},$2ml:function(n,t){var i=t.ApiDescriptor,r=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QS(n,i.ControlName,this);this.tabNavigators.add(r)},$2mm:function(n,t){var r=t.ApiDescriptor,i=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QT(n,this);this.tabNavigatorGroup=i},$2mO:function(n,t){this.navigation=new Microsoft.Crm.Client.Core.ViewModels.$Ml(n,!1,t.Name,null,null)},$2mP:function(n,t){this.navigation&&(this.navigation.items.getByName(t.Name)&&this.navigation.items.remove(this.navigation.items.getByName(t.Name)),this.navigation.items.add(new Microsoft.Crm.Client.Core.ViewModels.$Mh(n,!1,t.Name,null,null)))},$2md:function(n,t){var r=t.ApiDescriptor,i=new Microsoft.Crm.Client.Core.ViewModels.$Qh(n,r.ControlName,this.$Xb,t);$0.$0(this.$Xb)||this.$Xb.sections.add(i);this.$CQ=i},$2m8:function(n,t){var i=t.ApiDescriptor,u=i.ControlName,r,f,e;i.ControlName=i.ControlName+($0.$0(this.$rZ[u])?"":this.$rZ[u]);i.EditMode?this.$1dM(n,i):(r=this.controls.get(i.ControlName),!$0.$0(r)&&$0.$0(r.get_$1Ni())?i.ControlType===14?(f=r.get_$8D(),$0.$0(this.$CQ)||this.$CQ.controls.remove(r),this.controls.remove(r),e=this.$1dM(n,i),e.$Fh(f,!0)):r.$Fh(n,i.EditMode):this.$1dM(n,i),this.$rZ[u]=u in this.$rZ?this.$rZ[u]+1:1)},$1dM:function(n,t){var i=this.$200(n,t);return $0.$0(this.$CQ)||this.$CQ.controls.add(i),this.controls.add(i),i},$2mg:function(n,t){var e=t.ApiDescriptor,u="",f="",i,r;$0.$0(t.ControlProperties)||("LogicalTabParent"in t.ControlProperties&&(u=t.ControlProperties.LogicalTabParent),"LogicalSectionParent"in t.ControlProperties&&(f=t.ControlProperties.LogicalSectionParent));i=new Microsoft.Crm.Client.Core.ViewModels.$D3(n,e.ControlName,u,f);$0.$0(i)||(r=i.getParent(),$0.$0(r)||r.controls.add(i),this.controls.add(i))},$200:function(n,t){switch(t.ControlType){case 5:return new Microsoft.Crm.Client.Core.ViewModels.$Rl(n,t.EditMode,t.ControlName,t.FieldName,this.$CQ);case 6:return new Microsoft.Crm.Client.Core.ViewModels.$Ro(n,t.EditMode,t.ControlName,t.FieldName,this.$CQ);case 7:return new Microsoft.Crm.Client.Core.ViewModels.$Rv(n,t.EditMode,t.ControlName,t.FieldName,this.$CQ);case 15:return new Microsoft.Crm.Client.Core.ViewModels.$Rf(n,t.EditMode,t.ControlName,t.FieldName,this.$CQ);case 18:return new Microsoft.Crm.Client.Core.ViewModels.$RD(n,t.EditMode,t.ControlName,t.FieldName,this.$CQ);case 14:return new Microsoft.Crm.Client.Core.ViewModels.$Bx(n,t.EditMode,t.ControlName,t.FieldName,this.$CQ);case 25:return new Microsoft.Crm.Client.Core.ViewModels.$Bv(n,t.ControlName,t.FieldName,this.$CQ);case 17:return new Microsoft.Crm.Client.Core.ViewModels.$RE(n,t.EditMode,t.ControlName,t.FieldName,this.$CQ);case 20:return new Microsoft.Crm.Client.Core.ViewModels.$RH(n,t.EditMode,t.ControlName,t.FieldName,this.$CQ);case 1:return new Microsoft.Crm.Client.Core.ViewModels.$Rh(n,t.EditMode,t.ControlName,t.FieldName,this.$CQ);default:return new Microsoft.Crm.Client.Core.ViewModels.$Ra(n,t.EditMode,t.ControlName,t.FieldName,this.$CQ)}},$2me:function(n,t){var e=t.ApiDescriptor,u="",f="",i,r;$0.$0(t.ControlProperties)||("LogicalTabParent"in t.ControlProperties&&(u=t.ControlProperties.LogicalTabParent),"LogicalSectionParent"in t.ControlProperties&&(f=t.ControlProperties.LogicalSectionParent));i=this.$2j8(n,e,u,f);$0.$0(i)||(r=i.getParent(),$0.$0(r)||r.controls.add(i),this.controls.add(i))},$2j8:function(n,t,i,r){switch(t.ControlType){case 4:return new Microsoft.Crm.Client.Core.ViewModels.$RW(n,t.ControlName,i,r,t.ChildListName);case 10:return new Microsoft.Crm.Client.Core.ViewModels.$Rk(n,t.ControlName,i,r);case 27:return new Microsoft.Crm.Client.Core.ViewModels.$RR(n,t.ControlName,i,r);case 11:return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$FN.$3F5("4156db68-93e2-4a83-8cbb-5bb344ebaf47")?new Microsoft.Crm.Client.Core.ViewModels.$Rq(n,t.ControlName,i,r):null;case 16:return new Microsoft.Crm.Client.Core.ViewModels.$Rp(n,t.ControlName,i,r,t.ChildListName);default:return null}},$2mZ:function(n){this.process=new Microsoft.Crm.Client.Core.ViewModels.$Nw(n)},$2mp:function(n,t){var r=t.ApiDescriptor,i=this.$2k7(n,r);$0.$0(this.$CQ)||this.$CQ.controls.add(i);this.controls.add(i)},$2k7:function(n,t){switch(t.ControlType){case 12:return new Microsoft.Crm.Client.Core.ViewModels.$RZ(n,t.ControlName,this.$CQ);case 13:return new Microsoft.Crm.Client.Core.ViewModels.$E7(n,t.ControlName,this.$CQ)}return null},$2iU:function(){var n=Math.random();return"Random_String_"+n},movePrevious:function(){throw Error.create("Not implemented");},moveTo:function(){throw Error.create("Not implemented");},getDefaultNextPageName:function(){throw Error.create("Not implemented");}};Microsoft.Crm.Client.Core.ViewModels.$Nz=function(n){Microsoft.Crm.Client.Core.ViewModels.$Nz.initializeBase(this);this.$x6=n};Microsoft.Crm.Client.Core.ViewModels.$Nz.prototype={$x6:null,getCurrentPageName:function(){return this.$x6.get_CurrentActivePage().$v2},getDefaultNextPageName:function(){return this.$x6.get_CurrentActivePage().$1Ec},movePrevious:function(){this.$x6.back()},moveTo:function(n){this.$x6.open(n)}};Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper=function(n){this.addRecord=this.$2Ko;this.refreshRibbon=this.$3EM;this.addCustomFilter=this.$1ou;this.getGridType=this.$3EN;this.getUrl=this.$3EO;this.$1X=n};Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper.prototype={$1X:null,$2Ko:function(){if(Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$1X))if(this.$1X.$hz){var n=this.$1X.$18i;$0.$0(n)||n.set_FlyOutExpanded(!0)}else Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1X.$52)||this.$1X.$Jk===14?this.$1X.addCommand.execute():this.$1X.get_AddExistingCommand().execute()},openAssociatedGrid:function(){Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$1X)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1X.$88)&&this.$1X.$UV.execute()},openRelatedGrid:function(){throw Error.notImplemented("This is for use only in web client.");},refresh:function(){this.$1X.$Rr()},getCellValue:function(n,t){for(var u,f,i,r=0;r<this.$1X.$2n.get_$CZ().get_Count();r++)if(u=this.$1X.$2n.get_$CZ().get_$R(r),f=u.get_$2m(),t===f&&(i=u.GetValue(n),!$0.$0(i)))return Object.getType(i)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x?i.get_$cW():i.toString();return null},getRelationshipName:function(){var n=this.$1X.$52;return $0.$0(n)?"":n},getRelationshipAttributeName:function(){return this.$1X.$6c},getRelationshipRoleOrdinal:function(){return this.$1X.$9A},getRelationshipType:function(){return this.$1X.$5T},getFetchXml:function(){throw Error.notImplemented("The method or operation is not implemented.");},getGrid:function(){return new Xrm.XrmControlGridWrapper(this.$1X)},getChart:function(){return new Xrm.XrmChartWrapper(this.$1X)},addOnLoad:function(n){var t=new Microsoft.Crm.Client.Core.Models.Constants.$JV,i,r,u;t.passExecutionContext=!0;t.method=n;i=this.$1X.get_$5x().get_$1hK();$0.$0(i)?(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV))([t]),r=new Microsoft.Crm.Client.Core.Models.$JM(u,null),r.details=new Microsoft.Crm.Client.Core.Models.$J7(9,this.$1X.$L),this.$1X.get_$5x().set_$1hK(r)):i.handlers.add(t)},removeOnLoad:function(n){var t=this.$1X.get_$5x().get_$1hK(),i;if(!$0.$0(t)&&!$0.$0(t.handlers))for(i=0;i<t.handlers.get_Count();i++)if(t.handlers.get_$R(i).method===n){t.handlers.remove(t.handlers.get_$R(i));break}},getRelationship:function(){var n=new Xrm.XrmEntityRelationship;return n.name=this.getRelationshipName(),n.attributeName=this.getRelationshipAttributeName(),n.relationshipType=this.getRelationshipType(),n.roleType=this.getRelationshipRoleOrdinal(),n},getViewSelector:function(){return new Xrm.XrmViewSelectorWrapper(this.$1X)},getEntityName:function(){return this.$1X.$D},$3EM:function(){throw Error.notImplemented("The method or operation is not implemented.");},$1ou:function(){throw Error.notImplemented("The method or operation is not implemented.");},$3EN:function(){throw Error.notImplemented("The method or operation is not implemented.");},$3EO:function(){throw Error.notImplemented("The method or operation is not implemented.");},exportToExcel:function(){},SetParameter:function(){},addButtonClickHandler:function(){},GetParameter:function(){return null},GetRecordsFromInnerGrid:function(){return null}};Microsoft.Crm.Client.Core.ViewModels.$2O=function(){};Microsoft.Crm.Client.Core.ViewModels.$2O.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$2O.$3)&&(Microsoft.Crm.Client.Core.ViewModels.$2O.$3=new Microsoft.Crm.Client.Core.ViewModels.$2O),Microsoft.Crm.Client.Core.ViewModels.$2O.$3};Microsoft.Crm.Client.Core.ViewModels.$2O.$1va=function(n,t){var i=null,u,f,r,e,o;if(Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O.isInstanceOfType(t)&&(f=t.$1Rg(u={val:i}),i=u.val,f))return i;if(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(t)){if(n===2)return t.get_$1u();if(n===1){if(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(t)){if(r=t.get_$Kc(),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O.isInstanceOfType(t)&&(o=t.$1Rg(e={val:i}),i=e.val,o))return i}else r=t.get_$AH().get_$Kc();if(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(r))return r.$D}}else if((n===1||n===2)&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t))return t.get_$1u();return"none"};Microsoft.Crm.Client.Core.ViewModels.$2O.$2VH=function(n){return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(n)?n.$D:"none"};Microsoft.Crm.Client.Core.ViewModels.$2O.$1sf=function(n){var t;switch(n){case 1:t=0;break;case 2:t=1;break;case 4:t=2;break;case 8:t=3;break;case 16:t=7;break;case 32:t=6;break;case 64:t=4;break;case 128:t=5;break;default:t=1}return t};Microsoft.Crm.Client.Core.ViewModels.$2O.$1sg=function(n){return($0.$0(n)||n===-1)&&(n=0),n};Microsoft.Crm.Client.Core.ViewModels.$2O.prototype={get_$Y:function(){return Microsoft.Crm.Client.Core.Framework.$q.$4t("","RuleEvaluator")},$1FM:function(n,t){return $0.$0(n)||$0.$0(n.Rules)||!n.Rules.length?MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7).resolve(!0):this.$1vb(n.Rules,t)},$2Vb:function(n,t){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i=null,u;if($0.$1Y(n))return r.resolve(!1);switch(n.RuleType){case 8:i=this.$2VF(n);break;case 1:i=this.$2VL(n,t);break;case 7:i=this.$2VO(n,t);break;case 4:i=this.$2VQ(n,t);break;case 16:i=this.$2VS(n);break;case 2:i=this.$2VU(n,t);break;case 10:i=this.$2VW(n);break;case 19:i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7).resolve(n.DefaultValue);break;case 17:i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7).resolve(!1);break;case 12:i=this.$2VY(n);break;case 6:i=this.$2VJ(n,t);break;case 5:i=this.$2Ve(n);break;case 11:i=this.$2Vf(n);break;case 3:i=this.$2Vi(n,t);break;case 26:i=this.$2VG(n);break;case 31:i=this.$2VI(n);break;case 15:i=this.$2VK(n,t);break;case 21:i=this.$2VN(n,t);break;case 9:i=this.$2VV(n);break;case 18:i=this.$2VX(n);break;case 23:i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7).resolve(!1);break;case 13:i=this.$2VR(n);break;case 22:i=this.$2VZ(n,t);break;case 20:i=this.$2Va(n,t);break;case 24:i=this.$2VT(n,t);break;case 35:i=this.$2VM(n,t);break;case 25:i=this.$2VP(n,t);break;default:i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7).resolve(!0)}return $0.$1Y(i)&&(i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7)),u=this,i.done(function(t){$0.$1Y(t)&&(t=$0.$1Y(n.DefaultValue)?!0:n.DefaultValue);!$0.$1Y(n.InvertResult)&&n.InvertResult&&(t=!t);r.resolve(t)}),r.promise()},$1vb:function(n,t){for(var f,i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),u=n.length,r=0;r<n.length;r++)f=this,this.$2Vb(n[r],t).done(function(n){n?--u||i.resolve(!0):i.resolve(!1)});return i.promise()},$2VU:function(n,t){for(var f,i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),u=n.OrGroups.length,r=0;r<n.OrGroups.length;r++)f=this,this.$1vb(n.OrGroups[r].Rules,t).done(function(n){n?i.resolve(!0):--u||i.resolve(!1)});return i.promise()},$2VQ:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluating JavascriptRulePart Function name: {0} - Library: {1}",n.FunctionName,n.Library),Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1Zl(n.FunctionName,n.Library,n.Parameters,t,null,i),i.promise()},$2VF:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return t.resolve(n.ClientType===1)},$2Ve:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i=0;return $0.$0(n.Minimum)||(i=n.Minimum),Microsoft.Crm.Client.Core.Framework.$6.get_$f()?t.resolve(!0):t.resolve(i<2),t},$2VO:function(n,t){var c=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),r=n.DefaultValue,i,o,s,f,h,u,e;switch(n.FormState){case 2:case 4:i=-1;Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O.isInstanceOfType(t)&&(s=t.$3AJ(o={val:i}),i=o.val,s)?(f=n.FormState===2?0:1,r=f===i||f===1&&i>=f):(h=Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(t)?t:t.get_Root(),u=h.get_ModelContext(),$0.$0(u)||$0.$0(u.$I)||$0.$0(u.$I.getValue("statecode"))?r=!1:Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Xrm.Page.data.entity.getEntityName().toLowerCase()==="email"&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)?r=t.$6i===n.FormState:(e=n.FormState===2?0:1,i=u.$I.getValue("statecode").$1s,r=e===i||e===1&&i>=e));break;case 1:r=Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(t)?!0:Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O.isInstanceOfType(t)?t.get_$2ni():!1;break;case 9:case 3:case 7:case 6:case 0:r=!1}return c.resolve(r)},$2Vf:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return t.resolve(!!(n.SkuTypes&2))},$2VN:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),r=null,u,f;return Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O.isInstanceOfType(t)&&(f=t.$1Rg(u={val:r}),r=u.val,f)?i.resolve(r===n.EntityLogicalName):Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)?i.resolve(t.$D===n.EntityLogicalName):!$0.$0(t.get_Root())&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t.get_Root())?i.resolve(t.get_Root().$D===n.EntityLogicalName):i.resolve(n.DefaultValue)},$2Vi:function(n,t){var o=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),u,s,h,c,l,f,a,e,i,r;return Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O.isInstanceOfType(t)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(n.Value)&&((u=null,n.Field.toLowerCase()==="statecode"&&(h=t.$3AK(s={val:u}),u=s.val,h))||n.Field.toLowerCase()==="statuscode"&&(l=t.$3AL(c={val:u}),u=c.val,l))?o.resolve(u.toLowerCase()===n.Value.toLowerCase()):(f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)&&(a=t,e=a.get_ModelContext(),!$0.$0(e)&&!$0.$0(e.$I)&&(i=null,$0.$0(f.data)||$0.$0(f.data.entity)?i=e.$I.getValue(n.Field):(r=f.data.entity.attributes.get(n.Field),$0.$0(r)||(Microsoft.Crm.Client.Core.ViewModels.$De.isInstanceOfType(r)?(i=r.getInvariantText(),i.toString()!==n.Value&&(i=r.getSelectedOption().text,i.toString()!==n.Value&&(i=r.getSelectedOption().value))):i=Microsoft.Crm.Client.Core.ViewModels.$Be.isInstanceOfType(r)?r.getValue()?1:0:r.getValue())),!$0.$0(i))))?o.resolve(i.toString()===n.Value):o.resolve(n.DefaultValue)},$255:function(n){return Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.isInstanceOfType(n)&&n.$78},$2VL:function(n,t){var r=n.AppliesTo,e,h,c,l,o,s;(IsNull(r)||!r)&&(r=1);var u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i=null,f=null;return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O.isInstanceOfType(t)&&t.get_$2o5()?f="Form":(this.$255(t)||Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(t)&&this.$255(t.get_$AH()))&&(f="HomePageGrid"),r===1?Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)&&(i=t.$D):r===2&&(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(t))&&(i=t.$D),e=null,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O.isInstanceOfType(t)&&(c=t.$1Rg(h={val:e}),e=h.val,c)&&(i=e),l=IsNull(n.EntityLogicalName)||!n.EntityLogicalName.length||(n.EntityLogicalName==="listmember"?i==="account"||i==="contact"||i==="lead":i===n.EntityLogicalName),o=IsNull(n.EntityContextName)||!n.EntityContextName.length||f===n.EntityContextName,l?u.resolve(o):(n.EntityLogicalName==="activitypointer"&&f==="HomePageGrid"&&(s=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(i),$0.$0(s)?u.resolve(n.DefaultValue):u.resolve(s.get_$7g()&&o)),u.resolve(!1)),u.promise()},$2VR:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),u=n.PrivilegeName,i,r;return u.toLowerCase()==="osdp"?t.resolve(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.isosdporganization):(i=new Microsoft.Crm.Client.Core.Framework.Guid(n.PrivilegeId),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$FN.get_$R(i.toString()),$0.$0(r)?t.resolve(!1):n.PrivilegeDepth===-1?t.resolve(!0):t.resolve(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1d2(i,n.PrivilegeDepth))),t.promise()},$2VS:function(n){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t=n.DefaultValue;return t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?n.OfflineAccessState===1:n.OfflineAccessState===2,i.resolve(t)},$2VZ:function(n,t){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i=t;return Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(i)&&!$0.$0(i.$lU)?r.resolve(i.$lU):r.resolve(n.DefaultValue)},$2VY:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return t.resolve(n.Address===Microsoft.Crm.Client.Core.Framework.$1T.$d("location"))},$2VK:function(n,t){var u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),f=null,i,r;if(f=Microsoft.Crm.Client.Core.Framework.$3.$9(n.EntityLogicalName)?Microsoft.Crm.Client.Core.ViewModels.$2O.$1va(n.AppliesTo,t):n.EntityLogicalName,f==="none")u.resolve(n.DefaultValue);else if(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(f),$0.$0(i))Microsoft.Crm.Client.Core.Framework.Trace.logError(139,"Unable to retrieve entity metadata for entity [{0}].",f),u.resolve(n.DefaultValue);else{r=n.PropertyValue;switch(n.PropertyName){case 5:r=i.$1KM;break;case 4:r=i.$KB;break;case 1:r=i.$1Jr;break;case 2:r=i.$1JE||i.$y==="activitypointer";break;case 6:r=i.$1JF;break;case 8:r=i.get_$7g()||i.$y==="activitypointer";break;case 10:r=i.$1JG;break;case 11:r=i.$13p;break;case 13:r=i.$G4;break;case 14:r=i.$1Jf;break;case 15:r=i.$1JR}u.resolve(n.PropertyValue===r)}return u},$2VV:function(n){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I,t=!0;switch(n.Setting){case 2:t=i.$1KG;break;case 3:t=i.$11z!==new Date(0,0,1)}return r.resolve(t)},$2VJ:function(n,t){var u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i=null,r,f,e;return i=Microsoft.Crm.Client.Core.Framework.$3.$9(n.EntityLogicalName)?Microsoft.Crm.Client.Core.ViewModels.$2O.$1va(n.AppliesTo,t):n.EntityLogicalName,i==="none"?u.resolve(!1):(r=t.get_Root(),$0.$0(r)||$0.$0(r.get_ModelContext())||n.AppliesTo!==1||i!==r.get_ModelContext().get_ModelName()?(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluating privileges for entity: {0}.  PrivilegeType: {1}. PrivilegeDepth: {2}",i,n.PrivilegeType,n.PrivilegeDepth),e=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$1eX(i,Microsoft.Crm.Client.Core.ViewModels.$2O.$1sf(n.PrivilegeType),Microsoft.Crm.Client.Core.ViewModels.$2O.$1sg(n.PrivilegeDepth)),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Privileges for entity: {0}.  PrivilegeType:{1}. PrivilegeDepth: {2}. Evaluated to: {3}",i,n.PrivilegeType,n.PrivilegeDepth,e),u.resolve(e)):(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluating model privileges for entity: {0}.  PrivilegeType: {1}. PrivilegeDepth: {2}. ",i,n.PrivilegeType,n.PrivilegeDepth),f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$24Y(i,r.get_ModelContext(),Microsoft.Crm.Client.Core.ViewModels.$2O.$1sf(n.PrivilegeType),Microsoft.Crm.Client.Core.ViewModels.$2O.$1sg(n.PrivilegeDepth)),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Privileges for entity: {0}.  PrivilegeType: {1}. PrivilegeDepth: {2}. Evaluated to: {3}",i,n.PrivilegeType,n.PrivilegeDepth,f),u.resolve(f))),u},$2VW:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return t.resolve(!n.OutlookClientType)},$2VX:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return t.resolve(n.RenderType===1)},$2VG:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return t.resolve(n.ClientType===1)},$2VI:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Core.Framework.$6.get_$3A()?t.resolve(n.Type===1):Microsoft.Crm.Client.Core.Framework.$6.get_$f()?t.resolve(n.Type===5):t.resolve(n.Type===2)},$2Va:function(n,t){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i;if($0.$0(n.RelationshipType))return r.resolve(!0);if(i=t,Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(i)||(i=t.get_$AH()),Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(i))if(n.RelationshipType||i.$5T!==-1)if(n.RelationshipType!==1||i.$5T){if(n.RelationshipType===2&&i.$5T===1)return r.resolve(!0)}else return r.resolve(!0);else return r.resolve(!0);return r.resolve(!1)},$2VT:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),r=Microsoft.Crm.Client.Core.ViewModels.$2O.$2VH(t),u,f;return r==="none"?i.resolve(n.DefaultValue):(u=this,f=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(r,["statuscode"]),this.get_$Y()).then(function(t){var r=0,h=t.get_$R(0).get_$9r(),e=h.$21,u,o,f,s;for(u in e)if(o={key:u,value:e[u]},f=o.value.getValue(Microsoft.Crm.Client.Core.Framework.$U.$Bg),$0.$0(f))continue;else if(s=f,n.StateCode===s&&(r++,r>1))break;i.resolve(r===1)},function(){Microsoft.Crm.Client.Core.Framework.Trace.logError(139,"Unable to retrieve attribute metadata for entity [{0}].",r);i.resolve(n.DefaultValue)})),i},$2VM:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return t.resolve(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName(n.FeatureControlBit)===n.ExpectedValue)},$2VP:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return t.resolve(n.FormType===12&&Microsoft.Crm.Client.Core.Framework.$6.get_$f())}};Microsoft.Crm.Client.Core.ViewModels.$Ba=function(){this.$$d_$2t2=Function.createDelegate(this,this.$2t2);this.$$d_$2u2=Function.createDelegate(this,this.$2u2);Microsoft.Crm.Client.Core.ViewModels.$Ba.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Ba.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ba.prototype={$5R:!1,get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n,this.$7("HasFocus")),n},$oK:null,get_ConstituentCompositeControls:function(){return this.$oK},set_ConstituentCompositeControls:function(n){return this.$oK=n,n},$xy:null,get_$2AD:function(){return this.$1g.$GM},$1mM:null,get_$Dt:function(){return this.$1mM},$2Z:function(){this.$2Am();this.set_ActionCommand(new Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand(this.get_$Dt()));this.AddPropertyChangedListener("Visible",this.$$d_$2u2);this.AddPropertyChangedListener("UseHiddenMask",this.$$d_$2u2);$0.$0(this.$2)||this.$2.AddPropertyChangedListener(this.$xy,this.$$d_$2t2);Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this)},$Oh:function(){$0.$0(this.$2)||this.$2.RemovePropertyChangedListener(this.$xy,this.$$d_$2t2);Microsoft.Crm.Client.Core.ViewModels.$EO.prototype.$Oh.call(this)},$2t2:function(){var n=this.$1g;this.$2Am();n.set_$Dt(this.get_$Dt())},$2Am:function(){for(var r,n,i="",t=0;t<this.$oK.length;t++)r=this.$oK[t].split("_").pop(),Microsoft.Crm.Client.Core.Models.Descriptors.$n.$2IA.contains(r)&&(n=this.$2.$67(this.$oK[t]+"_readonly"),$0.$0(n)||!n.$4u||n.$ND||$0.$0(n.get_Data())||(i+=n.get_Data().toString()+" "));this.$1mM=CrmEncodeDecode.CrmUrlEncode(i)},$KZ:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$EO.prototype.$KZ.call(this,n,t);this.$2.$7(this.$xy)},$2u2:function(){this.$2.$7(this.$xy)}};Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel=function(){this.$$d_$2sj=Function.createDelegate(this,this.$2sj);this.$$d_$28Q=Function.createDelegate(this,this.$28Q);Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel.prototype={$1CF:null,$JD:null,$52:null,$5T:0,$9A:0,$6c:null,$FJ:null,$MW:!1,$1CE:null,get_AssociateLookupViewModel:function(){return this.$1CE},set_AssociateLookupViewModel:function(n){return this.$1CE=n,n},get_RelatedReference:function(){return this.$FJ},set_RelatedReference:function(n){return this.$FJ=n,n},add_$2zZ:function(n){this.$1p("RecordsAssociated",n)},get_ParentId:function(){return this.$K.$M.ParentId},get_$31Y:function(){return!0},$2sj:function(){this.$l4("RecordsAssociated");this.$QG()},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$CK.call(this,n,t);t.AddPropertyChangedListener("Data",this.$$d_$28Q);this.$9j("SetLookupInRoot")},$28Q:function(n){var t=n;this.$FJ=t.get_Data();$0.$0(this.$FJ)||$0.$0(this.$1CF)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(this.$1CF.$56());this.$MW=t.$MW}};Microsoft.Crm.Client.Core.ViewModels.$Db=function(){this.$$d_$2sw=Function.createDelegate(this,this.$2sw);Microsoft.Crm.Client.Core.ViewModels.$Db.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Db.prototype={$CK:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype.$CK.call(this,n,t),this.$1kW())if(n==="notetext_edit")t.AddPropertyChangedListener("Value",this.$$d_$2sw),this.$1nI();else if(n==="AttachmentsControlViewModel"&&Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.isInstanceOfType(t)){var i=t;$0.$0(i.get_AttachmentItemViewModel())||i.get_AttachmentItemViewModel().AddPropertyChangedListener("Title",this.$$d_$2sw)}},$16q:function(n){if(this.$1kW())if(n.get_Name()==="notetext_edit")n.rpcl("Value",this.$$d_$2sw),this.$1nI();else if(n.get_Name()==="AttachmentsControlViewModel"&&Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.isInstanceOfType(n)){var t=n;$0.$0(t.get_AttachmentItemViewModel())||t.get_AttachmentItemViewModel().RemovePropertyChangedListener("Title",this.$$d_$2sw)}Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$16q.call(this,n)},$Oh:function(){var t=this.$H.notetext_edit,n;$0.$0(t)||t.RemovePropertyChangedListener("Value",this.$$d_$2sw);n=this.$H.AttachmentsControlViewModel;$0.$0(n)||$0.$0(n.get_AttachmentItemViewModel())||n.get_AttachmentItemViewModel().RemovePropertyChangedListener("Title",this.$$d_$2sw);Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype.$Oh.call(this)},$1kW:function(){return!$0.$0(this.$2)&&this.$2.$D==="annotation"},$2sw:function(){this.$1nI()},$1nI:function(){var n;if(this.$1kW()){var t=null,i=null,r=this.$H.notetext_edit;$0.$0(r)||(t=r.$IP);n=this.$H.AttachmentsControlViewModel;$0.$0(n)||$0.$0(n.get_AttachmentItemViewModel())||(i=n.get_AttachmentItemViewModel().get_Title());this.$2.set_$2oZ(!Microsoft.Crm.Client.Core.Framework.$3.$12(t)||!Microsoft.Crm.Client.Core.Framework.$3.$12(i))}}};Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel=function(){this.$$d_$1hW=Function.createDelegate(this,this.$1hW);this.$$d_$1kX=Function.createDelegate(this,this.$1kX);this.$$d_$mQ=Function.createDelegate(this,this.$mQ);this.$dj=new Array(0);this.$S7=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x("",0,0,-1,null,null,null);Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.$2eN=function(n,t){var i,r;if(!$0.$0(n.$LO)&&n.$LO.length>0)return n.$LO;for(i=0;i<t.length;++i)if(r=t[i],r.$1s===n.$1s)return r.$LO;return null};Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.prototype={$16a:null,get_StateCode:function(){return this.$S7},set_StateCode:function(n){return $0.$0(n)||this.$S7===n||(this.$S7=n,this.set_ItemsList(this.$1cA()),this.$P4&&this.get_ItemsList().length>=1&&(this.$S7.$Xr!==-1?this.set_SelectedItem(this.get_ItemsList()[0].get_ValueString()):this.set_SelectedItem(this.get_ItemsList()[0].get_ValueString())),this.$7("StateCode")),n},$1hW:function(n,t,i){this.$P4||(this.$dj=n,n=this.$1cA(),Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$1hW.call(this,n,!1,i),n.length>=1&&this.set_SelectedItem(n[0].get_ValueString()))},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$2Z.call(this);this.$16a=this.$$d_$mQ;!$0.$0(this.$2)&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$2.get_ModelContext())?this.$2.get_ModelContext().add_$7v(this.$16a):Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.$2.add_$FD(this.$$d_$1kX)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$Oh.call(this);this.$2.remove_$FD(this.$$d_$1kX);!$0.$0(this.$2)&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$2.get_ModelContext())&&this.$2.get_ModelContext().remove_$7v(this.$16a)},$1kX:function(){this.$2.get_ModelContext().add_$7v(this.$16a)},$1cA:function(){var e,n,f,t,i,r,u,o;if(!this.$dj||this.$dj.length<=0)return new Array(0);if(e=Xrm.Utility.areStateTransitionsEnforced(this.$2.$D),e){if($0.$0(this.get_Data())||!Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(this.get_Data()))throw Error.argument("StatusCode","Status dropdownlist doesn't have a valid currently selected value.");if(n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x)),f=this.get_Data(),n.add(f),t=Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.$2eN(f,this.$dj),t)for(i=0;i<t.length;i++)for(r=0;r<this.$dj.length;r++)u=this.$dj[r],u.$t===this.$S7.$1s&&u.$1s===t[i]&&n.add(u);return n.toArray()}return o=this,$.grep(this.$dj,function(n){return n.$t===o.$S7.$1s})},$mQ:function(){this.set_ItemsList(this.$1cA())}};Microsoft.Crm.Client.Core.ViewModels.$CI=function(){Microsoft.Crm.Client.Core.ViewModels.$CI.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$CI.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$CI.prototype={$5R:!1,get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n,this.$7("HasFocus")),n},get_$2AD:function(){return"mailto:"}};Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel=function(){this.$$d_$KZ=Function.createDelegate(this,this.$KZ);this.$6l=[];Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$KZ)};Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.prototype={$1LH:2,$5R:!1,$1Es:!1,$1fS:!0,$JX:!0,$183:!1,$GS:null,get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n,this.$7("HasFocus")),n},get_TypedText:function(){return $0.$0(this.$GS)?null:this.$GS.get_Text()},set_TypedText:function(n){return $0.$0(this.$GS)||(Array.remove(this.$6l,this.$GS),this.$GS.dispose(),this.$GS=null),Microsoft.Crm.Client.Core.Framework.$3.$9(n)||this.$2or(n)||(this.$GS=new Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel,this.$GS.set_$GO(this.$2),this.$GS.$2Z(),this.$GS.set_Name("NavigationButtonViewModel"),this.$GS.set_ModelContext(null),this.$GS.$JX=!1,this.$GS.set_Text(n),Array.add(this.$6l,this.$GS)),this.$7("TypedText"),n},get_ItemViewModels:function(){return this.$6l},set_ItemViewModels:function(n){return this.$6l!==n&&(this.$11O(),this.$6l=n,this.$7("ItemViewModels")),n},get_DisplayOverflowIndicator:function(){return this.$1Es},set_DisplayOverflowIndicator:function(n){return this.$1Es!==n&&(this.$1Es=n,this.$7("DisplayOverflowIndicator")),n},get_SingleLineMode:function(){return this.$183},set_SingleLineMode:function(n){return this.$183!==n&&(this.$183=n,this.$1LH=this.$183?1:2,this.$7("SingleLineMode")),n},get_AllowNavigate:function(){return this.$JX},set_AllowNavigate:function(n){return this.$JX=n,n},$2or:function(n){for(var i,t=0;t<this.$6l.length;++t)if(!$0.$0(this.$6l[t])&&Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.isInstanceOfType(this.$6l[t])&&(i=this.$6l[t],i.get_Text()===n))return!0;return!1},$KZ:function(){var t,i,n;if($0.$0(this.get_Data()))this.set_ItemViewModels([]);else if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())){for(t=this.get_Data(),i=[],n=0;n<t.get_entities().length&&(n<this.$1LH||!this.$1fS);n++)Array.add(i,this.$6f(t.get_entities()[n]));this.set_DisplayOverflowIndicator(t.get_entities().length>this.$1LH&&this.$1fS);this.set_ItemViewModels(i)}},$6f:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel,i,r,u;return t.set_$GO(this.$2),t.$2Z(),t.set_Name("NavigationButtonViewModel"),t.set_ModelContext(this.get_ModelContext()),Microsoft.Crm.Client.Core.Framework.$6.get_$f()?(i=n.getValue("partyid"),$0.$0(i)?t.$JX=!1:(r=i.LogicalName,u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r),t.$JX=u.$BW?!0:!1)):t.$JX=this.$JX,t.set_Data(Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$fY(n)),t},$11O:function(){var n=this;Array.forEach(this.$6l,function(n){if(Microsoft.Crm.Client.Core.Framework.$AJ.isInstanceOfType(n)){var t=n;t.dispose()}})},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this);$0.$0(this.$GS)||this.$GS.dispose();this.$11O()}};Microsoft.Crm.Client.Core.ViewModels.$Bt=function(){this.$$d_$2v5=Function.createDelegate(this,this.$2v5);this.$$d_$2zQ=Function.createDelegate(this,this.$2zQ);Microsoft.Crm.Client.Core.ViewModels.$Bt.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Bt.initializeBase(this);this.$vc=this.$$d_$2zQ;Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$TB(this.$vc)};Microsoft.Crm.Client.Core.ViewModels.$Bt.prototype={$1k:!0,$vc:null,$QX:!1,$KA:!1,get_EnableEdits:function(){return this.$QX},set_EnableEdits:function(n){return this.$QX!==n&&(this.$QX=n,this.$7("EnableEdits"),this.$QX&&this.$FH("RenderedEditReady")),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);$0.$0(this.$2)||this.$2.AddPropertyChangedListener("LaunchedWithUnsavedChanges",this.$$d_$2v5)},$Oh:function(){Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_ModelContext())&&this.get_ModelContext().remove_$7v(this.$vc);$0.$0(this.$2)||this.$2.RemovePropertyChangedListener("LaunchedWithUnsavedChanges",this.$$d_$2v5);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$TB(this.$vc);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$Hd:function(){if(Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Hd.call(this),Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_ModelContext())){var n=this.get_ModelContext();this.$1WV();n.add_$7v(this.$vc)}},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return n!==this.$1k&&(this.$1k=n,this.$7("IsLoading"),this.$1k||this.$FH("RenderedReadReady")),n},$2v5:function(){this.$1WV()},$2zQ:function(){this.$1WV()},$1WV:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$t;if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_ModelContext()))if(this.$KA||(this.$FH("RenderedInitialData"),this.$KA=!0),Microsoft.Crm.Client.Core.ViewModels.$86.isInstanceOfType(this.$2)&&this.$2.get_LaunchedWithUnsavedChanges()){if(n===4||!this.get_ModelContext().$U4){this.set_EnableEdits(!1);return}}else if((!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||this.get_ModelContext().$Ki)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||this.get_ModelContext().$U4)){if(!n||n===1||n===4){this.set_EnableEdits(!1);this.set_IsLoading(!1);return}}else{this.set_EnableEdits(!1);return}this.set_EnableEdits(!0);this.set_IsLoading(!1)}};Microsoft.Crm.Client.Core.ViewModels.$Dk=function(){Microsoft.Crm.Client.Core.ViewModels.$Dk.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Dk.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Dk.prototype={$5R:!1,get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n,this.$7("HasFocus")),n},$Hd:function(){var t,n,u,o;if(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this),t=this.$1g,n=this.$2.get_ModelContext()||this.get_ModelContext(),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)&&(n=this.get_ModelContext()),!$0.$0(n)){var i="",r=n.get_ModelName(),f=n.get_Id(),e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r);$0.$0(e)||(u=n.GetValue(e.$59),i=$0.$0(u)?"":u.toString());o=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$QK(r,f,i);t.$xG=o;t.$FI=f;t.$hI=i;t.$Uo=r}}};Microsoft.Crm.Client.Core.ViewModels.$DW=function(){this.$$d_$P2=Function.createDelegate(this,this.$P2);Microsoft.Crm.Client.Core.ViewModels.$DW.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DW.prototype={$5l:null,$UA:null,$Fi:null,$RF:null,get_ComboBoxViewModel:function(){return this.$5l},get_LookupViewActionProvider:function(){return this.$UA},set_LookupViewActionProvider:function(n){return this.$UA=n,n},get_BindingField:function(){return this.$Fi},set_BindingField:function(n){return this.$Fi=n,n},get_MetadataQueryDescriptor:function(){return this.$RF},set_MetadataQueryDescriptor:function(n){return this.$RF=n,n},$2IE:function(){return!0},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$CK.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.$80.isInstanceOfType(t)&&(this.$5l=t,this.$5l.AddPropertyChangedListener("SelectedItem",this.$$d_$P2),this.$16Q(),$0.$0(this.$B7)||(this.$5l.$13c=this.$B7))},$1im:function(n,t){$0.$0(n)||($0.$0(this.$5l)||this.setComboBoxToModelName(n.$Br))&&Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1im.call(this,n,t)},$1hL:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1hL.call(this,n,t);this.setComboBoxToModelName(this.$B7)},$P2:function(){var n=this.$5l.get_Data();$0.$0(this.get_$Gt())||this.get_$Gt().get_$BZ()===n.get_$2I()||this.set_$Gt(null);this.$16Q()},$16Q:function(){var n=this.$5l.get_Data(),t,i;Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2L.isInstanceOfType(n)&&(this.set_LookupModelName(n.$y),$0.$0(this.$Xt)?(i=this.$UA.$B1(0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i)):n.$y===this.$Xt.$Br?this.$1nB(this.$Xt):(t=this.$UA.$B1(2),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)))},setComboBoxToModelName:function(n){if(this.$5l){var t=this.$5l.$1ZO(n);if(t>=0)return this.$5l.$23S(t.toString()),!0}return!1},buildChildViewModelDescriptors:function(n){var t,i,r;Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$0(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i=$0.$0(this.$RF)?new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveTargetEntityMetadata",{entityLogicalName:this.$D,targetAttribute:this.$Fi}):this.$RF;r={combobox:Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("EntityMetadataOptionSetViewModel","ComboBox","comboBoxControl",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("MetadataActionProvider","ActionProvider",i)],t,null)};this.$jD(r)}};Microsoft.Crm.Client.Core.ViewModels.$A5=function(){Microsoft.Crm.Client.Core.ViewModels.$A5.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$A5.prototype={$8b:null,$8L:null,get_LookupListViewModel:function(){return this.$8b},get_LookupNewButtonViewModel:function(){return this.$8L},get_NewButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Lookup_New_Text")},$nR:function(n){var i,r,u,t;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$nR.call(this,n);i=n;for(r in i)u={key:r,value:i[r]},t=u.value,Microsoft.Crm.Client.Core.ViewModels.$A8.isInstanceOfType(t)?this.$8b=t:Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(t)&&(this.$8L=t)},$Oh:function(){$0.$0(this.$8b)||(this.$8b.dispose(),this.$8b=null);$0.$0(this.$8L)||(this.$8L.dispose(),this.$8L=null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$7G=function(){this.$$d_$2tQ=Function.createDelegate(this,this.$2tQ);this.$$d_$28E=Function.createDelegate(this,this.$28E);this.$$d_$1MG=Function.createDelegate(this,this.$1MG);this.$$d_$37F=Function.createDelegate(this,this.$37F);this.$$d_$1hG=Function.createDelegate(this,this.$1hG);this.$$d_$1hE=Function.createDelegate(this,this.$1hE);this.$$d_$1hL=Function.createDelegate(this,this.$1hL);this.$$d_$1gv=Function.createDelegate(this,this.$1gv);this.$$d_$KZ=Function.createDelegate(this,this.$KZ);this.$qs={};this.$113=[];this.$114=[];Microsoft.Crm.Client.Core.ViewModels.$7G.resolveInheritance();this.get_$hS=this.get_RequiredLevel;this.set_$hS=this.set_RequiredLevel;this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$7G.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$KZ);this.AddPropertyChangedListener("DataReference",this.$$d_$1gv);this.AddPropertyChangedListener("LookupModelName",this.$$d_$1hL);this.AddPropertyChangedListener("HasFocus",this.$$d_$1hE)};Microsoft.Crm.Client.Core.ViewModels.$7G.get_$2oQ=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("LookupRelationshipFilters")};Microsoft.Crm.Client.Core.ViewModels.$7G.prototype={$Dj:null,$8b:null,$5I_8:null,$O7:null,$Xt:null,$17y:!1,$17v:!0,$1lh:!0,$t3:!1,$1dE:null,$JI:null,$Pb:null,$k1:null,$lG:null,$B7:null,$1L9:null,$FK:null,$Rf:null,$MW:!1,$Ij:0,$14w:null,$1g3:null,$Nv:null,$1L7:"",$rc:null,$11v:null,$1Fm:null,$k9:null,$1Eh:null,$zm:!1,get_ClearValueCommand:function(){return this.$Nv},set_ClearValueCommand:function(n){return this.$Nv!==n&&($0.$0(this.$Nv)||(this.$Nv.dispose(),this.$Nv=null),this.$Nv=n),n},get_FilterReferencingAttributeName:function(){return this.$rc},set_FilterReferencingAttributeName:function(n){return this.$rc=n,n},get_FilterReferencedAttributeName:function(){return this.$11v},set_FilterReferencedAttributeName:function(n){return this.$11v=n,n},get_FilterReferencingEntityKey:function(){return this.$1Fm},set_FilterReferencingEntityKey:function(n){return this.$1Fm=n,n},get_DependentAttributeName:function(){return this.$k9},set_DependentAttributeName:function(n){return this.$k9=n,n},get_DependentAttributeType:function(){return this.$1Eh},set_DependentAttributeType:function(n){return this.$1Eh=n,n},get_AllowFilterOff:function(){return this.$zm},set_AllowFilterOff:function(n){return this.$zm=n,n},$1AP:!1,$yY:!1,get_IsInlineNewDisabled:function(){return this.$yY},set_IsInlineNewDisabled:function(n){return this.$yY=n,n},get_$1O1:function(){var o,t,s;if(!Microsoft.Crm.Client.Core.ViewModels.$7G.get_$2oQ())return Microsoft.Crm.Client.Core.Framework.$8.$B("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering is not enabled."),"";if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$11v)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$rc)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$k9)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1Eh)){Microsoft.Crm.Client.Core.Framework.$8.$B("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering is enabled.");var e=this.$k9.split("."),r=this.$rc.split("."),u=this.$11v.split(".");if(e.length===2&&r.length===2&&u.length===2){var n=r[0],i=r[1],f=u[0],h=u[1];if(this.$zm&&$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(n,i))&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(n,[i]),Microsoft.Crm.Client.Core.Framework.$q.$4t("","LookupRelationshipFilter_PreFetch")),o=e[1],t=this.get_ModelContext().GetValue(o),!$0.$0(t)&&Xrm.Objects.EntityReference.isInstanceOfType(t)&&!$0.$0(t.Id)){if(this.$B7!==n&&this.$B7===f)return this.$1AP=!0,s=["<condition attribute='"+this.$1Fm+"' operator='eq' value='"+t.Id+"' />"],Microsoft.Crm.Client.Core.Framework.$8.$B("MoCA_ISH_LookupRelationshipFiltering",2009,String.format("Adding link-entity, N:1 relationship exist between {0} and {1}",n,f)),this.$2h1(n,i,h,s);if(this.$B7===n)return this.$1AP=!1,Microsoft.Crm.Client.Core.Framework.$8.$B("MoCA_ISH_LookupRelationshipFiltering",2009,String.format("Adding condition, 1:N relationship exist between {0} and {1}",f,n)),"<condition attribute='"+i+"' operator='eq' value='"+t.Id+"' />"}}}return""},$2h1:function(n,t,i,r){var u="<link-entity name='"+n+"' from='"+t+"' to='"+i+"'>",f;if(!$0.$0(r)&&r.length>0){for(u+="<filter type='and'>",f=0;f<r.length;f++)u+=r[f];u+="<\/filter>"}return u+"<\/link-entity>"},get_CloseCommand:function(){var n=this.$2;return n.$Hj},get_$Gt:function(){return Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(this.get_Data())?this.get_Data():null},set_$Gt:function(n){if(this.get_Data()!==n){if(!$0.$0(this.$2)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)&&!this.get_$2ox()){var i=!$0.$0(n)&&Xrm.Objects.EntityReference.isInstanceOfType(n)?n:null,r=this.$2,u=this.getFieldNameFromDescriptorName(this.$L),t=this,f=this;return r.UpdateRelatedEntity(u,i).then(function(i){i&&(t.set_HasFocus(!0),t.set_Data(n),t.$7("DataReference"),n&&t.set_HasFocus(!1))},function(){}),n}this.set_Data(n);this.$7("DataReference")}return n},get_$CP:function(){return!$0.$0(this.$5I_8)&&!$0.$0(this.$5I_8.$IP)?this.$5I_8.$IP.toString():null},get_CurrentDataName:function(){if(!$0.$0(this.get_$Gt())){var n=this.get_$Gt().get_$8z();return $0.$0(n)?"":n.toString()}return""},get_LookupDisplayName:function(){return this.$1L7},set_LookupDisplayName:function(n){return this.$1L7!==n&&(this.$1L7=n,this.$7("LookupDisplayName")),n},get_LookupBarViewModel:function(){return this.$Dj},get_LookupInputViewModel:function(){return this.$5I_8},set_LookupInputViewModel:function(n){return this.$5I_8=n,$0.$0(this.$5I_8)||(this.$5I_8.AddPropertyChangedListener("Value",this.$$d_$1hG),$0.$0(this.$8b)||this.$8b.set_SearchValue(this.get_CurrentDataName()),this.updateInputValue(),this.$5I_8.set_ImeMode(this.$Ij)),n},get_LookupInputDescriptor:function(){return this.$14w},set_LookupInputDescriptor:function(n){return this.$14w=n,n},get_LookupBarDescriptor:function(){return this.$1g3},get_DefaultViewId:function(){return this.$O7},set_DefaultViewId:function(n){return this.$O7=n,n},get_InitialLookupViewActionProvider:function(){return this.$lG},set_InitialLookupViewActionProvider:function(n){return this.$lG=n,n},get_DefaultLookupViewActionProvider:function(){return this.$k1},set_DefaultLookupViewActionProvider:function(n){return this.$k1=n,n},get_LookupModelName:function(){return this.$B7},set_LookupModelName:function(n){return this.$B7!==n&&(this.$B7=n,this.$7("LookupModelName")),n},get_LookupPrimaryNameAttribute:function(){return this.$1L9},set_LookupPrimaryNameAttribute:function(n){return this.$1L9!==n&&(this.$1L9=n,this.$7("LookupPrimaryNameAttribute")),n},get_Relationship:function(){return this.$FK},set_Relationship:function(n){return this.$FK!==n&&(this.$FK=n),n},set_$16H:function(n){return this.$Rf!==n&&(this.$Rf=n,this.$7("PreSearchHandler")),n},get_ShowOkButtonInPhone:function(){return this.$17y},set_ShowOkButtonInPhone:function(n){return this.$17y=n,n},get_ShowClearButtonInPhone:function(){return this.$17v},set_ShowClearButtonInPhone:function(n){return this.$17v=n,n},get_ShowLookupBar:function(){return this.$1lh},set_ShowLookupBar:function(n){return this.set_HasFocus(!0),this.$1lh=n,this.$7("ShowLookupBar"),n},get_IsInlineOrAssociateFormLookup:function(){return this.$t3},set_IsInlineOrAssociateFormLookup:function(n){return this.$t3=n,n},get_IsGlobalLookup:function(){return Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel.isInstanceOfType(this.$2)},get_ImeMode:function(){return this.$Ij},set_ImeMode:function(n){return this.$Ij=n,$0.$0(this.$5I_8)||this.$5I_8.set_ImeMode(this.$Ij),n},add_$2Ei:function(n){$0.$0(this.$2)||this.$2.$1p("SetLookupInRoot",n)},remove_$2Ei:function(n){$0.$0(this.$2)||this.$2.$32("SetLookupInRoot",n)},add_OfflineMode:function(n){this.$1p("OfflineMode",n)},remove_OfflineMode:function(n){this.$32("OfflineMode",n)},$2XB:function(){var n=this.$4d("OfflineMode");n&&n()},$2Z:function(){var t,n,i;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);$0.$0(this.$5I_8)||this.$5I_8.set_RequiredLevel(this.$9U);t=this.$lG.$B1(0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t);n=this;this.set_ClearValueCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){n.set_Data(null);n.set_HasFocus(!1)},26));this.add_$2Ei(this.$$d_$37F);Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_ModelContext())&&(i=this.get_ModelContext(),i.add_$7L(this.$$d_$1MG))},$1MG:function(n,t){if(this.$8b&&!this.$2h&&!this.$Tv&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$k9)){var i=this.$k9.split(".");i.length===2&&i[1]===t&&this.$8b.$308()}},$2IE:function(n){return this.$B7===n},$37F:function(){Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel.isInstanceOfType(this.$2)?(this.$2.$1In=this,this.$t3=!0):Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel.isInstanceOfType(this.$2)?(this.$2.$1CE=this,this.$FK=new Xrm.RelationshipReference(this.$2.$52,this.$2.$6c,this.$2.$9A,this.$2.$5T),this.$t3=!0):Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel.isInstanceOfType(this.$2)&&(this.$2.$22D=this)},buildChildViewModelDescriptors:function(n){var t={},i,r,u;$0.$0(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);t.OverlayMode=2;i=!1;$0.$0(n.Properties.ShowLabel)||(i=n.Properties.ShowLabel);r={IsSaveAndEditButtonHidden:!0};u={bar:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("LookupBarViewModel","LookupBar","bar",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor(Microsoft.Crm.Client.Core.Framework.$6.get_$f()?"InteractionCentricLookupListViewModel":"LookupListViewModel","LookupList","list",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("ActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("LookupByName",null))],{ScrollDirection:"Horizontal"}),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("Button","Button","newbutton",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Command","CreateCommand"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1J0()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Visible",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1J0()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Parameters",{externalParameters:r})],null)]),input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Label",this.$1G),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowLabel",Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2?!1:i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("OverlayText","")],t)};this.$jD(u)},$jD:function(n){var f=n,r,i,t,u;for(r in f)i={key:r,value:f[r]},t=i.value,$0.$0(this.$H[t.Name])&&(u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(t,this.get_$1B()),this.$CK(u.get_Name(),u)),i.key==="bar"?this.$1g3=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(t):i.key==="input"&&(this.$14w=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(t))},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$CK.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.$4k.isInstanceOfType(t)?this.set_LookupInputViewModel(t):Microsoft.Crm.Client.Core.ViewModels.$A5.isInstanceOfType(t)&&(this.$Dj=t,this.$8b=this.$Dj.$8b,this.$8b.set_$Aa(this),this.$1nE_8(),this.$1Rq_8(),this.$Dj.$8L.$1g.$J=this.$$d_$28E)},$nR:function(n){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$nR.call(this,n);this.$KZ(null,null)},$PH:function(){this.$so&&(Array.clear(this.$113),Array.clear(this.$114),this.set_$16H(null),this.$qs={},this.$1im(this.$1dE),Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$PH.call(this))},$1Pq:function(n){var t,i;this.$O7=n.toString();this.$Xt=null;this.$O7 in this.$qs?(t=this.$qs[this.$O7],this.$1im(t)):(i=this.$k1.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i))},$2Ov:function(){Array.clear(this.$113);Array.clear(this.$114)},$1ou:function(n,t){$0.$0(t)&&(t="");this.$2Lc(n);this.$2Ld(t)},$2Ld:function(n){Array.add(this.$114,n)},$2Lc:function(n){Array.add(this.$113,n)},$282:function(n){$0.$0(n)||this.$1nB(n)},$1hF:function(n){this.$1dE=n;var t=$0.$0(this.get_$Gt())||this.get_$Gt().get_$BZ()===n.$Br;this.$1im(n,t)},$2tQ:function(n){this.$1im(n)},$1nB:function(n){$0.$0(n)||(this.$JI=n.$2O,this.$Pb=n.$1Kk,this.set_LookupModelName(n.$Br),this.$1Rq_8())},$1L8:function(n){this.$MW=!1;$0.$0(this.$8b)||(this.$8b.$1eq=!0);this.set_$Gt(n);this.set_HasFocus(!1);$0.$0(this.$8b)||(this.$8b.$1eq=!1)},$1im:function(n,t){$0.$0(n)||(this.$Xt=n,this.$O7=n.$1P.toString(),($0.$0(t)||t)&&this.$1nB(n))},$1hL:function(){this.$1nE_8()},$1Rq_8:function(){$0.$0(this.$8b)||$0.$0(this.$Pb)||$0.$0(this.$JI)||$0.$0(this.$B7)||this.$8b.$2Eh(this.$B7,this.$JI,this.$Pb)},$1nE_8:function(){var n,t,i;$0.$0(this.$Dj)||$0.$0(this.$Dj.$8L)||$0.$0(this.$Dj.$8L.$1g)||(this.$Dj.$8L.$1g.set_PrimaryModelName(this.$B7),this.$Dj.$8L.$1g.get_CanExecute()&&Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$B7)?(this.$Dj.$8L.set_Visible(!0),Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||$0.$0(this.get_ModelContext())||(n=null,Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)?(t=this.$2.$5Q(this),Microsoft.Crm.Client.Core.ViewModels.$87.isInstanceOfType(t)&&(i=t.$1c8(this.$L),n=this.get_ModelContext().$12a(i))):n=this.get_ModelContext(),$0.$0(n)||(this.$Dj.$8L.$1g.$J2=n.get_$MS(),this.$Dj.$8L.$1g.$FK=this.$FK))):this.$Dj.$8L.set_Visible(!1))},$1X6:function(){$0.$0(this.$5I_8)||(this.$5I_8.set_Value(""),this.$5I_8.fireRefreshFromContextEvent())},$KZ:function(){this.$7("DataReference")},$1gv:function(){this.updateInputValue();$0.$0(this.get_$Gt())||this.set_LookupModelName(this.get_$Gt().get_$BZ())},$1hG:function(){$0.$0(this.$8b)||this.get_HasFocus()&&(this.get_CurrentDataName()===this.get_$CP()&&$0.$0(this.$8b.$Hm)||this.$8b.set_SearchValue($0.$0(this.get_$CP())?"":this.get_$CP()))},$1hE:function(){if(!$0.$0(this.$5I_8)&&!this.get_HasFocus()&&this.get_CurrentDataName()!==this.get_$CP()){var n=this.get_$CP();this.set_$Gt(null);this.$5I_8.set_Value(n)}},updateInputValue:function(){$0.$0(this.$5I_8)||(this.$5I_8.set_Value(this.get_CurrentDataName()),this.$5I_8.fireRefreshFromContextEvent())},$28E:function(n){this.$MW=!0;$0.$0(this.get_ModelContext())?this.set_$Gt(n.$AK):(this.get_ModelContext().$1Pv(),this.set_$Gt(n.$AK),this.get_ModelContext().$1O4());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Microsoft.Crm.Client.Core.ViewModels.$a.$HM(this.$B7)?$0.$0(this.$Dj)||$0.$0(this.$Dj.$8b)||this.$Dj.$8b.$Rr():this.$1D5();this.$9n("OnNewRecordSaved",n.$1LT)},add_$1hT:function(n){this.$1p("OnNewRecordSaved",n)},remove_$1hT:function(n){this.$32("OnNewRecordSaved",n)},$1D5:function(){if(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&(this.$2XB(),Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$2.$K.$8n))){var n=this.$2.$K.$8n;n.set_HideDraftsMessage(!1)}},$Oh:function(){this.RemovePropertyChangedListener("Data",this.$$d_$KZ);this.RemovePropertyChangedListener("DataReference",this.$$d_$1gv);this.RemovePropertyChangedListener("LookupModelName",this.$$d_$1hL);this.RemovePropertyChangedListener("HasFocus",this.$$d_$1hE);this.remove_$2Ei(this.$$d_$37F);$0.$0(this.$Dj)||(this.$Dj.dispose(),this.$Dj=null);$0.$0(this.$8b)||(this.$8b.dispose(),this.$8b=null);$0.$0(this.$5I_8)||(this.$5I_8.RemovePropertyChangedListener("Value",this.$$d_$1hG),this.$5I_8.dispose(),this.$5I_8=null);$0.$0(this.get_ModelContext())||this.get_ModelContext().remove_$7L(this.$$d_$1MG);this.set_ClearValueCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel.prototype={$R8:null,$eT:null,$FE:null,$Sv:!1,get_EntityDisplayName:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$R8.get_$BZ());return $0.$0(n)?"":n.$1q},set_$2pZ:function(n){return this.$R8=n,this.set_Data(this.$R8.get_$8z()),n},get_DeleteItemCommand:function(){return this.$eT},set_DeleteItemCommand:function(n){return this.$eT!==n&&($0.$0(this.$eT)||(this.$eT.dispose(),this.$eT=null),this.$eT=n,this.$7("DeleteItemCommand")),n},get_OpenItemCommand:function(){return this.$FE},set_OpenItemCommand:function(n){return this.$FE!==n&&($0.$0(this.$FE)||(this.$FE.dispose(),this.$FE=null),this.$FE=n,this.$7("OpenItemCommand")),n},get_CanNavigate:function(){return this.$Sv},set_CanNavigate:function(n){return this.$Sv!==n&&(this.$Sv=n,this.$7("CanNavigate")),n},$Oh:function(){this.set_OpenItemCommand(null);this.set_DeleteItemCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1V0=function(n){var i={partyid:n},r=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,i,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return t.$4w.add("partyid"),t};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1oW=function(n){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1V0(n)],!1,1,!1)};Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.prototype={$Dm:null,$MT:!1,$tK:!1,$8c:"multi",$t9:!0,get_$Gt:function(){var n,t;return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())&&this.$8c==="single"&&(n=this.get_Data(),!$0.$0(n)&&n.get_count()>0&&(t=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$fY(n.get_$R(0)),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(t)))?t:null},set_$Gt:function(n){return n!==this.get_$Gt()&&this.set_Data($0.$0(n)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty():Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1oW(n)),n},get_IsMultiSourceLookup:function(){return this.$t9},set_IsMultiSourceLookup:function(n){return this.$t9=n,n},get_NavigationEnabled:function(){return this.$MT},set_NavigationEnabled:function(n){return this.$MT=n,n},get_LookupStyle:function(){return this.$8c},set_LookupStyle:function(n){return this.$8c=n,n},get_PartyListViewModel:function(){return this.$Dm},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$DW.prototype.$CK.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.isInstanceOfType(t)&&(this.$Dm=t,this.$Dm.$Uc_6=this)},showOrHideResultsList:function(){Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2&&($0.$0(this.$Dm)||$0.$0(this.$8b)||(this.$Dm.$6l.get_Count()<=0?this.$Mz(!0):this.$Mz(!1)))},$1L8:function(n){this.$8c==="multi"?($0.$0(n)||this.$Dm.$1pA(n),this.$1X6(),this.$Mz(!1)):Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1L8.call(this,n)},$Mz:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2&&($0.$0(this.$Dm)||$0.$0(this.$8b)||(this.$Dm.set_HidePartyList(n),this.$8b.set_HideLookupResultsList(!n)))},updateInputValue:function(){this.$8c==="single"&&Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.updateInputValue.call(this)},$1hG:function(n,t){this.$8c==="multi"?(this.$8b.set_SearchValue($0.$0(this.get_$CP())?"":this.get_$CP()),this.$Mz(!0)):Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1hG.call(this,n,t)},$1gv:function(n,t){this.$8c==="single"&&Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1gv.call(this,n,t)},$P2:function(n,t){this.$8c==="multi"?(this.$1X6(),this.$16Q()):Microsoft.Crm.Client.Core.ViewModels.$DW.prototype.$P2.call(this,n,t);this.$tK&&this.$Mz(!0);this.$tK=!0},$1hE:function(n,t){this.get_HasFocus()||this.$8c!=="multi"?this.$8c==="single"&&Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1hE.call(this,n,t):this.$1X6()},$28E:function(n){this.$MW=!0;$0.$0(this.get_ModelContext())?this.$1L8(n.$AK):(this.get_ModelContext().$1Pv(),this.$1L8(n.$AK),this.get_ModelContext().$1O4());this.$MW=!1;this.$1D5()},buildChildViewModelDescriptors:function(n){var t,i;this.$JI=null;this.$Pb=null;Microsoft.Crm.Client.Core.ViewModels.$DW.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$0(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i={input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0)],t)};this.$8c==="multi"&&(i.partylist=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("PartyList","PartyList","partyList",this.$Fi,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("NavigationEnabled",this.$MT)],null,null),Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(this.$17y=!0,this.$17v=!1));this.$jD(i)}};Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel=function(){this.$$d_$KZ=Function.createDelegate(this,this.$KZ);this.$6l=new Microsoft.Crm.Client.Core.Framework.$AL;this.$5Z=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$KZ)};Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$fY=function(n){return Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(n.getValue("partyid"))?n.getValue("partyid"):n.getValue("addressused")};Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.prototype={$MT:!1,$1d6:!1,$JV:null,$Kj:null,$Uc_6:null,get_ItemViewModels:function(){return this.$6l},set_ItemViewModels:function(n){return this.$6l!==n&&(this.$6l=n,this.$7("ItemViewModels")),n},get_NavigationEnabled:function(){return this.$MT},set_NavigationEnabled:function(n){return this.$MT=n,n},get_HidePartyList:function(){return this.$1d6},set_HidePartyList:function(n){return this.$1d6=n,this.$7("HidePartyList"),n},$2Ko:function(n){var t=n.$a,i=this.$1vP(t);i||(this.$6l.$3w(this.$6f(n)),this.$5Z.add(n),this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$5Z.get_entities())))},$1pA:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.$1V0(n),i=this.$1vP(n);Microsoft.Crm.Client.Core.Framework.$6.get_$3A()?i?!$0.$0(this.$Kj)&&n.get_$4m()in this.$Kj&&(delete this.$Kj[n.get_$4m()],this.$6l.$3w(this.$6f(t))):($0.$0(this.$JV)&&(this.$JV={}),n.get_$4m()in this.$JV||(this.$6l.$3w(this.$6f(t)),this.$JV[n.get_$4m()]=t),!$0.$0(this.$Uc_6)&&this.$Uc_6.$MW&&this.setDataOnOkClick()):i||(this.$6l.$3w(this.$6f(t)),this.$5Z.add(t),this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$5Z.get_entities())))},setDataOnOkClick:function(){for(var s,i,r,u,h,f,e,c,n,l,o={},t=0;t<this.$5Z.get_count();t++)s=this.$5Z.get_$R(t).getValue("partyid"),o[s.get_$4m()]=this.$5Z.get_$R(t);if(!$0.$0(this.$JV)){i=this.$JV;for(r in i)u={key:r,value:i[r]},u.key in o||(h=u.value,this.$5Z.add(h));this.$JV=null}if(!$0.$0(this.$Kj)){f=this.$Kj;for(e in f)for(c={key:e,value:f[e]},n=0;n<this.$5Z.get_count();n++)if(l=this.$5Z.get_$R(n).getValue("partyid"),l.get_$4m()===c.key){this.$5Z.remove(this.$5Z.get_$R(n));break}this.$Kj=null}this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$5Z.get_entities()))},$20n:function(n){for(var i,r=this.$6l.get_Count(),t=0;t<r;t++)if(i=this.$6l.get_$R(t),i.get_Data()===n.get_Data()&&i.$D===n.$D)return t;return-1},setDataOnCancelClick:function(){var n,t,u,f;if(!$0.$0(this.$JV)){n=this.$JV;for(t in n){var o={key:t,value:n[t]},i=this.$6f(o.value),r=this.$20n(i);!$0.$0(i)&&r>=0&&(this.$6l.get_$R(r).dispose(),this.$6l.$vm(r),i.dispose())}this.$JV=null}if(!$0.$0(this.$Kj)){u=this.$Kj;for(f in u){var s={key:f,value:u[f]},e=this.$6f(s.value),h=this.$20n(e);!$0.$0(e)&&h<0&&this.$6l.$3w(e)}this.$Kj=null}this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$5Z.get_entities()));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(this.$Uc_6)},$2w7:function(n){if(n.$Sv){var t=new Microsoft.Crm.Client.Core.Commands.$2R(n,2);t.$x={EntityReference:n.$R8};t.$18=null;t.$D=n.$R8.get_$BZ();t.execute();t.dispose()}},$KZ:function(){var i;if($0.$0(this.get_Data()))this.$5Z=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty(),this.set_Data(this.$5Z),this.$11O(),this.$6l.$86();else if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())){if(!this.$2Td()){this.$5Z=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.get_Data().get_entities());this.$11O();this.$6l.$86();for(var t=this.$5Z.get_entities(),r=t.length,n=0;n<r;++n)i=t[n],this.$6l.$3w(this.$6f(i))}}else this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$5Z.get_entities()))},$6f:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel,i,r,u;return t.set_ModelContext(this.get_ModelContext()),i=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$fY(n),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(i)?t.set_$2pZ(i):t.set_Data(i),r=this,t.set_DeleteItemCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){r.$1OB(t,n)},26)),u=this,t.set_OpenItemCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){u.$2w7(t)},26)),t.set_CanNavigate(this.$MT&&!$0.$0(t.$R8)),t},$1OB:function(n,t){if(n.dispose(),this.$6l.$Ai(n),Microsoft.Crm.Client.Core.Framework.$6.get_$1d()!==2)this.$5Z.remove(t),this.set_Data(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromEntities(this.$5Z.get_entities()));else{$0.$0(this.$Kj)&&(this.$Kj={});var i=t.getValue("partyid");!$0.$0(this.$JV)&&i.get_$4m()in this.$JV?delete this.$JV[i.get_$4m()]:i.get_$4m()in this.$Kj||(this.$Kj[i.get_$4m()]=t);this.$6l.get_Count()<=0&&this.$Uc_6.$Mz(!0)}},$2Td:function(){var r,n,t,i,u,f;if($0.$0(this.get_Data())||!Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())||(r=this.get_Data(),r.get_entities().length!==this.$5Z.get_entities().length))return!1;for(n=0;n<this.$5Z.get_count();n++)if(t=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$fY(this.$5Z.get_entities()[n]),i=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$fY(r.get_entities()[n]),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(t)&&Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(i)){if(u=t.get_$4m(),f=i.get_$4m(),f!==u)return!1}else if(String.isInstanceOfType(t)&&String.isInstanceOfType(i)){if(t!==i)return!1}else return!1;return!0},$1vP:function(n){for(var i,u,f,r=this.$5Z.get_entities(),e=r.length,t=0;t<e;++t)if(i=r[t],u=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$fY(i),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(u)&&(f=i.getValue("partyid").get_$4m(),f===n.get_$4m()))return!0;return!1},$11O:function(){for(var t,n=0;n<this.$6l.get_Count();n++)t=this.$6l.get_$R(n),$0.$0(t)||t.dispose()},$Oh:function(){this.$11O();this.$6l=null;this.$5Z=null;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel=function(){this.$$d_$31t=Function.createDelegate(this,this.$31t);this.$$d_$Rr=Function.createDelegate(this,this.$Rr);this.$$d_$38Q=Function.createDelegate(this,this.$38Q);Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("CrmChartDrilldown",Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel)};Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.prototype={refreshCommand:null,resizeHandlesCommand:null,$Sx:null,get_ChartControlViewModel:function(){if(Microsoft.Crm.Client.Core.Framework.$6.get_$3A()){if(!$0.$0(this.$H)&&"DrilldownChartPane"in this.$H&&!$0.$0(this.$H.DrilldownChartPane)&&!$0.$0(this.$H.DrilldownChartPane.$H))return this.$H.DrilldownChartPane.$H.ChartControlViewModel}else if(!$0.$0(this.$H)&&"ChartControlViewModel"in this.$H)return this.$H.ChartControlViewModel;return null},get_ListControlViewModel:function(){if(Microsoft.Crm.Client.Core.Framework.$6.get_$3A()){if(!$0.$0(this.$H)&&"DrilldownDataPane"in this.$H&&!$0.$0(this.$H.DrilldownDataPane)&&!$0.$0(this.$H.DrilldownDataPane.$H))return this.$H.DrilldownDataPane.$H.ListControlViewModel}else if(!$0.$0(this.$H)&&"ListControlViewModel"in this.$H)return this.$H.ListControlViewModel;return null},get_ViewId:function(){return this.get_ChartControlViewModel().$8r},set_ViewId:function(n){return n!==this.get_ChartControlViewModel().$8r&&(this.get_ChartControlViewModel().$Jh.$86(),this.get_ListControlViewModel().$sj=!0,this.get_ChartControlViewModel().set_ViewId(n),this.get_ListControlViewModel().$22="",this.get_ListControlViewModel().set_DefinitionId(n)),n},get_ViewEntityLogicalName:function(){return this.get_ChartControlViewModel().$NG},set_ViewEntityLogicalName:function(n){return this.get_ChartControlViewModel().set_ViewEntityLogicalName(n),n},get_VisualizationId:function(){return this.get_ChartControlViewModel().$JJ},set_VisualizationId:function(n){return n!==this.get_ChartControlViewModel().$JJ&&(this.get_ChartControlViewModel().set_VisualizationId(n),this.get_ChartControlViewModel().$Jh.$86(),this.get_ListControlViewModel().$22="",this.get_ListControlViewModel().$Rr()),n},get_VisualizationEntityLogicalName:function(){return this.get_ChartControlViewModel().$ce},set_VisualizationEntityLogicalName:function(n){return this.get_ChartControlViewModel().set_VisualizationEntityLogicalName(n),n},get_ViewDisplayName:function(){return this.get_ChartControlViewModel().$2.$5Q(this).$1G},set_ViewDisplayName:function(n){return this.get_ChartControlViewModel().$2.$5Q(this).set_Label(n),this.get_ChartControlViewModel().$2.$5Q(this).set_ShowLabel(!0),n},set_$mz:function(n){return $0.$0(this.refreshCommand)||(this.refreshCommand.dispose(),this.refreshCommand=null),this.refreshCommand=n,n},set_$1OO:function(n){return $0.$0(this.resizeHandlesCommand)||(this.resizeHandlesCommand.dispose(),this.resizeHandlesCommand=null),this.resizeHandlesCommand=n,n},get_$1i6:function(){return"DrilldownPane"},get_$1i4:function(){return this.$D},$Rr:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Rr.call(this);this.get_ChartControlViewModel().$Rr();this.get_ListControlViewModel().$Rr()},$31t:function(){this.get_ListControlViewModel().resizeHandlesCommand.execute()},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.prototype.$2Z.call(this),this.$Sx=new Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand(this,this.get_ListControlViewModel()),this.get_ListControlViewModel().$sj=!0,this.get_ChartControlViewModel().set_AllowPointSelect(!0),this.get_ChartControlViewModel().set_EnableDrilldown(!0),this.get_ChartControlViewModel().set_ChartSeriesClickCommand(this.$Sx),"SelectedHighchartPoint"in this.$2.$K.$M&&(this.get_ChartControlViewModel().set_SelectedHighchartPoint(this.$2.$K.$M.SelectedHighchartPoint),this.$Sx.$Hn=this.get_ChartControlViewModel().$Hn,this.$Sx.$1Nt=!1,this.$Sx.execute(),this.$Sx.$1Nt=!0,this.$Sx.$Hn=null),this.get_ChartControlViewModel().AddPropertyChangedListener("ShowData",this.$$d_$38Q),$0.$0(this.refreshCommand)&&this.set_$mz(new Microsoft.Crm.Client.Core.Commands.$AO(this.$$d_$Rr,1022)),!Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&$0.$0(this.resizeHandlesCommand)&&this.set_$1OO(new Microsoft.Crm.Client.Core.Commands.$AO(this.$$d_$31t,1022)))},$38Q:function(){this.get_ChartControlViewModel().$1QF&&this.updatePaneIndex((Microsoft.Crm.Client.Core.Framework.$6.get_$3A()?0:1)-this.$Cz,!0)},$Oh:function(){this.get_ChartControlViewModel()&&this.get_ChartControlViewModel().RemovePropertyChangedListener("ShowData",this.$$d_$38Q);this.$Sx.dispose();this.$Sx=null;this.set_$1OO(null);this.set_$mz(null);Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.prototype.$Oh.call(this)},$EP:function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();i.$5y.$hK("crmchartdrilldown",this);Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.prototype.$EP.call(this,n,t)}};Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel=function(){this.$$d_$287=Function.createDelegate(this,this.$287);this.$$d_$Hw=Function.createDelegate(this,this.$Hw);this.$Af=-1;Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel.prototype={$HW:null,get_ModelUpdateActionProvider:function(){return this.$HW},set_ModelUpdateActionProvider:function(n){return this.$HW=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$3R.prototype.$2Z.call(this);this.$Hd()},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$3R.prototype.$Hd.call(this);this.$11G();this.$1Vv()},$287:function(){!$0.$0(this.get_$1B())&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_$1B())&&this.get_$1B().$KT===1&&this.$Af===-1&&(this.$Af=window.setTimeout(this.$$d_$Hw,500))},$Hw:function(){if((this.$Af=-1,!Microsoft.Crm.Client.Core.Framework.$6.$4N)&&!$0.$0(this.$HW)){var n=this.$HW.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$1Vv:function(){if(!$0.$0(this.get_$1B())&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_$1B())){var n=this.get_$1B();n.add_$7L(this.$$d_$287)}},$11G:function(){if(!$0.$0(this.get_$1B())&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_$1B())){var n=this.get_$1B();n.remove_$7L(this.$$d_$287)}},$Oh:function(){this.$11G();Microsoft.Crm.Client.Core.ViewModels.$3R.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$80=function(){this.$$d_$1fr=Function.createDelegate(this,this.$1fr);Microsoft.Crm.Client.Core.ViewModels.$80.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$80.prototype={$5n:null,$13c:null,set_$kI:function(n){return this.$5n!==n&&(this.$5n=n,this.$7("Entities")),n},$1fr:function(n){var i=n,r,t,u,f;for(this.set_$kI(i),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54)),t=0;t<i.get_Count();t++)r.add(new Microsoft.Crm.Client.Core.ViewModels.$Bm(t.toString(),i.get_$R(t).get_$8z()));this.$1hW(r.toArray(),!1);u=0;$0.$0(this.$13c)||(f=this.$1ZO(this.$13c),f!==-1&&(u=f));i.get_Count()>0&&($0.$0(this.get_Data())||Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_Data().toString()))&&this.set_SelectedItem(u.toString())},$2Z:function(){this.$5n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.$2G));Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$2Z.call(this);this.$1Rp()},$1ZO:function(n){for(var t=0;t<this.$5n.get_Count();t++)if(this.$5n.get_$R(t).get_$2I()===n)return t;return-1},$2hw:function(n){return this.$5n.get_$R(n)},$KZ:function(){var i,t,n;if(!$0.$0(this.get_Data())&&Microsoft.Crm.Client.Core.Storage.Common.$2G.isInstanceOfType(this.get_Data())){for(i=this.get_Data(),t=-1,n=this.$5n.get_Count()-1;n>0;n--)if(i.get_$2I()===this.$5n.get_$R(n).get_$2I()){t=n;break}t>0&&(this.set_SelectedItem(t.toString()),this.set_SelectedLabel(i.get_$8z()))}}};Microsoft.Crm.Client.Core.ViewModels.$CM=function(){this.$$d_$1fr=Function.createDelegate(this,this.$1fr);this.$11d=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$36));Microsoft.Crm.Client.Core.ViewModels.$CM.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$CM.prototype={$ek:null,get_EntityFilter:function(){return this.$ek},set_EntityFilter:function(n){return this.$ek=n,n},$17x:!0,get_ShowEmptyOption:function(){return this.$17x},set_ShowEmptyOption:function(n){return this.$17x=n,n},$1fr:function(n){var t;this.$11d=n;var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54)),r=!1,u=!$0.$0(this.get_Data());for(t=0;t<n.get_Count();t++)i.add(new Microsoft.Crm.Client.Core.ViewModels.$Bm(t.toString(),n.get_$R(t).get_$8z())),u&&n.get_$R(t).get_$4m()===this.get_Data().get_$4m()&&(this.set_SelectedItem(t.toString()),this.set_SelectedLabel(n.get_$R(t).get_$8z()),r=!0);r?this.$1hW(i.toArray(),this.$17x):this.$1hW(i.toArray(),this.$17x,0)},$2hw:function(n){return this.$11d.get_$R(n)},$KZ:function(){var i,t,n;if(!$0.$0(this.get_Data())&&Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(this.get_Data())){for(i=this.get_Data(),t=-1,n=this.$11d.get_Count()-1;n>0;n--)if(i.$1FJ(this.$11d.get_$R(n))){t=n;break}t>0&&(this.set_SelectedItem(t.toString()),this.set_SelectedLabel(i.get_$8z()))}}};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel=function(){this.$$d_$2km=Function.createDelegate(this,this.$2km);this.$$d_$KZ=Function.createDelegate(this,this.$KZ);this.$8H=new Microsoft.Crm.Client.Core.ViewModels.$Cv;this.$Jn=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(String));Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("CrmTile",Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$2TT)};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$2TT=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel;return n.set_$2GX(new Microsoft.Crm.Client.Core.Models.$JP),n.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("TileClick","clicked"))),n};Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.prototype={$1k:!1,$OM:null,$9x:null,$8l:null,$Br:"",$JG:1,$Uw:"",$Gk:null,$Gl:null,$jT:null,$xC:null,$18c:null,$1RP:null,$1mi:null,$1mX:null,get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k!==n&&(this.$1k=n,this.$7("IsLoading")),n},get_FieldNames:function(){return this.$OM},set_FieldNames:function(n){return this.$OM!==n&&(this.$OM=n,this.$7("FieldNames")),n},set_$2GX:function(n){return this.$9x!==n&&(this.$9x=n,this.$8H.set_Data(this.$9x.get_$1IT()),this.$re(["LeftCornerText","Text1","Text2","Text3","Text4","Text5","Text6","ImageViewModel"])),n},get_ActionProvider:function(){return this.$8l},set_ActionProvider:function(n){return this.$8l!==n&&(this.$8l=n),n},get_EntityTypeName:function(){return this.$Br},set_EntityTypeName:function(n){return this.$Br!==n&&(this.$Br=n,this.$7("EntityTypeName")),n},get_TileText2FieldName:function(){return this.$xC},get_TileText3FieldName:function(){return this.$18c},get_TileText4FieldName:function(){return this.$1RP},get_TileText5FieldName:function(){return this.$1mi},get_TileMode:function(){if(Microsoft.Crm.Client.Core.Models.$3p.isInstanceOfType(this.get_ModelContext())){var n=this.get_ModelContext();n.get_$25().$JG!==this.$JG&&(this.$JG=n.get_$25().$JG)}return this.$JG},set_TileMode:function(n){var i,t;return this.$JG!==n&&(i=this.$JG,this.$JG=n,Microsoft.Crm.Client.Core.Models.$3p.isInstanceOfType(this.get_ModelContext())&&(t=this.get_ModelContext(),t.get_$25().$JG=n,t.$3Bm(),this.$28g(i)),this.$7("TileMode")),n},get_CssClassNames:function(){return this.$Jn},set_CssClassNames:function(n){return this.$Jn=n,n},get_TargetType:function(){var n=this.get_ModelContext();return n.get_$25().$FR},get_TileType:function(){var n=this.get_ModelContext();switch(n.get_$25().$FR){case 0:return"Form";case 1:return"Grid";case 2:return"Relationship";case 3:return"Lookup";case 4:return"Dashboard";case 5:return"PowerBIFullScreenPage"}return"Unexpected"},get_TargetLogicalName:function(){var n=this.get_ModelContext();return n.get_$25().$C8},get_IsPowerBIDashboard:function(){var n=this.get_ModelContext();return n.get_$25().$ne.indexOf("IsPowerBIDashboard=true")>=0},get_TargetGuid:function(){var n=this.get_ModelContext();return n.get_$25().$Ci.toString()},get_TargetEntityPrimaryField:function(){var n=this.get_ModelContext();return n.get_$PS()},get_HasCommunicationCardIconBackground:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$12(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$4y.toString(this.get_TileMode()))&&Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$4y.toString(this.get_TileMode())==="wide"&&Microsoft.Crm.Client.Core.Models.Tiles.Decorators.$Cg.isInstanceOfType(this.$9x)},get_LeftCornerText:function(){return this.$9x.get_LeftCornerText()},set_LeftCornerText:function(n){return this.$9x.get_LeftCornerText()!==n&&(this.$9x.set_LeftCornerText(n),this.$7("LeftCornerText")),n},get_RightCornerText:function(){return this.$Uw},set_RightCornerText:function(n){return this.$Uw!==n&&(this.$Uw=n,this.$7("RightCornerText")),n},get_Text1:function(){return this.$9x.get_Text1()},set_Text1:function(n){return this.$9x.get_Text1()!==n&&(this.$9x.set_Text1(n),this.$7("Text1")),n},get_Text2:function(){return this.$9x.get_Text2()},set_Text2:function(n){return this.$9x.get_Text2()!==n&&(this.$9x.set_Text2(n),this.$7("Text2")),n},get_Text3:function(){return this.$9x.get_Text3()},set_Text3:function(n){return this.$9x.get_Text3()!==n&&(this.$9x.set_Text3(n),this.$7("Text3")),n},get_Text4:function(){return this.$9x.get_Text4()},set_Text4:function(n){return this.$9x.get_Text4()!==n&&(this.$9x.set_Text4(n),this.$7("Text4")),n},get_Text5:function(){return this.$9x.get_Text5()},set_Text5:function(n){return this.$9x.get_Text5()!==n&&(this.$9x.set_Text5(n),this.$7("Text5")),n},get_Text6:function(){return this.$9x.get_Text6()},set_Text6:function(n){return this.$9x.get_Text6()!==n&&(this.$9x.set_Text6(n),this.$7("Text6")),n},get_ImageViewModel:function(){return this.$8H},set_ImageViewModel:function(n){return this.$8H!==n&&($0.$0(this.$8H)||(this.$8H.dispose(),this.$8H=null),this.$8H=n,this.$7("ImageViewModel")),n},get_Button1ViewModel:function(){return this.$Gk},set_Button1ViewModel:function(n){return this.$Gk!==n&&($0.$0(this.$Gk)||(this.$Gk.dispose(),this.$Gk=null),this.$Gk=n,this.$7("Button1ViewModel")),n},get_Button2ViewModel:function(){return this.$Gl},set_Button2ViewModel:function(n){return this.$Gl!==n&&($0.$0(this.$Gl)||(this.$Gl.dispose(),this.$Gl=null),this.$Gl=n,this.$7("Button2ViewModel")),n},get_Button3ViewModel:function(){return this.$jT},set_Button3ViewModel:function(n){return this.$jT!==n&&($0.$0(this.$jT)||(this.$jT.dispose(),this.$jT=null),this.$jT=n,this.$7("Button3ViewModel")),n},$1Ud:null,get_$39S:function(){return this.$1mX||(this.$1mX=new Microsoft.Crm.Client.Core.Models.Tiles.Factories.$Kt)},$2Z:function(){if(!this.$1a){if(this.AddPropertyChangedListener("Data",this.$$d_$KZ),!$0.$0(this.$8l)){var n=this.$8l.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}this.$KZ(null,null);this.$28g(this.get_TileMode());Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this)}},$Hd:function(){var n,t;Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this);!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$9u.isInstanceOfType(this.get_ModelContext())&&(n=this.get_ModelContext(),this.set_EntityTypeName("tileLoading"),this.set_IsLoading(!0),t=this,n.$29c().done(function(){var r,u,i;t.$2h||(r=new Microsoft.Crm.Client.Core.Models.Tiles.Factories.$Kt,n.set_$18V(new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(r.$1Hh(n))),n=t.$2Tp(n),t.$1Ud=n,u={forcerefresh:!1,pinnedtilemodel:n},i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("PopulateTileData",u),i.OnSuccess=t.$$d_$2km,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",t,i))}))},$2km:function(){var i,u,n,f,r;if(!this.$2h&&(i=this.get_$39S(),u=!$0.$0(i),u)&&(n=this.$1Ud,f=!$0.$0(n),f)){if(this.set_$2GX(i.$1ts(n)),this.set_EntityTypeName(n.get_$PT()),n.get_$c6())n.get_$c6()===2?(this.set_EntityTypeName(this.$Br+" crmview"),this.set_Enabled(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(n.get_$PT(),1))):n.get_$c6()===1&&this.set_EntityTypeName(this.$Br+" crmview");else{var t=n.get_$PT(),o=new Microsoft.Crm.Client.Core.Models.Tiles.Validators.$Kr,e=o.$6W(t);e.$57&&(this.set_RightCornerText(Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}",this.$9x.get_RightCornerText()||"")),this.$1os());t==="contact"||t==="opportunity"||t==="lead"||t==="account"||e.$57||this.set_EntityTypeName(this.$Br+" noncola")}n.get_$c6()!==4&&n.get_$c6()!==5&&(r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.get_$PT()),r.get_$7g()?this.set_EntityTypeName(this.$Br+" activity"):r.$CW&&this.set_EntityTypeName(this.$Br+" customEntity"));this.get_IsPowerBIDashboard()&&this.set_EntityTypeName(this.$Br+" PowerBIDashboard");this.$2xt();this.$1k&&(this.set_IsLoading(!1),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("LoadedInitialData",0,this.get_ViewModelId()),this.$FH("RenderedInitialData"))}},$2Tp:function(n){var t=new Microsoft.Crm.Client.Core.Models.Tiles.Validators.$Kr,i=t.$6W(n.get_$PT()),r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$85.isInstanceOfType(n.get_$25())||n.get_$25().$PJ.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty());return i.$57&&r&&(n=new Microsoft.Crm.Client.Core.Models.Tiles.Decorators.$Ri(n)),n},$KZ:function(){!$0.$0(this.get_Data())&&Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(this.get_Data())&&this.set_ModelContext(Microsoft.Crm.Client.Core.Models.$3p.$1Dv(Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),this.get_Data()))},$2xt:function(){if(this.get_TargetType()){if(this.get_TargetType()===3){var n=this.get_ModelContext();this.$xC=n.get_$25().$tm}}else switch(this.get_TargetLogicalName()){case"opportunity":this.$xC="customerid";this.$18c="estimatedvalue";this.$1mi="closeprobability";break;case"lead":this.$xC="fullname";this.$18c="companyname";this.$1RP="telephone1";break;case"account":this.$xC="address1_city,address1_stateorprovince";this.$18c="primarycontactid";this.$1RP="telephone1";return}},$1os:function(){var o=this.$9x,i,h,y,l,u,p;if(o){var t=new Microsoft.Crm.Client.Core.ViewModels.$24,a=o.$A0,f={};f.protocol="mailto:";f.target=a;f.CommandName="TileButton1";t.set_Parameters(f);t.$Gi=Microsoft.Crm.Client.Core.Framework.$6.get_$3A();t.set_Command("UrlLauncherCommand");t.set_ImageType("Symbol");t.set_ImageName("Mail");Microsoft.Crm.Client.Core.Framework.$3.$12(a)&&(t.$1g.set_CanExecute(!1),t.set_Enabled(!1));this.set_Button1ViewModel(t);var n=new Microsoft.Crm.Client.Core.ViewModels.$24,v=o.$yr,s={};if(s.target=v,s.CommandName="TileButton3",n.set_Parameters(s),n.$Gi=Microsoft.Crm.Client.Core.Framework.$6.get_$3A(),n.set_Command("SkypeUrlLauncherCommand"),n.set_ImageType("Symbol"),n.set_ImageName("Phone"),i=n.$1g,h=this.get_ModelContext(),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(h.get_$Du())){var c=h.get_$Du(),r=c.$a,e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r.get_$BZ());$0.$0(e)||(y=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$QK(r.get_$BZ(),r.get_$4m(),c.getValue(e.$59).toString()),i.$xG=y);l=this.$2;Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(l)?(u=l.get_ModelContext(),p=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(u.get_ModelName()),i.$FI=u.get_Id(),i.$hI=u.GetValue(p.$59),i.$Uo=u.get_ModelName()):$0.$0(e)||(i.$FI=r.get_$4m(),i.$hI=c.getValue(e.$59).toString(),i.$Uo=r.get_$BZ())}Microsoft.Crm.Client.Core.Framework.$3.$12(v)&&(n.$1g.set_CanExecute(!1),n.set_Enabled(!1));this.set_Button3ViewModel(n)}},$28g:function(n){var r,t,i;Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(r="tile",t=this.get_TileMode()?"wide":"square",t=r+t,i=n?"wide":"square",i=r+i,this.$Jn.$Ai(i),this.$Jn.$3w(t))},$Oh:function(){this.set_Button1ViewModel(null);this.set_Button2ViewModel(null);this.set_Button3ViewModel(null);this.set_ImageViewModel(null);Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$2vY=Function.createDelegate(this,this.$2vY);this.$$d_$2l9=Function.createDelegate(this,this.$2l9);this.$$d_$P2=Function.createDelegate(this,this.$P2);this.$hx=new Microsoft.Crm.Client.Core.Framework.$AL;this.$180=-1;Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.resolveInheritance();this.get_$28w=this.get_OpenItemCommand;this.set_$2sD=this.set_NavigationTarget;this.get_$34P=this.get_SelectedItem;this.get_componentType=this.get_$2PZ;this.get_definitionId=this.get_DefinitionId;this.set_definitionId=this.set_DefinitionId;this.get_sourceId=this.get_SourceId;this.set_sourceId=this.set_SourceId;this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$2IP=this.get_Visible;this.get_childViewModels=this.get_ChildViewModels;this.get_$2Uf=this.get_Dragging;this.get_$1C9=this.get_applicationMetadataType;this.get_$2Ts=this.get_DefinitionId;this.set_$38o=this.set_SourceId;this.get_$3CO=this.get_ViewModelId;Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("CrmTileContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$2TS)};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$2TS=function(){return new Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel};Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.prototype={$6b:null,$16B:!0,$5C:null,$1KR:null,$112:0,$18b:null,$Tz:!1,$pR:0,get_ItemContextId:function(){return this.$1KR},set_ItemContextId:function(n){return this.$1KR=n,n},get_$qQ:function(){return"tilecontainer"},get_$Uh:function(){return this.$2.$L},get_$vH:function(){return this.$6b},set_$vH:function(n){var t=!$0.$0(this.$6b)&&this.$6b!==n,i,r;return $0.$0(this.$6b)||$0.$0(n)||(i=this.$6b.$5C,r=n.$5C,t=this.$2pD(r,i)),this.$6b=n,t&&this.$17M(),n},set_$1lr:function(n){var t=!!n.length||!$0.$0(this.$5C)&&!!this.$5C.length;return this.$5C=n,this.$7("SortOrder"),t&&this.set_$vH(new Microsoft.Crm.Client.Core.Framework.$BC(this.$5C)),n},get_$1i6:function(){return"TilePane"},get_$1i4:function(){return null},$d9:!1,get_IsRelationshipPinnedTiles:function(){return this.$d9},set_IsRelationshipPinnedTiles:function(n){return this.$d9=n,n},get_RenderPlaceholder:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&this.$2.$9R&&!this.$1f.get_Count()&&!this.$1k},get_RenderTiles:function(){return this.$1f.get_Count()>0},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&this.set_Visible(this.$2.$9R||this.$d9),this.$18b=this.get_$29Y(),this.add_$2DC(this.$$d_$P2),$0.$0(this.deleteCommand)&&this.set_$r2(Microsoft.Crm.Client.Core.ViewModels.Commands.$9A.$X(this)),$0.$0(this.$FE)&&this.set_OpenItemCommand(Microsoft.Crm.Client.Core.ViewModels.Commands.$AS.$X(this)),this.$hx.add_CollectionChanged(this.$$d_$2l9));Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$2Z.call(this)},$1Uu:function(){this.$t||(this.$t=1,$0.$0(this.$al)||(this.$16B=!1,this.$1kG()),this.$1fm())},$1dP:function(){this.$6A=new Microsoft.Crm.Client.Core.ViewModels.$Hn;this.$6A.set_ListComponentViewModel(this);this.$6A.set_$1CC(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())},$Oh:function(){this.remove_$2DC(this.$$d_$P2);this.$hx.remove_CollectionChanged(this.$$d_$2l9);$0.$0(this.get_SortedItems())||(this.get_SortedItems().clear(),this.set_SortedItems(null));Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$Oh.call(this)},$2qZ:function(n){this.$6b=Microsoft.Crm.Client.Core.Framework.$BC.$2y(n.$6b);this.$16B=!0},$25j:function(){this.$16B=!0},sortStart:function(n){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.sortStart.call(this,n);this.$yA=!0;this.$pR=n},sortStop:function(n){var i,r,u,f,t;(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.sortStop.call(this,n),i=!$0.$0(this.$5C),i&&this.$5C.length)&&(r=this.$pR>=0&&this.$pR<this.$5C.length,r)&&(u=n>=0&&n<this.$5C.length,u)&&(f=this.$5C[this.$pR],t=this.$5C.slice(0,this.$5C.length),t.splice(this.$pR,1),t.splice(n,0,f),this.set_$1lr(t),this.$yA=!1,this.$2Fg())},get_SortedItems:function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.get_SortedItems.call(this))&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.set_SortedItems.call(this,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$3R))),Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.get_SortedItems.call(this)},get_$25U:function(){return this.$1KR},changeText:function(){this.$112++;this.$112=this.$112%3;switch(this.$112){case 0:this.set_TilePlaceholderCurrentText(this.get_$29Y());break;case 1:this.set_TilePlaceholderCurrentText(this.get_$2xY());break;case 2:this.set_TilePlaceholderCurrentText(this.get_$2xX())}},get_TilePlaceholderCurrentText:function(){return this.$18b},set_TilePlaceholderCurrentText:function(n){return this.$18b!==n&&(this.$18b=n,this.$7("TilePlaceholderCurrentText")),n},get_$29Y:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PinnedTilePlaceholderPinHere")},get_$2xY:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PinnedTilePlaceholderSelectRecord")},get_$2xX:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PinnedTilePlaceholderChange")},$Rr:function(){this.$Tz=!0;Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$Rr.call(this)},$1p1:function(n){if(Microsoft.Crm.Client.Core.Models.$6d.isInstanceOfType(n)){var t=n;this.$2n.get_$CZ().$Sn(this.$38m(t));this.$2n!==n&&(t.$1Ej(),t.$Kx.clear());this.$Tz=!1}},$qc:function(n){var i=Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$qc.call(this,n),u,f,e,t,r;if(i.$1QD=!1,!$0.$0(i)){u=i.$H;for(f in u)if(e={key:f,value:u[f]},Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.isInstanceOfType(e.value)){for(t=e.value,t.AddPropertyChangedListener("IsLoading",this.$$d_$2vY),r=0;r<t.$Jn.get_Count();r++)i.$10w.$10k(t.$Jn.get_$R(r))||i.$10w.$3w(t.$Jn.get_$R(r));t.$Jn=i.$10w;t.$1k&&this.$hx.$3w(t.get_TargetGuid())}}return i},$3d:function(n){if(this.$16B)Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$3d.call(this,n);else{var t=null,i=this;t=function(){i.remove_$1Oq(t);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$3d.call(i,n)};this.add_$1Oq(t)}},$1hP:function(n,t){(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1hP.call(this,n,t),this.$Tv)||(Microsoft.Crm.Client.Core.Framework.$6.get_$3A()?this.$Tz&&this.$d9||this.set_Visible(this.$2.$9R||this.$d9&&this.$1f.get_Count()>0):this.set_Visible((this.$2.$9R||this.$d9)&&this.$1f.get_Count()>0),this.$2Fg())},$11N:function(n){var r=n.$H,t,i;for(t in r)i={key:t,value:r[t]},Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.isInstanceOfType(i.value)&&this.$hx.$Ai(i.value.get_TargetGuid());Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$11N.call(this,n)},$2pD:function(n,t){var r=!1,i;if($0.$0(t)||n.length!==t.length)r=!0;else for(i=0;i<n.length;i++)if(!n[i].equals(t[i])){r=!0;break}return r},$2l9:function(){this.$180!==-1&&window.clearTimeout(this.$180);var n=this;this.$180=window.setTimeout(function(){n.$180=-1;n.set_IsLoading(!!n.$hx.get_Count())},500)},$2vY:function(n){var t=n;t.$1k?this.$hx.$3w(t.get_TargetGuid()):(this.$hx.$Ai(t.get_TargetGuid()),t.RemovePropertyChangedListener("IsLoading",this.$$d_$2vY))},$P2:function(){this.set_$1YV(this.$A4);this.$2Hn()},$2Hn:function(){this.set_IsScrollLocked(!$0.$0(this.$A4))},$1hJ:function(n){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1hJ.call(this,n);this.$2Hn()},$38m:function(n){for(var e,y,t,s,i,h,c,w,a=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$3p)),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$3p)),u={},f=0;f<n.$Kx.get_Count();f++)e=n.$Kx.get_$R(f),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$85.isInstanceOfType(e.get_$25())&&(u[f.toString()]=1,r.add(e));if(!$0.$0(this.$6b)&&this.$1AV)for(var v=this.$6b.$5C,b=v.length,o=0;o<b;++o)for(y=v[o],t=0;t<n.$Kx.get_Count();t++)if(!(t.toString()in u)&&(s=n.$Kx.get_$R(t),s.get_$25().$Ci.equals(y))){u[t.toString()]=1;a.add(s);break}for(r.addRange(a.toArray()),i=0;i<n.$Kx.get_Count();i++)i.toString()in u||r.add(n.$Kx.get_$R(i));h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.Guid));c=r.toArray();for(var p=c,k=p.length,l=0;l<k;++l)w=p[l],h.add(w.get_$25().$Ci);return this.set_$1lr(h.toArray()),c},$2Fg:function(){var u,f,n,e,t,i,r,o,s;if(this.get_SortedItems().get_Count()>0&&this.get_SortedItems().clear(),u=!$0.$0(this.$1f),u){if(f=!$0.$0(this.$5C),!f||!this.$5C.length){this.get_SortedItems().addRange(this.$1f.$1mk());return}for(n=0;n<this.$5C.length;n++)for(e=this.$5C[n],t=0;t<this.$1f.get_Count();t++){if(i=this.$1f.getItem(t),$0.$0(i))return;if(r=i.get_ModelContext(),o=!$0.$0(r)&&Microsoft.Crm.Client.Core.Models.$9u.isInstanceOfType(r),o&&(s=r,s.get_$1RC().equals(e))){this.get_SortedItems().add(i);break}}}}};Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel=function(){this.$$d_$2uO=Function.createDelegate(this,this.$2uO);this.$$d_$2M5=Function.createDelegate(this,this.$2M5);this.$$d_$2DS=Function.createDelegate(this,this.$2DS);this.$24F=this.isFieldEditable;Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.resolveInheritance();this.$1c8=this.getFieldNameFromDescriptorName;Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype={$rF:null,$YA:null,$1N4:null,$m2:null,$OK:null,get_EditStartedCommand:function(){return this.$rF},set_EditStartedCommand:function(n){return $0.$0(this.$rF)||(this.$rF.dispose(),this.$rF=null),this.$rF=n,this.$7("EditStarted"),n},get_EditFinishedCommand:function(){return this.$YA},set_EditFinishedCommand:function(n){return $0.$0(this.$YA)||(this.$YA.dispose(),this.$YA=null),this.$YA=n,this.$7("EditFinished"),n},get_LargerLineHeightForLabels:function(){return Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)},get_$et:function(){return $0.$0(this.$OK)&&this.$1aS(),this.$OK},$2Z:function(){var t,i,r,u,f,n,e,o;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$1aS();t=this;this.set_EditStartedCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){t.get_ModelContext()&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(t.get_ModelContext())&&t.get_ModelContext().$1Pv()},26));i=this;this.set_EditFinishedCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){i.get_ModelContext()&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(i.get_ModelContext())&&i.get_ModelContext().$1O4()},26));r=this.$H;for(u in r)f={key:u,value:r[u]},n=f.value,Microsoft.Crm.Client.Core.ViewModels.$6L.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$4D.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.isInstanceOfType(n)||(e=Microsoft.Crm.Client.Core.ViewModels.$88.isInstanceOfType(n)?n:null,o=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(n)?n.getPrimaryFieldName():this.getFieldNameFromDescriptorName(f.key),this.initializeFieldAccessRules(o,e));this.$2GA(this.get_ModelContext());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$2DS);Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)&&this.$2.AddPropertyChangedListener("AttributeMetadata",this.$$d_$2M5);Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)&&this.$2.AddPropertyChangedListener("MultipleEntityAttributeFormModelUpdate",this.$$d_$2uO)},$1aS:function(){if($0.$0(this.$OK)){var n=-1;Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.isInstanceOfType(this.$2)?n=2:Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)&&(n=0);this.$OK=new Microsoft.Crm.Client.Core.ViewModels.FieldAccessController(this.$2,this.get_ModelContext(),n)}else this.$OK.$3BG(this.get_ModelContext())},$CK:function(n,t){var i,r;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$CK.call(this,n,t);this.get_$et().isFieldAccessAvailable(n)||Microsoft.Crm.Client.Core.ViewModels.$6L.isInstanceOfType(t)||Microsoft.Crm.Client.Core.ViewModels.$4D.isInstanceOfType(t)||(i=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(t)?t.getPrimaryFieldName():this.getFieldNameFromDescriptorName(n),r=Microsoft.Crm.Client.Core.ViewModels.$88.isInstanceOfType(t)?t:null,this.initializeFieldAccessRules(i,r))},isFieldEditable:function(n){return this.get_$et().isFieldEditable(n)},isFieldSecured:function(n){return this.get_$et().isFieldSecured(n)},isFieldReadable:function(n){return this.get_$et().isFieldReadable(n)},isFieldAccessAvailable:function(n){return this.get_$et().isFieldAccessAvailable(n)},initializeFieldAccessRules:function(n,t){return this.$1NG(n,t)},$1NG:function(n,t){var r=this.get_$et().initializeFieldAccessRules(n),i;return(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2))&&(i=this,r.done(function(r){var u,f;$0.$0(t)||t.set_$24G(function(){return!i.isFieldEditable(n)});r.$DB&&(u=i.$H[n+"_edit"],$0.$0(u)||u.get_Enabled()===r.$Oi||u.set_Enabled(r.$Oi),f=i.$H[n],$0.$0(f)||f.get_Enabled()===r.$Oi||f.set_Enabled(r.$Oi));i.$2p2(n)&&i.get_$et().$2Eb(n,r)})),r},$2DS:function(){this.$7("FieldAccessChanged")},$2M5:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||this.$7("FieldAccessChanged")},$2GA:function(n){if(this.$2H8(this.$1N4),!$0.$0(n)){var t=this;this.$m2=function(n,i){i==="usersharedattributeprivileges"&&t.$7("FieldAccessChanged")};n.add_$7L(this.$m2)}this.$1N4=n},$2H8:function(n){$0.$0(n)||$0.$0(this.$m2)||(n.remove_$7L(this.$m2),this.$m2=null)},$Hd:function(){var i,r,t,n,u,f;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Hd.call(this);this.$1aS();i=this.$H;for(r in i)t={key:r,value:i[r]},n=t.value,Microsoft.Crm.Client.Core.ViewModels.$6L.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$4D.isInstanceOfType(n)||(u=Microsoft.Crm.Client.Core.ViewModels.$88.isInstanceOfType(n)?n:null,f=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(n)?this.$2gU(n,t.key.toString()):this.getFieldNameFromDescriptorName(t.key),this.$1NG(f,u));this.$2GA(this.get_ModelContext())},$2gU:function(n,t){return t.lastIndexOf(":")>0?t.substr(0,t.lastIndexOf(":"))+":"+n.getPrimaryFieldName():n.getPrimaryFieldName()},$Oh:function(){!$0.$0(this.$YA)&&this.$YA.get_CanExecute()&&this.$YA.execute();this.set_EditStartedCommand(null);this.set_EditFinishedCommand(null);this.$2H8(this.get_ModelContext());this.$m2=null;this.$1N4=null;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$2DS);Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)&&this.$2.RemovePropertyChangedListener("AttributeMetadata",this.$$d_$2M5);Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)&&this.$2.RemovePropertyChangedListener("MultipleEntityAttributeFormModelUpdate",this.$$d_$2uO);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$2uO:function(){$0.$0(this.$2.get_ModelContext())||!Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$2.get_ModelContext())||Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this)||Microsoft.Crm.Client.Core.ViewModels.$6L.isInstanceOfType(this)||this.$Hd()}};Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel=function(n){this.$$d_$28S=Function.createDelegate(this,this.$28S);this.$$d_$1gx=Function.createDelegate(this,this.$1gx);this.$$d_$1hY=Function.createDelegate(this,this.$1hY);this.$$d_$1ha=Function.createDelegate(this,this.$1ha);this.$$d_$287=Function.createDelegate(this,this.$287);this.$$d_$1q6=Function.createDelegate(this,this.$1q6);this.$$d_$2uS=Function.createDelegate(this,this.$2uS);this.$Af=-1;this.get_AttributeMetadata=this.get_$1Vw;this.set_AttributeMetadata=this.set_$1Vw;Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_LaunchedWithUnsavedChanges=this.get_$25N;this.set_LaunchedWithUnsavedChanges=this.set_$25N;Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.initializeBase(this,[n]);this.$a1=new Microsoft.Crm.Client.Core.ViewModels.Common.$8b(this)};Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype={$a1:null,$f8:null,$Bz:null,$HW:null,$1Oi:null,$Kd:null,$15L:!1,$15I:!1,$4I:null,$Uf:0,$Zb:!1,$1hs:!1,$mu:!1,$S8:!1,$tA:!1,$D0:null,$1CS:!1,$17t:!1,$2b:null,get_$CX:function(){return!$0.$0(this.get_ModelContext())&&this.get_ModelContext().$CX()},get_RetrieveEditFormDataXmlActionProvider:function(){return this.$1Oi},set_RetrieveEditFormDataXmlActionProvider:function(n){return this.$1Oi=n,n},get_ModelUpdateActionProvider:function(){return this.$HW},set_ModelUpdateActionProvider:function(n){return this.$HW=n,n},get_AttributeFieldNames:function(){return this.$4I},set_AttributeFieldNames:function(n){return this.$4I=n,this.$7("AttributeFieldNames"),n},$1l:null,get_$1Vw:function(){return this.$1l},set_$1Vw:function(n){return n===this.$1l?n:(this.$1l=n,this.$7("AttributeMetadata"),n)},$Uu:null,get_RetrieveOptions:function(){return this.$Uu},set_RetrieveOptions:function(n){return this.$Uu=n,n},get_NavigationBlockedOnSave:function(){return this.$15I},set_NavigationBlockedOnSave:function(n){return this.$15I!==n&&(this.$15I=n,this.$7("NavigationBlockedOnSave")),n},get_$25N:function(){return this.$Zb},set_$25N:function(n){return this.$Zb!==n&&(this.$Zb=n,this.$7("LaunchedWithUnsavedChanges")),n},get_$VL:function(){return this.get_$2nt()?Microsoft.Crm.Client.Core.Framework.$6.get_$3A()?!0:this.$S8:!0},add_PreNavigation:function(n){this.$1p("PreNavigation",n)},remove_PreNavigation:function(n){this.$32("PreNavigation",n)},get_$31Y:function(){return!0},$2Nt:function(n,t){return t},$27Y:function(){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$27Y.call(this);this.$17t=!1;this.$1CS&&this.$1q6()},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$2Z.call(this),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He),this.AddPropertyChangedListener("NavigationBlockedOnSave",this.$$d_$2uS));this.$Uu=Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq();this.$1hs&&Microsoft.Crm.Client.Core.ViewModels.$10.$wc(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("EditRootViewModel_OpenedInsteadOfUrlTarget_Notification"),1,"EditRootViewModel_OpenedInsteadOfUrlTarget")},$Rr:function(){this.$vh(!0)},refreshWithoutScriptReload:function(){this.$vh(!1)},$vh:function(n,t){var f,r,e,o;if(!this.get_$CX()||t)return this.get_$CX()?(f=MscrmComponents.DeferredPromiseFactory(Boolean,Object),r=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),this.$XA(f,"Web._forms.styles.FORM.crm.htc_Title"),e=this,o=this,f.then(function(t){t?e.$qN(n).then(function(){r.resolve(null)},function(n){r.reject(n)}):r.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147088110))},function(n){r.reject(n)}),r):this.$qN(n);var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),u=this,s=this;return this.$Hw(1).then(function(t){if(t)u.$qN(n).then(function(n){i.resolve(n)},function(n){i.reject(n)});else if(u.get_$CX()){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Object);u.$XA(r,"Web._forms.styles.FORM.crm.htc_Title");r.then(function(t){t?u.$qN(n).then(function(n){i.resolve(n)},function(n){i.reject(n)}):i.resolve(null)},function(n){i.reject(n)})}},function(n){i.reject(n)}),i.promise()},$1tm:function(n){return new Xrm.Gen.RetrieveProcessControlDataRequest(n,this.$1tF("processid","businessprocessflowinstance"),this.$1tF("processinstanceid","businessprocessflowinstance"))},$qN:function(n){var f,r,e,o;($0.$0(n)||n)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1jh(1);var u=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t=null,i=null;return!$0.$0(this.get_$1B())&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_$1B())&&(t=this.get_$1B()),$0.$0(t)||(Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(t.$KT=0),f=this,i=function(n,r){var f=r;f.$VD===1&&(t.remove_$7v(i),u.resolve(null))},t.add_$7v(i)),r=Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$vh.call(this),e=this,r.done(function(){Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("EditRootViewModel_AutoSave_Error");Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("EditRootViewModel_OpenedInsteadOfUrlTarget")}),$0.$0(t)?r:(o=this,r.fail(function(n){u.reject(n);t.remove_$7v(i)}),u)},$1Kw:function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jG(this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1Kw.call(this,n,t,i)},$1gR:function(n){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1gR.call(this,n);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$np(this.get_ViewModelId())},$28B:function(n){var r,t,u,i,f;if(this.$Kd)return this.$Kd;if(r=this.$4d("PreNavigation"),r&&r(this,null),t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),u=this,t.done(function(){u.$15L=!1;u.set_NavigationBlockedOnSave(!1)}),Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.isInstanceOfType(n)){if(i=n,!$0.$0(i.$TG)&&!$0.$0(i.$TG.InitializationParameters)&&(f=i.$TG.InitializationParameters,f.IsSaveAndEditButtonHidden))return this.$17t=!0,t.resolve(!0),t.promise()}else if(Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.isInstanceOfType(n))return this.$17t=!0,t.resolve(!0),t.promise();return this.$1d4(),this.get_$CX()?Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.$6i===1||!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$su?this.$2Pl(n,t):this.$2Cq(n,t):t.resolve(!0),t.promise()},$2Cq:function(n,t){var r=this.get_$1B(),u,i;if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.$6i===1){!this.$BY||this.$tA?(this.$XA(t,"DiscardChanges_Invalid_Message"),this.$tA=!1):Microsoft.Crm.Client.Core.ViewModels.$4A.$1P5("saveandclose",this);return}if(Microsoft.Crm.Client.Core.Framework.$6.$4N){this.$eV();t.resolve(!0);return}!this.$BY||this.$tA?(this.$XA(t,"DiscardChanges_Invalid_Message"),this.$tA=!1):Microsoft.Crm.Client.Core.ViewModels.$a.$14U()?r.$1AF?t.resolve(!0):(this.set_NavigationBlockedOnSave(!0),this.$15L=!0,u=this,i=this,this.$Hw(2).then(function(n){n?t.resolve(!0):u.$XA(t,"Web._forms.styles.FORM.crm.htc_Title")},function(){Microsoft.Crm.Client.Core.ViewModels.$a.$G5(r.$I.$2A.LogicalName)||n.get_$HY()===2||n.get_$HY()===4?Microsoft.Crm.Client.Core.ViewModels.$a.$G5(r.$I.$2A.LogicalName)&&n.get_$HY()!==2&&n.get_$HY()!==4?i.$1sS(t,"DiscardChanges_Invalid_Message",i.$Bz):(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$n3(i.get_ModelContext().get_Id()),t.resolve(!1)):i.$XA(t,"DiscardChanges_Offline_Message")})):this.$XA(t,"DiscardChanges_Offline_Message")},$MZ:function(n){var i,t;(this.$Bz=n,Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qy("EditRootViewModel.OnActionFailed",n.toString(),"",this.$D),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i)),n.$m===-2147093999&&this.$15L)||n.$m!==-2147220685&&(this.$15L||(this.$Uf===70?(t=String.format("{0}: {1}",Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(n.$m),Microsoft.Crm.Client.Core.Framework.Common.$2.$sJ(n)),Microsoft.Crm.Client.Core.ViewModels.$10.$wc(t,3,"EditRootViewModel_AutoSave_Error"),Microsoft.Crm.Client.Core.ViewModels.$10.$My(t)):Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$MZ.call(this,n)))},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Hd.call(this);this.$11G();this.$2b=this.get_$1B();this.$1Vv();!$0.$0(this.get_$1B())&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_$1B())&&this.set_IsLocked(this.$1WU())},$1WU:function(){var n=this.get_$1B();return Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1WU.call(this)||n.get_$sz()||Microsoft.Crm.Client.Core.Framework.$6.$4N||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$14N(n.$I.$2A.LogicalName,n,2)},$287:function(n,t){var i,u,r;if(!$0.$0(this.get_$1B())&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_$1B())&&(this.get_$1B().$KT===1&&(this.$2Cm(t),this.$Af===-1&&(this.$Af=window.setTimeout(this.$$d_$1q6,3e4))),t==="accessrights"&&this.set_IsLocked(this.$1WU())),this.get_$CX()){for(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i.add("stageid"),i.add("stageid!Raw"),i.add("stageid!Numeric"),i.add("traversedpath"),i.add("traversedpath!Raw"),i.add("traversedpath!Numeric"),u=!1,r=0;r<i.get_Count();r++)if(t===i.get_$R(r)){u=!0;break}u||Microsoft.Crm.Client.Core.ViewModels.$10.$My(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_Title"))}else Microsoft.Crm.Client.Core.ViewModels.$10.$My("")},$2Cm:function(n){Microsoft.Crm.Client.Core.ViewModels.$1p.get_$6().$3Db(this.get_ModelContext(),n)},$1co:function(){this.get_$CX()?this.$Hw(1):Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1co.call(this)},$2EP:function(n){var t=this.$Uu;this.$Zb&&(this.$Uu=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(this.$Uu.$IH,0));Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$2EP.call(this,n);this.$Uu=t},$Oh:function(){this.$a1.$5E();this.$11G();this.$2b=null;this.RemovePropertyChangedListener("NavigationBlockedOnSave",this.$$d_$2uS);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$Oh.call(this)},$1hY:function(){!$0.$0(this.get_$1B())&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_$1B())&&this.set_IsLocked(this.$1WU())},$2Pl:function(n,t){if(Microsoft.Crm.Client.Core.Framework.$6.$4N){this.$eV();t.resolve(!0);return}var i=this,r=this;Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ConfirmSave_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ConfirmSave_Message"),1,function(){i.$2Cq(n,t)},function(){r.$eV();t.resolve(!0)},Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ConfirmSave_SaveButton"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DiscardChanges_DiscardButton"))},$XA:function(n,t){var i=this,r=this;Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DiscardChanges_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4(t),1,function(){i.$eV();n.resolve(!0)},function(){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$n3(r.get_ModelContext().get_Id());n.resolve(!1)},Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DiscardChanges_DiscardButton"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DiscardChanges_ReturnButton"))},$1sS:function(n,t,i){var r=String.format("{0}: {1}",Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(i.$m),Microsoft.Crm.Client.Core.Framework.Common.$2.$sJ(i)),u=this,f=this;Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DiscardChanges_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4(t)+"\n\n"+r,1,function(){u.$eV();n.resolve(!0)},function(){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$n3(f.get_ModelContext().get_Id());n.resolve(!1)},Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DiscardChanges_DiscardButton"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DiscardChanges_ReturnButton"))},$eV:function(){var n,t;!$0.$0(this.get_$1B())&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_$1B())&&(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1Rk(this.$2b.get_Id()),n=this.get_$1B(),n.discardChanges(),this.$1ra(),Xrm.Internal.disableFieldChangeIndicator(),t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$hr,$0.$0(t)||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$hr=null),Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("EditRootViewModel_AutoSave_Error"),Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("EditRootViewModel_OpenedInsteadOfUrlTarget"))},$1Vv:function(){if(!$0.$0(this.get_$1B())&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_$1B())){var n=this.get_$1B();n.add_$7L(this.$$d_$287);n.add_$7v(this.$$d_$1ha);n.add_$mv(this.$$d_$1hY)}},$11G:function(){if(!$0.$0(this.$2b)&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$2b)){var n=this.$2b;n.remove_$7L(this.$$d_$287);n.remove_$7v(this.$$d_$1ha);n.remove_$mv(this.$$d_$1hY)}},$1q6:function(){if((this.$g!==40||this.$6i!==1)&&(this.$Af=-1,!Microsoft.Crm.Client.Core.Framework.$6.$4N)){if(this.$17t){this.$1CS=!0;return}this.$1CS=!1;this.$BY&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&this.get_$CX()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$su&&this.$Hw(70)}},$1ha:function(n,t){this.get_$CX()?Microsoft.Crm.Client.Core.ViewModels.$10.$My(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_Title")):Microsoft.Crm.Client.Core.ViewModels.$10.$My("");var i=t;i.$VD!==1&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||i.$bD!==1||this.$mu||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedReadReady",0,this.$1P),this.$mu=!0);this.$Zb&&(Microsoft.Crm.Client.Core.ViewModels.$1p.get_$6().$3Dc(this.get_ModelContext()),this.$Af=window.setTimeout(this.$$d_$1q6,3e4),this.get_ModelContext().$kB())},$Hw:function(n){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),f,u,r,t;return Microsoft.Crm.Client.Core.Framework.$6.$4N?(f=Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093991),i.reject(f),i.promise()):(window.clearTimeout(this.$Af),this.$Af=-1,n===2&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1Rk(this.$2b.get_Id()),this.$1d4(),this.$BY||n===70?$0.$0(this.$HW)||(u=this.$HW.$B1(n),this.$Kd=i,this.$Uf=n,Microsoft.Crm.Client.Core.ViewModels.$10.$My(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Navigation_WaitingForSave")+"..."),r=this,u.add_$by(function(){r.$Kd=null;r.$Uf=0;r.get_$CX()?Microsoft.Crm.Client.Core.ViewModels.$10.$My(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_Title")):Microsoft.Crm.Client.Core.ViewModels.$10.$My("");r.get_$CX()&&r.$Uf!==70?i.resolve(!1):(i.resolve(!0),Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("EditRootViewModel_AutoSave_Error"),Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("EditRootViewModel_OpenedInsteadOfUrlTarget"),r.$1ra())}),t=this,u.add_$Qe(function(){var r,n,f,u;Microsoft.Crm.Client.Core.ViewModels.$10.$My(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_Title"));switch(t.$Bz.$m){case-2147220685:t.$Uf!==70?t.$23Y():(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$EZ)),r.$3w(new Microsoft.Crm.Client.Core.ViewModels.$DR(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RefreshForm_SaveAnyway"),function(){t.$1d4();t.$1gx("Save")})),r.$3w(new Microsoft.Crm.Client.Core.ViewModels.$DR(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RefreshForm_ResolveDuplicate"),function(){t.$23Y()})),Microsoft.Crm.Client.Core.ViewModels.$10.$wc(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ViewDuplicates_Notification_Message"),2,"DuplicateFoundNotification",r,-1),t.$Kd=null,t.$Uf=0,i.reject(t.$Bz));break;default:t.$Kd=null;t.$Uf=0;n="";$0.$0(t.$Bz)||$0.$0(t.$Bz.$m)||(f=Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(t.$Bz.$m),u=Microsoft.Crm.Client.Core.Framework.Common.$2.$sJ(t.$Bz),$0.$0(u)||(n=String.format("{0}: {1}",f,u)));Microsoft.Crm.Client.Core.Framework.$3.$9(n)&&(n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(t.$Bz.$F));Microsoft.Crm.Client.Core.ViewModels.$10.$My(n);i.reject(t.$Bz)}}),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u)):(Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Form_Component_Error")),i.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Form_Component_Error"))),i.promise())},$23Y:function(){var t=this.$Bz,n;this.$D0=t.$D0;n=this.$1Oi.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)},$1gx:function(n){var t=this.$Kd,r,u,i;switch(n){case"Save":this.$S8=!0;r=this;u=this;this.$Hw(this.$Uf).then(function(n){$0.$0(t)||t.resolve(n)},function(n){$0.$0(t)||t.reject(n)});break;case"Cancel":this.$234(t);break;default:this.$234(t);n.indexOf("OpenRecord")!==-1&&(i=$(n),this.$tA=!0,Xrm.Utility.openEntityForm(i.find("type").text(),i.find("Id").text()))}},$234:function(n){this.$Kd=null;this.$Uf=0;$0.$0(n)||n.reject(this.$Bz)},$28S:function(n){this.$f8=n;var t="";$0.$0(this.get_ModelContext())||$0.$0(this.get_ModelContext().get_$4m())||(t=this.get_ModelContext().get_$4m().get_$4m());Microsoft.Crm.Client.Core.ViewModels.$7R.$17u(this.$f8,this.$$d_$1gx,t)},$2uS:function(){this.$15I?Microsoft.Crm.Client.Core.ViewModels.$10.$wc(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Navigation_WaitingForSave"),1,"EditRootViewControl_Navigation"):Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("EditRootViewControl_Navigation")},$1ra:function(){$0.$0(this.get_ModelContext())||this.get_ModelContext().$2h||!this.$Zb||this.get_ModelContext().$WZ();this.set_$25N(!1);Microsoft.Crm.Client.Core.ViewModels.$1p.get_$6().$3Dd(this.get_ModelContext())},$1d4:function(){Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("DuplicateFoundNotification")},$1tF:function(n,t){return!this.$8e||!(n in this.$8e)?new Xrm.Objects.EntityReference(t,Microsoft.Crm.Client.Core.Framework.Guid.get_empty()):new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(this.$8e[n].toString()))}};Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel=function(){this.$$d_$1hW=Function.createDelegate(this,this.$1hW);this.$$d_$33y=Function.createDelegate(this,this.$33y);this.$$d_$P2_8=Function.createDelegate(this,this.$P2_8);this.$$d_$KZ=Function.createDelegate(this,this.$KZ);Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype={$FA:null,$1kr:"",$sb_8:!1,$9h_8:0,$fz:null,$Md_8:null,$uv_8:!1,$13i_8:null,get_MetadataActionProvider:function(){return this.$FA},set_MetadataActionProvider:function(n){return this.$FA!==n&&(this.$FA=n),n},get_SelectedLabel:function(){return this.$1kr},set_SelectedLabel:function(n){return this.$1kr=n,this.$7("SelectedLabel"),n},$1hW:function(n,t,i){var u,f,r;if(t&&(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54))(n),u.insert(0,new Microsoft.Crm.Client.Core.ViewModels.$Bm("-1","")),n=u.toArray()),this.$13i_8=n,!this.$P4&&!this.$uv_8){if(this.set_$290(!0),this.$9h_8=$0.$0(i)?-1:i,this.$sb_8=t,$0.$0(this.get_ItemsList())||(f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54))(n),f.addRange(this.get_ItemsList()),n=f.toArray()),this.set_ItemsList(n),!$0.$0(this.$Md_8)&&this.$Md_8.get_Count()>0)for(r=0;r<this.$Md_8.get_Count();r++)this.$1jV_8(this.$Md_8.get_$R(r));($0.$0(this.get_Data())||String.isInstanceOfType(this.get_Data())&&Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_Data()))&&this.$9h_8!==-1&&this.set_SelectedItem(this.$9h_8.toString());this.$P2_8(null,null)}},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$Md_8=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number));this.AddPropertyChangedListener("Data",this.$$d_$KZ);this.AddPropertyChangedListener("SelectedItem",this.$$d_$P2_8);this.$KZ(null,null);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$nb(this.$$d_$33y)},$PH:function(){this.$so&&(this.set_ItemsList(this.$13i_8),this.$Md_8=null,this.$uv_8=!1,Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$PH.call(this))},$zi:function(n,t){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54))(this.get_ItemsList());$0.$0(t)||t<0||t>i.get_Count()?i.add(n):i.insert(t,n);this.set_ItemsList(i.toArray())},$16r:function(n){this.$P4?this.$1jV_8(n):(this.$Md_8.add(n),$0.$0(this.get_Data())||this.$1Rp())},$10Z:function(){this.$uv_8=!0;this.set_ItemsList(new Array(0));this.set_SelectedItem("-1");this.set_SelectedLabel("");this.set_Data(null)},$1Rp:function(){if(!this.$P4&&!$0.$0(this.$FA)){var n=this.$FA.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$nb(this.$$d_$33y)},$KZ:function(){if(!$0.$0(this.get_Data())&&Microsoft.Crm.Client.Core.Framework.$54.isInstanceOfType(this.get_Data())){var n=this.get_Data(),t=Number.parseInvariant(n.get_ValueString());isNaN(t)||(this.set_SelectedItem(t.toString()),this.set_SelectedLabel(n.get_Label()))}},$2hw:function(n){return new Microsoft.Crm.Client.Core.ViewModels.$Bm(this.$4i,this.get_ItemsList()[n].get_Label())},$P2_8:function(){var n,t;if($0.$0(this.get_Data())||!Microsoft.Crm.Client.Core.Framework.$54.isInstanceOfType(this.get_Data())||this.$4i!==this.get_Data().get_ValueString())for(n=0;n<this.get_ItemsList().length;n++)if(this.get_ItemsList()[n].get_ValueString()===this.$4i){t=this.$sb_8&&!n?null:this.$2hw(n);$0.$0(this.get_ModelContext())?this.set_Data(t):(this.get_ModelContext().$1Pv(),this.set_Data(t),this.get_ModelContext().$1O4());this.set_SelectedLabel(this.get_ItemsList()[n].get_Label());break}},$1jV_8:function(n){for(var i,r,u=this.get_ItemsList(),f=u.length,t=0;t<f;++t)if(i=u[t],i.get_ValueString()===n.toString()){r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54))(this.get_ItemsList());r.remove(i);this.set_ItemsList(r.toArray());this.$4i===n.toString()&&(this.set_SelectedItem("-1"),this.set_SelectedLabel(""),this.set_Data(null));return}},$33y:function(){this.$fz=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$4i)?null:parseInt(this.$4i)}};Microsoft.Crm.Client.Core.ViewModels.$EM=function(){Microsoft.Crm.Client.Core.ViewModels.$EM.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EM.prototype={$1Rp:function(){Microsoft.Crm.Client.Core.ViewModels.$13.$25i(this.$P4,this.$L,this.get_ModelContext(),this.$$d_$1hW)},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this);this.$1Rp()}};Microsoft.Crm.Client.Core.ViewModels.$EL=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Core.ViewModels.$EL.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EL.prototype={$nm:null,$3d:function(n){var i,t;for(this.$nm=n,i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54)),t=0;t<n.get_Count();t++)i.add(new Microsoft.Crm.Client.Core.ViewModels.$Bm(n.get_$R(t).$SB.toString(),n.get_$R(t).$nw));this.$1hW(i.toArray(),!0)},$2Z:function(){this.$nm=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.TimeZoneDefinition));Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$2Z.call(this);this.$1Rp()},$2hw:function(n){return!0&&(n=n-1),n>=0?this.$nm.get_$R(n).$SB:null},$KZ:function(){var i,n,t;if(!$0.$0(this.get_Data())&&Number.isInstanceOfType(this.get_Data())){for(i=this.get_Data(),n=null,t=0;t<this.$nm.get_Count();t++)if(i===this.$nm.get_$R(t).$SB){n=this.$nm.get_$R(t);break}$0.$0(n)||(this.set_SelectedItem(n.$SB.toString()),this.set_SelectedLabel(n.$nw))}}};Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel.prototype={get_ProcessRequirementSatisfied:function(){return $0.$0(this.get_Data())?!1:Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(this.get_Data())?!!this.get_Data().$1s:Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.get_ProcessRequirementSatisfied.call(this)}};Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel.prototype={$On:null,$sb:!1,$9h:0,$Md:null,$uv:!1,$13i:null,$1hW:function(n,t,i){var u,f,r;if(t&&(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54))(n),u.insert(0,new Microsoft.Crm.Client.Core.ViewModels.$Bm("-1",Xrm.Internal.getResourceString("PickList_Language_All"))),n=u.toArray()),this.$13i=n,!this.$P4&&!this.$uv){if(this.set_$290(!0),this.$9h=$0.$0(i)?-1:i,this.$sb=t,$0.$0(this.get_ItemsList())||(f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54))(n),f.addRange(this.get_ItemsList()),n=f.toArray()),this.set_ItemsList(n),!$0.$0(this.$Md)&&this.$Md.get_Count()>0)for(r=0;r<this.$Md.get_Count();r++)this.$1jV(this.$Md.get_$R(r));$0.$0(this.get_Data())&&(this.set_SelectedItem(this.$9h.toString()),this.set_HasFocus(!1));this.$P2(null,null)}},$1jV:function(n){for(var i,r,u=this.get_ItemsList(),f=u.length,t=0;t<f;++t)if(i=u[t],i.get_ValueString()===n.toString()){r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54))(this.get_ItemsList());r.remove(i);this.set_ItemsList(r.toArray());this.$4i===n.toString()&&(this.set_SelectedItem("-1"),this.set_SelectedLabel(Xrm.Internal.getResourceString("PickList_Language_All")),this.set_Data(null));return}},$P2:function(){var n,t;if($0.$0(this.get_Data())||!Microsoft.Crm.Client.Core.Framework.$54.isInstanceOfType(this.get_Data())||this.$4i!==this.get_Data().get_ValueString())for(n=0;n<this.get_ItemsList().length;n++)if(this.get_ItemsList()[n].get_ValueString()===this.$4i){t=this.$sb&&!n?null:this.$2hw(n);$0.$0(this.get_ModelContext())?this.set_Data(t):(this.get_ModelContext().$1Pv(),this.set_Data(t),this.get_ModelContext().$1O4());this.set_SelectedLabel(this.get_ItemsList()[n].get_Label());break}},$2Z:function(){this.$On=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number));this.$1Rp();Microsoft.Crm.Client.Core.ViewModels.$DL.prototype.$2Z.call(this)},$2hw:function(n){return new Microsoft.Crm.Client.Core.ViewModels.$Bm(this.$4i,this.get_ItemsList()[n].get_Label())},$1Rp:function(){if(!this.$P4&&!$0.$0(this.$FA)){var n=this.$FA.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this);this.$1Rp()}};Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel.prototype={$1Rp:function(){Microsoft.Crm.Client.Core.ViewModels.$13.$25i(this.$P4,this.$L,this.get_ModelContext(),this.$$d_$1hW)},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this);this.$1Rp()}};Microsoft.Crm.Client.Core.ViewModels.$EO=function(){this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2sb=Function.createDelegate(this,this.$2sb);Microsoft.Crm.Client.Core.ViewModels.$EO.initializeBase(this);this.AddPropertyChangedListener("ActionCommand",this.$$d_$2sb);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He);this.$Gi=!1};Microsoft.Crm.Client.Core.ViewModels.$EO.prototype={$He:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$24.prototype.$He.call(this,n,t);this.$7("CanNavigate")},$2sb:function(n,t){if(n===this&&t==="ActionCommand"&&(this.set_CanNavigate(this.$1Cl()),Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.isInstanceOfType(this.$1g))){var i=this.$1g;i.$GM=this.get_$2AD();i.set_$Dt(this.get_$Dt())}},get_$2AD:function(){return""},get_$Dt:function(){return this.get_Text()},$KZ:function(n,t){if(n===this&&t==="Data"){if(!$0.$0(this.$1g)){var i=this.$1g;i.set_$Dt(this.get_$Dt())}this.$7("Text");Microsoft.Crm.Client.Core.ViewModels.$SV.prototype.$KZ.call(this,n,t)}},get_Text:function(){return this.get_Data()},set_Text:function(n){return this.get_Text()!==n&&(this.set_Data(n),this.$7("Text")),n},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.ViewModels.$24.prototype.$Oh.call(this)},$1Cl:function(){return!$0.$0(this.$1g)&&this.$1g.get_CanExecute()&&!Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_Data())&&Microsoft.Crm.Client.Core.ViewModels.$SV.prototype.$1Cl.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$1N=function(){};Microsoft.Crm.Client.Core.ViewModels.$1N.set_$2PM=function(n){return Microsoft.Crm.Client.Core.ViewModels.$1N.$e2!==n&&(Microsoft.Crm.Client.Core.ViewModels.$1N.$e2=n,Microsoft.Crm.Client.Core.ViewModels.$1N.$e2.endsWith("/")||(Microsoft.Crm.Client.Core.ViewModels.$1N.$e2+="/"),Microsoft.Crm.Client.Core.ViewModels.$1N.$qK=null),n};Microsoft.Crm.Client.Core.ViewModels.$1N.$1m2=function(n){var t=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$7);return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$1N.$e2)?t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Collector server URL not specified in main.htm")):$0.$0(Microsoft.Crm.Client.Core.ViewModels.$1N.$qK)||n?Microsoft.Crm.Client.Core.ViewModels.$1N.$38y().then(function(n){Microsoft.Crm.Client.Core.ViewModels.$1N.$qK=n;t.resolve(n)},function(n){t.reject(Microsoft.Crm.Client.Core.Framework.$7.$3F9(n,"Unable to connect to marker collector server.."))}):t.resolve(Microsoft.Crm.Client.Core.ViewModels.$1N.$qK),t.promise()};Microsoft.Crm.Client.Core.ViewModels.$1N.$1kc=function(n,t){for(var o,s,r,c,u=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$7),i="",f=0,h=n,l=h.length,e=0;e<l;++e)o=h[e],f=Math.max(f,o.$Ad.length),i+=o.$2Gh(!0),i+="\n";for(s="Start,Duration,Type,Name",r=1;r<=f;r++)s+=",Parameter"+r.toString();return i=s+"\n"+i,c=Microsoft.Crm.Client.Core.Framework.$3.$9(t)?Microsoft.Crm.Client.Core.ViewModels.$1N.$2ZE():t,Microsoft.Crm.Client.Core.ViewModels.$1N.$340(c,i).then(function(n){u.resolve(n)},function(n){u.reject(Microsoft.Crm.Client.Core.Framework.$7.$3F9(n,"Failed to save performance markers to server."))}),u.promise()};Microsoft.Crm.Client.Core.ViewModels.$1N.$38y=function(){var n=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?"unknown":"browser",t;return Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===4?(n=Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$5p.toString(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.get_MailState().get_$1LB()),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.get_MailState().get_$1LB()===2&&(n+=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Ts?"_Chorme":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$g5?"_Firefox":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$HL?"_IE":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Tt?"_Safari":"_Unknown")):Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Ts?n="windows":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?n="ios":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T&&(n="android"),t=Microsoft.Crm.Client.Core.Framework.$5N.toString(Microsoft.Crm.Client.Core.Framework.$6.get_$1d()),Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===1&&(t="tablet"),Microsoft.Crm.Client.Core.ViewModels.$1N.$2DK("startsession",{os:n,formFactor:t,serverVersion:Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$1kw(),appVersion:Microsoft.Crm.Client.Core.ViewModels.$1N.$2UH()})};Microsoft.Crm.Client.Core.ViewModels.$1N.$340=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.$1N.$2DK("savemarkers",{session:Microsoft.Crm.Client.Core.ViewModels.$1N.$qK,filename:n,csv:t})};Microsoft.Crm.Client.Core.ViewModels.$1N.$2DK=function(n,t){var r=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$7),i={};return i.url=Microsoft.Crm.Client.Core.ViewModels.$1N.$e2+n+"/",i.type="POST",i.cache=!1,i.contentType="application/json; charset=utf-8",i.data=JSON.stringify(t),i.dataType="text",$.ajax(i).success(function(n){window.setTimeout(function(){r.resolve(n)},0)}).error(function(n,t,i){r.reject(Microsoft.Crm.Client.Core.Framework.$7.$1GB(i))}),r.promise()};Microsoft.Crm.Client.Core.ViewModels.$1N.$2ZE=function(){for(var i,n,r,o,s,t=null,e=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),u="",f=0,h=e.length;f<h;f++)i=e[f],i.$1c==="LoadedFull"?($0.$0(t)||t.$45<i.$45)&&(t=i):i.$1c==="OfflineSync"&&(u=i.$Ad[0].toString());if(n="UnknownPage",r=null,!$0.$0(t)&&t.$Ad.length>=3){o=$16.$Ae(Microsoft.Crm.Client.Core.Framework.$1,t.$Ad[1]);r=t.$Ad[2];switch(o){case 2:n="EditForm";break;case 13:n="Grid";break;case 5:n="CreateForm";break;case 1:n="Dashboard";break;case 17:n="ChartDrilldown";break;case 34:n="SenderForm";break;case 35:n="SetRegarding";break;case 36:n="SenderCreateForm";break;case 37:n="InteractionCentricWorkspace";break;case 40:n="InteractionCentricForm";break;case 39:n="TaskBasedFlow"}}return s=n==="UnknownPage"&&$0.$0(r)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(u),s?u:n+($0.$0(r)?"":"_"+r)};Microsoft.Crm.Client.Core.ViewModels.$1N.$2UH=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Application_Version_Format"),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1y(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$pz(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$w5(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1gU()):"Browser"};Microsoft.Crm.Client.Core.ViewModels.$55=function(){};Microsoft.Crm.Client.Core.ViewModels.$55.$$cctor=function(){$0.$0(Microsoft.Crm.Client.Core.ViewModels.$55.$8t)&&(Microsoft.Crm.Client.Core.ViewModels.$55.$8t=new Microsoft.Crm.Client.Core.ViewModels.$55)};Microsoft.Crm.Client.Core.ViewModels.$55.prototype={$1tV:function(n,t,i){return new Microsoft.Crm.Client.Core.Storage.DataApi.$Qs(n,t,i)}};Microsoft.Crm.Client.Core.ViewModels.$1r=function(){};Microsoft.Crm.Client.Core.ViewModels.$1r.$$cctor=function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$28l(Microsoft.Crm.Client.Core.ViewModels.$1r.$28l)};Microsoft.Crm.Client.Core.ViewModels.$1r.get_$6=function(){return Microsoft.Crm.Client.Core.ViewModels.$1r.$C||(Microsoft.Crm.Client.Core.ViewModels.$1r.$C=new Microsoft.Crm.Client.Core.ViewModels.$1r)};Microsoft.Crm.Client.Core.ViewModels.$1r.$28l=function(n){var t=JSON.parse(n);switch(t.name){case"showView":Microsoft.Crm.Client.Core.ViewModels.$1r.get_$6().$26g(t.parameters.viewName);return;case"showEntityView":Microsoft.Crm.Client.Core.ViewModels.$1r.get_$6().$2s9(t.parameters.viewName,t.parameters.entityName);return;case"findRecord":Microsoft.Crm.Client.Core.ViewModels.$1r.get_$6().$2X5(t.parameters.recordName);return;case"createRecord":Microsoft.Crm.Client.Core.ViewModels.$1r.get_$6().$2Ss(t.parameters.entityName,t.parameters.primaryFieldValue);return;case"createPhoneCall":Microsoft.Crm.Client.Core.ViewModels.$1r.get_$6().$1YI("phonecall",t.parameters.primaryFieldValue);return;case"createTask":Microsoft.Crm.Client.Core.ViewModels.$1r.get_$6().$1YI("task",t.parameters.primaryFieldValue);return;case"createAppointment":Microsoft.Crm.Client.Core.ViewModels.$1r.get_$6().$1YI("appointment",t.parameters.primaryFieldValue);return;case"openTasks":Microsoft.Crm.Client.Core.ViewModels.$1r.get_$6().$2wJ();return}};Microsoft.Crm.Client.Core.ViewModels.$1r.prototype={$1C7:null,get_$1C8:function(){return $0.$0(this.$1C7)&&(this.$1C7=MscrmComponents.DeferredPromiseFactory(Boolean,Boolean)),this.$1C7},$2s9:function(n,t){if(!$0.$0(n)&&!$0.$0(t)){var i=this;this.$1jz(t).done(function(t){i.$32g(n,t.get_$2I()).then(function(n){i.$1gY(n)},function(){i.$1gX(t.get_$2I())})})}},$26g:function(n){if(!$0.$0(n)){var t=this,i=this;this.$32f(n).then(function(n){t.$1gY(n)},function(){i.$2s4(n)})}},$2X5:function(n){var t=this;this.get_$1C8().done(function(){var i=t.$2SV(n);i.execute();i.dispose()})},$2Ss:function(n,t){if(!$0.$0(n)){var i=this;this.$1jz(n).done(function(n){i.$1tf(n,t)})}},$1YI:function(n,t){if(!$0.$0(n)){var i=this;this.$2C5(n).done(function(n){i.$1tf(n,t)})}},$2wJ:function(){var n=this;this.$2C5("task").done(function(t){n.$1gX(t.get_$2I())})},$1gY:function(n){var t=this;this.get_$1C8().done(function(){var t=new Microsoft.Crm.Client.Core.Commands.$2R(null,13);t.$D=n.$6e;t.$x={};t.$x.ListDefinitionId=n.$q;t.execute();t.dispose()})},$2SV:function(n){var t=new Microsoft.Crm.Client.Core.Commands.$2R(null,26);return t.$x={},t.$x.SearchText=n,t},$1tf:function(n,t){if($0.$0(t))Xrm.Utility.openEntityForm(n.get_$2I());else{var i={};(n.get_$2I()==="contact"||n.get_$2I()==="lead"||n.get_$2I()==="systemuser")&&n.get_$Dn()==="fullname"?i.lastname=t:i[n.get_$Dn()]=t;Xrm.Utility.openEntityForm(n.get_$2I(),null,i)}},$1gX:function(n){var t=this;this.$32N(n).done(function(n){t.$1gY(n)})},$2s4:function(n){var t=this;this.$1jz(n).done(function(n){t.$1gX(n.get_$2I())})},$1jz:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.$2G,Microsoft.Crm.Client.Core.Framework.$7),r=this,i={QueryType:"RetrieveEntityMetadataByDisplayNameAction",EntityDisplayNameParameter:n,OnSuccessParameter:function(n){t.resolve(n)}};return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,i),t},$2C5:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.$2G,Microsoft.Crm.Client.Core.Framework.$7),r=this,i={QueryType:"RetrieveMultipleEntityMetadataAction",EntityLogicalNamesParameter:[n],OnSuccessParameter:function(n){t.resolve(n[0])}};return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,i),t},$32N:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f,Microsoft.Crm.Client.Core.Framework.$7),r=this,i={QueryType:"RetrieveDefaultListForEntityAction",EntityLogicalNameParameter:n,OnSuccessParameter:function(n){t.resolve(n)}};return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,i),t},$32f:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f,Microsoft.Crm.Client.Core.Framework.$7),r=this,u=this,i={QueryType:"RetrieveListByDisplayNameAction",ListDisplayNameParameter:n,OnSuccessParameter:function(n){t.resolve(n)},OnFailureParameter:function(n){t.reject(n)}};return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",new Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel,i),t},$32g:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f,Microsoft.Crm.Client.Core.Framework.$7),u=this,f=this,r={QueryType:"RetrieveListByDisplayNameAction",ListDisplayNameParameter:n,EntityLogicalNameParameter:t,OnSuccessParameter:function(n){i.resolve(n)},OnFailureParameter:function(n){i.reject(n)}};return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,r),i}};Microsoft.Crm.Client.Core.ViewModels.$1r.$3ER=function(){};Microsoft.Crm.Client.Core.ViewModels.$1r.$3ER.prototype={name:null,parameters:null};Microsoft.Crm.Client.Core.ViewModels.$Hx=function(){this.$$d_$2rg=Function.createDelegate(this,this.$2rg);$addHandler(window.self,"message",this.$$d_$2rg)};Microsoft.Crm.Client.Core.ViewModels.$Hx.prototype={$2rg:function(n){var f=n.rawEvent.origin,e=Microsoft.Crm.Client.Core.ViewModels.$1s.get_$22x(),i,t,r,u;f===e&&(i="",t=Sys.Serialization.JavaScriptSerializer.deserialize(n.rawEvent.data),$0.$0(t)||(i=t.command),i==="closeDialog"?(r=t.id,u=t.params,Microsoft.Crm.Client.Core.ViewModels.$1s.$e1(r,u)):Microsoft.Crm.Client.Core.Framework.Trace.logError(81,"Attempting to call unknown method: {0}",i))}};Microsoft.Crm.Client.Core.ViewModels.$Hw=function(n,t){this.$Jj=n;this.$M=t};Microsoft.Crm.Client.Core.ViewModels.$Hw.prototype={$Jj:null,$M:null,get_$2PP:function(){var n={};return n.command=this.$Jj,n.params=this.$M,n}};Microsoft.Crm.Client.Core.ViewModels.$1s=function(){this.$26I=new Microsoft.Crm.Client.Core.ViewModels.$Hx};Microsoft.Crm.Client.Core.ViewModels.$1s.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$1s.$1LD)&&(Microsoft.Crm.Client.Core.ViewModels.$1s.$1LD=new Microsoft.Crm.Client.Core.ViewModels.$1s),Microsoft.Crm.Client.Core.ViewModels.$1s.$1LD};Microsoft.Crm.Client.Core.ViewModels.$1s.get_$22x=function(){var n=window.location.hostname,t=window.location.port,i=window.location.protocol;return Microsoft.Crm.Client.Core.Framework.$3.$9(t)?Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}//{1}",i,n):Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}//{1}:{2}",i,n,t)};Microsoft.Crm.Client.Core.ViewModels.$1s.$e1=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$1d.$Ji(n,t);Microsoft.Crm.Client.Core.ViewModels.$1s.$1mp--};Microsoft.Crm.Client.Core.ViewModels.$1s.$2Qn=function(n,t,i){var r={};return IsNull(i)&&(i=window),r.context=i,r.callback=n,IsNull(t)||(r.parameters=t),r};Microsoft.Crm.Client.Core.ViewModels.$1s.$2Vu=function(n){var t;if(!IsNull(n)){var u=n.context,f=n.callback,i=n.parameters,r=[];if(!IsNull(i))for(t=0;t<i.length;t++)r[t]=i[t];try{f.apply(u,r)}catch(e){}}};Microsoft.Crm.Client.Core.ViewModels.$1s.$2sR=function(){return Microsoft.Crm.Client.Core.ViewModels.$1s.$1mp++};Microsoft.Crm.Client.Core.ViewModels.$1s.$1x2=function(n){var t=window.document.getElementById(n);return IsNull(t)?n:Microsoft.Crm.Client.Core.ViewModels.$1s.$1x2(n+"1")};Microsoft.Crm.Client.Core.ViewModels.$1s.prototype={$26I:null,$2Rc:function(n,t,i,r,u,f,e,o){var h=Microsoft.Crm.Client.Core.ViewModels.$1s.$1x2("InlineDialog"),s={},c,l;s.passedArguments=t;s.callbackFunction=o;s.InlineDialogId=h;c=String.format("{0}{1}user_lcid={2}&client_type={3}",n,n.indexOf("?")>0?"&":"?",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$DC,"MobileClient");l=new Microsoft.Crm.Client.Core.ViewModels.$1d(h,c,i,r,u,f,Microsoft.Crm.Client.Core.ViewModels.$1s.$2sR());l.$17u();s.screenHeight=window.innerHeight;s.nativeBridge=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance();window.self.InlineDialogId=h;window.self[h+"_childDialogArguments"]=s;window.self.initFunction=e}};Microsoft.Crm.Client.Core.ViewModels.$1d=function(n,t,i,r,u,f,e){var o,s;this.$$d_$2vk=Function.createDelegate(this,this.$2vk);this.$$d_$2uy=Function.createDelegate(this,this.$2uy);($0.$0(f)||isNaN(f))&&(o=$(window).height(),f=(o-r)/2);($0.$0(u)||isNaN(u))&&(s=$(window).width(),u=(s-i)/2);f<0&&(f=0);u<0&&(u=0);this.$13X=n;this.$1nO=this.$2Jz(t);this.$FU=i;this.$Ih=r;this.$Zc=u;this.$CA=f;this.$MD=null;this.$1SR=e;this.$1SM=this.$$d_$2vk;$(window).bind("resize",this.$$d_$2uy);n in Microsoft.Crm.Client.Core.ViewModels.$1d.get_$pq()||(Microsoft.Crm.Client.Core.ViewModels.$1d.get_$pq()[n]=this)};Microsoft.Crm.Client.Core.ViewModels.$1d.$Ji=function(n,t){var u=n+"_Background",r=window.document.getElementById(u),i=window.document.getElementById(n);if(IsNull(r)||IsNull(i))return!1;var f=window.self[n+"_childDialogArguments"],e=f.callbackFunction,o=Microsoft.Crm.Client.Core.ViewModels.$1s.$2Qn(e,[t],i.parentNode);return n in Microsoft.Crm.Client.Core.ViewModels.$1d.get_$pq()&&(Microsoft.Crm.Client.Core.ViewModels.$1d.$2On(n),delete Microsoft.Crm.Client.Core.ViewModels.$1d.get_$pq()[n]),Microsoft.Crm.Client.Core.ViewModels.$1d.$1DE(r,i),Microsoft.Crm.Client.Core.ViewModels.$1s.$2Vu(o),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("DialogPresent",!1),!0};Microsoft.Crm.Client.Core.ViewModels.$1d.$1DE=function(n,t){IsNull(n)||($removeHandler(n,"touchstart",Microsoft.Crm.Client.Core.ViewModels.$1d.$1Qq),$removeHandler(n,"touchmove",Microsoft.Crm.Client.Core.ViewModels.$1d.$1Qq),window.document.body.removeChild(n));IsNull(t)||window.document.body.removeChild(t)};Microsoft.Crm.Client.Core.ViewModels.$1d.$2On=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$1d.get_$pq()[n];$(window).unbind("resize",t.$$d_$2uy);t.$1SM=null};Microsoft.Crm.Client.Core.ViewModels.$1d.$27t=function(n){var t=n.target,u;$removeHandler(t,"load",Microsoft.Crm.Client.Core.ViewModels.$1d.$27t);var i=window.self.InlineDialogId,r=window.self[i+"_childDialogArguments"],f=window.self.initFunction;t.contentWindow.InlineDialogId=i;t.contentWindow.dialogArguments=r;t.contentWindow.isMobileClient=!0;u=new Microsoft.Crm.Client.Core.ViewModels.$Hw(f,r.passedArguments);t.contentWindow.postMessage(Sys.Serialization.JavaScriptSerializer.serialize(u.get_$2PP()),Microsoft.Crm.Client.Core.ViewModels.$1s.get_$22x())};Microsoft.Crm.Client.Core.ViewModels.$1d.$1Qq=function(n){n.stopPropagation();n.preventDefault()};Microsoft.Crm.Client.Core.ViewModels.$1d.get_$pq=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$1d.$1Bz)&&(Microsoft.Crm.Client.Core.ViewModels.$1d.$1Bz={}),Microsoft.Crm.Client.Core.ViewModels.$1d.$1Bz};Microsoft.Crm.Client.Core.ViewModels.$1d.prototype={$13X:null,$1nO:null,$FU:0,$Ih:0,$Zc:0,$CA:0,$1SR:0,$MD:null,$HI:null,$gO:null,$1SM:null,$1OP:0,$2uy:function(){this.$1OP&&Microsoft.Crm.Client.Core.Framework.$22.$2Na(this.$1OP);var n=this;this.$1OP=Microsoft.Crm.Client.Core.Framework.$22.$1Na(1028,"Resize",function(){n.$1SM()},200)},$2vk:function(){var t,i,n;Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By?(t=$(window).height(),this.$CA=(t-this.$Ih)/2,i=$(window).width(),this.$Zc=(i-this.$FU)/2,this.$CA<0&&(this.$CA=0),this.$Zc<0&&(this.$Zc=0),this.$1CD(this.$MD),this.$1CD(this.$HI)):Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T&&(n=this.$HI.clientHeight-this.$Ih,this.$MD.style.height=this.$HI.clientHeight+"px",n>0&&$(window).scrollTop(window.pageYOffset+n))},$17u:function(){IsNull(this.$MD)&&this.$2Rv();$addHandler(this.$HI,"load",Microsoft.Crm.Client.Core.ViewModels.$1d.$27t);this.$MD.className="ms-crm-DialogChrome";this.$MD.style.position="absolute";Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T&&(this.$MD.style.overflowY="scroll");this.$1CD(this.$MD);this.$HI.style.height=this.$Ih+"px";this.$HI.style.width=this.$FU+"px";this.$HI.style.border="0px";this.$HI.setAttribute("src",this.$1nO);this.$1CD(this.$gO);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("DialogPresent",!0)},$1CD:function(n){n.style.height=this.$Ih+"px";n.style.width=this.$FU+"px";n.style.top=this.$CA+"px";n.style.left=this.$Zc+"px";n.style.zIndex=this.$1SR},$2Qk:function(){var t=this.$13X+"_Background",n=document.createElement("div");n.id=t;window.document.body.appendChild(n);n.style.position="absolute";n.style.zIndex=this.$1SR-1;n.style.width="100%";n.style.height="100%";n.style.top="0px";n.style.backgroundColor="gray";$(n).css("opacity","0.5");$addHandler(n,"touchstart",Microsoft.Crm.Client.Core.ViewModels.$1d.$1Qq);$addHandler(n,"touchmove",Microsoft.Crm.Client.Core.ViewModels.$1d.$1Qq)},$2Rv:function(){this.$2Qk();this.$MD=document.createElement("div");this.$MD.id=this.$13X;window.document.body.appendChild(this.$MD);this.$2SD();this.$2Rw();this.$MD.appendChild(this.$HI)},$2Rw:function(){var n=this.$13X+"_Iframe";this.$HI=document.createElement("iframe");this.$HI.id=n;this.$HI.setAttribute("name",n);this.$HI.style.borderWidth="1px";this.$HI.style.borderStyle="solid";this.$HI.style.borderColor="#D6D6D6"},$2SD:function(){this.$gO=document.createElement("div");this.$gO.id="DialogLoadingDiv";this.$gO.innerHTML=String.format("<table class='ms-crm-LoadingContainer' style='width:100%;height:100%'>\r\n\t\t\t\t\t<tr class='ms-crm-LoadingContainer'>\r\n\t\t\t\t\t\t<td style='vertical-align: middle' align='center'>\r\n\t\t\t\t\t\t\t<IMG id='DialogLoadingDivImg' alt='' src='/_imgs/AdvFind/progress.gif'>\r\n\t\t\t\t\t\t\t<br>{0}\r\n\t\t\t\t\t\t<\/td>\r\n\t\t\t\t\t<\/tr>\r\n\t\t\t\t<\/table>","");this.$gO.style.position="absolute";this.$gO.style.backgroundColor="white";this.$gO.style.display="none"},$2Jz:function(n){return n.indexOf("?")>0?n+"&dType=2":n+"?dType=2"}};Microsoft.Crm.Client.Core.ViewModels.$DL=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Core.ViewModels.$DL.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DL.prototype={$On_9:null,$3d:function(n,t){var r,i;for(this.$On_9=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number))(n),this.$On_9.sort(),this.$On_9.remove(t),this.$On_9.insert(0,t),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54)),i=0;i<this.$On_9.get_Count();i++)r.add(new Microsoft.Crm.Client.Core.ViewModels.$Bm(this.$On_9.get_$R(i).toString(),Microsoft.Crm.Client.Core.Storage.Formatting.CrmNumericFormatter.$C.$1G6(this.$On_9.get_$R(i))));this.$1hW(r.toArray(),!0)},$2Z:function(){this.$On_9=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number));Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.prototype.$2Z.call(this);this.$1Rp()},$2hw:function(n){return!0&&(n=n-1),n>=0?this.$On_9.get_$R(n):null},$KZ:function(){if(!$0.$0(this.get_Data())&&Number.isInstanceOfType(this.get_Data())){var n=this.get_Data();n>=0&&(this.set_SelectedItem(n.toString()),this.set_SelectedLabel(Microsoft.Crm.Client.Core.Storage.Formatting.CrmNumericFormatter.$C.$1G6(n)))}}};Microsoft.Crm.Client.Core.ViewModels.$Ha=function(n){var t,i;$0.$0(n)||(t="StopMarker",t in n.$Io&&(i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$sN(n.$Io[t]),$0.$0(i)||(n=i)),this.$Ps=n)};Microsoft.Crm.Client.Core.ViewModels.$Ha.prototype={get_Message:function(){return this.$Ps.toString()},$Ps:null,get_Marker:function(){return this.$Ps},set_Marker:function(n){return this.$Ps=n,n},$Vv:!1,get_IsSelected:function(){return this.$Vv},set_IsSelected:function(n){return this.$Vv=n,n},get_StartTime:function(){var t="StartMarker",n;return t in this.$Ps.$Io?(n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$sN(this.$Ps.$Io[t]),n?n.$45:this.$Ps.$45-50):-1},markerTypeString:function(){return Microsoft.Crm.Client.Core.Framework.$3n.toString(this.$Ps.$JQ)}};Microsoft.Crm.Client.Core.ViewModels.$SB=function(){this.$Ug=new Array(0);Microsoft.Crm.Client.Core.ViewModels.$SB.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$SB.prototype={$1k:!1,$17V:null,get_PerformanceMarkerAreas:function(){return this.$Ug},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return n!==this.$1k&&(this.$1k=n,this.$7("IsLoading")),n},$SZ:0,get_MinTime:function(){return this.$SZ},set_MinTime:function(n){return this.$SZ=n,n},$dJ:0,get_MaxTime:function(){return this.$dJ},set_MaxTime:function(n){return this.$dJ=n,n},performanceMarkerAreaCount:function(){return this.$Ug.length},set_$1PN:function(n){return n!==this.$17V&&(this.$17V=n,this.$7("SelectedMarkersMessage")),n},totalTime:function(){return this.$dJ>this.$SZ?this.$dJ-this.$SZ:0},$2P3:function(){this.$Ug=new Array(0)},$31q:function(){var n;this.$SZ=Number.MAX_VALUE;this.$dJ=Number.MIN_VALUE;for(var i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),r=i.length,t=0;t<r;++t)n=i[t],n.$45<this.$SZ&&(this.$SZ=n.$45),n.$45>this.$dJ&&(this.$dJ=n.$45)},$2xl:function(){var f=MscrmComponents.DeferredPromiseFactory(Object,Object),e=[],i,n,u,t,s,c;this.$31q();this.set_IsLoading(!0);i=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Boolean));for(var o=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),h=o.length,r=0;r<h;++r)(n=o[r],i.$3F5(n.$2m))||(u="StopMarker",u in n.$Io&&(t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$sN(n.$Io[u]),t&&(i.set_$R(t.$2m,!0),t.$tx=this.$SZ,Array.add(e,Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Hb(t)))),n.$tx=this.$SZ,s=new Microsoft.Crm.Client.Core.ViewModels.$Ha(n),this.$Ug.push(s));return this.set_IsLoading(!1),c=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e).always(function(){f.resolve()}),f.promise()},$2DE:function(){var i="",t,n;for(this.set_IsLoading(!0),t=0;t<this.$Ug.length;t++)n=this.$Ug[t],n.$Ps.$JQ===1?(i+=n.get_Message()+"\r\n",n.$Vv=!0):n.$Vv=!1;this.set_IsLoading(!1);this.set_$1PN(i)},$2Wr:function(n){var r="",u,t;this.set_IsLoading(!0);u=new RegExp(n,"i");for(var f=this.$Ug,e=f.length,i=0;i<e;++i)t=f[i],u.test(t.get_Message())?(r+=t.get_Message()+"\r\n",t.$Vv=!0):t.$Vv=!1;this.set_IsLoading(!1);this.set_$1PN(r)},updateSelectedMarkersMessage:function(){var t;this.set_$1PN("");for(var i=this.$Ug,r=i.length,n=0;n<r;++n)t=i[n],t.$Vv&&this.set_$1PN(this.$17V+t.get_Message()+"\r\n")}};Microsoft.Crm.Client.Core.ViewModels.$SC=function(){this.$$d_$39n=Function.createDelegate(this,this.$39n);Microsoft.Crm.Client.Core.ViewModels.$SC.initializeBase(this);this.$od=new Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry(this.$$d_$39n,"","toggleEnabled");this.$2HO();this.$DL=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry))};Microsoft.Crm.Client.Core.ViewModels.$SC.prototype={$Ub:null,$od:null,get_$1ev:function(){return this.$21u()},set_$1ev:function(n){return n!==this.$21u()&&(this.$37m(n),this.$2HO(),this.$2vU()),n},get_OutputMessage:function(){return this.$Ub},set_OutputMessage:function(n){return n!==this.$Ub&&(this.$Ub=n,this.$7("OutputMessage")),n},$DL:null,get_Commands:function(){return this.$DL},set_Commands:function(n){return this.$DL=n,n},$21u:function(){return!0},$37m:function(){},$2vU:function(){},$39n:function(){this.set_$1ev(!this.get_$1ev())},$2HO:function(){this.$od.set_Name(this.get_$1ev()?"Disable":"Enable")}};Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.initializeBase(this);this.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_About");this.$ut=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:",Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$226("Settings_Privacy_Statement_Link"));this.$ur=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:",Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$226(this.$2h0()))};Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$32j=function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1cb(Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1g6,function(n){$0.$0(n)||(Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1g5=n[Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1g6[0]])})};Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$226=function(n){var t=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n);return t+"&clcid=0x"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$lj().toString(16)};Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.prototype={$ut:null,$ur:null,$1LC:null,get_AboutBrandTitle:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Brand_Title")},get_ManagedLabel:function(){return this.$1LC},set_ManagedLabel:function(n){return n!==this.$1LC&&(this.$1LC=n,this.$7("ManagedLabel")),n},get_AppVersionLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_App_Version")},get_AppVersion:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Application_Version_Format"),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1y(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$pz(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$w5(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1gU())},get_ServerVersionLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Server_Version")},get_ServerVersion:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$PK;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Server_Version_Format"),n.$wL)},get_WebAddressLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Web_Address")},get_WebAddress:function(){return window.location.href},get_OrgNameLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Org_Name")},get_OrgName:function(){var n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$Rc(this.get_WebAddress()),t="";return"org"in n&&(t=n.org),t},get_UserName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$CD},get_UserRoles:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$hV.join(", ")},get_LastSyncTimeLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Last_Sync_Date")},get_LastSyncTime:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1Kh()},get_PrivacyPolicyLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Privacy_Statement")},get_OpenPrivacyPolicyCommand:function(){return this.$ut},get_LicenseTermsLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_License_Terms")},get_OpenLicenseTermsCommand:function(){return this.$ur},$Oh:function(){$0.$0(this.$ut)||(this.$ut.dispose(),this.$ut=null);$0.$0(this.$ur)||(this.$ur.dispose(),this.$ur=null);Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.$Oh.call(this)},Show:function(){Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.Show.call(this);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$t6()&&this.set_ManagedLabel(Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1g5)},$2h0:function(){var n="Settings_License_Terms_Link_Windows";return Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2?Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?n="Settings_License_Terms_Link_IPhone":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?n="Settings_License_Terms_Link_AndroidPhone":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By&&(n="Settings_License_Terms_Link_WindowsPhone"):Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===1&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?n="Settings_License_Terms_Link_IPad":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T&&(n="Settings_License_Terms_Link_Android")),n}};Microsoft.Crm.Client.Core.ViewModels.$1p=function(){this.$U5=Microsoft.Crm.Client.Core.Framework.LocalStorage.$1F.get_$Ff()};Microsoft.Crm.Client.Core.ViewModels.$1p.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$1p.$C)&&(Microsoft.Crm.Client.Core.ViewModels.$1p.$C=new Microsoft.Crm.Client.Core.ViewModels.$1p),Microsoft.Crm.Client.Core.ViewModels.$1p.$C};Microsoft.Crm.Client.Core.ViewModels.$1p.$1c9=function(n,t){return String.format("{0}_{1}_{2}","MDM",t,n)};Microsoft.Crm.Client.Core.ViewModels.$1p.$1by=function(n){return String.format("{0}_{1}","MDM_changedFields",n)};Microsoft.Crm.Client.Core.ViewModels.$1p.prototype={$U5:null,$3Db:function(n,t,i){var u,f,r;Microsoft.Crm.Client.Core.Framework.$6.$4N||$0.$0(Microsoft.Crm.Client.Core.Models.$m.$sK(t))&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n)&&(u=n,$0.$0(i)&&(i=u.get_$2m()),f=u.$20e(t),this.$U5.$wb(Microsoft.Crm.Client.Core.ViewModels.$1p.$1c9(t,i),JSON.stringify(f)),r=this.$1Od(i),new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(r).contains(t)||Array.add(r,t),this.$U5.$wb(Microsoft.Crm.Client.Core.ViewModels.$1p.$1by(i),JSON.stringify(r)))},$3Dc:function(n,t){var i,e,r,f,s,h;if(!Microsoft.Crm.Client.Core.Framework.$6.$4N&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n)){i=n;$0.$0(t)&&(t=i.get_$2m());e=this.$1Od(t);for(var o=e,c=o.length,u=0;u<c;++u)if(r=o[u],f=this.$U5.$D8(Microsoft.Crm.Client.Core.ViewModels.$1p.$1c9(r,t)),!$0.$0(f))try{s=JSON.parse(f);h=i.$1tI(r,s);i.SetValue(r,h)}catch(l){}}},$3Dd:function(n,t){var r,u,e;if(Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n)){r=n;$0.$0(t)&&(t=r.get_$2m());u=this.$1Od(t);for(var f=u,o=f.length,i=0;i<o;++i)e=f[i],this.$U5.$1OB(Microsoft.Crm.Client.Core.ViewModels.$1p.$1c9(e,t));this.$U5.$1OB(Microsoft.Crm.Client.Core.ViewModels.$1p.$1by(t))}},$2lG:function(n){return this.$1Od(n).length>0},$1Od:function(n){var t=this.$U5.$D8(Microsoft.Crm.Client.Core.ViewModels.$1p.$1by(n));if(!$0.$0(t))try{return JSON.parse(t)}catch(i){}return[]}};Microsoft.Crm.Client.Core.ViewModels.$13=function(){};Microsoft.Crm.Client.Core.ViewModels.$13.$A7=function(n,t,i){var r,u;if($0.$0(i))return n===Number||Type.isEnum(n)?0:n===Boolean?!1:null;for(r=0;r<i.length;r++)if(u=i[r],u.Name===t&&!IsNull(u.Value))return i[r].Value;return n===Number||Type.isEnum(n)?0:n===Boolean?!1:null};Microsoft.Crm.Client.Core.ViewModels.$13.$5d=function(n){return n.split("_edit")[0]};Microsoft.Crm.Client.Core.ViewModels.$13.$25i=function(n,t,i,r){var u,c,f;if(!n){var e=new Array(0),o=Microsoft.Crm.Client.Core.ViewModels.$13.$5d(t),l=i.$2hy(o),s=0,h=l;for(u in h)c={key:u,value:h[u]},e[s]=c.value,s++;f=i.$2fe(o);r(e,f===-1,f)}};Microsoft.Crm.Client.Core.ViewModels.$13.generateLinkToCrmEntityRecord=function(n,t){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(t)){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();return Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}/main.aspx?id=%7b{1}%7d&etn={2}&pagetype=entityrecord",i.context.getClientUrl(),n.toUpperCase(),t)}return""};Microsoft.Crm.Client.Core.ViewModels.$13.$1wz=function(n,t){var r,i,u,s,f,e,o;return Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(n)&&n.get_componentType()===13?(u=n,s=u.get_componentType()===13?n.$CL.Grid:null,s&&(u=s),i=u.get_$1u(),t.val=i,r=u.get_definitionId().toUpperCase(),r!==Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?Microsoft.Crm.Client.Core.Framework.$3.$IY("org={0}&pagetype={1}&etn={2}&id={3}",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Ua,"view",i,r):""):(Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(n)&&n.get_componentType()===40||Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(n.get_$AH()))&&(f=n.get_ModelContext(),!$0.$0(f)&&(e=f.$I.$2A,!$0.$0(e)))?(r=e.Id.toString().toUpperCase(),i=e.LogicalName,t.val=i,i==="queueitem"&&(o=f.$I.fields.objectid,$0.$0(o)||(i=o.LogicalName,t.val=i,r=o.Id.toString().toUpperCase())),r===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?Microsoft.Crm.Client.Core.Framework.$3.$IY("org={0}&pagetype={1}&etn={2}",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Ua,"create",i):Microsoft.Crm.Client.Core.Framework.$3.$IY("org={0}&pagetype={1}&etn={2}&id={3}",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Ua,"interactioncentricform",i,r)):""};Microsoft.Crm.Client.Core.ViewModels.$13.$1x1=function(n){var t,i,r,f,u;return Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(n)&&n.get_componentType()===1?String.format("pagetype={0}&id={1}","dashboard",n.get_sourceId()):Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(n)&&n.get_componentType()===37?String.format("pagetype={0}&id={1}","interactioncentricdashboard",n.get_sourceId()):Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(n)&&n.get_componentType()===13?(r=n,r.get_componentType()===13&&n.$CL.Grid&&(r=n.$CL.Grid),i=r.get_$1u(),t=r.get_definitionId().toUpperCase(),String.format("pagetype={0}&etn={1}&id={2}","view",i,t)):Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(n)&&n.get_componentType()===11?(f=n,i=f.get_$1u(),t=f.get_definitionId().toUpperCase(),String.format("pagetype={0}&etn={1}&id={2}","view",i,t)):(u=n.get_ModelContext(),!$0.$0(u))?(t=u.$I.$2A.Id.toString().toUpperCase(),i=u.$I.$2A.LogicalName,t===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?String.format("pagetype={0}&etn={1}","create",i):Microsoft.Crm.Client.Core.Framework.$6.get_$f()?String.format("pagetype={0}&etn={1}&id={2}","interactioncentricform",i,t):String.format("pagetype={0}&etn={1}&id={2}","entity",i,t)):""};Microsoft.Crm.Client.Core.ViewModels.$13.$1x7=function(n,t){var r,u,i="",e,o,h,s,f,c;if(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(n))e=n,u=n.get_$1u(),r=new Microsoft.Crm.Client.Core.Framework.Guid(e.get_DefinitionId()).toString().toUpperCase(),i=String.format("/main.aspx?viewid=%7b{0}%7d&etn={1}&pagetype=entitylist&viewtype={2}",r,u,e.$9a===1?1039:4230);else if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)&&n.get_componentType()===1)o=n,h=o.$14X?1030:1031,i=String.format("/dashboards/dashboard.aspx?dashboardId=%7b{0}%7d&dashboardType={1}",o.$q,h);else if(Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(n)&&n.get_componentType()===11)s=n,u=s.get_$1u(),r=s.get_definitionId().toUpperCase(),i=String.format("/main.aspx?viewid=%7b{0}%7d&etn={1}&pagetype=entitylist&viewtype={2}",r,u,4300);else{if(f=n.get_ModelContext(),$0.$0(f))return i;r=f.$I.$2A.Id.toString().toUpperCase();u=f.$I.$2A.LogicalName;i=String.format("/main.aspx?id=%7b{0}%7d&etn={1}&pagetype=entityrecord",r,u)}return c=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),t?c.context.getClientUrl()+i:i};Microsoft.Crm.Client.Core.ViewModels.$13.generateLinkToDynamicsCRMHelpPage=function(n){var i="http://go.microsoft.com/fwlink/?LinkID=398563&client=MailApp",t;return i+="&error=Microsoft.Crm.Exception:"+Math.abs(n).toString(16),i+="&sv="+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$TO,t=VERSION_NUMERIC_VALUE,i+="&cv="+String.format("{0}.{1}.{2}.{3}",t.substr(0,1),t.substr(1,1),t.substr(2,4),t.substr(6)),i+("&lcid="+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$lj().toString(16))};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls");Microsoft.Crm.Client.Core.ViewModels.Controls.$Ep=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ep.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Controls.$Ep");Microsoft.Crm.Client.Core.ViewModels.Controls.$Eq=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$Eq.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Controls.$Eq");Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel=function(){this.$$d_$2DS=Function.createDelegate(this,this.$2DS);this.$$d_$28O=Function.createDelegate(this,this.$28O);this.$$d_$2u7=Function.createDelegate(this,this.$2u7);this.$$d_$38i=Function.createDelegate(this,this.$38i);this.$$d_$38j=Function.createDelegate(this,this.$38j);this.$J7=-1;this.$vi=-1;Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel.initializeBase(this);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LandingPageLoadStart",1);this.$dZ=new Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel;this.$NZ=new Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$Rg;this.$NX=new Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SF;this.$FZ=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Du(this.$$d_$38j,this.$$d_$38i);this.$wC()};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel.prototype={$P3:!0,$nh:"after_meeting",$ni:"update_contact",$1lT:!1,$1dU:!1,$Tz:!1,$dZ:null,get_UserProfile:function(){return this.$dZ},set_UserProfile:function(n){return this.$dZ=n,n},$ia:!1,get_IsTaskFlowAvailable:function(){return this.$ia},set_IsTaskFlowAvailable:function(n){return this.$ia=n,n},$ya:!1,get_IsLandingPageActivitiesEnabled:function(){return this.$ya},set_IsLandingPageActivitiesEnabled:function(n){return this.$ya=n,n},$NX:null,get_LandingPageActivitiesViewModel:function(){return this.$NX},set_LandingPageActivitiesViewModel:function(n){return this.$NX=n,n},$FZ:null,get_RecentlyViewedItemListViewModel:function(){return this.$FZ},set_RecentlyViewedItemListViewModel:function(n){return this.$FZ=n,n},$NZ:null,get_QuickCommandManager:function(){return this.$NZ},set_QuickCommandManager:function(n){return this.$NZ=n,n},$1B1:null,get_RefreshTime:function(){return this.$1B1},set_RefreshTime:function(n){return this.$1B1=n,n},get_TaskFlow1Name:function(){return this.$nh},set_TaskFlow1Name:function(n){return this.$nh===n?n:(this.$nh=n,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("LandingPageTaskFlow1Name",{LandingPageTaskFlow1Name:n}),this.$7("TaskFlow1Name"),n)},get_TaskFlow2Name:function(){return this.$ni},set_TaskFlow2Name:function(n){return this.$ni===n?n:(this.$ni=n,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("LandingPageTaskFlow2Name",{LandingPageTaskFlow2Name:n}),this.$7("TaskFlow2Name"),n)},get_OpenOnStart:function(){return this.$P3},set_OpenOnStart:function(n){return this.$P3===n?n:(this.$P3=n,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("LandingPageOpenOnStart",{LandingPageOpenOnStart:n}),n)},ShowOverflowFavoritesSectionError:function(){var n=Microsoft.Crm.Client.Core.Framework.$7.$k("");n.$4O=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("FavoriteItemsSection_LimitError_Text");this.$1QK(n)},$yn:null,get_IsRefreshing:function(){return this.$Tz},set_IsRefreshing:function(n){return this.$Tz===n?n:(this.$Tz=n,this.$7("IsRefreshing"),n)},add_ExpandEvent:function(n){this.$1p("Expand",n)},remove_ExpandEvent:function(n){this.$32("Expand",n)},add_CollapseEvent:function(n){this.$1p("Collapse",n)},remove_CollapseEvent:function(n){this.$32("Collapse",n)},$28O:function(){window.clearTimeout(this.$vi);this.$vi=-1;this.set_IsRefreshing(!1)},expand:function(){var n=this.$4d("Expand");$0.$0(n)||n()},collapse:function(n){var t=this.$4d("Collapse");$0.$0(t)||t(n)},onPostCollapse:function(){this.$FZ.onLandingPageCollapse()},get_IsFavoriteLimitReached:function(){return $0.$0(this.$FZ.$Lx)?!0:this.$FZ.$Lx.get_Count()<40},$jY:function(){!this.$1dU&&this.$NZ.$Nx&&this.$FZ.$Nx&&this.$NX.$Nx&&this.$1lT&&(this.$1dU=!0,this.$NZ.RemovePropertyChangedListener("ContentHasRendered",this.$$d_$2u7),this.$FZ.RemovePropertyChangedListener("ContentHasRendered",this.$$d_$2u7),this.$NX.RemovePropertyChangedListener("ContentHasRendered",this.$$d_$2u7),this.$yn&&(this.$yn(),this.$yn=null),this.$P3&&Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LandingPageInitialLoad",1))},$2En:function(n){this.$FZ.$2En(n)},$2u7:function(){this.$jY()},RefreshLandingPage:function(n){if(window.clearTimeout(this.$vi),this.$wC(),!this.$Tz){var t=this;this.RefreshLandingPageDeferred().fail(function(i){n&&t.$1QK(i)});this.$vi=window.setTimeout(this.$$d_$28O,1e4)}},RefreshLandingPageDeferred:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t,i;if(this.set_IsRefreshing(!0),!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F())return t=Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("LandingPage_Error_On_Manual_Refresh_While_Offline")),n.reject(t),i=this,window.setTimeout(function(){i.set_IsRefreshing(!1)},200),n;var u=this.$dZ.$16d(),f=this.$NX.$16d(),e=this.$FZ.$16d(),o=this,s=this,r=this;return Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(u,f,e).then(function(t){o.$3BR();n.resolve(t)},function(t){$0.$0(t)||Microsoft.Crm.Client.Core.Framework.Trace.logError(168,"Refresh Mobile Workspace has failed with an error: {0}",t.$F);var i=Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("LandingPage_Error_On_Manual_Refresh"));n.reject(i)}).always(function(){window.clearTimeout(r.$vi);r.set_IsRefreshing(!1)}),n},$wC:function(){if(!Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$AC()){this.$J7!==-1&&window.clearTimeout(this.$J7);var n=this;this.$J7=window.setTimeout(function(){Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.RefreshLandingPage(!1)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$16X,"LandingPageViewModel.RefreshLandingPage")},9e5)}},$3BR:function(){this.$1B1=(new Date).localeFormat("H:mm:ss");this.$7("RefreshTime")},$2qk:function(){var t=this,n=Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("LandingPageOpenOnStart").then(function(n){n&&t.set_OpenOnStart(n.LandingPageOpenOnStart)},this.$$d_$MZ);if(!this.$ia)return n;var i=this,r=Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("LandingPageTaskFlow1Name").then(function(n){n&&i.set_TaskFlow1Name(n.LandingPageTaskFlow1Name)},this.$$d_$MZ),u=this,f=Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("LandingPageTaskFlow2Name").then(function(n){n&&u.set_TaskFlow2Name(n.LandingPageTaskFlow2Name)},this.$$d_$MZ);return Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(n,r,f)},$2Z:function(){this.$1a||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$2DS);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this)},$2m0:function(){this.set_IsRefreshing(!0);this.$2Z();this.$NZ.AddPropertyChangedListener("ContentHasRendered",this.$$d_$2u7);this.$FZ.AddPropertyChangedListener("ContentHasRendered",this.$$d_$2u7);this.$NX.AddPropertyChangedListener("ContentHasRendered",this.$$d_$2u7);this.$NZ.$2Z();this.$FZ.$2Z();this.$NX.$2Z();var n=this;return this.$2qk().always(function(){n.$1lT=!0;n.$jY();n.set_IsRefreshing(!1)})},$2BZ:function(){this.$NZ.$Ea()},$Oh:function(){this.$NZ&&(this.$NZ.dispose(),this.$NZ=null);this.$FZ&&(this.$FZ.dispose(),this.$FZ=null);this.$NX&&(this.$NX.dispose(),this.$NX=null);this.$dZ&&(this.$dZ.dispose(),this.$dZ=null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$2DS);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$2DS:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?this.RefreshLandingPage(!1):this.$Tz&&this.$28O()},$38i:function(n){var t=n.slice(0,n.length),i=this;return t.sort(function(n,t){return t.$I6-n.$I6}),t.slice(0,15)},$38j:function(n){var t=n.slice(0,n.length),i=this;return t.sort(function(n,t){var i=n,r=t;return i.$4O.toLowerCase().localeCompare(r.$4O.toLowerCase())}),t.slice(0,40)},$1QK:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;t.$DZ=0;t.$AG=2;t.set_IsHtmlEncodingRequired(!0);t.$DE=n.$4O;t.set_Message(n.$F);t.Show()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$S4=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$S4.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$S4.prototype={$Lv:null,$Fm:null,$7c:0,$BP:null,$92:null,$Fu:0,$MF:!1,get_FacetAttributeDisplayName:function(){return this.$Lv},set_FacetAttributeDisplayName:function(n){return this.$Lv=n,n},get_Count:function(){return this.$Fm},set_Count:function(n){return this.$Fm=n,n},get_FacetResultType:function(){return this.$7c},set_FacetResultType:function(n){return this.$7c=n,n},get_FacetAttributeLogicalName:function(){return this.$92},set_FacetAttributeLogicalName:function(n){return this.$92=n,n},get_FacetAttributeType:function(){return this.$Fu},set_FacetAttributeType:function(n){return this.$Fu=n,n},get_IsLocalFacet:function(){return this.$MF},set_IsLocalFacet:function(n){return this.$MF=n,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.$SY=function(n,t,i,r,u,f){Microsoft.Crm.Client.Core.ViewModels.Controls.$SY.initializeBase(this);this.$Lv=n;this.$Db=t;this.$Qd=i;this.$7c=r;this.$Lw=u;this.$92=f};Microsoft.Crm.Client.Core.ViewModels.Controls.$SY.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("FacetViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$EH)};Microsoft.Crm.Client.Core.ViewModels.Controls.$SY.prototype={$Lw:null,$Lv:null,$92:null,$1ic:"",$Db:null,$Qd:0,$11W:!0,$MI:!1,$1QN:null,$zZ:!1,$7c:0,get_FacetResultType:function(){return this.$7c},set_FacetResultType:function(n){return this.$7c=n,n},get_ActivityNotesCheckBoxData:function(){return this.$zZ},set_ActivityNotesCheckBoxData:function(n){return this.$zZ=n,n},get_FacetAttributeDisplayName:function(){return this.$Lv},set_FacetAttributeDisplayName:function(n){return this.$Lv=n,n},get_FacetAttributeLogicalName:function(){return this.$92},set_FacetAttributeLogicalName:function(n){return this.$92=n,n},get_FacetList:function(){return this.$Db},set_FacetList:function(n){return this.$Db=n,n},get_FacetType:function(){return this.$Qd},set_FacetType:function(n){return this.$Qd=n,n},get_IsSelected:function(){return this.$MI},set_IsSelected:function(n){return this.$MI!==n&&(this.$MI=n),n},get_EnableShowMore:function(){return this.$11W},set_EnableShowMore:function(n){return this.$11W!==n&&(this.$11W=n,this.$7("EnableShowMore")),n},get_DefaultFacetsToDisplay:function(){return 4},get_MaxFacetsToDisplay:function(){return 15},get_MaxFacetsToDisplayWithAutoComplete:function(){return 10},get_ShowButtonLabel:function(){return this.$1QN=this.$11W?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_ShowMore"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_ShowFewer"),this.$1QN},get_FacetSearchActivitiesAndNotes:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_Search_Activities_Notes")},get_FacetLabelAll:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_All")},FacetSliderOnChange:function(n,t){var i=this.$Db.get_$R(0),e=i.$Gd,s=i.$FY,o="",u=i.get_FacetValue(),r="",f;n>e&&(Microsoft.Crm.Client.Core.Framework.$3.$9(u.get_Items()[n].$kc)||(o=i.$Fu===2?this.$1HY(new Date(u.get_Items()[n].$kc)):u.get_Items()[n].$kc,r.indexOf(i.$BP)<0&&(r=i.$BP+":"),r+=i.$92+" ge "+o));t<s&&(Microsoft.Crm.Client.Core.Framework.$3.$9(u.get_Items()[t].$xH)||(r=r!==""?r+" and ":"",o=i.$Fu===2?this.$1HY(new Date(u.get_Items()[t].$xH)):u.get_Items()[t].$xH,r.indexOf(i.$BP)<0&&(r=i.$BP+":"),r+=i.$92+" lt "+o));i.$7c!==4&&t===s-1&&(f="",n===e?f=this.$1HY(new Date(u.get_Items()[n].$xH)):n<e&&(f=this.$1HY(new Date(u.get_Items()[n].$kc))),f!==""&&(r.indexOf(i.$BP)<0&&(r+=i.$BP+":"),r+=i.$92+" ge "+f));n===e&&t===s-1&&(r="",this.$Lw.$VZ(i.$92));this.$1ic=r;this.$Lw.ExecuteRangeFacetSearchAction(r,this.$1ic,i)},ExecuteSearchAction:function(n,t,i){var u,r;if(t)this.$Lw.$2WC(this.$7c,i);else{for(u=null,r=0;r<this.$Db.get_Count();r++)if(this.$Db.get_$R(r).get_FacetValue()===n){u=this.$Db.get_$R(r);break}this.$Lw.ExecuteTextFacetSearchAction(u)}},RecordTypeCheckBoxClickHandler:function(){this.$Lw.$2za(this.$zZ)},$1HY:function(n){n.setHours(0,0,0,0);n=Microsoft.Crm.Client.Core.Framework.$h.$20z(n);var t=n.toJSON();return t.substring(0,t.length-5)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$CQ=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$CQ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$CQ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("FacetPaneViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$CQ)};Microsoft.Crm.Client.Core.ViewModels.Controls.$CQ.prototype={$IX:null,$8g:null,$7z:null,$BI:null,$8O:null,$OI:null,$lO:!1,$2tN:function(n,t){var l,r,i,e,f,a,u,v,y,h,o,w,c,p,b,s;if(this.$7z=t,n.get_Count()>0&&n.get_Items()[0].$Db.get_Items().length>0){for(this.set_Visible(!0),this.$IX=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$SY)),e=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$SY)),f=0;f<n.get_Count();f++)if(i=n.get_$R(f),i.$Db.get_Count()>0)if(l=i.$Lv,n.get_$R(f).$Qd)if(this.$lO){if(this.$8g.get_Count()>0)for(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$S4)),b=i.$Db.get_$R(0),s=0;s<this.$8g.get_Count();s++)if(this.$8g.get_$R(s).$92===b.$92){r.add(this.$8g.get_$R(s));this.$OI=new Microsoft.Crm.Client.Core.ViewModels.Controls.$SY(l,r,1,this.$8g.get_$R(s).$7c,this);e.add(this.$OI);break}}else{if(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$S4)),o=i.$Db.get_$R(0),this.$8O=new Microsoft.Crm.Client.Core.ViewModels.Controls.$SM,this.$8O.set_FacetValue(o.$OH),this.$8O.$BP=o.$BP,this.$8O.$92=o.$92,this.$8O.$Fu=o.$Fu,this.$8O.$7c=i.$7c,this.$8O.$MF=i.$MF,this.$8O.$iM=0,o.$Fu===2)this.$8O.$Gd=0,this.$8O.$FY=5,this.$8O.set_SelectedMinimum(0),this.$8O.set_SelectedMaximum(5),h=[this.$8O.get_LabelAll(),this.$8O.get_$2WI(),this.$8O.get_$2WG(),this.$8O.get_$2WH(),this.$8O.get_$2WF(),this.$8O.get_$2WJ()],this.$8O.$MF&&(this.$8O.$FY++,(w=this.$8O).set_SelectedMaximum(w.$GP+1),Array.add(h,this.$8O.get_$2WE()));else for(h=new Array(0),c=i.$Db.get_$R(0).$OH,this.$8O.$Gd=0,this.$8O.$FY=c.get_Count()-1,this.$8O.set_SelectedMinimum(0),this.$8O.set_SelectedMaximum(c.get_Count()-1),p=0;p<c.get_Count();p++)Array.add(h,c.get_Items()[p].$kc);this.$8O.$1Ne=h;r.add(this.$8O);this.$OI=new Microsoft.Crm.Client.Core.ViewModels.Controls.$SY(l,r,1,n.get_$R(f).$7c,this);e.add(this.$OI);this.$8g.add(this.$8O)}else{for(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$S4)),a=0;a<i.$Db.get_Count();a++){if(u=i.$Db.get_$R(a),v=!1,i.$7c===1&&this.$7z.$WJ&&this.$8g&&this.$8g.get_Count()>0){for(y=0;y<this.$8g.get_Count();y++)if(this.$8g.get_$R(y).$92===u.$92){v=!0;break}if(!v)continue}if(this.$BI=new Microsoft.Crm.Client.Core.ViewModels.Controls.$EH(this),this.$BI.set_FacetValue(this.$2je(u.$OH)),this.$BI.$Fm=u.$Fm,this.$BI.$7c=i.$7c,this.$BI.$MF=i.$MF,this.$BI.$Fu=u.$Fu,this.$BI.$92=u.$92,this.$BI.$BP=u.$BP,this.$BI.$rW=u.$rW,this.$BI.set_$2WD(u.$Qc),r.add(this.$BI),v)break}this.$OI=new Microsoft.Crm.Client.Core.ViewModels.Controls.$SY(l,r,0,n.get_$R(f).$7c,this,this.$BI.$92);this.$OI.set_IsSelected(this.EnableAllButton(i.$7c));this.$OI.$zZ=this.$7z.$WJ;e.add(this.$OI)}e.get_Count()>0&&(this.set_FacetViewModelList(e),this.$lO=!1)}},get_FacetViewModelList:function(){return this.$IX},set_FacetViewModelList:function(n){return this.$IX!==n&&(this.$IX=n,this.$7("FacetViewModelList")),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$IX=null;this.$8g=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$S4))},ExecuteTextFacetSearchAction:function(n){var i;this.$BI=null;var r="",t=null;if(n){for(this.$BI=n,i=0;i<this.$IX.get_Count();i++)if(this.$BI.$7c===this.$IX.get_$R(i).$7c){t=this.$IX.get_$R(i);break}var f=this.$BI.$Lv,u=this.$BI.$92,e=this.$BI.$BP;this.$319(this.$BI);t.$7c===1?this.$7z.$H5=[u]:t.$7c?t.$7c===2&&this.$1qW(this.$BI):r="ownerid eq '"+this.$BI.$Qc+"'";r!==""&&(this.$7z.$6C!==""&&(this.$7z.$6C+=" and "),this.$7z.$6C+=r);this.$lO=n.$MF||!t.$7c;this.$7z.executeAction()}},ExecuteRangeFacetSearchAction:function(n,t,i){this.$7z.$6C!==""&&this.$7z.$6C.indexOf(i.$BP)>=0&&i.$BP!==""&&(n=n.replace(i.$BP+":",""));var r=n,u=i.$92;t!==""&&this.$VZ(i.$92);r!==""&&this.$7z.$6C!==""&&(this.$7z.$6C+=",");this.$7z.$6C+=r;this.$lO=!0;this.$7z.executeAction()},$2WC:function(n,t){var i,r;if(n===1)this.resetProperties();else{for(this.$30Y(t),this.$7z.$Jx="",i=0;i<this.$8g.get_Count();i++)r=this.$8g.get_$R(i),r.$7c===2&&this.$1qW(r);this.$lO=!0}this.$7z.executeAction()},$2za:function(n){this.$7z.set_ActivityNotesCheckBoxData(n);this.$7z.executeAction()},$319:function(n){if(this.$8g.get_Count()>0)for(var t=0;t<this.$8g.get_Count();t++)if(this.$8g.get_$R(t).$7c===2&&this.$8g.get_$R(t).$92===n.$92){this.$8g.remove(this.$8g.get_$R(t));break}this.$8g.add(n)},$30Y:function(n){var i,t;if(this.$8g.get_Count()>0){for(i=this.$8g,t=0;t<i.get_Count();t++)this.$8g.get_$R(t).$7c===2&&this.$8g.get_$R(t).$92===n&&i.remove(this.$8g.get_$R(t));this.$8g=i}},resetProperties:function(){var n,i,t,r;if(this.$IX&&this.$IX.get_Count()>0)for(n=0;n<this.$IX.get_Count();n++)if(this.$IX.get_$R(n).$Qd===1)for(i=this.$IX.get_$R(n).$Db,t=0;t<i.get_Count();t++)r=i.get_$R(t),r.set_ClearFilter(!0);this.$IX=null;this.$8g=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$S4));this.$lO=!1;this.$7z&&(this.$7z.set_ActivityNotesCheckBoxData(!1),this.$7z.$H5=null,this.$7z.$6C="",this.$7z.$Jx="")},EnableAllButton:function(n){if(!$0.$0(this.$8g)&&this.$8g.get_Count()>0)for(var t=0;t<this.$8g.get_Count();t++)if(this.$8g.get_$R(t).$7c===n)return!0;return!1},$Oh:function(){$0.$0(this.$BI)||(this.$BI.dispose(),this.$BI=null);$0.$0(this.$OI)||(this.$OI.dispose(),this.$OI=null);$0.$0(this.$8O)||(this.$8O.dispose(),this.$8O=null);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$VZ:function(n){var t=this.$7z.$6C,r;if(t.indexOf(n)>=0){for(var u=t.split(","),f=u.length,i=0;i<f;++i)if(r=u[i],r.indexOf(n)>=0){t=t.replace(r,"");break}t.indexOf(",,")>=0?t=t.replace(",,",""):t.charAt(t.length-1)===","&&(t=t.substring(0,t.length-1));this.$7z.$6C=t}},$2je:function(n){if($0.$0(n)||Object.getType(n)!==String)return n;var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W(),t=i.$i(n.toString());return t?t.$Ag:n},$1qW:function(n){var t="";n.$Fu===11||n.$Fu===13||n.$Fu===12?(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$7z.$Jx)||this.$7z.$Jx.indexOf(n.$BP)!==-1||(t+=n.$BP+":"),t+=n.$92+" eq "+n.$Qc):(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$7z.$Jx)&&this.$7z.$Jx.indexOf(n.$BP)<0&&(t=n.$BP+":"),t+=n.$92+" eq '"+n.$Qc+"'");t!==""&&(this.$7z.$Jx!==""&&(this.$7z.$Jx+=this.$7z.$Jx.indexOf(n.$BP)>-1?" and ":","),this.$7z.$Jx+=t)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$SM=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$SM.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.Controls.$SM.initializeBase(this);this.$dC=0};Microsoft.Crm.Client.Core.ViewModels.Controls.$SM.prototype={$OH:null,$Ko:null,$GP:null,$Nu:!1,$1Ne:null,$iM:null,get_DecimalPrecision:function(){return this.$iM},set_DecimalPrecision:function(n){return this.$iM=n,n},$dC:null,get_LastCharCode:function(){return this.$dC},set_LastCharCode:function(n){return this.$dC=n,n},$Gd:null,get_MinRange:function(){return this.$Gd},set_MinRange:function(n){return this.$Gd=n,n},$FY:null,get_MaxRange:function(){return this.$FY},set_MaxRange:function(n){return this.$FY=n,n},get_RangeSliderValues:function(){return this.$1Ne},set_RangeSliderValues:function(n){return this.$1Ne=n,n},$iU:!1,get_GlobalClearFilter:function(){return this.$iU},set_GlobalClearFilter:function(n){return this.$iU=n,n},get_ClearFilter:function(){return this.$Nu},set_ClearFilter:function(n){return this.$Nu!==n&&(this.$Nu=n,this.$7("ClearFilter")),n},get_SelectedMaximum:function(){return this.$GP},set_SelectedMaximum:function(n){return this.$GP=n?n:0,n},get_SelectedMinimum:function(){return this.$Ko},set_SelectedMinimum:function(n){return this.$Ko=n?n:0,n},clearRange:function(){this.set_ClearFilter(!1);this.set_SelectedMinimum(this.$Gd);this.set_SelectedMaximum(this.$FY)},limitSliderValues:function(){this.$Ko>this.$GP&&this.set_SelectedMinimum(this.$GP);this.$GP>this.$FY&&this.set_SelectedMaximum(this.$FY);this.$Ko<this.$Gd&&this.set_SelectedMinimum(this.$Gd)},onDataChange:function(){},get_FacetValue:function(){return this.$OH},set_FacetValue:function(n){return this.$OH!==n&&(this.$OH=n),n},get_LabelAll:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_All")},get_$2WI:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_RangeSlider_OneYearAgo")},get_$2WG:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_RangeSlider_OneMonthAgo")},get_$2WH:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_RangeSlider_OneWeekAgo")},get_$2WF:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_RangeSlider_OneDayAgo")},get_$2WJ:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_RangeSlider_Today")},get_$2WE:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_RangeSlider_AfterToday")}};Microsoft.Crm.Client.Core.ViewModels.Controls.$EH=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.$EH.initializeBase(this);this.$Lw=n};Microsoft.Crm.Client.Core.ViewModels.Controls.$EH.prototype={$Lw:null,$ft:null,$OH:null,$Qc:null,$rW:0,set_$2WD:function(n){if(this.$Qc!==n){this.$Qc=n;var t="";this.$7c&&(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Qc)||this.$Fu!==6&&this.$Fu!==1)||(t=this.$7c?this.$2hD(this.$BP,this.$rW):this.$BP,Microsoft.Crm.Client.Core.Framework.$3.$9(t)||this.$33K(this.$Qc,t))}return n},get_ImageUrl:function(){return this.$ft},set_ImageUrl:function(n){return this.$ft!==n&&(this.$ft=n,this.$7("ImageUrl")),n},get_TextFacetDefaultImage:function(){return"/_imgs/ContactPhoto.png"},get_FacetValue:function(){return this.$OH},set_FacetValue:function(n){return this.$OH=n,n},executeAction:function(){this.$Lw.ExecuteTextFacetSearchAction(this)},$33K:function(n,t){var i="entityimage_url",e=[i],r={},u,f;r["Identifier"]=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(n));r["ColumnSet"]=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(e);u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEntityRecord",r);f=this;u.OnSuccess=function(n){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(n)){var t=Microsoft.Crm.Client.Core.Models.$c.$X(n);$0.$0(t.GetValue(i))||f.set_ImageUrl(t.GetValue(i).toString())}};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,u)},$2hD:function(n,t){if($0.$0(n))return n;var i="",u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W(),r=u.$If(t);return $0.$0(r)||(i=r.$y),i}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj=function(){this.$$d_$2uf=Function.createDelegate(this,this.$2uf);Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("RecentlyViewedItemViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj.prototype={$EV:null,$1JT:!1,$1F9:null,$P:null,$1KO:!1,get_ObjectId:function(){return this.$EV.$gZ},get_DisplayName:function(){var n=Microsoft.Crm.Client.Core.Models.$2Y.$1HO(this.get_EntityTypeCode());return n==="systemform"?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SitemapDesigner.DashboardLabel"):this.$EV.$3y},get_Title:function(){return this.$EV.$4O},get_IconPath:function(){return this.$EV.$oo},get_Action:function(){return this.$EV.$o5},get_PinStatus:function(){return this.$EV.$an},get_Type:function(){return this.$EV.$6r},get_EntityTypeCode:function(){return this.$EV.$8s},get_LastAccessed:function(){return this.$EV.$I6},get_EntityClassName:function(){if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1F9)){var n=Microsoft.Crm.Client.Core.Models.$2Y.$1HO(this.$EV.$8s);this.$1F9=n==="systemform"?"dashboard":n}return this.$1F9},get_EntityLogicalName:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$P)&&(this.$P=Microsoft.Crm.Client.Core.Models.$2Y.$1HO(this.$EV.$8s)),this.$P},get_IsWaitingToCompleteNavigation:function(){return this.$1KO},set_IsWaitingToCompleteNavigation:function(n){return this.$1KO!==n&&(this.$1KO=n,this.$7("IsWaitingToCompleteNavigation")),n},$L3:null,get_EntityViewModel:function(){return this.$L3},set_EntityViewModel:function(n){return this.$L3=n,n},$dY:null,get_TogglePinStatusCommand:function(){return this.$dY},set_TogglePinStatusCommand:function(n){return this.$dY=n,n},get_IsModelInitialized:function(){return this.$1JT},set_IsModelInitialized:function(n){return this.$1JT!==n&&(this.$1JT=n,this.$7("IsModelInitialized")),n},set_$2zT:function(n){return this.$EV&&this.$EV.RemovePropertyChangedListener("PinStatus",this.$$d_$2uf),this.$EV=n,$0.$0(n)||this.$EV.AddPropertyChangedListener("PinStatus",this.$$d_$2uf),n},get_ImageSrc:function(){if($0.$0(this.$L3)||!Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$L3.get_ModelContext()))return null;var n=this.$L3.get_ModelContext().GetValue("entityimage_url");return $0.$0(n)?null:n.toString()},$2Z:function(){this.$1a||(this.$dY=this.$n("ToggleRecentlyViewedItemPinStatusCommand"),this.set_IsModelInitialized(!1),this.set_IsWaitingToCompleteNavigation(!1),Microsoft.Crm.Client.Core.ViewModels.$3R.prototype.$2Z.call(this))},ExecuteNavigation:function(){var n,t;$0.$0(this.$L3)||(n=this.$L3.get_SelectListItemCommand(),$0.$0(n))||(t=this,n.$1Zk().always(function(){t.set_IsWaitingToCompleteNavigation(!1)}))},ShowErrorDialog:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;t.$DZ=0;t.$AG=2;t.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n));t.Show()},$2uf:function(){this.$7("PinStatus")},$Oh:function(){$0.$0(this.$dY)||(this.$dY.dispose(),this.$dY=null);Microsoft.Crm.Client.Core.ViewModels.$3R.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Du=function(n,t){this.$$d_$2Oj=Function.createDelegate(this,this.$2Oj);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2vl=Function.createDelegate(this,this.$2vl);this.$J6=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj));this.$Lx=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj));this.$Ro=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj));this.$kK=new Microsoft.Crm.Client.Core.ViewModels.Controls.$QI;Microsoft.Crm.Client.Core.ViewModels.Controls.$Du.initializeBase(this);this.$1N1=n;this.$1N2=t;this.$kK.AddPropertyChangedListener("IsWorking",this.$$d_$2vl);Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().AddPropertyChangedListener("IsWorking",this.$$d_$2vl);this.AddPropertyChangedListener("IsLoading",this.$$d_$2vl);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Du.prototype={$Nx:!1,$1N1:null,$1N2:null,$15f:null,get_$24e:function(){return this.$1k||this.$kK.$gJ||Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$gJ},get_FavoriteItemsSection:function(){return this.$Lx},get_RecentItemsSection:function(){return this.$Ro},get_HasItems:function(){return this.$Lx.get_Count()>0||this.$Ro.get_Count()>0},add_LandingPageCollapseEvent:function(n){this.$1p("LandingPageCollapse",n)},remove_LandingPageCollapseEvent:function(n){this.$32("LandingPageCollapse",n)},set_$1Dg:function(n){return n!==this.$Nx&&(this.$Nx=n,this.$7("ContentHasRendered")),n},$2En:function(n){this.get_$24e()?this.$15f=n:n()},UIHasRendered:function(){this.$1k||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LandingPageRecentItems",1),this.set_$1Dg(!0))},onLandingPageCollapse:function(){var n=this.$4d("LandingPageCollapse");$0.$0(n)||n()},$2Z:function(){if(!this.$1a){var n=this;Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$2L3(function(t){n.set_IsLoading(!0);n.$2S4(t);n.$7("ChangeItemSet");n.set_IsLoading(!1)});Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$2AE()}Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this)},$1tT:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj;return t.set_$2zT(n),t.$2Z(),t.AddPropertyChangedListener("PinStatus",this.$$d_$2Oj),t.AddPropertyChangedListener("ModelContext",this.$$d_$2Oj),t},$2Oq:function(){for(var t,n=0;n<this.$Lx.get_Count();n++)this.$11N(this.$Lx.get_$R(n));for(this.$Lx.clear(),t=0;t<this.$Ro.get_Count();t++)this.$11N(this.$Ro.get_$R(t));this.$Ro.clear()},$2S4:function(n){var t,i,r,u,o,f,s;this.$2Oq();this.$kK.$2P0();t=new Array(0);i=new Array(0);for(var h=n,c=h.length,e=0;e<c;++e)(r=h[e],Microsoft.Crm.Client.Core.Framework.$3.$9(r.$4O))||(r.$an?t.push(r):i.push(r));for($0.$0(this.$1N1)||(t=this.$1N1(t)),$0.$0(this.$1N2)||(i=this.$1N2(i)),u=0;u<t.length;u++)o=this.$1tT(t[u]),this.$kK.$1ov(o),this.$Lx.add(o);for(f=0;f<i.length;f++)s=this.$1tT(i[f]),this.$kK.$1ov(s),this.$Ro.add(s);this.$kK.$2MU()},$16d:function(){return Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$Rr()},$2vl:function(){!this.get_$24e()&&this.$15f&&(this.$15f(),this.$15f=null)},$2Oj:function(n,t){var i=[];(Array.add(i,"PinStatus"),Array.add(i,"ModelContext"),Array.contains(i,t))&&this.$7("ChangeItemSet")},$11N:function(n){if(Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj.isInstanceOfType(n)){var t=n;t.RemovePropertyChangedListener("PinStatus",this.$$d_$2Oj);t.RemovePropertyChangedListener("ModelContext",this.$$d_$2Oj)}Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$11N.call(this,n)},$He:function(){for(var t,n=0;n<this.$Lx.get_Count();n++)this.$Lx.get_$R(n).set_Enabled(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F());for(t=0;t<this.$Ro.get_Count();t++)this.$Ro.get_$R(t).set_Enabled(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F())},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel=function(){this.$$d_$2vM=Function.createDelegate(this,this.$2vM);this.$$d_$1P7=Function.createDelegate(this,this.$1P7);Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel.initializeBase(this);this.$C2=this.$$d_$1P7};Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel.prototype={$KI:!1,get_PaneStackingSettingsHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_Header")},get_PaneStackingEnabledLabelText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_PaneStacking_SwitchText")},get_EnableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Label_Enable")},get_DisableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Label_Disable")},get_IsStackingEnabled:function(){return this.$KI},set_IsStackingEnabled:function(n){return this.$KI===n?n:(this.$KI=n,this.$7("IsStackingEnabled"),n)},$2Z:function(){this.$1a||(this.$KI=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().get_$lW(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().apcl("IsStackingEnabled",this.$$d_$2vM));Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this)},$1P7:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().set_$lW(this.$KI)},$2vM:function(){this.set_IsStackingEnabled(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().get_$lW())}};Microsoft.Crm.Client.Core.ViewModels.Controls.$QI=function(){this.$1Ls=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DZ));this.$1fz=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Array));this.$dq=new Array(0);this.$16F=new Array(0);Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.prototype={$1WL:50,$8N:0,$gJ:!1,set_$258:function(n){return n!==this.$gJ&&(this.$gJ=n,this.$7("IsWorking")),n},set_$AI:function(n){return this.$8N=n,this.set_$258(this.$8N>0),n},$2P0:function(){this.$dq=new Array(0);this.$16F=new Array(0)},$1ov:function(n){var i,t;$0.$0(n)||(i=this.$1Ls.get_$R(n.get_ObjectId()),$0.$0(i)?(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DF,t.$Cd=n,t.$Dt=new Microsoft.Crm.Client.Core.ViewModels.$3R,t.$Cd.$L3=t.$Dt,this.$2LA(t)):this.$2mn(i,n))},$2LA:function(n){for(var i,t,r,e,o,u=n.$Cd.get_EntityTypeCode(),f=0;f<this.$dq.length;f++)if(i=this.$dq[f],i.$4M===n.$Cd.get_Type()&&i.$rO===u&&i.$Er.length<this.$1WL){i.$Er.push(n);return}(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DY,t.$Er=new Array(0),t.$rO=u,t.$4M=n.$Cd.get_Type(),t.$4r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(u),this.$dq.push(t),t.$Er.push(n),$0.$0(t.$4r)||$0.$0(t.$4r.$y))||(r=t.$4r.$y,e=this.$1fz.get_$R(r),$0.$0(e)?(o=this,this.$16F.push(this.$32A(r).done(function(n){t.$zf=n;o.$1fz.set_$R(r,n)}))):t.$zf=e)},$2MU:function(){if(this.$16F.length>0){this.set_$AI(this.$8N+1);var t=this.$dq,n=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(this.$16F).always(function(){n.set_$AI(n.$8N-1);t===n.$dq&&n.$1qT(t)})}else this.$1qT(this.$dq)},$1qT:function(n){for(var t,h,i,r,f,e,s=n.length,u=new Array(0),o=0;o<s;o++)t=n.pop(),t.$rO===1030?this.$2mA(t):t.$4M===1?this.$2mJ(t):u.push(t);for(h=this,u.sort(function(n,t){return t.$Er.length-n.$Er.length}),i=new Array(0),r=0,f=0;f<u.length;f++)e=u[f],r+e.$Er.length>this.$1WL&&(this.$23N(i),r=0,i=new Array(0)),i.push(e),r+=e.$Er.length;r&&this.$23N(i)},$2mA:function(n){this.set_$AI(this.$8N+1);var r=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(1,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),"Workspace".toUpperCase()),t=this,i=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(r,null).then(function(i){t.$2uE(i,n.$Er);t.set_$AI(t.$8N-1)},function(t){i.$2uD(t,n.$Er);i.set_$AI(i.$8N-1)})},$2uE:function(n,t){for(var i,f,o,u,e,s,r=0;r<t.length;r++){if(i=t[r],$0.$0(n)||!n.get_$3F6()){this.$1td(i);return}for(f=new Microsoft.Crm.Client.Core.ViewModels.$2I,o=new Microsoft.Crm.Client.Core.Framework.Guid(i.$Cd.get_ObjectId()),u=0;u<n.get_$3F6();u++)if(e=new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$R(u).$q),e.equals(o)){f.set_$2m(e.toString());break}s=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(f,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenDashboardCommand",null,{}));this.$1Ij(i.$Cd.get_ModelContext(),s,i)}},$2uD:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],this.$1td(r)},$1td:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$2I,i;t.set_$2m(n.$Cd.get_ObjectId());i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenDashboardCommand",null,{}));this.$1Ij(n.$Cd.get_ModelContext(),i,n)},$2mJ:function(n){for(var t,u,i,r=0;r<n.$Er.length;r++){if(t=n.$Er[r],$0.$0(n.$4r)){t.$Cd.set_IsModelInitialized(!0);continue}u={};u.PrimaryModelName=n.$4r.$y;i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t.$Dt,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenPage",null,u));i.$J1=13;i.$x={};i.$x.ListDefinitionId=t.$Cd.get_ObjectId();this.$1Ij(t.$Cd.get_ModelContext(),i,t)}},$23N:function(n){this.set_$AI(this.$8N+1);var t=this,i=this;this.$2C3(n).then(function(i){t.$2x0(i,n);t.set_$AI(t.$8N-1)},function(){i.set_$AI(i.$8N-1)})},$32A:function(n){var i=MscrmComponents.DeferredPromiseFactory(Array,Microsoft.Crm.Client.Core.Framework.$7),u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null),t={},f,e,r;return t.EntityType=n,t.Attributes=["entityimage_url"],f=this,t.OnSuccess=function(n){i.resolve(n)},e=this,t.OnFailure=function(){i.resolve(new Array(0))},r=new Microsoft.Crm.Client.Core.ViewModels.$I(null,u).$B1(t),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(r),i.promise()},$2C3:function(n){for(var t,f,i,s,e,r,h,c,l=Microsoft.Crm.Client.Core.Framework.$q.$4t("","RecentlyViewedItemCommandBuilder"),o=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.Sdk.Request)),u=0;u<n.length;u++)if(t=n[u],!$0.$0(t.$4r)){for(f="",i=0;i<t.$Er.length;i++)f+="<value>"+new Microsoft.Crm.Client.Core.Framework.Guid(t.$Er[i].$Cd.get_ObjectId())+"<\/value>";for(s="<filter><condition attribute='"+t.$4r.$4Y+"' operator='in'>"+f+"<\/condition><\/filter>",e="",r=0;r<t.$zf.length;r++)e+="<attribute name = '"+t.$zf[r].get_$2I()+"' />";h="<fetch mapping='logical' version='1.0'> <entity name='"+t.$4r.$y+"'> <attribute name = '"+t.$4r.$59+"' />"+e+s+" <\/entity> <\/fetch>";o.add(new Xrm.Gen.RetrieveMultipleRequest(h))}return c=new Xrm.Gen.ExecuteMultipleRequest(o.toArray(),new Xrm.Gen.ExecuteMultipleSettings(!0,!0)),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(c,l)},$2x0:function(n,t){for(var i,f,u=n,r=0;r<u.responses.length;r++)i=u.responses[r],($0.$0(i.$DM)||$0.$0(i.$DM.get_message()))&&(f=i.$9Y.entityCollection,this.$2Qv(f,t[i.$Nb]))},$2Qv:function(n,t){for(var f,i,r,s,e,o,u=0;u<n.get_count();u++){for(f=n.get_$R(u),i=null,r=0;r<t.$Er.length;r++)if(s=new Microsoft.Crm.Client.Core.Framework.Guid(t.$Er[r].$Cd.get_ObjectId()),s.equals(f.$a.Id)){i=t.$Er[r];break}$0.$0(i)||(e=Microsoft.Crm.Client.Core.Models.$c.$X(f),o=new Microsoft.Crm.Client.Core.Commands.$2R(i.$Dt,2),o.$18=e,this.$1Ij(e,o,i))}},$1Ij:function(n,t,i){if(i.$Cd.$2h||i.$Cd.$Tv)i.$Dt.dispose(),t.dispose(),n!==i.$Cd.get_ModelContext()&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n)&&n.$5E();else if(i.$Dt.set_ModelContext(n),i.$Dt.$2Z(),i.$Dt.set_SelectListItemCommand(t),i.$Cd.set_IsModelInitialized(!0),$0.$0(this.$1Ls.get_$R(i.$Cd.get_ObjectId()))){var r=new Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DZ;r.$1nT=n===i.$Cd.get_ModelContext();r.$1ZS=i.$Dt;this.$1Ls.set_$R(i.$Cd.get_ObjectId(),r)}},$2mn:function(n,t){t.$2h||t.$Tv||(t.$L3=n.$1ZS,n.$1nT&&t.$L3.set_ModelContext(t.get_ModelContext()),t.set_IsModelInitialized(!0))}};Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DY=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DY.prototype={$4M:0,$rO:0,$4r:null,$zf:null,$Er:null};Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DF=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DF.prototype={$Cd:null,$Dt:null};Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DZ=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DZ.prototype={$1nT:!1,$1ZS:null};Microsoft.Crm.Client.Core.ViewModels.Controls.$EG=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$EG.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$EG.prototype={get_$2AD:function(){return"tel:"}};Microsoft.Crm.Client.Core.ViewModels.Controls.$EC=function(){this.$$d_$1hU=Function.createDelegate(this,this.$1hU);Microsoft.Crm.Client.Core.ViewModels.Controls.$EC.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$EC.prototype={$2Z:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$27A(this.$$d_$1hU);this.set_Visible(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().get_$F2());Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.prototype.$2Z.call(this)},$1hU:function(n,t){if(!$0.$0(t)){this.set_Visible(t.$1K0);return}this.set_Visible(!1)},$Oh:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().remove_$27A(this.$$d_$1hU);Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.prototype={$Cy:null,$8l:null,$8r:null,$NG:null,$JJ:null,$ce:null,$Jg:null,set_$qd:function(n){return this.$Cy=n,this.$1n8(),n},get_CrmChartBuilder:function(){return this.$Jg},set_CrmChartBuilder:function(n){return this.$Jg=n,this.$2SJ(),n},$2SJ:function(){$0.$0(this.$Jg)?(this.set_PrimaryModelName(null),this.set_$qd(null)):(this.set_PrimaryModelName(this.$Jg.get_$1u()),this.set_$qd(this.$Jg.$2Ma()))},get_ViewId:function(){return this.$8r},set_ViewId:function(n){return n&&Object.getType(n)===String&&n!==this.$8r&&(this.$8r=n,this.set_SavedQueryId(n),this.$H4()),n},get_ViewEntityLogicalName:function(){return this.$NG},set_ViewEntityLogicalName:function(n){return n&&Object.getType(n)===String&&n!==this.$NG&&(this.$NG=n),n},get_VisualizationId:function(){return this.$JJ},set_VisualizationId:function(n){return n&&Object.getType(n)===String&&n!==this.$JJ&&(this.$JJ=n,this.set_SavedQueryVisualizationId(n),this.$H4()),n},get_VisualizationEntityLogicalName:function(){return this.$ce},set_VisualizationEntityLogicalName:function(n){return n&&Object.getType(n)===String&&n!==this.$ce&&(this.$ce=n),n},get_ActionProvider:function(){return this.$8l},set_ActionProvider:function(n){return this.$8l=n,n},$H4:function(){if(!$0.$0(this.$8l)){var n=this.$8l.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n);this.set_IsLoading(!0)}},$1n8:function(){this.set_IsLoading(!1);this.set_Title(this.$Cy.$5i);this.set_XAxes(this.$Cy.$i8);this.set_YAxes(this.$Cy.$o4);this.set_SeriesList(this.$Cy.$Ho);this.set_Legend(this.$Cy.$Im);this.set_Colors(this.$Cy.$Cv);this.set_DisplayMode(this.$Cy.$H0);this.set_ErrorInformation(this.$Cy.$Bs);this.set_SavedQueryId(this.$8r);this.set_SavedQueryVisualizationId(this.$JJ)},$MZ:function(n){Microsoft.Crm.Client.Core.Framework.$5I.$1Jz(n.$m)?this.$13H():Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$MZ.call(this,n)},$13H:function(){var t=new Microsoft.Crm.Client.Core.Framework.$50(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Offline_Indicator_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_UnavailableOffline")),n=new Microsoft.Crm.Client.Core.Models.Chart.$Kv;n.$5i=new Microsoft.Crm.Client.Core.Models.$JJ;n.$H0=1;n.$Bs=new Microsoft.Crm.Client.Core.Framework.$L4;n.$Bs.$YM=t.get_$nn();n.$Bs.$YK=t.get_$11E();this.set_$qd(n)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$8g=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$8g.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$8g.$2Qp=function(n,t,i,r){var u=new Microsoft.Crm.Client.Core.ViewModels.Controls.$8g;return u.$Bo=r,u.$I0=n,u.$Lb=i,u.$SI=t,u};Microsoft.Crm.Client.Core.ViewModels.Controls.$8g.prototype={$I0:null,$SI:null,$Bo:null,$Fj:null,$qE:0,$Go:null,$Cv:null,$Lb:null,$Oh:function(){$0.$0(this.$Bo)||(this.$Bo.$5E(),this.$Bo=null);this.$I0=null;this.$Lb=null;this.$SI=null;this.$Fj=null},$2Ma:function(){if(this.$Fj=new Microsoft.Crm.Client.Core.Models.Chart.$Kv,this.$Bo.get_$s()>0){this.$2MY(this.$I0,this.$SI);try{this.$2Mb();this.$2MX()}catch(n){if(Microsoft.Crm.Client.Core.Framework.$50.$14A(n)){var t=Microsoft.Crm.Client.Core.Framework.$4d.$1GB(Microsoft.Crm.Client.Core.Framework.$50,n,"ChartError");this.$2Ml(this.$Fj,t)}else throw n;}}else this.$2Mh(this.$Fj);return this.$Fj},get_$1u:function(){return this.$I0.$6e},$2Mh:function(n){var i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_NoData_Message"),t=new Microsoft.Crm.Client.Core.Models.$JJ;t.Text=i;t.HorizontalAlignment="center";t.VerticalAlignment="middle";n.$5i=t;n.$VJ=this.$I0.$1q;n.$H0=1;n.$Bs=new Microsoft.Crm.Client.Core.Framework.$L4;n.$Bs.$YM=null;n.$Bs.$YK=i},$2Ml:function(n,t){n.$5i=new Microsoft.Crm.Client.Core.Models.$JJ;n.$VJ=this.$I0.$1q;n.$H0=1;n.$Bs=new Microsoft.Crm.Client.Core.Framework.$L4;n.$Bs.$YM=t.get_$nn();n.$Bs.$YK=t.get_$11E()},$2MY:function(n,t){var i=t.$1q;this.$Fj.$5i=new Microsoft.Crm.Client.Core.Models.$JJ;this.$Fj.$5i.Text=i;this.$Fj.$VJ=n.$1q},$2Mb:function(){var t=this.$SI.get_$4r().presentationdescription,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HE(t);this.$Go=n.$Go;this.$Fj.$Im=new Microsoft.Crm.Client.Core.Models.$JF;n.$qC.get_Count()>0?(this.$Fj.$Im.Floating=!1,this.$Fj.$Im.Enabled=n.$qC.get_$R(0).$8m,this.$Fj.$Im.HorizontalAlignment=n.$qC.get_$R(0).$1VW.toLowerCase(),this.$Fj.$Im.VerticalAlignment=n.$qC.get_$R(0).$1ZF.toLowerCase()):this.$Fj.$Im.Enabled=!1;this.$Cv=n.$1XR},$2MX:function(){this.$qE=this.$1zu();var n=Microsoft.Crm.Client.Core.ViewModels.Controls.$8h.$2sQ(this.$qE);n.$2Z(this.$Bo,this.$Lb,this.$Go,this.$Fj);this.$Fj.$Cv=this.$Cv;n.$Ae()},$1zu:function(){return this.$Lb.$1e0?2:this.$Lb.$DX.$7j.$49.$Jr?3:1}};Microsoft.Crm.Client.Core.ViewModels.Controls.$HG=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$HG.prototype={$qE:null,$Gq:null,$L:null,$1Ye:null,$1WI:0,$1WH:null,$1f3:!1,$1G:null,set_$2O7:function(n){return this.$qE=n||"Column",n},set_$1XQ:function(n){return this.$Gq=n?String.format("rgb({0})",n.trim()):null,n},set_$2MN:function(n){return this.$1WH=n?String.format("rgb({0})",n.trim()):null,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.$HE=function(n){this.$vO=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n);this.$3C4(this.$vO);this.$Go=this.$33M();this.$qC=this.$32d();this.$1XR=this.$330()};Microsoft.Crm.Client.Core.ViewModels.Controls.$HE.prototype={$vO:null,$Go:null,$qC:null,$1XR:null,$33M:function(){for(var t,n,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$HG)),u=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(this.$vO).$62("Chart/Series/Series"),i=0;i<u.get_$s();i++)t=u.get_$R(i),n=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HG,n.set_$2O7(t.$10("ChartType")),n.set_$1XQ(t.$10("Color")),n.$L=t.$10("Name"),n.$1Ye=t.$10("CustomProperties"),n.set_$2MN(t.$10("BorderColor")),n.$1WI=t.$10("BorderWidth"),n.$1f3=t.$10("IsValueShownAsLabel")==="True",n.$1G=t.$10("Label"),r.add(n);return r},$32d:function(){for(var t,n,r,u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.$HJ)),f=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(this.$vO).$62("Chart/Legends/Legend"),i=0;i<f.get_$s();i++)t=f.get_$R(i),n=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HJ,n.$1VW=t.$10("Alignment"),n.$1ZF=t.$10("Docking"),n.set_$2Xk(t.$10("ForeColor")),r=t.$10("Enabled"),n.$8m=!r||r,u.add(n);return u},$330:function(){var t=[],f=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(this.$vO).$N("Chart"),i=f.$10("PaletteCustomColors"),u;if(i)for(var r=i.split(";"),e=r.length,n=0;n<e;++n)u=r[n],Array.add(t,String.format("rgb({0})",u.trim()));return t},$3C4:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(n).$N("Error");if(t)throw new Microsoft.Crm.Client.Core.Framework.$50(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_Unsupported_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_Unsupported_Message")).$1mm();}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ny=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Ny.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ny.prototype={$Ae:function(){this.$dw&&this.$dw.get_Count()&&(this.$Be.$i8=this.$32H(),this.$Be.$Ho=this.$2C0(0),this.$Be.$o4=this.$1ju())}};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_executeAction=Function.createDelegate(this,this.executeAction);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$1fl=Function.createDelegate(this,this.$1fl);this.$F4=new Array(0);this.$HP=new Array(0);this.$R1={};this.$Tn={};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype={$5f:null,$nK:null,$bO:null,$nJ:null,$Ec:null,$H5:null,$Jx:"",$6C:"",$1Fb:null,$Lw:null,$Qb:null,$FA:null,$11b:!1,$Oj:!1,$1Jv:!1,$WJ:!1,$1ek:!1,$13o:!0,$17T:null,get_UsePhoneExperience:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$3A()||Microsoft.Crm.Client.Core.Framework.$6.get_$4U()?!0:!1},get_RelevanceSearchPageSize:function(){return 25},get_MetadataActionProvider:function(){return this.$FA},set_MetadataActionProvider:function(n){return this.$FA=n,n},get_SearchText:function(){return this.$5f},set_SearchText:function(n){return this.$5f===n?n:(this.$5f=n,this.$7("SearchText"),n)},get_SearchTextboxText:function(){return this.$17T},set_SearchTextboxText:function(n){return this.$17T=n,n},get_FacetPanePanoramaItemViewModel:function(){return $0.$0(this.$1Fb)&&(this.$1Fb=this.$2.$67("FacetPane")),this.$1Fb},get_FacetPaneViewModel:function(){return $0.$0(this.get_FacetPanePanoramaItemViewModel())||(this.$Lw=this.get_FacetPanePanoramaItemViewModel().$H.FacetPane),this.$Lw},get_IsCameraAvailable:function(){return!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()},get_EntityNames:function(){return this.get_ItemValues()},get_FacetEntityNames:function(){return this.$H5},set_FacetEntityNames:function(n){return this.$H5=n,n},get_EntityFacetFilterExpression:function(){return this.$Jx},set_EntityFacetFilterExpression:function(n){return this.$Jx=n,n},get_FilterExpression:function(){return this.$6C},set_FilterExpression:function(n){return this.$6C=n,n},get_ItemLabels:function(){return this.$HP},set_ItemLabels:function(n){return this.$HP=n,n},get_SearchButtonToolTip:function(){return this.$bO},set_SearchButtonToolTip:function(n){return this.$bO!==n&&(this.$bO=n),n},get_ScanBarcodeToolTip:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_ScanBarcode_Tooltip")},get_SearchCommand:function(){return this.$Ec},set_SearchCommand:function(n){return this.$Ec=n,n},get_ExternalSearchCommand:function(){return this.$Qb},set_ExternalSearchCommand:function(n){return this.$Qb=n,n},get_SearchWithLabel:function(){return this.$nK},set_SearchWithLabel:function(n){return this.$nK=n,n},get_ItemValues:function(){return this.$F4},set_ItemValues:function(n){return this.$F4=n,n},get_EntityMetadataRetrieved:function(){return this.$11b},get_IsActivitiesNotesCheckBoxDisabled:function(){return this.$13o},set_IsActivitiesNotesCheckBoxDisabled:function(n){return this.$13o===n?n:(this.$13o=n,this.$7("CheckBoxEnabled"),n)},get_EntityListViewModels:function(){var n,t,i,r;if($0.$0(this.$Fr)){this.$Fr=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel));n=this.get_PanoramaContainer().$H;for(t in n)i={key:t,value:n[t]},r=i.value,this.$Fr.add(r)}return this.$Fr},get_IsRelevanceSearchPage:function(){return this.$Oj},set_IsRelevanceSearchPage:function(n){return this.$Oj=n,n},get_IsActivityNotesCheckBoxVisible:function(){return this.$Oj?!0:!1},get_IsRelevanceSearchEnabled:function(){return this.$1ek},get_ActivityNotesCheckBoxData:function(){return this.$WJ},set_ActivityNotesCheckBoxData:function(n){return this.$WJ!==n&&(this.$WJ=n,this.$7("CheckBoxEnabled")),n},get_IsActivitiesNotesCheckBoxChecked:function(){return this.$WJ},get_ActivityNotesCheckBoxLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Facet_Search_Activities_Notes")},get_RelevanceSearchLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_RelevanceSearch_With_Label")},get_CategorySearchLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_Label_Meqf_External_Search_Enabled")},$6b:null,get_$Uh:function(){return"LastUsedSearch"},get_$vH:function(){return this.$6b},get_$2V0:function(){return this.get_ItemValues()},get_$2V2:function(){return this.$$d_$1fl},get_SearchTypeViewModel:function(){if($0.$0(this.$nJ)){this.$nJ=new Microsoft.Crm.Client.Core.ViewModels.$Bn;this.get_SearchTypeViewModel().set_ItemLabels([this.get_CategorySearchLabel(),this.get_RelevanceSearchLabel()]);this.get_SearchTypeViewModel().set_ItemValues(["CategorizedSearch","RelevanceSearch"]);var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();n.$q==="relevanceSearchPage"?this.get_SearchTypeViewModel().set_SelectedItem("RelevanceSearch"):this.get_SearchTypeViewModel().set_SelectedItem("CategorizedSearch")}return this.$nJ},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$SE.prototype.$2Z.call(this);var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();!$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E())&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$R4&&(this.$1ek=!0);n.$q==="relevanceSearchPage"?(this.$Oj=!0,this.$nK=this.get_RelevanceSearchLabel(),this.$Qb=Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.$n(this,null)):(this.$Oj=!1,this.$nK=this.get_CategorySearchLabel(),this.$Ec=Microsoft.Crm.Client.Core.Commands.SearchCommand.$n(this,null));this.$bO=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_SearchButton_Tooltip");$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||"SearchText"in this.$2.$K.$M&&this.set_SearchText(this.$2.$K.$M.SearchText);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He);this.$2NM()},$17M:function(n){var i={},t;i.value=n;this.$6b=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV(i);t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("SavePersonalization"));t.execute();t.dispose()},$EP:function(n,t){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$hK("global",this);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$hK($16.$cH(Microsoft.Crm.Client.Core.Framework.$1,1).toLowerCase(),this);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)},$2NM:function(){if(!$0.$0(this.get_ItemValues())&&!(this.get_ItemValues().length<1)){var n=this.$FA.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$He:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();n.$q==="relevanceSearchPage"?(this.$Qb.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()),this.set_Enabled(this.$Qb.get_CanExecute())):(this.$Ec.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()),this.set_Enabled(this.$Ec.get_CanExecute()));this.executeAction()},$3d:function(n){this.$2HK(n);this.$2FT()},$1fl:function(n){var e={},o,s,r,t,u,f,i;for(this.$11b=!0,o=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q("activitypointer",1),s=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q("annotation",1),r=0;r<n.length;r++)t=n[r],(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(t.$y,1)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$1na(t.$y))&&(e[t.$y]=1,this.$R1[t.$y]=t.$R1&&o?"1":"0",this.$Tn[t.$y]=t.$Tn&&s?"1":"0");for(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i=0;i<this.get_ItemValues().length;i++)this.get_ItemValues()[i]in e&&(u.add(this.get_ItemValues()[i]),f.add(this.$HP[i]));u.get_Count()!==this.get_ItemValues().length&&(this.set_ItemValues(u.toArray()),this.$HP=f.toArray(),this.$7("ItemsList"));$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||"SearchText"in this.$2.$K.$M&&(this.$5f=this.$2.$K.$M.SearchText,window.setTimeout(this.$$d_executeAction,500))},executeAction:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();n.$q==="relevanceSearchPage"?!Microsoft.Crm.Client.Core.Framework.$3.$12(this.$5f)&&this.$Qb.get_CanExecute()&&(this.$1Jv=!0,this.$Qb.execute()):!Microsoft.Crm.Client.Core.Framework.$3.$12(this.$5f)&&this.$Ec.get_CanExecute()&&this.$Ec.execute()},scanBarcode:function(n){var t=this;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().$jU(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Nz.scanBarcode(function(i){t.$2MD(i,n)},function(n,i){i.toLowerCase()==="access to the camera has been prohibited; please enable it in the settings app to continue."&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?t.$1qB(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094019)+"\r\n"+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MoreInformation"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094022))):n!==1&&t.$1qB(Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094019))},"ScanBarCode",new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions)})},$2MD:function(n,t){this.$5f=n;t()},$1qB:function(n){Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",n)},raiseEnterButtonPressEvent:function(n){if(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84("SearchBoxEnterKeyPress"),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();i.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84,t)}},$Rr:function(){this.executeAction();Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Rr.call(this)},$2EY:function(n,t){var f=n.get_entityLogicalName(),e=f+"pane",i=this.get_PanoramaContainer().$H[e],r,u;if(!$0.$0(i)){if(i.$E6=!0,r=n.get_entityLogicalName()+"List",u=i.$H[r],u.$D!==f){i.set_Visible(!1);return}this.$37D(n,r,u,t);i.set_Visible(!0)}},$37D:function(n,t,i,r){i.set_Name(this.$RA[t]);try{this.$Oj?(i.set_PageSize(this.get_RelevanceSearchPageSize()),this.$1Jv&&(i.$Ea(),i.$1Z.$Ea(),this.$1Jv=!1),i.hitHighlightInfo=r):(i.$Ea(),i.set_PageSize(3));i.set_IsLoading(!0);var u=Microsoft.Crm.Client.Core.Models.$1j.$X(n.get_data());i.$2n||i.$1CH(u);this.$Oj||(i.$1Z.$G8=u.get_$Jo()-1);i.$3d(u);i.set_IsLoading(!1);i.set_Visible(!0)}catch(f){}i.set_GridEnabled(!1);i.$hz=!1},$2HK:function(n){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("SearchBoxViewModelBase:UpdateDataModel"),t;try{for(this.$1lO(),i.start(),t=0;t<n.$n9.get_Count();t++){var r=n.$n9.get_$R(t),u=r.$P,f=u+"pane";f in this.get_PanoramaContainer().$H&&this.$2EY(r,n.$13W)}Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedSearchFull")}finally{i.stop();i=null}},$2FT:function(){this.set_IsLoading(!1)},$1lk:function(){this.set_IsLoading(!0)},resetFacetPaneViewModelProperties:function(){$0.$0(this.get_FacetPanePanoramaItemViewModel())||this.get_FacetPaneViewModel().resetProperties()},$Oh:function(){$0.$0(this.$Ec)||(this.$Ec.dispose(),this.$Ec=null);$0.$0(this.$Qb)||(this.$Qb.dispose(),this.$Qb=null);$0.$0(this.$nJ)||(this.$nJ.dispose(),this.$nJ=null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.ViewModels.Controls.$SE.prototype.$Oh.call(this)},$2qZ:function(){},$25j:function(){}};Microsoft.Crm.Client.Core.ViewModels.Controls.$HF=function(n,t){this.$49=n;this.$7j=t;this.$46=this.$49.$46?this.$49.$46:this.$49.$L;this.$7j&&this.$7j.$49&&this.$7j.$49.$Jr&&(this.$1e6=!0)};Microsoft.Crm.Client.Core.ViewModels.Controls.$HF.prototype={$49:null,$7j:null,$1e6:!1,$46:null,$d:function(n){var t=this.$1e6?this.$2fb(n):null;return t&&Object.getType(t)===String||(t=n.$I.getFormattedValue(this.$46),t&&Object.getType(t)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5j&&(t=t.$G3),t&&Object.getType(t)===Xrm.Objects.EntityReference&&(t=t.Name),t=t||"",Object.getType(t)!==String&&(t=t.toString())),t.length?t:Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Visualization.EmptyAxisLabel")},$1zy:function(n){var i,t;if(!this.$49||!this.$49.$4C.$MQ||$0.$0(this.$49.$4C.$MQ.$Nl.$CN.get_$R(this.$49.$L)))return this.$d(n);i=this.$49.$4C.$MQ.$Nl.$CN.get_$R(this.$49.$L).$26;switch(i){case 11:case 13:case 12:case 0:return t=n.$I.getValue(this.$46),t&&Object.getType(t)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5j&&(t=t.$G3),t&&Object.getType(t)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x&&(t=t.$1s),t=t||0,t.toString(2);default:return this.$d(n)}},$2fb:function(n){var t=n.GetValue(this.$46);if($0.$0(t))return"";switch(this.$49.$Jr.$fe){case 0:return this.$2k2(n);case 1:return this.$2k8(n);case 2:return this.$2k5(n);case 3:return this.$2k6(n);case 5:return this.$2k3(n);case 4:return this.$2k9(n);case 6:return this.$2k4(n)}return n.GetValue(this.$46)},get_$1o8:function(){return Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1aE(this.$49)},$2k9:function(n){var t=n.GetValue(this.$46+Microsoft.Crm.Client.Core.Framework.$U.$6n);return Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$125(t,-1,-1,-1)},$2k5:function(n){var t=n.GetValue(this.$46+Microsoft.Crm.Client.Core.Framework.$U.$6n),i=n.GetValue(this.$7j.$IW.get_$R(0).$46+Microsoft.Crm.Client.Core.Framework.$U.$6n);return Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$125(i,t,-1,-1)},$2k2:function(n){var t=n.GetValue(this.$46+Microsoft.Crm.Client.Core.Framework.$U.$6n),i=n.GetValue(this.$7j.$IW.get_$R(0).$46+Microsoft.Crm.Client.Core.Framework.$U.$6n),r=n.GetValue(this.$7j.$IW.get_$R(1).$46+Microsoft.Crm.Client.Core.Framework.$U.$6n);return Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$125(r,i,-1,t)},$2k8:function(n){var t=n.GetValue(this.$7j.$IW.get_$R(0).$46+Microsoft.Crm.Client.Core.Framework.$U.$6n),i=n.GetValue(this.$46+Microsoft.Crm.Client.Core.Framework.$U.$6n);return Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$125(t,-1,i,-1)},$2k4:function(n){var t=n.GetValue(this.$46+Microsoft.Crm.Client.Core.Framework.$U.$6n);return Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1wW(t,-1)},$2k3:function(n){return n.GetValue(this.$46+Microsoft.Crm.Client.Core.Framework.$U.$6n)},$2k6:function(n){var t=n.GetValue(this.$7j.$IW.get_$R(0).$46+Microsoft.Crm.Client.Core.Framework.$U.$6n),i=n.GetValue(this.$46+Microsoft.Crm.Client.Core.Framework.$U.$6n);return Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1wW(t,i)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$6R=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$6R.get_$2oC=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("InteractionCentricMultiEntityChartsFeature")};Microsoft.Crm.Client.Core.ViewModels.Controls.$6R.$2iW=function(n){return(Microsoft.Crm.Client.Core.Framework.$3.$12(n.$46)?n.$L:n.$46)+Microsoft.Crm.Client.Core.Framework.$U.$6n};Microsoft.Crm.Client.Core.ViewModels.Controls.$6R.prototype={$Be:null,$Bo:null,$dw:null,$Go:null,$Lb:null,$ZP:!1,get_$au:function(){return this.$Lb.$DX.$7j},$2Z:function(n,t,i,r){this.$Bo=n;this.$Lb=t;this.$dw=this.$Lb.get_$2O0();this.$Go=i;this.$Be=r;this.$ZP=!0},$1ju:function(){var n=new Array(1);return n[0]=new Microsoft.Crm.Client.Core.Models.$JO,n[0].Title=this.$Be.$Ho&&this.$Be.$Ho.length===1?this.$Be.$Ho[0].Title:"",n},$32H:function(){var r=new Array(1),i=null,t,n,u;for(this.$dw.get_Count()>0&&(i=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HF(this.$dw.get_$R(0),this.$Lb.$DX.$7j)),r[0]=new Microsoft.Crm.Client.Core.Models.$JN,t=new Array(this.$Bo.get_$s()),n=0;n<this.$Bo.get_$s();n++)u=this.$Bo.$11.get_$R(n),i?(t[n]=i.$d(u),t[n]==="-1"&&(t[n]=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ChartAttributeValueMissing"))):t[n]=Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1bp();return i&&(r[0].Title=i.get_$1o8()),r[0].Values=t,r},$2C0:function(n){for(var f,y,e,r,h,s,c,d,l,g,u=new Array(this.$Go.get_Count()),t=0;t<this.$Go.get_Count();t++){var i=this.$Lb.$DX.$ts.get_$R(t).$KQ.get_$R(0).$1LM,a=i.$46?i.$46:i.$L,w=this.$Go.get_$R(t).$1f3,v=!1;if($0.$0(this.$Go.get_$R(t).$1G)||this.$Go.get_$R(t).$1G.toLowerCase()!=="#percent"||(v=!0),f=null,y=Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1aE(i),this.$Be.$QW=!0,u[t]=this.$1rt(this.$Go.get_$R(t)),i.$Z0&&i.$4C&&i.$4C.$F0&&i.$4C.$F0.length>0)for(f=new Array(i.$4C.$F0.length),e=0;e<i.$4C.$F0.length;e++)f[e]=i.$4C.$F0[e];else this.get_$au()&&this.get_$au().$49&&(f=new Array(0),Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_$au().$49.$L)&&Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_$au().$49.$46)||(Microsoft.Crm.Client.Core.ViewModels.Controls.$6R.get_$2oC()?f[0]=this.get_$au().$49:this.get_$au().$49.$4C.$gt?this.$Be.$QW=!1:f[0]=this.get_$au().$49));var o=new Array(this.$Bo.get_$s()),b=a+Microsoft.Crm.Client.Core.Framework.$U.$6n,k=a,p=0;for(r=0;r<this.$Bo.get_$s();r++)h=this.$Bo.$11.get_$R(r),o[r]=new Microsoft.Crm.Client.Core.Models.$JE,s=h.GetValue(b),o[r].Value=s?s:0,p+=s?s:0,o[r].FormattedValue=h.$I.getFormattedValue(k)||0,this.$1pu(o[r],h,f);w?(c=new Microsoft.Crm.Client.Core.Models.$JD,c.Enabled=!0,d=this,c.LabelFormatter=function(){return""+this.point.FormattedValue},u[t].$1EJ=c):v&&(l=new Microsoft.Crm.Client.Core.Models.$JD,l.Enabled=!0,g=this,l.LabelFormatter=function(){return""+Highcharts.numberFormat(parseFloat(this.point.FormattedValue)/parseFloat(p.toString())*100)+"%"},u[t].$1EJ=l);u[t].DataPoints=o;u[t].Title=this.$Go.get_$R(t).$L||y;u[t].XAxisNumber=n}return u},$1rt:function(n){var t=new Microsoft.Crm.Client.Core.Models.$JK;return t.ChartType=n.$qE,t.Color=n.$Gq,t.BorderColor=n.$1WH,t.BorderWidth=n.$1WI,t.CustomProperties=n.$1Ye,t},$1pu:function(n,t,i){var f,u,r;if(i){for(f=new Microsoft.Crm.Client.Core.Models.$60,u=0;u<i.length;u++)r=i[u],f.$2Jb(r.$L,t.GetValue(Microsoft.Crm.Client.Core.ViewModels.Controls.$6R.$2iW(r)),r.$Jr?r.$Jr.$fe:-1);n.Aggregators=f.$2eI()}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$8h=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$8h.$2sQ=function(n){switch(n){case 2:return new Microsoft.Crm.Client.Core.ViewModels.Controls.$Nm;case 3:return new Microsoft.Crm.Client.Core.ViewModels.Controls.$Nn;case 1:default:return new Microsoft.Crm.Client.Core.ViewModels.Controls.$Ny}};Microsoft.Crm.Client.Core.ViewModels.Controls.$1y=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.get_$2rs=function(){return Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1LW||(Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1LW=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Calendar_Short_Months").split(",")),Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1LW};Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$125=function(n,t,i,r){var f=r>=1&&i<1&&t>=1,e=r<1&&i>=1&&t<1,o=r<1&&i<1&&t>=1,s=i<1&&t<1,u;return f?(u=new Date(n,t-1,r),Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$ri(u,0)):e?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Visualization.Year.Week"),i,n):o?String.format("{0} {1}",Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.get_$2rs()[t-1],n):s?n.toString():""};Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1wW=function(n,t){return t>0?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Visualization.Year.Quarter"),t,n):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("FiscalYear_Format_String_NoSpace"),n)};Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1aE=function(n){var f=n.$4C.$MQ.$Nl.$CN.get_$R(n.$L),i=$0.$0(f)?null:f.$1q,t,o;if(i||(i=n.$L),t=i,n.$Jr?(o=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$68.$1wi(n.$Jr.$fe).replace("-","").toUpperCase(),t=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Visualization.AxisTitle.DateGrouping"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Visualization.AxisTitle.DateGrouping."+o.toUpperCase()),i)):n.$Z0&&!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$1Bu)&&(t=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Visualization.AxisTitle"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Visualization.AxisTitle."+n.$1Bu.toUpperCase()),i)),f.$26===8){var e="",r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E(),u=null;f.$sv?u=r.$1Ho(r.$1I.$106):n.$Z0&&(u=r.$1Ho(r.$Hv));u&&(e=r.$1I.$10z===1?u.$10y:u.$qg);Microsoft.Crm.Client.Core.Framework.$3.$9(e)||(t=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Visualization.AxisTitle.CurrencySymbol"),t,e))}return t};Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1bp=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Visualization.EmptyAxisLabel")};Microsoft.Crm.Client.Core.ViewModels.Controls.$7z=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$7z.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$7z.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("DuplicateRecordsViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$7z.$2Ui)};Microsoft.Crm.Client.Core.ViewModels.Controls.$7z.$2Ui=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.$7z;return n.$N7=165,n};Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel=function(){this.$$d_$2vB=Function.createDelegate(this,this.$2vB);this.$$d_$1MM=Function.createDelegate(this,this.$1MM);Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel.prototype={$1Rb:null,$5w:null,get_TrackWithoutSettingRegardingLabel:function(){return this.$1Rb},set_TrackWithoutSettingRegardingLabel:function(n){return this.$1Rb=n,n},get_Message:function(){return this.$5w},set_Message:function(n){return this.$5w=n,this.$7("Message"),n},get_EntityListViewModels:function(){var t,i,r,n;if($0.$0(this.$Fr)){this.$Fr=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel));t=this.get_PanoramaContainer().$H;for(i in t)r={key:i,value:t[i]},n=r.value,"searchSummaryPane"in n.$H||"searchProgressImagePane"in n.$H||"userInfoPane"in n.$H||this.$Fr.add(n)}return this.$Fr},get_IsTrackWithoutSettingRegardingHasToBeDisplayed:function(){return!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$15r},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$2Z.call(this),this.$nK=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.get_$BB()===1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Track_Appointment_Regarding"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Track_Email_Regarding"),this.set_SearchButtonToolTip(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Search_More")),this.$1Rb=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Track_Only"),this.$2.add_$6F(this.$$d_$1MM),this.AddPropertyChangedListener("SearchText",this.$$d_$2vB))},$2vB:function(){var n=!Microsoft.Crm.Client.Core.Framework.$3.$12(this.$5f),i=this,t;this.$rh(function(t,i){i.get_Visible()!==n&&i.set_Visible(n)});t=this.$2.$67("MailAppRecentlyViewedItemList");t&&t.set_Visible(!n)},$rh:function(n){var o=$0.$0(this.$Fr),t,i,s,r,u,f,e,h;o&&(this.$Fr=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel)));t=this.get_PanoramaContainer().$H;for(i in t){s={key:i,value:t[i]};r=s.value;o&&this.$Fr.add(r);u=r.$H;for(f in u)e={key:f,value:u[f]},h=e.value,n(e.key,h)}},$1MM:function(){this.$2.remove_$6F(this.$$d_$1MM);this.$2EX();var n=this;this.$rh(function(n,t){var i=Microsoft.Crm.Client.Core.Models.$1j.$jn();t.$2n||t.$1CH(i);t.$1Z.$G8=i.get_$Jo()-1;t.$3d(i);t.set_IsLoading(!1);t.set_Visible(!1)})},$2EX:function(){this.$1lO();var n=this;this.$rh(function(t,i){i.set_Label(n.$RA[t]);i.set_Name(n.$RA[t]);i.set_EnableViewPicker(!1);i.set_IsLoading(!1)})},$1lk:function(){var n=this;this.$rh(function(n,t){t.set_Visible(!1)});this.set_Message("");this.set_IsLoading(!0)},$2FT:function(){var n=!1,t=this;this.$rh(function(t,i){i.set_Visible(i.$1f.get_Count()>0);n=n||i.get_Visible()});n||this.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Search_Page_No_Results_Found"));this.set_IsLoading(!1)},$1QJ:function(){if(this.$Oj)this.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_RelevantSearch_Failed"));else{var n=this;this.$rh(function(n,t){t.set_Visible(!0)})}this.set_IsLoading(!1)},closePage:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$jP().execute()},$Oh:function(){this.$2.remove_$6F(this.$$d_$1MM);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$Oh.call(this)},$3d:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$3d.call(this,n);this.$316(n)},$316:function(n){for(var t,i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),f=n.$n9.get_Items(),e=f.length,r=0;r<e;++r)t=f[r],t.get_data().get_count()>0?i.add(t.get_entityLogicalName()+"pane"):u.add(t.get_entityLogicalName()+"pane");i.addRange(u.get_Items());this.get_PanoramaContainer().set_ReorderedPanesNames(i.get_Items())}};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel=function(){this.$$d_$1qn=Function.createDelegate(this,this.$1qn);this.$$d_$1qo=Function.createDelegate(this,this.$1qo);this.$$d_$1sQ=Function.createDelegate(this,this.$1sQ);this.$$d_$2Pk=Function.createDelegate(this,this.$2Pk);this.$14h=Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$1fR();Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("RollupViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$33Z)};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$1fR=function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Kj)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Kj=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RollupFieldLastUpdatedLabel")),Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Kj};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$2zR=function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Nl)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Nl=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RollupFieldRecalculatingString")),Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Nl};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$33Z=function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel};Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.prototype={$ND:!1,get_UseHiddenMask:function(){return this.$ND},set_UseHiddenMask:function(n){return this.$ND=n,this.$7("UseHiddenMask"),n},$1Eo:!1,get_DidRecalculate:function(){return this.$1Eo},set_DidRecalculate:function(n){return this.$1Eo=n,n},$14g:null,get_LastUpdated:function(){return this.$14g},set_LastUpdated:function(n){return this.$14g!==n&&(this.$14g=n,this.$7("LastUpdated")),n},get_RollupState:function(){return this.$17G},set_RollupState:function(n){return $0.$0(n)||this.$17G===parseInt(n)||(this.$17G=parseInt(n),this.$7("RollupState")),n},get_WarningMessage:function(){if(this.$bk===32||this.$17F)return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InvalidFieldDefinitionError");switch(this.$17G){case 0:case 1:return"";case 2:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RollupOverflowErrorMessage");case 3:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RollupOtherErrorMessage");case 4:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RollupDefinitionChangedError");case 5:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RollupCalculationLimitReached");case 7:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RollupCurrencyFieldMissingErrorMessage");default:return""}},get_LastUpdatedLabel:function(){return this.$14h},set_LastUpdatedLabel:function(n){return this.$14h!==n&&(this.$14h=n,this.$7("LastUpdatedLabel")),n},get_CalculateFieldCommand:function(){return this.$Jd},set_CalculateFieldCommand:function(n){return $0.$0(this.$Jd)||(this.$Jd.dispose(),this.$Jd=null),this.$Jd=n,n},get_ConfirmRecalculateCommand:function(){return this.$qP},set_ConfirmRecalculateCommand:function(n){return $0.$0(this.$qP)||(this.$qP.dispose(),this.$qP=null),this.$qP=n,n},get_FieldName:function(){return this.$OL},set_FieldName:function(n){return this.$OL=n,n},$rY:"",get_FieldNameDate:function(){return this.$rY},set_FieldNameDate:function(n){return this.$rY=n,n},$ra:"",get_FieldNameState:function(){return this.$ra},set_FieldNameState:function(n){return this.$ra=n,n},get_RollupInvalid:function(){return this.$17F},set_RollupInvalid:function(n){return this.$17F=n,this.$7("RollupState"),n},$38L:function(){Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_WarningMessage())||Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RollupUnableToRecalculate"),this.get_WarningMessage())},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Hd.call(this);this.set_CalculateFieldCommand(Microsoft.Crm.Client.Core.Commands.$6k.$n(this,null));this.set_ConfirmRecalculateCommand(new Microsoft.Crm.Client.Core.Commands.$AO(this.$$d_$2Pk,105))},$2H1:function(){var t,n;if($0.$0(this.$2)||$0.$0(this.$2.get_AttributeMetadata()))return null;for(t=this.$2.get_AttributeMetadata(),n=0;n<t.length;n++)if(t[n].get_$2I()===this.$OL)return t[n];return null},$2Pk:function(){var n=new Xrm.ConfirmDialogStrings;n.title=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RollupFieldRecalculateString");n.text=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RollupFieldLastUpdatedLabelWithDate"),this.$14h,this.$14g);n.confirmButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text");n.cancelButtonLabel=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text");Xrm.Dialog.openConfirmDialog(n,null,this.$$d_$1sQ,null)},$1sQ:function(){this.$Jd.execute();this.$1Eo=!0},get_IsRecalculateEnabled:function(){var n=!1,t=this.$2H1();return $0.$0(t)||(n=t.get_$240()),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&!Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)&&this.$bk!==32&&!this.$17F&&!this.$ND&&!n},$1qo:function(n){n.hasValue(this.$rY)&&this.get_ModelContext().SetValue(this.$rY,n.getValue(this.$rY));n.hasValue(this.$ra)&&this.get_ModelContext().SetValue(this.$ra,n.getValue(this.$ra));n.hasValue(this.$OL)&&this.get_ModelContext().SetValue(this.$OL,n.getValue(this.$OL));this.set_LastUpdatedLabel(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$1fR());this.$38L()},$1qn:function(n){this.set_LastUpdatedLabel(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$1fR());this.$MZ(n)},$Jd:null,$qP:null,$OL:null,$Oh:function(){this.set_CalculateFieldCommand(null);this.set_ConfirmRecalculateCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$17G:0,$bk:0,$17F:!1,get_SourceTypeMask:function(){return this.$bk},set_SourceTypeMask:function(n){return this.$bk=n,this.$7("RollupState"),this.$7("SourceTypeMask"),n},tryGetAlertMessage:function(){return this.get_WarningMessage()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$7y=function(){this.$$d_$15W=Function.createDelegate(this,this.$15W);this.$$d_$1MM=Function.createDelegate(this,this.$1MM);Microsoft.Crm.Client.Core.ViewModels.Controls.$7y.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$7y.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("DraftsViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$7y.$2Ud)};Microsoft.Crm.Client.Core.ViewModels.Controls.$7y.$2Ud=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.$7y;return n.$N7=162,n};Microsoft.Crm.Client.Core.ViewModels.Controls.$7y.prototype={$1Ew:null,$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$SE.prototype.$2Z.call(this);this.$2.add_$6F(this.$$d_$1MM)},$EP:function(n,t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$1Ev(this.$$d_$15W);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)},$uN:function(n,t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().remove_$1Ev(this.$$d_$15W);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$uN.call(this,n,t)},$1MM:function(){this.$2.remove_$6F(this.$$d_$1MM);this.$2EX();this.$1Ew=this.get_PanoramaContainer().$H.draftsStatusPane},$15W:function(n,t){var o=!t.$O8,i,r,s,u,f,e,h,c;if(o){i=this.get_PanoramaContainer().$H;for(r in i)if(s={key:r,value:i[r]},u=s.value,u!==this.$1Ew){f=u.$H;for(e in f)h={key:e,value:f[e]},c=h.value,c.set_Visible(!1)}}this.$1Ew.set_Visible(o)},$2EX:function(){var n,t,i,r,f;this.$1lO();n=this.get_PanoramaContainer().$H;for(t in n){var e={key:t,value:n[t]},o=e.value,u=o.$H;for(i in u)r={key:i,value:u[i]},f=r.value,f.set_Label(this.$RA[r.key])}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$SE=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);Microsoft.Crm.Client.Core.ViewModels.Controls.$SE.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$SE.prototype={refreshCommand:null,$15y:null,$Fr:null,$14l:null,$RA:null,$1Ks:null,$8l:null,$1k:!1,$N7:0,get_PanoramaContainer:function(){return $0.$0(this.$15y)&&(this.$15y=this.$2.$67("PaneContainer"),this.$15y.set_Width("100%")),this.$15y},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.refreshCommand=new Microsoft.Crm.Client.Core.Commands.$AO(this.$$d_$Rr,this.$N7)},$Oh:function(){$0.$0(this.refreshCommand)||(this.refreshCommand.dispose(),this.refreshCommand=null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},get_ActionProvider:function(){return this.$8l},set_ActionProvider:function(n){return this.$8l=n,n},get_ListDisplayNames:function(){return this.$14l},set_ListDisplayNames:function(n){return this.$14l=n,n},get_ListUniqueNames:function(){return this.$1Ks},set_ListUniqueNames:function(n){return this.$1Ks=n,n},get_ListUniqueNameToDisplayNames:function(){return this.$RA},set_ListUniqueNameToDisplayNames:function(n){return this.$RA=n,n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k!==n&&(this.$1k=n,this.$7("IsLoading")),n},$1lO:function(){if($0.$0(this.$RA)){this.$RA={};for(var n=0;n<this.$14l.length;n++)this.$RA[this.$1Ks[n]]=this.$14l[n]}},$1QJ:function(){this.set_IsLoading(!1)},$4L:function(){this.$1QJ()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$HI=function(n){this.$AJ=n};Microsoft.Crm.Client.Core.ViewModels.Controls.$HI.prototype={$AJ:null,$1Ie:function(n){this.$1Wz();this.$2Qq(n)},$1Wz:function(){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),u=this.$AJ.get_$2Ok(),i,f,r,e,n;for(i in u)f={key:i,value:u[i]},r=f.value,r&&t.addRange(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1OH(r).toArray());for(e=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43),n=0;n<t.get_Count();n++)e.$1XL(t.get_$R(n));this.$AJ.$1re()},$2Qq:function(n){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ProxyProcessHelper:CreateChildViewModels:"+n.Name),t,r;i.start();t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(n.TypeName);t.set_Root(this.$AJ.get_$GO());Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$3Bp(t,n,this.$AJ.get_$2rp());this.$AJ.set_$1vw(t);this.$AJ.$CK(t.get_Name(),this.$AJ.get_$1vw());r=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(n);this.$AJ.set_$2Q2(r);this.$AJ.$2tJ();i.stop()},$3Am:function(n){if(Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&Microsoft.Crm.Client.Core.ViewModels.Controls.$7P.isInstanceOfType(this.$AJ))if(n)this.$Rs();else{var i=this.$AJ,t=i.$2.$67("PaneContainer");!$0.$0(t)&&Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.isInstanceOfType(t)&&t.$xQ(!0)}},$Rs:function(){if(Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&Microsoft.Crm.Client.Core.ViewModels.Controls.$7P.isInstanceOfType(this.$AJ)){var t=this.$AJ,n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y;$0.$0(n)||(n.$2Oz(),n.$2q4(t.get_$qQ(),t))}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$SX=function(){this.$$d_$2sr=Function.createDelegate(this,this.$2sr);Microsoft.Crm.Client.Core.ViewModels.Controls.$SX.initializeBase(this);this.$MV=new Microsoft.Crm.Client.Core.ViewModels.$4N;this.$MV.AddPropertyChangedListener("FlyOutExpanded",this.$$d_$2su)};Microsoft.Crm.Client.Core.ViewModels.Controls.$SX.prototype={$MV:null,$1D9:null,get_NavigationViewModel:function(){return this.$MV},get_ChildNavigationViewModels:function(){return this.$1D9},set_ChildNavigationViewModels:function(n){return this.$1D9=n,n},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$SI.prototype.$CK.call(this,n,t);var i=this.$H[n];i.AddPropertyChangedListener("Enabled",this.$$d_$2sr)},$16q:function(n){n.rpcl("Enabled",this.$$d_$2sr);Microsoft.Crm.Client.Core.ViewModels.$SI.prototype.$16q.call(this,n)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this);this.$MV.RemovePropertyChangedListener("FlyOutExpanded",this.$$d_$2su);this.$MV.dispose();this.$MV=null},$2sr:function(){this.$7("ActiveChildViewModels")}};Microsoft.Crm.Client.Core.ViewModels.Controls.$AW=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$AW.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$AW.prototype={$Dg:null,set_$5u:function(n){return!$0.$0(this.$Dg)&&!$0.$0(n)&&this.$Dg.get_$6U()===n.get_$6U()?n:(this.$Dg=n,this.$7("GlobalPathAndActiveStage"),n)},$1Ld:null,$2sF:function(n,t,i){return n?n===1?(this.$377(t,i),!0):!0:!1},$2HS:function(n){this.$3BI(n.$C1);this.set_$5u(new Mscrm.ProcessControlShared.ObjectModels.$KY(new Mscrm.ProcessControlShared.ObjectModels.$2H(n.$CB),n.$LG))},$377:function(n,t){var i=new Mscrm.ProcessControlShared.ObjectModels.$JQ;i.$C1=new Array(0);i.$LG=n;i.$CB=t;this.$2HS(i)},$3BI:function(n){var i;this.$1Ld={};for(var r=n,u=r.length,t=0;t<u;++t)i=r[t],this.$1Ld[i.EntityLogicalName]=new Microsoft.Crm.Client.Core.Framework.Guid(i.Id)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$AX=function(){this.$$d_$1pM=Function.createDelegate(this,this.$1pM);this.$$d_$1he=Function.createDelegate(this,this.$1he);this.get_AttributeMetadata=this.get_$1Vw;this.set_AttributeMetadata=this.set_$1Vw;Microsoft.Crm.Client.Core.ViewModels.Controls.$AX.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.Controls.$AX.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$AX.prototype={get_$9T:function(){return this.$2.$67("ProcessManager")},$P:null,get_EntityLogicalName:function(){return this.$P},set_EntityLogicalName:function(n){return this.$P=n,n},$4I:null,get_AttributeFieldNames:function(){return $0.$0(this.$4I)&&(this.$4I=new Array(0)),this.$4I},set_AttributeFieldNames:function(n){return n===this.$4I?n:(this.$4I=n,this.$7("AttributeFieldNames"),n)},$1l:null,get_$1Vw:function(){return this.$1l},set_$1Vw:function(n){return n===this.$1l?n:(this.$1l=n,this.$7("AttributeMetadata"),n)},get_RetrieveOptions:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz():Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq()},$Ig:null,get_GetModelActionProvider:function(){return this.$Ig},set_GetModelActionProvider:function(n){return this.$Ig=this.$2.$g===40&&this.$2.$6i===1?null:n,n},get_ExternalContext:function(){return null},$2Z:function(){(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$P===this.$D)&&(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.$2)&&this.$2.$Zb?this.$1fg():this.$2C4(),this.$2.add_$FD(this.$$d_$1he))},$MZ:function(n){Microsoft.Crm.Client.Core.Framework.$5I.$1Jz(n.$m)||Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$MZ.call(this,n)},$2Nt:function(n,t){return t},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this);$0.$0(this.$2)||this.$2.remove_$FD(this.$$d_$1he)},$2C4:function(){var n,u,t,i,r;if(!$0.$0(this.get_ModelContext())&&(n=this.get_ModelContext(),!$0.$0(n)&&!$0.$0(n.$I)&&!$0.$0(n.$I.$Fs)&&(u=this.$2.$5k,t=u.data.entity,this.$P===t.get_$2V6()))){this.$23Z();t.$1LP?this.$1pM(null):t.$o8=this.$$d_$1pM;return}if(!$0.$0(this.$Ig)){if(this.$23Z(),i=this.$Ig.$56(),!i)return;r=this;i.add_$AT(function(){r.get_$9T()&&r.$1fg()});Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i)}},$1pM:function(){var n=this.get_ModelContext();$0.$0(n)||$0.$0(n.$I.$Fs)||this.$1fg()},$1fg:function(){this.get_$9T().set_$25a(!0);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$np(this.get_$9T().get_ViewModelId())},$1he:function(){Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(this.$2)&&this.$2.$Zb||this.$2C4();this.get_$9T().$3AZ()},$23Z:function(){var n,i,r,o,t,s,u,e;if(!$0.$0(this.get_$9T())&&!$0.$0(this.get_$9T().get_$6I())&&(n=this.get_$9T().get_$6I(),!$0.$0(n.$J4)&&!$0.$0(n.$J4.ChildViewModels))){i=n.$J4.ChildViewModels;for(r in i)if((o={key:r,value:i[r]},t=o.value,t.TypeName==="ProcessEntity")&&(s=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"EntityLogicalName",t.Properties),s===this.$P&&(u=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(Array,"AttributeFieldNames",t.Properties),!$0.$0(u))))for(var h=u,c=h.length,f=0;f<c;++f)e=h[f],Array.contains(this.get_AttributeFieldNames(),e)||Array.add(this.get_AttributeFieldNames(),e)}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$3T=function(){var n,t;this.$$d_$2u5=Function.createDelegate(this,this.$2u5);this.$$d_$27c=Function.createDelegate(this,this.$27c);this.$$d_$2HR=Function.createDelegate(this,this.$2HR);Microsoft.Crm.Client.Core.ViewModels.Controls.$3T.initializeBase(this);n=this;this.$16O=function(){n.$7("ProcessDescriptor")};t=this;this.$13D=function(){t.$7("GlobalActiveStage")};this.$9u=1;this.$ho={};this.$18B=0};Microsoft.Crm.Client.Core.ViewModels.Controls.$3T.$m9=function(n){return!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&Xrm.Utility.isMocaOfflineFeatureEnabled()&&Xrm.Utility.isEntityOfflineSyncEnabled(n)};Microsoft.Crm.Client.Core.ViewModels.Controls.$3T.prototype={$ho:null,$18B:0,$16O:null,$13D:null,$B6:!1,$1NR:null,get_$A1:function(){return $0.$0(this.$H)?null:this.$H.ProcessActiveStageManager},get_$1NS:function(){if($0.$0(this.$1NR)){var n=this.$2.$67("ProxyProcessControl");this.$1NR=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HI(n)}return this.$1NR},$G1:!0,$1TV:!1,get_$6I:function(){return $0.$0(this.$H)?null:this.$H.ProcessMetadataManager},get_$9J:function(){var n=this.get_$6I();return $0.$0(n)?null:n.$QS},get_$Ar:function(){return this.get_$6I().get_$Ar()},get_$Mm:function(){return this.get_$6I().$hB},get_$1NB:function(){return this.get_$6I().$J4},get_$2A2:function(){return this.get_$6I().$1ip},$Cf:null,get_SelectedStageId:function(){return this.$Cf},set_SelectedStageId:function(n){n=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n).toString();var t=!this.$Cf;return this.$Cf===n?n:(this.$Cf=n,this.$Cf&&!this.$B6&&this.$2XE(this.$BS(this.$Cf)),this.$7("SelectedStageId"),t||this.get_$1NS().$Rs(),n)},$1DO:null,get_$2PF:function(){return $0.$0(this.$1DO)&&(this.$1DO=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HH(this)),this.$1DO},$HU:null,set_$2qG:function(n){return this.$HU=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n).toString(),n},get_$1PQ:function(){return this.get_$6I().$2j5(this.$Cf)},get_$5u:function(){return this.get_$A1().$Dg},set_$5u:function(n){return this.get_$A1().set_$5u(n),n},get_$C1:function(){return this.get_$A1().$1Ld},get_$BE:function(){return $0.$0(this.$Jc)?this.$R3:this.$Jc},get_$mc:function(){return this.$ZI},$47:null,set_$A5:function(n){return this.$47=n,this.$7("ErrorMessage"),n},$Jc:null,$MK:!1,set_$25a:function(n){return n===this.$MK?n:(this.$MK=n,this.$7("LoadComplete"),n)},$Ui:!1,get_PopoverVisibility:function(){return this.$Ui},set_PopoverVisibility:function(n){return this.$Ui!==n&&(this.$Ui=n,this.$7("PopoverVisibility"),Microsoft.Crm.Client.Core.Framework.$6.get_$f()||this.$3Ba()),n},$3Ba:function(){$0.$0(this.$2)||(this.$Ui?this.$2.$Jn.$10k("panoramaContainerHidden")||this.$2.$Jn.$3w("panoramaContainerHidden"):this.$2.$Jn.$Ai("panoramaContainerHidden"))},add_$28M:function(n){this.$1p("OnReflow",n)},remove_$28M:function(n){this.$32("OnReflow",n)},add_$ua:function(n){this.$1p("OnHasMultipleBPFInstancesInOffline",n)},remove_$ua:function(n){this.$32("OnHasMultipleBPFInstancesInOffline",n)},add_$qI:function(n){this.$1p("ClearProcess",n)},remove_$qI:function(n){this.$32("ClearProcess",n)},$vQ:null,set_ProcessStateChangeCompleted:function(n){return this.$vQ=n,n},$R3:null,get_IntrinsicStageId:function(){return this.$R3},set_IntrinsicStageId:function(n){return this.$R3===n?n:(this.$R3=n,this.$2Eu(),this.$7("IntrinsicStageId"),n)},$ZI:null,get_IntrinsicTraversedPath:function(){return this.$ZI},set_IntrinsicTraversedPath:function(n){return this.$ZI=n,this.$7("IntrinsicTraversedPath"),n},$ET:null,get_ProcessId:function(){return this.$ET},set_ProcessId:function(n){return this.$ET===n?n:(this.$ET=n,!$0.$0(n)&&($0.$0(this.$HU)||new Microsoft.Crm.Client.Core.Framework.Guid(this.$HU).toString()!==n.toString())&&this.$333(),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.$2.$6i===1||Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jG(this.get_ViewModelId()),this.$7("ProcessId"),n)},$16N:null,get_ProcessDefinitionActionProvider:function(){return this.$16N},set_ProcessDefinitionActionProvider:function(n){return this.$16N=n,n},get_BusinessProcessFlowInstanceState:function(){return this.$t},set_BusinessProcessFlowInstanceState:function(n){return this.$t=n,n},get_BusinessProcessFlowInstanceStatus:function(){return this.$9u},set_BusinessProcessFlowInstanceStatus:function(n){return this.$9u=n,n},$x2:null,$ml:null,$J4:null,$Bd:null,$1io:null,$t:0,$9u:0,$2Z:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("ProcessManager:Initialize",0,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$2Eu();this.$37V();!$0.$0(this.$2)&&!$0.$0(this.$2.$8e)&&"PopoverVisibilityAttribute"in this.$2.$8e&&this.set_PopoverVisibility(this.$2.$8e.PopoverVisibilityAttribute);this.$32G()},$2CP:function(){if($0.$0(this.$x2)){this.$x2=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$63,Microsoft.Crm.Client.Core.Framework.$7);var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFilteredProcesses",null),t=this;n.OnSuccess=function(n){if(Microsoft.Crm.Client.Core.ViewModels.$63.isInstanceOfType(n))t.$x2.resolve(n);else{t.$x2.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("RetrieveSwitchProcessData failed - response is unexpected."));return}};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)}return this.$x2.promise()},$335:function(){var n,r,t,i;return $0.$0(this.$ml)&&(this.$ml=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),$0.$0(this.get_ModelContext())?this.$ml.resolve({}):(n={},r=new Microsoft.Crm.Client.Core.Framework.Guid(this.get_ModelContext().get_Id()),n.entityLogicalName=this.$D,n.currentEntityId=r.toString(),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleProcessInstances",n),i=this,t.OnSuccess=function(n){if(Object.isInstanceOfType(n))i.$ml.resolve(n);else{i.$ml.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("RetrieveProcessInstances failed - response is unexpected."));return}},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t))),this.$ml.promise()},$2kr:function(n){var u=null,o=null,r=null,i,t;if(IsNull(n.toString())||("ProcessDefinitions"in n&&(o=n.ProcessDefinitions),"ProcessInstances"in n&&(r=n.ProcessInstances)),r&&r.length>0){u={};for(var e=r,s=e.length,f=0;f<s;++f)i=e[f],t=new Mscrm.ProcessControlShared.ObjectModels.$JU,t.ProcessInstanceID=i.ProcessInstanceId,t.ProcessInstanceName=i.Title,t.StatusCodeName=i.StatusCodeName,u[t.ProcessInstanceID]=t,t.ProcessDefinitionID=i.ProcessDefinitionId,t.ProcessDefinitionName=i.ProcessDefinitionName,t.CreatedOnDate=new Date(i.CreatedOn),t.ProcessDefintionID=i.ProcessDefinitionId,t.ProcessDefintionName=i.ProcessDefinitionName,t.CreatedOn=i.CreatedOn}return u},$27c:function(n){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ProcessManager:OnDescriptorLoaded:");if(i.start(),this.set_$2qG(null),this.$2h){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$np(this.get_ViewModelId());return}if($0.$0(this.$ET)&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_ModelContext())&&!this.get_ModelContext().$Ki&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()){var r=this.get_ModelContext(),t=null,u=this;t=function(){r.remove_$7v(t);u.$27d(n)};r.add_$7v(t)}else this.$27d(n);i.stop()},$27d:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ProcessManager:OnDescriptorLoadedInternal:");if(t.start(),this.$2h){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$np(this.get_ViewModelId());return}if($0.$0(n.Properties)){$0.$0(this.$ET)||(this.$2Ha(n),this.get_$6I().$2Em(n),this.get_$6I().$23K(new ProcessControl.Reflow.$Iu(this.get_$A1())),this.$7("ProcessObjectModel"),this.$J4=n);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$np(this.get_ViewModelId());this.set_SelectedStageId(null);return}this.$J4=n;this.$2ET();t.stop()},$3AZ:function(){this.$2HH();this.$21X()},$2kJ:function(){this.$13I("ClearProcess",this,null)},$2u5:function(n){throw Error.create("retrieve process control defintion has failed:\n\n"+n.$F);},$223:function(n){return this.get_$6I().$223(n)},$tM:function(n){var i,t,r,u;if($0.$1Y(this.get_$5u())||Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_$5u().get_$6U()))return!1;for(i=0;i<this.get_$Mm().steps.get_Count();i++)if(t=this.get_$Mm().steps.get_$R(i),Microsoft.Crm.Workflow.ObjectModel.$5K.isInstanceOfType(t))for(r=0;r<t.steps.get_Count();r++){if(u=t.steps.get_$R(r),u.id===this.get_$5u().get_$6U())return!1;if(u.id===n)return this.get_$6I().$1NE>1&&$0.$0(this.get_$C1()[t.get_EntityLogicalName()])?!1:!0}return!1},$1eu:function(n){if($0.$1Y(this.get_$5u())||Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_$5u().get_$6U()))return!0;var t=this.get_$6I().$9N(n);return $0.$0(t)?!0:this.get_ModelContext().get_ModelName()===t.get_EntityLogicalName()?this.$2.get_IsLocked()?!0:!1:$0.$0(this.get_$C1())||$0.$0(this.get_$C1()[t.get_EntityLogicalName()])},$10S:function(n){return this.get_$6I().$10S(n)},$1Wj:function(n){if(this.$10S(n)){var t=this.get_$9J().$MA(n);return this.get_$2PF().$1Wj(t)}return!1},$9N:function(n){return this.get_$6I().$9N(n)},$2Nh:function(n){var r,u,t,i;if(!this.$l7()||!this.$10S(n))return!1;for(r=this.$9N(this.get_$5u().get_$6U()),u=this.$9N(n),t=0;t<this.get_$Mm().steps.get_Count();t++)if(i=this.get_$Mm().steps.get_$R(t),Microsoft.Crm.Workflow.ObjectModel.$5K.isInstanceOfType(i)){if(i===u)return!0;if(i===r)return!1}return!1},$1Wk:function(n){return this.$1qy()?this.get_$6I().$1Wk(n):!1},$2Ng:function(n){return this.$l7()?this.$1Wj(n):!1},$1Cr:function(n){return this.$1qy()?this.get_$6I().$1Cr(n):!1},$2eD:function(){for(var n,e,o,i=null,r=null,u=new(Xrm.XrmCollection$1.$$(Xrm.XrmProcessStage)),f=this.get_$9J().get_$E4(),s=f.length,t=0;t<s;++t)n=f[t],i=this.$BS(n),e=this.$9N(n),o=!$0.$0(this.get_$5u())&&!$0.$0(this.get_$5u().get_$6U())&&n===this.get_$5u().get_$6U().toString()?1:0,r=Microsoft.Crm.Client.Core.ViewModels.$39.$mn(i,e,o),u.add(r);return u},$MA:function(n){return this.get_$6I().$MA(n)},$37k:function(n,t){var r=n.toLowerCase(),u,i;Xrm.$1h.toString(this.$9u).toLowerCase()!==n.toLowerCase()&&(u=this,i=function(){},r===Xrm.$1h.toString(1).toLowerCase()?this.$1FU(0,1,this.$1Hn(0,1,t),i):r===Xrm.$1h.toString(3).toLowerCase()?this.$1FU(1,3,this.$1Hn(1,3,t),i):r===Xrm.$1h.toString(2).toLowerCase()&&this.$1FU(1,2,this.$1Hn(1,2,t),i))},$Yw:function(n){return this.get_$6I().$Yw(n)},$BS:function(n){var t=this.get_$6I();return $0.$0(t)?null:t.$BS(n)},$1r3:function(n,t){return Microsoft.Crm.Client.Core.Framework.$6.$4N?!1:!$0.$0(this.get_$6I())&&(this.$HU!==n||!$0.$0(t))},$2HR:function(n){$0.$0(this.get_$A1())||this.get_$A1().$2HS(n);this.$3Ag();this.$Bd=n.$1WN;this.$1io=n.$1WO;$0.$0(n.$1Ch)||(this.$t=Number.parseInvariant(n.$1Ch));$0.$0(n.$1Ci)||(this.$9u=Number.parseInvariant(n.$1Ci),this.$7("ProcessStatus"))},$Oh:function(){this.get_$6I().RemovePropertyChangedListener("ProcessDescriptor",this.$16O);this.$16O=null;this.get_$A1().RemovePropertyChangedListener("GlobalPathAndActiveStage",this.$13D);this.$13D=null;this.$ho=null;this.$18B=0;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Hd.call(this);this.$2ET()},$1jA:function(n,t,i){var r=this.$4d("OnReflow"),u;r&&(u=new Microsoft.Crm.Client.Core.ViewModels.Controls.$No(n,t,i),r(this,u))},$1pK:function(n){var t=Xrm.ProcessResponse.toString(1),i,r;if(this.$l7()&&this.$24i()&&(r=this.$2No(i={val:t}),t=i.val,r)){var u=this.$MA(this.get_$BE().toString()),f=this.$1VO(n),e=new Mscrm.ProcessControlShared.ObjectModels.$2H(Mscrm.ProcessControlShared.ObjectModels.$2H.$Qv(this.get_$9J().get_$E4(),u.stageId));this.$Hw(u,e,"Next",f)}else{$0.$0(n)||n(t);return}},$2MB:function(n){var t=Xrm.ProcessResponse.toString(1),r,u,i,f;if(this.$l7()&&this.$24i()&&(u=this.$2Np(r={val:t}),t=r.val,u))i=this.$Yw(this.get_$BE().toString()),i&&(f=this,this.$17h(i.id,function(t){n(t)},!1));else{$0.$0(n)||n(t);return}},$17h:function(n,t,i){var u=this.$BS(n),r,a,f,e,c,s,l,h,v;if($0.$0(u)||!this.$l7()){$0.$0(t)||t(Xrm.ProcessResponse.toString(1));return}if(r=this.$9N(u.id),$0.$0(r)||Microsoft.Crm.Client.Core.Framework.$3.$9(r.get_EntityLogicalName())||$0.$0(this.$2.get_ModelContext())){$0.$0(t)||t(Xrm.ProcessResponse.toString(1));return}if(a=Mscrm.ProcessControlShared.ObjectModels.$2H.$2oB(this.get_$9J().get_$E4(),n.toLowerCase()),!a){$0.$0(t)||t(Xrm.ProcessResponse.toString(2));return}if(e=new Mscrm.ProcessControlShared.ObjectModels.$2H(Mscrm.ProcessControlShared.ObjectModels.$2H.$Qv(this.get_$9J().get_$E4(),u.stageId)),c=this.get_$5u().get_$CB().$2oD(u.stageId),c&&(i||!this.$2.get_ModelContext().$CX())){if(s=this.$9N(this.get_$5u().get_$6U()),r.get_EntityLogicalName()===s.get_EntityLogicalName()){f=this.$1VO(t);Microsoft.Crm.Client.Core.ViewModels.Controls.$3T.$m9(r.get_EntityLogicalName())&&(l=this.get_$1B().$I.$B3,$0.$0(l)||this.$1n4(l,e.get_$ER(),u.id));this.$Hw(u,e,null,f);return}if($0.$0(this.get_$C1()[r.get_EntityLogicalName()]))$0.$0(t)||t(Xrm.ProcessResponse.toString(1));else if(h=this.get_$C1()[r.get_EntityLogicalName()],v=this.get_$C1()[s.get_EntityLogicalName()],this.$B6=!0,f=this.$1VO(t),Microsoft.Crm.Client.Core.ViewModels.Controls.$3T.$m9(r.get_EntityLogicalName()))this.$2ki(u,r,s,f,e,h,v);else{var w=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Bd)?"":this.$Bd,o=this,y=this,b=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(null,null,{TargetViewModel:this,EntityId:h,EntityLogicalName:r.get_EntityLogicalName(),ProcessControlId:new Microsoft.Crm.Client.Core.Framework.Guid(this.$HU),ProcessInstanceId:w,NewStageId:new Microsoft.Crm.Client.Core.Framework.Guid(u.id),TraversedPath:e.get_$ER(),SuccesCallback:function(){var n=o.$BS(o.get_$5u().get_$6U());o.set_$5u(new Mscrm.ProcessControlShared.ObjectModels.$KY(e,u.id));o.$f2(null,n);o.$B6=!1;o.$f3(Xrm.ProcessResponse.toString(0),f);Xrm.Utility.openEntityForm(r.get_EntityLogicalName(),h.toString())},FailureCallback:function(){y.$B6=!1;y.$f3(Xrm.ProcessResponse.toString(1),f)}}),p=new Microsoft.Crm.Client.Core.Commands.$8f(b);p.execute();p.dispose()}}else $0.$0(t)||(c?t(Xrm.ProcessResponse.toString(11)):t(Xrm.ProcessResponse.toString(1)))},$1nG:function(n,t){var i=this,r=function(){i.$vQ("Failure")};this.$1FU(n,t,this.$1Hn(n,t,this.$vQ),r)},$1XZ:function(){var f=this.$BS(this.get_$5u().get_$6U()),r=this.$2,e=this.$ZI,t=this.$2.$67("ProxyProcessControl"),i=null,n,u;!$0.$0(t)&&this.get_$A1().$Dg.get_$6U()in t.$VF&&(i=t.$VF[this.get_$A1().$Dg.get_$6U()]);!$0.$0(i)&&i.$1Qf()&&(n=this,u=this,r.$Hw(70).then(function(t){t&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("UpdateProcessStatusToFinish",0,n.get_ViewModelId()),n.$vQ=null,n.$1nG(1,2),n.get_$1NS().$Rs())},function(){}))},$1oS:function(){this.$9u!==3&&this.$1nG(1,3)},$2Nr:function(){var n=this.get_$1PQ(),t=null,i,r;return($0.$0(this.get_$5u())||(t=this.$BS(this.get_$5u().get_$6U())),t===n)?!1:!IsNull(t)&&(i=this.$9N(n.stageId),r=this.$9N(t.stageId),i.get_EntityLogicalName()===r.get_EntityLogicalName())?this.$tM(n.stageId):this.$tM(n.stageId)&&!this.$1eu(n.stageId)},$1Hn:function(n,t,i){var r=this;return function(){r.$t=n;r.$9u=t;r.$7("ProcessStatus");r.get_$1NS().$Rs();i&&i(Xrm.$1h.toString(t));r.$2XC(Xrm.$1h.toString(r.$9u))}},$24M:function(){if(this.$1ed()){if($0.$0(this.get_$5u()))return!1;var n=this.$BS(this.get_$5u().get_$6U());return!(this.$1Wk(n.stageId)||this.$10S(n.stageId))}return!1},$2AW:function(){this.$9u!==1&&(this.$vQ=null,this.$1nG(0,1))},$1FU:function(n,t,i,r){var e=this.$9N(this.get_$5u().get_$6U()),o=Microsoft.Crm.Workflow.Utils.$P.$7R(this.get_ModelContext().get_Id()),u={},f;u.entityid=o.toString();u.entitylogicalname=e.get_EntityLogicalName();u.state=n;u.status=t;u.bpfInstanceId=this.$Bd;f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateBusinessProcessFlowState",u);f.OnSuccess=i;f.OnFailure=r;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,f)},$2EH:function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.Guid(this.get_ModelContext().get_Id());t=Microsoft.Crm.Client.Core.Framework.$3.$9(t)?"":t;var u=this,f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(null,null,{TargetViewModel:this,EntityId:i.toString(),EntityLogicalName:this.$D,ProcessControlId:n,ProcessInstanceId:t,SuccesCallback:function(){Xrm.Utility.openEntityForm(u.$D,i.toString())}}),r=new Microsoft.Crm.Client.Core.Commands.$8f(f);return r.execute(),r.dispose(),0},$f2:function(n,t){var i,o;if(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v)&&(i=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$21H(),i&&i.get_Count()>0)){var r=this.$9N(t.id),u=this.get_$5u().get_$6U()===t.id?1:0,s=Microsoft.Crm.Client.Core.ViewModels.$39.$mn(t,r,u),f=this.$Yw(t.id.toString()),e=null;f&&(e=Microsoft.Crm.Client.Core.ViewModels.$39.$mn(f,r,u));o=new Microsoft.Crm.Client.Core.ViewModels.Events.$IL(n,s,e,null);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$33j(o)}},$2XC:function(n){var i,t;this.get_$A1()&&this.get_$A1().$Dg&&(i=this.$BS(this.get_$5u().get_$6U()),$0.$0(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v)||(t=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1cO(),t&&t.get_Count()>0&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$33i(n)))},$2XE:function(n){var t;if(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v)&&(t=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$21I(),t&&t.get_Count()>0)){var i=this.$9N(n.id),r=n.id===this.get_$BE().toString()?1:0,u=Microsoft.Crm.Client.Core.ViewModels.$39.$mn(n,i,r),f=new Microsoft.Crm.Client.Core.ViewModels.Events.$IL(null,u,null,null);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$33k(f)}},$1x3:function(){var n={};return n.PopoverVisibilityAttribute=this.$Ui,n},$34B:function(){var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){window.setTimeout(function(){$0.$0(n.get_$6I())||n.get_$6I().set_$1NB(n.$J4)},0)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1dO,"InitializeProcessControlViewModel")},$1n4:function(n,t,i){var e=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6t,r=n.fields,f,u;r.traversedpath=t;r.processstageid=i;f=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$5l(r,3,"businessprocessflowinstance");u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$5l));u.add(f);e.$h1(u,null,!1)},$32G:function(){var n,i,r;if($0.$0(this.$D)||!Microsoft.Crm.Client.Core.ViewModels.Controls.$3T.$m9(this.$D)||$0.$0(this.get_ModelContext())||$0.$0(this.get_ModelContext().get_Id()))this.$1j2(!1);else{var f=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6t,t=new Array(0),e=this.get_ModelContext().get_Id();for(n=1;n<=5;n++)i=String.format("entity{0}id",n),r=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$K8(i,e,1,0),t.push(r);var o=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$K9(t),u=this,s=this;f.$7m("businessprocessflowinstance",o).then(function(n){!$0.$0(n)&&n.rows.length>1?u.ShowRecordMultiBPFInstanceOfflineMessageDialog():u.$1j2(!1)},function(){s.$1j2(!1)})}},$1j2:function(n){var t,i;this.$G1!==n&&(this.$G1=n,t=this.$4d("OnHasMultipleBPFInstancesInOffline"),t&&(i=new Microsoft.Crm.Client.Core.ViewModels.Events.$NF(n),t(this,i)))},ShowRecordMultiBPFInstanceOfflineMessageDialog:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;n.$DZ=0;n.$AG=2;n.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mscrm.Form.MobileOffline.MultiBPFInstances.Message"));n.Show()},$2ET:function(){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ProcessManager:SetDefaultProcessId:"),n;if(t.start(),!$0.$0(this.get_ModelContext())&&!$0.$0(this.$J4)){if(n=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(Microsoft.Crm.Client.Core.Framework.Guid,"ProcessId",this.$J4.Properties).toString(),n===this.$HU||!this.$2pU(n)){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$np(this.get_ViewModelId());return}this.get_$6I().$2Em(this.$J4);this.get_$6I().$23K(new ProcessControl.Reflow.$Iu(this.get_$A1()));$0.$0(this.$ET)&&(this.set_ProcessId(new Microsoft.Crm.Client.Core.Framework.Guid(n)),this.set_IntrinsicStageId(new Microsoft.Crm.Client.Core.Framework.Guid(this.get_$6I().get_$eE().steps.get_$R(0).id)),this.$2.$Hw(70));this.$2HH();this.$7("ProcessObjectModel");this.$2Ha(this.$J4);this.$HU=n;this.$21X();t.stop()}},$37V:function(){this.get_$6I().AddPropertyChangedListener("ProcessDescriptor",this.$16O);this.get_$A1().AddPropertyChangedListener("GlobalPathAndActiveStage",this.$13D)},$2Eu:function(){var n=this.$R3;$0.$0(n)||this.set_SelectedStageId(n.toString().toLowerCase())},$333:function(){if(!$0.$0(this.$16N)){this.set_$25a(!1);var n=this.$16N.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$2pU:function(n){return $0.$0(this.$ET)?!0:this.$ET.toString()===n},$21X:function(){var i=$0.$0(this.$R3)?this.$Jc.toString():this.$R3.toString(),t,r,u,n;$0.$0(this.$ZI)&&!Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.set_IntrinsicTraversedPath(Mscrm.ProcessControlShared.ObjectModels.$2H.$Qv(this.get_$9J().get_$E4(),i));t=null;t=Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.get_$mc():this.$ZI;r=this.get_$A1().$2sF(this.get_$6I().$1NE,i,t);r||$0.$0(this.$Jc)||(u=new Mscrm.ProcessControlShared.ObjectModels.$2H(this.get_$mc()),this.set_$5u(new Mscrm.ProcessControlShared.ObjectModels.$KY(u,this.$Jc.toString())));$0.$0(this.$2.get_ModelContext())||(n=this.$2.get_ModelContext(),$0.$0(n)||$0.$0(n.$I)||$0.$0(n.$I.$B3)||this.$3AM(n.$I.$B3))},$3AM:function(n){var i,t,r;$0.$0(n)||(i=new Microsoft.Crm.Client.Core.Models.ProcessControl.Factories.$KX,t=i.$1tP(n,this.get_$Ar()),$0.$0(t))||(r=this.$BS(t.$LG),$0.$1Y(r))||this.$2HR(t)},$1qy:function(){if(!this.$l7())return!1;var n=this.$9N(this.get_$5u().get_$6U());return n.get_EntityLogicalName()===this.get_ModelContext().get_ModelName()},$l7:function(){if($0.$1Y(this.get_$5u())||Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_$5u().get_$6U())||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&!Xrm.Utility.isMocaOfflineFeatureEnabled()||Microsoft.Crm.Client.Core.Framework.$6.$4N)return!1;var n=this.$9N(this.get_$5u().get_$6U());return!$0.$0(n)},$2HH:function(){var f=this.get_$6I().get_$eE(),n,i,r,u,t,e;if($0.$0(f)){this.set_SelectedStageId(null);return}n=this.$2;i=this.$2fO();n.$8e&&"selectedstageid"in n.$8e&&!$0.$0(this.$BS(n.$8e.selectedstageid.toString()))?this.set_SelectedStageId(n.$8e.selectedstageid.toString()):this.$2nS()||$0.$0(i)?(u=new Microsoft.Crm.Client.Core.Framework.Guid(f.steps.get_$R(0).id),t=$0.$0(this.$R3),t||(e=this.$BS(this.$R3.toString()),t=!!(t|$0.$0(e))),t?(this.$Jc=u,this.set_SelectedStageId(u.toString())):this.set_SelectedStageId(this.$R3.toString())):(r=new Microsoft.Crm.Client.Core.Framework.Guid(i),this.set_SelectedStageId(r.toString()),this.$Jc=r)},$3Ag:function(){var t,n,i;this.$2h||this.$l7()&&this.$tM(this.get_$BE().toString())&&((t=this.$MA(this.get_$BE().toString()),$0.$0(t))||(n=this.get_$6I().get_$eE(),i=n.steps.get_$R(n.steps.get_Count()-1),this.$Jc=new Microsoft.Crm.Client.Core.Framework.Guid(i.id),this.$7("CalculatedStageId"),this.$7("GlobalActiveStage")))},$Hw:function(n,t,i,r){this.$B6=!0;this.$Jc=null;this.set_IntrinsicStageId(new Microsoft.Crm.Client.Core.Framework.Guid(n.id));this.set_IntrinsicTraversedPath(t.get_$ER());var u=this,f=this;this.$2.$Hw(70).then(function(f){if(f){var e=u.$BS(u.get_$5u().get_$6U());u.set_$5u(new Mscrm.ProcessControlShared.ObjectModels.$KY(t,n.id));u.$f2(i,e);u.$B6=!1;u.$f3(Xrm.ProcessResponse.toString(0),r);u.get_$1NS().$Rs()}},function(){f.set_IntrinsicStageId(new Microsoft.Crm.Client.Core.Framework.Guid(f.get_$5u().get_$6U()));f.$B6=!1;f.$f3(Xrm.ProcessResponse.toString(1),r)})},$1VO:function(n){var t=this.$18B.toString();return this.$ho[t]=n,this.$18B++,t},$f3:function(n,t){if(this.$ho&&t in this.$ho){var i=this.$ho[t];delete this.$ho[t];$0.$0(i)||i(n)}},$24i:function(){var n=this.$9N(this.get_$A1().$Dg.get_$6U()),t=this.$9N(this.$Cf);return n.get_EntityLogicalName()===t.get_EntityLogicalName()},$2nS:function(){if($0.$0(this.get_$BE()))return!1;var n=this.$9N(this.get_$BE().toString());return!n||!this.get_$6I()?!1:n.get_EntityLogicalName()===this.get_$6I().get_$eE().get_EntityLogicalName()},$2fO:function(){var r,t,n;if($0.$0(this.get_$mc()))return null;r=this.get_$mc().split(",");t=null;for(var u=r,f=u.length,i=0;i<f;++i){if(n=u[i],n===this.get_$BE().toString())break;if(this.$9N(n.toString()).get_EntityLogicalName()===this.get_$6I().get_$eE().get_EntityLogicalName()){t=n;continue}}return t},$2No:function(n){var i;if($0.$0(this.get_$A1())||$0.$0(this.get_$A1().$Dg)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_$A1().$Dg.get_$6U())||$0.$0(this.$2.get_ModelContext()))return n.val=Xrm.ProcessResponse.toString(1),!1;if(i=this.get_$9J().$MA(this.get_$A1().$Dg.get_$6U()),Microsoft.Crm.Client.Core.Framework.$3.$9(i))return n.val=Xrm.ProcessResponse.toString(8),!1;var u=this.$9N(this.get_$A1().$Dg.get_$6U()),f=this.$9N(i),t=this.$2.$67("ProxyProcessControl"),r=null;return(!$0.$0(t)&&this.get_$A1().$Dg.get_$6U()in t.$VF&&(r=t.$VF[this.get_$A1().$Dg.get_$6U()]),$0.$0(u)||$0.$0(f)||$0.$0(t)||$0.$0(r))?(n.val=Xrm.ProcessResponse.toString(1),!1):r.$1Qf()?this.$2.get_ModelContext().$CX()?(n.val=Xrm.ProcessResponse.toString(11),!1):u.get_EntityLogicalName()===f.get_EntityLogicalName()?(n.val=Xrm.ProcessResponse.toString(0),!0):(n.val=Xrm.ProcessResponse.toString(10),!1):(n.val=Xrm.ProcessResponse.toString(6),!1)},$2Np:function(n){var t,i,r;return $0.$0(this.get_$A1())||$0.$0(this.get_$A1().$Dg)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_$A1().$Dg.get_$6U())||$0.$0(this.$2.get_ModelContext())?(n.val=Xrm.ProcessResponse.toString(1),!1):(t=this.get_$9J().$Yw(this.get_$A1().$Dg.get_$6U()),Microsoft.Crm.Client.Core.Framework.$3.$9(t))?(n.val=Xrm.ProcessResponse.toString(7),!1):this.$2.get_ModelContext().$CX()?(n.val=Xrm.ProcessResponse.toString(11),!1):(i=this.$9N(this.get_$A1().$Dg.get_$6U()),r=this.$9N(t),$0.$0(i)||$0.$0(r)?(n.val=Xrm.ProcessResponse.toString(1),!1):(n.val=Xrm.ProcessResponse.toString(0),!0))},$2Ha:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()||$0.$0(this.get_$6I())||this.get_$6I().set_$1NB(n)},$2ki:function(n,t,i,r,u,f){if(f.toString()===this.$2.get_ModelContext().get_Id()){if($0.$0(this.$2)||$0.$0(this.$HU))return;if(!this.$1r3(this.$HU,n.id.toString()))return}var o=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6t,e=this,s=this;o.$rm().then(function(i){var l=e.get_ModelContext().$I.$B3,h=l.fields,s;h.traversedpath=u.get_$ER();h.processstageid=n.id.toString().toUpperCase();s={};s.entityid=f.toString();s.entitylogicalname=t.get_EntityLogicalName();s.processid=e.$HU;s.stageid=n.id.toString().toUpperCase();s.traversedpath=u.get_$ER();var a=new Microsoft.Crm.Client.Core.Offline.Upsync.Entities.$2z(i,"ChangeProcessAndStage",1,JSON.stringify(s)),v=a.$1RT(),c=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$5l));c.add(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$5l(v,1,"Command"));c.add(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$5l(h,3,"businessprocessflowinstance"));o.$h1(c,null,!1).then(function(i){if(i){var o=e.$BS(e.get_$5u().get_$6U());e.set_$5u(new Mscrm.ProcessControlShared.ObjectModels.$KY(u,n.id));e.$f2(null,o);e.$B6=!1;e.$f3(Xrm.ProcessResponse.toString(0),r);Xrm.Utility.openEntityForm(t.get_EntityLogicalName(),f.toString())}else e.$B6=!1,e.$f3(Xrm.ProcessResponse.toString(1),r)},function(){e.$B6=!1;e.$f3(Xrm.ProcessResponse.toString(1),r)})},function(){s.$B6=!1;s.$f3(Xrm.ProcessResponse.toString(1),r)})},$1ed:function(){return Xrm.Internal.isFeatureEnabled("FCB.ProcessUnification")}};Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager.prototype={$Wc:null,get_AttributeMetadataActionProvider:function(){return this.$Wc},set_AttributeMetadataActionProvider:function(n){return this.$Wc=n,n},$J4:null,set_$1NB:function(n){return this.$J4===n?n:(this.$J4=n,this.$7("ProcessDescriptor"),n)},$QS:null,$1WJ:null,get_$Ar:function(){return this.$1WJ||(this.$1WJ=new ProcessObjectModel.Visitors.$KO)},$4I:null,get_AttributeFieldNames:function(){return this.$4I},set_AttributeFieldNames:function(n){return Microsoft.Crm.Client.Core.Framework.$3u.$2Lr(this.$4I,n)||(this.$4I=n,this.$7("AttributeFieldNames")),n},$hB:null,$1NE:0,$1ip:0,$1lv:null,get_$eE:function(){for(var n,i=this.$hB.steps,t=0;t<i.get_Count();t++)if((n=i.get_$R(t),Microsoft.Crm.Workflow.ObjectModel.$5K.isInstanceOfType(n))&&n.get_EntityLogicalName()===this.$D)return n;return null},$2Em:function(n){var t=new Microsoft.Crm.Workflow.ObjectModel.$6O("",0),e=0,o=0,u={},s=n.ChildViewModels,f,h,i,r,c;for(f in s){if(h={key:f,value:s[f]},i=h.value,i.TypeName==="ProcessEntity"){r=this.$1tB(t,i);t.steps.$3w(r);o+=r.steps.get_Count();r.get_EntityLogicalName()in u||(u[r.get_EntityLogicalName()]=!0,++e);continue}i.TypeName==="ProcessRelationshipCollection"&&(c=this.$2Sw(t,i),t.steps.$3w(c))}t.set_Name(Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"ProcessName",n.Properties)||" ");this.$1NE=e;this.$1ip=o;this.$hB=t;this.$1lv=u},$23K:function(n){this.get_$Ar().get_$kI().length||this.get_$Ar().$cd(this.$hB);var t=new ProcessControl.Reflow.$Iy;t.set_$Ar(this.get_$Ar());t.set_$3DA(this.$hB);t.set_$1u1(this.$D);t.set_$q0(new ProcessControl.Reflow.$Iv);this.$QS=new ProcessControl.Reflow.$Io(n,t);this.$QS.$1dI()},$BS:function(n){if($0.$0(n)||$0.$0(this.$hB))return null;var t=this.get_$Ar().get_$VE()[Microsoft.Crm.Workflow.Utils.$P.$7R(n)];return $0.$0(t)?null:t},$223:function(n){var i,t;if(!$0.$0(this.$QS)&&!$0.$0(this.$QS.get_$1Rd())&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$QS.get_$1Rd().get_$CB()))for(i=this.$QS.get_$1Rd().get_$CB().split(","),t=0;t<i.length;t++)if(i[t]===n)return t;return 0},$Yw:function(n){var t=this.$QS.$Yw(n);return(t in this.get_$Ar().get_$VE())?this.get_$Ar().get_$VE()[t]:null},$MA:function(n){var i=null,t=this.$QS.$MA(n),r;return(t in this.get_$Ar().get_$VE())?(r=this.get_$Ar().get_$gu()[t],r.get_EntityLogicalName()===this.$D&&(i=this.get_$Ar().get_$VE()[t]),i):null},$10S:function(n){var t=this.$9N(n);if($0.$0(t))return!1;var i=!this.$MA(n),r=t.get_EntityLogicalName()===this.$D,u=this.$QS.$MA(n);return i&&r&&!Microsoft.Crm.Client.Core.Framework.$3.$9(u)},$1Wk:function(n){var t=this.$9N(n),i,r;return $0.$0(t)?!1:(i=this.$MA(n),r=t.get_EntityLogicalName()===this.$D,!!i&&r)},$1Cr:function(n){var i=this.$9N(n),t;return $0.$0(i)?!1:(t=this.$Yw(n),!!t)},$9N:function(n){if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))return null;var t=this.get_$Ar().get_$gu()[new Microsoft.Crm.Client.Core.Framework.Guid(n).toString()];return $0.$0(t)?null:t},$2j5:function(n){var u=this.$hB,t,i,r,f;if(!$0.$0(u))for(t=0;t<u.steps.get_Count();t++)if(i=u.steps.get_$R(t),Microsoft.Crm.Workflow.ObjectModel.$5K.isInstanceOfType(i))for(r=0;r<i.steps.get_Count();r++)if(f=i.steps.get_$R(r),f.id===n)return f;return null},$2Je:function(n){var i=this.$4I||[],t;if(!IsNull(n))for(t=0;t<n.length;t++)Array.contains(i,n[t])||Array.add(i,n[t]);this.set_AttributeFieldNames(i)},$1tB:function(n,t){var i=new Microsoft.Crm.Workflow.ObjectModel.$5K(n,t.Name),e,o,l,u,f,r,s,h,c;i.set_EntityLogicalName(t.Name);i.description=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"EntityDisplayName",t.Properties);i.relationshipName=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"RelationshipName",t.Properties);i.attributeName=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"ReferencingAttributeName",t.Properties);i.set_$Dl(n);i.get_EntityLogicalName()===this.$D&&(this.$2Je(Microsoft.Crm.Client.Core.ViewModels.$13.$A7(Array,"AttributeFieldNames",t.Properties)),this.$3CB());e=t.ChildViewModels;for(o in e)if(l={key:o,value:e[o]},u=l.value,u.TypeName==="Stage"){if(f=this.$2T7(n,u),i.$dk(f),r=this.$2X4(u),r&&r.ChildViewModels){s=r.ChildViewModels;for(h in s){var a={key:h,value:s[h]},v=a.value,y=this.$2T9(n,v);f.steps.$3w(y)}}(c=this.$2R4(f,n,u),c&&f.steps.$3w(c),$0.$0(r))||($0.$0(this.get_ModelContext())||this.get_ModelContext().get_ModelName()===i.get_EntityLogicalName()?this.$3A6(r):this.$3A5(r))}return i},$2Sw:function(n,t){var i=new Microsoft.Crm.Workflow.ObjectModel.$Dx(n),r,u,e,f,o;i.set_$Vd(n);r=t.ChildViewModels;for(u in r)(e={key:u,value:r[u]},f=e.value,f.TypeName==="ProcessRelatinship")&&(o=this.$2Sx(n,f),i.$dk(o));return i},$2Sx:function(n,t){var i=new Microsoft.Crm.Workflow.ObjectModel.$Al(n);return i.set_$Vd(n),i.sourceStageId=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"SorceStageId",t.Properties),i.targetStageId=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"TargetStageId",t.Properties),i.attributeName=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"AttributeName",t.Properties),i.relationshipName=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"RelationshipName",t.Properties),i},$2X4:function(n){var r=n.ChildViewModels,t,u,i;for(t in r)if(u={key:t,value:r[t]},i=u.value,i.TypeName==="ProcessSectionViewModel")return i;return null},$3A5:function(n){var i,r,t;if(!$0.$0(n)&&!$0.$0(n.ChildViewModels)){i=n.ChildViewModels;for(r in i)t={key:r,value:i[r]},(t.key.indexOf("_readonly")!==-1||t.key.indexOf("_edit")!==-1)&&delete n.ChildViewModels[t.key]}},$3A6:function(n){var t,i,r;if(!$0.$0(n)&&!$0.$0(n.ChildViewModels)){t=n.ChildViewModels;for(i in t)r={key:i,value:t[i]},r.key.indexOf("_label")>0&&delete n.ChildViewModels[r.key]}},$2T7:function(n,t){var e=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"StageDisplayName",t.Properties),i=new Microsoft.Crm.Workflow.ObjectModel.$59(n,e),f=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"StageId",t.Properties),r,u;return i.id=new Microsoft.Crm.Client.Core.Framework.Guid(f).toString(),i.stageId=new Microsoft.Crm.Client.Core.Framework.Guid(f).toString(),r=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"NextStageId",t.Properties),i.nextStageId=Microsoft.Crm.Client.Core.Framework.$3.$9(r)?"":new Microsoft.Crm.Client.Core.Framework.Guid(r).toString(),u=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"StageCategory",t.Properties),i.stageCategory=Microsoft.Crm.Client.Core.Framework.$3.$9(u)?null:u,i},$2R4:function(n,t,i){var u=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"ConditionJson",i.Properties),r;return Microsoft.Crm.Client.Core.Framework.$3.$9(u)?null:(r=new Microsoft.Crm.Workflow.ObjectModel.$8o(t),r.set_$Dl(n),r.$2w(JSON.parse(u)),r.$2XU(),r)},$2T9:function(n,t){var r=t.Name,i=new Microsoft.Crm.Workflow.ObjectModel.$QU(n,r);return i.isProcessRequired=!!Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"ProcessRequired",t.Properties),i.set_Name(Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"Label",t.Properties)),i},$3CB:function(){if(!$0.$0(this.$2)&&!$0.$0(this.$2.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$2.get_ModelContext())&&!$0.$0(this.$4I)){var i={EntityType:this.$D,Attributes:this.$4I},t=this.$Wc.$B1(i),n=this;t.add_$by(function(){$0.$0(n.$2)||$0.$0(n.$2.get_ModelContext())||!Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n.$2.get_ModelContext())||$0.$0(n.$4I)||Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$xX(n.$2.get_ModelContext().$I,n.$4I)});Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)}}};Microsoft.Crm.Client.Core.ViewModels.Controls.$8N=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$8N.initializeBase(this);this.$rQ={}};Microsoft.Crm.Client.Core.ViewModels.Controls.$8N.prototype={$1Qe:!1,$rQ:null,get_StageGateCheckResult:function(){return this.$1Qe},set_StageGateCheckResult:function(n){return this.$1Qe=n,this.$7("StageGateCheckResult"),n},$P:null,get_EntityLogicalName:function(){return this.$P},set_EntityLogicalName:function(n){return this.$P=n,n},get_$9T:function(){return this.$2.$67("ProcessManager")},$1Qf:function(){var t=!0,i,r,u,n;if(this.$AZ.get_Count()>0)t=!1;else{i=this.$H;for(r in i)u={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.$DC.isInstanceOfType(u.value)&&(n=u.value,n.$mm&&!n.get_ProcessRequirementSatisfied()&&(t=!1,this.$37j(n)))}return this.set_StageGateCheckResult(t),this.$1Qe},$37j:function(n){var t,r,u;if(this.get_$9T().set_$A5(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.RequiredStepWarningBar")),Microsoft.Crm.Client.Core.ViewModels.$4k.isInstanceOfType(n)){var i=null,f=n,e=this;i=function(n){n.remove_$1S6(i);e.$1X3(n)};f.add_$1S6(i)}else t=null,r=this,t=function(i){n.RemovePropertyChangedListener("Data",t);r.$1X3(i)},n.AddPropertyChangedListener("Data",t);Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(n)&&n.set_$KO(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.RequiredStepWarning"),null));this.$1rb(n);u=this;this.$rQ[n.get_ViewModelId()]=window.setTimeout(function(){u.$1X3(n)},1e4)},$1X3:function(n){this.get_$9T().set_$A5("");Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(n)&&n.set_$KO(null);this.$1rb(n)},$1rb:function(n){var t=n.get_ViewModelId();t in this.$rQ&&(window.clearTimeout(this.$rQ[t]),delete this.$rQ[t])},$1NG:function(n,t){return this.$P!==this.$D&&this.get_$et().$2Eb(n,Microsoft.Crm.Client.Core.Framework.$1g.get_$15i()),Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype.$1NG.call(this,n,t)},isFieldEditable:function(n){return Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.prototype.isFieldEditable.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$B0=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$B0.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$B0.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("SearchSummaryViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$B0)};Microsoft.Crm.Client.Core.ViewModels.Controls.$B0.prototype={$1R1:null,$mF:"",$tG:!1,$H0:0,$Mu:null,get_SummaryTitle:function(){return this.$1R1},set_SummaryTitle:function(n){return this.$1R1!==n&&(this.$1R1=n),n},get_DisplayMode:function(){return this.$H0},set_DisplayMode:function(n){return this.$H0!==n&&(this.$H0=n,this.$7("DisplayMode")),n},get_IsRelevanceSearch:function(){return this.$tG},set_IsRelevanceSearch:function(n){return this.$tG=n,n},get_SearchResults:function(){return this.$Mu},set_SearchResults:function(n){return this.$Mu!==n&&(this.$Mu=n),n},get_ErrorEntityList:function(){var t,r,i,n;if(this.$mF="",t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$JA)),$0.$0(this.$Mu)||$0.$0(this.$Mu.$Mu))return t;for(r=this.$Mu.$Mu,i=0;i<r.get_Count();i++)n=r.get_$R(i),n.$66?t.add(n):n.$1OX||(this.$mF+=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$mF)?n.$1q:Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Separator")+" "+n.$1q);return t},get_NoResultsEntity:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$mF)?this.$mF:this.$tG?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_Noresults_Message"):String.localeFormat(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_NoResultsForEntities_Message"),this.$mF)},get_NoResultsFoundText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_NoResultsFound_Message")},get_RelevanceSearchServerErrorText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ExternalSearch_Service_Unavailable")},get_SeparatorText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Separator")},getErrorElementHtml:function(n,t){return String.localeFormat(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_ErrorPlaceHolder_Message"),n,Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(t))}};Microsoft.Crm.Client.Core.ViewModels.Controls.$EP=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$EP.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$EP.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("UserInfoViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$EP)};Microsoft.Crm.Client.Core.ViewModels.Controls.$EP.prototype={$1kl:null,$1km:null,$1kn:null,get_SearchTipsSectionContentDetails:function(){return this.$1kl=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_Tips_Section_Content_Details"),this.$1kl},get_SearchTipsSectionContentMoreDetails:function(){return this.$1km=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_Tips_Section_Content_More_Details"),this.$1km},get_SearchTipsSectionLabel:function(){return this.$1kn=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_Tips_Section_Label"),this.$1kn}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Nm=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Nm.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Nm.prototype={$Ae:function(){var g=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ComparisonChartDataParser:Parse"),h,c,l,v,at,vt,p,f,w,pt,et,o,s,ri,ui,i,ot,bt;g.start();try{var r=new Array(0),st={},nt=this.$Lb.$DX,n=nt.$ts.get_$R(0);if(n.$KQ&&n.$KQ.get_Count()>0&&n.$KQ.get_$R(0).$Hg&&n.$KQ.get_$R(0).$Hg.$7j&&(n.$KQ.get_$R(0).$Hg.$7j.$49&&(r[r.length]=n.$KQ.get_$R(0).$Hg.$7j.$49),n.$KQ.get_$R(0).$Hg.$7j.$IW))for(h=0;h<n.$KQ.get_$R(0).$Hg.$7j.$IW.get_Count();h++)r[r.length]=n.$KQ.get_$R(0).$Hg.$7j.$IW.get_$R(h);c=n.$hb.get_$R(0).$49;l=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HF(c,n.$hb.get_$R(0));c&&(r[r.length]=c);var tt=n.$KQ.get_$R(0).$1LM,ht=tt.$46||tt.$L,kt=ht+Microsoft.Crm.Client.Core.Framework.$U.$6n,dt=ht,gt=nt.$7j.$49,it=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HF(gt,nt.$7j),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),a={};for(v=0;v<this.$Bo.get_$s();v++){var rt=this.$Bo.$11.get_$R(v),ct=it.$d(rt),y=l.$d(rt),e;y?e=l.$1zy(rt):(y=Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1bp(),e=y);st[e]=y;u.contains(ct)||u.add(ct);t.contains(e)||t.add(e)}for(var lt=t.get_Items(),ni=lt.length,ut=0;ut<ni;++ut)at=lt[ut],vt=new Array(u.get_Count()),a[at]=vt;for(p=0;p<this.$Bo.get_$s();p++){f=this.$Bo.$11.get_$R(p);w=l.$1zy(f);w||(w=Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1bp());var b=a[w],ti=it.$d(f),k=u.indexOf(ti);b[k]=new Microsoft.Crm.Client.Core.Models.$JE;b[k].Value=f.GetValue(kt);b[k].FormattedValue=f.$I.getFormattedValue(dt);this.$1pu(b[k],f,r)}for(var yt=t.get_Items(),ii=yt.length,ft=0;ft<ii;++ft)for(pt=yt[ft],et=a[pt],o=0;o<u.get_Count();o++)$0.$0(et[o])&&(et[o]=new Microsoft.Crm.Client.Core.Models.$JE);s=new Array(1);s[0]=new Microsoft.Crm.Client.Core.Models.$JN;s[0].Title=it.get_$1o8();s[0].Values=u.toArray();n.$hb.get_$R(0).$IS?(ri=this,t.sort(function(n,t){return n.localeCompare(t)})):(ui=this,t.sort(function(n,t){return t.localeCompare(n)}));var d=new Array(t.get_Count()),wt=!!this.$Be.$Cv&&this.$Be.$Cv.length>0,fi=wt?this.$Be.$Cv[0]:null;for(i=0;i<t.get_Count();i++)ot=t.get_Items()[i],d[i]=this.$1rt(this.$Go.get_$R(0)),d[i].Title=st[ot],d[i].DataPoints=a[ot],wt&&(bt=i%this.$Be.$Cv.length,this.$Be.$Cv[bt]=i===t.get_Count()-1?fi:this.$Be.$Cv[(t.get_Count()-i-1)%this.$Be.$Cv.length]);this.$Be.$i8=s;this.$Be.$o4=this.$1ju(tt);this.$Be.$Ho=d}finally{g.stop();g=null}},$1ju:function(n){var t=new Array(1);return t[0]=new Microsoft.Crm.Client.Core.Models.$JO,t[0].Title=Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1aE(n),t}};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel=function(){this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$1hf=Function.createDelegate(this,this.$1hf);Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("PageSearchHeaderViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$2wY)};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$2wY=function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel};Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.prototype={$bO:null,$6R:null,get_IsMobileClientOfflineFeatureAvailable:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$B5()},get_SearchButtonToolTip:function(){return this.$bO},set_SearchButtonToolTip:function(n){return this.$bO!==n&&(this.$bO=n),n},get_SearchButtonTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?30:-3e4},get_OpenSearchPageCommand:function(){return this.$6R},$2Un:function(){return!1},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.set_SearchButtonToolTip(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_LaunchButton_Tooltip"));Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$1hf(this.$$d_$1hf);this.set_Enabled(Microsoft.Crm.Client.Core.ViewModels.$a.$14U());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He)},HandleSearchButtonClick:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$2U.$T6===2){var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$w4("LastUsedSearch").then(function(t){var i=t.$6b.value;n.$6R=i==="RelevanceSearch"&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4?new Microsoft.Crm.Client.Core.Commands.$2R(n,47):new Microsoft.Crm.Client.Core.Commands.$2R(n,26);n.$1ji();n.$1gW()},function(){t.$6R=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4?new Microsoft.Crm.Client.Core.Commands.$2R(t,47):new Microsoft.Crm.Client.Core.Commands.$2R(t,26);t.$1ji();t.$1gW()})}else this.$6R=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$2U.$T6&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4?new Microsoft.Crm.Client.Core.Commands.$2R(this,47):new Microsoft.Crm.Client.Core.Commands.$2R(this,26),this.$1ji(),this.$1gW()},$1gW:function(){!$0.$0(this.$6R)&&this.$6R.get_CanExecute()&&this.$6R.execute()},$1ji:function(){$0.$0(this.$6R)||(this.$6R.$1W="searchPage",this.$6R.$x={},this.$6R.$x.SearchEntity=Xrm.Utility.isActivityType(this.$2.$D)?"activitypointer":this.$2.$D)},$1hf:function(n){$0.$0(this.$6R)&&(this.$6R=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$2U.$T6?new Microsoft.Crm.Client.Core.Commands.$2R(this,26):new Microsoft.Crm.Client.Core.Commands.$2R(this,47));this.$6R.$1W="searchPage";this.$6R.$x={};this.$6R.$x.SearchEntity=null;this.$6R.$x.SearchText=n;this.$6R.execute()},$He:function(){Microsoft.Crm.Client.Core.ViewModels.$a.$B5()||(this.set_Enabled(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()),$0.$0(this.$6R)||this.$6R.set_CanExecute(this.get_Enabled()))},$Oh:function(){$0.$0(this.$6R)||(this.$6R.dispose(),this.$6R=null);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().remove_$1hf(this.$$d_$1hf);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$HJ=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$HJ.prototype={$1VW:null,$1ZF:null,$1wP:null,$8m:!1,set_$2Xk:function(n){return this.$1wP=n?String.format("rgb({0})",n.trim()):null,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.$8v=function(){this.$$d_$Rr=Function.createDelegate(this,this.$Rr);this.$$d_$6F=Function.createDelegate(this,this.$6F);Microsoft.Crm.Client.Core.ViewModels.Controls.$8v.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$8v.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("CRM_Chart_ChartViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$8v)};Microsoft.Crm.Client.Core.ViewModels.Controls.$8v.prototype={$1Hu:null,$1kY:null,$RJ:null,$qD:null,get_GridMetadataId:function(){return this.$1Hu},set_GridMetadataId:function(n){return this.$1Hu=n,n},$2Z:function(){(this.$2.$g===17||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$24S(this.$D))&&this.$1dK()},$1dK:function(){this.$1kY=this.$$d_$6F;var n=!1;$0.$0(this.refreshCommand)&&(this.refreshCommand=new Microsoft.Crm.Client.Core.Commands.$AO(this.$$d_$Rr,1024));$0.$0(this.$2)||$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||("ChartViewId"in this.$2.$K.$M&&(this.$8r=this.$2.$K.$M.ChartViewId),"ChartVisualizationId"in this.$2.$K.$M&&(this.$JJ=this.$2.$K.$M.ChartVisualizationId),"ChartViewEntityLogicalName"in this.$2.$K.$M&&(this.$NG=this.$2.$K.$M.ChartViewEntityLogicalName),"ChartVisualizationEntityLogicalName"in this.$2.$K.$M&&(this.$ce=this.$2.$K.$M.ChartVisualizationEntityLogicalName),"ListDefinitionId"in this.$2.$K.$M&&(this.$1Hu=this.$2.$K.$M.ListDefinitionId),"SelectedHighchartPoint"in this.$2.$K.$M&&this.set_SelectedHighchartPoint(this.$2.$K.$M.SelectedHighchartPoint),n=!0);this.$1a||(this.$2.add_$6F(this.$1kY),this.$H4(),n=!1,Microsoft.Crm.Client.Core.ViewModels.$Bh.prototype.$2Z.call(this),this.set_ActionCommand(new Microsoft.Crm.Client.Core.Commands.ChartCommand(this)),this.$RJ=new Microsoft.Crm.Client.Core.Commands.ChartCommand(this),this.$qD=new Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand(this,this.$RJ),this.set_ChartSeriesClickCommand(this.$qD));n&&this.$H4()},$Rr:function(){this.$H4();Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Rr.call(this)},$6F:function(){var n=this.$2.$5Q(this),t;Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(n)&&!Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.isInstanceOfType(this.$2.$5Q(n))?(this.$1g.set_CanExecute(!0),t=this.$2.$5Q(this),t.set_TitleShortPressCommand(this.$1g)):this.$1g.set_CanExecute(!1);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedInitialUI",0,this.get_ViewModelId())},$1n8:function(){if(!$0.$0(this.$Cy)){Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.prototype.$1n8.call(this);this.set_EnableDrilldown(this.$Cy.$QW);var n=this.$2.$5Q(this);Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(n)&&(Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.isInstanceOfType(this.$2.$5Q(n))?(n.set_Label(this.$Cy.$5i.Text),this.set_Title(null)):n.set_Label(this.$Cy.$VJ));Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.isInstanceOfType(n)&&n.set_ViewDisplayName(this.$Cy.$VJ);this.$1aQ();Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedInitialData",0,this.get_ViewModelId());this.$FH("RenderedInitialData")}},get_$qQ:function(){return"crmcharts"},$Oh:function(){$0.$0(this.$Jg)||(this.$Jg.$5E(),this.$Jg=null);$0.$0(this.refreshCommand)||(this.refreshCommand.dispose(),this.refreshCommand=null);this.$RJ&&this.$RJ.dispose();this.$qD&&this.$qD.dispose();this.$qD=null;this.$RJ=null;this.set_PrimaryModelName(null);this.set_$qd(null);Microsoft.Crm.Client.Core.ViewModels.$Bh.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Nn=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Nn.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Nn.prototype={$Ae:function(){this.$dw&&this.$dw.get_Count()&&(this.$Be.$i8=this.$32H(),this.$Be.$Ho=this.$2C0(0),this.$Be.$o4=this.$1ju())},$32H:function(){var n=new Array(1),u,i,r,t,f;if(this.$Bo.get_$s()<1)return n;for(u=this.get_$au().$49,n[0]=new Microsoft.Crm.Client.Core.Models.$JN,i=new Array(this.$Bo.get_$s()),r=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HF(u,this.get_$au()),n[0].Title=r.get_$1o8(),t=0;t<this.$Bo.get_$s();t++)f=this.$Bo.$11.get_$R(t),i[t]=r.$d(f);return n[0].Values=i,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.$AY=function(){this.$$d_$2tP=Function.createDelegate(this,this.$2tP);this.$$d_$2vO=Function.createDelegate(this,this.$2vO);this.$$d_$2kt=Function.createDelegate(this,this.$2kt);this.$$d_$1cp=Function.createDelegate(this,this.$1cp);this.$$d_$2kV=Function.createDelegate(this,this.$2kV);Microsoft.Crm.Client.Core.ViewModels.Controls.$AY.initializeBase(this);this.get_IsInteractionCentricEnabled()&&this.set_StartIndex(1001)};Microsoft.Crm.Client.Core.ViewModels.Controls.$AY.prototype={$2T:null,get_$1O:function(){return $0.$0(this.$2T)&&(this.$2T=this.$2.$67("ProcessManager")),this.$2T},get_PopoverVisibility:function(){return $0.$0(this.get_$1O())?!1:this.get_$1O().$Ui},set_PopoverVisibility:function(n){return $0.$0(this.get_$1O())||this.get_$1O().set_PopoverVisibility(n),n},get_$9J:function(){return this.get_$1O().get_$9J()},add_ReflowEvent:function(n){this.$1p("OnReflow",n)},remove_ReflowEvent:function(n){this.$32("OnReflow",n)},$1jA:function(n,t,i){var e=this.get_$9J(),r,u,f,o;if(!$0.$0(e)&&!$0.$0(t)&&e.get_$1Rd().get_$U0()){if(r=this.get_$1O().get_$5u(),$0.$0(r))return;t=new Microsoft.Crm.Client.Core.Framework.Guid(t).toString();u=r.get_$CB().get_$ER();(r.get_$6U()===t||u.indexOf(t)<0||u.indexOf(i)<0)&&this.get_$9J().$3At(t,i)}f=this.$4d("OnReflow");$0.$0(f)||(o=new Microsoft.Crm.Client.Core.ViewModels.Controls.$No(n,t,i),f(this,o))},get_Process:function(){var n=this.get_$1O();return n.get_$Mm()},get_RootIsLocked:function(){return this.$1Ov},set_RootIsLocked:function(n){return this.$1Ov===n?n:(this.$1Ov=n,this.$7("RootIsLocked"),n)},$1Qd:0,get_StageCount:function(){var n=this.get_$1O();return this.$1Qd!==n.get_$2A2()&&(this.$1Qd=n.get_$2A2(),this.$7("StageCount")),this.$1Qd},get_CurrentActiveStageIndex:function(){var n=this.get_Data().toString(),t=this.get_$1O();return t.$223(n)},get_SelectedStageId:function(){var n=this.get_$1O();return n.$Cf},set_SelectedStageId:function(n){var t=this.get_$1O();return t.set_SelectedStageId(n),n},get_DefaultPath:function(){return this.get_$9J().get_$E4()},get_DefaultPathHash:function(){return this.get_$9J().get_$eR()},$1Ov:!1,get_ActiveLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.InProgressStage")},get_GlobalActiveStageId:function(){var n=this.get_$1O().get_$5u();return $0.$0(n)?"":n.get_$6U()},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.get_$1O().AddPropertyChangedListener("GlobalActiveStage",this.$$d_$2kV);this.get_$1O().AddPropertyChangedListener("SelectedStageId",this.$$d_$1cp);this.get_$1O().AddPropertyChangedListener("ProcessStatus",this.$$d_$2kt);this.get_$1O().add_$28M(this.$$d_$2vO);this.get_$9J().add_$1Yt(this.$$d_$2tP);this.set_RootIsLocked(this.$2.get_IsLocked());this.$2.AddPropertyChangedListener("IsLocked",this.$$d_$2kt)},$2kt:function(){this.set_RootIsLocked(this.$2.get_IsLocked()||this.get_$1O().$9u!==1)},$2tP:function(){this.get_$9J().remove_$1Yt(this.$$d_$2tP);this.$1jA(!0,null,null)},$2vO:function(n,t){var i=t;$0.$0(i)||this.$1jA(i.$1Ru,i.$gv,i.$mD)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this);this.get_$1O().RemovePropertyChangedListener("GlobalActiveStage",this.$$d_$2kV);this.get_$1O().RemovePropertyChangedListener("SelectedStageId",this.$$d_$1cp);this.get_$1O().RemovePropertyChangedListener("ProcessStatus",this.$$d_$2kt);this.get_$1O().remove_$28M(this.$$d_$2vO);$0.$0(this.get_$9J())||this.get_$9J().remove_$1Yt(this.$$d_$2tP);this.$2.RemovePropertyChangedListener("IsLocked",this.$$d_$2kt)},navigateToEntity:function(n){var i=this.get_$1O(),r=i.get_$C1()[n],t;return $0.$0(r)?!1:(t=i.$1x3(),t.processid=this.$2T.$ET.toString(),t.processinstanceid=this.$2T.$Bd,t.selectedstageid=this.$2T.$Cf,Xrm.Utility.openEntityForm(n,r.toString(),t),!0)},$2kV:function(){this.$7("GlobalActiveStage")},$1cp:function(){this.$7("SelectedStageId")},isCompleted:function(n){return this.get_$1O().$tM(n)&&(!this.isLocked(n)||this.isBusinessProcessAborted())},isLocked:function(n){return this.get_$1O().$1eu(n)},isEntityStep:function(n){return Microsoft.Crm.Workflow.ObjectModel.$5K.isInstanceOfType(n)},isSelectedStage:function(n){return n.id===this.get_SelectedStageId()},isActiveStage:function(n){return!$0.$1Y(this.get_GlobalActiveStageId())&&n.id===this.get_GlobalActiveStageId().toLowerCase()},isInvocationSource:function(){return this.get_$9J().get_$Ny().get_$sr()==="internal"},getStageTooltip:function(n){if(this.get_IsInteractionCentricEnabled()){if($0.$0(this.$2)||$0.$0(this.$2.get_ModelContext()))return"";var t=this.isActiveStage(n)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.InProgressStage"):this.isCompleted(n.id)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.CompletedStage"):this.isLocked(n.id)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.LockedStage"):"",r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$2.get_ModelContext().get_$MS().LogicalName).$1q,i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Sales.ProcessControl.Entity")+": "+r+", "+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Sales.ProcessControl.Stage")+": "+n.description;return Microsoft.Crm.Client.Core.Framework.$3.$9(t)||(i+=", "+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Sales.ProcessControl.Status")+": "+t),i}return""},isBusinessProcessAborted:function(){return this.get_$1O().$9u===3},isBusinessProcessCompleted:function(){return this.get_$1O().$9u===2}};Microsoft.Crm.Client.Core.ViewModels.Controls.$7P=function(){this.$$d_$ua=Function.createDelegate(this,this.$ua);this.$$d_$qI=Function.createDelegate(this,this.$qI);this.$$d_$2kl=Function.createDelegate(this,this.$2kl);this.$$d_$22f=Function.createDelegate(this,this.$22f);this.$$d_$2kX=Function.createDelegate(this,this.$2kX);this.$$d_$2kP=Function.createDelegate(this,this.$2kP);this.$$d_$1cp=Function.createDelegate(this,this.$1cp);this.$$d_$22X=Function.createDelegate(this,this.$22X);this.$$d_$28V=Function.createDelegate(this,this.$28V);this.$$d_$2l4=Function.createDelegate(this,this.$2l4);this.$VF={};this.$wq={};this.get_$1vw=this.get_FetchedViewModel;this.set_$1vw=this.set_FetchedViewModel;this.set_$2Q2=this.set_ControlDescriptor;Microsoft.Crm.Client.Core.ViewModels.Controls.$7P.resolveInheritance();this.get_$2rp=this.get_ModelContext;this.get_$2Ok=this.get_ChildViewModels;Microsoft.Crm.Client.Core.ViewModels.Controls.$7P.initializeBase(this);this.set_HideChildren(!1)};Microsoft.Crm.Client.Core.ViewModels.Controls.$7P.prototype={$Do:null,$e9:null,get_ControlDescriptor:function(){return this.$e9},set_ControlDescriptor:function(n){return this.$e9!==n&&(this.$e9=n,this.$7("ControlDescriptor")),n},$G1:!0,get_HasMultipleBPFInstancesInOffline:function(){return this.$G1},set_HasMultipleBPFInstancesInOffline:function(n){return this.$G1!==n&&(this.$G1=n,this.$7("HasMultipleBPFInstancesInOffline")),n},$MK:!1,get_LoadComplete:function(){return this.$MK},set_LoadComplete:function(n){return n===this.$MK?n:(this.$MK=n,this.$7("LoadComplete"),this.$MK&&Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(this.$13N=!0,this.$rl()),n)},$1Ed:!1,get_DeletedProcess:function(){return this.$1Ed},set_DeletedProcess:function(n){return this.$1Ed!==n&&(this.$1Ed=n,this.$7("DeletedProcess")),n},get_DeletedProcessMessage:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.Warnings.ProcessMobileUnavailable")},get_DeletedProcessMessageWithoutPlaceholder:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.Warnings.ProcessMobileUnavailable"),null,null)},$lf:null,get_KBArticleLauncherCommand:function(){return this.$lf},set_KBArticleLauncherCommand:function(n){return this.$lf!==n&&($0.$0(this.$lf)||(this.$lf.dispose(),this.$lf=null),this.$lf=n),n},$YR:null,get_FetchedViewModel:function(){return this.$YR},set_FetchedViewModel:function(n){return this.$YR!==n&&(this.$YR=n,this.$7("FetchedViewModel")),n},get_StageAdvanceActionViewModel:function(){var r=null,n=this.$Ob(),t,f,i;if(!$0.$1Y(this.$VF)&&!$0.$0(n)&&!$0.$0(n.$Cf)&&n.$Cf in this.$VF&&!$0.$1Y(this.$wq)&&n.$Cf in this.$wq){var e=this.$VF[n.$Cf],o=this.$wq[n.$Cf],u=o.ChildViewModels;for(t in u)if(f={key:t,value:u[t]},i=f.value,i.TypeName==="StageAdvanceAction"){r=e.$H[i.Name];break}}return r},get_PopoverVisibility:function(){var n=this.$Ob();return $0.$0(n)?!1:n.$Ui},set_PopoverVisibility:function(n){var t=this.$Ob();return $0.$0(t)||t.set_PopoverVisibility(n),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.prototype.$2Z.call(this);this.$Do=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HI(this);this.set_Visible(!$0.$0(this.get_Data())&&!Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_Data().toString()));this.set_KBArticleLauncherCommand(new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:","http://go.microsoft.com/fwlink/?LinkID=316385"));this.AddPropertyChangedListener("Data",this.$$d_$2l4);var n=this.$Ob();$0.$0(n)?this.$2.add_$6F(this.$$d_$28V):this.$1Ii(n)},$2tJ:function(){},$Oh:function(){this.$Do=null;this.set_KBArticleLauncherCommand(null);var n=this.$Ob();$0.$0(n)||(n.RemovePropertyChangedListener("ProcessDescriptor",this.$$d_$22X),n.RemovePropertyChangedListener("SelectedStageId",this.$$d_$1cp),n.RemovePropertyChangedListener("ErrorMessage",this.$$d_$2kP),n.RemovePropertyChangedListener("LoadComplete",this.$$d_$2kX),n.RemovePropertyChangedListener("Visible",this.$$d_$22f),n.RemovePropertyChangedListener("PopoverVisibility",this.$$d_$2kl),n.remove_$qI(this.$$d_$qI),n.remove_$ua(this.$$d_$ua),this.$VF=null,this.$wq=null);Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.prototype.$Oh.call(this)},get_$qQ:function(){return"proxyprocesscontrol"},$ua:function(n,t){var i=t;$0.$0(i)||this.set_HasMultipleBPFInstancesInOffline(i.$G1)},$28V:function(){this.$2.remove_$6F(this.$$d_$28V);var n=this.$Ob();this.$1Ii(n)},$EP:function(n,t){var i=this.$4d("OnActivateEvent");$0.$0(i)||i(this,new Sys.EventArgs);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)},add_OnActivateEvent:function(n){this.$1p("OnActivateEvent",n)},remove_OnActivateEvent:function(n){this.$32("OnActivateEvent",n)},$1Ii:function(n){$0.$0(n.get_$1NB())||(this.$1Cy(n),this.$1Pu(n));n.AddPropertyChangedListener("ProcessDescriptor",this.$$d_$22X);n.AddPropertyChangedListener("SelectedStageId",this.$$d_$1cp);n.AddPropertyChangedListener("ErrorMessage",this.$$d_$2kP);n.AddPropertyChangedListener("LoadComplete",this.$$d_$2kX);n.AddPropertyChangedListener("Visible",this.$$d_$22f);n.AddPropertyChangedListener("PopoverVisibility",this.$$d_$2kl);n.add_$qI(this.$$d_$qI);n.add_$ua(this.$$d_$ua);this.set_HasMultipleBPFInstancesInOffline(n.$G1)},$qI:function(){this.$Do.$1Wz()},$Ob:function(){return this.$2.$67("ProcessManager")},$3Be:function(n){var h,u,f,c,i,r,e,o,l,t,s;if(!$0.$1Y(this.$YR)&&!$0.$1Y(n)&&n.Name==="ProcessControl"){h=this.$YR;u=n.ChildViewModels;for(f in u)if(c={key:f,value:u[f]},i=c.value,i.TypeName==="ProcessEntity"){r=h.$H[i.Name];e=i.ChildViewModels;for(o in e)l={key:o,value:e[o]},t=l.value,t.TypeName==="Stage"&&t.Name&&t.Name in r.$H&&(s=r.$H[t.Name].$8h,this.$VF[s]=r.$H[t.Name],this.$wq[s]=t)}}},$2l4:function(){var n=this.$Ob();this.$1Pu(n)},$1cp:function(n,t){var i=n;i&&t==="SelectedStageId"&&(this.$1Pu(i),this.$7("SelectedStage"))},$2kP:function(n,t){var i=n;i&&t==="ErrorMessage"&&this.set_ErrorMessage(i.$47)},$2kX:function(n,t){var i=n;i&&t==="LoadComplete"&&this.set_LoadComplete(i.$MK)},$22X:function(n,t){var i=n;i&&t==="ProcessDescriptor"&&this.$1Cy(i)},$22f:function(n,t){var i=n;i&&t==="Visible"&&this.set_Visible(i.$4u)},$2kl:function(n,t){var i=n;i&&t==="PopoverVisibility"&&(!this.get_PopoverVisibility()&&i.get_$BE()&&i.set_SelectedStageId(i.get_$BE().toString()),this.$Do.$3Am(this.get_PopoverVisibility()),this.$7("PopoverVisibility"))},$1Cy:function(n){this.$1Pu(n);var t=n.get_$1NB();if($0.$0(t)||$0.$0(t.ChildViewModels)){$0.$0(n.$ET)?(this.set_Enabled(!1),this.set_Visible(!1)):(this.set_Visible(!0),this.set_DeletedProcess(!0),!$0.$0(this.$2)&&Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&this.$2.$IZ.$1pD("Process_Not_Found_Error",this.get_DeletedProcessMessage(),3,-1));return}this.set_Visible(!0);this.set_DeletedProcess(!1);this.$1Ie(t);this.$3Be(t)},$1Ie:function(n){n.PrimaryModelName=this.$D;this.$Do.$1Ie(n)},$1Pu:function(n){var t=n.get_$1PQ();$0.$0(t)||this.set_Label(t.get_$2Fn())}};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ac=function(){this.$$d_$ua=Function.createDelegate(this,this.$ua);this.$$d_$qI=Function.createDelegate(this,this.$qI);this.$$d_$22f=Function.createDelegate(this,this.$22f);this.$$d_$22X=Function.createDelegate(this,this.$22X);this.$$d_$28V=Function.createDelegate(this,this.$28V);this.get_$1vw=this.get_FetchedViewModel;this.set_$1vw=this.set_FetchedViewModel;this.set_$2Q2=this.set_ControlDescriptor;Microsoft.Crm.Client.Core.ViewModels.Controls.$Ac.resolveInheritance();this.get_$2rp=this.get_ModelContext;this.get_$2Ok=this.get_ChildViewModels;Microsoft.Crm.Client.Core.ViewModels.Controls.$Ac.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$Ac.prototype={$Do:null,$e9:null,$1S5:!1,get_ControlDescriptor:function(){return this.$e9},set_ControlDescriptor:function(n){return this.$e9!==n&&(this.$e9=n,this.$7("ControlDescriptor")),n},$G1:!0,get_HasMultipleBPFInstancesInOffline:function(){return this.$G1},set_HasMultipleBPFInstancesInOffline:function(n){return this.$G1!==n&&(this.$G1=n,this.$7("HasMultipleBPFInstancesInOffline")),n},$YR:null,get_FetchedViewModel:function(){return this.$YR},set_FetchedViewModel:function(n){return this.$YR=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$Do=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HI(this);this.set_Visible(!$0.$0(this.get_Data())&&!Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_Data().toString()));var n=this.get_$9T();$0.$0(n)?this.$2.add_$6F(this.$$d_$28V):this.$1Ii(n)},$2tJ:function(){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedReadReady",0,this.$1P),this.$FH("RenderedReadReady"),this.$1S5=!0)},get_HasBusinessProcess:function(){if(!$0.$0(this.$2.get_ModelContext())){var n=this.$2.get_ModelContext();return!$0.$0(n.GetValue("processid"))}return!1},get_IsProcessHiddenByClientApi:function(){return this.$41?this.$41.$1TV:!1},IsProcessBasedOnMultipleEntities:function(){var n,t,i,r,u;if(!$0.$0(this.get_$9T())&&(n=this.get_$9T().get_$6I(),!$0.$0(n)&&(t=n.$1lv,!$0.$0(t)))){i=t;for(r in i)if(u={key:r,value:i[r]},u.key!==n.$D)return!0}return!1},UIHasRendered:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.UIHasRendered.call(this);Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&this.$1S5&&(this.get_$9T().$34B(),this.$1S5=!1)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this);this.$Do=null;var n=this.get_$9T();$0.$0(n)||(n.RemovePropertyChangedListener("ProcessObjectModel",this.$$d_$22X),n.RemovePropertyChangedListener("Visible",this.$$d_$22f),n.remove_$qI(this.$$d_$qI),n.remove_$ua(this.$$d_$ua))},$ua:function(n,t){var i=t;$0.$0(i)||this.set_HasMultipleBPFInstancesInOffline(i.$G1)},$28V:function(){this.$2.remove_$6F(this.$$d_$28V);var n=this.get_$9T();this.$1Ii(n)},$1Ii:function(n){$0.$0(n.get_$Mm())||this.$1Cy(n);n.AddPropertyChangedListener("ProcessObjectModel",this.$$d_$22X);n.AddPropertyChangedListener("Visible",this.$$d_$22f);n.add_$qI(this.$$d_$qI);n.add_$ua(this.$$d_$ua);this.set_HasMultipleBPFInstancesInOffline(n.$G1)},$41:null,get_$9T:function(){return $0.$0(this.$41)&&(this.$41=this.$2.$67("ProcessManager")),this.$41},$22X:function(n,t){var i=n;i&&t==="ProcessObjectModel"&&this.$1Cy(i)},$22f:function(n,t){var i=n;i&&t==="Visible"&&this.set_Visible(i.$4u)},$1Cy:function(n){if($0.$0(n.get_$Mm())||!n.get_$Mm().steps.get_Count()){this.set_Enabled(!1);this.set_Visible(!1);return}this.set_Visible(!0);this.$1Ie()},$qI:function(){this.$Do.$1Wz()},$1Ie:function(){var n=this.$2Yl();this.$Do.$1Ie(n)},$2Yl:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ProcessHeader","ProcessHeader","ProcessHeader",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ReferencePropertyDescriptor("Data","stageid")],{CssClass:"processHeader"},null,this.$D)}};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel=function(){this.$$d_$2vC=Function.createDelegate(this,this.$2vC);this.$$d_$P2=Function.createDelegate(this,this.$P2);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("SearchBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$34G)};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$34G=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel;return n.$N7=144,n.$Ec=Microsoft.Crm.Client.Core.Commands.SearchCommand.$n(n,null),n};Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.prototype={$bQ:null,$nv:null,$1PG:null,$1QT:!1,$17S:null,$5l:null,get_EntityNames:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();return n.$q!=="relevanceSearchPage"||this.get_UsePhoneExperience()?$0.$0(this.get_SelectedItem())||Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_SelectedItem())||this.get_SelectedItem()==="NoFilter"?this.get_ItemValues():[this.get_SelectedItem()]:this.$H5&&this.$H5.length>0?this.$H5:this.get_ItemValues()},get_ItemLabels:function(){return this.get_ComboBoxViewModel().$HP},set_ItemLabels:function(n){return this.get_ComboBoxViewModel().set_ItemLabels(n),n},get_ItemValues:function(){return this.get_ComboBoxViewModel().$F4},set_ItemValues:function(n){return this.get_ComboBoxViewModel().set_ItemValues(n),n},get_SelectedItem:function(){return this.get_ComboBoxViewModel().$4i},set_SelectedItem:function(n){var u=!1,e,r;if(!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$a.$G5(n))for(var f=this.get_ItemValues(),s=f.length,t=0;t<s;++t)if(e=f[t],e===n){this.get_ComboBoxViewModel().set_SelectedItem(n);u=!0;break}if(!u&&(this.get_ComboBoxViewModel().set_SelectedItem("NoFilter"),!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()))for(var o=this.get_ItemValues(),h=o.length,i=0;i<h;++i)if(r=o[i],Microsoft.Crm.Client.Core.ViewModels.$a.$HM(r)){this.get_ComboBoxViewModel().set_SelectedItem(r);break}return this.$7("SelectedItem"),n},get_SearchSummaryPaneViewModel:function(){return $0.$0(this.$bQ)&&(this.$bQ=this.$2.$67("searchSummaryPane")),this.$bQ},get_UserInfoPaneViewModel:function(){return $0.$0(this.$nv)&&(this.$nv=this.$2.$67("userInfoPane")),this.$nv},get_SearchSummaryViewModel:function(){return $0.$0(this.$1PG)&&(this.$1PG=this.$2.$67("SearchSummary")),this.$1PG},get_EntityListViewModels:function(){var t,i,r,n;if($0.$0(this.$Fr)){this.$Fr=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel));t=this.get_PanoramaContainer().$H;for(i in t)r={key:i,value:t[i]},n=r.value,"searchSummaryPane"in n.$H||"searchProgressImagePane"in n.$H||"userInfoPane"in n.$H||"FacetPane"in n.$H||this.$Fr.add(n)}return this.$Fr},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$2Z.call(this);this.set_SelectedItem("NoFilter");$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||"SearchEntity"in this.$2.$K.$M&&this.set_SelectedItem(this.$2.$K.$M.SearchEntity);!$0.$0(this.$2.$8e)&&"LastUsedSearchText"in this.$2.$8e&&!$0.$0(this.$2.$8e.LastUsedSearchText)&&(this.$17T=this.$2.$8e.LastUsedSearchText.toString());this.get_ComboBoxViewModel().AddPropertyChangedListener("SelectedItem",this.$$d_$P2);this.get_SearchTypeViewModel().AddPropertyChangedListener("SelectedItem",this.$$d_$2vC);this.AddPropertyChangedListener("SelectedItem",this.$$d_$P2)},$EP:function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();this.get_SearchTypeViewModel().RemovePropertyChangedListener("SelectedItem",this.$$d_$2vC);i.$q==="relevanceSearchPage"?this.get_SearchTypeViewModel().set_SelectedItem("RelevanceSearch"):this.get_SearchTypeViewModel().set_SelectedItem("CategorizedSearch");this.get_SearchTypeViewModel().AddPropertyChangedListener("SelectedItem",this.$$d_$2vC);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$EP.call(this,n,t)},$P2:function(){this.set_IsActivitiesNotesCheckBoxDisabled(this.get_SelectedItem()==="NoFilter"||this.$R1[this.get_SelectedItem()].toString()==="0"&&this.$Tn[this.get_SelectedItem()].toString()==="0");this.set_ActivityNotesCheckBoxData(this.$13o?!1:this.$WJ)},$2vC:function(){this.$2kx()},$1fl:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$1fl.call(this,n);$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||"SearchEntity"in this.$2.$K.$M&&this.set_SelectedItem(this.$2.$K.$M.SearchEntity)},$2FT:function(){this.get_SearchSummaryPaneViewModel().set_Visible(this.$1QT);this.$bQ.$E6=!0;this.$Oj?($0.$0(this.get_UserInfoPaneViewModel())||(this.get_UserInfoPaneViewModel().set_Visible(!1),this.get_UserInfoPaneViewModel().$E6=!1),$0.$0(this.get_FacetPanePanoramaItemViewModel())||this.get_FacetPanePanoramaItemViewModel().set_Visible(!0),this.get_SearchSummaryViewModel().$tG=!0):this.get_SearchSummaryPaneViewModel().set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_Summary_Title"));this.get_SearchSummaryViewModel().set_SearchResults(this.$17S);this.get_SearchSummaryViewModel().set_DisplayMode(1);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$2FT.call(this)},$1QJ:function(){this.get_SearchSummaryPaneViewModel().set_Visible(!0);this.$bQ.$E6=!0;this.$Oj&&($0.$0(this.get_UserInfoPaneViewModel())||(this.get_UserInfoPaneViewModel().set_Visible(!1),this.get_UserInfoPaneViewModel().$E6=!1),this.get_SearchSummaryViewModel().$tG=!0);this.get_SearchSummaryViewModel().set_SearchResults(this.$17S);this.get_SearchSummaryViewModel().set_DisplayMode(2);this.get_SearchSummaryPaneViewModel().set_Label("");Microsoft.Crm.Client.Core.ViewModels.Controls.$SE.prototype.$1QJ.call(this)},$1lk:function(){this.$2lf();this.get_SearchSummaryViewModel().set_DisplayMode(0);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$1lk.call(this)},$2kx:function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),n=null,i;this.get_SearchTypeViewModel().$4i==="CategorizedSearch"?t.$q!=="SearchPage"&&(n=new Microsoft.Crm.Client.Core.Commands.$2R(t,26)):t.$q!=="relevanceSearchPage"&&(n=new Microsoft.Crm.Client.Core.Commands.$2R(t,47));i={};i.LastUsedSearchText=this.$17T;n.$8e=i;$0.$0(n)||(n.execute(),n.dispose())},$2lf:function(){var t=this.$2.$67("FormHeader"),n;for($0.$0(t)||t.set_PrimaryModelName(""),this.get_SearchSummaryPaneViewModel().set_Visible(!1),$0.$0(this.get_UserInfoPaneViewModel())||this.get_UserInfoPaneViewModel().set_Visible(!1),this.set_IsLoading(!1),this.get_SearchSummaryViewModel().set_DisplayMode(0),n=0;n<this.get_EntityListViewModels().get_Count();n++)this.get_EntityListViewModels().get_$R(n).set_Visible(!1)},$2HK:function(n){this.$1QT=!1;this.$17S=new Microsoft.Crm.Client.Core.Models.$JC(0);this.$Oj&&this.$3B4(n);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$2HK.call(this,n)},$3B4:function(n){$0.$0(this.get_FacetPaneViewModel())||this.get_FacetPaneViewModel().$2tN(n.$11l,this)},$2EY:function(n,t){var i=n,u,r,f,e;if((i.errorCode||!n.get_data().get_count())&&(this.$1QT=!0),u=i.$P+"List",r=new Microsoft.Crm.Client.Core.Models.$JA(i.$P,i.errorCode,i.$Au.get_count()),r.$1q=this.$RA[u],this.$17S.$Mu.add(r),f=n.get_entityLogicalName(),e=f+"pane",!i.$Au.get_entities().length){this.get_PanoramaContainer().$H[e].set_Visible(!1);return}Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$2EY.call(this,n,t)},$Oh:function(){$0.$0(this.$bQ)||(this.$bQ.dispose(),this.$bQ=null);$0.$0(this.$nv)||(this.$nv.dispose(),this.$nv=null);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.prototype.$Oh.call(this)},get_ComboBoxViewModel:function(){return $0.$0(this.$5l)&&(this.$5l=new Microsoft.Crm.Client.Core.ViewModels.$Se),this.$5l}};Microsoft.Crm.Client.Core.ViewModels.Controls.$No=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.Controls.$No.initializeBase(this);this.$1Ru=n;this.$gv=t;this.$mD=i};Microsoft.Crm.Client.Core.ViewModels.Controls.$No.prototype={$1Ru:!1,$gv:null,$mD:null,get_UpdateUI:function(){return this.$1Ru},get_ParentStage:function(){return this.$gv},get_NextStage:function(){return this.$mD}};Microsoft.Crm.Client.Core.ViewModels.Controls.$6f=function(){this.$$d_$2s2=Function.createDelegate(this,this.$2s2);this.$$d_$28X=Function.createDelegate(this,this.$28X);this.$$d_$2tO=Function.createDelegate(this,this.$2tO);this.$$d_$2uk=Function.createDelegate(this,this.$2uk);this.$$d_$2th=Function.createDelegate(this,this.$2th);Microsoft.Crm.Client.Core.ViewModels.Controls.$6f.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$6f.prototype={$8h:null,get_StageId:function(){return this.$8h},set_StageId:function(n){return this.$8h=n,n},$14H:!1,get_IsNavigationButtonHidden:function(){return this.$14H},set_IsNavigationButtonHidden:function(n){return this.$14H!==n&&(this.$14H=n,this.$7("IsNavigationButtonHidden")),n},$18D:null,get_StageNavigationViewModel:function(){return this.$18D||(this.$18D=new Microsoft.Crm.Client.Core.ViewModels.Controls.$SX),this.$18D},set_StageNavigationViewModel:function(n){return this.$18D=n,n},$1KB:!1,get_IsScrollRequired:function(){return this.$1KB},set_IsScrollRequired:function(n){return this.$1KB=n,n},get_FlyOutExpanded:function(){return!$0.$0(this.get_StageNavigationViewModel())&&!$0.$0(this.get_StageNavigationViewModel().$MV)?this.get_StageNavigationViewModel().$MV.$Ql:!1},set_FlyOutExpanded:function(n){return $0.$0(this.get_StageNavigationViewModel())||$0.$0(this.get_StageNavigationViewModel().$MV)||this.get_StageNavigationViewModel().$MV.$Ql!==n&&(this.get_StageNavigationViewModel().$MV.set_FlyOutExpanded(n),n&&(this.set_RetrieveNavigationEntitiesSuccess(!1),this.retrieveNavigationEntities()),this.$7("FlyOutExpanded")),n},get_PopoverVisibility:function(){return $0.$0(this.get_$1O())?!1:this.get_$1O().$Ui},$18C:null,get_StageEntityName:function(){return this.$18C},set_StageEntityName:function(n){return this.$18C=n,n},$18A:null,get_StageActionCommand:function(){return this.$18A},set_StageActionCommand:function(n){return $0.$0(this.$18A)||this.$18A.dispose(),this.$18A=n,this.$7("StageActionCommand"),n},$na:null,get_StagePrevActionCommand:function(){return this.$na},set_StagePrevActionCommand:function(n){return $0.$0(this.$na)||this.$na.dispose(),this.$na=n,this.$7("StagePrevActionCommand"),n},$10f:null,get_CompleteProcessActionCommand:function(){return this.$10f},set_CompleteProcessActionCommand:function(n){return $0.$0(this.$10f)||this.$10f.dispose(),this.$10f=n,this.$7("FinishProcessActionCommand"),n},$je:null,get_ClosedLoopCommand:function(){return this.$je},set_ClosedLoopCommand:function(n){return $0.$0(this.$je)||this.$je.dispose(),this.$je=n,n},$2T:null,get_$1O:function(){if($0.$0(this.$2T)){if(this.$2.$2h)return null;this.$2T=this.$2.$67("ProcessManager")}return this.$2T},add_$2Fm:function(n){this.$1p("StageGateCheck",n)},remove_$2Fm:function(n){this.$32("StageGateCheck",n)},$1lw:!1,$1Ct:!1,get_CanCurrentlyNavigate:function(){return this.$1Ct},set_CanCurrentlyNavigate:function(n){return this.$1Ct===n?n:(this.$1Ct=n,this.$7("CanCurrentlyNavigate"),n)},$1Op:!1,get_RetrieveNavigationEntitiesSuccess:function(){return this.$1Op},set_RetrieveNavigationEntitiesSuccess:function(n){return this.$1Op===n?n:(this.$1Op=n,this.$7("RetrieveNavigationEntitiesSuccess"),n)},$10N:!1,get_CanCurrentlyAdvance:function(){return this.$10N},set_CanCurrentlyAdvance:function(n){return this.$10N===n?n:(this.$10N=n,this.$7("CanCurrentlyAdvance"),n)},$1Cq:!1,get_CanCurrentlyBack:function(){return this.$1Cq},set_CanCurrentlyBack:function(n){return this.$1Cq===n?n:(this.$1Cq=n,this.$7("CanCurrentlyBack"),n)},$16M:!1,get_ProcessCompleted:function(){return this.$16M},set_ProcessCompleted:function(n){return this.$16M===n?n:(this.$16M=n,this.$7("ProcessStatusChange"),n)},get_AbortedActionClass:function(){return this.isBusinessProcessAborted()?" abortedAction disabled":" ".trimEnd()},$1Cs:!1,get_CanCurrentlyCloseLoop:function(){return this.$1Cs},set_CanCurrentlyCloseLoop:function(n){return this.$1Cs===n?n:(this.$1Cs=n,this.$7("CanCurrentlyCloseLoop"),n)},get_CanNavigate:function(){return this.get_$1O().$10S(this.$8h)},get_CanCloseLoop:function(){return this.get_$1O().$1Wj(this.$8h)},$u7:"",$Do:null,set_$2sI:function(n){return this.$u7===n?n:(this.$u7=n,this.$7("NextStageValue"),n)},get_$2Ac:function(){return this.$1wF(this.$u7)},get_$2ze:function(){var n=this.get_$1O().get_$Ar().$2io(this.$8h,this.$u7);return IsNull(n)?null:n.attributeName},get_NextStageLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.Advance")},get_CompleteProcessLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.Finish")},get_CompletedLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.Finished")},get_RetrievingRecordsText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Sales.ProcessControl.RetrievingRecords")},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$2.get_IsLocked()&&this.set_Visible(!1);this.$37v();this.get_$1O().AddPropertyChangedListener("GlobalActiveStage",this.$$d_$2th);this.$10i();this.get_$1O().AddPropertyChangedListener("ProcessStatus",this.$$d_$2uk);this.get_$1O().get_$9J().add_$1uK(this.$$d_$2tO);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$28X);var n=this.$2.$CL.ProxyProcessControl;$0.$0(n)||(this.$Do=new Microsoft.Crm.Client.Core.ViewModels.Controls.$HI(n));this.get_IsLeadToOpportunityProcess()&&(this.$14H=!0)},get_IsLeadToOpportunityProcess:function(){return this.$18C==="lead"&&this.get_$2Ac()==="opportunity"},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$28X);$0.$0(this.get_$1O().get_$9J())||this.get_$1O().get_$9J().remove_$1uK(this.$$d_$2tO);this.get_$1O().RemovePropertyChangedListener("GlobalActiveStage",this.$$d_$2th);this.get_$1O().RemovePropertyChangedListener("ProcessStatus",this.$$d_$2uk);this.set_ClosedLoopCommand(null);this.set_StageActionCommand(null);this.set_CompleteProcessActionCommand(null);this.set_StagePrevActionCommand(null);this.$2T=null;this.$Do=null;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$28X:function(){this.$10i()},$2th:function(){this.$10i()},$2uk:function(){this.$7("ProcessStatusChange")},$2tO:function(){this.$4u&&this.$10i()},$10i:function(){var n=$0.$0(this.get_$1O().get_$BE())||Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_$1O().get_$BE().toString());this.set_CanCurrentlyNavigate(!n&&this.get_$1O().$2Nh(this.$8h));this.set_CanCurrentlyAdvance(!n&&this.get_$1O().$1Wk(this.$8h));this.set_CanCurrentlyCloseLoop(!n&&this.get_$1O().$2Ng(this.$8h));this.set_$2sI(n?"":this.get_$1O().get_$9J().$MA(this.$8h));this.set_CanCurrentlyBack(!n&&this.get_$1O().$1Cr(this.$8h)&&this.get_$1O().$1ed());this.set_ProcessCompleted(!1);Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&!this.get_PopoverVisibility()&&this.get_FlyOutExpanded()&&this.set_FlyOutExpanded(!1)},canShowFinishButton:function(){return!this.$10N&&!this.get_CanNavigate()&&!this.isBusinessProcessCompleted()&&this.get_$1O().$1ed()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()},isBusinessProcessAborted:function(){return this.get_$1O().$9u===3},isBusinessProcessCompleted:function(){return this.get_$1O().$9u===2||this.$16M},$2NP:function(){return this.isBusinessProcessAborted()?!0:(this.$13I("StageGateCheck",this,null),this.$1lw)},$37v:function(){var n={},t,i;n.StageViewModel=this;t=this;n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){t.get_Enabled()&&t.$1pK()},26);this.set_StageActionCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ(n));i=this;n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){i.get_Enabled()&&i.$1XZ()},26);this.set_CompleteProcessActionCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ(n));var r=this,u=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){r.get_Enabled()&&r.$2rw()},26),f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("BackProcessStageCommand","BackProcessStageCommand",{SuccessCommand:u});this.set_StagePrevActionCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$8d(f));n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2s2,26);this.set_ClosedLoopCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ(n))},$1XZ:function(){this.isBusinessProcessAborted()||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("FinishButtonClicked",0,this.get_ViewModelId()),Xrm.Page.data.process.completeProcess())},$1pK:function(){var t,i,u,n,f;if(!this.isBusinessProcessAborted()&&(t=this.get_$1O().$MA(this.get_$1O().get_$BE().toString()),t)){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("MoveToNextStageClicked",0,this.get_ViewModelId());this.$2T.$B6=!0;i=this.get_Data();this.get_$1O().$Jc=null;this.set_Data(new Microsoft.Crm.Client.Core.Framework.Guid(t.id));var e=this.get_$1O().$2,o=this.get_$1O().$ZI,r=new Mscrm.ProcessControlShared.ObjectModels.$2H(Mscrm.ProcessControlShared.ObjectModels.$2H.$Qv(this.get_$1O().get_$9J().get_$E4(),t.id));if(this.$1lV(r.get_$ER()),Microsoft.Crm.Client.Core.ViewModels.Controls.$3T.$m9(this.get_$1O().get_$6I().get_$eE().get_EntityLogicalName())){if(!this.$2pS(e.get_$1B())){this.$2A4(i,o);this.set_StageMovedTo(null);return}u=this.get_$1O().get_$1B().$I.$B3;$0.$0(u)||this.$2T.$1n4(u,r.get_$ER(),t.id)}n=this;f=this;e.$Hw(70).then(function(u){u&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("MovedToNextStage",0,n.get_ViewModelId()),n.set_StageMovedTo("Next"),n.get_$1O().set_$5u(new Mscrm.ProcessControlShared.ObjectModels.$KY(r,t.id)),n.$2T.$f2("Next",n.$2T.$BS(i.toString())),n.$2T.$B6=!1,n.$Do.$Rs())},function(){f.$2A4(i,o);f.set_StageMovedTo(null)})}},$2rw:function(){var c,i,f,t,e,o,l;if(!this.isBusinessProcessAborted()){var p=this.get_$1O().$2,u=this.get_Data(),n=this.get_$1O().$Yw(u.toString());if(n&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("MoveToPreviousStageClicked",0,this.get_ViewModelId()),this.$2T.$B6=!0,this.get_$1O().$Jc=null,this.set_Data(new Microsoft.Crm.Client.Core.Framework.Guid(n.id)),c=this.get_$1O().$ZI,i=new Mscrm.ProcessControlShared.ObjectModels.$2H(Mscrm.ProcessControlShared.ObjectModels.$2H.$Qv(this.get_$1O().get_$9J().get_$E4(),n.id)),this.$1lV(i.get_$ER()),Microsoft.Crm.Client.Core.ViewModels.Controls.$3T.$m9(this.get_$1O().get_$6I().get_$eE().get_EntityLogicalName())&&(f=this.get_$1O().get_$1B().$I.$B3,$0.$0(f)||this.$2T.$1n4(f,i.get_$ER(),n.id)),t=this.get_$1O().$9N(n.id),!$0.$0(t)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(t.get_EntityLogicalName())&&!$0.$0(this.$2.get_ModelContext())))if(e=this.get_$1O().get_$6I().get_$eE().get_EntityLogicalName(),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("MovedToPreviousStage",0,this.get_ViewModelId()),t.get_EntityLogicalName()===e)this.set_StageMovedTo("Previous"),this.get_$1O().set_$5u(new Mscrm.ProcessControlShared.ObjectModels.$KY(i,n.id)),this.$2T.$f2("Previous",this.$2T.$BS(u.toString())),this.$2T.$B6=!1,this.$Do.$Rs();else if(!$0.$0(this.get_$1O().get_$C1()[t.get_EntityLogicalName()])&&(o=this.get_$1O().get_$C1()[t.get_EntityLogicalName()],l=this.get_$1O().get_$C1()[e],!Microsoft.Crm.Client.Core.ViewModels.Controls.$3T.$m9(t.get_EntityLogicalName()))){var s=new Mscrm.ProcessControlShared.ObjectModels.$2H(Mscrm.ProcessControlShared.ObjectModels.$2H.$Qv(this.get_$1O().get_$9J().get_$E4(),n.stageId)),a=Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_$1O().$Bd)?"":this.get_$1O().$Bd,r=this,v=this,y=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(null,null,{TargetViewModel:this,EntityId:o,EntityLogicalName:t.get_EntityLogicalName(),ProcessControlId:new Microsoft.Crm.Client.Core.Framework.Guid(this.get_$1O().$HU),ProcessInstanceId:a,NewStageId:new Microsoft.Crm.Client.Core.Framework.Guid(n.id),TraversedPath:s.get_$ER(),SuccesCallback:function(){r.get_$1O().set_$5u(new Mscrm.ProcessControlShared.ObjectModels.$KY(s,n.id));r.get_$1O().$f2("Previous",r.$2T.$BS(u.toString()));r.get_$1O().$B6=!1;Xrm.Utility.openEntityForm(t.get_EntityLogicalName(),o.toString())},FailureCallback:function(){v.get_$1O().$B6=!1}}),h=new Microsoft.Crm.Client.Core.Commands.$8f(y);h.execute();h.dispose()}}},$1lV:function(n){var t=this.get_$1O().$2;t.get_ModelContext().SetValue("traversedpath",n)},$2pS:function(n){if(n.get_ModelName().toLowerCase()==="incident"){var t=n.GetValue("statecode");if(!$0.$0(t)&&t.$1s===1)return!1}return!0},$1ly:null,get_StageMovedTo:function(){return this.$1ly},set_StageMovedTo:function(n){return this.$1ly=n,this.$7("StageMovedAction"),n},$2s2:function(){var n=this.$1wF(this.$u7);if(!Microsoft.Crm.Client.Core.Framework.$3.$9(n)){var t=this.get_$1O().get_$C1()[n],i=this.get_$1O().get_$9J(),r=i.$MA(this.$8h),u=Mscrm.ProcessControlShared.ObjectModels.$2H.$Qv(i.get_$E4(),r),f=Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_$1O().$Bd)?"":this.get_$1O().$Bd,s=this,e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("ChangeProcessControlCommand","CloseLoopCommand",{TargetViewModel:this,EntityId:t,EntityLogicalName:n,ProcessControlId:new Microsoft.Crm.Client.Core.Framework.Guid(this.get_$1O().$HU),ProcessInstanceId:f,NewStageId:new Microsoft.Crm.Client.Core.Framework.Guid(r),TraversedPath:u,SuccesCallback:function(){Xrm.Utility.openEntityForm(n,t.toString())}}),o=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,e);o.execute();this.$Do.$Rs()}},retrieveNavigationEntities:function(){var i={SourceEntityLogicalName:this.get_ModelContext().get_ModelName(),SourceEntityId:this.get_ModelContext().get_Id()},n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveNavigationEntities",i),t=this;n.OnSuccess=function(n){t.$32u(n);t.$Do.$Rs()};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$32u:function(n){var t=new Array(0),f={},u,r,e,i;if(n&&Array.isInstanceOfType(n))for(u=n,r=0;r<u.length;r++)e=u[r].ViewModelDescriptor,i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(e,null),i.$2Z(),Array.add(t,i),f[i.get_Name()]=i;this.get_StageNavigationViewModel().$1D9=t;this.get_StageNavigationViewModel().$MV.$nR(f);this.set_RetrieveNavigationEntitiesSuccess(!0);($0.$0(t)||!$0.$0(t)&&t.length<=0)&&this.set_IsNavigationButtonHidden(!0);t.length>5&&(this.$1KB=!0)},$1wF:function(n){if($0.$0(n))return null;var t=this.get_$1O().$9N(n);return $0.$0(t)?null:t.get_EntityLogicalName()},$2A4:function(n,t){this.set_Data(n);this.$2T.$B6=!1;this.$1lV(t)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$B7=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$B7.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$B7.prototype={$nZ:null,get_StageCurrentActionCommand:function(){return this.$nZ},set_StageCurrentActionCommand:function(n){return $0.$0(this.$nZ)||this.$nZ.dispose(),this.$nZ=n,this.$7("StageCurrentActionCommand"),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$6f.prototype.$2Z.call(this);this.$383();this.$37x();this.$10i()},$Oh:function(){$0.$0(this.$nZ)||(this.$nZ.dispose(),this.set_StageCurrentActionCommand(null));$0.$0(this.$na)||(this.$na.dispose(),this.set_StagePrevActionCommand(null));$0.$0(this.$je)||(this.$je.dispose(),this.set_ClosedLoopCommand(null));Microsoft.Crm.Client.Core.ViewModels.Controls.$6f.prototype.$Oh.call(this)},$10i:function(){var n=$0.$0(this.get_$1O().get_$BE())||Microsoft.Crm.Client.Core.Framework.$3.$12(this.get_$1O().get_$BE().toString());Microsoft.Crm.Client.Core.ViewModels.Controls.$6f.prototype.$10i.call(this);this.set_CanCurrentlyBack(!n&&this.get_$1O().$1Cr(this.$8h))},$383:function(){var n={},t;n.StageViewModel=this;t=this;n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){t.get_Enabled()&&t.$2LO()},26);this.set_StagePrevActionCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ(n));n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2s2,26);this.set_ClosedLoopCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ(n))},$37x:function(){var n={},t;n.StageViewModel=this;t=this;n.SuccessCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){t.get_Enabled()&&t.$17h()},26);this.set_StageCurrentActionCommand(new Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ(n))},$17h:function(){var t=this.get_$1O().get_$1PQ(),i,r,u,n,f;this.get_IsStageCompleted()&&t&&(this.$2T.$B6=!0,i=this.get_Data(),this.get_$1O().$Jc=null,this.set_Data(new Microsoft.Crm.Client.Core.Framework.Guid(t.id)),r=new Mscrm.ProcessControlShared.ObjectModels.$2H(Mscrm.ProcessControlShared.ObjectModels.$2H.$Qv(this.get_$1O().get_$9J().get_$E4(),t.id)),u=this.$2,u.get_ModelContext().SetValue("traversedpath",r.get_$ER()),n=this,f=this,u.$Hw(70).then(function(u){u&&(n.get_$1O().set_$5u(new Mscrm.ProcessControlShared.ObjectModels.$KY(r,t.id)),n.$2T.$f2(null,n.$2T.$BS(i.toString())),n.$2T.$B6=!1,n.$Do.$Rs())},function(){f.set_Data(i);f.$2T.$B6=!1}))},$2LO:function(){var t=this.get_$1O().$Yw(this.get_$1O().get_$BE().toString()),r,u,f,n,i;t&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("MoveToPrevStageClicked",0,this.get_ViewModelId()),this.$2T.$B6=!0,r=this.get_Data(),this.get_$1O().$Jc=null,this.set_Data(new Microsoft.Crm.Client.Core.Framework.Guid(t.id)),u=new Mscrm.ProcessControlShared.ObjectModels.$2H(Mscrm.ProcessControlShared.ObjectModels.$2H.$Qv(this.get_$1O().get_$9J().get_$E4(),t.id)),f=this.$2,f.get_ModelContext().SetValue("traversedpath",u.get_$ER()),n=this,i=this,f.$Hw(70).then(function(i){i&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("MovedToPrevStage",0,n.get_ViewModelId()),n.set_StageMovedTo("Previous"),n.get_$1O().set_$5u(new Mscrm.ProcessControlShared.ObjectModels.$KY(u,t.id)),n.$2T.$f2("Previous",n.$2T.$BS(r.toString())),n.$2T.$B6=!1,n.$Do.$Rs())},function(){i.set_StageMovedTo(null);i.set_Data(r);i.$2T.$B6=!1}))},get_IsStageLock:function(){return this.$2T.$1eu(this.$8h)},get_IsStageCompleted:function(){return this.get_$1O().$tM(this.get_$1O().$Cf.toString())}};Microsoft.Crm.Client.Core.ViewModels.Controls.$B8=function(){this.$$d_$2vN=Function.createDelegate(this,this.$2vN);this.$$d_$KZ=Function.createDelegate(this,this.$KZ);this.$$d_$2kG=Function.createDelegate(this,this.$2kG);this.$$d_$1cp=Function.createDelegate(this,this.$1cp);Microsoft.Crm.Client.Core.ViewModels.Controls.$B8.initializeBase(this);this.$14G=!0};Microsoft.Crm.Client.Core.ViewModels.Controls.$B8.prototype={$BU:!1,$bq:null,$1lx:null,get_$BE:function(){var n=this.$Ob();return $0.$0(n)?this.get_Data():n.get_$BE()},$1NI:null,$8h:null,get_StageId:function(){return this.$8h},set_StageId:function(n){return this.$8h=n,n},$1QB:!1,get_Show:function(){return this.$1QB},set_Show:function(n){return this.$1QB!==n&&(this.$1QB=n,this.$7("Show")),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);var n=this.$Ob();n.AddPropertyChangedListener("SelectedStageId",this.$$d_$1cp);n.AddPropertyChangedListener("CalculatedStageId",this.$$d_$2kG);this.AddPropertyChangedListener("Data",this.$$d_$KZ);this.$1lx=this.$L;this.$bq=n.$BS(this.$8h);this.$BU=this.$1dp();this.$1lZ();$0.$0(this.get_ModelContext())||this.$1lH()},$Oh:function(){var t=this.$Ob(),n;$0.$0(t)||t.RemovePropertyChangedListener("SelectedStageId",this.$$d_$1cp);n=this.$1ca();!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.Controls.$6f.isInstanceOfType(n)&&n.remove_$2Fm(this.$$d_$2vN);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$CK.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.Controls.$6f.isInstanceOfType(t)?this.$37t(t):Microsoft.Crm.Client.Core.ViewModels.Controls.$8N.isInstanceOfType(t)&&this.$384(t)},$37t:function(n){n.set_Visible(this.$23x());n.add_$2Fm(this.$$d_$2vN)},$2vN:function(){var n=this.$1ca();$0.$0(n)||(n.$1lw=this.$1Qf())},$384:function(n){this.$1NI=n},$1Qf:function(){return!$0.$0(this.$1NI)&&this.$1NI.$1Qf()},$1cp:function(){this.$1lZ()},$2kG:function(){this.$BU=this.$1dp();this.$1lH()},$KZ:function(){this.$1lZ();this.$BU=this.$1dp();this.$1lH()},$1lH:function(){var n=this.$1ca();$0.$0(n)||n.set_Visible(this.$23x())},$1lZ:function(){if($0.$0(this.get_$BE())){this.set_Show(!1);return}this.set_Show(this.$2p7())},$1dp:function(){return $0.$0(this.$bq)||$0.$0(this.get_$BE())?!1:this.get_$BE().toString().toLowerCase()===this.$bq.id},$2p7:function(){var t=this.$Ob(),n=t.get_$1PQ();return $0.$0(n)||$0.$0(this.$bq)?!1:this.$bq.id===n.id},$1ca:function(){if($0.$0(this.get_ModelContext()))return null;var n=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$2iP(this.get_ModelContext().get_ModelName(),this.$1lx);return this.$H[n]},$23x:function(){var n=this.$Ob();return $0.$0(n.get_$Mm())?!1:!this.$BU||$0.$0(this.get_$BE())?!1:!0},$Ob:function(){return this.$2.$67("ProcessManager")}};Microsoft.Crm.Client.Core.ViewModels.Controls.$HH=function(n){this.$41=n};Microsoft.Crm.Client.Core.ViewModels.Controls.$HH.prototype={$1Wj:function(n){var t,r,u,o,i,e;if($0.$0(n)||(n=new Microsoft.Crm.Client.Core.Framework.Guid(n).toString(),t=this.$41.get_$Ar(),!(n in t.get_$gu()))||(r=t.get_$gu()[n],!Array.contains(this.get_$2Ni(),r.get_EntityLogicalName())))return!1;u=this.$41.get_$5u();o=$0.$0(u)?Mscrm.ProcessControlShared.ObjectModels.$2H.$1zs(t.get_$18E(),n):u.get_$CB().get_$ER();for(var s=o.split(","),h=s.length,f=0;f<h;++f){if(i=s[f],i===n)return!1;if(e=i in t.get_$gu()?t.get_$gu()[i]:null,!$0.$0(e)&&r.get_EntityLogicalName()===e.get_EntityLogicalName())return!0}return!1},$41:null,$10P:null,get_$2Ni:function(){var t,n;if($0.$0(this.$10P)){this.$10P=new Array(0);var r=this.$41.get_$Ar(),u=r.get_$1vN(),i=u;for(t in i)n={key:t,value:i[t]},!$0.$0(n.value)&&n.value.length>1&&Array.add(this.$10P,n.key)}return this.$10P}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd.prototype={$1Ul:0,get_WidthPercent:function(){return this.$1Ul},set_WidthPercent:function(n){return this.$1Ul=n,n},$1TC:0,get_HeightPercent:function(){return this.$1TC},set_HeightPercent:function(n){return this.$1TC=n,n}};Type.registerNamespace("Microsoft.Crm.Client.Core.Commands");Microsoft.Crm.Client.Core.Commands.$8U=function(n){var t,i;this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.$8U.initializeBase(this);this.set_$1z(this.$$d_$2E);t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$2T=this.$2.$67("ProcessManager");i=this.$2.get_ModelContext();this.set_CanExecute(this.$143())};Microsoft.Crm.Client.Core.Commands.$8U.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("AbandonProcessCommand",Microsoft.Crm.Client.Core.Commands.$8U.$n)};Microsoft.Crm.Client.Core.Commands.$8U.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.$8U(t)};Microsoft.Crm.Client.Core.Commands.$8U.prototype={$2:null,$2T:null,$2E:function(){this.$2T.$1oS()},$143:function(){return $0.$0(this.$2T)?!1:!this.$2T.$t}};Microsoft.Crm.Client.Core.Commands.$9N=function(n){var t,i;this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.$9N.initializeBase(this);this.set_$1z(this.$$d_$2E);t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$2T=this.$2.$67("ProcessManager");i=this.$2.get_ModelContext();this.set_CanExecute(this.$143())};Microsoft.Crm.Client.Core.Commands.$9N.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("FinishProcessCommand",Microsoft.Crm.Client.Core.Commands.$9N.$n)};Microsoft.Crm.Client.Core.Commands.$9N.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.$9N(t)};Microsoft.Crm.Client.Core.Commands.$9N.prototype={$2:null,$2T:null,$2E:function(){this.$2T.$1XZ()},$143:function(){return $0.$0(this.$2T)?!1:!this.$2T.$t&&this.$2T.$24M()}};Microsoft.Crm.Client.Core.Commands.$Ai=function(n){var t,i;this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.$Ai.initializeBase(this);this.set_$1z(this.$$d_$2E);t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$2T=this.$2.$67("ProcessManager");i=this.$2.get_ModelContext();this.set_CanExecute(this.$143())};Microsoft.Crm.Client.Core.Commands.$Ai.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ReactivateProcessCommand",Microsoft.Crm.Client.Core.Commands.$Ai.$n)};Microsoft.Crm.Client.Core.Commands.$Ai.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.$Ai(t)};Microsoft.Crm.Client.Core.Commands.$Ai.prototype={$2:null,$2T:null,$2E:function(){this.$2T.$2AW()},$143:function(){return $0.$0(this.$2T)?!1:this.$2T.$t===1}};Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ShowSelectableEntityNoteList",Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.$n=function(){return new Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand};Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.prototype={$2E:function(){$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL().collapse();var n=new Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel;n.$2Z();n.Show()}};Microsoft.Crm.Client.Core.Commands.SendEmailCommand=function(n){var t,u,i;if(this.$$d_$2E=Function.createDelegate(this,this.$2E),Microsoft.Crm.Client.Core.Commands.SendEmailCommand.initializeBase(this),this.set_$1z(this.$$d_$2E),"TargetViewModel"in n.InitializationParameters&&(this.$T=n.InitializationParameters.TargetViewModel,this.$T&&this.$T.get_ModelContext())){if(t=null,this.$4Z=this.$T.get_ModelContext().get_Id(),this.$FI=this.$T.get_ModelContext().GetValue("regardingobjectid"),this.$i0="mailto:",!this.$FI)return;if(this.$FI.LogicalName==="lead")t=["emailaddress1","ownerid"];else if(this.$FI.LogicalName==="account")t=["primarycontactid","ownerid"];else if(this.$FI.LogicalName==="contact")t=["emailaddress1","ownerid"];else if(this.$FI.LogicalName==="opportunity"||this.$FI.LogicalName==="incident")t=["customerid","ownerid"];else return;u=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(t);i={};i.logicalname=this.$FI.LogicalName;i.id=new Microsoft.Crm.Client.Core.Framework.Guid(this.$FI.Id.toString()).getObjectData();var f=Xrm.Objects.EntityReference.createFromObjectData(i),r=this,e=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(f,u,Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),Microsoft.Crm.Client.Core.Framework.$q.$4t("","SendEmailCommand")).then(function(n){var t=null,i,u;if(n.hasField("primarycontactid")?t=n.getValue("primarycontactid"):n.hasField("parentcustomerid")?t=n.getValue("parentcustomerid"):n.hasField("parentaccountid")?t=n.getValue("parentaccountid"):n.hasField("customerid")&&(t=n.getValue("customerid")),n.hasField("emailaddress1"))r.$i0=r.$i0+n.getValue("emailaddress1");else{if(!t)return;i=["emailaddress1"];u=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(i);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(t,u,Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),Microsoft.Crm.Client.Core.Framework.$q.$4t("","SendEmailCommands")).then(function(n){n&&n.hasField("emailaddress1")&&(Microsoft.Crm.Client.Core.Framework.$3.$9(n.fields.emailaddress1)||(r.$i0=r.$i0+n.fields.emailaddress1.toString()))},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"An error retrieving the data. Error message: {0}",n.$F)})}},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"An error retrieving the data. Error message: {0}",n.$F)})}};Microsoft.Crm.Client.Core.Commands.SendEmailCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SendEmailCommand",Microsoft.Crm.Client.Core.Commands.SendEmailCommand.$n)};Microsoft.Crm.Client.Core.Commands.SendEmailCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.SendEmailCommand(t)};Microsoft.Crm.Client.Core.Commands.SendEmailCommand.prototype={$T:null,$i0:null,$FI:null,$4Z:null,$2E:function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(this.$i0):window.location.href=this.$i0}};Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$T=n.InitializationParameters.TargetViewModel};Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("EmailAttendeesCommand",Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.$n)};Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand(t)};Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.prototype={$T:null,$2E:function(){var r,u;if(this.$T&&this.$T.get_ModelContext()){var n=this.$T.get_ModelContext().GetValue("regardingobjectid"),f=String.format("logicalName: {0}, entityId: {1}",n.LogicalName,n.Id.toString()),i="{ logicalName: 'meetingData', entityId: '"+n.Id.toString()+"'}",t=[];t.push(Xrm.Internal.messages.retrieveCardData(new Microsoft.Crm.Client.Core.Framework.Guid("CAC83683-0E44-4FDE-8951-A3FFDC702861"),i));r=this;u=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t).then(function(n){var o,t,i,r;if(n.length>0&&n[0].data){var e=Sys.Serialization.JavaScriptSerializer.deserialize(n[0].data),u="",f="";if(!$0.$0(e)&&(o=e.cardRelatedInfo,t=o.attendees,t))for(i=0;i<t.length;i++){var c=t[i],s=c.contextPrimaryInfo,h=s.description,l=s.optional;l?f+=h+";":u+=h+";"}Mscrm.InternalUtilities._String.isNullOrEmpty(u)||(r="mailto:"+u,Mscrm.InternalUtilities._String.isNullOrEmpty(f)||(r+="?cc="+f),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(r):window.location.href=r)}},function(){})}},$Oh:function(){this.$T=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand=function(n){this.$$d_$1Ly=Function.createDelegate(this,this.$1Ly);this.$$d_$1Lz=Function.createDelegate(this,this.$1Lz);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$T=n.InitializationParameters.TargetViewModel};Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SkypeMeetingCommand",Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.$n)};Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand(t)};Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.prototype={$T:null,$2E:function(){var t,n;if(this.$T&&this.$T.get_ModelContext()&&(t=this.$T.get_ModelContext().GetValue("cardtype"),(t==="100"||t==="21")&&(n=this.$T.get_ModelContext().GetValue("description"),!Mscrm.InternalUtilities._String.isNullOrEmpty(n)&&n.indexOf("https://join.microsoft.com/meet")>-1))){var r=new RegExp("http(s)?:\\/\\/(join.microsoft.com\\/meet)\\/(\\w.)+"),u=r.exec(n),i=u[0];Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$1Cv(i,this.$$d_$1Lz,this.$$d_$1Ly):Microsoft.Crm.Client.Core.Framework.$6.get_$f()?window.open(i):window.location.href=i}},$1Ly:function(){},$1Lz:function(){},$Oh:function(){this.$T=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.Commands.PhoneCallCommand=function(n){this.$$d_$1Ly=Function.createDelegate(this,this.$1Ly);this.$$d_$1Lz=Function.createDelegate(this,this.$1Lz);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$T=n.InitializationParameters.TargetViewModel};Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("PhoneCallCommand",Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.$n)};Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.PhoneCallCommand(t)};Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.prototype={$T:null,$Pa:null,get_$1sm:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$119},$2E:function(){if(this.$T&&this.$T.get_ModelContext()){var f=this.$T.get_ModelContext().GetValue("cardtype"),t=this.$T.get_ModelContext().GetValue("data"),n=Sys.Serialization.JavaScriptSerializer.deserialize(t);if(!$0.$0(n)){var i=n.cardRelatedInfo,r=i.Phone,u=new Mscrm.$MI;this.$Pa=u.$1WM(r,this.get_$1sm(),"tel");Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T)?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$1Cv(this.$Pa,this.$$d_$1Lz,this.$$d_$1Ly):Microsoft.Crm.Client.Core.Framework.$6.get_$f()?window.open(this.$Pa):window.location.href=this.$Pa}}},$1Ly:function(){},$1Lz:function(){},$Oh:function(){this.$T=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand.$n=function(n,t){var i=new Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand(t),r=t.InitializationParameters.TargetViewModel,u=r.$CL.powerBIFullScreenComponent;return u?(i.set_CanExecute(r.$14O||r.$g===50),i.$1RE=i.$2jZ(u),i):(i.set_CanExecute(!1),null)};Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand.prototype={$1RE:null,$2jZ:function(n){var t="https://app.powerbi.com/MobileRedirect.html?",i;return n.$W2===2?t+("action=OpenReport&reportObjectId="+n.$dL):(i=null,Microsoft.Crm.Client.Core.Framework.$3.$9(n.$Sd)||(i="&groupObjectId="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$nt(n.$Sd)),n.$W2===1)?t+this.$21v("OpenDashboard",i,n.$Sc):n.$W2?t:(t+=this.$21v("OpenTile",i,n.$Sc),t+"&tileObjectId="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$nt(n.$dM))},$21v:function(n,t,i){var r="action="+n;return Microsoft.Crm.Client.Core.Framework.$3.$9(t)||(r+=t),r+("&dashboardObjectId="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$nt(i))},$2E:function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(this.$1RE):window.open(this.$1RE)}};Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand.$n=function(n,t){var i=new Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand(t),u=t.InitializationParameters.TargetViewModel,r=u.$CL.powerBIFullScreenComponent;return r?(i.set_CanExecute(u.$g===50&&!r.$W2&&!Microsoft.Crm.Client.Core.Framework.$3.$9(r.$in)),i.$h4=r,i):(i.set_CanExecute(!1),null)};Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand.prototype={$h4:null,$2E:function(){var t,n;Microsoft.Crm.Client.Core.Framework.$3.$9(this.$h4.$dL)?(t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel,t.$DZ=0,t.$AG=0,t.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TileIsNotPinnedFromReport")),t.Show()):(n=new Microsoft.Crm.Client.Core.Commands.$2R(null,50),n.$x={},n.$x.externalContextPowerBIUrl=this.$h4.$in,n.$x.groupId=this.$h4.$Sd,n.$x.dashboardId=this.$h4.$Sc,n.$x.tileId=this.$h4.$dM,n.$x.reportId=this.$h4.$dL,n.$x.powerBIComponentType=2,n.execute())}};Microsoft.Crm.Client.Core.Commands.$AR=function(n,t){Microsoft.Crm.Client.Core.Commands.$AR.initializeBase(this,[n,4]);this.$1nn=t};Microsoft.Crm.Client.Core.Commands.$AR.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenSwitchProcessDialogCommand",Microsoft.Crm.Client.Core.Commands.$AR.$n)};Microsoft.Crm.Client.Core.Commands.$AR.$n=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$Hz,i=t.$2TN();return new Microsoft.Crm.Client.Core.Commands.$AR(n,i)};Microsoft.Crm.Client.Core.Commands.$AR.prototype={$1nn:null,$Os:function(){this.$2wI()},$2TD:function(){var n=this.$A,t=n.get_TargetViewModel().get_$1B().get_Id(),i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CurrentEntityRecordId",t),r=n.get_TargetViewModel().get_$1B().get_ModelName(),u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CurrentEntityLogicalName",r),f=[u,i],e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor(Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel.getName(),"SwitchProcessDialog","SwitchProcessDialog",f,null);return this.$1nn.$6f(e,n.get_TargetViewModel().get_$1B(),null,n.get_TargetViewModel().get_Root())},$2wI:function(){var n=this.$2TD();this.$T=n;Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Os.call(this)}};Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$5j=n.InitializationParameters.TargetViewModel;this.$2=this.$5j.get_Root()};Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("BindArchivedProcessCommand",Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.$n)};Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand(t)};Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.prototype={$5j:null,$2:null,$81:null,$2E:function(){var n={QueryType:"LoadArchivedProcessListData",TargetViewModel:this.$5j,SuccesCallback:this.$81};this.$5j.get_Root().set_IsArchivedProcessCommand(!this.$5j.get_Root().$g4);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$2,n)}};Microsoft.Crm.Client.Core.Commands.$7f=function(n,t){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.$7f.initializeBase(this);this.$1Wr=t;this.$Bc=n.get_Root();this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.$7f.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C(Microsoft.Crm.Client.Core.Commands.$7f.getName(),Microsoft.Crm.Client.Core.Commands.$7f.$n)};Microsoft.Crm.Client.Core.Commands.$7f.$n=function(n){var i=n.get_Root().$2,u=i.$67("ProcessManager"),f=new Microsoft.Crm.Client.Core.Framework.Guid(i.get_$1B().get_Id()),e=i.$D,t=n.get_ModelContext(),r=t.GetValue("type"),o=r==="definition"?t.get_Id():t.GetValue("ProcessDefinitionId"),s=r==="instance"?t.get_Id():null,h={TargetViewModel:u,EntityId:f,EntityLogicalName:e,ProcessControlId:o,ProcessInstanceId:s,NewStageId:null,TraversedPath:null,SuccesCallback:function(){},FailureCallback:function(){}},c=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("ChangeProcessControlCommand","ChangeProcessControlCommand",h),l=new Microsoft.Crm.Client.Core.Commands.$8f(c);return new Microsoft.Crm.Client.Core.Commands.$7f(n,l)};Microsoft.Crm.Client.Core.Commands.$7f.prototype={$1Wr:null,$Bc:null,$2E:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(this.$Bc);this.$1Wr.execute()}};Microsoft.Crm.Client.Core.Commands.$8f=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.$8f.initializeBase(this);this.set_$1z(this.$$d_$2E);var t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$D1=n.InitializationParameters.EntityId;this.$P=n.InitializationParameters.EntityLogicalName;"ProcessControlId"in n.InitializationParameters&&(this.$aw=n.InitializationParameters.ProcessControlId);this.$Bd="ProcessInstanceId"in n.InitializationParameters?Microsoft.Crm.Client.Core.Framework.$3.$9(n.InitializationParameters.ProcessInstanceId)?"":n.InitializationParameters.ProcessInstanceId:"";this.$aB=n.InitializationParameters.NewStageId;this.$mA=n.InitializationParameters.TraversedPath;this.$81=n.InitializationParameters.SuccesCallback;this.$9M=n.InitializationParameters.FailureCallback};Microsoft.Crm.Client.Core.Commands.$8f.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ChangeProcessControlCommand",Microsoft.Crm.Client.Core.Commands.$8f.$n)};Microsoft.Crm.Client.Core.Commands.$8f.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.$8f(t)};Microsoft.Crm.Client.Core.Commands.$8f.prototype={$P:null,$aB:null,$mA:null,$aw:null,$Bd:null,$D1:null,$9M:null,$2:null,$81:null,$Oh:function(){this.$2=null;this.$81=null;this.$9M=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)},$2E:function(){var n,t,i;if($0.$0(this.$D1)&&(this.$D1=new Microsoft.Crm.Client.Core.Framework.Guid(this.$2.get_ModelContext().get_Id())),this.$D1.toString()===this.$2.get_ModelContext().get_Id()){if($0.$0(this.$2)||$0.$0(this.$aw))return;if(n=this.$2.$67("ProcessManager"),t=$0.$0(this.$aB)?null:this.$aB.toString(),$0.$0(n)&&!$0.$0(this.$aw)&&!n.$1r3(this.$aw.toString(),t))return}i={QueryType:"ChangeProcess",EntityId:this.$D1,EntityLogicalName:this.$P,ProcessControlId:this.$aw,ProcessInstanceId:this.$Bd,NewStageId:this.$aB,TraversedPath:this.$mA,SuccesCallback:this.$81,FailureCallback:this.$9M};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$2,i)}};Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);"TargetViewModel"in n.InitializationParameters&&(this.$T=n.InitializationParameters.TargetViewModel,this.$1el=n.InitializationParameters.IsReplyAffirmative,this.$T&&this.$T.get_ModelContext()&&(this.$UE=this.$T.get_ModelContext().GetValue("messageid"),this.$4Z=this.$T.get_ModelContext().get_Id(),this.$1Wm=this.$T.get_ModelContext().GetValue("description")))};Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("CreateEmailReplyDraftCommand",Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.$n)};Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand(t)};Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.prototype={$T:null,$UE:null,$4Z:null,$1el:!1,$1Wm:null,$2E:function(){var n=this;Xrm.Internal.messages.createEmailReplyDraft(this.$UE,this.$2fr()).then(function(t){if(t){var r=t,i=r.mailWebLink;Microsoft.Crm.Client.Core.Framework.$3.$9(i)||(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(i):window.open(i));n.$4Z=IsNull(Xrm.Page.data)?"":n.$4Z;Microsoft.Crm.Client.Core.Command.DelveActionHubCommandHelper.$2PV(n.$UE,n.$4Z).then(function(){n.$T.get_$AH().$Rr();n.$T=null},Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)}},Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)},$2fr:function(){var n=this.$1el?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Ribbon.Tooltip.delveactionhub.YesButton"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Ribbon.Tooltip.delveactionhub.NoButton");return String.format("{0}\n{1}",this.$1Wm,n)}};Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand=function(n){this.$$d_$1MN=Function.createDelegate(this,this.$1MN);this.$$d_$2uZ=Function.createDelegate(this,this.$2uZ);this.$$d_$2ua=Function.createDelegate(this,this.$2ua);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$T=n.InitializationParameters.TargetViewModel;this.$rC=n.InitializationParameters.DocumentTemplateEntityReference;this.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F())};Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand.prototype={$rC:null,$T:null,$2E:function(){var n={QueryType:"OpenDocumentTemplateAction",DocumentTemplateEntityReference:this.$rC,SuccessCallbackParameter:this.$$d_$2ua,FailureCallbackParameter:this.$$d_$2uZ};this.$T.$2.$1QO(!0,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ExportToXlsx_ProgressDialog_Header"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$T,n)},$2ua:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$1i,i;t.set_$H6(n);t.set_$KR("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");t.set_$H7(this.$T.$L+".xlsx");t.set_$wf(t.get_$H6().length);Microsoft.Crm.Client.Core.Framework.$3.$9(t.get_$H7())||(i=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$eM.$17K(t,function(n){i.$1MO(t,n)},this.$$d_$1MN))},$2uZ:function(n){this.$T.$2.$Z3();Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(n)},$1MO:function(n,t){this.$T.$2.$Z3();var i=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$15k(t,n.get_$4n(),n.get_$KR(),function(n){n&&Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094004)})},$1MN:function(){this.$T.$2.$Z3();Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094004)}};Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand=function(n){this.$$d_$1MN=Function.createDelegate(this,this.$1MN);this.$$d_$2ub=Function.createDelegate(this,this.$2ub);this.$$d_$2uc=Function.createDelegate(this,this.$2uc);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$T=n.InitializationParameters.TargetViewModel;this.$xh=n.InitializationParameters.WordTemplateEntityReference;this.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F())};Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand.prototype={$xh:null,$T:null,$2E:function(){var n=this.$T.get_$1B(),t={QueryType:"OpenWordTemplateAction",SelectedRecordId:n.$I.$2A.Id,AssociatedEntityTypeCode:n.$I.$2A.TypeCode,WordTemplateEntityReference:this.$xh,SuccessCallbackParameter:this.$$d_$2uc,FailureCallbackParameter:this.$$d_$2ub};this.$T.$2.$1QO(!0,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ExportToDocx_ProgressDialog_Header"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$T,t)},$2uc:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$1i,i;t.set_$H6(n);t.set_$KR("application/vnd.openxmlformats-officedocument.wordprocessingml.document");t.set_$H7(this.$T.$L+".docx");t.set_$wf(t.get_$H6().length);Microsoft.Crm.Client.Core.Framework.$3.$9(t.get_$H7())||(i=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$eM.$17K(t,function(n){i.$1MO(t,n)},this.$$d_$1MN))},$2ub:function(n){this.$T.$2.$Z3();Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(n)},$1MO:function(n,t){this.$T.$2.$Z3();var i=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$15k(t,n.get_$4n(),n.get_$KR(),function(n){n&&Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094004)})},$1MN:function(){this.$T.$2.$Z3();Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094004)}};Microsoft.Crm.Client.Core.Commands.$Ao=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.$Ao.initializeBase(this);this.set_$1z(this.$$d_$2E);var t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$QM=n.InitializationParameters.currentEntityId;this.$P=n.InitializationParameters.entityLogicalName;this.$81=n.InitializationParameters.SuccessCallback;this.$9M=n.InitializationParameters.FailureCallback};Microsoft.Crm.Client.Core.Commands.$Ao.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("RetrieveMulipleProcessInstanceCommand",Microsoft.Crm.Client.Core.Commands.$Ao.$n)};Microsoft.Crm.Client.Core.Commands.$Ao.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.$Ao(t)};Microsoft.Crm.Client.Core.Commands.$Ao.prototype={$P:null,$QM:null,$81:null,$9M:null,$2:null,$2E:function(){var n={QueryType:"RetrieveMultipleProcessInstances",entityLogicalName:this.$P,currentEntityId:this.$QM,SuccessCallback:this.$81,FailureCallback:this.$9M};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$2,n)},$Oh:function(){this.$2=null;this.$81=null;this.$9M=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ShowDeviceSettingsCommand",Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.$n)};Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.$n=function(){return new Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand};Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.prototype={$2E:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel;n.Show()}};Microsoft.Crm.Client.Core.Commands.ChangeControlCommand=function(n){this.$$d_$k2=Function.createDelegate(this,this.$k2);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$J=this.$$d_$k2;this.$1Df=n.InitializationParameters.ContainerViewModel;this.$ng=n.InitializationParameters.Descriptor;this.$9a=n.InitializationParameters.ApplicationMetadataType;this.$1IX=n.InitializationParameters.Index};Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ChangeControlCommand",Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.$n)};Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ChangeControlCommand(t)};Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.prototype={$1Df:null,$ng:null,$J:null,$9a:0,$1IX:0,$k2:function(){return},$2E:function(){var n=null,t;(Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(this.$1Df)&&(n=this.$1Df),$0.$0(n)||$0.$0(this.$ng)&&n.$Cq.TypeName!=="CustomControlHostView"||!$0.$0(this.$ng)&&n.$Cq.BindingPath===this.$ng.Name&&n.$Cq.TypeName===this.$ng.ControlTypeName&&n.$1Xg===this.$1IX)||(t={},t.descriptor=this.$ng,t.index=this.$1IX,n.$1hd(t))}};Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand=function(n,t,i,r,u){Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.initializeBase(this,[u,4]);this.$D=n;this.$Ht=t;this.$hA=i;this.$1Vo=r};Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenTaskBasedFlowCommand",Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.$n=function(n,t){var u=t.InitializationParameters.UniqueName.toString(),i=null,r=null;return $0.$0(t.InitializationParameters.PrimaryRecordId)||(i=t.InitializationParameters.PrimaryRecordId),$0.$0(t.InitializationParameters.Arguments)||(r=t.InitializationParameters.Arguments),new Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand(n.get_$1u(),u,i,r,n)};Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.prototype={$Ht:null,$1Vo:null,$D:null,$hA:null,$Os:function(){$0.$0(this.$hA)?this.$28x():this.$1hx(this.$hA)},$1hx:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(39)),i;t.set_DefinitionId(this.$Ht);t.$1RG=this.$1Vo;t.$Ht=this.$Ht;t.set_PrimaryModelName(this.$D);t.$hA=n;t.$2Z();this.$T=t;i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("opentaskflowcommand");i.$h("taskflowuniquename",this.$Ht);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i);Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Os.call(this)},$28x:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GlobalLookupViewModel","GlobalLookup","LookupViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ExternalContext",new Microsoft.Crm.Client.Core.ViewModels.$KC(this.$A,null))],null),null),u=this,t,i,r;n.$1MQ=function(n){u.$1hx(n.Id)};t=Microsoft.Crm.Client.Core.Models.$3O.$2SF(this.$D,!0);t.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HasFocus",!0));t.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("LookupDisplayName",Xrm.Internal.getEntityDisplayName(this.$D)));i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("RootViewModel","RootView",null,null,null,[Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("LookupViewModel","Lookup",null,null,null,t.toArray(),{LookupBarAttachedToControl:!0},null)]);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$2Hl(n.get_ViewModelId(),i,null);r=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43);$0.$0(r)||r.$ns(n.get_ViewModelId(),Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(i));this.$T=n;Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Os.call(this)}};Microsoft.Crm.Client.Core.Commands.$6k=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.$6k.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$T=n};Microsoft.Crm.Client.Core.Commands.$6k.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("CalculateRollupFieldCommand",Microsoft.Crm.Client.Core.Commands.$6k.$n)};Microsoft.Crm.Client.Core.Commands.$6k.$n=function(n){return new Microsoft.Crm.Client.Core.Commands.$6k(n)};Microsoft.Crm.Client.Core.Commands.$6k.prototype={$T:null,$2E:function(){this.$T.set_LastUpdatedLabel(Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.get_$2zR());this.$T.set_LastUpdated("");Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$T,{QueryType:"CalculateRollupField"})}};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand=function(n){this.$$d_$k2=Function.createDelegate(this,this.$k2);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$J=this.$$d_$k2;this.$T=n.InitializationParameters.TargetViewModel;this.$1W=n.InitializationParameters.ViewId;this.$9a=n.InitializationParameters.ApplicationMetadataType};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ChangeViewsCommand",Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$n)};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ChangeViewCommand(t)};Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.prototype={$T:null,$J:null,$1W:null,$9a:0,$k2:function(){return},$2E:function(){this.$T.set_applicationMetadataType(this.$9a);this.$T.set_definitionId(this.$1W)}};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand=function(n){this.$$d_$k2=Function.createDelegate(this,this.$k2);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$J=this.$$d_$k2;this.$T=n.InitializationParameters.TargetViewModel;this.$1Wv=n.InitializationParameters.ViewId;this.$1Wu=n.InitializationParameters.ViewEntityLogicalName};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ChangeChartCommand",Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$n)};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ChangeChartCommand(t)};Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.prototype={$T:null,$J:null,$1Wv:null,$1Wu:null,$k2:function(){return},$2E:function(){this.$T.set_VisualizationEntityLogicalName(this.$1Wu);this.$T.set_VisualizationId(this.$1Wv)}};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand=function(n){this.$$d_$k2=Function.createDelegate(this,this.$k2);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$J=this.$$d_$k2;this.$T=n.InitializationParameters.TargetViewModel;this.$8r=n.InitializationParameters.ViewId;this.$NG=n.InitializationParameters.ViewEntityLogicalName;this.$1nl=n.InitializationParameters.ViewDisplayName};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ChangeChartViewCommand",Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$n)};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand(t)};Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.prototype={$T:null,$J:null,$8r:null,$NG:null,$1nl:null,$k2:function(){return},$2E:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$8v.isInstanceOfType(this.$T)&&(this.$T.set_ViewEntityLogicalName(this.$NG),this.$T.set_ViewId(this.$8r));Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.isInstanceOfType(this.$T)&&(this.$T.set_ViewEntityLogicalName(this.$NG),this.$T.set_ViewDisplayName(this.$1nl),this.$T.set_ViewId(this.$8r))}};Microsoft.Crm.Client.Core.Commands.$R5=function(n,t,i){this.$$d_$k2=Function.createDelegate(this,this.$k2);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.$R5.initializeBase(this);this.$M=$0.$0(i)?{}:i;this.$A=$0.$0(this.$M.RefreshContext)?n:this.$M.RefreshContext;this.$5p=this.$A.$2;Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$A)&&(this.$jX=this.$A.$jX&&this.$A.$5T!==1&&this.$2NV(t));this.set_$1z(this.$$d_$2E);$0.$0(this.$A)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He);this.$D=t};Microsoft.Crm.Client.Core.Commands.$R5.prototype={$A:null,$5p:null,$jX:!0,$D:null,$M:null,get_PrimaryModelName:function(){return this.$D},set_PrimaryModelName:function(n){return this.$D=n,this.set_CanExecute(this.$10H()),n},get_ExternalParameters:function(){return this.$M},set_ExternalParameters:function(n){return this.$M=n,n},$Oh:function(){$0.$0(this.$A)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)},$10H:function(){return Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$A)&&!this.$A.$eg?!1:$0.$0(this.$D)||!this.$2la()?!1:this.$jX||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()},$He:function(){this.set_CanExecute(this.$10H())},$k2:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Microsoft.Crm.Client.Core.ViewModels.$a.$HM(this.$D))this.$A.$Rr();else if(Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$A)){var n=this.$A;n.set_HideDraftsMessage(!1)}},$2NV:function(n){return Microsoft.Crm.Client.Core.ViewModels.$a.$B5()?Xrm.Utility.isEntityOfflineSyncEnabled(n):!0}};Microsoft.Crm.Client.Core.Commands.EmailLinkCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$T=n.InitializationParameters.TargetViewModel;this.set_CanExecute(this.$10H())};Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.EmailLinkCommand(t)};Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.get_$Y=function(){return Microsoft.Crm.Client.Core.Framework.$q.$4t("","EmailLinkCommand")};Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.prototype={$T:null,$Oh:function(){this.$T=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)},$2fv:function(){return Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$T)?"Email a link of selected view":"Email a link of selected record(s)"},$2E:function(){var u,c,s,e,o,b,l,a,v,y,p;if(this.$T){var t="",n="",i=this.$2fl();if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()){u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricEmailLinkCommand");u.start();var w=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),h=w.context.getClientUrlForInteractioncentricDashboard(),f,r="";if(Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(this.$T)&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$T.get_$AH())&&this.$T.get_$AH().$Kp>1){for(c=this.$T.get_$AH(),n="",s=c.$Nd,e=0;e<s.get_Count();e++)o=s.get_$R(e),b=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(o.$D,Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.get_$Y()).done(function(n){var t=n.get_$Dn();i=o.get_$1B().GetValue(t)}),f=Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}/nga/engagementhub.aspx?{1}",h,(a=Microsoft.Crm.Client.Core.ViewModels.$13.$1wz(o,l={val:r}),r=l.val,a)),n+=Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}\n<{1}>\n",i,f);t=Microsoft.Crm.Client.Core.Framework.$3.$IY("mailto:?to=?subject=&body={0}",CrmEncodeDecode.CrmUrlEncode(n))}else f=Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}/nga/engagementhub.aspx?{1}",h,(y=Microsoft.Crm.Client.Core.ViewModels.$13.$1wz(this.$T,v={val:r}),r=v.val,y)),n=Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}\n<{1}>\n",i,f),t=i?Microsoft.Crm.Client.Core.Framework.$3.$IY("mailto:?to=&subject={0}&body={1}",CrmEncodeDecode.CrmUrlEncode(i),CrmEncodeDecode.CrmUrlEncode(n)):Microsoft.Crm.Client.Core.Framework.$3.$IY("mailto:?to=?subject=&body={0}",CrmEncodeDecode.CrmUrlEncode(n));if(u.stop(),u.addParameter(this.$T.get_Id()),t.length>2e3){Xrm.Utility.alertDialog(Microsoft.Crm.Client.Core.Framework.$3.$IY(Xrm.Internal.getResourceString("Error_Message_0x80044331"),"2000"),null);return}p=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$R0(Microsoft.Crm.Client.Core.Framework.LocalStorage.$1F.get_$Ff().$D8("MoCASessionID"),r,this.$2fv());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(p);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$28y(t);return}var k=Microsoft.Crm.Client.Core.ViewModels.$13.$1x7(this.$T,!0),d=String.format("ms-dynamicsxrm://?{0}",Microsoft.Crm.Client.Core.ViewModels.$13.$1x1(this.$T)),g=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("EmailLink_WebLinkText");n=String.format('<a href="{0}">{1}<\/a> (<a href="{2}">{3}<\/a>)',d,i,k,g);t=String.format("mailto:?to=&subject={0}&body={1}",CrmEncodeDecode.CrmUrlEncode(i),CrmEncodeDecode.CrmUrlEncode(n));Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(t):window.open(t)}},$2fl:function(){var n="",t,i,r;return Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(this.$T)&&this.$T.get_componentType()===1?(t=this.$T.get_Root().$H.HeaderGroup,i=t.$H.DashboardName,n=i.get_Data()):Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(this.$T)&&this.$T.get_componentType()===11?n=this.$T.get_Name():Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$T)?n=this.$T.get_Name():Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(this.$T)&&this.$T.get_Root()&&this.$T.get_Root().$1W==="relevanceSearchPage"?n=this.$T.get_$1B().GetValue(this.$T.get_Name()):(r=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$T.get_$1u(),Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.get_$Y()).done(function(t){var i=t.get_$Dn();n=r.$T.get_$1B().GetValue(i)})),n},$10H:function(){return $0.$0(this.$T)||this.$T.get_$BV()?!1:Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$T)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$T.$88)?!1:!0}};Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand=function(n){this.$$d_$1MN=Function.createDelegate(this,this.$1MN);this.$$d_$2tf=Function.createDelegate(this,this.$2tf);this.$$d_$2tg=Function.createDelegate(this,this.$2tg);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$T=n.InitializationParameters.TargetViewModel;this.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F())};Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand(t)};Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand.prototype={$T:null,$2E:function(){var n={QueryType:"ExportToExcelAction",SuccessCallbackParameter:this.$$d_$2tg,FailureCallbackParameter:this.$$d_$2tf};this.$T.$2.$1QO(!0,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ExportToXlsx_ProgressDialog_Header"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$T,n)},$2tg:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$1i,i;t.set_$H6(n);t.set_$KR("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");t.set_$H7(this.$T.$L+".xlsx");t.set_$wf(t.get_$H6().length);Microsoft.Crm.Client.Core.Framework.$3.$9(t.get_$H7())||(i=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$eM.$17K(t,function(n){i.$1MO(t,n)},this.$$d_$1MN))},$2tf:function(n){this.$T.$2.$Z3();Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(n)},$1MO:function(n,t){this.$T.$2.$Z3();var i=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$15k(t,n.get_$4n(),n.get_$KR(),function(n){n&&Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094004)})},$1MN:function(){this.$T.$2.$Z3();Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094004)}};Microsoft.Crm.Client.Core.Commands.OpenDialogCommand=function(n,t,i,r,u){Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.initializeBase(this,[null,4]);this.$Gy=n;this.$QU=t;this.$5m=i;this.$jd=r;this.$Je=u};Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenDialogCommand",Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.$n=function(n,t){var i=null,r=null,u=null,f=null,e=null;return $0.$0(t.InitializationParameters.DialogName)||(i=t.InitializationParameters.DialogName),$0.$0(t.InitializationParameters.DialogOptions)||(r=t.InitializationParameters.DialogOptions),$0.$0(t.InitializationParameters.DialogArguments)||(u=t.InitializationParameters.DialogArguments),$0.$0(t.InitializationParameters.CloseCallback)||(e=t.InitializationParameters.CloseCallback),$0.$0(t.InitializationParameters.CallbackParameters)||(f=t.InitializationParameters.CallbackParameters),new Microsoft.Crm.Client.Core.Commands.OpenDialogCommand(i,r,u,e,f)};Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.prototype={$Gy:null,$QU:null,$5m:null,$jd:null,$Je:null,$4f:12,$Os:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("OpenDialog::"+this.$Gy,1);var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(this.$4f)),t=new Xrm.DialogOptions;$0.$0(this.$QU)||(t.height=this.$QU.height,t.left=this.$QU.left,t.top=this.$QU.top,t.width=this.$QU.width);n.set_PrimaryModelName(this.$Gy);n.$Gy=this.$Gy;n.$QU=t;n.$5m=this.$5m;n.$jd=this.$jd;n.$Je=this.$Je;n.set_DefinitionId(this.$Gy);n.$2Z();this.$T=n;Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Os.call(this)}};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ReconfigureCommand",Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$n)};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$n=function(){return new Microsoft.Crm.Client.Core.Commands.ReconfigureCommand};Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.prototype={$2E:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1nX().$1j5()}};Microsoft.Crm.Client.Core.Commands.CreateFormCommand=function(n,t,i){this.$$d_$2t9=Function.createDelegate(this,this.$2t9);Microsoft.Crm.Client.Core.Commands.CreateFormCommand.initializeBase(this,[n,t,i]);$0.$0(i)||(this.$J2=i.ParentReference);var r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(t);r&&(this.$G4=r.$G4,this.$ZU=r.$Ty);this.$J=this.$$d_$k2;$0.$0(this.$A)||this.$A.AddPropertyChangedListener("PrimaryModelName",this.$$d_$2t9)};Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("CreateCommand",Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$n)};Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$n=function(n,t){var u=n.get_$1u(),i,r;return $0.$0(u)&&!$0.$0(t.InitializationParameters.PrimaryModelName)&&(u=t.InitializationParameters.PrimaryModelName),i=t.InitializationParameters.externalParameters,$0.$0(i)&&(i={}),r=new Microsoft.Crm.Client.Core.Commands.CreateFormCommand(n,u,i),r.set_CanExecute(r.$10H()),r};Microsoft.Crm.Client.Core.Commands.CreateFormCommand.prototype={$G4:!1,$ZU:!1,$J:null,$1b:null,$J2:null,$FK:null,$Mc:null,$19W:null,$2t9:function(){this.set_PrimaryModelName(this.$A.$D)},$Oh:function(){$0.$0(this.$A)||this.$A.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$2t9);$0.$0(this.$Mc)||(this.$Mc.dispose(),this.$Mc=null);Microsoft.Crm.Client.Core.Commands.$R5.prototype.$Oh.call(this)},$2E:function(){var r,u,f,e,n,t,o,i,s;if(!Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.$ZU){r=Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093988);Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(r);return}if(!this.$2la()){u=Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147220960);Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(u);return}$0.$0(this.$19W)||this.$19W();(this.$D!=="annotation"||Microsoft.Crm.Client.Core.Framework.$6.get_$f())&&this.$D!=="connection"?(e=!$0.$0(this.$A.$52),n=null,e?(this.$J2=this.$5p.get_ModelContext().get_$MS(),n=new Xrm.RelationshipReference(this.$A.$52,this.$A.$6c,this.$A.$9A,this.$A.$5T)):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||(n=this.$FK),t=null,$0.$0(this.$J)||(o=this,t=function(n){o.$J(n)}),i=null,$0.$0(this.$1b)||(s=this,i=function(n){var t=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M.$f9(n.errorCode);s.$1b(t)}),Microsoft.Crm.Client.Core.ViewModels.$3W.$8t.$3Ap(this.$A,this.$M),Xrm.Utility.create(this.$D,this.$J2,n,this.$M,t,i)):($0.$0(this.$Mc)||this.$Mc.$Jk===this.$A.$Jk||(this.$Mc=null),$0.$0(this.$Mc)&&(f=this.$A.$Jk,this.$Mc=new Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand(this.$A,null,f,{InitializationParameters:this.$M,InitializeFrom:1}),this.$Mc.$J2=this.$J2,$0.$0(this.$A.$qa)||(this.$Mc.$q=new Microsoft.Crm.Client.Core.Framework.Guid(this.$A.$qa).toString().toLowerCase()),this.$Mc.$J=this.$J),this.$Mc.execute())},$10H:function(){return this.$D==="activitypointer"||this.$D==="socialactivity"||this.$D==="socialprofile"||this.$D==="queueitem"||this.$D==="syncerror"?!1:Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$A)&&this.$A.get_DefinitionId()==="{A5B008AC-07D9-4554-8509-2C05767BFF51}"?!1:this.$G4&&!$0.$0(this.$5p)&&this.$5p.$g===1?!1:!$0.$0(this.$5p)&&(this.$5p.$g===26||this.$5p.$g===47||this.$5p.$g===31||this.$5p.$g===32||this.$5p.$g===17)?!1:Microsoft.Crm.Client.Core.Commands.$R5.prototype.$10H.call(this)},$2la:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$D,0)}};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand=function(n,t,i,r){this.$$d_$2t3=Function.createDelegate(this,this.$2t3);this.$$d_$1hY=Function.createDelegate(this,this.$1hY);this.$$d_$Hd=Function.createDelegate(this,this.$Hd);Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.initializeBase(this,[n,$0.$0(t)?n.get_$1u():t,r]);this.$59=i;this.$1Nz=this.$A.get_$Kc().$D;this.$J=this.$$d_$k2;this.$16Z=this.$$d_$1hY;this.$A.AddPropertyChangedListener("HeaderTitleField",this.$$d_$2t3)};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenAssociateForm",Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$n=function(n,t){var u=n.get_$1u(),r,i;return $0.$0(t.InitializationParameters.TargetModelName)||(u=t.InitializationParameters.TargetModelName),r=null,$0.$0(t.InitializationParameters.PrimaryNameAttribute)||(r=t.InitializationParameters.PrimaryNameAttribute),i=new Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand(n,u,r,t.InitializationParameters.externalParameters),i.set_CanExecute(i.$10H()),$0.$0(i.$5p)||i.$5p.$g!==2&&i.$5p.$g!==40||(i.$5p.AddPropertyChangedListener("ModelContext",i.$$d_$Hd),i.$Hd(null,null)),i};Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.prototype={$1Nz:null,$16Z:null,$18:null,$59:null,$J:null,$Oh:function(){$0.$0(this.$A)||(this.$A.RemovePropertyChangedListener("HeaderTitleField",this.$$d_$2t3),$0.$0(this.$5p)||this.$5p.$g!==2&&this.$5p.$g!==40||(this.$5p.RemovePropertyChangedListener("ModelContext",this.$$d_$Hd),$0.$0(this.$18)||this.$18.remove_$mv(this.$16Z)));Microsoft.Crm.Client.Core.Commands.$R5.prototype.$Oh.call(this)},$10H:function(){return $0.$0(this.$1Nz)?!1:!$0.$0(this.$5p)&&(this.$5p.$g===2||this.$5p.$g===40)&&($0.$0(this.$18)||this.$18.get_$sz())?!1:Microsoft.Crm.Client.Core.Commands.$R5.prototype.$10H.call(this)},$2la:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$D,5),t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$D,1),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$1Nz,2);return n&&t&&i&&this.$A.$eg},$2t3:function(){this.$59=this.$A.$MC},$Hd:function(){$0.$0(this.$18)||this.$18.remove_$mv(this.$16Z);this.$18=this.$5p.get_ModelContext();$0.$0(this.$18)||this.$18.add_$mv(this.$16Z);this.set_CanExecute(this.$10H())},$1hY:function(){this.set_CanExecute(this.$10H())},$2E:function(){var n,t,i,r,e,o,u,s;if(Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$D))if(this.$D==="opportunityproduct"){var h=this.$A.$2.get_ModelContext().get_$MS(),f=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelationshipReference(this.$A.$52,this.$A.$6c,this.$A.$9A,this.$A.$5T),c=this;Xrm.Utility.create(this.$D,h,new Xrm.RelationshipReference(f.$L,f.$AR,f.$mW,f.$5T),null,function(){c.$J()},null)}else n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("AssociateFormViewModel","AssociateForm",null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ExternalContext",new Microsoft.Crm.Client.Core.ViewModels.$KC(this.$A,this.$M))],null),this.$A.get_ModelContext()),n.$JD=this.$A.get_ModelContext().get_$Q7(),n.$52=this.$A.$52,n.$5T=this.$A.$5T,n.$6c=this.$A.$6c,n.$9A=this.$A.$9A,n.add_$2zZ(this.$J),t=null,i=null,this.$D==="activitypointer"&&(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$A)||Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$A)&&this.$A.$2.$q==="gridform"&&!Microsoft.Crm.Client.Core.Framework.$6.get_$3A())?this.$5p.get_IsInteractionCentricEnabled()?(t="InteractionCentricMultipleSourceLookupViewModel",i="InteractionCentricMultipleSourceLookup",r=Microsoft.Crm.Client.Core.Models.$3O.$3Ea(this.$D,!0,this.$59,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveActivitiesEnabledForMobile",null))):(t="MultipleSourceLookup",i="MultipleSourceLookup",r=Microsoft.Crm.Client.Core.Models.$3O.$3Ea(this.$D,!0,this.$59,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveActivitiesEnabledForMobile",null))):this.$5p.get_IsInteractionCentricEnabled()?(t="InteractionCentricLookupViewModel",i="InteractionCentricLookup",r=Microsoft.Crm.Client.Core.Models.$3O.$2SF(this.$D,!0)):(t="LookupViewModel",i="Lookup",r=Microsoft.Crm.Client.Core.Models.$3O.$2SF(this.$D,!0)),r.add(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HasFocus",!0)),e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("RootViewModel","RootView",null,null,null,[Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee(t,i,null,null,null,r.toArray(),{LookupBarAttachedToControl:!0},null)]),Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$2Hl(n.get_ViewModelId(),e,null),o=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43),$0.$0(o)||o.$ns(n.get_ViewModelId(),Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(e));else u={},u[this.$A.$6c+"type"]=this.$A.get_ModelContext().get_$MS().LogicalName,u[this.$A.$6c]=this.$A.get_ModelContext().get_$MS().get_identifier(),u[this.$A.$6c+"name"]=this.$A.get_ModelContext().get_$Q7().get_$8z(),u[this.$A.$6c+"createattribute"]=!0,s=this,Xrm.Utility.create(this.$D,null,null,u,function(){s.$J()},null)}};Microsoft.Crm.Client.Core.Commands.SetHomepageCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$T=n.InitializationParameters.TargetViewModel;this.$1n7()};Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SetHomepageCommand",Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.$n)};Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.SetHomepageCommand(t)};Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.prototype={$T:null,$Oh:function(){this.$T=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)},$2E:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oe=new Microsoft.Crm.Client.Core.Framework.Guid(this.$T.$q);var n=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("SavePersonalization"));n.execute();n.dispose();this.$1n7()},$1n7:function(){this.set_CanExecute(!(!$0.$0(this.$T)&&this.$T.$q===Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oe.toString()))}};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ShowAboutInformationCommand",Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$n)};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$n=function(){return new Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand};Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.prototype={$2E:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel;n.Show()}};Microsoft.Crm.Client.Core.Commands.$3B=function(){};Microsoft.Crm.Client.Core.Commands.$3B.$$cctor=function(){$0.$0(Microsoft.Crm.Client.Core.Commands.$3B.$8t)&&(Microsoft.Crm.Client.Core.Commands.$3B.$8t=new Microsoft.Crm.Client.Core.Commands.$3B)};Microsoft.Crm.Client.Core.Commands.$3B.$2oS=function(n){return n.get_$HV()==="activitypointer"?n.$I&&n.$I.$2A&&n.$I.$2A.LogicalName?!0:!1:!1};Microsoft.Crm.Client.Core.Commands.$3B.$1sa=function(n){var i,t;if(n){for(i=new Sys.StringBuilder,t=0;t<n.get_Count();t++)t>0&&i.append(","),i.append(n.get_$R(t).toString());return i.toString()}return null};Microsoft.Crm.Client.Core.Commands.$3B.prototype={$1Zd:function(n,t,i,r,u){var e=null,o=null,f=null,l=new Microsoft.Crm.Client.Core.Framework.$AL,k=!1,h,a,d,nt,g,p,s,c,tt,v,w,it,y,b;Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(r)&&(k=r.$145);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(r)?(h=r,f=k?h.$A4?h.$A4.get_ModelContext():null:null,o=h.$D,e=h.$1f):Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(r)?(a=r,f=a.get_ModelContext(),o=f.get_$Q7().get_$BZ(),Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(a.$2i)&&(d=a.$2i,e=d.$1f,Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(nt=this,e.$ka(function(n){Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(n)&&n.get_IsSelected()&&l.$3w(n)}))),l.get_Count()>1&&this.$2Og(l)&&r.get_$1u()&&(o=r.get_$1u())):r.get_$1u()?o=r.get_$1u():Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(r.get_ModelContext())&&(o=r.get_ModelContext().get_$HV());switch(n.ParameterType){case 18:case 19:case 20:case 21:return n.Value;case 14:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Ua;case 15:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di;case 16:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$DC;case 1:return i?Xrm.Internal.getEntityCode(i.get_$HV()):null;case 2:return i?Microsoft.Crm.Client.Core.Commands.$3B.$2oS(i)?i.$I.$2A.LogicalName:i.get_$HV():null;case 3:return i?[i.$I.$2A.get_identifier()]:null;case 4:return i?i.$I.$2A.get_identifier():null;case 7:return o?Xrm.Internal.getEntityCode(o):null;case 8:return o?o:null;case 11:case 22:return f?1:0;case 25:return e?e.get_Count():0;case 28:return g=f?1:0,e?e.get_Count()-g:0;case 9:case 23:case 29:case 26:case 24:case 30:case 27:return p=!0,(n.ParameterType===9||n.ParameterType===23||n.ParameterType===29||n.ParameterType===26)&&(p=!1),s=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),c=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.EntityReference)),r&&(n.ParameterType===9||n.ParameterType===23||n.ParameterType===24?f&&(Microsoft.Crm.Client.Core.Framework.$6.get_$f()?(tt=this,l.$ka(function(n){s.add(n.get_ModelContext().$I.$2A.get_identifier());var t=new Mscrm.EntityReference;t.Id=n.get_ModelContext().$I.$2A.get_identifier();t.TypeCode=n.get_ModelContext().$I.$2A.TypeCode;c.add(t)})):(s.add(f.$I.$2A.get_identifier()),v=new Mscrm.EntityReference,v.Id=f.$I.$2A.get_identifier(),v.TypeCode=f.$I.$2A.TypeCode,c.add(v))):e&&(w=null,n.ParameterType===29&&f&&(w=f.$I.$2A.get_identifier()),it=this,e.$ka(function(n){var r,t,i;Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(n)&&(r=n,Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(r.get_ModelContext())&&(t=r.get_ModelContext(),t.$I.$2A.get_identifier()!==w&&(s.add(t.$I.$2A.get_identifier()),i=new Mscrm.EntityReference,i.Id=t.$I.$2A.get_identifier(),i.TypeCode=t.$I.$2A.TypeCode,c.add(i))))}))),t===1?Microsoft.Crm.Client.Core.Commands.$3B.$1sa(s):p?c.toArray():s.toArray();case 10:return f?(y=new Mscrm.EntityReference,y.Id=f.$I.$2A.get_identifier(),y.TypeCode=f.$I.$2A.TypeCode,y):null;case 5:case 12:return Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(r)?new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(r):Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(r.get_$AH())?new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(r.get_$AH()):null;case 6:case 13:return null;case 17:return Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(u)?(b={},b.SourceControlId=u.$M.CommandId,b):null;case 0:default:return null}},$2Og:function(n){for(var r,t=0,u=!1,i=0;i<n.get_Count();i++)if(r=n.get_$R(i),t){if(t!==r.get_ModelContext().$I.$2A.TypeCode){u=!0;break}}else t=r.get_ModelContext().$I.$2A.TypeCode;return u}};Microsoft.Crm.Client.Core.Commands.SearchCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.SearchCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$Km=n};Microsoft.Crm.Client.Core.Commands.SearchCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SearchCommand",Microsoft.Crm.Client.Core.Commands.SearchCommand.$n)};Microsoft.Crm.Client.Core.Commands.SearchCommand.$n=function(n){return new Microsoft.Crm.Client.Core.Commands.SearchCommand(n)};Microsoft.Crm.Client.Core.Commands.SearchCommand.prototype={$J:null,$Km:null,$2E:function(){if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeSearchStart"),!Microsoft.Crm.Client.Core.Framework.$3.$12(this.$Km.$5f)&&this.$Km.$11b){var n=this.$Km.$8l.$56();this.$Km.$1lk();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n);this.$Km.$17M("CategorizedSearch");$0.$0(this.$J)||this.$J()}}};Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$Km=n};Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ExternalSearchCommand",Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.$n)};Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.$n=function(n){return new Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand(n)};Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.prototype={$J:null,$Km:null,$2E:function(){if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeSearchStart"),!Microsoft.Crm.Client.Core.Framework.$3.$12(this.$Km.$5f)&&this.$Km.$11b){var n=this.$Km.$8l.$56();this.$Km.$1lk();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n);this.$Km.$17M("RelevanceSearch");$0.$0(this.$J)||this.$J()}}};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand=function(n,t){Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand.initializeBase(this,[n]);this.$RJ=t};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand.prototype={$RJ:null,$2E:function(){this.get_CanExecute()&&this.$RJ&&(this.$RJ.$Hn=this.$Hn,this.$RJ.execute())}};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand=function(n,t){Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand.initializeBase(this,[n]);this.$13E=t};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand.prototype={$13E:null,$1Nt:!0,$2E:function(){if(this.get_CanExecute()){var n=this.$2ga();this.$13E.$22!==n&&(this.$13E.$22=n,this.$1Nt&&this.$13E.$Rr())}}};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand=function(n){Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.initializeBase(this,[n])};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2LR=function(n){return n.Value?String.format('<condition attribute="{0}" operator="eq" value="{1}" />',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$Vf(n.FieldName),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$Vf(n.Value)):String.format('<condition attribute="{0}" operator="null" />',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$Vf(n.FieldName))};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2Tm=function(n){return String.format('<condition attribute="{0}" operator="on-or-after" value="{1}" /><condition attribute="{0}" operator="on-or-before" value="{2}" />',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$Vf(n.FieldName),Xrm.Soap.CrmDateTimeSerializer.$Dv(n.MinDate).substring(0,10),Xrm.Soap.CrmDateTimeSerializer.$Dv(n.MaxDate).substring(0,10))};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2Tf=function(n){return String.format('<condition attribute="{0}" operator="{1}" ><value>{2}<\/value><value>{3}<\/value><\/condition>',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$Vf(n.FieldName),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$Vf(n.FiscalType),n.Period,n.Year)};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2Tg=function(n){return String.format('<condition attribute="{0}" operator="{1}" value="{2}"><\/condition>',Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$Vf(n.FieldName),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$Vf(n.FiscalType),n.Year)};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2LQ=function(n){return Microsoft.Crm.Client.Core.Models.$7u.isInstanceOfType(n)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2LR(n):Microsoft.Crm.Client.Core.Models.$6u.isInstanceOfType(n)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2Tm(n):Microsoft.Crm.Client.Core.Models.$7v.isInstanceOfType(n)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2Tf(n):Microsoft.Crm.Client.Core.Models.$7w.isInstanceOfType(n)?Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2Tg(n):""};Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.prototype={$2ga:function(){var i="",n,t;if(!$0.$0(this.get_$1EL())&&this.get_$1EL().length>0){for(n='<filter type="and">',t=0;t<this.get_$1EL().length;t++)n+=Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.$2LQ(this.get_$1EL()[t]);n+="<\/filter>";i=n}return i}};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenFloatingDialogCommand",Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$n=function(){return new Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand};Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.prototype={$1En:null,$5m:null,$Ih:0,$FU:0,$Zc:0,$CA:0,$1dD:null,$1Wa:null,$2E:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("OpenFloatingDialog::"+this.$1En,1);Microsoft.Crm.Client.Core.ViewModels.$1s.get_$6().$2Rc(this.$1En,this.$5m,this.$FU,this.$Ih,this.$Zc,this.$CA,this.$1dD,this.$1Wa)}};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand=function(n,t){var i,r;this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.initializeBase(this);i=t.InitializationParameters;this.set_$1z(this.$$d_$2E);this.$9e=n;r=i.TargetViewModel;this.$xD=r.$H.PinnedTile;this.get_CanExecute()&&this.$nr()};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ResizeTileCommand",Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$n)};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ResizeTileCommand(n,t)};Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.prototype={$9e:null,$xD:null,$nr:function(){this.$xD.get_TileMode()===1?(this.$9e.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_ResizeTileCommand_Smaller_Text")),this.$9e.set_ImageName("ReduceTile")):(this.$9e.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_ResizeTileCommand_Larger_Text")),this.$9e.set_ImageName("ExpandTile"))},$2E:function(){this.$xD.get_TileMode()===1?this.$xD.set_TileMode(0):this.$xD.set_TileMode(1);this.$nr()}};Microsoft.Crm.Client.Core.Commands.ChartCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ChartCommand.initializeBase(this);this.$XU=n;this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.ChartCommand.prototype={$XU:null,$Hn:null,$2ht:function(n,t){var i=new Microsoft.Crm.Client.Core.Commands.$2R(this.$XU,17);i.$D=n;i.$1W=Microsoft.Crm.Client.Core.Framework.$1.toString(17).toUpperCase();i.$x={};i.$x.ListDefinitionId=this.$XU.$8r;i.$x.ChartViewId=this.$XU.$8r;i.$x.ChartViewEntityLogicalName=this.$XU.$NG;i.$x.ChartVisualizationId=this.$XU.$JJ;i.$x.ChartVisualizationEntityLogicalName=this.$XU.$ce;i.$x.SelectedHighchartPoint=this.$Hn;t(i)},$2E:function(){var n=this.$XU.$Jg.get_$1u(),t=this;this.$2ht(n,function(n){n.execute()})}};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);"TargetViewModel"in n.InitializationParameters&&(this.$T=n.InitializationParameters.TargetViewModel);this.$4Z="RecordId"in n.InitializationParameters?n.InitializationParameters.RecordId:"";this.$Um="RecordType"in n.InitializationParameters?n.InitializationParameters.RecordType:""};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenInBrowserCommand",Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.prototype={$T:null,$4Z:null,$Um:null,$Oh:function(){this.$T=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)},$2E:function(){var r,t=null,n=null,f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),u=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMobilePhone(),i=Microsoft.Crm.Client.Core.Framework.$6.get_$4U()&&u,h,e,o,c,s;Microsoft.Crm.Client.Core.Framework.$3.$9(this.$4Z)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Um)||(t=this.$Um,n=(i?String.format("{0}{1}?id=%7b{2}%7d&etn={3}","ms-dynamicsxrm","://",new Microsoft.Crm.Client.Core.Framework.Guid(this.$4Z).toString().toUpperCase(),this.$Um):String.format("{0}{1}?id=%7b{2}%7d&etn={3}",f.context.getClientUrl(),this.$20T(u),new Microsoft.Crm.Client.Core.Framework.Guid(this.$4Z).toString().toUpperCase(),this.$Um))+this.$20S(i,u));$0.$0(this.$T)||(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$T)||Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$T)&&!Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&this.$T.get_Root().$g===13?(t=this.$T.get_$1u(),h=new Microsoft.Crm.Client.Core.Framework.Guid(this.$T.get_definitionId()),r=h.toString().toUpperCase(),n=String.format("{0}/main.aspx?viewid=%7b{1}%7d&etn={2}&pagetype=entitylist&viewtype={3}",f.context.getClientUrl(),r,t,this.$T.get_applicationMetadataType()===1?1039:4230)):Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(this.$T)&&this.$T.get_componentType()===1?(e=1030,this.$T.$14X||(e=1031),n=i?String.format("{0}{1}?pagetype=dashboard&id={2}","ms-dynamicsxrm","://",this.$T.get_sourceId()):String.format("{0}/dashboards/dashboard.aspx?dashboardId=%7b{1}%7d&dashboardType={2}",f.context.getClientUrl(),this.$T.get_sourceId(),e)):(o=this.$T.get_ModelContext(),r=o.$I.$2A.Id.toString().toUpperCase(),t=o.$I.$2A.LogicalName,n=(i?String.format("{0}{1}?id=%7b{2}%7d&etn={3}","ms-dynamicsxrm","://",r,t):String.format("{0}{1}?id=%7b{2}%7d&etn={3}",f.context.getClientUrl(),this.$20T(u),r,t))+this.$20S(i,u)));Microsoft.Crm.Client.Core.Framework.$6.get_$4U()&&(c={EntityTypeName:t},s=new Microsoft.Crm.Client.Core.Framework.$M8("OpenInBrowser",c),Microsoft.Crm.Client.Core.Framework.$t.get_$6().$br(s),Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(s.rid));Microsoft.Crm.Client.Core.Framework.$3.$9(n)||(i?Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$2vq(n):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(n):window.open(n))},$20T:function(n){return n?"/m/ef.aspx":"/main.aspx"},$20S:function(n,t){return n?"&pagetype=entity":t?"":"&pagetype=entityrecord"}};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o=function(){};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1zl=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ss?"https://go.microsoft.com/fwlink/p/?LinkID=519214":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ZQ?"https://go.microsoft.com/fwlink/p/?LinkID=519213":"https://go.microsoft.com/fwlink/p/?LinkID=519212"};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$2Ij=function(n,t){Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1WC=(new Date).getTime();window.open(n,"_blank");Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1mj=window.setTimeout(function(){Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1VU=(new Date).getTime();Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1VU-Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1WC-Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1NQ<=Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1q7&&window.open(t,"_blank")},Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1NQ)};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$2MS=function(n,t){Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1CY=window.open(n,"_blank");Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1mj=window.setTimeout(function(){Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1CY&&Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1CY.location.href==="about:blank"&&window.open(t,"_blank")},Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1NQ)};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$2pc=function(n){var i="deeplink",f="#"+i,r=$(document).find("body"),e=String.format('<a id="{0}" target="_blank" href="{1}" style="display: none"><\/a>',i,n),t,u;r.append(e);t=r.find(f).first();u=t.get(0);u.click();t.remove()};Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$2vq=function(n){var t=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance();t.get_$2oW()?Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$2Ij(n,Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1zl()):t.$Ts||t.$Tt?Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$2MS(n,Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1zl()):Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$2pc(n)};Microsoft.Crm.Client.Core.Commands.OpenEmailCommand=function(n){if(this.$$d_$2E=Function.createDelegate(this,this.$2E),Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.initializeBase(this),this.set_$1z(this.$$d_$2E),"TargetViewModel"in n.InitializationParameters&&(this.$T=n.InitializationParameters.TargetViewModel,this.$T&&this.$T.get_ModelContext())){if(this.$UE=this.$T.get_ModelContext().GetValue("messageid"),this.$4Z=this.$T.get_ModelContext().get_Id(),this.$T.get_ModelContext().GetValue("data")){var t=JSON.parse(this.$T.get_ModelContext().GetValue("data"));this.$14x=t.mailweblink;this.$UE=t.messageid}this.$1Wn=this.$T.get_ModelContext().GetValue("cardtype");this.$I=this.$T.get_ModelContext().GetValue("recordid")}};Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenEmailCommand",Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.OpenEmailCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.prototype={$T:null,$14x:null,$UE:null,$4Z:null,$I:null,$1Wn:null,$2E:function(){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$14x))if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(this.$14x):window.open(this.$14x),this.$1Wn!=="0")this.$4Z=IsNull(Xrm.Page.data)?"":this.$4Z;else{var n=Microsoft.Crm.Client.Core.Framework.Guid.$9(this.$I.Id.toString())?"Dashboard":"Form",t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PK("4101","DelveActionHubActionClickEvent","","",0,"Success","",0,"OpenEmailForDefaultCardType",n,"","delveactionhub",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),Microsoft.Crm.Client.Core.Framework.Guid.get_empty());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)}}};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand=function(n){this.$$d_$k2=Function.createDelegate(this,this.$k2);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$J=this.$$d_$k2;this.$T=n.InitializationParameters.TargetViewModel;this.$1W=n.InitializationParameters.GridDefinitionId;this.$D=n.InitializationParameters.PrimaryModelName;this.$88=n.InitializationParameters.ContextFilter};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenRelatedGridCommand",Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.prototype={$T:null,$J:null,$1W:null,$D:null,$88:null,$k2:function(){return},$2E:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this.$T,13);n.$D=this.$D;n.$x={};n.$x.ListDefinitionId=this.$1W;n.$x.ContextFilter=this.$88;n.execute();n.dispose()}};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$A=n};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SavePersonalization",Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$n)};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$n=function(n){return new Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand(n)};Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.prototype={$A:null,$2E:function(){var i=null,n=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A,t,r,u;if(Microsoft.Crm.Client.Core.ViewModels.$DB.isInstanceOfType(this.$A))t=this.$A,i=t.get_$vH(),n=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A(t.get_$Uh(),i.$20());else{Microsoft.Crm.Client.Core.Framework.Trace.logError(1015,"Attempted to save personalization with unrecognized context.");return}r=this;u=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1E6(n).then(function(){Microsoft.Crm.Client.Core.Framework.$8.$1E("SavePersonalizationCommand_OnExecute_CreateUserPersonalization_Success",1015,n.$2H)},function(n){Error.create(String.format("SavePersonalizationCommand has failed in CreateUserPersonalization:\n\n {0}",n.$F))})}};Microsoft.Crm.Client.Core.Commands.WebResourceCommand=function(n,t,i){var r,f;if(this.$$d_$2E=Function.createDelegate(this,this.$2E),Microsoft.Crm.Client.Core.Commands.WebResourceCommand.initializeBase(this),this.$A=n,this.set_$1z(this.$$d_$2E),this.$T=i,this.$1Up=t,r=!1,!$0.$0(t))for(var e=t,o=e.length,u=0;u<o;++u)f=e[u],(f.ActionType===3||f.ActionType===1)&&(r=!0);this.set_CanExecute(r)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("WebResourceCommand",Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$n)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$n=function(n,t){var i=t.InitializationParameters.RibbonActionHandler;return new Microsoft.Crm.Client.Core.Commands.WebResourceCommand(n,i,t.InitializationParameters.TargetViewModel)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX=function(n,t){return $0.$0(n)?$0.$0(t):$0.$0(t)?!1:n.toLowerCase()===t.toLowerCase()};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$2W2=function(n,t,i,r){var u=n.Address,e,f,o,s;for(n.PassParameters&&(u=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(u,"orgname",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$GI.toString())),u=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(u,"userlcid",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$DC.toString())),u=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(u,"orglcid",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di.toString()))),e=i.get_$1B(),$0.$0(e)&&!$0.$0(i.get_Root())&&(e=i.get_Root().get_$1B()),f=0;f<t.length;f++)o=t[f].ParameterName,s=Microsoft.Crm.Client.Core.Commands.$3B.$8t.$1Zd(t[f],1,e,i,r),!IsNull(o)&&o.length>0&&(u=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(u,o,CrmEncodeDecode.CrmUrlEncode(s.toString())));Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Prepared [{1}] parameters for url link: [{0}]",n.Address,t.length);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(u):window.open(u,(new Date).getTime().toString(),n.WinParameters)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1Zl=function(n,t,i,r,u,f){var e=!1,c,o,l,a,v,y,h,b,p,w,s;if(n==="openObj"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_common/global.ashx")?(n="Mscrm.RibbonActions.openObjFromClassic",t="/_static/_common/scripts/SharedRibbonActions.js"):n==="Mscrm.AddActivity.addActivityToFormFromsubgrid"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_common/global.ashx")?(n="Mscrm.GridCommandActions.addActivityToFormFromSubgridFromClassic",t="/_static/_common/scripts/SharedRibbonActions.js"):n==="createNewLineItem"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/SFA/quotes/qoi_script.js")?(n="Mscrm.GridCommandActions.createNewLineItem",t="/_static/_common/scripts/CommandBarActions.js"):n==="Mscrm.GridCommandActions.addNewFromSubGridStandard"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/_common/scripts/CommandBarActions.js")?Xrm.Page.context.client.getClient()==="Mobile"&&(n="Mscrm.GridCommandActions.createNewLineItem",t="/_static/_common/scripts/CommandBarActions.js"):n==="ApplyTemplate"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/_controls/emailbody/emailbody.js")?Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(n="Mscrm.CommandBarActions.insertEmailTemplate",t="/_static/_common/scripts/CommandBarActions.js"):n==="Mscrm.GridRibbonActions.addExistingFromSubGridStandard"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/_common/scripts/RibbonActions.js")?n="Mscrm.GridRibbonActions.addExistingFromSubGrid":n==="Mscrm.RibbonActions.addConnectionFromForm"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/_common/scripts/RibbonActions.js")?n="Mscrm.RibbonActions.addConnectionFromForm":n==="Mscrm.GridCommandActions.mergeRecords"&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/_common/scripts/CommandBarActions.js")&&(t="/_static/_common/scripts/CommandBarActions.js"),Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/_common/scripts/RibbonActions.js"))switch(n){case"Mscrm.GridRibbonActions.addNewFromSubGridStandard":case"Mscrm.GridRibbonActions.addExistingFromSubGrid":case"Mscrm.GridRibbonActions.addToQueue":case"Mscrm.GridRibbonActions.assignSelectedRecords":case"Mscrm.GridRibbonActions.canMarkComplete":case"Mscrm.GridRibbonActions.gridDisassociate":case"Mscrm.GridRibbonActions.isBulkSaveAsCancelledValid":case"Mscrm.GridRibbonActions.isBulkSaveAsCompletedValid":case"Mscrm.GridRibbonActions.setRegarding":case"Mscrm.GridRibbonActions.notOnMarketingListOrListUnlocked":case"Mscrm.GridRibbonActions.notOnMarketingListOrListActive":case"Mscrm.GridRibbonActions.deleteRecords":case"Mscrm.GridRibbonActions.isActionCardButtonVisible":case"Mscrm.GridRibbonActions.isRegardingObjectPresent":case"Mscrm.RibbonActions.alwaysEnabled":case"Mscrm.RibbonActions.isAutoSaveEnabled":case"Mscrm.RibbonActions.isRefreshForm":case"Mscrm.RibbonActions.showAbandon":case"Mscrm.RibbonActions.showFinish":case"Mscrm.RibbonActions.showReactivate":case"Mscrm.RibbonActions.showSetActiveStage":case"Mscrm.RibbonActions.openNewRecord":case"Mscrm.RibbonActions.saveForm":case"Mscrm.RibbonActions.saveAndCloseForm":case"Mscrm.OpportunityActions.close":case"Mscrm.RibbonActions.notOnMarketingListOrListUnlocked":case"Mscrm.RibbonActions.notOnMarketingListOrListActive":case"Mscrm.RibbonActions.enableAddCaseForContract":case"Mscrm.RibbonActions.enableAddCaseForContractLine":case"Mscrm.RibbonActions.isEntitlementActive":case"Mscrm.RibbonActions.addConnectionFromForm":case"Mscrm.GridRibbonActions.associateChildCase":t="/_static/_common/scripts/SharedRibbonActions.js"}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/_forms/form.js"))switch(n){case"changeState":case"assignObject":n="Mscrm.FormAction."+n;t="/_static/_common/scripts/SharedRibbonActions.js"}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/sfa/opps/opps.js"))switch(n){case"complete":case"reactivate":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/sfa/leads/lead.js"))switch(n){case"convertLead":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/activities/activity.js"))switch(n){case"SaveAsCompleted":case"convertToOpportunity":case"interactionCentricConvertToCase":case"convertToCase":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/cs/cases/cases.js"))switch(n){case"cancel":case"resolve":case"runRoutingRuleAndClose":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/activities/email.js"))switch(n){case"send":e=Microsoft.Crm.Client.Core.ViewModels.$51.$8t.$22O(n,t,i,r,u,f);break;case"reply":case"replyall":case"forward":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/sfa/invoice/invoice.js"))switch(n){case"getProductsForInvoice":case"CloseInvoice":case"isInvoicePaid":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/SFA/quotes/quote.js"))switch(n){case"closeQuote":case"acceptQuoteOrCreateOrder":case"activateQuote":case"printQuote":case"reviseActiveOrClosedQuote":case"getProductsForQuote":case"isQuoteActive":case"isQuoteActiveOrWon":case"isQuoteActiveOrClosed":e=!0}if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/sfa/salesorder/salesorder.js"))switch(n){case"reCalculate":case"getProductsForOrder":case"closeOrder":case"fulfillOrder":case"processOrder":case"isSalesorderActive":case"isSalesorderFulfilledOrActive":case"isSalesorderFulfilled":case"isBackOfficeInstalled":case"isSalesorderSubmitted":e=!0}if(c=new Microsoft.Crm.Client.Core.Models.Constants.$JV(n),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Preparing parameters for function [{0}]",n),o=null,o=r.get_$1B(),$0.$0(o)&&!$0.$0(r.get_Root())&&(o=r.get_Root().get_$1B()),$0.$0(i)||(c.parameterArray=i.map(function(n){return Microsoft.Crm.Client.Core.Commands.$3B.$8t.$1Zd(n,3,o,r,u)}),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Prepared [{1}] parameters for function [{0}]",n,i.length)),l=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV)),l.add(c),t.startsWith("$webresource:")||Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/_common/scripts/CommandBarActions.js")||Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/_common/scripts/SharedRibbonActions.js")||Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/activities/activity.js")||e)a=null,t.startsWith("$webresource:")&&(a=[t.replace("$webresource:","")]),v=null,e&&(v=[t]),y=new Microsoft.Crm.Client.Core.Models.$JM(l,null,a,v,null,new Microsoft.Crm.Client.Core.Models.$J7(3)),h=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),!$0.$0(r)&&(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.isInstanceOfType(r)||Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.isInstanceOfType(r.get_$AH()))&&(b=Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.isInstanceOfType(r)?r:r.get_$AH(),h.grid=new Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper(b)),y.runCompleteCallback=function(t){!$0.$0(t)&&t.length>0?($0.$0(f)||(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Function name: {0} - Evaluated to {1}",n,t[0]),f.resolve(t[0])),h.grid=null):($0.$0(f)||(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Function name: {0} - Evaluation failed.",n),f.reject()),h.grid=null)},Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Calling handler for function [{0}]",n),Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(y);else if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"MobileApplicationSystemActions.js"))p=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(r,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("System",n)),p.execute(),p.dispose();else if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"MobileApplicationControlActions.js"))w=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(r,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("ControlCommand",n)),w.execute(),w.dispose();else if(Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$BX(t,"/_static/_forms/addrelated.js"))switch(n){case"locAddObjTo":Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(s=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(r,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenEmailAttachmentPopupCommand")),!$0.$0(s)&&s.get_CanExecute()&&(s.execute(),s.dispose()))}else Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Invalid library name.  Function name: {0} - Library: {1}",n,t),$0.$0(f)||f.resolve(!1)};Microsoft.Crm.Client.Core.Commands.WebResourceCommand.prototype={$A:null,$T:null,$1Up:null,$2E:function(){for(var n,i,r=this.$1Up,u=r.length,t=0;t<u;++t)n=r[t],n.ActionType===3?(i=n.Attributes,Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(this.$T)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Kg(this.$T),Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1Zl(i.FunctionName,i.Library,n.Parameters,this.$T,this.$A,null)):n.ActionType===1&&Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$2W2(n.Attributes,n.Parameters,this.$T,this.$A)},$Oh:function(){Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.set_CanExecute(Xrm.Internal.isFeatureEnabled("FCB.GuidedHelp"))};Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("GuidedHelpSettingsCommand",Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.$n)};Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.$n=function(){return new Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand};Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.prototype={$2E:function(){var n=Xrm.Internal.isGuidedHelpEnabledForUser(),t=this;Xrm.Internal.setGuidedHelpProperties(!n).always(function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$10a(1,Microsoft.Crm.Client.Core.Framework.$7.$k("Settings updated").$Oa()):window.location.reload(!0)})}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Commands");Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ShowLandingPageSettingsCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.$n=function(){return new Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.prototype={$2E:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel;n.$2Z();n.Show()}};Microsoft.Crm.Client.Core.ViewModels.Commands.$B5=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.$B5.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.ViewModels.Commands.$B5.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ShowPaneStackingSettingCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$B5.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$B5.$n=function(){return new Microsoft.Crm.Client.Core.ViewModels.Commands.$B5};Microsoft.Crm.Client.Core.ViewModels.Commands.$B5.prototype={$2E:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel;n.$2Z();n.Show()}};Microsoft.Crm.Client.Core.ViewModels.Commands.$BH=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.$BH.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$5j=n};Microsoft.Crm.Client.Core.ViewModels.Commands.$BH.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ToggleRecentlyViewedItemPinStatusCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$BH.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$BH.$n=function(n){return new Microsoft.Crm.Client.Core.ViewModels.Commands.$BH(n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$BH.prototype={$5j:null,$2E:function(){var n=!this.$5j.get_PinStatus();this.$5j.$EV.set_$1iP(n);this.$5j.$EV.$I6=new Date;Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$1MH(this.$5j.$EV)}};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OfflineOptOutCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.$n=function(){return new Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.prototype={$2E:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GG().$278()}};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OfflineOptinCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.$n=function(){return new Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand};Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.prototype={$2E:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GG().$277()}};Microsoft.Crm.Client.Core.ViewModels.Commands.$8d=function(n){var t,r,i;this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.$8d.initializeBase(this);this.set_$1z(this.$$d_$2E);t=null;this.$N2=null;n.InitializationParameters.SuccessCommand?this.$N2=n.InitializationParameters.SuccessCommand:(r=n.InitializationParameters.TargetViewModel,i=r.get_Root(),this.$2T=i.$67("ProcessManager"),t=i.get_ModelContext(),this.$8h=t.GetValue("stageid"),this.set_CanExecute(this.$143()))};Microsoft.Crm.Client.Core.ViewModels.Commands.$8d.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("BackProcessStageCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$8d.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$8d.$n=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.Commands.$8d(t)};Microsoft.Crm.Client.Core.ViewModels.Commands.$8d.prototype={$2T:null,$8h:null,$N2:null,$Oh:function(){$0.$0(this.$N2)||this.$N2.dispose();Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)},$2E:function(){if(this.$N2)this.$N2.execute();else{if($0.$0(this.$8h))return;var n=this.$2T.$Yw(this.$8h.toString());if(!n)return;this.$2T.$17h(n.stageId,null,!0)}},$143:function(){return $0.$0(this.$2T)?!1:this.$2T.$1Cr(this.$8h.toString())&&this.$2T.$Cf===this.$8h.toString()}};Microsoft.Crm.Client.Core.ViewModels.Commands.$9A=function(n){this.$$d_$1uT=Function.createDelegate(this,this.$1uT);Microsoft.Crm.Client.Core.ViewModels.Commands.$9A.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Commands.$9A.$X=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$9A(n);return new Microsoft.Crm.Client.Core.Framework.Binding.$RG(t.$$d_$1uT,1011)};Microsoft.Crm.Client.Core.ViewModels.Commands.$9A.prototype={$1uT:function(){var n=this.$35,i=this.$35.$A4.get_$1B(),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.Guid))(n.$5C.slice(0,n.$5C.length));t.remove(i.get_$25().$Ci);n.set_$1lr(t.toArray());Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.prototype.$1uT.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Commands.$AS=function(n){this.$$d_$1i=Function.createDelegate(this,this.$1i);Microsoft.Crm.Client.Core.ViewModels.Commands.$AS.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Commands.$AS.$X=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$AS(n);return new Microsoft.Crm.Client.Core.Framework.Binding.$RG(t.$$d_$1i,1011)};Microsoft.Crm.Client.Core.ViewModels.Commands.$AS.prototype={$1i:function(){var u=this.$35.$A4,n,c,r,t,e,f,i,a,s,h;if($0.$0(this.$35.$L6)||(u=this.$35.$L6,this.$35.$L6=null),!$0.$0(u))if(n=u.get_ModelContext(),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(n.get_$Du())&&(!n.get_$25().$FR||n.get_$25().$FR===3))c=Microsoft.Crm.Client.Core.Models.$c.$X(n.get_$Du()),r=new Microsoft.Crm.Client.Core.Commands.$2R(u,2),r.$18=c,r.$D=n.get_$25().$C8,r.execute(),r.dispose();else if(n.get_$25().$FR===1||n.get_$25().$FR===2)t=new Microsoft.Crm.Client.Core.Commands.$2R(this.$35,13),t.$D=n.get_$25().$C8,t.$1W=n.get_$25().$C8,e=n.get_$25().$Ci,t.$x={},t.$x.ListDefinitionId=e.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())?n.get_$25().$C8:e.toString(),t.$x.ContextFilter=n.get_$25().$ne,n.get_$25().$Bf&&(t.$x.RelationshipExtraCondition=n.get_$25().$Bf),n.get_$25().$hL&&(t.$x.RelationshipName=n.get_$25().$hL),n.get_$25().$5T>=0&&(t.$x.RelationshipType=n.get_$25().$5T),n.get_$25().$6c&&(t.$x.ReferencingName=n.get_$25().$6c),n.get_$25().$9A>=0&&(t.$x.RelationshipRoleOrdinal=n.get_$25().$9A),n.get_$25().$FR===2&&(t.$x.ParentEntityViewModel=this.$35.$2),t.execute(),t.dispose();else if(n.get_$25().$FR===4)f=new Microsoft.Crm.Client.Core.Commands.$2R(this.$35,1),f.$1W=n.get_$25().$Ci.toString(),f.execute(),f.dispose();else if(n.get_$25().$FR===5){i={};for(var l=n.get_$25().$ne.split("&"),v=l.length,o=0;o<v;++o)a=l[o],s=a.split("="),i[CrmEncodeDecode.CrmUrlDecode(s[0])]=CrmEncodeDecode.CrmUrlDecode(s[1]);$0.$1Y(i.powerBIComponentType)||(i.powerBIComponentType=Number.parseInvariant(i.powerBIComponentType));h=new Microsoft.Crm.Client.Core.Commands.$2R(null,50);h.$x=i;h.execute()}}};Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry.initializeBase(this,[n,167]);this.set_Name(t);this.$2p=i};Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry.prototype={$L:null,get_Name:function(){return this.$L},set_Name:function(n){return this.$L!==n&&(this.$L=n,this.$7("Name")),n},$2p:null,get_Id:function(){return this.$2p},set_Id:function(n){return this.$2p=n,n}};Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$PN=n.StageViewModel;this.$N2=n.SuccessCommand};Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ProcessStageGateCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ.$n=function(n,t){var i=t.InitializationParameters;return new Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ(i)};Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ.prototype={$PN:null,$N2:null,$2E:function(){this.$PN.$2NP()&&!this.$PN.isBusinessProcessAborted()&&this.$N2.execute()},$Oh:function(){$0.$0(this.$N2)||(this.$N2.dispose(),this.$N2=null);this.$PN=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Commands.$B3=function(n){var t,i;this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.$B3.initializeBase(this);this.set_$1z(this.$$d_$2E);t=n.InitializationParameters.TargetViewModel;this.$2=t.get_Root();this.$2T=this.$2.$67("ProcessManager");i=this.$2.get_ModelContext();this.$8h=i.GetValue("stageid");this.set_CanExecute(this.$143())};Microsoft.Crm.Client.Core.ViewModels.Commands.$B3.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SetActiveStageCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$B3.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$B3.$n=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.Commands.$B3(t)};Microsoft.Crm.Client.Core.ViewModels.Commands.$B3.prototype={$2:null,$2T:null,$8h:null,$2E:function(){$0.$0(this.$8h)||this.$2T.$17h(this.$2T.$Cf,null,!0)},$143:function(){if($0.$0(this.$2T))return!1;var n=this.$2T.$Cf!==this.$2T.get_$5u().get_$6U();return n&&this.$2T.$tM(this.$2T.$Cf)}};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ShowDiagnosticsAndErrorsCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.$n=function(){return new Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand};Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.prototype={$2E:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel;n.Show()}};Microsoft.Crm.Client.Core.ViewModels.Commands.$8u=function(n){this.$$d_$um=Function.createDelegate(this,this.$um);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.$8u.initializeBase(this);this.set_$1z(this.$$d_$2E);$0.$0(n.SourceEntityLogicalName)||(this.$wm=n.SourceEntityLogicalName);$0.$0(n.SourceEntityId)||(this.$wl=n.SourceEntityId);$0.$0(n.TargetEntityLogicalName)||(this.$nf=n.TargetEntityLogicalName);$0.$0(n.TargetViewModel)||(this.$T=n.TargetViewModel);$0.$0(n.TargetEntityAttribute)||(this.$1mP=n.TargetEntityAttribute)};Microsoft.Crm.Client.Core.ViewModels.Commands.$8u.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("CreateNavigationEntityCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$8u.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$8u.$n=function(n,t){var i=t.InitializationParameters;return new Microsoft.Crm.Client.Core.ViewModels.Commands.$8u(i)};Microsoft.Crm.Client.Core.ViewModels.Commands.$8u.prototype={$T:null,$wm:null,$wl:null,$nf:null,$1mP:null,$2E:function(){var n={QueryType:"CreateNavigationEntity",SourceEntityLogicalName:this.$wm,SourceEntityId:this.$wl,TargetEntityLogicalName:this.$nf,TargetEntityAttribute:this.$1mP,OnSuccess:this.$$d_$um};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$T,n)},$um:function(n){var i={NextEntityId:new Microsoft.Crm.Client.Core.Framework.Guid(n),NextEntityLogicalName:this.$nf,TargetViewModel:this.$T,ActionType:"NavigateToNextEntity"},t=new Microsoft.Crm.Client.Core.ViewModels.Commands.$AH(i);t.execute();t.dispose()}};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.initializeBase(this);this.$5j=n;this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("RequestClose",Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$n=function(n){return new Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand(n)};Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.prototype={$5j:null,$2E:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$12c(this.$5j.get_Id());$0.$0(n)||n(this.$5j)}};Type.registerNamespace("XrmUI");XrmUI.XrmUIHelper=function(){};XrmUI.XrmUIHelper.prototype={loadScripts:function(n,t){for(var u,f,o=document.getElementsByTagName("head")[0],r=n,e=r.length,i=0;i<e;++i)u=r[i],f=Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6(),f.$1Ms.$2XN(u,t)},getTopZIndex:function(){for(var r,n,u,f=document.body.getElementsByTagName("*"),t=0,i=0;i<f.length;i++)r=window.getComputedStyle(f[i]),r.position!=="static"&&(n=r.zIndex,n!=="auto"&&n&&(u=Number.parseInvariant(n),u>t&&(t=u)));return t},isPageLoaded:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();return n.$lM}};Type.registerNamespace("Xrm.Interfaces");Xrm.Interfaces.IKnowledgeArticle=function(){};Xrm.Interfaces.IKnowledgeArticle.registerInterface("Xrm.Interfaces.IKnowledgeArticle");Xrm.Interfaces.IServiceDirectory=function(){};Xrm.Interfaces.IServiceDirectory.registerInterface("Xrm.Interfaces.IServiceDirectory");Xrm.Interfaces.IXrmGridControl=function(){};Xrm.Interfaces.IXrmGridControl.registerInterface("Xrm.Interfaces.IXrmGridControl");Xrm.Interfaces.IXrmSubGridControl=function(){};Xrm.Interfaces.IXrmSubGridControl.registerInterface("Xrm.Interfaces.IXrmSubGridControl");Xrm.Interfaces.IXrmTrace=function(){};Xrm.Interfaces.IXrmTrace.registerInterface("Xrm.Interfaces.IXrmTrace");Xrm.Interfaces.IXrmTraceListener=function(){};Xrm.Interfaces.IXrmTraceListener.registerInterface("Xrm.Interfaces.IXrmTraceListener");Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.ClientApi");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN.registerInterface("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$DD=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$DD.registerInterface("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$DD");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.prototype={offlineFCBOff:-7e3,userOptedOff:-7001,mobileOfflineFeatureUnavailable:-7002,mobileOfflineDatastoreUnavailable:-7003,mandatoryParameterIsNull:-7004,invalidFieldValue:-7005,invalidIdGuid:-7006,maxPageSizeNotNumber:-7007,maxPageSizeNonPositive:-7008,optionParamStartIncorrect:-7009,operationWithoutPrivilege:-7010,entityAttributeMetadataNotFound:-7011,invalidAttribute:-7012,offlineAttributeNotSupported:-7013,invalidEntityName:-7014,entityNotEnabled:-7015,entityUnavailableMetadataMismatch:-7016,entityMetadataNotFound:-7017,invalidQueryOptionString:-7018,queryOptionIsNull:-7019,queryOptionIsInvalid:-7020,entityNavigationPropertyNotDefined:-7021,entityNavigationPropertyIsInvalid:-7022,topQueryIsInvalid:-7023,orderByDirectionIsInvalid:-7024,fetchXmlIsInvalid:-7025,noQueryOptionsWithFetchXml:-7026,queryOptionNotSupported:-7027,retrieveQueryOptionNotSupported:-7028,recordNotFound:-7029,sqlGenerationError:-7030,sqlExecutionError:-7031,unexpectedError:-7032,invalidValueForAttribute:-7033,entityNotAllowed:-7034};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.registerEnum("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4",!1);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QR=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QR.initializeBase(this,[null,null,null,n]);this.$1CN=t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QR.prototype={$1CN:null,getValue:function(){return this.$1CN},fireOnChange:function(){var n=this.$1CN;$0.$0(n)||n.$2Ah()}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QS=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QS.initializeBase(this);this.$va=n;this.$6L=t;this.$51=i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QS.prototype={$va:null,$6L:null,$51:null,getDisplayState:function(){return this.$va.$13s?"expanded":"collapsed"},getLabel:function(){return this.$va.$1G},getVisible:function(){return this.$va.$4u},setLabel:function(n){this.$va.set_Label(n)},setVisible:function(){},setDisplayState:function(){},getName:function(){return this.$6L},getParent:function(){return this.$51}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QT=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QT.initializeBase(this);this.$hG=n;this.$51=t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QT.prototype={$hG:null,$51:null,getDisplayState:function(n){return n===this.$hG.$O5?"expanded":"collapsed"},getLabel:function(){return this.$hG.$1G},getVisible:function(){return this.$hG.$4u},setLabel:function(n){this.$hG.set_Label(n)},setVisible:function(){},setDisplayState:function(n,t){n==="expanded"&&this.$hG.set_CurrentSelectedValue(t)},getParent:function(){return this.$51},getName:function(){return this.$hG.$O5}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2RR=function(n,t,i){var r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$CL(n),o,h,c,e;if(!$0.$0(t)){if(!$0.$0(t.get_$bT())&&t.get_$bT().get_$LS().length>0){o=t.get_$bT().get_$LS();for(var s=o,a=s.length,u=0;u<a;++u)h=s[u],r.$64(h,r.$Bh)}if($0.$0(t.get_$TJ())||$0.$0(t.get_$TJ().$6C)||(r.$6C=t.get_$TJ().$6C),!$0.$0(t.get_$1MV())&&t.get_$1MV().get_$1MW().length>0){c=t.get_$1MV().get_$1MW();for(var l=c,v=l.length,f=0;f<v;++f)e=l[f],r.$2Kh(e.$AR,e.get_$2np())}}return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$37W(r,t,i),r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2Sf=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.CreateQueryFromEntityQueryExpression","CreateQueryFromEntityQueryExpression has started");var r=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.DataApi.$7A,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$1tp(n,i).then(function(i){var u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2Sh(i,n.$z,t);u.$4W=n.$CA;u.set_$Ra(n.$Ca);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.CreateQueryFromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$IY("CreateQueryFromEntityQueryExpression completed successfully for entity {0}",n.$z));r.resolve(u)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineQueryBuilder.CreateQueryFromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$IY("CreateSqlfromEntityQueryExpression failed for entity {0} with error {1}",n.$z,t.$F));r.reject(t)}),r.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2Sv=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.CreateRelatedQueryFromEntityQueryExpression","CreateRelatedQueryFromEntityQueryExpression has started");var e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(i),o=new Xrm.Objects.EntityReference(t.$z,Microsoft.Crm.Client.Core.Framework.Guid.newGuid()),u=new Microsoft.Crm.Client.Core.Storage.DataApi.$Dw(e,o,""),f=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.DataApi.$Dw,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$1tp(t,r).then(function(n){u.$P=t.$z;u.$4b=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(new Array(0));u.$9K.$PZ(2,n);u.$4W=5e3;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.CreateRelatedQueryFromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$IY("CreateRelatedQueryFromEntityQueryExpression completed successfully for entity {0}",t.$z));f.resolve(u)},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineQueryBuilder.CreateRelatedQueryFromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$IY("CreateSqlfromEntityQueryExpression failed for entity {0} with error: {1}",t.$z,n.$F));f.reject(n)}),f.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2Sh=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.CreateQueryFromSql","Started");var u=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17,r=new Microsoft.Crm.Client.Core.Storage.DataApi.$7A(u,i);return r.$P=t,r.$4b=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(new Array(0)),r.$9K.$PZ(2,n),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.CreateQueryFromSql","Completed"),r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$37W=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.SetQueryPageProperties","Started");var r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$21N(t,i);n.$CA=r;n.$Ca=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$21M(t);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.SetQueryPageProperties","Completed")};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$1tp=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.CreateSqlfromEntityQueryExpression","CreateSqlfromEntityQueryExpression has started");var i=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2Aj(n,t).then(function(){var t,r;n.$1Rz=!1;t=new Microsoft.Crm.Client.Core.Storage.Common.QueryGenerator.$OJ(new Microsoft.Crm.Client.Core.Offline.Common.QueryGenerator.$Ol,n);try{r=t.$1Hm();Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.CreateSqlfromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$IY("CreateSqlfromEntityQueryExpression completed successfully for entity {0}",n.$z));i.resolve(r)}catch(u){i.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.$3.$IY("Error While Genarating Sql , Exception : {0}",u.toString())));return}},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineQueryBuilder.CreateSqlfromEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$IY("RefreshMetadataForEntityQueryExpression failed for entity {0} with the error: {1}",n.$z,t.$F));i.reject(t)}),i.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2Aj=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression","RefreshMetadataForEntityQueryExpression has started");var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$i(n.$z,t).then(function(){var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2ej(n,r);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetAttributesReferencedInEntityQueryExpression for the entity {0}",n.$z));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(n.$z,r.toArray()),t).then(function(){var u,o;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveMultipleAttributeMetadata completed successfully for {0} and the attributes {1}",n.$z,r.toArray().toString()));u=[];for(var e=n.$KN,s=e.length,f=0;f<s;++f)o=e[f],Array.add(u,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2Aj(o,t));Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(u).then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression","RefreshMetadataForEntityQueryExpression completed successfully for Linked Entities");i.resolve(!0)},function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$IY("RefreshMetadataForEntityQueryExpression failed for linked entities with error {0}",n.$F));i.reject(n)})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveMultipleAttributeMetadata failed for the entity {0} with the error {1}",n.$z,t.$F));i.reject(t)})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineQueryBuilder.RefreshMetadataForEntityQueryExpression",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetEntityMetadata failed for entity {0} with the error {1}",n.$z,t.$F));i.reject(t)}),i.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2ej=function(n,t){for(var s,c,f,e,o=n.$2Q,a=o.length,i=0;i<a;++i)s=o[i],Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$ze(s.$L,t);for(var h=n.$Bb,v=h.length,r=0;r<v;++r)c=h[r],Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$ze(c.$L,t);for(var l=n.$KN,y=l.length,u=0;u<y;++u)f=l[u],$0.$0(f.$14k)||Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$ze(f.$14k,t);Object.getType(n)===Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$DM&&(e=n.$1Kn,$0.$0(e)||Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$ze(e,t));Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$1or(n.$6C,t)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$1or=function(n,t){var f,o;if(!$0.$0(n)){if(!$0.$0(n.get_$1m()))for(var u=n.get_$1m().get_Items(),s=u.length,i=0;i<s;++i)f=u[i],Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$ze(f.get_$Nm(),t);if(!$0.$0(n.get_$5N()))for(var e=n.get_$5N().get_Items(),h=e.length,r=0;r<h;++r)o=e[r],Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$1or(o,t)}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$ze=function(n,t){t.contains(n)||t.add(n)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$i=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.GetEntityMetadata","GetEntityMetadata has started");var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(n,t).then(function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.GetEntityMetadata",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveEntityMetadata completed successfully for entity {0}",n));i.resolve(!0)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineQueryBuilder.GetEntityMetadata",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveEntityMetadata failed for the entity {0} with error {1}",n,t.$F));i.reject(t)}),i.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$1tE=function(n){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.CreateEntityQueryExpressionFromFetchXml","Started");var t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$CL(null),i=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n);return t.$2Z(Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(i).$N("fetch")),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.CreateEntityQueryExpressionFromFetchXml","Completed"),t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$29e=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.PopulateRequiredQueryAttributes","PopulateRequiredQueryAttributes has started");var r=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$CL,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(n.$z,i).then(function(i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveEntityMetadata completed successfully for entity {0}",n.$z));var f=n.$2Q,u=null;t||(u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2eg(f));Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$OY(n.$z,u).then(function(t){var f,e,o,s,h;if(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetAttributeTypes completed successfully for entity {0} and its attributeNames {1}",n.$z,$0.$0(u)?"":u.toString())),f=new Array(0),$0.$0(u)){e=t;for(o in e)s={key:o,value:e[o]},h=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(n.$z,s.key),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetAttributeMetadata for the entity {0}",n.$z)),Microsoft.Crm.Client.Core.Offline.Common.QueryGenerator.$6G.$1dv(h)&&(f[f.length]=s.key)}else i.get_$ES()in t||(f[f.length]=i.get_$ES());Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2Jf(n,f);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$IY("PopulateRequiredQueryAttributes completed successfully for the entity {0}",n.$z));r.resolve(n)},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$IY("GetAttributeTypes failed for the entity {0} with error {1}",n.$z,t.$F));r.reject(t)})},function(t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z("OfflineQueryBuilder.PopulateRequiredQueryAttributes",Microsoft.Crm.Client.Core.Framework.$3.$IY("RetrieveEntityMetadata failed for the entity {0} with error {1}",n.$z,t.$F));r.reject(t)}),r.promise()};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.$2Ks=function(n,t){var o,u;if(!$0.$0(t)&&!$0.$0(t.$bW)&&t.$bW.get_$LS().length){for(var h=t.$bW,f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),a=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=n.$2Q,c=e.length,i=0;i<c;++i)o=e[i],f.add(o.$L);for(var s=h.get_$LS(),l=s.length,r=0;r<l;++r)u=s[r],f.contains(u)||n.$64(u,n.$Bh)}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2QE=function(n,t){var i={},r,u,e,s,h;if(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2hq(t)){if(r=n.$5c,u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),r.$90.length>0){e=r.$90[0];for(var o=e.get_$29().get_entities(),c=o.length,f=0;f<c;++f)s=o[f],h=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1Dl(s,null),u.add(h)}i.value=u.toArray()}else i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1Dl(n,t);return i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2hq=function(n){return!$0.$0(n)&&!$0.$0(n.get_$Kh())&&"$getOnlyRelatedEntity"in n.get_$Kh()?Boolean.parse(n.get_$Kh().$getOnlyRelatedEntity.toString()):!1};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1Dl=function(n,t){var u={},f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e,o,i,r,s,v,y,c,l,b,k;!$0.$0(t)&&!$0.$0(t.get_$bT())&&t.get_$bT().get_$LS().length>0&&f.addRange(t.get_$bT().get_$LS());e=n.fields;for(o in e)(i={key:o,value:e[o]},f.get_Count()>0&&!f.contains(i.key))||(r=n.$27[i.key],s=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2Y5(n.$a.LogicalName,i.key.toString(),r,i.value),r===6||r===1||r===9?(v="_"+i.key.toString()+"_value",u[v]=s):u[i.key.toString()]=s);y=n.$5c;for(var p=y.$90,d=p.length,h=0;h<d;++h){c=p[h];l=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object));for(var w=c.get_$29().get_entities(),g=w.length,a=0;a<g;++a)b=w[a],k=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1Dl(b,null),l.add(k);u[c.get_$8a().$Eb]=l.toArray()}return u};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2QD=function(n,t,i,r){for(var f,l,e,o={},c=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),v=t.$KU,s=t.get_entities(),y=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2sP(s.length,n.$CA,n.$Ca,i),u=0;u<y;u++){if(f=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1Dl(s[u],i),!$0.$0(i)&&!$0.$0(i.get_$11j())){l=i.get_$11j().get_$11k();for(var a=l,p=a.length,h=0;h<p;++h)e=a[h],f[e.$Ot+Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1gg]=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2il(n.$z,s[u].$a.Id.toString(),e.get_$2W4()),f[e.$Ot]={}}c.add(f)}return o.values=c.toArray(),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2KT(o,n,v,i,r),o};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2sP=function(n,t,i,r){var f=n,u;return!$0.$0(r)&&!$0.$0(r.get_$33())&&r.get_$33()>0&&(u=r.get_$33(),t<u&&u-i*t<0&&(f=u-(i-1)*t)),f};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2KT=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$31X(i,r,u)&&(n[Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1gg]=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2hb(t,r,u))};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$31X=function(n,t,i){var r=!1,u;if(n&&(r=!0,u=null,!$0.$0(t)&&!$0.$0(t.get_$33())&&t.get_$33()>0)){var f=t.get_$33(),e=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$21M(t),o=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$21N(t,i);e*o>=f&&(r=!1)}return r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2il=function(n,t,i){var u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n),r={};return r.API=Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}.{1}",Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1XD,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1rp),r.id=t,r.entityType=n,r.options=Microsoft.Crm.Client.Core.Framework.$3.$IY("?$select={0}&{1}&$getOnlyRelatedEntity=true",u.$4Y,i),r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2hb=function(n,t,i){var r={};return r.API=Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}.{1}",Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1XD,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1rq),r.entityType=n.$z,r.options=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2Pt(n,t),r.maxPageSize=i,r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2Pt=function(n,t){var o=t.$Mr,u=t.get_$Kh(),i="",f,e,r;if($0.$0(t.get_$1lp()))i+=$0.$0(o)?"?":o,i+=Microsoft.Crm.Client.Core.Framework.$3.$IY("&{0}={1}","$skiptoken",n.$Ca+1);else{i+="?";f=u;for(e in f)r={key:e,value:f[e]},r.key==="$skiptoken"&&(u.$skiptoken=n.$Ca+1),i+=Microsoft.Crm.Client.Core.Framework.$3.$IY("&{0}={1}",r.key,u[r.key])}return i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2Y5=function(n,t,i,r){var f={},u="",o=new Microsoft.Crm.Client.Core.Offline.$i,e;if(f[t]=r,$0.$0(r)||(f=Microsoft.Crm.Client.Core.Offline.$25.$20a(t,i,r)),o.$lK(i))e=t+"!id",u=$0.$0(f[e])?null:f[e].toString();else{u=$0.$0(f[t])?null:f[t].toString();switch(i){case 3:case 4:case 8:u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2Xv(n,t,u);break;case 0:u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2Xn(u);break;case 2:u=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2Xs(n,t,u)}}return u};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2Xs=function(n,t,i){var r,u,f;return Microsoft.Crm.Client.Core.Framework.$3.$9(i)?null:(r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(n,t),$0.$0(r)||(r.$9c===2?(u=Microsoft.Crm.Client.Core.Storage.Common.DateTimeOperators.$O.$10q(i),i=Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}-{1:D2}-{2:D2}",u.getFullYear(),u.getMonth()+1,u.getDate())):r.$9c===1&&(f=Microsoft.Crm.Client.Core.Storage.Common.DateTimeOperators.$O.$10q(i),f=Microsoft.Crm.Client.Core.Storage.Common.DateTimeOperators.$O.$2h7(f),i=f.toISOString())),i)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2Xn=function(n){return $0.$0(n)?null:n==="1"?"true":"false"};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$2Xv=function(n,t,i){var r=i,u,f;return $0.$0(i)||(u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(n,t),f=Number.parseInvariant(i),r=f.toFixed(u.$PC)),r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1Xs=function(n){var t={};return t.id=n.get_key(),t.logicalname=n.LogicalName,t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$1Y5=function(n,t){var i={};return i.logicalname=n,i.id=new Microsoft.Crm.Client.Core.Framework.Guid(t).getObjectData(),Xrm.Objects.EntityReference.createFromObjectData(i)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2HX=function(n,t,i){for(var r,e,f=n.$KN,o=f.length,u=0;u<o;++u)r=f[u],r.$z===t&&(e=r.$6C,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2HJ(e,t,i)),Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2HX(r,t,i)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2Jf=function(n,t){var u;if(!$0.$0(t)&&t.length)for(var r=t,f=r.length,i=0;i<f;++i)u=r[i],n.$64(u,null)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2eg=function(n){for(var u,t=new Array(0),r=n,f=r.length,i=0;i<f;++i)u=r[i],t[t.length]=u.$L;return t.length>0?t:null};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2HJ=function(n,t,i){for(var r,s,e=n.get_$1m().get_Items(),h=e.length,u=0;u<h;++u)r=e[u],r.get_$9L()===t&&(r.set_$29(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2YY(i.$a.Id.toString())),r.set_$Hf("eq"));for(var o=n.get_$5N().get_Items(),c=o.length,f=0;f<c;++f)s=o[f],Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2HJ(s,t,i)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$21N=function(n,t){var i=!$0.$0(t)&&t<Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$1Yr?t:Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$1Yr;return!$0.$0(n)&&!$0.$0(n.get_$33())&&n.get_$33()>0&&i>n.get_$33()&&(i=n.get_$33()),i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$21M=function(n){var t=1;return $0.$0(n)||(t=$0.$0(n.get_$1lp())?1:Number.parseLocale(n.get_$1lp())),t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2YY=function(n){return""+Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}",n)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2y9=function(n,t,i){for(var u,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=t,o=e.length,f=0;f<o;++f)if(u=e[f],Microsoft.Crm.Client.Core.Offline.Common.QueryGenerator.$6G.$1dv(u))r.add(u.$y);else if(!i)throw Error.create(String.format("Attribute {0} not supported in offline",u.$y));return r.contains(n.get_$ES())||r.add(n.get_$ES()),new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(r.toArray())};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$3As=function(n,t){var i=n;return t.get_$IY()===Microsoft.Crm.Client.Core.Storage.Common.DateTimeOperators.$6v.$1uG&&(i=Microsoft.Crm.Client.Core.Storage.Common.DateTimeOperators.$O.$kw(i)),Microsoft.Crm.Client.Core.Framework.$h.$Lk(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$PW,t.get_$1CX(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9())};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2Xm=function(n,t,i,r){var u=!0,f;try{switch(i){case 5:case 18:isNaN(parseInt(r.toString()))?u=!1:r=parseInt(r.toString());break;case 3:case 4:case 8:isNaN(parseFloat(r.toString()))&&(u=!1);break;case 2:f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(n,t);r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$3As(r,f);break;case 0:r.toString().toLowerCase()==="true"||r.toString().toLowerCase()==="false"?r={value:Boolean.parse(r.toString())?"1":"0"}:u=!1;break;case 12:case 13:case 11:isNaN(parseInt(r.toString()))?u=!1:r={value:parseInt(r.toString())};break;case 15:r={rawguid:r.toString()};break;case 6:case 1:case 9:Object===Object.getType(r)&&Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$251(r)?r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$1wU(r):u=!1;break;case 10:Object.getType(r).getName()==="Array"&&r.length>0?r=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2Y7(r):u=!1}if(u)i!==10&&(r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.createSingleFieldFromObjectData(r,i));else throw Error.format("invalid value for attribute");}catch(e){throw e;}return r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$Df=function(n,t){var r=null,i="",u=Microsoft.Crm.Client.Core.Framework.$3.$9(t)?$0.$0(n)?"":$0.$0(n.$ST)?n.$F:n.$ST.$F:t;if($0.$0(n)||$0.$0(n.$m))i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7032,null),r=new Xrm.OfflineErrorResponse(-7032,i,u);else switch(n.$m){case-2147093944:case-2147093980:case-2147220969:i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7029,null);r=new Xrm.OfflineErrorResponse(-7029,i,u);break;default:i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J(-7032,null);r=new Xrm.OfflineErrorResponse(-7032,i,u)}return r};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$B=function(n,t){Microsoft.Crm.Client.Core.Framework.$8.$u(n,2010,t)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$4z=function(n,t){Microsoft.Crm.Client.Core.Framework.$8.$4z(n,2010,t)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$1wU=function(n){return{id:{rawguid:n.id.toString()},logicalname:n.logicalname.toString(),name:$37.$d(Object,n.name)}};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$2Y7=function(n){for(var r=n,t=new Array(0),f=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),u={},e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)),i=0;i<r.length;i++)if(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$251(r[i]))t[t.length]=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(f,{partyid:Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.createSingleFieldFromObjectData(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$1wU(r[i]),6)},{partyid:6},u,u,e);else throw Error.format("invalid value for attribute");return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(t,!0,t.length,!1,null)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$251=function(n){return!$0.$0(n.id)&&!$0.$0(n.logicalname)};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R=function(){};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$2Z=function(){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7e3),"Your organization has not opted in for the Mobile Offline feature.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7001),"You must opt in to the Offline mode to use this feature. ");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7002),"This feature is not available when you are connected to Dynamics 365 server.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7003),"The Offline Data Store is not ready to  perform the operation.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7004),"{0} is a required parameter and cannot be null.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7005),"{0} is an invalid value for the field.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7006),"{0} is an invalid GUID.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7007),"Max Page Size  should be a number.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7008),"Max Page Size should be a positive integer.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7009),'Option Parameter should begin with "?".');Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7010),"{0} operation doesn’t have privilege to perform the operation.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7011),"Attribute Metadata not found for entity {0}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7012),"Specified attributes are Invalid.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7013),"Attribute {0} is not supported in offline mode.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7014),"Entity {0} is not supported.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7015),"Entity {0} is not enabled.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7016),"Entity {0} is not available due to a mismatch in metadata.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7017),"Entity Metadata not found for entity {0}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7018),"Specified query option string is invalid.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7019),"The value of {0} query option cannot be null.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7020),"Invalid value specified for the {0} query option.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7021),"Specified Navigation Property not found for entity {0}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7022),"Navigation Property {0} is not present for entity {1}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7023),"The value of $top query option must be a non-negative number.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7024),'Invalid direction suffix specified in the $orderby query option. Use the "asc" or "desc" suffix to specify ascending or descending order respectively.');Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7025),"Specified FetchXML is invalid.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7026),"No other query options are supported with the FetchXML option.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7027),"Query option {0} is not supported.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7028),"Retrieve doesn’t support query option {0}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7029),"Record not found.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7030),"Error occurred during SQL generation.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7031),"Error occurred while executing SQL.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7032),"An unexpected error occurred.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7033),"Invalid value specified for attribute {0}.");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(-7034),"Create or update or delete action on Activity Party and Intersect Entity are not allowed.")};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$7l=function(n,t){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$Ab[n]=t};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$2gA=function(n){return($0.$0(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$Ab)&&(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$Ab={},Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$2Z()),!$0.$0(n)&&n in Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$Ab)?Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$Ab[n].toString():null};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$4J=function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$2gA(Microsoft.Crm.Client.Core.ViewModels.ClientApi.$4.toString(n));return!$0.$0(t)&&t.get_Count()>0?String.format.apply(null,[i].concat(t.toArray())):i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R6=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R6.initializeBase(this,[n,t,i]);this.$8k=n;this.$6L=t;this.$51=i};Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R6.prototype={$8k:null,$1mK:null,$6L:null,$51:null,getLabel:function(){return this.$8k.$1G},setLabel:function(n){this.$1mK=this.$51.tabNavigators.getByName(this.$6L);this.$1mK.setLabel(n);this.$8k.set_Label(n)},getParent:function(){return this.$51}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp");Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8X=function(n,t){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8X.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$5j=n;this.$4Z="RecordId"in t.InitializationParameters?t.InitializationParameters.RecordId:"";this.$Um="RecordType"in t.InitializationParameters?t.InitializationParameters.RecordType:"";this.$1Kp="ListItemViewModel"in t.InitializationParameters?t.InitializationParameters.ListItemViewModel:null};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8X.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("AddEmailAttachmentCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8X.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8X.$n=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8X(n,t)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8X.prototype={$5j:null,$4Z:null,$Um:null,$1Kp:null,$1oq:function(n,t,i){var r=this,u=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1aO(n,i).then(function(n){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$2K6(n,t,function(n){if(!$0.$0(n)&&n.status){var t=n.message;throw Error.create(String.format("AddFileAttachmentAsync has failed. Error message: \n\n {0}",t));}r.$VI()})},function(n){u.$VI();throw Error.create(String.format("An error generating attachment URL. Error message: \n\n {0}",n.$F));})},$VI:function(){$0.$0(this.$1Kp)?this.$5j.StopItemInserting():this.$5j.StopItemInserting(this.$1Kp)},$2Fr:function(){this.$5j.StartItemInserting(this.$4Z)},$2E:function(){var t,i;if(this.$2Fr(),t=this.$4Z,i=this.$Um,!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$4Z)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Um)){var l=new Xrm.Objects.EntityReference(i,new Microsoft.Crm.Client.Core.Framework.Guid(t)),o=Microsoft.Crm.Client.Core.Framework.$q.$4t("","AddEmailAttachmentCommand"),r="",u="",n="",s="filename",f="";switch(i){case"salesliterature":r="salesliteratureitem";u="salesliteratureitem";n="salesliteratureitemid";f="salesliteratureid";break;case"template":r="activitymimeattachment";u="attachment";n="attachmentid";f="objectid"}var h=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(String.format('<fetch returntotalrecordcount=\'true\' mapping="logical" count="10">\t<entity name="{0}">\t\t<attribute name="{1}"/>\t\t<attribute name="filename"/>\t\t<filter type="and">\t\t\t<condition attribute="{2}" operator="eq" value="{3}"/>\t\t<\/filter>\t<\/entity><\/fetch>',r,n,f,t),null),e=this,c=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(h,Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),o).then(function(t){var r=t.get_entities(),i;if(r.length>0)for(i=0;i<r.length;i++){var o=r[i],f=o.getValue(n),c=Object.getType(f)===Xrm.Objects.EntityReference?f.Id.toString():f.toString(),h=o.getValue(s);$0.$0(h)?e.$VI():e.$1oq(c,h,u)}else e.$VI()},function(n){c.$VI();throw Error.create(String.format("An error retrieving the data. Error message: \n\n {0}",n.$F));})}}};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("MailAppInsertItemIntoEmailCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.$n=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E(t);return i.$zT=n,i.$Bj=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.$135(t,"RecordId"),i.$is=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.$135(t,"RecordType"),i.$is==="template"&&(i.$Aq=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.$135(t,"ListItemViewModel"),i.$8s=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.$135(t,"EntityTypeCode"),i.$DR=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.$135(t,"RegardingObjectId")),i};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.$135=function(n,t){var i=t in n.InitializationParameters;return n.InitializationParameters[t]};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.prototype={$zT:null,$Bj:null,$is:null,$8s:0,$DR:null,$Aq:null,$VI:function(){this.$zT.StopItemInserting(this.$Aq)},$2Fr:function(){this.$zT.StartItemInserting(this.$Bj)},$23f:function(n,t){var r=$0.$0(n)?"":n,i=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$2n0(r,function(n){if(!$0.$0(n)&&n.status){var r=n.message;throw Error.create(String.format("InsertToStartOfBodyAsync has failed. Error message: \n\n {0}",r));}Microsoft.Crm.Client.Core.Framework.$3.$12(t)?i.$VI():i.$2EW(t)})},$2EW:function(n){var t=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$20J(function(i){!$0.$0(i)&&Microsoft.Crm.Client.Core.Framework.$3.$12(i.subject)?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$2EW(n,function(n){if(t.$VI(),!$0.$0(n)&&n.status){var i=n.message;throw Error.create(String.format("SetEmailSubject has failed. Error message: \n\n {0}",i));}}):t.$VI()})},$2mv:function(n){var i=this,r=this,t;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1cC(n,this.$DR,this.$8s).then(function(n){if(!$0.$0(n)){var t=n;i.$23f(t.$SM,t.$BM)}},function(n){r.$VI();throw Error.create(String.format("An error retrieving the instantiated email template. Error message: \n\n {0}",n.$F));});t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this.$zT,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("AddEmailAttachmentCommand","AddEmailAttachmentCommand",{RecordId:this.$Bj,RecordType:this.$is,ListItemViewModel:this.$Aq}));t.get_CanExecute()&&t.execute()},$2E:function(){this.$2Fr();switch(this.$is){case"template":this.$2mv(this.$Bj);break;case"knowledgearticle":var t=new Xrm.Objects.EntityReference(this.$is,new Microsoft.Crm.Client.Core.Framework.Guid(this.$Bj)),i=Microsoft.Crm.Client.Core.Framework.$q.$4t("","MailAppInsertItemIntoEmailCommand"),n="content",r=this,u=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(t,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([n]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),i).then(function(t){var i=t.getValue(n);r.$23f(i,null)},function(n){throw Error.create(String.format("An error retrieving the data. Error message: \n\n {0}",n.$F));});break;default:this.$VI();throw Error.invalidOperation(String.format("Entity '{0}' is not supported.",this.$is));}}};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$B4=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$B4.initializeBase(this);this.set_$1z(this.$$d_$2E);var t=n.InitializationParameters.regardingObject;if(!$0.$0(t)&&Microsoft.Crm.Client.Core.Models.MailApp.$8O.isInstanceOfType(t)){this.$5V=t;return}Microsoft.Crm.Client.Core.Framework.Utils.$A.$4E(this.$5V,"Regarding object should be provided.")};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$B4.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SetRegardingButtonCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$B4.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$B4.$n=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$B4(t)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$B4.prototype={$5V:null,get_$61:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$2E:function(){this.get_$61().$8o.changeMailItemState(1,this.$5V.$6r,this.$5V.$2p,this.$5V.$1c)}};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$BJ=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$BJ.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$BJ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("TrackWithoutRegardingObjectCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$BJ.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$BJ.$n=function(n,t){return new Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$BJ(t)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$BJ.prototype={get_$61:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$2E:function(){this.$31Q();this.get_$61().$8o.changeMailItemState(1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$jP().execute()},get_$2oz:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();return n.$q==="relevanceSearchPage"},$31Q:function(){var n=this.get_$2oz()?"Relevance Search Page":"Categorized Search Page";Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.MailApp.$Q8(null,n))}};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H=function(){Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("CreateFormAndSetRegardingCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.$n=function(n,t){t.ValueTypeName="CreateCommand";var i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(n,t);return i.$J=Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.$28J,Microsoft.Crm.Client.Core.Framework.$3.$9(i.$D)||i.set_CanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(i.$D,0)),i.$19W=function(){Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.$31F(i.$D,i.get_CanExecute())},i};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.$28J=function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$8o.changeMailItemState(1,n.$AK.get_$BZ(),n.$AK.get_$4m(),n.$AK.get_$8z());Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.$31E(n.$AK.get_$BZ());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$jP().execute()};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.$31F=function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppCreateNewIsChoosenFromSearchPage");i.$h("EntityTypeName",n);i.$h("IsCreationAllowed",t);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.$31E=function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.MailApp.$Q8(n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8L=function(){Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8L.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8L.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenListItemInWebCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8L.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8L.$n=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$1Xz(n,t,Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8L)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8L.prototype={$2E:function(){var i=this.$Aq.get_ModelContext().get_Id(),r=this.$Aq.get_ModelContext().get_ModelName(),n,t;Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$Aq.get_ModelContext())&&(n=this.$Aq.get_ModelContext(),i=n.$I.$2A.Id.toString(),r=n.$I.$2A.LogicalName);t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this.$Aq,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenInBrowserCommand","OpenInBrowserCommand",{RecordId:i,RecordType:r}));t.execute();t.dispose()}};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8R=function(){Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8R.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8R.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SetRegardingCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8R.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8R.$n=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$1Xz(n,t,Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8R)};Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8R.prototype={$2E:function(){this.$6A.$1I0(this.$Aq);var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$Aq.get_$1u()),t=this.$Aq.get_ModelContext().GetValue(i.$59),n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();$0.$0(n)||Microsoft.Crm.Client.Core.Framework.$3.$9(n.$q)||n.$q!=="relevanceSearchPage"||(t=this.$Aq.get_ModelContext().GetValue(Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonSerializers.$3P.$PD));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$8o.changeMailItemState(1,this.$Aq.get_ModelContext().get_ModelName(),this.$Aq.get_ModelContext().get_Id(),t);this.$31O(this.$Aq.get_ModelContext().get_ModelName());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$jP().execute()},$31O:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.MailApp.$Q8(n,"Search Result Record");Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.MailApp");Microsoft.Crm.Client.Core.ViewModels.MailApp.$8a=function(){};Microsoft.Crm.Client.Core.ViewModels.MailApp.$8a.$2Qh=function(n,t,i,r,u){var p=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P,c=t[0],w=t[1],l,o,f,e,s,h,a,v,y;return w.$xr.length>0?null:(l=Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),Microsoft.Crm.Client.Core.Framework.$3.$9(n.$9E)||(l=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n.$9E)),o=p.$8K,f=new Microsoft.Crm.Client.Core.ViewModels.MailApp.$8a.$3EZ,f.$A2("description",c.$SM,14),f.$A2("instancetypecode",0,11),f.$A2("isalldayevent",!1,0),f.$A2("location","",14),f.$A2("scheduledstart",new Date(o.$z7.toString()),2),f.$A2("scheduledend",new Date(o.$iy.toString()),2),f.$A2("subject",c.$BM,14),f.$A2("statuscode",5,11),e={},o.$oy&&(e=o.$pK,f.$A2("recurrencepatterntype",e.RecurrencePatternType,11),f.$A2("patternendtype",e.PatternEndType,11),f.$A2("interval",e.Interval,5),s=null,$0.$0(e.PatternStartDate)||(s=new Date(e.PatternStartDate.toString())),f.$A2("patternstartdate",s,2),h=null,e.PatternEndType===3&&(h=new Date(e.PatternEndDate.toString())),f.$A2("patternenddate",h,2),f.$A2("isalldayevent",e.IsAllDayEvent,0),f.$A2("isweekdaypattern",e.IsWeekDayPattern,0),f.$A2("isnthmonthly",e.IsNthMonthly,0),f.$A2("isnthyearly",e.IsNthYearly,0),f.$A2("location",o.$ye,14),e.RecurrencePatternType===1&&f.$A2("daysofweekmask",e.DaysOfWeekMask,5),(e.RecurrencePatternType===2||e.RecurrencePatternType===3)&&(e.IsRelativeMonthlyRecurrencePattern||e.IsRelativeYearlyRecurrencePattern?(f.$A2("daysofweekmask",e.DaysOfWeekMask,5),f.$A2("instance",e.DayOfWeekIndex,11)):f.$A2("dayofmonth",e.DayOfMonth,5),f.$A2("monthofyear",e.MonthOfYear,11))),a=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(u,!1,u.length,!1),f.$A2("optionalattendees",a,10),v=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(r,!1,r.length,!1),f.$A2("requiredattendees",v,10),y=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(i,!1,r.length,!1),f.$A2("organizer",y,10),Microsoft.Crm.Client.Core.Framework.$3.$9(n.$E1)||Microsoft.Crm.Client.Core.Framework.$3.$9(n.$DR)||f.$A2("regardingobjectid",new Xrm.Objects.EntityReference(n.$E1,new Microsoft.Crm.Client.Core.Framework.Guid(n.$DR)),6),f.$3A0(o.$oy))};Microsoft.Crm.Client.Core.ViewModels.MailApp.$8a.$3EZ=function(){this.$E9={};this.$27={}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$8a.$3EZ.prototype={$A2:function(n,t,i){this.$E9[n]=t;this.$27[n]=i},$3A0:function(n){var f=new Xrm.Objects.EntityReference(n?"recurringappointmentmaster":"appointment",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(f,this.$E9,this.$27,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),r=this.$E9,t,u;for(t in r)u={key:t,value:r[t]},i.$4w.add(u.key);return i}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$S0=function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.$S0.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.$S0.prototype={$1aB:"Follow",$1aA:"Followed",$2GY:"ApplyTemplate",$2Ch:"SalesLiterature",$25G:"InsertKbArticle",$Tw:!1,set_$2nv:function(n){return this.$Tw!==n&&(this.$Tw=n,this.$3B5(),this.$7("TabItems")),n},get_$2nw:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q("template",1)},get_$2oI:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q("knowledgearticle",1)},get_$2p3:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$2oj("salesliterature",1)},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this),this.$2qm())},$2qm:function(){this.set_TabItems([]);this.get_$2nw()&&this.get_TabItems().push(this.$1E5(54,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Compose_Actions_Email_Templates"),this.$2GY,null));this.get_$2p3()&&this.get_TabItems().push(this.$1E5(55,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Compose_Actions_Sales_Literature"),this.$2Ch,"salesliterature"));this.get_$2oI()&&this.get_TabItems().push(this.$1E5(55,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Compose_Actions_Knowledge_Articles"),this.$25G,"knowledgearticle"));this.get_$61().get_$1Jb()&&this.get_TabItems().push(this.$1E5(53,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Compose_Actions_Follow"),this.$Tw?this.$1aA:this.$1aB,null,this.get_TabItems().length>0?"followTabBarItemLeftSeparator":null))},$1E5:function(n,t,i,r,u){var f=new Microsoft.Crm.Client.Core.Models.MailApp.$O5(n);return f.set_Text(t),f.set_SymbolClassName(i),$0.$0(r)||(f.$1Tx=r),Microsoft.Crm.Client.Core.Framework.$3.$9(u)||f.set_ClassName(u),f},$3B5:function(){for(var n=0;n<this.get_TabItems().length;n++)if(this.get_TabItems()[n].$1An===53){this.get_TabItems()[n].set_SymbolClassName(this.$Tw?this.$1aA:this.$1aB);break}},$2vV:function(n){this.get_$61().$pc.$Os(n.$1An,n.$1Tx);this.get_$61().$pc.set_Visible(!0)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel=function(){this.$$d_$1lU=Function.createDelegate(this,this.$1lU);this.$$d_$2C2=Function.createDelegate(this,this.$2C2);this.$$d_$2Od=Function.createDelegate(this,this.$2Od);this.$$d_$1rJ=Function.createDelegate(this,this.$1rJ);this.$$d_$2td=Function.createDelegate(this,this.$2td);this.$$d_$2vb=Function.createDelegate(this,this.$2vb);this.$jo=Microsoft.Crm.Client.Core.Framework.Guid.newGuid();Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.initializeBase(this);this.$1Rn=this.$$d_$2vb;this.$gk=this.$$d_$2td;this.$Ed=new Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rx};Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.$C)&&(Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.$C=new Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel),Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.$C};Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.prototype={$t:0,$1k:!1,$1Rn:null,$gk:null,$vx:null,$Ed:null,$1mV:0,$1mW:0,$18Z:!1,$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Jb()&&(this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.AddPropertyChangedListener("EmailItem",this.$$d_$1rJ),this.$1rJ(null,null)))},get_State:function(){return this.$t},set_State:function(n){return this.$t!==n&&(this.$t=n,this.$7("State")),n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k!==n&&(this.$1k=n,this.$7("Loading")),n},get_RecipientsList:function(){return this.$vx.toArray()},get_StatusMessagesContainer:function(){return this.$Ed},get_IsTracked:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$8o.get_IsTracked()},get_IsEmailItemFollowed:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.$8K.$Pi},get_IsFollowButtonVisible:function(){return!!this.$t},get_IsFollowButtonEnabled:function(){return!this.$1k&&this.$t!==2},get_IsRestricted:function(){return this.$t===1},get_RecipientResolutionStatus:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.$171},get_ComponentType:function(){return 53},get_TitleText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Title")},get_RestrictedRecipientsHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Restricted_Recipients_Title")},get_StatusText:function(){switch(this.$t){case 1:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Status_Restricted");case 2:case 3:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Status_Not_Followed");case 4:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Status_Followed");default:return""}},get_FollowButtonText:function(){switch(this.$t){case 4:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Button_Followed");case 2:case 3:case 1:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Button_Not_Followed");default:return""}},get_RecommendationText:function(){switch(this.$t){case 2:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Recommendation_Text_Not_Tracked");case 1:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Recommendation_Text_Restricted");case 4:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Recommendation_Text_Followed");case 3:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Recommendation_Text_Not_Followed");default:return""}},get_RecommendationLink:function(){switch(this.$t){case 4:case 3:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Recommendation_Link_1");case 2:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Recommendation_Link_2");default:return""}},get_RecommendationLinkText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Recommendation_Link_Text")},get_FollowErrorText:function(){return this.$t===3?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Error_Will_Be_Followed"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Error_Will_Be_Unfollowed")},$2Od:function(){var n;if(this.get_RecipientResolutionStatus()!==1)if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.RemovePropertyChangedListener("ResolveRecipientsStatus",this.$$d_$2Od),this.get_RecipientResolutionStatus()===3){if(!this.$2OD()){this.$Ed.$Td("recipient_resolution").set_State(2);this.set_State(1);this.set_IsLoading(!1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$8o.showNotification(this.get_StatusText(),2);this.$18Z?Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppFollowEmailRetryToFollowAfterRestriction")):(n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppFollowEmailRestricted"),n.$h("RestrictedRecipientCount",this.$vx.get_Count()),n.$h("TotalRecipientCount",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Rp.get_TabItems().length),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n),this.$18Z=!0);return}this.$Ed.$Td("recipient_resolution").set_State(3);this.$Ed.$1C5(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw("adding_following_info",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Status_Adding_Follow_Info"),1));var r={OnSuccess:this.$$d_$2C2,CrmId:this.$jo},t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEmailLinksAction",r),i=this;t.OnFailure=function(n){i.$Ed.$Td("adding_following_info").set_State(2);i.$gk(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)}else this.get_RecipientResolutionStatus()===2&&(this.$Ed.$Td("recipient_resolution").set_State(2),this.$gk(null))},$1rJ:function(){if(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.$8K)){if(this.get_IsTracked())this.set_State(this.get_IsEmailItemFollowed()?4:3);else{if(this.get_IsEmailItemFollowed()){this.$2H2();return}this.set_State(2)}this.get_IsEmailItemFollowed()&&this.$1k&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$8o.showNotification(this.get_StatusText(),0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$qO.set_$2nv(this.get_IsEmailItemFollowed());this.$Ed.$3w(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw("follow_status",this.get_StatusText()));this.set_IsLoading(!1)}},$2OD:function(){var u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Rp.get_TabItems(),r,n;this.$vx=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.MailApp.$8M));for(var i=u,f=i.length,t=0;t<f;++t)r=i[t],n=r.$Jm,$0.$0(n)||(n.$a.LogicalName==="contact"||n.$a.LogicalName==="lead")&&(n.hasValue("followemail")&&n.getValue("followemail").$1s===1||this.$vx.add(Microsoft.Crm.Client.Core.ViewModels.MailApp.$8M.$6f(Microsoft.Crm.Client.Core.Models.$c.$X(n))));return!(this.$vx.get_Count()>0)},HandleFollowButtonClick:function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppFollowEmailButtonClick"));this.$t===4?this.showUnfollowPromptDialog():this.$2Xd()},$2td:function(n){this.set_IsLoading(!1);this.showErrorDialog();var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppFollowEmailActionError");$0.$0(n)?(t.$h("ErrorCode",2),t.$h("ErrorMessage","[empty error object has been received]")):(t.$h("ErrorCode",n.$m),t.$h("ErrorMessage",n.$F));Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)},$2Xd:function(){this.set_IsLoading(!0);this.set_State(3);this.$Ed.$3w(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw("recipient_resolution",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Status_Retrieving_CRM_Data"),1));this.$1mV=Date.now();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.AddPropertyChangedListener("ResolveRecipientsStatus",this.$$d_$2Od);Microsoft.Crm.Client.Core.ViewModels.$2s.get_$6().$170(!0)},$2H2:function(){this.set_IsLoading(!0);this.$Ed.$3w(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw("unfollowing",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Status_Analyzing"),1));var n=this;window.setTimeout(function(){n.$1mW=Date.now();n.$1OG()},2e3)},$1OG:function(){var t={OnSuccess:this.$1Rn,CrmId:this.$jo},n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RemoveTrackingInfoAction",t);n.OnFailure=this.$gk;this.$Ed.$Td("unfollowing").set_State(3);this.$Ed.$1C5(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw("removing_following_info",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Status_Removing_Follow_Info"),1));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$2vb:function(n){var f=n?"adding_following_info":"removing_following_info",i,r,t,u;this.$Ed.$Td(f).set_State(3);this.$Ed.$1C5(new Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw("wrapping_up",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Status_Finishing_Up"),1));i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.$8K.$87();i.$9E=n?this.$jo.toString():"";i.$Pi=n;r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateEmailContext",i);t=this;r.OnSuccess=function(){var i,r=0,u;n?(i="MailAppFollowEmailFollowSuccess",r=t.$1mV,t.$18Z&&(Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppFollowEmailSuccessFollowAfterRestrictions")),t.$18Z=!1)):(i="MailAppFollowEmailUnfollowSuccess",r=t.$1mW);u=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS(i);u.$h("ActionDuration",Date.now()-r);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(u)};u=this;r.OnFailure=function(n){u.$Ed.$Td("wrapping_up").set_State(2);u.$gk(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,r)},$2C2:function(n){var r={EmailLinks:n,TrackingId:this.$jo,ConversationTrackingId:this.$jo,OnSuccess:this.$$d_$1lU},t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEmailFollowTrackingInfoAction",r),i=this;t.OnFailure=function(n){i.$Ed.$Td("adding_following_info").set_State(2);i.$gk(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)},$1lU:function(n){var r={OnSuccess:this.$1Rn,FollowModel:n,CrmId:this.$jo},t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("SetTrackingInfoAction",r),i=this;t.OnFailure=function(n){i.$Ed.$Td("adding_following_info").set_State(2);i.$gk(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)},showUnfollowPromptDialog:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel(1,0),t,i;n.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_Yes");n.$LY=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_No");n.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Unfollow_Prompt_Text"));t=this;n.$C2=function(){t.$2H2()};i=this;n.$Gm=function(){i.set_State(4)};n.Show()},showErrorDialog:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel(0,0);n.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_OK");n.$1gk="";n.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Follow_Error_Header");n.set_Message(this.get_FollowErrorText());n.Show()},tabActivated:function(){this.get_IsTracked()||Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppFollowEmailDisplayTabWithoutTracking"))},ClearState:function(){this.$Ed.$86()},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.RemovePropertyChangedListener("EmailItem",this.$$d_$1rJ);Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel=function(){this.$$d_$1hM=Function.createDelegate(this,this.$1hM);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel.prototype={get_$61:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$1QS:!1,$15j:null,$16t:null,$tW:null,get_LastActivityLabel:function(){var n=$0.$0(this.$tW)?"":Microsoft.Crm.Client.Core.ViewModels.$1c.getShortDateTimeFormat(this.$tW);return Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_EmailEnagagement_Last_Activity_Label"),n)},get_HeaderLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_EmailEnagagement_Email_Monitoring_Header")},get_ViewInCRMLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_EmailEnagagement_ViewInCRM")},get_OpensLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_EmailEnagagement_Opens_Label")},get_RepliesLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_EmailEnagagement_Replies_Label")},get_ShowSummary:function(){return this.$1QS},set_ShowSummary:function(n){return this.$1QS=n,this.$31I(),this.$7("ShowSummary"),n},$31I:function(){this.$1QS&&Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppEmailEngagementCardDisplayedInReadMode"))},get_OpenCount:function(){return $0.$0(this.$15j)?"0":this.$15j},set_OpenCount:function(n){return this.$15j!==n&&(this.$15j=n,this.$7("OpenCount")),n},get_ReplyCount:function(){return $0.$0(this.$16t)?"0":this.$16t},set_ReplyCount:function(n){return this.$16t!==n&&(this.$16t=n,this.$7("ReplyCount")),n},get_LastActivityDate:function(){return this.$tW},set_LastActivityDate:function(n){return this.$tW!==n&&(this.$tW=n,this.$7("LastActivityDate")),n},$SK:null,get_ActivityId:function(){return this.$SK},set_ActivityId:function(n){return this.$SK=n,n},$Dz:!1,get_IsLoading:function(){return this.$Dz},set_IsLoading:function(n){return this.$Dz=n,n},$3Bg:function(){this.set_ShowSummary(!1);var n=!$0.$0(this.get_$61().$2P.$8K)&&!$0.$0(this.get_$61().$2P.$8K.$9E);n&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&this.get_$61().$1t("ActionProvider",this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEmailEngagementSummary",null))},$2Z:function(){this.get_$61().get_$1Jb()&&(this.$1a||(this.get_$61().$2P.AddPropertyChangedListener("EmailItem",this.$$d_$1hM),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this)))},$Oh:function(){this.get_$61().$2P.RemovePropertyChangedListener("EmailItem",this.$$d_$1hM);Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)},$1hM:function(){this.$3Bg()},viewAllActivitiesLinkClick:function(){var n=null,t;try{t={};t.RecordId=this.$SK;t.RecordType="email";n=new Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(null,"OpenInBrowserCommand",t));n.execute()}finally{$0.$0(n)||n.dispose();Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppEmailEngagementViewAllActivitiesClick"))}}};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel=function(n,t){Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.initializeBase(this);this.$1Aa=n;this.$DZ=n===2?1:n;this.$AG=t;n===2&&(this.$Ld=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_Close,1019))};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.$2RH=function(n,t,i){var r=new Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel(n,0);return r.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Confirmation_Prompt_Title"),r.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(Microsoft.Crm.Client.Core.Framework.$3.$9(t)?"Button_Label_Yes":t),r.$LY=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(Microsoft.Crm.Client.Core.Framework.$3.$9(i)?"Button_Label_No":i),r};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.prototype={$Ld:null,$1gk:null,$1Wh:null,$1rv:null,$1Aa:0,get_MailAppDialogType:function(){return this.$1Aa},set_MailAppDialogType:function(n){return this.$1Aa=n,n},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$6c=function(){this.$J7=-1;Microsoft.Crm.Client.Core.ViewModels.MailApp.$6c.initializeBase(this,[Microsoft.Crm.Client.Core.ViewModels.MailApp.$6c.PrepareItems,Microsoft.Crm.Client.Core.ViewModels.MailApp.$6c.PrepareItems]);this.$wC()};Microsoft.Crm.Client.Core.ViewModels.MailApp.$6c.PrepareItems=function(n){for(var i,r,u=new Array(0),t=0;t<n.length;t++)i=n[t],r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(i.$8s),!$0.$0(r)&&r.$R1&&u.push(i);return u};Microsoft.Crm.Client.Core.ViewModels.MailApp.$6c.prototype={$1RN:10,$1Co:!1,$1N3:null,$1N5:null,get_RecentlyViewedListHeader:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Recently_Used_List_Header")},get_PinnedListHeader:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Pinned_Records_List_Header")},IsSetRegarding:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),r,i;return!$0.$0(t.$2P.$8K)&&(r=t.$2P.$8K.$DR,i=t.$2P.$8K.$E1,!Microsoft.Crm.Client.Core.Framework.$3.$12(i)&&n.get_ModelContext().get_ModelName()===i&&n.get_ModelContext().get_Id()===r)?!0:!1},SetRegarding:function(n){var t=n.$L3;this.IsSetRegarding(t)||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$8o.changeMailItemState(1,t.get_ModelContext().get_ModelName(),t.get_ModelContext().get_Id(),n.get_Title()),this.$31M(n.get_PinStatus(),t.get_ModelContext().get_ModelName()));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$jP().execute()},onItemToggleClick:function(n){this.recordToggleTelemetryEvent(n.get_PinStatus());var t=n.$dY;!$0.$0(t)&&t.get_CanExecute()&&t.execute()},$2lX:function(){var n=$0.$0(this.$1N3)||$0.$0(this.$1N5),t=this.$20v(this.$Ro),i=this.$20v(this.$Lx);return n||(n=!this.$1sK(this.$1N3,i),n||(n=!this.$1sK(this.$1N5,t))),this.$1N5=t,this.$1N3=i,n},$20v:function(n){var i={},t,r,u;if($0.$0(n))return i;for(t=0;t<n.get_Count();t++)r=Microsoft.Crm.Client.Core.Models.$2Y.$1HO(n.get_$R(t).get_EntityTypeCode()),Microsoft.Crm.Client.Core.Framework.$3.$9(r)||Microsoft.Crm.Client.Core.Framework.$3.$9(n.get_$R(t).get_ObjectId())||(u=String.format("{0}#{1}",r,n.get_$R(t).get_ObjectId()),i[u]=!0);return i},$1sK:function(n,t){var i,r,u;if(Microsoft.Crm.Client.Core.Framework.$1B.$s(n)!==Microsoft.Crm.Client.Core.Framework.$1B.$s(t))return!1;i=t;for(r in i)if(u={key:r,value:i[r]},!(u.key in n))return!1;return!0},OpenListItem:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenListItemInWebCommand"),i;t.InitializationParameters.TraceComponent=1011;t.InitializationParameters.SelectionState=this.$6A;t.InitializationParameters.ListItemViewModel=n;i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(n,t);i.get_CanExecute()&&i.execute()},$wC:function(){if(this.$J7!==-1&&window.clearTimeout(this.$J7),!this.$1Co){var n=this;this.$J7=window.setTimeout(function(){Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){if(--n.$1RN,!n.$1Co){if(!n.get_Visible()||n.$1RN>0&&!n.$2lX()){n.$wC();return}n.$16d().always(function(){n.$1RN=10;n.$wC()})}},0,"MailAppRecentlyViewedItemUpdate")},1e3)}},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$Du.prototype.$Oh.call(this);this.$1Co=!0},$31M:function(n,t){var i=n?"Pinned Record":"MRU Record",r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.MailApp.$Q8(t,i);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(r)},recordToggleTelemetryEvent:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppRecordPinnedStatusChanged");t.$h("WasRecordPinned",!n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$4m=function(){};Microsoft.Crm.Client.Core.ViewModels.MailApp.$4m.$1d5=function(n){var o=n,u,s,i,f,e,h,r,t;for(u in o)if((s={key:u,value:o[u]},i=s.value,!Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(i))&&Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(i)){f=i.$H;for(e in f)h={key:e,value:f[e]},r=h.value,Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(r)&&(t=r.get_Data(),t=$0.$0(t)?t:t.toString(),Microsoft.Crm.Client.Core.Framework.$3.$12(t)&&r.set_Visible(!1))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$4m.$29L=function(n,t){var r,u,f,e,o,i,s;if(Microsoft.Crm.Client.Core.Framework.$3.$9(n.$a.Name)&&(r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.$a.LogicalName),r&&(n.$a.Name=n.fields[r.$59])),!$0.$0(t)){u=t.$H;for(f in u)e={key:f,value:u[f]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(e.value)&&(o=e.value,i=o.$M,$0.$0(i)&&(i={}),"externalParameters"in i||(i.externalParameters={}),s=i.externalParameters,s.ParentReference=n.$a,o.set_Parameters(i))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel=function(n){this.$$d_$15g=Function.createDelegate(this,this.$15g);this.$$d_$2tW=Function.createDelegate(this,this.$2tW);this.$$d_$2tX=Function.createDelegate(this,this.$2tX);this.$$d_$1MM=Function.createDelegate(this,this.$1MM);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel.initializeBase(this,[n]);this.AddPropertyChangedListener("Data",this.$$d_$15g)};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel.prototype={$47:null,$1QH:!1,$1Ou:!1,$zN:null,get_TemplateIdForInserting:function(){return this.$zN},set_TemplateIdForInserting:function(n){return this.$zN=n,n},get_ErrorMessage:function(){return this.$47},set_ErrorMessage:function(n){return this.$47!==n&&(this.$47=n,this.$7("ErrorMessage")),n},get_TemplateRegardingLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_EmailTemplates_Regarding_Combobox_Header")},get_RetryText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Retry")},get_ViewInCRMText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_OpenRecord")},get_AddToEmailText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Add_To_Email")},get_ShowEmailTemplateControls:function(){return this.$1QH},set_ShowEmailTemplateControls:function(n){return this.$1QH!==n&&(this.$1QH=n,this.$7("ShowEmailTemplateControls")),n},get_$kE:function(){return this.$H.TemplatesRegardingObjectComboBox},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$2Z.call(this),this.$1Nw())},$1Nw:function(){this.$2.add_$6F(this.$$d_$1MM)},$1MM:function(){this.get_$kE().AddPropertyChangedListener("IsLoading",this.$$d_$2tX);this.get_$kE().AddPropertyChangedListener("ItemsList",this.$$d_$2tW);this.$2FR()},$2tW:function(){this.$2FR()},$2FR:function(){var n=!this.get_$kE().get_ItemsList().length,t;this.$1Ou&&(n&&(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppNoTemplatesErrorAfterRetry"),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)),this.$1Ou=!1);this.set_ErrorMessage(n?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_No_Templates_Regardings"):null)},$2tX:function(){this.set_ShowProgress(this.get_$kE().$1k)},retryButtonClick:function(){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppEmailTemplatesRetryClicked");Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n);this.get_$kE().$2zm();this.$1Ou=!0},StartItemInserting:function(n){this.$zN=n},StopItemInserting:function(n){this.$zN="";n.$7("IsSelected")},viewInCRMButtonClick:function(){var n=this.get_Data(),t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenInBrowserCommand","OpenInBrowserCommand",{RecordId:n.get_ModelContext().get_Id(),RecordType:n.get_ModelContext().get_ModelName()}));t.get_CanExecute()&&t.execute()},addToEmailButtonClick:function(){this.$2Vt("MailAppInsertItemIntoEmailCommand")},get_$1ZJ:function(){return this.$H.TemplatesRegardingObjectComboBox},$2Vt:function(n){var i=this.get_$1ZJ().get_$1PP(),t,r,u;$0.$0(i)||(t=this.get_Data(),$0.$0(t)||(r=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(n,n,{ListItemViewModel:t,RecordId:t.get_ModelContext().get_Id(),RecordType:t.get_ModelContext().get_ModelName(),EntityTypeCode:this.get_$1ZJ().$1HR(i.$6r),RegardingObjectId:i.$2p})),r.get_CanExecute()&&(u=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppAddEmailTemplateToEmail"),u.$h("regardingType",this.get_$1ZJ().$1HR(i.$6r)),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(u),r.execute())))},$15g:function(){this.set_ShowEmailTemplateControls(!$0.$0(this.get_Data()))},$Oh:function(){this.$2.remove_$6F(this.$$d_$1MM);this.get_$kE().RemovePropertyChangedListener("IsLoading",this.$$d_$2tX);this.get_$kE().RemovePropertyChangedListener("ItemsList",this.$$d_$2tW);Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel.prototype={onClick:function(){}};Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel.prototype={onClick:function(){this.$2r0()},$2r0:function(){var n=null;switch(this.$L){case"BusinessPhoneLabel":n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppRecipientPhoneClick");n.$h("PhoneType","Business");break;case"MobilePhoneLabel":n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppRecipientPhoneClick");n.$h("PhoneType","Mobile");break;case"InternalEmailAddressLabel":n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppRecipientEmailClick")}Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel=function(){this.$$d_$2sC=Function.createDelegate(this,this.$2sC);this.$$d_$1jj=Function.createDelegate(this,this.$1jj);Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.$1bo=function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P,n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Office.$CG)),r=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode(),i;if(r||t.$1AU||n.add(t.$dR),t.get_$BB()===1?(n.addRange(t.$W5),n.addRange(t.$Vz)):(n.addRange(t.$1BN),n.addRange(t.$19Z),n.addRange(t.$19V)),n=Microsoft.Crm.Client.Core.Framework.$5B.$1uz(Microsoft.Crm.Client.Core.Storage.Office.$CG,n,function(n,t){return n.$A0.toLowerCase()===t.$A0.toLowerCase()}),!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&n.get_Count()===1)return n;for(i=0;i<n.get_Count();i++)t.$1Ab.toLowerCase()===n.get_$R(i).$A0.toLowerCase()&&(n.removeAt(i),i--);return n};Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.prototype={get_ModelContext:function(){return $0.$0(this.get_SelectedTabItem())?null:$0.$0(this.get_SelectedTabItem().$Jm)?Microsoft.Crm.Client.Core.Models.$c.$X(Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel.$2TI(this.get_SelectedTabItem().$3y,this.get_SelectedTabItem().$df)):Microsoft.Crm.Client.Core.Models.$c.$X(this.get_SelectedTabItem().$Jm)},$z0:!1,$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this),this.get_$61().get_$Ms().add_CollectionChanged(this.$$d_$1jj),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&this.get_$61().$gW.add_PostNavigation(this.$$d_$2sC))},$1jj:function(){this.$28I()},$28I:function(){for(var f,e,i,o,s=!1,h=this.$2i0(this.get_$61().get_$Ms().$1mk()),c=this.get_SelectedTabItem(),l=Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.$1bo(),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.MailApp.$O0)),a=0,r={},n=0;n<l.get_Count();n++){var v=l.get_$R(n),y=v.$A0.toLowerCase(),u=y in h?h[y]:null;if($0.$0(u)?++a:(f=u.$a.LogicalName,e=r[f],r[f]=e?e+1:1),i=new Microsoft.Crm.Client.Core.Models.MailApp.$O0(v,u),t.add(i),s)continue;else i.get_$ee()===this.get_$61().$2P.$oZ.SelectedRecipientEmailAddress?(this.set_SelectedIndex(n),s=!0):this.TabItemCanBeInitiallySelected(i)&&(!n||n>0&&!this.TabItemCanBeInitiallySelected(t.get_$R(n-1)))&&this.set_SelectedIndex(n)}this.get_SelectedIndex()===-1&&this.set_SelectedIndex(0);o=$0.$0(this.get_TabItems());this.set_TabItems(t.toArray());o&&(this.$2r8(t.get_Count()),this.$2r9(r,a),this.$2r6(this.$2hU(this.get_$61().get_$Ms())));this.$3BQ(c);this.$2ov(o,c)&&(this.$z0=!1,this.$1hw())},$2hU:function(n){for(var r,u,t={},i=0;i<n.get_Count();++i)r=n.get_$R(i).getValue("mailappemailaddress").toLowerCase(),u=t[r],t[r]=u?u+1:1;return t},$2r6:function(n){var u=n,t,f,i,r;for(t in u)(f={key:t,value:u[t]},i=f.value,i<=1)||(r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppMultirecordRecipient"),r.$h("RecordCount",i),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(r))},$2r9:function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppRecipientCountByType");i.$h("UnknownRecipientCount",t);i.$h("ContactCount",n.contact);i.$h("LeadCount",n.lead);i.$h("CrmUserCount",n.systemuser);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i)},$2r8:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppRecipientCount");t.$h("RecipientCount",n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)},$3BQ:function(n){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&this.$24j(n)&&this.get_$61().$Ol&&(this.$z0=!0)},$2ov:function(n,t){if(this.get_$61().$pP===1){if(this.get_$61().$8o.$2HV(),this.get_$61().$tJ)return!1;if(this.get_$61().$Ol&&this.get_$61().$8o.$1BC)return!0}return!this.get_$61().$Ol&&(n||this.$24j(t))},$24j:function(n){return $0.$0(n)?!$0.$0(this.get_SelectedTabItem()):$0.$0(this.get_SelectedTabItem())?!$0.$0(n):n.get_$ee()!==this.get_SelectedTabItem().get_$ee()},$2i0:function(n){for(var i={},e=n,l=e.length,f=0;f<l;++f){var o=e[f],r=o.getValue("mailappemailaddress").toLowerCase(),t=o;if(r in i){var u=i[r],s=this.get_$61().$16Y.$2PT(u,t),h=this.$24f(u),c=this.$24f(t);!h&&c?i[r]=t:h===c&&(s===1?i[r]=t:s===2&&this.$13Q(u)&&this.$13Q(t)&&this.$2zY(u,t)===1&&(i[r]=t))}i[r]=t}return i},$13Q:function(n){return n.$a.LogicalName==="contact"||n.$a.LogicalName==="lead"},$2zY:function(n,t){var f=n.$a.LogicalName,e=t.$a.LogicalName,i=n.getValue("ownerid").Id,r=t.getValue("ownerid").Id,u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q;return i.equals(r)?2:u.equals(i)?0:1},$2vV:function(){this.$1hw()},$1hw:function(){this.get_$61().$Ol&&this.get_$61().$IF.execute();$0.$0(this.get_SelectedTabItem())||this.$347(this.get_SelectedTabItem().get_$ee());var n=$0.$0(this.get_ModelContext())?"unknownrecipient":this.get_ModelContext().get_$Fe(),i=n==="unknownrecipient"?57:34,t=new Microsoft.Crm.Client.Core.Commands.$2R(this,i);t.$1W=n;t.execute()},$347:function(n){($0.$0(this.get_$61().$2P.$8K)||this.get_$61().$2P.get_$BB()!==1||this.get_$61().$2P.$8K.$L0!==1)&&(this.get_$61().$2P.$oZ.SelectedRecipientEmailAddress=n,this.get_$61().$1t("ActionProvider",this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateEmailCustomProperties",this.get_$61().$2P.$oZ)))},TabItemCanBeInitiallySelected:function(n){var t=n.$Jm;return!$0.$0(t)&&t.$a.LogicalName!=="systemuser"||$0.$0(t)?!0:!1},$24f:function(n){switch(n.$a.LogicalName){case"systemuser":return n.getValue("isdisabled").$1s?!1:!0;case"contact":return n.getValue("statecode").$1s===1?!1:!0;case"lead":return n.getValue("statecode").$1s===1?!0:!1;default:return!0}},$Oh:function(){this.get_$61().get_$Ms().remove_CollectionChanged(this.$$d_$1jj);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&this.get_$61().$gW.remove_PostNavigation(this.$$d_$2sC);Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)},$2sC:function(){this.$314()},$314:function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()&&this.$z0&&!this.get_$61().$Ol&&(this.$1hw(),this.$z0=!1)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel.initializeBase(this);this.$69=n;this.$26=t;this.$29R=Mscrm.InternalUtilities._Script.isNullOrUndefined(i)?!1:i;this.$1Uw=Mscrm.InternalUtilities._Script.isNullOrUndefined(r)?!0:r};Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel.prototype={$69:null,$26:0,$29R:!1,$1Uw:!0,get_Type:function(){return this.$26},set_Type:function(n){return this.$26!==n&&(this.$26=n,this.$7("Type")),n},get_Active:function(){return this.$1Uw},get_Text:function(){return this.$69},set_Text:function(n){return this.$69!==n&&(this.$69=n,this.$7("Text")),n},toString:function(){return this.$69}};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel=function(){this.$Hz=new Microsoft.Crm.Client.Core.Framework.$AL;Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel.prototype={get_$61:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$4u:!1,get_Visible:function(){return this.$4u},set_Visible:function(n){return!this.$4u===n&&(this.$4u=n,this.get_$61().$7("ComposeActionsVisibilityChanged")),n},get_ActiveNavigationStack:function(){return this.$Hz},$sX:function(n,t){for(var i,f,r,u=0;u<this.$Hz.get_Count();u++)if(i=this.$Hz.getItem(u),Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.isInstanceOfType(i)){if(f=i,f.get_ComponentType()===n)return f}else if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(i)&&(r=i,r.$g===n))if(Microsoft.Crm.Client.Core.Framework.$3.$9(t)||r.$1W!==t){if(Microsoft.Crm.Client.Core.Framework.$3.$9(t))return r}else return r;return null},$Os:function(n,t){var i=this.$sX(n,t);$0.$0(i)?(i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(n)),!Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(i)&&i.set_DefinitionId(t),i.$2Z()):this.$Hz.$Ai(i);this.$vT(i)},$vT:function(n){this.$Hz.$3w(n);this.$7(Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel.$2Gj)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel=function(n){Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel.$6f=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(59));return t.set_DefinitionId(n.$6r),t.$5V=n,t.$2Z(),t};Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel.prototype={$1mx:!1,$5V:null,get_UnableToLoadItem:function(){return this.$1mx},set_UnableToLoadItem:function(n){return this.$1mx=n,this.$7("UnableToLoadItem"),n},get_Title:function(){var n=this.$5V.$6r,t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return t&&(n=t.$1q),Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_RegardingObject_Card_Title"),n)},get_RegardingObjectDisplayName:function(){return this.$5V.$1c},get_RegardingObjectType:function(){return this.$5V.$6r},$gl:function(){var t=new Xrm.Objects.EntityReference(this.$5V.$6r,new Microsoft.Crm.Client.Core.Framework.Guid(this.$5V.$2p)),i=Microsoft.Crm.Client.Core.Framework.$q.$4t(this.$L,this.$L),n=this,r=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(t,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I),Microsoft.Crm.Client.Core.ViewModels.$k.get_$1gD(),i).then(function(t){n.set_ModelContext(Microsoft.Crm.Client.Core.Models.$c.$X(t));var i=n.$67("TopMenu");i&&Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(i)&&Microsoft.Crm.Client.Core.ViewModels.MailApp.$4m.$29L(t,i)},function(){r.set_UnableToLoadItem(!0)})},$15c:function(n){this.set_UnableToLoadItem(!0);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$15c.call(this,n)},openRegardedEntity:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$8o.openRegardedEntity()},updateFieldsVisibility:function(){$0.$0(this.$H)||Microsoft.Crm.Client.Core.ViewModels.MailApp.$4m.$1d5(this.$H)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rx=function(){this.$QH=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw));Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rx.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rx.prototype={get_Collection:function(){return this.$QH.toArray()},$1C5:function(n){if(!$0.$0(this.$Td(n.$1P)))throw Error.argument("Duplicate Id");this.$QH.add(n);this.$7("StatusCollectionChanged")},$3w:function(n){this.$86();this.$QH.add(n);this.$7("StatusCollectionChanged")},$Td:function(n){for(var t=0;t<this.$QH.get_Count();t++)if(this.$QH.get_Items()[t].$1P===n)return this.$QH.get_Items()[t];return null},$86:function(){this.$QH.clear()}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw.initializeBase(this);this.$5w=t;this.set_$2m(n);this.$t=$0.$0(i)?0:i};Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw.prototype={$5w:null,$t:0,get_State:function(){return this.$t},set_State:function(n){return this.$t!==n&&(this.$t=n,this.$7("State")),n},get_Message:function(){return this.$5w},set_Message:function(n){return this.$5w!==n&&(this.$5w=n,this.$7("Message")),n}};Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel=function(n){this.$$d_$2sq=Function.createDelegate(this,this.$2sq);this.$$d_$2sf=Function.createDelegate(this,this.$2sf);Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel.$2TI=function(n,t){var i=$0.$0(t)?"":t.$A0,r=i===n?"":n,u=$0.$0(t)?0:t.$z1;return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(new Xrm.Objects.EntityReference("unknownrecipient",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),{DisplayName:r,EmailAddress:i,RecipientType:u},{DisplayName:14,EmailAddress:14,RecipientType:14},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)))};Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel.prototype={$1QE:!1,get_$2UY:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Distribution_List")},get_$2wQ:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.get_$BB()===1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Other_Unknown_Attendee"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Other_Unknown_Recipient")},get_CreateContactRecommendationMessage:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Track_Create_Contact_Recommendation")},get_ShowCreateContactRecommendation:function(){return this.$1QE},set_ShowCreateContactRecommendation:function(n){return this.$1QE!==n&&(this.$1QE=n,this.$7("ShowContactCreateRecommendation")),n},get_TrackBarViewModel:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$8o},get_AddToCrmButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Add_To_CRM")},get_DisplayNameTooltip:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Full_Name_Tooltip")},get_$3AP:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.get_$BB()===1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Unknown_Attendee"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Unknown_Recipient")},$47:null,$1KJ:!1,$1k:!1,$1QP:!1,get_$2Nc:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q("contact",0)},get_$2Ne:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q("lead",0)},get_$2Nd:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i("contact");return n.$1d0(32)},get_$2Nf:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i("lead");return n.$1d0(32)},get_ErrorMessage:function(){return this.$47},set_ErrorMessage:function(n){return this.$47=n,n},$NU:null,get_FlyOutViewModel:function(){return this.$NU},set_FlyOutViewModel:function(n){return this.$NU=n,n},get_IsSummarySectionVisible:function(){return this.$1KJ},set_IsSummarySectionVisible:function(n){return this.$1KJ=n,n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k=n,n},get_ShowRetryButton:function(){return this.$1QP},set_ShowRetryButton:function(n){return this.$1QP=n,n},get_RetryText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Retry")},get_NoRecipientsMessage:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P.get_$BB()===1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_No_Attendees"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_No_Recipients")},get_EmailAddress:function(){return this.get_ModelContext().GetValue("EmailAddress")},get_DisplayName:function(){return this.get_ModelContext().GetValue("DisplayName")},get_IsNameShouldBeDisplayed:function(){var n=this.get_ModelContext().GetValue("RecipientType");return n!==1},retryButtonClick:function(){Microsoft.Crm.Client.Core.ViewModels.$2s.get_$6().$170(!0);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("RetryButton_Clicked"))},$2Z:function(){this.$1a||(this.$9R?this.$1k=!0:$0.$0(this.get_ModelContext())?(this.$47=this.get_NoRecipientsMessage(),this.$1QP=!0):this.get_$2Nc()||this.get_$2Ne()?this.get_$2Nd()||this.get_$2Nf()?(this.$1KJ=!0,this.$2mH(),this.$NU.AddPropertyChangedListener("FlyOutExpanded",this.$$d_$2sf),this.$1rF(),this.get_TrackBarViewModel().AddPropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$1Qm,this.$$d_$2sq)):this.$47=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Cant_Create_Contact_Lead_In_CRM_Without_Priviliges_Mobile"),this.get_EmailAddress()):this.$47=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Cant_Create_Contact_Lead_In_CRM_Without_Priviliges"),this.get_EmailAddress()),Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$2Z.call(this))},$1rF:function(){var n=this.get_TrackBarViewModel().get_$4B().$dR.$A0;this.set_ShowCreateContactRecommendation(this.get_EmailAddress()===n&&!this.get_TrackBarViewModel().$t)},$2sq:function(){this.get_TrackBarViewModel().$t===2||this.get_TrackBarViewModel().$t===1?this.set_ShowCreateContactRecommendation(!1):this.$1rF()},$2sf:function(n){n.$Ql&&Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppAddRecipientToCRMClick"))},$2mH:function(){this.$NU=new Microsoft.Crm.Client.Core.ViewModels.$4N;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q("contact",0)&&this.$NU.$CK("createContact",this.$1wL("contact"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q("lead",0)&&this.$NU.$CK("createLead",this.$1wL("lead"));this.$NU.set_Visible(this.$NU.$SG>0);this.$NU.set_Enabled(this.$NU.$SG>0)},$1wL:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel,u,t,r;return i.set_PrimaryModelName(n),i.set_DefinitionId(i.$D),i.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(null,{})),u=new Microsoft.Crm.Client.Core.Commands.$2R(i,36),t=new Microsoft.Crm.Client.Core.ViewModels.$24,t.set_Visible(!0),t.set_Enabled(!0),t.set_ActionCommand(u),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n),t.set_Label(r?r.$1q:n),t.set_$2m(n),t},get_HeaderText:function(){var n=this.get_ModelContext().GetValue("RecipientType");switch(n){case 1:return this.get_$2UY();case 0:return this.get_$2wQ()}return this.get_$3AP()},$Oh:function(){this.$NU.RemovePropertyChangedListener("FlyOutExpanded",this.$$d_$2sf);this.get_TrackBarViewModel().RemovePropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$1Qm,this.$$d_$2sq);Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.$E5=function(){this.$$d_$27f=Function.createDelegate(this,this.$27f);Microsoft.Crm.Client.Core.ViewModels.MailApp.$E5.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.$E5.prototype={$1KF:!1,$BU:!1,$1f6:!1,$IU:null,$hk:!1,get_$61:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},get_$4B:function(){return this.get_$61().$2P},get_EntityReferenceField:function(){return this.$IU},set_EntityReferenceField:function(n){return this.$IU!==n&&(this.$IU=n,this.$1nA()),n},get_ShowLabel:function(){return this.$hk},set_ShowLabel:function(n){return this.$hk!==n&&(this.$hk=n,this.$7("ShowLabel")),n},get_Label:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MenuItem_Label_SetRegarding")},get_$2oK:function(){return this.get_$61().$8o.$1k},get_$2pK:function(){return this.get_$61().$8o.$lY},get_$2nc:function(){return this.get_$61().$8o.$13r},get_IsSetRegarding:function(){return this.$1KF},set_IsSetRegarding:function(n){return this.$1KF!==n&&(this.$1KF=n,this.$7("IsSetRegarding")),n},get_IsActive:function(){return this.$BU},set_IsActive:function(n){return this.$BU=n,this.$7("IsActive"),n},get_IsVisible:function(){return this.$1f6},set_IsVisible:function(n){return this.$1f6=n,this.$7("IsVisible"),n},$222:function(){var t,u;if($0.$0(this.get_ModelContext()))return null;if(!$0.$0(this.$IU))return t=this.get_ModelContext().GetValue(this.$IU),this.$264(t);if(Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_ModelContext())){var i=this.get_ModelContext().$I,r=i.$a,n=this.$264(r);return Microsoft.Crm.Client.Core.Framework.$3.$12(n.$1c)&&(u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r.LogicalName),n.$1c=i.getValue(u.$59)),n}return null},$2Z:function(){this.$1a||(this.get_$61().$2P.AddPropertyChangedListener("EmailItem",this.$$d_$27f),this.get_$61().$8o.AddPropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$gC,this.$$d_$27f),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this))},$27f:function(){this.$1nA()},$Hd:function(){this.$1nA()},$264:function(n){return $0.$0(n)?null:new Microsoft.Crm.Client.Core.Models.MailApp.$8O(n.Id.toString(),n.TypeName,n.Name)},$1nA:function(){var n=this.$222();if(!this.get_$2pK()||!this.get_$2nc()||$0.$0(n)){this.set_IsVisible(!1);return}this.set_IsVisible(!0);this.$BU=!this.get_$2oK();$0.$0(this.get_$4B().$8K)||this.set_IsSetRegarding(this.get_$4B().$8K.$DR===n.$2p&&this.get_$4B().$8K.$E1===n.$6r)},onClick:function(){var n={regardingObject:this.$222()},t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("SetRegardingButtonCommand","SetRegardingButtonCommand",n),i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,t);i.execute()},$Oh:function(){this.get_$61().$2P.RemovePropertyChangedListener("EmailItem",this.$$d_$27f);this.get_$61().$8o.RemovePropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$gC,this.$$d_$27f);Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel=function(){this.$$d_$2vD=Function.createDelegate(this,this.$2vD);this.$$d_$2va=Function.createDelegate(this,this.$2va);this.$$d_$1jj=Function.createDelegate(this,this.$1jj);this.$$d_$27f=Function.createDelegate(this,this.$27f);this.$$d_$1MM=Function.createDelegate(this,this.$1MM);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.prototype={$1k:!0,get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k!==n&&(this.$1k=n,this.$7("IsLoading")),n},get_$61:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},get_$4B:function(){return this.get_$61().$2P},get_$1F3:function(){return this.$2.$67("FilteredEmailTemplatesList")},get_$N8:function(){return this.get_$61().$8o},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$1Nw(),this.$25m(),this.$2D9(),this.$1Z8())},$25m:function(){this.$2AH(!0,this.$2fw());this.$2AH.apply(this,[!1].concat(this.$2ia()))},$1Nw:function(){this.$2.add_$6F(this.$$d_$1MM);this.get_$4B().AddPropertyChangedListener("EmailItem",this.$$d_$27f);this.get_$61().get_$Ms().add_CollectionChanged(this.$$d_$1jj);this.get_$N8().AddPropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$gC,this.$$d_$2va);this.AddPropertyChangedListener("SelectedItem",this.$$d_$2vD)},$27f:function(){this.$2Ay()},$1jj:function(){this.$2Ay()},$2va:function(){(this.set_IsLoading(this.get_$N8().$1k),this.get_$N8().$1k!==this.$dS)&&(this.$1Z8(),this.$1wO())},$2Ay:function(){var n=this.$4i,i,t;this.set_ItemsList(new Array(0));this.$25m();i=this;t=this.$D8(function(t){return t.$5V.$2p===n});(Microsoft.Crm.Client.Core.Framework.$3.$9(n)||$0.$0(t))&&this.$2D9();this.$1Z8();this.$1wO()},$2D9:function(){var i,t,n;if(!this.get_ItemsList().length){this.set_SelectedItem("");return}if(i=this,t=this.$D8(function(n){return n.$1AH}),t){this.set_SelectedItem(t.$1s);return}if(n=this.$21f("contact","lead"),n.get_Count()>0){this.set_SelectedItem(n.get_$R(0).$1s);return}n=this.$21f("systemuser");n.get_Count()>0&&this.set_SelectedItem(n.get_$R(0).$1s)},$21f:function(){for(var f,t,i,r,u=[],n=0;n<arguments.length;++n)u[n]=arguments[n];for(f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$1vE)),t=0;t<this.get_ItemsList().length;t++)for(i=0;i<u.length;i++)if((r=this.get_ItemsList()[t],!r.$1AH)&&r.$5V.$6r===u[i]){f.add(r);break}return f},$1Z8:function(){if(this.get_$N8().$1k){this.$dS=!0;return}this.$dS=this.get_ItemsList().length<2},$2AH:function(n){for(var i,r,f,u=[],t=1;t<arguments.length;++t)u[t-1]=arguments[t];for(i=0;i<u.length;i++)(r=u[i],r)&&(f=this,this.$D8(function(n){return n.$5V.$2p===r.$2p})||this.get_ItemsList().push(new Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$1vE(r,n)))},$2fw:function(){var n=this.get_$N8().$5V;return!$0.$0(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$1c)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$6r)?n:null},$2ia:function(){for(var n,i=new Array(0),r=this.get_$61().$Rp.get_TabItems(),t=0;t<r.length;t++)n=r[t],n.get_$U0()&&n.$df.$1UA!==3&&i.push(Microsoft.Crm.Client.Core.Models.MailApp.$8O.$1aJ(n.$Jm));return i},$2vD:function(){var n=this.get_$1PP();this.get_$1F3()&&n&&this.get_$1F3().set_$rO(this.$1HR(n.$6r))},$1HR:function(n){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n).$9p},get_$1PP:function(){if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$4i))return null;var n=this;return this.$D8(function(t){return t.$5V.$2p===n.$4i}).$5V},$1MM:function(){this.$2.remove_$6F(this.$$d_$1MM);this.get_$1F3()&&this.get_$1PP()&&this.get_$1F3().set_$rO(this.$1HR(this.get_$1PP().$6r))},$D8:function(n){for(var i,t=0;t<this.get_ItemsList().length;t++)if(i=this.get_ItemsList()[t],n(i))return i;return null},$Oh:function(){this.$2.remove_$6F(this.$$d_$1MM);this.get_$4B().RemovePropertyChangedListener("EmailItem",this.$$d_$27f);this.get_$61().get_$Ms().remove_CollectionChanged(this.$$d_$1jj);this.get_$N8().RemovePropertyChangedListener(Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$gC,this.$$d_$2va);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$1wO:function(){this.set_ItemsList(this.get_ItemsList())},$2zm:function(){Microsoft.Crm.Client.Core.ViewModels.$2s.get_$6().$170(!0)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$1vE=function(n,t){Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$1vE.initializeBase(this,[n.$2p,Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Email_Templates_Regarding_Combobox_Label"),Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$1vE.$2g2(n.$6r),n.$1c)]);this.$5V=n;this.$1AH=t};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$1vE.$2g2=function(n){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n).$1q};Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$1vE.prototype={$5V:null,$1AH:!1};Microsoft.Crm.Client.Core.ViewModels.MailApp.$8M=function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.$8M.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.$8M.$6f=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V("PopOutLinkLabelViewModel"),i;return(t.set_ModelContext(n),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.get_$HV()),i)?(t.set_Data(n.GetValue(i.$59)),t.$2Z(),t):null};Microsoft.Crm.Client.Core.ViewModels.MailApp.$8M.prototype={$IU:null,$1QR:!1,get_EntityReferenceField:function(){return this.$IU},set_EntityReferenceField:function(n){return this.$IU!==n&&(this.$IU=n,this.$7("EntityReferenceField")),n},get_ShowSetRegardingButton:function(){return this.$1QR},set_ShowSetRegardingButton:function(n){return this.$1QR!==n&&(this.$1QR=n,this.$7("ShowSetRegardingButton")),n},createSetRegardingButtonViewModel:function(){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$IU)||!$0.$0(this.get_ModelContext())){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V("SetRegardingButtonViewModel");return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$IU)||n.set_EntityReferenceField(this.$IU),$0.$0(this.get_ModelContext())||n.set_ModelContext(this.get_ModelContext()),n.$2Z(),n}return null},popOutLinkLabelClick:function(n){var t=null,i;try{Microsoft.Crm.Client.Core.Framework.$3.$9(this.$IU)?t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(n,n,{TargetViewModel:this})):(i=this.get_ModelContext().GetValue(this.$IU),t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(n,n,{RecordId:i.Id.toString(),RecordType:i.TypeName})));t.execute()}finally{$0.$0(t)||t.dispose()}}};Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel=function(n){this.$$d_$2uN=Function.createDelegate(this,this.$2uN);Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel.initializeBase(this,[n]);this.$v7=0};Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel.prototype={$v7:0,$2KQ:function(){var i=this.$CL,t,n;for(t in i)n={key:t,value:i[t]},(Object.getType(n.value)===Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel||Object.getType(n.value)===Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel)&&(this.$v7+=2,n.value.AddPropertyChangedListener("RecordCount",this.$$d_$2uN))},$2uN:function(n){var t=n;t.set_Visible(!!t.$1f.get_Count());this.$v7--;this.$v7<=0&&this.$2lh()},$2lh:function(){var n=this.$67("loading");$0.$0(n)||n.set_Visible(!1);this.$v7=0},$gl:function(n){var i,t,u,r;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$gl.call(this,n);this.$2KQ();i=this.$67("TopMenu");t=this.get_ModelContext().$I;i&&Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(i)&&Microsoft.Crm.Client.Core.ViewModels.MailApp.$4m.$29L(t,i);(t.$a.LogicalName==="contact"||t.$a.LogicalName==="lead")&&(u=t.$a.LogicalName==="contact"?"parentcustomerid":"parentaccountid",$0.$0(t.getValue(u))&&(r=this.$67("CompanyPane"),!$0.$0(r)&&Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(r)&&r.set_Visible(!1)))},$2H0:function(n,t){for(var i,u=t.$1f,r=0;r<u.get_Count();r++)if(i=u.getItem(r),!$0.$0(i)&&!$0.$0(i.get_ModelContext())&&i.get_ModelContext().get_Id().toLowerCase()===n.toLowerCase())return i;return null},getActivityParentListTitle:function(n){var i=this.$67("UpcomingActivities"),u=this.$2H0(n,i),t,r;if($0.$0(u)){if(t=this.$67("PastActivities"),r=this.$2H0(n,t),!$0.$0(r))return t.get_Title()}else return i.get_Title();return null}};Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel=function(n){this.$$d_$2uU=Function.createDelegate(this,this.$2uU);this.$$d_$2us=Function.createDelegate(this,this.$2us);this.$$d_$2sp=Function.createDelegate(this,this.$2sp);Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel.initializeBase(this,[n]);this.set_ShowIcon(!1);var t=this;this.set_RequestCloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2sp,1013,this,"IsCloseButtonEnabled",function(){return t.get_$1dz()}));this.add_$2Ab(this.$$d_$2us)};Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel.prototype={$eL:null,$14f:null,$1eH:!1,$2sp:function(){this.$25z("Cancel");this.$QG()},set_$2TW:function(n){return $0.$0(this.$eL)||this.$eL.remove_$1hT(this.$$d_$2uU),this.$eL=n,n},get_$61:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$27U:function(n){this.$22N(n,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Duplicate_Detection_Dialog_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Duplicate_Detection_Dialog_Body"))},$2us:function(n){Xrm.XrmUtilityWrapper.$j8(n,null)},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.prototype.$Hd.call(this);this.$2y6();this.$1eH||$0.$0(this.get_ModelContext())||(this.$2qy(),this.$1eH=!0)},$2qy:function(){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppAddRecipientToCRMMenuClick");n.$h("Item",this.get_ModelContext().get_$HV());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n)},$25z:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppRecipientCreateFormAction");t.$h("Action",n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)},$1so:function(){this.$25z(this.$tP?"SaveAndViewInCRM":"Save");Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.prototype.$1so.call(this)},$2y6:function(){var n=this.get_$61().$Rp.get_SelectedTabItem().$df;$0.$0(this.get_ModelContext())||(this.$2y5(n),this.$2y4(n))},$2y5:function(n){this.get_ModelContext().$I&&"emailaddress1"in this.get_ModelContext().$I.$27&&this.get_ModelContext().SetValue("emailaddress1",n.$A0)},$2y4:function(n){var i=n.$3y,r=null,t=null,s=i.indexOf("@")!==-1?!0:!1,u,f,o,e;Microsoft.Crm.Client.Core.Framework.$3.$9(i)||s?(o=n.$A0,e=o.substring(0,o.indexOf("@")).split("."),e.length===2&&(r=Microsoft.Crm.Client.Core.Framework.$3u.$1r6(e[0]),t=Microsoft.Crm.Client.Core.Framework.$3u.$1r6(e[1]))):(u=i.split(","),u.length>1?u.length===2?(t=u[0],r=u[1]):t=i:(f=i.split(" "),t=f[f.length-1],r=f.length>1?f.slice(0,-1).join(" "):null));this.get_ModelContext().SetValue("lastname",t?t.trim():null);this.get_ModelContext().SetValue("firstname",r?r.trim():null)},$27X:function(n,t){var u={EntityTypeName:t.get_$BZ()},r=new Microsoft.Crm.Client.Core.Framework.$M8("SenderFormCreate",u),i;Microsoft.Crm.Client.Core.Framework.$t.get_$6().$br(r);Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(r.rid);Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.prototype.$27X.call(this,n,t);this.$2xO(n);i=new Microsoft.Crm.Client.Core.Commands.$2R(this,34);i.execute();i.dispose()},$2xO:function(n){var r=n.GetValue("parentcustomerid!Id"),t,i;$0.$0(r)||(t=r.toString(),this.$2Ns(t)&&this.$37R(n.get_Id(),t));i=this.$2rq(n);this.get_$61().get_$Ms().$3w(i);this.$37c(i)},$37c:function(n){var i=this.get_$61().$2P.$dR.$A0,t=this.get_$61().$Rp.get_SelectedTabItem();i!==t.get_$ee()||this.get_$61().$8o.$t||this.get_$61().$8o.changeMailItemState(1,n.$a.TypeName,n.$a.get_identifier(),t.$3y)},$2rq:function(n){for(var t,f=new Xrm.Objects.EntityReference(n.get_$Fe(),new Microsoft.Crm.Client.Core.Framework.Guid(n.get_Id())),i={},r={},u=0;u<n.get_$TI().length;u++)t=n.get_$TI()[u],i[t]=n.GetValue(t),r[t]=14;return Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$6y.$1p3(i,r,this.get_$61().$Rp.get_SelectedTabItem().$df.$A0),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(f,i,r,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)))},$2Ns:function(n){return!$0.$0(this.$14f)&&n===this.$14f.get_Id()&&$0.$0(this.$14f.GetValue("primarycontactid"))},$37R:function(n,t){var f=new Xrm.Objects.EntityReference("contact",new Microsoft.Crm.Client.Core.Framework.Guid(n)),e=new Xrm.Objects.EntityReference("account",new Microsoft.Crm.Client.Core.Framework.Guid(t)),o={primarycontactid:f},i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(e,o,{primarycontactid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),u,r;i.$4w.add("primarycontactid");i.set_clientRetrieveOptions(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(2,1));u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateRecordForQuickEditForm",{});r=new Microsoft.Crm.Client.Core.ViewModels.$Sh;r.set_ModelContext(Microsoft.Crm.Client.Core.Models.$c.$X(i));this.get_$61().$1t("ActionProvider",r,u)},$Oh:function(){$0.$0(this.$eL)||this.$eL.remove_$1hT(this.$$d_$2uU);Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.$Oh.call(this)},$nR:function(n){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$nR.call(this,n);this.set_$2TW(this.$1w9(n));$0.$0(this.$eL)||this.$eL.add_$1hT(this.$$d_$2uU)},$1w9:function(n){var t,i,r,u;if(!$0.$0(n)){if("parentcustomerid_edit"in n)return n.parentcustomerid_edit;t=n;for(i in t)if(r={key:i,value:t[i]},Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(r.value)&&(u=this.$1w9(r.value.$H),!$0.$0(u)))return u}return null},$2uU:function(n){$0.$0(n)||(this.$14f=n)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel=function(n){Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.initializeBase(this,[n]);this.set_IsSaveAndEditButtonHidden(!0);this.set_IsViewInCRMHidden(!0);this.set_IsSaveAndCloseButtonHidden(!0);this.set_IsCloseButtonHidden(!0)};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks=function(n,t,i){!$0.$0(n.$I)&&t in n.$I.$27&&!$0.$0(i)&&n.SetValue(t,i)};Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.prototype={$tP:!1,$1f4:!1,get_IsViewInCRMChecked:function(){return this.$tP},set_IsViewInCRMChecked:function(n){return this.$tP=n,this.$7("IsViewInCRMChecked"),n},get_IsViewInCRMHidden:function(){return this.$1f4},set_IsViewInCRMHidden:function(n){return this.$1f4=n,this.$7("IsViewInCRMHidden"),n},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Hd.call(this);this.$2y6()},$27X:function(n,t){Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.$27X.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$8o.showNotification(this.$2tB(n),0)},$27U:function(n){this.$22N(n,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Search_Page_Duplicate_Detection_Dialog_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Search_Page_Duplicate_Detection_Dialog_Body"))},$2tB:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.get_ModelName());return Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Notification_Record_Created"),t.$1q)},$22N:function(n,t,i){this.set_IsSaving(!1);switch(n.$m){case-2147220685:var r=this,u=this;Microsoft.Crm.Client.Core.ViewModels.$14.$17u(t,i,1,function(){r.$S8=!0;r.$CO()},function(){},Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Duplicate_Detection_Dialog_Save_Button"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Duplicate_Detection_Dialog_Cancel_Button"));break;default:this.$MZ(n)}},$1Hy:function(n,t){var i,r,u;$0.$0(t)||(this.$D6===3&&(this.$D6=1,i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenInBrowserCommand","OpenInBrowserCommand",{TargetViewModel:this})),i.execute(),i.dispose()),r={Action:"SetRegardingNewRecordAction"},r.RegardingObjectType=t.get_$BZ(),u=new Microsoft.Crm.Client.Core.Framework.$M8("MailAppAction",r),Microsoft.Crm.Client.Core.Framework.$t.get_$6().$br(u),Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(u.rid));Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.$1Hy.call(this,n,t)},$1so:function(){this.$D6=this.$tP?3:1;this.$31L();this.$CO()},$QG:function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppQuickCreateClosed"));Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.$QG.call(this)},$2y6:function(){var n=this.get_ModelContext(),t=this.$2ge(),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),r,u;if(!n.$2h){if(!$0.$0(n)){r=null;u=null;$0.$0(t)||(r=t.getValue("parentcustomerid"),u=new Xrm.Objects.EntityReference(t.$a.LogicalName,t.$a.Id,t.getValue("fullname").toString()));switch(n.get_$HV()){case"account":$0.$0(t)||Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"primarycontactid",u);return;case"opportunity":$0.$0(t)||(Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"parentcontactid",u),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"parentaccountid",r));Microsoft.Crm.Client.Core.Framework.$3.$9(i.$2P.$GC.$BM)||Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"name",i.$2P.$GC.$BM);break;case"incident":$0.$0(t)||(Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"primarycontactid",u),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"customerid",r));Microsoft.Crm.Client.Core.Framework.$3.$9(i.$2P.$GC.$BM)||Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"title",i.$2P.$GC.$BM);break;case"lead":$0.$0(t)||(Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"firstname",t.getValue("firstname")),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"lastname",t.getValue("lastname")),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"mobilephone",t.getValue("mobilephone")),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"emailaddress1",t.getValue("emailaddress1")),Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"companyname",$0.$0(r)?"":r.Name))}}$0.$0(n)||Xrm.Utility.isActivityType(n.get_$HV())&&(Microsoft.Crm.Client.Core.Framework.$3.$9(i.$2P.$GC.$BM)||Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"subject",i.$2P.$GC.$BM),Microsoft.Crm.Client.Core.Framework.$3.$9(i.$2P.$GC.$il)||Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.$Ks(n,"description",i.$2P.$GC.$il.trim()))}},$2ge:function(){for(var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Rp.get_TabItems(),n=null,t=0,r;$0.$0(n)&&t<i.length;)r=i[t].$Jm,$0.$0(r)||r.$a.LogicalName==="contact"&&(n=i[t]),t++;return $0.$0(n)?null:n.$Jm},$31L:function(){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppQuickCreateSaveClicked");n.$h("IsViewInCrmChecked",this.$tP);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n)},$gl:function(n){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$gl.call(this,n);this.set_IsViewInCRMHidden(!1);this.set_IsSaveAndCloseButtonHidden(!1);this.set_IsCloseButtonHidden(!1)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RefreshMetadataAction=function(){this.$$d_$1jC=Function.createDelegate(this,this.$1jC);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RefreshMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RefreshMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RefreshMetadata",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RefreshMetadataAction.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RefreshMetadataAction.$X=function(){return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RefreshMetadataAction};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RefreshMetadataAction.prototype={$2E:function(){return this.$El(this.$$d_$1jC,this.get_$KL()),1},$1jC:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){var n=this;Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().$1jC().then(function(){n.$14()},this.$$d_$1R)}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction=function(){this.$$d_$1D4=Function.createDelegate(this,this.$1D4);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("CheckMetadataChanged",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction;return Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction.$wa(i,t),i};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction.$wa=function(n,t){if(!$0.$0(t)){var i=t;n.$6K=i.OnSuccess}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction.prototype={$6K:null,$2E:function(){return this.$El(this.$$d_$1D4,this.get_$KL()),1},$1D4:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){var n=this;Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().$1D4().then(function(t){n.$6K(t);n.$14()},this.$$d_$1R)}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction=function(){this.$$d_$2xF=Function.createDelegate(this,this.$2xF);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("SetTrackingInfoAction",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction;return Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$wa(i,t),i};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$wa=function(n,t){var r=t,i=r.QueryValue;n.$6K=i.OnSuccess;n.$19z=i.FollowModel;n.$9E=i.CrmId};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.prototype={$6K:null,$19z:null,$9E:null,$2E:function(){return this.$El(this.$$d_$2xF,this.get_$KL()),1},$2xF:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){var n=this;Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().$1lU(this.$19z.$ob,this.$19z.$oa,this.$9E).then(function(){n.$6K(!0);n.$14()},this.$$d_$1R)}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction=function(){this.$$d_$32e=Function.createDelegate(this,this.$32e);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveEmailLinksAction",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction;return Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$wa(i,t),i};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$wa=function(n,t){var r=t,i=r.QueryValue;n.$6K=i.OnSuccess;n.$9E=i.CrmId};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.prototype={$6K:null,$9E:null,$2E:function(){return this.$El(this.$$d_$32e,this.get_$KL()),1},$32e:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){var n=this;Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().$20H(this.$9E).then(function(t){($0.$0(t)||$0.$0(t.$1AY))&&n.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'links' must not be null or undefined."));n.$14(t.$1AY)},this.$$d_$1R)}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))},$14:function(n){$0.$0(this.$6K)||this.$6K(n);Microsoft.Crm.Client.Core.ViewModels.$RA.prototype.$14.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction=function(){this.$$d_$2C3=Function.createDelegate(this,this.$2C3);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveEmailEntities",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.$X=function(){return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.prototype={$2E:function(){return this.$El(this.$$d_$2C3,this.get_$KL()),1},$2C3:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){var n=this;Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().$20L().then(function(t){if($0.$0(t))n.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'entities' must not be empty."));else{var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P;i.set_$2Kw(t.$1ST);i.set_$2xR(t.$1U0);n.$14()}},this.$$d_$1R)}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Am=function(){Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Am.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Am.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveIsSentFolder",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Am.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Am.$X=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Am;return n.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1k3,n};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Am.prototype={get_$4B:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P},$6K:null,$2E:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$24k(function(t){$0.$0(t)?n.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("Failed to retrieve folder info")):n.$14(t)})}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available."));return 1},$14:function(n){this.get_$4B().$1AU=n;$0.$0(this.$6K)||this.$6K();Microsoft.Crm.Client.Core.ViewModels.$RA.prototype.$14.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase=function(){this.$$d_$1R=Function.createDelegate(this,this.$1R);this.$$d_$2sZ=Function.createDelegate(this,this.$2sZ);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase.initializeBase(this);this.$1b_3=this.$$d_$2sZ};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase.prototype={$4H:null,$5K:null,get_$N8:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$8o},$14:function(){$0.$0(this.$4H)||(Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(this.$4H.rid),this.$4H=null);this.get_$N8().onEmailContextActionSuccess(this.$5K);Microsoft.Crm.Client.Core.ViewModels.$RA.prototype.$14.call(this)},$1R:function(n){$0.$0(this.$4H)||(this.$4H.p.ErrorCode=n.$m,this.$4H.p.ErrorMessage=n.$F,Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(this.$4H.rid),this.$4H=null);Microsoft.Crm.Client.Core.ViewModels.$RA.prototype.$1R.call(this,n)},$2sZ:function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1,n.$F);this.get_$N8().$2tV(n.$m)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction=function(n){this.$$d_$2HN=Function.createDelegate(this,this.$2HN);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.initializeBase(this);this.$5K=n};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("UpdateEmailContext",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.$X=function(n,t){var i=t,u=i.QueryValue,r=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction(u);return $0.$0(i.OnFailure)||(r.$1b_3=i.OnFailure),$0.$0(i.OnSuccess)||(r.$J=i.OnSuccess),r};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.prototype={$J:null,$2E:function(){this.get_$N8().get_$4B().set_$1F1(1);return this.$4H=new Microsoft.Crm.Client.Core.Framework.$M8("MailAppAction",{Action:"UpdateEmailContextAction"}),Microsoft.Crm.Client.Core.Framework.$t.get_$6().$br(this.$4H),this.$El(this.$$d_$2HN,this.get_$KL()),1},$2Fl:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("SSSReliablePromote")},$2ih:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Framework.$7),t=this,i=this;return Microsoft.Crm.Client.Core.Models.$c.$jn("email",new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(new Array(0))).then(function(i){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(t.$5K.$DR)){var r=new Xrm.Objects.EntityReference(t.$5K.$E1,new Microsoft.Crm.Client.Core.Framework.Guid(t.$5K.$DR));i.$I.initializeValue("regardingobjectid",r,1);i.$I.$4w.add("regardingobjectid")}n.resolve(i.$I)},function(){n.reject()}),n.promise()},$2O9:function(){if(this.$5K.$SV==="appointment"&&Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5K.$SU)){this.$1su();return}if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5K.$SU))this.$GT(!1);else{var t=new Xrm.Gen.CheckPromoteEmailRequest(this.$5K.$SU),n=this,i=this;this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(t,this.get_$Y()),function(t){var i=t;i.shouldPromote?n.$5K.$SV==="appointment"?n.$1su():n.$2UB():(n.$5K.$83=2,n.$GT(!1))},function(){i.$GT(!1)})}},$1su:function(){var t=[],n,i;Array.add(t,Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().$1HM());Array.add(t,Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().getAttachmentDetails());n=this;i=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(t){var i=new Array(0),r=new Array(0),u=new Array(0),f=Microsoft.Crm.Client.Core.ViewModels.MailApp.$8a.$2Qh(n.$5K,t,i,u,r);Xrm.Internal.messages.book(f).then(function(t){var i=t,u=t.name,r=i.validationResult.$SK;n.$5K.$9E=r.toString();n.$5K.$83=2;n.$GT(!0)},function(){n.$GT(!1)})},function(){i.$GT(!1)})},$2UB:function(){var t=[],n,i;Array.add(t,Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().getRecipients());Array.add(t,Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().$1HM());Array.add(t,Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().getAttachmentDetails());Array.add(t,this.$2ih());n=this;i=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(t){var r=t[0],l='"'+r.$L4.$3y+'" '+r.$L4.$A0,a=n.$1c3(r.$Q5),v=n.$1c3(r.$oE),y=n.$1c3(r.$oC),f=t[1],p=f.$BM,w=f.$oR,b=f.$SM,e=null,c="",o=t[2],i,s,h;o.$xr.length>0&&(e=o.$xr,c=o.$1T1);i=t[3];e&&(i.initializeValue("attachmentids",e,22),i.markFieldChanged("attachmentids"),i.initializeValue("ewsurl",c,14),i.markFieldChanged("ewsurl"),i.initializeValue("attachmenttoken","Attachment_Token_String",14),i.markFieldChanged("attachmenttoken"));s=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();s.$z="activitymimeattachment";h=Microsoft.Crm.Client.Core.Framework.Guid.get_empty();Microsoft.Crm.Client.Core.Framework.$3.$9(n.$5K.$9E)||(h=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n.$5K.$9E));var u=new Xrm.Gen.DeliverPromoteEmailRequest(h,n.$5K.$SU,p,l,a,v,y,w,"","",b,s,i),k=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$Hp(),d=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$1t(k),g=d.$1Y0(u.name,u.name+"Request",Xrm.Soap.Serializer.$8d(u),"b",u.xmlNamespace);n.$1H(Xrm.Gen.DeliverPromoteEmailResponse,Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().getDeliverPromoteDetails(g),function(t){if(t){var i=t.emailId;n.$5K.$9E=i.toString();n.$5K.$83=2;n.$31G();n.$GT(!0)}else n.$GT(!1)},function(){n.$GT(!1)})},function(){i.$GT(!1)})},$3AR:function(){var n,t,i,r;this.$5K.$83===4?(n="email",this.$5K.$SV==="appointment"&&(n=this.$5K.$L0===3?"recurringappointmentmaster":"appointment"),Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5K.$9E)?(this.$5K.$83=0,this.$GT(!0)):(t=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(this.$5K.$9E)),n==="recurringappointmentmaster"?this.$2U6(t):(i=this,r=this,this.$1H(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.Delete(t,this.get_$Y()),function(){i.$1rc()},function(){r.$GT(!1)})))):(this.$5K.$83=0,this.$GT(!0))},$2U6:function(n){var t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(n,{},{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),i=new Date,r=new Xrm.Gen.DeleteOpenInstancesRequest(t,i,0),u=new Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$1t(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$Hp()),f=this,e=this;u.$1i(r).then(function(){f.$1rc()},function(){e.$GT(!1)})},$1rc:function(){this.$5K.$9E="";this.$5K.$83=0;this.$GT(!0)},$1c3:function(n){var r="",i;if(!$0.$0(n)&&n.length>0)for(var u=n,f=u.length,t=0;t<f;++t)i=u[t],r+='"'+i.$3y+'" '+i.$A0+";";return r},$2HN:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$24O()){this.$GT(!1);return}this.$2Fl()&&this.$5K.$83===1?this.$2O9():this.$2Fl()&&(this.$5K.$83===3||this.$5K.$83===4)?this.$3AR():this.$GT(!1)}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))},$GT:function(n){var t,r,i;this.$31H(n);t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));n?t.add(new Microsoft.Crm.Client.Core.Storage.Office.$Gw(1,new Microsoft.Crm.Client.Core.Storage.Office.$4f(Microsoft.Crm.Client.Core.Storage.Office.$2E.$1tv,this.$5K.$9E?this.$5K.$9E:"")).$1v()):t.add(new Microsoft.Crm.Client.Core.Storage.Office.$Gw(1,new Microsoft.Crm.Client.Core.Storage.Office.$4f(Microsoft.Crm.Client.Core.Storage.Office.$2E.$1ty,1)).$1v());t.add(new Microsoft.Crm.Client.Core.Storage.Office.$Gw(1,new Microsoft.Crm.Client.Core.Storage.Office.$4f(Microsoft.Crm.Client.Core.Storage.Office.$2E.$1tx,this.$5K.$83)).$1v());t.add(new Microsoft.Crm.Client.Core.Storage.Office.$Gw(1,new Microsoft.Crm.Client.Core.Storage.Office.$4f(Microsoft.Crm.Client.Core.Storage.Office.$2E.$2Ap,Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5K.$E1)?"":Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$5K.$E1).$9p.toString())).$1v());t.add(new Microsoft.Crm.Client.Core.Storage.Office.$Gw(1,new Microsoft.Crm.Client.Core.Storage.Office.$4f(Microsoft.Crm.Client.Core.Storage.Office.$2E.$2An,this.$5K.$DR)).$1v());t.add(new Microsoft.Crm.Client.Core.Storage.Office.$Gw(1,new Microsoft.Crm.Client.Core.Storage.Office.$4f(Microsoft.Crm.Client.Core.Storage.Office.$2E.$2Ao,this.$5K.$Ge)).$1v());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Jb()&&t.add(new Microsoft.Crm.Client.Core.Storage.Office.$Gw(1,new Microsoft.Crm.Client.Core.Storage.Office.$4f(Microsoft.Crm.Client.Core.Storage.Office.$2E.$1tw,this.$5K.$Pi?1:0)).$1v());r=Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().$2EO(t.toArray(),2,this.$5K.$SV);i=this;r.then(function(n){i.$4H.p.MailItemState=i.$5K.$83;i.$4H.p.RegardingObjectType=i.$5K.$E1;i.$14();$0.$0(i.$J)||i.$J(n)},this.$$d_$1R)},$31H:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppUpdateEmailContextExecuted");t.$h("IsStateUpdateBySSSRequried",!n);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)},$31G:function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("MailAppReportDeliverPromoteExecuted"))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailCustomPropertiesAction=function(){this.$$d_$2yV=Function.createDelegate(this,this.$2yV);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailCustomPropertiesAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailCustomPropertiesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveEmailCustomProperties",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailCustomPropertiesAction.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailCustomPropertiesAction.$X=function(){return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailCustomPropertiesAction};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailCustomPropertiesAction.prototype={get_$4B:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2P},$2E:function(){return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$2fs(this.$$d_$2yV):this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),1},$2yV:function(n,t){$0.$0(t)?(this.get_$4B().$oZ=n,this.$14()):(this.get_$4B().$oZ={},this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$3F9(null,t.message,t.code)))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction=function(n){this.$$d_$2HN=Function.createDelegate(this,this.$2HN);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.initializeBase(this);this.$1Sq=n};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("UpdateEmailCustomProperties",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.$X=function(n,t){var i=t,r="QueryValue"in i?i.QueryValue:null;if(!Object.isInstanceOfType(r))throw Error.argument("'CustomProperties' must be passed within 'QueryValue'.");return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction(r)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.prototype={$1Sq:null,$2E:function(){return this.$El(this.$$d_$2HN,this.get_$KL()),1},$2HN:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$3B0(this.$1Sq,function(t,i){$0.$0(i)?n.$14():n.$1R(Microsoft.Crm.Client.Core.Framework.$7.$3F9(null,i.message,i.code))})}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction=function(){this.$$d_$2yZ=Function.createDelegate(this,this.$2yZ);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveEmailContext",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.$X=function(){return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.prototype={$1On:null,$2E:function(){if(this.get_$N8().get_$4B().set_$1F1(1),this.$4H=new Microsoft.Crm.Client.Core.Framework.$M8("MailAppAction",{Action:"RetrieveEmailContextAction"}),Microsoft.Crm.Client.Core.Framework.$t.get_$6().$br(this.$4H),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){this.$1On=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$7);var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$20J(function(t){$0.$0(t)||Microsoft.Crm.Client.Core.Framework.$3.$12(t.subject)||(n.get_$N8().get_$4B().$GC.$BM=t.subject);n.$1On.resolve(n.get_$N8().get_$4B().$GC.$BM)});Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$2fu(this.get_$N8().$HN,this.$$d_$2yZ)}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available."));return 1},$2yZ:function(n){var i;if(n.status)i=Microsoft.Crm.Client.Core.Framework.$7.$f9(n.status),i.$F=n.message,this.$1R(i);else{var t=n.emailItem,r=t.ItemType==="appointment"?new Microsoft.Crm.Client.Core.Models.MailApp.$O3(t):new Microsoft.Crm.Client.Core.Models.MailApp.$Ja(t),u=this;this.$1On.always(function(){u.$um(r)})}},$um:function(n){this.$5K=n;this.$4H.p.MailItemState=this.$5K.$83;this.$4H.p.RegardingObjectType=this.$5K.$E1;this.$14()}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage");Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel=function(){this.$$d_$39O=Function.createDelegate(this,this.$39O);this.$$d_$1P7=Function.createDelegate(this,this.$1P7);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel.initializeBase(this);this.$C2=this.$$d_$1P7};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel.prototype={$P3:!1,$S9:null,$Tx:!1,get_EnableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Label_Enable")},get_DisableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Label_Disable")},get_OpenOnStart:function(){return this.$P3},set_OpenOnStart:function(n){return this.$P3===n?n:(this.$P3=n,this.$7("OpenOnStart"),n)},get_IsLoaded:function(){return this.$Tx},set_IsLoaded:function(n){return this.$Tx===n?n:(this.$Tx=n,this.$7("IsLoaded"),n)},get_IsTaskFlowSettingsAvailable:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL().$ia},get_LandingPageSettingsHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_LandingPage_Header")},get_OnStartSubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_LandingPage_OpenOnStart")},get_TaskFlow1SubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_LandingPage_TaskFlow1")},get_TaskFlow2SubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_LandingPage_TaskFlow2")},$LC:null,get_TaskFlow1:function(){return this.$LC},set_TaskFlow1:function(n){return this.$LC=n,n},$LD:null,get_TaskFlow2:function(){return this.$LD},set_TaskFlow2:function(n){return this.$LD=n,n},$2Z:function(){if(!this.$1a){this.set_IsLoaded(!1);var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL();this.set_OpenOnStart(n.$P3);this.get_IsTaskFlowSettingsAvailable()?(this.$LC=new Microsoft.Crm.Client.Core.ViewModels.$Bn,this.$LC.set_Label(this.get_TaskFlow1SubHeaderText()),this.$LD=new Microsoft.Crm.Client.Core.ViewModels.$Bn,this.$LD.set_Label(this.get_TaskFlow2SubHeaderText()),this.$S9=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(38)),this.$S9.add_$6F(this.$$d_$39O),this.$S9.set_DefinitionId("TaskBasedFlowGlobalMenu"),this.$S9.$2Z()):this.set_IsLoaded(!0)}Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this)},$39O:function(){var r,u,f,t;this.$S9.remove_$6F(this.$$d_$39O);var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=this.$S9.$H;for(r in e)u={key:r,value:e[r]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(u.value)&&(f=u.value,i.add(f.$1G),n.add(f.$L));t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL();n.contains(t.$nh)?this.$LC.set_SelectedItem(t.$nh):n.get_Count()>0&&this.$LC.set_SelectedItem(n.get_$R(0));n.contains(t.$ni)?this.$LD.set_SelectedItem(t.$ni):n.get_Count()>0&&this.$LD.set_SelectedItem(n.get_$R(0));this.$LC.set_ItemLabels(i.toArray());this.$LC.set_ItemValues(n.toArray());this.$LD.set_ItemLabels(i.toArray());this.$LD.set_ItemValues(n.toArray());this.set_IsLoaded(!0)},$1P7:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL();n.set_OpenOnStart(this.$P3);this.get_IsTaskFlowSettingsAvailable()&&(n.set_TaskFlow1Name(this.$LC.$4i),n.set_TaskFlow2Name(this.$LD.$4i))},$Oh:function(){this.$S9&&(this.$S9.remove_$6F(this.$$d_$39O),this.$S9.dispose(),this.$S9=null);this.$LC&&(this.$LC.dispose(),this.$LC=null);this.$LD&&(this.$LD.dispose(),this.$LD=null);Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SZ=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SZ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SZ.prototype={$BM:null,get_Subject:function(){return this.$BM},set_Subject:function(n){return this.$BM=n,n},$z6:null,get_ScheduledEndString:function(){return this.$z6},set_ScheduledEndString:function(n){return this.$z6=n,n},$dP:null,get_ScheduledEnd:function(){return this.$dP},set_ScheduledEnd:function(n){return this.$dP=n,n},$ix:null,get_ScheduledStart:function(){return this.$ix},set_ScheduledStart:function(n){return this.$ix=n,n},$Ge:null,get_RegardingObjectName:function(){return this.$Ge},set_RegardingObjectName:function(n){return this.$Ge=n,n},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$3R.prototype.$Hd.call(this);this.$BM=this.get_ModelContext().GetValue("subject");this.$ix=new Date(this.get_ModelContext().GetValue("scheduledstart"));this.$z6=this.get_ModelContext().GetValue("scheduledend");this.$dP=new Date(this.$z6);var n=this.get_ModelContext().GetValue("regardingobjectid");this.$Ge=$0.$0(n)?"---":n.Name}};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SF=function(){this.$$d_$25b=Function.createDelegate(this,this.$25b);this.$$d_$27S=Function.createDelegate(this,this.$27S);this.$$d_$321=Function.createDelegate(this,this.$321);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SF.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SF.prototype={$16f:null,$Nx:!1,get_IsLandingPageActivitiesEnabled:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL().$ya},$Cu:null,get_CardFeedContainerViewModel:function(){return this.$Cu&&this.$Cu.$ZB&&(this.$Cu.dispose(),this.$Cu=null,this.$23H()),this.$Cu},$pX:null,get_TodayActivities:function(){return this.$pX},set_TodayActivities:function(n){return this.$pX=n,n},$pV:null,get_ThisWeekActivities:function(){return this.$pV},set_ThisWeekActivities:function(n){return this.$pV=n,n},$pJ:null,get_OverDueActivities:function(){return this.$pJ},set_OverDueActivities:function(n){return this.$pJ=n,n},set_$1Dg:function(n){return n!==this.$Nx&&(this.$Nx=n,this.$7("ContentHasRendered")),n},$2Z:function(){if(!this.$1a){if(this.get_IsLandingPageActivitiesEnabled()){this.$pX=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SZ));this.$pV=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SZ));this.$pJ=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SZ));var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveLandingPageActivities",null);this.set_ActionProvider(new Microsoft.Crm.Client.Core.ViewModels.$I(this,n))}this.$23H()}Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this)},UIHasRendered:function(){!this.$1k&&this.get_IsLandingPageActivitiesEnabled()&&this.set_$1Dg(!0)},$16d:function(){return this.$16f=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),this.get_IsLandingPageActivitiesEnabled()?(this.add_$td(this.$$d_$321),this.$Rr()):this.$16f.resolve(!0),this.$Cu&&this.$Cu.$Rr(),this.$16f},$321:function(){this.$16f.resolve(!0);this.remove_$td(this.$$d_$321)},$23H:function(){var n,t,i,r;this.$Cu||(n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(13,!0),n.set_IsCustomControlExists(!0),n.$1UQ=!0,n.$2Z(),this.$Cu=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z,this.$Cu.AddPropertyChangedListener("OnInitControl",this.$$d_$27S),this.$Cu.set_$GO(n),t={},t.customControlTemplateName="MscrmControls.CardFeedContainer.CardFeedContainer",t.OnSuccess=this.$$d_$25b,i=new Microsoft.Crm.Client.Core.ViewModels.$I(this.$Cu,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCustomControlTemplate",t)),r=i.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(r))},$25b:function(n){for(var r,s,t,u,h,f,c=n,l=c.descriptor,e=l.Properties,o=null,i=0;i<e.length;i++)if(r=e[i],r.Name==="Resources"){o=r.Value;break}s="{92afd454-0f2e-4397-a1c8-05e37c6ad699}";t={};t.Name="SubGrid";t.Columns=[];t.ViewId=s;t.EnableViewPicker=!1;t.RelationshipName=null;t.RelationshipRoleOrdinal=null;t.TargetEntityType="actioncard";t.ContextFilter=null;t.ExtraCondition=null;t.RelationshipType=-1;t.ReferencingName=null;t.IsHierarchyEnabled=!1;u={};u.SubGrid=t;h=[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsDataSetControl",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("GridEnabled",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ControlMode",2),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ConstructorName","MscrmControls.CardFeedContainer.CardFeedContainer"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DisplayName","CardFeedContainer"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FormFactor",Microsoft.Crm.Client.Core.Framework.$6.get_$1d()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ControlType",0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PropertyDefinitions",null),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DataSetDefinitions",u),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Resources",o),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",!0)];f=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("CustomControl","CustomControlHostView","CardFeedContainer",null,null,h,null,null);f.PrimaryModelName="actioncard";Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$3Bp(this.$Cu,f,this.$Cu.get_ModelContext(),!0);this.$Cu.set_IsActive(!0);this.$Cu.requestRender();this.set_$1Dg(!0);this.get_IsLandingPageActivitiesEnabled()||this.set_IsLoading(!1)},$27S:function(){this.$Cu.RemovePropertyChangedListener("OnInitControl",this.$$d_$27S);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LandingPageCardFeed",1)},$qc:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SZ;return t.set_ModelContext(n),t},$1hP:function(n,t){Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$1hP.call(this,n,t);this.$2Wc();this.set_IsLoading(!1)},$2Wc:function(){var t,n;this.$pX.clear();this.$pV.clear();this.$pJ.clear();var i=Microsoft.Crm.Client.Core.Framework.$1I.get_$1nb(),u=i.$kw().$1cK(),f=i.$kw().$Q9(1).$1cK(),r=Microsoft.Crm.Client.Core.Framework.$1I.$3El(i).$1cK();for(t=0;t<this.$1f.get_Count();t++)n=this.$1f.get_$R(t),(n.$ix>=u&&n.$ix<f||n.$dP>=u&&n.$dP<f)&&this.$pX.add(n),(n.$ix>=r||n.$dP>=r)&&this.$pV.add(n),n.$dP<r&&this.$pJ.add(n)},$Oh:function(){this.$Cu&&(this.$Cu.dispose(),this.$Cu=null);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel.initializeBase(this);this.set_DefaultImageSrc("/_imgs/ContactPhoto.png");this.set_PrimaryModelName("systemuser");this.set_OpenImageUploadDialogCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenImageUploadDialogCommand")));var n=this;this.$GH.$1Tr=function(){n.$16d()};this.$2Hu()};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("UserProfileViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel)};Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel.prototype={$1IU:null,$1Eb:null,$CD:null,$GH:null,$2ve:function(){var n=this.$4d("UserProfileImageChangedEvent");$0.$0(n)||n()},add_UserProfileImageChangedEvent:function(n){this.$1p("UserProfileImageChangedEvent",n)},remove_UserProfileImageChangedEvent:function(n){this.$32("UserProfileImageChangedEvent",n)},get_ImageSrc:function(){return this.$1IU},set_ImageSrc:function(n){return this.$1IU!==n&&(this.$1IU=n,this.$2ve()),n},get_OpenImageUploadDialogCommand:function(){return this.$GH},set_OpenImageUploadDialogCommand:function(n){return this.$GH!==n&&($0.$0(this.$GH)||(this.$GH.dispose(),this.$GH=null),this.$GH=n),n},get_DefaultImageSrc:function(){return this.$1Eb},set_DefaultImageSrc:function(n){return this.$1Eb!==n&&(this.$1Eb=n,this.$7("DefaultImageSrc")),n},get_UserName:function(){return this.$CD},set_UserName:function(n){return this.$CD!==n&&(this.$CD=n,this.$7("UserName")),n},get_CurrentDate:function(){return(new Date).localeFormat("dddd, MMMM dd")},$16d:function(){return this.$2Hu()},$2Hu:function(){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),r="entityimage_url",u="fullname",e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i("systemuser"),o=[e.$4Y,r,"entityimage",u],f={},t,n,s;return f["Identifier"]=new Xrm.Objects.EntityReference("systemuser",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$i6()),f["ColumnSet"]=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(o),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveEntityRecord",f),n=this,t.OnSuccess=function(t){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(t)){var f=Microsoft.Crm.Client.Core.Models.$c.$X(t);$0.$0(n.get_ModelContext())||n.get_ModelContext().$5E();n.set_ModelContext(f);$0.$0(f.GetValue(r))?n.set_ImageSrc(""):n.set_ImageSrc(f.GetValue(r).toString());n.set_UserName($0.$0(f.GetValue(u))?"":f.GetValue(u).toString());i.resolve(!0)}},s=this,t.OnFailure=function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(168,n.$F);i.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,t),i}};Type.registerNamespace("Microsoft.Crm.Client.Core.Command");Microsoft.Crm.Client.Core.Command.DelveActionHubCommandHelper=function(){};Microsoft.Crm.Client.Core.Command.DelveActionHubCommandHelper.$2PV=function(n,t){return Xrm.Internal.messages.updateDelveActionStatus(n,1,t)};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction=function(){this.$$d_$1OG=Function.createDelegate(this,this.$1OG);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RemoveTrackingInfoAction",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction;return Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$wa(i,t),i};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$wa=function(n,t){var r=t,i=r.QueryValue;n.$6K=i.OnSuccess;n.$9E=i.CrmId};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.prototype={$6K:null,$9E:null,$2E:function(){return this.$El(this.$$d_$1OG,this.get_$KL()),1},$1OG:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){var n=this;Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().$1OG(this.$9E).then(function(){n.$6K(!1);n.$14()},this.$$d_$1R)}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available."))}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors");Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$4W=function(){};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$4W.get_$54=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54()};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$4W.$X=function(){var i={contact:1,lead:0,systemuser:2},n=[],t;return Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x("contact",null)),Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x("lead",null)),Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x("systemuser",null)),t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$CK,Microsoft.Crm.Client.Core.Framework.$7),Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n).then(function(n){var r=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$CK,u,f,e;Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$4W.get_$54().$6Q("contact",1)&&(u=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$6y("contact",i.contact),u.$64("contactid",14).$64("entityimage_url",14).$64("entityimage",14).$64("jobtitle",14).$64("telephone1",14).$64("mobilephone",14).$64("parentcustomerid",6).$64("emailaddress1",6).$64("lastname",14).$64("firstname",14).$64("createdon",14).$64("statecode",14).$64("ownerid",14).$64("followemail",14),r.$3w(u));Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$4W.get_$54().$6Q("lead",1)&&(f=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$6y("lead",i.lead),f.$64("leadid",14).$64("entityimage_url",14).$64("entityimage",14).$64("jobtitle",14).$64("telephone1",14).$64("mobilephone",14).$64("companyname",14).$64("createdon",14).$64("statecode",14).$64("ownerid",14).$64("followemail",14).$64("parentaccountid",6),r.$3w(f));Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$4W.get_$54().$6Q("systemuser",1)&&(e=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$6y("systemuser",i.systemuser),e.$64("systemuserid",14).$64("entityimage_url",14).$64("entityimage",14).$64("title",14).$64("address1_telephone1",14).$64("internalemailaddress",14).$64("mobilephone",14).$64("createdon",14).$64("fullname",14).$64("isdisabled",14),r.$3w(e));r.$3Aw(n);t.resolve(r)},function(){t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Metadata request to the CRM server failed with an error."))}),t.promise()};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$6y=function(n,t){this.$22="";this.$6J=n;this.$We=new Array(0);this.$uz=t};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$6y.$1p3=function(n,t,i){$0.$0(n)||$0.$0(t)||$0.$0(i)||(n.mailappemailaddress=i,t.mailappemailaddress=14)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$6y.prototype={$22:null,$6J:null,get_$2yH:function(){return this.$6J+"id"},get_$1pN:function(){return this.$6J+"alias"},get_$1wQ:function(){return this.get_$1pN()+"."+this.get_$2yH()},$We:null,$uz:0,$64:function(n,t){return this.$We.push(new Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$J3(n,t,!1,!1)),this},$2Gs:function(n,t){for(var i,e,r={},u={},f=0;f<this.$We.length;f++)i=this.$We[f],e=n.getValue(this.get_$1pN()+"."+i.$1c),$0.$0(e)||(r[i.$1c]=e.$G3,u[i.$1c]=i.$6r);return Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$6y.$1p3(r,u,n.getValue("emailaddress")),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(t,r,u,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)))}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$CK=function(){this.$5M={}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$CK.prototype={$5M:null,$3w:function(n){this.$5M[n.$6J]=n},$kd:function(n){return n in this.$5M?this.$5M[n]:null},$3Aw:function(n){for(var i,r,u=n,f=u.length,t=0;t<f;++t)i=u[t],r=this.$kd(i.$y),$0.$0(r)||r.$64(i.$59,14)},$2Gs:function(n){var t=this.$2iC(n);return $0.$0(t)?null:this.$kd(t.LogicalName).$2Gs(n,t)},$2PT:function(n,t){var i=n.$a.LogicalName,r=t.$a.LogicalName;return this.$kd(i).$uz===this.$kd(r).$uz?2:this.$kd(i).$uz>this.$kd(r).$uz?0:1},$2iC:function(n){var u=this.$5M,i,f,t,r;for(i in u)if(f={key:i,value:u[i]},t=f.value,!$0.$0(n.getValue(t.get_$1wQ()))&&(r=n.getValue(t.get_$1wQ()),!$0.$0(r.$G3)))return new Xrm.Objects.EntityReference(t.$6J,r.$G3);return null}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$J3=function(n,t,i,r){this.$1c=n;this.$6r=t;this.$pH=i;this.$1oK=r};Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$J3.prototype={$1c:null,$6r:0,$pH:!1,$1oK:!1};Type.registerNamespace("Microsoft.Crm.Client.Core.Models.ProcessControl.Builders");Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$GU=function(){};Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$GU.registerInterface("Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$GU");Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$GT=function(){};Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$GT.registerInterface("Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$GT");Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$J2=function(n,t){this.$A=n;this.$1ZP=t};Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$J2.prototype={$A:null,$1ZP:null,$pz:function(n,t){var u=this.$A.get_ModelContext().get_ModelName()+"_process_"+t,f=n.getValue("name"),i={EntityLogicalName:this.$A.get_ModelContext().get_ModelName(),ProcessControlId:n.$a.Id},r=this.$32U();return r.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())||(i.EntityId=r),new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(u,"Button","ChangeProcessControlCommand",f,t,"System","ForwardButton","Symbol",i)},$32U:function(){var n=!$0.$0(this.$A.get_ModelContext())&&!Microsoft.Crm.Client.Core.Framework.Guid.$9(this.$A.get_ModelContext().get_Id());return n?new Microsoft.Crm.Client.Core.Framework.Guid(this.$A.get_ModelContext().get_Id()):this.$1ZP.$bT()}};Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Iz=function(n){this.$A=n};Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Iz.prototype={$A:null,$bT:function(){var n=this.$A.get_ExternalContext(),r=Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),i="EntityReference",e=!$0.$0(n)&&!$0.$0(n.$M)&&i in n.$M&&!$0.$0(n.$M[i]),o=!$0.$0(this.$A.get_ModelContext()),t=null,u,f;return e?t=n.$M[i]:o&&(u=this.$A.get_ModelContext(),t=u.get_$Q7()),f=!!t&&!Microsoft.Crm.Client.Core.Framework.Guid.$9(t.get_identifier()),f&&(r=t.Id),r}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar");Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$Rg=function(){this.$$d_$39Q=Function.createDelegate(this,this.$39Q);this.$$d_$39P=Function.createDelegate(this,this.$39P);this.$$d_$2vW=Function.createDelegate(this,this.$2vW);this.$$d_$2vK=Function.createDelegate(this,this.$2vK);this.get_$1C9=this.get_applicationMetadataType;this.get_$2PZ=this.get_componentType;this.get_$2Ts=this.get_definitionId;this.set_$38o=this.set_sourceId;Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$Rg.resolveInheritance();this.get_$3CO=this.get_ViewModelId;Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$Rg.initializeBase(this);this.$IM=new Microsoft.Crm.Client.Core.ViewModels.$Bo;this.set_PrimaryModelName("activitypointer")};Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$Rg.prototype={$1k:!0,$Nx:!1,$IM:null,$14q:null,$1Kz:null,$14n:null,$c7:null,$u2:null,$u3:null,$hs:null,$ht:null,$vZ:null,get_$1mR:function(){return this.$c7.$H},get_$24v:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL().$ia},get_CommandSection:function(){return this.$IM},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return n!==this.$1k&&(this.$1k=n,this.$7("IsLoading")),n},set_$1Dg:function(n){return n!==this.$Nx&&(this.$Nx=n,this.$7("ContentHasRendered")),n},$Ea:function(){this.$1a=!1;this.$2Z()},$2Z:function(){var n,t,i;this.$1a||(this.set_IsLoading(!0),this.$vZ=this.$2Sl(),n=Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$2pz(),this.$2qf()),this.get_$24v()&&(n=Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(n,this.$2qn())),t=this,i=this,n.then(function(){t.$1jg();t.set_IsLoading(!1)},function(n){i.$MZ(n);i.set_IsLoading(!1)}),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this))},UIHasRendered:function(){this.$1k||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LandingPageQuickCommands",1),this.set_$1Dg(!0))},$1jg:function(){this.$2Ot();this.$IM.$CK("newactivity",this.$u2);this.$IM.$CK("newrecord",this.$u3);this.$IM.$CK("newnote",this.$vZ);this.get_$24v()&&($0.$0(this.$hs)||this.$IM.$CK("taskbasedflow1",this.$hs),this.$hs===this.$ht||$0.$0(this.$ht)||this.$IM.$CK("taskbasedflow2",this.$ht))},$39P:function(){this.$2Ba();this.$1jg()},$39Q:function(){this.$2Bb();this.$1jg()},$2pz:function(){this.$14n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7);var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveListMetadata",null),t=this;return n.OnSuccess=function(n){var o=n.ViewModelDescriptor.ChildViewModels.TopMenu,i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(o,null),r,u,f,e;i.set_Label(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Form_Title_New_With_Entity_Display_Name"),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i("activitypointer").$1q));i.set_ImageName("AddExistingActivity");i.set_ImageType("Symbol");r=i.$H;for(u in r)f={key:u,value:r[u]},e=f.value,e.set_ImageType("CrmSymbol"),e.set_ImageName(f.key+" entity");t.$u2=i;t.$14n.resolve()},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n),this.$14n},$2Sl:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$24;return n.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("LandingPage.CommandBar.CreateNoteTitle")),n.set_Visible(!0),n.set_ImageName("NotesEdit"),n.set_ImageType("Symbol"),n.$Gi=!0,n.set_Command("ShowSelectableEntityNoteList"),n},$2qf:function(){return this.$14q=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$u1().$5g.add_$6F(this.$$d_$2vK),this.$14q},$2qn:function(){return this.$1Kz=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),this.$c7=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(38)),this.$c7.add_$6F(this.$$d_$2vW),this.$c7.$2Z(),this.$1Kz},$2vK:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$u1().$5g.remove_$6F(this.$$d_$2vK);this.$2qg()},$2vW:function(){this.$c7.remove_$6F(this.$$d_$2vW);var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL();n.AddPropertyChangedListener("TaskFlow1Name",this.$$d_$39P);n.AddPropertyChangedListener("TaskFlow2Name",this.$$d_$39Q);this.$2Ba();this.$2Bb();this.$1Kz.resolve()},$2qg:function(){var i=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(1,!0),n,t,r;i.$2Z();n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet","global");t=this;n.OnSuccess=function(n){var i=n.$Cx,r=[i.Controls[1]],u=n.$qR;t.$u3=t.$Wn(r,u)[0];t.$14q.resolve()};r=this;n.OnFailure=function(n){r.$14q.reject(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",i,n)},$2Ba:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL().$nh;this.$hs=n in this.get_$1mR()?this.$1tr(n):null},$2Bb:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL().$ni;this.$ht=n in this.get_$1mR()?this.$1tr(n):null},$1tr:function(n){var t=this.get_$1mR()[n];return t.set_ImageName("TaskFlow"),t.set_ImageType("Symbol"),t},$Wn:function(n,t){for(var i,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$2I)),f=n,e=f.length,u=0;u<e;++u){i=f[u];switch(i.ControlType){case"Button":r.add(this.$2MV(i,t));break;case"FlyoutAnchor":r.add(this.$2Mq(i,t))}}return r.toArray()},$2MV:function(n,t){var u=n.LabelText||"",r,i;$0.$0(n.CommandParameters)&&(n.CommandParameters={});n.CommandParameters.TargetViewModel=t;r="";switch(n.CommandType){case"ControlCommand":n.CommandParameters.CommandPropertyName=n.Command;r="ControlCommand";break;case"System":r=n.Command}return i=new Microsoft.Crm.Client.Core.ViewModels.$24,i.set_$2m(n.Id),i.set_Label(u),i.set_Visible(!0),i.set_Parameters(n.CommandParameters),i.set_ImageName(n.Id+" entity"),i.set_ImageType("CrmSymbol"),i.$Gi=n.AvailableOffline,i.set_TargetViewModel(t),i.$Cw=null,i.set_Command(r),i},$2Ot:function(){var n,t,i;if(!$0.$0(this.$IM)&&!$0.$0(this.$IM.$H)){n=this.$IM.$H;for(t in n)i={key:t,value:n[t]},delete this.$IM.$H[i.key]}},$2Mq:function(n,t){var o=n.LabelText||"",i=new Microsoft.Crm.Client.Core.ViewModels.$4N,f,u;i.set_Label(o);i.set_ImageName(n.ImageId);i.set_ImageType(n.ImageType);i.set_$2m(n.Id);i.set_Visible(!0);i.set_Enabled(!0);i.set_$1s7(n.CommandParameters);f=this.$Wn(n.Children,t);for(var e=f,s=e.length,r=0;r<s;++r)u=e[r],i.$CK(u.get_ViewModelId(),u);return i},$Oh:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL();n.RemovePropertyChangedListener("TaskFlow1Name",this.$$d_$39P);n.RemovePropertyChangedListener("TaskFlow2Name",this.$$d_$39Q);this.$c7&&(this.$c7.dispose(),this.$c7=null);this.$IM&&(this.$IM.dispose(),this.$IM=null);this.$u3&&(this.$u3.dispose(),this.$u3=null);this.$u2&&(this.$u2.dispose(),this.$u2=null);this.$hs&&(this.$hs.dispose(),this.$hs=null);this.$ht&&(this.$ht.dispose(),this.$ht=null);this.$vZ&&(this.$vZ.dispose(),this.$vZ=null)},$1SV:0,get_applicationMetadataType:function(){return this.$1SV},set_applicationMetadataType:function(n){return this.$1SV=n,n},get_componentType:function(){return 11},$oU:null,get_definitionId:function(){return this.$oU},set_definitionId:function(n){return this.$oU=n,n},$2qW:function(n){this.$14n.reject(n)},$gl:function(){},$15c:function(){},$1US:null,get_sourceId:function(){return this.$1US},set_sourceId:function(n){return this.$1US=n,n}};Type.registerNamespace("ProcessControl.Reflow");ProcessControl.Reflow.$GK=function(){};ProcessControl.Reflow.$GK.registerInterface("ProcessControl.Reflow.$GK");ProcessControl.Reflow.$GI=function(){};ProcessControl.Reflow.$GI.registerInterface("ProcessControl.Reflow.$GI");ProcessControl.Reflow.$GF=function(){};ProcessControl.Reflow.$GF.registerInterface("ProcessControl.Reflow.$GF");ProcessControl.Reflow.$GE=function(){};ProcessControl.Reflow.$GE.registerInterface("ProcessControl.Reflow.$GE");ProcessControl.Reflow.$GH=function(){};ProcessControl.Reflow.$GH.registerInterface("ProcessControl.Reflow.$GH");ProcessControl.Reflow.$GM=function(){};ProcessControl.Reflow.$GM.registerInterface("ProcessControl.Reflow.$GM");ProcessControl.Reflow.$GG=function(){};ProcessControl.Reflow.$GG.registerInterface("ProcessControl.Reflow.$GG");ProcessControl.Reflow.$GJ=function(){};ProcessControl.Reflow.$GJ.registerInterface("ProcessControl.Reflow.$GJ");ProcessControl.Reflow.$GR=function(){};ProcessControl.Reflow.$GR.registerInterface("ProcessControl.Reflow.$GR");ProcessControl.Reflow.$Fy=function(){};ProcessControl.Reflow.$Fy.registerInterface("ProcessControl.Reflow.$Fy");ProcessControl.Reflow.$G1=function(){};ProcessControl.Reflow.$G1.registerInterface("ProcessControl.Reflow.$G1");ProcessControl.Reflow.$G2=function(){};ProcessControl.Reflow.$G2.registerInterface("ProcessControl.Reflow.$G2");ProcessControl.Reflow.$Gn=function(){};ProcessControl.Reflow.$Gn.registerInterface("ProcessControl.Reflow.$Gn");ProcessControl.Reflow.$9k=function(){};ProcessControl.Reflow.$9k.$$=function(n){var t="$9k$"+n.getName().replace(/\./g,"_"),i;return ProcessControl.Reflow[t]||(i=ProcessControl.Reflow[t]=function(){},i.registerInterface("ProcessControl.Reflow."+t)),ProcessControl.Reflow[t]};ProcessControl.Reflow.$9k.registerInterface("ProcessControl.Reflow.$9k");ProcessControl.Reflow.$Gl=function(){};ProcessControl.Reflow.$Gl.registerInterface("ProcessControl.Reflow.$Gl");ProcessControl.Reflow.$Gk=function(){};ProcessControl.Reflow.$Gk.registerInterface("ProcessControl.Reflow.$Gk");ProcessControl.Reflow.$GY=function(){};ProcessControl.Reflow.$GY.registerInterface("ProcessControl.Reflow.$GY");ProcessControl.Reflow.$J0=function(n,t,i){this.$1Id=i;this.$La=t;this.$A=n};ProcessControl.Reflow.$J0.prototype={$q4:function(){if(!this.$A.get_$Ar().get_$1pn()){this.$4p=this.$1Id;return}this.$1qk();this.$2NJ()},get_$E4:function(){return this.$4p},set_$1m1:function(n){return this.$VG=n,n},$1qk:function(){this.$4p=this.$1Id},$2NJ:function(){this.get_$26r().set_$1m1(this.$VG);this.get_$26r().$q4()},get_$26r:function(){return this.$1Lm||(this.$1Lm=new ProcessControl.Reflow.$Iq(this.$A,this.$La,this.$4p)),this.$1Lm},$1Lm:null,$VG:null,$4p:null,$1Id:null,$La:null,$A:null};ProcessControl.Reflow.$J1=function(n,t){this.$A=n;this.$4p=t};ProcessControl.Reflow.$J1.prototype={$q4:function(){this.$A.get_$Ar().get_$1pn()&&this.$1qk()},set_$CB:function(n){return this.$PY=n,n},get_$E4:function(){return this.$4p},get_$2pl:function(){return this.$xL?this.$xL.get_$2pm():null},$1qk:function(){this.get_$2Gt().set_$CB(this.$PY.split(","));this.get_$2Gt().$q4()},get_$2Gt:function(){return this.$xL||(this.$xL=new ProcessControl.Reflow.$Ip(this.$A,this.$4p)),this.$xL},$4p:null,$xL:null,$PY:null,$A:null};ProcessControl.Reflow.$Iq=function(n,t,i){this.$La=t;this.$A=n;this.$4p=i};ProcessControl.Reflow.$Iq.prototype={$q4:function(){var n=this.get_$29M();this.$La.set_$22Z(n);n.$1Rf(this.$VG)},get_$E4:function(){return this.$4p},set_$1m1:function(n){return this.$VG=n,n},get_$29M:function(){return this.$gx||(this.$gx=new ProcessControl.Reflow.$Ix(this.$A,this.$4p,!0)),this.$gx},$gx:null,$4p:null,$La:null,$A:null,$VG:null};ProcessControl.Reflow.$Ir=function(n,t,i){this.$4p=i;this.$La=t;this.$A=n};ProcessControl.Reflow.$Ir.prototype={$q4:function(){var n=this.get_$29M();this.$La.set_$22Z(n)},get_$E4:function(){return this.$4p},get_$29M:function(){return this.$gx||(this.$gx=new ProcessControl.Reflow.$Ix(this.$A,this.$4p,!1)),this.$gx},$gx:null,$4p:null,$La:null,$A:null};ProcessControl.Reflow.$Is=function(n,t,i){this.$2Ft=-1;this.$4p=t;this.$1Qn=i;this.$A=n};ProcessControl.Reflow.$Is.prototype={$q4:function(){for(var t,r,n=this.get_$1m1(),i=0;i<this.$1Qn.length;i++)if(t=this.$1Qn[i],t in this.$A.get_$Ar().get_$VE()){if(r=this.$4p.$1Fo(t,!0),r){n=r;continue}this.$4p.$1V7(n,new ProcessControl.Reflow.$NE(t));n=n.get_$RK()}this.$1fL=n},get_$E4:function(){return this.$4p},get_$1m1:function(){return this.$VG||(this.$VG=this.$4p.get_$R(0),this.$2Ft=0),this.$VG},get_$2pn:function(){return this.$1fL},$1Qn:null,$4p:null,$VG:null,$1fL:null,$A:null};ProcessControl.Reflow.$Ip=function(n,t){this.$4p=t;this.$A=n};ProcessControl.Reflow.$Ip.prototype={$q4:function(){this.get_$2Fz().$q4();this.$4p=this.get_$2Fz().get_$E4()},get_$CB:function(){return this.$PY||(this.$PY=new Array(0)),this.$PY},set_$CB:function(n){return this.$wv=null,this.$PY=n,n},get_$E4:function(){return this.$4p},get_$2pm:function(){return this.$wv.get_$2pn()},get_$2Fz:function(){return this.$wv||(this.$wv=new ProcessControl.Reflow.$Is(this.$A,this.$4p,this.get_$CB())),this.$wv},$PY:null,$4p:null,$wv:null,$A:null};ProcessControl.Reflow.$NM=function(n){ProcessControl.Reflow.$NM.initializeBase(this,[n])};ProcessControl.Reflow.$NM.prototype={$2Vs:function(){var n=String.format("bpf_{0}",this.$33p(this.$18F.stageId));this.$A.get_$q0().$2NS(n)},$33p:function(n){if(Microsoft.Crm.Workflow.Utils.$P.$9(n))return n;for(n=Microsoft.Crm.Workflow.Utils.$P.$7R(n);n.indexOf("-")>-1;)n=n.replace("-","");return n}};ProcessControl.Reflow.$NK=function(n){ProcessControl.Reflow.$NK.initializeBase(this,[n])};ProcessControl.Reflow.$NK.prototype={$2Vs:function(){var i=Microsoft.Crm.Workflow.Utils.$P.$7R(this.$18F.stageId),r=this.$A.get_$Ar().get_$1Xf()[i],n,t,u;r&&(n=r.$2Wx(),t=null,n&&n.steps.get_Count()>0&&(u=n.steps.get_$R(0),t=u.stageId),this.invokeReflowFunction(i,t))},invokeReflowFunction:function(n,t){ProcessControl.Reflow.$BV.$2NT(!1,n,t)}};ProcessControl.Reflow.$Im=function(n){this.$A=n};ProcessControl.Reflow.$Im.prototype={set_$38v:function(n){return this.$18F=n,n},$3AE:function(){var n=Microsoft.Crm.Workflow.Utils.$P.$7R(this.$18F.stageId),t=this.$A.get_$Ar().get_$1Xf()[n];return Microsoft.Crm.Workflow.Utils.$P.$1Y(t)?!1:(this.$2Vs(),!0)},$18F:null,$A:null};ProcessControl.Reflow.$In=function(){};ProcessControl.Reflow.$In.prototype={$2jJ:function(n,t){var i=n.get_$Ar().get_$gu()[Microsoft.Crm.Workflow.Utils.$P.$7R(t.stageId)];return n.get_$1u1()!==i.get_EntityLogicalName()?new ProcessControl.Reflow.$NK(n):new ProcessControl.Reflow.$NM(n)}};ProcessControl.Reflow.$Io=function(n,t){this.$40=new Sys.EventHandlerList;this.$A=t;this.$cI=n;this.$2mC()};ProcessControl.Reflow.$Io.prototype={add_$1uK:function(n){this.$40.addHandler("DefauiltPathChanged",n)},remove_$1uK:function(n){this.$40.removeHandler("DefauiltPathChanged",n)},add_$1Yt:function(n){this.$40.addHandler("DefauiltPathInitialized",n)},remove_$1Yt:function(n){this.$40.removeHandler("DefauiltPathInitialized",n)},$1dI:function(){var n,i,t;if(!this.$cI.get_$U0()||!this.$A.get_$q0().get_$U0()){n=this;i=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$cI.get_$2Gu(),this.$A.get_$q0().get_$1qe()).then(function(){n.$1dI()},function(){});return}t=this.$4p.get_$eR();this.$2mo();this.$2mT(!1);this.$8X("DefauiltPathInitialized");t!==this.$4p.get_$eR()&&this.$8X("DefauiltPathChanged")},$3At:function(n,t){var i,r;Microsoft.Crm.Workflow.Utils.$P.$9(n)||(i=null,this.$A.get_$sr()!=="internal"&&(i=this.$4p.get_$eR()),this.get_$1fX().$2xG(new ProcessControl.Reflow.$NC(n,t)),this.$A.get_$sr()!=="internal"&&(r=this.$4p.get_$eR(),i!==r&&this.$8X("DefauiltPathChanged")))},get_$E4:function(){return this.$4p.get_$E4()},get_$eR:function(){return this.$4p.get_$eR()},$MA:function(n){var t=this.get_$E4(),i=Array.indexOf(t,Microsoft.Crm.Workflow.Utils.$P.$7R(n));return i!==-1&&i<t.length-1?t[i+1]:null},$Yw:function(n){var t=this.get_$E4(),i=Array.indexOf(t,Microsoft.Crm.Workflow.Utils.$P.$7R(n));return i<=0?null:t[i-1]},get_$1fX:function(){return this.$La||(this.$La=new ProcessControl.Reflow.$It),this.$La},get_$1L1:function(){return this.$1L0||(this.$1L0=new ProcessControl.Reflow.$J1(this.$A,this.$4p)),this.$1L0},get_$1VT:function(){return this.$1Bt||(this.$1Bt=new ProcessControl.Reflow.$J0(this.$A,this.get_$1fX(),this.$4p)),this.$1Bt},get_$33n:function(){return this.$1P3||(this.$1P3=new ProcessControl.Reflow.$Ir(this.$A,this.get_$1fX(),this.$4p)),this.$1P3},get_$Ny:function(){return this.$A},get_$1Rd:function(){return this.$cI},$8X:function(n){var t=this.$40.getHandler(n);t&&t(this,null)},$2mC:function(){var n,r;this.$4p=new ProcessControl.Reflow.$Iw;var u=this.$A.get_$Ar().get_$2XS(),t=0,i=u;for(n in i)r={key:n,value:i[n]},this.$4p.set_$R(t,new ProcessControl.Reflow.$NE(r.key)),t++},$2mo:function(){if(!this.$cI.get_$U0()||!this.$A.get_$q0().get_$U0()){var n=this,t=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$cI.get_$2Gu(),this.$A.get_$q0().get_$1qe()).then(function(){n.$1dI()},function(){});return}this.get_$1L1().set_$CB(this.$cI.get_$CB());this.get_$1L1().$q4();this.$4p=this.get_$1L1().get_$E4()},$2mT:function(n){if(this.$cI.get_$U0()){var t=this.$4p.get_$eR();this.get_$1VT().set_$1m1(this.get_$1L1().get_$2pl());this.get_$1VT().$q4();this.$4p=this.get_$1VT().get_$E4();n&&t!==this.$4p.get_$eR()&&this.$8X("DefauiltPathChanged");this.get_$33n().$q4()}},$4p:null,$La:null,$A:null,$1L0:null,$1Bt:null,$1P3:null,$cI:null};ProcessControl.Reflow.$It=function(){};ProcessControl.Reflow.$It.prototype={$2xG:function(n){this.$1I4&&!Microsoft.Crm.Workflow.Utils.$P.$9(n.$gv)&&this.$1I4.$2kH(n.$gv,n.$mD)},set_$22Z:function(n){return this.$1I4=n,n},$1I4:null};ProcessControl.Reflow.$Ix=function(n,t,i){this.$4p=t;this.$1Wo=i;this.$A=n};ProcessControl.Reflow.$Ix.prototype={$2kH:function(n,t){var u=this.$4p.$1Fo(n,!1),i,r;u&&(i=Microsoft.Crm.Workflow.Utils.$P.$9(t)?null:t,r=new ProcessControl.Reflow.$NE(i),this.$4p.$1V7(u,r),i&&this.$1Rf(r))},$1Rf:function(n){var i,r,t,u;if(n&&(i=n.get_$29(),i)&&!this.$3AF(n)){if(r=this.$A.$21q(i),Mscrm.InternalUtilities._Script.isNullOrUndefined(r))return;if(t=r.nextStageId,Mscrm.InternalUtilities._Script.isNullOrUndefined(t))return;if(u=this.$4p.$1Fo(t,!0),!Mscrm.InternalUtilities._Script.isNullOrUndefined(u)){this.$1Wo&&this.$1Rf(u);return}this.$4p.$1V7(n,new ProcessControl.Reflow.$NE(t));this.triggerSubsequentDefaultPathCalculationInternal(n.get_$RK())}},triggerSubsequentDefaultPathCalculationInternal:function(n){this.$1Rf(n)},get_$2N8:function(){return this.$1Cj||(this.$1Cj=new ProcessControl.Reflow.$In),this.$1Cj},$3AF:function(n){var r=this.$A.get_$sr(),t,i;try{return(this.$A.set_$sr("internal"),Mscrm.InternalUtilities._Script.isNullOrUndefined(n))?!1:(t=this.$A.$21q(n.get_$29()),Mscrm.InternalUtilities._Script.isNullOrUndefined(t))?!1:(i=this.get_$2N8().$2jJ(this.$A,t),i.set_$38v(t),!i.$3AE())?!1:n.get_$RK()?!0:!1}finally{this.$A.set_$sr(r)}},$4p:null,$1Wo:!1,$1Cj:null,$A:null};ProcessControl.Reflow.$NC=function(n,t){ProcessControl.Reflow.$NC.initializeBase(this);this.$mD=t;this.$gv=n};ProcessControl.Reflow.$NC.prototype={$mD:null,$gv:null};ProcessControl.Reflow.$Iy=function(){};ProcessControl.Reflow.$Iy.prototype={get_$sr:function(){return this.$1dn},set_$sr:function(n){return this.$1dn=n,n},set_$3DA:function(n){return this.$2Ic=n,n},get_$1u1:function(){return this.$1YQ},set_$1u1:function(n){return this.$1YQ=n,n},get_$q0:function(){return this.$1WP},set_$q0:function(n){return this.$1WP=n,n},$21q:function(n){if(Microsoft.Crm.Workflow.Utils.$P.$9(n))return null;var t=this.$1lz[Microsoft.Crm.Workflow.Utils.$P.$7R(n)];return Microsoft.Crm.Workflow.Utils.$P.$1Y(t)?null:t},get_$Ar:function(){return this.$IG||(this.$IG=new ProcessObjectModel.Visitors.$KO),this.$IG},set_$Ar:function(n){return this.$IG=n,this.$1lz=this.$IG.get_$VE(),n},$1dn:null,$1lz:null,$2Ic:null,$1YQ:null,$IG:null,$1WP:null};ProcessControl.Reflow.$A1=function(n){this.$8q=this.$$gta["ProcessControl.Reflow.$A1"].T===Number||Type.isEnum(this.$$gta["ProcessControl.Reflow.$A1"].T)?0:this.$$gta["ProcessControl.Reflow.$A1"].T===Boolean?!1:null;this.$8q=n;this.$1Li=null};ProcessControl.Reflow.$A1.$$=function(n){var t="$A1$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!ProcessControl.Reflow[t]){r=ProcessControl.Reflow[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["ProcessControl.Reflow.$A1"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];ProcessControl.Reflow.$A1.apply(this,i)};r.registerClass("ProcessControl.Reflow."+t,null,ProcessControl.Reflow.$9k.$$(n));u=ProcessControl.Reflow.$A1.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return ProcessControl.Reflow[t]};ProcessControl.Reflow.$A1.prototype={get_$RK:function(){return this.$1Li},set_$RK:function(n){return this.$1Li=n,n},get_$29:function(){return this.$8q},$1Li:null};ProcessControl.Reflow.$Iw=function(){this.$bE=new Array(0);this.$1Ox=new Array(0);this.$1Kc=new Date};ProcessControl.Reflow.$Iw.prototype={$1Fo:function(n,t){var u,r,i;if(n=Microsoft.Crm.Workflow.Utils.$P.$7R(n),t)return(u=Array.indexOf(this.$1Ox,n),u!==-1)?this.$bE[u]:null;for(r=0;r<this.$bE.length;r++){if(i=this.$bE[r],i.get_$29()===n)return i;while(i.get_$RK())if(i=i.get_$RK(),i.get_$29()===n)return i}return null},get_$R:function(n){return this.$bE[n]},set_$R:function(n,t){return this.$14i=!1,this.$bE[n]=t,this.$1Ox[n]=t.get_$29(),t},$1V7:function(n,t){if(this.$1Fo(t.get_$29(),!0)){this.$1op(n,new ProcessControl.Reflow.$NE(null));return}this.$1op(n,t)},get_$E4:function(){return this.$1vM(),this.$k3},get_$eR:function(){return this.$1vM(),this.$1Kc.getTime().toString()},$1op:function(n,t){t.set_$2S(this);n.set_$RK(t);this.$14i=!1},$1vM:function(){this.$14i||(this.$k3=this.$2zO(),this.$14i=!0,this.$1Kc=new Date)},$2zO:function(){var t,n,i;for(this.$k3=new Array(0),t=0;t<this.$bE.length;t++)for(n=this.$bE[t],Array.add(this.$k3,n.get_$29());n.get_$RK();)i=n.get_$RK(),i.get_$29()&&Array.add(this.$k3,i.get_$29()),n=i;return this.$k3},$bE:null,$14i:!1,$1Kc:null,$k3:null,$1Ox:null};ProcessControl.Reflow.$NE=function(n){ProcessControl.Reflow.$NE.initializeBase(this,[Microsoft.Crm.Workflow.Utils.$P.$7R(n)])};ProcessControl.Reflow.$NE.prototype={set_$2S:function(n){return this.$35=n,n},$35:null};ProcessControl.Reflow.$Iu=function(n){this.$$d_$2tk=Function.createDelegate(this,this.$2tk);this.$2T=n;this.$2T.AddPropertyChangedListener("GlobalPathAndActiveStage",this.$$d_$2tk);this.$xM=MscrmComponents.DeferredPromiseFactory(String,Object)};ProcessControl.Reflow.$Iu.prototype={get_$U0:function(){return this.$xM.isResolved()},get_$2Gu:function(){return $0.$0(this.$1Rc)&&(this.$1Rc=this.$xM.promise()),this.$1Rc},get_$CB:function(){return this.$PY},$2tk:function(n,t){if(t==="GlobalPathAndActiveStage"){var i=this.$2T.$Dg;this.$xM.isResolved()||$0.$0(i)||$0.$0(i.get_$CB())||Microsoft.Crm.Client.Core.Framework.$3.$9(i.get_$CB().get_$ER())||(this.$2T.RemovePropertyChangedListener("GlobalPathAndActiveStage",this.$$d_$2tk),this.$PY=i.get_$CB().get_$ER(),this.$xM.resolve(this.$PY))}},$2T:null,$xM:null,$1Rc:null,$PY:null};ProcessControl.Reflow.$Iv=function(){this.$$d_$2so=Function.createDelegate(this,this.$2so);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$nb(this.$$d_$2so);this.$10D=MscrmComponents.DeferredPromiseFactory(Object,Object)};ProcessControl.Reflow.$Iv.prototype={get_$U0:function(){return this.$10D.isResolved()},get_$1qe:function(){return this.$10D.promise()},$2NS:function(n){var i=new Microsoft.Crm.Client.Core.Models.Constants.$JV(n),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV));t.add(i);Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(t,null))},$2so:function(){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$nb(this.$$d_$2so);this.$10D.resolve(null)},$10D:null};ProcessControl.Reflow.$BV=function(){};ProcessControl.Reflow.$BV.$2NT=function(n,t,i){var r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();r.ui.process.reflow(n,t,i)};Type.registerNamespace("Xrm.Constants");Xrm.Constants.PanelState=function(){};Xrm.Constants.PanelState.prototype={collapsed:0,expanded:1};Xrm.Constants.PanelState.registerEnum("Xrm.Constants.PanelState",!1);Type.registerNamespace("Xrm.Interfaces.Services");Xrm.Interfaces.Services.IMostRecentlyViewedService=function(){};Xrm.Interfaces.Services.IMostRecentlyViewedService.registerInterface("Xrm.Interfaces.Services.IMostRecentlyViewedService");Type.registerNamespace("Xrm.Objects");Xrm.Objects.RecentlyViewedItem=function(){};Xrm.Objects.RecentlyViewedItem.prototype={objectId:null,displayName:null,title:null,iconPath:null,action:null,pinStatus:!1,type:0,entityTypeCode:0,lastAccessed:null,clone:function(){var n=new Xrm.Objects.RecentlyViewedItem;return n.objectId=this.objectId,n.displayName=this.displayName,n.title=this.title,n.iconPath=this.iconPath,n.action=this.action,n.pinStatus=this.pinStatus,n.type=this.type,n.entityTypeCode=this.entityTypeCode,n.lastAccessed=this.lastAccessed,n}};Type.registerNamespace("ProcessControl.ClientApi");ProcessControl.ClientApi.$IK=function(n){this.$8q=n};ProcessControl.ClientApi.$IK.prototype={$8q:0,getValue:function(){return this.$8q===-1?null:this.$8q}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Events");Microsoft.Crm.Client.Core.ViewModels.Events.$IL=function(n,t,i,r){this.$1JL=this.isDefaultPrevented;this.$kC=n;this.$bq=t;this.$1ie=i;this.$9u=r};Microsoft.Crm.Client.Core.ViewModels.Events.$IL.prototype={$kC:null,$bq:null,$1ie:null,$9u:null,$r0:!1,getDirection:function(){return this.$kC},getStage:function(){return this.$bq},getPreviousStage:function(){return this.$1ie},getStatus:function(){return this.$9u},isDefaultPrevented:function(){return this.$r0},preventDefault:function(){this.$r0=!0}};Microsoft.Crm.Client.Core.ViewModels.Events.$NF=function(n){Microsoft.Crm.Client.Core.ViewModels.Events.$NF.initializeBase(this);this.$G1=n};Microsoft.Crm.Client.Core.ViewModels.Events.$NF.prototype={$G1:!1};Mscrm.EntityReference.registerClass("Mscrm.EntityReference");Mscrm.CrmUri.registerClass("Mscrm.CrmUri");Xrm.KBSearchResult.registerClass("Xrm.KBSearchResult");Xrm.AlertDialogStrings.registerClass("Xrm.AlertDialogStrings");Xrm.ConfirmDialogStrings.registerClass("Xrm.ConfirmDialogStrings");Xrm.XrmEntityRelationship.registerClass("Xrm.XrmEntityRelationship");Xrm.FormDataAttributePrivilege.registerClass("Xrm.FormDataAttributePrivilege");Xrm.OptionSetItem.registerClass("Xrm.OptionSetItem");Xrm.SaveOptions.registerClass("Xrm.SaveOptions");Xrm.XrmForm.registerClass("Xrm.XrmForm");Xrm.$M1.registerClass("Xrm.$M1");Xrm.XrmPanelUtilityWrapper.registerClass("Xrm.XrmPanelUtilityWrapper",Xrm.$M1);Xrm.XrmControlBase.registerClass("Xrm.XrmControlBase",null,Xrm.IXrmCollectionItem);Xrm.XrmControl.registerClass("Xrm.XrmControl",Xrm.XrmControlBase);Xrm.XrmTimerControl.registerClass("Xrm.XrmTimerControl",Xrm.XrmControl);Xrm.NotificationLevels.registerClass("Xrm.NotificationLevels");Xrm.JavaScriptConsoleTraceListener.registerClass("Xrm.JavaScriptConsoleTraceListener",null,Xrm.Interfaces.IXrmTraceListener);Xrm.ScopedServiceDirectory.registerClass("Xrm.ScopedServiceDirectory",null,Xrm.Interfaces.IServiceDirectory,Sys.IDisposable);Xrm.StringBuilderTraceListener.registerClass("Xrm.StringBuilderTraceListener",null,Xrm.Interfaces.IXrmTraceListener);Xrm.XrmSdkMessages.registerClass("Xrm.XrmSdkMessages");Xrm.XrmServiceDirectory.registerClass("Xrm.XrmServiceDirectory",null,Xrm.Interfaces.IServiceDirectory,Sys.IDisposable);Xrm.XrmTrace.registerClass("Xrm.XrmTrace",null,Xrm.Interfaces.IXrmTrace);Xrm.XrmEntityAttribute.registerClass("Xrm.XrmEntityAttribute",null,Xrm.IXrmCollectionItem);Xrm.XrmEntityAttributeOptionSetBase.registerClass("Xrm.XrmEntityAttributeOptionSetBase",Xrm.XrmEntityAttribute);Xrm.XrmEntityAttributeBoolean.registerClass("Xrm.XrmEntityAttributeBoolean",Xrm.XrmEntityAttributeOptionSetBase);Xrm.XrmEntityAttributeDateTime.registerClass("Xrm.XrmEntityAttributeDateTime",Xrm.XrmEntityAttribute);Xrm.XrmEntityAttributeLookup.registerClass("Xrm.XrmEntityAttributeLookup",Xrm.XrmEntityAttribute);Xrm.XrmEntityAttributeNumber.registerClass("Xrm.XrmEntityAttributeNumber",Xrm.XrmEntityAttribute);Xrm.XrmEntityAttributeOptionSet.registerClass("Xrm.XrmEntityAttributeOptionSet",Xrm.XrmEntityAttributeOptionSetBase);Xrm.XrmEntityAttributeString.registerClass("Xrm.XrmEntityAttributeString",Xrm.XrmEntityAttribute);Xrm.XrmBusinessProcessFlow.registerClass("Xrm.XrmBusinessProcessFlow");Xrm.OfflineErrorResponse.registerClass("Xrm.OfflineErrorResponse",Xrm.ErrorResponse);Xrm.XrmProcessStage.registerClass("Xrm.XrmProcessStage",null,Xrm.IXrmCollectionItem);Xrm.XrmProcessStep.registerClass("Xrm.XrmProcessStep",null,Xrm.IXrmCollectionItem);Xrm.XrmEntity.registerClass("Xrm.XrmEntity",null,Xrm.IXrmCollectionItem);Xrm.XrmProcessControlData.registerClass("Xrm.XrmProcessControlData");Xrm.$Lb.registerClass("Xrm.$Lb");Xrm.Offline.registerClass("Xrm.Offline");Xrm.FormNotificationOptions.registerClass("Xrm.FormNotificationOptions");Xrm.XrmTab.registerClass("Xrm.XrmTab",Xrm.XrmControlBase);Xrm.$PT.registerClass("Xrm.$PT",Xrm.XrmControlBase);Xrm.$OB.registerClass("Xrm.$OB",Xrm.XrmControlBase);Xrm.XrmTabSection.registerClass("Xrm.XrmTabSection",Xrm.XrmControlBase);Xrm.XrmControlACI.registerClass("Xrm.XrmControlACI",Xrm.XrmControl);Xrm.XrmChart.registerClass("Xrm.XrmChart");Xrm.XrmControlButton.registerClass("Xrm.XrmControlButton",Xrm.XrmControl);Xrm.XrmDataControl.registerClass("Xrm.XrmDataControl",Xrm.XrmControl);Xrm.XrmControlDateTime.registerClass("Xrm.XrmControlDateTime",Xrm.XrmDataControl);Xrm.XrmControlFormSelector.registerClass("Xrm.XrmControlFormSelector");Xrm.XrmControlGrid.registerClass("Xrm.XrmControlGrid");Xrm.XrmControlWebResource.registerClass("Xrm.XrmControlWebResource",Xrm.XrmControl);Xrm.XrmControlIFrame.registerClass("Xrm.XrmControlIFrame",Xrm.XrmControlWebResource);Xrm.XrmControlLookup.registerClass("Xrm.XrmControlLookup",Xrm.XrmDataControl);Xrm.XrmControlOptionSet.registerClass("Xrm.XrmControlOptionSet",Xrm.XrmDataControl);Xrm.XrmControlSearchWidget.registerClass("Xrm.XrmControlSearchWidget",Xrm.XrmControl);Xrm.XrmControlSilverlight.registerClass("Xrm.XrmControlSilverlight",Xrm.XrmControlWebResource);Xrm.XrmControlSubGrid.registerClass("Xrm.XrmControlSubGrid",Xrm.XrmControl,Xrm.Interfaces.IXrmSubGridControl,Xrm.Interfaces.IXrmGridControl);Xrm.XrmControlText.registerClass("Xrm.XrmControlText",Xrm.XrmDataControl);Xrm.XrmControlQuickForm.registerClass("Xrm.XrmControlQuickForm",Xrm.XrmControl);Xrm.XrmGridData.registerClass("Xrm.XrmGridData");Xrm.XrmGridFilter.registerClass("Xrm.XrmGridFilter");Xrm.XrmGridRow.registerClass("Xrm.XrmGridRow",null,Xrm.IXrmCollectionItem);Xrm.XrmNavigation.registerClass("Xrm.XrmNavigation");Xrm.XrmProcessControlUI.registerClass("Xrm.XrmProcessControlUI");Xrm.XrmTaskProcess.registerClass("Xrm.XrmTaskProcess");Xrm.XrmViewSelector.registerClass("Xrm.XrmViewSelector");Xrm.XrmFormData.registerClass("Xrm.XrmFormData");Xrm.XrmFormUI.registerClass("Xrm.XrmFormUI");Xrm.XrmDialog.registerClass("Xrm.XrmDialog");Xrm.XrmInternal.registerClass("Xrm.XrmInternal");Xrm.XrmControls.registerClass("Xrm.XrmControls",Xrm.XrmCollection$1.$$(Xrm.XrmControl));Xrm.XrmEntityAttributes.registerClass("Xrm.XrmEntityAttributes",Xrm.XrmCollection$1.$$(Xrm.XrmEntityAttribute));Xrm.XrmEntities.registerClass("Xrm.XrmEntities",Xrm.XrmCollection$1.$$(Xrm.XrmEntity));Xrm.XrmFormSelectorItem.registerClass("Xrm.XrmFormSelectorItem",null,Xrm.IXrmCollectionItem);Xrm.XrmFormSelectorItems.registerClass("Xrm.XrmFormSelectorItems",Xrm.XrmCollection$1.$$(Xrm.XrmFormSelectorItem));Xrm.XrmGridRows.registerClass("Xrm.XrmGridRows",Xrm.XrmCollection$1.$$(Xrm.XrmGridRow));Xrm.XrmNavigationItem.registerClass("Xrm.XrmNavigationItem",null,Xrm.IXrmCollectionItem);Xrm.XrmNavigationItems.registerClass("Xrm.XrmNavigationItems",Xrm.XrmCollection$1.$$(Xrm.XrmNavigationItem));Xrm.XrmRelatedEntities.registerClass("Xrm.XrmRelatedEntities",Xrm.XrmCollectionDictionary$1.$$(Xrm.XrmEntity));Xrm.XrmTabs.registerClass("Xrm.XrmTabs",Xrm.XrmCollection$1.$$(Xrm.XrmTab));Xrm.XrmTabNavigators.registerClass("Xrm.XrmTabNavigators",Xrm.XrmCollection$1.$$(Xrm.$PT));Xrm.XrmTabSections.registerClass("Xrm.XrmTabSections",Xrm.XrmCollection$1.$$(Xrm.XrmTabSection));Xrm.XrmQuickForms.registerClass("Xrm.XrmQuickForms",Xrm.XrmCollection$1.$$(Xrm.XrmControlQuickForm));Xrm.AttributeFormat.registerClass("Xrm.AttributeFormat");Xrm.AttributeType.registerClass("Xrm.AttributeType");Xrm.ClientName.registerClass("Xrm.ClientName");Xrm.ClientState.registerClass("Xrm.ClientState");Xrm.ClientStates.registerClass("Xrm.ClientStates");Xrm.ControlType.registerClass("Xrm.ControlType");Xrm.FormSaveAction.registerClass("Xrm.FormSaveAction");Xrm.LookupStyle.registerClass("Xrm.LookupStyle");Xrm.NotificationLevel.registerClass("Xrm.NotificationLevel");Xrm.RequiredLevel.registerClass("Xrm.RequiredLevel");Xrm.SubmitMode.registerClass("Xrm.SubmitMode");Xrm.TabDisplayState.registerClass("Xrm.TabDisplayState");Xrm.MetricsStopwatch.registerClass("Xrm.MetricsStopwatch");Xrm.Dialog.registerClass("Xrm.Dialog");Xrm.Internal.registerClass("Xrm.Internal");Xrm.Page.registerClass("Xrm.Page");Xrm.Mobile.registerClass("Xrm.Mobile");Xrm.$73.registerClass("Xrm.$73");Xrm.$O6.registerClass("Xrm.$O6",Xrm.XrmBusinessProcessFlow);Xrm.$O1.registerClass("Xrm.$O1",Xrm.XrmProcessStage);Xrm.$O2.registerClass("Xrm.$O2",Xrm.XrmProcessStep);Xrm.XrmChartWrapper.registerClass("Xrm.XrmChartWrapper",Xrm.XrmChart);Xrm.XrmControlFormSelectorWrapper.registerClass("Xrm.XrmControlFormSelectorWrapper",Xrm.XrmControlFormSelector);Xrm.XrmInternalWrapper.registerClass("Xrm.XrmInternalWrapper",Xrm.XrmInternal);Xrm.XrmInternalWrapper.$3F8.registerClass("Xrm.XrmInternalWrapper.$3F8");Xrm.DateTimeUtility.registerClass("Xrm.DateTimeUtility");Xrm.XrmControlGridWrapper.registerClass("Xrm.XrmControlGridWrapper",Xrm.XrmControlGrid);Xrm.$OT.registerClass("Xrm.$OT",Microsoft.Crm.Client.Core.Framework.$69);Xrm.XrmUtilityWrapper.registerClass("Xrm.XrmUtilityWrapper",Xrm.XrmUtility);Xrm.XrmDialogWrapper.registerClass("Xrm.XrmDialogWrapper",Xrm.XrmDialog);Xrm.XrmViewSelectorWrapper.registerClass("Xrm.XrmViewSelectorWrapper",Xrm.XrmViewSelector);Xrm.$OU.registerClass("Xrm.$OU",Xrm.XrmGridData);Xrm.$OV.registerClass("Xrm.$OV",Xrm.XrmEntityAttribute);Xrm.$OW.registerClass("Xrm.$OW",Xrm.XrmEntity);Xrm.$OI.registerClass("Xrm.$OI",Xrm.XrmGridFilter);Xrm.$OF.registerClass("Xrm.$OF",Xrm.XrmGridRow);Mscrm.InternalUtilities.GridUtilities.registerClass("Mscrm.InternalUtilities.GridUtilities");Mscrm.InternalUtilities.ClientApiUtility.registerClass("Mscrm.InternalUtilities.ClientApiUtility");Mscrm.InternalUtilities._Script.registerClass("Mscrm.InternalUtilities._Script");Microsoft.Crm.Client.Core.Models.$60.registerClass("Microsoft.Crm.Client.Core.Models.$60");Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowArgument.registerClass("Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowArgument");Microsoft.Crm.Client.Core.ViewModels.$DI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DI",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$DK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DK",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$3W.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3W");Microsoft.Crm.Client.Core.ViewModels.$51.registerClass("Microsoft.Crm.Client.Core.ViewModels.$51");Microsoft.Crm.Client.Core.ViewModels.$Bv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bv",Xrm.XrmDataControl,Microsoft.Crm.Client.Core.ViewModels.$9i,Microsoft.Crm.Client.Core.ViewModels.$Ci,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN);Microsoft.Crm.Client.Core.ViewModels.$Bx.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bx",Xrm.XrmDataControl,Microsoft.Crm.Client.Core.ViewModels.$9i,Microsoft.Crm.Client.Core.ViewModels.$Ci,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN);Microsoft.Crm.Client.Core.ViewModels.$RW.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RW",Xrm.XrmControlSubGrid,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$DD,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN,Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$Rp.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rp",Microsoft.Crm.Client.Core.ViewModels.$RW);Microsoft.Crm.Client.Core.ViewModels.$Mi.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mi",Xrm.XrmEntityAttribute);Microsoft.Crm.Client.Core.ViewModels.$R8.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R8",Xrm.XrmEntityAttributeBoolean);Microsoft.Crm.Client.Core.ViewModels.$R7.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R7",Xrm.XrmEntityAttributeOptionSet);Microsoft.Crm.Client.Core.ViewModels.$Qq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qq",Xrm.XrmEntityAttributeDateTime);Microsoft.Crm.Client.Core.ViewModels.$Mg.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mg",Xrm.XrmEntity,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$RH.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RH",Xrm.XrmTimerControl,Microsoft.Crm.Client.Core.ViewModels.$Ci,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN);Microsoft.Crm.Client.Core.ViewModels.$Mh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mh",Xrm.XrmNavigationItem);Microsoft.Crm.Client.Core.ViewModels.$Ml.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ml",Xrm.XrmNavigation);Microsoft.Crm.Client.Core.ViewModels.$Hs.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hs",null,Microsoft.Crm.Client.Core.ViewModels.$F6);Microsoft.Crm.Client.Core.ViewModels.$He.registerClass("Microsoft.Crm.Client.Core.ViewModels.$He",null,Microsoft.Crm.Client.Core.ViewModels.$F6);Microsoft.Crm.Client.Core.ViewModels.$Hf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hf",null,Microsoft.Crm.Client.Core.ViewModels.$F6);Microsoft.Crm.Client.Core.ViewModels.$Hg.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hg",null,Microsoft.Crm.Client.Core.ViewModels.$F6);Microsoft.Crm.Client.Core.ViewModels.$Hd.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hd",null,Microsoft.Crm.Client.Core.ViewModels.$F6);Microsoft.Crm.Client.Core.ViewModels.$Hb.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hb",null,Microsoft.Crm.Client.Core.ViewModels.$F6);Microsoft.Crm.Client.Core.ViewModels.$4p.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4p");Microsoft.Crm.Client.Core.ViewModels.$Hc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hc",null,Microsoft.Crm.Client.Core.ViewModels.$F6);Microsoft.Crm.Client.Core.ViewModels.$Hh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hh",null,Microsoft.Crm.Client.Core.ViewModels.$F6);Microsoft.Crm.Client.Core.ViewModels.$Hk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hk",null,Microsoft.Crm.Client.Core.ViewModels.$F6);Microsoft.Crm.Client.Core.ViewModels.$Ra.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ra",Xrm.XrmDataControl,Microsoft.Crm.Client.Core.ViewModels.$9i,Microsoft.Crm.Client.Core.ViewModels.$Ci,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN);Microsoft.Crm.Client.Core.ViewModels.$Rf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rf",Microsoft.Crm.Client.Core.ViewModels.$Ra);Microsoft.Crm.Client.Core.ViewModels.$RD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RD",Xrm.XrmDataControl,Microsoft.Crm.Client.Core.ViewModels.$Ci,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN);Microsoft.Crm.Client.Core.ViewModels.$Rh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rh",Xrm.XrmControlText,Microsoft.Crm.Client.Core.ViewModels.$Ci,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN);Microsoft.Crm.Client.Core.ViewModels.$RE.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RE",Xrm.XrmControlSearchWidget,Microsoft.Crm.Client.Core.ViewModels.$Ci,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN);Microsoft.Crm.Client.Core.ViewModels.$Hl.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hl");Microsoft.Crm.Client.Core.ViewModels.$Hm.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hm");Microsoft.Crm.Client.Core.ViewModels.$Ht.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ht");Microsoft.Crm.Client.Core.ViewModels.$8E.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8E",Microsoft.Crm.Client.Core.ViewModels.$Ht);Microsoft.Crm.Client.Core.ViewModels.$8F.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8F",null,Microsoft.Crm.Client.Core.Framework.$Gt.$$(Microsoft.Crm.Client.Core.ViewModels.$8E));Microsoft.Crm.Client.Core.ViewModels.$Hi.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hi");Microsoft.Crm.Client.Core.ViewModels.$An.registerClass("Microsoft.Crm.Client.Core.ViewModels.$An");Microsoft.Crm.Client.Core.ViewModels.$Hj.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hj",null,Xrm.Interfaces.IKnowledgeArticle);Microsoft.Crm.Client.Core.ViewModels.$Mk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mk",Microsoft.Crm.Client.Core.ViewModels.$40);Microsoft.Crm.Client.Core.ViewModels.$98.registerClass("Microsoft.Crm.Client.Core.ViewModels.$98",Microsoft.Crm.Client.Core.ViewModels.$E1,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cl);Microsoft.Crm.Client.Core.ViewModels.$9D.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9D",Microsoft.Crm.Client.Core.ViewModels.$Bn);Microsoft.Crm.Client.Core.ViewModels.$2s.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2s");Microsoft.Crm.Client.Core.ViewModels.$RI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RI",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.$I1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$I1");Microsoft.Crm.Client.Core.ViewModels.$SA.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SA",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel",Microsoft.Crm.Client.Core.ViewModels.$SD);Microsoft.Crm.Client.Core.ViewModels.$Ak.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ak",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo");Microsoft.Crm.Client.Core.ViewModels.$6a.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6a",Microsoft.Crm.Client.Core.ViewModels.$S1);Microsoft.Crm.Client.Core.ViewModels.$Br.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Br",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$I0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$I0");Microsoft.Crm.Client.Core.ViewModels.$CN.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CN",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$Sc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sc",Microsoft.Crm.Client.Core.ViewModels.$Bn);Microsoft.Crm.Client.Core.ViewModels.$Sg.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sg",Microsoft.Crm.Client.Core.ViewModels.$Sc);Microsoft.Crm.Client.Core.ViewModels.$Sd.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sd",Microsoft.Crm.Client.Core.ViewModels.$Bn);Microsoft.Crm.Client.Core.ViewModels.$l.registerClass("Microsoft.Crm.Client.Core.ViewModels.$l");Microsoft.Crm.Client.Core.ViewModels.$S7.registerClass("Microsoft.Crm.Client.Core.ViewModels.$S7",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$9z.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9z",Microsoft.Crm.Client.Core.ViewModels.$S7,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$76);Microsoft.Crm.Client.Core.ViewModels.$Hy.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hy");Microsoft.Crm.Client.Core.ViewModels.$DH.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DH",Microsoft.Crm.Client.Core.ViewModels.$Br);Microsoft.Crm.Client.Core.ViewModels.$DJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DJ",Microsoft.Crm.Client.Core.ViewModels.$CN);Microsoft.Crm.Client.Core.ViewModels.$E2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E2",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$E3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E3",Microsoft.Crm.Client.Core.ViewModels.$Bn);Microsoft.Crm.Client.Core.ViewModels.$Sb.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sb",Microsoft.Crm.Client.Core.ViewModels.$Bn);Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$Dt.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dt",Microsoft.Crm.Client.Core.ViewModels.$SK,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickCreateNoteEntityItem",Microsoft.Crm.Client.Core.ViewModels.List.$SG);Microsoft.Crm.Client.Core.ViewModels.$A8.registerClass("Microsoft.Crm.Client.Core.ViewModels.$A8",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.$CD,Microsoft.Crm.Client.Core.ViewModels.$F1);Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$F2,Microsoft.Crm.Client.Core.ViewModels.$Eu,Microsoft.Crm.Client.Core.ViewModels.$9c,Microsoft.Crm.Client.Core.ViewModels.$4Q,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$DB,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$DG,Microsoft.Crm.Client.Core.ViewModels.$78,Microsoft.Crm.Client.Core.ViewModels.$9v,Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co,Microsoft.Crm.Client.Core.OWAViewModels.Common.$G6);Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel);Microsoft.Crm.Client.Core.ViewModels.$I4.registerClass("Microsoft.Crm.Client.Core.ViewModels.$I4");Microsoft.Crm.Client.Core.ViewModels.$MW.registerClass("Microsoft.Crm.Client.Core.ViewModels.$MW",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Qp.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qp",Microsoft.Crm.Client.Core.ViewModels.$MW);Microsoft.Crm.Client.Core.ViewModels.$MY.registerClass("Microsoft.Crm.Client.Core.ViewModels.$MY",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$MX.registerClass("Microsoft.Crm.Client.Core.ViewModels.$MX",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Md.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Md",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Me.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Me",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mf",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$MZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$MZ",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Ma.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ma",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Qr.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qr",Microsoft.Crm.Client.Core.ViewModels.$MW);Microsoft.Crm.Client.Core.ViewModels.$Mb.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mb",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mw.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mw",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mx.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mx",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$My.registerClass("Microsoft.Crm.Client.Core.ViewModels.$My",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mv",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Ms.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ms",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mt.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mt",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mu.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mu",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$N1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$N1",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$N2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$N2",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$N3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$N3",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$N0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$N0",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mz.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mz",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mn.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mn",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mo.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mo",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mm.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mm",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mr.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mr",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mp.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mp",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Mq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mq",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$MV.registerClass("Microsoft.Crm.Client.Core.ViewModels.$MV",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Hz.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hz");Microsoft.Crm.Client.Core.ViewModels.$I2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$I2",null,Microsoft.Crm.Client.Core.ViewModels.$F4);Microsoft.Crm.Client.Core.ViewModels.$EB.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EB",Microsoft.Crm.Client.Core.ViewModels.$4Z,Microsoft.Crm.Client.Core.Framework.$9t,Microsoft.Crm.Client.Core.Framework.$D9);Microsoft.Crm.Client.Core.ViewModels.$65.registerClass("Microsoft.Crm.Client.Core.ViewModels.$65");Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$CD);Microsoft.Crm.Client.Core.ViewModels.$4F.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4F",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel);Microsoft.Crm.Client.Core.ViewModels.$9V.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9V",Microsoft.Crm.Client.Core.ViewModels.$4D);Microsoft.Crm.Client.Core.ViewModels.$CR.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CR",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z,Microsoft.Crm.Client.Core.ViewModels.$77);Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$3ES.registerClass("Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$3ES");Microsoft.Crm.Client.Core.ViewModels.$MO.registerClass("Microsoft.Crm.Client.Core.ViewModels.$MO",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$N4.registerClass("Microsoft.Crm.Client.Core.ViewModels.$N4",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Nc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nc",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Nd.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nd",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$NT.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NT",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$5V.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5V",Microsoft.Crm.Client.Core.ViewModels.$NT);Microsoft.Crm.Client.Core.ViewModels.$Ql.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ql",Microsoft.Crm.Client.Core.ViewModels.$NT);Microsoft.Crm.Client.Core.ViewModels.$Ne.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ne",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$NZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NZ",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Na.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Na",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Nb.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nb",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Nf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nf",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Nj.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nj",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Nk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nk",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Ng.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ng",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Nh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nh",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$Ni.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ni",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$NR.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NR",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$NS.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NS",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$I3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$I3");Microsoft.Crm.Client.Core.ViewModels.$NO.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NO",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$NP.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NP",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$NQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NQ",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$NU.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NU",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$NW.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NW",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$NX.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NX",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$NY.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NY",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$NV.registerClass("Microsoft.Crm.Client.Core.ViewModels.$NV",Microsoft.Crm.Client.Core.ViewModels.$I4);Microsoft.Crm.Client.Core.ViewModels.$b.registerClass("Microsoft.Crm.Client.Core.ViewModels.$b",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.$4r.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4r");Microsoft.Crm.Client.Core.ViewModels.$SC.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SC",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$SR.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SR",Microsoft.Crm.Client.Core.ViewModels.$SC);Microsoft.Crm.Client.Core.ViewModels.$SP.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SP",Microsoft.Crm.Client.Core.ViewModels.$SC);Microsoft.Crm.Client.Core.ViewModels.$SO.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SO",Microsoft.Crm.Client.Core.ViewModels.$SC);Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.registerClass("Microsoft.Crm.Client.Core.ViewModels.PerformanceReport");Microsoft.Crm.Client.Core.ViewModels.$SQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SQ",Microsoft.Crm.Client.Core.ViewModels.$SC);Microsoft.Crm.Client.Core.ViewModels.$SH.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SH",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.$S1);Microsoft.Crm.Client.Core.ViewModels.$Cu.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cu",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel",Microsoft.Crm.Client.Core.ViewModels.RootViewModel,Microsoft.Crm.Client.Core.ViewModels.$6Z,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$Eb);Microsoft.Crm.Client.Core.ViewModels.$6j.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6j",Xrm.XrmEntityAttribute,Microsoft.Crm.Client.Core.ViewModels.$Ce);Microsoft.Crm.Client.Core.ViewModels.$RR.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RR",Xrm.XrmControlACI,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$DD,Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$Be.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Be",Xrm.XrmEntityAttributeBoolean,Microsoft.Crm.Client.Core.ViewModels.$Ce);Microsoft.Crm.Client.Core.ViewModels.$Qb.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qb",Xrm.XrmEntityAttributeDateTime,Microsoft.Crm.Client.Core.ViewModels.$Ce);Microsoft.Crm.Client.Core.ViewModels.$Qb.$3FX.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qb.$3FX",Microsoft.Crm.Client.Core.ViewModels.$6j);Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApiManager",null,Microsoft.Crm.Client.Core.ViewModels.$9Y);Microsoft.Crm.Client.Core.ViewModels.$RX.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RX",Xrm.XrmDataControl);Microsoft.Crm.Client.Core.ViewModels.$Hu.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hu");Microsoft.Crm.Client.Core.ViewModels.$Rv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rv",Xrm.XrmControlDateTime,Microsoft.Crm.Client.Core.ViewModels.$Ci,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN);Microsoft.Crm.Client.Core.ViewModels.$4A.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4A",Xrm.XrmEntity,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$RY.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RY",Xrm.XrmControlWebResource,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$DD,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN,Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$Qg.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qg",Xrm.XrmControl,Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$RY.$3Fl.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RY.$3Fl",Microsoft.Crm.Client.Core.ViewModels.$Qg);Microsoft.Crm.Client.Core.ViewModels.$Rk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rk",Xrm.XrmControlIFrame,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$DD,Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$D3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D3",Xrm.XrmControlSubGrid,Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$Qi.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qi",Xrm.XrmControl,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN);Microsoft.Crm.Client.Core.ViewModels.$RZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RZ",Microsoft.Crm.Client.Core.ViewModels.$Qi);Microsoft.Crm.Client.Core.ViewModels.$E7.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E7",Xrm.XrmControlButton,Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$Nv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nv",Xrm.XrmProcessControlData);Microsoft.Crm.Client.Core.ViewModels.$Nw.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nw",Xrm.XrmProcessControlUI);Microsoft.Crm.Client.Core.ViewModels.$39.registerClass("Microsoft.Crm.Client.Core.ViewModels.$39");Microsoft.Crm.Client.Core.ViewModels.$Qj.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qj",Xrm.SaveEventArgs);Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs.registerClass("Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs",Microsoft.Crm.Client.Core.ViewModels.$Qj);Microsoft.Crm.Client.Core.ViewModels.$RW.$3Fk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RW.$3Fk",Microsoft.Crm.Client.Core.ViewModels.$Qg);Microsoft.Crm.Client.Core.ViewModels.$Qe.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qe",Xrm.XrmEntityAttributeLookup,Microsoft.Crm.Client.Core.ViewModels.$Ce);Microsoft.Crm.Client.Core.ViewModels.$Ro.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ro",Xrm.XrmControlLookup,Microsoft.Crm.Client.Core.ViewModels.$Ci,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN,Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$Qf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qf",Xrm.XrmEntityAttributeNumber,Microsoft.Crm.Client.Core.ViewModels.$Ce);Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper",Xrm.$Lb);Microsoft.Crm.Client.Core.ViewModels.$De.registerClass("Microsoft.Crm.Client.Core.ViewModels.$De",Xrm.XrmEntityAttributeOptionSet,Microsoft.Crm.Client.Core.ViewModels.$Ce);Microsoft.Crm.Client.Core.ViewModels.$Rl.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rl",Xrm.XrmControlOptionSet,Microsoft.Crm.Client.Core.ViewModels.$Ci,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN,Microsoft.Crm.Client.Core.ViewModels.$9i);Microsoft.Crm.Client.Core.ViewModels.$Re.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Re",Microsoft.Crm.Client.Core.ViewModels.$Qe);Microsoft.Crm.Client.Core.ViewModels.$Nt.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nt",Xrm.XrmEntity,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$Qh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Qh",Xrm.XrmTabSection);Microsoft.Crm.Client.Core.ViewModels.$R2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R2",Xrm.XrmTab,Microsoft.Crm.Client.Core.ViewModels.ClientApi.$GN);Microsoft.Crm.Client.Core.ViewModels.$R1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$R1",Xrm.XrmEntityAttributeString,Microsoft.Crm.Client.Core.ViewModels.$Ce);Microsoft.Crm.Client.Core.ViewModels.$Hv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hv",null,XrmUI.IXrmUIControl,Xrm.IXrmCollectionItem);Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper",null,XrmUI.IXrmUIControlsData);Microsoft.Crm.Client.Core.ViewModels.$Rq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rq",Microsoft.Crm.Client.Core.ViewModels.$RY);Microsoft.Crm.Client.Core.ViewModels.$Nu.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nu",Xrm.XrmGlobalContext);Microsoft.Crm.Client.Core.ViewModels.$Nx.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nx",Xrm.XrmPageContextClient);Microsoft.Crm.Client.Core.ViewModels.$BW.registerClass("Microsoft.Crm.Client.Core.ViewModels.$BW",Xrm.XrmFormData,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$7m.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7m",Xrm.XrmFormUI);Microsoft.Crm.Client.Core.ViewModels.$Nz.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Nz",Xrm.XrmTaskProcess);Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper",null,Xrm.Interfaces.IXrmSubGridControl,Xrm.Interfaces.IXrmGridControl);Microsoft.Crm.Client.Core.ViewModels.$2O.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2O",null,Microsoft.Crm.Client.Core.ViewModels.$8C);Microsoft.Crm.Client.Core.ViewModels.$EO.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EO",Microsoft.Crm.Client.Core.ViewModels.$SV);Microsoft.Crm.Client.Core.ViewModels.$Ba.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ba",Microsoft.Crm.Client.Core.ViewModels.$EO,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel",Microsoft.Crm.Client.Core.ViewModels.$CD);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd,Microsoft.Crm.Client.Core.ViewModels.$87);Microsoft.Crm.Client.Core.ViewModels.$Db.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Db",Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel);Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$Bn);Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$CI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CI",Microsoft.Crm.Client.Core.ViewModels.$EO,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$Bt.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bt",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.$DA,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$Dk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dk",Microsoft.Crm.Client.Core.ViewModels.$EO,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$7G.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7G",Microsoft.Crm.Client.Core.ViewModels.$ST,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ct,Microsoft.Crm.Client.Core.ViewModels.$75,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$DW.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DW",Microsoft.Crm.Client.Core.ViewModels.$7G);Microsoft.Crm.Client.Core.ViewModels.$A5.registerClass("Microsoft.Crm.Client.Core.ViewModels.$A5",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$DW);Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel",Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel,Microsoft.Crm.Client.Core.ViewModels.$9e,Microsoft.Crm.Client.Core.Framework.$9t);Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$3R);Microsoft.Crm.Client.Core.ViewModels.$80.registerClass("Microsoft.Crm.Client.Core.ViewModels.$80",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$CM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CM",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel",Microsoft.Crm.Client.Core.ViewModels.$7n);Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel,Microsoft.Crm.Client.Core.ViewModels.$Eu,Microsoft.Crm.Client.Core.ViewModels.$9c,Microsoft.Crm.Client.Core.ViewModels.$4Q,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$DB,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$DG,Microsoft.Crm.Client.Core.ViewModels.$78,Microsoft.Crm.Client.Core.ViewModels.$9v,Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co,Microsoft.Crm.Client.Core.OWAViewModels.Common.$G6,Microsoft.Crm.Client.Core.Framework.$9t);Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel",Microsoft.Crm.Client.Core.ViewModels.RootViewModel,Microsoft.Crm.Client.Core.ViewModels.$6Z,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$86);Microsoft.Crm.Client.Core.ViewModels.$EM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EM",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$EL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EL",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$DL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DL",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$DL);Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel);Microsoft.Crm.Client.Core.ViewModels.$1N.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1N");Microsoft.Crm.Client.Core.ViewModels.$55.registerClass("Microsoft.Crm.Client.Core.ViewModels.$55");Microsoft.Crm.Client.Core.ViewModels.$1r.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1r");Microsoft.Crm.Client.Core.ViewModels.$1r.$3ER.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1r.$3ER");Microsoft.Crm.Client.Core.ViewModels.$Hx.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hx");Microsoft.Crm.Client.Core.ViewModels.$Hw.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hw");Microsoft.Crm.Client.Core.ViewModels.$1s.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1s");Microsoft.Crm.Client.Core.ViewModels.$1d.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1d");Microsoft.Crm.Client.Core.ViewModels.$Ha.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ha");Microsoft.Crm.Client.Core.ViewModels.$SB.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SB",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.$1p.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1p");Microsoft.Crm.Client.Core.ViewModels.$13.registerClass("Microsoft.Crm.Client.Core.ViewModels.$13");Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I,Microsoft.Crm.Client.Core.ViewModels.$F7,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.Controls.$S4.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$S4",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.Controls.$SY.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$SY",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.Controls.$CQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$CQ",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.Controls.$SM.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$SM",Microsoft.Crm.Client.Core.ViewModels.Controls.$S4,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.Controls.$EH.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$EH",Microsoft.Crm.Client.Core.ViewModels.Controls.$S4);Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj",Microsoft.Crm.Client.Core.ViewModels.$3R);Microsoft.Crm.Client.Core.ViewModels.Controls.$Du.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Du",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.PaneStackingSettingsViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$QI",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DY.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DY");Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DF.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DF");Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$QI.$3DZ");Microsoft.Crm.Client.Core.ViewModels.Controls.$EG.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$EG",Microsoft.Crm.Client.Core.ViewModels.$EO);Microsoft.Crm.Client.Core.ViewModels.Controls.$EC.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$EC",Microsoft.Crm.Client.Core.ViewModels.Controls.$E8);Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs",Microsoft.Crm.Client.Core.ViewModels.$Bh);Microsoft.Crm.Client.Core.ViewModels.Controls.$8g.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$8g",Microsoft.Crm.Client.Core.Framework.$69);Microsoft.Crm.Client.Core.ViewModels.Controls.$HG.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$HG");Microsoft.Crm.Client.Core.ViewModels.Controls.$HE.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$HE");Microsoft.Crm.Client.Core.ViewModels.Controls.$6R.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$6R");Microsoft.Crm.Client.Core.ViewModels.Controls.$Ny.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Ny",Microsoft.Crm.Client.Core.ViewModels.Controls.$6R);Microsoft.Crm.Client.Core.ViewModels.Controls.$SE.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$SE",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase",Microsoft.Crm.Client.Core.ViewModels.Controls.$SE,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cq,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$DB);Microsoft.Crm.Client.Core.ViewModels.Controls.$HF.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$HF");Microsoft.Crm.Client.Core.ViewModels.Controls.$8h.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$8h");Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$1y");Microsoft.Crm.Client.Core.ViewModels.Controls.$7z.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$7z",Microsoft.Crm.Client.Core.ViewModels.Controls.$SE);Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase);Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.Controls.$7y.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$7y",Microsoft.Crm.Client.Core.ViewModels.Controls.$SE);Microsoft.Crm.Client.Core.ViewModels.Controls.$HI.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$HI");Microsoft.Crm.Client.Core.ViewModels.Controls.$SX.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$SX",Microsoft.Crm.Client.Core.ViewModels.$SI);Microsoft.Crm.Client.Core.ViewModels.Controls.$AW.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$AW",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.Controls.$AX.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$AX",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.$6Z,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.Controls.$3T.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$3T",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.Controls.$8N.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$8N",Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.$B0.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$B0",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.Controls.$EP.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$EP",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.Controls.$Nm.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Nm",Microsoft.Crm.Client.Core.ViewModels.Controls.$6R);Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.Controls.$HJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$HJ");Microsoft.Crm.Client.Core.ViewModels.Controls.$8v.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$8v",Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs,Microsoft.Crm.Client.Core.ViewModels.$9c);Microsoft.Crm.Client.Core.ViewModels.Controls.$Nn.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Nn",Microsoft.Crm.Client.Core.ViewModels.Controls.$6R);Microsoft.Crm.Client.Core.ViewModels.Controls.$AY.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$AY",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.Controls.$7P.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$7P",Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel,Microsoft.Crm.Client.Core.ViewModels.$9c,Microsoft.Crm.Client.Core.ViewModels.Controls.$Ep);Microsoft.Crm.Client.Core.ViewModels.Controls.$Ac.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$Ac",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.Controls.$Ep);Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase);Microsoft.Crm.Client.Core.ViewModels.Controls.$No.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$No",Sys.EventArgs);Microsoft.Crm.Client.Core.ViewModels.Controls.$6f.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$6f",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.Controls.$B7.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$B7",Microsoft.Crm.Client.Core.ViewModels.Controls.$6f);Microsoft.Crm.Client.Core.ViewModels.Controls.$B8.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$B8",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.Controls.$HH.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$HH",null,Microsoft.Crm.Client.Core.ViewModels.Controls.$Eq);Microsoft.Crm.Client.Core.Commands.$8U.registerClass("Microsoft.Crm.Client.Core.Commands.$8U",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.$9N.registerClass("Microsoft.Crm.Client.Core.Commands.$9N",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.$Ai.registerClass("Microsoft.Crm.Client.Core.Commands.$Ai",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.SendEmailCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SendEmailCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.registerClass("Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.registerClass("Microsoft.Crm.Client.Core.Commands.PhoneCallCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.$AR.registerClass("Microsoft.Crm.Client.Core.Commands.$AR",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.registerClass("Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.$7f.registerClass("Microsoft.Crm.Client.Core.Commands.$7f",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.$8f.registerClass("Microsoft.Crm.Client.Core.Commands.$8f",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.$Ao.registerClass("Microsoft.Crm.Client.Core.Commands.$Ao",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChangeControlCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.$6k.registerClass("Microsoft.Crm.Client.Core.Commands.$6k",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChangeViewCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChangeChartCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.$R5.registerClass("Microsoft.Crm.Client.Core.Commands.$R5",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.registerClass("Microsoft.Crm.Client.Core.Commands.EmailLinkCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenDialogCommand",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ReconfigureCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.CreateFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CreateFormCommand",Microsoft.Crm.Client.Core.Commands.$R5);Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand",Microsoft.Crm.Client.Core.Commands.$R5);Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SetHomepageCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.$3B.registerClass("Microsoft.Crm.Client.Core.Commands.$3B");Microsoft.Crm.Client.Core.Commands.SearchCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SearchCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand",Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand);Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickNavigateCommand",Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand);Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand.registerClass("Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickDrilldownCommand",Microsoft.Crm.Client.Core.Commands.CrmChartSeriesClickCommand);Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ResizeTileCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ChartCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChartCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.registerClass("Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o");Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenEmailCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.WebResourceCommand.registerClass("Microsoft.Crm.Client.Core.Commands.WebResourceCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.registerClass("Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.$B5.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$B5",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.$BH.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$BH",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.$8d.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$8d",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.$9A.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$9A",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99);Microsoft.Crm.Client.Core.ViewModels.Commands.$AS.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$AS",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If);Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$Ry",Microsoft.Crm.Client.Core.Framework.Binding.$RG);Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.$B3.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$B3",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.$8u.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$8u",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);XrmUI.XrmUIHelper.registerClass("XrmUI.XrmUIHelper",null,XrmUI.IXrmUIHelper);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QR.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QR",Microsoft.Crm.Client.Core.ViewModels.$6j);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QS.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QS",Xrm.$PT);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QT.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QT",Xrm.$OB);Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1a");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R");Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R6.registerClass("Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R6",Microsoft.Crm.Client.Core.ViewModels.$R2);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8X.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8X",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$B4.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$B4",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$BJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$BJ",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8L.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8L",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58);Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8R.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8R",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58);Microsoft.Crm.Client.Core.ViewModels.MailApp.$8a.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$8a");Microsoft.Crm.Client.Core.ViewModels.MailApp.$8a.$3EZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$8a.$3EZ");Microsoft.Crm.Client.Core.ViewModels.MailApp.$S0.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$S0",Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.$$(Microsoft.Crm.Client.Core.Models.MailApp.$O5));Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailEngagementCardViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppMessageDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.$6c.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$6c",Microsoft.Crm.Client.Core.ViewModels.Controls.$Du);Microsoft.Crm.Client.Core.ViewModels.MailApp.$4m.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$4m");Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel",Microsoft.Crm.Client.Core.ViewModels.$4D);Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientsTabBarViewModel",Microsoft.Crm.Client.Core.ViewModels.TabBarViewModel$1.$$(Microsoft.Crm.Client.Core.Models.MailApp.$O0));Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.NotificationViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rx.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rx",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$Rw",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.$E5.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$E5",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.$Bn);Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$1vE.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel.$1vE",Microsoft.Crm.Client.Core.ViewModels.$Bm);Microsoft.Crm.Client.Core.ViewModels.MailApp.$8M.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.$8M",Microsoft.Crm.Client.Core.ViewModels.$4D);Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel",Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RefreshMetadataAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RefreshMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Am.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Am",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailCustomPropertiesAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailCustomPropertiesAction",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailContextActionBase,Microsoft.Crm.Client.Core.Framework.$9j);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.LandingPageSettingsViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SZ",Microsoft.Crm.Client.Core.ViewModels.$3R);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SF.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.$SF",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.Command.DelveActionHubCommandHelper.registerClass("Microsoft.Crm.Client.Core.Command.DelveActionHubCommandHelper");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$4W.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$4W");Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$6y.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$6y");Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$CK.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$CK");Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$J3.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Descriptors.$J3");Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$J2.registerClass("Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$J2",null,Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$GU);Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Iz.registerClass("Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Iz",null,Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$GT);Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$Rg.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickCommandsBar.$Rg",Microsoft.Crm.Client.Core.ViewModels.$4Z,Microsoft.Crm.Client.Core.OWAViewModels.Common.$G6);ProcessControl.Reflow.$J0.registerClass("ProcessControl.Reflow.$J0",null,ProcessControl.Reflow.$GK,ProcessControl.Reflow.$GY);ProcessControl.Reflow.$J1.registerClass("ProcessControl.Reflow.$J1",null,ProcessControl.Reflow.$GI,ProcessControl.Reflow.$GY);ProcessControl.Reflow.$Iq.registerClass("ProcessControl.Reflow.$Iq",null,ProcessControl.Reflow.$GF,ProcessControl.Reflow.$GY);ProcessControl.Reflow.$Ir.registerClass("ProcessControl.Reflow.$Ir",null,ProcessControl.Reflow.$GY);ProcessControl.Reflow.$Is.registerClass("ProcessControl.Reflow.$Is",null,ProcessControl.Reflow.$GE,ProcessControl.Reflow.$GY);ProcessControl.Reflow.$Ip.registerClass("ProcessControl.Reflow.$Ip",null,ProcessControl.Reflow.$GH,ProcessControl.Reflow.$GY);ProcessControl.Reflow.$Im.registerClass("ProcessControl.Reflow.$Im",null,ProcessControl.Reflow.$GM);ProcessControl.Reflow.$NM.registerClass("ProcessControl.Reflow.$NM",ProcessControl.Reflow.$Im);ProcessControl.Reflow.$NK.registerClass("ProcessControl.Reflow.$NK",ProcessControl.Reflow.$Im);ProcessControl.Reflow.$In.registerClass("ProcessControl.Reflow.$In",null,ProcessControl.Reflow.$GG);ProcessControl.Reflow.$Io.registerClass("ProcessControl.Reflow.$Io",null,ProcessControl.Reflow.$GR);ProcessControl.Reflow.$It.registerClass("ProcessControl.Reflow.$It",null,ProcessControl.Reflow.$Fy);ProcessControl.Reflow.$Ix.registerClass("ProcessControl.Reflow.$Ix",null,ProcessControl.Reflow.$G1);ProcessControl.Reflow.$NC.registerClass("ProcessControl.Reflow.$NC",Sys.EventArgs);ProcessControl.Reflow.$Iy.registerClass("ProcessControl.Reflow.$Iy",null,ProcessControl.Reflow.$G2);ProcessControl.Reflow.$Iw.registerClass("ProcessControl.Reflow.$Iw",null,ProcessControl.Reflow.$Gl);ProcessControl.Reflow.$NE.registerClass("ProcessControl.Reflow.$NE",ProcessControl.Reflow.$A1.$$(String),ProcessControl.Reflow.$Gk,ProcessControl.Reflow.$9k.$$(String));ProcessControl.Reflow.$Iu.registerClass("ProcessControl.Reflow.$Iu",null,ProcessControl.Reflow.$Gn);ProcessControl.Reflow.$Iv.registerClass("ProcessControl.Reflow.$Iv",null,ProcessControl.Reflow.$GJ);ProcessControl.Reflow.$BV.registerClass("ProcessControl.Reflow.$BV");Xrm.Objects.RecentlyViewedItem.registerClass("Xrm.Objects.RecentlyViewedItem");ProcessControl.ClientApi.$IK.registerClass("ProcessControl.ClientApi.$IK");Microsoft.Crm.Client.Core.ViewModels.Events.$IL.registerClass("Microsoft.Crm.Client.Core.ViewModels.Events.$IL",null,Microsoft.Crm.Client.Core.Models.$FL);Microsoft.Crm.Client.Core.ViewModels.Events.$NF.registerClass("Microsoft.Crm.Client.Core.ViewModels.Events.$NF",Sys.EventArgs);Xrm.NotificationLevels.error="ERROR";Xrm.NotificationLevels.warning="WARNING";Xrm.NotificationLevels.information="INFO";Xrm.JavaScriptConsoleTraceListener.$C=null;Xrm.Offline.$C=null;Xrm.XrmInternal.$1iv=null;Xrm.AttributeFormat.date="date";Xrm.AttributeFormat.dateTime="datetime";Xrm.AttributeFormat.duration="duration";Xrm.AttributeFormat.email="email";Xrm.AttributeFormat.language="language";Xrm.AttributeFormat.none="none";Xrm.AttributeFormat.phone="phone";Xrm.AttributeFormat.text="text";Xrm.AttributeFormat.textArea="textarea";Xrm.AttributeFormat.tickerSymbol="tickersymbol";Xrm.AttributeFormat.timeZone="timezone";Xrm.AttributeFormat.url="url";Xrm.AttributeType.booleanType="boolean";Xrm.AttributeType.dateTimeType="datetime";Xrm.AttributeType.decimalType="decimal";Xrm.AttributeType.doubleType="double";Xrm.AttributeType.integerType="integer";Xrm.AttributeType.lookupType="lookup";Xrm.AttributeType.memoType="memo";Xrm.AttributeType.moneyType="money";Xrm.AttributeType.optionSetType="optionset";Xrm.AttributeType.multiSelectOptionSetType="multiselectoptionset";Xrm.AttributeType.stringType="string";Xrm.AttributeType.uniqueIdentifierType="uniqueidentifier";Xrm.ClientName.mobile="Mobile";Xrm.ClientName.outlook="Outlook";Xrm.ClientName.web="Web";Xrm.ClientName.unifiedServiceDesk="UnifiedServiceDesk";Xrm.ClientState.online="Online";Xrm.ClientState.offline="Offline";Xrm.ClientStates.online="Online";Xrm.ClientStates.offline="Offline";Xrm.ControlType.button="button";Xrm.ControlType.standard="standard";Xrm.ControlType.iFrame="iframe";Xrm.ControlType.lookup="lookup";Xrm.ControlType.optionSet="optionset";Xrm.ControlType.multiSelectOptionSetType="multiselectoptionset";Xrm.ControlType.subGrid="subgrid";Xrm.ControlType.webResource="webresource";Xrm.ControlType.notes="notes";Xrm.ControlType.navBar="navbar";Xrm.ControlType.navBarItem="navbaritem";Xrm.ControlType.timer="timercontrol";Xrm.ControlType.searchWidget="searchwidget";Xrm.ControlType.quickFormControl="quickform";Xrm.ControlType.customControl="customcontrol";Xrm.ControlType.hidden="hidden";Xrm.ControlType.none="none";Xrm.ControlType.emailRecipientActivityControl="emailrecipientactivitycontrol";Xrm.ControlType.emailEngagementActionsControl="emailengagementactionscontrol";Xrm.ControlType.aciControl="acicontrol";Xrm.FormSaveAction.save="save";Xrm.FormSaveAction.saveAndClose="saveandclose";Xrm.FormSaveAction.saveAndNew="saveandnew";Xrm.LookupStyle.single="single";Xrm.LookupStyle.subject="subject";Xrm.LookupStyle.multi="multi";Xrm.NotificationLevel.error="ERROR";Xrm.NotificationLevel.warning="WARNING";Xrm.NotificationLevel.information="INFO";Xrm.NotificationLevel.localSave="LOCALSAVE";Xrm.NotificationLevel.recommendation="RECOMMENDATION";Xrm.RequiredLevel.none="none";Xrm.RequiredLevel.recommended="recommended";Xrm.RequiredLevel.required="required";Xrm.RequiredLevel.systemRequired="systemrequired";Xrm.SubmitMode.dirty="dirty";Xrm.SubmitMode.always="always";Xrm.SubmitMode.never="never";Xrm.TabDisplayState.expanded="expanded";Xrm.TabDisplayState.collapsed="collapsed";Xrm.Dialog.$C=null;Xrm.Internal.$C=null;Xrm.Internal.$uo=null;Xrm.Internal.messages=new Xrm.XrmSdkMessages;Xrm.Internal.trace=new Xrm.XrmTrace;Xrm.Internal.$$cctor();Xrm.Page.context=null;Xrm.Page.data=null;Xrm.Page.grid=null;Xrm.Page.ui=null;Xrm.Mobile.offline=null;Xrm.XrmInternalWrapper.$1gc={INFO:1,WARNING:2,ERROR:3,LOCALSAVE:4};Xrm.XrmInternalWrapper.$1FI={campaign:4400,bulkoperation:4406};Xrm.XrmInternalWrapper.$1R2=Microsoft.Crm.Client.Core.Framework.$1J.$109;Xrm.DateTimeUtility.$1aM=["ａ","ｍ","ｐ","Ａ","Ｍ","Ｐ","’","　","：","、","，","－","ー","―","‐","．","。","／","０","１","２","３","４","５","６","７","８","９"];Xrm.DateTimeUtility.$22I=["a","m","p","A","M","P","'"," ",":",",",",","-","-","-","-",".",".","/","0","1","2","3","4","5","6","7","8","9"];Mscrm.InternalUtilities.ClientApiUtility.$7r={};Microsoft.Crm.Client.Core.ViewModels.$DI.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$DK.$$cctor();this.$8t=null;Microsoft.Crm.Client.Core.ViewModels.$3W.$$cctor();this.$8t=null;Microsoft.Crm.Client.Core.ViewModels.$51.$$cctor();this.$iL=0;Microsoft.Crm.Client.Core.ViewModels.$8F.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Mk.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$2s.$C=null;Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Br.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$CN.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$9z.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$DH.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$DJ.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$E2.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$E3.$$cctor();Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4F.$24o="IsSetRegardingOpened";Microsoft.Crm.Client.Core.ViewModels.$4F.$241="IsCanvasConductorShouldBeDisplayed";Microsoft.Crm.Client.Core.ViewModels.$4F.$24n="IsSetRegardingDisplayedAsHomepage";Microsoft.Crm.Client.Core.ViewModels.$9V.$$cctor();Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$gC="IsLoading";Microsoft.Crm.Client.Core.ViewModels.TrackBarViewModel.$1Qm="State";Microsoft.Crm.Client.Core.ViewModels.$5V.$1BX=100;Microsoft.Crm.Client.Core.ViewModels.$4r.$15U=!1;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1iH=!1;this.$da=null;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1fN=0;Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1LA=!1;Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$1rn=[Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel,Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel,Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel,Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel];Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.$3=null;Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.$C=null;Microsoft.Crm.Client.Core.ViewModels.$2O.$3=null;Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.CrmTileViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel.$1Z7=[6,9,1,10];Microsoft.Crm.Client.Core.ViewModels.$1N.$e2=null;Microsoft.Crm.Client.Core.ViewModels.$1N.$qK=null;this.$8t=null;Microsoft.Crm.Client.Core.ViewModels.$55.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$1r.$C=null;Microsoft.Crm.Client.Core.ViewModels.$1r.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$1s.$1LD=null;Microsoft.Crm.Client.Core.ViewModels.$1s.$1mp=15001;Microsoft.Crm.Client.Core.ViewModels.$1d.$1Bz=null;Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1g6=["ManagedLabel"];Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$1g5="";Microsoft.Crm.Client.Core.ViewModels.$1p.$C=null;Microsoft.Crm.Client.Core.ViewModels.Controls.$SY.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$CQ.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$Aj.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModelBase.$1vB="ElasticSearch";Microsoft.Crm.Client.Core.ViewModels.Controls.$1y.$1LW=null;Microsoft.Crm.Client.Core.ViewModels.Controls.$7z.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Nl=null;Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$1Kj=null;Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$7y.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$B0.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$EP.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$8v.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel.$$cctor();Microsoft.Crm.Client.Core.Commands.$8U.$$cctor();Microsoft.Crm.Client.Core.Commands.$9N.$$cctor();Microsoft.Crm.Client.Core.Commands.$Ai.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenQuickCreateNoteFormCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SendEmailCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.EmailAttendeesCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SkypeMeetingCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.PhoneCallCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$AR.$$cctor();Microsoft.Crm.Client.Core.Commands.BindArchivedProcessCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$7f.$$cctor();Microsoft.Crm.Client.Core.Commands.$8f.$$cctor();Microsoft.Crm.Client.Core.Commands.CreateEmailReplyDraftCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$Ao.$$cctor();Microsoft.Crm.Client.Core.Commands.ShowDeviceSettingsCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ChangeControlCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenTaskBasedFlowCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$6k.$$cctor();Microsoft.Crm.Client.Core.Commands.ChangeViewCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ChangeChartCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ChangeChartViewCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenDialogCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ReconfigureCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.CreateFormCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenAssociateFormCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SetHomepageCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ShowAboutInformationCommand.$$cctor();this.$8t=null;Microsoft.Crm.Client.Core.Commands.$3B.$$cctor();Microsoft.Crm.Client.Core.Commands.SearchCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ExternalSearchCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenFloatingDialogCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ResizeTileCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1NQ=200;Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1q7=500;Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1mj=0;Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1WC=0;Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1VU=0;Microsoft.Crm.Client.Core.Commands.OpenInBrowserCommand.$4o.$1CY=null;Microsoft.Crm.Client.Core.Commands.OpenEmailCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenRelatedGridCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SavePersonalizationCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.GuidedHelpSettingsCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.ShowLandingPageSettingsCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$B5.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$BH.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptOutCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.OfflineOptinCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$8d.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$AZ.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$B3.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.ShowDiagnosticsAndErrorsCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$8u.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.RequestCloseCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1gg="@odata.nextLink";Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1XD="Xrm.Mobile.offline";Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1rp="retrieveRecord";Microsoft.Crm.Client.Core.ViewModels.ClientApi.$1C.$1rq="retrieveMultipleRecords";Microsoft.Crm.Client.Core.ViewModels.ClientApi.$J.$1Yr=5e3;Microsoft.Crm.Client.Core.ViewModels.ClientApi.$R.$Ab=null;Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8X.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$4E.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$B4.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$BJ.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$5H.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8L.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.MailApp.$8R.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.$C=null;Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppSimpleConductorViewModel.$2Gj="Top";Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RefreshMetadataAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.CheckMetadataChangedAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.SetTrackingInfoAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailLinksAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEntitiesAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$Am.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailContextAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailCustomPropertiesAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.UpdateEmailCustomPropertiesAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailContextAction.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPage.UserProfileViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.EmailEngagement.RemoveTrackingInfoAction.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.ViewModels.js.srcmap
