function ChartConfigObject(){this.title={};this.legend={};this.chart=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rp();this.xAxis=[];this.yAxis=[];this.series=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rr();this.credits={};this.colors=[];this.tooltip={};this.plotOptions=null;this.CrmConfiguration={};this.HighchartSeriesPointClicked=null;this.HighchartSeriesPointSelected=null;this.HighchartSeriesPointUnselected=null;this.chart.events=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tQ()}Type.registerNamespace("Mscrm");Mscrm.$MI=function(){};Mscrm.$MI.prototype={$1WM:function(n,t,i){var e,u,o;if(Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(n))return"";var f="",r=Mscrm.$MI.$T5.toString(0).toLowerCase(),s=new RegExp("[-()\\s]","g");return n=n.replace(s,""),e=new RegExp("live:|skype:","i"),n=n.replace(e,""),u=n,i.toLowerCase()==="tel"?r=Mscrm.$MI.$T5.toString(1).toLowerCase():i.toLowerCase()==="sfb"&&(r="ms-sfb",f="//call?id="),o=new RegExp("^[0-9]","i"),u=o.test(n)&&!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(t)?r+":"+f+t+n:r+":"+f+n,i.toLowerCase()==="skype"&&(u+="?call"),u}};Mscrm.$MI.$T5=function(){};Mscrm.$MI.$T5.prototype={skype:0,tel:1};Mscrm.$MI.$T5.registerEnum("Mscrm.$MI.$T5",!1);Type.registerNamespace("Microsoft.Crm.Client.Core.Framework");Microsoft.Crm.Client.Core.Framework.$6I=function(n){this.$$d_$2tC=Function.createDelegate(this,this.$2tC);this.$$d_$2tF=Function.createDelegate(this,this.$2tF);this.$$d_$2ux=Function.createDelegate(this,this.$2ux);this.$$d_$2tD=Function.createDelegate(this,this.$2tD);this.$$d_$2tG=Function.createDelegate(this,this.$2tG);this.$$d_$2uw=Function.createDelegate(this,this.$2uw);this.$$d_$2sa=Function.createDelegate(this,this.$2sa);Microsoft.Crm.Client.Core.Framework.$6I.initializeBase(this);this.$5j=n;this.$fA=Microsoft.Crm.Client.Core.Framework.Scheduler.$1YG();Microsoft.Crm.Client.Core.Framework.$6I.$1Rs(!0);$(window).bind("OnActionQueueEmpty",this.$$d_$2sa);$(window).bind("RemoteRequestPending",this.$$d_$2uw);$(window).bind("CustomScriptsLoading",this.$$d_$2tG);$(window).bind("CustomControlsPending",this.$$d_$2tD)};Microsoft.Crm.Client.Core.Framework.$6I.$1Rs=function(n){var t=window.document.getElementById("perfBadge");$0.$0(t)||(n?$(t).addClass("pageLoading"):$(t).removeClass("pageLoading"))};Microsoft.Crm.Client.Core.Framework.$6I.$2X8=function(n){for(var r,u,t,c,l=Microsoft.Crm.Client.Core.Framework.$1T.$d("innerWidth"),a=Microsoft.Crm.Client.Core.Framework.$1T.$d("pageXOffset"),e=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Boolean)),s=window.document.querySelectorAll('div[data-vmid="'+n+'"] .panoramaItem-control, div[data-vmid="'+n+'"] .panoramaItem-control > .listRoot, div[data-vmid="'+n+'"] .panoramaItem-control > .tilePlaceholderTable, div[data-vmid="'+n+'"] .proxyProcessHeader, div[data-vmid="'+n+'"] .crmtile ,div[data-vmid="'+n+'"] .gridcontainer .customControl'),o=0,v=s.length;o<v;o++)if(r=s[o],u=r.getAttribute("data-vmid"),!$0.$0(u)){var f=$(r).closest(".panoramaItem"),h=!1,i=r.getBoundingClientRect();if(!$0.$0(f)&&(h=f.attr("data-panetype")==="ChartPane",!$0.$0(f[0]))){if(t=f[0].getBoundingClientRect(),i.left>t.left+t.width||i.top+i.height<t.top||i.top>t.top+t.height){e.set_$R(u,!1);continue}i=t}c=i.left+a;e.set_$R(u,c<l&&!h)}return e};Microsoft.Crm.Client.Core.Framework.$6I.prototype={$fA:null,$5j:null,$1Uq:!1,$1O6:!0,$1EH:!0,$1EE:!0,$2sa:function(){this.$1Uq=!0;this.$jY()},$2uw:function(){this.$fA.cancelAll();$(window).unbind("RemoteRequestPending",this.$$d_$2uw);$(window).bind("NoRemoteRequestPending",this.$$d_$2ux);this.$1O6=!1},$2ux:function(){this.$1O6=!0;$(window).unbind("NoRemoteRequestPending",this.$$d_$2ux);$(window).bind("RemoteRequestPending",this.$$d_$2uw);this.$jY()},$2tG:function(){this.$fA.cancelAll();$(window).unbind("CustomScriptsLoading",this.$$d_$2tG);$(window).bind("NoCustomScriptsLoading",this.$$d_$2tF);this.$1EH=!1},$2tF:function(){this.$1EH=!0;$(window).unbind("NoCustomScriptsLoading",this.$$d_$2tF);$(window).bind("CustomScriptsLoading",this.$$d_$2tG);this.$jY()},$2tD:function(){this.$fA.cancelAll();$(window).unbind("CustomControlsPending",this.$$d_$2tD);$(window).bind("CustomControlsComplete",this.$$d_$2tC);this.$1EE=!1},$2tC:function(){this.$1EE=!0;$(window).unbind("CustomControlsComplete",this.$$d_$2tC);$(window).bind("CustomControlsPending",this.$$d_$2tD);this.$jY()},$jY:function(){if(this.$1Uq&&this.$1O6&&this.$1EH&&this.$1EE&&!this.$2h&&!$0.$0(this.$5j)&&this.$5j.$t===1){this.$fA.cancelAll();var n=this,t=Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){var u,t,i,f,r;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().get_$2xI()||(u=window.reactWaitingToFlush,u?window.setTimeout(function(){n.$jY()},20):$0.$0(n.$5j)?n.$1n3():(t=-1,i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),i.length>0&&(f=parseInt(i[i.length-1].$2m),t=f+1),r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedFull",1,n.$5j.get_ViewModelId(),function(){if(Microsoft.Crm.Client.Core.Framework.$2c.$2Z1(),n.$2NL(),n.$5j.set_$2o7(!0),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&t!==-1){var i=n.$5j.$g;(i===13||i===40||i===5||i===37)&&n.$3Bl(t.toString())}Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.$6I.$1Rs(!1)},-15,"UpdatePerformanceBadge")}),$0.$0(r)||(r.addParameter(Microsoft.Crm.Client.Core.Framework.$1.toString(n.$5j.$g)),r.addParameter(n.$5j.$D)),n.$1n3()))},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$2IR,"WaitForFullPageLoad");t.set_Owner(this.$fA)}},$3Bl:function(n){var i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$sN(n),r,t,c,a,u,v,y,f,p,w,b;if(!$0.$0(i)&&(r=this.$5j.$g,i.$1c==="LoadedFull")){var e=this.$5j.$D,k=r===40,d=r===40||r===5,o=i.$1Fs(),s=Microsoft.Crm.Client.Core.Framework.$1.toString(r),l=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Ha("BeforeInitializeStart",o),h=Math.ceil(Microsoft.Crm.Client.Core.Framework.$1T.$d("PageLoadStartTime"));l&&(t=l.$45,c=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Ha("LoadedInteractionReady",o),c&&(a=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qv("InteractionReady",c.$45-t,h+c.$45,s,e),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(a)),k&&(u=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Ha("RenderedReadReady",o),u&&(v=u.$45-t,v>0&&(y=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qv("ReadReady",u.$45-t,h+u.$45,s,e),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(y)))),d&&(f=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Ha("RenderedEditReady",o),f&&(p=f.$45-t,p>0&&(w=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qv("EditReady",f.$45-t,h+f.$45,s,e),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(w)))),b=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qv("FullLoad",i.$45-t,h+i.$45,s,e),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(b))}},$2NL:function(){for(var n,i,r,s=-1,h=-1,c=-1,l=-1,a=-1,e=-1,v=-1,y=-1,o=-1,u=-1,p=-1,f=-1,w=-1,b=-1,k=-1,nt=this.$5j.get_ViewModelId(),t=Microsoft.Crm.Client.Core.Framework.$6I.$2X8(nt),g=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),tt=g.length,d=0;d<tt;++d){n=g[d];t.$s()>0&&(i=n.$1Fs(),r=t.$3F5(i),n.$1c==="LoadedInitialUI"&&r?(t.get_$R(i)&&(s=Math.max(s,n.$45)),c=Math.max(c,n.$45)):n.$1c==="LoadedInitialData"&&r?(t.get_$R(i)&&(h=Math.max(h,n.$45)),l=Math.max(l,n.$45)):n.$1c==="RenderedInitialUI"&&r?(t.get_$R(i)&&(a=Math.max(a,n.$45)),v=Math.max(v,n.$45)):n.$1c==="RenderedInitialData"&&r?(t.get_$R(i)&&(e=Math.max(e,n.$45)),y=Math.max(y,n.$45)):n.$1c==="RenderedReadReady"&&r?t.get_$R(i)&&(u=Math.max(u,n.$45)):n.$1c==="RenderedEditReady"&&r&&t.get_$R(i)&&(f=Math.max(f,n.$45)));switch(n.$1c){case"LoadedReadReady":o=Math.max(o,n.$45);break;case"LoadedEditReady":p=Math.max(p,n.$45);break;case"BeforeInitializeStart":w=Math.max(w,n.$45);break;case"LoadedInteractionReady":b=Math.max(b,n.$45);break;case"LoadedFull":k=Math.max(k,n.$45)}}this.$QB("LoadedViewportInitialUI",s);this.$QB("LoadedViewportInitialData",h);this.$QB("LoadedInitialUI",c);this.$QB("LoadedInitialData",l);this.$QB("RenderedViewportInitialUI",a);this.$QB("RenderedViewportInitialData",e);this.$QB("RenderedInitialUI",v);this.$QB("RenderedInitialData",y);this.$QB("LoadedReadReady",o);this.$QB("RenderedReadReady",u===-1?o:u);this.$QB("RenderedEditReady",f===-1?p:f);this.$2ZJ(this.$5j.$g,w,b,e,u,f,k);this.$5j.$1wG()},$Oh:function(){this.$fA.cancelAll();this.$1n3()},$1n3:function(){$(window).unbind("OnActionQueueEmpty",this.$$d_$2sa);$(window).unbind("RemoteRequestPending",this.$$d_$2uw);$(window).unbind("NoRemoteRequestPending",this.$$d_$2ux);$(window).unbind("CustomScriptsLoading",this.$$d_$2tG);$(window).unbind("NoCustomScriptsLoading",this.$$d_$2tF);$(window).unbind("CustomControlsPending",this.$$d_$2tD);$(window).unbind("CustomControlsComplete",this.$$d_$2tC)},$QB:function(n,t){t!==-1&&Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bo(n,1,this.$5j.get_ViewModelId(),t)},$2ZJ:function(n,t,i,r,u,f,e){if(t!==-1){var o=i!==-1,s=n===2||n===13||n===17||n===1||n===34||n===35,h=n===2,c=n===2,l=e!==-1;o&&this.$tl("InteractionReady",t,i);s&&this.$tl("ViewportReady",t,r);h&&this.$tl("ReadReady",t,u);c&&this.$tl("EditReady",t,f);l&&this.$tl("FullLoad",t,e)}},$tl:function(n,t,i){var u,r,f;if(Microsoft.Crm.Client.Core.Framework.$6.get_$f())u=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qv(n,Math.ceil(i-t),Math.ceil(Microsoft.Crm.Client.Core.Framework.$1T.$d("PageLoadStartTime")+i)),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(u);else{if(r=this.$5j.$4H,$0.$0(r)||t===-1||i===-1)return;f=new Microsoft.Crm.Client.Core.Framework.$MB(n,Math.ceil(i-t),Math.ceil(Microsoft.Crm.Client.Core.Framework.$1T.$d("PageLoadStartTime")+i),r,{});Microsoft.Crm.Client.Core.Framework.$t.get_$6().$1VB(f)}}};Type.registerNamespace("Microsoft.Crm.Client.Core.Framework.Common");Microsoft.Crm.Client.Core.Framework.Common.jqGridResourceManager=function(){};Microsoft.Crm.Client.Core.Framework.Common.jqGridResourceManager.getLocalizedString=function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n)};Type.registerNamespace("Xrm");Xrm.IBusinessRuleNotificationProvider=function(){};Xrm.IBusinessRuleNotificationProvider.registerInterface("Xrm.IBusinessRuleNotificationProvider");Xrm.DateFormattingInfo=function(){};Xrm.SaveMode=function(){};Xrm.SaveMode.prototype={invalid:-1,none:0,save:1,saveAndClose:2,deleteRecord:3,load:4,deactivate:5,reactivate:6,send:7,disqualify:15,qualify:16,assign:47,faxSend:55,saveAsCompleted:58,saveAndNew:59,recalculateRecord:66,realignFiscalDates:67,convertWorkflowType:68,autoSave:70};Xrm.SaveMode.registerEnum("Xrm.SaveMode",!1);Xrm.DataLoadState=function(){};Xrm.DataLoadState.prototype={none:0,initialLoad:1,save:2,refresh:3};Xrm.DataLoadState.registerEnum("Xrm.DataLoadState",!1);Xrm.BeginSecureSessionResponseCode=function(){};Xrm.BeginSecureSessionResponseCode.prototype={success:0,unexpectedError:1,authorityNotFound:2,invalidResource:3,invalidDomain:4,unsupportedPlatform:5,featureDisabled:6};Xrm.BeginSecureSessionResponseCode.registerEnum("Xrm.BeginSecureSessionResponseCode",!1);Xrm.DialogOptions=function(){this.width=Number.NaN;this.height=Number.NaN;this.left=Number.NaN;this.top=Number.NaN;this.openInNewWindow=!1};Xrm.LookupObject=function(){};Xrm.RelationshipReference=function(n,t,i,r){this.name=n;this.attributeName=t;this.ordinal=i;this.relationshipType=r};Xrm.LookupOptions=function(){};Xrm.IXrmCollectionItem=function(){};Xrm.IXrmCollectionItem.registerInterface("Xrm.IXrmCollectionItem");Xrm.ActionCollectionBase=function(){};Xrm.ActionCollectionBase.prototype={actions:null,message:null};Xrm.BusinessRuleNotificationBase=function(){};Xrm.BusinessRuleNotificationBase.prototype={uniqueId:null,messages:null,priority:0,notificationLevel:null,actions:null};Xrm.ErrorResponse=function(n,t,i,r){this.errorCode=n;this.message=t;this.debugMessage=i;this.innerError=r};Xrm.ErrorResponse.prototype={errorCode:0,message:null,debugMessage:null,innerError:null};Xrm.XrmGlobalContext=function(){};Xrm.XrmGlobalContext.prototype={saveMode:-1,client:null,userSettings:null,organizationSettings:null};Xrm.XrmUtility=function(){};Xrm.ExecutionContext=function(n,t,i,r,u,f){this.$1Zh=n;this.$IR=i;this.$A=t;this.$1Zf=r;this.$1aH=f;this.$nU=u&&u.$nU?u.$nU:{}};Xrm.ExecutionContext.prototype={$1Zf:null,$1Zh:null,$1aH:null,$IR:0,$A:null,$nU:null,getContext:function(){return this.$A},getDepth:function(){return this.$IR},getEventArgs:function(){return this.$1Zf},getEventSource:function(){return this.$1Zh},getFormContext:function(){return this.$1aH},getSharedVariable:function(n){return this.$nU[n]},setSharedVariable:function(n,t){this.$nU[n]=t}};Xrm.ProcessActionSuccessResponse=function(){this.$1Mb={}};Xrm.ProcessActionSuccessResponse.prototype={get_outputParameters:function(){return this.$1Mb},set_outputParameters:function(n){return this.$1Mb=n,n}};Xrm.SaveErrorResponse=function(n,t,i){Xrm.SaveErrorResponse.initializeBase(this,[n,t,i,null])};Xrm.SaveEventArgs=function(){this.$1JL=this.isDefaultPrevented;Xrm.SaveEventArgs.initializeBase(this)};Xrm.SaveSuccessResponse=function(){};Xrm.SaveSuccessResponse.prototype={savedEntityReference:null};Xrm.XrmUserSettings=function(){};Xrm.XrmUserSettings.prototype={languageId:0,userId:null,userName:null,securityRoles:null,isGuidedHelpEnabled:!1,defaultCountryCode:null,dateFormattingInfo:null,isRTL:!1,isHighContrastEnabled:!1,transactionCurrencyId:null};Xrm.XrmPageContextClient=function(){};Xrm.XrmOrganizationSettings=function(){};Xrm.XrmOrganizationSettings.prototype={languageId:0,isAutoSaveEnabled:!1,uniqueName:null,useSkypeProtocol:!1,defaultCountryCode:null,attributes:null,baseCurrencyId:null,organizationId:null};Xrm.Utility=function(){};Xrm.Utility.setInstance=function(n){Xrm.Utility.$C=n};Xrm.Utility.areStateTransitionsEnforced=function(n){return Xrm.Utility.$C.areStateTransitionsEnforced(n)};Xrm.Utility.beginSecureSessionForResource=function(n,t,i){return Xrm.Utility.$C.beginSecureSessionForResource(n,t,i)};Xrm.Utility.create=function(n,t,i,r,u,f){Xrm.Utility.$C.create(n,t,i,r,u,f)};Xrm.Utility.openEntityForm=function(n,t,i,r){Xrm.Utility.$C.openEntityForm(n,t,i,r)};Xrm.Utility.openQuickCreate=function(n,t,i){return Xrm.Utility.$C.openQuickCreate(n,t,i)};Xrm.Utility.openTaskFlow=function(n,t,i){return Xrm.Utility.$C.openTaskFlow(n,t,i)};Xrm.Utility.invokeProcessAction=function(n,t){return Xrm.Utility.$C.invokeProcessAction(n,t)};Xrm.Utility.openWebResource=function(n,t,i,r){return Xrm.Utility.$C.openWebResource(n,t,i,r)};Xrm.Utility.alertDialog=function(n,t){Xrm.Utility.$C.alertDialog(n,t)};Xrm.Utility.confirmDialog=function(n,t,i){Xrm.Utility.$C.confirmDialog(n,t,i)};Xrm.Utility.isActivityType=function(n){return Xrm.Utility.$C.isActivityType(n)};Xrm.Utility.isEntityOfflineSyncEnabled=function(n){return Xrm.Utility.$C.isEntityOfflineSyncEnabled(n)};Xrm.Utility.isEntityOfflineDisabled=function(n){return Xrm.Utility.$C.isEntityOfflineDisabled(n)};Xrm.Utility.isOfflineDataStoreAvailable=function(){return Xrm.Utility.$C.isOfflineDataStoreAvailable()};Xrm.Utility.isMocaOfflineFeatureEnabled=function(){return Xrm.Utility.$C.isMocaOfflineFeatureEnabled()};Xrm.Utility.isAppOfflineSyncEnabled=function(){return Xrm.Utility.$C.isAppOfflineSyncEnabled()};Xrm.Utility.isMocaOffline=function(){return Xrm.Utility.$C.isMocaOffline()};Xrm.Utility.showHierarchyPage=function(n,t){Xrm.Utility.$C.showHierarchyPage(n,t)};Xrm.Utility.getEntitySetName=function(n){return Xrm.Utility.$C.getEntitySetName(n)};Xrm.Utility.getGlobalContext=function(){return Xrm.Utility.$C.getGlobalContext()};Xrm.Utility.refreshParentGrid=function(n){Xrm.Utility.$C.refreshParentGrid(n)};Xrm.Utility.deleteRecord=function(n,t){return Xrm.Utility.$C.deleteRecord(n,t)};Xrm.Utility.executeNonCudCommand=function(n,t,i,r,u){Xrm.Utility.$C.executeNonCudCommand(n,t,i,r,u)};Xrm.Utility.retrieveEntityRecord=function(n,t,i,r){Xrm.Utility.$C.retrieveEntityRecord(n,t,i,r)};Xrm.Utility.retrieveEntityCollection=function(n,t,i){Xrm.Utility.$C.retrieveEntityCollection(n,t,i)};Xrm.Utility.getCurrentPosition=function(){return Xrm.Utility.$C.getCurrentPosition()};Xrm.Utility.getBarcodeValue=function(){return Xrm.Utility.$C.getBarcodeValue()};Xrm.Utility.getDefaultTransactionCurrency=function(){return Xrm.Utility.$C.getDefaultTransactionCurrency()};Xrm.Utility.retrieveDefaultStatusForState=function(n,t){return Xrm.Utility.$C.retrieveDefaultStatusForState(n,t)};Xrm.Utility.getEntityUrl=function(n,t){return Xrm.Utility.$C.getEntityUrl(n,t)};Xrm.Utility.getResourceString=function(n,t){return Xrm.Utility.$C.getResourceString(n,t)};Xrm.Utility.getValidStatusTransition=function(n,t,i,r,u){return Xrm.Utility.$C.getValidStatusTransition(n,t,i,r,u)};Xrm.Utility.openDialog=function(n,t,i,r,u){Xrm.Utility.$C.openDialog(n,t,i,r,u)};Xrm.Utility.isOptimisticConcurrencyEnabled=function(n){return Xrm.Utility.$C.isOptimisticConcurrencyEnabled(n)};Xrm.Utility.openRecord=function(n,t,i){return Xrm.Utility.$C.openRecord(n,t,i)};Xrm.Utility.isVisibleInMobileClient=function(n){return Xrm.Utility.$C.isVisibleInMobileClient(n)};Xrm.Utility.isDocumentRecommendationsEnabledForEntity=function(n){return Xrm.Utility.$C.isDocumentRecommendationsEnabledForEntity(n)};Xrm.Utility.getEntityMetadata=function(n,t){return Xrm.Utility.$C.getEntityMetadata(n,t)};Xrm.Utility.lookupObjects=function(n){return Xrm.Utility.$C.lookupObjects(n)};Xrm.Utility.getAllowedStatusTransitions=function(n,t){return Xrm.Utility.$C.getAllowedStatusTransitions(n,t)};Xrm.Utility.showProgressIndicator=function(n){Xrm.Utility.$C.showProgressIndicator(n)};Xrm.Utility.closeProgressIndicator=function(){Xrm.Utility.$C.closeProgressIndicator()};Xrm.Utility.getLearningPathAttributeName=function(){return Xrm.Utility.$C.getLearningPathAttributeName()};Xrm.PageType=function(){};Xrm.XrmCollection$1=function(n){this.$9y=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(this.$$gta["Xrm.XrmCollection$1"].T));Xrm.XrmCollection$1.$$(this.$$gta["Xrm.XrmCollection$1"].T).initializeBase(this);n&&this.$9y.addRange(n)};Xrm.XrmCollection$1.$$=function(n){var t="XrmCollection$1$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!Xrm[t]){r=Xrm[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Xrm.XrmCollection$1"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Xrm.XrmCollection$1.apply(this,i)};r.registerClass("Xrm."+t,Xrm.XrmCollectionBase$1.$$(n));u=Xrm.XrmCollection$1.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return Xrm[t]};Xrm.XrmCollection$1.prototype={dispose:function(){this.$9y.clear()},forEach:function(n){for(var i,t=0;t<this.$9y.get_Count();t++)i=this.getByIndex(t),n(i,t)},add:function(n){this.$9y.add(n)},getFirst:function(n){for(var i,t=0;t<this.$9y.get_Count();t++)if(i=this.getByIndex(t),n(i,t))return i;return this.$$gta["Xrm.XrmCollection$1"].T===Number||Type.isEnum(this.$$gta["Xrm.XrmCollection$1"].T)?0:this.$$gta["Xrm.XrmCollection$1"].T===Boolean?!1:null},getLength:function(){return this.$9y.get_Count()},remove:function(n){this.$9y.remove(n)},getAll:function(){return this.$9y.toArray()},getByName:function(n){for(var t=0;t<this.$9y.get_Count();t++)if(this.$9y.get_$R(t).getKey()===n)return this.getByIndex(t);return this.$$gta["Xrm.XrmCollection$1"].T===Number||Type.isEnum(this.$$gta["Xrm.XrmCollection$1"].T)?0:this.$$gta["Xrm.XrmCollection$1"].T===Boolean?!1:null},getByIndex:function(n){return this.$9y.get_$R(n)},getByFilter:function(n){for(var i,r=[],t=0;t<this.$9y.get_Count();t++)i=this.getByIndex(t),n(i,t)&&Array.add(r,i);return r}};Xrm.XrmCollectionBase$1=function(){};Xrm.XrmCollectionBase$1.$$=function(n){var t="XrmCollectionBase$1$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!Xrm[t]){r=Xrm[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Xrm.XrmCollectionBase$1"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Xrm.XrmCollectionBase$1.apply(this,i)};r.registerClass("Xrm."+t);u=Xrm.XrmCollectionBase$1.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return Xrm[t]};Xrm.XrmCollectionBase$1.prototype={get:function(n){if(Mscrm.InternalUtilities.JSTypes.isNull(n))return this.getAll();if(String.isInstanceOfType(n))return this.getByName(n);if(Number.isInstanceOfType(n))return this.getByIndex(n);if(typeof n=="function")return this.getByFilter(n);throw Error.create("Collection.Get called with unknown parameter type: "+Object.getType(n).getName());}};Type.registerNamespace("Microsoft.Crm.Client.Core.Models");Microsoft.Crm.Client.Core.Models.$6J=function(n){this.$$d_$2uM=Function.createDelegate(this,this.$2uM);this.$$d_$33P=Function.createDelegate(this,this.$33P);this.$$d_$2vg=Function.createDelegate(this,this.$2vg);this.$$d_$2uK=Function.createDelegate(this,this.$2uK);this.$$d_$2uu=Function.createDelegate(this,this.$2uu);this.$Un={};this.$m3={};this.$1Lf={};this.$1Le={};Microsoft.Crm.Client.Core.Models.$6J.initializeBase(this);this.$1Nq=this.$$d_$2uu;this.$tz=this.$$d_$2uK;this.$2o=n;this.$2o.add_$7L(this.$1Nq);Microsoft.Crm.Client.Core.ViewModels.$4k.isInstanceOfType(this.$2o)&&this.$2o.add_$1S6(this.$$d_$2vg);Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$2o)&&this.$2o.add_$2CW(this.$$d_$33P)};Microsoft.Crm.Client.Core.Models.$6J.prototype={$2o:null,$1Nq:null,$tz:null,$u0:0,$2Kq:function(n){var t,i;this.$Un[n.Name]=n;t=n.ModelFieldName;t in this.$m3||(this.$m3[t]=new Array(0));i=this.$m3[t];i.push(n);$0.$0(this.$2o.get_$1B())||(this.$2Hd(n,this.$2o.get_$1B()),this.$18o(n.Name,this.$2o.get_$1B(),n.ModelFieldName,n.Validator))},$Oh:function(){var n,t,i,e,r,u,o,f;if(this.$2o.remove_$7L(this.$1Nq),n=this.$2o.get_ModelContext(),!$0.$0(n)){if(Microsoft.Crm.Client.Core.Models.$9m.isInstanceOfType(this.$2o.get_ModelContext())){t=this.$1Lf;for(i in t)e={key:i,value:t[i]},n.remove_$26j(e.value);r=this.$1Le;for(u in r)o={key:u,value:r[u]},n.remove_$26i(o.value)}for(f=0;f<this.$u0;f++)n.remove_$7L(this.$tz);Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(n)&&n.remove_$7v(this.$$d_$2uM);this.$u0=0}Microsoft.Crm.Client.Core.ViewModels.$4k.isInstanceOfType(this.$2o)&&this.$2o.remove_$1S6(this.$$d_$2vg);Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$2o)&&this.$2o.remove_$2CW(this.$$d_$33P);this.$Un=null;this.$m3=null;this.$1Lf=null;this.$1Le=null;this.$2o=null},$2uu:function(n,t){t==="ModelContext"?this.$2lB():this.$2lC(t)},$2lC:function(n){var i=null,r=this.$2o.get_ModelContext(),t,u,f;n in this.$Un&&(t=this.$Un[n],Microsoft.Crm.Client.Core.Models.$8A.isInstanceOfType(r)?(u=t.ModelName,($0.$8J(u)||Microsoft.Crm.Client.Core.Framework.$3.$9(u))&&(u=this.$2o.get_$1u()),Microsoft.Crm.Client.Core.Framework.$3.$9(u)?i=r:(f=r.$OZ(this.$2o.get_$1u()),i=$0.$0(f)?r.$OZ(t.ModelName):f.$OZ(t.ModelName))):i=r,$0.$0(i)||this.$3AN(i,t.ModelFieldName,n,t.Validator))},$2lB:function(){var i=this.$2o.get_ModelContext(),t=null,e=this.$Un,f,o,n,r,u;for(f in e)o={key:f,value:e[f]},n=o.value,Microsoft.Crm.Client.Core.Models.$8A.isInstanceOfType(i)?(r=n.ModelName,Microsoft.Crm.Client.Core.Framework.$3.$9(r)&&(r=this.$2o.get_$1u()),Microsoft.Crm.Client.Core.Framework.$3.$9(r)?t=i:(t=i.$OZ(n.ModelName),Microsoft.Crm.Client.Core.Models.$9m.isInstanceOfType(i)&&(u=this.$2o.get_$1u(),Microsoft.Crm.Client.Core.Framework.$3.$9(u)&&(u=r),this.$2KS(i,u,n)))):t=i,$0.$0(t)?Microsoft.Crm.Client.Core.Framework.$8.$1E("ReferenceProperty",1004,String.format("Missing model, view model: {0}, ModelFieldName: {1}",this.$2o.get_Name(),n.ModelFieldName)):(this.$2Hd(n,t),t.add_$7L(this.$tz),Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(t)&&t.add_$7v(this.$$d_$2uM),this.$u0++,this.$18o(n.Name,t,n.ModelFieldName,n.Validator),$0.$0(t.GetValue(n.ModelFieldName))?this.$2HW(t,n.ModelFieldName):this.$2HW(t,n.ModelFieldName,n.Validator))},$2uM:function(n){var r=this.$Un,t,u,i;for(t in r)u={key:t,value:r[t]},i=u.value,this.$2HW(n,i.ModelFieldName,i.Validator)},$2KS:function(n,t,i){var e=this,u=function(r,u){e.$2kc(n,t,i,u)},f,r;n.add_$26j(u);this.$1Lf[t]=u;f=this;r=function(r,u){f.$2kb(n,t,i,u)};n.add_$26i(r);this.$1Le[t]=r},$2kc:function(n,t,i,r){if(r===t){var f=n.$OZ(t),u;u=$0.$0(f)?n.$OZ(i.ModelName):f.$OZ(i.ModelName);$0.$0(u)||(u.remove_$7L(this.$tz),this.$u0--,Microsoft.Crm.Client.Core.Framework.$8.$1E("ReferenceProperty",1004,String.format("Unsubscribing NavigationPropertyChanging, view model: {0}, model: {1}",this.$2o.get_Name(),u.get_Id())))}},$2kb:function(n,t,i,r){if(r===t){var f=n.$OZ(t),u;u=$0.$0(f)?n.$OZ(i.ModelName):f.$OZ(i.ModelName);$0.$0(u)||(u.add_$7L(this.$tz),this.$u0++,this.$18o(i.Name,u,i.ModelFieldName,i.Validator),this.$2HW(u,i.ModelFieldName))}},$2uK:function(n,t){var e=n,u,r;if(t in this.$m3){u=this.$m3[t];for(var f=u,o=f.length,i=0;i<o;++i)r=f[i],this.$18o(r.Name,e,t,r.Validator)}},$3AN:function(n,t,i,r){try{this.$37I(n,t,i,r)}catch(u){Microsoft.Crm.Client.Core.Framework.$8.$1E("ReferenceProperty",1004,String.format("Error setting model field: {0} for property name: {1}, exception: {2}",i,t,u.toString()))}},$37I:function(n,t,i,r){var u=this.$2o["get_"+i](),e=n.GetValue(t),h=Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$2o)&&!$0.$0(r),c=!!($0.$0(u)^$0.$0(e)),o=c||!Microsoft.Crm.Client.Core.Framework.$2X.$Nk(u,e),f=new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!0,u,null),s;h&&(s=this.$2o,o&&(this.$2FA(r,n,t),f=r.$6W(u),u=f.$i7,s.set_$qu(f)));o&&(f.$57?(n.SetValue(t,u),this.$18o(i,n,t,r)):Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(n)?n.$l(t,u,null,null):Microsoft.Crm.Client.Core.Models.$6V.isInstanceOfType(n)?n.SetValue(t,u,null,null):Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(n)&&n.SetValue(t,u,null,null))},$2FA:function(n,t,i){if(Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(t)){var r=t;Microsoft.Crm.Client.Core.Models.Validation.$Cj.isInstanceOfType(n)?n.set_$2lQ(r.$2OY()&&(r.$2pL(i)||r.$1rG())):Microsoft.Crm.Client.Core.Models.Validation.$Cx.isInstanceOfType(n)&&n.set_$2lI(r.$1rG())}},$18o:function(n,t,i,r){Microsoft.Crm.Client.Core.Models.$6J.$1nM=!0;try{this.$37Z(n,t,i,r)}catch(u){Microsoft.Crm.Client.Core.Framework.$8.$1E("ReferenceProperty",1004,String.format("Error setting property name: {0} for model field: {1}, exception: {2}",n,i,u.toString()))}Microsoft.Crm.Client.Core.Models.$6J.$1nM=!1},$37Z:function(n,t,i,r){var e=t.GetValue(i),u,f;this.$2o["set_"+n](e);u=Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$2o)&&!$0.$0(r);u&&(f=this.$2o["get_"+n](),this.$2FA(r,t,i),this.$2o.set_$qu(r.$6W(f)))},$2HW:function(n,t,i){var r=n.GetValue(t),f=Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(this.$2o),e=Microsoft.Crm.Client.Core.ViewModels.$75.isInstanceOfType(this.$2o)&&this.$2o.get_Required(),u;f&&e&&(u=this.$2o.get_Enabled()?$0.$0(i)?!$0.$0(r)&&Microsoft.Crm.Client.Core.Framework.$9a.isInstanceOfType(r)?new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(r.get_$s()>0,null,""):new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!$0.$0(r)&&!Microsoft.Crm.Client.Core.Framework.$3.$12(r.toString()),null,""):i.$6W(r):$0.$0(i)||$0.$0(r)?new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!0,null,""):i.$6W(r),this.$2o.set_$qu(u))},$32V:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$1g,Object),r,u;return Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2o.get_Root())?(r=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$1HT(t,n,0).done(function(n){i.resolve(n)})):(u=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$1HT(t,n,2).done(function(n){i.resolve(n)})),i.promise()},$2Hd:function(n,t){var s=Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$2o.get_Root())?this.$2o.get_Root().get_$31Y():!0,i,o,r;if((n.Name==="Data"||n.Name==="Value")&&s)if(i=n.ModelFieldName,Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(t)){var u=t,f=u.$I,e=f.$27[i];if($0.$0(f.getValue(i))&&$0.$0(e)&&i.split(".").length===2)return;e===21?this.$1nF(n,t,i):(o=this.$32V(i.split("!")[0],u),r=this,o.done(function(u){$0.$0(r.$2o)||u.$Oi||r.$2o.set_Enabled(!1);r.$1nF(n,t,i)}))}else this.$1nF(n,t,i)},$1nF:function(n,t,i){if(!$0.$0(this.$2o)&&!this.$2o.get_$BV()&&Microsoft.Crm.Client.Core.Models.IFormModel.isInstanceOfType(t)){var r=t,f=!this.$2o.get_Enabled(),u=this;r.$2gZ(i,n.ValidatorType,Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2o.get_Root())).done(function(e){var h,c;if(!$0.$0(e)){if(n.Validator=e.$2QJ(),u.$2Tk(n,t,i),Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(u.$2o)&&u.$2o.set_$qu(n.Validator.$6W(t.GetValue(i),!0,f)),Microsoft.Crm.Client.Core.ViewModels.$4k.isInstanceOfType(u.$2o)&&r.$2gT(i).done(function(n){u.$2o.set_MaxLength(n)}),Microsoft.Crm.Client.Core.ViewModels.$75.isInstanceOfType(u.$2o)&&r.$2gV(i).done(function(r){var e=u.$2o;e.set_RequiredLevel(r);e.AddPropertyChangedListener("RequiredLevel",function(){(n.Validator.set_$tH(e.get_Required()),Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(t)&&t.$2h)||e.set_DataBindingValidatorResult(n.Validator.$6W(t.GetValue(i),!1,f))})}),Microsoft.Crm.Client.Core.ViewModels.$5o.isInstanceOfType(u.$2o)&&Microsoft.Crm.Client.Core.Models.Validation.$Cn.isInstanceOfType(n.Validator)){var l=r.$20b(i),a=r.$20c(i),v=r.$20d(i),o=u.$2o;o.set_$16G(l);o.set_$UC(a);o.set_$UF(v);o.apcl("Precision",function(){Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(r)&&r.$2h||(r.$382(i,o.get_$16G()),n.Validator.set_$2y3(r.$1c2(i)))});o.apcl("MaxValue",function(){Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(r)&&r.$2h||(r.$37z(i,o.get_$UC()),n.Validator.set_$UC(r.$2fo(i)))});o.apcl("MinValue",function(){Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(r)&&r.$2h||(r.$381(i,o.get_$UF()),n.Validator.set_$UF(r.$2fp(i)))})}if(Microsoft.Crm.Client.Core.ViewModels.$7x.isInstanceOfType(u.$2o)){var y=r.$12l(i),p=r.$216(i),w=r.$1HF(i),s=u.$2o;s.set_Format(y);s.set_MinDate(p);s.set_Behavior(w);s.AddPropertyChangedListener("Format",function(){Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(r)&&r.$2h||r.$37y(i,s.$A8)});s.AddPropertyChangedListener("MinDate",function(){Microsoft.Crm.Client.Core.Framework.$69.isInstanceOfType(r)&&r.$2h||(r.$380(i,s.$Ir),n.Validator.set_$2rn(r.$216(i)))})}else Microsoft.Crm.Client.Core.ViewModels.$E1.isInstanceOfType(u.$2o)&&Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(h=r.$1HF(i),c=u.$2o,c.set_Behavior(h))}})}},$2Tk:function(n,t,i){var r,u;Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.Framework.Utils.$19.isCreateFormOpenViaUrl()&&n.ValidatorType===8&&(r=t.GetValue(i),$0.$0(r)||(u=Microsoft.Crm.Client.Core.Framework.$h.$Lk(new Date(r.toString()),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$FS(),n.Validator.$oS,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9()),t.SetValue(i,u)))},$2vg:function(n,t){var r=!this.$2o.get_Enabled(),i;"Value"in this.$Un&&(i=this.$Un.Value,Microsoft.Crm.Client.Core.Models.Validation.$6b.isInstanceOfType(i.Validator)&&(n.set_DataBindingValidatorResult(i.Validator.$6W(t,!0,r)),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(n.$8W.$47?Microsoft.Crm.Client.Core.ViewModels.$10.$My(n.$8W.$47):Microsoft.Crm.Client.Core.ViewModels.$10.$My(""))))},$33P:function(){var e=!this.$2o.get_Enabled(),i=this.$Un,t,r,n,u,f;for(t in i)r={key:t,value:i[t]},n=r.value,Microsoft.Crm.Client.Core.Models.Validation.$6b.isInstanceOfType(n.Validator)&&(u=n.ModelFieldName,f=n.Validator.$6W(this.$2o.get_$1B().GetValue(u),!0,e),this.$2o.set_$qu(f))}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.LookupControlItem=function(n,t,i){this.entityType=n;$0.$0(t)||(this.id=String.format("{{{0}}}",t.toUpperCase()));this.name=i;$0.$0(n)||(this.type=Xrm.Internal.getEntityCode(n).toString())};Microsoft.Crm.Client.Core.ViewModels.$8C=function(){};Microsoft.Crm.Client.Core.ViewModels.$8C.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$8C");Microsoft.Crm.Client.Core.ViewModels.$KF=function(){};Microsoft.Crm.Client.Core.ViewModels.$KH=function(){};Microsoft.Crm.Client.Core.ViewModels.$KK=function(){};Microsoft.Crm.Client.Core.ViewModels.$KN=function(){};Microsoft.Crm.Client.Core.ViewModels.$88=function(){};Microsoft.Crm.Client.Core.ViewModels.$88.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$88");Microsoft.Crm.Client.Core.ViewModels.$63=function(n,t){this.$qR=n;this.$Cx=t};Microsoft.Crm.Client.Core.ViewModels.$KL=function(){};Microsoft.Crm.Client.Core.ViewModels.$EX=function(){};Microsoft.Crm.Client.Core.ViewModels.$EX.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$EX");Microsoft.Crm.Client.Core.ViewModels.$6Z=function(){};Microsoft.Crm.Client.Core.ViewModels.$6Z.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$6Z");Microsoft.Crm.Client.Core.ViewModels.$Ch=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ch.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ch");Microsoft.Crm.Client.Core.ViewModels.$EW=function(){};Microsoft.Crm.Client.Core.ViewModels.$EW.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$EW");Microsoft.Crm.Client.Core.ViewModels.$9c=function(){};Microsoft.Crm.Client.Core.ViewModels.$9c.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$9c");Microsoft.Crm.Client.Core.ViewModels.$86=function(){};Microsoft.Crm.Client.Core.ViewModels.$86.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$86");Microsoft.Crm.Client.Core.ViewModels.$Cr=function(){};Microsoft.Crm.Client.Core.ViewModels.$Cr.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Cr");Microsoft.Crm.Client.Core.ViewModels.$EY=function(){};Microsoft.Crm.Client.Core.ViewModels.$EY.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$EY");Microsoft.Crm.Client.Core.ViewModels.$3X=function(){};Microsoft.Crm.Client.Core.ViewModels.$3X.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$3X");Microsoft.Crm.Client.Core.ViewModels.$DA=function(){};Microsoft.Crm.Client.Core.ViewModels.$DA.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$DA");Microsoft.Crm.Client.Core.ViewModels.$DB=function(){};Microsoft.Crm.Client.Core.ViewModels.$DB.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$DB");Microsoft.Crm.Client.Core.ViewModels.$EV=function(){};Microsoft.Crm.Client.Core.ViewModels.$EV.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$EV");Microsoft.Crm.Client.Core.ViewModels.$4Q=function(){};Microsoft.Crm.Client.Core.ViewModels.$4Q.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$4Q");Microsoft.Crm.Client.Core.ViewModels.$9v=function(){};Microsoft.Crm.Client.Core.ViewModels.$9v.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$9v");Microsoft.Crm.Client.Core.ViewModels.$2v=function(){};Microsoft.Crm.Client.Core.ViewModels.$2v.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$2v");Microsoft.Crm.Client.Core.ViewModels.$4B=function(){};Microsoft.Crm.Client.Core.ViewModels.$4B.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$4B");Microsoft.Crm.Client.Core.ViewModels.$78=function(){};Microsoft.Crm.Client.Core.ViewModels.$78.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$78");Microsoft.Crm.Client.Core.ViewModels.$Eb=function(){};Microsoft.Crm.Client.Core.ViewModels.$Eb.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Eb");Microsoft.Crm.Client.Core.ViewModels.EntityFormMode=function(){};Microsoft.Crm.Client.Core.ViewModels.EntityFormMode.prototype={none:0,create:1,edit:2};Microsoft.Crm.Client.Core.ViewModels.EntityFormMode.registerEnum("Microsoft.Crm.Client.Core.ViewModels.EntityFormMode",!1);Microsoft.Crm.Client.Core.ViewModels.$9Y=function(){};Microsoft.Crm.Client.Core.ViewModels.$9Y.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$9Y");Microsoft.Crm.Client.Core.ViewModels.$Ea=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ea.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ea");Microsoft.Crm.Client.Core.ViewModels.$Ec=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ec.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ec");Microsoft.Crm.Client.Core.ViewModels.$9e=function(){};Microsoft.Crm.Client.Core.ViewModels.$9e.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$9e");Microsoft.Crm.Client.Core.ViewModels.$87=function(){};Microsoft.Crm.Client.Core.ViewModels.$87.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$87");Microsoft.Crm.Client.Core.ViewModels.$2u=function(){};Microsoft.Crm.Client.Core.ViewModels.$2u.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$2u");Microsoft.Crm.Client.Core.ViewModels.$77=function(){};Microsoft.Crm.Client.Core.ViewModels.$77.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$77");Microsoft.Crm.Client.Core.ViewModels.$EZ=function(){};Microsoft.Crm.Client.Core.ViewModels.$EZ.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$EZ");Microsoft.Crm.Client.Core.ViewModels.$5o=function(){};Microsoft.Crm.Client.Core.ViewModels.$5o.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$5o");Microsoft.Crm.Client.Core.ViewModels.$75=function(){};Microsoft.Crm.Client.Core.ViewModels.$75.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$75");Microsoft.Crm.Client.Core.ViewModels.$DG=function(){};Microsoft.Crm.Client.Core.ViewModels.$DG.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$DG");Microsoft.Crm.Client.Core.ViewModels.RelationshipType=function(){};Microsoft.Crm.Client.Core.ViewModels.RelationshipType.prototype={none:-1,oneToMany:0,manyToMany:1};Microsoft.Crm.Client.Core.ViewModels.RelationshipType.registerEnum("Microsoft.Crm.Client.Core.ViewModels.RelationshipType",!1);Microsoft.Crm.Client.Core.ViewModels.$Eu=function(){};Microsoft.Crm.Client.Core.ViewModels.$Eu.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Eu");Microsoft.Crm.Client.Core.ViewModels.$Ev=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ev.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ev");Microsoft.Crm.Client.Core.ViewModels.$Cs=function(){};Microsoft.Crm.Client.Core.ViewModels.$Cs.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Cs");Microsoft.Crm.Client.Core.ViewModels.$Et=function(){};Microsoft.Crm.Client.Core.ViewModels.$Et.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Et");Microsoft.Crm.Client.Core.ViewModels.$DE=function(){};Microsoft.Crm.Client.Core.ViewModels.$DE.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$DE");Microsoft.Crm.Client.Core.ViewModels.$F7=function(){};Microsoft.Crm.Client.Core.ViewModels.$F7.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$F7");Microsoft.Crm.Client.Core.ViewModels.$DC=function(){};Microsoft.Crm.Client.Core.ViewModels.$DC.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$DC");Microsoft.Crm.Client.Core.ViewModels.$I=function(n,t){this.$5j=n;this.$M=t};Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$I.$j7[n]=t};Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$I.$j7[n]=t};Microsoft.Crm.Client.Core.ViewModels.$I.prototype={$5j:null,$M:null,$56:function(){var n=null;return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$I.$j7[this.$M.QueryType])?Microsoft.Crm.Client.Core.Framework.$8.$1E("ActionProvider",1004,"No method registered to create an action for QueryType: "+this.$M.QueryType):n=Microsoft.Crm.Client.Core.ViewModels.$I.$j7[this.$M.QueryType](this.$5j,this.$M),n},$B1:function(n){var t=null;return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$I.$j7[this.$M.QueryType])?Microsoft.Crm.Client.Core.Framework.$8.$1E("ActionProvider",1004,"No method registered to create an action for QueryType: "+this.$M.QueryType):t=Microsoft.Crm.Client.Core.ViewModels.$I.$j7[this.$M.QueryType](this.$5j,n),t},$12y:function(){return this.$56()}};Microsoft.Crm.Client.Core.ViewModels.$RA=function(){this.$$d_$1R=Function.createDelegate(this,this.$1R);this.$4y=Microsoft.Crm.Client.Core.Framework.$1J.$1Iu;Microsoft.Crm.Client.Core.ViewModels.$RA.initializeBase(this);var n=this.$V4+":"+this.$px.substr(this.$px.lastIndexOf(".")+1);Microsoft.Crm.Client.Core.Framework.$9j.isInstanceOfType(this)||(this.$wz=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("Action:Submitted:"+n));this.$Qa=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("Action:Executing:"+n)};Microsoft.Crm.Client.Core.ViewModels.$RA.prototype={$1b_3:null,$A_3:null,$wz:null,$Qa:null,$RS:null,get_$Y:function(){if($0.$0(this.$A_3))return null;var n=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$A_3.get_Name())?this.$A_3.get_$1u():this.$A_3.get_Name(),t=this.$2Wu();return Microsoft.Crm.Client.Core.Framework.$8V.$4t(this.$A_3.get_Id(),n,this.get_$KL(),t,this.$L)},get_$KL:function(){return $0.$0(this.$4y)&&(this.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$jx),this.$4y},get_$1d:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$1d()},$28e:function(){Microsoft.Crm.Client.Core.Framework.$3Z.prototype.$28e.call(this);this.$23k(1)},$23k:function(n){switch(n){case 1:this.$wz&&this.$wz.start();break;case 2:this.$wz&&this.$wz.stop();this.$Qa&&this.$Qa.start();break;case 3:case 4:this.$Qa&&this.$Qa.stop()}},$23n:function(n){var t=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(i){try{t.$RS=i;Microsoft.Crm.Client.Core.Framework.$3Z.prototype.$23n.call(t,n)}catch(r){if($0.$0(t.$A_3)||!t.$A_3.get_$BV())throw r;}},this.get_$KL(),"Execute action "+this.$V4)},$1H:function(n,t,i,r){this.$1Xn(n,Microsoft.Crm.Client.Core.Framework.$7,t,i,r)},$1Xn:function(n,t,i,r,u){var f=i.isResolved()||i.isRejected();Microsoft.Crm.Client.Core.Framework.Utils.$A.$1RK(this.$RS.get_$25D().get_$AT(),!0,"Cannot continue executing action when scheduler job is completed.");var e=MscrmComponents.DeferredPromiseFactory(Function,Microsoft.Crm.Client.Core.Framework.$7),o=this,s=this;i.then(function(n){if(f)r&&r(n);else{var t=function(t){o.$Qa.start();o.$RS=t;r&&r(n)};e.resolve(t)}},function(n){if(f)u&&u(n);else{var t=function(t){s.$Qa.start();s.$RS=t;u&&u(n)};e.resolve(t)}});f||(this.$Qa.stop(),this.$RS.$37U(e.promise()))},$9H:function(n,t,i){var r=this;this.$1Xn(Array,Object,n,t,function(n){i(n)})},$El:function(n,t){this.$Qa.stop();var i=this,r=function(t){i.$Qa.start();i.$RS=t;n(t)};this.$RS.get_$tN()?(this.$RS.get_$25D().set_$J3(t),this.$RS.$2FB(r)):Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(r,t,"Execute action "+this.$V4)},$14:function(){this.$65(null)},$1R:function(n){var t=Error.create(String.format("DynamicsAction has failed. Error message: \n\n {0}",n.$F));$0.$0(this.$1b_3)?$0.$0(this.$A_3)||this.$A_3.get_$BV()||(this.$A_3.$MZ(n),Microsoft.Crm.Client.Core.Framework.Trace.logError(1,t.message)):this.$1b_3(n);this.$65(t)},$2Wu:function(){var n;if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$A_3))n=this.$A_3;else{if($0.$0(this.$A_3.get_Root()))return null;n=this.$A_3.get_Root()}return $0.$0(n.$4H)?null:n.$4H}};Microsoft.Crm.Client.Core.ViewModels.$Rn=function(){Microsoft.Crm.Client.Core.ViewModels.$Rn.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$KI=function(){};Microsoft.Crm.Client.Core.ViewModels.$KI.prototype={Id:null,EnableRules:null,DisplayRules:null,Actions:null};Microsoft.Crm.Client.Core.ViewModels.$KG=function(){};Microsoft.Crm.Client.Core.ViewModels.$KG.prototype={RuleType:0,DefaultValue:!0,InvertResult:!1};Microsoft.Crm.Client.Core.ViewModels.$Oe=function(){Microsoft.Crm.Client.Core.ViewModels.$Oe.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Oe.prototype={OrGroups:null};Microsoft.Crm.Client.Core.ViewModels.$Of=function(){Microsoft.Crm.Client.Core.ViewModels.$Of.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Of.prototype={AppliesTo:0,EntityLogicalName:null,EntityContextName:null};Microsoft.Crm.Client.Core.ViewModels.$Og=function(){Microsoft.Crm.Client.Core.ViewModels.$Og.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Og.prototype={AppliesTo:0,EntityLogicalName:null,PropertyName:0,PropertyValue:!1};Microsoft.Crm.Client.Core.ViewModels.$P4=function(){Microsoft.Crm.Client.Core.ViewModels.$P4.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P4.prototype={EntityLogicalName:null};Microsoft.Crm.Client.Core.ViewModels.$P5=function(){Microsoft.Crm.Client.Core.ViewModels.$P5.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P5.prototype={AppliesTo:0,EntityLogicalName:null,PrivilegeType:0,PrivilegeDepth:0};Microsoft.Crm.Client.Core.ViewModels.$P6=function(){Microsoft.Crm.Client.Core.ViewModels.$P6.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P6.prototype={PrivilegeName:null,PrivilegeId:null,PrivilegeDepth:0};Microsoft.Crm.Client.Core.ViewModels.$P3=function(){Microsoft.Crm.Client.Core.ViewModels.$P3.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P3.prototype={FormState:0};Microsoft.Crm.Client.Core.ViewModels.$P0=function(){Microsoft.Crm.Client.Core.ViewModels.$P0.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P0.prototype={FormType:0};Microsoft.Crm.Client.Core.ViewModels.$P1=function(){Microsoft.Crm.Client.Core.ViewModels.$P1.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P1.prototype={Setting:0};Microsoft.Crm.Client.Core.ViewModels.$P2=function(){Microsoft.Crm.Client.Core.ViewModels.$P2.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P2.prototype={Field:null,Value:null};Microsoft.Crm.Client.Core.ViewModels.$P7=function(){Microsoft.Crm.Client.Core.ViewModels.$P7.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P7.prototype={ClientType:0};Microsoft.Crm.Client.Core.ViewModels.$PB=function(){Microsoft.Crm.Client.Core.ViewModels.$PB.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$PB.prototype={ClientType:0};Microsoft.Crm.Client.Core.ViewModels.$PC=function(){Microsoft.Crm.Client.Core.ViewModels.$PC.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$PC.prototype={Type:0};Microsoft.Crm.Client.Core.ViewModels.$PD=function(){Microsoft.Crm.Client.Core.ViewModels.$PD.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$PD.prototype={OutlookClientType:0};Microsoft.Crm.Client.Core.ViewModels.$PA=function(){Microsoft.Crm.Client.Core.ViewModels.$PA.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$PA.prototype={OfflineAccessState:0};Microsoft.Crm.Client.Core.ViewModels.$P8=function(){Microsoft.Crm.Client.Core.ViewModels.$P8.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P8.prototype={RenderType:0};Microsoft.Crm.Client.Core.ViewModels.$P9=function(){Microsoft.Crm.Client.Core.ViewModels.$P9.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$P9.prototype={AppliesTo:0,RelationshipType:0,AllowCustomRelationship:!1,AllowSystemRelationship:!1};Microsoft.Crm.Client.Core.ViewModels.$Os=function(){Microsoft.Crm.Client.Core.ViewModels.$Os.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Os.prototype={SkuTypes:0};Microsoft.Crm.Client.Core.ViewModels.$Ot=function(){Microsoft.Crm.Client.Core.ViewModels.$Ot.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ot.prototype={AppliesTo:0,Minimum:0,Maximum:0};Microsoft.Crm.Client.Core.ViewModels.$Ou=function(){Microsoft.Crm.Client.Core.ViewModels.$Ou.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ou.prototype={Parameters:null,FunctionName:null,Library:null};Microsoft.Crm.Client.Core.ViewModels.$Or=function(){Microsoft.Crm.Client.Core.ViewModels.$Or.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Or.prototype={Address:null};Microsoft.Crm.Client.Core.ViewModels.$Oo=function(){Microsoft.Crm.Client.Core.ViewModels.$Oo.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Oo.prototype={OptionSetName:null,ObjectTypeCode:0,StateCode:0};Microsoft.Crm.Client.Core.ViewModels.$Op=function(){Microsoft.Crm.Client.Core.ViewModels.$Op.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Op.prototype={FeatureControlBit:null,ExpectedValue:!1};Microsoft.Crm.Client.Core.ViewModels.$KM=function(){};Microsoft.Crm.Client.Core.ViewModels.$Oq=function(){Microsoft.Crm.Client.Core.ViewModels.$Oq.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Oq.prototype={Address:null,WinMode:0,WinParameters:null,PassParameters:!1};Microsoft.Crm.Client.Core.ViewModels.$OD=function(){Microsoft.Crm.Client.Core.ViewModels.$OD.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$OD.prototype={FunctionName:null,Library:null};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel=function(){this.$$d_$2vL=Function.createDelegate(this,this.$2vL);this.$Cz=-1;this.$1fs=-1;Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.initializeBase(this);this.$11=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel))};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("PivotContainer",Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1Uz);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("SectionContainer",Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1Uz);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("PanoramaContainer",Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1Uz)};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled=function(){return Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$r1&&!Array.contains(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1uQ,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33().$g)};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.set_DelayedPaneRenderingEnabled=function(n){return Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$r1=n,n};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1Uz=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel,t={};return t.Arg1="ActiveItemName",n.set_ActiveItemChangedCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("ActiveItemChangedCommand","ActiveItemChanged",null,t))),n};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.prototype={$11:null,$dc:null,$1eD:!0,$1OK:null,$mY:null,get_Items:function(){return this.$11},get_Panes:function(){return this.$mY||(this.$mY=this.$38u()),this.$mY},get_VisiblePanesCount:function(){return this.get_Panes().get_Count()},$CK:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$CK.call(this,n,t),Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(t)){var i=t;this.$11.$3w(i);i.$4u&&(this.$16e(),this.$7("VisibleChildrenCount"))}else Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1029,"Child of type other than PanoramaItemViewModel encountered.")},$1Bd:null,get_ActiveItemName:function(){return this.$1Bd},set_ActiveItemName:function(n){return this.$1Bd!==n&&(this.$1Bd=n,this.$7("ActiveItemName"),this.$1a&&!$0.$0(this.$dc)&&this.$dc.execute()),n},get_ActiveItemChangedCommand:function(){return this.$dc},set_ActiveItemChangedCommand:function(n){return $0.$0(this.$dc)||(this.$dc.dispose(),this.$dc=null),this.$dc=n,n},get_CurrentPaneIndex:function(){return this.$Cz},set_CurrentPaneIndex:function(n){if(this.$Cz!==n&&(this.$Cz=n,this.$7("CurrentPaneIndex"),Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()))if(this.$1eD)this.$1eD=!1,this.$1Ky(!0);else{window.clearTimeout(this.$1fs);var t=this,i=function(){t.$1Ky(!1)};this.$1fs=window.setTimeout(i,500)}return n},add_OnRootViewActivated:function(n){this.$1p("OnRootViewActivated",n)},remove_OnRootViewActivated:function(n){this.$32("OnRootViewActivated",n)},add_OnRootViewDeactivated:function(n){this.$1p("OnRootViewDeactivated",n)},remove_OnRootViewDeactivated:function(n){this.$32("OnRootViewDeactivated",n)},add_OnPaneIndexProgrammaticallyUpdated:function(n){this.$1p("OnPaneIndexProgrammaticallyUpdated",n)},remove_OnPaneIndexProgrammaticallyUpdated:function(n){this.$32("OnPaneIndexProgrammaticallyUpdated",n)},updatePaneIndex:function(n,t){for(var i=this.$Cz,r=0;r<Math.abs(n);r++)i=n>0?this.nextVisibleIndex(i):this.previousVisibleIndex(i);this.set_CurrentPaneIndex(i);t&&this.$9j("OnPaneIndexProgrammaticallyUpdated")},$EP:function(n,t){this.$xQ(!0);this.$9j("OnRootViewActivated");Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)},$uN:function(n,t){this.$9j("OnRootViewDeactivated");Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$uN.call(this,n,t)},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().apcl("IsStackingEnabled",this.$$d_$2vL)},$Oh:function(){this.set_ActiveItemChangedCommand(null);this.$11=null;Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().rpcl("IsStackingEnabled",this.$$d_$2vL);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$27O:function(n,t){var i,r,u;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$27O.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()||Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.PaneScrollIndicatorEnabled?(i=new Array(0),this.$Cz>=0&&this.$Cz<this.get_VisiblePanesCount()&&(i=this.get_Panes().get_$R(this.$Cz)),this.$16e(),Array.contains(i,t)&&!n?i.length===1&&(r=this.previousVisibleIndex(this.$Cz),r!==-1?this.set_CurrentPaneIndex(r):Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()&&this.$1Ky(!0),this.$9j("OnPaneIndexProgrammaticallyUpdated")):n&&Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&this.$2.$g===31?(u=this.$1cQ(t),(this.$Cz===-1||this.$Cz>u)&&this.set_CurrentPaneIndex(u)):this.$Cz===-1&&n?(this.set_CurrentPaneIndex(this.$1cQ(t)),this.$9j("OnPaneIndexProgrammaticallyUpdated")):Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()&&this.$1Ky(!1)):this.$16e();this.$9j("OnVisibleChildrenCountChanged")},$1Ky:function(n){var t=this;this.$1fp(this.$Cz).always(function(){t.$xQ(n).always(function(){t.$2qY().always(function(){t.$2qa()})})})},$2qY:function(){var n=this.nextVisibleIndex(this.$Cz);return this.$1fp(n)},$16e:function(){this.$mY&&(this.$mY.clear(),this.$mY=null,this.$7("VisiblePanesCount"))},$1cF:function(n){for(var i=this.get_Panes().get_$R(n),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel)),t=0;t<i.length;t++)r.add(this.$11.get_$R(i[t]));return r.toArray()},$2NO:function(n){var i,t;if($0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().get_$lW()||n===-1||!n)return n;for(i=0,t=0;t<n;t++)i+=this.$1cF(t).length;return i},$2qa:function(){var n=this.previousVisibleIndex(this.$Cz);return this.$1fp(n)},$1fp:function(n){var i,r,t,u;if(n===-1)return MscrmComponents.DeferredPromiseFactory(Object,Object).resolve().promise();for(i=this.$1cF(n),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Imported.IDeferred$2.$$(Boolean,Object))),t=0;t<i.length;t++)u=i[t],r.$3w(u.$1fe());return Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(r)},$xQ:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i,r,u;return this.$2.$Sg?(i=[],n&&Array.add(i,this.$2.$2At()),this.$Cz>=0&&(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().get_$lW()&&this.$1cF(this.$Cz).length>1?(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$1X8(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.set_IsLoading(!1)):(r=this.$2NO(this.$Cz),Array.add(i,this.$11.get_$R(r).$xQ()))),u=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).always(function(){t.resolve(!0)}),t.promise()):(t.resolve(!0),t.promise())},get_ReorderedPanesNames:function(){return this.$1OK},set_ReorderedPanesNames:function(n){return this.$1OK!==n&&(this.$1OK=n,this.$7("ReorderedPanesNames")),n},nextVisibleIndex:function(n){var t=n+1;return t>=this.get_VisiblePanesCount()?-1:t},previousVisibleIndex:function(n){var t=n-1;return t<0?-1:t},$1cQ:function(n){for(var i,t=0;t<this.get_VisiblePanesCount();t++)if(i=this.get_Panes().get_$R(t),Array.contains(i,n))return t;return-1},$38u:function(){for(var f,i,n,r,t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number)),u=0;u<this.$11.get_Count();u++)this.$11.get_$R(u).$4u&&t.add(u);for(f=!1,Microsoft.Crm.Client.Core.Framework.$6.get_$1KK()?f=!0:$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())||(f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().get_$lW()),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Array)),n=0;n<t.get_Count();){if(r=t.get_$R(n),n+1>=t.get_Count()){i.add([r]);break}var e=this.$11.get_$R(r),o=t.get_$R(n+1),s=this.$11.get_$R(o);f&&e.$ol&&s.$ol&&e.$zB===s.$zB?(i.add([r,o]),n+=2):(i.add([r]),n++)}return i},$2vL:function(){var n,t,i;this.$Cz===-1?this.$16e():(n=this.get_Panes().get_$R(this.$Cz),t=n[0],this.$16e(),i=this.$1cQ(t),this.set_CurrentPaneIndex(i))}};Microsoft.Crm.Client.Core.ViewModels.$5w=function(){};Microsoft.Crm.Client.Core.ViewModels.$5w.$1J8=function(n){var t,i,r,u;return Microsoft.Crm.Client.Core.Framework.$3.$12(n)?!1:(t=n.lastIndexOf("."),t<=0||t===n.length-1)?!1:(i=n.substr(t+1),$0.$1Y(i))?!1:(r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$2MM().toLowerCase(),u=r.split(";"),Array.contains(u,i.toLowerCase()))};Microsoft.Crm.Client.Core.ViewModels.$4Z=function(){this.$$d_$MZ=Function.createDelegate(this,this.$MZ);this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;Microsoft.Crm.Client.Core.ViewModels.$4Z.resolveInheritance();this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$4Z.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype={$L:null,$1P:null,$D:null,$1a:!1,$18:null,$2:null,$2i:null,$MI_3:!1,get_Name:function(){return this.$L},set_Name:function(n){return n!==this.$L&&(this.$L=n,this.$7("Name")),n},get_$2m:function(){return this.$1P},set_$2m:function(n){return $0.$0(n)||(this.$1P=n),n},get_IsSelected:function(){return this.$MI_3},set_IsSelected:function(n){return this.$MI_3!==n&&(this.$MI_3=n,this.$MI_3?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Kz(this):Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$30y(this),this.$7("IsSelected")),n},get_ModelContext:function(){return this.$18},set_ModelContext:function(n){return this.$2oX(n)&&(this.$18=n,this.$7("ModelContext"),this.$Hd()),n},get_PrimaryModelName:function(){return this.$D},set_PrimaryModelName:function(n){return this.$D!==n&&(this.$D=n,this.$7("PrimaryModelName")),n},get_$2m9:function(){return this.$1a},get_$1B:function(){return this.$2hV(this.$D)},get_$AH:function(){return this.$2i},set_$AH:function(n){return this.$2i=n,n},get_$GO:function(){return this.$2},set_$GO:function(n){if(this.$2!==n){var t=this.$2;this.$2=n;this.$7("Root");this.$2v4(this.$2,t)}return n},$2Z:function(){this.$1a=!0},$2hV:function(n){var t=null;return $0.$0(this.get_ModelContext())||(t=Microsoft.Crm.Client.Core.Models.$8A.isInstanceOfType(this.get_ModelContext())?this.get_ModelContext().$OZ(n):this.get_ModelContext()),t},$Rr:function(){},$2P1:function(){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(this.$MI_3=!1)},$rT:function(){},$Hd:function(){},$2v4:function(){},$n:function(n){return Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(n))},$MZ:function(n){Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(n)},$Oh:function(){this.$2i&&Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(this.$2i)&&this.$2i.$16q(this);var n=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$6D);n.$2BM(this);this.$18=null;Microsoft.Crm.Client.Core.Framework.$AJ.prototype.$Oh.call(this)},$2oX:function(n){if(Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)&&!Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this)){var t=this.$L.split(":");if(t.length===2)return!0}return this.$18!==n}};Microsoft.Crm.Client.Core.ViewModels.$Rz=function(){this.$1md=Microsoft.Crm.Client.Core.Framework.$6.get_$f()?5:10;Microsoft.Crm.Client.Core.ViewModels.$Rz.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Rz.prototype={$1sN:null,set_$T1:function(n){return this.$1sN=n,n},$vT:function(n){this.$9n("BeforePopRootViewModel",n);Microsoft.Crm.Client.Core.ViewModels.$RQ.prototype.$vT.call(this,n);var t=this.get_ActiveNavigationStack().get_Count()-this.$1md;t>0&&(this.$16m(0,t),this.get_ActiveNavigationStack().$16s(0,t))},$vL:function(){this.popMany(1)},popMany:function(n){if(n<=0)throw Error.argumentOutOfRange("numberOfItems",n,"Cannot pass 0 or negative to the PopMany method.");this.$16m(this.get_ActiveNavigationStack().get_Count()-n,n);Microsoft.Crm.Client.Core.ViewModels.$RQ.prototype.popMany.call(this,n)},$16m:function(n,t){var r=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43),u=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$6D),i,f;if(r||u)for(i=n;i<n+t;i++)f=this.get_ActiveNavigationStack().get_$R(i),this.$2PI(u,r,f)},$2PI:function(n,t,i){var r,u;$0.$0(i)||(r=i.get_ViewModelId(),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$sw?this.$1ut(n,t,r):(u=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){u.$1ut(n,t,r)},-13,"CanvasConductor.RemoveViewModel")))},$1ut:function(n,t,i){var f=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CanvasConductorViewModel.RemoveViewModel"),r,u;if(f.start(),r=n.$2BN(i),r)for(u=0;u<r.get_Count();u++)t.$1XL(r.get_$R(u));f.stop()}};Microsoft.Crm.Client.Core.ViewModels.CommandFactory=function(){};Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary=null};Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C=function(n,t){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary||(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary={});Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary[n]=t};Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n=function(n,t){var i=null;return t.ValueTypeName in Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary&&(i=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary[t.ValueTypeName](n,t)),i};Microsoft.Crm.Client.Core.ViewModels.$6o=function(){this.$$d_$28C=Function.createDelegate(this,this.$28C);this.$sY=new Microsoft.Crm.Client.Core.Framework.$AL;this.$IN=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$24));this.$v4={};this.$e7={};this.$PB=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.$Bo));this.$Lj=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.$Bo));this.$Mf=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.$Bo));this.$Oc=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.$Bo));Microsoft.Crm.Client.Core.ViewModels.$6o.initializeBase(this);this.$bG=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));this.$Y4=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));this.$1E8=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$1P1=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.ViewModels.$8C);this.$z2=!0};Microsoft.Crm.Client.Core.ViewModels.$6o.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("CommandManagerViewModel",Microsoft.Crm.Client.Core.ViewModels.$6o.$2PO)};Microsoft.Crm.Client.Core.ViewModels.$6o.$31w=function(n){return Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)?"CommandButton":Microsoft.Crm.Client.Core.ViewModels.$8m.isInstanceOfType(n)?"AppBarGroup":Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(n)?"MenuButton":Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel.isInstanceOfType(n)?"NavBarSubArea":Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel.isInstanceOfType(n)?"NavBarGroup":"Control"};Microsoft.Crm.Client.Core.ViewModels.$6o.$2PO=function(){return new Microsoft.Crm.Client.Core.ViewModels.$6o};Microsoft.Crm.Client.Core.ViewModels.$6o.prototype={$1QM:!0,$1u2:null,$bG:null,$Y4:null,$1P1:null,$1E8:null,$1Di:!1,$F1:!0,$e8:"",$sZ:"",$E3:null,$1k:!0,$1LI:0,$15u:null,add_AfterRuleEvaluationEvent:function(n){this.$1p("AfterRuleEvaluation",n)},remove_AfterRuleEvaluationEvent:function(n){this.$32("AfterRuleEvaluation",n)},get_IsEnabled:function(){return this.$F1},set_IsEnabled:function(n){return this.$F1=n,n},get_ContextualContextId:function(){return this.$e8},set_ContextualContextId:function(n){return this.$e8!==n&&(this.$e8=n),n},get_GlobalContextId:function(){return this.$sZ},set_GlobalContextId:function(n){return this.$sZ!==n&&(this.$sZ=n),n},get_IsMergedContext:function(){if(!Microsoft.Crm.Client.Core.Framework.$6.get_$3A())return!1;if(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())&&!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5B)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5B.get_Count()>0){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$e8)){var n=this.$e8.split(":");if(n[0]==="proxyprocesscontrol")return!0}return!1}return!0},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return n!==this.$1k&&(this.$1k=n,this.$7("IsLoading")),n},get_MaximumVisibleButtonsCount:function(){return this.$1LI},set_MaximumVisibleButtonsCount:function(n){return n!==this.$1LI&&(this.$1LI=n),n},get_PageSectionTitle:function(){return this.$15u},set_PageSectionTitle:function(n){return this.$15u=n,n},get_SelectedRowCount:function(){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$E3))return this.$E3.$Kp;if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$E3)){var n=this.$1FZ();if(!$0.$0(n))return n.$Kp}return-1},get_AreAllRowsSelected:function(){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$E3))return this.$E3.$QC;if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$E3)){var n=this.$1FZ();if(!$0.$0(n))return n.$QC}return!1},get_IsMultiSelectEvent:function(){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$E3))return this.$E3.$R6;if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$E3)){var n=this.$1FZ();if(!$0.$0(n))return n.$R6}return!1},$z2:!1,add_ExpandEvent:function(n){this.$1p("Expand",n)},remove_ExpandEvent:function(n){this.$32("Expand",n)},add_CollapseEvent:function(n){this.$1p("Collapse",n)},remove_CollapseEvent:function(n){this.$32("Collapse",n)},get_ShowGlobalAndPageCommands:function(){return this.$1QM},set_ShowGlobalAndPageCommands:function(n){return this.$1QM!==n&&(this.$1QM=n,this.$7("ShowGlobalAndPageCommands")),n},expand:function(){var n=this.$4d("Expand");$0.$0(n)||n()},collapse:function(){var n=this.$4d("Collapse");$0.$0(n)||n()},commandExecute:function(n){n&&this.$IN.get_$R(n)&&this.$IN.get_$R(n).$1g.get_CanExecute()&&this.$IN.get_$R(n).$1g.execute()},mergePageAndGlobalSections:function(){var n,t,i;if(this.$Oc.get_Count()>0&&this.$Mf.get_Count()>0){n=this.$Oc.get_$R(0).$H;for(t in n)i={key:t,value:n[t]},this.$Mf.get_$R(0).$CK(i.key,i.value)}},forceRuleEvaluation:function(){this.$2Xj();var n=this.$4d("AfterRuleEvaluation");$0.$0(n)||n(this,null)},$2Xj:function(){for(var t,i,r,n=0;n<this.$Lj.get_Count();n++)Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(this.$Lj.get_$R(n))&&!this.$Lj.get_$R(n).$2h&&this.$Lj.get_$R(n).$rT(!1);for(t=0;t<this.$Mf.get_Count();t++)Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(this.$Mf.get_$R(t))&&!this.$Mf.get_$R(t).$2h&&this.$Mf.get_$R(t).$rT(!1);for(i=0;i<this.$Oc.get_Count();i++)Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(this.$Oc.get_$R(i))&&!this.$Oc.get_$R(i).$2h&&this.$Oc.get_$R(i).$rT(!1);for(r=0;r<this.$PB.get_Count();r++)Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(this.$PB.get_$R(r))&&!this.$PB.get_$R(r).$2h&&this.$PB.get_$R(r).$rT(!1)},get_PaneContextualSections:function(){return this.$PB},get_ContextualSections:function(){return this.$Lj},get_PageSections:function(){return this.$Mf},get_GlobalSections:function(){return this.$Oc},$28C:function(n){n.get_$HY()!==2&&n.get_$HY()!==4&&this.clearCommandSets()},$hK:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),f,r,u,e;return Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(t)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Je()?(i.resolve(!1),i.promise()):(f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),this.$E3!==t&&this.$sZ===n&&this.clearCommandSets(),this.set_GlobalContextId(n),this.$E3=t,r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet",this.$sZ),u=this,r.OnSuccess=function(r){Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){if(f===Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33()&&u.$E3===t){u.$2Jp(r);u.forceRuleEvaluation();var e=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedGlobalCommands",1);$0.$0(e)||($0.$0(t)||$0.$0(t.get_Root())||e.addParameter(t.get_Root().get_ViewModelId()),e.addParameter(n));i.resolve(!0)}},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1XV,"CommandManagerViewModel.RegisterGlobalContext.OnSuccess")},e=this,r.OnFailure=function(n){i.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",t,r),i.promise())},registerContextualContexts:function(n){var i,t;this.$e7={};this.$1Di=!0;this.$eW(this.$Lj);i=[];for(var u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().getSelectedViewModels(),f=u.length,r=0;r<f;++r)t=u[r],!Microsoft.Crm.Client.Core.ViewModels.$9c.isInstanceOfType(t)||t.get_ViewModelId()in this.$e7||$0.$0(t.get_$qQ())?this.$1E8.add(t.get_ViewModelId()):(this.set_ContextualContextId(t.get_$qQ()),Array.add(i,this.$vj(this.$e8,t)));this.$1Di=!1;n&&Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).always(n)},$vj:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),r,u;return this.set_ContextualContextId(n),this.get_IsMergedContext()?(this.$v4={},t.get_ViewModelId()in this.$v4||(r=this,this.$2q4(n,t).always(function(){i.resolve(!0)}))):(this.$1Di||(this.$e7={}),t.get_ViewModelId()in this.$e7||(u=this,this.$2q4(this.$e8,t).always(function(){i.resolve(!0)}),this.$1E8.add(t.get_ViewModelId()))),i.promise()},$2q4:function(n,t,i){var u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),o=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),r=!IsNull(i),f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet",n),e=this,s;return f.OnSuccess=function(f){var h,s,c;o===Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33()&&(r&&!IsNull(f)&&(f.$qR=t),h=null,s=null,r&&!IsNull(f)&&(h=new Array(0),s=new Array(0)),r&&!IsNull(f)&&(h=new Array(0),s=new Array(0)),e.$2Jq(f,s,h),e.forceRuleEvaluation(),r&&!IsNull(f)?Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(s).always(function(){for(var t=s.length,n=0;n<t;n++)s.pop();s=null;i.resolve(h)}):r&&IsNull(f)?i.reject():(c=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedContextualCommands",1),$0.$0(c)||($0.$0(t)||$0.$0(t.get_Root())||c.addParameter(t.get_Root().get_ViewModelId()),c.addParameter(n))));u.resolve(!0)},s=this,f.OnFailure=function(n){r&&i.reject(n);u.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",t,f),u.promise()},$qH:function(){this.$eW(this.$Lj);this.set_IsLoading(!0)},$1X8:function(){this.$eW(this.$PB);this.set_IsLoading(!0)},$2Oz:function(){this.$eW(this.$Mf);this.set_IsLoading(!0)},clearCommandSets:function(){if(this.$sY.$86(),this.$e7={},this.$v4={},this.$eW(this.$Lj),this.$eW(this.$Mf),this.$eW(this.$Oc),this.$eW(this.$PB),this.$bG.$86(),this.$Y4.$86(),this.$IN.$86(),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$E3))this.$E3.$Kp=0,this.$E3.$QC=!1;else if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$E3)){var n=this.$1FZ();$0.$0(n)||(n.$Kp=0,n.$QC=!1)}this.set_IsLoading(!0)},closeAllFlyOuts:function(){for(var t,f,i,e,r,o,n=0,u=this.$Oc.get_Count();n<u;n++)this.$Oc.get_$R(n).CloseAllFlyOuts();for(t=0,f=this.$Mf.get_Count();t<f;t++)this.$Mf.get_$R(t).CloseAllFlyOuts();for(i=0,e=this.$Lj.get_Count();i<e;i++)this.$Lj.get_$R(i).CloseAllFlyOuts();for(r=0,o=this.$PB.get_Count();r<o;r++)this.$PB.get_$R(r).CloseAllFlyOuts()},$1FN:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),o=this.$e7,u,s,f,e,h,r,c;for(u in o)if(s={key:u,value:o[u]},this.$1FO(n,t,i,s.value,this.$bG,this.$Y4))return i.promise();f=this.$v4;for(e in f)if(h={key:e,value:f[e]},this.$1FO(n,t,i,h.value,this.$bG,this.$Y4))return i.promise();for(r=0;r<this.$sY.get_Count();r++)if(c=this.$sY.get_$R(r),this.$1FO(n,t,i,c,this.$bG,this.$Y4))return i.promise();return i.promise()},$1FO:function(n,t,i,r,u,f){var e,s,c,h,l,o,a,v,y;return $0.$0(r)?!1:(e=r.$Cx.Commands,s=r.$qR,$0.$0(e))?!1:(e=e[n],!$0.$0(e)&&t in e)?(c=e[t].EnableRules,h=e[t].DisplayRules,Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluating command with id [{0}]",t),l=this,o=c.map(function(t){return l.$1P1.$1FM(u.get_$R(n).get_$R(t),s)}),$0.$0(h)||(a=this,o=o.concat.apply(o,h.map(function(t){return a.$1P1.$1FM(f.get_$R(n).get_$R(t),s)}))),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluated [{1}] rules for command [{0}]",t,o.length),v=this,y=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(o).then(function(n){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Evaluated [{1}] rules for command [{0}]",t,n.length);var r=n.reduce(function(n,t){return!!(n&t)},!0);Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Evaluation of {2} rules for command [{0}] succeeded with result: {1}")',t,r,n.length);i.resolve(r)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Evaluation of rules for command [{0}] failed with message: {1}")',t,n.$F);i.reject(n)}),!0):!1},$25Z:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet",n),f=this,u;return r.OnSuccess=function(n){i.resolve(n)},u=this,r.OnFailure=function(n){i.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",t,r),i.promise()},$21r:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),u=this;return this.$25Z(n,t).done(function(n){var u=n.$Cx;r.resolve(u.Commands[t.get_$1u()][i])}),r.promise()},$2jV:function(n,t){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return i.add("Mscrm.AddExistingRecordFromSubGridStandard"),i.add("Mscrm.AddNewRecordFromSubGridStandard"),this.$21s(n,t,i,!0)},$21s:function(n,t,i,r){var u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),f=this;return this.$25Z(n,t).done(function(n){var s=n.$Cx,h=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF))),c=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF))),g=s.Rules,l,e,a,v,y,p,w,o,b,k,d;for(l in g){e={key:l,value:g[l]};$0.$0(h.get_$R(e.key))&&h.set_$R(e.key,new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));a=s.Rules[e.key];for(v in a)y={key:v,value:a[v]},h.get_$R(e.key).set_$R(y.key,y.value)}p=s.DisplayRules;for(w in p){o={key:w,value:p[w]};$0.$0(c.get_$R(o.key))&&c.set_$R(o.key,new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));b=s.DisplayRules[o.key];for(k in b)d={key:k,value:b[k]},c.get_$R(o.key).set_$R(d.key,d.value)}f.$1vc(u,t.get_$1u(),i,0,n,h,c,r)}),u.promise()},$1vc:function(n,t,i,r,u,f,e,o){if(r<i.get_Count()){var s=this;this.$2Vc(t,i.get_$R(r),u,f,e).done(function(h){h?n.resolve(o?i.get_$R(r)==="Mscrm.AddNewRecordFromSubGridStandard":h):s.$1vc(n,t,i,r+1,u,f,e,o)})}else n.resolve(!1)},$2Vc:function(n,t,i,r,u){var f=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return this.$1FO(n,t,f,i,r,u)?f.promise():(f.resolve(!1),f.promise())},$2Jq:function(n,t,i){this.$2Jp(n,1,t,i)},$2Jp:function(n,t,i,r){var b=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CommandManagerVM:AddCommandSet"),s,e,h,c,l,a,v,o,y,p,w,d,f;if(b.start(),!this.$sY.$10k(n)&&Microsoft.Crm.Client.Core.ViewModels.$63.isInstanceOfType(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$Cx.Id)){var u=n.$Cx,g=n.$qR,nt=!IsNull(i),k=u.Rules;for(s in k){e={key:s,value:k[s]};$0.$0(this.$bG.get_$R(e.key))&&this.$bG.set_$R(e.key,new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));h=u.Rules[e.key];for(c in h)l={key:c,value:h[c]},this.$bG.get_$R(e.key).set_$R(l.key,l.value)}a=u.DisplayRules;for(v in a){o={key:v,value:a[v]};$0.$0(this.$Y4.get_$R(o.key))&&this.$Y4.set_$R(o.key,new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$KF)));y=u.DisplayRules[o.key];for(p in y)w={key:p,value:y[p]},this.$Y4.get_$R(o.key).set_$R(w.key,w.value)}d=u.Controls;f=new Microsoft.Crm.Client.Core.ViewModels.$Bo;this.$Wn(f,g,u.Commands,d,i,r);$0.$0(t)||t!==1?(this.$sY.$3w(n),u.Id==="GlobalCommands"||t===4?this.$Oc.$3w(f):this.$Mf.$3w(f)):nt||(Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&this.get_IsMergedContext()?(this.$v4[u.Id]=n,this.$PB.$86(),this.$PB.$3w(f)):(this.$e7[u.Id]=n,this.$Lj.$3w(f)))}this.set_IsLoading(!1);b.stop()},$Wn:function(n,t,i,r,u,f){for(var e,v,h,w,c,l,y,o,a,s,k=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.ProcessUnification"),b=r,d=b.length,p=0;p<d;++p)if((e=b[p],!(e.Id in n.$H))&&(e.Id!=="BackProcessStage"||!k)&&(!Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(t)||t.$eg||e.ControlType!=="Button"||(e.CommandType==="System"||e.CommandType==="ControlCommand")&&e.Command.toLowerCase()!=="addexistingcommand")){v=e.LabelText||"";e.CommandType==="WebResource"&&(h=t.get_$1u(),($0.$0(h)||Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(t))&&t.get_$AH()&&t.get_$AH().$D!=="multiItem"&&(h=t.get_$AH().$D),h===""&&(h=null),$0.$0(e.CommandParameters)&&(e.CommandParameters={}),w=i[h],c=$0.$0(w)?null:w[this.$1Fa(e.Command)],e.CommandParameters.entityLogicalName=t.get_$1u(),!$0.$0(c)||Microsoft.Crm.Client.Core.Framework.$3.$12(e.Command)||$0.$0(i["null"])||(c=i["null"][this.$1Fa(e.Command)],e.CommandParameters.entityLogicalName="null"),$0.$0(c)||(e.CommandParameters.CommandId=c.Id,e.CommandParameters.RibbonActionHandler=c.Actions));switch(e.ControlType){case"Button":$0.$0(e.CommandParameters)&&(e.CommandParameters={});e.CommandParameters.TargetViewModel=t;l="";switch(e.CommandType){case"ControlCommand":e.CommandParameters.CommandPropertyName=e.Command;l="ControlCommand";break;case"System":l=e.Command;break;case"WebResource":l="WebResourceCommand"}y=t.get_$1u();($0.$0(y)||Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(t))&&t.get_$AH()&&(y=t.get_$AH().$D);o=new Microsoft.Crm.Client.Core.ViewModels.$24;o.set_$2m(e.Id);Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&l==="EmailLinkCommand"?(o.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("RefreshCommandBar.EmailLink")),o.$4O=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricDashboard_EmailLinkButton_Tooltip"),o.set_ImageName("LinkArticle")):(o.set_Label(v),o.set_ImageName(e.ImageId));o.set_Visible(!0);o.set_Parameters(e.CommandParameters);o.set_ImageType(e.ImageType);o.$Gi=e.AvailableOffline||this.$2nd(y,e);o.set_TargetViewModel(t);o.$Cw=this;IsNull(f)||(o.$1ED=u,f.push(o));o.set_Command(l);n.$CK(o.$1P,o);this.$IN.set_$R(o.$1P,o);break;case"Group":Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(v)?(a=new Microsoft.Crm.Client.Core.ViewModels.$8m,a.set_Label(v),a.set_$2m(this.$1Fa(e.Id)),this.$Wn(a,t,i,e.Children,u,f),n.$CK(a.$1P,a)):this.$Wn(n,t,i,e.Children,u,f);break;case"Tab":case"FlyoutAnchor":s=new Microsoft.Crm.Client.Core.ViewModels.$4N;s.set_Label(v);s.set_ImageName(e.ImageId);s.set_ImageType(e.ImageType);s.set_$2m(e.Id);s.set_Visible(!0);s.set_Enabled(!0);s.set_$1s7(e.CommandParameters);this.$Wn(s,t,i,e.Children,u,f);n.$CK(s.$1P,s)}}},$2nd:function(n,t){var f,i,r,e,o,u;return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||!Microsoft.Crm.Client.Core.ViewModels.$a.$B5()?!1:n==="annotation"?Microsoft.Crm.Client.Core.ViewModels.$a.$HM(n):n==="activitypointer"&&!$0.$0(t)&&(f=t.CommandParameters.RibbonActionHandler,!$0.$0(f)&&(i=f,!$0.$0(i)&&i.length>0&&(r=i[0].Parameters,!$0.$0(r)&&r.length>0&&(e=r[0].Value,!$0.$0(e)&&(o=parseInt(e),!isNaN(o)&&(u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(o),!$0.$0(u)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(u.$y)))))))?Microsoft.Crm.Client.Core.ViewModels.$a.$G5(u.$y):!1},$1Fa:function(n){if($0.$0(n))return null;var t=n.split("|");return t[t.length-1]},$1FZ:function(){var n,t;return Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$E3)&&(n=this.$E3,!$0.$0(n.$H)&&"InteractionCentricFormBody"in n.$H&&(t=n.$H.InteractionCentricFormBody,!$0.$0(t.$H)&&"AssociatedGrid0"in t.$H))?t.$H.AssociatedGrid0:null},$eW:function(n){for(var t=0,i=n.get_Count();t<i;t++)n.get_$R(t).dispose();n.$86()},shouldRefreshCommandBarForInteractionCentric:function(){return this.$z2?(!this.get_AreAllRowsSelected()&&this.get_SelectedRowCount()<=1||this.get_AreAllRowsSelected())&&!this.get_IsMultiSelectEvent()&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Je():!1}};Microsoft.Crm.Client.Core.ViewModels.$Sa=function(){Microsoft.Crm.Client.Core.ViewModels.$Sa.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Sa.prototype={$aW:null,get_OverflowChildViewModels:function(){return this.$aW},set_OverflowChildViewModels:function(n){return this.$aW=n,n},$1rw:function(){var n,i,t;if(!$0.$0(this.$aW))for(n=0,i=this.$aW.length;n<i;n++)t=this.$aW[n],Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(t)&&t.set_FlyOutExpanded(!1)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this);this.$aW=null}};Microsoft.Crm.Client.Core.ViewModels.$Bo=function(){this.$$d_$2ss=Function.createDelegate(this,this.$2ss);this.get_NextTabIndex=this.get_$3Fm;this.set_NextTabIndex=this.set_$3Fm;this.get_StartIndex=this.get_$1Qi;this.set_StartIndex=this.set_$1Qi;this.get_TabSpaceReserved=this.get_$1mL;Microsoft.Crm.Client.Core.ViewModels.$Bo.initializeBase(this);this.$P8=new Microsoft.Crm.Client.Core.ViewModels.$Sa;this.$P8.AddPropertyChangedListener("FlyOutExpanded",this.$$d_$2su);this.$Nf=1e3};Microsoft.Crm.Client.Core.ViewModels.$Bo.prototype={$P8:null,get_OverflowViewModel:function(){return this.$P8},findActiveChildViewModels:function(){var r=new Array(0),u=this.$H,i,f;for(i in u){var e={key:i,value:u[i]},n=e.value,t=n.get_Enabled();Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)?(f=n,f.$M.tabindex=this.$Nf,t=t&&!Mscrm.InternalUtilities.JSTypes.isNull(n.$1g)&&n.$1g.get_CanExecute()):Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&(t=t&&n.hasEnabledDescendant());t&&Array.add(r,n)}return r},$2Wz:function(n,t){for(var s,r,c,u,i=this.findActiveChildViewModels(),o=n,l=o.length,f=0;f<l;++f)for(s=o[f],r=0;r<i.length;r++)if(i[r].$1P===s){i.splice(r,1);break}for(var h=t,a=h.length,e=0;e<a;++e)for(c=h[e],u=0;u<i.length;u++)if(i[u].$1P.indexOf(c)>-1){i.splice(u,1);break}return i},FindFilteredViewModels:function(n){var i=["DashboardPinButton","Win8PinButton","RefreshModernButton","OpenInBrowserButton","ExportToExcelButton","PerfButton","ChangeGridViewButton","ResizeHandlesCommand","ChangeListViewButton"],t=["GuidedHelp",".QueueItemDetail",".Convert.Opportunity",".HomepageGrid.activitypointer.Close",".HomepageGrid.activitypointer.Convert.Case",".HomepageGrid.socialactivity.NewRecord"];return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("InteractionCentricEmailLink")||i.push("EmailLinkButton"),n?(t.push("HomepageGrid.incident.Resolve"),t.push("HomepageGrid.incident.Cancel"),t.push("HomepageGrid.incident.DoNotDecrementEntitlementTerms")):(t.push("HomepageGrid.incident.MergeRecords"),t.push("HomepageGrid.incident.AssociateParentChildCase"),t.push("SubGrid.incident.MergeRecords"),t.push("SubGrid.incident.AssociateParentChildCase")),this.$2Wz(i,t)},$32I:function(n){for(var e,t,i=this.findActiveChildViewModels(),u=[],f=n,o=f.length,r=0;r<o;++r)for(e=f[r],t=0;t<i.length;t++)if(i[t].$1P===e){u.push(i[t]);break}return u},RetrieveInteractionCentricSelectViewModelData:function(){var n=this.$32I(["ChangeGridViewButton"]),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q(n),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();i.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q,t)},$1a1:function(n){var f=new Array(0),e=this.$H,i,t;for(i in e)for(var h={key:i,value:e[i]},o=h.value,r=o.$1P,s=n,c=s.length,u=0;u<c;++u)t=s[u],r.length>=t.length&&r.substr(r.length-t.length,t.length)===t&&Array.add(f,o);return f},RetrieveSaveButtonViewModelData:function(){var n=this.$1a1([".Save"]),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P(n),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();i.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P,t)},RetrieveInteractionCentricCreateModeCommands:function(){return this.$1a1([".Save",".SaveAndClose",".NewRecord",".BookOrReschedule",".Send",".ApplyTemplate"])},CloseAllFlyOuts:function(){this.$1rw()},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$SI.prototype.$CK.call(this,n,t);var i=this.$H[n];i.AddPropertyChangedListener("Enabled",this.$$d_$2ss);i.AddPropertyChangedListener("ActionCommandCanExecute",this.$$d_$2ss);Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n==="ChangeGridViewButton"&&this.RetrieveInteractionCentricSelectViewModelData()},$16q:function(n){n.rpcl("Enabled",this.$$d_$2ss);n.rpcl("ActionCommandCanExecute",this.$$d_$2ss);Microsoft.Crm.Client.Core.ViewModels.$SI.prototype.$16q.call(this,n)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this);this.$P8.RemovePropertyChangedListener("FlyOutExpanded",this.$$d_$2su);this.$P8.dispose();this.$P8=null},$1rw:function(n){n!==this.$P8&&this.$P8.$Ql&&!this.$2Oi(n)&&this.$P8.set_FlyOutExpanded(!1);Microsoft.Crm.Client.Core.ViewModels.$SI.prototype.$1rw.call(this,n)},$2Oi:function(n){return $0.$0(this.$P8.$aW)?!1:Array.contains(this.$P8.$aW,n)},$2ss:function(){this.$Tv||this.$2h||this.$7("ActiveChildViewModels")},isCommandBarOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$4L.getParamStatus("cmdbar")},get_$3Fm:function(){return this.$Nf+this.get_$1mL()},set_$3Fm:function(n){return n},$Nf:0,get_$1Qi:function(){return this.$Nf},set_$1Qi:function(n){return this.$Nf=n,n},get_$1mL:function(){return 30}};Microsoft.Crm.Client.Core.ViewModels.$4L=function(){};Microsoft.Crm.Client.Core.ViewModels.$4L.getParamStatus=function(n){var r=Microsoft.Crm.Client.Core.Framework.Utils.$19.$Rc(window.location.href),t=null,i=null;switch(n){case"navbar":t=r.navbar;i="off";break;case"backbtn":t=r.backbtn;i="off";break;case"cmdbar":t=r.cmdbar;i="false"}return!$0.$0(t)&&t.toLowerCase()===i?!0:!1};Microsoft.Crm.Client.Core.ViewModels.$4L.isCreateFormViaUrl=function(){var n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$Rc(window.location.href);return!$0.$0(n.pagetype)&&n.pagetype==="create"?!0:!1};Microsoft.Crm.Client.Core.ViewModels.$4L.getParamValue=function(n){var t=Microsoft.Crm.Client.Core.Framework.Utils.$19.$Rc(window.location.href);return t[n]};Microsoft.Crm.Client.Core.ViewModels.$Rt=function(){this.$Hz=new Microsoft.Crm.Client.Core.Framework.$AL;Microsoft.Crm.Client.Core.ViewModels.$Rt.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Rt.prototype={get_ActiveNavigationStack:function(){return this.$Hz},get_IsInteractionCentricDashboard:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()},getInteractionCentricResolutionWarning:function(n,t){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricResolutionWarning"),n,t)},$vo:function(n){for(var i=this.get_Top(),t=0;t<this.$Hz.get_Count();t++)if(this.$Hz.get_$R(t)===n){if(this.$Hz.get_Count()===1)throw Error.invalidOperation("Can't remove all the items from the stack!");this.$9n("BeforePopRootViewModel",n);this.$Hz.$Ai(n);break}this.get_Top()!==i&&this.$7("Top")}};Microsoft.Crm.Client.Core.ViewModels.$RQ=function(){this.get_$33=this.get_Top;Microsoft.Crm.Client.Core.ViewModels.$RQ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$RQ.prototype={add_$1qG:function(n){this.$1p("BeforePopRootViewModel",n)},get_Top:function(){var n=$0.$0(this.get_ActiveNavigationStack())?0:this.get_ActiveNavigationStack().get_Count();return n>0?this.get_ActiveNavigationStack().get_$R(n-1):null},$vT:function(n){this.$1nf(n);this.$2Fo(n);this.get_ActiveNavigationStack().$3w(n);this.$7("Top")},$vL:function(){this.popMany(1)},popMany:function(n){if(n<=0)throw Error.argumentOutOfRange("numberOfItems",n,"Cannot pass 0 or negative to the PopMany method.");var t=this.get_ActiveNavigationStack().get_Count();if(t<=n)throw Error.invalidOperation("Can't pop all the items from the stack!");else this.$9n("BeforePopRootViewModel",null),this.get_ActiveNavigationStack().$16s(t-n,n);this.$7("Top")},$2F1:function(n){this.$1nf(n);this.$2Fo(n);var t=this.get_ActiveNavigationStack().get_Count();t?(this.$9n("BeforePopRootViewModel",n),this.get_ActiveNavigationStack().set_$R(t-1,n)):this.get_ActiveNavigationStack().$3w(n);this.$7("Top")},$2Fo:function(n){Microsoft.Crm.Client.Core.ViewModels.$Ch.isInstanceOfType(n)&&n.set_$T1(this)},$1nf:function(n){if(!n)throw Error.argumentNull("viewModel","You cannot conduct to a null ViewModel");if(!$0.$0(this.get_ActiveNavigationStack())&&this.get_ActiveNavigationStack().$10k(n))throw Error.invalidOperation("You cannot conduct to a ViewModel that is already in the conductor stack. ViewModel = "+Object.getType(n).getName());},OnPageVisit:function(n){$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL())||Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$2ud(n)}};Microsoft.Crm.Client.Core.ViewModels.$2D=function(){this.$$d_$Rr=Function.createDelegate(this,this.$Rr);this.$$d_$2tt=Function.createDelegate(this,this.$2tt);this.$$d_$2st=Function.createDelegate(this,this.$2st);this.$$d_$2sv=Function.createDelegate(this,this.$2sv);this.$CL={};this.$zp={};this.$AZ=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$2v));this.$1DC={};this.get_childViewModels=this.get_ChildViewModels;Microsoft.Crm.Client.Core.ViewModels.$2D.initializeBase(this);this.$H={}};Microsoft.Crm.Client.Core.ViewModels.$2D.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("MenuButton",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("PivotItem",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("SectionItem",Microsoft.Crm.Client.Core.ViewModels.$2D)};Microsoft.Crm.Client.Core.ViewModels.$2D.$21O=function(n,t){var i,r,u,f,e;if($0.$0(n)||$0.$0(t)||$0.$0(n.get_childViewModels()))return null;i=n.get_childViewModels();for(r in i){if(u={key:r,value:i[r]},f=u.value,f.get_ViewModelId()===t.get_ViewModelId())return n;if(Microsoft.Crm.Client.Core.ViewModels.$78.isInstanceOfType(f)&&(e=Microsoft.Crm.Client.Core.ViewModels.$2D.$21O(u.value,t),e))return e}return null};Microsoft.Crm.Client.Core.ViewModels.$2D.$2XR=function(n){var i=n,t,r;for(t in i)return r={key:t,value:i[t]},r.value;return null};Microsoft.Crm.Client.Core.ViewModels.$2D.prototype={$H:null,$14G:!1,$Z9:null,$Z7:null,$si:!1,$SG:0,$BY:!0,$gE:!1,$1L3:0,get_IsScrollLocked:function(){return this.$gE},set_IsScrollLocked:function(n){return this.$gE!==n&&(this.$gE=n,this.$7("IsScrollLocked")),n},get_ChildViewModels:function(){return this.$H},get_ImageType:function(){return this.$Z9},set_ImageType:function(n){return this.$Z9!==n&&(this.$Z9=n,this.$7("ImageType")),n},get_ImageName:function(){return this.$Z7},set_ImageName:function(n){return this.$Z7!==n&&(this.$Z7=n,this.$7("ImageName")),n},get_HideIfNoChildrenVisible:function(){return this.$si},set_HideIfNoChildrenVisible:function(n){return this.$si=n,n},get_IsValid:function(){return this.$BY},set_IsValid:function(n){return this.$BY!==n&&(this.$BY=n,this.$7("IsValid")),n},get_InvalidViewModels:function(){return this.$AZ},set_InvalidViewModels:function(n){return this.$AZ!==n&&(this.$AZ=n,this.set_IsValid(!this.$AZ.get_Count()),this.$7("InvalidViewModels")),n},get_VisibleChildrenCount:function(){return this.$SG},set_VisibleChildrenCount:function(n){return this.$SG!==n&&(this.$SG=n,this.$7("VisibleChildrenCount")),n},get_$1Xq:function(){return!1},$Rr:function(){var i,r,t,n;if(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Rr.call(this),!$0.$0(this.$H)){i=this.$H;for(r in i)t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(t.value)&&(Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.isInstanceOfType(t.value)?t.value.$2Ag():t.value.$Rr())}if(!$0.$0(this.$AZ))for(n=0;n<this.$AZ.get_Count();n++)($0.$0(this.$AZ.get_$R(n).get_ErrorMessage())||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$AZ.get_$R(n).get_ErrorMessage()))&&this.$AZ.get_$R(n).$2XL()},$rT:function(n){var i,r,t;if(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$rT.call(this,n),!$0.$0(this.$H)){i=this.$H;for(r in i)t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(t.value)?t.value.$rT(n):Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Invalid child of type {0}",Object.getType(t.value).toString())}},$1VR:function(n,t){var i,r,u;$0.$0(this.$CL)||(n in this.$CL?(i=this.$CL[n],Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(i)?(r={},r[i.get_ViewModelId()]=i,r[t.get_ViewModelId()]=t,this.$CL[n]=r,this.$zp[t.get_Id()]=r):(u=i,u[t.get_ViewModelId()]=t)):(this.$CL[n]=t,this.$zp[t.get_Id()]=t));this.$2i===this||$0.$0(this.$2i)||this.$2i.$1VR(n,t)},$16q:function(n){var t=n.get_Name(),i,r;this.$CL&&t in this.$CL&&(i=this.$CL[t],Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(i)?(delete this.$CL[t],delete this.$zp[n.get_Id()]):(r=i,delete r[n.get_ViewModelId()]))},$1re:function(){var n,t,r,i;if(!$0.$0(this.$2i)&&Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(this.$2i)&&!$0.$0(this.$H)){n=this.$H;for(t in n)r={key:t,value:n[t]},i=r.value,i&&this.$2i.$16q(i)}},$CK:function(n,t){if(this.$H[n]=t,this.$14G?this.$1VR(n,t):$0.$0(this.$2i)||this.$2i.$1VR(n,t),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(t)||this.$H[n].set_ModelContext(this.get_ModelContext()),Microsoft.Crm.Client.Core.ViewModels.$DG.isInstanceOfType(t)){var r=Microsoft.Crm.Client.Core.Framework.$1B.$s(this.$H)-1,i=this.$2jy(r);this.$1DC[t.get_ViewModelId()]=i;t.AddPropertyChangedListener("Visible",i);t.get_$2IP()&&this.set_VisibleChildrenCount(this.$SG+1)}Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(t)?(t.AddPropertyChangedListener("IsValid",this.$$d_$2sv),t.get_$tN()||(this.$AZ.add(t),this.$1Iy())):Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(t)&&(t.AddPropertyChangedListener("InvalidViewModels",this.$$d_$2st),this.$AZ.addRange(t.$AZ.toArray()),this.$1Iy());this.$2ps(t)},$nR:function(n){var t=n;for(var i in t){var r={key:i,value:t[i]},u=r.key,f=r.value;this.$CK(u,f)}this.$7("ChildViewModels")},$5Q:function(n){return Microsoft.Crm.Client.Core.ViewModels.$2D.$21O(this,n)},$67:function(n){if(!this.$CL)return null;var t=this.$CL[n];return $0.$0(t)?null:Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(t)?t:Microsoft.Crm.Client.Core.ViewModels.$2D.$2XR(t)},hasEnabledDescendant:function(){var i=this.$H,t,r,n;for(t in i){if(r={key:t,value:i[t]},n=r.value,Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&n.hasEnabledDescendant())return!0;if(Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)){if(!$0.$0(n.$1g)&&n.$1g.get_CanExecute())return!0}else if(Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(n)&&n.get_Enabled())return!0}return!1},$Hd:function(){var r,t,i,n,u;if(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this),r=this.get_ModelContext(),!$0.$0(this.$H)){t=this.$H;for(i in t)n={key:i,value:t[i]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(n.value)&&(u=n.value,Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n.value)||u.set_ModelContext(r))}},$Oh:function(){var n,t,r,i;this.$1re();n=this.$H;for(t in n)r={key:t,value:n[t]},i=r.value,i&&this.$1Et(i);this.$H=null;this.$CL=null;this.$zp=null;this.$1DC=null;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$1Et:function(n){n.RemovePropertyChangedListener("Visible",this.$1DC[n.get_ViewModelId()]);n.RemovePropertyChangedListener("IsValid",this.$$d_$2sv);n.RemovePropertyChangedListener("InvalidViewModels",this.$$d_$2st);n.RemovePropertyChangedListener("IsScrollLocked",this.$$d_$2tt);n.dispose()},$27O:function(n){this.set_VisibleChildrenCount(this.$SG+(n?1:-1));this.$si&&this.set_Visible(this.$SG>0)},$2sv:function(n){n.get_$tN()?(this.$AZ.remove(n),this.$1Iy()):this.$AZ.contains(n)||(this.$AZ.add(n),this.$1Iy())},$2st:function(){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$2v)),i,r,u,n;if(!$0.$0(this.$H)){i=this.$H;for(r in i)u={key:r,value:i[r]},n=u.value,Microsoft.Crm.Client.Core.ViewModels.$2v.isInstanceOfType(n)?n.get_$tN()||t.add(n):Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&t.addRange(n.$AZ.toArray())}this.set_InvalidViewModels(t)},$1Iy:function(){this.set_IsValid(!this.$AZ.get_Count());this.$7("InvalidViewModels")},$2ps:function(n){var t=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$9v.isInstanceOfType(n);t&&n.AddPropertyChangedListener("IsScrollLocked",this.$$d_$2tt)},$2tt:function(n,t){var r=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$9v.isInstanceOfType(n),u="IsScrollLocked"===t,i;r&&u&&(i=n,i.get_IsScrollLocked()?++this.$1L3:--this.$1L3,this.set_IsScrollLocked(this.$1L3>0))},$2jy:function(n){var t=this;return function(i){t.$27O(i.get_$2IP(),n)}},isCustomContainer:function(){var t=this.$H,n,i;for(n in t)if(i={key:n,value:t[n]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(i.value))return!0;return!1},$2p2:function(n){var i=$0.$0(this.$H[n])?this.$H[n+"_edit"]:this.$H[n],t;return Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(i)||Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$H[n+"_readonly"])?(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$D,n),!$0.$0(t)&&(t.$hn===1||t.$hn===2)):!1},getFirstCustomControl:function(){var i=this.$H,n,t;for(n in i)if(t={key:n,value:i[n]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(t.value))return t.value;return null}};Microsoft.Crm.Client.Core.ViewModels.$Rm=function(){this.$Hz=new Microsoft.Crm.Client.Core.Framework.$AL;Microsoft.Crm.Client.Core.ViewModels.$Rm.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Rm.prototype={get_ActiveNavigationStack:function(){return this.$Hz},popMany:function(n){if(n<=0)throw Error.argumentOutOfRange("numberOfItems",n,"Cannot pass 0 or negative to the PopMany method.");var t=this.get_ActiveNavigationStack().get_Count();this.$16m(t-n,n);n>=t?t=0:(this.$9n("BeforePopRootViewModel",null),this.get_ActiveNavigationStack().$16s(t-n,n),t=this.get_ActiveNavigationStack().get_Count(),this.$7("ActiveNavigationStack"));t<1&&(this.$Hz=new Microsoft.Crm.Client.Core.Framework.$AL,this.$7("ActiveNavigationStack"),this.$7("ActiveItems"));this.$7("Top")},$vo:function(n){for(var i=this.get_Top(),t=0;t<this.get_ActiveNavigationStack().get_Count();t++)if(this.get_ActiveNavigationStack().get_$R(t)===n){this.get_ActiveNavigationStack().get_Count()===1?(this.$16m(t,1),this.$Hz=new Microsoft.Crm.Client.Core.Framework.$AL,this.$7("ActiveNavigationStack")):(this.$9n("BeforePopRootViewModel",n),this.$16m(t,1),this.get_ActiveNavigationStack().$Ai(n),this.$7("ActiveNavigationStack"));break}this.get_Top()!==i&&this.$7("Top")},$16m:function(n,t){var o=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43),e=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$6D),i,r,u,f;if(!$0.$0(o)&&!$0.$0(e))for(i=n;i<n+t;i++)if(r=this.get_ActiveNavigationStack().get_$R(i),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(r)){if(u=e.$2BN(r.get_ViewModelId()),u)for(f=0;f<u.get_Count();f++)o.$1XL(u.get_$R(f))}else e.$1OH(r)},removeViewModelById:function(n){for(var t=0;t<this.get_ActiveNavigationStack().get_Count();t++)if(this.get_ActiveNavigationStack().get_$R(t).get_ViewModelId()===n){this.$vo(this.get_ActiveNavigationStack().get_$R(t));return}}};Microsoft.Crm.Client.Core.ViewModels.$KC=function(n,t){this.$8n=n;$0.$0(t)||(this.$M=t)};Microsoft.Crm.Client.Core.ViewModels.$KC.prototype={$8n:null,$M:null};Microsoft.Crm.Client.Core.ViewModels.$SI=function(){this.$$d_$2su=Function.createDelegate(this,this.$2su);Microsoft.Crm.Client.Core.ViewModels.$SI.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$SI.prototype={$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$CK.call(this,n,t);var i=this.$H[n];Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(i)&&i.apcl("FlyOutExpanded",this.$$d_$2su)},$16q:function(n){Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(n)&&n.rpcl("FlyOutExpanded",this.$$d_$2su);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$16q.call(this,n)},$1rw:function(n){var f=!$0.$0(n),r=this.$H,i,u,t;for(i in r)u={key:i,value:r[i]},t=u.value,Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(t)&&(!f||n!==t)&&t.set_FlyOutExpanded(!1)},$2su:function(n){var t=n;t.$Ql&&this.$1rw(t)}};Microsoft.Crm.Client.Core.ViewModels.$10=function(){Microsoft.Crm.Client.Core.ViewModels.$10.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$10.$wc=function(n,t,i,r,u){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$2KV(n,t,i,r,u)};Microsoft.Crm.Client.Core.ViewModels.$10.$My=function(n){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$2KF(n)};Microsoft.Crm.Client.Core.ViewModels.$10.$Lc=function(n){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$30j(n)};Microsoft.Crm.Client.Core.ViewModels.$10.$2Ox=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$30d()};Microsoft.Crm.Client.Core.ViewModels.$10.prototype={$Ej:null,$17g:function(n){this.$Ej!==n&&($0.$0(this.$Ej)||this.$Ej.$IZ.set_IsActive(!1),this.$Ej=Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)?n:null,$0.$0(this.$Ej)||this.$Ej.$IZ.set_IsActive(!0))},$2KV:function(n,t,i,r,u){return!$0.$0(n)&&!$0.$0(i)&&!$0.$0(this.$Ej)?(u=$0.$0(u)?32767:u,!$0.$0(r)&&r.get_Count()>0?this.$Ej.$IZ.$2L6(i,n,r,t,u):this.$Ej.$IZ.$1pD(i,n,t,u),!0):!1},$2KF:function(n){return $0.$0(this.$Ej)?!1:(this.$Ej.$IZ.$2KG(n),!0)},$30j:function(n){return!$0.$0(n)&&!$0.$0(this.$Ej)?(this.$Ej.$IZ.$30h(n),!0):!1},$30d:function(){return $0.$0(this.$Ej)?!1:(this.$Ej.$IZ.$30e(),!0)}};Microsoft.Crm.Client.Core.ViewModels.$4O=function(){this.$$d_$2tj=Function.createDelegate(this,this.$2tj);this.$$d_$1M7=Function.createDelegate(this,this.$1M7);this.$$d_$1MC=Function.createDelegate(this,this.$1MC);this.$$d_$2ti=Function.createDelegate(this,this.$2ti);Microsoft.Crm.Client.Core.ViewModels.$4O.initializeBase(this);this.set_GlobalMenuViewModel(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(38)));this.$1Hs=this.$$d_$2ti;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Z6().$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$1M7)};Microsoft.Crm.Client.Core.ViewModels.$4O.prototype={$9m:null,$1Hs:null,get_OfflineText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_AppLauncher_Offline")},get_NoDefinitionsText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_AppLauncher_No_Definitions")},get_GlobalMenuViewModel:function(){return this.$9m},set_GlobalMenuViewModel:function(n){return this.$9m!==n&&($0.$0(this.$9m)||(this.$9m.RemovePropertyChangedListener("Visible",this.$$d_$2tj),this.$9m.dispose()),this.$9m=n,$0.$0(this.$9m)||this.$9m.AddPropertyChangedListener("Visible",this.$$d_$2tj),this.$7(Microsoft.Crm.Client.Core.ViewModels.$4O.$1Ht)),n},$2Z:function(){this.$1a||(this.$13f(),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this))},$Ea:function(){this.$9m.remove_$6F(this.$1Hs);this.$9m.dispose();this.set_GlobalMenuViewModel(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(38)));this.$9m.set_DefinitionId("TaskBasedFlowGlobalMenu");this.$13f()},$2BF:function(n){var i=this.$9m.$H,t;n in i&&(t=i[n],t.set_Visible(!1),t.set_Enabled(!1),this.$7(Microsoft.Crm.Client.Core.ViewModels.$4O.$1Ht))},$13f:function(){var n,t;this.$9m.add_$6F(this.$1Hs);n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("TaskBasedFlow.GlobalMenuViewModelInitialization");n.start();t=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){t.$9m.$2Z()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$13f,"Initialize GlobalMenu RootViewModel");this.$9m.set_Visible(!1);n.stop()},$1MC:function(){this.$9m.set_Visible(!1)},$1M7:function(){var u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F(),n,t,i,r;u&&!this.$9m.$1a&&this.$23u();n=this.$9m.$H;for(t in n)i={key:t,value:n[t]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(i.value)&&(r=i.value,r.set_Enabled(r.$4u&&u));this.$7("IsServerAvailable")},$2ti:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&this.$23u()},$23u:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveGlobalMenuData",null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$2tj:function(){if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("GlobalMenuVisible",this.$9m.$4u),this.$9m.$4u){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS("globaltaskflowsmenuopened");n.$h("visible",this.$9m.$SG);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n)}},$Oh:function(){this.set_GlobalMenuViewModel(null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Z6().$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$1M7);Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel=function(){this.$$d_$33w=Function.createDelegate(this,this.$33w);this.$$d_$3Bv=Function.createDelegate(this,this.$3Bv);this.$$d_$2Ol=Function.createDelegate(this,this.$2Ol);this.$$d_$2Nx=Function.createDelegate(this,this.$2Nx);Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel.prototype={$8H:null,$g7:!1,$SL:null,get_Base64ImageData:function(){return this.$SL},set_Base64ImageData:function(n){return this.$SL=n,n},get_ImageViewModel:function(){return this.$8H},set_ImageViewModel:function(n){return this.$8H!==n&&($0.$0(this.$8H)||(this.$8H.dispose(),this.$8H=null),this.$8H=n),n},get_IsDefaultImageUsed:function(){return this.$g7},set_IsDefaultImageUsed:function(n){return this.$g7!==n&&(this.$g7=n,this.$7("IsDefaultImageUsed")),n},get_DialogHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_EditImage")},get_InstructionText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_Instruction")},get_CustomImageText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_CustomImage")},get_CustomImageContentFromLibraryText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_CustomImageFromLibrary")},get_CustomImageContentFromDeviceText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_CustomImageFromDevice")},get_OrLabelText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_OrLabel")},get_UseDefaultImageText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_UploadImageDialog_UseDefault")},get_SaveButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Create_And_Close_Button_Text")},get_CancelButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text")},$oD:null,get_CapturePhotoCommand:function(){return this.$oD},set_CapturePhotoCommand:function(n){return this.$oD=n,n},$oF:null,get_ChooseFromLibraryCommand:function(){return this.$oF},set_ChooseFromLibraryCommand:function(n){return this.$oF=n,n},$pY:null,get_UsedefaultImageCommand:function(){return this.$pY},set_UsedefaultImageCommand:function(n){return this.$pY=n,n},$1B4:null,get_SaveImageUploadCommand:function(){return this.$1B4},set_SaveImageUploadCommand:function(n){return this.$1B4=n,n},$19X:null,get_CancelImageUploadCommand:function(){return this.$19X},set_CancelImageUploadCommand:function(n){return this.$19X=n,n},get_IsCameraAvailable:function(){return!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()},add_$2lp:function(n){this.$1p("ImageUploadedEvent",n)},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$2Z.call(this);this.$oD=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Nx,9);this.$oF=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Ol,9);this.$pY=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$3Bv,9);this.$1B4=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$33w,9);this.$19X=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$QG,9);this.$8H=new Microsoft.Crm.Client.Core.ViewModels.$Cv;this.$8H.set_PrimaryModelName(this.$D);$0.$0(this.get_ModelContext())&&this.$1Ig()},$1Ig:function(){$0.$0(this.$K.$8n)||$0.$0(this.$K.$8n.get_ModelContext())||(this.set_ModelContext(this.$K.$8n.get_ModelContext()),this.set_IsDefaultImageUsed($0.$0(this.get_ModelContext().GetValue("entityimage_url"))),this.$8H.set_Data(this.get_ModelContext().GetValue("entityimage_url")))},$2Nx:function(){var n=new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions,t;n.maxUploadFileSize=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ();n.targetWidth="144";n.targetHeight="144";n.allowEdit=!0;n.saveToPhotoAlbum=!1;t=this;(new Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel).getCameraPicture(n).done(function(n){t.$SL=n.get_$H6();t.$8H.set_Data(t.$1Xt(n.get_$H6()))})},$2Ol:function(){var n=this;(new Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel).getAttachmentFile().done(function(t){n.$SL=t.get_$H6();n.$8H.set_Data(n.$1Xt(t.get_$H6()))})},$3Bv:function(){this.$g7?$0.$0(this.$SL)?$0.$0(this.get_ModelContext().GetValue("entityimage_url"))||this.$8H.set_Data(this.get_ModelContext().GetValue("entityimage_url")):this.$8H.set_Data(this.$1Xt(this.$SL)):this.$8H.set_Data("");this.set_IsDefaultImageUsed(!this.$g7)},$33w:function(){this.$g7||$0.$0(this.$SL)?this.$g7&&!$0.$0(this.get_ModelContext().GetValue("entityimage_url"))&&(this.get_ModelContext().SetValue("entityimage",""),this.$1Iz()):(this.get_ModelContext().SetValue("entityimage",this.$SL),this.$1Iz());this.$QG()},$1Iz:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateRecordForCustomControl",null),t=this;n.OnSuccess=function(){t.$9j("ImageUploadedEvent")};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$1Xt:function(n){return"data:image;base64,"+n},$Oh:function(){this.$oD.dispose();this.$oD=null;this.$oF.dispose();this.$oF=null;this.$pY.dispose();this.$pY=null;this.$SL="";this.set_ImageViewModel(null);Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$2r=function(){};Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2YG=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_FormReady")};Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2rz=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_Navigate_Away")};Microsoft.Crm.Client.Core.ViewModels.$2r.get_$27b=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_OnDemand")};Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2tp=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_IFrameLoad")};Microsoft.Crm.Client.Core.ViewModels.$2r.get_$39j=function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_Timer")};Microsoft.Crm.Client.Core.ViewModels.$2r.$2rY=function(n){switch(n){case"CriticalMemory":return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_CriticalMemoryWarning");case"LowMemory":default:return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MemorySnapshot_LowMemoryWarning")}};Microsoft.Crm.Client.Core.ViewModels.$11=function(){this.$$d_$1r7=Function.createDelegate(this,this.$1r7);Microsoft.Crm.Client.Core.ViewModels.$11.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$11.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("MemorySnapshotCommand",Microsoft.Crm.Client.Core.ViewModels.$11.$2SH)};Microsoft.Crm.Client.Core.ViewModels.$11.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$11.$C)&&(Microsoft.Crm.Client.Core.ViewModels.$11.$C=new Microsoft.Crm.Client.Core.ViewModels.$11),Microsoft.Crm.Client.Core.ViewModels.$11.$C};Microsoft.Crm.Client.Core.ViewModels.$11.$2SH=function(){return new Microsoft.Crm.Client.Core.Framework.Binding.$RG(Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$$d_$1r7,140,Microsoft.Crm.Client.Core.ViewModels.$11.get_$6(),"MemoryDiagnosticsEnabled",function(){return Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$MO})};Microsoft.Crm.Client.Core.ViewModels.$11.$2Nw=function(n,t,i){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$2Nv(n,t,i):i(0)};Microsoft.Crm.Client.Core.ViewModels.$11.prototype={$MO:!1,$UD:null,get_MemoryDiagnosticsEnabled:function(){return this.$MO},set_MemoryDiagnosticsEnabled:function(n){return n!==this.$MO&&(this.$MO=n,this.$MO?($0.$0(this.$UD)&&(this.$UD=new(Microsoft.Crm.Client.Core.Framework.$8j.$$(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$MD))(20)),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1rA(!0)):($0.$0(this.$UD)||this.$UD.$86(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1rA(!1)),this.$7("MemoryDiagnosticsEnabled")),n},get_$2rX:function(){return $0.$0(this.$UD)?new Array(0):this.$UD.$1mk()},$2Z:function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1LN()?($0.$0(this.$UD)&&(this.$UD=new(Microsoft.Crm.Client.Core.Framework.$8j.$$(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$MD))(20)),this.$MO=!0):this.$MO=!1},$1r7:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();this.$2Nu(n,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$27b())},$2Nu:function(n,t,i){var r,u,f;this.$MO&&(r=n.$g===1?"Dashboard":n.$D,u=new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$MD(r,t,i,(new Date).format("M/d/yyyy hh:mm:ss")),$0.$0(i)&&(f=this,Microsoft.Crm.Client.Core.ViewModels.$11.$2Nw(r,t,function(n){u.MemoryUsage=n})),this.$UD.$3w(u))}};Microsoft.Crm.Client.Core.ViewModels.$8K=function(){this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2EK=Function.createDelegate(this,this.$2EK);this.$$d_$2vA=Function.createDelegate(this,this.$2vA);this.$$d_$2sk=Function.createDelegate(this,this.$2sk);this.$$d_$2to=Function.createDelegate(this,this.$2to);this.$$d_$28c=Function.createDelegate(this,this.$28c);this.$$d_$1MC=Function.createDelegate(this,this.$1MC);this.$$d_$28b=Function.createDelegate(this,this.$28b);Microsoft.Crm.Client.Core.ViewModels.$8K.initializeBase(this);this.set_SiteMapViewModel(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(10)));this.$nW=this.$$d_$28b;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC)};Microsoft.Crm.Client.Core.ViewModels.$8K.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavigationBarViewModel",Microsoft.Crm.Client.Core.ViewModels.$8K)};Microsoft.Crm.Client.Core.ViewModels.$8K.prototype={$5g:null,$fk:null,$IF:null,$Ec:null,$26v:0,$10j:null,$1gM:null,$nW:null,$1CT:!1,$1PE:!0,$1dG:!0,get_SiteMapViewModel:function(){return this.$5g},set_SiteMapViewModel:function(n){return this.$5g!==n&&($0.$0(this.$5g)||(this.$5g.RemovePropertyChangedListener("Visible",this.$$d_$28c),this.$5g.dispose()),this.$5g=n,$0.$0(this.$5g)||this.$5g.AddPropertyChangedListener("Visible",this.$$d_$28c),this.$7("SiteMapViewModel")),n},get_BackButtonEnabled:function(){return this.$1CT},set_BackButtonEnabled:function(n){return this.$1CT!==n&&(this.$1CT=n,this.$7("BackButtonEnabled")),n},get_SearchButtonEnabled:function(){return this.$1PE},set_SearchButtonEnabled:function(n){return this.$1PE!==n&&(this.$1PE=n,this.$7("SearchButtonEnabled")),n},get_HomeCommand:function(){return this.$fk},set_HomeCommand:function(n){return $0.$0(this.$fk)||(this.$fk.dispose(),this.$fk=null),this.$fk=n,n},get_BackCommand:function(){return this.$IF},set_BackCommand:function(n){return $0.$0(this.$IF)||(this.$IF.dispose(),this.$IF=null),this.$IF=n,n},get_SearchCommand:function(){return this.$Ec},set_SearchCommand:function(n){return $0.$0(this.$Ec)||(this.$Ec.dispose(),this.$Ec=null),this.$Ec=n,n},get_HomeButtonTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?20:-3e4},set_$2sN:function(n){return this.$26v=n,this.$7("NotificationsCount"),n},$2Z:function(){var n,t,i;Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this);n=this;this.set_HomeCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2to,105,new Microsoft.Crm.Client.Core.Framework.$AJ,"",function(){return!Microsoft.Crm.Client.Core.Framework.$6.$4N}));t=this;this.set_BackCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2sk,105,new Microsoft.Crm.Client.Core.Framework.$AJ,"",function(){return!Microsoft.Crm.Client.Core.Framework.$6.$4N}));i=this;this.set_SearchCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2vA,105,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),"IsServerAvailable",function(){return!Microsoft.Crm.Client.Core.Framework.$6.$4N&&Microsoft.Crm.Client.Core.ViewModels.$a.$14U()}));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("CanGoBack",this.$$d_$2EK);this.$2EK(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),"BackButtonEnabled");Microsoft.Crm.Client.Core.ViewModels.$a.$B5()||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He);this.$lF();this.set_$2sN(1)},$2EK:function(n){var t=n;this.set_BackButtonEnabled(t.get_CanGoBack())},$He:function(){this.set_SearchButtonEnabled(this.$Ec.get_CanExecute())},$Ea:function(){this.$5g.remove_$6F(this.$nW);this.$5g.dispose();this.set_SiteMapViewModel(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(10)));this.$5g.set_DefinitionId("sitemap");this.$lF()},$lF:function(){if(this.$5g.add_$6F(this.$nW),this.$1dG){var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StartSiteMapViewModelInitialization",0);n.$5g.$2Z()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$lF,"Initialize SiteMap RootViewModel")}else Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StartSiteMapViewModelInitialization",0),this.$5g.$2Z();this.$5g.set_Visible(!1)},$1MC:function(){this.$5g.set_Visible(!1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Kg(null)},$2to:function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),n=new Microsoft.Crm.Client.Core.Commands.$2R(t,1);n.$1eW=!0;n.execute();n.dispose()},$2sk:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BackNavigation",1);var n=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("RequestClose"));n.execute();n.dispose()},$2vA:function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),n;if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$2U.$T6===2){var i=this,r=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$w4("LastUsedSearch").then(function(i){var r=i.$6b.value;n=r==="RelevanceSearch"&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4?new Microsoft.Crm.Client.Core.Commands.$2R(t,47):new Microsoft.Crm.Client.Core.Commands.$2R(t,26);n.execute();n.dispose()},function(){n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4?new Microsoft.Crm.Client.Core.Commands.$2R(t,47):new Microsoft.Crm.Client.Core.Commands.$2R(t,26);n.execute();n.dispose()})}else n=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$2U.$T6&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4?new Microsoft.Crm.Client.Core.Commands.$2R(t,47):new Microsoft.Crm.Client.Core.Commands.$2R(t,26),n.execute(),n.dispose()},$28b:function(){var r,u,f,n,t,s,i,e,o;Microsoft.Crm.Client.Core.ViewModels.$2g.$S6&&Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.get_Count()>0&&Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.clear();r=this.$5g.$H;for(u in r)f={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(f.value)&&(n=f.value,$0.$0(n.get_$1u())||n.get_$1u()==="dashboard"||(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.get_$1u()),t?(s=n.$1G,$0.$0(s)&&n.set_Label(t.$Ag),i={},i.LogicalName=n.get_$1u(),i.DisplayName=t.$1q,i.IsChildEntity=t.$G4,Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.add(i),!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(n.get_$1u(),1)&&Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)&&(e=n,e.set_Enabled(!1),e.set_Visible(!1))):Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)&&(o=n,o.set_Enabled(!1),o.set_Visible(!1))));Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("EndSiteMapViewModelInitialization",0)},$28c:function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("SiteMapVisible",this.$5g.$4u)},$Oh:function(){this.set_HomeCommand(null);this.set_BackCommand(null);this.set_SearchCommand(null);this.set_SiteMapViewModel(null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("CanGoBack",this.$$d_$2EK);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$KD=function(n,t){this.$$d_$28C=Function.createDelegate(this,this.$28C);this.$40=new Sys.EventHandlerList;this.dispose=this.$5E;this.$Cw=n;this.$Jf=t;this.$Cw.$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$28C)};Microsoft.Crm.Client.Core.ViewModels.$KD.prototype={$Jf:null,$Cw:null,$1Wl:!1,$13R:!1,$VH:null,$Jw:null,$1FG:null,add_PreNavigation:function(n){this.$40.addHandler("PreNavigate",n)},remove_PreNavigation:function(n){this.$40.removeHandler("PreNavigate",n)},add_PostNavigation:function(n){this.$40.addHandler("PostNavigate",n)},remove_PostNavigation:function(n){this.$40.removeHandler("PostNavigate",n)},$28C:function(n){var t=n.get_$1RF(),r,u,e,i,f,o;Xrm.Internal.clearOnXrmReadyEventHandlers();r=this.$40.getHandler("PreNavigate");$0.$0(r)||(u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationManager.OnNavigationCommand.PreHandler"),u.start(),r(this,new Microsoft.Crm.Client.Core.Framework.$NL(t,n.get_$HY())),u.stop());Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(this.$13R||t.$g!==40?this.$13R&&(this.$Jw=new Date,e=Math.floor((Date.parse(this.$Jw.toUTCString())-Date.parse(this.$VH.toUTCString()))/1e3),i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskLogFormTelemetryEvent"),i.$h("TimeSpentOnForm",e.toString()),i.$h("EntityName",this.$1FG.toString()),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i),t.$g===40?(this.$VH=new Date,this.$1FG=t.$D):this.$13R=!1):(this.$13R=!0,this.$VH=new Date,this.$1FG=t.$D));switch(n.get_$HY()){case 0:this.$2M9();break;case 1:case 2:case 4:this.$1hn(t);break;case 5:this.$31A(t)}Xrm.Internal.executeOnXrmReadyEventHandlers();f=this.$40.getHandler("PostNavigate");$0.$0(f)||(o=this,window.setTimeout(function(){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationManager.OnNavigationCommand.PostHandler");i.start();f(o,new Microsoft.Crm.Client.Core.Framework.$NL(t,n.get_$HY()));i.stop()},0))},$2Pw:function(n){for(var i=this.$Jf.get_ActiveNavigationStack().$1mk(),t=0;t<i.length;t+=1)if(n.isInstanceOfType(i[t]))return!0;return!1},$5E:function(){this.$Cw.$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$28C)},$2M9:function(){if(this.$Jf.get_ActiveNavigationStack().get_Count()>1||this.$1Wl&&this.$Jf.get_ActiveNavigationStack().get_Count()>0){var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationManager.Back");n.start();this.$Jf.$vL();n.stop()}},$1hn:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationManager.Open");if(t.start(),this.$Jf.get_ActiveNavigationStack().$10k(n))while(this.$Jf.get_Top()!==n)this.$Jf.$vL();else this.$Jf.$vT(n);t.stop()},$31A:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationManager.ReplaceTop");if(t.start(),this.$Jf.get_ActiveNavigationStack().$10k(n))while(this.$Jf.get_Top()!==n)this.$Jf.$vL();else this.$Jf.$2F1(n);t.stop()}};Microsoft.Crm.Client.Core.ViewModels.$a=function(){};Microsoft.Crm.Client.Core.ViewModels.$a.$G5=function(n){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?!0:Microsoft.Crm.Client.Core.ViewModels.$a.$HM(n)};Microsoft.Crm.Client.Core.ViewModels.$a.$2pX=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?!0:Microsoft.Crm.Client.Core.ViewModels.$a.$254(n,t)};Microsoft.Crm.Client.Core.ViewModels.$a.$254=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.$a.$HM(t)?!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$CC(2)):!0};Microsoft.Crm.Client.Core.ViewModels.$a.$14U=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Microsoft.Crm.Client.Core.ViewModels.$a.$B5()};Microsoft.Crm.Client.Core.ViewModels.$a.$2og=function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By&&!$0.$0(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG())&&"MobileClientOfflineWebResources"in Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG().MobileClientOfflineWebResources};Microsoft.Crm.Client.Core.ViewModels.$a.$HM=function(n){return Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&Xrm.Utility.isEntityOfflineSyncEnabled(n)};Microsoft.Crm.Client.Core.ViewModels.$a.$B5=function(){return Xrm.Utility.isMocaOfflineFeatureEnabled()&&Xrm.Utility.isAppOfflineSyncEnabled()};Microsoft.Crm.Client.Core.ViewModels.$a.$1eY=function(){return Xrm.Utility.isMocaOfflineFeatureEnabled()&&!Xrm.Utility.isAppOfflineSyncEnabled()&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a().$ff};Microsoft.Crm.Client.Core.ViewModels.$4P=function(){this.$$d_$2s5=Function.createDelegate(this,this.$2s5);this.$$d_$2kU=Function.createDelegate(this,this.$2kU);this.$$d_$28c=Function.createDelegate(this,this.$28c);this.$$d_$1MC=Function.createDelegate(this,this.$1MC);this.$$d_$28b=Function.createDelegate(this,this.$28b);this.get_NextTabIndex=this.get_$3Fm;this.set_NextTabIndex=this.set_$3Fm;this.get_StartIndex=this.get_$1Qi;this.set_StartIndex=this.set_$1Qi;this.get_TabSpaceReserved=this.get_$1mL;Microsoft.Crm.Client.Core.ViewModels.$4P.initializeBase(this);this.set_SiteMapViewModel(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(10)));this.$nW=this.$$d_$28b;this.set_$1Qi(20);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC)};Microsoft.Crm.Client.Core.ViewModels.$4P.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("InteractionCentricNavigationBarViewModel",Microsoft.Crm.Client.Core.ViewModels.$4P)};Microsoft.Crm.Client.Core.ViewModels.$4P.$1qY=function(){if(Microsoft.Crm.Client.Core.ViewModels.$4P.$2oi())return"http://go.microsoft.com/fwlink/p/?LinkID=616286&area=interactive_service_hub&user_lcid="+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di.toString();var n=Microsoft.Crm.Client.Core.Framework.$1T.$d("_helpUrl");return n+Microsoft.Crm.Client.Core.ViewModels.$4P.$2gj()};Microsoft.Crm.Client.Core.ViewModels.$4P.$2gj=function(){return"?area=interactive_service_hub&user_lcid="+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di.toString()};Microsoft.Crm.Client.Core.ViewModels.$4P.$2oi=function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.islive};Microsoft.Crm.Client.Core.ViewModels.$4P.prototype={$22u:"/OP/content/you_must_be_online.htm",$5g:null,$10j:null,$nW:null,$jA:null,$1Be:null,$14K:!1,$m8:null,get_HelpPageUrl:function(){return this.$22u},get_IsOpenedFormInCreateMode:function(){return this.$14K},get_SiteMapViewModel:function(){return this.$5g},set_SiteMapViewModel:function(n){return this.$5g!==n&&($0.$0(this.$5g)||(this.$5g.RemovePropertyChangedListener("Visible",this.$$d_$28c),this.$5g.dispose()),this.$5g=n,$0.$0(this.$5g)||this.$5g.AddPropertyChangedListener("Visible",this.$$d_$28c),this.$7("SiteMapViewModel")),n},$ii:null,get_NavBarUserInfoViewModel:function(){return this.$ii},set_NavBarUserInfoViewModel:function(n){return this.$ii=n,n},$ig:null,get_NavBarSearchViewModel:function(){return this.$ig},set_NavBarSearchViewModel:function(n){return this.$ig=n,n},$Vx:null,get_NavBarMruViewModel:function(){return this.$Vx},set_NavBarMruViewModel:function(n){return this.$Vx=n,n},$if:null,get_NavBarQuickCreateViewModel:function(){return this.$if},set_NavBarQuickCreateViewModel:function(n){return this.$if=n,n},$ih:null,get_NavBarSettingsViewModel:function(){return this.$ih},set_NavBarSettingsViewModel:function(n){return this.$ih=n,n},$ie:null,get_NavBarAssociatedViewModel:function(){return this.$ie},set_NavBarAssociatedViewModel:function(n){return this.$ie=n,n},get_ActiveArea:function(){return this.$jA},set_ActiveArea:function(n){return this.$jA!==n&&(this.$jA=n,this.$7("ActiveArea")),n},get_ActiveSubArea:function(){return this.$1Be},set_ActiveSubArea:function(n){return this.$1Be!==n&&(this.$1Be=n,this.$7("ActiveSubArea")),n},$d0:null,get_entityLevelMruList:function(){return this.$d0},set_entityLevelMruList:function(n){return this.$d0=n,n},$or:!1,get_IsCurrentEntityDataPopulated:function(){return this.$or},set_IsCurrentEntityDataPopulated:function(n){return this.$or=n,n},$Vk:null,get_CurrentEntityName:function(){return this.$Vk},set_CurrentEntityName:function(n){return this.$Vk=n,n},$oN:null,get_CurrentEntityId:function(){return this.$oN},set_CurrentEntityId:function(n){return this.$oN=n,n},$oO:null,get_CurrentEntityLogicalName:function(){return this.$oO},set_CurrentEntityLogicalName:function(n){return this.$oO=n,n},$y1:null,get_CurrrentEntityTypeCode:function(){return this.$y1},set_CurrrentEntityTypeCode:function(n){return this.$y1=n,n},getHelpButtonUrl:function(){return Microsoft.Crm.Client.Core.ViewModels.$4P.$1qY()},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1FP().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83,this.$$d_$2kU),this.$m8=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2s5,2007),Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||this.$lF(),this.$2mc(),this.$2mq(),this.$2mQ(),this.$2mR(),this.$2mS(),this.$2lz(),this.$d0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)))},$2kU:function(n){var u=n.$1Tm,r=u.$I.$a,i=null,t;$0.$0(Xrm.Page)||$0.$0(Xrm.Page.data)||$0.$0(Xrm.Page.data.entity)||$0.$0(Xrm.Page.data.entity.getId())?i="End by Discarding Event.":(t=Xrm.Page.data.entity.getId(),t=t.substring(1,t.length-1),t.toLowerCase()===r.get_identifier().toLowerCase()?(i="End by Consuming Event.",this.$1Mv(u)):i="End by Discarding Event as event is not for current Form.");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("UpdateRecordInNavBar",2007,{Entity:r.LogicalName,Id:r.get_identifier().toString()},i)},$2mc:function(){this.$ig=new Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel;this.$ig.$2Z()},$2mq:function(){this.$ii=new Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel;this.$ii.$2Z()},$2mQ:function(){this.$Vx=new Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel;this.$Vx.$2Z()},$2mR:function(){this.$if=new Microsoft.Crm.Client.Core.ViewModels.$DY;this.$if.$2Z()},$2mS:function(){this.$ih=new Microsoft.Crm.Client.Core.ViewModels.$DZ;this.$ih.$2Z()},$2lz:function(){this.$ie=new Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel;this.$ie.$2Z()},$lF:function(){this.$5g.add_$6F(this.$nW);var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StartSiteMapViewModelInitialization",0);n.$5g.$2Z()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$lF,"Initialize SiteMap RootViewModel");this.$5g.set_Visible(!1)},$36c:function(){var n=this,t=this;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$21Q().then(function(t){var f,o,s,h,c,l;try{if(!$0.$0(t)&&t.get_Count()>1){for(var u=t.get_Count(),r=t.get_$R(u-1),i=r.$15K;u>0;)if(r=t.get_$R(u-1),i=r.$15K,i===40||i===37||i===13)break;else u--;if(u===-1){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetAreaAndSubAreaForFirstLoad.GetPersistedNavigationStack",2007,{Message:"There was no item in Navigation stack of type InteractionCentricForm/GridForm/InteractionCentricWorkSpace. So exiting the function without setting area and sub area in Nav Bar"},"SetAreaAndSubAreaForFirstLoad");return}f=r.$15J;n.set_ActiveArea(n.$5g.$H.CS);i===40||i===13?(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(f),s=o.$9p,n.$2HA(s),i!==40||$0.$0(r.$UH)||(h=new Xrm.Objects.EntityReference(f,new Microsoft.Crm.Client.Core.Framework.Guid(r.$UH)),n.$2Hh(h))):i===37&&n.$1Po()}else n.set_ActiveArea(n.$5g.$H.CS),n.$1Po(),c=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq().toString(),Microsoft.Crm.Client.Core.ViewModels.$e.$1ka(c)}catch(e){l=Microsoft.Crm.Client.Core.Framework.$7.$1GB(e);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1fy("SetAreaAndSubAreaForFirstLoad.GetPersistedNavigationStack",2007,e,{Error:l.$20()},"SetAreaAndSubAreaForFirstLoadFailed");throw e;}},function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("SetAreaAndSubAreaForFirstLoad.GetPersistedNavigationStack",2007,{Error:n.$20()},"SetAreaAndSubAreaForFirstLoadFailed")})},$1Po:function(){var n=this.$jA.$H.MyWork,t=n.$H.nav_dashboards;this.set_ActiveSubArea(t)},$2HA:function(n){var f=this.$jA.$H,t,e,i,r,u;for(t in f){e={key:t,value:f[t]};i=e.value.$H;for(r in i)if(u={key:r,value:i[r]},u.value.$8s===n){this.set_ActiveSubArea(u.value);break}}},$3Aa:function(n){var t=null,i="",f=!1,e,r,u,o,s;!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"EntityReference"in n.$K.$M?(t=n.$K.$M.EntityReference,i=t.LogicalName):!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"ListDefinitionId"in n.$K.$M?i=n.$D:$0.$0(n.get_ModelContext())?$0.$0(n.$1W)||n.$1W.toUpperCase()!=="InteractionCentricWorkspace".toUpperCase()||(f=!0):(e=n.get_ModelContext(),t=e.get_$4m(),i=t.LogicalName);f?(s=this.$jA,this.$1Po()):(r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(i),$0.$0(r)||(u=r.$9p,r.get_$7g()&&(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i("activitypointer"),u=o.$9p),this.$2HA(u)))},$2Hh:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("UpdateRecordInNavBar",2007,{Entity:n.LogicalName,Id:n.get_identifier().toString()},"Start")},$1MC:function(n){this.$5g.set_Visible(!1);this.$14K=!1;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Kg(null);var t=n.get_$1RF();n.get_$HY()||Microsoft.Crm.Client.Core.ViewModels.$e.$17L(t,!0);n.get_$HY()&&n.get_$HY()!==1||this.$1nC(t)},$1nC:function(n){var i,r,t;this.set_ActiveArea(this.$5g.$H.CS);this.$3Aa(n);$0.$0(n.get_ModelContext())?!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"EntityReference"in n.$K.$M?(r=n.$K.$M.EntityReference,this.$2Hh(r)):!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"ListDefinitionId"in n.$K.$M?this.$1X2():Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)&&n.$6i===1?(this.$14K=!0,t=new Microsoft.Crm.Client.Core.ViewModels.$4D,this.$Vk=t.getInteractionCentricNewFormTitle(n.$D),this.$oN=n.$1P,this.$or=!0,t.dispose(),t=null,this.$7("NavigationHappened")):this.$1X2():(i=n.get_ModelContext(),this.$1Mv(i))},$1Mv:function(n){var t=n.$I.$a,r,i;t.LogicalName==="queueitem"&&!$0.$0(n.$I.fields.objectid)&&Xrm.Objects.EntityReference.isInstanceOfType(n.$I.fields.objectid)?(t=n.$I.fields.objectid,this.$Vk=t.Name):(r=Microsoft.Crm.Client.Core.ViewModels.$e.$21h(t),this.$Vk=n.$I.$Qx()[r]);this.$oO=t.LogicalName;this.$oN=t.Id.toString();this.$y1=t.TypeCode.toString();$0.$0(this.$Vk)&&(i=new Microsoft.Crm.Client.Core.ViewModels.$4D,this.$Vk=i.getInteractionCentricNewFormTitle(this.$oO),this.$14K=!0,i.dispose(),i=null);this.$or=!0;this.$7("NavigationHappened")},$1X2:function(){this.$oN="";this.$oO="";this.$y1="";this.$Vk="";this.$or=!1;this.$7("NavigationHappened")},getEntityColor:function(n){return Microsoft.Crm.Client.Core.ViewModels.$e.$1HN(n)},$28b:function(){var u,f,e,n,t,h,i,o,s,r;Microsoft.Crm.Client.Core.ViewModels.$2g.$S6&&Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.get_Count()>0&&Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.clear();u=this.$5g.$H;for(f in u)e={key:f,value:u[f]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(e.value)&&(n=e.value,$0.$0(n.get_$1u())||n.get_$1u()==="dashboard"||(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.get_$1u()),t?(h=n.$1G,$0.$0(h)&&n.set_Label(t.$Ag),i={},i.LogicalName=n.get_$1u(),i.DisplayName=t.$1q,i.IsChildEntity=t.$G4,Microsoft.Crm.Client.Core.ViewModels.$2g.$S6.add(i),!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(n.get_$1u(),1)&&Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)&&(o=n,o.set_Enabled(!1),o.set_Visible(!1))):Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)&&(s=n,s.set_Enabled(!1),s.set_Visible(!1))));Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("EndSiteMapViewModelInitialization",0);this.$2o4()?(r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),Microsoft.Crm.Client.Core.ViewModels.$e.$17L(r,!1),$0.$0(r)||this.$1nC(r)):this.$36c()},$2o4:function(){var n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$Rc(window.location.href);return!$0.$0(n)&&"pagetype"in n&&!$0.$0(n.pagetype)?!0:!1},$36a:function(n){this.set_ActiveArea(n);this.$7("ActiveArea")},fetchEntityLevelMruData:function(n){var t=this,i=this;this.$Vx.$2WQ(n.toString()).then(function(n){t.$d0.clear();t.$d0=n;t.$7("EntityLevelMruDataFetched")},function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("FetchEntityLevelMruData",2007,{Error:n.$20()},"FetchEntityLevelMruDataFailed")})},navigateToRecord:function(n){this.$Vx.navigateTo(n)},onSiteMapLogoClicked:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this,37);try{n.$x={};n.$x.IsNavigatingFromNavBar=!0;n.$1W=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq().toString();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("OnSiteMapLogoClicked",2007,{DashboardId:n.$1W},"SiteMapLogoClicked");n.execute()}finally{n.dispose()}},isNavBarOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$4L.getParamStatus("navbar")},$36b:function(n){this.set_ActiveSubArea(n);this.$7("ActiveSubArea")},$28c:function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("SiteMapVisible",this.$5g.$4u)},$2s5:function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),n=new Microsoft.Crm.Client.Core.Commands.$2R(t,37);try{n.$x={};n.$x.IsNavigatingFromNavBar=!1;n.$1W=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq().toString();n.execute();this.$1X2();this.$1Po()}finally{n.dispose()}},$Oh:function(){this.$5g.dispose();this.set_SiteMapViewModel(null);this.$ie.dispose();this.$ie=null;this.$Vx.dispose();this.$Vx=null;this.$if.dispose();this.$if=null;this.$ih.dispose();this.$ih=null;this.$ig.dispose();this.$ig=null;this.$ii.dispose();this.$ii=null;this.$d0.clear();this.$d0=null;$0.$0(this.$m8)||(this.$m8.dispose(),this.$m8=null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1FP().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83,this.$$d_$2kU);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},get_$3Fm:function(){return this.get_$1Qi()+this.get_$1mL()},set_$3Fm:function(n){return n},$Nf:0,get_$1Qi:function(){return this.$Nf},set_$1Qi:function(n){return this.$Nf=n,n},get_$1mL:function(){return 10}};Microsoft.Crm.Client.Core.ViewModels.$DY=function(){this.$$d_$28J=Function.createDelegate(this,this.$28J);this.$mw=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object));this.$LH=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object));Microsoft.Crm.Client.Core.ViewModels.$DY.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DY.prototype={populateActivityAndRecordEntities:function(){var r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarOpenQuickCreateListFlyout",0,this.get_ViewModelId()),t,i,n,u,f;if($0.$0(r)||(r.addParameter(this.$L),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("NavBarQuickCreateListFlyoutShown",0,this.get_ViewModelId())),this.$mw.clear(),this.$LH.clear(),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy(),!$0.$0(t))for(i=0;i<t.length;i++)if(n=t[i],!$0.$0(n)){if(n.$y==="activitypointer")continue;(!Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n.$KJ||Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n.$BW)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(n.$y,0)&&(n.get_$7g()?n.$9p!==4216&&(!n.$CW||n.$14P)&&this.$LH.add(n):n.$14P&&this.$mw.add(n))}u=this;this.$mw.sort(function(n,t){var i=n,r=t;return i.$y.localeCompare(r.$y)});f=this;this.$LH.sort(function(n,t){var i=n,r=t;return i.$y.localeCompare(r.$y)})},get_RecordEntities:function(){return this.$mw},get_ActivityEntities:function(){return this.$LH},navigateTo:function(n){var o=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarQuickCreateItems_Clicked",0,this.get_ViewModelId()),t,e,r,s,u;$0.$0(o)||o.addParameter(this.$L);var f=n,i=f.$y,h=new Xrm.Objects.EntityReference(i,f.$1P);if(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavbarQuickCreateViewModel.NavigateTo",2007,{Id:f.$1P,Entity:i},"NavigateToQuickCreateForm"),t={},$0.$0(t.ownerid)&&$0.$0(t.owneridname)&&$0.$0(t.owneridtype)&&(t.ownerid=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString(),t.owneridname=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$CD,t.owneridtype="systemuser"),e={InitializationParameters:t,InitializeFrom:2},i==="email")r=new Array(2),r[0]=i,r[1]=e,s=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s(r),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1FP().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s,s);else{u=new Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand(null,i,5,e);try{u.$J=this.$$d_$28J;u.execute()}finally{t=null;u.dispose()}}},getEntityName:function(n){var t=n;return t.$1q},getEntityColor:function(n){var t=n;return t.$kL},$28J:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();n.refreshWithoutScriptReload()},getEntityLogicalName:function(n){var t=n;return t.$y},$Oh:function(){this.$mw.clear();this.$mw=null;this.$LH.clear();this.$LH=null;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$DZ=function(){Microsoft.Crm.Client.Core.ViewModels.$DZ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$DZ.prototype={$27x:"http://go.microsoft.com/fwlink/?LinkID=521839",$28H:"http://go.microsoft.com/fwlink/?LinkID=521839",$1Un:"/about/default.aspx",get_AboutUrl:function(){return this.get_$3Bw()?String.format("/{0}{1}",this.get_$2wO(),this.$1Un):this.$1Un},get_ReturnPrivacyStatementUrl:function(){return this.$2nk()?this.$212(this.$27x):this.$212(this.$28H)},get_$2wO:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$gq()},get_$3Bw:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.usepathbasedurls},$2nk:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.islive},$212:function(n){return this.$21L()?n+"&clcid=0x"+this.$21L().toString(16):n},$21L:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di}};Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel.prototype={$1Uc:null,get_TileColor:function(){return this.$1Uc},set_TileColor:function(n){return this.$1Uc=n,n},$on:null,get_Icon:function(){return this.$on},set_Icon:function(n){return this.$on=n,n},$W6:null,get_ResourceId:function(){return this.$W6},set_ResourceId:function(n){return this.$W6=n,n},$WD:0,get_UnknownNodeCount:function(){return this.$WD},set_UnknownNodeCount:function(n){return this.$WD=n,n},$Vm:null,get_DescriptionResourceId:function(){return this.$Vm},set_DescriptionResourceId:function(n){return this.$Vm=n,n},get_TileIconURL:function(){var n="";switch(this.$1P){case"CS":n="Service";break;case"HLP":n="Help";break;default:n="Service"}return Microsoft.Crm.Client.Core.Framework.$3.$IY("/_imgs/NavBar/ActionImgs/NavTile_icon_{0}_85x71.png",n)},setActiveArea:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HK().$36a(this)},setActiveSubArea:function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HK().$36b(n)},navigateTo:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this,37);try{n.$x={};n.$x.IsNavigatingFromNavBar=!0;n.$1W=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq().toString();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateTo",2007,{DashboardId:n.$1W},"NavigateToDashboardFromNavBar");n.execute()}finally{n.dispose()}}};Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel.prototype={$2p:null,get_Id:function(){return this.$2p},set_Id:function(n){return this.$2p=n,n},$W6:null,get_ResourceId:function(){return this.$W6},set_ResourceId:function(n){return this.$W6=n,n},$WD:0,get_UnknownNodeCount:function(){return this.$WD},set_UnknownNodeCount:function(n){return this.$WD=n,n},$Vm:null,get_DescriptionResourceId:function(){return this.$Vm},set_DescriptionResourceId:function(n){return this.$Vm=n,n}};Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel.prototype={$2p:null,get_Id:function(){return this.$2p},set_Id:function(n){return this.$2p=n,n},$LE:null,get_Url:function(){return this.$LE},set_Url:function(n){return this.$LE=n,n},$on:null,get_Icon:function(){return this.$on},set_Icon:function(n){return this.$on=n,n},$iO:null,get_Entity:function(){return this.$iO},set_Entity:function(n){return this.$iO=n,n},$8s:0,get_EntityTypeCode:function(){return this.$8s},set_EntityTypeCode:function(n){return this.$8s=n,n},$9F:null,get_EntityLogicalName:function(){return this.$9F},set_EntityLogicalName:function(n){return this.$9F=n,n},$1Sy:null,get_EntityColor:function(){return this.$1Sy},set_EntityColor:function(n){return this.$1Sy=n,n},$Vm:null,get_DescriptionResourceId:function(){return this.$Vm},set_DescriptionResourceId:function(n){return this.$Vm=n,n},$W6:null,get_ResourceId:function(){return this.$W6},set_ResourceId:function(n){return this.$W6=n,n},$yd:null,get_ListDefinitionId:function(){return this.$yd},set_ListDefinitionId:function(n){return this.$yd=n,n},$1AO:!1,get_IsHelpSubAreaInSiteMap:function(){return this.$1AO},set_IsHelpSubAreaInSiteMap:function(n){return this.$1AO=n,n},$pA:0,get_NavigationType:function(){return this.$pA},set_NavigationType:function(n){return this.$pA=n,n},$Dw:null,get_Activities:function(){return this.$Dw},set_Activities:function(n){return this.$Dw=n,n},getUrlForSubAreaNode:function(){if(this.$1AO)return Microsoft.Crm.Client.Core.ViewModels.$4P.$1qY();if($0.$0(this.$LE)||!this.$LE.startsWith("/"))return this.$LE;this.$LE.startsWith("/$webresource:")&&(this.$LE=this.$LE.replace("/$webresource:","/WebResources/"));var n=this.$LE.startsWith("/nga")?Xrm.Page.context.getClientUrlForInteractioncentricDashboard():Xrm.Page.context.getClientUrl();return this.$LE=n+this.$LE,this.$LE},$WD:0,get_UnknownNodeCount:function(){return this.$WD},set_UnknownNodeCount:function(n){return this.$WD=n,n},navigateTo:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this,this.$pA);n.$x={};n.$x.IsNavigatingFromNavBar=!0;try{this.$pA===13?(n.$D=this.$9F,n.$x.ListDefinitionId=this.$yd,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarSubAreaViewModel.NavigateTo",2007,{Entity:this.$9F,Id:this.$yd},"NavigateToEntityGrid"),"activitypointer"===this.$9F&&(n.$x.Activities=this.$Dw)):this.$pA===37&&(n.$1W=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq().toString(),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarSubAreaViewModel.NavigateTo",2007,{Id:n.$1W},"NavigateToDashboard"));n.execute()}finally{n.dispose()}},IsUserPrivilegedForEntityRead:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$9F,1)?!0:!1}};Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavBarSearchViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel)};Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel.prototype={$6R:null,get_OpenSearchPageCommand:function(){return this.$6R},get_SearchButtonTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?30:-3e4},get_SearchButtonToolTip:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricNavBar_Search")},$2Z:function(){if(!this.$1a&&(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),$0.$0(this.$6R))){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1uL()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$1I.$R4?this.$6R=new Microsoft.Crm.Client.Core.Commands.$2R(n,47):(this.$6R=new Microsoft.Crm.Client.Core.Commands.$2R(n,26),this.$6R.$x={},this.$6R.$x.IsNavigatingFromNavBar=!0,this.$6R.$1W="searchPage")}},$Oh:function(){$0.$0(this.$6R)||(this.$6R.dispose(),this.$6R=null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel.prototype={get_OrgName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$gq()},get_ShouldShowSignoutCommand:function(){return!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.usepathbasedurls},get_UserName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$CD},SignoutUser:function(){var n=new Microsoft.Crm.Client.Core.Commands.SignOutCommand;try{n.$TE_2()}finally{n.dispose()}},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.set_Visible(!1))}};Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavBarMruViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel)};Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$26g=function(n,t){var i=new Microsoft.Crm.Client.Core.Commands.$2R(null,13);try{i.$x={};i.$D=t;i.$x.ListDefinitionId=n;i.$x.IsNavigatingFromNavBar=!0;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToView",2007,{Id:n,Entity:t},"NavigateToViewFromMru");i.execute()}finally{i.dispose()}};Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$1Lc=function(n,t){var r=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(n)),i=new Microsoft.Crm.Client.Core.Commands.$2R(null,40);try{i.$D=t;i.$x={};i.$x.EntityReference=r;i.$x.IsNavigatingFromNavBar=!0;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToRecord",2007,{Id:n,Entity:t},"NavigateToRecordFromMru");i.execute()}finally{i.dispose()}};Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.prototype={get_recentlyViewedItemList:function(){return Microsoft.Crm.Client.Core.ViewModels.$e.$yz},$2WQ:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarMruViewModel.FetchEntityLevelMruData",2007,{EntityTypeCode:n},"FetchEntityLevelMruData");var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object),Microsoft.Crm.Client.Core.Framework.$7),i="ICRV"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString(),r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$w4(i).then(function(r){var o,s,f,e,u,c;try{for(o=!1,n==="4200"&&(o=!0),s=JSON.parse(r.$6b[i]),f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),e=0;e<s.length;e++)u=Microsoft.Crm.Client.Core.ViewModels.$e.$1YB(s[e]),o?u.isActivity==="true"&&(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("NavBarMruViewModel.FetchEntityLevelMruData",2007,{Data:u},"FetchEntityLevelMruDataSuccess"),f.add(u)):(n==="0"&&u.isDashboard==="true"||n===u.entityTypeCode&&u.isGrid==="false")&&(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("NavBarMruViewModel.FetchEntityLevelMruData",2007,{Data:u},"FetchEntityLevelMruDataSuccess"),f.add(u));t.resolve(f)}catch(h){c=Microsoft.Crm.Client.Core.Framework.$7.$1GB(h);t.reject(c);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1fy("FetchEntityLevelMruData.RetrieveUserPersonalization",2007,h,{Error:c.$20()},"FetchEntityLevelMruDataFailed");throw h;}},function(n){t.reject(n);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("FetchEntityLevelMruData.RetrieveUserPersonalization",2007,{Error:n.$20()},"FetchEntityLevelMruDataFailed")}),t},fetchGlobalMruData:function(){var n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarMruButton_Clicked",0,this.get_ViewModelId());$0.$0(n)||n.addParameter(this.$L);var t="ICRV"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString(),i=this,r=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$w4(t).then(function(n){var u,r,f;for(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("NavBarMruDataLoad",0,i.get_ViewModelId()),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$AC()&&Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarMruShown")},-13,"NavBarMruViewModel.FetchGlobalMruData"),u=JSON.parse(n.$6b[t]),Microsoft.Crm.Client.Core.ViewModels.$e.$yz.clear(),r=0;r<u.length;r++)f=Microsoft.Crm.Client.Core.ViewModels.$e.$1YB(u[r]),Microsoft.Crm.Client.Core.ViewModels.$e.$yz.add(f),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarMruViewModel.FetchGlobalMruData",2007,{Data:f},"FetchGlobalMruDataSuccess");i.$7("DataFetched")},function(n){r.$7("DataFetched");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("FetchGlobalMruData.RetrieveUserPersonalization",2007,{Error:n.$20()},"FetchGlobalMruDataFailed")})},getEntityColor:function(n){return Microsoft.Crm.Client.Core.ViewModels.$e.$1HN(n)},$2s3:function(n){var t=new Microsoft.Crm.Client.Core.Commands.$2R(this,37);try{t.$x={};t.$x.IsNavigatingFromNavBar=!0;t.$1W=n.id;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToDashboard",2007,{Id:t.$1W},"NavigateToDashboardFromMru");t.execute()}finally{t.dispose()}},navigateTo:function(n){var r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarMruItems_Clicked",0,this.get_ViewModelId()),t,i;if($0.$0(r)||r.addParameter(this.$L),n.isDashboard==="true")this.$2s3(n);else if(n.isDashboard==="false"){t=n.entityName;i=n.id;switch(n.isGrid){case"true":Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$26g(i,t,n);break;case"false":Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$1Lc(i,t,n);break;default:return}}}};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavBarAssociatedViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel)};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel.prototype={$dN:null,get_RelationshipMetadataDictionary:function(){return this.$dN},set_RelationshipMetadataDictionary:function(n){return this.$dN=n,n},$iZ:!1,get_IsRelationshipsPresent:function(){return this.$iZ},set_IsRelationshipsPresent:function(n){return this.$iZ=n,n},$1Aj:0,get_NumberOfRecords:function(){return this.$1Aj},set_NumberOfRecords:function(n){return this.$1Aj=n,n},$yk:null,get_NavBarAssociatedItemsViewModels:function(){return this.$yk},set_NavBarAssociatedItemsViewModels:function(n){return this.$yk=n,n},RetrieveAssociatedViewModelFromRootViewModel:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),t=null;!$0.$0(n)&&"InteractionCentricRelationships"in n.$H&&(t=n.$H.InteractionCentricRelationships);this.$2QL(t)},$2QL:function(n){$0.$0(n)?(this.$iZ=!1,this.$dN=null,this.set_$GO(null),this.set_ModelContext(null),this.$2i=null):(this.$iZ=n.$iZ,this.$dN=n.$dN,this.set_$GO(n.$2),this.set_ModelContext(n.get_ModelContext()),this.$2i=n.$2i)},GenerateAssociatedItems:function(){var e=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("NavBarAssociatedViewButton_Clicked",0,this.get_ViewModelId()),i,r,t,n,u,f;if($0.$0(e)||(e.addParameter(this.$L),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("NavBarAssociatedViewShown",0,this.get_ViewModelId())),i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavBarAssociatedView_DataRetrieve"),i.start(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel)),this.$iZ)for(t=0;t<this.$dN.length;++t)if(n=this.$dN[t],!$0.$0(n.DisplayName)){u=-1;$0.$0(n.RelationshipType)||(u=n.RelationshipType);f=-1;$0.$0(n.RelationshipRoleOrdinal)||(f=n.RelationshipRoleOrdinal);var o=n.DefinitionId,s=n.TargetEntityName,h=n.ContextFilter,c=n.DisplayName,l=n.RelationshipName,a=n.RelationshipExtraCondition,v=n.ReferencingName,y=new Microsoft.Crm.Client.Core.Models.AssociatedViewItemData(null,new Microsoft.Crm.Client.Core.Framework.Guid(o),s,h,c,l,u,a,v,f);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarAssociatedViewModel.GenerateAssociatedItems",2007,{Id:t,DefinitionId:o,TargetEntityName:s,ContextFilter:h,DisplayName:c,RelationshipName:l,RelationshipExtraCondition:a,RelationshipType:u.toString(),ReferencingName:v,RelationshipRoleOrdinal:f.toString()},"GenerateAssociatedItems");r.add(this.$2Qi(t.toString(),y))}this.$1Aj=r.get_Count();this.$yk=r.toArray();i.stop();i.addParameter(this.get_ViewModelId())},$2Qi:function(n,t){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarAssociatedViewModel.CreateAssociatedViewItemViewModel",2007,{Id:n,DefinitionId:t.$oV.toString(),TargetEntityName:t.$dW,ContextFilter:t.$pU,DisplayName:t.$3y,RelationshipName:t.$Eh,RelationshipExtraCondition:t.$iu,RelationshipType:t.$5T.toString(),ReferencingName:t.$it,RelationshipRoleOrdinal:t.$9A.toString()},"CreateAssociatedViewItemViewModel");var i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("NavBarAssociatedItemViewModel","NavBarAssociatedItem",n,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("RecordId",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("AssociatedViewData",t)],null,null,null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiDescriptor(24,null,"NavBarItem"),null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(i,this.get_ModelContext(),this.$2i,this.$2)}};Microsoft.Crm.Client.Core.ViewModels.$CS=function(){Microsoft.Crm.Client.Core.ViewModels.$CS.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$CS.prototype={$5f:"",$1KC:!1,$sf:!1,get_SearchText:function(){return this.$5f},set_SearchText:function(n){return this.$5f!==n&&(this.$5f=n,this.$sf=!0,this.$7("SearchText")),n},get_IsSearchBlocked:function(){return this.$1KC},set_IsSearchBlocked:function(n){return this.$1KC!==n&&(this.$1KC=n),n},get_HasTextChanged:function(){return this.$sf},set_HasTextChanged:function(n){return this.$sf!==n&&(this.$sf=n),n},$iS:null,get_FilterBarId:function(){return this.$iS},set_FilterBarId:function(n){return this.$iS=n,n},RefreshData:function(){this.$1Og()},$1Og:function(){var t,i,n;"InteractionCentricFormBody"in this.$2.$H?(t=this.$2.$H.InteractionCentricFormBody,"InteractionCentricGrid0"in t.$H?this.$1CG():"AssociatedGrid0"in t.$H&&this.$1CG()):"GridContainer"in this.$2.$H?(i=this.$2.$H.GridContainer,n=i.$H.Grid,n.$Cm||n.DeselectAllRecords(),n.$Kn=this.$5f,n.$tF=!0,this.$1CG()):Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)&&this.$1CG()},$d4:null,get_GridPrimaryAttributeName:function(){return this.$d4},set_GridPrimaryAttributeName:function(n){return this.$d4=n,n},$1CG:function(){var t=this.$d4,n=this.$5f,i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,t),r;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()||(n=n.replace(new RegExp("\\*","gi"),"%"),n=String.format("{0}%",n),i.$Bl(t,"like",n));r=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81(this.$iS,i.$9V(),n);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81,r)}};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavBarAssociatedItemViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel.prototype={associatedViewData:null,get_AssociatedViewData:function(){return this.associatedViewData},set_AssociatedViewData:function(n){return this.associatedViewData=n,this.set_Label(this.associatedViewData.$3y),n},OpenItem:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Z5&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().get_$24T()){var n=this;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$2XI(this).done(function(t){t&&(n.$2HT(),n.$2AR())})}else this.$2HT(),this.$2AR()},$2HT:function(){var t;if("InteractionCentricFormBody"in this.$2.$H&&(t=this.$2.$H.InteractionCentricFormBody,"AssociatedGrid0"in t.$H)){var n=t.$H.AssociatedGrid0,i=this.associatedViewData.$oV,r=i.toString()!==n.get_DefinitionId();r&&n.$2Ow();n.$88=this.associatedViewData.$pU;$0.$0(this.associatedViewData.$iu)||(n.$Bf=this.associatedViewData.$iu);$0.$0(this.associatedViewData.$Eh)||(n.$52=this.associatedViewData.$Eh);this.associatedViewData.$5T>=0&&(n.$5T=this.associatedViewData.$5T);$0.$0(this.associatedViewData.$it)||(n.$6c=this.associatedViewData.$it);this.associatedViewData.$9A>=0&&(n.$9A=this.associatedViewData.$9A);n.set_PrimaryModelName(this.associatedViewData.$dW);n.set_DefinitionId(i.toString());Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavBarAssociatedItemViewModel.OpenItem",2007,{DefinitionId:n.get_DefinitionId(),TargetEntityName:n.$D,ContextFilter:n.$88,DisplayName:this.associatedViewData.$3y,RelationshipName:n.$52,RelationshipExtraCondition:n.$Bf,RelationshipType:n.$5T.toString(),ReferencingName:n.$6c,RelationshipRoleOrdinal:n.$9A.toString()},"OpenAssociatedGrid")}},$2AR:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v("AssociatedGrid0");this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,n)},getEntityColor:function(n){return Microsoft.Crm.Client.Core.ViewModels.$e.$1HN(n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager=function(){this.$$d_$2sB=Function.createDelegate(this,this.$2sB);this.$40=[];this.$O4=null};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$1cL=function(n){switch(n){case 0:return"Back";case 1:return"Open";default:return"Other"}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$C)&&(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$C=new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$C};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.prototype={$40:null,$O4:null,$h8:null,AddHandler:function(n){return $0.$0(n)?!1:(Array.add(this.$40,n),!0)},RemoveHandler:function(n){return $0.$0(n)?!1:Array.remove(this.$40,n)},get_$24T:function(){return this.$40.length<=0?!1:!0},$2sB:function(n){this.$h8.resolve(n)},$38A:function(n){var t=!1;return this.get_$24T()?($0.$0(n)||(t=n.get_$HY()?n.get_$HY()===1?!0:!1:!0),t):!1},$2XI:function(n){var t,i;if(this.$h8=MscrmComponents.DeferredPromiseFactory(Boolean,Error),this.$O4=this.$2RV("BeforeNavigate",n,this.$$d_$2sB),$0.$0(this.$O4))this.$h8.resolve(!0);else for(t=0;t<this.$40.length;++t)i=this.$40[t],i&&i.call(this,this.$O4);return this.$h8},$2XH:function(n){var t,i;if(this.$h8=MscrmComponents.DeferredPromiseFactory(Boolean,Error),this.$O4=this.$2RU("BeforeNavigate",n,this.$$d_$2sB),$0.$0(this.$O4))this.$h8.resolve(!0);else for(t=0;t<this.$40.length;++t)i=this.$40[t],i&&i.call(this,this.$O4);return this.$h8},$1a7:function(n){var t,i,r;if(!$0.$0(this.$O4)&&this.$40.length>0&&this.$2OC(this.$O4,n)){for(t=this.$O4,t.EventType="PageLoadComplete",t.DoneCallback=null,i=0;i<this.$40.length;++i)r=this.$40[i],r&&r.call(this,t);this.$O4=null}},$2OC:function(n,t){if($0.$0(n)||$0.$0(t))return!1;var i=this.$1vr(t);return"TargetId"in n&&!$0.$0(n.TargetId)&&n.TargetId.toString().toLowerCase()===i.toLowerCase()?!0:!1},$1tH:function(n,t,i,r,u,f,e,o){var s={};return s.EventType=n,s.NavigationType=Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$1cL(1),s.DoneCallback=i,s.TargetUrl=r,s.TargetId=u,s.TargetName=f,s.TargetType="INTERACTIONCENTRICFORM",s.IsNavigatingFromNavBar=o,s},$2RV:function(n,t,i){var r,c,l;if($0.$0(t))return null;var f="",s="",e="",h="",o="",a=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$mX,v=this.$1zx(),u=t.get_ModelContext();return $0.$0(u)||($0.$0(u.get_$2m())||(f=u.get_$2m()),$0.$0(u.get_$HV())||(o=u.get_$HV())),r=t.associatedViewData,$0.$0(r)||($0.$0(r.$dW)||(s=r.$dW),$0.$0(r.$Eh)||(e=r.$Eh)),o!==""&&f!==""&&e!==""&&(h=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricform&etn={2}&id={3}&tabset={4}",v,a,o,f,e)),c=Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$1cL(1),l=this.$1tH(n,c,i,h,f,s,"INTERACTIONCENTRICFORM",!0),l},$2RU:function(n,t,i){var r,v,l,e;if($0.$0(t))return null;var o="",u="",f="",s="",a=!1,y=Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$1cL(t.get_$HY()),h=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$mX,c=this.$1zx();if(Microsoft.Crm.Client.Core.Commands.$2R.isInstanceOfType(t))r=t,!$0.$0(r.$x)&&"IsNavigatingFromNavBar"in r.$x&&(a=r.$x.IsNavigatingFromNavBar),r.$J1===40?(f=r.$D,s="INTERACTIONCENTRICFORM",$0.$0(r.$x)||("EntityReference"in r.$x&&!$0.$0(r.$x.EntityReference)?(v=r.$x.EntityReference,u=v.get_identifier()):"SourceId"in r.$x&&!$0.$0(r.$x.SourceId)&&(u=r.$x.SourceId),o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricform&etn={2}&id={3}",c,h,f,u))):r.$J1===37?(u=r.$1W,s="INTERACTIONCENTRICWORKSPACE",f=null,o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricdashboard&id={2}",c,h,u)):r.$J1===13&&(f=r.$D,s="GRIDFORM","ListDefinitionId"in r.$x&&!$0.$0(r.$x.ListDefinitionId)&&(u=r.$x.ListDefinitionId.toString()),o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=view&etn={2}&id={3}",c,h,f,u));else if(Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.isInstanceOfType(t))if(l=t,l.$Jk===40)u="",f=l.$D,s="INTERACTIONCENTRICFORM",o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=create&etn={2}",c,h,f);else return null;else if(Microsoft.Crm.Client.Core.Commands.NavigationCommand.isInstanceOfType(t)&&!$0.$0(t.get_$1RF()))e=t.get_$1RF(),u=this.$1vr(e),f=e.$D,e.$g===13?(s="GRIDFORM",o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=view&etn={2}&id={3}",c,h,f,u)):e.$g===37?(s="INTERACTIONCENTRICWORKSPACE",o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricdashboard&id={2}",c,h,u)):e.$g===40&&e.$6i===2?(s="INTERACTIONCENTRICFORM",o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=interactioncentricform&etn={2}&id={3}",c,h,e.$D,u)):e.$g===40&&e.$6i===1&&(s="INTERACTIONCENTRICFORM",o=String.format("{0}/nga/engagementhub.aspx?org={1}&pagetype=create&etn={2}",c,h,f),u="");else return null;return this.$1tH(n,y,i,o,u,f,s,a)},$1vr:function(n){var t="";switch(n.$g){case 13:!$0.$0(n.$K)&&!$0.$0(n.$K)&&"ListDefinitionId"in n.$K.$M&&(t=n.$K.$M.ListDefinitionId);break;case 37:t=n.$q;break;case 40:n.$6i===2?$0.$0(n.$12t())||(t=n.$12t().get_$4m()):n.$6i===1&&(t="")}return t},$1zx:function(){var n=window.location.href,t=n.indexOf(window.location.pathname);return n.substring(0,t)}};Microsoft.Crm.Client.Core.ViewModels.$SU=function(n){Microsoft.Crm.Client.Core.ViewModels.$SU.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.$SU.prototype={$Hj:null,get_RequestCloseCommand:function(){return this.$Hj},set_RequestCloseCommand:function(n){return this.$Hj!==n&&($0.$0(this.$Hj)||(this.$Hj.dispose(),this.$Hj=null),this.$Hj=n,this.$7("RequestCloseCommand")),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$2Z.call(this);$0.$0(this.$Hj)&&this.set_RequestCloseCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("RequestClose")))},$Oh:function(){this.set_RequestCloseCommand(null);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$e=function(){};Microsoft.Crm.Client.Core.ViewModels.$e.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$e.$Q0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.$e.$yz=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object))};Microsoft.Crm.Client.Core.ViewModels.$e.$21h=function(n){var i=n.LogicalName,r=Microsoft.Crm.Client.Core.ViewModels.$e.$1e9(n),t="";if(r)t="subject";else if(Microsoft.Crm.Client.Core.ViewModels.$e.$246(n))t="new_name";else switch(i){case"incident":t="title";break;case"account":t="name";break;case"contact":t="fullname";break;case"socialprofile":t="profilename";break;case"knowledgearticle":t="title";break;case"knowledgearticleincident":t="name";break;case"knowledgearticleviews":t="name";break;case"languagelocale":t="name"}return t};Microsoft.Crm.Client.Core.ViewModels.$e.$2f1=function(n){var r=n.LogicalName,u=Microsoft.Crm.Client.Core.ViewModels.$e.$1e9(n),t="",i="";if(u)t="activityid",i="subject";else if(Microsoft.Crm.Client.Core.ViewModels.$e.$246(n))t=n.LogicalName+"id",i="new_name";else switch(r){case"incident":t="incidentid";i="title";break;case"account":t="accountid";i="name";break;case"contact":t="contactid";i="fullname";break;case"socialprofile":t="socialprofileid";i="profilename";break;case"knowledgearticle":t="knowledgearticleid";i="title";break;case"languagelocale":t="languagelocaleid";i="name"}return[t,i]};Microsoft.Crm.Client.Core.ViewModels.$e.$246=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.LogicalName);return t.$CW};Microsoft.Crm.Client.Core.ViewModels.$e.$1e9=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.LogicalName);return t.get_$7g()};Microsoft.Crm.Client.Core.ViewModels.$e.$1YC=function(n){var t=n.$I.$a,i,u,e,o,s,h;t.LogicalName==="queueitem"&&!$0.$0(n.$I.fields.objectid)&&Xrm.Objects.EntityReference.isInstanceOfType(n.$I.fields.objectid)?(t=n.$I.fields.objectid,i=t.Name):(u=Microsoft.Crm.Client.Core.ViewModels.$e.$21h(t),i=n.$I.$Qx()[u]);var c=t.Id.toString(),r=t.LogicalName,f=t.TypeCode.toString();return $0.$0(i)?null:(e="false",o="false",r==="activitypointer"&&(r=n.$I.$Qx().activitytypecode,s=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r),f=s.$9p.toString()),h=c+";"+i+";"+r+";"+e+";"+f+";"+o+";",h+(Microsoft.Crm.Client.Core.ViewModels.$e.$1e9(t)?"true;\n":"false;\n"))};Microsoft.Crm.Client.Core.ViewModels.$e.$342=function(n){var t=n.$K.$M.EntityReference,i,s;if(t.LogicalName!=="annotation"){var h=Microsoft.Crm.Client.Core.ViewModels.$e.$2f1(t),f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(t.LogicalName),e=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"MRUEntityFilterExpression");e.$Bl(f.$4Y,"eq",t.get_$4m().toString());i=null;for(var o=h,c=o.length,r=0;r<c;++r)s=o[r],i+="<attribute name='"+s+"'/>";var l="<fetch mapping='logical' version='1.0'>\r\n\t\t\t\t\t\t\t\t\t<entity name='"+t.LogicalName+"'>"+i+e.$9V()+"<\/entity>\r\n\t\t\t\t\t\t\t\t<\/fetch>",a=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(l),u=Microsoft.Crm.Client.Core.ViewModels.$e.$1De(a,f);Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(u,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1()),Microsoft.Crm.Client.Core.Framework.$q.$4t("","RecentlyViewedItems")).then(function(n){if(n.get_count()>0){var t=Microsoft.Crm.Client.Core.Models.$c.$2TO(n.get_$R(0)),i=Microsoft.Crm.Client.Core.ViewModels.$e.$1YC(t);$0.$0(i)||Microsoft.Crm.Client.Core.ViewModels.$e.$w8(i);u=null;t.$5E()}},function(n){u=null;Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Multiple Failed for "+t.LogicalName+" in RecentlyViewedItems with error : {0}",n.$F)})},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$QP,"RecentlyViewedItems")}};Microsoft.Crm.Client.Core.ViewModels.$e.$1De=function(n,t){var i=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(n,"InteractionCentricMRU");return i.$4b=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([t.$4Y]),i.$KX=!0,i.set_$Ra(1),i.$4W=20,i};Microsoft.Crm.Client.Core.ViewModels.$e.$343=function(n){var i=n.get_ModelContext(),t;i.$I.$a.LogicalName!=="annotation"&&(t=Microsoft.Crm.Client.Core.ViewModels.$e.$1YC(i),$0.$0(t)||Microsoft.Crm.Client.Core.ViewModels.$e.$w8(t))};Microsoft.Crm.Client.Core.ViewModels.$e.$17L=function(n,t){var i,u,e;if(!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"EntityReference"in n.$K.$M)Microsoft.Crm.Client.Core.ViewModels.$e.$342(n);else if(!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"ListDefinitionId"in n.$K.$M){if(i=n.$K.$M.ListDefinitionId,n.$1W.toUpperCase()==="InteractionCentricWorkspace".toUpperCase())Microsoft.Crm.Client.Core.ViewModels.$e.$1ka(i);else if(t)for(var f=Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.get_Items(),o=f.length,r=0;r<o;++r)if(u=f[r],e=u.split(";")[0],i===e){Microsoft.Crm.Client.Core.ViewModels.$e.$w8(u);break}}else $0.$0(n.get_ModelContext())?$0.$0(n.$1W)||n.$1W.toUpperCase()!=="InteractionCentricWorkspace".toUpperCase()||Microsoft.Crm.Client.Core.ViewModels.$e.$1ka(n.$q):Microsoft.Crm.Client.Core.ViewModels.$e.$343(n)};Microsoft.Crm.Client.Core.ViewModels.$e.$1V9=function(n){if(n.$I.$a.LogicalName!=="annotation"){var t=Microsoft.Crm.Client.Core.ViewModels.$e.$1YC(n);$0.$0(t)||Microsoft.Crm.Client.Core.ViewModels.$e.$w8(t)}};Microsoft.Crm.Client.Core.ViewModels.$e.$2BG=function(n){for(var r,f,t,e=n.Id.toString(),u=Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.get_Items(),o=u.length,i=0;i<o;++i)if(r=u[i],f=r.split(";")[0],f===e){Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.remove(r);t={};t[Microsoft.Crm.Client.Core.ViewModels.$e.$I5]=JSON.stringify(Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.get_Items());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1E6(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A(Microsoft.Crm.Client.Core.ViewModels.$e.$I5,t)).then(function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RemoveDeletedRecord.CreateUserPersonalization",2007,{Key:Microsoft.Crm.Client.Core.ViewModels.$e.$I5,MruData:t},"UpdateMruDataAfterRecordDeletion")},function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("RemoveDeletedRecord.CreateUserPersonalization",2007,{Key:Microsoft.Crm.Client.Core.ViewModels.$e.$I5,Error:n.$20()},"UpdateMruDataAfterRecordDeletion")});return}};Microsoft.Crm.Client.Core.ViewModels.$e.$1ka=function(n){var t=new Xrm.Objects.EntityReference("systemform",new Microsoft.Crm.Client.Core.Framework.Guid(n)),i=Microsoft.Crm.Client.Core.Framework.$q.$4t("ICRV","ICRV");Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(t,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["name"]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$1gD(),i).then(function(n){var t=Microsoft.Crm.Client.Core.Models.$c.$X(n),i=t.$I.$a.Id.toString(),r=t.$I.$Qx().name,u=i+";"+r+";;false;;true;false;\n";Microsoft.Crm.Client.Core.ViewModels.$e.$w8(u);t.$5E()},function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("SaveDashboardData.Retrieve",2007,{Key:Microsoft.Crm.Client.Core.ViewModels.$e.$I5,Error:n.$20()},"RetrieveWhileSavingDashbaordData")})};Microsoft.Crm.Client.Core.ViewModels.$e.$1kb=function(n,t,i){var r=n,u=t,f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(i),e=f.$9p.toString(),o=r+";"+u+";"+i+";true;"+e+";false;false;\n";Microsoft.Crm.Client.Core.ViewModels.$e.$w8(o)};Microsoft.Crm.Client.Core.ViewModels.$e.$1YB=function(n){var i=n.split(";"),t={},r;return t.id=i[0],r=i[1],t.title=r,t.entityName=i[2],t.isGrid=i[3],t.entityTypeCode=i[4],t.isDashboard=i[5],t.isActivity=i[6],t};Microsoft.Crm.Client.Core.ViewModels.$e.$w8=function(n){var t,i;Microsoft.Crm.Client.Core.ViewModels.$e.$I5="ICRV"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString();Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.contains(n)?(Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.remove(n),Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.insert(0,n)):Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.insert(0,n);t={};t[Microsoft.Crm.Client.Core.ViewModels.$e.$I5]=JSON.stringify(Microsoft.Crm.Client.Core.ViewModels.$e.$Q0.get_Items());i=Microsoft.Crm.Client.Core.ViewModels.$e.$1YB(n);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1E6(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A(Microsoft.Crm.Client.Core.ViewModels.$e.$I5,t)).then(function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SaveData",2007,{Key:Microsoft.Crm.Client.Core.ViewModels.$e.$I5,MruData:i},"SaveMruDataSuccess")},function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z("SaveData",2007,{Key:Microsoft.Crm.Client.Core.ViewModels.$e.$I5,MruData:i,Error:n.$20()},"SaveMruDataFailed")})};Microsoft.Crm.Client.Core.ViewModels.$e.$1HN=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?null:t.$kL};Microsoft.Crm.Client.Core.ViewModels.$k=function(){};Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz=function(){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1())};Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq=function(){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,2,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1())};Microsoft.Crm.Client.Core.ViewModels.$k.get_$1gD=function(){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,0,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1())};Microsoft.Crm.Client.Core.ViewModels.$k.get_$aC=function(){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(2,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1())};Microsoft.Crm.Client.Core.ViewModels.RootViewModel=function(n,t){this.$$d_$1gR=Function.createDelegate(this,this.$1gR);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$Rr=Function.createDelegate(this,this.$Rr);this.$$d_$15c=Function.createDelegate(this,this.$15c);this.$$d_$gl=Function.createDelegate(this,this.$gl);this.$Jn=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(String));this.$qS={};this.get_componentType=this.get_ComponentType;this.get_definitionId=this.get_DefinitionId;this.set_definitionId=this.set_DefinitionId;this.get_sourceId=this.get_$38o;this.set_sourceId=this.set_$38o;this.get_applicationMetadataType=this.get_$1C9;this.set_applicationMetadataType=this.set_$1C9;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.initializeBase(this);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeInitializeStart",1,this.get_ViewModelId());this.$14G=!0;this.$2i=this;this.set_$GO(this);this.$9R=!1;this.$17z=!1;this.$181="";this.$IZ=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.ViewModels.$8J.getName());this.$IZ.$2Z();this.$xF=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.$Ec));this.$g=n;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$2FH(n)&&!t&&(this.$1Me=new Microsoft.Crm.Client.Core.Framework.$6I(this),Microsoft.Crm.Client.Core.Framework.Scheduler.set_$1pR(!1));this.$Ee={}};Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1Hp=function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?"InteractionCentricWorkspace".toUpperCase():"Workspace".toUpperCase()};Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1KP=function(n){return n===1||n===37};Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$2FH=function(n){switch(n){case 10:case 14:case 38:return!1;default:return!0}};Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype={$g:0,$6i:0,refreshCommand:null,$5o:null,$Ig:null,$t:0,$1W:null,$15C:null,$RB:null,$K:null,$5k:null,$8e:null,$14D:!1,$9a:1,$tv:null,$xF:null,$1Jq:!1,$q:null,$1fK:null,$14L:!1,$IZ:null,$sh:null,$9R:!1,$14X:!1,$14O:!1,$1EI:null,$lM:!1,$1e7:!1,$1Me:null,$Ee:null,$17z:!1,$181:null,$YN:null,$mb:0,$1K4:!1,$Cb:null,$6b:null,$lL:!1,$1fQ:0,$1dg:null,$cy:null,get_DefaultFormTabViaURL:function(){return this.$cy},set_DefaultFormTabViaURL:function(n){return this.$cy=n,n},get_EventHandler:function(){return this.$YN||(this.$YN=new Microsoft.Crm.Client.Core.Framework.$CO),this.$YN},add_$6F:function(n){this.$1p("OnDefinitionRetrieveCompleted",n)},remove_$6F:function(n){this.$32("OnDefinitionRetrieveCompleted",n)},add_$FD:function(n){this.$1p("OnLoadModelCompleted",n)},remove_$FD:function(n){this.$32("OnLoadModelCompleted",n)},add_$P1:function(n){this.$1p("OnRootViewActivated",n)},remove_$P1:function(n){this.$32("OnRootViewActivated",n)},add_$gn:function(n){this.$1p("OnRootViewDeactivated",n)},remove_$gn:function(n){this.$32("OnRootViewDeactivated",n)},add_PreNavigation:function(n){this.$1p("RootPreNavigation",n)},remove_PreNavigation:function(n){this.$32("RootPreNavigation",n)},add_$1j7:function(n){this.$1p("RecordSaved",n)},$Sg:!1,get_RootViewActivated:function(){return this.$Sg},set_RootViewActivated:function(n){return this.$Sg=n,n},get_GetDefinitionProvider:function(){return this.$5o},set_GetDefinitionProvider:function(n){return this.$5o=n,n},get_GetModelActionProvider:function(){return this.$Ig},set_GetModelActionProvider:function(n){return this.$g===40&&this.$6i===1?this.$Ig=null:this.$2EP(n),n},get_ComponentType:function(){return this.$g},get_FormMode:function(){return this.$6i},set_FormMode:function(n){return this.$6i=n,n},get_ComponentTypeName:function(){return Microsoft.Crm.Client.Core.Framework.$1.toString(this.$g)},get_DefinitionId:function(){return this.$1W},set_DefinitionId:function(n){if(this.$1a)throw Error.invalidOperation("The DefinitionId property can only be set before initialize.");return this.$1W=n,n},get_$38o:function(){return this.$q},set_$38o:function(n){return this.$q=n,n},get_IsHomepage:function(){return this.$9R},set_IsHomepage:function(n){return this.$9R=n,n},get_IsSystemDashboard:function(){return this.$14X},set_IsSystemDashboard:function(n){return this.$14X=n,n},get_IsPowerBIDashboard:function(){return this.$14O},set_IsPowerBIDashboard:function(n){return this.$14O=n,n},get_DashboardName:function(){return this.$1EI},set_DashboardName:function(n){return this.$1EI=n,n},get_$1C9:function(){return this.$9a},set_$1C9:function(n){return this.$9a=n,n},get_ExternalContext:function(){return this.$K},set_ExternalContext:function(n){return this.$K!==n&&(this.$K=n,this.$7("ExternalContext")),n},get_FormNotifications:function(){return this.$IZ},get_SiteMapButtonTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?10:-3e4},get_ModelContext:function(){return Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.get_ModelContext.call(this)},set_ModelContext:function(n){var t,i;return Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.get_ModelContext.call(this)!==n&&(Sys.IDisposable.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.get_ModelContext.call(this))&&Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.get_ModelContext.call(this).dispose(),Microsoft.Crm.Client.Core.Models.ICloneableModel.isInstanceOfType(n)?(t=n,t.get_$13Q()?(i=t.$87(),i.set_$13Q(!0),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.set_ModelContext.call(this,i)):(t.set_$13Q(!0),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.set_ModelContext.call(this,t)),this.$7("ModelContext")):Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.set_ModelContext.call(this,n)),n},get_HiddenDataFieldNames:function(){return this.$sh},set_HiddenDataFieldNames:function(n){return this.$sh=n,n},set_$2o7:function(n){return this.$lM!==n&&(this.$lM=n,Microsoft.Crm.Client.Core.Framework.Scheduler.set_$1pR(n),this.$7("IsFullyLoaded"),this.$rl(),this.$23U(),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Z5&&this.$lM&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$1a7(this)),n},get_ShowProgress:function(){return this.$17z},set_ShowProgress:function(n){return this.$17z!==n&&(this.$17z=n,this.$7("ShowProgress")),n},get_ShowProgressMessage:function(){return this.$181},set_ShowProgressMessage:function(n){return this.$181!==n&&(this.$181=n,this.$7("ShowProgressMessage")),n},get_TestabilityAttributes:function(){return this.$Ee},set_TestabilityAttributes:function(n){return this.$Ee!==n&&(this.$Ee=n,this.$7("TestabilityAttributes")),n},get_CssClassNames:function(){return this.$Jn},$4H:null,get_$2nt:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$24C()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$24D()},set_$1iF:function(n){if(n=n<0?0:n,this.$mb!==n){var t=this.$mb,i=n;!t&&i>0?$(window).triggerHandler("CustomControlsPending"):t>0&&!i&&$(window).triggerHandler("CustomControlsComplete")}return this.$mb=n,n},set_$24c:function(n){return this.$1K4=n,this.$7("IsPersonalizationRetrieved"),n},get_$Uh:function(){return $0.$0(this.$Cb)&&(this.$g===13?this.$Cb="cc_grid_"+this.$D:this.$g===1?this.$Cb="cc_ws_"+this.$q:(this.$g===2||this.$g===40)&&(this.$Cb="cc_form_"+this.get_ModelContext().$I.$a.get_identifier())),this.$Cb},get_$vH:function(){return this.$6b},get_IsCustomControlExists:function(){return this.$lL},set_IsCustomControlExists:function(n){return this.$lL||(this.$lL=n,this.$7("IsCustomControlExists")),n},$1UQ:!1,$1QO:function(n,t){this.set_ShowProgressMessage(t);this.set_ShowProgress(n)},$Z3:function(){this.set_ShowProgress(!1);this.set_ShowProgressMessage("")},$28B:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),n;return t.resolve(!0),n=this.$4d("RootPreNavigation"),n&&n(this,null),t},$27Y:function(){},$2Z:function(){var n,t;this.$1a||(this.$393(),$0.$0(this.refreshCommand)&&(this.refreshCommand=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$Rr,1004)),this.refreshWithoutScriptReload(),$0.$0(this.$5o)||$0.$0(this.$1W)?this.$gl(null):this.$t||(this.$t=2,n=this.$5o.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)),this.$g===13||this.$g===1||this.$g===2&&this.get_ModelContext()||this.$g===39?this.$25k():(t=this,this.AddPropertyChangedListener("ModelContext",function(){t.$25k()})),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He),Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this))},get_$31Y:function(){return!1},$He:function(){this.set_IsLocked(this.$1WU());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33()===this&&this.$1co()},$1WU:function(){return $0.$0(this.$1W)?!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Microsoft.Crm.Client.Core.Framework.$6.$4N:!Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$1W)},$1co:function(){this.$Rr()},$Oh:function(){var n,t,i;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);$0.$0(this.refreshCommand)||(this.refreshCommand.dispose(),this.refreshCommand=null);Sys.IDisposable.isInstanceOfType(this.get_ModelContext())&&this.get_ModelContext().dispose();Sys.IDisposable.isInstanceOfType(this.$5k)&&this.$5k.dispose();this.$RB=null;this.$IZ.dispose();$0.$0(this.$1Me)||this.$1Me.$5E();n=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43);n.removeDescriptor(this.get_ViewModelId());this.$1wG();this.$YN=null;t=this;this.RemovePropertyChangedListener("ModelContext",function(){t.$1Or()});i=this;this.RemovePropertyChangedListener("IsCustomControlExists",function(){i.$1Or()});Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},refreshWithoutScriptReload:function(){this.$vh(!1)},$Rr:function(){this.$vh(!1)},$vh:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),i,t;return this.$IZ.$DD.$86(),this.$xF.$86(),this.$tv=null,this.$15C=this.$$d_$1gR,$0.$0(this.$Ig)?(Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Rr.call(this),n.resolve(null)):(i=this,t=this,this.$1Kw(function(){n.resolve(null)},function(){n.reject(t.$1fK)},null)),n.promise()},activate:function(){this.$Sg=!0;this.$9j("OnRootViewActivated")},deactivate:function(){this.$9j("OnRootViewDeactivated")},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)},$gl:function(){this.$t=1;this.$9j("OnDefinitionRetrieveCompleted");this.$1e7=!0;this.$rl()},$15c:function(){},$393:function(){if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$2FH(this.$g)){var n={PageType:Microsoft.Crm.Client.Core.Framework.$1.toString(this.$g)};Microsoft.Crm.Client.Core.Framework.$3.$9(this.$D)||(n.EntityType=this.$D);this.$4H=new Microsoft.Crm.Client.Core.Framework.$M8("ClientPageLoad",n);Microsoft.Crm.Client.Core.Framework.$t.get_$6().$br(this.$4H)}},$1wG:function(){$0.$0(this.$4H)||(Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(this.$4H.rid),this.$4H=null)},$12t:function(){var n=null,t="",i,r;return $0.$0(this.$K)||$0.$0(this.$K.$M)||(i=this.$K.$M.EntityReference,$0.$0(i)||(n=i.get_$4m(),t=i.get_$BZ())),r=this.get_ModelContext(),$0.$0(n)&&t===""&&!$0.$0(r)&&(n=r.get_Id(),t=r.get_ModelName()),new Xrm.Objects.EntityReference(t,Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n))},$rl:function(){var n={},t="UnusedYet",i,r;switch(this.$g){case 1:case 37:t="Workspace";n["data-dashboardid"]=this.$q;break;case 2:case 34:case 40:t=this.$g===40?"InteractionCentricForm":this.$g===2?"Form":"SenderForm";i=this.$12t().get_$4m();Microsoft.Crm.Client.Core.Framework.$3.$9(i)||(n["data-entityid"]=i);Microsoft.Crm.Client.Core.Framework.$3.$9(this.$q)||(n["data-crmformid"]=this.$q);break;case 13:t=!$0.$0(this.$K)&&"RelationshipType"in this.$K.$M&&this.$K.$M.RelationshipType!==-1?"SubGrid":"Grid";break;case 5:t="QuickCreateForm";Microsoft.Crm.Client.Core.Framework.$3.$9(this.$q)||(n["data-crmformid"]=this.$q);break;case 17:t="DrillDownPage";break;case 26:t="Search";break;case 35:t="SetRegarding";break;case 31:t="Drafts";break;case 32:t="DuplicateRecords";break;case 39:t="TaskBasedFlowForm";Microsoft.Crm.Client.Core.Framework.$3.$9(this.$q)||(n["data-crmformid"]=this.$q);r=this.$12t().LogicalName;Microsoft.Crm.Client.Core.Framework.$3.$9(r)||(n["data-entityname"]=r)}n["data-id"]="PageHeader";n["data-vmid"]=this.get_ViewModelId();n["data-pagetype"]=t;n["data-loaded"]=this.$lM?"1":null;$0.$0(this.$D)||(n["data-entityname"]=this.$D);this.set_TestabilityAttributes(n)},$1gR:function(n){if(!this.$2h){if(n.remove_$AT(this.$15C),this.$t=1,this.$14L=!1,!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&Xrm.Utility.isEntityOfflineSyncEnabled(this.$D)&&this.$g===2){var t=this,i=this;Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance().$2oL(this.$D,new Microsoft.Crm.Client.Core.Framework.Guid(this.$12t().get_$4m())).then(function(n){t.$14D=n;t.$14D&&Microsoft.Crm.Client.Core.ViewModels.$10.$wc(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Local_Save_Record_Notification_Status_Message"),4,"Local_Save_Record_Notification_Status_Message_FormNotificationId")},function(){})}Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Rr.call(this);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedModel",1,this.get_ViewModelId());this.$9j("OnLoadModelCompleted")}},$23U:function(){var t={},n;switch(this.$g){case 1:n="Workspace";XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,t);break;case 37:n="InteractionCentricWorkspace";XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,t);break;case 2:case 40:case 5:n="Form";t.entityname=this.$Ee["data-entityname"];t.formType="data-entityid"in this.$Ee?"Edit":"Create";XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,t);break;case 13:n=this.$Ee["data-pagetype"].toString();t.entityname=this.$D;n==="SubGrid"&&(t.parententity=this.$K.$M.ParentEntityViewModel.$D);XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,t);break;case 17:n="ChartDrilldown";XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,null);break;case 26:n="Search";XrmUI.Manager.XrmUIPage=new Microsoft.Crm.Client.Core.ViewModels.$Mj(n,null);break;default:XrmUI.Manager.XrmUIPage=null}},$2Ak:function(){this.$t&&this.$1Kw()},$MZ:function(n){var t,i,r,u,f,o,e;if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33()===this){t=!1;switch(n.$m){case-2147220969:case-2147220960:case-2147094003:case-2147094011:t=!0}i="Error_Title_Generic";r="";t||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$D,1)?(t=t&&!(this.$14L&&n.$m===-2147094003),u=this.$2gB(this.$14L,n.$m),i=u.$Vq,r=u.$Pl,f=this,o=this,Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(Microsoft.Crm.Client.Core.Framework.Common.$2.$4(i),Microsoft.Crm.Client.Core.Framework.Common.$2.$4(r),function(){t?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1gV(!0):($0.$0(f)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$vo(f),Microsoft.Crm.Client.Core.Framework.$6.get_$f()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HK().$m8.execute():Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$u1().$fk.execute())},null,null,null,Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Oa(n.$JL),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Os(n.$JL)),this.dispose()):Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$MZ.call(this,n)}else if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top()!==this){switch(n.$m){case-2147220969:case-2147220960:case-2147094003:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$vo(this)}e=$0.$0(n.$m)?0:n.$m;Microsoft.Crm.Client.Core.Framework.Trace.logError(161,"OnActionFailed: {0}: {1}",Microsoft.Crm.Client.Core.Framework.Common.$2.$kz(e),n.$F)}else Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$MZ.call(this,n);this.$1fK=n},$1Kw:function(n,t,i){this.$Ig&&(this.$RB=this.$12y(),$0.$0(this.$RB)||(this.$RB.add_$AT(this.$15C),$0.$0(i)||this.$RB.add_$AT(i),$0.$0(n)||this.$RB.add_$by(n),$0.$0(t)||this.$RB.add_$Qe(t),this.$t=2,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(this.$RB)))},$12y:function(){return this.$Ig.$56()},$2EP:function(n){if(!n)if(this.$g===40&&this.$6i===1)this.$23b(null);else throw Error.argumentNull("provider");n===this.$Ig?this.$2Ak():(this.$23b(n),this.$t!==2||$0.$0(this.$RB)||this.$RB.remove_$AT(this.$15C),this.$2Ak())},$23b:function(n){this.$Ig=n},$2L8:function(n){this.$xF.set_$R(n.get_$8a(),n)},$2BO:function(n){this.$xF.$Ai(n.get_$8a());!$0.$0(n.get_$1uC())&&($0.$0(this.$tv)||n.get_$1uC()<new Date(this.$tv))&&(this.$tv=n.get_$2YD());this.$xF.$s()||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$3CN(this)},$31n:function(){Microsoft.Crm.Client.Core.Models.IFormModel.isInstanceOfType(this.get_ModelContext())&&this.get_ModelContext().$2Ou()},get_IsLocked:function(){return this.$1Jq},set_IsLocked:function(n){return this.$1Jq!==n&&(this.$1Jq=n,this.$7("IsLocked")),n},$2Be:function(){var t=new Microsoft.Crm.Client.Core.Framework.$Da,n,i;return t.$15K=this.$g,t.$15J=this.$D,$0.$0(this.get_ModelContext())||this.$g===13||this.$g===17?!$0.$0(this.$q)&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1KP(this.$g)?(t.$UH=this.$q,t.$15J=Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1Hp(),t.$9R=this.$9R):$0.$0(this.$K)||$0.$0(this.$K.$M)||($0.$0(this.$K.$M.ListDefinitionId)?$0.$0(this.$K.$M.EntityReference)?$0.$0(this.$K.$M.externalContextPowerBIUrl)||(i={},i.externalContextPowerBIUrl=this.$2.$K.$M.externalContextPowerBIUrl,i.dashboardId=this.$2.$K.$M.dashboardId,i.tileId=this.$2.$K.$M.tileId,i.reportId=this.$2.$K.$M.reportId,i.reportEmbedUrl=this.$2.$K.$M.reportEmbedUrl,i.powerBIComponentType=this.$2.$K.$M.powerBIComponentType,"groupId"in this.$2.$K.$M&&(i.groupId=this.$2.$K.$M.groupId),t.$x=i):t.$UH=this.$K.$M.EntityReference.get_$4m():(t.$UH=this.$K.$M.ListDefinitionId,n={},n.ContextFilter=this.$2.$K.$M.ContextFilter,n.ListDefinitionId=this.$2.$K.$M.ListDefinitionId,n.RelationshipExtraCondition=this.$2.$K.$M.RelationshipExtraCondition,n.RelationshipName=this.$2.$K.$M.RelationshipName,"RelationshipType"in this.$2.$K.$M&&(n.RelationshipType=this.$2.$K.$M.RelationshipType),n.ReferencingName=this.$2.$K.$M.ReferencingName,n.RelationshipRoleOrdinal=this.$2.$K.$M.RelationshipRoleOrdinal,n.ChartViewId=this.$2.$K.$M.ChartViewId,n.ChartVisualizationId=this.$2.$K.$M.ChartVisualizationId,n.ChartViewEntityLogicalName=this.$2.$K.$M.ChartViewEntityLogicalName,n.ChartVisualizationEntityLogicalName=this.$2.$K.$M.ChartVisualizationEntityLogicalName,Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(n.Activities=this.$2.$K.$M.Activities),t.$x=n)):t.$UH=this.get_ModelContext().get_Id(),t},$2At:function(){var f=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),e,t,i,r,u,o;return this.$g===13||this.$g===26||this.$g===47||this.$g===17?f.resolve(!0).promise():(e=$16.$cH(Microsoft.Crm.Client.Core.Framework.$1,this.$g).toLowerCase(),(this.$g===2||this.$g===40)&&(e="Form:"+this.$1W),n.$5y.$15u=$0.$0(this.$1G)?this.$1W:this.$1G,t=[],i=n.get_PrimaryConductor().get_$33(),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1KP(this.$g)&&!$0.$0(i)&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1KP(i.$g)&&this.$9R&&Array.add(t,n.$5y.$hK("global",this)),r=n.$220(),u=this.$2,($0.$0(i)||i!==u||!$0.$0(r))&&($0.$0(r)||r!==u)||(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.$1KP(u.$g)&&!this.$9R?Array.add(t,n.$5y.$hK("dashboard",this)):Array.add(t,n.$5y.$hK(e,this))),o=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t).always(function(){f.resolve(!0)}),f.promise())},$1Or:function(){if(this.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalization",null)),$0.$0(this.$5o))this.$25j(null);else{var n=this.$5o.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$nT:function(){this.$6b=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV(this.$qS);var n=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("SavePersonalization"));return n.execute(),n.dispose(),!0},$2qZ:function(n){this.$qS=n.$6b;this.set_$24c(!0)},$25j:function(){this.set_$24c(!0)},$2gB:function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.$LC,r;switch(t){case-2147094003:return i.$Vq="Error_Title_Generic",i.$Pl=n?"L_PinnedRecordNotFoundTextForStartScreenWithList":"L_PinnedRecordNotFoundTextForDashboardWithList",i;case-2147220969:case-2147220960:if(Microsoft.Crm.Client.Core.Framework.$6.get_$f())return r=Microsoft.Crm.Client.Core.Framework.Common.$2.$kz(t),i.$Vq="Error_Title_0x"+r,i.$Pl="Error_Message_0x"+r,i}return i.$Vq="Error_Title_Generic",i.$Pl=n?"L_PinnedRecordNotFoundTextForStartScreen":"L_PinnedRecordNotFoundTextFromDashboard",i},$25k:function(){if(this.$lL)this.$1Or();else{var n=this;this.AddPropertyChangedListener("IsCustomControlExists",function(){n.$lL&&n.$1Or()})}}};Microsoft.Crm.Client.Core.ViewModels.$4M=function(){this.$$d_$3CM=Function.createDelegate(this,this.$3CM);this.$$d_$2Nb=Function.createDelegate(this,this.$2Nb);this.$$d_$2sY=Function.createDelegate(this,this.$2sY);this.$$d_$2yR=Function.createDelegate(this,this.$2yR);this.$$d_$2yu=Function.createDelegate(this,this.$2yu);this.$1W3=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_error_scriptError_aspx_BtnBack").replace(new RegExp("&","g"),"");Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().add_$1qG(this.$$d_$2yu);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().add_$1qG(this.$$d_$2yu);Microsoft.Crm.Client.Core.Framework.$2a.get_$6().add_$28W(this.$$d_$2yR)};Microsoft.Crm.Client.Core.ViewModels.$4M.get_SoapServiceProxyActionProvider=function(){return Microsoft.Crm.Client.Core.ViewModels.$4M.$wg};Microsoft.Crm.Client.Core.ViewModels.$4M.set_SoapServiceProxyActionProvider=function(n){return Microsoft.Crm.Client.Core.ViewModels.$4M.$wg=n,n};Microsoft.Crm.Client.Core.ViewModels.$4M.prototype={$Kt:null,$1W3:null,$2yR:function(n){var u="unknown",i,r,f,t,e;try{i=this.$21j();(i===1||i===2)&&(r=this.$1qU(n(),i),u=r.$A5,f=$18.$Lp(r.$hO).replace(new RegExp("\\n","g"),"<br>"),Microsoft.Crm.Client.Core.Framework.Trace.logError(133,f),i===1?(this.$Kt||(this.$Kt=new Array(0)),this.$Kt.length<7&&(this.$Kt[this.$Kt.length]=r)):this.$2DL(r,!0))}catch(o){Microsoft.Crm.Client.Core.Framework.Trace.logError(133,"WatsonErrorHandler.ProcessCrashData caught an exception while processing {0}. {1}",u,o.toString());t=n();e="Original error:\n\t Error message: {0}\n\t File name: {1}\n\t Line number: {2}\n\t Stack trace: {3}\n\t{4}";Microsoft.Crm.Client.Core.Framework.Trace.logError(133,e,t.$A5,t.$Lz,t.$MJ,t.$M0,t.$nY)}},$1qU:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.$KL,r,u;return i.$MJ=n.$MJ,i.$M0=n.$M0,i.$Lz=n.$Lz,i.$jS=n.$jS,i.$nY=n.$nY,i.$A5=n.$A5,i.$vp=!0,i.$rR=t,r=t===2?!1:!0,u="Mobile Tablet",i.$hO="<CrmScriptErrorReport>\r\n  <ReportVersion>1.0<\/ReportVersion>\r\n  <ScriptErrorDetails>\r\n   <Message>"+$18.$Lp(i.$A5)+"<\/Message>\r\n   <Line>"+i.$MJ+"<\/Line>\r\n   <URL>"+$18.$Lp(i.$Lz)+"<\/URL>\r\n   <CallStack>\r\n    <Function>"+CrmEncodeDecode.CrmXmlEncode(i.$M0)+"<\/Function>\r\n   <\/CallStack>\r\n  <\/ScriptErrorDetails>\r\n  <ClientInformation>\r\n   <BrowserUserAgent>"+CrmEncodeDecode.CrmXmlEncode(window.navigator.userAgent)+"<\/BrowserUserAgent>\r\n   <BrowserLanguage>"+CrmEncodeDecode.CrmXmlEncode(i.$jS)+"<\/BrowserLanguage>\r\n   <SystemLanguage>"+CrmEncodeDecode.CrmXmlEncode(window.navigator.systemLanguage)+"<\/SystemLanguage>\r\n   <UserLanguage>"+CrmEncodeDecode.CrmXmlEncode(window.navigator.userLanguage)+"<\/UserLanguage>\r\n   <ScreenResolution>"+window.screen.width+"x"+window.screen.height+"<\/ScreenResolution>\r\n   <ClientName>"+u+"<\/ClientName>\r\n   <ClientTime>"+$18.$Lp((new Date).localeFormat("s"))+"<\/ClientTime>\r\n  <\/ClientInformation>\r\n"+(r?this.$34e():"")+"<\/CrmScriptErrorReport>\r\n",i},$13J:function(n,t,i){Microsoft.Crm.Client.Core.Framework.$2a.get_$6().$3F1(n,t,i)},$3CM:function(){var n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptErrorDetails_aspx_Title"),t="<br>"+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptErrorDetails_aspx_FirstLineOfReport")+"<br>"+this.$2V8();Microsoft.Crm.Client.Core.ViewModels.$Q.$38P(n,t,0,null,this.$1W3,!1)},$2sY:function(){for(var n=0;n<this.$Kt.length;n++)this.$2DL(this.$Kt[n],!0);this.$Kt=null},$2DL:function(n,t){var i,r;n.$jF=t;$0.$0(Microsoft.Crm.Client.Core.ViewModels.$4M.$wg)||(i={},i.lineNumber=n.$MJ,i.func=n.$M0,i.fileName=n.$Lz,i.report=n.$hO,i.reportToWatson=n.$vp,i.errorReportingPreference=n.$rR,i.addServerInformation=n.$jF,r=Microsoft.Crm.Client.Core.ViewModels.$4M.$wg.$B1(i),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(r))},$2Nb:function(){this.$Kt=null},$2V8:function(){var t="",n;if(!$0.$0(this.$Kt))for(n=0;n<this.$Kt.length;n++)t+=$18.$Lp(this.$Kt[n].$hO),t+="<br>";return t},$2yu:function(n){if(!$0.$0(n)&&!Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel.isInstanceOfType(n)){var t=this.$21j();if(t===1)try{this.$Kt&&this.$2FO()}catch(i){Microsoft.Crm.Client.Core.Framework.Trace.logError(133,"ScriptErrorHandlerViewModel.PromptAndReport caught an exception: {1}",i.toString())}}},$2FO:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel;n.$C2=this.$$d_$2sY;n.$Gm=this.$$d_$2Nb;n.$o0=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$3CM,160);n.Show()},$21j:function(){var n=null,t;try{n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E()}catch(i){Microsoft.Crm.Client.Core.Framework.Trace.logError(133,"WatsonErrorHandler.GetReportingPreference - Container not ready.\n {0}",i.toString())}return t=0,$0.$0(n)||(t=0===n.get_$291()?n.get_$3Bz():n.get_$291()),t},$34e:function(){var t="",n=null;try{n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E()}catch(i){Microsoft.Crm.Client.Core.Framework.Trace.logError(133,"WatsonErrorHandler.ServerInformation - Container not ready.\n {0}",i.toString())}return $0.$0(n)||(t="  <ServerInformation>\r\n    <OrgLanguage>"+n.get_$1fJ()+"<\/OrgLanguage>\r\n    <OrgCulture>"+n.get_$1hz()+"<\/OrgCulture>\r\n    <UserLanguage>"+n.get_LanguageId()+"<\/UserLanguage>\r\n    <UserCulture>"+n.get_$1nS()+"<\/UserCulture>\r\n    <OrgID>"+n.get_$UZ()+"<\/OrgID>\r\n    <UserID>"+n.get_$i6().toString()+"<\/UserID>\r\n    <CRMVersion>"+CrmEncodeDecode.CrmXmlEncode(n.get_$1kw())+"<\/CRMVersion>\r\n  <\/ServerInformation>\r\n"),t}};Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel.initializeBase(this);this.$DZ=1;this.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_BtnSendReport").replace(new RegExp("&","g"),"");this.$LY=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_BtnDoNotSendReport").replace(new RegExp("&","g"),"");this.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_Text0");this.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_Message"));this.$gR=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_Text1");this.$1SE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web_Tools_personalsettings_dialogs_personalsettings_PrivacyTab_ViewPrivacy");this.$1S9=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile__common_error_scriptError_aspx_ViewHowToChangeSettings");this.$1S8=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web__common_error_scriptError_aspx_ViewDetails");this.$AG=0;this.$xe=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:","go.microsoft.com/fwlink/?LinkId=103482");this.$xc=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand("http:","go.microsoft.com/fwlink/?LinkID=309645")};Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel.prototype={$1SE:null,$1S9:null,$1S8:null,$gR:null,$xe:null,$xc:null,$o0:null,get_MessageSubtitle:function(){return this.$gR},set_MessageSubtitle:function(n){return this.$gR=n,n},get_ViewPrivacyStatementText:function(){return this.$1SE},set_ViewPrivacyStatementText:function(n){return this.$1SE=n,n},get_ViewHowToChangeNotificationSettingsText:function(){return this.$1S9},set_ViewHowToChangeNotificationSettingsText:function(n){return this.$1S9=n,n},get_ViewDetailsText:function(){return this.$1S8},set_ViewDetailsText:function(n){return this.$1S8=n,n},get_ViewDetailsCommand:function(){return this.$o0},set_ViewDetailsCommand:function(n){return this.$o0=n,n},get_ViewPrivacyStatementCommand:function(){return this.$xe},get_ViewHowToChangeNotificationSettingsCommand:function(){return this.$xc},$Oh:function(){$0.$0(this.$o0)||(this.$o0.dispose(),this.$o0=null);$0.$0(this.$xe)||(this.$xe.dispose(),this.$xe=null);$0.$0(this.$xc)||(this.$xc.dispose(),this.$xc=null);Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel=function(n){var u,f,t,i,r;this.$$d_$3Ad=Function.createDelegate(this,this.$3Ad);this.$$d_$2xU=Function.createDelegate(this,this.$2xU);this.$$d_$2v6=Function.createDelegate(this,this.$2v6);this.$$d_$1he=Function.createDelegate(this,this.$1he);this.$$d_$2ts=Function.createDelegate(this,this.$2ts);this.$$d_$2tU=Function.createDelegate(this,this.$2tU);this.$$d_$2u3=Function.createDelegate(this,this.$2u3);this.$$d_$2sd=Function.createDelegate(this,this.$2sd);this.$$d_$2Uc=Function.createDelegate(this,this.$2Uc);this.$$d_$2M2=Function.createDelegate(this,this.$2M2);this.$$d_$2ug=Function.createDelegate(this,this.$2ug);this.$$d_$2ka=Function.createDelegate(this,this.$2ka);this.get_$Ke=this.get_PerformanceReport;this.set_$Ke=this.set_PerformanceReport;this.get_$10e=this.get_CommandManagerViewModel;this.get_$Sz=this.get_commandManager;this.get_$1Z6=this.get_dialogCommandManager;this.get_$u1=this.get_NavigationBar;this.set_$u1=this.set_NavigationBar;this.get_$2r=this.get_TaskBasedFlowGlobalMenu;this.set_$2r=this.set_TaskBasedFlowGlobalMenu;this.get_$HK=this.get_InteractionCentricNavigationBar;this.set_$HK=this.set_InteractionCentricNavigationBar;this.get_$EL=this.get_landingPageViewModel;this.set_$EL=this.set_landingPageViewModel;this.get_$CE=this.get_XrmPage;this.get_$jP=this.get_BackCommand;this.get_$1FP=this.get_EventHandler;this.get_$5S=this.get_PrimaryConductor;this.get_$1F=this.get_IsServerAvailable;this.set_$1F=this.set_IsServerAvailable;this.set_$24t=this.set_IsSyncCheckCompleted;this.get_$E=this.get_UserContext;this.set_$E=this.set_UserContext;this.get_$1j=this.get_FeatureControlManager;this.set_$1j=this.set_FeatureControlManager;this.get_$1uL=this.get_DefaultSearchExperience;this.$3BK=this.updateOfflineText;this.$ja=this.clearSelectedViewModels;this.$10Y=this.clearAllSelectedViewModelsForLookupDialog;this.$1HE=this.getAllSelectedViewModelsForLookupDialog;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.initializeBase(this);this.$1N7=n;this.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s,this.$$d_$2ka);Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.set_ListNavigationContext(new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext):this.set_ListNavigationContext(new Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext);this.$Cw=new Microsoft.Crm.Client.Core.Framework.CommandManager;this.$YX=new Microsoft.Crm.Client.Core.ViewModels.$10;this.$gW=new Microsoft.Crm.Client.Core.ViewModels.$KD(this.$Cw,n);this.$gW.add_PostNavigation(this.$$d_$2ug);u=this;this.$IF=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BackNavigation",1);Microsoft.Crm.Client.Core.Commands.$2R.$23B();var n=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("RequestClose"));n.execute();n.dispose()},1004);f=this;this.$1LZ=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),n=new Microsoft.Crm.Client.Core.Commands.$A3(t);n.execute();n.dispose()},1004);t=this;this.$1Dc=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2M2,1004,this,"IsServerAvailable",function(){return!t.$ZV});this.$1LO=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Uc,1004);n.AddPropertyChangedListener("Top",this.$$d_$2sd);n.AddPropertyChangedListener("VMRemoved",this.$$d_$2sd);Microsoft.Crm.Client.Core.Framework.$6.$4N||this.AddPropertyChangedListener("CurrentListNavigationDataContext",this.$$d_$2u3);this.$11H=new Microsoft.Crm.Client.Core.ViewModels.$Rm;this.$11H.AddPropertyChangedListener("Top",this.$$d_$2tU);this.$r7=new Microsoft.Crm.Client.Core.Framework.CommandManager;this.$1Em=new Microsoft.Crm.Client.Core.ViewModels.$KD(this.$r7,this.$11H);this.$1Em.$1Wl=!0;this.$5y=new Microsoft.Crm.Client.Core.ViewModels.$6o;this.$Cw.$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$5y.$$d_$28C);this.$1dY=this.$$d_$2ts;this.updateOfflineText();i=this;this.AddPropertyChangedListener("IsServerAvailable",function(){i.updateOfflineText()});r=this;this.AddPropertyChangedListener("NavigationValidityTime",function(){r.updateOfflineText()});this.$1Oz=this.$$d_$1he;this.$1Oy=this.$$d_$2v6;this.$1MF=this.$$d_$2xU;Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("CanGoBack",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("DialogPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("PopupPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("QuickCreateFormPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("TaskBasedFlowFormPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("SiteMapVisible",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().AddPropertyChangedListener("GlobalMenuVisible",this.$$d_$3Ad))};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C=Microsoft.Crm.Client.Core.ViewModels.$40.$8t.$1st(new Microsoft.Crm.Client.Core.ViewModels.$Rz)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.setApplicationShellInstanceForTestingPurposes=function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C=n;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C.set_$2L(new Microsoft.Crm.Client.Core.Framework.$6P)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype={$1N7:null,$1Lg:0,$lX:!1,$1Lo:!1,$YN:null,$2Ca:!1,$Ng:null,$Cw:null,$r7:null,$a8:null,$hu:null,$1Iv:null,$tZ:null,$IF:null,$1LZ:null,$gW:null,$1Em:null,$11H:null,$YX:null,$5y:null,$5B:null,$4e:null,$MX:0,$zq:null,$1dY:null,$1fP:null,$ZV:!1,$V0:null,$1nW:null,$1Q:null,$14z:null,$1i5:null,$1Z2:null,$Ox:null,$1Fh:null,$1Dc:null,$1LO:null,$1Ke:null,$1Kf:"lastRetrievedText",$15S:null,$15T:null,$1Oz:null,$1Oy:null,$1ki:null,$st:!1,$1MF:null,$k5:null,$Oe:null,$Z5:!1,$hr:null,$zo:null,$16I:null,$1fI:null,$1Tz:null,get_PerformanceReport:function(){return this.$1Tz},set_PerformanceReport:function(n){return this.$1Tz=n,n},get_hostedInUsd:function(){return this.$Z5},set_hostedInUsd:function(n){return this.$Z5=n,n},$1BE:!1,$2ka:function(){},$2s8:function(){},get_SelectedViewModels:function(){return this.$5B},get_$Uh:function(){return"HomepageId"},get_$vH:function(){return this.$Oe},set_$vH:function(n){return this.$Oe=n,n},get_CommandManagerViewModel:function(){return this.$5y},get_CustomScriptsContainerViewModel:function(){return Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6()},get_$rj:function(){return this.$YX},get_NavigationManager:function(){return this.$gW},get_CurrentListNavigationDataContext:function(){return this.$4e.get_$1EC()},get_IsOptinEnabled:function(){return Xrm.Utility.isAppOfflineSyncEnabled()},get_OfflineStatusReason:function(){return $0.$0(this.$Ox)?null:this.$Ox.$2jN()},get_BackCommand:function(){return this.$IF},set_BackCommand:function(n){return this.$IF=n,n},get_NavigateToIndexCommand:function(){return this.$1LZ},set_NavigateToIndexCommand:function(n){return this.$1LZ=n,n},get_EventHandler:function(){return this.$YN||(this.$YN=new Microsoft.Crm.Client.Core.Framework.$CO),this.$YN},get_NextNavigationIndex:function(){return this.$MX},set_NextNavigationIndex:function(n){return this.$MX=n,this.$7("ListNavigationIndicatorRecordTitle"),n},get_ListNavigationRecordCount:function(){return(this.$4e.$AV+1).toString()+"/"+this.$4e.get_ListLength().toString()},get_IsAttemptingConnectionVisible:function(){return!this.$st||this.get_ShowAttemptingConnectionText()},get_ShowAttemptingConnectionText:function(){return this.$st&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5()},$Cm:!1,get_$1Je:function(){return this.$Cm},set_$1Je:function(n){return this.$Cm=n,n},get_SyncStatusId:function(){return this.$hr},set_SyncStatusId:function(n){return this.$hr=n,n},get_OfflineDialogText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(this.get_ShowAttemptingConnectionText()?"L_CommitChanges_Offline_Dialog_Text":"L_Offline_Dialog_Text")},get_ListNavigationIndicatorRecordTitle:function(){return this.$4e.$2ji(this.$MX)},get_BackButtonToolTipcanvas:function(){return this.$d(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$104)},set_BackButtonToolTipcanvas:function(n){return this.$l(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$104,n),n},get_BackButtonToolTip:function(){return this.$d(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$104)},set_BackButtonToolTip:function(n){return this.$l(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$104,n),n},get_CanGoBack:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?!1:this.$d(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$10R)},set_CanGoBack:function(n){return this.$l(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$10R,n),this.$7("CanGoBack"),n},get_commandManager:function(){return this.$Cw},get_dialogCommandManager:function(){return this.$r7},get_landingPageViewModel:function(){return this.$1fI},set_landingPageViewModel:function(n){return this.$1fI=n,n},get_$2L:function(){return this.$Ng},set_$2L:function(n){return this.$Ng=n,n},get_PrimaryConductor:function(){return this.$1N7},get_CanvasConductor:function(){return this.$1N7},get_IsSyncCheckCompleted:function(){return this.$lX},set_IsSyncCheckCompleted:function(n){return this.$lX!==n&&(this.$lX=n,this.$7("IsSyncCheckCompleted")),n},get_NoteInlineCreateFormExpanded:function(){return this.$1Lo},set_NoteInlineCreateFormExpanded:function(n){return this.$1Lo!==n&&(this.$1Lo=n,this.$7("NoteInlineCreateFormExpanded")),n},get_DialogConductor:function(){return this.$11H},get_NavigationBar:function(){return this.$a8},set_NavigationBar:function(n){return this.$a8=n,n},get_TaskBasedFlowGlobalMenu:function(){return this.$hu},set_TaskBasedFlowGlobalMenu:function(n){return this.$hu!==n&&(this.$hu=n,this.$7("TaskBasedFlowGlobalMenu")),n},get_InteractionCentricNavigationBar:function(){return this.$1Iv},set_InteractionCentricNavigationBar:function(n){return this.$1Iv=n,n},get_$1Kg:function(){return this.$tZ},set_$1Kg:function(n){return this.$tZ=n,n},get_$Nh:function(){return this.$zq},set_$Nh:function(n){return this.$zq=n,n},set_$2Tr:function(n){return this.$k5=n,n},get_XrmPage:function(){for(var n,i,r,u,e,f=null,o=this.get_DialogConductor().get_ActiveNavigationStack().get_Count(),t=o-1;t>=0;t--)if(n=this.get_DialogConductor().get_ActiveNavigationStack().get_$R(t),!$0.$0(n)&&(n.$g===5||n.$g===22||n.$g===12||n.$g===39))return f=this.get_DialogConductor().get_ActiveNavigationStack().get_$R(t),$0.$0(f.$5k)?this.$k5:f.$5k;return i=this.get_PrimaryConductor().get_$33(),$0.$0(i)?this.$k5:i.$g===13?(r=i.$K,u=this.$k5,$0.$0(r)||$0.$0(r.$M)||(e=r.$M.ParentEntityViewModel,$0.$0(e)||(u=e.$5k)),$0.$0(u)?this.$k5:u):$0.$0(this.get_PrimaryConductor().get_$33().$5k)?this.$k5:this.get_PrimaryConductor().get_$33().$5k},get_$U1:function(){return this.$1fP},get_$26l:function(){return $0.$0(this.get_CanvasConductor().get_Top())?null:this.get_CanvasConductor().get_Top().$tv},get_IsServerAvailable:function(){return this.$ZV},set_IsServerAvailable:function(n){return this.$ZV!==n&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&!$0.$0(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG())&&"MobileClientOfflineWebResources"in Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG().MobileClientOfflineWebResources&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$36e("IsClientOffline",!n),this.$ZV=n,this.$7("IsServerAvailable")),n},get_$54:function(){return this.$V0},set_$54:function(n){return this.$V0=n,n},get_$1nX:function(){return this.$1nW},set_$1nX:function(n){return this.$1nW=n,n},get_UserContext:function(){return this.$1Q},set_UserContext:function(n){return this.$1Q=n,n},get_$GD:function(){return this.$14z},set_$GD:function(n){return this.$14z=n,n},get_$GJ:function(){return this.$1i5},set_$GJ:function(n){return this.$1i5=n,n},get_$4q:function(){return this.$1Z2},set_$4q:function(n){return this.$1Z2=n,n},get_$GG:function(){return this.$Ox},set_$GG:function(n){return this.$Ox=n,n},get_GetOfflineSyncStatusInfo:function(){return $0.$0(this.$Ox)?null:this.$Ox.$2hm()},get_IsServerMetadataSyncRequired:function(){return $0.$0(this.$Ox)?!1:this.$Ox.$1KE()},get_FeatureControlManager:function(){return this.$1Fh},set_FeatureControlManager:function(n){return this.$1Fh=n,n},get_ListNavigationContext:function(){return this.$4e},set_ListNavigationContext:function(n){return Microsoft.Crm.Client.Core.Framework.$6.get_$3A()||(this.$4e=n),n},get_ListPosition:function(){return this.$4e.get_$2py()},get_ListNavigationEnabled:function(){return this.$4e.get_$O9()},get_ConnectCommand:function(){return this.$1Dc},set_ConnectCommand:function(n){return this.$1Dc=n,n},get_MetadataDownloadCommand:function(){return this.$1LO},set_MetadataDownloadCommand:function(n){return this.$1LO=n,n},get_LastRetrievedText:function(){return this.$1Ke},set_LastRetrievedText:function(n){return this.$1Ke!==n&&(this.$1Ke=n,this.$7("LastRetrievedText")),n},get_LastRetrievedTextClassName:function(){return this.$1Kf},set_LastRetrievedTextClassName:function(n){return this.$1Kf!==n&&(this.$1Kf=n,this.$7("LastRetrievedTextClassName")),n},get_OfflineGlobalSyncStatusText:function(){return this.$15S},set_OfflineGlobalSyncStatusText:function(n){return this.$15S=n,n},get_OfflineGlobalSyncStatusTextClassName:function(){return this.$15T},set_OfflineGlobalSyncStatusTextClassName:function(n){return this.$15T=n,n},get_IsAttemptingConnection:function(){return this.$st},set_IsAttemptingConnection:function(n){return this.$st!==n&&(this.$st=n,this.$rd("IsAttemptingConnection","OfflineIndicatorText")),n},get_$2D0:function(){return this.$1ki},set_$2D0:function(n){return this.$1ki=n,n},get_DefaultSearchExperience:function(){return this.$1Q.get_$1uL()},$28y:function(n){this.$1BE=!0;window.location.href=n},$V9:function(n){this.$5y.$1u2=n.get_ViewModelId();this.get_PrimaryConductor().$vT(n);this.$YX.$17g(n)},$31j:function(n){var t=this.get_CanvasConductor().get_ActiveNavigationStack().get_Count()-1;t>0&&this.get_CanvasConductor().popMany(t);this.get_CanvasConductor().$2F1(n)},get_$JY:function(){return $0.$0(this.$zo)&&(this.$zo=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4B))),this.$zo},get_PreSelectedViewModelIds:function(){return $0.$0(this.$16I)&&(this.$16I=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))),this.$16I},set_PreSelectedViewModelIds:function(n){return this.$16I=n,n},add_AddSelectedViewModelsEvent:function(n){this.$1p("AddSelectedViewModels",n)},remove_AddSelectedViewModelsEvent:function(n){this.$32("AddSelectedViewModels",n)},add_RemoveSelectedViewModelsEvent:function(n){this.$1p("RemoveSelectedViewModels",n)},remove_RemoveSelectedViewModelsEvent:function(n){this.$32("RemoveSelectedViewModels",n)},add_ClearSelectedViewModelsEvent:function(n){this.$1p("ClearSelectedViewModels",n)},remove_ClearSelectedViewModelsEvent:function(n){this.$32("ClearSelectedViewModels",n)},add_UpdateOfflineStatusTextEvent:function(n){this.$1p("UpdateOfflineStatusText",n)},remove_UpdateOfflineStatusTextEvent:function(n){this.$32("UpdateOfflineStatusText",n)},getSelectedViewModels:function(){return $0.$0(this.$5B)&&(this.$5B=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4B))),this.$5B.toArray()},getAllSelectedViewModelsForLookupDialog:function(){return $0.$0(this.get_$JY())&&(this.$zo=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4B))),this.get_$JY().toArray()},$1wJ:function(){var n=this.$4d("AddSelectedViewModels");$0.$0(n)||n(this,null)},$1a4:function(){var n=this.$4d("ClearSelectedViewModels");$0.$0(n)||n(this,null)},$2XK:function(){var n=this.$4d("RemoveSelectedViewModels");$0.$0(n)||n(this,null)},$2Kz:function(n){$0.$0(this.$5B)&&(this.$5B=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4B)));this.$5B.contains(n)||(this.$5B.add(n),this.$tZ=null,n.set_$KH(!0),this.$1wJ())},$30y:function(){},clearSelectedViewModels:function(){var t=!1,n;if(!$0.$0(this.$5B)){for(n=0;n<this.$5B.get_Count();n++)this.$5B.get_$R(n).set_$KH(!1),t=!0;this.$5B.clear()}t&&this.$1a4()},clearAllSelectedViewModelsForLookupDialog:function(){var t=!1,n;if(!$0.$0(this.get_$JY())){for(n=0;n<this.get_$JY().get_Count();n++)this.get_$JY().get_$R(n).set_$KH(!1),t=!0;this.get_$JY().clear()}t&&this.$1a4()},$33a:function(){try{Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$HL&&document.queryCommandSupported("ms-clearUndoStack")&&document.execCommand("ms-clearUndoStack",!1,null)}catch(n){}},$2s6:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("ListNavigation::NavigateToIndex::"+this.$MX.toString(),1);this.$4e.$AV!==this.$MX?(this.$4e.$2rv(this.$MX),this.$31c(),this.$re(["ListNavigationEnabled","ListAtStart","ListAtEnd","ListPosition","ListNavigationRecordCount","ListNavigationIndicatorRecordTitle","CurrentListNavigationDataContext"])):this.$4e.$lo=!1},$1gV:function(n){if(this.get_CanGoBack()){if(n){var t=this.$133(this.get_PrimaryConductor(),2);t.refreshWithoutScriptReload()}this.$IF.execute()}else this.$a8.$fk.execute()},$mR:function(n){n.$g!==1?Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jE(n,!0,1):Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jF();this.$lE(n,1)},$vo:function(n){var t=this.get_PrimaryConductor(),i,r;t.get_Top()===n?(i=new Microsoft.Crm.Client.Core.Commands.NavigationCommand(n,0),t.get_ActiveNavigationStack().get_Count()>=2?(r=this.$133(t,2),r.$1W==="Workspace".toUpperCase()&&this.$31h(r),i.$T=r):i.$T=this,i.execute(),i.dispose()):(t.$vo(n),this.$2Bc(n),t.$7("VMRemoved"))},$31h:function(n){var t=n.$H.HeaderGroup;n.$9R?n.$q!==this.$Oe.toString()?(n.$9R=!1,t.set_LabelCssClass("workspace_header_label"),t.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dashboard_Header_Label")),t.$H.DashboardName.set_Data(n.$1EI)):("DashboardName"in t.$H&&t.$H.DashboardName.set_Data(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dashboard_Homepage_Label")),t.set_LabelCssClass("home_page_label")):(t.set_LabelCssClass("workspace_header_label"),t.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dashboard_Header_Label")))},$2F6:function(n,t){var u=this.get_PrimaryConductor();if(u.get_ActiveNavigationStack().get_Count()>=n){var i=this.$133(u,n),r=this.$21T(u,n),f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents");f&&i.$g===13?(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jE(r,t,0),this.$lE(r,0)):$0.$0(i.get_ModelContext())||$0.$0(r)?(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jF(),this.$2BY(0)):i.$g===13?this.$lE(r,0):i.$g===2||i.$g===40?(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jE(r,t,0),this.$lE(r,0)):i.$g===5&&(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jH(r,0),this.$lE(r,0));i.$23U();Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.$Z5&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$1a7(i)}},$2Bc:function(n){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)&&n.$31n();var t=this.$31y(n),i=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.$V.get_$6().$1X9(t)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$18w,"ApplicationShellViewModel.ResetViewModelAfterRemoval.ClearSessionState")},$1MU:function(n,t){this.$1nD();Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jH(n,t);this.$lE(n,t);this.$YX.$17g(n)},$uq:function(n){var t=new Microsoft.Crm.Client.Core.Commands.NavigationCommand(null,4);t.$T=n;this.$r7.raiseEvent(Microsoft.Crm.Client.Core.Framework.$35,t);t.dispose()},$28u:function(n){n.$2.add_$6F(this.$1dY)},$2PH:function(n){this.$1rx(n,n.$D6!==3)},$10c:function(n){this.$1rx(n,!0)},$1rx:function(n,t){var r,u,f,i;Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$33f();r=this.$220();u=!$0.$0(r)&&r.get_ViewModelId()===n.get_ViewModelId();this.$Ji(n);u&&(f=this.get_DialogConductor(),i=this.$21T(f,1),$0.$0(i)?(t&&this.$2F6(1,!1),this.$YX.$17g(this.get_PrimaryConductor().get_$33())):(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jH(i,0),this.$lE(i,0),this.$YX.$17g(i)))},$Ji:function(n){var i=this.get_DialogConductor(),t;i.get_Top()===n?(t=new Microsoft.Crm.Client.Core.Commands.NavigationCommand(null,0),t.$T=this,this.$r7.raiseEvent(Microsoft.Crm.Client.Core.Framework.$35,t),t.dispose()):(this.get_DialogConductor().$vo(n),this.$1nL())},closePopups:function(){$0.$0(this.$a8)||$0.$0(this.$a8.$5g)||this.$a8.$5g.set_Visible(!1);$0.$0(this.$hu)||this.$hu.$9m.set_Visible(!1)},closeTBFPopups:function(){$0.$0(this.$hu)||this.$hu.$9m.set_Visible(!1)},closeNoteInlineCreateForm:function(){Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top())&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top().$QG(),this.set_NoteInlineCreateFormExpanded(!1))},$1t:function(n,t,i){var r=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1zi(n),u=new r(t,i),f=u.$56();this.$Ng.$2C(f)},$XL:function(n,t,i){var r=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1zi("ActionProvider"),u=new r(n,t);return u.$B1(i)},$21Q:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$Da),Microsoft.Crm.Client.Core.Framework.$7),t=this,i=this;return Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("NavigationStackKey").then(function(t){if($0.$0(t))n.resolve(null);else{for(var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$Da)),i=0;i.toString()in t;)r.add(t[i.toString()]),i++;n.resolve(r)}},function(t){n.reject(t)}),n.promise()},$3CN:function(n){n===this.get_CanvasConductor().get_Top()&&this.$7("NavigationValidityTime")},$2BY:function(n){this.$lp(!0,n,null)},$31c:function(){Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$1rY(!1,1);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$31e(this.get_CurrentListNavigationDataContext().get_$1B());this.$zq.$Ut()},$1jh:function(n){Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$2kp(!1,n);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$31d();this.$zq.$Ut()},$Oh:function(){Microsoft.Crm.Client.Core.Framework.$AJ.prototype.$Oh.call(this);this.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s,this.$$d_$2ka);this.$gW&&this.$gW.remove_PostNavigation(this.$$d_$2ug);this.$YX.dispose();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("CanGoBack",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("DialogPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("PopupPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("QuickCreateFormPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("TaskBasedFlowFormPresent",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("SiteMapVisible",this.$$d_$3Ad),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().RemovePropertyChangedListener("GlobalMenuVisible",this.$$d_$3Ad))},$220:function(){for(var n,i=this.get_DialogConductor(),t=i.get_ActiveNavigationStack().get_Count()-1;t>=0;t--)if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(i.get_ActiveNavigationStack().get_$R(t))&&(n=i.get_ActiveNavigationStack().get_$R(t),n.$g===5||n.$g===22||n.$g===12||n.$g===39))return n;return null},$lE:function(n,t){if(!$0.$0(n))if(n.$g===2||n.$g===40)if($0.$0(n.get_$1B())){Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$1DH(t,!0);var i=!1;Microsoft.Crm.Client.Core.ViewModels.$86.isInstanceOfType(n)&&(i=n.get_LaunchedWithUnsavedChanges());i?this.$1he(n,null):n.add_$FD(this.$1Oz)}else this.$lp(!0,t,n);else n.$g===5?$0.$0(n.get_$1B())?(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$1DH(t,!0),n.add_$6F(this.$1Oy)):this.$lp(!0,t,n):this.$lp(!0,t,n)},$1he:function(n){var t=n,i;t.remove_$FD(this.$1Oz);i=t.$g===5?2:1;this.$lp(!1,i,t)},$2v6:function(n){var t=n;t.remove_$6F(this.$1Oy);this.$lp(!1,2,t)},$lp:function(n,t){n?Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$1rY(!0,t):Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$1fn(!0,t)},$2sd:function(n,t){var i=n;switch(t){case"Top":i.get_ActiveNavigationStack().get_Count()>1?(this.set_BackButtonToolTip(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Back_Button_Text")),this.set_CanGoBack(!0)):(this.set_BackButtonToolTip(""),this.set_CanGoBack(!1));Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("CanGoBack",this.get_CanGoBack());$0.$0(this.$4e)||this.$2OW(i);this.clearSelectedViewModels();this.$33a();this.$2Hc(i);this.$1nD();!$0.$0(this.$4e)&&this.$4e.$lo&&(this.$4e.$lo=!1);this.$1nL();break;case"VMRemoved":this.$2Hc(i)}},$2tU:function(){this.$1nL()},$1nL:function(){var n=window.Xrm;n.Page=this.get_XrmPage()},$2u3:function(){var n,t,i;Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.get_CanvasConductor().get_Top())&&(n=this.get_CanvasConductor().get_Top().$2Be(),$0.$0(this.$4e)||!this.$4e.get_$O9()||$0.$0(this.$4e.get_$1EC())||(n.$UH=this.$4e.get_$1EC().$4Z),t={},t[(this.get_CanvasConductor().get_ActiveNavigationStack().get_Count()-1).toString()]=n,i=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("NavigationStackKey",t,!0).done(function(){Microsoft.Crm.Client.Core.Commands.$2R.$2Ax()})},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$18w,"ApplicationShellViewModel.OnListDataContextChanged.SaveSessionState"));this.$1nD()},$2ug:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Nu(t.$15M,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2rz()),this.$YX.$17g(t.$15M),Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&!t.$15M.$BY)Microsoft.Crm.Client.Core.ViewModels.$10.$wc(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notification_Field_Error"),3,"FieldErrorNotification",null,-1)},$2Hc:function(n){var i,t,r;if(!Microsoft.Crm.Client.Core.Framework.$6.$4N){for(i={},t=0;t<n.get_ActiveNavigationStack().get_Count();t++)Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n.get_ActiveNavigationStack().get_$R(t))&&(i[t.toString()]=n.get_ActiveNavigationStack().get_$R(t).$2Be());this.$1Lg>0?this.$1Lg--:(r=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("NavigationStackKey",i,!1).done(function(){Microsoft.Crm.Client.Core.Commands.$2R.$2Ax()})},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$18w,"ApplicationShellViewModel.UpdateNavigationStack.SaveSessionState"))}},$133:function(n,t){return n.get_ActiveNavigationStack().get_Count()>=t?n.get_ActiveNavigationStack().get_$R(n.get_ActiveNavigationStack().get_Count()-t):null},$21T:function(n,t){for(var i=this.$133(n,t),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents");!$0.$0(i)&&i.$g!==2&&i.$g!==40&&i.$g!==5&&i.$g!==12&&i.$g!==39&&(!r||i.$g!==13);)if(n.get_ActiveNavigationStack().get_Count()>t)i=this.$133(n,++t);else return null;return i},$2OW:function(n){var i=n.get_ActiveNavigationStack().get_$R(n.get_ActiveNavigationStack().get_Count()-1),t=new Array(0),u=this.get_ListNavigationEnabled(),f=this.get_ListPosition(),e=this.get_ListNavigationRecordCount(),o=this.get_ListNavigationIndicatorRecordTitle(),r;$0.$0(i.$K)||$0.$0(i.$K.$M)?this.$4e.set_$O9(!1):(r=i.$K.$M.ListNavigationContext,$0.$0(r)?this.$4e.set_$O9(!1):(this.set_ListNavigationContext(r),Array.add(t,"ListNavigationContext"),this.$4e.set_$O9(!0)));u!==this.get_ListNavigationEnabled()&&Array.add(t,"ListNavigationEnabled");f!==this.get_ListPosition()&&Array.add(t,"ListPosition");e!==this.get_ListNavigationRecordCount()&&Array.add(t,"ListNavigationRecordCount");o!==this.get_ListNavigationIndicatorRecordTitle()&&Array.add(t,"ListNavigationIndicatorRecordTitle");t.length>0&&this.$re(t)},$2ts:function(n){this.$uq(n)},$2qZ:function(n){var t=n.$6b;this.set_$vH(Microsoft.Crm.Client.Core.Framework.Guid.createFromObjectData(t))},$25j:function(){this.set_$vH(Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.$1Q.get_$Xq():this.$1Q.get_$1Ea())},isCrmDialogActive:function(){return this.$1Em.$2Pw(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel)},$31y:function(n){var t,i,r;return Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)?(t=n,i=new Sys.StringBuilder(t.$1W),$0.$0(t.get_ModelContext())?$0.$0(t.$K)||$0.$0(t.$K.$M)||(r=t.$K.$M.ListDefinitionId,$0.$0(r)||(i.append(":"),i.append(r))):(i.append(":"),i.append(t.get_ModelContext().get_Id())),i.toString()):Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(n)?n.get_Name():(Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Attempted to resolve a page key for an unrecognized ViewModel."),Error.invalidOperation("Attempted to resolve a page key for an unrecognized ViewModel."),null)},$1nD:function(){this.$1fP=new Date;this.$7("NavigationValidityTime")},$2M2:function(){var t=this.$a8.$10j,n;$0.$0(t)||(n=t.$B1(null),n.add_$AT(this.$1MF),n.add_$Qe(this.$1MF),this.$Ng.$2C(n),this.set_IsAttemptingConnection(!0),this.clearSelectedViewModels())},$2Uc:function(){var n=this.$a8.$1gM,t;$0.$0(n)||(t=n.$56(),this.$Ng.$2C(t))},updateOfflineText:function(){var i=this.$ZV||$0.$0(this.get_$26l())?"":Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Retrieved_Text"),this.get_$26l()),r,n,t;if(this.set_LastRetrievedTextClassName("lastRetrievedText"),!$0.$0(this.get_CanvasConductor().get_Top())&&this.get_IsOptinEnabled()){if(this.$2XQ(),r=this.get_CanvasConductor().get_Top().$g===1,this.$3B9(),r){this.$3B7();return}if(n=this.$Ox.$21o(),t=this.get_CanvasConductor().get_Top().$D,!$0.$0(n)&&n.get_Count()>0&&n.contains(t)){this.set_LastRetrievedText("");return}this.$3B6(i,t)}else this.set_LastRetrievedText(i)},$2XQ:function(){var n=this.$4d("UpdateOfflineStatusText");$0.$0(n)||n(this,null)},$3B7:function(){this.set_LastRetrievedText(this.$15S);this.set_LastRetrievedTextClassName(this.$15T)},$3B6:function(n,t){var i=!1,f=this.$Ox.$20R(t),r,u;switch(f){case 1:if(i=!0,Xrm.Utility.isOfflineDataStoreAvailable())this.set_LastRetrievedTextClassName("offlineEnabled");else{this.$ZV&&this.set_LastRetrievedText(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Synced_Initialize_Text"));this.set_LastRetrievedTextClassName("offlineStoreUnavailable");return}break;case 2:if(this.$ZV&&(i=!0),Xrm.Utility.isOfflineDataStoreAvailable())this.set_LastRetrievedTextClassName("offlineDisabled");else{this.$ZV&&this.set_LastRetrievedText(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Synced_Initialize_Text"));this.set_LastRetrievedTextClassName("offlineStoreUnavailable");return}break;default:i=!1}i?(r=this,u=this,this.$2gy(t).then(function(n){r.set_LastRetrievedText(n)},function(){u.set_LastRetrievedText(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Synced_Initialize_Text"));Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Error getting last offline sync time.")})):this.set_LastRetrievedText(n)},$3B9:function(){var n="",t="lastRetrievedText",i=this.get_GetOfflineSyncStatusInfo();if(!$0.$0(this.get_CanvasConductor().get_Top())&&this.get_IsOptinEnabled()&&!$0.$0(i))switch(i.$JC){case 0:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Offline_Not_Available");t="offlineStoreUnavailable";break;case 1:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Initializing");t=i.$N1===-1?"offlineInitialSyncFailure":"offlineStoreUnavailable";break;case 2:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Offline_Available");t=i.$N1?"metadataOutOfSync":"offlineAvailable"}this.$15S=n;this.$15T=t},$2gy:function(n){var t=MscrmComponents.DeferredPromiseFactory(String,Microsoft.Crm.Client.Core.Framework.$7),i="",r=this,u=this;return this.$Ox.$2C8(n).then(function(n){Microsoft.Crm.Client.Core.Framework.$3.$9(n)?t.reject():(i=Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Synced_Text"),Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$OP(new Date(n),1)),t.resolve(i))},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,n.$F);t.reject(n)}),t.promise()},$2xU:function(){this.set_IsAttemptingConnection(!1)},$3Ad:function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.updateBackBehavior()},$2gp:function(){return null}};Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext.initializeBase(this,[new Microsoft.Crm.Client.Core.ViewModels.$3R]);$0.$0(n)?(this.$7p=new Array(0),this.$8m=!1):(this.$23X_1(n),this.$MC=i,this.set_CurrentIndex(t),this.$h9=-1,this.$8m=!0)};Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext.prototype={$7p:null,$AV:0,$h9:0,$MC:null,$8m:!1,$lo:!1,get_CurrentIndex:function(){return this.$AV},set_CurrentIndex:function(n){return this.$h9=this.$AV,this.$AV=n,this.$8m=!0,n},get_AtStart:function(){return this.get_$O9()?!this.$AV:!1},get_AtEnd:function(){return this.get_$O9()?this.$AV===this.$7p.length-1:!1},get_$1RB:function(){return this.$7p.length-1},get_ListLength:function(){return this.$7p.length},get_$O9:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?!1:this.$8m&&this.$7p.length>1},set_$O9:function(n){return this.$8m=n,n},get_ListNavigationInProgress:function(){return this.$lo},set_ListNavigationInProgress:function(n){return this.$lo=n,n},get_$1EC:function(){return this.$7p[this.$AV]},get_ShouldCreateNewPage:function(){return this.$7p[this.$AV].get_ModelContext().get_$Fe()!==this.$7p[this.$h9].get_ModelContext().get_$Fe()},get_$2py:function(){return this.get_$O9()?this.$AV/this.get_$1RB():0},$2rv:function(n){this.$AV!==n&&n<=this.get_$1RB()&&n>=0&&this.set_CurrentIndex(n)},listNavigationTypeForLastNavigation:function(){return this.$AV>this.$h9?1:2},$2ji:function(n){var r="",t,i;return $0.$0(this.$7p)||this.$7p.length>0&&n<=this.get_$1RB()&&n>=0&&!$0.$0(this.$7p[n])&&(t=this.$7p[n].get_ModelContext(),$0.$0(t)||$0.$0(this.$MC)||(i=t.GetValue(this.$MC),$0.$0(i)||(r=i.toString()))),r},openNewPageForCurrentIndex:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this.get_$1EC(),2);n.$MU=5;n.$x={ListNavigationContext:this};n.execute();n.dispose()},$23X_1:function(n){this.$7p=new Array(n.get_Count());for(var t=0;t<n.get_Count();t++)this.$7p[t]=n.get_$R(t),this.$7p[t].$10l=t}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext=function(n,t,i,r,u){this.$fi=-1;this.$c4=-1;this.$18=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.IModel));Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext.initializeBase(this);$0.$0(n)?(this.$7p=new Array(0),this.set_$O9(!1)):($0.$0(r)||(this.$1KI=u,this.$PA=r,this.$Sb=r.get_PageSize(),this.$zR=r.getTotalRecordsCount(),this.$23X(n)),this.$MC=i,this.set_CurrentIndex(t),this.$h9=-1,this.set_$O9(!0),this.get_$Jo()>1&&this.$AV!==-1&&!this.$1KI&&(this.set_CurrentIndex(t+this.$Sb*(this.get_$Jo()-1)),this.$h9=this.$AV-1),$0.$0(r)&&this.set_CurrentIndex(-1))};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext.prototype={$PA:null,$1Jw:!1,$1KI:!1,$zR:0,$Sb:0,get_$Jo:function(){return $0.$0(this.$PA)?-1:this.$PA.getCurrentPageIndex()},$1i3:function(n){$0.$0(this.$PA)||(this.$1Jw=n,this.$PA.$1i3(this,n))},$2Hv:function(){var i,r,n,u,f,t;if(!$0.$0(this.$PA)){if(i=this.$PA.$1f,r=i.get_Count(),this.$1Jw){for(n=this.$c4;n<this.$c4+r;n++)this.$7p[n]=i.get_$R(n-this.$c4),this.$7p[n].$10l=n,this.$18.set_$R(n,i.get_$R(n-this.$c4).get_ModelContext());this.$c4=n}else{for(u=0,f=this.$fi-r,t=f;t<this.$fi;t++)this.$7p[t]=i.get_$R(u),this.$7p[t].$10l=t,this.$18.set_$R(t,i.get_$R(u).get_ModelContext()),u++;this.$fi=this.$fi-r}Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2s8(this.$1Jw)}},get_AtEnd:function(){return this.get_$O9()?this.$AV===this.$zR-1:!1},get_ListLength:function(){return this.$c4-this.$fi},get_$1RB:function(){return this.$c4},get_$O9:function(){return this.$8m&&(this.get_ListLength()>1||this.get_$Jo()>1)},set_$O9:function(n){return this.$8m=n,n},get_$1EC:function(){return $0.$0(this.$7p[this.$AV].get_ModelContext())&&this.$7p[this.$AV].set_ModelContext(this.$18.get_$R(this.$AV)),this.$7p[this.$AV]},get_ShouldCreateNewPage:function(){return this.$18.get_$R(this.$AV).get_$Fe()!==this.$18.get_$R(this.$h9).get_$Fe()},openNewPageForCurrentIndex:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this.get_$1EC(),40);n.$MU=5;n.$x={ListNavigationContext:this};n.execute();n.dispose()},$23X:function(n){var i,t;for(this.$7p=new Array(this.$PA.getTotalRecordsCount()),i=this.$1KI?0:(this.get_$Jo()-1)*this.$Sb,this.$fi=i,t=0;t<n.get_Count();t++)this.$7p[t+i]=n.get_$R(t),this.$7p[t+i].$10l=t+i,this.$18.set_$R(t+i,n.get_$R(t).get_ModelContext());this.$c4=i+t},$24L:function(n){var t,i;return!$0.$0(this.$7p)&&this.$7p.length>0&&n<=this.get_$1RB()&&n>=0&&!$0.$0(this.$7p[n])&&(t=this.$7p[n].get_ModelContext(),!$0.$0(t))?(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(t.get_$Fe()),$0.$0(i)?!1:i.$BW):!1},dispose:function(){var n,i,t,r;if($0.$0(this.$PA)||(this.$PA.dispose(),this.$PA=null),!$0.$0(this.$18)){for(n=0;n<this.$18.get_Count();n++)i=this.$18.get_$R(n),i.$5E(),i=null;this.$18=null}if(!$0.$0(this.$7p)){for(t=0;t<this.$7p.length;t++)r=this.$7p[t],r.dispose(),r=null;this.$7p=null}}};Microsoft.Crm.Client.Core.ViewModels.$2g=function(){};Microsoft.Crm.Client.Core.ViewModels.$ST=function(){this.get_$tN=this.get_IsValid;this.set_$qu=this.set_DataBindingValidatorResult;this.set_$KO=this.set_ManualValidatorResult;this.set_$ve=this.set_RecommendationNotification;Microsoft.Crm.Client.Core.ViewModels.$ST.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$hS=this.get_RequiredLevel;this.set_$hS=this.set_RequiredLevel;Microsoft.Crm.Client.Core.ViewModels.$ST.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$ST.prototype={add_$2CW:function(n){this.$1p("RevalidateEvent",n)},remove_$2CW:function(n){this.$32("RevalidateEvent",n)},get_IsValid:function(){return($0.$0(this.$8W)||this.$8W.$57)&&($0.$0(this.$7u)||this.$7u.$57)},get_ErrorMessage:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$47:this.$7u.$47},get_ErrorMessageLevel:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$eo:this.$7u.$eo},$8W:null,get_DataBindingValidatorResult:function(){return this.$8W},set_DataBindingValidatorResult:function(n){if(this.$8W!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$8W=n;this.$7("DataBindingValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7u:null,get_ManualValidatorResult:function(){return this.$7u},set_ManualValidatorResult:function(n){if(this.$7u!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$7u=n;this.$7("ManualValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7P:null,get_AcceptanceTextMessage:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?"":this.$7P.actions[0].message},get_AcceptanceActions:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?null:this.$7P.actions[0].actions[0]},get_RecommendationNotification:function(){return this.$7P},set_RecommendationNotification:function(n){return this.$7P!==n&&(this.$7P=n,this.$7("RecommendationNotification")),n},$9U:0,get_RequiredLevel:function(){return this.$9U},set_RequiredLevel:function(n){return this.$9U!==n&&(this.$9U=n,this.$1Fq("RequiredLevel","Required","Recommended")),n},get_Required:function(){return this.$9U===1||this.$9U===2},get_Recommended:function(){return this.$9U===3},$2XL:function(){var n=this.$4d("RevalidateEvent");n&&n()}};Microsoft.Crm.Client.Core.ViewModels.$SD=function(){this.get_$tN=this.get_IsValid;this.set_$qu=this.set_DataBindingValidatorResult;this.set_$KO=this.set_ManualValidatorResult;this.set_$ve=this.set_RecommendationNotification;Microsoft.Crm.Client.Core.ViewModels.$SD.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$hS=this.get_RequiredLevel;this.set_$hS=this.set_RequiredLevel;Microsoft.Crm.Client.Core.ViewModels.$SD.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$SD.prototype={add_$2CW:function(n){this.$1p("RevalidateEvent",n)},remove_$2CW:function(n){this.$32("RevalidateEvent",n)},get_IsValid:function(){return($0.$0(this.$8W)||this.$8W.$57)&&($0.$0(this.$7u)||this.$7u.$57)},get_ErrorMessage:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$47:this.$7u.$47},get_ErrorMessageLevel:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$eo:this.$7u.$eo},$8W:null,get_DataBindingValidatorResult:function(){return this.$8W},set_DataBindingValidatorResult:function(n){if(this.$8W!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$8W=n;this.$7("DataBindingValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7u:null,get_ManualValidatorResult:function(){return this.$7u},set_ManualValidatorResult:function(n){if(this.$7u!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$7u=n;this.$7("ManualValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7P:null,get_AcceptanceTextMessage:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?"":this.$7P.actions[0].message},get_AcceptanceActions:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?null:this.$7P.actions[0].actions[0]},get_RecommendationNotification:function(){return this.$7P},set_RecommendationNotification:function(n){return this.$7P!==n&&(this.$7P=n,this.$7("RecommendationNotification")),n},$9U:0,get_RequiredLevel:function(){return this.$9U},set_RequiredLevel:function(n){return this.$9U!==n&&(this.$9U=n,this.$1Fq("RequiredLevel","Required","Recommended")),n},get_Required:function(){return this.$9U===1||this.$9U===2},get_Recommended:function(){return this.$9U===3},$2XL:function(){var n=this.$4d("RevalidateEvent");n&&n()}};Microsoft.Crm.Client.Core.ViewModels.ValueFactory=function(){};Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$1Dw=function(n,t){var i=null;return t.ValueTypeName in Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$1YL&&(i=Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$1YL[t.ValueTypeName](n,t)),i};Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$2p9=function(n){if($0.$0(n))return!1;var t=n.ValueTypeName;return!Microsoft.Crm.Client.Core.Framework.$3.$9(t)};Microsoft.Crm.Client.Core.ViewModels.$KE=function(){this.$$d_$6f=Function.createDelegate(this,this.$6f)};Microsoft.Crm.Client.Core.ViewModels.$KE.prototype={$6f:function(){var n=this.$1Dw();return this.$36z(n),n},$36z:function(){}};Microsoft.Crm.Client.Core.ViewModels.$9=function(){this.$191={};this.$1SC={};this.$1no={};this.$w6={};this.$1Bc={};this.$nF={};this.$1Nr={}};Microsoft.Crm.Client.Core.ViewModels.$9.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$9.$3)&&(Microsoft.Crm.Client.Core.ViewModels.$9.$3=new Microsoft.Crm.Client.Core.ViewModels.$9),Microsoft.Crm.Client.Core.ViewModels.$9.$3};Microsoft.Crm.Client.Core.ViewModels.$9.prototype={$2BN:function(n){for(var t,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),f=this.$nF[n],u=this.$1OH(f),i=0;i<u.get_Count();i++)t=u.get_$R(i),t in this.$nF&&(delete this.$nF[t],t in this.$w6&&delete this.$w6[t],r.add(t));return r},$1OH:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),f,i,r,u,e,o;if($0.$0(n))return t;if(f=n.get_ViewModelId(),Microsoft.Crm.Client.Core.ViewModels.$78.isInstanceOfType(n)&&(i=n,!$0.$0(i.get_childViewModels()))){r=i.get_childViewModels();for(u in r)e={key:u,value:r[u]},o=e.value,t.addRange(this.$1OH(o).toArray())}return this.$2BM(n),n.dispose(),t.add(f),t},$2BM:function(n){if(n){var t=n.get_ViewModelId(),i=this.$1Nr[t];$0.$0(i)||(i.$5E(),delete this.$1Nr[t])}},$2Hl:function(n,t,i,r){var u=this.$nF[n],f;$0.$0(u)||(f=null,f=$0.$0(i)?u.get_ModelContext():i,Microsoft.Crm.Client.Core.ViewModels.$77.isInstanceOfType(u)&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?u.$2i===u?u.set_StartIndex(1e3):Microsoft.Crm.Client.Core.ViewModels.$77.isInstanceOfType(u.$2i)&&u.set_StartIndex(u.$2i.get_NextTabIndex()):u.set_StartIndex(-3e4)),this.$3Bp(u,t,f,!u.get_$1Xq(),r))},$3Bp:function(n,t,i,r,u){var e,f,o;$0.$0(n)||(Microsoft.Crm.Client.Core.Framework.$3.$9(t.Name)||n.set_Name(t.Name),!$0.$0(t.FieldMetadata)&&Microsoft.Crm.Client.Core.ViewModels.$Cr.isInstanceOfType(n)&&n.set_FieldMetadata(t.FieldMetadata),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(n)&&!$0.$0(t.ControlProperties)&&(n.$10m=t.ControlProperties),$0.$0(t.Properties)||this.$3Bq(n,t),e=this,f=function(){Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(n)&&(Microsoft.Crm.Client.Core.Framework.$3.$9(t.PrimaryModelName)||n.set_$1u(t.PrimaryModelName),$0.$0(i)||n.set_ModelContext(i));t.IsApiRegistered&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$2Ar(n,t);Microsoft.Crm.Client.Core.ViewModels.$78.isInstanceOfType(n)&&e.$3Al(n,t,i);($0.$0(r)||r)&&n.$2Z()},!$0.$0(u)&&u.$38K()?(o=this,u.$2FB(function(){var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("UpdateViewModelByDescriptor:CompleteUpdate");n.start();f();n.stop()})):f())},$3Bq:function(n,t){for(var i,s,h,u,e,c,r=null,o=t.Properties,l=o.length,f=0;f<l;++f)if(i=o[f],!$0.$0(i))if($0.$0(i.__type))s=i,this.$37S(n,s);else if(i.__type==="Reference"&&Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(n)&&!n.get_$2m9())h=i,r||(r=new Microsoft.Crm.Client.Core.Models.$6J(n),this.$1Nr[n.get_ViewModelId()]=r),r.$2Kq(h);else if(i.__type==="ActionProvider"){if(u=i,e=this.$1Bc[u.ProviderTypeName],$0.$0(e))throw Error.create(String.format("Could not create action provider of type '{0}'",u.ProviderTypeName));c=new e(n,u.InitializationParameters);n["set_"+i.Name](c)}},$8V:function(n){var i=this.$191[n],t,r;return i?(t=new i,t.set_Id(t.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.$4Q.isInstanceOfType(t)&&(this.$nF[t.get_Id()]=t,this.$w6[t.get_Id()]=this.$1no[n],Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(t)&&(r=t,$0.$0(this.$20A(n))||this.$20A(n)(r))),t):(Microsoft.Crm.Client.Core.Framework.$8.$1E("ViewModelFactory",1004,String.format("Can not create view model: '{0}' - Type not found",n)),null)},$6f:function(n,t,i,r){var u=this.$8V(n.TypeName);return $0.$0(u)||u.set_$AH(i),$0.$0(r)||u.set_Root(r),this.$3Bp(u,n,t),u},$1C:function(n,t){this.$191[n]=t},$AL:function(n,t,i,r){this.$191[n]=t;this.$1SC[n]=i;this.$1no[n]=r},$S:function(n,t){this.$191[n]=t},$2zo:function(n,t){this.$1Bc[n]=t},$1zi:function(n){return this.$1Bc[n]},$20A:function(n){var t=null;return n in this.$1SC&&(t=this.$1SC[n]),t},$12c:function(n){var t=null;return n in this.$w6&&(t=this.$w6[n]),t},$2pY:function(n,t){return"set_"+t in n},$37S:function(n,t){if(this.$2pY(n,t.Name)){var i=t.Value;Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$2p9(i)&&(i=Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$1Dw(n,i));n["set_"+t.Name](i)}else Microsoft.Crm.Client.Core.Framework.$8.$1E("ViewModelFactory",1004,String.format("Error setting property name: {0}, view model: name='{1}', type='{2}'",t.Name,n.get_Name(),Object.getType(n).getName()))},$3Al:function(n,t,i){var e=n,o,h,c,l,f,a;if(!$0.$0(t.ChildViewModels)){o={};h=t.ChildViewModels;for(c in h){var s={key:c,value:h[c]},r=null,u=s.value;s.key==="new_testopt"&&(u=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$92.$2Yn(u),t.ChildViewModels[s.key]=u);u.Name in e.get_childViewModels()?(r=o[u.Name],this.$3Bp(r,u,i,!e.get_$1Xq())):(Microsoft.Crm.Client.Core.Framework.$3.$9(u.PrimaryModelName)&&(u.PrimaryModelName=n.get_$1u()),r=this.$8V(u.TypeName),$0.$0(r)||(r.set_$AH(n.get_$AH()),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)?r.set_Root(n):r.set_Root(n.get_Root()),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(r)&&(l=r,l.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(n))),o[s.key]=r),f=null,Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()&&Microsoft.Crm.Client.Core.ViewModels.$77.isInstanceOfType(r)&&($0.$0(r.get_$AH())?$0.$0(r.get_Root())||(f=r.get_Root()):f=r.get_$AH(),$0.$0(f)||r.set_StartIndex(f.get_NextTabIndex())),this.$3Bp(r,u,i,!e.get_$1Xq()),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()&&Microsoft.Crm.Client.Core.ViewModels.$77.isInstanceOfType(r)&&!$0.$0(f)&&(a=r,f.set_NextTabIndex(f.get_NextTabIndex()+a.get_TabSpaceReserved())))}e.$nR(o)}}};Microsoft.Crm.Client.Core.ViewModels.$7n=function(){this.$$d_$2Iu=Function.createDelegate(this,this.$2Iu);Microsoft.Crm.Client.Core.ViewModels.$7n.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$7n.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("MenuItem",Microsoft.Crm.Client.Core.ViewModels.$7n)};Microsoft.Crm.Client.Core.ViewModels.$7n.prototype={$1g:null,$Z9:null,$Z7:null,get_ActionCommand:function(){return this.$1g},set_ActionCommand:function(n){return this.$1g!==n&&($0.$0(this.$1g)||(this.$1g.remove_$1qz(this.$$d_$2Iu),this.$1g.dispose(),this.$1g=null),this.$1g=n,$0.$0(this.$1g)||this.$1g.add_$1qz(this.$$d_$2Iu),this.$rd("ActionCommand","ActionCommandCanExecute")),n},$2Iu:function(){this.$7("ActionCommandCanExecute")},get_ActionCommandCanExecute:function(){return this.$1g.get_CanExecute()},set_ActionCommandCanExecute:function(n){return this.$1g.set_CanExecute(n),n},get_ImageType:function(){return this.$Z9},set_ImageType:function(n){return this.$Z9!==n&&(this.$Z9=n,this.$7("ImageType")),n},get_ImageName:function(){return this.$Z7},set_ImageName:function(n){return this.$Z7!==n&&(this.$Z7=n,this.$7("ImageName")),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);$0.$0(this.$1g)&&this.set_ActionCommand(new Microsoft.Crm.Client.Core.Framework.$Rc)},$Oh:function(){this.set_ActionCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel=function(){this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2vP=Function.createDelegate(this,this.$2vP);Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("ActivityItem",Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1uD=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1ER)&&(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1ER=new Microsoft.Crm.Client.Core.ViewModels.Converters.$Ih),Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1ER};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$389=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Q5)&&(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Q5=new Microsoft.Crm.Client.Core.ViewModels.Converters.$Ij),Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Q5};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1v7=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Ex)&&(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Ex=["DueDateTime","ScheduledStart","ScheduledEnd","IsToday","DueDate","DueMonth","DueTime","PastDue"]),Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Ex};Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.prototype={$17O:null,$17N:null,$nc:null,$1Ft:null,$LJ:null,$Sm:null,$1gl:0,$18G:null,$Tw:null,$k7:null,$tY:null,$wJ:null,$N0:null,$2Un:function(){return!1},get_IsToday:function(){if(!$0.$0(this.get_$Jv())){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$PW,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$18h,n=Microsoft.Crm.Client.Core.Framework.$h.$Lk(new Date,t,1,i);return this.get_$Jv().getFullYear()===n.getFullYear()&&this.get_$Jv().getMonth()===n.getMonth()&&this.get_$Jv().getDate()===n.getDate()}return!1},get_DueDate:function(){if(!$0.$0(this.get_$Jv())){var n=["DateToString",Microsoft.Crm.Client.Core.Framework.$3C.toString(1)];return Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1uD().$Em(this.get_$Jv(),n)}return""},get_$Jv:function(){return this.$3C0()?this.$17O:this.$17N},$3C0:function(){switch(this.$Sm){case"appointment":return!0;case"task":case"phonecall":default:return!1}},get_DueMonth:function(){if(!$0.$0(this.get_$Jv())){var n=["Month",Microsoft.Crm.Client.Core.Framework.$3C.toString(1)];return Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1uD().$Em(this.get_$Jv(),n)}return""},get_DueYear:function(){return $0.$0(this.get_$Jv())?"":this.get_$Jv().getFullYear().toString()},get_DueTime:function(){return $0.$0(this.get_$Jv())?"":Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$389().$Em(this.get_$Jv(),1)},get_SentTime:function(){return this.$N0.getValue("value")===2||this.$N0.getValue("value")===3?$0.$0(this.$wJ)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_NotSent_Text"):this.$1we(this.$wJ,!0):!$0.$0(this.$k7)&&(this.$N0.getValue("value")===1||this.$N0.getValue("value")===6)?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_DelayEmail_Text"),Microsoft.Crm.Client.Core.ViewModels.$1c.getShortDateTimeFormat(this.$k7)):""},get_LastOpened:function(){return this.$N0.getValue("value")===2||this.$N0.getValue("value")===3?$0.$0(this.$tY)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_NotOpened_Text"):this.$1we(this.$tY,!1):""},get_PastDue:function(){if(!$0.$0(this.get_$Jv())){var n=new Date;if(n.setHours(23),n.setMinutes(59),n.setSeconds(59),this.get_$Jv()<=n)return!0}return!1},get_ScheduledStartTime:function(){return this.$17O},set_ScheduledStartTime:function(n){return Microsoft.Crm.Client.Core.Framework.$2X.$Nk(this.$17O,n)||(this.$17O=n,this.$re(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1v7())),n},get_ScheduledEndTime:function(){return this.$17N},set_ScheduledEndTime:function(n){return Microsoft.Crm.Client.Core.Framework.$2X.$Nk(this.$17N,n)||(this.$17N=n,this.$re(Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.get_$1v7())),n},get_Subject:function(){return this.$nc},set_Subject:function(n){return this.$nc!==n&&(this.$nc=n,this.$7("Subject")),n},get_FirstProperty:function(){return this.$1Ft},set_FirstProperty:function(n){return this.$1Ft!==n&&Object.getType(n)===String&&(this.$1Ft=n,this.$7("FirstProperty")),n},get_ActivityState:function(){return this.$LJ},set_ActivityState:function(n){return this.$LJ=n,this.$7("Completed"),this.$7("CheckBoxEnabled"),n},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this);this.set_Enabled(this.$24y());this.$7("CheckBoxEnabled")},get_CheckBoxEnabled:function(){return $0.$0(this.$LJ)?!1:this.get_Enabled()&&(this.$LJ.$1s===0||this.$LJ.$1s===3)?!0:!1},get_Completed:function(){return $0.$0(this.$LJ)?!1:this.$LJ.$1s===1||this.$LJ.$1s===2},set_Completed:function(n){return $0.$0(this.$LJ)||(this.$1gl=this.$LJ.$1s,this.$LJ.$1s=1,this.$7("Completed"),this.$7("CheckBoxEnabled"),this.$3Bf(1)),n},get_StateRequestActionProvider:function(){return this.$18G},set_StateRequestActionProvider:function(n){return this.$18G=n,n},get_ActivityType:function(){return this.$Sm},set_ActivityType:function(n){return this.$Sm!==n&&(this.$Sm=n,this.$7("ActivityType")),n},get_LastOpenedTime:function(){return this.$tY},set_LastOpenedTime:function(n){return this.$tY!==n&&(this.$tY=n,this.$7("LastOpened")),n},get_IsEmailFollowed:function(){return this.$Tw},set_IsEmailFollowed:function(n){return this.$Tw=n,this.$7("IsEmailEngagementFeatureEnabled"),this.$7("FollowEmail"),this.$7("DelayEmail"),n},get_DelayedEmailSendTime:function(){return this.$k7},set_DelayedEmailSendTime:function(n){return this.$k7!==n&&(this.$k7=n),n},get_StatusCode:function(){return this.$N0},set_StatusCode:function(n){return this.$N0!==n&&(this.$N0=n),n},get_IsEmailEngagementFeatureEnabled:function(){return this.$Sm==="email"&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("EmailEngagement")},get_FollowEmail:function(){var n=!1;return $0.$1Y(this.$Tw)||this.$N0.getValue("value")!==4&&(n=this.$Tw.getValue("value")),n},get_DelayEmail:function(){var n=!1;return $0.$0(this.$k7)||this.$N0.getValue("value")!==1&&this.$N0.getValue("value")!==6||(n=!0),n},get_SentOn:function(){return this.$wJ},set_SentOn:function(n){return this.$wJ!==n&&(this.$wJ=n,this.$7("SentTime")),n},$2vP:function(){Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("ActivityItemViewModel_ActionFailureNotification")},$MZ:function(n){this.$LJ.$1s=this.$1gl;this.$7("CheckBoxEnabled");this.$7("Completed");Microsoft.Crm.Client.Core.ViewModels.$10.$wc(n.$F,3,"ActivityItemViewModel_ActionFailureNotification")},$3Bf:function(n){var t,i;Microsoft.Crm.Client.Core.Framework.$6.$4N||$0.$0(this.$18G)||(t={},t.statecode=n,t.entitylogicalname=this.$Sm.toLowerCase(),i=this.$18G.$B1(t),i.add_$by(this.$$d_$2vP),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i))},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He)},$He:function(){this.set_Enabled(this.$24y());this.get_Enabled()&&Microsoft.Crm.Client.Core.ViewModels.$10.$Lc("ActivityItemViewModel_ActionFailureNotification");this.$7("CheckBoxEnabled")},$24y:function(){var n=this.$Sm?this.$Sm.toLowerCase():null;return Microsoft.Crm.Client.Core.ViewModels.$a.$G5(n)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$14N(this.$Sm,this.get_ModelContext(),2)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$1we:function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_Justnow_Text"),r=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_Hour_Text"),u=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_Hours_Text"),f=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_Today_Text"),e=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_Yesterday_Text"),o=t?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_Sent_Text"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_Lastopened_Text"),s=Microsoft.Crm.Client.Core.ViewModels.$1c.formatActivitiesSentOrOpenedAsReadableString(n,i,r,u,f,e);return String.format(o,s)}};Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("OfficeGraphDocumentItem",Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel.prototype={$1LV:null,$5i:null,$rb:null,$1QX:null,$1Lu:null,get_IconBackgroundClass:function(){return"document_Icon "+Microsoft.Crm.Client.Core.Framework.$6x.$20B(this.$rb)+"_BackgroundColor document_Icon_Container"},get_DocumentIconClass:function(){return"officeIcon "+Microsoft.Crm.Client.Core.Framework.$6x.$20B(this.$rb)+" fileIconBackgroundColor"},get_ModifiedTime:function(){return this.$1LV},set_ModifiedTime:function(n){return Microsoft.Crm.Client.Core.Framework.$2X.$Nk(this.$1LV,n)||(this.$1LV=n,this.$7("ModifiedTime")),n},get_Title:function(){return this.$5i},set_Title:function(n){return this.$5i!==n&&(this.$5i=n,this.$7("Title")),n},get_FileType:function(){return this.$rb},set_FileType:function(n){return this.$rb!==n&&(this.$rb=n,this.$7("FileType")),n},get_SiteTitle:function(){return this.$1QX},set_SiteTitle:function(n){return this.$1QX!==n&&(this.$1QX=n,this.$7("SiteTitle")),n},$Oh:function(){$0.$0(this.$1Lu)||(this.$1Lu.dispose(),this.$1Lu=null);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel=function(){this.$$d_$1M0=Function.createDelegate(this,this.$1M0);this.$$d_$2tA=Function.createDelegate(this,this.$2tA);this.$$d_$27G=Function.createDelegate(this,this.$27G);this.$$d_$1rR=Function.createDelegate(this,this.$1rR);this.$$d_$2Jh=Function.createDelegate(this,this.$2Jh);this.$$d_$2LJ=Function.createDelegate(this,this.$2LJ);this.$$d_$2KD=Function.createDelegate(this,this.$2KD);this.$$d_$1oq=Function.createDelegate(this,this.$1oq);Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel.initializeBase(this);this.$1IL=!0;this.$10K=!1};Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("AddAttachment",Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel)};Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel.prototype={$69:null,$1IL:!1,$10K:!1,$pg:null,$pi:null,$pm:null,$ph:null,get_Text:function(){return this.$69},set_Text:function(n){return this.$69=n,this.$7("Text"),n},get_HideAddAttachment:function(){return this.$1IL},set_HideAddAttachment:function(n){return this.$1IL=this.$10K?n:!0,this.$7("HideAddAttachment"),n},get_CanAddAttachment:function(){return this.$10K},set_CanAddAttachment:function(n){return this.$10K=n,this.$7("CanAddAttachment"),n},get_AddAttachmentCommand:function(){return this.$pg},set_AddAttachmentCommand:function(n){return this.$pg=n,n},get_AddImageCommand:function(){return this.$pi},set_AddImageCommand:function(n){return this.$pi=n,n},get_AddVideosCommand:function(){return this.$pm},set_AddVideosCommand:function(n){return this.$pm=n,n},get_AddAudioCommand:function(){return this.$ph},set_AddAudioCommand:function(n){return this.$ph=n,n},get_HideCamera:function(){return!(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL())},get_HideMicrophone:function(){return!(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$24B())},get_HideVideo:function(){return!(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$2nr())},get_$2et:function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())?"":Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$1dA()},get_PhotoSaveEnabled:function(){return!(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$1iJ())},get_CameraText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notes.Camera_Tooltip")},get_AudioText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notes.Audio_Tooltip")},get_VideoText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notes.Video_Tooltip")},get_$Rb:function(){return $0.$0(this.$2)?null:this.$2.$5Q(this)},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$pg=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1oq,9);this.$pi=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2KD,9);this.$pm=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2LJ,9);this.$ph=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Jh,9);$0.$0(this.$2)||this.$2.AddPropertyChangedListener("ChildViewModels",this.$$d_$1rR)},$1rR:function(){$0.$0(this.get_$Rb())||(this.get_$Rb().AddPropertyChangedListener("AddAttachmentMode",this.$$d_$27G),this.$27G(this,"AddAttachmentMode"))},$27G:function(n,t){if(t==="AddAttachmentMode"&&!$0.$0(this.get_$Rb()))switch(this.get_$Rb().$1V8){case 1:this.set_Text(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notes.ReplaceAttachment"));break;case 0:default:this.set_Text(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notes.AddAttachment"))}},$1oq:function(){var n,t;this.get_IsInteractionCentricEnabled()?(n=$get("attachmentFileInput"),n.click()):(t=this,this.getAttachmentFile().done(function(n){t.$1gz(n)}))},$2KD:function(){var n,t,i,r;!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()&&(n=new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions,t=this.get_$2et(),$0.$0(t)||(t==="DeviceDefault"?(n.targetWidth="-1",n.targetHeight="-1"):(i=t.indexOf("X")===-1?t.split("x"):t.split("X"),n.targetWidth=i[0],n.targetHeight=i[1])),n.destinationType=1,n.pictureSourceType=1,n.maxUploadFileSize=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ(),n.allowEdit=!0,n.quality=50,n.saveToPhotoAlbum=this.get_PhotoSaveEnabled(),r=this,this.getCameraPicture(n).done(function(n){r.$1gz(n)}))},$2LJ:function(){var n,t;!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()&&(n=new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions,n.maxUploadFileSize=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ(),t=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().$jU(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Nz.captureVideoFromDevice(t.$$d_$2tA,t.$$d_$1M0,"CaptureVideo",n)}))},$2Jh:function(){var n,t;!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$24B()&&(n=new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions,n.maxUploadFileSize=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ(),t=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().$jU(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Nz.captureAudioFromDevice(t.$$d_$2tA,t.$$d_$1M0,"CaptureAudio",n)}))},submitFile:function(n,t,i,r){var u;if(!this.isFileSizeTooLarge(r)){if(Microsoft.Crm.Client.Core.Framework.$3.$9(n)||r<=0||Microsoft.Crm.Client.Core.Framework.$3.$9(t)){this.$15a(0);return}if(Microsoft.Crm.Client.Core.ViewModels.$5w.$1J8(n)){this.$15a(4);return}Microsoft.Crm.Client.Core.Framework.$3.$9(i)&&(i="application/octet-stream");u=$46.$Lp(t.toString());this.get_ModelContext().SetValue("filename",n);this.get_ModelContext().SetValue("documentbody",u);this.get_ModelContext().SetValue("isdocument",new Microsoft.Crm.Client.Core.ViewModels.$Bm("1",""));this.get_ModelContext().SetValue("mimetype",i)}},isFileSizeTooLarge:function(n){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ();return n>t?(this.$1QL(),!0):!1},$38V:function(n){var i=!0,t=n[Microsoft.Crm.Client.Core.Framework.ErrorConverter.$11f],r,u;try{if(t.startsWith("MultimediaDispatcherErrorDomain"))r=t.substr(31);else if(t.startsWith("ImagePickerControllerError"))r=t.substr(26);else throw Error.create("Unknown exception type encountered");u=Number.parseInvariant(r);switch(u){case 1:i=!1;break;case 5:i=!1;this.$1QL()}}catch(f){}i&&Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094008)},$1gz:function(n){this.get_ModelContext().SetValue("filename",n.get_$H7());this.get_ModelContext().SetValue("documentbody",n.get_$H6());this.get_ModelContext().SetValue("isdocument",new Microsoft.Crm.Client.Core.ViewModels.$Bm("1",""));this.get_ModelContext().SetValue("mimetype",n.get_$KR())},$2tA:function(n){if($0.$0(n)){this.$1M0(3,"Output from the plugin is empty.");return}this.$1gz(n)},$1J8:function(n){return $0.$0(n)?!1:Microsoft.Crm.Client.Core.ViewModels.$5w.$1J8(n.get_$H7())},$15a:function(n){n!==5&&this.$2rQ(n)},$1M0:function(n,t){n!==1&&this.$38N(n,t)},$2rQ:function(n){switch(n){case 1:Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094009);return;case 4:Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147205623);return;case 2:this.$1QL();return;case 3:Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094010);return;case 0:default:Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094009);return}},$38N:function(n,t){this.$2rA(t);switch(n){case 2:this.$1QL();return;case 3:Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094010);return;case 4:Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094016));return;case 5:Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094017));return;case 6:Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094018));return;case 7:Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094019));return;case 8:Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094020));return;default:return}},$2rA:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MQ("AddAttachmentViewModel.CordovaPluginError",n,"",this.$D);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)},$1QL:function(){var i=Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(-2147205624),n=new Array(0),t;n[0]=(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ()/1024).toString();t=Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147205624,n);Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(i,t,2)},getAttachmentFile:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$1i,String),t=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$a5.get_$26a(),i,r,u,f;return t.get_$2ry()?(i=this,r=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$a5.$2w9(!1,["*"],6,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ(),function(t){i.$29t(t,n)},function(t){r.$15a(t);n.reject(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$R9.$9q.toString(t))})):t.get_$1wp()&&(u=this,f=this,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$a5.$21R(!1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gQ(),function(t){u.$29t([t],n)},function(t){window.setTimeout(function(){f.$38V(t)},1);n.reject(t.toString())})),n},$29t:function(n,t){if($0.$0(n)||n.length!==1||$0.$0(n[0])){this.$15a(0);t.reject(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$R9.$9q.toString(0));return}var i=n[0];if(this.$1J8(i)){this.$15a(4);t.reject(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$R9.$9q.toString(4));return}t.resolve(i)},$2yN:function(n,t){if($0.$0(n)){this.$1M0(3,"");t.reject(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.CordovaMediaDispatcher.$Bq.toString(4));return}t.resolve(n)},getCameraPicture:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$1i,String),i;return!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()?(i=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().$jU(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Nz.takePictureOnDevice(function(n){i.$2yN(n,t)},function(n,r){i.$1M0(n,r);t.reject(Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094016))},"TakePicture",n)})):t.reject(Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094016)),t},$Oh:function(){this.$pg.dispose();this.$pg=null;this.$pi.dispose();this.$pi=null;this.$pm.dispose();this.$pm=null;this.$ph.dispose();this.$ph=null;$0.$0(this.$2)||this.$2.RemovePropertyChangedListener("ChildViewModels",this.$$d_$1rR);$0.$0(this.get_$Rb())||this.get_$Rb().RemovePropertyChangedListener("AddAttachmentMode",this.$$d_$27G);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Q=function(){};Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ=function(n,t,i){if($0.$0(i)||$0.$0(i.$JL)||Object.getType(i.$JL)!==Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P)Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(n),Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(n),2,t);else{var r=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Oa(i.$JL),u=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Os(i.$JL);Microsoft.Crm.Client.Core.ViewModels.$Q.$1QV(Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(n),Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(n),2,t,null,null,null,!1,r,u)}};Microsoft.Crm.Client.Core.ViewModels.$Q.$38R=function(n,t,i,r,u,f,e,o){Microsoft.Crm.Client.Core.ViewModels.$Q.$1QV(n,t,2,i,r,u,f,!1,e,o)};Microsoft.Crm.Client.Core.ViewModels.$Q.$1r2=function(n){return!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$F)&&n.$F!=="Error_Message_Generic_Mobile_Client"&&(!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$JR)||Microsoft.Crm.Client.Core.Framework.Common.$2.$13O("L_OK_Text"))&&(!Microsoft.Crm.Client.Core.Framework.$3.$9(n.$NL)||Microsoft.Crm.Client.Core.Framework.Common.$2.$13O("L_More_Information_Text"))};Microsoft.Crm.Client.Core.ViewModels.$Q.$1lf=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel,r;i.$DZ=1;i.$AG=2;i.set_IsHtmlEncodingRequired(!0);i.$DE=n.$4O;i.set_Message(n.$F);i.$FB=Microsoft.Crm.Client.Core.Framework.$3.$9(n.$JR)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text"):n.$JR;i.$LY=Microsoft.Crm.Client.Core.Framework.$3.$9(n.$NL)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_More_Information_Text"):n.$NL;r=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;r.$DZ=0;r.$AG=2;r.set_IsHtmlEncodingRequired(!0);r.$DE=n.$4O;r.set_Message(n.$De());Microsoft.Crm.Client.Core.Framework.$3.$9(n.$JR)||(r.$FB=n.$JR);i.$C2=t;i.$Gm=function(){r.Show()};r.$C2=function(){Microsoft.Crm.Client.Core.ViewModels.$Q.$1lf(n,t)};i.Show()};Microsoft.Crm.Client.Core.ViewModels.$Q.$38T=function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(n.$m),r=Microsoft.Crm.Client.Core.Framework.Common.$2.$sJ(n),u=n.$JL,f,e;$0.$0(u)||Object.getType(u)!==Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P?Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(i,r,2,t):(f=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Oa(n.$JL),e=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Faults.$1P.$1Os(n.$JL),Microsoft.Crm.Client.Core.ViewModels.$Q.$1QV(i,r,2,t,null,null,null,!1,f,e))};Microsoft.Crm.Client.Core.ViewModels.$Q.$17u=function(n,t,i,r,u,f,e,o){Microsoft.Crm.Client.Core.ViewModels.$Q.$2FQ(n,t,i,r,u,f,e,o,!0)};Microsoft.Crm.Client.Core.ViewModels.$Q.$1QV=function(n,t,i,r,u,f,e,o,s,h){Microsoft.Crm.Client.Core.ViewModels.$Q.$2FQ(n,t,i,r,u,f,e,o,!0,s,h)};Microsoft.Crm.Client.Core.ViewModels.$Q.$38P=function(n,t,i,r,u,f){Microsoft.Crm.Client.Core.ViewModels.$Q.$2FQ(n,t,i,r,u,null,null,f,!1)};Microsoft.Crm.Client.Core.ViewModels.$Q.$2FQ=function(n,t,i,r,u,f,e,o,s,h,c){var l=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;l.$DZ=$0.$0(f)?0:1;l.$DE=n;l.set_IsHtmlEncodingRequired($0.$0(s)?!0:s);t=Microsoft.Crm.Client.Core.ViewModels.$Q.$1pC(i,l,t,h,c);l.set_Message(t);l.$AG=i;Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(l.$FB=u);Microsoft.Crm.Client.Core.Framework.$3.$9(e)||(l.$LY=e);l.$C2=r;l.$Gm=f;$0.$0(o)||l.set_IsAnimationAllowed(o);l.Show()};Microsoft.Crm.Client.Core.ViewModels.$Q.$1pC=function(n,t,i,r,u){return n===2&&(t.$1VP(Microsoft.Crm.Client.Core.ViewModels.$5f.$2T3()),t.$1VP(Microsoft.Crm.Client.Core.ViewModels.$5f.$2QP(r)),t.$1VP(Microsoft.Crm.Client.Core.ViewModels.$5f.$2QQ(u)),t.get_$39R()>0&&(i=Microsoft.Crm.Client.Core.ViewModels.$5f.$2xw(i))),i};Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel.prototype={$11J:!1,$11Q:!1,get_AppCrashDetectedHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppCrashDetected_Header")},get_DisableAllMashupCheckBoxText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppCrashDetected_DisableAllMashupsCheckbox")},get_DoNotShowMessageAgainCheckBoxText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppCrashDetected_DontShowMessageAgainCheckbox")},get_DoNotShowMessageAgain:function(){return this.$11Q},set_DoNotShowMessageAgain:function(n){return n!==this.$11Q&&(this.$11Q=n,this.$7("DoNotShowMessageAgain")),n},get_DisableAllMashups:function(){return this.$11J},set_DisableAllMashups:function(n){return n!==this.$11J&&(this.$11J=n,this.$7("DisableAllMashups")),n}};Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel=function(){this.$$d_$32C=Function.createDelegate(this,this.$32C);this.$$d_$2Bv=Function.createDelegate(this,this.$2Bv);this.$$d_$2v8=Function.createDelegate(this,this.$2v8);this.$$d_$2uY=Function.createDelegate(this,this.$2uY);this.$$d_$1MN=Function.createDelegate(this,this.$1MN);this.$$d_$1MO=Function.createDelegate(this,this.$1MO);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$1gQ=Function.createDelegate(this,this.$1gQ);this.$$d_$1rR=Function.createDelegate(this,this.$1rR);this.$$d_$1M6=Function.createDelegate(this,this.$1M6);this.$$d_$38M=Function.createDelegate(this,this.$38M);this.$$d_$2vs=Function.createDelegate(this,this.$2vs);this.$$d_$30V=Function.createDelegate(this,this.$30V);this.$eY=new Microsoft.Crm.Client.Core.Framework.Common.$NA;Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.initializeBase(this);this.$5i="";this.$13Z="";this.$15A="";this.$ZM=!1;this.$10O=!1;this.$ZT=!1;this.$1IN=!0;this.$13x=!1;this.$14T=!1};Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("AttachmentItem",Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.prototype={$10O:!1,$11R:null,$13U:!1,$1IN:!1,$13x:!1,$ZM:!1,$14M:!1,$ZT:!1,$up:null,$we:null,$BD:null,$n5:null,$177:null,$17J:null,$5i:null,$13Z:null,$15A:null,$14T:!1,$1eE:!1,get_CanDeleteAttachment:function(){return this.$10O},set_CanDeleteAttachment:function(n){return this.$10O=n,this.$7("CanDeleteAttachment"),n},get_IsFollowed:function(){return this.$1eE},set_IsFollowed:function(n){return this.$1eE=n,this.$7("IsFollowed"),n},get_HideAttachmentItem:function(){return this.$13U},set_HideAttachmentItem:function(n){return this.$13U=n,this.$7("HideAttachmentItem"),n},get_HideDeleteButton:function(){return this.$1IN},set_HideDeleteButton:function(n){return this.$1IN=this.$10O?n:!0,this.$7("HideDeleteButton"),n},get_IsDownloadingAttachment:function(){return this.$ZM},set_IsDownloadingAttachment:function(n){return this.$ZM=n,this.$7("IsDownloadingAttachment"),n},get_IsOpeningAttachment:function(){return this.$14M},set_IsOpeningAttachment:function(n){return this.$14M=n,this.$7("IsOpeningAttachment"),n},get_OpenAttachmentCommand:function(){return this.$up},set_OpenAttachmentCommand:function(n){return $0.$0(this.$up)||this.$up.dispose(),this.$up=n,n},get_ShowAttachmentCommand:function(){return this.$we},set_ShowAttachmentCommand:function(n){return $0.$0(this.$we)||this.$we.dispose(),this.$we=n,n},get_RemoveAttachmentCommand:function(){return this.$n5},set_RemoveAttachmentCommand:function(n){return $0.$0(this.$n5)||this.$n5.dispose(),this.$n5=n,n},get_RetrieveAttachmentContentsActionProvider:function(){return this.$177},set_RetrieveAttachmentContentsActionProvider:function(n){return this.$177=n,n},get_Title:function(){return this.$3AA(this.$5i)},set_Title:function(n){return this.$5i=n,this.$7("Title"),n},get_Image:function(){return this.$13Z},set_Image:function(n){return this.$13Z!==n&&(this.$13Z=n,this.$7("Image")),n},get_MimeType:function(){return this.$15A},set_MimeType:function(n){return this.$15A!==n&&(this.$15A=n,this.$7("MimeType")),n},get_$Rb:function(){return $0.$0(this.$2)?null:this.$2.$5Q(this)},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$n5=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$30V,9);this.$up=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2vs,9);this.$we=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$38M,9);this.AddPropertyChangedListener("IsDownloadingAttachment",this.$$d_$1M6);this.$1M6(this,"IsDownloadingAttachment");$0.$0(this.$2)||this.$eY.$1P4(this.$2,"ChildViewModels",this.$$d_$1rR)},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this);$0.$0(this.get_ModelContext())||(this.get_ModelContext().remove_$7L(this.$$d_$1gQ),this.get_ModelContext().add_$7L(this.$$d_$1gQ),this.$1gQ(this,null),$0.$0(this.get_ModelContext().$I)||(this.$14T=this.get_ModelContext().$I.hasValue("filename")));this.$11R=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("DownloadAttachment:"+this.get_Title());this.$17J=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("SaveAttachment:"+this.get_Title())},$1gQ:function(n,t){var i,r;this.$ZM||(Microsoft.Crm.Client.Core.Framework.$3.$9(t)||(this.$13x=!0,this.$BD=null),$0.$0(this.get_ModelContext())||(i=this.get_ModelContext().$I,$0.$0(i)||i.$a.LogicalName!=="activitymimeattachment"?(r=this.get_ModelContext().GetValue("filename"),this.set_HideAttachmentItem($0.$0(r))):this.set_HideAttachmentItem(!i.hasValue("documentbody")),this.set_Title(this.get_ModelContext().GetValue("filename")),$0.$0(this.get_ModelContext().GetValue("isfollowed"))||this.set_IsFollowed(this.get_ModelContext().GetValue("isfollowed").getValue("value")),Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_ModelContext().GetValue("mimetype"))||Microsoft.Crm.Client.Core.Framework.$3.$9(this.get_ModelContext().GetValue("documentbody"))||(this.set_MimeType(this.get_ModelContext().GetValue("mimetype")),this.set_Image(this.get_ModelContext().GetValue("documentbody")))))},$1rR:function(){this.$eY.$1P4(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),"IsServerAvailable",this.$$d_$He);this.$He(this,"IsServerAvailable")},$He:function(){Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$2.$1W)||(this.$2oY()&&this.$n5.execute(),this.$14T||this.set_HideAttachmentItem(!0));this.get_$Rb().get_AddAttachmentViewModel().set_HideAddAttachment(!Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$2.$1W))},$30V:function(){this.$ZM||(this.get_ModelContext().SetValue("filename",null),this.get_ModelContext().SetValue("isdocument",new Microsoft.Crm.Client.Core.ViewModels.$Bm("0","")),this.get_ModelContext().SetValue("mimetype",""),this.get_ModelContext().SetValue("documentbody",""),this.$13x=!0,this.$BD=null)},$2vs:function(){this.$ZT=!1;this.$1vv()},$1vv:function(){if(this.$ZT||!this.$ZM&&!this.$14M&&Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$2.$1W)&&Microsoft.Crm.Client.Core.ViewModels.$a.$G5("annotation")&&!this.get_IsInteractionCentricEnabled()){if(Microsoft.Crm.Client.Core.ViewModels.$5w.$1J8(this.get_ModelContext().GetValue("filename"))){Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147205623);return}if(!$0.$0(this.$BD)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$BD.get_$ju())){this.$1hr();return}if(this.$2QK()){this.$1hr();return}if(this.$ZT||this.set_IsDownloadingAttachment(!0),this.$11R.start(),this.get_ModelContext().$I.hasValue("documentbody"))this.$2Bv(this.get_ModelContext());else{var n=this.$177.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}}},$38M:function(){this.$ZT=!0;this.$1vv()},$2Bv:function(n){this.$BD=new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$1i;this.$BD.set_$H6(n.GetValue("documentbody"));this.$BD.set_$KR(n.GetValue("mimetype"));this.$BD.set_$H7(this.get_ModelContext().GetValue("filename"));this.$BD.set_$wf(this.get_ModelContext().GetValue("filesize"+Microsoft.Crm.Client.Core.Framework.$U.$6n));this.$ZT&&(this.set_Image(n.GetValue("documentbody")),this.set_MimeType(n.GetValue("mimetype")));this.$11R.stop();this.$17J.start();this.$ZT||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$BD.get_$H7())||Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$eM.$17K(this.$BD,this.$$d_$1MO,this.$$d_$1MN)},$32C:function(n){this.set_IsDownloadingAttachment(!1);this.$11R.stop();Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(n.$m,null,n)},$1MO:function(n){var t=this;window.setTimeout(function(){t.$2v9(n)},1)},$2v9:function(n){(this.set_IsDownloadingAttachment(!1),this.$17J.stop(),$0.$0(this.$BD))||(this.$BD.set_$ju(n),this.$2QM(),this.$1hr())},$2QK:function(){return!1},$2QM:function(){!this.$13x},$1hr:function(){this.$14M||$0.$0(this.$BD)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$BD.get_$ju())||(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$15k(this.$BD.get_$ju(),this.$BD.get_$H7(),this.$BD.get_$KR(),this.$$d_$2uY),this.$ZT&&(this.set_Image(this.$BD.get_$H6()),this.set_MimeType(this.$BD.get_$KR())),this.set_IsOpeningAttachment(!0))},$1MN:function(){window.setTimeout(this.$$d_$2v8,1)},$2v8:function(){this.set_IsDownloadingAttachment(!1);this.$17J.stop();Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147094007)},$2uY:function(n){if(this.set_IsOpeningAttachment(!1),n){var t=-2147094004;switch(n){case 1:t=-2147094004;break;case 2:t=-2147094005}Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(t)}},$3AA:function(n){var r=75,t="...",i;if(Microsoft.Crm.Client.Core.Framework.$3.$12(n)||n.length<=r)return n;if(i=n.lastIndexOf("."),i>0){var u=" "+n.substr(i),f=u.length,e=n.substring(0,i),o=e.substring(0,r-f-t.length);return o+t+u}return n.substring(0,r-t.length)+t},$1M6:function(n,t){t==="IsDownloadingAttachment"&&this.set_HideDeleteButton(this.$ZM)},$2oY:function(){return $0.$0(this.get_ModelContext())||$0.$0(this.get_ModelContext().$I)?!1:!this.$14T&&this.get_ModelContext().get_$1Wp().contains("filename")&&!$0.$0(this.get_ModelContext().GetValue("filename"))?!0:!1},$Oh:function(){this.$177=null;this.set_RemoveAttachmentCommand(null);this.set_OpenAttachmentCommand(null);this.set_ShowAttachmentCommand(null);this.$eY.$5E();Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel=function(){this.$$d_$28h=Function.createDelegate(this,this.$28h);this.$$d_$1M6=Function.createDelegate(this,this.$1M6);this.$$d_$27s=Function.createDelegate(this,this.$27s);Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("AttachmentsControl",Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel)};Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.prototype={$1V8:0,$5i:null,set_$2Jd:function(n){return this.$1V8=n,this.$7("AddAttachmentMode"),n},get_AttachmentItemViewModel:function(){return!$0.$0(this.$H)&&"AttachmentItemViewModel"in this.$H?this.$H.AttachmentItemViewModel:null},get_AddAttachmentViewModel:function(){return!$0.$0(this.$H)&&"AddAttachmentViewModel"in this.$H?this.$H.AddAttachmentViewModel:null},get_Title:function(){return this.$5i},set_Title:function(n){return this.$5i=n,this.$7("Title"),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);$0.$0(this.get_AttachmentItemViewModel())||(this.get_AttachmentItemViewModel().AddPropertyChangedListener("HideAttachmentItem",this.$$d_$27s),this.get_AttachmentItemViewModel().AddPropertyChangedListener("IsDownloadingAttachment",this.$$d_$1M6),this.get_AttachmentItemViewModel().AddPropertyChangedListener("Title",this.$$d_$28h),this.$27s(this,"HideAttachmentItem"),this.$1M6(this,"IsDownloadingAttachment"),this.$28h(this,"Title"))},$27s:function(n,t){$0.$0(this.get_AttachmentItemViewModel())||t!=="HideAttachmentItem"||(this.set_$2Jd(this.get_AttachmentItemViewModel().$13U?0:1),this.set_Enabled(!this.get_AttachmentItemViewModel().$13U))},$1M6:function(n,t){t!=="IsDownloadingAttachment"||$0.$0(this.get_AttachmentItemViewModel())||$0.$0(this.get_AddAttachmentViewModel())||this.get_AddAttachmentViewModel().set_HideAddAttachment(this.get_AttachmentItemViewModel().$ZM)},$28h:function(n,t){t==="Title"&&this.set_Title(this.get_AttachmentItemViewModel().get_Title())},$Oh:function(){$0.$0(this.$2)||(this.$2.RemovePropertyChangedListener("HideAttachmentItem",this.$$d_$27s),this.$2.RemovePropertyChangedListener("IsDownloadingAttachment",this.$$d_$1M6),this.$2.RemovePropertyChangedListener("Title",this.$$d_$28h));Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Bh=function(){Microsoft.Crm.Client.Core.ViewModels.$Bh.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Bh.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bh.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Application_Framework_Chart_ChartViewModel",Microsoft.Crm.Client.Core.ViewModels.$Bh)};Microsoft.Crm.Client.Core.ViewModels.$Bh.prototype={$5i:null,$Im:null,$xj:null,$19E:null,$Ho:null,$1g:null,$Jh:null,$Cv:null,$Hn:null,$H0:0,$1P9:null,$hX:null,$zn:!1,$1JZ:!1,$Bs:null,$1k:!1,$QW:!1,$1QF:!1,refreshCommand:null,$QF:null,get_ChartConfigObject:function(){return this.$QF},get_IsFirstChart:function(){return this.$1JZ},set_IsFirstChart:function(n){return this.$1JZ!==n&&(this.$1JZ=n,this.$7("IsFirstChart")),n},get_Title:function(){return this.$5i},set_Title:function(n){if(n&&Object.getType(n)===String){var t=n;n=Sys.Serialization.JavaScriptSerializer.deserialize(t)}return this.$5i!==n&&(this.$5i=n,this.$7("Title")),n},get_Legend:function(){return this.$Im},set_Legend:function(n){if(n&&Object.getType(n)===String){var t=n;n=Sys.Serialization.JavaScriptSerializer.deserialize(t)}return this.$Im!==n&&(this.$Im=n,this.$7("Legend")),n},get_XAxes:function(){return this.$xj},set_XAxes:function(n){if(n&&Object.getType(n)===String){var t=n;n=Sys.Serialization.JavaScriptSerializer.deserialize(t)}return this.$xj!==n&&(this.$xj=n,this.$7("XAxes")),n},get_YAxes:function(){return this.$19E},set_YAxes:function(n){if(n&&Object.getType(n)===String){var t=n;n=Sys.Serialization.JavaScriptSerializer.deserialize(t)}return this.$19E!==n&&(this.$19E=n,this.$7("YAxes")),n},get_SeriesList:function(){return this.$Ho},set_SeriesList:function(n){if(n&&Object.getType(n)===String){var t=n;n=Sys.Serialization.JavaScriptSerializer.deserialize(t)}return this.$Ho!==n&&(this.$Ho=n,this.$7("SeriesList")),n},get_SelectedHighchartPoint:function(){return this.$Hn},set_SelectedHighchartPoint:function(n){if(!$0.$0(n)){var t=$.extend(!1,{},n);t.series=$.extend(!1,{},n.series);n=t}return this.areSeriesPointsEqual(this.$Hn,n)||(this.$Hn=n,this.$7("SelectedHighchartPoint")),n},get_AllowPointSelect:function(){return this.$zn},set_AllowPointSelect:function(n){return this.$zn!==n&&(this.$zn=n,this.$7("AllowPointSelect")),n},get_ActionCommand:function(){return this.$1g},set_ActionCommand:function(n){return this.$1g!==n&&($0.$0(this.$1g)||(this.$1g.dispose(),this.$1g=null),this.$1g=n,this.$7("ActionCommand")),n},get_ChartSeriesClickCommand:function(){return this.$Jh},set_ChartSeriesClickCommand:function(n){return this.$Jh!==n&&(this.$Jh=n,$0.$0(this.$Jh)||$0.$0(this.$QW)||this.$Jh.set_CanExecute(this.$QW),this.$7("ChartSeriesClickCommand")),n},get_Colors:function(){return this.$Cv},set_Colors:function(n){return this.$Cv!==n&&(this.$Cv=n,this.$7("Colors")),n},get_DisplayMode:function(){return this.$H0},set_DisplayMode:function(n){return this.$H0!==n&&(this.$H0=n,this.$7("DisplayMode")),n},get_SavedQueryVisualizationId:function(){return this.$1P9},set_SavedQueryVisualizationId:function(n){return this.$1P9!==n&&(this.$1P9=n,this.$7("SavedQueryVisualizationId")),n},get_SavedQueryId:function(){return this.$hX},set_SavedQueryId:function(n){return this.$hX!==n&&(this.$hX=n,this.$7("SavedQueryId")),n},get_ErrorInformation:function(){return this.$Bs},set_ErrorInformation:function(n){return this.$Bs!==n&&(this.$Bs=n,this.$7("ErrorInformation")),n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k!==n&&(this.$1k=n,this.$7("IsLoading")),n},get_EnableDrilldown:function(){return this.$QW},set_EnableDrilldown:function(n){return this.$QW!==n&&(this.$QW=n,$0.$0(this.$Jh)||this.$Jh.set_CanExecute(this.$QW),this.$7("EnableDrilldown")),n},get_ShowData:function(){return this.$1QF},set_ShowData:function(n){return this.$1QF=n,this.$7("ShowData"),n},get_$f:function(){return!1},$1B9:null,get_$1i6:function(){return"ChartPane"},get_$1i4:function(){return this.$D},areSeriesPointsEqual:function(n,t){if($0.$0(n)||$0.$0(t))return!1;var i=!$0.$0(n.series),r=!$0.$0(t.series);if(i&&r){if(n.series.name!==t.series.name)return!1}else if(i||r)return!1;return n.x===t.x&&n.y===t.y&&n.name===t.name},$2Z:function(){this.$1a||Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this)},$1aQ:function(){var i,t;this.$1us();try{this.$QF=Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$1aQ(this);i=this;this.$QF.chart.events.load=function(){i.set_IsLoading(!1)}}catch(n){if(Microsoft.Crm.Client.Core.Framework.$50.$14A(n))this.set_DisplayMode(1),this.set_ErrorInformation(new Microsoft.Crm.Client.Core.Framework.$L4),t=Microsoft.Crm.Client.Core.Framework.$4d.$1GB(Microsoft.Crm.Client.Core.Framework.$50,n,"ChartError"),this.$Bs.$YM=t.get_$nn(),this.$Bs.$YK=t.get_$11E();else throw n;}this.$7("ChartConfigObject")},executeSeriesClickCommand:function(n){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()&&!$0.$0(this.$Jh)&&this.$Jh.get_CanExecute()&&(this.$Jh.$Hn=n,this.$Jh.execute())},$Oh:function(){this.set_ActionCommand(null);this.set_ChartSeriesClickCommand(null);this.$1us();Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$1us:function(){this.$QF&&(this.$QF.HighchartSeriesPointClicked=null,this.$QF.HighchartSeriesPointSelected=null,this.$QF.HighchartSeriesPointUnselected=null,this.$QF.chart=null,this.$QF=null)}};Microsoft.Crm.Client.Core.ViewModels.$Bi=function(){Microsoft.Crm.Client.Core.ViewModels.$Bi.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bi.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("CheckBox",Microsoft.Crm.Client.Core.ViewModels.$Bi)};Microsoft.Crm.Client.Core.ViewModels.$Bi.prototype={$IP:!1,get_Value:function(){return this.$IP},set_Value:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$IP!==t&&(this.$IP=t,this.$7("Value")),n},$IE:!0,get_AllowEdit:function(){return this.$IE},set_AllowEdit:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$IE!==t&&(this.$IE=t,this.$7("AllowEdit")),n}};Microsoft.Crm.Client.Core.ViewModels.$Bm=function(n,t){this.get_ValueString=this.get_$cW;this.set_ValueString=this.set_$cW;this.get_Label=this.get_$F6;this.set_Label=this.set_$F6;this.$1s=n;this.$1G=t};Microsoft.Crm.Client.Core.ViewModels.$Bm.prototype={$1s:null,$1G:null,get_$cW:function(){return this.$1s},set_$cW:function(n){return this.$1s=n,n},get_$F6:function(){return this.$1G},set_$F6:function(n){return this.$1G=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Bn=function(){this.$1fB=new Array(0);this.$HP=new Array(0);this.$F4=new Array(0);Microsoft.Crm.Client.Core.ViewModels.$Bn.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bn.prototype={get_ItemsList:function(){return this.$1Rp(),this.$1fB},set_ItemsList:function(n){return this.$1fB=n,this.$7("ItemsList"),n},get_ItemLabels:function(){return this.$HP},set_ItemLabels:function(n){return this.$HP=n,this.$11I=!0,n},get_ItemValues:function(){return this.$F4},set_ItemValues:function(n){return this.$F4=n,this.$11I=!0,n},$11I:!1,$1Rp:function(){$0.$0(this.$F4)||$0.$0(this.$HP)||this.$F4.length!==this.$HP.length||!this.$11I||this.set_ItemsList(this.$2Z0());this.$11I=!1},$2Z0:function(){for(var t=new Array(this.$HP.length),n=0;n<this.$HP.length;n++)t[n]=new Microsoft.Crm.Client.Core.ViewModels.$Bm(this.$F4[n],this.$HP[n]);return t},$4i:"",get_SelectedItem:function(){return this.$4i},set_SelectedItem:function(n){return this.$4i!==n&&(this.$4i=n,this.$7("SelectedItem")),n},$dS:!1,get_ShouldDisableDropdown:function(){return this.$dS},set_ShouldDisableDropdown:function(n){return this.$dS=n,n},$23S:function(n){this.$4i=n},$IE:!0,get_AllowEdit:function(){return this.$IE},set_AllowEdit:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$IE!==t&&(this.$IE=t,this.$7("AllowEdit")),n},SetSelectedItemWithoutFirePropertyChange:function(n){this.$4i=n},$P4:!1,set_$290:function(n){return this.$P4!==n&&(this.$P4=n,this.$7("OptionSetLoaded")),n},$1G0:!1,get_FocusComboBox:function(){return this.$1G0},set_FocusComboBox:function(n){return this.$1G0!==n&&(this.$1G0=n),n},fetchScreenReadableText:function(n,t,i,r){return t?r?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ComboBox_ScreenReader_ParseData_Label"),i,n,t):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ComboBox_ScreenReader_ParseData_Label"),i,n,t):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ComboBox_ScreenReader_Label_NoRecord"))},comboBoxScreenReaderText:function(n,t,i){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ComboBox_ScreenReader_Label"),t,n,i)},comboBoxSelectedScreenReaderText:function(n,t){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ComboBox_ScreenReader_ParseDataSelected_Label"),t,n)}};Microsoft.Crm.Client.Core.ViewModels.$24=function(){this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2ui=Function.createDelegate(this,this.$2ui);Microsoft.Crm.Client.Core.ViewModels.$24.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$24.initializeBase(this);this.AddPropertyChangedListener("PrimaryModelName",this.$$d_$2ui);this.$Ee={}};Microsoft.Crm.Client.Core.ViewModels.$24.prototype={$6Y:null,$T:null,$M:null,$Gi:!1,$Cw:null,$15h:!1,$15v:0,$15w:0,$Ee:null,$1ED:null,get_Command:function(){return this.$6Y},set_Command:function(n){return this.$6Y=n,this.$1Rl(),n},get_TargetViewModel:function(){return this.$T?this.$T:this},set_TargetViewModel:function(n){return this.$T!==n&&(this.$T=n,this.$1Rl()),n},get_Parameters:function(){return this.$M},set_Parameters:function(n){return this.$M=n,this.$1Rl(),n},get_IsSitemapButton:function(){return!!this.$2&&this.$2.$1W==="sitemap"},get_IsGlobalMenuButton:function(){return!!this.$2&&this.$2.$1W==="TaskBasedFlowGlobalMenu"},get_AvailableOffline:function(){return this.$Gi},set_AvailableOffline:function(n){return this.$Gi=n,n},$2Un:function(){return!1},get_CommandManager:function(){return this.$Cw},set_CommandManager:function(n){return this.$Cw=n,n},get_PageX:function(){return this.$15v},set_PageX:function(n){return this.$15v=n,this.$7("PageX"),n},get_PageY:function(){return this.$15w},set_PageY:function(n){return this.$15w=n,this.$7("PageY"),n},get_TestabilityAttributes:function(){return this.$Ee},set_TestabilityAttributes:function(n){return n!==this.$Ee&&(this.$Ee=n,this.$7("TestabilityAttributes")),n},$4O:null,get_Title:function(){return this.$4O},set_Title:function(n){return this.$4O=n,n},$rT:function(n){var t,i,r;if(!$0.$0(this.$1g)){if(n){this.set_ActionCommandCanExecute(!1);return}if(Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&!$0.$0(this.$M.HideOnPhone)){this.set_ActionCommandCanExecute(!1);return}$0.$0(this.$1g)||$0.$0(this.$Cw)||$0.$0(this.$M)||(t=this.$M.entityLogicalName,this.$6Y==="WebResourceCommand"?(i=this.$M.CommandId,this.$1FN(i,t)):(this.$6Y==="ControlCommand"&&"ruleEvaluationCommand"in this.$M||!$0.$0(this.$M.ruleEvaluationCommand)&&this.get_ActionCommandCanExecute())&&(r=this.$M.ruleEvaluationCommand,this.$1FN(r,t)))}},$1FN:function(n,t){var i;if(!$0.$0(this.$1g))if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&this.$Gi){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(n)){i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);IsNull(this.$1ED)||this.$1ED.push(i);var r=this,u=this,f=this;this.$Cw.$1FN(t,n).then(function(t){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Command {0} rule evaluation succeeded with result: {1}",n,t);$0.$0(r.$1g)||r.set_ActionCommandCanExecute(t)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(139,n.$F);$0.$0(u.$1g)||u.set_ActionCommandCanExecute(!1)}).always(function(){i.resolve(!0)})}}else this.set_ActionCommandCanExecute(!1)},$Oh:function(){this.RemovePropertyChangedListener("PrimaryModelName",this.$$d_$2ui);this.$1g&&this.$1g.dispose();this.$Cw&&(this.$Cw=null);this.$15h&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He),this.$15h=!1);this.$M=null;Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$Oh.call(this)},$2ui:function(){this.$1Rl()},$He:function(){$0.$0(this.$1g)||(this.set_ActionCommandCanExecute(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()),!this.get_ActionCommandCanExecute()&&Xrm.Utility.isAppOfflineSyncEnabled()&&(Microsoft.Crm.Client.Core.ViewModels.$24.$1XW.contains(this.$1P)||Microsoft.Crm.Client.Core.ViewModels.$24.$1XW.contains(this.$6Y))&&this.set_ActionCommandCanExecute(!0))},$1Rl:function(){$0.$0(this.$6Y)||($0.$0(this.$M)&&(this.$M={}),this.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$6Y,null,this.$M))),$0.$0(this.$1g)||(this.$rT(!1),this.get_ActionCommandCanExecute()&&!this.$Gi&&(this.$15h||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He),this.$15h=!0),this.$He(null,""))))}};Microsoft.Crm.Client.Core.ViewModels.$8m=function(){Microsoft.Crm.Client.Core.ViewModels.$8m.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$14=function(){};Microsoft.Crm.Client.Core.ViewModels.$14.$17u=function(n,t,i,r,u,f,e,o,s,h){Microsoft.Crm.Client.Core.ViewModels.$14.$2FQ(n,t,i,r,u,f,e,o,!0,s,h)};Microsoft.Crm.Client.Core.ViewModels.$14.$2FQ=function(n,t,i,r,u,f,e,o,s,h,c){var l=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;l.$DZ=1;l.$DE=n;l.$gR_5=Microsoft.Crm.Client.Core.Framework.$3.$9(o)?"":o;l.set_IsHtmlEncodingRequired($0.$0(s)?!0:s);t=Microsoft.Crm.Client.Core.ViewModels.$Q.$1pC(i,l,t,h,c);l.set_Message(t);l.$AG=$0.$0(i)?0:i;l.$C2=r;l.$Gm=u;$0.$0(f)||(l.$FB=f);$0.$0(e)||(l.$LY=e);l.Show()};Microsoft.Crm.Client.Core.ViewModels.$14.$1lg=function(n,t,i,r,u,f,e){$("#ConfirmDialogTitle",window.document.body).text(n);$("#ConfirmDialogMessage",window.document.body).text(t);$("#ConfirmDialogYesLabel",window.document.body).text(u);$("#ConfirmDialogNoLabel",window.document.body).text(f);$("#ConfirmDialog",window.document.body).css("display","block");$("#ConfirmDialog",window.document.body).removeAttr("data-dialogType");$0.$0(e)||$("#ConfirmDialog",window.document.body).attr("data-dialogType",e);$("#ConfirmDialog",window.document.body).addClass("sync-watson-dialog");$("#UserEducation",window.document.body).css("z-index","0");$("#syncCheckComplete",window.document.body).css("display","block");var o=function(){$("#UserEducation",window.document.body).css("z-index","999");$("#syncCheckComplete",window.document.body).css("display","none");i()},s=function(){$("#UserEducation",window.document.body).css("z-index","999");$("#syncCheckComplete",window.document.body).css("display","none");r()},h=Microsoft.Crm.Client.Core.ViewModels.$14.$1sP("#ConfirmDialogYes",!0,o);Microsoft.Crm.Client.Core.ViewModels.$14.$1sP("#ConfirmDialogNo",!h,s)};Microsoft.Crm.Client.Core.ViewModels.$14.$1sP=function(n,t,i){var u=$(n,window.document.body),f=!$0.$0(i),r;return u.toggle(f),r={},r.selection=t,r.handler=i,u.bind("click",r,Microsoft.Crm.Client.Core.ViewModels.$14.$2xM),f};Microsoft.Crm.Client.Core.ViewModels.$14.$2xM=function(n){$("#ConfirmDialog",window.document.body).css("display","none");$("#ConfirmDialogYes",window.document.body).unbind("click");$("#ConfirmDialogNo",window.document.body).unbind("click");Microsoft.Crm.Client.Core.Framework.$8.$1E("ConfirmDialogSelection",4,n.data.selection.toString());n.data.handler()};Microsoft.Crm.Client.Core.ViewModels.$2I=function(){this.$$d_$Hd_4=Function.createDelegate(this,this.$Hd_4);this.$$d_$uN=Function.createDelegate(this,this.$uN);this.$$d_$EP=Function.createDelegate(this,this.$EP);this.$$d_$33x=Function.createDelegate(this,this.$33x);this.get_$2IP=this.get_Visible;Microsoft.Crm.Client.Core.ViewModels.$2I.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$2I.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$2I.prototype={$Au:"",$Ih:null,$FU:null,$1G:null,$1KZ:"",$1dT:null,$1Qs:"",$1u7:null,$so:!1,$wB:null,$ws:1300,$mE:-3e4,$1M8:null,$1da:"",get_$2ox:function(){if(!$0.$0(this.$L)){var n=this.$L.split(":");if(n.length===2)return!0}return!1},get_SectionControlObject:function(){return Microsoft.Crm.Client.Core.ViewModels.$2I.$1PI},set_SectionControlObject:function(n){return Microsoft.Crm.Client.Core.ViewModels.$2I.$1PI!==n&&(Microsoft.Crm.Client.Core.ViewModels.$2I.$1PI=n),n},get_IsTabPressed:function(){return Microsoft.Crm.Client.Core.ViewModels.$2I.$1KL},set_IsTabPressed:function(n){return Microsoft.Crm.Client.Core.ViewModels.$2I.$1KL!==n&&(Microsoft.Crm.Client.Core.ViewModels.$2I.$1KL=n),n},get_Data:function(){return this.$Au},set_Data:function(n){return this.$Au!==n&&(this.$Au=this.$2wW(n),this.$1Fq("Data","ProcessRequirementSatisfied","HasFocus")),n},get_Height:function(){return this.$Ih},set_Height:function(n){return this.$Ih!==n&&(this.$Ih=n,this.$7("Height")),n},get_Width:function(){return this.$FU},set_Width:function(n){return this.$FU!==n&&(this.$FU=n,this.$7("Width")),n},get_Label:function(){return this.$1G},set_Label:function(n){return this.$1G!==n&&(this.$1G=n,this.$7("Label"),this.$7("ShowLabel")),n},get_LabelResourceId:function(){return this.$1KZ},set_LabelResourceId:function(n){return this.$1KZ!==n&&(this.$1KZ=n,this.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n))),n},get_Style:function(){return this.$1Qs},set_Style:function(n){return this.$1Qs!==n&&(this.$1Qs=n,this.$7("Style")),n},$8m:!0,$1dF:!1,$5R:!1,$2Un:function(){return!0},get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n),n},get_Enabled:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?this.$2Un()&&this.$8m:this.$8m},set_Enabled:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$8m!==t&&(this.$8m=t,this.$7("Enabled")),n},ShowFieldChangeIndicator:function(n){return Xrm.Internal.isFieldChangeIndicatorEnabled()&&!$0.$0(this.$2.get_ModelContext())&&this.$2.get_ModelContext().$I.$4w.contains(n)},get_NextTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?this.$mE:-3e4},set_NextTabIndex:function(n){return this.$mE=n,n},get_StartIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?this.$ws:-3e4},set_StartIndex:function(n){return this.$ws=n,this.set_NextTabIndex(n),n},get_TabSpaceReserved:function(){return 0},$4u:!0,$1dV:!1,$FG:null,get_Visible:function(){return this.$4u},set_Visible:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$4u!==t&&(this.$4u=t,this.$7("Visible")),n},$hk:!0,get_ShowLabel:function(){return!$0.$0(this.$1G)&&this.$hk},set_ShowLabel:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$hk!==t&&(this.$hk=t,this.$7("ShowLabel")),n},get_IsSortable:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$D)},get_IsColumnSortableInOffline:function(){if(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&!$0.$0(this.$L)&&!$0.$0(this.$D)){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$D,this.$L);if(!$0.$0(n)&&(n.$26===1||n.$26===9||n.$26===6))return!1}return!0},$mm:!1,get_ProcessRequired:function(){return this.$mm},set_ProcessRequired:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,i=t.$Em(n,null);return this.$mm=i,n},get_ProcessRequirementSatisfied:function(){return!$0.$0(this.get_Data())},get_RecommendationApplyActionText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SystemCustomization.BusinessRules.RecommendationApplyActionMessage")},get_RecommendationDismissActionText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SystemCustomization.BusinessRules.RecommendationDismissActionMessage")},$2Z:function(){this.$1a||(this.$wB=this.$$d_$33x,Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$nb(this.$wB),Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this),$0.$0(this.$2)||(this.$2.$Sg&&this.$EP(null,null),this.$2.add_$P1(this.$$d_$EP),this.$2.add_$gn(this.$$d_$uN),Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)?this.$2.AddPropertyChangedListener("MultipleEntityAttributeFormModelUpdate",this.$$d_$Hd_4):Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)&&this.$2.$36r(this)))},$EP:function(){},$uN:function(){},UIHasRendered:function(){if(!$0.$0(this.$FG)){for(var n=0,t=this.$FG.length;n<t;n++)Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(this.$FG[n],0,this.get_ViewModelId());this.$FG=null}},$FH:function(n){$0.$0(this.$FG)?this.$FG=[n]:Array.contains(this.$FG,n)||Array.add(this.$FG,n)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$nb(this.$wB);this.$wB=null;$0.$0(this.$2)||(this.$2.remove_$P1(this.$$d_$EP),this.$2.remove_$gn(this.$$d_$uN),Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$2)&&this.$2.RemovePropertyChangedListener("MultipleEntityAttributeFormModelUpdate",this.$$d_$Hd_4));Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)},$PH:function(){this.$so&&(this.set_Enabled(this.$1dF),this.set_Label(this.$1dT),this.set_Visible(this.$1dV))},getFieldNameFromDescriptorName:function(n){if($0.$0(n))return"";var t=n.lastIndexOf("_");return t>0&&(n=n.substr(0,n.lastIndexOf("_"))),t=n.lastIndexOf("#"),t>0&&(n=n.substr(0,n.lastIndexOf("#"))),n},$33x:function(){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$nb(this.$wB);this.$1dF=this.$8m;this.$1dT=this.$1G;this.$1dV=this.$4u;this.$so=!0},$Hd_4:function(){if(!$0.$0(this.$2.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$2.get_ModelContext())&&!(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this)||Microsoft.Crm.Client.Core.ViewModels.$6L.isInstanceOfType(this))){var n=this.$2;this.set_Enabled(!n.IsFieldLocked(this.getFieldNameFromDescriptorName(this.$L)))}},$2wW:function(n){var t=n,r,i;return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||!Microsoft.Crm.Client.Core.ViewModels.$a.$B5()||$0.$0(t)||Microsoft.Crm.Client.Core.Framework.$3.$9(t)?t:(Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(t)&&Microsoft.Crm.Client.Core.Framework.$3.$12(t.Name)&&(t.Name=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Reference_Not_Available_Offline"),this.$8m=!1),$0.$0(this.$L)||$0.$0(this.$D)||(r=this.getFieldNameFromDescriptorName(this.$L),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$D,r),$0.$0(i)||i.$hn!==1||(t=null)),t)},AddOnKeyPress:function(n){$0.$0(n)||(this.$1M8=n)},FireOnKeyPress:function(n){var t=this.$1M8;$0.$0(t)||t(this,n);this.$1da=this.$2j2(n)},RemoveOnKeyPress:function(){this.$1M8=null},GetValue:function(){return this.$1da},$2j2:function(n){var i=n,t=i.target.value,e=i.charCode,r=i.target.selectionStart,u=i.target.selectionEnd,f;switch(e){case 0:r===u&&(i.keyCode===8?r=r-1:u=u+1);t.length>0&&(t=this.$311(t,r,u));break;case 32:default:f=String.fromCharCode(e);$0.$0(t)&&!$0.$0(f)?t=f:$0.$0(f)||(t=this.$2mz(t,f,r,u))}return this.$3A7(t)},$2mz:function(n,t,i,r){var u=n.substr(0,i),f=n.substr(r,n.length);return u+t+f},$311:function(n,t,i){var r=n.substr(0,t),u=n.substr(i,n.length);return r+u},$3A7:function(n){var t=n;return $0.$0(n)||n.trim()!==""||(t=""),t}};Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel=function(){this.$$d_$QG=Function.createDelegate(this,this.$QG);this.get_AttributeMetadata=this.get_$1Vw;this.set_AttributeMetadata=this.set_$1Vw;Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.initializeBase(this,[12]);this.set_RequestCloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$QG,1028))};Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.prototype={$Gy:null,$1WZ:null,$QU:null,$5m:null,$jd:null,$Je:null,$4I:null,$Ly:null,$1l:null,get_DialogName:function(){return this.$Gy},set_DialogName:function(n){return this.$Gy=n,n},get_DialogOptions:function(){return this.$QU},set_DialogOptions:function(n){return this.$QU=n,n},get_DialogArguments:function(){return this.$5m},set_DialogArguments:function(n){return this.$5m=n,n},get_AttributeFieldNames:function(){return this.$4I},set_AttributeFieldNames:function(n){return n===this.$4I?n:(this.$4I=n,this.$7("AttributeFieldNames"),n)},get_FieldMetadata:function(){return this.$Ly},set_FieldMetadata:function(n){return this.$Ly=n,n},get_$1Vw:function(){return this.$1l},set_$1Vw:function(n){return n===this.$1l?n:(this.$1l=n,this.$7("AttributeMetadata"),n)},get_CancelButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text")},get_RetrieveOptions:function(){return Microsoft.Crm.Client.Core.ViewModels.$k.get_$1gD()},$2Nt:function(){return!0},$2Z:function(){var n,r;if(Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$2Z.call(this),!$0.$0(this.$Ly)){n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o));for(var i=this.$Ly,u=i.length,t=0;t<u;++t)r=i[t],n.add(Microsoft.Crm.Client.Core.ViewModels.$7O.$25W(r));this.set_$1Vw(n.toArray())}$0.$0(this.$4I)||(this.$1Ig(),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("PopupPresent",!0))},$gl:function(n){var t,i,r;if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$gl.call(this,n),this.$H){t=this.$H;for(i in t)r={key:i,value:t[i]},Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(r.value)&&r.value.$1fe()}},$15c:function(){this.$jf()},$36r:function(n){var t,i,r,u,f;$0.$0(this.$Je)||(t=this.getFieldNameFromDescriptorName(n.$L),Microsoft.Crm.Client.Core.Framework.$3.$9(t))||(i=!1,r="ProcessUnification_ReadOnly_"+t,r in this.$Je&&(i=this.$Je[r],n.set_Enabled(!i)),u=!1,f="ProcessUnification_Hidden_"+t,f in this.$Je&&(u=this.$Je[f],n.set_Visible(!u)))},$1Ig:function(){for(var i,u,n=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2y)),r=this.$1l,f=r.length,t=0;t<f;++t)i=r[t],n.set_$R(i.get_$2I(),i);u=this.$2fh(n);this.set_ModelContext(Microsoft.Crm.Client.Core.Models.$6V.$1If(this.$Gy,this.$4I,n,u))},$2fh:function(n){var l={},a=this.$5m,u,t,i,f,e,r,v,o,s,h,c;for(u in a)if(t={key:u,value:a[u]},i=t.value,!$0.$0(i)){if(n.$3F5(t.key)){f=n.get_$R(t.key);switch(f.$26){case 6:if(e=t.value,!e.length)return null;r=e[0];v=new Microsoft.Crm.Client.Core.Framework.Guid(r.id);i=new Xrm.Objects.EntityReference(r.entityType,v,r.name);break;case 13:case 12:case 11:case 0:o=!1;s=f.$6S.$21;for(h in s)c={key:h,value:s[h]},c.value.$1s===t.value&&(i=c.value,o=!0);if(!o)continue;break;default:i=t.value}}l[t.key]=i}return l},CloseOnCancel:function(){var n=this.get_ModelContext();n.SetValue("lastButtonClicked","cancel_id");this.$QG()},$QG:function(){var n=!1;(!$0.$0(this.$Je)&&"ProcessUnification_ReturnRawValue"in this.$Je&&(n=this.$Je.ProcessUnification_ReturnRawValue),this.$1WZ=n?this.$2ep():this.$2er(),this.$jf(),$0.$0(this.$jd))||this.$jd(this.$1WZ,this.$Je)},$jf:function(){Microsoft.Crm.Client.Core.ViewModels.$CD.prototype.$QG.call(this);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("PopupPresent",!1)},get_StartIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?1e4:-3e4},$2er:function(){var e={},r=this.get_ModelContext(),o=r.$NB,u,t,n,i,f;for(u in o){if(t={key:u,value:o[u]},n=r.GetValue(t.key),!$0.$0(n))switch(r.getAttributeType(t.key)){case 13:case 12:case 11:case 0:n=n.getValue(Microsoft.Crm.Client.Core.Framework.$U.$29);break;case 2:n=t.value;break;case 6:i=n;f=new Array(0);f[0]=new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(i.LogicalName,i.Id.toString(),i.Name);n=f}e[t.key]=n}return e},$2ep:function(){var f={},r=this.get_ModelContext(),e=r.$NB,u,t,n,i;for(u in e){if(t={key:u,value:e[u]},n=r.GetValue(t.key),!$0.$0(n))switch(r.getAttributeType(t.key)){case 0:n=t.value.$1s===1?!0:!1;break;case 6:i=n;n=new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(i.LogicalName,i.Id.toString(),i.Name);break;case 2:case 5:case 3:case 4:case 8:default:n=t.value}f[t.key]=n}return f},get_$31Y:function(){return!0},$1WU:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N},$Oh:function(){$0.$0(this.get_ModelContext())||this.get_ModelContext().$5E();this.set_RequestCloseCommand(null);Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$7x=function(){this.$$d_$KZ=Function.createDelegate(this,this.$KZ);this.$NF=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS();this.$Cr=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9();this.set_$1EQ=this.set_Date;Microsoft.Crm.Client.Core.ViewModels.$7x.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$KZ)};Microsoft.Crm.Client.Core.ViewModels.$7x.prototype={$Ir:null,$A8:null,$9c:0,$ID:!1,get_Date:function(){var n=null;return this.$DA(this.get_Data())&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Gs(this.get_Data(),this.$NF,this.get_Behavior(),this.$Cr)),n},set_Date:function(n){return this.$DA(n)&&(n=Microsoft.Crm.Client.Core.Framework.$h.$Lk(n,this.$NF,this.get_Behavior(),this.$Cr)),this.set_Data(n),n},get_MinDate:function(){return this.$Ir},set_MinDate:function(n){return this.$Ir=n,this.$7("MinDate"),n},get_Format:function(){return this.$A8},set_Format:function(n){return this.$A8!==n&&(this.$A8=n,this.$7("Format")),n},get_Behavior:function(){return this.$9c},set_Behavior:function(n){return this.$9c!==n&&(this.$9c=n,this.$7("Behavior")),n},get_DateFormat:function(){return Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern},get_TimeFormat:function(){return Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortTimePattern},get_IsAstronomicalTime:function(){return this.get_TimeFormat()?this.get_TimeFormat().indexOf("H")>=0:!1},get_ShowTime:function(){return this.$A8==="dateandtime"},set_ShowTime:function(n){return this.set_Format(n?"dateandtime":"dateonly"),n},get_AllDayDisplay:function(){return this.$ID},set_AllDayDisplay:function(n){if(this.$ID!==n&&!$0.$0(this.get_Data())){this.$ID=n;var t=this.$L.split("_"),i=this.get_ModelContext();i.$2EI(t[0],this.$ID)}return n},setDateIfNull:function(){var i=!0,t=this.$2.$5Q(this),n;Microsoft.Crm.Client.Core.ViewModels.$87.isInstanceOfType(t)&&(i=t.$24F(t.$1c8(this.$L)));$0.$0(this.get_Data())&&this.get_Enabled()&&i&&(n=this.$9c===1||this.$9c===2?Microsoft.Crm.Client.Core.Framework.$h.$1sc(new Date,this.$NF,this.$Cr):new Date,this.$A8==="dateonly"&&(n.setHours(0),n.setMinutes(0)),n.setSeconds(0),n.setMilliseconds(0),this.set_Date(n))},$Oh:function(){this.RemovePropertyChangedListener("Data",this.$$d_$KZ);Microsoft.Crm.Client.Core.ViewModels.$E1.prototype.$Oh.call(this)},$KZ:function(){this.$7("Date")},$DA:function(n){return Date.isInstanceOfType(n)||Object.prototype.toString.call(n)==="[object Date]"},get_TabSpaceReserved:function(){return 10},get_NextTabIndex:function(){return this.get_StartIndex()+this.get_TabSpaceReserved()},set_NextTabIndex:function(n){return Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.set_NextTabIndex.call(this,n),n}};Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel=function(){this.$$d_$1P7=Function.createDelegate(this,this.$1P7);Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.initializeBase(this);var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$13v();this.$q7=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL();this.$r5=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$1Z0();this.$KD=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$1dA();this.$vK=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$1iJ()&&n;this.$C2=this.$$d_$1P7};Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.prototype={$q7:!1,$r5:!1,$vK:!1,$KD:null,$5l:null,get_DeviceSettingsHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_Header")},get_DeviceSettingsSubHeaderText1:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_SubHeader1")},get_DeviceSettingsSubHeaderText2:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_SubHeader2")},get_DeviceSettingsSubHeaderText3:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_SubHeader3")},get_CameraText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_Camera")},get_DeviceAccessText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_DeviceAccess")},get_ImageResText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_ImageResolution")},get_PhotoSaveText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_SavePhoto")},get_OnSwitchText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_OnSwitch")},get_OffSwitchText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_OffSwitch")},$1P7:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().set_$2NU(!this.$q7);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().set_$1Z0(!this.$r5);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().set_$1iJ(!this.$vK);this.set_ImageRes(this.$5l.$4i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().set_$1dA(this.get_ImageRes())},get_IsCameraAvailable:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$13v()},get_CameraEnabled:function(){return this.$q7},set_CameraEnabled:function(n){return this.$q7!==n&&(this.$q7=n,this.$7("CameraEnabled")),n},get_DeviceAccessEnabled:function(){return this.$r5},set_DeviceAccessEnabled:function(n){var i,r,t;return this.$r5!==n&&(i=this,r=function(){i.$r5=n;i.$7("DeviceAccessEnabled")},n?(t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel,t.$DZ=1,t.$AG=0,t.set_IsHtmlEncodingRequired(!1),t.$C2=r,t.set_Message(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_DeviceIntegration_LegalNotice"),'<a href="http://go.microsoft.com/fwlink/?LinkID=310138">',"<\/a>",'<a href="http://go.microsoft.com/fwlink/p/?LinkID=828413">',"<\/a>")),t.Show()):r()),n},get_ImageRes:function(){return $0.$0(this.$KD)?"DeviceDefault":this.$KD},set_ImageRes:function(n){return this.$KD!==n&&(this.$KD=n,this.$7("ImageRes")),n},get_PhotoSaveEnabled:function(){return this.$vK},set_PhotoSaveEnabled:function(n){return this.$vK!==n&&(this.$vK=n,this.$7("PhotoSaveEnabled")),n},$pT:0,get_tabIndex:function(){return this.$pT},set_tabIndex:function(n){return this.$pT=n,n},get_ComboBoxViewModel:function(){return $0.$0(this.$5l)&&(this.$5l=new Microsoft.Crm.Client.Core.ViewModels.$Sf),this.$5l.set_ItemLabels(Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.$1dB),this.$5l.set_ItemValues(Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.$1dB),this.$5l}};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel=function(){this.$$d_$2NW=Function.createDelegate(this,this.$2NW);Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.initializeBase(this);this.$Gm=this.$$d_$2NW};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("DiagnosticsReport",Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ShowDiagnosticsReportCommand",Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$2RG)};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$2RG=function(){return new Microsoft.Crm.Client.Core.Framework.Binding.$RG(Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$2UU,140,Microsoft.Crm.Client.Core.ViewModels.$11.get_$6(),"MemoryDiagnosticsEnabled",function(){return Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$MO})};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$2UU=function(){if(!Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$1El){var n=new Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel;n.Show();Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$1El=!0}};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.prototype={$2NW:function(){Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$1El=!1},get_DiagnosticsReportHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_Header")},get_RefreshButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_Refresh")},get_SnapshotButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_Snapshot")},get_CloseButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_Close")},get_TimestampText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_TableHeader_TimeStamp")},get_AreaText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_TableHeader_Area")},get_MashupText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_TableHeader_Mashup")},get_MemoryText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CommandBarButton_DiagnosticsReport_TableHeader_Memory")},getMemoryUsageReport:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().get_$2rX(),t=this;return n.sort(function(n,t){return new Date(t.Timestamp)-new Date(n.Timestamp)}),n},snapshotButtonClicked:function(){Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$1r7()}};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel=function(){this.$$d_$1P7=Function.createDelegate(this,this.$1P7);Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel.initializeBase(this);this.$pt=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$1Xw();this.$tp=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$1gB();this.$r6=Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$MO;this.$C2=this.$$d_$1P7};Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel.prototype={$tp:!1,$r6:!1,$pt:!1,get_EnableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Label_Enable")},get_DisableText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Label_Disable")},get_DiagnosticsHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Header")},get_WebResourcesAndIFramesSubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Diagnostics_ClientExtensions")},get_CrashDetectionSubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_SubHeader_CrashDetection")},get_DebugModeSubHeaderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_SubHeader_DebugMode")},$1P7:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().set_$1Xw(this.$pt);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().set_$1gB(!this.$tp);Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().set_MemoryDiagnosticsEnabled(this.$r6)},get_DiagnosticsEnabled:function(){return this.$r6},set_DiagnosticsEnabled:function(n){return this.$r6!==n&&(this.$r6=n,this.$7("DiagnosticsEnabled")),n},get_MashupsEnabled:function(){return this.$tp},set_MashupsEnabled:function(n){return this.$tp!==n&&(this.$tp=n,this.$7("MashupsEnabled")),n},get_AppCrashDetectionEnabled:function(){return this.$pt},set_AppCrashDetectionEnabled:function(n){return this.$pt!==n&&(this.$pt=n,this.$7("AppCrashDetectionEnabled")),n}};Microsoft.Crm.Client.Core.ViewModels.$CC=function(){Microsoft.Crm.Client.Core.ViewModels.$CC.initializeBase(this);var n=this;this.AddPropertyChangedListener("HasFocus",function(){n.$2tn()})};Microsoft.Crm.Client.Core.ViewModels.$CC.prototype={$2tn:function(){this.get_HasFocus()&&this.setDurationIfNull()},setDurationIfNull:function(){var t=!0,n=this.$2.$5Q(this);Microsoft.Crm.Client.Core.ViewModels.$87.isInstanceOfType(n)&&(t=n.$24F(n.$1c8(this.$L)));$0.$0(this.get_Data())&&this.get_Enabled()&&t&&this.set_Data(30)}};Microsoft.Crm.Client.Core.ViewModels.$CD=function(n){this.$$d_$QG=Function.createDelegate(this,this.$QG);Microsoft.Crm.Client.Core.ViewModels.$CD.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.$CD.prototype={$QG:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$12c(this.$1P);$0.$0(n)?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(this):n(this)}};Microsoft.Crm.Client.Core.ViewModels.$4N=function(){Microsoft.Crm.Client.Core.ViewModels.$4N.initializeBase(this);this.$Ql=!1};Microsoft.Crm.Client.Core.ViewModels.$4N.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("FlyOutViewModel",Microsoft.Crm.Client.Core.ViewModels.$4N)};Microsoft.Crm.Client.Core.ViewModels.$4N.prototype={$qM:null,$Ql:!1,get_FlyOutExpanded:function(){return this.$Ql},set_FlyOutExpanded:function(n){return this.$Ql!==n&&(this.$Ql=n,this.$Ql||this.$1rw(),this.$7("FlyOutExpanded")),n},$4O:null,get_Title:function(){return this.$4O},set_Title:function(n){return this.$4O=n,n},set_$1s7:function(n){return this.$qM=n,this.$rT(!1),n},findActiveChildViewModels:function(){var i=new Array(0),r=this.$H;for(var u in r){var f={key:u,value:r[u]},n=f.value,t=n.get_Enabled();Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n)?t=t&&n.$1g.get_CanExecute():Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&(t=t&&n.hasEnabledDescendant());t&&Array.add(i,n)}return i},isCommandGroupViewModel:function(n){return Microsoft.Crm.Client.Core.ViewModels.$8m.isInstanceOfType(n)?!0:!1},screenReaderTextForFlyoutItem:function(n,t,i){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionWallItem_ScreenReader_Label"),n,t,i)},$rT:function(n){var r,u,i;if(Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$rT.call(this,n),n||$0.$0(this.$qM)||$0.$0(this.$qM.CommandId)){if(!$0.$0(this.$H)){r=this.$H;for(u in r)i={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(i.value)?i.value.$rT(n):Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Invalid child of type {0}",Object.getType(i.value).toString())}}else{var e=this.$qM.CommandId,o=this.$qM.entityLogicalName,s=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,t=this,f=this;s.$1FN(o,e).then(function(i){var r,u,f,e,o,s;if(i){if(!$0.$0(t.$H)){r=t.$H;for(u in r)f={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(f.value)&&f.value.$rT(n)}}else if(!$0.$0(t.$H)){e=t.$H;for(o in e)s={key:o,value:e[o]},Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(s.value)&&s.value.$rT(!0)}t.set_Enabled(i)},function(n){var t,i,r;if(Microsoft.Crm.Client.Core.Framework.Trace.logError(139,n.$F),!$0.$0(f.$H)){t=f.$H;for(i in t)r={key:i,value:t[i]},Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(r.value)&&r.value.$rT(!0)}f.set_Enabled(!1)})}}};Microsoft.Crm.Client.Core.ViewModels.$SK=function(){Microsoft.Crm.Client.Core.ViewModels.$SK.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$SK.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$SK.prototype={$5R:!1,get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n,this.$7("HasFocus")),n},getScreenReadableTextForButton:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ScreenReaderText_Button"),n,"button")}};Microsoft.Crm.Client.Core.ViewModels.$S1=function(){Microsoft.Crm.Client.Core.ViewModels.$S1.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$S1.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$S1.prototype={$5R:!1,get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n,this.$7("HasFocus")),n}};Microsoft.Crm.Client.Core.ViewModels.$CT=function(){this.$$d_$2ty=Function.createDelegate(this,this.$2ty);Microsoft.Crm.Client.Core.ViewModels.$CT.initializeBase(this);this.AddPropertyChangedListener("Label",this.$$d_$2ty)};Microsoft.Crm.Client.Core.ViewModels.$CT.prototype={$1fH:null,$13S:null,$hj:!0,$1QI:!1,$ft:null,$GH:null,$5y:null,get_CommandManagerViewModel:function(){return this.$2.$2At(),this.$5y=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,this.$5y},$1TR:!1,get_IsInteractionCentricForm:function(){return this.$1TR},set_IsInteractionCentricForm:function(n){return this.$1TR=n,n},get_SymbolCssClass:function(){return"crmSymbolFont form_header_icon"+(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$D)?"":" entity-symbol "+this.$D)},get_LabelCssClass:function(){return this.$1fH},set_LabelCssClass:function(n){return this.$1fH=n,this.$7("LabelCssClass"),n},get_HeaderProvider:function(){return this.$13S},set_HeaderProvider:function(n){return this.$13S=n,n},get_ShowIcon:function(){return this.$hj},set_ShowIcon:function(n){return this.$hj!==n&&(this.$hj=n,this.$7("ShowIcon")),n},get_ShowEntityImage:function(){return this.$1QI},set_ShowEntityImage:function(n){return this.$1QI!==n&&(this.$1QI=n,this.$7("ShowEntityImage")),n},get_ImageUrl:function(){return this.$ft},set_ImageUrl:function(n){return this.$ft!==n&&(this.$ft=n,this.$7("ImageUrl")),n},get_OpenImageUploadDialogCommand:function(){return this.$GH},set_OpenImageUploadDialogCommand:function(n){return this.$GH!==n&&($0.$0(this.$GH)||(this.$GH.dispose(),this.$GH=null),this.$GH=n),n},$2Z:function(){if(!this.$1a){if(!$0.$0(this.$13S)&&!$0.$0(this.$D)&&$0.$0(this.$1G)){var n=this.$13S.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}this.$2.$g===1&&(this.$2.$9R?this.$H.DashboardName.set_Data(Microsoft.Crm.Client.Core.Framework.Common.$2.$13O("Dashboard_Homepage_Label")?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dashboard_Homepage_Label"):""):(this.set_LabelCssClass("workspace_header_label"),this.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dashboard_Header_Label"))));Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||this.set_ShowIcon(!this.$2.$9R&&this.$2.$g!==50);$0.$0(this.$GH)&&this.set_OpenImageUploadDialogCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenImageUploadDialogCommand")));Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this)}},$EP:function(n,t){Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||this.set_ShowIcon(!this.$2.$9R&&this.$2.$g!==50);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)},$2ty:function(){this.$FH("RenderedInitialData")},popOutIconClick:function(n){var t=null;try{t=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(n,n,{TargetViewModel:this}));t.execute()}finally{$0.$0(t)||t.dispose()}},$Oh:function(){$0.$0(this.$GH)||this.set_OpenImageUploadDialogCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Cv=function(){Microsoft.Crm.Client.Core.ViewModels.$Cv.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Cv.prototype={$1C3:"",get_AltText:function(){return this.$1C3},set_AltText:function(n){return this.$1C3!==n&&(this.$1C3=n,this.$7("AltText")),n},$1TF:null,get_ImageClassName:function(){return this.$1TF},set_ImageClassName:function(n){return this.$1TF=n,n}};Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel.initializeBase(this,[14])};Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel.prototype={$1In:null,get_OkButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text")},get_ParentId:function(){return this.$K.$M.InitializationParameters.ParentId},get_IsNoteInlineCreateForm:function(){return this.$D==="annotation"},get_InlineLookupViewModel:function(){return this.$1In},set_InlineLookupViewModel:function(n){return this.$1In=n,n},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$CK.call(this,n,t);this.$9j("SetLookupInRoot")}};Microsoft.Crm.Client.Core.ViewModels.$4k=function(){Microsoft.Crm.Client.Core.ViewModels.$4k.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$4k.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("String",Microsoft.Crm.Client.Core.ViewModels.$4k)};Microsoft.Crm.Client.Core.ViewModels.$4k.getTextBoxTypeString=function(n){return $0.$0(n)?null:$16.$cH(Microsoft.Crm.Client.Core.Framework.$EI,n)};Microsoft.Crm.Client.Core.ViewModels.$4k.prototype={$IP:null,get_Value:function(){return this.$IP},set_Value:function(n){return n=!$0.$0(n)&&Microsoft.Crm.Client.Core.Framework.$3.$12(n.toString())?null:n,this.$IP!==n&&this.$2ES(n),n},get_TabSpaceReserved:function(){return 1},$IE:!0,get_AllowEdit:function(){return this.$IE},set_AllowEdit:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$IE!==t&&(this.$IE=t,this.$7("AllowEdit")),n},$1Rr:!1,get_UpdateOnKeyUp:function(){return this.$1Rr},set_UpdateOnKeyUp:function(n){return this.$1Rr!==n&&(this.$1Rr=n,this.$7("UpdateOnKeyUp")),n},get_ProcessRequirementSatisfied:function(){return!$0.$0(this.$IP)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$IP.toString())},$2ES:function(n){this.$IP=n;this.$rd("Value","ProcessRequirementSatisfied")},$1Mc:null,get_OverlayText:function(){return this.$1Mc},set_OverlayText:function(n){return this.$1Mc!==n&&(this.$1Mc=n,this.$7("OverlayText")),n},$KP:512,get_MaxLength:function(){return this.$KP},set_MaxLength:function(n){return this.$KP!==n&&(this.$KP=n,this.$7("MaxLength")),n},add_$1S6:function(n){this.$1p("ValueChanging",n)},remove_$1S6:function(n){this.$32("ValueChanging",n)},fireValueChanging:function(n){var t=this.$4d("ValueChanging");t&&t(this,n)},add_RefreshFromContextEvent:function(n){this.$1p("RefreshFromContextEvent",n)},remove_RefreshFromContextEvent:function(n){this.$32("RefreshFromContextEvent",n)},fireRefreshFromContextEvent:function(){var n=this.$4d("RefreshFromContextEvent");n&&n()},$Ij:0,get_ImeMode:function(){return this.$Ij},set_ImeMode:function(n){return this.$Ij!==n&&(this.$Ij=n,this.$7("ImeMode")),n}};Microsoft.Crm.Client.Core.ViewModels.$9o=function(){Microsoft.Crm.Client.Core.ViewModels.$9o.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$9o.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Int64",Microsoft.Crm.Client.Core.ViewModels.$9o)};Microsoft.Crm.Client.Core.ViewModels.$9p=function(){Microsoft.Crm.Client.Core.ViewModels.$9p.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$9p.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Integer",Microsoft.Crm.Client.Core.ViewModels.$9p)};Microsoft.Crm.Client.Core.ViewModels.$4D=function(){Microsoft.Crm.Client.Core.ViewModels.$4D.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$4D.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Label",Microsoft.Crm.Client.Core.ViewModels.$4D)};Microsoft.Crm.Client.Core.ViewModels.$4D.prototype={$ND:!1,$1Ry:!1,$bk:0,get_UseHTMLFormat:function(){return this.$1Ry},set_UseHTMLFormat:function(n){return this.$1Ry!==n&&(this.$1Ry=n,this.$7("UseHTMLFormat")),n},get_UseHiddenMask:function(){return this.$ND},set_UseHiddenMask:function(n){return this.$ND!==n&&(this.$ND=n,this.$7("UseHiddenMask")),n},getInteractionCentricNewFormTitle:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return t?Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Form_Title_New_With_Entity_Display_Name"),t.$1q):""},get_TabSpaceReserved:function(){return 1},get_SourceTypeMask:function(){return this.$bk},set_SourceTypeMask:function(n){return this.$bk=n,this.$7("SourceTypeMask"),n},getLabelFromOptionMetadata:function(n){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(n)){var t=n;return t.$1G}return null},tryGetAlertMessage:function(){return this.$bk===32?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InvalidFieldDefinitionError"):""}};Microsoft.Crm.Client.Core.ViewModels.$3Q=function(){Microsoft.Crm.Client.Core.ViewModels.$3Q.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$3Q.prototype={$1Ko:0,get_Text:function(){return this.$d(Microsoft.Crm.Client.Core.ViewModels.$3Q.$1mb)},set_Text:function(n){return this.$l(Microsoft.Crm.Client.Core.ViewModels.$3Q.$1mb,n),n},get_linkType:function(){return this.$1Ko},set_linkType:function(n){return n!==this.$1Ko&&(this.$1Ko=n,this.$1u7=n===1?new Microsoft.Crm.Client.Core.ViewModels.Converters.$Id:null),n}};Microsoft.Crm.Client.Core.ViewModels.$A2=function(){Microsoft.Crm.Client.Core.ViewModels.$A2.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$A2.prototype={$FF:null,$1ei:!1,$3BT:function(){var n;if(!$0.$0(this.get_$Kc())&&!$0.$0(this.get_$Kc().$H)){var r=this.get_$Kc().$H.HeaderGroup,t=r.$H.primaryAttribute,i=$0.$0(t)||$0.$0(t.get_Data())?"":t.get_Data().toString();i.length>0&&(n=this.$2.$H.HeaderGroup,!$0.$0(n)&&"RelatedToEntityTitle"in n.$H&&n.$H.RelatedToEntityTitle.get_Data().toString().length<=0&&(this.set_IsRelatedEntityHeader(!0),n.set_Label(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_RelatedToTitle_Format"),n.$1G,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_RelatedGrid_RelatedTo_Text"))),n.$H.RelatedToEntityTitle.set_Data(i)))}},get_IsRelatedEntityHeader:function(){return this.$1ei},set_IsRelatedEntityHeader:function(n){return this.$1ei=n,this.$7("IsRelatedEntityHeader"),n},get_RelatedToEntityTitle:function(){return"RelatedToEntityTitle"},openParentEntityForm:function(){if(!$0.$0(this.get_$Kc())){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this.get_$Kc(),2);n.execute();n.dispose()}},get_$Kc:function(){return $0.$0(this.$FF)&&($0.$0(this.$2)||$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||"ParentEntityViewModel"in this.$2.$K.$M&&(this.$FF=this.$2.$K.$M.ParentEntityViewModel)),this.$FF},$MZ:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&n.$m===-2147220969?(n.$m=-2147094003,this.$2.$MZ(n)):Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$MZ.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.$DR=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$DR.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$DR.initializeBase(this);this.$69=n;this.$Jj=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(t,30)};Microsoft.Crm.Client.Core.ViewModels.$DR.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("MessageBarAction",Microsoft.Crm.Client.Core.ViewModels.$DR)};Microsoft.Crm.Client.Core.ViewModels.$DR.prototype={$69:null,$Jj:null,get_Text:function(){return this.$69},set_Text:function(n){return this.$69=n,n},get_ActionCommand:function(){return this.$Jj},set_ActionCommand:function(n){return this.$Jj=n,n}};Microsoft.Crm.Client.Core.ViewModels.$AA=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.$AA.initializeBase(this,[n,t,i])};Microsoft.Crm.Client.Core.ViewModels.$AA.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("MessageBarMessageSimple",Microsoft.Crm.Client.Core.ViewModels.$AA)};Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.initializeBase(this);this.$UE=n;this.$69=t;this.$AG=i};Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.prototype={$UE:null,$69:null,$AG:0,$Kg:32767,get_MessageType:function(){return this.$AG},set_MessageType:function(n){if(this.$AG!==n){this.$AG=n;this.$7("MessageType");var t=new Array(0);t[t.length]="IsInfo";t[t.length]="IsWarning";t[t.length]="IsError";t[t.length]="IsLocalSave";this.$re(t)}return n},get_IsInfo:function(){return this.$AG===1},get_IsWarning:function(){return this.$AG===2},get_IsError:function(){return this.$AG===3},get_IsLocalSave:function(){return this.$AG===4},get_IsOfflineEnabledAndLocalCopyEntity:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$Ej;return Microsoft.Crm.Client.Core.ViewModels.$a.$HM(n.$D)&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&n.$14D},get_Text:function(){return this.$69},set_Text:function(n){return this.$69!==n&&(this.$69=n,this.$7("Text")),n},get_Priority:function(){return this.$Kg},set_Priority:function(n){return this.$Kg!==n&&(this.$Kg=n,this.$7("Priority")),n},toString:function(){return this.$69}};Microsoft.Crm.Client.Core.ViewModels.$AB=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.$AB.initializeBase(this,[n,t,r]);this.$pb=i};Microsoft.Crm.Client.Core.ViewModels.$AB.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("MessageBarMessageWithAction",Microsoft.Crm.Client.Core.ViewModels.$AB)};Microsoft.Crm.Client.Core.ViewModels.$AB.prototype={$pb:null,get_Actions:function(){return this.$pb},$Oh:function(){this.$pb=null;Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)},get_MessageBarAction1:function(){return this.$pb.get_$R(0)},get_MessageBarAction2:function(){return this.$pb.get_$R(1)}};Microsoft.Crm.Client.Core.ViewModels.$8J=function(){this.$$d_$1M7=Function.createDelegate(this,this.$1M7);Microsoft.Crm.Client.Core.ViewModels.$8J.initializeBase(this);this.$DD=new Microsoft.Crm.Client.Core.Framework.$AL;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$1M7)};Microsoft.Crm.Client.Core.ViewModels.$8J.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S(Microsoft.Crm.Client.Core.ViewModels.$8J.getName(),Microsoft.Crm.Client.Core.ViewModels.$8J)};Microsoft.Crm.Client.Core.ViewModels.$8J.prototype={$DD:null,$BU:!1,$1Iw:"",$1J6:!1,get_IsActive:function(){return this.$BU},set_IsActive:function(n){return this.$BU!==n&&(this.$BU=n,this.$7("IsActive")),n},get_InteractionCentricNotification:function(){return this.$1Iw},set_InteractionCentricNotification:function(n){return this.$1Iw!==n&&(this.$1Iw=n,this.$7("NotificationChanged")),n},get_IsAssociatedWithCreateForm:function(){return this.$1J6},set_IsAssociatedWithCreateForm:function(n){return this.$1J6=n,n},get_IsAssociatedWithOfflineRecord:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$rj().$Ej;return Microsoft.Crm.Client.Core.ViewModels.$a.$HM(n.$D)&&n.$14D&&n.$g===2},get_MessageBarItems:function(){return this.$DD},get_ShowAllDialogViewModel:function(){return new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Notification_Dialog_Title_Text"),0,0)},$1pD:function(n,t,i,r){var u=this.$1cJ(n),f,e,o;u<this.$DD.get_Count()?Microsoft.Crm.Client.Core.ViewModels.$AA.isInstanceOfType(this.$DD.get_$R(u))?(f=this.$DD.get_$R(u),f.set_Text(t),f.set_MessageType(i)):(this.$1jU(u),e=new Microsoft.Crm.Client.Core.ViewModels.$AA(n,t,i),e.set_Priority(r),this.$DD.$1Ir(u,e)):(o=new Microsoft.Crm.Client.Core.ViewModels.$AA(n,t,i),o.set_Priority(r),this.$23d(o))},$2L6:function(n,t,i,r,u){var f=this.$1cJ(n),e,o,s;f<this.$DD.get_Count()?Microsoft.Crm.Client.Core.ViewModels.$AB.isInstanceOfType(this.$DD.get_$R(f))?(e=this.$DD.get_$R(f),e.set_Text(t),e.set_MessageType(r)):(this.$1jU(f),o=new Microsoft.Crm.Client.Core.ViewModels.$AB(n,t,i,r),o.set_Priority(u),this.$DD.$1Ir(f,o)):(s=new Microsoft.Crm.Client.Core.ViewModels.$AB(n,t,i,r),s.set_Priority(u),this.$23d(s))},$2KG:function(n){this.set_InteractionCentricNotification(n)},$30e:function(){this.set_InteractionCentricNotification("")},$23d:function(n){for(var t=0,i;t<this.$DD.get_Count();t++)if(i=this.$DD.get_$R(t),!(i.$Kg<n.$Kg))break;this.$DD.$1Ir(t,n)},$30h:function(n){if(!$0.$0(this.$DD)){var t=this.$1cJ(n);this.$1jU(t)}},$1jU:function(n){if(!$0.$0(this.$DD)&&n>=0&&n<this.$DD.get_Count()){var t=this.$DD.get_$R(n);Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.isInstanceOfType(t)&&t.dispose();this.$DD.$vm(n)}},$1cJ:function(n){var t=this;return this.$DD.$1Km(function(t){return t.$UE===n})},$1M7:function(){this.$7("IsServerAvailable")},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$1M7);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel=function(n,t,i){this.$$d_Close=Function.createDelegate(this,this.Close);this.$$d_$Wy=Function.createDelegate(this,this.$Wy);this.$$d_$2sX=Function.createDelegate(this,this.$2sX);this.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text");this.$LY=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text");this.$x7=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$5f));Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.initializeBase(this);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Pq||Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeInitializeStart",1,this.get_ViewModelId());this.$uG=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2sX,1019);this.$Nq=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$Wy,1019);this.$DE=n;this.$DZ=$0.$0(t)?0:t;this.$AG=$0.$0(i)?0:i;this.set_StartIndex(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?1:-3e4)};Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.prototype={$DE:null,$gR_5:null,$1ND:null,$v0:null,$AG:0,$DZ:0,$C2:null,$Gm:null,$uG:null,$Nq:null,$1J4:!0,$148:!0,get_IsAnimationAllowed:function(){return this.$1J4},set_IsAnimationAllowed:function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,t=i.$Em(n,null);return this.$1J4!==t&&(this.$1J4=t),n},Show:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Pq||Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedInteractionReady",1,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$uq(this);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("PopupPresent",!0);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$Pq||Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedFull",1,this.get_ViewModelId())},Close:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(this);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("PopupPresent",!1)},$2sX:function(){$0.$0(this.$C2)||this.$C2();this.Close()},$Wy:function(){this.Close();$0.$0(this.$Gm)||this.$Gm()},get_MessageTitle:function(){return this.$DE},set_MessageTitle:function(n){return this.$DE=n,n},get_MessageSubtitle:function(){return this.$gR_5},set_MessageSubtitle:function(n){return this.$gR_5=n,n},get_Message:function(){return this.$v0},set_Message:function(n){return this.$v0!==n&&(this.$v0=n,this.$1ND=this.$29z(this.$v0),this.$7("Message")),n},get_ShowTechnicalDetailsLinkLable:function(){return this.$x7.get_Count()>0?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ErrorDialog.ShowTechnicalDetails"):""},get_TechnicalDetails:function(){for(var r,t,i="",n=0;n<this.$x7.get_Count();n++)r=this.$x7.get_$R(n),t="{0}",n&&(t+="<br />"),t+=Microsoft.Crm.Client.Core.Framework.$6N.$1ey()?"{2} <span style='font-weight: bold'>{1}<\/span>":"<span style='font-weight: bold'>{1}<\/span> {2}",i=String.format(t,i,r.$1mT,r.$1mU);return i},$1VP:function(n){$0.$0(n)||this.$x7.add(n)},get_$39R:function(){return this.$x7.get_Count()},$1Tl:null,get_MessageObject:function(){return this.$1Tl},set_MessageObject:function(n){return this.$1Tl=n,n},get_ProcessedMessage:function(){return this.$1ND},$29z:function(n){if($0.$0(n))return null;var t;return t=String.isInstanceOfType(n)?n:n.toString(),this.$148&&(t=CrmEncodeDecode.CrmHtmlEncode(t)),this.$2kd(t)},$2kd:function(n){var t=n.replace(new RegExp("&#13&#10;","g"),"<br>");return t=t.replace(new RegExp("&#13;","g"),"<br>"),t=t.replace(new RegExp("&#10;","g"),"<br>"),t.replace(new RegExp("&#92;n","g"),"<br>")},get_DialogType:function(){return this.$DZ},set_DialogType:function(n){return this.$DZ=n,n},get_OkButtonText:function(){return this.$FB},set_OkButtonText:function(n){return this.$FB=n,n},get_CancelButtonText:function(){return this.$LY},set_CancelButtonText:function(n){return this.$LY=n,n},get_OkHandler:function(){return this.$C2},set_OkHandler:function(n){return this.$C2=n,n},get_OkCommand:function(){return this.$uG},get_CancelCommand:function(){return this.$Nq},get_IsHtmlEncodingRequired:function(){return this.$148},set_IsHtmlEncodingRequired:function(n){return n!==this.$148&&(this.$148=n,this.$1ND=this.$29z(this.$v0),this.$7("ProcessedMessage")),n},$Oh:function(){$0.$0(this.$uG)||(this.$uG.dispose(),this.$uG=null);$0.$0(this.$Nq)||(this.$Nq.dispose(),this.$Nq=null);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$5f=function(n,t){this.$1mT=n;this.$1mU=t};Microsoft.Crm.Client.Core.ViewModels.$5f.$2T3=function(){var n,t;return!Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(n=Microsoft.Crm.Client.Core.Framework.LocalStorage.$1F.get_$Ff().$D8("MoCASessionID"),!$0.$0(n))?(t=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ErrorDialog.TelemetrySessionId"),new Microsoft.Crm.Client.Core.ViewModels.$5f(t,n)):null};Microsoft.Crm.Client.Core.ViewModels.$5f.$2QP=function(n){if(!$0.$0(n)&&n!==Microsoft.Crm.Client.Core.Framework.Guid.get_empty()){var t=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ErrorDialog.TelemetryActivityIdLabel");return new Microsoft.Crm.Client.Core.ViewModels.$5f(t,n.toString())}return null};Microsoft.Crm.Client.Core.ViewModels.$5f.$2QQ=function(n){if(!$0.$0(n)&&!isNaN(n.getTime())&&n.getTime()){var t=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ErrorDialog.TelemetryTimestampLabel");return new Microsoft.Crm.Client.Core.ViewModels.$5f(t,n.toString())}return null};Microsoft.Crm.Client.Core.ViewModels.$5f.$2xw=function(n){if(!$0.$0(n)){var t=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ErrorDialog.ProvideTechnicalDetails");return String.format("{0} {1}",n,t)}return null};Microsoft.Crm.Client.Core.ViewModels.$5f.prototype={$1mT:null,$1mU:null};Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NavigationButton",Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel)};Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.prototype={$5R:!1,get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){return this.$5R!==n&&(this.$5R=n,this.$7("HasFocus")),n},$zG:!1,get_ShouldNotInitializeCommand:function(){return this.$zG},set_ShouldNotInitializeCommand:function(n){return this.$zG=n,n},$69:null,$JX:!0,get_Text:function(){return this.$69},set_Text:function(n){return this.$69!==n&&(this.$69=n,this.$7("Text")),n},get_AllowNavigate:function(){return this.$JX},set_AllowNavigate:function(n){return this.$JX=n,n},get_$2zW:function(){if(!$0.$0(this.get_Data())&&Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(this.get_Data())){var n=this.get_Data();return n.get_$4m().toString()}return""},$2Z:function(){if(Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this),!this.$zG){var n=this;this.set_ActionCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){if(n.get_CanNavigate()){var i=n.get_Data(),t;t=Microsoft.Crm.Client.Core.Framework.$6.get_$f()?new Microsoft.Crm.Client.Core.Commands.$2R(n,40):new Microsoft.Crm.Client.Core.Commands.$2R(n,2);t.$x={EntityReference:i};t.$18=null;t.$D=i.get_$BZ();t.execute();t.dispose()}},26))}this.$1Cl()},$KZ:function(n,t){if(Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(this.get_Data())){if(this.set_Text(this.get_Data().get_$8z()),Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var r=this.get_Data().get_$BZ().toString(),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r);this.$JX=!$0.$0(i)&&i.$BW?!0:!1;this.set_CanNavigate(this.$JX)}}else String.isInstanceOfType(this.get_Data())?this.set_Text(this.get_Data()):this.set_Text("");Microsoft.Crm.Client.Core.ViewModels.$SV.prototype.$KZ.call(this,n,t)},$1Cl:function(){return this.$JX&&Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(this.get_Data())&&!(Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2))&&Microsoft.Crm.Client.Core.ViewModels.$SV.prototype.$1Cl.call(this)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.get_Data().get_$BZ(),1)},$Oh:function(){this.set_ActionCommand(null);Microsoft.Crm.Client.Core.ViewModels.$24.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("NotesItem",Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.prototype={$nc:null,$1gS:null,$1fO:null,$69:null,$1Vt:null,get_Subject:function(){return this.$nc},set_Subject:function(n){return this.$nc=n,this.$7("Subject"),n},get_ModifiedOn:function(){return this.$1gS},set_ModifiedOn:function(n){return this.$1gS=n,this.$7("ModifiedOn"),n},get_LastModifiedBy:function(){return this.$1fO},set_LastModifiedBy:function(n){return this.$1fO=n,this.$7("LastModifiedBy"),n},get_Text:function(){return this.$69},set_Text:function(n){return this.$69=n,this.$7("Text"),n},get_AttachmentFileName:function(){return this.$1Vt},set_AttachmentFileName:function(n){return this.$1Vt=n,n},get_AttachmentsControlViewModel:function(){return!$0.$0(this.$H)&&"AttachmentsControlViewModel"in this.$H?this.$H.AttachmentsControlViewModel:null}};Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel=function(){this.$$d_$2vd=Function.createDelegate(this,this.$2vd);Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("OneNoteItem",Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel.prototype={$1GD:null,$1LU:null,$1CQ:null,$1Q1:null,$1Q0:null,$1Ez:null,$j6:null,$gj:null,get_OneNoteShortPressCommand:function(){return this.$gj},get_FullName:function(){return this.$1GD},set_FullName:function(n){return this.$1GD!==n&&(this.$1GD=n,this.$7("FullName")),n},get_Modified:function(){return this.$1LU},set_Modified:function(n){return this.$1LU!==n&&(this.$1LU=n,this.$7("Modified")),n},get_Author:function(){return this.$1CQ},set_Author:function(n){return this.$1CQ!==n&&(this.$1CQ=n,this.$7("Author")),n},get_SharepointModifiedBy:function(){return this.$1Q1},set_SharepointModifiedBy:function(n){return this.$1Q1!==n&&(this.$1Q1=n,this.$7("SharepointModifiedBy")),n},get_SharepointCreatedOn:function(){return this.$1Q0},set_SharepointCreatedOn:function(n){return this.$1Q0!==n&&(this.$1Q0=n,this.$7("SharepointCreatedOn")),n},get_EditUrl:function(){return this.$1Ez},set_EditUrl:function(n){return this.$1Ez!==n&&(this.$1Ez=n,this.$7("EditUrl")),n},get_AbsoluteUrl:function(){return this.$j6},set_AbsoluteUrl:function(n){return this.$j6!==n&&(this.$j6=n,this.$7("AbsoluteUrl")),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$gj=new Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand("onenote:",this.$j6);this.AddPropertyChangedListener("AbsoluteUrl",this.$$d_$2vd)},$Oh:function(){$0.$0(this.$gj)||(this.$gj.dispose(),this.$gj=null);this.RemovePropertyChangedListener("AbsoluteUrl",this.$$d_$2vd);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$2vd:function(){if(!$0.$0(this.$gj)){var n=this.$gj;$0.$0(this.$j6)||n.set_$Dt(this.$j6)}}};Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel=function(){this.$$d_$2kw=Function.createDelegate(this,this.$2kw);this.$$d_$15g=Function.createDelegate(this,this.$15g);this.$$d_$27g=Function.createDelegate(this,this.$27g);this.$13N=!Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled();this.$1D8={};this.$1IM=Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled();Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.initializeBase(this);this.$si=!0;this.AddPropertyChangedListener("InvalidViewModels",this.$$d_$27g)};Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("PanoramaItem",Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel)};Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.prototype={$no:null,$E6:!1,$47:"",$ZY:null,$Ee:null,$17Q:!1,$1G3:!1,$Ag:null,get_TitleShortPressCommand:function(){return this.$no},set_TitleShortPressCommand:function(n){return this.$no!==n&&($0.$0(this.$no)||(this.$no.dispose(),this.$no=null),this.$no=n,this.$7("TitleShortPressCommand")),n},get_DisableHeaderLongPress:function(){return this.$E6},set_DisableHeaderLongPress:function(n){return this.$E6=n,n},get_ErrorMessage:function(){return this.$47},set_ErrorMessage:function(n){return this.$47!==n&&(this.$47=n,this.$7("ErrorMessage")),n},get_LabelValue:function(){return this.$ZY},set_LabelValue:function(n){return this.$ZY!==n&&(this.$ZY=n),n},get_TestabilityAttributes:function(){return this.$Ee},set_TestabilityAttributes:function(n){return this.$Ee!==n&&(this.$Ee=n,this.$7("TestabilityAttributes")),n},get_HideChildren:function(){return this.$1IM},set_HideChildren:function(n){return this.$1IM!==n&&(this.$1IM=n,this.$7("HideChildren")),n},get_SearchButtonPress:function(){return this.$17Q},set_SearchButtonPress:function(n){return this.$17Q!==n&&(this.$17Q=n),n},get_HasFocus:function(){return Microsoft.Crm.Client.Core.ViewModels.$SK.prototype.get_HasFocus.call(this)},set_HasFocus:function(n){return Microsoft.Crm.Client.Core.ViewModels.$SK.prototype.set_HasFocus.call(this,n),n&&(this.$7("ScrollToFocused"),this.$1G3=!0),n},get_HasSeeMoreButton:function(){return!$0.$0(this.$zC)},$zC:null,get_SeeMoreButtonViewModel:function(){return this.$zC},set_SeeMoreButtonViewModel:function(n){return this.$zC=n,n},get_ForceScrollToFocus:function(){return this.$1G3},set_ForceScrollToFocus:function(n){return this.$1G3=n,n},$ol:!1,get_HalfHeight:function(){return this.$ol},set_HalfHeight:function(n){return this.$ol=n,n},$zB:null,get_SectionId:function(){return this.$zB},set_SectionId:function(n){return this.$zB=n,n},get_$1Xq:function(){return Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.get_DelayedPaneRenderingEnabled()},get_PluralName:function(){return this.$Ag},$2Z:function(){var t,i,n,r;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);t=this.$H;for(i in t)n={key:i,value:t[i]},(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(n.value)||Microsoft.Crm.Client.Core.ViewModels.$9e.isInstanceOfType(n.value))&&(this.$E6=!0),Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(n.value)&&(r=n.value,r.$1AN=this.$ol,this.$zC=r);this.AddPropertyChangedListener("IsSelected",this.$$d_$15g);this.$rl();this.$37Y();this.get_IsInteractionCentricEnabled()&&this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84,this.$$d_$2kw);this.$Ee["data-panetype"]==="DrilldownPane"&&(this.$Ag=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D).$Ag)},$2kw:function(n){n.$1TB==="SearchBoxEnterKeyPress"&&(this.$17Q=!0)},get_TabSpaceReserved:function(){return 200},$rl:function(){var t=this.$20j(),i="GeneralPane",r=this.$L,n;r==="ProxyProcessControl"?i="ProcessPane":t&&Microsoft.Crm.Client.Core.Framework.$9t.isInstanceOfType(t)&&(i=t.get_$1i6(),$0.$0(t.get_$1i4())||(r=t.get_$1i4()));n={};n["data-id"]="PaneHeader";n["data-panetype"]=i;n["data-panename"]=r;n["data-loaded"]=this.$13N;this.set_TestabilityAttributes(n)},$1fe:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i,r,u,s,n,f,e,o;if(this.$13N)t.resolve(!0);else{i=[];r=this.$H;for(u in r)s={key:u,value:r[u]},n=s.value,n.$2Z(),Microsoft.Crm.Client.Core.ViewModels.$DA.isInstanceOfType(n)&&n.get_IsLoading()&&(f=MscrmComponents.DeferredPromiseFactory(Boolean,Object),e=this.$2gt(f),this.$1D8[n.get_ViewModelId()]=e,n.apcl("IsLoading",e),Array.add(i,f.promise()));o=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).always(function(){t.resolve(!0);o.$13N=!0;o.$rl()});this.set_HideChildren(!1)}return t.promise()},$37Y:function(){var i=this.$20j(),n,t;Microsoft.Crm.Client.Core.Framework.$D9.isInstanceOfType(i)&&(n=i.get_$1u(),t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54(),$0.$0(n)||t.$1na(n)||t.$6Q(n,1)||this.set_Visible(!1))},$20j:function(){var t=this.$H,n,i;for(n in t)return i={key:n,value:t[n]},i.value;return null},$nR:function(n){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$nR.call(this,n);this.$si&&this.$4u&&this.set_Visible(this.$SG>0)},$15g:function(){var n,t,i,r;if(this.get_IsSelected()&&!$0.$0(this.$H)){n=this.$H;for(t in n)i={key:t,value:n[t]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(i.value)&&(r=i.value,r.set_$KH(!0))}},$27g:function(){if(this.set_ErrorMessage(this.$AZ.get_Count()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Form_Component_Error"):""),Microsoft.Crm.Client.Core.Framework.$6.get_$3A()){var n="FieldErrorNotification";this.$AZ.get_Count()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33()===this.$2&&Microsoft.Crm.Client.Core.ViewModels.$10.$wc(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notification_Field_Error"),3,n,null,-1):Microsoft.Crm.Client.Core.ViewModels.$10.$Lc(n)}},$Oh:function(){this.set_TitleShortPressCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this);this.get_IsInteractionCentricEnabled()&&this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84,this.$$d_$2kw)},$1Et:function(n){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$1Et.call(this,n);n.RemovePropertyChangedListener("IsLoading",this.$1D8[n.get_ViewModelId()])},$xQ:function(){var r,u,n,f,t,i;if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$qH(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$1X8(),!$0.$0(this.$H)&&Microsoft.Crm.Client.Core.Framework.$1B.$s(this.$H)===1){r=this.$H;for(u in r)if(n={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$4B.isInstanceOfType(n.value)&&Microsoft.Crm.Client.Core.ViewModels.$9c.isInstanceOfType(n.value)&&Microsoft.Crm.Client.Core.Framework.$9t.isInstanceOfType(n.value)&&(f=n.value.get_$1i6(),f!=="GridListPane"&&(t=n.value,i=t,Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(t)&&(i=t.$2eC()),!$0.$0(i)))){var o=n.value,e=o.get_$qQ(),s=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y;if(e!=="CustomControlUnloaded")return s.$vj(e,i)}}return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.set_IsLoading(!1),MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7).resolve(!0).promise()},$2gt:function(n){var t=this;return function(i){i.rpcl("IsLoading",t.$1D8[i.get_ViewModelId()]);n.resolve(!0)}}};Microsoft.Crm.Client.Core.ViewModels.$Ds=function(){this.$$d_$KZ=Function.createDelegate(this,this.$KZ);Microsoft.Crm.Client.Core.ViewModels.$Ds.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ds.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("ProgressBar",Microsoft.Crm.Client.Core.ViewModels.$Ds)};Microsoft.Crm.Client.Core.ViewModels.$Ds.prototype={$tw:0,$153:100,$1Mq:0,get_MaximumValue:function(){return this.$153},set_MaximumValue:function(n){return this.$153=n,n},get_MinimumValue:function(){return this.$tw},set_MinimumValue:function(n){return this.$tw=n,n},set_$2xJ:function(n){return this.$1Mq=this.$1Mq>100?100:n<0?0:n,this.$7("PercentageValue"),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.AddPropertyChangedListener("Data",this.$$d_$KZ);this.$2He()},$KZ:function(){this.$2He()},$2He:function(){this.$tw<this.$153&&this.set_$2xJ(Math.round((this.get_Data()-this.$tw)/(this.$153-this.$tw)*100))}};Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel=function(n){var t,i,r,u,f,e,o;this.$$d_$28U=Function.createDelegate(this,this.$28U);this.$$d_$28T=Function.createDelegate(this,this.$28T);this.$$d_$2v2=Function.createDelegate(this,this.$2v2);this.$$d_$2vH=Function.createDelegate(this,this.$2vH);this.$$d_$28S=Function.createDelegate(this,this.$28S);this.$$d_$27U=Function.createDelegate(this,this.$27U);this.$$d_$1gx=Function.createDelegate(this,this.$1gx);this.$$d_$2oa=Function.createDelegate(this,this.$2oa);this.$$d_$2p6=Function.createDelegate(this,this.$2p6);this.$$d_$2pV=Function.createDelegate(this,this.$2pV);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2Qf=Function.createDelegate(this,this.$2Qf);this.$$d_$2Qd=Function.createDelegate(this,this.$2Qd);this.$$d_$2Qa=Function.createDelegate(this,this.$2Qa);this.$$d_$2Qb=Function.createDelegate(this,this.$2Qb);this.$$d_$1so=Function.createDelegate(this,this.$1so);this.$$d_$CO=Function.createDelegate(this,this.$CO);this.$$d_$QG=Function.createDelegate(this,this.$QG);this.get_AttributeMetadata=this.get_$1Vw;this.set_AttributeMetadata=this.set_$1Vw;Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$2M4=this.get_AttributeFieldNames;Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.initializeBase(this,[n]);this.$IZ.$1J6=!0;this.$a1=new Microsoft.Crm.Client.Core.ViewModels.Common.$8b(this);t=this;this.set_RequestCloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$QG,1013,this,"IsCloseButtonEnabled",function(){return t.get_$1dz()}));i=this;this.set_$1ti(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$CO,1013,this,"CanCreate",function(){return i.get_CanCreate()}));r=this;this.set_CreateAndCloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1so,1013,this,"CanCreate",function(){return r.get_CanCreate()}));u=this;this.set_$1sp(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Qb,1013,this,"CanCreate",function(){return u.get_CanCreate()}));f=this;this.set_CreateAndEditPanoramaCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Qa,1013,this,"CanCreate",function(){return f.get_CanCreate()}));e=this;this.set_CreateAndProcessNavigateCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Qd,1013,this,"CanCreate",function(){return e.get_CanCreate()}));o=this;this.set_$1ss(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Qf,1013,this,"CanCreate",function(){return o.get_CanCreate()}));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He);this.AddPropertyChangedListener("IsValid",this.$$d_$2pV);this.AddPropertyChangedListener("IsSaving",this.$$d_$2p6);this.AddPropertyChangedListener("IsNoteRequiredFieldFilled",this.$$d_$2oa)};Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype={$a1:null,$O0:null,$V8:null,$17l:null,$1Of:null,$17C:null,$10v:null,$jl:null,$jm:null,$qU:null,$qV:null,$qW:null,$1eo:!1,$1K9:!1,$1ep:!0,$1JD:!1,$hj:!1,$5i:null,$Ek:null,$f8:null,$J2:null,$1Cn:!1,$Ok:!1,$1Jy:!0,$242:!0,$Bz:null,$4I:null,$1l:null,$1gZ:!0,$S8:!1,$D0:null,$1Dr:null,$D6:0,$2Nt:function(n){return n},$He:function(){this.$7("IsSaveAndEditButtonHidden");this.$7("IsSaveAndProcessNavigateButtonHidden");this.$7("CreateAndCloseButtonText")},$2pV:function(){this.$7("CanCreate")},$2p6:function(){this.$7("CanCreate");this.$7("IsCloseButtonEnabled")},$2oa:function(){this.$7("CanCreate")},add_PreNavigation:function(n){this.$1p("PreNavigation",n)},remove_PreNavigation:function(n){this.$32("PreNavigation",n)},add_$1j7:function(n){this.$1p("RecordSaved",n)},add_$2Ab:function(n){this.$1p("RecordNotSaved",n)},get_CreateRecordActionProvider:function(){return this.$O0},set_CreateRecordActionProvider:function(n){return this.$O0=n,n},get_RetrieveCreateFormDataXmlActionProvider:function(){return this.$1Of},set_RetrieveCreateFormDataXmlActionProvider:function(n){return this.$1Of=n,n},get_RetrieveProcessActionProvider:function(){return this.$17C},set_RetrieveProcessActionProvider:function(n){return this.$17C=n,n},get_SetEntityReferenceActionProvider:function(){return this.$V8},set_SetEntityReferenceActionProvider:function(n){return this.$V8=n,n},get_SetModelFromRetrievedEntityActionProvider:function(){return this.$17l},set_SetModelFromRetrievedEntityActionProvider:function(n){return this.$17l=n,n},set_$1ti:function(n){return $0.$0(this.$10v)||(this.$10v.dispose(),this.$10v=null),this.$10v=n,n},get_CreateAndCloseCommand:function(){return this.$jl},set_CreateAndCloseCommand:function(n){return $0.$0(this.$jl)||(this.$jl.dispose(),this.$jl=null),this.$jl=n,n},get_CreateAndEditPanoramaCommand:function(){return this.$jm},set_CreateAndEditPanoramaCommand:function(n){return $0.$0(this.$jm)||(this.$jm.dispose(),this.$jm=null),this.$jm=n,n},set_$1sp:function(n){return $0.$0(this.$qU)||(this.$qU.dispose(),this.$qU=null),this.$qU=n,n},set_$1ss:function(n){return $0.$0(this.$qW)||(this.$qW.dispose(),this.$qW=null),this.$qW=n,n},get_CreateAndProcessNavigateCommand:function(){return this.$qV},set_CreateAndProcessNavigateCommand:function(n){return $0.$0(this.$qV)||(this.$qV.dispose(),this.$qV=null),this.$qV=n,n},get_CanCreate:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?!1:this.$BY&&!this.$Ok&&this.$1Jy},get_ShowIcon:function(){return this.$hj},set_ShowIcon:function(n){return this.$hj!==n&&(this.$hj=n,this.$7("ShowIcon")),n},get_Title:function(){return this.$5i},set_Title:function(n){return this.$5i!==n&&(this.$5i=n,this.$7("Title")),n},get_BoundField:function(){return this.$Ek},set_BoundField:function(n){return this.$Ek=n,n},get_FormDataXml:function(){return this.$f8},set_FormDataXml:function(n){return this.$f8=n,n},get_$1dz:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?!1:this.$242&&!this.$Ok},get_CanBeInitialized:function(){return this.$1Cn},set_CanBeInitialized:function(n){return this.$1Cn=n,n},get_AttributeFieldNames:function(){return this.$4I},set_AttributeFieldNames:function(n){return n===this.$4I?n:(this.$4I=n,this.$7("AttributeFieldNames"),n)},get_$1Vw:function(){return this.$1l},set_$1Vw:function(n){return n===this.$1l?n:(this.$1l=n,this.$7("AttributeMetadata"),n)},get_RetrieveOptions:function(){return Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq()},get_IsSaving:function(){return this.$Ok},set_IsSaving:function(n){return this.$Ok!==n&&(this.$Ok=n,this.$7("IsSaving")),n},set_$2oZ:function(n){return this.$1Jy!==n&&(this.$1Jy=n,this.$7("IsNoteRequiredFieldFilled")),n},get_IsSaveAndCloseButtonHidden:function(){return this.$1eo},set_IsSaveAndCloseButtonHidden:function(n){return this.$1eo=n,this.$7("IsSaveAndCloseButtonHidden"),n},get_IsSaveAndEditButtonHidden:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$B5()?this.$1K9:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?this.$1K9:!0},set_IsSaveAndEditButtonHidden:function(n){return this.$1K9=n,this.$7("IsSaveAndEditButtonHidden"),n},get_IsSaveAndProcessNavigateButtonHidden:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?this.$1ep:!0},set_IsSaveAndProcessNavigateButtonHidden:function(n){return this.$1ep=n,this.$7("IsSaveAndProcessNavigateButtonHidden"),n},get_IsCloseButtonHidden:function(){return this.$1JD},set_IsCloseButtonHidden:function(n){return this.$1JD!==n&&(this.$1JD=n,this.$7("IsCloseButtonHidden")),n},get_SavingText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SavingInformation")+"..."},get_$31Y:function(){return!0},get_$VL:function(){return this.get_$2ns()?Microsoft.Crm.Client.Core.Framework.$6.get_$3A()?!0:this.$S8:!0},get_$2ns:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$24C()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$24D()},get_StartIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?1e4:-3e4},get_CreateAndCloseButtonText:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$B5()?this.get_$1Xx():Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?this.get_$1Xx():Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Save_Draft_Text")},get_CreateAndEditButtonText:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1Dr)?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Create_And_Edit_Button_Text"):this.$1Dr},set_CreateAndEditButtonText:function(n){return this.$1Dr=n,n},get_CancelButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text")},get_$2Xe:function(){return this.$D6},get_IsNoteQuickCreateForm:function(){return this.$D==="annotation"&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("DeviceIntegration")},get_$1Xx:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Create_And_Close_Button_Text")},$2Z:function(){if(Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$2Z.call(this),!$0.$0(this.$4I))if($0.$0(this.$K.$M))this.$eB();else{var t=this.$K.$M.InitializeFrom,n=null;$0.$0(this.$K.$M.InitializationParameters)||(n=this.$K.$M.InitializationParameters,$0.$0(n.InitializeFrom)||(t=n.InitializeFrom));this.$2m1(n);$0.$0(n)||$0.$0(n.BoundField)?$0.$0(this.$K.$M.BoundField)||(this.$Ek=this.$K.$M.BoundField):this.$Ek=n.BoundField;$0.$0(this.get_ModelContext())&&this.$1Ig(t,n)}Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("QuickCreateFormPresent",!0)},$1Ig:function(n,t){switch(n){case 1:this.$2Rf(t);break;case 2:this.$1tM();break;case 3:this.$2Rg();break;default:this.$eB()}},$2m1:function(n){$0.$0(n)||$0.$0(n.IsSaveAndCloseButtonHidden)?$0.$0(this.$K.$M.IsSaveAndCloseButtonHidden)||this.set_IsSaveAndCloseButtonHidden(this.$K.$M.IsSaveAndCloseButtonHidden):this.set_IsSaveAndCloseButtonHidden(n.IsSaveAndCloseButtonHidden);$0.$0(n)||$0.$0(n.IsSaveAndEditButtonHidden)?$0.$0(this.$K.$M.IsSaveAndEditButtonHidden)||this.set_IsSaveAndEditButtonHidden(this.$K.$M.IsSaveAndEditButtonHidden):this.set_IsSaveAndEditButtonHidden(n.IsSaveAndEditButtonHidden);$0.$0(n)||$0.$0(n.IsSaveAndProcessNavigateButtonHidden)?$0.$0(this.$K.$M.IsSaveAndProcessNavigateButtonHidden)||this.set_IsSaveAndProcessNavigateButtonHidden(this.$K.$M.IsSaveAndProcessNavigateButtonHidden):this.set_IsSaveAndProcessNavigateButtonHidden(n.IsSaveAndProcessNavigateButtonHidden);$0.$0(n)||$0.$0(n.IsCloseButtonHidden)?$0.$0(this.$K.$M.IsCloseButtonHidden)||this.set_IsCloseButtonHidden(this.$K.$M.IsCloseButtonHidden):this.set_IsCloseButtonHidden(n.IsCloseButtonHidden)},$MZ:function(n){if(this.set_IsSaving(!1),this.$Bz=n,$0.$0(this.$4d("RecordNotSaved"))||n.$m===-2147220891)Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$MZ.call(this,n);else{var t=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M.$128(n);this.$9n("RecordNotSaved",t)}},$27X:function(n,t){this.$1Hy(n,t);this.$2LE(n)},$27U:function(n){var t,i;this.set_IsSaving(!1);switch(n.$m){case-2147220685:t=n;this.$D0=t.$D0;i=this.$1Of.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i);break;default:this.$MZ(n)}},$1gx:function(n){if(n==="Save")this.$S8=!0,this.$CO();else if(n.indexOf("OpenRecord")!==-1){var t=$(n),i=this,r=this;Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_Dialog_Warning"),1,function(){i.set_IsSaving(!1);var n=t.find("type").text(),r=t.find("Id").text();$0.$0(n)||$0.$0(r)||(Xrm.Utility.openEntityForm(n,r),i.$QG())},function(){r.set_IsSaving(!1)},Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_LeaveButton"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("UnSavedChanges_StayButton"))}},$2v2:function(n){this.set_ModelContext(n)},$28S:function(n){this.$f8=n;Microsoft.Crm.Client.Core.ViewModels.$7R.$17u(this.$f8,this.$$d_$1gx,"")},$28U:function(n){var i,t;this.$2h||(i=n[0],i&&this.get_ModelContext().SetValue("processid",i),t=n[1],t&&(this.get_ModelContext().SetValue("stageid",t),this.get_ModelContext().SetValue("traversedpath",t.toString())),this.$wy())},$28T:function(){this.$wy()},$2vH:function(n){this.set_ModelContext(n)},$2Rf:function(n){var t=null,i,r;$0.$0(n)||(t=n.RefreshContext);$0.$0(t)?this.$D==="annotation"||$0.$0(this.$K.$8n)||$0.$0(this.$K.$8n.get_ModelContext())||!this.$1Cn?this.$eB():(r=this,Microsoft.Crm.Client.Core.Models.$c.$23P(this.$K.$8n.get_ModelContext(),this.$D,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(n){r.set_ModelContext(n)},this.$$d_$27U)):(i=this,Microsoft.Crm.Client.Core.Models.$c.$23P(t.get_ModelContext(),this.$D,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(n){i.set_ModelContext(n)},this.$$d_$27U))},$2Rg:function(){if($0.$0(this.$K.$8n)||$0.$0(this.$K.$8n.get_ModelContext()))this.$eB();else if(!$0.$0(this.$17l)){var n=this.$17l.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$1tM:function(){var n,t,i,f;if(!$0.$0(this.$K.$M)&&"InitializationParameters"in this.$K.$M){if(n=this.$K.$M.InitializationParameters,"RelationshipAttribute"in n&&n.RelationshipAttribute.length>0){t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(this.$4I);for(var u=n.RelationshipAttribute,e=u.length,r=0;r<e;++r)i=u[r],$0.$0(i)||t.contains(i)||t.add(i);this.set_AttributeFieldNames(t.toArray())}f=this;Microsoft.Crm.Client.Core.Models.$c.$1If(this.$D,n,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(n){f.set_ModelContext(n)},this.$$d_$27U)}else this.$eB()},$eB:function(){var n=this;Microsoft.Crm.Client.Core.Models.$c.$jn(this.$D,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(t){if($0.$0(n.$K.$8n)||$0.$0(n.$K.$8n.get_ModelContext())||$0.$0(n.$Ek))n.set_ModelContext(t);else if(!$0.$0(n.$V8)&&!$0.$0(n.$K.$8n.get_ModelContext().get_Id())){n.set_ModelContext(t);var i=n.$V8.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i)}},this.$$d_$27U)},$QG:function(){Microsoft.Crm.Client.Core.ViewModels.$CD.prototype.$QG.call(this);Xrm.Internal.disableFieldChangeIndicator();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("QuickCreateFormPresent",!1);Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$1Nb-=1},$1so:function(){this.$D6=1;this.$CO()},$2Qa:function(){this.$D6=3;this.$CO()},$2Qf:function(){this.$D6=5;this.$CO()},$2Qd:function(){this.$D6=4;this.$CO()},$CO:function(){var n,t;Microsoft.Crm.Client.Core.Framework.$6.$4N||(n=this.$4d("PreNavigation"),n&&n(this,null),$0.$0(this.$17C)?this.$wy():(t=this.$17C.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)),this.set_IsSaving(!0))},$wy:function(){if(!Microsoft.Crm.Client.Core.Framework.$6.$4N&&!$0.$0(this.$O0)){var n=this.$O0.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$2Qb:function(){this.$D6=2;this.$CO()},$1Hy:function(n,t){var u,f,i,e;if($0.$0(n)&&$0.$0(t)&&this.set_IsSaving(!1),u=null,$0.$0(n)||$0.$0(t)||(u=this.$4d("RecordSaved")),!$0.$0(t))switch(this.$D6){case 1:this.$QG();break;case 2:var l={ParentReference:this.$J2},a={PrimaryModelName:this.$D,externalParameters:l},o=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CreateCommand",null,a));o.execute();o.dispose();this.$QG();break;case 3:f=new Microsoft.Crm.Client.Core.Commands.$2R(this,2);f.execute();f.dispose();this.$1gZ=!1;this.$QG();break;case 4:var s=null,r=this.$K.$M.InitializationParameters,h="",c="";$0.$0(r)||($0.$0(r.RefreshContext)||(s=r.RefreshContext),$0.$0(r.NewActiveStageId)||(h=r.NewActiveStageId),$0.$0(r.NewTraversedPath)||(c=r.NewTraversedPath));i={};i.NextEntityId=t.get_$4m();i.NextEntityLogicalName=t.get_$BZ();i.TargetViewModel=s;i.ActionType="NavigateToNextEntity";i.NewActiveStageId=h;i.NewTraversedPath=c;e=new Microsoft.Crm.Client.Core.ViewModels.Commands.$AH(i);e.execute();e.dispose();this.$QG();break;case 5:this.set_IsSaving(!1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1jh(2)}$0.$0(u)||u(new Microsoft.Crm.Client.Core.ViewModels.$Mc(n,t))},$2LE:function(n){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("LandingPage")&&!$0.$0(n)&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n)){var t=n.$I;$0.$0(t)||Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$2tw(t)}},$1WU:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N},$Oh:function(){this.$a1.$5E();this.set_RequestCloseCommand(null);this.set_$1ti(null);this.set_CreateAndCloseCommand(null);this.set_$1sp(null);this.set_CreateAndEditPanoramaCommand(null);this.set_CreateAndProcessNavigateCommand(null);this.set_$1ss(null);this.RemovePropertyChangedListener("IsValid",this.$$d_$2pV);this.RemovePropertyChangedListener("IsSaving",this.$$d_$2p6);this.RemovePropertyChangedListener("IsNoteRequiredFieldFilled",this.$$d_$2oa);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);this.$1gZ&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.get_ModelContext())&&this.get_ModelContext().$5E();this.$O0=null;Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Sh=function(){this.$$d_$2vc=Function.createDelegate(this,this.$2vc);Microsoft.Crm.Client.Core.ViewModels.$Sh.initializeBase(this,[22])};Microsoft.Crm.Client.Core.ViewModels.$Sh.prototype={$He:function(n,t){Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.$He.call(this,n,t);this.$7("CanCreate")},get_CanCreate:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$14U()&&Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.prototype.get_CanCreate.call(this)},get_CreateAndCloseButtonText:function(){return this.get_$1Xx()},$2vc:function(n){this.$1Hy(this.get_ModelContext(),n)}};Microsoft.Crm.Client.Core.ViewModels.$6e=function(){Microsoft.Crm.Client.Core.ViewModels.$6e.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$6e.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$6e.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Real",Microsoft.Crm.Client.Core.ViewModels.$6e);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Money",Microsoft.Crm.Client.Core.ViewModels.$6e)};Microsoft.Crm.Client.Core.ViewModels.$6e.prototype={$PC:0,$B8:0,$B9:0,get_$16G:function(){return this.$PC},set_$16G:function(n){return this.$PC!==n&&(this.$PC=n,this.$7("Precision")),n},get_$UC:function(){return this.$B8},set_$UC:function(n){return this.$B8!==n&&(this.$B8=n,this.$7("MaxValue")),n},get_$UF:function(){return this.$B9},set_$UF:function(n){return this.$B9!==n&&(this.$B9=n,this.$7("MinValue")),n}};Microsoft.Crm.Client.Core.ViewModels.$Mc=function(n,t){Microsoft.Crm.Client.Core.ViewModels.$Mc.initializeBase(this);this.$1LT=n;this.$AK=t};Microsoft.Crm.Client.Core.ViewModels.$Mc.prototype={$1LT:null,$AK:null};Microsoft.Crm.Client.Core.ViewModels.$7R=function(){};Microsoft.Crm.Client.Core.ViewModels.$7R.$17u=function(n,t,i){var f,r,e,u;$0.$1Y(n)||(f={},f.xml=n,r="/Tools/DuplicateDetection/ViewDuplicates/ViewDuplicatesOnline.aspx?source=1&showopen=true",$0.$0(i)||(e="&oid="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$nt(i),r=String.format("{0}{1}",r,e)),u=new Xrm.DialogOptions,u.height=500,u.width=500,Xrm.Internal.openDialog(r,u,f,null,t))};Microsoft.Crm.Client.Core.ViewModels.$E1=function(){Microsoft.Crm.Client.Core.ViewModels.$E1.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$E1.prototype={$Nv:null,get_ClearValueCommand:function(){return this.$Nv},set_ClearValueCommand:function(n){return this.$Nv!==n&&(this.$Nv=n,this.$7("ClearValueCommand")),n},get_ClearFieldText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Clear_Field_Text")},get_OkText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text")},$1SY:0,get_Behavior:function(){return this.$1SY},set_Behavior:function(n){return this.$1SY=n,n},get_CancelText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Cancel_Text")},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);var n=this;this.set_ClearValueCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){n.set_Data(null);n.set_HasFocus(!1)},26))},$Oh:function(){this.$Nv.dispose();this.set_ClearValueCommand(null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Se=function(){Microsoft.Crm.Client.Core.ViewModels.$Se.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Se.prototype={$2Z0:function(){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F(),t=new Array(0),n;for(i&&t.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("NoFilter",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Search_FilterOption_Nofilter"))),n=0;n<this.$F4.length;n++)Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$F4[n])&&t.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm(this.$F4[n],this.$HP[n]));return t}};Microsoft.Crm.Client.Core.ViewModels.$Sf=function(){Microsoft.Crm.Client.Core.ViewModels.$Sf.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Sf.prototype={$2Z0:function(){var n=new Array(0);return n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("DeviceDefault",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_Default"))),n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("640X480",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_640X480"))),n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("1024X768",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_1024X768"))),n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("1600X1200",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_1600X1200"))),n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("2048X1536",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_2048X1536"))),n.push(new Microsoft.Crm.Client.Core.ViewModels.$Bm("2592X1936",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DeviceSettings_ComboBox_FilterOption_2592X1936"))),n}};Microsoft.Crm.Client.Core.ViewModels.$6L=function(){Microsoft.Crm.Client.Core.ViewModels.$6L.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$6L.prototype={$OL:null,get_FieldName:function(){return this.$OL},set_FieldName:function(n){return this.$OL=n,n},get_TabSpaceReserved:function(){return 1},onClick:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("SimpleButtonClicked",0,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$33e(this.$OL)}};Microsoft.Crm.Client.Core.ViewModels.$EJ=function(){Microsoft.Crm.Client.Core.ViewModels.$EJ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EJ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("TextBox",Microsoft.Crm.Client.Core.ViewModels.$EJ)};Microsoft.Crm.Client.Core.ViewModels.$EJ.prototype={$1iQ:null,get_PlaceholderText:function(){return this.$1iQ},set_PlaceholderText:function(n){return this.$1iQ=n,n}};Microsoft.Crm.Client.Core.ViewModels.$BD=function(){Microsoft.Crm.Client.Core.ViewModels.$BD.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$BD.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("Tile",Microsoft.Crm.Client.Core.ViewModels.$BD.$39i)};Microsoft.Crm.Client.Core.ViewModels.$BD.$39i=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$BD;return n.set_CalculateTileCountCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CalculateTileCount","CalculateCount",null,null))),n.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("TileClick","clicked"))),n};Microsoft.Crm.Client.Core.ViewModels.$BD.prototype={$8l:null,$dt:null,$Fm:"",get_Count:function(){return this.$Fm},set_Count:function(n){return this.$Fm!==n&&(this.$Fm=n,this.$7("Count"),this.$1a||this.$Fm!=="--"||$0.$0(this.$dt)||this.$dt.execute()),n},get_ActionProvider:function(){return this.$8l},set_ActionProvider:function(n){return this.$8l=n,n},$1gG:"",get_MenuItemName:function(){return this.$1gG},set_MenuItemName:function(n){return this.$1gG=n,this.$7("MenuItemName"),n},$1gH:"",get_MenuItemType:function(){return this.$1gH},set_MenuItemType:function(n){return this.$1gH=n,this.$7("MenuItemType"),n},$2Z:function(){if(!this.$1a){if(!$0.$0(this.$8l)&&!$0.$0(this.get_ModelContext())){var n=this.$8l.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this)}},get_CalculateTileCountCommand:function(){return this.$dt},set_CalculateTileCountCommand:function(n){return $0.$0(this.$dt)||(this.$dt.dispose(),this.$dt=null),this.$dt=n,n},$Oh:function(){this.set_CalculateTileCountCommand(null);Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$EK=function(){Microsoft.Crm.Client.Core.ViewModels.$EK.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$EK.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("Time",Microsoft.Crm.Client.Core.ViewModels.$EK)};Microsoft.Crm.Client.Core.ViewModels.$SV=function(){this.$$d_$KZ=Function.createDelegate(this,this.$KZ);Microsoft.Crm.Client.Core.ViewModels.$SV.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$KZ)};Microsoft.Crm.Client.Core.ViewModels.$SV.prototype={$Sv:!1,$ND:!1,get_CanNavigate:function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N?!1:this.$Sv},set_CanNavigate:function(n){return this.$Sv!==n&&(this.$Sv=n,this.$7("CanNavigate")),n},get_UseHiddenMask:function(){return this.$ND},set_UseHiddenMask:function(n){return this.$ND=n,this.$7("UseHiddenMask"),this.set_CanNavigate(this.$1Cl()),n},$1Cl:function(){return!this.$ND},$KZ:function(){this.set_CanNavigate(this.$1Cl())}};Microsoft.Crm.Client.Core.ViewModels.$C=function(){this.$$d_$2t4=Function.createDelegate(this,this.$2t4);this.$$d_$2t8=Function.createDelegate(this,this.$2t8);this.$$d_$2t7=Function.createDelegate(this,this.$2t7);this.$$d_$1P2=Function.createDelegate(this,this.$1P2);this.$$d_$2v7=Function.createDelegate(this,this.$2v7);this.$$d_$2uz=Function.createDelegate(this,this.$2uz);Microsoft.Crm.Client.Core.ViewModels.$C.initializeBase(this);this.$vy=this.$$d_$2uz;this.$uj=this.$$d_$2v7;this.$15Z=this.$$d_$1P2;this.$uL=this.$$d_$2t7;this.$uM=this.$$d_$2t8;this.$t=0;this.$bH=null;this.$QQ=!1;this.$uP=!1;this.eventHandlers=new Sys.EventHandlerList;this.$Zi=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$Or=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$2d));this.$P0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV))};Microsoft.Crm.Client.Core.ViewModels.$C.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$C.$3)&&(Microsoft.Crm.Client.Core.ViewModels.$C.$3=new Microsoft.Crm.Client.Core.ViewModels.$C),Microsoft.Crm.Client.Core.ViewModels.$C.$3};Microsoft.Crm.Client.Core.ViewModels.$C.prototype={$t:0,$1Yd:null,$GN:null,$Or:null,$v:null,$5W:null,$A3:null,$vy:null,$uj:null,$15Z:null,$uL:null,$uM:null,$h0:!0,$QQ:!1,$1Qj:"StartOnLoadHandlersEvent",$uP:!1,$Zi:null,eventHandlers:null,$bH:null,$P0:null,add_$2TX:function(n){this.eventHandlers&&this.eventHandlers.addHandler("CustomEventPerf",n)},add_$TB:function(n){this.eventHandlers&&this.eventHandlers.addHandler("EnableEdits",n)},remove_$TB:function(n){this.eventHandlers&&this.eventHandlers.removeHandler("EnableEdits",n)},add_$2CZ:function(n){this.eventHandlers&&this.eventHandlers.addHandler("RootViewModelRegistered",n)},remove_$2CZ:function(n){this.eventHandlers&&this.eventHandlers.removeHandler("RootViewModelRegistered",n)},get_$1hQ:function(){return!$0.$0(this.$5W)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$5W)&&Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$5W.get_ModelContext())},get_$1E9:function(){return this.get_$1hQ()?this.$A3.get_$1B():this.$A3},add_$nb:function(n){this.eventHandlers.addHandler(this.$1Qj,n)},remove_$nb:function(n){this.eventHandlers.removeHandler(this.$1Qj,n)},$1iR:function(){if(this.$Or.get_Count()<1)return null;var n=this.$Or.get_$R(this.$Or.get_Count()-1);return this.$Or.removeAt(this.$Or.get_Count()-1),$0.$0(n)||n.dispose(),n},$2z9:function(n){this.$Or.add(n)},$26T:function(){return this.$Or.get_$R(this.$Or.get_Count()-1)},$1ZD:function(){$0.$0(this.$5W)||(this.$5W.remove_$6F(this.$uj),this.$5W.RemovePropertyChangedListener("ModelContext",this.$$d_$2t4),this.$5W=null);this.$1Eu()},$1Eu:function(){$0.$0(this.$A3)||(this.$1OE(this.$A3),this.$1OD(),this.$A3=null)},$1jH:function(n,t){this.$1ZD();this.$GN=null;this.$5W=n;this.$10M();t?(this.$v=null,this.$P0.clear(),$0.$0(n.$q)?n.add_$6F(this.$uj):this.$1ff()):(this.$1iR(),this.$v=this.$26T());this.get_$1hQ()?this.$1Bm(this.$A3):n.AddPropertyChangedListener("ModelContext",this.$$d_$2t4);this.$PF(!0)},$1jF:function(){this.$GN&&this.$GN.remove_$AT(this.$vy);this.$GN=null;this.$1ZD();this.$1iR();this.$t=0;this.$10M();this.$h0=!0;this.$QQ=!1;this.$Zi=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$v=null;this.$P0.clear()},$1jE:function(n,t,i){this.$1ZD();this.$1iR();this.$GN=null;this.$5W=n;this.$10M();!this.$Or.get_Count()||i?(this.$v=null,this.$P0.clear(),$0.$0(n.$q)?n.add_$6F(this.$uj):this.$1ff(),Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$5W.get_$1B())?this.$1Bm(this.$A3):n.AddPropertyChangedListener("ModelContext",this.$$d_$2t4)):this.$v=this.$26T();this.$PF(t);this.$Or.get_Count()&&!i&&this.$h0&&this.$jW()},$PF:function(n){this.$Zi=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$h0=n;Microsoft.Crm.Client.Core.Models.$m.isInstanceOfType(this.$5W.get_$1B())&&(this.$A3=this.$5W.get_$1B(),this.$1VH());this.$8X("RootViewModelRegistered",null)},$31d:function(){this.$1OE(this.$A3);this.$h0=!0;$0.$0(this.$A3)||this.$1Bm(this.$A3);$0.$0(this.$v)||this.$v.$Ea();this.$1dL()},$31e:function(n){this.$GN=null;this.$h0=!0;Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n)&&(this.$1OE(n),n.remove_$7L(this.$15Z));this.$1Eu();$0.$0(this.$v)||this.$v.$Ea();$0.$0(this.$5W)||(this.$5W.RemovePropertyChangedListener("ModelContext",this.$$d_$2t4),this.$5W.AddPropertyChangedListener("ModelContext",this.$$d_$2t4));this.$1dL()},$1jG:function(n){this.$Zi.contains(n)||this.$Zi.add(n)},$np:function(n){this.$Zi.contains(n)&&(this.$Zi.remove(n),this.$jW())},$2v7:function(){this.$5W.remove_$6F(this.$uj);this.$1ff()},$1ff:function(){var n=this.$5W.$q;(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&this.$2tl()&&(n=this.$5W.$D+"_gridform");this.$t!==1||$0.$0(this.$GN)||this.$GN.remove_$AT(this.$vy);this.$GN=this.$1Yd.$B1(n);$0.$0(this.$GN)?Microsoft.Crm.Client.Core.Framework.Trace.logError(1016,"Custom handlers retrieving action not found"):(this.$GN.add_$AT(this.$vy),this.$t=1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(this.$GN))},$2v1:function(n,t){$0.$0(t)||this.$GN!==n||(this.$2z9(t),this.$v=t,this.$t=0,this.$1dL())},$2v0:function(n){this.$GN===n&&(this.$t=0)},$2uz:function(){$0.$0(this.$GN)||this.$GN.remove_$AT(this.$vy)},$1dL:function(){var t,i,n,o,r,u,s,f,e;$0.$0(this.$v)||$0.$0(this.$v.$1Ei)?(this.$h0||this.$QQ)&&this.$jW():(t=new Microsoft.Crm.Client.Core.Models.Constants.$JV("Mscrm.HydrateModelDescriptor"),t.parameterArray=[],Array.add(t.parameterArray,this.$v.$1Ei),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV)),i.add(t),n=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(i,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),null,function(t){$0.$0(n.$v)||n.$v.$2Z(t[0]);n.$5W.$27Y();(n.$h0||n.$QQ)&&n.$jW()})));!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||$0.$0(this.$v)||$0.$0(this.$v.$LW)||(o=new Microsoft.Crm.Client.Core.Models.Constants.$JV("Mscrm.BusinessRulesScript.GetDataSetInitializers"),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV)),r.add(o),u=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(r,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),null,function(n){$0.$0(u.$v)||u.$v.$36v(n[0])})),s=new Microsoft.Crm.Client.Core.Models.Constants.$JV("Mscrm.BusinessRulesScript.GetDataSetRecordLoadHandlers"),f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV)),f.add(s),e=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(f,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),null,function(n){$0.$0(e.$v)||e.$v.$37O(n[0])})))},$2t4:function(){Microsoft.Crm.Client.Core.Models.$m.isInstanceOfType(this.$5W.get_$1B())&&(this.$1Eu(),this.$A3=this.$5W.get_$1B(),this.$t=0,this.$10M(),this.$QQ=!1,this.$1OD(),this.$27V()||this.$1Bm(this.$A3))},$2t8:function(){(Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$5W.get_$1B())||this.get_$1hQ())&&(this.$t=4,this.$1OD())},$2t7:function(n,t){if($0.$0(this.$5W)||$0.$0(this.$5W.get_$1B())||this.$5W.$2h){this.$t=0;return}var i=t;i.$VD?this.$2t6(i.$bD):this.$2t5(i.$bD)},$2t6:function(n){switch(n){case 2:case 3:switch(this.get_$1E9().$U4){case 0:return;case 1:this.$QQ=!0;this.$jW();return;default:this.$t=3;return}case 1:this.$QQ=!0;this.$jW();return}},$2t5:function(n){if(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||this.get_$1E9().$Ki&&this.get_$1E9().$Ki!==1){if(n!==1){this.$t=3;return}this.$QQ=!0;this.$jW()}},$33f:function(){var n,r,t,i;if(Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$5W)&&!this.$5W.$2h&&this.$v){if(n=this.$v.$21F(),$0.$0(n)||!n.get_Count())return;(r=Microsoft.Crm.Client.Core.Framework.Scheduler).set_HighPriorityBrowserAsyncWorkCount(Microsoft.Crm.Client.Core.Framework.Scheduler.$Ii+1);t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnCloseHandlers");t.start();i=new Microsoft.Crm.Client.Core.Models.$J7(7);Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$21F(),null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i))}},$33e:function(n){var t,i;if((Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$5W)||Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$5W)||n.startsWith("header_process_"))&&!this.$5W.$2h&&this.$v){if(t=this.$v.$2ho(n),$0.$0(t)||!t.get_Count())return;i=new Microsoft.Crm.Client.Core.Models.$J7(8,n);Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(t,null,this.$v.$G9,this.$v.$Dr,null,i))}},$jW:function(){var n,t,i;this.$2zM()&&(this.$8X(this.$1Qj,null),this.$1OE(this.$A3),$0.$0(this.$bH)?(n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("WaitForEditEnabled",null),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$5W,n)):this.$10M(),Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$5W)?this.$17I():(this.$bH=Microsoft.Crm.Client.Core.Framework.Scheduler.$1YG(),t=this,i=Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){t.$17I()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$17I,"CustomEventHandlersManager.RunOnLoadHandlers"),i.set_Owner(this.$bH)))},$33c:function(n){var i,t,r,u;!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||$0.$0(this.$v)||$0.$0(this.$v.$LW)||(i=this.$v.$2fW(n),!$0.$0(i)&&i.get_Count()>0&&!this.$v.$2lH(n)&&(t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunDataSetInitializer"),t.start(),r=new Microsoft.Crm.Client.Core.Models.$J7(12,n),u=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(i,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),r,function(){t.stop();t.get_$IT()>0&&u.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(t.$4n,t.get_$IT()))}))))},$2Cd:function(n){var i,t,r,u;(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!$0.$0(this.$v)&&(i=this.$v.$203(n),!$0.$0(i)&&i.get_Count()>0&&(t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnDataSetRecordLoadHandlers"),t.start(),r=new Microsoft.Crm.Client.Core.Models.$J7(12,n),u=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(i,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),r,function(){t.stop();t.get_$IT()>0&&u.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(t.$4n,t.get_$IT()))}))))},$2Ce:function(n){var i,t,r,u;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents")&&!$0.$0(this.$v)&&(i=this.$v.$2hr(n),!$0.$0(i)&&i.get_Count()>0&&(t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnDataSetRecordSaveHandlers"),t.start(),r=new Microsoft.Crm.Client.Core.Models.$J7(13,n),u=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(i,null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),r,function(){t.stop();t.get_$IT()>0&&u.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(t.$4n,t.get_$IT()))}))))},$17I:function(){var n;if(this.$v.$31i(),this.$bH=null,this.$QQ=!1,!this.$5W.$2h){this.$1kZ(new Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs(1));n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnLoadHandlers");n.start();this.$1VH();var i=new Microsoft.Crm.Client.Core.Models.$J7(0),t=this,r=this;Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$2hp(),null,this.$v.$G9,this.$v.$Dr,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([this.$v.$LW]),i,function(){t.loadFinished();n.stop();n.get_$IT()>0&&t.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(n.$4n,n.get_$IT()));Microsoft.Crm.Client.Core.Framework.$5F.$1IV(function(){var n;(n=Microsoft.Crm.Client.Core.Framework.Scheduler).set_HighPriorityBrowserAsyncWorkCount(Microsoft.Crm.Client.Core.Framework.Scheduler.$Ii-1)})},function(){var n;(n=Microsoft.Crm.Client.Core.Framework.Scheduler).set_HighPriorityBrowserAsyncWorkCount(Microsoft.Crm.Client.Core.Framework.Scheduler.$Ii+1)}))}},loadFinished:function(){this.$t=2;Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Nu(this.$5W,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2YG());this.$8X("EnableEdits",null);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedEditReady",1,$0.$0(this.$5W)?null:this.$5W.$1P)},$2KX:function(n){var t=new Microsoft.Crm.Client.Core.Models.Constants.$JV;t.method=n;t.passExecutionContext=!0;this.$P0.add(t)},$1kZ:function(n){this.$P0.get_Count()>0&&Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$P0,n,null,null,null,new Microsoft.Crm.Client.Core.Models.$J7(1)))},$30m:function(n){for(var t=0;t<this.$P0.get_Count();t++)if(this.$P0.get_$R(t).method===n){this.$P0.remove(this.$P0.get_$R(t));break}},$1P2:function(n,t){var r,i,u,f;$0.$0(this.$v)||(r=this.$v.$2hn(t),!$0.$0(r)&&r.get_Count()>0&&!this.$v.$2oh(t)&&(i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnChangeHandlers"),i.start(),u=new Microsoft.Crm.Client.Core.Models.$J7(2,t),f=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(r,null,this.$v.$G9,this.$v.$Dr,null,u,function(){i.stop();i.get_$IT()>0&&f.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(i.$4n,i.get_$IT()))}))))},$2Cf:function(n){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t,r;return this.$t!==3&&(t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomEventHandlersManager.RunOnSaveHandlers"),t.start(),r=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$21G(),n,this.$v.$G9,this.$v.$Dr,null,new Microsoft.Crm.Client.Core.Models.$J7(1),function(n,u){t.stop();t.get_$IT()>0&&r.$8X("CustomEventPerf",new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$QE(t.$4n,t.get_$IT()));i.resolve(!u.$1JL())})),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1kZ(new Microsoft.Crm.Client.Core.ViewModels.DataLoadEventArgs(2))),i.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Form is not available offline")),i},$33j:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i;return this.$t!==3&&(i=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$21H(),n,this.$v.$G9,this.$v.$Dr,null,new Microsoft.Crm.Client.Core.Models.$J7(5),function(n,i){t.resolve(i.$1JL())}))),t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Form is not available offline")),t},$33i:function(n){for(var u,o,t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),f=this.$v.$1cO(),r=f.get_Items(),e=r.length,i=0;i<e;++i)u=r[i],u.parameters=JSON.stringify(n);return this.$t!==3&&(o=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$1cO(),null,this.$v.$G9,this.$v.$Dr,null,new Microsoft.Crm.Client.Core.Models.$J7(11),function(n,i){t.resolve(i.$1JL())}))),t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Form is not available offline")),t},$33k:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i;return this.$t!==3&&(i=this,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(new Microsoft.Crm.Client.Core.Models.$JM(this.$v.$21I(),n,this.$v.$G9,this.$v.$Dr,null,new Microsoft.Crm.Client.Core.Models.$J7(6),function(n,i){t.resolve(i.$1JL())}))),t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Form is not available offline")),t},$1Rk:function(n){$0.$0(this.$A3)||this.$A3.get_$2m()!==n||this.$1OD()},$n3:function(n){$0.$0(this.$A3)||this.$A3.get_$2m()!==n||this.$1VH()},$Oh:function(){this.eventHandlers=null;this.$1Eu()},$2Px:function(){if($0.$0(this.$A3))return!1;if((Microsoft.Crm.Client.Core.Models.$6V.isInstanceOfType(this.$A3)||this.$27V())&&!Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(this.$A3))return!0;var n=this.get_$1E9(),i=n.$Ki===1,r=!!n.$Ki&&n.$U4===1,u=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&n.$U4===1,t=!1;return Microsoft.Crm.Client.Core.ViewModels.$86.isInstanceOfType(this.$5W)&&(t=this.$5W.get_LaunchedWithUnsavedChanges()),i||r||u||t},$27V:function(){return Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$5W)||this.$5W.$g===40&&this.$5W.$6i===1},$2tl:function(){return this.$5W.$g===13},$1VH:function(){this.$uP||$0.$0(this.$A3)||(this.$A3.add_$7L(this.$15Z),this.$uP=!0)},$1OD:function(){this.$uP&&!$0.$0(this.$A3)&&(this.$A3.remove_$7L(this.$15Z),this.$uP=!1)},$1OE:function(n){if(Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n))n.remove_$7v(this.$uL),n.remove_$1Np(this.$uM);else if(Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(n)){var t=n.get_$1B();$0.$0(t)||(t.remove_$7v(this.$uL),t.remove_$1Np(this.$uM))}},$1Bm:function(n){if(Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(n))n.add_$7v(this.$uL),n.add_$1Np(this.$uM);else if(Microsoft.Crm.Client.Core.Models.IMultipleEntityAttributeFormModel.isInstanceOfType(n)){var t=n.get_$1B();$0.$0(t)||(t.add_$7v(this.$uL),t.add_$1Np(this.$uM))}},$8X:function(n,t){var i=this.eventHandlers.getHandler(n);i&&i(this,t)},$2zM:function(){return!$0.$0(this.$5W)&&!$0.$0(this.$5W.get_$1B())&&this.$t!==3&&this.$2Px()&&!this.$Zi.get_Count()&&!$0.$0(this.$v)&&this.$v.$1a&&(!$0.$0(this.$v.$G9)||!$0.$0(this.$v.$LW)||!$0.$0(this.$v.$Dr))},$10M:function(){$0.$0(this.$bH)||(this.$bH.cancelAll(),this.$bH=null)}};Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel=function(){this.$11=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel));this.$1Ms=new Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel;this.$qh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3Z));this.$mk=[];this.$JH=[];Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.$3)&&(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.$3=new Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel),Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.$3};Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.prototype={$1FV:null,$1k4:null,$Ve:!1,get_ExecutionContextFactory:function(){return this.$1FV},set_ExecutionContextFactory:function(n){return this.$1FV=n,n},get_ProcessedHandlersQueue:function(){return this.$mk},get_Items:function(){return this.$11},get_PersistentFrame:function(){return this.$1Ms},get_$33:function(){return this.$11.get_$R(this.$11.get_Count()-1)},$vL:function(){var n=this.$11.get_$R(this.$11.get_Count()-1);return this.$11.$vm(this.$11.get_Count()-1),n},$2vf:function(){if(this.$11.$3w(new Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel),this.$Ve=!1,this.$JH.length>0)while(this.$JH.length>0&&!this.$Ve)this.$9s(Array.dequeue(this.$JH))},$9s:function(n){$0.$0(n)||(this.$Ve||$0.$0(this.get_$33())?Array.enqueue(this.$JH,n):(n.$Op=this.$1ql(n.$11C,this.get_$33().$14j),n.$Oq=this.$1ql(n.$11D,this.get_$33().$18H),!$0.$0(n.$Op)&&n.$Op.length>0||!$0.$0(n.$Oq)&&n.$Oq.length>0?(this.$Ve=!0,this.$31U(n)):this.$1qu(n)))},$2kp:function(n,t){this.$vL();this.$mk=[];this.$JH=[];this.$qh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3Z));this.$Ve=!0;this.$1fn(n,t)},$1rY:function(n,t){this.$1DH(t,n);this.$1fn(n,t)},$1fn:function(n,t){if(t||!this.$11.get_Count()){var i=new Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel;i.$CF=!0;i.$19g=n;this.$11.$3w(i);$(window).triggerHandler("CustomScriptsLoading")}else this.get_$33().$CF=!0;if(this.$Ve=!1,this.$JH.length>0)while(this.$JH.length>0&&!this.$Ve)this.$9s(Array.dequeue(this.$JH))},$2u0:function(n,t){if(this.$qh.contains(n))if(this.$qh.remove(n),this.$Ve=!1,$0.$0(t.scriptsToLoad)){if(this.$JH.length>0)while(this.$JH.length>0)this.$9s(Array.dequeue(this.$JH))}else this.$1qu(t)},$1DH:function(n){$0.$0(this.get_$33())||(n!==4&&n!==2?this.$vL():this.get_$33().$CF=!1);this.$mk=[];this.$JH=[];this.$qh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$3Z));this.$Ve=!0},$1ql:function(n,t){var r,i;if(!$0.$0(n)){for(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i=0;i<n.length;i++)t.contains(n[i])||r.add(n[i]);return r.toArray()}return null},$31U:function(n){this.get_$33().$14j.addRange(n.$Op);this.get_$33().$18H.addRange(n.$Oq);var t=this.$1k4.$B1(n);this.$qh.add(t);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)},$1qu:function(n){Array.enqueue(this.$mk,n);this.get_$33().$2XA();this.$JH.length>0&&this.$9s(Array.dequeue(this.$JH))}};Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel=function(n){this.$$d_$2PL=Function.createDelegate(this,this.$2PL);this.$$d_$15g=Function.createDelegate(this,this.$15g);Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.initializeBase(this);var t={};t.QueryType="FetchXmlForGrid";this.$1lI(new Microsoft.Crm.Client.Core.ViewModels.$I(this,t));$0.$0(n)&&(n=new Array(0));this.$jk=n;this.$Bm=this.$jk;this.AddPropertyChangedListener("IsSelected",this.$$d_$15g);this.$1f.add_CollectionChanged(this.$$d_$2PL);this.$1XU=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HO(this)};Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$1cR=function(n,t,i){var f,e,o,r,s,h,u,c,l,a,v,y,p,b,w;if($0.$0(n)||$0.$0(t)||$0.$0(n.get_childViewModels()))return null;f=n.get_childViewModels();for(e in f){if(o={key:e,value:f[e]},r=o.value,Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(r)){s=r.$H;for(h in s)if(u={key:h,value:s[h]},Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(u.value)){c=u.value.$H;for(l in c)if(a={key:l,value:c[l]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(a.value)&&(v=a.value.$w,!$0.$0(v))){y=v.$12g();for(p in y)if(b={key:p,value:y[p]},b.value.$j.get_ViewModelId()===t.get_ViewModelId()){if(i==="PanoramaItemViewModel")return r;if(i==="GridContainerViewModel")return u.value}}}}if(Microsoft.Crm.Client.Core.ViewModels.$78.isInstanceOfType(r)&&(w=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$1cR(o.value,t,i),w))return w}return null};Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$2iD=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$1cR(n,t,"PanoramaItemViewModel")};Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$l0=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$1cR(n,t,"GridContainerViewModel")};Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.prototype={$3q:null,$jk:null,$Bm:null,$47:null,$e6:null,$1IF:!1,$1Kb:null,$1XU:null,$145:!1,get_$1lq:function(){return this.$3q},set_$1lq:function(n){return this.$3q=n,n},get_ContextFieldName:function(){return this.$e6},set_ContextFieldName:function(n){return this.$e6=n,n},add_DataSetChanged:function(n){this.$1p("DataSetChangedEvent",n)},remove_DataSetChanged:function(n){this.$32("DataSetChangedEvent",n)},$CK:function(n){if($0.$0(this.$H[n.Name])){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_$1B());Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$CK.call(this,t.get_Name(),t)}},$EP:function(){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()||this.$2.$g!==13||this.$2.$1UQ||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$hK(this.get_$qQ(),this)},$1Kt:function(){var t=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$l0(this.$2,this),u=t.$2e,n=t.$dd,i,r;!$0.$0(u)&&this.$78&&t.get_$1Uy()!==this.get_DefinitionId()?($0.$0(this.$2)||$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||("InitialListDefinitionId"in this.$2.$K.$M||(this.$2.$K.$M.InitialListDefinitionId=this.$2.$K.$M.ListDefinitionId,this.$2.add_PreNavigation(this.$$d_$31k)),this.$2.$K.$M.ListDefinitionId=this.get_DefinitionId()),i=0,n.Name.indexOf("!")>0&&(r=n.Name.substring(n.Name.indexOf("!")+1,n.Name.length),i=parseInt(r),i++),t.$3Aj(n.Name.split("!")[0]+"!"+i,this.get_DefinitionId())):(this.$8X("DefinitionUpdated"),this.$1Oh(this.get_DefinitionId(),this.$D,!1,null))},$1Oh:function(n,t,i,r){var e=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),h=new Array(0),f,o,s,u;return this.set_PrimaryModelName(t),this.set_DefinitionId(n),this.$q=n,f={},f.entityLogicalName=t,f.viewId=n,f.isLookup=i,o=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomControlDataSetViewModel.RetrieveDataSetMetadata"),o.start(),s=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveDataSetMetadata",f),u=this,s.OnSuccess=function(n){var a;o.stop();var f=n,v=f[0],t=v.get_$R(0),y=f[1],s=y.get_$R(0);if($0.$0(t)||$0.$0(s))e.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147020759));else{i&&(u.$q=t.$q,u.set_DefinitionId(u.$q));var h=s.get_$4r(),p=$0.$0(r)?t.get_$E5().$CC(1):r.fetchXml,c=u.$2ei(h),l=t.$1q;u.set_Name(l);u.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(p);u.$2O.$5M.set_$R(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$g.toString(3),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$LN(3,h));u.$2O.$5M.set_$R("ColumnSet",new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$LN(0,JSON.stringify(c)));a=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ListItem",null,l,null,null,null,u.$D);u.$HT=a;u.$2em(c);e.resolve(!0)}},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,s),e.promise()},$2em:function(n){var o,f,h,c,l,e,i;if(!$0.$0(n)){if(o=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomControlDataSetViewModel.GetBasicColumnAttributes"),o.start(),f={},!$0.$0(this.$Bm))for(var a=this.$Bm,k=a.length,s=0;s<k;++s)h=a[s],f[h.name]=h;c=n;for(l in c){var r={key:l,value:c[l]},t=r.value,v="width"in t?t.width:0,y="isHidden"in t?t.isHidden:!1,p="order"in t?t.order:-1,w="label"in t?t.label:"",d="manifesttype"in t?t.manifesttype:"",b="disableSorting"in t?t.disableSorting:!1,u={};u.type="type"in t?t.type:null;u.format="format"in t?t.format:null;u.sourcetype="sourcetype"in t?t.sourcetype:-1;r.key in f?(e=Array.indexOf(this.$Bm,f[r.key]),e!==-1&&(i=this.$Bm[e],$0.$0(i.attributes)&&(i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np(i.name,Microsoft.Crm.Client.Core.Framework.$3.$9(i.displayName)?w:i.displayName,i.alias,i.dataType,v,y,p,b,u,null),this.$Bm[e]=i))):this.$Bm.push(new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np(r.key,w,r.key,d,v,y,p,b,u,null))}o.stop()}},$2ei:function(n){for(var t,u,i,s,r={},a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n),h=a.getElementsByTagName("cell"),v=0,f=0;f<h.length;f++)if(t=h[f],u=t.attributes.getNamedItem("name").nodeValue,!(u in r)||r[u].isHidden){var y=t.attributes.getNamedItem("width")?parseFloat(t.attributes.getNamedItem("width").nodeValue):1,p=t.attributes.getNamedItem("ishidden")&&t.attributes.getNamedItem("ishidden").nodeValue==="1"?!0:!1,w=t.attributes.getNamedItem("label")?t.attributes.getNamedItem("label").nodeValue:"",b=t.attributes.getNamedItem("disableSorting")&&t.attributes.getNamedItem("disableSorting").nodeValue==="1"?!0:!1,k=t.attributes.getNamedItem("type")?t.attributes.getNamedItem("type").nodeValue:"",c=t.attributes.getNamedItem("sourcetype")?$16.$Ae(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeSourceType,t.attributes.getNamedItem("sourcetype").nodeValue):-1,e=k.split("."),l=e[0].toLowerCase(),o="";e.length>1&&(o=e[1].toLowerCase());i={};i.width=y;i.isHidden=p;i.label=w;i.disableSorting=b;i.order=v++;i.type=l;i.sourcetype=c;i.format=o;i.manifesttype=Microsoft.Crm.Client.Core.Framework.$1u.$32K(l,o);r[u]=i;c===2&&(s=Microsoft.Crm.Client.Core.Framework.$1u.$21l(u),s in r||(r[s]=this.$2iQ()))}return r},$2iQ:function(){var n={};return n.isHidden=!0,n.type="datetime",n.format="datetime",n},$2Ct:function(){if(!this.$1IF||$0.$0(this.$1Kb)||(new Date).getMilliseconds()-this.$1Kb.getMilliseconds()>100){this.$1IF=!0;this.$1Kb=new Date;var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.$1IF=!1;var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomControlDataSetViewModel:DataSetChangedEvent");t.start();n.$8X("DataSetChangedEvent");t.stop();t.addParameter(n.get_DefinitionId())},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$jx,"CustomControlDataSetViewModel.DataSetChangedEvent")}},$3d:function(n){Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$3d.call(this,n);this.set_HasError(!1)},$4L:function(n){Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$4L.call(this,n);this.set_HasError(!0);this.$47=n.$F;this.$2Ct()},$1bz:function(){return this.$1XU},$1Hk:function(){var r=new Array(0),t,i;if($0.$1Y(this.$3q)){var u=this.$2O.$CC(1),f=Sys.Net.XMLDOM(u),n=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(f).$62("fetch/entity/order");!$0.$0(n)&&n.get_$s()>0&&(this.$3q=new Microsoft.Crm.Client.Core.Framework.$6M,this.$3q.$8Q=n.get_$R(0).$10("attribute").toString(),this.$3q.$Cg=Boolean.parse(n.get_$R(0).$10("descending").toString()),n.get_$s()>1&&(this.$3q.$Al=n.get_$R(1).$10("attribute").toString(),this.$3q.$FO=Boolean.parse(n.get_$R(1).$10("descending").toString())))}return $0.$1Y(this.$3q)||($0.$1Y(this.$3q.$8Q)||$0.$1Y(this.$3q.$Cg)||(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ,t.name=this.$3q.$8Q,t.sortDirection=this.$3q.$Cg?1:0,r[0]=t),$0.$1Y(this.$3q.$Al)||$0.$1Y(this.$3q.$FO)||(i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ,i.name=this.$3q.$Al,i.sortDirection=this.$3q.$FO?1:0,r[1]=i)),r},$15g:function(){var n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$2iD(this.$2,this);$0.$0(n)||n.set_$KH(this.get_IsSelected())},$Oh:function(){this.$1f.remove_CollectionChanged(this.$$d_$2PL);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this);this.RemovePropertyChangedListener("IsSelected",this.$$d_$15g)},$2PL:function(){this.$2Ct()}};Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$2tx=Function.createDelegate(this,this.$2tx);Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel.prototype={get_$25U:function(){return"draftlistitem"},get_OfflineText:function(){return""},get_$1r1:function(){return!0},$2Z:function(){this.$1a||($0.$0(this.$FE)&&this.set_OpenItemCommand(Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP.$X(this)),this.AddPropertyChangedListener("Label",this.$$d_$2tx));Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$2Z.call(this)},$Oh:function(){this.RemovePropertyChangedListener("Label",this.$$d_$2tx);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$Oh.call(this)},$gl:function(n){Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$gl.call(this,n);this.set_GridEnabled(!1);this.set_Name(this.$1G)},$3d:function(n){this.set_Visible(n.get_$9o().get_Count()>0);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$3d.call(this,n)},$1hJ:function(n){Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$1hJ.call(this,n);this.$Rr()},$2tx:function(){this.set_Name(this.$1G)}};Microsoft.Crm.Client.Core.ViewModels.$42=function(){this.$$d_$1hd=Function.createDelegate(this,this.$1hd);this.$$d_$1ME=Function.createDelegate(this,this.$1ME);this.$$d_$2kL=Function.createDelegate(this,this.$2kL);this.$Vb=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43);this.$1Xg=-1;this.$17D=new Array(0);Microsoft.Crm.Client.Core.ViewModels.$42.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$42.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$42.prototype={$12d:null,$1Fe:null,$2e:null,$Cq:null,$dd:null,$1k:!0,$1cy:!1,$78:!1,$BU:!1,$k4:null,$12i:null,$1kN:!0,$1e5:!1,$FF:null,get_ActiveViewDescriptor:function(){return this.$Cq},get_ActiveViewModel:function(){return this.$2e},get_GetControlDefinitionsProvider:function(){return this.$12d},set_GetControlDefinitionsProvider:function(n){return this.$12d=n,n},get_FallbackDescriptor:function(){return this.$1Fe},set_FallbackDescriptor:function(n){return this.$1Fe=n,n},get_ActiveViewModelDescriptor:function(){return this.$dd},get_DefaultViewName:function(){return this.$k4},set_DefaultViewName:function(n){return this.$k4=n,n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){var t,i;return this.$1k!==n&&(this.$1k=n,this.$7("IsLoading"),this.$1k||$0.$0(this.$2i)||(t=this.$2i.$5Q(this),Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(t)&&(i=t,i.$rl(),Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(this.$78||this.$1cy||this.$1e5)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)&&$0.$0(this.$2e.$w)?this.$2e.AddPropertyChangedListener("PropBagGenerator",this.$$d_$2kL):this.$BU&&this.get_RetrieveRequired()&&i.$xQ())))),n},get_$1i6:function(){return $0.$0(this.$2e)?null:this.$2e.get_$1i6()},get_$1i4:function(){return $0.$0(this.$2e)?null:this.$2e.get_$1i4()},get_$qQ:function(){return $0.$0(this.$2e)?null:this.$2e.get_$qQ()},get_IsSelected:function(){return Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)?this.$2e.$w.GetPrimaryDataSet().$j.get_IsSelected():Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2e)?this.$2e.get_IsSelected():!1},set_IsSelected:function(n){return Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)?this.$2e.$w.GetPrimaryDataSet().$j.set_IsSelected(n):Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2e)&&this.$2e.set_IsSelected(n),n},get_RetrieveRequiredEntities:function(){return this.$17D},set_RetrieveRequiredEntities:function(n){return this.$17D=n,n},get_RetrieveRequired:function(){return $0.$0(this.$17D)?this.$1kN:Array.contains(this.$17D,this.$D)},set_RetrieveRequired:function(n){return this.$1kN=n,n},$2Z:function(){var n,t;this.$1a||($0.$0(this.get_ModelContext())&&!$0.$0(this.$2)&&!$0.$0(this.$2.$K)&&!$0.$0(this.$2.$K.$M)&&"ParentEntityViewModel"in this.$2.$K.$M&&this.$2.$g===13&&(this.$FF=this.$2.$K.$M.ParentEntityViewModel,$0.$0(this.$FF.get_ModelContext())?(this.$FF.RemovePropertyChangedListener("ModelContext",this.$$d_$1ME),this.$FF.AddPropertyChangedListener("ModelContext",this.$$d_$1ME)):this.set_ModelContext(this.$FF.get_ModelContext())),this.get_RetrieveRequired()?$0.$0(this.$12d)||(this.$12i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GridContainer.RetrieveDefaultOnInitialize"),this.$12i.start(),this.set_IsLoading(!0),t=this.$12d.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)):(n={},n.index=-1,n.descriptor=null,this.$1hd(n)),Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this))},get_IsGridFormContext:function(){return this.$78},set_IsGridFormContext:function(n){return this.$78=n,n},get_$1Uy:function(){var n=this.$21V(this.$dd);return $0.$0(n)?null:n.ViewId},set_$1Uy:function(n){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(n)){var t=this.$21V(this.$dd);$0.$0(t)||(t.ViewId=n)}return n},get_$1oV:function(){var t="",n;return $0.$0(this.$2e)||(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)?(n=this.$2e,$0.$0(n.$w)||$0.$0(n.$w)||$0.$0(n.$w.GetPrimaryDataSet().$j)||(t=n.$w.GetPrimaryDataSet().$j.get_DefinitionId())):Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$2e)?t=this.$2e.get_DefinitionId():Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$2e)&&(t=this.$2e.get_DefinitionId())),t},set_$1oV:function(n){return Microsoft.Crm.Client.Core.Framework.$3.$9(n)||$0.$0(this.$2e)||(Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$2e)?this.$2e.set_DefinitionId(n):Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(this.$2e)&&this.$2e.set_DefinitionId(n)),n},setChildDescriptor:function(n){var t,r,i,u,s,f,e,o,h;this.set_IsLoading(!0);t="";r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GridContainer.SetChildDescriptor");r.start();i=this.$2e;t=this.get_$1oV();this.$dd=n;n.TypeName==="CustomControl"&&(Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&!$0.$0(this.$2.$K)&&!$0.$0(this.$2.$K.$M)&&"ListDefinitionId"in this.$2.$K.$M&&!$0.$0(this.$2.$K.$M.ListDefinitionId)&&(t=this.$2.$K.$M.ListDefinitionId.toString()),Microsoft.Crm.Client.Core.Framework.$3.$9(t)||this.set_$1Uy(t));u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GridContainer - CreateChildViewModel");u.start();s=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_$1B(),this.$2i,this.$2);u.stop();n.ControlTypeName==="CustomControlHostView"&&this.$2.set_IsCustomControlExists(!0);this.$2e=s;n.TypeName!=="CustomControl"?this.set_$1oV(t):this.$1e5=!0;this.$Cq=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(n);f=this.$H;for(e in f)if(o={key:e,value:f[e]},o.value===i){h=o.key;this.$1Et(i);delete this.$H[h];break}this.$CK(this.$Cq.BindingPath,this.$2e);this.$Vb.$ns(this.$Cq.BindingPath,this.$Cq);this.$7("ChildComponent");this.set_IsLoading(!1);this.$1cy=!0;$0.$0(i)||this.$2e===i||i.dispose();r.stop()},$21V:function(n){var t,i,r,u,f,e;if(n.TypeName==="CustomControl")for(t=0;t<n.Properties.length;t++)if(n.Properties[t].Name==="DataSetDefinitions"&&(i=n.Properties[t].Value,!$0.$0(i))){r=i;for(u in r)return f={key:u,value:r[u]},e=f.value,e}return null},$3Aj:function(n,t){this.$dd.Name=n;this.set_$1Uy(t);this.setChildDescriptor(this.$dd)},$2kL:function(){this.$2e.RemovePropertyChangedListener("PropBagGenerator",this.$$d_$2kL);var n=this.$2i.$5Q(this);this.$BU&&n.$xQ()},$1hd:function(n){var i,t;$0.$0(this.$12i)||this.$12i.stop();i=n;this.$1Xg=i.index;t=i.descriptor;$0.$0(t)&&(t=this.$1Fe);t.PrimaryModelName=this.$D;this.setChildDescriptor(t)},$1ME:function(){if(this.set_ModelContext(this.$FF.get_ModelContext()),!$0.$0(this.$2e)){var n=null;Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2e)?n=this.$2e:Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)&&($0.$0(this.$2e.$w)||(n=this.$2e.$w.GetPrimaryDataSet().$j));$0.$0(n)||(n.set_ModelContext(this.$FF.get_ModelContext()),n.$Rr())}},$Oh:function(){if(Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this),!$0.$0(this.$2e)){if(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)){var n=this.$2e;n.RemovePropertyChangedListener("PropBagGenerator",this.$$d_$2kL)}this.$2e.dispose()}$0.$0(this.$Cq)||this.$Vb.removeDescriptor(this.$Cq.BindingPath);$0.$0(this.$FF)||this.$FF.RemovePropertyChangedListener("ModelContext",this.$$d_$1ME)},$2eC:function(){if(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(this.$2e)){var n=this.$2e;if(!$0.$0(n.$w))return n.$w.GetPrimaryDataSet().$j}return this.$2e},$EP:function(n,t){this.$BU=!0;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)},$uN:function(n,t){this.$BU=!1;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$uN.call(this,n,t)}};Microsoft.Crm.Client.Core.ViewModels.GridViewModel=function(){this.$$d_$2v3=Function.createDelegate(this,this.$2v3);this.$$d_$EP=Function.createDelegate(this,this.$EP);this.$$d_$38l=Function.createDelegate(this,this.$38l);this.get_$1lq=this.get_SortingInfo;this.set_$1lq=this.set_SortingInfo;Microsoft.Crm.Client.Core.ViewModels.GridViewModel.initializeBase(this);this.$3q=new Microsoft.Crm.Client.Core.Framework.$6M;this.$Lf=new Array(0)};Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype={$3q:null,$Kn:null,$tF:!1,sortCommand:null,resizeHandlesCommand:null,$sg:null,$R2:null,$Lf:null,$sj:!1,$Cb:null,$1Fz:null,$1G2:!1,$Ag:null,get_$2PZ:function(){return 8},get_HeaderViewModelDescriptor:function(){return this.$sg},set_HeaderViewModelDescriptor:function(n){return this.$sg!==n&&(this.$sg=n,$0.$0(this.$R2)||(this.$R2.dispose(),this.$R2=null)),n},get_FixedWidthColumns:function(){return this.$1Fz},set_FixedWidthColumns:function(n){return this.$1Fz!==n&&(this.$1Fz=n,this.$7("FixedWidthColumns")),n},get_$2M6:function(){return""},get_Header:function(){return!$0.$0(this.$sg)&&$0.$0(this.$R2)&&(this.$R2=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(this.$sg,null)),this.$R2},set_Header:function(n){return this.$R2=n,n},get_SortingInfo:function(){return this.$3q},set_SortingInfo:function(n){var t=!$0.$0(this.$3q.$8Q)&&this.$3q.$1ZV(n)?!0:!1;return this.$3q.$1ZV(n)||(this.$3q=n,this.$7("SortingInfo")),this.sortCommand.get_CanExecute()&&this.sortCommand.execute(),t&&this.$17M(),n},get_ForceHeaderUpdates:function(){return this.$1G2},set_ForceHeaderUpdates:function(n){return this.$1G2=n,n},set_$1OO:function(n){return this.resizeHandlesCommand!==n&&($0.$0(this.resizeHandlesCommand)||(this.resizeHandlesCommand.dispose(),this.resizeHandlesCommand=null),this.resizeHandlesCommand=n),n},add_ResizeHandlesToggled:function(n){this.$1p("ResizeHandlesToggled",n)},remove_ResizeHandlesToggled:function(n){this.$32("ResizeHandlesToggled",n)},get_ColumnSizes:function(){return this.$Lf},set_ColumnSizes:function(n){var t=this.$Lf!==n;return this.$Lf=n,this.$7("ColumnSizes"),t&&this.$17M(),n},get_$Uh:function(){return this.$Cb},get_$vH:function(){return new Microsoft.Crm.Client.Core.Framework.$9S(this.$3q,this.$Lf)},set_$vH:function(n){return this.$3q=n.$3q,this.$Lf=n.$Lf,this.$rd("SortingInfo","ColumnSizes"),n},get_HideTitle:function(){return this.$sj},set_HideTitle:function(n){return this.$sj=n,n},get_$1i6:function(){return"GridListPane"},get_$1i4:function(){return this.$D},get_PluralName:function(){return this.$Ag},$1Uu:function(){this.$t||(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1Uu.call(this),$0.$0(this.get_DefinitionId())||this.$1Kt())},$EP:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$hK(this.get_$qQ(),this)},$38l:function(){$0.$0(this.$2n)||this.$Rr()},$2Z:function(){var t,n;this.$1a||($0.$0(this.sortCommand)&&(t=this,this.sortCommand=Microsoft.Crm.Client.Core.ViewModels.$a.$HM(this.$D)?new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$38l,1011,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),"IsServerAvailable",function(){return!0}):new Microsoft.Crm.Client.Core.Commands.$AO(this.$$d_$38l,1011)),$0.$0(this.resizeHandlesCommand)&&(n=this,this.set_$1OO(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){n.$8X("ResizeHandlesToggled")},1018))),Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this),$0.$0(this.$2)||(this.$2.$Sg&&this.$EP(null,null),this.$2.add_$P1(this.$$d_$EP)),$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D))||(this.$Ag=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D).$Ag))},$Oh:function(){this.$R2&&(this.$R2.dispose(),this.$R2=null);this.sortCommand&&(this.sortCommand.dispose(),this.sortCommand=null);this.set_$1OO(null);$0.$0(this.$2)||this.$2.remove_$P1(this.$$d_$EP);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this)},$2qZ:function(n){var t=n.$6b;this.set_$vH(Microsoft.Crm.Client.Core.Framework.$9S.$2y(t))},$25j:function(){this.$Lf.length>0&&(this.$Lf=new Array(0),this.$7("ColumnSizes"));var n=new Microsoft.Crm.Client.Core.Framework.$6M;this.$3q.$1ZV(n)||(this.$3q=n,this.$7("SortingInfo"))},$1Kt:function(){this.add_$1Oq(this.$$d_$2v3);this.$1kG()},$MZ:function(n){switch(n.$m){case-2147220960:case-2147094003:this.set_$1Kd(n.$m);this.$2.$MZ(n);break;default:Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$MZ.call(this,n)}},$15c:function(n){this.$tX!==-2147220960&&this.$tX!==-2147094003&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$15c.call(this,n)},$1ME:function(n,t){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1ME.call(this,n,t);this.set_ModelContext(this.get_$Kc().get_ModelContext());this.$1Uu()},$2v3:function(){this.remove_$1Oq(this.$$d_$2v3);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$1Kt.call(this)},$1r9:function(){this.$Cb=this.get_DefinitionId();var n=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$Cb);n!==Microsoft.Crm.Client.Core.Framework.Guid.get_empty()&&(this.$Cb=n.toString());Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1r9.call(this)},$Rr:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("GridRefreshInvoked",0,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$Rr.call(this)},setSortOrder:function(n,t){this.$1G2=!0;this.set_SortingInfo(new Microsoft.Crm.Client.Core.Framework.$6M(n,t))}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel=function(){this.$$d_$33E=Function.createDelegate(this,this.$33E);this.$$d_$33F=Function.createDelegate(this,this.$33F);this.$$d_$2Wm=Function.createDelegate(this,this.$2Wm);this.$$d_$2Yf=Function.createDelegate(this,this.$2Yf);this.$$d_$tc=Function.createDelegate(this,this.$tc);this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$2fX=Function.createDelegate(this,this.$2fX);this.$$d_$2kC=Function.createDelegate(this,this.$2kC);this.$$d_$28N=Function.createDelegate(this,this.$28N);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF=function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("QuickFindSearchOnISH")};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype={$71:null,$UL:null,$13w:!1,$Le:null,$Jq:null,$zy:null,$17w:!1,$g6:!1,$ZS:!1,$4e:null,$4u:!0,$sn:null,$hF:null,$vY:null,$Cn:!1,$ym:!1,$Pz:null,$Na:null,$Fa:null,$1T5:null,$SJ:null,$yl:!1,get_NoItemInQueue:function(){return this.$yl},set_NoItemInQueue:function(n){return this.$yl=n,n},$ox:!1,$Ne:!1,get_ShouldNotRetainPageIndexToLoad:function(){return this.$Ne},set_ShouldNotRetainPageIndexToLoad:function(n){return this.$Ne=n,n},$zH:!1,get_ShouldRenderEmptyPager:function(){return this.$zH},set_ShouldRenderEmptyPager:function(n){return this.$zH=n,n},getPagerDetailText:function(){var i;if(this.$zH)return this.$zH=!1,String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ISHGrid_PagerCount_Mask"),0,0,0);var u=(this.get_CurrentPageIndex()-1)*this.get_PageSize(),r=u+1,n=u+this.get_RecordCount();n<r&&(n=r);var f=this.totalRecordCountLimitExceeded(),e=this.moreRecordsAvailable(),t=this.get_TotalRecordsCount();return n>t&&(f?t=n:n=t),i=t.toString(),f&&e&&(i=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_TotalCount_Approximate"),i)),String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ISHGrid_PagerCount_Mask"),r,n,i)},get_PagerCountText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_Paging_Mask"),this.get_CurrentPageIndex())},$lT:!1,$Kp:0,$QC:!1,$R6:!1,$P:null,$1j6:null,$5R:!1,$1Jc:!1,$1Hv:"FirstLoad",get_SelectedRowCount:function(){return this.$Kp},set_SelectedRowCount:function(n){return this.$Kp=n,n},get_AreAllRowsSelected:function(){return this.$QC},set_AreAllRowsSelected:function(n){return this.$QC=n,n},get_IsMultiSelectEvent:function(){return this.$R6},set_IsMultiSelectEvent:function(n){return this.$R6=n,n},get_Visible:function(){return this.$4u},set_Visible:function(n){var t=this.get_$5x().$1Dk(n,null);return this.$4u!==t&&(this.$4u=t,this.$NM=!0,this.$7("Visible")),n},get_GridPagerEventType:function(){return this.$1Hv},set_GridPagerEventType:function(n){return this.$1Hv.toLowerCase()!==n.toLowerCase()&&(this.$1Hv=n),n},$Nd:null,get_GridHeaderViewModel:function(){return $0.$0(this.$H)?null:($0.$0(this.$71)&&(this.$71=this.$H.GridHeaderViewModel,this.$71.set_Label($0.$0(this.$1G)?" ":this.$1G),this.$71.$78=this.$78,this.$71.$NW=this.$NW,this.$71.set_EnableViewPicker(this.$OA),this.$71.set_EnableQuickFind(this.$1F5),this.$71.$E6=this.$19j,this.$71.set_GridEnabled(this.$1A5),this.$71.$52=this.$52,this.$71.add_$28N(this.$$d_$28N),this.$71.$d4=this.GetPrimaryAttributeName()),!$0.$0(this.$71)&&$0.$0(this.$71.get_AddExistingCommand())&&this.$71.set_AddExistingCommand(this.get_AddExistingCommand()),this.$71)},$NM:!1,get_CollectionHasChanged:function(){return this.$NM},set_CollectionHasChanged:function(n){return this.$NM=n,n},$28N:function(){this.$Ne=!0;this.RefreshData()},get_ShowDeleteIcon:function(){return this.$17w},get_IsManyToMany:function(){return this.$5T===1},$io:null,get_PreviousGridId:function(){return this.$io},set_PreviousGridId:function(n){return this.$io=n,n},$DP:!1,get_IsMultiSelect:function(){return this.$DP},set_IsMultiSelect:function(n){return this.$DP=n,n},$1A5:!1,get_GridEnabled:function(){return this.$1A5},set_GridEnabled:function(n){return this.$1A5=n,n},$1Sw:!1,get_EnableJumpBar:function(){return this.$1Sw},set_EnableJumpBar:function(n){return this.$1Sw=n,n},$19j:!1,get_DisableHeaderLongPress:function(){return this.$19j},set_DisableHeaderLongPress:function(n){return this.$19j=n,n},get_AllowMultiSelect:function(){return this.$78||this.$13w||this.$NW},$Cm:!1,get_IsGridDialogContext:function(){return this.$Cm},set_IsGridDialogContext:function(n){return this.$Cm=n,n},get_IsDialogContext:function(){return this.$13w},$1AL:!1,$NW:!1,get_IsAssociatedGridContext:function(){return this.$NW},set_IsAssociatedGridContext:function(n){return this.$NW=n,n},$DT:!1,get_ShouldShowOnlyGrid:function(){return this.$DT},set_ShouldShowOnlyGrid:function(n){return this.$DT=n,n},$yU:!1,get_IsAssociate:function(){return this.$yU},set_IsAssociate:function(n){return this.$yU=n,n},$yB:!1,get_EnableRelationshipFilter:function(){return this.$yB},set_EnableRelationshipFilter:function(n){return this.$yB=n,n},$L9:null,get_RelationshipFilterCondition:function(){return this.$L9},set_RelationshipFilterCondition:function(n){return this.$L9=n,n},get_LoadingText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("jqGrid.defaults.loading")},get_JumpBarText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_JumpBar_Alphabet")},get_JumpBarNumberIndicator:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_JumpBar_Number_Indicator")},$yW:!1,get_IsDoubleClickDisabled:function(){return this.$yW},set_IsDoubleClickDisabled:function(n){return this.$yW=n,n},$1AG:!1,get_IsDoubleClicked:function(){return this.$1AG},set_IsDoubleClicked:function(n){return this.$1AG=n,n},$1TA:null,$iI:null,$6J:null,$yt:null,$1Az:null,$ot:!1,get_IsInContextOfReferencePanel:function(){return this.$ot},set_IsInContextOfReferencePanel:function(n){return this.$ot=n,n},$Pv:null,get_ParentTabName:function(){return this.$Pv},set_ParentTabName:function(n){return this.$Pv=n,n},$dK:null,get_ParentColumnName:function(){return this.$dK},set_ParentColumnName:function(n){return this.$dK=n,n},get_HasFocus:function(){return this.$5R},set_HasFocus:function(n){if(this.$5R!==n&&(this.$5R=n,n)){this.$NM=!0;var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v(this.$Pv);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,t);this.$7("HasFocus")}return n},ShouldRenderChildCases:function(){return this.$2.$6i===1||this.$2.get_ModelContext()&&$0.$0(this.$2.get_ModelContext().GetValue("parentcaseid"))?!0:!1},ScrollParentColumn:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z(this.$dK,n,t);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z,i)},get_NoRecordsText:function(){if($0.$0(this.$UL)){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),t="";$0.$0(n)||(t=n.$1q);this.$UL=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GridControl.NoRecords"),t)}return this.$UL},get_SelectedRowIds:function(){var r,n,f,i;if(this.$DT)return this.$wH;r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1HE();n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));for(var u=r,e=u.length,t=0;t<e;++t)f=u[t],i=f.get_ModelContext().get_Id().toString(),this.$2oF(i)&&n.add(i);return n.toArray()},set_SelectedRowIds:function(n){return this.$wH=n,n},$wH:null,$2oF:function(n){for(var i,t=0;t<this.$1f.get_Count();t++)if(i=this.$1f.get_$R(t),i.get_ModelContext().get_Id().toString()===n)return!0;return!1},get_DataForGrid:function(){return $0.$0(this.$Jq)&&this.$1aR(),this.$Jq},set_DataForGrid:function(n){return this.$Jq=n,n},$iR:!1,get_Evaluating:function(){return this.$iR},set_Evaluating:function(n){return this.$iR=n,n},$2VE:function(){var i,t,n;this.$78||this.$jE||(i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.get_IsManyToMany()?t.add("Mscrm.RemoveSelectedRecord"):t.add("Mscrm.DeleteSelectedRecord"),this.$iR=!0,n=this,i.$21s(this.get_$qQ(),this,t,!1).done(function(t){n.$17w=t;n.$iR=!1;n.$NM=!0;n.$7("ShowDeleteIcon")}))},$2Yf:function(){if(this.$1aR(),Microsoft.Crm.Client.Core.Models.$1j.isInstanceOfType(this.$2n)){var n=this;this.$2n.$KS.$ka(function(t){t.remove_$7L(n.$$d_$2kC);t.add_$7L(n.$$d_$2kC)})}},$1Yz:function(){this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1Yz.call(this)},$1aR:function(){var l,w,o,r,u,it,b,k,s,a,e,h,t,nt,c,v,i,y,tt,p,rt;if(this.$DT){this.$1wt();return}if(!this.$iR){for(l=[],this.$yl=!0,w=0,o=0;o<this.$1f.get_Count();o++){r=this.$1f.get_$R(o);this.$yl=!1;u={};u.id=r.$4Z;it=r.$H;b=it;for(k in b){var d={key:k,value:b[k]},f=d.value,n=CrmEncodeDecode.CrmHtmlEncode(f.get_Data());if(d.key===this.GetPrimaryAttributeName()){if(s="",a="",this.$lT){var ut=r.$H.queueitemid,ft=ut.get_ModelContext(),g=ft.$I.fields.objectid;$0.$0(g)||(s=g.LogicalName,a=g.Id.toString())}else s=r.get_ModelContext().get_$Fe(),a=r.$4Z;n=this.$t0(s)?String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-action='open'>{2}<\/a>",s,a,n):String.format("<a class=\"nonInteractionCentricGridField\" data-action='none'>{0}<\/a>",n)}if(Xrm.Objects.EntityReference.isInstanceOfType(f.get_Data())&&(e=f.get_Data(),n=this.$t0(e.LogicalName)?String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-isPrimary='0' data-action='open'>{2}<\/a>",e.LogicalName,e.Id.toString(),CrmEncodeDecode.CrmHtmlEncode(e.Name)):String.format("<a class=\"nonInteractionCentricGridField\" data-action='none'>{0}<\/a>",CrmEncodeDecode.CrmHtmlEncode(e.Name))),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(f.get_Data())&&(h=f.get_Data(),t="",n="",!$0.$0(h)&&!$0.$0(h.get_entities())))for(nt=h.get_entities().length,c=0;c<nt;c++)v=h.get_entities()[c],v.$a.LogicalName==="activityparty"&&(i=v.fields.partyid,y=!1,$0.$0(i)?(this.$D==="email"&&(t=v.fields.addressused),y=!0):t=i.Name,c===nt-1?t=!y&&this.$t0(i.LogicalName)?String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-action='open'>{2}<\/a>",i.LogicalName,i.Id.toString(),t):String.format("<a class=\"nonInteractionCentricGridField\" data-action='none'>{0}<\/a>",t):(tt="<span>;<\/span>",t=!y&&this.$t0(i.LogicalName)?String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-action='open'>{2}<\/a>{3}",i.LogicalName,i.Id.toString(),t,tt):String.format("<a class=\"nonInteractionCentricGridField\" data-action='none'>{0}<\/a>{1}",t,tt))),n+=t;p=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(r.$D,d.key);p&&p.$A8&&p.$A8.toUpperCase()==="URL"&&(n=String.format("<a class=\"InteractionCentricGridNavigtableField\" target=_blank href='{0}'>{1}<\/a>",n,n));u[f.$L]=n}this.$17w&&(rt=String.format("<a title='{0}' class='button-commandRing symbolFont Remove-symbol mscrm-gridRowDelete' data-id='{1}' data-action='delete'><\/a>",this.get_IsManyToMany()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_Remove"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_Delete"),r.$4Z),u[this.$D+"delete"]=rt);this.$lT?(l[w]=u,w++):l[o]=u}this.$Jq=l;this.$NM=!0;this.$7("RecordCount")}},$1wt:function(){var n,f,o,t;if($0.$0(this.$Jq)&&!this.$1AL){if(!this.$1Az.length){this.$Jq=[];return}n="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\r\n\t\t\t\t\t\t\t\t<entity name = '"+this.$6J+"'>"+("<attribute name = '"+this.$yt+"' />");for(var u=this.$iI,s=u.length,i=0;i<s;++i)f=u[i],n+="<attribute name = '"+f+"' />";$0.$0(this.$3q.$8Q)||(n+="<order attribute='"+this.$3q.$8Q+"' descending='"+this.$3q.$Cg+"' />");n+="<filter type = 'and'>";n+="<filter type = 'or'>";for(var e=this.$1Az,h=e.length,r=0;r<h;++r)o=e[r],n+="<condition attribute = '"+this.$yt+"' operator = 'eq' value = '"+o+"' />";n+="<\/filter>";n+="<condition attribute = 'statecode' operator = 'eq' value = '0' />";this.$yU&&(n+="<condition attribute = 'parentcaseid' operator = 'null' />");n=n+"<\/filter><\/entity><\/fetch>";this.$1AL=!0;t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);t.OnSuccess=this.$$d_$2fX;t.OnFailure=this.$$d_$4L;t.QueryValue=n;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)}},$2fX:function(n){switch(this.$1TA){case"PopulateDataForMergeAssociate":this.$2xd(n)}Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$3d.call(this,n)},$2xd:function(n){for(var f,t,r,e=0,o=[],v=n.get_$9o().$1mk(),s=[],h,c,l=v,y=l.length,u=0;u<y;++u){var p=l[u],i=p,a=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ListItem","ListItem",null,null,null,null);this.$HT=a;f=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(a,i,this.$2i,this.$2);f.$2i=this;Array.add(s,f);t={};t.id=i.$I.getValue(this.$yt);h=String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-action='open'>{2}<\/a>","incident",t.id.toString(),i.$I.getValue("title"));t.title=h;t.prioritycode=i.$I.getValue("prioritycode").$1G;t.createdon=i.$I.getValue("createdon");r=i.$I.getValue("customerid");c=this.$t0(r.LogicalName)?String.format("<a class=\"InteractionCentricGridNavigtableField\" data-entity='{0}' data-id='{1}' data-action='open'>{2}<\/a>","account",r.Id.toString(),r.Name):String.format("<a class=\"nonInteractionCentricGridField\" data-action='none'>{0}<\/a>",r.Name);t.customerid=c;o[e]=t;e++}this.$1AL=!1;this.set_IsLoading(!1);this.$Jq=o;this.$1f.$86();this.$1f.$Sn(s);this.$NM=!0;this.$7("RecordCount")},invokeReferencePanelTab:function(n,t,i,r,u){var f={},e,o,s,h,c;if(f.uniqueid=t,r){if(e=this.$f1(t),e===-1)return;o=this.$1f.get_$R(e);s=o.get_ModelContext().GetValue(i).toString();n=o.get_ModelContext().get_$Fe();f.title=s}else f.title=u;$0.$0(this.$2)||$0.$0(this.$2.$2)||(h=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I(f,n),c=this.$2.$2,c.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I,h))},get_ColumnsForGrid:function(){return $0.$0(this.$Le)&&(this.$2m3(),this.$7("ColumnsRetrieved")),this.$Le},RefreshData:function(){this.$Cm||this.DeselectAllRecords();this.refreshCommand.execute()},$EP:function(n,t){this.$78&&Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype.$EP.call(this,n,t)},IsReferenceFieldClickDisabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return t&&!t.$BW?!0:!1},$39o:function(){var n=Xrm.Page.ui.controls.getByName("Merge"),t=Xrm.Page.ui.controls.getByName("Set");this.$wH.length>0?$0.$0(n)?$0.$0(t)||t.setDisabled(!1):n.setDisabled(!1):$0.$0(n)?$0.$0(t)||t.setDisabled(!0):n.setDisabled(!0)},OnRowSelcted:function(n,t){if(this.$78||this.$NW){if(this.$DT){var i=[n];this.$wH=i}if(this.$QC=!1,this.$DT&&(t?this.$wH=[n]:Array.clear(this.get_SelectedRowIds()),this.$39o()),!t){this.$2H7(n);return}this.$Cm&&!this.$DP&&(this.$2H6(this.get_SelectedRowIds()),this.get_$5x().get_$Nj().$10Y());this.$2DH(n);this.$Kp++}},OnAllRowsSelected:function(n,t){if(this.$QC=!0,!t){this.$QC=!1;this.$2H6(n);return}this.$Cm||this.ClearSelection();this.$2DH(n[0]);this.$34L(n)},ClearSelection:function(){this.get_$5x().get_$Nj().$ja()},$34L:function(n){var t,r,i;for(this.$Kp=n.length,this.$R6=!0,t=1;t<n.length;t++)r=this.$f1(n[t]),i=this.$1f.get_$R(r),$0.$0(i)||i.set_IsSelected(!0),this.$Nd.add(i);this.$R6=!1},DeselectAllRecords:function(){var n,t,i,r;for(this.$R6=!0,n=-1,t=0;t<this.$1f.get_Count();t++){if(i=this.$1f.get_$R(t),i.get_IsSelected()&&n===-1){n=t;continue}i.set_IsSelected(!1);this.$Nd.contains(i)&&this.$Nd.remove(i)}this.$R6=!1;this.$Kp=0;this.$QC=!1;n!==-1&&(r=this.$1f.get_$R(n),r.set_IsSelected(!1),this.fireOnAllCheckboxesUnchecked())},$2H6:function(n){var t,i,r;for(this.$Kp=1,this.$R6=!0,t=1;t<n.length;t++)i=this.$f1(n[t]),r=this.$1f.get_$R(i),r.set_IsSelected(!1);this.$R6=!1;this.$2H7(n[0])},$2DH:function(n){var r=this.$f1(n),t,i,u;r!==-1&&(this.$NM=!0,t=this.$1f.get_$R(r),t.set_IsSelected(!0),t.$j1=1,i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$nO),i.InitializationParameters.TraceComponent=1011,i.InitializationParameters.SelectionState=this.$6A,i.InitializationParameters.ListItemViewModel=t,u=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t,i),u.execute(),this.$Nd.add(t))},$2H7:function(n){var i=this.$f1(n),t;i!==-1&&(this.$Kp--,t=this.$1f.get_$R(i),t.set_IsSelected(!1),this.$Nd.contains(t)&&this.$Nd.remove(t))},$f1:function(n){for(var i,t=0;t<this.$1f.get_Count();t++)if(i=this.$1f.get_$R(t),i.$4Z===n)return t;return-1},$2Wv:function(n,t){for(var r,u,e,f,i=0;i<this.$1f.get_Count();i++)if(u=this.$1f.get_$R(i),this.$lT?(e=u.get_ModelContext(),f=e.$I.fields.objectid,r=f.Id.toString(),this.$1j6=r,this.$P=f.LogicalName,this.$1AG&&(r=u.$4Z)):(r=u.$4Z,this.$P=t==="activitypointer"?u.get_ModelContext().get_$Fe():t),r===n)return i;return-1},RefreshActivityCommandBar:function(){if($0.$0(this.$2.get_ModelContext())&&this.$78){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y;n.$qH();n.set_PrimaryModelName(this.$D);n.$vj("HomePageGrid:"+this.$D,this)}},OpenPrimaryEntityForm:function(n){var r=this.$f1(n),u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),i,t,f;r!==-1&&(!u||u.$BW)&&(this.$Cm&&Xrm.Page.ui.close(),i=this.$1f.get_$R(r),i.$j1=2,t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$nO),t.InitializationParameters.TraceComponent=1011,t.InitializationParameters.SelectionState=this.$6A,t.InitializationParameters.ListItemViewModel=i,f=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(i,t),f.execute())},DeleteRecord:function(n){var r=this.$f1(n),t,u,i,f;r!==-1&&(t=this.$1f.get_$R(r),u=t.get_IsSelected(),t.$j1=2,i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,i.$z2=!1,f=this,i.$21r(this.get_$qQ(),t,this.get_IsManyToMany()?"Mscrm.RemoveSelectedRecord":"Mscrm.DeleteSelectedRecord").done(function(n){var e,r,o;t.set_IsSelected(!0);e=n;r={};r.CommandId=e.Id;r.RibbonActionHandler=e.Actions;r.TargetViewModel=t;r.entityLogicalName=f.$D;o=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("WebResourceCommand",e.Id,r));o.execute();t.set_IsSelected(u);i.$z2=!0}))},OpenEntityForm:function(n,t){var i,r,u;if(this.$P=n,this.DeselectAllRecords(),$0.$0(n)){this.OpenPrimaryEntityForm(t);return}this.$Cm&&Xrm.Page.ui.close();i=new Microsoft.Crm.Client.Core.Commands.$2R(null,40);try{i.$x={};r=new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext(this.$1f,this.$2Wv(t,n),this.GetPrimaryAttributeName(),this,!1);i.$x={ListNavigationContext:r};i.$x.EntityReference=new Xrm.Objects.EntityReference(this.$P,new Microsoft.Crm.Client.Core.Framework.Guid(this.$lT?this.$1j6:t));i.$D=this.$P;u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$P);u.$BW&&i.execute()}finally{i.dispose()}},ExecuteRecordAction:function(n,t,i){switch(n){case"open":this.OpenEntityForm(t,i);break;case"delete":this.DeleteRecord(i)}},GetPrimaryAttributeName:function(){return this.$21U(this.$D)},$21U:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n),i="";return $0.$0(t)||(i=t.$59),i},$MZ:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&n.$m===-2147094003?this.$2.$MZ(n):(this.set_$1Kd(n.$m),this.set_HasError(!0),Microsoft.Crm.Client.Core.Framework.Trace.logError(63,n.$F),$0.$0(this.$2n)||this.$2n.$1X7())},PagingGridRecords:function(n){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$1Hz();n?this.moreRecordsAvailable()&&(this.$Cm||this.DeselectAllRecords(),this.$DT&&(this.$Jq=null),this.$1fo(),this.set_IsLoadingNextPage(!0),this.$1Z.$9S=this.$1Z.$G8+1,this.$1Z.$OO=this.$1Z.$OO+1,this.$1Z.set_MoreNextPage(!0),this.$1Z.set_MorePreviousPage(!0),this.$1Yz(),this.$gB=!1,this.$1fm()):this.getCurrentPageIndex()>1&&(this.$Cm||this.DeselectAllRecords(),this.$DT&&(this.$Jq=null),this.$1fq(),this.set_IsLoadingPreviousPage(!0),this.$1Z.$9S=this.$1Z.$OO-1,this.$1Z.$G8=this.$1Z.$G8-1,this.$1Yz(),this.$gB=!1,this.$1fm(!1))},$1i3:function(n,t){this.$ZS=!0;this.$g6=!1;this.$4e=n;this.PagingGridRecords(t)},$3d:function(n){if(this.$Cn){var t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StopMarkerForSearch",1,null);this.$71.get_FilterBarViewModel().set_IsSearchBlocked(!1);this.$71.get_FilterBarViewModel().set_HasTextChanged(!1);this.$Cn=!1}(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$3d.call(this,n),this.$g6)||this.$1f&&this.$1f.get_Count()>0&&this.$ZS&&($0.$0(this.$4e)||(this.$g6=!0,this.$ZS=!1,this.$4e.$2Hv()))},$4L:function(n){this.$Cn&&(this.$71.get_FilterBarViewModel().set_IsSearchBlocked(!1),this.$71.get_FilterBarViewModel().set_HasTextChanged(!1),this.$Cn=!1,this.$2DI(n));Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$4L.call(this,n)},$2kC:function(n,t){var f,r;if(!$0.$0(this.$Le))for(var u=this.$Le,e=u.length,i=0;i<e;++i)if(f=u[i],f.name===t){this.$1Jc||(this.$1Jc=!0,r=this,window.setTimeout(function(){r.$1Jc=!1;r.$1aR()},0));return}},IsColumnSortable:function(n){var t=this.$zy[n],i,r;return!$0.$0(t)&&t.$26===10?!1:(i=n.indexOf(".")!==-1,r=!i,r)},SortGrid:function(n,t){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$1Hz();this.$38k(n,t)},$38k:function(n,t){this.$3q.$8Q===n?this.$3q.$Cg=t==="asc"?!1:!0:(this.$3q.$Cg=!1,this.$3q.$8Q=n);this.$Ne=!0;this.RefreshData()},$1r9:function(){this.$NM=!0;this.$22=null;Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype.$1r9.call(this)},GetJumpbarText:function(){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r,f,n;t.add(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_Selection_JumpBar_All")+":*");r=this.get_JumpBarText().split(",");for(var u=r,e=u.length,i=0;i<e;++i)f=u[i],n=f,n=n.replace("(",""),n=n.replace(")",""),t.add(n);return t.toArray()},JumpBarFilterToGrid:function(n){var t,i,f;if(!$0.$0(this.$D)){if(t=this.GetPrimaryAttributeName(),i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,t),n==="*")i.$Bl(t,"like","%");else if(n.indexOf("|")>-1){i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,t);for(var u=n.split("|"),e=u.length,r=0;r<e;++r)f=u[r],i.$Bl(t,"like",String.format("{0}%",f))}else i.$Bl(t,"like",String.format("{0}%",n));this.$dQ=n;this.$22=i.$9V();this.$Ne=!0;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$1Hz();this.RefreshData()}},$dQ:null,get_SelectedFilterValue:function(){return this.$dQ},set_SelectedFilterValue:function(n){return this.$dQ=n,n},getTotalRecordsCount:function(){return $0.$0(this.$2n)?this.$1f.get_Count():this.$2n.get_EntityCollection().$DJ},totalRecordCountLimitExceeded:function(){return this.$2n.get_EntityCollection().$VT},moreRecordsAvailable:function(){return this.$2n.get_EntityCollection().$KU},get_TotalRecordsCount:function(){return this.getTotalRecordsCount()},get_CurrentPageIndex:function(){return this.getCurrentPageIndex()},$2m3:function(){var e,n,t;if(this.$DT){this.$2m4();return}if(!this.$iR&&$0.$0(this.$Le)){if($0.$0(this.get_Header())){this.$Le=null;return}var f=0,u=[],i={};i.name="id";i.label="id";i.width="0";i.initialWidth="0";i.key=!0;i.hidden=!0;u[f++]=i;var h=0,c=this.get_Header().$H,o=[],s=c;for(e in s){var l={key:e,value:s[e]},r=l.value,a=r.$L;this.$lT&&a==="queueitemid"||(n={},n.name=r.$L,n.label=r.get_Data(),n.width=r.$FU,n.initialWidth=r.$FU,n.key=!1,n.hidden=r.$FU==="0"?!0:!1,n.name.indexOf(".")===-1&&o.push(n.name),u[f++]=n,h+=Number.parseInvariant(n.width))}this.$17w&&(t={},t.name=this.$D+"delete",t.label="&nbsp;",t.width="0",t.initialWidth="0",t.classes="delete-icon-column",t.key=!1,t.hidden=!1,u[f++]=t);this.$Le=u;this.$Kl(this.$D,o);this.recalculateColumnSize();this.$NM=!0}},$2m4:function(){var r=0,u=[],f=this.$2.$5m.columnNames,o=this.$2.$5m.columnLabels,n,e=[],t,i;if($0.$0(this.$Le)){for(t={},t.name="id",t.label="id",t.width="0",t.initialWidth="0",t.key=!0,t.hidden=!0,u[r++]=t,i=0;i<f.length;i++)f[i]!=="statecode"&&(n={},n.name=f[i],n.label=o[i],n.key=!1,n.width="100",n.initialWidth="100",e[r-1]=n.name,u[r++]=n);this.$Le=u;this.$Kl("incident",e);this.recalculateColumnSize()}},$Kl:function(n,t){var i={},r,u;i.EntityType=n;i.Attributes=t;i.OnSuccess=this.$$d_$tc;r=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));u=r.$B1(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u)},$tc:function(n){var t,i;if(!$0.$0(n))for(t=0;t<n.length;t++)i=n[t],this.$zy[i.$y]=i},recalculateColumnSize:function(){var t=0,e=this.get_ColumnsForGrid(),s,h,r,u,c,a,n;if(!$0.$0(e)){for(var o=e,v=o.length,i=0;i<v;++i)s=o[i],h=s,t+=Number.parseInvariant(h.initialWidth);if(r=$("#gridContainer_"+this.get_ViewModelId()),r.length>0){u=r.width();c=u/t;for(var l=this.$Le,y=l.length,f=0;f<y;++f)a=l[f],n=a,n.width=u>t&&!this.$NW&&!this.$78?(Number.parseInvariant(n.initialWidth)*c).toString():n.initialWidth}}},$2Z:function(){var n,t,i;this.$DT&&(this.set_IsLoading(!1),this.$1TA="PopulateDataForMergeAssociate",this.$6J=this.$2.$5m.entityName,this.$yt=this.$2.$5m.primaryAttribute,this.$1Az=this.$2.$5m.recordIds,this.$iI=this.$2.$5m.columnNames,this.set_PrimaryModelName(this.$6J),this.$yU=this.$2.$5m.isAssociate,n=Xrm.Page.ui.controls.getByName("Merge"),t=Xrm.Page.ui.controls.getByName("Set"),$0.$0(n)?$0.$0(t)||t.setDisabled(!0):n.setDisabled(!0));this.$1f.add_CollectionChanged(this.$$d_$2Yf);this.$NM=!0;this.$yW=!1;this.$dQ=null;this.$2VE();Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),(i&&!i.$BW||this.$D==="connection")&&(this.$yW=!0),this.$1a||(this.$Cn=!1,this.$Fa="",this.$Na={},this.$SJ=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$FJ)),this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81,this.$$d_$2Wm),this.$Nd=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$3R))));this.$zy={};this.$D==="queueitem"&&(this.$lT=!0);Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype.$2Z.call(this)},$2kO:function(){var n,t;this.$Fa!==""&&(this.$Fa="",this.$71.get_FilterBarViewModel().set_SearchText(""));n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);n.get_$7g()&&this.$78?(t=this.$Na[this.$D],this.$29x(t)):this.$29x(this.$Pz)},$2kg:function(n){var t,i;$0.$0(this.$hF)&&(this.$sn=this.$2O);this.$Fa=n;this.$Ne=!0;this.$22=null;this.$dQ=null;t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);t.get_$7g()&&this.$78?(i=this.$Na[this.$D],this.$2A0(i)):this.$2A0(this.$Pz)},$29x:function(n){this.$OA?$0.$0(n)?$0.$0(this.$hF)||this.$2O!==this.$sn&&(this.$2O=this.$sn,this.refreshCommand.execute()):this.get_DefinitionId()===n&&this.$1rB(this.$1U3):$0.$0(this.$hF)||this.$2O!==this.$sn&&(this.$2O=this.$sn,this.refreshCommand.execute())},$2A0:function(n){if($0.$0(n))if($0.$0(this.$hF)){this.$1T5=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,3,this.$D,1,!0,null,3);var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSavedQueryDetailsAction",null);t.OnSuccess=this.$$d_$33F;t.OnFailure=this.$$d_$33E;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)}else this.$2O=this.$hF,this.RefreshData();else this.get_DefinitionId()===n?this.refreshCommand.execute():this.$1rB(n)},$2ym:function(n){var t=n.trim();return t!==""&&Microsoft.Crm.Client.Core.ViewModels.$1e.$14R(t)&&(t="*"),t},$2Wm:function(n){if(!$0.$0(this.$71)&&!$0.$0(this.$71.$yL)&&this.$71.$yL===n.$iS)if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()){var i=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StartMarkerForSearch",1,null),t=this.$2ym(n.$Fa);if(this.$71.get_FilterBarViewModel().set_SearchText(t),this.$Fa===""&&t==="")if(this.$Cm)t="*";else return;if(t===""||!this.$71.get_FilterBarViewModel().$sf&&t===this.$Fa){this.$2kO();return}this.$71.get_FilterBarViewModel().set_IsSearchBlocked(!0);this.$Cn=!0;this.$2kg(t)}else this.$22=n.$1T4,this.$dQ=null,this.$Ne=!0,this.refreshCommand.execute()},$33F:function(n){for(var i=n,u=i.$1mk(),e=u.length,r=0;r<e;++r){var o=u[r],s=new Xrm.Objects.EntityReference("savedquery",new Microsoft.Crm.Client.Core.Framework.Guid(o.$q)),h=Microsoft.Crm.Client.Core.Framework.$q.$4t(this.get_ViewModelId(),this.$L),t=this,f=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(s,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["querytype"]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),h).then(function(n){var f=Microsoft.Crm.Client.Core.Models.$c.$X(n),s=f.$I.fields.querytype,h=f.$I.fields.savedqueryid.toString(),r,u,e;if(s===4){for(r=0,r=0;r<i.get_$3F6();r++)if(i.get_$R(r).$q===h)break;if(u=i.get_$R(r),t.$Cm){var c=u.get_$E5().$5M.get_$R("fetchXml").Data,l=Microsoft.Crm.Client.Core.ViewModels.$1e.$136(c),a=t.$2O.$5M.get_$R("fetchXml").Data,o=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(a);o.$DN.add(l);e=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(o.$fV());t.$hF=e;t.$2O=e}else t.$hF=u.get_$E5(),t.$2O=u.get_$E5();t.RefreshData();f.$5E()}},function(n){f.$Cn=!1;f.$71.get_FilterBarViewModel().set_IsSearchBlocked(!1);Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Failed for RetrieveSavedQueryDetailsSuccess in InteractionCentricGridControlViewModel with error : {0}",n.$F)})}},$33E:function(n){this.$Cn=!1;this.$71.get_FilterBarViewModel().set_IsSearchBlocked(!1);this.$71.get_FilterBarViewModel().set_HasTextChanged(!1);this.$2DI(n)},$1Hz:function(){var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$D,null).then(function(t){var r=t,i;r.get_$7g()?(i=n.$Na[n.$D],$0.$0(i)||i!==n.get_DefinitionId()?$0.$0(i)&&n.$Fa!==""&&(n.$Cn=!0):n.$Cn=!0):$0.$0(n.$Pz)||n.get_DefinitionId()!==n.$Pz?$0.$0(n.$Pz)&&n.$Fa!==""&&(n.$Cn=!0):n.$Cn=!0},function(){})},$1Mx:function(n,t){var r=n;for(var u in r){var o={key:u,value:r[u]},i=o.value,f=i.$M.MetadataSubType,s=i.$M.IsDefault;if(!$0.$0(f)&&f===3&&s){var h=this.$D,c=new Microsoft.Crm.Client.Core.Framework.Guid(i.$M.ViewId),l=new Xrm.Objects.EntityReference("savedquery",c),a=Microsoft.Crm.Client.Core.Framework.$q.$4t(this.get_ViewModelId(),this.$L),e=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(l,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["querytype"]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),a).then(function(i){var r=Microsoft.Crm.Client.Core.Models.$c.$X(i),l=r.$I.fields.querytype,u=r.$I.fields.savedqueryid.toString(),f,o,c,s;if(l===4){f=n;for(o in f)if(c={key:o,value:f[o]},s=c.value,u===s.$M.ViewId){s.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AdvancedFindSearchResultsViewName"));break}t?e.$Na[h]=u:e.$Pz=u}r.$5E()},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Failed for PopulateQuickFindViewId in InteractionCentricGridControlViewModel with error : {0}",n.$F)})},-13,"ISH_QuickFind_retrieve")}}},$2DJ:function(){var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskQuickFindSearchEvent");n.$h("EntityName",this.$D);n.$h("ColumnSet",this.$vY);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n)},$2DI:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskQuickFindSearchFailedEvent");t.$h("EntityName",this.$D);t.$h("ColumnSet",this.$vY);t.$h("ErrorStatus",n.$F);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)},$1rB:function(){},$Oh:function(){var i,n,t,r;if($0.$0(this.$4e)||(this.$4e.dispose(),this.$4e=null),$0.$0(this.$1f)||this.$1f.remove_CollectionChanged(this.$$d_$2Yf),Microsoft.Crm.Client.Core.Models.$1j.isInstanceOfType(this.$2n)&&(i=this,this.$2n.$KS.$ka(function(n){n.remove_$7L(i.$$d_$2kC)})),$0.$0(this.$71)||(this.$71.dispose(),this.$71=null),this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81,this.$$d_$2Wm),this.$Le=null,this.$Jq=null,this.$zy=null,!$0.$0(this.$Na)){n=this.$Na;for(t in n)r={key:t,value:n[t]},delete this.$Na[r.key];this.$Na=null}$0.$0(this.$SJ)||(this.$SJ=null);$0.$0(this.$Nd)||(this.$Nd=null);Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype.$Oh.call(this)},fireOnAllCheckboxesUnchecked:function(){this.$Kp=0;this.$Nd.clear();this.$7("AllCheckBoxesUnchecked");this.$9j("AllCheckBoxesUnchecked")},add_$2LT:function(n){$0.$0(this.$2)||this.$2.$1p("AllCheckBoxesUnchecked",n)},$9j:function(n){if(!$0.$0(this.$2)){var t=this.$2.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)}},$2Ow:function(){this.$1uO(null);this.$UL=null},OnDefinitionUpdated:function(n){this.$1uO(n)},$1uO:function(n){this.$22=null;this.$dQ=null;this.$Le=null;this.$Jq=null;this.set_HeaderViewModelDescriptor(null);this.$Bf=null;this.$52=null;this.$5T=-1;this.$6c=null;this.$9A=-1;this.$Cn||($0.$0(this.$71)||this.$71.get_FilterBarViewModel().set_SearchText(""),this.$Fa="");this.$Cm||this.DeselectAllRecords();$0.$0(this.$Dw)||this.$1Z.$Ea();$0.$0(n)||$0.$0(n.$D)||(this.set_PrimaryModelName(n.$D),this.$UL=null)},$t0:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:t.$BW},OnFilterUpdated:function(n){var t="",r="",u;if(!$0.$0(n))switch(n){case"All":case"Today":r=n;t="all";break;case"Overdue":case"Tomorrow":case"NextXDays;7":case"NextXDays;30":case"NextXDays;90":case"NextXMonths;6":case"NextXMonths;12":r=n;t="active"}if(u=r,!$0.$0(u)&&!$0.$0(t)){var f=this.$2RE(u,t),e=this.$2T8(n,t),o=this.$2QU(t,""),i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"effectiveFilter");i.$9Z(f);i.$9Z(e);i.$9Z(o);this.$22=i.$9V();Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&(this.$SJ.clear(),this.$SJ.add(f),this.$SJ.add(e),this.$SJ.add(o),this.get_DefinitionId()===this.$Na[this.$D]&&(this.$Cn=!0))}this.$Ne=!0;this.RefreshData()},$2QU:function(n,t){var i,r;return!$0.$0(t)&&t.length>0&&t!=="All"?(i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"actualEndFilter"),i.$8i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$FG)),r=this.$1Y3("actualend",t),i.$8i.add(r),i):null},$Rr:function(){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$1Hz(),this.$ox&&$0.$0(this.$2n)&&this.$1CH(Microsoft.Crm.Client.Core.Models.$1j.$jn()),this.ClearSelection(),this.$DT){this.$1Yz();this.$Jq=null;this.$1wt();return}Microsoft.Crm.Client.Core.ViewModels.GridViewModel.prototype.$Rr.call(this)},$288:function(){var n=this.$1Z.$9S;this.$1Z.$Ea();this.$Ne?this.$Ne=!1:this.$1Z.$9S=n;this.$1fm()},$2T8:function(n,t){var i;if(n==="All")return null;i=null;i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"stateCodeFilter");i.$8i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$FG));var u=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T("statecode","eq","Open"),r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T("statecode","eq","Completed"),f=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T("statecode","eq","Canceled"),e=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T("statecode","eq","Scheduled");switch(t){case"active":default:i.$8i.add(u);switch(this.$D){case"serviceappointment":case"appointment":case"recurringappointmentmaster":case"activitypointer":i.$8i.add(e);break;case"email":i.$8i.add(r)}break;case"inactive":i.$8i.add(r);i.$8i.add(f);break;case"all":}return i},$2RE:function(n,t){var i,r,u,f,e;return Microsoft.Crm.Client.Core.Framework.$3.$9(n)||n==="All"?null:(i=null,r="scheduledend",t!=="inactive"&&(u=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$1aF(new Date,1),i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"dateFilter"),i.$8i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$FG)),i.$8i.add(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T(r,"lt",u)),n!=="Overdue"&&(f=this.$1Y3(r,n),i.$8i.add(f)),n==="Tomorrow"&&(e=this.$1Y3(r,"Today"),i.$8i.add(e))),i)},$1Y3:function(n,t){var i=t.split(";"),r=i.length>1?i[1]:"",u=this.$2hv(i[0]);return new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T(n,u,r)},$2hv:function(n){switch(n){case"All":case"Overdue":case"Today":case"Tomorrow":case"Yesterday":default:return n.toLowerCase();case"NextXDays":return"next-x-days";case"NextXMonths":return"next-x-months";case"LastXDays":return"last-x-days";case"LastXMonths":return"last-x-months"}},GetHeaderTooltip:function(n){return Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Grid_ToolTip_SortBy"),n)},fetchScreenReadableText:function(n,t){return t?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_RecordNumber"),n,t):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_NoRecord"))},gridRowCheckText:function(n,t,i){return i?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_SelectRecord"),t):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_RemoveRecord"),n,t)},fetchScreenReadableTextColumnHeader:function(n,t,i,r,u){return u?t===i?r?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_SortableHeader_Descending_Order"),n):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_SortableHeader_Ascending_Order"),n):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_Only_SortableHeader"),n):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid_ScreenReader_ParsedData_NonSortableHeader"),n)},gridScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Gridview_ScreenReader_Label"),this.get_Title(),n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel.prototype={$1QQ:!1,$kW:null,$xf:null,get_FilterBarViewModel:function(){if($0.$0(this.$kW)){this.$yL=Microsoft.Crm.Client.Core.Framework.Guid.newGuid().toString();var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("FilterBarViewModel","FilterBar",null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FilterBarId",this.$yL),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("GridPrimaryAttributeName",this.$d4)],null);this.$kW=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2)}return this.$kW},$yL:null,$d4:null,get_ShowSearch:function(){return this.$1QQ},set_ShowSearch:function(n){return this.$1QQ===n?n:(this.$1QQ=n,this.$7("ShowSearch"),n)},$Cm:!1,get_IsGridDialogContext:function(){return this.$Cm},set_IsGridDialogContext:function(n){return this.$Cm=n,n},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)},$Rr:function(){this.$9j("OnRefresh")},$NW:!1,get_IsAssociatedGridContext:function(){return this.$NW},set_IsAssociatedGridContext:function(n){return this.$NW=n,n},add_$28N:function(n){this.$1p("OnRefresh",n)},$25j:function(){this.$1Kt()},$Oh:function(){this.$32("OnRefresh",this.$4d("OnRefresh"));$0.$0(this.$kW)||(this.$kW.dispose(),this.$kW=null);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$Oh.call(this)},$2Z:function(){var n,i,t;Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$2Z.call(this);this.$xf=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$xf.add("AE82A232-1529-4BDE-9972-93CE21A095C6");this.$xf.add("DDB43BE7-F7DA-4D90-845F-06552A446DA0");this.$xf.add("BA3387BF-382D-4376-A538-5B02467925D3");!$0.$0(this.get_DefinitionId())&&this.$xf.contains(this.get_DefinitionId().toUpperCase())&&(n=null,this.$D==="knowledgearticle"?n="Mscrm.AddExistingRecordFromSubGridStandard":this.$D==="connection"&&(n="Mscrm.AddNewRecordFromSubGridStandard"),n&&(i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,t=this,i.$21r(this.get_$qQ(),this,n).done(function(n){var r=n,i={};i.CommandId=r.Id;i.RibbonActionHandler=r.Actions;i.TargetViewModel=t;i.entityLogicalName=t.$D;t.set_AddExistingCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("WebResourceCommand",r.Id,i)))})))}};Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("HierarchyListItem",Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.$2lj)};Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.$2lj=function(){return new Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel};Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.prototype={get_ShowDrilldown:function(){return this.get_ModelContext().GetValue("ChildCount")>0}};Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel=function(){this.$$d_$2q0=Function.createDelegate(this,this.$2q0);this.$$d_$2yG=Function.createDelegate(this,this.$2yG);this.$$d_$2Ag=Function.createDelegate(this,this.$2Ag);this.$G2=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(String));this.$No=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(String));this.$Gj=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel));Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.initializeBase(this);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||!Microsoft.Crm.Client.Core.ViewModels.$a.$B5()?this.set_$mz(new Microsoft.Crm.Client.Core.Commands.$AO(this.$$d_$2Ag,80)):this.set_$mz(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2Ag,80))};Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.prototype={$1ig:null,$1YM:null,$22w:!0,$1IR:null,$1J9:!1,$13z:!1,$16z:null,$16J:null,$1dy:!1,get_HierarchyListItemDescriptor:function(){return this.$1IR},get_HierarchicalContextList:function(){return this.$G2},get_IsBreadcrumbCapExceeded:function(){return this.$1dy},get_IsDrilldown:function(){return this.$13z},set_IsDrilldown:function(n){return this.$13z=n,n},get_BreadcrumbViewModels:function(){return this.$Gj},set_$31b:function(n){return $0.$0(this.$16z)||(this.$16z.dispose(),this.$16z=null),this.$16z=n,n},get_$1i6:function(){return"HierarchyListPane"},get_HierarchyMessage:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Breadcrumb_Items_Message")},$1fc:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||!Microsoft.Crm.Client.Core.ViewModels.$a.$B5()){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveAncestors",null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)}},$28s:function(){this.set_ModelContext(this.get_$Kc().get_ModelContext());Microsoft.Crm.Client.Core.ViewModels.List.$SG.prototype.$28s.call(this)},onBreadcrumbPressed:function(n){this.$G2.$86();this.$G2.$3w(n.$4Z);this.$1J9=!0;this.modifyBreadcrumbsList(n)},navigateBreadcrumbItem:function(n){var t=new Microsoft.Crm.Client.Core.Commands.$2R(n,2);t.$x=null;t.execute();t.dispose()},modifyBreadcrumbsList:function(n){var t,i;t=n.get_ModelContext().$2h?n.get_ModelContext().$87():n.get_ModelContext();this.$1J9?(this.$1YM=t.get_$2m(),this.$30W()):this.$13z&&(this.$No.$10k(t.get_$2m())||(this.$No.$3w(t.get_$2m()),i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(this.$1sz(),t),this.$Gj.$3w(i)));this.set_ModelContext(t);this.$Rr()},$2q0:function(n){var t,i,u,r,f;if($0.$0(this.$Gj)||this.$Gj.get_Count())n.dispose();else{for(t=n,this.$1dy=t.get_EntityCollection().$KU,t.$11.$1Ir(0,this.get_ModelContext()),i=1;i<t.get_$s()-1;i++)if(u=t.$11.get_$R(i).GetValue(this.$6c),u.get_$4m().toString()!==t.$11.get_$R(i+1).get_Id().toString()){t.$11.$16s(i+1,t.get_$s()-i);break}for(r=t.get_$s()-1;r>=0;r--)$0.$0(t.$11.get_$R(r))||(this.$No.$3w(t.$11.get_$R(r).get_Id()),f=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(this.$1sz(),t.$11.get_$R(r)),this.$Gj.$3w(f),t.$11.$vm(r));t.$5E();this.$7("PrimaryFieldAttribute")}},$Rr:function(){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$Rr.call(this);this.$13z=!1;this.$1J9=!1},$2Ag:function(){this.$31g();Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$Rr.call(this)},$qc:function(n){this.$HT.TypeName="HierarchyListItem";return Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$qc.call(this,n)},$31g:function(){this.$G2.get_Count()>0&&(this.$G2.$86(),this.$G2.dispose());this.$No.get_Count()>0&&(this.$1ur(),this.$No.$86(),this.$No.dispose(),this.$1fc());this.set_ModelContext(this.get_$Kc().get_$1B())},$2Z:function(){this.$1a||(this.AddPropertyChangedListener("PrimaryFieldAttribute",this.$$d_$2yG),this.$1IR=this.$1sy(),this.$1fc());Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$2Z.call(this)},$Oh:function(){this.$1ur();this.$Gj=null;this.$No.$86();this.$No.dispose();this.$No=null;this.$G2.$86();this.$G2.dispose();this.$G2=null;this.RemovePropertyChangedListener("PrimaryFieldAttribute",this.$$d_$2yG);this.set_$31b(null);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$Oh.call(this)},$2yG:function(){this.$1IR=this.$1sy()},$Hd:function(){this.$1a&&!$0.$0(this.get_ModelContext())&&this.$1fc();Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this)},$1sy:function(){var n=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ed("ListItem","item"),t=new(Microsoft.Crm.Client.Core.Framework.$6E.$$(String,Object))("labelCssClass","drilldownParent");return n.ChildControlViewDescriptors={},n.ChildControlViewDescriptors.label=new Microsoft.Crm.Client.Core.Models.Descriptors.View.ControlViewDescriptor("label",this.$16J,null,[t]),n},$30W:function(){var n=this.$Gj.get_Count(),i=this.$No.$2ls(this.$1YM),t,r;if(i>=0)for(t=n-i-1;t>0;t--)n=this.$Gj.get_Count(),r=this.$Gj.get_$R(n-1),r.dispose(),this.$Gj.$vm(n-1),this.$No.$vm(n-1)},$1ur:function(){var n,t;if(!$0.$0(this.$Gj))for(n=0;n<this.$Gj.get_Count();n++)t=this.$Gj.get_$R(n),$0.$0(t)||t.dispose();this.$Gj.$86();this.$Gj.dispose()},$1sz:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ListItem","ListItem","item",null,null,[Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("Label","label",this.$16J,this.$16J,null,null,null,null)],null)}};Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$1hJ=Function.createDelegate(this,this.$1hJ);this.$$d_$2qR=Function.createDelegate(this,this.$2qR);this.$$d_$Rr=Function.createDelegate(this,this.$Rr);this.$$d_$27y=Function.createDelegate(this,this.$27y);this.$$d_$1ME=Function.createDelegate(this,this.$1ME);this.$$d_$1hP=Function.createDelegate(this,this.$1hP);this.$$d_$2sE=Function.createDelegate(this,this.$2sE);this.$$d_$1M7=Function.createDelegate(this,this.$1M7);this.$Om=-1;this.$tX=-1;this.$5T=-1;this.$9A=-1;this.get_$28w=this.get_OpenItemCommand;this.set_$2sD=this.set_NavigationTarget;this.get_$34P=this.get_SelectedItem;this.get_componentType=this.get_$2PZ;this.get_definitionId=this.get_DefinitionId;this.set_definitionId=this.set_DefinitionId;this.get_sourceId=this.get_SourceId;this.set_sourceId=this.set_SourceId;Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$2IP=this.get_Visible;this.get_childViewModels=this.get_ChildViewModels;this.get_$2Uf=this.get_Dragging;this.get_$1C9=this.get_applicationMetadataType;this.get_$2Ts=this.get_DefinitionId;this.set_$38o=this.set_SourceId;this.get_$3CO=this.get_ViewModelId;Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.initializeBase(this);this.$H={};this.set_AllowEdit(!1);this.get_$5x().get_$Nj().apcl(this.get_$5x().get_$24m(),this.$$d_$1M7);this.get_$5x().get_$Nj().apcl(this.get_$5x().get_$26m(),this.$$d_$2sE);this.$1f=new Microsoft.Crm.Client.Core.Framework.$AL;this.$id=new Microsoft.Crm.Client.Core.Framework.$AL;this.$id.add_CollectionChanged(this.$$d_$1hP)};Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype={$KK:0,hitHighlightInfo:null,$FE:null,refreshCommand:null,addCommand:null,deleteCommand:null,$A4:null,$1W:null,$ey:null,$q:null,$1V:"",$2O:null,$IE:!1,$HT:null,$t8:!1,$1k:!0,$Zf:null,$eF:null,$4u_4:!0,$8m:!0,$1G:null,$5R_4:!1,$pd:!0,$2n:null,$5o:null,$al:null,$88:null,$22:null,$Bf:null,$hz:!1,$9a:0,$t:0,$8l:null,$qa:null,$MC:null,$JD:null,$OA:!0,$1F5:!1,$Jk:5,$13L:!1,$52:null,$6c:null,$lU:!1,$gB:!1,$CW:!1,$lN:!1,$eg:!0,$24J:!1,$jX:!0,$r9:!1,$17s:!0,$1IO:!0,$H:null,$ws:-3e4,$mE:-3e4,$18i:null,$1Q8:!1,$FG:null,$nO:"SelectListItemCommand",$UL_4:null,$1Kr:null,$1M7:function(){this.$7("IsServerAvailable")},$2sE:function(){this.get_IsServerAvailable()||this.$7("OfflineText")},add_DefinitionUpdated:function(n){this.$1p("DefinitionUpdated",n)},remove_DefinitionUpdated:function(n){this.$32("DefinitionUpdated",n)},add_$1Oq:function(n){this.$1p("RetrievePersonalizationCompleted",n)},remove_$1Oq:function(n){this.$32("RetrievePersonalizationCompleted",n)},get_ShouldHideAddButton:function(){return this.$1Q8},set_ShouldHideAddButton:function(n){return n!==this.$1Q8&&(this.$1Q8=n,this.$7("ShouldHideAddButton")),n},get_DisableItemLongPress:function(){return this.$r9},set_DisableItemLongPress:function(n){return this.$r9=n,$0.$0(this.$6A)||this.$6A.set_$wI(!this.$r9),n},get_ShouldCacheResponse:function(){return this.$17s},set_ShouldCacheResponse:function(n){return this.$17s=n,n},get_$2PZ:function(){return 11},get_SelectListItemCommandName:function(){return this.$nO},set_SelectListItemCommandName:function(n){return this.$nO=n,n},get_Visible:function(){return this.$4u_4},set_Visible:function(n){var t=this.get_$5x().$1Dk(n,null);return this.$4u_4!==t&&(this.$4u_4=t,this.$7("Visible")),n},get_Enabled:function(){return this.$8m},set_Enabled:function(n){var t=this.get_$5x().$1Dk(n,null);return this.$8m!==t&&(this.$8m=t,this.$7("Enabled")),n},get_Label:function(){return this.$1G},set_Label:function(n){return this.$1G!==n&&(this.$1G=n,this.$7("Label"),this.$7("ShowLabel")),n},get_HasFocus:function(){return this.$5R_4},set_HasFocus:function(n){return this.$5R_4!==n&&(this.$5R_4=n,this.$7("HasFocus")),n},get_AllowEdit:function(){return this.$IE},set_AllowEdit:function(n){var t,i=n;return t=String.isInstanceOfType(i)?this.get_$5x().$1Dk(n,null):n,this.$IE=t,this.$7("AllowEdit"),n},get_CurrentItemIndex:function(){var n,t;return $0.$0(this.$A4)?$0.$0(this.$L6)?-1:(n=this,this.$1f.$1Km(function(t){return t.get_ViewModelId()===n.$L6.get_ViewModelId()})):(t=this,this.$1f.$1Km(function(n){return n.get_ViewModelId()===t.$A4.get_ViewModelId()}))},set_CurrentItemIndex:function(n){return this.set_$1YV(this.$1f.get_$R(n)),n},get_IsMultiSelectEnabled:function(){return this.$t8},set_IsMultiSelectEnabled:function(n){return this.$t8=n,n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k!==n&&(this.$1k=n,this.$7("IsLoading")),n},get_IsInteractionCentricEmailAttachmentList:function(){return this.$lN},set_IsInteractionCentricEmailAttachmentList:function(n){return this.$lN=n,n},get_HideEmailAttachmentSubGrid:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.$lN&&!$0.$0(this.$2)&&this.$2.$6i===1?!0:!1},get_ListContextId:function(){return this.$Zf},set_ListContextId:function(n){return this.$Zf=n,n},get_CurrentItemChangedCommand:function(){return this.$eF},set_CurrentItemChangedCommand:function(n){return $0.$0(this.$eF)||(this.$eF.dispose(),this.$eF=null),this.$eF=n,n},get_Query:function(){return this.$1V},set_Query:function(n){return this.$1V=n,n},get_HitHighlightInfo:function(){return this.hitHighlightInfo},set_HitHighlightInfo:function(n){return this.hitHighlightInfo=n,n},$1U3:null,get_DefinitionId:function(){return this.$1W},set_DefinitionId:function(n){var f=$0.$0(n)?"":n.toLowerCase(),t=$0.$0(this.$1W)?"":this.$1W.toLowerCase(),i=f!==t,r,u;return t!==""&&this.$t!==1?n:(i&&!Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&(r=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n),u=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$1W),Microsoft.Crm.Client.Core.Framework.Guid.get_empty().equals(r)||Microsoft.Crm.Client.Core.Framework.Guid.get_empty().equals(u)||(i=!r.equals(u))),i&&(this.$1U3=this.$1W,this.$1W=n,this.$1r9()),n)},$2Ci:function(n){return n},get_FilterDefinitionIds:function(){return this.$ey},set_FilterDefinitionIds:function(n){return this.$ey=n,n},get_SourceId:function(){return this.$q},set_SourceId:function(n){return this.$q=n,n},get_HeaderTitleField:function(){return this.$MC},set_HeaderTitleField:function(n){return this.$MC!==n&&(this.$MC=n,this.$7("HeaderTitleField")),n},get_NextTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?this.$mE:-3e4},set_NextTabIndex:function(n){return this.$mE=n,n},get_StartIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?this.$ws:-3e4},set_StartIndex:function(n){return this.$ws=n,this.$mE=n,n},get_TabSpaceReserved:function(){return 150},get_IsInteractionCentricLookup:function(){return this.$24J},get_ListItemViewModelDescriptor:function(){return this.$HT},set_ListItemViewModelDescriptor:function(n){return this.$HT=n,n},get_OpenItemCommand:function(){return this.$FE},set_OpenItemCommand:function(n){return this.$FE!==n&&($0.$0(this.$FE)||(this.$FE.dispose(),this.$FE=null),this.$FE=n,this.$7("OpenItemCommand")),n},get_applicationMetadataType:function(){return this.$9a},set_applicationMetadataType:function(n){return this.$9a=n,n},set_$mz:function(n){return $0.$0(this.refreshCommand)||(this.refreshCommand.dispose(),this.refreshCommand=null),this.refreshCommand=n,n},get_AddCommand:function(){return this.addCommand},set_AddCommand:function(n){return this.addCommand!==n&&($0.$0(this.addCommand)||(this.addCommand.dispose(),this.addCommand=null),this.addCommand=n,this.$7("AddCommand")),n},set_$r2:function(n){return $0.$0(this.deleteCommand)||(this.deleteCommand.dispose(),this.deleteCommand=null),this.deleteCommand=n,n},$L6:null,get_NavigationTarget:function(){return this.$L6},set_NavigationTarget:function(n){return this.$L6=n,n},$Aj:null,get_$5x:function(){return $0.$0(this.$Aj)&&(this.$Aj=new Microsoft.Crm.Client.Core.ViewModels.$Hq),this.$Aj},set_$1YV:function(n){return this.$A4!==n&&(this.$A4=n,this.$7("CurrentItem"),this.$7("CurrentItemIndex"),$0.$0(this.$eF)||this.$eF.execute()),n},get_SelectedItem:function(){return this.$A4},set_SelectedItem:function(n){return this.$A4!==n&&(this.set_$1YV(n),this.$7("SelectedItem")),n},add_$2DC:function(n){this.AddPropertyChangedListener("SelectedItem",n)},remove_$2DC:function(n){this.RemovePropertyChangedListener("SelectedItem",n)},get_ItemsLoaded:function(){return this.$KK},set_ItemsLoaded:function(n){return this.$KK=n,n},add_$td:function(n){this.$1p("LoadCompleted",n)},remove_$td:function(n){this.$32("LoadCompleted",n)},$SX:null,get_GetDefinitionProvider:function(){return this.$5o},set_GetDefinitionProvider:function(n){return this.$5o=n,n},get_PersonalizationActionProvider:function(){return this.$al},set_PersonalizationActionProvider:function(n){return this.$al=n,n},get_ActionProvider:function(){return this.$8l},set_ActionProvider:function(n){return this.$8l!==n&&this.$1lI(n),n},get_ActivateOnInitialize:function(){return this.$pd},set_ActivateOnInitialize:function(n){return this.$pd=n,n},get_ListComponentModel:function(){return this.$2n},set_ListComponentModel:function(n){if(this.$2n&&n)throw this.get_$5x().$2nM("ListComponentModel already set, cannot set ListComponentModel more than once.");this.$2n=n;var t=this.$$d_$1hP;return this.$id.remove_CollectionChanged(t),n&&(this.$id=this.$2n.get_$CZ(),this.$id.add_CollectionChanged(t)),n},get_$qQ:function(){return"SubGrid"+(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$88)?"Standard:":"Associated:")+this.$D},get_ContextFilter:function(){return this.$88},set_ContextFilter:function(n){return this.$88=n,n},get_Filter:function(){return this.$22},set_Filter:function(n){return this.$22=n,n},get_RelationshipExtraCondition:function(){return this.$Bf},set_RelationshipExtraCondition:function(n){return this.$Bf=n,n},get_TopMenuEnabled:function(){return this.$hz},set_TopMenuEnabled:function(n){return this.$hz=n,n},get_RecordCount:function(){var n=-1;return $0.$0(this.$2n)||this.$13L||(n=this.$2n.get_$CZ().get_Count()),n},get_IsServerAvailable:function(){return this.get_$5x().get_$Nj().get_$1F()},get_HideDraftsMessage:function(){return this.$1IO},set_HideDraftsMessage:function(n){return this.$1IO!==n&&(this.$1IO=n,this.$7("HideDraftsMessage")),n},get_OfflineText:function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$4U()?this.get_$5x().$4("IC_Error_Message_0x8005f204"):this.get_$5x().$4("L_Offline_List_Text")},get_IsEntityAvailable:function(){return!0},get_AddRecordTooltipText:function(){return this.get_$5x().$4("MobileClient.Commands.Workspace.NewRecord")},get_DraftsMessage:function(){return this.get_$5x().$4("Draft_Records_Message_List")},get_$Uh:function(){return this.$D},get_$vH:function(){return new Microsoft.Crm.Client.Core.Framework.Guid(this.$1W)},set_$vH:function(n){return this.set_DefinitionId(n.toString()),n},get_CreateFormDefinitionId:function(){return this.$qa},set_CreateFormDefinitionId:function(n){return this.$qa=n,n},get_TargetReference:function(){return this.$JD},set_TargetReference:function(n){return this.$JD=n,n},get_$25U:function(){return"SubGrid"+(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$88)?"Standard":"Associated")+"Item:"+this.$D},get_CreateFormType:function(){return this.$Jk},set_CreateFormType:function(n){return this.$Jk=n,n},get_HasError:function(){return this.$13L},set_HasError:function(n){return this.$13L=n,this.$7("HasError"),n},set_$1Kd:function(n){return this.$tX=n,this.$7("ListErrorTitle"),this.$7("ListErrorMessage"),n},get_ListErrorTitle:function(){return this.get_$5x().$20X(this.$tX)},get_ListErrorMessage:function(){return this.get_$5x().$4J(this.$tX)},get_NoRecordsText:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$UL_4)?this.get_$5x().$4("L_List_No_Records_Text"):this.$UL_4},set_NoRecordsText:function(n){return this.$UL_4=n,n},get_RelationshipName:function(){return this.$52},set_RelationshipName:function(n){return this.$52=n,n},get_ReferencingName:function(){return this.$6c},set_ReferencingName:function(n){return this.$6c=n,n},get_IsReferencingAttributeRequired:function(){return this.$lU},set_IsReferencingAttributeRequired:function(n){return this.$lU=n,n},get_RelationshipType:function(){return this.$5T},set_RelationshipType:function(n){return this.$5T=n,n},get_RelationshipRoleOrdinal:function(){return this.$9A},set_RelationshipRoleOrdinal:function(n){return this.$9A=n,n},get_EnableViewPicker:function(){return this.$OA},set_EnableViewPicker:function(n){return this.$OA=$0.$0(n)?!1:n,n},get_EnableQuickFind:function(){return this.$1F5},set_EnableQuickFind:function(n){return this.$1F5=$0.$0(n)?!1:n,n},get_$Kc:function(){return this.$2},get_IsCustomEntity:function(){return this.$CW},set_IsCustomEntity:function(n){return this.$CW=n,n},get_EnableContextualActions:function(){return this.$eg},set_EnableContextualActions:function(n){return this.$eg=n,n},get_CanAddOffline:function(){return this.$jX},set_CanAddOffline:function(n){return this.$jX=n,n},get_ChildViewModels:function(){return this.$H},$1f:null,get_Items:function(){return this.$1f},set_Items:function(n){return this.$1f=n,n},$id:null,get_TopMenuChildViewModel:function(){return this.$18i},get_$1Xq:function(){return!1},get_ListPageName:function(){return this.$1Kr},set_ListPageName:function(n){return this.$1Kr=n,n},$gE:!1,get_IsScrollLocked:function(){return this.$gE},set_IsScrollLocked:function(n){return this.$gE!==n&&(this.$gE=n,this.$7("IsScrollLocked")),n},$6A:null,formatRecordCount:function(n){return Microsoft.Crm.Client.Core.Framework.$3.$IY(this.get_$5x().$4("ListComponentViewModel_RecordCountHeaderFormat"),n)},$1Uu:function(){this.$t||(this.$t=1,$0.$0(this.$al)?$0.$0(this.$5o)?this.$1fm():this.$1Kt():this.$1kG());$0.$0(this.get_$Kc())||(this.get_$Kc().RemovePropertyChangedListener("ModelContext",this.$$d_$1ME),this.get_$Kc().AddPropertyChangedListener("ModelContext",this.$$d_$1ME))},$1CH:function(n){var t=this.$$d_$27y;n.add_$1fV(t);this.set_ListComponentModel(n)},$Rr:function(){this.$1a&&($0.$0(this.$2n)?this.$1fm():(this.$1Yz(),this.$gB=!1,this.$288()))},$1p0:function(n){this.$2n.get_$CZ().$3w(n)},$1p1:function(n){this.$2n.get_$CZ().$Sn(n.get_$9o().$1mk());this.$2n!==n&&(n.$1Ej(),n.get_$9o().$86(),n.dispose())},$gl:function(){this.$2h||(this.get_$5x().$1Bs("LoadedInitialUI",0,this.get_ViewModelId()),this.$FH("RenderedInitialUI"),this.$1fm())},$15c:function(){this.set_HasError(!0)},$27y:function(){this.$3d(this.$2n)},$1ME:function(){if(!$0.$0(this.$2.get_ModelContext())&&(this.$2.$D==="email"||this.$2.$D==="appointment")&&!$0.$0(this.$2.get_ModelContext().$I.getValue("statecode"))){var n=this.$2.get_ModelContext().$I.getValue("statecode").$1s;if(n===1||n===2){this.set_ShouldHideAddButton(!0);return}}this.set_ShouldHideAddButton(!1)},$3d:function(n){if(!this.$2h){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch(String.format("ListComponentViewModel.LoadDataSuccess: {0} ({1})",this.$L,this.$D));t.start();this.$2n.get_$CZ().$86();this.$KK=n.get_$9o().get_Count();this.$1p1(n);this.$7("Name");this.$7("RecordCount");this.set_IsLoading(!1);t.stop();this.get_$5x().$1Bs("LoadedInitialData",0,this.get_ViewModelId());this.$FH("RenderedInitialData")}},$4L:function(n){this.set_IsLoading(!1);this.$MZ(n)},$2qW:function(n){this.$MZ(n)},$2Z:function(){var t,n,i,r;this.$1a||($0.$0(this.$FE)&&(t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenListItemCommand"),this.set_OpenItemCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,t))),$0.$0(this.refreshCommand)&&(Microsoft.Crm.Client.Core.ViewModels.$a.$HM(this.$D)?this.set_$mz(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$Rr,1011)):(n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OnlineCommand"),n.InitializationParameters.TraceComponent=1011,n.InitializationParameters.ExecuteCommand=this.$$d_$Rr,this.set_$mz(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,n)))),$0.$0(this.addCommand)&&(this.set_AddCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CreateCommand"))),this.$lN&&(i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenEmailAttachmentPopupCommand"),this.set_AddCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,i)))),$0.$0(this.deleteCommand)&&(r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("DeleteListItemCommand"),this.set_$r2(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,r))),this.$1dP(),this.$1a=!0,($0.$0(this.$pd)||this.$pd)&&this.$1Uu())},$1dP:function(){this.$6A=new Microsoft.Crm.Client.Core.ViewModels.$Hr;this.$6A.set_ListComponentViewModel(this);this.$6A.set_$1CC(this.get_$5x().get_$Nj())},UIHasRendered:function(){if(!$0.$0(this.$FG)){for(var n=0,t=this.$FG.length;n<t;n++)this.get_$5x().$1Bs(this.$FG[n],0,this.get_ViewModelId());this.$FG=null}},$CK:function(n,t){var r,u,f,e,i;if(this.$H[n]=t,n==="TopMenu"&&Microsoft.Crm.Client.Core.ViewModels.$4N.isInstanceOfType(t)){this.$18i=t;r=this.$18i.$H;for(u in r)f={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(f.value)&&(e=f.value,i=e.$M,"externalParameters"in i?i.externalParameters.RefreshContext=this:i.externalParameters={RefreshContext:this},e.set_Parameters(i))}},$nR:function(n){var t=n;for(var i in t){var r={key:i,value:t[i]},u=r.key,f=r.value;this.$CK(u,f)}this.$7("ChildViewModels")},$Oh:function(){this.$1ZC();this.get_$5x().get_$Nj().rpcl(this.get_$5x().get_$24m(),this.$$d_$1M7);this.get_$5x().get_$Nj().rpcl(this.get_$5x().get_$26m(),this.$$d_$2sE);$0.$0(this.$2n)||(this.$2n.dispose(),this.set_ListComponentModel(null));$0.$0(this.$SX)||(this.$SX.dispose(),this.$SX=null);this.set_$r2(null);this.set_AddCommand(null);this.set_$mz(null);this.set_OpenItemCommand(null);this.set_CurrentItemChangedCommand(null);this.$6A=null;$0.$0(this.get_$Kc())||this.get_$Kc().RemovePropertyChangedListener("ModelContext",this.$$d_$1ME);var n=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43);n.removeDescriptor(this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)},$2qZ:function(n){var t=n.$6b;this.set_$vH(Microsoft.Crm.Client.Core.Framework.Guid.createFromObjectData(t))},$25j:function(){this.$1W=this.$D;this.$1Kt()},$1lI:function(n){if(!n)throw Error.argumentNull("provider");n===this.$8l?this.$Rr():(this.$8l=n,this.$t===2&&this.$SX.remove_$AT(this.$$d_$2qR),this.$t&&this.$1fm())},$Ea:function(){this.$t===2&&(this.$SX.remove_$AT(this.$$d_$2qR),this.$t=1);this.$id.$86();this.$1f.$86()},$1hP:function(n,t){var s,r,e,u,f,h,l,i,a,v,o,c;if(!t.$KW||t.$KW.length||!t.$UT||t.$UT.length||t.$1g===4){s=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch(String.format("ListComponentViewModel.OnModelsChanged: {0} ({1})",this.$L,this.$D));s.start();switch(t.$1g){case 0:if(this.$Om===-1||this.$1f.get_Count()<this.$Om||t.$LZ<this.$Om){for(r=t.$KW.length,this.$Om!==-1&&(r=this.$1f.get_Count()<this.$Om?Math.min(this.$Om-this.$1f.get_Count(),t.$KW.length):Math.min(this.$Om,t.$KW.length)),e=new Array(r),u=0;u<r;u++)e[u]=this.$qc(t.$KW[u]);!t.$LZ&&r>1?this.$1f.$Sn(e):this.$1f.$23e(t.$LZ,e)}break;case 2:for(f=t.$LZ+t.$UT.length-1;f>=t.$LZ;f--)h=this.$1f.get_$R(f),$0.$0(h)||(this.$11N(h),this.$1f.$vm(f));break;case 3:for(l=this.$1f.get_Count(),i=0;i<t.$KW.length;i++)t.$LZ+i<l&&(a=this.$qc(t.$KW[i]),v=this.$1f.get_$R(t.$LZ+i),this.$11N(v),this.$1f.set_$R(t.$LZ+i,a));break;case 4:this.$1ZC();this.$1f.$86();break;case 1:this.$1f.$26X(t.$LZ,t.$1mn,this.$1f.get_$R(t.$LZ))}if(this.$7("RecordCount"),t.$UT)for(o=t.$UT.length-1;o>=0;o--)c=t.$UT[o],c&&c.dispose();s.stop()}},$11N:function(n){n&&(this.$2i&&this.$2i.$16q(n),n.dispose())},$1ZC:function(){for(var t,n=0;n<this.$1f.get_Count();n++)t=this.$1f.get_$R(n),this.$11N(t)},$1Yz:function(){this.$1ZC();this.$1f.$86();$0.$0(this.$2n)||(this.$2n.dispose(),this.set_ListComponentModel(null))},$1r9:function(){this.$t===1&&(this.$gB=!1,this.$2O=null,this.$1Kt(),this.$1Yz())},$1Kt:function(){if(this.$8X("DefinitionUpdated"),!$0.$0(this.$5o)){var n=this.$5o.$56();this.get_$5x().get_$Nj().get_$2L().$2C(n)}},$288:function(){this.$1fm()},$1hJ:function(){this.$A4=null;this.set_SelectedItem(null);this.$7("RecordCount")},$1fm:function(n){this.$8l&&(this.$2MO()||this.$gB||(($0.$0(n)||n)&&this.set_IsLoading(!0),this.set_HasError(!1),this.$SX=this.$8l.$12y(null),this.$SX&&(this.$gB=!0,this.$SX.add_$AT(this.$$d_$2qR),this.$t=2,this.get_$5x().get_$Nj().get_$2L().$2C(this.$SX))))},$2MO:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$88)&&$0.$0(this.get_$1B())&&!this.$lN},$2qR:function(n){n.remove_$AT(this.$$d_$2qR);this.$t=1;this.$8X("LoadCompleted");this.$gB=!1},$qc:function(n){var t,i,r;if($0.$0(this.$HT))throw this.get_$5x().$X("The view model item template must be set before creating item view models.");return t=this.get_$5x().$6f(this.$HT,n,this.$2i,this.$2),t.$2i=this,t.$6A=this.$6A,i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$nO),i.InitializationParameters.TraceComponent=1011,i.InitializationParameters.SelectionState=this.$6A,i.InitializationParameters.ListItemViewModel=t,r=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t,i),t.set_SelectListItemCommand(r),t},$17M:function(){if(!$0.$0(this.get_$Uh())){var n=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("SavePersonalization"));n.execute();n.dispose()}},$1kG:function(){if(!$0.$0(this.get_$Uh())){var n=this.$al.$56(),t=this;n.add_$AT(function(){t.$8X("RetrievePersonalizationCompleted")});this.get_$5x().get_$Nj().get_$2L().$2C(n)}},$MZ:function(n){this.set_$1Kd(n.$m);this.set_HasError(!0);this.get_$5x().$38T(n)},$FH:function(n){$0.$0(this.$FG)?this.$FG=[n]:Array.contains(this.$FG,n)||Array.add(this.$FG,n)},$8X:function(n){var t=this.$4d(n);t&&t()},$yA:!1,get_Dragging:function(){return this.$yA},set_Dragging:function(n){return this.$yA=n,n},$1AV:!1,get_IsSortable:function(){return this.$1AV},set_IsSortable:function(n){return this.$1AV=n,n},$1UR:null,get_SortedItems:function(){return this.$1UR},set_SortedItems:function(n){return this.$1UR=n,n},sortStart:function(){},sortStop:function(){}};Microsoft.Crm.Client.Core.ViewModels.$Hq=function(){};Microsoft.Crm.Client.Core.ViewModels.$Hq.prototype={$1Al:null,get_$1hK:function(){return this.$1Al},set_$1hK:function(n){return this.$1Al=n,n},get_$Nj:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},get_$24m:function(){return"IsServerAvailable"},get_$26m:function(){return"NavigationValidityTime"},$2nM:function(n){return Error.invalidOperation(n)},$X:function(n){return Error.create(n)},$6f:function(n,t,i,r){return Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,t,i,r)},$1Dk:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ;return i.$Em(n,t)},$4:function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n)},$20X:function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$20X(n)},$4J:function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(n)},$1Bs:function(n,t,i){return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(n,t,i)},$38T:function(n){Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(n)},$33h:function(){Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(this.$1Al)}};Microsoft.Crm.Client.Core.ViewModels.$Hr=function(){this.get_ListComponentViewModel=this.get_$Ze;this.set_ListComponentViewModel=this.set_$Ze};Microsoft.Crm.Client.Core.ViewModels.$Hr.prototype={$1I0:function(n){if(this.$V3){var t=!$0.$0(n),i=!$0.$0(this.$GY);t&&i&&(Microsoft.Crm.Client.Core.Framework.$6.get_$f()||this.$GY.$ja(),n.set_$KH(!0))}},$22d:function(n){var u=!$0.$0(this.$Gc),t,i,r;u&&(t=!$0.$0(this.$Gc.get_$28w()),t)&&(i=!$0.$0(n),i)&&(r=this.$Gc.get_$28w(),this.$Gc.set_$2sD(n),r.execute())},$Gc:null,get_$Ze:function(){return this.$Gc},set_$Ze:function(n){return this.$Gc=n,n},$GY:null,set_$1CC:function(n){return this.$GY=n,n},$V3:!0,set_$wI:function(n){return this.$V3=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Hp=function(){this.get_ListComponentViewModel=this.get_$Ze;this.set_ListComponentViewModel=this.set_$Ze};Microsoft.Crm.Client.Core.ViewModels.$Hp.prototype={$1I0:function(n){if(this.$V3){var t=!$0.$0(n),i=!$0.$0(this.$GY);t&&i&&(Microsoft.Crm.Client.Core.Framework.$6.get_$f()||this.$GY.$ja(),n.set_$KH(!0))}},$22d:function(n){this.$1I0(n)},$Gc:null,get_$Ze:function(){return this.$Gc},set_$Ze:function(n){return this.$Gc=n,n},$GY:null,set_$1CC:function(n){return this.$GY=n,n},$V3:!0,set_$wI:function(n){return this.$V3=n,n}};Microsoft.Crm.Client.Core.ViewModels.$3R=function(){this.$$d_$2tu=Function.createDelegate(this,this.$2tu);this.$$d_$2UA=Function.createDelegate(this,this.$2UA);this.$10w=new(Microsoft.Crm.Client.Core.Framework.$6F.$$(String));this.$1QD=!Microsoft.Crm.Client.Core.Framework.$6.get_$3A();this.get_$34T=this.get_SelectItemEventType;Microsoft.Crm.Client.Core.ViewModels.$3R.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$3R.initializeBase(this);this.$14G=!0};Microsoft.Crm.Client.Core.ViewModels.$3R.prototype={deleteCommand:null,$10l:0,$4Z:null,$nN:null,$nV:null,$17W:!1,$1Q4:!1,$1Jh:!0,get_$qQ:function(){if(Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel.isInstanceOfType(this.$2i)||Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$2i)&&(this.$2i.$2.$g===2||this.$2i.$2.$g===1))return"SubGridStandardItem:"+this.$D;if(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2i)){var n=this.$2i;return n.get_$25U()}return""},get_RecordId:function(){return this.$4Z},set_RecordId:function(n){return this.$4Z!==n&&(this.$4Z=n,this.$7("RecordId")),n},get_RecordModelName:function(){var n,t,i;return Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2i)?(n=this.$2i,$0.$0(n.$JD))?null:(t=this.get_ModelContext().GetValue(n.$JD),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(t))?(i=t,i.get_$BZ()):null:null},get_NextTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()&&!$0.$0(this.$2i)?this.$2i.get_NextTabIndex():-3e4},set_NextTabIndex:function(n){return n},$zF:null,get_ShortPressCommandName:function(){return this.$zF},set_ShortPressCommandName:function(n){return this.$zF=n,n},get_ShortPressCommand:function(){return this.$1Q4?null:this.$nV},set_ShortPressCommand:function(n){return this.$nV!==n&&($0.$0(this.$nV)||(this.$nV.dispose(),this.$nV=null),this.$nV=n),n},set_$r2:function(n){return this.deleteCommand!==n&&($0.$0(this.deleteCommand)||(this.deleteCommand.dispose(),this.deleteCommand=null),this.deleteCommand=n),n},get_CssClassNames:function(){return this.$10w},$6A:null,get_SelectListItemCommand:function(){return this.$17W?null:this.$nN},set_SelectListItemCommand:function(n){return this.$nN!==n&&($0.$0(this.$nN)||(this.$nN.dispose(),this.$nN=null),this.$nN=n),n},resolveChildViewType:function(n){return Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.isInstanceOfType(n)?"FieldButton":"DefaultValueLabel"},$j1:0,get_SelectItemEventType:function(){return this.$j1},set_SelectItemEventType:function(n){return this.$j1=n,n},get_ShowCheckmark:function(){return this.$1QD},set_ShowCheckmark:function(n){return this.$1QD=n,n},get_IsIshFormAvailable:function(){return this.$1Jh},set_IsIshFormAvailable:function(n){return this.$1Jh=n,n},GetObjectTypeCode:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return t?t.$9p:0},IsCustomEntity:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return!$0.$0(t)&&t.$CW},$2Z:function(){if(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),$0.$0(this.deleteCommand)&&this.set_$r2(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2UA,1003)),this.$17W=!1,this.$1Q4=!1,Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);!n||n.$BW&&this.$1Jh||(this.$1Q4=!0,this.$17W=!0)}this.$23T();this.AddPropertyChangedListener("IsSelected",this.$$d_$2tu);Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)&&(this.$17W=!0)},$2UA:function(){if(!$0.$0(this.$2i)&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$2i)){var n=this.$2i;n.deleteCommand.execute();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$ja()}},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Hd.call(this);this.$23T();Microsoft.Crm.Client.Core.Models.IModel.isInstanceOfType(this.get_ModelContext())&&(Microsoft.Crm.Client.Core.Models.IRecordModel.isInstanceOfType(this.get_ModelContext())?this.set_RecordId(this.get_ModelContext().get_$8a()):this.set_RecordId(this.get_ModelContext().get_Id()))},$2tu:function(){var n=this.$2i;this.get_IsSelected()?(n.set_SelectedItem(this),n.set_IsSelected(!1)):n.$A4===this&&n.set_SelectedItem(null)},$23T:function(){if(!$0.$0(this.$zF)){var n=this.$2Mz();this.set_ShortPressCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,n))}},$2Mz:function(){var n={};return n.ModelContext=this.get_ModelContext(),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$zF,null,n)},$Oh:function(){this.RemovePropertyChangedListener("IsSelected",this.$$d_$2tu);this.set_$r2(null);this.set_ShortPressCommand(null);this.set_SelectListItemCommand(null);this.$6A=null;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel=function(){this.$$d_$EP=Function.createDelegate(this,this.$EP);this.$$d_$15g_7=Function.createDelegate(this,this.$15g_7);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.initializeBase(this);this.AddPropertyChangedListener("IsSelected",this.$$d_$15g_7)};Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype={get_$1i6:function(){return"SimpleListPane"},get_$1i4:function(){if(!$0.$0(this.$qa)){var n=this.$L;return n.substr(0,n.length-4)}return this.$D},$2Z:function(){this.$Om=10;Microsoft.Crm.Client.Core.ViewModels.List.$SG.prototype.$2Z.call(this);$0.$0(this.$2)||(this.$2.$Sg?this.$EP(null,null):this.$2.add_$P1(this.$$d_$EP));Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.isInstanceOfType(this.$2)&&this.set_GridEnabled(!1)},$Oh:function(){this.set_OpenGridCommand(null);this.RemovePropertyChangedListener("IsSelected",this.$$d_$15g_7);$0.$0(this.$2)||this.$2.remove_$P1(this.$$d_$EP);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this)},$1dP:function(){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1dP.call(this);this.$6A.set_$wI(!this.$r9)},$15g_7:function(){var n=this.$2.$5Q(this);Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(n)&&(n=this.$2.$5Q(n));Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(n)&&Microsoft.Crm.Client.Core.Framework.$1B.$s(n.get_childViewModels())===1&&n.set_$KH(this.get_IsSelected())},$EP:function(){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&this.$78&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.set_GlobalContextId(this.get_$qQ())},$MZ:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&n.$m===-2147094003?this.$2.$MZ(n):Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$MZ.call(this,n)},$1ME:function(n,t){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1ME.call(this,n,t);this.set_ModelContext(this.get_$Kc().get_ModelContext());this.$1Uu()}};Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel.prototype={$14m:null,$1fY:null,$mt:null,get_ListItemViewModelDescriptors:function(){return this.$14m},set_ListItemViewModelDescriptors:function(n){return this.$14m=n,n},get_OfflineText:function(){return""},get_ListItemControlViewDescriptors:function(){return this.$1fY},set_ListItemControlViewDescriptors:function(n){return this.$1fY=n,n},get_QuickFindViewColumns:function(){return this.$mt},set_QuickFindViewColumns:function(n){return this.$mt=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$2Z.call(this);this.set_HeaderTitleField("MultiItemList")},get_$25U:function(){return"SubGridStandardItem:"+this.$D},$qc:function(n){var u=n,f=u.$I.$a.LogicalName,t,i,r;if($0.$0(this.$14m))throw this.get_$5x().$X("The view model item template must be set before creating item view models.");return t=this.get_$5x().$6f(this.$14m[f],n,this.$2i,this.$2),t.$2i=this,t.$6A=this.$6A,i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$nO),i.InitializationParameters.TraceComponent=1011,i.InitializationParameters.SelectionState=this.$6A,i.InitializationParameters.ListItemViewModel=t,r=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(t,i),t.set_SelectListItemCommand(r),t},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$2uL=Function.createDelegate(this,this.$2uL);this.$$d_$1fq=Function.createDelegate(this,this.$1fq);this.$$d_$1fo=Function.createDelegate(this,this.$1fo);this.$$d_$31k=Function.createDelegate(this,this.$31k);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.initializeBase(this);this.$1Z=new Microsoft.Crm.Client.Core.Framework.$Qa;this.$1Z.$Ea()};Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype={$1Z:null,$lq:null,$lr:null,$KA_5:!1,$1Jm:!1,$1Jn:!1,$1e8:!1,$FF:null,$78:!1,$1Q9:!0,addExistingCommand:null,$jE:!1,$1cu:!1,getTotalRecordsCount:function(){return 0},$1i3:function(){},getCurrentPageIndex:function(){return this.$1Z.$9S+1},$iI_5:null,get_ColumnNames:function(){return this.$iI_5},set_ColumnNames:function(n){return this.$iI_5=n,n},get_AddExistingCommandDisabled:function(){return this.$jE},set_AddExistingCommandDisabled:function(n){return this.$jE=n,n},$Dw:null,get_Activities:function(){return this.$Dw},set_Activities:function(n){return this.$Dw=n,n},add_NextPageLoadCompleted:function(n){this.$1p("NextPageLoadCompleted",n)},remove_NextPageLoadCompleted:function(n){this.$32("NextPageLoadCompleted",n)},add_PreviousPageLoadCompleted:function(n){this.$1p("PreviousPageLoadCompleted",n)},remove_PreviousPageLoadCompleted:function(n){this.$32("PreviousPageLoadCompleted",n)},get_PageSize:function(){return this.$1Z.$4W},set_PageSize:function(n){return $0.$0(this.$1Z)||(this.$1Z.$4W=n),n},get_PagingInfo:function(){return this.$1Z},get_$Kc:function(){return this.$78&&(!Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this)||this.$2.$g===13)?this.$FF:Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.get_$Kc.call(this)},get_IsGridFormContext:function(){return this.$78},set_IsGridFormContext:function(n){return this.$78=n,n},get_$25U:function(){return this.$78?(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$88)?"HomePageGrid":"SubGridAssociated")+"Item:"+this.$D:Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.get_$25U.call(this)},get_$qQ:function(){return $0.$0(this.$Zf)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Zf)?this.$78&&(!Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this)||this.$2.$g===13)?(this.$1a||this.$23Q(),(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$88)?"HomePageGrid:":"SubGridAssociated:")+this.$D):Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.get_$qQ.call(this):this.$Zf},get_Title:function(){return $0.$0(this.$1G)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1G)?this.$L:Microsoft.Crm.Client.Core.Framework.$6.get_$f()||!this.$OA?this.$1G:this.$L},get_LoadNextPageCommand:function(){return this.$lq},set_LoadNextPageCommand:function(n){return $0.$0(this.$lq)||(this.$lq.dispose(),this.$lq=null),this.$lq=n,n},get_LoadPreviousPageCommand:function(){return this.$lr},set_LoadPreviousPageCommand:function(n){return $0.$0(this.$lr)||(this.$lr.dispose(),this.$lr=null),this.$lr=n,n},get_$1nq:function(){return this.$d(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.$1SD)},set_$1nq:function(n){var t=this.$d(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.$1SD);return $0.$0(t)||t.dispose(),this.$l(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.$1SD,n),n},get_AddExistingCommand:function(){return this.$jE?null:this.addExistingCommand},set_AddExistingCommand:function(n){return $0.$0(this.addExistingCommand)||(this.addExistingCommand.dispose(),this.addExistingCommand=null),this.addExistingCommand=n,n},get_IsLoadingNextPage:function(){return this.$1Jm},set_IsLoadingNextPage:function(n){return n!==this.$1Jm&&(this.$1Jm=n,this.$7("IsLoadingNextPage")),n},get_IsLoadingPreviousPage:function(){return this.$1Jn},set_IsLoadingPreviousPage:function(n){return n!==this.$1Jn&&(this.$1Jn=n,this.$7("IsLoadingPreviousPage")),n},get_$1r1:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Microsoft.Crm.Client.Core.ViewModels.$a.$HM(this.$D)},$1fo:function(){var i,n;if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeNextPageStart",1,this.get_ViewModelId()),this.$Om!==-1){var r=this.$1f.get_Count(),u=this.$2n.get_$CZ().get_Count(),t=u-r;if(t>0){for(i=new Array(t),n=0;n<t;n++)i[n]=this.$qc(this.$2n.get_$CZ().get_$R(r+n));this.$1f.$Sn(i)}this.$Om=-1;this.$1Z.set_MoreNextPage(this.$15F_5(this.$2n))}else this.get_$1r1()&&(this.set_IsLoadingNextPage(!0),this.$1Z.$9S=this.$1Z.$G8+1,this.$1fm(!1))},$1fq:function(){this.get_$1r1()&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforePreviousPageStart",1,this.get_ViewModelId()),this.set_IsLoadingPreviousPage(!0),this.$1Z.$9S=this.$1Z.$OO-1,this.$1fm(!1))},get_$2oy:function(){var n,i,t;return!$0.$0(this.$6c)&&!$0.$0(this.$D)&&(n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$D,this.$6c),!$0.$0(n)&&(i=n.$20(),t=i.requiredlevel,t===1||t===2))?!0:!1},$2wV:function(){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&!$0.$0(this.get_$Kc())&&!$0.$0(this.$52)){switch(this.get_$Kc().$D){case"knowledgearticle":case"email":case"appointment":return}this.$jE||(this.get_$2oy()&&this.set_AddExistingCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CreateCommand"))),this.get_$Kc().$D==="account"&&this.$D==="contact"&&this.set_AddExistingCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CreateCommand"))))}},$2Z:function(){this.$1a||($0.$0(this.$lq)&&this.set_LoadNextPageCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1fo,1011)),$0.$0(this.$lr)&&this.set_LoadPreviousPageCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1fq,1011)),this.$23Q(),this.$1Q9&&!$0.$0(this.$2)&&!$0.$0(this.$2.$K)&&!$0.$0(this.$2.$K.$M)&&"InitialListDefinitionId"in this.$2.$K.$M&&this.$2.add_PreNavigation(this.$$d_$31k),Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.$jE||!$0.$0(this.get_AddExistingCommand())||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$52)||(this.set_AddExistingCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenAssociateForm"))),this.$2wV()):$0.$0(this.get_AddExistingCommand())&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$52)&&this.set_AddExistingCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenAssociateForm"))));Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$2Z.call(this)},$23Q:function(){$0.$0(this.$2)||$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||("ParentEntityViewModel"in this.$2.$K.$M&&(this.$FF=this.$2.$K.$M.ParentEntityViewModel),"ContextFilter"in this.$2.$K.$M&&(this.$88=this.$2.$K.$M.ContextFilter),"ListMetadataType"in this.$2.$K.$M&&(this.$9a=this.$2.$K.$M.ListMetadataType),"ListDefinitionId"in this.$2.$K.$M&&this.set_DefinitionId(this.$2.$K.$M.ListDefinitionId),"RelationshipExtraCondition"in this.$2.$K.$M&&(this.$Bf=this.$2.$K.$M.RelationshipExtraCondition),"RelationshipName"in this.$2.$K.$M&&(this.$52=this.$2.$K.$M.RelationshipName),"RelationshipType"in this.$2.$K.$M&&(this.$5T=this.$2.$K.$M.RelationshipType),"ReferencingName"in this.$2.$K.$M&&(this.$6c=this.$2.$K.$M.ReferencingName),"IsReferencingAttributeRequired"in this.$2.$K.$M&&(this.$lU=this.$2.$K.$M.IsReferencingAttributeRequired),"RelationshipRoleOrdinal"in this.$2.$K.$M&&(this.$9A=this.$2.$K.$M.RelationshipRoleOrdinal),"EnableContextualActions"in this.$2.$K.$M&&(this.$eg=this.$2.$K.$M.EnableContextualActions),"Activities"in this.$2.$K.$M&&(this.$Dw=this.$2.$K.$M.Activities))},$Oh:function(){this.set_LoadNextPageCommand(null);this.set_LoadPreviousPageCommand(null);this.set_AddExistingCommand(null);this.set_$1nq(null);$0.$0(this.$2)||this.$2.remove_PreNavigation(this.$$d_$31k);$0.$0(this.$1Z)||(this.$1Z.dispose(),this.$1Z=null);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$Oh.call(this);this.$FF=null},$1CH:function(n){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1CH.call(this,n);var t=this.$$d_$2uL;n.add_$2rt(t)},$27y:function(n,t){n.get_$Jo()<0&&this.$1Z.$Ea();Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$27y.call(this,n,t)},$2uL:function(n){this.$1Z.set_MoreNextPage(this.$15F_5(n))},$3d:function(n){var i,t;if(this.$lN&&!this.$1cu&&!$0.$0(n)&&!$0.$0(n.get_$CZ())&&!n.get_$CZ().get_Count()){this.$1cu=!0;this.$Rr();return}$0.$0(this.$2n)||(i=!this.$KA_5,this.$KA_5=!0,t=n,this.$2ye(t)?this.$7("RecordCount"):t!==this.$2n&&Microsoft.Crm.Client.Core.Models.$1j.isInstanceOfType(t)&&t.$5E(),this.$2n!==n&&Microsoft.Crm.Client.Core.Models.$1j.isInstanceOfType(n)&&n.$1Ej(),this.set_IsLoading(!1),this.set_IsLoadingNextPage(!1),this.set_IsLoadingPreviousPage(!1),this.set_HideDraftsMessage(!0),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(i?"LoadedInitialData":"RenderedRefreshedData",0,this.get_ViewModelId()),i&&this.$FH("RenderedInitialData"),this.get_$5x().$33h())},$4L:function(n){this.set_IsLoadingNextPage(!1);this.set_IsLoadingPreviousPage(!1);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$4L.call(this,n)},$288:function(){this.$1Z.$Ea();Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$288.call(this)},$1hJ:function(n){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1hJ.call(this,n);!$0.$0(this.get_$1nq())&&this.$1Z.$15E&&this.get_$1nq().execute()},$1Kt:function(){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1Kt.call(this);$0.$0(this.$5o)||$0.$0(this.$1Z)||this.$1Z.$Ea()},$gl:function(n){!$0.$0(this.$2)&&!$0.$0(this.$2.$H)&&"HeaderGroup"in this.$2.$H&&Microsoft.Crm.Client.Core.ViewModels.$A2.isInstanceOfType(this.$2.$H.HeaderGroup)&&this.$2.$H.HeaderGroup.$3BT();Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$gl.call(this,n)},$2ye:function(n){var i,u,s,h,r;if($0.$0(this.$1Z))return!1;var t,f=0,e=this.$1Z.$2XT(),c=e&&n.get_$Jo()===this.$1Z.$G8+1,o=n.get_$Jo()===this.$1Z.$OO-1;if(!c&&!o&&e)return!1;if(i=this.$2n.get_$CZ(),e){if(this.$1Z.$G8-this.$1Z.$OO>=this.$1Z.$293-1)for(o&&(f=this.$1f.get_Count()-this.$1Z.$4W,this.$1Z.set_MoreNextPage(!0),this.$1Z.$G8--),this.$1Z.set_MorePreviousPage(!0),this.$1Z.$OO++,t=f+this.$1Z.$4W-1;t>=f;t--)h=t>=0?i.get_$R(t):-t<i.get_Count()?i.get_$R(i.get_Count()+t):i.get_$R(0),$0.$0(h)||h.$5E(),i.$vm(t)}else{for(u=0;u<i.get_Count();u++)s=i.get_$R(u),$0.$0(s)||s.$5E();i.$86()}if(r=n.get_$9o().$1mk(),this.$KK=r.length,c)i.$Sn(r),this.$1Z.$G8=n.get_$Jo(),this.$1Z.set_MoreNextPage(this.$15F_5(n)),this.$7("Name"),this.$8X("NextPageLoadCompleted"),Sys.IDisposable.isInstanceOfType(n)&&this.$2n!==n&&(n.get_$9o().$86(),n.dispose());else if(o){for(t=0;t<n.get_$9o().get_Count();t++)i.$1Ir(t,r[t]);this.$1Z.$OO=n.get_$Jo();this.$1Z.set_MorePreviousPage(this.$1Z.$OO>0);this.$8X("PreviousPageLoadCompleted");Sys.IDisposable.isInstanceOfType(n)&&this.$2n!==n&&(n.get_$9o().$86(),n.dispose())}else i.$Sn(r),this.$1Z.$OO=n.get_$Jo(),this.$1Z.$G8=n.get_$Jo(),this.$1Z.set_MoreNextPage(this.$15F_5(n)),this.$8X("FirstPageLoadCompleted");return this.$2n.set_$2lE(!0),!0},$1hP:function(n,t){Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.prototype.$1hP.call(this,n,t);$0.$0(this.$1Z)||this.$1Z.set_MoreNextPage(this.$15F_5(this.$2n))},$MZ:function(n){this.set_$1Kd(n.$m);this.set_HasError(!0);Microsoft.Crm.Client.Core.Framework.Trace.logError(63,n.$F);$0.$0(this.$2n)||this.$2n.$1X7()},$31k:function(){$0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)||(this.$2.$K.$M.ListDefinitionId=this.$2.$K.$M.InitialListDefinitionId,delete this.$2.$K.$M.InitialListDefinitionId);this.$2.remove_PreNavigation(this.$$d_$31k)},$15F_5:function(n){return!n.get_$t4()||this.$Om!==-1&&(this.$1f.get_Count()<n.get_$CZ().get_Count()||this.$1f.get_Count()<n.get_$9o().get_Count())}};Microsoft.Crm.Client.Core.ViewModels.$Hn=function(){this.get_ListComponentViewModel=this.get_$Ze;this.set_ListComponentViewModel=this.set_$Ze};Microsoft.Crm.Client.Core.ViewModels.$Hn.prototype={$ta:null,get_$1fZ:function(){return $0.$0(this.$ta)&&(this.$ta=new Microsoft.Crm.Client.Core.ViewModels.$Hr,this.$ta.set_$1CC(this.$GY),this.$ta.set_ListComponentViewModel(this.$Gc)),this.$ta},$1I0:function(n){if(this.$V3){var t=!$0.$0(n),i=!$0.$0(this.$GY);t&&i&&(n.get_$KH()?this.$GY.$ja():this.get_$1fZ().$1I0(n))}},$22d:function(n){var i=!$0.$0(this.$Gc),r=!$0.$0(n),u=!$0.$0(this.$GY),t;r&&u&&i&&(t=!$0.$0(this.$Gc.get_$34P()),t&&n.get_$KH()?this.$GY.$ja():t&&!n.get_$KH()?(this.$GY.$ja(),n.set_$KH(!0)):t||this.get_$1fZ().$22d(n))},$Gc:null,get_$Ze:function(){return this.$Gc},set_$Ze:function(n){return this.$Gc=n,n},$GY:null,set_$1CC:function(n){return this.$GY=n,n},$V3:!0,set_$wI:function(n){return this.$V3=n,this.get_$1fZ().set_$wI(this.$V3),n}};Microsoft.Crm.Client.Core.ViewModels.$Mj=function(n,t){var i,r,u;Microsoft.Crm.Client.Core.ViewModels.$Mj.initializeBase(this);this.$L=n;this.$EU={};i=t;for(r in i)u={key:r,value:i[r]},this.$EU[u.key]=u.value};Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel=function(){this.$$d_$15g=Function.createDelegate(this,this.$15g);Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.initializeBase(this);this.AddPropertyChangedListener("SelectedItem",this.$$d_$15g)};Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.prototype={$15g:function(){this.$2.set_Data(this.$A4)},set_$rO:function(n){var t=this.$d(Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.$1ZR);return this.$l(Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.$1ZR,n),this.refreshListOnEntityTypeChange(t,n),n},refreshListOnEntityTypeChange:function(n,t){if(n!==t){$0.$0(this.get_DefinitionId())||this.$Rr();var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(t);this.set_Label(String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Entity_Email_Templates"),i.$1q));this.$7("Title")}},$1dP:function(){this.$6A=new Microsoft.Crm.Client.Core.ViewModels.$Hp;this.$6A.set_ListComponentViewModel(this);this.$6A.set_$1CC(this.get_$5x().get_$Nj());this.$6A.set_$wI(!this.$r9)}};Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification.initializeBase(this);this.messages=[t];this.uniqueId=i;this.notificationLevel=n;this.priority=r;this.actions=new Array(0)};Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification.prototype={dismiss:function(){},addActionCollection:function(n){Array.add(this.actions,n)}};Microsoft.Crm.Client.Core.ViewModels.$Ho=function(){this.getNotifications=this.$3EA;this.clearNotifications=this.$3EB;this.clearNotification=this.$Lc;this.addNotification=this.$2KV;this.$Ac=new Array(0)};Microsoft.Crm.Client.Core.ViewModels.$Ho.prototype={$Ac:null,$3EA:function(n){for(var i,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.BusinessRuleNotificationBase)),u=this.$Ac,f=u.length,t=0;t<f;++t)i=u[t],($0.$0(n)||n(i))&&r.add(i);return r.get_Items()},$3EB:function(){return Array.clear(this.$Ac),!0},$Lc:function(n){if($0.$0(n))return!1;for(var t=0;t<this.$Ac.length;++t)if(this.$Ac[t].uniqueId===n)return Array.removeAt(this.$Ac,t),!0;return!1},$2KV:function(n){return!n||$0.$0(n.messages)||$0.$0(n.messages[0])||Microsoft.Crm.Client.Core.Framework.$3.$12(n.messages[0])?!1:(Array.add(this.$Ac,n),!0)}};Microsoft.Crm.Client.Core.ViewModels.FieldAccessController=function(n,t,i){this.$Qh={};this.$5p=n;this.$18=t;this.$15p=i};Microsoft.Crm.Client.Core.ViewModels.FieldAccessController.prototype={$5p:null,$18:null,$15p:0,$3BG:function(n){this.$18=n},$38D:function(){if(!$0.$0(this.$5p.get_$1B())){var n=this.$5p.get_$1B().$I.getValue("statuscode").$1s;if(n===3||n===4||n===6||n===7)return!0}return!1},isFieldEditable:function(n){if(!this.$18)throw Error.invalidOperation("ModelContext needs to be initialized first");if(Microsoft.Crm.Client.Core.Framework.$6.$4N||!(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||Microsoft.Crm.Client.Core.ViewModels.$a.$B5()||this.$1r5(n)))return!1;var t=this.$Qh[n],i=$0.$0(t)?!0:t.$Oi,r=i&&!this.$5p.get_IsLocked();return Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n==="regardingobjectid"&&this.$18.get_ModelName()==="email"&&!r?i&&this.$38D():r},isFieldSecured:function(n){var t=this.$Qh[n];return $0.$0(t)?!1:t.$DB},isFieldReadable:function(n){var t=this.$Qh[n];return $0.$0(t)?!0:t.$1K5},isFieldAccessAvailable:function(n){return!$0.$0(this.$Qh[n])},$1r5:function(n){var r,t,i;if(!Microsoft.Crm.Client.Core.ViewModels.$6Z.isInstanceOfType(this.$5p)||(r=this.$5p,t=r.get_AttributeMetadata(),$0.$0(t)))return!1;for(i=0;i<t.length;i++)if(t[i].get_$2I()===n)return Array.indexOf(Microsoft.Crm.Client.Core.ViewModels.FieldAccessController.$1Z7,t[i].get_$4M())<0;return!1},initializeFieldAccessRules:function(n){var t=this.$Qh[n],i;return!$0.$0(t)&&!t.$DB?(i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$1g,Object),i.resolve(t),i.promise()):this.$1NG(n)},$1NG:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$1g,Object),i=this;return this.$2mF(n).done(function(r){i.$Qh[n]=r;$0.$0(r)&&(r=Microsoft.Crm.Client.Core.Framework.$1g.get_$15i());t.resolve(r)}),t.promise()},$2mF:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$1g,Object),i=this.$18,u=n,r,f;return(($0.$0(this.$15p)||this.$15p===-1)&&t.resolve(Microsoft.Crm.Client.Core.Framework.$1g.get_$15i()),$0.$0(i))?(t.resolve(null),t.promise()):(!Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(this.$5p)||$0.$0(this.$18)||this.$18.$EK(n)||(r=this.$18,i=r.$12a(n),u=r.$1zm(n)),f=this,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$1HT(i,u,this.$15p).done(function(n){t.resolve(n)}),t.promise())},$2Eb:function(n,t){this.$Qh[n]=t}};Microsoft.Crm.Client.Core.ViewModels.$40=function(){};Microsoft.Crm.Client.Core.ViewModels.$40.$$cctor=function(){$0.$0(Microsoft.Crm.Client.Core.ViewModels.$40.$8t)&&(Microsoft.Crm.Client.Core.ViewModels.$40.$8t=new Microsoft.Crm.Client.Core.ViewModels.$40)};Microsoft.Crm.Client.Core.ViewModels.$40.prototype={$1st:function(n){return new Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel(n)}};Microsoft.Crm.Client.Core.ViewModels.$7O=function(){};Microsoft.Crm.Client.Core.ViewModels.$7O.$25W=function(n){var o=n.logicalname,d=n.type,g=Microsoft.Crm.Client.Core.Framework.Guid.newGuid(),s=0,h=0,c=0,l=0,a=0,v=null,y=-1,p=null,w=null,nt=0,b=n,r,t,u,f,e;for(r in b){if(t={key:r,value:b[r]},t.key==="maxlength"&&(h=t.value),t.key==="minvalue"&&(c=t.value),t.key==="maxvalue"&&(l=t.value),t.key==="precision"&&(a=t.value),t.key==="format"&&(v=t.value),t.key==="requiredlevel"&&(s=t.value),t.key==="optionset"){u={};f=t.value;for(e in f){var k={key:e,value:f[e]},i=k.value,tt=i.Label,it=i.Value,rt=$0.$0(i.State)?-1:i.State,ut=$0.$0(i.DefaultStatus)?-1:i.DefaultStatus,ft=$0.$0(i.AllowedStatusTransitions)?null:i.AllowedStatusTransitions,et=$0.$0(i.Color)?null:i.Color,ot=$0.$0(i.InvariantName)?null:i.InvariantName,st=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x(tt,it,rt,ut,ft,et,ot);u[k.key]=st}p=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$7L(u)}t.key==="defaultformvalue"&&(y=t.value);t.key==="targets"&&(w=t.value);t.key==="sourcetype"&&(nt=t.value)}return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2y(o,g,null,d,o,!1,!0,!0,!0,s,h,c,l,a,2,v,1,y,!1,p,!1,w,null,!0,2)};Microsoft.Crm.Client.Core.ViewModels.$1e=function(){};Microsoft.Crm.Client.Core.ViewModels.$1e.$2X6=function(n){var t=0;switch(n){case"{4}":t=4;break;case"{3}":t=3;break;case"{2}":t=2;break;case"{1}":t=1;break;case"{0}":t=0}return t};Microsoft.Crm.Client.Core.ViewModels.$1e.$3AD=function(n,t){var i=!1,r,u,f;switch(t){case 0:i=!0;break;case 1:r=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$163(n.val);!isNaN(r)&&isFinite(r)&&r.toString()===n.val&&(i=!0);break;case 4:case 2:u=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$2wi(n.val);!isNaN(u)&&isFinite(u)&&(n.val=u.toString(),i=!0);break;case 3:f=Microsoft.Crm.Client.Core.ViewModels.$1c.$2wh(n.val);$0.$0(f)||(n.val=f.format("YYYY-MM-DDTHH:mm:ss"),i=!0)}return i};Microsoft.Crm.Client.Core.ViewModels.$1e.$30U=function(n){for(var i,t=n.get_$1m().get_Count()-1;t>=0;t--)i=n.get_$1m().get_$R(t),n.$vn(i)};Microsoft.Crm.Client.Core.ViewModels.$1e.$2l3=function(n){for(var i,t=new Sys.StringBuilder,u=new Array(n.length),r=0;r<n.length;r++)u[r]=n.charAt(r);for(i=0;i<n.length;i++)switch(u[i]){case"%":t.append("[%]");break;case"_":t.append("[_]");break;case"[":t.append("[[]");break;default:t.append(u[i])}return t.toString()};Microsoft.Crm.Client.Core.ViewModels.$1e.$33q=function(n,t,i){return n=Microsoft.Crm.Client.Core.ViewModels.$1e.$2l3(n),t&&i?(n=n.substr(1,n.length-2),n=Microsoft.Crm.Client.Core.Framework.$3.$IY("%{0}%",n)):!t&&i?(n=n.substr(1,n.length-1),n=Microsoft.Crm.Client.Core.Framework.$3.$IY("%{0}%",n)):t&&!i?(n=n.substr(0,n.length-1),n=Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}%",n)):n=Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}%",n),n};Microsoft.Crm.Client.Core.ViewModels.$1e.$1Hi=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$1e.$136(n),r,i,u;if(!$0.$0(t)&&!$0.$0(t.get_$1m())){for(r=new Array(0),i=0;i<t.get_$1m().get_Count();i++)u=t.get_$1m().get_$R(i),r.push(u.get_$Nm());return r}return null};Microsoft.Crm.Client.Core.ViewModels.$1e.$136=function(n){var u=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(n),i=u.$DN,t,r;if(!$0.$0(i))for(t=0;t<i.get_Count();t++)if(r=i.get_$R(t).get_$1ef(),r)return i.get_$R(t);return null};Microsoft.Crm.Client.Core.ViewModels.$1e.$1aW=function(n,t){var h=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(n),r=h.$DN,i,u,c,l,a,f,o;if(!$0.$0(r))for(i=0;i<r.get_Count();i++)if(u=r.get_$R(i).get_$1m(),c=r.get_$R(i).get_$1ef(),c&&!$0.$0(u))if(Microsoft.Crm.Client.Core.ViewModels.$1e.$14R(t))Microsoft.Crm.Client.Core.ViewModels.$1e.$30U(r.get_$R(i));else for(l=t.endsWith("*"),a=t.startsWith("*"),f=u.get_Count()-1;f>=0;f--){var s=t,e=u.get_$R(f),p=Microsoft.Crm.Client.Core.ViewModels.$1e.$2X6(e.get_$29()),v,y,w=(y=Microsoft.Crm.Client.Core.ViewModels.$1e.$3AD(v={val:s},p),s=v.val,y);w?(o=s,e.get_$Hf()==="like"&&(o=Microsoft.Crm.Client.Core.ViewModels.$1e.$33q(o,l,a)),e.set_$29(o)):r.get_$R(i).$vn(e)}return h.$fV()};Microsoft.Crm.Client.Core.ViewModels.$1e.$14R=function(n){for(var i=!0,t=0;t<n.length;t++)if(n.charAt(t)!=="*"){i=!1;break}return i};Microsoft.Crm.Client.Core.ViewModels.$1c=function(){};Microsoft.Crm.Client.Core.ViewModels.$1c.$1cW=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.ShortDatePattern.toString().replace(new RegExp("/","g"),n.DateSeparator.toString())};Microsoft.Crm.Client.Core.ViewModels.$1c.$1cX=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.ShortTimePattern.toString().replace(new RegExp(":","g"),n.TimeSeparator.toString())};Microsoft.Crm.Client.Core.ViewModels.$1c.$2hF=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.LongDatePattern.toString().replace(new RegExp("/","g"),n.DateSeparator.toString())};Microsoft.Crm.Client.Core.ViewModels.$1c.$2hG=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.LongTimePattern.toString().replace(new RegExp(":","g"),n.TimeSeparator.toString())};Microsoft.Crm.Client.Core.ViewModels.$1c.$2eO=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.AMDesignator.toString()};Microsoft.Crm.Client.Core.ViewModels.$1c.$2iF=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu;return n.PMDesignator.toString()};Microsoft.Crm.Client.Core.ViewModels.$1c.$1Mk=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$1c.$1cW().toUpperCase()+" "+Microsoft.Crm.Client.Core.ViewModels.$1c.$1cX().replace("tt","a");return new moment(n.replace(Microsoft.Crm.Client.Core.ViewModels.$1c.$2eO(),"AM").replace(Microsoft.Crm.Client.Core.ViewModels.$1c.$2iF(),"PM"),t).toDate()};Microsoft.Crm.Client.Core.ViewModels.$1c.$2wh=function(n){var t=null,f=n.lastIndexOf(".")!==-1||n.lastIndexOf("/")!==-1||n.lastIndexOf("-")!==-1,r,i,u;return f&&((r=Microsoft.Crm.Client.Core.ViewModels.$1c.$1cW().toUpperCase(),t=new moment(n,r,!0),!$0.$0(t)&&t.isValid())||(r+=" "+Microsoft.Crm.Client.Core.ViewModels.$1c.$1cX().replace("tt","a"),t=new moment(n,r,!0),!$0.$0(t)&&t.isValid()))?t:(i=Microsoft.Crm.Client.Core.ViewModels.$1c.$2hF().toUpperCase(),i==="DDDD, MMMM D, YYYY"?i="dddd MMMM D, YYYY":i==="DDDD, D MMMM, YYYY"&&(i="dddd, D MMMM, YYYY"),u=i,t=new moment(n,u,!0),!$0.$0(t)&&t.isValid())?t:(u+=" "+Microsoft.Crm.Client.Core.ViewModels.$1c.$2hG().replace("tt","a"),t=new moment(n,u,!0),!$0.$0(t)&&t.isValid())?t:null};Microsoft.Crm.Client.Core.ViewModels.$1c.getTimeInUserPrefTimeZone=function(n){var t=new Date(n.getTime());return t.setMinutes(n.getMinutes()+n.getTimezoneOffset()+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$PW+Microsoft.Crm.Client.Core.Framework.$h.$1HL(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9())),t};Microsoft.Crm.Client.Core.ViewModels.$1c.formatActivitiesSentOrOpenedAsReadableString=function(n,t,i,r,u,f){var e=Microsoft.Crm.Client.Core.ViewModels.$1c.getTimeInUserPrefTimeZone(n),c=Microsoft.Crm.Client.Core.ViewModels.$1c.getTimeInUserPrefTimeZone(new Date),h=e.localeFormat(Microsoft.Crm.Client.Core.ViewModels.$1c.$1cX()),a=e.localeFormat(Microsoft.Crm.Client.Core.ViewModels.$1c.$1cW()),l=(c-e)/1e3,o=Math.floor(l/3600),v=new Date(e.getTime()),y=new Date(c.getTime()),s=Microsoft.Crm.Client.Core.ViewModels.$1c.getDiffDays(v,y),p=c.getFullYear()-e.getFullYear();return l<3600?String.format(t):o>=1&&o<=4?o===1?String.format(i,o):String.format(r,o):s&&s!==1?s>=2&&s<=6?e.localeFormat("ddd")+" "+h:p?a:e.localeFormat("m")+" "+h:s?String.format(f,h):String.format(u,h)};Microsoft.Crm.Client.Core.ViewModels.$1c.getDiffDays=function(n,t){return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),Math.abs((n-t)/864e5)};Microsoft.Crm.Client.Core.ViewModels.$1c.getShortDateTimeFormat=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$1c.getTimeInUserPrefTimeZone(n),i=t.localeFormat(Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortTimePattern.toString()),r=t.localeFormat(Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern.toString());return String.format("{0} {1}",r,i)};Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel=function(){this.$18H=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$14j=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel.prototype={get_StaticLibrariesLoaded:function(){return this.$18H},set_StaticLibrariesLoaded:function(n){return this.$18H=n,n},get_LibrariesLoaded:function(){return this.$14j},set_LibrariesLoaded:function(n){return this.$14j=n,n},$CF:!1,get_Active:function(){return this.$CF},set_Active:function(n){return this.$CF=n,n},$19g:!1,get_DeferredLoad:function(){return this.$19g},set_DeferredLoad:function(n){return this.$19g=n,n},get_ContainerViewModel:function(){return Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6()},add_ScriptStringAdded:function(n){this.$1p("ScriptStringAdded",n)},remove_ScriptStringAdded:function(n){this.$32("ScriptStringAdded",n)},add_ScriptFileAdded:function(n){this.$1p("ScriptFileAdded",n)},remove_ScriptFileAdded:function(n){this.$32("ScriptFileAdded",n)},add_LoadAndRun:function(n){this.$1p("LoadAndRun",n)},remove_LoadAndRun:function(n){this.$32("LoadAndRun",n)},$2XO:function(n){var t=this.$4d("ScriptStringAdded");$0.$0(t)||t(n)},$2XN:function(n){var t=this.$4d("ScriptFileAdded");$0.$0(t)||t(n)},$2XA:function(){var n=this.$4d("LoadAndRun");$0.$0(n)||n()}};Microsoft.Crm.Client.Core.ViewModels.$1W=function(){this.$$d_$FD=Function.createDelegate(this,this.$FD);this.$$d_$2uq=Function.createDelegate(this,this.$2uq);this.$J7=-1;this.$gP=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord));this.$H3=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord));this.$KV=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord));this.$Gz=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord));Microsoft.Crm.Client.Core.ViewModels.$1W.initializeBase(this);this.$J6=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$2Y));this.$gP=null};Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.$1W.$C)&&(Microsoft.Crm.Client.Core.ViewModels.$1W.$C=new Microsoft.Crm.Client.Core.ViewModels.$1W),Microsoft.Crm.Client.Core.ViewModels.$1W.$C};Microsoft.Crm.Client.Core.ViewModels.$1W.prototype={$J6:null,$Uq:null,$16W:null,$mp:null,$8N:0,$gJ:!1,set_$258:function(n){return n!==this.$gJ&&(this.$gJ=n,this.$7("IsWorking")),n},set_$AI:function(n){return this.$8N=n,this.set_$258(this.$8N>0),n},$Rr:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t,i,r;return this.set_$AI(this.$8N+1),t=this,n.always(function(){t.set_$AI(t.$8N-1)}),this.$J7!==-1&&(window.clearTimeout(this.$J7),this.$J7=-1),i=this,r=this,this.$2AE().then(function(){i.$vT().then(function(){n.resolve(!0)},function(t){n.reject(t)})},function(t){n.reject(t)}),n},$wC:function(){if(!Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$AC()){this.$J7!==-1&&window.clearTimeout(this.$J7);var n=this;this.$J7=window.setTimeout(function(){Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.$Rr()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$16X,"RecentlyViewedManager.RefreshLandingPage")},5e3)}},$2AE:function(){var t,n,i,r,u;return this.$mp=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),this.set_$AI(this.$8N+1),t=this,this.$mp.always(function(){t.set_$AI(t.$8N-1)}),n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveRecentlyViewedItemList",null),i=this,n.OnSuccess=function(n){i.$2uv(n)},r=this,n.OnFailure=function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1,"When the recent items were pulling, was got error. "+n.$F);r.$mp.reject(n)},u=new Microsoft.Crm.Client.Core.ViewModels.$I(null,n).$12y(null),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u),this.$mp},$2uv:function(n){this.$Uq&&(this.$Uq.remove_$1fV(this.$$d_$2uq),this.$Uq.$5E());this.$Uq=n;this.$Uq.add_$1fV(this.$$d_$2uq);$0.$0(this.$gP)&&(this.$gP=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord))(this.$Uq.get_EntityCollection().get_entities()));this.$26E();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||this.$mp.resolve()},$2uq:function(){this.$26E();this.$mp.resolve()},$26E:function(){for(var f,s,t,i,c,l,r,a,e=0;e<this.$Uq.get_EntityCollection().get_count();e++){var n=this.$Uq.get_EntityCollection().get_$R(e),o=Microsoft.Crm.Client.Core.Models.$2Y.$2SK(n),h=n.getValue("objecttypecode"),u=this.$21g(h);if(u){for(f=this.$Gz.contains(u),s=0;s<o.length;s++)t=o[s],i=this.$2gu(t.$gZ),i?i.$I6.getTime()<=t.$I6.getTime()?(i.$I6=t.$I6,i.set_$1iP(t.$an),i.$4O=t.$4O):f=!0:(f=!0,this.$J6.add(t));c=this.$20u(h);c.get_Count()>o.length&&(f=!0);f&&(l=Microsoft.Crm.Client.Core.Models.$2Y.$1th(c,h),n.setValue("recentlyviewedxml",l),n.$4w.add("recentlyviewedxml"),this.$Gz.add(n));this.$KV.remove(u);this.$Gz.remove(u);this.$H3.remove(u);this.$H3.add(n)}else this.$H3.add(n),this.$J6.addRange(o)}for(r=0;r<this.$gP.get_Count();r++)a=this.$2Wy(this.$gP.get_$R(r).getValue("objecttypecode"),this.$Uq.get_EntityCollection()),$0.$0(a)&&(this.$KV.add(this.$gP.get_$R(r)),this.$30f(this.$gP.get_$R(r).getValue("objecttypecode")));this.$1gd()},$vT:function(){var n=[],t,e,u,i,o,f,r;return this.$KV.get_Count()>0&&(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord))(this.$KV.toArray()),this.$KV=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord)),e=this,u=this,Array.add(n,this.$H4("CreateMultipleRecentlyViewedItemsAction",t).then(function(){},function(n){u.$KV.addRange(t.toArray());Microsoft.Crm.Client.Core.Framework.Trace.logError(1,"The create of recenting items was finished with error. "+n.$F)}))),this.$Gz.get_Count()>0&&(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord))(this.$Gz.toArray()),this.$Gz=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord)),o=this,f=this,Array.add(n,this.$H4("UpdateMultipleRecentlyViewedItemsAction",i).then(function(){},function(n){f.$Gz.addRange(i.toArray());Microsoft.Crm.Client.Core.Framework.Trace.logError(1,"The updating of recent items was finished with error. "+n.$F)}))),this.set_$AI(this.$8N+1),r=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n).always(function(){r.set_$AI(r.$8N-1)})},$1MH:function(n){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()){this.$3BP(n);var u=this.$20u(n.$8s),i=Microsoft.Crm.Client.Core.Models.$2Y.$1th(u,n.$8s),t=this.$21g(n.$8s);if(t)t.setValue("recentlyviewedxml",i),t.$4w.contains("recentlyviewedxml")||t.$4w.add("recentlyviewedxml"),this.$KV.contains(t)||this.$Gz.contains(t)||this.$Gz.add(t);else{var r=Microsoft.Crm.Client.Core.Framework.Guid.newGuid(),f=new Xrm.Objects.EntityReference("userentityuisettings",r),e={objecttypecode:n.$8s,recentlyviewedxml:i,userentityuisettingsid:r};t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(f,e,{objecttypecode:5,recentlyviewedxml:14,userentityuisettingsid:15},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));t.$4w.add("recentlyviewedxml");t.$4w.add("objecttypecode");t.$4w.add("userentityuisettingsid");this.$KV.add(t);this.$H3.add(t)}this.$wC()}},$2ud:function(n){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()){this.set_$AI(this.$8N+1);var t=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){var i,r,e,u,f;if(!Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(n)){t.set_$AI(t.$8N-1);return}if(i=n.get_ModelContext(),i&&Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(i))if(r=i.$I,r){if(Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)&&(e=n,r.$a.TypeName==="activitypointer")){e.add_$FD(t.$$d_$FD);return}Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$1gy(r)}else t.set_$AI(t.$8N-1);else Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(n)?(u=n,f=u.$g,f===1?Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$2tH("systemform",new Microsoft.Crm.Client.Core.Framework.Guid(u.$q)):f===8||f===13?Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$2tm(u):t.set_$AI(t.$8N-1)):t.set_$AI(t.$8N-1)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$16X,"RecentlyViewedManager.OnPageVisit")}},$2tw:function(n){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()){this.set_$AI(this.$8N+1);var t=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$1gy(n)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$16X,"RecentlyViewedManager.OnItemCreated")}},$FD:function(n){var t=n;t.remove_$FD(this.$$d_$FD);Microsoft.Crm.Client.Core.ViewModels.$1W.get_$6().$1gy(t.get_ModelContext().$I)},$1gy:function(n){this.$1MH(Microsoft.Crm.Client.Core.Models.$2Y.$1aJ(n));this.set_$AI(this.$8N-1)},$2tH:function(n,t){var r=Microsoft.Crm.Client.Core.Framework.$q.$4t("","RecentlyViewedManager"),i=this,u=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(n,r).then(function(u){var f=new Xrm.Objects.EntityReference(n,t);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(f,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([u.get_$ES(),u.get_$Dn()]),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,2),r).then(function(n){$0.$0(n)||i.$1MH(Microsoft.Crm.Client.Core.Models.$2Y.$1aJ(n));i.set_$AI(i.$8N-1)},function(){i.set_$AI(i.$8N-1)})},function(){u.set_$AI(u.$8N-1)})},$2tm:function(n){var t=n.$67("Grid");if($0.$0(t)&&(t=n.$67("GridContainer").$H.List),$0.$0(t))this.set_$AI(this.$8N-1);else{var u=t.get_DefinitionId(),f=t.$D,e=t.$L,o=Microsoft.Crm.Client.Core.Framework.$q.$4t("","RecentlyViewedManager"),i=this,r=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(f,o).then(function(n){i.$1MH(Microsoft.Crm.Client.Core.Models.$2Y.$2rO(u,n.get_$273(),n.get_$8z(),e));i.set_$AI(i.$8N-1)},function(){r.set_$AI(r.$8N-1)})}},$H4:function(n,t){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i={},f,e,u;return i.EntityRecords=t.toArray(),i.QueryType=n,f=this,i.onSuccess=function(){r.resolve(!0)},e=this,i.onFailure=function(n){r.reject(n)},u=new Microsoft.Crm.Client.Core.ViewModels.$I(null,i).$12y(null),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u),r},$2L3:function(n){$0.$0(this.$16W)&&(this.$16W=new Microsoft.Crm.Client.Core.Framework.$AJ);this.$16W.$1p("NotifySubscribersPropertyName",n)},$1gd:function(){var n=this.$16W.$4d("NotifySubscribersPropertyName");$0.$0(n)||n(this.$J6.toArray())},$3BP:function(n){for(var i,t=0;t<this.$J6.get_Count();t++)if(i=this.$J6.get_$R(t),n.$gZ===i.$gZ){i.$I6=n.$I6;i.$4O=n.$4O;this.$1gd();return}this.$J6.insert(0,n);this.$1gd()},$2gu:function(n){for(var t=0;t<this.$J6.get_Count();t++)if(this.$J6.get_$R(t).$gZ===n)return this.$J6.get_$R(t);return null},$20u:function(n){for(var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$2Y)),t=0;t<this.$J6.get_Count();t++)this.$J6.get_$R(t).$8s===n&&i.add(this.$J6.get_$R(t));return i},$21g:function(n){for(var t=0;t<this.$H3.get_Count();t++)if(this.$H3.get_$R(t).getValue("objecttypecode")===n)return this.$H3.get_$R(t);return null},$30f:function(n){if(!$0.$0(this.$Gz)&&this.$Gz.get_Count())for(var t=0;t<this.$Gz.get_Count();t++)if(this.$Gz.get_$R(t).getValue("objecttypecode")===n){this.$Gz.remove(this.$Gz.get_$R(t));return}},$2Wy:function(n,t){var r;if($0.$0(t)||!t.get_count())return null;for(var u=t.get_entities(),f=u.length,i=0;i<f;++i)if(r=u[i],r.getValue("objecttypecode")===n)return r;return null}};Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel=function(){this.$$d_$1hY=Function.createDelegate(this,this.$1hY);this.$$d_$1ha=Function.createDelegate(this,this.$1ha);this.$$d_$27g=Function.createDelegate(this,this.$27g);this.$$d_$2O6=Function.createDelegate(this,this.$2O6);this.$$d_$11K=Function.createDelegate(this,this.$11K);this.$$d_$2UX=Function.createDelegate(this,this.$2UX);this.$$d_$1ZE=Function.createDelegate(this,this.$1ZE);this.$$d_$2tZ=Function.createDelegate(this,this.$2tZ);this.$$d_$He=Function.createDelegate(this,this.$He);this.$$d_$2u6=Function.createDelegate(this,this.$2u6);this.$$d_$2tR=Function.createDelegate(this,this.$2tR);this.$$d_$QG=Function.createDelegate(this,this.$QG);this.$$d_$2se=Function.createDelegate(this,this.$2se);this.get_AttributeMetadata=this.get_$1Vw;this.set_AttributeMetadata=this.set_$1Vw;this.UpdateRelatedEntity=this.$xS;this.get_SuppressDuplicateDetection=this.get_$VL;this.IsFieldLocked=this.$24G;this.UpdateRecordModel=this.$2Hi;Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.initializeBase(this,[39]);this.$JE=new(Microsoft.Crm.Client.Core.ViewModels.$BB.$$(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel));this.$JE.set_$1MC(this.$$d_$2se);this.set_RequestCloseCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$QG,1028));this.$a1=new Microsoft.Crm.Client.Core.ViewModels.Common.$AE(this);this.$PG=null;this.set_UpdateRelatedEntityPending(!1);this.set_UpdateEntityPending(!1);this.$Kd=null;this.$1k=!0;this.$QX=!1;this.$KA=!1;this.$mu=!1;this.$11c=!1;this.$103=!1;this.$1Mp=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7)};Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.prototype={$a1:null,$Ht:null,$hA:null,$1q:null,$JE:null,$18q:null,$Rg:null,$EX:null,$Mp:null,$1l:null,$xO:null,$Ly:null,$18X:null,$1RH:null,$1RG:null,$PG:null,$Bz:null,$HW:null,$xT:!1,$Kd:null,$1Fr:null,$1Ro:!1,$1k:!1,$QX:!1,$KA:!1,$mu:!1,$11c:!1,$103:!1,$1Mp:null,get_SavingText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SavingInformation")+"..."},get_UpdateEntityPending:function(){return this.$1Ro},set_UpdateEntityPending:function(n){return this.$1Ro!==n&&(this.$1Ro=n,this.$7("UpdateEntityPending")),n},get_UpdateRelatedEntityPending:function(){return this.$xT},set_UpdateRelatedEntityPending:function(n){return this.$xT!==n&&(this.$xT=n,this.$7("UpdateRelatedEntityPending")),n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k!==n&&(this.$1k=n,this.$1k||this.$FH("RenderedReadReady")),n},get_EnableEdits:function(){return this.$QX},set_EnableEdits:function(n){return this.$QX!==n&&(this.$QX=n,this.$7("EnableEdits"),this.$QX&&this.$FH("RenderedEditReady")),n},get_$31Y:function(){return!0},get_TaskBasedArguments:function(){return this.$1RG},set_TaskBasedArguments:function(n){return this.$1RG=n,n},get_TaskBasedPageViewDescriptor:function(){return this.$1RH},set_TaskBasedPageViewDescriptor:function(n){return this.$1RH=n,n},get_TaskBasedContainerViewDescriptor:function(){return this.$18X},set_TaskBasedContainerViewDescriptor:function(n){return this.$18X=n,n},get_ModelUpdateActionProvider:function(){return this.$HW},set_ModelUpdateActionProvider:function(n){return this.$HW=n,n},get_RetrieveOptions:function(){return Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq()},get_DisplayName:function(){return this.$1q},set_DisplayName:function(n){return this.$1q=n,n},get_RelationshipList:function(){return this.$Mp},set_RelationshipList:function(n){if($0.$0(n))n={};else if(n===this.$Mp)return n;return this.$Mp=n,this.$7("RelationshipList"),n},get_$1Vw:function(){return $0.$0(this.$1l)&&(this.$1l={}),this.$1l},set_$1Vw:function(n){return this.$1l=n,!$0.$0(this.$1l)&&"?primary?"in this.$1l&&(this.$7("AttributeMetadata"),this.$1Mp.resolve(null)),n},get_$1wK:function(){var n,t,i;if($0.$0(this.$1Fr)&&!$0.$0(this.$H)){n=this.$H;for(t in n){i={key:t,value:n[t]};this.$1Fr=i.value;break}}return this.$1Fr},get_CurrentActivePage:function(){return this.$JE.get_$3EC()},set_CurrentActivePage:function(n){return this.$28v(n),n},get_UnboundAttributeFieldNames:function(){return this.$18q},set_UnboundAttributeFieldNames:function(n){return n===this.$18q?n:(this.$18q=n,n)},get_PrimaryAttributeFieldNames:function(){return this.$Rg},set_PrimaryAttributeFieldNames:function(n){if($0.$0(n))n=new Array(0);else if(n===this.$Rg)return n;return this.$Rg=n,this.$7("PrimaryAttributeFieldNames"),n},get_RelatedAttributeFieldNames:function(){return this.$EX},set_RelatedAttributeFieldNames:function(n){if($0.$0(n))n={};else if(n===this.$EX)return n;return this.$EX=n,this.$7("RelatedAttributeFieldNames"),n},get_FieldMetadata:function(){return this.$Ly},set_FieldMetadata:function(n){return this.$Ly=n,n},get_$VL:function(){return!0},get_$CX:function(){return!$0.$0(this.get_ModelContext())&&this.get_ModelContext().$CX()},get_$n4:function(){var n,t;if(!this.$PG){this.$PG=new Array(0);n=this.$EX;for(t in n){var i={key:t,value:n[t]},r=i.key,u=this.$Mp[r],f=u.TargetEntityTypeName,e=$0.$0(i.value)?new Array(0):i.value,o=new Microsoft.Crm.Client.Core.Storage.DataApi.$MK(f,e),s=o.$2Mj(),h=s.$CC(1);this.$PG.push(new(Microsoft.Crm.Client.Core.Framework.$6E.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship,String))(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(r,0),h))}}return this.$PG},$2Z:function(){var n,t,f,r;if(this.$1a||(this.add_$6F(this.$$d_$2tR),this.add_$FD(this.$$d_$2u6),Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$2Z.call(this),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$TB(this.$$d_$2tZ)),!$0.$0(this.$Ly)&&$0.$0(this.$xO)){n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o));t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));for(var u=this.$Ly,e=u.length,i=0;i<e;++i)f=u[i],r=Microsoft.Crm.Client.Core.ViewModels.$7O.$25W(f),t.add(r.get_$2I()),n.add(r);this.$18q=t.toArray();this.$xO=n.toArray();this.get_$1Vw().unbound=this.$xO}Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("TaskBasedFlowFormPresent",!0)},$2tZ:function(){var n,t,r,i,u,f;if(!this.$103){n=this.$H;for(t in n)r={key:t,value:n[t]},i=r.value,$0.$0(i.$1W2)||(u=this,f=function(){u.back()},Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$1p6(i.$15t.replace("{","").replace("}","")+"_back",f),this.$103=!0)}this.$1WW();Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$TB(this.$$d_$2tZ)},$He:function(){this.set_IsLocked(this.$1WU());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&this.$1co();this.$7("IsServerAvailable")},$1co:function(){this.$103=!1;Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$TB(this.$$d_$2tZ);this.get_$CX()?this.$Hw(1,!0):Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1co.call(this)},$2tR:function(){this.$38U()},$2u6:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("CheckTaskBasedFlowStatus",null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$39A:function(n,t,i,r){var u={},f;u.EntityLogicalName=r.LogicalName;u.EntityId=r.Id.toString();f=this.$sS(i,r);u.PrimaryAttributeFieldNames=f in this.$EX?this.$EX[f]:new Array(0);u.RelatedEntitiesQuery=null;u.RelatedAttributes=null;u.RetrieveOptions=Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz();u.OnSuccess=n;var o=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleRecords",null),s=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),e=s.$XL(this,o,u);e.add_$AT(this.$$d_$1ZE);e.add_$Qe(t);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(e)},$1Kw:function(n,t,i){var r=this;this.$1Mp.done(function(){$0.$0(r.$Rg)||$0.$0(r.$Mp)||(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jG(r.get_ViewModelId()),r.$2mN(),$0.$0(t)&&(t=function(){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$MZ.call(r,r.$Bz);r.$jf()}),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1Kw.call(r,n,t,i))})},$1gR:function(n){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1gR.call(this,n);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$np(this.get_ViewModelId())},$12y:function(){var n={};return n.EntityLogicalName=this.$D,n.EntityId=this.$hA.toString(),n.PrimaryAttributeFieldNames=this.$Rg,n.RelatedEntitiesQuery=this.get_$n4(),n.RelatedAttributes=this.$EX,n.RetrieveOptions=this.get_RetrieveOptions(),this.$Ig.$B1(n)},$Oh:function(){this.set_RequestCloseCommand(null);this.$a1.$5E();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$He);Microsoft.Crm.Client.Core.ViewModels.$SU.prototype.$Oh.call(this)},$Rr:function(){this.$vh(!0)},$vh:function(n,t){var r;if(!this.get_$CX()||t)return this.get_$CX()?(r=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),this.$1sR(n,r),r):this.$qN(n);var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),u=this,f=this;return this.$2Hb(1,null).then(function(t){t?u.$29P(n,i):u.get_$CX()&&u.$1sR(n,i)},function(n){i.reject(n)}),i.promise()},$1sR:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),r,u;this.$XA(i,!1,!0,"Web._forms.styles.FORM.crm.htc_Title");r=this;u=this;i.then(function(i){i?r.$29P(n,t):t.resolve(null)},function(n){t.reject(n)})},$29P:function(n,t){var i=this,r=this;this.$qN(n).then(function(n){t.resolve(n)},function(n){t.reject(n)})},$qN:function(n){var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t,r,u,f;return(($0.$0(n)||n)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1jh(4),t=null,r=null,!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())&&(t=this.get_ModelContext().$2b,r=this.$2ML(t,i)),u=Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$vh.call(this),!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext()))?(f=this,u.fail(function(n){i.reject(n);t.remove_$7v(r)}),i):u},refreshWithoutScriptReload:function(){this.$vh(!1)},$2ML:function(n,t){var i=null,r=this;return i=function(u,f){var e=f;e.$VD===1&&(n.remove_$7v(i),r.$1n9(),$0.$0(t)||t.resolve(null))},n.add_$7v(i),i},$xS:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),s,u,f,c,e,r,l,o,a,h;if(this.$xT)return i.resolve(!1);if(this.set_UpdateRelatedEntityPending(!0),s=this.$2if(n),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1Rk(this.get_ModelContext().get_$2m()),!$0.$0(s)&&s.$CX()){for(u=this.$sS(n,s.$I.$a),f={},$0.$0(t)?f.AdditionalEntityToRetrieveRelationship=u:(f.AdditionalEntityToRetrieveBindingFieldName=n,f.AdditionalEntityToRetrieve=t),c=new Array(0),e=0;e<this.get_$n4().length;e++)this.get_$n4()[e].get_$8a().$Eb!==u&&c.push(this.get_$n4()[e]);f.RelatedEntitiesQuery=c;r=this;l=this;this.$Hw(1,!1,f).then(function(f){if(r.set_UpdateRelatedEntityPending(!1),r.$7("MultipleEntityAttributeFormModelUpdate"),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$n3(r.get_ModelContext().get_$2m()),f){if($0.$0(t))r.$1n9(u);else{var e=r.$sS(n,t);e!==u&&r.$1n9(u)}i.resolve(!0)}else i.resolve(!1)},function(n){l.$xT=!1;Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$n3(l.get_ModelContext().get_$2m());i.reject(n)})}else o=this,a=function(r){var u=$0.$0(r)||!r.$s()?null:r.$1mk()[0];o.$2yj(n,t,u);o.set_UpdateRelatedEntityPending(!1);o.$7("MultipleEntityAttributeFormModelUpdate");Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$n3(o.get_ModelContext().get_$2m());i.resolve(!0)},$0.$0(t)?a(null):(h=this,this.$39A(a,function(){h.set_UpdateRelatedEntityPending(!1);h.$7("MultipleEntityAttributeFormModelUpdate");Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$n3(h.get_ModelContext().get_$2m());i.reject(null)},n,t));return i.promise()},$2if:function(n){var u=null,i,t,e,o;if(!$0.$0(this.get_ModelContext())){i=this.get_ModelContext();for(var f=i.$42.get_$2ph(),s=f.length,r=0;r<s;++r)if(t=f[r],t in this.$Mp&&(e=this.$Mp[t],o=e.ReferencingName,o===n)){u=i.$42.get_$R(t);break}}return u},$sS:function(n,t){var i,r,u,o;if($0.$0(t))return null;i=null;r=this.$Mp;for(u in r){var f={key:u,value:r[u]},e=f.value,s=e.ReferencingName;if(s===n&&(o=e.TargetEntityTypeName,o===t.LogicalName)){i=f.key;break}}return i},$Hw:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Object),u=n===2,e,o,f;return Microsoft.Crm.Client.Core.Framework.$6.$4N?(e=Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093991),r.reject(e)):(this.$BY?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?(o=this,f=this,this.$2Hb(n,i).then(function(n){n?r.resolve(!0):o.$XA(r,u,t,"Web._forms.styles.FORM.crm.htc_Title")},function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?f.$1sS(r,u,t,"Mobile_TaskBasedFlow_Error_When_Saving_Message",f.$Bz):f.$XA(r,u,t,"Mobile_TaskBasedFlow_Offline_Message","Mobile_TaskBasedFlow_Offline_Title")})):this.$XA(r,u,t,"Mobile_TaskBasedFlow_Offline_Message","Mobile_TaskBasedFlow_Offline_Title"):this.$2nz()?this.$XA(r,u,t,"Mobile_TaskBasedFlow_Error_When_Saving_Message"):this.$38S(),r.promise())},$2Hb:function(n,t){var f=MscrmComponents.DeferredPromiseFactory(Boolean,Object),a,e,u,i,r,s,v,h,o,c,l;return Microsoft.Crm.Client.Core.Framework.$6.$4N?(a=Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093991),f.reject(a)):(e=this.get_ModelContext(),e.$2zi(),u={},u.SaveMode=n,$0.$0(t)||(i="RelatedEntitiesQuery",u[i]=i in t?t[i]:this.get_$n4(),r=null,i="AdditionalEntityToRetrieve",i in t&&!$0.$0(t[i])?(s=t[i],u[i]=s,i="AdditionalEntityToRetrieveBindingFieldName",v=t[i],r=this.$sS(v,s),r in this.$EX&&(i="AdditionalEntityToRetrieveAttributes",u[i]=this.$EX[r]),i="AdditionalEntityToRetrieveRelationship",u[i]=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(r,0)):(i="AdditionalEntityToRetrieveRelationship",r=t[i]),h=this,u.OnSuccess=function(n){var t=r in h.$EX?h.$EX[r]:new Array(0),i=e.$42.$3F5(r)?e.$42.get_$R(r).$I:null,u;$0.$0(n)?Microsoft.Crm.Client.Core.Models.$2A.$xS(e,r,t,i,null):(u=Microsoft.Crm.Client.Core.Storage.Common.ColumnSet.isInstanceOfType(n.$4b)?n.$4b.$4A:null,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$xX(n,u).done(function(){Microsoft.Crm.Client.Core.Models.$2A.$xS(e,r,t,i,n)}))}),this.$Kd=f,o=this.$HW.$B1(u),o.add_$AT(this.$$d_$2UX),c=this,o.add_$by(function(){c.$Kd=null;c.get_$CX()?f.resolve(!1):f.resolve(!0)}),l=this,o.add_$Qe(function(){l.$Kd=null;f.reject(l.$Bz)}),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(o),f.promise())},$2yj:function(n,t,i){var u=this.get_ModelContext(),e=u.$2b.$I.getValue(n),r=!$0.$0(e)&&Xrm.Objects.EntityReference.isInstanceOfType(e)?this.$sS(n,e):null,o=r in this.$EX?this.$EX[r]:new Array(0),s=u.$42.$3F5(r)?u.$42.get_$R(r).$I:null,f=$0.$0(t)?null:this.$sS(n,t),h;r!==f?($0.$0(r)&&(h=f in this.$EX?this.$EX[f]:new Array(0),Microsoft.Crm.Client.Core.Models.$2A.$xS(u,f,h,null,i)),Microsoft.Crm.Client.Core.Models.$2A.$xS(u,r,o,s,null),this.$1n9(r)):Microsoft.Crm.Client.Core.Models.$2A.$xS(u,f,o,s,i)},$38U:function(){$0.$0(this.get_$1wK())||(this.$JE.set_$3EH(!0),this.$JE.get_$3EE().$86(),this.set_CurrentActivePage(this.get_$1wK()))},$33r:function(){this.$2Cg();!this.get_$CX()||Microsoft.Crm.Client.Core.Framework.$6.$4N?(this.$11K(),this.$16u(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1XY,!0)):(this.$2Cj(),this.$16u(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1XY,!0))},$2Cj:function(){this.set_UpdateEntityPending(!0);var n=this,t=this;this.$Hw(2,!0).then(function(t){n.set_UpdateEntityPending(!1);t&&n.$jf()},function(){t.set_UpdateEntityPending(!1);t.$11K()})},$QG:function(){if(this.$2Cg(),!this.get_$CX()||Microsoft.Crm.Client.Core.Framework.$6.$4N)this.$11K(),this.$16u(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1BV,!0);else{var n=this,t=this;this.$38Z(function(){n.$2Cj();n.$16u(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1BV,!0)},function(){t.$11K();t.$16u(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1BV,!1)})}},$2Cg:function(){var n=this.$4d("RootPreNavigation");n&&n(this,null)},$jf:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$12c(this.$1P);$0.$0(n)?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10c(this):n(this);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("TaskBasedFlowFormPresent",!1)},$eV:function(){if(this.get_$CX())try{Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1Rk(this.get_ModelContext().get_$2m());var n=this.get_ModelContext();n.$eV()}catch(t){Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1034,"Failed to discard the changes for the Task based flow '{0}' with error '{1}'",this.$Ht,t.message)}},$11K:function(){this.$eV();this.$jf()},$2nz:function(){for(var t,n=this.$JE.get_$3EE().get_$s()-1;n>0;--n)if(t=this.$JE.get_$3EE().get_$R(n),t.$BY)return!0;return!1},$2gC:function(){for(var t,n=null,i=0;i<this.$AZ.get_Count();++i)t=this.$AZ.get_Items()[i],t.$L.split("_edit").length>1&&(n=$0.$0(n)?t.$1G:n+", "+t.$1G);return n},$38S:function(){var n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_UnableToSave_Message");n=n+"\n\n"+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Name_Of_TaskBasedFlow_Text")+this.$1q+"\n\n"+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Fields_In_Error_Text")+this.$2gC();Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_UnableToSave_Title"),n,1,this.$$d_$11K,this.$$d_$2O6,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Discard_And_Exit_Text"),null)},$2O6:function(){this.set_UpdateEntityPending(!1);this.set_UpdateRelatedEntityPending(!1)},$38Z:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_SaveDiscard_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_SaveDiscard_Message"),1,n,t,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Save_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Discard_Text"))},$XA:function(n,t,i,r,u,f){$0.$0(u)&&(u="Mobile_TaskBasedFlow_Error_When_Saving_Title");$0.$0(f)&&(f="");var e=this,o=this;Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4(u),Microsoft.Crm.Client.Core.Framework.Common.$2.$4(r)+f,1,function(){e.$eV();n.resolve(i)},function(){n.resolve(!1)},Microsoft.Crm.Client.Core.Framework.Common.$2.$4(t?"Mobile_TaskBasedFlow_CloseDiscard_Text":"Mobile_TaskBasedFlow_DiscardChanges_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_ReturnToTaskFlow_Text"))},$1sS:function(n,t,i,r,u){var e=null,f=null,o;if(!$0.$0(u)){o=u.$m;switch(o){case-2147204784:e="Mobile_TaskBasedFlow_UnableSaveWorkFlow_Title";f=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_TaskBasedFlow_UnableSaveWorkFlow_Message");break;default:f=Microsoft.Crm.Client.Core.Framework.Common.$2.$sJ(u)}f="\n\n"+f}this.$XA(n,t,i,r,e,f)},$MZ:function(n){this.$Bz=n;$0.$0(n)||n.$m!==-2147084512||Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(n.$m,this.$$d_$QG,n)},$2lD:function(){this.$JE.get_$2lY()?this.back():this.$QG()},back:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?this.$JE.$3EL():this.$2FS()},open:function(n){n in this.$H&&this.$28v(this.$H[n])},$28v:function(n){$0.$0(n)||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?this.$JE.get_$3EH()?this.$JE.$3EK(n):this.$2VA(null,this.$$d_$11K):this.$2FS())},$2FS:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Object),t,i;this.$XA(n,!0,!0,"Mobile_TaskBasedFlow_Offline_Message","Mobile_TaskBasedFlow_Offline_Title");t=this;i=this;n.then(function(n){n&&t.$jf()},function(){i.$jf()})},$2se:function(){this.$1RH=this.$18X.ChildControlViewDescriptors[this.get_CurrentActivePage().$L];this.$2HB();this.$7("CurrentActivePage")},$2VA:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_Error_On_Page_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_Error_On_Page_Message"),1,n,t,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dialog_Button_Ok"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Exit_And_Cancel_Text"))},$1ZE:function(n){n.dispose()},$2UX:function(n){n.dispose()},$2mN:function(){var t,r,e,u,n;if($0.$0(this.get_ModelContext())){if(t=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2y)),!$0.$0(this.$xO))for(var f=this.$xO,o=f.length,i=0;i<o;++i)r=f[i],t.set_$R(r.get_$2I(),r);e=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(new Xrm.Objects.EntityReference(this.$D,this.$hA),{},{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)),new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(new Array(0)),this.get_RetrieveOptions(),"");u=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord));u.set_$R("?primary?",e);n=Microsoft.Crm.Client.Core.Models.$3w.$1If(this.$1P,this.$Ht,this.$D,t,u);$0.$0(n)||$0.$0(n.$2b)||this.$2ML(n.$2b);this.set_ModelContext(n);this.$11c=!1;this.AddPropertyChangedListener("InvalidViewModels",this.$$d_$27g)}},$27g:function(){if(this.$2HB(),this.$11c){var n="FieldErrorNotification";this.$AZ.get_Count()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top()===this.$2&&Microsoft.Crm.Client.Core.ViewModels.$10.$wc(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Notification_Field_Error"),3,n,null,-1):Microsoft.Crm.Client.Core.ViewModels.$10.$Lc(n)}},$2HB:function(){$0.$0(this.get_CurrentActivePage())||(this.$JE.set_$3EH(this.get_CurrentActivePage().$BY),$0.$0(this.get_CurrentActivePage().$1Lj)||this.get_CurrentActivePage().$1Lj.set_Enabled(this.$JE.get_$3EH()))},$1n9:function(n){var o,t,i,r,u;if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){o=this.get_ModelContext();t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$2v));for(var s=this.$AZ.get_Items(),c=s.length,f=0;f<c;++f)i=s[f],r=i.get_Name().split(":"),r.length===2&&($0.$0(n)?o.$42.$3F5(r[0])||t.add(i):r[0]===n&&t.add(i));if(t.get_Count()>0){for(var h=t.get_Items(),l=h.length,e=0;e<l;++e)u=h[e],u.set_$qu(null),u.set_$KO(null),this.$AZ.remove(u);this.$7("InvalidViewModels")}}},$16u:function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MS(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1s1);i.$h(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2GU,this.$Ht);i.$h(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1s0,n);i.$h(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2Cl,t);i.$h(Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2Gv,this.$JE.get_$3EE().get_$s());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i)},$Hd:function(){Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Hd.call(this);this.$11G();this.$1Vv();!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())&&this.set_IsLocked(this.$1WU());this.$1WW()},$1WU:function(){if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){var n=this.get_ModelContext().$2b;return this.$1qm(n)}return!0},$1qm:function(n){return Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$1WU.call(this)||n.get_$sz()||Microsoft.Crm.Client.Core.Framework.$6.$4N||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$14N(n.$I.$2A.LogicalName,n,2)},$24G:function(n){if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){var i=this.get_ModelContext(),t=i.$12a(n);return $0.$0(t)?!0:this.$1qm(t)}return this.get_IsLocked()},$1Vv:function(){if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){var n=this.get_ModelContext().$2b;n.add_$7v(this.$$d_$1ha);n.add_$mv(this.$$d_$1hY)}},$11G:function(){if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){var n=this.get_ModelContext().$2b;n.remove_$7v(this.$$d_$1ha);n.remove_$mv(this.$$d_$1hY)}},$1ha:function(n,t){var i=t;i.$VD!==1||i.$bD!==1||this.$mu||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedReadReady",0,this.$1P),this.$mu=!0,this.$1WW(),this.$7("MultipleEntityAttributeFormModelUpdate"))},$1hY:function(){!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())&&this.set_IsLocked(this.$1WU())},$1WW:function(){if(!$0.$0(this.get_ModelContext())&&Microsoft.Crm.Client.Core.Models.$3w.isInstanceOfType(this.get_ModelContext())){var n=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$t;if(this.$KA||(this.$FH("RenderedInitialData"),this.$KA=!0),this.get_ModelContext().$2b.$Ki){if(!n||n===1||n===4){this.set_EnableEdits(!1);this.set_IsLoading(!1);return}}else{this.set_EnableEdits(!1);return}this.set_EnableEdits(!0);this.set_IsLoading(!1)}},$2Hi:function(n){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),i;return this.$11c=!0,i=this.get_ModelContext().$2b,i.$2Hi(n.get_$R("?primary?")),this.$7("MultipleEntityAttributeFormModelUpdate"),this.$7("InvalidViewModels"),t.resolve(null),t}};Microsoft.Crm.Client.Core.ViewModels.$BB=function(){this.$aA=new(Microsoft.Crm.Client.Core.Framework.$8k.$$(this.$$gta["Microsoft.Crm.Client.Core.ViewModels.$BB"].T))};Microsoft.Crm.Client.Core.ViewModels.$BB.$$=function(n){var t="$BB$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!Microsoft.Crm.Client.Core.ViewModels[t]){r=Microsoft.Crm.Client.Core.ViewModels[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Microsoft.Crm.Client.Core.ViewModels.$BB"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Microsoft.Crm.Client.Core.ViewModels.$BB.apply(this,i)};r.registerClass("Microsoft.Crm.Client.Core.ViewModels."+t);u=Microsoft.Crm.Client.Core.ViewModels.$BB.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return Microsoft.Crm.Client.Core.ViewModels[t]};Microsoft.Crm.Client.Core.ViewModels.$BB.prototype={$1MB:null,$1Cu:!0,get_$3EC:function(){return this.$aA.get_$s()>0?this.$aA.get_$R(this.$aA.get_$s()-1):null},get_$3EE:function(){return this.$aA},set_$1MC:function(n){return this.$1MB=n,n},get_$3EH:function(){return this.$1Cu},set_$3EH:function(n){return this.$1Cu=n,n},get_$2lY:function(){return this.$aA.get_$s()>1},$3EK:function(n){this.$1Cu&&(this.$1nf(n),this.$aA.$3w(n),this.$28D())},$3EL:function(){this.get_$2lY()&&(this.$aA.$vm(this.$aA.get_$s()-1),this.$28D())},$1nf:function(n){if(!n)throw Error.argumentNull("viewModel","You cannot add a null ViewModel");},$28D:function(){$0.$0(this.$1MB)||this.$1MB()}};Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel=function(){this.$$d_$2ks=Function.createDelegate(this,this.$2ks);this.$$d_$2l7=Function.createDelegate(this,this.$2l7);Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel.prototype={$v2:null,$15t:null,$1Ec:null,$18S:null,$1Lj:null,$1W2:null,$1eO:!1,get_PageId:function(){return this.$15t},set_PageId:function(n){return this.$15t=n,n},get_PageName:function(){return this.$v2},set_PageName:function(n){return this.$v2=n,n},get_DefaultNextPageName:function(){return this.$1Ec},set_DefaultNextPageName:function(n){return this.$1Ec=n,n},get_IsListTab:function(){return this.$1eO},set_IsListTab:function(n){return this.$1eO=n,n},$2Z:function(){var n,t,i;if(!this.$1a){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);n=this.$H;for(t in n){i={key:t,value:n[t]};Microsoft.Crm.Client.Core.ViewModels.$2I.isInstanceOfType(i.value)&&(this.$18S=i.value);break}this.set_Label(this.$18S.$1G);this.$18S.AddPropertyChangedListener("Label",this.$$d_$2l7);this.$2.AddPropertyChangedListener("ModelContext",this.$$d_$2ks);this.loadBackAndNextButton()}},$2ks:function(){this.set_ModelContext(this.$2.get_ModelContext())},$2l7:function(){this.set_Label(this.$18S.$1G)},loadBackAndNextButton:function(){var i,r,t,n,u;if(!$0.$0(this.$H)){i=this.$H;for(r in i)if(t={key:r,value:i[r]},!$0.$0(t.value)&&Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(t.value)){n=t.value.$H.Footer;!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&(u=this.$15t.split("{")[1].split("}")[0],this.$1Lj=n.$H[u.trim()+"_next_readonly"],this.$1W2=n.$H[u.trim()+"_back_readonly"]);break}}}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls");Microsoft.Crm.Client.Core.ViewModels.Controls.$5G=function(n){(this.$$d_$34d=Function.createDelegate(this,this.$34d),$0.$0(n))||(this.$2s=new ChartConfigObject,n.get_$f()&&(this.$5v=!0,this.$1PH=n.$1B9,Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1PH)||(this.$1EM=!1),this.$36g(n)),this.$36l(n.$5i),this.$36i(),this.$2s.colors=n.$Cv,this.$36m(n.$xj),this.$36n(n.$19E),this.$36k(n.$Ho,n.$xj,n.$zn),n.$2.$g===17&&Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(this.$2s.chart.marginTop=30),this.$36h(n.$Im),this.$2UQ(),this.$37o(),this.$5v&&this.$37Q(),this.$2xy())};Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$1aQ=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.$5G(n);return t.$2s};Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$1zu=function(n,t){t.val="";switch(n.toUpperCase()){case"BAR":return"bar";case"COLUMN":return"column";case"PIE":return"pie";case"STACKEDCOLUMN":return t.val="normal","column";case"STACKEDCOLUMN100":return t.val="percent","column";case"STACKEDBAR":return t.val="normal","bar";case"STACKEDBAR100":return t.val="percent","bar";case"LINE":return"line";case"FUNNEL":return"funnel";case"AREA":return"area";case"STACKEDAREA":return t.val="normal","area";case"STACKEDAREA100":return t.val="percent","area";default:throw new Microsoft.Crm.Client.Core.Framework.$50(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_Unsupported_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_Unsupported_Message")).$1mm();}};Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$2Eq=function(n,t,i){return $0.$0(i)?!1:(n[t]=i,!0)};Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.prototype={$2s:null,$1SQ:0,$1SP:0,$5v:!1,$1EM:!0,$1PH:null,$1Ww:null,$36g:function(n){this.$1Ww=n},$36l:function(n){var t=this.$2s.title,i;t.text=n?n.Text.toUpperCase():"";t.align="left";t.verticalAlign="top";t.floating=!0;t.useHTML=!0;i={};i.color="#d89a57";i.fontSize="#12px";i.fontFamily=this.$5v?'"Segoe UI Semibold", Tahoma, sans-serif':"Segoe UI Semibold, SegoeUI-Semibold";i.width="#300px";t.style=i},$36i:function(){this.$2s.plotOptions=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rq();this.$2s.plotOptions.series=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tR();this.$2s.plotOptions.series.animation=!1;this.$5v&&(this.$2s.plotOptions.series.point={},this.$2s.plotOptions.series.point.events={},this.$2s.plotOptions.series.point.events.legendItemClick=this.$$d_$34d,this.$2s.plotOptions.series.events={},this.$2s.plotOptions.series.events.legendItemClick=this.$$d_$34d)},$34d:function(){return!1},$36m:function(n){var e,t,r,f,c,i,u;if(n&&n.length>0)for(var s=n,h=s.length,o=0;o<h;++o)e=s[o],t={},t.gridLineDashStyle="ShortDot",t.gridLineColor="#d6d6d6",t.lineColor="#d6d6d6",t.endOnTick=!0,t.startOnTick=!0,r={},r.color=this.$5v?"#FFFFFF":"#666666",r.fontSize=this.$5v?"12px":"11px",this.$5v&&(r.lineheight="18px"),r.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI",f={},f.style=r,f.overflow="justify",this.$5v&&(c=this,f.formatter=function(){var t=this.value,n=t.toString(),i;return $0.$0(n)?"":n.length>10?(i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityContainerControl.SubjectEllipsesText"),n.substr(0,7)+i):t.toString()}),t.labels=f,i={},Microsoft.Crm.Client.Core.Framework.$3.$12(e.Title)||this.$5v?i.text=null:(i.text=e.Title,u={},u.color=this.$5v?"#FFFFFF":"#666666",u.fontSize="11px",u.fontFamily=this.$5v?'"Segoe UI Semibold", Tahoma, sans-serif':"Segoe UI Semibold, SegoeUI-Semibold",u.fontWeight="normal",i.style=u,i.margin=15,i.align="low",i.x=-4),t.title=i,Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$2Eq(t,"categories",e.Values),this.$1SP%2&&(t.opposite=!0),this.$1SP++,Array.add(this.$2s.xAxis,t)},$36n:function(n){var o,t,f,r,c,i,u;if(n&&n.length>0)for(var s=n,h=s.length,e=0;e<h;++e)o=s[e],t={},t.gridLineDashStyle="ShortDot",t.gridLineColor="#d6d6d6",t.lineWidth="1",t.lineColor="#d6d6d6",t.endOnTick=!0,t.startOnTick=!0,f={},f.color=this.$5v?"#FFFFFF":"#666666",f.fontSize="11px",f.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI",r={},r.style=f,r.overflow="justify",c=this,r.formatter=function(){return""+String.localeFormat("{0:N}",this.value)},this.$5v&&(t.gridLineWidth=0,r.enabled=!1),t.labels=r,i={},Microsoft.Crm.Client.Core.Framework.$3.$12(o.Title)||this.$5v?i.text=null:(i.text=o.Title,u={},u.color="#666666",u.fontSize="11px",u.fontFamily=this.$5v?'"Segoe UI Semibold", Tahoma, sans-serif':"Segoe UI Semibold, SegoeUI-Semibold",u.fontWeight="normal",i.style=u,i.margin=15,i.align="low",i.x=-4),t.title=i,this.$1SQ%2&&(t.opposite=!0),this.$1SQ++,Array.add(this.$2s.yAxis,t)},$36j:function(n){n.color=this.$2WN(this.$1PH,n.name)},$36k:function(n,t,i){var u,r,f,c,l,e,o,a;if(n&&n.length>0)for(var h=n,v=h.length,s=0;s<v;++s)u=h[s],r=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tR(),r.color=u.Color,r.borderWidth=u.BorderWidth,r.borderColor=u.BorderColor,$0.$0(u.Title)||(r.name=u.Title),this.$5v&&!this.$1EM&&this.$36j(r),!$0.$0(u.YAxisNumber)&&u.YAxisNumber<this.$1SQ&&u.YAxisNumber>0&&(r.yAxis=u.YAxisNumber),!$0.$0(u.XAxisNumber)&&u.XAxisNumber<this.$1SP&&u.XAxisNumber>0&&(r.xAxis=u.XAxisNumber),e=(l=Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$1zu(u.ChartType,c={val:f}),f=c.val,l),r.type=e,!$0.$0(f)&&f.length&&(r.stacking=f),o=!1,this.$37e(r,u.$1EJ),r.allowPointSelect=i,r.states={},r.states.select=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rs(),e==="pie"?(this.$37f(r),o=!0):e==="funnel"&&(this.$37d(r),o=!0),this.$5v&&(r.cursor="pointer"),a=this.$2jA(u,t,o),r.data=a,this.$2s.series[this.$2s.series.length]=r},$36u:function(n,t){try{var i=t.Aggregators[0];n.color=this.$2WO(i.FieldName,Number.parseInvariant(i.Value))}catch(r){Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1008,r.message);n.color="#3F94E9"}},$2jA:function(n,t,i){var f=new Array(0),u,r,e,o,s,h;if(n.DataPoints)for(u=0;u<n.DataPoints.length;u++)$0.$0(n.DataPoints[u].Value)?(h=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tS(),h.y=null,f[f.length]=h):(r=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tS(),i&&(r.name=t[0].Values[u]),r.y=n.DataPoints[u].Value,r.Aggregators=n.DataPoints[u].Aggregators,r.FormattedValue=n.DataPoints[u].FormattedValue,r.events=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tQ(),e=this,r.events.click=function(){if(!$0.$0(e.$2s.HighchartSeriesPointClicked)){var n=this;e.$2s.HighchartSeriesPointClicked(n)}},o=this,r.events.select=function(){if(!$0.$0(o.$2s.HighchartSeriesPointSelected)){var n=this;o.$2s.HighchartSeriesPointSelected(n)}},s=this,r.events.unselect=function(){if(!$0.$0(s.$2s.HighchartSeriesPointUnselected)){var n=this;s.$2s.HighchartSeriesPointUnselected(n)}},this.$5v&&this.$1EM&&this.$36u(r,n.DataPoints[u]),f[f.length]=r);return f},$37f:function(n){var t,r,i;n.cursor="pointer";n.borderWidth=1;n.borderColor="#ffffff";n.showInLegend=!0;t={};t.enabled=!0;t.softConnector=!0;t.distance=18;r=this;t.formatter=function(){return""+this.point.FormattedValue};i={};i.color=this.$5v?"#FFFFFF":"#666666";i.fontSize="11px";i.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI";t.style=i;n.dataLabels=t},$37e:function(n,t){var r,u,i,f,e;t&&t.Enabled&&(r={},r.enabled=t.Enabled,t.LabelFormatter&&(r.formatter=t.LabelFormatter),u={},u.color="#666666",u.fontSize=this.$5v?"12px":"11px",u.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI",r.style=u,n.dataLabels=r);this.$5v&&(i={},i.enabled=!0,f={},f.color="#FFFFFF",f.fontSize="12px",i.style=f,$0.$0(t)||$0.$0(!!t.LabelFormatter)?(e=this,i.formatter=function(){return this.point.FormattedValue!=null?this.point.FormattedValue:"0"}):i.formatter=t.LabelFormatter,n.dataLabels=i)},$37d:function(n){var t,r,i;n.neckHeight="20%";n.neckWidth="40%";n.borderWidth=1;n.borderColor="#ffffff";n.showInLegend=!0;t={};t.enabled=!0;t.softConnector=!1;t.distance=1;r=this;t.formatter=function(){return""+this.point.FormattedValue};i={};i.color=this.$5v?"#FFFFFF":"#666666";i.fontSize="11px";i.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI";t.style=i;n.dataLabels=t;this.$2s.chart.marginBottom=62;this.$2s.chart.marginRight=70;this.$2s.chart.marginLeft=35},$36h:function(n){var t,u,r,i;n&&(Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.$2Eq(this.$2s.legend,"enabled",n.Enabled),this.$2s.legend.align="left",this.$2s.legend.verticalAlign="bottom",this.$2s.legend.floating=!0,this.$2s.legend.layout=this.$5v?"horizontal":"vertical",t={},t.color=this.$5v?"#FFFFFF":"#000000",t.fontSize=this.$5v?"12px":"11px",t.fontFamily=this.$5v?'"Segoe UI", Tahoma, sans-serif':"Segoe UI, SegoeUI",this.$5v&&(t.fontWeight="normal"),this.$2s.legend.borderWidth=0,this.$2s.legend.itemStyle=t,this.$2s.legend.padding=13,this.$2s.legend.symbolWidth=this.$5v?12:15,this.$2s.legend.symbolPadding=5,this.$2s.legend.x=this.$5v?0:-13,this.$2s.legend.itemMarginTop=this.$5v?10:12,this.$5v&&(this.$2s.legend.enabled=!0,this.$2s.legend.verticalAlign="top",this.$2s.legend.maxHeight=60,u=this,this.$2s.legend.labelFormatter=function(){var t=this.name,n="",i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityContainerControl.SubjectEllipsesText");return $0.$0(t)||(n=t.toString(),n.length>15&&(n=n.substr(0,15-i.length)+i)),n},r={},r.color="#FFFFFF",this.$2s.legend.itemHoverStyle=r,i={},i.activeColor="#FFFFFF",i.inactiveColor="#444444",i.style={},i.style.color="#999999",this.$2s.legend.navigation=i,this.$2s.legend.itemStyle.cursor="default"))},$2UQ:function(){this.$2s.credits.enabled=!1},$37o:function(){var n,t;this.$2s.tooltip.enabled=this.$5v?!0:!1;this.$5v&&(n=this.$2s.series.length&&(this.$2s.series[0].type==="pie"||this.$2s.series[0].type==="funnel")?'Series:"{series.name}"  Point:"{point.name}"<br/> Value: "{point.y}"':'Series:"{series.name}"  Point:"{point.category}"<br/> Value: "{point.y}"',this.$2s.tooltip.pointFormat=n,t="",this.$2s.tooltip.headerFormat=t)},$37Q:function(){(this.$2s.series[0].type==="bar"||this.$2s.series[0].type==="column"||this.$2s.series[0].type==="pie"||this.$2s.series[0].type==="funnel")&&(this.$2s.tooltip.followPointer=!0)},$2xy:function(){var f=0,n,i,t,r,u;if(this.$2s.series&&this.$2s.series.length>0)for(n=0;n<this.$2s.series.length;n++)i=this.$2s.series[n],t=this.$2s.xAxis[n],i.type==="bar"&&(i.data.reverse(),$0.$0(t)||"categories"in t&&t.categories.reverse()),r=null,u=null,i.type==="bar"?(r=this.$2s.yAxis[n],u=t):(r=t,u=this.$2s.yAxis[n]),f=this.$2yc(r,f),this.$2yt(u);this.$2s.CrmConfiguration.maxLengthCategoryName=f},$2yc:function(n,t){var u,f,i,s,e,h,r,o,c;if(!$0.$0(n)){if(u=!1,f="categories"in n,f){if(i=n.categories,i.length<2)return t;if(i.length>15)return s=n.labels,s.enabled=!1,t;for(e=3,i.length>9&&(e=1),h=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityContainerControl.SubjectEllipsesText"),r=0;r<i.length;r++)i[r].length>e&&(this.$5v||i[r].length>20&&(i[r]=i[r].substr(0,17)+h),u=!0,t=t<i[r].length?i[r].length:t)}(u||!f)&&(o=n.labels,c=n.title,o.rotation=this.$5v?-45:270,o.align="right",c.margin=15)}return t},$2yt:function(n){var r,t,e,u,i,f;if(!$0.$0(n)&&"categories"in n){if(r=20,t=n.categories,t.length>31){e=n.labels;e.enabled=!1;return}for(t.length>9&&(r=11),u=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityContainerControl.SubjectEllipsesText"),i=0;i<t.length;i++)t[i].length>r&&(t[i]=t[i].substr(0,r-u.length)+u);this.$5v&&this.$2s.series[0].type==="bar"&&(f=n.labels,f&&(f.rotation=this.$5v?0:270))}},$2WO:function(n,t){var r,f,i;if($0.$0(t))return"#3F94E9";try{var e=this.$21K(n),s=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x)),u=e.$P5;for(r in u)if(f={key:r,value:u[r]},i=f.value,i.$1s===t)return i.$Gq?i.$Gq:"#3F94E9"}catch(o){Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1008,o.message)}return"#3F94E9"},$2WN:function(n,t){var r,f,i;if($0.$0(t))return"#3F94E9";try{var e=this.$21K(n),s=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x)),u=e.$P5;for(r in u)if(f={key:r,value:u[r]},i=f.value,i.$1G===t)return i.$Gq?i.$Gq:"#3F94E9"}catch(o){Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1008,o.message)}return"#3F94E9"},$21K:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$1Ww.$D,n);return $0.$0(t)?null:t.$6S}};Microsoft.Crm.Client.Core.ViewModels.Controls.$CA=function(){this.$$d_$15W=Function.createDelegate(this,this.$15W);Microsoft.Crm.Client.Core.ViewModels.Controls.$CA.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$CA.prototype={$2Z:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$1Ev(this.$$d_$15W);this.$1i0=this.$1G;try{this.$2FP(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$T9())}catch(n){Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1008,n.message)}Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.prototype.$2Z.call(this)},$15W:function(n,t){if(!$0.$0(t)){this.$2FP(t.$O8);return}this.set_Visible(!1)},$Oh:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().remove_$1Ev(this.$$d_$15W);Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$E8=function(){this.$$d_$2po=Function.createDelegate(this,this.$2po);Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.prototype={$2Z:function(){this.$1a||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("LastRetrievedText",this.$$d_$2po);Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this)},get_IsEntityInSkipList:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GG().$21o();return!$0.$0(n)&&n.get_Count()>0&&n.contains(this.$D)},get_IsAppOfflineSyncEnabled:function(){return Xrm.Utility.isAppOfflineSyncEnabled()},get_IsOfflineDataStoreAvailable:function(){return Xrm.Utility.isOfflineDataStoreAvailable()},get_GetEntityOfflineStatus:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GG().$20R(this.$D)},$2po:function(){this.$7("LastRetrievedText")},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("LastRetrievedText",this.$$d_$2po);Microsoft.Crm.Client.Core.ViewModels.$24.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$CB=function(){this.$$d_$2tT=Function.createDelegate(this,this.$2tT);this.$$d_$1lj=Function.createDelegate(this,this.$1lj);Microsoft.Crm.Client.Core.ViewModels.Controls.$CB.initializeBase(this);this.set_ActionCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1lj,1004))};Microsoft.Crm.Client.Core.ViewModels.Controls.$CB.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("DropDialogButton",Microsoft.Crm.Client.Core.ViewModels.Controls.$CB)};Microsoft.Crm.Client.Core.ViewModels.Controls.$CB.prototype={$Y7:null,$11S:null,$vq:null,$Hj:null,$16C:null,$1My:null,set_$29f:function(n){return this.$Y7!==n&&(this.$Y7=n,this.$7("Popup")),n},get_PopupViewModelId:function(){return this.$1My},set_PopupViewModelId:function(n){return this.$1My!==n&&(this.$1My=n,this.$7("PopupViewModelId")),n},get_PopupDefinitionId:function(){return this.$16C},set_PopupDefinitionId:function(n){return this.$16C=n,n},get_DropDialogClosingCommand:function(){return this.$11S},set_DropDialogClosingCommand:function(n){return this.$11S=n,n},get_RequestPopupCommand:function(){return this.$vq},set_RequestPopupCommand:function(n){return this.$vq=n,n},get_RequestCloseCommand:function(){return this.$Hj},set_RequestCloseCommand:function(n){return this.$Hj=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this);this.set_ActionCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$1lj,1004));$0.$0(this.$vq)&&(this.$vq=this.$n("RequestDropDialog"));$0.$0(this.$11S)&&(this.$11S=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$2tT,1004));$0.$0(this.$Hj)||(this.$Hj=this.$n("RequestClose"))},$1lj:function(){$0.$0(this.$Y7)&&(this.set_$29f(Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V("Popup")),this.$Y7.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(this)),Microsoft.Crm.Client.Core.Framework.$3.$9(this.$16C)?(this.set_PopupViewModelId(this.$Y7.get_ViewModelId()),this.$vq.execute()):(this.$Y7.set_DefinitionId(this.$16C),this.$Y7.$2Z()))},$1rz:function(){this.set_$29f(null)},$2tT:function(){$0.$0(this.$Y7)||$0.$0(this.$Hj)||this.$Hj.execute()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$SW=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.$SW.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$SW.prototype={$1i0:null,$2FP:function(n){this.set_Label(n>0?String.format(this.$1i0,n.toString()):"");this.set_Visible(n>0)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rp=function(){var n={};return n.marginTop=60,n.marginBottom=78,n.spacingBottom=13,n.spacingLeft=0,n.marginRight=0,n.spacingTop=13,n};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tQ=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tR=function(){var n={};return n.borderRadius=0,n.shadow=!1,n};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$1tS=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rr=function(){return[]};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rt=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rs=function(){var n=Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rt();return n.borderColor="black",n.borderWidth=3,n.color=null,n};Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.$2Rq=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.$89=function(){this.$$d_$2Ny=Function.createDelegate(this,this.$2Ny);this.$$d_$313=Function.createDelegate(this,this.$313);this.$$d_$30a=Function.createDelegate(this,this.$30a);this.$$d_$1OJ=Function.createDelegate(this,this.$1OJ);this.$$d_$3B1=Function.createDelegate(this,this.$3B1);this.$$d_$1M7=Function.createDelegate(this,this.$1M7);this.$Af=-1;Microsoft.Crm.Client.Core.ViewModels.Controls.$89.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.Controls.$89.initializeBase(this);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$1M7)};Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype={$15q:!1,$1nP:!1,get_OTCAndUIPassed:function(){return this.$15q},set_OTCAndUIPassed:function(n){return this.$15q=n,n},$194:!0,get_VisibleByDefault:function(){return this.$194},set_VisibleByDefault:function(n){return this.$194=n,n},get_LoadButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Mashup_Load")},get_DisplayOnDemandLoadMessage:function(){return Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$MO},$1PD:null,get_ScrollingBehavior:function(){return this.$1PD},set_ScrollingBehavior:function(n){return this.$1PD!==n&&(this.$1PD=n,this.$7("ScrollingBehavior")),n},get_PendingTimeout:function(){return this.$Af},set_PendingTimeout:function(n){return this.$Af!==n&&(this.$Af=n,this.$7("PendingTimeout")),n},$1Ta:!1,get_IsWebResource:function(){return this.$1Ta},set_IsWebResource:function(n){return this.$1Ta=n,n},$Pv:null,get_ParentTabName:function(){return this.$Pv},set_ParentTabName:function(n){return this.$Pv=n,n},$dK:null,get_ParentColumnName:function(){return this.$dK},set_ParentColumnName:function(n){return this.$dK=n,n},$yP:null,get_HostedTabKey:function(){return this.$yP},set_HostedTabKey:function(n){return this.$yP=n,n},get_HasFocus:function(){return Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.get_HasFocus.call(this)},set_HasFocus:function(n){var t,i;return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?this.$5R!==n&&(this.$5R=n,n&&(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v(this.$Pv),this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,t),$0.$0(this.$yP)||(i=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r(this.$yP,"IFrameViewModel"),this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,i)),this.$7("HasFocus"))):Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.set_HasFocus.call(this,n),n},$GV:"",get_UrlSource:function(){return this.$GV},set_UrlSource:function(n){return this.$GV!==n&&(this.$GV=n,this.$7("UrlSource")),n},get_NoDataMessage:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mashup_NoData_Message")},get_IsOfflineWebResourcesRenderingEnabled:function(){return Microsoft.Crm.Client.Core.ViewModels.$a.$2og()},$lH:"",$5Y:null,get_Element:function(){return this.$5Y},set_Element:function(n){return this.$5Y=n,n},$1o9:!0,set_$2Ie:function(n){return this.$1o9=n,this.set_Visible(!this.$17r()),n},$1KQ:!1,get_IsXFrameScriptingRestricted:function(){return this.$1KQ},set_IsXFrameScriptingRestricted:function(n){return this.$1KQ!==n&&(this.$1KQ=n,this.$7("IsXFrameScriptingRestricted")),n},$1G9:!1,get_FrameShouldBeRendered:function(){return this.$1G9},set_FrameShouldBeRendered:function(n){return this.$1G9!==n&&(this.$1G9=n,this.$7("FrameShouldBeRendered")),n},$ub:null,get_OnIFrameLoadHandlers:function(){return this.$ub},set_OnIFrameLoadHandlers:function(n){return this.$ub=n,n},$Rr:function(){this.$2Z()},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);(this.$lH===""||this.$lH!==this.$GV)&&(this.set_UrlSource(this.$23V(this.$GV)),this.$lH=this.$GV);$0.$1Y(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().add_$267(this.$$d_$3B1);this.$17r()&&this.set_Visible(!1);$0.$0(this.$2)||(this.$2.$Sg?this.$1OJ(null,null):this.$2.add_$P1(this.$$d_$1OJ),this.$2.add_$gn(this.$$d_$30a))},ScrollParentColumn:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z(this.$dK,n,t);this.$2.get_EventHandler().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z,i)},$1OJ:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$1vo(this.$2)&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$t!==3&&!Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$QQ&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$t!==2&&!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$O9()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$1sn()?Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$TB(this.$$d_$313):this.$wZ()},$313:function(){this.$wZ();Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$TB(this.$$d_$313)},$30a:function(){this.set_FrameShouldBeRendered(!1)},$17r:function(){return!Microsoft.Crm.Client.Core.ViewModels.$a.$14U()||!this.$1o9||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().$2oT(this.$lH)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$O9()&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().get_$1sn()},$PH:function(){this.$so&&!$0.$0(this.$5Y)&&this.$5Y.setAttribute("src",this.$GV);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$PH.call(this)},onIFrameLoad:function(){if(Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Nu(this.$2,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$2tp()+" "+this.$1G),!$0.$0(this.$ub)&&this.$ub.length>0){var n=new Microsoft.Crm.Client.Core.Models.$JM(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Constants.$JV))(this.$ub),null);Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(n)}Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$MO&&(this.$Af!==-1&&window.clearTimeout(this.$Af),this.set_PendingTimeout(window.setTimeout(this.$$d_$2Ny,5e3)))},$2Ny:function(){window.clearTimeout(this.$Af);this.set_PendingTimeout(-1);Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Nu(this.$2,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$39j()+" "+this.$1G)},$1M7:function(){this.set_Visible(!this.$17r());this.$7("IsServerAvailable")},$23V:function(n){var t,i,r,u;return this.$15q&&(t=this.$2,i=0,n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"orglcid",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$1hz().toString())),n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"orgname",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gq().toString())),n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"userlcid",CrmEncodeDecode.CrmUrlEncode(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$1nS().toString())),$0.$0(t)||t.$g!==2||(r=t.$D,u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r),$0.$0(u)||(i=u.$9p,n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"type",CrmEncodeDecode.CrmUrlEncode(i.toString())),n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"typename",CrmEncodeDecode.CrmUrlEncode(r)),$0.$0(this.get_ModelContext())||(n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"id",Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(this.get_ModelContext().get_Id())))))),this.$1nP=!0,n},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$1M7);$0.$1Y(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().remove_$267(this.$$d_$3B1);$0.$0(this.$2)||(this.$2.remove_$P1(this.$$d_$1OJ),this.$2.remove_$gn(this.$$d_$30a),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$TB(this.$$d_$313));this.$Af!==-1&&(window.clearTimeout(this.$Af),this.set_PendingTimeout(-1));Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$Hd:function(){this.$15q&&!$0.$0(this.get_ModelContext())&&$0.$0(Microsoft.Crm.Client.Core.Framework.Utils.$19.$225(this.$GV,"id"))&&(this.set_UrlSource(Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(this.$GV,"id",Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper(this.get_ModelContext().get_Id()))),this.$1nP&&(this.$lH=this.$GV));Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Hd.call(this)},$3B1:function(){this.set_Visible(!this.$17r())},captureOnDemandLoadMemorySnapshot:function(){Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Nu(this.$2,Microsoft.Crm.Client.Core.ViewModels.$2r.get_$27b()+" "+this.$1G)},$wZ:function(){$0.$1Y(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GD().$2zu(this.$1P);this.set_FrameShouldBeRendered(!this.get_DisplayOnDemandLoadMessage())},$EP:function(n,t){this.$1OJ(null,null);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)}};Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel.prototype={$qr:"",get_CustomParameter:function(){return this.$qr},set_CustomParameter:function(n){return this.$qr!==n&&(this.$qr=n,this.$7("UrlSource")),n},$17r:function(){return!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$FN.$3F5("4156db68-93e2-4a83-8cbb-5bb344ebaf47")||Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$17r.call(this)},$23V:function(n){return n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$Hp()+"/WebResources/"+n,Microsoft.Crm.Client.Core.Framework.$3.$9(this.$qr)||(n=Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(n,"data",CrmEncodeDecode.CrmUrlEncode(this.$qr))),Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$23V.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel=function(){this.$$d_$2zS=Function.createDelegate(this,this.$2zS);Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel.initializeBase(this);this.$WZ()};Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel.prototype={$cp:null,get_AuthResource:function(){return this.$cp},set_AuthResource:function(n){return this.$cp=n,n},$W2:0,get_PowerBIComponentTypeCode:function(){return this.$W2},set_PowerBIComponentTypeCode:function(n){return this.$W2=n,n},$1AB:null,get_IntegrationsSiteDomain:function(){return this.$1AB},set_IntegrationsSiteDomain:function(n){return this.$1AB=n,n},$Po:null,get_IntegrationsUrl:function(){return this.$Po},set_IntegrationsUrl:function(n){return this.$Po=n,n},$Sd:null,get_PowerBIGroupId:function(){return this.$Sd},set_PowerBIGroupId:function(n){return this.$Sd=n,n},$Sc:null,get_PowerBIDashboardId:function(){return this.$Sc},set_PowerBIDashboardId:function(n){return this.$Sc=n,n},$dL:null,get_PowerBIReportId:function(){return this.$dL},set_PowerBIReportId:function(n){return this.$dL=n,n},$dM:null,get_PowerBITileId:function(){return this.$dM},set_PowerBITileId:function(n){return this.$dM=n,n},$in:null,get_PowerBIReportUrl:function(){return this.$in},set_PowerBIReportUrl:function(n){return this.$in=n,n},$2Z:function(){this.$2.$g===50&&("externalContextPowerBIUrl"in this.$2.$K.$M&&(this.$Po=this.$2.$K.$M.externalContextPowerBIUrl),"groupId"in this.$2.$K.$M&&(this.$Sd=this.$2.$K.$M.groupId),"dashboardId"in this.$2.$K.$M&&(this.$Sc=this.$2.$K.$M.dashboardId),"tileId"in this.$2.$K.$M&&(this.$dM=this.$2.$K.$M.tileId),"reportId"in this.$2.$K.$M&&(this.$dL=this.$2.$K.$M.reportId),"reportEmbedUrl"in this.$2.$K.$M&&(this.$in=this.$2.$K.$M.reportEmbedUrl),"powerBIComponentType"in this.$2.$K.$M&&(this.$W2=this.$2.$K.$M.powerBIComponentType));Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$2Z.call(this)},$Oh:function(){this.$30Z();Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$Oh.call(this)},$WZ:function(){$(window.self).bind("message",this.$$d_$2zS)},$30Z:function(){$(window.self).unbind("message",this.$$d_$2zS)},$2zS:function(n){var f=n.originalEvent,e=f.origin,u,t,o;if(!Microsoft.Crm.Client.Core.Framework.$3.$9(e)){var i=new Microsoft.Crm.Client.Core.Framework.Net.Uri(this.$Po),s=(i.$hY+i.$Z4+i.$mg).toLowerCase(),r=new Microsoft.Crm.Client.Core.Framework.Net.Uri(e),h=(r.$hY+r.$Z4+r.$mg).toLowerCase();if(s===h){try{u=JSON.parse(f.data)}catch(c){return}if(u.componentId===this.$1P&&(t=u.powerBIEventData,!$0.$0(t))){o=t.event;switch(o){case"tileClicked":this.$2l8(t);break;case"TileClick":this.$2kM(t)}}}}},$2l8:function(n){if(this.$2.$g!==50){var t=n.openReport,u=t.reportId,i=t.embedUrl,r=null;Microsoft.Crm.Client.Core.Framework.$3.$9(i)||(r=this.$1wy(i));this.$28r(this.$Po,this.$Sd,this.$Sc,this.$dM,u,r,0)}},$2kM:function(n){var t=n.reportEmbedUrl,u=n.tileId,h=this.$2Yx(u),f=null,e=null,o,r;if(!Microsoft.Crm.Client.Core.Framework.$3.$9(t)){e=this.$1wy(t);o=new Microsoft.Crm.Client.Core.Framework.Net.Uri(t);for(var s=o.$1V.split("&"),c=s.length,i=0;i<c;++i)r=s[i],r.startsWith("reportId=")&&(f=r.substr(9))}this.$28r(h,this.$Sd,this.$Sc,u,f,e,0)},$2Yx:function(n){for(var i,r,u=new Microsoft.Crm.Client.Core.Framework.Net.Uri(this.$Po),t="",e=u.$1V.split("&"),o=e.length,f=0;f<o;++f)i=e[f],i.startsWith("powerBIUrl=")?(r=i.substr(11),r=r.replace("dashboardEmbed","embed"),r+=CrmEncodeDecode.CrmUrlEncode("&tileId="+n),t+="powerBIUrl="+r):t+=i.startsWith("mode=")?"mode=tile":i,t+="&";return t=t.substring(0,t.length-1),u.$hY+"://"+u.$jO+u.$WE+"?"+t},$1wy:function(n){for(var r,i=new Microsoft.Crm.Client.Core.Framework.Net.Uri(this.$Po),t="",f=i.$1V.split("&"),e=f.length,u=0;u<e;++u)r=f[u],t+=r.startsWith("powerBIUrl=")?"powerBIUrl="+CrmEncodeDecode.CrmUrlEncode(n):r.startsWith("mode=")?"mode=report":r,t+="&";return t=t.substring(0,t.length-1),i.$hY+"://"+i.$jO+i.$WE+"?"+t},$28r:function(n,t,i,r,u,f,e){var o=new Microsoft.Crm.Client.Core.Commands.$2R(null,50);o.$x={};o.$x.externalContextPowerBIUrl=n;o.$x.groupId=t;o.$x.dashboardId=i;o.$x.tileId=r;o.$x.reportId=u;o.$x.reportEmbedUrl=f;o.$x.powerBIComponentType=e;o.execute()},$wZ:function(){var n,t;if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Po)){if(n=new Date,this.set_UrlSource(this.$Po+"&componentId="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$nt(this.$1P)+"&reactDiffBuster="+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$nt(n.getUTCMilliseconds().toString())),!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Rn){this.set_UrlSource(this.$GV.replace("client=moca","client=web"));Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$wZ.call(this);return}t=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Cp.beginSecureSessionForResource(this.$cp,this.$1P,this.$1AB,function(n){n&&Microsoft.Crm.Client.Core.Framework.Trace.logWarning(2010,"Failed to get token. Error code: "+n);Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$wZ.call(t)})}},$17r:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$14a||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ld||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$gI||Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Rn&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("AuthenticatedMashups")||!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()}};Microsoft.Crm.Client.Core.ViewModels.Controls.$BX=function(){this.$$d_$1qM=Function.createDelegate(this,this.$1qM);this.$N6=-1;Microsoft.Crm.Client.Core.ViewModels.Controls.$BX.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.$BX.prototype={$1Vm:!1,$cp:null,get_AuthResource:function(){return this.$cp},set_AuthResource:function(n){return this.$cp=n,n},$LF:null,get_ViewName:function(){return this.$LF},set_ViewName:function(n){return this.$LF=n,n},$xn:null,get_AppUrl:function(){return this.$xn},set_AppUrl:function(n){return this.$xn=n,n},$2Z:function(){this.$1Vm||(this.$317(),this.$17m("viewname",this.$LF),this.$17m("filterkey","crmrecordid"),this.$17m("filtervalue",this.$2.get_ModelContext().get_Id().toString().replace("{","").replace("}","").toLowerCase()));Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$2Z.call(this)},$wZ:function(){if(!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Rn){Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$wZ.call(this);return}this.$1qM()},$1qM:function(){var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Cp.beginSecureSessionForResource(this.$cp,this.$1P,"dfdapps.projectuic-int.net",function(t,i){try{n.$17m("tokenkeyname",n.$1P);Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$wZ.call(n);var r=new Date(i),u=new Date;n.$N6!==-1&&window.clearTimeout(n.$N6);n.$N6=window.setTimeout(n.$$d_$1qM,r-u-6e4)}catch(f){Microsoft.Crm.Client.Core.Framework.Trace.logException(1004,f,"Encountered exception while requesting Token for Auth Resource from shim")}})},$17m:function(n,t){this.set_UrlSource(Microsoft.Crm.Client.Core.Framework.Utils.$19.$LL(this.$GV,n,t))},$317:function(){if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$xn)){var n=Microsoft.Crm.Client.Core.Framework.Net.Uri.parse(this.$GV);this.set_UrlSource(this.$GV.replace(n.$Z4,this.$xn));this.$1Vm=!0}},$2qu:function(){this.$1OJ(null,null)},$Oh:function(){this.$N6!==-1&&window.clearTimeout(this.$N6);Microsoft.Crm.Client.Core.ViewModels.Controls.$89.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.$2i=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.get_instance=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.$C)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.$C=new Microsoft.Crm.Client.Core.ViewModels.Controls.$2i,Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.$C.$2Z()),Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.$C};Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.prototype={IsEnabled:!1,$CJ:null,get_ThemingBag:function(){return this.$CJ},set_ThemingBag:function(n){return this.$CJ=n,n},$1Af:null,get_NavBarBackgroundColor:function(){return this.$1Af},set_NavBarBackgroundColor:function(n){return this.$1Af=n,n},$1Aw:null,get_ProcessControlColor:function(){return this.$1Aw},set_ProcessControlColor:function(n){return this.$1Aw=n,n},$y9:null,get_DefaultEntityColor:function(){return this.$y9},set_DefaultEntityColor:function(n){return this.$y9=n,n},$y8:null,get_DefaultCustomEntityColor:function(){return this.$y8},set_DefaultCustomEntityColor:function(n){return this.$y8=n,n},$1A4:null,get_GlobalLinkcolor:function(){return this.$1A4},set_GlobalLinkcolor:function(n){return this.$1A4=n,n},$1BB:null,get_SelectedLinkEffect:function(){return this.$1BB},set_SelectedLinkEffect:function(n){return this.$1BB=n,n},$1AA:null,get_HoverLinkEffect:function(){return this.$1AA},set_HoverLinkEffect:function(n){return this.$1AA=n,n},$1Ag:null,get_NavbarShelfColor:function(){return this.$1Ag},set_NavbarShelfColor:function(n){return this.$1Ag=n,n},$1Ao:null,get_PanelHeaderBackgroundColor:function(){return this.$1Ao},set_PanelHeaderBackgroundColor:function(n){return this.$1Ao=n,n},$1Am:null,get_PageHeaderBackgroundColor:function(){return this.$1Am},set_PageHeaderBackgroundColor:function(n){return this.$1Am=n,n},$1A8:null,get_HeaderColor:function(){return this.$1A8},set_HeaderColor:function(n){return this.$1A8=n,n},$19d:null,get_ControlShade:function(){return this.$19d},set_ControlShade:function(n){return this.$19d=n,n},$19c:null,get_ControlBorder:function(){return this.$19c},set_ControlBorder:function(n){return this.$19c=n,n},$1Ac:null,get_MainColor:function(){return this.$1Ac},set_MainColor:function(n){return this.$1Ac=n,n},$19H:null,get_AccentColor:function(){return this.$19H},set_AccentColor:function(n){return this.$19H=n,n},getEntityColor:function(n){if($0.$0(n))return null;var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?null:$0.$0(t.$kL)?t.$CW?this.$y8:this.$y9:t.$kL},$2fg:function(){var n={};return n.navbarbackgroundcolor="#002050",n.navbarshelfcolor="#DFE2E8",n.panelheaderbackgroundcolor="#E0E0E0",n.pageheaderbackgroundcolor="#F3F3F3",n.headercolor="#1160B7",n.globallinkcolor="#1160B7",n.selectedlinkeffect="#B1D6F0",n.hoverlinkeffect="#D7EBF9",n.processcontrolcolor="#0755BE",n.defaultentitycolor="#001CA5",n.defaultcustomentitycolor="#006551",n.controlshade="#F3F1F1",n.controlborder="#CCCCCC",n.maincolor="#FFFFFF",n.accentcolor="#FFFFFF",n},$21y:function(){var u={},i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$1EB,f,r,t,n;if($0.$0(i)||!i.trim().length)return null;for(f=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(i),r=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(f).$62("/theme/*"),t=0;t<r.get_$s();t++)n=r.get_$R(t),Microsoft.Crm.Client.Core.Framework.$3.$9(n.get_$FQ())||$0.$0(n.get_$p())||(u[n.get_$FQ()]=n.get_$p());return u},$2Z:function(){this.$CJ=this.$21y();$0.$0(this.$CJ)&&(this.$CJ=this.$2fg());this.$y8=this.$CJ.defaultcustomentitycolor;this.$1Af=this.$CJ.navbarbackgroundcolor;this.$1Aw=this.$CJ.processcontrolcolor;this.$y9=this.$CJ.defaultentitycolor;this.$1A4=this.$CJ.globallinkcolor;this.$1BB=this.$CJ.selectedlinkeffect;this.$1AA=this.$CJ.hoverlinkeffect;this.$1Ag=this.$CJ.navbarshelfcolor;this.$1Ao=this.$CJ.panelheaderbackgroundcolor;this.$1Am=this.$CJ.pageheaderbackgroundcolor;this.$1A8=this.$CJ.headercolor;this.$19d=this.$CJ.controlshade;this.$19c=this.$CJ.controlborder;this.$1Ac=this.$CJ.maincolor;this.$19H=this.$CJ.accentcolor}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E=function(n,t,i,r){Microsoft.Crm.Client.Core.Framework.Trace.$Hu>=4&&Microsoft.Crm.Client.Core.Framework.$8.$1E(n+"_"+r,t,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(i))};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u=function(n,t,i,r){Microsoft.Crm.Client.Core.Framework.Trace.$Hu>=2&&Microsoft.Crm.Client.Core.Framework.$8.$u(n+"_"+r,t,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(i))};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B=function(n,t,i,r){Microsoft.Crm.Client.Core.Framework.Trace.$Hu>=5&&Microsoft.Crm.Client.Core.Framework.$8.$B(n+"_"+r,t,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(i))};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$4z=function(n,t,i,r){Microsoft.Crm.Client.Core.Framework.Trace.$Hu>=1&&Microsoft.Crm.Client.Core.Framework.$8.$4z(n+"_"+r,t,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(i))};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1fy=function(n,t,i,r,u){Microsoft.Crm.Client.Core.Framework.Trace.$Hu>=1&&Microsoft.Crm.Client.Core.Framework.$8.$1fy(n+"_"+u,t,i,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(r))};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR=function(n){var i,r,u,t,f;if($0.$0(n))return"";i="";r=n;for(u in r)t={key:u,value:r[u]},f="",f=$0.$0(t.value)?null:Object.getType(t.value).getName()==="Object"?"{"+Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$sR(t.value)+"}":t.value.toString(),i+=t.key+"="+f+";";return i};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Builders");Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder=function(){this.$$d_$Ji=Function.createDelegate(this,this.$Ji);this.$$d_$2FO=Function.createDelegate(this,this.$2FO);Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder.$$cctor=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder,t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6();t.$AL("DynamicsDialog",n.$$d_$6f,n.$$d_$2FO,n.$$d_$Ji)};Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder.prototype={$1Dw:function(){return new Microsoft.Crm.Client.Core.ViewModels.$CD},$2FO:function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$uq(n)},$Ji:function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(n)}};Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder=function(){this.$$d_$1rz=Function.createDelegate(this,this.$1rz);this.$$d_$1lj=Function.createDelegate(this,this.$1lj);Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder.$$cctor=function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder,t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6();t.$AL("Popup",n.$$d_$6f,n.$$d_$1lj,n.$$d_$1rz)};Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder.prototype={$1Dw:function(){return new Microsoft.Crm.Client.Core.ViewModels.$SU},$1lj:function(n){var t=n,i=t.$K.$8n;i.$1lj()},$1rz:function(n){var t=n,i=t.$K.$8n;i.$1rz()}};Type.registerNamespace("Microsoft.Crm.Client.Core.Commands");Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand=function(n,t,i){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$2o=n;this.$1Xj=t;this.$1Uv=i};Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ActivateItem",Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.$n)};Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.$n=function(n,t){var i=null,r,u;return"ContainerName"in t.InitializationParameters&&"ItemName"in t.InitializationParameters&&(r=t.InitializationParameters.ContainerName,u=t.InitializationParameters.ItemName,i=new Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand(n,r,u)),i};Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.prototype={$zX:null,$1Xj:null,$1Uv:null,$2o:null,$2E:function(){this.$zX||(this.$zX=this.$2o.get_$AH().$67(this.$1Xj));$0.$0(this.$zX)?Microsoft.Crm.Client.Core.Framework.$8.$1E("ActivateItemChangedCommand",1004,"Did not activeItemContainerViewModel"):this.$zX.set_ActiveItemName(this.$1Uv)}};Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$A=n};Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ChartSeriesClickCommand",Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.$n)};Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.$n=function(n){return new Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand(n)};Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.prototype={$A:null,get_$1EL:function(){return this.$Hn?this.$Hn.Aggregators:null},$86:function(){this.$Hn=null},$Hn:null,$2E:function(){}};Microsoft.Crm.Client.Core.Commands.ControlCommand=function(n,t,i){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ControlCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$A=n;this.$T=i;this.$Jj=this.$T[t];this.set_CanExecute(!1);$0.$0(this.$Jj)||this.set_CanExecute(this.$Jj.get_CanExecute())};Microsoft.Crm.Client.Core.Commands.ControlCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ControlCommand",Microsoft.Crm.Client.Core.Commands.ControlCommand.$n)};Microsoft.Crm.Client.Core.Commands.ControlCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.ControlCommand(n,t.InitializationParameters.CommandPropertyName,t.InitializationParameters.TargetViewModel)};Microsoft.Crm.Client.Core.Commands.ControlCommand.prototype={$A:null,$T:null,$Jj:null,$Oh:function(){this.$Jj=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)},$2E:function(){if(!$0.$0(this.$Jj))try{this.$Jj.execute()}catch(n){Microsoft.Crm.Client.Core.Framework.$8.$1E("OnExecute_CommandDoesNotExist",1004,null)}}};Microsoft.Crm.Client.Core.Commands.$A3=function(n){Microsoft.Crm.Client.Core.Commands.$A3.initializeBase(this,[n,1])};Microsoft.Crm.Client.Core.Commands.$A3.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ListNavigation",Microsoft.Crm.Client.Core.Commands.$A3.$n)};Microsoft.Crm.Client.Core.Commands.$A3.$n=function(n){return new Microsoft.Crm.Client.Core.Commands.$A3(n)};Microsoft.Crm.Client.Core.Commands.$A3.prototype={$Os:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2s6()}};Microsoft.Crm.Client.Core.Commands.NavigationCommand=function(n,t){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.NavigationCommand.initializeBase(this);this.$A=n;this.$MU=t;this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype={$MU:-1,$T:null,$A:null,$1d3:!1,get_$HY:function(){return this.$MU},get_$1RF:function(){return this.$T},$1Zk:function(){var i,n,r;Microsoft.Crm.Client.Core.Framework.Utils.$A.$1RL(this.get_CanExecute(),!0,"Can't raise command when canExecute is false.");Microsoft.Crm.Client.Core.Framework.Utils.$A.$16(this.$TE_2,"Can't raise command when no execute command is specified.");Microsoft.Crm.Client.Core.Framework.Utils.$A.$18a(this.$N7,"Can't raise command when TraceComponent is undefinded.");try{return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL().collapse(),(i=Microsoft.Crm.Client.Core.Framework.Scheduler).set_HighPriorityBrowserAsyncWorkCount(Microsoft.Crm.Client.Core.Framework.Scheduler.$Ii+1),this.$2te()}catch(t){return Microsoft.Crm.Client.Core.Framework.Trace.logException(this.$N7,t,"Unhandled exception while executing Command."),n=MscrmComponents.DeferredPromiseFactory(Object,Error),n.reject(t),n.promise()}finally{r=this;window.setTimeout(function(){var n;(n=Microsoft.Crm.Client.Core.Framework.Scheduler).set_HighPriorityBrowserAsyncWorkCount(Microsoft.Crm.Client.Core.Framework.Scheduler.$Ii-1)},0)}},$Os:function(){switch(this.$MU){case 0:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2F6(2,!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Bc(this.$A);break;case 2:case 3:case 4:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1Z6().raiseEvent(Microsoft.Crm.Client.Core.Framework.$35,this);return}Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().raiseEvent(Microsoft.Crm.Client.Core.Framework.$35,this)},$2E:function(){this.$1Zk()},$2te:function(){var t=MscrmComponents.DeferredPromiseFactory(Object,Error),r,i,e,u,f,n;return this.$1d3=!0,r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),i=r.get_PrimaryConductor().get_$33(),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(i)&&this.$MU!==3&&!r.$Z5?(e=i,u=this,e.$28B(this).done(function(n){n&&u.$Os();u.$11i(t)})):Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(i)&&this.$MU!==3&&r.$Z5?(f=i,n=this,f.$28B(this).done(function(i){i?Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$38A(n)?Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$2XH(n).done(function(i){i?n.$Os():Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HK().$1nC(f);n.$11i(t)}):(n.$Os(),n.$11i(t)):n.$11i(t)})):(this.$Os(),this.$11i(t)),t.promise()},$11i:function(n){this.$T=null;n.resolve()},$Oh:function(){this.$1d3||(this.$T=null);Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand=function(n,t){this.$$d_$27E=Function.createDelegate(this,this.$27E);this.$$d_$26s=Function.createDelegate(this,this.$26s);this.$$d_$1Ly=Function.createDelegate(this,this.$1Ly);this.$$d_$1Lz=Function.createDelegate(this,this.$1Lz);this.$$d_$28f=Function.createDelegate(this,this.$28f);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.initializeBase(this,[n,t]);this.set_$1z(this.$$d_$2E);this.AddPropertyChangedListener("Target",this.$$d_$28f)};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("DocumentsUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$n=function(n,t){var r="",u="",i;return"protocol"in t.InitializationParameters&&(r=t.InitializationParameters.protocol),"target"in t.InitializationParameters&&(u=t.InitializationParameters.target),i=new Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand(r,u),"CommandName"in t.InitializationParameters&&(i.$6Y=t.InitializationParameters.CommandName),i};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2Lo=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"https://itunes.apple.com/app/{0}":"market://details?id={0}"};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2ta=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"id410395246":"com.microsoft.office.onenote"};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$3D9=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"id586447913":"com.microsoft.office.word"};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2xz=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"id586449534":"com.microsoft.office.powerpoint"};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2Vn=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"id586683407":"com.microsoft.office.excel"};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$21Y=function(n){switch(n){case"one":case"onetoc":case"onetoc2":return"onenote:";case"docx":case"docm":case"dotx":case"dotm":case"doc":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$1fA()?"office:":"ms-word:";case"pptx":case"pptm":case"potx":case"potm":case"ppam":case"ppsx":case"ppsm":case"ppt":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$1fA()?"office:":"ms-powerpoint:";case"xlsx":case"xlsm":case"xltx":case"xltm":case"xlsb":case"xlam":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$1fA()?"office:":"ms-excel:";default:return""}};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$1fA=function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$gH&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$14a||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ld)};Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.prototype={$kG:null,$28f:function(n,t){n===this&&t==="Target"&&Microsoft.Crm.Client.Core.Framework.$3.$12(this.$C7)?this.set_CanExecute(!1):this.set_CanExecute(!0)},$2E:function(){if(this.$kG=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()&&this.$2op(this.$GM)?encodeURI(String.format("{0}ofe|u|{1}|p|ms-dynamicsxrm",this.$GM,this.$C7)):this.$GM+encodeURI(this.$C7),!this.$2pE()){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(encodeURI(this.$C7));return}this.$3CG()?Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$1Cv(this.$kG,this.$$d_$1Lz,this.$$d_$1Ly):window.location.href=this.$kG:Microsoft.Crm.Client.Core.ViewModels.$Q.$17u("",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("OneNoteNotSupported"),2)},$2op:function(n){switch(n){case"ms-excel:":case"ms-word:":case"ms-powerpoint:":return!0;default:return!1}},$3CG:function(){switch(this.$GM){case"onenote:":return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$2lV();case"ms-excel:":case"ms-word:":case"ms-powerpoint:":return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$2lT();default:return!1}},$2pE:function(){switch(this.$GM){case"onenote:":case"ms-excel:":case"ms-word:":case"ms-powerpoint:":return!0;default:return!1}},$1Ly:function(n){!$0.$0(n)},$1Lz:function(n){var i,t;if(n)this.$1lc()?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$mS(this.$kG,this.$$d_$26s,this.$$d_$1Ly):window.location.href=this.$kG;else if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$t6())i=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel,i.$DZ=0,i.$AG=2,i.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("OfficeDocumentsIntuneErrorText")),i.Show();else{t=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;t.$DZ=1;t.set_Message("");t.$AG=0;t.$C2=this.$$d_$27E;switch(this.$GM){case"onenote:":t.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("OneNoteInstallConfirmDialogTitle");t.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GetOneNoteOkButtonText");break;case"ms-word:":t.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("WordInstallConfirmDialogTitle");t.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GetWordOkButtonText");break;case"ms-excel:":t.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ExcelInstallConfirmDialogTitle");t.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GetExcelOkButtonText");break;case"ms-powerpoint:":t.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PowerPointInstallConfirmDialogTitle");t.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GetPowerPointOkButtonText")}t.$Gm=null;t.Show()}},$26s:function(){},$27E:function(){var n=String.format(Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2Lo(),this.$2eT());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$mS(n,this.$$d_$26s,this.$$d_$1Ly)},$2eT:function(){switch(this.$GM){case"onenote:":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2ta();case"ms-word:":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$3D9();case"ms-powerpoint:":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2xz();case"ms-excel:":return Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.get_$2Vn();default:return""}}};Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand=function(n,t,i,r){Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand.initializeBase(this,[n,t,i,r])};Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand.prototype={$Os:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(40));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$mR(n);n.set_PrimaryModelName(this.$D);n.set_DefinitionId(n.$D);n.$q=this.$q;n.$6i=1;n.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(this.$X7,this.$TG));n.$2Z();this.$T=n;!$0.$0(this.$8e)&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$T)&&(this.$T.$8e=this.$8e);$0.$0(this.$J)||n.add_$1j7(this.$J);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().raiseEvent(Microsoft.Crm.Client.Core.Framework.$35,this)}};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand=function(n,t){this.$$d_$27E=Function.createDelegate(this,this.$27E);this.$$d_$26s=Function.createDelegate(this,this.$26s);this.$$d_$1Ly=Function.createDelegate(this,this.$1Ly);this.$$d_$1Lz=Function.createDelegate(this,this.$1Lz);this.$$d_$28f=Function.createDelegate(this,this.$28f);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.initializeBase(this,[n,t]);this.$2mt();this.set_$1z(this.$$d_$2E);this.AddPropertyChangedListener("Target",this.$$d_$28f)};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SkypeUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$n=function(n,t){var r="",u="",i;return"protocol"in t.InitializationParameters&&(r=t.InitializationParameters.protocol),"target"in t.InitializationParameters&&(u=t.InitializationParameters.target),i=new Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand(r,u),"CommandName"in t.InitializationParameters&&(i.$6Y=t.InitializationParameters.CommandName),i.$2=n.get_Root(),i};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$QK=function(n,t,i){var u=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t),i),f={partyid:u},e=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(e,f,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return r.$4w.add("partyid"),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([r],!1,1,!1)};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.prototype={$aS:null,$xG:null,$FI:null,$hI:null,$Uo:null,$16g:null,$Pa:null,$2:null,$hD:0,$2jP:function(){return this.get_$1nZ()&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?"https://itunes.apple.com/app/id605841731":Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?"https://itunes.apple.com/app/id442012681":"market://details?id=com.skype.raider"},$2mt:function(){this.$hD=Microsoft.Crm.Client.Core.Framework.$6.get_$3A()||Microsoft.Crm.Client.Core.Framework.$6.get_$4U()?0:this.get_$1nZ()?Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$14a||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ld||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By?0:2:1},$28f:function(n,t){n===this&&t==="Target"&&Microsoft.Crm.Client.Core.Framework.$3.$12(this.$C7)?this.set_CanExecute(!1):this.set_CanExecute(!0)},$2E:function(){var n,t;this.$aS={};this.$aS.directioncode=1;this.$aS.phonenumber=this.$C7;this.$aS.from=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$QK("systemuser",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$CD);n=this.$2OE();this.$aS.to=!$0.$0(this.$xG)&&n?this.$xG:null;this.$16g=null;Microsoft.Crm.Client.Core.Framework.$3.$12(this.$FI)||Microsoft.Crm.Client.Core.Framework.$3.$12(this.$Uo)||$0.$0(this.$hI)||!n||(this.$16g=new Xrm.Objects.EntityReference(this.$Uo,new Microsoft.Crm.Client.Core.Framework.Guid(this.$FI),this.$hI));t=new Mscrm.$MI;this.$Pa=t.$1WM(this.$C7,this.get_$1sm(),this.get_$2AD());Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$1Cv(this.$Pa,this.$$d_$1Lz,this.$$d_$1Ly):(Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||Xrm.Utility.create("phonecall",this.$16g,null,this.$aS,null,null),Microsoft.Crm.Client.Core.Framework.$6.get_$f()?window.open(this.$Pa):window.location.href=this.$Pa)},$2OE:function(){if(!$0.$0(this.$Uo)){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$Uo);if(!$0.$0(n))return n.$R1}return!1},get_$1sm:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$119},get_$1nZ:function(){return!Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$1S2},get_$2AD:function(){var n="";switch(this.$hD){case 0:n=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.toString(0);break;case 2:n=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.toString(2);break;case 1:n=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.toString(1);break;case 3:n=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.toString(1);break;default:n=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.toString(1)}return n},$1Ly:function(n){!$0.$0(n)},$1Lz:function(n){n?(Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||Xrm.Utility.create("phonecall",this.$16g,null,this.$aS,null,null),this.$1lc()?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$mS(this.$Pa,this.$$d_$26s,this.$$d_$1Ly):window.location.href=this.$Pa):Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?this.$hD!==3?(this.$hD=3,this.$2E()):this.$1hv("SkypeConfirmDialogTitle","GetSkypeButtonText"):this.get_$1nZ()?this.$1hv("SFBConfirmDialogTitle","GetSFBButtonText"):this.$1hv("SkypeConfirmDialogTitle","GetSkypeButtonText")},$1hv:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;i.$DZ=1;i.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n);i.set_Message("");i.$AG=0;i.$C2=this.$$d_$27E;i.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(t);i.$Gm=this.$$d_$26s;i.Show()},$26s:function(){},$27E:function(){var n=this.$2jP();Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.$mS(n,this.$$d_$26s,this.$$d_$1Ly)}};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k=function(){};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.prototype={tel:0,skype:1,SFB:2,fallBack:3};Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k.registerEnum("Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$7k",!1);Microsoft.Crm.Client.Core.Commands.SignOutCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.SignOutCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.SignOutCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SignOutCommand",Microsoft.Crm.Client.Core.Commands.SignOutCommand.$n)};Microsoft.Crm.Client.Core.Commands.SignOutCommand.$n=function(){return new Microsoft.Crm.Client.Core.Commands.SignOutCommand};Microsoft.Crm.Client.Core.Commands.SignOutCommand.prototype={$2E:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1nX().$2FY()}};Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.initializeBase(this,[null,n]);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By&&!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.get_$2UZ().get_$2lN()?this.set_CanExecute(!1):(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?(this.$GM="http:",this.$18W="//maps.apple.com/?q="):Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?(this.$GM="geo:",this.$18W="0,0?q="):(this.$GM="bingmaps:",this.$18W="?where="),this.set_$1z(this.$$d_$2E))};Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("MapsUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.$n=function(n,t){var r="",i;return"target"in t.InitializationParameters&&(r=t.InitializationParameters.target),i=new Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand(r),"CommandName"in t.InitializationParameters&&(i.$6Y=t.InitializationParameters.CommandName),i};Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.prototype={$18W:null,$2E:function(){$0.$0(this.$C7)||this.$mS(this.$GM+this.$18W+this.$C7)}};Microsoft.Crm.Client.Core.Commands.$AO=function(n,t,i){var r=this;Microsoft.Crm.Client.Core.Commands.$AO.initializeBase(this,[n,t,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),"IsServerAvailable",function(){return $0.$0(i)?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F():i()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()}])};Microsoft.Crm.Client.Core.Commands.$AO.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OnlineCommand",Microsoft.Crm.Client.Core.Commands.$AO.$n)};Microsoft.Crm.Client.Core.Commands.$AO.$n=function(n,t){var i="TraceComponent",r="ExecuteCommand",e=!$0.$0(n),u=!$0.$0(t),f=u&&!$0.$0(t.InitializationParameters),o=f&&i in t.InitializationParameters,s=f&&r in t.InitializationParameters;if(!e||!u||!o||!s)return null;var h=t.InitializationParameters[r],c=t.InitializationParameters[i];return new Microsoft.Crm.Client.Core.Commands.$AO(h,c)};Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand=function(n,t,i,r){this.$$d_$k2=Function.createDelegate(this,this.$k2);Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.initializeBase(this,[n,i===40?1:i===14?3:2]);this.$X7=n;this.$D=$0.$0(t)?this.$X7.get_$1u():t;this.$J=this.$$d_$k2;$0.$0(i)||(this.$Jk=i);$0.$0(r)||(this.$TG=r)};Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenCreateForm",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1J0=function(){return Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$1Nb<10};Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$n=function(n,t){var r=n.get_$1u(),i=t.InitializationParameters.externalParameters;return $0.$0(i)&&(i={}),$0.$0(t.InitializationParameters.PrimaryModelName)||(r=t.InitializationParameters.PrimaryModelName),$0.$0(t.InitializationParameters.TargetViewModel)||(i.RefreshContext=t.InitializationParameters.TargetViewModel),new Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand(n.get_TargetViewModel(),r,t.InitializationParameters.CreateFormType,i)};Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.prototype={$X7:null,$D:null,$J:null,$1b:null,$Jk:5,$q:null,$TG:null,$8e:null,$J2:null,$k2:function(){if(!$0.$0(this.$TG)&&!$0.$0(this.$TG.RefreshContext)){var n=this.$TG.RefreshContext;(Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.isInstanceOfType(n))&&(n=n.get_$AH());n.$Rr()}},$Os:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("OpenCreateForm::"+this.$D,1);var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(this.$Jk));n.set_PrimaryModelName(this.$D);n.set_DefinitionId(n.$D);n.$q=this.$q;n.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(this.$X7,this.$TG));n.$2Z();$0.$0(this.$J)||n.add_$1j7(this.$J);$0.$0(this.$1b)||n.add_$2Ab(this.$1b);n.$J2=this.$J2;this.$T=n;!$0.$0(this.$8e)&&Microsoft.Crm.Client.Core.ViewModels.RootViewModel.isInstanceOfType(this.$T)&&(this.$T.$8e=this.$8e);Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$1Nb+=1;Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Os.call(this)}};Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand=function(n){this.$$d_$He=Function.createDelegate(this,this.$He);Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.initializeBase(this,[n,1])};Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenDashboardCommand",Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.get_$Y=function(){return Microsoft.Crm.Client.Core.Framework.$q.$4t("","OpenDashboardCommand")};Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$n=function(n,t){var u=t.InitializationParameters,i=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(n),o,f,r;if($0.$0(u.ExternalContextParameters)||(i.$x=u.ExternalContextParameters),$0.$0(u.PrimaryModelName)||(i.$D=u.PrimaryModelName),(!!n&n.get_$1u()==="dashboard")?(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(Microsoft.Crm.Client.Core.Framework.$6.get_$f()?37:1,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),i.$1W,1,!1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$2Tq().toString()),Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.get_$Y()),o.then(function(n){i.$1W=$0.$0(n.get_$R(0))?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$1Ea().toString():n.get_$R(0).$q},function(){i.$1W=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$1Ea().toString()})):i.$1W=n.get_Id(),f=!1,!$0.$0(t.InitializationParameters.Descriptors)){var s=t.InitializationParameters.Descriptors,h=s.get_$R("json"),c=h.Data,e=c.ViewModelDescriptor;for(r=0;r<e.Properties.length;r++)if(e.Properties[r].Name==="IsPowerBIDashboard"){f=e.Properties[r].Value;break}}return i.set_CanExecute(!0),f&&(i.$He(null,null),i.$2M1()),i};Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.prototype={$2M1:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",this.$$d_$He)},$He:function(){this.set_CanExecute(Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$1ea&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F())}};Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand=function(n){Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.initializeBase(this,[n,2]);this.$X7=n;this.$D=this.$X7.get_$1u()};Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenImageUploadDialogCommand",Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.$n=function(n){return new Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand(n)};Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.prototype={$X7:null,$D:null,$1Tr:null,$Os:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("OpenImageUploadDialog::"+this.$D,1);var n=new Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel;n.set_PrimaryModelName(this.$D);n.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(this.$X7,null));n.$2Z();n.add_$2lp(this.$1Tr);this.$T=n;Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Os.call(this)}};Microsoft.Crm.Client.Core.Commands.$2R=function(n,t){Microsoft.Crm.Client.Core.Commands.$2R.initializeBase(this,[n,1]);this.$J1=t;$0.$0(this.$A)||(this.$18=this.$A.get_ModelContext())};Microsoft.Crm.Client.Core.Commands.$2R.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenPage",Microsoft.Crm.Client.Core.Commands.$2R.$n)};Microsoft.Crm.Client.Core.Commands.$2R.$2LD=function(n){n.$K&&n.$K.$M&&("ListDefinitionId"in n.$K.$M||"EntityReference"in n.$K.$M)?Microsoft.Crm.Client.Core.ViewModels.$e.$17L(n,!1):n.get_ModelContext()?Microsoft.Crm.Client.Core.ViewModels.$e.$17L(n,!1):$0.$0(n.$1W)||Microsoft.Crm.Client.Core.ViewModels.$e.$17L(n,!1)};Microsoft.Crm.Client.Core.Commands.$2R.$n=function(n,t){var i=t.InitializationParameters,r=new Microsoft.Crm.Client.Core.Commands.$2R(n,i.MetadataType);return $0.$0(i.ExternalContextParameters)||(r.$x=i.ExternalContextParameters),$0.$0(i.PrimaryModelName)||(r.$D=i.PrimaryModelName),r};Microsoft.Crm.Client.Core.Commands.$2R.$2Ax=function(){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.Commands.$2R.$1RY>Microsoft.Crm.Client.Core.Commands.$2R.$2Ga&&(Microsoft.Crm.Client.Core.Commands.$2R.$1RY=0,window.location.reload())};Microsoft.Crm.Client.Core.Commands.$2R.$23B=function(){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.Commands.$2R.$1RY++};Microsoft.Crm.Client.Core.Commands.$2R.prototype={$1W:null,$J1:0,$x:null,$D:null,$18:null,$8e:null,$1eW:!1,$1XJ:!1,get_PrimaryModelName:function(){return this.$D},set_PrimaryModelName:function(n){return this.$D=n,n},add_$26h:function(n){this.$1p("Navigating",n)},remove_$26h:function(n){this.$32("Navigating",n)},$Os:function(){var i;Microsoft.Crm.Client.Core.Commands.$2R.$23B();$0.$0(this.$D)&&!$0.$0(this.$A)&&(this.$D=this.$J1!==2&&this.$J1!==40&&this.$J1!==5||$0.$0(this.$A.get_ModelContext())?this.$A.get_$1u():this.$A.get_ModelContext().get_$Fe());var r=Microsoft.Crm.Client.Core.Framework.$1.toString(this.$J1),n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("OpenPageCommand",1),t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("OpenPageCommand");t.start();this.$T=this.$2TE();this.$9j("Navigating");Microsoft.Crm.Client.Core.Commands.NavigationCommand.prototype.$Os.call(this);this.$1XJ&&($0.$0(this.$A)||(i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$12c(this.$A.get_ViewModelId()),$0.$0(i)||i(this.$A)));t.stop();t.addParameter("OnExecute");$0.$0(n)||($0.$0(this.$T)||n.addParameter(this.$T.get_ViewModelId()),n.addParameter(r),$0.$0(this.$D)||n.addParameter(this.$D))},$2TE:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(this.$J1)),t;return n.$g===2||n.$g===40||n.$g===5?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$mR(n):(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&n.$g===13?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$mR(n):n.$g===13&&!$0.$0(this.$x.RelationshipType)&&this.$x.RelationshipType>-1||(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1jF(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2BY(1)),$0.$0(n.$1W)&&($0.$0(this.$1W)?n.set_DefinitionId(this.$D):n.set_DefinitionId(this.$1W)),this.$J1!==1?(n.set_ModelContext(this.$18),n.set_PrimaryModelName(this.$D),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(n.$q=this.$1W)):this.$1eW?(n.$9R=!0,$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oe)||(n.$q=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oe.toString())):n.$q=this.$1W,n.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(this.$A,this.$x)),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n.$g===40&&(n.$6i=2),n.$2Z(),$0.$0(this.$8e)||(n.$8e=this.$8e),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(Microsoft.Crm.Client.Core.Commands.$2R.$2LD(n),t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskNavigateEvent"),t.$h("FormMode",Microsoft.Crm.Client.Core.ViewModels.EntityFormMode.toString(n.$6i)||""),t.$h("ComponentType",Microsoft.Crm.Client.Core.Framework.$1.toString(n.$g)||""),t.$h("PrimaryModelName",n.$D||""),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)),n},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)}};Microsoft.Crm.Client.Core.Commands.RelayCommand=function(n,t,i){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.RelayCommand.initializeBase(this);this.set_$1z(this.$$d_$2E);this.$2o=n;this.$1nm=t;this.$1mN=i};Microsoft.Crm.Client.Core.Commands.RelayCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("Relay",Microsoft.Crm.Client.Core.Commands.RelayCommand.$n)};Microsoft.Crm.Client.Core.Commands.RelayCommand.$n=function(n,t){var i=null,r,u;return"TargetViewModelName"in t.InitializationParameters&&"TargetCommandProperty"in t.InitializationParameters&&(r=t.InitializationParameters.TargetViewModelName,u=t.InitializationParameters.TargetCommandProperty,i=new Microsoft.Crm.Client.Core.Commands.RelayCommand(n,r,u)),i};Microsoft.Crm.Client.Core.Commands.RelayCommand.prototype={$18U:null,$1nm:null,$1mN:null,$2o:null,$2E:function(){if(!this.$18U){var n=this.$2o.get_$AH().$67(this.$1nm);n&&(this.$18U=n["get_"+this.$1mN]())}this.$18U&&this.$18U.execute()}};Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand=function(n){if(this.$$d_$2E=Function.createDelegate(this,this.$2E),Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.initializeBase(this),this.set_$1z(this.$$d_$2E),this.$18=n,this.$18){var t=this.$18.GetValue("absoluteurl"),i=Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$21Y(this.$18.GetValue("filetype"));if($0.$0(t)||$0.$0(i))return;this.$ga=new Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand(i,t)}};Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SharepointDocumentLauncherCommand",Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.$n=function(n,t){var i=null;return"ModelContext"in t.InitializationParameters&&(i=t.InitializationParameters.ModelContext),new Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand(i)};Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.prototype={$ga:null,$18:null,$2E:function(){this.$18.get_ModelName()==="recommendeddocument"&&Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PS("DocRecDocumentOpenEvent","","","Recommended document opened",0));$0.$0(this.$ga)||this.$ga.execute()}};Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand=function(n){if(this.$$d_$2E=Function.createDelegate(this,this.$2E),Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.initializeBase(this),this.set_$1z(this.$$d_$2E),this.$18=n,this.$18){var t=this.$18.GetValue("mailweblink");$0.$0(t)||(this.$1Rw=Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$2TJ(t),this.$I=this.$18.GetValue("recordid"))}};Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("DelveActionCardLauncherCommand",Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$n=function(n,t){var i=null;return"ModelContext"in t.InitializationParameters&&(i=t.InitializationParameters.ModelContext),new Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand(i)};Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$2TJ=function(n){var t=new Microsoft.Crm.Client.Core.Framework.Net.Uri(n),i=t.$hY+":",r=Microsoft.Crm.Client.Core.Framework.$3.$9(t.$1V)?"":t.$1V,u=t.$Z4+t.$WE+"?"+r;return new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand(i,u)};Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.prototype={$18:null,$1Rw:null,$I:null,$2E:function(){if(!$0.$0(this.$1Rw)){this.$1Rw.execute();var n=Microsoft.Crm.Client.Core.Framework.Guid.$9(this.$I.Id.toString())?"Dashboard":"Form",t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PK("4101","DelveActionHubActionClickEvent","","",0,"Success","",0,"OpenEmailOnShortPress",n,"","delveactionhub",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),Microsoft.Crm.Client.Core.Framework.Guid.get_empty());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)}}};Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand=function(n){if(this.$$d_$2E=Function.createDelegate(this,this.$2E),Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.initializeBase(this),this.set_$1z(this.$$d_$2E),this.$18=n,this.$18){var t=this.$18.GetValue("weblocationurl"),i=Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$21Y(this.$18.GetValue("filetype"));if($0.$0(t)||$0.$0(i))return;this.$ga=new Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand(i,t)}};Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OfficeGraphDocumentLauncherCommand",Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.$n=function(n,t){var i=null;return"ModelContext"in t.InitializationParameters&&(i=t.InitializationParameters.ModelContext),new Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand(i)};Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.prototype={$ga:null,$18:null,$2E:function(){$0.$0(this.$ga)||this.$ga.execute()}};Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand=function(n,t){this.$$d_$2E_3=Function.createDelegate(this,this.$2E_3);Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.initializeBase(this);this.set_$1z(this.$$d_$2E_3);this.$GM=n;this.set_$Dt(t)};Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("UrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$n)};Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$n=function(n,t){var r="",u="",i;return"protocol"in t.InitializationParameters&&(r=t.InitializationParameters.protocol),"target"in t.InitializationParameters&&(u=t.InitializationParameters.target),i=new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand(r,u),"CommandName"in t.InitializationParameters&&(i.$6Y=t.InitializationParameters.CommandName),i};Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$1t1=function(n,t){return new Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand(n,t)};Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.prototype={$GM:null,$C7:null,$6Y:null,$2Nm:function(){return!1},set_$Dt:function(n){return this.$C7=n,this.$7("Target"),n},$1lc:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Ou.get_$2sH().get_$2lc()},$2E_3:function(){if(!$0.$0(this.$C7)){var t=this.$C7.trim(),i=t.toLowerCase(),n=$0.$0(this.$GM)?"":this.$GM.trim().toLowerCase();n!==""&&(i.startsWith(n)&&(n.startsWith("http:")||n.startsWith("https:"))||(t=n+"//"+t));this.$mS(t)}},$mS:function(n){!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U||this.$38B(n)?this.$1lc()?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(n):Microsoft.Crm.Client.Core.Framework.$6.get_$f()?n.startsWith("mailto:")?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$28y(n):window.open(n):window.location.href=n:Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(n)},$38B:function(n){var t=!1;return(n.startsWith("mailto:")||n.startsWith("skype:")||n.startsWith("onenote:")||n.startsWith("ms-excel:")||n.startsWith("ms-word:")||n.startsWith("ms-powerpoint:")||Microsoft.Crm.Client.Core.Framework.$6.get_$4U()&&n.startsWith("tel:"))&&(t=!0),t}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Commands");Microsoft.Crm.Client.Core.ViewModels.Commands.$AH=function(n){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.initializeBase(this);this.set_$1z(this.$$d_$2E);$0.$0(n.NextEntityId)||(this.$mB=n.NextEntityId);$0.$0(n.NewActiveStageId)||(this.$u6=n.NewActiveStageId);$0.$0(n.NewTraversedPath)||(this.$u4=n.NewTraversedPath);$0.$0(n.NextEntityLogicalName)||(this.$mC=n.NextEntityLogicalName);$0.$0(n.TargetViewModel)||(this.$T=n.TargetViewModel);$0.$0(n.ActionType)||(this.$1Ut=n.ActionType)};Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("NavigateToNextEntityCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.$n=function(n,t){var i=t.InitializationParameters;return new Microsoft.Crm.Client.Core.ViewModels.Commands.$AH(i)};Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.prototype={$mC:null,$mB:null,$u6:null,$u4:null,$T:null,$1Ut:null,$2E:function(){var n={QueryType:this.$1Ut,NextEntityId:this.$mB,NewActiveStageId:this.$u6,NewTraversedPath:this.$u4,NextEntityLogicalName:this.$mC};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$T,n)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Common");Microsoft.Crm.Client.Core.ViewModels.Common.$8b=function(n){if(this.$$d_$2Fs=Function.createDelegate(this,this.$2Fs),Microsoft.Crm.Client.Core.ViewModels.Common.$8b.initializeBase(this),$0.$0(n))throw Error.argumentNull("targetViewModel");this.$T=n;n.apcl("AttributeFieldNames",this.$$d_$2Fs);n.apcl("PrimaryModelName",this.$$d_$2Fs)};Microsoft.Crm.Client.Core.ViewModels.Common.$8b.$1ZE=function(n){n.dispose()};Microsoft.Crm.Client.Core.ViewModels.Common.$8b.prototype={$T:null,$2Fs:function(){var n,t,i,r;(this.$T.set_AttributeMetadata(null),n=this.$T.get_$1u(),t=this.$T.get_AttributeFieldNames(),$0.$0(n)||$0.$0(t))||(i=this,r=function(r){i.$T.get_$1u()===n&&Microsoft.Crm.Client.Core.Framework.$3u.$1qA(i.$T.get_AttributeFieldNames(),t)&&i.$T.set_AttributeMetadata(r)},this.$2G8(n.toLowerCase(),t,r))},$2G8:function(n,t,i){var r=this.$1tl(n,t,i);r.add_$AT(Microsoft.Crm.Client.Core.ViewModels.Common.$8b.$1ZE);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(r)},$1tl:function(n,t,i){var r={},u,f;return r.EntityType=n,r.Attributes=t,r.OnSuccess=i,u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null),f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),f.$XL(this.$T,u,r)},$Oh:function(){this.$T.rpcl("PrimaryModelName",this.$$d_$2Fs);this.$T.rpcl("AttributeFieldNames",this.$$d_$2Fs)}};Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority=function(){};Microsoft.Crm.Client.Core.ViewModels.Common.$AE=function(n){if(this.$$d_$2Fs=Function.createDelegate(this,this.$2Fs),Microsoft.Crm.Client.Core.ViewModels.Common.$AE.initializeBase(this),$0.$0(n))throw Error.argumentNull("targetViewModel");this.$T=n;this.$T.apcl("PrimaryAttributeFieldNames",this.$$d_$2Fs);this.$T.apcl("RelatedAttributeFieldNames",this.$$d_$2Fs);this.$T.apcl("RelationshipList",this.$$d_$2Fs);this.$T.apcl("PrimaryModelName",this.$$d_$2Fs)};Microsoft.Crm.Client.Core.ViewModels.Common.$AE.$1ZE=function(n){n.dispose()};Microsoft.Crm.Client.Core.ViewModels.Common.$AE.prototype={$T:null,$2Fs:function(){var n,f;this.$T.set_AttributeMetadata(null);var t=this.$T.get_$1u(),i=this.$T.get_PrimaryAttributeFieldNames(),r=this.$T.get_RelatedAttributeFieldNames(),u=this.$T.get_RelationshipList();$0.$0(t)||$0.$0(i)||$0.$0(r)||$0.$0(u)||(n=this,f=function(i){n.$T.get_$1u()===t&&(!$0.$0(n.$T.get_AttributeMetadata())&&"unbound"in n.$T.get_AttributeMetadata()&&(i.unbound=n.$T.get_AttributeMetadata().unbound),n.$T.set_AttributeMetadata(i))},this.$2G8(t,i,r,u,f))},$2G8:function(n,t,i,r,u){var f=this.$1tl(n,t,i,r,u);f.add_$AT(Microsoft.Crm.Client.Core.ViewModels.Common.$AE.$1ZE);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(f)},$1tl:function(n,t,i,r,u){var f={PrimaryEntityName:n,PrimaryAttributeFieldNames:t,RelatedAttributeFieldNames:i,RelationshipList:r,OnSuccess:u},e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleEntityAttributeMetadata",null),o=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();return o.$XL(this.$T,e,f)},$Oh:function(){this.$T.rpcl("PrimaryAttributeFieldNames",this.$$d_$2Fs);this.$T.rpcl("RelatedAttributeFieldNames",this.$$d_$2Fs);this.$T.rpcl("RelationshipList",this.$$d_$2Fs);this.$T.rpcl("PrimaryModelName",this.$$d_$2Fs)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HY=function(n,t,i,r,u){this.Name=n;this.DisplayName=t;this.Alias=i;this.DataType=r;this.VisualSizeFactor=u};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q.prototype={read:0,edit:1,both:2,unknown:3};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q.registerEnum("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q",!1);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlResourceType=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlResourceType.prototype={javascript:0,CSS:1,image:2,html:3,other:4};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlResourceType.registerEnum("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlResourceType",!1);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HT=function(n,t,i,r,u,f,e,o,s){this.Name=n;this.ViewId=t;this.Columns=i;this.EntityName=r;this.TargetEntityType=u;this.ContextFilter=f;this.ExtraCondition=e;this.EnableViewPicker=o;this.FilteredViewIds=s};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertyUsage=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertyUsage.prototype={bound:0,input:1,output:2};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertyUsage.registerEnum("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertyUsage",!1);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s.$1ws=function(n,t){for(var r,u=new Array(0),f=n,e=f.length,i=0;i<e;++i)(r=f[i],t&&Microsoft.Crm.Client.Core.Framework.$1u.$gA(r.name))||u.push(r.name);return new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(u)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s.prototype={name:null,dataType:null,attributes:null,validator:null,$1n1:null,get_$Xm:function(){return this.dataType},get_$3AO:function(){return this.$1n1},$1HG:function(n){var i=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),r,t,u;if($0.$0(n))return i.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError")));if($0.$0(this.attributes)){if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.dataType))return i.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147220969));this.attributes={};this.attributes.type=this.dataType.split(".")[0]}return r=Microsoft.Crm.Client.Core.Framework.$64.$1bu(this.attributes.type),Microsoft.Crm.Client.Core.Framework.$1B.$s(this.attributes)!==r.length?(n.$1k9=!0,t=this,u=this,n.$20Z(this.name,Microsoft.Crm.Client.Core.Framework.$64.$1bu(this.attributes.type)).then(function(n){t.attributes=Microsoft.Crm.Client.Core.Framework.$1u.$1wd(n);t.$1n1=Microsoft.Crm.Client.Core.Framework.$1u.$2WB(n,t.attributes);t.attributes=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$20l(t.attributes,t.attributes.type);i.resolve(n)},function(n){var t=$0.$0(n)?Microsoft.Crm.Client.Core.Framework.$7.$f9(0):n;i.reject(t)})):i.resolve(this.attributes),i.promise()},$sV:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator,Microsoft.Crm.Client.Core.Framework.$7),i,r,u;if($0.$0(n))return t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError")));if($0.$0(this.attributes)){if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.dataType))return t.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147220969));i=this.dataType.split(".");this.attributes={};this.attributes.type=i[0];this.attributes.format=i.length>1?i[1]:""}return $0.$0(this.validator)?(r=this,u=this,n.$2gZ(this.name,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$229(this.attributes.type,"format"in this.attributes?this.attributes.format:""),!1).then(function(n){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator(n);r.validator=i;t.resolve(i)},function(n){var i=Microsoft.Crm.Client.Core.Framework.$7.isInstanceOfType(n)?n:Microsoft.Crm.Client.Core.Framework.$7.$f9(0);t.reject(i)})):t.resolve(this.validator),t.promise()}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HW=function(n){this.$A=n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HW.prototype={$5A:null,$A:null,$2jK:function(n){for(var i,r=n.$4w,u={},t=0;t<r.get_Count();t++)i=r.get_$R(t),u[i]=n.fields[i];return u},$cR:function(n,t){var i,r=this.$2jK(this.$A.$I);if($0.$0(this.$A)){i=Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError"));return}this.$1Iz(t)},$37K:function(n){for(var t,r,u=!1,f=this.$A.$I.$4b.$4A,s=f.length,e=f,o=e.length,i=0;i<o;++i)(t=e[i],t in n)&&(r=Microsoft.Crm.Client.Core.Framework.$1u.$20s(n[t],this.$5A.getColumn(t)),Microsoft.Crm.Client.Core.Framework.$2X.$Nk(r,this.$A.GetValue(t+Microsoft.Crm.Client.Core.Framework.$U.$6n))||(u=!0,this.$A.SetValue(t,r)));return u},$1Iz:function(n){var i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateRecordForCustomControl",null),t=this;i.OnFailure=function(){t.$A.$1Pv();t.$A.discardChanges();t.$A.$1O4()};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",n,i)},$CO:function(n,t){var u=new Array(0),f=n,r,e,i;for(r in f)e={key:r,value:f[r]},i=e.value,Microsoft.Crm.Client.Core.Framework.$3.$9(i.Type)||i.Static||u.push(new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nq(i.Value,i.Type,null,null));this.$5A=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91(u,this.$A);this.$2nQ(this.$2eh(n),t)},$2eh:function(n){var u={},i,r,t;if(!$0.$0(n)){i=n;for(r in i)t={key:r,value:i[r]},Object.getType(t.value)===Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord&&(u[t.value.Value]=t.value.Value)}return u},$2nQ:function(n,t){return $0.$0(this.$A)||$0.$0(n)?MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7).resolve(!0).promise():Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$93.$2Lp(this.$A,n)?MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7).resolve(!0).promise():this.$23v(n,t)},$23v:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),o=this.$A.$I.$4b.$20().columns,s=n,r,u,f,v;for(r in s)u={key:r,value:s[r]},Microsoft.Crm.Client.Core.Framework.$1u.$gA(u.key)||o.push(u.key);f={};f.columns=o;var h=Microsoft.Crm.Client.Core.Storage.Common.ColumnSet.$2y(f),c=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1),l=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.$JX(h,c),e=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveRecordFromCustomControlDataSet",l),a=this;return e.OnSuccess=function(){var t=a.$37K(n);i.resolve(!0)},v=this,e.OnFailure=function(n){i.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",t,e),i.promise()}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90=function(n,t,i,r,u,f,e,o,s,h){this.dependentEntityName=n;this.dependentAttributeName=t;this.targetEntityName=i;this.targetViewId=r;this.targetFilterRelationshipName=u;this.allowFilterOff=f;this.contextFilter=e;this.extraCondition=o;this.fetchXml=s;this.layoutXml=h};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90.$32Y=function(n,t,i){return String.format("{0}.{1}.{2}",n,t,i)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90.prototype={dependentEntityName:null,dependentAttributeName:null,targetViewId:null,targetEntityName:null,targetFilterRelationshipName:null,allowFilterOff:!1,contextFilter:null,extraCondition:null,fetchXml:null,layoutXml:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr.prototype={lookupConfiguration:null,$162:null,set_$1Mj:function(n){return this.$162=n,this.$2zj(),n},canDisableRelationshipFilter:function(){return $0.$0(this.lookupConfiguration)?!1:this.lookupConfiguration.allowFilterOff},disableRelationshipFilter:function(){this.canDisableRelationshipFilter()&&(this.$j.$88="",this.$j.$e6="",this.$j.$Bf="",this.$j.set_ModelContext(null))},clearFilter:function(){$0.$0(this.$162)?Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.prototype.clearFilter.call(this):this.setFilter(null)},enableRelationshipFilter:function(n){$0.$0(this.lookupConfiguration)||(this.$j.$88=this.lookupConfiguration.contextFilter,this.$j.$e6=this.lookupConfiguration.dependentAttributeName,this.$j.$Bf=this.lookupConfiguration.extraCondition,$0.$0(n)||$0.$0(n.$18)?Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,"Could not configure lookup ModelContext property. The parent record is null."):this.$j.set_ModelContext(n.$18))},setFilter:function(n){var t,i,r;$0.$0(this.$162)?Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.prototype.setFilter.call(this,n):(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HX,t.attributeName=this.$j.$D+"id",t.value=this.$162,t.conditionOperator=1,i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HR,i.conditions=[t],$0.$0(n)||(r=i.conditions).push.apply(r,n.conditions),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.prototype.setFilter.call(this,i))},$2zj:function(){this.setFilter(this.getFilter())}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$92=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$92.$2Yn=function(n){for(var t,u,i,r,c,f=n.Name,o=null,s=null,h=n.Properties,l=h.length,e=0;e<l;++e)t=h[e],t.Name==="PropertyDefinitions"?o=t.Value.value:t.Name==="Label"&&(s=t.Value);return u=new Array(0),i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU,i.Name="cc_MscrmControls.Knob.ArcKnobControl/libs/mscommonlib_1.0.0.js",i.LoadOrder=1,i.Type=0,u.push(i),r=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU,r.Name="cc_MscrmGeneric.Containers.FieldSectionItem/FieldSectionItem.js",r.LoadOrder=2,r.Type=4,u.push(r),c=[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FormFactor",Microsoft.Crm.Client.Core.Framework.$6.get_$1d()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsDataSetControl",!1),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("GridEnabled",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DisableHeaderLongPress",null),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TopMenuEnabled",null),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ControlMode",2),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ControlType",1),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ConstructorName","MscrmGeneric.Containers.FieldSectionItem"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DisplayName","Field Section Item"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Internal",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsContainer",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Label",s),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PropertyDefinitions",{value:o}),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DataSetDefinitions",null),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("GroupDefintions",null),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Resources",u),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",!0)],new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("CustomControl","CustomControlHostView",f,c,n.ControlProperties,null,n.PrimaryModelName,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiControlDescriptor(25,f,f,!0))};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$93=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$93.$2Lp=function(n,t){var r=t,i,u;for(i in r)if(u={key:i,value:r[i]},!n.$22h(u.key))return!1;return!0};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV=function(n){this.$t=n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV.prototype={$t:null,$20:function(){return this.$t},$1gI:function(n){var u,t,i,r;if($0.$0(this.$t))this.$t=n.$20();else{u=n.$20();t=u;for(i in t)r={key:i,value:t[i]},this.$t[r.key]=r.value}}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$20l=function(n,t){var r,f,i,e,o,u,s;if(!$0.$0(t))switch(t.toLowerCase()){case"integer":case"bigint":case"whole":if(!("format"in n)||$0.$0(n.format))break;switch(n.format.toLowerCase()){case"language":for(r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$11V,f={},i=0;i<r.length;i++)f[r[i].toString()]=Microsoft.Crm.Client.Core.Storage.Formatting.CrmNumericFormatter.$C.$1G6(r[i]);n.languagebycode=f;break;case"timezone":for(e={},o=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.TimeZoneDefinition))(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.timezonedefinitionbycode.$1mk()),u=0;u<o.get_Count();u++)s=o.get_$R(u),e[s.$SB.toString()]=s.$nw;n.timezonebycode=e}}return n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$229=function(n,t){$0.$0(t)||(t=t.toLowerCase());switch(n.toLowerCase()){case"string":case"singleline":switch(t){case"email":return 5;case"url":return 6;default:return 1}case"decimal":case"double":case"fp":case"float":return 3;case"money":case"currency":return 4;case"integer":case"bigint":case"whole":return 2;case"datetime":case"dateandtime":return 8;default:return 1}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc=function(n,t){this.$L=n;this.$1kp=t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc.prototype={$L:null,$1kp:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.get_$2Xg=function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2?"18px":"14px"};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2jr=function(n){var t={};return t.crmUrlEncode=CrmEncodeDecode.CrmUrlEncode,t.crmHtmlEncode=CrmEncodeDecode.CrmHtmlEncode,t.isNullOrUndefined=$0.$0,t.createPerformanceMarker=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L,t.createPerformanceStopwatch=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Z5,t.setState=n.$$d_$nT,t.createCrmUri=function(n){return Mscrm.CrmUri.create(n).toString()},t.getServiceUri=function(n){if($0.$0(n)||Microsoft.Crm.Client.Core.Framework.$3.$12(n))return"";switch(n.toLowerCase()){case"websitepreview":return Mscrm.CrmUri.create("/Websitepreview/previewservice.aspx").toString();default:return""}},t.openInBrowser=function(n){$0.$0(n)||Microsoft.Crm.Client.Core.Framework.$3.$12(n)||(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$1U?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$6g.$Kb(n):window.open(n))},t.setNotification=function(t,i){return Microsoft.Crm.Client.Core.Framework.$3.$12(t)?!1:(n.set_ManualValidatorResult(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,t,i)),!0)},t.clearNotification=function(t){return $0.$0(n.$7u)||!$0.$0(t)&&t!==n.$7u.$1ZY?!1:(n.set_ManualValidatorResult(null),!0)},t.log=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2qx,t.disablePanoramaScroll=function(){},t.scrollToView=Microsoft.Crm.Client.Core.Framework.$1Q.$2D4,t.tryCreateGuid=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate,t.requestRender=n.$$d_requestRender,t.isTabPressed=n.$$d_isTabPressed,t.setLastTabPressedTime=n.$$d_setLastTabPressedTime,t.setInteractionMode=n.$$d_setInteractionMode,t.getInteractionMode=n.$$d_getInteractionMode,t.triggerBarcodeAction=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Vo(n,t,i)},t.isCameraAvailable=function(){return!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$ZL()},t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2ir=function(n){var t={};return t.getString=Microsoft.Crm.Client.Core.Framework.Common.$2.$4,t.getResource=function(t,i,r){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$33D(t,n,i,r)},t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2ex=function(n){var t={},i;return t.formFactor=Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),t.userAgent=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1Yc,t.languageCode=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$xV,t.locale=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$126,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$2gM(),i.showWeekNumber=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$1QC,t.orgSettings=i,t.dateFormattingInfo=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$2gL(),t.numberFormattingInfo=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$2gN(),t.getUserTimeZoneUtcOffset=function(n){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$PW+Microsoft.Crm.Client.Core.Framework.$h.$1HL(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$C9())},t.maxAvailableWidth=n.$150,n.$Tu&&(t.viewportHeight=n.$192),t.isRTL=!1,t.isHighContrast=!1,t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2qx=function(n,t,i){var r=n+": "+t;switch(i){case 1:Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,r);break;case 4:Microsoft.Crm.Client.Core.Framework.Trace.logInfo(1033,r);break;case 2:Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1033,r)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2gh=function(){var n={};return n.formatDateShort=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xq,n.formatDateLongAbbreviated=function(n){return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$2Xp(n,0)},n.formatDateLong=function(n){return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$2Y2(n,0)},n.formatDateYearMonth=function(n){return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$2Xt(n,0)},n.formatInteger=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$$d_$1G5,n.formatDecimal=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xu,n.formatCurrency=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1wR,n.getWeekOfYear=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2k0,n.formatTime=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$$d_$OP,n.formatDateAsFilterStringInUTC=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xo,n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2hX=function(){var n={};return n.openEditForm=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w2,n.openCreateForm=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1MT,n.openSearch=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2wE,n.openDashboard=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w1,n.openUrl=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$mS,n.openUrlWithProtocol=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$28z,n.openPhoneNumber=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2wA,n.openMaps=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w8,n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$21y=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.get_instance().$CJ;return t.fontfamily="'SegoeUI', 'Segoe UI'",t.fontcolor="#000000",t.fontsize=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.get_$2Xg(),t.getEntityColor=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1HN,t.disableUiTransitions=function(){n.$1Er=!0},t.rightAlignEdit=function(){n.set_RightAlignedEdit(!0)},t.inlineLayout=function(t){n.set_InlineLayout(t)},t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2i4=function(n){var t={},r=n.$2.$g,i;switch(r){case 2:case 5:$0.$0(n.get_ModelContext())||(i=n.get_ModelContext().$I,$0.$0(i)||$0.$0(i.$a)||(t.recordId=i.$a.get_identifier(),t.entityType=i.$a.LogicalName));break;case 1:t.recordId=n.$2.$q;t.entityType=n.$D}return t};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2gQ=function(){var n={};return n.createComponent=function(n,t,i){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT(n,t,i,null)},n.createElement=function(n,t,i){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT(n,"",t,i)},n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HZ=function(n,t,i,r,u){this.$L=n;this.$1q=t;this.$1VV=i;this.$AW=r;this.$1ns=u};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HZ.prototype={$L:null,$1q:null,$1VV:null,$AW:null,$1ns:0,$2Yb:function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np(this.$L,this.$1q,this.$1VV,this.$AW,this.$1ns,!1,-1,!1,null,null)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p.$2fI=function(n,t){var i,f,r,u,e,o;if($0.$0(t))return null;i=null;try{if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))i=t.get_ModelContext();else{f=t.$w.$12g();r=f;for(u in r)if(e={key:u,value:r[u]},o=e.value.$j.$2n,i=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p.$2fJ(n,o),!$0.$0(i))return i;if($0.$0(i))throw Error.create("Invalid Record Id");}}catch(s){throw s;}return i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p.$2fJ=function(n,t){var i,r;if(!$0.$0(t)&&Microsoft.Crm.Client.Core.Models.$1j.isInstanceOfType(t)&&(i=t.get_$CZ(),!$0.$0(i)))for(r=0;r<i.get_Count();r++)if(!$0.$0(i.get_$R(r))&&i.get_$R(r).get_$2m()===n)return i.get_$R(r);return null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np=function(n,t,i,r,u,f,e,o,s,h){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np.initializeBase(this);this.name=n;this.displayName=t;this.alias=i;this.dataType=r;this.visualSizeFactor=u;this.attributes=s;this.validator=h;this.isHidden=f;this.order=e;this.disableSorting=o};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np.prototype={alias:null,displayName:null,visualSizeFactor:0,isHidden:!1,disableSorting:!1,order:0,get_$2oG:function(){return Microsoft.Crm.Client.Core.Framework.$1u.$gA(this.name)},get_$jM:function(){return"type"in this.attributes?Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2rR(this.attributes.type):-1}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator=function(n){this.$SF=n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator.prototype={$SF:null,validate:function(n,t,i){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlValidatorResult(this.$SF.$6W(n,t,i))}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HX=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HX.prototype={attributeName:null,conditionOperator:0,value:null,values:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HR=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HR.prototype={conditions:null,filterOperator:0,filters:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z=function(n){var t,i;for(this.$j=n,this.aliasMap={},t=0;t<n.$Bm.length;t++)i=n.$Bm[t],Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(i.alias)||(this.aliasMap[i.alias]=i.name)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.$1Xe=function(n){switch(n){case 0:return"eq";case 1:return"ne";case 4:return"ge";case 2:return"gt";case 5:return"le";case 3:return"lt";case 25:return"on";case 26:return"on-or-before";case 27:return"on-or-after";case 6:return"like";case 14:return"yesterday";case 15:return"today";case 16:return"tomorrow";case 17:return"last-seven-days";case 18:return"next-seven-days";case 19:return"last-week";case 20:return"this-week";case 22:return"last-month";case 23:return"this-month";case 28:return"last-year";case 29:return"this-year";case 75:return"above";case 78:return"eq-or-above";case 76:return"under";case 79:return"eq-or-under";case 77:return"not-under"}return""};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.prototype={$j:null,filterExpression:null,aliasMap:null,getFilter:function(){return this.filterExpression},setFilter:function(n){this.filterExpression=n;this.$j.$22=this.$1w3(n)},clearFilter:function(){this.filterExpression=null;this.$j.$22=""},$FM:function(n){return $0.$0(this.aliasMap[n])?n:this.aliasMap[n]},$1w3:function(n){var t,u,i,r,f,s,e,o;if(Mscrm.InternalUtilities.JSTypes.isNull(n.filterOperator)&&(n.filterOperator=0),t="",Mscrm.InternalUtilities.JSTypes.isNull(n)||(Mscrm.InternalUtilities.JSTypes.isNull(n.conditions)||!n.conditions.length)&&(Mscrm.InternalUtilities.JSTypes.isNull(n.filters)||!n.filters.length))return t;if(Mscrm.InternalUtilities.JSTypes.isNull(n.conditions)){for(n.filters.length>1&&(this.$1rI(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$1w.toString(n.filterOperator)),t+='<filter type="'+Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$1w.toString(n.filterOperator).toLowerCase()+'">'),o=0;o<n.filters.length;o++)t+=this.$1w3(n.filters[o]);n.filters.length>1&&(t+="<\/filter>")}else{for(n.conditions.length>0&&(this.$1rI(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$1w.toString(n.filterOperator)),t+='<filter type="'+Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$1w.toString(n.filterOperator).toLowerCase()+'">'),u=0;u<n.conditions.length;u++)if(i=n.conditions[u],this.$2OM(i),r=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$4v(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.$1Xe(i.conditionOperator)),this.$2OB(r),f=this.$FM(i.attributeName),Mscrm.InternalUtilities.JSTypes.isNull(i.value)&&Mscrm.InternalUtilities.JSTypes.isNull(i.values))t+='<condition attribute="'+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$4v(f)+'" operator="'+r+'"/>';else if(Mscrm.InternalUtilities.JSTypes.isNull(i.value)||i.value===""){if(!Mscrm.InternalUtilities.JSTypes.isNull(i.values)&&i.values.get_Count()>0){for(s=i.values,t+='<condition attribute="'+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$4v(f)+'" operator="'+r+'">',e=0;e<s.get_Count();e++)t+="<value>"+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$4v(s.get_$R(e))+"<\/value>";t+="<\/condition>"}}else t+='<condition attribute="'+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$4v(f)+'" operator="'+r+'" value="'+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$Vf(i.value)+'" />';n.conditions.length>0&&(t+="<\/filter>")}return t},$1rI:function(n){switch(n){case"and":case"or":case"not":break;default:throw Error.create("Invalid filter operator"+n);}},$2OB:function(n){switch(n){case"eq":case"ne":case"ge":case"gt":case"le":case"lt":case"on":case"on-or-before":case"on-or-after":case"like":case"yesterday":case"today":case"tomorrow":case"last-seven-days":case"next-seven-days":case"last-week":case"this-week":case"last-month":case"this-month":case"last-year":case"this-year":case"above":case"eq-or-above":case"under":case"eq-or-under":case"not-under":break;default:throw Error.create("Invalid condition operator"+n);}},$2OM:function(n){if(!Mscrm.InternalUtilities.JSTypes.isNull(n.attributeName)&&(!Mscrm.InternalUtilities.JSTypes.isNull(n.value)||!Mscrm.InternalUtilities.JSTypes.isNull(n.values))&&Mscrm.InternalUtilities.JSTypes.isNull(n.conditionOperator))throw Error.argumentNull("Condition Operator in ConditionExpression is missing");if(!Mscrm.InternalUtilities.JSTypes.isNull(n.conditionOperator)&&(!Mscrm.InternalUtilities.JSTypes.isNull(n.value)||!Mscrm.InternalUtilities.JSTypes.isNull(n.values))&&Mscrm.InternalUtilities.JSTypes.isNull(n.attributeName))throw Error.argumentNull("AttributeName in ConditionExpression is missing");}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U=function(){this.$$d_$2ZM=Function.createDelegate(this,this.$2ZM);this.$$d_$2YT=Function.createDelegate(this,this.$2YT);this.$$d_$2tL=Function.createDelegate(this,this.$2tL);this.$$d_$2ut=Function.createDelegate(this,this.$2ut);this.$$d_$1ha=Function.createDelegate(this,this.$1ha);this.$$d_$gn=Function.createDelegate(this,this.$gn);this.$$d_$P1=Function.createDelegate(this,this.$P1);this.$$d_$2tI=Function.createDelegate(this,this.$2tI);this.$$d_$2tK=Function.createDelegate(this,this.$2tK);this.sortedRecordIds=new Array(0);this.records={};this.sorting=new Array(0);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U.$2Yc=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var nt=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U,Microsoft.Crm.Client.Core.Framework.$7),g=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U;return g.$8r=t.toString(),g.columns=i,g.$j=new Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel(i),g.$j.$1Q9=a,l||(g.$lu=g.$2RA(r,d),g.$j.$88=u,g.$j.set_ModelContext(n),g.$j.$Bf=f,g.$j.$5T=w,g.$j.$52=b,g.$j.$6c=k,g.$j.set_GridEnabled(s),g.$j.$E6=h),g.$j.$ey=p,g.$j.set_DefinitionId(t.toString()),g.$j.$q=t.toString(),g.$j.set_$GO(e),g.$j.$78=o,g.$j.$hz=c,g.$j.set_EnableViewPicker(y),g.$j.$1Oh(t.toString(),r,l,null).then(function(){var i,t;g.paging=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS(g.$j);g.sorting=g.$j.$1Hk();g.commanding=g.$j.$1bz();l?(i=g.$1wu(n),g.$j.$2Z(),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr(g.$j),$0.$0(d)||(t.lookupConfiguration=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90(r,d.DependentAttributeName,d.DependentAttributeType,Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(d.DefaultViewId).toString(),d.FilterRelationshipName,"AllowFilterOff"in d?Boolean.parse(d.AllowFilterOff):!1,"ContextFilter"in d?d.ContextFilter:"","ExtraCondition"in d?d.ExtraCondition:"","FetchXml"in d?d.FetchXml:"","LayoutXml"in d?d.LayoutXml:"")),t.enableRelationshipFilter(i),t.set_$1Mj($0.$0(i)?null:i.getRecordId()),g.filtering=t):(g.columns=g.$j.$Bm,g.$2Af(),g.filtering=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z(g.$j));nt.resolve(g)},function(n){g.hasError=!0;g.errorMessage=n.$F;nt.resolve(g)}),c&&!$0.$0(v)&&g.$j.$CK(v),g.$j.add_DataSetChanged(g.$$d_$2tK),l||(g.$j.AddPropertyChangedListener("IsLoading",g.$$d_$2tI),g.$j.$2.add_$P1(g.$$d_$P1),g.$j.$2.add_$gn(g.$$d_$gn)),nt.promise()};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U.prototype={$Fn:null,get_DataSetViewModel:function(){return this.$j},get_$5q:function(){if($0.$0(this.$Fn)){var n=Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$l0(this.$j.$2,this.$j);$0.$0(n)||$0.$0(n.$2e)||(this.$Fn=n.$2e)}return this.$Fn},add_OnDataSetRecordChange:function(n){this.$1p("DataSetRecordChangeEventName",n)},remove_OnDataSetRecordChange:function(n){this.$32("DataSetRecordChangeEventName",n)},$2Yd:function(n){var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U,Microsoft.Crm.Client.Core.Framework.$7),r,e,t,l,y;if(!$0.$0(n)&&!$0.$0(n.attributes)&&"targets"in n.attributes)if(r=this,e=function(t){var u=function(){t.$j.$1k||i.resolve(t)};i.done(function(){t.removeOnDataSetUpdated(u);$0.$0(r.$RD)&&(r.$RD={});n.name in r.$RD||(r.$RD[n.name]=t)});t.addOnDataSetUpdated(u)},!$0.$0(this.$RD)&&n.name in this.$RD){var o=this.$RD[n.name],h=o.filtering,s=this.getSelectedRecord();h.enableRelationshipFilter(s);h.set_$1Mj($0.$0(s)?null:s.getRecordId());o.refresh(null);e(o)}else{var a=n.attributes.targets,v=a[0],c=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90.$32Y(this.$j.get_DefinitionId(),this.$j.$D,n.name),u=Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString(),f=null;c in this.$lu&&(f=this.$lu[c],u=f.targetViewId);t=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U;t.$j=new Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel(null);t.$j.$1Q9=!1;t.$j.set_DefinitionId(u);t.$j.$q=u;t.$j.set_$GO(this.$j.$2);t.$j.$78=!1;t.$j.$hz=!1;t.$j.set_EnableViewPicker(!1);l=this;y=this;t.$j.$1Oh(u,v,!0,f).then(function(){var i=l.getSelectedRecord(),n;t.columns=t.$j.$Bm;t.paging=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS(t.$j);t.sorting=t.$j.$1Hk();t.commanding=t.$j.$1bz();t.$j.$2Z();n=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr(t.$j);n.lookupConfiguration=f;n.enableRelationshipFilter(i);n.set_$1Mj($0.$0(i)?null:i.getRecordId());t.filtering=n},function(n){t.hasError=!0;t.errorMessage=n.$F;i.resolve(t)});t.$j.add_DataSetChanged(t.$$d_$2tK);e(t)}else i.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147220969));return i.promise()},$2RA:function(n,t){var r={},u=t;for(var f in u){var e={key:f,value:u[f]},i=e.value,o=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90(n,i.DependentAttributeName,i.DependentAttributeType,Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(i.DefaultViewId).toString(),i.FilterRelationshipName,"AllowFilterOff"in i?Boolean.parse(i.AllowFilterOff):!1,"ContextFilter"in i?i.ContextFilter:"","ExtraCondition"in i?i.ExtraCondition:"","FetchXml"in i?i.FetchXml:"","LayoutXml"in i?i.LayoutXml:"");r[e.key]=o}return r},$2Af:function(){var t;this.$jk=new Array(0);for(var i=this.columns,r=i.length,n=0;n<r;++n)t=i[n],Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(t.alias)||this.$jk.push(t)},$2tr:function(){this.$j.$2Z()},$Oh:function(){this.$1uu();this.$2UW();$0.$0(this.$j)||(this.$j.$2.remove_$P1(this.$$d_$P1),this.$j.$2.remove_$gn(this.$$d_$gn),this.$j.dispose());Microsoft.Crm.Client.Core.Framework.$AJ.prototype.$Oh.call(this)},$P1:function(){var i=this.records,n,r,t;for(n in i)r={key:n,value:i[n]},t=r.value,t.$1pz(),this.$2G9(t)},$gn:function(){var i=this.records,n,r,t;for(n in i)r={key:n,value:i[n]},t=r.value,t.$1uX(),this.$2H9(t)},$1uu:function(){var t,i,r,n;if(!$0.$0(this.records)){t=this.records;for(i in t)r={key:i,value:t[i]},$0.$0(r.value)||(n=r.value,n.RemovePropertyChangedListener("RecordChangedEventName",this.$$d_$1ha),this.$2H9(n),n.dispose())}},$2G9:function(n){n.add_OnDataSetRecordPropertyChanged(this.$$d_$2ut);n.add_OnDataSetRecordChange(this.$$d_$2tL)},$2H9:function(n){n.remove_OnDataSetRecordPropertyChanged(this.$$d_$2ut);n.remove_OnDataSetRecordChange(this.$$d_$2tL)},$2UW:function(){var n,t,i,r;if(!$0.$0(this.$RD)){n=this.$RD;for(t in n)i={key:t,value:n[t]},$0.$0(i.value)||(r=i.value,r.dispose())}},$1wr:function(n){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t;if($0.$0(this.$j))i.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError")));else if(t=null,$0.$0(this.$j.$A4)?this.$j.get_RecordCount()>0&&(t=this.$j.$2n.get_$CZ().getItem(0)):t=this.$j.$A4.get_ModelContext(),$0.$0(t)){var r=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s.$1ws(this.columns,!0),u=this,f=this;Microsoft.Crm.Client.Core.Models.$c.$jn(this.$j.$D,r).then(function(t){n(t).always(function(){t.$5E();i.resolve(!0)})},function(n){i.reject(n)})}else return n(t);return i.promise()},$2ZM:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),u=new Array(0),i,o,s;if($0.$0(n))t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError")));else{for(var f=this.columns,e=f.length,r=0;r<e;++r)i=f[r],Microsoft.Crm.Client.Core.Framework.$1u.$gA(i.name)||i.isHidden||u.push(i.$sV(n));o=this;s=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when.apply(null,u).then(function(){t.resolve(!0)},function(n){var i=Microsoft.Crm.Client.Core.Framework.$7.isInstanceOfType(n)?n.$F:JSON.stringify(n);Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,i);t.resolve(!1)})}return t.promise()},$2YT:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),u=new Array(0),r,o,s;if($0.$0(n))t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError")));else{for(var f=this.columns,e=f.length,i=0;i<e;++i)r=f[i],Microsoft.Crm.Client.Core.Framework.$1u.$gA(r.name)||u.push(r.$1HG(n));o=this;s=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when.apply(null,u).then(function(){t.resolve(!0)},function(n){var i=Microsoft.Crm.Client.Core.Framework.$7.isInstanceOfType(n)?n.$F:JSON.stringify(n);Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,i);t.resolve(!1)})}return t.promise()},working:!1,columns:null,paging:null,commanding:null,filtering:null,hasError:!1,errorMessage:null,setSelectedRecords:function(){},setSelectedRecordId:function(n,t){var e=this.$j.$A4,h=$0.$0(e)?null:e.$4Z,r,i,o,u,f;if(Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(n))this.clearSelectedRecord();else for(r=0;r<this.$j.$1f.get_Count();r++)if(i=this.$j.$1f.get_$R(r),i.$4Z===n){this.$j.set_SelectedItem(i);!(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))||$0.$0(this.get_$5q())||$0.$0(this.get_$5q().$w)||(this.get_$5q().$w.$BG=this);t?(i.$j1=1,o=i.get_SelectListItemCommand(),o.execute()):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().clearSelectedViewModels();break}u=this.$RD;for(f in u){var c={key:f,value:u[f]},l=c.value,s=l.filtering;$0.$0(s)||s.set_$1Mj(n)}h!==n&&this.$2Cd(n)},$1VA:function(){var n,t;(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&this.$j.$2.$g===13&&(n=this.$j.$2.$CL.GridPane,$0.$0(n)||(t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor,this.$j.$2.$5k=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$2Ar(n,t)))},$1jT:function(){(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&this.$j.$2.$g===13&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$3AS(this.$j.$2,"crmGrid")},$2Cd:function(n){var i,u,t,r;$0.$0(this.get_$5q())||(i=(this.$j.$2.$g===13?"crmGrid":this.get_$5q().$L)+":"+this.$j.$D,u=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$203(i),!$0.$0(u)&&u.get_Count()>0&&(t=this.records[n],$0.$0(t)||(r=this,t.$2Uo().done(function(){t.$Tv||t.$2h||r.$j.$A4.$4Z!==t.getRecordId()||(r.$1VA(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$33c(i),(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$2Cd(i),r.$1jT())}))))},clearSelectedRecord:function(){this.$j.set_SelectedItem(null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.$1X8();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.set_IsLoading(!1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().clearSelectedViewModels()},getSelectedRecord:function(){return!$0.$0(this.$j.$A4)&&!$0.$0(this.$j.$A4.get_ModelContext())?this.records[this.$j.$A4.get_ModelContext().get_Id()]:null},refresh:function(n){if(Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(n))this.$2Hw(),this.$j.$Rr();else{var t=this,i=this;this.$2zh(n).then(function(){t.$2Hw();t.$j.$Rr()},function(n){i.hasError=!0;i.errorMessage=n.$F})}},$2zh:function(n){var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U,Microsoft.Crm.Client.Core.Framework.$7),r=Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString(),t,u;return this.$j=new Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel(null),this.$jk=this.columns=new Array(0),this.$j.set_DefinitionId(r),this.$j.$q=r,this.paging=null,this.sorting=null,this.filtering=null,t=this,u=this,this.$j.$1Oh(r,n,!0,null).then(function(){t.paging=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS(t.$j);t.sorting=t.$j.$1Hk();t.$j.$2Z();var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr(t.$j);t.filtering=n;t.columns=t.$j.$Bm;t.$2Af();i.resolve(t)},function(n){u.hasError=!0;u.errorMessage=n.$F;i.reject()}),this.$j.add_DataSetChanged(this.$$d_$2tK),i.promise()},generateAdditionalAttributes:function(){return this.$1wr(this.$$d_$2YT)},generateValidators:function(){return this.$1wr(this.$$d_$2ZM)},getLookupDataSet:function(n){var t=this.$2Wt(n);return this.$2Yd(t)},addOnDataSetUpdated:function(n){this.$1p("DataSetUpdatedEventName",n)},removeOnDataSetUpdated:function(n){this.$32("DataSetUpdatedEventName",n)},getViewId:function(){return this.$8r},$j:null,$8r:null,$jk:null,$lu:null,$RD:null,$2tI:function(){this.working=this.$j.$1k},$2tK:function(){var f=this.$j.$2n,i,r,u,n,t;if(this.hasError=this.$j.$13L,this.hasError&&(this.errorMessage=this.$j.get_ListErrorMessage()),i=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91)),r=new Array(0),this.$1uu(),!$0.$0(f)){for(u=f.$KS,n=0;n<u.get_Count();n++)t=u.get_$R(n),i.set_$R(t.get_$2m(),this.$1wu(t)),r[n]=t.get_$2m();this.paging=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS(this.$j);this.sorting=this.$j.$1Hk();this.commanding=this.$j.$1bz();$0.$0(this.filtering)&&(this.filtering=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z(this.$j))}this.records=i.$1RT();this.sortedRecordIds=r;this.$l4("DataSetUpdatedEventName")},$1ha:function(n){if(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91.isInstanceOfType(n)){var t=n;this.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ(t.getRecordId(),!0))}},$2ut:function(n,t){if(!$0.$0(n)&&!Mscrm.InternalUtilities._String.isNullOrEmpty(t)){this.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vI(n.getRecordId(),t));var i=this.$j.$A4,r=null;$0.$0(i)||(r=i.$4Z);r===n.getRecordId()&&this.$33g(n,t)}},$2tL:function(n){this.$9n("DataSetRecordChangeEventName",n)},$1wu:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91(this.columns,n);return t.AddPropertyChangedListener("RecordChangedEventName",this.$$d_$1ha),this.$2G9(t),t.$Aq=this.$1wC(t.getRecordId()),t},$2Hw:function(){var n,t,i;Mscrm.InternalUtilities.JSTypes.isNull(this.sorting)||Mscrm.InternalUtilities.JSTypes.isNull(this.sorting[0])?this.$j.$3q=null:(n=new Microsoft.Crm.Client.Core.Framework.$6M,t=this.sorting[0],n.$8Q=this.$FM(t.name),n.$Cg=t.sortDirection===1,Mscrm.InternalUtilities.JSTypes.isNull(this.sorting[1])||(i=this.sorting[1],n.$Al=this.$FM(i.name),n.$FO=i.sortDirection===1),this.$j.$3q=n)},$FM:function(n){for(var i,t=0;t<this.columns.length;t++)if(i=this.columns[t],i.alias===n||i.name===n)return i.name;return n},$1wC:function(n){var t,i,r,u=this;return r=this.$j.$1f.$3AH(function(t){return t.$4Z===n},i={val:t}),t=i.val,r,t},$2Wt:function(n){for(var i,t=0;t<this.columns.length;t++)if(i=this.columns[t],i.name===n)return i;return null},$2HL:function(n){var u=null,t,i,r;if(!$0.$0(n)){if(n.$TF="",t=this.$1wC(n.getRecordId()),$0.$0(t)||$0.$0(t.get_ModelContext())){n.$TF=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_DataSetUpdate_CouldNotFindRecordModelError");this.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ(n.getRecordId(),!1));return}u=t.get_ModelContext();i=this;r=this;n.validateAllColumns().done(function(r){r?(i.$2Ce(),i.$1Iz(t)):i.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ(n.getRecordId(),!1))}).fail(function(t){n.$TF=t.$F;r.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ(n.getRecordId(),!1))})}},$33g:function(n,t){if(!$0.$0(n)&&!$0.$0(this.get_$5q())&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))){this.$1VA();var i=(this.$j.$2.$g===13?"crmGrid":this.get_$5q().$L)+":"+this.$j.$D+":"+t;Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$1P2(null,i);this.$1jT()}},$2Ce:function(){if(!$0.$0(this.get_$5q())){var n=(this.$j.$2.$g===13?"crmGrid":this.get_$5q().$L)+":"+this.$j.$D;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents")&&(this.$1VA(),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$2Ce(n),this.$1jT())}},$1Iz:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("UpdateRecordForCustomControl",null),i=n.$4Z,r=this;t.OnFailure=function(n){var t=r.records[i];$0.$0(t)||(t.$TF=n.$F);r.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ(i,!1))};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",n,t)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS=function(n){this.$j=n;this.totalResultCount=this.$j.get_RecordCount();this.pageSize=this.$j.get_PageSize();this.hasNextPage=this.$j.$1Z.$15E;this.hasPreviousPage=this.$j.$1Z.$1LX};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS.prototype={$j:null,totalResultCount:0,pageSize:0,hasNextPage:!1,hasPreviousPage:!1,setPageSize:function(n){$0.$0(n)||n<=0||this.$j.set_PageSize(n)},loadNextPage:function(){this.$j.$1fo()},loadPreviousPage:function(){this.$j.$1fq()},reset:function(){this.$j.$Ea()}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91=function(n,t){this.$$d_$mQ=Function.createDelegate(this,this.$mQ);this.$$d_$2uI=Function.createDelegate(this,this.$2uI);this.$Qh={};this.$kV={};this.$eu={};this.$kU={};this.$1EP={};this.$6M={};this.$1Bw={};this.$xY=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult));Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91.initializeBase(this);this.$4A=this.$2YW(n);this.$4b=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s.$1ws(n,!0);this.$P=t.get_$HV();this.$18=t;this.$18.add_$7L(this.$$d_$2uI);this.$1pz();this.$1jD()};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91.prototype={$P:null,$18:null,$1Bf:null,$4A:null,$4b:null,$14Q:!1,$TF:null,$nC:null,add_OnDataSetRecordPropertyChanged:function(n){this.$1p("RecordPropertyChangedEventName",n)},remove_OnDataSetRecordPropertyChanged:function(n){this.$32("RecordPropertyChangedEventName",n)},add_OnDataSetRecordChange:function(n){this.$1p("DataSetRecordChangeEventName",n)},remove_OnDataSetRecordChange:function(n){this.$32("DataSetRecordChangeEventName",n)},$2uI:function(n,t){if(Microsoft.Crm.Client.Core.Models.$m.$sK(t)===Microsoft.Crm.Client.Core.Framework.$U.$6n){var i=Microsoft.Crm.Client.Core.Models.$m.$5d(t);this.$1jD();this.$13I("RecordPropertyChangedEventName",this,i)}},$2YW:function(n){for(var u,t,f={},i={},e=n,o=e.length,r=0;r<o;++r)u=e[r],t=u.name,t in i?(t=t+"#"+i[t],i[t]=i[t]+1):i[t]=1,f[t]=u;return f},$Aq:null,getRecordId:function(){return this.$18.get_$2m()},getColumn:function(n){return this.$4A[n]},getValue:function(n){var t=this.$FM(n);return this.$1EP[t]},reformatValue:function(n){var t=this.$18.$I,i=this.$FM(n);return!$0.$0(this.$18.$53)&&this.$18.$53.hasField(i)&&(t=this.$18.$53),this.$18.$DG(t,i),this.getFormattedValue(n)},getAttributes:function(n){return n.$1HG(this.$18)},getValidator:function(n){return n.$sV(this.$18)},setValue:function(n,t){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),o=this.$FM(n),i=this.$4A[o],u,f,e;return $0.$0(i)?r.reject():(u=this.isValid(i.name),f=this.getNotification(i.name),this.$TF="",this.$18.$22h(i.name)||this.$18.$I.initializeValue(i.name,null,i.get_$jM()),e=Microsoft.Crm.Client.Core.Framework.$1u.$20s(t,i),this.$18.SetValue(i.name,e),this.$18y(i.name,u,f),r.resolve(!0),r.promise())},getFormattedValue:function(n){var t=this.$FM(n);return this.$6M[t]},getErrorMessage:function(){var n=this.$TF;return Mscrm.InternalUtilities._String.isNullOrWhiteSpace(n)&&!this.isRecordValid()&&(n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Form_Component_Error")),n},isDirty:function(){return this.$18.$CX()},isRecordValid:function(){var n=Mscrm.InternalUtilities._String.isNullOrWhiteSpace(this.$TF),r=this.$4A,t,u,i;for(t in r)u={key:t,value:r[t]},i=u.value,$0.$0(i)||(n=n&&this.isValid(i.name));return n},getPrimaryEntityLogicalName:function(){return this.$P==="activitypointer"&&!$0.$0(this.$1Bf)?this.$1Bf:this.$P},getCurrencyDecimalPrecision:function(n){return n.dataType==="Currency"&&!$0.$0(this.$18)?this.$18.$20b(n.name):"precision"in n.attributes?n.attributes.precision:Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$UP.CurrencyDecimalDigits},$1pz:function(){this.$14Q||$0.$0(this.$18)||(this.$18.add_$7v(this.$$d_$mQ),this.$14Q=!0)},$1uX:function(){this.$14Q&&!$0.$0(this.$18)&&(this.$18.remove_$7v(this.$$d_$mQ),this.$14Q=!1)},getNamedReference:function(){return this.$18.get_$MS()},getActivityPartyRecord:function(){return this.$18.get_$2Ix()},validateAllColumns:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),r=new Array(0),u=this.$4A,i,f,n,e,o,s,h;for(i in u)f={key:i,value:u[i]},n=f.value,$0.$0(n)||n.get_$2oG()||n.isHidden||(e=this.isValid(n.name),o=this.getNotification(n.name),r.push(this.$2IC(n,e,o)));return s=this,h=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when.apply(null,r).then(function(){t.resolve(s.isRecordValid())},function(n){var i=n;h.$TF=i.$F;t.reject(i)}),t.promise()},$18y:function(n,t,i){var r=this.$FM(n),u=this.$4A[r],f=this;this.$2IC(u,t,i).fail(function(n){f.$TF=n.$F})},$2IC:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),u=this,f=this;return n.$sV(this.$18).done(function(f){u.isEditable(n.name).done(function(e){u.$2nH(n.name,f,e,t,i).done(function(n){r.resolve(n)}).fail(function(n){r.reject(n)})}).fail(function(n){r.reject(Microsoft.Crm.Client.Core.Framework.$7.$1GB(n))})}).fail(function(n){r.reject(n)}),r.promise()},$2nH:function(n,t,i,r,u){var e=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),o=r,f,s;return $0.$0(t)?e.resolve(o):(f=this,s=this,this.getFieldRequiredLevel(n).done(function(s){var h,c,l;switch(s){case 0:t.$SF.set_$tH(!1);break;case 3:t.$SF.set_$tH(!1);break;case 2:t.$SF.set_$tH(!0)}h=f.$18.GetValue(n+Microsoft.Crm.Client.Core.Framework.$U.$6n);c=t.validate(h,!1,!i);f.setValidatorResult(n,c.isValid,h,c.errorMessage);o=f.isValid(n);l=f.getNotification(n);(r!==o||u!==l)&&f.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2tv(f.getRecordId(),n));e.resolve(o)}).fail(function(n){e.reject(n)})),e.promise()},$FM:function(n){return $0.$0(this.$1Bw[n])?n:this.$1Bw[n]},$1Ok:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$1g,Object),i,r,u;return Microsoft.Crm.Client.Core.Framework.$1u.$gA(n)?(t.resolve(Microsoft.Crm.Client.Core.Framework.$1g.get_$2AY()),t.promise()):(i=this.$Qh[n],!$0.$0(i)&&!i.$DB)?(t.resolve(i),t.promise()):(r=this,u=this,this.$23v().then(function(){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$1HT(r.$18,n,2);i.then(function(i){r.$Qh[n]=i;t.resolve(i)},function(t){Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,String.format("Could not retrieve field access rules for field {0}: {1}",n,JSON.stringify(t)))})},function(n){t.reject(n)}),t)},setFieldErrorMessage:function(n,t){var i=this.$FM(n),r=this.isValid(i),u=this.getNotification(i);this.$kU[i]=t;this.$18y(i,r,u)},clearFieldErrorMessage:function(n){var t=this.$FM(n),i=this.isValid(t),r=this.getNotification(t);t in this.$kU&&delete this.$kU[t];this.$18y(t,i,r)},setValidatorResult:function(n,t,i,r){this.$xY.set_$R(n,new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(t,i,r))},setFieldEditableProperty:function(n,t){var i=this.$FM(n),r=this.isValid(i),u=this.getNotification(i);i in this.$eu&&(this.$eu[i]=t);this.$18y(i,r,u);this.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vF(this.getRecordId(),i))},getFieldEditableProperty:function(n){var t=!1,i=this.$FM(n);return i in this.$eu&&(t=this.$eu[i]),t},isValid:function(n){if(Mscrm.InternalUtilities._String.isNullOrWhiteSpace(this.$kU[n])){if(this.$xY.$3F5(n))return this.$xY.get_$R(n).$57}else return!1;return!0},getNotification:function(n){return n in this.$kU?this.$kU[n]:this.$xY.$3F5(n)?this.$xY.get_$R(n).$47:null},isEditable:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i=this.$FM(n),r=this.$4A[i],f=$0.$0(r.attributes.type)?null:r.attributes.type.toLowerCase(),s=$0.$0(r.dataType)?null:r.dataType.toLowerCase(),e,o,h,u,c;return($0.$0(this.$18)?t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("ModelContext needs to be initialized first")):$0.$0(r)?t.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Invalid argument: columAlias")):Microsoft.Crm.Client.Core.Framework.$6.$4N||i.toLowerCase()==="statecode"||i.toLowerCase()==="statuscode"||r.isHidden?t.resolve(!1):f==="lookup"&&s!=="lookup.simple"||f==="owner"||f==="partylist"||f==="customer"?t.resolve(!1):this.$2ne(i.toLowerCase())?t.resolve(!1):Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()||t.resolve(this.$1r5(i)),!t.isPending())?t.promise():(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&(e=this.$eu[i],!$0.$0(e))?(t.resolve(e),t.promise()):Microsoft.Crm.Client.Core.Framework.$1u.$gA(i)?(o=this,h=this,this.$1Ok(i).then(function(n){(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&(o.$eu[i]=n.$Oi);t.resolve(n.$Oi)},function(n){t.reject(n)}),t.promise()):(u=this,c=this,r.$1HG(this.$18).then(function(){if("sourcetype"in r.attributes){var n=r.attributes.sourcetype;(n===1||n===2)&&t.resolve(!1)}t.isPending()&&u.$1Ok(i).then(function(n){(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&!u.$18.get_$sz()&&(u.$eu[i]=n.$Oi);var r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(u.getPrimaryEntityLogicalName()),f=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$14N(u.$18.get_$HV(),u.$18,2);t.resolve(n.$Oi&&!u.$18.get_$sz()&&f&&!r.$Ty)},function(n){t.reject(n)})},function(n){t.reject(n)}),t.promise())},$2Uo:function(){var f=MscrmComponents.DeferredPromiseFactory(Object,Object),n=new Array(0),r=this.$4A,t,u,i;for(t in r)u={key:t,value:r[t]},i=u.value,n.push(this.isEditable(i.alias)),n.push(this.getFieldRequiredLevel(i.alias));return f.allArray(n)},$2ne:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return t.add("fullname"),t.add("yomifullname"),t.add("address1_composite"),t.add("address2_composite"),t.add("address3_composite"),t.add("shipto_composite"),t.add("billto_composite"),t.contains(n)},isSecured:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i=this.$FM(n),r=this,u=this;return this.$1Ok(i).then(function(n){t.resolve(n.$DB)},function(n){t.reject(n)}),t.promise()},isReadable:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i=this.$FM(n),r=this,u=this;return this.$1Ok(i).then(function(n){t.resolve(n.$1K5)},function(n){t.reject(n)}),t.promise()},setFieldRequiredLevel:function(n,t){var i=this.$FM(n),r=this.isValid(i),u=this.getNotification(i);i in this.$kV&&(this.$kV[i]=t);this.$18y(i,r,u);this.$9n("DataSetRecordChangeEventName",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vG(this.getRecordId(),i))},$32W:function(n){var t=0,i=this.$FM(n);return i in this.$kV&&(t=this.$kV[i]),t},getFieldRequiredLevel:function(n){var t=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$7k,Microsoft.Crm.Client.Core.Framework.$7),i=this.$FM(n),r,u,f;return Microsoft.Crm.Client.Core.Framework.$1u.$gA(i)?(t.resolve(0),t.promise()):(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&(r=this.$kV[i],!$0.$0(r)&&r!==-1)?(t.resolve(r),t.promise()):(u=this,f=this,this.$18.$2gV(i).then(function(n){(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlPbl")||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabledByFCBName("FCB.EditableGridControlJsEvents"))&&(u.$kV[i]=n);t.resolve(n)},function(n){t.reject(n)}),t.promise())},$23v:function(){var t;if(!$0.$0(this.$nC))return this.$nC;this.$nC=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);var i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1),r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.$JX(this.$4b,i),n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveRecordFromCustomControlDataSet",r),u=this;return n.OnSuccess=function(){u.$nC.resolve(!0)},t=this,n.OnFailure=function(n){t.$nC.reject(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$Aq,n),this.$nC.promise()},$1r5:function(){return!1},$1jD:function(){var i=this.$4A,t,r,n;for(t in i)r={key:t,value:i[t]},n=r.value,$0.$0(n)||$0.$0(n.name)||(this.$1EP[n.name]=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$21Z(this.$18,n),this.$6M[n.name]=this.$18.$I.getFormattedValue(n.name),Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(n.alias)||(this.$1Bw[n.alias]=n.name,this[n.alias]=this.$1EP[n.name])),this.$P==="activitypointer"&&(this.$1Bf=this.$18.GetValue("activitytypecode"+Microsoft.Crm.Client.Core.Framework.$U.$6n))},$mQ:function(){this.$1jD();this.$7("RecordChangedEventName")},$Oh:function(){$0.$0(this.$18)||this.$18.remove_$7L(this.$$d_$2uI);this.$1uX();Microsoft.Crm.Client.Core.Framework.$AJ.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ.prototype={name:null,sortDirection:0};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HO=function(n){this.$j=n;this.$1Dj=new Microsoft.Crm.Client.Core.ViewModels.$6o};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HO.prototype={$j:null,$1Dj:null,$1cz:!1,getRecordCommands:function(n){var i,u,r,t;return this.$j.$145=!0,i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),this.$1cz?i.resolve(!0):(this.$1cz=!0,u=this,this.$2zs().always(function(){i.resolve(!0)})),r=MscrmComponents.DeferredPromiseFactory(Array,Microsoft.Crm.Client.Core.Framework.$7),t=this,i.always(function(){var o=t.$j.$D,e=null,i,u,f;if(!Mscrm.InternalUtilities.JSTypes.isNullOrEmptyString(n))for(i=0;i<t.$j.$1f.get_Count();i++)u=t.$j.$1f.get_$R(i),u.$4Z===n&&(e=u);f=MscrmComponents.DeferredPromiseFactory(Array,Microsoft.Crm.Client.Core.Framework.$7);t.$1Dj.$2q4("HomePageGridItem:"+o,e,f);f.then(function(n){for(var u,f=new Array(0),i=0;i<n.length;i++)u=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HP(n[i]),u.$2Nl()&&f.push(u);r.resolve(f);t.$j.$145=!1},function(n){r.reject(n);t.$j.$145=!1})}),r.promise()},$2zs:function(){var n=this.$j.$D;return this.$1Dj.$vj("HomePageGrid:"+n,this.$j)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HP=function(n){this.$QJ=n;this.command=this.$32J();this.label=n.$1G};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HP.prototype={$QJ:null,command:null,label:null,execute:function(){this.$QJ.$1g.execute()},$2Nl:function(){return this.$QJ.get_ActionCommandCanExecute()},$32J:function(){if(IsNull(this.$QJ))return"";if(!IsNull(this.$QJ.$M)){var n=this.$QJ.$M;if("CommandId"in n)return n.CommandId;if("ruleEvaluationCommand"in n)return n.ruleEvaluationCommand}return IsNull(this.$QJ.$6Y)?IsNull(this.$QJ.$L)?"":this.$QJ.$L:this.$QJ.$6Y}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$mQ=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30;return i.resultType=10,i.recordId=n,i.isRecordSavedSuccessfully=t,i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vI=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30;return i.resultType=1,i.recordId=n,i.affectedColumns=[t],i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vG=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30;return i.resultType=2,i.recordId=n,i.affectedColumns=[t],i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2vF=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30;return i.resultType=3,i.recordId=n,i.affectedColumns=[t],i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.$2tv=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30;return i.resultType=4,i.recordId=n,i.affectedColumns=[t],i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.prototype={recordId:null,isRecordSavedSuccessfully:!1,affectedColumns:null,resultType:0};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z=function(){this.$$d_$2q7=Function.createDelegate(this,this.$2q7);this.$$d_$25b=Function.createDelegate(this,this.$25b);this.$$d_$2X9=Function.createDelegate(this,this.$2X9);this.$$d_$27S=Function.createDelegate(this,this.$27S);this.$$d_$2XD=Function.createDelegate(this,this.$2XD);this.$$d_getInteractionMode=Function.createDelegate(this,this.getInteractionMode);this.$$d_setInteractionMode=Function.createDelegate(this,this.setInteractionMode);this.$$d_setLastTabPressedTime=Function.createDelegate(this,this.setLastTabPressedTime);this.$$d_isTabPressed=Function.createDelegate(this,this.isTabPressed);this.$$d_requestRender=Function.createDelegate(this,this.requestRender);this.$$d_$nT=Function.createDelegate(this,this.$nT);this.$H={};this.$Aj=new Array(0);this.get_childViewModels=this.get_ChildViewModels;Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$2Sz=function(){var n=document.createElement("script");return n.type="text/javascript",n};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.prototype={$Gr:null,$cJ:null,$Tx:!1,$1OR:!1,$ax:null,$Xj:null,$13G:null,$ZB:!1,$22H:!1,$eK:!1,$w:null,$XC:0,$1Xr:0,$BU:!1,$150:0,$192:0,$Tu:!1,$fc:!1,$146:!1,$E6:!1,$1RX:!1,$1RW:null,$Cb:null,$6b:null,$al:null,$144:null,$1Er:!1,$1Im:!1,$1kU:!1,$fh:!1,$gs:null,$10m:null,$1di:!1,$1e2:!1,$1Ba:null,$Ag:null,get_IsDataSetControl:function(){return this.$Tu},set_IsDataSetControl:function(n){return this.$Tu=n,n},get_GridEnabled:function(){return this.$fc},set_GridEnabled:function(n){return this.$fc=n,this.$7("GridEnabled"),n},get_IsGridChild:function(){return this.$146},get_DisableHeaderLongPress:function(){return this.$E6},set_DisableHeaderLongPress:function(n){return this.$E6=n,n},get_TopMenuEnabled:function(){return this.$1RX},set_TopMenuEnabled:function(n){return this.$1RX=n,n},get_TopMenu:function(){return this.$1RW},set_TopMenu:function(n){return this.$1RW=n,n},add_OnPropertyBagChanged:function(n){this.$1p("OnPropertyBagChanged",n)},remove_OnPropertyBagChanged:function(n){this.$32("OnPropertyBagChanged",n)},add_OnPropBagWithLayoutChange:function(n){this.$1p("OnPropBagWithLayoutChange",n)},remove_OnPropBagWithLayoutChange:function(n){this.$32("OnPropBagWithLayoutChange",n)},get_ConstructorName:function(){return this.$Gr},set_ConstructorName:function(n){return this.$Gr!==n&&(this.$Gr=n),n},get_UniqueId:function(){return this.$cJ},set_UniqueId:function(n){return this.$cJ!==n&&(this.$cJ=n),n},get_IsLoaded:function(){return this.$Tx},set_IsLoaded:function(n){return this.$Tx!==n&&(this.$Tx=n,this.$7("IsLoaded")),n},get_IsActive:function(){return this.$BU||!$0.$0(this.$2)&&(this.$2.$g===5||this.$2.$g===39)},set_IsActive:function(n){return this.$BU!==n&&(this.$BU=n,this.$7("IsActive")),n},get_MaxAvailableWidth:function(){return this.$150},set_MaxAvailableWidth:function(n){return this.$150!==n&&(this.$150=n,this.$7("MaxAvailableWidth")),n},get_ViewportHeight:function(){return this.$192},set_ViewportHeight:function(n){return this.$192!==n&&(this.$192=n,this.$7("ViewportHeight")),n},get_InErrorState:function(){return this.$ZB},set_InErrorState:function(n){return this.$ZB!==n&&(this.$ZB=n,this.$7("InErrorState")),n},get_HasPropertiesContainRerenderKey:function(){return this.$fh},set_HasPropertiesContainRerenderKey:function(n){return this.$fh=n,n},get_ParentalEventListeners:function(){return this.$gs},set_ParentalEventListeners:function(n){var t,i,r,f,u;if(this.$gs=null,this.$gs={},t=n,!IsNull(t)&&Array.isInstanceOfType(t))for(i=0;i<t.length;i++)r=t[i].eventname,f=t[i].eventhandler,r in this.$gs?u=this.$gs[r]:(u=new Array(0),this.$gs[r]=u),u.push(f);return n},get_Internal:function(){return this.$1di},set_Internal:function(n){return this.$1di=n,n},get_IsContainer:function(){return this.$1e2},set_IsContainer:function(n){return this.$1e2=n,n},get_ControlProperties:function(){return this.$10m},set_ControlProperties:function(n){return this.$10m=n,n},get_PluralName:function(){return this.$Ag},retrieveOrAddChildViewModel:function(n,t,i){var r,u,f,e;if(Microsoft.Crm.Client.Core.Framework.$3.$9(n))return null;if(r=null,r=this.$H[n],u={},u.customProperties=i,u.key=n,IsNull(r)){r=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V("CustomControl");r.$2i=this.$2i;r.set_$GO(this.$2);this.$H[n]=r;u.customControlTemplateName=t;u.shouldBeInitialized=!0;u.primayModelName=this.$D;u.parentControlProperties=this.$10m;try{r.set_ModelContext(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p.$2fI(i.recordid,this));(this.$Tu||this.$146)&&(r.$146=!0)}catch(o){this.$ZB=!0;this.logCustomControlInitializationError("CustomControl - Failed to set the context for this")}f=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCustomControlTemplate",u));e=f.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(e)}else u.shouldBeInitialized=!1,Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$3Bp(r,this.$2A6(null,u),r.get_ModelContext(),!1),!this.$fh&&"forcerender"in i&&i.forcerender&&r.requestRender(),this.$fh=!1;return r},RemoveChildViewModel:function(n){var t=this.$H[n];delete this.$H[n]},get_IsValid:function(){return $0.$0(this.get_ErrorMessage())||this.get_ErrorMessage()===""?Microsoft.Crm.Client.Core.ViewModels.$SD.prototype.get_IsValid.call(this):!1},get_PropertyDefinitions:function(){return this.$ax},set_PropertyDefinitions:function(n){return n!==this.$ax&&(this.$ax=n,this.$7("PropertyDefinitions")),n},get_DataSetDefinitions:function(){return this.$Xj},set_DataSetDefinitions:function(n){return n!==this.$Xj&&(this.$Xj=n,this.$7("DataSetDefinitions")),n},get_GroupDefinitions:function(){return this.$13G},set_GroupDefinitions:function(n){return n!==this.$13G&&(this.$13G=n),n},get_ControlMode:function(){return this.$XC},set_ControlMode:function(n){return this.$XC=n,n},get_ControlType:function(){return this.$1Xr},set_ControlType:function(n){return this.$1Xr=n,n},get_Resources:function(){return this.$Aj},set_Resources:function(n){return this.$Aj=n,n},get_PropBagGenerator:function(){return this.$w},set_PropBagGenerator:function(n){return this.$w!==n&&(this.$w=n,this.$7("PropBagGenerator")),n},get_CssNameString:function(){return this.$Gr.replace("."," ")},get_CustomControlInitCalled:function(){return this.$eK},set_CustomControlInitCalled:function(n){if(this.$eK!==n){if(this.$eK=n,!this.$eK)return n;this.$7("OnInitControl");var t=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){if(t.$eK&&!t.$2h&&!$0.$0(t.$2)){var n;(n=t.$2).set_$1iF(n.$mb-1)}},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1Yb,"CustomControl.RegisterControlCreation")}return n},get_ErrorMessage:function(){if(!$0.$0(this.$7u))return this.$7u.$47;if(!$0.$0(this.$w)){var n=this.$w.$AY();return $0.$0(n)?"":n.$47}return""},set_$vH:function(n){return $0.$0(this.$6b)?this.$6b=n:this.$6b.$1gI(n),n},get_State:function(){return this.$6b.$20()},get_$Uh:function(){if($0.$0(this.$Cb)){var n=this.$2iM(),t=this.$L.split("!")[0];this.$2.$g===13?this.$Cb=this.$2.get_$Uh()+"_"+this.$Gr:this.$2.$g===1?(this.$Cb=this.$2.get_$Uh()+"_"+t+this.$Gr,$0.$0(n)||(this.$Cb+=n)):this.$2.$g===39?(this.$Cb="cc_tbx_"+this.get_ModelContext().$2b.get_$4m().get_$4m()+"_"+t+this.$Gr,$0.$0(n)||(this.$Cb+=n)):(this.$Cb=this.$2.get_$Uh()+"_"+t+this.$Gr,$0.$0(n)||(this.$Cb+=n))}return this.$Cb},get_PersonalizationActionProvider:function(){return this.$al},set_PersonalizationActionProvider:function(n){return this.$al=n,n},get_$24G:function(){if($0.$0(this.$144)){var n=this;this.$144=function(){return!1}}return this.$144},set_$24G:function(n){return this.$144=n,n},get_$1i6:function(){return"CustomControlPane"},get_$1Bb:function(){return!this.$Tu&&this.$146&&$0.$0(this.$1Ba)&&(this.$1Ba=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HW(this.get_ModelContext())),this.$1Ba},get_customControlViewModelId:function(){return this.$Tu&&!$0.$0(this.$w)&&!$0.$0(this.$w.GetPrimaryDataSet())&&!$0.$0(this.$w.GetPrimaryDataSet().$j)?this.$w.GetPrimaryDataSet().$j.get_ViewModelId():this.get_ViewModelId()},get_$1i4:function(){return this.$Tu&&!$0.$0(this.$w)&&!$0.$0(this.$w.GetPrimaryDataSet())&&!$0.$0(this.$w.GetPrimaryDataSet().$j)?this.$w.GetPrimaryDataSet().$j.$D:null},get_$qQ:function(){return this.$Tu?$0.$0(this.$w)||$0.$0(this.$w.GetPrimaryDataSet())||$0.$0(this.$w.GetPrimaryDataSet().$j)?"CustomControlUnloaded":this.$w.GetPrimaryDataSet().$j.get_$qQ():null},get_InlineLayout:function(){return this.$1Im},set_InlineLayout:function(n){return this.$1Im!==n&&(this.$1Im=n,this.$7("CustomControlLayout")),n},get_DisableUITransitions:function(){return this.$1Er},set_DisableUITransitions:function(n){return this.$1Er=n,n},get_RightAlignedEdit:function(){return this.$1kU},set_RightAlignedEdit:function(n){return this.$1kU=n,this.$7("CustomControlLayout"),n},$2Z:function(){var t,n;this.$1a||($0.$0(this.$2)||(t=this.$2).set_$1iF(t.$mb+1),n=this,this.$2Gz().always(function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(n);$0.$0(n.get_$1Bb())||n.get_$1Bb().$CO(n.$ax,n);var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomControlHostViewModel.LoadResources");t.start();n.$2qi().always(function(){(t.stop(),n.$1OR=!0,n.logCustomControlPerfInfo("Load Resources",t),n.$2h)||(n.$17E(),n.AddPropertyChangedListener("Enabled",n.$$d_$2XD),n.AddPropertyChangedListener("HasFocus",n.$$d_$2XD),n.AddPropertyChangedListener("Visible",n.$$d_$2XD),n.AddPropertyChangedListener("Label",n.$$d_$2XD),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",n.$$d_$2XD),n.AddPropertyChangedListener("OnInitControl",n.$$d_$27S))})}),$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D))||(this.$Ag=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D).$Ag))},$2Gz:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("CustomControlHostViewModel.CreatePropertyBag"),n,r;return i.start(),n=this,r=this,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2Sc(this.$ax,this.$Xj,this.$13G,this.$2,this.$Tu,this.$fc,this.$E6,this.$1RX,this.$1RW,this.get_ModelContext()).then(function(r){if(n.set_PropBagGenerator(r),i.stop(),!$0.$0(n.$w)){n.logCustomControlPerfInfo("CreatePropertyBag",i);n.$w.AddPropertyChangedListener("PropertiesUpdated",n.$$d_$2XD);n.$w.AddPropertyChangedListener("PropertyBagHasError",n.$$d_$2X9);var u=n.$w.$AY();n.set_RequiredLevel($0.$0(u)?0:u.get_$hS());n.$BU&&n.$w.$1p8()}t.resolve(!0)},function(){r.$ZB=!0;r.logCustomControlInitializationError("CustomControl - Failed to create property bag generator");t.resolve(!1)}),t.promise()},$27S:function(n,t){var e=this.$w.$12g(),f=e,r,u,i;for(r in f)u={key:r,value:f[r]},u.key in this.$Xj&&u.value.$2tr(n,t);i=this.$w.GetPrimaryDataSet();!$0.$0(i)&&this.$BU&&(i.$j.set_Label(this.$1G),i.$j.$EP(null,null))},$17E:function(){if($0.$0(this.$6b)&&(this.$2.$g===1||this.$2.$g===13||!$0.$0(this.get_ModelContext()))){if(this.$2.$1K4)this.get_$Uh()in this.$2.$qS?this.set_$vH(new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV(this.$2.$qS[this.get_$Uh()])):this.set_$vH(new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV(null)),this.set_IsLoaded(this.$1OR&&!$0.$0(this.$w));else if(!this.$2.$1K4){var n=this;this.$2.AddPropertyChangedListener("IsPersonalizationRetrieved",function(){n.$17E()})}}else this.set_IsLoaded(this.$1OR&&!$0.$0(this.$w))},$nT:function(n){return this.$2.$g===5?!1:(this.$2.$qS[this.get_$Uh()]=n,this.$2.$nT())},$2iM:function(){var n,t,i;if(!$0.$0(this.$Xj)){n=this.$Xj;for(t in n)return i={key:t,value:n[t]},i.value.ViewId}return""},$25b:function(n){var u=n,e=u.descriptor,t=u.paramDictionary,f=t.key,i,r;$0.$0(f)||(i=this.$H[f],Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$3Bp(i,this.$2A6(e,t),i.get_ModelContext(),!0));this.$fh=!1;r=t.OnSuccess;$0.$0(r)||r(n)},$2q7:function(n){this.$MZ(n)},$2A6:function(n,t){var e=t.shouldBeInitialized,o=t.key,r=null,u=t.customProperties,i=null,c,l,s,h,f;if(e){if(r=n,r.ControlProperties=t.parentControlProperties,r.PrimaryModelName=t.primayModelName,r.Name=o,r.IsApiRegistered=!1,i=r.Properties,$0.$0(i))return c=t.key,this.$H[c].$ZB=!0,this.logCustomControlInitializationError("CustomControl - Failed to get the metadata template"),null;l=this.$11x(i,"FormFactor");l.Value=Microsoft.Crm.Client.Core.Framework.$6.get_$1d()}else i=new Array(0);if(!IsNull(u)){s=u;for(h in s){f={key:h,value:s[h]};switch(f.key.toLowerCase()){case"controlstates":this.$3Ao(i,u[f.key]);break;case"childeventlisteners":i.push(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentalEventListeners",u[f.key]));break;case"parameters":e&&this.$3BN(i,u[f.key])}}}return e?r:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("CustomControl","CustomControlHostView",o,i,null,null,this.$2.$D,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ClientApiCustomControlDescriptor(14,null,o,!0,!0,this.$L))},$3Ao:function(n,t){var e=t,r,i,u,f;for(r in e){i={key:r,value:e[r]};switch(i.key.toLocaleLowerCase()){case"hasfocus":u=t[i.key];u!==this.$5R&&(this.$fh=!0);n.push(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HasFocus",u));break;case"iscontroldisabled":f=!t[i.key];f!==this.get_Enabled()&&(this.$fh=!0);n.push(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",f))}}},$3BN:function(n,t){var r=this.$11x(n,"PropertyDefinitions").Value,u=this.$11x(n,"DataSetDefinitions").Value,e=this.$11x(n,"GroupDefinitions").Value,f=!1,s=t,o,i,h,c,l,a;for(o in s)i={key:o,value:s[o]},!IsNull(r)&&i.key in r?(f||(f=!0,this.$2Hf(n,!1)),h=r[i.key],c=i.value,r[i.key]=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Sd(h,c)):!IsNull(u)&&i.key in u?(f||(f=!0,this.$2Hf(n,!0)),l=u[i.key],a=i.value,u[i.key]=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2RD(l,a)):!IsNull(e)&&i.key in e&&(e[i.key]=i.value)},$2Hf:function(n,t){var i=this.$11x(n,"IsDataSetControl");i.Value=t},$11x:function(n,t){for(var r,u=n,f=u.length,i=0;i<f;++i)if(r=u[i],r.Name.toUpperCase()===t.toUpperCase())return r;return null},$2XD:function(){this.$1I3()},triggerUpdate:function(){this.$9j("OnPropBagWithLayoutChange")},$1I3:function(){this.$9j("OnPropertyBagChanged");this.$7("PropertyBagChanged")},$2X9:function(){this.$7("ErrorMessage");this.$7("IsValid")},$Hd:function(){if(this.$1a)if($0.$0(this.$w)){var n=this;this.$2Gz().always(function(){n.$17E()})}else this.$w.$3An(this.get_ModelContext()),this.set_IsLoaded(!1),this.$Cb=null,this.$6b=null,this.$17E()},$EP:function(n,t){if(this.$cJ in Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$T2||(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$T2[this.$cJ]=this),this.set_IsActive(!0),!$0.$0(this.$w)){this.$w.$1p8();var i=this.$w.GetPrimaryDataSet();!$0.$0(i)&&this.$eK&&i.$j.$EP(null,null)}this.addUpdatedProperty("activation");this.$1I3();Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$EP.call(this,n,t)},$uN:function(n,t){this.$cJ in Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$T2&&delete Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$T2[this.$cJ];this.set_IsActive(!1);this.set_HasFocus(!1);$0.$0(this.$w)||this.$w.$30v();this.addUpdatedProperty("activation");this.$1I3();Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$uN.call(this,n,t)},$2qi:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object),i,r=new Array(0),n,u,f;if(!$0.$0(this.$Aj))for(n=0;n<this.$Aj.length&&this.$Aj[n].Type!==2;n++)i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(20,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),"webresource",1,!1,this.$Aj[n].Name),Microsoft.Crm.Client.Core.Framework.$q.$4t("","CustomControl:"+this.$L)),r.push(i);return u=this,f=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r).then(function(n){u.$25n(n,0).then(function(n){t.resolve(n)},function(n){t.reject(n)})},function(n){t.reject(n)}),t.promise()},$25n:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),u,o,h;if(t>=n.length||t>=this.$Aj.length)return i.resolve(!0),i.promise();for(var s=this.$Aj[t].LoadOrder,r=t,f,e=new Array(0);r<this.$Aj.length&&this.$Aj[r].LoadOrder===s;)u=n[r],u.get_$3F6()>0&&(f=this.$2Ku(this.$Aj[r],u.get_$R(0)),e.push(f)),r++;return o=this,h=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e).then(function(){o.$25n(n,r).then(function(n){i.resolve(n)},function(n){i.reject(n)})},function(n){i.reject(n)}),i.promise()},$2Ku:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),u,f,r,e;return Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$sM().$2p1(n.Name)?(i.resolve(!0),i.promise()):$0.$0(t)||$0.$0(t.get_$4r())?(i.resolve(!1),i.promise()):(u=t.get_$4r().toString(),n.Type&&n.Type!==4?n.Type===1?(r=window.document.createElement("style"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.innerHTML=u,window.document.body.appendChild(r)):n.Type===3&&(e=window.document.createElement("Html"),e.innerHTML=u,window.document.body.appendChild(e)):(f=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$2Sz(),f.innerHTML=this.$2Ky(u,n.Name),window.document.body.appendChild(f)),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$sM().$2KN(n.Name),i.resolve(!0),i.promise())},$2Ky:function(n,t){return"var _define = define;\ndefine = null;\n"+n+"\ndefine = _define;\n_define = null;\n//# sourceURL="+t+".js"},addUpdatedProperty:function(n){$0.$0(this.$w)||this.$w.$nq.add(n)},requestRender:function(){this.$7("ControlUpdated")},isTabPressed:function(){var n=(new Date).getTime();return n-this.$2.$1fQ<300?!0:!1},setLastTabPressedTime:function(n){this.$2.$1fQ=n},setInteractionMode:function(n){this.$2.$1dg=n},getInteractionMode:function(){return this.$2.$1dg},generatePropertyBag:function(){var n={},u,f;n.parameters=this.$w.$2Z4(this.get_Enabled());n.updatedProperties=this.$w.$nq.toArray();var t={},i=this.get_$24G()(),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);return t.isControlDisabled=!this.get_Enabled()||i||!$0.$0(r)&&r.$Ty,t.isRead=!this.$2nh(i),t.isPreview=$0.$0(Microsoft.Crm.Client.Core.Framework.$6.$4N)?!1:Microsoft.Crm.Client.Core.Framework.$6.$4N,t.isOffline=!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F(),t.isVisible=this.$4u,t.isActive=this.get_IsActive(),t.pageInfo=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2i4(this),t.label=this.$1G,t.hasFocus=this.$5R,u=this,t.blur=function(){u.set_HasFocus(!1)},f=this,t.focus=function(){f.set_HasFocus(!0)},n.mode=t,n.client=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2ex(this),n.utils=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2jr(this),n.formatting=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2gh(),n.navigation=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2hX(),n.theming=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$21y(this),n.resources=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2ir(this.$Gr),n.factory=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.$2gQ(),n.children=this.$2eu(),n.eventHandlers=this.$gs,n["internal.messages"]=Xrm.Internal.messages,this.$w.$nq.clear(),n},$2eu:function(){var t={},r=this.$H,i,n;for(i in r)n={key:i,value:r[i]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.isInstanceOfType(n.value)&&(t[n.key]=n.value.$2fn());return Microsoft.Crm.Client.Core.Framework.$1B.$s(t)>0?t:null},$2fn:function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT(this.$Gr,this.$L,null,null)},$2nh:function(n){return!this.get_Enabled()||n?!1:this.$XC?this.$XC===2?this.$5R:!0:!1},updateOutput:function(n){this.$w.$3BL(n,this.$cJ,this.get_Enabled());!$0.$0(this.get_$1Bb())&&this.get_ModelContext().$I.$4w.get_Count()>0&&this.get_$1Bb().$cR(this.get_Enabled(),this)},$3BM:function(n){$0.$0(this.$w)||$0.$0(this.$w.$AY())||this.$w.$AY().$2EV(this.get_ModelContext(),n,this.get_Enabled())},getPrimaryFieldName:function(){var i=this.$ax,t,r,n;for(t in i)if(r={key:t,value:i[t]},n=r.value,!n.Static&&!n.Usage&&n.Primary)return n.Value;return""},$1cS:function(){var n,t,r,i;if($0.$0(this.$w)||$0.$0(this.$w.$AY())){n=this.$ax;for(t in n)if(r={key:t,value:n[t]},i=r.value,i.Primary)return i.Value;return""}return this.$w.$AY().$1HV()},$Rr:function(){var i,n,t,r;if(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Rr.call(this),this.$Tx){i=this.$w.$12g();n=i;for(t in n)r={key:t,value:n[t]},r.value.$j.$Rr()}this.$1I3()},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)},$Oh:function(){var n,t;this.$ax=null;this.$Gr=null;this.$Tx=!1;this.$22H=!1;this.$ZB=!1;this.$Aj=null;!this.$1a||this.$eK||$0.$0(this.$2)||(n=this.$2).set_$1iF(n.$mb-1);$0.$0(this.$w)||(this.$w.RemovePropertyChangedListener("PropertyBagHasError",this.$$d_$2X9),this.$w.RemovePropertyChangedListener("PropertiesUpdated",this.$$d_$2XD),this.$w.$5E(),this.$w=null);this.RemovePropertyChangedListener("Enabled",this.$$d_$2XD);this.RemovePropertyChangedListener("HasFocus",this.$$d_$2XD);this.RemovePropertyChangedListener("Label",this.$$d_$2XD);this.RemovePropertyChangedListener("Visible",this.$$d_$2XD);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().rpcl("IsServerAvailable",this.$$d_$2XD);this.RemovePropertyChangedListener("OnInitControl",this.$$d_$27S);t=this;this.RemovePropertyChangedListener("IsPersonalizationRetrieved",function(){t.$17E()});Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$21w:function(){return this.$2h?"":$0.$0(this.$w.$AY())?$0.$0(this.$Xj)?"undefined":"data-set":this.$w.$AY().$AW},logCustomControlInitializationError:function(n){var t=this.$21w(),i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PW(this.$Gr,n,$16.$cH(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q,this.$XC),t);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i)},logCustomControlPerfInfo:function(n,t){if(!(t.get_$IT()<0)){var i=this.$21w(),r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pl(this.$Gr,$16.$cH(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8q,this.$XC),i,n,t.get_$IT());Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(r)}},get_ChildViewModels:function(){return this.$H},$CK:function(n,t){this.$H[n]=t},$nR:function(n){var t=n;for(var i in t){var r={key:i,value:t[i]},u=r.key,f=r.value;this.$CK(u,f)}},get_$1Xq:function(){return!1}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$3De=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$3De.prototype={eventname:null,eventhandler:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.initializeBase(this);this.$T2={}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.$C)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.$C=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.$C};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.prototype={$T2:null,get_ControlDictionary:function(){return this.$T2},set_ControlDictionary:function(n){return this.$T2=n,n},$2fK:function(n){return n in this.$T2?this.$T2[n]:null},add_$1iu:function(n){this.$1p("PropertiesUpdated",n)},remove_$1iu:function(n){this.$32("PropertiesUpdated",n)},$2XF:function(n){var t=this.$4d("PropertiesUpdated");t&&t(this,n)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nq=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nq.initializeBase(this);this.name=n;this.dataType=t;this.attributes=i;this.validator=r};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47=function(){this.$Zh=new Array(0)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$sM=function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$C)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$C=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$C};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.prototype={$Zh:null,$2KN:function(n){this.$Zh.push(n)},$2p1:function(n){return Array.contains(this.$Zh,n)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU.prototype={Type:0,Name:null,LoadOrder:0,ResourceData:null};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w2=function(n){var r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.LogicalName),i,t,u,f,e;if($0.$0(r)||!r.$KJ){Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093995));return}i=2;Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Pp&&(i=40);t=new Microsoft.Crm.Client.Core.Commands.$2R(null,i);t.$D=n.LogicalName;u={EntityReference:new Xrm.Objects.EntityReference(n.LogicalName,n.Id)};t.$x=u;f=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(new Xrm.Objects.EntityReference(n.LogicalName,n.Id),{},{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));e=Microsoft.Crm.Client.Core.Models.$c.$X(f);t.$18=e;Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1MT=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n),i;if($0.$0(t)||!t.$KJ){Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093995));return}i=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Pp?new Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand(null,n,40,null):new Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand(null,n,5,null);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(i)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2wE=function(n){var t=new Microsoft.Crm.Client.Core.Commands.$2R(null,26);t.$1W="searchPage";t.$x={};t.$x.SearchEntity=null;t.$x.SearchText=n;Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w1=function(n){var t,i;Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Pp?(t=new Microsoft.Crm.Client.Core.Commands.$2R(null,37),t.$1W=n,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(t)):(i=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(null),i.$1W=n,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(i))};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Vo=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().$jU(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Nz.scanBarcode(function(n){t(n)},function(n,t){t.toLowerCase()==="access to the camera has been prohibited; please enable it in the settings app to continue."&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?i(n,String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094019)+"\r\n"+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_MoreInformation"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094022))):n!==1&&i(n,Microsoft.Crm.Client.Core.Framework.Common.$2.$4J(-2147094019))},"ScanBarCode",new Microsoft.Crm.Client.Core.Imported.Cordova.CordovaPluginOptions)})};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$33D=function(n,t,i,r){n="cc_"+t+"/"+n;n=n.replace("-","_");Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(20,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),"webresource",1,!1,n),Microsoft.Crm.Client.Core.Framework.$q.$4t("","CustomControlResourceRetriever")).then(function(n){if($0.$0(n.get_$R(0))||$0.$0(n.get_$R(0).get_$4r()))r();else{var t=n.get_$R(0).get_$4r().toString();i(t)}},function(){r()})};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Z5=function(n){return new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch(n)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$mS=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$28z(n,"")};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$28z=function(n,t){var i=Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$1t1(t,n);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(i)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2wA=function(n){var t=new Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand("",n);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2w8=function(n){var t=new Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand(n);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er(t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$er=function(n){n.execute();n.dispose()};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xq=function(n,t){return t?Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$OP(n,0):Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$ri(n,0)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xo=function(n,t){return t?Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$1aF(n,3):Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$2YA(n,3)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Xu=function(n,t){return $0.$0(t)&&(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$UP.NumberDecimalDigits),Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$1G4(n,t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1wR=function(n,t,i){return $0.$0(t)&&(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$UP.CurrencyDecimalDigits),$0.$0(i)&&(i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$12j().$qg),Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$1wS(n,i,t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$1HN=function(n){return Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.get_instance().getEntityColor(n)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2k0=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu.FirstDayOfWeek,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$Gu.CalendarWeekRule;if(t<0||t>6)throw Error.argumentOutOfRange("firstDayOfWeek",t);switch(i){case 1:return Microsoft.Crm.Client.Core.Framework.$h.$1ch(n,t,7);case 2:return Microsoft.Crm.Client.Core.Framework.$h.$1ch(n,t,4);case 0:default:return Microsoft.Crm.Client.Core.Framework.$h.$1ch(n,t,1)}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$21Z=function(n,t){return Microsoft.Crm.Client.Core.Framework.$1u.$21Z(n.GetValue(t.name+Microsoft.Crm.Client.Core.Framework.$U.$6n),t)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Sd=function(n,t){var r=$0.$1Y(t.Usage)?n.Usage:t.Usage,u=$0.$1Y(t.Type)?n.Type:t.Type,f=$0.$1Y(t.Value)?n.Value:t.Value,i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord(r,u,f);return $0.$0(t.IsRollupOrCalculatedFieldValid)||(i.IsRollupOrCalculatedFieldValid=t.IsRollupOrCalculatedFieldValid),i.Static=$0.$1Y(t.Static)?n.Static:t.Static,i.Primary=$0.$1Y(t.Primary)?n.Primary:t.Primary,i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2RD=function(n,t){var r=$0.$1Y(t.Name)?n.Name:t.Name,u=$0.$1Y(t.ViewId)?n.ViewId:t.ViewId,f=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Qr(n.Columns,t.Columns),e=$0.$1Y(t.EntityName)?n.EntityName:t.EntityName,o=$0.$1Y(t.TargetEntityType)?n.TargetEntityType:t.TargetEntityType,s=$0.$1Y(t.ContextFilter)?n.ContextFilter:t.ContextFilter,h=$0.$1Y(t.ExtraCondition)?n.ExtraCondition:t.ExtraCondition,c=$0.$1Y(t.EnableViewPicker)?n.EnableViewPicker:t.EnableViewPicker,l=$0.$1Y(t.FilteredViewIds)?n.FilteredViewIds:t.FilteredViewIds,i=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HT(r,u,f,e,o,s,h,c,l);return i.RelationshipType=$0.$1Y(t.RelationshipType)?n.RelationshipType:t.RelationshipType,i.RelationshipName=$0.$1Y(t.RelationshipName)?n.RelationshipName:t.RelationshipName,i.ReferencingName=$0.$1Y(t.ReferencingName)?n.ReferencingName:t.ReferencingName,i};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Qr=function(n,t){var o=new Array(0),r={},f,i,c;if(!$0.$1Y(n))for(var s=n,l=s.length,u=0;u<l;++u)f=s[u],r[f.Alias]=f;if(!$0.$1Y(t))for(var h=t,a=h.length,e=0;e<a;++e)i=h[e],i.Alias in r&&(c=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Qt(r[i.Alias],i),o.push(c));return o};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2Qt=function(n,t){var i=$0.$1Y(t.Name)?n.Name:t.Name,r=$0.$1Y(t.DisplayName)?n.DisplayName:t.DisplayName,u=$0.$1Y(t.Alias)?n.Alias:t.Alias,f=$0.$1Y(t.DataType)?n.DataType:t.DataType,e=$0.$1Y(t.VisualSizeFactor)?n.VisualSizeFactor:t.VisualSizeFactor;return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HY(i,r,u,f,e)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.$2rR=function(n){switch(n){case"boolean":return 0;case"customer":return 1;case"datetime":return 2;case"decimal":return 3;case"double":return 4;case"integer":return 5;case"lookup":return 6;case"memo":return 7;case"money":return 8;case"owner":return 9;case"partylist":return 10;case"picklist":return 11;case"state":return 12;case"status":return 13;case"string":return 14;default:return-1}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlValidatorResult=function(n){this.errorMessage=n.$47;this.isValid=n.$57};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlValidatorResult.prototype={errorMessage:null,isValid:!1};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k=function(n,t,i,r,u,f,e,o,s,h){this.$5T=-1;this.dispose=this.$5E;this.$1Yl=n;this.$8r=t;this.$4A=i;this.$88=r;this.$Bf=u;this.$OA=e;this.$1a3=o;this.$5T=f;this.$52=s;this.$6c=h};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.prototype={$1Yl:null,$8r:null,$QN:null,$4A:null,$88:null,$Bf:null,$OA:!1,$1a3:null,$lu:null,$52:null,$6c:null,add_$2tM:function(n){$0.$0(this.$QN)||this.$QN.$1p("DataSetUpdatedEventName",n)},$2Yg:function(n,t,i,r,u,f,e,o,s){for(var a,c=MscrmComponents.DeferredPromiseFactory(Boolean,Object),l=new Array(0),h=0;h<this.$4A.length;h++)a=this.$4A[h],l[h]=a.$2Yb();var v=this.$1Yl!=="SubGrid",y=this,p=this;return Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U.$2Yc(n,this.$8r,l,t,this.$88,this.$Bf,i,r,u,f,e,o,v,s,this.$OA,this.$1a3,this.$5T,this.$52,this.$6c,this.$lu).then(function(n){y.$QN=n;c.resolve(!0)},function(){c.reject()}),c.promise()},$2HL:function(n,t){this.$QN.$2HL(n,t)},$5E:function(){$0.$0(this.$QN)||this.$QN.dispose()}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57=function(n,t,i,r,u,f,e,o,s,h){var l,a,c;this.$$d_$2kQ=Function.createDelegate(this,this.$2kQ);this.$$d_$2kN=Function.createDelegate(this,this.$2kN);this.$$d_$2kk=Function.createDelegate(this,this.$2kk);this.$$d_$2kn=Function.createDelegate(this,this.$2kn);this.$nq=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$1Nm=new Array(0);this.$1Ma=new Array(0);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.initializeBase(this);this.$A=n;this.$Js=t;this.$l9=f;this.$1Nm=e;this.$l8=o;this.$1Ma=s;this.$16K=u;this.$1NO=i;this.$1i2=r;this.$HR={};this.$l5=h;this.$l9&&!$0.$0(this.$A)&&this.$A.add_$7L(this.$$d_$2kn);(this.$l8||this.$l5)&&!$0.$0(this.$A)&&this.$A.add_$7L(this.$$d_$2kk);l=this.$Js;for(a in l)c={key:a,value:l[a]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(c.value)?c.value.add_$2tM(this.$$d_$2kN):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.isInstanceOfType(c.value)&&c.value.AddPropertyChangedListener("ErrorMessage",this.$$d_$2kQ)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2Sc=function(n,t,i,r,u,f,e,o,s,h){var a=h,it,l,k,v,gt,ct,y,c,p,oi,ft,d,g,nt,lt,at,vt,tt,yt,pt,et;if($0.$0(a)&&(a=r.get_ModelContext()),it=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57,Object),r.$g!==13&&r.$g!==1&&$0.$0(a))return it.resolve(null).promise();if(l="",r.$g===39)if(l=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2in(n),k=a,l!==""){if(!k.$42.$3F5(l)){var wt=r,si=wt.$Mp[l],hi=si.TargetEntityTypeName,w=wt.get_$1Vw()[l],bt={},kt={},dt={};for(v=0;v<w.length;v++)bt[w[v].get_$8z()]=w[v].get_$2I(),kt[w[v].get_$8z()]=w[v].get_$4M(),dt[w[v].get_$8z()]=w[v].get_$IY();gt=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(new Xrm.Objects.EntityReference(hi,Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),bt,kt,dt,{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));Microsoft.Crm.Client.Core.Models.$2A.$1nK(k,l,gt)}k.$42.$3F5(l)&&(a=k.$42.get_$R(l))}else a=k.$2b;var rt={},b={},ni=!1,ot=new Array(0),st=!1,ut={},ti=!1,ii=new Array(0),ri=!1,ht=new Array(0),ui=null,fi=new Microsoft.Crm.Client.Core.ViewModels.FieldAccessController(r,a,Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(r)?0:2),ei=n;for(ct in ei){if(y={key:ct,value:ei[ct]},c=y.value,c.Usage===2){ri=!0;continue}l!==""&&(c.Value=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$1HV(c.Value));Microsoft.Crm.Client.Core.Framework.$3.$9(c.Type)||(c.Static?p=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L(y.key,0,c.Usage,c.Type,c.Value,c.Static,fi,c.IsRollupOrCalculatedFieldValid):(oi=c.Usage?2:3,p=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L(y.key,oi,c.Usage,c.Type,c.Value,c.Static,fi,c.IsRollupOrCalculatedFieldValid),ft=c.Value,ft.startsWith("#")?(d=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$20x(ft)[0],ii.push(d),ti=!0,$0.$0(ut[d])&&(ut[d]=new Array(0)),ut[d].push(y.key)):(g=ft,ot.push(g),ni=!0,$0.$0(b[g])&&(b[g]=new Array(0)),b[g].push(y.key))),c.Primary&&(ui=y.key),p.set_$306(l),rt[y.key]=p,c.Type.toLowerCase().startsWith("lookup.".toLowerCase())&&(st=!0),ht.push(p.$2Z6(a)),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$1en(p.get_$We())&&p.$tI&&(nt=p.get_$We().lastUpdatedField,$0.$0(b[nt])&&(b[nt]=new Array(0)),b[nt].push(y.key),ot.push(nt)))}lt=t;for(at in lt)vt={key:at,value:lt[at]},tt=vt.value,st&&Microsoft.Crm.Client.Core.Framework.$3.$9(tt.ViewId)&&(tt.ViewId="00000000-0000-0000-0000-000000000000"),Microsoft.Crm.Client.Core.Framework.$3.$9(tt.ViewId)||ht.push(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2RC(tt,rt,vt.key,r,u,f,e,o,s,a,st));yt=i;for(pt in yt)et={key:pt,value:yt[pt]},rt[et.key]=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc(et.key,et.value);return Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(ht).always(function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57(a,rt,b,ut,ui,ni,ot,ti,ii,ri);it.resolve(n)}),it.promise()};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$1HV=function(n){var i=n.split(":"),t,r;return i.length===2?(t=Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$163(i[1]),r=!$0.$0(t)&&!isNaN(t),r?t:i[1]):""};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2in=function(n){var i=n;for(var r in i){var u={key:r,value:i[r]},f=u.value,t=f.Value.toString();if(t.lastIndexOf(":")>0)return t.substr(0,t.lastIndexOf(":"))}return""};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.$2RC=function(n,t,i,r,u,f,e,o,s,h,c){for(var l,v,p,y=new Array(0),a=0;a<n.Columns.length;a++)l=n.Columns[a],y[a]=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HZ(l.Name,l.DisplayName,l.Alias,l.DataType,l.VisualSizeFactor);return v=new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k(n.Name,new Microsoft.Crm.Client.Core.Framework.Guid(n.ViewId),y,n.ContextFilter,n.ExtraCondition,n.RelationshipType,n.EnableViewPicker,n.FilteredViewIds,n.RelationshipName,n.ReferencingName),v.$lu=n.Lookups,t[i]=v,p=Microsoft.Crm.Client.Core.Framework.$3.$9(n.TargetEntityType)?n.EntityName:n.TargetEntityType,c&&(u=!1,o=!1,f=!1,e=!1,o=!1),v.$2Yg(h,p,r,u,f,e,o,c,s)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.prototype={$A:null,$Js:null,$l9:!1,$l8:!1,$l5:!1,$16K:null,$1NO:null,$1i2:null,$HR:null,$BG:null,get_UpdatedProperties:function(){return this.$nq},$3An:function(n){var i,r,t;if(this.$A!==n){$0.$0(this.$A)||this.$l9&&this.$A.remove_$7L(this.$$d_$2kn);this.$A=n;this.$l9&&this.$A.add_$7L(this.$$d_$2kn);i=this.$Js;for(r in i)t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(t.value)&&(t.value.$QN.$j.set_ModelContext(n),t.value.$QN.$j.$Rr());this.$7("PropertiesUpdated")}},$2kn:function(n,t){var i;if(Array.contains(this.$1Nm,t)){if(i=!1,t in this.$1NO)for(var e=this.$1NO[t],s=e.length,f=0;f<s;++f){var o=e[f],u=this.$Js[o].$d(this.$A,!0),r=$0.$0(this.$HR)?null:this.$HR[o];i=$0.$0(r)&&!$0.$0(u)||$0.$0(u)&&!$0.$0(r)?!0:$0.$39C(r)?i||!r.equals(u):i||r!==u}i&&this.$7("PropertiesUpdated")}},$2kN:function(){this.$nq.add("dataset");this.$7("PropertiesUpdated");this.$nq.remove("dataset");this.GetPrimaryDataSet().$j.UIHasRendered()},$2kQ:function(){this.$7("PropertyBagHasError")},$2oP:function(n){return!$0.$0(n)&&n.get_$PL().toLowerCase()==="Lookup".toLowerCase()},$2kk:function(n,t){Array.contains(this.$1Ma,t)&&t in this.$1i2&&this.$7("PropertiesUpdated")},$1p8:function(){(this.$l8||this.$l5)&&Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().add_$1iu(this.$$d_$2kk)},$30v:function(){(this.$l8||this.$l5)&&Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().remove_$1iu(this.$$d_$2kk)},$2Z4:function(n){var i={},r=[],h="DataSet",c=!1,l=this.$Js,e,t,o,u,f,s;for(e in l)t={key:e,value:l[e]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.isInstanceOfType(t.value)?(o=t.value,i[t.key]=o.$2Z7(this.$A,n),this.$2oP(o)&&(c=!0,r.push(t.key))):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(t.value)?i[t.key]=this.$2Yh(t.value):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc.isInstanceOfType(t.value)&&(i[t.key]=t.value.$1kp);if(c&&r.length>0&&!$0.$0(h))for(u=0;u<r.length;u++)f=r[u].toString(),s=i[f],s.lookupDataSet=i[f+h],i[f]=s;return i},$12g:function(){var i={},r=this.$Js,t,n;for(t in r)n={key:t,value:r[t]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(n.value)&&(i[n.key]=n.value.$QN);return i},GetPrimaryDataSet:function(){var t=this.$12g(),i=t,n,r;for(n in i)return r={key:n,value:i[n]},t[r.key];return null},$2eo:function(){var n=new Array(0),t,i,r,u;n.push(this.$Js[this.$16K].$1HV());t=this.$Js;for(i in t)r={key:i,value:t[i]},u=r.value,u.$mo||r.key===this.$16K||n.push(u.$1HV());return n},$2Yh:function(n){return n.$QN},$AY:function(){return this.$Js[this.$16K]},$3BC:function(n,t){var u=!1,e,o,f,h,c;if($0.$0(n))return!1;e=this.$Js;for(o in e){var s={key:o,value:e[o]},r=n[s.key],i=this.$Js[s.key];(!$0.$0(r)||!Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(i)&&(!Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.isInstanceOfType(i)||i.$AW==="OptionSet")&&s.key in n)&&(Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.isInstanceOfType(i)?(f=i,f.$mo||f.$d(this.$A,t)===r||typeof r=="number"&&isNaN(r)||(u=u||f.$2EV(this.$A,r,t))):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(i)?(h=r,c=i,c.$2HL(h,t)):u=!0)}return u},$3BL:function(n,t,i){this.$2lW(n)&&(this.$HR=n,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$2XF(t),this.$3BC(n,i)&&(this.$7("PropertyBagHasError"),this.$HR=null))},$2lW:function(n){var i,r,t,u,f,e;if($0.$0(this.$HR)&&!$0.$0(n)||!$0.$0(this.$HR)&&$0.$0(n))return!0;i=n;for(r in i){if(t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91.isInstanceOfType(t.value))return!0;if(!(t.key in this.$HR)||n[t.key]!==this.$HR[t.key])return!$0.$0(n[t.key])&&!$0.$0(n[t.key].equals)&&n[t.key].equals(this.$HR[t.key])?!1:!0}u=this.$HR;for(f in u)if(e={key:f,value:u[f]},!(e.key in n))return!0;return!1},$5E:function(){var i=this.$Js,t,n;for(t in i)n={key:t,value:i[t]},Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.isInstanceOfType(n.value)?n.value.RemovePropertyChangedListener("ErrorMessage",this.$$d_$2kQ):Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.isInstanceOfType(n.value)&&n.value.$5E();this.$Js=null;this.$1Nm=null;this.$1Ma=null;this.$HR=null;this.$l9&&this.$A.remove_$7L(this.$$d_$2kn);(this.$l8||this.$l5)&&Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().remove_$1iu(this.$$d_$2kk);this.$l9=!1;this.$l8=!1;this.$l5=!1;this.$A=null}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L=function(n,t,i,r,u,f,e,o){this.$$d_$2zP=Function.createDelegate(this,this.$2zP);this.$RZ={};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.initializeBase(this);this.$2AB=n;this.$1NP=t;this.$mo=i;this.$AW=r;this.$OK=e;this.$tI=o;f?this.$vS=u:(this.$In=u,this.$In.startsWith("#")?this.$1e3=!0:this.$t1=!0)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$20x=function(n){if(!$0.$0(n)&&n.startsWith("#")){var t=n.substr(1);return t.split(".")}return new Array(0)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$1en=function(n){return n&&n.sourcetype===2?!0:!1};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$2nb=function(n){return n&&n.sourcetype===1?!0:!1};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.prototype={$vS:null,$1NP:0,$mo:0,$2Q:null,$2AB:null,$t1:!1,$1e3:!1,$In:null,$AW:null,$tI:!1,$vt:!1,$t2:!1,$47:null,$SF:null,$OK:null,$Jd:null,$52:null,get_$PL:function(){return $0.$0(this.$AW)?"":this.$AW.split(".")[0]},get_$We:function(){return Microsoft.Crm.Client.Core.Framework.$1u.$1wd(this.$2Q)},set_$A5:function(n){return this.$47!==n&&(this.$47=n,this.$7("ErrorMessage")),n},set_$306:function(n){return this.$52!==n&&(this.$52=n),n},get_$hS:function(){return $0.$0(this.$2Q)?0:$0.$0(this.$2Q.requiredLevel)?0:this.$2Q.requiredLevel},$2Z7:function(n,t){var i={};return i.raw=this.$d(n,t),i.formatted=this.$sL(n),i.type=this.$AW,i.error=this.$t2,i.errorMessage=this.$47,this.$t1&&(i.security=this.$2Yt()),Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$1en(this.$2Q)&&this.$tI&&(this.$2Q.lastUpdatedValue=n.GetValue(this.$2Q.lastUpdatedField+Microsoft.Crm.Client.Core.Framework.$U.$6n),this.$2Q.rollupStateValue=n.GetValue(this.$2Q.rollupStateField+Microsoft.Crm.Client.Core.Framework.$U.$6n)),i.attributes=this.get_$We(),i},$2Yt:function(){var n={};return n.editable=this.$OK.isFieldEditable(this.$In),n.readable=this.$OK.isFieldReadable(this.$In),n.secured=this.$OK.isFieldSecured(this.$In),n},$1Jl:function(){var n=this.get_$PL().toLowerCase();return n==="optionset"||n==="twooptions"||n==="picklist"||n==="boolean"},$1HZ:function(n){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$52)?n:this.$52+":"+n},$d:function(n,t){var i,u,e,f;if(this.$1NP===3||this.$1NP===2){if(this.$t1)return i=null,this.$1Jl()?(u=n.GetValue(this.$1HZ(this.$In)+Microsoft.Crm.Client.Core.Framework.$U.$6n),i=$0.$0(u)?u:u.$1s):(i=n.GetValue(this.$1HZ(this.$In)+Microsoft.Crm.Client.Core.Framework.$U.$6n),this.$AW.toLowerCase().startsWith("lookup.partylist")&&(i=i?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(i.getObjectData()):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty())),$0.$0(this.$SF)||(e=this.$SF.$6W(i,!1,!t),e.$57?(this.set_$A5(null),this.$t2=!1):(this.set_$A5(e.$47),this.$t2=!0)),i;if(this.$1e3){if(f=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$20x(this.$In),f.length===2){var s=f[0],o=f[1],r=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.get_$6().$2fK(s);if(!$0.$0(r)&&!$0.$0(r.$w)&&!$0.$0(r.$w.$HR)&&o in r.$w.$HR)return r.$w.$HR[o]}return this.$vS}return this.$vS}return this.$AW==="Form.Card"||this.$AW==="Form.Main"?JSON.parse(this.$vS):this.$vS},$1HV:function(){return this.$t1?this.$In:null},$sL:function(n){if(this.$mo)return null;var t="";return this.$1Jl()?t=Microsoft.Crm.Client.Core.Framework.$U.$F6:this.get_$PL().toLowerCase()==="lookup"&&(t=Microsoft.Crm.Client.Core.Framework.$U.$4n),n.GetValue(this.$1HZ(this.$In)+t)},$2EV:function(n,t,i){if(!this.$mo){if(!$0.$0(t)&&this.$1Jl()&&(Boolean.isInstanceOfType(t)?t=t?1:0:Microsoft.Crm.Client.Core.ViewModels.$Bm.isInstanceOfType(t)&&(t=t.$1s),t=this.$2Q.options.$21[t.toString()],$0.$0(t)))return!1;n.SetValue(this.$1HZ(this.$In),t);var r=this.$SF.$6W(t,!1,!i);return r.$57?(this.set_$A5(null),this.$t2=!1,!1):(this.set_$A5(r.$47),this.$t2=!0,!0)}return!1},$2Z6:function(n){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Object),f,e;if(this.$mo===1&&!this.$t1||$0.$0(n))i.resolve(!0);else{var u=new Array(0),r=MscrmComponents.DeferredPromiseFactory(Boolean,Object),t=this,o=this;n.$20Z(this.$In,Microsoft.Crm.Client.Core.Framework.$64.$1bu(this.get_$PL())).then(function(i){i&&(i.rollupValid=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$1en(i)&&t.$tI,i.rollupValid&&(i.lastUpdatedField=i.name+"_date",i.rollupStateField=i.name+"_state",t.$36f(n,i.name,i.lastUpdatedField,i.rollupStateField),i.recalculate=t.$$d_$2zP),i.calculatedFieldValid=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.$2nb(i)&&t.$tI);t.$2Q=Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$20l(i,t.get_$PL());n.$2gZ(t.$In,Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.$229(t.get_$PL(),t.$2Q.format),!1).then(function(n){t.$SF=n;r.resolve(!0)},function(n){r.reject(n)})},function(n){r.reject(n)});u.push(r);u.push(this.$OK.initializeFieldAccessRules(this.$In));f=this;e=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(u).then(function(){i.resolve(!0)},function(n){i.reject(n)})}return i.promise()},$Ut:function(){var n,t,i;if(this.$vt){n=this.$RZ;for(t in n)i={key:t,value:n[t]},this.$2Q[i.key]=i.value;this.$RZ={}}},$zi:function(n,t){var f,o,u;if(this.get_$PL().toLowerCase()==="picklist"||this.get_$PL().toLowerCase()==="optionset"){$0.$0(this.$RZ.options)&&(this.$RZ.options=this.$2Q.options);this.$vt=!0;var s=this.$2Q.options.$P5,i=0,r={},e=s;for(f in e)o={key:f,value:e[f]},i===t&&(r[i.toString()]=n,i++),u=o.value,r[i.toString()]=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x(u.$1G,u.$1s,-1,-1,null,null,u.$ZJ),i++;($0.$0(t)||i<=t)&&(r[i.toString()]=n);this.$2Q.options=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$7L(r)}},$10Z:function(){(this.get_$PL().toLowerCase()==="picklist"||this.get_$PL().toLowerCase()==="optionset")&&($0.$0(this.$RZ.options)&&(this.$RZ.options=this.$2Q.options),this.$vt=!0,this.$2Q.options=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$7L({}))},$16r:function(n){var t,u,f,r,i;if(this.$AW.toLowerCase()==="picklist"||this.$AW.toLowerCase()==="optionset"){$0.$0(this.$RZ.options)&&(this.$RZ.options=this.$2Q.options);this.$vt=!0;t=Microsoft.Crm.Client.Core.Framework.$1B.$87(this.$2Q.options.$P5);u=t;for(f in u)r={key:f,value:u[f]},i=r.value,i.$1s===n?delete t[r.key]:t[r.key]=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x(i.$1G,i.$1s,-1,-1,null,null,i.$ZJ);this.$2Q.options=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$7L(t)}},$2jE:function(){return this.get_$PL().toLowerCase().startsWith("dateandtime")?this.$2Q.format.toLowerCase()==="dateandtime":!1},$37h:function(n){this.get_$PL().toLowerCase().startsWith("dateandtime")&&($0.$0(this.$RZ.format)&&(this.$RZ.format=this.$2Q.format),this.$vt=!0,this.$2Q.format=n?"dateandtime":"dateonly")},$2zP:function(){this.$Jd&&this.$Jd.execute()},$36f:function(n,t,i,r){var u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("RollupViewModel","Rollup",null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FieldName",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FieldNameDate",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FieldNameState",r)],null,null,n.get_$HV()),n);$0.$0(this.$Jd)||(this.$Jd.dispose(),this.$Jd=null);this.$Jd=Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(u,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("CalculateRollupFieldCommand"))}};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord=function(n,t,i){this.Usage=n;this.Type=t;this.Value=i;this.Static=!0;this.Primary=!1;this.IsRollupOrCalculatedFieldValid=!1};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord.prototype={Usage:0,Type:null,Value:null,Static:!1,Primary:!1,IsRollupOrCalculatedFieldValid:!1};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT=function(n,t,i,r){var u;if(this.$26=n,this.$1DX=t,this.$EU=i,this.$10W=new Array(0),r)if(String.isInstanceOfType(r)||Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT.isInstanceOfType(r))this.$10W.push(r);else if(Array.isInstanceOfType(r))for(var e=r,o=e.length,f=0;f<o;++f)u=e[f],(String.isInstanceOfType(u)||Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT.isInstanceOfType(u))&&this.$10W.push(u)};Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT.prototype={$26:null,$1DX:null,$EU:null,$10W:null,getVirtualRepresentation:function(n){return new Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT(this.$26,this.$1DX,n,null)},getType:function(){return this.$26},getComponentId:function(){return this.$1DX},getProperties:function(){return this.$EU},getChildren:function(){return this.$10W}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q=function(n){this.$Dx=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q.prototype={$Dx:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84=function(n){this.$1TB=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84.prototype={$1TB:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81=function(n,t,i){this.$iS=n;this.$1T4=t;this.$Fa=i};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81.prototype={$iS:null,$1T4:null,$Fa:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P=function(n){this.$1UE=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P.prototype={$1UE:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s=function(n){this.$yE=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s.prototype={$yE:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v=function(n){this.$Si=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v.prototype={$Si:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r=function(n,t){this.$Si=n;this.$1T0=t};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r.prototype={$Si:null,$1T0:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I=function(n,t){this.$ik=n;this.$9F=t};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I.prototype={$ik:null,$9F:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z=function(n,t,i){this.$1Sg=n;this.$1UG=t;this.$1UF=i};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z.prototype={$1Sg:null,$1UG:0,$1UF:0};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83=function(n){this.$1Tm=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83.prototype={$1Tm:null};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Converters");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ik=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ik.prototype={$XH:function(n){if(!$0.$0(n)){var t=Number.parseLocale(n);return isNaN(t)?n:t}return""}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ih=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ih.prototype={$Em:function(n,t){var i,u,f,r;return Date.isInstanceOfType(n)?(i="",u=0,Array.isInstanceOfType(t)&&t.length===2&&(f=t,i=f[0],u=$16.$Ae(Microsoft.Crm.Client.Core.Framework.$3C,f[1])),r=this.$1sh(n,u),"DateToString"===i)?this.$2QH(r,u):"Date"===i?this.$1Dm(r):"Month"===i?this.$2QI(r):this.$2QG(r):n},$XH:function(n,t){if(String.isInstanceOfType(n)){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9(),u=new Date(Date.parse(n));return Microsoft.Crm.Client.Core.Framework.$h.$Lk(u,i,Microsoft.Crm.Client.Core.Framework.$3C.isInstanceOfType(t)?t:0,r)}return n},$2QG:function(n){return n.localeFormat("d MMM")},$1Dm:function(n){return n.localeFormat("dd")},$2QH:function(n,t){var i=this.$1sh(new Date,t);return!$0.$0(n)&&n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ActivityItem_Label_Today"):this.$1Dm(n)},$2QI:function(n){return n.localeFormat("MMMM")},$1sh:function(n,t){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9();return Microsoft.Crm.Client.Core.Framework.$h.$Gs(n,i,t,r)}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ii=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ii.prototype={$Em:function(n,t){if(Date.isInstanceOfType(n)){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9(),u=Number.isInstanceOfType(t)?t:0,f=Microsoft.Crm.Client.Core.Framework.$h.$Gs(n,i,u,r);return this.$1Dm(f)}return n},$XH:function(n,t){if(String.isInstanceOfType(n)){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9(),u=new Date(Date.parse(n)),f=Number.isInstanceOfType(t)?t:0;return Microsoft.Crm.Client.Core.Framework.$h.$Lk(u,i,f,r)}return n},$1Dm:function(n){return n.localeFormat("d")}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ij=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ij.prototype={$Em:function(n,t){if(Date.isInstanceOfType(n)){var i=n,r=Number.isInstanceOfType(t)?t:0;return this.$1Dm(i,r)}return n},$XH:function(n,t){if(String.isInstanceOfType(n)){var i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9(),u=new Date(Date.parse(n)),f=Number.isInstanceOfType(t)?t:0;return Microsoft.Crm.Client.Core.Framework.$h.$Lk(u,i,f,r)}return n},$1Dm:function(n,t){var i=$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E())?0:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$FS(),r=$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E())?null:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$C9();return n=Microsoft.Crm.Client.Core.Framework.$h.$Gs(n,i,t,r),n.localeFormat("t")}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ic=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ic.prototype={$XH:function(){throw Error.notImplemented();}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Id=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ie=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ie.prototype={$XH:function(n){if(!$0.$0(n)){var t=Number.parseLocale(n);return isNaN(t)?n:t}return""}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ib=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ib.prototype={$XH:function(n){if(!$0.$0(n)){var i=n,t=Number.parseInvariant(i);return isNaN(t)?n:t}return""}};Microsoft.Crm.Client.Core.ViewModels.Converters.$IY=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$IY.prototype={$XH:function(n){if(!$0.$0(n)){var i=n,t=Number.parseInvariant(i);return isNaN(t)?n:t}return""}};Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ.prototype={$Em:function(n){var t=!1,i;return Boolean.isInstanceOfType(n)?t=n:$0.$0(n)||(i=n.toString().toLowerCase(),i==="true"?t=!0:i==="yes"?t=!0:i==="1"&&(t=!0)),t}};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ia=function(){};Microsoft.Crm.Client.Core.ViewModels.Converters.$Ia.prototype={$XH:function(n){var f=-1,t,r,u;if(!$0.$0(n)){var e=n,i=e.match(new RegExp("([1-9]|1[012]):([0-5][0-9]):([0-5][0-9])(\\s*)([aApP][mM]{0,2})"));$0.$0(i)||(t=Number.parseInvariant(i[1]),i[5]==="pm"?t+=12:t===12&&(t=0),r=Number.parseInvariant(i[2]),u=Number.parseInvariant(i[3]),isNaN(t)||isNaN(r)||isNaN(u)||(f=t*3600+r*60+u))}return f}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.List");Microsoft.Crm.Client.Core.ViewModels.List.$SG=function(){this.$$d_$28s=Function.createDelegate(this,this.$28s);Microsoft.Crm.Client.Core.ViewModels.List.$SG.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.List.$SG.prototype={$UV:null,$fc:!1,$E6:!1,$1Jx:!1,$1es:!1,$lP:!1,$1ew:!1,get_OpenGridCommand:function(){return this.$UV},set_OpenGridCommand:function(n){return $0.$0(this.$UV)||(this.$UV.dispose(),this.$UV=null),this.$UV=n,n},get_GridEnabled:function(){return this.$fc},set_GridEnabled:function(n){return this.$fc=n,$0.$0(this.$UV)||this.$UV.set_CanExecute(n),this.$7("GridEnabled"),n},$1AN:!1,get_IsHalfHeight:function(){return this.$1AN},set_IsHalfHeight:function(n){return this.$1AN=n,n},get_IsStackingEnabled:function(){return $0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ())?!1:Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$GJ().get_$lW()},get_DisableHeaderLongPress:function(){return this.$E6},set_DisableHeaderLongPress:function(n){return this.$E6=n,n},get_IsNoteListHeader:function(){return this.$1Jx},set_IsNoteListHeader:function(n){return this.$1Jx=n,n},get_IsShimReadyForDeviceIntegration:function(){return this.$1es},set_IsShimReadyForDeviceIntegration:function(n){return this.$1es=n,n},get_IsNoteInlineCreate:function(){return this.$lP},set_IsNoteInlineCreate:function(n){return this.$lP=n,n},get_NotePlaceHolderText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_ListHeader_DeviceIntegration_PlaceHolderText")},get_IsTaskBasedFlow:function(){return this.$1ew},set_IsTaskBasedFlow:function(n){return this.$1ew=n,n},$2Z:function(){!this.$1a&&$0.$0(this.$UV)&&this.set_OpenGridCommand(new Microsoft.Crm.Client.Core.Framework.Binding.$RG(this.$$d_$28s,1011));Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this)},$28s:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(this,13);n.$x={};n.$x.ListDefinitionId=this.$q;n.$x.ListMetadataType=this.$9a;n.$x.ContextFilter=this.$88;n.$x.RelationshipExtraCondition=this.$Bf;n.$x.RelationshipName=this.$52;n.$x.RelationshipType=this.$5T;n.$x.ReferencingName=this.$6c;n.$x.IsReferencingAttributeRequired=this.$lU;n.$x.RelationshipRoleOrdinal=this.$9A;n.$x.ParentEntityViewModel=this.$2;n.$x.EnableContextualActions=this.$eg;n.execute();n.dispose()},getAndExecuteSubgridAddCommand:function(){var t,i,n;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeGetAndExecuteSubgridAddCommand",0,this.get_ViewModelId());$0.$0(this.$52)||this.$Jk===14?(this.$1Jx&&this.$lP&&(this.$lP=!1,this.$Jk=5),this.addCommand.execute()):this.$5T?this.get_AddExistingCommand().execute():(t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("MultilineListVM:GetSubgridAddCommandType"),t.start(),i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,n=this,i.$2jV(this.get_$qQ(),this).done(function(i){t.stop();i&&n.addCommand.get_CanExecute()?n.addCommand.execute():n.get_AddExistingCommand().execute()}))},executeNoteInlineCreateCommand:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("BeforeExecuteNoteInlineCreateCommand",0,this.get_ViewModelId());this.$lP||(this.$lP=!0,this.$Jk=14);this.addCommand.execute()},handleLoadList:function(){this.$2.open(this.$1Kr)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.List.Commands");Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co=function(){};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co.registerInterface("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co");Microsoft.Crm.Client.Core.ViewModels.List.Commands.$G5=function(){};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$G5.registerInterface("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$G5");Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99=function(n){this.$$d_$1uT=Function.createDelegate(this,this.$1uT);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("DeleteListItemCommand",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.$n)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.$n=function(n,t){var u=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(n),f=!$0.$0(t),i,r;return!u||!f?null:(i=n,r=new Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99(i),new Microsoft.Crm.Client.Core.Framework.Binding.$RG(r.$$d_$1uT,1011))};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.prototype={$1uT:function(){if(!$0.$0(this.$35.$A4)){var n=this.$35.$A4.get_$1B();this.$35.$2n.get_$CZ().$Ai(n);this.$35.$2n.$1Yx(n).done(this.$35.$$d_$1hJ)}}};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If=function(n){if($0.$0(n))throw Error.argumentNull("list");this.$35=n};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If.prototype={$35:null};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP=function(n){Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP.$X=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP(n);return new Microsoft.Crm.Client.Core.Framework.Binding.$RG(t.$$d_$1hq,1011)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP.prototype={$29o:function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.prototype.$29o.call(this,n,t,i);t.$J1=5;t.$MU=2;var r=null,u=this;r=function(){t.remove_$26h(r);var n=t.$T;n.add_$1j7(function(){u.$35.$Rr()})};t.add_$26h(r)}};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ=function(n){this.$$d_$1hq=Function.createDelegate(this,this.$1hq);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenListItemCommand",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.$n)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.$n=function(n,t){var u=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(n),f=!$0.$0(t),i,r;return!u||!f?null:(i=n,r=new Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ(i),new Microsoft.Crm.Client.Core.Framework.Binding.$RG(r.$$d_$1hq,1011))};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.prototype={$20y:function(n,t,i){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext(n,t,i):new Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext(n,t,i)},$1hq:function(){var n=this.$35.$A4,i=this.$20y(this.$35.$1f,this.$35.get_CurrentItemIndex(),this.$35.$MC),t;$0.$0(this.$35.$L6)||($0.$0(this.$35.$JD)||this.$35.$JD===this.$35.$MC||(t=new Microsoft.Crm.Client.Core.Framework.$AL,t.$3w(this.$35.$L6),i=this.$20y(t,0,this.$35.$MC)),n=this.$35.$L6,this.$35.$L6=null);$0.$0(n)||($0.$0(n.get_ModelContext())||$0.$0(n.get_ModelContext().get_$Fe())||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$14N(n.get_ModelContext().get_$Fe(),n.get_ModelContext(),1)?this.$2w5(n,i,this.$35.$JD):Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147220960))},$2w5:function(n,t,i){var u=2,r,f;Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(u=40);r=new Microsoft.Crm.Client.Core.Commands.$2R(n,u);r.$x={ListNavigationContext:t};this.$29o(n,r,i);f=this;r.$1Zk().always(function(){r.dispose()})},$29o:function(n,t,i){var r,u;n.$D==="queueitem"&&(i="objectid");$0.$0(i)||(r=n.get_ModelContext().GetValue(i),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(r)&&(u=r,t.$x.EntityReference=u,t.$D=u.get_$BZ(),t.$18=null));Microsoft.Crm.Client.Core.ViewModels.$CD.isInstanceOfType(this.$35.$2)&&this.$35.$2.$QG()}};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("SelectListItemCommand",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$n)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$1Xz=function(n,t,i){var u="TraceComponent",f="SelectionState",c=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$Cs.isInstanceOfType(n),l=!$0.$0(t),e=!$0.$0(t.InitializationParameters),a=e&&u in t.InitializationParameters,v=e&&f in t.InitializationParameters,r,o,s,h;return!c||!l||!a||!v?null:(r=new i,o=n,r.set_$2pt(o),s=t.InitializationParameters[f],r.set_$34S(s),h=t.InitializationParameters[u],r.set_$18m(h),r)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$n=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$1Xz(n,t,Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58)};Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.prototype={$Aq:null,set_$2pt:function(n){return this.$Aq=n,n},$6A:null,set_$34S:function(n){return this.$6A=n,n},$2E:function(){if(!this.$2NY())switch(this.$Aq.get_$34T()){case 1:this.$6A.$1I0(this.$Aq);break;case 2:this.$6A.$22d(this.$Aq);break;default:return}},$2NY:function(){var t=!$0.$0(this.$6A.get_ListComponentViewModel())&&Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co.isInstanceOfType(this.$6A.get_ListComponentViewModel()),n;return t&&(n=this.$6A.get_ListComponentViewModel(),n.get_$2Uf())?!0:!1},$Oh:function(){Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this);this.$Aq=null;this.$6A=null}};Type.registerNamespace("XrmUI");XrmUI.IXrmUIControl=function(){};XrmUI.IXrmUIControl.registerInterface("XrmUI.IXrmUIControl");XrmUI.IXrmUIControlsData=function(){};XrmUI.IXrmUIControlsData.registerInterface("XrmUI.IXrmUIControlsData");XrmUI.IXrmUIHelper=function(){};XrmUI.IXrmUIHelper.registerInterface("XrmUI.IXrmUIHelper");XrmUI.$Ig=function(){};XrmUI.XrmUIControls=function(n){XrmUI.XrmUIControls.initializeBase(this,[n])};XrmUI.Page=function(){};XrmUI.Page.prototype={$L:null,$EU:null,get_pageName:function(){return this.$L},set_pageName:function(n){return this.$L=n,n},get_additionalProperties:function(){return this.$EU},set_additionalProperties:function(n){return this.$EU=n,n},getName:function(){return this.$L},getProperties:function(){return this.$EU}};XrmUI.Manager=function(){};XrmUI.Manager.getActivePage=function(){return XrmUI.Manager.XrmUIPage};XrmUI.Manager.getActiveControls=function(){return Mscrm.InternalUtilities.JSTypes.isNull(XrmUI.Manager.ControlsData)?null:XrmUI.Manager.ControlsData.getControls()};XrmUI.Manager.getAllChildControls=function(){return Mscrm.InternalUtilities.JSTypes.isNull(XrmUI.Manager.ControlsData)?null:XrmUI.Manager.ControlsData.getAllChildControls()};XrmUI.Manager.$378=function(n){XrmUI.Manager.$13T=n};XrmUI.Manager.loadScripts=function(n,t){XrmUI.Manager.$13T.loadScripts(n,t)};XrmUI.Manager.getTopZIndex=function(){return XrmUI.Manager.$13T.getTopZIndex()};XrmUI.Manager.isPageLoaded=function(){return XrmUI.Manager.$13T.isPageLoaded()};XrmUI.ControlId=function(){};XrmUI.UIControlType=function(){};Type.registerNamespace("Microsoft.Crm.Client.Core.OWAViewModels.Common");Microsoft.Crm.Client.Core.OWAViewModels.Common.$G6=function(){};Microsoft.Crm.Client.Core.OWAViewModels.Common.$G6.registerInterface("Microsoft.Crm.Client.Core.OWAViewModels.Common.$G6");Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Interfaces");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cl=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cl.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cl");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Fu=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Fu.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Fu");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ct=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ct.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Ct");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cq=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cq.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cq");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d");Microsoft.Crm.Client.Core.ViewModels.Interfaces.$76=function(){};Microsoft.Crm.Client.Core.ViewModels.Interfaces.$76.registerInterface("Microsoft.Crm.Client.Core.ViewModels.Interfaces.$76");Mscrm.$MI.registerClass("Mscrm.$MI");Microsoft.Crm.Client.Core.Framework.$6I.registerClass("Microsoft.Crm.Client.Core.Framework.$6I",Microsoft.Crm.Client.Core.Framework.$69);Microsoft.Crm.Client.Core.Framework.Common.jqGridResourceManager.registerClass("Microsoft.Crm.Client.Core.Framework.Common.jqGridResourceManager");Xrm.DateFormattingInfo.registerClass("Xrm.DateFormattingInfo");Xrm.DialogOptions.registerClass("Xrm.DialogOptions");Xrm.LookupObject.registerClass("Xrm.LookupObject");Xrm.RelationshipReference.registerClass("Xrm.RelationshipReference");Xrm.LookupOptions.registerClass("Xrm.LookupOptions");Xrm.ActionCollectionBase.registerClass("Xrm.ActionCollectionBase");Xrm.BusinessRuleNotificationBase.registerClass("Xrm.BusinessRuleNotificationBase");Xrm.ErrorResponse.registerClass("Xrm.ErrorResponse");Xrm.XrmGlobalContext.registerClass("Xrm.XrmGlobalContext");Xrm.XrmUtility.registerClass("Xrm.XrmUtility");Xrm.ExecutionContext.registerClass("Xrm.ExecutionContext");Xrm.ProcessActionSuccessResponse.registerClass("Xrm.ProcessActionSuccessResponse");Xrm.SaveErrorResponse.registerClass("Xrm.SaveErrorResponse",Xrm.ErrorResponse);Xrm.SaveEventArgs.registerClass("Xrm.SaveEventArgs",Sys.EventArgs,Microsoft.Crm.Client.Core.Models.$FL);Xrm.SaveSuccessResponse.registerClass("Xrm.SaveSuccessResponse");Xrm.XrmUserSettings.registerClass("Xrm.XrmUserSettings");Xrm.XrmPageContextClient.registerClass("Xrm.XrmPageContextClient");Xrm.XrmOrganizationSettings.registerClass("Xrm.XrmOrganizationSettings");Xrm.Utility.registerClass("Xrm.Utility");Xrm.PageType.registerClass("Xrm.PageType");Microsoft.Crm.Client.Core.Models.$6J.registerClass("Microsoft.Crm.Client.Core.Models.$6J",Microsoft.Crm.Client.Core.Framework.$69);Microsoft.Crm.Client.Core.ViewModels.LookupControlItem.registerClass("Microsoft.Crm.Client.Core.ViewModels.LookupControlItem");Microsoft.Crm.Client.Core.ViewModels.$KF.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KF");Microsoft.Crm.Client.Core.ViewModels.$KH.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KH");Microsoft.Crm.Client.Core.ViewModels.$KK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KK");Microsoft.Crm.Client.Core.ViewModels.$KN.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KN");Microsoft.Crm.Client.Core.ViewModels.$63.registerClass("Microsoft.Crm.Client.Core.ViewModels.$63");Microsoft.Crm.Client.Core.ViewModels.$KL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KL");Microsoft.Crm.Client.Core.ViewModels.$I.registerClass("Microsoft.Crm.Client.Core.ViewModels.$I",null,Microsoft.Crm.Client.Core.ViewModels.$EX,Microsoft.Crm.Client.Core.ViewModels.$EY);Microsoft.Crm.Client.Core.ViewModels.$RA.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RA",Microsoft.Crm.Client.Core.Framework.$3Z);Microsoft.Crm.Client.Core.ViewModels.$Rn.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rn",Microsoft.Crm.Client.Core.ViewModels.$RA,Microsoft.Crm.Client.Core.Framework.$9j);Microsoft.Crm.Client.Core.ViewModels.$KI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KI");Microsoft.Crm.Client.Core.ViewModels.$KG.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KG");Microsoft.Crm.Client.Core.ViewModels.$Oe.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Oe",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Of.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Of",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Og.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Og",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P4.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P4",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P5.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P5",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P6.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P6",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P3",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P0",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P1",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P2",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P7.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P7",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$PB.registerClass("Microsoft.Crm.Client.Core.ViewModels.$PB",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$PC.registerClass("Microsoft.Crm.Client.Core.ViewModels.$PC",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$PD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$PD",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$PA.registerClass("Microsoft.Crm.Client.Core.ViewModels.$PA",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P8.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P8",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$P9.registerClass("Microsoft.Crm.Client.Core.ViewModels.$P9",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Os.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Os",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Ot.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ot",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Ou.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ou",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Or.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Or",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Oo.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Oo",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$Op.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Op",Microsoft.Crm.Client.Core.ViewModels.$KG);Microsoft.Crm.Client.Core.ViewModels.$KM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KM");Microsoft.Crm.Client.Core.ViewModels.$Oq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Oq",Microsoft.Crm.Client.Core.ViewModels.$KM);Microsoft.Crm.Client.Core.ViewModels.$OD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$OD",Microsoft.Crm.Client.Core.ViewModels.$KM);Microsoft.Crm.Client.Core.ViewModels.$4Z.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4Z",Microsoft.Crm.Client.Core.Framework.$6g,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$2I.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2I",Microsoft.Crm.Client.Core.ViewModels.$4Z,Microsoft.Crm.Client.Core.ViewModels.$DG,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$77,Microsoft.Crm.Client.Core.ViewModels.$DC);Microsoft.Crm.Client.Core.ViewModels.$2D.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2D",Microsoft.Crm.Client.Core.ViewModels.$2I,Microsoft.Crm.Client.Core.ViewModels.$78,Microsoft.Crm.Client.Core.ViewModels.$9v);Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$5w.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5w");Microsoft.Crm.Client.Core.ViewModels.$RQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$RQ",Microsoft.Crm.Client.Core.Framework.$6g,Microsoft.Crm.Client.Core.ViewModels.$EW);Microsoft.Crm.Client.Core.ViewModels.$Rt.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rt",Microsoft.Crm.Client.Core.ViewModels.$RQ);Microsoft.Crm.Client.Core.ViewModels.$Rz.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rz",Microsoft.Crm.Client.Core.ViewModels.$Rt,Microsoft.Crm.Client.Core.ViewModels.$Ch);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.registerClass("Microsoft.Crm.Client.Core.ViewModels.CommandFactory");Microsoft.Crm.Client.Core.ViewModels.$6o.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6o",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$SI.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SI",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$4N.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4N",Microsoft.Crm.Client.Core.ViewModels.$SI);Microsoft.Crm.Client.Core.ViewModels.$Sa.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sa",Microsoft.Crm.Client.Core.ViewModels.$4N);Microsoft.Crm.Client.Core.ViewModels.$Bo.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bo",Microsoft.Crm.Client.Core.ViewModels.$SI,Microsoft.Crm.Client.Core.ViewModels.$77);Microsoft.Crm.Client.Core.ViewModels.$4L.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4L");Microsoft.Crm.Client.Core.ViewModels.$Rm.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Rm",Microsoft.Crm.Client.Core.ViewModels.$RQ);Microsoft.Crm.Client.Core.ViewModels.$KC.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KC");Microsoft.Crm.Client.Core.ViewModels.$10.registerClass("Microsoft.Crm.Client.Core.ViewModels.$10",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.$4O.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4O",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.RootViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.$4Q,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$DB);Microsoft.Crm.Client.Core.ViewModels.$SU.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SU",Microsoft.Crm.Client.Core.ViewModels.RootViewModel);Microsoft.Crm.Client.Core.ViewModels.$CD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CD",Microsoft.Crm.Client.Core.ViewModels.$SU);Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ImageUploadDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.$CD);Microsoft.Crm.Client.Core.ViewModels.$2r.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2r");Microsoft.Crm.Client.Core.ViewModels.$11.registerClass("Microsoft.Crm.Client.Core.ViewModels.$11",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.$8K.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8K",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.$KD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KD",null,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$a.registerClass("Microsoft.Crm.Client.Core.ViewModels.$a");Microsoft.Crm.Client.Core.ViewModels.$SK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SK",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$4P.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4P",Microsoft.Crm.Client.Core.ViewModels.$SK,Microsoft.Crm.Client.Core.ViewModels.$77);Microsoft.Crm.Client.Core.ViewModels.$DY.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DY",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$DZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DZ",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.$CS.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CS",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager");Microsoft.Crm.Client.Core.ViewModels.$e.registerClass("Microsoft.Crm.Client.Core.ViewModels.$e");Microsoft.Crm.Client.Core.ViewModels.$k.registerClass("Microsoft.Crm.Client.Core.ViewModels.$k");Microsoft.Crm.Client.Core.ViewModels.$4M.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4M");Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ScriptErrorHandlerViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel",Microsoft.Crm.Client.Core.Framework.$6g,Microsoft.Crm.Client.Core.ViewModels.$Ea,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$DB);Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext.registerClass("Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext",Microsoft.Crm.Client.Core.ViewModels.$KC);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext",Microsoft.Crm.Client.Core.ViewModels.ListNavigationContext,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.$2g.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2g");Microsoft.Crm.Client.Core.ViewModels.$ST.registerClass("Microsoft.Crm.Client.Core.ViewModels.$ST",Microsoft.Crm.Client.Core.ViewModels.$SK,Microsoft.Crm.Client.Core.ViewModels.$2v,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$75);Microsoft.Crm.Client.Core.ViewModels.$S1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$S1",Microsoft.Crm.Client.Core.ViewModels.$2I,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$SD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SD",Microsoft.Crm.Client.Core.ViewModels.$S1,Microsoft.Crm.Client.Core.ViewModels.$2v,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$75);Microsoft.Crm.Client.Core.ViewModels.ValueFactory.registerClass("Microsoft.Crm.Client.Core.ViewModels.ValueFactory");Microsoft.Crm.Client.Core.ViewModels.$KE.registerClass("Microsoft.Crm.Client.Core.ViewModels.$KE");Microsoft.Crm.Client.Core.ViewModels.$9.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9",null,Microsoft.Crm.Client.Core.Framework.$6D);Microsoft.Crm.Client.Core.ViewModels.$7n.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7n",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Q");Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$Bh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bh",Microsoft.Crm.Client.Core.ViewModels.$2I,Microsoft.Crm.Client.Core.Framework.$9t,Microsoft.Crm.Client.Core.Framework.$D9,Microsoft.Crm.Client.Core.ViewModels.$DA,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$Bi.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bi",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$Bm.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bm",null,Microsoft.Crm.Client.Core.Framework.$54);Microsoft.Crm.Client.Core.ViewModels.$Bn.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bn",Microsoft.Crm.Client.Core.ViewModels.$SD);Microsoft.Crm.Client.Core.ViewModels.$24.registerClass("Microsoft.Crm.Client.Core.ViewModels.$24",Microsoft.Crm.Client.Core.ViewModels.$7n,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$77);Microsoft.Crm.Client.Core.ViewModels.$8m.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8m",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$14.registerClass("Microsoft.Crm.Client.Core.ViewModels.$14");Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel",Microsoft.Crm.Client.Core.ViewModels.$CD,Microsoft.Crm.Client.Core.ViewModels.$6Z,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$Cr);Microsoft.Crm.Client.Core.ViewModels.$E1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E1",Microsoft.Crm.Client.Core.ViewModels.$ST);Microsoft.Crm.Client.Core.ViewModels.$7x.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7x",Microsoft.Crm.Client.Core.ViewModels.$E1,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cl);Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DiagnosticsSettingsViewModel",Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel);Microsoft.Crm.Client.Core.ViewModels.$CC.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CC",Microsoft.Crm.Client.Core.ViewModels.$E1);Microsoft.Crm.Client.Core.ViewModels.$CT.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CT",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$Cv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cv",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel",Microsoft.Crm.Client.Core.ViewModels.$CD,Microsoft.Crm.Client.Core.ViewModels.$6Z,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d);Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel",Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel);Microsoft.Crm.Client.Core.ViewModels.$4k.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4k",Microsoft.Crm.Client.Core.ViewModels.$SD);Microsoft.Crm.Client.Core.ViewModels.$9o.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9o",Microsoft.Crm.Client.Core.ViewModels.$4k);Microsoft.Crm.Client.Core.ViewModels.$9p.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9p",Microsoft.Crm.Client.Core.ViewModels.$4k);Microsoft.Crm.Client.Core.ViewModels.$4D.registerClass("Microsoft.Crm.Client.Core.ViewModels.$4D",Microsoft.Crm.Client.Core.ViewModels.$SD);Microsoft.Crm.Client.Core.ViewModels.$3Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3Q",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$A2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$A2",Microsoft.Crm.Client.Core.ViewModels.$CT);Microsoft.Crm.Client.Core.ViewModels.$DR.registerClass("Microsoft.Crm.Client.Core.ViewModels.$DR",Microsoft.Crm.Client.Core.ViewModels.$2I,Microsoft.Crm.Client.Core.ViewModels.$EZ,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.$AA.registerClass("Microsoft.Crm.Client.Core.ViewModels.$AA",Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel);Microsoft.Crm.Client.Core.ViewModels.$AA.prototype.toString=Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.prototype.toString;Microsoft.Crm.Client.Core.ViewModels.$AB.registerClass("Microsoft.Crm.Client.Core.ViewModels.$AB",Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel);Microsoft.Crm.Client.Core.ViewModels.$AB.prototype.toString=Microsoft.Crm.Client.Core.ViewModels.MessageBarMessageViewModel.prototype.toString;Microsoft.Crm.Client.Core.ViewModels.$8J.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8J",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$5f.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5f");Microsoft.Crm.Client.Core.ViewModels.$SV.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SV",Microsoft.Crm.Client.Core.ViewModels.$24);Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.$SV,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$SK,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$Ds.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ds",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$Sh.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sh",Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel);Microsoft.Crm.Client.Core.ViewModels.$6e.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6e",Microsoft.Crm.Client.Core.ViewModels.$4k,Microsoft.Crm.Client.Core.ViewModels.$5o,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$Mc.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mc",Sys.EventArgs);Microsoft.Crm.Client.Core.ViewModels.$7R.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7R");Microsoft.Crm.Client.Core.ViewModels.$Se.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Se",Microsoft.Crm.Client.Core.ViewModels.$Bn);Microsoft.Crm.Client.Core.ViewModels.$Sf.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Sf",Microsoft.Crm.Client.Core.ViewModels.$Bn);Microsoft.Crm.Client.Core.ViewModels.$6L.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6L",Microsoft.Crm.Client.Core.ViewModels.$S1);Microsoft.Crm.Client.Core.ViewModels.$EJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EJ",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$BD.registerClass("Microsoft.Crm.Client.Core.ViewModels.$BD",Microsoft.Crm.Client.Core.ViewModels.$7n);Microsoft.Crm.Client.Core.ViewModels.$EK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$EK",Microsoft.Crm.Client.Core.ViewModels.$4k);Microsoft.Crm.Client.Core.ViewModels.$C.registerClass("Microsoft.Crm.Client.Core.ViewModels.$C",Microsoft.Crm.Client.Core.Framework.$69);Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z,Microsoft.Crm.Client.Core.ViewModels.$Eu,Microsoft.Crm.Client.Core.ViewModels.$9c,Microsoft.Crm.Client.Core.ViewModels.$4Q,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$DB,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$DG,Microsoft.Crm.Client.Core.ViewModels.$78,Microsoft.Crm.Client.Core.ViewModels.$9v,Microsoft.Crm.Client.Core.ViewModels.List.Commands.$Co,Microsoft.Crm.Client.Core.OWAViewModels.Common.$G6,Microsoft.Crm.Client.Core.ViewModels.$77);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel",Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel);Microsoft.Crm.Client.Core.ViewModels.List.$SG.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.$SG",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel",Microsoft.Crm.Client.Core.ViewModels.List.$SG,Microsoft.Crm.Client.Core.ViewModels.$DE);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel",Microsoft.Crm.Client.Core.ViewModels.List.$SG,Microsoft.Crm.Client.Core.Framework.$9t,Microsoft.Crm.Client.Core.Framework.$D9);Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.$42.registerClass("Microsoft.Crm.Client.Core.ViewModels.$42",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.$DA,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.Framework.$9t,Microsoft.Crm.Client.Core.ViewModels.$9c);Microsoft.Crm.Client.Core.ViewModels.GridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.GridViewModel",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.Framework.$9t,Microsoft.Crm.Client.Core.ViewModels.$DE);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel",Microsoft.Crm.Client.Core.ViewModels.GridViewModel);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.$3R.registerClass("Microsoft.Crm.Client.Core.ViewModels.$3R",Microsoft.Crm.Client.Core.ViewModels.$2D,Microsoft.Crm.Client.Core.ViewModels.$Cs,Microsoft.Crm.Client.Core.ViewModels.$9c,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$3R);Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.$Hq.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hq",null,Microsoft.Crm.Client.Core.ViewModels.$Ev);Microsoft.Crm.Client.Core.ViewModels.$Hr.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hr",null,Microsoft.Crm.Client.Core.ViewModels.$Et);Microsoft.Crm.Client.Core.ViewModels.$Hp.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hp",null,Microsoft.Crm.Client.Core.ViewModels.$Et);Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.$Hn.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Hn",null,Microsoft.Crm.Client.Core.ViewModels.$Et);XrmUI.Page.registerClass("XrmUI.Page");Microsoft.Crm.Client.Core.ViewModels.$Mj.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Mj",XrmUI.Page);Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification.registerClass("Microsoft.Crm.Client.Core.ViewModels.BusinessRuleNotification",Xrm.BusinessRuleNotificationBase);Microsoft.Crm.Client.Core.ViewModels.$Ho.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ho",null,Xrm.IBusinessRuleNotificationProvider);Microsoft.Crm.Client.Core.ViewModels.FieldAccessController.registerClass("Microsoft.Crm.Client.Core.ViewModels.FieldAccessController");Microsoft.Crm.Client.Core.ViewModels.$40.registerClass("Microsoft.Crm.Client.Core.ViewModels.$40");Microsoft.Crm.Client.Core.ViewModels.$7O.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7O");Microsoft.Crm.Client.Core.ViewModels.$1e.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1e");Microsoft.Crm.Client.Core.ViewModels.$1c.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1c");Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CustomScriptsObjectViewModel",Microsoft.Crm.Client.Core.Framework.$6g);Microsoft.Crm.Client.Core.ViewModels.$1W.registerClass("Microsoft.Crm.Client.Core.ViewModels.$1W",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$SU,Microsoft.Crm.Client.Core.ViewModels.$Cr,Microsoft.Crm.Client.Core.ViewModels.$3X,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);ChartConfigObject.registerClass("ChartConfigObject");Microsoft.Crm.Client.Core.ViewModels.Controls.$5G.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$5G");Microsoft.Crm.Client.Core.ViewModels.Controls.$SW.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$SW",Microsoft.Crm.Client.Core.ViewModels.$24);Microsoft.Crm.Client.Core.ViewModels.Controls.$E8.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$E8",Microsoft.Crm.Client.Core.ViewModels.Controls.$SW);Microsoft.Crm.Client.Core.ViewModels.Controls.$CA.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$CA",Microsoft.Crm.Client.Core.ViewModels.Controls.$E8);Microsoft.Crm.Client.Core.ViewModels.Controls.$CB.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$CB",Microsoft.Crm.Client.Core.ViewModels.$7n,Microsoft.Crm.Client.Core.ViewModels.$EV);Microsoft.Crm.Client.Core.ViewModels.Controls.$2e.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$2e");Microsoft.Crm.Client.Core.ViewModels.Controls.$89.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$89",Microsoft.Crm.Client.Core.ViewModels.$2I,Microsoft.Crm.Client.Core.ViewModels.$2u,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$89);Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$89);Microsoft.Crm.Client.Core.ViewModels.Controls.$BX.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$BX",Microsoft.Crm.Client.Core.ViewModels.Controls.$89);Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$2i");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S");Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder.registerClass("Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder",Microsoft.Crm.Client.Core.ViewModels.$KE);Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder.registerClass("Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder",Microsoft.Crm.Client.Core.ViewModels.$KE);Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ControlCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ControlCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.NavigationCommand.registerClass("Microsoft.Crm.Client.Core.Commands.NavigationCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z,Microsoft.Crm.Client.Core.Framework.$35);Microsoft.Crm.Client.Core.Commands.$A3.registerClass("Microsoft.Crm.Client.Core.Commands.$A3",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand);Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand);Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand);Microsoft.Crm.Client.Core.Commands.SignOutCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SignOutCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand",Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand);Microsoft.Crm.Client.Core.Commands.$AO.registerClass("Microsoft.Crm.Client.Core.Commands.$AO",Microsoft.Crm.Client.Core.Framework.Binding.$RG);Microsoft.Crm.Client.Core.Commands.$2R.registerClass("Microsoft.Crm.Client.Core.Commands.$2R",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand",Microsoft.Crm.Client.Core.Commands.$2R);Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand",Microsoft.Crm.Client.Core.Commands.NavigationCommand);Microsoft.Crm.Client.Core.Commands.RelayCommand.registerClass("Microsoft.Crm.Client.Core.Commands.RelayCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$AH",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Common.$8b.registerClass("Microsoft.Crm.Client.Core.ViewModels.Common.$8b",Microsoft.Crm.Client.Core.Framework.$69);Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.registerClass("Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority");Microsoft.Crm.Client.Core.ViewModels.Common.$AE.registerClass("Microsoft.Crm.Client.Core.ViewModels.Common.$AE",Microsoft.Crm.Client.Core.Framework.$69);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HY.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HY");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HT.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HT");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s",null,Microsoft.Crm.Client.Core.Framework.$Gh);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HW.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HW");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$90");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nr",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$8z);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$92.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$92");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$93.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$93");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HV",null,Microsoft.Crm.Client.Core.Framework.ISerializable);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5E");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Cc");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2k");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HZ");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6p");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Np",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlColumnValidator");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HX.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HX");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HR.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HR");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6U",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HS");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$91",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HQ");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HO.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HO");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HP.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HP");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$30");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z",Microsoft.Crm.Client.Core.ViewModels.$SD,Microsoft.Crm.Client.Core.ViewModels.$88,Microsoft.Crm.Client.Core.Framework.$9t,Microsoft.Crm.Client.Core.ViewModels.$9c,Microsoft.Crm.Client.Core.ViewModels.$78);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$3De.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z.$3De");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nq.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$Nq",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$6s);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$HU");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1A");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlValidatorResult.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.CustomControlValidatorResult");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$5k",null,Sys.IDisposable);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$57",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$3L",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.PropertySpecificationRecord");Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$BT");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$84");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$81");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7s");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8I");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ik.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ik");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ih.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ih");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ii.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ii");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ij.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ij");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ic.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ic");Microsoft.Crm.Client.Core.ViewModels.Converters.$Id.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Id");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ie.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ie");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ib.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ib");Microsoft.Crm.Client.Core.ViewModels.Converters.$IY.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$IY");Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ");Microsoft.Crm.Client.Core.ViewModels.Converters.$Ia.registerClass("Microsoft.Crm.Client.Core.ViewModels.Converters.$Ia");Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If");Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$If);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AP",Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ);Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.registerClass("Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58",Microsoft.Crm.Client.Core.Framework.Binding.$2z,Microsoft.Crm.Client.Core.ViewModels.List.Commands.$G5,Microsoft.Crm.Client.Core.Framework.Binding.$Gg);XrmUI.$Ig.registerClass("XrmUI.$Ig");XrmUI.XrmUIControls.registerClass("XrmUI.XrmUIControls",Xrm.XrmCollection$1.$$(XrmUI.IXrmUIControl));XrmUI.Manager.registerClass("XrmUI.Manager");XrmUI.ControlId.registerClass("XrmUI.ControlId");XrmUI.UIControlType.registerClass("XrmUI.UIControlType");Xrm.Utility.$C=null;Microsoft.Crm.Client.Core.Models.$6J.$1nM=!1;Microsoft.Crm.Client.Core.ViewModels.$I.$j7={};Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$1uQ=[17,26,47,31];Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$r1=!1;Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.PaneScrollIndicatorEnabled=!1;Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.CommandFactory.commandDictionary=null;Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$6o.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$2D.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4O.$1Ht="GlobalMenuViewModel";Microsoft.Crm.Client.Core.ViewModels.$11.$C=null;Microsoft.Crm.Client.Core.ViewModels.$11.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$8K.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4P.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.$C=null;this.$I5=null;this.$Q0=null;this.$yz=null;Microsoft.Crm.Client.Core.ViewModels.$e.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4M.$wg=null;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$104=new Microsoft.Crm.Client.Core.Framework.$C3("BackButtonToolTip",String,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Back_Button_Text"));Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$10R=new Microsoft.Crm.Client.Core.Framework.$C3("CanGoBack",Boolean,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel,!1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.$C=null;Microsoft.Crm.Client.Core.ViewModels.$2g.$S6=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object));Microsoft.Crm.Client.Core.ViewModels.ValueFactory.$1YL={};Microsoft.Crm.Client.Core.ViewModels.$9.$3=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6();Microsoft.Crm.Client.Core.ViewModels.$7n.$$cctor();Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1ER=null;Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Q5=null;Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$1Ex=null;Microsoft.Crm.Client.Core.ViewModels.ActivityItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.OfficeGraphDocumentItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.AddAttachmentViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.AttachmentItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.AttachmentsControlViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Bh.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Bi.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$24.$1XW=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["BackProcessStage","SetActiveStage","SkypeUrlLauncherCommand","UrlLauncherCommand"]);Microsoft.Crm.Client.Core.ViewModels.$2I.$1PI=null;Microsoft.Crm.Client.Core.ViewModels.$2I.$1KL=!1;Microsoft.Crm.Client.Core.ViewModels.DeviceSettingsViewModel.$1dB=[];Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$1El=!1;Microsoft.Crm.Client.Core.ViewModels.DiagnosticsReportViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4N.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4k.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$9o.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$9p.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$4D.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$3Q.$1mb=new Microsoft.Crm.Client.Core.Framework.$C3("Text",String,Microsoft.Crm.Client.Core.ViewModels.$3Q);Microsoft.Crm.Client.Core.ViewModels.$3Q.$2yF=new Microsoft.Crm.Client.Core.Framework.$C3("PreventNavigation",Boolean,Microsoft.Crm.Client.Core.ViewModels.$3Q);Microsoft.Crm.Client.Core.ViewModels.$3Q.$2w6=new Microsoft.Crm.Client.Core.Framework.$C3("OpenInNewWindow",Boolean,Microsoft.Crm.Client.Core.ViewModels.$3Q);Microsoft.Crm.Client.Core.ViewModels.$DR.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$AA.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$AB.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$8J.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.NotesItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.OneNoteItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Ds.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$6e.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$EJ.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$BD.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$EK.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$C.$3=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6();Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.$3=null;Microsoft.Crm.Client.Core.ViewModels.HierarchyListItemViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.$1SD=new Microsoft.Crm.Client.Core.Framework.$C3("ViewportCheckCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z,Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel);Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel.$1ZR=new Microsoft.Crm.Client.Core.Framework.$C3("EntityTypeCode",Number,Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel);Microsoft.Crm.Client.Core.ViewModels.FieldAccessController.$1Z7=[6,9,1,10];this.$8t=null;Microsoft.Crm.Client.Core.ViewModels.$40.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$1W.$C=null;Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1s1="taskflowclosed";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2GU="uniquename";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1s0="status";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1BV="abandoned";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$1XY="completed";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2Cl="saved";Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel.$2Gv="length";Microsoft.Crm.Client.Core.ViewModels.Controls.$CB.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.$C=null;Microsoft.Crm.Client.Core.ViewModels.Builders.DynamicsDialogViewModelBuilder.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Builders.PopupViewModelBuilder.$$cctor();Microsoft.Crm.Client.Core.Commands.ActivateItemChangedCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ChartSeriesClickCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ControlCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$A3.$$cctor();Microsoft.Crm.Client.Core.Commands.DocumentsUrlLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SignOutCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.MapsUrlLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$AO.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$1Nb=0;Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$39q=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["activitypointer"]);Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$1ea=!1;Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OpenImageUploadDialogCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.$2R.$2Ga=30;Microsoft.Crm.Client.Core.Commands.$2R.$1RY=0;Microsoft.Crm.Client.Core.Commands.$2R.$$cctor();Microsoft.Crm.Client.Core.Commands.RelayCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.SharepointDocumentLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.DelveActionHubCardLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.OfficeGraphDocumentLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$AH.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.TabbingDisabled=-3e4;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.None=-1;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.MessageButton=1;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.SiteMapButton=10;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.HomeButton=20;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.SearchButton=30;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.BackButton=40;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.TrackBar=950;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.DefaultRootPage=1e3;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.QuickCreateForm=1e4;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.DefaultIndexForHeaderControl=1e3;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.DefaultStartIndex=1300;Microsoft.Crm.Client.Core.ViewModels.Common.TabIndexPriority.TabIndexBufferForBPC=1;Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$1z.$C=null;Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$47.$C=null;Microsoft.Crm.Client.Core.ViewModels.List.Commands.$99.$$cctor();Microsoft.Crm.Client.Core.ViewModels.List.Commands.$AQ.$$cctor();Microsoft.Crm.Client.Core.ViewModels.List.Commands.$58.$$cctor();XrmUI.Manager.XrmUIPage=null;XrmUI.Manager.ControlsData=null;XrmUI.Manager.$13T=null;XrmUI.ControlId.filterButton="filterButton";XrmUI.ControlId.gridHeaderItem="gridHeaderItem";XrmUI.ControlId.helpButton="help";XrmUI.ControlId.homeButton="home";XrmUI.ControlId.jumpBar="jumpBar";XrmUI.ControlId.listItem="listItem";XrmUI.ControlId.moreCommands="moreCommands";XrmUI.ControlId.navigationBar="navigationbar";XrmUI.ControlId.navDetailFlyout="navDetailflyout";XrmUI.ControlId.navModuleFlyout="navModuleflyout";XrmUI.ControlId.panoramaItem="panoramaItem";XrmUI.ControlId.searchButton="search";XrmUI.ControlId.siteMapButton="sitemap";XrmUI.ControlId.gridHeader="gridHeader";XrmUI.ControlId.gridRow="gridRow";XrmUI.ControlId.subGrid="crmSubGrid";XrmUI.ControlId.refreshButton="refresh";XrmUI.ControlId.panoramaContainer="PanoramaContainer";XrmUI.ControlId.swipeIn="swipeIn";XrmUI.UIControlType.back="Back";XrmUI.UIControlType.barChart="BarChart";XrmUI.UIControlType.button="Button";XrmUI.UIControlType.commandButton="CommandButton";XrmUI.UIControlType.columnChart="ColumnChart";XrmUI.UIControlType.commandBarContainer="appBar";XrmUI.UIControlType.crmChart="CrmChart";XrmUI.UIControlType.chartList="visualizationListContainer";XrmUI.UIControlType.chartToolBar="visualizationToolBar";XrmUI.UIControlType.chartToolBarButton="ChartToolBarButton";XrmUI.UIControlType.dateOfPost="DateOfPost";XrmUI.UIControlType.drilldown="DrillDownContainer";XrmUI.UIControlType.deleteNotesAction="deleteNotesAction";XrmUI.UIControlType.deleteLink="deleteLink";XrmUI.UIControlType.filterButton="filterButton";XrmUI.UIControlType.funnelChart="FunnelChart";XrmUI.UIControlType.grid="Grid";XrmUI.UIControlType.gridHeader="gridHeader";XrmUI.UIControlType.gridHeaderItem="gridHeaderItem";XrmUI.UIControlType.gridQuickFind="GridQuickFind";XrmUI.UIControlType.gridRow="gridRow";XrmUI.UIControlType.gridViewSelectorDropDown="GridViewSelectorDropDown";XrmUI.UIControlType.gridQuickFindContainer="GridQuickFindContainer";XrmUI.UIControlType.gridQuickFindButton="GridQuickFindButton";XrmUI.UIControlType.gridViewSelector="GridViewSelector";XrmUI.UIControlType.gridViewSelectorContainer="GridViewSelectorContainer";XrmUI.UIControlType.gridViewPinImage="GridViewPinImage";XrmUI.UIControlType.home="Home";XrmUI.UIControlType.jumpBar="jumpBar";XrmUI.UIControlType.lineChart="LineChart";XrmUI.UIControlType.listItem="ListItem";XrmUI.UIControlType.navigationButton="NavigationButton";XrmUI.UIControlType.navigationContainer="NavigationContainer";XrmUI.UIControlType.newRecordButton="newRecordButton";XrmUI.UIControlType.notesTextBox="NotesTextBox";XrmUI.UIControlType.notesWallContainer="NotesWallContainer";XrmUI.UIControlType.notesWall="NotesWall";XrmUI.UIControlType.notesItemTextBoxDiv="PostItemTextBoxDiv";XrmUI.UIControlType.notesItemTextBoxSpacer="PostItemTextBoxSpacer";XrmUI.UIControlType.notesControl="NotesControl";XrmUI.UIControlType.notesControlChildElements="NotesControlChildElements";XrmUI.UIControlType.okCell="OkCell";XrmUI.UIControlType.panoramaContainer="panoramaContainer";XrmUI.UIControlType.panoramaItem="panoramaItem";XrmUI.UIControlType.pieChart="PieChart";XrmUI.UIControlType.postContainerItem="PostContainerItem";XrmUI.UIControlType.postItemTitle="PostItemTitle";XrmUI.UIControlType.postItemText="PostItemText";XrmUI.UIControlType.postFooter="PostFooter";XrmUI.UIControlType.postFooterActionArea="PostFooterActionArea";XrmUI.UIControlType.postFooterAttachSpacer="PostFooterAttachSpacer";XrmUI.UIControlType.postFooterDoneSpacer="PostFooterDoneSpacer";XrmUI.UIControlType.postDoneButton="PostDoneButton";XrmUI.UIControlType.postAttachImage="PostAttachImage";XrmUI.UIControlType.postAttachFrame="PostAttachFrame";XrmUI.UIControlType.postAttachButton="PostAttachButton";XrmUI.UIControlType.postAuditInformation="PostAuditInformation";XrmUI.UIControlType.postUserName="PostUserName";XrmUI.UIControlType.postUndoText="PostUndoText";XrmUI.UIControlType.postUndoLink="PostUndoLink";XrmUI.UIControlType.refreshButton="refresh";XrmUI.UIControlType.staticNavigationButton="StaticNavigationButton";XrmUI.UIControlType.undeletePost="UndeletePost";XrmUI.UIControlType.processStage="ProcessStage";XrmUI.UIControlType.processStep="ProcessStep";XrmUI.UIControlType.processStepColumn="ProcessStepColumn";XrmUI.UIControlType.processControlContainer="ProcessControlContainer";XrmUI.UIControlType.processHeaderContainer="ProcessHeaderContainer";XrmUI.UIControlType.processHeaderStage="ProcessHeaderStage";XrmUI.UIControlType.quickCreateCommandButton="QuickCreateCommandButton";XrmUI.UIControlType.flyOutButton="FlyOutButton"
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.OWAViewModels.js.srcmap
