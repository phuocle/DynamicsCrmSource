Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$Ek=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ek.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ek");Microsoft.Crm.Client.Core.ViewModels.$El=function(){};Microsoft.Crm.Client.Core.ViewModels.$El.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$El");Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.prototype={task:0,email:1,appointment:2,phoneCall:3,incidentResolution:4,note:5,systemPost:6,userPost:7,socialActivity:8,customActivity:9,incident:10,account:11};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.prototype={open:0,completed:1,canceled:2,scheduled:3};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.prototype={high:0,normal:1,low:2};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.prototype={incoming:0,outgoing:1};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel=function(n){var r,t,i;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.initializeBase(this,[n]);this.$NR={};r=Microsoft.Crm.Client.Core.Framework.$1T.$d("IsUSD");!$0.$0(r)&&Boolean.isInstanceOfType(r)&&(this.$Z5=r);t=this;this.$1Lb=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){t.$4e.$AV===t.$4e.$fi?t.$4e.$1i3(!1):t.$2s8(!1)},1004);i=this;this.$1La=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){i.$4e.$AV+1===i.$4e.get_$1RB()?i.$4e.$1i3(!0):i.$2s8(!0)},1004)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.prototype={$1Lb:null,$1La:null,get_ListNavigationRecordCount:function(){if($0.$0(this.$4e))return"";var n=this.$4e.$AV+1;return n.toString()+"/"+this.$4e.$zR.toString()},$2s7:function(n){n?this.set_NextNavigationIndex(this.$4e.$AV+1):this.set_NextNavigationIndex(this.$4e.$AV-1);for(var t=this.$4e.$24L(this.$MX),i=!0;!t;){if(!this.$MX||this.$MX===this.$4e.$zR-1){i=!1;break}n?this.set_NextNavigationIndex(this.$MX+1):this.set_NextNavigationIndex(this.$MX-1);t=this.$4e.$24L(this.$MX)}return i?!0:(Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_0x8004020e"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Message_0x80042300"),0),!1)},$2s8:function(n){var i,t,u,f,r;this.$2s7(n)&&(this.$4e.$lo=!0,i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),t=this.get_CurrentListNavigationDataContext().get_$1B(),Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(t)&&(u=t,f=u.$I.$a,f.LogicalName!=="queueitem"&&(i.$K.$M.EntityReference=null)),r=new Microsoft.Crm.Client.Core.Commands.$A3(i),r.execute(),r.dispose(),t=this.get_CurrentListNavigationDataContext().get_$1B(),Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(t)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HK().$1Mv(t),Microsoft.Crm.Client.Core.ViewModels.$e.$1V9(t)))},get_NavigateToPrevious:function(){return this.$1Lb},set_NavigateToPrevious:function(n){return this.$1Lb=n,n},get_NavigateToNext:function(){return this.$1La},set_NavigateToNext:function(n){return this.$1La=n,n},$NR:null,$SO:null,$pC:null,$202:function(n,t){if($0.$0(this.$pC)){var i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveDashboardSelector",null,!0,[1,2]),r=this;i.OnSuccess=function(n){if(!$0.$0(n)&&!$0.$0(n.$Cx)){var i=n.$Cx.Controls;r.$1Rp(i);t()}};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",n,i)}else t()},$1Rp:function(n){var r,t,s,h,w,f,c,l,b,e,a;for(this.$NR={},this.$pC=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$65)),r=0;r<n[0].Children.length;r++){var u=n[0].Children[r],v=u.Id,i=u.LabelText;switch(i){case"Service Desk Dashboard":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentric_ServiceDeskDashboard");break;case"Knowledge Manager":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentric_KnowledgeManagerDashboard");break;case"My Knowledge Dashboard":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentric_MyKnowledgeDashboard")}var o=this.$1wA(u.CommandParameters.Descriptors,"Properties"),y=!1,p=u.CommandParameters.IsDefault;if(o){t=null;s=o;for(h in s)w={key:h,value:s[h]},f=w.value,f&&f.Name==="PrimaryEntity"&&(t=f.Value,this.$NR[t]||(this.$NR[t]=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$65))));c=o;for(l in c)if(b={key:l,value:c[l]},e=b.value,e&&e.Name==="DashboardCategory"){a=e.Value.toString().split("_");a.length>1&&a[1]==="1"&&t&&(y=!0,this.$NR[t].add(new Microsoft.Crm.Client.Core.ViewModels.$65(v,i,t,p)));y||this.$pC.add(new Microsoft.Crm.Client.Core.ViewModels.$65(v,i,t,p));break}}}},$1wA:function(n,t){var r,u,i,f;if(!n)return null;if(n[t])return n[t];r=n;for(u in r)if((i={key:u,value:r[u]},i.key!=="__proto__"&&i.value&&(i.value.toString().toLowerCase()==="[object object]"||!(i.value.toString().indexOf(t)<0)))&&(f=this.$1wA(i.value,t),f))return f;return null},$2ka:function(n){var i=n.$yE[0],t;for(Xrm.Utility.create(i,null,null,null,null,null),t=0;t<n.$yE.length;t++)n.$yE[t]=null;n=null},$2Kz:function(n){if($0.$0(this.$5B)&&(this.$5B=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4B))),!this.$5B.contains(n)){if(this.$5B.add(n),Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var t=n;t=$.extend(!0,{},n);this.get_$JY().add(t)}this.$tZ=null;n.set_$KH(!0);this.$1wJ()}},clearSelectedViewModels:function(){var t=!1,n;if(!$0.$0(this.$5B)){for(n=0;n<this.$5B.get_Count();n++)this.$5B.get_$R(n).$2P1(),t=!0;this.$5B.clear()}t&&this.$1a4()},GetRootTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?1e3:-3e4},$30y:function(n){var t,i;if(!$0.$0(this.$5B)&&(this.$5B.contains(n)||this.get_$JY().contains(n))){if(this.$5B.remove(n),!this.$5B.contains(n))for(t=0;t<this.$5B.get_Count();t++)if(this.$5B.get_Items()[t].get_Id()===n.get_Id()){this.$5B.remove(this.$5B.get_Items()[t]);break}if(this.get_$JY().remove(n),!this.get_$JY().contains(n))for(i=0;i<this.get_$JY().get_Count();i++)if(this.get_$JY().get_Items()[i].get_Id()===n.get_Id()){this.get_$JY().remove(this.get_$JY().get_Items()[i]);break}this.$tZ=null;this.$2XK()}},$2gp:function(n){var t,i;return Microsoft.Crm.Client.Core.ViewModels.$74.isInstanceOfType(n)?(t=n,$0.$0(t))?null:(i={},i.name=t.$y3,i.id=t.$y2,i.type=t.$y4,i):null},isNavBarOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$4L.getParamStatus("navbar")},isBackButtonOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$4L.getParamStatus("backbtn")},$1gV:function(n){this.get_CanGoBack()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype.$1gV.call(this,n):this.$1Iv.$m8.execute()}};Microsoft.Crm.Client.Core.ViewModels.$8Z=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_HandleFilterChangeCompletedEvent=Function.createDelegate(this,this.HandleFilterChangeCompletedEvent);this.$1l={};Microsoft.Crm.Client.Core.ViewModels.$8Z.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$8Z.prototype={$1k:!1,$157:null,$I1:null,get_AppliedFilterExpression:function(){return this.$I1},set_AppliedFilterExpression:function(n){return this.$I1=n,n},$NJ:null,$Kz:null,get_AttributeMetadataActionProvider:function(){return this.$Kz},set_AttributeMetadataActionProvider:function(n){return this.$Kz=n,n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k=n,this.$7("MetadataFetched"),n},get_IsMultipleEntityGraphSupported:function(){return this.$6Z().get_IsMultipleEntityGraphSupported()},$20i:function(n){var i=0,t,r,u;if(!$0.$0(n)&&!$0.$0(n.get_$5N()))for(t=0;t<n.get_$5N().get_Count();t++)if(n.get_$5N().get_$R(t).get_$1m().get_Count()>0){r=n.get_$5N().get_$R(t).get_$1m().get_$R(0).get_$Nm();u=this.$1l[r][1];switch(u){case 20:case 11:case 0:case 12:case 13:case 1:case 6:case 10:case 9:case 14:i+=n.get_$5N().get_$R(t).get_$1m().get_Count();break;case 5:case 4:case 3:case 2:i+=1}}return i},get_AppliedFiltersCount:function(){var n,t,i,r,u;if(this.$6Z().get_IsMultipleEntityGraphSupported()){if(n=0,!$0.$0(this.$NJ)){t=this.$NJ;for(i in t)r={key:i,value:t[i]},$0.$0(r.value)||(u=r.value,n+=this.$20i(u))}return n}return this.$20i(this.$I1)},$2Z:function(){if(!this.$1a){var n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("AppliedFilters_Initialize",0,this.get_ViewModelId());$0.$0(n)||n.addParameter(this.$L);this.$157=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_AttributeMetadataRetrieve");Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$6Z().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_HandleFilterChangeCompletedEvent)}},$Oh:function(){this.$1l=null;this.$6Z().$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_HandleFilterChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},HandleFilterChangeCompletedEvent:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_HandleFilterChangeCompletedEvent"),y,r,f,p,b,k,o,i,s,h,c,l,u,a,it,ut;if(t.start(),this.$6Z().get_IsMultipleEntityGraphSupported()){k=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$JO)?"":n.$JO.toString(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(k);this.$NJ={};var d=this.$6Z().$CG,g={},nt=0,tt=d;for(o in tt)i={key:o,value:tt[o]},this.$NJ[i.key]=d[i.key].$87(),s=this.$NJ[i.key].$Ap.toArray(),g[i.key]=s,nt+=s.length;if(!nt){this.$7("CurrentAppliedFilters");return}h=g;for(c in h)if(l={key:c,value:h[c]},u=l.value,u.length>0){a=new Array(u.length);it=0;for(var rt=u,et=rt.length,v=0;v<et;++v)ut=rt[v],a[it++]=ut.get_$Qj();this.$Kl(a,l.key)}t.stop();t.addParameter(this.get_ViewModelId())}else{if(y=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$Dy)?"":n.$Dy.$9V(),n.$q),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(y),this.$I1=this.$6Z().$I7.$87(),r=this.$I1.get_$5N().toArray(),!r.length){this.$7("CurrentAppliedFilters");return}f=new Array(r.length);p=0;for(var w=r,ft=w.length,e=0;e<ft;++e)b=w[e],f[p++]=b.get_$Qj();t.stop();t.addParameter(this.get_ViewModelId());this.$Kl(f,this.$6Z().$6q)}this.$7("CurrentAppliedFilters")},removedAppliedFilters:function(n){this.$I1.$Mq(n);var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(n,1,0,this.$I1);this.$6Z().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,t);this.$7("CurrentAppliedFilters")},removedAppliedFiltersWithEntity:function(n,t){this.$NJ[n].$Mq(t);var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(t,1,0,null);i.$H8=this.$NJ;this.$6Z().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,i);this.$7("CurrentAppliedFilters")},removedAllAppliedFilters:function(){var n;this.$6Z().get_IsMultipleEntityGraphSupported()?(this.$NJ=null,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,null),n.$H8=this.$NJ):(this.$I1=null,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,this.$I1));this.$6Z().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,n);this.$7("CurrentAppliedFilters")},TruncatedGlobalFilterScreenReaderText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TruncatedGlobalFilter_ScreenReader_Label"),this.get_AppliedFiltersCount())},$208:function(n,t,i,r){var u=new Array(2),f,e;switch(t){case 20:case 11:case 0:case 12:case 13:u[0]=String.format("{0} {1}/{2}",r,n.get_$1m().get_Count().toString(),this.$1l[i][2]);u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_OptionSet"),r,n.get_$1m().get_Count().toString(),this.$1l[i][2]);break;case 2:n.get_$1m().get_$R(0).get_$Hf()||n.get_$1m().get_$R(1).get_$Hf()?(f=new Date(Date.parse(n.get_$1m().get_$R(0).get_$29())),e=new Date(Date.parse(n.get_$1m().get_$R(1).get_$29())),u[0]=String.format("{0} {1}-{2}",r,f.format("d"),e.format("d")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_DateTimeRange"),r,f.format("d"),e.format("d"))):(u[0]=String.format("{0} {1}",r,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ChartAttributeValueMissing")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_DateTimeRange_NoneSelected"),r));break;case 5:case 4:case 3:n.get_$1m().get_$R(0).get_$Hf()&&n.get_$1m().get_$R(0).get_$Hf()!=="null"?n.get_$1m().get_$R(0)&&!n.get_$1m().get_$R(1)?(u[0]=String.format("{0} {1}",r,n.get_$1m().get_$R(0).get_$29()),u[1]=String.format("{0} {1}",r,n.get_$1m().get_$R(0).get_$29())):(u[0]=String.format("{0} {1}-{2}",r,n.get_$1m().get_$R(0).get_$29(),n.get_$1m().get_$R(1).get_$29()),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_Range"),r,n.get_$1m().get_$R(0).get_$29(),n.get_$1m().get_$R(1).get_$29())):(u[0]=String.format("{0} {1}",r,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ChartAttributeValueMissing")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_Range_NoneSelected"),r));break;case 1:case 6:case 10:case 9:case 14:case 15:u[0]=String.format("{0} {1}",r,n.get_$1m().get_Count());u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_LookUp"),r,n.get_$1m().get_Count())}return u},GenerateAppliedFilters:function(){var e=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_GeneratingAppliedFilters"),n,r,i,v,s,h,c,u,o,f,t,y,l,a;if(e.start(),n={},this.$6Z().get_IsMultipleEntityGraphSupported()){if(!$0.$0(this.$NJ)){h=this.$NJ;for(c in h)if(u={key:c,value:h[c]},!$0.$0(u.value))for(o=u.value,f=0;f<o.get_$5N().get_Count();f++)if(o.get_$5N().get_$R(f).get_$1m().get_Count()>0){if(t=o.get_$5N().get_$R(f).get_$1m().get_$R(0).get_$Nm(),!this.$1l[t])continue;y=this.$1l[t][1];n[t]={};l=this.$1l[t][0];u.key!==this.$6Z().$6q&&(l+=" ("+u.key+")");a=this.$208(o.get_$5N().get_$R(f),y,t,l);n[t].displaytext=a[0];n[t].screenreadabletext=a[1];n[t].entityname=u.key}return e.stop(),e.addParameter(this.get_ViewModelId()),n}return null}if(!$0.$0(this.$I1)){for(r=0;r<this.$I1.get_$5N().get_Count();r++)if(this.$I1.get_$5N().get_$R(r).get_$1m().get_Count()>0){if(i=this.$I1.get_$5N().get_$R(r).get_$1m().get_$R(0).get_$Nm(),!this.$1l[i])continue;v=this.$1l[i][1];n[i]={};s=this.$208(this.$I1.get_$5N().get_$R(r),v,i,this.$1l[i][0]);n[i].displaytext=s[0];n[i].screenreadabletext=s[1]}return e.stop(),e.addParameter(this.get_ViewModelId()),n}return null},$Kl:function(n,t){var i,r;this.set_IsLoading(!0);i={};i.EntityType=t;i.Attributes=n;i.OnSuccess=this.$$d_$3d;r=this.$Kz.$B1(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(r);this.$157.start()},$3d:function(n){var i,t;this.$157.stop();this.$157.addParameter(this.get_ViewModelId());i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_AttributeMetadataCaching");i.start();this.$1k=!1;for(var u=n,f=u.length,r=0;r<f;++r){t=u[r];switch(t.get_$4M()){case 20:case 11:case 0:case 13:case 12:this.$1l[t.get_$2I()]=[t.get_$8z(),t.get_$4M(),Microsoft.Crm.Client.Core.Framework.$1B.$s(t.get_$9r().$21).toString()];break;default:this.$1l[t.get_$2I()]=[t.get_$8z(),t.get_$4M()]}}i.stop();i.addParameter(this.get_ViewModelId());this.$7("CurrentAppliedFilters");this.$FH("AppliedFilters_LoadedFilters")},$6Z:function(){return this.$2},get_TabSpaceReserved:function(){return 50},AppliedFilterScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_Label"),n)}};Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel=function(){this.$$d_$2LU=Function.createDelegate(this,this.$2LU);this.$$d_$1MC=Function.createDelegate(this,this.$1MC);this.$$d_$1I9=Function.createDelegate(this,this.$1I9);this.$$d_DefinitionUpdated=Function.createDelegate(this,this.DefinitionUpdated);Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.prototype={$10d:null,$WY:null,$19O:null,$1JV:!1,get_$qQ:function(){return this.$NW?"SubGridAssociated:"+this.$D:Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.get_$qQ.call(this)},get_ColumnsForGrid:function(){var n;if(this.$10d=Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.get_ColumnsForGrid.call(this),!$0.$0(this.$10d))for(var i=this.$10d,r=i.length,t=0;t<r;++t)n=i[t],"name"in n&&"hidden"in n&&Array.contains(this.$2f2(),n.name.toString().toLowerCase())&&(n.hidden=!0);return this.$10d},$2f2:function(){switch(this.$D.toLowerCase()){case"activitypointer":return["scheduledstart","community","instancetypecode"];case"incident":return["prioritycode","caseorigincode","customerid"];case"contact":return["parentcustomerid","emailaddress1"];case"socialprofile":return[];default:return[]}},get_AssociatedGridFlyoutViewModel:function(){if(!$0.$0(this.$19O)){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",this.$19O),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",$0.$0(this.$Dw)?this.get_DefinitionId():this.$D)],null,null);this.$WY=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2);this.$WY.add_$15d(this.$$d_DefinitionUpdated)}return this.$WY},DefinitionUpdated:function(n){var t=n,i=t.$7q[t.$Fb];this.OnDefinitionUpdated(i)},$dV:null,get_SystemViewData:function(){return this.$dV},set_SystemViewData:function(n){return this.$dV=n,n},$Vj:null,$Vs:!1,get_IsAssociatedGridActive:function(){return this.$Vs},set_IsAssociatedGridActive:function(n){return this.$Vs=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$2Z.call(this),this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC),this.$Vs=!1,this.$Vj=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,this.add_$2LT(this.$$d_$2LU))},$2LU:function(){this.SetCommandBarContext()},$1Rg:function(n){return n.val=this.$D,!0},$3AJ:function(){return!1},$3AL:function(){return!1},$3AK:function(){return!1},get_$2o5:function(){return!1},get_$2ni:function(){return!1},$3d:function(n){this.$Vs&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$3d.call(this,n)},$4L:function(n){this.$Vs&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$4L.call(this,n)},$2Ci:function(n){var t,r,u,i;return this.$Cn?(t=n.$5M.get_$R("fetchXml").Data,t=Microsoft.Crm.Client.Core.ViewModels.$1e.$1aW(t,this.$Fa),r=Microsoft.Crm.Client.Core.ViewModels.$1e.$136(t),$0.$0(r)&&!Microsoft.Crm.Client.Core.ViewModels.$1e.$14R(this.$Fa))?(this.$ym=!0,n):(u=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(t),i=Microsoft.Crm.Client.Core.ViewModels.$1e.$1Hi(t),$0.$0(i)||(this.$vY=i.toString()),this.$2DJ(),u):n},$1rB:function(n){this.$WY.ItemSelected(n)},$1MC:function(n){var i,u,f;if(!n.get_$HY()&&this.$Vs){if(!$0.$0(this.$2.$H)&&"InteractionCentricFormBody"in this.$2.$H){var t=null,e=this.$2.$H.InteractionCentricFormBody,r=e.$H;for(i in r){u={key:i,value:r[i]};t=u.value;break}!$0.$0(t)&&"HeaderGroup"in this.$2.$H&&"InteractionCentricFormTabNavigator"in this.$2.$H.HeaderGroup.$H&&(f=this.$2.$H.HeaderGroup.$H.InteractionCentricFormTabNavigator,f.set_CurrentSelectedValue(t.get_Name()))}this.$Vj.$qH();this.$Vj.forceRuleEvaluation()}},$3Bk:function(){if(!$0.$0(this.$2.$H)&&"HeaderGroup"in this.$2.$H&&"InteractionCentricFormTabNavigator"in this.$2.$H.HeaderGroup.$H){var n=this.$2.$H.HeaderGroup.$H.InteractionCentricFormTabNavigator;n.$O5!=="AssociatedGrid0"&&n.set_CurrentSelectedValue("AssociatedGrid0")}},$1I9:function(n){n.$Si==="AssociatedGrid0"?(this.$3Bk(),this.$Vs=!0,this.SetCommandBarContext(),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$1a7(this.$2)):(this.$Vs=!1,this.$Vj.$qH(),this.$Vj.forceRuleEvaluation())},$2yq:function(){if(!$0.$0(this.$dV)&&!$0.$0(this.$dV.$H)){var n={},t=this.$dV.$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")].$H;n[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")]=t;this.$19O=n;this.$7("AssociatedGridSelectViewDataReceived")}},SetCommandBarContext:function(){if(!this.$1JV){this.$1JV=!0;this.$Vj.$qH();var n=this,t=this;this.$Vj.$vj(this.get_$qQ(),this).then(function(t){var f,o,e,r,u,i,s;if(t)for(f=!1,o=n.$Vj.$Lj,e=0;e<o.get_Count()&&!f;++e)if(r=o.getItem(e),n.$2Lz(r),!$0.$0(r)&&"ChangeListViewButton"in r.$H){for(u=r.findActiveChildViewModels(),i=0;i<u.length&&!f;i++)u[i].$1P==="ChangeListViewButton"&&(n.$dV=u[i],Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&(s=u[i].$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")],n.$1Mx(s.$H,!1)),f=!0);n.$2yq()}n.$1JV=!1},function(){})}},$2Lz:function(n){var t=n.$1a1([".AddExistingStandard"]),i;t&&t.length>0&&(i=t[0],i.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenAssociateForm"))))},$Oh:function(){this.$dV=null;$0.$0(this.$WY)||(this.$WY.remove_$15d(this.$$d_DefinitionUpdated),this.$WY.dispose(),this.$WY=null);this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.prototype={$SN:null,get_CardFormAttributes:function(){return this.$SN},set_CardFormAttributes:function(n){return this.$SN=n,n},$cq:null,get_CardDetails:function(){return this.$cq},set_CardDetails:function(n){return this.$cq=n,n},$cs:null,get_CardHeader:function(){return this.$cs},set_CardHeader:function(n){return this.$cs=n,n},$cr:null,get_CardFooter:function(){return this.$cr},set_CardFooter:function(n){return this.$cr=n,n},$NN:null,get_ColorStrip:function(){return this.$NN},set_ColorStrip:function(n){return this.$NN=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this),this.$cq=this.$SN.CardDetails,this.$cs=this.$SN.CardHeader,this.$cr=this.$SN.CardFooter,this.$NN=this.$SN.ColorStrip[0])},$Oh:function(){this.$SN=null;this.$cq=null;this.$cs=null;this.$cr=null;this.$NN=null;Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Bk=function(){Microsoft.Crm.Client.Core.ViewModels.$Bk.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bk.prototype={handleCollapsibleToggleButtonClick:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("VisualFilterCollapseButtonClicked",0,this.get_ViewModelId());var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q(this.$L);this.$6Z().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q,n)},$6Z:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.$S3=function(){Microsoft.Crm.Client.Core.ViewModels.$S3.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$S3.prototype={$5l:null,$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.getData())},get_ComboBoxViewModel:function(){return $0.$0(this.$5l)&&(this.$5l=new Microsoft.Crm.Client.Core.ViewModels.$Bn),this.$5l},getData:function(){},$1Si:null,get_ComboBoxClass:function(){return this.$1Si},set_ComboBoxClass:function(n){return this.$1Si=n,n},$1UM:null,get_SelectElementDataId:function(){return this.$1UM},set_SelectElementDataId:function(n){return this.$1UM=n,n},$1Um:null,get_WrapperClass:function(){return this.$1Um},set_WrapperClass:function(n){return this.$1Um=n,n}};Microsoft.Crm.Client.Core.ViewModels.$By=function(){this.$$d_$2Tb=Function.createDelegate(this,this.$2Tb);Microsoft.Crm.Client.Core.ViewModels.$By.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$By.prototype={$20t:function(n){return n.$FX},$2gv:function(n){return n.$2p},SelectedItemName:function(){if(!this.$7q)return"";var n=this.$7q[this.$2.$q];return n?n.$FX:""},get_SelectedItemID:function(){if(!this.$7q)return"";var n=this.$7q[this.$2.$q];return n?n.$2p:""},getData:function(){this.$1Pt();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$202(this,this.$$d_$2Tb)},ItemSelected:function(n){var i,t;if(!IsNull(this.$7q)){if(this.get_SelectedItemID()===n)return;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("DashboardPickerDashboardChanged",0,this.get_ViewModelId());i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();i.$SO=this.$7q[n];t=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(this.$2);t.$1W=i.$SO.$2p;t.$J1=37;t.execute();t.dispose()}},$2Tb:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),r=this.$2.$q,e,t,u,i,f;if(n.$SO&&(r=n.$SO.$2p),e=Microsoft.Crm.Client.Core.ViewModels.$65.$1wB(n.$pC,r),e?t=n.$pC:(n.$SO||(n.$SO=Microsoft.Crm.Client.Core.ViewModels.$65.$2Ww(n.$NR,r)),t=n.$NR[n.$SO.$6J]),!IsNull(t)&&t.get_Count()>0){for(this.$Dx={},u={},i=0;i<t.get_Count();i++)f=t.get_$R(i),u[f.$2p]=f;this.$Dx[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")]=u;this.$1Pt();n.$SO=null;this.$7("dataRecieved")}},$Oh:function(){this.$Dx=null;Microsoft.Crm.Client.Core.ViewModels.$SS.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$C0=function(){Microsoft.Crm.Client.Core.ViewModels.$C0.initializeBase(this);this.$oQ="dateRangeFilterOpen"};Microsoft.Crm.Client.Core.ViewModels.$C0.prototype={SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$C2.prototype.SetDates.call(this,n,t);this.$2zF()},$2zF:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$Cs),t;n.$Bl(this.$Cs,"on-or-after",this.$bs.format("s")).$Bl(this.$Cs,"on-or-before",this.$YC.format("s"));t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$Cs,2,0,n,!0);this.$2.$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,t)}};Microsoft.Crm.Client.Core.ViewModels.$C2=function(){var t;this.$$d_$tc=Function.createDelegate(this,this.$tc);this.$1uE=new Microsoft.Crm.Client.Core.ViewModels.Converters.$Ii;Microsoft.Crm.Client.Core.ViewModels.$C2.initializeBase(this);var n=(new Date).getFullYear(),i=n-100,r=n+100;this.$Ir=new Date("01/01/"+i);this.$151=new Date("12/31/"+r);this.$1BG=!1;t=Sys.CultureInfo.CurrentCulture.dateTimeFormat;this.$Sj=t.ShortestDayNames;this.$1BK=!1;this.$oQ=""};Microsoft.Crm.Client.Core.ViewModels.$C2.prototype={$1CJ:"",$Cs:"createdon",$26O:null,$269:null,$1Qh:null,$1F6:null,$Ir:null,$151:null,$bs:null,$YC:null,$Sj:null,get_ShortestDayNames:function(){return this.$Sj},set_ShortestDayNames:function(n){return this.$Sj=n,n},DayName:function(n){return this.$Sj[n]},SetAttributeDisplayName:function(){var n,t;if(this.$1CJ===""){if(n=[],n[0]=this.$Cs,t=this.$2.$6q,!t)throw Error.create(String.format("SetAttributeDisplayName() has failed in DateRangeViewModel, entityName is null."));this.$Kl(t,n)}},$Kl:function(n,t){var i={},r,u;i.EntityType=n;i.Attributes=t;i.OnSuccess=this.$$d_$tc;r=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));u=r.$B1(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u)},$tc:function(n){if(!$0.$0(n)&&n.length){var t=n[0];this.set_AttributeDisplayName(t.$1q)}},DateConverter:function(n){return this.$1uE.$Em(n,0)},GetLabel:function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n)},$pW:null,get_TimeFrame:function(){return this.$pW},set_TimeFrame:function(n){return this.$pW=n,n},$1BK:!1,get_TimeFrameInitialized:function(){return this.$1BK},set_TimeFrameInitialized:function(n){return this.$1BK=n,n},get_AttributeLogicalName:function(){return this.$Cs},set_AttributeLogicalName:function(n){return this.$Cs=n,n},get_AttributeDisplayName:function(){return this.$1CJ},set_AttributeDisplayName:function(n){return this.$1CJ=n,this.$7("FilterBy"),n},get_DateTextForMinDate:function(){return this.DateConverter(this.$Ir)},set_DateTextForMinDate:function(n){return this.$26O=n,n},get_MinDate:function(){return this.$Ir},set_MinDate:function(n){return this.$Ir=n,n},get_DateTextForMaxDate:function(){return this.DateConverter(this.$151)},set_DateTextForMaxDate:function(n){return this.$269=n,n},get_MaxDate:function(){return this.$151},set_MaxDate:function(n){return this.$151=n,n},get_StartDateText:function(){return this.$Vw?"":this.DateConverter(this.$bs)},set_StartDateText:function(n){return this.$1Qh=n,Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$Vw=!0:(this.$Vw=!1,this.$bs=new Date(n)),this.$7("StartDate"),n},get_StartDate:function(){return this.$bs},set_StartDate:function(n){return this.$bs=n,n},get_EndDateText:function(){return this.$Vu?"":this.DateConverter(this.$YC)},set_EndDateText:function(n){return this.$1F6=n,Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$Vu=!0:(this.$Vu=!1,this.$YC=new Date(n)),this.$7("EndDate"),n},get_DateRangeText:function(){return this.get_StartDateText()||this.get_EndDateText()?this.get_StartDateText()+"-"+this.get_EndDateText():Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ChartAttributeValueMissing")},get_EndDate:function(){return this.$YC},set_EndDate:function(n){return this.$YC=n,n},$oQ:null,get_DataId:function(){return this.$oQ},set_DataId:function(n){return this.$oQ=n,n},$1BG:!1,get_ShowNoRange:function(){return this.$1BG},set_ShowNoRange:function(n){return this.$1BG=n,n},$Vw:!1,get_IsStartDateNull:function(){return this.$Vw},set_IsStartDateNull:function(n){return this.$Vw=n,n},$Vu:!1,get_IsEndDateNull:function(){return this.$Vu},set_IsEndDateNull:function(n){return this.$Vu=n,n},SetDates:function(n,t){Microsoft.Crm.Client.Core.Framework.$3.$9(n)||Microsoft.Crm.Client.Core.Framework.$3.$9(t)?(this.$1Qh=null,this.$1F6=null,this.$Vw=!0,this.$Vu=!0):(this.$1Qh=n,this.$bs=new Date(n),this.$1F6=t,this.$YC=new Date(t))}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("EmailAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel)};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2Nk=function(n){switch(n){case 1:case 8:case 5:return!0;case 2:case 3:case 4:case 6:case 7:return!1;default:return!1}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2Nj=function(n){switch(n){case 0:case 3:return!0;case 1:case 2:return!1;default:return!1}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$1vF=function(n,t){return t==="4201"?Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2Nj(n):t==="4202"?Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2Nk(n):!1};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.prototype={$d2:null,get_FileName:function(){return this.$d2},set_FileName:function(n){return this.$d2=n,n},$Pn:null,get_FileSize:function(){return this.$Pn},set_FileSize:function(n){return this.$Pn=n,n},$pE:null,get_ObjectId:function(){return this.$pE},set_ObjectId:function(n){return this.$pE=n,n},$ij:null,$oA:null,get_AttachmentId:function(){return this.$oA},set_AttachmentId:function(n){return this.$oA=n,n},get_PopupWindowTimeout:function(){return 100},$os:!1,$2Z:function(){this.$1a||(this.$2.$D==="appointment"?(this.$ij="4201",this.$os=!1):this.$2.$D==="email"?(this.$ij="4202",this.$os=!0):(this.$ij="",this.$os=!0),$0.$0(this.$2)||$0.$0(this.$2.get_$1B())||(this.$pE=this.$2.get_$1B().get_Id()),Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this))},GetAttachmentItemUri:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();return String.format("{0}/activities/attachment/edit.aspx?_CreateFromId=%7b{1}%7d&_CreateFromType={2}&id={3}&ish=true",n.context.getClientUrl(),this.$pE,this.$ij,this.ToStringAttachmentId())},ToStringAttachmentId:function(){return $0.$0(this.$oA)?"":this.$oA.toString()},Refresh:function(){var n=this.$2.$67("EmailAttachmentsSubGrid");Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(n)&&!$0.$0(n.refreshCommand)&&n.refreshCommand.get_CanExecute()&&n.refreshCommand.execute()},GetWindowOptions:function(n,t,i,r){return String.format("width={0}, height={1}, top={2}, left={3}, menubar=no, toolbar=no",n,t,i,r)},GetPopupWidth:function(){return 584},GetPopupHeight:function(){return 213},$2jM:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),t=-1;return $0.$0(n)||(this.$os&&!$0.$0(n.getAttribute("statuscode"))?t=n.getAttribute("statuscode").getValue():this.$os||$0.$0(n.getAttribute("statecode"))||(t=n.getAttribute("statecode").getValue())),t},EnableAttachmentHandling:function(){var n=this.$2jM();return Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$1vF(n,this.$ij)},$Oh:function(){this.$d2=null;this.$Pn=null;this.$pE=null;this.$ij=null;this.$oA=null;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$HM=function(n,t,i,r,u,f,e,o,s){this.$iD=n;this.$1U4=t;this.$1UI=i;this.$19l=r;this.$1Au=u;this.$1B8=f;this.$1Av=e;this.$1BA=o;this.$iC=s};Microsoft.Crm.Client.Core.ViewModels.$HM.prototype={$iD:null,$1U4:null,$1UI:null,$1Au:null,$1B8:null,$19l:null,$1Av:null,$1BA:null,$iC:null};Microsoft.Crm.Client.Core.ViewModels.$9M=function(){this.$$d_$2qd=Function.createDelegate(this,this.$2qd);this.$$d_$2qj=Function.createDelegate(this,this.$2qj);this.$$d_$2qb=Function.createDelegate(this,this.$2qb);this.$$d_$tc=Function.createDelegate(this,this.$tc);this.$$d_processQueueItemViewFetchXml=Function.createDelegate(this,this.processQueueItemViewFetchXml);this.$$d_$2qc=Function.createDelegate(this,this.$2qc);this.$$d_processQueueSavedQueryFetchXml=Function.createDelegate(this,this.processQueueSavedQueryFetchXml);this.$$d_$2zg=Function.createDelegate(this,this.$2zg);this.$$d_OnFilterChangeCompletedEvent=Function.createDelegate(this,this.OnFilterChangeCompletedEvent);this.$lI={};this.$1CL=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.$9M.initializeBase(this);this.$NG="savedquery";this.$ce="savedqueryvisualization"};Microsoft.Crm.Client.Core.ViewModels.$9M.prototype={$1RS:null,$1np:"",$ZO:!1,$sq:"",$GX:null,$zt:!1,$1Lq:0,$Nt:null,$SR:!1,get_ViewNameText:function(){return this.$1np},set_ViewNameText:function(n){this.$1np=n;var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l(this.$L,n);return this.$4l().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l,t),n},get_ChartConfigObject:function(){return this.$L5_7&&(this.$L5_7=!1,this.set_IsLoading(!0),this.$H4()),this.$QF},get_$f:function(){return!0},get_IsFilterApplied:function(){return this.$ZO},set_IsFilterApplied:function(n){return this.$ZO=n,n},$zK:null,get_Streams:function(){return this.$zK},set_Streams:function(n){return this.$zK=n,n},$Vn:null,$1U8:null,$I8:null,get_QueueItemViewId:function(){return this.$I8},set_QueueItemViewId:function(n){return this.$I8=n,n},$Se:null,get_QueueId:function(){return this.$Se},set_QueueId:function(n){return this.$Se=n,n},$oz:null,get_IsSavedQueryOnQueues:function(){return this.$oz},set_IsSavedQueryOnQueues:function(n){return this.$oz=n,n},$yy:null,$og:null,$L5_7:!1,$1TP:!1,$iV:null,$Vp:null,$19R:null,get_$mi:function(){return this.$4l()?this.$4l().$6q:""},get_AreZeroValueBaseSetAttributeFieldsSet:function(){return this.$L5_7?!0:this.$zt},set_AreZeroValueBaseSetAttributeFieldsSet:function(n){return this.$zt=n,n},$2Z:function(){if(!this.$1a){var n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("VisualFilters_Initialize",0,this.get_ViewModelId());$0.$0(n)||n.addParameter(this.$L);this.$Nt=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilters_ChartDataRetrieve");this.set_ChartSeriesClickCommand(null);this.set_AllowPointSelect(!1);this.set_IsFirstChart(!1);this.set_EnableDrilldown(!1);this.$og=null;this.$37X();Microsoft.Crm.Client.Core.ViewModels.$Bh.prototype.$2Z.call(this);this.$4l().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_OnFilterChangeCompletedEvent);this.$SR=!1;this.$L5_7=!1;this.$4l().$82.$8S(Function,this.$$d_$2zg)}},$2zg:function(){this.$H4();this.$Nt.start()},$37X:function(){var n;if($0.$0(this.$zK)||this.$4l().$Xf!=="2"){this.$1Eq();return}if(n=this.$zK.split("|"),n.length<4){this.$1Eq();return}var r=n[0],t=n[1],u=n[2],i=n[3];switch(r){case"0":this.$Se=t;this.$oz="false";this.$I8=i;break;case"2":this.$Se=t;this.$oz="true";this.$I8=i;break;case"1":this.$1Eq();break;default:this.$1Eq()}},$1Eq:function(){this.$I8=null;this.$Se=null},$1ee:function(){return!$0.$0(this.$I8)&&!$0.$0(this.$Se)?!0:!1},$H4:function(){if(!$0.$0(this.$8l)){var n=this;this.$25f().done(function(){n.$1ee()?n.$21b():Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.prototype.$H4.call(n)})}},$25f:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("FilterGraphVM.GetDependencies"),i;return t.start(),Microsoft.Crm.Client.Core.Framework.$1L.$1c0("resources/styles/ishCssDependenciesPostLoad.css",null),i=this,Microsoft.Crm.Client.Core.Framework.$1L.$13A(["scripts/Microsoft.Crm.Client.Core.Messages.js","scripts/ishOssDependenciesPostLoad.js"],0,null).always(function(){n.resolve();t.stop()}),n.promise()},$21b:function(){var n,t;this.$oz==="true"?(this.$iV={},this.$iV.savedqueryid=this.$Se,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null),n.OnSuccess=this.$$d_processQueueSavedQueryFetchXml,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)):(t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"QueueFilterExpression"),t.$Bl("queueid","eq",this.$Se),this.$yy=t,this.$1wx())},processQueueSavedQueryFetchXml:function(n){var i=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n.toString()),r=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(i).$N("fetch").get_$6m().toString(),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FilterGraphFetchXmlWithCallback",null);t.OnFailure=this.$$d_$2qc;t.QueryValue=r;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)},$2qd:function(n){for(var u,i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"QueueFilterExpression"),r=n.get_entities(),f=r.length,t=0;t<f;++t)u=r[t],i.$Bl("queueid","eq",u.$a.Id.toString());this.$yy=i;this.$1wx()},$2qc:function(){throw Error.create("FilterGraphViewModel: Queue FetchXml execution failed.");},$1wx:function(){this.$1U8=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i("queueitem").$4Y;this.$iV={};this.$iV.savedqueryid=this.$I8;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null);n.OnSuccess=this.$$d_processQueueItemViewFetchXml;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},processQueueItemViewFetchXml:function(n){var r=this.$2Yo(),u=Microsoft.Crm.Client.Core.Storage.Common.$2W.$26C(n,r),t,i;this.$Vn=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(u);t=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForFilterGraph",null));i=t.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i)},$2qb:function(n){var e,o;if(!n.get_entities().length){this.$og=this.$2Ys();Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.prototype.$H4.call(this);return}for(var r="",u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.get_$mi()).$4Y,t="<fetch version='1.0' output-format='xml-platform' mapping='logical'>\r\n\t\t\t\t\t\t\t\t<entity name='"+this.get_$mi()+"'>\r\n\t\t\t\t\t\t\t\t<attribute name='"+u+"' />\r\n\t\t\t\t\t\t\t\t<filter type = 'or'>",f=n.get_entities(),s=f.length,i=0;i<s;++i)e=f[i],o=e.getValue("objectid"),r+="<condition attribute='"+u+"' operator='eq' value='"+o.Id.toString()+"' />";t+=r;t+="<\/filter><\/entity><\/fetch>";this.$og=t;Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.prototype.$H4.call(this)},$2qj:function(){throw Error.create("FilterGraphViewModel: QueueItem FetchXml execution failed.");},$2Yo:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"EntityTypeQueueFilterExpression"),t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"EntityTypeFilterExpression");return t.$Bl("objecttypecode","eq",Xrm.Internal.getEntityCode(this.get_$mi()).toString()),n.$9Z(t),n.$9Z(this.$yy),n.$9V()},$2Ys:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.get_$mi()).$4Y;return"<fetch version='1.0' output-format='xml-platform' mapping='logical'>\r\n\t\t\t\t\t\t\t\t<entity name='"+this.get_$mi()+"'>\r\n\t\t\t\t\t\t\t\t<attribute name='"+n+"' />\r\n\t\t\t\t\t\t\t\t<filter type = 'or'>\r\n\t\t\t\t\t\t\t\t<condition attribute='"+n+"' operator='eq' value='"+Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()+"' />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t<\/fetch>"},$379:function(n){var t,i,u,r,f;if(this.$GX)if(t=this.$GX.$iC,this.$ZO){for(i=0;i<t.get_Count();i++)if(u=n.$HG(t.get_$R(i)),!$0.$0(u))return;this.$ZO=!1;this.$7("IsFilterApplied")}else for(r=0;r<t.get_Count();r++)f=n.$HG(t.get_$R(r)),$0.$0(f)||this.$7("IsFilterApplied")},$37A:function(n){var t,i,e,u,o,r,s,f,h;if(this.$GX)if(t=this.$GX.$iC,this.$ZO){if(!$0.$0(n))for(i=0;i<t.get_Count();i++)if(e=this.$1HQ(t.get_$R(i)),u=n[e],!$0.$0(u)&&(o=u.$HG(t.get_$R(i)),!$0.$0(o)))return;this.$ZO=!1;this.$7("IsFilterApplied")}else if(!$0.$0(n))for(r=0;r<t.get_Count();r++)s=this.$1HQ(t.get_$R(r)),f=n[s],$0.$0(f)||(h=f.$HG(t.get_$R(r)),$0.$0(h)||this.$7("IsFilterApplied"))},FilterGraphRenderCompleted:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82("FilterGraph");this.$4l().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82,n)},OnFilterChangeCompletedEvent:function(n){var t,i,r;if(this.$1Lq++,this.$1TP=n.$Pg.$1Jd,this.$4l().get_IsMultipleEntityGraphSupported()){this.$lI={};t=n.$JO;for(i in t)r={key:i,value:t[i]},this.$lI[r.key]=n.$JO[r.key].$9V();this.$37A(this.$4l().$CG)}else this.$sq=n.$Dy.$9V(),this.$379(this.$4l().$I7);if(!this.$SR){this.$L5_7=!0;return}this.$1Lq>=5&&this.$1AE?this.$2nK():(this.$H4(),this.$Nt.start())},$2nK:function(){this.$1AE=!1;this.$1Lq=0;this.set_$1oA(null)},$1n8:function(){$0.$0(this.$Cy)||(this.$Nt.stop(),this.$Nt.addParameter(this.get_ViewModelId()),this.$Nt.addParameter(this.$L),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(this.$SR?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId()),this.$SR||(this.$FH("RenderedInitialData"),this.$SR=!0),Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.prototype.$1n8.call(this),this.$1RS=this.$5i.Text,this.$5i.Text="",this.$1aQ(),this.$2IF(),this.$7("ChartConfigObject"))},$2IF:function(){for(var l,r,u,a,n,f,e,t,o,y,h={},c=this.$GX.$iD.get_entities(),p=c.length,i=0;i<p;++i){l=c[i];r=l.fields;for(u in r)a={key:u,value:r[u]},this.$2W8(a.value,h)}n=null;f=h;for(e in f)if(t={key:e,value:f[e]},o=t.value.toArray(),this.$Kl(t.key,o),!n)for(var v=o,w=v.length,s=0;s<w;++s)if(y=v[s],y===this.$GX.$iC.get_$R(0)){n=t.key;break}this.$4l().get_IsMultipleEntityGraphSupported()||this.$Kl(n?n:this.$4l().$6q,this.$GX.$iC.toArray())},$2W8:function(n,t){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5j.isInstanceOfType(n)){var r=n,u=r.$Cs,i=r.$P;i in t||(t[i]=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)));t[i].add(u);this.$4l().get_IsMultipleEntityGraphSupported()||(this.$Vp||(this.$Vp={}),this.$Vp[u]=i)}},$Kl:function(n,t){var i={},r,u;i.EntityType=n;i.Attributes=t;i.OnSuccess=this.$$d_$tc;r=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));u=r.$B1(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u)},$tc:function(n){var i;if(this.$Cy.$H0!==1)for(var r=n,u=r.length,t=0;t<u;++t)if(i=r[t],i.get_$gF()&&!Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.$q9(i.get_$2m())){this.$13J(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_NoReadPrivilege"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_NoPermission_Message"));break}},$13J:function(n,t){var i=new Microsoft.Crm.Client.Core.Models.Chart.$Kv;i.$5i=new Microsoft.Crm.Client.Core.Models.$JJ;i.$VJ="";i.$H0=1;i.$Bs=new Microsoft.Crm.Client.Core.Framework.$L4;i.$Bs.$YM=n;i.$Bs.$YK=t;this.set_$qd(i);this.$7("ChartConfigObject")},get_TitleText:function(){return this.$1k?"":this.$1RS},set_TitleText:function(n){return this.$1RS=n,n},set_$1oA:function(n){return this.$GX=n,this.$H4(),this.$Nt.start(),n},$1AE:!1,get_GetNullPoint:function(){return null},$2nm:function(n){return Microsoft.Crm.Client.Core.Models.$6u.isInstanceOfType(n)||Microsoft.Crm.Client.Core.Models.$7v.isInstanceOfType(n)||Microsoft.Crm.Client.Core.Models.$7w.isInstanceOfType(n)?!0:!1},$1t2:function(n,t,i,r){this.$4l().get_IsMultipleEntityGraphSupported()&&i!==this.$4l().$6q?i+="__alias":i=null;Microsoft.Crm.Client.Core.Models.$7u.isInstanceOfType(t)&&this.$2R3(n,t,i,r);Microsoft.Crm.Client.Core.Models.$6u.isInstanceOfType(t)&&this.$2R0(n,t,i);Microsoft.Crm.Client.Core.Models.$7v.isInstanceOfType(t)&&this.$2R1(n,t,i);Microsoft.Crm.Client.Core.Models.$7w.isInstanceOfType(t)&&this.$2R2(n,t,i)},$2R3:function(n,t,i,r){t.Value?n.$Bl(t.FieldName,"eq",t.Value.toString(),i,r):n.$Bl(t.FieldName,"null",null,i)},$2R0:function(n,t,i){t.MinDate?n.$Bl(t.FieldName,"on-or-after",t.MinDate.toJSON().substring(0,10),i):n.$Bl(t.FieldName,"null",null,i);t.MaxDate?n.$Bl(t.FieldName,"on-or-before",t.MaxDate.toJSON().substring(0,10),i):n.$Bl(t.FieldName,"null",null,i)},$2R1:function(n,t,i){var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));r.add(t.Period.toString());r.add(t.Year.toString());n.$Bl(t.FieldName,t.FiscalType,r,i)},$2R2:function(n,t,i){n.$Bl(t.FieldName,t.FiscalType,t.Year.toString(),i)},$376:function(n){this.$GX=n},$1HQ:function(n){var h,i,r,u,f,e,o;if(!$0.$0(n)){if(!this.$Vp){this.$Vp={};for(var s=this.$GX.$iD.get_entities(),l=s.length,t=0;t<l;++t){h=s[t];i=h.fields;for(r in i)if(u={key:r,value:i[r]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5j.isInstanceOfType(u.value)){var c=u.value,a=c.$Cs,v=c.$P;this.$Vp[a]=v}}}if(n in this.$Vp)return this.$Vp[n];if(!$0.$0(this.$19R)){f=this.$19R;for(e in f)if(o={key:e,value:f[e]},n in o.value)return o.key}return this.$4l().$6q}return null},$2Mo:function(n,t){var s=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilters_BuilderFilterExpressionForSelectedPoint"),e,u,o,i,f,r;if(s.start(),!$0.$0(n)&&n.length>0){for(this.set_IsLoading(!0),this.$ZO=!0,e=null,u=null,this.$4l().get_IsMultipleEntityGraphSupported()?u={}:e=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"FilterGraph"),this.$1CL.clear(),i=0;i<n.length;i++)f=this.$2nm(n[i])?new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,n[i].FieldName):new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,n[i].FieldName),this.$1CL.add(n[i].FieldName),this.$4l().get_IsMultipleEntityGraphSupported()?(r=this.$1HQ(n[i].FieldName),$0.$0(r)&&(r=this.$4l().$6q),this.$1t2(f,n[i],r,t),r in u||(u[r]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"FilterGraph")),u[r].$9Z(f)):(this.$1t2(f,n[i],this.$4l().$6q,t),e.$9Z(f));this.$4l().get_IsMultipleEntityGraphSupported()?(o=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52("FilterGraph",0,0,null),o.$H8=u):o=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52("FilterGraph",0,0,e);this.$4l().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,o);this.$rd("IsFilterApplied","IsLoading")}s.stop();s.addParameter(this.get_ViewModelId())},HandleSeriesPointClick:function(n){this.$ZO||this.$2Mo(n.Aggregators)},$2yL:function(n){for(var u,t,h,i,e,o,l=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n),a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(l).$N("fetch/entity"),s=a.$62("link-entity"),r=0;r<s.get_$s();r++)if(u=s.get_$R(r),t=u.$10("name"),!Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&!(t in this.$4l().$dI)){h=Microsoft.Crm.Client.Core.Storage.Common.$2W.$1cG();i="";for(var c=h,v=c.length,f=0;f<v;++f)e=c[f],o=u.$10(e),$0.$0(o)||(i+=String.format(' {0}="{1}"',e,o));i+=' alias="'+t+'__alias" ';this.$4l().$dI[t]="<link-entity "+i+"/>"}},$Oh:function(){this.$4l().$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_OnFilterChangeCompletedEvent);this.$GX=null;this.$sq=null;this.$1CL=null;this.$Vn=null;this.$yy=null;this.$iV=null;this.$4l().$82.$8p(Function,this.$$d_$2zg);$0.$0(this.$Jg)||(this.$Jg.$5E(),this.set_CrmChartBuilder(null));this.set_PrimaryModelName(null);this.$Cy=null;this.$lI=null;Microsoft.Crm.Client.Core.ViewModels.$Bh.prototype.$Oh.call(this)},get_TabSpaceReserved:function(){return 100},$4l:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel=function(){this.$$d_$2ku=Function.createDelegate(this,this.$2ku);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.prototype={$bI:null,$hW:null,$2Z:function(){this.$1a||Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P,this.$$d_$2ku)},$2ku:function(n){this.$bI=n.$1UE;this.$bI&&this.$7("SaveButtonDataReceived")},$2f3:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$24;return t.set_Label(n.$1G),t.set_Parameters(n.$M),t.set_ImageName(n.$Z7),t.set_ImageType(n.$Z9),t.$Gi=n.$Gi,t.set_TargetViewModel(n.get_TargetViewModel()),t.$Cw=n.$Cw,t.set_Command(n.$6Y),t.set_Enabled(!0),t.set_Visible(!0),t.set_ActionCommandCanExecute(!0),t},$1uw:function(){if(!$0.$0(this.$hW)){for(var n=0;n<this.$hW.get_Count();++n)this.$hW.get_$R(n).dispose(),this.$hW.set_$R(n,null);this.$hW.clear();this.$hW=null}},getSaveButtonViewModel:function(){var i,n,u,f;if(this.$bI){i=this.$bI;n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$24));for(var r=i,e=r.length,t=0;t<e;++t)u=r[t],f=this.$2f3(u),n.add(f);return this.$1uw(),this.$hW=n,n.toArray()}return null},get_SaveButtonData:function(){return this.$bI},$Oh:function(){var i;if(this.$bI){for(var t=this.$bI,r=t.length,n=0;n<r;++n)i=t[n],i.dispose();this.$bI=null}this.$1uw();this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P,this.$$d_$2ku);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$C1=function(){this.get_AttributeDisplayName=this.get_$3Fv;this.set_AttributeDisplayName=this.set_$3Fv;this.get_SelectedFilterExpression=this.get_$3Fy;this.set_SelectedFilterExpression=this.set_$3Fy;this.get_SelectedFilterCount=this.get_$Ry;this.get_IsExpanded=this.get_$3G1;this.set_IsExpanded=this.set_$3G1;this.$2kR=this.handleExpandOrCollapseIconClick;this.get_Active=this.get_$db;this.set_Active=this.set_$db;Microsoft.Crm.Client.Core.ViewModels.$C1.initializeBase(this);this.$CF=!0};Microsoft.Crm.Client.Core.ViewModels.$C1.prototype={$DK:null,get_$3Fv:function(){return this.$DK},set_$3Fv:function(n){return this.$DK=n,n},$2k:null,get_$3Fy:function(){return this.$2k},set_$3Fy:function(n){return this.$2k=n,n},$DO:!1,get_$3G1:function(){return this.$DO},set_$3G1:function(n){return this.$DO=n,n},$CF:!1,get_$db:function(){return this.$CF},set_$db:function(n){return this.$CF=n,n},get_$Ry:function(){return $0.$0(this.$2k)?0:1},$2HP:function(n){if(this.$2k=n,$0.$0(this.$2k))this.set_StartDateText(null),this.set_EndDateText(null);else{var t=this.$2k.get_$1m();this.set_StartDateText(t.get_$R(0).get_$Hf()==="null"?null:t.get_$R(0).get_$29());this.set_EndDateText(t.get_$R(1).get_$Hf()==="null"?null:t.get_$R(1).get_$29())}},UpdateFilterExpression:function(n){$0.$0(n)||$0.$0(n.Start)||$0.$0(n.End)?this.$2k=null:(this.$2k=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$Cs),this.$2k.$Bl(this.$Cs,"on-or-after",n.Start),this.$2k.$Bl(this.$Cs,"on-or-before",n.End));this.$2.$5Q(this).$18v(this.$2k,this.$Cs)},handleExpandOrCollapseIconClick:function(n){this.$DO=n;this.$2.$5Q(this).$1Nu()},$3BA:function(){this.$DO=!!this.get_$Ry()},SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$C2.prototype.SetDates.call(this,n,t);var i={};i.Start=n;i.End=t;this.UpdateFilterExpression(i)},getScreenReadableText:function(){return this.get_$Ry()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_DateTimeRange"),this.$DK,this.get_StartDateText(),this.get_EndDateText()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_DateTimeRange_NoneSelected"),this.$DK)}};Microsoft.Crm.Client.Core.ViewModels.$CY=function(){this.get_AttributeLogicalName=this.get_$3Fs;this.set_AttributeLogicalName=this.set_$3Fs;this.get_AttributeDisplayName=this.get_$3Fv;this.set_AttributeDisplayName=this.set_$3Fv;this.get_SelectedFilterExpression=this.get_$3Fy;this.set_SelectedFilterExpression=this.set_$3Fy;this.get_SelectedFilterCount=this.get_$Ry;this.get_IsExpanded=this.get_$3G1;this.set_IsExpanded=this.set_$3G1;this.$2kR=this.handleExpandOrCollapseIconClick;Microsoft.Crm.Client.Core.ViewModels.$CY.initializeBase(this);this.$CF=!0};Microsoft.Crm.Client.Core.ViewModels.$CY.prototype={$9z:null,get_$3Fs:function(){return this.$9z},set_$3Fs:function(n){return this.$9z=n,n},$DK:null,get_$3Fv:function(){return this.$DK},set_$3Fv:function(n){return this.$DK=n,n},$2k:null,get_$3Fy:function(){return this.$2k},set_$3Fy:function(n){return this.$2k=n,n},$DO:!1,get_$3G1:function(){return this.$DO},set_$3G1:function(n){return this.$DO=n,n},$CF:!1,get_Active:function(){return this.$CF},set_Active:function(n){return this.$CF=n,n},$L2:null,get_EntityReferences:function(){return this.$L2},set_EntityReferences:function(n){return this.$L2=n,n},removeEntityReferenceForGuid:function(n){delete this.$L2[n];this.$2k.$vn(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T(this.$9z,"eq",n));this.$7("RemovedEntity");this.$2.$5Q(this).$18v(this.$2k,this.$9z)},getGuidAtIndex:function(n){return!$0.$0(this.$2k)&&!$0.$0(this.$2k.get_$1m().get_Items()[n].get_$29())?this.$2k.get_$1m().get_Items()[n].get_$29().toString():null},getSelectedFilterName:function(n){return $0.$0(this.$L2[n])?null:this.$L2[n].toString()},get_$Ry:function(){return $0.$0(this.$2k)?0:this.$2k.get_$1m().get_Count()},$2HP:function(n){this.updateEntityReferences(n);this.$2k=n;var i=this.$9z+"_edit",r=this.$H[i],t=r.$Dm;$0.$0(t)||t.$2HP(n)},updateEntityReferences:function(n){if($0.$0(this.$L2)&&(this.$L2={}),!$0.$0(n))for(var t=0;t<n.get_$1m().get_Count();t++)$0.$0(n.get_$1m().get_$R(t).get_$29())||(this.$L2[n.get_$1m().get_$R(t).get_$29().toString()]=n.get_$1m().get_$R(t).get_$1Xc())},updateFilterExpression:function(n){var t=n.add;t?($0.$0(this.$2k)&&(this.$2k=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,this.$9z),this.$L2={}),this.$2k.$Bl(this.$9z,"eq",n.guid.toString(),"",n.entityReference.toString()),this.$L2[n.guid.toString()]=n.entityReference.toString()):$0.$0(this.$2k)||(this.$2k.$vn(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T(this.$9z,"eq",n.guid.toString())),delete this.$L2[n.guid.toString()],this.$2k.get_$1m().get_Count()||(this.$2k=null,this.$L2=null));this.$2.$5Q(this).$18v(this.$2k,this.$9z)},handleExpandOrCollapseIconClick:function(n){var i,t;this.$DO=n;i=this.$9z+"_edit";this.$2.$5Q(this).$1Nu();t=this.$H[i];t.$1JW||(t.$1JW=!0,t.$2Z())},$3BA:function(){this.$DO=!!this.get_$Ry()},getScreenReadableText:function(){return this.get_$Ry()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_LookUp"),this.$DK,this.get_$Ry().toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_LookUp_NoneSelected"),this.$DK)}};Microsoft.Crm.Client.Core.ViewModels.$CZ=function(){Microsoft.Crm.Client.Core.ViewModels.$CZ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$CZ.prototype={$1JW:!1,$1L8:function(n){var i,t,r;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.prototype.$1L8.call(this,n);i=n;t={};t.guid=i.Id;t.add=!0;t.entityReference=i.Name;r=this.$2.$5Q(this).$2k;Microsoft.Crm.Client.Core.ViewModels.$6Y.$1e1(i.Id.toString(),r)||this.$2.$5Q(this).updateFilterExpression(t)},buildChildViewModelDescriptors:function(n){var t,i;this.$2Mt(n);t={};$0.$0(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i={input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0)],t)};this.$8c==="multi"&&(i.partyList=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("GlobalFilterPartyListViewModel","PartyList","partyList",this.$Fi,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("NavigationEnabled",this.$MT)],null,null),Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(this.$17y=!0,this.$17v=!1));this.$jD(i)},$2Z:function(){!this.$1a&&this.$1JW&&Microsoft.Crm.Client.Core.ViewModels.$D2.prototype.$2Z.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$6Y=function(){Microsoft.Crm.Client.Core.ViewModels.$6Y.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$6Y.$1e1=function(n,t){if(!$0.$0(t)&&!$0.$0(t.get_$1m()))for(var i=0;i<t.get_$1m().get_Count();i++)if(t.get_$1m().get_$R(i).get_$29()===n)return!0;return!1};Microsoft.Crm.Client.Core.ViewModels.$6Y.prototype={$1OB:function(n,t){var r,u,f,i;Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.prototype.$1OB.call(this,n,t);r=this.$Uc;u=r.$2.$5Q(r);$0.$0(u.$2k)||(f=n.$R8,i={},i.guid=f.get_identifier(),i.add=!1,i.entityReference=f.Name,u.updateFilterExpression(i))},$2HP:function(n){var r,t,i,u;if(!$0.$0(this.$6l))for(r=this.$6l.get_Count(),t=0;t<r;t++)i=this.$6l.get_$R(0),u=i.$R8,Microsoft.Crm.Client.Core.ViewModels.$6Y.$1e1(u.get_identifier(),n)||i.$eT.execute()},$2w7:function(){}};Microsoft.Crm.Client.Core.ViewModels.$Ca=function(){this.$$d_$tc=Function.createDelegate(this,this.$tc);this.$$d_$22Q=Function.createDelegate(this,this.$22Q);Microsoft.Crm.Client.Core.ViewModels.$Ca.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ca.prototype={$DS:null,get_SelectedFilter:function(){return this.$DS},set_SelectedFilter:function(n){return this.$DS=n,n},$FV:null,get_AppliedFilter:function(){return this.$FV},set_AppliedFilter:function(n){return this.$FV=n,n},$d6:!1,get_IsApplyButtonEnabled:function(){return this.$d6},set_IsApplyButtonEnabled:function(n){return this.$d6=n,n},get_SelectedFilterCount:function(){var t=0,i=this.$H,n,r;for(n in i)r={key:n,value:i[n]},t+=r.value.get_SelectedFilterCount();return t},get_IsClearButtonEnabled:function(){return $0.$0(this.$DS)||$0.$0(this.$DS.get_$5N())?!1:this.$DS.get_$5N().get_Count()?!0:!1},get_IsExpandAll:function(){var t=this.$H,n,i;for(n in t)if(i={key:n,value:t[n]},!i.value.get_IsExpanded())return!0;return!1},$Kz:null,get_AttributeMetadataActionProvider:function(){return this.$Kz},set_AttributeMetadataActionProvider:function(n){return this.$Kz=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("GlobalFilter_Initialize",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$3Ak(),this.$1Rm(),this.$4l().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_$22Q))},$Oh:function(){this.$DS=null;this.$FV=null;this.$4l().$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_$22Q);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$3Ak:function(){var t=new Array(0),i=this.$H,n,r;for(n in i)r={key:n,value:i[n]},t.push(r.value.get_AttributeLogicalName());this.$Kl(t,this.$4l().$6q)},$Kl:function(n,t){var i,r;n.length&&(i={},i.EntityType=t,i.Attributes=n,i.OnSuccess=this.$$d_$tc,r=this.$Kz.$B1(i),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(r))},$tc:function(n){for(var t,r=n,u=r.length,i=0;i<u;++i)t=r[i],t.get_$gF()&&!Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.$q9(t.get_$2m())&&this.$H[t.get_$8z()].set_Active(!1);this.$7("ChildProperties")},$22Q:function(n){var t,i;this.$4l().get_IsMultipleEntityGraphSupported()?(i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$JO)?"":n.$JO.toString(),n.$q),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i),this.$FV=$0.$0(this.$4l().$CG[this.$4l().$6q])?null:this.$4l().$CG[this.$4l().$6q].$87()):(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$Dy)?"":n.$Dy.$9V(),n.$q),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t),this.$FV=this.$4l().$I7.$87());this.$DS=$0.$0(this.$FV)?null:this.$FV.$87();this.$1Rm();this.$7("FilterExpression")},handleIsExpandAllButtonClick:function(){var r=this.get_IsExpandAll(),t=this.$H,n,i;for(n in t)i={key:n,value:t[n]},i.value.$2kR(r);this.$7("IsExpandAll")},handleCancelClick:function(){this.$DS=$0.$0(this.$FV)?null:this.$FV.$87();this.$1Rm();this.set_Visible(!0);this.$d6=!1},handleApplyClick:function(){var n,t;this.$d6&&(this.$FV=$0.$0(this.$DS)?null:this.$DS.$87(),this.set_Visible(!0),this.$d6=!1,this.$4l().get_IsMultipleEntityGraphSupported()?(t={},t[this.$4l().$6q]=this.$FV,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,null),n.$H8=t):n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,this.$FV),this.$4l().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,n))},handleClearClick:function(){this.get_IsClearButtonEnabled()&&(this.$DS=null,this.$1Rm(),this.$d6=!0)},$18v:function(n,t){$0.$0(this.$DS)&&(this.$DS=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,this.$4l().$6q));$0.$0(this.$DS.get_$5N())||$0.$0(this.$DS.$HG(t))||this.$DS.$Mq(t);this.$DS.$9Z(n);this.$d6=!0;this.$7("FilterExpression")},updateIsExpandedPropertyOfChildren:function(){var t=this.$H,n,i,r;for(n in t)i={key:n,value:t[n]},r=i.value,r.$3BA()},$1Nu:function(){this.$7("IsExpandAll")},$1Rm:function(){var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GlobalFilter_UpdateChildFilterViewModels"),t,i;n.start();t=this.$H;for(i in t){var u={key:i,value:t[i]},r=u.value,f=$0.$0(this.$DS)?null:this.$DS.$HG(r.get_AttributeLogicalName());r.$2HP(f)}this.$7("ChildProperties");this.$FH("GlobalFilter_ChildrenUpdateReflected");n.stop();n.addParameter(this.get_ViewModelId())},$4l:function(){return this.$2},get_TabSpaceReserved:function(){return 100},get_AppliedFilterCount:function(){return $0.$0(this.$FV)||$0.$0(this.$FV.get_$5N())?0:this.$FV.get_$5N().get_Count()},GlobalFilterScreenReaderText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GlobalFilter_ScreenReader_Label"),this.get_AppliedFilterCount())}};Microsoft.Crm.Client.Core.ViewModels.$Df=function(){Microsoft.Crm.Client.Core.ViewModels.$Df.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Df.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("OptionSetFilterItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$Df)};Microsoft.Crm.Client.Core.ViewModels.$Df.prototype={$yf:null,get_LogicalName:function(){return this.$yf},set_LogicalName:function(n){return this.$yf=n,n},$3y:null,get_DisplayName:function(){return this.$3y},set_DisplayName:function(n){return this.$3y=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Dg=function(){this.get_AttributeLogicalName=this.get_$3Fs;this.set_AttributeLogicalName=this.set_$3Fs;this.get_AttributeDisplayName=this.get_$3Fv;this.set_AttributeDisplayName=this.set_$3Fv;this.get_SelectedFilterExpression=this.get_$3Fy;this.set_SelectedFilterExpression=this.set_$3Fy;this.get_SelectedFilterCount=this.get_$Ry;this.get_IsExpanded=this.get_$3G1;this.set_IsExpanded=this.set_$3G1;this.$2kR=this.handleExpandOrCollapseIconClick;this.get_Active=this.get_$db;this.set_Active=this.set_$db;Microsoft.Crm.Client.Core.ViewModels.$Dg.initializeBase(this);this.$CF=!0};Microsoft.Crm.Client.Core.ViewModels.$Dg.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("OptionSetFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$Dg)};Microsoft.Crm.Client.Core.ViewModels.$Dg.prototype={$9z:null,get_$3Fs:function(){return this.$9z},set_$3Fs:function(n){return this.$9z=n,n},$DK:null,get_$3Fv:function(){return this.$DK},set_$3Fv:function(n){return this.$DK=n,n},$2k:null,get_$3Fy:function(){return this.$2k},set_$3Fy:function(n){return this.$2k=n,n},$DO:!1,get_$3G1:function(){return this.$DO},set_$3G1:function(n){return this.$DO=n,n},$yo:0,get_OptionSetValuesCount:function(){return this.$yo},set_OptionSetValuesCount:function(n){return this.$yo=n,n},$CF:!1,get_$db:function(){return this.$CF},set_$db:function(n){return this.$CF=n,n},get_IsSelectAll:function(){return this.get_$Ry()!==this.$yo},get_$Ry:function(){return $0.$0(this.$2k)?0:this.$2k.get_$1m().get_Count()},$2HP:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("OptionSetFilter_UpdateFilterProperties"),i,r,f,u;t.start();this.$2k=n;i=this.$H;for(r in i)f={key:r,value:i[r]},u=f.value,u.set_Data(this.$1e1(u.$yf));t.stop();t.addParameter(this.get_ViewModelId())},updateFilterExpression:function(n){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("OptionSetFilter_UpdateFilterExpression"),r,t,u,f,e,o;if(i.start(),r=n.Value,t=n.Name,!$0.$0(r)&&r)if($0.$0(this.$2k)&&(this.$2k=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,this.$9z)),$0.$0(t)){this.$2k=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,this.$9z);u=this.$H;for(f in u)e={key:f,value:u[f]},o=e.value,this.$2k.$Bl(this.$9z,"eq",o.$yf)}else this.$2k.$Bl(this.$9z,"eq",t);else $0.$0(t)?this.$2k=null:(this.$2k.$vn(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T(this.$9z,"eq",t)),this.$2k.get_$1m().get_Count()||(this.$2k=null));this.$2.$5Q(this).$18v(this.$2k,this.$9z);i.stop();i.addParameter(this.get_ViewModelId())},handleSelectAllButtonClick:function(){var i=this.$H,t,r,n;for(t in i)r={key:t,value:i[t]},r.value.set_Data(this.get_IsSelectAll());n={};n.Name=null;n.Value=this.get_IsSelectAll();this.updateFilterExpression(n)},handleExpandOrCollapseIconClick:function(n){this.$DO=n;this.$2.$5Q(this).$1Nu()},$3BA:function(){this.$DO=!!this.get_$Ry()},$1e1:function(n){if(!$0.$0(this.$2k)&&!$0.$0(this.$2k.get_$1m()))for(var t=0;t<this.$2k.get_$1m().get_Count();t++)if(this.$2k.get_$1m().get_$R(t).get_$29()===n)return!0;return!1},getScreenReadableText:function(){return this.get_$Ry()>0?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_OptionSet"),this.$DK,this.get_$Ry().toString(),this.$yo.toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_OptionSet_NoneSelected"),this.$DK)}};Microsoft.Crm.Client.Core.ViewModels.$E9=function(){this.get_AttributeLogicalName=this.get_$3Fs;this.set_AttributeLogicalName=this.set_$3Fs;this.get_AttributeDisplayName=this.get_$3Fv;this.set_AttributeDisplayName=this.set_$3Fv;this.get_SelectedFilterExpression=this.get_$3Fy;this.set_SelectedFilterExpression=this.set_$3Fy;this.get_SelectedFilterCount=this.get_$Ry;this.get_IsExpanded=this.get_$3G1;this.set_IsExpanded=this.set_$3G1;this.$2kR=this.handleExpandOrCollapseIconClick;Microsoft.Crm.Client.Core.ViewModels.$E9.initializeBase(this);this.$CF=!0};Microsoft.Crm.Client.Core.ViewModels.$E9.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("SliderFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$E9)};Microsoft.Crm.Client.Core.ViewModels.$E9.prototype={$9z:null,get_$3Fs:function(){return this.$9z},set_$3Fs:function(n){return this.$9z=n,n},$DK:null,get_$3Fv:function(){return this.$DK},set_$3Fv:function(n){return this.$DK=n,n},$2k:null,get_$3Fy:function(){return this.$2k},set_$3Fy:function(n){return this.$2k=n,n},$DO:!1,get_$3G1:function(){return this.$DO},set_$3G1:function(n){return this.$DO=n,n},$CF:!1,get_Active:function(){return this.$CF},set_Active:function(n){return this.$CF=n,n},get_$Ry:function(){return $0.$0(this.$2k)?0:1},handleExpandOrCollapseIconClick:function(n){this.$DO=n;this.$2.$5Q(this).$1Nu()},$3BA:function(){this.$DO=!!this.get_$Ry()},$2HP:function(n){this.$2k=n;this.set_SelectedMinimum($0.$0(this.$2k)?this.$Gd:this.$2k.get_$1m().get_$R(0).get_$29());this.set_SelectedMaximum($0.$0(this.$2k)?this.$FY:this.$2k.get_$1m().get_$R(1).get_$29());$0.$0(this.$2k)&&(this.$iU=!0)},updateFilterExpression:function(){if(this.$Nu){if($0.$0(this.$2k))return;this.$2k=null}else this.$2k=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$9z),this.$2k.$Bl(this.$9z,"ge",this.$Ko.toString()),this.$2k.$Bl(this.$9z,"le",this.$GP.toString());this.$2.$5Q(this).$18v(this.$2k,this.$9z)},onDataChange:function(){this.updateFilterExpression(null)},getScreenReadableText:function(){return this.get_$Ry()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_Range"),this.$DK,this.$Ko.toString(),this.$GP.toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_Range_NoneSelected"),this.$DK)}};Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel=function(){this.$$d_onSelectedItemPropertyChanged=Function.createDelegate(this,this.onSelectedItemPropertyChanged);Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.prototype={$Ph:null,get_CommandButtonViewModels:function(){return this.$Ph},set_CommandButtonViewModels:function(n){return this.$Ph=n,n},$2xe:function(){this.getData()},$yC:!1,get_EnableSaveState:function(){return this.$yC},set_EnableSaveState:function(n){return this.$yC=n,n},getData:function(){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54)),r=this.$Ph,n,u,t;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Microsoft.Crm.Client.Core.ViewModels.$Bm(t.$1P,t.$1G));this.get_ComboBoxViewModel().set_ItemsList(i.toArray());this.get_ComboBoxViewModel().AddPropertyChangedListener("SelectedItem",this.$$d_onSelectedItemPropertyChanged)},$Oh:function(){var n,t,i,r;if(!$0.$0(this.$Ph)){n=this.$Ph;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$Ph=null}this.get_ComboBoxViewModel().RemovePropertyChangedListener("SelectedItem",this.$$d_onSelectedItemPropertyChanged);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$2j6:function(n){for(var i,r=this.get_ComboBoxViewModel().get_ItemsList(),u=r.length,t=0;t<u;++t)if(i=r[t],i.get_ValueString()===n)return i;return null},onSelectedItemPropertyChanged:function(){this.$9j("OnItemSelected");this.$349()},$349:function(){var t,n,u,i,r;this.$yC&&(t=this.get_ComboBoxViewModel().$4i,IsNull(t)||IsNull(this.$Ph[t])||(n=this.$Ph[t],!$0.$0(n.$1g)&&n.$1g.get_CanExecute()&&n.$1g.execute(),u=n.get_TargetViewModel().get_$1u(),i=this.$2j6(t),i&&(r=n.$M.MetadataSubType,$0.$0(r)||r===3||r===2||Microsoft.Crm.Client.Core.ViewModels.$e.$1kb(i.get_ValueString(),i.get_Label(),u))))},add_OnItemSelected:function(n){this.$1p("OnItemSelected",n)},remove_OnItemSelected:function(n){this.$32("OnItemSelected",n)},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)}};Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.prototype={getData:function(){this.$1Pt()},$20t:function(n){return n.$1G},$2gv:function(n){return n.$1P},get_HasChildFlyouts:function(){var n,t,i;if(!$0.$0(this.$7q)){n=this.$7q;for(t in n)if(i={key:t,value:n[t]},Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(i.value))return!0;return!1}return!1},$1Se:0,get_ClientWidth:function(){return this.$1Se},set_ClientWidth:function(n){return this.$1Se=n,n},add_$27e:function(n){$0.$0(this.$2)||this.$2.$1p("DropdownSelectedItemUpdated",n)},remove_$27e:function(n){$0.$0(this.$2)||this.$2.$32("DropdownSelectedItemUpdated",n)},$17U:null,SelectedItemName:function(){var n,t,i;if($0.$0(this.$7q))return"";if(n=this.$Fb in this.$7q?this.$7q[this.$Fb]:this.$7q[Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$Fb).toString()],!$0.$0(n)){if(Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n))return t=n,t.$1G;if(Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(n))return i=n,$0.$0(this.$17U)&&(this.$17U=i.SelectedItemName()),this.$17U}return""},FireDropdownSelectedItemUpdatedEvent:function(){this.$2XM("DropdownSelectedItemUpdated")},ItemSelected:function(n,t){var c,e,r,i,f,l,u,o,s,h;if(!IsNull(this.$7q)){if(c=this.$7q[this.$Fb],e=c,!$0.$0(e)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(e))if($0.$0(t)||this.$iH!==t){if(this.$iH===n)return}else return;if(this.$Fb===n&&$0.$0(t))return;if(this.$Fb=n,$0.$0(t)||(this.$iH=t),this.$9j("OnItemSelected"),r=this.$7q[this.$Fb],!$0.$0(r)&&Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(r))i=r,!$0.$0(i.$1g)&&i.$1g.get_CanExecute()&&i.$1g.execute(),$0.$0(i.get_TargetViewModel())?Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1018,"TargetViewModel is undefined in commandButton"):(f=i.$M.MetadataSubType,$0.$0(f)||f===3||f===2||(l=i.get_TargetViewModel().get_$1u(),Microsoft.Crm.Client.Core.ViewModels.$e.$1kb(i.$1P,i.$1G,l))),this.$7("dataRecieved");else if(u=r,!$0.$0(u)&&!$0.$0(t)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(u)){o=this.$7q;for(s in o)h={key:s,value:o[s]},h.key===this.$Fb?(u.ItemSelected(t),this.$17U=u.SelectedItemName()):h.value.ItemSelected(null)}}},$Oh:function(){var o=this.$Dx,r,t,n,s,u,f,e,i;for(r in o){if(t={key:r,value:o[r]},n=t.value,!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(n))s=n,s.$Oh();else if(!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n))n.dispose();else if(!$0.$0(n)&&Object.isInstanceOfType(n)){u=t.value;f=u;for(e in f)i={key:e,value:f[e]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(i.value)&&i.value.dispose(),delete u[i.key]}delete this.$Dx[t.key]}this.$Dx=null;Microsoft.Crm.Client.Core.ViewModels.$SS.prototype.$Oh.call(this)},$2XM:function(n){if(!$0.$0(this.$2)){var t=this.$2.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)}}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel=function(){this.$$d_ChildDefinitionUpdated=Function.createDelegate(this,this.ChildDefinitionUpdated);this.$$d_$2vi=Function.createDelegate(this,this.$2vi);this.$$d_FilterUpdated=Function.createDelegate(this,this.FilterUpdated);this.$$d_$2kD=Function.createDelegate(this,this.$2kD);this.$$d_DropdownItemUpdated=Function.createDelegate(this,this.DropdownItemUpdated);this.$$d_DefinitionUpdated=Function.createDelegate(this,this.DefinitionUpdated);this.$$d_$1I9=Function.createDelegate(this,this.$1I9);this.$$d_$22a=Function.createDelegate(this,this.$22a);this.$$d_$2ky=Function.createDelegate(this,this.$2ky);this.$$d_$2Uz=Function.createDelegate(this,this.$2Uz);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.initializeBase(this);this.$sj=!0};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.prototype={$GQ:null,$Bx:null,$BF:null,$x0:!1,$xd:null,$ow:!1,get_QueuePickerViewModel:function(){return $0.$0(this.$BF)&&(this.$BF=new Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel(this)),this.$BF},get_QueuePickerDropDown:function(){return this.get_QueuePickerViewModel().get_QueuePickerDropDown()},get_$2M6:function(){return this.get_$1PO()},$ON:null,get_$qQ:function(){return $0.$0(this.$Zf)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Zf)?this.$78?"HomePageGrid:"+this.$D:Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.get_$qQ.call(this):this.$Zf},$oc:!1,get_EnableClickOnEntityDashboardIcon:function(){return this.$oc},set_EnableClickOnEntityDashboardIcon:function(n){return this.$oc=n,n},get_IsActivityGrid:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);return!$0.$0(n)&&n.get_$7g()?!0:!1},get_TooltipString:function(){return Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid.EntityDashboardTooltip"),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D).$Ag)},$2Z:function(){this.$78?this.$1a||(this.$1dk(),this.$oc=!1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$202(this,this.$$d_$2Uz),this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q,this.$$d_$2ky)):this.$13w?(this.$1dk(),this.$1dX()):this.$2mh();var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskGridLoadEvent");n.$h("DialogGrid",this.$13w);n.$h("EntityGrid",this.$78);n.$h("EntityName",this.$D||"");Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n)},$2mh:function(){$0.$0(this.$2)||$0.$0(this.$2.$2)||this.set_$GO(this.$2.$2);var n=this.$2.$5k,t=null;t=this.$ot||$0.$0(n)||$0.$0(n.ui)?"SessionTabContainer0":n.ui.tabs.getAll()[0].getName();this.$x0||(this.$ot?this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_$22a):this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9),this.$x0=!0);this.$ow=this.$ow||this.$Pv===t;this.$ow&&!this.$1a&&(this.$1dk(),this.$1dX())},$1dk:function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$2Z.call(this)},$22a:function(n){this.$Pv===n.$Si&&(this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_$22a),this.$x0=!1,this.$ow=!0,this.$1a||this.$2Z())},$1I9:function(n){this.$Pv===n.$Si&&(this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9),this.$x0=!1,this.$ow=!0,this.$1a||this.$2Z())},$FT:null,$IN:null,$1Fj:null,$LH:null,$16P:0,$1dX:function(){this.$OA&&$0.$0(this.$IN)&&($0.$0(this.$Dw)||(this.$FT={},this.$2lx(),this.$16P=0),this.$1vx(this.$D))},$2lx:function(){var n,t,i,r;if(this.$LH=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),$0.$0(this.$Dw))this.$LH.add(this.$D);else{n=this.$Dw;for(t in n)i={key:t,value:n[t]},r=i.key,this.$LH.add(r)}},$325:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y;n.$qH();n.set_PrimaryModelName(this.$D);n.$vj("HomePageGrid:"+this.$D,this)},$2Uz:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();n.$NR&&n.$NR[this.$D]&&n.$NR[this.$D].get_Count()>0&&(this.$oc=!0,this.$7("EntityDashboardDataReceived"))},OpenEntityDashboard:function(){var r,t;if(this.$oc){var u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),i=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(this.$2),n=u.$NR[this.$D.toLowerCase()];if(!$0.$0(n)&&n.get_Count()){for(r=0,t=0;t<n.get_Count();t++)if(n.get_$R(t).$1TN){r=t;break}u.$SO=n.get_$R(r);i.$1W=n.get_$R(r).$2p;i.$J1=37;i.execute();i.dispose()}}},$2ky:function(n){var t,i,r;$0.$0(this.$Dw)&&this.$78?(t=!1,$0.$0(this.$GQ)&&(t=!0),this.$GQ=n.$Dx,this.$GQ&&(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&(i=this.$GQ[0].$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")].$H,$0.$0(this.$Pz)?this.$1Mx(i,!1):(r=i[this.$Pz],$0.$0(r)||r.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AdvancedFindSearchResultsViewName")))),$0.$0(this.$Bx)||(this.$Bx.$Dx=this.$1pS(),this.$Bx.$1Pt()),t&&this.$7("SelectViewDataReceived"))):this.$1dX()},IsSelectViewDataReceived:function(){return!$0.$0(this.$GQ)},$2Ew:function(n){$0.$0(this.$Bx)||(this.$Bx.$Dx=n);this.$7("SelectViewDataReceived")},$1pS:function(){var n,t,i;return $0.$0(this.$GQ)?null:(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&!$0.$0(this.$IN)&&$0.$0(this.$Pz)&&this.$1Mx(this.$IN[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")],!1),!$0.$0(this.$Dw)&&this.$D in this.$Dw?this.$IN:this.$78?(n={},$0.$0(this.$GQ[0]))?n:(t=this.$GQ[0].$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")].$H,n[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")]=t,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")in this.$GQ[0].$H&&(i=this.$GQ[0].$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")].$H,n[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")]=i),n):this.$IN)},$2gc:function(){if($0.$0(this.$1Fj)){var n={};n.All=this.$XP("All",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_All"));n.Overdue=this.$XP("Overdue",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Overdue"));n.Today=this.$XP("Today",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Today"));n.Tomorrow=this.$XP("Tomorrow",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Tomorrow"));n["NextXDays;7"]=this.$XP("NextXDays;7",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Next7Days"));n["NextXDays;30"]=this.$XP("NextXDays;30",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Next30Days"));n["NextXDays;90"]=this.$XP("NextXDays;90",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Next90Days"));n["NextXMonths;6"]=this.$XP("NextXMonths;6",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Next6Months"));n["NextXMonths;12"]=this.$XP("NextXMonths;12",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Next12Months"));this.$1Fj=n}return this.$1Fj},get_DueLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.View_Label_ViewByDate")},get_$1PO:function(){return this.get_QueuePickerViewModel().$1UL},$XP:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.$24;return i.set_$2m(n),i.set_Label(t),i},get_GridFlyoutViewModel:function(){var n;if($0.$0(this.$Bx)){var t=this.$1pS(),i=this.$2W6(t),r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",$0.$0(this.$Dw)?i:this.$D)],null,null);this.$Bx=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(r,this.get_ModelContext(),this.$2i,this.$2);this.$Bx.get_HasChildFlyouts()&&(this.$Bx.$iH=this.get_DefinitionId());n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){var t,i;if(n.$78&&!$0.$0(n.$Bx.$7q)&&!$0.$0(n.$Bx.$Fb)){for(t=n.$Bx.$7q[n.$Bx.$Fb];!$0.$0(t)&&!Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(t);)if(i=t,!$0.$0(i)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(i))t=i.$7q[i.$Fb];else break;!$0.$0(t)&&Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(t)&&n.$2LK(t)}},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$QP,"ICGridVM.GridFlyoutViewModel.AddToMru.AddDefaultView");this.$Bx.add_$15d(this.$$d_DefinitionUpdated);this.get_GridFlyoutViewModel().add_$27e(this.$$d_DropdownItemUpdated)}return this.$Bx},$2W6:function(n){var i=this.get_DefinitionId(),f,r,u,e,t;if(this.get_DefinitionId()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()&&Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")in n){f=n[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")];r=f;for(u in r)if(e={key:u,value:r[u]},t=e.value,!$0.$0(t.$M)&&!$0.$0(t.$M.IsDefault)){var s=t.$M.IsDefault,o=t.$M.MetadataSubType,h=!$0.$0(o)&&o===3;if(s&&!h&&!$0.$0(t.$M.ViewId)){i=t.$M.ViewId;this.$t===2?(this.$xd=i,this.add_$td(this.$$d_$2kD)):!$0.$0(t.$1g)&&t.$1g.get_CanExecute()&&t.$1g.execute();break}}}return i},$2kD:function(){if(this.remove_$td(this.$$d_$2kD),!$0.$0(this.$xd)&&!$0.$0(this.get_GridFlyoutViewModel())&&!$0.$0(this.get_GridFlyoutViewModel().$7q)&&this.$xd in this.get_GridFlyoutViewModel().$7q){var n=this.get_GridFlyoutViewModel().$7q[this.$xd];!$0.$0(n.$1g)&&n.$1g.get_CanExecute()&&n.$1g.execute()}this.$xd=null},$2LK:function(n){var t=n,i;$0.$0(t.get_TargetViewModel())?Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1018,"TargetViewModel is undefined in commandButton"):(i=t.get_TargetViewModel().get_$1u(),Microsoft.Crm.Client.Core.ViewModels.$e.$1kb(t.$1P,t.$1G,i))},DefinitionUpdated:function(n){var t=n,i=t.$7q[t.$Fb];this.OnDefinitionUpdated(i)},DropdownItemUpdated:function(){var n=this.get_FilterFlyoutViewModel(),t;$0.$0(n)||$0.$0(n.get_ComboBoxViewModel())||(t=n.get_ComboBoxViewModel().$4i,this.OnFilterUpdated(t))},ChildDefinitionUpdated:function(n){var t=n,i=t.$7q[t.$Fb];this.OnDefinitionUpdated(i)},get_FilterFlyoutViewModel:function(){if($0.$0(this.$ON)){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("DropdownForGridViewModel","ComboBoxWrapper","ComboBoxWrapper",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CommandButtonViewModels",this.$2gc()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ComboBoxClass","gridViewDropDown"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("WrapperClass","filterViewDropDownWrapper")],null,null);this.$ON=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,null);this.$ON.$yC=!1;this.$ON.add_OnItemSelected(this.$$d_FilterUpdated);this.$ON.get_ComboBoxViewModel().set_SelectedItem("All")}return this.$ON},FilterUpdated:function(n){var t=n,i=t.get_ComboBoxViewModel().$4i;this.OnFilterUpdated(i)},get_SelectViewData:function(){return this.$GQ},$1vx:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveViewSelector","HomePageGrid:"+n,!1),i;t.OnSuccess=this.$$d_$2vi;t.OnFailure=this.$$d_$4L;i=new Microsoft.Crm.Client.Core.ViewModels.$I(this,t);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i.$56())},$2vi:function(n){var b=n,i={},r=new Microsoft.Crm.Client.Core.ViewModels.$Bo,l,a,v,t,y,f,e,o,p,u,s,h,c,w;if(this.$Wn(r,this,b.$Cx.Controls),l=r.$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")],i[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")]=this.$20g(l.$H),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")in r.$H&&(a=r.$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")],i[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")]=this.$20g(a.$H)),!$0.$0(this.$Dw)&&this.$78)if(v=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",this.get_DefinitionId())],null,null),t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(v,null),t.set_PrimaryModelName(this.$D),y=this.$Dw[this.$D],t.set_$2m(this.$D),t.set_Label(this.$D!=="activitypointer"?y.DisplayName:Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ViewSelectorAllActivities")),t.add_$15d(this.$$d_ChildDefinitionUpdated),this.$FT[this.$D]=t,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$1Mx(t.$7q,!0),this.$16P++,this.$16P===this.$LH.get_Count()){f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4Z));e=this.$FT;for(o in e)p={key:o,value:e[o]},f.add(p.value);u={};u.Entities=this.$FT;this.$GQ=f.toArray();this.$IN=u;this.set_PrimaryModelName("activitypointer");this.$325();this.$2Ew(u)}else this.set_PrimaryModelName(this.$LH.get_$R(this.$16P)),this.$1vx(this.$D);else{s=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4Z));h=this.$FT;for(c in h)w={key:c,value:h[c]},s.add(w.value);this.$GQ=s.toArray();this.$IN=i;this.$2Ew(i)}},$2Ci:function(n){var t=n.$5M.get_$R("fetchXml").Data,i=null,e,o,r,s,f,c;if(this.$Cn){if(t=Microsoft.Crm.Client.Core.ViewModels.$1e.$1aW(t,this.$Fa),e=Microsoft.Crm.Client.Core.ViewModels.$1e.$136(t),$0.$0(e)&&!Microsoft.Crm.Client.Core.ViewModels.$1e.$14R(this.$Fa))return this.$ym=!0,n;if(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),o.get_$7g()&&this.$78&&this.get_DefinitionId()===this.$Na[this.$D]&&!$0.$0(this.$SJ)){r=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(t);s=r.$DN;for(var h=this.$SJ.toArray(),l=h.length,u=0;u<l;++u)f=h[u],$0.$0(f)||s.add(f);t=r.$fV()}else this.$D!=="queueitem"||$0.$0(this.$BF)||(t=this.$78?this.$1aT(t,this.get_$1PO()):this.$1aT(t,"436e2293-da8f-4ef9-a1e6-fff25a5beb22"));i=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(t);c=Microsoft.Crm.Client.Core.ViewModels.$1e.$1Hi(t);$0.$0(this.$vY)&&!$0.$0(c)&&(this.$vY=Microsoft.Crm.Client.Core.ViewModels.$1e.$1Hi(t).toString());this.$2DJ()}else{if($0.$0(this.get_$1PO())&&(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$L9)||!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$L9)&&!this.$yB))return n;t=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$L9)?this.$1aT(t,this.get_$1PO()):this.$2ZA(t);i=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(t)}return i},$2ZA:function(n){var i=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(n),o=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(this.$L9)),t=o.$N("link-entity"),s=o.$N("condition"),f,u,h,e,c;if($0.$0(t))$0.$0(s)?Microsoft.Crm.Client.Core.Framework.$8.$4z("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, incorrect filter condition XML was passed."):(Microsoft.Crm.Client.Core.Framework.$8.$B("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, generating merged fetchXML using passed in filter condition."),c=this.$215(i,!0),Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T.$29J(s,c));else{Microsoft.Crm.Client.Core.Framework.$8.$B("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, generating merged fetchXML using passed in link-entity filter condition.");var l=$0.$0(t.$10("link-type"))?null:t.$10("link-type").toString(),a=$0.$0(t.$10("alias"))?null:t.$10("alias").toString(),r=new Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$7C(t.$10("name").toString(),t.$10("from").toString(),t.$10("to").toString(),l,a);for(Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$1WE(r,t),f=null,u=0;u<i.$JP.get_Count();u++)if(r.$2p4(i.$JP.get_$R(u))){f=i.$JP.get_$R(u);break}if($0.$0(f))i.$JP.add(r);else for(h=this.$215(f,!1),e=0;e<r.$DN.get_Count();e++)h.$9Z(r.$DN.get_$R(e))}return i.$fV()},$215:function(n,t){for(var r=null,i=0;i<n.get_$f0().get_Count();i++)if(!n.get_$f0().get_$R(i).get_$1Fl()&&(n.get_$f0().get_$R(i).get_$1m().get_Count()>0&&t||n.get_$f0().get_$R(i).get_$5N().get_Count()>0&&!t)){r=n.get_$f0().get_$R(i);break}return $0.$0(r)&&(r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,n.get_$4n()+n.get_$f0().get_Count().toString()),n.get_$f0().add(r)),r},$1aT:function(n,t){var s="",a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n.toString()),v=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(a).$N("fetch"),i=v.$N("entity"),y=i.$10("name").toString(),r,c,e,o,u,l;if(y==="queue")return n;var p=i.$N("link-entity")?i.$N("link-entity").get_$6m().toString():"",w=i.$N("order")?i.$N("order").get_$6m().toString():"",f=i.$62("filter"),h="";if(!$0.$0(f))for(r=0;r<f.get_$s();r++)c=f.get_$R(r),h+=c.get_$6m();for(e=i.$62("attribute"),o="",u=0;u<e.get_$s();u++)o+=e.get_$R(u).get_$6m();return l="<\/entity><\/fetch>",s=t.toLowerCase()==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'><filter type='and'><condition attribute='queueviewtype' operator='eq' value='1' /><\/filter><\/link-entity><link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='inner'><attribute name='systemuserid' /><filter><condition attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString()+"' /><\/filter><\/link-entity>":t.toLowerCase()==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'><filter type='and'><condition attribute='queueviewtype' operator='eq' value='0' /><\/filter><\/link-entity>":t.toLowerCase()==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='outer'> <attribute name='systemuserid'/> <\/link-entity> <link-entity name='queue' from='queueid' to='queueid' alias='qq' link-type='outer'> <attribute name='queueviewtype'/> <\/link-entity> <filter operator='and'> <filter type ='or'> <condition entityname='qq' attribute='queueviewtype' operator='eq' value='0' /> <condition entityname='qm' attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString()+"' /> <\/filter> <\/filter>":"<filter type='and'><condition attribute='queueid' operator='eq' uitype='queue' value='{"+t+"}' /><\/filter>","<fetch distinct='false' mapping='logical'><entity name='queueitem'>"+o+p+w+h+s+l},$20g:function(n){var i,u,r,t;if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$ey)||(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i.addRange(this.$ey.split(",")),!i.get_Count()))return n;for(u={},r=0;r<i.get_Count();r++)t=i.get_$R(r),t=new Microsoft.Crm.Client.Core.Framework.Guid(t).toString(),t in n&&(u[t]=n[t]);return u},$Wn:function(n,t,i){for(var r,o,e,h,u,f,c=i,l=c.length,s=0;s<l;++s){r=c[s];o=r.LabelText||"";switch(r.ControlType){case"Button":$0.$0(r.CommandParameters)&&(r.CommandParameters={});r.CommandParameters.TargetViewModel=this;e="";switch(r.CommandType){case"ControlCommand":r.CommandParameters.CommandPropertyName=r.Command;e="ControlCommand";break;case"System":e=r.Command;break;case"WebResource":e="WebResourceCommand"}h=t.get_$1u();($0.$0(h)||Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(t))&&t.get_$AH()&&(h=t.get_$AH().$D);u=new Microsoft.Crm.Client.Core.ViewModels.$24;u.set_$2m(r.Id);u.set_Label(o);u.set_Visible(!0);u.set_Parameters(r.CommandParameters);u.set_ImageName(r.ImageId);u.set_ImageType(r.ImageType);u.$Gi=r.AvailableOffline;u.set_TargetViewModel(t);u.$Cw=null;u.set_Command(e);n.$CK(u.$1P,u);break;case"Group":Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(o)?(f=new Microsoft.Crm.Client.Core.ViewModels.$8m,f.set_Label(o),f.set_$2m(this.$1Fa(r.Id)),this.$Wn(f,t,r.Children),n.$CK(f.$1P,f)):this.$Wn(n,t,r.Children)}}},$1rB:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);t.get_$7g()&&this.$78?(this.$Bx.ItemSelected(this.$D,n),this.$Bx.$7("dataRecieved"),this.$ON.get_ComboBoxViewModel().set_SelectedItem("All")):this.$Bx.ItemSelected(n);this.$D!=="queueitem"||$0.$0(this.$BF)||this.$BF.get_QueuePickerDropDown().get_ComboBoxViewModel().set_SelectedItem("436e2293-da8f-4ef9-a1e6-fff25a5beb22")},$1Fa:function(n){if($0.$0(n))return null;var t=n.split("|");return t[t.length-1]},$Oh:function(){var u=this.$IN,n,t,i,e;for(n in u)t={key:n,value:u[n]},Microsoft.Crm.Client.Core.ViewModels.$Bo.isInstanceOfType(t.value)&&(i=t.value,$0.$0(i)||i.dispose());if(!$0.$0(this.$GQ)){for(var f=this.$GQ,o=f.length,r=0;r<o;++r)e=f[r],e.dispose();this.$GQ=null}$0.$0(this.$Bx)||(this.$Bx.remove_$15d(this.$$d_DefinitionUpdated),this.get_GridFlyoutViewModel().remove_$27e(this.$$d_DropdownItemUpdated),this.$Bx.dispose(),this.$Bx=null);$0.$0(this.$ON)||(this.$ON.remove_OnItemSelected(this.$$d_FilterUpdated),this.$ON.dispose(),this.$ON=null);$0.$0(this.$BF)||(this.$BF.dispose(),this.$BF=null);this.$x0&&(this.$ot?this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_$22a):this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9));this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q,this.$$d_$2ky);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel=function(n){this.$$d_QueueUpdated=Function.createDelegate(this,this.QueueUpdated);Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.initializeBase(this);this.$Qz=n};Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.prototype={$BF:null,$1NZ:!1,$Qz:null,$Py:null,$1UL:null,get_QueuePickerDropDown:function(){if(($0.$0(this.$BF)||$0.$0(this.$BF.$Ph))&&!this.$1NZ){this.$1NZ=!0;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("DropdownForGridViewModel","ComboBoxWrapper","ComboBoxWrapper",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CommandButtonViewModels",this.$2zB()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ComboBoxClass","queuePickerDropDown")],null,null);this.$BF=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,null);this.$BF.add_OnItemSelected(this.$$d_QueueUpdated);this.$BF.get_ComboBoxViewModel().set_SelectedItem("436e2293-da8f-4ef9-a1e6-fff25a5beb22");this.$BF.get_ComboBoxViewModel().$dS=!0}return this.$BF},$2zB:function(){return $0.$0(this.$Py)&&this.$2WR(),this.$Py},$2WR:function(){var t={},n,i,r;t.userId=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString();t.includePublic=!0;n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveUserQueues",t);i=this;n.OnSuccess=function(n){i.$2iR(n)};r=this;n.OnFailure=function(n){r.$4L(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,n)},QueueUpdated:function(n){var t=n;this.$1UL=t.get_ComboBoxViewModel().$4i;$0.$0(this.$Qz)||(this.$Qz.$Jq=null,this.$Qz.$2O=null,$0.$0(this.$Qz.$2n)||(this.$Qz.$Ne=!0),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$Qz.get_DefinitionId()===this.$Qz.$Pz&&(this.$Qz.$Cn=!0),this.$Qz.$Rr())},$2iR:function(n){var t=0,c=n.entityCollection,l=c.get_entities(),o,s,i,r,u,f;this.$Py={};for(var h=l,a=h.length,e=0;e<a;++e)o=h[e],s=o.$a.Id.toString(),$0.$0(s)||(i=new Microsoft.Crm.Client.Core.ViewModels.$24,i.set_$2m(s),i.set_Label(o.getValue("name")),this.$Py[t.toString()]=i,t++);r=new Microsoft.Crm.Client.Core.ViewModels.$24;r.set_$2m("5850FC36-8596-45fe-B607-FE81D0C453FD");r.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_All"));this.$Py[t.toString()]=r;t++;u=new Microsoft.Crm.Client.Core.ViewModels.$24;u.set_$2m("e611d950-6bab-477c-a5a3-7e9a447b326d");u.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_Public"));this.$Py[t.toString()]=u;t++;f=new Microsoft.Crm.Client.Core.ViewModels.$24;f.set_$2m("436e2293-da8f-4ef9-a1e6-fff25a5beb22");f.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_Private"));this.$Py[t.toString()]=f;t++;this.$BF.get_ComboBoxViewModel().$dS=!1;this.$BF.$Ph=this.$Py;this.$BF.$2xe();this.$1NZ=!1},$4L:function(n){Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(n)},$Oh:function(){var n,t,i,r;$0.$0(this.$BF)||(this.$BF.remove_OnItemSelected(this.$$d_QueueUpdated),this.$BF.dispose(),this.$BF=null);n=this.$Py;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$Py=null;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$9U=function(){this.$$d_$2jW=Function.createDelegate(this,this.$2jW);this.$bw=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Models.$J4));Microsoft.Crm.Client.Core.ViewModels.$9U.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;Microsoft.Crm.Client.Core.ViewModels.$9U.initializeBase(this);this.$NT=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$J4));this.set_PageSize(2147483647)};Microsoft.Crm.Client.Core.ViewModels.$9U.prototype={$k1:null,$lG:null,$1m7:!1,$JU:null,$mm:!1,get_ActionProvider:function(){return this.$JU},set_ActionProvider:function(n){return this.$JU=n,n},$Au:"",$69:null,$1KU:0,get_Data:function(){return this.$Au},set_Data:function(n){return this.$Au!==n&&(this.$Au=n,$0.$0(n)?this.set_Text(""):this.set_Text(this.$Au.Name),this.$7("Data")),n},get_ProcessRequirementSatisfied:function(){return!$0.$0(this.$69)&&this.$69!==""},$NT:null,get_FirstLevelSubjects:function(){return this.$NT},set_FirstLevelSubjects:function(n){return this.$NT=n,n},get_Text:function(){return this.$69},set_Text:function(n){return this.$69!==n&&(this.$69=n,this.$7("Text")),n},get_ItemIndex:function(){return this.$1KU},set_ItemIndex:function(n){return this.$1KU!==n&&(this.$1KU=n),n},$Dz:!1,get_IsLoading:function(){return this.$Dz},set_IsLoading:function(n){return this.$Dz=n,n},get_DefaultLookupViewActionProvider:function(){return this.$k1},set_DefaultLookupViewActionProvider:function(n){return this.$k1=n,n},get_InitialLookupViewActionProvider:function(){return this.$lG},set_InitialLookupViewActionProvider:function(n){return this.$lG=n,n},$1UU:0,get_SubjectTextboxMaxLength:function(){return this.$1UU},set_SubjectTextboxMaxLength:function(n){return this.$1UU=n,n},$2Z:function(){this.$1a||(this.$Dz=!0,Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this))},FetchData:function(){this.$1m7||(this.getSubjectData(),this.$2ql())},SetValue:function(n){var t=this.$bw.get_$R(n);$0.$0(t)||this.set_Data(new Xrm.Objects.EntityReference("subject",new Microsoft.Crm.Client.Core.Framework.Guid(t.$2p),t.$4O))},ToggleState:function(n){var t=this.$bw.get_$R(n);$0.$0(t)||(t.$83=t.$83?0:1)},getSubjectData:function(){this.$Dz=!0;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForSubject",null);n.OnSuccess=this.$$d_$2jW;n.QueryValue="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<entity name='subject'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='subjectid' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='title'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='parentsubject'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<order attribute='createdon' descending='false' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/fetch>";this.set_DefinitionId(n.QueryValue.toString());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$2jW:function(n){var t=n.get_$9o().$1mk(),i;if(this.$NT.clear(),!$0.$0(t)&&t.length>0){for(i=0;i<t.length;i++){var f=t[i].GetValue("subjectid").toString(),s=t[i].GetValue("title"),e=t[i].GetValue("parentsubject"),o=e?e.Id.toString():null,r=o?this.$bw.get_$R(o):null,u=new Microsoft.Crm.Client.Core.Models.$J4(f,s,r);$0.$0(r)?this.$NT.add(u):r.$iG.add(u);this.$bw.set_$R(f,u)}this.$Dz=!1;this.$7("SubjectsLoaded")}this.$1m7=!0},$2ql:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x("subject",null)},get_ProcessRequired:function(){return this.$mm},set_ProcessRequired:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,i=t.$Em(n,null);return this.$mm=i,n},parentNodeScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("HierarchicalSubject_ParentNode_ScreenReader_Text"),n)},selectedNodeScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("HierarchicalSubject_SelectedNode_ScreenReader_Text"),n)}};Microsoft.Crm.Client.Core.ViewModels.$Di=function(){this.get_$tN=this.get_IsValid;this.set_$qu=this.set_DataBindingValidatorResult;this.set_$KO=this.set_ManualValidatorResult;this.set_$ve=this.set_RecommendationNotification;Microsoft.Crm.Client.Core.ViewModels.$Di.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$hS=this.get_RequiredLevel;this.set_$hS=this.set_RequiredLevel;Microsoft.Crm.Client.Core.ViewModels.$Di.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Di.prototype={add_$2CW:function(n){this.$1p("RevalidateEvent",n)},remove_$2CW:function(n){this.$32("RevalidateEvent",n)},get_IsValid:function(){return($0.$0(this.$8W)||this.$8W.$57)&&($0.$0(this.$7u)||this.$7u.$57)},get_ErrorMessage:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$47:this.$7u.$47},get_ErrorMessageLevel:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$eo:this.$7u.$eo},$8W:null,get_DataBindingValidatorResult:function(){return this.$8W},set_DataBindingValidatorResult:function(n){if(this.$8W!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$8W=n;this.$7("DataBindingValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7u:null,get_ManualValidatorResult:function(){return this.$7u},set_ManualValidatorResult:function(n){if(this.$7u!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$7u=n;this.$7("ManualValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7P:null,get_AcceptanceTextMessage:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?"":this.$7P.actions[0].message},get_AcceptanceActions:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?null:this.$7P.actions[0].actions[0]},get_RecommendationNotification:function(){return this.$7P},set_RecommendationNotification:function(n){return this.$7P!==n&&(this.$7P=n,this.$7("RecommendationNotification")),n},$9U:0,get_RequiredLevel:function(){return this.$9U},set_RequiredLevel:function(n){return this.$9U!==n&&(this.$9U=n,this.$1Fq("RequiredLevel","Required","Recommended")),n},get_Required:function(){return this.$9U===1||this.$9U===2},get_Recommended:function(){return this.$9U===3},$2XL:function(){var n=this.$4d("RevalidateEvent");n&&n()}};Microsoft.Crm.Client.Core.ViewModels.$Cd=function(){this.$$d_$2ig=Function.createDelegate(this,this.$2ig);this.$$d_LoadViewFailure=Function.createDelegate(this,this.LoadViewFailure);this.$$d_LoadViewSuccess=Function.createDelegate(this,this.LoadViewSuccess);Microsoft.Crm.Client.Core.ViewModels.$Cd.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Cd.prototype={$Og:null,$5n:null,$ej:null,$FT:null,$o1:null,$hc:null,$1PL:"1",$bU:null,$bV:null,$QY:null,$ei:!1,$16c:null,$16b:null,$DT:!1,get_ShouldShowOnlyGrid:function(){return this.$DT},set_ShouldShowOnlyGrid:function(n){return this.$DT=n,n},$2Z:function(){var f,e,o,s,t,r,i,u,n;if(!this.$1a&&(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this),this.$5n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$ej=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$QY={},this.$DP=this.$2.$5m.isMultiSelect,this.$E0=this.$2.$5m.lookupStyle,this.$DT=$0.$0(this.$2.$5m.shouldShowOnlyGrid)?!1:this.$2.$5m.shouldShowOnlyGrid,f=this.$2.$5m.disableQuickFind,this.$cz=$0.$0(f)?!1:f,!this.$DT))if(this.$W9=$0.$0(this.$2.$5m.selectedViewIds)?"":this.$2.$5m.selectedViewIds,e=this.$2.$5m.disableViewPicker,this.$Vo=$0.$0(e)?!1:e,this.$19f=$0.$0(this.$2.$5m.DefaultViewId)?"":this.$2.$5m.DefaultViewId,this.$ei=!0,this.$xm=this.$2.$5m.allowfilteroff,this.$L9=this.$2.$5m.relationshipfiltercondition,this.$16c="",this.$16b="",o=this.$2.$5m.filterreferencingattributename,Microsoft.Crm.Client.Core.Framework.$3.$9(o)||(s=o.split("."),this.$16c=s[0],this.$16b=s[1]),this.$E0==="single")t=this.$2.$5m.optionset,this.$5n.add(t),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(t),this.$ej.add(r.$1q.toString()),this.$QY[t]=r.$1q.toString(),this.$QY[r.$1q.toString()]=t,this.set_SelectedEntity(t);else if(this.$E0==="multi"){for(i=this.$2.$5m.logicalNames,u=this.$2.$5m.displayNames,n=0;n<i.get_Count();n++)this.$5n.add(i.get_$R(n).toString()),this.$ej.add(u.get_$R(n).toString()),this.$QY[u.get_$R(n).toString()]=i.get_$R(n).toString(),this.$QY[i.get_$R(n).toString()]=u.get_$R(n).toString();this.$ej.sort();this.set_SelectedEntity(this.GetEntityLogicalName(this.$ej.get_$R(0)));this.$17s=!1}},$W9:null,$cz:!1,$Vo:!1,get_DisableViewPicker:function(){return this.$Vo},set_DisableViewPicker:function(n){return this.$Vo=n,n},$io:null,$DP:!1,get_IsMultiSelect:function(){return this.$DP},set_IsMultiSelect:function(n){return this.$DP=n,n},$E0:null,get_LookupStyle:function(){return this.$E0},set_LookupStyle:function(n){return this.$E0=n,n},$xm:!1,get_AllowFilterOff:function(){return this.$xm},set_AllowFilterOff:function(n){return this.$xm=n,n},get_HasRelationshipFilterCondition:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$L9)},$19f:null,get_EnableRelationshipFilter:function(){return this.$ei},set_EnableRelationshipFilter:function(n){return this.$ei!==n&&(this.$ei=n,this.$Og.$yB=this.$ei,this.$Og.$2O=null,this.$ei&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10Y(),this.$Og.$Rr(),this.$7("EnableRelationshipFilter")),n},get_RelationshipFilterText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Field_Label_UseRelationshipFilter"),this.get_$305())},$L9:null,get_RelationshipFilterCondition:function(){return this.$L9},set_RelationshipFilterCondition:function(n){return this.$L9=n,n},get_$305:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$16c,this.$16b),t;return $0.$0(n)?(this.$xm&&(t=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(this.$16c,[this.$16b]),Microsoft.Crm.Client.Core.Framework.$q.$4t("","LookupRelationshipFilter")).done(function(){t.$7("RelationshipLogicalName")})),""):n.$1q},get_Views:function(){return this.$FT},set_Views:function(n){return this.$FT=n,n},get_ItemViewModels:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1HE()},get_ItemViewModelDisplayNames:function(){for(var u,t,f,e=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1HE(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=e,o=r.length,n=0;n<o;++n)u=r[n],t=u.get_ModelContext(),$0.$0(t)||(f=t.get_$MS().Name,i.add(f));return i.toArray()},FetchViewsForEntity:function(n){var i=n?this.get_UserViewsXml():this.get_SystemViewsXml(),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);t.OnSuccess=this.$$d_LoadViewSuccess;t.OnFailure=this.$$d_LoadViewFailure;t.QueryValue=i;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)},get_SystemViewsXml:function(){return"<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='savedquery'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='savedqueryid'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='returnedtypecode'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='fetchxml'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='returnedtypecode' operator='eq' value='"+this.$1PL+"' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='statecode' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queryapi' operator='eq' value='' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queryapi' operator='null' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='64' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t<\/fetch>"},get_UserViewsXml:function(){return"<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='userquery'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='userqueryid' alias='savedqueryid'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='returnedtypecode'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='fetchxml'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='returnedtypecode' operator='eq' value='"+this.$1PL+"' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='statecode' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='64' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t<\/fetch>"},LoadViewSuccess:function(n){var s=n,u,t,i,r,o;s.get_EntityCollection().$1V.$P==="savedquery"&&(this.FetchViewsForEntity(!0),this.$FT=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$o1=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.Guid)));u=!1;t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.Framework.$3.$9(this.$W9)?u=!0:t.addRange(this.$W9.split(","));for(var c=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$19f),f="",l=n.get_$9o().$1mk(),h=l,a=h.length,e=0;e<a;++e)if(i=h[e],!$0.$0(i.GetValue("fetchxml"))&&(r=i.GetValue("savedqueryid"),o=String.format("{{{0}}}",r.toString()),(u||t.contains(o.toUpperCase())||t.contains(o.toLowerCase()))&&(this.$FT.add(i.GetValue("name")),this.$o1.add(r),c.toString().toLowerCase()===r.toString().toLowerCase()&&(f=i.GetValue("name")),t.get_Count()>0&&this.$o1.get_Count()===t.get_Count())))break;Microsoft.Crm.Client.Core.Framework.$3.$9(f)?this.set_SelectedView(this.$FT.get_Count()>0?this.$FT.get_$R(0):""):this.set_SelectedView(f);s.get_EntityCollection().$1V.$P==="userquery"&&this.$7("Visible")},LoadViewFailure:function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,"Failed: "+n)},get_Entities:function(){return this.$5n},set_Entities:function(n){return this.$5n=n,n},get_EntitiesDisplayName:function(){return this.$ej},set_EntitiesDisplayName:function(n){return this.$ej=n,n},GetEntityLogicalName:function(n){return this.$QY[n]},get_SelectedEntity:function(){return this.$hc},set_SelectedEntity:function(n){if(this.$hc!==n){this.$hc=n;var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$hc);this.$1PL=t.$9p.toString();this.FetchViewsForEntity()}return n},GetSelectedEntityDisplayName:function(){return this.$QY[this.$hc]},get_SelectedView:function(){return $0.$0(this.$bU)&&(!$0.$0(this.$FT)&&this.$FT.get_Count()>0?(this.$bU=this.$FT.get_$R(0),this.$bV=this.$o1.get_$R(0).toString(),this.$1lN()):(this.$bU="",this.$bV=null)),this.$bU},set_SelectedView:function(n){return this.$bU===n||$0.$0(n)&&$0.$0(this.$bU)||(this.$bU=n,this.$bV=this.$o1.get_$R(this.$FT.indexOf(this.$bU)).toString(),this.$1lN()),n},get_SelectedViewId:function(){if($0.$0(this.$bV))var n=this.get_SelectedView();return this.$bV},set_SelectedViewId:function(n){return this.$bV!==n&&(this.$bV=n),n},DeleteItem:function(n){var t=this.$Og.$f1(this.get_ItemViewModels()[n].$4Z);t===-1?this.get_ItemViewModels()[n].set_$KH(!1):this.$Og.$1f.get_$R(t).set_IsSelected(!1);this.$7("Visible")},$2ig:function(n){for(var i,u=n.get_$9o().$1mk(),r=u,f=r.length,t=0;t<f;++t)i=r[t],this.$FT.add(i.GetValue("name")),this.$o1.add(i.GetValue("savedqueryid"));this.$7("Visible")},$2Pr:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridViewModel","InteractionCentricGridView","InteractionCentricGridViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridFormContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PageSize",7),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PreviousGridId",this.$io),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DefinitionId",this.$bV),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$DP),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PrimaryModelName",this.$hc),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("EnableRelationshipFilter",this.$ei),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("RelationshipFilterCondition",this.$L9),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("GetDefinitionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveListMetadata",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("PersonalizationActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalization",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("ActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForGrid",null))],{ListItemTabIndex:-1},[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridControlHeaderViewModel","InteractionCentricGridControlHeaderView","GridHeaderViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("PersonalizationActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalization",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowSearch",!this.$cz)],{},null)],"")},$2Ps:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridViewModel","InteractionCentricGridView","InteractionCentricGridViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridFormContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PageSize",10),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PreviousGridId",this.$io),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$DP),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShouldShowOnlyGrid",!0)],{ListItemTabIndex:-1},null,"")},$1lN:function(){$0.$0(this.$Og)||(this.$io="grid_"+this.get_InteractionCentricGridViewModel().get_ViewModelId(),this.$Og.dispose(),this.$Og=null);var n=null;n=this.$DT?this.$2Ps():this.$2Pr();this.$Og=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2);this.$DT||(this.get_InteractionCentricGridViewModel().get_GridHeaderViewModel().get_FilterBarViewModel().$d4=this.get_InteractionCentricGridViewModel().$21U(this.$hc));this.$7("Visible")},get_InteractionCentricGridViewModel:function(){return $0.$0(this.$Og)&&this.$1lN(),this.$Og},SelectedItemScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ScreenReaderText_RemoveButton"),n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel=function(n){this.$$d_$28U=Function.createDelegate(this,this.$28U);this.$$d_$28T=Function.createDelegate(this,this.$28T);this.$$d_$2u4=Function.createDelegate(this,this.$2u4);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.resolveInheritance();this.get_AttributeMetadata=this.get_$1Vw;this.set_AttributeMetadata=this.set_$1Vw;this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_LaunchedWithUnsavedChanges=this.get_$25N;this.set_LaunchedWithUnsavedChanges=this.set_$25N;this.get_$2M4=this.get_AttributeFieldNames;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.prototype={$Ek:null,$Ok:!1,$182:!1,$1P6:null,$O0:null,$V8:null,$qY:null,$D6:0,get_$2Xe:function(){return this.$D6},$yx:null,get_Query:function(){return this.$yx},set_Query:function(n){return this.$yx=n,n},$Vn:null,get_CreateRecordActionProvider:function(){return this.$O0},set_CreateRecordActionProvider:function(n){return this.$O0=n,n},get_SetEntityReferenceActionProvider:function(){return this.$V8},set_SetEntityReferenceActionProvider:function(n){return this.$V8=n,n},get_BoundField:function(){return this.$Ek},set_BoundField:function(n){return this.$Ek=n,n},get_AttributeFieldNames:function(){return this.$4I},set_AttributeFieldNames:function(n){return n===this.$4I?n:(this.$4I=n,this.$7("AttributeFieldNames"),n)},get_IsSaving:function(){return this.$Ok},set_IsSaving:function(n){return this.$Ok!==n&&(this.$Ok=n,this.$7("IsSaving")),n},$z4:null,get_RetrieveProcessActionProvider:function(){return this.$z4},set_RetrieveProcessActionProvider:function(n){return this.$z4=n,n},add_PreNavigation:function(n){this.$1p("PreNavigation",n)},remove_PreNavigation:function(n){this.$32("PreNavigation",n)},$2Nt:function(n){return n},$1Rg:function(){return!1},$3AJ:function(){return!1},$3AK:function(){return!1},$3AL:function(){return!1},get_$2o5:function(){return!1},get_$2ni:function(){return this.$6i===1},$28T:function(){this.$wy()},$28U:function(n){var i,t;this.$2h||(i=n[0],i&&this.get_ModelContext().SetValue("processid",i),t=n[1],t&&(this.get_ModelContext().SetValue("stageid",t),this.get_ModelContext().SetValue("traversedpath",t.toString())),this.$wy())},$1De:function(n){var t=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(n,"InteractionCentricWorkflow");return t.$4b=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["workflowid"]),t.$KX=!0,t.set_$Ra(1),t.$4W=20,t},$2EZ:function(n){if($0.$0(this.$K.$8n)||$0.$0(this.$K.$8n.get_ModelContext())||$0.$0(this.$Ek))this.set_ModelContext(n);else if(!$0.$0(this.$V8)&&!$0.$0(this.$K.$8n.get_ModelContext().get_Id())){this.set_ModelContext(n);var t=this.$V8.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)}this.$9j("OnLoadModelCompleted")},$2Ea:function(){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"BPCForEntityFilterExpression"),t;n.$Bl("category","eq","4");n.$Bl("primaryentity","eq",i.$9p.toString());n.$Bl("statecode","eq","1");t="<fetch mapping='logical' version='1.0'>\r\n\t\t\t\t\t\t\t\t\t<entity name='workflow'>\r\n\t\t\t\t\t\t\t\t\t<attribute name='workflowid' />\r\n\t\t\t\t\t\t\t\t\t<attribute name='businessprocesstype' />\r\n\t\t\t\t\t\t\t\t\t<attribute name='createdon' />\r\n\t\t\t\t\t\t\t\t\t<order attribute='processorder' />"+n.$9V()+"<\/entity>\r\n\t\t\t\t\t\t\t\t<\/fetch>";this.$yx=t;this.$Vn=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(this.$yx)},$eB:function(){var n=this;Microsoft.Crm.Client.Core.Models.$c.$jn(this.$D,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(t){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.$D);i.$lJ?(n.$2Ea(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(n.$1De(n.$Vn),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1()),Microsoft.Crm.Client.Core.Framework.$q.$4t("","InteractionCentricForm")).then(function(i){if(i.get_count()>0){var r=n.$2DG(i);r&&t.SetValue("processid",new Microsoft.Crm.Client.Core.Framework.Guid(r),null,null)}n.$2EZ(t)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Multiple Failed for Business Process Control in Interaction Centric Create Form with error : {0}",n.$F)})):n.$2EZ(t)},null)},$2DG:function(n){var t=this.$2Wn(n);return this.$34W(t)},$34W:function(n){if(!n.length)return null;var t=this;return n.sort(function(n,t){var u=Number.parseInvariant(n.fields.processorder.toString()),f=Number.parseInvariant(t.fields.processorder.toString()),i,r;return u===f?(i=n.fields.createdon,r=t.fields.createdon,i===r)?0:i>r?1:-1:u>f?1:-1}),n[0].fields.workflowid.toString()},$2Wn:function(n){for(var i=[],t=0;t<n.get_count();t++)n.get_$R(t).fields.businessprocesstype&&n.get_$R(t).fields.businessprocesstype.get_$cW()!=="0"||i.push(n.get_$R(t));return i},$1tM:function(){var t,i,r,n;if(!$0.$0(this.$K.$M)&&"InitializationParameters"in this.$K.$M){if(t=this.$K.$M.InitializationParameters,"RelationshipAttribute"in t&&t.RelationshipAttribute.length>0){i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(this.$4I);for(var f=t.RelationshipAttribute,e=f.length,u=0;u<e;++u)r=f[u],$0.$0(r)||i.contains(r)||i.add(r);this.set_AttributeFieldNames(i.toArray())}n=this;Microsoft.Crm.Client.Core.Models.$c.$1If(this.$D,t,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(t){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.$D);i.$lJ?(n.$2Ea(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(n.$1De(n.$Vn),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1()),Microsoft.Crm.Client.Core.Framework.$q.$4t("","InteractionCentricForm")).then(function(i){if(i.get_count()>0){var r=n.$2DG(i);r&&t.SetValue("processid",new Microsoft.Crm.Client.Core.Framework.Guid(r),null,null)}n.set_ModelContext(t);n.$9j("OnLoadModelCompleted")},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Multiple Failed for Business Process Control in Interaction Centric Create Form with error : {0}",n.$F)})):(n.set_ModelContext(t),n.$9j("OnLoadModelCompleted"))},null)}else this.$eB()},$1Ig:function(n){switch(n){case 2:this.$1tM();break;default:this.$eB()}},$2Z:function(){if(this.$182=!0,this.$D6=0,this.$6i===1){if(!$0.$0(this.$4I))if($0.$0(this.$K.$M))this.$eB();else{var t=this.$K.$M.InitializeFrom,n=null;$0.$0(this.$K.$M.InitializationParameters)||(n=this.$K.$M.InitializationParameters,$0.$0(n.InitializeFrom)||(t=n.InitializeFrom));$0.$0(n)||$0.$0(n.BoundField)?$0.$0(this.$K.$M.BoundField)||(this.$Ek=this.$K.$M.BoundField):this.$Ek=n.BoundField;$0.$0(this.get_ModelContext())&&this.$1Ig(t,n)}Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$2Z.call(this)}else Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$2Z.call(this),this.add_$FD(this.$$d_$2u4)},$2u4:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),t;!$0.$0(n)&&n.$CW&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.forceRuleEvaluation(),this.remove_$FD(this.$$d_$2u4));$0.$0(this.get_ModelContext())||(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83(this.get_ModelContext()),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1FP().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83,t))},$1so:function(){Microsoft.Crm.Client.Core.ViewModels.$4L.isCreateFormViaUrl()?(this.$1P6="SaveAndClose",this.$D6=3):(this.$1P6="Save",this.$D6=1);this.$CO()},$2QZ:function(){this.$D6=3;this.$CO()},$2QY:function(n){this.$D6=6;this.$qY=n;this.$CO()},$CO:function(){var n,t;if(!Microsoft.Crm.Client.Core.Framework.$6.$4N&&!this.$Ok){if(!this.$BY){Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Form_Component_Error"));this.$Ok=!1;return}n=this.$4d("PreNavigation");n&&n(this,null);$0.$0(this.$z4)?this.$wy():(t=this.$z4.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t));this.set_IsSaving(!0)}},$wy:function(){if(!Microsoft.Crm.Client.Core.Framework.$6.$4N&&!$0.$0(this.$O0)){var n=this.$O0.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$2Cm:function(n){$0.$0(this.get_ModelContext())||$0.$0(this.get_ModelContext().get_Id())||this.get_ModelContext().get_Id()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()||Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$2Cm.call(this,n)},$27X:function(n,t){this.$182=!1;this.$1Hy(n,t)},$27U:function(n){this.set_IsSaving(!1);$0.$0(this.$qY)||this.$qY.resolve(!1);switch(n.$m){case-2147220685:this.$S8=!0;this.$CO();break;default:this.$MZ(n)}},$QG:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$12c(this.$1P);$0.$0(n)||n(this)},$Oh:function(){this.remove_$FD(this.$$d_$2u4);Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$Oh.call(this)},$1Hy:function(n,t){var r,i;if($0.$0(n)&&$0.$0(t)&&this.set_IsSaving(!1),r=null,$0.$0(n)||$0.$0(t)||(r=this.$4d("RecordSaved")),!$0.$0(t))switch(this.$D6){case 1:this.$QG();break;case 3:Microsoft.Crm.Client.Core.ViewModels.$4L.isCreateFormViaUrl()&&this.$1P6==="SaveAndClose"&&window.close();i=new Microsoft.Crm.Client.Core.Commands.$2R(this,40);i.$x={};i.$D=this.$D;i.$x.SourceId=t.get_$4m();i.$1XJ=!0;i.execute();i.dispose();break;case 6:$0.$0(this.$qY)||this.$qY.resolve(!0)}$0.$0(r)||r(new Microsoft.Crm.Client.Core.ViewModels.$Mc(n,t))},$28B:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object);return this.$6i===1&&!$0.$0(this.$182)&&!this.$182?(t.resolve(!0),t.promise()):Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$28B.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel=function(){this.$$d_$1I9=Function.createDelegate(this,this.$1I9);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.prototype={$1YZ:"CurrentSelectedTabName",$oP:null,get_CurrentSelectedTabName:function(){return this.$oP},set_CurrentSelectedTabName:function(n){return this.$oP=n,n},get_GetIsCurrentSelectedTabPropertyName:function(){return"IsCurrentSelectedTab"},$2Z:function(){var n,t,i,f,r,u,e,o;if(!this.$1a){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9);n=null;t=this.$H;for(i in t){f={key:i,value:t[i]};n=f.value;break}if(n){if(this.$oP=n.get_Name(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("AssociatedGridURLAddressability")&&!$0.$0(this.$2.$cy)){r=this.$H;for(u in r)if(e={key:u,value:r[u]},o=e.value,o.get_Name()===this.$2.$cy){this.$oP=this.$2.$cy;this.$2.$cy=null;break}}this.$7(this.$1YZ)}}},$Oh:function(){this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$1I9:function(n){this.$oP=n.$Si;this.$7(this.$1YZ)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel=function(){this.$F9=[];this.$E7=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.initializeBase(this);this.$ov=!0;this.$om=!0};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.$2rE=function(n){var u,t,e,v,y,i,r,b;if(n.lastButtonClicked==="add_id"){u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1HE();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10Y();var f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem)),k=n.records,c=Xrm.Page.getAttribute(k),l={};if(n.isInlineOrAssociateFormLookup){if(t=n.context,!$0.$0(t)){e=new Microsoft.Crm.Client.Core.ViewModels.$I(t,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AssociateRecordsForInteractionCentric",null));t.$MW=!1;for(var a=u,d=a.length,o=0;o<d;++o)v=a[o],y=v.get_ModelContext().get_$4m(),t.$FJ=y,$0.$0(t.$FJ)||$0.$0(e)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(e.$56())}}else{if(n.isMultiSelect&&(i=c.getValue(),!$0.$0(i)))for(r=0;r<i.length;r++)f.add(i[r]),$0.$0(i[r].id)||(l[i[r].id.toLowerCase()]=!0);for(var p=u,g=p.length,s=0;s<g;++s){var w=p[s],h=w.get_ModelContext().get_$4m(),nt="{"+h.get_$4m().toLowerCase()+"}";$0.$0(l[nt])&&(b=new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(h.get_$BZ(),h.get_$4m(),w.get_ModelContext().get_$MS().Name.toString()),f.add(b))}c.setValue(f.toArray())}}else Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10Y();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Je(!1)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.prototype={$1AZ:null,get_LookupForField:function(){return this.$1AZ},set_LookupForField:function(n){return this.$1AZ=n,n},$DP:!1,get_IsMultiSelect:function(){return this.$DP},set_IsMultiSelect:function(n){return this.$DP=n,n},get_InteractionCentricLookupMaxCount:function(){return 10},get_RecordsCountText:function(){return this.$1f.get_Count()<10?this.$1f.get_Count()===1?this.$1f.get_Count().toString()+" "+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dialog_ChangeParent_Type_Record"):this.$1f.get_Count().toString()+" "+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Tools.FormEditor.Dialogs.subgrid.aspx.RecordsLabel"):"10+ "+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Tools.FormEditor.Dialogs.subgrid.aspx.RecordsLabel")},get_MoreThanOneMatchText:function(){return this.get_$Aa().get_shouldAutoResolve()&&!this.$1k&&this.$F9.length>1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("LookupAmbiguousTooltip"):null},$1Ti:null,get_$Aa:function(){return this.$1Ti},set_$Aa:function(n){return this.$1Ti=n,n},$Ao:null,get_EntitiesMetadataViewModel:function(){return this.$Ao},set_EntitiesMetadataViewModel:function(n){return this.$Ao=n,n},$om:!1,get_HideLookupMoreRecords:function(){return this.$om},set_HideLookupMoreRecords:function(n){return this.$om=n,n},$yZ:!1,get_IsInlineOrAssociateFormLookup:function(){return this.$yZ},set_IsInlineOrAssociateFormLookup:function(n){return this.$yZ=n,n},$MB:!1,$Rd:null,get_$W:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W()},$W0:null,get_ParentLookupViewModel:function(){return this.$W0},set_ParentLookupViewModel:function(n){return this.$W0=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$A8.prototype.$2Z.call(this);this.$pd=!1;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10Y()},$1fr:function(n){var r,i,t;if(this.$E0==="single")this.$F9=n;else if(this.$E0==="multi"){if(this.$E7.add(this.$D),this.$F9.length)for(r=this.$F9.length,i=0;i<=n.length-1&&this.$F9.length<=this.get_PageSize();r++,i++)this.$F9[r]=n[i];else this.$F9=n;if(this.$Ao){if(this.$F9.length<this.get_PageSize())for(t=0;t<this.$Ao.$5n.get_Count();t++)if(!this.$E7.contains(this.$Ao.$5n.get_$R(t).get_$2I())){this.$Ao.set_SelectedItem(t.toString());break}}else this.$Ao||this.$E7.clear()}this.get_$Aa().get_shouldAutoResolve()&&!this.$1k&&this.$36d(this.$F9.length)},$36d:function(n){var t=this.get_$Aa(),i,r;t.$yc=!1;n===1?(t.$1L8(this.$F9[0]),t.$yc=!0):(i=n?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("LookupAmbiguousTooltip"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InlineEditControls.InlineLookup.NoRecords"),r=n?"Error_ISHLookupAutoResolve_MoreThanOneRecords":"Error_ISHLookupAutoResolve_ZeroRecords",t.$2UV(i,r));t.$p0=!0},AddUnresolvedEmail:function(){if(this.get_$Aa()&&this.get_$Aa().get_$CP()&&this.get_$Aa().$1ez(this.get_$Aa().get_$CP().trim())){var n=this.get_$Aa().get_$CP().trim(),i={addressused:n},r=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,i,{addressused:14},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));this.$2pM(this.get_$Aa().get_Data(),n)||(t.$4w.add("addressused"),this.get_$Aa().$2Kp(t))}},$2pM:function(n,t){for(var f,r,u=n.get_entities(),e=u.length,i=0;i<e;++i)if(f=u[i],r=f.getValue("addressused"),r&&r.toString()===t)return!0;return!1},$4L:function(n){if(n.$m===-2147220960&&this.$E0!=="single"&&this.$Ao){this.$E7.add(this.$D);for(var t=0;t<this.$Ao.$5n.get_Count();t++)if(!this.$E7.contains(this.$Ao.$5n.get_$R(t).get_$2I())){this.$Ao.set_SelectedItem(t.toString());return}this.$MB&&this.$7("NewItemDescriptorAndModel");this.set_IsLoading(!1);this.set_HasMoreRecords(!1);this.$MB=!1;this.$7("RecordCount")}else Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$4L.call(this,n)},$3d:function(n){var r,i,t;if($0.$0(this.$HT))this.$Rd=n;else{if(r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StopMarkerForLookupSearch",1,null),this.$E0!=="single"){this.$2qD(n);return}for(this.$2n.get_$CZ().$86(),this.$KK=0,i=n.get_$9o().$1mk(),t=0;t<i.length;t++)this.$KK<this.get_PageSize()?(this.$KK++,this.$1p0(i[t])):n.get_$9o().$Ai(i[t]);this.$MB&&this.$7("NewItemDescriptorAndModel");this.set_IsLoading(!1);this.set_HasMoreRecords(!n.get_$t4());this.$MB=!1;this.$7("RecordCount")}},openLookupDialog:function(){var u=new Xrm.DialogOptions,n,i,r,t;if(u.width=485,n={},n.isMultiSelect=this.$DP,n.records=this.$1AZ,n.disableQuickFind=this.get_$Aa().$cz,n.disableViewPicker=this.get_$Aa().$Vo,n.relationshipfiltercondition=this.get_$Aa().get_$1O1(),n.allowfilteroff=this.get_$Aa().$zm,n.filterreferencingattributename=this.get_$Aa().$rc,this.$E0==="single")n.optionset=this.$D,n.lookupStyle="single",n.selectedViewIds=this.get_$Aa().$W9,n.DefaultViewId=this.get_$Aa().$O7;else if(this.$E0==="multi"){for(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),t=0;t<this.$Ao.$5n.get_Count();t++)Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$Ao.$5n.get_$R(t).get_$2I(),1)&&(i.add(this.$Ao.$5n.get_$R(t).get_$2I()),r.add(this.$Ao.$5n.get_$R(t).get_$8z()));if(!i.get_Count()){Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(this.get_$5x().$20X(-2147220960),this.get_$5x().$4J(-2147220960));return}n.logicalNames=i;n.displayNames=r;n.lookupStyle="multi"}Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Je(!0);this.$yZ&&(n.context=this.$2,n.isMultiSelect=!0);n.isInlineOrAssociateFormLookup=this.$yZ;Xrm.Dialog.openDialog("Lookup",u,n,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.$2rE,null)},screenReaderTextForInteractionCentricLookupList:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricLookupListCount_ScreenReader_Label"),n)},$2qD:function(n){var i,t;for(this.$KK||this.$2n.get_$CZ().$86(),i=n.get_$9o().$1mk(),t=0;t<i.length;t++)this.$KK<this.get_PageSize()?(this.$KK++,this.$1p0(i[t])):n.get_$9o().$Ai(i[t]);this.$MB&&this.$7("NewItemDescriptorAndModel");(this.$E7.get_Count()===this.$Ao.$5n.get_Count()-1||this.$KK>=10)&&this.set_IsLoading(!1);this.set_HasMoreRecords(!n.get_$t4());this.$MB=!1;this.$7("RecordCount")},$1fm:function(){$0.$0(this.get_$Aa())||this.get_$Aa().get_shouldAutoResolve()?$0.$0(this.$Hm)||$0.$0(this.$D)?this.set_IsLoading(!1):(this.$E0==="multi"&&this.$E7&&(!this.$E7.get_Count()||this.$E7.get_Count()===this.$Ao.$5n.get_Count())&&(this.$E7.get_Count()===this.$Ao.$5n.get_Count()&&this.$E7.clear(),this.$F9.length=0,$0.$0(this.$2n)||this.$2n.get_$CZ().$86()),Microsoft.Crm.Client.Core.ViewModels.$A8.prototype.$1fm.call(this)):(this.$E0==="multi"&&this.$E7&&(!this.$E7.get_Count()||this.$E7.get_Count()===this.$Ao.$5n.get_Count())&&($0.$0(this.$Hm)||$0.$0(this.$D)||(this.$E7.get_Count()===this.$Ao.$5n.get_Count()&&this.$E7.clear(),this.$F9.length=0,$0.$0(this.$2n)||this.$2n.get_$CZ().$86())),Microsoft.Crm.Client.Core.ViewModels.$A8.prototype.$1fm.call(this))},$1hq:function(){this.get_CurrentItemIndex()>=0&&this.get_$Aa().$1L8(this.$F9[this.get_CurrentItemIndex()])},$2h5:function(n){this.$HT=n;this.set_ListItemViewDescriptor(Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(this.$HT));this.$MB=!0;$0.$0(this.$Rd)||(this.$3d(this.$Rd),this.$Rd.dispose(),this.$Rd=null)},$Oh:function(){$0.$0(this.get_$Aa())||this.set_$Aa(null);$0.$0(this.$Ao)||(this.$Ao.dispose(),this.$Ao=null);this.$W0=null;this.$E7=null;this.$F9=null;Microsoft.Crm.Client.Core.ViewModels.$A8.prototype.$Oh.call(this)},ShowNewButtonOnlyIfInteractionCentricEnabled:function(){var n,t;if(!$0.$0(this.$W0)&&!$0.$0(this.$W0.$8L)&&!$0.$0(this.$W0.$8L.$1g)){if(!$0.$0(this.get_$Aa())&&!$0.$0(this.get_$Aa().$yY)&&this.get_$Aa().$yY)return!1;if(n=this.$W0.$8L.$1g.$D,!$0.$0(n)&&(t=this.get_$W().$i(n),!$0.$0(t)))return t.$BW}return!0},IsVisibleInMobileClientOrICEnabled:function(){var t=this.$D,n=this.get_$W().$i(t);return $0.$0(n)?!1:n.$KJ||n.$BW},SetPageSizeAndHideMoreRecords:function(){this.$2.$g!==12&&this.$2.$g!==37&&this.IsVisibleInMobileClientOrICEnabled()?(this.set_PageSize(10),this.$om=!1):(this.set_PageSize(2147483647),this.$om=!0)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1V0=function(n){var i={partyid:n},r=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,i,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return t.$4w.add("partyid"),t};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1oW=function(n){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1V0(n)],!1,1,!1)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.prototype={$MT:!1,$1Q6:!1,$tK:!1,$8c:"multi",$t9:!0,get_$Gt:function(){var n,t;return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())&&this.$8c==="single"&&(n=this.get_Data(),!$0.$0(n)&&n.get_count()>0&&(t=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$fY(n.get_$R(0)),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(t)))?t:null},set_$Gt:function(n){return n!==this.get_$Gt()&&this.set_Data($0.$0(n)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty():Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1oW(n)),n},get_IsMultiSourceLookup:function(){return this.$t9},set_IsMultiSourceLookup:function(n){return this.$t9=n,n},get_NavigationEnabled:function(){return this.$MT},set_NavigationEnabled:function(n){return this.$MT=n,n},get_ShouldAutoResolveEmail:function(){return this.$1Q6},set_ShouldAutoResolveEmail:function(n){return this.$1Q6=n,n},get_LookupStyle:function(){return this.$8c},set_LookupStyle:function(n){return this.$8c=n,n},showOrHideResultsList:function(){Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2&&($0.$0(this.$Dm)||$0.$0(this.$BK)||(this.$Dm.$6l.get_Count()<=0?this.$Mz(!0):this.$Mz(!1)))},$1L8:function(n){this.$8c==="multi"?($0.$0(n)||this.$Dm.$1pA(n),this.get_interactionCentricLookupAutoResolve()||this.$Mz(!1)):Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.$1L8.call(this,n);this.get_interactionCentricLookupAutoResolve()&&(this.$1X6(),this.clearError(),this.get_shouldAutoResolve()&&this.$BK.get_RecordCount()===1&&(this.$Mz(!1),this.set_HasFocus(!1)))},$Mz:function(n){(Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2||this.get_shouldAutoResolve()&&Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===3)&&($0.$0(this.$Dm)||$0.$0(this.$BK)||(this.$Dm.set_HidePartyList(n),this.$BK.set_HideLookupResultsList(!n)))},updateInputValue:function(){this.get_interactionCentricLookupAutoResolve()&&!$0.$0(this.$5I)&&this.$5I.set_Value(this.$p5);this.$8c==="single"&&Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.updateInputValue.call(this)},$1hG:function(n,t){this.$8c==="multi"?(this.$BK.set_SearchValue($0.$0(this.get_$CP())?"":this.get_$CP()),this.$Mz(!0)):Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1hG.call(this,n,t)},$1gv:function(n,t){this.$8c==="single"&&Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1gv.call(this,n,t)},$P2:function(n,t){this.$8c==="multi"?this.$16Q():Microsoft.Crm.Client.Core.ViewModels.$D2.prototype.$P2.call(this,n,t);this.$tK&&this.$Mz(!0);this.$tK=!0},$28E:function(n){this.$MW=!0;$0.$0(this.get_ModelContext())?this.$1L8(n.$AK):(this.get_ModelContext().$1Pv(),this.$1L8(n.$AK),this.get_ModelContext().$1O4());this.$MW=!1;this.$1D5()},$2Mt:function(n){Microsoft.Crm.Client.Core.ViewModels.$D2.prototype.buildChildViewModelDescriptors.call(this,n)},buildChildViewModelDescriptors:function(n){var t,i;this.$DP=this.$8c==="single"?!1:!0;Microsoft.Crm.Client.Core.ViewModels.$D2.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$0(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i={input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0)],t)};this.$8c==="multi"&&(i.partylist=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("InteractionCentricPartyListViewModel","InteractionCentricPartyList","partyList",this.$Fi,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("NavigationEnabled",this.$MT)],null,null));this.$jD(i)},$2Kp:function(n){this.$8c==="multi"&&($0.$0(n)||this.$Dm.$2Ko(n),this.$1X6(),this.$Mz(!1))},$1hE:function(n,t){this.get_HasFocus()||this.$8c!=="multi"?this.$8c==="single"&&Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.$1hE.call(this,n,t):this.$1Q6&&!$0.$0(this.$BT)&&this.$BK.AddUnresolvedEmail()},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$D2.prototype.$CK.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.isInstanceOfType(t)&&(this.$Dm=t,this.$Dm.$Uc=this)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$KZ)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.prototype={$Uc:null,$Oh:function(){this.RemovePropertyChangedListener("Data",this.$$d_$KZ);this.$Uc=null;Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.prototype.$Oh.call(this)},$2w7:function(n){if(n.$Sv){var t=new Microsoft.Crm.Client.Core.Commands.$2R(n,40);t.$x={EntityReference:n.$R8};t.$18=null;t.$D=n.$R8.get_$BZ();t.execute();t.dispose()}}};Microsoft.Crm.Client.Core.ViewModels.$SS=function(){Microsoft.Crm.Client.Core.ViewModels.$SS.initializeBase(this);this.set_StartIndex(1e3)};Microsoft.Crm.Client.Core.ViewModels.$SS.prototype={$7q:null,get_DataList:function(){return this.$7q},set_DataList:function(n){return this.$7q=n,n},$Dx:null,get_Data:function(){return this.$Dx},set_Data:function(n){return this.$Dx=n,n},$cw:null,get_DataNames:function(){return this.$cw},set_DataNames:function(n){return this.$cw=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$7q={},this.$cw={},this.set_ItemIDs(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))),this.$dB=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.getData())},$dB:null,get_ItemNames:function(){return this.$dB},set_ItemNames:function(n){return this.$dB=n,n},$20t:function(){return null},$2gv:function(){return null},$1Tb:null,get_ItemIDs:function(){return this.$1Tb},set_ItemIDs:function(n){return this.$1Tb=n,n},$1Pt:function(){var s=this.$Dx,r,f,n,e,t,i,o;for(r in s){var h={key:r,value:s[r]},u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),c=h.value;for(f in c)n={key:f,value:c[f]},e=this.$7q[n.key],($0.$0(e)||$0.$0(e.$1g))&&(this.$7q[n.key]=n.value,t=!1,Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n.value)?(i=n.value,!$0.$0(i.$M)&&"MetadataSubType"in i.$M?(o=i.$M.MetadataSubType,t=!$0.$0(o)&&o!==3):t=!0):t=!0,t&&(this.get_ItemIDs().add(this.$2gv(n.value)),this.$dB.add(this.$20t(n.value)),u.add(this.$20t(n.value))));u.get_Count()>0&&(this.$cw[h.key]=u)}},$Fb:null,get_SelectedItemID:function(){return this.$Fb},set_SelectedItemID:function(n){return this.$Fb=n,n},$iH:null,get_ChildSelectedItemID:function(){return this.$iH},set_ChildSelectedItemID:function(n){return this.$iH=n,n},SelectedItemName:function(){return null},getData:function(){},ItemSelected:function(){},add_$15d:function(n){this.$1p("OnItemSelected",n)},remove_$15d:function(n){this.$32("OnItemSelected",n)},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)},$Oh:function(){var f=this.$7q,n,t,i,r,e,u;for(n in f)t={key:n,value:f[n]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(t.value)&&t.value.dispose();if(this.$7q=null,!$0.$0(this.$cw)){i=this.$cw;for(r in i)e={key:r,value:i[r]},u=e.value,u.clear(),u=null;this.$cw=null}$0.$0(this.get_ItemIDs())||(this.get_ItemIDs().clear(),this.set_ItemIDs(null));$0.$0(this.$dB)||(this.$dB.clear(),this.$dB=null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$D5=function(){Microsoft.Crm.Client.Core.ViewModels.$D5.initializeBase(this);this.$oQ="InteractionWallDateRangeFilter"};Microsoft.Crm.Client.Core.ViewModels.$D5.prototype={$9G:null,get_ParentViewModel:function(){return this.$9G},set_ParentViewModel:function(n){return this.$9G=n,n},$Oh:function(){this.$9G=null;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$C2.prototype.SetDates.call(this,n,t);this.$374();this.$9G.$2D="DateRangeFilterApplied";this.$9G.refreshData();this.$9G.$2D=""},$2jl:function(){var n={};return this.$Vw?n.IsStartDateNull="true":(n.StartDate=this.$bs.toUTCString(),n.StartDateString=this.get_StartDateText()),this.$Vu?n.IsEndDateNull="true":(n.EndDate=this.$YC.toUTCString(),n.EndDateString=this.get_EndDateText()),n},$374:function(){var t=this.$2jl(),n;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("InteractionWallDateRangeApplied",0,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetFilterExpression",2002,t,"DateRangeFilterApplied");n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"InteractionWall.DateRangeFilterExpression");this.$Vw||this.$Vu||n.$Bl("modifiedon","on-or-after",this.$bs.format("s")).$Bl("modifiedon","on-or-before",this.$YC.format("s"));this.$9G.$SQ=n}};Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.prototype={$11Y:null,get_EntityLogicalName:function(){return this.$11Y},get_EntityDisplayName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$6d.$9F).$1q},get_$326:function(){return this.$6d.$W7},get_$394:function(){return this.$6d.$pS},$yD:null,get_EntityId:function(){return this.$yD},set_EntityId:function(n){return this.$yD=n,n},get_ActivityType:function(){return this.$6d.$JS},get_State:function(){return this.$6d.$Sf},get_Priority:function(){return this.$6d.$iw},get_ResultDirection:function(){return this.$6d.$pM},get_Subject:function(){return this.$6d.$4O},get_CreatedBy:function(){return this.$6d.$oL},get_Description:function(){return this.$6d.$NP},$Vr:null,get_ImageViewModel:function(){return this.$Vr},set_ImageViewModel:function(n){return this.$Vr=n,n},get_TimeStamp:function(){var n=this.$6d.$Sk,i=n.localeFormat("d")+" "+n.localeFormat("T"),r=Microsoft.Crm.Client.Core.Framework.$1I.get_$1ge(),u=new Microsoft.Crm.Client.Core.Framework.$1I(n.getFullYear(),n.getMonth(),n.getDate()),f=new Microsoft.Crm.Client.Core.Framework.$Ky(u,r),t=f.get_$39s();return t<=1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("LabelForToday"):t>1&&t<=2?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("LabelForYesterday"):i},get_StartDate:function(){var n=this.$6d.$1BI,t=null;return n&&(t=n.localeFormat("d")+" "+n.localeFormat("t")),t},get_EndDate:function(){var n=this.$6d.$19n,t=null;return n&&(t=n.localeFormat("d")+" "+n.localeFormat("t")),t},get_AttachedFiles:function(){return this.$6d.$19P},get_IsInteractionCentricEnabled:function(){return this.$6d.$d7},get_TargetEntityString:function(){return this.$6d.$1oR},get_TargetEntityLogicalName:function(){return this.$6d.$1oQ},get_IsTargetEntityInteractionCentricEnabled:function(){return this.$6d.$1oI},get_StringPartWallForPost:function(){return this.$6d.$1Ts},$6d:null,get_ResultItem:function(){return this.$6d},set_ResultItem:function(n){return this.$6d=n,n},$9G:null,get_ParentViewModel:function(){return this.$9G},set_ParentViewModel:function(n){return this.$9G=n,n},$DQ:null,get_QuickActionViewModel:function(){return this.$DQ},set_QuickActionViewModel:function(n){return this.$DQ=n,n},$2D:null,$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this);this.$Vr=new Microsoft.Crm.Client.Core.ViewModels.$Cv;this.$6d.$d5?this.$Vr.set_Data(this.$6d.$d5):this.$Vr.set_Data("/_imgs/NavBar/EmptyUserImage.png");var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QuickActionViewModel","QuickActionInteractionWall","QuickActionInteractionWall"+this.$6d.$W7,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TargetViewModelContext",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Entity",this.$6d.$9F),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context","grid"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context",this.$6d.$9F==="email"?"form":"grid")],null,null);this.$DQ=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2);this.$DQ.$2KH(this.$6d.$W7,this.$6d.$9F)},$Oh:function(){$0.$0(this.$Vr)||(this.$Vr.dispose(),this.$Vr=null);$0.$0(this.$DQ)||(this.$DQ.dispose(),this.$DQ=null);this.$9G=null;this.$6d=null;Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)},navigateToUserRecord:function(){this.$2D="SystemUserNavigation";this.$1Lc("systemuser",this.$6d.$p8);this.$2D=""},navigateToTargetEntityItemRecord:function(n,t){(this.$2D="SystemPostLinkedEntityNavigation",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToTargetEntityItemRecord",2003,{RecordObjectTypeCode:n,EntityId:n},this.$2D),this.$371(n),this.$yD=t,Microsoft.Crm.Client.Core.Framework.$3.$9(this.$11Y))||(this.$1Lc(this.$11Y,new Microsoft.Crm.Client.Core.Framework.Guid(this.$yD)),this.$2D="")},navigateToItemRecord:function(){this.$2D="RecordNavigation";Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToItemRecord",2003,{RecordObjectTypeCode:Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.toString(this.$6d.$JS),EntityId:this.$6d.$W7},this.$2D);var n=this.getEntityLogicalName();Microsoft.Crm.Client.Core.Framework.$3.$9(n)||(this.$1Lc(n,this.$6d.$W7),this.$2D="")},screenReaderTextForInteractionWallItem:function(n,t,i){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionWallItem_ScreenReader_Label"),n,t,i)},getEntityLogicalName:function(){switch(this.$6d.$JS){case 0:case 1:case 2:case 3:case 5:case 8:case 9:case 6:case 10:case 11:return this.$6d.$9F;default:return""}},$1Lc:function(n,t){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToTargetEntityItemRecord",2003,{RecordLogicalName:n,EntityId:t.toString()},this.$2D);var r=new Xrm.Objects.EntityReference(n,t),u={EntityReference:r},i=new Microsoft.Crm.Client.Core.Commands.$2R(null,40);try{i.$D=n;i.$x=u;i.execute();this.$9G.$d8=!0}finally{i.dispose()}},IsEntityInteractionCentricEnabled:function(n){return this.$20q().contains(n)},$20q:function(){for(var t,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=0;n<i.length;n++)t=i[n],t.$BW&&r.add(t.$9p.toString());return r},$371:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(n);this.$11Y=t.$y},getResultId:function(){return this.$6d.$W7.toString()}};Microsoft.Crm.Client.Core.ViewModels.$HL=function(){this.$17X=0};Microsoft.Crm.Client.Core.ViewModels.$HL.prototype={$17X:0,get_$1f7:function(){return this.$17X>0},$195:function(){this.$17X++},$2FW:function(){this.get_$1f7()&&this.$17X--}};Microsoft.Crm.Client.Core.ViewModels.$SJ=function(){Microsoft.Crm.Client.Core.ViewModels.$SJ.resolveInheritance();this.$5E=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$SJ.initializeBase(this);this.$es=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$SJ.prototype={$Gw:null,$es:null,$1Og:function(n,t,i,r,u,f,e){var s,c,h,o,l;return this.$Gw=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$8B,Microsoft.Crm.Client.Core.Framework.$7),s=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"activitypointer"),Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(c=["subject","description"],s=Microsoft.Crm.Client.Core.ViewModels.$5R.$1tn("activitypointer",c,u.replace("*","%"))),h=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"activitypointer"),h.$Bl("activitytypecode","in",this.$2go()),o=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"activitypointer"),o.$9Z(h),o.$9Z(Microsoft.Crm.Client.Core.ViewModels.$5R.$1tj("activitypointer",0,"regardingobjectid",t)),o.$9Z(s),o.$9Z(f),this.set_DefinitionId(this.get_ViewModelId()),this.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v('<fetch mapping="logical"><entity name="activitypointer"><attribute name="activityid" /><attribute name="activitytypecode" /><attribute name="subject" /><attribute name="prioritycode" /><attribute name="description" /><attribute name="scheduledstart" /><attribute name="scheduledend" /><attribute name="createdby" /><attribute name="modifiedby" /><attribute name="modifiedon" /><attribute name="statecode" /><attribute name="statuscode" /><order attribute="modifiedon" descending="true" />'+o.$9V()+'<link-entity name="phonecall" from="activityid" to="activityid" alias="phonecalljoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><link-entity name="socialactivity" from="activityid" to="activityid" alias="socialactivityjoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><link-entity name="email" from="activityid" to="activityid" alias="emailjoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><\/entity><\/fetch>'),this.$1Z.$Ea(),this.$1Z.$4W=i,this.$1Z.$9S=r,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveData",2004,{FetchXml:this.$2O.$5M.get_$R(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$g.toString(1)).Data,PageSize:i,PageNumber:r},"DataLoad"),!$0.$0(e)&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(e)&&this.set_$GO(e),l=this.$es.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(l),this.$Gw},$3d:function(n){var s,r,i,l,o;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("LoadDataSuccess",2004,{ModelCount:n.get_$9o().get_Count()},"DataLoad");s=n.get_$9o().$1mk();r=new Microsoft.Crm.Client.Core.ViewModels.$8B;for(var h=s,a=h.length,e=0;e<a;++e){i=h[e];Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("LoadDataSuccess",2004,i.$I.getObjectData(),"DataLoad");var v=i.GetValue("activityid"),c=i.GetValue("description"),u=-1,f=-1,t=new Microsoft.Crm.Client.Core.ViewModels.$HK(v);t.$9F=i.$I.$2A.LogicalName;t.$4O=i.GetValue("subject");t.$NP=Microsoft.Crm.Client.Core.Framework.$3.$9(c)?"":c;switch(t.$9F.toLowerCase()){case"appointment":t.$JS=2;f=i.GetValue("prioritycode").$1s;t.$1BI=Microsoft.Crm.Client.Core.Framework.$3.$9(i.GetValue("scheduledstart"))?new Date:Microsoft.Crm.Client.Core.ViewModels.$1c.$1Mk(i.$I.$6M.scheduledstart);t.$19n=Microsoft.Crm.Client.Core.Framework.$3.$9(i.GetValue("scheduledend"))?new Date:Microsoft.Crm.Client.Core.ViewModels.$1c.$1Mk(i.$I.$6M.scheduledend);break;case"email":t.$JS=1;f=i.GetValue("prioritycode").$1s;u=i.GetValue("emailjoin.directioncode").$1s;t.$pS=i.GetValue("statuscode").$1s.toString();break;case"phonecall":t.$JS=3;u=i.GetValue("phonecalljoin.directioncode").$1s;break;case"socialactivity":t.$JS=8;u=i.GetValue("socialactivityjoin.directioncode").$1s;break;case"task":t.$JS=0;f=i.GetValue("prioritycode").$1s;break;case"incidentresolution":t.$JS=4;break;default:t.$JS=9}l=i.GetValue("statecode").$1s;switch(l){case 0:t.$Sf=0;break;case 1:t.$Sf=1;break;case 2:t.$Sf=2;break;case 3:t.$Sf=3;break;default:t.$Sf=1}switch(u){case 0:t.$pM=0;break;case 1:t.$pM=1;break;default:t.$pM=0}switch(f){case 0:t.$iw=2;break;case 1:t.$iw=1;break;case 2:t.$iw=0;break;default:t.$iw=1}t.$Sk=Microsoft.Crm.Client.Core.ViewModels.$1c.$1Mk(i.$I.$6M.modifiedon);t.$oL=i.GetValue("createdby").Name;o=i.GetValue("modifiedby");t.$1Ae=o.Name;t.$p8=o.Id;try{t.$d7=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(i.$I.$Qx().activitytypecode).$BW?!0:!1}catch(y){t.$d7=!1}r.$g0(t)}r.$Pt=!n.get_$t4();this.$Gw.resolve(r)},$4L:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("LoadDataFailure",2004,{Error:n.$20()},"DataLoad");this.$Gw.reject(n)},$2go:function(){for(var n,r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy(),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number)),i=0;i<r.length;i++)n=r[i],n.$BW&&n.get_$7g()&&t.add(n.$9p);return t.add(4206),t}};Microsoft.Crm.Client.Core.ViewModels.$5R=function(){};Microsoft.Crm.Client.Core.ViewModels.$5R.$1tn=function(n,t,i){var r=null,e;r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,n);for(var f=t,o=f.length,u=0;u<o;++u)e=f[u],r.$Bl(e.toString(),"like","%"+i+"%");return r};Microsoft.Crm.Client.Core.ViewModels.$5R.$1tj=function(n,t,i,r){var u=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(t,n);return u.$Bl(i,"eq",r),u};Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile.prototype={$d2:null,get_fileName:function(){return this.$d2},set_fileName:function(n){return this.$d2=n,n},$19t:null,get_filePath:function(){return this.$19t},set_filePath:function(n){return this.$19t=n,n},$Pn:0,get_fileSize:function(){return this.$Pn},set_fileSize:function(n){return this.$Pn=n,n},get_fileSizeFormattedString:function(){var n,t;return this.$Pn<1024?this.$Pn.toString()+" bytes":(n=Math.round(this.$Pn/1024),n<1024)?n.toString()+" KB":(t=Math.round(n/1024),t.toString()+" MB")}};Microsoft.Crm.Client.Core.ViewModels.$HK=function(n){this.$19P=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile));this.$W7=n};Microsoft.Crm.Client.Core.ViewModels.$HK.prototype={$W7:null,$JS:0,$Sf:0,$pS:null,$iw:0,$pM:0,$4O:null,$NP:null,$Sk:null,$oL:null,$d5:null,$1Ae:null,$1BI:null,$19n:null,$p8:null,$19P:null,$9F:null,$d7:!1,$1oR:null,$1Ts:null,$1oQ:null,$1oI:!1,toString:function(){var n="";return n+="ResultId:"+this.$W7.toString()+";",n+="ResultType:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.toString(this.$JS)+";",n+="ResultState:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.toString(this.$Sf)+";",n+="ResultPriority:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.toString(this.$iw)+";",n+="ResultDirection:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.toString(this.$pM)+";",n+="Title:"+this.$4O+";",n+="TimeStamp:"+this.$Sk.toUTCString()+";",n+="CreatedBy:"+this.$oL+";",n+="ModifiedBy:"+this.$1Ae+";",$0.$0(this.$p8)||(n+="ModifiedById:"+this.$p8.toString()+";"),n+="EntityLogicalName:"+this.$9F+";",n+("IsInteractionCentricEnabled:"+this.$d7.toString())}};Microsoft.Crm.Client.Core.ViewModels.$8B=function(){this.$bA=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$HK))};Microsoft.Crm.Client.Core.ViewModels.$8B.prototype={$bA:null,get_$s:function(){return this.$bA.get_Count()},$Pt:!1,get_$R:function(n){return this.$bA.get_$R(n)},set_$R:function(n,t){return this.$bA.set_$R(n,t),t},$g0:function(n){for(var t=0;this.get_$s()>0&&this.$bA.get_$R(t).$Sk>n.$Sk;)if(t++,t===this.$bA.get_Count())break;this.$bA.insert(t,n)},$2mu:function(n){for(var t=0;t<n.get_$s();t++)this.$g0(n.get_$R(t))},$86:function(){this.$bA.clear()}};Microsoft.Crm.Client.Core.ViewModels.$2q=function(){};Microsoft.Crm.Client.Core.ViewModels.$2q.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$2q.$16h={};Microsoft.Crm.Client.Core.ViewModels.$2q.$2zt()};Microsoft.Crm.Client.Core.ViewModels.$2q.$2zt=function(){Microsoft.Crm.Client.Core.ViewModels.$2q.$1jJ("InteractionWallSource_Note",function(){return new Microsoft.Crm.Client.Core.ViewModels.$SL});Microsoft.Crm.Client.Core.ViewModels.$2q.$1jJ("InteractionWallSource_Post",function(){return new Microsoft.Crm.Client.Core.ViewModels.$29});Microsoft.Crm.Client.Core.ViewModels.$2q.$1jJ("InteractionWallSource_Activity",function(){return new Microsoft.Crm.Client.Core.ViewModels.$SJ})};Microsoft.Crm.Client.Core.ViewModels.$2q.$1jJ=function(n,t){n in Microsoft.Crm.Client.Core.ViewModels.$2q.$16h||(Microsoft.Crm.Client.Core.ViewModels.$2q.$16h[n]=t)};Microsoft.Crm.Client.Core.ViewModels.$2q.$33G=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$2q.$16h[n];return t()};Microsoft.Crm.Client.Core.ViewModels.$SL=function(){Microsoft.Crm.Client.Core.ViewModels.$SL.resolveInheritance();this.$5E=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$SL.initializeBase(this);this.$es=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$SL.prototype={$Gw:null,$es:null,$1Og:function(n,t,i,r,u,f,e){var s,h,o,c;return this.$Gw=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$8B,Microsoft.Crm.Client.Core.Framework.$7),s=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"activitypointer"),Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(h=["subject","notetext"],s=Microsoft.Crm.Client.Core.ViewModels.$5R.$1tn("annotation",h,u.replace("*","%"))),o=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"annotation"),o.$9Z(Microsoft.Crm.Client.Core.ViewModels.$5R.$1tj("annotation",0,"objectid",t)),o.$9Z(s),o.$9Z(f),this.set_DefinitionId(this.get_ViewModelId()),this.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v('<fetch mapping="logical"><entity name="annotation"><attribute name="annotationid" /><attribute name="subject" /><attribute name="notetext" /><attribute name="filename" /><attribute name="filesize" /><attribute name="isdocument" /><attribute name="createdby" /><attribute name="modifiedby" /><attribute name="modifiedon" /><order attribute="modifiedon" descending="true" /><link-entity name="systemuser" from="systemuserid" to="createdby" alias="userimagejoin"><attribute name="entityimage_url" /><\/link-entity>'+o.$9V()+"<\/entity><\/fetch>"),this.$1Z.$Ea(),this.$1Z.$4W=i,this.$1Z.$9S=r,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveData",2005,{FetchXml:this.$2O.$5M.get_$R(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$g.toString(1)).Data,PageSize:i,PageNumber:r},"DataLoad"),!$0.$0(e)&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(e)&&this.set_$GO(e),c=this.$es.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(c),this.$Gw},$3d:function(n){var h,u,i,t,s,r;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("LoadDataSuccess",2005,{ModelCount:n.get_$9o().get_Count()},"DataLoad");h=n.get_$9o().$1mk();u=new Microsoft.Crm.Client.Core.ViewModels.$8B;for(var c=h,a=c.length,f=0;f<a;++f){i=c[f];Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("LoadDataSuccess",2005,i.$I.getObjectData(),"DataLoad");var l=i.GetValue("annotationid"),e=i.GetValue("subject"),o=i.GetValue("notetext");Microsoft.Crm.Client.Core.Framework.$3.$9(e)&&(e=o,o="");t=new Microsoft.Crm.Client.Core.ViewModels.$HK(l);t.$9F=i.$I.$2A.LogicalName;t.$JS=5;t.$Sf=1;t.$4O=e;t.$NP=o;t.$Sk=Microsoft.Crm.Client.Core.ViewModels.$1c.$1Mk(i.$I.$6M.modifiedon);t.$oL=i.GetValue("createdby").Name;t.$d5=i.GetValue("userimagejoin.entityimage_url");s=i.GetValue("modifiedby");t.$1Ae=s.Name;t.$p8=s.Id;t.$d7=!1;i.GetValue("isdocument").$1s===1&&(r=new Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile,r.$d2=i.GetValue("filename"),r.$Pn=Number.parseLocale(i.GetValue("filesize")),r.$19t="javascript:window.open('"+(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.usepathbasedurls?"/"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$gq():"")+"/nga/engagementhubdownload.aspx?AttachmentType=5&IsNotesTabAttachment=1&AttachmentId="+l+"');void(0);",t.$19P.add(r));u.$g0(t)}u.$Pt=!n.get_$t4();this.$Gw.resolve(u)},$4L:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("LoadDataFailure",2005,{Error:n.$20()},"DataLoad");this.$Gw.reject(n)}};Microsoft.Crm.Client.Core.ViewModels.$29=function(){Microsoft.Crm.Client.Core.ViewModels.$29.resolveInheritance();this.$5E=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$29.initializeBase(this);this.$es=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$29.prototype={$Kn:null,$Gw:null,$es:null,$2WA:function(n,t,i){var r=n.get_$5N();r.get_Items()[0].get_$1m()?(t.val=new Date(r.get_Items()[0].get_$1m().get_Items()[0].get_$29().toString()),i.val=new Date(r.get_Items()[0].get_$1m().get_Items()[1].get_$29().toString())):(t.val=new Date("0001-01-01T00:00:00Z"),i.val=new Date("3000-12-31T23:59:59Z"))},$1Og:function(n,t,i,r,u,f){var e,o,v,a;this.$Gw=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$8B,Microsoft.Crm.Client.Core.Framework.$7);this.$Kn=u;var s,h,c,l;return this.$2WA(f,c={val:s},l={val:h}),s=c.val,h=l.val,e={},e["entityReference"]=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),e["pageSize"]=i,e["pageNumber"]=r,e["commentsPerPost"]=2,e["startDate"]=s,e["endDate"]=h,e["type"]=1,e["source"]=1,$0.$0(Microsoft.Crm.Client.Core.ViewModels.$29.$lA)&&(Microsoft.Crm.Client.Core.ViewModels.$29.$lA={}),Microsoft.Crm.Client.Core.ViewModels.$29.$fr.toString()in Microsoft.Crm.Client.Core.ViewModels.$29.$lA||(Microsoft.Crm.Client.Core.ViewModels.$29.$lA[Microsoft.Crm.Client.Core.ViewModels.$29.$fr.toString()]=this,Microsoft.Crm.Client.Core.ViewModels.$29.$fr++),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveData",2006,e,"DataLoad"),o=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveRecordWallRequest",e),v=this,o.OnSuccess=function(n){Microsoft.Crm.Client.Core.ViewModels.$29.$fr--;Microsoft.Crm.Client.Core.ViewModels.$29.$fr<0;Microsoft.Crm.Client.Core.ViewModels.$29.$lA[Microsoft.Crm.Client.Core.ViewModels.$29.$fr.toString()].$DI(n);delete Microsoft.Crm.Client.Core.ViewModels.$29.$lA[Microsoft.Crm.Client.Core.ViewModels.$29.$fr.toString()]},a=this,o.OnFailure=function(n){a.$7S(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,o),this.$Gw},$DI:function(n){var u,i;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveSuccess",2006,{ModelCount:n.entityCollection.get_count()},"DataLoad");for(var e=new Microsoft.Crm.Client.Core.ViewModels.$8B,o=!0,l=n.entityCollection,a=l.get_entities(),s=a,v=s.length,r=0;r<v;++r)if(u=s[r],Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("LoadDataSuccess",2005,u.getObjectData(),"DataLoad"),i=u.fields,"text"in i){var h=i.text,f=i.regardingobjectid,y=f.Id,t=new Microsoft.Crm.Client.Core.ViewModels.$HK(y);t.$9F=Xrm.Internal.getEntityName(i.regardingobjectid.TypeCode);t.$4O=f.Name;t.$NP=h;t.$1Ts=Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_InteractionWallEvent_OnWallPost"),"`~<"+t.$4O+">~`");t.$Sk=new Date(Date.parse(i.modifiedon));t.$oL=i.createdby.Name;t.$d5=i["userimagejoin.entityimage_url"];t.$JS=i.source.$1s===1?6:7;t.$Sf=1;o=this.$t0(f.TypeCode.toString());t.$d7=o;var p=this.$2wg(h),w=Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_InteractionWallEvent_OnWallPost"),t.$4O),c=!0;this.$Kn&&(c=t.$4O.toLowerCase().indexOf(this.$Kn.toLowerCase())!==-1||p.toLowerCase().indexOf(this.$Kn.toLowerCase())!==-1||w.toLowerCase().indexOf(this.$Kn.toLowerCase())!==-1);c&&e.$g0(t)}this.$Gw.resolve(e)},$2wg:function(n){var t,r,i,c,l;if(!n)return null;t="`~<";r=">~`";n=n.replace(new RegExp("\\@\\[","g"),t).replace(new RegExp("\\]","g"),r);for(var u=n.split(new RegExp(t+"|"+r)),s=!1,f=0,e=0,h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),o="";!s;)f=n.indexOf(t),e=n.indexOf(r),f!==-1&&e!==-1?(h.add(n.substr(f+t.length,e-f-t.length)),n=n.substr(e+r.length)):s=!0;for(i=0;i<u.length;i++)h.indexOf(u[i])>-1?(c=u[i].split(new RegExp(",")),l=c[2].replace(new RegExp('"',"g"),""),o+=l):o+=u[i];return o},$7S:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("RetrieveFailure",2006,{Error:n.$20()},"DataLoad");this.$Gw.reject(n)},$t0:function(n){var t=this.$20q();return t.contains(n)},$20q:function(){for(var t,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=0;n<i.length;n++)t=i[n],t.$BW&&r.add(t.$9p.toString());return r},$4L:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("LoadDataFailure",2006,{Error:n.$20()},"DataLoad");this.$Gw.reject(n)}};Microsoft.Crm.Client.Core.ViewModels.$74=function(){this.$$d_$1kX=Function.createDelegate(this,this.$1kX);Microsoft.Crm.Client.Core.ViewModels.$74.initializeBase(this);this.$NV=null};Microsoft.Crm.Client.Core.ViewModels.$74.prototype={$XZ:0,$4W:0,$MK:!1,$Kq:null,$jB:null,$5f:null,$NV:null,get_InteractionWallEventViewModels:function(){return this.$NV},set_InteractionWallEventViewModels:function(n){return this.$NV=n,n},$Q2:null,get_ResultCollection:function(){return this.$Q2},set_ResultCollection:function(n){return this.$Q2=n,n},$y3:null,get_customerName:function(){return this.$y3},set_customerName:function(n){return this.$y3=n,n},$y4:null,get_customerType:function(){return this.$y4},set_customerType:function(n){return this.$y4=n,n},$y2:null,get_customerId:function(){return this.$y2},set_customerId:function(n){return this.$y2=n,n},$2D:null,$zJ:null,get_SourceList:function(){return this.$zJ},set_SourceList:function(n){return this.$zJ=n,n},get_ActiveSource:function(){return this.$jB},set_ActiveSource:function(n){var t=!0;return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$2D)&&(t=!1,this.$2D="SourceFilterPerformed"),this.$jB=n,this.$XZ=0,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetActiveSource",2002,{ActiveSource:n},this.$2D),this.refreshData(),t||(this.$2D=""),n},$5V:null,get_RegardingObject:function(){return this.$5V},set_RegardingObject:function(n){return this.$5V=n,n},$Pt:!1,get_MoreRecords:function(){return this.$Pt},set_MoreRecords:function(n){return this.$Pt=n,n},get_SearchActive:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5f)},$SQ:null,get_FilteredDateExpression:function(){return this.$SQ},set_FilteredDateExpression:function(n){return this.$SQ=n,n},$cx:null,get_DateRangeViewModel:function(){return this.$cx},set_DateRangeViewModel:function(n){return this.$cx=n,n},$iX:!1,get_IsDataLoading:function(){return this.$iX},set_IsDataLoading:function(n){return this.$iX=n,n},$d8:!1,get_IsNavigated:function(){return this.$d8},set_IsNavigated:function(n){return this.$d8=n,n},get_AllText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_InteractionWall_AllText")},SetSearchText:function(n,t){this.$2D="SearchPerformed";this.$5f=n;t&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("InteractionWallSearchText",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetSearchText",2002,{text:n},this.$2D),this.$XZ=0,this.refreshData());this.$2D=""},loadMoreResults:function(){this.$2D="LoadMoreResults";var n={};n.oldPageNumber=this.$XZ;this.$XZ++;n.newPageNumber=this.$XZ;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("LoadMoreResults",2002,n,this.$2D);n=null;this.$1Og();this.$2D=""},$2Z:function(){this.$2D="Initialize";this.$MK=!1;this.$hz=!0;Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$2Z.call(this);this.$NV=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel));this.$cx=this.$2Yi();this.$Q2=new Microsoft.Crm.Client.Core.ViewModels.$8B;this.$Kq=new Microsoft.Crm.Client.Core.ViewModels.$HL;this.$SQ=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"InteractionWall.DateRangeFilterExpression");this.$XZ=0;this.$4W=10;this.$jB=this.get_AllText();this.$Pt=!1;this.set_HasError(!0);this.$2&&this.$2.get_ModelContext()&&this.$2Es();this.$2.add_$FD(this.$$d_$1kX);this.$2D=""},$Oh:function(){this.$2D="Dispose";this.$1uv();this.$NV=null;this.$cx.dispose();this.$Q2.$86();this.$SQ.$86();this.$cx=null;this.$Q2=null;this.$SQ=null;this.$zJ=null;this.$Kq=null;this.$5V=null;this.$2.remove_$FD(this.$$d_$1kX);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$Oh.call(this);this.$2D=""},$1uv:function(){var n,t;if(!$0.$0(this.$NV)){for(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("DisposeDataSources",2002,{EventCount:this.$NV.get_Count()},this.$2D),n=0;n<this.$NV.get_Count();++n)t=this.$NV.get_$R(n),t.dispose();this.$NV.clear()}},$1kX:function(){this.$2D="FormRootModelLoad";Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RootOnLoadModelCompleted",2002,null,this.$2D);this.$2Es();this.$2D=""},$2Es:function(){var n,t;if(this.$2.$6i!==2){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("SetRegardingObject",2002,{message:"Form is not in Edit Mode. Skipping regarding object and relationship setup"},this.$2D);return}n={};n.oldId=this.$5V;this.$5V=this.$2.get_ModelContext().$I.$a;n.newId=this.$5V;this.$6c="objectid";n.oldRelationship=this.$52;this.$52=this.$5V.LogicalName+"_activitypointers";n.newRelationship=this.$52;this.$5T=0;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetRegardingObject",2002,n,this.$2D);n=null;this.$MK=!0;t=this.$2.get_ModelContext().$I.fields.customerid;$0.$0(t)||(this.$y3=t.Name,this.$y2=t.Id.toString(),this.$y4=t.LogicalName);this.refreshData()},$2Yi:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionWallDateRangeViewModel","DateRangeControl","DateRangeControl",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsStartDateNull",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsEndDateNull",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowNoRange",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentViewModel",this)],null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2)},$2Uj:function(n,t){var i;return Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("DynamicInteractionWallEventGenerator",2002,{ResultIndex:t},this.$2D),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("DynamicInteractionWallEventGenerator",2002,{ResultItem:n.toString()},this.$2D),i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionWallEventViewModel","InteractionWallEvent","InteractionWallEvent",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ResultItem",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentViewModel",this)],null,null),Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(i,this.get_ModelContext(),this.$2i,this.$2)},resetAllFilters:function(n){this.$2D="ClearFilter";this.$SQ.$86();this.$SQ.set_$Qj("InteractionWall.DateRangeFilterExpression");this.$cx.set_StartDateText("");this.$cx.set_EndDateText("");n&&this.set_ActiveSource(this.get_AllText());this.$2D=""},$2Ah:function(){this.$2D="InteractionWallExternalRefresh";this.refreshData();this.$2D=""},refreshData:function(){var n,t;this.$d8&&(this.$2D="NavigateBackReload");this.$Q2.$86();this.$2.get_ModelContext()&&(n=this.$2.get_ModelContext().$I,n&&(t=n.$a,this.$5V!==t&&(this.$5V=t)));this.$1Og();this.$d8&&(this.$2D="",this.$d8=!1)},screenReaderTextForInteractionWallSearchContainer:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionWall_Screenreader_DynamicSearchText"),n)},$1Og:function(){var i;if(this.$iX){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("RetrieveData",2002,{Message:"Data is alreday loading. Skipping load attempt"},this.$2D);return}if(this.$Pt=!1,this.$iX=!0,this.$jB===this.get_AllText()){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveData",2002,{Message:"Setting up data promises for all sources"},this.$2D);for(var t=this.$zJ,r=t.length,n=0;n<r;++n)i=t[n],this.$2F7(i)}else Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveData",2002,{Message:"Setting up data promise for "+this.$jB},this.$2D),this.$2F7(this.$jB);this.$7("DataLoadCompleted")},$2F7:function(n){var u=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"InteractionWall"),i,t,r;u.$9Z(this.$SQ);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetUpDataPromises",2002,{dataSource:n},this.$2D);i=Microsoft.Crm.Client.Core.ViewModels.$2q.$33G(n);this.$5V?(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("SetUpDataPromises",2002,{dataSource:n,LogicalName:this.$5V.LogicalName,RegardingObjectIdentifier:this.$5V.get_identifier(),PageSize:this.get_PageSize(),PageNumber:this.$XZ,SearchText:this.$5f,AdditionalFilter:u.$9V()},this.$2D),t=this,r=this,i.$1Og(this.$5V.LogicalName,this.$5V.get_identifier(),this.$4W,this.$XZ,this.$5f,u,this.$2).done(function(r){t.$2D=n+"SourceLoadSuccess";t.$Q2.$2mu(r);t.$Pt=t.$Pt||r.$Pt;t.$2FX(i);t.$2D=""}).fail(function(){r.$2D=n+"SourceLoadFailure";r.$2FX(i);r.$2D=""}),this.$Kq.$195()):(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("SetUpDataPromises",2002,{Message:"Regarding Object not set. Clearing loading flag to allow further loads."},this.$2D),this.$iX=!1)},$2FX:function(n){if(this.$Kq.$2FW(),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SignalSemaphore",2002,{Message:"Semaphore successfully signalled"},this.$2D),!this.$Kq.get_$1f7()){var t=this.$2D;this.$2D="ConstructItems";this.$2Pp();this.$2D=t}n.$5E()},$2Pp:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("InteractionWallDataUpdated",0,this.get_ViewModelId());this.$1uv();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("ConstructItems",2002,{ResultCollectionCount:this.$Q2.get_$s()},this.$2D);for(var n=0;n<this.$Q2.get_$s();n++)this.$NV.add(this.$2Uj(this.$Q2.get_$R(n),n));this.$iX=!1;this.$7("DataLoadCompleted")},$Rr:function(){this.$2D=this.$MK?"WallQuickCreate":"PageRefresh";this.refreshData();this.$2D=""}};Microsoft.Crm.Client.Core.ViewModels.$9r=function(){Microsoft.Crm.Client.Core.ViewModels.$9r.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$9r.prototype={$Tr:null,$8L:null,get_InteractionCentricLookupMaxCount:function(){return 10},get_InteractionCentricLookupListViewModel:function(){return this.$Tr},get_LookupNewButtonViewModel:function(){return this.$8L},get_NewButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Lookup_New_Text")},$nR:function(n){var i,r,u,t;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$nR.call(this,n);i=n;for(r in i)u={key:r,value:i[r]},t=u.value,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.isInstanceOfType(t)?(this.$Tr=t,this.$Tr.$W0=this):Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(t)&&(this.$8L=t)},$Oh:function(){$0.$0(this.$Tr)||(this.$Tr.dispose(),this.$Tr=null);$0.$0(this.$8L)||(this.$8L.dispose(),this.$8L=null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$D0=function(){this.$$d_$28E=Function.createDelegate(this,this.$28E);Microsoft.Crm.Client.Core.ViewModels.$D0.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$D0.prototype={$BT:null,$Dm:null,$1dZ:null,$5I:null,$8c_9:"single",$1lb:!1,$p5:null,get_LastTypedValue:function(){return this.$p5},set_LastTypedValue:function(n){return this.$p5=n,n},$1Ah:!1,get_NewButtonVisibility:function(){return this.$1Ah},set_NewButtonVisibility:function(n){return this.$1Ah=n,n},$pB:null,get_NewButtonEntityLogicalName:function(){return this.$pB},set_NewButtonEntityLogicalName:function(n){return this.$pB=n,n},$W9:null,get_SelectedViewIds:function(){return this.$W9},set_SelectedViewIds:function(n){return this.$W9=n,n},$cz:!1,get_DisableQuickFind:function(){return this.$cz},set_DisableQuickFind:function(n){return this.$cz=n,n},$yc:!1,get_IsResolveSuccessful:function(){return this.$yc},set_IsResolveSuccessful:function(n){return this.$yc=n,n},$Vo:!1,get_DisableViewPicker:function(){return this.$Vo},set_DisableViewPicker:function(n){return this.$Vo=n,n},$p0:!1,get_IsSearchComplete:function(){return this.$p0},set_IsSearchComplete:function(n){return this.$p0=n,n},get_LookupStyle:function(){return this.$8c_9},set_LookupStyle:function(n){return this.$8c_9=n,n},get_InteractionCentricPartyListViewModel:function(){return this.$Dm},$DP:!1,get_IsMultiSelect:function(){return this.$DP},set_IsMultiSelect:function(n){return this.$DP=n,n},$BK:null,get_InteractionCentricInlineLookupListViewModel:function(){return this.$BT},get_$CP:function(){return!$0.$0(this.$5I)&&!$0.$0(this.$5I.$IP)?this.$5I.$IP.toString():null},get_LookupInputViewModel:function(){return this.$5I},set_LookupInputViewModel:function(n){return this.$5I=n,$0.$0(this.$5I)||(this.updateInputValue(),this.$5I.set_ImeMode(this.$Ij),this.$5I.set_MaxLength(200)),n},get_InteractionCentricInlineLookUpListDescriptor:function(){return this.$1dZ},get_SearchValue:function(){return $0.$0(this.$BK.$Hm)?"":this.$BK.$Hm},get_interactionCentricLookupAutoResolve:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("InteractionCentricLookupAutoResolve")},get_shouldAutoResolve:function(){return this.get_interactionCentricLookupAutoResolve()?this.$1lb:!1},$1hE:function(){if(!$0.$0(this.$5I)&&!this.get_HasFocus()&&this.get_CurrentDataName()!==this.get_$CP()){var n=this.get_$CP();this.set_$Gt(null);this.$5I.set_Value(n)}},$1X6:function(){$0.$0(this.$5I)||(this.get_interactionCentricLookupAutoResolve()?this.$5I.$2ES(""):this.$5I.set_Value(""),this.$5I.fireRefreshFromContextEvent())},updateInputValue:function(){if(!$0.$0(this.$5I)){if(this.get_interactionCentricLookupAutoResolve()){var n=this.get_CurrentDataName();Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$5I.set_Value(this.$p5):this.$5I.set_Value(n)}else this.$5I.set_Value(this.get_CurrentDataName());this.$5I.fireRefreshFromContextEvent()}},buildChildViewModelDescriptors:function(n){var t,i,r,u;$0.$0(this.$BT)||(this.$BT.dispose(),this.$BT=null);t={};$0.$0(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);t.OverlayMode=2;i=!1;$0.$0(n.Properties.ShowLabel)||(i=n.Properties.ShowLabel);r={IsSaveAndEditButtonHidden:!0,shouldOpenQuickCreate:!0};u={inlinelookup:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricInlineLookupListViewModel","InteractionCentricInlineLookupList","inlinelookup",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricLookupListViewModel","InteractionCentricLookupList","interactionCentricList",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("ActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("LookupByName",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("LookupForField",this.getFieldNameFromDescriptorName(this.$L)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$DP),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsInlineOrAssociateFormLookup",this.$t3)],{ScrollDirection:"Horizontal"}),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("Button","Button","newInteractionCentricButton",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Command","CreateCommand"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1J0()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Visible",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1J0()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Parameters",{externalParameters:r})],null)]),input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","interactionCentricInput",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Label",this.$1G),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowLabel",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("OverlayText","")],t)};this.$jD(u);this.get_shouldAutoResolve()&&(this.$p0=!0)},$jD:function(n){var f=n,r,i,t,u;for(r in f)i={key:r,value:f[r]},t=i.value,$0.$0(this.$H[t.Name])&&(u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(t,this.get_$1B(),this.$2i,this.$2),this.$CK(u.get_Name(),u)),i.key==="inlinelookup"?this.$1dZ=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(t):i.key==="input"&&(this.$14w=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(t))},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$4k.isInstanceOfType(t)?this.set_LookupInputViewModel(t):Microsoft.Crm.Client.Core.ViewModels.$9r.isInstanceOfType(t)&&(this.$BT=t,this.$BK=this.$BT.$Tr,this.$BK.$ov=!0,this.$BK.set_$Aa(this),this.$BK.$E0=this.$8c_9,this.$1nE(),this.$1Rq(),this.$BT.$8L.$1g.$J=this.$$d_$28E)},$1nB:function(n){$0.$0(n)||(this.$JI=n.$2O,this.$Pb=n.$1Kk,this.set_LookupModelName(n.$Br),this.$1Rq())},$1L8:function(n){this.get_shouldAutoResolve()&&this.clearError();Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1L8.call(this,n)},$2UV:function(n,t){var i=this;i.set_$KO(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,n,t))},clearError:function(){var n=this;n.set_$KO(null)},$1Rq:function(){$0.$0(this.$BK)||$0.$0(this.$Pb)||$0.$0(this.$JI)||$0.$0(this.$B7)||this.$BK.$2Eh(this.$B7,this.$JI,this.$Pb)},$1nE:function(){if(!$0.$0(this.$BT)&&!$0.$0(this.$BT.$8L)&&!$0.$0(this.$BT.$8L.$1g)){var n=this.$B7;$0.$0(this.$pB)||this.$pB===""||(n=this.$pB);this.$BT.$8L.$1g.set_PrimaryModelName(n);this.$BT.$8L.$1g.get_CanExecute()&&Microsoft.Crm.Client.Core.ViewModels.$a.$G5(n)&&this.$1Ah?(this.$BT.$8L.set_Visible(!0),Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||$0.$0(this.get_ModelContext())||(this.$BT.$8L.$1g.$J2=this.get_ModelContext().get_$MS(),this.$BT.$8L.$1g.$FK=this.$FK)):this.$BT.$8L.set_Visible(!1)}},$28E:function(n){this.$MW=!0;$0.$0(this.get_ModelContext())?this.set_$Gt(n.$AK):(this.get_ModelContext().$1Pv(),this.set_$Gt(n.$AK),this.get_ModelContext().$1O4());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?$0.$0(this.$BT)||$0.$0(this.$BT.$Tr)||this.$BT.$Tr.$Rr():this.$1D5();this.$9n("OnNewRecordSaved",n.$1LT)},$Oh:function(){$0.$0(this.$BT)||(this.$BT.dispose(),this.$BT=null);Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$Oh.call(this)},search:function(n){(this.$1lb=n,$0.$0(this.$BK))||(this.$3Ay(),this.$BK.$KK=0,this.$BK.$E7.clear(),this.$BK.set_SearchValue($0.$0(this.get_$CP())?"":this.get_$CP()),this.get_shouldAutoResolve()&&(this.$p0=!1),this.get_interactionCentricLookupAutoResolve()&&(this.clearError(),this.$p5=this.$BK.$Hm),this.set_ShowLookupBar(!0))},shouldPerformSearch:function(){return this.get_shouldAutoResolve()&&this.$BK.$Hm===""&&$0.$0(this.get_$CP())?!1:$0.$0(this.$BK.$Hm)||$0.$0(this.get_$CP())?!0:this.$BK.$Hm!==this.get_$CP()},$3Ay:function(){this.$1BT=this.get_$CP()&&this.$1ez(this.get_$CP().trim())?this.get_$CP().trim():null},$1ez:function(n){if(!n||n==="")return!1;var t=new Microsoft.Crm.Client.Core.Models.Validation.EmailAddressValidator(!1,!0),i=t.$6W(n,!1,!1);return i.$57},$1BT:null};Microsoft.Crm.Client.Core.ViewModels.$D2=function(){this.$$d_$P2=Function.createDelegate(this,this.$P2);Microsoft.Crm.Client.Core.ViewModels.$D2.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$D2.prototype={$H2:null,$UA:null,$Fi:null,$RF:null,get_EntitiesMetadataViewModel:function(){return this.$H2},get_LookupViewActionProvider:function(){return this.$UA},set_LookupViewActionProvider:function(n){return this.$UA=n,n},get_BindingField:function(){return this.$Fi},set_BindingField:function(n){return this.$Fi=n,n},get_MetadataQueryDescriptor:function(){return this.$RF},set_MetadataQueryDescriptor:function(n){return this.$RF=n,n},$2IE:function(){return!0},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$2Z.call(this);this.$8c_9="multi"},$Oh:function(){$0.$0(this.$H2)||(this.$H2.RemovePropertyChangedListener("SelectedItem",this.$$d_$P2),this.$H2.dispose(),this.$H2=null);this.$RF=null;Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.$Oh.call(this)},$1im:function(n,t){$0.$0(n)||($0.$0(this.$H2)||this.setEntityModelName(n.$Br))&&Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1im.call(this,n,t)},$1hL:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1hL.call(this,n,t);this.setEntityModelName(this.$B7)},$P2:function(){this.$16Q()},search:function(n){var t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StartMarkerForLookupSearch",1,null);this.$H2.set_SelectedItem("0");Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.search.call(this,n);this.$BK.$Ao=this.$H2},$16Q:function(){var n=this.$H2.get_Data(),t,i;Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2L.isInstanceOfType(n)&&(this.set_LookupModelName(n.$y),$0.$0(this.$Xt)?(i=this.$UA.$B1(0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i)):n.$y===this.$Xt.$Br?this.$1nB(this.$Xt):(t=this.$UA.$B1(2),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)))},setEntityModelName:function(n){if(this.$H2){var t=this.$H2.$1ZO(n);if(t>=0)return this.$H2.$23S(t.toString()),!0}return!1},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.$CK.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.$80.isInstanceOfType(t)&&(this.$H2=t,this.$H2.AddPropertyChangedListener("SelectedItem",this.$$d_$P2),$0.$0(this.$B7)||(this.$H2.$13c=this.$B7))},buildChildViewModelDescriptors:function(n){var t,i,r;this.$JI=null;this.$Pb=null;Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$0(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i=$0.$0(this.$RF)?new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveTargetEntityMetadata",{entityLogicalName:this.$D,targetAttribute:this.$Fi}):this.$RF;r={combobox:Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("EntityMetadataOptionSetViewModel","ComboBox","comboBoxControl",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("MetadataActionProvider","ActionProvider",i)],t,null)};this.$jD(r)}};Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel=function(){this.$$d_$2kT=Function.createDelegate(this,this.$2kT);Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.prototype={$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.prototype.$2Z.call(this),this.$4l().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82,this.$$d_$2kT))},$2kT:function(){this.$7("RenderMultiplePie")},$Oh:function(){this.$4l().$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82,this.$$d_$2kT);Microsoft.Crm.Client.Core.ViewModels.$9M.prototype.$Oh.call(this)},$1UP:0,get_singlePieWidth:function(){return this.$1UP},set_singlePieWidth:function(n){return this.$1UP=n,n},$1U1:0,get_pieInnerSize:function(){return this.$1U1},set_pieInnerSize:function(n){return this.$1U1=n,n}};Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.prototype={$193:0,$ww:null,get_DashboardCategory:function(){return this.$20p().$Xf},get_StreamViewModels:function(){if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("ViewSwitched",0,this.get_ViewModelId()),$0.$0(this.$ww)){this.$ww=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel));for(var n=0;!$0.$0(this.$H["QueuePanelViewModel"+n]);)this.$ww.add(this.$H["QueuePanelViewModel"+n]),n++}return this.$ww.toArray()},get_ViewType:function(){return this.$193},set_ViewType:function(n){return this.$193=n,this.$7("DataChanged"),n},set_ShowAsTiles:function(n){return this.$193=n?1:0,this.$7("DataChanged"),n},get_SwitcherPanelViewModel:function(){return this.$H.ButtonStrip},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$7("DataChanged"))},$Rr:function(){for(var i,t=this.get_StreamViewModels(),r=t.length,n=0;n<r;++n)i=t[n],i.$Rr()},$20p:function(){return this.$2},$Oh:function(){var i;if(this.get_StreamViewModels()){for(var t=this.get_StreamViewModels(),r=t.length,n=0;n<r;++n)i=t[n],i.dispose();this.$ww=null}Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.prototype={$MI:!1,$9G:null,get_parentViewModel:function(){return this.$9G},set_parentViewModel:function(n){return this.$9G=n,n},get_PreviousSelectionCount:function(){return this.$9G.$1id},get_DashboardCategory:function(){return this.$9G.get_DashboardCategory()},get_ItemSelectionCounter:function(){return this.$9G.$1Hj()},set_ItemSelectionCounter:function(n){return this.$9G.$2Ev(n),n},get_IsSelected:function(){return this.$MI},set_IsSelected:function(n){var t=this.$9G.$1Hj()>0?this.$9G.$1Hj():0;return this.$9G.$1id=t,n?(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("QuickActionCheckboxSelected",0,this.get_ViewModelId()),t++):t--,t>-1&&this.$9G.$2Ev(t),this.$MI=n,this.$7("QueueItemStatusChanged"),n},get_IsCtrlPressed:function(){return Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1e4},set_IsCtrlPressed:function(n){return Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1e4=n,n},$W1:null,get_ParentQueuePanelViewModel:function(){return this.$W1},set_ParentQueuePanelViewModel:function(n){return this.$W1=n,n},$yT:null,get_ID:function(){return this.$yT},set_ID:function(n){return this.$yT=n,n},$NN:null,get_ColorStrip:function(){return this.$NN},set_ColorStrip:function(n){return this.$NN=n,n},$xw:null,get_ColorStripDisplayName:function(){return this.$xw},set_ColorStripDisplayName:function(n){return this.$xw=n,n},$xv:null,get_ColorStripAttributeValue:function(){return this.$xv},set_ColorStripAttributeValue:function(n){return this.$xv=n,n},$1A9:null,get_HeaderItems:function(){return this.$1A9},set_HeaderItems:function(n){return this.$1A9=n,n},$oW:null,get_DetailItems:function(){return this.$oW},set_DetailItems:function(n){return this.$oW=n,n},$1A0:null,get_FooterItems:function(){return this.$1A0},set_FooterItems:function(n){return this.$1A0=n,n},$xl:null,get_ActivityItemNames:function(){return this.$xl},set_ActivityItemNames:function(n){return this.$xl=n,n},$9F:null,get_EntityLogicalName:function(){return this.$9F},set_EntityLogicalName:function(n){return this.$9F=n,n},$1TD:0,get_HtmlDetailIndex:function(){return this.$1TD},set_HtmlDetailIndex:function(n){return this.$1TD=n,n},$zO:0,get_TitleIndex:function(){return this.$zO},set_TitleIndex:function(n){return this.$zO=n,n},GetQueueItemGuid:function(){return this.$yT},get_ColorTooltip:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$xw)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$xv)?"":this.$xw+" : "+this.$xv},$2tu:function(){return},screenReaderTextForQueueItem:function(n){var t=this.$9F==="incident"?"case":this.$9F;return n?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueueItemsCondensedView_ScreenReader_ItemInfo"),t,this.$oW[this.$zO]):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueueItems_ScreenReader_ItemInfo"),t,this.$oW[this.$zO])},screenReaderTextWithSelectionCount:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueueItems_ScreenReader_NRecordSelection"),this.$9G.$1Hj())},isEntityInteractionCentricEnabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:t.$BW},navigateToRecord:function(){var t=this.$9F,i=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(this.$4Z)),u,r,f,n;this.$9F==="activitypointer"?(t=this.$xl[0],i=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(this.$4Z))):this.$9F==="queueitem"&&(u=this,r=u.get_ModelContext().GetValue("objectid"),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(r)&&(i=r,t=i.LogicalName));this.$W1.$L6=this;f=new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext(this.$W1.$1f,this.$W1.get_CurrentItemIndex(),this.$W1.$Gh.get_$R(1),this.$W1,!0);n=new Microsoft.Crm.Client.Core.Commands.$2R(null,40);try{n.$D=t;n.$x={ListNavigationContext:f};n.$x.EntityReference=i;n.execute()}finally{n.dispose()}},$Oh:function(){this.$9G=null;this.$yT=null;this.$NN=null;this.$1A9=null;this.$1A0=null;this.$oW=null;this.$xl=null;this.$W1=null;Microsoft.Crm.Client.Core.ViewModels.$3R.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel=function(){this.$$d_$2iS=Function.createDelegate(this,this.$2iS);this.$$d_getQueueItemViewSuccess=Function.createDelegate(this,this.getQueueItemViewSuccess);this.$$d_$2g1=Function.createDelegate(this,this.$2g1);this.$$d_$2ul=Function.createDelegate(this,this.$2ul);this.$$d_$1hZ=Function.createDelegate(this,this.$1hZ);this.$$d_$2iT=Function.createDelegate(this,this.$2iT);this.$$d_$2jS=Function.createDelegate(this,this.$2jS);this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$2jR=Function.createDelegate(this,this.$2jR);this.$$d_handleStreamError=Function.createDelegate(this,this.handleStreamError);this.$$d_processFetchXml=Function.createDelegate(this,this.processFetchXml);this.$$d_$22Q=Function.createDelegate(this,this.$22Q);this.$1l={};this.$wi=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$Mo={};this.$Gh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$wj={};this.$187={};this.$1Vx={};this.$wh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$vW=new Array(0);this.$rM=new Array(0);Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.prototype={$4e:null,$Kq:null,$g6:!1,$ZS:!1,$1ec:!1,$3q:null,$tL:!0,$1JQ:!1,$Rz:null,$JU:null,$Xa:null,$P:null,$QZ:null,$Wc:null,$1Cw:null,$Ns:null,$Gn:null,$Wz:null,$QI:null,$1XS:null,$Ss:null,$1fU:null,$Mn:0,$1kq:0,$1id:0,$rX:null,$3z:null,$vU:null,$KA:!1,$1JY:!1,$F8:"Initialize",get_AttributeMetadataActionProvider:function(){return this.$Wc},set_AttributeMetadataActionProvider:function(n){return this.$Wc=n,n},get_SelectedSortBy:function(){return this.$wj[this.$Rz]},set_SelectedSortBy:function(n){return this.$Rz===this.$187[n]?n:(this.$Rz=this.$187[n],this.$7("IsLoading"),n)},$NY:!1,get_LoadTriggeredByPagingEvent:function(){return this.$NY},set_LoadTriggeredByPagingEvent:function(n){return this.$NY=n,n},$iq:null,get_QueueItemIdArray:function(){return this.$iq},set_QueueItemIdArray:function(n){return this.$iq=n,n},$p2:!1,get_ItemLimitExceeded:function(){return this.$p2},set_ItemLimitExceeded:function(n){return this.$p2=n,n},$DU:null,get_TypeOfStream:function(){return this.$DU},set_TypeOfStream:function(n){return this.$DU=n,n},$I9:null,get_StreamId:function(){return this.$I9},set_StreamId:function(n){return this.$I9=n,n},$Gf:null,get_StreamName:function(){return this.$Gf},set_StreamName:function(n){return this.$Gf=n,n},$8s:null,get_EntityTypeCode:function(){return this.$8s},set_EntityTypeCode:function(n){return this.$8s=n,n},get_CurrentSavedQueryId:function(){return this.$Xa},set_CurrentSavedQueryId:function(n){return this.$Xa=n,n},get_EntityLogicalName:function(){return this.$P},set_EntityLogicalName:function(n){return this.$P=n,this.$DQ.set_Entity(this.$P),n},get_IsEditMode:function(){return this.$1JQ},set_IsEditMode:function(n){return this.$1JQ!==n&&(this.$1JQ=n,this.$7("IsEditMode")),n},get_QueueItemCount:function(){return this.$Mn},get_ActionProvider:function(){return this.$JU},set_ActionProvider:function(n){return this.$JU=n,n},get_SortableAttributes:function(){return this.$wh},$1Ai:null,get_NumberOfMembers:function(){return this.$1Ai},set_NumberOfMembers:function(n){return this.$1Ai=n,n},get_QueueItemViewModels:function(){return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("QueueContentAsked",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("QueueShown",0,this.get_ViewModelId()),this.$Mo},set_QueueItemViewModels:function(n){return this.$Mo=n,n},get_ParentViewModel:function(){return this.$2.$5Q(this)},get_IsSortedInDescending:function(){return this.$tL},set_IsSortedInDescending:function(n){return this.$tL!==n&&(this.$tL=n,this.$DQ.$1DI(),this.$7("IsLoading")),n},get_DashboardCategory:function(){return this.$6Z().$Xf},get_AllCardAttributes:function(){return this.$Gh},set_AllCardAttributes:function(n){return this.$Gh=n,n},get_EntityPluralName:function(){return this.$3z.$Ag},$DQ:null,get_quickActionViewModel:function(){return this.$DQ},set_quickActionViewModel:function(n){return this.$DQ=n,n},get_MoreNextPage:function(){return this.$1Z.$9S<this.$1Z.$G8},$pZ:!1,get_UserPrivilege:function(){return this.$pZ},set_UserPrivilege:function(n){return this.$pZ=n,n},$iW:!1,get_IsCardFormDefined:function(){return this.$iW},set_IsCardFormDefined:function(n){return this.$iW=n,n},$I8:null,get_QueueItemViewId:function(){return this.$I8},set_QueueItemViewId:function(n){return this.$I8=n,n},$yj:null,get_MultiSelectInfo:function(){return this.$yj},set_MultiSelectInfo:function(n){return this.$yj=n,n},$1AJ:!1,get_IsErrorOccured:function(){return this.$1AJ},set_IsErrorOccured:function(n){return this.$1AJ=n,n},$2Z:function(){if(!this.$1a){this.$vU=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("QueuePanel_QueueDataRetrieve");Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this);this.$iW=!0;this.$6Z().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_$22Q);this.$iq=new Array(0);this.$1f.$86();this.$Kq=new Microsoft.Crm.Client.Core.ViewModels.$HL;this.$Kq.$195();this.$2jQ();this.$Wc=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));this.$NY=!1;this.$1Z.$4W=20;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QuickActionViewModel","QuickActionQueueContainer","QuickActionQueueContainer"+this.$I9,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TargetViewModelContext",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Entity",this.$P),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context","grid")],null,null);this.$DQ=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2);this.$pZ=!0;this.$yj=new Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo}},$1Hl:function(){if($0.$0(this.$Rz))return"";return"<order attribute='"+this.$Rz+"' descending='"+this.$tL+"' />"},$2Av:function(){this.$Kq.$2FW();this.$Kq.get_$1f7()||(this.$Kq.$195(),this.$2jT())},$2jT:function(){var t,n;this.$F8="QueuePanelViewModel.GetStreamsData";this.$NY||(this.$1Z.$9S=0);this.$DU==="0"||this.$DU==="2"?(this.$3z=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(Number.parseInvariant(this.$8s)),$0.$0(this.$3z)?(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qy("QueuePanelViewModel.GetStreamsData","Entity metadata cannot be null","",this.$P),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t),Microsoft.Crm.Client.Core.Framework.Utils.$A.$4E(this.$3z,"EntityMetadata")):(this.set_EntityLogicalName(this.$3z.$y),this.$pZ=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$P,1),this.$QZ=this.$3z.$4Y,this.$20O())):(this.$Xa=this.$I9,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null),n.OnSuccess=this.$$d_processFetchXml,n.OnFailure=this.$$d_handleStreamError,this.set_IsLoading(!0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n))},handleStreamError:function(){this.$15X()},$15X:function(){this.$1AJ=!0;this.set_IsLoading(!1)},processFetchXml:function(n){var t,i;this.$F8="QueuePanelViewModel.ProcessFetchXml";t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n.toString());this.$rX=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(t).$N("fetch");this.set_EntityLogicalName(this.$rX.$N("entity").$10("name").toString());this.$3z=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$P);$0.$0(this.$3z)?(this.set_IsLoading(!1),i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qy("QueuePanelViewModel.ProcessFetchXml","Entity metadata cannot be null","",this.$P),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i),Microsoft.Crm.Client.Core.Framework.Utils.$A.$4E(this.$3z,"EntityMetadata")):(this.$QZ=this.$3z.$4Y,this.$pZ=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$P,1));this.$20O()},$2jQ:function(){this.$F8="QueuePanelViewModel.GetStreamAttributes";var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);n.OnSuccess=this.$$d_$2jR;n.OnFailure=this.$$d_$4L;this.$DU==="0"?(this.$Kq.$195(),n.QueryValue="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='queue'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='numberofmembers'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='queueviewtype'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$I9+"' /><\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t  <\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/fetch>",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)):this.$DU==="1"?(this.$Xa=this.$I9,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSavedQueryDetailsFromSavedQueryId",null),n.OnSuccess=this.$$d_$2jS,this.set_IsLoading(!0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)):this.$DU==="2"&&(this.$Kq.$195(),this.$I9.toLowerCase()==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?this.$Gf=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_All"):this.$I9.toLowerCase()==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?this.$Gf=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_Public"):this.$I9.toLowerCase()==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()&&(this.$Gf=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_Private")),this.$21d())},$21d:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSavedQueryDetailsFromSavedQueryId",null);this.$Xa=this.$I8;n.OnSuccess=this.$$d_$2iT;n.OnFailure=this.$$d_handleStreamError;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$2jR:function(n){var t=n.get_$9o().$1mk(),i;if($0.$0(t)||!t.length){this.$15X();return}this.$Gf=t[0].GetValue("name");this.$1Ai=t[0].GetValue("numberofmembers");i=t[0].GetValue("queueviewtype");this.$1ec=i.$1s===1?!0:!1;this.$21d()},$2jS:function(n){var t=n;this.$Gf=t.$1q},$2iT:function(n){var t=n;this.$Gf=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ICDashboard_Streams_label"),this.$Gf,t.$1q);this.$2Av()},$2h2:function(n,t){var i="",r="",u;return i+="<link-entity ",n.$10("name")&&(r=n.$10("name"),i+=" name='"+r+"' ",t.add(r)),n.$10("from")&&(i+=" from='"+n.$10("from")+"' "),n.$10("to")&&(i+=" to='"+n.$10("to")+"' "),n.$10("visible")&&(i+=" visible='"+n.$10("visible")+"' "),n.$10("link-type")&&(i+=" link-type='"+n.$10("link-type")+"' "),u=this.$20h(r),$0.$0(u)||Microsoft.Crm.Client.Core.Framework.$3.$9(u.$9V())||(i+=" alias='"+r+"__alias' "),i+=">",i+=Microsoft.Crm.Client.Core.Framework.Utils.$5i.$1HX(n),i+" <\/link-entity>"},$2RY:function(n){var p=n.$N("entity"),st="",ht="",ct="",lt="",i='<filter type ="and">',r="<\/filter>",at=p.$N("filter")?p.$N("filter").get_$6m().toString():"",o,b,k,d,t,g,nt,tt,f,c,it,yt,rt,e,l,ut,a,v,y,ft,et,pt,ot;n.$10("version")&&(st=" version='"+n.$10("version")+"' ");n.$10("output-format")&&(ht=" output-format='"+n.$10("output-format")+"' ");n.$10("mapping")&&(ct=" mapping='"+n.$10("mapping")+"' ");n.$10("distinct")&&(lt=" distinct='"+n.$10("distinct")+"' ");var u=n.$N("entity").$10("name"),w=p.$62("link-entity"),s="",h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));for(o=0;o<w.get_$s();o++)s+=this.$6Z().get_IsMultipleEntityGraphSupported()?this.$2h2(w.get_$R(o),h):w.get_$R(o).get_$6m();if(u===this.$6Z().$6q){b=this.$6Z().$dI;for(k in b)d={key:k,value:b[k]},h.contains(d.key)||(s+=d.value)}if(u==="queueitem"&&(s+=this.$1Vi("5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase())),t=at,this.$6Z().get_IsMultipleEntityGraphSupported()){if(u===this.$6Z().$6q){if(g=this.$6Z().$Cl,!$0.$0(g)){nt=g;for(tt in nt){var wt={key:tt,value:nt[tt]},bt=wt.value,vt=bt.$9V();Microsoft.Crm.Client.Core.Framework.$3.$9(vt)||(t+=i+vt+r)}t=i+t+r}}else if(f=this.$6Z().$Cl,!$0.$0(f)){for(c=0;c<h.get_Count();c++)it=h.get_$R(c),it in f&&(yt=f[it],rt=yt.$9V(),Microsoft.Crm.Client.Core.Framework.$3.$9(rt)||(t+=i+rt+r));if(u in f){if(e=f[u],$0.$0(e.get_$1m())){for(ut=e.get_$5N(),a=0;a<ut.get_Count();a++)if(v=ut.get_$R(a),!$0.$0(v.get_$1m()))for(y=0;y<v.get_$1m().get_Count();y++)v.get_$1m().get_$R(y).set_$9L("")}else for(l=0;l<e.get_$1m().get_Count();l++)e.get_$1m().get_$R(l).set_$9L("");ft=e.$9V();Microsoft.Crm.Client.Core.Framework.$3.$9(ft)||(t+=i+ft+r)}et=this.$6Z().$FW;this.$6Z().$6q in et&&this.$1JY&&(pt=et[this.$6Z().$6q],ot=pt.$9V(),Microsoft.Crm.Client.Core.Framework.$3.$9(ot)||(t+=i+ot+r));t=i+t+r}}else t=i+at+this.$HG()+r;return"<fetch"+st+ht+ct+lt+"><entity name='"+u+"'>"+this.$Ss+s+this.$1Hl()+t+"<\/entity><\/fetch>"},$22Q:function(n){if(!$0.$0(n.$Dy)){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$Dy)?"":n.$Dy.$9V(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)}this.$DQ.$1DI();this.$2Av()},$Rr:function(){this.$DQ.$1DI();this.$NY=!1;this.retrieveData()},$2ul:function(n,t){var i;if(t.get_$17E()!==1){i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qy("QueuePanelViewModel.OnQueueRecordsChanged",String.format("OnQueueRecordsChanged has failed in QueuePanelViewModel, EventArgs.RetrieveState not Successful.EventArgs.RetrieveState is { 0 }",Microsoft.Crm.Client.Core.Storage.DataApi.$20.toString(t.get_$17E())),"",this.$P);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i);throw Error.create(String.format("OnQueueRecordsChanged has failed in QueuePanelViewModel, EventArgs.RetrieveState not Successful. EventArgs.RetrieveState is {0}",Microsoft.Crm.Client.Core.Storage.DataApi.$20.toString(t.get_$17E())));}this.$kB();var r=Microsoft.Crm.Client.Core.Models.$1j.$X(t.get_$Xg()),u=this.get_ParentViewModel();this.$L==="QueuePanelViewModel0"&&u.$L.endsWith("0")&&Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("RenderedFirstQueueWithData",1,this.$2.get_ViewModelId());this.$3d(r);this.$7("IsLoading")},$WZ:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(this.$2O,this.get_DefinitionId());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$1Bn(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,n.get_$8a(),this.$$d_$1hZ,this.$$d_$2ul)},$kB:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(this.$2O,this.get_DefinitionId());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$1OF(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,n.get_$8a(),this.$$d_$1hZ,this.$$d_$2ul)},$1hZ:function(){},$2Si:function(n,t,i,r,u,f,e,o,s,h,c){var l=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QueueItemViewModel","QueueItem",n,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ID",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("RecordId",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStrip",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStripDisplayName",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStripAttributeValue",r),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HeaderItems",u),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DetailItems",f),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FooterItems",e),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("EntityLogicalName",s),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentQueuePanelViewModel",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ActivityItemNames",o),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HtmlDetailIndex",h),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TitleIndex",c)],null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(l,this.get_ModelContext(),this.$2i,this.$2)},$oU:null,get_DefinitionId:function(){return this.$oU},set_DefinitionId:function(n){return this.$oU=n,n},getTotalRecordsCount:function(){return this.$Mn},$1HJ:function(){var n,t;this.$F8="QueuePanelViewModel.GetData";n=0;$0.$0(this.$JU)||$0.$0(this.$1V)?this.set_IsLoading(!1):((this.$DU==="2"||this.$DU==="0")&&(n=this.$1Z.$9S,this.$1Z.$9S=0),this.set_DefinitionId(this.$1V.toString()),this.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(this.$1V),this.set_IsLoading(!0),this.$WZ(),t=this.$JU.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t),(this.$DU==="2"||this.$DU==="0")&&(this.$1Z.$9S=n),this.$vU.start())},$3d:function(n){var l,nt,h,u,p,e,w,b,o,k,s,d,i,g,f;this.$vU.stop();this.$vU.addParameter(this.get_ViewModelId());Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(this.$KA?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId());this.$KA||(this.$FH("RenderedInitialData"),this.$KA=!0);this.$DU==="1"&&(l=n,this.$Mn=l.get_EntityCollection().$DJ,this.$p2=l.get_EntityCollection().$VT,this.$1Z.$G8=Math.floor(this.$Mn/this.$1Z.$4W));nt=n.get_$9o().$1mk();this.$NY||(this.$iq=new Array(0),this.$2AL(),this.$Mo={},this.$1f.$86());for(var tt=nt,ft=tt.length,a=0;a<ft;++a){var t=tt[a],r=t.GetValue(this.$QZ),it="#3F94E9",v="",y="";for(this.$QI&&(y=this.$l1(this.$QI,t.GetValue(this.$QI)),it=this.$2WM(y)),h=new Array(0),u=0;u<this.$Ns.length;u++)if(p=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$P,this.$Ns[u]),$0.$0(p)||p.$26!==10)h.push(this.$l1(this.$Ns[u],t.GetValue(this.$Ns[u])));else if(!$0.$0(t)&&(e=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(t.$20e(this.$Ns[u])),!$0.$0(e)&&!$0.$0(e.get_entities()))){for(w=e.get_entities().length,b="",o=0;o<w;o++)k=e.get_entities()[o],k.$a.LogicalName==="activityparty"&&(s=k.fields.partyid,$0.$0(s)||$0.$0(s.Name)||(b+=o===w-1?s.Name:s.Name+" ;"));h.push(b)}d=new Array(0);this.$3z.$9p===4200?(d.push(t.get_$Fe()),v=t.get_$Fe()):v=this.$P;var c=new Array(0),rt=-1,ut=-1;for(i=0;i<this.$Gn.length;i++)this.$Gn[i]==="description"&&this.$P==="email"&&t.GetValue(this.$Gn[i])?(c.push(t.GetValue(this.$Gn[i]).toString()),rt=c.length-1):this.$l1(this.$Gn[i],t.GetValue(this.$Gn[i]))&&(this.$Gn[i]==="title"&&(ut=i),c.push(this.$l1(this.$Gn[i],t.GetValue(this.$Gn[i]))));for(g=new Array(0),f=0;f<this.$Wz.length;f++)this.$l1(this.$Wz[f],t.GetValue(this.$Wz[f]))&&g.push(this.$l1(this.$Gn[f],t.GetValue(this.$Wz[f])));r.toString()in this.$Mo||(this.$Mo[r.toString()]=this.$2Si(r.toString(),it,this.$1XS,y,h,c,g,d,v,rt,ut),this.$iq.push(r.toString()),this.$Mo[r.toString()].set_ModelContext(t),this.$1f.$3w(this.$Mo[r.toString()]),this.$Mo[r.toString()].$9G=this,this.$Mo[r.toString()].set_IsSelected(!1))}this.$g6?!$0.$0(this.$4e)&&this.$ZS&&(this.$4e.$2Hv(),this.$g6=!1,this.$ZS=!1):this.$g6=this.$ZS?!0:!1;this.set_IsLoading(!1);n.dispose()},$4L:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceHubStreamsLoadDataFailureEvent");t.$h("LocalContext",this.$F8);t.$h("ErrorMessage",n.$F);t.$h("Exception",n.$yF.message);t.$h("StreamName",this.$Gf);t.$h("StreamId",this.$I9);t.$h("TypeOfStream",this.$DU);t.$h("Query",this.$1V);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$4L.call(this,n)},$Kl:function(){this.$F8="QueuePanelViewModel.RetrieveAtrributeMetadata";var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(this.$P),Microsoft.Crm.Client.Core.Framework.$q.$4t(this.$I9,this.$Gf)).then(function(t){var e,r,i,u;n.$wi.clear();n.$wh.clear();e=t.$1mk();r=new Array(0);for(var o=e,s=o.length,f=0;f<s;++f)i=o[f],u=!0,Array.indexOf(n.$Ns,i.get_$2I())>=0&&r.push(i),i.get_$2I()===n.$QI&&(n.$1XS=i.get_$8z(),r.push(i)),i.get_$gF()&&(u=Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.$q9(i.get_$2m())),i.get_$24q()&&u&&n.$2Jg(i),i.get_$2I()==="modifiedon"&&n.$2LG("modifiedon",i.get_$8z(),0),i.get_$2I()===n.$6Z().$I3&&(n.$1JY=!0),u||(n.$1Vx[i.get_$2I()]=i);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Wp(n.$P,!1,new(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o))(r));$0.$0(n.$Rz)&&(n.$Rz=n.$wi.get_$R(0));n.$NY=!1;n.retrieveData()},function(n){t.set_IsLoading(!1);var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qy("QueuePanelViewModel.RetrieveAtrributeMetadata",n.$F,"",t.$P);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i);Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Multiple Attribute Metadata failed in Queue Panel View Model with error : {0}",n.$F)})},retrieveData:function(){if(this.$NY||(this.$1Z.$9S=0),this.$DU==="1"){if(!this.$rX){this.$15X();return}var n=this.$2RY(this.$rX);this.$1V=n;this.$1HJ()}else this.$DU==="2"?this.$I8!=="0"?this.$21c():this.$2eX():this.$I8!=="0"?this.$21c():(this.$1V="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\t \r\n\t\t\t\t\t\t\t\t<entity name='"+this.$P+"'>"+this.$Ss+this.$1Hl()+"<link-entity name='queueitem' from='objectid' to='"+this.$QZ+"'>\r\n\t\t\t\t\t\t\t\t\t<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$I9+"' />\r\n\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t<\/link-entity>"+this.$HG()+"<\/entity><\/fetch>",this.$1HJ())},handleQueueItemSelectedEvent:function(n,t,i){this.$DQ.handleQueueItemSelection(n,t,i);this.$7("QuickActionCommandBarEnabled")},$6Z:function(){return this.$2},get_TabSpaceReserved:function(){return 50},$20O:function(){if(this.$F8="QueuePanelViewModel.GetEntityCardAttributes",this.$3z.$9p===4200)this.createCardInstanceForActivity(),this.set_IsLoading(!1);else{var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCardConfigurationAction",null);n.OnSuccess=this.$$d_$2g1;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)}},createCardInstanceForActivity:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel,t,i,r;this.$1Cw=n.$SN;t=new Array(3);t[0]="activitytypecode";t[1]="prioritycode";t[2]="scheduledend";n.$cs=t;i=new Array(3);i[0]="subject";i[1]="description";i[2]="regardingobjectid";n.$cq=i;r=new Array(2);r[0]="ownerid";r[1]="createdon";n.$cr=r;n.$NN="statuscode";this.$Ns=n.$cs;this.$Gn=n.$cq;this.$Wz=n.$cr;this.$QI=n.$NN;this.$Gh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$Ss="<attribute name='"+this.$QZ+"' />";this.$jC(this.$Gh,this.$Ns);this.$jC(this.$Gh,this.$Gn);this.$jC(this.$Gh,this.$Wz);this.$DU==="1"&&this.$1zt(this.$Gh,this.$P,this.$QI);this.$iW=!0;n.dispose()},$1zt:function(n,t,i){this.$1oy(n,i);$0.$0(i)||(this.$Ss+="<attribute name='"+i+"' />");this.$Kl(n,t)},$jC:function(n,t){for(var i=0;i<t.length;i++)this.$1oy(n,t[i]),$0.$0(t[i])||(this.$Ss+="<attribute name='"+t[i]+"' />")},$2g1:function(n){if($0.$0(n))this.$iW=!1,this.$3z.$9p===4200&&this.createCardInstanceForActivity(),this.set_IsLoading(!1);else{this.$iW=!0;var t=n;this.$1Cw=t.$SN;this.$Ns=t.$cs;this.$Gn=t.$cq;this.$Wz=t.$cr;this.$QI=t.$NN;this.$Gh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$Ss="<attribute name='"+this.$QZ+"' />";this.$jC(this.$Gh,this.$Ns);this.$jC(this.$Gh,this.$Gn);this.$jC(this.$Gh,this.$Wz);this.$P==="queueitem"&&this.$jC(this.$Gh,["objectid"]);this.$1zt(this.$Gh,this.$P,this.$QI);t.dispose()}},$HG:function(){var n=this.$6Z(),t=null;return n.$6q===this.$P?t=n.get_IsMultipleEntityGraphSupported()?n.$Cl[n.$6q]:n.$L8:this.$1JY&&(t=n.get_IsMultipleEntityGraphSupported()?n.$FW[n.$6q]:n.$NQ),$0.$0(t)?"":t.$9V()},$20h:function(n){if(n in this.$6Z().$Cl){var t=this.$6Z().$Cl[n];if(!$0.$0(t))return t}return null},$1oy:function(n,t){Microsoft.Crm.Client.Core.Framework.$3.$9(t)||n.contains(t)||n.add(t)},$l1:function(n,t){if(n in this.$1Vx)return"*****";if($0.$0(t))return"";if(Xrm.Objects.EntityReference.isInstanceOfType(t))return t.Name;if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(t))return t.$1G;if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5j.isInstanceOfType(t))return this.$l1(n,t.$G3);var i="",r,u;return u=Microsoft.Crm.Client.Core.Framework.Utils.$62.$2Q7(t.toString(),r={val:i}),i=r.val,u,i},$2WM:function(n){var f,t,o,i,r,e,u;if($0.$0(n))return"#3F94E9";try{if(f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$P,this.$QI),t=f.$6S,$0.$0(t))return"#3F94E9";o=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x));i=t.$P5;for(r in i)if(e={key:r,value:i[r]},u=e.value,u.$1G===n)return u.$Gq}catch(s){}return"#3F94E9"},loadMoreData:function(){this.$1Z.$9S++;this.$NY=!0;this.retrieveData()},$1i3:function(n,t){this.$4e=n;this.$ZS=!0;t?this.loadMoreData():(this.$1Z.$9S--,this.$NY=!0,this.retrieveData())},$2Jg:function(n){var i=n.get_$2I(),t=n.get_$8z();Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&(t=i);this.$2LG(i,t)},$2LG:function(n,t,i){$0.$0(i)?(this.$wi.add(n),this.$wh.add(t)):(this.$wi.insert(i,n),this.$wh.insert(i,t));this.$wj[n]=t;this.$187[t]=n},editModeApplySettings:function(){this.$DQ.$1DI();this.$NY=!1;this.retrieveData()},$2eX:function(){var t={},n,i,r;t.userId=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString();t.includePublic=!0;n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveUserQueues",t);i=this;n.OnSuccess=function(n){i.$2eY(n)};r=this;n.OnFailure=function(n){r.$4L(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,n)},$2eY:function(n){var r,u,e,i;this.$vW=new Array(0);r=n.entityCollection;u=r.get_entities();for(var f=u,o=f.length,t=0;t<o;++t)e=f[t],i=e.$a.Id.toString(),$0.$0(i)||this.$vW.push(i);this.$1V="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\t \r\n\t\t\t\t\t\t\t\t<entity name='"+this.$P+"'>"+this.$Ss+this.$1Hl()+"<link-entity name='queueitem' from='objectid' to='"+this.$QZ+"'>\r\n\t\t\t\t\t\t\t\t\t<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t\t<filter type='or'>"+this.$2hT()+"<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t<\/link-entity>"+this.$HG()+"<\/entity><\/fetch>";this.$1HJ()},$2hT:function(){for(var t="<filter type='or'><condition attribute='queueid' operator='in'>",i=!1,n=0;n<this.$vW.length;n++)$0.$0(this.$vW[n])||(t+="<value>{"+this.$vW[n]+"}<\/value>",i=!0);return t+="<\/condition><\/filter>",i?t:""},isQuickActionBarEnabled:function(){return this.$DQ.$Ei.get_Count()>0?!0:!1},$21W:function(){var n="";return this.$3z&&(n=this.$Mn===1?this.$3z.$1q:this.get_EntityPluralName()),n},screenReaderTextForTilesContainer:function(n,t){var i=this.$3z?this.get_EntityPluralName():null;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TilesContainer_ScreenReader_Label"),t,"tiles",i,this.$6Z().$I3,n)},screenReaderTextForTileHeader:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TileHeader_ScreenReader_Label"),this.$Gf,"queue",this.$Mn,this.$21W())},screenReaderTextForTilePopup:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TilePopup_ScreenReader_Label"),this.$Gf,"queue",this.$Mn,this.$21W(),this.$Rz)},$21c:function(){this.$Xa=this.$I8;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null);n.OnSuccess=this.$$d_getQueueItemViewSuccess;n.OnFailure=this.$$d_handleStreamError;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},getQueueItemViewSuccess:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n.toString()),i=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(t).$N("fetch");this.$2Vw(i)},$1Vi:function(n){return n==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='inner'>\r\n\t\t\t\t\t\t\t\t\t\t<attribute name='systemuserid' />\r\n\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<condition attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString()+"' />\r\n\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>":n==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t<condition attribute='queueviewtype' operator='eq' value='0'/>\r\n\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t<\/link-entity>":n==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='outer'> <attribute name='systemuserid'/> <\/link-entity> <link-entity name='queue' from='queueid' to='queueid' alias='qq' link-type='outer'> <attribute name='queueviewtype'/> <\/link-entity> <filter operator='and'> <filter type ='or'> <condition entityname='qq' attribute='queueviewtype' operator='eq' value='0' /> <condition entityname='qm' attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString()+"' /> <\/filter> <\/filter>":""},$2Vw:function(n){var i=null,r=n.$N("entity"),a=r.$N("filter"),s="",h="",c="",l="",u=r.$N("filter")?Microsoft.Crm.Client.Core.Framework.Utils.$5i.$1HX(a):"",e,o,t;this.$DU==="0"?u+="<condition attribute='objecttypecode' operator='eq' value='"+this.$8s+"' />\r\n\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$I9+"' />":this.$DU==="2"&&(u+="<filter type='and'><condition attribute='objecttypecode' operator='eq' value='"+this.$8s+"' /><\/filter>");var v="<filter type='and'>"+u+"<\/filter>",y=r.$N("link-entity"),f=this.$2Pq(y);this.$1ec&&(f+=this.$1Vi("436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()));this.$DU==="2"&&(f+=this.$1Vi(this.$I9.toLowerCase()));e="";this.$6Z().get_IsMultipleEntityGraphSupported()&&(o=this.$20h(this.$1fU),o&&(e="<filter type='and'>"+o.$9V()+"<\/filter>"));n.$10("version")&&(s=" version='"+n.$10("version")+"' ");n.$10("output-format")&&(h=" output-format='"+n.$10("output-format")+"' ");n.$10("mapping")&&(c=" mapping='"+n.$10("mapping")+"' ");l=" distinct='true' ";i="<fetch"+s+h+c+l+"><entity name='queueitem'><attribute name='objectid' />"+v+f+e+"<\/entity><\/fetch>";t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);t.OnSuccess=this.$$d_$2iS;t.OnFailure=this.$$d_$4L;t.QueryValue=i;this.set_DefinitionId(i);this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)},$2Pq:function(n){var i;if($0.$0(n))return"<link-entity name='"+this.$P+"' from='"+this.$QZ+"' to='objectid' link-type='inner'>"+this.$HG()+"<\/link-entity>";var r="",u="",f="",e="",t="";return n.$10("name")&&(t=n.$10("name"),u=" name='"+t+"' "),r=" alias='"+t+"__alias' ",n.$10("from")&&(f=" from='"+n.$10("from")+"' "),n.$10("to")&&(e=" to='"+n.$10("to")+"' "),this.$6Z().$6q!==this.$P&&(this.$1fU=t),i=Microsoft.Crm.Client.Core.Framework.Utils.$5i.$1HX(n),i+=this.$HG(),"<link-entity "+r+u+f+e+">"+i+"<\/link-entity >"},$2iS:function(n){var e=n.get_$9o().$1mk(),f,i,r;this.$rM=new Array(0);for(var u=e,o=u.length,t=0;t<o;++t)f=u[t],i=f.GetValue("objectid"),$0.$0(i.Id.toString())||this.$rM.push(i.Id.toString());this.$rM.length?(r=n,this.$Mn=r.get_EntityCollection().$DJ,this.$p2=r.get_EntityCollection().$VT,this.$1Z.$G8=Math.floor(this.$Mn/this.$1Z.$4W),this.$1V="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\r\n\t\t\t\t\t\t\t\t\t<entity name='"+this.$P+"'>"+this.$Ss+this.$1Hl()+"<filter type='or'>"+this.$2g4()+"<\/filter>"+this.$HG()+"<\/entity><\/fetch>"):(this.$1V=null,this.$iq=new Array(0),this.$Mn=0,this.$7("IsLoading"));this.$1HJ();n.dispose()},$2g4:function(){for(var t="",n=0;n<this.$rM.length;n++)t+="<condition attribute='"+this.$QZ+"' operator='eq' value='"+this.$rM[n]+"' />";return t},screenReaderTextForItemCount:function(){var n=this.$p2?this.$Mn.toString()+" +":this.$Mn.toString(),t=this.$P==="incident"?"case":this.$P;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueuePanels_ScreenReader_ItemCount"),this.$Gf,n,t,this.$wj[this.$Rz])},screenReaderTextForSortIcon:function(){var n=this.$tL?" descending ":" ascending ";return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueuePanels_ScreenReader_SortIcon"),this.$wj[this.$Rz],n)},screenReaderTextForStreamName:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueuePanels_ScreenReader_StreamName"),this.$Gf)},screenReaderTextForMenuButton:function(){var n=this.$P==="incident"?"case":this.$P;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueuePanels_ScreenReader_MenuButton"),n)},$2AL:function(){var n,t,i,r;if(this.$Mo){n=this.$Mo;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$Mo=null}},$1Hj:function(){return this.$1kq},$2Ev:function(n){this.$1kq=n},$Oh:function(){$0.$0(this.$4e)||(this.$4e.dispose(),this.$4e=null);this.$1l=null;this.$3q=null;this.$wi=null;this.$JU=null;this.$Xa=null;this.$P=null;this.$QZ=null;this.$Wc=null;this.$1Cw=null;this.$Ns=null;this.$Gn=null;this.$QI=null;this.$Gh=null;this.$Ss=null;this.$rX=null;this.$3z=null;this.$wj=null;this.$187=null;this.$wh=null;this.$vU=null;this.$yj=null;this.$1f.dispose();this.$kB();this.$2AL();this.$DQ.dispose();Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Af=function(){Microsoft.Crm.Client.Core.ViewModels.$Af.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Af.prototype={$6Y:null,$T:null,$M:null,get_Command:function(){return this.$6Y},set_Command:function(n){return this.$6Y=n,this.$1nH(),n},get_TargetViewModel:function(){return this.$T?this.$T:this},set_TargetViewModel:function(n){return this.$T=n,this.$1nH(),n},get_Parameters:function(){return this.$M},set_Parameters:function(n){return this.$M=n,this.$1nH(),n},$1nH:function(){$0.$0(this.$6Y)||($0.$0(this.$M)&&(this.$M={}),this.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$6Y,null,this.$M))));this.$7("QuickActionButtonUpdated")},HandleOnClick:function(){var f="ExecutingQuickAction::"+this.$6Y+"::"+this.$1G,n,t,r,u,i;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L(f,0,this.get_ViewModelId());$0.$0(this.$2)||(n=this.get_TargetViewModel(),$0.$0(n)||(n.$4C==="email"?(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(n.$Co)&&(t=this.$2.$5k,$0.$0(t.$P9)&&(t.$P9={}),r=n.$Co,t.$P9.InteractionWallViewModel=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QR("InteractionWallViewModel",r.$9G),t.$P9.IsInteractionWallQuickAction=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QR("IsInteractionWallQuickAction","true")),u=this.$M.CommandId,u==="Mscrm.Form.email.Send"?this.$2kz():($0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)?$0.$0(this.$2.$K.$8n)||(i=this.$2.$K.$8n,$0.$0(i.$K)||$0.$0(i.$K.$M)||(i.$K.$M.OverriddenEntityId=n.$Ei.get_$R(0).Id,i.$K.$M.OverriddenEntityName=n.$4C)):(this.$2.$K.$M.OverriddenEntityName=n.$4C,this.$2.$K.$M.OverriddenEntityId=n.$Ei.get_$R(0).Id),this.$1g.execute())):this.$1g.execute()))},$1Mw:function(n,t,i){for(var r,o,e=t.$I.fields[i],u=[],f=0;f<e.get_entities().length;f++)r=e.get_entities()[f].fields.partyid,o=$0.$0(r)?new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem("","",""):new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(r.LogicalName,r.Id.toString(),r.Name),u.push(o);n.$P9[i]=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QR(i,u);u=null},$2kz:function(){var i=this.get_TargetViewModel(),r=i.$Co,t=r.get_$326(),u=new Xrm.Objects.EntityReference("email",t),f=Microsoft.Crm.Client.Core.Framework.$q.$4t("QuickActionButtonViewModel","QuickActionButtonViewModel"),n=this,e=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(u,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["to","from","cc","bcc"]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),f).then(function(i){var r=Microsoft.Crm.Client.Core.Models.$c.$X(i),u,f;$0.$0(n.$2.$K.$M)?$0.$0(n.$2.$K.$8n)||(u=n.$2.$K.$8n,$0.$0(u.$K)||$0.$0(u.$K.$M)||(u.$K.$M.OverriddenEntityId=t.toString(),u.$K.$M.OverriddenEntityName="email")):(n.$2.$K.$M.OverriddenEntityId=t.toString(),n.$2.$K.$M.OverriddenEntityName="email");f=n.$2.$5k;n.$1Mw(f,r,"bcc");n.$1Mw(f,r,"from");n.$1Mw(f,r,"to");n.$1Mw(f,r,"cc");n.$1g.execute();r.$5E()},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Failed for Send Email QuickAction in Interaction Wall with error : {0}",n.$F)})}};Microsoft.Crm.Client.Core.ViewModels.$7Q=function(n){this.$1sF=["Mscrm.HomepageGrid.incident.Resolve","Mscrm.AssignSelectedRecord","Mscrm.DeleteSelectedRecord","Mscrm.HomepageGrid.incident.Cancel","Mscrm.HomepageGrid.incident.DoNotDecrementEntitlementTerms","Mscrm.HomepageGrid.incident.RunRoutingRule","Mscrm.AddSelectedToQueue","Mscrm.HomepageGrid.incident.MergeRecords","Mscrm.HomepageGrid.incident.AssociateParentChildCase"];this.$1s8=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$1sB=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$1sI=["Mscrm.HomepageGrid.queueitem.Route","Mscrm.HomepageGrid.queueitem.Pick","Mscrm.HomepageGrid.queueitem.Release","Mscrm.HomepageGrid.queueitem.RemoveLeo"];this.$1sG=["Mscrm.DeleteSelectedRecord"];this.$1sH=[];this.$1sA=["Mscrm.CloseActivity","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SaveAsCompleted","Mscrm.SaveAsCancelled","Mscrm.SetRegardingForSelected","Mscrm.ConvertToCase"];this.$1s9=["Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SaveAsCompleted","Mscrm.SaveAsCancelled","Mscrm.SetRegardingForSelected"];this.$1sE=["Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SetRegardingForSelected"];this.$1sD=["Mscrm.Form.email.Send","Mscrm.Form.email.ReplyAll","Mscrm.Form.email.Reply","Mscrm.Form.email.Forward","Mscrm.Form.email.AttachFile","Mscrm.AssignPrimaryRecord","Mscrm.DeletePrimaryRecord","Mscrm.Form.ConvertToCase"];this.$1sJ=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$1sC=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$G0={};this.$G0.incident=this.$1sF;this.$G0.account=this.$1s8;this.$G0.contact=this.$1sB;this.$G0.knowledgearticle=this.$1sG;this.$G0.knowledgebaserecord=this.$1sH;this.$G0.activitypointer=this.$12Y(n);this.$G0.socialprofile=this.$1sJ;this.$G0.queueitem=this.$1sI;this.$G0.appointment=this.$12Y(n);this.$G0.phonecall=this.$12Y(n);this.$G0.task=this.$12Y(n);this.$G0.email=this.$1sE;this.$G0.socialactivity=this.$12Y(n);this.$G0.customentity=this.$1sC;this.$1G8={};this.$1G8.email=this.$1sD};Microsoft.Crm.Client.Core.ViewModels.$7Q.$32Z=function(n){switch(n){case"Mscrm.CloseActivity":return"Mscrm.Form.CloseActivity";case"Mscrm.DeleteSelectedRecord":return"Mscrm.DeletePrimaryRecord";case"Mscrm.AddSelectedToQueue":return"Mscrm.AddPrimaryToQueue";case"Mscrm.AssignSelectedRecord":return"Mscrm.AssignPrimaryRecord";case"Mscrm.ConvertToCase":return"Mscrm.Form.ConvertToCase";case"Mscrm.SaveAsCompleted":return"Mscrm.SavePrimaryActivityAsComplete";default:return n}};Microsoft.Crm.Client.Core.ViewModels.$7Q.$1jv=function(n,t,i,r,u){var e=new Microsoft.Crm.Client.Core.ViewModels.$7Q(u),f;if($0.$0(n)||$0.$0(t))return null;switch(t){case"grid":f=e.$G0;break;case"form":f=e.$1G8;break;default:f=null}return n in f?new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f[n]):i?r?new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f.activitypointer):new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f.customentity):null};Microsoft.Crm.Client.Core.ViewModels.$7Q.prototype={$G0:null,$1G8:null,$12Y:function(n){return n?this.$1sA:this.$1s9}};Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper=function(n){Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.prototype={$1SW:null,refresh:function(){this.$1SW.$Rr()},getCellValue:function(){return null}};Microsoft.Crm.Client.Core.ViewModels.$Ag=function(){this.$$d_$2sy=Function.createDelegate(this,this.$2sy);this.$$d_$2t0=Function.createDelegate(this,this.$2t0);this.$$d_$2sz=Function.createDelegate(this,this.$2sz);this.$$d_$2tb=Function.createDelegate(this,this.$2tb);this.$az=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af));this.$Rm=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af));this.$Rl=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af));this.$b0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af));Microsoft.Crm.Client.Core.ViewModels.$Ag.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Ag.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ag.prototype={$4C:null,$Lh:null,$vX:null,$xi:null,$1NY:!1,$1dh:!1,$CW:!1,$g3:!1,$Ei:null,$Co:null,get_TargetViewModelContext:function(){return this.$Co},set_TargetViewModelContext:function(n){return this.$Co=n,n},$iJ:null,$oI:null,$xo:null,$iK:null,get_Context:function(){return this.$iK},set_Context:function(n){return this.$iK=n,n},get_Entity:function(){return this.$4C},set_Entity:function(n){return this.$4C=n,this.set_PrimaryModelName(this.$4C),this.$1a&&this.$25e(),n},get_queueContainerQuickActionPopup:function(){return this.$1NY},set_queueContainerQuickActionPopup:function(n){return this.$1NY=n,this.$7("QueueContainerQuickActionPopup"),n},get_interactionWallQuickActionPopup:function(){return this.$1dh},set_interactionWallQuickActionPopup:function(n){return this.$1dh=n,this.$7("InteractionWallQuickActionPopup"),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this);this.$Ei=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.EntityReference));this.$xi=new Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel;this.$xo=new Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper(this.$xi);this.$xo.$1SW=this;$0.$0(this.$4C)||this.$25e()},$1Rg:function(n){return n.val=this.$Lh,!0},$3AJ:function(n){if(!$0.$0(this.$Co)){var t=this.$Co.get_State();return n.val=t,!0}return!1},$3AK:function(n){if(!$0.$0(this.$Co)){var t=this.$Co.get_State();return n.val=Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.toString(t),!0}return!1},$3AL:function(n){return $0.$0(this.$Co)?!1:(n.val=this.$Co.get_$394(),!0)},get_$2o5:function(){return!0},get_$2ni:function(){return!1},get_$2V0:function(){return[this.$4C]},get_$2V2:function(){return this.$$d_$2tb},$Oh:function(){var n,t,i,r;this.$Ei=null;this.$Co=null;this.$iJ=null;this.$oI=null;this.$xo=null;$0.$0(this.$xi)||(this.$xi.dispose(),this.$xi=null);this.$eX(n={val:this.$az});this.$az=n.val;this.$eX(t={val:this.$Rl});this.$Rl=t.val;this.$eX(i={val:this.$b0});this.$b0=i.val;this.$eX(r={val:this.$Rm});this.$Rm=r.val;this.$az=null;this.$Rl=null;this.$b0=null;this.$Rm=null;this.$vX=null;Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$Oh.call(this)},$eX:function(n){if(!$0.$0(n.val)){for(var t=0;t<n.val.get_Count();++t)$0.$0(n.val.get_$R(t))||(n.val.get_$R(t).dispose(),n.val.set_$R(t,null));n.val.clear()}},$25e:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleEntityMetadataAction",null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$2tb:function(n){this.$CW=n[0].$CW;this.$g3=n[0].get_$7g();this.$36q();this.$2qe()},$36q:function(){this.$Lh=this.$g3&&this.$4C!=="email"?"activitypointer":this.$4C},$2qe:function(){(this.$vX=Microsoft.Crm.Client.Core.ViewModels.$7Q.$1jv(this.$4C,this.$iK,this.$CW,this.$g3,Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$Co)),this.$vX)&&this.$1jv(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$Co))},$2sz:function(n){this.$iJ=n;this.$2Sj();this.$2Sk()},$2t0:function(n){this.$oI=n;this.$1jv(!1)},$1jv:function(n){var i=this.$2f9(n),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet",i);t.OnSuccess=this.$$d_$2sz;t.OnSuccess=n?this.$$d_$2t0:this.$$d_$2sz;t.OnFailure=this.$$d_$2sy;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)},$2sy:function(){throw Error.create("QuickActionViewModel: Command Set Retrieval Failed");},$2Sj:function(){var n;this.$eX(n={val:this.$az});this.$az=n.val;this.$25A(this.$iJ.$Cx.Controls);this.$7("QuickActionButtonCreated")},$25A:function(n){for(var t,r,u,f=n,e=f.length,i=0;i<e;++i){t=f[i];switch(t.ControlType){case"Button":r=t.Command.split("|");u=r[r.length-1];this.$vX&&this.$vX.contains(u)&&this.$2Kn(t,u);break;case"Group":case"Tab":case"FlyoutAnchor":this.$25A(t.Children)}}},$2Kn:function(n,t){var u=this.$iJ.$Cx.Commands,r=u[this.$Lh][t],i=new Microsoft.Crm.Client.Core.ViewModels.$Af;$0.$0(r)||(n.CommandParameters.entityLogicalName=this.$Lh,n.CommandParameters.CommandId=t,n.CommandParameters.RibbonActionHandler=r.Actions,n.CommandParameters.TargetViewModel=this,i.set_Command("WebResourceCommand"),i.set_Parameters(n.CommandParameters),i.set_Label(n.LabelText),i.set_TargetViewModel(this),i.set_$GO(this.$2),i.set_$2m(n.Id),this.$az.contains(i)||this.$az.add(i))},$2Sk:function(){var i,r,u,n;this.$eX(i={val:this.$Rm});this.$Rm=i.val;this.$eX(r={val:this.$Rl});this.$Rl=r.val;this.$eX(u={val:this.$b0});this.$b0=u.val;for(var f=this.$az.toArray(),e=f.length,t=0;t<e;++t)n=f[t],Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$Co)?this.$2ll(n):this.$iK==="form"?this.$Rm.add(n):this.$29b(n)},$29b:function(n){var f=n.$M.CommandId,e=this.$iJ.$Cx.Commands,r=e[this.$Lh][f],t,i,u;if(!$0.$0(r)){if(t=r.EnableRules,!t.length||Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$Co)){this.$Rm.add(n);return}if(i=this.$2j7(t),!$0.$0(i)){u=this.$2Vd(i);switch(u){case 0:this.$Rm.add(n);break;case 1:this.$Rl.add(n);break;case 2:this.$b0.add(n)}}}},$2ll:function(n){var t=n.$M.CommandId,o=Microsoft.Crm.Client.Core.ViewModels.$7Q.$32Z(t),s=this.$oI.$Cx.Commands,r=s[this.$Lh][o],h=this.$oI.$Cx.Rules[this.$Lh],c=this.$oI.$Cx.DisplayRules[this.$Lh],e,w;if(!$0.$0(r)){var l=r.EnableRules,a=r.DisplayRules,u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),f=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.ViewModels.$8C),v=this,i=l.map(function(n){return f.$1FM(h[n],v)}),y=this,p=a.map(function(n){return f.$1FM(c[n],y)});i=i.concat.apply(i,p);e=this;w=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(i){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Quick Actions : Evaluated [{1}] rules for command [{0}]",t,i.length);var r=i.reduce(function(n,t){return!!(n&t)},!0);r&&e.$29b(n);Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Quick Actions : Evaluation of {2} rules for command [{0}] succeeded with result: {1}")',t,r,i.length);u.resolve(r)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Quick Actions : Evaluation of rules for command [{0}] failed with message: {1}")',t,n.$F);u.reject(n)})}},$2j7:function(n){for(var f,e,r,u=n,s=u.length,t=0;t<s;++t){f=u[t];e=this.$iJ.$Cx.Rules[this.$Lh][f];for(var o=e.Rules,h=o.length,i=0;i<h;++i)if(r=o[i],r.RuleType===5)return r}return null},$2Vd:function(n){var t=n;return t.Minimum===1&&t.Maximum===1?0:t.Minimum===1&&t.Maximum===-1?1:t.Minimum===2&&t.Maximum===-1?2:3},$2f9:function(n){return this.$iK==="form"||n?"Form:"+this.$Lh:this.$iK==="grid"?"HomePageGridItem:"+this.$Lh:null},getQuickActionButtonViewModels:function(){var n,t;return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("QuickActionsShown",0,this.get_ViewModelId()),this.$Ei&&this.$Ei.get_Count()?this.$Ei.get_Count()===1?(n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af)),n.addRange(this.$Rm.toArray()),n.addRange(this.$Rl.toArray()),n.toArray()):(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af)),t.addRange(this.$Rl.toArray()),t.addRange(this.$b0.toArray()),t.toArray()):null},getQuickActionButtonViewModelCount:function(){return this.$Ei&&this.$Ei.get_Count()?this.$Ei.get_Count()===1?this.$Rm.get_Count()+this.$Rl.get_Count():this.$Rl.get_Count()+this.$b0.get_Count():0},handleQueueItemSelection:function(n,t,i){var e=n,r,f;if(t)r=new Mscrm.EntityReference,r.Id=e.toString(),r.TypeCode=Xrm.Internal.getEntityCode(i),this.$Ei.add(r);else for(var o=this.$Ei.toArray(),s=o.length,u=0;u<s;++u)f=o[u],f.Id===e.toString()&&this.$Ei.remove(f);this.$1NY=!1;this.$rd("SelectionCountChanged","QueueContainerQuickActionPopup")},$2KH:function(n,t){var r=n,i=new Mscrm.EntityReference;i.Id=r.toString();i.TypeCode=Xrm.Internal.getEntityCode(t);this.$Ei.add(i)},$1DI:function(){this.$Ei.clear();this.$7("SelectionCountChanged")},$Rr:function(){var t,n;Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.isInstanceOfType(this.$Co)?(t=this.$Co.get_ParentViewModel(),t.$Rr(),t.$20p().$82.raiseEvent(Function,null)):Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$Co)&&(n=this.$Co.$9G,n.$2D="InteractionWallQuickActionRefresh",n.refreshData(),n.$2D="")}};Microsoft.Crm.Client.Core.ViewModels.$Dv=function(){Microsoft.Crm.Client.Core.ViewModels.$Dv.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Dv.prototype={RefreshData:function(){this.$4l().refreshWithoutScriptReload()},$4l:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.prototype={$26A:30,get_MaximumLengthOfTag:function(){return this.$26A},$2yW:function(){var n=this;this.$11X.sort(function(n,t){var i=n,r=t,u=Number.parseInvariant(i.$rL),f=Number.parseInvariant(r.$rL);return f!==u?f-u:i.$49.localeCompare(r.$49)})}};Microsoft.Crm.Client.Core.ViewModels.$ER=function(){this.$$d_HandleViewNameSet=Function.createDelegate(this,this.HandleViewNameSet);Microsoft.Crm.Client.Core.ViewModels.$ER.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$ER.prototype={$LF:null,get_ViewName:function(){return this.$LF},set_ViewName:function(n){return this.$LF=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l,this.$$d_HandleViewNameSet))},HandleViewNameSet:function(n){this.$LF=n.$LF;this.$LF&&(this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l,this.$$d_HandleViewNameSet),this.$7("ViewNameSet"))},$Oh:function(){this.$LF=null;this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l,this.$$d_HandleViewNameSet);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel=function(){this.$11X=[];this.$nM=[];Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.prototype={$V1:null,$Qi:null,$4O:null,get_Title:function(){return this.$4O},set_Title:function(n){return this.$4O=n,n},get_Data:function(){return this.$L5&&(this.$L5=!1,this.set_IsLoading(!0),this.$H4()),this.$11X},get_SelectedElements:function(){return this.$nM},set_SelectedElements:function(n){return this.$nM=n,n},$2Ua:function(n){var t=n.$1Bv[0];if(Microsoft.Crm.Client.Core.Models.$7u.isInstanceOfType(t)){if(this.$Qi.get_$1m().get_Count()===2){var u=t,i=Number.parseInvariant(u.Value.toString()),f=Number.parseInvariant(this.$Qi.get_$1m().get_$R(0).get_$29().toString()),e=Number.parseInvariant(this.$Qi.get_$1m().get_$R(1).get_$29().toString());return i>=f&&i<=e}}else if(Microsoft.Crm.Client.Core.Models.$6u.isInstanceOfType(t)&&this.$Qi.get_$1m().get_Count()===2){var r=t,o=new Date(Date.parse(this.$Qi.get_$1m().get_$R(0).get_$29().toString())),s=new Date(Date.parse(this.$Qi.get_$1m().get_$R(1).get_$29().toString()));return r.MinDate>=o&&r.MaxDate<=s}return!!Number.parseInvariant(n.$rL)},get_SelectedIdsDictionary:function(){var n,t,r,i;if($0.$0(this.$V1)){if(n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilter_GetSelectedIdsDictionary"),n.start(),this.$V1={},this.$d3)for(t=0;t<this.get_Data().length;t++)this.$2Ua(this.get_Data()[t])&&(this.$V1[this.get_Data()[t].$49]=!0);else for(r=this.$nM,i=0;i<r.length;++i)this.$V1[r[i]]=!0;n.stop();n.addParameter(this.get_ViewModelId());n.addParameter(this.$L)}return this.$V1},set_SelectedIdsDictionary:function(n){return this.$V1=n,n},$d3:!1,get_FilterEventHadRangeQuery:function(){return this.$d3},set_FilterEventHadRangeQuery:function(n){return this.$d3=n,n},$1AI:!1,get_IsError:function(){return this.$1AI},set_IsError:function(n){return this.$1AI=n,n},$Vq:null,get_ErrorTitle:function(){return this.$Vq},set_ErrorTitle:function(n){return this.$Vq=n,n},$L5:!1,get_LazyLoad:function(){return this.$L5},set_LazyLoad:function(n){return this.$L5=n,n},$Pl:null,get_ErrorMessage:function(){return this.$Pl},set_ErrorMessage:function(n){return this.$Pl=n,n},GetElementPrimaryId:function(n){var t=n[0];return $0.$0(t)?"":t.Value},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$9M.prototype.$2Z.call(this),this.$L5=!1,this.$d3=!1,this.$V1=null,this.$Qi=null)},$H4:function(){if(!$0.$0(this.$8l)){var n=this;this.$25f().done(function(){if(n.$1ee())n.$21b();else{n.set_IsLoading(!0);var t=n.$8l.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)}n.$Nt.start()})}},$2yW:function(){},$1n8:function(){var i,t,n;if(this.$Nt.stop(),this.$Nt.addParameter(this.get_ViewModelId()),this.$Nt.addParameter(this.$L),$0.$0(this.$Cy)){this.set_IsLoading(!1);return}for(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(this.$SR?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId()),this.$SR||(this.$FH("RenderedInitialData"),this.$SR=!0),this.$11X=[],i=this.$Cy.$i8[0].Values,t=this.$Cy.$Ho[0].DataPoints,n=0;n<i.length;++n){var r=i[n],u=t[n].Value.toString(),f=t[n].Aggregators;this.$11X[n]=new Microsoft.Crm.Client.Core.Models.EntityCountForAttributeValue(r,u,t[n].FormattedValue.toString(),f)}this.$2yW();this.$1k?this.set_IsLoading(!1):this.$7("Data");this.$2IF()},HandleApplyFilter:function(n,t){this.$4l()&&this.$2Mo(n,t)},OnFilterChangeCompletedEvent:function(n){var h,c,e,o,u,i,f,t,r,s;if(this.$4l().get_IsMultipleEntityGraphSupported()){c=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$Dy)?"":n.$JO.toString(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(c);this.$lI={};e=n.$JO;for(o in e)u={key:o,value:e[o]},$0.$0(n.$JO[u.key])||(this.$lI[u.key]=n.$JO[u.key].$9V())}else h=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$Dy)?"":n.$Dy.$9V(),n.$q),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(h),this.$sq=n.$Dy.$9V();if(this.$GX){for(i=this.$GX.$iC,f=!1,t=0;t<i.get_Count();t++)r=null,this.$4l().get_IsMultipleEntityGraphSupported()?(s=this.$1HQ(i.get_$R(t)),$0.$0(n.$JO[s])||(r=n.$JO[s].$HG(i.get_$R(t)))):r=n.$Dy.$HG(i.get_$R(t)),$0.$0(r)||(f||(f=!0,this.$nM=[],this.$V1=null),this.$2kI(r));f||(this.$nM=[],this.$V1=null,this.$d3=!1,this.$Qi=null)}if(!this.$SR){this.$L5=!0;return}this.$H4()},$2kI:function(n){if(!$0.$0(n)&&n.get_$1m().get_Count()>0)if(n.get_$1m().get_$R(0).get_$Hf()!=="eq")this.$d3=!0,this.$Qi=n.$87();else{this.$d3=!1;this.$Qi=null;for(var t=0;t<n.get_$1m().get_Count();t++)this.$nM.push(n.get_$1m().get_$R(t).get_$29())}},$13J:function(n,t){this.$1AI=!0;this.$Vq=n;this.$Pl=t;this.$7("Data")},VisualFilterHeaderScreenReaderLabel:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("VisualFilterHeader_ScreenReader_Label"),n,this.$4O)},PrimaryEntityDisplayName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.get_$mi()).$1q},PrimaryEntityPluralName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.get_$mi()).$Ag}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls");Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.$q9=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$Sr.get_$R(n.toString());return $0.$0(t)?!1:t.$dv};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bp=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bp.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bp.prototype={$116:null,$Fi:"",get_DataField:function(){return this.$116},set_DataField:function(n){return this.$116=n,this.SetupData(),n},get_SpecifyFieldErrorTitle:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ReferencePanel_QuickView_SpecifyField"),this.get_BindingField())},get_BindingField:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Fi)?null:$0.$0(Xrm.Page.getControl(this.$Fi))?this.$Fi:Xrm.Page.getControl(this.$Fi).getLabel()},set_BindingField:function(n){return this.$Fi=n,n},$pQ:!1,get_ShouldShowSpecifyFieldError:function(){return this.$pQ},set_ShouldShowSpecifyFieldError:function(n){return this.$pQ=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.SetupData())},SetupData:function(){var t,i,e,o,r,u,f,s,n;if($0.$0(this.$116)){t=this.$H;for(i in t)e={key:i,value:t[i]},o=e.value,o.set_Rerender(!1);this.$pQ=!0;this.$7("Render");return}r=this.$116;this.$pQ=!0;u=this.$H;for(f in u)s={key:f,value:u[f]},n=s.value,n.get_Name()===r.LogicalName?(this.$pQ=!1,n.set_RecordId(r),n.set_Rerender(!0),n.set_SetActionable(!0),n.$Rr()):n.set_Rerender(!1);this.$7("Render")},$Oh:function(){var i=this.$H,n,r,t;for(n in i)r={key:n,value:i[n]},t=r.value,t&&this.$1Et(t);this.set_DataField(null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel=function(){this.$$d_$uN=Function.createDelegate(this,this.$uN);this.$$d_$EP=Function.createDelegate(this,this.$EP);this.$$d_HandleFilterChangeInitiatedEvent=Function.createDelegate(this,this.HandleFilterChangeInitiatedEvent);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.initializeBase(this,[37]);this.$141=!1;this.$6q="incident";this.$L8=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident");this.$NQ=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident");this.$I7=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident");this.set_DashboardCategory("1_0");this.$82=new Microsoft.Crm.Client.Core.Framework.$CO;this.get_IsMultipleEntityGraphSupported()&&(this.$Cl={},this.$Cl.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident"),this.$FW={},this.$FW.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident"),this.$CG={},this.$CG.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident"),this.$dI={})};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ=function(n,t,i,r){for(var u,e=t.toArray(),o=e.length,f=0;f<o;++f)u=e[f],i&&n.$Mq(u.get_$Qj()),r?n.$9Z(u.$87()):n.$9Z(u)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.prototype={$118:!0,$82:null,get_EventHandler:function(){return this.$82},set_EventHandler:function(n){return this.$82=n,n},$141:!1,$Xf:null,get_IsMultipleEntityGraphSupported:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("InteractionCentricMultiEntityChartsFeature")},$I3:null,get_FilterByAttributeName:function(){return this.$I3},set_FilterByAttributeName:function(n){return this.$I3=n,n},$19v:null,get_FilterByAttributeId:function(){return this.$19v},set_FilterByAttributeId:function(n){return this.$19v=n,n},$1AM:!1,get_IsFilterByAttributeSecured:function(){return this.$1AM},set_IsFilterByAttributeSecured:function(n){return this.$1AM=n,n},get_DashboardCategory:function(){return this.$Xf},set_DashboardCategory:function(n){if(!$0.$0(n)){var t=n.split("_");t.length>1&&(this.$141=t[1]==="1"?!0:!1);this.$Xf=t[0]}return n},$6q:null,get_PrimaryEntity:function(){return this.$6q},set_PrimaryEntity:function(n){return this.$6q=n,n},$NQ:null,get_DateRangeFilter:function(){return this.$NQ},set_DateRangeFilter:function(n){return this.$NQ=n,n},$I7:null,get_PrimaryEntityFilterExludingDateRange:function(){return this.$I7},set_PrimaryEntityFilterExludingDateRange:function(n){return this.$I7=n,n},$L8:null,get_PrimaryEntityFilter:function(){return this.$L8},set_PrimaryEntityFilter:function(n){return this.$L8=n,n},$FW:null,$CG:null,$Cl:null,$dI:null,$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B(this.$12z("Initialize"),2001,{PrimaryEntity:this.$6q,DashboardCategory:this.$Xf,FilterByAttributeName:this.$I3,IsEntityDashboard:this.$141},"FirstLoad");this.$1a||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("InteractionCentricDashboard_Initialize",1,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$2Z.call(this),this.$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,this.$$d_HandleFilterChangeInitiatedEvent));this.$3C8();$0.$0(this.$2)||(this.$2.$Sg&&this.$EP(null,null),this.$2.add_$P1(this.$$d_$EP),this.$2.add_$gn(this.$$d_$uN))},$12z:function(n){return"InteractionCentricDashboardViewModel-"+this.$1P+" ("+n+")"},$3C8:function(){var i,n,t;this.$1AM&&this.$118&&(Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.$q9(this.$19v)||(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u(this.$12z("ValidateFilterByAttribute"),2001,{Warning:"(ValidateFilterByAttribute) User doesn't have read access to attribute "+this.$I3},"NoReadLevelAccessOnAttribute"),this.$118=!1,i=this,Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_ServiceDesk_AccessDenied_DateRange"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Message_ServiceDesk_AccessDenied_DateRange"),function(){}),n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$I3),n.$Bl(this.$I3,"on-or-after","2015-01-01T00:00:00"),n.$Bl(this.$I3,"on-or-before","2014-01-01T00:00:00"),this.get_IsMultipleEntityGraphSupported()?(this.$FW[this.$6q].$Mq(this.$I3),this.$FW[this.$6q].$9Z(n),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$I3,2,0,null),t.$H8=this.$FW):(this.$NQ.$Mq(this.$I3),this.$NQ.$9Z(n),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$I3,2,0,this.$NQ)),this.$2.$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,t)))},$EP:function(){var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.$2qU();window.localStorage.setItem("isMarsISHDashboard","true")},-9,"JobLoadMarsScripts")},$uN:function(){},$2qU:function(){var r=Xrm.Page.context.getClientUrl(),t="/WebResources/msdyn_LoadGuidedHelpMoCA.js",i=$get("CustomScriptsIFrame"),u=i.contentDocument.getElementById(r+t),n;$0.$0(u)&&(n=i.contentDocument.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("id",t),n.setAttribute("src",r+t),i.contentDocument.body.appendChild(n))},$25u:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B(this.$12z("HandleFilterChangeInitiatedEvent"),2001,{SourceId:n.$q,Filtertype:n.$EA,FilterEventType:n.$ez,FilterExpression:$0.$0(n.$6C)?"":n.$6C.$9V()},"FilterChangeInitiated")},HandleFilterChangeInitiatedEvent:function(n){var r,i,u,t,f,e;if(this.get_IsMultipleEntityGraphSupported())this.$2kS(n);else{if(this.$25u(n),r="",i="",n.$ez){if(n.$ez===1){f=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterRemoved");f.start();r="FilterChangeInitiatedEvent.FilterRemoved";switch(n.$EA){case 1:this.$I7.$86();i="Aggregated";break;case 0:this.$L8.$Mq(n.$q);i="Individual"}f.stop();f.addParameter(this.get_ViewModelId())}}else{u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterChanged");u.start();r="FilterChangeInitiatedEvent.FilterChanged";t=n.$6C;switch(n.$EA){case 2:this.$118&&(i="Global",this.$NQ.$Mq(t.get_$Qj()),this.$NQ.$9Z(t));break;case 1:this.$I7=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$6q);i="Aggregated";$0.$0(t)||Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$I7,t.get_$5N(),!1,!0);break;case 0:$0.$0(t)||(i="Individual",t.get_$5N().get_Count()?Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$I7,t.get_$5N(),!0,!0):(this.$I7.$Mq(t.get_$Qj()),this.$I7.$9Z(t.$87())))}u.stop();u.addParameter(this.get_ViewModelId())}e=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,i,r,$0.$0(n.$6C)?"":n.$6C.$9V(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(e);this.$2AQ(n)}},$2kS:function(n){var o,i,s,r,l,a,u,h,v,y,e,p,w,b,t,f,c,k,d,g,nt,tt,it,rt;if(this.$25u(n),o="",i="",n.$ez){if(n.$ez===1){c=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterRemoved");c.start();o="FilterChangeInitiatedEvent.FilterRemoved";switch(n.$EA){case 1:i="Aggregated";k=this.$CG;for(d in k)g={key:d,value:k[d]},$0.$0(this.$CG[g.key])||this.$CG[g.key].$86();break;case 0:i="Individual";nt=this.$Cl;for(tt in nt)it={key:tt,value:nt[tt]},$0.$0(this.$Cl[it.key])||this.$Cl[it.key].$Mq(n.$q)}c.stop();c.addParameter(this.get_ViewModelId())}}else{s=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterChanged");s.start();o="FilterChangeInitiatedEvent.FilterChanged";$0.$0(n.$6C)||($0.$0(n.$H8)&&(n.$H8={}),n.$H8[this.$6q]=n.$6C);r=n.$H8;switch(n.$EA){case 2:if(i="Global",this.$118){$0.$0(this.$FW)&&(this.$FW={});l=r;for(a in l)u={key:a,value:l[a]},$0.$0(this.$FW[u.key])&&(this.$FW[u.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,u.key)),h=r[u.key],$0.$0(h)||(this.$FW[u.key].$Mq(h.get_$Qj()),this.$FW[u.key].$9Z(h))}break;case 1:i="Aggregated";$0.$0(n.$H8)&&(this.$CG={});this.$CG[this.$6q]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$6q);v=r;for(y in v)e={key:y,value:v[y]},this.$CG[e.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,e.key),p=r[e.key],$0.$0(p)||Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$CG[e.key],p.get_$5N(),!1,!0);break;case 0:i="Individual";w=r;for(b in w)t={key:b,value:w[b]},f=r[t.key],$0.$0(f)||(t.key in this.$CG||(this.$CG[t.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,t.key)),f.get_$5N().get_Count()?Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$CG[t.key],f.get_$5N(),!0,!0):(this.$CG[t.key].$Mq(f.get_$Qj()),this.$CG[t.key].$9Z(f.$87())))}s.stop();s.addParameter(this.get_ViewModelId())}rt=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,i,o,$0.$0(n.$H8)?"":n.$H8.toString(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(rt);this.$2AQ(n)},$2AQ:function(n){var r,u,f,i,e,o,t,s;if(this.get_IsMultipleEntityGraphSupported()){this.$Cl={};u=this.$FW;for(f in u)i={key:f,value:u[f]},this.$Cl[i.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,i.key),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$Cl[i.key],this.$FW[i.key].$Ap,!1,!1);e=this.$CG;for(o in e)t={key:o,value:e[o]},t.key in this.$Cl||(this.$Cl[t.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,t.key)),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$Cl[t.key],this.$CG[t.key].$Ap,!1,!1);s=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h(this.$L,null,n,this.$Cl);this.$25t(s);this.$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,s)}else this.$L8=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$6q),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$L8,this.$NQ.get_$5N(),!1,!1),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$L8,this.$I7.get_$5N(),!1,!1),r=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h(this.$L,this.$L8,n,null),this.$25t(r),this.$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,r)},$25t:function(n){if(!$0.$0(n.$Dy)){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",n.$Dy.toString(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)}Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B(this.$12z("RaiseFilterChangeCompletedEvent"),2001,{SourceId:n.$q,FilterExpression:$0.$0(n.$Dy)?"":n.$Dy.$9V()},"FilterChangeCompleted")},refreshWithoutScriptReload:function(){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.refreshWithoutScriptReload.call(this);var n,t;this.get_IsMultipleEntityGraphSupported()?(n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,null),n.$H8=this.$Cl,t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h(this.$L,null,n,this.$Cl)):(n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,this.$L8),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h(this.$L,this.$L8,n,null));this.$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,t)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B(this.$12z("InternalDispose"),2001,{PrimaryEntity:this.$6q,DashboardCategory:this.$Xf,FilterByAttributeName:this.$I3,IsEntityDashboard:this.$141},"DashboardDisposed");this.$6q=null;this.$L8=null;this.$NQ=null;this.$I7=null;this.set_DashboardCategory(null);this.$FW=null;this.$Cl=null;this.$dI=null;this.$CG=null;this.$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,this.$$d_HandleFilterChangeInitiatedEvent);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bl=function(){this.$$d_$2kv=Function.createDelegate(this,this.$2kv);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bl.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bl.prototype={$1QA:!1,$2FJ:"ShouldScroll",$1B7:0,get_ScrollTopValueToSet:function(){return this.$1B7},set_ScrollTopValueToSet:function(n){return this.$1B7=n,n},$1B6:0,get_ScrollLeftValueToSet:function(){return this.$1B6},set_ScrollLeftValueToSet:function(n){return this.$1B6=n,n},get_ShouldScroll:function(){return this.$1QA},set_ShouldScroll:function(n){return this.$1QA!==n&&(this.$1QA=n,n&&this.$7(this.$2FJ)),n},$1Sa:0,get_BootstrapColumns:function(){return this.$1Sa},set_BootstrapColumns:function(n){return this.$1Sa=n,n},$1Sk:!1,get_ContainsTiles:function(){return this.$1Sk},set_ContainsTiles:function(n){return this.$1Sk=n,n},$1Sl:!1,get_ContainsVisualFilter:function(){return this.$1Sl},set_ContainsVisualFilter:function(n){return this.$1Sl=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED.prototype.$2Z.call(this);this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z,this.$$d_$2kv)},$2kv:function(n){n.$1Sg===this.$L&&(this.set_ShouldScroll(!0),this.$1B7=n.$1UG,this.$1B6=n.$1UF)},$Oh:function(){this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z,this.$$d_$2kv);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cb=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cb.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cb.prototype={$1UD:0,get_RowSpan:function(){return this.$1UD},set_RowSpan:function(n){return this.$1UD=n,n},$1Sf:0,get_ColSpan:function(){return this.$1Sf},set_ColSpan:function(n){return this.$1Sf=n,n},$ox:!1,get_IsQuickViewForm:function(){return this.$ox},set_IsQuickViewForm:function(n){return this.$ox=n,n},$1Sc:0,get_CellHeight:function(){return this.$1Sc},set_CellHeight:function(n){return this.$1Sc=n,n},$1TW:!1,get_IsQueueContainer:function(){return this.$1TW},set_IsQueueContainer:function(n){return this.$1TW=n,n},$1TS:!1,get_IsInteractionWallGridCell:function(){return this.$1TS},set_IsInteractionWallGridCell:function(n){return this.$1TS=n,n},$1TZ:!1,get_IsVisualFilterSection:function(){return this.$1TZ},set_IsVisualFilterSection:function(n){return this.$1TZ=n,n},$1TK:!1,get_IsBlankGridCell:function(){return this.$1TK},set_IsBlankGridCell:function(n){return this.$1TK=n,n},$1So:null,get_ControlName:function(){return this.$1So},set_ControlName:function(n){return this.$1So=n,n},$1Ub:null,get_TierType:function(){return this.$1Ub},set_TierType:function(n){return this.$1Ub=n,n},$1TJ:!1,get_IsAutoHeight:function(){return this.$1TJ},set_IsAutoHeight:function(n){return this.$1TJ=n,n},get_AdditionalCSSClassNamePropertyName:function(){return"AdditionalCSSClassName"}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED=function(){this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent=Function.createDelegate(this,this.HandleVisualFilterCollapsibleChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED.prototype={$rB:!1,$iF:!1,get_CheckIfCollapsed:function(){return this.$iF},set_CheckIfCollapsed:function(n){return this.$iF=n,n},$oG:!1,get_Collapsible:function(){return this.$oG},set_Collapsible:function(n){return this.$oG=n,n},$xz:!1,get_ContainsQueueContainerTier1:function(){return this.$xz},set_ContainsQueueContainerTier1:function(n){return this.$xz=n,n},$1Sj:!1,get_ContainsHeader:function(){return this.$1Sj},set_ContainsHeader:function(n){return this.$1Sj=n,n},get_DisplayLabel:function(){return this.$rB},set_DisplayLabel:function(n){return this.$rB=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),(this.$oG||this.$xz)&&(this.$iF=!0,this.$6Z().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q,this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent)))},$Oh:function(){(this.$oG||this.$xz)&&this.$6Z().$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q,this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$6Z:function(){return this.$2},HandleVisualFilterCollapsibleChangeCompletedEvent:function(){if(this.$iF=!this.$iF,this.$7("CheckIfCollapsed"),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$AC()&&!this.$iF&&this.$oG){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("VisualFilterCollapseButtonClickAcknowledged",0,this.get_ViewModelId());var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("VisualFiltersShown")},-13,"TabLayoutViewModel.HandleVisualFilterCollapsible")}},get_TabSpaceReserved:function(){return 10},RefreshData:function(){this.$6Z().refreshWithoutScriptReload()},IsTier1Dashboard:function(){return this.$6Z().$Xf==="1"}};Type.registerNamespace("Microsoft.Crm.Client.Core.Commands");Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenEmailAttachmentPopupCommand",Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$n=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(n)&&(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef=n.refreshCommand),new Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2BL=function(n){delete n.$K.$M.OverriddenEntityId;delete n.$K.$M.OverriddenEntityName};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$1po=function(n){return!$0.$0(n)&&!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"OverriddenEntityName"in n.$K.$M&&"OverriddenEntityId"in n.$K.$M?!0:!1};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.prototype={$19C:0,$2E:function(){var s=null,f=null,i=null,h=-1,u=!0,o=!0,n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),c=!1,r,t,e,l,w,b,k;if($0.$0(n)||$0.$0(n.ui)||$0.$0(n.ui.$2)||(r=n.ui.$2,t=r,Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$1po(t)?(f=t.$K.$M.OverriddenEntityId,t.$K.$M.OverriddenEntityName==="email"&&(i="4202",u=!0),Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2BL(t),o=!1,c=!0):$0.$0(t.$K)||$0.$0(t.$K.$8n)||(e=t.$K.$8n,Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$1po(e)?(f=e.$K.$M.OverriddenEntityId,e.$K.$M.OverriddenEntityName==="email"&&(i="4202",u=!0),Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2BL(e),o=!1):o=!0),!o||$0.$0(r)||$0.$0(r.get_$1B())||(f=r.get_$1B().get_Id(),r.get_$1u()==="appointment"?(i="4201",u=!1):r.get_$1u()==="email"&&(i="4202",u=!0))),$0.$0(n)||(u&&!$0.$0(n.getAttribute("statuscode"))?h=n.getAttribute("statuscode").getValue():u||$0.$0(n.getAttribute("statecode"))||(h=n.getAttribute("statecode").getValue())),l=Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$1vF(h,i),$0.$0(f)||$0.$0(i)||(s=String.format("{0}/activities/attachment/edit.aspx?pId=%7b{1}%7d&pType={2}&ish=true",n.context.getClientUrl(),f,i)),!$0.$0(s)&&(l||c)){var a=0,v=0,y=584,p=213;v=(window.screen.width-y)/2;a=(window.screen.height-p)/2;w=window.open(s,"_blank",String.format("width={0}, height={1}, top={2}, left={3}, menubar=no, toolbar=no",y,p,a,v));c||(b=this,k=function(){!$0.$0(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef)&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef.get_CanExecute()&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef.execute()});this.$1rk();this.$2rr(w)}},$2rr:function(n){var t=this;this.$19C=Microsoft.Crm.Client.Core.Framework.$22.$2zD(this.$N7,"EmailAttachmentTimer",function(){n.closed&&(t.$1rk(),!$0.$0(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef)&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef.get_CanExecute()&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef.execute())},100)},$1rk:function(){this.$19C&&(this.$19C=Microsoft.Crm.Client.Core.Framework.$22.$2NZ(this.$19C))}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Commands");Microsoft.Crm.Client.Core.ViewModels.Commands.$A7=function(n){this.$$d_$1hq=Function.createDelegate(this,this.$1hq);Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.initializeBase(this);this.$15H=n};Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("LookupFieldClickCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.$n=function(n,t){var u=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.isInstanceOfType(n),f=!$0.$0(t),i,r;return!u||!f?null:(i=n,r=new Microsoft.Crm.Client.Core.ViewModels.Commands.$A7(i),new Microsoft.Crm.Client.Core.Framework.Binding.$RG(r.$$d_$1hq,163))};Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.prototype={$15H:null,$1hq:function(){for(var i=this.$15H,n=this.$15H,r,t;n;){if(Microsoft.Crm.Client.Core.ViewModels.$Ak.isInstanceOfType(n))break;n=n.$2.$5Q(n)}r=n.$H.HorizontalTabs;t={};t.uniqueid=i.get_$2zW();t.title=i.get_Text();r.openQuickviewForm(i.get_Data().LogicalName,t)},$Oh:function(){this.$15H=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.prototype={individual:0,aggregated:1,global:2};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.registerEnum("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U",!1);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h.initializeBase(this,[n]);this.$Dy=t;this.$Pg=i;$0.$0(r)||(this.$JO=r)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h.prototype={$Dy:null,$JO:null,$Pg:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52.initializeBase(this,[n]);this.$EA=t;this.$ez=i;this.$6C=r;this.$1Jd=$0.$0(u)?!1:u};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52.prototype={$6C:null,$H8:null,$EA:0,$ez:0,$1Jd:!1,get_FilterExpression:function(){return this.$6C},get_FilterExpressionByEntity:function(){return this.$H8},set_FilterExpressionByEntity:function(n){return this.$H8=n,n},get_FilterEventType:function(){return this.$ez},get_Filtertype:function(){return this.$EA},get_IsGlobalDateRangeFilter:function(){return this.$1Jd}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il=function(n){this.$q=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il.prototype={$q:null,get_SourceId:function(){return this.$q},set_SourceId:function(n){return this.$q=n,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l=function(n,t){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l.initializeBase(this,[n]);this.$LF=t};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l.prototype={$LF:null};Type.registerNamespace("Microsoft.Crm.Client.Core.ICViewModels");Microsoft.Crm.Client.Core.ICViewModels.$QZ=function(){Microsoft.Crm.Client.Core.ICViewModels.$QZ.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$QZ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$40.$8t=new Microsoft.Crm.Client.Core.ICViewModels.$QZ};Microsoft.Crm.Client.Core.ICViewModels.$QZ.prototype={$1st:function(n){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel(n):Microsoft.Crm.Client.Core.ViewModels.$Mk.prototype.$1st.call(this,n)}};Microsoft.Crm.Client.Core.ICViewModels.$NG=function(){Microsoft.Crm.Client.Core.ICViewModels.$NG.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$NG.$$cctor=function(){Microsoft.Crm.Client.Core.Commands.$3B.$8t=new Microsoft.Crm.Client.Core.ICViewModels.$NG};Microsoft.Crm.Client.Core.ICViewModels.$NG.prototype={$1Zd:function(n,t,i,r,u){var s,v,h,y,c,l,a,w;if(Microsoft.Crm.Client.Core.ViewModels.$Ag.isInstanceOfType(r)){var e=null,f=null,o=null;if(o=r,s=o.$Ei,s.get_Count())f=s.get_$R(0),e=Xrm.Internal.getEntityName(f.TypeCode);else return null;switch(n.ParameterType){case 18:case 19:case 20:case 21:return n.Value;case 14:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Ua;case 15:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di;case 16:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$DC;case 1:return f.TypeCode;case 2:return Xrm.Internal.getEntityName(f.TypeCode);case 3:return[f.Id];case 4:return f.Id;case 7:return e?Xrm.Internal.getEntityCode(e):null;case 8:return e?e:null;case 11:case 22:return f?1:0;case 25:return 0;case 28:return 0;case 9:case 23:case 29:case 26:case 24:case 30:case 27:if(v=!0,(n.ParameterType===9||n.ParameterType===23||n.ParameterType===29||n.ParameterType===26)&&(v=!1),h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),y=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.EntityReference)),o&&(n.ParameterType===9||n.ParameterType===23||n.ParameterType===24)&&f)for(var b=s.toArray(),k=b.length,p=0;p<k;++p)c=b[p],h.add(c.Id),l=new Mscrm.EntityReference,l.Id=c.Id,l.TypeCode=c.TypeCode,y.add(l);return t===1?Microsoft.Crm.Client.Core.Commands.$3B.$1sa(h):v?y.toArray():h.toArray();case 10:return f?(a=new Mscrm.EntityReference,a.Id=f.Id,a.TypeCode=f.TypeCode,a):null;case 5:case 12:return o.$xo;case 6:case 13:return null;case 17:return Microsoft.Crm.Client.Core.ViewModels.$Af.isInstanceOfType(u)?(w={},w.SourceControlId=u.$M.CommandId,w):null;case 0:default:return null}}else return Microsoft.Crm.Client.Core.Commands.$3B.prototype.$1Zd.call(this,n,t,i,r,u)}};Microsoft.Crm.Client.Core.ICViewModels.$NH=function(){Microsoft.Crm.Client.Core.ICViewModels.$NH.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$NH.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$3W.$8t=new Microsoft.Crm.Client.Core.ICViewModels.$NH};Microsoft.Crm.Client.Core.ICViewModels.$NH.prototype={$1MT:function(n,t,i,r,u,f){if(!Microsoft.Crm.Client.Core.Framework.$6.get_$f()||"shouldOpenQuickCreate"in i&&n!=="email")Microsoft.Crm.Client.Core.ViewModels.$3W.prototype.$1MT.call(this,n,t,i,r,u,f);else{var e=new Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand(null,n,40,t);!$0.$0(i)&&"RefreshContext"in i&&Microsoft.Crm.Client.Core.ViewModels.$74.isInstanceOfType(i.RefreshContext)&&(i.RefreshContext.$d8=!0);e.$8e=i;e.$J2=f;$0.$0(r)||(e.$J=r);$0.$0(u)||(e.$1b=u);e.execute();e.dispose()}},$2Ck:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.isInstanceOfType(t)){var i=t;switch(n){case"saveandclose":i.$1so();break;default:i.$2QZ()}}else Microsoft.Crm.Client.Core.ViewModels.$3W.prototype.$2Ck.call(this,n,t)},$3Ap:function(n,t){(Microsoft.Crm.Client.Core.ViewModels.$74.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel.isInstanceOfType(n))&&(t.shouldOpenQuickCreate=!0)}};Microsoft.Crm.Client.Core.ICViewModels.$NJ=function(){Microsoft.Crm.Client.Core.ICViewModels.$NJ.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$NJ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$51.$8t=new Microsoft.Crm.Client.Core.ICViewModels.$NJ};Microsoft.Crm.Client.Core.ICViewModels.$NJ.prototype={$22O:function(n,t,i,r,u,f){var e,o,s,h;if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.isInstanceOfType(r)){if(e=r,e.$6i===1)return o=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),e.$2QY(o),s=this,h=this,o.then(function(o){o?(e.$6i=0,Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1Zl(n,t,i,r,u,f)):f.resolve(!1)},function(){f.resolve(!1)}),!1;if(e.$6i===2||!e.$6i)return!0}return Microsoft.Crm.Client.Core.ViewModels.$51.prototype.$22O.call(this,n,t,i,r,u,f)}};Microsoft.Crm.Client.Core.ICViewModels.$NI=function(){Microsoft.Crm.Client.Core.ICViewModels.$NI.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$NI.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$55.$8t=new Microsoft.Crm.Client.Core.ICViewModels.$NI};Microsoft.Crm.Client.Core.ICViewModels.$NI.prototype={$1tV:function(n,t,i,r){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var f=r,u=f.get_$Aa();return new Microsoft.Crm.Client.Core.Storage.DataApi.$2p(n,t,i,u.$1ez(u.$1BT))}return Microsoft.Crm.Client.Core.ViewModels.$55.prototype.$1tV.call(this,n,t,i,r)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q=function(){this.$8H=new Microsoft.Crm.Client.Core.ViewModels.$Cv;this.$1KT={};this.$tR={};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("InteractionCentricCommunicationCardViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q.prototype={$ed:null,$JF:"",$Kv:"",$Kw:"",$VP:"",$VQ:"",$h2:null,$Gk:null,$Gl:null,$1vX:null,$JU:null,get_ActionProvider:function(){return this.$JU},set_ActionProvider:function(n){return this.$JU=n,n},$LA:!1,get_SetActionable:function(){return this.$LA},set_SetActionable:function(n){return this.$LA=n,n},$iv:!1,get_Rerender:function(){return this.$iv},set_Rerender:function(n){return this.$iv=n,n},$ma:function(n,t,i,r){var u,f;return Xrm.Objects.EntityReference.isInstanceOfType(n.GetValue(i))?(f=n.GetValue(i),u=f.Name||t,this.$1KT[r]=f.Id.toString(),this.$tR[r]=f.LogicalName):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(n.GetValue(i))?(u=n.GetValue(i).$1G,u=u||t):(u=n.GetValue(i),u=u||t),u},$yJ:null,get_FieldNamesList:function(){return this.$yJ},set_FieldNamesList:function(n){return this.$yJ=n,n},$19S:null,get_AttributesToFetch:function(){return this.$19S},set_AttributesToFetch:function(n){return this.$19S=n,n},$6J:null,get_EntityName:function(){return this.$6J},set_EntityName:function(n){return this.$6J=n,n},$Bj:null,get_RecordId:function(){return this.$Bj},set_RecordId:function(n){return this.$Bj=n,n},get_Text1:function(){return this.$JF},set_Text1:function(n){return this.$JF!==n&&(this.$JF=n),n},get_Text2:function(){return this.$Kv},set_Text2:function(n){return this.$Kv!==n&&(this.$Kv=n),n},get_Text3:function(){return this.$Kw},set_Text3:function(n){return this.$Kw!==n&&(this.$Kw=n),n},get_Text4:function(){return this.$VP},set_Text4:function(n){return this.$VP!==n&&(this.$VP=n),n},get_Text5:function(){return this.$VQ},set_Text5:function(n){return this.$VQ!==n&&(this.$VQ=n),n},get_EmailAddress:function(){return this.$ed},set_EmailAddress:function(n){return this.$ed!==n&&(this.$ed=n),n},get_PhoneNumber:function(){return this.$h2},set_PhoneNumber:function(n){return this.$h2!==n&&(this.$h2=n),n},IsLink:function(n){return $0.$0(this.$tR[n])?!1:!0},get_ImageViewModel:function(){return this.$8H},set_ImageViewModel:function(n){return this.$8H!==n&&($0.$0(this.$8H)||(this.$8H.dispose(),this.$8H=null),this.$8H=n),n},get_Button1ViewModel:function(){return this.$Gk},set_Button1ViewModel:function(n){return this.$Gk!==n&&($0.$0(this.$Gk)||(this.$Gk.dispose(),this.$Gk=null),this.$Gk=n),n},get_Button2ViewModel:function(){return this.$Gl},set_Button2ViewModel:function(n){return this.$Gl!==n&&($0.$0(this.$Gl)||(this.$Gl.dispose(),this.$Gl=null),this.$Gl=n),n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this),this.$LA=!0,this.fetchData())},fetchData:function(){var n;try{if(!$0.$0(this.$JU)&&!Microsoft.Crm.Client.Core.Framework.$3.$12(this.$6J)&&!$0.$0(this.$Bj)){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$6J),i=t.$4Y,r="<fetch mapping='logical' version='1.0'><entity name='"+this.$6J+"'>"+this.$19S+"<filter><condition attribute='"+i+"' operator='eq' value='"+this.$Bj.Id.toString()+"' /><\/filter><\/entity><\/fetch>";this.$1V=r;this.set_DefinitionId(this.get_ViewModelId());this.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(this.$1V);n=this.$JU.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}}catch(u){this.$1vX=u.stack.toString()}},$3d:function(n){for(var r,u,s,f,t=this.$yJ,h=n.get_$9o().$1mk(),i,o=h,c=o.length,e=0;e<c;++e)if(r=o[e],Microsoft.Crm.Client.Core.Framework.$3.$12(t[3])||(i=this.$ma(r,"",t[3],"Text1"),this.set_Text1(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$12(t[4])||(i=this.$ma(r,"",t[4],"Text2"),this.set_Text2(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$12(t[5])||(i=this.$ma(r,"",t[5],"Text3"),this.set_Text3(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$12(t[6])||(i=this.$ma(r,"",t[6],"Text4"),this.set_Text4(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$12(t[7])||(i=this.$ma(r,"",t[7],"Text5"),this.set_Text5(i.toString())),this.$8H.set_Data(Microsoft.Crm.Client.Core.Framework.$3.$12(r.GetValue(t[0]))?"/_imgs/NavBar/EmptyUserImage.png":r.GetValue(t[0])),this.set_EmailAddress(r.GetValue(t[1])),u=t[2].split(","),u.length>1){for(f=0;f<u.length;f++)if(s=u[f],i=r.GetValue(s),i&&!Microsoft.Crm.Client.Core.Framework.$3.$12(i.toString())){this.set_PhoneNumber(i.toString());break}}else this.set_PhoneNumber(r.GetValue(t[2]));this.$1os();this.$LA&&(this.$LA=!1);this.$7("DataChanged")},$1os:function(){var t=new Microsoft.Crm.Client.Core.ViewModels.$24,h=this.$ed,f={},i,u,l,o,r,s;f.protocol="mailto:";f.target=h;f.CommandName="TileButton1";t.set_Parameters(f);t.$Gi=Microsoft.Crm.Client.Core.Framework.$6.get_$3A();t.set_Command("UrlLauncherCommand");t.set_ImageType("Symbol");t.set_ImageName("NewEmail");Microsoft.Crm.Client.Core.Framework.$3.$12(h)&&(t.$1g.set_CanExecute(!1),t.set_Enabled(!1));this.set_Button1ViewModel(t);var n=new Microsoft.Crm.Client.Core.ViewModels.$24,c=this.$h2,e={};e.target=c;e.CommandName="TileButton2";n.set_Parameters(e);n.$Gi=Microsoft.Crm.Client.Core.Framework.$6.get_$3A();n.set_Command("SkypeUrlLauncherCommand");n.set_ImageType("Symbol");n.set_ImageName("NewPhoneCall");i=n.$1g;Microsoft.Crm.Client.Core.Framework.$3.$12(c)&&(n.$1g.set_CanExecute(!1),n.set_Enabled(!1));$0.$0(this.$Bj)||(u=this.$Bj,l=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$QK(u.get_$BZ(),u.get_$4m(),this.$Bj.Name),i.$xG=l,o=this.$2,Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(o)?(r=o.get_ModelContext(),s=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r.get_ModelName()),$0.$0(r)||$0.$0(s)||(i.$FI=r.get_Id(),i.$hI=r.GetValue(s.$59),i.$Uo=r.get_ModelName())):(i.$FI=u.get_$4m(),i.$hI=this.$Bj.Name,i.$Uo=u.get_$BZ()));this.set_Button2ViewModel(n)},navigateToRecord:function(n){if(this.IsLink(n)){var i=new Xrm.Objects.EntityReference(this.$tR[n].toString(),new Microsoft.Crm.Client.Core.Framework.Guid(this.$1KT[n].toString())),r={EntityReference:i},t=new Microsoft.Crm.Client.Core.Commands.$2R(null,40);try{t.$D=this.$tR[n].toString();t.$x=r;t.execute()}finally{t.dispose()}}else return},$Oh:function(){$0.$0(this.$Gk)||(this.$Gk.dispose(),this.set_Button1ViewModel(null));$0.$0(this.$Gl)||(this.$Gl.dispose(),this.set_Button2ViewModel(null));$0.$0(this.$8H)||(this.$8H.dispose(),this.set_ImageViewModel(null));this.$Bj=null;this.$yJ=null;this.$tR=null;this.$1KT=null;Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("RichEntityContentViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$33R)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$33R=function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.prototype={$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel);Microsoft.Crm.Client.Core.ViewModels.$8Z.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8Z",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O);Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.$Bk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bk",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$S3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$S3",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$SS.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SS",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd);Microsoft.Crm.Client.Core.ViewModels.$By.registerClass("Microsoft.Crm.Client.Core.ViewModels.$By",Microsoft.Crm.Client.Core.ViewModels.$SS);Microsoft.Crm.Client.Core.ViewModels.$C2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$C2",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.$C0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$C0",Microsoft.Crm.Client.Core.ViewModels.$C2);Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$HM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$HM");Microsoft.Crm.Client.Core.ViewModels.$9M.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9M",Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$C1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$C1",Microsoft.Crm.Client.Core.ViewModels.$C2,Microsoft.Crm.Client.Core.ViewModels.$Ek);Microsoft.Crm.Client.Core.ViewModels.$CY.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CY",Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel,Microsoft.Crm.Client.Core.ViewModels.$Ek);Microsoft.Crm.Client.Core.ViewModels.$D0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D0",Microsoft.Crm.Client.Core.ViewModels.$7G);Microsoft.Crm.Client.Core.ViewModels.$D2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D2",Microsoft.Crm.Client.Core.ViewModels.$D0);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$D2);Microsoft.Crm.Client.Core.ViewModels.$CZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CZ",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel",Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel);Microsoft.Crm.Client.Core.ViewModels.$6Y.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6Y",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel);Microsoft.Crm.Client.Core.ViewModels.$Ca.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ca",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$Df.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Df",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$Dg.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dg",Microsoft.Crm.Client.Core.ViewModels.$SK,Microsoft.Crm.Client.Core.ViewModels.$Ek);Microsoft.Crm.Client.Core.ViewModels.$E9.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E9",Microsoft.Crm.Client.Core.ViewModels.$Dt,Microsoft.Crm.Client.Core.ViewModels.$Ek);Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel",Microsoft.Crm.Client.Core.ViewModels.$S3);Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel",Microsoft.Crm.Client.Core.ViewModels.$SS);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel);Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$Di.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Di",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$2v,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$75);Microsoft.Crm.Client.Core.ViewModels.$9U.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9U",Microsoft.Crm.Client.Core.ViewModels.$Di,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$DC,Microsoft.Crm.Client.Core.ViewModels.$4B);Microsoft.Crm.Client.Core.ViewModels.$Cd.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cd",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel,Microsoft.Crm.Client.Core.ViewModels.$6Z,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$86,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.$A8);Microsoft.Crm.Client.Core.ViewModels.$D5.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D5",Microsoft.Crm.Client.Core.ViewModels.$C2);Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.$HL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$HL");Microsoft.Crm.Client.Core.ViewModels.$SJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SJ",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$El);Microsoft.Crm.Client.Core.ViewModels.$5R.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5R");Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile");Microsoft.Crm.Client.Core.ViewModels.$HK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$HK");Microsoft.Crm.Client.Core.ViewModels.$8B.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8B");Microsoft.Crm.Client.Core.ViewModels.$2q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2q");Microsoft.Crm.Client.Core.ViewModels.$SL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SL",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$El);Microsoft.Crm.Client.Core.ViewModels.$29.registerClass("Microsoft.Crm.Client.Core.ViewModels.$29",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$El);Microsoft.Crm.Client.Core.ViewModels.$74.registerClass("Microsoft.Crm.Client.Core.ViewModels.$74",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Fu);Microsoft.Crm.Client.Core.ViewModels.$9r.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9r",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$9M);Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel",Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel);Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$3R);Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.$Af.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Af",Microsoft.Crm.Client.Core.ViewModels.$7n);Microsoft.Crm.Client.Core.ViewModels.$7Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7Q");Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper",Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper);Microsoft.Crm.Client.Core.ViewModels.$Ag.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ag",Microsoft.Crm.Client.Core.ViewModels.$7n,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cq,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$Dv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dv",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel);Microsoft.Crm.Client.Core.ViewModels.$ER.registerClass("Microsoft.Crm.Client.Core.ViewModels.$ER",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bp.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bp",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel",Microsoft.Crm.Client.Core.ViewModels.RootViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bl.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bl",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cb.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cb",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd);Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$A7",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il);Microsoft.Crm.Client.Core.ICViewModels.$QZ.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$QZ",Microsoft.Crm.Client.Core.ViewModels.$Mk);Microsoft.Crm.Client.Core.ICViewModels.$NG.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$NG",Microsoft.Crm.Client.Core.Commands.$3B);Microsoft.Crm.Client.Core.ICViewModels.$NH.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$NH",Microsoft.Crm.Client.Core.ViewModels.$3W);Microsoft.Crm.Client.Core.ICViewModels.$NJ.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$NJ",Microsoft.Crm.Client.Core.ViewModels.$51);Microsoft.Crm.Client.Core.ICViewModels.$NI.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$NI",Microsoft.Crm.Client.Core.ViewModels.$55);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$Eb);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel",Microsoft.Crm.Client.Core.ViewModels.$S1);Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentsListRefreshPropertyName="AttachmentsRefresh";Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentPopupWindowWidth=584;Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentPopupWindowHeight=213;Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Df.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Dg.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$E9.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$2q.$16h=null;Microsoft.Crm.Client.Core.ViewModels.$2q.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$29.$lA=null;Microsoft.Crm.Client.Core.ViewModels.$29.$fr=0;Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1e4=!1;Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef=null;Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$QZ.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$NG.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$NH.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$NJ.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$NI.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.ICViewModels.js.srcmap
Type.registerNamespace("Microsoft.Crm.Client.Core.Controls");Microsoft.Crm.Client.Core.Controls.TabPriority=function(){};Microsoft.Crm.Client.Core.Controls.$IU=function(){this.viewManager=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43);this.userAgent=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance();this.memoryUsageTracker=Microsoft.Crm.Client.Core.ViewModels.$11.get_$6();this.device=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device();this.navigation=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j;this.theming=Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.get_instance();this.applicationShellViewModel=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();this.childControlTypeNameResolver=Microsoft.Crm.Client.Core.ViewModels.$6o.$31w;this.getLocalizedString=Microsoft.Crm.Client.Core.Framework.Common.$2.$4;this.getTextBoxTypeString=Microsoft.Crm.Client.Core.ViewModels.$4k.getTextBoxTypeString;this.focusField=Microsoft.Crm.Client.Core.Framework.$1Q.$2Xc;this.interceptBlurringEvents=Microsoft.Crm.Client.Core.Framework.$1Q.$2n7;this.scrollBarWidth=Microsoft.Crm.Client.Core.Framework.$1Q.get_ScrollBarWidth();this.navigationDispatcher=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j;this.customEventHandlersManager=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6();this.getUrlLauncherCommand=Microsoft.Crm.Client.Core.Commands.UrlLauncherCommand.$1t1;this.isPhone=Microsoft.Crm.Client.Core.Framework.$6.get_$3A();this.isInteractionCentric=Microsoft.Crm.Client.Core.Framework.$6.get_$f();this.isMailApp=Microsoft.Crm.Client.Core.Framework.$6.get_$4U();this.reactBackHandlerHelper=Microsoft.Crm.Client.Core.Controls.$3q.get_$6();this.isUserCultureRightToLeft=Microsoft.Crm.Client.Core.Framework.$6N.$1ey();this.isPreview=Microsoft.Crm.Client.Core.Framework.$6.$4N;this.xrmUIControlsWrapper=Microsoft.Crm.Client.Core.ViewModels.XrmUIControlsWrapper.get_$6();this.getPerformanceStopwatch=Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.$2TA;this.isUsingPointerUp=Microsoft.Crm.Client.Core.Framework.$1Q.get_$2pO();this.schedulerCreateOwnerToken=Microsoft.Crm.Client.Core.Framework.Scheduler.$1YG;var n=new Microsoft.Crm.Client.Core.Controls.$IV;this.mapTouchEvents=n.$$d_$2rS;this.simulateMouseEventForLongPress=n.$$d_$38e;this.transitionPropertyName=this.$1u0("-moz-transition","-webkit-transition","transition");this.transformPropertyName=this.$1u0("-moz-transform","-webkit-transform","transform")};Microsoft.Crm.Client.Core.Controls.$IU.prototype={mapTouchEvents:null,simulateMouseEventForLongPress:null,transitionPropertyName:null,transformPropertyName:null,getTranslateValue:function(n,t){return this.userAgent.$4T||this.userAgent.$g5?"translate("+n.toString()+"px, "+t.toString()+"px)":"translate3D("+n.toString()+"px, "+t.toString()+"px, 0px)"},get_KeyboardHeight:function(){return Microsoft.Crm.Client.Core.Framework.$1Q.get_$2pf()},focusNextMajorComponent:function(n,t){var u=n.closest(".majorComponent"),o,e,h,r,f,i,s,c;if(!u.length&&n[0].parentNode)if(n[0].parentNode.childNodes){if(o=n[0].parentNode.childNodes.length,o>0)for(e=0;e<o;e++)if(h=$(n[0].parentNode.childNodes[e]),u=h.closest(".majorComponent"),u.length>0)break}else u=$(n[0].parentNode).closest(".majorComponent");for(r=$(document.body).find(".majorComponent"),f=r.length,i=0;i<f;i++){if(s=i===f-1?0:i+1,c=i>=1?i-1:f-1,i===f-1){$(r[s]).focus();return}if(r[i]===u[0]){t?$(r[c]).focus():$(r[s]).focus();return}}},$1u0:function(n,t,i){return this.userAgent.$g5?n:this.userAgent.$HL?i:t}};Microsoft.Crm.Client.Core.Controls.$3q=function(){this.$fj=new Array(0)};Microsoft.Crm.Client.Core.Controls.$3q.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Core.Controls.$3q.$C)&&(Microsoft.Crm.Client.Core.Controls.$3q.$C=new Microsoft.Crm.Client.Core.Controls.$3q),Microsoft.Crm.Client.Core.Controls.$3q.$C};Microsoft.Crm.Client.Core.Controls.$3q.prototype={addHandler:function(n){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&(Array.add(this.$fj,n),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("ReactFieldPopover",!0),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.updateBackBehavior())},removeHandler:function(n){if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U){var t=Array.remove(this.$fj,n);return this.$2HG(),t}return!1},$2W0:function(){var n=this.$vL();this.$2HG();$0.$0(n)||n()},$2HG:function(){this.$fj.length<1&&(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.changeState("ReactFieldPopover",!1),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.updateBackBehavior())},$vL:function(){var n=this.$fj[this.$fj.length-1];return Array.removeAt(this.$fj,this.$fj.length-1),n}};Microsoft.Crm.Client.Core.Controls.$IV=function(){this.$$d_$39t=Function.createDelegate(this,this.$39t);this.$$d_$38e=Function.createDelegate(this,this.$38e);this.$$d_$2rS=Function.createDelegate(this,this.$2rS)};Microsoft.Crm.Client.Core.Controls.$IV.prototype={$2rS:function(n){var t=n;t.unbind("touchstart");t.unbind("touchmove");t.unbind("touchend");t.bind("touchstart",this.$$d_$39t);t.bind("touchmove",this.$$d_$39t);t.bind("touchend",this.$$d_$39t)},$38d:function(n){var t=!$0.$0(n);return t?this.$38f(n):!1},$38e:function(n){var t=-1,i=-1,r,u,f;return $0.$0(n.changedTouches)?(t=n.clientX,i=n.clientY):(t=n.changedTouches[0].pageX,i=n.changedTouches[0].pageY),r=document.createEvent("MouseEvent"),r.initMouseEvent("mousedown",!0,!0,window.self,1,t,i,t,i,!1,!1,!1,!1,0,null),u=document.createEvent("MouseEvent"),u.initMouseEvent("mousemove",!0,!0,window.self,1,t,i,t,i,!1,!1,!1,!1,0,null),f=this,Microsoft.Crm.Client.Core.Framework.$5F.$1IV(function(){if(n.target.dispatchEvent(r),n.target.dispatchEvent(u),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$HL){var t=$(n.target);t.parents(".scrollRegion").first().css("overflow-y","auto")}}),!0},$38f:function(n){var e=!$0.$0(n.originalEvent),r,f,t,i,u,o;return e?(r=n.originalEvent.changedTouches,f=!$0.$0(r)&&r.length>0,!f)?!1:(t=r[0],i="",n.type==="touchstart"?i="mousedown":n.type==="touchmove"?i="mousemove":n.type==="touchend"&&(i="mouseup"),u=document.createEvent("MouseEvent"),u.initMouseEvent(i,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),o=this,Microsoft.Crm.Client.Core.Framework.$5F.$1IV(function(){n.target.dispatchEvent(u)}),!0):!1},$39t:function(n){n.preventDefault();return this.$38d(n)}};Type.registerNamespace("Microsoft.Crm.Client.Core.Views");Microsoft.Crm.Client.Core.Views.ViewManager=function(){this.getDefinitionCallbacks={};this.$5M={}};Microsoft.Crm.Client.Core.Views.ViewManager.prototype={$ns:function(n,t){if(this.$5M[n]=t,n in this.getDefinitionCallbacks){Microsoft.Crm.Client.Core.Framework.$8.$1E("Get view definition callback",128,n);var i=this.getDefinitionCallbacks[n];i(t);delete this.getDefinitionCallbacks[n]}},$1XL:function(n){this.$1uo(n)},requestDefinition:function(n,t){n in this.$5M?(Microsoft.Crm.Client.Core.Framework.$8.$1E("Get view definition in cache",128,n),t(this.$5M[n])):(Microsoft.Crm.Client.Core.Framework.$8.$1E("Get view definition callback requested",128,n),this.getDefinitionCallbacks[n]=t)},removeDescriptor:function(n){n in this.$5M&&delete this.$5M[n]},$1uo:function(n){delete this.$5M[n];delete this.getDefinitionCallbacks[n]}};Microsoft.Crm.Client.Core.Controls.TabPriority.registerClass("Microsoft.Crm.Client.Core.Controls.TabPriority");Microsoft.Crm.Client.Core.Controls.$IU.registerClass("Microsoft.Crm.Client.Core.Controls.$IU");Microsoft.Crm.Client.Core.Controls.$3q.registerClass("Microsoft.Crm.Client.Core.Controls.$3q");Microsoft.Crm.Client.Core.Controls.$IV.registerClass("Microsoft.Crm.Client.Core.Controls.$IV");Microsoft.Crm.Client.Core.Views.ViewManager.registerClass("Microsoft.Crm.Client.Core.Views.ViewManager",null,Microsoft.Crm.Client.Core.Framework.$43);Microsoft.Crm.Client.Core.Controls.TabPriority.None=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.Default=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.SiteMap=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.SiteMapItem=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.HomepageButton=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.ProcessStageButton=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.PageNavigator=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.PaneTitle=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.PaneContent=-1;Microsoft.Crm.Client.Core.Controls.TabPriority.FormCommandButton=-1;Microsoft.Crm.Client.Core.Controls.$3q.$C=null
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.Controls.js.srcmap
Type.registerNamespace("Microsoft.Crm.Client.Core.Commands");Microsoft.Crm.Client.Core.Commands.PinCommand=function(n,t){this.$$d_$2vZ=Function.createDelegate(this,this.$2vZ);this.$$d_$nr=Function.createDelegate(this,this.$nr);this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.PinCommand.initializeBase(this);var i=t.InitializationParameters;this.set_$1z(this.$$d_$2E);this.$9e=n;this.$T=i.TargetViewModel;this.$Hl=i.StartScreen?"{D04E4181-ED85-4305-A3DC-3DA59C00F25B}":Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString();this.$13q="IsBoundToScreen"in i&&i.IsBoundToScreen;this.$1PC=this.$9e.$1G;this.$1n7();this.get_CanExecute()&&(this.$nr(),Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$T)&&(this.$ue=this.$$d_$nr,this.$T.add_$td(this.$ue)))};Microsoft.Crm.Client.Core.Commands.PinCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("PinCommand",Microsoft.Crm.Client.Core.Commands.PinCommand.$n)};Microsoft.Crm.Client.Core.Commands.PinCommand.$1X0=function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Pc.$2j4(function(n){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$nB(new Microsoft.Crm.Client.Core.Framework.Guid("{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"),Microsoft.Crm.Client.Core.Commands.PinCommand.get_$Y()).done(function(t){for(var h,i,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38)),e=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),o={},s=n,l=s.length,u=0;u<l;++u)h=s[u],o[h]=null;for(var c=t.$SA,a=c.length,f=0;f<a;++f)i=c[f],i.$Ci.toString()in o||(r.add(i),e.add(i.$Ci.toString()));r.get_Count()>0&&(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1Ef(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$56(new Microsoft.Crm.Client.Core.Framework.Guid("{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"),r.toArray()),Microsoft.Crm.Client.Core.Commands.PinCommand.get_$Y()),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Pc.$2Op(e.toArray()))})})};Microsoft.Crm.Client.Core.Commands.PinCommand.get_$Y=function(){return Microsoft.Crm.Client.Core.Framework.$q.$4t("","PinCommand")};Microsoft.Crm.Client.Core.Commands.PinCommand.$n=function(n,t){return new Microsoft.Crm.Client.Core.Commands.PinCommand(n,t)};Microsoft.Crm.Client.Core.Commands.PinCommand.$2Q8=function(n){var i=window.document.createElement("img"),t,r;return i.setAttribute("src",n),t=window.document.createElement("canvas"),t.width=i.getAttribute("width"),t.height=i.getAttribute("height"),t.getContext("2d").drawImage(i,0,0),r=t.toDataURL("image/png"),r.substr(22)};Microsoft.Crm.Client.Core.Commands.PinCommand.prototype={$9e:null,$T:null,$Hl:null,$13q:!1,$1PC:null,$ue:null,$2H:null,$1RI:null,$2vZ:function(n,t){this.$2H===t.$2H&&this.$nr()},$1qc:function(){var r=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$Hl),u,h,f,c,i,e,o,s;if(!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$T.get_$1u())&&Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$T)&&(u=this.$T,!$0.$0(u.$q)))return Microsoft.Crm.Client.Core.Models.$3p.$X(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38(r,this.$T.get_$1u(),new Microsoft.Crm.Client.Core.Framework.Guid(u.$q),1,u.$88));if(!$0.$0(this.$T.get_$1B()))return h=this.$T.get_$1B(),Microsoft.Crm.Client.Core.Models.$3p.$1Dv(r,h.$I);if(this.$T.$g===1&&(f=this.$T,!$0.$0(f.$q)))return c="IsPowerBIDashboard="+f.$14O.toString(),Microsoft.Crm.Client.Core.Models.$3p.$X(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38(r,"Workspace".toUpperCase(),new Microsoft.Crm.Client.Core.Framework.Guid(f.$q),4,c));if(this.$T.$g===50){var l=this.$T.get_Root(),t=l.$CL.powerBIFullScreenComponent,n={};n.externalContextPowerBIUrl=t.$Po;n.groupId=t.$Sd;n.dashboardId=t.$Sc;n.tileId=t.$dM;n.reportId=t.$dL;n.reportEmbedUrl=t.$in;n.powerBIComponentType=t.$W2;i="";e=n;for(o in e)s={key:o,value:e[o]},i+=String.format("{0}={1}&",CrmEncodeDecode.CrmUrlEncode(s.key),CrmEncodeDecode.CrmUrlEncode(s.value));return i=i.substring(0,i.length-1),Microsoft.Crm.Client.Core.Models.$3p.$X(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38(r,"PowerBIFullScreenPage".toUpperCase(),Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),5,i))}return Microsoft.Crm.Client.Core.Framework.Trace.logError(1014,"Attempted to pin with unrecognized context."),Error.invalidOperation("Attempted to pin with unrecognized context."),null},$1n7:function(){var n,t;this.$13q&&this.$Hl!==Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?Error.argument("descriptor","Pin command must have empty ScreenId if it is bound to the pin screen."):!this.$13q&&Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Hl)&&Error.argument("descriptor","Pin command must have non-empty ScreenId if not bound to the pin screen.");n=!$0.$0(this.$T);(this.$T.get_$1u()==="opportunityproduct"||this.$T.get_$1u()==="productpricelevel")&&(n=!1);this.$Hl!=="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"||Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Pc.$1U||(n=!1);this.$T.get_$BV()&&(n=!1);Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$T)&&(t=this.$T,Microsoft.Crm.Client.Core.Framework.$3.$9(t.$88)||(n=!1),this.$13q&&(n=!1),!Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(t)||t.$fc||Microsoft.Crm.Client.Core.Framework.$6.get_$3A()||(n=!1));this.set_CanExecute(n)},$nr:function(){var t,n,i;this.$2h||(t=this.$1qc(),$0.$0(t))||($0.$0(this.$2H)&&(this.$2H=t.get_$25().get_$8a(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$1VM(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38,this.$2H,this.$$d_$2vZ)),this.$Hl==="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Pc.$1U&&this.$39W(1e3),n=this,i=this,t.$1rH().then(function(t){if(!$0.$0(n.$9e)){var i=n.$9e.$Ee;t?(n.$9e.set_Label(Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_PinCommand_Unpin_Text"),n.$1PC)),i["data-pinned"]="1",Microsoft.Crm.Client.Core.ViewModels.$7n.isInstanceOfType(n.$9e)&&n.$9e.set_ImageName("Unpin")):(n.$9e.set_Label(Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_PinCommand_Pin_Text"),n.$1PC)),i["data-pinned"]=null,Microsoft.Crm.Client.Core.ViewModels.$7n.isInstanceOfType(n.$9e)&&n.$9e.set_ImageName("Pin"));n.$9e.set_TestabilityAttributes(i)}},function(n){Error.create(String.format("PinCommand has failed in UpdateLabelAndIcon:\n\n {0}",n.$F))}))},$39W:function(n){var t=new Date;(!this.$1RI||t.getTime()-this.$1RI.getTime()>n)&&(this.$1RI=new Date,Microsoft.Crm.Client.Core.Commands.PinCommand.$1X0())},$2E:function(){var t=this.$1qc(),n=this,i=this;t.$1rH().then(function(i){if(i)n.$Hl==="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Pc.$2U9(t.get_$25().$Ci.toString(),n.$9e.$15v,n.$9e.$15w,Number.parseInvariant(n.$9e.$Ih.toString()),Number.parseInvariant(n.$9e.$FU.toString()),function(i){i&&(n.$r4(t.get_$25()),window.document.body.focus())}):n.$r4(t.get_$25());else if(n.$Hl==="{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"){var e={forcerefresh:!0,pinnedtilemodel:t},f=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("PopulateTileData",e),r,u;Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$ld?(r=window.innerWidth/2-Number.parseInvariant(n.$9e.$FU.toString())/2,u=window.innerHeight/2):(r=n.$9e.$15v,u=n.$9e.$15w);f.OnSuccess=function(){var f=new Microsoft.Crm.Client.Core.Models.Tiles.Factories.$Kt,i=f.$1ts(t),e=n.$3AC("CRM "+i.get_LeftCornerText());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Pc.$2T2(t.get_$25().$Ci.toString(),n.$2N2(t.get_$25()),e,i.get_$Ja(),r,u,Number.parseInvariant(n.$9e.$Ih.toString()),Number.parseInvariant(n.$9e.$FU.toString()),function(r,u){if(r){n.$2Cr(t.get_$25());var f=Microsoft.Crm.Client.Core.Commands.PinCommand.$2Q8(i.get_$1IT());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Pc.$34a(t.get_$25().$Ci.toString(),i.get_$38s(),i.get_$38t(),i.get_$19A(),i.get_$3D7(),f,u.length?"name":"none");Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$10e().collapse()}})};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",n.$T,f)}else n.$2Cr(t.get_$25())},function(n){Error.create(String.format("PinCommand has failed in OnExecute:\n\n {0}",n.$F))})},$3AC:function(n){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$gH&&n.length>15&&(n=n.substr(0,14)+""),n},$2Cr:function(n){var t=this,i=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1Dy(n).then(function(){Microsoft.Crm.Client.Core.Framework.$8.$1E("PinCommand_OnExecute_CreateTile_Success",1014,n.get_$8a());t.$nr();Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$nB(n.$PJ,Microsoft.Crm.Client.Core.Commands.PinCommand.get_$Y())},function(n){Error.create(String.format("PinCommand has failed in CreatePinnedTile:\n\n {0}",n.$F))})},$r4:function(n){var t=this,i=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1Ee(n).then(function(){Microsoft.Crm.Client.Core.Framework.$8.$1E("PinCommand_OnExecute_DeleteTile_Success",1014,n.get_$8a());t.$nr();Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$nB(n.$PJ,Microsoft.Crm.Client.Core.Commands.PinCommand.get_$Y())},function(n){Error.create(String.format("PinCommand has failed in DeletePinnedTile:\n\n {0}",n.$F))})},$2N2:function(n){var t;switch(n.$FR){case 1:t="entitylist";break;case 4:t="dashboard";break;default:t="entityrecord"}return Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}={1}&{2}={3}&{4}={5}","navetn",CrmEncodeDecode.CrmUrlEncode(n.$C8),"navid",CrmEncodeDecode.CrmUrlEncode(n.$Ci.toString()),"navpagetype",CrmEncodeDecode.CrmUrlEncode(t))},$Oh:function(){$0.$0(this.$ue)||$0.$0(this.$T)||(this.$T.remove_$td(this.$ue),this.$ue=null);this.$T=null;this.$9e=null;$0.$0(this.$2H)||Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$1jW(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38,this.$2H,this.$$d_$2vZ);Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ShowPerformanceCommand",Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$n)};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$n=function(){return new Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand};Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.prototype={$2E:function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()}};Microsoft.Crm.Client.Core.Commands.PinCommand.registerClass("Microsoft.Crm.Client.Core.Commands.PinCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.registerClass("Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.Commands.PinCommand.$$cctor();Microsoft.Crm.Client.Core.Commands.ShowPerformanceCommand.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.Views.js.srcmap
Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$HN=function(n,t){this.$2=n;this.$vP=t};Microsoft.Crm.Client.Core.ViewModels.$HN.prototype={$2:null,$vP:null,$56:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$SN(this.$vP);return Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$13d(n,this.$2),n},$B1:function(){throw Error.notImplemented();}};Type.registerNamespace("Microsoft.Crm.Client.Application.App");Microsoft.Crm.Client.Application.App.$Gs=function(){};Microsoft.Crm.Client.Application.App.$Gs.registerInterface("Microsoft.Crm.Client.Application.App.$Gs");Microsoft.Crm.Client.Application.App.$IW=function(n){var t,i,r;this.$$d_$2si=Function.createDelegate(this,this.$2si);this.$Ad={};t=n;for(i in t)r={key:i,value:t[i]},this.$Ad[r.key]=r.value};Microsoft.Crm.Client.Application.App.$IW.prototype={$Ad:null,$sX:function(){try{if("navpagetype"in this.$Ad)return this.$2jg();if(this.$AC()){if("error"in this.$Ad)return Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093990)),null;if("pagetype"in this.$Ad)return this.$2eR()}}catch(n){Microsoft.Crm.Client.Core.Framework.Trace.logException(1004,n,"Encountered exception when creating startup view model from URL")}return null},$AC:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("AppLinking")},$2jg:function(){var i=this.$Ad.navetn,r=this.$Ad.navid,u=this.$Ad.navpagetype,n,t;switch(u){case"entitylist":n=13;break;case"dashboard":n=1;break;case"entityrecord":n=2;break;default:return Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093990)),null}return!r||!i?null:(n===2&&i.toLowerCase()==="Workspace".toLowerCase()&&(n=1),t=Microsoft.Crm.Client.Application.App.StartPage.$1E2(n,i,r,null,!1,null),$0.$0(t)||(t.$14L=!0),t)},$2eR:function(){var i=this.$Ad.etn,r=this.$Ad.id,u=this.$Ad.pagetype,t,f,n,e;switch(u){case"view":t=13;break;case"dashboard":t=1;break;case"interactioncentricdashboard":t=37;Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&$0.$0(r)&&!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq())&&(r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq().toString());break;case"entity":case"create":t=2;break;case"interactioncentricform":t=40;break;default:return Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093990)),null}return this.$3C1(t,u,r,i)?!Microsoft.Crm.Client.Core.Framework.$3.$9(i)&&!this.$2rh(i)?(Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093990)),null):Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(f=this.$2gD(i,u),f)?(Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(null,f),null):(n=Microsoft.Crm.Client.Application.App.StartPage.$1E2(t,i,r||Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString(),null,!1,null),n.$8e=this.$Ad,e=this.$Ad.tabset,Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("AssociatedGridURLAddressability")&&!$0.$0(n)&&!$0.$0(e)&&i===n.$D&&(n.$cy="AssociatedGrid0",n.add_$6F(this.$$d_$2si)),u==="create")?(this.$2kK(n),null):n:(Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093990)),null)},$2si:function(n){var e=this.$Ad.tabset,i,u,r,f,t,o;if(!$0.$0(n)&&!$0.$0(e)&&(i=n,i.remove_$6F(this.$$d_$2si),!$0.$0(i.$H)&&"InteractionCentricRelationships"in i.$H)){for(u=i.$H.InteractionCentricRelationships,u.GenerateAssociatedItems(),r=u.$yk,f=!1,t=0;t<r.length;++t)if(o=$0.$0(r[t].associatedViewData.$Eh)?"":r[t].associatedViewData.$Eh,o.toLowerCase()===e.toLowerCase()){f=!0;r[t].OpenItem();break}f||Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093990))}},$2rh:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return!!t},$2gD:function(n,t){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);if(!i)return null;if(t==="create")switch(i.$y){case"socialactivity":case"socialprofile":return String.format(Xrm.Internal.getResourceString("Web.cs.createNotSupported"),i.$1q)}return null},$1MT:function(n,t){var i=new Microsoft.Crm.Client.Core.Commands.CreateFormCommand(n,n.$D,t);i.execute();i.dispose()},$2kK:function(n){var t=CrmEncodeDecode.CrmUrlDecode(this.$Ad.data),i=Microsoft.Crm.Client.Core.Framework.Utils.$19.$399(t);this.$1MT(n,i)},$3C1:function(n,t,i,r){return Microsoft.Crm.Client.Core.Framework.$3.$9(i)&&t!=="create"&&(n===2||n===40||n===1||n===37)?!1:Microsoft.Crm.Client.Core.Framework.$3.$9(r)&&(n===2||n===40||n===13||t==="create")?!1:!0}};Microsoft.Crm.Client.Application.App.$IX=function(){};Microsoft.Crm.Client.Application.App.$IX.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$da=new Microsoft.Crm.Client.Application.App.$IX};Microsoft.Crm.Client.Application.App.$IX.prototype={$10o:!1,get_$2Q1:function(){return!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Ke())},get_$10p:function(){return this.$10o},set_$10p:function(n){return this.$10o!==n&&(this.$10o=n,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Ke().set_Enabled(this.$10o)),n}};Microsoft.Crm.Client.Application.App.$3M=function(){Microsoft.Crm.Client.Application.App.$3M.initializeBase(this)};Microsoft.Crm.Client.Application.App.$3M.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Application.App.$3M.$C)&&(Microsoft.Crm.Client.Application.App.$3M.$C=new Microsoft.Crm.Client.Application.App.$3M),Microsoft.Crm.Client.Application.App.$3M.$C};Microsoft.Crm.Client.Application.App.$3M.prototype={add_$1gn:function(n){this.$1p("AppUIInitialized",n)},remove_$1gn:function(n){this.$32("AppUIInitialized",n)},$9j:function(n,t){this.$9n(n,t)}};Microsoft.Crm.Client.Application.App.$1R=function(){};Microsoft.Crm.Client.Application.App.$1R.$300=function(n){Microsoft.Crm.Client.Application.App.$1R.$PO.add(n)};Microsoft.Crm.Client.Application.App.$1R.$2Hq=function(n){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$ch.$1U&&(n.get_$O9()?Microsoft.Crm.Client.Application.App.$1R.$PO.contains(n)||Microsoft.Crm.Client.Application.App.$1R.$PO.add(n):Microsoft.Crm.Client.Application.App.$1R.$PO.remove(n),Microsoft.Crm.Client.Application.App.$1R.$1ub(),Microsoft.Crm.Client.Application.App.$1R.$8m&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$ch.$2EJ(0))};Microsoft.Crm.Client.Application.App.$1R.$2yd=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Application.App.$1R.$2mi().then(function(){if(Microsoft.Crm.Client.Application.App.$1R.$8m){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$ch.$2eP(function(n){switch(n){case 0:case 5:case 2:Microsoft.Crm.Client.Application.App.$1R.$22W(t);break;default:Microsoft.Crm.Client.Application.App.$1R.$22V(t)}});t.always(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$ch.$2EJ(0);n.resolve(null)})}else n.resolve(null)},function(n){Microsoft.Crm.Client.Core.Framework.$8.$1E("ClientQualityManager_ProcessLastShutdownState",1004,"Unable to initialize quality management subscribers: "+n.$F)}),n.promise()};Microsoft.Crm.Client.Application.App.$1R.$2mi=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t,u;if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$ch.$1U){t=[];for(var r=Microsoft.Crm.Client.Application.App.$1R.$PO.toArray(),f=r.length,i=0;i<f;++i)u=r[i],Array.add(t,u.$2Z());Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t).always(function(){for(var t=0;t<Microsoft.Crm.Client.Application.App.$1R.$PO.get_Count();t++)Microsoft.Crm.Client.Application.App.$1R.$PO.get_$R(t).get_$O9()||(Microsoft.Crm.Client.Application.App.$1R.$PO.removeAt(t),t--);Microsoft.Crm.Client.Application.App.$1R.$1ub();n.resolve(null)})}else n.resolve(null);return n.promise()};Microsoft.Crm.Client.Application.App.$1R.$22W=function(n){for(var u,i=[],r=Microsoft.Crm.Client.Application.App.$1R.$PO.toArray(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$22W());Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).always(function(){n.resolve(null)})};Microsoft.Crm.Client.Application.App.$1R.$22V=function(n){for(var u,i=[],r=Microsoft.Crm.Client.Application.App.$1R.$PO.toArray(),f=r.length,t=0;t<f;++t)u=r[t],Array.add(i,u.$22V());Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).always(function(){n.resolve(null)})};Microsoft.Crm.Client.Application.App.$1R.$1ub=function(){Microsoft.Crm.Client.Application.App.$1R.$8m=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$ch.$1U&&Microsoft.Crm.Client.Application.App.$1R.$PO.get_Count()>0};Microsoft.Crm.Client.Application.App.$1K=function(){};Microsoft.Crm.Client.Application.App.$1K.$2OA=function(){var r=window.applicationCache,u=!$0.$0(r),n,t,f,i;if(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"AppCache - AppCache exists : "+u),n=!1,t=document.getElementsByTagName("html"),t&&t.length>0&&(f=t[0],i=f.getAttribute("manifest"),n=!$0.$0(i)&&!Microsoft.Crm.Client.Core.Framework.$3.$12(i)),Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"AppCache - Manifest specified : "+n),u&&n){Microsoft.Crm.Client.Application.App.$1K.$2Jc();try{Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"AppCache - Start Update");r.update();window.setTimeout(Microsoft.Crm.Client.Application.App.$1K.$2LZ,12e4)}catch(e){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"AppCache - Update threw exception");Microsoft.Crm.Client.Application.App.$r.$hh(Microsoft.Crm.Client.Application.App.$r.$So,!0)}}else Microsoft.Crm.Client.Application.App.$r.$hh(Microsoft.Crm.Client.Application.App.$r.$So,!0)};Microsoft.Crm.Client.Application.App.$1K.$2LZ=function(){Microsoft.Crm.Client.Application.App.$r.$e0[Microsoft.Crm.Client.Application.App.$r.$So]||(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"AppCache : No event received since 120 secs. Current Appcache status is : "+window.applicationCache.status),$0.$0(Microsoft.Crm.Client.Application.App.$1K.$1Ka)||Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Last Appcache event was : "+JSON.stringify(Microsoft.Crm.Client.Application.App.$1K.$1Ka)),window.applicationCache.status===1?Microsoft.Crm.Client.Application.App.$r.$hh(Microsoft.Crm.Client.Application.App.$r.$So,!0):window.applicationCache.status===4?Microsoft.Crm.Client.Application.App.$1K.$2HC(null):$.get("version.txt","_$123",Microsoft.Crm.Client.Application.App.$1K.$2OJ,"text"))};Microsoft.Crm.Client.Application.App.$1K.$2OJ=function(n){var t,i;if(!$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E())){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Check for appCache update failed. No previous server versions...");return}var r=new RegExp("\\d*\\.\\d*","g"),u=r.exec(n.toString()),f=r.exec(n.toString());$0.$0(u)||$0.$0(f)||(t=u[0]+"."+f[0],i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$TO,Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Retrieved server versions... Old :"+i+" New:  "+t),t===i?(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Appcache FailSafe: No update detected..."),Microsoft.Crm.Client.Application.App.$r.$hh(Microsoft.Crm.Client.Application.App.$r.$So,!0)):Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Appcache FailSafe: AppCache update has failed to complete in 120 secs..."))};Microsoft.Crm.Client.Application.App.$1K.$2Jc=function(){var n=window.applicationCache;n.onupdateready=Microsoft.Crm.Client.Application.App.$1K.$1pc;n.onerror=Microsoft.Crm.Client.Application.App.$1K.$1Vg;n.onnoupdate=Microsoft.Crm.Client.Application.App.$1K.$1Vg;n.oncached=Microsoft.Crm.Client.Application.App.$1K.$1pb;n.onchecking=Microsoft.Crm.Client.Application.App.$1K.$1C4;n.onobsolete=Microsoft.Crm.Client.Application.App.$1K.$1C4;n.ondownloading=Microsoft.Crm.Client.Application.App.$1K.$1C4};Microsoft.Crm.Client.Application.App.$1K.$2HC=function(n){var t=window.applicationCache;Microsoft.Crm.Client.Application.App.$1K.$lt(t,n);t.status===4?Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()?Microsoft.Crm.Client.Application.App.$r.$39X(1,Microsoft.Crm.Client.Core.Framework.$7.$k("Appcache updated").$Oa(),0):(t.swapCache(),window.location.reload(!0)):Microsoft.Crm.Client.Application.App.$r.$hh(Microsoft.Crm.Client.Application.App.$r.$So,!0)};Microsoft.Crm.Client.Application.App.$1K.$2LY=function(n){Microsoft.Crm.Client.Application.App.$1K.$lt(window.applicationCache,n);Microsoft.Crm.Client.Application.App.$r.$hh(Microsoft.Crm.Client.Application.App.$r.$So,!0)};Microsoft.Crm.Client.Application.App.$1K.$2LX=function(n){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,String.format("AppCache - Event : {0} Status : {1} Details : {2}",n.type,"Cached",JSON.stringify(n)));Microsoft.Crm.Client.Application.App.$r.$hh(Microsoft.Crm.Client.Application.App.$r.$So,!0)};Microsoft.Crm.Client.Application.App.$1K.$2La=function(n){Microsoft.Crm.Client.Application.App.$1K.$lt(window.applicationCache,n)};Microsoft.Crm.Client.Application.App.$1K.$lt=function(n,t){if(Microsoft.Crm.Client.Application.App.$1K.$1Ka=t,!$0.$0(t)){var i="ApplicationCacheObjectWasNull";if(Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"Received appcache event..."),!$0.$0(n))switch(n.status){case 2:i="Checking";break;case 3:i="Downloading";break;case 1:i="Idle";break;case 5:i="Obsolete";break;case 0:i="Uncached";break;case 4:i="UpdateReady";break;default:i="Unknown Status"}try{Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,String.format("AppCache - Event : {0} Status : {1} Details : {2}",t.type,i,JSON.stringify(t)))}catch(r){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(5,"LogAppCacheEvent failed")}}};Microsoft.Crm.Client.Application.App.$r=function(){};Microsoft.Crm.Client.Application.App.$r.$2m2=function(){var i;Microsoft.Crm.Client.Application.App.$r.$e0={};for(var t=Microsoft.Crm.Client.Application.App.$r.$1XH,r=t.length,n=0;n<r;++n)i=t[n],Microsoft.Crm.Client.Application.App.$r.$e0[i]=!1};Microsoft.Crm.Client.Application.App.$r.$hh=function(n,t){$0.$0(Microsoft.Crm.Client.Application.App.$r.$e0)&&Microsoft.Crm.Client.Application.App.$r.$2m2();n in Microsoft.Crm.Client.Application.App.$r.$e0&&(Microsoft.Crm.Client.Application.App.$r.$e0[n]=t,Microsoft.Crm.Client.Core.Framework.Trace.logInfo(1016,"Setting clientStatusFlag : "+n+" to true"));Microsoft.Crm.Client.Application.App.$r.$2O8()};Microsoft.Crm.Client.Application.App.$r.$2O8=function(){for(var i,t=Microsoft.Crm.Client.Application.App.$r.$1XH,r=t.length,n=0;n<r;++n)if(i=t[n],!Microsoft.Crm.Client.Application.App.$r.$e0[i])return;Microsoft.Crm.Client.Core.Framework.Trace.logInfo(1016,"All ClientStatusFlags are true, Ready to send clientReady...");Microsoft.Crm.Client.Application.App.$r.$nl()};Microsoft.Crm.Client.Application.App.$r.$nl=function(){if(!Microsoft.Crm.Client.Application.App.$r.$jc){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$1DM(null);Microsoft.Crm.Client.Application.App.$r.$jc=!0;for(var n=0;n<Microsoft.Crm.Client.Application.App.$r.$10b.length;n++)Microsoft.Crm.Client.Application.App.$r.$10b[n]();Microsoft.Crm.Client.Application.App.$r.$10b=new Array(0)}};Microsoft.Crm.Client.Application.App.$r.$39X=function(n,t,i){i===1?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Cp.$101(n,t):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$10a(n,t)};Microsoft.Crm.Client.Application.App.$r.$2Jo=function(n){Microsoft.Crm.Client.Application.App.$r.$jc?n():Microsoft.Crm.Client.Application.App.$r.$10b.push(n)};Microsoft.Crm.Client.Application.App.$1k=function(){this.$Qf={};this.$23M=["MobileClientTelemetry","MobileClientOfflineAutoOptin"];this.$29m=["MobileClientOffline"];this.isFeatureInitialized=this.$3EX;this.isFeatureEnabled=this.$1eB;this.isFeatureEnabledByFCBName=this.$3EW};Microsoft.Crm.Client.Application.App.$1k.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Application.App.$1k.$C)&&(Microsoft.Crm.Client.Application.App.$1k.$C=new Microsoft.Crm.Client.Application.App.$1k),Microsoft.Crm.Client.Application.App.$1k.$C};Microsoft.Crm.Client.Application.App.$1k.prototype={$qJ:null,$RI:null,$11q:null,$2FE:function(n){return!$0.$0(n)&&(!n.get_$31Z()||!$0.$0(this.$RI)&&n.get_$1LY()in this.$RI&&this.$RI[n.get_$1LY()])},$2Z:function(n,t){var r,i;this.$qJ=n;this.$RI=t;for(var f=Microsoft.Crm.Client.Application.App.Features.FeatureName.$1Vb,e=f.length,u=0;u<e;++u)r=f[u],(!$0.$0(this.$qJ)&&r in this.$qJ&&this.$qJ[r].$8q||!$0.$0(this.$RI)&&r in this.$RI)&&(i=null,r in this.$Qf?(i=this.$Qf[r],this.$2FE(i)&&i.get_$1eb()&&!i.get_$149()&&i.set_$AC(!0)):(i=Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$1Y8(r),this.$2FE(i)&&(i.set_$AC(!0),this.$Qf[r]=i)))},$2mE:function(n){var i,t;this.$RI=n;for(var u=this.$23M,f=u.length,r=0;r<f;++r)i=u[r],t=Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$1Y8(i),!$0.$0(t)&&!$0.$0(this.$RI)&&t.get_$1LY()in this.$RI&&this.$RI[t.get_$1LY()]&&(t.set_$AC(!0),this.$Qf[i]=t,this.InitializeFeature(i))},$2y7:function(){for(var n,i,r=this.$29m,u=r.length,t=0;t<u;++t)n=r[t],i=Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$1Y8(n),$0.$0(i)||(this.$Qf[n]=i,this.PreInitializeFeature(n))},$23O:function(){for(var i,t=Microsoft.Crm.Client.Application.App.Features.FeatureName.$1Vb,r=t.length,n=0;n<r;++n)i=t[n],this.InitializeFeature(i);MscrmComponents.RegisterComponentsUnderFeatureControl(this)},GetFeature:function(n){return this.$Qf[n]},InitializeFeature:function(n){var t=this.$Qf[n];$0.$0(t)||!t.get_$AC()||t.get_$149()||this.$Qf[n].$2Z()},PreInitializeFeature:function(n){var t=this.$Qf[n];$0.$0(t)||t.get_$1eb()||this.$Qf[n].$29l()},$1eB:function(n){return!$0.$0(n)&&!$0.$0(this.GetFeature(n))&&this.GetFeature(n).get_$AC()},$3EW:function(n){return $0.$0(this.$11q)&&this.$2xg(),this.$1eB(this.$11q[n])},$3EX:function(n){return!$0.$0(this.GetFeature(n))&&this.GetFeature(n).get_$149()},$2o2:function(n){return!$0.$0(this.GetFeature(n))&&this.GetFeature(n).get_$1eb()},$2xg:function(){var n,t,r,i;this.$11q={};n=this.$qJ;for(t in n)r={key:t,value:n[t]},i=r.value,this.$11q[i.$1Fg]=i.$kT}};Microsoft.Crm.Client.Application.App.$3E=function(){this.$$d_$2tS=Function.createDelegate(this,this.$2tS);Microsoft.Crm.Client.Application.App.$3E.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Application.App.$3E.initializeBase(this)};Microsoft.Crm.Client.Application.App.$3E.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Application.App.$3E.$C)&&(Microsoft.Crm.Client.Application.App.$3E.$C=new Microsoft.Crm.Client.Application.App.$3E),Microsoft.Crm.Client.Application.App.$3E.$C};Microsoft.Crm.Client.Application.App.$3E.prototype={$Wx:!1,$T8:!1,$h3:!1,$KD:null,$Jt:null,$1Do:null,$1Dn:!1,$XI:null,set_$2NU:function(n){return this.$Wx!==n&&(this.$Wx=n,this.$Jt.CameraDisabled=this.$Wx,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("deviceSettingInformation",this.$Jt)),n},get_$1Z0:function(){return this.$T8},set_$1Z0:function(n){return this.$T8!==n&&(this.$T8=n,this.$Jt.DeviceAccessDisabled=this.$T8,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("deviceSettingInformation",this.$Jt)),n},get_$1iJ:function(){return this.$h3},set_$1iJ:function(n){return this.$h3!==n&&(this.$h3=n,this.$Jt.PhotoSaveDisabled=this.$h3,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("deviceSettingInformation",this.$Jt)),n},get_$1dA:function(){return this.$KD},set_$1dA:function(n){return this.$KD!==n&&(this.$KD=n,this.$Jt.ImageRes=this.$KD,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("deviceSettingInformation",this.$Jt)),n},get_$ZL:function(){return this.get_$13v()&&!this.$Wx},get_$24B:function(){return this.get_$24A()&&!this.$T8},get_$2nr:function(){return this.get_$2nq()&&!this.$T8&&!this.$Wx},get_$13v:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("DeviceIntegration")&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_CameraAvailable()},get_$24A:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("DeviceIntegration")&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_$2rk()},get_$2nq:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("DeviceIntegration")&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_CameraAvailable()},get_$249:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("DeviceIntegration")&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_$2ZP()},get_$38F:function(){return this.get_$13v()||this.get_$24A()||this.get_$249()},$2Z:function(){this.$1Dn=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By;this.$Jt={};var t=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_CameraAvailable(),n=this,i=this;Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("deviceSettingInformation").then(function(i){$0.$0(i)?(n.$Wx=!t,n.$KD="DeviceDefault",n.$h3=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$gI||!t,n.$T8=!0):(n.$Wx=i.CameraDisabled||!t,n.$T8=i.DeviceAccessDisabled,n.$KD=i.ImageRes,n.$h3=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$gI||i.PhotoSaveDisabled||!t);n.$Jt.CameraDisabled=n.$Wx;n.$Jt.DeviceAccessDisabled=n.$T8;n.$Jt.ImageRes=n.$KD;n.$Jt.PhotoSaveDisabled=n.$h3},function(n){Microsoft.Crm.Client.Core.Framework.$8.$4z("DeviceIntegrationManager_Initialize",1004,"Error retrieving Session State DeviceIntegration: "+n.$F)})},$2q5:function(){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_DeviceFeatureAvailable()&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS())){var n=null;document.addEventListener("deviceready",this.$$d_$2tS);this.$1Do=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("Cordova Init");this.$1Do.start();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T&&(n=["scripts/android/cordova.js"]);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()&&(n=["scripts/ios/cordova.js"]);Microsoft.Crm.Client.Core.Framework.$1L.$13A(n,0,null)}},$jU:function(n){this.$1Dn?n():($0.$0(this.$XI)&&(this.$XI=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Function))),this.$XI.add(n))},$2tS:function(){if(this.$1Dn=!0,this.$1Do.stop(),document.removeEventListener("deviceready",this.$$d_$2tS),!$0.$0(this.$XI)){for(var n=0;n<this.$XI.get_Count();n++)$0.$0(this.$XI.get_$R(n))||this.$XI.get_$R(n)();this.$XI.clear()}}};Microsoft.Crm.Client.Application.App.$5g=function(){};Microsoft.Crm.Client.Application.App.$5g.$2lv=function(){var n=Mscrm.CrmUri.create("/AppWebServices/MetricsReportingService.asmx/Report");Microsoft.Crm.Client.Core.Framework.$t.get_$6().set_$2p0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$14Y);Microsoft.Crm.Client.Core.Framework.$t.get_$6().set_$31K(n.toString());Dynamics.Telemetry.constants.InMemoryActivitiesReportingThreshold=1};Microsoft.Crm.Client.Application.App.$5g.$2r2=function(){var t=Microsoft.Crm.Client.Application.App.$5g.$2g9(),n=new Microsoft.Crm.Client.Core.Framework.$M8("ClientShimLoad",t);Microsoft.Crm.Client.Core.Framework.$t.get_$6().$br(n);Microsoft.Crm.Client.Application.App.$5g.$2qz(n);Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(n.rid)};Microsoft.Crm.Client.Application.App.$5g.$2qz=function(n){var o={"Shim Init":"ShimInit","JavaScript Init":"JsInit","Style Init":"CssInit","RequireJs JavaScript Init":"RequireJsInit","Delayed Assets Init":"DelayedAssetsInit",DataSource_CheckRemoteDataSourceUpdates:"ServerUpdatesCheck",DataSource_SyncAllEntityAndAttributeMetadata:"SyncEntityAttributeMetadata",DataSource_SyncAllApplicationMetadata:"SyncApplicationMetadata"},s={},u=null,y,f,e,r,t,c,l,a,d,g;if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&(u=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1la(),!$0.$0(u)))for(y=u.length,f=0;f<y;f++)e=u[f],r=e.Name,e.StopTime!==-1?o[r]=e[r]:s[r]=r;for(var i=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.$MB)),p=0,w=0,b=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),nt=b.length,h=0;h<nt;++h)t=b[h],t.$1c==="PageLoadStart"?n.t=t.$45:t.$1c in o?(c=Math.round(t.$266()),c>0&&(l=o[t.$1c],i.set_$R(l,new Microsoft.Crm.Client.Core.Framework.$MB(l,c,t.get_$1ZT(),n,{})))):t.$1c in s?(a=s[t.$1c],i.set_$R(a,new Microsoft.Crm.Client.Core.Framework.$MB(a,null,t.get_$1ZT(),n,{}))):t.$1c==="DataSource_SyncEntityAttributeBatch"?p++:t.$1c==="DataSource_SyncApplicationMetadataBatch"&&w++;i.$3F5("SyncEntityAttributeMetadata")&&(i.get_$R("SyncEntityAttributeMetadata").p.Batches=p);i.$3F5("SyncApplicationMetadata")&&(i.get_$R("SyncApplicationMetadata").p.Batches=w);for(var k=i.get_$2ph(),tt=k.length,v=0;v<tt;++v)d=k[v],g=i.get_$R(d),Microsoft.Crm.Client.Core.Framework.$t.get_$6().$1VB(g)};Microsoft.Crm.Client.Application.App.$5g.$2g9=function(){var n={},t,i;return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?(t=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState(),n.Manufacturer=t.get_$1Z3(),n.DeviceModel=t.get_$1Z4(),n.InstallId=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1dd(),n.ShimVersion=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Application_Version_Format"),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1y(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$pz(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$w5(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1gU()),n.FormFactor=t.get_$1d(),n.UserAgent=window.navigator.userAgent,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U&&(i=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.get_MailState(),n.MailAppHostType=i.get_$2rK(),n.MailAppHostVersion=i.get_$2rL(),n.MailAppOWAView=i.get_$2rM()),n.ServerVersion=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$PK.$wL,n.DBVersion=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$PK.$qt,n.OSTypeVersion=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1cP()):n.PalEnabled=0,n};Microsoft.Crm.Client.Application.App.$4K=function(){if(this.$$d_$2yw=Function.createDelegate(this,this.$2yw),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U){var n=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().AddPropertyChangedListener(Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$L.$1iw.$L,function(){n.$2Hr()});this.$2Hr()}};Microsoft.Crm.Client.Application.App.$4K.$sM=function(){return $0.$0(Microsoft.Crm.Client.Application.App.$4K.$C)&&(Microsoft.Crm.Client.Application.App.$4K.$C=new Microsoft.Crm.Client.Application.App.$4K),Microsoft.Crm.Client.Application.App.$4K.$C};Microsoft.Crm.Client.Application.App.$4K.$2Z=function(){Microsoft.Crm.Client.Application.App.$4K.$sM()};Microsoft.Crm.Client.Application.App.$4K.prototype={$18J:!1,$2Hr:function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$2yv()?this.$18J||(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$159(this.$$d_$2yw),this.$18J=!0):this.$18J&&(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().remove_$159(this.$$d_$2yw),this.$18J=!1)},$2yw:function(n,t){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$3Bj(new Microsoft.Crm.Client.Core.Framework.PAL.Dispatchers.$Ns(t.$PR))}};Microsoft.Crm.Client.Application.App.$X=function(){};Microsoft.Crm.Client.Application.App.$X.$1Pz=function(){var n,t;if($0.$0(Microsoft.Crm.Client.Application.App.$X.$7Z))if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled())Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?window.setTimeout(function(){Microsoft.Crm.Client.Application.App.$X.$211()},50):Microsoft.Crm.Client.Application.App.$X.$211();else{if(Microsoft.Crm.Client.Application.App.$X.$7Z={},Microsoft.Crm.Client.Application.App.$X.$7Z.Initializing="Please stay on this screen while we get things ready for you...",Microsoft.Crm.Client.Application.App.$X.$7Z.UserEducationTip2="Press anywhere on a field to enter data.",Microsoft.Crm.Client.Application.App.$X.$7Z.SyncProgressIndicator="{0}/{1}",Microsoft.Crm.Client.Application.App.$X.$7Z.StepProgressIndicator="({0}%)",Microsoft.Crm.Client.Application.App.$X.$7Z.SyncProgressIndicatorTextStep1="Getting started",Microsoft.Crm.Client.Application.App.$X.$7Z.SyncProgressIndicatorTextStep2="Downloading metadata",Microsoft.Crm.Client.Application.App.$X.$7Z.SyncProgressIndicatorTextStep3="Processing metadata",Microsoft.Crm.Client.Application.App.$X.$7Z.SyncProgressIndicatorTextStep4="Downloading customizations",Microsoft.Crm.Client.Application.App.$X.$7Z.SyncProgressIndicatorTextStep5="Processing customizations",Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2?Microsoft.Crm.Client.Application.App.$X.$7Z.UserEducationHeaderTitle_Phone="Tips.":(Microsoft.Crm.Client.Application.App.$X.$7Z.UserEducationHeaderTitle="Here are some tips to help you get around",Microsoft.Crm.Client.Application.App.$X.$7Z.UserEducationTip1="Swipe up from the bottom edge to see commands related to what you're doing.",Microsoft.Crm.Client.Application.App.$X.$7Z.UserEducationTip3="Press and hold to see more options (the same as right-click with a mouse)."),Microsoft.Crm.Client.Core.Framework.$6.get_$f())for(Microsoft.Crm.Client.Application.App.$X.$7Z.Initializing=Microsoft.Crm.Client.Core.Framework.$1T.$d("_initializing"),Microsoft.Crm.Client.Application.App.$X.$7Z.UserEducationHeaderTitle=Microsoft.Crm.Client.Core.Framework.$1T.$d("_userEducationHeader"),n=1;n<=Microsoft.Crm.Client.Application.App.$X.$1gC;n++)t=n.toString(),Microsoft.Crm.Client.Application.App.$X.$7Z["SyncProgressIndicatorTextStep"+t]=Microsoft.Crm.Client.Core.Framework.$1T.$d("_syncStep"+t);Microsoft.Crm.Client.Application.App.$X.$1Vl(Microsoft.Crm.Client.Application.App.$X.$7Z)}else Microsoft.Crm.Client.Application.App.$X.$1Vl(Microsoft.Crm.Client.Application.App.$X.$7Z);Microsoft.Crm.Client.Application.App.$X.$110=0};Microsoft.Crm.Client.Application.App.$X.$211=function(){(!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T||Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$ps()>1)&&Array.addRange(Microsoft.Crm.Client.Application.App.$X.$1nU,Microsoft.Crm.Client.Application.App.$X.$2I4);Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1cb(Microsoft.Crm.Client.Application.App.$X.$1nU,function(n){var i,r,t;if(!$0.$0(n)){Microsoft.Crm.Client.Application.App.$X.$7Z=n;i=Microsoft.Crm.Client.Application.App.$X.$7Z;for(r in i)t={key:r,value:i[r]},t.key===Microsoft.Crm.Client.Application.App.$X.$7Z[t.key]&&(Microsoft.Crm.Client.Application.App.$X.$7Z[t.key]="");Microsoft.Crm.Client.Application.App.$X.$1Vl(Microsoft.Crm.Client.Application.App.$X.$7Z)}})};Microsoft.Crm.Client.Application.App.$X.$1Vl=function(n){var r=$("#WaitLabel",window.document.body),i=$("#UserEducationTitle",window.document.body),u=$("#HelpTip1",window.document.body),f=$("#HelpTip2",window.document.body),e=$("#HelpTip3",window.document.body),t;$0.$0(n.languageCode)||(t=Microsoft.Crm.Client.Application.App.$1v.$2gf(Microsoft.Crm.Client.Application.App.$X.$7Z.languageCode.toString()),$0.$0(t)||(r.css("font-family",t["SegoeUI-Light"]),i.css("font-family",t.SegoeUI),u.css("font-family",t.SegoeUI),f.css("font-family",t.SegoeUI),e.css("font-family",t.SegoeUI)));r.html($18.$Lp(n.Initializing.toString()));f.html($18.$Lp(n.UserEducationTip2.toString()));Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2?i.html($18.$Lp(n.UserEducationHeaderTitle_Phone.toString())):(i.html($18.$Lp(n.UserEducationHeaderTitle.toString())),u.html($18.$Lp(n.UserEducationTip1.toString())),e.html($18.$Lp(n.UserEducationTip3.toString())));Microsoft.Crm.Client.Application.App.$X.$2FV()};Microsoft.Crm.Client.Application.App.$X.$2FV=function(){var n,t;Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||(Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&$("#WarmLoadCRMUILoading",window.document.body).css("display","none"),$("#UserEducation",window.document.body).css("display","block"));Microsoft.Crm.Client.Application.App.$X.$nu||(Microsoft.Crm.Client.Core.Framework.$6.get_$f()?Microsoft.Crm.Client.Application.App.$X.$nu="/nga/resources/images/interaction_centric_user_education.png":Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2?($("#HelpTip1",window.document.body).css("display","none"),$(window.document.body).addClass("phone"),Microsoft.Crm.Client.Application.App.$X.$nu="/nga/resources/images/user_education_phone.png"):Microsoft.Crm.Client.Application.App.$X.$nu=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T?"/nga/resources/images/user_education_ios_android.png":"/nga/resources/images/user_education.png");n="userEducationImage";Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(n="interactionCentricUserEducationImage");t=window.document.getElementById(n);t.src=Microsoft.Crm.Client.Application.App.$X.$nu;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().remove_$159(Microsoft.Crm.Client.Application.App.$X.$1ZB);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$159(Microsoft.Crm.Client.Application.App.$X.$1ZB)};Microsoft.Crm.Client.Application.App.$X.$13V=function(){$("#UserEducation",window.document.body).css("display","none");var n=window.document.getElementById("userEducationImage");Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().remove_$159(Microsoft.Crm.Client.Application.App.$X.$1ZB)};Microsoft.Crm.Client.Application.App.$X.$2li=function(){$("#LoadingSection",window.document.body).css("display","none")};Microsoft.Crm.Client.Application.App.$X.$1ZB=function(n,t){var i,r;Array.indexOf(Microsoft.Crm.Client.Application.App.$X.$1uq,t.$PR)!==-1&&(i="",t.$18k>=0?(r=0,t.$1NC<t.$18k&&(r=Math.floor(t.$1NC*100/t.$18k),!$0.$0(Microsoft.Crm.Client.Application.App.$X.$7Z)&&Microsoft.Crm.Client.Application.App.$X.$7Z.StepProgressIndicator&&$("#StepProgressIndicator",window.document.body).text(String.format(Microsoft.Crm.Client.Application.App.$X.$7Z.StepProgressIndicator.toString(),r)))):(Microsoft.Crm.Client.Application.App.$X.$110++,i="SyncProgressIndicatorTextStep"+Microsoft.Crm.Client.Application.App.$X.$110.toString(),$0.$0(Microsoft.Crm.Client.Application.App.$X.$7Z)||(Microsoft.Crm.Client.Application.App.$X.$7Z.SyncProgressIndicator&&$("#SyncProgressIndicator",window.document.body).text(String.format(Microsoft.Crm.Client.Application.App.$X.$7Z.SyncProgressIndicator.toString(),Microsoft.Crm.Client.Application.App.$X.$110,Microsoft.Crm.Client.Application.App.$X.$1gC)),Microsoft.Crm.Client.Application.App.$X.$7Z[i]&&$("#SyncProgressIndicatorText",window.document.body).text(Microsoft.Crm.Client.Application.App.$X.$7Z[i].toString())),$("#StepProgressIndicator",window.document.body).empty()))};Microsoft.Crm.Client.Application.App.Automation=function(){};Microsoft.Crm.Client.Application.App.Automation.GetPerformanceMarker=function(n,t){for(var i,u=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$M9(),r=u.length-1;r>=0;r--)if((i=u[r],i.$1c===n)&&($0.$0(t)||i.$1Fs()===t))return i.$45;return-1};Microsoft.Crm.Client.Application.App.Automation.IsMetadataSyncCompleted=function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1nj()?!0:!1};Microsoft.Crm.Client.Application.App.Automation.ClearAllPerformanceMarkers=function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1DG()};Microsoft.Crm.Client.Application.App.Automation.EnablePerformanceMarkers=function(n){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.set_$AC(n);n&&Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$37G(-1)};Microsoft.Crm.Client.Application.App.Automation.ClearLocalDatabase=function(){Microsoft.Crm.Client.Application.App.StartPage.UnsetISHSyncCookie();Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N().$2H3().done(function(){window.location.replace("about:blank")})};Microsoft.Crm.Client.Application.App.Automation.CollectGlobalObjectCounts=function(){return JSON.stringify(Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.$1XO())};Microsoft.Crm.Client.Application.App.Automation.CollectApplicationMetadataSyncErrors=function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1pf()};Microsoft.Crm.Client.Application.App.Automation.InvalidateAllApplicationMetadata=function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1dm()};Microsoft.Crm.Client.Application.App.Automation.EnableGlobalObjectTracking=function(n){Microsoft.Crm.Client.Core.Framework.$1O.set_$PX(n)};Microsoft.Crm.Client.Application.App.Automation.GetMemoryUsage=function(){return Microsoft.Crm.Client.Application.App.Automation.$1gF};Microsoft.Crm.Client.Application.App.Automation.RefreshMemoryUsage=function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1cI(function(n){Microsoft.Crm.Client.Application.App.Automation.$1gF=Math.round(n/1024)})};Microsoft.Crm.Client.Application.App.Automation.RetrieveInAppAutomationInformation=function(){return JSON.stringify({InAppAutomationState:Microsoft.Crm.Client.Application.App.Automation.$fw,InAppAutomationMessage:Microsoft.Crm.Client.Application.App.Automation.$fv})};Microsoft.Crm.Client.Application.App.Automation.SetupInAppAutomationCollectorService=function(n){Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.SetCollectorServerUrl(n);Microsoft.Crm.Client.Core.ViewModels.$1N.$1m2(!0).then(function(n){Microsoft.Crm.Client.Application.App.Automation.$fv="Collector session: "+n+"\n";Microsoft.Crm.Client.Application.App.Automation.$fw=2},function(n){Microsoft.Crm.Client.Application.App.Automation.$fv="Error creating collector session: "+n.$F+"\n";Microsoft.Crm.Client.Application.App.Automation.$fw=0})};Microsoft.Crm.Client.Application.App.Automation.ExecuteInAppAutomationTestCase=function(n,t){var i,r;if(Microsoft.Crm.Client.Application.App.Automation.$fw=3,i=Microsoft.Crm.Client.Core.ViewModels.$b.CreateTestCaseForQA(n),$0.$0(i)){Microsoft.Crm.Client.Application.App.Automation.$fw=0;Microsoft.Crm.Client.Application.App.Automation.$fv="Inapp automation testcase creation failed.";return}Microsoft.Crm.Client.Application.App.Automation.$fv="Executing "+i.$3y+" "+Microsoft.Crm.Client.Core.ViewModels.$M.toString(i.$2D)+"\n";r=new Microsoft.Crm.Client.Core.ViewModels.$4r(i,t);r.$9s().then(function(){Microsoft.Crm.Client.Application.App.Automation.$fw=1;Microsoft.Crm.Client.Application.App.Automation.$fv=i.$3y+" "+Microsoft.Crm.Client.Core.ViewModels.$M.toString(i.$2D)+" Completed with Success\n"},function(){Microsoft.Crm.Client.Application.App.Automation.$fw=0;Microsoft.Crm.Client.Application.App.Automation.$fv=i.$3y+" "+Microsoft.Crm.Client.Core.ViewModels.$M.toString(i.$2D)+" Completed with Exception\n"})};Microsoft.Crm.Client.Application.App.Automation.GoOffline=function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$1F(!1)};Microsoft.Crm.Client.Application.App.Automation.ForceOfflineSync=function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N().get_$5a().get_$4K()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N().get_$5a().$1kf()};Microsoft.Crm.Client.Application.App.$2S=function(){};Microsoft.Crm.Client.Application.App.$2S.$2y0=function(){var n=[new Microsoft.Crm.Client.Application.App.Components.$6r];Microsoft.Crm.Client.Core.Framework.$2S.$2y1(n)};Microsoft.Crm.Client.Application.App.$2S.$1qP=function(){var n=[new Microsoft.Crm.Client.Application.App.Components.$IT,new Microsoft.Crm.Client.Application.App.Components.$3c];return Microsoft.Crm.Client.Core.Framework.$2S.$1qP(n)};Microsoft.Crm.Client.Application.App.ShimBackHandler=function(){this.$$d_$2sA=Function.createDelegate(this,this.$2sA)};Microsoft.Crm.Client.Application.App.ShimBackHandler.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Application.App.ShimBackHandler.$C)&&(Microsoft.Crm.Client.Application.App.ShimBackHandler.$C=new Microsoft.Crm.Client.Application.App.ShimBackHandler),Microsoft.Crm.Client.Application.App.ShimBackHandler.$C};Microsoft.Crm.Client.Application.App.ShimBackHandler.prototype={$2pr:function(n){n.add_$2sl(this.$$d_$2sA)},$2sA:function(){this.$2Vr()},$2Vr:function(){var t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),n;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().get_$2AV()?Microsoft.Crm.Client.Core.Controls.$3q.get_$6().$2W0():Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().get_$1ul()?Microsoft.Crm.Client.Core.ViewModels.$1s.$e1("InlineDialog",null):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().get_$29g()?(n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top(),Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel.isInstanceOfType(n)?n.$Wy():Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(n)&&n.$QG()):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().get_$2AM()?Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top().get_$1dz()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top().$QG():Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().get_$2GS()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top().$2lD():Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_AppBarVisible()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$10e().collapse():Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().get_$2FZ()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$u1().$5g.set_Visible(!1):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().get_$22E()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2r().$9m.set_Visible(!1):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.get_NavigationState().get_$1r0()?(Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel.isInstanceOfType(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_DialogConductor().get_Top().$QG(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_CanGoBack()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$jP().execute()):(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.updateBackBehavior(),Microsoft.Crm.Client.Core.Framework.Trace.logWarning(4,"Shim back button is firing event to server in a situation where it should not be"))}};Microsoft.Crm.Client.Application.App.$2j=function(n,t,i,r){if(this.$$d_$2Im=Function.createDelegate(this,this.$2Im),this.$$d_$2In=Function.createDelegate(this,this.$2In),Microsoft.Crm.Client.Application.App.$2j.initializeBase(this),!n||!t||!i)throw Error.argumentNull("dataSource|authenticationManager|applicationState");this.$4c=n;this.$100=t;this.$jJ=i;r&&(r.add_$2vJ(this.$$d_$2In),r.add_$2um(this.$$d_$2Im))};Microsoft.Crm.Client.Application.App.$2j.get_$6=function(){if(!Microsoft.Crm.Client.Application.App.$2j.$C)throw Error.invalidOperation("UserSecurityManager.Instance cannot be accessed before UserSecurityManager.Initialize is called.");return Microsoft.Crm.Client.Application.App.$2j.$C};Microsoft.Crm.Client.Application.App.$2j.$2Z=function(n,t,i,r){Microsoft.Crm.Client.Application.App.$2j.$C=new Microsoft.Crm.Client.Application.App.$2j(n,t,i,r)};Microsoft.Crm.Client.Application.App.$2j.prototype={$4c:null,$100:null,$jJ:null,$38c:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),r,u,f;return this.$jJ.get_$1IG()?!this.$4c.$G6()||this.$4c.get_$E().$4Q.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())||this.$4c.get_$E().$4Q.equals(n)&&this.$4c.get_$E().get_$UZ().equals(t)?i.resolve(!0):this.$4c.get_$E().$DB||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Gb||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$4c.get_$1Kh())?(u=this,f=this,this.$1XB().then(function(){i.resolve(!0)},function(n){i.reject(n)})):this.$38X(i):!this.$4c.$G6()||this.$4c.get_$E().$4Q.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())||this.$4c.get_$E().$4Q.equals(n)?i.resolve(!1):(r=this,this.$4c.$18u(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147094002,this.$4c.get_$E().$CD)).always(function(){i.reject(r.$4c.get_$E().get_$rS())})),i.promise()},$2FY:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t=this,i=this;return this.$1rL(!0).then(function(i){i?n.resolve(!1):t.$1rO(!0).then(function(i){i?n.resolve(!1):t.$34K().then(function(i){n.resolve(i);t.$100.$1ll();Microsoft.Crm.Client.Core.Framework.$8.$B("SignOutUser",4,"User signed out successfully")},function(){n.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093993));t.$1QK()})},function(){n.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093993))})},function(t){Microsoft.Crm.Client.Core.Framework.Trace.logError(4,t.$F);n.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093993))}),n.promise()},$1j5:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t=this,i=this;return this.$1rL(!1).then(function(i){i?n.resolve(!1):t.$1rO(!1).then(function(i){i?n.resolve(!1):t.$1XB().then(function(){n.resolve(!0);t.$100.$2AZ();Microsoft.Crm.Client.Core.Framework.$8.$B("ReconfigureUser",4,"User reconfigured successfully")},function(){n.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093993));t.$1QK()})},function(){n.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093993))})},function(t){Microsoft.Crm.Client.Core.Framework.Trace.logError(4,t.$F);n.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093993))}),n.promise()},$1QK:function(){Microsoft.Crm.Client.Core.ViewModels.$Q.$1QJ(-2147093993)},$38X:function(n){var t=this,i=function(){t.$1XB().then(function(){n.resolve(!0)},function(t){n.reject(t)})},r=this,u=function(){r.$100.$1qx()},f=Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().get_$F2()?"SignOut_Previous_User_Message_MoCAOffline":"SignOut_Previous_User_Message";Microsoft.Crm.Client.Core.ViewModels.$14.$1lg("",String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4(f),this.$4c.get_$E().$CD,this.$4c.get_$E().get_$gq()),u,i,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_No"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Button_Label_Yes"))},$34K:function(){var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t,i;return this.$jJ.get_$1IG()?(Microsoft.Crm.Client.Core.ViewModels.$1p.get_$6().$U5.$86(),t=this,i=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$4c.$3Bc(),this.$4c.$1rU()).then(function(){n.resolve(!0)},function(){n.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093993))})):n.resolve(!1),n.promise()},$1rL:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);if(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$T9()>0){var u=this,i=function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(null,31);n.execute();n.dispose();t.resolve(!0)},f=this,r=function(){t.resolve(!1)};Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DialogTitle_UnsavedDrafts"),this.$2fm(n),1,i,r,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ButtonText_ViewDrafts"),this.$12k(n))}else t.resolve(!1);return t.promise()},$12k:function(n){return n?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ButtonText_Signout"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ButtonText_Reconfigure")},$2fm:function(n){return this.$jJ.get_$1IG()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Drafts_Page_Warning_Message"),this.$12k(n).toLocaleLowerCase()):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("NoReconfigureSupport_Drafts_Page_Warning_Message")},$1XB:function(){Microsoft.Crm.Client.Core.ViewModels.$1p.get_$6().$U5.$86();var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),t=this,i=this;return Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$4c.$1rW(),this.$4c.$1rU()).then(function(){n.resolve(!0)},function(){n.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093993))}),n.promise()},$1rO:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i,r;return Xrm.Utility.isAppOfflineSyncEnabled()&&Xrm.Utility.isMocaOfflineFeatureEnabled()?(i=this,r=this,this.$2OH(n).then(function(r){if(r)if(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$2GK()>0){var u=function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(null,13);n.$D="syncerror";n.$x={};n.$x.ListDefinitionId="F1203E8B-6C6A-4210-906E-8428CB1FDE68";n.execute();n.dispose();t.resolve(!0)},f=function(){t.resolve(!1)};Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DialogTitle_UnResolvedSyncErrors"),String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Offline_SyncError_Records_Warning_Message"),i.$12k(n).toLocaleLowerCase()),1,u,f,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ButtonText_ViewSyncErrors"),i.$12k(n))}else t.resolve(!1);else t.resolve(!0)},function(n){t.reject(n)})):t.resolve(!1),t.promise()},$2OH:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),i=this,r=this;return Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance().$1cx().then(function(r){if(r){var u=function(){t.resolve(!0)},f=function(){t.resolve(!1)};Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("DialogTitle_UnSyncedRecords"),String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Offline_Records_Warning_Message"),i.$12k(n).toLocaleLowerCase()),1,u,f)}else t.resolve(!0)},function(n){t.reject(n)}),t.promise()},$2Im:function(){this.$1j5()},$2In:function(){this.$2FY()}};Microsoft.Crm.Client.Application.App.$1v=function(){};Microsoft.Crm.Client.Application.App.$1v.$2gf=function(n){if($0.$0(n))return null;switch(n.toLowerCase()){case"ja-jp":case"ja":return Microsoft.Crm.Client.Application.App.$1v.$ky(1041);case"zh-hans":case"zh-hans-cn":return Microsoft.Crm.Client.Application.App.$1v.$ky(2052);case"zh-hant":case"zh-hant-tw":return Microsoft.Crm.Client.Application.App.$1v.$ky(1028);case"hi":return Microsoft.Crm.Client.Application.App.$1v.$ky(1081);case"ko":return Microsoft.Crm.Client.Application.App.$1v.$ky(1042);case"th":return Microsoft.Crm.Client.Application.App.$1v.$ky(1054);default:return null}};Microsoft.Crm.Client.Application.App.$1v.$ky=function(n){var t={};return t.SegoeUI=Microsoft.Crm.Client.Application.App.$1v.$12v(n,"SegoeUI"),t["SegoeUI-Bold"]=Microsoft.Crm.Client.Application.App.$1v.$12v(n,"SegoeUI-Bold"),t["SegoeUI-Semibold"]=Microsoft.Crm.Client.Application.App.$1v.$12v(n,"SegoeUI-Semibold"),t["SegoeUI-Light"]=Microsoft.Crm.Client.Application.App.$1v.$12v(n,"SegoeUI-Light"),t["SegoeUI-Semilight"]=Microsoft.Crm.Client.Application.App.$1v.$12v(n,"SegoeUI-Semilight"),t};Microsoft.Crm.Client.Application.App.$1v.$2nu=function(n){return Array.contains(Microsoft.Crm.Client.Application.App.$1v.$1v9,n.toString())?!0:!1};Microsoft.Crm.Client.Application.App.$1v.$12v=function(n,t){if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T){if(Microsoft.Crm.Client.Application.App.$1v.$2nu(n))return n===1042?"initial":"Android CJK";if(n===1081)return"Android Hindi";if(n===1054)return"Android Thai"}switch(n){case 1041:switch(t){case"SegoeUI":case"SegoeUI-Light":case"SegoeUI-Semilight":return"HiraKakuProN-W3, Meiryo UI";case"SegoeUI-Bold":case"SegoeUI-Semibold":return"HiraKakuProN-W6, Meiryo UI";default:return"HiraKakuProN-W3, Meiryo UI"}case 2052:switch(t){case"SegoeUI":case"SegoeUI-Light":case"SegoeUI-Semilight":return"STHeitiSC-Light, Microsoft YaHei UI";case"SegoeUI-Bold":case"SegoeUI-Semibold":return"STHeitiSC-Medium, Microsoft YaHei UI";default:return"STHeitiSC-Light, Microsoft YaHei UI"}case 1028:case 3076:switch(t){case"SegoeUI":case"SegoeUI-Light":case"SegoeUI-Semilight":return"STHeitiTC-Light, Microsoft JhengHei UI";case"SegoeUI-Bold":case"SegoeUI-Semibold":return"STHeitiTC-Medium, Microsoft JhengHei UI";default:return"STHeitiTC-Light, Microsoft JhengHei UI"}case 1081:switch(t){case"SegoeUI":case"SegoeUI-Light":case"SegoeUI-Semilight":return"DevanagariSangamMN, Nirmala UI";case"SegoeUI-Bold":case"SegoeUI-Semibold":return"DevanagariSangamMN-Bold, Nirmala UI";default:return"DevanagariSangamMN, Nirmala UI"}case 1042:switch(t){case"SegoeUI":return"AppleSDGothicNeo-Regular, Malgun Gothic";case"SegoeUI-Light":case"SegoeUI-Semilight":return"AppleSDGothicNeo-Light, Malgun Gothic";case"SegoeUI-Bold":return"AppleSDGothicNeo-Bold, Malgun Gothic";case"SegoeUI-Semibold":return"AppleSDGothicNeo-SemiBold, Malgun Gothic";default:return"AppleSDGothicNeo-Regular, Malgun Gothic"}case 1054:switch(t){case"SegoeUI":case"SegoeUI-Light":case"SegoeUI-Bold":case"SegoeUI-Semibold":case"SegoeUI-Semilight":default:return"Thonburi, Leelawadee UI"}default:if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$gI)switch(t){case"SegoeUI":return"Segoe WP";case"SegoeUI-Light":return"Segoe WP Light";case"SegoeUI-Bold":return"Segoe WP Bold";case"SegoeUI-Semibold":return"Segoe WP Semibold";case"SegoeUI-Semilight":return"Segoe WP Semilight";default:return t}return t}};Microsoft.Crm.Client.Application.App.$5u=function(){};Microsoft.Crm.Client.Application.App.$5u.$2iN=function(n){switch(n){case 0:return 1;case 3:return 4;case 1:return 2;case 2:return 3;case 4:return 7;case 5:return 8;case 6:return 6;case 7:return 5;default:throw Error.invalidOperation("OperationType is not recognized without a Model context.");}};Microsoft.Crm.Client.Application.App.$5u.$2eB=function(n){switch(n){case 0:return 32;case 3:return 65536;case 1:return 1;case 2:return 2;case 4:return 4;case 5:return 16;case 6:return 262144;case 7:return 524288;default:throw Error.invalidOperation("Not implemented.");}};Microsoft.Crm.Client.Application.App.$5u.$2eb=function(n){switch(n){case 0:return 1;case 1:return 2;case 2:return 4;default:throw Error.invalidOperation("Not implemented.");}};Microsoft.Crm.Client.Application.App.$5u.prototype={get_$W:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W()},get_$E:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E()},get_$Y:function(){return Microsoft.Crm.Client.Core.Framework.$q.$4t("","SecurityContext")},$1na:function(n){return $0.$0(n)?!1:Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2L.$1na(n)},$24S:function(n){if($0.$0(n))return!1;var t=this.get_$W().$i(n);return $0.$0(t)?!1:t.$22m(2)},$6Q:function(n,t){return this.$1eX(n,t,-1)},$2oj:function(n,t){return this.$24Z(n,t,-1,!0)},$1eX:function(n,t,i){return this.$24Z(n,t,i,!1)},$24Z:function(n,t,i,r){var e=Microsoft.Crm.Client.Application.App.$5u.$2iN(t),u,f;return $0.$0(n)||$0.$0(e)?!1:(u=this.get_$W().$i(n),f=u,$0.$0(u))?!1:u.$G4&&(f=this.get_$W().$i(u.$ad),$0.$0(f))?!1:r||Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&u.$BW||u.$22m(e)?this.get_$E().$2lZ(f,e,i):!1},$14N:function(n,t,i){return this.$24Y(n,t,i,-1)},$24Y:function(n,t,i,r){var u=this.get_$W().$i(n),f=u,e,o;return $0.$0(u)||$0.$0(n)||$0.$0(i)||!Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(t)?!1:(e=t.$I,o=Microsoft.Crm.Client.Application.App.$5u.$2eB(i,e),!Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2L.$1IA(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W())||!t.$I.$Fd)?this.$1eX(n,i,r):u.$G4&&(f=this.get_$W().$i(u.$ad),$0.$0(f))?!1:Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&u.$BW||u.$1d0(o)?this.get_$E().$1IA(f,e,o,r):!1},$1HT:function(n,t,i){var r=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$1g,Object),u,f;return $0.$0(n)||$0.$0(n.get_$Fe())||Microsoft.Crm.Client.Core.Framework.$3.$9(t)?r.resolve(Microsoft.Crm.Client.Core.Framework.$1g.get_$15i()):(u=this,f=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(n.get_$Fe(),[t]),this.get_$Y()).then(function(t){if(t.get_$3F6()!==1)r.resolve(Microsoft.Crm.Client.Core.Framework.$1g.get_$15i());else{i&&i!==2&&Error.invalidOperation(String.format("Unsupported OperationType {0}. Supported OperationTypes are Create and Update.",i));var f=n.$I,u=t.get_$R(0);r.resolve(new Microsoft.Crm.Client.Core.Framework.$1g(u.$DB,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1cr(u,2,f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1cr(u,Microsoft.Crm.Client.Application.App.$5u.$2eb(i),f)))}},function(){r.resolve(Microsoft.Crm.Client.Core.Framework.$1g.get_$2AY())})),r.promise()}};Microsoft.Crm.Client.Application.App.StartPage=function(){};Microsoft.Crm.Client.Application.App.StartPage.set_$2ms=function(n){if($0.$0(Microsoft.Crm.Client.Application.App.StartPage.$13j))return Microsoft.Crm.Client.Application.App.StartPage.$13j=n,n;throw Error.invalidOperation("Home Page loaded listener delegate already bound");};Microsoft.Crm.Client.Application.App.StartPage.get_isPreview=function(){return Microsoft.Crm.Client.Core.Framework.$6.$4N};Microsoft.Crm.Client.Application.App.StartPage.set_isPreview=function(n){return Microsoft.Crm.Client.Core.Framework.$6.$4N=n,n};Microsoft.Crm.Client.Application.App.StartPage.get_$Y=function(){return Microsoft.Crm.Client.Core.Framework.$q.$4t("","StartPage")};Microsoft.Crm.Client.Application.App.StartPage.start=function(n){var f,e,o,s,i,t,r,u;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.turnOffUnhandledErrorWarnings();Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StartPageStart",1);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()||Microsoft.Crm.Client.Application.App.StartPage.$2F8();f=new Xrm.$OT;e=window.Xrm;e.Page=f;Xrm.Utility.setInstance(new Xrm.XrmUtilityWrapper);Xrm.Internal.setInstance(new Xrm.XrmInternalWrapper);Xrm.Dialog.setInstance(new Xrm.XrmDialogWrapper);XrmUI.Manager.$378(new XrmUI.XrmUIHelper);o=new Xrm.XrmServiceDirectory;Xrm.Internal.setServiceDirectory(o);Microsoft.Crm.Client.Application.App.$1K.$2OA();Microsoft.Crm.Client.Application.App.StartPage.$2Vh(n);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1li&&(Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.EnablePerformanceBadge(),Microsoft.Crm.Client.Application.App.Automation.EnablePerformanceMarkers(!0),s=window.location.protocol==="http:"?45678:45679,i=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1XP,Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.SetCollectorServerUrl(Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}//{1}:{2}",window.location.protocol,Microsoft.Crm.Client.Core.Framework.$3.$9(i)?window.location.hostname:i,s)));Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&!$0.$0(Microsoft.Crm.Client.Application.App.StartPage.$6V.pagetype)&&Microsoft.Crm.Client.Application.App.StartPage.$1iV();Microsoft.Crm.Client.Core.Framework.$u.set_$1Yu(0);t=!1;"liveid"in Microsoft.Crm.Client.Application.App.StartPage.$6V&&(t=!0);Microsoft.Crm.Client.Application.App.$1k.get_$6().$2y7();Microsoft.Crm.Client.Application.App.StartPage.$2yA(n,t);Xrm.Mobile.offline=new Xrm.Offline;Xrm.Mobile.offline.setInstance(new Microsoft.Crm.Client.Core.ViewModels.OfflineWrapper);Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Mh=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3;window.onerror=Microsoft.Crm.Client.Core.Framework.$2a.get_$6().$$d_$3F1;Microsoft.Crm.Client.Application.App.StartPage.$1R7=0;Microsoft.Crm.Client.Application.App.StartPage.$k6=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);r=Microsoft.Crm.Client.Core.Framework.$1T.$d("MetadataGenerationIframeFinished");u=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Gb;u?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$15e(function(){var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("StartPage.NativeBridge.GetMetadataBundle");n.start();Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$2hO(function(t){n.stop();Mscrm.InlinedAppData=t;Microsoft.Crm.Client.Application.App.StartPage.$k6.resolve(!0)})}):($0.$0(r)||r)&&Microsoft.Crm.Client.Application.App.StartPage.$k6.resolve(!0);u?Microsoft.Crm.Client.Application.App.StartPage.$k6.done(function(){Microsoft.Crm.Client.Application.App.StartPage.$23J(t)}):Microsoft.Crm.Client.Application.App.StartPage.$23J(t);Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&window.addEventListener("beforeunload",Microsoft.Crm.Client.Application.App.StartPage.$2sn,!1)};Microsoft.Crm.Client.Application.App.StartPage.$2sn=function(){var n,t;if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1BE){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1BE=!1;return}for(n=0;n<Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_ActiveNavigationStack().get_Count();n++)t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_ActiveNavigationStack().get_$R(n),t&&t.dispose()};Microsoft.Crm.Client.Application.App.StartPage.$23J=function(n){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$15e(Microsoft.Crm.Client.Application.App.StartPage.get_$2uR()),Microsoft.Crm.Client.Application.App.$4K.$2Z()):n?Microsoft.Crm.Client.Core.Framework.Trace.logError(97,"Unsupported client server configuration"):Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2Z().then(function(){Microsoft.Crm.Client.Application.App.$2j.$2Z(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3,Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J(),null);var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$G6()?new Microsoft.Crm.Client.Core.Framework.$N9(!1,null,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$UZ()):new Microsoft.Crm.Client.Core.Framework.$N9(!1,null,null,null);Microsoft.Crm.Client.Application.App.StartPage.$1il(n)},function(n){Microsoft.Crm.Client.Application.App.StartPage.$R0(n)})};Microsoft.Crm.Client.Application.App.StartPage.EnableBackgroundSync=function(n){Microsoft.Crm.Client.Application.App.StartPage.$1dx=n};Microsoft.Crm.Client.Application.App.StartPage.onInlinedAppDataLoaded=function(){var n=Microsoft.Crm.Client.Core.Framework.$1T.$d("MetadataGenerationIframeFinished");!$0.$0(n)&&n&&Microsoft.Crm.Client.Application.App.StartPage.$k6.resolve(!0)};Microsoft.Crm.Client.Application.App.StartPage.$2yA=function(n,t){Microsoft.Crm.Client.Core.Framework.AuthenticationManager.set_defaultInstance(Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$sM(n,t,!0));var i=Microsoft.Crm.Client.Application.App.$1k.get_$6().$2o2("MobileClientOffline");i&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().set_$5a(new Microsoft.Crm.Client.Core.Offline.$G);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$sM(Microsoft.Crm.Client.Application.App.StartPage.$2i1());i&&(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34=Microsoft.Crm.Client.Core.Offline.$Y.get_$5D());Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C.$2zx(Microsoft.Crm.Client.Application.App.$3z.get_$6());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$3Bx(Microsoft.Crm.Client.Application.App.StartPage.$28j)};Microsoft.Crm.Client.Application.App.StartPage.get_$2uR=function(){return function(){var t,n,i;if(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Gb&&(t=Microsoft.Crm.Client.Core.Framework.LocalStorage.$1F.get_$Ff().$D8("MoCATelemetryEndPoint"),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().InitializeRequestManager(t)),Microsoft.Crm.Client.Application.App.$1k.get_$6().$2mE(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG()),Microsoft.Crm.Client.Core.Framework.$23.$2r7(),Microsoft.Crm.Client.Application.App.StartPage.$2F8()),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_$1y().get_$2IK()===1){n=Microsoft.Crm.Client.Core.Framework.$7.$k("");n.$m=-2147094014;Microsoft.Crm.Client.Application.App.StartPage.$nk(0,n.$Oa(),0);return}Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2Z().then(function(){Microsoft.Crm.Client.Application.App.$X.$1Pz();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Z();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS()&&Microsoft.Crm.Client.Core.ViewModels.AboutDialogViewModel.$32j();Microsoft.Crm.Client.Application.App.$2j.$2Z(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3,Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Cp);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$2Z(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Cp);Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C.add_$Oy(Microsoft.Crm.Client.Application.App.StartPage.$1iq);Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C.$1Vy();Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$28R(Microsoft.Crm.Client.Application.App.StartPage.get_$28A());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$28G(Microsoft.Crm.Client.Application.App.StartPage.get_$289());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.add_$2u8(Microsoft.Crm.Client.Application.App.StartPage.get_$2u9());var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("Delayed Assets Init");n.start();Microsoft.Crm.Client.Core.Framework.$1L.$8().always(function(){n.stop()})},function(n){Microsoft.Crm.Client.Application.App.StartPage.$R0(n)});Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j.$1U&&(i=Microsoft.Crm.Client.Application.App.ShimBackHandler.get_$6(),i.$2pr(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$2j))}};Microsoft.Crm.Client.Application.App.StartPage.$2F8=function(){var t=Microsoft.Crm.Client.Core.Framework.$1T.$d("PageLoadStartTime"),f=Microsoft.Crm.Client.Core.Framework.$1T.$d("JsLoadStartTime"),o=Microsoft.Crm.Client.Core.Framework.$1T.$d("JsLoadEndTime"),s=Microsoft.Crm.Client.Core.Framework.$1T.$d("RequireJsLoadStartTime"),e=Microsoft.Crm.Client.Core.Framework.$1T.$d("RequireJsLoadEndTime"),r,u,i,n;if(Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.createRetroactiveStopwatch("Style Init",0,f),Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.createRetroactiveStopwatch("JavaScript Init",f,o),$0.$0(e)||Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.createRetroactiveStopwatch("RequireJs JavaScript Init",s,e),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1Q3()!==-1?(r=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1Q3()-t,Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bo("PageLoadStart",1,null,r),Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.createRetroactiveStopwatch("Shim Init",r,0)):Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bo("PageLoadStart",1,null,0),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&!$0.$0(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1la()))for(u=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1la(),i=0;i<u.length;i++)n=u[i],n.StopTime===-1?Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bo(n.Name,0,null,n.StartTime-t):Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.createRetroactiveStopwatch(n.Name,n.StartTime-t,n.StopTime-t)};Microsoft.Crm.Client.Application.App.StartPage.get_$28A=function(){return function(){var n=$("#UserEducation",window.document.body).css("display");Microsoft.Crm.Client.Application.App.StartPage.$Y1&&n!=="block"&&(Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C.$1Py(),Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C.add_$Oy(Microsoft.Crm.Client.Application.App.StartPage.$nA))}};Microsoft.Crm.Client.Application.App.StartPage.$1Re=function(){Microsoft.Crm.Client.Core.Framework.$8.$u("Start Page",1005,"TriggerMetadataUpdate : calling StartCheckForDataSourceUpdates.");Microsoft.Crm.Client.Application.App.StartPage.$1m0(new Microsoft.Crm.Client.Core.Framework.$N9(!1,null,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$UZ()))};Microsoft.Crm.Client.Application.App.StartPage.$2Bm=function(n,t){Microsoft.Crm.Client.Core.Framework.$8.$tk("DataSource_Initialize_Start",1004,null);Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C.remove_$Oy(Microsoft.Crm.Client.Application.App.StartPage.$nA);Microsoft.Crm.Client.Application.App.StartPage.$Y1=!1;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().remove_$1LQ(Microsoft.Crm.Client.Application.App.StartPage.$1Re);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$1LQ(Microsoft.Crm.Client.Application.App.StartPage.$1Re);Microsoft.Crm.Client.Application.App.StartPage.$2gz().then(function(n){var i=new Date;i.setHours(i.getHours()-24);($0.$0(n)||n<i)&&Microsoft.Crm.Client.Application.App.StartPage.$1m0(t)},Microsoft.Crm.Client.Application.App.StartPage.$R0)};Microsoft.Crm.Client.Application.App.StartPage.$1m0=function(n){Microsoft.Crm.Client.Application.App.StartPage.$252()?Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance().$1cx().then(function(t){Microsoft.Crm.Client.Core.Storage.DataApi.$D.$I4=t?!1:!0;Microsoft.Crm.Client.Application.App.StartPage.$1rK(n)},function(n){Microsoft.Crm.Client.Core.Framework.$8.$u("Start Page",1004,"StartCheckForDataSourceUpdates:Error: "+n.$F.toString());Microsoft.Crm.Client.Core.Storage.DataApi.$D.$I4=!1}):(Microsoft.Crm.Client.Core.Storage.DataApi.$D.$I4=!1,Microsoft.Crm.Client.Application.App.StartPage.$1rK(n))};Microsoft.Crm.Client.Application.App.StartPage.$1rK=function(n){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$29v(n.$HN,n.$OE,!1).then(function(n){Microsoft.Crm.Client.Core.Framework.$8.$tk("DataSource_Initialize_End",1004,null);Microsoft.Crm.Client.Application.App.StartPage.$33z(new Date);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$E(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E());Microsoft.Crm.Client.Application.App.StartPage.$1Qk().always(function(){Microsoft.Crm.Client.Core.Storage.DataApi.$D.$I4=!0;n===2&&Microsoft.Crm.Client.Application.App.StartPage.$1dw()&&(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.set_$14F(!0),Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.set_$t7(!1));!$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4s)&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4s.$7K.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())?Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$1dN(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E()).then(function(){Microsoft.Crm.Client.Application.App.StartPage.$29i(n)},Microsoft.Crm.Client.Application.App.StartPage.$R0):Microsoft.Crm.Client.Application.App.StartPage.$29i(n)})},Microsoft.Crm.Client.Application.App.StartPage.$R0).always(function(){Microsoft.Crm.Client.Application.App.StartPage.$29w()})};Microsoft.Crm.Client.Application.App.StartPage.$29i=function(n){var t,i;n!==2?Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$T9()?(i=function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(null,31);n.execute();n.dispose()},Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_SaveDrafts_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_SaveDrafts_Message"),0,i,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ButtonText_ViewDrafts"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text"))):(Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.StartCheckForDataSourceUpdates.ShowMetadataDownloadPrompt"),Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.CheckForDataSourceUpdates.ShowMetadataDownloadPrompt"),t=function(){Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.StartCheckForDataSourceUpdates.MetadataDownloadPrompt_Cancelled");Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.CheckForDataSourceUpdates.MetadataDownloadPrompt_Cancelled");Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$R7()&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.$GU(new Microsoft.Crm.Client.Core.Storage.DataApi.$QC(9))},Microsoft.Crm.Client.Core.Framework.$6.get_$f()?Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Title_IC"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Message_IC"),0,Microsoft.Crm.Client.Application.App.StartPage.get_$2HM(),t,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Button_OK_IC"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Button_Cancel_IC")):Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Message"),0,Microsoft.Crm.Client.Application.App.StartPage.get_$2HM(),t,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Button_OK"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Button_Cancel"))):Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$R7()&&(Microsoft.Crm.Client.Core.Framework.$8.$u("Start Page",1005,"StartCheckForDataSourceUpdates: update level came as no refresh. updating md sync progress as sync cancel."),Microsoft.Crm.Client.Core.Framework.$8.$u("Start Page",1005,"CheckForDataSourceUpdates: update level came as no refresh. updating md sync progress as sync cancel."),Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.$GU(new Microsoft.Crm.Client.Core.Storage.DataApi.$QC(9)),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.$xP())};Microsoft.Crm.Client.Application.App.StartPage.$29w=function(){Microsoft.Crm.Client.Application.App.StartPage.$1eG?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$24t(!0):Microsoft.Crm.Client.Application.App.StartPage.$lX=!0};Microsoft.Crm.Client.Application.App.StartPage.get_$289=function(){return function(){Microsoft.Crm.Client.Application.App.StartPage.$Y1=!0;Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$f5()}};Microsoft.Crm.Client.Application.App.StartPage.get_$2uQ=function(){return function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Pc.$1U&&Microsoft.Crm.Client.Core.Commands.PinCommand.$1X0()}};Microsoft.Crm.Client.Application.App.StartPage.get_onNativeBridgeAppLink=function(){return function(n){var r=Microsoft.Crm.Client.Core.Framework.Utils.$19.$Rc(window.location.href+n),i=new Microsoft.Crm.Client.Application.App.$IW(r).$sX(),t;$0.$0(i)||(i.$2Z(),t=new Microsoft.Crm.Client.Core.Commands.NavigationCommand(null,1),t.$T=i,t.execute(),t.dispose())}};Microsoft.Crm.Client.Application.App.StartPage.get_$2u9=function(){return function(n){var i=Sys.Serialization.JavaScriptSerializer.deserialize(n),t=i,r=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33();Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Nu(r,Microsoft.Crm.Client.Core.ViewModels.$2r.$2rY(t.EventName),t.MemoryUsage)}};Microsoft.Crm.Client.Application.App.StartPage.get_$2HM=function(){return function(){Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.StartCheckForDataSourceUpdates.MetadataDownloadPrompt_Accepted");Microsoft.Crm.Client.Application.App.$X.$1Pz();Microsoft.Crm.Client.Application.App.$1k.get_$6().$2Z(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$D4,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG());Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&$("#WaitLabel",window.document.body).text(Microsoft.Crm.Client.Application.App.$X.$7Z.Initializing.toString());Microsoft.Crm.Client.Application.App.StartPage.$1qN(1).then(function(){Microsoft.Crm.Client.Application.App.$1k.get_$6().$23O();Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Z();Microsoft.Crm.Client.Application.App.StartPage.$2BZ();Microsoft.Crm.Client.Application.App.$X.$13V()},function(n){Microsoft.Crm.Client.Application.App.$X.$13V();Microsoft.Crm.Client.Application.App.StartPage.$R0(n)}).always(function(){Microsoft.Crm.Client.Application.App.StartPage.$1dw()?Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.get_$6().$18s():Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$R7()&&($0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a())||!Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a().$ff)&&(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.set_$14F(!1),Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.set_$t7(!1))})}};Microsoft.Crm.Client.Application.App.StartPage.$2BZ=function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Application.App.StartPage.$1Hp().toLowerCase());n.$9R=!0;n.$q=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oe.toString();n.$2Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$31j(n);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$u1().$Ea();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$10e().clearCommandSets();!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("TaskBasedFlow")||Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||Microsoft.Crm.Client.Core.Framework.$6.$4N||Microsoft.Crm.Client.Core.Framework.$6.get_$f()||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2r().$Ea();!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("LandingPage")||Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||Microsoft.Crm.Client.Core.Framework.$6.$4N||Microsoft.Crm.Client.Core.Framework.$6.get_$f()||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$EL().$2BZ()};Microsoft.Crm.Client.Application.App.StartPage.$2ys=function(n,t){Microsoft.Crm.Client.Core.Framework.$8.$tk("DataSource_Initialize_Start",1004,null);Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C.remove_$Oy(Microsoft.Crm.Client.Application.App.StartPage.$1iq);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().remove_$1LQ(Microsoft.Crm.Client.Application.App.StartPage.$1Re);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$1LQ(Microsoft.Crm.Client.Application.App.StartPage.$1Re);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&(Microsoft.Crm.Client.Application.App.$r.$hh(Microsoft.Crm.Client.Application.App.$r.$1XG,!0),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T&&Microsoft.Crm.Client.Application.App.$X.$2FV());t.$HN?Microsoft.Crm.Client.Application.App.StartPage.$1il(t):Microsoft.Crm.Client.Application.App.$2j.get_$6().$38c(t.$4Q,t.$GI).then(function(){Microsoft.Crm.Client.Application.App.StartPage.$1il(t)},function(n){Microsoft.Crm.Client.Application.App.StartPage.$R0(n)})};Microsoft.Crm.Client.Application.App.StartPage.$1il=function(n){if($0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N())||$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N().get_$5a())||(Microsoft.Crm.Client.Core.Storage.DataApi.$D.$I4=!1),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$G6()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.equals(n.$4Q)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1Kh())&&!Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&!Microsoft.Crm.Client.Core.Framework.$6.$4N&&!Microsoft.Crm.Client.Core.Framework.$6.get_$4U()){Microsoft.Crm.Client.Application.App.$1k.get_$6().$2Z(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$D4,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG());Microsoft.Crm.Client.Application.App.StartPage.$16E().done(function(){Microsoft.Crm.Client.Application.App.StartPage.$1m0(n)});return}Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()||Microsoft.Crm.Client.Core.Framework.$6.get_$f()||Microsoft.Crm.Client.Application.App.$X.$1Pz();Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2M3().then(function(){var t=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1mH;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$29v(n.$HN,n.$OE,t).then(function(n){Microsoft.Crm.Client.Core.Framework.$8.$tk("DataSource_Initialize_End",1004,null);Microsoft.Crm.Client.Application.App.StartPage.$1Qk().always(function(){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n!==2&&Microsoft.Crm.Client.Application.App.$X.$1Pz();Microsoft.Crm.Client.Core.Storage.DataApi.$D.$I4=!0;Microsoft.Crm.Client.Application.App.StartPage.$3BF(n)})},function(n){Microsoft.Crm.Client.Application.App.StartPage.$R0(n)}).always(function(){Microsoft.Crm.Client.Application.App.StartPage.$29w()})},function(){var t=function(){window.location.reload(!0)},i=function(){Microsoft.Crm.Client.Application.App.$2j.get_$6().$1j5()},n={};n.Transfer_Reattempt_Prompt_Title="Transfer_Reattempt_Prompt_Title";n.Transfer_Reattempt_Prompt_Message="Transfer_Reattempt_Prompt_Message";n.Transfer_Reattempt_Prompt_Ok="Transfer_Reattempt_Prompt_Ok";n.Transfer_Reattempt_Prompt_Cancel="Transfer_Reattempt_Prompt_Cancel";Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1cb(Microsoft.Crm.Client.Application.App.StartPage.$2Gr,function(r){$0.$0(r)||(n=r);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Gb?t():Microsoft.Crm.Client.Core.ViewModels.$14.$1lg(n.Transfer_Reattempt_Prompt_Title,n.Transfer_Reattempt_Prompt_Message,t,i,n.Transfer_Reattempt_Prompt_Ok,n.Transfer_Reattempt_Prompt_Cancel,"TransferFail")}):Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Gb?t():Microsoft.Crm.Client.Core.ViewModels.$14.$1lg(n.Transfer_Reattempt_Prompt_Title,n.Transfer_Reattempt_Prompt_Message,t,i,n.Transfer_Reattempt_Prompt_Ok,n.Transfer_Reattempt_Prompt_Cancel,"TransferFail")})};Microsoft.Crm.Client.Application.App.StartPage.$xR=function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Application.App.StartPage.$1R7===1?Microsoft.Crm.Client.Application.App.StartPage.$3Ar(n,t):Microsoft.Crm.Client.Application.App.StartPage.$1qN(n).then(function(){Microsoft.Crm.Client.Core.Framework.$8.$tk("DataSource_Initialize_End",1004,null);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.ViewModels.$11.get_$6().$2Z();n===1?Microsoft.Crm.Client.Core.Framework.$V.get_$6().$1X9("NavigationStackKey").then(function(){Microsoft.Crm.Client.Application.App.StartPage.$16E().always(function(){t.resolve(!0)})},function(n){Microsoft.Crm.Client.Application.App.StartPage.$R0(n);t.reject(n)}):Microsoft.Crm.Client.Application.App.StartPage.$16E().always(function(){Microsoft.Crm.Client.Application.App.StartPage.$1dw()&&Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.get_$6().$18s();t.resolve(!0)});Microsoft.Crm.Client.Application.App.StartPage.$2Ee()},function(n){Microsoft.Crm.Client.Application.App.StartPage.$R0(n);t.reject(n)}),t.promise()};Microsoft.Crm.Client.Application.App.StartPage.$3Ar=function(n,t){n===2?(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$14I(!1),Microsoft.Crm.Client.Application.App.StartPage.$16E().always(function(){t.resolve(!0)})):Microsoft.Crm.Client.Core.Framework.$V.get_$6().$1X9("NavigationStackKey").then(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1rW().then(function(){Microsoft.Crm.Client.Application.App.StartPage.$k6.done(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2mM().then(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$14I(!0);Microsoft.Crm.Client.Application.App.StartPage.$16E().always(function(){t.resolve(!0)});Microsoft.Crm.Client.Application.App.StartPage.$1dx&&Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$xR(0).then(function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$14I(!1);Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"DataSource_Update_Complete_Success");Microsoft.Crm.Client.Application.App.StartPage.$2Ee()},function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$14I(!0);Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"DataSource_Update_Complete_Failure")})},-13,"ISH_DataSource_Async_Check")},function(n){t.reject(n)})})},function(n){t.reject(n)})},function(n){Microsoft.Crm.Client.Application.App.StartPage.$R0(n);t.reject(n)})};Microsoft.Crm.Client.Application.App.StartPage.$R0=function(n){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var t=Microsoft.Crm.Client.Core.Framework.$1T.$d("IC_Error_Message_0x"+Microsoft.Crm.Client.Core.Framework.Common.$2.$kz(n.$m)).toString();n.$F==="IC_Error_Message_Generic_Mobile_Client"&&(t=Microsoft.Crm.Client.Core.Framework.$1T.$d(n.$F)+t);n.$m===-2147094015&&Microsoft.Crm.Client.Application.App.$X.$13V();Microsoft.Crm.Client.Core.ViewModels.$14.$1lg("",t,null,null,"","");throw Error.invalidOperation(n.$F);}else Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?(n.$m===-2147220960&&(n=Microsoft.Crm.Client.Core.Framework.$7.$OQ(-2147094001)),n.$JN===3?Microsoft.Crm.Client.Core.ViewModels.$Q.$1r2(n)?Microsoft.Crm.Client.Application.App.StartPage.$1dW().always(function(){var t=function(){Microsoft.Crm.Client.Application.App.StartPage.$nk(0,Microsoft.Crm.Client.Core.Framework.$7.$OQ(-2147094e3).$Oa(),n.$JN)};Microsoft.Crm.Client.Core.ViewModels.$Q.$1lf(n,t)}):Microsoft.Crm.Client.Application.App.StartPage.$nk(0,Microsoft.Crm.Client.Core.Framework.$7.$OQ(-2147094e3).$Oa(),n.$JN):Microsoft.Crm.Client.Application.App.StartPage.$nk(0,n.$Oa(),n.$JN)):Microsoft.Crm.Client.Application.App.StartPage.$1dW().always(function(){if(n.$JN===3&&Microsoft.Crm.Client.Core.ViewModels.$Q.$1r2(n)?Microsoft.Crm.Client.Core.ViewModels.$Q.$1lf(n,null):Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(n),Microsoft.Crm.Client.Core.Framework.$7.isInstanceOfType(n)&&n.$m===-2147094e3)throw Error.invalidOperation(n.$F);})};Microsoft.Crm.Client.Application.App.StartPage.$16E=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?Microsoft.Crm.Client.Application.App.$r.$2Jo(function(){Microsoft.Crm.Client.Application.App.StartPage.$29k(n)}):Microsoft.Crm.Client.Application.App.StartPage.$29k(n),n.promise()};Microsoft.Crm.Client.Application.App.StartPage.$29k=function(n){Microsoft.Crm.Client.Application.App.StartPage.$1dW().always(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Pc.$1U&&(Microsoft.Crm.Client.Core.Commands.PinCommand.$1X0(),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$2sc(Microsoft.Crm.Client.Application.App.StartPage.get_$2uQ()));Microsoft.Crm.Client.Application.App.StartPage.$1ir&&window.setTimeout(function(){console.profileEnd()},1500);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().apcl("IsServerAvailable",Microsoft.Crm.Client.Application.App.$3z.get_$6().$$d_$He);var t=Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled();t&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsIOS())&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$R7()&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.$xP();t&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1ro();Microsoft.Crm.Client.Application.App.$5g.$2r2();n.resolve()})};Microsoft.Crm.Client.Application.App.StartPage.$2Ll=function(){var f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$lj(),t,i,r,u,e,n;if(Array.contains(Microsoft.Crm.Client.Application.App.$1v.$25O,f.toString())||Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$gI)for(t=Microsoft.Crm.Client.Application.App.$1v.$ky(f),i=0;i<document.styleSheets.length;i++)if(r=document.styleSheets[i],!$0.$0(r.rules))for(u=0,e=r.rules.length;u<e;u++)n=r.rules[u],$0.$0(n.style)||($0.$0(n.selectorText)||n.selectorText.indexOf(".scrollerItem .largeLabel")===-1||(n.style.fontSize="28px"),n.style.fontFamily.indexOf("SegoeUI-Semibold")!==-1?(n.style.fontFamily=t["SegoeUI-Semibold"],Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By&&(n.style.fontWeight="bold")):n.style.fontFamily.indexOf("SegoeUI-Light")!==-1?n.style.fontFamily=t["SegoeUI-Light"].toString():n.style.fontFamily.indexOf("SegoeUI-Semilight")!==-1?n.style.fontFamily=t["SegoeUI-Semilight"].toString():n.style.fontFamily.indexOf("SegoeUI-Bold")!==-1?(n.style.fontFamily=t["SegoeUI-Bold"].toString(),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By&&(n.style.fontWeight="bold")):n.style.fontFamily.indexOf("SegoeUI")!==-1&&(n.style.fontFamily=t.SegoeUI),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T&&!$0.$0(n.style.font)&&(n.style.font.indexOf("SegoeUI-Semibold")!==-1?n.style.font=n.style.font.replace("SegoeUI-Semibold",t["SegoeUI-Semibold"].toString()):n.style.font.indexOf("SegoeUI-Light")!==-1?n.style.font=n.style.font.replace("SegoeUI-Light",t["SegoeUI-Light"].toString()):n.style.font.indexOf("SegoeUI-Bold")!==-1?n.style.font=n.style.font.replace("SegoeUI-Bold",t["SegoeUI-Bold"].toString()):n.style.font.indexOf("SegoeUI")!==-1&&(n.style.font=n.style.font.replace("SegoeUI-Bold",t.SegoeUI.toString()))))};Microsoft.Crm.Client.Application.App.StartPage.$1iV=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricApplicationShellVM.GetDelayedScripts");return t.start(),Microsoft.Crm.Client.Core.Framework.$1L.$1c0("resources/styles/ishCssDependenciesPostLoad.css",null),Microsoft.Crm.Client.Core.Framework.$1L.$13A(["scripts/Microsoft.Crm.Client.Core.Messages.js","scripts/ishOssDependenciesPostLoad.js","/_static/_controls/richeditor/ckeditor/ckeditor.js"],0,null).always(function(){n.resolve();t.stop()}),n.promise()};Microsoft.Crm.Client.Application.App.StartPage.$1dW=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),i=function(){var t=Microsoft.Crm.Client.Application.App.StartPage.$2m6();Microsoft.Crm.Client.Application.App.StartPage.$2Ll();Microsoft.Crm.Client.Application.App.$X.$13V();Microsoft.Crm.Client.Application.App.StartPage.$2Vg();Microsoft.Crm.Client.Application.App.StartPage.$38z(t);Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$g9&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().AddPropertyChangedListener(Microsoft.Crm.Client.Core.Framework.$W.$1fF.$L,function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_KeyboardVisible()||window.setTimeout(function(){if(!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_KeyboardVisible()){var n={};n.scrollTop=0;$("html,body").animate(n,150,"swing")}},0)});Xrm.Utility.isMocaOfflineFeatureEnabled()&&Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.get_$6().$1I8(Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$WB,Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$dD);n.resolve()},t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("Delayed Assets Init");return t.start(),Microsoft.Crm.Client.Core.Framework.$1L.$8().always(function(){t.stop();i()}),n.promise()};Microsoft.Crm.Client.Application.App.StartPage.$2Vh=function(n){var e=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("EvaluateUrl"),i,r,u,t,f,o;e.start();Microsoft.Crm.Client.Application.App.$2S.$2y0();Microsoft.Crm.Client.Application.App.StartPage.$6V=Microsoft.Crm.Client.Core.Framework.Utils.$19.$Rc(n);i={};r=Microsoft.Crm.Client.Application.App.StartPage.$6V;for(u in r)t={key:u,value:r[u]},i[t.key.toLowerCase()]=t.key.toLowerCase()==="data"?t.value:t.value.toLowerCase();if(Microsoft.Crm.Client.Application.App.StartPage.$6V=i,"profile"in Microsoft.Crm.Client.Application.App.StartPage.$6V&&Microsoft.Crm.Client.Application.App.StartPage.$6V.profile.indexOf("startup")!==-1&&(console.profile("Startup"),Microsoft.Crm.Client.Application.App.StartPage.$1ir=!0),"tracelevel"in Microsoft.Crm.Client.Application.App.StartPage.$6V)try{Microsoft.Crm.Client.Core.Framework.Trace.set_$1mr($16.$Ae(Microsoft.Crm.Client.Core.Framework.$4z,Microsoft.Crm.Client.Application.App.StartPage.$6V.tracelevel))}catch(s){}if("showperf"in Microsoft.Crm.Client.Application.App.StartPage.$6V&&Microsoft.Crm.Client.Application.App.StartPage.$6V.showperf==="true"&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1li=!0),"collectorurl"in Microsoft.Crm.Client.Application.App.StartPage.$6V&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1XP=Microsoft.Crm.Client.Application.App.StartPage.$6V.collectorurl),"rtl"in Microsoft.Crm.Client.Application.App.StartPage.$6V&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2Ca=Microsoft.Crm.Client.Application.App.StartPage.$6V.rtl==="true"),"viewcachethreshold"in Microsoft.Crm.Client.Application.App.StartPage.$6V)try{f=Number.parseInvariant(Microsoft.Crm.Client.Application.App.StartPage.$6V.viewcachethreshold);f>1&&(o=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S(),o.$1md=f)}catch(h){}"phone"in Microsoft.Crm.Client.Application.App.StartPage.$6V&&Microsoft.Crm.Client.Application.App.StartPage.$6V.phone==="true"&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$vJ=!0);"syncappmeta"in Microsoft.Crm.Client.Application.App.StartPage.$6V&&Microsoft.Crm.Client.Application.App.StartPage.$6V.syncappmeta==="true"&&(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1mH=!0);e.stop()};Microsoft.Crm.Client.Application.App.StartPage.$2Vg=function(){Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()?(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.PaneScrollIndicatorEnabled=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_$2wZ(),Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$r1=Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_$2Tt()):("panoramadelayedrender"in Microsoft.Crm.Client.Application.App.StartPage.$6V&&(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$r1=Microsoft.Crm.Client.Application.App.StartPage.$6V.panoramadelayedrender==="true"),"panescrollindicator"in Microsoft.Crm.Client.Application.App.StartPage.$6V&&(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.PaneScrollIndicatorEnabled=Microsoft.Crm.Client.Application.App.StartPage.$6V.panescrollindicator==="true"),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$vJ&&(Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.PaneScrollIndicatorEnabled=!0,Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel.$r1=!0))};Microsoft.Crm.Client.Application.App.StartPage.$2i1=function(){var n="";if("org"in Microsoft.Crm.Client.Application.App.StartPage.$6V){var r=Microsoft.Crm.Client.Application.App.StartPage.$6V.org,t=window.location.hostname,i=window.location.port,u=Microsoft.Crm.Client.Core.Framework.$3.$9(i)?t:Microsoft.Crm.Client.Core.Framework.$3.$IY("{0}:{1}",t,i);"server"in Microsoft.Crm.Client.Application.App.StartPage.$6V?n=Microsoft.Crm.Client.Application.App.StartPage.$6V.server:(n=window.location.protocol+"//"+u+"/","liveid"in Microsoft.Crm.Client.Application.App.StartPage.$6V||(n+=r))}else throw Error.argument("OrgName","Org name must be specified in url parameters");return n};Microsoft.Crm.Client.Application.App.StartPage.$1OI=function(){var t,n;Microsoft.Crm.Client.Application.App.StartPage.$1er||(Microsoft.Crm.Client.Application.App.StartPage.$1er=!0,t={},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$Ke(new Microsoft.Crm.Client.Core.ViewModels.$SH),t.dataContext=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),t.clientContext=new Microsoft.Crm.Client.Core.Controls.$IU,$(document.body).empty(),n=document.createElement("div"),n.style.width="100%",n.style.height="100%",document.body.appendChild(n),Microsoft.Crm.Client.Core.Framework.$6.get_$4U()?ReactDOM.render(MscrmComponents.MailAppShell(t),n):Microsoft.Crm.Client.Core.Framework.$6.get_$f()?ReactDOM.render(InteractionCentricComponents.InteractionCentricShell(t),n):ReactDOM.render(MscrmComponents.ApplicationShell(t),n))};Microsoft.Crm.Client.Application.App.StartPage.$2m6=function(){var n=Microsoft.Crm.Client.Application.App.$2S.$1qP(),t=new Microsoft.Crm.Client.Core.ViewModels.$4M;return Microsoft.Crm.Client.Core.ViewModels.$4M.$wg=new Microsoft.Crm.Client.Core.ViewModels.$I(null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("ScriptErrorRequest",null)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$2D0(t),Microsoft.Crm.Client.Application.App.$1k.get_$6().$23O(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$2Tr(new Xrm.$OT),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1j(Microsoft.Crm.Client.Application.App.$1k.get_$6()),Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$2vf(),Microsoft.Crm.Client.Application.App.StartPage.$1eG=!0,Microsoft.Crm.Client.Application.App.StartPage.$lX&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$24t(!0),n};Microsoft.Crm.Client.Application.App.StartPage.$38z=function(n){var u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("StartCrmUI"),f,r,i,t,e,o;if(u.start(),!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1J3&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T&&(f=new Xrm.AlertDialogStrings,f.text=Xrm.Internal.getResourceString("Error_Message_OS_Not_Supported"),Xrm.Dialog.openAlertDialog(f,null,null)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$2L(n.$C5(Microsoft.Crm.Client.Core.Framework.$9W)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$Nh(n.$C5(Microsoft.Crm.Client.Core.ViewModels.$9Y)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$54(n.$C5(Microsoft.Crm.Client.Core.Framework.$9w)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1nX(n.$C5(Microsoft.Crm.Client.Core.Framework.$9x)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$E(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E()),Xrm.Utility.isMocaOfflineFeatureEnabled()&&(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.set_$24Q(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("MobileClientOffline")),Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$2Z(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3,null),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$GG(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.get_$6())),Microsoft.Crm.Client.Core.Framework.$6.get_$4U())o=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(57)),o.$9R=!0,Microsoft.Crm.Client.Application.App.StartPage.$29j(o,u);else{if(r=1,i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$1Ea(),Microsoft.Crm.Client.Core.Framework.$6.get_$f()){r=37;i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$Xq();var s=$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$i6())?"":Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$i6().toString(),h=$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$UZ())?"":Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$UZ().toString(),c=$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gq())?"":Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_$gq().toString(),l=$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_LanguageId())?"":Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().get_LanguageId().toString(),a=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qz(Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$1zq(),s,h,c,l,Microsoft.Crm.Client.Core.Framework.LocalStorage.$1F.get_$Ff().$D8("MoCASessionID"));Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(a)}t=Microsoft.Crm.Client.Application.App.StartPage.$2Ru(r);e=Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$X(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(e);e.add_$AT(function(){t.$q=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oe.toString();var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(r,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),t.$1W,1,!1,t.$q.toString()),Microsoft.Crm.Client.Application.App.StartPage.get_$Y());n.then(function(n){$0.$0(n.get_$R(0))?(t.$q=i.toString(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oe=i):t.$q=n.get_$R(0).$q;Microsoft.Crm.Client.Application.App.StartPage.$29j(t,u)},function(){t.$q=i.toString();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Oe=i})})}};Microsoft.Crm.Client.Application.App.StartPage.$23W=function(n){$0.$0(n)||(n.$2Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$mR(n),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$V9(n),Microsoft.Crm.Client.Application.App.StartPage.$1dS(n))};Microsoft.Crm.Client.Application.App.StartPage.$29j=function(n,t){var i,u,f,h,c;if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1F(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$1PU(function(n,t){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1F(t.$EJ)}),Xrm.Utility.isMocaOfflineFeatureEnabled()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$2sV(function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$3BK();Microsoft.Crm.Client.Application.App.StartPage.$37N()}),$(document).keyup(Microsoft.Crm.Client.Application.App.StartPage.$2pi),(Microsoft.Crm.Client.Core.Framework.$6.get_$1KK()||Microsoft.Crm.Client.Core.Framework.$6.get_$3A())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("LandingPage"))Microsoft.Crm.Client.Application.App.StartPage.$1Ih(!1),i=new Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$EL(i),i.$ia=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("TaskBasedFlow"),i.$ya=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("LandingPageActivities"),i.$2m0().always(function(){if(i.$P3)Microsoft.Crm.Client.Application.App.StartPage.$1OI(),i.$yn=function(){Microsoft.Crm.Client.Application.App.StartPage.$13e();var i=new Microsoft.Crm.Client.Application.App.$IW(Microsoft.Crm.Client.Application.App.StartPage.$6V).$sX();Microsoft.Crm.Client.Application.App.StartPage.$1lM(i,n,t);Microsoft.Crm.Client.Application.App.StartPage.$16D()};else{Microsoft.Crm.Client.Application.App.StartPage.$13e();var r=new Microsoft.Crm.Client.Application.App.$IW(Microsoft.Crm.Client.Application.App.StartPage.$6V).$sX();Microsoft.Crm.Client.Application.App.StartPage.$1lM(r,n,t);Microsoft.Crm.Client.Application.App.StartPage.$16D()}});else if(Microsoft.Crm.Client.Application.App.StartPage.get_isPreview()){Microsoft.Crm.Client.Application.App.StartPage.$1Ih(!0);Microsoft.Crm.Client.Application.App.StartPage.$13e();var l=sessionStorage.getItem("previewForm_formXml"),e=sessionStorage.getItem("previewForm_formId"),a=sessionStorage.getItem("previewForm_EntityLogicalName"),v=sessionStorage.getItem("previewForm_dashboardName"),o=Number.parseInvariant(sessionStorage.getItem("previewForm_formType")),y=Number.parseInvariant(sessionStorage.getItem("previewForm_etc")),p=Number.parseInvariant(sessionStorage.getItem("previewForm_formAccessType")),s=Microsoft.Crm.Client.Core.Framework.Utils.$19.$2YH(o),w=new Microsoft.Crm.Client.Core.Framework.Utils.$Lu(e,l,o,p,y,v),r=Microsoft.Crm.Client.Application.App.StartPage.$1E2(s,a,e,null,!1,null);r.$5o=new Microsoft.Crm.Client.Core.ViewModels.$HN(r,w);s===5?(u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(2)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$mR(u),Microsoft.Crm.Client.Application.App.StartPage.$V9(u),f=new Microsoft.Crm.Client.Core.Commands.CreateFormCommand(r,r.$D,null),f.execute(),f.dispose()):Microsoft.Crm.Client.Application.App.StartPage.$V9(r);Microsoft.Crm.Client.Application.App.StartPage.$16D();t.stop()}else Microsoft.Crm.Client.Core.Framework.$6.get_$4U()?(Microsoft.Crm.Client.Application.App.StartPage.$1Ih(!0),Microsoft.Crm.Client.Application.App.StartPage.$13e(),h=new Microsoft.Crm.Client.Application.App.$IW(Microsoft.Crm.Client.Application.App.StartPage.$6V).$sX(),Microsoft.Crm.Client.Application.App.StartPage.$1fk(h,n,t),Microsoft.Crm.Client.Application.App.StartPage.$16D()):(Microsoft.Crm.Client.Application.App.StartPage.$1Ih(!0),Microsoft.Crm.Client.Application.App.StartPage.$13e(),c=new Microsoft.Crm.Client.Application.App.$IW(Microsoft.Crm.Client.Application.App.StartPage.$6V).$sX(),Microsoft.Crm.Client.Application.App.StartPage.$1lM(c,n,t),Microsoft.Crm.Client.Application.App.StartPage.$16D());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$2vX(Microsoft.Crm.Client.Application.App.StartPage.get_onNativeBridgeAppLink());Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().add_$2sh(Microsoft.Crm.Client.Application.App.StartPage.get_onNativeBridgeAppLink())};Microsoft.Crm.Client.Application.App.StartPage.$13e=function(){var n,t;!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("TaskBasedFlow")||Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||Microsoft.Crm.Client.Core.Framework.$6.$4N||Microsoft.Crm.Client.Core.Framework.$6.get_$f()||(n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GlobalTBFMenuViewModel.Initialization"),n.start(),t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.ViewModels.$4O.getName()),t.$2Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$2r(t),n.stop())};Microsoft.Crm.Client.Application.App.StartPage.$16D=function(){Microsoft.Crm.Client.Application.App.$3E.get_$6().$2q5();Microsoft.Crm.Client.Application.App.$1R.$2yd()};Microsoft.Crm.Client.Application.App.StartPage.$1lM=function(n,t,i){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$21Q().then(function(r){try{if(!$0.$0(r)&&r.get_Count()>0){var u=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7);Microsoft.Crm.Client.Core.Framework.$6.get_$f()?Microsoft.Crm.Client.Application.App.StartPage.$1iV().done(function(){u.resolve()}):u.resolve();u.done(function(){var e=Microsoft.Crm.Client.Core.ViewModels.$1p.get_$6().$2lG(r.get_$R(r.get_Count()-1).$UH),t,f,u,o;if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n&&e&&Microsoft.Crm.Client.Application.App.StartPage.$V9(n),t=null,!((n||Microsoft.Crm.Client.Application.App.StartPage.$6V.pagetype==="create")&&Microsoft.Crm.Client.Core.Framework.$6.get_$f()))for(f=0;f<r.get_Count();f++)Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1Lg++,u=r.get_$R(f),t=Microsoft.Crm.Client.Application.App.StartPage.$1E2(u.$15K,u.$15J,u.$UH,u.$x,u.$9R,t),t.$2Z(),f===r.get_Count()-1&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(t)&&(o=t,o.$1hs=!$0.$0(n)&&e,o.set_$25N(e)),f===r.get_Count()-1&&($0.$0(n)||e)?(t.$1W.toUpperCase()===Microsoft.Crm.Client.Application.App.StartPage.$1Hp().toUpperCase()?(t.$9R=u.$9R,Microsoft.Crm.Client.Application.App.StartPage.$V9(t)):(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$mR(t),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$V9(t)),Microsoft.Crm.Client.Application.App.StartPage.$1dS(t)):(t.$1W.toUpperCase()===Microsoft.Crm.Client.Application.App.StartPage.$1Hp().toUpperCase()&&(t.$9R=u.$9R),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().$vT(t));e||Microsoft.Crm.Client.Application.App.StartPage.$23W(n);Microsoft.Crm.Client.Application.App.StartPage.$1OI();i.stop()})}else Microsoft.Crm.Client.Application.App.StartPage.$6V.pagetype==="create"&&Microsoft.Crm.Client.Core.Framework.$6.get_$f()?(Microsoft.Crm.Client.Application.App.StartPage.$23W(n),Microsoft.Crm.Client.Application.App.StartPage.$1OI(),i.stop()):Microsoft.Crm.Client.Application.App.StartPage.$1fk(n,t,i);Xrm.Internal.executeOnXrmReadyEventHandlers();Microsoft.Crm.Client.Application.App.$3M.get_$6().$9j("AppUIInitialized",null)}catch(f){Microsoft.Crm.Client.Core.Framework.Trace.logException(1004,f,"Encountered exception when restoring nav-stack");Microsoft.Crm.Client.Application.App.StartPage.$V9(t);i.stop()}},function(){Microsoft.Crm.Client.Application.App.StartPage.$1fk(n,t,i)})};Microsoft.Crm.Client.Application.App.StartPage.$1fk=function(n,t,i){var r=$0.$0(n)?t:n;Microsoft.Crm.Client.Application.App.StartPage.$V9(r);Microsoft.Crm.Client.Application.App.StartPage.$1dS(r);Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Application.App.StartPage.$1iV()},-13,"ISH:PostLoadScriptsAndCss");i.stop()};Microsoft.Crm.Client.Application.App.StartPage.$1Ih=function(n){var r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("NavigationBarViewModel.Initialization"),i,t;r.start();Microsoft.Crm.Client.Core.Framework.$6.get_$f()?(i=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.ViewModels.$4P.getName()),i.$5g.set_DefinitionId("sitemap"),i.$2Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$HK(i)):(t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.ViewModels.$8K.getName()),t.$5g.set_DefinitionId("sitemap"),t.$1dG=n,t.$2Z(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$u1(t));r.stop()};Microsoft.Crm.Client.Application.App.StartPage.$1dS=function(n){if(n.$1e7)Microsoft.Crm.Client.Core.ViewModels.$1r.get_$6().get_$1C8().resolve(!0);else{var t=null;t=function(){n.remove_$6F(t);Microsoft.Crm.Client.Core.ViewModels.$1r.get_$6().get_$1C8().resolve(!0)};n.add_$6F(t)}};Microsoft.Crm.Client.Application.App.StartPage.$2pi=function(n){var i=n.keyCode,t=new Microsoft.Crm.Client.Core.Framework.$LA(n);switch(i){case 81:(t.$2TU()||t.$2LW())&&t.$388()&&Microsoft.Crm.Client.Core.ViewModels.PerformanceReport.TogglePerformanceResultsVisibility()}};Microsoft.Crm.Client.Application.App.StartPage.$V9=function(n){n.$2Z();n.AddPropertyChangedListener("IsFullyLoaded",Microsoft.Crm.Client.Application.App.StartPage.$27u);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$V9(n);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$mR(n);Microsoft.Crm.Client.Application.App.StartPage.$1OI()};Microsoft.Crm.Client.Application.App.StartPage.$2Ru=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(n));return t.$9R=!0,"workspace"in Microsoft.Crm.Client.Application.App.StartPage.$6V&&t.set_DefinitionId(Microsoft.Crm.Client.Application.App.StartPage.$6V.workspace),t};Microsoft.Crm.Client.Application.App.StartPage.$27u=function(){$0.$0(Microsoft.Crm.Client.Application.App.StartPage.$13j)||Microsoft.Crm.Client.Application.App.StartPage.$13j()};Microsoft.Crm.Client.Application.App.StartPage.$1E2=function(n,t,i,r,u,f){var e=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(n)),o,s,h;$0.$0(e.$1W)&&e.set_DefinitionId(t);o={};switch(n){case 13:e.set_PrimaryModelName(t);$0.$0(r)||$0.$0(f)?o.ListDefinitionId=i:(o=r,$0.$0(r.RelationshipName)||(o.ParentEntityViewModel=f));break;case 2:case 40:e.set_PrimaryModelName(t);Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&n===40&&$0.$0(i)?(s=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$8V(Microsoft.Crm.Client.Core.Framework.$1.toString(40)),s.set_PrimaryModelName(t),s.set_DefinitionId(s.$D),s.$6i=1,e=s):(h=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(i)),o.EntityReference=h);break;case 1:case 37:e.$q=i;e.$9R=u;break;case 17:if($0.$0(r))throw Error.invalidOperation("Cannot build a ChartDrilldownForm without external context parameters.");e.set_PrimaryModelName(t);o=r;e.set_DefinitionId("CHARTDRILLDOWNFORM");break;case 5:e.set_PrimaryModelName(t);break;case 50:o=r}return e.set_ExternalContext(new Microsoft.Crm.Client.Core.ViewModels.$KC(null,o)),e};Microsoft.Crm.Client.Application.App.StartPage.$2gz=function(){var n=MscrmComponents.DeferredPromiseFactory(Date,Microsoft.Crm.Client.Core.Framework.$7);return Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("LastTimeCheckSourceForUpdatesOnResumeKey").then(function(t){$0.$0(t)?n.resolve(null):n.resolve(new Date(t.utctime))},function(t){n.reject(t)}),n.promise()};Microsoft.Crm.Client.Application.App.StartPage.$33z=function(n){var t={};t.utctime=n.toUTCString();Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("LastTimeCheckSourceForUpdatesOnResumeKey",t,!0)};Microsoft.Crm.Client.Application.App.StartPage.$nk=function(n,t,i){Microsoft.Crm.Client.Application.App.$X.$2li();i===1?Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Cp.$101(n,t):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$10a(n,t)};Microsoft.Crm.Client.Application.App.StartPage.$1Hp=function(){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?"InteractionCentricWorkspace".toUpperCase():"Workspace"};Microsoft.Crm.Client.Application.App.StartPage.$1Qk=function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t;return Microsoft.Crm.Client.Application.App.StartPage.$252()?(t=new Date,Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance().$1Qk().then(function(i){var u=new Date,f=u-t,e=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PI("1006","MOCADataSyncTransitionTime","","",0,"","",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),"","",f),r;Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(e);i.$19p||(r=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PI("1007","MOCADataSyncSuccess","","",0,Microsoft.Crm.Client.Core.Offline.Upsync.Common.$4s.toString(i.$j4),"",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),(new Date).toString(),"",0),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(r));n.resolve(i)},function(i){var r=new Date,u=r-t,f=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PI("1006","MOCADataSyncTransitionTime","","",0,"","MOCADataSyncTransitionTime is failed",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),"","",u);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(f);i.$F.toLowerCase()!=="no records found"&&Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Error occured while UpSync. Error details -- "+i.$F);n.reject(i)})):(Xrm.Utility.isMocaOfflineFeatureEnabled()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()||Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1004,"Cannot initiate playback in StartPlayback() due to one of these reasons. Either client is not enabled for offline sync; Server is not available; Offline data store does not exist; PlaybackManager is not instantiated."),n.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("Offline feature is not available or we are not online"))),n.promise()};Microsoft.Crm.Client.Application.App.StartPage.$252=function(){return Xrm.Utility.isMocaOfflineFeatureEnabled()&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()&&!$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N())&&!$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N().get_$5a())&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N().get_$5a().get_$4K()&&!!Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance()};Microsoft.Crm.Client.Application.App.StartPage.$3BF=function(n){var i,t,r,u;if(Microsoft.Crm.Client.Core.Framework.$8.$tk("DataSource_Initialize_End",1004,null),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$G6()){if(Microsoft.Crm.Client.Application.App.StartPage.$2mX(n),Microsoft.Crm.Client.Application.App.$1k.get_$6().$2Z(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$D4,Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$UG()),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&!Microsoft.Crm.Client.Application.App.$1k.get_$6().$1eB("InteractionCentricDashboard")){Microsoft.Crm.Client.Application.App.$X.$13V();Microsoft.Crm.Client.Core.ViewModels.$14.$1lg("",Microsoft.Crm.Client.Core.Framework.$1T.$d("noPermissionMessage").toString(),null,null,"","");return}Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(i=Microsoft.Crm.Client.Core.Framework.$1T.$d("MetadataInSAMTableInvalid"),Microsoft.Crm.Client.Application.App.$1k.get_$6().$1eB("ISHMetadataOnDemand")&&!i?Microsoft.Crm.Client.Application.App.StartPage.$1R7=1:Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.set_$14I(!1))}n===1?Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$T9()?(u=function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(null,31);n.execute();n.dispose()},Microsoft.Crm.Client.Application.App.StartPage.$xR(2).done(function(){Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_SaveDrafts_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_SaveDrafts_Message"),0,u,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ButtonText_ViewDrafts"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text"))})):(Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.UpdateMetadata.ShowMetadataDownloadPrompt"),t=function(){Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.UpdateMetadata.MetadataDownloadPrompt_Accepted");Microsoft.Crm.Client.Application.App.StartPage.$xR(1)},r=function(){Microsoft.Crm.Client.Core.Framework.Trace.logVerbose(1004,"StartPage.UpdateMetadata.MetadataDownloadPrompt_Cancelled");Microsoft.Crm.Client.Application.App.StartPage.$xR(2)},Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$Gb||Microsoft.Crm.Client.Core.Framework.$6.$4N||Microsoft.Crm.Client.Core.Framework.$6.get_$f()?t():Microsoft.Crm.Client.Core.ViewModels.$14.$1lg(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Title"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Message"),t,r,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Button_OK"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("New_Metadata_Prompt_Button_Cancel"),"MetadataSync")):Microsoft.Crm.Client.Application.App.StartPage.$xR(n)};Microsoft.Crm.Client.Application.App.StartPage.$1qN=function(n){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$VM.$1U&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$VM.$2vT();var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$xR(n);return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$VM.$1U&&t.then(function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$VM.$2vQ()},function(){Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$VM.$2vS()}),t};Microsoft.Crm.Client.Application.App.StartPage.$2mX=function(n){if(n!==2&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$R7()&&($0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a())||JSON.stringify(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4s.$20())!==JSON.stringify(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a().$20()))&&(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.set_$6a(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4s),Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a().$ff&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a().$7K!==Microsoft.Crm.Client.Core.Framework.Guid.get_empty())){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PI("1000","MOCADataSyncAppMetadataAssigned","","",0,"","",Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a().$7K,(new Date).toString(),Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a().$vR,0);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t);Microsoft.Crm.Client.Core.Framework.$8.$B("OfflineProfileAssigned",4,"Profile assigned successfully.")}};Microsoft.Crm.Client.Application.App.StartPage.$1dw=function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$R7()&&Microsoft.Crm.Client.Core.ViewModels.$a.$1eY()&&!Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$t7()&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a().$ff&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("MobileClientOfflineAutoOptin")&&!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$T9()};Microsoft.Crm.Client.Application.App.StartPage.$37N=function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$US();n.$JC!==1||n.$N1?Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.set_$1K1(!1):Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.set_$1K1(!0)};Microsoft.Crm.Client.Application.App.StartPage.$2Ee=function(){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$lB){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E(),t=n.$4Q.toString()+"_"+n.get_$UZ().toString(),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1nj();Microsoft.Crm.Client.Application.App.StartPage.$2EN(t.toLowerCase(),i,100)}};Microsoft.Crm.Client.Application.App.StartPage.UnsetISHSyncCookie=function(){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E(),t=n.$4Q.toString()+"_"+n.get_$UZ().toString();Microsoft.Crm.Client.Application.App.StartPage.$2EN(t.toLowerCase(),"",-1)}};Microsoft.Crm.Client.Application.App.StartPage.$2EN=function(n,t,i){var u,r;$0.$0(n)||(u="",IsNull(i)||(r=new Date,r.setTime(r.getTime()+i*31536e6),u="; expires="+r.toUTCString()),document.cookie=n+"="+t+u+"; path=/")};Microsoft.Crm.Client.Application.App.StartPage.$28j=function(){Microsoft.Crm.Client.Application.App.$5g.$2lv()};Microsoft.Crm.Client.Application.App.$3z=function(){this.$$d_$He=Function.createDelegate(this,this.$He)};Microsoft.Crm.Client.Application.App.$3z.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Application.App.$3z.$C)&&(Microsoft.Crm.Client.Application.App.$3z.$C=Microsoft.Crm.Client.Core.Framework.$6.get_$4U()?new Microsoft.Crm.Client.Application.App.$Nl:new Microsoft.Crm.Client.Application.App.$3z),Microsoft.Crm.Client.Application.App.$3z.$C};Microsoft.Crm.Client.Application.App.$3z.prototype={$6W:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t=this,i=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1ne().then(function(i){if(i.$BY)t.$28k(n,i);else{var r=Microsoft.Crm.Client.Core.Framework.$7.$f9(i.$66);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$18u(r).always(function(){n.reject(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$rS())})}},function(t){var r=i.$2jn(t);r.$m===-2147093999?n.reject(r):Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$18u(r).always(function(){n.reject(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$rS())})}),n.promise()},$2jn:function(n){return n.$m===-2147220955||n.$m===-2147209463||n.$m===-2147209460||n.$m===-2147220692||n.$m===-2147094013||n.$m===-2147093995?Microsoft.Crm.Client.Core.Framework.$7.$3F9(n,null,-2147094013):Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093999)},$28k:function(n,t){n.resolve(new Microsoft.Crm.Client.Core.Framework.$EQ(t.$4Q,t.$GI))},$He:function(){if(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()){var n=this;this.$6W().fail(function(n){n.$m!==-2147093999&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Cp.$101(0,n.$Oa())})}}};Microsoft.Crm.Client.Application.App.$Nl=function(){Microsoft.Crm.Client.Application.App.$Nl.initializeBase(this)};Microsoft.Crm.Client.Application.App.$Nl.prototype={$28k:function(n,t){if(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U){var i=this;Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$20E(function(i){var r=i.error,u=i.emailAddress,f,e,o,s;!Microsoft.Crm.Client.Core.Framework.$3.$9(r)||Microsoft.Crm.Client.Core.Framework.$3.$9(u)?n.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(r)):(f=t.$1nV.toString().toLowerCase(),e=u.toLowerCase(),f!==e?(Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$1U&&(o=new Microsoft.Crm.Client.Core.Framework.$6W({errorcode:-2147085807,message:"Email Addresses in CRM and exchange do not match."}),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.$10a(-1,o)),s=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Message_0x80061211"),n.reject(Microsoft.Crm.Client.Core.Framework.$7.$k(s))):n.resolve(new Microsoft.Crm.Client.Core.Framework.$EQ(t.$4Q,t.$GI)))})}else Microsoft.Crm.Client.Application.App.$3z.prototype.$28k.call(this,n,t)}};Type.registerNamespace("Microsoft.Crm.Client.Application.App.Components");Microsoft.Crm.Client.Application.App.Components.$6r=function(){};Microsoft.Crm.Client.Application.App.Components.$6r.$2Pi=function(n,t){t.$J8(Microsoft.Crm.Client.Application.App.Features.$N).$JZ(Microsoft.Crm.Client.Application.App.Features.$N).$3Eo().$3Ep(function(){return n})};Microsoft.Crm.Client.Application.App.Components.$6r.$1jK=function(){Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("EditableGridControlPbl",Microsoft.Crm.Client.Application.App.Features.$CF);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("EditableGridControlJsEvents",Microsoft.Crm.Client.Application.App.Features.$CE);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("MobileClientMashup",Microsoft.Crm.Client.Application.App.Features.$DQ);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("ExportToExcelMobile",Microsoft.Crm.Client.Application.App.Features.$CP);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("ExcelDocumentTemplate",Microsoft.Crm.Client.Application.App.Features.$C8);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("WordDocumentTemplate",Microsoft.Crm.Client.Application.App.Features.$EU);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("MobileClientTelemetry",Microsoft.Crm.Client.Application.App.Features.$EF);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("CortanaProactiveExperience",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("CustomControlMobile",Microsoft.Crm.Client.Application.App.Features.$Bw);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("ISHMetadataOnDemand",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("InteractionCentricDashboard",Microsoft.Crm.Client.Application.App.Features.$5n);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("TaskBasedFlow",Microsoft.Crm.Client.Application.App.Features.$EE);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("ProcessUnification",Microsoft.Crm.Client.Application.App.Features.$Dq);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("AppLinking",Microsoft.Crm.Client.Application.App.Features.$Bb);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("MobileClientTheming",Microsoft.Crm.Client.Application.App.Features.$DV);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("GuidedHelp",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("ISHGuidedHelp",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("MarsLegacyClientEnabled",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("AppModuleForOrganization",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("AppModuleOnUCI",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("AdvancedFindOnUCI",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("AutoDataCaptureUCI",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("AppModuleMOCAForScaleGroup",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("OfficeMailApp",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("OfficeMailAppMobile",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("OfficeMailAppMetadata",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("SSSCustomProperty",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("ElasticSearch",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("MobileClientOffline",Microsoft.Crm.Client.Application.App.Features.$DU);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("MobileClientOfflineAutoOptin",Microsoft.Crm.Client.Application.App.Features.$DS);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("DocumentRecommendations",Microsoft.Crm.Client.Application.App.Features.$C7);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("InteractionCentricMultiEntityChartsFeature",Microsoft.Crm.Client.Application.App.Features.$D1);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("ProductRecommendations",Microsoft.Crm.Client.Application.App.Features.$Dr);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("WebResourceAndIFrameOnISH",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("SSSReliablePromote",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("EnableControlMappings",Microsoft.Crm.Client.Application.App.Features.$CJ);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("AssociatedGridURLAddressability",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("LookupRelationshipFilters",Microsoft.Crm.Client.Application.App.Features.$DO);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("AdvancedSimilaritySearch",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("InteractionCentricLookupAutoResolve",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("QuickFindSearchOnISH",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("EmailEngagement",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("OneDriveIntegration",Microsoft.Crm.Client.Application.App.Features.$Dc);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("SharePointS2S",Microsoft.Crm.Client.Application.App.Features.$E6);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("InteractionCentricEmailLink",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("LandingPage",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("PaneStackingOnPhones",Microsoft.Crm.Client.Application.App.Features.$Dj);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("DeviceIntegration",Microsoft.Crm.Client.Application.App.Features.$C4);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("PowerBI",Microsoft.Crm.Client.Application.App.Features.$Dm);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("LandingPageActivities",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("MobileClientDeviceIntegration",Microsoft.Crm.Client.Application.App.Features.$DT);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("ActionCard",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("NonBaseActionCard",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("AuthenticatedMashups",Microsoft.Crm.Client.Application.App.Features.$Bc);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("OfficeMailAppEmailEngagement",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("TimelineWall",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("TimelineWallActivities",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("TimelineWallPosts",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("TimelineWallUserPosts",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("TimelineWallNotes",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("TimelineWallFilters",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("TimelineWallCommandBarActivities",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("TimelineWallWhatsChanged",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("ReferencePanelControl",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("UseNewRIConfig",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("EnableReparentingForProduct",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.get_$6().$2t("EnableAddProductPropertiesAtRootLevel",Microsoft.Crm.Client.Application.App.Features.$1m)};Microsoft.Crm.Client.Application.App.Components.$6r.prototype={$2Pd:function(n){Microsoft.Crm.Client.Application.App.Components.$6r.$2Pi(Microsoft.Crm.Client.Application.App.Features.$N.get_$6(),n);var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6(),r=this,i=function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$vo(n)},u=this;t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(37),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel;return n.set_DefinitionId(Microsoft.Crm.Client.Core.Framework.$1.toString(37).toUpperCase()),n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);Microsoft.Crm.Client.Application.App.Components.$6r.$1jK()}};Microsoft.Crm.Client.Application.App.Components.$6A=function(){};Microsoft.Crm.Client.Application.App.Components.$6A.$302=function(n,t){t.$J8(Microsoft.Crm.Client.Core.ViewModels.$9).$JZ(Microsoft.Crm.Client.Core.ViewModels.$9).$3Eo().$3Ep(function(){return n});t.$J8(Microsoft.Crm.Client.Core.ViewModels.$9).$JZ(Microsoft.Crm.Client.Core.Framework.$6D).$3Eo().$3Ep(function(){return n})};Microsoft.Crm.Client.Application.App.Components.$6A.$2zq=function(n,t){t.$J8(Microsoft.Crm.Client.Core.ViewModels.$C).$JZ(Microsoft.Crm.Client.Core.ViewModels.$C).$3Eo().$3Ep(function(){return n})};Microsoft.Crm.Client.Application.App.Components.$6A.$1jK=function(n){n.$S("Decimal",Microsoft.Crm.Client.Core.ViewModels.$4D);n.$S("DurationViewModel",Microsoft.Crm.Client.Core.ViewModels.$4D);n.$S("Float",Microsoft.Crm.Client.Core.ViewModels.$4D);n.$S("Picklist",Microsoft.Crm.Client.Core.ViewModels.$4D);n.$S("PicklistStatus",Microsoft.Crm.Client.Core.ViewModels.$4D);n.$S("RadioButton",Microsoft.Crm.Client.Core.ViewModels.$4D);n.$S("Label",Microsoft.Crm.Client.Core.ViewModels.$4D);n.$S("TextArea",Microsoft.Crm.Client.Core.ViewModels.$4D);n.$S("Button",Microsoft.Crm.Client.Core.ViewModels.$24);n.$S("DropDialogButton",Microsoft.Crm.Client.Core.ViewModels.$2I);n.$S("Link",Microsoft.Crm.Client.Core.ViewModels.$3Q);n.$S("Url",Microsoft.Crm.Client.Core.ViewModels.$3Q);n.$S("EmailAddress",Microsoft.Crm.Client.Core.ViewModels.$3Q);n.$S("Image",Microsoft.Crm.Client.Core.ViewModels.$Cv);n.$S("Section",Microsoft.Crm.Client.Core.ViewModels.$2D);n.$S("PanoramaContainer",Microsoft.Crm.Client.Core.ViewModels.ActiveItemContainerViewModel);n.$S("Pane",Microsoft.Crm.Client.Core.ViewModels.$2D);n.$S("RootViewModel",Microsoft.Crm.Client.Core.ViewModels.RootViewModel);n.$S("Group",Microsoft.Crm.Client.Core.ViewModels.$2D);n.$S("MultilineList",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);n.$S("SelectableList",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel);n.$S("MultiItemList",Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel);n.$S("DraftList",Microsoft.Crm.Client.Core.ViewModels.DraftsMultilineListViewModel);n.$S("HierarchyList",Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel);n.$S("GridContainer",Microsoft.Crm.Client.Core.ViewModels.$42);n.$S("Grid",Microsoft.Crm.Client.Core.ViewModels.GridViewModel);n.$S("ListItem",Microsoft.Crm.Client.Core.ViewModels.$3R);n.$S("EmailTemplatesList",Microsoft.Crm.Client.Core.ViewModels.EmailTemplatesListViewModel);n.$S("Integer",Microsoft.Crm.Client.Core.ViewModels.$9p);n.$S("Int64",Microsoft.Crm.Client.Core.ViewModels.$9o);n.$S("Real",Microsoft.Crm.Client.Core.ViewModels.$6e);n.$S("Money",Microsoft.Crm.Client.Core.ViewModels.$6e);n.$S("Decimal",Microsoft.Crm.Client.Core.ViewModels.$6e);n.$S("ComboBox",Microsoft.Crm.Client.Core.ViewModels.$Bn);n.$S("DateTimeScroller",Microsoft.Crm.Client.Core.ViewModels.$7x);n.$S("DurationScroller",Microsoft.Crm.Client.Core.ViewModels.$CC);n.$S("FormHeader",Microsoft.Crm.Client.Core.ViewModels.$CT);n.$S("ListComponentFormHeader",Microsoft.Crm.Client.Core.ViewModels.$A2);n.$S("HitHighlightLabel",Microsoft.Crm.Client.Core.ViewModels.$9V);n.$S("SubjectTree",Microsoft.Crm.Client.Core.ViewModels.$EB);n.$S("MailAppMultiLineListViewModel",Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel);n.$S("MailAppRelevantSearchListViewModel",Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel)};Microsoft.Crm.Client.Application.App.Components.$IT=function(){};Microsoft.Crm.Client.Application.App.Components.$IT.prototype={$2Pd:function(n){var t,i,r,u,f;n.$J8(Microsoft.Crm.Client.Core.Framework.$CO).$3Eo();t=this;n.$J8(Microsoft.Crm.Client.Core.Framework.$6P).$JZ(Microsoft.Crm.Client.Core.Framework.$9W).$3Eo().$3Ep(function(){return new Microsoft.Crm.Client.Core.Framework.$6P});Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$HL?(i=this,n.$J8(Microsoft.Crm.Client.Core.Framework.ClientWatson.$Cp).$JZ(Microsoft.Crm.Client.Core.Framework.ClientWatson.$9Z).$3Ep(function(){return new Microsoft.Crm.Client.Core.Framework.ClientWatson.$Cp})):(r=this,n.$J8(Microsoft.Crm.Client.Core.Framework.ClientWatson.$2V).$JZ(Microsoft.Crm.Client.Core.Framework.ClientWatson.$9Z).$3Ep(function(){return new Microsoft.Crm.Client.Core.Framework.ClientWatson.$2V}));n.$J8(Microsoft.Crm.Client.Core.Views.ViewManager).$JZ(Microsoft.Crm.Client.Core.Framework.$43).$3Eo();u=this;n.$J8(Microsoft.Crm.Client.Application.App.$5u).$JZ(Microsoft.Crm.Client.Core.Framework.$9w).$3Eo().$3Ep(function(){return new Microsoft.Crm.Client.Application.App.$5u});f=this;n.$J8(Microsoft.Crm.Client.Application.App.$2j).$JZ(Microsoft.Crm.Client.Core.Framework.$9x).$3Eo().$3Ep(function(){return Microsoft.Crm.Client.Application.App.$2j.get_$6()})}};Microsoft.Crm.Client.Application.App.Components.$3c=function(){};Microsoft.Crm.Client.Application.App.Components.$3c.$2Pj=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6(),i;Microsoft.Crm.Client.Application.App.Components.$6A.$302(t,n);Microsoft.Crm.Client.Application.App.Components.$6A.$1jK(t);i=function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$vo(n)};t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(1),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(1);return n.set_DefinitionId(Microsoft.Crm.Client.Core.Framework.$1.toString(1).toUpperCase()),n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(2),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel(2);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$PF(n,2)},i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(13),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(13);return n.set_DefinitionId("gridform"),n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(17),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(17);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(26),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(26);return n.set_DefinitionId("searchPage"),n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(47),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(47);return n.set_DefinitionId("relevanceSearchPage"),n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(34),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderFormRootViewModel(34);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(57),function(){return new Microsoft.Crm.Client.Core.ViewModels.MailApp.UnknownRecipientFormViewModel(57)},null,i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(35),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(35);return n.set_DefinitionId("setRegardingPage"),n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(59),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.RegardingObjectCardViewModel(59);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(31),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(31);return n.set_DefinitionId("draftsPage"),n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(32),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(32);return n.set_DefinitionId("duplicateRecordsPage"),n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$1C(Microsoft.Crm.Client.Core.Framework.$1.toString(3),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel;return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n});t.$1C(Microsoft.Crm.Client.Core.ViewModels.$8K.getName(),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$8K;return n.$10j=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("PingServer",null)),n.$1gM=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("MetadataDownload",null)),n});t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(5),function(){var n=Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===4?new Microsoft.Crm.Client.Core.ViewModels.MailApp.MailAppCreateFormViewModel(5):new Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel(5);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$PF(n,1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1MU(n,2)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$2PH(n)});t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(36),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.SenderCreateFormViewModel(5);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$PF(n,1)},i);t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(22),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$Sh;return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$PF(n,2);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1MU(n,2)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10c(n)});t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(14),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.InlineCreateFormViewModel;return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$28u(n)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(n)});t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(12),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel;return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$PF(n,1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1MU(n,4)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10c(n)});t.$1C(Microsoft.Crm.Client.Core.Framework.$1.toString(10),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(10);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n});t.$AL("AssociateFormViewModel",function(){var n=new Microsoft.Crm.Client.Core.ViewModels.AssociateFormViewModel;return n.$1CF=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AssociateRecords",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$28u(n)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(n)});t.$AL("GlobalLookupViewModel",function(){var n=new Microsoft.Crm.Client.Core.ViewModels.GlobalLookupViewModel;return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$uq(n)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$Ji(n)});t.$1C(Microsoft.Crm.Client.Core.Framework.$1.toString(41),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(41);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n});t.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(50),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(50);return n.set_DefinitionId("powerBIFullScreenPage"),n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},null,i);t.$1C(Microsoft.Crm.Client.Core.Framework.$1.toString(54),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRootViewModel(54);return n.set_DefinitionId("template"),n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n});t.$1C(Microsoft.Crm.Client.Core.Framework.$1.toString(53),function(){return Microsoft.Crm.Client.Core.ViewModels.MailApp.FollowViewModel.get_$6()});t.$1C(Microsoft.Crm.Client.Core.Framework.$1.toString(55),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(55);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n});Microsoft.Crm.Client.Application.App.Components.$3c.$2Ph(t);Microsoft.Crm.Client.Application.App.Components.$3c.$1jK(t)};Microsoft.Crm.Client.Application.App.Components.$3c.$2Ph=function(n){n.$2zo("ActionProvider",Microsoft.Crm.Client.Core.ViewModels.$I)};Microsoft.Crm.Client.Application.App.Components.$3c.$2Pf=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$C.get_$6();t.$1Yd=new Microsoft.Crm.Client.Core.ViewModels.$I(null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("Customization",null));Microsoft.Crm.Client.Application.App.Components.$6A.$2zq(t,n)};Microsoft.Crm.Client.Application.App.Components.$3c.$2Pg=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6(),i;t.$1k4=new Microsoft.Crm.Client.Core.ViewModels.$I(null,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveWebResouces",null));t.$1FV=new Microsoft.Crm.Client.Core.ViewModels.$Hu;n.$J8(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel).$JZ(Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel).$3Eo().$3Ep(function(){return t});i=Microsoft.Crm.Client.Core.ViewModels.$2O.get_$6();n.$J8(Microsoft.Crm.Client.Core.ViewModels.$2O).$JZ(Microsoft.Crm.Client.Core.ViewModels.$8C).$3Eo().$3Ep(function(){return i})};Microsoft.Crm.Client.Application.App.Components.$3c.$2Pe=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.ClientApiManager.get_$6();n.$J8(Microsoft.Crm.Client.Core.ViewModels.ClientApiManager).$JZ(Microsoft.Crm.Client.Core.ViewModels.$9Y).$3Eo().$3Ep(function(){return t});n.$J8(Microsoft.Crm.Client.Core.ViewModels.ClientApiManager).$JZ(Microsoft.Crm.Client.Core.ViewModels.ClientApiManager).$3Eo().$3Ep(function(){return t})};Microsoft.Crm.Client.Application.App.Components.$3c.$1jK=function(n){n.$S("EditModeSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel);n.$S("NotesEditModeSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.$Db);n.$S("OptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.OptionSetViewModel);n.$S("UnboundOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$EM);n.$S("ToggleViewModel",Microsoft.Crm.Client.Core.ViewModels.ToggleViewModel);n.$S("StatusOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.StatusOptionSetViewModel);n.$S("UnboundStatusOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.UnboundStatusOptionSetViewModel);n.$S("EntityReferenceOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$CM);n.$S("LanguageOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$DL);n.$S("UnboundLanguageOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.UnboundLanguageOptionSetViewModel);n.$S("TimeZoneOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$EL);n.$S("LookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$7G);n.$S("LookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.$A8);n.$S("LookupBarViewModel",Microsoft.Crm.Client.Core.ViewModels.$A5);n.$S("CrmCollapsibleSection",Microsoft.Crm.Client.Core.ViewModels.$2D);n.$S("EditListItem",Microsoft.Crm.Client.Core.ViewModels.EditListItemViewModel);n.$S("CrmFieldsComponent",Microsoft.Crm.Client.Core.ViewModels.$Bt);n.$S("MultipleSourceLookup",Microsoft.Crm.Client.Core.ViewModels.$DW);n.$S("EntityMetadataOptionSetViewModel",Microsoft.Crm.Client.Core.ViewModels.$80);n.$S("PartyListLookup",Microsoft.Crm.Client.Core.ViewModels.PartyListLookupViewModel);n.$S("PartyList",Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel);n.$S("PartyListItem",Microsoft.Crm.Client.Core.ViewModels.PartyListItemViewModel);n.$S("PartyListRead",Microsoft.Crm.Client.Core.ViewModels.PartyListReadViewModel);n.$S("AddressReadOnly",Microsoft.Crm.Client.Core.ViewModels.$Ba);n.$S("PhoneReadOnly",Microsoft.Crm.Client.Core.ViewModels.$Dk);n.$S("EmailReadOnly",Microsoft.Crm.Client.Core.ViewModels.$CI);n.$S("UriReadOnly",Microsoft.Crm.Client.Core.ViewModels.$EO);n.$S("CrmChartDrilldown",Microsoft.Crm.Client.Core.ViewModels.CrmChartDrilldownViewModel);n.$S("SearchBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.SearchBoxViewModel);n.$S("MailAppSearchBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.MailAppSearchBoxViewModel);n.$S("PageSearchHeaderViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.PageSearchHeaderViewModel);n.$S("SearchSummaryViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$B0);n.$S("DraftsViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$7y);n.$S("DuplicateRecordsViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$7z);n.$S("DraftsCommandButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$CA);n.$S("SyncErrorsCommandButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$EC);n.$S("SiteMapCommandButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$E8);n.$S("RollupViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.RollupViewModel);n.$S("SimpleButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.$6L);n.$S("MailAppMultiLineListViewModel",Microsoft.Crm.Client.Core.ViewModels.MailAppMultiLineListViewModel);n.$S("MailAppRelevantSearchListViewModel",Microsoft.Crm.Client.Core.ViewModels.MailAppRelevantSearchListViewModel);n.$S("ControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);n.$S("TelPhoneReadOnly",Microsoft.Crm.Client.Core.ViewModels.Controls.$EG);n.$S("PopOutLinkLabelViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.$8M);n.$S("FeedbackViewModel",Microsoft.Crm.Client.Core.ViewModels.$CR);n.$S("RecentlyViewedItemListViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$Du);n.$S("MailAppRecentlyViewedItemListViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.$6c);n.$S("LandingPageViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.LandingPageViewModel);n.$S("SetRegardingButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.$E5);n.$S("EmailTemplatesRegardingComboBoxViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.EmailTemplatesRegardingComboBoxViewModel);n.$S("ExternalProtocolLinkLabelViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.ExternalProtocolLinkLabelViewModel);n.$S("RecipientExternalProtocolLinkViewModel",Microsoft.Crm.Client.Core.ViewModels.MailApp.RecipientExternalProtocolLinkViewModel);n.$S("DateViewModel",Microsoft.Crm.Client.Core.ViewModels.$98);n.$S("DurationViewModel",Microsoft.Crm.Client.Core.ViewModels.$9D);Microsoft.Crm.Client.Application.App.Components.$3c.$1jI(n)};Microsoft.Crm.Client.Application.App.Components.$3c.$1jI=function(n){n.$S("ProcessSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$8N);n.$S("ProxyProcessHeader",Microsoft.Crm.Client.Core.ViewModels.Controls.$Ac);n.$S("ProcessMetadataManager",Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager);n.$S("ProcessManager",Microsoft.Crm.Client.Core.ViewModels.Controls.$3T);n.$S("ProcessActiveStageManager",Microsoft.Crm.Client.Core.ViewModels.Controls.$AW);n.$S("ProcessHeader",Microsoft.Crm.Client.Core.ViewModels.Controls.$AY);n.$S("Stage",Microsoft.Crm.Client.Core.ViewModels.Controls.$B8);n.$S("StageAdvanceAction",Microsoft.Crm.Client.Core.ViewModels.Controls.$6f);n.$S("StageNavigationAction",Microsoft.Crm.Client.Core.ViewModels.Controls.$B7);n.$S("ProxyProcessControl",Microsoft.Crm.Client.Core.ViewModels.Controls.$7P);n.$S("ProcessEntity",Microsoft.Crm.Client.Core.ViewModels.Controls.$AX)};Microsoft.Crm.Client.Application.App.Components.$3c.prototype={$2Pd:function(n){Microsoft.Crm.Client.Application.App.Components.$3c.$2Pj(n);Microsoft.Crm.Client.Application.App.Components.$3c.$2Pg(n);Microsoft.Crm.Client.Application.App.Components.$3c.$2Pf(n);Microsoft.Crm.Client.Application.App.Components.$3c.$2Pe(n)}};Type.registerNamespace("Microsoft.Crm.Client.Application.App.Features");Microsoft.Crm.Client.Application.App.Features.$Bb=function(){Microsoft.Crm.Client.Application.App.Features.$Bb.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Bb.prototype={$Rt:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$Rt.call(this);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("EmailLinkCommand",Microsoft.Crm.Client.Core.Commands.EmailLinkCommand.$n)}};Microsoft.Crm.Client.Application.App.Features.$Bc=function(){Microsoft.Crm.Client.Application.App.Features.$Bc.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Bc.prototype={get_$31Z:function(){return!0},get_$1LY:function(){return"AuthenticatedMashups"}};Microsoft.Crm.Client.Application.App.Features.$C7=function(){Microsoft.Crm.Client.Application.App.Features.$C7.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$C8=function(){Microsoft.Crm.Client.Application.App.Features.$C8.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$C8.prototype={$Rt:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$Rt.call(this);Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$1mY=!0;Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenDocumentTemplateCommand",Microsoft.Crm.Client.Core.Commands.OpenDocumentTemplateCommand.$n)}};Microsoft.Crm.Client.Application.App.Features.$CE=function(){Microsoft.Crm.Client.Application.App.Features.$CE.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$CF=function(){Microsoft.Crm.Client.Application.App.Features.$CF.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$DO=function(){Microsoft.Crm.Client.Application.App.Features.$DO.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Dj=function(){Microsoft.Crm.Client.Application.App.Features.$Dj.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Dj.prototype={$2Z:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$2Z.call(this);Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(Microsoft.Crm.Client.Application.App.$3M.get_$6().add_$1gn(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m.get_$6().$1Lx),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$GJ(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m.get_$6()))}};Microsoft.Crm.Client.Application.App.Features.$DT=function(){Microsoft.Crm.Client.Application.App.Features.$DT.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$DT.prototype={get_$31Z:function(){return!0},get_$1LY:function(){return"MobileClientDeviceIntegration"}};Microsoft.Crm.Client.Application.App.Features.$Dm=function(){Microsoft.Crm.Client.Application.App.Features.$Dm.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Dm.prototype={$Rt:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$Rt.call(this);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenInPowerBICommand",Microsoft.Crm.Client.Core.Commands.OpenInPowerBICommand.$n);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenReportInPowerBICommand",Microsoft.Crm.Client.Core.Commands.OpenReportInPowerBICommand.$n);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("PowerBIViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.PowerBIViewModel);Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand.$1ea=!0}};Microsoft.Crm.Client.Application.App.Features.$EE=function(){Microsoft.Crm.Client.Application.App.Features.$EE.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$EE.prototype={$Rt:function(){var n;Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S(Microsoft.Crm.Client.Core.ViewModels.$4O.getName(),Microsoft.Crm.Client.Core.ViewModels.$4O);n=this;Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C(Microsoft.Crm.Client.Core.Framework.$1.toString(38),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(38);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n.set_DefinitionId("TaskBasedFlowGlobalMenu"),n});Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("TaskBasedFlowPageViewModel",Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowPageViewModel);var t=this,i=this,r=this;Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(39),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.TaskBasedFlowContainerViewModel;return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("GetMultipleEntityFormDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$PF(n,1);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1MU(n,4)},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10c(n)})}};Microsoft.Crm.Client.Application.App.Features.$EU=function(){Microsoft.Crm.Client.Application.App.Features.$EU.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$EU.prototype={$Rt:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$Rt.call(this);Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$1o1=!0;Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenWordTemplateCommand",Microsoft.Crm.Client.Core.Commands.OpenWordTemplateCommand.$n)}};Microsoft.Crm.Client.Application.App.Features.$Bw=function(){Microsoft.Crm.Client.Application.App.Features.$Bw.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Bw.prototype={$2Z:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$2Z.call(this)},$Rt:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$Rt.call(this);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("CustomControl",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z)}};Microsoft.Crm.Client.Application.App.Features.$CJ=function(){Microsoft.Crm.Client.Application.App.Features.$CJ.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$CJ.prototype={$2Z:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$2Z.call(this)},$Rt:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$Rt.call(this);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("CustomControl",Microsoft.Crm.Client.Core.ViewModels.Controls.CustomControls.$2Z)}};Microsoft.Crm.Client.Application.App.Features.$CP=function(){Microsoft.Crm.Client.Application.App.Features.$CP.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$CP.prototype={$Rt:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$Rt.call(this);Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("ExportToExcelCommand",Microsoft.Crm.Client.Core.Commands.ExportToExcelCommand.$n)}};Microsoft.Crm.Client.Application.App.Features.$N=function(){this.$1Zw={}};Microsoft.Crm.Client.Application.App.Features.$N.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Application.App.Features.$N.$C)&&(Microsoft.Crm.Client.Application.App.Features.$N.$C=new Microsoft.Crm.Client.Application.App.Features.$N),Microsoft.Crm.Client.Application.App.Features.$N.$C};Microsoft.Crm.Client.Application.App.Features.$N.prototype={$1Y8:function(n){var t=this.$1Zw[n];return t?new t:(Microsoft.Crm.Client.Core.Framework.$8.$1E("FeatureFactory",1004,String.format("Can not create Feature: '{0}' - Type not found",n)),null)},$2t:function(n,t){this.$1Zw[n]=t}};Microsoft.Crm.Client.Application.App.Features.FeatureName=function(){};Microsoft.Crm.Client.Application.App.Features.$1m=function(){};Microsoft.Crm.Client.Application.App.Features.$1m.prototype={$ZP_0:!1,$lS_0:!1,$F1:!1,$2Z:function(){this.$Rt();this.$ZP_0=!0},get_$149:function(){return this.$ZP_0},$29l:function(){this.$lS_0=!0},get_$1eb:function(){return this.$lS_0},get_$AC:function(){return this.$F1},set_$AC:function(n){return this.$F1=n,n},get_$31Z:function(){return!1},get_$1LY:function(){return""},$Rt:function(){}};Microsoft.Crm.Client.Application.App.Features.$DQ=function(){Microsoft.Crm.Client.Application.App.Features.$DQ.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$DQ.prototype={$2Z:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$2Z.call(this);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$GD(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.get_$6())},get_$31Z:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$4T&&!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$2lP()},get_$1LY:function(){return"HasMashupSupport"},$Rt:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$Rt.call(this);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("IFrameViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$89);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("WebResourceViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.WebResourceViewModel);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("ACIControlViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$BX)}};Microsoft.Crm.Client.Application.App.Features.$C4=function(){Microsoft.Crm.Client.Application.App.Features.$C4.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$C4.prototype={$2Z:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$2Z.call(this);Microsoft.Crm.Client.Application.App.$3E.get_$6().$2Z();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$4q(Microsoft.Crm.Client.Application.App.$3E.get_$6())}};Microsoft.Crm.Client.Application.App.Features.$5n=function(){Microsoft.Crm.Client.Application.App.Features.$5n.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$5n.$301=function(n){n.$1C(Microsoft.Crm.Client.Core.ViewModels.$4P.getName(),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.$4P;return n.$10j=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("PingServer",null)),n});n.$1C(Microsoft.Crm.Client.Core.Framework.$1.toString(4),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.RootViewModel(4);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n})};Microsoft.Crm.Client.Application.App.Features.$5n.$AL=function(n){var t=function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$vo(n)};n.$AL(Microsoft.Crm.Client.Core.Framework.$1.toString(40),function(){var n=new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel(40);return n.$5o=new Microsoft.Crm.Client.Core.ViewModels.$I(n,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RootDefinition",null)),n},function(n){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Nh().$PF(n,2)},t)};Microsoft.Crm.Client.Application.App.Features.$5n.$1jI=function(n){n.$S("ProcessSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.$8N);n.$S("ProxyProcessHeader",Microsoft.Crm.Client.Core.ViewModels.Controls.$Ac);n.$S("ProcessMetadataManager",Microsoft.Crm.Client.Core.ViewModels.Controls.ProcessMetadataManager);n.$S("ProcessManager",Microsoft.Crm.Client.Core.ViewModels.Controls.$3T);n.$S("ProcessActiveStageManager",Microsoft.Crm.Client.Core.ViewModels.Controls.$AW);n.$S("ProcessHeader",Microsoft.Crm.Client.Core.ViewModels.Controls.$AY);n.$S("Stage",Microsoft.Crm.Client.Core.ViewModels.Controls.$B8);n.$S("StageAdvanceAction",Microsoft.Crm.Client.Core.ViewModels.Controls.$6f);n.$S("StageNavigationAction",Microsoft.Crm.Client.Core.ViewModels.Controls.$B7);n.$S("ProxyProcessControl",Microsoft.Crm.Client.Core.ViewModels.Controls.$7P);n.$S("ProcessEntity",Microsoft.Crm.Client.Core.ViewModels.Controls.$AX)};Microsoft.Crm.Client.Application.App.Features.$5n.prototype={$Rt:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$Rt.call(this);var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6();n.$S("InteractionWallViewModel",Microsoft.Crm.Client.Core.ViewModels.$74);n.$S("InteractionWallEventViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel);n.$S("InteractionWallDateRangeViewModel",Microsoft.Crm.Client.Core.ViewModels.$D5);n.$S("MultiplePieChartViewModel",Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel);n.$S("RadioButtonGroupViewModel",Microsoft.Crm.Client.Core.ViewModels.RadioButtonGroupViewModel);n.$S("RadioButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.RadioButtonViewModel);n.$S("ContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);n.$S("InteractionCentricInlineLookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.$9r);n.$S("InteractionCentricLookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel);n.$S("InteractionCentricLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$D0);n.$S("InteractionCentricMultipleSourceLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$D2);n.$S("AppliedFiltersViewModel",Microsoft.Crm.Client.Core.ViewModels.$8Z);n.$S("InteractionCentricDashboardViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("DateRangeViewModel",Microsoft.Crm.Client.Core.ViewModels.$C2);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("DateRangeFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$C0);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("DateRangeGlobalFilterChildViewModel",Microsoft.Crm.Client.Core.ViewModels.$C1);Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("TagFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel);n.$S("QueueContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel);n.$S("QueuePanelViewModel",Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel);n.$S("QueueItemViewModel",Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel);n.$S("CardFormViewModel",Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel);n.$S("ImageButtonWrapperViewModel",Microsoft.Crm.Client.Core.ViewModels.$Cu);n.$S("FilterGraphViewModel",Microsoft.Crm.Client.Core.ViewModels.$9M);n.$S("GlobalFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$Ca);n.$S("ColumnLayoutViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bl);n.$S("GridCellLayoutViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cb);n.$S("TabLayoutViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED);n.$S("BaseLayoutViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd);n.$S("AppliedFiltersViewModel",Microsoft.Crm.Client.Core.ViewModels.$8Z);n.$S("DashboardPickerViewModel",Microsoft.Crm.Client.Core.ViewModels.$By);n.$S("InteractionCentricApplicationShellViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel);n.$S("HierarchicalSubjectViewModel",Microsoft.Crm.Client.Core.ViewModels.$9U);n.$S("DateViewModel",Microsoft.Crm.Client.Core.ViewModels.$98);n.$S("DurationViewModel",Microsoft.Crm.Client.Core.ViewModels.$9D);n.$S("RangeSliderViewModel",Microsoft.Crm.Client.Core.ViewModels.$Dt);n.$S("GlobalFilterPartyListLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$CZ);n.$S("GlobalFilterEditModeSectionViewModel",Microsoft.Crm.Client.Core.ViewModels.$CY);n.$S("GlobalFilterPartyListViewModel",Microsoft.Crm.Client.Core.ViewModels.$6Y);n.$S("InteractionCentricCommunicationCardViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q);n.$S("NavBarAssociatedViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarAssociatedViewModel);n.$S("MultiSessionTabContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.MultiSessionTabContainerViewModel);n.$S("ReferencePanelViewModel",Microsoft.Crm.Client.Core.ViewModels.$Ak);n.$S("NavBarAreaViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarAreaViewModel);n.$S("NavBarGroupViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarGroupViewModel);n.$S("NavBarSubAreaViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarSubAreaViewModel);n.$S("NavBarSearchViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarSearchViewModel);n.$S("NavBarUserInfoViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarUserInfoViewModel);n.$S("NavBarMruViewModel",Microsoft.Crm.Client.Core.ViewModels.NavBarMruViewModel);n.$S("NavBarQuickCreateViewModel",Microsoft.Crm.Client.Core.ViewModels.$DY);n.$S("NavBarSettingsViewModel",Microsoft.Crm.Client.Core.ViewModels.$DZ);n.$S("RichEditorViewModel",Microsoft.Crm.Client.Core.ViewModels.RichEditorViewModel);n.$S("InteractionCentricGridViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel);n.$S("AssociatedGridViewModel",Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel);n.$S("DropdownForGridViewModel",Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel);n.$S("GridFlyoutViewModel",Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel);n.$S("ComponentSwitcherViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bp);n.$S("QuickViewFormViewModel",Microsoft.Crm.Client.Core.ViewModels.QuickViewFormViewModel);n.$S("RefreshControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$Dv);n.$S("CollapseVisualFilterButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.$Bk);n.$S("InteractionCentricFormFooterViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel);n.$S("KbSearchControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$9z);n.$S("InteractionCentricFormBodyViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel);n.$S("QuickActionViewModel",Microsoft.Crm.Client.Core.ViewModels.$Ag);n.$S("QuickActionButtonViewModel",Microsoft.Crm.Client.Core.ViewModels.$Af);n.$S("EmailAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel);n.$S("FilterBarViewModel",Microsoft.Crm.Client.Core.ViewModels.$CS);n.$S("ICTimerControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$6a);n.$S("InteractionCentricPartyListViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel);n.$S("InteractionCentricPartyListLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel);n.$S("InteractionCentricLookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel);n.$S("HybridGridControlViewModel",Microsoft.Crm.Client.Core.ViewModels.$Cd);n.$S("ViewIdDisplayViewModel",Microsoft.Crm.Client.Core.ViewModels.$ER);n.$S("InteractionCentricGridControlViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel);n.$S("InteractionCentricGridControlHeaderViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel);n.$S("HierarchicalSubjectViewModel",Microsoft.Crm.Client.Core.ViewModels.$9U);n.$S("PagedListValidateViewModel",Microsoft.Crm.Client.Core.ViewModels.$Di);Microsoft.Crm.Client.Application.App.Features.$5n.$301(n);Microsoft.Crm.Client.Application.App.Features.$5n.$AL(n);Microsoft.Crm.Client.Application.App.Features.$5n.$1jI(n)}};Microsoft.Crm.Client.Application.App.Features.$Dq=function(){Microsoft.Crm.Client.Application.App.Features.$Dq.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Dq.prototype={$Rt:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6(),t=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),f=this,i=function(){var r=new Microsoft.Crm.Client.Core.Models.ProcessControl.Factories.$KX,n={};n.DataSource=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3;n.ModelFactory=r;var i=new Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel,u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSwitchProcessListData",n),f=new Microsoft.Crm.Client.Core.ViewModels.$I(i,u);return i.$1lI(f),new Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel(t,i)},e=this,r=function(n){var t=n;t.$uq()},o=this,u=function(n){var t=n;t.$Ji()};n.$AL(Microsoft.Crm.Client.Core.ViewModels.SwitchProcessDialogViewModel.getName(),i,r,u);n.$S(Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel.getName(),Microsoft.Crm.Client.Core.ViewModels.SwitchProcessListViewModel)}};Microsoft.Crm.Client.Application.App.Features.$EF=function(){this.$$d_$2tE=Function.createDelegate(this,this.$2tE);this.$$d_$2sg=Function.createDelegate(this,this.$2sg);this.$$d_$27u=Function.createDelegate(this,this.$27u);this.$$d_$285=Function.createDelegate(this,this.$285);this.$$d_$31N=Function.createDelegate(this,this.$31N);this.$$d_$1VS=Function.createDelegate(this,this.$1VS);Microsoft.Crm.Client.Application.App.Features.$EF.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$EF.prototype={get_$31Z:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()},get_$1LY:function(){return"MobileClientTelemetry"},$Rt:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$Rt.call(this)},$2Z:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$2Z.call(this);Microsoft.Crm.Client.Core.Framework.Trace.$1Br(this.$$d_$1VS);Microsoft.Crm.Client.Core.Framework.$2a.get_$6().add_$28W(this.$$d_$31N);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$26M(this.$$d_$285);Microsoft.Crm.Client.Application.App.StartPage.set_$2ms(this.$$d_$27u);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.set_$2Lb(this.$$d_$2sg);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$2TX(this.$$d_$2tE)},$2tE:function(n,t){var i=t;Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pc(i.$L,i.$1ZI))},$285:function(n,t){var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pt("Metadata_Sync_Complete");i.$2L4(t.$1gN,t.$1jc);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i)},$27u:function(){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$MR)},$2sg:function(n,t,i){Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PJ(n,t,i))},$1VS:function(n,t,i){if(t<=2){var r=i.get_$qp(),u=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PR(r.$d("s"),r.$d("l"),r.get_$RE(),r.$d("st"),r.$d("em"),r.$d("est"),r.$d("ci"));Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$hP(u)}},$31N:function(n){var t=n(),i=null,u;try{i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E()}catch(r){Microsoft.Crm.Client.Core.Framework.Trace.logException(1004,r,r.message)}u=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PY(t.$Lz,t.$M0,t.$MJ,t.$A5,t.$nY,t.$jS,i);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$hP(u)}};Microsoft.Crm.Client.Application.App.Features.$DS=function(){Microsoft.Crm.Client.Application.App.Features.$DS.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$DS.prototype={$ZP:!1,get_$31Z:function(){return!0},get_$1LY:function(){return"MobileClientOfflineAutoOptin"},get_$149:function(){return this.$ZP},$2Z:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$2Z.call(this);this.$ZP=!0;(Microsoft.Crm.Client.Core.Framework.$6.get_$f()||Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||Microsoft.Crm.Client.Core.Framework.$6.$4N)&&(this.$ZP=!1)}};Microsoft.Crm.Client.Application.App.Features.$DU=function(){Microsoft.Crm.Client.Application.App.Features.$DU.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$DU.prototype={$lS:!1,get_$31Z:function(){return!0},get_$1LY:function(){return"MobileClientOffline"},get_$1eb:function(){return this.$lS},$29l:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$29l.call(this);this.$lS=!0;(Microsoft.Crm.Client.Core.Framework.$6.get_$f()||Microsoft.Crm.Client.Core.Framework.$6.get_$4U()||Microsoft.Crm.Client.Core.Framework.$6.$4N)&&(this.$lS=!1)}};Microsoft.Crm.Client.Application.App.Features.$DV=function(){Microsoft.Crm.Client.Application.App.Features.$DV.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$DV.prototype={$2Z:function(){Microsoft.Crm.Client.Application.App.Features.$1m.prototype.$2Z.call(this);Microsoft.Crm.Client.Core.ViewModels.Controls.$2i.get_instance().IsEnabled=!0}};Microsoft.Crm.Client.Application.App.Features.$D1=function(){Microsoft.Crm.Client.Application.App.Features.$D1.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$D1.prototype={get_$AC:function(){return Microsoft.Crm.Client.Application.App.Features.$1m.prototype.get_$AC.call(this)&&Microsoft.Crm.Client.Core.Framework.$6.get_$f()},set_$AC:function(n){return Microsoft.Crm.Client.Application.App.Features.$1m.prototype.set_$AC.call(this,n),n}};Microsoft.Crm.Client.Application.App.Features.$Dr=function(){Microsoft.Crm.Client.Application.App.Features.$Dr.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$Dc=function(){Microsoft.Crm.Client.Application.App.Features.$Dc.initializeBase(this)};Microsoft.Crm.Client.Application.App.Features.$E6=function(){Microsoft.Crm.Client.Application.App.Features.$E6.initializeBase(this)};Type.registerNamespace("Microsoft.Crm.Client.Application.App.ClientQualitySubscribers");Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J=function(){Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.initializeBase(this)};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.$$cctor=function(){Microsoft.Crm.Client.Application.App.$1R.$300(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.get_$6())};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.$C)&&(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.$C=new Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J),Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.$C};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.set_$2Lb=function(n){if($0.$0(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.$zr))return Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.$zr=n,n;throw Error.invalidOperation("App crash listener delegate already bound");};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.prototype={$UB:!1,$XK:!1,$1gA:!1,$1Dp:!1,get_$1Xw:function(){return this.$XK},set_$1Xw:function(n){return n!==this.$XK&&(this.$XK=n,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("CrashDetectionEnabled",{CrashDetectionEnabled:this.$XK}),Microsoft.Crm.Client.Application.App.$1R.$2Hq(this)),n},get_$1gB:function(){return this.$UB},set_$1gB:function(n){return this.$UB!==n&&(this.$UB=n,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("MashupsDisabled",{MashupsDisabled:this.$UB}),this.$8X("MashupEnabledUpdate",null)),n},get_$1sn:function(){return this.$1Dp},$2Hp:function(){Microsoft.Crm.Client.Application.App.$1R.$2Hq(this)},add_$267:function(n){this.$1p("MashupEnabledUpdate",n)},remove_$267:function(n){this.$32("MashupEnabledUpdate",n)},$2oT:function(){return!this.$UB},$2zu:function(){this.$1gA||(this.$1gA=!0,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("MashupEncountered",{MashupEncountered:!0}))},get_$O9:function(){return this.$XK&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$1g9()},$2Z:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t,i;return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$1g9()?(t=this,i=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(this.$2m7(),this.$2mL()).then(function(){n.resolve(null)},function(t){Microsoft.Crm.Client.Core.Framework.$8.$1E("MashupManager_Initialize",1004,"Error initializing MashupManager: "+t.$F);n.reject(t)})):(this.$2Hp(),n.resolve()),n.promise()},$22W:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t,i;return this.$UB?n.resolve(null):(t=this,i=this,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("MashupEncountered").then(function(i){var r=!$0.$0(i)&&"MashupEncountered"in i&&i.MashupEncountered;r?Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("MemoryCrashCount").then(function(i){var u=!$0.$0(i)&&"MemoryCrashCount"in i?i.MemoryCrashCount+1:1,f;$0.$0(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.$zr)||Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.$zr(t.$UB,r,u);f=function(){Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("MemoryCrashCount",{MemoryCrashCount:u});Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("MashupEncountered",{MashupEncountered:!1});n.resolve(null)};u>=2?(t.$38O(),f()):(t.$1gt(),f())},function(t){Microsoft.Crm.Client.Core.Framework.$8.$1E("MashupManager_HandlePreviousMemoryCrash",1004,"Error retrieving Session State Memory Crash Count"+t.$F);n.resolve(null)}):(Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("MemoryCrashCount",{MemoryCrashCount:0}),n.resolve(null))},function(t){Microsoft.Crm.Client.Core.Framework.$8.$1E("MashupManager_HandlePreviousMemoryCrash",1004,"Error retrieving Session State Mashup Encountered"+t.$F);n.resolve(null)})),n.promise()},$22V:function(){this.$1gt();var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7);return n.resolve(),Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("MemoryCrashCount",{MemoryCrashCount:0}),Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("MashupEncountered",{MashupEncountered:!1}),n.promise()},$2m7:function(){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),n=this,i=this;return Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("CrashDetectionEnabled").then(function(i){n.$XK=!$0.$0(i)&&"CrashDetectionEnabled"in i?i.CrashDetectionEnabled:!0;n.$XK||n.$2Hp();t.resolve(null)},function(n){Microsoft.Crm.Client.Core.Framework.$8.$1E("MashupManager_Initialize",1004,"Error retrieving Session State CrashDetectionEnabled: "+n.$F);t.reject(n)}),t.promise()},$2mL:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t=this,i=this;return Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("MashupsDisabled").then(function(i){t.$UB=!$0.$0(i)&&"MashupsDisabled"in i?i.MashupsDisabled:!1;n.resolve(null)},function(t){Microsoft.Crm.Client.Core.Framework.$8.$1E("MashupManager_Initialize",1004,"Error retrieving Session State MashupsDisabled: "+t.$F);n.reject(t)}),n.promise()},$38O:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.AppCrashDetectedViewModel,t=this,i=function(){t.$1Dp=!0;t.$1gt()},r=this,u=function(){r.set_$1gB(n.$11J);r.set_$1Xw(!n.$11Q);i()};n.$C2=u;n.$Gm=i;n.Show()},$1gt:function(){this.$1Dp=!0;this.$8X("MashupEnabledUpdate",null)},$8X:function(n,t){var i=this.$4d(n);i&&i(this,t)}};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21=function(n,t){this.$$d_$2Ur=Function.createDelegate(this,this.$2Ur);this.$$d_$2Uq=Function.createDelegate(this,this.$2Uq);this.$$d_$2Il=Function.createDelegate(this,this.$2Il);this.$$d_$2Ik=Function.createDelegate(this,this.$2Ik);this.$4c=n;t&&(t.add_$2uV(this.$$d_$2Ik),t.add_$2uW(this.$$d_$2Il))};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.get_$6=function(){if($0.$0(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$C))throw Error.invalidOperation("OfflineManager.Instance cannot be accessed before OfflineManager.Initialize is called.");return Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$C};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$2Z=function(n,t){Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$C=$0.$0(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$C)?new Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21(n,t):Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$C};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$2FU=function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(null,13);n.$D="syncerror";n.$x={};n.$x.ListDefinitionId="F1203E8B-6C6A-4210-906E-8428CB1FDE68";n.execute();n.dispose()};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.prototype={$4c:null,$18s:function(){Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().set_$F2(!0);Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().set_$24R(!1);($0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$US())||Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$US().$JC===1&&!Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$US().$N1)&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.set_$1K1(!0);Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.$2Z(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$C.$4c.get_$E());Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.$xP();Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$1hU(this,new Microsoft.Crm.Client.Core.Storage.DataApi.$PX(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().get_$F2()));var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PI("1004","MOCADataSyncUserOptedIn","","",0,"","User Opt-in enabled.",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),(new Date).toString(),"",0);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n);Microsoft.Crm.Client.Core.Framework.$8.$B("UserOptedIn",4,"User Opt-in enabled")},$277:function(){Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().get_$F2()?Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Offline_Information"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Offline_Information_Message"),0):Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$T9()>0?Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Draft_Records_Warning"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Draft_Records_Message"),1):Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Offline"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Offline_Message"),0,this.$$d_$2Uq,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Label_Enable"),null)},$278:function(){Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().get_$24R()?Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_OfflineOptOut_Information"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_OfflineOptOut_Information_Message"),0):Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().get_$F2()&&Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_OfflineOptOut"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_OfflineOptOut_Message"),0,this.$$d_$2Ur,null,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Settings_Diagnostics_Label_Disable"),null):Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_OfflineOptOut"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Offline_DisableSync_Information_Message"),0)},$2Ik:function(){this.$277()},$2Il:function(){this.$278()},$2Uq:function(){this.$18s()},$2Ur:function(){Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.set_$t7(!0);Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.set_$14F(!1);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$1hU(this,new Microsoft.Crm.Client.Core.Storage.DataApi.$PX(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().get_$F2()));Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$ZK.$2Oy(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$C.$4c.get_$E());Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_PALEnabled()&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().$By&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.$xP()},$1I8:function(n,t){if(n>0){var e=this,u=function(){Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$2FU()},f=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Sync_Status_Error_Message"),r="",i=f;$0.$0(t)||(r=Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Save_To_CRM_Server_Text"),t.toString()),i=i+"\n\n"+r);Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Sync_Status_Dialog_Title"),i,0,null,u,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Show_Details_Text"))}},$2C8:function(n){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N().get_$5a().$2C8(n)},$2jN:function(){var n="";if(!$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$US()))switch(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$US().$N1){case 1:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OfflineProfile_Not_Available");break;case 3:n=this.$1KE()?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Metadata_Changed_Text"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Metadata_Changed");break;case 2:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Offline_DB_Not_Available");break;case-1:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Sync_Failure");break;case-2:n=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Upgrade_Client")}return n},$2hm:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$US()},$1KE:function(){return $0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$ZK)||$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$ZK.get_$uE())?!1:Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$ZK.get_$uE().$1KE()},$20R:function(n){return Xrm.Utility.isEntityOfflineSyncEnabled(n)?1:Xrm.Utility.isEntityOfflineDisabled(n)?2:0},$21o:function(){return new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["syncerror".toLowerCase()])}};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m=function(){this.$$d_$1gn=Function.createDelegate(this,this.$1gn);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m.initializeBase(this);this.$1Lx=this.$$d_$1gn;this.$KI=!1};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m.get_$6=function(){return $0.$0(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m.$C)&&(Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m.$C=new Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m),Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m.$C};Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m.prototype={$KI:!1,$1Lx:null,get_$lW:function(){return this.$KI},set_$lW:function(n){return n!==this.$KI&&(this.$KI=n,Microsoft.Crm.Client.Core.Framework.$V.get_$6().$bJ("PaneStackingEnabledKey",{PaneStackingEnabledKey:this.$KI}),this.$7("IsStackingEnabled")),n},$1gn:function(){this.$2mf();Microsoft.Crm.Client.Application.App.$3M.get_$6().remove_$1gn(this.$1Lx)},$2mf:function(){var n=this,t=this;Microsoft.Crm.Client.Core.Framework.$V.get_$6().$Hi("PaneStackingEnabledKey").then(function(t){n.$KI=!$0.$0(t)&&"PaneStackingEnabledKey"in t?t.PaneStackingEnabledKey:!1},function(n){Microsoft.Crm.Client.Core.Framework.$8.$1E("PaneStackingManager_Initialize",1004,"Error retrieving Session State IsStackingEnabled: "+n.$F)})}};Microsoft.Crm.Client.Core.ViewModels.$HN.registerClass("Microsoft.Crm.Client.Core.ViewModels.$HN",null,Microsoft.Crm.Client.Core.ViewModels.$EX);Microsoft.Crm.Client.Application.App.$IW.registerClass("Microsoft.Crm.Client.Application.App.$IW");Microsoft.Crm.Client.Application.App.$IX.registerClass("Microsoft.Crm.Client.Application.App.$IX",null,Microsoft.Crm.Client.Core.ViewModels.$F3);Microsoft.Crm.Client.Application.App.$3M.registerClass("Microsoft.Crm.Client.Application.App.$3M",Microsoft.Crm.Client.Core.Framework.$AJ);Microsoft.Crm.Client.Application.App.$1R.registerClass("Microsoft.Crm.Client.Application.App.$1R");Microsoft.Crm.Client.Application.App.$1K.registerClass("Microsoft.Crm.Client.Application.App.$1K");Microsoft.Crm.Client.Application.App.$r.registerClass("Microsoft.Crm.Client.Application.App.$r");Microsoft.Crm.Client.Application.App.$1k.registerClass("Microsoft.Crm.Client.Application.App.$1k",null,Microsoft.Crm.Client.Core.Framework.Common.$Gi);Microsoft.Crm.Client.Application.App.$3E.registerClass("Microsoft.Crm.Client.Application.App.$3E",Microsoft.Crm.Client.Core.Framework.$AJ,Microsoft.Crm.Client.Core.Framework.$Fq,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Application.App.$5g.registerClass("Microsoft.Crm.Client.Application.App.$5g");Microsoft.Crm.Client.Application.App.$4K.registerClass("Microsoft.Crm.Client.Application.App.$4K");Microsoft.Crm.Client.Application.App.$X.registerClass("Microsoft.Crm.Client.Application.App.$X");Microsoft.Crm.Client.Application.App.Automation.registerClass("Microsoft.Crm.Client.Application.App.Automation");Microsoft.Crm.Client.Application.App.$2S.registerClass("Microsoft.Crm.Client.Application.App.$2S");Microsoft.Crm.Client.Application.App.ShimBackHandler.registerClass("Microsoft.Crm.Client.Application.App.ShimBackHandler");Microsoft.Crm.Client.Application.App.$2j.registerClass("Microsoft.Crm.Client.Application.App.$2j",Microsoft.Crm.Client.Core.Framework.$AJ,Microsoft.Crm.Client.Core.Framework.$9x);Microsoft.Crm.Client.Application.App.$1v.registerClass("Microsoft.Crm.Client.Application.App.$1v");Microsoft.Crm.Client.Application.App.$5u.registerClass("Microsoft.Crm.Client.Application.App.$5u",null,Microsoft.Crm.Client.Core.Framework.$9w);Microsoft.Crm.Client.Application.App.StartPage.registerClass("Microsoft.Crm.Client.Application.App.StartPage");Microsoft.Crm.Client.Application.App.$3z.registerClass("Microsoft.Crm.Client.Application.App.$3z",null,Microsoft.Crm.Client.Core.Framework.$Go);Microsoft.Crm.Client.Application.App.$Nl.registerClass("Microsoft.Crm.Client.Application.App.$Nl",Microsoft.Crm.Client.Application.App.$3z);Microsoft.Crm.Client.Application.App.Components.$6r.registerClass("Microsoft.Crm.Client.Application.App.Components.$6r",null,Microsoft.Crm.Client.Core.Framework.$GC);Microsoft.Crm.Client.Application.App.Components.$6A.registerClass("Microsoft.Crm.Client.Application.App.Components.$6A");Microsoft.Crm.Client.Application.App.Components.$IT.registerClass("Microsoft.Crm.Client.Application.App.Components.$IT",null,Microsoft.Crm.Client.Core.Framework.$GC);Microsoft.Crm.Client.Application.App.Components.$3c.registerClass("Microsoft.Crm.Client.Application.App.Components.$3c",null,Microsoft.Crm.Client.Core.Framework.$GC);Microsoft.Crm.Client.Application.App.Features.$1m.registerClass("Microsoft.Crm.Client.Application.App.Features.$1m");Microsoft.Crm.Client.Application.App.Features.$Bb.registerClass("Microsoft.Crm.Client.Application.App.Features.$Bb",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$Bc.registerClass("Microsoft.Crm.Client.Application.App.Features.$Bc",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$C7.registerClass("Microsoft.Crm.Client.Application.App.Features.$C7",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$C8.registerClass("Microsoft.Crm.Client.Application.App.Features.$C8",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$CE.registerClass("Microsoft.Crm.Client.Application.App.Features.$CE",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$CF.registerClass("Microsoft.Crm.Client.Application.App.Features.$CF",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$DO.registerClass("Microsoft.Crm.Client.Application.App.Features.$DO",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$Dj.registerClass("Microsoft.Crm.Client.Application.App.Features.$Dj",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$DT.registerClass("Microsoft.Crm.Client.Application.App.Features.$DT",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$Dm.registerClass("Microsoft.Crm.Client.Application.App.Features.$Dm",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$EE.registerClass("Microsoft.Crm.Client.Application.App.Features.$EE",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$EU.registerClass("Microsoft.Crm.Client.Application.App.Features.$EU",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$Bw.registerClass("Microsoft.Crm.Client.Application.App.Features.$Bw",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$CJ.registerClass("Microsoft.Crm.Client.Application.App.Features.$CJ",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$CP.registerClass("Microsoft.Crm.Client.Application.App.Features.$CP",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$N.registerClass("Microsoft.Crm.Client.Application.App.Features.$N");Microsoft.Crm.Client.Application.App.Features.FeatureName.registerClass("Microsoft.Crm.Client.Application.App.Features.FeatureName");Microsoft.Crm.Client.Application.App.Features.$DQ.registerClass("Microsoft.Crm.Client.Application.App.Features.$DQ",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$C4.registerClass("Microsoft.Crm.Client.Application.App.Features.$C4",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$5n.registerClass("Microsoft.Crm.Client.Application.App.Features.$5n",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$Dq.registerClass("Microsoft.Crm.Client.Application.App.Features.$Dq",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$EF.registerClass("Microsoft.Crm.Client.Application.App.Features.$EF",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$DS.registerClass("Microsoft.Crm.Client.Application.App.Features.$DS",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$DU.registerClass("Microsoft.Crm.Client.Application.App.Features.$DU",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$DV.registerClass("Microsoft.Crm.Client.Application.App.Features.$DV",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$D1.registerClass("Microsoft.Crm.Client.Application.App.Features.$D1",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$Dr.registerClass("Microsoft.Crm.Client.Application.App.Features.$Dr",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$Dc.registerClass("Microsoft.Crm.Client.Application.App.Features.$Dc",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.Features.$E6.registerClass("Microsoft.Crm.Client.Application.App.Features.$E6",Microsoft.Crm.Client.Application.App.Features.$1m);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.registerClass("Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J",Microsoft.Crm.Client.Core.Framework.$AJ,Microsoft.Crm.Client.Core.Framework.$Fp,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Application.App.$Gs);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.registerClass("Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21",null,Microsoft.Crm.Client.Core.Framework.$Fs);Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m.registerClass("Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m",Microsoft.Crm.Client.Core.Framework.$AJ,Microsoft.Crm.Client.Core.Framework.$Gd,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Application.App.$IX.$$cctor();Microsoft.Crm.Client.Application.App.$3M.$C=null;Microsoft.Crm.Client.Application.App.$1R.$8m=!1;Microsoft.Crm.Client.Application.App.$1R.$PO=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Application.App.$Gs));Microsoft.Crm.Client.Application.App.$1K.$1Vg=Microsoft.Crm.Client.Application.App.$1K.$2LY;Microsoft.Crm.Client.Application.App.$1K.$1pc=Microsoft.Crm.Client.Application.App.$1K.$2HC;Microsoft.Crm.Client.Application.App.$1K.$1C4=Microsoft.Crm.Client.Application.App.$1K.$2La;Microsoft.Crm.Client.Application.App.$1K.$1pb=Microsoft.Crm.Client.Application.App.$1K.$2LX;Microsoft.Crm.Client.Application.App.$1K.$1Ka=null;Microsoft.Crm.Client.Application.App.$r.$1XG="ClientReady";Microsoft.Crm.Client.Application.App.$r.$So="AppCacheUpdateCompleted";Microsoft.Crm.Client.Application.App.$r.$e0=null;Microsoft.Crm.Client.Application.App.$r.$jc=!1;Microsoft.Crm.Client.Application.App.$r.$1XH=[Microsoft.Crm.Client.Application.App.$r.$1XG,Microsoft.Crm.Client.Application.App.$r.$So];Microsoft.Crm.Client.Application.App.$r.$10b=new Array(0);Microsoft.Crm.Client.Application.App.$1k.$C=null;Microsoft.Crm.Client.Application.App.$3E.$C=null;Microsoft.Crm.Client.Application.App.$4K.$C=null;Microsoft.Crm.Client.Application.App.$X.$1uq=[0,2,3,4,5,6];Microsoft.Crm.Client.Application.App.$X.$7Z=null;Microsoft.Crm.Client.Application.App.$X.$nu=null;Microsoft.Crm.Client.Application.App.$X.$1nU=["Initializing","UserEducationHeaderTitle","UserEducationTip1","UserEducationTip2","UserEducationTip3"];Microsoft.Crm.Client.Application.App.$X.$2I4=["SyncProgressIndicator","UserEducationHeaderTitle_Phone","StepProgressIndicator","SyncProgressIndicatorTextStep1","SyncProgressIndicatorTextStep2","SyncProgressIndicatorTextStep3","SyncProgressIndicatorTextStep4","SyncProgressIndicatorTextStep5"];Microsoft.Crm.Client.Application.App.$X.$1gC=5;Microsoft.Crm.Client.Application.App.$X.$110=0;Microsoft.Crm.Client.Application.App.Automation.$1gF=0;Microsoft.Crm.Client.Application.App.Automation.$fw=0;Microsoft.Crm.Client.Application.App.Automation.$fv=null;Microsoft.Crm.Client.Application.App.ShimBackHandler.$C=null;Microsoft.Crm.Client.Application.App.$2j.$C=null;Microsoft.Crm.Client.Application.App.$1v.$25O=["1028","1041","2052","3076","1081","1042","1054"];Microsoft.Crm.Client.Application.App.$1v.$1v9=["1028","1041","2052","3076","1042"];Microsoft.Crm.Client.Application.App.StartPage.$6V=null;Microsoft.Crm.Client.Application.App.StartPage.$13j=null;Microsoft.Crm.Client.Application.App.StartPage.$1ir=!1;Microsoft.Crm.Client.Application.App.StartPage.$2Gr=["Transfer_Reattempt_Prompt_Title","Transfer_Reattempt_Prompt_Message","Transfer_Reattempt_Prompt_Ok","Transfer_Reattempt_Prompt_Cancel"];Microsoft.Crm.Client.Application.App.StartPage.$Y1=!1;Microsoft.Crm.Client.Application.App.StartPage.$1dx=!0;Microsoft.Crm.Client.Application.App.StartPage.$1iq=Microsoft.Crm.Client.Application.App.StartPage.$2ys;Microsoft.Crm.Client.Application.App.StartPage.$nA=Microsoft.Crm.Client.Application.App.StartPage.$2Bm;Microsoft.Crm.Client.Application.App.StartPage.$k6=null;Microsoft.Crm.Client.Application.App.StartPage.$1R7=0;Microsoft.Crm.Client.Application.App.StartPage.$1eG=!1;Microsoft.Crm.Client.Application.App.StartPage.$lX=!1;Microsoft.Crm.Client.Application.App.StartPage.$1er=!1;Microsoft.Crm.Client.Application.App.$3z.$C=null;Microsoft.Crm.Client.Application.App.Features.$N.$C=null;Microsoft.Crm.Client.Application.App.Features.FeatureName.guidedHelp="GuidedHelp";Microsoft.Crm.Client.Application.App.Features.FeatureName.ishGuidedHelp="ISHGuidedHelp";Microsoft.Crm.Client.Application.App.Features.FeatureName.marsLegacyClientEnabled="MarsLegacyClientEnabled";Microsoft.Crm.Client.Application.App.Features.FeatureName.appModuleForOrganization="AppModuleForOrganization";Microsoft.Crm.Client.Application.App.Features.FeatureName.appModuleOnUCI="AppModuleOnUCI";Microsoft.Crm.Client.Application.App.Features.FeatureName.advancedFindOnUCI="AdvancedFindOnUCI";Microsoft.Crm.Client.Application.App.Features.FeatureName.appDesigner="AppDesigner";Microsoft.Crm.Client.Application.App.Features.FeatureName.appModuleMOCAForScaleGroup="AppModuleMOCAForScaleGroup";Microsoft.Crm.Client.Application.App.Features.FeatureName.$1Vb=["EditableGridControlPbl","EditableGridControlJsEvents","MobileClientMashup","GuidedHelp","ISHGuidedHelp","AppModuleForOrganization","AppModuleOnUCI","AdvancedFindOnUCI","AppDesigner","AppModuleMOCAForScaleGroup","MobileClientTelemetry","CortanaProactiveExperience","CustomControlMobile","TaskBasedFlow","ProcessUnification","ExportToExcelMobile","ExcelDocumentTemplate","WordDocumentTemplate","AppLinking","ISHMetadataOnDemand","InteractionCentricDashboard","PrivilegeBasedMetadataSync","MobileClientOffline","MobileClientOfflineAutoOptin","MobileClientTheming","KnowledgeArticle","ServiceCaseTopicAnalysis","AdvancedSimilaritySearch","OfficeMailApp","OfficeMailAppMobile","OfficeMailAppMetadata","SSSCustomProperty","ElasticSearch","SLAV2","InteractionCentricMultiEntityChartsFeature","DocumentRecommendations","SSSReliablePromote","ProductRecommendations","AssociatedGridURLAddressability","EnableControlMappings","LookupRelationshipFilters","WebResourceAndIFrameOnISH","InteractionCentricLookupAutoResolve","QuickFindSearchOnISH","InteractionCentricEmailLink","OneDriveIntegration","SharePointS2S","EmailEngagement","LandingPage","DeviceIntegration","PowerBI","AutoDataCapture","FlowIntegration","PaneStackingOnPhones","MobileClientDeviceIntegration","ActionCard","NonBaseActionCard","AuthenticatedMashups","OfficeMailAppEmailEngagement","WebresourceLocalizationAndDependency","TimelineWall","TimelineWallActivities","TimelineWallPosts","TimelineWallUserPosts","TimelineWallNotes","TimelineWallFilters","TimelineWallCommandBarActivities","TimelineWallWhatsChanged","FCB.BlackForestRI","AllowMsosEditingInGrid","ReferencePanelControl","UseNewRIConfig","EnableReparentingForProduct","EnableAddProductPropertiesAtRootLevel"];Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.$zr=null;Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.$C=null;Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$2J.$$cctor();Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$21.$C=null;Microsoft.Crm.Client.Application.App.ClientQualitySubscribers.$3m.$C=null
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Application.App.js.srcmap
Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$SN=function(n){this.$$d_$2zl=Function.createDelegate(this,this.$2zl);this.$$d_$14p=Function.createDelegate(this,this.$14p);this.$$d_$2qF=Function.createDelegate(this,this.$2qF);this.$GE=new Microsoft.Crm.Client.Core.ViewModels.MessageDialogViewModel;Microsoft.Crm.Client.Core.ViewModels.$SN.initializeBase(this);this.$vP=n};Microsoft.Crm.Client.Core.ViewModels.$SN.prototype={$vP:null,$1ia:null,$2Sb:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Framework.$7);return n.resolve(new(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f))(this.$1ia)),n.promise()},$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.$5v,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1k0(this.$vP),this.$$d_$2qF,this.$$d_$14p),1},$2zl:function(){window.location.reload(!1)},$38W:function(){this.$GE.$DZ=0;this.$GE.$DE=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_Preview_No_Records_Title");this.$GE.set_Message(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_Preview_No_Records_Message"));this.$GE.$AG=0;this.$GE.$FB=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Mobile_Preview_No_Records_Refresh_Button");this.$GE.$C2=this.$$d_$2zl;this.$GE.Show()},$2qF:function(n){var t,i,r;if(this.$1ia=n.$1Nn,t=n.$1Nn[0],t.$4f===2&&n.$19N===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()){this.$38W();return}i=new Xrm.Objects.EntityReference(t.$6e,new Microsoft.Crm.Client.Core.Framework.Guid(n.$19N));r=this.$A_3;r.get_ExternalContext().$M.EntityReference=i;this.$2Bo(this.$2Sb())},$14p:function(n){this.$1R(n)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S=function(){this.$$d_$kS=Function.createDelegate(this,this.$kS);this.$$d_$28I=Function.createDelegate(this,this.$28I);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("ResolveRecipients",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.$X=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S;return i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hU,Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.$wa(i,t),i};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.$wa=function(n,t){var i,u,r;if(!$0.$0(t)&&(i=t,!$0.$0(i.QueryValue)&&Object.isInstanceOfType(i.QueryValue))){if(u=i.QueryValue,r=u.resolveFromScratch,!$0.$0(r)){n.$pL=r;return}n.$pL=!1}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.prototype={get_$61:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},get_$4B:function(){return this.get_$61().$2P},$4H:null,$Gx:null,$Ul:null,$pL:!1,$2E:function(){return(this.$2MG(),this.$2Fw(),!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U)?(this.$kS(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),0):(this.$1H(Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonResponses.$6z,this.$338(),this.$$d_$28I,this.$$d_$kS),1)},$2MG:function(){this.get_$61().$2P.set_$1jl(1)},$28I:function(n){this.$Ul=n;this.$2NN();this.$170()},$2NN:function(){var n=this.$pL?new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)):this.$3Fp(this.get_$4B()),t=this.$3Fp(this.$Ul);this.$Gx=new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.$3EY;this.$Gx.$o6=this.$1zj(n,t);this.$Gx.$z3=this.$1zj(t,n)},$3Fp:function(n){var t=this.$3AW(n);return t.$Ai(this.get_$4B().$1Ab.toLowerCase()),t},$3Az:function(){this.get_$4B().$dR=this.$Ul.$L4;this.get_$4B().$1BN=this.$Ul.$Q5;this.get_$4B().$19Z=this.$Ul.$oE;this.get_$4B().$19V=this.$Ul.$oC;this.get_$4B().$pI=this.$Ul.$pI;this.get_$4B().$W5=this.$Ul.$W5;this.get_$4B().$Vz=this.$Ul.$Vz},$170:function(){if($0.$0(Mscrm.InlinedAppData.senderData))if($0.$8J(Mscrm.InlinedAppData.senderData)){var n=this;this.$20o().done(function(t){n.$5h(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(t).get_entities());Mscrm.InlinedAppData.senderData=null})}else this.$320();else this.$5h(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(Mscrm.InlinedAppData.senderData).get_entities()),Mscrm.InlinedAppData.senderData=null},$320:function(){if(!this.$Gx.$o6.get_Count()){this.$5h(null);return}var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1jk(this.$Gx.$o6.toArray()).then(function(t){n.$5h(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(t).get_entities())},function(n){t.$kS(Microsoft.Crm.Client.Core.Framework.$7.$3F9(n,"Request to the CRM server failed with an error."))})},$2ev:function(){for(var n,f,r,u=this.$Gx.$z3,t=this.get_$61().get_$Ms().$1mk(),i=0;i<u.get_Count();i++)for(n=t.length-1;n>0;n--)f=this.get_$61().get_$Ms().get_$R(n),r=f.getValue("mailappemailaddress"),$0.$0(r)||r.toLowerCase()!==u.get_$R(i)||Array.removeAt(t,n);return t},$VX:function(n){var i=new Array(0),t;if(!$0.$0(n))for(t=0;t<n.length;t++)Array.add(i,n[t].$A0);return i},$338:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonResponses.$6z,Microsoft.Crm.Client.Core.Framework.$7),t,i;return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U||n.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().clearRecipients(),t=this,i=this,Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().getRecipients().then(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise()},$20o:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t,i;return Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U||n.reject(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),t=this,i=this,Microsoft.Crm.Client.Core.Storage.Office.$1E.get_$6().getInitialSenderData().then(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise()},$kS:function(n){n.$m===-2147093999&&(n.$m=-2147093997);this.get_$61().$2P.set_$1jl(2);this.$1wH(n);this.$1R(n)},$5h:function(n){if(this.$Gx.get_$2K1()||this.$pL){var t=this.$2ev();$0.$0(n)||Array.addRange(t,this.$3AV(n));this.$3Az();this.$38Y();this.get_$61().get_$Ms().$9W(t)}this.get_$61().$2P.set_$1jl(3);this.$1wI(n);this.$14()},$3AV:function(n){for(var u,i=new Array(0),r=n,f=r.length,t=0;t<f;++t)u=r[t],i.push(this.get_$61().$16Y.$2Gs(u));return i},$38Y:function(){if(!this.$pL&&Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode()){var n=this.$2iZ();Microsoft.Crm.Client.Core.Framework.$3.$9(n)||this.get_$61().$8o.showNotification(n,0)}},$2iZ:function(){return this.$Gx.get_$2uB()?this.get_$4B().get_$BB()!==1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Recipients_Added"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Attendees_Added"):this.$Gx.get_$2uC()?this.get_$4B().get_$BB()!==1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Recipients_Removed"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Attendees_Removed"):this.$Gx.get_$2K0()?this.get_$4B().get_$BB()!==1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Recipients_Added_And_Removed"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_OWA_Attendees_Added_And_Removed"):null},$3AW:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i;return Microsoft.Crm.Client.Core.Models.MailApp.$CH.isInstanceOfType(n)&&(t=this.$3AU(n)),Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonResponses.$6z.isInstanceOfType(n)&&(t=this.$3AX(n)),this.$398(t),i=this,Microsoft.Crm.Client.Core.Framework.$5B.$1uz(String,t,function(n,t){return n===t})},$3AU:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return $0.$0(n.$dR)||t.add(n.$dR.$A0),t.addRange(this.$VX(n.$1BN)),t.addRange(this.$VX(n.$19Z)),t.addRange(this.$VX(n.$19V)),t.addRange(this.$VX(n.$W5)),t.addRange(this.$VX(n.$Vz)),t},$3AX:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));return $0.$0(n.$L4)||t.add(n.$L4.$A0),t.addRange(this.$VX(n.$Q5)),t.addRange(this.$VX(n.$oE)),t.addRange(this.$VX(n.$oC)),t.addRange(this.$VX(n.$W5)),t.addRange(this.$VX(n.$Vz)),t},$398:function(n){for(var t=0;t<n.get_Count();t++)n.set_$R(t,n.get_$R(t).toLowerCase())},$1zj:function(n,t){for(var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i=0;i<t.get_Count();i++)n.$10k(t.get_$R(i))||r.add(t.get_$R(i));return r},$2Fw:function(){this.$4H=new Microsoft.Crm.Client.Core.Framework.$M8("MailAppAction",{Action:"ResolveRecipientsAction"});Microsoft.Crm.Client.Core.Framework.$t.get_$6().$br(this.$4H)},$1wI:function(n){$0.$0(this.$4H)||(this.$4H.p.Resolved=!0,this.$4H.p.ResolvedRecords=n,Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(this.$4H.rid),this.$4H=null)},$1wH:function(n){$0.$0(this.$4H)||(this.$4H.p.Resolved=!1,this.$4H.p.ErrorCode=n.$m,this.$4H.p.ErrorMessage=n.$F,Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(this.$4H.rid),this.$4H=null)}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.$3EY=function(){};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.$3EY.prototype={$o6:null,$z3:null,get_$1Bk:function(){return!$0.$0(this.$o6)&&this.$o6.get_Count()>0},get_$1OA:function(){return!$0.$0(this.$z3)&&this.$z3.get_Count()>0},get_$2uB:function(){return this.get_$1Bk()&&!this.get_$1OA()},get_$2uC:function(){return!this.get_$1Bk()&&this.get_$1OA()},get_$2K0:function(){return this.get_$1Bk()&&this.get_$1OA()},get_$2K1:function(){return this.get_$1Bk()||this.get_$1OA()}};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction=function(n){Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.initializeBase(this);this.$Pk=n};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveEmailEngagementSummary",Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$X)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$X=function(n){return new Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction(n)};Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.prototype={$Pk:null,get_$61:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance()},$2E:function(){if(this.$Pk.$Dz)return this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("Retrieving email engagement summary is in proccess")),0;this.$Pk.$Dz=!0;var i="<fetch returntotalrecordcount='true' mapping=\"logical\" count=\"100\"><entity name='email' > <attribute name='activityid' /><attribute name='opencount' /><attribute name='replycount' /><attribute name='modifiedon' /><attribute name='isemailfollowed' /><attribute name='inreplyto' /><filter type=\"and\"><condition attribute=\"activityid\" operator=\"eq\" value=\""+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.$d.$4v(this.get_$61().$2P.$8K.$9E)+"\"/><\/filter><order attribute='modifiedon' descending='true' /><\/entity><\/fetch>",r=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(i,null),n=this,t=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(r,Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),this.get_$Y()).then(function(t){var r,i,u;t&&(r=t.get_entities(),r.length&&(i=r[0],n.$Pk.set_OpenCount(i.getValue("opencount")),n.$Pk.set_ReplyCount(i.getValue("replycount")),n.$Pk.set_LastActivityDate(i.getValue("modifiedon")),n.$Pk.$SK=i.getValue("activityid").toString(),u=!Microsoft.Crm.Client.Core.Framework.$3.$9(i.getValue("inreplyto")),n.$37g(u)));n.$Pk.$Dz=!1;n.$14()},function(n){t.$Pk.$Dz=!1;t.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("An error retrieving email engagement summary. Error message: \n\n {0}",n.$F))}),1},$37g:function(n){var t=n&&!Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_IsMailAppComposeMode(),i=this.get_$61().$2P.$8K.$Pi,r=i&&this.get_$61().$2P.$1AU;this.$Pk.set_ShowSummary(t||r)}};Type.registerNamespace("Microsoft.Crm.Client.Application.ViewModels");Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction=function(){this.$$d_$1Vs=Function.createDelegate(this,this.$1Vs);this.$$d_$1pt=Function.createDelegate(this,this.$1pt);Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("AssociateOneToMany",Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$X)};Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction,r=t;return i.$M=r.QueryValue,i.$81=r.OnSuccess,i.$9M=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.prototype={$81:null,$9M:null,$M:null,$2E:function(){var i=this.$M.parentReference,r=this.$M.childReference,n=this.$M.relationshipAttributeName,o=this.$M.newRecordSelected,u=Microsoft.Crm.Client.Core.Framework.$q.$4t("","AssociateOneToMany"),f,e,t;return $0.$0(n)?(f=Microsoft.Crm.Client.Core.Framework.$7.$1GB(null),this.$1Vs(f)):(e=[n],t=this,this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(r,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(e),Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),u),function(f){var c=i.LogicalName==="territory"&&r.LogicalName==="systemuser"&&n==="territoryid",e,s,h;f.hasValue(n)&&!c?(e=f.getValue(n),s=e.Id,s.equals(i.Id)?t.$1pt(r):(h=parseInt(o?"0x80631119":"0x80048478",16),t.$1Vs(Microsoft.Crm.Client.Core.Framework.$7.$f9(h)))):(f.initializeValue(n,i,6),f.$4w.addRange([n]),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$9W(f.$a,f,!0,u).then(t.$$d_$1pt,t.$$d_$1Vs))},this.$$d_$1Vs)),1},$1pt:function(n){this.$81(n);this.$14()},$1Vs:function(n){this.$9M(n);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction=function(){this.$$d_$2Lx=Function.createDelegate(this,this.$2Lx);Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("AssociateRecords",Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$X)};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction,i=n;return t.$A_3=i,t.$J=i.$$d_$2sj,t};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.prototype={$J:null,$D2:function(n,t,i,r,u,f){var e,o,s,h,c;i?i===1&&(h=this,c=this,Xrm.XrmUtilityWrapper.$1ps(n,t,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelationshipReference(u,r,f,i),function(){h.$1pq()},function(n){c.$1R(Microsoft.Crm.Client.Core.Framework.$7.$f9(n.$5b.$66))})):(e={},e.parentReference=n,e.childReference=t,e.relationshipAttributeName=r,o=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AssociateOneToMany",e),s=this,o.OnSuccess=function(){s.$1pq()},o.OnFailure=this.$$d_$2Lx,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,o))},$2E:function(){var n=this.$A_3,t=n.$JD,i=n.$FJ;return this.$D2(t,i,n.$5T,n.$6c,n.$52,n.$9A),1},$1pq:function(){$0.$0(this.$J)||this.$J();this.$14()},$2Lx:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.$At=function(n,t,i){this.$$d_$27z=Function.createDelegate(this,this.$27z);Microsoft.Crm.Client.Application.ViewModels.$At.initializeBase(this);this.$4c=n;this.$RH=t;this.$BH=i;this.$A_3=i;var r=this.$BH;this.$J=r.$$d_$3d||(r.$$d_$3d=Function.createDelegate(r,r.$3d))};Microsoft.Crm.Client.Application.ViewModels.$At.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveSwitchProcessListData",Microsoft.Crm.Client.Application.ViewModels.$At.$XL)};Microsoft.Crm.Client.Application.ViewModels.$At.$XL=function(n,t){var r=n,i=t.QueryValue,u=i.DataSource,f=i.ModelFactory;return new Microsoft.Crm.Client.Application.ViewModels.$At(u,f,r)};Microsoft.Crm.Client.Application.ViewModels.$At.prototype={$4c:null,$RH:null,$BH:null,$2E:function(){var n=this.$BH.get_$1YP(),t=this.$BH.get_$1YS(),i=this.get_$Y(),r=this.$4c.$1Oo(n,t,i);return this.$1H(Object,r,this.$$d_$27z,this.$$d_$4L),1},$27z:function(n){this.$BH.set_$1R3(this.$RH.$2TC(n));this.$3d(this.$BH.get_$1R3().get_$1vO())}};Microsoft.Crm.Client.Application.ViewModels.$A4=function(n){this.$$d_$27z=Function.createDelegate(this,this.$27z);Microsoft.Crm.Client.Application.ViewModels.$A4.initializeBase(this);this.$BH=n;var t=this.$BH;this.$J=t.$$d_$3d||(t.$$d_$3d=Function.createDelegate(t,t.$3d));this.$A_3=n};Microsoft.Crm.Client.Application.ViewModels.$A4.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("LoadArchivedProcessListData",Microsoft.Crm.Client.Application.ViewModels.$A4.$XL)};Microsoft.Crm.Client.Application.ViewModels.$A4.$XL=function(n,t){var i=t.TargetViewModel;return new Microsoft.Crm.Client.Application.ViewModels.$A4(i)};Microsoft.Crm.Client.Application.ViewModels.$A4.prototype={$BH:null,$2E:function(){var t=this.$BH.get_$1YP(),i=this.$BH.get_$1YS(),r=this.get_$Y(),n=this.$1pl();return this.$1H(Object,n,this.$$d_$27z,this.$$d_$4L),1},$27z:function(){this.$BH.$31p();this.$3d(this.$BH.get_Root().$g4?this.$BH.get_$1R3().get_$1vO():this.$BH.get_$1R3().get_$1pl())},$1pl:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7);return n.resolve(),n}};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("ExportToExcelAction",Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$X)};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$X=function(n,t){var r=n,i=new Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction;return i.$J=t.SuccessCallbackParameter,i.$1b_3=t.FailureCallbackParameter,i.$1X=r,i};Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.prototype={$J:null,$1X:null,$2E:function(){var n=new Microsoft.Crm.Client.Core.Framework.Guid(this.$1X.get_DefinitionId()),t=this.$1X.$9a===1||!this.$1X.$9a?"savedquery":"userquery",i=new Xrm.Objects.EntityReference(t,n);return this.$1H(Xrm.Sdk.Response,this.$2Yr(i),this.$$d_$3d,this.$$d_$1R),1},$2gR:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E("",this.$1X.get_ModelContext().get_Id()),t=$.extend(!1,{},this.$1X.$2O);return n.$9K=t,n.$17j(this.$1X.get_ModelContext().get_Id(),this.$1X.$88,this.$1X.$Bf,this.$1X.$22,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W()),n.$9K.$CC(1)},$2Yr:function(n){var i=this.$1X.get_ModelContext()?this.$2gR():"",t=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$7),r=Xrm.Internal.messages.exportToExcel(n,i,"","",{}),u=this,f=this;return r.then(function(n){t.resolve(n)},function(n){t.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(n.$5b.$66))}),t},$3d:function(n){this.$J(n.excelFile);this.$14()}};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$2V3=Function.createDelegate(this,this.$2V3);Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("GetLookupListItemDescriptor",Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$X)};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction,f=n,e,r,u;return i.$J=f.$$d_$2h5,i.$A_3=f,e=t,r=e.QueryValue,i.$z=r.EntityName,u=r.ViewQuery,i.$JI=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.isInstanceOfType(u)?r.ViewQuery.$CC(1):u,i.$Pb=r.ViewLayout,i};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2W5=function(n){return n.indexOf(".")>0?n.split(".")[0]:null};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2BC=function(n){return n.indexOf(".")>0?n.split(".")[1]:n};Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.prototype={$J:null,$z:null,$Pb:null,$JI:null,$1SF:null,$1CM:null,get_$3CP:function(){return $0.$0(this.$1SF)&&(this.$1SF=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(this.$JI)),this.$1SF},$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.$2G,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$z,this.get_$Y()),this.$$d_$2V3,this.$$d_$4L),1},$2V3:function(n){var a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(this.$Pb),c=a.getElementsByTagName("cell"),i=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))),e=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),o,t,h,r,s,u,l,f;for(e.add(n.get_$Dn()),i.set_$R(this.$z,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))([n.get_$Dn()])),o=0;e.get_Count()<3&&o<c.length;o++)if(t=c[o].attributes.getNamedItem("name").nodeValue,t!==n.get_$Dn()){if(h=Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2W5(t),$0.$1Y(h))i.get_$R(this.$z).add(t);else{for(r=null,s=this.get_$3CP().getElementsByTagName("link-entity"),u=0;u<s.length;u++)l=s[u].attributes.getNamedItem("alias").nodeValue,l===h&&(r=s[u].attributes.getNamedItem("name").nodeValue);if($0.$0(r))continue;f=i.get_$R(r);$0.$0(f)&&(f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i.set_$R(r,f));f.add(t)}e.add(t)}this.$1CM=e.toArray();this.$2qV(i)},$2qV:function(n){var f=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(String)),e=[],o=n.$1RT(),r,t,u,c;for(r in o){var s={key:r,value:o[r]},h=s.key,i=s.value.get_Items();for(t=0;t<i.length;t++)u=i[t],f.set_$R(u,h),i[t]=Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2BC(u);Array.add(e,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(h,i),this.get_$Y()))}c=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e),function(n){for(var r,t,u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o)),e=n,o=e.length,i=0;i<o;++i)for(r=e[i],t=0;t<r.get_$3F6();t++)u.add(r.get_$R(t));c.$1fl(u,f)},this.$$d_$4L)},$1fl:function(n,t){for(var f,r,e,u=new Array(3),i=0;i<3;i++)f="itemlabel"+i,i<this.$1CM.length?(r=this.$1CM[i],e=this.$2Ws(n,t.get_$R(r),r),u[i]=Microsoft.Crm.Client.Core.Models.$3O.$2Sr(Xrm.Objects.AttributeType.toString(e.get_$4M()),r,f,!1,!0)):u[i]=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("Label","DefaultValueLabel",f,null,null,null,null,null);this.$J(new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("ListItem","ListItem","item",null,null,u,null));this.$14()},$2Ws:function(n,t,i){for(var r,f=Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$2BC(i),u=0;u<n.get_Count();u++)if(r=n.get_$R(u),r.get_$YF()===t&&r.get_$2I()===f)return r;return null},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction=function(){Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("GetMultipleEntityFormDefinition",Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$56)};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$56=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction;return Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$13d(t,n),t};Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.prototype={$2qE:function(n,t){var u,f,s;if(n.get_$3F6()>0){if(this.$Ln=n.get_$R(0).get_$4r(),this.$A_3.set_sourceId(n.get_$R(0).$q),!$0.$0(this.get_$NH())&&!this.$A_3.get_$BV()){var e=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"PrimaryModelName",this.get_$NH().Properties),i=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(Array,"PrimaryAttributeFieldNames",this.get_$NH().Properties),h=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(Object,"RelatedAttributeFieldNames",this.get_$NH().Properties),c=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(Object,"RelationshipList",this.get_$NH().Properties),r=[];!$0.$0(e)&&!$0.$0(i)&&i.length>0&&Array.add(r,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(e,i),this.get_$Y()));u=h;for(f in u){var o={key:f,value:u[f]},l=o.key,a=c[l],v=a.TargetEntityTypeName;Array.add(r,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(v,o.value),this.get_$Y()))}s=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r),function(){s.$10g()},this.$1Xb(Microsoft.Crm.Client.Core.Framework.$7))}}else Microsoft.Crm.Client.Core.Framework.Trace.logError(1,String.format("Root definition '{0}' not found.",t.toString())),this.$14p(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147084512))},$2Hl:function(n){this.$g===39&&(this.$A_3.$18X=n)}};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction=function(){Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("MetadataDownload",Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$X)};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.prototype={$2E:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$286(this,new Sys.EventArgs),1}};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("OpenDocumentTemplateAction",Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$X)};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$X=function(n,t){var r=n,i=new Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction;return i.$rC=t.DocumentTemplateEntityReference,i.$J=t.SuccessCallbackParameter,i.$1b_3=t.FailureCallbackParameter,i.$1X=r,i};Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.prototype={$rC:null,$J:null,$1X:null,$2E:function(){return this.$1H(Xrm.Sdk.Response,this.$2Yp(),this.$$d_$3d,this.$$d_$1R),1},$2Yp:function(){var n=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$7),t=new Microsoft.Crm.Client.Core.Framework.Guid(this.$1X.get_DefinitionId()),i=this.$1X.$9a===1||!this.$1X.$9a?"savedquery":"userquery",r=new Xrm.Objects.EntityReference(i,t),u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.RenderTemplateFromViewRequest(this.$rC,r),this.get_$Y()),f=this,e=this;return u.then(function(t){n.resolve(t)},function(t){n.reject(t)}),n},$3d:function(n){this.$J(n.excelFile);this.$14()}};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("OpenWordTemplateAction",Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$X)};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction,r=t;return i.$1ks=r.SelectedRecordId,i.$1Vr=r.AssociatedEntityTypeCode,i.$xh=r.WordTemplateEntityReference,i.$J=r.SuccessCallbackParameter,i.$1b_3=r.FailureCallbackParameter,i};Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.prototype={$xh:null,$1Vr:0,$1ks:null,$J:null,$2E:function(){return this.$1H(Xrm.Sdk.Response,this.$2ZO(),this.$$d_$3d,this.$$d_$1R),1},$2ZO:function(){var n=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$7),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.ExportWordDocumentRequest(this.$1Vr,this.$xh,JSON.stringify([this.$1ks.toString()])),this.get_$Y()),i=this,r=this;return t.then(function(t){n.resolve(t)},function(t){n.reject(t)}),n},$3d:function(n){this.$J(n.wordFile);this.$14()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveDocumentTemplates",Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction,r,u;return i.$A_3=n,i.$1FH=Xrm.Internal.getEntityCode(i.$A_3.get_$1u()),r=t,$0.$0(r.OnSuccess)||(i.$6K=r.OnSuccess),$0.$0(r.OnFailure)||(i.$1b_3=r.OnFailure),$0.$0(r.QueryValue)||(u=r.QueryValue,$0.$0(u.DocumentType)||(i.$oY=u.DocumentType)),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.prototype={$6K:null,$oY:0,$1FH:0,$2E:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(44,this.get_$1d(),this.$A_3.get_$1u(),0),null),n=this,i=this;return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),t,function(t){n.$6K(n.$1w7(t));n.$14()},function(n){i.$1R(n)}),1},$1w7:function(n){for(var r,t,u=new Array(0),i=0;i<n.get_$3F6();i++)r=n.get_$R(i),t=r.get_$4r(),t.templateTypeCode===9940&&t.documentType===this.$oY&&this.$1f1(t.displayConditions)&&Array.add(u,r);return new(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f))(u)},$1f1:function(n){var t,e,r,f;if($0.$0(n)||!n.length)return!1;if(n[0]==="everyone")return!0;t={};e=this;Array.forEach(n,function(n){t[new Microsoft.Crm.Client.Core.Framework.Guid(n).toString()]=!0});r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$Hx;for(var u=r,o=u.length,i=0;i<o;++i)if(f=u[i],f.toString()in t)return!0;return!1}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3ET=function(){};Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3ET.prototype={templateTypeCode:0,documentType:0,displayConditions:null};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$1fh=Function.createDelegate(this,this.$1fh);Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveAncestors",Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$X=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction;return t.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$w1,t.$J=i.$$d_$2q0,t.$1b_3=i.$$d_$4L,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.prototype={$J:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.$2G,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$A_3.get_$1u(),this.get_$Y()),this.$$d_$1fh,this.$$d_$4L),1},$1fh:function(n){var t,r,i;if(this.$A_3.get_$BV()){this.$14();return}t=this.$A_3;r=t.$G2.get_Count()>0?t.$G2.get_$R(t.$G2.get_Count()-1):t.get_$1B().get_Id();t.$16J=n.get_$Dn();i=new Array(0);Array.add(i,n.get_$Dn());$0.$0(t.$6c)||Array.add(i,t.$6c);Array.add(i,n.get_$ES());var f="<filter type='and'><condition attribute='"+n.get_$ES()+"' operator='above' value='{"+r+"}' /><\/filter>",e=new Microsoft.Crm.Client.Core.Framework.Storage.$8H(new Microsoft.Crm.Client.Core.Framework.Storage.$3l(n.get_$ES()),r.toString(),0,0),o=new Microsoft.Crm.Client.Core.Storage.DataApi.$MK(t.$D,i),s=o.$2Mj(f,e),u=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(s,r);u.set_$Ra(1);u.$4W=49;u.$KX=!0;this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(u,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,2),this.get_$Y()),this.$$d_$3d,this.$$d_$4L)},$3d:function(n){var r=this.$A_3,i,t;$0.$0(this.$J)||r.$2h?this.$14():(i=Microsoft.Crm.Client.Core.Models.$1j.$X(n),t=this,this.$El(function(){t.$J(i);t.$14();t.dispose()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1Ol))},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$2qB=Function.createDelegate(this,this.$2qB);Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveCustomControlTemplate",Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$205)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$205=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$2RB(n),u=t,r=u.QueryValue;return i.$E8=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveCustomControlTemplateDataAction.RetrieveDefault"),i.$eO=i.$$d_$2qB,i.$q=String.format("CustomControlTemplate_{0}",r.customControlTemplateName),i.$1i7=r,i.$J=n.$$d_$25b,i.$1b_3=n.$$d_$2q7,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$2RB=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction;return t.$A_3=n,t.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1Oe,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.prototype={$J:null,$q:null,$1i7:null,$eO:null,$E8:null,$2E:function(){$0.$0(this.$E8)||this.$E8.start();var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(48,this.get_$1d(),"customcontrol",0,!1,this.$q),this.get_$Y());return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),n,this.$eO,this.$$d_$4L),1},$2qB:function(n){var r,u,t,f,i;if($0.$0(this.$E8)||this.$E8.stop(),r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveCustomControlTemplateDataAction.ParseForDefault"),r.start(),u=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor,n.get_$3F6()>0)for(t=0;t<n.get_$3F6();t++)if(f=n.get_$R(t),f.$4f===48){u=f.get_$4r();break}i={};i.descriptor=u;i.paramDictionary=this.$1i7;r.stop();this.$J(i);this.$14()},$4L:function(n){$0.$0(this.$E8)||this.$E8.stop();this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.initializeBase(this);this.$6Y="OpenDashboardCommand";this.$e3="_DashboardCommands";this.$18Q=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_Dashboard_Group_Name");this.$16A=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_Dashboard_Group_Name");this.$4f=Microsoft.Crm.Client.Core.Framework.$6.get_$f()?37:1;this.$lw=[0]};Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveDashboardSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$Qn)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$Qn=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction;return i.$A_3=n,i.$IO=Microsoft.Crm.Client.Core.Framework.$6.get_$f()?$16.$cH(Microsoft.Crm.Client.Core.Framework.$1,37).toUpperCase():$16.$cH(Microsoft.Crm.Client.Core.Framework.$1,n.$g).toUpperCase(),Microsoft.Crm.Client.Application.ViewModels.$5a.$1GA(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveDefaultListForEntityAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction,r=t;return i.$J=r.OnSuccessParameter,i.$P=r.EntityLogicalNameParameter,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.prototype={$J:null,$P:null,$2E:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(11,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),this.$P,0,!0,null,1);return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(n,this.get_$Y()),this.$$d_$3d,this.$$d_$1R),1},$3d:function(n){n.get_$3F6()>0?(this.$J(n.get_$R(0)),this.$14()):this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("No default list for entity found."))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveEntityMetadataByDisplayNameAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction,r=t;return i.$J=r.OnSuccessParameter,i.$QY=r.EntityDisplayNameParameter,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.prototype={$J:null,$QY:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2G),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$hT(this.get_$Y()),this.$$d_$3d,this.$$d_$1R),1},$3d:function(n){for(var t,r=this.$QY.toUpperCase(),u=n.$1mk(),f=u.length,i=0;i<f;++i)if(t=u[i],t.get_$8z().toUpperCase()===r||t.get_$1Mu().toUpperCase()===r){this.$J(t);this.$14();return}this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("Entity not found."))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction=function(){this.$$d_$7S=Function.createDelegate(this,this.$7S);Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("QuickCreateRetrieveFormDataXml",Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$X);Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("EditRootRetrieveFormDataXml",Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$1vA)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction,i=n;return t.$A_3=i,t.$Eq=i.get_ModelContext().$I,t.$J=i.$$d_$28S,t.$D0=i.$D0,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$1vA=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction,i=n;return t.$A_3=i,t.$Eq=i.get_ModelContext().$I,t.$J=i.$$d_$28S,t.$D0=i.$D0,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.prototype={$J:null,$Eq:null,$D0:null,$2E:function(){var n,t;return $0.$0(this.$D0)?this.$2DO():(n=this.$2RJ(this.$D0),$0.$0(n)||(t=Xrm.Soap.EntityRecordSerializer.loadFromCrmSoap(n),$0.$1Y(t)||this.$2rc(t))),1},$2RJ:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n);return t.hasChildNodes()?Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(t).$Bp().get_$R(0):null},$2rc:function(n){for(var r,t,h,c,u=[],o=[],f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i={},s=n.get_fieldNames(),l=s.length,e=0;e<l;++e)r=s[e],t=n.$27[r],t===11||t===12||t===13?u.push(r):(t===6||t===9||t===1)&&o.push(r);i[Xrm.Objects.AttributeType.toString(11)]=u;i[Xrm.Objects.AttributeType.toString(6)]=o;f.addRange(u);f.get_Count()?(c=this,this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(n.$2A.LogicalName,f.toArray()),this.get_$Y()),function(t){c.$26D(t,i,n)},this.$$d_$7S)):(h=new(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o)),this.$26D(h,i,n))},$26D:function(n,t,i){for(var f,e,r,o={},u=0;u<n.get_$3F6();u++)o[n.get_$R(u).get_$2I()]=n.get_$R(u);f=t;for(e in f)r={key:e,value:f[e]},r.key===Xrm.Objects.AttributeType.toString(11)?i=this.$2re(r.value,i,o):r.key===Xrm.Objects.AttributeType.toString(6)&&(i=this.$2rd(r.value,i));this.$Eq.mergeChanges(i);this.$2DO()},$2DO:function(){var n=Xrm.Soap.EntityRecordSerializer.$39l(this.$Eq);n.length?this.$DI(n):this.$7S(Microsoft.Crm.Client.Core.Framework.$7.$k(String.format("Entity form data xml could not be formatted for entityrecord : {0}",this.$Eq)))},$2re:function(n,t,i){for(var f,h,c,e,l=n,a=l.length,s=0;s<a;++s){var u=l[s],o=this.$Eq.getValue(u),r=t.getValue(u);if(!$0.$0(r)&&$0.$0(r.$1G))if($0.$0(o)||$0.$0(o.$1G)||o.$1s!==r.$1s){if(f=i[u],!$0.$0(f)&&!$0.$0(f.get_$9r())&&!$0.$0(f.get_$9r().$21)){h=f.get_$9r().$21;for(c in h)e={key:c,value:h[c]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(e.value)&&!$0.$0(e.value.$1G)&&e.value.$1s===r.$1s&&(r.$1G=e.value.$1G,t.setValue(u,r))}}else r.$1G=o.$1G,t.setValue(u,r)}return t},$2rd:function(n,t){for(var e=n,o=e.length,u=0;u<o;++u){var f=e[u],r=this.$Eq.getValue(f),i=t.getValue(f);$0.$0(r)||$0.$0(r.Name)||$0.$0(i)||!$0.$0(i.Name)||r.Id.equals(i.Id)&&(i.Name=r.Name,t.setValue(f,i))}return t},$DI:function(n){$0.$0(this.$J)||this.$J(n);this.$14()},$7S:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction=function(){Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("DeleteSnapViewEntries",Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$X)};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$X=function(){return new Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction};Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.prototype={$2E:function(){var n=this,t=this;return this.$1H(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1uW("SnapData"),function(){n.$14()},function(n){t.$1R(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction=function(){this.$$d_$1mh=Function.createDelegate(this,this.$1mh);this.$$d_$4L=Function.createDelegate(this,this.$4L);Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("PopulateTileData",Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$X)};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction,r,u;return i.$A_3=n,i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1iT,r=t,$0.$0(r)||(u=r.QueryValue,i.$1aC=u.forcerefresh,i.$6G=u.pinnedtilemodel,i.$IH=i.$A_3.get_Root().$1W.toLowerCase()===Microsoft.Crm.Client.Core.Framework.$1.toString(1).toLowerCase()?0:1,$0.$0(r.OnSuccess)||(i.$6K=r.OnSuccess)),i};Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.prototype={$1aC:!1,$6G:null,$IH:0,$wD:null,$qw:null,$6K:null,$2E:function(){var n=this.$6G.$2CH(),t=$0.$0(n)?0:n.length,i,r;return t?t===1?(i=this,this.$1H(Object,n[0],function(){i.$1iX()},this.$$d_$4L)):(r=this,this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),function(){r.$1iX()},this.$$d_$4L)):this.$1iX(),1},$1iX:function(){var n=new Array(0),u,f,e,t,o,i,r;this.$6G.get_$c6()&&this.$6G.get_$c6()!==3?this.$6G.get_$c6()!==1||this.$6G.get_$1RC().equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())||(f=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(11,this.get_$1d(),this.$6G.get_$PT(),1,!1,this.$6G.get_$1RC().toString()),e=this.get_$qx().$5J(f,this.get_$Y()),Array.add(n,e)):(u=!$0.$0(this.$6G.get_$Du()),(!u||this.$1aC)&&this.$2zn(n));t=$0.$0(n)?0:n.length;t?t===1?(o=this,i=this,this.$1H(Object,n[0],function(n){o.$1mh([n])},function(){i.$r4(i.$6G.get_$25())})):(r=this,this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),this.$$d_$1mh,function(){r.$r4(r.$6G.get_$25())})):this.$1mh(null)},$1mh:function(n){if(!$0.$0(n)){var t=n[0];this.$29G(t)}this.$3d()},$29G:function(n){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord.isInstanceOfType(n))this.$6G.set_$Du(n);else if(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f).isInstanceOfType(n)){var t=n.get_$R(0);$0.$0(t)?this.$r4(this.$6G.get_$25()):this.$6G.set_$Du(t)}},$2zn:function(n){var f=this.$A_3.get_Root().$g===2,r=this.$6G.get_$PT()===this.$A_3.get_Root().$D,e=Microsoft.Crm.Client.Core.Models.Tiles.Decorators.$9b.isInstanceOfType(this.$6G),u=Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$A_3.get_Root().get_ModelContext()),t=this.$A_3.get_Root().get_ModelContext(),i;f?r&&e&&u&&!$0.$0(t.$I)?this.$6G.set_$Du(t.$I):r||!u||$0.$0(t.$I)||$0.$0(t.$I.$5c)?this.$2CL(n):(i=t.$I.$5c.getByRelationshipName(this.$6G.get_$307()),!$0.$0(i)&&i.get_count()>0&&this.$6G.set_$Du(i.get_entities()[0])):this.$2CL(n)},$2CL:function(n){var u=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(this.$IH,2,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1()),f=new Xrm.Objects.EntityReference(this.$6G.get_$PT(),this.$6G.get_$1RC()),e,t,r,i,o,s;if(this.$6G.get_$34C().equals(new Microsoft.Crm.Client.Core.Framework.Guid("{D04E4181-ED85-4305-A3DC-3DA59C00F25B}"))){for(e=new Microsoft.Crm.Client.Core.Models.Tiles.Factories.$Kt,t=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(e.$1Hh(this.$6G)),this.$6G.set_$18V(t),r=!1,i=0;i<t.$4A.length;i++)if(o=t.$4A[i],o.toLowerCase()===this.$6G.get_$PS()){r=!0;break}r||t.$4A.push(this.$6G.get_$PS())}this.$6G.get_$Fo()?this.$3Ae(f,u):(s=this.get_$qx().$7m(f,this.$6G.get_$18V(),u,this.get_$Y()),Array.add(n,s))},$3Ae:function(n,t){var i=this;this.get_$2Cx().$1kd(function(){var r=i.get_$qx().$7m(n,i.$6G.get_$18V(),t,i.get_$Y());r.then(function(n){i.$29G(n);$0.$0(i.$6K)||i.$6K(null)},function(n){n.$m===-2147220969&&i.$r4(i.$6G.get_$25());$0.$0(i.$1b_3)||i.$1b_3(null)})},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1n6,"UpdateCachedData")},get_$qx:function(){return this.$qw||(this.$qw=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3)},get_$2Cx:function(){return this.$wD||(this.$wD=new Microsoft.Crm.Client.Core.Models.$JB)},$r4:function(n){var t=this;this.get_$qx().$1Ee(n).then(function(){t.get_$qx().$nB(n.$PJ,t.get_$Y())},this.$$d_$4L)},$3d:function(){$0.$0(this.$6K)||this.$6K(null);this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.$AV=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.$AV.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$AV.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("PopulateSwitchProcessFlyOut",Microsoft.Crm.Client.Application.ViewModels.$AV.$X)};Microsoft.Crm.Client.Application.ViewModels.$AV.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$AV,r;return i.$A_3=n,r=t,$0.$0(r.OnSuccess)||(i.$J=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.$AV.prototype={$J:null,$2E:function(){if(!$0.$0(this.$A_3)&&!$0.$0(this.$A_3.get_Root())){var n=this.$A_3.get_Root().$67("ProcessManager");if(!$0.$0(n))return this.$1H(Microsoft.Crm.Client.Core.ViewModels.$63,n.$2CP(),this.$$d_$3d,this.$$d_$4L),1}return this.$3d(new Microsoft.Crm.Client.Core.ViewModels.$63(this.$A_3,null)),0},$3d:function(n){$0.$0(this.$J)||$0.$0(n)||this.$J(n);this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveActivityCreateButtons",Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$Qn)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$Qn=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction,r=t;return $0.$0(r.OnSuccess)||(i.$J=r.OnSuccess),i.$A_3=n,i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1jr,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.prototype={$2LF:function(n,t){var f=t.get_$8z(),e=t.get_$2I(),u={},r,i;u.RefreshContext=this.$A_3;r=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$2Me(e,f,"CreateCommand",{PrimaryModelName:t.get_$2I(),externalParameters:u},!0);i=new Microsoft.Crm.Client.Core.Models.Descriptors.ComponentDefinitionDescriptor;i.ViewModelDescriptor=r;i.ViewDescriptor=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(r);n.add(i)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveListByDisplayNameAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction,r=t;return i.$J=r.OnSuccessParameter,i.$1b_3=r.OnFailureParameter,i.$1fW=r.ListDisplayNameParameter,i.$P=r.EntityLogicalNameParameter,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.prototype={$J:null,$1fW:null,$P:null,$2E:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(11,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),this.$P,0,!1,null,1,this.$1fW.toUpperCase());return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(n,this.get_$Y()),this.$$d_$3d,this.$$d_$1R),1},$3d:function(n){n.get_$3F6()>0?(this.$J(n.get_$R(0)),this.$14()):this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k("No list with given display name found."))}};Microsoft.Crm.Client.Application.ViewModels.$6K=function(){this.$$d_$28L=Function.createDelegate(this,this.$28L);this.$$d_$4L=Function.createDelegate(this,this.$4L);Microsoft.Crm.Client.Application.ViewModels.$6K.initializeBase(this);this.$4V=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W()};Microsoft.Crm.Client.Application.ViewModels.$6K.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveSubjectTreeWithData",Microsoft.Crm.Client.Application.ViewModels.$6K.$33I)};Microsoft.Crm.Client.Application.ViewModels.$6K.$33I=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$6K,r=t;return Microsoft.Crm.Client.Application.ViewModels.$6K.$13d(i,n,r),i};Microsoft.Crm.Client.Application.ViewModels.$6K.$2RF=function(n,t){var r=t.QueryValue.toString(),i;n.$1Qu=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(r);n.$1m8=r;i="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<entity name='subject'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='subjectid' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='title'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='parentsubject'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<order attribute='createdon' descending='false' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/fetch>";n.$1Qt=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(i);n.$1m5=i};Microsoft.Crm.Client.Application.ViewModels.$6K.$13d=function(n,t,i){var r=t;n.$A_3=r;n.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1kO;n.$J=r.$$d_$3d;n.$1b_3=r.$$d_$4L;Microsoft.Crm.Client.Application.ViewModels.$6K.$2RF(n,i)};Microsoft.Crm.Client.Application.ViewModels.$6K.prototype={$J:null,$4V:null,$nd:null,$wx:null,$Z1:!1,$1Qt:null,$1Qu:null,$1m5:null,$1m8:null,$W8:0,$2E:function(){return this.$1Zo(),1},$1Zo:function(){if($0.$0(this.$1Qt)||$0.$0(this.$1Qu))this.$4L(Microsoft.Crm.Client.Core.Framework.$7.$f9(0));else{if(this.$A_3.get_$BV()){this.$14();return}this.$2Se();this.$Ma()}},$2Se:function(){this.$nd=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(this.$1Qt,this.$1m5);this.$wx=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(this.$1Qu,this.$1m8);var n=$0.$0(this.$A_3.get_$1B())?"":this.$A_3.get_$1B().get_Id();this.$nd.$17j(n,null,null,null,this.$4V);this.$wx.$17j(n,null,null,null,this.$4V);this.$nd.$4W=this.$wx.$4W=100;this.$nd.$KX=this.$wx.$KX=!0},$Ma:function(){var n,t,i;this.$nd.$C3===1&&!0?(n=1,t=this.$W8):(n=2,t=1);i=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(this.$2Mi(n,t)),function(n){n.length<2?i.$4L(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093999)):i.$3d(n[0],n[1])},this.$$d_$4L)},$2Mi:function(n,t){var i=[];return Array.add(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(this.$nd,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(n,t),this.get_$Y())),Array.add(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(this.$wx,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(n,t),this.get_$Y())),i},$3d:function(n,t){var r,i;this.$Z1=!0;r=this.$A_3;$0.$0(this.$J)||r.$2h?this.$14():(i=this,this.$El(function(){i.$J(i.$2N1(n,t));i.$14()},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1kP))},$2N1:function(n,t){var i=this.$1E1(n),r=this.$1E1(t);return i.$mP=r.$mP=this.$$d_$28L,new Microsoft.Crm.Client.Core.Models.$RS(i,r)},$1E1:function(n){return Microsoft.Crm.Client.Core.Models.$1j.$X(n)},$4L:function(n){if(n.$m===-2147093999){var t=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();this.$3d(t,t)}else this.$1R(n)},$28L:function(n){$0.$0(this.$A_3)||this.$A_3.get_$BV()||n.$m===-2147093999||(this.$Z1&&this.$A_3.$MZ(n),Microsoft.Crm.Client.Core.Framework.Trace.logError(1,n.$F))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction=function(){this.$$d_$7S=Function.createDelegate(this,this.$7S);Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("RetrieveMultipleEntityAttributeMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$2hR)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$2hR=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction,r;return i.$A_3=n,i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1kB,r=t,i.$1if=r.PrimaryEntityName,i.$Rg=r.PrimaryAttributeFieldNames,i.$EX=r.RelatedAttributeFieldNames,i.$Mp=r.RelationshipList,i.$J=r.OnSuccess,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.prototype={$J:null,$1if:null,$Rg:null,$EX:null,$Mp:null,$2E:function(){var n={},r,u,o;n["?primary?"]=null;var s=!$0.$0(this.$Rg)&&this.$Rg.length>0,t=[],i=[];s&&(Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(this.$1if,this.$Rg),this.get_$Y())),Array.add(i,"?primary?"));r=this.$EX;for(u in r){var f={key:u,value:r[u]},e=f.key,h=this.$Mp[e].TargetEntityTypeName;Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(h,f.value),this.get_$Y()));Array.add(i,e)}return o=this,this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(t){for(var u=0,f=t,s=f.length,r=0;r<s;++r){var h=f[r],e=h.$1mk(),c=e[0].get_$YF();n[i[u].toString()]=e;u++}o.$DI(n)},this.$$d_$7S),1},$DI:function(n){$0.$0(this.$J)||this.$J(n);this.$14()},$7S:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.$Ap=function(){Microsoft.Crm.Client.Application.ViewModels.$Ap.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$Ap.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveMultipleEntityForNoteAction",Microsoft.Crm.Client.Application.ViewModels.$Ap.$X)};Microsoft.Crm.Client.Application.ViewModels.$Ap.$X=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.$Ap,i=t;return $0.$0(i.OnSuccess)||(r.$J=i.OnSuccess),$0.$0(i.OnFailure)||(r.$1b=i.OnFailure),r.$1fb=i.QueryValue,r};Microsoft.Crm.Client.Application.ViewModels.$Ap.prototype={$J:null,$1b:null,$1fb:null,$2E:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1()),t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(this.$1fb,n,Microsoft.Crm.Client.Core.Framework.$q.$4t("","RetrieveMultipleEntityForNoteAction")),i=this,r=this;return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,t,function(n){i.$J(n)},function(n){r.$1b(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveMultipleEntityMetadataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction,r,u;return $0.$0(n)?Object.isInstanceOfType(t)&&(u=t,i.$kN=u.EntityLogicalNamesParameter,i.$J=u.OnSuccessParameter):Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cq.isInstanceOfType(n)&&(r=n,i.$kN=r.get_$2V0(),i.$J=r.get_$2V2(),i.$A_3=r),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.prototype={$J:null,$kN:null,$2E:function(){var t,n,i;if(!$0.$0(this.$kN)&&this.$kN.length>0){for(t=[],n=0;n<this.$kN.length;n++)Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$kN[n],this.get_$Y()));return i=this,this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(n){i.$3d(n)},this.$$d_$1R),1}throw Error.argument("entityLogicalNames","entityLogicalNames is not provided");},$3d:function(n){$0.$0(this.$J)||this.$J(n);this.$14()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveApplicationSettings",Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$Qn)};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$Qn=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction,r=t;return $0.$0(r.OnSuccess)||(i.$J=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.prototype={$J:null,$2E:function(){var u=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("ApplicationSettingsID"),n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),w=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsSignoutCommand","Button","SignOutCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Signout"),n.get_Count()+1,"System","Settings","Symbol",null,!0),f,e,o,s,h,i,c,l,t,r,a,v,y,p;return n.add(w),Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$17.get_$2J().get_$1IG()&&(f=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsReconfigureCommand","Button","ReconfigureCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Reconfigure"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(f)),Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_$1g9()&&(e=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsDiagnosticsCommand","Button","ShowDiagnosticsAndErrorsCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Diagnostics_ClientExtensions"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(e)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("LandingPage")&&(o=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsLandingPageCommand","Button","ShowLandingPageSettingsCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_LandingPage"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(o)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("PaneStackingOnPhones")&&Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(s=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingPaneStackingCommand","Button","ShowPaneStackingSettingCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_PaneStacking_Label"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(s)),!$0.$0(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q())&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$4q().get_$38F()&&(h=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("DeviceSettingsCommand","Button","ShowDeviceSettingsCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_DeviceIntegration"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(h)),i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.NavBar.SettingsLearningPath_OptIn_Caption"),c=Xrm.Internal.isGuidedHelpEnabledForUser(),c&&(i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.NavBar.SettingsLearningPath_OptOut_Caption")),l=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("GuidedHelpSettingsCommand","Button","GuidedHelpSettingsCommand",i,n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(l),t={},t.protocol="http:",r=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Help_Link"),r+="&clcid=0x"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$lj().toString(16),t.target=r,a=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsHelpCommand","Button","UrlLauncherCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Help"),n.get_Count()+1,"System","Settings","Symbol",t,!0),n.add(a),v=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsAboutCommand","Button","ShowAboutInformationCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_About"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(v),Microsoft.Crm.Client.Core.ViewModels.$a.$1eY()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("MobileClientOffline")&&!Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$1K1()&&(y=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsOfflineCommand","Button","OfflineOptinCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_Offline"),n.get_Count()+1,"System","Settings","Symbol",null,!1),n.add(y)),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("MobileClientOffline")&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("MobileClientOfflineAutoOptin")&&Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.$24b()&&(p=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor("SettingsOfflineDisableCommand","Button","OfflineOptOutCommand",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Settings_OfflineOptOut"),n.get_Count()+1,"System","Settings","Symbol",null,!0),n.add(p)),u.Controls=n.toArray(),$0.$0(this.$J)||this.$J(new Microsoft.Crm.Client.Core.ViewModels.$63(this.$A_3,u)),this.$14(),0}};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$2NQ=Function.createDelegate(this,this.$2NQ);Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("ExecuteQuickFindAction",Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$X)};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$X=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction;return t.$J=i.$$d_$3d,t.$1b_3=i.$$d_$4L,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.prototype={$J:null,$kR:null,$9K:null,$1V:null,$5f:null,$Rw:null,$2E:function(){var t,n;return Microsoft.Crm.Client.Core.Framework.$3.$12(this.$A_3.$5f)||(this.$Rw=this.$A_3.get_EntityNames(),t=this.$A_3,this.$5f=this.$A_3.$5f,n=new Xrm.Sdk.Internal.MobileClientOfflineRequest(new Xrm.Sdk.ExecuteQuickFindRequest(this.$5f,null,this.$Rw),this.$$d_$2NQ),this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(n,this.get_$Y()),this.$$d_$3d,this.$$d_$4L)),1},$3d:function(n){$0.$0(this.$kR)||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("LoadedSearchData"),this.$kR.stop(),this.$kR=null);$0.$0(this.$J)||this.$J(n.result);this.$14()},$4L:function(n){$0.$0(this.$kR)||(this.$kR.stop(),this.$kR=null);$0.$0(this.$1b_3)||this.$1b_3(n);this.$1R(n)},$2NQ:function(){var t=MscrmComponents.DeferredPromiseFactory(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Framework.$7),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,this.get_$1d(),this.$Rw[0],1,!0,null,3),n=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(i,this.get_$Y()).then(function(i){var r,f,o,s;if(i.get_$3F6()){r=i.get_$R(0);for(var e=i.$1mk(),h=e.length,u=0;u<h;++u)if(f=e[u],f.$1q.match(new RegExp("Quick\\s?Find"))){r=f;break}n.$9K=r.get_$E5();n.$1V=new Microsoft.Crm.Client.Core.Storage.DataApi.$Qw(n.$9K,n.$5f,n.$Rw);o=n.$1V.$9K.$CC(2);Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&Microsoft.Crm.Client.Core.Framework.$3.$12(o)?(s=[new Xrm.Sdk.QuickFindResult(n.$1V.$Rw[0],new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(new Array(0),!1,0,!1,n.$1V),-2147093989)],t.resolve(new Xrm.Sdk.ExecuteQuickFindResponse(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.QuickFindResultCollection.createFromEntities(s)))):Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(n.$1V,Microsoft.Crm.Client.Core.ViewModels.$k.get_$aC(),n.get_$Y()).then(function(i){var r=[new Xrm.Sdk.QuickFindResult(n.$1V.$Rw[0],i,0)];t.resolve(new Xrm.Sdk.ExecuteQuickFindResponse(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.QuickFindResultCollection.createFromEntities(r)))},function(n){Microsoft.Crm.Client.Core.Framework.$8.$B("DataSource_ExecuteQuickFind_RetrieveMultiple_LocalError",1005,n.$F);t.reject(n)})}else n.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Sdk.ExecuteQuickFindRequest(null,null,n.$Rw),n.get_$Y()),n.$$d_$3d,n.$$d_$4L)},this.$$d_$4L),t.promise()}};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("ExecuteExternalSearchAction",Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$X)};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$X=function(n){var t=null,i=new Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction;if(Microsoft.Crm.Client.Core.ViewModels.MultiItemListViewModel.isInstanceOfType(n))if("HeaderGroup"in n.$2.$H)t=n.$2.$H.HeaderGroup.$H.SearchBox,i.$1Md=n.$1Z.$9S;else return null;else t=n;return i.$J=t.$$d_$3d,i.$1b_3=t.$$d_$4L,i.$A_3=t,i};Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.prototype={$J:null,$1Md:0,$4W:0,$mt:null,$1FA:null,$1Jo:!1,$14r:null,$2E:function(){var n=this.$A_3;return this.$4W=n.get_RelevanceSearchPageSize(),Microsoft.Crm.Client.Core.Framework.$3.$12(n.$5f)||(n.$H5&&n.$H5.length===1?(this.$1Jo=!0,this.$1H(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1kR(n.$H5[0],this.get_$Y()),this.$$d_$3d,this.$$d_$4L)):this.$21n()),1},$2ip:function(n,t,i,r,u,f,e,o,s,h,c){var a="",b=this.$1c6(2),k=this.$1c6(6),d=this.$A_3,v,l,p,w,y;if($0.$0(d.get_FacetPaneViewModel())||(a+="&facet=(@search.entityname,"+k+"),(ownerid,"+k+"),(modifiedon,"+b+"),(createdon,"+b+")"),t.length===1&&!$0.$0(s))for(v=0;v<s.length;v++)a+=",("+t[0]+"."+s[v].get_$2I()+","+this.$1c6(s[v].get_$4M())+")";if(l="",a+="&search="+CrmEncodeDecode.CrmUrlEncode(n),t.length>0&&(a+="&searchEntities="+t.join(",")),i){if(p=f[t[0]].toString()==="1",w=e[t[0]].toString()==="1",p)for(y=0;y<c.length;y++)Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(c[y]).get_$7g()&&(a+=","+c[y]);w&&(a+=",annotation");p&&(l+="activities:regardingobjecttypecode eq '"+t[0]+"'");w&&(p&&(l+=","),l+="annotation:objecttypecode eq '"+t[0]+"'")}return $0.$0(h)||h===""||(l!==""&&(l+=" and "),l+=h),$0.$0(o)||o===""||(""!==l&&(l+=","),l+=o),l!==""&&(a+="&$filter="+l),a+="&$top="+Math.min(r,1e3).toString(),0<u&&(a+="&$skip="+Math.min(Math.max(0,u*r),1e5).toString()),a},$1c6:function(n){switch(n){case 2:return"values:"+this.$12h("year",-1)+"|"+this.$12h("month",-1)+"|"+this.$12h("week",-1)+"|"+this.$12h("day",-1)+"|"+this.$12h("today",0);case 5:case 8:case 3:return"interval:100";default:return"count:100"}},$12h:function(n,t){var i=new Date;switch(n){case"year":i.setFullYear(i.getFullYear()+t);break;case"month":i.setMonth(i.getMonth()+t);break;case"week":i.setDate(i.getDate()+t*7);break;case"day":i.setDate(i.getDate()+t)}return i.toJSON()},$3d:function(n){var i,h,t,e,c,o,s,l,r,u,f,p;if(this.$1Jo){if(i=this.$A_3,h=$.parseJSON(n.Value),this.$1Jo=!1,t="",$0.$0(i.$H5)||i.$H5.length!==1||(t=i.$H5[0]),e=new Array(0),this.$1FA={},!$0.$0(t)){c=h[t];o=c.attributeNames;for(s in o)l={key:s,value:o[s]},r=l.value,Array.add(e,r.logicalName),this.$1FA[r.logicalName]=r.LookUpOTC}u=this;this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o),this.$Kl(t,e),function(n){$0.$0(n)||(u.$14r=n.get_$3F6()?n.$1mk():new Array(0),u.$21n())},this.$$d_$4L)}else{var a={},v=this.$A_3,w=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonSerializers.$5M.$2YJ(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W(),this.$4W,this.$1Md+1,a,this.$mt),y=new Array(1),b=new Xrm.Sdk.QuickFindResult("multiItem",w,0);y[0]=b;f=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.QuickFindResultCollection(y);p=$0.$0(v.$H5)?"":v.$H5[0];f.$11l=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.JsonSerializers.$5M.$2YK(n,this.$14r,p,this.$1FA);f.$13W=a;$0.$0(this.$J)||this.$J(f);this.$14()}},$Kl:function(n,t){var i=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o),Microsoft.Crm.Client.Core.Framework.$7),r=this,u=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(n,t),this.get_$Y()).then(function(n){i.resolve(n)},function(n){i.reject(n)}),i.promise()},$21n:function(){for(var i,u,n=this.$A_3,r=n.$Fr.get_Items(),f=r.length,t=0;t<f;++t)if(i=r[t],i.$L==="multiItempane"){this.$mt=i.$H.multiItemList.$mt;break}u=this.$2ip(n.$5f,n.get_EntityNames(),n.$WJ,this.$4W,this.$1Md,n.$R1,n.$Tn,n.$6C,this.$14r,n.$Jx,n.get_ItemValues());this.$1H(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1Zn(u,this.get_$Y()),this.$$d_$3d,this.$$d_$4L)},$4L:function(n){$0.$0(this.$1b_3)||this.$1b_3(n);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.PingServerAction=function(){this.$$d_$2Ub=Function.createDelegate(this,this.$2Ub);Microsoft.Crm.Client.Application.ViewModels.PingServerAction.initializeBase(this);this.$1Mt=this.$$d_$2Ub};Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("PingServer",Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$X)};Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.PingServerAction;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.PingServerAction.prototype={$1Mt:null,$2E:function(){return Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C.add_$Oy(this.$1Mt),Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C.$1Vy(),1},$2Ub:function(n,t){var i,r;if(Microsoft.Crm.Client.Core.Framework.AuthenticationManager.$C.remove_$Oy(this.$1Mt),t.$HN)t.$OE.$m===-2147093999?this.$1iL(null):Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$Cp.$101(0,t.$OE.$Oa());else if(Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&!$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N())&&!$0.$0(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N().get_$5a())&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1N().get_$5a().get_$4K())if(Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance()){Microsoft.Crm.Client.Core.Storage.DataApi.$D.$I4=!1;i=new Date;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("UpSync.Started",1);Microsoft.Crm.Client.Core.Framework.$8.$B("StartPlayback",1004,"Playback Started");r=Xrm.Internal.getResourceString("Msg_Progress_MOCA_Dialog");Xrm.Internal.progress(r,40,100,0);var f=this,e=this,u=this;Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.get_DefaultInstance().$1Qk().then(function(n){var r=new Date,u=r-i,f=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PI("1006","MOCADataSyncTransitionTime","","",0,"","",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),"","",u),t;Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(f);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("UpSync.Completed",1);n.$19p||(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PI("1007","MOCADataSyncSuccess","","",0,Microsoft.Crm.Client.Core.Offline.Upsync.Common.$4s.toString(n.$j4),"",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),(new Date).toString(),"",0),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t));Microsoft.Crm.Client.Core.Storage.DataApi.$D.$I4=!0},function(n){var r=new Date,u=r-i,t;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("UpSync.Failed",1);t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PI("1006","MOCADataSyncTransitionTime","","",0,"","MOCADataSyncTransitionTime is failed",Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),"","",u);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t);n.$F.toLowerCase()!=="no records found"&&Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Error occured while UpSync. Error details -- "+n.$F);Microsoft.Crm.Client.Core.Storage.DataApi.$D.$I4=!0}).always(function(){Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$WB>0&&(Microsoft.Crm.Client.Core.Framework.$8.$u("PlaybackErrorCount",1004,"Playback error count: "+Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$WB),u.$38a(Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$WB,Microsoft.Crm.Client.Core.Offline.Upsync.BatchManager.PlaybackManager.$dD));u.$29V();window.setTimeout(function(){Xrm.Internal.progress("",0,0,0)},1e3)})}else Microsoft.Crm.Client.Core.Framework.Trace.logError(1004,"Unable to instantiate playback manager.");else this.$29V()},$38a:function(n,t){if(n>0){var u=this,f=function(){u.$2FU()},e=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Sync_Status_Error_Message"),r="",i=e;$0.$0(t)||(r=Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Last_Save_To_CRM_Server_Text"),t.toString()),i=i+"\n\n"+r);Microsoft.Crm.Client.Core.ViewModels.$14.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Sync_Status_Dialog_Title"),i,0,null,f,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_OK_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Show_Details_Text"))}},$2FU:function(){var n=new Microsoft.Crm.Client.Core.Commands.$2R(null,13);n.$D="syncerror";n.$x={};n.$x.ListDefinitionId="F1203E8B-6C6A-4210-906E-8428CB1FDE68";n.execute();n.dispose()},$29V:function(){var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1iK().then(function(t){t?n.$14():n.$1iL(null)},function(n){t.$1iL(n)})},$1iL:function(n){$0.$0(n)?n=Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093998):n.$m=-2147093998;this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveDataSetMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$Qn)};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$Qn=function(n,t){var f=n,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction,u,r;return i.$A_3=f,u=t,r=u.QueryValue,i.$P=r.entityLogicalName,i.$8r=r.viewId,i.$J=u.OnSuccess,"isLookup"in r&&r.isLookup&&i.$8r===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()&&(i.$1JK=!0),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.prototype={$J:null,$P:null,$8r:null,$1JK:!1,$2E:function(){var t=this.$1JK?new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,this.get_$1d(),this.$P,1,!0,null,2):new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,this.get_$1d(),this.$P,1,!1,this.$8r),i=this.$1JK?new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(30,this.get_$1d(),this.$P,1,!0,null,2):new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(30,this.get_$1d(),this.$P,1,!1,this.$8r),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(t,this.get_$Y()),u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(i,this.get_$Y()),n=this,f=this;return this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(r,u),function(t){($0.$0(t)||t.length<2)&&n.$4L(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147094003));var i=t;n.$2kY(i)},function(n){f.$4L(n)}),1},$2kY:function(n){this.$J(n);this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction=function(n){Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.initializeBase(this);this.$1Ws=n};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveFilteredProcesses",Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$X=function(n,t,i){var u=n,e=u.get_Root(),r,f;return i=i||new Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$J2(u,new Microsoft.Crm.Client.Core.Models.ProcessControl.Builders.$Iz(e)),r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction(i),r.$A_3=u,r.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$179,f=t,$0.$0(f.OnSuccess)||(r.$J=f.OnSuccess),r};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.prototype={$1Ws:null,$2E:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.RetrieveFilteredProcessesRequest(this.$A_3.get_$1u()),this.get_$Y()),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(15,this.get_$1d(),this.$A_3.get_$1u(),1),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(i,this.get_$Y()),n=this,u=this;return this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,r),function(t){if(t.length===2&&!$0.$0(t[0])&&t[0].name==="RetrieveFilteredProcesses"&&Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f).isInstanceOfType(t[1])){var i=t[0].processes,r=t[1];n.$2CI(i,r)}else n.$65(null)},function(n){var t=n;u.$334(t)}),1},$1GG:function(n){for(var r,i=new Array(0),t=0;t<n.get_count();t++)r=n.get_entities()[t],i[t]=this.$1Ws.$pz(r,t);return i},$1I1:function(){this.$2CI(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty(),new(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f)))},$334:function(n){n.$m===-2147093999?this.$1I1():this.$1R(n)},$2CI:function(n,t){var i,u,f,e,r,o,s;if(!this.$A_3.get_$BV()){for(i=new Array(0),u=0;u<n.get_count();u++){for(f=n.get_$R(u),e=!1,r=0;r<t.get_$3F6();r++)if((!Microsoft.Crm.Client.Core.Framework.$6.get_$f()||!this.$2os(t.get_$R(r)))&&(o=t.get_$R(r).$q.toString(),s=f.$a.Id.toString(),o===s)){e=!0;break}e&&(i[i.length]=f)}var h=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(i,!1,i.length,!1),c=this.$1GG(h),l=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("change_process",c,0),a=new Microsoft.Crm.Client.Core.ViewModels.$63(this.$A_3,l);this.$J(a)}this.$14()},$2os:function(n){var u=n.get_$4r(),o=n.$6e,t,i,f,r,e;if(!$0.$0(u)){t=u.ChildViewModels;for(i in t)if(f={key:i,value:t[i]},r=f.value,r.TypeName==="ProcessEntity"&&(e=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"EntityLogicalName",r.Properties),e!==o))return!0}return!1},$J:null};Microsoft.Crm.Client.Application.ViewModels.$Aq=function(){this.$$d_$32r=Function.createDelegate(this,this.$32r);this.$$d_$32s=Function.createDelegate(this,this.$32s);Microsoft.Crm.Client.Application.ViewModels.$Aq.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$Aq.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveMultipleProcessInstances",Microsoft.Crm.Client.Application.ViewModels.$Aq.$X)};Microsoft.Crm.Client.Application.ViewModels.$Aq.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$Aq,r,u;return i.$A_3=n,r=t.QueryValue,"entityLogicalName"in r&&(i.$P=r.entityLogicalName),"currentEntityId"in r&&(i.$QM=r.currentEntityId),u=t,$0.$0(u.OnSuccess)||(i.$J=u.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.$Aq.prototype={$QM:null,$P:null,$J:null,$1b:null,$2E:function(){return $0.$0(this.$QM)&&(this.$QM=new Microsoft.Crm.Client.Core.Framework.Guid(this.$A_3.get_ModelContext().get_Id())),this.$1H(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1Oo(this.$P,this.$QM.toString(),this.get_$Y()),this.$$d_$32s,this.$$d_$32r),1},$32s:function(n){$0.$0(this.$J)||this.$J(n);this.$14()},$32r:function(n){$0.$0(this.$1b)||this.$1b();this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.$Ar=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.$Ar.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$Ar.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveMultipleRecords",Microsoft.Crm.Client.Application.ViewModels.$Ar.$2iu)};Microsoft.Crm.Client.Application.ViewModels.$Ar.$2iu=function(n,t){var i,u;Microsoft.Crm.Client.Core.Framework.Utils.$A.$1mg(Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(n),"Action context is not IMultipleEntityAttributeFormViewModel");i=new Microsoft.Crm.Client.Application.ViewModels.$Ar;u=n;i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hU;i.$A_3=u;var r=t,f=r.EntityLogicalName,e=r.EntityId;return i.$AK=new Xrm.Objects.EntityReference(f,new Microsoft.Crm.Client.Core.Framework.Guid(e)),i.$4b=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(r.PrimaryAttributeFieldNames),i.$PG=r.RelatedEntitiesQuery,i.$1Ny=r.RelatedAttributes,i.$4a=r.RetrieveOptions,i.$J=r.OnSuccess,i};Microsoft.Crm.Client.Application.ViewModels.$Ar.prototype={$J:null,$PG:null,$1Ny:null,$2E:function(){var n=this.$A_3;return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Uv(this.$AK,this.$4b,this.$4b,this.$PG,this.$4a,this.get_$Y(),Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n)?n.$1tm(this.$AK):null),this.$$d_$3d,this.$$d_$4L),1},$3d:function(n){var e=[],i,f,h,t,c;if(n.$5c.$90)for(var o=n.$5c.$90,l=o.length,r=0;r<l;++r)if(i=o[r],i.get_$29()&&i.get_$29().get_entities())for(var s=i.get_$29().get_entities(),a=s.length,u=0;u<a;++u)f=s[u],f&&(h=i.get_$8a().$Eb in this.$1Ny?this.$1Ny[i.get_$8a().$Eb]:null,Array.add(e,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$xX(f,h)));t=this;c=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(e),function(){var i=Microsoft.Crm.Client.Core.Models.$AF.$2g7(n);$0.$0(t.$J)?t.$A_3.UpdateRecordModel(i).done(function(){Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&t.$25Y(t.$A_3);t.$14()}):(t.$J(i),t.$14())},function(n){c.$4L(n)})},$25Y:function(n){var i,r,t;if(Microsoft.Crm.Client.Core.Framework.$1B.$s(n.$H)>0){i=n.$H;for(r in i)t={key:r,value:i[r]},Microsoft.Crm.Client.Core.ViewModels.PanoramaItemViewModel.isInstanceOfType(t.value)?t.value.$1fe():Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(t.value)&&this.$25Y(t.value)}}};Microsoft.Crm.Client.Application.ViewModels.$7X=function(){Microsoft.Crm.Client.Application.ViewModels.$7X.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$7X.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveNavigationEntities",Microsoft.Crm.Client.Application.ViewModels.$7X.$X)};Microsoft.Crm.Client.Application.ViewModels.$7X.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$7X,r=t;return $0.$0(r.OnSuccess)||(i.$J=r.OnSuccess),Microsoft.Crm.Client.Application.ViewModels.$7X.$2nJ(i,n),i};Microsoft.Crm.Client.Application.ViewModels.$7X.$2nJ=function(n,t){n.$A_3=t;n.$QM=t.get_ModelContext().get_Id();n.$vg=t.$18C;n.$my=t.get_$2Ac();n.$1Ns=t.get_$2ze();n.$PN=t};Microsoft.Crm.Client.Application.ViewModels.$7X.prototype={$J:null,$QM:null,$vg:null,$my:null,$1Ns:null,$PN:null,$2E:function(){if(!$0.$0(this.$vg)&&!$0.$0(this.$my)){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1kD(this.$QM,this.$vg,this.$my,this.$1Ns,this.get_$Y()),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$my,this.get_$Y()),n=this,r=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,i),function(t){var r=t[0],u=t[1],i=r;i.ShowCreate=i.ShowCreate&&n.$38E(u);n.$32Q(i)},function(n){r.$32P(n)})}return 1},$38E:function(n){return!Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(!n.$KJ||n.$Ty)||Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&!n.$BW?!1:this.$vg==="lead"&&this.$my==="opportunity"?!1:this.$vg==="quote"&&this.$my==="salesorder"?!1:!0},$32Q:function(n){var i=this.$2hc(),t;$0.$0(this.$J)||$0.$0(n)||$0.$0(i)||(t=this.$1GG(n,i),n.ShowCreate&&(t[t.length]=this.$2QV(n.EntityLogicalName,i)),this.$J(t));this.$14()},$1GG:function(n,t){for(var u,r=new Array(0),i=0;i<n.NavigationEntities.length;i++)u=n.NavigationEntities[i],r[i]=this.$2SN(u,i,t);return r},$2SN:function(n,t,i){var h=n.PrimaryField,o=n.EntityLogicalName,c=o+"_navigationButton"+t,r={},s,u,e,f;return r.NextEntityId=n.Id,r.NextEntityLogicalName=o,r.TargetViewModel=this.$A_3,r.ActionType="NavigateToNextEntity",r.NewActiveStageId=i.get_$6U(),r.NewTraversedPath=i.get_$CB().get_$ER(),s=new Microsoft.Crm.Client.Core.ViewModels.Commands.$AH(r),u={},u.StageViewModel=this.$PN,u.SuccessCommand=s,u.EntityId=new Microsoft.Crm.Client.Core.Framework.Guid(n.Id).toString(),e=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$2Me(c,h,"ProcessStageGateCommand",u),f=new Microsoft.Crm.Client.Core.Models.Descriptors.ComponentDefinitionDescriptor,f.ViewModelDescriptor=e,f.ViewDescriptor=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(e),f},$2QV:function(n,t){var i={},e,r,f,u;return i.RefreshContext=this.$A_3,i.IsSaveAndCloseButtonHidden=!0,i.IsSaveAndEditButtonHidden=!0,i.IsSaveAndProcessNavigateButtonHidden=!1,i.RelationshipAttribute=[this.$1Ns],i.ParentReference=this.$A_3.get_$1B().get_$MS(),i.NewActiveStageId=t.get_$6U(),i.NewTraversedPath=t.get_$CB().get_$ER(),e=new Microsoft.Crm.Client.Core.Commands.CreateFormCommand(this.$A_3,n,i),r={},r.StageViewModel=this.$PN,r.SuccessCommand=e,f=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$2Me("process_create_navigation_entity",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ProcessControl.CreateNew"),"ProcessStageGateCommand",r),u=new Microsoft.Crm.Client.Core.Models.Descriptors.ComponentDefinitionDescriptor,u.ViewModelDescriptor=f,u.ViewDescriptor=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(f),u},$2hc:function(){var i=this.$PN.$8h;if($0.$0(this.$PN.get_$1O()))return null;var n=this.$PN.get_$1O().get_$9J(),t=n.$MA(i),r=Mscrm.ProcessControlShared.ObjectModels.$2H.$Qv(n.get_$E4(),t);return new Mscrm.ProcessControlShared.ObjectModels.$KY(new Mscrm.ProcessControlShared.ObjectModels.$2H(r),t)},$32P:function(n){n.$m===-2147093999?(this.$1I1(),this.$14()):this.$1R(n)},$1I1:function(){this.$J(new Array(0))}};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrievePersonalDocumentTemplates",Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction,r,u;return i.$A_3=n,i.$1FH=Xrm.Internal.getEntityCode(i.$A_3.get_$1u()),r=t,$0.$0(r.OnSuccess)||(i.$6K=r.OnSuccess),$0.$0(r.OnFailure)||(i.$1b_3=r.OnFailure),$0.$0(r.QueryValue)||(u=r.QueryValue,$0.$0(u.DocumentType)||(i.$oY=u.DocumentType)),i};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.prototype={$6K:null,$oY:0,$1FH:0,$2E:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(44,this.get_$1d(),this.$A_3.get_$1u(),0),null);return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),n,this.$$d_$3d,this.$$d_$1R),1},$3d:function(n){this.$6K(this.$1w7(n));this.$14()},$1w7:function(n){for(var i,r,u=new Array(0),t=0;t<n.get_$3F6();t++)i=n.get_$R(t),r=i.get_$4r(),r.templateTypeCode===9941&&r.documentType===this.$oY&&Array.add(u,i);return new(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f))(u)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveProvisionedLanguages",Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction,i=n;return t.$J=i.$$d_$3d,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.prototype={$J:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.DataApi.$2B,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$nD(),this.$$d_$3d,this.$$d_$4L),1},$3d:function(n){$0.$0(this.$J)||this.$J(n.$1I.$11V,n.$1I.$Di);this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveGlobalCreateEnabledEntities",Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$Qn)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$2Mf=function(n,t,i,r){var u=!0;return Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&(u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?!0:Xrm.Utility.isEntityOfflineSyncEnabled(r)),new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(n,"Button","CreateCommand",t,i,"System","Add","Symbol",{PrimaryModelName:r},u)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$Qn=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction,r=t;return $0.$0(r.OnSuccess)||(i.$J=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.prototype={$J:null,$2E:function(){for(var n,t,u=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("CreateNewCommandsID"),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),f=Microsoft.Crm.Client.Core.ViewModels.$2g.$S6,r=0;r<f.get_Count();r++)n=f.get_$R(r),t=n.LogicalName,n.IsChildEntity||t==="activitypointer"||t==="syncerror"||i.add(Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$2Mf(t,n.DisplayName,i.get_Count()+1,n.LogicalName));return u.Controls=i.toArray(),this.$J(new Microsoft.Crm.Client.Core.ViewModels.$63(this.$A_3,u)),0}};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveGlobalMenuData",Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction,i=n;return t.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1k1,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.prototype={$2E:function(){var o=this.$A_3,f=new Sys.StringBuilder,i=0,e=o.$9m.$H,r,t,n;for(r in e)t={key:r,value:e[r]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(t.value)&&(n=t.value,n.set_Visible(!1),n.set_Enabled(!1),!$0.$0(n.$D)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(n.$D,1)&&(f.append("<value>"+t.key+"<\/value>"),i++));if(!i)return 0;var s="<filter type='and'><condition attribute='uniquename' operator='in'>"+f+"<\/condition><condition attribute='statecode' operator='eq' value='1'/><\/filter>",h=new Microsoft.Crm.Client.Core.Storage.DataApi.$MK("workflow",["uniquename","processroleassignment"]),c=h.$2Mj(s),u=new Microsoft.Crm.Client.Core.Storage.DataApi.$7A(c,"");return u.$KX=!0,u.$4W=i,this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(u,Microsoft.Crm.Client.Core.ViewModels.$k.get_$aC(),this.get_$Y()),this.$$d_$3d,this.$$d_$1R),1},$3d:function(n){for(var i=this.$A_3,o=i.$9m.$H,r=n.get_entities(),s=r.length,t=0;t<s;++t){var u=r[t],f=o[u.getValue("uniquename")],h=this.$209(u),e=this.$1f1(h);f.set_Visible(e);f.set_Enabled(e)}i.$7(Microsoft.Crm.Client.Core.ViewModels.$4O.$1Ht);this.$14()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction=function(){this.$$d_$27R=Function.createDelegate(this,this.$27R);this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$2qC=Function.createDelegate(this,this.$2qC);this.$$d_$2qA=Function.createDelegate(this,this.$2qA);Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.initializeBase(this);this.$6Y="ChangeControlCommand";this.$e3="_ControlCommands";this.$lw=[0];this.$KE=!1};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveControlConfigurations",Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$Qn);Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveDefaultControlConfiguration",Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$205)};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$Qn=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$1t3(n),r;return i.$E8=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.RetrieveForCommands"),i.$eO=i.$$d_$2qA,r=t,$0.$0(r.OnSuccess)||(i.$J=r.OnSuccess),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$205=function(n){var t=Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$1t3(n);return t.$E8=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.RetrieveDefault"),t.$eO=t.$$d_$2qC,t.$J=n.$$d_$1hd,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$1t3=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction,i,r;return t.$A_3=Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(n)?n:n,t.$D=t.$A_3.get_$1u(),t.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1Oe,i="",r="",$0.$0(t.$A_3.get_Root().$1W)||t.$A_3.get_Root().$1W.toUpperCase()!=="WORKSPACE"?t.$A_3.get_Root().$L==="EntityEditFormRootViewModel"?(i=t.$A_3.get_Root().$D,r=String.format("{0}_{1}",i,t.$A_3.get_Root().$q)):(i=t.$A_3.get_$1u(),r=String.format("{0}_{1}",i,t.$A_3.get_Root().$q)):(i=t.$A_3.get_Root().$1W.toUpperCase(),r=String.format("{0}_{1}","",t.$A_3.get_Root().$q)),t.$IO=i,t.$q=r,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.prototype={$J:null,$IO:null,$D:null,$q:null,$6Y:null,$lw:null,$e3:null,$KE:!1,$eO:null,$E8:null,$2E:function(){var n,t;return $0.$0(this.$E8)||this.$E8.start(),n=this.$A_3.get_Root().$5Q(this.$A_3),(!Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(this.$A_3)||this.$A_3.get_RetrieveRequired())&&(Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(this.$A_3)||Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$A_3)||Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(n))&&(!Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(n)||n.get_RetrieveRequired())?(t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(42,this.get_$1d(),this.$IO,0,this.$KE,this.$q),this.get_$Y()),this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),t,this.$eO,this.$$d_$4L),1):(this.$eO(new(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f))),0)},$2qA:function(n){var v,d,o,y,s,f,r,l,e,u,t,g,h,i,p,a,c,w,nt,b,k,tt;if($0.$0(this.$E8)||this.$E8.stop(),v=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.ParseForCommands"),v.start(),d=this.$IO+this.$e3,o=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet(d),n.get_$3F6()>0)for(y=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),s=0;s<n.get_$3F6();s++)if(f=n.get_$R(s),f.$4f===42&&(r=null,l=f.get_$4r(),l.length>0)){for(e={},u=0;u<l.length;u++)if(t=l[u],t.TypeName==="Grid"||t.TypeName==="MultilineList"||t.PrimaryModelName===this.$D){if(g=new RegExp('{"Value":"\\d","Name":"FormFactor"}'),h=JSON.stringify(t.Properties).replace(g,""),h in e){this.$245(t.Properties)&&(e[h].CommandParameters.Index=u);continue}if(i={},i.ApplicationMetadataType=n.get_$R(s).get_$1C9(),i.Descriptor=null,!$0.$0(this.$A_3.get_Root())&&$0.$0(r)&&(r=t.TypeName==="Grid"||this.$A_3.get_Root().$L==="GridRootViewModel"?this.$A_3.get_Root().$67("GridContainer"):Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(this.$A_3)?this.$A_3:Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(this.$A_3)?Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.$l0(this.$A_3.get_Root(),this.$A_3):this.$A_3.get_Root().$5Q(this.$A_3)),!$0.$0(r)&&Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(r))if(i.ContainerViewModel=r,t.TypeName==="CustomControl"){if(r.$k4===t.Name||$0.$0(r.$k4)){for(i.Descriptor=t,p=t.Properties,a=0;a<p.length;a++)if(c=p[a],c.Name==="DisplayName"){try{i.DisplayName=Microsoft.Crm.Client.Core.Framework.Common.$2.$4(c.Value.toString())}catch(ft){i.DisplayName=$0.$0(c.Value)?t.TypeName:c.Value.toString()}break}i.Index=u;var it=i.DisplayName,rt=f.$q+u.toString(),ut=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(rt,"Button",this.$6Y,it,y.get_Count(),"System",null,null,i,!0);e[h]=ut}}else(t.TypeName==="Grid"||t.TypeName==="MultilineList"||t.TypeName==="HierarchyList")&&(w=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CustomControl_Default_ListGrid"),i.ViewId=f.$q,i.DisplayName=w,nt=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(f.$q,"Button",this.$6Y,w,y.get_Count(),"System",null,null,i,!0),e[h]=nt)}b=e;for(k in b)tt={key:k,value:b[k]},Array.add(o.Controls,tt.value)}v.stop();o.Controls.length>0?(o.Controls.sort(this.$$d_$27R),this.$J(new Microsoft.Crm.Client.Core.ViewModels.$63(this.$A_3,o))):this.$J(null);this.$14()},$2Q3:function(n){var t=0;switch(n){case"0":t=2;break;case"1":t=1;this.get_$1d()===3&&(t=3);break;case"2":t=3}return t},$2qC:function(n){var e,o,s,l,r,h,u,i,t,c,f;if($0.$0(this.$E8)||this.$E8.stop(),e=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveControlConfigurationsDataAction.ParseForDefault"),e.start(),o=null,s=-1,n.get_$3F6()>0)for(l=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),r=0;r<n.get_$3F6();r++)if(h=n.get_$R(r),h.$4f===42&&(u=h.get_$4r(),u.length>0))for(i=0;i<u.length;i++)t=u[i],t.ControlTypeName==="CustomControlHostView"&&this.$D===t.PrimaryModelName&&Microsoft.Crm.Client.Core.ViewModels.$42.isInstanceOfType(this.$A_3)&&(this.$A_3.$k4===t.Name||$0.$0(this.$A_3.$k4))&&(c=t.Properties,this.$245(c)&&(o=t,s=i));f={};f.descriptor=o;f.index=s;e.stop();this.$J(f);this.$14()},$245:function(n){for(var t,i=0;i<n.length;i++)if(t=n[i],!IsNull(t)&&t.Name==="FormFactor")return IsNull(t.Value)||this.$2Q3(t.Value)!==this.get_$1d()?!1:!0;return!1},$27R:function(n,t){return n.LabelText.localeCompare(t.LabelText)},$4L:function(n){$0.$0(this.$E8)||this.$E8.stop();this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.$3r=function(){this.$$d_$2q9=Function.createDelegate(this,this.$2q9);Microsoft.Crm.Client.Application.ViewModels.$3r.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$3r.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("FetchXmlForSuggestions",Microsoft.Crm.Client.Application.ViewModels.$3r.$2YP)};Microsoft.Crm.Client.Application.ViewModels.$3r.$2YP=function(n){var i=n,r=i.$2,t=new Microsoft.Crm.Client.Application.ViewModels.$3r,u=r.$5m.entityName,f=r.$5m.entityId,e=r.$5m.pricelevelid;return Mscrm.InternalUtilities._Script.isNullOrUndefined(r.$5m.lineItemMetaData)||(t.$ic=JSON.parse(r.$5m.lineItemMetaData.toString())),t.$yV=r.$5m.isCustomLineItemEntity,t.$4y=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$QT(i),t.$J=i.$$d_$3d,t.$1b_3=i.$$d_$4L,t.$A_3=i,t.$F7=i.get_DefinitionId(),t.$C3=i.$1Z.$9S+1,$0.$0(e)||(t.$1At=new Microsoft.Crm.Client.Core.Framework.Guid(e)),$0.$0(u)||$0.$0(f)||(t.$Eg=new Xrm.Objects.EntityReference(u,new Microsoft.Crm.Client.Core.Framework.Guid(f))),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PZ("started",u,String.format("Started loading suggestions (triggered by {0})",r.$5m.SuggestionsSource))),t.$yV&&(t.$W8=1),t};Microsoft.Crm.Client.Application.ViewModels.$3r.$1ry=function(n,t){Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(n.get_Root())&&(n.get_Root().$QG(),Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4(t)))};Microsoft.Crm.Client.Application.ViewModels.$3r.prototype={$WA:!1,$p1:null,$1At:null,$Eg:null,$ic:null,$yV:!1,$2E:function(){var n=this.$A_3;return(n.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("query.product.cell.productname.suggestions")),n.set_NoRecordsText(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Suggestions_Dlg_No_Suggestions")),n.$1e8=!0,n.set_GridEnabled(!1),n.$E6=!0,n.set_DisableItemLongPress(!0),n.$t8=!0,$0.$0(this.$Eg)||$0.$0(this.$1At)&&!this.$yV)?(Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PZ("aborted",this.$Eg?this.$Eg.TypeName:"null",String.format("Form entity (id {0}) metadata not available",this.$Eg?this.$Eg.Id.toString():"null"))),Microsoft.Crm.Client.Application.ViewModels.$3r.$1ry(this.$A_3,"Suggestions_Dlg_Error_No_Price_List"),0):(this.$2xs(),1)},$2xs:function(){var n=this;this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.PopulateRecommendationCacheForRecordRequest(this.$Eg),this.get_$Y()),function(t){n.$WA=t.showAzureRecommendations;n.$339()},this.$$d_$4L)},$339:function(){var n=this;this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.RetrieveItemIdsForRecordRequest(this.$Eg),this.get_$Y()),function(t){if(n.$p1=t.itemIds,$0.$0(n.$p1)||n.$p1.length<=0){Microsoft.Crm.Client.Application.ViewModels.$3r.$1ry(n.$A_3,"Suggestions_Dlg_Error_No_Line_Items");n.$4L(Microsoft.Crm.Client.Core.Framework.$7.$k(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Suggestions_Dlg_Error_No_Line_Items")));return}n.$32n()},this.$$d_$4L)},$32n:function(){var n=this;this.$1Xn(Number,String,Xrm.Internal.getMaxSuggestionsCount(),function(t){n.$34Z(t)},this.$$d_$2q9)},$2q9:function(n){this.$4L(Microsoft.Crm.Client.Core.Framework.$7.$k(n))},$34Z:function(n){var t=null,r;if(this.$yV)t=String.format(Microsoft.Crm.Client.Application.ViewModels.$3r.$1vz,"<value>"+this.$p1.join("<\/value><value>")+"<\/value>",this.$ic.entityPrimaryKey,this.$ic.entityName,this.$ic.itemIdAttributeName,this.$ic.basketRecordLookupAttributeName,this.$Eg.Id);else{var u=this.$WA?"recommendationcache":"productsubstitute",f=this.$WA?"productpricelevelid":"productid",e=this.$WA?"additionaldatarecordid":"substitutedproductid",o=this.$WA?"itemid":"productid",s=this.$WA?"recommendeditemid":"substitutedproductid",h=this.$WA?'<condition attribute="recommendationtype" operator="eq" value="1" />\r\n\t\t\t\t\t<condition attribute="isrecommendationactive" operator="eq" value="1" />':'<condition attribute="salesrelationshiptype" operator="eq" value="1" />',c=this.$WA?'<attribute name="recommendationrating" aggregate="max" alias="recommendationrating" />\r\n\t\t\t\t\t<attribute name="recommendeditemid" groupby="true" alias="recommendeditemid" />\r\n\t\t\t\t\t<order alias="recommendationrating" descending="true" />':"",i=new Microsoft.Crm.Client.Application.ViewModels.$3r.$3EU(this.$Eg.LogicalName,this.$ic);t=String.format(Microsoft.Crm.Client.Application.ViewModels.$3r.$1vy,this.$1At,u,f,e,c,o,"<value>"+this.$p1.join("<\/value><value>")+"<\/value>",h,s,i.$dG,i.$dF,this.$Eg.Id,i.$dH)}this.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(t);r=this.$A_3;r.$1Z.$4W=n;Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.prototype.$2E.call(this)}};Microsoft.Crm.Client.Application.ViewModels.$3r.$3EU=function(n,t){this.$1SX=n;null!==t?(this.$dG=t.entityName,this.$dH=t.entityPrimaryKey,this.$dF=t.basketRecordLookupAttributeName):this.$2Z()};Microsoft.Crm.Client.Application.ViewModels.$3r.$3EU.prototype={$1SX:null,$dG:null,$dH:null,$dF:null,$2Z:function(){switch(this.$1SX){case"opportunity":this.$dG="opportunityproduct";this.$dH="opportunityproductid";this.$dF="opportunityid";break;case"quote":this.$dG="quotedetail";this.$dH="quotedetailid";this.$dF="quoteid";break;case"salesorder":this.$dG="salesorderdetail";this.$dH="salesorderdetailid";this.$dF="salesorderid";break;case"invoice":this.$dG="invoicedetail";this.$dH="invoicedetailid";this.$dF="invoiceid";break;default:this.$dG="";this.$dH="";this.$dF=""}}};Microsoft.Crm.Client.Application.ViewModels.$3r.$3EV=function(){};Microsoft.Crm.Client.Application.ViewModels.$3r.$3EV.prototype={entityName:null,entityPrimaryKey:null,basketRecordLookupAttributeName:null,itemIdAttributeName:null,parentEntityPrimaryAttributeName:null};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveUnboundTargetEntityMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction,r=n,u,f;return i.$J=r.$$d_$1fr,i.$A_3=r,u=t,f=u.QueryValue,i.$x4=f.targetAttribute,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.prototype={$J:null,$x4:null,$2E:function(){for(var r,u,t=this.$A_3.get_ModelContext().$2hH(this.$x4),i=[],n=0;n<t.length;n++)Array.add(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(t[n],this.get_$Y()));return r=this,u=this,this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i),function(n){r.$3d(n)},function(n){u.$4L(n)}),1},$3d:function(n){for(var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),t=0;t<n.length;t++)i.add(n[t]);this.$J(i);this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase.prototype={$209:function(n){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r,e,i,f;if($0.$0(n)||(r=n.getValue("processroleassignment"),$0.$0(r)))return t.toArray();e=Sys.Net.XMLDOM(r).firstChild;for(var o=e.childNodes,s=o.length,u=0;u<s;++u)i=o[u],f=i.nodeName.toLowerCase(),f==="everyone"?t.add("everyone"):f!=="role"||$0.$0(i.attributes.getNamedItem("Id"))||t.add(i.attributes.getNamedItem("Id").nodeValue);return t.toArray()},$1f1:function(n){var t,c,u,e,o,h;if($0.$0(n)||!n.length)return!1;if(n[0].toLowerCase()==="everyone")return!0;t={};c=this;Array.forEach(n,function(n){try{t[new Microsoft.Crm.Client.Core.Framework.Guid(n).toString()]=!0}catch(i){}});u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$Hx;for(var f=u,l=f.length,i=0;i<l;++i)if(e=f[i],e.toString()in t)return!0;o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$mZ;for(var s=o,a=s.length,r=0;r<a;++r)if(h=s[r],h.toString()in t)return!0;return!1}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction=function(){this.$$d_$7S=Function.createDelegate(this,this.$7S);this.$$d_$DI=Function.createDelegate(this,this.$DI);Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("CheckTaskBasedFlowStatus",Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction,i=n;return t.$A_3=i,t.$1o2=new Microsoft.Crm.Client.Core.Framework.Guid(i.$1P),t.$1Rj=i.$Ht,t.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1kQ,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.prototype={$1o2:null,$1Rj:null,$2E:function(){var n=new Xrm.Objects.EntityReference("workflow",this.$1o2);return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(n,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["statecode","processroleassignment"]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$aC(),this.get_$Y()),this.$$d_$DI,this.$$d_$7S),1},$DI:function(n){var t=this.$209(n),i=this.$1f1(t),r=n.getValue("statecode").$1s;r&&i||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2r().$2BF(this.$1Rj);this.$14()},$7S:function(n){n.$m===-2147220969&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2r().$2BF(this.$1Rj);this.$14()}};Microsoft.Crm.Client.Application.ViewModels.$S5=function(){Microsoft.Crm.Client.Application.ViewModels.$S5.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$S5.prototype={$vz:null,$14:function(){Microsoft.Crm.Client.Core.ViewModels.$RA.prototype.$14.call(this);$0.$0(this.$A_3.get_Root())||this.$A_3.get_Root().$2BO(this)},$1R:function(n){Microsoft.Crm.Client.Core.ViewModels.$RA.prototype.$1R.call(this,n);$0.$0(this.$A_3.get_Root())||this.$A_3.get_Root().$2BO(this)},$28e:function(){Microsoft.Crm.Client.Core.ViewModels.$RA.prototype.$28e.call(this);$0.$0(this.$A_3.get_Root())||this.$A_3.get_Root().$2L8(this)},get_$8a:function(){return this.$L},get_$1uC:function(){return this.$vz},get_$2YD:function(){return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.$C.$OP(this.$vz,1)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveHeaderMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$X=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction;return t.$A_3=i,t.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1k2,t.$P=i.$D,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.prototype={$J:null,$P:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.$2G,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$P,this.get_$Y()),this.$$d_$3d,this.$$d_$4L),1},$3d:function(n){this.$A_3.set_Label(n.get_$1Mu());$0.$0(this.$J)||this.$J(n);this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveActivitiesEnabledForMobile",Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$Qn)};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$Qn=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction;return t.$J=n.$$d_$1fr,t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.prototype={$J:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2G),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$hT(this.get_$Y()),this.$$d_$3d,this.$$d_$4L),1},$2LF:function(n,t){n.add(t)},$3d:function(n){for(var t,u=n.get_$3F6(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),i=0;i<u;i++)t=n.get_$R(i),t.get_$7g()&&t.$zb===1&&this.$2LF(r,t);this.$J(r);this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveAttachmentContents",Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$1wk)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$1wk=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction;return t.$A=i,t.$J=i.$$d_$2Bv,t.$1b=i.$$d_$32C,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.prototype={$J:null,$1b:null,$A:null,get_$2zb:function(){return $0.$0(this.$A)?null:this.$A.get_ModelContext().get_$4m()},$2E:function(){if(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()||Microsoft.Crm.Client.Core.ViewModels.$a.$HM(this.$A.$2.$1W)&&Microsoft.Crm.Client.Core.ViewModels.$a.$HM("annotation")){var n=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["documentbody","mimetype"]);return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(this.get_$2zb(),n,Microsoft.Crm.Client.Core.ViewModels.$k.get_$aC(),this.get_$Y()),this.$$d_$3d,this.$$d_$4L),1}return this.$4L(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093999)),0},$3d:function(n){if($0.$0(n)){var t=Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147220969);this.$4L(t);return}$0.$0(this.$J)||this.$J(Microsoft.Crm.Client.Core.Models.$c.$X(n));this.$14()},$4L:function(n){$0.$0(this.$1b)||this.$1b(n);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.initializeBase(this);this.$6Y="ChangeChartViewCommand"};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveChartViewSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$Qn)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$Qn=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction;return i.$A_3=n,i.$IO=i.$A_3.get_$1u(),Microsoft.Crm.Client.Application.ViewModels.$5a.$1GA(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.initializeBase(this);this.$6Y="ChangeChartCommand";this.$e3="_ChartCommands";this.$18Q=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_Visualization_Group_Name");this.$16A=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_Visualization_Group_Name");this.$4f=23;this.$lw=[0]};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveChartSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$Qn)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$Qn=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction,r=n;return i.$A_3=r,i.$IO=r.$D,Microsoft.Crm.Client.Application.ViewModels.$5a.$1GA(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.prototype={$2pG:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$FN.$3F5("575b9a8f-46da-4fb5-b014-51a689b003f0")},$2pN:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$FN.$3F5("d68cb29d-2243-41d1-b5a8-ee24dc885140")}};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction=function(){this.$$d_$25h=Function.createDelegate(this,this.$25h);this.$$d_$2qT=Function.createDelegate(this,this.$2qT);this.$$d_$2t1=Function.createDelegate(this,this.$2t1);this.$Vb=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43);this.$1SB=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$6D);Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveListMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$32h)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$32h=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction,r=t;return $0.$0(r.OnSuccess)||(i.$J=r.OnSuccess),Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$13d(i,n),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$13d=function(n,t){var i=t,r,u,f;n.$A_3=t;n.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1k7;n.$X9=i.get_$3CO();n.$g=i.get_$2PZ();n.$1W=i.get_$2Ts();r=i;n.add_$by(r.$$d_$gl||(r.$$d_$gl=Function.createDelegate(r,r.$gl)));u=i;n.add_$Qe(u.$$d_$15c||(u.$$d_$15c=Function.createDelegate(u,u.$15c)));n.add_$AT(n.$$d_$2t1);f=i;n.$1b_3=f.$$d_$2qW||(f.$$d_$2qW=Function.createDelegate(f,f.$2qW))};Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.prototype={$1W:null,$X9:null,$Ln:null,$g:0,$J:null,$1nr:!1,get_$NH:function(){return $0.$0(this.$Ln)?null:this.$Ln.ViewModelDescriptor},$xU:function(){if(!$0.$0(this.get_$NH())){this.$1SB.$2Hl(this.$X9,this.get_$NH(),null);var n=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(this.get_$NH());$0.$0(this.$Vb)||(this.$Vb.$ns(this.$X9,n),this.$1nr=!0)}},$2E:function(){var n=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$1W),t=n.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())?new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(this.$g,this.get_$1d(),this.$A_3.get_$1u(),1,!0,null,1):new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(this.$g,this.get_$1d(),this.$A_3.get_$1u(),this.$A_3.get_$1C9(),!1,n.toString());return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(t,this.get_$Y()),this.$$d_$2qT,this.$$d_$25h),1},$2qT:function(n){if(!n.get_$3F6()){this.$25h(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147094003));return}if(this.$Ln=n.get_$R(0).get_$4r(),!$0.$0(this.$Ln)){if(this.$A_3.get_$BV()){this.$14();return}var t=this.$A_3;t.set_$38o(this.$1W);this.$xU();$0.$0(this.$J)||this.$J(this.$Ln);this.$14()}},$25h:function(n){this.get_$Bg()!==3&&this.$1R(n)},$2t1:function(){this.$1nr||this.$Vb.$1uo(this.$X9)}};Microsoft.Crm.Client.Application.ViewModels.$5a=function(){this.$$d_$27R=Function.createDelegate(this,this.$27R);this.$16A=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name");this.$18Q=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name");this.$lw=Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()?[1,3]:[1];Microsoft.Crm.Client.Application.ViewModels.$5a.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$5a.$1GA=function(n,t){var i=t;return $0.$0(i.OnSuccess)||(n.$J=i.OnSuccess),n};Microsoft.Crm.Client.Application.ViewModels.$5a.prototype={$J:null,$IO:null,$6Y:null,$4f:16,$e3:"_ViewCommands",$2pG:function(){return!0},$2pN:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$E().$FN.$3F5("f3b782a2-e6d5-4b86-9b7d-33f627fe5c5d")},$2jx:function(){return!0},$2E:function(){for(var i,r,t=[],n=0;n<this.$lw.length;n++)Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(this.$4f,this.get_$1d(),this.$IO,0,!1,null,this.$lw[n]),this.get_$Y()));return i=this,r=this,this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(n){i.$3d(n)},function(n){r.$4L(n)}),1},$3d:function(n){var b=this.$IO+this.$e3,a=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet(b),s=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(this.$18Q,"Group",null,this.$18Q,0,null,null,null),h=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(this.$16A,"Group",null,this.$16A,1,null,null,null),k=this.$2pG(),d=this.$2pN(),p=this.$A_3,g=p.$ey,t=null,o,c,i,w,r,f,l,e,v,u,y;if(!$0.$0(g))for(t=p.$ey.toUpperCase().split(","),o=0;o<t.length;o++)t[o]=t[o].replace("{","").replace("}","");if(n.length>0)for(c=0;c<n.length;c++)if(i=n[c],i.get_$3F6()>0)for(w=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor)),r=0;r<i.get_$3F6();r++){if(f=i.get_$R(r),l=!0,t&&t.length>0)for(l=!1,e=0;e<t.length;e++)if(t[e]&&f.$q.toUpperCase()===t[e]){l=!0;t[e]=null;break}l&&(v=f.$1q,u={},u.ViewId=f.$q,u.DisplayName=v,u.ApplicationMetadataType=i.get_$R(r).get_$1C9(),u.MetadataSubType=i.get_$R(r).$EM,u.Descriptors=i.get_$R(r).get_$E5().$5M,u.IsDefault=i.get_$R(r).$KE,y=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(f.$q,"Button",this.$6Y,v,w.get_Count(),"System",null,null,u,this.$2jx(f)),!i.get_$R(r).$la&&k?Array.add(s.Children,y):i.get_$R(r).$la&&d&&Array.add(h.Children,y))}h.Children.length>0&&(h.Children.sort(this.$$d_$27R),Array.add(a.Controls,h));s.Children.length>0&&(s.Children.sort(this.$$d_$27R),Array.add(a.Controls,s));this.$J(new Microsoft.Crm.Client.Core.ViewModels.$63(this.$A_3,a));this.$14()},$27R:function(n,t){return n.LabelText.localeCompare(t.LabelText)},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveTimeZoneDefinition",Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction,i=n;return t.$J=i.$$d_$3d,t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.prototype={$J:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.DataApi.$2B,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$nD(),this.$$d_$3d,this.$$d_$4L),1},$3d:function(n){var i=n.$K.timezonedefinitionbycode,t;$0.$0(this.$J)||(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.TimeZoneDefinition))(i.$1mk()),this.$J(this.$38n(t)));this.$14()},$4L:function(n){this.$1R(n)},$38n:function(n){var t=this;return n.sort(function(n,t){var u=n.$SB,i=n.$108,f=t.$SB,r=t.$108;return i!==r?r-i:u-f}),n}};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.initializeBase(this);this.$6Y="ChangeViewsCommand"};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveViewSelector",Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$Qn)};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$Qn=function(n,t){var r=n,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction;return i.$A_3=r,i.$IO=i.$A_3.get_$1u(),Microsoft.Crm.Client.Application.ViewModels.$5a.$1GA(i,t)};Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.prototype={$2E:function(){if(!this.$A_3.$OA){var n=this;return window.setTimeout(function(){var t=n.$IO+n.$e3;n.$J(new Microsoft.Crm.Client.Core.ViewModels.$63(n.$A_3,new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet(t)));n.$14()},0),1}return Microsoft.Crm.Client.Application.ViewModels.$5a.prototype.$2E.call(this)},$2jx:function(n){return Microsoft.Crm.Client.Core.ViewModels.$a.$254(n.get_$E5(),n.$6e)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$1fh=Function.createDelegate(this,this.$1fh);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveEntityReferences",Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction,r=n,u;return i.$J=r.$$d_$1fr,i.$A_3=r,u=t,i.$P=u.QueryValue,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.prototype={$J:null,$P:null,$YI:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.$2G,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$P,this.get_$Y()),this.$$d_$1fh,this.$$d_$4L),1},$1fh:function(n){this.$YI=n.get_$Dn();var i=this.$A_3,r=new Microsoft.Crm.Client.Core.Framework.$6M(this.$YI,!1),u=new Microsoft.Crm.Client.Core.Storage.DataApi.$MK(this.$P,r),f=u.$2Mj(i.$ek),t=new Microsoft.Crm.Client.Core.Storage.DataApi.$Qx(f,this.$P,this.$YI,i.$ek);t.set_$Ra(1);t.$4W=25;this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(t,Microsoft.Crm.Client.Core.ViewModels.$k.get_$aC(),this.get_$Y()),this.$$d_$3d,this.$$d_$4L)},$3d:function(n){for(var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$36)),t=0;t<n.get_count();t++)i.add(new Xrm.Objects.EntityReference(n.get_$R(t).$a.LogicalName,n.get_$R(t).$a.Id,n.get_$R(t).getValue(this.$YI)));this.$J(i);this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveLookupViewQueryFromId",Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$1wh)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$1wh=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction;return t.set_$RC(n),t.$J=n.$$d_$2tQ,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.prototype={$J:null,get_$RC:function(){return this.$A_3},set_$RC:function(n){return this.$A_3=n,n},$2E:function(){var t=new Microsoft.Crm.Client.Core.Framework.Guid(this.get_$RC().$O7),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,this.get_$1d(),null,1,!1,t.toString()),r=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(30,this.get_$1d(),null,1,!1,t.toString()),n=this;return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(i,this.get_$Y()),function(t){n.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(r,n.get_$Y()),function(i){n.$DI(t,i)},n.$$d_$4L)},this.$$d_$4L),1},$DI:function(n,t){var i,r,u;n.get_$3F6()>0&&t.get_$3F6()>0?(i=this.get_$RC(),r=new Microsoft.Crm.Client.Core.Models.$7F(new Microsoft.Crm.Client.Core.Framework.Guid(i.$O7),n.get_$R(0).get_$E5(),t.get_$R(0).get_$4r(),n.get_$R(0).$6e),this.$J(r)):(u=Microsoft.Crm.Client.Core.Models.$7F.$1t7(this.get_$RC().$B7),this.get_$RC().$1hF(u));this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("RetrieveLookupViewQueryFromEntityType",Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$1wh)};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$1wh=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction;return i.set_$RC(n),i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1k8,i.$1Ot=t,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.prototype={$1Ot:0,$Lt:null,get_$RC:function(){return this.$A_3},set_$RC:function(n){return this.$A_3=n,n},$2E:function(){this.$Lt=this.get_$RC().$B7;var t=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,this.get_$1d(),this.$Lt,1,!0,null,2),i=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(30,this.get_$1d(),this.$Lt,1,!0,null,2),r=[Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(t,this.get_$Y()),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(i,this.get_$Y())],n=this;return this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r),function(t){t.length===2?n.$32k(t[0],t[1]):t.length>0&&Microsoft.Crm.Client.Core.Framework.$7.isInstanceOfType(t[0])?n.$4L(t[0]):n.$4L(Microsoft.Crm.Client.Core.Framework.$7.$k("Unknown error in RetrieveLookupViewQueryFromEntityTypeAction"))},this.$$d_$4L),1},$32k:function(n,t){if(n.get_$3F6()>0&&t.get_$3F6()>0){var i=new Microsoft.Crm.Client.Core.Models.$7F(new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$R(0).$q),n.get_$R(0).get_$E5(),t.get_$R(0).get_$4r(),this.$Lt);this.$1Ot?this.get_$RC().$282(i):this.get_$RC().$1hF(i);this.$14()}else this.$4L(Microsoft.Crm.Client.Core.Framework.$7.$k("Lookup definition not found"))},$4L:function(n){var t=Microsoft.Crm.Client.Core.Models.$7F.$1t7(this.$Lt);this.$1Ot?this.get_$RC().$282(t):this.get_$RC().$1hF(t);$0.$0(this.$1b_3)||this.$1b_3(n);this.$65(null)}};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrievePersonalization",Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$X=function(n){var u=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction,i,r;return t.$4y=Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$QT(u),i=u,t.$J=i.$$d_$2qZ||(i.$$d_$2qZ=Function.createDelegate(i,i.$2qZ)),r=u,t.$1b_3=r.$$d_$25j||(r.$$d_$25j=Function.createDelegate(r,r.$25j)),t.$A_3=u,t};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$QT=function(n){return Microsoft.Crm.Client.Core.ViewModels.CrmTileContainerViewModel.isInstanceOfType(n)&&!n.$d9?Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1kI:Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1kH};Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.prototype={$J:null,$2E:function(){var n=this.$A_3;return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5A,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$w4(n.get_$Uh()),this.$$d_$3d,this.$$d_$4L),1},$3d:function(n){if(!$0.$0(this.$J)){var t=Microsoft.Crm.Client.Core.Models.$BQ.$X(n.$6b);this.$J(t)}this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction=function(){this.$$d_$2Ii=Function.createDelegate(this,this.$2Ii);this.$$d_$14p=Function.createDelegate(this,this.$14p);this.$Vb=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$43);this.$1SB=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.Framework.$6D);Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RootDefinition",Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$2iy)};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$2iy=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction;return Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$13d(t,n),t};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$13d=function(n,t){var i=t,r,u;n.$A_3=i;n.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1cU;n.$X9=i.get_ViewModelId();n.$g=i.get_componentType();n.$1W=i.get_definitionId();n.$9a=i.get_applicationMetadataType();n.$q=i.get_sourceId();r=i;n.add_$by(r.$$d_$gl||(r.$$d_$gl=Function.createDelegate(r,r.$gl)));u=i;n.add_$Qe(u.$$d_$15c||(u.$$d_$15c=Function.createDelegate(u,u.$15c)))};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.prototype={$1W:null,$q:null,$X9:null,$Ln:null,$9a:1,$g:0,get_$NH:function(){return $0.$0(this.$Ln)?null:this.$Ln.ViewModelDescriptor},$xU:function(){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),i,n,r;return $0.$0(this.get_$NH())||this.$A_3.get_$BV()?t.resolve():(i=Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$A_3)&&Microsoft.Crm.Client.Core.Framework.$6.get_$1d()!==4,n=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(r){var u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RootViewModel:UpdateRoot:UpdateRootViewModel");u.start();n.$1SB.$2Hl(n.$X9,n.get_$NH(),null,i?null:r);u.stop();u.addParameter(n.$1W);i&&n.$ns(t)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$xU,"GetRootDefinitionAction.UpdateRoot.UpdateRootViewModel"),i||(r=this,Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){r.$ns(t)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$xU,"GetRootDefinitionAction.UpdateRoot.UpdateView"))),t.promise()},$ns:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RootViewModel:UpdateRoot:UpdateView"),i;t.start();i=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(this.get_$NH());this.$2Hl(i);$0.$0(this.$Vb)||this.$Vb.$ns(this.$X9,i);t.stop();t.addParameter(this.$1W);Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("LoadedInteractionReady",1,this.$A_3.get_ViewModelId());n.resolve()},$2Hl:function(){},$2E:function(){return this.$2Bo(),1},$2Bo:function(n){var t=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(this.$g,this.get_$1d(),this.$1W,1,!0,this.$q),i;Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(t.$sx=!1);n||(n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(t,this.get_$Y()));i=this;this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),n,function(n){i.$2qE(n,t)},this.$$d_$14p)},$2qE:function(n,t){var i,r,u;n.get_$3F6()>0?(this.$Ln=n.get_$R(0).get_$4r(),this.$A_3.set_sourceId(n.get_$R(0).$q),$0.$0(this.get_$NH())||this.$A_3.get_$BV()||(i=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(Array,"AttributeFieldNames",this.get_$NH().Properties),$0.$0(i)?this.$10g():this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(this.$1W,i),this.get_$Y()),this.$1Xb(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o)),this.$1Xb(Microsoft.Crm.Client.Core.Framework.$7)))):t.$6e==="Workspace".toUpperCase()?(r=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(this.$g,this.get_$1d(),this.$1W,1,!0),u=this,this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(r,this.get_$Y()),function(n){u.$2WK(n,r)},this.$$d_$14p)):t.$6e==="Workspace".toUpperCase()?this.$14p(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147094011)):t.$6e==="InteractionCentricWorkspace".toUpperCase()?Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_ServiceDesk_AccessDenied_DateRange"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Message_ServiceDesk_AccessDenied_DateRange"),this.$$d_$2Ii):(Microsoft.Crm.Client.Core.Framework.Trace.logError(1,String.format("Root definition '{0}' not found.",t.toString())),this.$14p(Microsoft.Crm.Client.Core.Framework.$7.$f9(0)))},$2WK:function(n){var t,o,i,h,c;if(n.get_$3F6()>0){var f={},r=new Array(0),u=new Array(0);for(t=0;t<n.get_$3F6();++t){for(var s=n.get_$R(t).get_$4r().ViewModelDescriptor.Properties,l=s.length,e=0;e<l;++e)if(o=s[e],o.Name==="IsSystemDashboard"){o.Value?Array.add(r,n.get_$R(t).$1q):Array.add(u,n.get_$R(t).$1q);break}f[n.get_$R(t).$1q]=n.get_$R(t)}i=null;r.length>0?(r.sort(),i=f[r[0].toString()]):u.length>0&&(u.sort(),i=f[u[0].toString()]);this.$A_3.set_sourceId(i.$q);this.$Ln=i.get_$4r();this.$10g()}else h=Microsoft.Crm.Client.Core.Framework.Common.$2.$13O("MoCA_No_Dashboard_Information_Message")?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("MoCA_No_Dashboard_Information_Message"):"",c=Microsoft.Crm.Client.Core.Framework.Common.$2.$13O("PinnedTiles")?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PinnedTiles"):"",this.$Ln=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$2SO(this.get_$1d()===2,h,c),this.$10g()},$2Ii:function(){this.dispose()},$10g:function(){var n=this;this.$1H(Object,this.$xU(),function(){n.$14()},this.$$d_$14p)},$1Xb:function(){var n=this;return function(){n.$10g()}},$14p:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction=function(){this.$$d_$7S=Function.createDelegate(this,this.$7S);this.$$d_$DI=Function.createDelegate(this,this.$DI);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("AttributeMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$2ef)};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$2ef=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction,r;return i.$A_3=n,i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1js,r=t,i.$Br=r.EntityType,i.$2Q=r.Attributes,i.$J=r.OnSuccess,i.$1b_3=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.prototype={$J:null,$Br:null,$2Q:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(this.$Br,this.$2Q),this.get_$Y()),this.$$d_$DI,this.$$d_$7S),1},$DI:function(n){n.get_$3F6()>0?($0.$0(this.$J)||this.$J(n.$1mk()),this.$14()):this.$7S(Microsoft.Crm.Client.Core.Framework.$7.$k(String.format("No attribute metadata found for entity type : {0}",this.$Br)))},$7S:function(n){$0.$0(this.$1b_3)||this.$1b_3(n);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction=function(){this.$$d_$2qr=Function.createDelegate(this,this.$2qr);this.$$d_$2vh=Function.createDelegate(this,this.$2vh);this.$$d_$14o=Function.createDelegate(this,this.$14o);this.$$d_$2vj=Function.createDelegate(this,this.$2vj);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveChartByIdAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$1aK)};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$1aK=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction;return t.$1aL(n),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.prototype={$8r:null,$JJ:null,$I0:null,$SI:null,$8u:null,$1aL:function(n){var t=n;this.$A_3=t;this.$8r=new Xrm.Objects.EntityReference(t.$NG,new Microsoft.Crm.Client.Core.Framework.Guid(t.$8r));this.$JJ=new Xrm.Objects.EntityReference(t.$ce,new Microsoft.Crm.Client.Core.Framework.Guid(t.$JJ));this.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1jt},$1a6:function(n,t){var i=this.$4d("OnLoadDataFailed");i&&i(this,new Microsoft.Crm.Client.Core.Storage.DataApi.$95(n,t))},$2E:function(){if($0.$0(this.$8r))throw Error.create("viewid is required to call retrieve chart data");if($0.$0(this.$JJ))throw Error.create("visualizationId is required to call retrieve chart data");return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(23,this.get_$1d(),null,1,!1,this.$JJ.Id.toString()),this.get_$Y()),this.$$d_$2vj,this.$$d_$14o),1},$2vj:function(n){if(n.get_$3F6()>0)this.$SI=n.get_$R(0),this.$2jz(),this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,this.get_$1d(),null,1,!1,this.$8r.Id.toString()),this.get_$Y()),this.$$d_$2vh,this.$$d_$2qr);else{var t=new Microsoft.Crm.Client.Core.Framework.$50(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_NoReadPrivilege"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Message_0x80040220"));this.$13H(t)}},$2vh:function(n){var t,r,u,f;if(n.get_$3F6()>0){this.$I0=n.get_$R(0);t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveChartDataAction.ParserFetchData");t.start();r=this.$SI.get_$4r().datadescription;u=this.$I0.get_$E5().$CC(1);this.$2jw();try{this.$8u=new Microsoft.Crm.Client.Core.Models.Chart.$Kk(r,u);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("InteractionCentricMultiEntityChartsFeature")&&this.$3BD(this.$8u.$9f.$Fq.get_$1K())}catch(i){if(Microsoft.Crm.Client.Core.Framework.$50.$14A(i))f=Microsoft.Crm.Client.Core.Framework.$4d.$1GB(Microsoft.Crm.Client.Core.Framework.$50,i,"ChartError"),this.$13H(f);else throw i;}t.stop();this.$3D3()}else this.$14o(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147084511))},$2jw:function(){},$3BD:function(){},$2jz:function(){},$1vk:function(){var r,u,t,i,n,f;if(this.$A_3.get_$BV()){this.$14();return}r=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveChartDataAction.ProcessFetchData");r.start();this.$8u.$2F5();u=this.$20Y(this.$8u.get_$2IO());t=new Microsoft.Crm.Client.Core.Storage.DataApi.$2x(this.$8u.get_$1K());t.$KX=!0;t.$4W=this.$8u.$9f.$Fq.$CA;r.stop();i=[];Array.addRange(i,this.$8u.$9f.$2Bw());Array.add(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1jy(t,u,this.get_$Y()));n=this;f=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i),function(t){for(var r,f,u=null,i=0;i<t.length;i++)$0.$0(t[i])||Object.getType(t[i])!==Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection?(r=t[i].$1mk(),f=n.$8u.$9f.$tt[r[0].$P],r.length>0&&!$0.$0(f)&&f.$Nl.$156(r,!1)):u=t[i];u?n.$El(function(){n.$25X(u)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1D1):n.$14o(Microsoft.Crm.Client.Core.Framework.$7.$k("load chart data failure, EntityCollection is not found in results! "))},function(n){f.$25V(n)})},$20Y:function(n){var i=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Storage.DataApi.$2x)),t;return n&&(t=new Microsoft.Crm.Client.Core.Storage.DataApi.$2x(n),t.$4W=0,t.$KX=!0,i.set_$R("",t)),i},$2yY:function(n){return n},$25X:function(n){if(this.$A_3.get_$BV())this.$14();else if($0.$0(n))this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$k(String.format("Retrieve multiple returned null")));else{var r=this.$2yY(n),t=this.$A_3,i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveChartDataAction.BuildChartModel");i.start();$0.$0(t.$Jg)||(t.$Jg.$5E(),t.set_CrmChartBuilder(null));t.set_CrmChartBuilder(Microsoft.Crm.Client.Core.ViewModels.Controls.$8g.$2Qp(this.$I0,this.$SI,this.$8u.$9f,Microsoft.Crm.Client.Core.Models.$1j.$X(r)));this.$14();i.stop()}},$3D3:function(){var t=this.$8u.$9f.$32T(),n,i;t.length?(n=this,i=this,this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(t){n.$8u.$9f.$2Ej(t);n.$1vk()},function(n){i.$14o(n)})):(this.$8u.$9f.$2Ej(null),this.$1vk())},$14o:function(n){this.$1R(n);this.$2Oo();this.$1a6("RetrieveChartDataAction",n.$F)},$2Oo:function(){this.$I0=null;this.$SI=null;this.$8u=null},$2qr:function(n){this.$1R(n);this.$1a6("RetrieveViewData",n.$F)},$25V:function(n){var t,i;n.$m===-2147093999?(t=new Microsoft.Crm.Client.Core.Framework.$50(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Offline_Indicator_Text"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_UnavailableOffline")),this.$13H(t)):n.$m===-2147220960?(i=new Microsoft.Crm.Client.Core.Framework.$50(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_NoReadPrivilege"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_NoPermission_Message")),this.$13H(i)):(this.$1R(n),this.$1a6("RetrieveVizData",n.$F))},$13H:function(n){if(!$0.$0(this.$A_3)&&!this.$A_3.get_$BV()){var i=this.$A_3,t=new Microsoft.Crm.Client.Core.Models.Chart.$Kv;t.$5i=new Microsoft.Crm.Client.Core.Models.$JJ;t.$VJ=this.$I0?this.$I0.$1q:"";t.$H0=1;t.$Bs=new Microsoft.Crm.Client.Core.Framework.$L4;t.$Bs.$YM=n.get_$nn();t.$Bs.$YK=n.get_$11E();i.set_$qd(t)}this.$14()}};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveCommandSet",Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$Qn)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$Qn=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction,r;return i.$A_3=n,i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1jw,r=t,i.$IO=r.QueryValue,$0.$0(r.OnSuccess)||(i.$J=r.OnSuccess),$0.$0(r.OnFailure)||(i.$1b_3=r.OnFailure),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.prototype={$J:null,$IO:null,$Lg:null,$2E:function(){var n=this,t=this;return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(9,this.get_$1d(),null,1,!0,this.$IO),this.get_$Y()),function(t){if(t.get_$3F6()>0){var i=t.get_$R(0).get_$4r();n.$Lg=i}else n.$Lg=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("");n.$3d()},function(n){t.$4L(n)}),1},$3d:function(){var t,n,i;$0.$0(this.$Lg)||$0.$0(this.$J)?this.$14():(t=[],this.$1ox(t,this.$Lg.Controls),n=this,i=this,this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(){n.$J(new Microsoft.Crm.Client.Core.ViewModels.$63(n.$A_3,n.$Lg));n.$14()},function(n){i.$1R(n)}))},$4L:function(n){this.$1R(n)},$1ox:function(n,t){for(var i,u=t,f=u.length,r=0;r<f;++r)i=u[r],i.Children.length>0?this.$1ox(n,i.Children):$0.$0(i.CommandParameters)||$0.$0(i.CommandParameters.RetrievalAction)||Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$1wM.contains(i.Id)||Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&this.$A_3.$6i===1&&i.Id==="ProcessControlsButton"||Array.add(n,this.$32X(i))},$32X:function(n){var t=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor(n.CommandParameters.RetrievalAction,this.$A_3.get_$1u()+n.CommandParameters.ContextSuffix,!1,[1,2]),r=this;return i.OnSuccess=function(i){$0.$0(i)||$0.$0(i.$Cx)||(n.Children=i.$Cx.Controls);t.resolve(null)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$A_3,i),t.promise()}};Microsoft.Crm.Client.Application.ViewModels.$A6=function(){this.$$d_$2uh=Function.createDelegate(this,this.$2uh);this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$1fh=Function.createDelegate(this,this.$1fh);Microsoft.Crm.Client.Application.ViewModels.$A6.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$A6.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("LookupByName",Microsoft.Crm.Client.Application.ViewModels.$A6.$X)};Microsoft.Crm.Client.Application.ViewModels.$A6.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.$A6,i=n;return t.$J=i.$$d_$3d,t.$1b_3=i.$$d_$4L,t.$1hl=i.$$d_$1fr,t.$A_3=i,t.$Rx=i.$Hm,t.$P=i.$D,t};Microsoft.Crm.Client.Application.ViewModels.$A6.prototype={$J:null,$1hl:null,$P:null,$Rx:null,$YI:null,$2E:function(){var n=this.$A_3;return $0.$0(n.get_$Aa())?this.$Ma():this.$33l(),1},$Ma:function(){this.$1H(Microsoft.Crm.Client.Core.Storage.Common.$2G,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$P,this.get_$Y()),this.$$d_$1fh,this.$$d_$4L)},$1fh:function(n){var t=this.$A_3,u,r,f,o,i,s,h,e;$0.$0(t.get_$Aa())||t.get_$Aa().set_LookupDisplayName(n.get_$8z());u=null;$0.$0(t.get_$Aa())||$0.$0(t.get_$Aa().$JI)||(u=t.get_$Aa().$JI);r=Array.clone(t.get_$2TY());f=Array.clone(t.get_$2TZ());this.$YI=n.get_$Dn();$0.$0(u)&&(o=new Microsoft.Crm.Client.Core.Storage.DataApi.$MK(this.$P),u=o.$2Mj());i=Microsoft.Crm.Client.Core.ViewModels.$55.$8t.$1tV(u,this.$P,this.$YI,this.$A_3);$0.$0(this.$A_3.get_ModelContext())||this.$P!==this.$A_3.get_ModelContext().get_ModelName()||$0.$0(n)||$0.$0(n.get_$ES())||(s="<condition attribute='"+n.get_$ES()+"' operator='ne' value='"+this.$A_3.get_ModelContext().get_Id()+"' />",Array.add(r,s),Array.add(f,this.$P));Microsoft.Crm.Client.Core.Framework.$3.$9(t.get_$Aa().get_$1O1())||(t.get_$Aa().$1AP?i.$37B(t.get_$Aa().get_$1O1()):Array.add(r,t.get_$Aa().get_$1O1()));i.set_$Ra(1);i.$4W=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E()?Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$1No:25;t.get_$2I2()&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?(h=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,Microsoft.Crm.Client.Core.Framework.$6.get_$1d(),this.$P,1,!0,null,3),e=this,this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(h,this.get_$Y()),function(n){n.$1mk().length>0?(i.$2Eo(e.$Rx,r,f,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W(),!1),e.$336(t,i,n)):e.$2CC(i,r,f)},this.$$d_$4L)):this.$2CC(i,r,f)},$336:function(n,t,i){var o,u;if(this.$P in n.$ir)o=n.$ir[this.$P].$5M.get_$R("fetchXml").Data,u=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(t.get_$1K()),u.$1pd(o),this.$2CA(t,u.$fV());else for(var f=i.$1mk(),s=f.length,r=0;r<s;++r){var h=f[r],c=new Xrm.Objects.EntityReference("savedquery",new Microsoft.Crm.Client.Core.Framework.Guid(h.$q)),e=this,l=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(c,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["querytype"]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),this.get_$Y()).then(function(r){var f=Microsoft.Crm.Client.Core.Models.$c.$X(r),s=f.$I.fields.querytype,h=f.$I.fields.savedqueryid.toString(),u;if(s===4){for(u=0,u=0;u<i.get_$3F6();u++)if(i.get_$R(u).$q===h)break;n.$ir[e.$P]=i.get_$R(u).get_$E5();var c=i.get_$R(u),l=c.get_$E5().$5M.get_$R("fetchXml").Data,o=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(t.get_$1K());o.$1pd(l);e.$2CA(t,o.$fV())}},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Failed for RetrieveQuickFindMetadataAndLookupResults in LookupByNameAction with error : {0}",n.$F)})}},$2CA:function(n,t){var e,i,r,u,f;this.$Rx===""&&(this.$Rx="*");n.set_$1K(Microsoft.Crm.Client.Core.ViewModels.$1e.$1aW(t,this.$Rx));e=Microsoft.Crm.Client.Core.ViewModels.$1e.$136(n.get_$1K());$0.$0(e)&&!Microsoft.Crm.Client.Core.ViewModels.$1e.$14R(this.$Rx)?this.$3d(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(new Array(0),!1,0,!1)):(i="",r=Microsoft.Crm.Client.Core.ViewModels.$1e.$1Hi(n.get_$1K()),$0.$0(r)||(i=r.toString()),u=this,f=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(n,Microsoft.Crm.Client.Core.ViewModels.$k.get_$aC(),this.get_$Y()).done(function(n){u.$3d(n);var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskQuickFindSearchEvent");t.$h("EntityName",u.$P);t.$h("ColumnSet",i);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)}).fail(function(n){f.$4L(n);var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskQuickFindSearchFailedEvent");t.$h("EntityName",f.$P);t.$h("ColumnSet",i);t.$h("ErrorStatus",n.$F);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)}))},$3d:function(n){var r=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1Dx(this.$A_3,Microsoft.Crm.Client.Core.Models.$1j.$X(n)),i,t;for(this.$J(r),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$36)),t=0;t<n.get_count();t++)i.add(new Xrm.Objects.EntityReference(n.get_$R(t).$2A.LogicalName,n.get_$R(t).$2A.Id,n.get_$R(t).getValue(this.$YI)));this.$1hl(i.toArray());this.$14()},$4L:function(n){this.$1R(n)},$2CC:function(n,t,i){n.$2Eo(this.$Rx,t,i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W(),!0);this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(n,Microsoft.Crm.Client.Core.ViewModels.$k.get_$aC(),this.get_$Y()),this.$$d_$3d,this.$$d_$4L)},$33l:function(){var n=this.$A_3,t,i;n.get_$Aa().$2Ov();!$0.$0(n.get_$Aa().$Rf)&&!$0.$0(n.get_$Aa().$Rf.handlers)&&n.get_$Aa().$Rf.handlers.get_Count()>0?(t=this.$A_3.get_$Aa().$Rf,t.runCompleteCallback=this.$$d_$2uh,i=Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$mk.length,Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$9s(t),Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$mk.length>i&&this.$Ma()):this.$Ma()},$2uh:function(){this.$RS.get_$tN()&&this.$Ma()}};Microsoft.Crm.Client.Application.ViewModels.$6q=function(){Microsoft.Crm.Client.Application.ViewModels.$6q.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.$6q.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("CreateRecord",Microsoft.Crm.Client.Application.ViewModels.$6q.$X)};Microsoft.Crm.Client.Application.ViewModels.$6q.$X=function(n){return Microsoft.Crm.Client.Application.ViewModels.$6q.$10t(n)};Microsoft.Crm.Client.Application.ViewModels.$6q.$10t=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.$6q,i,r,u;return Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d.isInstanceOfType(n)&&(i=n,t.$A_3=i,r=i,t.$J=r.$$d_$27X||(r.$$d_$27X=Function.createDelegate(r,r.$27X)),u=i,t.$1b_3=u.$$d_$27U||(u.$$d_$27U=Function.createDelegate(u,u.$27U)),t.set_$VL(i.get_$VL()),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&i.get_$2Xe()===1&&(t.$nH=2)),t};Microsoft.Crm.Client.Application.ViewModels.$6q.prototype={$J:null,$1OZ:null,$1OY:null,$Ma:function(){var t=this.$A_3.get_ModelContext(),n;return!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5()&&!Microsoft.Crm.Client.Core.ViewModels.$a.$HM(t.$I.$a.LogicalName)?(this.$1P8(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093996)),1):(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("CreateRecordActionInitiated",0,this.$A_3.get_ViewModelId()),n=this,this.$1H(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$X(t.$I,this.get_$VL(),this.get_$Y()),function(i){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("CreateRecordActionFinished",0,n.$A_3.get_ViewModelId());n.$1H(Microsoft.Crm.Client.Core.Storage.Common.$2G,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(t.$I.$a.LogicalName,n.get_$Y()),function(r){var f,u;Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d.isInstanceOfType(n.$A_3)?(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(n.$A_3.get_$2M4()),u.contains(r.get_$Dn())||u.add(r.get_$Dn()),f=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(u.toArray())):f=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([r.get_$Dn()]);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()?n.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(i,f,Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz(),n.get_$Y()),function(t){n.$1t5(t,r.get_$Dn())},n.$$d_$1P8):n.$1t5(t.$I,r.get_$Dn())},n.$$d_$1P8)},this.$$d_$1P8),1)},$14:function(){$0.$0(this.$J)||this.$J(this.$1OZ,this.$1OY);Microsoft.Crm.Client.Core.ViewModels.$RA.prototype.$14.call(this)},$Oh:function(){this.$1OZ=null;this.$1OY=null;Microsoft.Crm.Client.Core.Framework.$AJ.prototype.$Oh.call(this)},$1t5:function(n,t){Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$A_3.get_ModelContext())&&this.$A_3.get_ModelContext().$5E();var i=Microsoft.Crm.Client.Core.Models.$c.$X(n),r=i.$I.$a;this.$A_3.set_ModelContext(i);this.$1OZ=i;this.$1OY=new Xrm.Objects.EntityReference(r.LogicalName,r.Id,i.$I.getValue(t));Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.$e.$1V9(i);this.$14()}};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction=function(){this.$$d_$2U7=Function.createDelegate(this,this.$2U7);this.$$d_$2U8=Function.createDelegate(this,this.$2U8);Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("DeleteRecord",Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$X)};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction,r=t;return i.$M=r.QueryValue,i.$J=r.OnSuccess,i.$1b=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.prototype={$J:null,$1b:null,$M:null,$2E:function(){var n=new Xrm.Objects.EntityReference(this.$M.entityName.toString(),new Microsoft.Crm.Client.Core.Framework.Guid(this.$M.entityId.toString()));return this.$1H(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.Delete(n,this.get_$Y()),this.$$d_$2U8,this.$$d_$2U7),1},$2U8:function(n){Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&Microsoft.Crm.Client.Core.ViewModels.$e.$2BG(n);this.$J(n);this.$14()},$2U7:function(n){this.$1b(n);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("Customization",Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$2fT)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$2fT=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction;return i.$1W=t,i.$A_3=n,i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1jx,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.prototype={$J:null,$1W:null,$2E:function(){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(6,this.get_$1d(),null,1,!1,this.$1W),this.get_$Y()),i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(25,this.get_$1d(),null,1,!1,this.$1W),this.get_$Y()),n=this,r=this;return this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,i),function(t){var i=null,r=null,u;t[0].get_$3F6()>0&&!$0.$0(t[0].get_$R(0))&&(String.isInstanceOfType(t[0].get_$R(0).get_$4r())?r=t[0].get_$R(0).get_$4r():i=t[0].get_$R(0).get_$4r());t[1].get_$3F6()>0&&!$0.$0(t[1].get_$R(0))&&(String.isInstanceOfType(t[1].get_$R(0).get_$4r())?r=t[1].get_$R(0).get_$4r():i=t[1].get_$R(0).get_$4r());u=new Microsoft.Crm.Client.Core.Models.$2d(n.$1W,i,r);$0.$0(n.$J)||n.$J(u);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$2v1(n,u);n.$14()},function(n){r.$7S(n)}),1},$7S:function(n){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$2v0(this);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveOptionSetMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction,e=t,r=n,u,f;return i.$J=r.$$d_$1hW,i.$A_3=r,i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1kF,Microsoft.Crm.Client.Core.ViewModels.$4Z.isInstanceOfType(n)&&Microsoft.Crm.Client.Core.ViewModels.$3X.isInstanceOfType(n.$2)?(u=n.$2.get_ModelContext(),f=e.QueryValue,i.$z=u.$12a(f).get_$HV(),i.$AR=u.$1zm(f)):(i.$z=r.$D,i.$AR=e.QueryValue),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.prototype={$J:null,$z:null,$AR:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(this.$z,[this.$AR]),this.get_$Y()),this.$$d_$3d,this.$$d_$4L),1},$9r:function(n){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x)),r=n.$P5,t,u,f;for(t in r)u={key:t,value:r[t]},f=u.value,i.add(f);return i.toArray()},$3d:function(n){var t,i,r;n.get_$3F6()===1&&n.get_$R(0).get_$2I()===this.$AR?(t=n.get_$R(0),i=t.get_$9r(),$0.$0(i)?this.$4L(Microsoft.Crm.Client.Core.Framework.$7.$k("OptionSet is null on the returned IAttributeMetadata")):(r=this.$9r(i),$0.$0(this.$J)||this.$J(r,t.get_$1EZ()===-1,t.get_$1EZ()),this.$14())):this.$4L(Microsoft.Crm.Client.Core.Framework.$7.$k(String.format("The metadata array does not have requested arribute name {0}",this.$AR)))},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction=function(){this.$$d_$28L=Function.createDelegate(this,this.$28L);this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$2Vx=Function.createDelegate(this,this.$2Vx);this.$$d_$4L=Function.createDelegate(this,this.$4L);Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.initializeBase(this);this.$18L={};this.$W8=2;Microsoft.Crm.Client.Core.Framework.$6.get_$f()||(this.$18L["00000000-0000-0000-00aa-000010001039"]=this.$$d_$2Vx);this.$4V=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W()};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("FetchXml",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1GC);Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("FetchXmlForGrid",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2YN);Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("QueryId",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2YR);Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("FetchXmlWithDates",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2WX);Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("FetchXmlWithCallback",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2WW);Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("FetchXmlForSubject",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2YO);Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("FetchXmlWithPlaceholders",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2WY)};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2YO=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1GC(n,t),r=t;return i.$A_3=n,i.$W8=2,i.$J=function(n){r.OnSuccess(n)},i.$1b_3=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2WW=function(n,t){var u=n,r=t,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction;return i.$4y=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$QT(u),i.$J=function(n){r.OnSuccess(n)},i.$1b_3=r.OnFailure,i.$A_3=u,i.$F7=r.QueryValue.toString(),i.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(r.QueryValue.toString()),i.$C3=u.$1Z.$9S+1,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1GC=function(n,t){var i=n,u=t,r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction,f;return r.$4y=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$QT(i),r.$J=i.$$d_$3d,r.$1b_3=i.$$d_$4L,r.$A_3=i,r.$F7=i.get_DefinitionId(),f=Microsoft.Crm.Client.Core.Storage.Common.$15.$AD(i.$D),r.$2O=$0.$0(u.QueryValue)?i.$2O:Array.isInstanceOfType(u.QueryValue)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$10s(u.QueryValue,16,f):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(u.QueryValue.toString()),r.$C3=i.$1Z.$9S+1,r};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2YN=function(n,t){var r=n,f=t,i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction,u;return i.$4y=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$QT(r),i.$J=r.$$d_$3d,i.$1b_3=r.$$d_$4L,i.$A_3=r,i.$F7=r.get_DefinitionId(),Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(r)&&(i.$F7+=r.get_$2M6()),i.$2O=$0.$0(f.QueryValue)?r.$2O:Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(f.QueryValue.toString()),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(n)&&(u=n,u.$Cn&&(i.$F7+=u.get_ViewModelId(),$0.$0(i.$2O)||(i.$2O=u.$2Ci(i.$2O)))),i.$C3=r.$1Z.$9S+1,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2YR=function(){throw Error.notImplemented();};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2WX=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1GC(n,t),r;return i.$F7=i.$F7+Math.random().toString(),r=i.$2O.$CC(1),Microsoft.Crm.Client.Core.Framework.$3.$9(r)||(r=r.replace("{_NOW_}",Microsoft.Crm.Client.Core.Framework.$1I.$2Yz(Microsoft.Crm.Client.Core.Framework.$1I.get_$1ge())),i.$2O.$PZ(1,r)),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$2WY=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1GC(n,t),r,u;return i.$F7=i.$F7+Math.random().toString(),r=i.$2O.$CC(1),Microsoft.Crm.Client.Core.Framework.$3.$9(r)||(u=new RegExp("\\{([^\\}]*)\\}","gm"),r=r.replace(u,function(){var t=arguments[1],i=new Microsoft.Crm.Client.Core.Framework.$C3(t,Number,Microsoft.Crm.Client.Core.Framework.$6g);return n.$d(i)}),i.$2O.$PZ(1,r)),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1Dx=function(n,t){return n.$2n||n.$1CH(t),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$QT=function(n){var t,i;return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n.get_Root())||Object.getType(n).getName().indexOf("QueuePanelViewModel")>-1?(t=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$w1,Object.getType(n).getName().indexOf("QueuePanelViewModel")>-1&&(i=n.get_Root().$5Q(n),n.get_Name().endsWith("0")&&($0.$0(i)||i.$L.endsWith("0"))||t--),t):Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1k5};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1uZ=function(n){return Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n.get_Root())?Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1k6:Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1Ol};Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.prototype={$4V:null,$J:null,$1V:null,$18L:null,$Z1:!1,$2O:null,$F7:null,$C3:0,$W8:0,get_$24d:function(){var n=this.$A_3;return!$0.$0(n.get_DefinitionId())&&n.get_DefinitionId().toLowerCase()in this.$18L},$2E:function(){var t=this.$A_3,i,r,n;return $0.$0(this.$2O)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$2O.$CC(1))?(i=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.get_DefinitionId()),r=i.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())?new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,this.get_$1d(),this.$A_3.get_$1u(),1,!0,null,1):new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,this.get_$1d(),this.$A_3.get_$1u(),t.$9a,!1,i.toString()),Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&i.equals(Microsoft.Crm.Client.Core.Framework.Guid.get_empty())&&!$0.$0(this.$A_3)&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$A_3)&&this.$A_3.$78&&(r=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,this.get_$1d(),this.$A_3.get_$1u(),t.$9a,!1,null,1)),n=this,this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(r,this.get_$Y()),function(i){i.get_$3F6()?(n.$2O=i.get_$R(0).get_$E5(),n.$2O=t.$2Ci(n.$2O),n.$1qt(n.$2O)):n.$4L(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147094003))},this.$$d_$4L)):this.$1qt(this.$2O),1},$1qt:function(n){var i,r,u,t,e,f;if(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5()){i=[];r=Microsoft.Crm.Client.Core.Storage.DataApi.$D.get_$6().$34.get_$6a().$Ha;for(u in r)t={key:u,value:r[u]},Microsoft.Crm.Client.Core.ViewModels.$a.$HM(t.key)&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$24S(t.key)&&(e=null,Array.add(i,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(t.key,e),null)));f=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i),function(t){for(var r,u=t,e=u.length,i=0;i<e;++i)r=u[i],f.$4V.$Wp(r.get_$R(0).get_$YF(),!0,r);f.$1Zo(n)},this.$$d_$4L)}else this.$1Zo(n)},$1Zo:function(n){var t,i,r;if($0.$0(n))this.$4L(Microsoft.Crm.Client.Core.Framework.$7.$f9(0));else if(Microsoft.Crm.Client.Core.ViewModels.$a.$2pX(this.$2O,this.$A_3.get_$1u())){if(t=this.$A_3,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(t)&&t.$Cn||(t.$2O=n),this.$A_3.get_$BV()){this.$14();return}this.$1V=this.$1De(n);this.get_$24d()?this.$18L[t.get_DefinitionId().toLowerCase()]():Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.isInstanceOfType(this.$A_3)?(i=this,r=this,this.$1H(Microsoft.Crm.Client.Core.Storage.Common.$2G,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(t.$D,this.get_$Y()),function(n){i.$1V.$2Jm(n.get_$ES());i.$Ma()},function(n){r.$1R(n)})):this.$Ma()}else this.$4L(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093989))},$Ma:function(){var t,i,u=!0,f,n,e,o;if(Microsoft.Crm.Client.Core.ViewModels.ListComponentViewModel.isInstanceOfType(this.$A_3)&&(f=this.$A_3,u=f.$17s),this.$1V.$P==="knowledgearticle"&&(u=!1),this.$1V.$C3===1&&u?$0.$0(this.$A_3.get_Root())||this.$A_3.get_Root().$g!==1?(t=1,i=this.$W8):(t=0,i=this.$W8):(t=2,i=1),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.isInstanceOfType(this.$A_3)&&(n=this.$A_3,this.$1V.$Kn=n.$Kn,this.$1V.$tF=n.$tF,n.$Cn&&n.$ym)){n.$ym=!1;this.$3d(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(new Array(0),!1,0,!1));return}if(this.$1V.$P==="knowledgearticle"&&this.$1V.$tF&&!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$1V.$Kn)){var s=Sys.Net.XMLDOM(this.$1V.get_$1K()),h=s.getElementsByTagName("filter")[1],r=this.$EG(h.childNodes[0],"value");r=r.substring(0,r.length-1);this.$1V.$Kn===r&&(e=this.$2WV(this.$1V.$C3,this.$1V.$4W),o=this,this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.FullTextSearchKnowledgeArticleRequest(this.$1V.$Kn,!0,!0,-1,e),this.get_$Y()),function(n){o.$3d(n.entityCollection)},this.$$d_$4L))}this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(this.$1V,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(t,i,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1()),this.get_$Y()),this.$$d_$3d,this.$$d_$4L)},$2Vx:function(){var n=this;this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.RollupRequest(this.$A_3.get_ModelContext().get_$Q7(),this.$1V.get_$1K(),1),this.get_$Y()),function(t){n.$3d(t.entityCollection)},this.$$d_$4L)},$1De:function(n){var t=this.$A_3,i=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(n,this.$F7),e,h,c,f,u,r;if(Microsoft.Crm.Client.Core.ViewModels.$DE.isInstanceOfType(t)&&(e=t,i.$2Ey(e.get_$1lq(),this.$4V),!$0.$0(i.$3q)&&Microsoft.Crm.Client.Core.Framework.$3.$9(e.get_$1lq().$8Q)&&e.set_$1lq(i.$3q)),Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(t)){for(h=t,c=new Array(0),f=0;f<h.$Bm.length;f++)c[f]=h.$Bm[f].name;i.$372(c)}if(!this.get_$24d()){if(u=$0.$0(t.get_$1B())?"":t.get_$1B().get_Id(),Microsoft.Crm.Client.Core.ViewModels.CustomControlDataSetViewModel.isInstanceOfType(t)&&!$0.$0(t.get_$1B())&&!$0.$0(t.$e6)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(t.$e6)){u="";var o=null,l=t.$e6,s=l.split(".");s.length>1?t.get_$1B().get_ModelName()===s[0]?o=t.get_$1B().GetValue(s[1]):u=t.get_$1B().get_Id():s.length===1&&(o=t.get_$1B().GetValue(l));$0.$0(o)||(u=o.Id.toString())}Microsoft.Crm.Client.Core.ViewModels.GridViewModel.isInstanceOfType(this.$A_3)?i.$17j(u,t.$88,t.$22,t.$Bf,this.$4V):Microsoft.Crm.Client.Core.Framework.$3.$9(t.$88)&&Microsoft.Crm.Client.Core.Framework.$3.$9(t.$Bf)&&Microsoft.Crm.Client.Core.Framework.$3.$9(t.$22)||(Microsoft.Crm.Client.Core.ViewModels.HierarchyListViewModel.isInstanceOfType(t)&&t.$22w&&(r=t,r.$G2.get_Count()>0&&(u=r.$G2.get_$R(r.$G2.get_Count()-1),r.$1ig!==r.get_$1B().get_Id()&&(r.$G2.$86(),r.$1ig=r.get_$1B().get_Id()))),i.$17j(u,t.$88,t.$22,t.$Bf,this.$4V))}return i.set_$Ra(this.$C3),i.$4W=t.$1Z.$4W,i.$KX=!0,i},$3d:function(n){var t,i,u,r;this.$vz=$0.$0(n.$4a)?null:n.$4a.$Cj;this.$Z1=!0;t=this.$A_3;$0.$0(this.$J)||t.$2h?this.$14():(i=this.$1E1(n),i.$mP=this.$$d_$28L,u=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1Dx(t,i),r=this,this.$El(function(){r.$J(u);r.$14()},Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1uZ(this.$A_3)))},$1E1:function(n){return Microsoft.Crm.Client.Core.Models.$1j.$X(n)},$4L:function(n){if(n.$m===-2147093999){var t=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();t.$1V=this.$1V;this.$3d(t)}else this.$1R(n)},$28L:function(n){$0.$0(this.$A_3)||this.$A_3.get_$BV()||n.$m===-2147093999||(this.$Z1&&this.$A_3.$MZ(n),Microsoft.Crm.Client.Core.Framework.Trace.logError(1,n.$F))},$EG:function(n,t){return n.attributes.getNamedItem(t).nodeValue},$2WV:function(n,t){return String.format("<fetch mapping='logical' returntotalrecordcount='true' page='{0}' count='{1}'><entity name='knowledgearticle'><attribute name='knowledgearticleid' /><attribute name='articlepublicnumber' /><attribute name='title' /><attribute name='description' /><attribute name='content' /><attribute name='knowledgearticleviews' /><attribute name='createdon' /><attribute name='modifiedon' /><attribute name='statecode' /><attribute name='statuscode' /><attribute name='expirationdate' /><attribute name='languagelocaleid' /><attribute name='majorversionnumber' /><attribute name='minorversionnumber' /><attribute name='islatestversion' /><\/entity><\/fetch>",n,t)}};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("PinnedTiles",Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$X=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction;return t.$J=i.$$d_$3d,t.$1b_3=i.$$d_$4L,t.$A_3=i,t.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1kJ,t.$Hl=i.$2.$1W.toLowerCase()===Microsoft.Crm.Client.Core.Framework.$1.toString(1)?Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString():i.$2.$q,t.$1eS=$0.$0(i.$2n),t};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$1Dx=function(n,t){return $0.$0(n.$2n)&&n.$1CH(t),t};Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.prototype={$J:null,$Hl:null,$1eS:!1,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$56,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$nB(new Microsoft.Crm.Client.Core.Framework.Guid(this.$Hl),this.get_$Y()),this.$$d_$3d,this.$$d_$4L),1},$3d:function(n){var r=this.$A_3,i=Microsoft.Crm.Client.Core.Models.$6d.$X(n),t;Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$1Dx(r,i);!$0.$0(this.$J)&&this.$1eS?(t=this,this.$El(function(){t.$J(i);t.$1ux(n)},this.get_$KL())):this.$1ux(n)},$1ux:function(n){var i,t,e,o;if(n.$SA.length){var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38)),u=[],f=[];for(i=0;i<n.$SA.length;i++)t=n.$SA[i],t.$C8==="Workspace".toUpperCase()||t.$C8==="PowerBIFullScreenPage".toUpperCase()||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(t.$C8,1)||r.add(t),t.$C8==="Workspace".toUpperCase()&&(e=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(1,this.get_$1d(),"Workspace".toUpperCase(),0,!0,t.$Ci.toString()),Array.add(u,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(e,this.get_$Y())),Array.add(f,t));o=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(u),function(n){for(var t=0;t<n.length;t++)$0.$0(n[t].get_$R(0))&&r.add(f[t]);o.$2yI(r)},this.$$d_$4L)}else this.$14()},$2yI:function(n){if(n.get_Count()>0){var t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$56(new Microsoft.Crm.Client.Core.Framework.Guid(this.$Hl),n.toArray()),i=this;this.$1H(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1Ef(t,this.get_$Y()),function(){i.$14()},this.$$d_$4L)}else this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction=function(){this.$$d_$2uo=Function.createDelegate(this,this.$2uo);this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_$4L=Function.createDelegate(this,this.$4L);Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveRecord",Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$1wk);Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveRecordFromCustomControlDataSet",Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$2YI)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$1wk=function(n,t){var f,r,e;Microsoft.Crm.Client.Core.Framework.Utils.$A.$1mg(Microsoft.Crm.Client.Core.ViewModels.$6Z.isInstanceOfType(n),"Action context is not IAttributeFormViewModel");var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction,u=n,o=n;if(i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hU,i.$A_3=u,f=t,i.$1jN=f.QueryValue,i.$4b=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(n.get_AttributeFieldNames()),i.$4a=n.get_RetrieveOptions(),r=o.get_ExternalContext(),$0.$0(r)||$0.$0(r.$M)||$0.$0(r.$M.EntityReference))if($0.$0(u.get_$1B()))throw Error.argumentNull("reference","Missing reference for retrieve request.");else e=u.get_ModelContext(),i.$AK=e.get_$Q7();else i.$AK=r.$M.EntityReference;return i};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$2YI=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction,f=n,r=t,e=r.QueryValue,u;if(i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hU,i.$A_3=f,i.$4b=e.$1Sh,i.$4a=e.$1Sd,$0.$0(r.OnSuccess)||(i.$J_6=function(n){r.OnSuccess(n)}),$0.$0(r.OnFailure)||(i.$1b_3=r.OnFailure),$0.$0(f.get_$1B()))throw Error.argumentNull("reference","Missing reference for retrieve request.");else u=f.get_ModelContext(),i.$AK=$0.$0(u.$53)?u.get_$4m():u.get_$Q7();return i};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.prototype={$J_6:null,$AK:null,$1jN:null,$4b:null,$Z1:!1,$4a:null,$2E:function(){var r=new Array(0),u=this.$1jN,n,t,i;for(n in u)t={key:n,value:u[n]},r.push(new(Microsoft.Crm.Client.Core.Framework.$6E.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship,String))(new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Relationship(t.key,0),t.value));return i=this.$A_3,this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$Uv(this.$AK,this.$4b,this.$4b,r,this.$4a,this.get_$Y(),Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(i)?i.$1tm(this.$AK):null),this.$$d_$3d,this.$$d_$4L),1},$3d:function(n){var t=this.$A_3;this.$Z1=!0;$0.$0(n)||this.$A_3.get_$BV()?t.set_ModelContext(null):(this.$vz=$0.$0(n.$4a)?null:n.$4a.$Cj,$0.$0(t.get_ModelContext())||t.get_ModelContext().get_Id()!==n.$2A.get_identifier()?t.set_ModelContext(Microsoft.Crm.Client.Core.Models.$c.$X(n)):t.get_ModelContext().$9W(n),t.get_ModelContext().$mO=this.$$d_$2uo);$0.$0(this.$J_6)||this.$J_6(t.get_ModelContext());this.$14()},$4L:function(n){$0.$0(this.$A_3.get_ModelContext())?n.$m=-2147220969:n.$m===-2147093999&&(n.$m=-2147093997);this.$1R(n)},$2uo:function(n){$0.$0(this.$A_3)||this.$A_3.get_$BV()||Microsoft.Crm.Client.Core.Framework.$5I.$1Jz(n.$m)||($0.$0(this.$A_3.get_ModelContext())&&(n.$m=-2147220969),this.$Z1&&this.$A_3.$MZ(n),Microsoft.Crm.Client.Core.Framework.Trace.logError(1,n.$F))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction=function(){this.$$d_$Hd=Function.createDelegate(this,this.$Hd);this.$$d_$2uJ=Function.createDelegate(this,this.$2uJ);Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RelationshipPinnedTiles",Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$X=function(n,t){var r=n,i,u;return r.$6A.set_$wI(!1),i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction,u=t,i.$J=r.$$d_$3d,i.$1b_3=r.$$d_$4L,i.$A_3=r,i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1kM,i.$1O2=u.QueryValue,i.$197=!1,i.$ty=i.$$d_$2uJ,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$1Dx=function(n,t){return n.$2n||n.$1CH(t),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.prototype={$vf:null,$mx:null,$J:null,$1O2:null,$ty:null,$197:!1,$2E:function(){if(Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$A_3.get_ModelContext())){if(this.$26R())return this.$Ma(),1;this.$A_3.get_ModelContext().get_Id()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()?this.$A_3.apcl("ModelContext",this.$$d_$Hd):this.$A_3.get_ModelContext().add_$7v(this.$ty);this.$197=!0}else this.$3d(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38)));return 1},$Oh:function(){this.$vf=null;this.$mx=null;this.$197&&(this.$A_3.rpcl("ModelContext",this.$$d_$Hd),this.$A_3.get_ModelContext().remove_$7v(this.$ty),this.$14());Microsoft.Crm.Client.Core.Framework.$AJ.prototype.$Oh.call(this)},$Hd:function(){this.$A_3.get_ModelContext().add_$7v(this.$ty)},$2uJ:function(){this.$26R()&&(this.$197=!1,this.$A_3.rpcl("ModelContext",this.$$d_$Hd),this.$A_3.get_ModelContext().remove_$7v(this.$ty),this.$Ma())},$26R:function(){if(Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(this.$A_3.get_ModelContext())){var n=this.$A_3.get_ModelContext();if(n.$U4||n.$Ki||this.$A_3.get_Root().get_LaunchedWithUnsavedChanges())return!0}return!1},$Ma:function(){var n=this;this.$El(function(){var u=n.$A_3.get_Root().get_ModelContext(),i,r,t,f;for(u&&u.$I&&(n.$mx=u.$I,n.$mx.$5c&&(n.$vf=n.$mx.$5c)),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38)),r=0;r<n.$1O2.length;r++)t=n.$1O2[r],f=t.BindingName,t.IsRelationshipTile?n.$2Mx(new Microsoft.Crm.Client.Core.Framework.Guid(n.$A_3.get_Root().$q),i,t):f==="self_referential"&&n.$mx?n.$2My(new Microsoft.Crm.Client.Core.Framework.Guid(n.$A_3.get_Root().$q),i,t):n.$2Ms(new Microsoft.Crm.Client.Core.Framework.Guid(n.$A_3.get_Root().$q),i,t);n.$3d(i)},this.get_$KL())},$3d:function(n){var i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$56(new Microsoft.Crm.Client.Core.Framework.Guid(this.$A_3.get_Root().$q),n.toArray()),t=Microsoft.Crm.Client.Core.Models.$6d.$X(i),r=this.$A_3;Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$1Dx(r,t);this.$J(t);this.$14()},$2Mx:function(n,t,i){var u=-1,r,f;$0.$0(i.RelationshipType)||(u=i.RelationshipType);r=-1;$0.$0(i.RelationshipRoleOrdinal)||(r=i.RelationshipRoleOrdinal);f=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38.$1tO(n,i.TargetEntityName,new Microsoft.Crm.Client.Core.Framework.Guid(i.DefinitionId),2,i.ContextFilter,0,i.DisplayName,i.RelationshipName,i.RelationshipExtraCondition,u,i.ReferencingName,r);t.add(f)},$2My:function(n,t,i){var r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38.$1Dv(n,this.$mx);r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$Ov(r,i);r.$JG=1;t.add(r)},$2Ms:function(n,t,i){var f=i.BindingName,e=this.$vf&&this.$vf.getByRelationshipName(f)?this.$vf.getByRelationshipName(f).get_$R(0):null,u,o,s,r,h;e&&(u=new Microsoft.Crm.Client.Core.Models.Tiles.Validators.$Ks,u.set_$303(i),o=u.$6W("CommunicationCardFieldNames"),s=u.$6W("FieldName"),s.$57&&(h=i.FieldName,o.$57?(r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38.$1Dv(n,e),r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.Tiles.Decorators.$Ov(r,i),r.$JG=1):r=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$38.$2SE(n,e,h),r.$hL=f,t.add(r)))}};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$tc=Function.createDelegate(this,this.$tc);Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveTargetEntityMetadata",Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$X)};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction,u=n,f,r;return i.$J=u.$$d_$1fr,i.$A_3=u,f=t,r=f.QueryValue,i.$P=r.entityLogicalName,i.$x4=r.targetAttribute,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.prototype={$J:null,$P:null,$x4:null,$2E:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(this.$P,[this.$x4]);return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(n,this.get_$Y()),this.$$d_$tc,this.$$d_$4L),1},$tc:function(n){var t=this;this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2G),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$hT(this.get_$Y()),function(i){t.$3d(i,new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(n.get_$R(0).get_$1RD()))},this.$$d_$4L)},$3d:function(n,t){for(var i,f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Object)),u={},r=0;r<n.get_$3F6();r++)u[n.get_$R(r).get_$2I()]=n.get_$R(r);for(i=0;i<t.get_Count();i++)t.get_$R(i)in u&&f.add(u[t.get_$R(i)]);this.$J(f);this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.$Au=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.$Au.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$Au.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveUserContext",Microsoft.Crm.Client.Application.ViewModels.$Au.$X)};Microsoft.Crm.Client.Application.ViewModels.$Au.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.$Au;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.$Au.prototype={$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.DataApi.$2B,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$nD(),this.$$d_$3d,this.$$d_$4L),1},$3d:function(){this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction=function(){this.$$d_$2qs=Function.createDelegate(this,this.$2qs);this.$$d_$2l1=Function.createDelegate(this,this.$2l1);Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("RetrieveWebResouces",Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$2ix)};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$2ix=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction;return i.$Tl=t,i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1kS,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.prototype={$Tl:null,$2E:function(){var t,n=new Array(0),i,r,u;if(!$0.$0(this.$Tl.$Op))for(i=0;i<this.$Tl.$Op.length;i++)t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(20,this.get_$1d(),"webresource",1,!1,this.$Tl.$Op[i]),this.get_$Y()),Array.add(n,t);if(!$0.$0(this.$Tl.$Oq))for(r=0;r<this.$Tl.$Oq.length;r++)t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(29,this.get_$1d(),"staticjsfile",1,!1,this.$Tl.$Oq[r]),this.get_$Y()),Array.add(n,t);switch(n.length){case 0:return this.$1cn(new Array(0)),0;case 1:this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),n[0],this.$$d_$2l1,this.$$d_$2qs);break;default:u=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),function(n){return u.$1cn(n)},this.$$d_$2qs)}return 1},$2l1:function(n){this.$1cn([n])},$1cn:function(n){for(var t=0;t<n.length;t++)$0.$0(n[t].get_$R(0))||$0.$0(n[t].get_$R(0).get_$4r())||this.$Tl.scriptsToLoad.add(n[t].get_$R(0).get_$4r().toString());this.$2qt(this.$Tl)},$2qt:function(n){Microsoft.Crm.Client.Core.ViewModels.CustomScriptsContainerViewModel.get_$6().$2u0(this,n);this.$65(null)},$2qs:function(n){this.$65(Error.create(String.format("RetrieveWebResourcesAction has failed with error {0}",n.$F)))}};Microsoft.Crm.Client.Application.ViewModels.$Rs=function(n){this.$$d_$1P8=Function.createDelegate(this,this.$1P8);Microsoft.Crm.Client.Application.ViewModels.$Rs.initializeBase(this);this.$nH=n};Microsoft.Crm.Client.Application.ViewModels.$Rs.prototype={$nH:0,$S8:!1,$1mB:!1,get_$VL:function(){return this.$S8||!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().get_device().get_DeviceState().get_$2Uh()},set_$VL:function(n){return this.$S8=n,n},$2E:function(){var n=this;return this.$1H(Boolean,this.$2Cf(),function(t){t?n.$Ma():n.$14()},this.$$d_$1P8),1},$1P8:function(n){this.$1R(n)},$2Cf:function(){if(!$0.$0(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v)&&Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$v.$21G().get_Count()>0&&(!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("EditableGridControlJsEvents")||!this.$1mB))return Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$2Cf(new Microsoft.Crm.Client.Core.ViewModels.$Qj(this.$nH));var n=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7);return n.resolve(!0),n.promise()}};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction=function(){Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("ScriptErrorRequest",Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$2iz)};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$2iz=function(n,t){var r=t,i=new Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction;return i.$A_3=n,i.$1fT=Number.parseInvariant(r.lineNumber.toString()),i.$1aN=r.func.toString(),i.$Et=r.fileName.toString(),i.$1jZ=r.report.toString(),i.$1jb=Boolean.parse(r.reportToWatson.toString()),i.$1Za=Number.parseInvariant(r.errorReportingPreference.toString()),i.$1VN=Boolean.parse(r.addServerInformation.toString()),i};Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.prototype={$1fT:0,$1aN:null,$Et:null,$1jZ:null,$1jb:!1,$1Za:0,$1VN:!1,$2E:function(){var n=this,t=this;return this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Sdk.$HD(this.$1fT,this.$1aN,this.$Et,this.$1jZ,this.$1jb,this.$1Za,this.$1VN),this.get_$Y()),function(){n.$14()},function(n){t.$1R(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction=function(){this.$$d_$7S=Function.createDelegate(this,this.$7S);this.$$d_$DI=Function.createDelegate(this,this.$DI);Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("SetCreateModelFromRetrievedEntity",Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$X)};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction,i=n;return t.$A_3=i,t.$18=i.get_ModelContext(),t.$4I=i.$4I,t.$Eq=i.$K.$8n.get_ModelContext().$I,t.$J=i.$$d_$2vH,t};Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.prototype={$4I:null,$J:null,$Eq:null,$18:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(this.$Eq.$a,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I),Microsoft.Crm.Client.Core.ViewModels.$k.get_$aC(),this.get_$Y()),this.$$d_$DI,this.$$d_$7S),1},$DI:function(n){if(!$0.$0(this.$J)){var t=Microsoft.Crm.Client.Core.Models.$c.$X(n);t.$1Pv();this.$18=t;this.$J(this.$18)}this.$14()},$7S:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction=function(){this.$$d_$7S=Function.createDelegate(this,this.$7S);this.$$d_$DI=Function.createDelegate(this,this.$DI);Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("SetQuickCreateEntityReference",Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$X)};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction,i=n;return t.$A_3=i,t.$18=i.get_ModelContext(),t.$Ek=i.$Ek,t.$Eq=i.$K.$8n.get_ModelContext().$I,t.$J=i.$$d_$2v2,t};Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.prototype={$Ek:null,$J:null,$Eq:null,$18:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.$2G,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x(this.$Eq.$a.LogicalName,this.get_$Y()),this.$$d_$DI,this.$$d_$7S),1},$DI:function(n){if(!$0.$0(this.$J)){var t=new Xrm.Objects.EntityReference(this.$Eq.$a.LogicalName,this.$Eq.$a.Id,this.$Eq.getValue(n.get_$Dn()));this.$18.SetValue(this.$Ek,t);this.$J(this.$18)}this.$14()},$7S:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction=function(){Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("SetStateRequest",Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$2Rk)};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$2Rk=function(n,t){var i=t;return Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$10t(n,i.statecode,i.entitylogicalname.toString())};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$10t=function(n,t,i){var r=new Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction;return r.$A_3=n,r.$S7=Number.parseInvariant(t.toString()),r.$P=i,r};Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.prototype={$S7:0,$P:null,$Ma:function(){var n,t,i;if(Microsoft.Crm.Client.Core.ViewModels.$a.$G5(this.$P))if(n=this.$A_3.get_ModelContext(),t=-1,Xrm.Utility.isMocaOffline()){var r=new Xrm.Objects.EntityReference(this.$P,new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$2m())),u=new Xrm.Gen.SetStateRequest(r,this.$S7,t,!0),f=this,e=function(){f.$14()};Xrm.Utility.executeNonCudCommand("SetState",this.$P,u,e,Mscrm.InternalUtilities.ClientApiUtility.actionFailedCallback)}else i=this,this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.SetStateRequest(new Xrm.Objects.EntityReference(this.$P,new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$2m())),this.$S7,t),this.get_$Y()),function(){i.$14()},this.$$d_$1P8);else this.$1P8(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093999));return 1}};Microsoft.Crm.Client.Application.ViewModels.$7h=function(){Microsoft.Crm.Client.Application.ViewModels.$7h.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$7h.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("UpdateBusinessProcessFlowState",Microsoft.Crm.Client.Application.ViewModels.$7h.$X)};Microsoft.Crm.Client.Application.ViewModels.$7h.$X=function(n,t){var u=t,r=u.QueryValue,i;return Microsoft.Crm.Client.Application.ViewModels.$7h.$2Lt(r),i=new Microsoft.Crm.Client.Application.ViewModels.$7h,i.$Bd=r.bpfInstanceId,i.$P=r.entitylogicalname,i.$t=r.state,i.$9u=r.status,i.$D1=r.entityid,$0.$0(u.OnSuccess)||(i.$J=u.OnSuccess),$0.$0(u.OnFailure)||(i.$1b_3=u.OnFailure),i};Microsoft.Crm.Client.Application.ViewModels.$7h.$2Lt=function(){};Microsoft.Crm.Client.Application.ViewModels.$7h.prototype={$J:null,$D1:null,$Bd:null,$P:null,$t:0,$9u:0,$2E:function(){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1n5(this.$P,this.$D1,this.$t,this.$9u,this.$Bd,this.get_$Y()),n=this,t=this;return this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(i),function(t){n.$J&&n.$J(t);n.$14()},function(n){t.$1b_3&&t.$1b_3(n);t.$1R(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.$BP=function(n){Microsoft.Crm.Client.Application.ViewModels.$BP.initializeBase(this,[n])};Microsoft.Crm.Client.Application.ViewModels.$BP.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("UpdateMultipleRecords",Microsoft.Crm.Client.Application.ViewModels.$BP.$X)};Microsoft.Crm.Client.Application.ViewModels.$BP.$X=function(n,t){var i=t,e=i.SaveMode,u=new Microsoft.Crm.Client.Application.ViewModels.$BP(e),f=n,r;return u.$A_3=f,u.set_$VL(f.get_SuppressDuplicateDetection()),u.$PG=i.RelatedEntitiesQuery,u.$1MK="OnSuccess"in i?i.OnSuccess:null,r="AdditionalEntityToRetrieve",r in i&&(u.$pk=i[r],r="AdditionalEntityToRetrieveAttributes",u.$1Bl=r in i?i[r]:null,r="AdditionalEntityToRetrieveRelationship",u.$1p2=r in i?i[r]:null),u};Microsoft.Crm.Client.Application.ViewModels.$BP.prototype={$1MK:null,$PG:null,$pk:null,$1Bl:null,$1p2:null,get_$2V5:function(){var n=this.$A_3.get_ModelContext();return n.get_$1B().$I},get_$n4:function(){return this.$PG},$2Hg:function(n,t){var i=this.$A_3.get_ModelContext();i.$31a();Microsoft.Crm.Client.Application.ViewModels.$3V.prototype.$2Hg.call(this,n,t)},$25s:function(n){var t,i;$0.$0(this.$pk)||$0.$0(this.$1Bl)||(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Xrm.Sdk.Request)),n.name==="Retrieve"?t.add(n):n.name==="ExecuteMultiple"&&t.addRange(n.requests),i=new Xrm.Gen.RetrieveRequest(this.$pk,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$1Bl),null,!1,Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz()),t.add(i),n=new Xrm.Gen.ExecuteMultipleRequest(t.toArray(),new Xrm.Gen.ExecuteMultipleSettings(!0,!0)));Microsoft.Crm.Client.Application.ViewModels.$3V.prototype.$25s.call(this,n)},$2B0:function(n){var t,r,f;if(Microsoft.Crm.Client.Application.ViewModels.$3V.prototype.$2B0.call(this,n),!$0.$0(this.$1MK)){if(t=null,n.name==="ExecuteMultiple"){r=n;for(var u=r.responses,e=u.length,i=0;i<e;++i)if(f=u[i],t=f.$9Y.entity,!$0.$0(t)&&!$0.$0(this.$pk)&&t.$2A.get_identifier()===this.$pk.get_identifier())break}this.$1MK(t)}}};Microsoft.Crm.Client.Application.ViewModels.$3V=function(n){this.$$d_$2qv=Function.createDelegate(this,this.$2qv);this.$$d_$30A=Function.createDelegate(this,this.$30A);Microsoft.Crm.Client.Application.ViewModels.$3V.initializeBase(this,[n])};Microsoft.Crm.Client.Application.ViewModels.$3V.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("UpdateRecord",Microsoft.Crm.Client.Application.ViewModels.$3V.$X);Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("UpdateRecordForQuickEditForm",Microsoft.Crm.Client.Application.ViewModels.$3V.$2Ri);Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("UpdateRecordForCustomControl",Microsoft.Crm.Client.Application.ViewModels.$3V.$2Re)};Microsoft.Crm.Client.Application.ViewModels.$3V.$X=function(n,t){return Microsoft.Crm.Client.Application.ViewModels.$3V.$10t(n,t)};Microsoft.Crm.Client.Application.ViewModels.$3V.$2Ri=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.$3V.$10t(n,t),r=n;return i.$J=r.$$d_$2vc,i.set_$VL(Microsoft.Crm.Client.Application.ViewModels.$3V.$1ua(t,r.get_$VL())),i};Microsoft.Crm.Client.Application.ViewModels.$3V.$2Re=function(n,t){var r=Microsoft.Crm.Client.Application.ViewModels.$3V.$10t(n,1),i;return r.$1mB=!0,!$0.$0(t)&&Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor.isInstanceOfType(t)&&(i=t,$0.$0(i.OnSuccess)||(r.$J=function(n){i.OnSuccess(n)}),$0.$0(i.OnFailure)||(r.$1b_3=function(n){i.OnFailure(n)})),r};Microsoft.Crm.Client.Application.ViewModels.$3V.$10t=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.$3V(t),r=n;return i.$A_3=r,Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(n)?i.set_$VL(Microsoft.Crm.Client.Application.ViewModels.$3V.$1ua(t,r.get_$VL())):i.set_$VL(!0),i};Microsoft.Crm.Client.Application.ViewModels.$3V.$1ua=function(n,t){switch(n){case 5:case 6:return!0;default:return t}};Microsoft.Crm.Client.Application.ViewModels.$3V.prototype={$J:null,get_$2V5:function(){var n=this.$A_3.get_ModelContext();return n.$I},get_$n4:function(){return null},$Ma:function(){var t=this.$A_3.get_ModelContext(),n=this.get_$2V5(),i=this;return this.$1H(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$9W(n.$2A,n,this.get_$VL(),this.get_$Y()),function(){i.$2Hg(t,n)},this.$$d_$1P8),1},$2Hg:function(n,t){var r,i;Microsoft.Crm.Client.Core.Framework.$6.get_$f()&&(Microsoft.Crm.Client.Core.ViewModels.$e.$2BG(n.get_$MS()),Microsoft.Crm.Client.Core.ViewModels.$e.$1V9(n),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HK().$1Mv(n));r=[];this.$2IG(r,t);$0.$0(n.$53)||this.$2IG(r,n.$53);i=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(r),function(r){var u=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Storage.Common.$5m)),e,f,o;i.$1ot(r[0],u,t.$a.LogicalName);$0.$0(n.$53)||$0.$0(r[1])||i.$1ot(r[1],u,n.$53.$a.LogicalName);!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()&&Microsoft.Crm.Client.Core.ViewModels.$a.$HM(t.$2A.LogicalName)?i.$2sW(t,u):(e=$0.$0(n.$53)?t.$a:t.$2A,f=new Xrm.Gen.RetrieveRequest(e,u.get_$R(e.LogicalName),i.get_$n4(),!1,Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz()),$0.$0(n.$53)||(f=new Xrm.Gen.ExecuteMultipleRequest([f,new Xrm.Gen.RetrieveRequest(n.$53.$a,u.get_$R(n.$53.$a.LogicalName),i.get_$n4(),!1,Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz())],new Xrm.Gen.ExecuteMultipleSettings(!0,!0))),i.$25s(f),o=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$hr,$0.$0(o)||(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$hr=null,Xrm.XrmUtilityWrapper.$2Hs(o,null)))},this.$$d_$1P8)},$1ot:function(n,t,i){var u,f,r,e,o,s;if(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o).isInstanceOfType(n)){for(u=n,f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=0;r<u.get_$3F6();r++)($0.$0(u.get_$R(r).get_$zz())||u.get_$R(r).get_$2I()==="entityimage_url")&&f.add(u.get_$R(r).get_$2I());t.set_$R(i,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(f.toArray()))}else if(Object.isInstanceOfType(n)){e=n;for(o in e)s={key:o,value:e[o]},t.set_$R(s.key,s.value)}},$2IG:function(n,t){var f=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),i=t.get_directColumnSet(),r,u;Microsoft.Crm.Client.Core.Storage.Common.AllColumns.isInstanceOfType(i)?(r={},r[t.$a.LogicalName]=i,Array.add(n,f.resolve(r))):(u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(t.$a.LogicalName,i.$4A),this.get_$Y()),Array.add(n,u))},$25s:function(n){this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(n,this.get_$Y()),this.$$d_$30A,this.$$d_$1P8)},$2sW:function(n,t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$1VM(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,n.$2A.get_key(),this.$$d_$2qv);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(n.$2A,t.get_$R(n.$2A.LogicalName),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(2,2),this.get_$Y())},$2qv:function(n,t){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$1jW(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,t.get_$Xg().$2A.get_key(),this.$$d_$2qv);$0.$0(this.$J)||this.$J(t.get_$Xg().$2A);this.$14()},$30A:function(n){this.$2B0(n);this.$14()},$2B0:function(n){var t,i;if(n.name==="Retrieve")$0.$0(this.$J)||this.$J(n.entity.$a);else if(n.name==="ExecuteMultiple"){t=n;for(var u=t.responses,f=u.length,r=0;r<f;++r){if(i=u[r],t.isFaulted&&!$0.$0(i.$DM)){this.$1P8(Microsoft.Crm.Client.Core.Framework.$7.$f9(i.$DM.$66));return}t.isFaulted||$0.$0(this.$J)||this.$J(i.$9Y.entity.$a)}}}};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction=function(){this.$$d_$3Bh=Function.createDelegate(this,this.$3Bh);this.$$d_$3Bi=Function.createDelegate(this,this.$3Bi);Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("UpdateSyncErrorRecord",Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$X)};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction,r=t;return i.$M=r.QueryValue,i.$J=r.OnSuccess,i.$1b=r.OnFailure,i};Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.prototype={$J:null,$1b:null,$M:null,$2E:function(){var n="statecode",r=new Array(1),u={},f={},t,i;return r[0]=n,u[n]=12,f[n]=1,t=new Xrm.Objects.EntityReference("syncerror",new Microsoft.Crm.Client.Core.Framework.Guid(this.$M.entityId.toString())),i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(t,f,u,{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),i.$4w.addRange(r),this.$1H(Xrm.Objects.EntityReference,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$9W(t,i,!1,this.get_$Y()),this.$$d_$3Bi,this.$$d_$3Bh),1},$3Bi:function(n){this.$J(n);this.$14()},$3Bh:function(n){this.$1b(n);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction=function(){this.$$d_$2uT=Function.createDelegate(this,this.$2uT);this.$$d_$2tY=Function.createDelegate(this,this.$2tY);Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.initializeBase(this);this.$1M2=this.$$d_$2tY;this.$1MD=this.$$d_$2uT};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("WaitForEditEnabled",Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$X)};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction;return t.$A_3=n,t};Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.prototype={$1M2:null,$1MD:null,$2E:function(){return Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().$t===2?(this.$14(),0):(Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$TB(this.$1M2),Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().add_$2CZ(this.$1MD),1)},$2tY:function(){this.$23l()},$2uT:function(){this.$23l()},$23l:function(){Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$TB(this.$1M2);Microsoft.Crm.Client.Core.ViewModels.$C.get_$6().remove_$2CZ(this.$1MD);this.$14()}};Type.registerNamespace("Microsoft.Crm.Client.Application.ViewModels.Actions");Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction=function(){this.$$d_$1qn=Function.createDelegate(this,this.$1qn);this.$$d_$1qo=Function.createDelegate(this,this.$1qo);Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("CalculateRollupField",Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction,i=n;return t.$J=i.$$d_$1qo,t.$1b_3=i.$$d_$1qn,t.$A_3=n,t.$4Z=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.$A_3.get_ModelContext().get_Id()),t.$P=t.$A_3.get_$1u(),t.$Cs=n.$OL,t};Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.prototype={$4Z:null,$P:null,$Cs:null,$J:null,$2E:function(){var n=new Xrm.Objects.EntityReference(this.$P,this.$4Z);return this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.CalculateRollupFieldRequest(n,this.$Cs),this.get_$Y()),this.$$d_$1qo,this.$$d_$1qn),1},$1qo:function(n){if(!$0.$0(this.$J)&&n.name==="CalculateRollupField"){var t=n.entity;this.$J(t)}this.$14()},$1qn:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("PopulateDocumentTemplateFlyout",Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction,r;return i.$A_3=n,r=t,$0.$0(r.OnSuccess)||(i.$6K=r.OnSuccess),$0.$0(r.QueryValue)||(r.QueryValue.endsWith("1")?i.$Ow=1:r.QueryValue.endsWith("2")&&(i.$Ow=2)),i.$Lg=i.$Ow===1?new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("documenttemplatesflyout_commands"):new Microsoft.Crm.Client.Core.Models.Descriptors.CommandSet("wordtemplatesflyout_commands"),i};Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.prototype={$kD:null,$6K:null,$Lg:null,$Ow:0,$2E:function(){return $0.$0(this.$A_3)?(this.$3d(new Microsoft.Crm.Client.Core.ViewModels.$63(this.$A_3,null)),0):(this.$1H(Microsoft.Crm.Client.Core.ViewModels.$63,this.$32O(),this.$$d_$3d,this.$$d_$4L),1)},$3d:function(n){$0.$0(this.$6K)||$0.$0(n)||this.$6K(n);this.$14()},$4L:function(n){this.$1R(n)},$32O:function(){return $0.$0(this.$kD)&&(this.$kD=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$63,Microsoft.Crm.Client.Core.Framework.$7),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$1mY&&this.$Ow===1?this.$1t8():Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$1o1&&this.$Ow===2?this.$1t8():this.$kD.resolve(new Microsoft.Crm.Client.Core.ViewModels.$63(this.$A_3,this.$Lg)):this.$kD.resolve(new Microsoft.Crm.Client.Core.ViewModels.$63(this.$A_3,this.$Lg))),this.$kD.promise()},$1t8:function(){if(!this.$A_3.get_$BV()){var t=this.$32z(),i=this.$332(),n=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(t,i).always(function(){n.$kD.resolve(new Microsoft.Crm.Client.Core.ViewModels.$63(n.$A_3,n.$Lg))})}},$32z:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Boolean),i={},n,r,u;return i.DocumentType=this.$Ow,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveDocumentTemplates",i),r=this,n.OnSuccess=function(n){r.$1GG(n,!1);t.resolve(!0)},u=this,n.OnFailure=function(){t.resolve(!1)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$A_3,n),t.promise()},$332:function(){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Boolean),i={},n,r,u;return i.DocumentType=this.$Ow,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalDocumentTemplates",i),r=this,n.OnSuccess=function(n){r.$1GG(n,!0);t.resolve(!0)},u=this,n.OnFailure=function(){t.resolve(!1)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this.$A_3,n),t.promise()},$1GG:function(n,t){var f=n.$1mk(),k=this,o,e,s,r,i,c;for(f.sort(function(n,t){return n.$1q.localeCompare(t.$1q)}),o=this.$Lg.Controls.length,e=this.$Ow===1?t?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Menu_Label_Group_PersonalDocumentTemplates"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Menu_Label_Group_DocumentTemplates"):t?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Menu_Label_Group_PersonalWordTemplates"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Menu_Label_Group_WordTemplates"),s=t?1:0,r=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(e,"Group",null,e,s,null,null,null),i=0;i<f.length;i++){var h=f[i],l=this.$A_3.get_$1u()+"_template_"+i,a=h.$1q,v=new Microsoft.Crm.Client.Core.Framework.Guid(h.$q),y=t?"personaldocumenttemplate":"documenttemplate",u=new Xrm.Objects.EntityReference(y,v);u.Name=u.LogicalName==="documenttemplate"?"DocumentTemplate":"PersonalDocumentTemplate";c=this.$Ow===1?{DocumentTemplateEntityReference:u}:{WordTemplateEntityReference:u};var p=this.$Ow===1?"OpenDocumentTemplateCommand":"OpenWordTemplateCommand",w=this.$Ow===1?"DocumentTemplates":"WordTemplates",b=new Microsoft.Crm.Client.Core.Models.Descriptors.CommandControlDescriptor(l,"Button",p,a,o++,"System",w,"Symbol",c);Array.add(r.Children,b)}r.Children.length>0&&Array.add(this.$Lg.Controls,r)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$8s=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$8s.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.Actions.$8s.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("CreateMultipleRecentlyViewedItemsAction",Microsoft.Crm.Client.Application.ViewModels.Actions.$8s.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8s.$X=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$8s,i=t;return r.$KV=i.EntityRecords,!$0.$0(i.onSuccess)&&Function.isInstanceOfType(i.onSuccess)&&(r.$J=i.onSuccess),!$0.$0(i.onFailure)&&Function.isInstanceOfType(i.onFailure)&&(r.$1b_3=i.onFailure),r};Microsoft.Crm.Client.Application.ViewModels.Actions.$8s.prototype={$J:null,$1b:null,$KV:null,$Ma:function(){var n,r,u,f;if(!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5())return this.$1b(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093996)),1;if($0.$0(this.$KV)||!this.$KV.length)return this.$J(null),1;n=[];for(var i=this.$KV,e=i.length,t=0;t<e;++t)r=i[t],Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$X(r,!1,Microsoft.Crm.Client.Core.Framework.$q.$4t("","CreateRecentlyViewedItemListAction")));return u=this,f=this,this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),function(n){u.$J(n)},function(n){f.$1b(n)}),1}};Microsoft.Crm.Client.Application.ViewModels.Actions.$7V=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$7V.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7V.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveLandingPageActivities",Microsoft.Crm.Client.Application.ViewModels.Actions.$7V.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7V.$X=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.Actions.$7V;return t.$4y=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$QT(i),t.$J=i.$$d_$3d,t.$1b_3=i.$$d_$4L,t.$A_3=i,t.$F7=i.get_DefinitionId(),t.$2O=Microsoft.Crm.Client.Application.ViewModels.Actions.$7V.$1qV(),t.$C3=i.$1Z.$9S+1,t};Microsoft.Crm.Client.Application.ViewModels.Actions.$7V.$1qV=function(){var n=Microsoft.Crm.Client.Core.Storage.Common.$15.$AD("activitypointer");return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$10s('<fetch version="1.0" output-format="xml-platform" mapping="logical" distinct="true" returntotalrecordcount="true" no-lock="true"><entity name="activitypointer">\t<attribute name="subject"/>\t<attribute name="scheduledstart"/>\t<attribute name="regardingobjectid"/>\t<attribute name="scheduledend"/>\t<order attribute="scheduledend" descending="false"/>\t<filter type="and">\t\t<condition attribute="statecode" operator="in">\t\t\t<value>0<\/value>\t\t\t<value>3<\/value>\t\t<\/condition>\t\t<condition attribute="isregularactivity" operator="eq" value="1"/><filter type="or">\t\t\t<condition attribute="scheduledstart" operator="today"/>\t\t\t<condition attribute="scheduledend" operator="today"/>\t\t\t<condition attribute="scheduledstart" operator="this-week"/>\t\t\t<condition attribute="scheduledend" operator="this-week"/>\t\t\t<condition attribute="scheduledend" operator="olderthan-x-weeks" value="1"/>\t\t\t<condition attribute="scheduledend" operator="last-week"/>\t\t<\/filter>\t<\/filter>\t<filter type="and">\t\t<filter type="or">\t\t\t<condition attribute="activitytypecode" operator="eq" value="4202"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4210"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4212"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4216"/>\t\t\t<condition attribute="activitytypecode" operator="eq" value="4201"/>\t\t<\/filter>\t<\/filter><\/entity><\/fetch>',16,n)};Microsoft.Crm.Client.Application.ViewModels.Actions.$5X=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$5X.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$5X.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("FetchXmlForDocumentRecommendations",Microsoft.Crm.Client.Application.ViewModels.Actions.$5X.$2WT)};Microsoft.Crm.Client.Application.ViewModels.Actions.$5X.$2WT=function(n){var i=n,r=i.$2,t=new Microsoft.Crm.Client.Application.ViewModels.Actions.$5X,u=r.$5m.entityName,f=r.$5m.entityId;return t.$4y=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$QT(i),t.$J=i.$$d_$3d,t.$1b_3=i.$$d_$4L,t.$A_3=i,t.$F7=i.get_DefinitionId(),t.$C3=i.$1Z.$9S+1,$0.$0(u)||$0.$0(f)||(t.$Eg=new Xrm.Objects.EntityReference(u,new Microsoft.Crm.Client.Core.Framework.Guid(f))),r.$5m.SuggestionsSource.toString()==="notification"&&Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$PS("DocRecTooltipClickEvent",Xrm.Page.context.getOrgUniqueName(),Xrm.Page.context.getUserId(),"Document Recommendation Tooltip clicked",0)),t};Microsoft.Crm.Client.Application.ViewModels.Actions.$5X.$2PG=function(n){Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(n.get_Root())&&(n.get_Root().$QG(),Microsoft.Crm.Client.Core.ViewModels.$Q.$38R("title","message"))};Microsoft.Crm.Client.Application.ViewModels.Actions.$5X.prototype={$Eg:null,$2E:function(){var n=this.$A_3;return(n.$t8=!0,$0.$0(this.$Eg))?(Microsoft.Crm.Client.Application.ViewModels.Actions.$5X.$2PG(this.$A_3),0):(this.$375(),Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.prototype.$2E.call(this),1)},$375:function(){this.$A_3.$22=String.format(Microsoft.Crm.Client.Application.ViewModels.Actions.$5X.$1w8,this.$Eg.LogicalName,this.$Eg.Id,this.$Eg.TypeCode)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$4I=function(){this.$$d_$32R=Function.createDelegate(this,this.$32R);this.$$d_$32S=Function.createDelegate(this,this.$32S);Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveEntityCollection",Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$4I;return Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.$99=t,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.prototype={$81:null,$9M:null,$2E:function(){this.$81=Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.$99.OnSuccess;this.$9M=Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.$99.OnFailure;var n=Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.$99.QueryValue,t=n.KeyQuery;return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(t,Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz(),this.get_$Y()),this.$$d_$32S,this.$$d_$32R),1},$32S:function(n){this.$81(n)},$32R:function(n){this.$9M(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$4G=function(){this.$$d_$26q=Function.createDelegate(this,this.$26q);this.$$d_$2sK=Function.createDelegate(this,this.$2sK);Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("NonCud",Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$4G;return Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.$99=t,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.prototype={$81:null,$9M:null,$2E:function(){var n=Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.$99.QueryValue,u=n.CommandName.toString(),f=n.EntityName.toString(),t=n.NonCudRequest,i,r;return this.$81=Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.$99.OnSuccess,this.$9M=Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.$99.OnFailure,$0.$0(t)?(i=Microsoft.Crm.Client.Core.Framework.$7.$1GB(null),this.$26q(i)):(r=new Microsoft.Crm.Client.Core.NonCudExecution.ExecutionWrapper.$I9(u,f,t),this.$1H(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$5l),r.$2yQ(),this.$$d_$2sK,this.$$d_$26q)),1},$2sK:function(n){this.$81(n)},$26q:function(n){this.$9M(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveDraftRecordsAction",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$X=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction,r;return t.$J=i.$$d_$3d,t.$1b_3=i.$$d_$4L,t.$A_3=i,r=new Microsoft.Crm.Client.Core.Storage.DataApi.$Qu,t.$1V=r,t.$1V.set_$Ra(i.$1Z.$9S+1),t.$1V.$4W=i.get_PageSize(),t.$1V.$P=i.$D,t};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.prototype={$1V:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$2C1(this.$1V,this.get_$Y()),this.$$d_$3d,this.$$d_$4L),1},$1E1:function(n){return Microsoft.Crm.Client.Core.Models.$9C.$X(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction=function(){this.$$d_$1Oj=Function.createDelegate(this,this.$1Oj);this.$$d_$w0=Function.createDelegate(this,this.$w0);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveEntityRecord",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction;return i.$99=t,i};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.prototype={$81:null,$9M:null,$99:null,$2E:function(){this.$81=this.$99.OnSuccess;this.$9M=this.$99.OnFailure;var n=this.$99.QueryValue,t=n.Identifier,i=n.ColumnSet;return this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(t,i,Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz(),this.get_$Y()),this.$$d_$w0,this.$$d_$1Oj),1},$w0:function(n){this.$81(n);this.$14()},$1Oj:function(n){this.$9M(n);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$8t=function(){this.$$d_$1Y7=Function.createDelegate(this,this.$1Y7);this.$$d_$2TB=Function.createDelegate(this,this.$2TB);Microsoft.Crm.Client.Application.ViewModels.Actions.$8t.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8t.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("CreateNavigationEntity",Microsoft.Crm.Client.Application.ViewModels.Actions.$8t.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8t.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$8t,r;return i.$A_3=n,r=t,i.$wm=r.SourceEntityLogicalName,i.$wl=r.SourceEntityId,i.$nf=r.TargetEntityLogicalName,i.$1mO=r.TargetEntityAttribute,i.$J=r.OnSuccess,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$8t.prototype={$wm:null,$wl:null,$nf:null,$1mO:null,$J:null,$2E:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1YD(this.$wm,this.$wl,this.$nf,this.$1mO,this.get_$Y()).then(this.$$d_$2TB,this.$$d_$1Y7),1},$2TB:function(n){if(!$0.$0(this.$J)){var t=n;this.$J(t.NavigationEntities[0].Id)}this.$14()},$1Y7:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$8e=function(){this.$$d_$2O4=Function.createDelegate(this,this.$2O4);this.$$d_$2O5=Function.createDelegate(this,this.$2O5);Microsoft.Crm.Client.Application.ViewModels.Actions.$8e.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8e.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("ChangeProcess",Microsoft.Crm.Client.Application.ViewModels.Actions.$8e.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.$8e.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$8e,r=t;return i.$A_3=n,i.$D1=r.EntityId,i.$P=r.EntityLogicalName,"ProcessControlId"in r&&(i.$aw=r.ProcessControlId),"ProcessInstanceId"in r&&(i.$Bd=r.ProcessInstanceId),i.$aB=r.NewStageId,i.$mA=r.TraversedPath,i.$J=r.SuccesCallback,i.$1b=r.FailureCallback,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$8e.prototype={$D1:null,$P:null,$aw:null,$Bd:null,$aB:null,$mA:null,$J:null,$1b:null,$2E:function(){$0.$0(this.$D1)&&(this.$D1=new Microsoft.Crm.Client.Core.Framework.Guid(this.$A_3.get_ModelContext().get_Id()));var n=$0.$0(this.$aB)?"":this.$aB.toString(),t=$0.$0(this.$mA)?n:this.$mA;return this.$1H(Object,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1Cz(this.$D1.toString(),this.$P,this.$aw.toString(),this.$Bd,n,t,this.get_$Y()),this.$$d_$2O5,this.$$d_$2O4),1},$2O5:function(){var t,i,n,r;this.$D1.toString()===this.$A_3.get_ModelContext().get_Id()&&(t=this.$A_3,i=t.$67("ProcessManager"),i.$2kJ(),Microsoft.Crm.Client.Core.Framework.$6.get_$f()?(n=new Microsoft.Crm.Client.Core.Commands.$2R(null,40),n.$D=this.$P,r={EntityReference:new Xrm.Objects.EntityReference(this.$P,new Microsoft.Crm.Client.Core.Framework.Guid(this.$D1.toString()))},n.$x=r,n.execute(),n.dispose()):Xrm.Utility.openEntityForm(t.$D,this.$D1.toString()));$0.$0(this.$J)||this.$J();this.$14()},$2O4:function(n){$0.$0(this.$1b)||this.$1b();this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$AG=function(){this.$$d_$2s0=Function.createDelegate(this,this.$2s0);this.$$d_$2s1=Function.createDelegate(this,this.$2s1);Microsoft.Crm.Client.Application.ViewModels.Actions.$AG.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$AG.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("NavigateToNextEntity",Microsoft.Crm.Client.Application.ViewModels.Actions.$AG.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.$AG.$X=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.Actions.$AG,r;return i.$A_3=n,r=t,i.$mC=r.NextEntityLogicalName,i.$mB=r.NextEntityId,i.$u6=r.NewActiveStageId,i.$u4=r.NewTraversedPath,i.$f6=r.FollowUpCommand,i};Microsoft.Crm.Client.Application.ViewModels.Actions.$AG.prototype={$u4:null,$mB:null,$mC:null,$u6:null,$Oh:function(){this.set_$2Xf(null);Microsoft.Crm.Client.Core.Framework.$AJ.prototype.$Oh.call(this)},$2E:function(){var n=this.$A_3.get_ModelContext(),t=new Microsoft.Crm.Client.Core.Framework.Guid(n.get_$4m().get_$4m()),i=n.get_$HV(),r=n.GetValue("processid"),u=Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),f=new Xrm.Gen.NavigateToNextEntityRequest(t,i,this.$mB,this.$mC,this.$u6,this.$u4,r,u,!1),e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(f,this.get_$Y());return this.$1H(Xrm.Sdk.Response,e,this.$$d_$2s1,this.$$d_$2s0),1},$2s0:function(n){this.$1R(n)},$2s1:function(){if($0.$0(this.$f6)){var n=null;Microsoft.Crm.Client.Core.ViewModels.Controls.$6f.isInstanceOfType(this.$A_3)&&!$0.$0(this.$A_3.get_$1O())&&(n=this.$A_3.get_$1O().$1x3());Xrm.Utility.openEntityForm(this.$mC,this.$mB.toString(),n)}else this.$f6.execute();this.$14()},$f6:null,set_$2Xf:function(n){return $0.$0(this.$f6)||(this.$f6.dispose(),this.$f6=null),this.$f6=n,n}};Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z=function(){this.$$d_$25d=Function.createDelegate(this,this.$25d);this.$$d_$1Ku=Function.createDelegate(this,this.$1Ku);Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveProcessActionRecord",Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z.$X=function(n,t){var i=t,r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z,u;return r.$J=i.OnSuccess,r.$1b_3=i.OnFailure,u=i.QueryValue,Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z.$1ik=u.ProcessActionName.toString(),r};Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z.prototype={$J:null,$2E:function(){return this.$H4(),1},$H4:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(45,this.get_$1d(),"sdkmessage",1,!1,Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z.$1ik,0);this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(n,this.get_$Y()),this.$$d_$1Ku,this.$$d_$25d)},$1Ku:function(n){var i=MscrmComponents.DeferredPromiseFactory(Xrm.ProcessActionSuccessResponse,Xrm.ErrorResponse),t=this;this.$El(function(){var i=n.get_$3F6()>0?n.get_$R(0).get_$4r():new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor;t.$J(i);t.$14()},this.get_$KL())},$25d:function(n){var t=MscrmComponents.DeferredPromiseFactory(Xrm.ProcessActionSuccessResponse,Xrm.ErrorResponse),i=new Xrm.ErrorResponse(n.$m,n.$F,n.$F,null);t.reject(i);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction=function(){this.$$d_$22b=Function.createDelegate(this,this.$22b);this.$$d_$2kq=Function.createDelegate(this,this.$2kq);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveProcessActiveStage",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$X=function(n){return Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$eC(n)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$eC=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction;return t.$A_3=n,t.$ET=new Microsoft.Crm.Client.Core.Framework.Guid(n.$HU),t.$J=n.$$d_$2HR,t};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.prototype={$P:null,get_$9T:function(){return this.$A_3},$D1:null,$ET:null,$J:null,$2E:function(){var n=this.$A_3,t,i,r,u,f,e;return!$0.$0(n.$2)&&!$0.$0(n.$2.get_ModelContext())&&(t=n.$2.get_ModelContext(),!$0.$0(t)&&!$0.$0(t.$I)&&!$0.$0(t.$I.$B3))?(this.$22S(t.$I.$B3),0):($0.$0(n.get_ModelContext())?this.$22b(Microsoft.Crm.Client.Core.Framework.$7.$k("RetrieveProcessActiveStageAction - ViewModel.ModelContext is null.")):(this.$P=n.get_ModelContext().get_ModelName(),this.$D1=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n.get_ModelContext().get_Id()),Microsoft.Crm.Client.Core.ViewModels.Controls.$3T.$m9(this.$P)?(i=new Mscrm.ProcessControlShared.ObjectModels.$JS,i.EntityLogicalName=this.$P,i.Id=this.$D1.toString(),this.$329(i)):(r=n.$Bd,u=null,Microsoft.Crm.Client.Core.Framework.$3.$12(r)||(u=new Xrm.Objects.EntityReference("businessprocessflowinstance",Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(r))),f=new Xrm.Gen.RetrieveProcessActiveStageRequest(this.$D1,this.$P,this.$ET,u),e=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(f,this.get_$Y()),this.$1H(Xrm.Sdk.Response,e,this.$$d_$2kq,this.$$d_$22b))),1)},$ji:function(n){($0.$0(n)||$0.$0(n.$LG))&&(n=this.$1te());this.$J(n);this.$14()},$1te:function(){var t=new Mscrm.ProcessControlShared.ObjectModels.$JS,n;return $0.$0(this.get_$9T().get_ModelContext())||(t.EntityLogicalName=this.get_$9T().get_ModelContext().get_ModelName(),t.Id=this.get_$9T().get_ModelContext().get_Id()),n=new Mscrm.ProcessControlShared.ObjectModels.$JQ,n.$LG=this.get_$9T().get_$BE().toString(),n.$CB=this.get_$9T().get_$mc(),n.$C1=[t],n},$2kq:function(n){var t=n.entity;this.$22S(t)},$22S:function(n){if($0.$0(n)){this.$ji(null);return}var r=this.get_$9T().get_$Ar(),u=new Microsoft.Crm.Client.Core.Models.ProcessControl.Factories.$KX,t=u.$1tP(n,r),i=null;if($0.$0(t)||(i=this.get_$9T().$BS(t.$LG)),$0.$1Y(i)){this.$2rP(t);return}this.$ji(t)},$2rP:function(n){var t=this.$1te(),r=this.$2X2(n.$C1),i;if($0.$0(r)){this.$ji(t);return}i=this;this.$1H(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(r,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["processid","stageid","traversedpath"]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$aC(),this.get_$Y()),function(r){if(r.hasValue("processid")&&i.$ET.equals(r.getValue("processid"))&&r.hasValue("stageid")){var u=r.getValue("stageid").toString(),f=r.getValue("traversedpath"),e=i.get_$9T().$BS(u);IsNull(e)?(t.$LG=i.get_$9T().get_$BE().toString(),t.$CB=i.get_$9T().get_$mc()):(t=n,t.$LG=u,t.$CB=f)}i.$ji(t)},this.$$d_$22b)},$2X2:function(n){if($0.$0(n)||!n.length)return null;var t=n[n.length-1];return new Xrm.Objects.EntityReference(t.EntityLogicalName,new Microsoft.Crm.Client.Core.Framework.Guid(t.Id))},$22b:function(n){n.$m===-2147093999?this.$1I1():this.$1R(n)},$1I1:function(){this.$ji(null)},$329:function(n){var t=new Mscrm.ProcessControlShared.ObjectModels.$JQ,u,r,i,f,e;for(t.$LG=this.get_$9T().get_$BE().toString(),t.$CB=this.get_$9T().get_$mc(),u=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6t,r=new Array(0),i=1;i<=5;i++)f=String.format("entity{0}id",i),e=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$K8(f,n.Id,1,0),r.push(e);var s=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$K9(r),o=this,h=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when(u.$7m("businessprocessflowinstance",s)),function(i){var r=i[0];r.rows.length>0?o.$2Mu(t,r):t.$C1=[n];o.$ji(t)},function(){t.$C1=[n];h.$ji(t)})},$2Mu:function(n,t){var r={},i,f,e,o,u,s;for(n.$C1=new Array(0),i=t.rows.item(0),("processstageid"in i)&&!$0.$0(i.processstageid)&&(n.$LG=i.processstageid.toString().toLowerCase(),r.processstageid=i.processstageid.toString().toLowerCase()),("traversedpath"in i)&&!$0.$0(i.traversedpath)&&(n.$CB=i.traversedpath.toString(),r.traversedpath=i.traversedpath.toString()),f=1;f<=5;f++)e=String.format("entity{0}id",f),o=String.format("entity{0}objecttypecode",f),e in i&&o in i&&!$0.$0(i[e])&&!$0.$0(i[o])&&(u=new Mscrm.ProcessControlShared.ObjectModels.$JS,u.Id=i[e].toString(),u.EntityLogicalName=i[o].toString(),r[e]=u.Id,r[o]=u.EntityLogicalName,n.$C1.push(u));(s="businessprocessflowinstanceid"in i&&!$0.$0(i.businessprocessflowinstanceid),s)&&(r.businessprocessflowinstanceid=i.businessprocessflowinstanceid.toString(),this.$37L(r))},$37L:function(n){var i=new Microsoft.Crm.Client.Core.Framework.Guid(n.businessprocessflowinstanceid.toString()),r=new Xrm.Objects.EntityReference("businessprocessflowinstance",i),u=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,n,{},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0))),t=this.get_$9T().$2.get_ModelContext(),f=!$0.$0(t)&&$0.$0(t.$I.$B3);f&&(this.get_$9T().$2.get_ModelContext().$I.$B3=u)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$S2=function(){this.$$d_$25d=Function.createDelegate(this,this.$25d);this.$$d_$1Ku=Function.createDelegate(this,this.$1Ku);this.$$d_$2qS=Function.createDelegate(this,this.$2qS);this.$$d_$2qP=Function.createDelegate(this,this.$2qP);this.$$d_$2qQ=Function.createDelegate(this,this.$2qQ);Microsoft.Crm.Client.Application.ViewModels.Actions.$S2.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$S2.prototype={$J:null,$Rj:null,$P:null,set_$um:function(n){return this.$J=n,n},$2E:function(){return this.$Rj=this.$2gs(),$0.$0(this.$Rj)?this.$2gO(this.$P):this.$H4(),1},$1Ku:function(n){var t=this;this.$El(function(){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveProcessControlAction:LoadDefinitionsSuccess"),r,u;i.start();$0.$0(t.$J)||(r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor,u=n.get_$3F6()>0?n.get_$R(0).get_$4r():r,t.$J(u));t.$14();i.stop()},this.get_$KL())},$25d:function(n){this.$1R(n)},$2gs:function(){if(!$0.$0(this.$Rj))return this.$Rj;var n=this.$A_3.get_ModelContext();return $0.$0(n)?null:n.GetValue("processid")},$2gO:function(n){(Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===1||Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2)&&!Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()&&Xrm.Utility.isMocaOfflineFeatureEnabled()&&Xrm.Utility.isEntityOfflineSyncEnabled(n)?this.$2gP(this.$P):this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.RetrieveProcessWithFallbackRequest(n,null),this.get_$Y()),this.$$d_$2qQ,this.$$d_$2qP)},$2gP:function(n){var r=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$6t,t=new Array(0),i;t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$K8("primaryentity",n.toLowerCase(),1,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$K8("category",4,0,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$K8("statecode",1,0,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$K8("businessprocesstype",1,0,1,0));t.push(new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$K8("businessprocesstype","",1,6,1));i=new Microsoft.Crm.Client.Core.Offline.OfflineStore.DAL.$K9(t);this.$1H(Microsoft.Crm.Client.Core.Imported.Norsync.SQLiteResults,r.$7m("Workflow",i),this.$$d_$2qS,this.$$d_$2qP)},$2qS:function(n){this.$Rj=null;!$0.$0(n)&&n.rows.length>0&&!$0.$0(n.rows.item(0))&&this.$37T(n);this.$H4()},$37T:function(n){var u,f,i,r,t;for(Microsoft.Crm.Client.Core.Framework.Utils.$A.$16(n.rows.item(0).workflowid,"entityMetadata"),u=$0.$0(n.rows.item(0).workflowid)?null:Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(n.rows.item(0).workflowid.toString()),f=$0.$0(n.rows.item(0).processorder)?2147483647:n.rows.item(0).processorder,i=1;i<n.rows.length;i++)r=2147483647,t=n.rows.item(i),$0.$0(t.processorder)||(r=t.processorder),f>r&&(u=$0.$0(t.workflowid)?null:Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(t.workflowid.toString()),f=r);this.$Rj=u},$2qQ:function(n){var t=n.entity;t&&t.set_clientRetrieveOptions(Microsoft.Crm.Client.Core.ViewModels.$k.get_$Zz());this.$Rj=t?t.getValue("workflowid"):null;this.$H4()},$2qP:function(n){n.$m===-2147093999?this.$1I1():this.$1R(n)},$H4:function(){if($0.$0(this.$Rj)||this.get_$1d()===4)this.$1Ku(new(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f)));else{var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(15,this.get_$1d(),null,1,!0,this.$Rj.toString());this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(n,this.get_$Y()),this.$$d_$1Ku,this.$$d_$25d)}},$1I1:function(){this.$1Ku(new(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f))(0))}};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y=function(){this.$$d_$27c=Function.createDelegate(this,this.$27c);Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveProcessControlFirstStage",Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y.$X=function(n){return Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y.$eC(n)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y.$eC=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y;return t.$A_3=n,t.$P=n.$D,t.set_$um(t.$$d_$27c),t.$1b_3=n.$$d_$28T,t.$15b=n.$$d_$28U,t};Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y.prototype={$15b:null,$27c:function(n){var u,e,t,o,i;if(!n){this.$15b(null);return}var s=this.$A_3.get_$1u(),r=null,f=n.ChildViewModels;for(u in f)if((e={key:u,value:f[u]},t=e.value,t.TypeName==="ProcessEntity")&&(o=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"EntityLogicalName",t.Properties),o===s)&&(r=this.$2X1(t),r))break;i=[];Array.add(i,this.$Rj);Array.add(i,r);this.$15b(i)},$2X1:function(n){var t=null,u=n.ChildViewModels,i,f,r;for(i in u)if((f={key:i,value:u[i]},r=f.value,r.TypeName==="Stage")&&(t=Microsoft.Crm.Client.Core.ViewModels.$13.$A7(String,"StageId",r.Properties),t))break;return new Microsoft.Crm.Client.Core.Framework.Guid(t)}};Microsoft.Crm.Client.Application.ViewModels.Actions.$2f=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveRecentlyViewedItemList",Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$X);(Microsoft.Crm.Client.Core.Framework.$6.get_$1KK()||Microsoft.Crm.Client.Core.Framework.$6.get_$3A())&&Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().add_$26M(Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$285)};Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$X=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$2f,u;return r.$4y=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$QT(i),r.$A_3=i,r.$F7=i.get_DefinitionId(),r.$2O=Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$1qV(),r.$C3=i.$1Z.$9S+1,u=t,r.$J=function(n){i.dispose();i=null;u.OnSuccess(n)},r.$1b_3=function(n){i.dispose();i=null;u.OnFailure(n)},r};Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$1qV=function(){var i,t,u,f;if($0.$0(Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$eh)){i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy();Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$eh='<filter type="or">';Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$eh+="<condition attribute='recentlyviewedxml' operator='like' value='%etc=\"1030\"%' />";for(var r=i,e=r.length,n=0;n<e;++n)t=r[n],t.$KJ&&(Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$eh+="<condition attribute='recentlyviewedxml' operator='like' value ='%etc=\""+t.$9p+"\"%' />");Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$eh+="<\/filter>"}return u=String.format("<fetch mapping='logical' returntotalrecordcount='true'>\r\n\t\t\t\t\t\t\t<entity name='{0}'>\r\n\t\t\t\t\t\t\t<attribute name='recentlyviewedxml'/>\r\n\t\t\t\t\t\t\t<attribute name='objecttypecode'/>\r\n\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute='ownerid' operator='eq' value='{1}' />\r\n\t\t\t\t\t\t\t\t<condition attribute='recentlyviewedxml' operator='neq' value='' />\r\n\t\t\t\t\t\t\t\t<condition attribute='recentlyviewedxml' operator='not-null' />\r\n\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t"+Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$eh+"\r\n\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t<\/fetch>","userentityuisettings",Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q),f=Microsoft.Crm.Client.Core.Storage.Common.$15.$AD("userentityuisettings"),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$10s(u,16,f)};Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$285=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$eh=null};Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.prototype={$3d:function(n){if(this.$vz=$0.$0(n.$4a)?null:n.$4a.$Cj,$0.$0(this.$J)||this.$A_3.get_$BV())this.$14();else{var t=this;this.$El(function(){var i=t.$1E1(n);t.$J(i);t.$14()},Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$1uZ(this.$A_3))}}};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveProcessControlDefinition",Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$X=function(n){return Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$eC(n)};Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$eC=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction;return t.$A_3=n,t.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$w2,t.$P=n.$D,t.set_$um(n.$$d_$27c),t.$1b_3=n.$$d_$2u5,t};Microsoft.Crm.Client.Application.ViewModels.Actions.$BO=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$BO.initializeBase(this,[1])};Microsoft.Crm.Client.Application.ViewModels.Actions.$BO.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("UpdateMultipleRecentlyViewedItemsAction",Microsoft.Crm.Client.Application.ViewModels.Actions.$BO.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.$BO.$X=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.Actions.$BO,i=t;return r.$H3=i.EntityRecords,!$0.$0(i.onSuccess)&&Function.isInstanceOfType(i.onSuccess)&&(r.$J=i.onSuccess),!$0.$0(i.onFailure)&&Function.isInstanceOfType(i.onFailure)&&(r.$1b=i.onFailure),r};Microsoft.Crm.Client.Application.ViewModels.Actions.$BO.prototype={$J:null,$1b:null,$H3:null,$Ma:function(){var n,t,r,u,f;if(!Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$1F()&&Microsoft.Crm.Client.Core.ViewModels.$a.$B5())return n=Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093996),this.$1b(n),this.$1R(n),1;if($0.$0(this.$H3)||!this.$H3.length)return this.$J(null),this.$14(),1;t=[];for(var e=this.$H3,o=e.length,i=0;i<o;++i)r=e[i],Array.add(t,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$9W(r.$2A,r,!1,Microsoft.Crm.Client.Core.Framework.$q.$4t("","UpdateMultipleRecentlyViewedItemsAction")));return u=this,f=this,this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(t),function(n){u.$J(n);u.$14()},function(n){f.$1b(n);f.$1R(n)}),1}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Actions");Microsoft.Crm.Client.Core.ViewModels.Actions.$7T=function(){this.$$d_$kS=Function.createDelegate(this,this.$kS);this.$$d_$5h=Function.createDelegate(this,this.$5h);Microsoft.Crm.Client.Core.ViewModels.Actions.$7T.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Actions.$7T.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveEmailFollowTrackingInfoAction",Microsoft.Crm.Client.Core.ViewModels.Actions.$7T.$X)};Microsoft.Crm.Client.Core.ViewModels.Actions.$7T.$X=function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.Actions.$7T;return i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$hU,Microsoft.Crm.Client.Core.ViewModels.Actions.$7T.$wa(i,t),i};Microsoft.Crm.Client.Core.ViewModels.Actions.$7T.$wa=function(n,t){var r=t,i=r.QueryValue;n.$1BP=i.TrackingId;n.$19e=i.ConversationTrackingId;n.$iN=i.EmailLinks;n.$6K=i.OnSuccess;n.$1b_3=r.OnFailure};Microsoft.Crm.Client.Core.ViewModels.Actions.$7T.prototype={$4H:null,$6K:null,$1BP:null,$19e:null,$iN:null,get_$1rs:function(){return"webclient"},$2E:function(){return(this.$2Fw(),!Microsoft.Crm.Client.Core.Framework.PAL.Core.NativeBridge.get_Instance().$50.$1U)?(this.$kS(Microsoft.Crm.Client.Core.Framework.$7.$k("'NativeBridge.Instance.OfficeMailDispatcher' is not available.")),0):(this.$1H(Microsoft.Crm.Client.Core.Models.$9E,this.$2C2(),this.$$d_$5h,this.$$d_$kS),1)},$2W7:function(n){for(var i={},t=0;t<this.$iN.length;t++)i[this.$iN[t]]=n.emailLinkTrackingUrls[t];return i},$1vq:function(n){return n.emailTrackingPixelUrl},$2C2:function(){var n=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.Models.$9E,Microsoft.Crm.Client.Core.Framework.$7),i=[],t,r;return i.push(Xrm.Internal.messages.getEmailTrackingPixelUrl(this.$1BP,this.$19e,this.get_$1rs())),!$0.$0(this.$iN)&&this.$iN.length>0&&i.push(Xrm.Internal.messages.getEmailLinkTrackingUrls(this.$1BP,this.$19e,this.get_$1rs(),this.$iN)),t=this,r=this,Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(i){i.length===1?n.resolve(new Microsoft.Crm.Client.Core.Models.$9E(t.$1vq(i[0]),null)):i.length===2?n.resolve(new Microsoft.Crm.Client.Core.Models.$9E(t.$1vq(i[0]),t.$2W7(i[1]))):n.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093999))},function(t){Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.Responses.$1M.isInstanceOfType(t)?n.reject(Microsoft.Crm.Client.Core.Framework.$7.$HA(t.$20V())):n.reject(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2147093999))}),n},$kS:function(n){n.$m===-2147093999&&(n.$m=-2147093997);this.$1wH(n);this.$1R(n)},$5h:function(n){this.$6K(n);this.$1wI(n);this.$14()},$2Fw:function(){this.$4H=new Microsoft.Crm.Client.Core.Framework.$M8("MailAppAction",{Action:"RetrieveEmailFollowTrackingInfoAction"});Microsoft.Crm.Client.Core.Framework.$t.get_$6().$br(this.$4H)},$1wI:function(n){$0.$0(this.$4H)||(this.$4H.p.EmailFollowTrackingInfoRetrieved=!0,this.$4H.p.EmailFollowTrackingPixelUrl=n.$ob,this.$4H.p.EmailFollowTrackingUrlPairs=n.$oa,Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(this.$4H.rid),this.$4H=null)},$1wH:function(n){$0.$0(this.$4H)||(this.$4H.p.EmailFollowTrackingInfoRetrieved=!1,this.$4H.p.ErrorCode=n.$m,this.$4H.p.ErrorMessage=n.$F,Microsoft.Crm.Client.Core.Framework.$t.get_$6().$Qk(this.$4H.rid),this.$4H=null)}};Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Core.ViewModels.$SN.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SN",Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.$3EY.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.$3EY");Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.registerClass("Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$S5.registerClass("Microsoft.Crm.Client.Application.ViewModels.$S5",Microsoft.Crm.Client.Core.ViewModels.$Rn,Microsoft.Crm.Client.Core.ViewModels.$Ec);Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction",Microsoft.Crm.Client.Application.ViewModels.$S5);Microsoft.Crm.Client.Application.ViewModels.$At.registerClass("Microsoft.Crm.Client.Application.ViewModels.$At",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.$A4.registerClass("Microsoft.Crm.Client.Application.ViewModels.$A4",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction",Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction);Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3ET.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$3ET");Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$5a.registerClass("Microsoft.Crm.Client.Application.ViewModels.$5a",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$5a);Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction",Microsoft.Crm.Client.Application.ViewModels.$S5);Microsoft.Crm.Client.Application.ViewModels.$AV.registerClass("Microsoft.Crm.Client.Application.ViewModels.$AV",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction);Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$6K.registerClass("Microsoft.Crm.Client.Application.ViewModels.$6K",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$Ap.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Ap",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.PingServerAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.PingServerAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$Aq.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Aq",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction",Microsoft.Crm.Client.Application.ViewModels.$S5);Microsoft.Crm.Client.Application.ViewModels.$Ar.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Ar",Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction);Microsoft.Crm.Client.Application.ViewModels.$7X.registerClass("Microsoft.Crm.Client.Application.ViewModels.$7X",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase);Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$3r.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3r",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.$3r.$3EU.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3r.$3EU");Microsoft.Crm.Client.Application.ViewModels.$3r.$3EV.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3r.$3EV");Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowActionBase);Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$5a);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$5a);Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction",Microsoft.Crm.Client.Application.ViewModels.$5a);Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$A6.registerClass("Microsoft.Crm.Client.Application.ViewModels.$A6",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$Rs.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Rs",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Application.ViewModels.$6q.registerClass("Microsoft.Crm.Client.Application.ViewModels.$6q",Microsoft.Crm.Client.Application.ViewModels.$Rs);Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$Au.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Au",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction",Microsoft.Crm.Client.Application.ViewModels.$Rs);Microsoft.Crm.Client.Application.ViewModels.$7h.registerClass("Microsoft.Crm.Client.Application.ViewModels.$7h",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$3V.registerClass("Microsoft.Crm.Client.Application.ViewModels.$3V",Microsoft.Crm.Client.Application.ViewModels.$Rs);Microsoft.Crm.Client.Application.ViewModels.$BP.registerClass("Microsoft.Crm.Client.Application.ViewModels.$BP",Microsoft.Crm.Client.Application.ViewModels.$3V);Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.$8s.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$8s",Microsoft.Crm.Client.Application.ViewModels.$Rs);Microsoft.Crm.Client.Application.ViewModels.Actions.$7V.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$7V",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.$5X.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$5X",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$4I",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$4G",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.$8t.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$8t",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.$8e.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$8e",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.$AG.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$AG",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.$S2.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$S2",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y",Microsoft.Crm.Client.Application.ViewModels.Actions.$S2);Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$2f",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction",Microsoft.Crm.Client.Application.ViewModels.Actions.$S2);Microsoft.Crm.Client.Application.ViewModels.Actions.$BO.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$BO",Microsoft.Crm.Client.Application.ViewModels.$Rs);Microsoft.Crm.Client.Core.ViewModels.Actions.$7T.registerClass("Microsoft.Crm.Client.Core.ViewModels.Actions.$7T",Microsoft.Crm.Client.Core.ViewModels.$RA);Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.$7S.$$cctor();Microsoft.Crm.Client.Core.ViewModels.MailApp.Actions.RetrieveEmailEngagementSummaryAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.AssociateOneToManyAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$At.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$A4.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ExportToExcelAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.GetLookupListItemDescriptorAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.GetMultipleEntityFormDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.MetadataDownloadAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.OpenDocumentTemplateAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.OpenWordTemplateAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDocumentTemplatesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveAncestorsDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomControlTemplateDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDashboardSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDefaultListForEntityAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityMetadataByDisplayNameAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveFormDataXmlAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.DeleteSnapViewEntriesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.PopulateTileDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$AV.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveActivityCreateButtonsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveListByDisplayNameAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$6K.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityAttributeMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Ap.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveMultipleEntityMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveApplicationSettingsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ExecuteQuickFindAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ExecuteExternalSearchAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.PingServerAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveDataSetMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveFilteredProcessesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Aq.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Ar.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$7X.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalDocumentTemplatesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveProvisionedLanguagesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalCreateEnabledEntitiesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveGlobalMenuDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveControlConfigurationsDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$3r.$1vy='<fetch mapping="logical" distinct="false" aggregate="true" >\r\n\t\t\t\t<entity name="productpricelevel">\r\n\t\t\t\t\t<attribute name="uomid" groupby="true" alias="uomid" />\r\n\t\t\t\t\t<attribute name = "productpricelevelid" groupby="true" alias="productpricelevelid" />\r\n\t\t\t\t\t<attribute name = "amount" groupby="true" alias="amount" />\r\n\t\t\t\t\t<attribute name = "productid" groupby="true" alias="productid" />\r\n\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t<condition attribute = "pricelevelid" operator="eq" value="{0}" />\r\n\t\t\t\t\t\t<condition entityname = "basketrecord_productdetailentity" attribute="{12}" operator="null" />\r\n\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t<link-entity name = "{1}" to="{2}" from="{3}" link-type="inner">\r\n\t\t\t\t\t\t{4}\r\n\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t<condition attribute = "{5}" operator="in">\r\n\t\t\t\t\t\t\t{6}\r\n\t\t\t\t\t\t\t<\/condition>\r\n\t\t\t\t\t\t\t{7}\r\n\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t<link-entity name = "{9}" from="productid" to="{8}" link-type="outer" alias="basketrecord_productdetailentity" >\r\n\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute = "{10}" operator="eq" value= "{11}" />\r\n\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t<link-entity name = "product" to="{8}" from="productid" link-type="inner">\r\n\t\t\t\t\t\t\t<filter type = "or">\r\n\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute = "statecode" operator="eq" value= "0" />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t<condition attribute = "statecode" operator="eq" value= "3" />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t<\/entity>\r\n\t\t\t<\/fetch>';Microsoft.Crm.Client.Application.ViewModels.$3r.$1vz='<fetch mapping="logical" distinct="false" aggregate="true">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<entity name="recommendationcache">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name="recommendeditemid" groupby="true" alias="recommendeditemid"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name="recommendationrating" aggregate="max" alias="recommendationrating"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type="and" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="itemid" operator="in">{0}<\/condition>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="isrecommendationactive" operator="eq" value="1" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition entityname="productsuggestions_detailentity" attribute="{1}" operator="null" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<order alias="recommendationrating" descending="true" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<link-entity name="product" from="productid" to="recommendeditemid" link-type="inner" alias="a_7d64828b1789436db0d0cf80c2660962">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type="or" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="statecode" operator="eq" value="0" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="statecode" operator="eq" value="3" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<link-entity name="{2}" from="{3}" to="recommendeditemid" link-type="outer" alias="productsuggestions_detailentity" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type="and" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute="{4}" operator="eq" value="{5}" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/fetch>';Microsoft.Crm.Client.Application.ViewModels.$3r.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveUnboundTargetEntityMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveTaskBasedFlowStatusAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveHeaderMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveActivitiesEnabledForMobileAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveAttachmentContentsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveChartViewSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveChartSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveListMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveTimeZoneDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveViewSelectorDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveEntityReferencesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromIdAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveLookupViewQueryFromEntityTypeAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrievePersonalizationAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.GetRootDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveAttributeMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$1wM=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(["DocumentTemplatesFlyout","WordTemplatesFlyout"]);Microsoft.Crm.Client.Application.ViewModels.RetrieveCommandSetAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$A6.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$6q.$$cctor();Microsoft.Crm.Client.Application.ViewModels.DeleteRecordAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveCustomizationModelAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveOptionSetMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrievePinnedTileDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveRelationshipPinnedTileDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveTargetEntityMetadataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Au.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveWebResourcesAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.ScriptErrorRequestAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.SetCreateModelFromRetrievedEntityAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.SetStateRequestAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$7h.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$BP.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$3V.$$cctor();Microsoft.Crm.Client.Application.ViewModels.UpdateSyncStatusAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.WaitForEditEnabledAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.CalculateRollupFieldAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$1mY=!1;Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$1o1=!1;Microsoft.Crm.Client.Application.ViewModels.Actions.PopulateDocumentTemplateFlyoutAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$8s.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$7V.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$5X.$1w8='<filter type="and">\r\n\t\t\t\t\t<condition attribute="regardingobjectid" operator="eq" uitype="{0}" value="{1}"/>\r\n\t\t\t\t\t<condition attribute="regardingobjecttypecode" operator="eq" value="{2}"/>\r\n\t\t\t\t<\/filter>';Microsoft.Crm.Client.Application.ViewModels.Actions.$5X.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.$99=null;Microsoft.Crm.Client.Application.ViewModels.Actions.$4I.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.$99=null;Microsoft.Crm.Client.Application.ViewModels.Actions.$4G.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveDraftRecordsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveEntityRecordAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$8t.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$8e.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$AG.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z.$1ik="";Microsoft.Crm.Client.Application.ViewModels.Actions.$5Z.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessActiveStageAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$eh=null;Microsoft.Crm.Client.Application.ViewModels.Actions.$2f.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.RetrieveProcessControlDefinitionAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$BO.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Actions.$7T.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Application.ViewModels.js.srcmap
Type.registerNamespace("Microsoft.Crm.Client.Application.ViewModels");Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction=function(){this.$$d_$1Oj=Function.createDelegate(this,this.$1Oj);this.$$d_$w0=Function.createDelegate(this,this.$w0);Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("RetrieveUserQueues",Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.$2iw)};Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.$2iw=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction;return Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor.isInstanceOfType(t)&&(i.$99=t),i};Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.prototype={$99:null,$81:null,$9M:null,$2E:function(){this.$81=this.$99.OnSuccess;this.$9M=this.$99.OnFailure;var n=this.$99.QueryValue,t=n.userId,i=n.includePublic;return this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.RetrieveUserQueuesRequest(t,i),this.get_$Y()),this.$$d_$w0,this.$$d_$1Oj),1},$w0:function(n){this.$81(n);this.$14()},$1Oj:function(n){this.$9M(n);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction=function(){this.$$d_$1Oj=Function.createDelegate(this,this.$1Oj);this.$$d_$w0=Function.createDelegate(this,this.$w0);Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("GetCurrentServerDateTimeInUtcRequest",Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.$2gk)};Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.$2gk=function(n,t){var i=new Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction;return i.$99=t,i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1c1,i};Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.prototype={$99:null,$81:null,$9M:null,$2E:function(){this.$81=this.$99.OnSuccess;this.$9M=this.$99.OnFailure;var n=this.$99.QueryValue,t=n.entityName,i=n.entityId;return this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.GetCurrentServerDateTimeInUtcRequest(t,i),this.get_$Y()),this.$$d_$w0,this.$$d_$1Oj),1},$w0:function(n){this.$81(n);this.$14()},$1Oj:function(n){this.$9M(n);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric=function(){Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("AssociateRecordsForInteractionCentric",Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.$X)};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric,i=n;return t.$A_3=i,t.$J=i.$$d_$2sj,t.$JD=i.$JD,t.$FJ=i.$FJ,t.$5T=i.$5T,t.$9A=i.$9A,t.$6c=i.$6c,t.$52=i.$52,t};Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.prototype={$JD:null,$FJ:null,$5T:0,$6c:null,$52:null,$9A:0,$2E:function(){return this.$D2(this.$JD,this.$FJ,this.$5T,this.$6c,this.$52,this.$9A),1}};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("FetchXmlForFilterGraph",Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2YM);Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("FilterGraphFetchXmlWithCallback",Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2Wq)};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2YM=function(n,t){var i=Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2YL(n,t);return i.$W8=2,i};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2YL=function(n,t){var r=n,u=t,i=new Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction,f;return i.$4y=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$QT(r),i.$19w=r.$$d_$2qb,i.$1b_3=r.$$d_$2qj,i.$A_3=r,i.$F7="",f=Microsoft.Crm.Client.Core.Storage.Common.$15.$AD(r.$D),i.$2O=$0.$0(u.QueryValue)?r.$Vn:Array.isInstanceOfType(u.QueryValue)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$10s(u.QueryValue,16,f):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(u.QueryValue.toString()),i};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$2Wq=function(n,t){var r=n,u=t,i=new Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction;return i.$4y=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$QT(r),i.$19w=r.$$d_$2qd,i.$1b_3=u.OnFailure,i.$A_3=r,i.$F7="",i.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(u.QueryValue.toString()),i};Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.prototype={$19w:null,$1Zo:function(n){var t=this.$A_3;if(t.$Vn=n,this.$A_3.get_$BV()){this.$14();return}this.$1V=this.$1De(n);this.$Ma()},$1De:function(n){var t=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(n,"");return t.$4b=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet([this.$A_3.$1U8]),t.$KX=!0,t.set_$Ra(1),t.$4W=20,t},$3d:function(n){this.$19w(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction=function(){this.$$d_$1Oj=Function.createDelegate(this,this.$1Oj);this.$$d_$w0=Function.createDelegate(this,this.$w0);Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerDynamicQuery("RetrieveRecordWallRequest",Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$2iv)};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$2iv=function(n,t){Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$99=t;var i=new Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction;return i.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$w1,i};Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.prototype={$81:null,$9M:null,$2E:function(){this.$81=Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$99.OnSuccess;this.$9M=Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$99.OnFailure;var n=Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$99.QueryValue,t=n.entityReference,i=n.pageNumber,r=n.pageSize,u=n.commentsPerPost,f=n.startDate,e=n.endDate,o=n.type,s=n.source;return this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.RetrieveRecordWallRequest(t,i,r,u,f,e,o,s),this.get_$Y()),this.$$d_$w0,this.$$d_$1Oj),1},$w0:function(n){this.$81(n);this.$14()},$1Oj:function(n){this.$9M(n);this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.$Ah=function(){Microsoft.Crm.Client.Application.ViewModels.$Ah.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$Ah.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("QuickViewFormFetchData",Microsoft.Crm.Client.Application.ViewModels.$Ah.$2WP)};Microsoft.Crm.Client.Application.ViewModels.$Ah.$2WP=function(n){var i=n,t=new Microsoft.Crm.Client.Application.ViewModels.$Ah;return t.$A_3=i,t};Microsoft.Crm.Client.Application.ViewModels.$Ah.prototype={$2E:function(){var n=this.$A_3,t=this,i=this;return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(n.$Bj,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(n.$4I),Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),Microsoft.Crm.Client.Core.Framework.$q.$4t(n.$1P,n.$1P)).then(function(i){n.$DI(i);t.$14()},function(t){n.$7S(t);i.$1R(t)}),1}};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveFilterGraphByIdAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.$1aK)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.$1aK=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction;return t.$1aL(n),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.prototype={$2jw:function(){this.$A_3.set_ViewNameText(this.$I0.$1q)},$3BD:function(n){this.$A_3.$2yL(n)},$20Y:function(n){var i=n,t=this.$A_3,r,u,f,e;return $0.$0(t.$og)||(i=t.$og),u=t.$GX,u?t.$4l().get_IsMultipleEntityGraphSupported()?(e=this.$A_3.$lI,r=Microsoft.Crm.Client.Core.Storage.Common.$2W.$2rb(i,e,this.$A_3.$4l().$dI)):(f=t.$sq,r=Microsoft.Crm.Client.Core.Storage.Common.$2W.$26C(i,f)):r=i,Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction.prototype.$20Y.call(this,r)},$1t6:function(){for(var s,i,n,t=null,r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),e=this.$8u.$9f.$Fq,o=e.$jG,c=o.length,u=0;u<c;++u)s=o[u],r.add(s.$46);for(i=0;i<this.$8u.$9f.$EI.get_Count();i++)r.add(this.$8u.$9f.$EI.get_$R(i).$46);for(var h=e.$2Q,l=h.length,f=0;f<l;++f)n=h[f],n.$Jr&&!r.contains(n.$46)&&(t||(t={}),t[n.$46]=n.$Jr);return t},$1wD:function(n,t){var u=t,i,r,f;for(i in u)if(r={key:i,value:u[i]},f=r.value,f.$fe===n.$fe)return r;return null},$1YE:function(n,t,i){var u={},e=n,f,r,o,s;for(f in e)r={key:f,value:e[f]},r.key in t?(o=t[r.key],s=this.$1wD(o,i),u[s.key]=r.value):u[r.key]=r.value;return u},$2Su:function(n,t){for(var f,o,s,i=this.$1t6(),h=this.$1YE(n.$6M,t,i),c=this.$1YE(n.$Qx(),t,i),l=this.$1YE(n.$27,t,i),a=n.$4b.$20(),v=a.columns,e={},r=Array.clone(v),u=0;u<r.length;u++)f=r[u],f in t&&(o=t[f],s=this.$1wD(o,i),r[u]=s.key);return e.columns=r,n.$1t4(h,c,l,e)},$23g:function(n,t,i,r,u,f,e,o){for(var a,s,c,l,v,h=0;h<r.get_Count();h++)(a=r.get_$R(h),i[a])&&(s=i[a],c=-1,o&&(c=s.get_$R(s.get_Count()-1)),l=$0.$1Y(u)?t.get_$R(s.get_$R(0)).clone():this.$2Su(t.get_$R(s.get_$R(0)),u),o&&!$0.$1Y(f)&&(v=t.get_$R(s.get_$R(0)).$6M[f],e[v]=null),o?c>n.get_Count()-1?n.add(l):n.insert(c,l):n.add(l))},$1vk:function(){var i,n,t,u;if(this.$A_3.get_$BV()){this.$14();return}i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveChartDataAction.ProcessFetchData");i.start();this.$8u.$2F5();var f=this.$20Y(this.$8u.get_$2IO()),e=this.$A_3.$4l().get_IsMultipleEntityGraphSupported()?this.$8u.$2g3(this.$A_3.$4l().$dI):this.$8u.get_$1K(),r=new Microsoft.Crm.Client.Core.Storage.DataApi.$2x(e);r.$KX=!0;r.$4W=this.$8u.$9f.$Fq.$CA;i.stop();n=[];Array.addRange(n,this.$8u.$9f.$2Bw());this.$A_3.$1ee()?Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(new Xrm.Gen.IntersectRecordsWithQueueAndAggregateRequest(new Microsoft.Crm.Client.Core.Framework.Guid(this.$A_3.$Se),this.$8r.Id,this.$JJ.Id,this.$A_3.$sq),this.get_$Y())):Array.add(n,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1jy(r,f,this.get_$Y()));t=this;u=this;this.$9H(Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(n),function(n){for(var u,f,r=null,i=0;i<n.length;i++)($0.$0(n[i])||Object.getType(n[i])!==Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection)&&($0.$0(n[i])||Object.getType(n[i])!==Xrm.Gen.IntersectRecordsWithQueueAndAggregateResponse)?(u=n[i].$1mk(),f=t.$8u.$9f.$tt[u[0].$P],u.length>0&&!$0.$0(f)&&f.$Nl.$156(u,!1)):Object.getType(n[i])===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection?r=n[i]:Object.getType(n[i])===Xrm.Gen.IntersectRecordsWithQueueAndAggregateResponse&&(r=n[i].entityCollection);r?t.$El(function(){t.$25X(r)},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$1D1):t.$14o(Microsoft.Crm.Client.Core.Framework.$7.$k("load chart data failure, EntityCollection is not found in results! "))},function(n){u.$25V(n)})},$2rZ:function(n){var g=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveFilterGraphDataAction_MergeBaseSetFilteredSet"),rt,ut,k,a,ft,et,st,v,i,ht,ct,lt,at;g.start();for(var o=this.$A_3,t=o.$GX,r=t.$iD,s=t.$1Au,u=t.$1B8,nt=t.$1Av,tt=t.$1BA,y=t.$19l,p=this.$1ru(t.$1U4),h=this.$1ru(t.$1UI),c=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord)),e=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty(),it=n.get_entities(),vt=it.length,w=0;w<vt;++w){var f=it[w],l=f.$6M,b=l[s];s in l||(rt=f.$Qx(),ut=rt[s],b=this.$12u(ut));k=!1;p[b]=null;b in p||(e.add(f.clone()),k=!0);u&&(a=l[u],u in l||(ft=f.$Qx(),et=ft[u],a=this.$12u(et)),h[a]=null,a in h||k||e.add(f.clone()));c.add(f)}if(e.get_count()>0){for(var ot=t.$iD.get_entities(),yt=ot.length,d=0;d<yt;++d)st=ot[d],e.add(st.clone());this.$1sv(e,ht={val:v},ct={val:i});v=ht.val;i=ct.val;o.set_$1oA(i);o.$1B9=v.get_Count()>1?v.get_$R(1).$L:"";r=i.$iD;s=i.$1Au;u=i.$1B8;nt=i.$1Av;tt=i.$1BA;y=i.$19l;o.$1AE=!0}return this.$23g(c,r,p,nt,y,u,h,!0),u&&this.$23g(c,r,h,tt,y,null,null,!1),lt=this.$2PD(r.$4a),at=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(c.toArray(),r.$KU,r.$DJ,r.$VT,n.$1V,lt),g.stop(),at},$1pH:function(n,t,i,r){var f,u;n in t?(f=t[n],f.add(r)):(u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number)),u.add(r),t[n]=u,i.add(n))},$2LL:function(n,t){for(var r,i=0;i<t.get_Count();i++)r=n[t.get_$R(i)],r.add(i),n[t.get_$R(i)]=r},$2TQ:function(n,t){var u={},f=n,r,i;for(r in f)i={key:r,value:f[r]},u[i.key]=t.contains(i.key)?"0":i.value;return u},$2TP:function(n,t){var u=n,f=u,r,i;for(r in f)i={key:r,value:f[r]},t.contains(i.key)&&(i.value.value=0),u[i.key]=i.value},$2SG:function(){for(var r,t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),u=this.$8u.$9f.$Fq.$jG,i=u,f=i.length,n=0;n<f;++n)r=i[n],t.add(r.$46);return t},$2Rl:function(){for(var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i=this.$8u.$9f.$EI,n=0;n<i.get_Count();n++)t.add(i.get_$R(n).$L);return t},$12u:function(n){var t,i;if($0.$8J(n))return"undefined";if(t=n.value,!t)return null;i=n.attributeType;switch(i){case 21:return this.$12u(t.value);case 1:case 6:case 9:return t.name;case 15:return t.rawguid;case 2:return t.toString();case 13:case 12:case 0:case 11:return t.value;default:return t.toString()}},$2yY:function(n){var t=this.$A_3,f=t.$GX,i,r,u;if(!t.$4l().get_IsMultipleEntityGraphSupported()){i=this.$8u.$9f.$LN;for(r in i)if(u={key:r,value:i[r]},u.key!==this.$I0.$6e)return t.$zt=!0,t.$13J(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_0x8004e019"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("SignInError.OrgIsInAdminOnlyMode.SecondMessage")),Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty()}return $0.$1Y(f)?(this.$1sw(n,!0),n):(t.$zt=!0,t.$1TP&&!$0.$0(this.$8u.$9f.$DX.$7j.$49.$Jr)?(this.$1sw(n,!1),n):this.$2rZ(n))},$1sw:function(n,t){var f=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("RetrieveFilterGraphDataAction_ProcessDataRecords:NoZeroValueSet"),i,r,u,e,o;f.start();i=this.$A_3;this.$1sv(n,e={val:r},o={val:u});r=e.val;u=o.val;i.$1B9=r.get_Count()>1?r.get_$R(1).$L:"";t?i.set_$1oA(u):i.$376(u);i.$4l().get_IsMultipleEntityGraphSupported()&&(i.$19R=this.$8u.$9f.$LN);f.stop()},$1sv:function(n,t,i){var v=new Array(n.get_entities().length),s={},y={},h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),p=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),d,g,l,nt,tt,it,a,rt,ut,ft;t.val=this.$8u.$9f.$EI;for(var f=t.val.get_$R(0).$46,u=t.val.get_Count()>1?t.val.get_$R(1).$46:"",w=this.$2SG(),et=this.$1t6(),e=0,b=n.get_entities(),ot=b.length,c=0;c<ot;++c){var r=b[c],o=r.$6M,k=o[f];f in o||(d=r.$Qx(),g=d[f],k=this.$12u(g));this.$1pH(k,s,h,e);this.$2LL(s,h);Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(l=o[u],u in o||(nt=r.$Qx(),tt=nt[u],l=this.$12u(tt)),this.$1pH(l,y,p,e));it=this.$2TQ(r.$6M,w);a=r.$Qx();this.$2TP(a,w);rt=r.$1t4(it,a,null,null);v[e]=rt;e++}ut=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection(v,n.$KU,n.$DJ,n.$VT,n.$1V,n.$4a);ft=this.$2Rl();i.val=new Microsoft.Crm.Client.Core.ViewModels.$HM(ut,s,y,et,f,u,h,p,ft)},$1ru:function(n){var t,i,r,u,f;if($0.$1Y(n))return null;t={};i=n;for(r in i)u={key:r,value:i[r]},f=this.$2PE(u.value),t[u.key]=f;return t},$2PD:function(n){return $0.$1Y(n)?null:new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(n.$IH,n.$bC,n.$Cj)},$2PE:function(n){for(var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number)),t=0;t<n.get_Count();t++)i.add(n.get_$R(t));return i}};Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveVisualFilterDataByIdAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.$1aK)};Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.$1aK=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction;return t.$1aL(n),t};Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.prototype={$2jz:function(){this.$A_3.$4O=this.$SI.$1q}};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveSavedQueryDetailsAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.$XL)};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.$XL=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction,i;return r.$1Zx=n.$1T5,i=t,$0.$0(i.OnSuccess)||(r.$J=i.OnSuccess),$0.$0(i.OnFailure)||(r.$1b_3=i.OnFailure),r};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.prototype={$J:null,$1Zx:null,$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(this.$1Zx,this.get_$Y()),this.$$d_$3d,this.$$d_$4L),1},$3d:function(n){n.get_$3F6()>0?(this.$J(n),this.$14()):this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2146088111))},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveFetchXmlFromSavedQueryId",Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.$XL)};Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.$XL=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId,i;return r.$1dJ(n),i=t,$0.$0(i.OnSuccess)||(r.$J=i.OnSuccess),$0.$0(i.OnFailure)||(r.$1b_3=i.OnFailure),r};Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.prototype={$J:null,$hX:null,$1dJ:function(n){var t,r,i;Microsoft.Crm.Client.Core.ViewModels.$9M.isInstanceOfType(n)?(t=n,this.$A_3=t,r=t.$iV,this.$hX=new Microsoft.Crm.Client.Core.Framework.Guid(r.savedqueryid),this.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$jx):(i=n,this.$A_3=i,this.$hX=new Microsoft.Crm.Client.Core.Framework.Guid(i.$Xa),this.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$jx)},$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(16,this.get_$1d(),null,1,!1,this.$hX.toString().toLowerCase()),this.get_$Y()),this.$$d_$3d,this.$$d_$4L),1},$3d:function(n){if(n.get_$3F6()>0){var t=n.get_$R(0),i=t.get_$E5().$CC(1);this.$J(i);this.$14()}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2146088111))},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction=function(){this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveCardConfigurationAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.$XL)};Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.$XL=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction,i;return r.$1dJ(n),i=t,$0.$0(i.OnSuccess)?Microsoft.Crm.Client.Core.Framework.Utils.$A.$4E(i.OnSuccess,"queryDescriptor.OnSuccess"):r.$6K=i.OnSuccess,r};Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.prototype={$P:null,$6K:null,$1dJ:function(n){var t=n;this.$A_3=t;this.$P=t.$P;this.$4y=Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$jx},$2E:function(){return this.$1H(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$f),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5J(new Microsoft.Crm.Client.Core.Storage.DataApi.$MJ(41,this.get_$1d(),this.$P),this.get_$Y()),this.$$d_$3d,this.$$d_$4L),1},$3d:function(n){if(n.get_$3F6()>0){var i=n.get_$R(0),r=i.get_$E5().$CC(0),u=r,t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(u.ViewModelDescriptor,null);t.$2Z();this.$6K(t);this.$14()}else this.$6K(null),this.$14()},$4L:function(n){this.$1R(n)}};Microsoft.Crm.Client.Application.ViewModels.$As=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);Microsoft.Crm.Client.Application.ViewModels.$As.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.$As.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("FetchXmlForSimilarCasesForISH",Microsoft.Crm.Client.Application.ViewModels.$As.$2WU)};Microsoft.Crm.Client.Application.ViewModels.$As.$2WU=function(n,t){var r=n,u=t,i=new Microsoft.Crm.Client.Application.ViewModels.$As;return i.$4y=Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.$QT(r),i.$J=r.$$d_$3d,i.$1b_3=r.$$d_$4L,i.$A_3=r,i.$2O=$0.$0(u.QueryValue)?r.$2O:Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(u.QueryValue.toString()),i.$F7=r.get_DefinitionId(),i.$C3=r.$1Z.$9S+1,i};Microsoft.Crm.Client.Application.ViewModels.$As.prototype={$2E:function(){var n=new Xrm.Gen.GetSimilarRecordsRequest(new Xrm.Objects.EntityReference(Xrm.Page.data.getEntity().getEntityName(),new Microsoft.Crm.Client.Core.Framework.Guid(Xrm.Page.data.getEntity().getId())),"",new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["title","modifiedon"]));return this.$1H(Xrm.Sdk.Response,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$1i(n,this.get_$Y()),this.$$d_$3d,this.$$d_$4L),1},$3d:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty();$0.$0(n)||(t=n.entityCollection);Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction.prototype.$3d.call(this,t)}};Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction=function(){Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("SetInteractionCentricCreateEntityReference",Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.$X)};Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.$X=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction,i=n;return t.$A_3=i,t.$18=i.get_ModelContext(),t.$Ek=i.$Ek,t.$Eq=i.$K.$8n.get_ModelContext().$I,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId=function(){Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveSavedQueryDetailsFromSavedQueryId",Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.$XL)};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.$XL=function(n,t){var r=new Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId,i;return r.$1dJ(n),i=t,$0.$0(i.OnSuccess)||(r.$J=i.OnSuccess),$0.$0(i.OnFailure)||(r.$1b_3=i.OnFailure),r};Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.prototype={$3d:function(n){if(n.get_$3F6()>0){var t=n.get_$R(0);this.$J(t);this.$14()}else this.$1R(Microsoft.Crm.Client.Core.Framework.$7.$f9(-2146088111))}};Type.registerNamespace("Microsoft.Crm.Client.Application.ViewModels.Actions");Microsoft.Crm.Client.Application.ViewModels.Actions.$7U=function(){Microsoft.Crm.Client.Application.ViewModels.Actions.$7U.initializeBase(this)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7U.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$I.registerQuery("RetrieveInteractionCentricProcessControlFirstStage",Microsoft.Crm.Client.Application.ViewModels.Actions.$7U.$X)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7U.$X=function(n){return Microsoft.Crm.Client.Application.ViewModels.Actions.$7U.$eC(n)};Microsoft.Crm.Client.Application.ViewModels.Actions.$7U.$eC=function(n){var t=new Microsoft.Crm.Client.Application.ViewModels.Actions.$7U;return t.$A_3=n,t.$P=n.$D,t.set_$um(t.$$d_$27c),t.$1b_3=n.$$d_$28T,t.$15b=n.$$d_$28U,t};Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.registerClass("Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric",Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsAction);Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$Ah.registerClass("Microsoft.Crm.Client.Application.ViewModels.$Ah",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveChartDataAction);Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction",Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction);Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction",Microsoft.Crm.Client.Core.ViewModels.$Rn);Microsoft.Crm.Client.Application.ViewModels.$As.registerClass("Microsoft.Crm.Client.Application.ViewModels.$As",Microsoft.Crm.Client.Application.ViewModels.RetrieveListDataAction);Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.registerClass("Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction",Microsoft.Crm.Client.Application.ViewModels.SetQuickCreateEntityReferenceAction);Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.registerClass("Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId",Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId);Microsoft.Crm.Client.Application.ViewModels.Actions.$7U.registerClass("Microsoft.Crm.Client.Application.ViewModels.Actions.$7U",Microsoft.Crm.Client.Application.ViewModels.Actions.$7Y);Microsoft.Crm.Client.Application.ViewModels.RetrieveUserQueuesDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.GetCurrentServerDateTimeInUtcAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.AssociateRecordsActionForInteractionCentric.$$cctor();Microsoft.Crm.Client.Application.ViewModels.FilterGraphRetrieveListDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$99=null;Microsoft.Crm.Client.Application.ViewModels.RetrieveRecordWallRequestAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$Ah.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveFilterGraphDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveVisualFilterDataAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveFetchXmlFromSavedQueryId.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveCardConfigurationAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.$As.$$cctor();Microsoft.Crm.Client.Application.ViewModels.SetInteractionCentricCreateEntityReferenceAction.$$cctor();Microsoft.Crm.Client.Application.ViewModels.RetrieveSavedQueryDetailsFromSavedQueryId.$$cctor();Microsoft.Crm.Client.Application.ViewModels.Actions.$7U.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Application.ICViewModels.js.srcmap
var Dynamics=Dynamics||{};Dynamics.Telemetry=function(){var a={},d={MaxInMemoryActivities:200,MaxMetricsPerActivity:100,MaxMetricValueChars:50,InMemoryActivitiesReportingThreshold:10,MaxPropertiesPerMetric:10},b={ReportingEndpoint:new String(""),IsReportingEnabled:false},c={isOutstandingRequest:false,numberOfActivities:0};$(window).on("beforeunload",function(){Dynamics.Telemetry.forceReportMetrics()});function h(e,d,c,a,b){this.n=e;this.v=d;this.t=c;this.rid=a;this.p=b}function m(d,c,a,b){this.n=d;this.t=c;this.rid=a;this.p=b;this.f=false}function l(e){if(!b.ReportingEndpoint||b.ReportingEndpoint.length===0)return;if(!(e.rid in a)){if(c.numberOfActivities>=d.MaxInMemoryActivities)return;a[e.rid]=[];e.p.IsActivityStart=true;var g=new h(e.n,null,e.t,e.rid,e.p);f(g)}}function f(e){if(!b.ReportingEndpoint||b.ReportingEndpoint.length===0)return;if(!e.n||!e.rid)return;if(!(e.rid in a))return;if(a[e.rid].length>=d.MaxMetricsPerActivity){g(e.rid);return}if(e.v!=null&&typeof e.v==="object")return;if(Object.keys(e.p).length>b.MaxPropertiesPerMetric)return;if(typeof e.v==="string")e.v=e.v.substr(0,d.MaxMetricValueChars);var f=e.rid;e[f]=undefined;a[f].push(e);c.numberOfActivities++;j()}function j(){$.each(a,function(b){a[b]&&a[b].f&&e()})}function e(){if(c.isOutstandingRequest)return;c.isOutstandingRequest=true;var d=k();a=i();$.ajax({type:"POST",url:b.ReportingEndpoint,data:d,contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){c.isOutstandingRequest=false;if(a.d){var b=Object.create(a.d);b.Success}},error:function(){c.isOutstandingRequest=false}})}function k(){var b={},e=b.request={},d=e.MetricsCollections=[];$.each(a,function(b,e){if(a[b].f){d.push({RequestId:b,Metrics:e});c.numberOfActivities--}});var f=JSON.stringify(b);return f}function i(){var b={};$.each(a,function(c,d){if(!a[c].f)b[c]=d});return b}function g(b){b in a && (a[b].f=true, e())}return{constants:d,startActivity:l,addDataPointToActivity:f,Metric:h,telemetryContext:b,forceReportMetrics:e,Activity:m,finishActivity:g}}()
try
{
(function ()
{
var appSessionId = '';
function TryReportInitEvent() {
try
{
// Start a new telemetry session.
StartNewSession();
// Discover the telemetry endpoint for the current org.
var reportingEndpointUrl = DiscoverEndpointAndReportInitEvent();
}
catch (e) {
// Failsafe: Ignore telemetry errors.
console.log("Error when trying to report init event");
}
}
function DiscoverEndpointAndReportInitEvent() {
// Build the discovery URL
var port = window.location.port;
var host = window.location.hostname;
var orgUrl = window.location.protocol + '//' + host;
if (port) {
orgUrl += ":" + port;
}
var discoveryUrl = 'https://crminsights.crm.dynamics.com/api/Discovery/?originUrl=' + orgUrl;
// Process the discovery response and report the MoCA init event.
var processResponse = function (xhr) {
var reportingEndpointUrl = xhr.responseText;
if (!reportingEndpointUrl || reportingEndpointUrl == '' || reportingEndpointUrl == '""') {
console.log("Reporting Endpoint not found.");
// Set the Endpoint url of TelemetryReporter as an empty string
var currentTimeStamp = CreateAndStoreTimestamp();
Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().InitializeRequestManager('');
return;
}
reportingEndpointUrl = reportingEndpointUrl.replace(/"/g, "")
reportingEndpointUrl = "https://" + reportingEndpointUrl + "/api/crminsightseventdata"
ReportAppInitEvent(reportingEndpointUrl);
// Set the endpoint url of the TelemetryReporter class
Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().InitializeRequestManager(reportingEndpointUrl);
}
// Start the CORS request for discovery
MakeCorsRequest(discoveryUrl, "GET", null, processResponse);
}
// Report the MoCA Init event to the telemetry endpoint
function ReportAppInitEvent(reportingEndpointUrl) {
var currentTimeStamp = CreateAndStoreTimestamp();
var eventValues = {
StartTime: currentTimeStamp,
AppVersion: VERSION_NUMERIC_VALUE
};
var eventName = 'moca_init';
// Changing the event name in case of Service Desk context.
var currentUrl = window.location.href.toLowerCase();
if (currentUrl.indexOf('engagementhub.aspx') != -1)
{
eventName = 'ServiceDeskInit';
}
var eventData = [];
eventData.push(
{
ActivityId: appSessionId,
EventName: eventName,
EventValues: eventValues
});
MakeCorsRequest(reportingEndpointUrl, "POST", eventData);
}
function MakeCorsRequest(reportingEndpointUrl, method, data, onResponseAvailable) {
try {
var xhr = new XMLHttpRequest();
xhr.open(method, reportingEndpointUrl);
if (method === "POST") {
xhr.setRequestHeader("Content-Type", "application/json; charset=utf-8");
}
xhr.setRequestHeader("accept", "application/json");
xhr.onload = function () {
if (onResponseAvailable) {
onResponseAvailable(xhr);
}
else {
console.log("XHR Status: ", xhr.status, "-", xhr.statusText);
}
}
xhr.send(JSON.stringify(data));
}
catch (e) {
console.log("An unexpected error occurred while reporting init event");
}
}
function StartNewSession() {
var isFirstLoad = true;
var index = window.location.search.indexOf('isfirstload');
if (index != -1) {
var valuePairs = window.location.search.substr(index).split('&',1);
var valuePair = valuePairs[0].split('=');
if (valuePair.length == 2 && valuePair[1] == 'false') {
isFirstLoad = false;
}
}
var sessionIdKey = 'MoCASessionID';
if (isFirstLoad)
{
appSessionId = NewGuid();
window.localStorage.setItem(sessionIdKey, appSessionId);
}
else {
appSessionId = window.localStorage.getItem(sessionIdKey);
}
}
function CreateAndStoreTimestamp() {
var timeStamp = new Date();
var timeStampString = JSON.stringify(timeStamp).replace(/"/g, "");;
window.localStorage.setItem('MoCAInitTime', timeStampString);
return timeStampString;
}
function NewGuid() {
function s4() {
return Math.floor((1 + Math.random()) * 0x10000)
.toString(16)
.substring(1);
}
return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
s4() + '-' + s4() + s4() + s4();
}
TryReportInitEvent();
}());
}
catch (e)
{
console.log('Unexpected error when initializing telemetry. The failure can be ignored so that the app can load.')
}
