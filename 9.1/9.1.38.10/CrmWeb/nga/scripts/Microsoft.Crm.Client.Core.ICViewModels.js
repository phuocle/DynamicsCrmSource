Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.$Ek=function(){};Microsoft.Crm.Client.Core.ViewModels.$Ek.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$Ek");Microsoft.Crm.Client.Core.ViewModels.$El=function(){};Microsoft.Crm.Client.Core.ViewModels.$El.registerInterface("Microsoft.Crm.Client.Core.ViewModels.$El");Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.prototype={task:0,email:1,appointment:2,phoneCall:3,incidentResolution:4,note:5,systemPost:6,userPost:7,socialActivity:8,customActivity:9,incident:10,account:11};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.prototype={open:0,completed:1,canceled:2,scheduled:3};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.prototype={high:0,normal:1,low:2};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.prototype={incoming:0,outgoing:1};Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.registerEnum("Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection",!1);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel=function(n){var r,t,i;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.initializeBase(this,[n]);this.$NR={};r=Microsoft.Crm.Client.Core.Framework.$1T.$d("IsUSD");!$0.$0(r)&&Boolean.isInstanceOfType(r)&&(this.$Z5=r);t=this;this.$1Lb=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){t.$4e.$AV===t.$4e.$fi?t.$4e.$1i3(!1):t.$2s8(!1)},1004);i=this;this.$1La=new Microsoft.Crm.Client.Core.Framework.Binding.$RG(function(){i.$4e.$AV+1===i.$4e.get_$1RB()?i.$4e.$1i3(!0):i.$2s8(!0)},1004)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.prototype={$1Lb:null,$1La:null,get_ListNavigationRecordCount:function(){if($0.$0(this.$4e))return"";var n=this.$4e.$AV+1;return n.toString()+"/"+this.$4e.$zR.toString()},$2s7:function(n){n?this.set_NextNavigationIndex(this.$4e.$AV+1):this.set_NextNavigationIndex(this.$4e.$AV-1);for(var t=this.$4e.$24L(this.$MX),i=!0;!t;){if(!this.$MX||this.$MX===this.$4e.$zR-1){i=!1;break}n?this.set_NextNavigationIndex(this.$MX+1):this.set_NextNavigationIndex(this.$MX-1);t=this.$4e.$24L(this.$MX)}return i?!0:(Microsoft.Crm.Client.Core.ViewModels.$Q.$17u(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_0x8004020e"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Message_0x80042300"),0),!1)},$2s8:function(n){var i,t,u,f,r;this.$2s7(n)&&(this.$4e.$lo=!0,i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$5S().get_$33(),t=this.get_CurrentListNavigationDataContext().get_$1B(),Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(t)&&(u=t,f=u.$I.$a,f.LogicalName!=="queueitem"&&(i.$K.$M.EntityReference=null)),r=new Microsoft.Crm.Client.Core.Commands.$A3(i),r.execute(),r.dispose(),t=this.get_CurrentListNavigationDataContext().get_$1B(),Microsoft.Crm.Client.Core.Models.$c.isInstanceOfType(t)&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$HK().$1Mv(t),Microsoft.Crm.Client.Core.ViewModels.$e.$1V9(t)))},get_NavigateToPrevious:function(){return this.$1Lb},set_NavigateToPrevious:function(n){return this.$1Lb=n,n},get_NavigateToNext:function(){return this.$1La},set_NavigateToNext:function(n){return this.$1La=n,n},$NR:null,$SO:null,$pC:null,$202:function(n,t){if($0.$0(this.$pC)){var i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveDashboardSelector",null,!0,[1,2]),r=this;i.OnSuccess=function(n){if(!$0.$0(n)&&!$0.$0(n.$Cx)){var i=n.$Cx.Controls;r.$1Rp(i);t()}};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",n,i)}else t()},$1Rp:function(n){var r,t,s,h,w,f,c,l,b,e,a;for(this.$NR={},this.$pC=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$65)),r=0;r<n[0].Children.length;r++){var u=n[0].Children[r],v=u.Id,i=u.LabelText;switch(i){case"Service Desk Dashboard":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentric_ServiceDeskDashboard");break;case"Knowledge Manager":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentric_KnowledgeManagerDashboard");break;case"My Knowledge Dashboard":i=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentric_MyKnowledgeDashboard")}var o=this.$1wA(u.CommandParameters.Descriptors,"Properties"),y=!1,p=u.CommandParameters.IsDefault;if(o){t=null;s=o;for(h in s)w={key:h,value:s[h]},f=w.value,f&&f.Name==="PrimaryEntity"&&(t=f.Value,this.$NR[t]||(this.$NR[t]=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$65))));c=o;for(l in c)if(b={key:l,value:c[l]},e=b.value,e&&e.Name==="DashboardCategory"){a=e.Value.toString().split("_");a.length>1&&a[1]==="1"&&t&&(y=!0,this.$NR[t].add(new Microsoft.Crm.Client.Core.ViewModels.$65(v,i,t,p)));y||this.$pC.add(new Microsoft.Crm.Client.Core.ViewModels.$65(v,i,t,p));break}}}},$1wA:function(n,t){var r,u,i,f;if(!n)return null;if(n[t])return n[t];r=n;for(u in r)if((i={key:u,value:r[u]},i.key!=="__proto__"&&i.value&&(i.value.toString().toLowerCase()==="[object object]"||!(i.value.toString().indexOf(t)<0)))&&(f=this.$1wA(i.value,t),f))return f;return null},$2ka:function(n){var i=n.$yE[0],t;for(Xrm.Utility.create(i,null,null,null,null,null),t=0;t<n.$yE.length;t++)n.$yE[t]=null;n=null},$2Kz:function(n){if($0.$0(this.$5B)&&(this.$5B=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4B))),!this.$5B.contains(n)){if(this.$5B.add(n),Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var t=n;t=$.extend(!0,{},n);this.get_$JY().add(t)}this.$tZ=null;n.set_$KH(!0);this.$1wJ()}},clearSelectedViewModels:function(){var t=!1,n;if(!$0.$0(this.$5B)){for(n=0;n<this.$5B.get_Count();n++)this.$5B.get_$R(n).$2P1(),t=!0;this.$5B.clear()}t&&this.$1a4()},GetRootTabIndex:function(){return Microsoft.Crm.Client.Core.Framework.UserAgent.getInstance().get_TabbingSupported()?1e3:-3e4},$30y:function(n){var t,i;if(!$0.$0(this.$5B)&&(this.$5B.contains(n)||this.get_$JY().contains(n))){if(this.$5B.remove(n),!this.$5B.contains(n))for(t=0;t<this.$5B.get_Count();t++)if(this.$5B.get_Items()[t].get_Id()===n.get_Id()){this.$5B.remove(this.$5B.get_Items()[t]);break}if(this.get_$JY().remove(n),!this.get_$JY().contains(n))for(i=0;i<this.get_$JY().get_Count();i++)if(this.get_$JY().get_Items()[i].get_Id()===n.get_Id()){this.get_$JY().remove(this.get_$JY().get_Items()[i]);break}this.$tZ=null;this.$2XK()}},$2gp:function(n){var t,i;return Microsoft.Crm.Client.Core.ViewModels.$74.isInstanceOfType(n)?(t=n,$0.$0(t))?null:(i={},i.name=t.$y3,i.id=t.$y2,i.type=t.$y4,i):null},isNavBarOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$4L.getParamStatus("navbar")},isBackButtonOff:function(){return Microsoft.Crm.Client.Core.ViewModels.$4L.getParamStatus("backbtn")},$1gV:function(n){this.get_CanGoBack()?Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.prototype.$1gV.call(this,n):this.$1Iv.$m8.execute()}};Microsoft.Crm.Client.Core.ViewModels.$8Z=function(){this.$$d_$3d=Function.createDelegate(this,this.$3d);this.$$d_HandleFilterChangeCompletedEvent=Function.createDelegate(this,this.HandleFilterChangeCompletedEvent);this.$1l={};Microsoft.Crm.Client.Core.ViewModels.$8Z.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$8Z.prototype={$1k:!1,$157:null,$I1:null,get_AppliedFilterExpression:function(){return this.$I1},set_AppliedFilterExpression:function(n){return this.$I1=n,n},$NJ:null,$Kz:null,get_AttributeMetadataActionProvider:function(){return this.$Kz},set_AttributeMetadataActionProvider:function(n){return this.$Kz=n,n},get_IsLoading:function(){return this.$1k},set_IsLoading:function(n){return this.$1k=n,this.$7("MetadataFetched"),n},get_IsMultipleEntityGraphSupported:function(){return this.$6Z().get_IsMultipleEntityGraphSupported()},$20i:function(n){var i=0,t,r,u;if(!$0.$0(n)&&!$0.$0(n.get_$5N()))for(t=0;t<n.get_$5N().get_Count();t++)if(n.get_$5N().get_$R(t).get_$1m().get_Count()>0){r=n.get_$5N().get_$R(t).get_$1m().get_$R(0).get_$Nm();u=this.$1l[r][1];switch(u){case 20:case 11:case 0:case 12:case 13:case 1:case 6:case 10:case 9:case 14:i+=n.get_$5N().get_$R(t).get_$1m().get_Count();break;case 5:case 4:case 3:case 2:i+=1}}return i},get_AppliedFiltersCount:function(){var n,t,i,r,u;if(this.$6Z().get_IsMultipleEntityGraphSupported()){if(n=0,!$0.$0(this.$NJ)){t=this.$NJ;for(i in t)r={key:i,value:t[i]},$0.$0(r.value)||(u=r.value,n+=this.$20i(u))}return n}return this.$20i(this.$I1)},$2Z:function(){if(!this.$1a){var n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("AppliedFilters_Initialize",0,this.get_ViewModelId());$0.$0(n)||n.addParameter(this.$L);this.$157=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_AttributeMetadataRetrieve");Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$6Z().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_HandleFilterChangeCompletedEvent)}},$Oh:function(){this.$1l=null;this.$6Z().$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_HandleFilterChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},HandleFilterChangeCompletedEvent:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_HandleFilterChangeCompletedEvent"),y,r,f,p,b,k,o,i,s,h,c,l,u,a,it,ut;if(t.start(),this.$6Z().get_IsMultipleEntityGraphSupported()){k=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$JO)?"":n.$JO.toString(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(k);this.$NJ={};var d=this.$6Z().$CG,g={},nt=0,tt=d;for(o in tt)i={key:o,value:tt[o]},this.$NJ[i.key]=d[i.key].$87(),s=this.$NJ[i.key].$Ap.toArray(),g[i.key]=s,nt+=s.length;if(!nt){this.$7("CurrentAppliedFilters");return}h=g;for(c in h)if(l={key:c,value:h[c]},u=l.value,u.length>0){a=new Array(u.length);it=0;for(var rt=u,et=rt.length,v=0;v<et;++v)ut=rt[v],a[it++]=ut.get_$Qj();this.$Kl(a,l.key)}t.stop();t.addParameter(this.get_ViewModelId())}else{if(y=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$Dy)?"":n.$Dy.$9V(),n.$q),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(y),this.$I1=this.$6Z().$I7.$87(),r=this.$I1.get_$5N().toArray(),!r.length){this.$7("CurrentAppliedFilters");return}f=new Array(r.length);p=0;for(var w=r,ft=w.length,e=0;e<ft;++e)b=w[e],f[p++]=b.get_$Qj();t.stop();t.addParameter(this.get_ViewModelId());this.$Kl(f,this.$6Z().$6q)}this.$7("CurrentAppliedFilters")},removedAppliedFilters:function(n){this.$I1.$Mq(n);var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(n,1,0,this.$I1);this.$6Z().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,t);this.$7("CurrentAppliedFilters")},removedAppliedFiltersWithEntity:function(n,t){this.$NJ[n].$Mq(t);var i=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(t,1,0,null);i.$H8=this.$NJ;this.$6Z().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,i);this.$7("CurrentAppliedFilters")},removedAllAppliedFilters:function(){var n;this.$6Z().get_IsMultipleEntityGraphSupported()?(this.$NJ=null,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,null),n.$H8=this.$NJ):(this.$I1=null,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,this.$I1));this.$6Z().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,n);this.$7("CurrentAppliedFilters")},TruncatedGlobalFilterScreenReaderText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TruncatedGlobalFilter_ScreenReader_Label"),this.get_AppliedFiltersCount())},$208:function(n,t,i,r){var u=new Array(2),f,e;switch(t){case 20:case 11:case 0:case 12:case 13:u[0]=String.format("{0} {1}/{2}",r,n.get_$1m().get_Count().toString(),this.$1l[i][2]);u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_OptionSet"),r,n.get_$1m().get_Count().toString(),this.$1l[i][2]);break;case 2:n.get_$1m().get_$R(0).get_$Hf()||n.get_$1m().get_$R(1).get_$Hf()?(f=new Date(Date.parse(n.get_$1m().get_$R(0).get_$29())),e=new Date(Date.parse(n.get_$1m().get_$R(1).get_$29())),u[0]=String.format("{0} {1}-{2}",r,f.format("d"),e.format("d")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_DateTimeRange"),r,f.format("d"),e.format("d"))):(u[0]=String.format("{0} {1}",r,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ChartAttributeValueMissing")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_DateTimeRange_NoneSelected"),r));break;case 5:case 4:case 3:n.get_$1m().get_$R(0).get_$Hf()&&n.get_$1m().get_$R(0).get_$Hf()!=="null"?n.get_$1m().get_$R(0)&&!n.get_$1m().get_$R(1)?(u[0]=String.format("{0} {1}",r,n.get_$1m().get_$R(0).get_$29()),u[1]=String.format("{0} {1}",r,n.get_$1m().get_$R(0).get_$29())):(u[0]=String.format("{0} {1}-{2}",r,n.get_$1m().get_$R(0).get_$29(),n.get_$1m().get_$R(1).get_$29()),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_Range"),r,n.get_$1m().get_$R(0).get_$29(),n.get_$1m().get_$R(1).get_$29())):(u[0]=String.format("{0} {1}",r,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ChartAttributeValueMissing")),u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_Range_NoneSelected"),r));break;case 1:case 6:case 10:case 9:case 14:case 15:u[0]=String.format("{0} {1}",r,n.get_$1m().get_Count());u[1]=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_LookUp"),r,n.get_$1m().get_Count())}return u},GenerateAppliedFilters:function(){var e=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_GeneratingAppliedFilters"),n,r,i,v,s,h,c,u,o,f,t,y,l,a;if(e.start(),n={},this.$6Z().get_IsMultipleEntityGraphSupported()){if(!$0.$0(this.$NJ)){h=this.$NJ;for(c in h)if(u={key:c,value:h[c]},!$0.$0(u.value))for(o=u.value,f=0;f<o.get_$5N().get_Count();f++)if(o.get_$5N().get_$R(f).get_$1m().get_Count()>0){if(t=o.get_$5N().get_$R(f).get_$1m().get_$R(0).get_$Nm(),!this.$1l[t])continue;y=this.$1l[t][1];n[t]={};l=this.$1l[t][0];u.key!==this.$6Z().$6q&&(l+=" ("+u.key+")");a=this.$208(o.get_$5N().get_$R(f),y,t,l);n[t].displaytext=a[0];n[t].screenreadabletext=a[1];n[t].entityname=u.key}return e.stop(),e.addParameter(this.get_ViewModelId()),n}return null}if(!$0.$0(this.$I1)){for(r=0;r<this.$I1.get_$5N().get_Count();r++)if(this.$I1.get_$5N().get_$R(r).get_$1m().get_Count()>0){if(i=this.$I1.get_$5N().get_$R(r).get_$1m().get_$R(0).get_$Nm(),!this.$1l[i])continue;v=this.$1l[i][1];n[i]={};s=this.$208(this.$I1.get_$5N().get_$R(r),v,i,this.$1l[i][0]);n[i].displaytext=s[0];n[i].screenreadabletext=s[1]}return e.stop(),e.addParameter(this.get_ViewModelId()),n}return null},$Kl:function(n,t){var i,r;this.set_IsLoading(!0);i={};i.EntityType=t;i.Attributes=n;i.OnSuccess=this.$$d_$3d;r=this.$Kz.$B1(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(r);this.$157.start()},$3d:function(n){var i,t;this.$157.stop();this.$157.addParameter(this.get_ViewModelId());i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("AppliedFilters_AttributeMetadataCaching");i.start();this.$1k=!1;for(var u=n,f=u.length,r=0;r<f;++r){t=u[r];switch(t.get_$4M()){case 20:case 11:case 0:case 13:case 12:this.$1l[t.get_$2I()]=[t.get_$8z(),t.get_$4M(),Microsoft.Crm.Client.Core.Framework.$1B.$s(t.get_$9r().$21).toString()];break;default:this.$1l[t.get_$2I()]=[t.get_$8z(),t.get_$4M()]}}i.stop();i.addParameter(this.get_ViewModelId());this.$7("CurrentAppliedFilters");this.$FH("AppliedFilters_LoadedFilters")},$6Z:function(){return this.$2},get_TabSpaceReserved:function(){return 50},AppliedFilterScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_Label"),n)}};Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel=function(){this.$$d_$2LU=Function.createDelegate(this,this.$2LU);this.$$d_$1MC=Function.createDelegate(this,this.$1MC);this.$$d_$1I9=Function.createDelegate(this,this.$1I9);this.$$d_DefinitionUpdated=Function.createDelegate(this,this.DefinitionUpdated);Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.prototype={$10d:null,$WY:null,$19O:null,$1JV:!1,get_$qQ:function(){return this.$NW?"SubGridAssociated:"+this.$D:Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.get_$qQ.call(this)},get_ColumnsForGrid:function(){var n;if(this.$10d=Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.get_ColumnsForGrid.call(this),!$0.$0(this.$10d))for(var i=this.$10d,r=i.length,t=0;t<r;++t)n=i[t],"name"in n&&"hidden"in n&&Array.contains(this.$2f2(),n.name.toString().toLowerCase())&&(n.hidden=!0);return this.$10d},$2f2:function(){switch(this.$D.toLowerCase()){case"activitypointer":return["scheduledstart","community","instancetypecode"];case"incident":return["prioritycode","caseorigincode","customerid"];case"contact":return["parentcustomerid","emailaddress1"];case"socialprofile":return[];default:return[]}},get_AssociatedGridFlyoutViewModel:function(){if(!$0.$0(this.$19O)){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",this.$19O),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",$0.$0(this.$Dw)?this.get_DefinitionId():this.$D)],null,null);this.$WY=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2);this.$WY.add_$15d(this.$$d_DefinitionUpdated)}return this.$WY},DefinitionUpdated:function(n){var t=n,i=t.$7q[t.$Fb];this.OnDefinitionUpdated(i)},$dV:null,get_SystemViewData:function(){return this.$dV},set_SystemViewData:function(n){return this.$dV=n,n},$Vj:null,$Vs:!1,get_IsAssociatedGridActive:function(){return this.$Vs},set_IsAssociatedGridActive:function(n){return this.$Vs=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$2Z.call(this),this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8S(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC),this.$Vs=!1,this.$Vj=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y,this.add_$2LT(this.$$d_$2LU))},$2LU:function(){this.SetCommandBarContext()},$1Rg:function(n){return n.val=this.$D,!0},$3AJ:function(){return!1},$3AL:function(){return!1},$3AK:function(){return!1},get_$2o5:function(){return!1},get_$2ni:function(){return!1},$3d:function(n){this.$Vs&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$3d.call(this,n)},$4L:function(n){this.$Vs&&Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$4L.call(this,n)},$2Ci:function(n){var t,r,u,i;return this.$Cn?(t=n.$5M.get_$R("fetchXml").Data,t=Microsoft.Crm.Client.Core.ViewModels.$1e.$1aW(t,this.$Fa),r=Microsoft.Crm.Client.Core.ViewModels.$1e.$136(t),$0.$0(r)&&!Microsoft.Crm.Client.Core.ViewModels.$1e.$14R(this.$Fa))?(this.$ym=!0,n):(u=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(t),i=Microsoft.Crm.Client.Core.ViewModels.$1e.$1Hi(t),$0.$0(i)||(this.$vY=i.toString()),this.$2DJ(),u):n},$1rB:function(n){this.$WY.ItemSelected(n)},$1MC:function(n){var i,u,f;if(!n.get_$HY()&&this.$Vs){if(!$0.$0(this.$2.$H)&&"InteractionCentricFormBody"in this.$2.$H){var t=null,e=this.$2.$H.InteractionCentricFormBody,r=e.$H;for(i in r){u={key:i,value:r[i]};t=u.value;break}!$0.$0(t)&&"HeaderGroup"in this.$2.$H&&"InteractionCentricFormTabNavigator"in this.$2.$H.HeaderGroup.$H&&(f=this.$2.$H.HeaderGroup.$H.InteractionCentricFormTabNavigator,f.set_CurrentSelectedValue(t.get_Name()))}this.$Vj.$qH();this.$Vj.forceRuleEvaluation()}},$3Bk:function(){if(!$0.$0(this.$2.$H)&&"HeaderGroup"in this.$2.$H&&"InteractionCentricFormTabNavigator"in this.$2.$H.HeaderGroup.$H){var n=this.$2.$H.HeaderGroup.$H.InteractionCentricFormTabNavigator;n.$O5!=="AssociatedGrid0"&&n.set_CurrentSelectedValue("AssociatedGrid0")}},$1I9:function(n){n.$Si==="AssociatedGrid0"?(this.$3Bk(),this.$Vs=!0,this.SetCommandBarContext(),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricNavigationEventManager.get_Instance().$1a7(this.$2)):(this.$Vs=!1,this.$Vj.$qH(),this.$Vj.forceRuleEvaluation())},$2yq:function(){if(!$0.$0(this.$dV)&&!$0.$0(this.$dV.$H)){var n={},t=this.$dV.$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")].$H;n[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")]=t;this.$19O=n;this.$7("AssociatedGridSelectViewDataReceived")}},SetCommandBarContext:function(){if(!this.$1JV){this.$1JV=!0;this.$Vj.$qH();var n=this,t=this;this.$Vj.$vj(this.get_$qQ(),this).then(function(t){var f,o,e,r,u,i,s;if(t)for(f=!1,o=n.$Vj.$Lj,e=0;e<o.get_Count()&&!f;++e)if(r=o.getItem(e),n.$2Lz(r),!$0.$0(r)&&"ChangeListViewButton"in r.$H){for(u=r.findActiveChildViewModels(),i=0;i<u.length&&!f;i++)u[i].$1P==="ChangeListViewButton"&&(n.$dV=u[i],Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&(s=u[i].$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")],n.$1Mx(s.$H,!1)),f=!0);n.$2yq()}n.$1JV=!1},function(){})}},$2Lz:function(n){var t=n.$1a1([".AddExistingStandard"]),i;t&&t.length>0&&(i=t[0],i.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor("OpenAssociateForm"))))},$Oh:function(){this.$dV=null;$0.$0(this.$WY)||(this.$WY.remove_$15d(this.$$d_DefinitionUpdated),this.$WY.dispose(),this.$WY=null);this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$Sz().$8p(Microsoft.Crm.Client.Core.Framework.$35,this.$$d_$1MC);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.prototype={$SN:null,get_CardFormAttributes:function(){return this.$SN},set_CardFormAttributes:function(n){return this.$SN=n,n},$cq:null,get_CardDetails:function(){return this.$cq},set_CardDetails:function(n){return this.$cq=n,n},$cs:null,get_CardHeader:function(){return this.$cs},set_CardHeader:function(n){return this.$cs=n,n},$cr:null,get_CardFooter:function(){return this.$cr},set_CardFooter:function(n){return this.$cr=n,n},$NN:null,get_ColorStrip:function(){return this.$NN},set_ColorStrip:function(n){return this.$NN=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this),this.$cq=this.$SN.CardDetails,this.$cs=this.$SN.CardHeader,this.$cr=this.$SN.CardFooter,this.$NN=this.$SN.ColorStrip[0])},$Oh:function(){this.$SN=null;this.$cq=null;this.$cs=null;this.$cr=null;this.$NN=null;Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Bk=function(){Microsoft.Crm.Client.Core.ViewModels.$Bk.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Bk.prototype={handleCollapsibleToggleButtonClick:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("VisualFilterCollapseButtonClicked",0,this.get_ViewModelId());var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q(this.$L);this.$6Z().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q,n)},$6Z:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.$S3=function(){Microsoft.Crm.Client.Core.ViewModels.$S3.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$S3.prototype={$5l:null,$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.getData())},get_ComboBoxViewModel:function(){return $0.$0(this.$5l)&&(this.$5l=new Microsoft.Crm.Client.Core.ViewModels.$Bn),this.$5l},getData:function(){},$1Si:null,get_ComboBoxClass:function(){return this.$1Si},set_ComboBoxClass:function(n){return this.$1Si=n,n},$1UM:null,get_SelectElementDataId:function(){return this.$1UM},set_SelectElementDataId:function(n){return this.$1UM=n,n},$1Um:null,get_WrapperClass:function(){return this.$1Um},set_WrapperClass:function(n){return this.$1Um=n,n}};Microsoft.Crm.Client.Core.ViewModels.$By=function(){this.$$d_$2Tb=Function.createDelegate(this,this.$2Tb);Microsoft.Crm.Client.Core.ViewModels.$By.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$By.prototype={$20t:function(n){return n.$FX},$2gv:function(n){return n.$2p},SelectedItemName:function(){if(!this.$7q)return"";var n=this.$7q[this.$2.$q];return n?n.$FX:""},get_SelectedItemID:function(){if(!this.$7q)return"";var n=this.$7q[this.$2.$q];return n?n.$2p:""},getData:function(){this.$1Pt();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$202(this,this.$$d_$2Tb)},ItemSelected:function(n){var i,t;if(!IsNull(this.$7q)){if(this.get_SelectedItemID()===n)return;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("DashboardPickerDashboardChanged",0,this.get_ViewModelId());i=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();i.$SO=this.$7q[n];t=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(this.$2);t.$1W=i.$SO.$2p;t.$J1=37;t.execute();t.dispose()}},$2Tb:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),r=this.$2.$q,e,t,u,i,f;if(n.$SO&&(r=n.$SO.$2p),e=Microsoft.Crm.Client.Core.ViewModels.$65.$1wB(n.$pC,r),e?t=n.$pC:(n.$SO||(n.$SO=Microsoft.Crm.Client.Core.ViewModels.$65.$2Ww(n.$NR,r)),t=n.$NR[n.$SO.$6J]),!IsNull(t)&&t.get_Count()>0){for(this.$Dx={},u={},i=0;i<t.get_Count();i++)f=t.get_$R(i),u[f.$2p]=f;this.$Dx[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")]=u;this.$1Pt();n.$SO=null;this.$7("dataRecieved")}},$Oh:function(){this.$Dx=null;Microsoft.Crm.Client.Core.ViewModels.$SS.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$C0=function(){Microsoft.Crm.Client.Core.ViewModels.$C0.initializeBase(this);this.$oQ="dateRangeFilterOpen"};Microsoft.Crm.Client.Core.ViewModels.$C0.prototype={SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$C2.prototype.SetDates.call(this,n,t);this.$2zF()},$2zF:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$Cs),t;n.$Bl(this.$Cs,"on-or-after",this.$bs.format("s")).$Bl(this.$Cs,"on-or-before",this.$YC.format("s"));t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$Cs,2,0,n,!0);this.$2.$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,t)}};Microsoft.Crm.Client.Core.ViewModels.$C2=function(){var t;this.$$d_$tc=Function.createDelegate(this,this.$tc);this.$1uE=new Microsoft.Crm.Client.Core.ViewModels.Converters.$Ii;Microsoft.Crm.Client.Core.ViewModels.$C2.initializeBase(this);var n=(new Date).getFullYear(),i=n-100,r=n+100;this.$Ir=new Date("01/01/"+i);this.$151=new Date("12/31/"+r);this.$1BG=!1;t=Sys.CultureInfo.CurrentCulture.dateTimeFormat;this.$Sj=t.ShortestDayNames;this.$1BK=!1;this.$oQ=""};Microsoft.Crm.Client.Core.ViewModels.$C2.prototype={$1CJ:"",$Cs:"createdon",$26O:null,$269:null,$1Qh:null,$1F6:null,$Ir:null,$151:null,$bs:null,$YC:null,$Sj:null,get_ShortestDayNames:function(){return this.$Sj},set_ShortestDayNames:function(n){return this.$Sj=n,n},DayName:function(n){return this.$Sj[n]},SetAttributeDisplayName:function(){var n,t;if(this.$1CJ===""){if(n=[],n[0]=this.$Cs,t=this.$2.$6q,!t)throw Error.create(String.format("SetAttributeDisplayName() has failed in DateRangeViewModel, entityName is null."));this.$Kl(t,n)}},$Kl:function(n,t){var i={},r,u;i.EntityType=n;i.Attributes=t;i.OnSuccess=this.$$d_$tc;r=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));u=r.$B1(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u)},$tc:function(n){if(!$0.$0(n)&&n.length){var t=n[0];this.set_AttributeDisplayName(t.$1q)}},DateConverter:function(n){return this.$1uE.$Em(n,0)},GetLabel:function(n){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4(n)},$pW:null,get_TimeFrame:function(){return this.$pW},set_TimeFrame:function(n){return this.$pW=n,n},$1BK:!1,get_TimeFrameInitialized:function(){return this.$1BK},set_TimeFrameInitialized:function(n){return this.$1BK=n,n},get_AttributeLogicalName:function(){return this.$Cs},set_AttributeLogicalName:function(n){return this.$Cs=n,n},get_AttributeDisplayName:function(){return this.$1CJ},set_AttributeDisplayName:function(n){return this.$1CJ=n,this.$7("FilterBy"),n},get_DateTextForMinDate:function(){return this.DateConverter(this.$Ir)},set_DateTextForMinDate:function(n){return this.$26O=n,n},get_MinDate:function(){return this.$Ir},set_MinDate:function(n){return this.$Ir=n,n},get_DateTextForMaxDate:function(){return this.DateConverter(this.$151)},set_DateTextForMaxDate:function(n){return this.$269=n,n},get_MaxDate:function(){return this.$151},set_MaxDate:function(n){return this.$151=n,n},get_StartDateText:function(){return this.$Vw?"":this.DateConverter(this.$bs)},set_StartDateText:function(n){return this.$1Qh=n,Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$Vw=!0:(this.$Vw=!1,this.$bs=new Date(n)),this.$7("StartDate"),n},get_StartDate:function(){return this.$bs},set_StartDate:function(n){return this.$bs=n,n},get_EndDateText:function(){return this.$Vu?"":this.DateConverter(this.$YC)},set_EndDateText:function(n){return this.$1F6=n,Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$Vu=!0:(this.$Vu=!1,this.$YC=new Date(n)),this.$7("EndDate"),n},get_DateRangeText:function(){return this.get_StartDateText()||this.get_EndDateText()?this.get_StartDateText()+"-"+this.get_EndDateText():Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ChartAttributeValueMissing")},get_EndDate:function(){return this.$YC},set_EndDate:function(n){return this.$YC=n,n},$oQ:null,get_DataId:function(){return this.$oQ},set_DataId:function(n){return this.$oQ=n,n},$1BG:!1,get_ShowNoRange:function(){return this.$1BG},set_ShowNoRange:function(n){return this.$1BG=n,n},$Vw:!1,get_IsStartDateNull:function(){return this.$Vw},set_IsStartDateNull:function(n){return this.$Vw=n,n},$Vu:!1,get_IsEndDateNull:function(){return this.$Vu},set_IsEndDateNull:function(n){return this.$Vu=n,n},SetDates:function(n,t){Microsoft.Crm.Client.Core.Framework.$3.$9(n)||Microsoft.Crm.Client.Core.Framework.$3.$9(t)?(this.$1Qh=null,this.$1F6=null,this.$Vw=!0,this.$Vu=!0):(this.$1Qh=n,this.$bs=new Date(n),this.$1F6=t,this.$YC=new Date(t))}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("EmailAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel)};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2Nk=function(n){switch(n){case 1:case 8:case 5:return!0;case 2:case 3:case 4:case 6:case 7:return!1;default:return!1}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2Nj=function(n){switch(n){case 0:case 3:return!0;case 1:case 2:return!1;default:return!1}};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$1vF=function(n,t){return t==="4201"?Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2Nj(n):t==="4202"?Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$2Nk(n):!1};Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.prototype={$d2:null,get_FileName:function(){return this.$d2},set_FileName:function(n){return this.$d2=n,n},$Pn:null,get_FileSize:function(){return this.$Pn},set_FileSize:function(n){return this.$Pn=n,n},$pE:null,get_ObjectId:function(){return this.$pE},set_ObjectId:function(n){return this.$pE=n,n},$ij:null,$oA:null,get_AttachmentId:function(){return this.$oA},set_AttachmentId:function(n){return this.$oA=n,n},get_PopupWindowTimeout:function(){return 100},$os:!1,$2Z:function(){this.$1a||(this.$2.$D==="appointment"?(this.$ij="4201",this.$os=!1):this.$2.$D==="email"?(this.$ij="4202",this.$os=!0):(this.$ij="",this.$os=!0),$0.$0(this.$2)||$0.$0(this.$2.get_$1B())||(this.$pE=this.$2.get_$1B().get_Id()),Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this))},GetAttachmentItemUri:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE();return String.format("{0}/activities/attachment/edit.aspx?_CreateFromId=%7b{1}%7d&_CreateFromType={2}&id={3}&ish=true",n.context.getClientUrl(),this.$pE,this.$ij,this.ToStringAttachmentId())},ToStringAttachmentId:function(){return $0.$0(this.$oA)?"":this.$oA.toString()},Refresh:function(){var n=this.$2.$67("EmailAttachmentsSubGrid");Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(n)&&!$0.$0(n.refreshCommand)&&n.refreshCommand.get_CanExecute()&&n.refreshCommand.execute()},GetWindowOptions:function(n,t,i,r){return String.format("width={0}, height={1}, top={2}, left={3}, menubar=no, toolbar=no",n,t,i,r)},GetPopupWidth:function(){return 584},GetPopupHeight:function(){return 213},$2jM:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),t=-1;return $0.$0(n)||(this.$os&&!$0.$0(n.getAttribute("statuscode"))?t=n.getAttribute("statuscode").getValue():this.$os||$0.$0(n.getAttribute("statecode"))||(t=n.getAttribute("statecode").getValue())),t},EnableAttachmentHandling:function(){var n=this.$2jM();return Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$1vF(n,this.$ij)},$Oh:function(){this.$d2=null;this.$Pn=null;this.$pE=null;this.$ij=null;this.$oA=null;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$HM=function(n,t,i,r,u,f,e,o,s){this.$iD=n;this.$1U4=t;this.$1UI=i;this.$19l=r;this.$1Au=u;this.$1B8=f;this.$1Av=e;this.$1BA=o;this.$iC=s};Microsoft.Crm.Client.Core.ViewModels.$HM.prototype={$iD:null,$1U4:null,$1UI:null,$1Au:null,$1B8:null,$19l:null,$1Av:null,$1BA:null,$iC:null};Microsoft.Crm.Client.Core.ViewModels.$9M=function(){this.$$d_$2qd=Function.createDelegate(this,this.$2qd);this.$$d_$2qj=Function.createDelegate(this,this.$2qj);this.$$d_$2qb=Function.createDelegate(this,this.$2qb);this.$$d_$tc=Function.createDelegate(this,this.$tc);this.$$d_processQueueItemViewFetchXml=Function.createDelegate(this,this.processQueueItemViewFetchXml);this.$$d_$2qc=Function.createDelegate(this,this.$2qc);this.$$d_processQueueSavedQueryFetchXml=Function.createDelegate(this,this.processQueueSavedQueryFetchXml);this.$$d_$2zg=Function.createDelegate(this,this.$2zg);this.$$d_OnFilterChangeCompletedEvent=Function.createDelegate(this,this.OnFilterChangeCompletedEvent);this.$lI={};this.$1CL=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.$9M.initializeBase(this);this.$NG="savedquery";this.$ce="savedqueryvisualization"};Microsoft.Crm.Client.Core.ViewModels.$9M.prototype={$1RS:null,$1np:"",$ZO:!1,$sq:"",$GX:null,$zt:!1,$1Lq:0,$Nt:null,$SR:!1,get_ViewNameText:function(){return this.$1np},set_ViewNameText:function(n){this.$1np=n;var t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l(this.$L,n);return this.$4l().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l,t),n},get_ChartConfigObject:function(){return this.$L5_7&&(this.$L5_7=!1,this.set_IsLoading(!0),this.$H4()),this.$QF},get_$f:function(){return!0},get_IsFilterApplied:function(){return this.$ZO},set_IsFilterApplied:function(n){return this.$ZO=n,n},$zK:null,get_Streams:function(){return this.$zK},set_Streams:function(n){return this.$zK=n,n},$Vn:null,$1U8:null,$I8:null,get_QueueItemViewId:function(){return this.$I8},set_QueueItemViewId:function(n){return this.$I8=n,n},$Se:null,get_QueueId:function(){return this.$Se},set_QueueId:function(n){return this.$Se=n,n},$oz:null,get_IsSavedQueryOnQueues:function(){return this.$oz},set_IsSavedQueryOnQueues:function(n){return this.$oz=n,n},$yy:null,$og:null,$L5_7:!1,$1TP:!1,$iV:null,$Vp:null,$19R:null,get_$mi:function(){return this.$4l()?this.$4l().$6q:""},get_AreZeroValueBaseSetAttributeFieldsSet:function(){return this.$L5_7?!0:this.$zt},set_AreZeroValueBaseSetAttributeFieldsSet:function(n){return this.$zt=n,n},$2Z:function(){if(!this.$1a){var n=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("VisualFilters_Initialize",0,this.get_ViewModelId());$0.$0(n)||n.addParameter(this.$L);this.$Nt=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilters_ChartDataRetrieve");this.set_ChartSeriesClickCommand(null);this.set_AllowPointSelect(!1);this.set_IsFirstChart(!1);this.set_EnableDrilldown(!1);this.$og=null;this.$37X();Microsoft.Crm.Client.Core.ViewModels.$Bh.prototype.$2Z.call(this);this.$4l().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_OnFilterChangeCompletedEvent);this.$SR=!1;this.$L5_7=!1;this.$4l().$82.$8S(Function,this.$$d_$2zg)}},$2zg:function(){this.$H4();this.$Nt.start()},$37X:function(){var n;if($0.$0(this.$zK)||this.$4l().$Xf!=="2"){this.$1Eq();return}if(n=this.$zK.split("|"),n.length<4){this.$1Eq();return}var r=n[0],t=n[1],u=n[2],i=n[3];switch(r){case"0":this.$Se=t;this.$oz="false";this.$I8=i;break;case"2":this.$Se=t;this.$oz="true";this.$I8=i;break;case"1":this.$1Eq();break;default:this.$1Eq()}},$1Eq:function(){this.$I8=null;this.$Se=null},$1ee:function(){return!$0.$0(this.$I8)&&!$0.$0(this.$Se)?!0:!1},$H4:function(){if(!$0.$0(this.$8l)){var n=this;this.$25f().done(function(){n.$1ee()?n.$21b():Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.prototype.$H4.call(n)})}},$25f:function(){var n=MscrmComponents.DeferredPromiseFactory(Object,Microsoft.Crm.Client.Core.Framework.$7),t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("FilterGraphVM.GetDependencies"),i;return t.start(),Microsoft.Crm.Client.Core.Framework.$1L.$1c0("resources/styles/ishCssDependenciesPostLoad.css",null),i=this,Microsoft.Crm.Client.Core.Framework.$1L.$13A(["scripts/Microsoft.Crm.Client.Core.Messages.js","scripts/ishOssDependenciesPostLoad.js"],0,null).always(function(){n.resolve();t.stop()}),n.promise()},$21b:function(){var n,t;this.$oz==="true"?(this.$iV={},this.$iV.savedqueryid=this.$Se,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null),n.OnSuccess=this.$$d_processQueueSavedQueryFetchXml,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)):(t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"QueueFilterExpression"),t.$Bl("queueid","eq",this.$Se),this.$yy=t,this.$1wx())},processQueueSavedQueryFetchXml:function(n){var i=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n.toString()),r=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(i).$N("fetch").get_$6m().toString(),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FilterGraphFetchXmlWithCallback",null);t.OnFailure=this.$$d_$2qc;t.QueryValue=r;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)},$2qd:function(n){for(var u,i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"QueueFilterExpression"),r=n.get_entities(),f=r.length,t=0;t<f;++t)u=r[t],i.$Bl("queueid","eq",u.$a.Id.toString());this.$yy=i;this.$1wx()},$2qc:function(){throw Error.create("FilterGraphViewModel: Queue FetchXml execution failed.");},$1wx:function(){this.$1U8=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i("queueitem").$4Y;this.$iV={};this.$iV.savedqueryid=this.$I8;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null);n.OnSuccess=this.$$d_processQueueItemViewFetchXml;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},processQueueItemViewFetchXml:function(n){var r=this.$2Yo(),u=Microsoft.Crm.Client.Core.Storage.Common.$2W.$26C(n,r),t,i;this.$Vn=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(u);t=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForFilterGraph",null));i=t.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i)},$2qb:function(n){var e,o;if(!n.get_entities().length){this.$og=this.$2Ys();Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.prototype.$H4.call(this);return}for(var r="",u=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.get_$mi()).$4Y,t="<fetch version='1.0' output-format='xml-platform' mapping='logical'>\r\n\t\t\t\t\t\t\t\t<entity name='"+this.get_$mi()+"'>\r\n\t\t\t\t\t\t\t\t<attribute name='"+u+"' />\r\n\t\t\t\t\t\t\t\t<filter type = 'or'>",f=n.get_entities(),s=f.length,i=0;i<s;++i)e=f[i],o=e.getValue("objectid"),r+="<condition attribute='"+u+"' operator='eq' value='"+o.Id.toString()+"' />";t+=r;t+="<\/filter><\/entity><\/fetch>";this.$og=t;Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.prototype.$H4.call(this)},$2qj:function(){throw Error.create("FilterGraphViewModel: QueueItem FetchXml execution failed.");},$2Yo:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"EntityTypeQueueFilterExpression"),t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"EntityTypeFilterExpression");return t.$Bl("objecttypecode","eq",Xrm.Internal.getEntityCode(this.get_$mi()).toString()),n.$9Z(t),n.$9Z(this.$yy),n.$9V()},$2Ys:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.get_$mi()).$4Y;return"<fetch version='1.0' output-format='xml-platform' mapping='logical'>\r\n\t\t\t\t\t\t\t\t<entity name='"+this.get_$mi()+"'>\r\n\t\t\t\t\t\t\t\t<attribute name='"+n+"' />\r\n\t\t\t\t\t\t\t\t<filter type = 'or'>\r\n\t\t\t\t\t\t\t\t<condition attribute='"+n+"' operator='eq' value='"+Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()+"' />\r\n\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t<\/fetch>"},$379:function(n){var t,i,u,r,f;if(this.$GX)if(t=this.$GX.$iC,this.$ZO){for(i=0;i<t.get_Count();i++)if(u=n.$HG(t.get_$R(i)),!$0.$0(u))return;this.$ZO=!1;this.$7("IsFilterApplied")}else for(r=0;r<t.get_Count();r++)f=n.$HG(t.get_$R(r)),$0.$0(f)||this.$7("IsFilterApplied")},$37A:function(n){var t,i,e,u,o,r,s,f,h;if(this.$GX)if(t=this.$GX.$iC,this.$ZO){if(!$0.$0(n))for(i=0;i<t.get_Count();i++)if(e=this.$1HQ(t.get_$R(i)),u=n[e],!$0.$0(u)&&(o=u.$HG(t.get_$R(i)),!$0.$0(o)))return;this.$ZO=!1;this.$7("IsFilterApplied")}else if(!$0.$0(n))for(r=0;r<t.get_Count();r++)s=this.$1HQ(t.get_$R(r)),f=n[s],$0.$0(f)||(h=f.$HG(t.get_$R(r)),$0.$0(h)||this.$7("IsFilterApplied"))},FilterGraphRenderCompleted:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82("FilterGraph");this.$4l().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82,n)},OnFilterChangeCompletedEvent:function(n){var t,i,r;if(this.$1Lq++,this.$1TP=n.$Pg.$1Jd,this.$4l().get_IsMultipleEntityGraphSupported()){this.$lI={};t=n.$JO;for(i in t)r={key:i,value:t[i]},this.$lI[r.key]=n.$JO[r.key].$9V();this.$37A(this.$4l().$CG)}else this.$sq=n.$Dy.$9V(),this.$379(this.$4l().$I7);if(!this.$SR){this.$L5_7=!0;return}this.$1Lq>=5&&this.$1AE?this.$2nK():(this.$H4(),this.$Nt.start())},$2nK:function(){this.$1AE=!1;this.$1Lq=0;this.set_$1oA(null)},$1n8:function(){$0.$0(this.$Cy)||(this.$Nt.stop(),this.$Nt.addParameter(this.get_ViewModelId()),this.$Nt.addParameter(this.$L),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(this.$SR?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId()),this.$SR||(this.$FH("RenderedInitialData"),this.$SR=!0),Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs.prototype.$1n8.call(this),this.$1RS=this.$5i.Text,this.$5i.Text="",this.$1aQ(),this.$2IF(),this.$7("ChartConfigObject"))},$2IF:function(){for(var l,r,u,a,n,f,e,t,o,y,h={},c=this.$GX.$iD.get_entities(),p=c.length,i=0;i<p;++i){l=c[i];r=l.fields;for(u in r)a={key:u,value:r[u]},this.$2W8(a.value,h)}n=null;f=h;for(e in f)if(t={key:e,value:f[e]},o=t.value.toArray(),this.$Kl(t.key,o),!n)for(var v=o,w=v.length,s=0;s<w;++s)if(y=v[s],y===this.$GX.$iC.get_$R(0)){n=t.key;break}this.$4l().get_IsMultipleEntityGraphSupported()||this.$Kl(n?n:this.$4l().$6q,this.$GX.$iC.toArray())},$2W8:function(n,t){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5j.isInstanceOfType(n)){var r=n,u=r.$Cs,i=r.$P;i in t||(t[i]=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)));t[i].add(u);this.$4l().get_IsMultipleEntityGraphSupported()||(this.$Vp||(this.$Vp={}),this.$Vp[u]=i)}},$Kl:function(n,t){var i={},r,u;i.EntityType=n;i.Attributes=t;i.OnSuccess=this.$$d_$tc;r=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));u=r.$B1(i);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(u)},$tc:function(n){var i;if(this.$Cy.$H0!==1)for(var r=n,u=r.length,t=0;t<u;++t)if(i=r[t],i.get_$gF()&&!Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.$q9(i.get_$2m())){this.$13J(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_NoReadPrivilege"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Chart_NoPermission_Message"));break}},$13J:function(n,t){var i=new Microsoft.Crm.Client.Core.Models.Chart.$Kv;i.$5i=new Microsoft.Crm.Client.Core.Models.$JJ;i.$VJ="";i.$H0=1;i.$Bs=new Microsoft.Crm.Client.Core.Framework.$L4;i.$Bs.$YM=n;i.$Bs.$YK=t;this.set_$qd(i);this.$7("ChartConfigObject")},get_TitleText:function(){return this.$1k?"":this.$1RS},set_TitleText:function(n){return this.$1RS=n,n},set_$1oA:function(n){return this.$GX=n,this.$H4(),this.$Nt.start(),n},$1AE:!1,get_GetNullPoint:function(){return null},$2nm:function(n){return Microsoft.Crm.Client.Core.Models.$6u.isInstanceOfType(n)||Microsoft.Crm.Client.Core.Models.$7v.isInstanceOfType(n)||Microsoft.Crm.Client.Core.Models.$7w.isInstanceOfType(n)?!0:!1},$1t2:function(n,t,i,r){this.$4l().get_IsMultipleEntityGraphSupported()&&i!==this.$4l().$6q?i+="__alias":i=null;Microsoft.Crm.Client.Core.Models.$7u.isInstanceOfType(t)&&this.$2R3(n,t,i,r);Microsoft.Crm.Client.Core.Models.$6u.isInstanceOfType(t)&&this.$2R0(n,t,i);Microsoft.Crm.Client.Core.Models.$7v.isInstanceOfType(t)&&this.$2R1(n,t,i);Microsoft.Crm.Client.Core.Models.$7w.isInstanceOfType(t)&&this.$2R2(n,t,i)},$2R3:function(n,t,i,r){t.Value?n.$Bl(t.FieldName,"eq",t.Value.toString(),i,r):n.$Bl(t.FieldName,"null",null,i)},$2R0:function(n,t,i){t.MinDate?n.$Bl(t.FieldName,"on-or-after",t.MinDate.toJSON().substring(0,10),i):n.$Bl(t.FieldName,"null",null,i);t.MaxDate?n.$Bl(t.FieldName,"on-or-before",t.MaxDate.toJSON().substring(0,10),i):n.$Bl(t.FieldName,"null",null,i)},$2R1:function(n,t,i){var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));r.add(t.Period.toString());r.add(t.Year.toString());n.$Bl(t.FieldName,t.FiscalType,r,i)},$2R2:function(n,t,i){n.$Bl(t.FieldName,t.FiscalType,t.Year.toString(),i)},$376:function(n){this.$GX=n},$1HQ:function(n){var h,i,r,u,f,e,o;if(!$0.$0(n)){if(!this.$Vp){this.$Vp={};for(var s=this.$GX.$iD.get_entities(),l=s.length,t=0;t<l;++t){h=s[t];i=h.fields;for(r in i)if(u={key:r,value:i[r]},Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5j.isInstanceOfType(u.value)){var c=u.value,a=c.$Cs,v=c.$P;this.$Vp[a]=v}}}if(n in this.$Vp)return this.$Vp[n];if(!$0.$0(this.$19R)){f=this.$19R;for(e in f)if(o={key:e,value:f[e]},n in o.value)return o.key}return this.$4l().$6q}return null},$2Mo:function(n,t){var s=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilters_BuilderFilterExpressionForSelectedPoint"),e,u,o,i,f,r;if(s.start(),!$0.$0(n)&&n.length>0){for(this.set_IsLoading(!0),this.$ZO=!0,e=null,u=null,this.$4l().get_IsMultipleEntityGraphSupported()?u={}:e=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"FilterGraph"),this.$1CL.clear(),i=0;i<n.length;i++)f=this.$2nm(n[i])?new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,n[i].FieldName):new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,n[i].FieldName),this.$1CL.add(n[i].FieldName),this.$4l().get_IsMultipleEntityGraphSupported()?(r=this.$1HQ(n[i].FieldName),$0.$0(r)&&(r=this.$4l().$6q),this.$1t2(f,n[i],r,t),r in u||(u[r]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"FilterGraph")),u[r].$9Z(f)):(this.$1t2(f,n[i],this.$4l().$6q,t),e.$9Z(f));this.$4l().get_IsMultipleEntityGraphSupported()?(o=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52("FilterGraph",0,0,null),o.$H8=u):o=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52("FilterGraph",0,0,e);this.$4l().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,o);this.$rd("IsFilterApplied","IsLoading")}s.stop();s.addParameter(this.get_ViewModelId())},HandleSeriesPointClick:function(n){this.$ZO||this.$2Mo(n.Aggregators)},$2yL:function(n){for(var u,t,h,i,e,o,l=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n),a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(l).$N("fetch/entity"),s=a.$62("link-entity"),r=0;r<s.get_$s();r++)if(u=s.get_$R(r),t=u.$10("name"),!Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&!(t in this.$4l().$dI)){h=Microsoft.Crm.Client.Core.Storage.Common.$2W.$1cG();i="";for(var c=h,v=c.length,f=0;f<v;++f)e=c[f],o=u.$10(e),$0.$0(o)||(i+=String.format(' {0}="{1}"',e,o));i+=' alias="'+t+'__alias" ';this.$4l().$dI[t]="<link-entity "+i+"/>"}},$Oh:function(){this.$4l().$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_OnFilterChangeCompletedEvent);this.$GX=null;this.$sq=null;this.$1CL=null;this.$Vn=null;this.$yy=null;this.$iV=null;this.$4l().$82.$8p(Function,this.$$d_$2zg);$0.$0(this.$Jg)||(this.$Jg.$5E(),this.set_CrmChartBuilder(null));this.set_PrimaryModelName(null);this.$Cy=null;this.$lI=null;Microsoft.Crm.Client.Core.ViewModels.$Bh.prototype.$Oh.call(this)},get_TabSpaceReserved:function(){return 100},$4l:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel=function(){this.$$d_$2ku=Function.createDelegate(this,this.$2ku);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.prototype={$bI:null,$hW:null,$2Z:function(){this.$1a||Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P,this.$$d_$2ku)},$2ku:function(n){this.$bI=n.$1UE;this.$bI&&this.$7("SaveButtonDataReceived")},$2f3:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.$24;return t.set_Label(n.$1G),t.set_Parameters(n.$M),t.set_ImageName(n.$Z7),t.set_ImageType(n.$Z9),t.$Gi=n.$Gi,t.set_TargetViewModel(n.get_TargetViewModel()),t.$Cw=n.$Cw,t.set_Command(n.$6Y),t.set_Enabled(!0),t.set_Visible(!0),t.set_ActionCommandCanExecute(!0),t},$1uw:function(){if(!$0.$0(this.$hW)){for(var n=0;n<this.$hW.get_Count();++n)this.$hW.get_$R(n).dispose(),this.$hW.set_$R(n,null);this.$hW.clear();this.$hW=null}},getSaveButtonViewModel:function(){var i,n,u,f;if(this.$bI){i=this.$bI;n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$24));for(var r=i,e=r.length,t=0;t<e;++t)u=r[t],f=this.$2f3(u),n.add(f);return this.$1uw(),this.$hW=n,n.toArray()}return null},get_SaveButtonData:function(){return this.$bI},$Oh:function(){var i;if(this.$bI){for(var t=this.$bI,r=t.length,n=0;n<r;++n)i=t[n],i.dispose();this.$bI=null}this.$1uw();this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8P,this.$$d_$2ku);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$C1=function(){this.get_AttributeDisplayName=this.get_$3Fv;this.set_AttributeDisplayName=this.set_$3Fv;this.get_SelectedFilterExpression=this.get_$3Fy;this.set_SelectedFilterExpression=this.set_$3Fy;this.get_SelectedFilterCount=this.get_$Ry;this.get_IsExpanded=this.get_$3G1;this.set_IsExpanded=this.set_$3G1;this.$2kR=this.handleExpandOrCollapseIconClick;this.get_Active=this.get_$db;this.set_Active=this.set_$db;Microsoft.Crm.Client.Core.ViewModels.$C1.initializeBase(this);this.$CF=!0};Microsoft.Crm.Client.Core.ViewModels.$C1.prototype={$DK:null,get_$3Fv:function(){return this.$DK},set_$3Fv:function(n){return this.$DK=n,n},$2k:null,get_$3Fy:function(){return this.$2k},set_$3Fy:function(n){return this.$2k=n,n},$DO:!1,get_$3G1:function(){return this.$DO},set_$3G1:function(n){return this.$DO=n,n},$CF:!1,get_$db:function(){return this.$CF},set_$db:function(n){return this.$CF=n,n},get_$Ry:function(){return $0.$0(this.$2k)?0:1},$2HP:function(n){if(this.$2k=n,$0.$0(this.$2k))this.set_StartDateText(null),this.set_EndDateText(null);else{var t=this.$2k.get_$1m();this.set_StartDateText(t.get_$R(0).get_$Hf()==="null"?null:t.get_$R(0).get_$29());this.set_EndDateText(t.get_$R(1).get_$Hf()==="null"?null:t.get_$R(1).get_$29())}},UpdateFilterExpression:function(n){$0.$0(n)||$0.$0(n.Start)||$0.$0(n.End)?this.$2k=null:(this.$2k=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$Cs),this.$2k.$Bl(this.$Cs,"on-or-after",n.Start),this.$2k.$Bl(this.$Cs,"on-or-before",n.End));this.$2.$5Q(this).$18v(this.$2k,this.$Cs)},handleExpandOrCollapseIconClick:function(n){this.$DO=n;this.$2.$5Q(this).$1Nu()},$3BA:function(){this.$DO=!!this.get_$Ry()},SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$C2.prototype.SetDates.call(this,n,t);var i={};i.Start=n;i.End=t;this.UpdateFilterExpression(i)},getScreenReadableText:function(){return this.get_$Ry()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_DateTimeRange"),this.$DK,this.get_StartDateText(),this.get_EndDateText()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_DateTimeRange_NoneSelected"),this.$DK)}};Microsoft.Crm.Client.Core.ViewModels.$CY=function(){this.get_AttributeLogicalName=this.get_$3Fs;this.set_AttributeLogicalName=this.set_$3Fs;this.get_AttributeDisplayName=this.get_$3Fv;this.set_AttributeDisplayName=this.set_$3Fv;this.get_SelectedFilterExpression=this.get_$3Fy;this.set_SelectedFilterExpression=this.set_$3Fy;this.get_SelectedFilterCount=this.get_$Ry;this.get_IsExpanded=this.get_$3G1;this.set_IsExpanded=this.set_$3G1;this.$2kR=this.handleExpandOrCollapseIconClick;Microsoft.Crm.Client.Core.ViewModels.$CY.initializeBase(this);this.$CF=!0};Microsoft.Crm.Client.Core.ViewModels.$CY.prototype={$9z:null,get_$3Fs:function(){return this.$9z},set_$3Fs:function(n){return this.$9z=n,n},$DK:null,get_$3Fv:function(){return this.$DK},set_$3Fv:function(n){return this.$DK=n,n},$2k:null,get_$3Fy:function(){return this.$2k},set_$3Fy:function(n){return this.$2k=n,n},$DO:!1,get_$3G1:function(){return this.$DO},set_$3G1:function(n){return this.$DO=n,n},$CF:!1,get_Active:function(){return this.$CF},set_Active:function(n){return this.$CF=n,n},$L2:null,get_EntityReferences:function(){return this.$L2},set_EntityReferences:function(n){return this.$L2=n,n},removeEntityReferenceForGuid:function(n){delete this.$L2[n];this.$2k.$vn(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T(this.$9z,"eq",n));this.$7("RemovedEntity");this.$2.$5Q(this).$18v(this.$2k,this.$9z)},getGuidAtIndex:function(n){return!$0.$0(this.$2k)&&!$0.$0(this.$2k.get_$1m().get_Items()[n].get_$29())?this.$2k.get_$1m().get_Items()[n].get_$29().toString():null},getSelectedFilterName:function(n){return $0.$0(this.$L2[n])?null:this.$L2[n].toString()},get_$Ry:function(){return $0.$0(this.$2k)?0:this.$2k.get_$1m().get_Count()},$2HP:function(n){this.updateEntityReferences(n);this.$2k=n;var i=this.$9z+"_edit",r=this.$H[i],t=r.$Dm;$0.$0(t)||t.$2HP(n)},updateEntityReferences:function(n){if($0.$0(this.$L2)&&(this.$L2={}),!$0.$0(n))for(var t=0;t<n.get_$1m().get_Count();t++)$0.$0(n.get_$1m().get_$R(t).get_$29())||(this.$L2[n.get_$1m().get_$R(t).get_$29().toString()]=n.get_$1m().get_$R(t).get_$1Xc())},updateFilterExpression:function(n){var t=n.add;t?($0.$0(this.$2k)&&(this.$2k=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,this.$9z),this.$L2={}),this.$2k.$Bl(this.$9z,"eq",n.guid.toString(),"",n.entityReference.toString()),this.$L2[n.guid.toString()]=n.entityReference.toString()):$0.$0(this.$2k)||(this.$2k.$vn(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T(this.$9z,"eq",n.guid.toString())),delete this.$L2[n.guid.toString()],this.$2k.get_$1m().get_Count()||(this.$2k=null,this.$L2=null));this.$2.$5Q(this).$18v(this.$2k,this.$9z)},handleExpandOrCollapseIconClick:function(n){var i,t;this.$DO=n;i=this.$9z+"_edit";this.$2.$5Q(this).$1Nu();t=this.$H[i];t.$1JW||(t.$1JW=!0,t.$2Z())},$3BA:function(){this.$DO=!!this.get_$Ry()},getScreenReadableText:function(){return this.get_$Ry()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_LookUp"),this.$DK,this.get_$Ry().toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_LookUp_NoneSelected"),this.$DK)}};Microsoft.Crm.Client.Core.ViewModels.$CZ=function(){Microsoft.Crm.Client.Core.ViewModels.$CZ.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$CZ.prototype={$1JW:!1,$1L8:function(n){var i,t,r;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.prototype.$1L8.call(this,n);i=n;t={};t.guid=i.Id;t.add=!0;t.entityReference=i.Name;r=this.$2.$5Q(this).$2k;Microsoft.Crm.Client.Core.ViewModels.$6Y.$1e1(i.Id.toString(),r)||this.$2.$5Q(this).updateFilterExpression(t)},buildChildViewModelDescriptors:function(n){var t,i;this.$2Mt(n);t={};$0.$0(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i={input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0)],t)};this.$8c==="multi"&&(i.partyList=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("GlobalFilterPartyListViewModel","PartyList","partyList",this.$Fi,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("NavigationEnabled",this.$MT)],null,null),Microsoft.Crm.Client.Core.Framework.$6.get_$3A()&&(this.$17y=!0,this.$17v=!1));this.$jD(i)},$2Z:function(){!this.$1a&&this.$1JW&&Microsoft.Crm.Client.Core.ViewModels.$D2.prototype.$2Z.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$6Y=function(){Microsoft.Crm.Client.Core.ViewModels.$6Y.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$6Y.$1e1=function(n,t){if(!$0.$0(t)&&!$0.$0(t.get_$1m()))for(var i=0;i<t.get_$1m().get_Count();i++)if(t.get_$1m().get_$R(i).get_$29()===n)return!0;return!1};Microsoft.Crm.Client.Core.ViewModels.$6Y.prototype={$1OB:function(n,t){var r,u,f,i;Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.prototype.$1OB.call(this,n,t);r=this.$Uc;u=r.$2.$5Q(r);$0.$0(u.$2k)||(f=n.$R8,i={},i.guid=f.get_identifier(),i.add=!1,i.entityReference=f.Name,u.updateFilterExpression(i))},$2HP:function(n){var r,t,i,u;if(!$0.$0(this.$6l))for(r=this.$6l.get_Count(),t=0;t<r;t++)i=this.$6l.get_$R(0),u=i.$R8,Microsoft.Crm.Client.Core.ViewModels.$6Y.$1e1(u.get_identifier(),n)||i.$eT.execute()},$2w7:function(){}};Microsoft.Crm.Client.Core.ViewModels.$Ca=function(){this.$$d_$tc=Function.createDelegate(this,this.$tc);this.$$d_$22Q=Function.createDelegate(this,this.$22Q);Microsoft.Crm.Client.Core.ViewModels.$Ca.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ca.prototype={$DS:null,get_SelectedFilter:function(){return this.$DS},set_SelectedFilter:function(n){return this.$DS=n,n},$FV:null,get_AppliedFilter:function(){return this.$FV},set_AppliedFilter:function(n){return this.$FV=n,n},$d6:!1,get_IsApplyButtonEnabled:function(){return this.$d6},set_IsApplyButtonEnabled:function(n){return this.$d6=n,n},get_SelectedFilterCount:function(){var t=0,i=this.$H,n,r;for(n in i)r={key:n,value:i[n]},t+=r.value.get_SelectedFilterCount();return t},get_IsClearButtonEnabled:function(){return $0.$0(this.$DS)||$0.$0(this.$DS.get_$5N())?!1:this.$DS.get_$5N().get_Count()?!0:!1},get_IsExpandAll:function(){var t=this.$H,n,i;for(n in t)if(i={key:n,value:t[n]},!i.value.get_IsExpanded())return!0;return!1},$Kz:null,get_AttributeMetadataActionProvider:function(){return this.$Kz},set_AttributeMetadataActionProvider:function(n){return this.$Kz=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("GlobalFilter_Initialize",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$3Ak(),this.$1Rm(),this.$4l().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_$22Q))},$Oh:function(){this.$DS=null;this.$FV=null;this.$4l().$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_$22Q);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$3Ak:function(){var t=new Array(0),i=this.$H,n,r;for(n in i)r={key:n,value:i[n]},t.push(r.value.get_AttributeLogicalName());this.$Kl(t,this.$4l().$6q)},$Kl:function(n,t){var i,r;n.length&&(i={},i.EntityType=t,i.Attributes=n,i.OnSuccess=this.$$d_$tc,r=this.$Kz.$B1(i),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(r))},$tc:function(n){for(var t,r=n,u=r.length,i=0;i<u;++i)t=r[i],t.get_$gF()&&!Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.$q9(t.get_$2m())&&this.$H[t.get_$8z()].set_Active(!1);this.$7("ChildProperties")},$22Q:function(n){var t,i;this.$4l().get_IsMultipleEntityGraphSupported()?(i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$JO)?"":n.$JO.toString(),n.$q),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i),this.$FV=$0.$0(this.$4l().$CG[this.$4l().$6q])?null:this.$4l().$CG[this.$4l().$6q].$87()):(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$Dy)?"":n.$Dy.$9V(),n.$q),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t),this.$FV=this.$4l().$I7.$87());this.$DS=$0.$0(this.$FV)?null:this.$FV.$87();this.$1Rm();this.$7("FilterExpression")},handleIsExpandAllButtonClick:function(){var r=this.get_IsExpandAll(),t=this.$H,n,i;for(n in t)i={key:n,value:t[n]},i.value.$2kR(r);this.$7("IsExpandAll")},handleCancelClick:function(){this.$DS=$0.$0(this.$FV)?null:this.$FV.$87();this.$1Rm();this.set_Visible(!0);this.$d6=!1},handleApplyClick:function(){var n,t;this.$d6&&(this.$FV=$0.$0(this.$DS)?null:this.$DS.$87(),this.set_Visible(!0),this.$d6=!1,this.$4l().get_IsMultipleEntityGraphSupported()?(t={},t[this.$4l().$6q]=this.$FV,n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,null),n.$H8=t):n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,this.$FV),this.$4l().$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,n))},handleClearClick:function(){this.get_IsClearButtonEnabled()&&(this.$DS=null,this.$1Rm(),this.$d6=!0)},$18v:function(n,t){$0.$0(this.$DS)&&(this.$DS=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,this.$4l().$6q));$0.$0(this.$DS.get_$5N())||$0.$0(this.$DS.$HG(t))||this.$DS.$Mq(t);this.$DS.$9Z(n);this.$d6=!0;this.$7("FilterExpression")},updateIsExpandedPropertyOfChildren:function(){var t=this.$H,n,i,r;for(n in t)i={key:n,value:t[n]},r=i.value,r.$3BA()},$1Nu:function(){this.$7("IsExpandAll")},$1Rm:function(){var n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("GlobalFilter_UpdateChildFilterViewModels"),t,i;n.start();t=this.$H;for(i in t){var u={key:i,value:t[i]},r=u.value,f=$0.$0(this.$DS)?null:this.$DS.$HG(r.get_AttributeLogicalName());r.$2HP(f)}this.$7("ChildProperties");this.$FH("GlobalFilter_ChildrenUpdateReflected");n.stop();n.addParameter(this.get_ViewModelId())},$4l:function(){return this.$2},get_TabSpaceReserved:function(){return 100},get_AppliedFilterCount:function(){return $0.$0(this.$FV)||$0.$0(this.$FV.get_$5N())?0:this.$FV.get_$5N().get_Count()},GlobalFilterScreenReaderText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("GlobalFilter_ScreenReader_Label"),this.get_AppliedFilterCount())}};Microsoft.Crm.Client.Core.ViewModels.$Df=function(){Microsoft.Crm.Client.Core.ViewModels.$Df.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Df.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("OptionSetFilterItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$Df)};Microsoft.Crm.Client.Core.ViewModels.$Df.prototype={$yf:null,get_LogicalName:function(){return this.$yf},set_LogicalName:function(n){return this.$yf=n,n},$3y:null,get_DisplayName:function(){return this.$3y},set_DisplayName:function(n){return this.$3y=n,n}};Microsoft.Crm.Client.Core.ViewModels.$Dg=function(){this.get_AttributeLogicalName=this.get_$3Fs;this.set_AttributeLogicalName=this.set_$3Fs;this.get_AttributeDisplayName=this.get_$3Fv;this.set_AttributeDisplayName=this.set_$3Fv;this.get_SelectedFilterExpression=this.get_$3Fy;this.set_SelectedFilterExpression=this.set_$3Fy;this.get_SelectedFilterCount=this.get_$Ry;this.get_IsExpanded=this.get_$3G1;this.set_IsExpanded=this.set_$3G1;this.$2kR=this.handleExpandOrCollapseIconClick;this.get_Active=this.get_$db;this.set_Active=this.set_$db;Microsoft.Crm.Client.Core.ViewModels.$Dg.initializeBase(this);this.$CF=!0};Microsoft.Crm.Client.Core.ViewModels.$Dg.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("OptionSetFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$Dg)};Microsoft.Crm.Client.Core.ViewModels.$Dg.prototype={$9z:null,get_$3Fs:function(){return this.$9z},set_$3Fs:function(n){return this.$9z=n,n},$DK:null,get_$3Fv:function(){return this.$DK},set_$3Fv:function(n){return this.$DK=n,n},$2k:null,get_$3Fy:function(){return this.$2k},set_$3Fy:function(n){return this.$2k=n,n},$DO:!1,get_$3G1:function(){return this.$DO},set_$3G1:function(n){return this.$DO=n,n},$yo:0,get_OptionSetValuesCount:function(){return this.$yo},set_OptionSetValuesCount:function(n){return this.$yo=n,n},$CF:!1,get_$db:function(){return this.$CF},set_$db:function(n){return this.$CF=n,n},get_IsSelectAll:function(){return this.get_$Ry()!==this.$yo},get_$Ry:function(){return $0.$0(this.$2k)?0:this.$2k.get_$1m().get_Count()},$2HP:function(n){var t=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("OptionSetFilter_UpdateFilterProperties"),i,r,f,u;t.start();this.$2k=n;i=this.$H;for(r in i)f={key:r,value:i[r]},u=f.value,u.set_Data(this.$1e1(u.$yf));t.stop();t.addParameter(this.get_ViewModelId())},updateFilterExpression:function(n){var i=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("OptionSetFilter_UpdateFilterExpression"),r,t,u,f,e,o;if(i.start(),r=n.Value,t=n.Name,!$0.$0(r)&&r)if($0.$0(this.$2k)&&(this.$2k=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,this.$9z)),$0.$0(t)){this.$2k=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,this.$9z);u=this.$H;for(f in u)e={key:f,value:u[f]},o=e.value,this.$2k.$Bl(this.$9z,"eq",o.$yf)}else this.$2k.$Bl(this.$9z,"eq",t);else $0.$0(t)?this.$2k=null:(this.$2k.$vn(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T(this.$9z,"eq",t)),this.$2k.get_$1m().get_Count()||(this.$2k=null));this.$2.$5Q(this).$18v(this.$2k,this.$9z);i.stop();i.addParameter(this.get_ViewModelId())},handleSelectAllButtonClick:function(){var i=this.$H,t,r,n;for(t in i)r={key:t,value:i[t]},r.value.set_Data(this.get_IsSelectAll());n={};n.Name=null;n.Value=this.get_IsSelectAll();this.updateFilterExpression(n)},handleExpandOrCollapseIconClick:function(n){this.$DO=n;this.$2.$5Q(this).$1Nu()},$3BA:function(){this.$DO=!!this.get_$Ry()},$1e1:function(n){if(!$0.$0(this.$2k)&&!$0.$0(this.$2k.get_$1m()))for(var t=0;t<this.$2k.get_$1m().get_Count();t++)if(this.$2k.get_$1m().get_$R(t).get_$29()===n)return!0;return!1},getScreenReadableText:function(){return this.get_$Ry()>0?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_OptionSet"),this.$DK,this.get_$Ry().toString(),this.$yo.toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_OptionSet_NoneSelected"),this.$DK)}};Microsoft.Crm.Client.Core.ViewModels.$E9=function(){this.get_AttributeLogicalName=this.get_$3Fs;this.set_AttributeLogicalName=this.set_$3Fs;this.get_AttributeDisplayName=this.get_$3Fv;this.set_AttributeDisplayName=this.set_$3Fv;this.get_SelectedFilterExpression=this.get_$3Fy;this.set_SelectedFilterExpression=this.set_$3Fy;this.get_SelectedFilterCount=this.get_$Ry;this.get_IsExpanded=this.get_$3G1;this.set_IsExpanded=this.set_$3G1;this.$2kR=this.handleExpandOrCollapseIconClick;Microsoft.Crm.Client.Core.ViewModels.$E9.initializeBase(this);this.$CF=!0};Microsoft.Crm.Client.Core.ViewModels.$E9.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("SliderFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$E9)};Microsoft.Crm.Client.Core.ViewModels.$E9.prototype={$9z:null,get_$3Fs:function(){return this.$9z},set_$3Fs:function(n){return this.$9z=n,n},$DK:null,get_$3Fv:function(){return this.$DK},set_$3Fv:function(n){return this.$DK=n,n},$2k:null,get_$3Fy:function(){return this.$2k},set_$3Fy:function(n){return this.$2k=n,n},$DO:!1,get_$3G1:function(){return this.$DO},set_$3G1:function(n){return this.$DO=n,n},$CF:!1,get_Active:function(){return this.$CF},set_Active:function(n){return this.$CF=n,n},get_$Ry:function(){return $0.$0(this.$2k)?0:1},handleExpandOrCollapseIconClick:function(n){this.$DO=n;this.$2.$5Q(this).$1Nu()},$3BA:function(){this.$DO=!!this.get_$Ry()},$2HP:function(n){this.$2k=n;this.set_SelectedMinimum($0.$0(this.$2k)?this.$Gd:this.$2k.get_$1m().get_$R(0).get_$29());this.set_SelectedMaximum($0.$0(this.$2k)?this.$FY:this.$2k.get_$1m().get_$R(1).get_$29());$0.$0(this.$2k)&&(this.$iU=!0)},updateFilterExpression:function(){if(this.$Nu){if($0.$0(this.$2k))return;this.$2k=null}else this.$2k=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$9z),this.$2k.$Bl(this.$9z,"ge",this.$Ko.toString()),this.$2k.$Bl(this.$9z,"le",this.$GP.toString());this.$2.$5Q(this).$18v(this.$2k,this.$9z)},onDataChange:function(){this.updateFilterExpression(null)},getScreenReadableText:function(){return this.get_$Ry()?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_Range"),this.$DK,this.$Ko.toString(),this.$GP.toString()):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AppliedFilters_ScreenReader_ParsedData_Range_NoneSelected"),this.$DK)}};Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel=function(){this.$$d_onSelectedItemPropertyChanged=Function.createDelegate(this,this.onSelectedItemPropertyChanged);Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.prototype={$Ph:null,get_CommandButtonViewModels:function(){return this.$Ph},set_CommandButtonViewModels:function(n){return this.$Ph=n,n},$2xe:function(){this.getData()},$yC:!1,get_EnableSaveState:function(){return this.$yC},set_EnableSaveState:function(n){return this.$yC=n,n},getData:function(){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.$54)),r=this.$Ph,n,u,t;for(n in r)u={key:n,value:r[n]},t=u.value,i.add(new Microsoft.Crm.Client.Core.ViewModels.$Bm(t.$1P,t.$1G));this.get_ComboBoxViewModel().set_ItemsList(i.toArray());this.get_ComboBoxViewModel().AddPropertyChangedListener("SelectedItem",this.$$d_onSelectedItemPropertyChanged)},$Oh:function(){var n,t,i,r;if(!$0.$0(this.$Ph)){n=this.$Ph;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$Ph=null}this.get_ComboBoxViewModel().RemovePropertyChangedListener("SelectedItem",this.$$d_onSelectedItemPropertyChanged);Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)},$2j6:function(n){for(var i,r=this.get_ComboBoxViewModel().get_ItemsList(),u=r.length,t=0;t<u;++t)if(i=r[t],i.get_ValueString()===n)return i;return null},onSelectedItemPropertyChanged:function(){this.$9j("OnItemSelected");this.$349()},$349:function(){var t,n,u,i,r;this.$yC&&(t=this.get_ComboBoxViewModel().$4i,IsNull(t)||IsNull(this.$Ph[t])||(n=this.$Ph[t],!$0.$0(n.$1g)&&n.$1g.get_CanExecute()&&n.$1g.execute(),u=n.get_TargetViewModel().get_$1u(),i=this.$2j6(t),i&&(r=n.$M.MetadataSubType,$0.$0(r)||r===3||r===2||Microsoft.Crm.Client.Core.ViewModels.$e.$1kb(i.get_ValueString(),i.get_Label(),u))))},add_OnItemSelected:function(n){this.$1p("OnItemSelected",n)},remove_OnItemSelected:function(n){this.$32("OnItemSelected",n)},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)}};Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.prototype={getData:function(){this.$1Pt()},$20t:function(n){return n.$1G},$2gv:function(n){return n.$1P},get_HasChildFlyouts:function(){var n,t,i;if(!$0.$0(this.$7q)){n=this.$7q;for(t in n)if(i={key:t,value:n[t]},Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(i.value))return!0;return!1}return!1},$1Se:0,get_ClientWidth:function(){return this.$1Se},set_ClientWidth:function(n){return this.$1Se=n,n},add_$27e:function(n){$0.$0(this.$2)||this.$2.$1p("DropdownSelectedItemUpdated",n)},remove_$27e:function(n){$0.$0(this.$2)||this.$2.$32("DropdownSelectedItemUpdated",n)},$17U:null,SelectedItemName:function(){var n,t,i;if($0.$0(this.$7q))return"";if(n=this.$Fb in this.$7q?this.$7q[this.$Fb]:this.$7q[Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$Fb).toString()],!$0.$0(n)){if(Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n))return t=n,t.$1G;if(Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(n))return i=n,$0.$0(this.$17U)&&(this.$17U=i.SelectedItemName()),this.$17U}return""},FireDropdownSelectedItemUpdatedEvent:function(){this.$2XM("DropdownSelectedItemUpdated")},ItemSelected:function(n,t){var c,e,r,i,f,l,u,o,s,h;if(!IsNull(this.$7q)){if(c=this.$7q[this.$Fb],e=c,!$0.$0(e)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(e))if($0.$0(t)||this.$iH!==t){if(this.$iH===n)return}else return;if(this.$Fb===n&&$0.$0(t))return;if(this.$Fb=n,$0.$0(t)||(this.$iH=t),this.$9j("OnItemSelected"),r=this.$7q[this.$Fb],!$0.$0(r)&&Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(r))i=r,!$0.$0(i.$1g)&&i.$1g.get_CanExecute()&&i.$1g.execute(),$0.$0(i.get_TargetViewModel())?Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1018,"TargetViewModel is undefined in commandButton"):(f=i.$M.MetadataSubType,$0.$0(f)||f===3||f===2||(l=i.get_TargetViewModel().get_$1u(),Microsoft.Crm.Client.Core.ViewModels.$e.$1kb(i.$1P,i.$1G,l))),this.$7("dataRecieved");else if(u=r,!$0.$0(u)&&!$0.$0(t)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(u)){o=this.$7q;for(s in o)h={key:s,value:o[s]},h.key===this.$Fb?(u.ItemSelected(t),this.$17U=u.SelectedItemName()):h.value.ItemSelected(null)}}},$Oh:function(){var o=this.$Dx,r,t,n,s,u,f,e,i;for(r in o){if(t={key:r,value:o[r]},n=t.value,!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(n))s=n,s.$Oh();else if(!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n))n.dispose();else if(!$0.$0(n)&&Object.isInstanceOfType(n)){u=t.value;f=u;for(e in f)i={key:e,value:f[e]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(i.value)&&i.value.dispose(),delete u[i.key]}delete this.$Dx[t.key]}this.$Dx=null;Microsoft.Crm.Client.Core.ViewModels.$SS.prototype.$Oh.call(this)},$2XM:function(n){if(!$0.$0(this.$2)){var t=this.$2.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)}}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel=function(){this.$$d_ChildDefinitionUpdated=Function.createDelegate(this,this.ChildDefinitionUpdated);this.$$d_$2vi=Function.createDelegate(this,this.$2vi);this.$$d_FilterUpdated=Function.createDelegate(this,this.FilterUpdated);this.$$d_$2kD=Function.createDelegate(this,this.$2kD);this.$$d_DropdownItemUpdated=Function.createDelegate(this,this.DropdownItemUpdated);this.$$d_DefinitionUpdated=Function.createDelegate(this,this.DefinitionUpdated);this.$$d_$1I9=Function.createDelegate(this,this.$1I9);this.$$d_$22a=Function.createDelegate(this,this.$22a);this.$$d_$2ky=Function.createDelegate(this,this.$2ky);this.$$d_$2Uz=Function.createDelegate(this,this.$2Uz);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.initializeBase(this);this.$sj=!0};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.prototype={$GQ:null,$Bx:null,$BF:null,$x0:!1,$xd:null,$ow:!1,get_QueuePickerViewModel:function(){return $0.$0(this.$BF)&&(this.$BF=new Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel(this)),this.$BF},get_QueuePickerDropDown:function(){return this.get_QueuePickerViewModel().get_QueuePickerDropDown()},get_$2M6:function(){return this.get_$1PO()},$ON:null,get_$qQ:function(){return $0.$0(this.$Zf)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Zf)?this.$78?"HomePageGrid:"+this.$D:Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.get_$qQ.call(this):this.$Zf},$oc:!1,get_EnableClickOnEntityDashboardIcon:function(){return this.$oc},set_EnableClickOnEntityDashboardIcon:function(n){return this.$oc=n,n},get_IsActivityGrid:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);return!$0.$0(n)&&n.get_$7g()?!0:!1},get_TooltipString:function(){return Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricGrid.EntityDashboardTooltip"),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D).$Ag)},$2Z:function(){this.$78?this.$1a||(this.$1dk(),this.$oc=!1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$202(this,this.$$d_$2Uz),this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q,this.$$d_$2ky)):this.$13w?(this.$1dk(),this.$1dX()):this.$2mh();var n=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceDeskGridLoadEvent");n.$h("DialogGrid",this.$13w);n.$h("EntityGrid",this.$78);n.$h("EntityName",this.$D||"");Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(n)},$2mh:function(){$0.$0(this.$2)||$0.$0(this.$2.$2)||this.set_$GO(this.$2.$2);var n=this.$2.$5k,t=null;t=this.$ot||$0.$0(n)||$0.$0(n.ui)?"SessionTabContainer0":n.ui.tabs.getAll()[0].getName();this.$x0||(this.$ot?this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_$22a):this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9),this.$x0=!0);this.$ow=this.$ow||this.$Pv===t;this.$ow&&!this.$1a&&(this.$1dk(),this.$1dX())},$1dk:function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$2Z.call(this)},$22a:function(n){this.$Pv===n.$Si&&(this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_$22a),this.$x0=!1,this.$ow=!0,this.$1a||this.$2Z())},$1I9:function(n){this.$Pv===n.$Si&&(this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9),this.$x0=!1,this.$ow=!0,this.$1a||this.$2Z())},$FT:null,$IN:null,$1Fj:null,$LH:null,$16P:0,$1dX:function(){this.$OA&&$0.$0(this.$IN)&&($0.$0(this.$Dw)||(this.$FT={},this.$2lx(),this.$16P=0),this.$1vx(this.$D))},$2lx:function(){var n,t,i,r;if(this.$LH=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),$0.$0(this.$Dw))this.$LH.add(this.$D);else{n=this.$Dw;for(t in n)i={key:t,value:n[t]},r=i.key,this.$LH.add(r)}},$325:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y;n.$qH();n.set_PrimaryModelName(this.$D);n.$vj("HomePageGrid:"+this.$D,this)},$2Uz:function(){var n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance();n.$NR&&n.$NR[this.$D]&&n.$NR[this.$D].get_Count()>0&&(this.$oc=!0,this.$7("EntityDashboardDataReceived"))},OpenEntityDashboard:function(){var r,t;if(this.$oc){var u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance(),i=new Microsoft.Crm.Client.Core.Commands.OpenDashboardCommand(this.$2),n=u.$NR[this.$D.toLowerCase()];if(!$0.$0(n)&&n.get_Count()){for(r=0,t=0;t<n.get_Count();t++)if(n.get_$R(t).$1TN){r=t;break}u.$SO=n.get_$R(r);i.$1W=n.get_$R(r).$2p;i.$J1=37;i.execute();i.dispose()}}},$2ky:function(n){var t,i,r;$0.$0(this.$Dw)&&this.$78?(t=!1,$0.$0(this.$GQ)&&(t=!0),this.$GQ=n.$Dx,this.$GQ&&(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&(i=this.$GQ[0].$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")].$H,$0.$0(this.$Pz)?this.$1Mx(i,!1):(r=i[this.$Pz],$0.$0(r)||r.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("AdvancedFindSearchResultsViewName")))),$0.$0(this.$Bx)||(this.$Bx.$Dx=this.$1pS(),this.$Bx.$1Pt()),t&&this.$7("SelectViewDataReceived"))):this.$1dX()},IsSelectViewDataReceived:function(){return!$0.$0(this.$GQ)},$2Ew:function(n){$0.$0(this.$Bx)||(this.$Bx.$Dx=n);this.$7("SelectViewDataReceived")},$1pS:function(){var n,t,i;return $0.$0(this.$GQ)?null:(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&!$0.$0(this.$IN)&&$0.$0(this.$Pz)&&this.$1Mx(this.$IN[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")],!1),!$0.$0(this.$Dw)&&this.$D in this.$Dw?this.$IN:this.$78?(n={},$0.$0(this.$GQ[0]))?n:(t=this.$GQ[0].$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")].$H,n[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")]=t,Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")in this.$GQ[0].$H&&(i=this.$GQ[0].$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")].$H,n[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")]=i),n):this.$IN)},$2gc:function(){if($0.$0(this.$1Fj)){var n={};n.All=this.$XP("All",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_All"));n.Overdue=this.$XP("Overdue",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Overdue"));n.Today=this.$XP("Today",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Today"));n.Tomorrow=this.$XP("Tomorrow",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Tomorrow"));n["NextXDays;7"]=this.$XP("NextXDays;7",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Next7Days"));n["NextXDays;30"]=this.$XP("NextXDays;30",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Next30Days"));n["NextXDays;90"]=this.$XP("NextXDays;90",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Next90Days"));n["NextXMonths;6"]=this.$XP("NextXMonths;6",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Next6Months"));n["NextXMonths;12"]=this.$XP("NextXMonths;12",Microsoft.Crm.Client.Core.Framework.Common.$2.$4("PickList_DateFilter_Next12Months"));this.$1Fj=n}return this.$1Fj},get_DueLabel:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.View_Label_ViewByDate")},get_$1PO:function(){return this.get_QueuePickerViewModel().$1UL},$XP:function(n,t){var i=new Microsoft.Crm.Client.Core.ViewModels.$24;return i.set_$2m(n),i.set_Label(t),i},get_GridFlyoutViewModel:function(){var n;if($0.$0(this.$Bx)){var t=this.$1pS(),i=this.$2W6(t),r=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",$0.$0(this.$Dw)?i:this.$D)],null,null);this.$Bx=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(r,this.get_ModelContext(),this.$2i,this.$2);this.$Bx.get_HasChildFlyouts()&&(this.$Bx.$iH=this.get_DefinitionId());n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){var t,i;if(n.$78&&!$0.$0(n.$Bx.$7q)&&!$0.$0(n.$Bx.$Fb)){for(t=n.$Bx.$7q[n.$Bx.$Fb];!$0.$0(t)&&!Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(t);)if(i=t,!$0.$0(i)&&Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.isInstanceOfType(i))t=i.$7q[i.$Fb];else break;!$0.$0(t)&&Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(t)&&n.$2LK(t)}},Microsoft.Crm.Client.Core.Framework.SchedulerPriorities.$QP,"ICGridVM.GridFlyoutViewModel.AddToMru.AddDefaultView");this.$Bx.add_$15d(this.$$d_DefinitionUpdated);this.get_GridFlyoutViewModel().add_$27e(this.$$d_DropdownItemUpdated)}return this.$Bx},$2W6:function(n){var i=this.get_DefinitionId(),f,r,u,e,t;if(this.get_DefinitionId()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()&&Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")in n){f=n[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")];r=f;for(u in r)if(e={key:u,value:r[u]},t=e.value,!$0.$0(t.$M)&&!$0.$0(t.$M.IsDefault)){var s=t.$M.IsDefault,o=t.$M.MetadataSubType,h=!$0.$0(o)&&o===3;if(s&&!h&&!$0.$0(t.$M.ViewId)){i=t.$M.ViewId;this.$t===2?(this.$xd=i,this.add_$td(this.$$d_$2kD)):!$0.$0(t.$1g)&&t.$1g.get_CanExecute()&&t.$1g.execute();break}}}return i},$2kD:function(){if(this.remove_$td(this.$$d_$2kD),!$0.$0(this.$xd)&&!$0.$0(this.get_GridFlyoutViewModel())&&!$0.$0(this.get_GridFlyoutViewModel().$7q)&&this.$xd in this.get_GridFlyoutViewModel().$7q){var n=this.get_GridFlyoutViewModel().$7q[this.$xd];!$0.$0(n.$1g)&&n.$1g.get_CanExecute()&&n.$1g.execute()}this.$xd=null},$2LK:function(n){var t=n,i;$0.$0(t.get_TargetViewModel())?Microsoft.Crm.Client.Core.Framework.Trace.logWarning(1018,"TargetViewModel is undefined in commandButton"):(i=t.get_TargetViewModel().get_$1u(),Microsoft.Crm.Client.Core.ViewModels.$e.$1kb(t.$1P,t.$1G,i))},DefinitionUpdated:function(n){var t=n,i=t.$7q[t.$Fb];this.OnDefinitionUpdated(i)},DropdownItemUpdated:function(){var n=this.get_FilterFlyoutViewModel(),t;$0.$0(n)||$0.$0(n.get_ComboBoxViewModel())||(t=n.get_ComboBoxViewModel().$4i,this.OnFilterUpdated(t))},ChildDefinitionUpdated:function(n){var t=n,i=t.$7q[t.$Fb];this.OnDefinitionUpdated(i)},get_FilterFlyoutViewModel:function(){if($0.$0(this.$ON)){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("DropdownForGridViewModel","ComboBoxWrapper","ComboBoxWrapper",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CommandButtonViewModels",this.$2gc()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ComboBoxClass","gridViewDropDown"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("WrapperClass","filterViewDropDownWrapper")],null,null);this.$ON=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,null);this.$ON.$yC=!1;this.$ON.add_OnItemSelected(this.$$d_FilterUpdated);this.$ON.get_ComboBoxViewModel().set_SelectedItem("All")}return this.$ON},FilterUpdated:function(n){var t=n,i=t.get_ComboBoxViewModel().$4i;this.OnFilterUpdated(i)},get_SelectViewData:function(){return this.$GQ},$1vx:function(n){var t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveViewSelector","HomePageGrid:"+n,!1),i;t.OnSuccess=this.$$d_$2vi;t.OnFailure=this.$$d_$4L;i=new Microsoft.Crm.Client.Core.ViewModels.$I(this,t);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i.$56())},$2vi:function(n){var b=n,i={},r=new Microsoft.Crm.Client.Core.ViewModels.$Bo,l,a,v,t,y,f,e,o,p,u,s,h,c,w;if(this.$Wn(r,this,b.$Cx.Controls),l=r.$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")],i[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_System_View_Group_Name")]=this.$20g(l.$H),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")in r.$H&&(a=r.$H[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")],i[Microsoft.Crm.Client.Core.Framework.Common.$2.$4("CRM_Personal_View_Group_Name")]=this.$20g(a.$H)),!$0.$0(this.$Dw)&&this.$78)if(v=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("GridFlyoutViewModel","GridViewFlyout","GridViewFlyout",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Data",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectElementDataId","gridView"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("SelectedItemID",this.get_DefinitionId())],null,null),t=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(v,null),t.set_PrimaryModelName(this.$D),y=this.$Dw[this.$D],t.set_$2m(this.$D),t.set_Label(this.$D!=="activitypointer"?y.DisplayName:Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ViewSelectorAllActivities")),t.add_$15d(this.$$d_ChildDefinitionUpdated),this.$FT[this.$D]=t,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$1Mx(t.$7q,!0),this.$16P++,this.$16P===this.$LH.get_Count()){f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4Z));e=this.$FT;for(o in e)p={key:o,value:e[o]},f.add(p.value);u={};u.Entities=this.$FT;this.$GQ=f.toArray();this.$IN=u;this.set_PrimaryModelName("activitypointer");this.$325();this.$2Ew(u)}else this.set_PrimaryModelName(this.$LH.get_$R(this.$16P)),this.$1vx(this.$D);else{s=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$4Z));h=this.$FT;for(c in h)w={key:c,value:h[c]},s.add(w.value);this.$GQ=s.toArray();this.$IN=i;this.$2Ew(i)}},$2Ci:function(n){var t=n.$5M.get_$R("fetchXml").Data,i=null,e,o,r,s,f,c;if(this.$Cn){if(t=Microsoft.Crm.Client.Core.ViewModels.$1e.$1aW(t,this.$Fa),e=Microsoft.Crm.Client.Core.ViewModels.$1e.$136(t),$0.$0(e)&&!Microsoft.Crm.Client.Core.ViewModels.$1e.$14R(this.$Fa))return this.$ym=!0,n;if(o=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),o.get_$7g()&&this.$78&&this.get_DefinitionId()===this.$Na[this.$D]&&!$0.$0(this.$SJ)){r=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(t);s=r.$DN;for(var h=this.$SJ.toArray(),l=h.length,u=0;u<l;++u)f=h[u],$0.$0(f)||s.add(f);t=r.$fV()}else this.$D!=="queueitem"||$0.$0(this.$BF)||(t=this.$78?this.$1aT(t,this.get_$1PO()):this.$1aT(t,"436e2293-da8f-4ef9-a1e6-fff25a5beb22"));i=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(t);c=Microsoft.Crm.Client.Core.ViewModels.$1e.$1Hi(t);$0.$0(this.$vY)&&!$0.$0(c)&&(this.$vY=Microsoft.Crm.Client.Core.ViewModels.$1e.$1Hi(t).toString());this.$2DJ()}else{if($0.$0(this.get_$1PO())&&(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$L9)||!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$L9)&&!this.$yB))return n;t=Microsoft.Crm.Client.Core.Framework.$3.$9(this.$L9)?this.$1aT(t,this.get_$1PO()):this.$2ZA(t);i=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(t)}return i},$2ZA:function(n){var i=Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$fU(n),o=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(this.$L9)),t=o.$N("link-entity"),s=o.$N("condition"),f,u,h,e,c;if($0.$0(t))$0.$0(s)?Microsoft.Crm.Client.Core.Framework.$8.$4z("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, incorrect filter condition XML was passed."):(Microsoft.Crm.Client.Core.Framework.$8.$B("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, generating merged fetchXML using passed in filter condition."),c=this.$215(i,!0),Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$6T.$29J(s,c));else{Microsoft.Crm.Client.Core.Framework.$8.$B("MoCA_ISH_LookupRelationshipFiltering",2009,"Lookup relationship filtering, generating merged fetchXML using passed in link-entity filter condition.");var l=$0.$0(t.$10("link-type"))?null:t.$10("link-type").toString(),a=$0.$0(t.$10("alias"))?null:t.$10("alias").toString(),r=new Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$7C(t.$10("name").toString(),t.$10("from").toString(),t.$10("to").toString(),l,a);for(Microsoft.Crm.Client.Core.Storage.Common.FetchXml.$2F.$1WE(r,t),f=null,u=0;u<i.$JP.get_Count();u++)if(r.$2p4(i.$JP.get_$R(u))){f=i.$JP.get_$R(u);break}if($0.$0(f))i.$JP.add(r);else for(h=this.$215(f,!1),e=0;e<r.$DN.get_Count();e++)h.$9Z(r.$DN.get_$R(e))}return i.$fV()},$215:function(n,t){for(var r=null,i=0;i<n.get_$f0().get_Count();i++)if(!n.get_$f0().get_$R(i).get_$1Fl()&&(n.get_$f0().get_$R(i).get_$1m().get_Count()>0&&t||n.get_$f0().get_$R(i).get_$5N().get_Count()>0&&!t)){r=n.get_$f0().get_$R(i);break}return $0.$0(r)&&(r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,n.get_$4n()+n.get_$f0().get_Count().toString()),n.get_$f0().add(r)),r},$1aT:function(n,t){var s="",a=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n.toString()),v=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(a).$N("fetch"),i=v.$N("entity"),y=i.$10("name").toString(),r,c,e,o,u,l;if(y==="queue")return n;var p=i.$N("link-entity")?i.$N("link-entity").get_$6m().toString():"",w=i.$N("order")?i.$N("order").get_$6m().toString():"",f=i.$62("filter"),h="";if(!$0.$0(f))for(r=0;r<f.get_$s();r++)c=f.get_$R(r),h+=c.get_$6m();for(e=i.$62("attribute"),o="",u=0;u<e.get_$s();u++)o+=e.get_$R(u).get_$6m();return l="<\/entity><\/fetch>",s=t.toLowerCase()==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'><filter type='and'><condition attribute='queueviewtype' operator='eq' value='1' /><\/filter><\/link-entity><link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='inner'><attribute name='systemuserid' /><filter><condition attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString()+"' /><\/filter><\/link-entity>":t.toLowerCase()==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'><filter type='and'><condition attribute='queueviewtype' operator='eq' value='0' /><\/filter><\/link-entity>":t.toLowerCase()==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='outer'> <attribute name='systemuserid'/> <\/link-entity> <link-entity name='queue' from='queueid' to='queueid' alias='qq' link-type='outer'> <attribute name='queueviewtype'/> <\/link-entity> <filter operator='and'> <filter type ='or'> <condition entityname='qq' attribute='queueviewtype' operator='eq' value='0' /> <condition entityname='qm' attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString()+"' /> <\/filter> <\/filter>":"<filter type='and'><condition attribute='queueid' operator='eq' uitype='queue' value='{"+t+"}' /><\/filter>","<fetch distinct='false' mapping='logical'><entity name='queueitem'>"+o+p+w+h+s+l},$20g:function(n){var i,u,r,t;if(Microsoft.Crm.Client.Core.Framework.$3.$9(this.$ey)||(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i.addRange(this.$ey.split(",")),!i.get_Count()))return n;for(u={},r=0;r<i.get_Count();r++)t=i.get_$R(r),t=new Microsoft.Crm.Client.Core.Framework.Guid(t).toString(),t in n&&(u[t]=n[t]);return u},$Wn:function(n,t,i){for(var r,o,e,h,u,f,c=i,l=c.length,s=0;s<l;++s){r=c[s];o=r.LabelText||"";switch(r.ControlType){case"Button":$0.$0(r.CommandParameters)&&(r.CommandParameters={});r.CommandParameters.TargetViewModel=this;e="";switch(r.CommandType){case"ControlCommand":r.CommandParameters.CommandPropertyName=r.Command;e="ControlCommand";break;case"System":e=r.Command;break;case"WebResource":e="WebResourceCommand"}h=t.get_$1u();($0.$0(h)||Microsoft.Crm.Client.Core.ViewModels.$3R.isInstanceOfType(t))&&t.get_$AH()&&(h=t.get_$AH().$D);u=new Microsoft.Crm.Client.Core.ViewModels.$24;u.set_$2m(r.Id);u.set_Label(o);u.set_Visible(!0);u.set_Parameters(r.CommandParameters);u.set_ImageName(r.ImageId);u.set_ImageType(r.ImageType);u.$Gi=r.AvailableOffline;u.set_TargetViewModel(t);u.$Cw=null;u.set_Command(e);n.$CK(u.$1P,u);break;case"Group":Microsoft.Crm.Client.Core.ViewModels.$2D.isInstanceOfType(n)&&!Microsoft.Crm.Client.Core.Framework.$3.$9(o)?(f=new Microsoft.Crm.Client.Core.ViewModels.$8m,f.set_Label(o),f.set_$2m(this.$1Fa(r.Id)),this.$Wn(f,t,r.Children),n.$CK(f.$1P,f)):this.$Wn(n,t,r.Children)}}},$1rB:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D);t.get_$7g()&&this.$78?(this.$Bx.ItemSelected(this.$D,n),this.$Bx.$7("dataRecieved"),this.$ON.get_ComboBoxViewModel().set_SelectedItem("All")):this.$Bx.ItemSelected(n);this.$D!=="queueitem"||$0.$0(this.$BF)||this.$BF.get_QueuePickerDropDown().get_ComboBoxViewModel().set_SelectedItem("436e2293-da8f-4ef9-a1e6-fff25a5beb22")},$1Fa:function(n){if($0.$0(n))return null;var t=n.split("|");return t[t.length-1]},$Oh:function(){var u=this.$IN,n,t,i,e;for(n in u)t={key:n,value:u[n]},Microsoft.Crm.Client.Core.ViewModels.$Bo.isInstanceOfType(t.value)&&(i=t.value,$0.$0(i)||i.dispose());if(!$0.$0(this.$GQ)){for(var f=this.$GQ,o=f.length,r=0;r<o;++r)e=f[r],e.dispose();this.$GQ=null}$0.$0(this.$Bx)||(this.$Bx.remove_$15d(this.$$d_DefinitionUpdated),this.get_GridFlyoutViewModel().remove_$27e(this.$$d_DropdownItemUpdated),this.$Bx.dispose(),this.$Bx=null);$0.$0(this.$ON)||(this.$ON.remove_OnItemSelected(this.$$d_FilterUpdated),this.$ON.dispose(),this.$ON=null);$0.$0(this.$BF)||(this.$BF.dispose(),this.$BF=null);this.$x0&&(this.$ot?this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$5r,this.$$d_$22a):this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9));this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$8Q,this.$$d_$2ky);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel=function(n){this.$$d_QueueUpdated=Function.createDelegate(this,this.QueueUpdated);Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.initializeBase(this);this.$Qz=n};Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.prototype={$BF:null,$1NZ:!1,$Qz:null,$Py:null,$1UL:null,get_QueuePickerDropDown:function(){if(($0.$0(this.$BF)||$0.$0(this.$BF.$Ph))&&!this.$1NZ){this.$1NZ=!0;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("DropdownForGridViewModel","ComboBoxWrapper","ComboBoxWrapper",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("CommandButtonViewModels",this.$2zB()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ComboBoxClass","queuePickerDropDown")],null,null);this.$BF=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,null);this.$BF.add_OnItemSelected(this.$$d_QueueUpdated);this.$BF.get_ComboBoxViewModel().set_SelectedItem("436e2293-da8f-4ef9-a1e6-fff25a5beb22");this.$BF.get_ComboBoxViewModel().$dS=!0}return this.$BF},$2zB:function(){return $0.$0(this.$Py)&&this.$2WR(),this.$Py},$2WR:function(){var t={},n,i,r;t.userId=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString();t.includePublic=!0;n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveUserQueues",t);i=this;n.OnSuccess=function(n){i.$2iR(n)};r=this;n.OnFailure=function(n){r.$4L(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,n)},QueueUpdated:function(n){var t=n;this.$1UL=t.get_ComboBoxViewModel().$4i;$0.$0(this.$Qz)||(this.$Qz.$Jq=null,this.$Qz.$2O=null,$0.$0(this.$Qz.$2n)||(this.$Qz.$Ne=!0),Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel.get_$KF()&&this.$Qz.get_DefinitionId()===this.$Qz.$Pz&&(this.$Qz.$Cn=!0),this.$Qz.$Rr())},$2iR:function(n){var t=0,c=n.entityCollection,l=c.get_entities(),o,s,i,r,u,f;this.$Py={};for(var h=l,a=h.length,e=0;e<a;++e)o=h[e],s=o.$a.Id.toString(),$0.$0(s)||(i=new Microsoft.Crm.Client.Core.ViewModels.$24,i.set_$2m(s),i.set_Label(o.getValue("name")),this.$Py[t.toString()]=i,t++);r=new Microsoft.Crm.Client.Core.ViewModels.$24;r.set_$2m("5850FC36-8596-45fe-B607-FE81D0C453FD");r.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_All"));this.$Py[t.toString()]=r;t++;u=new Microsoft.Crm.Client.Core.ViewModels.$24;u.set_$2m("e611d950-6bab-477c-a5a3-7e9a447b326d");u.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_Public"));this.$Py[t.toString()]=u;t++;f=new Microsoft.Crm.Client.Core.ViewModels.$24;f.set_$2m("436e2293-da8f-4ef9-a1e6-fff25a5beb22");f.set_Label(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_Private"));this.$Py[t.toString()]=f;t++;this.$BF.get_ComboBoxViewModel().$dS=!1;this.$BF.$Ph=this.$Py;this.$BF.$2xe();this.$1NZ=!1},$4L:function(n){Microsoft.Crm.Client.Core.ViewModels.$Q.$38T(n)},$Oh:function(){var n,t,i,r;$0.$0(this.$BF)||(this.$BF.remove_OnItemSelected(this.$$d_QueueUpdated),this.$BF.dispose(),this.$BF=null);n=this.$Py;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$Py=null;Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$9U=function(){this.$$d_$2jW=Function.createDelegate(this,this.$2jW);this.$bw=new(Microsoft.Crm.Client.Core.Framework.$BM.$$(Microsoft.Crm.Client.Core.Models.$J4));Microsoft.Crm.Client.Core.ViewModels.$9U.resolveInheritance();this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;Microsoft.Crm.Client.Core.ViewModels.$9U.initializeBase(this);this.$NT=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.$J4));this.set_PageSize(2147483647)};Microsoft.Crm.Client.Core.ViewModels.$9U.prototype={$k1:null,$lG:null,$1m7:!1,$JU:null,$mm:!1,get_ActionProvider:function(){return this.$JU},set_ActionProvider:function(n){return this.$JU=n,n},$Au:"",$69:null,$1KU:0,get_Data:function(){return this.$Au},set_Data:function(n){return this.$Au!==n&&(this.$Au=n,$0.$0(n)?this.set_Text(""):this.set_Text(this.$Au.Name),this.$7("Data")),n},get_ProcessRequirementSatisfied:function(){return!$0.$0(this.$69)&&this.$69!==""},$NT:null,get_FirstLevelSubjects:function(){return this.$NT},set_FirstLevelSubjects:function(n){return this.$NT=n,n},get_Text:function(){return this.$69},set_Text:function(n){return this.$69!==n&&(this.$69=n,this.$7("Text")),n},get_ItemIndex:function(){return this.$1KU},set_ItemIndex:function(n){return this.$1KU!==n&&(this.$1KU=n),n},$Dz:!1,get_IsLoading:function(){return this.$Dz},set_IsLoading:function(n){return this.$Dz=n,n},get_DefaultLookupViewActionProvider:function(){return this.$k1},set_DefaultLookupViewActionProvider:function(n){return this.$k1=n,n},get_InitialLookupViewActionProvider:function(){return this.$lG},set_InitialLookupViewActionProvider:function(n){return this.$lG=n,n},$1UU:0,get_SubjectTextboxMaxLength:function(){return this.$1UU},set_SubjectTextboxMaxLength:function(n){return this.$1UU=n,n},$2Z:function(){this.$1a||(this.$Dz=!0,Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this))},FetchData:function(){this.$1m7||(this.getSubjectData(),this.$2ql())},SetValue:function(n){var t=this.$bw.get_$R(n);$0.$0(t)||this.set_Data(new Xrm.Objects.EntityReference("subject",new Microsoft.Crm.Client.Core.Framework.Guid(t.$2p),t.$4O))},ToggleState:function(n){var t=this.$bw.get_$R(n);$0.$0(t)||(t.$83=t.$83?0:1)},getSubjectData:function(){this.$Dz=!0;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForSubject",null);n.OnSuccess=this.$$d_$2jW;n.QueryValue="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<entity name='subject'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='subjectid' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='title'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='parentsubject'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<order attribute='createdon' descending='false' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/fetch>";this.set_DefinitionId(n.QueryValue.toString());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$2jW:function(n){var t=n.get_$9o().$1mk(),i;if(this.$NT.clear(),!$0.$0(t)&&t.length>0){for(i=0;i<t.length;i++){var f=t[i].GetValue("subjectid").toString(),s=t[i].GetValue("title"),e=t[i].GetValue("parentsubject"),o=e?e.Id.toString():null,r=o?this.$bw.get_$R(o):null,u=new Microsoft.Crm.Client.Core.Models.$J4(f,s,r);$0.$0(r)?this.$NT.add(u):r.$iG.add(u);this.$bw.set_$R(f,u)}this.$Dz=!1;this.$7("SubjectsLoaded")}this.$1m7=!0},$2ql:function(){Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7x("subject",null)},get_ProcessRequired:function(){return this.$mm},set_ProcessRequired:function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.Converters.$IZ,i=t.$Em(n,null);return this.$mm=i,n},parentNodeScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("HierarchicalSubject_ParentNode_ScreenReader_Text"),n)},selectedNodeScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("HierarchicalSubject_SelectedNode_ScreenReader_Text"),n)}};Microsoft.Crm.Client.Core.ViewModels.$Di=function(){this.get_$tN=this.get_IsValid;this.set_$qu=this.set_DataBindingValidatorResult;this.set_$KO=this.set_ManualValidatorResult;this.set_$ve=this.set_RecommendationNotification;Microsoft.Crm.Client.Core.ViewModels.$Di.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_$hS=this.get_RequiredLevel;this.set_$hS=this.set_RequiredLevel;Microsoft.Crm.Client.Core.ViewModels.$Di.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Di.prototype={add_$2CW:function(n){this.$1p("RevalidateEvent",n)},remove_$2CW:function(n){this.$32("RevalidateEvent",n)},get_IsValid:function(){return($0.$0(this.$8W)||this.$8W.$57)&&($0.$0(this.$7u)||this.$7u.$57)},get_ErrorMessage:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$47:this.$7u.$47},get_ErrorMessageLevel:function(){return $0.$0(this.$7u)?$0.$0(this.$8W)?"":this.$8W.$eo:this.$7u.$eo},$8W:null,get_DataBindingValidatorResult:function(){return this.$8W},set_DataBindingValidatorResult:function(n){if(this.$8W!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$8W=n;this.$7("DataBindingValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7u:null,get_ManualValidatorResult:function(){return this.$7u},set_ManualValidatorResult:function(n){if(this.$7u!==n){var t=this.get_IsValid(),i=this.get_ErrorMessage(),r=this.get_ErrorMessageLevel();this.$7u=n;this.$7("ManualValidatorResult");t!==this.get_IsValid()&&this.$7("IsValid");r!==this.get_ErrorMessageLevel()&&this.$7("ErrorMessageLevel");i!==this.get_ErrorMessage()&&this.$7("ErrorMessage")}return n},$7P:null,get_AcceptanceTextMessage:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?"":this.$7P.actions[0].message},get_AcceptanceActions:function(){return $0.$0(this.$7P)||$0.$0(this.$7P.actions)||this.$7P.actions.length<1?null:this.$7P.actions[0].actions[0]},get_RecommendationNotification:function(){return this.$7P},set_RecommendationNotification:function(n){return this.$7P!==n&&(this.$7P=n,this.$7("RecommendationNotification")),n},$9U:0,get_RequiredLevel:function(){return this.$9U},set_RequiredLevel:function(n){return this.$9U!==n&&(this.$9U=n,this.$1Fq("RequiredLevel","Required","Recommended")),n},get_Required:function(){return this.$9U===1||this.$9U===2},get_Recommended:function(){return this.$9U===3},$2XL:function(){var n=this.$4d("RevalidateEvent");n&&n()}};Microsoft.Crm.Client.Core.ViewModels.$Cd=function(){this.$$d_$2ig=Function.createDelegate(this,this.$2ig);this.$$d_LoadViewFailure=Function.createDelegate(this,this.LoadViewFailure);this.$$d_LoadViewSuccess=Function.createDelegate(this,this.LoadViewSuccess);Microsoft.Crm.Client.Core.ViewModels.$Cd.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Cd.prototype={$Og:null,$5n:null,$ej:null,$FT:null,$o1:null,$hc:null,$1PL:"1",$bU:null,$bV:null,$QY:null,$ei:!1,$16c:null,$16b:null,$DT:!1,get_ShouldShowOnlyGrid:function(){return this.$DT},set_ShouldShowOnlyGrid:function(n){return this.$DT=n,n},$2Z:function(){var f,e,o,s,t,r,i,u,n;if(!this.$1a&&(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this),this.$5n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$ej=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$QY={},this.$DP=this.$2.$5m.isMultiSelect,this.$E0=this.$2.$5m.lookupStyle,this.$DT=$0.$0(this.$2.$5m.shouldShowOnlyGrid)?!1:this.$2.$5m.shouldShowOnlyGrid,f=this.$2.$5m.disableQuickFind,this.$cz=$0.$0(f)?!1:f,!this.$DT))if(this.$W9=$0.$0(this.$2.$5m.selectedViewIds)?"":this.$2.$5m.selectedViewIds,e=this.$2.$5m.disableViewPicker,this.$Vo=$0.$0(e)?!1:e,this.$19f=$0.$0(this.$2.$5m.DefaultViewId)?"":this.$2.$5m.DefaultViewId,this.$ei=!0,this.$xm=this.$2.$5m.allowfilteroff,this.$L9=this.$2.$5m.relationshipfiltercondition,this.$16c="",this.$16b="",o=this.$2.$5m.filterreferencingattributename,Microsoft.Crm.Client.Core.Framework.$3.$9(o)||(s=o.split("."),this.$16c=s[0],this.$16b=s[1]),this.$E0==="single")t=this.$2.$5m.optionset,this.$5n.add(t),r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(t),this.$ej.add(r.$1q.toString()),this.$QY[t]=r.$1q.toString(),this.$QY[r.$1q.toString()]=t,this.set_SelectedEntity(t);else if(this.$E0==="multi"){for(i=this.$2.$5m.logicalNames,u=this.$2.$5m.displayNames,n=0;n<i.get_Count();n++)this.$5n.add(i.get_$R(n).toString()),this.$ej.add(u.get_$R(n).toString()),this.$QY[u.get_$R(n).toString()]=i.get_$R(n).toString(),this.$QY[i.get_$R(n).toString()]=u.get_$R(n).toString();this.$ej.sort();this.set_SelectedEntity(this.GetEntityLogicalName(this.$ej.get_$R(0)));this.$17s=!1}},$W9:null,$cz:!1,$Vo:!1,get_DisableViewPicker:function(){return this.$Vo},set_DisableViewPicker:function(n){return this.$Vo=n,n},$io:null,$DP:!1,get_IsMultiSelect:function(){return this.$DP},set_IsMultiSelect:function(n){return this.$DP=n,n},$E0:null,get_LookupStyle:function(){return this.$E0},set_LookupStyle:function(n){return this.$E0=n,n},$xm:!1,get_AllowFilterOff:function(){return this.$xm},set_AllowFilterOff:function(n){return this.$xm=n,n},get_HasRelationshipFilterCondition:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$L9)},$19f:null,get_EnableRelationshipFilter:function(){return this.$ei},set_EnableRelationshipFilter:function(n){return this.$ei!==n&&(this.$ei=n,this.$Og.$yB=this.$ei,this.$Og.$2O=null,this.$ei&&Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10Y(),this.$Og.$Rr(),this.$7("EnableRelationshipFilter")),n},get_RelationshipFilterText:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Field_Label_UseRelationshipFilter"),this.get_$305())},$L9:null,get_RelationshipFilterCondition:function(){return this.$L9},set_RelationshipFilterCondition:function(n){return this.$L9=n,n},get_$305:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$16c,this.$16b),t;return $0.$0(n)?(this.$xm&&(t=this,Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(this.$16c,[this.$16b]),Microsoft.Crm.Client.Core.Framework.$q.$4t("","LookupRelationshipFilter")).done(function(){t.$7("RelationshipLogicalName")})),""):n.$1q},get_Views:function(){return this.$FT},set_Views:function(n){return this.$FT=n,n},get_ItemViewModels:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1HE()},get_ItemViewModelDisplayNames:function(){for(var u,t,f,e=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1HE(),i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=e,o=r.length,n=0;n<o;++n)u=r[n],t=u.get_ModelContext(),$0.$0(t)||(f=t.get_$MS().Name,i.add(f));return i.toArray()},FetchViewsForEntity:function(n){var i=n?this.get_UserViewsXml():this.get_SystemViewsXml(),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);t.OnSuccess=this.$$d_LoadViewSuccess;t.OnFailure=this.$$d_LoadViewFailure;t.QueryValue=i;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)},get_SystemViewsXml:function(){return"<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='savedquery'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='savedqueryid'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='returnedtypecode'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='fetchxml'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='returnedtypecode' operator='eq' value='"+this.$1PL+"' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='statecode' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queryapi' operator='eq' value='' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queryapi' operator='null' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='64' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t<\/fetch>"},get_UserViewsXml:function(){return"<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='userquery'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='userqueryid' alias='savedqueryid'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='returnedtypecode'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='fetchxml'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='returnedtypecode' operator='eq' value='"+this.$1PL+"' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='statecode' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<filter type='or'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='0' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='querytype' operator='eq' value='64' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/entity>\r\n\t\t\t\t\t\t\t\t\t\t<\/fetch>"},LoadViewSuccess:function(n){var s=n,u,t,i,r,o;s.get_EntityCollection().$1V.$P==="savedquery"&&(this.FetchViewsForEntity(!0),this.$FT=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.$o1=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Framework.Guid)));u=!1;t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.Framework.$3.$9(this.$W9)?u=!0:t.addRange(this.$W9.split(","));for(var c=Microsoft.Crm.Client.Core.Framework.Guid.tryCreate(this.$19f),f="",l=n.get_$9o().$1mk(),h=l,a=h.length,e=0;e<a;++e)if(i=h[e],!$0.$0(i.GetValue("fetchxml"))&&(r=i.GetValue("savedqueryid"),o=String.format("{{{0}}}",r.toString()),(u||t.contains(o.toUpperCase())||t.contains(o.toLowerCase()))&&(this.$FT.add(i.GetValue("name")),this.$o1.add(r),c.toString().toLowerCase()===r.toString().toLowerCase()&&(f=i.GetValue("name")),t.get_Count()>0&&this.$o1.get_Count()===t.get_Count())))break;Microsoft.Crm.Client.Core.Framework.$3.$9(f)?this.set_SelectedView(this.$FT.get_Count()>0?this.$FT.get_$R(0):""):this.set_SelectedView(f);s.get_EntityCollection().$1V.$P==="userquery"&&this.$7("Visible")},LoadViewFailure:function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1033,"Failed: "+n)},get_Entities:function(){return this.$5n},set_Entities:function(n){return this.$5n=n,n},get_EntitiesDisplayName:function(){return this.$ej},set_EntitiesDisplayName:function(n){return this.$ej=n,n},GetEntityLogicalName:function(n){return this.$QY[n]},get_SelectedEntity:function(){return this.$hc},set_SelectedEntity:function(n){if(this.$hc!==n){this.$hc=n;var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$hc);this.$1PL=t.$9p.toString();this.FetchViewsForEntity()}return n},GetSelectedEntityDisplayName:function(){return this.$QY[this.$hc]},get_SelectedView:function(){return $0.$0(this.$bU)&&(!$0.$0(this.$FT)&&this.$FT.get_Count()>0?(this.$bU=this.$FT.get_$R(0),this.$bV=this.$o1.get_$R(0).toString(),this.$1lN()):(this.$bU="",this.$bV=null)),this.$bU},set_SelectedView:function(n){return this.$bU===n||$0.$0(n)&&$0.$0(this.$bU)||(this.$bU=n,this.$bV=this.$o1.get_$R(this.$FT.indexOf(this.$bU)).toString(),this.$1lN()),n},get_SelectedViewId:function(){if($0.$0(this.$bV))var n=this.get_SelectedView();return this.$bV},set_SelectedViewId:function(n){return this.$bV!==n&&(this.$bV=n),n},DeleteItem:function(n){var t=this.$Og.$f1(this.get_ItemViewModels()[n].$4Z);t===-1?this.get_ItemViewModels()[n].set_$KH(!1):this.$Og.$1f.get_$R(t).set_IsSelected(!1);this.$7("Visible")},$2ig:function(n){for(var i,u=n.get_$9o().$1mk(),r=u,f=r.length,t=0;t<f;++t)i=r[t],this.$FT.add(i.GetValue("name")),this.$o1.add(i.GetValue("savedqueryid"));this.$7("Visible")},$2Pr:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridViewModel","InteractionCentricGridView","InteractionCentricGridViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridFormContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PageSize",7),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PreviousGridId",this.$io),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DefinitionId",this.$bV),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$DP),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PrimaryModelName",this.$hc),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("EnableRelationshipFilter",this.$ei),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("RelationshipFilterCondition",this.$L9),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("GetDefinitionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveListMetadata",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("PersonalizationActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalization",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("ActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlForGrid",null))],{ListItemTabIndex:-1},[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridControlHeaderViewModel","InteractionCentricGridControlHeaderView","GridHeaderViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("PersonalizationActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrievePersonalization",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowSearch",!this.$cz)],{},null)],"")},$2Ps:function(){return new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricGridViewModel","InteractionCentricGridView","InteractionCentricGridViewModel",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridFormContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PageSize",10),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsGridDialogContext",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("PreviousGridId",this.$io),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$DP),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShouldShowOnlyGrid",!0)],{ListItemTabIndex:-1},null,"")},$1lN:function(){$0.$0(this.$Og)||(this.$io="grid_"+this.get_InteractionCentricGridViewModel().get_ViewModelId(),this.$Og.dispose(),this.$Og=null);var n=null;n=this.$DT?this.$2Ps():this.$2Pr();this.$Og=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2);this.$DT||(this.get_InteractionCentricGridViewModel().get_GridHeaderViewModel().get_FilterBarViewModel().$d4=this.get_InteractionCentricGridViewModel().$21U(this.$hc));this.$7("Visible")},get_InteractionCentricGridViewModel:function(){return $0.$0(this.$Og)&&this.$1lN(),this.$Og},SelectedItemScreenReaderText:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ScreenReaderText_RemoveButton"),n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel=function(n){this.$$d_$28U=Function.createDelegate(this,this.$28U);this.$$d_$28T=Function.createDelegate(this,this.$28T);this.$$d_$2u4=Function.createDelegate(this,this.$2u4);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.resolveInheritance();this.get_AttributeMetadata=this.get_$1Vw;this.set_AttributeMetadata=this.set_$1Vw;this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;this.get_LaunchedWithUnsavedChanges=this.get_$25N;this.set_LaunchedWithUnsavedChanges=this.set_$25N;this.get_$2M4=this.get_AttributeFieldNames;Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.prototype={$Ek:null,$Ok:!1,$182:!1,$1P6:null,$O0:null,$V8:null,$qY:null,$D6:0,get_$2Xe:function(){return this.$D6},$yx:null,get_Query:function(){return this.$yx},set_Query:function(n){return this.$yx=n,n},$Vn:null,get_CreateRecordActionProvider:function(){return this.$O0},set_CreateRecordActionProvider:function(n){return this.$O0=n,n},get_SetEntityReferenceActionProvider:function(){return this.$V8},set_SetEntityReferenceActionProvider:function(n){return this.$V8=n,n},get_BoundField:function(){return this.$Ek},set_BoundField:function(n){return this.$Ek=n,n},get_AttributeFieldNames:function(){return this.$4I},set_AttributeFieldNames:function(n){return n===this.$4I?n:(this.$4I=n,this.$7("AttributeFieldNames"),n)},get_IsSaving:function(){return this.$Ok},set_IsSaving:function(n){return this.$Ok!==n&&(this.$Ok=n,this.$7("IsSaving")),n},$z4:null,get_RetrieveProcessActionProvider:function(){return this.$z4},set_RetrieveProcessActionProvider:function(n){return this.$z4=n,n},add_PreNavigation:function(n){this.$1p("PreNavigation",n)},remove_PreNavigation:function(n){this.$32("PreNavigation",n)},$2Nt:function(n){return n},$1Rg:function(){return!1},$3AJ:function(){return!1},$3AK:function(){return!1},$3AL:function(){return!1},get_$2o5:function(){return!1},get_$2ni:function(){return this.$6i===1},$28T:function(){this.$wy()},$28U:function(n){var i,t;this.$2h||(i=n[0],i&&this.get_ModelContext().SetValue("processid",i),t=n[1],t&&(this.get_ModelContext().SetValue("stageid",t),this.get_ModelContext().SetValue("traversedpath",t.toString())),this.$wy())},$1De:function(n){var t=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(n,"InteractionCentricWorkflow");return t.$4b=new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["workflowid"]),t.$KX=!0,t.set_$Ra(1),t.$4W=20,t},$2EZ:function(n){if($0.$0(this.$K.$8n)||$0.$0(this.$K.$8n.get_ModelContext())||$0.$0(this.$Ek))this.set_ModelContext(n);else if(!$0.$0(this.$V8)&&!$0.$0(this.$K.$8n.get_ModelContext().get_Id())){this.set_ModelContext(n);var t=this.$V8.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)}this.$9j("OnLoadModelCompleted")},$2Ea:function(){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"BPCForEntityFilterExpression"),t;n.$Bl("category","eq","4");n.$Bl("primaryentity","eq",i.$9p.toString());n.$Bl("statecode","eq","1");t="<fetch mapping='logical' version='1.0'>\r\n\t\t\t\t\t\t\t\t\t<entity name='workflow'>\r\n\t\t\t\t\t\t\t\t\t<attribute name='workflowid' />\r\n\t\t\t\t\t\t\t\t\t<attribute name='businessprocesstype' />\r\n\t\t\t\t\t\t\t\t\t<attribute name='createdon' />\r\n\t\t\t\t\t\t\t\t\t<order attribute='processorder' />"+n.$9V()+"<\/entity>\r\n\t\t\t\t\t\t\t\t<\/fetch>";this.$yx=t;this.$Vn=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(this.$yx)},$eB:function(){var n=this;Microsoft.Crm.Client.Core.Models.$c.$jn(this.$D,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(t){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.$D);i.$lJ?(n.$2Ea(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(n.$1De(n.$Vn),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1()),Microsoft.Crm.Client.Core.Framework.$q.$4t("","InteractionCentricForm")).then(function(i){if(i.get_count()>0){var r=n.$2DG(i);r&&t.SetValue("processid",new Microsoft.Crm.Client.Core.Framework.Guid(r),null,null)}n.$2EZ(t)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Multiple Failed for Business Process Control in Interaction Centric Create Form with error : {0}",n.$F)})):n.$2EZ(t)},null)},$2DG:function(n){var t=this.$2Wn(n);return this.$34W(t)},$34W:function(n){if(!n.length)return null;var t=this;return n.sort(function(n,t){var u=Number.parseInvariant(n.fields.processorder.toString()),f=Number.parseInvariant(t.fields.processorder.toString()),i,r;return u===f?(i=n.fields.createdon,r=t.fields.createdon,i===r)?0:i>r?1:-1:u>f?1:-1}),n[0].fields.workflowid.toString()},$2Wn:function(n){for(var i=[],t=0;t<n.get_count();t++)n.get_$R(t).fields.businessprocesstype&&n.get_$R(t).fields.businessprocesstype.get_$cW()!=="0"||i.push(n.get_$R(t));return i},$1tM:function(){var t,i,r,n;if(!$0.$0(this.$K.$M)&&"InitializationParameters"in this.$K.$M){if(t=this.$K.$M.InitializationParameters,"RelationshipAttribute"in t&&t.RelationshipAttribute.length>0){i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(this.$4I);for(var f=t.RelationshipAttribute,e=f.length,u=0;u<e;++u)r=f[u],$0.$0(r)||i.contains(r)||i.add(r);this.set_AttributeFieldNames(i.toArray())}n=this;Microsoft.Crm.Client.Core.Models.$c.$1If(this.$D,t,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(this.$4I)).then(function(t){var i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n.$D);i.$lJ?(n.$2Ea(),Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7y(n.$1De(n.$Vn),new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$28(1,1,Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$U1()),Microsoft.Crm.Client.Core.Framework.$q.$4t("","InteractionCentricForm")).then(function(i){if(i.get_count()>0){var r=n.$2DG(i);r&&t.SetValue("processid",new Microsoft.Crm.Client.Core.Framework.Guid(r),null,null)}n.set_ModelContext(t);n.$9j("OnLoadModelCompleted")},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Multiple Failed for Business Process Control in Interaction Centric Create Form with error : {0}",n.$F)})):(n.set_ModelContext(t),n.$9j("OnLoadModelCompleted"))},null)}else this.$eB()},$1Ig:function(n){switch(n){case 2:this.$1tM();break;default:this.$eB()}},$2Z:function(){if(this.$182=!0,this.$D6=0,this.$6i===1){if(!$0.$0(this.$4I))if($0.$0(this.$K.$M))this.$eB();else{var t=this.$K.$M.InitializeFrom,n=null;$0.$0(this.$K.$M.InitializationParameters)||(n=this.$K.$M.InitializationParameters,$0.$0(n.InitializeFrom)||(t=n.InitializeFrom));$0.$0(n)||$0.$0(n.BoundField)?$0.$0(this.$K.$M.BoundField)||(this.$Ek=this.$K.$M.BoundField):this.$Ek=n.BoundField;$0.$0(this.get_ModelContext())&&this.$1Ig(t,n)}Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$2Z.call(this)}else Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$2Z.call(this),this.add_$FD(this.$$d_$2u4)},$2u4:function(){var n=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$D),t;!$0.$0(n)&&n.$CW&&(Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$5y.forceRuleEvaluation(),this.remove_$FD(this.$$d_$2u4));$0.$0(this.get_ModelContext())||(t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83(this.get_ModelContext()),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1FP().raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$83,t))},$1so:function(){Microsoft.Crm.Client.Core.ViewModels.$4L.isCreateFormViaUrl()?(this.$1P6="SaveAndClose",this.$D6=3):(this.$1P6="Save",this.$D6=1);this.$CO()},$2QZ:function(){this.$D6=3;this.$CO()},$2QY:function(n){this.$D6=6;this.$qY=n;this.$CO()},$CO:function(){var n,t;if(!Microsoft.Crm.Client.Core.Framework.$6.$4N&&!this.$Ok){if(!this.$BY){Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_Generic"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Form_Component_Error"));this.$Ok=!1;return}n=this.$4d("PreNavigation");n&&n(this,null);$0.$0(this.$z4)?this.$wy():(t=this.$z4.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t));this.set_IsSaving(!0)}},$wy:function(){if(!Microsoft.Crm.Client.Core.Framework.$6.$4N&&!$0.$0(this.$O0)){var n=this.$O0.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}},$2Cm:function(n){$0.$0(this.get_ModelContext())||$0.$0(this.get_ModelContext().get_Id())||this.get_ModelContext().get_Id()===Microsoft.Crm.Client.Core.Framework.Guid.get_empty().toString()||Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$2Cm.call(this,n)},$27X:function(n,t){this.$182=!1;this.$1Hy(n,t)},$27U:function(n){this.set_IsSaving(!1);$0.$0(this.$qY)||this.$qY.resolve(!1);switch(n.$m){case-2147220685:this.$S8=!0;this.$CO();break;default:this.$MZ(n)}},$QG:function(){var n=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$12c(this.$1P);$0.$0(n)||n(this)},$Oh:function(){this.remove_$FD(this.$$d_$2u4);Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$Oh.call(this)},$1Hy:function(n,t){var r,i;if($0.$0(n)&&$0.$0(t)&&this.set_IsSaving(!1),r=null,$0.$0(n)||$0.$0(t)||(r=this.$4d("RecordSaved")),!$0.$0(t))switch(this.$D6){case 1:this.$QG();break;case 3:Microsoft.Crm.Client.Core.ViewModels.$4L.isCreateFormViaUrl()&&this.$1P6==="SaveAndClose"&&window.close();i=new Microsoft.Crm.Client.Core.Commands.$2R(this,40);i.$x={};i.$D=this.$D;i.$x.SourceId=t.get_$4m();i.$1XJ=!0;i.execute();i.dispose();break;case 6:$0.$0(this.$qY)||this.$qY.resolve(!0)}$0.$0(r)||r(new Microsoft.Crm.Client.Core.ViewModels.$Mc(n,t))},$28B:function(n){var t=MscrmComponents.DeferredPromiseFactory(Boolean,Object);return this.$6i===1&&!$0.$0(this.$182)&&!this.$182?(t.resolve(!0),t.promise()):Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.prototype.$28B.call(this,n)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel=function(){this.$$d_$1I9=Function.createDelegate(this,this.$1I9);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.prototype={$1YZ:"CurrentSelectedTabName",$oP:null,get_CurrentSelectedTabName:function(){return this.$oP},set_CurrentSelectedTabName:function(n){return this.$oP=n,n},get_GetIsCurrentSelectedTabPropertyName:function(){return"IsCurrentSelectedTab"},$2Z:function(){var n,t,i,f,r,u,e,o;if(!this.$1a){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this);this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9);n=null;t=this.$H;for(i in t){f={key:i,value:t[i]};n=f.value;break}if(n){if(this.$oP=n.get_Name(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("AssociatedGridURLAddressability")&&!$0.$0(this.$2.$cy)){r=this.$H;for(u in r)if(e={key:u,value:r[u]},o=e.value,o.get_Name()===this.$2.$cy){this.$oP=this.$2.$cy;this.$2.$cy=null;break}}this.$7(this.$1YZ)}}},$Oh:function(){this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$3v,this.$$d_$1I9);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$1I9:function(n){this.$oP=n.$Si;this.$7(this.$1YZ)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel=function(){this.$F9=[];this.$E7=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.initializeBase(this);this.$ov=!0;this.$om=!0};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.$2rE=function(n){var u,t,e,v,y,i,r,b;if(n.lastButtonClicked==="add_id"){u=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1HE();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10Y();var f=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.LookupControlItem)),k=n.records,c=Xrm.Page.getAttribute(k),l={};if(n.isInlineOrAssociateFormLookup){if(t=n.context,!$0.$0(t)){e=new Microsoft.Crm.Client.Core.ViewModels.$I(t,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AssociateRecordsForInteractionCentric",null));t.$MW=!1;for(var a=u,d=a.length,o=0;o<d;++o)v=a[o],y=v.get_ModelContext().get_$4m(),t.$FJ=y,$0.$0(t.$FJ)||$0.$0(e)||Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(e.$56())}}else{if(n.isMultiSelect&&(i=c.getValue(),!$0.$0(i)))for(r=0;r<i.length;r++)f.add(i[r]),$0.$0(i[r].id)||(l[i[r].id.toLowerCase()]=!0);for(var p=u,g=p.length,s=0;s<g;++s){var w=p[s],h=w.get_ModelContext().get_$4m(),nt="{"+h.get_$4m().toLowerCase()+"}";$0.$0(l[nt])&&(b=new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(h.get_$BZ(),h.get_$4m(),w.get_ModelContext().get_$MS().Name.toString()),f.add(b))}c.setValue(f.toArray())}}else Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10Y();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Je(!1)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.prototype={$1AZ:null,get_LookupForField:function(){return this.$1AZ},set_LookupForField:function(n){return this.$1AZ=n,n},$DP:!1,get_IsMultiSelect:function(){return this.$DP},set_IsMultiSelect:function(n){return this.$DP=n,n},get_InteractionCentricLookupMaxCount:function(){return 10},get_RecordsCountText:function(){return this.$1f.get_Count()<10?this.$1f.get_Count()===1?this.$1f.get_Count().toString()+" "+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Dialog_ChangeParent_Type_Record"):this.$1f.get_Count().toString()+" "+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Tools.FormEditor.Dialogs.subgrid.aspx.RecordsLabel"):"10+ "+Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Web.Tools.FormEditor.Dialogs.subgrid.aspx.RecordsLabel")},get_MoreThanOneMatchText:function(){return this.get_$Aa().get_shouldAutoResolve()&&!this.$1k&&this.$F9.length>1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("LookupAmbiguousTooltip"):null},$1Ti:null,get_$Aa:function(){return this.$1Ti},set_$Aa:function(n){return this.$1Ti=n,n},$Ao:null,get_EntitiesMetadataViewModel:function(){return this.$Ao},set_EntitiesMetadataViewModel:function(n){return this.$Ao=n,n},$om:!1,get_HideLookupMoreRecords:function(){return this.$om},set_HideLookupMoreRecords:function(n){return this.$om=n,n},$yZ:!1,get_IsInlineOrAssociateFormLookup:function(){return this.$yZ},set_IsInlineOrAssociateFormLookup:function(n){return this.$yZ=n,n},$MB:!1,$Rd:null,get_$W:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W()},$W0:null,get_ParentLookupViewModel:function(){return this.$W0},set_ParentLookupViewModel:function(n){return this.$W0=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$A8.prototype.$2Z.call(this);this.$pd=!1;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$10Y()},$1fr:function(n){var r,i,t;if(this.$E0==="single")this.$F9=n;else if(this.$E0==="multi"){if(this.$E7.add(this.$D),this.$F9.length)for(r=this.$F9.length,i=0;i<=n.length-1&&this.$F9.length<=this.get_PageSize();r++,i++)this.$F9[r]=n[i];else this.$F9=n;if(this.$Ao){if(this.$F9.length<this.get_PageSize())for(t=0;t<this.$Ao.$5n.get_Count();t++)if(!this.$E7.contains(this.$Ao.$5n.get_$R(t).get_$2I())){this.$Ao.set_SelectedItem(t.toString());break}}else this.$Ao||this.$E7.clear()}this.get_$Aa().get_shouldAutoResolve()&&!this.$1k&&this.$36d(this.$F9.length)},$36d:function(n){var t=this.get_$Aa(),i,r;t.$yc=!1;n===1?(t.$1L8(this.$F9[0]),t.$yc=!0):(i=n?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("LookupAmbiguousTooltip"):Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InlineEditControls.InlineLookup.NoRecords"),r=n?"Error_ISHLookupAutoResolve_MoreThanOneRecords":"Error_ISHLookupAutoResolve_ZeroRecords",t.$2UV(i,r));t.$p0=!0},AddUnresolvedEmail:function(){if(this.get_$Aa()&&this.get_$Aa().get_$CP()&&this.get_$Aa().$1ez(this.get_$Aa().get_$CP().trim())){var n=this.get_$Aa().get_$CP().trim(),i={addressused:n},r=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,i,{addressused:14},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));this.$2pM(this.get_$Aa().get_Data(),n)||(t.$4w.add("addressused"),this.get_$Aa().$2Kp(t))}},$2pM:function(n,t){for(var f,r,u=n.get_entities(),e=u.length,i=0;i<e;++i)if(f=u[i],r=f.getValue("addressused"),r&&r.toString()===t)return!0;return!1},$4L:function(n){if(n.$m===-2147220960&&this.$E0!=="single"&&this.$Ao){this.$E7.add(this.$D);for(var t=0;t<this.$Ao.$5n.get_Count();t++)if(!this.$E7.contains(this.$Ao.$5n.get_$R(t).get_$2I())){this.$Ao.set_SelectedItem(t.toString());return}this.$MB&&this.$7("NewItemDescriptorAndModel");this.set_IsLoading(!1);this.set_HasMoreRecords(!1);this.$MB=!1;this.$7("RecordCount")}else Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$4L.call(this,n)},$3d:function(n){var r,i,t;if($0.$0(this.$HT))this.$Rd=n;else{if(r=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StopMarkerForLookupSearch",1,null),this.$E0!=="single"){this.$2qD(n);return}for(this.$2n.get_$CZ().$86(),this.$KK=0,i=n.get_$9o().$1mk(),t=0;t<i.length;t++)this.$KK<this.get_PageSize()?(this.$KK++,this.$1p0(i[t])):n.get_$9o().$Ai(i[t]);this.$MB&&this.$7("NewItemDescriptorAndModel");this.set_IsLoading(!1);this.set_HasMoreRecords(!n.get_$t4());this.$MB=!1;this.$7("RecordCount")}},openLookupDialog:function(){var u=new Xrm.DialogOptions,n,i,r,t;if(u.width=485,n={},n.isMultiSelect=this.$DP,n.records=this.$1AZ,n.disableQuickFind=this.get_$Aa().$cz,n.disableViewPicker=this.get_$Aa().$Vo,n.relationshipfiltercondition=this.get_$Aa().get_$1O1(),n.allowfilteroff=this.get_$Aa().$zm,n.filterreferencingattributename=this.get_$Aa().$rc,this.$E0==="single")n.optionset=this.$D,n.lookupStyle="single",n.selectedViewIds=this.get_$Aa().$W9,n.DefaultViewId=this.get_$Aa().$O7;else if(this.$E0==="multi"){for(i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),t=0;t<this.$Ao.$5n.get_Count();t++)Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$Ao.$5n.get_$R(t).get_$2I(),1)&&(i.add(this.$Ao.$5n.get_$R(t).get_$2I()),r.add(this.$Ao.$5n.get_$R(t).get_$8z()));if(!i.get_Count()){Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(this.get_$5x().$20X(-2147220960),this.get_$5x().$4J(-2147220960));return}n.logicalNames=i;n.displayNames=r;n.lookupStyle="multi"}Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().set_$1Je(!0);this.$yZ&&(n.context=this.$2,n.isMultiSelect=!0);n.isInlineOrAssociateFormLookup=this.$yZ;Xrm.Dialog.openDialog("Lookup",u,n,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.$2rE,null)},screenReaderTextForInteractionCentricLookupList:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionCentricLookupListCount_ScreenReader_Label"),n)},$2qD:function(n){var i,t;for(this.$KK||this.$2n.get_$CZ().$86(),i=n.get_$9o().$1mk(),t=0;t<i.length;t++)this.$KK<this.get_PageSize()?(this.$KK++,this.$1p0(i[t])):n.get_$9o().$Ai(i[t]);this.$MB&&this.$7("NewItemDescriptorAndModel");(this.$E7.get_Count()===this.$Ao.$5n.get_Count()-1||this.$KK>=10)&&this.set_IsLoading(!1);this.set_HasMoreRecords(!n.get_$t4());this.$MB=!1;this.$7("RecordCount")},$1fm:function(){$0.$0(this.get_$Aa())||this.get_$Aa().get_shouldAutoResolve()?$0.$0(this.$Hm)||$0.$0(this.$D)?this.set_IsLoading(!1):(this.$E0==="multi"&&this.$E7&&(!this.$E7.get_Count()||this.$E7.get_Count()===this.$Ao.$5n.get_Count())&&(this.$E7.get_Count()===this.$Ao.$5n.get_Count()&&this.$E7.clear(),this.$F9.length=0,$0.$0(this.$2n)||this.$2n.get_$CZ().$86()),Microsoft.Crm.Client.Core.ViewModels.$A8.prototype.$1fm.call(this)):(this.$E0==="multi"&&this.$E7&&(!this.$E7.get_Count()||this.$E7.get_Count()===this.$Ao.$5n.get_Count())&&($0.$0(this.$Hm)||$0.$0(this.$D)||(this.$E7.get_Count()===this.$Ao.$5n.get_Count()&&this.$E7.clear(),this.$F9.length=0,$0.$0(this.$2n)||this.$2n.get_$CZ().$86())),Microsoft.Crm.Client.Core.ViewModels.$A8.prototype.$1fm.call(this))},$1hq:function(){this.get_CurrentItemIndex()>=0&&this.get_$Aa().$1L8(this.$F9[this.get_CurrentItemIndex()])},$2h5:function(n){this.$HT=n;this.set_ListItemViewDescriptor(Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(this.$HT));this.$MB=!0;$0.$0(this.$Rd)||(this.$3d(this.$Rd),this.$Rd.dispose(),this.$Rd=null)},$Oh:function(){$0.$0(this.get_$Aa())||this.set_$Aa(null);$0.$0(this.$Ao)||(this.$Ao.dispose(),this.$Ao=null);this.$W0=null;this.$E7=null;this.$F9=null;Microsoft.Crm.Client.Core.ViewModels.$A8.prototype.$Oh.call(this)},ShowNewButtonOnlyIfInteractionCentricEnabled:function(){var n,t;if(!$0.$0(this.$W0)&&!$0.$0(this.$W0.$8L)&&!$0.$0(this.$W0.$8L.$1g)){if(!$0.$0(this.get_$Aa())&&!$0.$0(this.get_$Aa().$yY)&&this.get_$Aa().$yY)return!1;if(n=this.$W0.$8L.$1g.$D,!$0.$0(n)&&(t=this.get_$W().$i(n),!$0.$0(t)))return t.$BW}return!0},IsVisibleInMobileClientOrICEnabled:function(){var t=this.$D,n=this.get_$W().$i(t);return $0.$0(n)?!1:n.$KJ||n.$BW},SetPageSizeAndHideMoreRecords:function(){this.$2.$g!==12&&this.$2.$g!==37&&this.IsVisibleInMobileClientOrICEnabled()?(this.set_PageSize(10),this.$om=!1):(this.set_PageSize(2147483647),this.$om=!0)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1V0=function(n){var i={partyid:n},r=new Xrm.Objects.EntityReference("activityparty",Microsoft.Crm.Client.Core.Framework.Guid.get_empty()),t=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityRecord(r,i,{partyid:6},{},{},new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RelatedEntityCollection(new Array(0)));return t.$4w.add("partyid"),t};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1oW=function(n){return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection([Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1V0(n)],!1,1,!1)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.prototype={$MT:!1,$1Q6:!1,$tK:!1,$8c:"multi",$t9:!0,get_$Gt:function(){var n,t;return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.isInstanceOfType(this.get_Data())&&this.$8c==="single"&&(n=this.get_Data(),!$0.$0(n)&&n.get_count()>0&&(t=Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.$fY(n.get_$R(0)),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(t)))?t:null},set_$Gt:function(n){return n!==this.get_$Gt()&&this.set_Data($0.$0(n)?Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createEmpty():Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.$1oW(n)),n},get_IsMultiSourceLookup:function(){return this.$t9},set_IsMultiSourceLookup:function(n){return this.$t9=n,n},get_NavigationEnabled:function(){return this.$MT},set_NavigationEnabled:function(n){return this.$MT=n,n},get_ShouldAutoResolveEmail:function(){return this.$1Q6},set_ShouldAutoResolveEmail:function(n){return this.$1Q6=n,n},get_LookupStyle:function(){return this.$8c},set_LookupStyle:function(n){return this.$8c=n,n},showOrHideResultsList:function(){Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2&&($0.$0(this.$Dm)||$0.$0(this.$BK)||(this.$Dm.$6l.get_Count()<=0?this.$Mz(!0):this.$Mz(!1)))},$1L8:function(n){this.$8c==="multi"?($0.$0(n)||this.$Dm.$1pA(n),this.get_interactionCentricLookupAutoResolve()||this.$Mz(!1)):Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.$1L8.call(this,n);this.get_interactionCentricLookupAutoResolve()&&(this.$1X6(),this.clearError(),this.get_shouldAutoResolve()&&this.$BK.get_RecordCount()===1&&(this.$Mz(!1),this.set_HasFocus(!1)))},$Mz:function(n){(Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===2||this.get_shouldAutoResolve()&&Microsoft.Crm.Client.Core.Framework.$6.get_$1d()===3)&&($0.$0(this.$Dm)||$0.$0(this.$BK)||(this.$Dm.set_HidePartyList(n),this.$BK.set_HideLookupResultsList(!n)))},updateInputValue:function(){this.get_interactionCentricLookupAutoResolve()&&!$0.$0(this.$5I)&&this.$5I.set_Value(this.$p5);this.$8c==="single"&&Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.updateInputValue.call(this)},$1hG:function(n,t){this.$8c==="multi"?(this.$BK.set_SearchValue($0.$0(this.get_$CP())?"":this.get_$CP()),this.$Mz(!0)):Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1hG.call(this,n,t)},$1gv:function(n,t){this.$8c==="single"&&Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1gv.call(this,n,t)},$P2:function(n,t){this.$8c==="multi"?this.$16Q():Microsoft.Crm.Client.Core.ViewModels.$D2.prototype.$P2.call(this,n,t);this.$tK&&this.$Mz(!0);this.$tK=!0},$28E:function(n){this.$MW=!0;$0.$0(this.get_ModelContext())?this.$1L8(n.$AK):(this.get_ModelContext().$1Pv(),this.$1L8(n.$AK),this.get_ModelContext().$1O4());this.$MW=!1;this.$1D5()},$2Mt:function(n){Microsoft.Crm.Client.Core.ViewModels.$D2.prototype.buildChildViewModelDescriptors.call(this,n)},buildChildViewModelDescriptors:function(n){var t,i;this.$DP=this.$8c==="single"?!1:!0;Microsoft.Crm.Client.Core.ViewModels.$D2.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$0(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i={input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","input",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0)],t)};this.$8c==="multi"&&(i.partylist=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("InteractionCentricPartyListViewModel","InteractionCentricPartyList","partyList",this.$Fi,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("NavigationEnabled",this.$MT)],null,null));this.$jD(i)},$2Kp:function(n){this.$8c==="multi"&&($0.$0(n)||this.$Dm.$2Ko(n),this.$1X6(),this.$Mz(!1))},$1hE:function(n,t){this.get_HasFocus()||this.$8c!=="multi"?this.$8c==="single"&&Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.$1hE.call(this,n,t):this.$1Q6&&!$0.$0(this.$BT)&&this.$BK.AddUnresolvedEmail()},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$D2.prototype.$CK.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.isInstanceOfType(t)&&(this.$Dm=t,this.$Dm.$Uc=this)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.initializeBase(this);this.AddPropertyChangedListener("Data",this.$$d_$KZ)};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.prototype={$Uc:null,$Oh:function(){this.RemovePropertyChangedListener("Data",this.$$d_$KZ);this.$Uc=null;Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel.prototype.$Oh.call(this)},$2w7:function(n){if(n.$Sv){var t=new Microsoft.Crm.Client.Core.Commands.$2R(n,40);t.$x={EntityReference:n.$R8};t.$18=null;t.$D=n.$R8.get_$BZ();t.execute();t.dispose()}}};Microsoft.Crm.Client.Core.ViewModels.$SS=function(){Microsoft.Crm.Client.Core.ViewModels.$SS.initializeBase(this);this.set_StartIndex(1e3)};Microsoft.Crm.Client.Core.ViewModels.$SS.prototype={$7q:null,get_DataList:function(){return this.$7q},set_DataList:function(n){return this.$7q=n,n},$Dx:null,get_Data:function(){return this.$Dx},set_Data:function(n){return this.$Dx=n,n},$cw:null,get_DataNames:function(){return this.$cw},set_DataNames:function(n){return this.$cw=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$7q={},this.$cw={},this.set_ItemIDs(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))),this.$dB=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.getData())},$dB:null,get_ItemNames:function(){return this.$dB},set_ItemNames:function(n){return this.$dB=n,n},$20t:function(){return null},$2gv:function(){return null},$1Tb:null,get_ItemIDs:function(){return this.$1Tb},set_ItemIDs:function(n){return this.$1Tb=n,n},$1Pt:function(){var s=this.$Dx,r,f,n,e,t,i,o;for(r in s){var h={key:r,value:s[r]},u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),c=h.value;for(f in c)n={key:f,value:c[f]},e=this.$7q[n.key],($0.$0(e)||$0.$0(e.$1g))&&(this.$7q[n.key]=n.value,t=!1,Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(n.value)?(i=n.value,!$0.$0(i.$M)&&"MetadataSubType"in i.$M?(o=i.$M.MetadataSubType,t=!$0.$0(o)&&o!==3):t=!0):t=!0,t&&(this.get_ItemIDs().add(this.$2gv(n.value)),this.$dB.add(this.$20t(n.value)),u.add(this.$20t(n.value))));u.get_Count()>0&&(this.$cw[h.key]=u)}},$Fb:null,get_SelectedItemID:function(){return this.$Fb},set_SelectedItemID:function(n){return this.$Fb=n,n},$iH:null,get_ChildSelectedItemID:function(){return this.$iH},set_ChildSelectedItemID:function(n){return this.$iH=n,n},SelectedItemName:function(){return null},getData:function(){},ItemSelected:function(){},add_$15d:function(n){this.$1p("OnItemSelected",n)},remove_$15d:function(n){this.$32("OnItemSelected",n)},$9j:function(n){var t=this.$4d(n);$0.$0(t)||t(this,new Sys.EventArgs)},$Oh:function(){var f=this.$7q,n,t,i,r,e,u;for(n in f)t={key:n,value:f[n]},Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(t.value)&&t.value.dispose();if(this.$7q=null,!$0.$0(this.$cw)){i=this.$cw;for(r in i)e={key:r,value:i[r]},u=e.value,u.clear(),u=null;this.$cw=null}$0.$0(this.get_ItemIDs())||(this.get_ItemIDs().clear(),this.set_ItemIDs(null));$0.$0(this.$dB)||(this.$dB.clear(),this.$dB=null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$D5=function(){Microsoft.Crm.Client.Core.ViewModels.$D5.initializeBase(this);this.$oQ="InteractionWallDateRangeFilter"};Microsoft.Crm.Client.Core.ViewModels.$D5.prototype={$9G:null,get_ParentViewModel:function(){return this.$9G},set_ParentViewModel:function(n){return this.$9G=n,n},$Oh:function(){this.$9G=null;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},SetDates:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$C2.prototype.SetDates.call(this,n,t);this.$374();this.$9G.$2D="DateRangeFilterApplied";this.$9G.refreshData();this.$9G.$2D=""},$2jl:function(){var n={};return this.$Vw?n.IsStartDateNull="true":(n.StartDate=this.$bs.toUTCString(),n.StartDateString=this.get_StartDateText()),this.$Vu?n.IsEndDateNull="true":(n.EndDate=this.$YC.toUTCString(),n.EndDateString=this.get_EndDateText()),n},$374:function(){var t=this.$2jl(),n;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("InteractionWallDateRangeApplied",0,this.get_ViewModelId());Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetFilterExpression",2002,t,"DateRangeFilterApplied");n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"InteractionWall.DateRangeFilterExpression");this.$Vw||this.$Vu||n.$Bl("modifiedon","on-or-after",this.$bs.format("s")).$Bl("modifiedon","on-or-before",this.$YC.format("s"));this.$9G.$SQ=n}};Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.prototype={$11Y:null,get_EntityLogicalName:function(){return this.$11Y},get_EntityDisplayName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$6d.$9F).$1q},get_$326:function(){return this.$6d.$W7},get_$394:function(){return this.$6d.$pS},$yD:null,get_EntityId:function(){return this.$yD},set_EntityId:function(n){return this.$yD=n,n},get_ActivityType:function(){return this.$6d.$JS},get_State:function(){return this.$6d.$Sf},get_Priority:function(){return this.$6d.$iw},get_ResultDirection:function(){return this.$6d.$pM},get_Subject:function(){return this.$6d.$4O},get_CreatedBy:function(){return this.$6d.$oL},get_Description:function(){return this.$6d.$NP},$Vr:null,get_ImageViewModel:function(){return this.$Vr},set_ImageViewModel:function(n){return this.$Vr=n,n},get_TimeStamp:function(){var n=this.$6d.$Sk,i=n.localeFormat("d")+" "+n.localeFormat("T"),r=Microsoft.Crm.Client.Core.Framework.$1I.get_$1ge(),u=new Microsoft.Crm.Client.Core.Framework.$1I(n.getFullYear(),n.getMonth(),n.getDate()),f=new Microsoft.Crm.Client.Core.Framework.$Ky(u,r),t=f.get_$39s();return t<=1?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("LabelForToday"):t>1&&t<=2?Microsoft.Crm.Client.Core.Framework.Common.$2.$4("LabelForYesterday"):i},get_StartDate:function(){var n=this.$6d.$1BI,t=null;return n&&(t=n.localeFormat("d")+" "+n.localeFormat("t")),t},get_EndDate:function(){var n=this.$6d.$19n,t=null;return n&&(t=n.localeFormat("d")+" "+n.localeFormat("t")),t},get_AttachedFiles:function(){return this.$6d.$19P},get_IsInteractionCentricEnabled:function(){return this.$6d.$d7},get_TargetEntityString:function(){return this.$6d.$1oR},get_TargetEntityLogicalName:function(){return this.$6d.$1oQ},get_IsTargetEntityInteractionCentricEnabled:function(){return this.$6d.$1oI},get_StringPartWallForPost:function(){return this.$6d.$1Ts},$6d:null,get_ResultItem:function(){return this.$6d},set_ResultItem:function(n){return this.$6d=n,n},$9G:null,get_ParentViewModel:function(){return this.$9G},set_ParentViewModel:function(n){return this.$9G=n,n},$DQ:null,get_QuickActionViewModel:function(){return this.$DQ},set_QuickActionViewModel:function(n){return this.$DQ=n,n},$2D:null,$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$2Z.call(this);this.$Vr=new Microsoft.Crm.Client.Core.ViewModels.$Cv;this.$6d.$d5?this.$Vr.set_Data(this.$6d.$d5):this.$Vr.set_Data("/_imgs/NavBar/EmptyUserImage.png");var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QuickActionViewModel","QuickActionInteractionWall","QuickActionInteractionWall"+this.$6d.$W7,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TargetViewModelContext",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Entity",this.$6d.$9F),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context","grid"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context",this.$6d.$9F==="email"?"form":"grid")],null,null);this.$DQ=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2);this.$DQ.$2KH(this.$6d.$W7,this.$6d.$9F)},$Oh:function(){$0.$0(this.$Vr)||(this.$Vr.dispose(),this.$Vr=null);$0.$0(this.$DQ)||(this.$DQ.dispose(),this.$DQ=null);this.$9G=null;this.$6d=null;Microsoft.Crm.Client.Core.ViewModels.$4Z.prototype.$Oh.call(this)},navigateToUserRecord:function(){this.$2D="SystemUserNavigation";this.$1Lc("systemuser",this.$6d.$p8);this.$2D=""},navigateToTargetEntityItemRecord:function(n,t){(this.$2D="SystemPostLinkedEntityNavigation",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToTargetEntityItemRecord",2003,{RecordObjectTypeCode:n,EntityId:n},this.$2D),this.$371(n),this.$yD=t,Microsoft.Crm.Client.Core.Framework.$3.$9(this.$11Y))||(this.$1Lc(this.$11Y,new Microsoft.Crm.Client.Core.Framework.Guid(this.$yD)),this.$2D="")},navigateToItemRecord:function(){this.$2D="RecordNavigation";Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToItemRecord",2003,{RecordObjectTypeCode:Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.toString(this.$6d.$JS),EntityId:this.$6d.$W7},this.$2D);var n=this.getEntityLogicalName();Microsoft.Crm.Client.Core.Framework.$3.$9(n)||(this.$1Lc(n,this.$6d.$W7),this.$2D="")},screenReaderTextForInteractionWallItem:function(n,t,i){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionWallItem_ScreenReader_Label"),n,t,i)},getEntityLogicalName:function(){switch(this.$6d.$JS){case 0:case 1:case 2:case 3:case 5:case 8:case 9:case 6:case 10:case 11:return this.$6d.$9F;default:return""}},$1Lc:function(n,t){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("NavigateToTargetEntityItemRecord",2003,{RecordLogicalName:n,EntityId:t.toString()},this.$2D);var r=new Xrm.Objects.EntityReference(n,t),u={EntityReference:r},i=new Microsoft.Crm.Client.Core.Commands.$2R(null,40);try{i.$D=n;i.$x=u;i.execute();this.$9G.$d8=!0}finally{i.dispose()}},IsEntityInteractionCentricEnabled:function(n){return this.$20q().contains(n)},$20q:function(){for(var t,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=0;n<i.length;n++)t=i[n],t.$BW&&r.add(t.$9p.toString());return r},$371:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(n);this.$11Y=t.$y},getResultId:function(){return this.$6d.$W7.toString()}};Microsoft.Crm.Client.Core.ViewModels.$HL=function(){this.$17X=0};Microsoft.Crm.Client.Core.ViewModels.$HL.prototype={$17X:0,get_$1f7:function(){return this.$17X>0},$195:function(){this.$17X++},$2FW:function(){this.get_$1f7()&&this.$17X--}};Microsoft.Crm.Client.Core.ViewModels.$SJ=function(){Microsoft.Crm.Client.Core.ViewModels.$SJ.resolveInheritance();this.$5E=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$SJ.initializeBase(this);this.$es=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$SJ.prototype={$Gw:null,$es:null,$1Og:function(n,t,i,r,u,f,e){var s,c,h,o,l;return this.$Gw=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$8B,Microsoft.Crm.Client.Core.Framework.$7),s=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"activitypointer"),Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(c=["subject","description"],s=Microsoft.Crm.Client.Core.ViewModels.$5R.$1tn("activitypointer",c,u.replace("*","%"))),h=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"activitypointer"),h.$Bl("activitytypecode","in",this.$2go()),o=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"activitypointer"),o.$9Z(h),o.$9Z(Microsoft.Crm.Client.Core.ViewModels.$5R.$1tj("activitypointer",0,"regardingobjectid",t)),o.$9Z(s),o.$9Z(f),this.set_DefinitionId(this.get_ViewModelId()),this.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v('<fetch mapping="logical"><entity name="activitypointer"><attribute name="activityid" /><attribute name="activitytypecode" /><attribute name="subject" /><attribute name="prioritycode" /><attribute name="description" /><attribute name="scheduledstart" /><attribute name="scheduledend" /><attribute name="createdby" /><attribute name="modifiedby" /><attribute name="modifiedon" /><attribute name="statecode" /><attribute name="statuscode" /><order attribute="modifiedon" descending="true" />'+o.$9V()+'<link-entity name="phonecall" from="activityid" to="activityid" alias="phonecalljoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><link-entity name="socialactivity" from="activityid" to="activityid" alias="socialactivityjoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><link-entity name="email" from="activityid" to="activityid" alias="emailjoin" link-type="outer"><attribute name="directioncode" /><\/link-entity><\/entity><\/fetch>'),this.$1Z.$Ea(),this.$1Z.$4W=i,this.$1Z.$9S=r,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveData",2004,{FetchXml:this.$2O.$5M.get_$R(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$g.toString(1)).Data,PageSize:i,PageNumber:r},"DataLoad"),!$0.$0(e)&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(e)&&this.set_$GO(e),l=this.$es.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(l),this.$Gw},$3d:function(n){var s,r,i,l,o;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("LoadDataSuccess",2004,{ModelCount:n.get_$9o().get_Count()},"DataLoad");s=n.get_$9o().$1mk();r=new Microsoft.Crm.Client.Core.ViewModels.$8B;for(var h=s,a=h.length,e=0;e<a;++e){i=h[e];Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("LoadDataSuccess",2004,i.$I.getObjectData(),"DataLoad");var v=i.GetValue("activityid"),c=i.GetValue("description"),u=-1,f=-1,t=new Microsoft.Crm.Client.Core.ViewModels.$HK(v);t.$9F=i.$I.$2A.LogicalName;t.$4O=i.GetValue("subject");t.$NP=Microsoft.Crm.Client.Core.Framework.$3.$9(c)?"":c;switch(t.$9F.toLowerCase()){case"appointment":t.$JS=2;f=i.GetValue("prioritycode").$1s;t.$1BI=Microsoft.Crm.Client.Core.Framework.$3.$9(i.GetValue("scheduledstart"))?new Date:Microsoft.Crm.Client.Core.ViewModels.$1c.$1Mk(i.$I.$6M.scheduledstart);t.$19n=Microsoft.Crm.Client.Core.Framework.$3.$9(i.GetValue("scheduledend"))?new Date:Microsoft.Crm.Client.Core.ViewModels.$1c.$1Mk(i.$I.$6M.scheduledend);break;case"email":t.$JS=1;f=i.GetValue("prioritycode").$1s;u=i.GetValue("emailjoin.directioncode").$1s;t.$pS=i.GetValue("statuscode").$1s.toString();break;case"phonecall":t.$JS=3;u=i.GetValue("phonecalljoin.directioncode").$1s;break;case"socialactivity":t.$JS=8;u=i.GetValue("socialactivityjoin.directioncode").$1s;break;case"task":t.$JS=0;f=i.GetValue("prioritycode").$1s;break;case"incidentresolution":t.$JS=4;break;default:t.$JS=9}l=i.GetValue("statecode").$1s;switch(l){case 0:t.$Sf=0;break;case 1:t.$Sf=1;break;case 2:t.$Sf=2;break;case 3:t.$Sf=3;break;default:t.$Sf=1}switch(u){case 0:t.$pM=0;break;case 1:t.$pM=1;break;default:t.$pM=0}switch(f){case 0:t.$iw=2;break;case 1:t.$iw=1;break;case 2:t.$iw=0;break;default:t.$iw=1}t.$Sk=Microsoft.Crm.Client.Core.ViewModels.$1c.$1Mk(i.$I.$6M.modifiedon);t.$oL=i.GetValue("createdby").Name;o=i.GetValue("modifiedby");t.$1Ae=o.Name;t.$p8=o.Id;try{t.$d7=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(i.$I.$Qx().activitytypecode).$BW?!0:!1}catch(y){t.$d7=!1}r.$g0(t)}r.$Pt=!n.get_$t4();this.$Gw.resolve(r)},$4L:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("LoadDataFailure",2004,{Error:n.$20()},"DataLoad");this.$Gw.reject(n)},$2go:function(){for(var n,r=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy(),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Number)),i=0;i<r.length;i++)n=r[i],n.$BW&&n.get_$7g()&&t.add(n.$9p);return t.add(4206),t}};Microsoft.Crm.Client.Core.ViewModels.$5R=function(){};Microsoft.Crm.Client.Core.ViewModels.$5R.$1tn=function(n,t,i){var r=null,e;r=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,n);for(var f=t,o=f.length,u=0;u<o;++u)e=f[u],r.$Bl(e.toString(),"like","%"+i+"%");return r};Microsoft.Crm.Client.Core.ViewModels.$5R.$1tj=function(n,t,i,r){var u=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(t,n);return u.$Bl(i,"eq",r),u};Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile=function(){};Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile.prototype={$d2:null,get_fileName:function(){return this.$d2},set_fileName:function(n){return this.$d2=n,n},$19t:null,get_filePath:function(){return this.$19t},set_filePath:function(n){return this.$19t=n,n},$Pn:0,get_fileSize:function(){return this.$Pn},set_fileSize:function(n){return this.$Pn=n,n},get_fileSizeFormattedString:function(){var n,t;return this.$Pn<1024?this.$Pn.toString()+" bytes":(n=Math.round(this.$Pn/1024),n<1024)?n.toString()+" KB":(t=Math.round(n/1024),t.toString()+" MB")}};Microsoft.Crm.Client.Core.ViewModels.$HK=function(n){this.$19P=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile));this.$W7=n};Microsoft.Crm.Client.Core.ViewModels.$HK.prototype={$W7:null,$JS:0,$Sf:0,$pS:null,$iw:0,$pM:0,$4O:null,$NP:null,$Sk:null,$oL:null,$d5:null,$1Ae:null,$1BI:null,$19n:null,$p8:null,$19P:null,$9F:null,$d7:!1,$1oR:null,$1Ts:null,$1oQ:null,$1oI:!1,toString:function(){var n="";return n+="ResultId:"+this.$W7.toString()+";",n+="ResultType:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultType.toString(this.$JS)+";",n+="ResultState:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.toString(this.$Sf)+";",n+="ResultPriority:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultPriority.toString(this.$iw)+";",n+="ResultDirection:"+Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultDirection.toString(this.$pM)+";",n+="Title:"+this.$4O+";",n+="TimeStamp:"+this.$Sk.toUTCString()+";",n+="CreatedBy:"+this.$oL+";",n+="ModifiedBy:"+this.$1Ae+";",$0.$0(this.$p8)||(n+="ModifiedById:"+this.$p8.toString()+";"),n+="EntityLogicalName:"+this.$9F+";",n+("IsInteractionCentricEnabled:"+this.$d7.toString())}};Microsoft.Crm.Client.Core.ViewModels.$8B=function(){this.$bA=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$HK))};Microsoft.Crm.Client.Core.ViewModels.$8B.prototype={$bA:null,get_$s:function(){return this.$bA.get_Count()},$Pt:!1,get_$R:function(n){return this.$bA.get_$R(n)},set_$R:function(n,t){return this.$bA.set_$R(n,t),t},$g0:function(n){for(var t=0;this.get_$s()>0&&this.$bA.get_$R(t).$Sk>n.$Sk;)if(t++,t===this.$bA.get_Count())break;this.$bA.insert(t,n)},$2mu:function(n){for(var t=0;t<n.get_$s();t++)this.$g0(n.get_$R(t))},$86:function(){this.$bA.clear()}};Microsoft.Crm.Client.Core.ViewModels.$2q=function(){};Microsoft.Crm.Client.Core.ViewModels.$2q.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$2q.$16h={};Microsoft.Crm.Client.Core.ViewModels.$2q.$2zt()};Microsoft.Crm.Client.Core.ViewModels.$2q.$2zt=function(){Microsoft.Crm.Client.Core.ViewModels.$2q.$1jJ("InteractionWallSource_Note",function(){return new Microsoft.Crm.Client.Core.ViewModels.$SL});Microsoft.Crm.Client.Core.ViewModels.$2q.$1jJ("InteractionWallSource_Post",function(){return new Microsoft.Crm.Client.Core.ViewModels.$29});Microsoft.Crm.Client.Core.ViewModels.$2q.$1jJ("InteractionWallSource_Activity",function(){return new Microsoft.Crm.Client.Core.ViewModels.$SJ})};Microsoft.Crm.Client.Core.ViewModels.$2q.$1jJ=function(n,t){n in Microsoft.Crm.Client.Core.ViewModels.$2q.$16h||(Microsoft.Crm.Client.Core.ViewModels.$2q.$16h[n]=t)};Microsoft.Crm.Client.Core.ViewModels.$2q.$33G=function(n){var t=Microsoft.Crm.Client.Core.ViewModels.$2q.$16h[n];return t()};Microsoft.Crm.Client.Core.ViewModels.$SL=function(){Microsoft.Crm.Client.Core.ViewModels.$SL.resolveInheritance();this.$5E=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$SL.initializeBase(this);this.$es=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$SL.prototype={$Gw:null,$es:null,$1Og:function(n,t,i,r,u,f,e){var s,h,o,c;return this.$Gw=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$8B,Microsoft.Crm.Client.Core.Framework.$7),s=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"activitypointer"),Microsoft.Crm.Client.Core.Framework.$3.$9(u)||(h=["subject","notetext"],s=Microsoft.Crm.Client.Core.ViewModels.$5R.$1tn("annotation",h,u.replace("*","%"))),o=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"annotation"),o.$9Z(Microsoft.Crm.Client.Core.ViewModels.$5R.$1tj("annotation",0,"objectid",t)),o.$9Z(s),o.$9Z(f),this.set_DefinitionId(this.get_ViewModelId()),this.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v('<fetch mapping="logical"><entity name="annotation"><attribute name="annotationid" /><attribute name="subject" /><attribute name="notetext" /><attribute name="filename" /><attribute name="filesize" /><attribute name="isdocument" /><attribute name="createdby" /><attribute name="modifiedby" /><attribute name="modifiedon" /><order attribute="modifiedon" descending="true" /><link-entity name="systemuser" from="systemuserid" to="createdby" alias="userimagejoin"><attribute name="entityimage_url" /><\/link-entity>'+o.$9V()+"<\/entity><\/fetch>"),this.$1Z.$Ea(),this.$1Z.$4W=i,this.$1Z.$9S=r,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveData",2005,{FetchXml:this.$2O.$5M.get_$R(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$g.toString(1)).Data,PageSize:i,PageNumber:r},"DataLoad"),!$0.$0(e)&&Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(e)&&this.set_$GO(e),c=this.$es.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(c),this.$Gw},$3d:function(n){var h,u,i,t,s,r;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("LoadDataSuccess",2005,{ModelCount:n.get_$9o().get_Count()},"DataLoad");h=n.get_$9o().$1mk();u=new Microsoft.Crm.Client.Core.ViewModels.$8B;for(var c=h,a=c.length,f=0;f<a;++f){i=c[f];Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("LoadDataSuccess",2005,i.$I.getObjectData(),"DataLoad");var l=i.GetValue("annotationid"),e=i.GetValue("subject"),o=i.GetValue("notetext");Microsoft.Crm.Client.Core.Framework.$3.$9(e)&&(e=o,o="");t=new Microsoft.Crm.Client.Core.ViewModels.$HK(l);t.$9F=i.$I.$2A.LogicalName;t.$JS=5;t.$Sf=1;t.$4O=e;t.$NP=o;t.$Sk=Microsoft.Crm.Client.Core.ViewModels.$1c.$1Mk(i.$I.$6M.modifiedon);t.$oL=i.GetValue("createdby").Name;t.$d5=i.GetValue("userimagejoin.entityimage_url");s=i.GetValue("modifiedby");t.$1Ae=s.Name;t.$p8=s.Id;t.$d7=!1;i.GetValue("isdocument").$1s===1&&(r=new Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile,r.$d2=i.GetValue("filename"),r.$Pn=Number.parseLocale(i.GetValue("filesize")),r.$19t="javascript:window.open('"+(Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$K.usepathbasedurls?"/"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().get_$gq():"")+"/nga/engagementhubdownload.aspx?AttachmentType=5&IsNotesTabAttachment=1&AttachmentId="+l+"');void(0);",t.$19P.add(r));u.$g0(t)}u.$Pt=!n.get_$t4();this.$Gw.resolve(u)},$4L:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("LoadDataFailure",2005,{Error:n.$20()},"DataLoad");this.$Gw.reject(n)}};Microsoft.Crm.Client.Core.ViewModels.$29=function(){Microsoft.Crm.Client.Core.ViewModels.$29.resolveInheritance();this.$5E=this.dispose;Microsoft.Crm.Client.Core.ViewModels.$29.initializeBase(this);this.$es=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXml",null))};Microsoft.Crm.Client.Core.ViewModels.$29.prototype={$Kn:null,$Gw:null,$es:null,$2WA:function(n,t,i){var r=n.get_$5N();r.get_Items()[0].get_$1m()?(t.val=new Date(r.get_Items()[0].get_$1m().get_Items()[0].get_$29().toString()),i.val=new Date(r.get_Items()[0].get_$1m().get_Items()[1].get_$29().toString())):(t.val=new Date("0001-01-01T00:00:00Z"),i.val=new Date("3000-12-31T23:59:59Z"))},$1Og:function(n,t,i,r,u,f){var e,o,v,a;this.$Gw=MscrmComponents.DeferredPromiseFactory(Microsoft.Crm.Client.Core.ViewModels.$8B,Microsoft.Crm.Client.Core.Framework.$7);this.$Kn=u;var s,h,c,l;return this.$2WA(f,c={val:s},l={val:h}),s=c.val,h=l.val,e={},e["entityReference"]=new Xrm.Objects.EntityReference(n,new Microsoft.Crm.Client.Core.Framework.Guid(t)),e["pageSize"]=i,e["pageNumber"]=r,e["commentsPerPost"]=2,e["startDate"]=s,e["endDate"]=h,e["type"]=1,e["source"]=1,$0.$0(Microsoft.Crm.Client.Core.ViewModels.$29.$lA)&&(Microsoft.Crm.Client.Core.ViewModels.$29.$lA={}),Microsoft.Crm.Client.Core.ViewModels.$29.$fr.toString()in Microsoft.Crm.Client.Core.ViewModels.$29.$lA||(Microsoft.Crm.Client.Core.ViewModels.$29.$lA[Microsoft.Crm.Client.Core.ViewModels.$29.$fr.toString()]=this,Microsoft.Crm.Client.Core.ViewModels.$29.$fr++),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveData",2006,e,"DataLoad"),o=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveRecordWallRequest",e),v=this,o.OnSuccess=function(n){Microsoft.Crm.Client.Core.ViewModels.$29.$fr--;Microsoft.Crm.Client.Core.ViewModels.$29.$fr<0;Microsoft.Crm.Client.Core.ViewModels.$29.$lA[Microsoft.Crm.Client.Core.ViewModels.$29.$fr.toString()].$DI(n);delete Microsoft.Crm.Client.Core.ViewModels.$29.$lA[Microsoft.Crm.Client.Core.ViewModels.$29.$fr.toString()]},a=this,o.OnFailure=function(n){a.$7S(n)},Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,o),this.$Gw},$DI:function(n){var u,i;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveSuccess",2006,{ModelCount:n.entityCollection.get_count()},"DataLoad");for(var e=new Microsoft.Crm.Client.Core.ViewModels.$8B,o=!0,l=n.entityCollection,a=l.get_entities(),s=a,v=s.length,r=0;r<v;++r)if(u=s[r],Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("LoadDataSuccess",2005,u.getObjectData(),"DataLoad"),i=u.fields,"text"in i){var h=i.text,f=i.regardingobjectid,y=f.Id,t=new Microsoft.Crm.Client.Core.ViewModels.$HK(y);t.$9F=Xrm.Internal.getEntityName(i.regardingobjectid.TypeCode);t.$4O=f.Name;t.$NP=h;t.$1Ts=Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_InteractionWallEvent_OnWallPost"),"`~<"+t.$4O+">~`");t.$Sk=new Date(Date.parse(i.modifiedon));t.$oL=i.createdby.Name;t.$d5=i["userimagejoin.entityimage_url"];t.$JS=i.source.$1s===1?6:7;t.$Sf=1;o=this.$t0(f.TypeCode.toString());t.$d7=o;var p=this.$2wg(h),w=Microsoft.Crm.Client.Core.Framework.$3.$IY(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_InteractionWallEvent_OnWallPost"),t.$4O),c=!0;this.$Kn&&(c=t.$4O.toLowerCase().indexOf(this.$Kn.toLowerCase())!==-1||p.toLowerCase().indexOf(this.$Kn.toLowerCase())!==-1||w.toLowerCase().indexOf(this.$Kn.toLowerCase())!==-1);c&&e.$g0(t)}this.$Gw.resolve(e)},$2wg:function(n){var t,r,i,c,l;if(!n)return null;t="`~<";r=">~`";n=n.replace(new RegExp("\\@\\[","g"),t).replace(new RegExp("\\]","g"),r);for(var u=n.split(new RegExp(t+"|"+r)),s=!1,f=0,e=0,h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),o="";!s;)f=n.indexOf(t),e=n.indexOf(r),f!==-1&&e!==-1?(h.add(n.substr(f+t.length,e-f-t.length)),n=n.substr(e+r.length)):s=!0;for(i=0;i<u.length;i++)h.indexOf(u[i])>-1?(c=u[i].split(new RegExp(",")),l=c[2].replace(new RegExp('"',"g"),""),o+=l):o+=u[i];return o},$7S:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("RetrieveFailure",2006,{Error:n.$20()},"DataLoad");this.$Gw.reject(n)},$t0:function(n){var t=this.$20q();return t.contains(n)},$20q:function(){for(var t,i=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Qy(),r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),n=0;n<i.length;n++)t=i[n],t.$BW&&r.add(t.$9p.toString());return r},$4L:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("LoadDataFailure",2006,{Error:n.$20()},"DataLoad");this.$Gw.reject(n)}};Microsoft.Crm.Client.Core.ViewModels.$74=function(){this.$$d_$1kX=Function.createDelegate(this,this.$1kX);Microsoft.Crm.Client.Core.ViewModels.$74.initializeBase(this);this.$NV=null};Microsoft.Crm.Client.Core.ViewModels.$74.prototype={$XZ:0,$4W:0,$MK:!1,$Kq:null,$jB:null,$5f:null,$NV:null,get_InteractionWallEventViewModels:function(){return this.$NV},set_InteractionWallEventViewModels:function(n){return this.$NV=n,n},$Q2:null,get_ResultCollection:function(){return this.$Q2},set_ResultCollection:function(n){return this.$Q2=n,n},$y3:null,get_customerName:function(){return this.$y3},set_customerName:function(n){return this.$y3=n,n},$y4:null,get_customerType:function(){return this.$y4},set_customerType:function(n){return this.$y4=n,n},$y2:null,get_customerId:function(){return this.$y2},set_customerId:function(n){return this.$y2=n,n},$2D:null,$zJ:null,get_SourceList:function(){return this.$zJ},set_SourceList:function(n){return this.$zJ=n,n},get_ActiveSource:function(){return this.$jB},set_ActiveSource:function(n){var t=!0;return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$2D)&&(t=!1,this.$2D="SourceFilterPerformed"),this.$jB=n,this.$XZ=0,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetActiveSource",2002,{ActiveSource:n},this.$2D),this.refreshData(),t||(this.$2D=""),n},$5V:null,get_RegardingObject:function(){return this.$5V},set_RegardingObject:function(n){return this.$5V=n,n},$Pt:!1,get_MoreRecords:function(){return this.$Pt},set_MoreRecords:function(n){return this.$Pt=n,n},get_SearchActive:function(){return!Microsoft.Crm.Client.Core.Framework.$3.$9(this.$5f)},$SQ:null,get_FilteredDateExpression:function(){return this.$SQ},set_FilteredDateExpression:function(n){return this.$SQ=n,n},$cx:null,get_DateRangeViewModel:function(){return this.$cx},set_DateRangeViewModel:function(n){return this.$cx=n,n},$iX:!1,get_IsDataLoading:function(){return this.$iX},set_IsDataLoading:function(n){return this.$iX=n,n},$d8:!1,get_IsNavigated:function(){return this.$d8},set_IsNavigated:function(n){return this.$d8=n,n},get_AllText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_InteractionWall_AllText")},SetSearchText:function(n,t){this.$2D="SearchPerformed";this.$5f=n;t&&(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("InteractionWallSearchText",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetSearchText",2002,{text:n},this.$2D),this.$XZ=0,this.refreshData());this.$2D=""},loadMoreResults:function(){this.$2D="LoadMoreResults";var n={};n.oldPageNumber=this.$XZ;this.$XZ++;n.newPageNumber=this.$XZ;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("LoadMoreResults",2002,n,this.$2D);n=null;this.$1Og();this.$2D=""},$2Z:function(){this.$2D="Initialize";this.$MK=!1;this.$hz=!0;Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$2Z.call(this);this.$NV=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel));this.$cx=this.$2Yi();this.$Q2=new Microsoft.Crm.Client.Core.ViewModels.$8B;this.$Kq=new Microsoft.Crm.Client.Core.ViewModels.$HL;this.$SQ=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"InteractionWall.DateRangeFilterExpression");this.$XZ=0;this.$4W=10;this.$jB=this.get_AllText();this.$Pt=!1;this.set_HasError(!0);this.$2&&this.$2.get_ModelContext()&&this.$2Es();this.$2.add_$FD(this.$$d_$1kX);this.$2D=""},$Oh:function(){this.$2D="Dispose";this.$1uv();this.$NV=null;this.$cx.dispose();this.$Q2.$86();this.$SQ.$86();this.$cx=null;this.$Q2=null;this.$SQ=null;this.$zJ=null;this.$Kq=null;this.$5V=null;this.$2.remove_$FD(this.$$d_$1kX);Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.prototype.$Oh.call(this);this.$2D=""},$1uv:function(){var n,t;if(!$0.$0(this.$NV)){for(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("DisposeDataSources",2002,{EventCount:this.$NV.get_Count()},this.$2D),n=0;n<this.$NV.get_Count();++n)t=this.$NV.get_$R(n),t.dispose();this.$NV.clear()}},$1kX:function(){this.$2D="FormRootModelLoad";Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RootOnLoadModelCompleted",2002,null,this.$2D);this.$2Es();this.$2D=""},$2Es:function(){var n,t;if(this.$2.$6i!==2){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("SetRegardingObject",2002,{message:"Form is not in Edit Mode. Skipping regarding object and relationship setup"},this.$2D);return}n={};n.oldId=this.$5V;this.$5V=this.$2.get_ModelContext().$I.$a;n.newId=this.$5V;this.$6c="objectid";n.oldRelationship=this.$52;this.$52=this.$5V.LogicalName+"_activitypointers";n.newRelationship=this.$52;this.$5T=0;Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetRegardingObject",2002,n,this.$2D);n=null;this.$MK=!0;t=this.$2.get_ModelContext().$I.fields.customerid;$0.$0(t)||(this.$y3=t.Name,this.$y2=t.Id.toString(),this.$y4=t.LogicalName);this.refreshData()},$2Yi:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionWallDateRangeViewModel","DateRangeControl","DateRangeControl",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsStartDateNull",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsEndDateNull",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowNoRange",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentViewModel",this)],null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2)},$2Uj:function(n,t){var i;return Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("DynamicInteractionWallEventGenerator",2002,{ResultIndex:t},this.$2D),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("DynamicInteractionWallEventGenerator",2002,{ResultItem:n.toString()},this.$2D),i=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionWallEventViewModel","InteractionWallEvent","InteractionWallEvent",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ResultItem",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentViewModel",this)],null,null),Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(i,this.get_ModelContext(),this.$2i,this.$2)},resetAllFilters:function(n){this.$2D="ClearFilter";this.$SQ.$86();this.$SQ.set_$Qj("InteractionWall.DateRangeFilterExpression");this.$cx.set_StartDateText("");this.$cx.set_EndDateText("");n&&this.set_ActiveSource(this.get_AllText());this.$2D=""},$2Ah:function(){this.$2D="InteractionWallExternalRefresh";this.refreshData();this.$2D=""},refreshData:function(){var n,t;this.$d8&&(this.$2D="NavigateBackReload");this.$Q2.$86();this.$2.get_ModelContext()&&(n=this.$2.get_ModelContext().$I,n&&(t=n.$a,this.$5V!==t&&(this.$5V=t)));this.$1Og();this.$d8&&(this.$2D="",this.$d8=!1)},screenReaderTextForInteractionWallSearchContainer:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("InteractionWall_Screenreader_DynamicSearchText"),n)},$1Og:function(){var i;if(this.$iX){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("RetrieveData",2002,{Message:"Data is alreday loading. Skipping load attempt"},this.$2D);return}if(this.$Pt=!1,this.$iX=!0,this.$jB===this.get_AllText()){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveData",2002,{Message:"Setting up data promises for all sources"},this.$2D);for(var t=this.$zJ,r=t.length,n=0;n<r;++n)i=t[n],this.$2F7(i)}else Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("RetrieveData",2002,{Message:"Setting up data promise for "+this.$jB},this.$2D),this.$2F7(this.$jB);this.$7("DataLoadCompleted")},$2F7:function(n){var u=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(1,"InteractionWall"),i,t,r;u.$9Z(this.$SQ);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SetUpDataPromises",2002,{dataSource:n},this.$2D);i=Microsoft.Crm.Client.Core.ViewModels.$2q.$33G(n);this.$5V?(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B("SetUpDataPromises",2002,{dataSource:n,LogicalName:this.$5V.LogicalName,RegardingObjectIdentifier:this.$5V.get_identifier(),PageSize:this.get_PageSize(),PageNumber:this.$XZ,SearchText:this.$5f,AdditionalFilter:u.$9V()},this.$2D),t=this,r=this,i.$1Og(this.$5V.LogicalName,this.$5V.get_identifier(),this.$4W,this.$XZ,this.$5f,u,this.$2).done(function(r){t.$2D=n+"SourceLoadSuccess";t.$Q2.$2mu(r);t.$Pt=t.$Pt||r.$Pt;t.$2FX(i);t.$2D=""}).fail(function(){r.$2D=n+"SourceLoadFailure";r.$2FX(i);r.$2D=""}),this.$Kq.$195()):(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u("SetUpDataPromises",2002,{Message:"Regarding Object not set. Clearing loading flag to allow further loads."},this.$2D),this.$iX=!1)},$2FX:function(n){if(this.$Kq.$2FW(),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("SignalSemaphore",2002,{Message:"Semaphore successfully signalled"},this.$2D),!this.$Kq.get_$1f7()){var t=this.$2D;this.$2D="ConstructItems";this.$2Pp();this.$2D=t}n.$5E()},$2Pp:function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("InteractionWallDataUpdated",0,this.get_ViewModelId());this.$1uv();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$1E("ConstructItems",2002,{ResultCollectionCount:this.$Q2.get_$s()},this.$2D);for(var n=0;n<this.$Q2.get_$s();n++)this.$NV.add(this.$2Uj(this.$Q2.get_$R(n),n));this.$iX=!1;this.$7("DataLoadCompleted")},$Rr:function(){this.$2D=this.$MK?"WallQuickCreate":"PageRefresh";this.refreshData();this.$2D=""}};Microsoft.Crm.Client.Core.ViewModels.$9r=function(){Microsoft.Crm.Client.Core.ViewModels.$9r.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$9r.prototype={$Tr:null,$8L:null,get_InteractionCentricLookupMaxCount:function(){return 10},get_InteractionCentricLookupListViewModel:function(){return this.$Tr},get_LookupNewButtonViewModel:function(){return this.$8L},get_NewButtonText:function(){return Microsoft.Crm.Client.Core.Framework.Common.$2.$4("L_Lookup_New_Text")},$nR:function(n){var i,r,u,t;Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$nR.call(this,n);i=n;for(r in i)u={key:r,value:i[r]},t=u.value,Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.isInstanceOfType(t)?(this.$Tr=t,this.$Tr.$W0=this):Microsoft.Crm.Client.Core.ViewModels.$24.isInstanceOfType(t)&&(this.$8L=t)},$Oh:function(){$0.$0(this.$Tr)||(this.$Tr.dispose(),this.$Tr=null);$0.$0(this.$8L)||(this.$8L.dispose(),this.$8L=null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$D0=function(){this.$$d_$28E=Function.createDelegate(this,this.$28E);Microsoft.Crm.Client.Core.ViewModels.$D0.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$D0.prototype={$BT:null,$Dm:null,$1dZ:null,$5I:null,$8c_9:"single",$1lb:!1,$p5:null,get_LastTypedValue:function(){return this.$p5},set_LastTypedValue:function(n){return this.$p5=n,n},$1Ah:!1,get_NewButtonVisibility:function(){return this.$1Ah},set_NewButtonVisibility:function(n){return this.$1Ah=n,n},$pB:null,get_NewButtonEntityLogicalName:function(){return this.$pB},set_NewButtonEntityLogicalName:function(n){return this.$pB=n,n},$W9:null,get_SelectedViewIds:function(){return this.$W9},set_SelectedViewIds:function(n){return this.$W9=n,n},$cz:!1,get_DisableQuickFind:function(){return this.$cz},set_DisableQuickFind:function(n){return this.$cz=n,n},$yc:!1,get_IsResolveSuccessful:function(){return this.$yc},set_IsResolveSuccessful:function(n){return this.$yc=n,n},$Vo:!1,get_DisableViewPicker:function(){return this.$Vo},set_DisableViewPicker:function(n){return this.$Vo=n,n},$p0:!1,get_IsSearchComplete:function(){return this.$p0},set_IsSearchComplete:function(n){return this.$p0=n,n},get_LookupStyle:function(){return this.$8c_9},set_LookupStyle:function(n){return this.$8c_9=n,n},get_InteractionCentricPartyListViewModel:function(){return this.$Dm},$DP:!1,get_IsMultiSelect:function(){return this.$DP},set_IsMultiSelect:function(n){return this.$DP=n,n},$BK:null,get_InteractionCentricInlineLookupListViewModel:function(){return this.$BT},get_$CP:function(){return!$0.$0(this.$5I)&&!$0.$0(this.$5I.$IP)?this.$5I.$IP.toString():null},get_LookupInputViewModel:function(){return this.$5I},set_LookupInputViewModel:function(n){return this.$5I=n,$0.$0(this.$5I)||(this.updateInputValue(),this.$5I.set_ImeMode(this.$Ij),this.$5I.set_MaxLength(200)),n},get_InteractionCentricInlineLookUpListDescriptor:function(){return this.$1dZ},get_SearchValue:function(){return $0.$0(this.$BK.$Hm)?"":this.$BK.$Hm},get_interactionCentricLookupAutoResolve:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("InteractionCentricLookupAutoResolve")},get_shouldAutoResolve:function(){return this.get_interactionCentricLookupAutoResolve()?this.$1lb:!1},$1hE:function(){if(!$0.$0(this.$5I)&&!this.get_HasFocus()&&this.get_CurrentDataName()!==this.get_$CP()){var n=this.get_$CP();this.set_$Gt(null);this.$5I.set_Value(n)}},$1X6:function(){$0.$0(this.$5I)||(this.get_interactionCentricLookupAutoResolve()?this.$5I.$2ES(""):this.$5I.set_Value(""),this.$5I.fireRefreshFromContextEvent())},updateInputValue:function(){if(!$0.$0(this.$5I)){if(this.get_interactionCentricLookupAutoResolve()){var n=this.get_CurrentDataName();Microsoft.Crm.Client.Core.Framework.$3.$9(n)?this.$5I.set_Value(this.$p5):this.$5I.set_Value(n)}else this.$5I.set_Value(this.get_CurrentDataName());this.$5I.fireRefreshFromContextEvent()}},buildChildViewModelDescriptors:function(n){var t,i,r,u;$0.$0(this.$BT)||(this.$BT.dispose(),this.$BT=null);t={};$0.$0(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);t.OverlayMode=2;i=!1;$0.$0(n.Properties.ShowLabel)||(i=n.Properties.ShowLabel);r={IsSaveAndEditButtonHidden:!0,shouldOpenQuickCreate:!0};u={inlinelookup:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricInlineLookupListViewModel","InteractionCentricInlineLookupList","inlinelookup",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("InteractionCentricLookupListViewModel","InteractionCentricLookupList","interactionCentricList",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("ActionProvider","ActionProvider",new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("LookupByName",null)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("LookupForField",this.getFieldNameFromDescriptorName(this.$L)),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsMultiSelect",this.$DP),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("IsInlineOrAssociateFormLookup",this.$t3)],{ScrollDirection:"Horizontal"}),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("Button","Button","newInteractionCentricButton",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Command","CreateCommand"),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Enabled",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1J0()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Visible",Microsoft.Crm.Client.Core.Commands.OpenCreateFormCommand.get_$1J0()),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Parameters",{externalParameters:r})],null)]),input:new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("String","String","interactionCentricInput",[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Label",this.$1G),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ShowLabel",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("UpdateOnKeyUp",!0),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("OverlayText","")],t)};this.$jD(u);this.get_shouldAutoResolve()&&(this.$p0=!0)},$jD:function(n){var f=n,r,i,t,u;for(r in f)i={key:r,value:f[r]},t=i.value,$0.$0(this.$H[t.Name])&&(u=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(t,this.get_$1B(),this.$2i,this.$2),this.$CK(u.get_Name(),u)),i.key==="inlinelookup"?this.$1dZ=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(t):i.key==="input"&&(this.$14w=Microsoft.Crm.Client.Core.Models.Descriptors.$n.$En(t))},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$4k.isInstanceOfType(t)?this.set_LookupInputViewModel(t):Microsoft.Crm.Client.Core.ViewModels.$9r.isInstanceOfType(t)&&(this.$BT=t,this.$BK=this.$BT.$Tr,this.$BK.$ov=!0,this.$BK.set_$Aa(this),this.$BK.$E0=this.$8c_9,this.$1nE(),this.$1Rq(),this.$BT.$8L.$1g.$J=this.$$d_$28E)},$1nB:function(n){$0.$0(n)||(this.$JI=n.$2O,this.$Pb=n.$1Kk,this.set_LookupModelName(n.$Br),this.$1Rq())},$1L8:function(n){this.get_shouldAutoResolve()&&this.clearError();Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1L8.call(this,n)},$2UV:function(n,t){var i=this;i.set_$KO(new Microsoft.Crm.Client.Core.Models.Validation.ValidatorResult(!1,null,n,t))},clearError:function(){var n=this;n.set_$KO(null)},$1Rq:function(){$0.$0(this.$BK)||$0.$0(this.$Pb)||$0.$0(this.$JI)||$0.$0(this.$B7)||this.$BK.$2Eh(this.$B7,this.$JI,this.$Pb)},$1nE:function(){if(!$0.$0(this.$BT)&&!$0.$0(this.$BT.$8L)&&!$0.$0(this.$BT.$8L.$1g)){var n=this.$B7;$0.$0(this.$pB)||this.$pB===""||(n=this.$pB);this.$BT.$8L.$1g.set_PrimaryModelName(n);this.$BT.$8L.$1g.get_CanExecute()&&Microsoft.Crm.Client.Core.ViewModels.$a.$G5(n)&&this.$1Ah?(this.$BT.$8L.set_Visible(!0),Microsoft.Crm.Client.Core.ViewModels.QuickCreateFormViewModel.isInstanceOfType(this.$2)||Microsoft.Crm.Client.Core.ViewModels.CrmDialogViewModel.isInstanceOfType(this.$2)||$0.$0(this.get_ModelContext())||(this.$BT.$8L.$1g.$J2=this.get_ModelContext().get_$MS(),this.$BT.$8L.$1g.$FK=this.$FK)):this.$BT.$8L.set_Visible(!1)}},$28E:function(n){this.$MW=!0;$0.$0(this.get_ModelContext())?this.set_$Gt(n.$AK):(this.get_ModelContext().$1Pv(),this.set_$Gt(n.$AK),this.get_ModelContext().$1O4());Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1F()?$0.$0(this.$BT)||$0.$0(this.$BT.$Tr)||this.$BT.$Tr.$Rr():this.$1D5();this.$9n("OnNewRecordSaved",n.$1LT)},$Oh:function(){$0.$0(this.$BT)||(this.$BT.dispose(),this.$BT=null);Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$Oh.call(this)},search:function(n){(this.$1lb=n,$0.$0(this.$BK))||(this.$3Ay(),this.$BK.$KK=0,this.$BK.$E7.clear(),this.$BK.set_SearchValue($0.$0(this.get_$CP())?"":this.get_$CP()),this.get_shouldAutoResolve()&&(this.$p0=!1),this.get_interactionCentricLookupAutoResolve()&&(this.clearError(),this.$p5=this.$BK.$Hm),this.set_ShowLookupBar(!0))},shouldPerformSearch:function(){return this.get_shouldAutoResolve()&&this.$BK.$Hm===""&&$0.$0(this.get_$CP())?!1:$0.$0(this.$BK.$Hm)||$0.$0(this.get_$CP())?!0:this.$BK.$Hm!==this.get_$CP()},$3Ay:function(){this.$1BT=this.get_$CP()&&this.$1ez(this.get_$CP().trim())?this.get_$CP().trim():null},$1ez:function(n){if(!n||n==="")return!1;var t=new Microsoft.Crm.Client.Core.Models.Validation.EmailAddressValidator(!1,!0),i=t.$6W(n,!1,!1);return i.$57},$1BT:null};Microsoft.Crm.Client.Core.ViewModels.$D2=function(){this.$$d_$P2=Function.createDelegate(this,this.$P2);Microsoft.Crm.Client.Core.ViewModels.$D2.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$D2.prototype={$H2:null,$UA:null,$Fi:null,$RF:null,get_EntitiesMetadataViewModel:function(){return this.$H2},get_LookupViewActionProvider:function(){return this.$UA},set_LookupViewActionProvider:function(n){return this.$UA=n,n},get_BindingField:function(){return this.$Fi},set_BindingField:function(n){return this.$Fi=n,n},get_MetadataQueryDescriptor:function(){return this.$RF},set_MetadataQueryDescriptor:function(n){return this.$RF=n,n},$2IE:function(){return!0},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$2Z.call(this);this.$8c_9="multi"},$Oh:function(){$0.$0(this.$H2)||(this.$H2.RemovePropertyChangedListener("SelectedItem",this.$$d_$P2),this.$H2.dispose(),this.$H2=null);this.$RF=null;Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.$Oh.call(this)},$1im:function(n,t){$0.$0(n)||($0.$0(this.$H2)||this.setEntityModelName(n.$Br))&&Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1im.call(this,n,t)},$1hL:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$7G.prototype.$1hL.call(this,n,t);this.setEntityModelName(this.$B7)},$P2:function(){this.$16Q()},search:function(n){var t=Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("StartMarkerForLookupSearch",1,null);this.$H2.set_SelectedItem("0");Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.search.call(this,n);this.$BK.$Ao=this.$H2},$16Q:function(){var n=this.$H2.get_Data(),t,i;Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$2L.isInstanceOfType(n)&&(this.set_LookupModelName(n.$y),$0.$0(this.$Xt)?(i=this.$UA.$B1(0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(i)):n.$y===this.$Xt.$Br?this.$1nB(this.$Xt):(t=this.$UA.$B1(2),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)))},setEntityModelName:function(n){if(this.$H2){var t=this.$H2.$1ZO(n);if(t>=0)return this.$H2.$23S(t.toString()),!0}return!1},$CK:function(n,t){Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.$CK.call(this,n,t);Microsoft.Crm.Client.Core.ViewModels.$80.isInstanceOfType(t)&&(this.$H2=t,this.$H2.AddPropertyChangedListener("SelectedItem",this.$$d_$P2),$0.$0(this.$B7)||(this.$H2.$13c=this.$B7))},buildChildViewModelDescriptors:function(n){var t,i,r;this.$JI=null;this.$Pb=null;Microsoft.Crm.Client.Core.ViewModels.$D0.prototype.buildChildViewModelDescriptors.call(this,n);t={};$0.$0(n.Properties.EditTabIndex)||(t.EditTabIndex=n.Properties.EditTabIndex);i=$0.$0(this.$RF)?new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveTargetEntityMetadata",{entityLogicalName:this.$D,targetAttribute:this.$Fi}):this.$RF;r={combobox:Microsoft.Crm.Client.Core.Models.Descriptors.$n.$3Ee("EntityMetadataOptionSetViewModel","ComboBox","comboBoxControl",null,null,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ActionProviderPropertyDescriptor("MetadataActionProvider","ActionProvider",i)],t,null)};this.$jD(r)}};Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel=function(){this.$$d_$2kT=Function.createDelegate(this,this.$2kT);Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.prototype={$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.prototype.$2Z.call(this),this.$4l().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82,this.$$d_$2kT))},$2kT:function(){this.$7("RenderMultiplePie")},$Oh:function(){this.$4l().$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82,this.$$d_$2kT);Microsoft.Crm.Client.Core.ViewModels.$9M.prototype.$Oh.call(this)},$1UP:0,get_singlePieWidth:function(){return this.$1UP},set_singlePieWidth:function(n){return this.$1UP=n,n},$1U1:0,get_pieInnerSize:function(){return this.$1U1},set_pieInnerSize:function(n){return this.$1U1=n,n}};Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.prototype={$193:0,$ww:null,get_DashboardCategory:function(){return this.$20p().$Xf},get_StreamViewModels:function(){if(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("ViewSwitched",0,this.get_ViewModelId()),$0.$0(this.$ww)){this.$ww=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel));for(var n=0;!$0.$0(this.$H["QueuePanelViewModel"+n]);)this.$ww.add(this.$H["QueuePanelViewModel"+n]),n++}return this.$ww.toArray()},get_ViewType:function(){return this.$193},set_ViewType:function(n){return this.$193=n,this.$7("DataChanged"),n},set_ShowAsTiles:function(n){return this.$193=n?1:0,this.$7("DataChanged"),n},get_SwitcherPanelViewModel:function(){return this.$H.ButtonStrip},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$7("DataChanged"))},$Rr:function(){for(var i,t=this.get_StreamViewModels(),r=t.length,n=0;n<r;++n)i=t[n],i.$Rr()},$20p:function(){return this.$2},$Oh:function(){var i;if(this.get_StreamViewModels()){for(var t=this.get_StreamViewModels(),r=t.length,n=0;n<r;++n)i=t[n],i.dispose();this.$ww=null}Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.prototype={$MI:!1,$9G:null,get_parentViewModel:function(){return this.$9G},set_parentViewModel:function(n){return this.$9G=n,n},get_PreviousSelectionCount:function(){return this.$9G.$1id},get_DashboardCategory:function(){return this.$9G.get_DashboardCategory()},get_ItemSelectionCounter:function(){return this.$9G.$1Hj()},set_ItemSelectionCounter:function(n){return this.$9G.$2Ev(n),n},get_IsSelected:function(){return this.$MI},set_IsSelected:function(n){var t=this.$9G.$1Hj()>0?this.$9G.$1Hj():0;return this.$9G.$1id=t,n?(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("QuickActionCheckboxSelected",0,this.get_ViewModelId()),t++):t--,t>-1&&this.$9G.$2Ev(t),this.$MI=n,this.$7("QueueItemStatusChanged"),n},get_IsCtrlPressed:function(){return Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1e4},set_IsCtrlPressed:function(n){return Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1e4=n,n},$W1:null,get_ParentQueuePanelViewModel:function(){return this.$W1},set_ParentQueuePanelViewModel:function(n){return this.$W1=n,n},$yT:null,get_ID:function(){return this.$yT},set_ID:function(n){return this.$yT=n,n},$NN:null,get_ColorStrip:function(){return this.$NN},set_ColorStrip:function(n){return this.$NN=n,n},$xw:null,get_ColorStripDisplayName:function(){return this.$xw},set_ColorStripDisplayName:function(n){return this.$xw=n,n},$xv:null,get_ColorStripAttributeValue:function(){return this.$xv},set_ColorStripAttributeValue:function(n){return this.$xv=n,n},$1A9:null,get_HeaderItems:function(){return this.$1A9},set_HeaderItems:function(n){return this.$1A9=n,n},$oW:null,get_DetailItems:function(){return this.$oW},set_DetailItems:function(n){return this.$oW=n,n},$1A0:null,get_FooterItems:function(){return this.$1A0},set_FooterItems:function(n){return this.$1A0=n,n},$xl:null,get_ActivityItemNames:function(){return this.$xl},set_ActivityItemNames:function(n){return this.$xl=n,n},$9F:null,get_EntityLogicalName:function(){return this.$9F},set_EntityLogicalName:function(n){return this.$9F=n,n},$1TD:0,get_HtmlDetailIndex:function(){return this.$1TD},set_HtmlDetailIndex:function(n){return this.$1TD=n,n},$zO:0,get_TitleIndex:function(){return this.$zO},set_TitleIndex:function(n){return this.$zO=n,n},GetQueueItemGuid:function(){return this.$yT},get_ColorTooltip:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$xw)||Microsoft.Crm.Client.Core.Framework.$3.$9(this.$xv)?"":this.$xw+" : "+this.$xv},$2tu:function(){return},screenReaderTextForQueueItem:function(n){var t=this.$9F==="incident"?"case":this.$9F;return n?String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueueItemsCondensedView_ScreenReader_ItemInfo"),t,this.$oW[this.$zO]):String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueueItems_ScreenReader_ItemInfo"),t,this.$oW[this.$zO])},screenReaderTextWithSelectionCount:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueueItems_ScreenReader_NRecordSelection"),this.$9G.$1Hj())},isEntityInteractionCentricEnabled:function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(n);return $0.$0(t)?!1:t.$BW},navigateToRecord:function(){var t=this.$9F,i=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(this.$4Z)),u,r,f,n;this.$9F==="activitypointer"?(t=this.$xl[0],i=new Xrm.Objects.EntityReference(t,new Microsoft.Crm.Client.Core.Framework.Guid(this.$4Z))):this.$9F==="queueitem"&&(u=this,r=u.get_ModelContext().GetValue("objectid"),Microsoft.Crm.Client.Core.Framework.$36.isInstanceOfType(r)&&(i=r,t=i.LogicalName));this.$W1.$L6=this;f=new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricListNavigationContext(this.$W1.$1f,this.$W1.get_CurrentItemIndex(),this.$W1.$Gh.get_$R(1),this.$W1,!0);n=new Microsoft.Crm.Client.Core.Commands.$2R(null,40);try{n.$D=t;n.$x={ListNavigationContext:f};n.$x.EntityReference=i;n.execute()}finally{n.dispose()}},$Oh:function(){this.$9G=null;this.$yT=null;this.$NN=null;this.$1A9=null;this.$1A0=null;this.$oW=null;this.$xl=null;this.$W1=null;Microsoft.Crm.Client.Core.ViewModels.$3R.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel=function(){this.$$d_$2iS=Function.createDelegate(this,this.$2iS);this.$$d_getQueueItemViewSuccess=Function.createDelegate(this,this.getQueueItemViewSuccess);this.$$d_$2g1=Function.createDelegate(this,this.$2g1);this.$$d_$2ul=Function.createDelegate(this,this.$2ul);this.$$d_$1hZ=Function.createDelegate(this,this.$1hZ);this.$$d_$2iT=Function.createDelegate(this,this.$2iT);this.$$d_$2jS=Function.createDelegate(this,this.$2jS);this.$$d_$4L=Function.createDelegate(this,this.$4L);this.$$d_$2jR=Function.createDelegate(this,this.$2jR);this.$$d_handleStreamError=Function.createDelegate(this,this.handleStreamError);this.$$d_processFetchXml=Function.createDelegate(this,this.processFetchXml);this.$$d_$22Q=Function.createDelegate(this,this.$22Q);this.$1l={};this.$wi=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$Mo={};this.$Gh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$wj={};this.$187={};this.$1Vx={};this.$wh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$vW=new Array(0);this.$rM=new Array(0);Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.prototype={$4e:null,$Kq:null,$g6:!1,$ZS:!1,$1ec:!1,$3q:null,$tL:!0,$1JQ:!1,$Rz:null,$JU:null,$Xa:null,$P:null,$QZ:null,$Wc:null,$1Cw:null,$Ns:null,$Gn:null,$Wz:null,$QI:null,$1XS:null,$Ss:null,$1fU:null,$Mn:0,$1kq:0,$1id:0,$rX:null,$3z:null,$vU:null,$KA:!1,$1JY:!1,$F8:"Initialize",get_AttributeMetadataActionProvider:function(){return this.$Wc},set_AttributeMetadataActionProvider:function(n){return this.$Wc=n,n},get_SelectedSortBy:function(){return this.$wj[this.$Rz]},set_SelectedSortBy:function(n){return this.$Rz===this.$187[n]?n:(this.$Rz=this.$187[n],this.$7("IsLoading"),n)},$NY:!1,get_LoadTriggeredByPagingEvent:function(){return this.$NY},set_LoadTriggeredByPagingEvent:function(n){return this.$NY=n,n},$iq:null,get_QueueItemIdArray:function(){return this.$iq},set_QueueItemIdArray:function(n){return this.$iq=n,n},$p2:!1,get_ItemLimitExceeded:function(){return this.$p2},set_ItemLimitExceeded:function(n){return this.$p2=n,n},$DU:null,get_TypeOfStream:function(){return this.$DU},set_TypeOfStream:function(n){return this.$DU=n,n},$I9:null,get_StreamId:function(){return this.$I9},set_StreamId:function(n){return this.$I9=n,n},$Gf:null,get_StreamName:function(){return this.$Gf},set_StreamName:function(n){return this.$Gf=n,n},$8s:null,get_EntityTypeCode:function(){return this.$8s},set_EntityTypeCode:function(n){return this.$8s=n,n},get_CurrentSavedQueryId:function(){return this.$Xa},set_CurrentSavedQueryId:function(n){return this.$Xa=n,n},get_EntityLogicalName:function(){return this.$P},set_EntityLogicalName:function(n){return this.$P=n,this.$DQ.set_Entity(this.$P),n},get_IsEditMode:function(){return this.$1JQ},set_IsEditMode:function(n){return this.$1JQ!==n&&(this.$1JQ=n,this.$7("IsEditMode")),n},get_QueueItemCount:function(){return this.$Mn},get_ActionProvider:function(){return this.$JU},set_ActionProvider:function(n){return this.$JU=n,n},get_SortableAttributes:function(){return this.$wh},$1Ai:null,get_NumberOfMembers:function(){return this.$1Ai},set_NumberOfMembers:function(n){return this.$1Ai=n,n},get_QueueItemViewModels:function(){return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("QueueContentAsked",0,this.get_ViewModelId()),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("QueueShown",0,this.get_ViewModelId()),this.$Mo},set_QueueItemViewModels:function(n){return this.$Mo=n,n},get_ParentViewModel:function(){return this.$2.$5Q(this)},get_IsSortedInDescending:function(){return this.$tL},set_IsSortedInDescending:function(n){return this.$tL!==n&&(this.$tL=n,this.$DQ.$1DI(),this.$7("IsLoading")),n},get_DashboardCategory:function(){return this.$6Z().$Xf},get_AllCardAttributes:function(){return this.$Gh},set_AllCardAttributes:function(n){return this.$Gh=n,n},get_EntityPluralName:function(){return this.$3z.$Ag},$DQ:null,get_quickActionViewModel:function(){return this.$DQ},set_quickActionViewModel:function(n){return this.$DQ=n,n},get_MoreNextPage:function(){return this.$1Z.$9S<this.$1Z.$G8},$pZ:!1,get_UserPrivilege:function(){return this.$pZ},set_UserPrivilege:function(n){return this.$pZ=n,n},$iW:!1,get_IsCardFormDefined:function(){return this.$iW},set_IsCardFormDefined:function(n){return this.$iW=n,n},$I8:null,get_QueueItemViewId:function(){return this.$I8},set_QueueItemViewId:function(n){return this.$I8=n,n},$yj:null,get_MultiSelectInfo:function(){return this.$yj},set_MultiSelectInfo:function(n){return this.$yj=n,n},$1AJ:!1,get_IsErrorOccured:function(){return this.$1AJ},set_IsErrorOccured:function(n){return this.$1AJ=n,n},$2Z:function(){if(!this.$1a){this.$vU=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("QueuePanel_QueueDataRetrieve");Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this);this.$iW=!0;this.$6Z().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,this.$$d_$22Q);this.$iq=new Array(0);this.$1f.$86();this.$Kq=new Microsoft.Crm.Client.Core.ViewModels.$HL;this.$Kq.$195();this.$2jQ();this.$Wc=new Microsoft.Crm.Client.Core.ViewModels.$I(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("AttributeMetadata",null));this.$NY=!1;this.$1Z.$4W=20;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QuickActionViewModel","QuickActionQueueContainer","QuickActionQueueContainer"+this.$I9,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TargetViewModelContext",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Entity",this.$P),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("Context","grid")],null,null);this.$DQ=Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(n,this.get_ModelContext(),this.$2i,this.$2);this.$pZ=!0;this.$yj=new Microsoft.Crm.Client.Core.ViewModels.MultiSelectInfo}},$1Hl:function(){if($0.$0(this.$Rz))return"";return"<order attribute='"+this.$Rz+"' descending='"+this.$tL+"' />"},$2Av:function(){this.$Kq.$2FW();this.$Kq.get_$1f7()||(this.$Kq.$195(),this.$2jT())},$2jT:function(){var t,n;this.$F8="QueuePanelViewModel.GetStreamsData";this.$NY||(this.$1Z.$9S=0);this.$DU==="0"||this.$DU==="2"?(this.$3z=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$If(Number.parseInvariant(this.$8s)),$0.$0(this.$3z)?(t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qy("QueuePanelViewModel.GetStreamsData","Entity metadata cannot be null","",this.$P),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t),Microsoft.Crm.Client.Core.Framework.Utils.$A.$4E(this.$3z,"EntityMetadata")):(this.set_EntityLogicalName(this.$3z.$y),this.$pZ=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$P,1),this.$QZ=this.$3z.$4Y,this.$20O())):(this.$Xa=this.$I9,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null),n.OnSuccess=this.$$d_processFetchXml,n.OnFailure=this.$$d_handleStreamError,this.set_IsLoading(!0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n))},handleStreamError:function(){this.$15X()},$15X:function(){this.$1AJ=!0;this.set_IsLoading(!1)},processFetchXml:function(n){var t,i;this.$F8="QueuePanelViewModel.ProcessFetchXml";t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n.toString());this.$rX=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(t).$N("fetch");this.set_EntityLogicalName(this.$rX.$N("entity").$10("name").toString());this.$3z=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$P);$0.$0(this.$3z)?(this.set_IsLoading(!1),i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qy("QueuePanelViewModel.ProcessFetchXml","Entity metadata cannot be null","",this.$P),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i),Microsoft.Crm.Client.Core.Framework.Utils.$A.$4E(this.$3z,"EntityMetadata")):(this.$QZ=this.$3z.$4Y,this.$pZ=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$54().$6Q(this.$P,1));this.$20O()},$2jQ:function(){this.$F8="QueuePanelViewModel.GetStreamAttributes";var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);n.OnSuccess=this.$$d_$2jR;n.OnFailure=this.$$d_$4L;this.$DU==="0"?(this.$Kq.$195(),n.QueryValue="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t  <entity name='queue'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='name' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='numberofmembers'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<attribute name='queueviewtype'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$I9+"' /><\/filter>\r\n\t\t\t\t\t\t\t\t\t\t\t  <\/entity>\r\n\t\t\t\t\t\t\t\t\t\t\t<\/fetch>",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)):this.$DU==="1"?(this.$Xa=this.$I9,n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSavedQueryDetailsFromSavedQueryId",null),n.OnSuccess=this.$$d_$2jS,this.set_IsLoading(!0),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)):this.$DU==="2"&&(this.$Kq.$195(),this.$I9.toLowerCase()==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?this.$Gf=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_All"):this.$I9.toLowerCase()==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?this.$Gf=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_Public"):this.$I9.toLowerCase()==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()&&(this.$Gf=Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Workplace_Queue_Selector_Private")),this.$21d())},$21d:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveSavedQueryDetailsFromSavedQueryId",null);this.$Xa=this.$I8;n.OnSuccess=this.$$d_$2iT;n.OnFailure=this.$$d_handleStreamError;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$2jR:function(n){var t=n.get_$9o().$1mk(),i;if($0.$0(t)||!t.length){this.$15X();return}this.$Gf=t[0].GetValue("name");this.$1Ai=t[0].GetValue("numberofmembers");i=t[0].GetValue("queueviewtype");this.$1ec=i.$1s===1?!0:!1;this.$21d()},$2jS:function(n){var t=n;this.$Gf=t.$1q},$2iT:function(n){var t=n;this.$Gf=String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ICDashboard_Streams_label"),this.$Gf,t.$1q);this.$2Av()},$2h2:function(n,t){var i="",r="",u;return i+="<link-entity ",n.$10("name")&&(r=n.$10("name"),i+=" name='"+r+"' ",t.add(r)),n.$10("from")&&(i+=" from='"+n.$10("from")+"' "),n.$10("to")&&(i+=" to='"+n.$10("to")+"' "),n.$10("visible")&&(i+=" visible='"+n.$10("visible")+"' "),n.$10("link-type")&&(i+=" link-type='"+n.$10("link-type")+"' "),u=this.$20h(r),$0.$0(u)||Microsoft.Crm.Client.Core.Framework.$3.$9(u.$9V())||(i+=" alias='"+r+"__alias' "),i+=">",i+=Microsoft.Crm.Client.Core.Framework.Utils.$5i.$1HX(n),i+" <\/link-entity>"},$2RY:function(n){var p=n.$N("entity"),st="",ht="",ct="",lt="",i='<filter type ="and">',r="<\/filter>",at=p.$N("filter")?p.$N("filter").get_$6m().toString():"",o,b,k,d,t,g,nt,tt,f,c,it,yt,rt,e,l,ut,a,v,y,ft,et,pt,ot;n.$10("version")&&(st=" version='"+n.$10("version")+"' ");n.$10("output-format")&&(ht=" output-format='"+n.$10("output-format")+"' ");n.$10("mapping")&&(ct=" mapping='"+n.$10("mapping")+"' ");n.$10("distinct")&&(lt=" distinct='"+n.$10("distinct")+"' ");var u=n.$N("entity").$10("name"),w=p.$62("link-entity"),s="",h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));for(o=0;o<w.get_$s();o++)s+=this.$6Z().get_IsMultipleEntityGraphSupported()?this.$2h2(w.get_$R(o),h):w.get_$R(o).get_$6m();if(u===this.$6Z().$6q){b=this.$6Z().$dI;for(k in b)d={key:k,value:b[k]},h.contains(d.key)||(s+=d.value)}if(u==="queueitem"&&(s+=this.$1Vi("5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase())),t=at,this.$6Z().get_IsMultipleEntityGraphSupported()){if(u===this.$6Z().$6q){if(g=this.$6Z().$Cl,!$0.$0(g)){nt=g;for(tt in nt){var wt={key:tt,value:nt[tt]},bt=wt.value,vt=bt.$9V();Microsoft.Crm.Client.Core.Framework.$3.$9(vt)||(t+=i+vt+r)}t=i+t+r}}else if(f=this.$6Z().$Cl,!$0.$0(f)){for(c=0;c<h.get_Count();c++)it=h.get_$R(c),it in f&&(yt=f[it],rt=yt.$9V(),Microsoft.Crm.Client.Core.Framework.$3.$9(rt)||(t+=i+rt+r));if(u in f){if(e=f[u],$0.$0(e.get_$1m())){for(ut=e.get_$5N(),a=0;a<ut.get_Count();a++)if(v=ut.get_$R(a),!$0.$0(v.get_$1m()))for(y=0;y<v.get_$1m().get_Count();y++)v.get_$1m().get_$R(y).set_$9L("")}else for(l=0;l<e.get_$1m().get_Count();l++)e.get_$1m().get_$R(l).set_$9L("");ft=e.$9V();Microsoft.Crm.Client.Core.Framework.$3.$9(ft)||(t+=i+ft+r)}et=this.$6Z().$FW;this.$6Z().$6q in et&&this.$1JY&&(pt=et[this.$6Z().$6q],ot=pt.$9V(),Microsoft.Crm.Client.Core.Framework.$3.$9(ot)||(t+=i+ot+r));t=i+t+r}}else t=i+at+this.$HG()+r;return"<fetch"+st+ht+ct+lt+"><entity name='"+u+"'>"+this.$Ss+s+this.$1Hl()+t+"<\/entity><\/fetch>"},$22Q:function(n){if(!$0.$0(n.$Dy)){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$Dy)?"":n.$Dy.$9V(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)}this.$DQ.$1DI();this.$2Av()},$Rr:function(){this.$DQ.$1DI();this.$NY=!1;this.retrieveData()},$2ul:function(n,t){var i;if(t.get_$17E()!==1){i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qy("QueuePanelViewModel.OnQueueRecordsChanged",String.format("OnQueueRecordsChanged has failed in QueuePanelViewModel, EventArgs.RetrieveState not Successful.EventArgs.RetrieveState is { 0 }",Microsoft.Crm.Client.Core.Storage.DataApi.$20.toString(t.get_$17E())),"",this.$P);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i);throw Error.create(String.format("OnQueueRecordsChanged has failed in QueuePanelViewModel, EventArgs.RetrieveState not Successful. EventArgs.RetrieveState is {0}",Microsoft.Crm.Client.Core.Storage.DataApi.$20.toString(t.get_$17E())));}this.$kB();var r=Microsoft.Crm.Client.Core.Models.$1j.$X(t.get_$Xg()),u=this.get_ParentViewModel();this.$L==="QueuePanelViewModel0"&&u.$L.endsWith("0")&&Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("RenderedFirstQueueWithData",1,this.$2.get_ViewModelId());this.$3d(r);this.$7("IsLoading")},$WZ:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(this.$2O,this.get_DefinitionId());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$1Bn(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,n.get_$8a(),this.$$d_$1hZ,this.$$d_$2ul)},$kB:function(){var n=new Microsoft.Crm.Client.Core.Storage.DataApi.$7E(this.$2O,this.get_DefinitionId());Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$5F().$1OF(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection,n.get_$8a(),this.$$d_$1hZ,this.$$d_$2ul)},$1hZ:function(){},$2Si:function(n,t,i,r,u,f,e,o,s,h,c){var l=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ViewModelDescriptor("QueueItemViewModel","QueueItem",n,[new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ID",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("RecordId",n),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStrip",t),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStripDisplayName",i),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ColorStripAttributeValue",r),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HeaderItems",u),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("DetailItems",f),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("FooterItems",e),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("EntityLogicalName",s),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ParentQueuePanelViewModel",this),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("ActivityItemNames",o),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("HtmlDetailIndex",h),new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.ValuePropertyDescriptor("TitleIndex",c)],null,null);return Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$6f(l,this.get_ModelContext(),this.$2i,this.$2)},$oU:null,get_DefinitionId:function(){return this.$oU},set_DefinitionId:function(n){return this.$oU=n,n},getTotalRecordsCount:function(){return this.$Mn},$1HJ:function(){var n,t;this.$F8="QueuePanelViewModel.GetData";n=0;$0.$0(this.$JU)||$0.$0(this.$1V)?this.set_IsLoading(!1):((this.$DU==="2"||this.$DU==="0")&&(n=this.$1Z.$9S,this.$1Z.$9S=0),this.set_DefinitionId(this.$1V.toString()),this.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(this.$1V),this.set_IsLoading(!0),this.$WZ(),t=this.$JU.$56(),Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t),(this.$DU==="2"||this.$DU==="0")&&(this.$1Z.$9S=n),this.$vU.start())},$3d:function(n){var l,nt,h,u,p,e,w,b,o,k,s,d,i,g,f;this.$vU.stop();this.$vU.addParameter(this.get_ViewModelId());Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(this.$KA?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId());this.$KA||(this.$FH("RenderedInitialData"),this.$KA=!0);this.$DU==="1"&&(l=n,this.$Mn=l.get_EntityCollection().$DJ,this.$p2=l.get_EntityCollection().$VT,this.$1Z.$G8=Math.floor(this.$Mn/this.$1Z.$4W));nt=n.get_$9o().$1mk();this.$NY||(this.$iq=new Array(0),this.$2AL(),this.$Mo={},this.$1f.$86());for(var tt=nt,ft=tt.length,a=0;a<ft;++a){var t=tt[a],r=t.GetValue(this.$QZ),it="#3F94E9",v="",y="";for(this.$QI&&(y=this.$l1(this.$QI,t.GetValue(this.$QI)),it=this.$2WM(y)),h=new Array(0),u=0;u<this.$Ns.length;u++)if(p=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$P,this.$Ns[u]),$0.$0(p)||p.$26!==10)h.push(this.$l1(this.$Ns[u],t.GetValue(this.$Ns[u])));else if(!$0.$0(t)&&(e=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.EntityCollection.createFromObjectData(t.$20e(this.$Ns[u])),!$0.$0(e)&&!$0.$0(e.get_entities()))){for(w=e.get_entities().length,b="",o=0;o<w;o++)k=e.get_entities()[o],k.$a.LogicalName==="activityparty"&&(s=k.fields.partyid,$0.$0(s)||$0.$0(s.Name)||(b+=o===w-1?s.Name:s.Name+" ;"));h.push(b)}d=new Array(0);this.$3z.$9p===4200?(d.push(t.get_$Fe()),v=t.get_$Fe()):v=this.$P;var c=new Array(0),rt=-1,ut=-1;for(i=0;i<this.$Gn.length;i++)this.$Gn[i]==="description"&&this.$P==="email"&&t.GetValue(this.$Gn[i])?(c.push(t.GetValue(this.$Gn[i]).toString()),rt=c.length-1):this.$l1(this.$Gn[i],t.GetValue(this.$Gn[i]))&&(this.$Gn[i]==="title"&&(ut=i),c.push(this.$l1(this.$Gn[i],t.GetValue(this.$Gn[i]))));for(g=new Array(0),f=0;f<this.$Wz.length;f++)this.$l1(this.$Wz[f],t.GetValue(this.$Wz[f]))&&g.push(this.$l1(this.$Gn[f],t.GetValue(this.$Wz[f])));r.toString()in this.$Mo||(this.$Mo[r.toString()]=this.$2Si(r.toString(),it,this.$1XS,y,h,c,g,d,v,rt,ut),this.$iq.push(r.toString()),this.$Mo[r.toString()].set_ModelContext(t),this.$1f.$3w(this.$Mo[r.toString()]),this.$Mo[r.toString()].$9G=this,this.$Mo[r.toString()].set_IsSelected(!1))}this.$g6?!$0.$0(this.$4e)&&this.$ZS&&(this.$4e.$2Hv(),this.$g6=!1,this.$ZS=!1):this.$g6=this.$ZS?!0:!1;this.set_IsLoading(!1);n.dispose()},$4L:function(n){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Pe("ServiceHubStreamsLoadDataFailureEvent");t.$h("LocalContext",this.$F8);t.$h("ErrorMessage",n.$F);t.$h("Exception",n.$yF.message);t.$h("StreamName",this.$Gf);t.$h("StreamId",this.$I9);t.$h("TypeOfStream",this.$DU);t.$h("Query",this.$1V);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t);Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$4L.call(this,n)},$Kl:function(){this.$F8="QueuePanelViewModel.RetrieveAtrributeMetadata";var n=this,t=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$5e(new Microsoft.Crm.Client.Core.Storage.DataApi.$5D(this.$P),Microsoft.Crm.Client.Core.Framework.$q.$4t(this.$I9,this.$Gf)).then(function(t){var e,r,i,u;n.$wi.clear();n.$wh.clear();e=t.$1mk();r=new Array(0);for(var o=e,s=o.length,f=0;f<s;++f)i=o[f],u=!0,Array.indexOf(n.$Ns,i.get_$2I())>=0&&r.push(i),i.get_$2I()===n.$QI&&(n.$1XS=i.get_$8z(),r.push(i)),i.get_$gF()&&(u=Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.$q9(i.get_$2m())),i.get_$24q()&&u&&n.$2Jg(i),i.get_$2I()==="modifiedon"&&n.$2LG("modifiedon",i.get_$8z(),0),i.get_$2I()===n.$6Z().$I3&&(n.$1JY=!0),u||(n.$1Vx[i.get_$2I()]=i);Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$Wp(n.$P,!1,new(Microsoft.Crm.Client.Core.Framework.$Z.$$(Microsoft.Crm.Client.Core.Storage.Common.$2o))(r));$0.$0(n.$Rz)&&(n.$Rz=n.$wi.get_$R(0));n.$NY=!1;n.retrieveData()},function(n){t.set_IsLoading(!1);var i=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qy("QueuePanelViewModel.RetrieveAtrributeMetadata",n.$F,"",t.$P);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(i);Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Multiple Attribute Metadata failed in Queue Panel View Model with error : {0}",n.$F)})},retrieveData:function(){if(this.$NY||(this.$1Z.$9S=0),this.$DU==="1"){if(!this.$rX){this.$15X();return}var n=this.$2RY(this.$rX);this.$1V=n;this.$1HJ()}else this.$DU==="2"?this.$I8!=="0"?this.$21c():this.$2eX():this.$I8!=="0"?this.$21c():(this.$1V="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\t \r\n\t\t\t\t\t\t\t\t<entity name='"+this.$P+"'>"+this.$Ss+this.$1Hl()+"<link-entity name='queueitem' from='objectid' to='"+this.$QZ+"'>\r\n\t\t\t\t\t\t\t\t\t<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$I9+"' />\r\n\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t<\/link-entity>"+this.$HG()+"<\/entity><\/fetch>",this.$1HJ())},handleQueueItemSelectedEvent:function(n,t,i){this.$DQ.handleQueueItemSelection(n,t,i);this.$7("QuickActionCommandBarEnabled")},$6Z:function(){return this.$2},get_TabSpaceReserved:function(){return 50},$20O:function(){if(this.$F8="QueuePanelViewModel.GetEntityCardAttributes",this.$3z.$9p===4200)this.createCardInstanceForActivity(),this.set_IsLoading(!1);else{var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCardConfigurationAction",null);n.OnSuccess=this.$$d_$2g1;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)}},createCardInstanceForActivity:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel,t,i,r;this.$1Cw=n.$SN;t=new Array(3);t[0]="activitytypecode";t[1]="prioritycode";t[2]="scheduledend";n.$cs=t;i=new Array(3);i[0]="subject";i[1]="description";i[2]="regardingobjectid";n.$cq=i;r=new Array(2);r[0]="ownerid";r[1]="createdon";n.$cr=r;n.$NN="statuscode";this.$Ns=n.$cs;this.$Gn=n.$cq;this.$Wz=n.$cr;this.$QI=n.$NN;this.$Gh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$Ss="<attribute name='"+this.$QZ+"' />";this.$jC(this.$Gh,this.$Ns);this.$jC(this.$Gh,this.$Gn);this.$jC(this.$Gh,this.$Wz);this.$DU==="1"&&this.$1zt(this.$Gh,this.$P,this.$QI);this.$iW=!0;n.dispose()},$1zt:function(n,t,i){this.$1oy(n,i);$0.$0(i)||(this.$Ss+="<attribute name='"+i+"' />");this.$Kl(n,t)},$jC:function(n,t){for(var i=0;i<t.length;i++)this.$1oy(n,t[i]),$0.$0(t[i])||(this.$Ss+="<attribute name='"+t[i]+"' />")},$2g1:function(n){if($0.$0(n))this.$iW=!1,this.$3z.$9p===4200&&this.createCardInstanceForActivity(),this.set_IsLoading(!1);else{this.$iW=!0;var t=n;this.$1Cw=t.$SN;this.$Ns=t.$cs;this.$Gn=t.$cq;this.$Wz=t.$cr;this.$QI=t.$NN;this.$Gh=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.$Ss="<attribute name='"+this.$QZ+"' />";this.$jC(this.$Gh,this.$Ns);this.$jC(this.$Gh,this.$Gn);this.$jC(this.$Gh,this.$Wz);this.$P==="queueitem"&&this.$jC(this.$Gh,["objectid"]);this.$1zt(this.$Gh,this.$P,this.$QI);t.dispose()}},$HG:function(){var n=this.$6Z(),t=null;return n.$6q===this.$P?t=n.get_IsMultipleEntityGraphSupported()?n.$Cl[n.$6q]:n.$L8:this.$1JY&&(t=n.get_IsMultipleEntityGraphSupported()?n.$FW[n.$6q]:n.$NQ),$0.$0(t)?"":t.$9V()},$20h:function(n){if(n in this.$6Z().$Cl){var t=this.$6Z().$Cl[n];if(!$0.$0(t))return t}return null},$1oy:function(n,t){Microsoft.Crm.Client.Core.Framework.$3.$9(t)||n.contains(t)||n.add(t)},$l1:function(n,t){if(n in this.$1Vx)return"*****";if($0.$0(t))return"";if(Xrm.Objects.EntityReference.isInstanceOfType(t))return t.Name;if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(t))return t.$1G;if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$5j.isInstanceOfType(t))return this.$l1(n,t.$G3);var i="",r,u;return u=Microsoft.Crm.Client.Core.Framework.Utils.$62.$2Q7(t.toString(),r={val:i}),i=r.val,u,i},$2WM:function(n){var f,t,o,i,r,e,u;if($0.$0(n))return"#3F94E9";try{if(f=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$2q(this.$P,this.$QI),t=f.$6S,$0.$0(t))return"#3F94E9";o=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x));i=t.$P5;for(r in i)if(e={key:r,value:i[r]},u=e.value,u.$1G===n)return u.$Gq}catch(s){}return"#3F94E9"},loadMoreData:function(){this.$1Z.$9S++;this.$NY=!0;this.retrieveData()},$1i3:function(n,t){this.$4e=n;this.$ZS=!0;t?this.loadMoreData():(this.$1Z.$9S--,this.$NY=!0,this.retrieveData())},$2Jg:function(n){var i=n.get_$2I(),t=n.get_$8z();Microsoft.Crm.Client.Core.Framework.$3.$9(t)&&(t=i);this.$2LG(i,t)},$2LG:function(n,t,i){$0.$0(i)?(this.$wi.add(n),this.$wh.add(t)):(this.$wi.insert(i,n),this.$wh.insert(i,t));this.$wj[n]=t;this.$187[t]=n},editModeApplySettings:function(){this.$DQ.$1DI();this.$NY=!1;this.retrieveData()},$2eX:function(){var t={},n,i,r;t.userId=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString();t.includePublic=!0;n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveUserQueues",t);i=this;n.OnSuccess=function(n){i.$2eY(n)};r=this;n.OnFailure=function(n){r.$4L(n)};Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",null,n)},$2eY:function(n){var r,u,e,i;this.$vW=new Array(0);r=n.entityCollection;u=r.get_entities();for(var f=u,o=f.length,t=0;t<o;++t)e=f[t],i=e.$a.Id.toString(),$0.$0(i)||this.$vW.push(i);this.$1V="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\t \r\n\t\t\t\t\t\t\t\t<entity name='"+this.$P+"'>"+this.$Ss+this.$1Hl()+"<link-entity name='queueitem' from='objectid' to='"+this.$QZ+"'>\r\n\t\t\t\t\t\t\t\t\t<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t\t<filter type='or'>"+this.$2hT()+"<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>\r\n\t\t\t\t\t\t\t\t<\/link-entity>"+this.$HG()+"<\/entity><\/fetch>";this.$1HJ()},$2hT:function(){for(var t="<filter type='or'><condition attribute='queueid' operator='in'>",i=!1,n=0;n<this.$vW.length;n++)$0.$0(this.$vW[n])||(t+="<value>{"+this.$vW[n]+"}<\/value>",i=!0);return t+="<\/condition><\/filter>",i?t:""},isQuickActionBarEnabled:function(){return this.$DQ.$Ei.get_Count()>0?!0:!1},$21W:function(){var n="";return this.$3z&&(n=this.$Mn===1?this.$3z.$1q:this.get_EntityPluralName()),n},screenReaderTextForTilesContainer:function(n,t){var i=this.$3z?this.get_EntityPluralName():null;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TilesContainer_ScreenReader_Label"),t,"tiles",i,this.$6Z().$I3,n)},screenReaderTextForTileHeader:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TileHeader_ScreenReader_Label"),this.$Gf,"queue",this.$Mn,this.$21W())},screenReaderTextForTilePopup:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("TilePopup_ScreenReader_Label"),this.$Gf,"queue",this.$Mn,this.$21W(),this.$Rz)},$21c:function(){this.$Xa=this.$I8;var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveFetchXmlFromSavedQueryId",null);n.OnSuccess=this.$$d_getQueueItemViewSuccess;n.OnFailure=this.$$d_handleStreamError;this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},getQueueItemViewSuccess:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$4g(n.toString()),i=Microsoft.Crm.Client.Core.Storage.Common.Xml.$K.$X(t).$N("fetch");this.$2Vw(i)},$1Vi:function(n){return n==="436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='inner'>\r\n\t\t\t\t\t\t\t\t\t\t<attribute name='systemuserid' />\r\n\t\t\t\t\t\t\t\t\t\t<filter>\r\n\t\t\t\t\t\t\t\t\t\t\t<condition attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString()+"' />\r\n\t\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t\t<\/link-entity>":n==="e611d950-6bab-477c-a5a3-7e9a447b326d".toLowerCase()?"<link-entity name='queue' from='queueid' to='queueid'>\r\n\t\t\t\t\t\t\t\t\t<filter type='and'>\r\n\t\t\t\t\t\t\t\t\t\t<condition attribute='queueviewtype' operator='eq' value='0'/>\r\n\t\t\t\t\t\t\t\t\t<\/filter>\r\n\t\t\t\t\t\t\t\t<\/link-entity>":n==="5850FC36-8596-45fe-B607-FE81D0C453FD".toLowerCase()?"<link-entity name='queuemembership' from='queueid' to='queueid' alias='qm' link-type='outer'> <attribute name='systemuserid'/> <\/link-entity> <link-entity name='queue' from='queueid' to='queueid' alias='qq' link-type='outer'> <attribute name='queueviewtype'/> <\/link-entity> <filter operator='and'> <filter type ='or'> <condition entityname='qq' attribute='queueviewtype' operator='eq' value='0' /> <condition entityname='qm' attribute='systemuserid' operator='eq' value='"+Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$4Q.toString()+"' /> <\/filter> <\/filter>":""},$2Vw:function(n){var i=null,r=n.$N("entity"),a=r.$N("filter"),s="",h="",c="",l="",u=r.$N("filter")?Microsoft.Crm.Client.Core.Framework.Utils.$5i.$1HX(a):"",e,o,t;this.$DU==="0"?u+="<condition attribute='objecttypecode' operator='eq' value='"+this.$8s+"' />\r\n\t\t\t\t\t\t\t\t<condition attribute='queueid' operator='eq' value='"+this.$I9+"' />":this.$DU==="2"&&(u+="<filter type='and'><condition attribute='objecttypecode' operator='eq' value='"+this.$8s+"' /><\/filter>");var v="<filter type='and'>"+u+"<\/filter>",y=r.$N("link-entity"),f=this.$2Pq(y);this.$1ec&&(f+=this.$1Vi("436e2293-da8f-4ef9-a1e6-fff25a5beb22".toLowerCase()));this.$DU==="2"&&(f+=this.$1Vi(this.$I9.toLowerCase()));e="";this.$6Z().get_IsMultipleEntityGraphSupported()&&(o=this.$20h(this.$1fU),o&&(e="<filter type='and'>"+o.$9V()+"<\/filter>"));n.$10("version")&&(s=" version='"+n.$10("version")+"' ");n.$10("output-format")&&(h=" output-format='"+n.$10("output-format")+"' ");n.$10("mapping")&&(c=" mapping='"+n.$10("mapping")+"' ");l=" distinct='true' ";i="<fetch"+s+h+c+l+"><entity name='queueitem'><attribute name='objectid' />"+v+f+e+"<\/entity><\/fetch>";t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("FetchXmlWithCallback",null);t.OnSuccess=this.$$d_$2iS;t.OnFailure=this.$$d_$4L;t.QueryValue=i;this.set_DefinitionId(i);this.set_IsLoading(!0);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)},$2Pq:function(n){var i;if($0.$0(n))return"<link-entity name='"+this.$P+"' from='"+this.$QZ+"' to='objectid' link-type='inner'>"+this.$HG()+"<\/link-entity>";var r="",u="",f="",e="",t="";return n.$10("name")&&(t=n.$10("name"),u=" name='"+t+"' "),r=" alias='"+t+"__alias' ",n.$10("from")&&(f=" from='"+n.$10("from")+"' "),n.$10("to")&&(e=" to='"+n.$10("to")+"' "),this.$6Z().$6q!==this.$P&&(this.$1fU=t),i=Microsoft.Crm.Client.Core.Framework.Utils.$5i.$1HX(n),i+=this.$HG(),"<link-entity "+r+u+f+e+">"+i+"<\/link-entity >"},$2iS:function(n){var e=n.get_$9o().$1mk(),f,i,r;this.$rM=new Array(0);for(var u=e,o=u.length,t=0;t<o;++t)f=u[t],i=f.GetValue("objectid"),$0.$0(i.Id.toString())||this.$rM.push(i.Id.toString());this.$rM.length?(r=n,this.$Mn=r.get_EntityCollection().$DJ,this.$p2=r.get_EntityCollection().$VT,this.$1Z.$G8=Math.floor(this.$Mn/this.$1Z.$4W),this.$1V="<fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='true'>\r\n\t\t\t\t\t\t\t\t\t<entity name='"+this.$P+"'>"+this.$Ss+this.$1Hl()+"<filter type='or'>"+this.$2g4()+"<\/filter>"+this.$HG()+"<\/entity><\/fetch>"):(this.$1V=null,this.$iq=new Array(0),this.$Mn=0,this.$7("IsLoading"));this.$1HJ();n.dispose()},$2g4:function(){for(var t="",n=0;n<this.$rM.length;n++)t+="<condition attribute='"+this.$QZ+"' operator='eq' value='"+this.$rM[n]+"' />";return t},screenReaderTextForItemCount:function(){var n=this.$p2?this.$Mn.toString()+" +":this.$Mn.toString(),t=this.$P==="incident"?"case":this.$P;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueuePanels_ScreenReader_ItemCount"),this.$Gf,n,t,this.$wj[this.$Rz])},screenReaderTextForSortIcon:function(){var n=this.$tL?" descending ":" ascending ";return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueuePanels_ScreenReader_SortIcon"),this.$wj[this.$Rz],n)},screenReaderTextForStreamName:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueuePanels_ScreenReader_StreamName"),this.$Gf)},screenReaderTextForMenuButton:function(){var n=this.$P==="incident"?"case":this.$P;return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("QueuePanels_ScreenReader_MenuButton"),n)},$2AL:function(){var n,t,i,r;if(this.$Mo){n=this.$Mo;for(t in n)i={key:t,value:n[t]},r=i.value,r.dispose();this.$Mo=null}},$1Hj:function(){return this.$1kq},$2Ev:function(n){this.$1kq=n},$Oh:function(){$0.$0(this.$4e)||(this.$4e.dispose(),this.$4e=null);this.$1l=null;this.$3q=null;this.$wi=null;this.$JU=null;this.$Xa=null;this.$P=null;this.$QZ=null;this.$Wc=null;this.$1Cw=null;this.$Ns=null;this.$Gn=null;this.$QI=null;this.$Gh=null;this.$Ss=null;this.$rX=null;this.$3z=null;this.$wj=null;this.$187=null;this.$wh=null;this.$vU=null;this.$yj=null;this.$1f.dispose();this.$kB();this.$2AL();this.$DQ.dispose();Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.$Af=function(){Microsoft.Crm.Client.Core.ViewModels.$Af.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Af.prototype={$6Y:null,$T:null,$M:null,get_Command:function(){return this.$6Y},set_Command:function(n){return this.$6Y=n,this.$1nH(),n},get_TargetViewModel:function(){return this.$T?this.$T:this},set_TargetViewModel:function(n){return this.$T=n,this.$1nH(),n},get_Parameters:function(){return this.$M},set_Parameters:function(n){return this.$M=n,this.$1nH(),n},$1nH:function(){$0.$0(this.$6Y)||($0.$0(this.$M)&&(this.$M={}),this.set_ActionCommand(Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$n(this,new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.CommandDescriptor(this.$6Y,null,this.$M))));this.$7("QuickActionButtonUpdated")},HandleOnClick:function(){var f="ExecutingQuickAction::"+this.$6Y+"::"+this.$1G,n,t,r,u,i;Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L(f,0,this.get_ViewModelId());$0.$0(this.$2)||(n=this.get_TargetViewModel(),$0.$0(n)||(n.$4C==="email"?(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(n.$Co)&&(t=this.$2.$5k,$0.$0(t.$P9)&&(t.$P9={}),r=n.$Co,t.$P9.InteractionWallViewModel=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QR("InteractionWallViewModel",r.$9G),t.$P9.IsInteractionWallQuickAction=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QR("IsInteractionWallQuickAction","true")),u=this.$M.CommandId,u==="Mscrm.Form.email.Send"?this.$2kz():($0.$0(this.$2.$K)||$0.$0(this.$2.$K.$M)?$0.$0(this.$2.$K.$8n)||(i=this.$2.$K.$8n,$0.$0(i.$K)||$0.$0(i.$K.$M)||(i.$K.$M.OverriddenEntityId=n.$Ei.get_$R(0).Id,i.$K.$M.OverriddenEntityName=n.$4C)):(this.$2.$K.$M.OverriddenEntityName=n.$4C,this.$2.$K.$M.OverriddenEntityId=n.$Ei.get_$R(0).Id),this.$1g.execute())):this.$1g.execute()))},$1Mw:function(n,t,i){for(var r,o,e=t.$I.fields[i],u=[],f=0;f<e.get_entities().length;f++)r=e.get_entities()[f].fields.partyid,o=$0.$0(r)?new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem("","",""):new Microsoft.Crm.Client.Core.ViewModels.LookupControlItem(r.LogicalName,r.Id.toString(),r.Name),u.push(o);n.$P9[i]=new Microsoft.Crm.Client.Core.ViewModels.ClientApi.$QR(i,u);u=null},$2kz:function(){var i=this.get_TargetViewModel(),r=i.$Co,t=r.get_$326(),u=new Xrm.Objects.EntityReference("email",t),f=Microsoft.Crm.Client.Core.Framework.$q.$4t("QuickActionButtonViewModel","QuickActionButtonViewModel"),n=this,e=this;Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.$7m(u,new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(["to","from","cc","bcc"]),Microsoft.Crm.Client.Core.ViewModels.$k.get_$Iq(),f).then(function(i){var r=Microsoft.Crm.Client.Core.Models.$c.$X(i),u,f;$0.$0(n.$2.$K.$M)?$0.$0(n.$2.$K.$8n)||(u=n.$2.$K.$8n,$0.$0(u.$K)||$0.$0(u.$K.$M)||(u.$K.$M.OverriddenEntityId=t.toString(),u.$K.$M.OverriddenEntityName="email")):(n.$2.$K.$M.OverriddenEntityId=t.toString(),n.$2.$K.$M.OverriddenEntityName="email");f=n.$2.$5k;n.$1Mw(f,r,"bcc");n.$1Mw(f,r,"from");n.$1Mw(f,r,"to");n.$1Mw(f,r,"cc");n.$1g.execute();r.$5E()},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logError(1007,"Retrieve Failed for Send Email QuickAction in Interaction Wall with error : {0}",n.$F)})}};Microsoft.Crm.Client.Core.ViewModels.$7Q=function(n){this.$1sF=["Mscrm.HomepageGrid.incident.Resolve","Mscrm.AssignSelectedRecord","Mscrm.DeleteSelectedRecord","Mscrm.HomepageGrid.incident.Cancel","Mscrm.HomepageGrid.incident.DoNotDecrementEntitlementTerms","Mscrm.HomepageGrid.incident.RunRoutingRule","Mscrm.AddSelectedToQueue","Mscrm.HomepageGrid.incident.MergeRecords","Mscrm.HomepageGrid.incident.AssociateParentChildCase"];this.$1s8=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$1sB=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$1sI=["Mscrm.HomepageGrid.queueitem.Route","Mscrm.HomepageGrid.queueitem.Pick","Mscrm.HomepageGrid.queueitem.Release","Mscrm.HomepageGrid.queueitem.RemoveLeo"];this.$1sG=["Mscrm.DeleteSelectedRecord"];this.$1sH=[];this.$1sA=["Mscrm.CloseActivity","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SaveAsCompleted","Mscrm.SaveAsCancelled","Mscrm.SetRegardingForSelected","Mscrm.ConvertToCase"];this.$1s9=["Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SaveAsCompleted","Mscrm.SaveAsCancelled","Mscrm.SetRegardingForSelected"];this.$1sE=["Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord","Mscrm.AddSelectedToQueue","Mscrm.SetRegardingForSelected"];this.$1sD=["Mscrm.Form.email.Send","Mscrm.Form.email.ReplyAll","Mscrm.Form.email.Reply","Mscrm.Form.email.Forward","Mscrm.Form.email.AttachFile","Mscrm.AssignPrimaryRecord","Mscrm.DeletePrimaryRecord","Mscrm.Form.ConvertToCase"];this.$1sJ=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$1sC=["Mscrm.HomepageGrid.Activate","Mscrm.HomepageGrid.Deactivate","Mscrm.DeleteSelectedRecord","Mscrm.AssignSelectedRecord"];this.$G0={};this.$G0.incident=this.$1sF;this.$G0.account=this.$1s8;this.$G0.contact=this.$1sB;this.$G0.knowledgearticle=this.$1sG;this.$G0.knowledgebaserecord=this.$1sH;this.$G0.activitypointer=this.$12Y(n);this.$G0.socialprofile=this.$1sJ;this.$G0.queueitem=this.$1sI;this.$G0.appointment=this.$12Y(n);this.$G0.phonecall=this.$12Y(n);this.$G0.task=this.$12Y(n);this.$G0.email=this.$1sE;this.$G0.socialactivity=this.$12Y(n);this.$G0.customentity=this.$1sC;this.$1G8={};this.$1G8.email=this.$1sD};Microsoft.Crm.Client.Core.ViewModels.$7Q.$32Z=function(n){switch(n){case"Mscrm.CloseActivity":return"Mscrm.Form.CloseActivity";case"Mscrm.DeleteSelectedRecord":return"Mscrm.DeletePrimaryRecord";case"Mscrm.AddSelectedToQueue":return"Mscrm.AddPrimaryToQueue";case"Mscrm.AssignSelectedRecord":return"Mscrm.AssignPrimaryRecord";case"Mscrm.ConvertToCase":return"Mscrm.Form.ConvertToCase";case"Mscrm.SaveAsCompleted":return"Mscrm.SavePrimaryActivityAsComplete";default:return n}};Microsoft.Crm.Client.Core.ViewModels.$7Q.$1jv=function(n,t,i,r,u){var e=new Microsoft.Crm.Client.Core.ViewModels.$7Q(u),f;if($0.$0(n)||$0.$0(t))return null;switch(t){case"grid":f=e.$G0;break;case"form":f=e.$1G8;break;default:f=null}return n in f?new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f[n]):i?r?new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f.activitypointer):new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String))(f.customentity):null};Microsoft.Crm.Client.Core.ViewModels.$7Q.prototype={$G0:null,$1G8:null,$12Y:function(n){return n?this.$1sA:this.$1s9}};Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper=function(n){Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.prototype={$1SW:null,refresh:function(){this.$1SW.$Rr()},getCellValue:function(){return null}};Microsoft.Crm.Client.Core.ViewModels.$Ag=function(){this.$$d_$2sy=Function.createDelegate(this,this.$2sy);this.$$d_$2t0=Function.createDelegate(this,this.$2t0);this.$$d_$2sz=Function.createDelegate(this,this.$2sz);this.$$d_$2tb=Function.createDelegate(this,this.$2tb);this.$az=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af));this.$Rm=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af));this.$Rl=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af));this.$b0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af));Microsoft.Crm.Client.Core.ViewModels.$Ag.resolveInheritance();this.get_Id=this.get_$2m;this.set_Id=this.set_$2m;this.get_$KH=this.get_IsSelected;this.set_$KH=this.set_IsSelected;this.get_$1u=this.get_PrimaryModelName;this.set_$1u=this.set_PrimaryModelName;this.get_Root=this.get_$GO;this.set_Root=this.set_$GO;this.get_$BV=this.get_IsDisposed;this.apcl=this.AddPropertyChangedListener;this.rpcl=this.RemovePropertyChangedListener;Microsoft.Crm.Client.Core.ViewModels.$Ag.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Ag.prototype={$4C:null,$Lh:null,$vX:null,$xi:null,$1NY:!1,$1dh:!1,$CW:!1,$g3:!1,$Ei:null,$Co:null,get_TargetViewModelContext:function(){return this.$Co},set_TargetViewModelContext:function(n){return this.$Co=n,n},$iJ:null,$oI:null,$xo:null,$iK:null,get_Context:function(){return this.$iK},set_Context:function(n){return this.$iK=n,n},get_Entity:function(){return this.$4C},set_Entity:function(n){return this.$4C=n,this.set_PrimaryModelName(this.$4C),this.$1a&&this.$25e(),n},get_queueContainerQuickActionPopup:function(){return this.$1NY},set_queueContainerQuickActionPopup:function(n){return this.$1NY=n,this.$7("QueueContainerQuickActionPopup"),n},get_interactionWallQuickActionPopup:function(){return this.$1dh},set_interactionWallQuickActionPopup:function(n){return this.$1dh=n,this.$7("InteractionWallQuickActionPopup"),n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$2Z.call(this);this.$Ei=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.EntityReference));this.$xi=new Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel;this.$xo=new Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper(this.$xi);this.$xo.$1SW=this;$0.$0(this.$4C)||this.$25e()},$1Rg:function(n){return n.val=this.$Lh,!0},$3AJ:function(n){if(!$0.$0(this.$Co)){var t=this.$Co.get_State();return n.val=t,!0}return!1},$3AK:function(n){if(!$0.$0(this.$Co)){var t=this.$Co.get_State();return n.val=Microsoft.Crm.Client.Core.ViewModels.InteractionWallResultState.toString(t),!0}return!1},$3AL:function(n){return $0.$0(this.$Co)?!1:(n.val=this.$Co.get_$394(),!0)},get_$2o5:function(){return!0},get_$2ni:function(){return!1},get_$2V0:function(){return[this.$4C]},get_$2V2:function(){return this.$$d_$2tb},$Oh:function(){var n,t,i,r;this.$Ei=null;this.$Co=null;this.$iJ=null;this.$oI=null;this.$xo=null;$0.$0(this.$xi)||(this.$xi.dispose(),this.$xi=null);this.$eX(n={val:this.$az});this.$az=n.val;this.$eX(t={val:this.$Rl});this.$Rl=t.val;this.$eX(i={val:this.$b0});this.$b0=i.val;this.$eX(r={val:this.$Rm});this.$Rm=r.val;this.$az=null;this.$Rl=null;this.$b0=null;this.$Rm=null;this.$vX=null;Microsoft.Crm.Client.Core.ViewModels.$7n.prototype.$Oh.call(this)},$eX:function(n){if(!$0.$0(n.val)){for(var t=0;t<n.val.get_Count();++t)$0.$0(n.val.get_$R(t))||(n.val.get_$R(t).dispose(),n.val.set_$R(t,null));n.val.clear()}},$25e:function(){var n=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveMultipleEntityMetadataAction",null);Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,n)},$2tb:function(n){this.$CW=n[0].$CW;this.$g3=n[0].get_$7g();this.$36q();this.$2qe()},$36q:function(){this.$Lh=this.$g3&&this.$4C!=="email"?"activitypointer":this.$4C},$2qe:function(){(this.$vX=Microsoft.Crm.Client.Core.ViewModels.$7Q.$1jv(this.$4C,this.$iK,this.$CW,this.$g3,Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$Co)),this.$vX)&&this.$1jv(Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$Co))},$2sz:function(n){this.$iJ=n;this.$2Sj();this.$2Sk()},$2t0:function(n){this.$oI=n;this.$1jv(!1)},$1jv:function(n){var i=this.$2f9(n),t=new Microsoft.Crm.Client.Core.Models.Descriptors.ViewModel.QueryDescriptor("RetrieveCommandSet",i);t.OnSuccess=this.$$d_$2sz;t.OnSuccess=n?this.$$d_$2t0:this.$$d_$2sz;t.OnFailure=this.$$d_$2sy;Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().$1t("ActionProvider",this,t)},$2sy:function(){throw Error.create("QuickActionViewModel: Command Set Retrieval Failed");},$2Sj:function(){var n;this.$eX(n={val:this.$az});this.$az=n.val;this.$25A(this.$iJ.$Cx.Controls);this.$7("QuickActionButtonCreated")},$25A:function(n){for(var t,r,u,f=n,e=f.length,i=0;i<e;++i){t=f[i];switch(t.ControlType){case"Button":r=t.Command.split("|");u=r[r.length-1];this.$vX&&this.$vX.contains(u)&&this.$2Kn(t,u);break;case"Group":case"Tab":case"FlyoutAnchor":this.$25A(t.Children)}}},$2Kn:function(n,t){var u=this.$iJ.$Cx.Commands,r=u[this.$Lh][t],i=new Microsoft.Crm.Client.Core.ViewModels.$Af;$0.$0(r)||(n.CommandParameters.entityLogicalName=this.$Lh,n.CommandParameters.CommandId=t,n.CommandParameters.RibbonActionHandler=r.Actions,n.CommandParameters.TargetViewModel=this,i.set_Command("WebResourceCommand"),i.set_Parameters(n.CommandParameters),i.set_Label(n.LabelText),i.set_TargetViewModel(this),i.set_$GO(this.$2),i.set_$2m(n.Id),this.$az.contains(i)||this.$az.add(i))},$2Sk:function(){var i,r,u,n;this.$eX(i={val:this.$Rm});this.$Rm=i.val;this.$eX(r={val:this.$Rl});this.$Rl=r.val;this.$eX(u={val:this.$b0});this.$b0=u.val;for(var f=this.$az.toArray(),e=f.length,t=0;t<e;++t)n=f[t],Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$Co)?this.$2ll(n):this.$iK==="form"?this.$Rm.add(n):this.$29b(n)},$29b:function(n){var f=n.$M.CommandId,e=this.$iJ.$Cx.Commands,r=e[this.$Lh][f],t,i,u;if(!$0.$0(r)){if(t=r.EnableRules,!t.length||Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$Co)){this.$Rm.add(n);return}if(i=this.$2j7(t),!$0.$0(i)){u=this.$2Vd(i);switch(u){case 0:this.$Rm.add(n);break;case 1:this.$Rl.add(n);break;case 2:this.$b0.add(n)}}}},$2ll:function(n){var t=n.$M.CommandId,o=Microsoft.Crm.Client.Core.ViewModels.$7Q.$32Z(t),s=this.$oI.$Cx.Commands,r=s[this.$Lh][o],h=this.$oI.$Cx.Rules[this.$Lh],c=this.$oI.$Cx.DisplayRules[this.$Lh],e,w;if(!$0.$0(r)){var l=r.EnableRules,a=r.DisplayRules,u=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),f=Microsoft.Crm.Client.Core.Framework.$2n.Instance.$C5(Microsoft.Crm.Client.Core.ViewModels.$8C),v=this,i=l.map(function(n){return f.$1FM(h[n],v)}),y=this,p=a.map(function(n){return f.$1FM(c[n],y)});i=i.concat.apply(i,p);e=this;w=this;Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray(i).then(function(i){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,"Quick Actions : Evaluated [{1}] rules for command [{0}]",t,i.length);var r=i.reduce(function(n,t){return!!(n&t)},!0);r&&e.$29b(n);Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Quick Actions : Evaluation of {2} rules for command [{0}] succeeded with result: {1}")',t,r,i.length);u.resolve(r)},function(n){Microsoft.Crm.Client.Core.Framework.Trace.logInfo(139,'Quick Actions : Evaluation of rules for command [{0}] failed with message: {1}")',t,n.$F);u.reject(n)})}},$2j7:function(n){for(var f,e,r,u=n,s=u.length,t=0;t<s;++t){f=u[t];e=this.$iJ.$Cx.Rules[this.$Lh][f];for(var o=e.Rules,h=o.length,i=0;i<h;++i)if(r=o[i],r.RuleType===5)return r}return null},$2Vd:function(n){var t=n;return t.Minimum===1&&t.Maximum===1?0:t.Minimum===1&&t.Maximum===-1?1:t.Minimum===2&&t.Maximum===-1?2:3},$2f9:function(n){return this.$iK==="form"||n?"Form:"+this.$Lh:this.$iK==="grid"?"HomePageGridItem:"+this.$Lh:null},getQuickActionButtonViewModels:function(){var n,t;return Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("QuickActionsShown",0,this.get_ViewModelId()),this.$Ei&&this.$Ei.get_Count()?this.$Ei.get_Count()===1?(n=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af)),n.addRange(this.$Rm.toArray()),n.addRange(this.$Rl.toArray()),n.toArray()):(t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.$Af)),t.addRange(this.$Rl.toArray()),t.addRange(this.$b0.toArray()),t.toArray()):null},getQuickActionButtonViewModelCount:function(){return this.$Ei&&this.$Ei.get_Count()?this.$Ei.get_Count()===1?this.$Rm.get_Count()+this.$Rl.get_Count():this.$Rl.get_Count()+this.$b0.get_Count():0},handleQueueItemSelection:function(n,t,i){var e=n,r,f;if(t)r=new Mscrm.EntityReference,r.Id=e.toString(),r.TypeCode=Xrm.Internal.getEntityCode(i),this.$Ei.add(r);else for(var o=this.$Ei.toArray(),s=o.length,u=0;u<s;++u)f=o[u],f.Id===e.toString()&&this.$Ei.remove(f);this.$1NY=!1;this.$rd("SelectionCountChanged","QueueContainerQuickActionPopup")},$2KH:function(n,t){var r=n,i=new Mscrm.EntityReference;i.Id=r.toString();i.TypeCode=Xrm.Internal.getEntityCode(t);this.$Ei.add(i)},$1DI:function(){this.$Ei.clear();this.$7("SelectionCountChanged")},$Rr:function(){var t,n;Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.isInstanceOfType(this.$Co)?(t=this.$Co.get_ParentViewModel(),t.$Rr(),t.$20p().$82.raiseEvent(Function,null)):Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.isInstanceOfType(this.$Co)&&(n=this.$Co.$9G,n.$2D="InteractionWallQuickActionRefresh",n.refreshData(),n.$2D="")}};Microsoft.Crm.Client.Core.ViewModels.$Dv=function(){Microsoft.Crm.Client.Core.ViewModels.$Dv.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$Dv.prototype={RefreshData:function(){this.$4l().refreshWithoutScriptReload()},$4l:function(){return this.$2}};Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.prototype={$26A:30,get_MaximumLengthOfTag:function(){return this.$26A},$2yW:function(){var n=this;this.$11X.sort(function(n,t){var i=n,r=t,u=Number.parseInvariant(i.$rL),f=Number.parseInvariant(r.$rL);return f!==u?f-u:i.$49.localeCompare(r.$49)})}};Microsoft.Crm.Client.Core.ViewModels.$ER=function(){this.$$d_HandleViewNameSet=Function.createDelegate(this,this.HandleViewNameSet);Microsoft.Crm.Client.Core.ViewModels.$ER.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.$ER.prototype={$LF:null,get_ViewName:function(){return this.$LF},set_ViewName:function(n){return this.$LF=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l,this.$$d_HandleViewNameSet))},HandleViewNameSet:function(n){this.$LF=n.$LF;this.$LF&&(this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l,this.$$d_HandleViewNameSet),this.$7("ViewNameSet"))},$Oh:function(){this.$LF=null;this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l,this.$$d_HandleViewNameSet);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel=function(){this.$11X=[];this.$nM=[];Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.prototype={$V1:null,$Qi:null,$4O:null,get_Title:function(){return this.$4O},set_Title:function(n){return this.$4O=n,n},get_Data:function(){return this.$L5&&(this.$L5=!1,this.set_IsLoading(!0),this.$H4()),this.$11X},get_SelectedElements:function(){return this.$nM},set_SelectedElements:function(n){return this.$nM=n,n},$2Ua:function(n){var t=n.$1Bv[0];if(Microsoft.Crm.Client.Core.Models.$7u.isInstanceOfType(t)){if(this.$Qi.get_$1m().get_Count()===2){var u=t,i=Number.parseInvariant(u.Value.toString()),f=Number.parseInvariant(this.$Qi.get_$1m().get_$R(0).get_$29().toString()),e=Number.parseInvariant(this.$Qi.get_$1m().get_$R(1).get_$29().toString());return i>=f&&i<=e}}else if(Microsoft.Crm.Client.Core.Models.$6u.isInstanceOfType(t)&&this.$Qi.get_$1m().get_Count()===2){var r=t,o=new Date(Date.parse(this.$Qi.get_$1m().get_$R(0).get_$29().toString())),s=new Date(Date.parse(this.$Qi.get_$1m().get_$R(1).get_$29().toString()));return r.MinDate>=o&&r.MaxDate<=s}return!!Number.parseInvariant(n.$rL)},get_SelectedIdsDictionary:function(){var n,t,r,i;if($0.$0(this.$V1)){if(n=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("VisualFilter_GetSelectedIdsDictionary"),n.start(),this.$V1={},this.$d3)for(t=0;t<this.get_Data().length;t++)this.$2Ua(this.get_Data()[t])&&(this.$V1[this.get_Data()[t].$49]=!0);else for(r=this.$nM,i=0;i<r.length;++i)this.$V1[r[i]]=!0;n.stop();n.addParameter(this.get_ViewModelId());n.addParameter(this.$L)}return this.$V1},set_SelectedIdsDictionary:function(n){return this.$V1=n,n},$d3:!1,get_FilterEventHadRangeQuery:function(){return this.$d3},set_FilterEventHadRangeQuery:function(n){return this.$d3=n,n},$1AI:!1,get_IsError:function(){return this.$1AI},set_IsError:function(n){return this.$1AI=n,n},$Vq:null,get_ErrorTitle:function(){return this.$Vq},set_ErrorTitle:function(n){return this.$Vq=n,n},$L5:!1,get_LazyLoad:function(){return this.$L5},set_LazyLoad:function(n){return this.$L5=n,n},$Pl:null,get_ErrorMessage:function(){return this.$Pl},set_ErrorMessage:function(n){return this.$Pl=n,n},GetElementPrimaryId:function(n){var t=n[0];return $0.$0(t)?"":t.Value},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$9M.prototype.$2Z.call(this),this.$L5=!1,this.$d3=!1,this.$V1=null,this.$Qi=null)},$H4:function(){if(!$0.$0(this.$8l)){var n=this;this.$25f().done(function(){if(n.$1ee())n.$21b();else{n.set_IsLoading(!0);var t=n.$8l.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(t)}n.$Nt.start()})}},$2yW:function(){},$1n8:function(){var i,t,n;if(this.$Nt.stop(),this.$Nt.addParameter(this.get_ViewModelId()),this.$Nt.addParameter(this.$L),$0.$0(this.$Cy)){this.set_IsLoading(!1);return}for(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs(this.$SR?"RenderedRefreshedData":"LoadedInitialData",0,this.get_ViewModelId()),this.$SR||(this.$FH("RenderedInitialData"),this.$SR=!0),this.$11X=[],i=this.$Cy.$i8[0].Values,t=this.$Cy.$Ho[0].DataPoints,n=0;n<i.length;++n){var r=i[n],u=t[n].Value.toString(),f=t[n].Aggregators;this.$11X[n]=new Microsoft.Crm.Client.Core.Models.EntityCountForAttributeValue(r,u,t[n].FormattedValue.toString(),f)}this.$2yW();this.$1k?this.set_IsLoading(!1):this.$7("Data");this.$2IF()},HandleApplyFilter:function(n,t){this.$4l()&&this.$2Mo(n,t)},OnFilterChangeCompletedEvent:function(n){var h,c,e,o,u,i,f,t,r,s;if(this.$4l().get_IsMultipleEntityGraphSupported()){c=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$Dy)?"":n.$JO.toString(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(c);this.$lI={};e=n.$JO;for(o in e)u={key:o,value:e[o]},$0.$0(n.$JO[u.key])||(this.$lI[u.key]=n.$JO[u.key].$9V())}else h=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",$0.$0(n.$Dy)?"":n.$Dy.$9V(),n.$q),Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(h),this.$sq=n.$Dy.$9V();if(this.$GX){for(i=this.$GX.$iC,f=!1,t=0;t<i.get_Count();t++)r=null,this.$4l().get_IsMultipleEntityGraphSupported()?(s=this.$1HQ(i.get_$R(t)),$0.$0(n.$JO[s])||(r=n.$JO[s].$HG(i.get_$R(t)))):r=n.$Dy.$HG(i.get_$R(t)),$0.$0(r)||(f||(f=!0,this.$nM=[],this.$V1=null),this.$2kI(r));f||(this.$nM=[],this.$V1=null,this.$d3=!1,this.$Qi=null)}if(!this.$SR){this.$L5=!0;return}this.$H4()},$2kI:function(n){if(!$0.$0(n)&&n.get_$1m().get_Count()>0)if(n.get_$1m().get_$R(0).get_$Hf()!=="eq")this.$d3=!0,this.$Qi=n.$87();else{this.$d3=!1;this.$Qi=null;for(var t=0;t<n.get_$1m().get_Count();t++)this.$nM.push(n.get_$1m().get_$R(t).get_$29())}},$13J:function(n,t){this.$1AI=!0;this.$Vq=n;this.$Pl=t;this.$7("Data")},VisualFilterHeaderScreenReaderLabel:function(n){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("VisualFilterHeader_ScreenReader_Label"),n,this.$4O)},PrimaryEntityDisplayName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.get_$mi()).$1q},PrimaryEntityPluralName:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.get_$mi()).$Ag}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls");Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.$q9=function(n){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$Sr.get_$R(n.toString());return $0.$0(t)?!1:t.$dv};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bp=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bp.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bp.prototype={$116:null,$Fi:"",get_DataField:function(){return this.$116},set_DataField:function(n){return this.$116=n,this.SetupData(),n},get_SpecifyFieldErrorTitle:function(){return String.format(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("ReferencePanel_QuickView_SpecifyField"),this.get_BindingField())},get_BindingField:function(){return Microsoft.Crm.Client.Core.Framework.$3.$9(this.$Fi)?null:$0.$0(Xrm.Page.getControl(this.$Fi))?this.$Fi:Xrm.Page.getControl(this.$Fi).getLabel()},set_BindingField:function(n){return this.$Fi=n,n},$pQ:!1,get_ShouldShowSpecifyFieldError:function(){return this.$pQ},set_ShouldShowSpecifyFieldError:function(n){return this.$pQ=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),this.SetupData())},SetupData:function(){var t,i,e,o,r,u,f,s,n;if($0.$0(this.$116)){t=this.$H;for(i in t)e={key:i,value:t[i]},o=e.value,o.set_Rerender(!1);this.$pQ=!0;this.$7("Render");return}r=this.$116;this.$pQ=!0;u=this.$H;for(f in u)s={key:f,value:u[f]},n=s.value,n.get_Name()===r.LogicalName?(this.$pQ=!1,n.set_RecordId(r),n.set_Rerender(!0),n.set_SetActionable(!0),n.$Rr()):n.set_Rerender(!1);this.$7("Render")},$Oh:function(){var i=this.$H,n,r,t;for(n in i)r={key:n,value:i[n]},t=r.value,t&&this.$1Et(t);this.set_DataField(null);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel=function(){this.$$d_$uN=Function.createDelegate(this,this.$uN);this.$$d_$EP=Function.createDelegate(this,this.$EP);this.$$d_HandleFilterChangeInitiatedEvent=Function.createDelegate(this,this.HandleFilterChangeInitiatedEvent);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.initializeBase(this,[37]);this.$141=!1;this.$6q="incident";this.$L8=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident");this.$NQ=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident");this.$I7=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident");this.set_DashboardCategory("1_0");this.$82=new Microsoft.Crm.Client.Core.Framework.$CO;this.get_IsMultipleEntityGraphSupported()&&(this.$Cl={},this.$Cl.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident"),this.$FW={},this.$FW.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident"),this.$CG={},this.$CG.incident=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,"incident"),this.$dI={})};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ=function(n,t,i,r){for(var u,e=t.toArray(),o=e.length,f=0;f<o;++f)u=e[f],i&&n.$Mq(u.get_$Qj()),r?n.$9Z(u.$87()):n.$9Z(u)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.prototype={$118:!0,$82:null,get_EventHandler:function(){return this.$82},set_EventHandler:function(n){return this.$82=n,n},$141:!1,$Xf:null,get_IsMultipleEntityGraphSupported:function(){return Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$1j().isFeatureEnabled("InteractionCentricMultiEntityChartsFeature")},$I3:null,get_FilterByAttributeName:function(){return this.$I3},set_FilterByAttributeName:function(n){return this.$I3=n,n},$19v:null,get_FilterByAttributeId:function(){return this.$19v},set_FilterByAttributeId:function(n){return this.$19v=n,n},$1AM:!1,get_IsFilterByAttributeSecured:function(){return this.$1AM},set_IsFilterByAttributeSecured:function(n){return this.$1AM=n,n},get_DashboardCategory:function(){return this.$Xf},set_DashboardCategory:function(n){if(!$0.$0(n)){var t=n.split("_");t.length>1&&(this.$141=t[1]==="1"?!0:!1);this.$Xf=t[0]}return n},$6q:null,get_PrimaryEntity:function(){return this.$6q},set_PrimaryEntity:function(n){return this.$6q=n,n},$NQ:null,get_DateRangeFilter:function(){return this.$NQ},set_DateRangeFilter:function(n){return this.$NQ=n,n},$I7:null,get_PrimaryEntityFilterExludingDateRange:function(){return this.$I7},set_PrimaryEntityFilterExludingDateRange:function(n){return this.$I7=n,n},$L8:null,get_PrimaryEntityFilter:function(){return this.$L8},set_PrimaryEntityFilter:function(n){return this.$L8=n,n},$FW:null,$CG:null,$Cl:null,$dI:null,$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B(this.$12z("Initialize"),2001,{PrimaryEntity:this.$6q,DashboardCategory:this.$Xf,FilterByAttributeName:this.$I3,IsEntityDashboard:this.$141},"FirstLoad");this.$1a||(Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("InteractionCentricDashboard_Initialize",1,this.get_ViewModelId()),Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$2Z.call(this),this.$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,this.$$d_HandleFilterChangeInitiatedEvent));this.$3C8();$0.$0(this.$2)||(this.$2.$Sg&&this.$EP(null,null),this.$2.add_$P1(this.$$d_$EP),this.$2.add_$gn(this.$$d_$uN))},$12z:function(n){return"InteractionCentricDashboardViewModel-"+this.$1P+" ("+n+")"},$3C8:function(){var i,n,t;this.$1AM&&this.$118&&(Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.$q9(this.$19v)||(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$u(this.$12z("ValidateFilterByAttribute"),2001,{Warning:"(ValidateFilterByAttribute) User doesn't have read access to attribute "+this.$I3},"NoReadLevelAccessOnAttribute"),this.$118=!1,i=this,Microsoft.Crm.Client.Core.ViewModels.$Q.$38R(Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Title_ServiceDesk_AccessDenied_DateRange"),Microsoft.Crm.Client.Core.Framework.Common.$2.$4("Error_Message_ServiceDesk_AccessDenied_DateRange"),function(){}),n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$I3),n.$Bl(this.$I3,"on-or-after","2015-01-01T00:00:00"),n.$Bl(this.$I3,"on-or-before","2014-01-01T00:00:00"),this.get_IsMultipleEntityGraphSupported()?(this.$FW[this.$6q].$Mq(this.$I3),this.$FW[this.$6q].$9Z(n),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$I3,2,0,null),t.$H8=this.$FW):(this.$NQ.$Mq(this.$I3),this.$NQ.$9Z(n),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$I3,2,0,this.$NQ)),this.$2.$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,t)))},$EP:function(){var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){n.$2qU();window.localStorage.setItem("isMarsISHDashboard","true")},-9,"JobLoadMarsScripts")},$uN:function(){},$2qU:function(){var r=Xrm.Page.context.getClientUrl(),t="/WebResources/msdyn_LoadGuidedHelpMoCA.js",i=$get("CustomScriptsIFrame"),u=i.contentDocument.getElementById(r+t),n;$0.$0(u)&&(n=i.contentDocument.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("id",t),n.setAttribute("src",r+t),i.contentDocument.body.appendChild(n))},$25u:function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B(this.$12z("HandleFilterChangeInitiatedEvent"),2001,{SourceId:n.$q,Filtertype:n.$EA,FilterEventType:n.$ez,FilterExpression:$0.$0(n.$6C)?"":n.$6C.$9V()},"FilterChangeInitiated")},HandleFilterChangeInitiatedEvent:function(n){var r,i,u,t,f,e;if(this.get_IsMultipleEntityGraphSupported())this.$2kS(n);else{if(this.$25u(n),r="",i="",n.$ez){if(n.$ez===1){f=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterRemoved");f.start();r="FilterChangeInitiatedEvent.FilterRemoved";switch(n.$EA){case 1:this.$I7.$86();i="Aggregated";break;case 0:this.$L8.$Mq(n.$q);i="Individual"}f.stop();f.addParameter(this.get_ViewModelId())}}else{u=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterChanged");u.start();r="FilterChangeInitiatedEvent.FilterChanged";t=n.$6C;switch(n.$EA){case 2:this.$118&&(i="Global",this.$NQ.$Mq(t.get_$Qj()),this.$NQ.$9Z(t));break;case 1:this.$I7=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$6q);i="Aggregated";$0.$0(t)||Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$I7,t.get_$5N(),!1,!0);break;case 0:$0.$0(t)||(i="Individual",t.get_$5N().get_Count()?Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$I7,t.get_$5N(),!0,!0):(this.$I7.$Mq(t.get_$Qj()),this.$I7.$9Z(t.$87())))}u.stop();u.addParameter(this.get_ViewModelId())}e=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,i,r,$0.$0(n.$6C)?"":n.$6C.$9V(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(e);this.$2AQ(n)}},$2kS:function(n){var o,i,s,r,l,a,u,h,v,y,e,p,w,b,t,f,c,k,d,g,nt,tt,it,rt;if(this.$25u(n),o="",i="",n.$ez){if(n.$ez===1){c=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterRemoved");c.start();o="FilterChangeInitiatedEvent.FilterRemoved";switch(n.$EA){case 1:i="Aggregated";k=this.$CG;for(d in k)g={key:d,value:k[d]},$0.$0(this.$CG[g.key])||this.$CG[g.key].$86();break;case 0:i="Individual";nt=this.$Cl;for(tt in nt)it={key:tt,value:nt[tt]},$0.$0(this.$Cl[it.key])||this.$Cl[it.key].$Mq(n.$q)}c.stop();c.addParameter(this.get_ViewModelId())}}else{s=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("InteractionCentricDashboard_FilterChangeInitiatedEvent_FilterChanged");s.start();o="FilterChangeInitiatedEvent.FilterChanged";$0.$0(n.$6C)||($0.$0(n.$H8)&&(n.$H8={}),n.$H8[this.$6q]=n.$6C);r=n.$H8;switch(n.$EA){case 2:if(i="Global",this.$118){$0.$0(this.$FW)&&(this.$FW={});l=r;for(a in l)u={key:a,value:l[a]},$0.$0(this.$FW[u.key])&&(this.$FW[u.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,u.key)),h=r[u.key],$0.$0(h)||(this.$FW[u.key].$Mq(h.get_$Qj()),this.$FW[u.key].$9Z(h))}break;case 1:i="Aggregated";$0.$0(n.$H8)&&(this.$CG={});this.$CG[this.$6q]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$6q);v=r;for(y in v)e={key:y,value:v[y]},this.$CG[e.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,e.key),p=r[e.key],$0.$0(p)||Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$CG[e.key],p.get_$5N(),!1,!0);break;case 0:i="Individual";w=r;for(b in w)t={key:b,value:w[b]},f=r[t.key],$0.$0(f)||(t.key in this.$CG||(this.$CG[t.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,t.key)),f.get_$5N().get_Count()?Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$CG[t.key],f.get_$5N(),!0,!0):(this.$CG[t.key].$Mq(f.get_$Qj()),this.$CG[t.key].$9Z(f.$87())))}s.stop();s.addParameter(this.get_ViewModelId())}rt=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,i,o,$0.$0(n.$H8)?"":n.$H8.toString(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(rt);this.$2AQ(n)},$2AQ:function(n){var r,u,f,i,e,o,t,s;if(this.get_IsMultipleEntityGraphSupported()){this.$Cl={};u=this.$FW;for(f in u)i={key:f,value:u[f]},this.$Cl[i.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,i.key),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$Cl[i.key],this.$FW[i.key].$Ap,!1,!1);e=this.$CG;for(o in e)t={key:o,value:e[o]},t.key in this.$Cl||(this.$Cl[t.key]=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,t.key)),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$Cl[t.key],this.$CG[t.key].$Ap,!1,!1);s=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h(this.$L,null,n,this.$Cl);this.$25t(s);this.$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,s)}else this.$L8=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.$53(0,this.$6q),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$L8,this.$NQ.get_$5N(),!1,!1),Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.$VZ(this.$L8,this.$I7.get_$5N(),!1,!1),r=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h(this.$L,this.$L8,n,null),this.$25t(r),this.$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,r)},$25t:function(n){if(!$0.$0(n.$Dy)){var t=new Microsoft.Crm.Client.Core.Framework.TelemetryCore.$Qt(this.$L,Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.toString(n.$Pg.$EA),"FilterChangeCompletedEvent",n.$Dy.toString(),n.$q);Microsoft.Crm.Client.Core.Framework.TelemetryCore.TelemetryReporter.get_Instance().$1T(t)}Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B(this.$12z("RaiseFilterChangeCompletedEvent"),2001,{SourceId:n.$q,FilterExpression:$0.$0(n.$Dy)?"":n.$Dy.$9V()},"FilterChangeCompleted")},refreshWithoutScriptReload:function(){Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.refreshWithoutScriptReload.call(this);var n,t;this.get_IsMultipleEntityGraphSupported()?(n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,null),n.$H8=this.$Cl,t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h(this.$L,null,n,this.$Cl)):(n=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52(this.$L,1,0,this.$L8),t=new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h(this.$L,this.$L8,n,null));this.$82.raiseEvent(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h,t)},$Oh:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$S.$B(this.$12z("InternalDispose"),2001,{PrimaryEntity:this.$6q,DashboardCategory:this.$Xf,FilterByAttributeName:this.$I3,IsEntityDashboard:this.$141},"DashboardDisposed");this.$6q=null;this.$L8=null;this.$NQ=null;this.$I7=null;this.set_DashboardCategory(null);this.$FW=null;this.$Cl=null;this.$dI=null;this.$CG=null;this.$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52,this.$$d_HandleFilterChangeInitiatedEvent);Microsoft.Crm.Client.Core.ViewModels.RootViewModel.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bl=function(){this.$$d_$2kv=Function.createDelegate(this,this.$2kv);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bl.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bl.prototype={$1QA:!1,$2FJ:"ShouldScroll",$1B7:0,get_ScrollTopValueToSet:function(){return this.$1B7},set_ScrollTopValueToSet:function(n){return this.$1B7=n,n},$1B6:0,get_ScrollLeftValueToSet:function(){return this.$1B6},set_ScrollLeftValueToSet:function(n){return this.$1B6=n,n},get_ShouldScroll:function(){return this.$1QA},set_ShouldScroll:function(n){return this.$1QA!==n&&(this.$1QA=n,n&&this.$7(this.$2FJ)),n},$1Sa:0,get_BootstrapColumns:function(){return this.$1Sa},set_BootstrapColumns:function(n){return this.$1Sa=n,n},$1Sk:!1,get_ContainsTiles:function(){return this.$1Sk},set_ContainsTiles:function(n){return this.$1Sk=n,n},$1Sl:!1,get_ContainsVisualFilter:function(){return this.$1Sl},set_ContainsVisualFilter:function(n){return this.$1Sl=n,n},$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED.prototype.$2Z.call(this);this.$2.get_EventHandler().$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z,this.$$d_$2kv)},$2kv:function(n){n.$1Sg===this.$L&&(this.set_ShouldScroll(!0),this.$1B7=n.$1UG,this.$1B6=n.$1UF)},$Oh:function(){this.$2.get_EventHandler().$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7Z,this.$$d_$2kv);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED.prototype.$Oh.call(this)}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cb=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cb.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cb.prototype={$1UD:0,get_RowSpan:function(){return this.$1UD},set_RowSpan:function(n){return this.$1UD=n,n},$1Sf:0,get_ColSpan:function(){return this.$1Sf},set_ColSpan:function(n){return this.$1Sf=n,n},$ox:!1,get_IsQuickViewForm:function(){return this.$ox},set_IsQuickViewForm:function(n){return this.$ox=n,n},$1Sc:0,get_CellHeight:function(){return this.$1Sc},set_CellHeight:function(n){return this.$1Sc=n,n},$1TW:!1,get_IsQueueContainer:function(){return this.$1TW},set_IsQueueContainer:function(n){return this.$1TW=n,n},$1TS:!1,get_IsInteractionWallGridCell:function(){return this.$1TS},set_IsInteractionWallGridCell:function(n){return this.$1TS=n,n},$1TZ:!1,get_IsVisualFilterSection:function(){return this.$1TZ},set_IsVisualFilterSection:function(n){return this.$1TZ=n,n},$1TK:!1,get_IsBlankGridCell:function(){return this.$1TK},set_IsBlankGridCell:function(n){return this.$1TK=n,n},$1So:null,get_ControlName:function(){return this.$1So},set_ControlName:function(n){return this.$1So=n,n},$1Ub:null,get_TierType:function(){return this.$1Ub},set_TierType:function(n){return this.$1Ub=n,n},$1TJ:!1,get_IsAutoHeight:function(){return this.$1TJ},set_IsAutoHeight:function(n){return this.$1TJ=n,n},get_AdditionalCSSClassNamePropertyName:function(){return"AdditionalCSSClassName"}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED=function(){this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent=Function.createDelegate(this,this.HandleVisualFilterCollapsibleChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED.prototype={$rB:!1,$iF:!1,get_CheckIfCollapsed:function(){return this.$iF},set_CheckIfCollapsed:function(n){return this.$iF=n,n},$oG:!1,get_Collapsible:function(){return this.$oG},set_Collapsible:function(n){return this.$oG=n,n},$xz:!1,get_ContainsQueueContainerTier1:function(){return this.$xz},set_ContainsQueueContainerTier1:function(n){return this.$xz=n,n},$1Sj:!1,get_ContainsHeader:function(){return this.$1Sj},set_ContainsHeader:function(n){return this.$1Sj=n,n},get_DisplayLabel:function(){return this.$rB},set_DisplayLabel:function(n){return this.$rB=n,n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this),(this.$oG||this.$xz)&&(this.$iF=!0,this.$6Z().$82.$8S(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q,this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent)))},$Oh:function(){(this.$oG||this.$xz)&&this.$6Z().$82.$8p(Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q,this.$$d_HandleVisualFilterCollapsibleChangeCompletedEvent);Microsoft.Crm.Client.Core.ViewModels.$2D.prototype.$Oh.call(this)},$6Z:function(){return this.$2},HandleVisualFilterCollapsibleChangeCompletedEvent:function(){if(this.$iF=!this.$iF,this.$7("CheckIfCollapsed"),Microsoft.Crm.Client.Core.Framework.PerformanceMarker.get_$AC()&&!this.$iF&&this.$oG){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$1Bs("VisualFilterCollapseButtonClickAcknowledged",0,this.get_ViewModelId());var n=this;Microsoft.Crm.Client.Core.Framework.Scheduler.Schedule(function(){Microsoft.Crm.Client.Core.Framework.PerformanceMarker.$5L("VisualFiltersShown")},-13,"TabLayoutViewModel.HandleVisualFilterCollapsible")}},get_TabSpaceReserved:function(){return 10},RefreshData:function(){this.$6Z().refreshWithoutScriptReload()},IsTier1Dashboard:function(){return this.$6Z().$Xf==="1"}};Type.registerNamespace("Microsoft.Crm.Client.Core.Commands");Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand=function(){this.$$d_$2E=Function.createDelegate(this,this.$2E);Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.initializeBase(this);this.set_$1z(this.$$d_$2E)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("OpenEmailAttachmentPopupCommand",Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$n)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$n=function(n,t){return Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel.isInstanceOfType(n)&&(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef=n.refreshCommand),new Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand(t)};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2BL=function(n){delete n.$K.$M.OverriddenEntityId;delete n.$K.$M.OverriddenEntityName};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$1po=function(n){return!$0.$0(n)&&!$0.$0(n.$K)&&!$0.$0(n.$K.$M)&&"OverriddenEntityName"in n.$K.$M&&"OverriddenEntityId"in n.$K.$M?!0:!1};Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.prototype={$19C:0,$2E:function(){var s=null,f=null,i=null,h=-1,u=!0,o=!0,n=Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$CE(),c=!1,r,t,e,l,w,b,k;if($0.$0(n)||$0.$0(n.ui)||$0.$0(n.ui.$2)||(r=n.ui.$2,t=r,Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$1po(t)?(f=t.$K.$M.OverriddenEntityId,t.$K.$M.OverriddenEntityName==="email"&&(i="4202",u=!0),Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2BL(t),o=!1,c=!0):$0.$0(t.$K)||$0.$0(t.$K.$8n)||(e=t.$K.$8n,Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$1po(e)?(f=e.$K.$M.OverriddenEntityId,e.$K.$M.OverriddenEntityName==="email"&&(i="4202",u=!0),Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$2BL(e),o=!1):o=!0),!o||$0.$0(r)||$0.$0(r.get_$1B())||(f=r.get_$1B().get_Id(),r.get_$1u()==="appointment"?(i="4201",u=!1):r.get_$1u()==="email"&&(i="4202",u=!0))),$0.$0(n)||(u&&!$0.$0(n.getAttribute("statuscode"))?h=n.getAttribute("statuscode").getValue():u||$0.$0(n.getAttribute("statecode"))||(h=n.getAttribute("statecode").getValue())),l=Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$1vF(h,i),$0.$0(f)||$0.$0(i)||(s=String.format("{0}/activities/attachment/edit.aspx?pId=%7b{1}%7d&pType={2}&ish=true",n.context.getClientUrl(),f,i)),!$0.$0(s)&&(l||c)){var a=0,v=0,y=584,p=213;v=(window.screen.width-y)/2;a=(window.screen.height-p)/2;w=window.open(s,"_blank",String.format("width={0}, height={1}, top={2}, left={3}, menubar=no, toolbar=no",y,p,a,v));c||(b=this,k=function(){!$0.$0(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef)&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef.get_CanExecute()&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef.execute()});this.$1rk();this.$2rr(w)}},$2rr:function(n){var t=this;this.$19C=Microsoft.Crm.Client.Core.Framework.$22.$2zD(this.$N7,"EmailAttachmentTimer",function(){n.closed&&(t.$1rk(),!$0.$0(Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef)&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef.get_CanExecute()&&Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef.execute())},100)},$1rk:function(){this.$19C&&(this.$19C=Microsoft.Crm.Client.Core.Framework.$22.$2NZ(this.$19C))}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Commands");Microsoft.Crm.Client.Core.ViewModels.Commands.$A7=function(n){this.$$d_$1hq=Function.createDelegate(this,this.$1hq);Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.initializeBase(this);this.$15H=n};Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.CommandFactory.$1C("LookupFieldClickCommand",Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.$n)};Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.$n=function(n,t){var u=!$0.$0(n)&&Microsoft.Crm.Client.Core.ViewModels.NavigationButtonViewModel.isInstanceOfType(n),f=!$0.$0(t),i,r;return!u||!f?null:(i=n,r=new Microsoft.Crm.Client.Core.ViewModels.Commands.$A7(i),new Microsoft.Crm.Client.Core.Framework.Binding.$RG(r.$$d_$1hq,163))};Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.prototype={$15H:null,$1hq:function(){for(var i=this.$15H,n=this.$15H,r,t;n;){if(Microsoft.Crm.Client.Core.ViewModels.$Ak.isInstanceOfType(n))break;n=n.$2.$5Q(n)}r=n.$H.HorizontalTabs;t={};t.uniqueid=i.get_$2zW();t.title=i.get_Text();r.openQuickviewForm(i.get_Data().LogicalName,t)},$Oh:function(){this.$15H=null;Microsoft.Crm.Client.Core.Framework.Binding.$2z.prototype.$Oh.call(this)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.prototype={individual:0,aggregated:1,global:2};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U.registerEnum("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$1U",!1);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h=function(n,t,i,r){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h.initializeBase(this,[n]);this.$Dy=t;this.$Pg=i;$0.$0(r)||(this.$JO=r)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h.prototype={$Dy:null,$JO:null,$Pg:null};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52=function(n,t,i,r,u){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52.initializeBase(this,[n]);this.$EA=t;this.$ez=i;this.$6C=r;this.$1Jd=$0.$0(u)?!1:u};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52.prototype={$6C:null,$H8:null,$EA:0,$ez:0,$1Jd:!1,get_FilterExpression:function(){return this.$6C},get_FilterExpressionByEntity:function(){return this.$H8},set_FilterExpressionByEntity:function(n){return this.$H8=n,n},get_FilterEventType:function(){return this.$ez},get_Filtertype:function(){return this.$EA},get_IsGlobalDateRangeFilter:function(){return this.$1Jd}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82=function(n){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82.initializeBase(this,[n])};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il=function(n){this.$q=n};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il.prototype={$q:null,get_SourceId:function(){return this.$q},set_SourceId:function(n){return this.$q=n,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l=function(n,t){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l.initializeBase(this,[n]);this.$LF=t};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l.prototype={$LF:null};Type.registerNamespace("Microsoft.Crm.Client.Core.ICViewModels");Microsoft.Crm.Client.Core.ICViewModels.$QZ=function(){Microsoft.Crm.Client.Core.ICViewModels.$QZ.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$QZ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$40.$8t=new Microsoft.Crm.Client.Core.ICViewModels.$QZ};Microsoft.Crm.Client.Core.ICViewModels.$QZ.prototype={$1st:function(n){return Microsoft.Crm.Client.Core.Framework.$6.get_$f()?new Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel(n):Microsoft.Crm.Client.Core.ViewModels.$Mk.prototype.$1st.call(this,n)}};Microsoft.Crm.Client.Core.ICViewModels.$NG=function(){Microsoft.Crm.Client.Core.ICViewModels.$NG.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$NG.$$cctor=function(){Microsoft.Crm.Client.Core.Commands.$3B.$8t=new Microsoft.Crm.Client.Core.ICViewModels.$NG};Microsoft.Crm.Client.Core.ICViewModels.$NG.prototype={$1Zd:function(n,t,i,r,u){var s,v,h,y,c,l,a,w;if(Microsoft.Crm.Client.Core.ViewModels.$Ag.isInstanceOfType(r)){var e=null,f=null,o=null;if(o=r,s=o.$Ei,s.get_Count())f=s.get_$R(0),e=Xrm.Internal.getEntityName(f.TypeCode);else return null;switch(n.ParameterType){case 18:case 19:case 20:case 21:return n.Value;case 14:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Ua;case 15:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$1I.$Di;case 16:return Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$E().$2U.$DC;case 1:return f.TypeCode;case 2:return Xrm.Internal.getEntityName(f.TypeCode);case 3:return[f.Id];case 4:return f.Id;case 7:return e?Xrm.Internal.getEntityCode(e):null;case 8:return e?e:null;case 11:case 22:return f?1:0;case 25:return 0;case 28:return 0;case 9:case 23:case 29:case 26:case 24:case 30:case 27:if(v=!0,(n.ParameterType===9||n.ParameterType===23||n.ParameterType===29||n.ParameterType===26)&&(v=!1),h=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),y=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Mscrm.EntityReference)),o&&(n.ParameterType===9||n.ParameterType===23||n.ParameterType===24)&&f)for(var b=s.toArray(),k=b.length,p=0;p<k;++p)c=b[p],h.add(c.Id),l=new Mscrm.EntityReference,l.Id=c.Id,l.TypeCode=c.TypeCode,y.add(l);return t===1?Microsoft.Crm.Client.Core.Commands.$3B.$1sa(h):v?y.toArray():h.toArray();case 10:return f?(a=new Mscrm.EntityReference,a.Id=f.Id,a.TypeCode=f.TypeCode,a):null;case 5:case 12:return o.$xo;case 6:case 13:return null;case 17:return Microsoft.Crm.Client.Core.ViewModels.$Af.isInstanceOfType(u)?(w={},w.SourceControlId=u.$M.CommandId,w):null;case 0:default:return null}}else return Microsoft.Crm.Client.Core.Commands.$3B.prototype.$1Zd.call(this,n,t,i,r,u)}};Microsoft.Crm.Client.Core.ICViewModels.$NH=function(){Microsoft.Crm.Client.Core.ICViewModels.$NH.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$NH.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$3W.$8t=new Microsoft.Crm.Client.Core.ICViewModels.$NH};Microsoft.Crm.Client.Core.ICViewModels.$NH.prototype={$1MT:function(n,t,i,r,u,f){if(!Microsoft.Crm.Client.Core.Framework.$6.get_$f()||"shouldOpenQuickCreate"in i&&n!=="email")Microsoft.Crm.Client.Core.ViewModels.$3W.prototype.$1MT.call(this,n,t,i,r,u,f);else{var e=new Microsoft.Crm.Client.Core.Commands.OpenInteractionCentricCreateFormCommand(null,n,40,t);!$0.$0(i)&&"RefreshContext"in i&&Microsoft.Crm.Client.Core.ViewModels.$74.isInstanceOfType(i.RefreshContext)&&(i.RefreshContext.$d8=!0);e.$8e=i;e.$J2=f;$0.$0(r)||(e.$J=r);$0.$0(u)||(e.$1b=u);e.execute();e.dispose()}},$2Ck:function(n,t){if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.isInstanceOfType(t)){var i=t;switch(n){case"saveandclose":i.$1so();break;default:i.$2QZ()}}else Microsoft.Crm.Client.Core.ViewModels.$3W.prototype.$2Ck.call(this,n,t)},$3Ap:function(n,t){(Microsoft.Crm.Client.Core.ViewModels.$74.isInstanceOfType(n)||Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridHeaderControlViewModel.isInstanceOfType(n))&&(t.shouldOpenQuickCreate=!0)}};Microsoft.Crm.Client.Core.ICViewModels.$NJ=function(){Microsoft.Crm.Client.Core.ICViewModels.$NJ.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$NJ.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$51.$8t=new Microsoft.Crm.Client.Core.ICViewModels.$NJ};Microsoft.Crm.Client.Core.ICViewModels.$NJ.prototype={$22O:function(n,t,i,r,u,f){var e,o,s,h;if(Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.isInstanceOfType(r)){if(e=r,e.$6i===1)return o=MscrmComponents.DeferredPromiseFactory(Boolean,Microsoft.Crm.Client.Core.Framework.$7),e.$2QY(o),s=this,h=this,o.then(function(o){o?(e.$6i=0,Microsoft.Crm.Client.Core.Commands.WebResourceCommand.$1Zl(n,t,i,r,u,f)):f.resolve(!1)},function(){f.resolve(!1)}),!1;if(e.$6i===2||!e.$6i)return!0}return Microsoft.Crm.Client.Core.ViewModels.$51.prototype.$22O.call(this,n,t,i,r,u,f)}};Microsoft.Crm.Client.Core.ICViewModels.$NI=function(){Microsoft.Crm.Client.Core.ICViewModels.$NI.initializeBase(this)};Microsoft.Crm.Client.Core.ICViewModels.$NI.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$55.$8t=new Microsoft.Crm.Client.Core.ICViewModels.$NI};Microsoft.Crm.Client.Core.ICViewModels.$NI.prototype={$1tV:function(n,t,i,r){if(Microsoft.Crm.Client.Core.Framework.$6.get_$f()){var f=r,u=f.get_$Aa();return new Microsoft.Crm.Client.Core.Storage.DataApi.$2p(n,t,i,u.$1ez(u.$1BT))}return Microsoft.Crm.Client.Core.ViewModels.$55.prototype.$1tV.call(this,n,t,i,r)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q=function(){this.$8H=new Microsoft.Crm.Client.Core.ViewModels.$Cv;this.$1KT={};this.$tR={};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$S("InteractionCentricCommunicationCardViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q.prototype={$ed:null,$JF:"",$Kv:"",$Kw:"",$VP:"",$VQ:"",$h2:null,$Gk:null,$Gl:null,$1vX:null,$JU:null,get_ActionProvider:function(){return this.$JU},set_ActionProvider:function(n){return this.$JU=n,n},$LA:!1,get_SetActionable:function(){return this.$LA},set_SetActionable:function(n){return this.$LA=n,n},$iv:!1,get_Rerender:function(){return this.$iv},set_Rerender:function(n){return this.$iv=n,n},$ma:function(n,t,i,r){var u,f;return Xrm.Objects.EntityReference.isInstanceOfType(n.GetValue(i))?(f=n.GetValue(i),u=f.Name||t,this.$1KT[r]=f.Id.toString(),this.$tR[r]=f.LogicalName):Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$1x.isInstanceOfType(n.GetValue(i))?(u=n.GetValue(i).$1G,u=u||t):(u=n.GetValue(i),u=u||t),u},$yJ:null,get_FieldNamesList:function(){return this.$yJ},set_FieldNamesList:function(n){return this.$yJ=n,n},$19S:null,get_AttributesToFetch:function(){return this.$19S},set_AttributesToFetch:function(n){return this.$19S=n,n},$6J:null,get_EntityName:function(){return this.$6J},set_EntityName:function(n){return this.$6J=n,n},$Bj:null,get_RecordId:function(){return this.$Bj},set_RecordId:function(n){return this.$Bj=n,n},get_Text1:function(){return this.$JF},set_Text1:function(n){return this.$JF!==n&&(this.$JF=n),n},get_Text2:function(){return this.$Kv},set_Text2:function(n){return this.$Kv!==n&&(this.$Kv=n),n},get_Text3:function(){return this.$Kw},set_Text3:function(n){return this.$Kw!==n&&(this.$Kw=n),n},get_Text4:function(){return this.$VP},set_Text4:function(n){return this.$VP!==n&&(this.$VP=n),n},get_Text5:function(){return this.$VQ},set_Text5:function(n){return this.$VQ!==n&&(this.$VQ=n),n},get_EmailAddress:function(){return this.$ed},set_EmailAddress:function(n){return this.$ed!==n&&(this.$ed=n),n},get_PhoneNumber:function(){return this.$h2},set_PhoneNumber:function(n){return this.$h2!==n&&(this.$h2=n),n},IsLink:function(n){return $0.$0(this.$tR[n])?!1:!0},get_ImageViewModel:function(){return this.$8H},set_ImageViewModel:function(n){return this.$8H!==n&&($0.$0(this.$8H)||(this.$8H.dispose(),this.$8H=null),this.$8H=n),n},get_Button1ViewModel:function(){return this.$Gk},set_Button1ViewModel:function(n){return this.$Gk!==n&&($0.$0(this.$Gk)||(this.$Gk.dispose(),this.$Gk=null),this.$Gk=n),n},get_Button2ViewModel:function(){return this.$Gl},set_Button2ViewModel:function(n){return this.$Gl!==n&&($0.$0(this.$Gl)||(this.$Gl.dispose(),this.$Gl=null),this.$Gl=n),n},$2Z:function(){this.$1a||(Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$2Z.call(this),this.$LA=!0,this.fetchData())},fetchData:function(){var n;try{if(!$0.$0(this.$JU)&&!Microsoft.Crm.Client.Core.Framework.$3.$12(this.$6J)&&!$0.$0(this.$Bj)){var t=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(this.$6J),i=t.$4Y,r="<fetch mapping='logical' version='1.0'><entity name='"+this.$6J+"'>"+this.$19S+"<filter><condition attribute='"+i+"' operator='eq' value='"+this.$Bj.Id.toString()+"' /><\/filter><\/entity><\/fetch>";this.$1V=r;this.set_DefinitionId(this.get_ViewModelId());this.$2O=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.$17.$8v(this.$1V);n=this.$JU.$56();Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel.get_instance().get_$2L().$2C(n)}}catch(u){this.$1vX=u.stack.toString()}},$3d:function(n){for(var r,u,s,f,t=this.$yJ,h=n.get_$9o().$1mk(),i,o=h,c=o.length,e=0;e<c;++e)if(r=o[e],Microsoft.Crm.Client.Core.Framework.$3.$12(t[3])||(i=this.$ma(r,"",t[3],"Text1"),this.set_Text1(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$12(t[4])||(i=this.$ma(r,"",t[4],"Text2"),this.set_Text2(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$12(t[5])||(i=this.$ma(r,"",t[5],"Text3"),this.set_Text3(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$12(t[6])||(i=this.$ma(r,"",t[6],"Text4"),this.set_Text4(i.toString())),Microsoft.Crm.Client.Core.Framework.$3.$12(t[7])||(i=this.$ma(r,"",t[7],"Text5"),this.set_Text5(i.toString())),this.$8H.set_Data(Microsoft.Crm.Client.Core.Framework.$3.$12(r.GetValue(t[0]))?"/_imgs/NavBar/EmptyUserImage.png":r.GetValue(t[0])),this.set_EmailAddress(r.GetValue(t[1])),u=t[2].split(","),u.length>1){for(f=0;f<u.length;f++)if(s=u[f],i=r.GetValue(s),i&&!Microsoft.Crm.Client.Core.Framework.$3.$12(i.toString())){this.set_PhoneNumber(i.toString());break}}else this.set_PhoneNumber(r.GetValue(t[2]));this.$1os();this.$LA&&(this.$LA=!1);this.$7("DataChanged")},$1os:function(){var t=new Microsoft.Crm.Client.Core.ViewModels.$24,h=this.$ed,f={},i,u,l,o,r,s;f.protocol="mailto:";f.target=h;f.CommandName="TileButton1";t.set_Parameters(f);t.$Gi=Microsoft.Crm.Client.Core.Framework.$6.get_$3A();t.set_Command("UrlLauncherCommand");t.set_ImageType("Symbol");t.set_ImageName("NewEmail");Microsoft.Crm.Client.Core.Framework.$3.$12(h)&&(t.$1g.set_CanExecute(!1),t.set_Enabled(!1));this.set_Button1ViewModel(t);var n=new Microsoft.Crm.Client.Core.ViewModels.$24,c=this.$h2,e={};e.target=c;e.CommandName="TileButton2";n.set_Parameters(e);n.$Gi=Microsoft.Crm.Client.Core.Framework.$6.get_$3A();n.set_Command("SkypeUrlLauncherCommand");n.set_ImageType("Symbol");n.set_ImageName("NewPhoneCall");i=n.$1g;Microsoft.Crm.Client.Core.Framework.$3.$12(c)&&(n.$1g.set_CanExecute(!1),n.set_Enabled(!1));$0.$0(this.$Bj)||(u=this.$Bj,l=Microsoft.Crm.Client.Core.Commands.SkypeUrlLauncherCommand.$QK(u.get_$BZ(),u.get_$4m(),this.$Bj.Name),i.$xG=l,o=this.$2,Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel.isInstanceOfType(o)?(r=o.get_ModelContext(),s=Microsoft.Crm.Client.Core.Storage.DataApi.DataSource.$3.get_$W().$i(r.get_ModelName()),$0.$0(r)||$0.$0(s)||(i.$FI=r.get_Id(),i.$hI=r.GetValue(s.$59),i.$Uo=r.get_ModelName())):(i.$FI=u.get_$4m(),i.$hI=this.$Bj.Name,i.$Uo=u.get_$BZ()));this.set_Button2ViewModel(n)},navigateToRecord:function(n){if(this.IsLink(n)){var i=new Xrm.Objects.EntityReference(this.$tR[n].toString(),new Microsoft.Crm.Client.Core.Framework.Guid(this.$1KT[n].toString())),r={EntityReference:i},t=new Microsoft.Crm.Client.Core.Commands.$2R(null,40);try{t.$D=this.$tR[n].toString();t.$x=r;t.execute()}finally{t.dispose()}}else return},$Oh:function(){$0.$0(this.$Gk)||(this.$Gk.dispose(),this.set_Button1ViewModel(null));$0.$0(this.$Gl)||(this.$Gl.dispose(),this.set_Button2ViewModel(null));$0.$0(this.$8H)||(this.$8H.dispose(),this.set_ImageViewModel(null));this.$Bj=null;this.$yJ=null;this.$tR=null;this.$1KT=null;Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel.prototype.$Oh.call(this)}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$$cctor=function(){Microsoft.Crm.Client.Core.ViewModels.$9.get_$6().$1C("RichEntityContentViewModel",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$33R)};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$33R=function(){return new Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel};Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.prototype={$2Z:function(){Microsoft.Crm.Client.Core.ViewModels.$2I.prototype.$2Z.call(this)}};Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricApplicationShellViewModel",Microsoft.Crm.Client.Core.ViewModels.ApplicationShellViewModel);Microsoft.Crm.Client.Core.ViewModels.$8Z.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8Z",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.AssociatedGridViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O);Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.CardFormViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.$Bk.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Bk",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$S3.registerClass("Microsoft.Crm.Client.Core.ViewModels.$S3",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$SS.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SS",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd);Microsoft.Crm.Client.Core.ViewModels.$By.registerClass("Microsoft.Crm.Client.Core.ViewModels.$By",Microsoft.Crm.Client.Core.ViewModels.$SS);Microsoft.Crm.Client.Core.ViewModels.$C2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$C2",Microsoft.Crm.Client.Core.ViewModels.$SK);Microsoft.Crm.Client.Core.ViewModels.$C0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$C0",Microsoft.Crm.Client.Core.ViewModels.$C2);Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$HM.registerClass("Microsoft.Crm.Client.Core.ViewModels.$HM");Microsoft.Crm.Client.Core.ViewModels.$9M.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9M",Microsoft.Crm.Client.Core.ViewModels.Controls.$Bs);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormFooterViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$C1.registerClass("Microsoft.Crm.Client.Core.ViewModels.$C1",Microsoft.Crm.Client.Core.ViewModels.$C2,Microsoft.Crm.Client.Core.ViewModels.$Ek);Microsoft.Crm.Client.Core.ViewModels.$CY.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CY",Microsoft.Crm.Client.Core.ViewModels.EditModeSectionViewModel,Microsoft.Crm.Client.Core.ViewModels.$Ek);Microsoft.Crm.Client.Core.ViewModels.$D0.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D0",Microsoft.Crm.Client.Core.ViewModels.$7G);Microsoft.Crm.Client.Core.ViewModels.$D2.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D2",Microsoft.Crm.Client.Core.ViewModels.$D0);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel",Microsoft.Crm.Client.Core.ViewModels.$D2);Microsoft.Crm.Client.Core.ViewModels.$CZ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$CZ",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListLookupViewModel);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel",Microsoft.Crm.Client.Core.ViewModels.PartyListViewModel);Microsoft.Crm.Client.Core.ViewModels.$6Y.registerClass("Microsoft.Crm.Client.Core.ViewModels.$6Y",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricPartyListViewModel);Microsoft.Crm.Client.Core.ViewModels.$Ca.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ca",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.$Df.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Df",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$Dg.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dg",Microsoft.Crm.Client.Core.ViewModels.$SK,Microsoft.Crm.Client.Core.ViewModels.$Ek);Microsoft.Crm.Client.Core.ViewModels.$E9.registerClass("Microsoft.Crm.Client.Core.ViewModels.$E9",Microsoft.Crm.Client.Core.ViewModels.$Dt,Microsoft.Crm.Client.Core.ViewModels.$Ek);Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.DropdownForGridViewModel",Microsoft.Crm.Client.Core.ViewModels.$S3);Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.GridFlyoutViewModel",Microsoft.Crm.Client.Core.ViewModels.$SS);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridViewModel",Microsoft.Crm.Client.Core.ViewModels.InteractionCentricGridControlViewModel);Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueuePickerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.$Di.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Di",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$2v,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$75);Microsoft.Crm.Client.Core.ViewModels.$9U.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9U",Microsoft.Crm.Client.Core.ViewModels.$Di,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$DC,Microsoft.Crm.Client.Core.ViewModels.$4B);Microsoft.Crm.Client.Core.ViewModels.$Cd.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Cd",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormViewModel",Microsoft.Crm.Client.Core.ViewModels.EditRootViewModel,Microsoft.Crm.Client.Core.ViewModels.$6Z,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc,Microsoft.Crm.Client.Core.ViewModels.$86,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$9d);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricFormBodyViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionCentricLookupListViewModel",Microsoft.Crm.Client.Core.ViewModels.$A8);Microsoft.Crm.Client.Core.ViewModels.$D5.registerClass("Microsoft.Crm.Client.Core.ViewModels.$D5",Microsoft.Crm.Client.Core.ViewModels.$C2);Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionWallEventViewModel",Microsoft.Crm.Client.Core.ViewModels.$4Z);Microsoft.Crm.Client.Core.ViewModels.$HL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$HL");Microsoft.Crm.Client.Core.ViewModels.$SJ.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SJ",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$El);Microsoft.Crm.Client.Core.ViewModels.$5R.registerClass("Microsoft.Crm.Client.Core.ViewModels.$5R");Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile.registerClass("Microsoft.Crm.Client.Core.ViewModels.InteractionWallFile");Microsoft.Crm.Client.Core.ViewModels.$HK.registerClass("Microsoft.Crm.Client.Core.ViewModels.$HK");Microsoft.Crm.Client.Core.ViewModels.$8B.registerClass("Microsoft.Crm.Client.Core.ViewModels.$8B");Microsoft.Crm.Client.Core.ViewModels.$2q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$2q");Microsoft.Crm.Client.Core.ViewModels.$SL.registerClass("Microsoft.Crm.Client.Core.ViewModels.$SL",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$El);Microsoft.Crm.Client.Core.ViewModels.$29.registerClass("Microsoft.Crm.Client.Core.ViewModels.$29",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$El);Microsoft.Crm.Client.Core.ViewModels.$74.registerClass("Microsoft.Crm.Client.Core.ViewModels.$74",Microsoft.Crm.Client.Core.ViewModels.MultilineListViewModel,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Fu);Microsoft.Crm.Client.Core.ViewModels.$9r.registerClass("Microsoft.Crm.Client.Core.ViewModels.$9r",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.$9M);Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.MultiplePieChartViewModel",Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel);Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueueContainerViewModel",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel",Microsoft.Crm.Client.Core.ViewModels.$3R);Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.QueuePanelViewModel",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel);Microsoft.Crm.Client.Core.ViewModels.$Af.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Af",Microsoft.Crm.Client.Core.ViewModels.$7n);Microsoft.Crm.Client.Core.ViewModels.$7Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.$7Q");Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper.registerClass("Microsoft.Crm.Client.Core.ViewModels.QuickActionGridControlWrapper",Microsoft.Crm.Client.Core.ViewModels.GridControlWrapper);Microsoft.Crm.Client.Core.ViewModels.$Ag.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Ag",Microsoft.Crm.Client.Core.ViewModels.$7n,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$5O,Microsoft.Crm.Client.Core.ViewModels.Interfaces.$Cq,Microsoft.Crm.Client.Core.ViewModels.$4B,Microsoft.Crm.Client.Core.Framework.$Gc);Microsoft.Crm.Client.Core.ViewModels.$Dv.registerClass("Microsoft.Crm.Client.Core.ViewModels.$Dv",Microsoft.Crm.Client.Core.ViewModels.$2I);Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.TagFilterViewModel",Microsoft.Crm.Client.Core.ViewModels.VisualFilterViewModel);Microsoft.Crm.Client.Core.ViewModels.$ER.registerClass("Microsoft.Crm.Client.Core.ViewModels.$ER",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.$5Q");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bp.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bp",Microsoft.Crm.Client.Core.ViewModels.$2D);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.InteractionCentricDashboardViewModel",Microsoft.Crm.Client.Core.ViewModels.RootViewModel);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bl.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bl",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$ED);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cb.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Cb",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.$Bd);Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.registerClass("Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.registerClass("Microsoft.Crm.Client.Core.ViewModels.Commands.$A7",Microsoft.Crm.Client.Core.Framework.Binding.$2z);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il");Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7q",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$4h",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$52",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$82",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$7l",Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.Events.$Il);Microsoft.Crm.Client.Core.ICViewModels.$QZ.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$QZ",Microsoft.Crm.Client.Core.ViewModels.$Mk);Microsoft.Crm.Client.Core.ICViewModels.$NG.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$NG",Microsoft.Crm.Client.Core.Commands.$3B);Microsoft.Crm.Client.Core.ICViewModels.$NH.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$NH",Microsoft.Crm.Client.Core.ViewModels.$3W);Microsoft.Crm.Client.Core.ICViewModels.$NJ.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$NJ",Microsoft.Crm.Client.Core.ViewModels.$51);Microsoft.Crm.Client.Core.ICViewModels.$NI.registerClass("Microsoft.Crm.Client.Core.ICViewModels.$NI",Microsoft.Crm.Client.Core.ViewModels.$55);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q",Microsoft.Crm.Client.Core.ViewModels.PagedListViewModel,Microsoft.Crm.Client.Core.ViewModels.$Eb);Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel",Microsoft.Crm.Client.Core.ViewModels.$S1);Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentsListRefreshPropertyName="AttachmentsRefresh";Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentPopupWindowWidth=584;Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.AttachmentPopupWindowHeight=213;Microsoft.Crm.Client.Core.ViewModels.EmailAttachmentViewModel.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Df.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$Dg.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$E9.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$2q.$16h=null;Microsoft.Crm.Client.Core.ViewModels.$2q.$$cctor();Microsoft.Crm.Client.Core.ViewModels.$29.$lA=null;Microsoft.Crm.Client.Core.ViewModels.$29.$fr=0;Microsoft.Crm.Client.Core.ViewModels.QueueItemViewModel.$1e4=!1;Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$ef=null;Microsoft.Crm.Client.Core.Commands.OpenEmailAttachmentPopupCommand.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Commands.$A7.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$QZ.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$NG.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$NH.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$NJ.$$cctor();Microsoft.Crm.Client.Core.ICViewModels.$NI.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.CommunicationCard.$9q.$$cctor();Microsoft.Crm.Client.Core.ViewModels.Controls.InteractionCentric.RichEntityContent.RichEntityContentViewModel.$$cctor()
//# sourceMappingURL=../../../../../../../../../../Symbols/retail/amd64/jsmin/Microsoft.Crm.Client.Core.ICViewModels.js.srcmap
